import{c as O,r as n,g as Qe,p as He,j as e,L as Le,C as Me,a as ze,S as J,Z as De,b as Ue,X as Je,M as ie,T as Ie,P as _e}from"./index-BETIO4Bd.js";import{Z as $e}from"./zoom-out-DBkQHJnT.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=O("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=O("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=O("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);He.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function at({pdfUrl:D,targetPage:I,marker:c,onCapture:_,onEditMarker:q,onDeleteMarker:A,onAddMarker:ee,preloadedPDF:te,preloadedText:oe}){var Fe;const $=n.useRef(null),x=n.useRef(null),se=n.useRef(null),ue=n.useRef(null),T=n.useRef(null),E=n.useRef(!1),R=typeof window<"u"&&(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window||navigator.maxTouchPoints>0),[w,he]=n.useState(null),[o,b]=n.useState(1),[p,de]=n.useState(0),[g,ne]=n.useState(R?.5:1),[ae,V]=n.useState(!0),[xe,ge]=n.useState(null),[k,K]=n.useState(!1),[me,fe]=n.useState(""),[re,pe]=n.useState(!1),Z=n.useRef(null),ye=n.useRef(R?.5:1),[y,be]=n.useState(""),[d,G]=n.useState([]),[N,F]=n.useState(-1),[Q,we]=n.useState(!1),[S,Y]=n.useState(!1),[le,X]=n.useState([]),[U,je]=n.useState(new Map),B=n.useRef(null);n.useEffect(()=>{if(!D)return;const t=Qe();if(te||t&&t.url===D){const a=te||t.pdf,l=oe||(t==null?void 0:t.textContent);console.log("[PDFViewer] Usando PDF precargado âš¡"),he(a),de(a.numPages),l&&l.size>0?je(l):Ne(a),V(!1);return}V(!0),ge(null),He.getDocument(D).promise.then(a=>{he(a),de(a.numPages),V(!1),Ne(a)}).catch(a=>{console.error("Error al cargar PDF:",a),ge("No se pudo cargar el manual PDF"),V(!1)})},[D,te,oe]);const Ne=async t=>{const s=new Map;for(let a=1;a<=t.numPages;a++)try{const h=(await(await t.getPage(a)).getTextContent()).items.filter(r=>"str"in r&&"transform"in r).map(r=>({str:r.str,transform:r.transform}));let i="",m=-1;for(const r of h){const f=r.transform[4];m!==-1&&f-m>10&&(i+=" "),i+=r.str,m=f+r.str.length*5}s.set(a,{text:i,items:h})}catch(l){console.error(`Error cargando texto de pÃ¡gina ${a}:`,l)}je(s)};n.useEffect(()=>{const t=s=>{(s.ctrlKey||s.metaKey)&&s.key==="f"&&(s.preventDefault(),Y(!0)),s.key==="Escape"&&S&&Y(!1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[S]),n.useEffect(()=>{if(!ae&&w&&I&&I>0&&p>0&&I<=p){const t=setTimeout(()=>{b(I)},100);return()=>clearTimeout(t)}},[ae,w,I,p]);const L=n.useRef(null),ve=n.useRef(0),ce=n.useCallback(async t=>{!w||!$.current||(L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{var s,a;if(!(E.current&&ve.current===t)){if(T.current){try{T.current.cancel(),await new Promise(l=>setTimeout(l,50))}catch{}T.current=null}if(E.current){L.current=setTimeout(()=>ce(t),100);return}E.current=!0,ve.current=t;try{const l=await w.getPage(t),u=$.current;if(!u){E.current=!1;return}const h=u.getContext("2d");if(!h){E.current=!1;return}const i=l.getViewport({scale:g});h.clearRect(0,0,u.width,u.height),u.height=i.height,u.width=i.width,x.current&&(x.current.height=i.height,x.current.width=i.width);const m=l.render({canvasContext:h,viewport:i});if(T.current=m,await m.promise,c&&c.pagina===t&&c.coordenadas&&x.current){const r=x.current.getContext("2d");if(r){r.clearRect(0,0,x.current.width,x.current.height);const{x:f,y:v,width:C,height:j}=c.coordenadas,H=f<=1&&v<=1&&C<=1&&j<=1;let P,W,M,z;if(H?(P=f*i.width,W=v*i.height,M=C*i.width,z=j*i.height):(P=f*g,W=v*g,M=C*g,z=j*g),r.fillStyle=c.color||"rgba(239, 68, 68, 0.4)",c.forma==="circulo"){const Ze=P+M/2,Ge=W+z/2;r.beginPath(),r.ellipse(Ze,Ge,M/2,z/2,0,0,2*Math.PI),r.fill(),c.sinBorde||(r.strokeStyle=((s=c.color)==null?void 0:s.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.stroke())}else r.fillRect(P,W,M,z),c.sinBorde||(r.strokeStyle=((a=c.color)==null?void 0:a.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.strokeRect(P,W,M,z))}}else if(x.current){const r=x.current.getContext("2d");r&&r.clearRect(0,0,x.current.width,x.current.height)}T.current=null}catch(l){if(l&&typeof l=="object"&&"name"in l&&l.name==="RenderingCancelledException")return}finally{E.current=!1}}},30))},[w,g,c]);n.useEffect(()=>{ce(o)},[o,ce]),n.useEffect(()=>()=>{if(L.current&&clearTimeout(L.current),T.current)try{T.current.cancel()}catch{}},[]),n.useEffect(()=>{const t=ue.current;if(!t||!w)return;let s=null,a=0;const l=100,u=h=>{const i=t.scrollHeight>t.clientHeight,m=t.scrollTop<=0,r=t.scrollTop+t.clientHeight>=t.scrollHeight-5;i&&!m&&!r||(m&&h.deltaY<0&&o>1?(h.preventDefault(),a+=Math.abs(h.deltaY),a>=l&&(b(f=>f-1),a=0,setTimeout(()=>{t&&(t.scrollTop=t.scrollHeight)},100))):r&&h.deltaY>0&&o<p&&(h.preventDefault(),a+=Math.abs(h.deltaY),a>=l&&(b(f=>f+1),a=0,setTimeout(()=>{t&&(t.scrollTop=0)},100))),s&&clearTimeout(s),s=setTimeout(()=>{a=0},200))};return t.addEventListener("wheel",u,{passive:!1}),()=>{t.removeEventListener("wheel",u),s&&clearTimeout(s)}},[w,o,p]);const Ce=()=>{o>1&&b(t=>t-1)},Te=()=>{o<p&&b(t=>t+1)},Re=()=>ne(t=>Math.min(t+.25,3)),Se=()=>ne(t=>Math.max(t-.25,.25)),We=n.useCallback(t=>{if(t.touches.length===2){const s=t.touches[0],a=t.touches[1],l=Math.hypot(a.clientX-s.clientX,a.clientY-s.clientY);Z.current=l,ye.current=g}},[g]),Oe=n.useCallback(t=>{if(t.touches.length===2&&Z.current!==null){t.preventDefault();const s=t.touches[0],a=t.touches[1],u=Math.hypot(a.clientX-s.clientX,a.clientY-s.clientY)/Z.current,h=Math.min(Math.max(ye.current*u,.25),3);ne(h)}},[]),qe=n.useCallback(()=>{Z.current=null},[]),Pe=()=>{const t=parseInt(me);!isNaN(t)&&t>=1&&t<=p&&(b(t),fe(""))},Ee=n.useCallback(t=>{if(!t.trim()||t.length<1){G([]),F(-1),X([]);return}we(!0);const s=[],a=t.toLowerCase().trim(),l=a.replace(/\s+/g,"");U.forEach((u,h)=>{const i=u.text.toLowerCase(),m=i.replace(/\s+/g,"");let r=!1,f=0;if(i.includes(a)&&(r=!0,f=(i.match(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),!r&&l.length>=2&&m.includes(l)&&(r=!0,f=(m.match(new RegExp(l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),r){const v=i.indexOf(a)!==-1?i.indexOf(a):m.indexOf(l),C=Math.max(0,v-30),j=Math.min(u.text.length,v+t.length+30),H=(C>0?"...":"")+u.text.substring(C,j)+(j<u.text.length?"...":"");s.push({pageNum:h,text:H,matches:f})}}),s.sort((u,h)=>h.matches-u.matches),G(s),F(s.length>0?0:-1),we(!1),s.length>0&&b(s[0].pageNum)},[U]);n.useEffect(()=>(B.current&&clearTimeout(B.current),y.length>=1?B.current=setTimeout(()=>{Ee(y)},150):(G([]),X([])),()=>{B.current&&clearTimeout(B.current)}),[y,Ee]),n.useEffect(()=>{if(!x.current||!w||!y.trim()){X([]);return}(async()=>{if(!U.get(o))return;const a=await w.getPage(o),l=a.getViewport({scale:g}),u=await a.getTextContent(),h=y.toLowerCase().trim(),i=[];u.items.forEach(m=>{if(!("str"in m)||!("transform"in m))return;const r=m;if(r.str.toLowerCase().includes(h)){const[,,,,f,v]=r.transform,C=r.width||r.str.length*8,j=r.height||12,H=f*g,P=l.height-v*g-j*g;i.push({x:H,y:P,width:C*g,height:j*g*1.2})}}),X(i)})()},[o,y,w,g,U]),n.useEffect(()=>{if(!x.current)return;const t=x.current.getContext("2d");t&&((!c||c.pagina!==o)&&t.clearRect(0,0,x.current.width,x.current.height),le.length>0&&(t.fillStyle="rgba(255, 255, 0, 0.4)",t.strokeStyle="rgba(255, 200, 0, 0.8)",t.lineWidth=2,le.forEach(s=>{t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height)})))},[le,c,o]);const Ae=()=>{if(d.length===0)return;const t=(N+1)%d.length;F(t),b(d[t].pageNum)},Ve=()=>{if(d.length===0)return;const t=N<=0?d.length-1:N-1;F(t),b(d[t].pageNum)},Ke=()=>{if(!$.current||!_)return;const t=$.current.toDataURL("image/png");_(t,o),pe(!1)},ke=()=>{if(R)K(t=>!t);else{if(!se.current)return;if(document.fullscreenElement){const t=document;t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen(),K(!1)}else{const t=se.current;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),K(!0)}}};return n.useEffect(()=>{const t=()=>{R||K(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}},[R]),D?ae?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100",children:[e.jsx(Le,{className:"w-8 h-8 text-primary-600 animate-spin mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Cargando manual..."})]}):xe?e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-red-500",children:e.jsx("p",{children:xe})}):e.jsxs("div",{ref:se,className:`h-full flex flex-col bg-gray-800 ${k&&R?"fixed inset-0 z-[9999] w-screen h-screen":""}`,children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 py-2 bg-gray-900 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ce,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm",children:[o," / ",p]}),e.jsx("button",{onClick:Te,disabled:o>=p,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:me,onChange:t=>fe(t.target.value),onKeyDown:t=>t.key==="Enter"&&Pe(),placeholder:"PÃ¡g.",className:"w-16 px-2 py-1 text-sm bg-gray-700 rounded border border-gray-600 text-white placeholder-gray-400",min:"1",max:p}),e.jsx("button",{onClick:Pe,className:"p-2 rounded hover:bg-gray-700",title:"Ir a pÃ¡gina",children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Se,className:"p-2 rounded hover:bg-gray-700",title:"Alejar",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm w-12 text-center",children:[Math.round(g*100),"%"]}),e.jsx("button",{onClick:Re,className:"p-2 rounded hover:bg-gray-700",title:"Acercar",children:e.jsx(De,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),e.jsx("button",{onClick:()=>Y(!S),className:`p-2 rounded transition-colors ${S?"bg-primary-600":"hover:bg-gray-700"}`,title:"Buscar texto en PDF (Ctrl+F)",children:e.jsx(J,{className:"w-5 h-5"})}),_&&e.jsx("button",{onClick:()=>pe(!re),className:`p-2 rounded transition-colors ${re?"bg-primary-600":"hover:bg-gray-700"}`,title:"Capturar imagen",children:e.jsx(Ue,{className:"w-5 h-5"})}),e.jsx("button",{onClick:ke,className:"p-2 rounded hover:bg-gray-700",title:k?"Salir de pantalla completa":"Pantalla completa",children:k?e.jsx(Xe,{className:"w-5 h-5"}):e.jsx(Ye,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"lg:hidden flex flex-col bg-gray-900 text-white",children:e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Ce,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm font-medium px-2",children:[o," / ",p]}),e.jsx("button",{onClick:Te,disabled:o>=p,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Se,className:"p-2 rounded hover:bg-gray-700",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(g*100),"%"]}),e.jsx("button",{onClick:Re,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(De,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),e.jsx("button",{onClick:()=>Y(!S),className:`p-2 rounded transition-colors ${S?"bg-primary-600 text-white":"hover:bg-gray-700"}`,title:"Buscar en PDF",children:e.jsx(J,{className:"w-5 h-5"})}),e.jsx("button",{onClick:ke,className:`p-2.5 rounded-lg transition-colors ${k?"bg-primary-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,title:k?"Salir":"Pantalla completa",children:k?e.jsx(Xe,{className:"w-5 h-5"}):e.jsx(Ye,{className:"w-5 h-5"})})]})]})}),S&&e.jsxs("div",{className:"px-4 py-3 bg-gray-800 border-b border-gray-700 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:y,onChange:t=>be(t.target.value),placeholder:"Buscar en el PDF... (ej: 200, 1-0201, Baader)",className:"w-full pl-10 pr-4 py-2.5 text-sm bg-gray-700 rounded-l-lg border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0}),Q&&e.jsx(Le,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400 animate-spin"})]}),y&&!Q&&e.jsx("div",{className:`px-3 py-2.5 text-sm border-y border-gray-600 ${d.length>0?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:d.length>0?`${d.length} pÃ¡g${d.length>1?"s":""}`:"0"}),d.length>0&&e.jsxs("div",{className:"flex border border-gray-600 border-l-0 rounded-r-lg overflow-hidden",children:[e.jsx("button",{onClick:Ve,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white border-r border-gray-600",title:"Anterior (â†‘)",children:e.jsx(tt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Ae,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white",title:"Siguiente (â†“)",children:e.jsx(et,{className:"w-4 h-4"})})]}),!d.length&&y&&!Q&&e.jsx("div",{className:"px-3 py-2.5 bg-gray-700 rounded-r-lg border border-l-0 border-gray-600",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"})})]}),y&&d.length>0&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("span",{children:["ðŸ“„ ",d.length," pÃ¡gina",d.length>1?"s":""," con resultados"]}),e.jsx("span",{className:"text-yellow-400",children:"ðŸ” Resaltado activo"})]}),d.map((t,s)=>e.jsxs("button",{onClick:()=>{F(s),b(t.pageNum)},className:`w-full text-left px-3 py-2 text-sm border-b border-gray-700 last:border-b-0 transition-colors ${s===N?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:["PÃ¡gina ",t.pageNum]}),t.matches>1&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${s===N?"bg-primary-700":"bg-gray-600"}`,children:[t.matches," coincidencias"]})]}),e.jsx("p",{className:"text-xs mt-1 opacity-70 truncate",children:t.text})]},`${t.pageNum}-${s}`))]}),y&&d.length===0&&!Q&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 p-4 text-center",children:[e.jsxs("p",{className:"text-yellow-400 text-sm",children:['âš ï¸ No se encontrÃ³ "',y,'"']}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Prueba con otro tÃ©rmino o revisa la ortografÃ­a"})]})]}),e.jsx("button",{onClick:()=>{Y(!1),be(""),G([]),F(-1),X([])},className:"p-2 text-gray-400 hover:text-white rounded hover:bg-gray-700",title:"Cerrar bÃºsqueda (Esc)",children:e.jsx(Je,{className:"w-5 h-5"})})]}),d.length>0&&N>=0&&e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-400",children:["Resultado ",N+1," de ",d.length," â€¢ PÃ¡gina ",(Fe=d[N])==null?void 0:Fe.pageNum]}),e.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-400/40 border border-yellow-500 rounded-sm"}),"Texto resaltado en amarillo"]})]})]}),re&&e.jsxs("div",{className:"px-4 py-2 bg-primary-600 text-white text-sm flex items-center justify-between",children:[e.jsx("span",{children:"Modo captura activo - La pÃ¡gina actual serÃ¡ capturada como imagen"}),e.jsxs("button",{onClick:Ke,className:"px-4 py-1 bg-white text-primary-600 rounded font-medium hover:bg-gray-100",children:["Capturar pÃ¡gina ",o]})]}),(c||ee)&&e.jsx("div",{className:"px-4 py-2 bg-gray-700 text-white text-sm flex items-center justify-between",children:c&&c.pagina===o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-green-400 font-medium",children:"Marcador en esta pÃ¡gina"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[q&&e.jsxs("button",{onClick:()=>q(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"}),"Editar"]}),A&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&A(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Eliminar"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400",children:["Marcador en pÃ¡gina ",c.pagina]}),e.jsx("button",{onClick:()=>b(c.pagina),className:"px-2 py-0.5 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700",children:"Ir al marcador"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[q&&e.jsxs("button",{onClick:()=>q(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Be,{className:"w-3 h-3"}),"Editar"]}),A&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&A(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Eliminar"]})]})]}):ee?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:"Sin marcador"})]}),e.jsxs("button",{onClick:ee,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3"}),"Agregar marcador"]})]}):null}),e.jsx("div",{ref:ue,className:"flex-1 overflow-auto pdf-container flex items-start justify-center p-4 touch-pan-x touch-pan-y",onTouchStart:We,onTouchMove:Oe,onTouchEnd:qe,style:{touchAction:"pan-x pan-y"},children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:$,className:"pdf-page bg-white shadow-lg",style:{maxWidth:"100%"}}),e.jsx("canvas",{ref:x,className:"absolute top-0 left-0 pointer-events-none"})]})}),e.jsx("div",{className:"px-4 py-1 bg-gray-900 text-gray-400 text-xs text-center",children:R?e.jsx("span",{children:"ðŸ“± Pellizca para zoom â€¢ Desliza para navegar"}):e.jsx("span",{children:"ðŸ’¡ Usa la rueda del ratÃ³n para navegar entre pÃ¡ginas"})})]}):e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-gray-500",children:e.jsx("p",{children:"Selecciona un repuesto para ver el manual"})})}export{at as PDFViewer};
