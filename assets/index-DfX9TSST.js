const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PDFViewer-Cr7H0D_X.js","assets/zoom-out-DKs-6VKR.js","assets/PDFMarkerEditor-DCjrxmL0.js"])))=>i.map(i=>d[i]);
var _v=Object.defineProperty;var ty=er=>{throw TypeError(er)};var xv=(er,e,tr)=>e in er?_v(er,e,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[e]=tr;var ho=(er,e,tr)=>xv(er,typeof e!="symbol"?e+"":e,tr),Km=(er,e,tr)=>e.has(er)||ty("Cannot "+tr);var on=(er,e,tr)=>(Km(er,e,"read from private field"),tr?tr.call(er):e.get(er)),ns=(er,e,tr)=>e.has(er)?ty("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(er):e.set(er,tr),ls=(er,e,tr,rr)=>(Km(er,e,"write to private field"),rr?rr.call(er,tr):e.set(er,tr),tr),Xn=(er,e,tr)=>(Km(er,e,"access private method"),tr);var Dp=(er,e,tr,rr)=>({set _(nr){ls(er,e,nr,tr)},get _(){return on(er,e,rr)}});function _mergeNamespaces(er,e){for(var tr=0;tr<e.length;tr++){const rr=e[tr];if(typeof rr!="string"&&!Array.isArray(rr)){for(const nr in rr)if(nr!=="default"&&!(nr in er)){const ir=Object.getOwnPropertyDescriptor(rr,nr);ir&&Object.defineProperty(er,nr,ir.get?ir:{enumerable:!0,get:()=>rr[nr]})}}}return Object.freeze(Object.defineProperty(er,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const nr of document.querySelectorAll('link[rel="modulepreload"]'))rr(nr);new MutationObserver(nr=>{for(const ir of nr)if(ir.type==="childList")for(const sr of ir.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&rr(sr)}).observe(document,{childList:!0,subtree:!0});function tr(nr){const ir={};return nr.integrity&&(ir.integrity=nr.integrity),nr.referrerPolicy&&(ir.referrerPolicy=nr.referrerPolicy),nr.crossOrigin==="use-credentials"?ir.credentials="include":nr.crossOrigin==="anonymous"?ir.credentials="omit":ir.credentials="same-origin",ir}function rr(nr){if(nr.ep)return;nr.ep=!0;const ir=tr(nr);fetch(nr.href,ir)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(er){return er&&er.__esModule&&Object.prototype.hasOwnProperty.call(er,"default")?er.default:er}function getAugmentedNamespace(er){if(er.__esModule)return er;var e=er.default;if(typeof e=="function"){var tr=function rr(){return this instanceof rr?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};tr.prototype=e.prototype}else tr={};return Object.defineProperty(tr,"__esModule",{value:!0}),Object.keys(er).forEach(function(rr){var nr=Object.getOwnPropertyDescriptor(er,rr);Object.defineProperty(tr,rr,nr.get?nr:{enumerable:!0,get:function(){return er[rr]}})}),tr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(er){return er===null||typeof er!="object"?null:(er=z$2&&er[z$2]||er["@@iterator"],typeof er=="function"?er:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(er,e,tr){this.props=er,this.context=e,this.refs=D$3,this.updater=tr||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(er,e){if(typeof er!="object"&&typeof er!="function"&&er!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,er,e,"setState")};E$2.prototype.forceUpdate=function(er){this.updater.enqueueForceUpdate(this,er,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(er,e,tr){this.props=er,this.context=e,this.refs=D$3,this.updater=tr||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$3(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(er,e,tr){var rr,nr={},ir=null,sr=null;if(e!=null)for(rr in e.ref!==void 0&&(sr=e.ref),e.key!==void 0&&(ir=""+e.key),e)J$1.call(e,rr)&&!L$2.hasOwnProperty(rr)&&(nr[rr]=e[rr]);var or=arguments.length-2;if(or===1)nr.children=tr;else if(1<or){for(var ar=Array(or),lr=0;lr<or;lr++)ar[lr]=arguments[lr+2];nr.children=ar}if(er&&er.defaultProps)for(rr in or=er.defaultProps,or)nr[rr]===void 0&&(nr[rr]=or[rr]);return{$$typeof:l$2,type:er,key:ir,ref:sr,props:nr,_owner:K$2.current}}function N$2(er,e){return{$$typeof:l$2,type:er.type,key:e,ref:er.ref,props:er.props,_owner:er._owner}}function O$3(er){return typeof er=="object"&&er!==null&&er.$$typeof===l$2}function escape$1(er){var e={"=":"=0",":":"=2"};return"$"+er.replace(/[=:]/g,function(tr){return e[tr]})}var P$3=/\/+/g;function Q$2(er,e){return typeof er=="object"&&er!==null&&er.key!=null?escape$1(""+er.key):e.toString(36)}function R$2(er,e,tr,rr,nr){var ir=typeof er;(ir==="undefined"||ir==="boolean")&&(er=null);var sr=!1;if(er===null)sr=!0;else switch(ir){case"string":case"number":sr=!0;break;case"object":switch(er.$$typeof){case l$2:case n$2:sr=!0}}if(sr)return sr=er,nr=nr(sr),er=rr===""?"."+Q$2(sr,0):rr,I$2(nr)?(tr="",er!=null&&(tr=er.replace(P$3,"$&/")+"/"),R$2(nr,e,tr,"",function(lr){return lr})):nr!=null&&(O$3(nr)&&(nr=N$2(nr,tr+(!nr.key||sr&&sr.key===nr.key?"":(""+nr.key).replace(P$3,"$&/")+"/")+er)),e.push(nr)),1;if(sr=0,rr=rr===""?".":rr+":",I$2(er))for(var or=0;or<er.length;or++){ir=er[or];var ar=rr+Q$2(ir,or);sr+=R$2(ir,e,tr,ar,nr)}else if(ar=A$2(er),typeof ar=="function")for(er=ar.call(er),or=0;!(ir=er.next()).done;)ir=ir.value,ar=rr+Q$2(ir,or++),sr+=R$2(ir,e,tr,ar,nr);else if(ir==="object")throw e=String(er),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return sr}function S$3(er,e,tr){if(er==null)return er;var rr=[],nr=0;return R$2(er,rr,"","",function(ir){return e.call(tr,ir,nr++)}),rr}function T$2(er){if(er._status===-1){var e=er._result;e=e(),e.then(function(tr){(er._status===0||er._status===-1)&&(er._status=1,er._result=tr)},function(tr){(er._status===0||er._status===-1)&&(er._status=2,er._result=tr)}),er._status===-1&&(er._status=0,er._result=e)}if(er._status===1)return er._result.default;throw er._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(er,e,tr){S$3(er,function(){e.apply(this,arguments)},tr)},count:function(er){var e=0;return S$3(er,function(){e++}),e},toArray:function(er){return S$3(er,function(e){return e})||[]},only:function(er){if(!O$3(er))throw Error("React.Children.only expected to receive a single React element child.");return er}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(er,e,tr){if(er==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+er+".");var rr=C$3({},er.props),nr=er.key,ir=er.ref,sr=er._owner;if(e!=null){if(e.ref!==void 0&&(ir=e.ref,sr=K$2.current),e.key!==void 0&&(nr=""+e.key),er.type&&er.type.defaultProps)var or=er.type.defaultProps;for(ar in e)J$1.call(e,ar)&&!L$2.hasOwnProperty(ar)&&(rr[ar]=e[ar]===void 0&&or!==void 0?or[ar]:e[ar])}var ar=arguments.length-2;if(ar===1)rr.children=tr;else if(1<ar){or=Array(ar);for(var lr=0;lr<ar;lr++)or[lr]=arguments[lr+2];rr.children=or}return{$$typeof:l$2,type:er.type,key:nr,ref:ir,props:rr,_owner:sr}};react_production_min.createContext=function(er){return er={$$typeof:u$1,_currentValue:er,_currentValue2:er,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},er.Provider={$$typeof:t,_context:er},er.Consumer=er};react_production_min.createElement=M$2;react_production_min.createFactory=function(er){var e=M$2.bind(null,er);return e.type=er,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(er){return{$$typeof:v$3,render:er}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(er){return{$$typeof:y$2,_payload:{_status:-1,_result:er},_init:T$2}};react_production_min.memo=function(er,e){return{$$typeof:x$3,type:er,compare:e===void 0?null:e}};react_production_min.startTransition=function(er){var e=V$2.transition;V$2.transition={};try{er()}finally{V$2.transition=e}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(er,e){return U$2.current.useCallback(er,e)};react_production_min.useContext=function(er){return U$2.current.useContext(er)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(er){return U$2.current.useDeferredValue(er)};react_production_min.useEffect=function(er,e){return U$2.current.useEffect(er,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(er,e,tr){return U$2.current.useImperativeHandle(er,e,tr)};react_production_min.useInsertionEffect=function(er,e){return U$2.current.useInsertionEffect(er,e)};react_production_min.useLayoutEffect=function(er,e){return U$2.current.useLayoutEffect(er,e)};react_production_min.useMemo=function(er,e){return U$2.current.useMemo(er,e)};react_production_min.useReducer=function(er,e,tr){return U$2.current.useReducer(er,e,tr)};react_production_min.useRef=function(er){return U$2.current.useRef(er)};react_production_min.useState=function(er){return U$2.current.useState(er)};react_production_min.useSyncExternalStore=function(er,e,tr){return U$2.current.useSyncExternalStore(er,e,tr)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$3=getDefaultExportFromCjs(reactExports),React$4=_mergeNamespaces({__proto__:null,default:React$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(er,e,tr){var rr,nr={},ir=null,sr=null;tr!==void 0&&(ir=""+tr),e.key!==void 0&&(ir=""+e.key),e.ref!==void 0&&(sr=e.ref);for(rr in e)m$2.call(e,rr)&&!p$2.hasOwnProperty(rr)&&(nr[rr]=e[rr]);if(er&&er.defaultProps)for(rr in e=er.defaultProps,e)nr[rr]===void 0&&(nr[rr]=e[rr]);return{$$typeof:k$2,type:er,key:ir,ref:sr,props:nr,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(er){function e(Er,xr){var Mr=Er.length;Er.push(xr);e:for(;0<Mr;){var zr=Mr-1>>>1,Or=Er[zr];if(0<nr(Or,xr))Er[zr]=xr,Er[Mr]=Or,Mr=zr;else break e}}function tr(Er){return Er.length===0?null:Er[0]}function rr(Er){if(Er.length===0)return null;var xr=Er[0],Mr=Er.pop();if(Mr!==xr){Er[0]=Mr;e:for(var zr=0,Or=Er.length,Br=Or>>>1;zr<Br;){var Ur=2*(zr+1)-1,qr=Er[Ur],Vr=Ur+1,Gr=Er[Vr];if(0>nr(qr,Mr))Vr<Or&&0>nr(Gr,qr)?(Er[zr]=Gr,Er[Vr]=Mr,zr=Vr):(Er[zr]=qr,Er[Ur]=Mr,zr=Ur);else if(Vr<Or&&0>nr(Gr,Mr))Er[zr]=Gr,Er[Vr]=Mr,zr=Vr;else break e}}return xr}function nr(Er,xr){var Mr=Er.sortIndex-xr.sortIndex;return Mr!==0?Mr:Er.id-xr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ir=performance;er.unstable_now=function(){return ir.now()}}else{var sr=Date,or=sr.now();er.unstable_now=function(){return sr.now()-or}}var ar=[],lr=[],cr=1,dr=null,hr=3,ur=!1,pr=!1,mr=!1,fr=typeof setTimeout=="function"?setTimeout:null,gr=typeof clearTimeout=="function"?clearTimeout:null,yr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vr(Er){for(var xr=tr(lr);xr!==null;){if(xr.callback===null)rr(lr);else if(xr.startTime<=Er)rr(lr),xr.sortIndex=xr.expirationTime,e(ar,xr);else break;xr=tr(lr)}}function br(Er){if(mr=!1,vr(Er),!pr)if(tr(ar)!==null)pr=!0,_r(Sr);else{var xr=tr(lr);xr!==null&&wr(br,xr.startTime-Er)}}function Sr(Er,xr){pr=!1,mr&&(mr=!1,gr(Pr),Pr=-1),ur=!0;var Mr=hr;try{for(vr(xr),dr=tr(ar);dr!==null&&(!(dr.expirationTime>xr)||Er&&!Ir());){var zr=dr.callback;if(typeof zr=="function"){dr.callback=null,hr=dr.priorityLevel;var Or=zr(dr.expirationTime<=xr);xr=er.unstable_now(),typeof Or=="function"?dr.callback=Or:dr===tr(ar)&&rr(ar),vr(xr)}else rr(ar);dr=tr(ar)}if(dr!==null)var Br=!0;else{var Ur=tr(lr);Ur!==null&&wr(br,Ur.startTime-xr),Br=!1}return Br}finally{dr=null,hr=Mr,ur=!1}}var jr=!1,Cr=null,Pr=-1,Rr=5,Lr=-1;function Ir(){return!(er.unstable_now()-Lr<Rr)}function Nr(){if(Cr!==null){var Er=er.unstable_now();Lr=Er;var xr=!0;try{xr=Cr(!0,Er)}finally{xr?Ar():(jr=!1,Cr=null)}}else jr=!1}var Ar;if(typeof yr=="function")Ar=function(){yr(Nr)};else if(typeof MessageChannel<"u"){var Dr=new MessageChannel,Tr=Dr.port2;Dr.port1.onmessage=Nr,Ar=function(){Tr.postMessage(null)}}else Ar=function(){fr(Nr,0)};function _r(Er){Cr=Er,jr||(jr=!0,Ar())}function wr(Er,xr){Pr=fr(function(){Er(er.unstable_now())},xr)}er.unstable_IdlePriority=5,er.unstable_ImmediatePriority=1,er.unstable_LowPriority=4,er.unstable_NormalPriority=3,er.unstable_Profiling=null,er.unstable_UserBlockingPriority=2,er.unstable_cancelCallback=function(Er){Er.callback=null},er.unstable_continueExecution=function(){pr||ur||(pr=!0,_r(Sr))},er.unstable_forceFrameRate=function(Er){0>Er||125<Er?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rr=0<Er?Math.floor(1e3/Er):5},er.unstable_getCurrentPriorityLevel=function(){return hr},er.unstable_getFirstCallbackNode=function(){return tr(ar)},er.unstable_next=function(Er){switch(hr){case 1:case 2:case 3:var xr=3;break;default:xr=hr}var Mr=hr;hr=xr;try{return Er()}finally{hr=Mr}},er.unstable_pauseExecution=function(){},er.unstable_requestPaint=function(){},er.unstable_runWithPriority=function(Er,xr){switch(Er){case 1:case 2:case 3:case 4:case 5:break;default:Er=3}var Mr=hr;hr=Er;try{return xr()}finally{hr=Mr}},er.unstable_scheduleCallback=function(Er,xr,Mr){var zr=er.unstable_now();switch(typeof Mr=="object"&&Mr!==null?(Mr=Mr.delay,Mr=typeof Mr=="number"&&0<Mr?zr+Mr:zr):Mr=zr,Er){case 1:var Or=-1;break;case 2:Or=250;break;case 5:Or=1073741823;break;case 4:Or=1e4;break;default:Or=5e3}return Or=Mr+Or,Er={id:cr++,callback:xr,priorityLevel:Er,startTime:Mr,expirationTime:Or,sortIndex:-1},Mr>zr?(Er.sortIndex=Mr,e(lr,Er),tr(ar)===null&&Er===tr(lr)&&(mr?(gr(Pr),Pr=-1):mr=!0,wr(br,Mr-zr))):(Er.sortIndex=Or,e(ar,Er),pr||ur||(pr=!0,_r(Sr))),Er},er.unstable_shouldYield=Ir,er.unstable_wrapCallback=function(Er){var xr=hr;return function(){var Mr=hr;hr=xr;try{return Er.apply(this,arguments)}finally{hr=Mr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(er){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+er,tr=1;tr<arguments.length;tr++)e+="&args[]="+encodeURIComponent(arguments[tr]);return"Minified React error #"+er+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(er,e){ha(er,e),ha(er+"Capture",e)}function ha(er,e){for(ea[er]=e,er=0;er<e.length;er++)da.add(e[er])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(er){return ja.call(ma,er)?!0:ja.call(la,er)?!1:ka$1.test(er)?ma[er]=!0:(la[er]=!0,!1)}function pa(er,e,tr,rr){if(tr!==null&&tr.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return rr?!1:tr!==null?!tr.acceptsBooleans:(er=er.toLowerCase().slice(0,5),er!=="data-"&&er!=="aria-");default:return!1}}function qa(er,e,tr,rr){if(e===null||typeof e>"u"||pa(er,e,tr,rr))return!0;if(rr)return!1;if(tr!==null)switch(tr.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$2(er,e,tr,rr,nr,ir,sr){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=rr,this.attributeNamespace=nr,this.mustUseProperty=tr,this.propertyName=er,this.type=e,this.sanitizeURL=ir,this.removeEmptyString=sr}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(er){z$1[er]=new v$2(er,0,!1,er,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(er){var e=er[0];z$1[e]=new v$2(e,1,!1,er[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(er){z$1[er]=new v$2(er,2,!1,er.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(er){z$1[er]=new v$2(er,2,!1,er,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(er){z$1[er]=new v$2(er,3,!1,er.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(er){z$1[er]=new v$2(er,3,!0,er,null,!1,!1)});["capture","download"].forEach(function(er){z$1[er]=new v$2(er,4,!1,er,null,!1,!1)});["cols","rows","size","span"].forEach(function(er){z$1[er]=new v$2(er,6,!1,er,null,!1,!1)});["rowSpan","start"].forEach(function(er){z$1[er]=new v$2(er,5,!1,er.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(er){return er[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(er){var e=er.replace(ra,sa);z$1[e]=new v$2(e,1,!1,er,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(er){var e=er.replace(ra,sa);z$1[e]=new v$2(e,1,!1,er,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(er){var e=er.replace(ra,sa);z$1[e]=new v$2(e,1,!1,er,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(er){z$1[er]=new v$2(er,1,!1,er.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(er){z$1[er]=new v$2(er,1,!1,er.toLowerCase(),null,!0,!0)});function ta(er,e,tr,rr){var nr=z$1.hasOwnProperty(e)?z$1[e]:null;(nr!==null?nr.type!==0:rr||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,tr,nr,rr)&&(tr=null),rr||nr===null?oa(e)&&(tr===null?er.removeAttribute(e):er.setAttribute(e,""+tr)):nr.mustUseProperty?er[nr.propertyName]=tr===null?nr.type===3?!1:"":tr:(e=nr.attributeName,rr=nr.attributeNamespace,tr===null?er.removeAttribute(e):(nr=nr.type,tr=nr===3||nr===4&&tr===!0?"":""+tr,rr?er.setAttributeNS(rr,e,tr):er.setAttribute(e,tr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(er){return er===null||typeof er!="object"?null:(er=Ja&&er[Ja]||er["@@iterator"],typeof er=="function"?er:null)}var A$1=Object.assign,La;function Ma(er){if(La===void 0)try{throw Error()}catch(tr){var e=tr.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+er}var Na=!1;function Oa(er,e){if(!er||Na)return"";Na=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(lr){var rr=lr}Reflect.construct(er,[],e)}else{try{e.call()}catch(lr){rr=lr}er.call(e.prototype)}else{try{throw Error()}catch(lr){rr=lr}er()}}catch(lr){if(lr&&rr&&typeof lr.stack=="string"){for(var nr=lr.stack.split(`
`),ir=rr.stack.split(`
`),sr=nr.length-1,or=ir.length-1;1<=sr&&0<=or&&nr[sr]!==ir[or];)or--;for(;1<=sr&&0<=or;sr--,or--)if(nr[sr]!==ir[or]){if(sr!==1||or!==1)do if(sr--,or--,0>or||nr[sr]!==ir[or]){var ar=`
`+nr[sr].replace(" at new "," at ");return er.displayName&&ar.includes("<anonymous>")&&(ar=ar.replace("<anonymous>",er.displayName)),ar}while(1<=sr&&0<=or);break}}}finally{Na=!1,Error.prepareStackTrace=tr}return(er=er?er.displayName||er.name:"")?Ma(er):""}function Pa(er){switch(er.tag){case 5:return Ma(er.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return er=Oa(er.type,!1),er;case 11:return er=Oa(er.type.render,!1),er;case 1:return er=Oa(er.type,!0),er;default:return""}}function Qa(er){if(er==null)return null;if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er;switch(er){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof er=="object")switch(er.$$typeof){case Ca:return(er.displayName||"Context")+".Consumer";case Ba:return(er._context.displayName||"Context")+".Provider";case Da:var e=er.render;return er=er.displayName,er||(er=e.displayName||e.name||"",er=er!==""?"ForwardRef("+er+")":"ForwardRef"),er;case Ga:return e=er.displayName||null,e!==null?e:Qa(er.type)||"Memo";case Ha:e=er._payload,er=er._init;try{return Qa(er(e))}catch{}}return null}function Ra(er){var e=er.type;switch(er.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return er=e.render,er=er.displayName||er.name||"",e.displayName||(er!==""?"ForwardRef("+er+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(er){switch(typeof er){case"boolean":case"number":case"string":case"undefined":return er;case"object":return er;default:return""}}function Ta(er){var e=er.type;return(er=er.nodeName)&&er.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(er){var e=Ta(er)?"checked":"value",tr=Object.getOwnPropertyDescriptor(er.constructor.prototype,e),rr=""+er[e];if(!er.hasOwnProperty(e)&&typeof tr<"u"&&typeof tr.get=="function"&&typeof tr.set=="function"){var nr=tr.get,ir=tr.set;return Object.defineProperty(er,e,{configurable:!0,get:function(){return nr.call(this)},set:function(sr){rr=""+sr,ir.call(this,sr)}}),Object.defineProperty(er,e,{enumerable:tr.enumerable}),{getValue:function(){return rr},setValue:function(sr){rr=""+sr},stopTracking:function(){er._valueTracker=null,delete er[e]}}}}function Va(er){er._valueTracker||(er._valueTracker=Ua(er))}function Wa(er){if(!er)return!1;var e=er._valueTracker;if(!e)return!0;var tr=e.getValue(),rr="";return er&&(rr=Ta(er)?er.checked?"true":"false":er.value),er=rr,er!==tr?(e.setValue(er),!0):!1}function Xa(er){if(er=er||(typeof document<"u"?document:void 0),typeof er>"u")return null;try{return er.activeElement||er.body}catch{return er.body}}function Ya(er,e){var tr=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tr??er._wrapperState.initialChecked})}function Za(er,e){var tr=e.defaultValue==null?"":e.defaultValue,rr=e.checked!=null?e.checked:e.defaultChecked;tr=Sa(e.value!=null?e.value:tr),er._wrapperState={initialChecked:rr,initialValue:tr,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(er,e){e=e.checked,e!=null&&ta(er,"checked",e,!1)}function bb(er,e){ab(er,e);var tr=Sa(e.value),rr=e.type;if(tr!=null)rr==="number"?(tr===0&&er.value===""||er.value!=tr)&&(er.value=""+tr):er.value!==""+tr&&(er.value=""+tr);else if(rr==="submit"||rr==="reset"){er.removeAttribute("value");return}e.hasOwnProperty("value")?cb(er,e.type,tr):e.hasOwnProperty("defaultValue")&&cb(er,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(er.defaultChecked=!!e.defaultChecked)}function db$1(er,e,tr){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var rr=e.type;if(!(rr!=="submit"&&rr!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+er._wrapperState.initialValue,tr||e===er.value||(er.value=e),er.defaultValue=e}tr=er.name,tr!==""&&(er.name=""),er.defaultChecked=!!er._wrapperState.initialChecked,tr!==""&&(er.name=tr)}function cb(er,e,tr){(e!=="number"||Xa(er.ownerDocument)!==er)&&(tr==null?er.defaultValue=""+er._wrapperState.initialValue:er.defaultValue!==""+tr&&(er.defaultValue=""+tr))}var eb=Array.isArray;function fb(er,e,tr,rr){if(er=er.options,e){e={};for(var nr=0;nr<tr.length;nr++)e["$"+tr[nr]]=!0;for(tr=0;tr<er.length;tr++)nr=e.hasOwnProperty("$"+er[tr].value),er[tr].selected!==nr&&(er[tr].selected=nr),nr&&rr&&(er[tr].defaultSelected=!0)}else{for(tr=""+Sa(tr),e=null,nr=0;nr<er.length;nr++){if(er[nr].value===tr){er[nr].selected=!0,rr&&(er[nr].defaultSelected=!0);return}e!==null||er[nr].disabled||(e=er[nr])}e!==null&&(e.selected=!0)}}function gb(er,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+er._wrapperState.initialValue})}function hb(er,e){var tr=e.value;if(tr==null){if(tr=e.children,e=e.defaultValue,tr!=null){if(e!=null)throw Error(p$1(92));if(eb(tr)){if(1<tr.length)throw Error(p$1(93));tr=tr[0]}e=tr}e==null&&(e=""),tr=e}er._wrapperState={initialValue:Sa(tr)}}function ib(er,e){var tr=Sa(e.value),rr=Sa(e.defaultValue);tr!=null&&(tr=""+tr,tr!==er.value&&(er.value=tr),e.defaultValue==null&&er.defaultValue!==tr&&(er.defaultValue=tr)),rr!=null&&(er.defaultValue=""+rr)}function jb(er){var e=er.textContent;e===er._wrapperState.initialValue&&e!==""&&e!==null&&(er.value=e)}function kb(er){switch(er){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(er,e){return er==null||er==="http://www.w3.org/1999/xhtml"?kb(e):er==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":er}var mb,nb=function(er){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,tr,rr,nr){MSApp.execUnsafeLocalFunction(function(){return er(e,tr,rr,nr)})}:er}(function(er,e){if(er.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in er)er.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;er.firstChild;)er.removeChild(er.firstChild);for(;e.firstChild;)er.appendChild(e.firstChild)}});function ob(er,e){if(e){var tr=er.firstChild;if(tr&&tr===er.lastChild&&tr.nodeType===3){tr.nodeValue=e;return}}er.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(er){qb.forEach(function(e){e=e+er.charAt(0).toUpperCase()+er.substring(1),pb[e]=pb[er]})});function rb(er,e,tr){return e==null||typeof e=="boolean"||e===""?"":tr||typeof e!="number"||e===0||pb.hasOwnProperty(er)&&pb[er]?(""+e).trim():e+"px"}function sb(er,e){er=er.style;for(var tr in e)if(e.hasOwnProperty(tr)){var rr=tr.indexOf("--")===0,nr=rb(tr,e[tr],rr);tr==="float"&&(tr="cssFloat"),rr?er.setProperty(tr,nr):er[tr]=nr}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(er,e){if(e){if(tb[er]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$1(137,er));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$1(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$1(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$1(62))}}function vb(er,e){if(er.indexOf("-")===-1)return typeof e.is=="string";switch(er){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(er){return er=er.target||er.srcElement||window,er.correspondingUseElement&&(er=er.correspondingUseElement),er.nodeType===3?er.parentNode:er}var yb=null,zb=null,Ab=null;function Bb(er){if(er=Cb(er)){if(typeof yb!="function")throw Error(p$1(280));var e=er.stateNode;e&&(e=Db(e),yb(er.stateNode,er.type,e))}}function Eb(er){zb?Ab?Ab.push(er):Ab=[er]:zb=er}function Fb(){if(zb){var er=zb,e=Ab;if(Ab=zb=null,Bb(er),e)for(er=0;er<e.length;er++)Bb(e[er])}}function Gb(er,e){return er(e)}function Hb(){}var Ib=!1;function Jb(er,e,tr){if(Ib)return er(e,tr);Ib=!0;try{return Gb(er,e,tr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(er,e){var tr=er.stateNode;if(tr===null)return null;var rr=Db(tr);if(rr===null)return null;tr=rr[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rr=!rr.disabled)||(er=er.type,rr=!(er==="button"||er==="input"||er==="select"||er==="textarea")),er=!rr;break e;default:er=!1}if(er)return null;if(tr&&typeof tr!="function")throw Error(p$1(231,e,typeof tr));return tr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(er,e,tr,rr,nr,ir,sr,or,ar){var lr=Array.prototype.slice.call(arguments,3);try{e.apply(tr,lr)}catch(cr){this.onError(cr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(er){Ob=!0,Pb=er}};function Tb(er,e,tr,rr,nr,ir,sr,or,ar){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(er,e,tr,rr,nr,ir,sr,or,ar){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lr)}}function Vb(er){var e=er,tr=er;if(er.alternate)for(;e.return;)e=e.return;else{er=e;do e=er,e.flags&4098&&(tr=e.return),er=e.return;while(er)}return e.tag===3?tr:null}function Wb(er){if(er.tag===13){var e=er.memoizedState;if(e===null&&(er=er.alternate,er!==null&&(e=er.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(er){if(Vb(er)!==er)throw Error(p$1(188))}function Yb(er){var e=er.alternate;if(!e){if(e=Vb(er),e===null)throw Error(p$1(188));return e!==er?null:er}for(var tr=er,rr=e;;){var nr=tr.return;if(nr===null)break;var ir=nr.alternate;if(ir===null){if(rr=nr.return,rr!==null){tr=rr;continue}break}if(nr.child===ir.child){for(ir=nr.child;ir;){if(ir===tr)return Xb(nr),er;if(ir===rr)return Xb(nr),e;ir=ir.sibling}throw Error(p$1(188))}if(tr.return!==rr.return)tr=nr,rr=ir;else{for(var sr=!1,or=nr.child;or;){if(or===tr){sr=!0,tr=nr,rr=ir;break}if(or===rr){sr=!0,rr=nr,tr=ir;break}or=or.sibling}if(!sr){for(or=ir.child;or;){if(or===tr){sr=!0,tr=ir,rr=nr;break}if(or===rr){sr=!0,rr=ir,tr=nr;break}or=or.sibling}if(!sr)throw Error(p$1(189))}}if(tr.alternate!==rr)throw Error(p$1(190))}if(tr.tag!==3)throw Error(p$1(188));return tr.stateNode.current===tr?er:e}function Zb(er){return er=Yb(er),er!==null?$b(er):null}function $b(er){if(er.tag===5||er.tag===6)return er;for(er=er.child;er!==null;){var e=$b(er);if(e!==null)return e;er=er.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(er){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,er,void 0,(er.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(er){return er>>>=0,er===0?32:31-(pc(er)/qc|0)|0}var rc=64,sc=4194304;function tc(er){switch(er&-er){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return er&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return er}}function uc(er,e){var tr=er.pendingLanes;if(tr===0)return 0;var rr=0,nr=er.suspendedLanes,ir=er.pingedLanes,sr=tr&268435455;if(sr!==0){var or=sr&~nr;or!==0?rr=tc(or):(ir&=sr,ir!==0&&(rr=tc(ir)))}else sr=tr&~nr,sr!==0?rr=tc(sr):ir!==0&&(rr=tc(ir));if(rr===0)return 0;if(e!==0&&e!==rr&&!(e&nr)&&(nr=rr&-rr,ir=e&-e,nr>=ir||nr===16&&(ir&4194240)!==0))return e;if(rr&4&&(rr|=tr&16),e=er.entangledLanes,e!==0)for(er=er.entanglements,e&=rr;0<e;)tr=31-oc(e),nr=1<<tr,rr|=er[tr],e&=~nr;return rr}function vc(er,e){switch(er){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(er,e){for(var tr=er.suspendedLanes,rr=er.pingedLanes,nr=er.expirationTimes,ir=er.pendingLanes;0<ir;){var sr=31-oc(ir),or=1<<sr,ar=nr[sr];ar===-1?(!(or&tr)||or&rr)&&(nr[sr]=vc(or,e)):ar<=e&&(er.expiredLanes|=or),ir&=~or}}function xc(er){return er=er.pendingLanes&-1073741825,er!==0?er:er&1073741824?1073741824:0}function yc(){var er=rc;return rc<<=1,!(rc&4194240)&&(rc=64),er}function zc(er){for(var e=[],tr=0;31>tr;tr++)e.push(er);return e}function Ac(er,e,tr){er.pendingLanes|=e,e!==536870912&&(er.suspendedLanes=0,er.pingedLanes=0),er=er.eventTimes,e=31-oc(e),er[e]=tr}function Bc(er,e){var tr=er.pendingLanes&~e;er.pendingLanes=e,er.suspendedLanes=0,er.pingedLanes=0,er.expiredLanes&=e,er.mutableReadLanes&=e,er.entangledLanes&=e,e=er.entanglements;var rr=er.eventTimes;for(er=er.expirationTimes;0<tr;){var nr=31-oc(tr),ir=1<<nr;e[nr]=0,rr[nr]=-1,er[nr]=-1,tr&=~ir}}function Cc(er,e){var tr=er.entangledLanes|=e;for(er=er.entanglements;tr;){var rr=31-oc(tr),nr=1<<rr;nr&e|er[rr]&e&&(er[rr]|=e),tr&=~nr}}var C$2=0;function Dc(er){return er&=-er,1<er?4<er?er&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(er,e){switch(er){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(er,e,tr,rr,nr,ir){return er===null||er.nativeEvent!==ir?(er={blockedOn:e,domEventName:tr,eventSystemFlags:rr,nativeEvent:ir,targetContainers:[nr]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),er):(er.eventSystemFlags|=rr,e=er.targetContainers,nr!==null&&e.indexOf(nr)===-1&&e.push(nr),er)}function Uc(er,e,tr,rr,nr){switch(e){case"focusin":return Lc=Tc(Lc,er,e,tr,rr,nr),!0;case"dragenter":return Mc=Tc(Mc,er,e,tr,rr,nr),!0;case"mouseover":return Nc=Tc(Nc,er,e,tr,rr,nr),!0;case"pointerover":var ir=nr.pointerId;return Oc.set(ir,Tc(Oc.get(ir)||null,er,e,tr,rr,nr)),!0;case"gotpointercapture":return ir=nr.pointerId,Pc.set(ir,Tc(Pc.get(ir)||null,er,e,tr,rr,nr)),!0}return!1}function Vc(er){var e=Wc(er.target);if(e!==null){var tr=Vb(e);if(tr!==null){if(e=tr.tag,e===13){if(e=Wb(tr),e!==null){er.blockedOn=e,Ic(er.priority,function(){Gc(tr)});return}}else if(e===3&&tr.stateNode.current.memoizedState.isDehydrated){er.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}er.blockedOn=null}function Xc(er){if(er.blockedOn!==null)return!1;for(var e=er.targetContainers;0<e.length;){var tr=Yc(er.domEventName,er.eventSystemFlags,e[0],er.nativeEvent);if(tr===null){tr=er.nativeEvent;var rr=new tr.constructor(tr.type,tr);wb=rr,tr.target.dispatchEvent(rr),wb=null}else return e=Cb(tr),e!==null&&Fc(e),er.blockedOn=tr,!1;e.shift()}return!0}function Zc(er,e,tr){Xc(er)&&tr.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(er,e){er.blockedOn===e&&(er.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(er){function e(nr){return ad(nr,er)}if(0<Kc.length){ad(Kc[0],er);for(var tr=1;tr<Kc.length;tr++){var rr=Kc[tr];rr.blockedOn===er&&(rr.blockedOn=null)}}for(Lc!==null&&ad(Lc,er),Mc!==null&&ad(Mc,er),Nc!==null&&ad(Nc,er),Oc.forEach(e),Pc.forEach(e),tr=0;tr<Qc.length;tr++)rr=Qc[tr],rr.blockedOn===er&&(rr.blockedOn=null);for(;0<Qc.length&&(tr=Qc[0],tr.blockedOn===null);)Vc(tr),tr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(er,e,tr,rr){var nr=C$2,ir=cd.transition;cd.transition=null;try{C$2=1,fd$1(er,e,tr,rr)}finally{C$2=nr,cd.transition=ir}}function gd(er,e,tr,rr){var nr=C$2,ir=cd.transition;cd.transition=null;try{C$2=4,fd$1(er,e,tr,rr)}finally{C$2=nr,cd.transition=ir}}function fd$1(er,e,tr,rr){if(dd){var nr=Yc(er,e,tr,rr);if(nr===null)hd(er,e,rr,id,tr),Sc(er,rr);else if(Uc(nr,er,e,tr,rr))rr.stopPropagation();else if(Sc(er,rr),e&4&&-1<Rc.indexOf(er)){for(;nr!==null;){var ir=Cb(nr);if(ir!==null&&Ec(ir),ir=Yc(er,e,tr,rr),ir===null&&hd(er,e,rr,id,tr),ir===nr)break;nr=ir}nr!==null&&rr.stopPropagation()}else hd(er,e,rr,null,tr)}}var id=null;function Yc(er,e,tr,rr){if(id=null,er=xb(rr),er=Wc(er),er!==null)if(e=Vb(er),e===null)er=null;else if(tr=e.tag,tr===13){if(er=Wb(e),er!==null)return er;er=null}else if(tr===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;er=null}else e!==er&&(er=null);return id=er,null}function jd(er){switch(er){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var er,e=ld,tr=e.length,rr,nr="value"in kd?kd.value:kd.textContent,ir=nr.length;for(er=0;er<tr&&e[er]===nr[er];er++);var sr=tr-er;for(rr=1;rr<=sr&&e[tr-rr]===nr[ir-rr];rr++);return md=nr.slice(er,1<rr?1-rr:void 0)}function od(er){var e=er.keyCode;return"charCode"in er?(er=er.charCode,er===0&&e===13&&(er=13)):er=e,er===10&&(er=13),32<=er||er===13?er:0}function pd(){return!0}function qd(){return!1}function rd(er){function e(tr,rr,nr,ir,sr){this._reactName=tr,this._targetInst=nr,this.type=rr,this.nativeEvent=ir,this.target=sr,this.currentTarget=null;for(var or in er)er.hasOwnProperty(or)&&(tr=er[or],this[or]=tr?tr(ir):ir[or]);return this.isDefaultPrevented=(ir.defaultPrevented!=null?ir.defaultPrevented:ir.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(er){return er.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(er){return er.relatedTarget===void 0?er.fromElement===er.srcElement?er.toElement:er.fromElement:er.relatedTarget},movementX:function(er){return"movementX"in er?er.movementX:(er!==yd&&(yd&&er.type==="mousemove"?(wd=er.screenX-yd.screenX,xd=er.screenY-yd.screenY):xd=wd=0,yd=er),wd)},movementY:function(er){return"movementY"in er?er.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(er){return"clipboardData"in er?er.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(er){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(er):(er=Od[er])?!!e[er]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(er){if(er.key){var e=Md[er.key]||er.key;if(e!=="Unidentified")return e}return er.type==="keypress"?(er=od(er),er===13?"Enter":String.fromCharCode(er)):er.type==="keydown"||er.type==="keyup"?Nd[er.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(er){return er.type==="keypress"?od(er):0},keyCode:function(er){return er.type==="keydown"||er.type==="keyup"?er.keyCode:0},which:function(er){return er.type==="keypress"?od(er):er.type==="keydown"||er.type==="keyup"?er.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(er){return"deltaX"in er?er.deltaX:"wheelDeltaX"in er?-er.wheelDeltaX:0},deltaY:function(er){return"deltaY"in er?er.deltaY:"wheelDeltaY"in er?-er.wheelDeltaY:"wheelDelta"in er?-er.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$2=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=" ",fe$2=!1;function ge$2(er,e){switch(er){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(er){return er=er.detail,typeof er=="object"&&"data"in er?er.data:null}var ie$1=!1;function je(er,e){switch(er){case"compositionend":return he$2(e);case"keypress":return e.which!==32?null:(fe$2=!0,ee$1);case"textInput":return er=e.data,er===ee$1&&fe$2?null:er;default:return null}}function ke(er,e){if(ie$1)return er==="compositionend"||!ae$2&&ge$2(er,e)?(er=nd(),md=ld=kd=null,ie$1=!1,er):null;switch(er){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$2&&e.locale!=="ko"?null:e.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(er){var e=er&&er.nodeName&&er.nodeName.toLowerCase();return e==="input"?!!le$2[er.type]:e==="textarea"}function ne$2(er,e,tr,rr){Eb(rr),e=oe$2(e,"onChange"),0<e.length&&(tr=new td$1("onChange","change",null,tr,rr),er.push({event:tr,listeners:e}))}var pe$2=null,qe=null;function re$3(er){se$1(er,0)}function te$1(er){var e=ue$2(er);if(Wa(e))return er}function ve$1(er,e){if(er==="change")return e}var we$2=!1;if(ia){var xe;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe=ye$2}else xe=!1;we$2=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$2&&(pe$2.detachEvent("onpropertychange",Be),qe=pe$2=null)}function Be(er){if(er.propertyName==="value"&&te$1(qe)){var e=[];ne$2(e,qe,er,xb(er)),Jb(re$3,e)}}function Ce(er,e,tr){er==="focusin"?(Ae(),pe$2=e,qe=tr,pe$2.attachEvent("onpropertychange",Be)):er==="focusout"&&Ae()}function De$1(er){if(er==="selectionchange"||er==="keyup"||er==="keydown")return te$1(qe)}function Ee$1(er,e){if(er==="click")return te$1(e)}function Fe(er,e){if(er==="input"||er==="change")return te$1(e)}function Ge(er,e){return er===e&&(er!==0||1/er===1/e)||er!==er&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(er,e){if(He(er,e))return!0;if(typeof er!="object"||er===null||typeof e!="object"||e===null)return!1;var tr=Object.keys(er),rr=Object.keys(e);if(tr.length!==rr.length)return!1;for(rr=0;rr<tr.length;rr++){var nr=tr[rr];if(!ja.call(e,nr)||!He(er[nr],e[nr]))return!1}return!0}function Je(er){for(;er&&er.firstChild;)er=er.firstChild;return er}function Ke(er,e){var tr=Je(er);er=0;for(var rr;tr;){if(tr.nodeType===3){if(rr=er+tr.textContent.length,er<=e&&rr>=e)return{node:tr,offset:e-er};er=rr}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=Je(tr)}}function Le$1(er,e){return er&&e?er===e?!0:er&&er.nodeType===3?!1:e&&e.nodeType===3?Le$1(er,e.parentNode):"contains"in er?er.contains(e):er.compareDocumentPosition?!!(er.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var er=window,e=Xa();e instanceof er.HTMLIFrameElement;){try{var tr=typeof e.contentWindow.location.href=="string"}catch{tr=!1}if(tr)er=e.contentWindow;else break;e=Xa(er.document)}return e}function Ne$1(er){var e=er&&er.nodeName&&er.nodeName.toLowerCase();return e&&(e==="input"&&(er.type==="text"||er.type==="search"||er.type==="tel"||er.type==="url"||er.type==="password")||e==="textarea"||er.contentEditable==="true")}function Oe(er){var e=Me(),tr=er.focusedElem,rr=er.selectionRange;if(e!==tr&&tr&&tr.ownerDocument&&Le$1(tr.ownerDocument.documentElement,tr)){if(rr!==null&&Ne$1(tr)){if(e=rr.start,er=rr.end,er===void 0&&(er=e),"selectionStart"in tr)tr.selectionStart=e,tr.selectionEnd=Math.min(er,tr.value.length);else if(er=(e=tr.ownerDocument||document)&&e.defaultView||window,er.getSelection){er=er.getSelection();var nr=tr.textContent.length,ir=Math.min(rr.start,nr);rr=rr.end===void 0?ir:Math.min(rr.end,nr),!er.extend&&ir>rr&&(nr=rr,rr=ir,ir=nr),nr=Ke(tr,ir);var sr=Ke(tr,rr);nr&&sr&&(er.rangeCount!==1||er.anchorNode!==nr.node||er.anchorOffset!==nr.offset||er.focusNode!==sr.node||er.focusOffset!==sr.offset)&&(e=e.createRange(),e.setStart(nr.node,nr.offset),er.removeAllRanges(),ir>rr?(er.addRange(e),er.extend(sr.node,sr.offset)):(e.setEnd(sr.node,sr.offset),er.addRange(e)))}}for(e=[],er=tr;er=er.parentNode;)er.nodeType===1&&e.push({element:er,left:er.scrollLeft,top:er.scrollTop});for(typeof tr.focus=="function"&&tr.focus(),tr=0;tr<e.length;tr++)er=e[tr],er.element.scrollLeft=er.left,er.element.scrollTop=er.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(er,e,tr){var rr=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Te$1||Qe==null||Qe!==Xa(rr)||(rr=Qe,"selectionStart"in rr&&Ne$1(rr)?rr={start:rr.selectionStart,end:rr.selectionEnd}:(rr=(rr.ownerDocument&&rr.ownerDocument.defaultView||window).getSelection(),rr={anchorNode:rr.anchorNode,anchorOffset:rr.anchorOffset,focusNode:rr.focusNode,focusOffset:rr.focusOffset}),Se&&Ie$1(Se,rr)||(Se=rr,rr=oe$2(Re,"onSelect"),0<rr.length&&(e=new td$1("onSelect","select",null,e,tr),er.push({event:e,listeners:rr}),e.target=Qe)))}function Ve(er,e){var tr={};return tr[er.toLowerCase()]=e.toLowerCase(),tr["Webkit"+er]="webkit"+e,tr["Moz"+er]="moz"+e,tr}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(er){if(Xe[er])return Xe[er];if(!We[er])return er;var e=We[er],tr;for(tr in e)if(e.hasOwnProperty(tr)&&tr in Ye)return Xe[er]=e[tr];return er}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(er,e){df.set(er,e),fa(e,[er])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(er,e,tr){var rr=er.type||"unknown-event";er.currentTarget=tr,Ub(rr,e,void 0,er),er.currentTarget=null}function se$1(er,e){e=(e&4)!==0;for(var tr=0;tr<er.length;tr++){var rr=er[tr],nr=rr.event;rr=rr.listeners;e:{var ir=void 0;if(e)for(var sr=rr.length-1;0<=sr;sr--){var or=rr[sr],ar=or.instance,lr=or.currentTarget;if(or=or.listener,ar!==ir&&nr.isPropagationStopped())break e;nf(nr,or,lr),ir=ar}else for(sr=0;sr<rr.length;sr++){if(or=rr[sr],ar=or.instance,lr=or.currentTarget,or=or.listener,ar!==ir&&nr.isPropagationStopped())break e;nf(nr,or,lr),ir=ar}}}if(Qb)throw er=Rb,Qb=!1,Rb=null,er}function D$2(er,e){var tr=e[of];tr===void 0&&(tr=e[of]=new Set);var rr=er+"__bubble";tr.has(rr)||(pf(e,er,2,!1),tr.add(rr))}function qf(er,e,tr){var rr=0;e&&(rr|=4),pf(tr,er,rr,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(er){if(!er[rf]){er[rf]=!0,da.forEach(function(tr){tr!=="selectionchange"&&(mf.has(tr)||qf(tr,!1,er),qf(tr,!0,er))});var e=er.nodeType===9?er:er.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(er,e,tr,rr){switch(jd(e)){case 1:var nr=ed;break;case 4:nr=gd;break;default:nr=fd$1}tr=nr.bind(null,e,tr,er),nr=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(nr=!0),rr?nr!==void 0?er.addEventListener(e,tr,{capture:!0,passive:nr}):er.addEventListener(e,tr,!0):nr!==void 0?er.addEventListener(e,tr,{passive:nr}):er.addEventListener(e,tr,!1)}function hd(er,e,tr,rr,nr){var ir=rr;if(!(e&1)&&!(e&2)&&rr!==null)e:for(;;){if(rr===null)return;var sr=rr.tag;if(sr===3||sr===4){var or=rr.stateNode.containerInfo;if(or===nr||or.nodeType===8&&or.parentNode===nr)break;if(sr===4)for(sr=rr.return;sr!==null;){var ar=sr.tag;if((ar===3||ar===4)&&(ar=sr.stateNode.containerInfo,ar===nr||ar.nodeType===8&&ar.parentNode===nr))return;sr=sr.return}for(;or!==null;){if(sr=Wc(or),sr===null)return;if(ar=sr.tag,ar===5||ar===6){rr=ir=sr;continue e}or=or.parentNode}}rr=rr.return}Jb(function(){var lr=ir,cr=xb(tr),dr=[];e:{var hr=df.get(er);if(hr!==void 0){var ur=td$1,pr=er;switch(er){case"keypress":if(od(tr)===0)break e;case"keydown":case"keyup":ur=Rd;break;case"focusin":pr="focus",ur=Fd;break;case"focusout":pr="blur",ur=Fd;break;case"beforeblur":case"afterblur":ur=Fd;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ur=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ur=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ur=Vd;break;case $e:case af:case bf:ur=Hd;break;case cf:ur=Xd;break;case"scroll":ur=vd;break;case"wheel":ur=Zd;break;case"copy":case"cut":case"paste":ur=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ur=Td}var mr=(e&4)!==0,fr=!mr&&er==="scroll",gr=mr?hr!==null?hr+"Capture":null:hr;mr=[];for(var yr=lr,vr;yr!==null;){vr=yr;var br=vr.stateNode;if(vr.tag===5&&br!==null&&(vr=br,gr!==null&&(br=Kb(yr,gr),br!=null&&mr.push(tf(yr,br,vr)))),fr)break;yr=yr.return}0<mr.length&&(hr=new ur(hr,pr,null,tr,cr),dr.push({event:hr,listeners:mr}))}}if(!(e&7)){e:{if(hr=er==="mouseover"||er==="pointerover",ur=er==="mouseout"||er==="pointerout",hr&&tr!==wb&&(pr=tr.relatedTarget||tr.fromElement)&&(Wc(pr)||pr[uf]))break e;if((ur||hr)&&(hr=cr.window===cr?cr:(hr=cr.ownerDocument)?hr.defaultView||hr.parentWindow:window,ur?(pr=tr.relatedTarget||tr.toElement,ur=lr,pr=pr?Wc(pr):null,pr!==null&&(fr=Vb(pr),pr!==fr||pr.tag!==5&&pr.tag!==6)&&(pr=null)):(ur=null,pr=lr),ur!==pr)){if(mr=Bd,br="onMouseLeave",gr="onMouseEnter",yr="mouse",(er==="pointerout"||er==="pointerover")&&(mr=Td,br="onPointerLeave",gr="onPointerEnter",yr="pointer"),fr=ur==null?hr:ue$2(ur),vr=pr==null?hr:ue$2(pr),hr=new mr(br,yr+"leave",ur,tr,cr),hr.target=fr,hr.relatedTarget=vr,br=null,Wc(cr)===lr&&(mr=new mr(gr,yr+"enter",pr,tr,cr),mr.target=vr,mr.relatedTarget=fr,br=mr),fr=br,ur&&pr)t:{for(mr=ur,gr=pr,yr=0,vr=mr;vr;vr=vf(vr))yr++;for(vr=0,br=gr;br;br=vf(br))vr++;for(;0<yr-vr;)mr=vf(mr),yr--;for(;0<vr-yr;)gr=vf(gr),vr--;for(;yr--;){if(mr===gr||gr!==null&&mr===gr.alternate)break t;mr=vf(mr),gr=vf(gr)}mr=null}else mr=null;ur!==null&&wf(dr,hr,ur,mr,!1),pr!==null&&fr!==null&&wf(dr,fr,pr,mr,!0)}}e:{if(hr=lr?ue$2(lr):window,ur=hr.nodeName&&hr.nodeName.toLowerCase(),ur==="select"||ur==="input"&&hr.type==="file")var Sr=ve$1;else if(me$2(hr))if(we$2)Sr=Fe;else{Sr=De$1;var jr=Ce}else(ur=hr.nodeName)&&ur.toLowerCase()==="input"&&(hr.type==="checkbox"||hr.type==="radio")&&(Sr=Ee$1);if(Sr&&(Sr=Sr(er,lr))){ne$2(dr,Sr,tr,cr);break e}jr&&jr(er,hr,lr),er==="focusout"&&(jr=hr._wrapperState)&&jr.controlled&&hr.type==="number"&&cb(hr,"number",hr.value)}switch(jr=lr?ue$2(lr):window,er){case"focusin":(me$2(jr)||jr.contentEditable==="true")&&(Qe=jr,Re=lr,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(dr,tr,cr);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dr,tr,cr)}var Cr;if(ae$2)e:{switch(er){case"compositionstart":var Pr="onCompositionStart";break e;case"compositionend":Pr="onCompositionEnd";break e;case"compositionupdate":Pr="onCompositionUpdate";break e}Pr=void 0}else ie$1?ge$2(er,tr)&&(Pr="onCompositionEnd"):er==="keydown"&&tr.keyCode===229&&(Pr="onCompositionStart");Pr&&(de$2&&tr.locale!=="ko"&&(ie$1||Pr!=="onCompositionStart"?Pr==="onCompositionEnd"&&ie$1&&(Cr=nd()):(kd=cr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),jr=oe$2(lr,Pr),0<jr.length&&(Pr=new Ld(Pr,er,null,tr,cr),dr.push({event:Pr,listeners:jr}),Cr?Pr.data=Cr:(Cr=he$2(tr),Cr!==null&&(Pr.data=Cr)))),(Cr=ce$2?je(er,tr):ke(er,tr))&&(lr=oe$2(lr,"onBeforeInput"),0<lr.length&&(cr=new Ld("onBeforeInput","beforeinput",null,tr,cr),dr.push({event:cr,listeners:lr}),cr.data=Cr))}se$1(dr,e)})}function tf(er,e,tr){return{instance:er,listener:e,currentTarget:tr}}function oe$2(er,e){for(var tr=e+"Capture",rr=[];er!==null;){var nr=er,ir=nr.stateNode;nr.tag===5&&ir!==null&&(nr=ir,ir=Kb(er,tr),ir!=null&&rr.unshift(tf(er,ir,nr)),ir=Kb(er,e),ir!=null&&rr.push(tf(er,ir,nr))),er=er.return}return rr}function vf(er){if(er===null)return null;do er=er.return;while(er&&er.tag!==5);return er||null}function wf(er,e,tr,rr,nr){for(var ir=e._reactName,sr=[];tr!==null&&tr!==rr;){var or=tr,ar=or.alternate,lr=or.stateNode;if(ar!==null&&ar===rr)break;or.tag===5&&lr!==null&&(or=lr,nr?(ar=Kb(tr,ir),ar!=null&&sr.unshift(tf(tr,ar,or))):nr||(ar=Kb(tr,ir),ar!=null&&sr.push(tf(tr,ar,or)))),tr=tr.return}sr.length!==0&&er.push({event:e,listeners:sr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(er){return(typeof er=="string"?er:""+er).replace(xf,`
`).replace(yf,"")}function Af(er,e,tr){if(e=zf(e),zf(er)!==e&&tr)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(er,e){return er==="textarea"||er==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(er){return Hf.resolve(null).then(er).catch(If)}:Ff;function If(er){setTimeout(function(){throw er})}function Kf(er,e){var tr=e,rr=0;do{var nr=tr.nextSibling;if(er.removeChild(tr),nr&&nr.nodeType===8)if(tr=nr.data,tr==="/$"){if(rr===0){er.removeChild(nr),bd(e);return}rr--}else tr!=="$"&&tr!=="$?"&&tr!=="$!"||rr++;tr=nr}while(tr);bd(e)}function Lf(er){for(;er!=null;er=er.nextSibling){var e=er.nodeType;if(e===1||e===3)break;if(e===8){if(e=er.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return er}function Mf(er){er=er.previousSibling;for(var e=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="$"||tr==="$!"||tr==="$?"){if(e===0)return er;e--}else tr==="/$"&&e++}er=er.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(er){var e=er[Of];if(e)return e;for(var tr=er.parentNode;tr;){if(e=tr[uf]||tr[Of]){if(tr=e.alternate,e.child!==null||tr!==null&&tr.child!==null)for(er=Mf(er);er!==null;){if(tr=er[Of])return tr;er=Mf(er)}return e}er=tr,tr=er.parentNode}return null}function Cb(er){return er=er[Of]||er[uf],!er||er.tag!==5&&er.tag!==6&&er.tag!==13&&er.tag!==3?null:er}function ue$2(er){if(er.tag===5||er.tag===6)return er.stateNode;throw Error(p$1(33))}function Db(er){return er[Pf]||null}var Sf=[],Tf=-1;function Uf(er){return{current:er}}function E$1(er){0>Tf||(er.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(er,e){Tf++,Sf[Tf]=er.current,er.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(er,e){var tr=er.type.contextTypes;if(!tr)return Vf;var rr=er.stateNode;if(rr&&rr.__reactInternalMemoizedUnmaskedChildContext===e)return rr.__reactInternalMemoizedMaskedChildContext;var nr={},ir;for(ir in tr)nr[ir]=e[ir];return rr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=e,er.__reactInternalMemoizedMaskedChildContext=nr),nr}function Zf(er){return er=er.childContextTypes,er!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(er,e,tr){if(H$1.current!==Vf)throw Error(p$1(168));G$1(H$1,e),G$1(Wf,tr)}function bg(er,e,tr){var rr=er.stateNode;if(e=e.childContextTypes,typeof rr.getChildContext!="function")return tr;rr=rr.getChildContext();for(var nr in rr)if(!(nr in e))throw Error(p$1(108,Ra(er)||"Unknown",nr));return A$1({},tr,rr)}function cg(er){return er=(er=er.stateNode)&&er.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,er),G$1(Wf,Wf.current),!0}function dg(er,e,tr){var rr=er.stateNode;if(!rr)throw Error(p$1(169));tr?(er=bg(er,e,Xf),rr.__reactInternalMemoizedMergedChildContext=er,E$1(Wf),E$1(H$1),G$1(H$1,er)):E$1(Wf),G$1(Wf,tr)}var eg=null,fg=!1,gg=!1;function hg(er){eg===null?eg=[er]:eg.push(er)}function ig(er){fg=!0,hg(er)}function jg(){if(!gg&&eg!==null){gg=!0;var er=0,e=C$2;try{var tr=eg;for(C$2=1;er<tr.length;er++){var rr=tr[er];do rr=rr(!0);while(rr!==null)}eg=null,fg=!1}catch(nr){throw eg!==null&&(eg=eg.slice(er+1)),ac(fc,jg),nr}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(er,e){kg[lg++]=ng,kg[lg++]=mg,mg=er,ng=e}function ug(er,e,tr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=er;var rr=rg;er=sg;var nr=32-oc(rr)-1;rr&=~(1<<nr),tr+=1;var ir=32-oc(e)+nr;if(30<ir){var sr=nr-nr%5;ir=(rr&(1<<sr)-1).toString(32),rr>>=sr,nr-=sr,rg=1<<32-oc(e)+nr|tr<<nr|rr,sg=ir+er}else rg=1<<ir|tr<<nr|rr,sg=er}function vg(er){er.return!==null&&(tg(er,1),ug(er,1,0))}function wg(er){for(;er===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;er===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(er,e){var tr=Bg(5,null,null,0);tr.elementType="DELETED",tr.stateNode=e,tr.return=er,e=er.deletions,e===null?(er.deletions=[tr],er.flags|=16):e.push(tr)}function Cg(er,e){switch(er.tag){case 5:var tr=er.type;return e=e.nodeType!==1||tr.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(er.stateNode=e,xg=er,yg=Lf(e.firstChild),!0):!1;case 6:return e=er.pendingProps===""||e.nodeType!==3?null:e,e!==null?(er.stateNode=e,xg=er,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(tr=qg!==null?{id:rg,overflow:sg}:null,er.memoizedState={dehydrated:e,treeContext:tr,retryLane:1073741824},tr=Bg(18,null,null,0),tr.stateNode=e,tr.return=er,er.child=tr,xg=er,yg=null,!0):!1;default:return!1}}function Dg(er){return(er.mode&1)!==0&&(er.flags&128)===0}function Eg(er){if(I$1){var e=yg;if(e){var tr=e;if(!Cg(er,e)){if(Dg(er))throw Error(p$1(418));e=Lf(tr.nextSibling);var rr=xg;e&&Cg(er,e)?Ag(rr,tr):(er.flags=er.flags&-4097|2,I$1=!1,xg=er)}}else{if(Dg(er))throw Error(p$1(418));er.flags=er.flags&-4097|2,I$1=!1,xg=er}}}function Fg(er){for(er=er.return;er!==null&&er.tag!==5&&er.tag!==3&&er.tag!==13;)er=er.return;xg=er}function Gg(er){if(er!==xg)return!1;if(!I$1)return Fg(er),I$1=!0,!1;var e;if((e=er.tag!==3)&&!(e=er.tag!==5)&&(e=er.type,e=e!=="head"&&e!=="body"&&!Ef(er.type,er.memoizedProps)),e&&(e=yg)){if(Dg(er))throw Hg(),Error(p$1(418));for(;e;)Ag(er,e),e=Lf(e.nextSibling)}if(Fg(er),er.tag===13){if(er=er.memoizedState,er=er!==null?er.dehydrated:null,!er)throw Error(p$1(317));e:{for(er=er.nextSibling,e=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="/$"){if(e===0){yg=Lf(er.nextSibling);break e}e--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"||e++}er=er.nextSibling}yg=null}}else yg=xg?Lf(er.stateNode.nextSibling):null;return!0}function Hg(){for(var er=yg;er;)er=Lf(er.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(er){zg===null?zg=[er]:zg.push(er)}var Kg=ua.ReactCurrentBatchConfig;function Lg(er,e,tr){if(er=tr.ref,er!==null&&typeof er!="function"&&typeof er!="object"){if(tr._owner){if(tr=tr._owner,tr){if(tr.tag!==1)throw Error(p$1(309));var rr=tr.stateNode}if(!rr)throw Error(p$1(147,er));var nr=rr,ir=""+er;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===ir?e.ref:(e=function(sr){var or=nr.refs;sr===null?delete or[ir]:or[ir]=sr},e._stringRef=ir,e)}if(typeof er!="string")throw Error(p$1(284));if(!tr._owner)throw Error(p$1(290,er))}return er}function Mg(er,e){throw er=Object.prototype.toString.call(e),Error(p$1(31,er==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":er))}function Ng(er){var e=er._init;return e(er._payload)}function Og(er){function e(gr,yr){if(er){var vr=gr.deletions;vr===null?(gr.deletions=[yr],gr.flags|=16):vr.push(yr)}}function tr(gr,yr){if(!er)return null;for(;yr!==null;)e(gr,yr),yr=yr.sibling;return null}function rr(gr,yr){for(gr=new Map;yr!==null;)yr.key!==null?gr.set(yr.key,yr):gr.set(yr.index,yr),yr=yr.sibling;return gr}function nr(gr,yr){return gr=Pg(gr,yr),gr.index=0,gr.sibling=null,gr}function ir(gr,yr,vr){return gr.index=vr,er?(vr=gr.alternate,vr!==null?(vr=vr.index,vr<yr?(gr.flags|=2,yr):vr):(gr.flags|=2,yr)):(gr.flags|=1048576,yr)}function sr(gr){return er&&gr.alternate===null&&(gr.flags|=2),gr}function or(gr,yr,vr,br){return yr===null||yr.tag!==6?(yr=Qg(vr,gr.mode,br),yr.return=gr,yr):(yr=nr(yr,vr),yr.return=gr,yr)}function ar(gr,yr,vr,br){var Sr=vr.type;return Sr===ya?cr(gr,yr,vr.props.children,br,vr.key):yr!==null&&(yr.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===Ha&&Ng(Sr)===yr.type)?(br=nr(yr,vr.props),br.ref=Lg(gr,yr,vr),br.return=gr,br):(br=Rg(vr.type,vr.key,vr.props,null,gr.mode,br),br.ref=Lg(gr,yr,vr),br.return=gr,br)}function lr(gr,yr,vr,br){return yr===null||yr.tag!==4||yr.stateNode.containerInfo!==vr.containerInfo||yr.stateNode.implementation!==vr.implementation?(yr=Sg(vr,gr.mode,br),yr.return=gr,yr):(yr=nr(yr,vr.children||[]),yr.return=gr,yr)}function cr(gr,yr,vr,br,Sr){return yr===null||yr.tag!==7?(yr=Tg(vr,gr.mode,br,Sr),yr.return=gr,yr):(yr=nr(yr,vr),yr.return=gr,yr)}function dr(gr,yr,vr){if(typeof yr=="string"&&yr!==""||typeof yr=="number")return yr=Qg(""+yr,gr.mode,vr),yr.return=gr,yr;if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:return vr=Rg(yr.type,yr.key,yr.props,null,gr.mode,vr),vr.ref=Lg(gr,null,yr),vr.return=gr,vr;case wa:return yr=Sg(yr,gr.mode,vr),yr.return=gr,yr;case Ha:var br=yr._init;return dr(gr,br(yr._payload),vr)}if(eb(yr)||Ka(yr))return yr=Tg(yr,gr.mode,vr,null),yr.return=gr,yr;Mg(gr,yr)}return null}function hr(gr,yr,vr,br){var Sr=yr!==null?yr.key:null;if(typeof vr=="string"&&vr!==""||typeof vr=="number")return Sr!==null?null:or(gr,yr,""+vr,br);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return vr.key===Sr?ar(gr,yr,vr,br):null;case wa:return vr.key===Sr?lr(gr,yr,vr,br):null;case Ha:return Sr=vr._init,hr(gr,yr,Sr(vr._payload),br)}if(eb(vr)||Ka(vr))return Sr!==null?null:cr(gr,yr,vr,br,null);Mg(gr,vr)}return null}function ur(gr,yr,vr,br,Sr){if(typeof br=="string"&&br!==""||typeof br=="number")return gr=gr.get(vr)||null,or(yr,gr,""+br,Sr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case va:return gr=gr.get(br.key===null?vr:br.key)||null,ar(yr,gr,br,Sr);case wa:return gr=gr.get(br.key===null?vr:br.key)||null,lr(yr,gr,br,Sr);case Ha:var jr=br._init;return ur(gr,yr,vr,jr(br._payload),Sr)}if(eb(br)||Ka(br))return gr=gr.get(vr)||null,cr(yr,gr,br,Sr,null);Mg(yr,br)}return null}function pr(gr,yr,vr,br){for(var Sr=null,jr=null,Cr=yr,Pr=yr=0,Rr=null;Cr!==null&&Pr<vr.length;Pr++){Cr.index>Pr?(Rr=Cr,Cr=null):Rr=Cr.sibling;var Lr=hr(gr,Cr,vr[Pr],br);if(Lr===null){Cr===null&&(Cr=Rr);break}er&&Cr&&Lr.alternate===null&&e(gr,Cr),yr=ir(Lr,yr,Pr),jr===null?Sr=Lr:jr.sibling=Lr,jr=Lr,Cr=Rr}if(Pr===vr.length)return tr(gr,Cr),I$1&&tg(gr,Pr),Sr;if(Cr===null){for(;Pr<vr.length;Pr++)Cr=dr(gr,vr[Pr],br),Cr!==null&&(yr=ir(Cr,yr,Pr),jr===null?Sr=Cr:jr.sibling=Cr,jr=Cr);return I$1&&tg(gr,Pr),Sr}for(Cr=rr(gr,Cr);Pr<vr.length;Pr++)Rr=ur(Cr,gr,Pr,vr[Pr],br),Rr!==null&&(er&&Rr.alternate!==null&&Cr.delete(Rr.key===null?Pr:Rr.key),yr=ir(Rr,yr,Pr),jr===null?Sr=Rr:jr.sibling=Rr,jr=Rr);return er&&Cr.forEach(function(Ir){return e(gr,Ir)}),I$1&&tg(gr,Pr),Sr}function mr(gr,yr,vr,br){var Sr=Ka(vr);if(typeof Sr!="function")throw Error(p$1(150));if(vr=Sr.call(vr),vr==null)throw Error(p$1(151));for(var jr=Sr=null,Cr=yr,Pr=yr=0,Rr=null,Lr=vr.next();Cr!==null&&!Lr.done;Pr++,Lr=vr.next()){Cr.index>Pr?(Rr=Cr,Cr=null):Rr=Cr.sibling;var Ir=hr(gr,Cr,Lr.value,br);if(Ir===null){Cr===null&&(Cr=Rr);break}er&&Cr&&Ir.alternate===null&&e(gr,Cr),yr=ir(Ir,yr,Pr),jr===null?Sr=Ir:jr.sibling=Ir,jr=Ir,Cr=Rr}if(Lr.done)return tr(gr,Cr),I$1&&tg(gr,Pr),Sr;if(Cr===null){for(;!Lr.done;Pr++,Lr=vr.next())Lr=dr(gr,Lr.value,br),Lr!==null&&(yr=ir(Lr,yr,Pr),jr===null?Sr=Lr:jr.sibling=Lr,jr=Lr);return I$1&&tg(gr,Pr),Sr}for(Cr=rr(gr,Cr);!Lr.done;Pr++,Lr=vr.next())Lr=ur(Cr,gr,Pr,Lr.value,br),Lr!==null&&(er&&Lr.alternate!==null&&Cr.delete(Lr.key===null?Pr:Lr.key),yr=ir(Lr,yr,Pr),jr===null?Sr=Lr:jr.sibling=Lr,jr=Lr);return er&&Cr.forEach(function(Nr){return e(gr,Nr)}),I$1&&tg(gr,Pr),Sr}function fr(gr,yr,vr,br){if(typeof vr=="object"&&vr!==null&&vr.type===ya&&vr.key===null&&(vr=vr.props.children),typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:e:{for(var Sr=vr.key,jr=yr;jr!==null;){if(jr.key===Sr){if(Sr=vr.type,Sr===ya){if(jr.tag===7){tr(gr,jr.sibling),yr=nr(jr,vr.props.children),yr.return=gr,gr=yr;break e}}else if(jr.elementType===Sr||typeof Sr=="object"&&Sr!==null&&Sr.$$typeof===Ha&&Ng(Sr)===jr.type){tr(gr,jr.sibling),yr=nr(jr,vr.props),yr.ref=Lg(gr,jr,vr),yr.return=gr,gr=yr;break e}tr(gr,jr);break}else e(gr,jr);jr=jr.sibling}vr.type===ya?(yr=Tg(vr.props.children,gr.mode,br,vr.key),yr.return=gr,gr=yr):(br=Rg(vr.type,vr.key,vr.props,null,gr.mode,br),br.ref=Lg(gr,yr,vr),br.return=gr,gr=br)}return sr(gr);case wa:e:{for(jr=vr.key;yr!==null;){if(yr.key===jr)if(yr.tag===4&&yr.stateNode.containerInfo===vr.containerInfo&&yr.stateNode.implementation===vr.implementation){tr(gr,yr.sibling),yr=nr(yr,vr.children||[]),yr.return=gr,gr=yr;break e}else{tr(gr,yr);break}else e(gr,yr);yr=yr.sibling}yr=Sg(vr,gr.mode,br),yr.return=gr,gr=yr}return sr(gr);case Ha:return jr=vr._init,fr(gr,yr,jr(vr._payload),br)}if(eb(vr))return pr(gr,yr,vr,br);if(Ka(vr))return mr(gr,yr,vr,br);Mg(gr,vr)}return typeof vr=="string"&&vr!==""||typeof vr=="number"?(vr=""+vr,yr!==null&&yr.tag===6?(tr(gr,yr.sibling),yr=nr(yr,vr),yr.return=gr,gr=yr):(tr(gr,yr),yr=Qg(vr,gr.mode,br),yr.return=gr,gr=yr),sr(gr)):tr(gr,yr)}return fr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(er){var e=Wg.current;E$1(Wg),er._currentValue=e}function bh(er,e,tr){for(;er!==null;){var rr=er.alternate;if((er.childLanes&e)!==e?(er.childLanes|=e,rr!==null&&(rr.childLanes|=e)):rr!==null&&(rr.childLanes&e)!==e&&(rr.childLanes|=e),er===tr)break;er=er.return}}function ch(er,e){Xg=er,Zg=Yg=null,er=er.dependencies,er!==null&&er.firstContext!==null&&(er.lanes&e&&(dh=!0),er.firstContext=null)}function eh(er){var e=er._currentValue;if(Zg!==er)if(er={context:er,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=er,Xg.dependencies={lanes:0,firstContext:er}}else Yg=Yg.next=er;return e}var fh=null;function gh(er){fh===null?fh=[er]:fh.push(er)}function hh(er,e,tr,rr){var nr=e.interleaved;return nr===null?(tr.next=tr,gh(e)):(tr.next=nr.next,nr.next=tr),e.interleaved=tr,ih(er,rr)}function ih(er,e){er.lanes|=e;var tr=er.alternate;for(tr!==null&&(tr.lanes|=e),tr=er,er=er.return;er!==null;)er.childLanes|=e,tr=er.alternate,tr!==null&&(tr.childLanes|=e),tr=er,er=er.return;return tr.tag===3?tr.stateNode:null}var jh=!1;function kh(er){er.updateQueue={baseState:er.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(er,e){er=er.updateQueue,e.updateQueue===er&&(e.updateQueue={baseState:er.baseState,firstBaseUpdate:er.firstBaseUpdate,lastBaseUpdate:er.lastBaseUpdate,shared:er.shared,effects:er.effects})}function mh(er,e){return{eventTime:er,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(er,e,tr){var rr=er.updateQueue;if(rr===null)return null;if(rr=rr.shared,K$1&2){var nr=rr.pending;return nr===null?e.next=e:(e.next=nr.next,nr.next=e),rr.pending=e,ih(er,tr)}return nr=rr.interleaved,nr===null?(e.next=e,gh(rr)):(e.next=nr.next,nr.next=e),rr.interleaved=e,ih(er,tr)}function oh(er,e,tr){if(e=e.updateQueue,e!==null&&(e=e.shared,(tr&4194240)!==0)){var rr=e.lanes;rr&=er.pendingLanes,tr|=rr,e.lanes=tr,Cc(er,tr)}}function ph(er,e){var tr=er.updateQueue,rr=er.alternate;if(rr!==null&&(rr=rr.updateQueue,tr===rr)){var nr=null,ir=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var sr={eventTime:tr.eventTime,lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:tr.callback,next:null};ir===null?nr=ir=sr:ir=ir.next=sr,tr=tr.next}while(tr!==null);ir===null?nr=ir=e:ir=ir.next=e}else nr=ir=e;tr={baseState:rr.baseState,firstBaseUpdate:nr,lastBaseUpdate:ir,shared:rr.shared,effects:rr.effects},er.updateQueue=tr;return}er=tr.lastBaseUpdate,er===null?tr.firstBaseUpdate=e:er.next=e,tr.lastBaseUpdate=e}function qh(er,e,tr,rr){var nr=er.updateQueue;jh=!1;var ir=nr.firstBaseUpdate,sr=nr.lastBaseUpdate,or=nr.shared.pending;if(or!==null){nr.shared.pending=null;var ar=or,lr=ar.next;ar.next=null,sr===null?ir=lr:sr.next=lr,sr=ar;var cr=er.alternate;cr!==null&&(cr=cr.updateQueue,or=cr.lastBaseUpdate,or!==sr&&(or===null?cr.firstBaseUpdate=lr:or.next=lr,cr.lastBaseUpdate=ar))}if(ir!==null){var dr=nr.baseState;sr=0,cr=lr=ar=null,or=ir;do{var hr=or.lane,ur=or.eventTime;if((rr&hr)===hr){cr!==null&&(cr=cr.next={eventTime:ur,lane:0,tag:or.tag,payload:or.payload,callback:or.callback,next:null});e:{var pr=er,mr=or;switch(hr=e,ur=tr,mr.tag){case 1:if(pr=mr.payload,typeof pr=="function"){dr=pr.call(ur,dr,hr);break e}dr=pr;break e;case 3:pr.flags=pr.flags&-65537|128;case 0:if(pr=mr.payload,hr=typeof pr=="function"?pr.call(ur,dr,hr):pr,hr==null)break e;dr=A$1({},dr,hr);break e;case 2:jh=!0}}or.callback!==null&&or.lane!==0&&(er.flags|=64,hr=nr.effects,hr===null?nr.effects=[or]:hr.push(or))}else ur={eventTime:ur,lane:hr,tag:or.tag,payload:or.payload,callback:or.callback,next:null},cr===null?(lr=cr=ur,ar=dr):cr=cr.next=ur,sr|=hr;if(or=or.next,or===null){if(or=nr.shared.pending,or===null)break;hr=or,or=hr.next,hr.next=null,nr.lastBaseUpdate=hr,nr.shared.pending=null}}while(!0);if(cr===null&&(ar=dr),nr.baseState=ar,nr.firstBaseUpdate=lr,nr.lastBaseUpdate=cr,e=nr.shared.interleaved,e!==null){nr=e;do sr|=nr.lane,nr=nr.next;while(nr!==e)}else ir===null&&(nr.shared.lanes=0);rh|=sr,er.lanes=sr,er.memoizedState=dr}}function sh(er,e,tr){if(er=e.effects,e.effects=null,er!==null)for(e=0;e<er.length;e++){var rr=er[e],nr=rr.callback;if(nr!==null){if(rr.callback=null,rr=tr,typeof nr!="function")throw Error(p$1(191,nr));nr.call(rr)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(er){if(er===th)throw Error(p$1(174));return er}function yh(er,e){switch(G$1(wh,e),G$1(vh,er),G$1(uh,th),er=e.nodeType,er){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:er=er===8?e.parentNode:e,e=er.namespaceURI||null,er=er.tagName,e=lb(e,er)}E$1(uh),G$1(uh,e)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(er){xh(wh.current);var e=xh(uh.current),tr=lb(e,er.type);e!==tr&&(G$1(vh,er),G$1(uh,tr))}function Bh(er){vh.current===er&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(er){for(var e=er;e!==null;){if(e.tag===13){var tr=e.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||tr.data==="$?"||tr.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===er)break;for(;e.sibling===null;){if(e.return===null||e.return===er)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var er=0;er<Dh.length;er++)Dh[er]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$1(321))}function Mh(er,e){if(e===null)return!1;for(var tr=0;tr<e.length&&tr<er.length;tr++)if(!He(er[tr],e[tr]))return!1;return!0}function Nh(er,e,tr,rr,nr,ir){if(Hh=ir,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=er===null||er.memoizedState===null?Oh:Ph,er=tr(rr,nr),Jh){ir=0;do{if(Jh=!1,Kh=0,25<=ir)throw Error(p$1(301));ir+=1,O$2=N$1=null,e.updateQueue=null,Fh.current=Qh,er=tr(rr,nr)}while(Jh)}if(Fh.current=Rh,e=N$1!==null&&N$1.next!==null,Hh=0,O$2=N$1=M$1=null,Ih=!1,e)throw Error(p$1(300));return er}function Sh(){var er=Kh!==0;return Kh=0,er}function Th(){var er={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$1.memoizedState=O$2=er:O$2=O$2.next=er,O$2}function Uh(){if(N$1===null){var er=M$1.alternate;er=er!==null?er.memoizedState:null}else er=N$1.next;var e=O$2===null?M$1.memoizedState:O$2.next;if(e!==null)O$2=e,N$1=er;else{if(er===null)throw Error(p$1(310));N$1=er,er={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$2===null?M$1.memoizedState=O$2=er:O$2=O$2.next=er}return O$2}function Vh(er,e){return typeof e=="function"?e(er):e}function Wh(er){var e=Uh(),tr=e.queue;if(tr===null)throw Error(p$1(311));tr.lastRenderedReducer=er;var rr=N$1,nr=rr.baseQueue,ir=tr.pending;if(ir!==null){if(nr!==null){var sr=nr.next;nr.next=ir.next,ir.next=sr}rr.baseQueue=nr=ir,tr.pending=null}if(nr!==null){ir=nr.next,rr=rr.baseState;var or=sr=null,ar=null,lr=ir;do{var cr=lr.lane;if((Hh&cr)===cr)ar!==null&&(ar=ar.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),rr=lr.hasEagerState?lr.eagerState:er(rr,lr.action);else{var dr={lane:cr,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};ar===null?(or=ar=dr,sr=rr):ar=ar.next=dr,M$1.lanes|=cr,rh|=cr}lr=lr.next}while(lr!==null&&lr!==ir);ar===null?sr=rr:ar.next=or,He(rr,e.memoizedState)||(dh=!0),e.memoizedState=rr,e.baseState=sr,e.baseQueue=ar,tr.lastRenderedState=rr}if(er=tr.interleaved,er!==null){nr=er;do ir=nr.lane,M$1.lanes|=ir,rh|=ir,nr=nr.next;while(nr!==er)}else nr===null&&(tr.lanes=0);return[e.memoizedState,tr.dispatch]}function Xh(er){var e=Uh(),tr=e.queue;if(tr===null)throw Error(p$1(311));tr.lastRenderedReducer=er;var rr=tr.dispatch,nr=tr.pending,ir=e.memoizedState;if(nr!==null){tr.pending=null;var sr=nr=nr.next;do ir=er(ir,sr.action),sr=sr.next;while(sr!==nr);He(ir,e.memoizedState)||(dh=!0),e.memoizedState=ir,e.baseQueue===null&&(e.baseState=ir),tr.lastRenderedState=ir}return[ir,rr]}function Yh(){}function Zh(er,e){var tr=M$1,rr=Uh(),nr=e(),ir=!He(rr.memoizedState,nr);if(ir&&(rr.memoizedState=nr,dh=!0),rr=rr.queue,$h(ai.bind(null,tr,rr,er),[er]),rr.getSnapshot!==e||ir||O$2!==null&&O$2.memoizedState.tag&1){if(tr.flags|=2048,bi(9,ci.bind(null,tr,rr,nr,e),void 0,null),Q$1===null)throw Error(p$1(349));Hh&30||di(tr,e,nr)}return nr}function di(er,e,tr){er.flags|=16384,er={getSnapshot:e,value:tr},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[er]):(tr=e.stores,tr===null?e.stores=[er]:tr.push(er))}function ci(er,e,tr,rr){e.value=tr,e.getSnapshot=rr,ei(e)&&fi(er)}function ai(er,e,tr){return tr(function(){ei(e)&&fi(er)})}function ei(er){var e=er.getSnapshot;er=er.value;try{var tr=e();return!He(er,tr)}catch{return!0}}function fi(er){var e=ih(er,1);e!==null&&gi(e,er,1,-1)}function hi(er){var e=Th();return typeof er=="function"&&(er=er()),e.memoizedState=e.baseState=er,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:er},e.queue=er,er=er.dispatch=ii.bind(null,M$1,er),[e.memoizedState,er]}function bi(er,e,tr,rr){return er={tag:er,create:e,destroy:tr,deps:rr,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=er.next=er):(tr=e.lastEffect,tr===null?e.lastEffect=er.next=er:(rr=tr.next,tr.next=er,er.next=rr,e.lastEffect=er)),er}function ji(){return Uh().memoizedState}function ki(er,e,tr,rr){var nr=Th();M$1.flags|=er,nr.memoizedState=bi(1|e,tr,void 0,rr===void 0?null:rr)}function li(er,e,tr,rr){var nr=Uh();rr=rr===void 0?null:rr;var ir=void 0;if(N$1!==null){var sr=N$1.memoizedState;if(ir=sr.destroy,rr!==null&&Mh(rr,sr.deps)){nr.memoizedState=bi(e,tr,ir,rr);return}}M$1.flags|=er,nr.memoizedState=bi(1|e,tr,ir,rr)}function mi(er,e){return ki(8390656,8,er,e)}function $h(er,e){return li(2048,8,er,e)}function ni(er,e){return li(4,2,er,e)}function oi(er,e){return li(4,4,er,e)}function pi$2(er,e){if(typeof e=="function")return er=er(),e(er),function(){e(null)};if(e!=null)return er=er(),e.current=er,function(){e.current=null}}function qi(er,e,tr){return tr=tr!=null?tr.concat([er]):null,li(4,4,pi$2.bind(null,e,er),tr)}function ri(){}function si(er,e){var tr=Uh();e=e===void 0?null:e;var rr=tr.memoizedState;return rr!==null&&e!==null&&Mh(e,rr[1])?rr[0]:(tr.memoizedState=[er,e],er)}function ti(er,e){var tr=Uh();e=e===void 0?null:e;var rr=tr.memoizedState;return rr!==null&&e!==null&&Mh(e,rr[1])?rr[0]:(er=er(),tr.memoizedState=[er,e],er)}function ui(er,e,tr){return Hh&21?(He(tr,e)||(tr=yc(),M$1.lanes|=tr,rh|=tr,er.baseState=!0),e):(er.baseState&&(er.baseState=!1,dh=!0),er.memoizedState=tr)}function vi(er,e){var tr=C$2;C$2=tr!==0&&4>tr?tr:4,er(!0);var rr=Gh.transition;Gh.transition={};try{er(!1),e()}finally{C$2=tr,Gh.transition=rr}}function wi(){return Uh().memoizedState}function xi(er,e,tr){var rr=yi(er);if(tr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null},zi(er))Ai(e,tr);else if(tr=hh(er,e,tr,rr),tr!==null){var nr=R$1();gi(tr,er,rr,nr),Bi(tr,e,rr)}}function ii(er,e,tr){var rr=yi(er),nr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null};if(zi(er))Ai(e,nr);else{var ir=er.alternate;if(er.lanes===0&&(ir===null||ir.lanes===0)&&(ir=e.lastRenderedReducer,ir!==null))try{var sr=e.lastRenderedState,or=ir(sr,tr);if(nr.hasEagerState=!0,nr.eagerState=or,He(or,sr)){var ar=e.interleaved;ar===null?(nr.next=nr,gh(e)):(nr.next=ar.next,ar.next=nr),e.interleaved=nr;return}}catch{}finally{}tr=hh(er,e,nr,rr),tr!==null&&(nr=R$1(),gi(tr,er,rr,nr),Bi(tr,e,rr))}}function zi(er){var e=er.alternate;return er===M$1||e!==null&&e===M$1}function Ai(er,e){Jh=Ih=!0;var tr=er.pending;tr===null?e.next=e:(e.next=tr.next,tr.next=e),er.pending=e}function Bi(er,e,tr){if(tr&4194240){var rr=e.lanes;rr&=er.pendingLanes,tr|=rr,e.lanes=tr,Cc(er,tr)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(er,e){return Th().memoizedState=[er,e===void 0?null:e],er},useContext:eh,useEffect:mi,useImperativeHandle:function(er,e,tr){return tr=tr!=null?tr.concat([er]):null,ki(4194308,4,pi$2.bind(null,e,er),tr)},useLayoutEffect:function(er,e){return ki(4194308,4,er,e)},useInsertionEffect:function(er,e){return ki(4,2,er,e)},useMemo:function(er,e){var tr=Th();return e=e===void 0?null:e,er=er(),tr.memoizedState=[er,e],er},useReducer:function(er,e,tr){var rr=Th();return e=tr!==void 0?tr(e):e,rr.memoizedState=rr.baseState=e,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},rr.queue=er,er=er.dispatch=xi.bind(null,M$1,er),[rr.memoizedState,er]},useRef:function(er){var e=Th();return er={current:er},e.memoizedState=er},useState:hi,useDebugValue:ri,useDeferredValue:function(er){return Th().memoizedState=er},useTransition:function(){var er=hi(!1),e=er[0];return er=vi.bind(null,er[1]),Th().memoizedState=er,[e,er]},useMutableSource:function(){},useSyncExternalStore:function(er,e,tr){var rr=M$1,nr=Th();if(I$1){if(tr===void 0)throw Error(p$1(407));tr=tr()}else{if(tr=e(),Q$1===null)throw Error(p$1(349));Hh&30||di(rr,e,tr)}nr.memoizedState=tr;var ir={value:tr,getSnapshot:e};return nr.queue=ir,mi(ai.bind(null,rr,ir,er),[er]),rr.flags|=2048,bi(9,ci.bind(null,rr,ir,tr,e),void 0,null),tr},useId:function(){var er=Th(),e=Q$1.identifierPrefix;if(I$1){var tr=sg,rr=rg;tr=(rr&~(1<<32-oc(rr)-1)).toString(32)+tr,e=":"+e+"R"+tr,tr=Kh++,0<tr&&(e+="H"+tr.toString(32)),e+=":"}else tr=Lh++,e=":"+e+"r"+tr.toString(32)+":";return er.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(er){var e=Uh();return ui(e,N$1.memoizedState,er)},useTransition:function(){var er=Wh(Vh)[0],e=Uh().memoizedState;return[er,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(er){var e=Uh();return N$1===null?e.memoizedState=er:ui(e,N$1.memoizedState,er)},useTransition:function(){var er=Xh(Vh)[0],e=Uh().memoizedState;return[er,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(er,e){if(er&&er.defaultProps){e=A$1({},e),er=er.defaultProps;for(var tr in er)e[tr]===void 0&&(e[tr]=er[tr]);return e}return e}function Di(er,e,tr,rr){e=er.memoizedState,tr=tr(rr,e),tr=tr==null?e:A$1({},e,tr),er.memoizedState=tr,er.lanes===0&&(er.updateQueue.baseState=tr)}var Ei={isMounted:function(er){return(er=er._reactInternals)?Vb(er)===er:!1},enqueueSetState:function(er,e,tr){er=er._reactInternals;var rr=R$1(),nr=yi(er),ir=mh(rr,nr);ir.payload=e,tr!=null&&(ir.callback=tr),e=nh(er,ir,nr),e!==null&&(gi(e,er,nr,rr),oh(e,er,nr))},enqueueReplaceState:function(er,e,tr){er=er._reactInternals;var rr=R$1(),nr=yi(er),ir=mh(rr,nr);ir.tag=1,ir.payload=e,tr!=null&&(ir.callback=tr),e=nh(er,ir,nr),e!==null&&(gi(e,er,nr,rr),oh(e,er,nr))},enqueueForceUpdate:function(er,e){er=er._reactInternals;var tr=R$1(),rr=yi(er),nr=mh(tr,rr);nr.tag=2,e!=null&&(nr.callback=e),e=nh(er,nr,rr),e!==null&&(gi(e,er,rr,tr),oh(e,er,rr))}};function Fi(er,e,tr,rr,nr,ir,sr){return er=er.stateNode,typeof er.shouldComponentUpdate=="function"?er.shouldComponentUpdate(rr,ir,sr):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(tr,rr)||!Ie$1(nr,ir):!0}function Gi(er,e,tr){var rr=!1,nr=Vf,ir=e.contextType;return typeof ir=="object"&&ir!==null?ir=eh(ir):(nr=Zf(e)?Xf:H$1.current,rr=e.contextTypes,ir=(rr=rr!=null)?Yf(er,nr):Vf),e=new e(tr,ir),er.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,er.stateNode=e,e._reactInternals=er,rr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=nr,er.__reactInternalMemoizedMaskedChildContext=ir),e}function Hi(er,e,tr,rr){er=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(tr,rr),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(tr,rr),e.state!==er&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(er,e,tr,rr){var nr=er.stateNode;nr.props=tr,nr.state=er.memoizedState,nr.refs={},kh(er);var ir=e.contextType;typeof ir=="object"&&ir!==null?nr.context=eh(ir):(ir=Zf(e)?Xf:H$1.current,nr.context=Yf(er,ir)),nr.state=er.memoizedState,ir=e.getDerivedStateFromProps,typeof ir=="function"&&(Di(er,e,ir,tr),nr.state=er.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof nr.getSnapshotBeforeUpdate=="function"||typeof nr.UNSAFE_componentWillMount!="function"&&typeof nr.componentWillMount!="function"||(e=nr.state,typeof nr.componentWillMount=="function"&&nr.componentWillMount(),typeof nr.UNSAFE_componentWillMount=="function"&&nr.UNSAFE_componentWillMount(),e!==nr.state&&Ei.enqueueReplaceState(nr,nr.state,null),qh(er,tr,nr,rr),nr.state=er.memoizedState),typeof nr.componentDidMount=="function"&&(er.flags|=4194308)}function Ji(er,e){try{var tr="",rr=e;do tr+=Pa(rr),rr=rr.return;while(rr);var nr=tr}catch(ir){nr=`
Error generating stack: `+ir.message+`
`+ir.stack}return{value:er,source:e,stack:nr,digest:null}}function Ki(er,e,tr){return{value:er,source:null,stack:tr??null,digest:e??null}}function Li(er,e){try{console.error(e.value)}catch(tr){setTimeout(function(){throw tr})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(er,e,tr){tr=mh(-1,tr),tr.tag=3,tr.payload={element:null};var rr=e.value;return tr.callback=function(){Oi||(Oi=!0,Pi=rr),Li(er,e)},tr}function Qi(er,e,tr){tr=mh(-1,tr),tr.tag=3;var rr=er.type.getDerivedStateFromError;if(typeof rr=="function"){var nr=e.value;tr.payload=function(){return rr(nr)},tr.callback=function(){Li(er,e)}}var ir=er.stateNode;return ir!==null&&typeof ir.componentDidCatch=="function"&&(tr.callback=function(){Li(er,e),typeof rr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var sr=e.stack;this.componentDidCatch(e.value,{componentStack:sr!==null?sr:""})}),tr}function Si(er,e,tr){var rr=er.pingCache;if(rr===null){rr=er.pingCache=new Mi;var nr=new Set;rr.set(e,nr)}else nr=rr.get(e),nr===void 0&&(nr=new Set,rr.set(e,nr));nr.has(tr)||(nr.add(tr),er=Ti.bind(null,er,e,tr),e.then(er,er))}function Ui(er){do{var e;if((e=er.tag===13)&&(e=er.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return er;er=er.return}while(er!==null);return null}function Vi(er,e,tr,rr,nr){return er.mode&1?(er.flags|=65536,er.lanes=nr,er):(er===e?er.flags|=65536:(er.flags|=128,tr.flags|=131072,tr.flags&=-52805,tr.tag===1&&(tr.alternate===null?tr.tag=17:(e=mh(-1,1),e.tag=2,nh(tr,e,1))),tr.lanes|=1),er)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(er,e,tr,rr){e.child=er===null?Vg(e,null,tr,rr):Ug(e,er.child,tr,rr)}function Yi(er,e,tr,rr,nr){tr=tr.render;var ir=e.ref;return ch(e,nr),rr=Nh(er,e,tr,rr,ir,nr),tr=Sh(),er!==null&&!dh?(e.updateQueue=er.updateQueue,e.flags&=-2053,er.lanes&=~nr,Zi(er,e,nr)):(I$1&&tr&&vg(e),e.flags|=1,Xi(er,e,rr,nr),e.child)}function $i(er,e,tr,rr,nr){if(er===null){var ir=tr.type;return typeof ir=="function"&&!aj(ir)&&ir.defaultProps===void 0&&tr.compare===null&&tr.defaultProps===void 0?(e.tag=15,e.type=ir,bj(er,e,ir,rr,nr)):(er=Rg(tr.type,null,rr,e,e.mode,nr),er.ref=e.ref,er.return=e,e.child=er)}if(ir=er.child,!(er.lanes&nr)){var sr=ir.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:Ie$1,tr(sr,rr)&&er.ref===e.ref)return Zi(er,e,nr)}return e.flags|=1,er=Pg(ir,rr),er.ref=e.ref,er.return=e,e.child=er}function bj(er,e,tr,rr,nr){if(er!==null){var ir=er.memoizedProps;if(Ie$1(ir,rr)&&er.ref===e.ref)if(dh=!1,e.pendingProps=rr=ir,(er.lanes&nr)!==0)er.flags&131072&&(dh=!0);else return e.lanes=er.lanes,Zi(er,e,nr)}return cj(er,e,tr,rr,nr)}function dj(er,e,tr){var rr=e.pendingProps,nr=rr.children,ir=er!==null?er.memoizedState:null;if(rr.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=tr;else{if(!(tr&1073741824))return er=ir!==null?ir.baseLanes|tr:tr,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:er,cachePool:null,transitions:null},e.updateQueue=null,G$1(ej,fj),fj|=er,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr=ir!==null?ir.baseLanes:tr,G$1(ej,fj),fj|=rr}else ir!==null?(rr=ir.baseLanes|tr,e.memoizedState=null):rr=tr,G$1(ej,fj),fj|=rr;return Xi(er,e,nr,tr),e.child}function gj(er,e){var tr=e.ref;(er===null&&tr!==null||er!==null&&er.ref!==tr)&&(e.flags|=512,e.flags|=2097152)}function cj(er,e,tr,rr,nr){var ir=Zf(tr)?Xf:H$1.current;return ir=Yf(e,ir),ch(e,nr),tr=Nh(er,e,tr,rr,ir,nr),rr=Sh(),er!==null&&!dh?(e.updateQueue=er.updateQueue,e.flags&=-2053,er.lanes&=~nr,Zi(er,e,nr)):(I$1&&rr&&vg(e),e.flags|=1,Xi(er,e,tr,nr),e.child)}function hj(er,e,tr,rr,nr){if(Zf(tr)){var ir=!0;cg(e)}else ir=!1;if(ch(e,nr),e.stateNode===null)ij(er,e),Gi(e,tr,rr),Ii(e,tr,rr,nr),rr=!0;else if(er===null){var sr=e.stateNode,or=e.memoizedProps;sr.props=or;var ar=sr.context,lr=tr.contextType;typeof lr=="object"&&lr!==null?lr=eh(lr):(lr=Zf(tr)?Xf:H$1.current,lr=Yf(e,lr));var cr=tr.getDerivedStateFromProps,dr=typeof cr=="function"||typeof sr.getSnapshotBeforeUpdate=="function";dr||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(or!==rr||ar!==lr)&&Hi(e,sr,rr,lr),jh=!1;var hr=e.memoizedState;sr.state=hr,qh(e,rr,sr,nr),ar=e.memoizedState,or!==rr||hr!==ar||Wf.current||jh?(typeof cr=="function"&&(Di(e,tr,cr,rr),ar=e.memoizedState),(or=jh||Fi(e,tr,or,rr,hr,ar,lr))?(dr||typeof sr.UNSAFE_componentWillMount!="function"&&typeof sr.componentWillMount!="function"||(typeof sr.componentWillMount=="function"&&sr.componentWillMount(),typeof sr.UNSAFE_componentWillMount=="function"&&sr.UNSAFE_componentWillMount()),typeof sr.componentDidMount=="function"&&(e.flags|=4194308)):(typeof sr.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=rr,e.memoizedState=ar),sr.props=rr,sr.state=ar,sr.context=lr,rr=or):(typeof sr.componentDidMount=="function"&&(e.flags|=4194308),rr=!1)}else{sr=e.stateNode,lh(er,e),or=e.memoizedProps,lr=e.type===e.elementType?or:Ci(e.type,or),sr.props=lr,dr=e.pendingProps,hr=sr.context,ar=tr.contextType,typeof ar=="object"&&ar!==null?ar=eh(ar):(ar=Zf(tr)?Xf:H$1.current,ar=Yf(e,ar));var ur=tr.getDerivedStateFromProps;(cr=typeof ur=="function"||typeof sr.getSnapshotBeforeUpdate=="function")||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(or!==dr||hr!==ar)&&Hi(e,sr,rr,ar),jh=!1,hr=e.memoizedState,sr.state=hr,qh(e,rr,sr,nr);var pr=e.memoizedState;or!==dr||hr!==pr||Wf.current||jh?(typeof ur=="function"&&(Di(e,tr,ur,rr),pr=e.memoizedState),(lr=jh||Fi(e,tr,lr,rr,hr,pr,ar)||!1)?(cr||typeof sr.UNSAFE_componentWillUpdate!="function"&&typeof sr.componentWillUpdate!="function"||(typeof sr.componentWillUpdate=="function"&&sr.componentWillUpdate(rr,pr,ar),typeof sr.UNSAFE_componentWillUpdate=="function"&&sr.UNSAFE_componentWillUpdate(rr,pr,ar)),typeof sr.componentDidUpdate=="function"&&(e.flags|=4),typeof sr.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof sr.componentDidUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(e.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(e.flags|=1024),e.memoizedProps=rr,e.memoizedState=pr),sr.props=rr,sr.state=pr,sr.context=ar,rr=lr):(typeof sr.componentDidUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(e.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(e.flags|=1024),rr=!1)}return jj(er,e,tr,rr,ir,nr)}function jj(er,e,tr,rr,nr,ir){gj(er,e);var sr=(e.flags&128)!==0;if(!rr&&!sr)return nr&&dg(e,tr,!1),Zi(er,e,ir);rr=e.stateNode,Wi.current=e;var or=sr&&typeof tr.getDerivedStateFromError!="function"?null:rr.render();return e.flags|=1,er!==null&&sr?(e.child=Ug(e,er.child,null,ir),e.child=Ug(e,null,or,ir)):Xi(er,e,or,ir),e.memoizedState=rr.state,nr&&dg(e,tr,!0),e.child}function kj(er){var e=er.stateNode;e.pendingContext?ag(er,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(er,e.context,!1),yh(er,e.containerInfo)}function lj(er,e,tr,rr,nr){return Ig(),Jg(nr),e.flags|=256,Xi(er,e,tr,rr),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(er){return{baseLanes:er,cachePool:null,transitions:null}}function oj(er,e,tr){var rr=e.pendingProps,nr=L$1.current,ir=!1,sr=(e.flags&128)!==0,or;if((or=sr)||(or=er!==null&&er.memoizedState===null?!1:(nr&2)!==0),or?(ir=!0,e.flags&=-129):(er===null||er.memoizedState!==null)&&(nr|=1),G$1(L$1,nr&1),er===null)return Eg(e),er=e.memoizedState,er!==null&&(er=er.dehydrated,er!==null)?(e.mode&1?er.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(sr=rr.children,er=rr.fallback,ir?(rr=e.mode,ir=e.child,sr={mode:"hidden",children:sr},!(rr&1)&&ir!==null?(ir.childLanes=0,ir.pendingProps=sr):ir=pj(sr,rr,0,null),er=Tg(er,rr,tr,null),ir.return=e,er.return=e,ir.sibling=er,e.child=ir,e.child.memoizedState=nj(tr),e.memoizedState=mj,er):qj(e,sr));if(nr=er.memoizedState,nr!==null&&(or=nr.dehydrated,or!==null))return rj(er,e,sr,rr,or,nr,tr);if(ir){ir=rr.fallback,sr=e.mode,nr=er.child,or=nr.sibling;var ar={mode:"hidden",children:rr.children};return!(sr&1)&&e.child!==nr?(rr=e.child,rr.childLanes=0,rr.pendingProps=ar,e.deletions=null):(rr=Pg(nr,ar),rr.subtreeFlags=nr.subtreeFlags&14680064),or!==null?ir=Pg(or,ir):(ir=Tg(ir,sr,tr,null),ir.flags|=2),ir.return=e,rr.return=e,rr.sibling=ir,e.child=rr,rr=ir,ir=e.child,sr=er.child.memoizedState,sr=sr===null?nj(tr):{baseLanes:sr.baseLanes|tr,cachePool:null,transitions:sr.transitions},ir.memoizedState=sr,ir.childLanes=er.childLanes&~tr,e.memoizedState=mj,rr}return ir=er.child,er=ir.sibling,rr=Pg(ir,{mode:"visible",children:rr.children}),!(e.mode&1)&&(rr.lanes=tr),rr.return=e,rr.sibling=null,er!==null&&(tr=e.deletions,tr===null?(e.deletions=[er],e.flags|=16):tr.push(er)),e.child=rr,e.memoizedState=null,rr}function qj(er,e){return e=pj({mode:"visible",children:e},er.mode,0,null),e.return=er,er.child=e}function sj(er,e,tr,rr){return rr!==null&&Jg(rr),Ug(e,er.child,null,tr),er=qj(e,e.pendingProps.children),er.flags|=2,e.memoizedState=null,er}function rj(er,e,tr,rr,nr,ir,sr){if(tr)return e.flags&256?(e.flags&=-257,rr=Ki(Error(p$1(422))),sj(er,e,sr,rr)):e.memoizedState!==null?(e.child=er.child,e.flags|=128,null):(ir=rr.fallback,nr=e.mode,rr=pj({mode:"visible",children:rr.children},nr,0,null),ir=Tg(ir,nr,sr,null),ir.flags|=2,rr.return=e,ir.return=e,rr.sibling=ir,e.child=rr,e.mode&1&&Ug(e,er.child,null,sr),e.child.memoizedState=nj(sr),e.memoizedState=mj,ir);if(!(e.mode&1))return sj(er,e,sr,null);if(nr.data==="$!"){if(rr=nr.nextSibling&&nr.nextSibling.dataset,rr)var or=rr.dgst;return rr=or,ir=Error(p$1(419)),rr=Ki(ir,rr,void 0),sj(er,e,sr,rr)}if(or=(sr&er.childLanes)!==0,dh||or){if(rr=Q$1,rr!==null){switch(sr&-sr){case 4:nr=2;break;case 16:nr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nr=32;break;case 536870912:nr=268435456;break;default:nr=0}nr=nr&(rr.suspendedLanes|sr)?0:nr,nr!==0&&nr!==ir.retryLane&&(ir.retryLane=nr,ih(er,nr),gi(rr,er,nr,-1))}return tj(),rr=Ki(Error(p$1(421))),sj(er,e,sr,rr)}return nr.data==="$?"?(e.flags|=128,e.child=er.child,e=uj.bind(null,er),nr._reactRetry=e,null):(er=ir.treeContext,yg=Lf(nr.nextSibling),xg=e,I$1=!0,zg=null,er!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=er.id,sg=er.overflow,qg=e),e=qj(e,rr.children),e.flags|=4096,e)}function vj(er,e,tr){er.lanes|=e;var rr=er.alternate;rr!==null&&(rr.lanes|=e),bh(er.return,e,tr)}function wj(er,e,tr,rr,nr){var ir=er.memoizedState;ir===null?er.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:rr,tail:tr,tailMode:nr}:(ir.isBackwards=e,ir.rendering=null,ir.renderingStartTime=0,ir.last=rr,ir.tail=tr,ir.tailMode=nr)}function xj(er,e,tr){var rr=e.pendingProps,nr=rr.revealOrder,ir=rr.tail;if(Xi(er,e,rr.children,tr),rr=L$1.current,rr&2)rr=rr&1|2,e.flags|=128;else{if(er!==null&&er.flags&128)e:for(er=e.child;er!==null;){if(er.tag===13)er.memoizedState!==null&&vj(er,tr,e);else if(er.tag===19)vj(er,tr,e);else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===e)break e;for(;er.sibling===null;){if(er.return===null||er.return===e)break e;er=er.return}er.sibling.return=er.return,er=er.sibling}rr&=1}if(G$1(L$1,rr),!(e.mode&1))e.memoizedState=null;else switch(nr){case"forwards":for(tr=e.child,nr=null;tr!==null;)er=tr.alternate,er!==null&&Ch(er)===null&&(nr=tr),tr=tr.sibling;tr=nr,tr===null?(nr=e.child,e.child=null):(nr=tr.sibling,tr.sibling=null),wj(e,!1,nr,tr,ir);break;case"backwards":for(tr=null,nr=e.child,e.child=null;nr!==null;){if(er=nr.alternate,er!==null&&Ch(er)===null){e.child=nr;break}er=nr.sibling,nr.sibling=tr,tr=nr,nr=er}wj(e,!0,tr,null,ir);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(er,e){!(e.mode&1)&&er!==null&&(er.alternate=null,e.alternate=null,e.flags|=2)}function Zi(er,e,tr){if(er!==null&&(e.dependencies=er.dependencies),rh|=e.lanes,!(tr&e.childLanes))return null;if(er!==null&&e.child!==er.child)throw Error(p$1(153));if(e.child!==null){for(er=e.child,tr=Pg(er,er.pendingProps),e.child=tr,tr.return=e;er.sibling!==null;)er=er.sibling,tr=tr.sibling=Pg(er,er.pendingProps),tr.return=e;tr.sibling=null}return e.child}function yj(er,e,tr){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var rr=e.type._context,nr=e.memoizedProps.value;G$1(Wg,rr._currentValue),rr._currentValue=nr;break;case 13:if(rr=e.memoizedState,rr!==null)return rr.dehydrated!==null?(G$1(L$1,L$1.current&1),e.flags|=128,null):tr&e.child.childLanes?oj(er,e,tr):(G$1(L$1,L$1.current&1),er=Zi(er,e,tr),er!==null?er.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(rr=(tr&e.childLanes)!==0,er.flags&128){if(rr)return xj(er,e,tr);e.flags|=128}if(nr=e.memoizedState,nr!==null&&(nr.rendering=null,nr.tail=null,nr.lastEffect=null),G$1(L$1,L$1.current),rr)break;return null;case 22:case 23:return e.lanes=0,dj(er,e,tr)}return Zi(er,e,tr)}var zj,Aj,Bj,Cj;zj=function(er,e){for(var tr=e.child;tr!==null;){if(tr.tag===5||tr.tag===6)er.appendChild(tr.stateNode);else if(tr.tag!==4&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===e)break;for(;tr.sibling===null;){if(tr.return===null||tr.return===e)return;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}};Aj=function(){};Bj=function(er,e,tr,rr){var nr=er.memoizedProps;if(nr!==rr){er=e.stateNode,xh(uh.current);var ir=null;switch(tr){case"input":nr=Ya(er,nr),rr=Ya(er,rr),ir=[];break;case"select":nr=A$1({},nr,{value:void 0}),rr=A$1({},rr,{value:void 0}),ir=[];break;case"textarea":nr=gb(er,nr),rr=gb(er,rr),ir=[];break;default:typeof nr.onClick!="function"&&typeof rr.onClick=="function"&&(er.onclick=Bf)}ub(tr,rr);var sr;tr=null;for(lr in nr)if(!rr.hasOwnProperty(lr)&&nr.hasOwnProperty(lr)&&nr[lr]!=null)if(lr==="style"){var or=nr[lr];for(sr in or)or.hasOwnProperty(sr)&&(tr||(tr={}),tr[sr]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?ir||(ir=[]):(ir=ir||[]).push(lr,null));for(lr in rr){var ar=rr[lr];if(or=nr!=null?nr[lr]:void 0,rr.hasOwnProperty(lr)&&ar!==or&&(ar!=null||or!=null))if(lr==="style")if(or){for(sr in or)!or.hasOwnProperty(sr)||ar&&ar.hasOwnProperty(sr)||(tr||(tr={}),tr[sr]="");for(sr in ar)ar.hasOwnProperty(sr)&&or[sr]!==ar[sr]&&(tr||(tr={}),tr[sr]=ar[sr])}else tr||(ir||(ir=[]),ir.push(lr,tr)),tr=ar;else lr==="dangerouslySetInnerHTML"?(ar=ar?ar.__html:void 0,or=or?or.__html:void 0,ar!=null&&or!==ar&&(ir=ir||[]).push(lr,ar)):lr==="children"?typeof ar!="string"&&typeof ar!="number"||(ir=ir||[]).push(lr,""+ar):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(ar!=null&&lr==="onScroll"&&D$2("scroll",er),ir||or===ar||(ir=[])):(ir=ir||[]).push(lr,ar))}tr&&(ir=ir||[]).push("style",tr);var lr=ir;(e.updateQueue=lr)&&(e.flags|=4)}};Cj=function(er,e,tr,rr){tr!==rr&&(e.flags|=4)};function Dj(er,e){if(!I$1)switch(er.tailMode){case"hidden":e=er.tail;for(var tr=null;e!==null;)e.alternate!==null&&(tr=e),e=e.sibling;tr===null?er.tail=null:tr.sibling=null;break;case"collapsed":tr=er.tail;for(var rr=null;tr!==null;)tr.alternate!==null&&(rr=tr),tr=tr.sibling;rr===null?e||er.tail===null?er.tail=null:er.tail.sibling=null:rr.sibling=null}}function S$2(er){var e=er.alternate!==null&&er.alternate.child===er.child,tr=0,rr=0;if(e)for(var nr=er.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags&14680064,rr|=nr.flags&14680064,nr.return=er,nr=nr.sibling;else for(nr=er.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags,rr|=nr.flags,nr.return=er,nr=nr.sibling;return er.subtreeFlags|=rr,er.childLanes=tr,e}function Ej(er,e,tr){var rr=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(e),null;case 1:return Zf(e.type)&&$f(),S$2(e),null;case 3:return rr=e.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),rr.pendingContext&&(rr.context=rr.pendingContext,rr.pendingContext=null),(er===null||er.child===null)&&(Gg(e)?e.flags|=4:er===null||er.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(er,e),S$2(e),null;case 5:Bh(e);var nr=xh(wh.current);if(tr=e.type,er!==null&&e.stateNode!=null)Bj(er,e,tr,rr,nr),er.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!rr){if(e.stateNode===null)throw Error(p$1(166));return S$2(e),null}if(er=xh(uh.current),Gg(e)){rr=e.stateNode,tr=e.type;var ir=e.memoizedProps;switch(rr[Of]=e,rr[Pf]=ir,er=(e.mode&1)!==0,tr){case"dialog":D$2("cancel",rr),D$2("close",rr);break;case"iframe":case"object":case"embed":D$2("load",rr);break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$2(lf[nr],rr);break;case"source":D$2("error",rr);break;case"img":case"image":case"link":D$2("error",rr),D$2("load",rr);break;case"details":D$2("toggle",rr);break;case"input":Za(rr,ir),D$2("invalid",rr);break;case"select":rr._wrapperState={wasMultiple:!!ir.multiple},D$2("invalid",rr);break;case"textarea":hb(rr,ir),D$2("invalid",rr)}ub(tr,ir),nr=null;for(var sr in ir)if(ir.hasOwnProperty(sr)){var or=ir[sr];sr==="children"?typeof or=="string"?rr.textContent!==or&&(ir.suppressHydrationWarning!==!0&&Af(rr.textContent,or,er),nr=["children",or]):typeof or=="number"&&rr.textContent!==""+or&&(ir.suppressHydrationWarning!==!0&&Af(rr.textContent,or,er),nr=["children",""+or]):ea.hasOwnProperty(sr)&&or!=null&&sr==="onScroll"&&D$2("scroll",rr)}switch(tr){case"input":Va(rr),db$1(rr,ir,!0);break;case"textarea":Va(rr),jb(rr);break;case"select":case"option":break;default:typeof ir.onClick=="function"&&(rr.onclick=Bf)}rr=nr,e.updateQueue=rr,rr!==null&&(e.flags|=4)}else{sr=nr.nodeType===9?nr:nr.ownerDocument,er==="http://www.w3.org/1999/xhtml"&&(er=kb(tr)),er==="http://www.w3.org/1999/xhtml"?tr==="script"?(er=sr.createElement("div"),er.innerHTML="<script><\/script>",er=er.removeChild(er.firstChild)):typeof rr.is=="string"?er=sr.createElement(tr,{is:rr.is}):(er=sr.createElement(tr),tr==="select"&&(sr=er,rr.multiple?sr.multiple=!0:rr.size&&(sr.size=rr.size))):er=sr.createElementNS(er,tr),er[Of]=e,er[Pf]=rr,zj(er,e,!1,!1),e.stateNode=er;e:{switch(sr=vb(tr,rr),tr){case"dialog":D$2("cancel",er),D$2("close",er),nr=rr;break;case"iframe":case"object":case"embed":D$2("load",er),nr=rr;break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$2(lf[nr],er);nr=rr;break;case"source":D$2("error",er),nr=rr;break;case"img":case"image":case"link":D$2("error",er),D$2("load",er),nr=rr;break;case"details":D$2("toggle",er),nr=rr;break;case"input":Za(er,rr),nr=Ya(er,rr),D$2("invalid",er);break;case"option":nr=rr;break;case"select":er._wrapperState={wasMultiple:!!rr.multiple},nr=A$1({},rr,{value:void 0}),D$2("invalid",er);break;case"textarea":hb(er,rr),nr=gb(er,rr),D$2("invalid",er);break;default:nr=rr}ub(tr,nr),or=nr;for(ir in or)if(or.hasOwnProperty(ir)){var ar=or[ir];ir==="style"?sb(er,ar):ir==="dangerouslySetInnerHTML"?(ar=ar?ar.__html:void 0,ar!=null&&nb(er,ar)):ir==="children"?typeof ar=="string"?(tr!=="textarea"||ar!=="")&&ob(er,ar):typeof ar=="number"&&ob(er,""+ar):ir!=="suppressContentEditableWarning"&&ir!=="suppressHydrationWarning"&&ir!=="autoFocus"&&(ea.hasOwnProperty(ir)?ar!=null&&ir==="onScroll"&&D$2("scroll",er):ar!=null&&ta(er,ir,ar,sr))}switch(tr){case"input":Va(er),db$1(er,rr,!1);break;case"textarea":Va(er),jb(er);break;case"option":rr.value!=null&&er.setAttribute("value",""+Sa(rr.value));break;case"select":er.multiple=!!rr.multiple,ir=rr.value,ir!=null?fb(er,!!rr.multiple,ir,!1):rr.defaultValue!=null&&fb(er,!!rr.multiple,rr.defaultValue,!0);break;default:typeof nr.onClick=="function"&&(er.onclick=Bf)}switch(tr){case"button":case"input":case"select":case"textarea":rr=!!rr.autoFocus;break e;case"img":rr=!0;break e;default:rr=!1}}rr&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$2(e),null;case 6:if(er&&e.stateNode!=null)Cj(er,e,er.memoizedProps,rr);else{if(typeof rr!="string"&&e.stateNode===null)throw Error(p$1(166));if(tr=xh(wh.current),xh(uh.current),Gg(e)){if(rr=e.stateNode,tr=e.memoizedProps,rr[Of]=e,(ir=rr.nodeValue!==tr)&&(er=xg,er!==null))switch(er.tag){case 3:Af(rr.nodeValue,tr,(er.mode&1)!==0);break;case 5:er.memoizedProps.suppressHydrationWarning!==!0&&Af(rr.nodeValue,tr,(er.mode&1)!==0)}ir&&(e.flags|=4)}else rr=(tr.nodeType===9?tr:tr.ownerDocument).createTextNode(rr),rr[Of]=e,e.stateNode=rr}return S$2(e),null;case 13:if(E$1(L$1),rr=e.memoizedState,er===null||er.memoizedState!==null&&er.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,ir=!1;else if(ir=Gg(e),rr!==null&&rr.dehydrated!==null){if(er===null){if(!ir)throw Error(p$1(318));if(ir=e.memoizedState,ir=ir!==null?ir.dehydrated:null,!ir)throw Error(p$1(317));ir[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$2(e),ir=!1}else zg!==null&&(Fj(zg),zg=null),ir=!0;if(!ir)return e.flags&65536?e:null}return e.flags&128?(e.lanes=tr,e):(rr=rr!==null,rr!==(er!==null&&er.memoizedState!==null)&&rr&&(e.child.flags|=8192,e.mode&1&&(er===null||L$1.current&1?T$1===0&&(T$1=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$2(e),null);case 4:return zh(),Aj(er,e),er===null&&sf(e.stateNode.containerInfo),S$2(e),null;case 10:return ah(e.type._context),S$2(e),null;case 17:return Zf(e.type)&&$f(),S$2(e),null;case 19:if(E$1(L$1),ir=e.memoizedState,ir===null)return S$2(e),null;if(rr=(e.flags&128)!==0,sr=ir.rendering,sr===null)if(rr)Dj(ir,!1);else{if(T$1!==0||er!==null&&er.flags&128)for(er=e.child;er!==null;){if(sr=Ch(er),sr!==null){for(e.flags|=128,Dj(ir,!1),rr=sr.updateQueue,rr!==null&&(e.updateQueue=rr,e.flags|=4),e.subtreeFlags=0,rr=tr,tr=e.child;tr!==null;)ir=tr,er=rr,ir.flags&=14680066,sr=ir.alternate,sr===null?(ir.childLanes=0,ir.lanes=er,ir.child=null,ir.subtreeFlags=0,ir.memoizedProps=null,ir.memoizedState=null,ir.updateQueue=null,ir.dependencies=null,ir.stateNode=null):(ir.childLanes=sr.childLanes,ir.lanes=sr.lanes,ir.child=sr.child,ir.subtreeFlags=0,ir.deletions=null,ir.memoizedProps=sr.memoizedProps,ir.memoizedState=sr.memoizedState,ir.updateQueue=sr.updateQueue,ir.type=sr.type,er=sr.dependencies,ir.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext}),tr=tr.sibling;return G$1(L$1,L$1.current&1|2),e.child}er=er.sibling}ir.tail!==null&&B$1()>Gj&&(e.flags|=128,rr=!0,Dj(ir,!1),e.lanes=4194304)}else{if(!rr)if(er=Ch(sr),er!==null){if(e.flags|=128,rr=!0,tr=er.updateQueue,tr!==null&&(e.updateQueue=tr,e.flags|=4),Dj(ir,!0),ir.tail===null&&ir.tailMode==="hidden"&&!sr.alternate&&!I$1)return S$2(e),null}else 2*B$1()-ir.renderingStartTime>Gj&&tr!==1073741824&&(e.flags|=128,rr=!0,Dj(ir,!1),e.lanes=4194304);ir.isBackwards?(sr.sibling=e.child,e.child=sr):(tr=ir.last,tr!==null?tr.sibling=sr:e.child=sr,ir.last=sr)}return ir.tail!==null?(e=ir.tail,ir.rendering=e,ir.tail=e.sibling,ir.renderingStartTime=B$1(),e.sibling=null,tr=L$1.current,G$1(L$1,rr?tr&1|2:tr&1),e):(S$2(e),null);case 22:case 23:return Hj(),rr=e.memoizedState!==null,er!==null&&er.memoizedState!==null!==rr&&(e.flags|=8192),rr&&e.mode&1?fj&1073741824&&(S$2(e),e.subtreeFlags&6&&(e.flags|=8192)):S$2(e),null;case 24:return null;case 25:return null}throw Error(p$1(156,e.tag))}function Ij(er,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),er=e.flags,er&65536?(e.flags=er&-65537|128,e):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),er=e.flags,er&65536&&!(er&128)?(e.flags=er&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E$1(L$1),er=e.memoizedState,er!==null&&er.dehydrated!==null){if(e.alternate===null)throw Error(p$1(340));Ig()}return er=e.flags,er&65536?(e.flags=er&-65537|128,e):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(er,e){var tr=er.ref;if(tr!==null)if(typeof tr=="function")try{tr(null)}catch(rr){W$1(er,e,rr)}else tr.current=null}function Mj(er,e,tr){try{tr()}catch(rr){W$1(er,e,rr)}}var Nj=!1;function Oj(er,e){if(Cf=dd,er=Me(),Ne$1(er)){if("selectionStart"in er)var tr={start:er.selectionStart,end:er.selectionEnd};else e:{tr=(tr=er.ownerDocument)&&tr.defaultView||window;var rr=tr.getSelection&&tr.getSelection();if(rr&&rr.rangeCount!==0){tr=rr.anchorNode;var nr=rr.anchorOffset,ir=rr.focusNode;rr=rr.focusOffset;try{tr.nodeType,ir.nodeType}catch{tr=null;break e}var sr=0,or=-1,ar=-1,lr=0,cr=0,dr=er,hr=null;t:for(;;){for(var ur;dr!==tr||nr!==0&&dr.nodeType!==3||(or=sr+nr),dr!==ir||rr!==0&&dr.nodeType!==3||(ar=sr+rr),dr.nodeType===3&&(sr+=dr.nodeValue.length),(ur=dr.firstChild)!==null;)hr=dr,dr=ur;for(;;){if(dr===er)break t;if(hr===tr&&++lr===nr&&(or=sr),hr===ir&&++cr===rr&&(ar=sr),(ur=dr.nextSibling)!==null)break;dr=hr,hr=dr.parentNode}dr=ur}tr=or===-1||ar===-1?null:{start:or,end:ar}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Df={focusedElem:er,selectionRange:tr},dd=!1,V$1=e;V$1!==null;)if(e=V$1,er=e.child,(e.subtreeFlags&1028)!==0&&er!==null)er.return=e,V$1=er;else for(;V$1!==null;){e=V$1;try{var pr=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(pr!==null){var mr=pr.memoizedProps,fr=pr.memoizedState,gr=e.stateNode,yr=gr.getSnapshotBeforeUpdate(e.elementType===e.type?mr:Ci(e.type,mr),fr);gr.__reactInternalSnapshotBeforeUpdate=yr}break;case 3:var vr=e.stateNode.containerInfo;vr.nodeType===1?vr.textContent="":vr.nodeType===9&&vr.documentElement&&vr.removeChild(vr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(br){W$1(e,e.return,br)}if(er=e.sibling,er!==null){er.return=e.return,V$1=er;break}V$1=e.return}return pr=Nj,Nj=!1,pr}function Pj(er,e,tr){var rr=e.updateQueue;if(rr=rr!==null?rr.lastEffect:null,rr!==null){var nr=rr=rr.next;do{if((nr.tag&er)===er){var ir=nr.destroy;nr.destroy=void 0,ir!==void 0&&Mj(e,tr,ir)}nr=nr.next}while(nr!==rr)}}function Qj(er,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var tr=e=e.next;do{if((tr.tag&er)===er){var rr=tr.create;tr.destroy=rr()}tr=tr.next}while(tr!==e)}}function Rj(er){var e=er.ref;if(e!==null){var tr=er.stateNode;switch(er.tag){case 5:er=tr;break;default:er=tr}typeof e=="function"?e(er):e.current=er}}function Sj(er){var e=er.alternate;e!==null&&(er.alternate=null,Sj(e)),er.child=null,er.deletions=null,er.sibling=null,er.tag===5&&(e=er.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),er.stateNode=null,er.return=null,er.dependencies=null,er.memoizedProps=null,er.memoizedState=null,er.pendingProps=null,er.stateNode=null,er.updateQueue=null}function Tj(er){return er.tag===5||er.tag===3||er.tag===4}function Uj(er){e:for(;;){for(;er.sibling===null;){if(er.return===null||Tj(er.return))return null;er=er.return}for(er.sibling.return=er.return,er=er.sibling;er.tag!==5&&er.tag!==6&&er.tag!==18;){if(er.flags&2||er.child===null||er.tag===4)continue e;er.child.return=er,er=er.child}if(!(er.flags&2))return er.stateNode}}function Vj(er,e,tr){var rr=er.tag;if(rr===5||rr===6)er=er.stateNode,e?tr.nodeType===8?tr.parentNode.insertBefore(er,e):tr.insertBefore(er,e):(tr.nodeType===8?(e=tr.parentNode,e.insertBefore(er,tr)):(e=tr,e.appendChild(er)),tr=tr._reactRootContainer,tr!=null||e.onclick!==null||(e.onclick=Bf));else if(rr!==4&&(er=er.child,er!==null))for(Vj(er,e,tr),er=er.sibling;er!==null;)Vj(er,e,tr),er=er.sibling}function Wj(er,e,tr){var rr=er.tag;if(rr===5||rr===6)er=er.stateNode,e?tr.insertBefore(er,e):tr.appendChild(er);else if(rr!==4&&(er=er.child,er!==null))for(Wj(er,e,tr),er=er.sibling;er!==null;)Wj(er,e,tr),er=er.sibling}var X$2=null,Xj=!1;function Yj(er,e,tr){for(tr=tr.child;tr!==null;)Zj(er,e,tr),tr=tr.sibling}function Zj(er,e,tr){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,tr)}catch{}switch(tr.tag){case 5:U$1||Lj(tr,e);case 6:var rr=X$2,nr=Xj;X$2=null,Yj(er,e,tr),X$2=rr,Xj=nr,X$2!==null&&(Xj?(er=X$2,tr=tr.stateNode,er.nodeType===8?er.parentNode.removeChild(tr):er.removeChild(tr)):X$2.removeChild(tr.stateNode));break;case 18:X$2!==null&&(Xj?(er=X$2,tr=tr.stateNode,er.nodeType===8?Kf(er.parentNode,tr):er.nodeType===1&&Kf(er,tr),bd(er)):Kf(X$2,tr.stateNode));break;case 4:rr=X$2,nr=Xj,X$2=tr.stateNode.containerInfo,Xj=!0,Yj(er,e,tr),X$2=rr,Xj=nr;break;case 0:case 11:case 14:case 15:if(!U$1&&(rr=tr.updateQueue,rr!==null&&(rr=rr.lastEffect,rr!==null))){nr=rr=rr.next;do{var ir=nr,sr=ir.destroy;ir=ir.tag,sr!==void 0&&(ir&2||ir&4)&&Mj(tr,e,sr),nr=nr.next}while(nr!==rr)}Yj(er,e,tr);break;case 1:if(!U$1&&(Lj(tr,e),rr=tr.stateNode,typeof rr.componentWillUnmount=="function"))try{rr.props=tr.memoizedProps,rr.state=tr.memoizedState,rr.componentWillUnmount()}catch(or){W$1(tr,e,or)}Yj(er,e,tr);break;case 21:Yj(er,e,tr);break;case 22:tr.mode&1?(U$1=(rr=U$1)||tr.memoizedState!==null,Yj(er,e,tr),U$1=rr):Yj(er,e,tr);break;default:Yj(er,e,tr)}}function ak(er){var e=er.updateQueue;if(e!==null){er.updateQueue=null;var tr=er.stateNode;tr===null&&(tr=er.stateNode=new Kj),e.forEach(function(rr){var nr=bk.bind(null,er,rr);tr.has(rr)||(tr.add(rr),rr.then(nr,nr))})}}function ck(er,e){var tr=e.deletions;if(tr!==null)for(var rr=0;rr<tr.length;rr++){var nr=tr[rr];try{var ir=er,sr=e,or=sr;e:for(;or!==null;){switch(or.tag){case 5:X$2=or.stateNode,Xj=!1;break e;case 3:X$2=or.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=or.stateNode.containerInfo,Xj=!0;break e}or=or.return}if(X$2===null)throw Error(p$1(160));Zj(ir,sr,nr),X$2=null,Xj=!1;var ar=nr.alternate;ar!==null&&(ar.return=null),nr.return=null}catch(lr){W$1(nr,e,lr)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,er),e=e.sibling}function dk(er,e){var tr=er.alternate,rr=er.flags;switch(er.tag){case 0:case 11:case 14:case 15:if(ck(e,er),ek(er),rr&4){try{Pj(3,er,er.return),Qj(3,er)}catch(mr){W$1(er,er.return,mr)}try{Pj(5,er,er.return)}catch(mr){W$1(er,er.return,mr)}}break;case 1:ck(e,er),ek(er),rr&512&&tr!==null&&Lj(tr,tr.return);break;case 5:if(ck(e,er),ek(er),rr&512&&tr!==null&&Lj(tr,tr.return),er.flags&32){var nr=er.stateNode;try{ob(nr,"")}catch(mr){W$1(er,er.return,mr)}}if(rr&4&&(nr=er.stateNode,nr!=null)){var ir=er.memoizedProps,sr=tr!==null?tr.memoizedProps:ir,or=er.type,ar=er.updateQueue;if(er.updateQueue=null,ar!==null)try{or==="input"&&ir.type==="radio"&&ir.name!=null&&ab(nr,ir),vb(or,sr);var lr=vb(or,ir);for(sr=0;sr<ar.length;sr+=2){var cr=ar[sr],dr=ar[sr+1];cr==="style"?sb(nr,dr):cr==="dangerouslySetInnerHTML"?nb(nr,dr):cr==="children"?ob(nr,dr):ta(nr,cr,dr,lr)}switch(or){case"input":bb(nr,ir);break;case"textarea":ib(nr,ir);break;case"select":var hr=nr._wrapperState.wasMultiple;nr._wrapperState.wasMultiple=!!ir.multiple;var ur=ir.value;ur!=null?fb(nr,!!ir.multiple,ur,!1):hr!==!!ir.multiple&&(ir.defaultValue!=null?fb(nr,!!ir.multiple,ir.defaultValue,!0):fb(nr,!!ir.multiple,ir.multiple?[]:"",!1))}nr[Pf]=ir}catch(mr){W$1(er,er.return,mr)}}break;case 6:if(ck(e,er),ek(er),rr&4){if(er.stateNode===null)throw Error(p$1(162));nr=er.stateNode,ir=er.memoizedProps;try{nr.nodeValue=ir}catch(mr){W$1(er,er.return,mr)}}break;case 3:if(ck(e,er),ek(er),rr&4&&tr!==null&&tr.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(mr){W$1(er,er.return,mr)}break;case 4:ck(e,er),ek(er);break;case 13:ck(e,er),ek(er),nr=er.child,nr.flags&8192&&(ir=nr.memoizedState!==null,nr.stateNode.isHidden=ir,!ir||nr.alternate!==null&&nr.alternate.memoizedState!==null||(fk=B$1())),rr&4&&ak(er);break;case 22:if(cr=tr!==null&&tr.memoizedState!==null,er.mode&1?(U$1=(lr=U$1)||cr,ck(e,er),U$1=lr):ck(e,er),ek(er),rr&8192){if(lr=er.memoizedState!==null,(er.stateNode.isHidden=lr)&&!cr&&er.mode&1)for(V$1=er,cr=er.child;cr!==null;){for(dr=V$1=cr;V$1!==null;){switch(hr=V$1,ur=hr.child,hr.tag){case 0:case 11:case 14:case 15:Pj(4,hr,hr.return);break;case 1:Lj(hr,hr.return);var pr=hr.stateNode;if(typeof pr.componentWillUnmount=="function"){rr=hr,tr=hr.return;try{e=rr,pr.props=e.memoizedProps,pr.state=e.memoizedState,pr.componentWillUnmount()}catch(mr){W$1(rr,tr,mr)}}break;case 5:Lj(hr,hr.return);break;case 22:if(hr.memoizedState!==null){gk(dr);continue}}ur!==null?(ur.return=hr,V$1=ur):gk(dr)}cr=cr.sibling}e:for(cr=null,dr=er;;){if(dr.tag===5){if(cr===null){cr=dr;try{nr=dr.stateNode,lr?(ir=nr.style,typeof ir.setProperty=="function"?ir.setProperty("display","none","important"):ir.display="none"):(or=dr.stateNode,ar=dr.memoizedProps.style,sr=ar!=null&&ar.hasOwnProperty("display")?ar.display:null,or.style.display=rb("display",sr))}catch(mr){W$1(er,er.return,mr)}}}else if(dr.tag===6){if(cr===null)try{dr.stateNode.nodeValue=lr?"":dr.memoizedProps}catch(mr){W$1(er,er.return,mr)}}else if((dr.tag!==22&&dr.tag!==23||dr.memoizedState===null||dr===er)&&dr.child!==null){dr.child.return=dr,dr=dr.child;continue}if(dr===er)break e;for(;dr.sibling===null;){if(dr.return===null||dr.return===er)break e;cr===dr&&(cr=null),dr=dr.return}cr===dr&&(cr=null),dr.sibling.return=dr.return,dr=dr.sibling}}break;case 19:ck(e,er),ek(er),rr&4&&ak(er);break;case 21:break;default:ck(e,er),ek(er)}}function ek(er){var e=er.flags;if(e&2){try{e:{for(var tr=er.return;tr!==null;){if(Tj(tr)){var rr=tr;break e}tr=tr.return}throw Error(p$1(160))}switch(rr.tag){case 5:var nr=rr.stateNode;rr.flags&32&&(ob(nr,""),rr.flags&=-33);var ir=Uj(er);Wj(er,ir,nr);break;case 3:case 4:var sr=rr.stateNode.containerInfo,or=Uj(er);Vj(er,or,sr);break;default:throw Error(p$1(161))}}catch(ar){W$1(er,er.return,ar)}er.flags&=-3}e&4096&&(er.flags&=-4097)}function hk(er,e,tr){V$1=er,ik(er)}function ik(er,e,tr){for(var rr=(er.mode&1)!==0;V$1!==null;){var nr=V$1,ir=nr.child;if(nr.tag===22&&rr){var sr=nr.memoizedState!==null||Jj;if(!sr){var or=nr.alternate,ar=or!==null&&or.memoizedState!==null||U$1;or=Jj;var lr=U$1;if(Jj=sr,(U$1=ar)&&!lr)for(V$1=nr;V$1!==null;)sr=V$1,ar=sr.child,sr.tag===22&&sr.memoizedState!==null?jk(nr):ar!==null?(ar.return=sr,V$1=ar):jk(nr);for(;ir!==null;)V$1=ir,ik(ir),ir=ir.sibling;V$1=nr,Jj=or,U$1=lr}kk(er)}else nr.subtreeFlags&8772&&ir!==null?(ir.return=nr,V$1=ir):kk(er)}}function kk(er){for(;V$1!==null;){var e=V$1;if(e.flags&8772){var tr=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var rr=e.stateNode;if(e.flags&4&&!U$1)if(tr===null)rr.componentDidMount();else{var nr=e.elementType===e.type?tr.memoizedProps:Ci(e.type,tr.memoizedProps);rr.componentDidUpdate(nr,tr.memoizedState,rr.__reactInternalSnapshotBeforeUpdate)}var ir=e.updateQueue;ir!==null&&sh(e,ir,rr);break;case 3:var sr=e.updateQueue;if(sr!==null){if(tr=null,e.child!==null)switch(e.child.tag){case 5:tr=e.child.stateNode;break;case 1:tr=e.child.stateNode}sh(e,sr,tr)}break;case 5:var or=e.stateNode;if(tr===null&&e.flags&4){tr=or;var ar=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":ar.autoFocus&&tr.focus();break;case"img":ar.src&&(tr.src=ar.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var lr=e.alternate;if(lr!==null){var cr=lr.memoizedState;if(cr!==null){var dr=cr.dehydrated;dr!==null&&bd(dr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||e.flags&512&&Rj(e)}catch(hr){W$1(e,e.return,hr)}}if(e===er){V$1=null;break}if(tr=e.sibling,tr!==null){tr.return=e.return,V$1=tr;break}V$1=e.return}}function gk(er){for(;V$1!==null;){var e=V$1;if(e===er){V$1=null;break}var tr=e.sibling;if(tr!==null){tr.return=e.return,V$1=tr;break}V$1=e.return}}function jk(er){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var tr=e.return;try{Qj(4,e)}catch(ar){W$1(e,tr,ar)}break;case 1:var rr=e.stateNode;if(typeof rr.componentDidMount=="function"){var nr=e.return;try{rr.componentDidMount()}catch(ar){W$1(e,nr,ar)}}var ir=e.return;try{Rj(e)}catch(ar){W$1(e,ir,ar)}break;case 5:var sr=e.return;try{Rj(e)}catch(ar){W$1(e,sr,ar)}}}catch(ar){W$1(e,e.return,ar)}if(e===er){V$1=null;break}var or=e.sibling;if(or!==null){or.return=e.return,V$1=or;break}V$1=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(er){return er.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(er=C$2,er!==0||(er=window.event,er=er===void 0?16:jd(er.type)),er):1}function gi(er,e,tr,rr){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(er,tr,rr),(!(K$1&2)||er!==Q$1)&&(er===Q$1&&(!(K$1&2)&&(qk|=tr),T$1===4&&Ck(er,Z$1)),Dk(er,rr),tr===1&&K$1===0&&!(e.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(er,e){var tr=er.callbackNode;wc(er,e);var rr=uc(er,er===Q$1?Z$1:0);if(rr===0)tr!==null&&bc(tr),er.callbackNode=null,er.callbackPriority=0;else if(e=rr&-rr,er.callbackPriority!==e){if(tr!=null&&bc(tr),e===1)er.tag===0?ig(Ek.bind(null,er)):hg(Ek.bind(null,er)),Jf(function(){!(K$1&6)&&jg()}),tr=null;else{switch(Dc(rr)){case 1:tr=fc;break;case 4:tr=gc;break;case 16:tr=hc;break;case 536870912:tr=jc;break;default:tr=hc}tr=Fk(tr,Gk.bind(null,er))}er.callbackPriority=e,er.callbackNode=tr}}function Gk(er,e){if(Ak=-1,Bk=0,K$1&6)throw Error(p$1(327));var tr=er.callbackNode;if(Hk()&&er.callbackNode!==tr)return null;var rr=uc(er,er===Q$1?Z$1:0);if(rr===0)return null;if(rr&30||rr&er.expiredLanes||e)e=Ik(er,rr);else{e=rr;var nr=K$1;K$1|=2;var ir=Jk();(Q$1!==er||Z$1!==e)&&(uk=null,Gj=B$1()+500,Kk(er,e));do try{Lk();break}catch(or){Mk(er,or)}while(!0);$g(),mk.current=ir,K$1=nr,Y$1!==null?e=0:(Q$1=null,Z$1=0,e=T$1)}if(e!==0){if(e===2&&(nr=xc(er),nr!==0&&(rr=nr,e=Nk(er,nr))),e===1)throw tr=pk,Kk(er,0),Ck(er,rr),Dk(er,B$1()),tr;if(e===6)Ck(er,rr);else{if(nr=er.current.alternate,!(rr&30)&&!Ok(nr)&&(e=Ik(er,rr),e===2&&(ir=xc(er),ir!==0&&(rr=ir,e=Nk(er,ir))),e===1))throw tr=pk,Kk(er,0),Ck(er,rr),Dk(er,B$1()),tr;switch(er.finishedWork=nr,er.finishedLanes=rr,e){case 0:case 1:throw Error(p$1(345));case 2:Pk(er,tk,uk);break;case 3:if(Ck(er,rr),(rr&130023424)===rr&&(e=fk+500-B$1(),10<e)){if(uc(er,0)!==0)break;if(nr=er.suspendedLanes,(nr&rr)!==rr){R$1(),er.pingedLanes|=er.suspendedLanes&nr;break}er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),e);break}Pk(er,tk,uk);break;case 4:if(Ck(er,rr),(rr&4194240)===rr)break;for(e=er.eventTimes,nr=-1;0<rr;){var sr=31-oc(rr);ir=1<<sr,sr=e[sr],sr>nr&&(nr=sr),rr&=~ir}if(rr=nr,rr=B$1()-rr,rr=(120>rr?120:480>rr?480:1080>rr?1080:1920>rr?1920:3e3>rr?3e3:4320>rr?4320:1960*lk(rr/1960))-rr,10<rr){er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),rr);break}Pk(er,tk,uk);break;case 5:Pk(er,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(er,B$1()),er.callbackNode===tr?Gk.bind(null,er):null}function Nk(er,e){var tr=sk;return er.current.memoizedState.isDehydrated&&(Kk(er,e).flags|=256),er=Ik(er,e),er!==2&&(e=tk,tk=tr,e!==null&&Fj(e)),er}function Fj(er){tk===null?tk=er:tk.push.apply(tk,er)}function Ok(er){for(var e=er;;){if(e.flags&16384){var tr=e.updateQueue;if(tr!==null&&(tr=tr.stores,tr!==null))for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],ir=nr.getSnapshot;nr=nr.value;try{if(!He(ir(),nr))return!1}catch{return!1}}}if(tr=e.child,e.subtreeFlags&16384&&tr!==null)tr.return=e,e=tr;else{if(e===er)break;for(;e.sibling===null;){if(e.return===null||e.return===er)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(er,e){for(e&=~rk,e&=~qk,er.suspendedLanes|=e,er.pingedLanes&=~e,er=er.expirationTimes;0<e;){var tr=31-oc(e),rr=1<<tr;er[tr]=-1,e&=~rr}}function Ek(er){if(K$1&6)throw Error(p$1(327));Hk();var e=uc(er,0);if(!(e&1))return Dk(er,B$1()),null;var tr=Ik(er,e);if(er.tag!==0&&tr===2){var rr=xc(er);rr!==0&&(e=rr,tr=Nk(er,rr))}if(tr===1)throw tr=pk,Kk(er,0),Ck(er,e),Dk(er,B$1()),tr;if(tr===6)throw Error(p$1(345));return er.finishedWork=er.current.alternate,er.finishedLanes=e,Pk(er,tk,uk),Dk(er,B$1()),null}function Qk(er,e){var tr=K$1;K$1|=1;try{return er(e)}finally{K$1=tr,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(er){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var e=K$1;K$1|=1;var tr=ok.transition,rr=C$2;try{if(ok.transition=null,C$2=1,er)return er()}finally{C$2=rr,ok.transition=tr,K$1=e,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(er,e){er.finishedWork=null,er.finishedLanes=0;var tr=er.timeoutHandle;if(tr!==-1&&(er.timeoutHandle=-1,Gf(tr)),Y$1!==null)for(tr=Y$1.return;tr!==null;){var rr=tr;switch(wg(rr),rr.tag){case 1:rr=rr.type.childContextTypes,rr!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(rr);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(rr.type._context);break;case 22:case 23:Hj()}tr=tr.return}if(Q$1=er,Y$1=er=Pg(er.current,null),Z$1=fj=e,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(tr=fh[e],rr=tr.interleaved,rr!==null){tr.interleaved=null;var nr=rr.next,ir=tr.pending;if(ir!==null){var sr=ir.next;ir.next=nr,rr.next=sr}tr.pending=rr}fh=null}return er}function Mk(er,e){do{var tr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var rr=M$1.memoizedState;rr!==null;){var nr=rr.queue;nr!==null&&(nr.pending=null),rr=rr.next}Ih=!1}if(Hh=0,O$2=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,tr===null||tr.return===null){T$1=1,pk=e,Y$1=null;break}e:{var ir=er,sr=tr.return,or=tr,ar=e;if(e=Z$1,or.flags|=32768,ar!==null&&typeof ar=="object"&&typeof ar.then=="function"){var lr=ar,cr=or,dr=cr.tag;if(!(cr.mode&1)&&(dr===0||dr===11||dr===15)){var hr=cr.alternate;hr?(cr.updateQueue=hr.updateQueue,cr.memoizedState=hr.memoizedState,cr.lanes=hr.lanes):(cr.updateQueue=null,cr.memoizedState=null)}var ur=Ui(sr);if(ur!==null){ur.flags&=-257,Vi(ur,sr,or,ir,e),ur.mode&1&&Si(ir,lr,e),e=ur,ar=lr;var pr=e.updateQueue;if(pr===null){var mr=new Set;mr.add(ar),e.updateQueue=mr}else pr.add(ar);break e}else{if(!(e&1)){Si(ir,lr,e),tj();break e}ar=Error(p$1(426))}}else if(I$1&&or.mode&1){var fr=Ui(sr);if(fr!==null){!(fr.flags&65536)&&(fr.flags|=256),Vi(fr,sr,or,ir,e),Jg(Ji(ar,or));break e}}ir=ar=Ji(ar,or),T$1!==4&&(T$1=2),sk===null?sk=[ir]:sk.push(ir),ir=sr;do{switch(ir.tag){case 3:ir.flags|=65536,e&=-e,ir.lanes|=e;var gr=Ni(ir,ar,e);ph(ir,gr);break e;case 1:or=ar;var yr=ir.type,vr=ir.stateNode;if(!(ir.flags&128)&&(typeof yr.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(Ri===null||!Ri.has(vr)))){ir.flags|=65536,e&=-e,ir.lanes|=e;var br=Qi(ir,or,e);ph(ir,br);break e}}ir=ir.return}while(ir!==null)}Sk(tr)}catch(Sr){e=Sr,Y$1===tr&&tr!==null&&(Y$1=tr=tr.return);continue}break}while(!0)}function Jk(){var er=mk.current;return mk.current=Rh,er===null?Rh:er}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(er,e){var tr=K$1;K$1|=2;var rr=Jk();(Q$1!==er||Z$1!==e)&&(uk=null,Kk(er,e));do try{Tk();break}catch(nr){Mk(er,nr)}while(!0);if($g(),K$1=tr,mk.current=rr,Y$1!==null)throw Error(p$1(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(er){var e=Vk(er.alternate,er,fj);er.memoizedProps=er.pendingProps,e===null?Sk(er):Y$1=e,nk.current=null}function Sk(er){var e=er;do{var tr=e.alternate;if(er=e.return,e.flags&32768){if(tr=Ij(tr,e),tr!==null){tr.flags&=32767,Y$1=tr;return}if(er!==null)er.flags|=32768,er.subtreeFlags=0,er.deletions=null;else{T$1=6,Y$1=null;return}}else if(tr=Ej(tr,e,fj),tr!==null){Y$1=tr;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=er}while(e!==null);T$1===0&&(T$1=5)}function Pk(er,e,tr){var rr=C$2,nr=ok.transition;try{ok.transition=null,C$2=1,Wk(er,e,tr,rr)}finally{ok.transition=nr,C$2=rr}return null}function Wk(er,e,tr,rr){do Hk();while(wk!==null);if(K$1&6)throw Error(p$1(327));tr=er.finishedWork;var nr=er.finishedLanes;if(tr===null)return null;if(er.finishedWork=null,er.finishedLanes=0,tr===er.current)throw Error(p$1(177));er.callbackNode=null,er.callbackPriority=0;var ir=tr.lanes|tr.childLanes;if(Bc(er,ir),er===Q$1&&(Y$1=Q$1=null,Z$1=0),!(tr.subtreeFlags&2064)&&!(tr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ir=(tr.flags&15990)!==0,tr.subtreeFlags&15990||ir){ir=ok.transition,ok.transition=null;var sr=C$2;C$2=1;var or=K$1;K$1|=4,nk.current=null,Oj(er,tr),dk(tr,er),Oe(Df),dd=!!Cf,Df=Cf=null,er.current=tr,hk(tr),dc(),K$1=or,C$2=sr,ok.transition=ir}else er.current=tr;if(vk&&(vk=!1,wk=er,xk=nr),ir=er.pendingLanes,ir===0&&(Ri=null),mc(tr.stateNode),Dk(er,B$1()),e!==null)for(rr=er.onRecoverableError,tr=0;tr<e.length;tr++)nr=e[tr],rr(nr.value,{componentStack:nr.stack,digest:nr.digest});if(Oi)throw Oi=!1,er=Pi,Pi=null,er;return xk&1&&er.tag!==0&&Hk(),ir=er.pendingLanes,ir&1?er===zk?yk++:(yk=0,zk=er):yk=0,jg(),null}function Hk(){if(wk!==null){var er=Dc(xk),e=ok.transition,tr=C$2;try{if(ok.transition=null,C$2=16>er?16:er,wk===null)var rr=!1;else{if(er=wk,wk=null,xk=0,K$1&6)throw Error(p$1(331));var nr=K$1;for(K$1|=4,V$1=er.current;V$1!==null;){var ir=V$1,sr=ir.child;if(V$1.flags&16){var or=ir.deletions;if(or!==null){for(var ar=0;ar<or.length;ar++){var lr=or[ar];for(V$1=lr;V$1!==null;){var cr=V$1;switch(cr.tag){case 0:case 11:case 15:Pj(8,cr,ir)}var dr=cr.child;if(dr!==null)dr.return=cr,V$1=dr;else for(;V$1!==null;){cr=V$1;var hr=cr.sibling,ur=cr.return;if(Sj(cr),cr===lr){V$1=null;break}if(hr!==null){hr.return=ur,V$1=hr;break}V$1=ur}}}var pr=ir.alternate;if(pr!==null){var mr=pr.child;if(mr!==null){pr.child=null;do{var fr=mr.sibling;mr.sibling=null,mr=fr}while(mr!==null)}}V$1=ir}}if(ir.subtreeFlags&2064&&sr!==null)sr.return=ir,V$1=sr;else e:for(;V$1!==null;){if(ir=V$1,ir.flags&2048)switch(ir.tag){case 0:case 11:case 15:Pj(9,ir,ir.return)}var gr=ir.sibling;if(gr!==null){gr.return=ir.return,V$1=gr;break e}V$1=ir.return}}var yr=er.current;for(V$1=yr;V$1!==null;){sr=V$1;var vr=sr.child;if(sr.subtreeFlags&2064&&vr!==null)vr.return=sr,V$1=vr;else e:for(sr=yr;V$1!==null;){if(or=V$1,or.flags&2048)try{switch(or.tag){case 0:case 11:case 15:Qj(9,or)}}catch(Sr){W$1(or,or.return,Sr)}if(or===sr){V$1=null;break e}var br=or.sibling;if(br!==null){br.return=or.return,V$1=br;break e}V$1=or.return}}if(K$1=nr,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,er)}catch{}rr=!0}return rr}finally{C$2=tr,ok.transition=e}}return!1}function Xk(er,e,tr){e=Ji(tr,e),e=Ni(er,e,1),er=nh(er,e,1),e=R$1(),er!==null&&(Ac(er,1,e),Dk(er,e))}function W$1(er,e,tr){if(er.tag===3)Xk(er,er,tr);else for(;e!==null;){if(e.tag===3){Xk(e,er,tr);break}else if(e.tag===1){var rr=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof rr.componentDidCatch=="function"&&(Ri===null||!Ri.has(rr))){er=Ji(tr,er),er=Qi(e,er,1),e=nh(e,er,1),er=R$1(),e!==null&&(Ac(e,1,er),Dk(e,er));break}}e=e.return}}function Ti(er,e,tr){var rr=er.pingCache;rr!==null&&rr.delete(e),e=R$1(),er.pingedLanes|=er.suspendedLanes&tr,Q$1===er&&(Z$1&tr)===tr&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(er,0):rk|=tr),Dk(er,e)}function Yk(er,e){e===0&&(er.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var tr=R$1();er=ih(er,e),er!==null&&(Ac(er,e,tr),Dk(er,tr))}function uj(er){var e=er.memoizedState,tr=0;e!==null&&(tr=e.retryLane),Yk(er,tr)}function bk(er,e){var tr=0;switch(er.tag){case 13:var rr=er.stateNode,nr=er.memoizedState;nr!==null&&(tr=nr.retryLane);break;case 19:rr=er.stateNode;break;default:throw Error(p$1(314))}rr!==null&&rr.delete(e),Yk(er,tr)}var Vk;Vk=function(er,e,tr){if(er!==null)if(er.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(er.lanes&tr)&&!(e.flags&128))return dh=!1,yj(er,e,tr);dh=!!(er.flags&131072)}else dh=!1,I$1&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var rr=e.type;ij(er,e),er=e.pendingProps;var nr=Yf(e,H$1.current);ch(e,tr),nr=Nh(null,e,rr,er,nr,tr);var ir=Sh();return e.flags|=1,typeof nr=="object"&&nr!==null&&typeof nr.render=="function"&&nr.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(rr)?(ir=!0,cg(e)):ir=!1,e.memoizedState=nr.state!==null&&nr.state!==void 0?nr.state:null,kh(e),nr.updater=Ei,e.stateNode=nr,nr._reactInternals=e,Ii(e,rr,er,tr),e=jj(null,e,rr,!0,ir,tr)):(e.tag=0,I$1&&ir&&vg(e),Xi(null,e,nr,tr),e=e.child),e;case 16:rr=e.elementType;e:{switch(ij(er,e),er=e.pendingProps,nr=rr._init,rr=nr(rr._payload),e.type=rr,nr=e.tag=Zk(rr),er=Ci(rr,er),nr){case 0:e=cj(null,e,rr,er,tr);break e;case 1:e=hj(null,e,rr,er,tr);break e;case 11:e=Yi(null,e,rr,er,tr);break e;case 14:e=$i(null,e,rr,Ci(rr.type,er),tr);break e}throw Error(p$1(306,rr,""))}return e;case 0:return rr=e.type,nr=e.pendingProps,nr=e.elementType===rr?nr:Ci(rr,nr),cj(er,e,rr,nr,tr);case 1:return rr=e.type,nr=e.pendingProps,nr=e.elementType===rr?nr:Ci(rr,nr),hj(er,e,rr,nr,tr);case 3:e:{if(kj(e),er===null)throw Error(p$1(387));rr=e.pendingProps,ir=e.memoizedState,nr=ir.element,lh(er,e),qh(e,rr,null,tr);var sr=e.memoizedState;if(rr=sr.element,ir.isDehydrated)if(ir={element:rr,isDehydrated:!1,cache:sr.cache,pendingSuspenseBoundaries:sr.pendingSuspenseBoundaries,transitions:sr.transitions},e.updateQueue.baseState=ir,e.memoizedState=ir,e.flags&256){nr=Ji(Error(p$1(423)),e),e=lj(er,e,rr,tr,nr);break e}else if(rr!==nr){nr=Ji(Error(p$1(424)),e),e=lj(er,e,rr,tr,nr);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,tr=Vg(e,null,rr,tr),e.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling;else{if(Ig(),rr===nr){e=Zi(er,e,tr);break e}Xi(er,e,rr,tr)}e=e.child}return e;case 5:return Ah(e),er===null&&Eg(e),rr=e.type,nr=e.pendingProps,ir=er!==null?er.memoizedProps:null,sr=nr.children,Ef(rr,nr)?sr=null:ir!==null&&Ef(rr,ir)&&(e.flags|=32),gj(er,e),Xi(er,e,sr,tr),e.child;case 6:return er===null&&Eg(e),null;case 13:return oj(er,e,tr);case 4:return yh(e,e.stateNode.containerInfo),rr=e.pendingProps,er===null?e.child=Ug(e,null,rr,tr):Xi(er,e,rr,tr),e.child;case 11:return rr=e.type,nr=e.pendingProps,nr=e.elementType===rr?nr:Ci(rr,nr),Yi(er,e,rr,nr,tr);case 7:return Xi(er,e,e.pendingProps,tr),e.child;case 8:return Xi(er,e,e.pendingProps.children,tr),e.child;case 12:return Xi(er,e,e.pendingProps.children,tr),e.child;case 10:e:{if(rr=e.type._context,nr=e.pendingProps,ir=e.memoizedProps,sr=nr.value,G$1(Wg,rr._currentValue),rr._currentValue=sr,ir!==null)if(He(ir.value,sr)){if(ir.children===nr.children&&!Wf.current){e=Zi(er,e,tr);break e}}else for(ir=e.child,ir!==null&&(ir.return=e);ir!==null;){var or=ir.dependencies;if(or!==null){sr=ir.child;for(var ar=or.firstContext;ar!==null;){if(ar.context===rr){if(ir.tag===1){ar=mh(-1,tr&-tr),ar.tag=2;var lr=ir.updateQueue;if(lr!==null){lr=lr.shared;var cr=lr.pending;cr===null?ar.next=ar:(ar.next=cr.next,cr.next=ar),lr.pending=ar}}ir.lanes|=tr,ar=ir.alternate,ar!==null&&(ar.lanes|=tr),bh(ir.return,tr,e),or.lanes|=tr;break}ar=ar.next}}else if(ir.tag===10)sr=ir.type===e.type?null:ir.child;else if(ir.tag===18){if(sr=ir.return,sr===null)throw Error(p$1(341));sr.lanes|=tr,or=sr.alternate,or!==null&&(or.lanes|=tr),bh(sr,tr,e),sr=ir.sibling}else sr=ir.child;if(sr!==null)sr.return=ir;else for(sr=ir;sr!==null;){if(sr===e){sr=null;break}if(ir=sr.sibling,ir!==null){ir.return=sr.return,sr=ir;break}sr=sr.return}ir=sr}Xi(er,e,nr.children,tr),e=e.child}return e;case 9:return nr=e.type,rr=e.pendingProps.children,ch(e,tr),nr=eh(nr),rr=rr(nr),e.flags|=1,Xi(er,e,rr,tr),e.child;case 14:return rr=e.type,nr=Ci(rr,e.pendingProps),nr=Ci(rr.type,nr),$i(er,e,rr,nr,tr);case 15:return bj(er,e,e.type,e.pendingProps,tr);case 17:return rr=e.type,nr=e.pendingProps,nr=e.elementType===rr?nr:Ci(rr,nr),ij(er,e),e.tag=1,Zf(rr)?(er=!0,cg(e)):er=!1,ch(e,tr),Gi(e,rr,nr),Ii(e,rr,nr,tr),jj(null,e,rr,!0,er,tr);case 19:return xj(er,e,tr);case 22:return dj(er,e,tr)}throw Error(p$1(156,e.tag))};function Fk(er,e){return ac(er,e)}function $k(er,e,tr,rr){this.tag=er,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(er,e,tr,rr){return new $k(er,e,tr,rr)}function aj(er){return er=er.prototype,!(!er||!er.isReactComponent)}function Zk(er){if(typeof er=="function")return aj(er)?1:0;if(er!=null){if(er=er.$$typeof,er===Da)return 11;if(er===Ga)return 14}return 2}function Pg(er,e){var tr=er.alternate;return tr===null?(tr=Bg(er.tag,e,er.key,er.mode),tr.elementType=er.elementType,tr.type=er.type,tr.stateNode=er.stateNode,tr.alternate=er,er.alternate=tr):(tr.pendingProps=e,tr.type=er.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=er.flags&14680064,tr.childLanes=er.childLanes,tr.lanes=er.lanes,tr.child=er.child,tr.memoizedProps=er.memoizedProps,tr.memoizedState=er.memoizedState,tr.updateQueue=er.updateQueue,e=er.dependencies,tr.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},tr.sibling=er.sibling,tr.index=er.index,tr.ref=er.ref,tr}function Rg(er,e,tr,rr,nr,ir){var sr=2;if(rr=er,typeof er=="function")aj(er)&&(sr=1);else if(typeof er=="string")sr=5;else e:switch(er){case ya:return Tg(tr.children,nr,ir,e);case za:sr=8,nr|=8;break;case Aa:return er=Bg(12,tr,e,nr|2),er.elementType=Aa,er.lanes=ir,er;case Ea:return er=Bg(13,tr,e,nr),er.elementType=Ea,er.lanes=ir,er;case Fa:return er=Bg(19,tr,e,nr),er.elementType=Fa,er.lanes=ir,er;case Ia:return pj(tr,nr,ir,e);default:if(typeof er=="object"&&er!==null)switch(er.$$typeof){case Ba:sr=10;break e;case Ca:sr=9;break e;case Da:sr=11;break e;case Ga:sr=14;break e;case Ha:sr=16,rr=null;break e}throw Error(p$1(130,er==null?er:typeof er,""))}return e=Bg(sr,tr,e,nr),e.elementType=er,e.type=rr,e.lanes=ir,e}function Tg(er,e,tr,rr){return er=Bg(7,er,rr,e),er.lanes=tr,er}function pj(er,e,tr,rr){return er=Bg(22,er,rr,e),er.elementType=Ia,er.lanes=tr,er.stateNode={isHidden:!1},er}function Qg(er,e,tr){return er=Bg(6,er,null,e),er.lanes=tr,er}function Sg(er,e,tr){return e=Bg(4,er.children!==null?er.children:[],er.key,e),e.lanes=tr,e.stateNode={containerInfo:er.containerInfo,pendingChildren:null,implementation:er.implementation},e}function al(er,e,tr,rr,nr){this.tag=e,this.containerInfo=er,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rr,this.onRecoverableError=nr,this.mutableSourceEagerHydrationData=null}function bl(er,e,tr,rr,nr,ir,sr,or,ar){return er=new al(er,e,tr,or,ar),e===1?(e=1,ir===!0&&(e|=8)):e=0,ir=Bg(3,null,null,e),er.current=ir,ir.stateNode=er,ir.memoizedState={element:rr,isDehydrated:tr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ir),er}function cl(er,e,tr){var rr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rr==null?null:""+rr,children:er,containerInfo:e,implementation:tr}}function dl(er){if(!er)return Vf;er=er._reactInternals;e:{if(Vb(er)!==er||er.tag!==1)throw Error(p$1(170));var e=er;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$1(171))}if(er.tag===1){var tr=er.type;if(Zf(tr))return bg(er,tr,e)}return e}function el(er,e,tr,rr,nr,ir,sr,or,ar){return er=bl(tr,rr,!0,er,nr,ir,sr,or,ar),er.context=dl(null),tr=er.current,rr=R$1(),nr=yi(tr),ir=mh(rr,nr),ir.callback=e??null,nh(tr,ir,nr),er.current.lanes=nr,Ac(er,nr,rr),Dk(er,rr),er}function fl$1(er,e,tr,rr){var nr=e.current,ir=R$1(),sr=yi(nr);return tr=dl(tr),e.context===null?e.context=tr:e.pendingContext=tr,e=mh(ir,sr),e.payload={element:er},rr=rr===void 0?null:rr,rr!==null&&(e.callback=rr),er=nh(nr,e,sr),er!==null&&(gi(er,nr,sr,ir),oh(er,nr,sr)),sr}function gl(er){if(er=er.current,!er.child)return null;switch(er.child.tag){case 5:return er.child.stateNode;default:return er.child.stateNode}}function hl(er,e){if(er=er.memoizedState,er!==null&&er.dehydrated!==null){var tr=er.retryLane;er.retryLane=tr!==0&&tr<e?tr:e}}function il(er,e){hl(er,e),(er=er.alternate)&&hl(er,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(er){console.error(er)};function ll(er){this._internalRoot=er}ml.prototype.render=ll.prototype.render=function(er){var e=this._internalRoot;if(e===null)throw Error(p$1(409));fl$1(er,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var er=this._internalRoot;if(er!==null){this._internalRoot=null;var e=er.containerInfo;Rk(function(){fl$1(null,er,null,null)}),e[uf]=null}};function ml(er){this._internalRoot=er}ml.prototype.unstable_scheduleHydration=function(er){if(er){var e=Hc();er={blockedOn:null,target:er,priority:e};for(var tr=0;tr<Qc.length&&e!==0&&e<Qc[tr].priority;tr++);Qc.splice(tr,0,er),tr===0&&Vc(er)}};function nl(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11)}function ol(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11&&(er.nodeType!==8||er.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(er,e,tr,rr,nr){if(nr){if(typeof rr=="function"){var ir=rr;rr=function(){var lr=gl(sr);ir.call(lr)}}var sr=el(e,rr,er,0,null,!1,!1,"",pl);return er._reactRootContainer=sr,er[uf]=sr.current,sf(er.nodeType===8?er.parentNode:er),Rk(),sr}for(;nr=er.lastChild;)er.removeChild(nr);if(typeof rr=="function"){var or=rr;rr=function(){var lr=gl(ar);or.call(lr)}}var ar=bl(er,0,!1,null,null,!1,!1,"",pl);return er._reactRootContainer=ar,er[uf]=ar.current,sf(er.nodeType===8?er.parentNode:er),Rk(function(){fl$1(e,ar,tr,rr)}),ar}function rl(er,e,tr,rr,nr){var ir=tr._reactRootContainer;if(ir){var sr=ir;if(typeof nr=="function"){var or=nr;nr=function(){var ar=gl(sr);or.call(ar)}}fl$1(e,sr,er,nr)}else sr=ql(tr,e,er,nr,rr);return gl(sr)}Ec=function(er){switch(er.tag){case 3:var e=er.stateNode;if(e.current.memoizedState.isDehydrated){var tr=tc(e.pendingLanes);tr!==0&&(Cc(e,tr|1),Dk(e,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var rr=ih(er,1);if(rr!==null){var nr=R$1();gi(rr,er,1,nr)}}),il(er,1)}};Fc=function(er){if(er.tag===13){var e=ih(er,134217728);if(e!==null){var tr=R$1();gi(e,er,134217728,tr)}il(er,134217728)}};Gc=function(er){if(er.tag===13){var e=yi(er),tr=ih(er,e);if(tr!==null){var rr=R$1();gi(tr,er,e,rr)}il(er,e)}};Hc=function(){return C$2};Ic=function(er,e){var tr=C$2;try{return C$2=er,e()}finally{C$2=tr}};yb=function(er,e,tr){switch(e){case"input":if(bb(er,tr),e=tr.name,tr.type==="radio"&&e!=null){for(tr=er;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<tr.length;e++){var rr=tr[e];if(rr!==er&&rr.form===er.form){var nr=Db(rr);if(!nr)throw Error(p$1(90));Wa(rr),bb(rr,nr)}}}break;case"textarea":ib(er,tr);break;case"select":e=tr.value,e!=null&&fb(er,!!tr.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(er){return er=Zb(er),er===null?null:er.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(er,e){var tr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p$1(200));return cl(er,e,null,tr)};reactDom_production_min.createRoot=function(er,e){if(!nl(er))throw Error(p$1(299));var tr=!1,rr="",nr=kl;return e!=null&&(e.unstable_strictMode===!0&&(tr=!0),e.identifierPrefix!==void 0&&(rr=e.identifierPrefix),e.onRecoverableError!==void 0&&(nr=e.onRecoverableError)),e=bl(er,1,!1,null,null,tr,!1,rr,nr),er[uf]=e.current,sf(er.nodeType===8?er.parentNode:er),new ll(e)};reactDom_production_min.findDOMNode=function(er){if(er==null)return null;if(er.nodeType===1)return er;var e=er._reactInternals;if(e===void 0)throw typeof er.render=="function"?Error(p$1(188)):(er=Object.keys(er).join(","),Error(p$1(268,er)));return er=Zb(e),er=er===null?null:er.stateNode,er};reactDom_production_min.flushSync=function(er){return Rk(er)};reactDom_production_min.hydrate=function(er,e,tr){if(!ol(e))throw Error(p$1(200));return rl(null,er,e,!0,tr)};reactDom_production_min.hydrateRoot=function(er,e,tr){if(!nl(er))throw Error(p$1(405));var rr=tr!=null&&tr.hydratedSources||null,nr=!1,ir="",sr=kl;if(tr!=null&&(tr.unstable_strictMode===!0&&(nr=!0),tr.identifierPrefix!==void 0&&(ir=tr.identifierPrefix),tr.onRecoverableError!==void 0&&(sr=tr.onRecoverableError)),e=el(e,null,er,1,tr??null,nr,!1,ir,sr),er[uf]=e.current,sf(er),rr)for(er=0;er<rr.length;er++)tr=rr[er],nr=tr._getVersion,nr=nr(tr._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[tr,nr]:e.mutableSourceEagerHydrationData.push(tr,nr);return new ml(e)};reactDom_production_min.render=function(er,e,tr){if(!ol(e))throw Error(p$1(200));return rl(null,er,e,!1,tr)};reactDom_production_min.unmountComponentAtNode=function(er){if(!ol(er))throw Error(p$1(40));return er._reactRootContainer?(Rk(function(){rl(null,null,er,!1,function(){er._reactRootContainer=null,er[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(er,e,tr,rr){if(!ol(tr))throw Error(p$1(200));if(er==null||er._reactInternals===void 0)throw Error(p$1(38));return rl(er,e,tr,!1,rr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(er){console.error(er)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(er){const e=[];let tr=0;for(let rr=0;rr<er.length;rr++){let nr=er.charCodeAt(rr);nr<128?e[tr++]=nr:nr<2048?(e[tr++]=nr>>6|192,e[tr++]=nr&63|128):(nr&64512)===55296&&rr+1<er.length&&(er.charCodeAt(rr+1)&64512)===56320?(nr=65536+((nr&1023)<<10)+(er.charCodeAt(++rr)&1023),e[tr++]=nr>>18|240,e[tr++]=nr>>12&63|128,e[tr++]=nr>>6&63|128,e[tr++]=nr&63|128):(e[tr++]=nr>>12|224,e[tr++]=nr>>6&63|128,e[tr++]=nr&63|128)}return e},byteArrayToString=function(er){const e=[];let tr=0,rr=0;for(;tr<er.length;){const nr=er[tr++];if(nr<128)e[rr++]=String.fromCharCode(nr);else if(nr>191&&nr<224){const ir=er[tr++];e[rr++]=String.fromCharCode((nr&31)<<6|ir&63)}else if(nr>239&&nr<365){const ir=er[tr++],sr=er[tr++],or=er[tr++],ar=((nr&7)<<18|(ir&63)<<12|(sr&63)<<6|or&63)-65536;e[rr++]=String.fromCharCode(55296+(ar>>10)),e[rr++]=String.fromCharCode(56320+(ar&1023))}else{const ir=er[tr++],sr=er[tr++];e[rr++]=String.fromCharCode((nr&15)<<12|(ir&63)<<6|sr&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(er,e){if(!Array.isArray(er))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tr=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,rr=[];for(let nr=0;nr<er.length;nr+=3){const ir=er[nr],sr=nr+1<er.length,or=sr?er[nr+1]:0,ar=nr+2<er.length,lr=ar?er[nr+2]:0,cr=ir>>2,dr=(ir&3)<<4|or>>4;let hr=(or&15)<<2|lr>>6,ur=lr&63;ar||(ur=64,sr||(hr=64)),rr.push(tr[cr],tr[dr],tr[hr],tr[ur])}return rr.join("")},encodeString(er,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(er):this.encodeByteArray(stringToByteArray$1(er),e)},decodeString(er,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(er):byteArrayToString(this.decodeStringToByteArray(er,e))},decodeStringToByteArray(er,e){this.init_();const tr=e?this.charToByteMapWebSafe_:this.charToByteMap_,rr=[];for(let nr=0;nr<er.length;){const ir=tr[er.charAt(nr++)],or=nr<er.length?tr[er.charAt(nr)]:0;++nr;const lr=nr<er.length?tr[er.charAt(nr)]:64;++nr;const dr=nr<er.length?tr[er.charAt(nr)]:64;if(++nr,ir==null||or==null||lr==null||dr==null)throw new DecodeBase64StringError;const hr=ir<<2|or>>4;if(rr.push(hr),lr!==64){const ur=or<<4&240|lr>>2;if(rr.push(ur),dr!==64){const pr=lr<<6&192|dr;rr.push(pr)}}}return rr},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let er=0;er<this.ENCODED_VALS.length;er++)this.byteToCharMap_[er]=this.ENCODED_VALS.charAt(er),this.charToByteMap_[this.byteToCharMap_[er]]=er,this.byteToCharMapWebSafe_[er]=this.ENCODED_VALS_WEBSAFE.charAt(er),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[er]]=er,er>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(er)]=er,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(er)]=er)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(er){const e=stringToByteArray$1(er);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(er){return base64Encode(er).replace(/\./g,"")},base64Decode=function(er){try{return base64.decodeString(er,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const er=define_process_env_default.__FIREBASE_DEFAULTS__;if(er)return JSON.parse(er)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let er;try{er=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=er&&base64Decode(er[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(er){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${er}`);return}},getDefaultEmulatorHost=er=>{var e,tr;return(tr=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||tr===void 0?void 0:tr[er]},getDefaultEmulatorHostnameAndPort=er=>{const e=getDefaultEmulatorHost(er);if(!e)return;const tr=e.lastIndexOf(":");if(tr<=0||tr+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const rr=parseInt(e.substring(tr+1),10);return e[0]==="["?[e.substring(1,tr-1),rr]:[e.substring(0,tr),rr]},getDefaultAppConfig=()=>{var er;return(er=getDefaults())===null||er===void 0?void 0:er.config},getExperimentalSetting=er=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${er}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,tr)=>{this.resolve=e,this.reject=tr})}wrapCallback(e){return(tr,rr)=>{tr?this.reject(tr):this.resolve(rr),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(tr):e(tr,rr))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(er,e){if(er.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tr={alg:"none",type:"JWT"},rr=e||"demo-project",nr=er.iat||0,ir=er.sub||er.user_id;if(!ir)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const sr=Object.assign({iss:`https://securetoken.google.com/${rr}`,aud:rr,iat:nr,exp:nr+3600,auth_time:nr,sub:ir,user_id:ir,firebase:{sign_in_provider:"custom",identities:{}}},er);return[base64urlEncodeWithoutPadding(JSON.stringify(tr)),base64urlEncodeWithoutPadding(JSON.stringify(sr)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var er;const e=(er=getDefaults())===null||er===void 0?void 0:er.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const er=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof er=="object"&&er.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const er=getUA();return er.indexOf("MSIE ")>=0||er.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((er,e)=>{try{let tr=!0;const rr="validate-browser-context-for-indexeddb-analytics-module",nr=self.indexedDB.open(rr);nr.onsuccess=()=>{nr.result.close(),tr||self.indexedDB.deleteDatabase(rr),er(!0)},nr.onupgradeneeded=()=>{tr=!1},nr.onerror=()=>{var ir;e(((ir=nr.error)===null||ir===void 0?void 0:ir.message)||"")}}catch(tr){e(tr)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,tr,rr){super(tr),this.code=e,this.customData=rr,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,tr,rr){this.service=e,this.serviceName=tr,this.errors=rr}create(e,...tr){const rr=tr[0]||{},nr=`${this.service}/${e}`,ir=this.errors[e],sr=ir?replaceTemplate(ir,rr):"Error",or=`${this.serviceName}: ${sr} (${nr}).`;return new FirebaseError(nr,or,rr)}}function replaceTemplate(er,e){return er.replace(PATTERN,(tr,rr)=>{const nr=e[rr];return nr!=null?String(nr):`<${rr}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(er){for(const e in er)if(Object.prototype.hasOwnProperty.call(er,e))return!1;return!0}function deepEqual(er,e){if(er===e)return!0;const tr=Object.keys(er),rr=Object.keys(e);for(const nr of tr){if(!rr.includes(nr))return!1;const ir=er[nr],sr=e[nr];if(isObject$1(ir)&&isObject$1(sr)){if(!deepEqual(ir,sr))return!1}else if(ir!==sr)return!1}for(const nr of rr)if(!tr.includes(nr))return!1;return!0}function isObject$1(er){return er!==null&&typeof er=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(er){const e=[];for(const[tr,rr]of Object.entries(er))Array.isArray(rr)?rr.forEach(nr=>{e.push(encodeURIComponent(tr)+"="+encodeURIComponent(nr))}):e.push(encodeURIComponent(tr)+"="+encodeURIComponent(rr));return e.length?"&"+e.join("&"):""}function querystringDecode(er){const e={};return er.replace(/^\?/,"").split("&").forEach(rr=>{if(rr){const[nr,ir]=rr.split("=");e[decodeURIComponent(nr)]=decodeURIComponent(ir)}}),e}function extractQuerystring(er){const e=er.indexOf("?");if(!e)return"";const tr=er.indexOf("#",e);return er.substring(e,tr>0?tr:void 0)}function createSubscribe(er,e){const tr=new ObserverProxy(er,e);return tr.subscribe.bind(tr)}class ObserverProxy{constructor(e,tr){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tr,this.task.then(()=>{e(this)}).catch(rr=>{this.error(rr)})}next(e){this.forEachObserver(tr=>{tr.next(e)})}error(e){this.forEachObserver(tr=>{tr.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,tr,rr){let nr;if(e===void 0&&tr===void 0&&rr===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?nr=e:nr={next:e,error:tr,complete:rr},nr.next===void 0&&(nr.next=noop$4),nr.error===void 0&&(nr.error=noop$4),nr.complete===void 0&&(nr.complete=noop$4);const ir=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?nr.error(this.finalError):nr.complete()}catch{}}),this.observers.push(nr),ir}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let tr=0;tr<this.observers.length;tr++)this.sendOne(tr,e)}sendOne(e,tr){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{tr(this.observers[e])}catch(rr){typeof console<"u"&&console.error&&console.error(rr)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(er,e){if(typeof er!="object"||er===null)return!1;for(const tr of e)if(tr in er&&typeof er[tr]=="function")return!0;return!1}function noop$4(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(er){return er&&er._delegate?er._delegate:er}class Component{constructor(e,tr,rr){this.name=e,this.instanceFactory=tr,this.type=rr,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor(e,tr){this.name=e,this.container=tr,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const tr=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(tr)){const rr=new Deferred;if(this.instancesDeferred.set(tr,rr),this.isInitialized(tr)||this.shouldAutoInitialize())try{const nr=this.getOrInitializeService({instanceIdentifier:tr});nr&&rr.resolve(nr)}catch{}}return this.instancesDeferred.get(tr).promise}getImmediate(e){var tr;const rr=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),nr=(tr=e==null?void 0:e.optional)!==null&&tr!==void 0?tr:!1;if(this.isInitialized(rr)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:rr})}catch(ir){if(nr)return null;throw ir}else{if(nr)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[tr,rr]of this.instancesDeferred.entries()){const nr=this.normalizeInstanceIdentifier(tr);try{const ir=this.getOrInitializeService({instanceIdentifier:nr});rr.resolve(ir)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(tr=>"INTERNAL"in tr).map(tr=>tr.INTERNAL.delete()),...e.filter(tr=>"_delete"in tr).map(tr=>tr._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:tr={}}=e,rr=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(rr))throw Error(`${this.name}(${rr}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nr=this.getOrInitializeService({instanceIdentifier:rr,options:tr});for(const[ir,sr]of this.instancesDeferred.entries()){const or=this.normalizeInstanceIdentifier(ir);rr===or&&sr.resolve(nr)}return nr}onInit(e,tr){var rr;const nr=this.normalizeInstanceIdentifier(tr),ir=(rr=this.onInitCallbacks.get(nr))!==null&&rr!==void 0?rr:new Set;ir.add(e),this.onInitCallbacks.set(nr,ir);const sr=this.instances.get(nr);return sr&&e(sr,nr),()=>{ir.delete(e)}}invokeOnInitCallbacks(e,tr){const rr=this.onInitCallbacks.get(tr);if(rr)for(const nr of rr)try{nr(e,tr)}catch{}}getOrInitializeService({instanceIdentifier:e,options:tr={}}){let rr=this.instances.get(e);if(!rr&&this.component&&(rr=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:tr}),this.instances.set(e,rr),this.instancesOptions.set(e,tr),this.invokeOnInitCallbacks(rr,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,rr)}catch{}return rr||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(er){return er===DEFAULT_ENTRY_NAME$1?void 0:er}function isComponentEager(er){return er.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const tr=this.getProvider(e.name);if(tr.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);tr.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const tr=new Provider$1(e,this);return this.providers.set(e,tr),tr}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(er){er[er.DEBUG=0]="DEBUG",er[er.VERBOSE=1]="VERBOSE",er[er.INFO=2]="INFO",er[er.WARN=3]="WARN",er[er.ERROR=4]="ERROR",er[er.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(er,e,...tr)=>{if(e<er.logLevel)return;const rr=new Date().toISOString(),nr=ConsoleMethod[e];if(nr)console[nr](`[${rr}]  ${er.name}:`,...tr);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(er,e)=>e.some(tr=>er instanceof tr);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(er){const e=new Promise((tr,rr)=>{const nr=()=>{er.removeEventListener("success",ir),er.removeEventListener("error",sr)},ir=()=>{tr(wrap(er.result)),nr()},sr=()=>{rr(er.error),nr()};er.addEventListener("success",ir),er.addEventListener("error",sr)});return e.then(tr=>{tr instanceof IDBCursor&&cursorRequestMap.set(tr,er)}).catch(()=>{}),reverseTransformCache.set(e,er),e}function cacheDonePromiseForTransaction(er){if(transactionDoneMap.has(er))return;const e=new Promise((tr,rr)=>{const nr=()=>{er.removeEventListener("complete",ir),er.removeEventListener("error",sr),er.removeEventListener("abort",sr)},ir=()=>{tr(),nr()},sr=()=>{rr(er.error||new DOMException("AbortError","AbortError")),nr()};er.addEventListener("complete",ir),er.addEventListener("error",sr),er.addEventListener("abort",sr)});transactionDoneMap.set(er,e)}let idbProxyTraps={get(er,e,tr){if(er instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(er);if(e==="objectStoreNames")return er.objectStoreNames||transactionStoreNamesMap.get(er);if(e==="store")return tr.objectStoreNames[1]?void 0:tr.objectStore(tr.objectStoreNames[0])}return wrap(er[e])},set(er,e,tr){return er[e]=tr,!0},has(er,e){return er instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in er}};function replaceTraps(er){idbProxyTraps=er(idbProxyTraps)}function wrapFunction(er){return er===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...tr){const rr=er.call(unwrap(this),e,...tr);return transactionStoreNamesMap.set(rr,e.sort?e.sort():[e]),wrap(rr)}:getCursorAdvanceMethods().includes(er)?function(...e){return er.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(er.apply(unwrap(this),e))}}function transformCachableValue(er){return typeof er=="function"?wrapFunction(er):(er instanceof IDBTransaction&&cacheDonePromiseForTransaction(er),instanceOfAny(er,getIdbProxyableTypes())?new Proxy(er,idbProxyTraps):er)}function wrap(er){if(er instanceof IDBRequest)return promisifyRequest(er);if(transformCache.has(er))return transformCache.get(er);const e=transformCachableValue(er);return e!==er&&(transformCache.set(er,e),reverseTransformCache.set(e,er)),e}const unwrap=er=>reverseTransformCache.get(er);function openDB(er,e,{blocked:tr,upgrade:rr,blocking:nr,terminated:ir}={}){const sr=indexedDB.open(er,e),or=wrap(sr);return rr&&sr.addEventListener("upgradeneeded",ar=>{rr(wrap(sr.result),ar.oldVersion,ar.newVersion,wrap(sr.transaction),ar)}),tr&&sr.addEventListener("blocked",ar=>tr(ar.oldVersion,ar.newVersion,ar)),or.then(ar=>{ir&&ar.addEventListener("close",()=>ir()),nr&&ar.addEventListener("versionchange",lr=>nr(lr.oldVersion,lr.newVersion,lr))}).catch(()=>{}),or}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(er,e){if(!(er instanceof IDBDatabase&&!(e in er)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const tr=e.replace(/FromIndex$/,""),rr=e!==tr,nr=writeMethods.includes(tr);if(!(tr in(rr?IDBIndex:IDBObjectStore).prototype)||!(nr||readMethods.includes(tr)))return;const ir=async function(sr,...or){const ar=this.transaction(sr,nr?"readwrite":"readonly");let lr=ar.store;return rr&&(lr=lr.index(or.shift())),(await Promise.all([lr[tr](...or),nr&&ar.done]))[0]};return cachedMethods.set(e,ir),ir}replaceTraps(er=>({...er,get:(e,tr,rr)=>getMethod(e,tr)||er.get(e,tr,rr),has:(e,tr)=>!!getMethod(e,tr)||er.has(e,tr)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(tr=>{if(isVersionServiceProvider(tr)){const rr=tr.getImmediate();return`${rr.library}/${rr.version}`}else return null}).filter(tr=>tr).join(" ")}}function isVersionServiceProvider(er){const e=er.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(er,e){try{er.container.addComponent(e)}catch(tr){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${er.name}`,tr)}}function _registerComponent(er){const e=er.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,er);for(const tr of _apps.values())_addComponent(tr,er);for(const tr of _serverApps.values())_addComponent(tr,er);return!0}function _getProvider(er,e){const tr=er.container.getProvider("heartbeat").getImmediate({optional:!0});return tr&&tr.triggerHeartbeat(),er.container.getProvider(e)}function _isFirebaseServerApp(er){return er.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,tr,rr){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},tr),this._name=tr.name,this._automaticDataCollectionEnabled=tr.automaticDataCollectionEnabled,this._container=rr,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(er,e={}){let tr=er;typeof e!="object"&&(e={name:e});const rr=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),nr=rr.name;if(typeof nr!="string"||!nr)throw ERROR_FACTORY.create("bad-app-name",{appName:String(nr)});if(tr||(tr=getDefaultAppConfig()),!tr)throw ERROR_FACTORY.create("no-options");const ir=_apps.get(nr);if(ir){if(deepEqual(tr,ir.options)&&deepEqual(rr,ir.config))return ir;throw ERROR_FACTORY.create("duplicate-app",{appName:nr})}const sr=new ComponentContainer(nr);for(const ar of _components.values())sr.addComponent(ar);const or=new FirebaseAppImpl(tr,rr,sr);return _apps.set(nr,or),or}function getApp(er=DEFAULT_ENTRY_NAME){const e=_apps.get(er);if(!e&&er===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:er});return e}function registerVersion(er,e,tr){var rr;let nr=(rr=PLATFORM_LOG_STRING[er])!==null&&rr!==void 0?rr:er;tr&&(nr+=`-${tr}`);const ir=nr.match(/\s|\//),sr=e.match(/\s|\//);if(ir||sr){const or=[`Unable to register library "${nr}" with version "${e}":`];ir&&or.push(`library name "${nr}" contains illegal characters (whitespace or "/")`),ir&&sr&&or.push("and"),sr&&or.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(or.join(" "));return}_registerComponent(new Component(`${nr}-version`,()=>({library:nr,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(er,e)=>{switch(e){case 0:try{er.createObjectStore(STORE_NAME)}catch(tr){console.warn(tr)}}}}).catch(er=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:er.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(er){try{const tr=(await getDbPromise()).transaction(STORE_NAME),rr=await tr.objectStore(STORE_NAME).get(computeKey(er));return await tr.done,rr}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const tr=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger.warn(tr.message)}}}async function writeHeartbeatsToIndexedDB(er,e){try{const rr=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await rr.objectStore(STORE_NAME).put(e,computeKey(er)),await rr.done}catch(tr){if(tr instanceof FirebaseError)logger.warn(tr.message);else{const rr=ERROR_FACTORY.create("idb-set",{originalErrorMessage:tr==null?void 0:tr.message});logger.warn(rr.message)}}}function computeKey(er){return`${er.name}!${er.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const tr=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(tr),this._heartbeatsCachePromise=this._storage.read().then(rr=>(this._heartbeatsCache=rr,rr))}async triggerHeartbeat(){var e,tr;try{const nr=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ir=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((tr=this._heartbeatsCache)===null||tr===void 0?void 0:tr.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===ir||this._heartbeatsCache.heartbeats.some(sr=>sr.date===ir)?void 0:(this._heartbeatsCache.heartbeats.push({date:ir,agent:nr}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(sr=>{const or=new Date(sr.date).valueOf();return Date.now()-or<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(rr){logger.warn(rr)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const tr=getUTCDateString(),{heartbeatsToSend:rr,unsentEntries:nr}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),ir=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:rr}));return this._heartbeatsCache.lastSentHeartbeatDate=tr,nr.length>0?(this._heartbeatsCache.heartbeats=nr,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ir}catch(tr){return logger.warn(tr),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(er,e=MAX_HEADER_BYTES){const tr=[];let rr=er.slice();for(const nr of er){const ir=tr.find(sr=>sr.agent===nr.agent);if(ir){if(ir.dates.push(nr.date),countBytes(tr)>e){ir.dates.pop();break}}else if(tr.push({agent:nr.agent,dates:[nr.date]}),countBytes(tr)>e){tr.pop();break}rr=rr.slice(1)}return{heartbeatsToSend:tr,unsentEntries:rr}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const tr=await readHeartbeatsFromIndexedDB(this.app);return tr!=null&&tr.heartbeats?tr:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var tr;if(await this._canUseIndexedDBPromise){const nr=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tr=e.lastSentHeartbeatDate)!==null&&tr!==void 0?tr:nr.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var tr;if(await this._canUseIndexedDBPromise){const nr=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tr=e.lastSentHeartbeatDate)!==null&&tr!==void 0?tr:nr.lastSentHeartbeatDate,heartbeats:[...nr.heartbeats,...e.heartbeats]})}else return}}function countBytes(er){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:er})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(er){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,er),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(er,e){var tr={};for(var rr in er)Object.prototype.hasOwnProperty.call(er,rr)&&e.indexOf(rr)<0&&(tr[rr]=er[rr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(er);nr<rr.length;nr++)e.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(er,rr[nr])&&(tr[rr[nr]]=er[rr[nr]]);return tr}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(er,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${er}`,...e)}function _logError(er,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${er}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(er,...e){throw createErrorInternal(er,...e)}function _createError(er,...e){return createErrorInternal(er,...e)}function _errorWithCustomMessage(er,e,tr){const rr=Object.assign(Object.assign({},prodErrorMap()),{[e]:tr});return new ErrorFactory("auth","Firebase",rr).create(e,{appName:er.name})}function _serverAppCurrentUserOperationNotSupportedError(er){return _errorWithCustomMessage(er,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(er,...e){if(typeof er!="string"){const tr=e[0],rr=[...e.slice(1)];return rr[0]&&(rr[0].appName=er.name),er._errorFactory.create(tr,...rr)}return _DEFAULT_AUTH_ERROR_FACTORY.create(er,...e)}function _assert(er,e,...tr){if(!er)throw createErrorInternal(e,...tr)}function debugFail(er){const e="INTERNAL ASSERTION FAILED: "+er;throw _logError(e),new Error(e)}function debugAssert(er,e){er||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var er;return typeof self<"u"&&((er=self.location)===null||er===void 0?void 0:er.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var er;return typeof self<"u"&&((er=self.location)===null||er===void 0?void 0:er.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const er=navigator;return er.languages&&er.languages[0]||er.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,tr){this.shortDelay=e,this.longDelay=tr,debugAssert(tr>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(er,e){debugAssert(er.emulator,"Emulator should always be set here");const{url:tr}=er.emulator;return e?`${tr}${e.startsWith("/")?e.slice(1):e}`:tr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,tr,rr){this.fetchImpl=e,tr&&(this.headersImpl=tr),rr&&(this.responseImpl=rr)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(er,e){return er.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:er.tenantId}):e}async function _performApiRequest(er,e,tr,rr,nr={}){return _performFetchWithErrorHandling(er,nr,async()=>{let ir={},sr={};rr&&(e==="GET"?sr=rr:ir={body:JSON.stringify(rr)});const or=querystring(Object.assign({key:er.config.apiKey},sr)).slice(1),ar=await er._getAdditionalHeaders();ar["Content-Type"]="application/json",er.languageCode&&(ar["X-Firebase-Locale"]=er.languageCode);const lr=Object.assign({method:e,headers:ar},ir);return isCloudflareWorker()||(lr.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(er,er.config.apiHost,tr,or),lr)})}async function _performFetchWithErrorHandling(er,e,tr){er._canInitEmulator=!1;const rr=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const nr=new NetworkTimeout(er),ir=await Promise.race([tr(),nr.promise]);nr.clearNetworkTimeout();const sr=await ir.json();if("needConfirmation"in sr)throw _makeTaggedError(er,"account-exists-with-different-credential",sr);if(ir.ok&&!("errorMessage"in sr))return sr;{const or=ir.ok?sr.errorMessage:sr.error.message,[ar,lr]=or.split(" : ");if(ar==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(er,"credential-already-in-use",sr);if(ar==="EMAIL_EXISTS")throw _makeTaggedError(er,"email-already-in-use",sr);if(ar==="USER_DISABLED")throw _makeTaggedError(er,"user-disabled",sr);const cr=rr[ar]||ar.toLowerCase().replace(/[_\s]+/g,"-");if(lr)throw _errorWithCustomMessage(er,cr,lr);_fail(er,cr)}}catch(nr){if(nr instanceof FirebaseError)throw nr;_fail(er,"network-request-failed",{message:String(nr)})}}async function _performSignInRequest(er,e,tr,rr,nr={}){const ir=await _performApiRequest(er,e,tr,rr,nr);return"mfaPendingCredential"in ir&&_fail(er,"multi-factor-auth-required",{_serverResponse:ir}),ir}function _getFinalTarget(er,e,tr,rr){const nr=`${e}${tr}?${rr}`;return er.config.emulator?_emulatorUrl(er.config,nr):`${er.config.apiScheme}://${nr}`}function _parseEnforcementState(er){switch(er){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((tr,rr)=>{this.timer=setTimeout(()=>rr(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(er,e,tr){const rr={appName:er.name};tr.email&&(rr.email=tr.email),tr.phoneNumber&&(rr.phoneNumber=tr.phoneNumber);const nr=_createError(er,e,rr);return nr.customData._tokenResponse=tr,nr}function isEnterprise(er){return er!==void 0&&er.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const tr of this.recaptchaEnforcementState)if(tr.provider&&tr.provider===e)return _parseEnforcementState(tr.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function getRecaptchaConfig(er,e){return _performApiRequest(er,"GET","/v2/recaptchaConfig",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(er,e){return _performApiRequest(er,"POST","/v1/accounts:delete",e)}async function getAccountInfo(er,e){return _performApiRequest(er,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(er){if(er)try{const e=new Date(Number(er));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(er,e=!1){const tr=getModularInstance(er),rr=await tr.getIdToken(e),nr=_parseToken(rr);_assert(nr&&nr.exp&&nr.auth_time&&nr.iat,tr.auth,"internal-error");const ir=typeof nr.firebase=="object"?nr.firebase:void 0,sr=ir==null?void 0:ir.sign_in_provider;return{claims:nr,token:rr,authTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(nr.exp)),signInProvider:sr||null,signInSecondFactor:(ir==null?void 0:ir.sign_in_second_factor)||null}}function secondsStringToMilliseconds(er){return Number(er)*1e3}function _parseToken(er){const[e,tr,rr]=er.split(".");if(e===void 0||tr===void 0||rr===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const nr=base64Decode(tr);return nr?JSON.parse(nr):(_logError("Failed to decode base64 JWT payload"),null)}catch(nr){return _logError("Caught error parsing JWT payload as JSON",nr==null?void 0:nr.toString()),null}}function _tokenExpiresIn(er){const e=_parseToken(er);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(er,e,tr=!1){if(tr)return e;try{return await e}catch(rr){throw rr instanceof FirebaseError&&isUserInvalidated(rr)&&er.auth.currentUser===er&&await er.auth.signOut(),rr}}function isUserInvalidated({code:er}){return er==="auth/user-disabled"||er==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var tr;if(e){const rr=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),rr}else{this.errorBackoff=3e4;const nr=((tr=this.user.stsTokenManager.expirationTime)!==null&&tr!==void 0?tr:0)-Date.now()-3e5;return Math.max(0,nr)}}schedule(e=!1){if(!this.isRunning)return;const tr=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},tr)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,tr){this.createdAt=e,this.lastLoginAt=tr,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(er){var e;const tr=er.auth,rr=await er.getIdToken(),nr=await _logoutIfInvalidated(er,getAccountInfo(tr,{idToken:rr}));_assert(nr==null?void 0:nr.users.length,tr,"internal-error");const ir=nr.users[0];er._notifyReloadListener(ir);const sr=!((e=ir.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(ir.providerUserInfo):[],or=mergeProviderData(er.providerData,sr),ar=er.isAnonymous,lr=!(er.email&&ir.passwordHash)&&!(or!=null&&or.length),cr=ar?lr:!1,dr={uid:ir.localId,displayName:ir.displayName||null,photoURL:ir.photoUrl||null,email:ir.email||null,emailVerified:ir.emailVerified||!1,phoneNumber:ir.phoneNumber||null,tenantId:ir.tenantId||null,providerData:or,metadata:new UserMetadata(ir.createdAt,ir.lastLoginAt),isAnonymous:cr};Object.assign(er,dr)}async function reload(er){const e=getModularInstance(er);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(er,e){return[...er.filter(rr=>!e.some(nr=>nr.providerId===rr.providerId)),...e]}function extractProviderData(er){return er.map(e=>{var{providerId:tr}=e,rr=__rest(e,["providerId"]);return{providerId:tr,uid:rr.rawId||"",displayName:rr.displayName||null,email:rr.email||null,phoneNumber:rr.phoneNumber||null,photoURL:rr.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(er,e){const tr=await _performFetchWithErrorHandling(er,{},async()=>{const rr=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:nr,apiKey:ir}=er.config,sr=_getFinalTarget(er,nr,"/v1/token",`key=${ir}`),or=await er._getAdditionalHeaders();return or["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(sr,{method:"POST",headers:or,body:rr})});return{accessToken:tr.access_token,expiresIn:tr.expires_in,refreshToken:tr.refresh_token}}async function revokeToken(er,e){return _performApiRequest(er,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const tr="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,tr)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const tr=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,tr)}async getToken(e,tr=!1){return!tr&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,tr){const{accessToken:rr,refreshToken:nr,expiresIn:ir}=await requestStsToken(e,tr);this.updateTokensAndExpiration(rr,nr,Number(ir))}updateTokensAndExpiration(e,tr,rr){this.refreshToken=tr||null,this.accessToken=e||null,this.expirationTime=Date.now()+rr*1e3}static fromJSON(e,tr){const{refreshToken:rr,accessToken:nr,expirationTime:ir}=tr,sr=new StsTokenManager;return rr&&(_assert(typeof rr=="string","internal-error",{appName:e}),sr.refreshToken=rr),nr&&(_assert(typeof nr=="string","internal-error",{appName:e}),sr.accessToken=nr),ir&&(_assert(typeof ir=="number","internal-error",{appName:e}),sr.expirationTime=ir),sr}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(er,e){_assert(typeof er=="string"||typeof er>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:tr,auth:rr,stsTokenManager:nr}=e,ir=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=tr,this.auth=rr,this.stsTokenManager=nr,this.accessToken=nr.accessToken,this.displayName=ir.displayName||null,this.email=ir.email||null,this.emailVerified=ir.emailVerified||!1,this.phoneNumber=ir.phoneNumber||null,this.photoURL=ir.photoURL||null,this.isAnonymous=ir.isAnonymous||!1,this.tenantId=ir.tenantId||null,this.providerData=ir.providerData?[...ir.providerData]:[],this.metadata=new UserMetadata(ir.createdAt||void 0,ir.lastLoginAt||void 0)}async getIdToken(e){const tr=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(tr,this.auth,"internal-error"),this.accessToken!==tr&&(this.accessToken=tr,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),tr}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(tr=>Object.assign({},tr)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const tr=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return tr.metadata._copy(this.metadata),tr}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,tr=!1){let rr=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),rr=!0),tr&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),rr&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,tr){var rr,nr,ir,sr,or,ar,lr,cr;const dr=(rr=tr.displayName)!==null&&rr!==void 0?rr:void 0,hr=(nr=tr.email)!==null&&nr!==void 0?nr:void 0,ur=(ir=tr.phoneNumber)!==null&&ir!==void 0?ir:void 0,pr=(sr=tr.photoURL)!==null&&sr!==void 0?sr:void 0,mr=(or=tr.tenantId)!==null&&or!==void 0?or:void 0,fr=(ar=tr._redirectEventId)!==null&&ar!==void 0?ar:void 0,gr=(lr=tr.createdAt)!==null&&lr!==void 0?lr:void 0,yr=(cr=tr.lastLoginAt)!==null&&cr!==void 0?cr:void 0,{uid:vr,emailVerified:br,isAnonymous:Sr,providerData:jr,stsTokenManager:Cr}=tr;_assert(vr&&Cr,e,"internal-error");const Pr=StsTokenManager.fromJSON(this.name,Cr);_assert(typeof vr=="string",e,"internal-error"),assertStringOrUndefined(dr,e.name),assertStringOrUndefined(hr,e.name),_assert(typeof br=="boolean",e,"internal-error"),_assert(typeof Sr=="boolean",e,"internal-error"),assertStringOrUndefined(ur,e.name),assertStringOrUndefined(pr,e.name),assertStringOrUndefined(mr,e.name),assertStringOrUndefined(fr,e.name),assertStringOrUndefined(gr,e.name),assertStringOrUndefined(yr,e.name);const Rr=new UserImpl({uid:vr,auth:e,email:hr,emailVerified:br,displayName:dr,isAnonymous:Sr,photoURL:pr,phoneNumber:ur,tenantId:mr,stsTokenManager:Pr,createdAt:gr,lastLoginAt:yr});return jr&&Array.isArray(jr)&&(Rr.providerData=jr.map(Lr=>Object.assign({},Lr))),fr&&(Rr._redirectEventId=fr),Rr}static async _fromIdTokenResponse(e,tr,rr=!1){const nr=new StsTokenManager;nr.updateFromServerResponse(tr);const ir=new UserImpl({uid:tr.localId,auth:e,stsTokenManager:nr,isAnonymous:rr});return await _reloadWithoutSaving(ir),ir}static async _fromGetAccountInfoResponse(e,tr,rr){const nr=tr.users[0];_assert(nr.localId!==void 0,"internal-error");const ir=nr.providerUserInfo!==void 0?extractProviderData(nr.providerUserInfo):[],sr=!(nr.email&&nr.passwordHash)&&!(ir!=null&&ir.length),or=new StsTokenManager;or.updateFromIdToken(rr);const ar=new UserImpl({uid:nr.localId,auth:e,stsTokenManager:or,isAnonymous:sr}),lr={uid:nr.localId,displayName:nr.displayName||null,photoURL:nr.photoUrl||null,email:nr.email||null,emailVerified:nr.emailVerified||!1,phoneNumber:nr.phoneNumber||null,tenantId:nr.tenantId||null,providerData:ir,metadata:new UserMetadata(nr.createdAt,nr.lastLoginAt),isAnonymous:!(nr.email&&nr.passwordHash)&&!(ir!=null&&ir.length)};return Object.assign(ar,lr),ar}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(er){debugAssert(er instanceof Function,"Expected a class definition");let e=instanceCache.get(er);return e?(debugAssert(e instanceof er,"Instance stored in cache mismatched with class"),e):(e=new er,instanceCache.set(er,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,tr){this.storage[e]=tr}async _get(e){const tr=this.storage[e];return tr===void 0?null:tr}async _remove(e){delete this.storage[e]}_addListener(e,tr){}_removeListener(e,tr){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(er,e,tr){return`firebase:${er}:${e}:${tr}`}class PersistenceUserManager{constructor(e,tr,rr){this.persistence=e,this.auth=tr,this.userKey=rr;const{config:nr,name:ir}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,nr.apiKey,ir),this.fullPersistenceKey=_persistenceKeyName("persistence",nr.apiKey,ir),this.boundEventHandler=tr._onStorageEvent.bind(tr),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const tr=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,tr)return this.setCurrentUser(tr)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,tr,rr="authUser"){if(!tr.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,rr);const nr=(await Promise.all(tr.map(async lr=>{if(await lr._isAvailable())return lr}))).filter(lr=>lr);let ir=nr[0]||_getInstance(inMemoryPersistence);const sr=_persistenceKeyName(rr,e.config.apiKey,e.name);let or=null;for(const lr of tr)try{const cr=await lr._get(sr);if(cr){const dr=UserImpl._fromJSON(e,cr);lr!==ir&&(or=dr),ir=lr;break}}catch{}const ar=nr.filter(lr=>lr._shouldAllowMigration);return!ir._shouldAllowMigration||!ar.length?new PersistenceUserManager(ir,e,rr):(ir=ar[0],or&&await ir._set(sr,or.toJSON()),await Promise.all(tr.map(async lr=>{if(lr!==ir)try{await lr._remove(sr)}catch{}})),new PersistenceUserManager(ir,e,rr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(er){const e=er.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const tr=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,rr=er.match(tr);if((rr==null?void 0:rr.length)===2)return rr[1]}return"Other"}function _isFirefox(er=getUA()){return/firefox\//i.test(er)}function _isSafari(er=getUA()){const e=er.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(er=getUA()){return/crios\//i.test(er)}function _isIEMobile(er=getUA()){return/iemobile/i.test(er)}function _isAndroid(er=getUA()){return/android/i.test(er)}function _isBlackBerry(er=getUA()){return/blackberry/i.test(er)}function _isWebOS(er=getUA()){return/webos/i.test(er)}function _isIOS(er=getUA()){return/iphone|ipad|ipod/i.test(er)||/macintosh/i.test(er)&&/mobile/i.test(er)}function _isIOSStandalone(er=getUA()){var e;return _isIOS(er)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(er=getUA()){return _isIOS(er)||_isAndroid(er)||_isWebOS(er)||_isBlackBerry(er)||/windows phone/i.test(er)||_isIEMobile(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(er,e=[]){let tr;switch(er){case"Browser":tr=_getBrowserName(getUA());break;case"Worker":tr=`${_getBrowserName(getUA())}-${er}`;break;default:tr=er}const rr=e.length?e.join(","):"FirebaseCore-web";return`${tr}/JsCore/${SDK_VERSION}/${rr}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,tr){const rr=ir=>new Promise((sr,or)=>{try{const ar=e(ir);sr(ar)}catch(ar){or(ar)}});rr.onAbort=tr,this.queue.push(rr);const nr=this.queue.length-1;return()=>{this.queue[nr]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const tr=[];try{for(const rr of this.queue)await rr(e),rr.onAbort&&tr.push(rr.onAbort)}catch(rr){tr.reverse();for(const nr of tr)try{nr()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:rr==null?void 0:rr.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(er,e={}){return _performApiRequest(er,"GET","/v2/passwordPolicy",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var tr,rr,nr,ir;const sr=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(tr=sr.minPasswordLength)!==null&&tr!==void 0?tr:MINIMUM_MIN_PASSWORD_LENGTH,sr.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=sr.maxPasswordLength),sr.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=sr.containsLowercaseCharacter),sr.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=sr.containsUppercaseCharacter),sr.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=sr.containsNumericCharacter),sr.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=sr.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(nr=(rr=e.allowedNonAlphanumericCharacters)===null||rr===void 0?void 0:rr.join(""))!==null&&nr!==void 0?nr:"",this.forceUpgradeOnSignin=(ir=e.forceUpgradeOnSignin)!==null&&ir!==void 0?ir:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var tr,rr,nr,ir,sr,or;const ar={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,ar),this.validatePasswordCharacterOptions(e,ar),ar.isValid&&(ar.isValid=(tr=ar.meetsMinPasswordLength)!==null&&tr!==void 0?tr:!0),ar.isValid&&(ar.isValid=(rr=ar.meetsMaxPasswordLength)!==null&&rr!==void 0?rr:!0),ar.isValid&&(ar.isValid=(nr=ar.containsLowercaseLetter)!==null&&nr!==void 0?nr:!0),ar.isValid&&(ar.isValid=(ir=ar.containsUppercaseLetter)!==null&&ir!==void 0?ir:!0),ar.isValid&&(ar.isValid=(sr=ar.containsNumericCharacter)!==null&&sr!==void 0?sr:!0),ar.isValid&&(ar.isValid=(or=ar.containsNonAlphanumericCharacter)!==null&&or!==void 0?or:!0),ar}validatePasswordLengthOptions(e,tr){const rr=this.customStrengthOptions.minPasswordLength,nr=this.customStrengthOptions.maxPasswordLength;rr&&(tr.meetsMinPasswordLength=e.length>=rr),nr&&(tr.meetsMaxPasswordLength=e.length<=nr)}validatePasswordCharacterOptions(e,tr){this.updatePasswordCharacterOptionsStatuses(tr,!1,!1,!1,!1);let rr;for(let nr=0;nr<e.length;nr++)rr=e.charAt(nr),this.updatePasswordCharacterOptionsStatuses(tr,rr>="a"&&rr<="z",rr>="A"&&rr<="Z",rr>="0"&&rr<="9",this.allowedNonAlphanumericCharacters.includes(rr))}updatePasswordCharacterOptionsStatuses(e,tr,rr,nr,ir){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=tr)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=rr)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=nr)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=ir))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,tr,rr,nr){this.app=e,this.heartbeatServiceProvider=tr,this.appCheckServiceProvider=rr,this.config=nr,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=nr.sdkClientVersion}_initializeWithPersistence(e,tr){return tr&&(this._popupRedirectResolver=_getInstance(tr)),this._initializationPromise=this.queue(async()=>{var rr,nr;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((rr=this._popupRedirectResolver)===null||rr===void 0)&&rr._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(tr),this.lastNotifiedUid=((nr=this.currentUser)===null||nr===void 0?void 0:nr.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const tr=await getAccountInfo(this,{idToken:e}),rr=await UserImpl._fromGetAccountInfoResponse(this,tr,e);await this.directlySetCurrentUser(rr)}catch(tr){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",tr),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var tr;if(_isFirebaseServerApp(this.app)){const sr=this.app.settings.authIdToken;return sr?new Promise(or=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(sr).then(or,or))}):this.directlySetCurrentUser(null)}const rr=await this.assertedPersistence.getCurrentUser();let nr=rr,ir=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const sr=(tr=this.redirectUser)===null||tr===void 0?void 0:tr._redirectEventId,or=nr==null?void 0:nr._redirectEventId,ar=await this.tryRedirectSignIn(e);(!sr||sr===or)&&(ar!=null&&ar.user)&&(nr=ar.user,ir=!0)}if(!nr)return this.directlySetCurrentUser(null);if(!nr._redirectEventId){if(ir)try{await this.beforeStateQueue.runMiddleware(nr)}catch(sr){nr=rr,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(sr))}return nr?this.reloadAndSetCurrentUserOrClear(nr):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===nr._redirectEventId?this.directlySetCurrentUser(nr):this.reloadAndSetCurrentUserOrClear(nr)}async tryRedirectSignIn(e){let tr=null;try{tr=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return tr}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(tr){if((tr==null?void 0:tr.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const tr=e?getModularInstance(e):null;return tr&&_assert(tr.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(tr&&tr._clone(this))}async _updateCurrentUser(e,tr=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),tr||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const tr=this._getPasswordPolicyInternal();return tr.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):tr.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),tr=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=tr:this._tenantPasswordPolicies[this.tenantId]=tr}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,tr,rr){return this.registerStateListener(this.authStateSubscription,e,tr,rr)}beforeAuthStateChanged(e,tr){return this.beforeStateQueue.pushCallback(e,tr)}onIdTokenChanged(e,tr,rr){return this.registerStateListener(this.idTokenSubscription,e,tr,rr)}authStateReady(){return new Promise((e,tr)=>{if(this.currentUser)e();else{const rr=this.onAuthStateChanged(()=>{rr(),e()},tr)}})}async revokeAccessToken(e){if(this.currentUser){const tr=await this.currentUser.getIdToken(),rr={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:tr};this.tenantId!=null&&(rr.tenantId=this.tenantId),await revokeToken(this,rr)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,tr){const rr=await this.getOrInitRedirectPersistenceManager(tr);return e===null?rr.removeCurrentUser():rr.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const tr=e&&_getInstance(e)||this._popupRedirectResolver;_assert(tr,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(tr._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var tr,rr;return this._isInitialized&&await this.queue(async()=>{}),((tr=this._currentUser)===null||tr===void 0?void 0:tr._redirectEventId)===e?this._currentUser:((rr=this.redirectUser)===null||rr===void 0?void 0:rr._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,tr;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const rr=(tr=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&tr!==void 0?tr:null;this.lastNotifiedUid!==rr&&(this.lastNotifiedUid=rr,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,tr,rr,nr){if(this._deleted)return()=>{};const ir=typeof tr=="function"?tr:tr.next.bind(tr);let sr=!1;const or=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(or,this,"internal-error"),or.then(()=>{sr||ir(this.currentUser)}),typeof tr=="function"){const ar=e.addObserver(tr,rr,nr);return()=>{sr=!0,ar()}}else{const ar=e.addObserver(tr);return()=>{sr=!0,ar()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const tr={"X-Client-Version":this.clientVersion};this.app.options.appId&&(tr["X-Firebase-gmpid"]=this.app.options.appId);const rr=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());rr&&(tr["X-Firebase-Client"]=rr);const nr=await this._getAppCheckToken();return nr&&(tr["X-Firebase-AppCheck"]=nr),tr}async _getAppCheckToken(){var e;const tr=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return tr!=null&&tr.error&&_logWarn(`Error while retrieving App Check token: ${tr.error}`),tr==null?void 0:tr.token}}function _castAuth(er){return getModularInstance(er)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(tr=>this.observer=tr)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(er){externalJSProvider=er}function _loadJS(er){return externalJSProvider.loadJS(er)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(er){return`__${er}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",tr=!1){async function rr(ir){if(!tr){if(ir.tenantId==null&&ir._agentRecaptchaConfig!=null)return ir._agentRecaptchaConfig.siteKey;if(ir.tenantId!=null&&ir._tenantRecaptchaConfigs[ir.tenantId]!==void 0)return ir._tenantRecaptchaConfigs[ir.tenantId].siteKey}return new Promise(async(sr,or)=>{getRecaptchaConfig(ir,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ar=>{if(ar.recaptchaKey===void 0)or(new Error("recaptcha Enterprise site key undefined"));else{const lr=new RecaptchaConfig(ar);return ir.tenantId==null?ir._agentRecaptchaConfig=lr:ir._tenantRecaptchaConfigs[ir.tenantId]=lr,sr(lr.siteKey)}}).catch(ar=>{or(ar)})})}function nr(ir,sr,or){const ar=window.grecaptcha;isEnterprise(ar)?ar.enterprise.ready(()=>{ar.enterprise.execute(ir,{action:e}).then(lr=>{sr(lr)}).catch(()=>{sr(FAKE_TOKEN)})}):or(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ir,sr)=>{rr(this.auth).then(or=>{if(!tr&&isEnterprise(window.grecaptcha))nr(or,ir,sr);else{if(typeof window>"u"){sr(new Error("RecaptchaVerifier is only supported in browser"));return}let ar=_recaptchaEnterpriseScriptUrl();ar.length!==0&&(ar+=or),_loadJS(ar).then(()=>{nr(or,ir,sr)}).catch(lr=>{sr(lr)})}}).catch(or=>{sr(or)})})}}async function injectRecaptchaFields(er,e,tr,rr=!1){const nr=new RecaptchaEnterpriseVerifier(er);let ir;try{ir=await nr.verify(tr)}catch{ir=await nr.verify(tr,!0)}const sr=Object.assign({},e);return rr?Object.assign(sr,{captchaResp:ir}):Object.assign(sr,{captchaResponse:ir}),Object.assign(sr,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(sr,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),sr}async function handleRecaptchaFlow(er,e,tr,rr){var nr;if(!((nr=er._getRecaptchaConfig())===null||nr===void 0)&&nr.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ir=await injectRecaptchaFields(er,e,tr,tr==="getOobCode");return rr(er,ir)}else return rr(er,e).catch(async ir=>{if(ir.code==="auth/missing-recaptcha-token"){console.log(`${tr} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const sr=await injectRecaptchaFields(er,e,tr,tr==="getOobCode");return rr(er,sr)}else return Promise.reject(ir)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(er,e){const tr=_getProvider(er,"auth");if(tr.isInitialized()){const nr=tr.getImmediate(),ir=tr.getOptions();if(deepEqual(ir,e??{}))return nr;_fail(nr,"already-initialized")}return tr.initialize({options:e})}function _initializeAuthInstance(er,e){const tr=(e==null?void 0:e.persistence)||[],rr=(Array.isArray(tr)?tr:[tr]).map(_getInstance);e!=null&&e.errorMap&&er._updateErrorMap(e.errorMap),er._initializeWithPersistence(rr,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(er,e,tr){const rr=_castAuth(er);_assert(rr._canInitEmulator,rr,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),rr,"invalid-emulator-scheme");const nr=!1,ir=extractProtocol(e),{host:sr,port:or}=extractHostAndPort(e),ar=or===null?"":`:${or}`;rr.config.emulator={url:`${ir}//${sr}${ar}/`},rr.settings.appVerificationDisabledForTesting=!0,rr.emulatorConfig=Object.freeze({host:sr,port:or,protocol:ir.replace(":",""),options:Object.freeze({disableWarnings:nr})}),emitEmulatorWarning()}function extractProtocol(er){const e=er.indexOf(":");return e<0?"":er.substr(0,e+1)}function extractHostAndPort(er){const e=extractProtocol(er),tr=/(\/\/)?([^?#/]+)/.exec(er.substr(e.length));if(!tr)return{host:"",port:null};const rr=tr[2].split("@").pop()||"",nr=/^(\[[^\]]+\])(:|$)/.exec(rr);if(nr){const ir=nr[1];return{host:ir,port:parsePort(rr.substr(ir.length+1))}}else{const[ir,sr]=rr.split(":");return{host:ir,port:parsePort(sr)}}}function parsePort(er){if(!er)return null;const e=Number(er);return isNaN(e)?null:e}function emitEmulatorWarning(){function er(){const e=document.createElement("p"),tr=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",tr.position="fixed",tr.width="100%",tr.backgroundColor="#ffffff",tr.border=".1em solid #000000",tr.color="#b50000",tr.bottom="0px",tr.left="0px",tr.margin="0px",tr.zIndex="10000",tr.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",er):er())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,tr){this.providerId=e,this.signInMethod=tr}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,tr){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(er,e){return _performApiRequest(er,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(er,e){return _performSignInRequest(er,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(er,e){return _performSignInRequest(er,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(er,e))}async function signInWithEmailLinkForLinking(er,e){return _performSignInRequest(er,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,tr,rr,nr=null){super("password",rr),this._email=e,this._password=tr,this._tenantId=nr}static _fromEmailAndPassword(e,tr){return new EmailAuthCredential(e,tr,"password")}static _fromEmailAndCode(e,tr,rr=null){return new EmailAuthCredential(e,tr,"emailLink",rr)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const tr=typeof e=="string"?JSON.parse(e):e;if(tr!=null&&tr.email&&(tr!=null&&tr.password)){if(tr.signInMethod==="password")return this._fromEmailAndPassword(tr.email,tr.password);if(tr.signInMethod==="emailLink")return this._fromEmailAndCode(tr.email,tr.password,tr.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const tr={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,tr,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,tr){switch(this.signInMethod){case"password":const rr={idToken:tr,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,rr,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:tr,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(er,e){return _performSignInRequest(er,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(er,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const tr=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(tr.idToken=e.idToken),e.accessToken&&(tr.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(tr.nonce=e.nonce),e.pendingToken&&(tr.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(tr.accessToken=e.oauthToken,tr.secret=e.oauthTokenSecret):_fail("argument-error"),tr}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const tr=typeof e=="string"?JSON.parse(e):e,{providerId:rr,signInMethod:nr}=tr,ir=__rest(tr,["providerId","signInMethod"]);if(!rr||!nr)return null;const sr=new OAuthCredential(rr,nr);return sr.idToken=ir.idToken||void 0,sr.accessToken=ir.accessToken||void 0,sr.secret=ir.secret,sr.nonce=ir.nonce,sr.pendingToken=ir.pendingToken||null,sr}_getIdTokenResponse(e){const tr=this.buildRequest();return signInWithIdp(e,tr)}_linkToIdToken(e,tr){const rr=this.buildRequest();return rr.idToken=tr,signInWithIdp(e,rr)}_getReauthenticationResolver(e){const tr=this.buildRequest();return tr.autoCreate=!1,signInWithIdp(e,tr)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const tr={};this.idToken&&(tr.id_token=this.idToken),this.accessToken&&(tr.access_token=this.accessToken),this.secret&&(tr.oauth_token_secret=this.secret),tr.providerId=this.providerId,this.nonce&&!this.pendingToken&&(tr.nonce=this.nonce),e.postBody=querystring(tr)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(er){switch(er){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(er){const e=querystringDecode(extractQuerystring(er)).link,tr=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,rr=querystringDecode(extractQuerystring(er)).deep_link_id;return(rr?querystringDecode(extractQuerystring(rr)).link:null)||rr||tr||e||er}class ActionCodeURL{constructor(e){var tr,rr,nr,ir,sr,or;const ar=querystringDecode(extractQuerystring(e)),lr=(tr=ar.apiKey)!==null&&tr!==void 0?tr:null,cr=(rr=ar.oobCode)!==null&&rr!==void 0?rr:null,dr=parseMode((nr=ar.mode)!==null&&nr!==void 0?nr:null);_assert(lr&&cr&&dr,"argument-error"),this.apiKey=lr,this.operation=dr,this.code=cr,this.continueUrl=(ir=ar.continueUrl)!==null&&ir!==void 0?ir:null,this.languageCode=(sr=ar.languageCode)!==null&&sr!==void 0?sr:null,this.tenantId=(or=ar.tenantId)!==null&&or!==void 0?or:null}static parseLink(e){const tr=parseDeepLink(e);try{return new ActionCodeURL(tr)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,tr){return EmailAuthCredential._fromEmailAndPassword(e,tr)}static credentialWithLink(e,tr){const rr=ActionCodeURL.parseLink(tr);return _assert(rr,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,rr.code,rr.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,tr){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:tr})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:tr,oauthAccessToken:rr}=e;if(!tr&&!rr)return null;try{return GoogleAuthProvider.credential(tr,rr)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,tr){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:tr})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:tr,oauthTokenSecret:rr}=e;if(!tr||!rr)return null;try{return TwitterAuthProvider.credential(tr,rr)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,tr,rr,nr=!1){const ir=await UserImpl._fromIdTokenResponse(e,rr,nr),sr=providerIdForResponse(rr);return new UserCredentialImpl({user:ir,providerId:sr,_tokenResponse:rr,operationType:tr})}static async _forOperation(e,tr,rr){await e._updateTokensIfNecessary(rr,!0);const nr=providerIdForResponse(rr);return new UserCredentialImpl({user:e,providerId:nr,_tokenResponse:rr,operationType:tr})}}function providerIdForResponse(er){return er.providerId?er.providerId:"phoneNumber"in er?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,tr,rr,nr){var ir;super(tr.code,tr.message),this.operationType=rr,this.user=nr,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(ir=e.tenantId)!==null&&ir!==void 0?ir:void 0,_serverResponse:tr.customData._serverResponse,operationType:rr}}static _fromErrorAndOperation(e,tr,rr,nr){return new MultiFactorError(e,tr,rr,nr)}}function _processCredentialSavingMfaContextIfNecessary(er,e,tr,rr){return(e==="reauthenticate"?tr._getReauthenticationResolver(er):tr._getIdTokenResponse(er)).catch(ir=>{throw ir.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(er,ir,e,rr):ir})}async function _link$1(er,e,tr=!1){const rr=await _logoutIfInvalidated(er,e._linkToIdToken(er.auth,await er.getIdToken()),tr);return UserCredentialImpl._forOperation(er,"link",rr)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(er,e,tr=!1){const{auth:rr}=er;if(_isFirebaseServerApp(rr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(rr));const nr="reauthenticate";try{const ir=await _logoutIfInvalidated(er,_processCredentialSavingMfaContextIfNecessary(rr,nr,e,er),tr);_assert(ir.idToken,rr,"internal-error");const sr=_parseToken(ir.idToken);_assert(sr,rr,"internal-error");const{sub:or}=sr;return _assert(er.uid===or,rr,"user-mismatch"),UserCredentialImpl._forOperation(er,nr,ir)}catch(ir){throw(ir==null?void 0:ir.code)==="auth/user-not-found"&&_fail(rr,"user-mismatch"),ir}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(er,e,tr=!1){if(_isFirebaseServerApp(er.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(er));const rr="signIn",nr=await _processCredentialSavingMfaContextIfNecessary(er,rr,e),ir=await UserCredentialImpl._fromIdTokenResponse(er,rr,nr);return tr||await er._updateCurrentUser(ir.user),ir}async function signInWithCredential(er,e){return _signInWithCredential(_castAuth(er),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(er){const e=_castAuth(er);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function signInWithEmailAndPassword(er,e,tr){return _isFirebaseServerApp(er.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(er)):signInWithCredential(getModularInstance(er),EmailAuthProvider.credential(e,tr)).catch(async rr=>{throw rr.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(er),rr})}function onIdTokenChanged(er,e,tr,rr){return getModularInstance(er).onIdTokenChanged(e,tr,rr)}function beforeAuthStateChanged(er,e,tr){return getModularInstance(er).beforeAuthStateChanged(e,tr)}function onAuthStateChanged(er,e,tr,rr){return getModularInstance(er).onAuthStateChanged(e,tr,rr)}function signOut(er){return getModularInstance(er).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,tr){this.storageRetriever=e,this.type=tr}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,tr){return this.storage.setItem(e,JSON.stringify(tr)),Promise.resolve()}_get(e){const tr=this.storage.getItem(e);return Promise.resolve(tr?JSON.parse(tr):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,tr)=>this.onStorageEvent(e,tr),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const tr of Object.keys(this.listeners)){const rr=this.storage.getItem(tr),nr=this.localCache[tr];rr!==nr&&e(tr,nr,rr)}}onStorageEvent(e,tr=!1){if(!e.key){this.forAllChangedKeys((sr,or,ar)=>{this.notifyListeners(sr,ar)});return}const rr=e.key;tr?this.detachListener():this.stopPolling();const nr=()=>{const sr=this.storage.getItem(rr);!tr&&this.localCache[rr]===sr||this.notifyListeners(rr,sr)},ir=this.storage.getItem(rr);_isIE10()&&ir!==e.newValue&&e.newValue!==e.oldValue?setTimeout(nr,IE10_LOCAL_STORAGE_SYNC_DELAY):nr()}notifyListeners(e,tr){this.localCache[e]=tr;const rr=this.listeners[e];if(rr)for(const nr of Array.from(rr))nr(tr&&JSON.parse(tr))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,tr,rr)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:tr,newValue:rr}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,tr){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(tr)}_removeListener(e,tr){this.listeners[e]&&(this.listeners[e].delete(tr),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,tr){await super._set(e,tr),this.localCache[e]=JSON.stringify(tr)}async _get(e){const tr=await super._get(e);return this.localCache[e]=JSON.stringify(tr),tr}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,tr){}_removeListener(e,tr){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(er){return Promise.all(er.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(tr){return{fulfilled:!1,reason:tr}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const tr=this.receivers.find(nr=>nr.isListeningto(e));if(tr)return tr;const rr=new Receiver(e);return this.receivers.push(rr),rr}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const tr=e,{eventId:rr,eventType:nr,data:ir}=tr.data,sr=this.handlersMap[nr];if(!(sr!=null&&sr.size))return;tr.ports[0].postMessage({status:"ack",eventId:rr,eventType:nr});const or=Array.from(sr).map(async lr=>lr(tr.origin,ir)),ar=await _allSettled(or);tr.ports[0].postMessage({status:"done",eventId:rr,eventType:nr,response:ar})}_subscribe(e,tr){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(tr)}_unsubscribe(e,tr){this.handlersMap[e]&&tr&&this.handlersMap[e].delete(tr),(!tr||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(er="",e=10){let tr="";for(let rr=0;rr<e;rr++)tr+=Math.floor(Math.random()*10);return er+tr}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,tr,rr=50){const nr=typeof MessageChannel<"u"?new MessageChannel:null;if(!nr)throw new Error("connection_unavailable");let ir,sr;return new Promise((or,ar)=>{const lr=_generateEventId("",20);nr.port1.start();const cr=setTimeout(()=>{ar(new Error("unsupported_event"))},rr);sr={messageChannel:nr,onMessage(dr){const hr=dr;if(hr.data.eventId===lr)switch(hr.data.status){case"ack":clearTimeout(cr),ir=setTimeout(()=>{ar(new Error("timeout"))},3e3);break;case"done":clearTimeout(ir),or(hr.data.response);break;default:clearTimeout(cr),clearTimeout(ir),ar(new Error("invalid_response"));break}}},this.handlers.add(sr),nr.port1.addEventListener("message",sr.onMessage),this.target.postMessage({eventType:e,eventId:lr,data:tr},[nr.port2])}).finally(()=>{sr&&this.removeMessageHandler(sr)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(er){_window().location.href=er}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var er;return((er=navigator==null?void 0:navigator.serviceWorker)===null||er===void 0?void 0:er.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,tr)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{tr(this.request.error)})})}}function getObjectStore(er,e){return er.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const er=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(er).toPromise()}function _openDatabase(){const er=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,tr)=>{er.addEventListener("error",()=>{tr(er.error)}),er.addEventListener("upgradeneeded",()=>{const rr=er.result;try{rr.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(nr){tr(nr)}}),er.addEventListener("success",async()=>{const rr=er.result;rr.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(rr):(rr.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(er,e,tr){const rr=getObjectStore(er,!0).put({[DB_DATA_KEYPATH]:e,value:tr});return new DBPromise(rr).toPromise()}async function getObject(er,e){const tr=getObjectStore(er,!1).get(e),rr=await new DBPromise(tr).toPromise();return rr===void 0?null:rr.value}function _deleteObject(er,e){const tr=getObjectStore(er,!0).delete(e);return new DBPromise(tr).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let tr=0;for(;;)try{const rr=await this._openDb();return await e(rr)}catch(rr){if(tr++>_TRANSACTION_RETRY_COUNT)throw rr;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,tr)=>({keyProcessed:(await this._poll()).includes(tr.key)})),this.receiver._subscribe("ping",async(e,tr)=>["keyChanged"])}async initializeSender(){var e,tr;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const rr=await this.sender._send("ping",{},800);rr&&!((e=rr[0])===null||e===void 0)&&e.fulfilled&&!((tr=rr[0])===null||tr===void 0)&&tr.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,tr){return this._withPendingWrite(async()=>(await this._withRetries(rr=>_putObject(rr,e,tr)),this.localCache[e]=tr,this.notifyServiceWorker(e)))}async _get(e){const tr=await this._withRetries(rr=>getObject(rr,e));return this.localCache[e]=tr,tr}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(tr=>_deleteObject(tr,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(nr=>{const ir=getObjectStore(nr,!1).getAll();return new DBPromise(ir).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const tr=[],rr=new Set;if(e.length!==0)for(const{fbase_key:nr,value:ir}of e)rr.add(nr),JSON.stringify(this.localCache[nr])!==JSON.stringify(ir)&&(this.notifyListeners(nr,ir),tr.push(nr));for(const nr of Object.keys(this.localCache))this.localCache[nr]&&!rr.has(nr)&&(this.notifyListeners(nr,null),tr.push(nr));return tr}notifyListeners(e,tr){this.localCache[e]=tr;const rr=this.listeners[e];if(rr)for(const nr of Array.from(rr))nr(tr)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,tr){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(tr)}_removeListener(e,tr){this.listeners[e]&&(this.listeners[e].delete(tr),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(er,e){return e?_getInstance(e):(_assert(er._popupRedirectResolver,er,"argument-error"),er._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,tr){return signInWithIdp(e,this._buildIdpRequest(tr))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const tr={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(tr.idToken=e),tr}}function _signIn(er){return _signInWithCredential(er.auth,new IdpCredential(er),er.bypassAuthState)}function _reauth(er){const{auth:e,user:tr}=er;return _assert(tr,e,"internal-error"),_reauthenticate(tr,new IdpCredential(er),er.bypassAuthState)}async function _link(er){const{auth:e,user:tr}=er;return _assert(tr,e,"internal-error"),_link$1(tr,new IdpCredential(er),er.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,tr,rr,nr,ir=!1){this.auth=e,this.resolver=rr,this.user=nr,this.bypassAuthState=ir,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(tr)?tr:[tr]}execute(){return new Promise(async(e,tr)=>{this.pendingPromise={resolve:e,reject:tr};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(rr){this.reject(rr)}})}async onAuthEvent(e){const{urlResponse:tr,sessionId:rr,postBody:nr,tenantId:ir,error:sr,type:or}=e;if(sr){this.reject(sr);return}const ar={auth:this.auth,requestUri:tr,sessionId:rr,tenantId:ir||void 0,postBody:nr||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(or)(ar))}catch(lr){this.reject(lr)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,tr,rr,nr,ir){super(e,tr,nr,ir),this.provider=rr,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(tr=>{this.reject(tr)}),this.resolver._isIframeWebStorageSupported(this.auth,tr=>{tr||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var tr,rr;if(!((rr=(tr=this.authWindow)===null||tr===void 0?void 0:tr.window)===null||rr===void 0)&&rr.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,tr,rr=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],tr,void 0,rr),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const rr=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(rr)}catch(tr){e=()=>Promise.reject(tr)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const tr=await this.auth._redirectUserForId(e.eventId);if(tr)return this.user=tr,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(er,e){const tr=pendingRedirectKey(e),rr=resolverPersistence(er);if(!await rr._isAvailable())return!1;const nr=await rr._get(tr)==="true";return await rr._remove(tr),nr}function _overrideRedirectResult(er,e){redirectOutcomeMap.set(er._key(),e)}function resolverPersistence(er){return _getInstance(er._redirectPersistence)}function pendingRedirectKey(er){return _persistenceKeyName(PENDING_REDIRECT_KEY,er.config.apiKey,er.name)}async function _getRedirectResult(er,e,tr=!1){if(_isFirebaseServerApp(er.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(er));const rr=_castAuth(er),nr=_withDefaultResolver(rr,e),sr=await new RedirectAction(rr,nr,tr).execute();return sr&&!tr&&(delete sr.user._redirectEventId,await rr._persistUserIfCurrent(sr.user),await rr._setRedirectUser(null,e)),sr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let tr=!1;return this.consumers.forEach(rr=>{this.isEventForConsumer(e,rr)&&(tr=!0,this.sendToConsumer(e,rr),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,tr||(this.queuedRedirectEvent=e,tr=!0)),tr}sendToConsumer(e,tr){var rr;if(e.error&&!isNullRedirectEvent(e)){const nr=((rr=e.error.code)===null||rr===void 0?void 0:rr.split("auth/")[1])||"internal-error";tr.onError(_createError(this.auth,nr))}else tr.onAuthEvent(e)}isEventForConsumer(e,tr){const rr=tr.eventId===null||!!e.eventId&&e.eventId===tr.eventId;return tr.filter.includes(e.type)&&rr}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(er){return[er.type,er.eventId,er.sessionId,er.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:er,error:e}){return er==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(er){switch(er.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(er);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(er,e={}){return _performApiRequest(er,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(er){if(er.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(er);for(const tr of e)try{if(matchDomain(tr))return}catch{}_fail(er,"unauthorized-domain")}function matchDomain(er){const e=_getCurrentUrl(),{protocol:tr,hostname:rr}=new URL(e);if(er.startsWith("chrome-extension://")){const sr=new URL(er);return sr.hostname===""&&rr===""?tr==="chrome-extension:"&&er.replace("chrome-extension://","")===e.replace("chrome-extension://",""):tr==="chrome-extension:"&&sr.hostname===rr}if(!HTTP_REGEX.test(tr))return!1;if(IP_ADDRESS_REGEX.test(er))return rr===er;const nr=er.replace(/\./g,"\\.");return new RegExp("^(.+\\."+nr+"|"+nr+")$","i").test(rr)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const er=_window().___jsl;if(er!=null&&er.H){for(const e of Object.keys(er.H))if(er.H[e].r=er.H[e].r||[],er.H[e].L=er.H[e].L||[],er.H[e].r=[...er.H[e].L],er.CP)for(let tr=0;tr<er.CP.length;tr++)er.CP[tr]=null}}function loadGapi(er){return new Promise((e,tr)=>{var rr,nr,ir;function sr(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),tr(_createError(er,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((nr=(rr=_window().gapi)===null||rr===void 0?void 0:rr.iframes)===null||nr===void 0)&&nr.Iframe)e(gapi.iframes.getContext());else if(!((ir=_window().gapi)===null||ir===void 0)&&ir.load)sr();else{const or=_generateCallbackName("iframefcb");return _window()[or]=()=>{gapi.load?sr():tr(_createError(er,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${or}`).catch(ar=>tr(ar))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(er){return cachedGApiLoader=cachedGApiLoader||loadGapi(er),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(er){const e=er.config;_assert(e.authDomain,er,"auth-domain-config-required");const tr=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${er.config.authDomain}/${IFRAME_PATH}`,rr={apiKey:e.apiKey,appName:er.name,v:SDK_VERSION},nr=EID_FROM_APIHOST.get(er.config.apiHost);nr&&(rr.eid=nr);const ir=er._getFrameworks();return ir.length&&(rr.fw=ir.join(",")),`${tr}?${querystring(rr).slice(1)}`}async function _openIframe(er){const e=await _loadGapi(er),tr=_window().gapi;return _assert(tr,er,"internal-error"),e.open({where:document.body,url:getIframeUrl(er),messageHandlersFilter:tr.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},rr=>new Promise(async(nr,ir)=>{await rr.restyle({setHideOnLeave:!1});const sr=_createError(er,"network-request-failed"),or=_window().setTimeout(()=>{ir(sr)},PING_TIMEOUT.get());function ar(){_window().clearTimeout(or),nr(rr)}rr.ping(ar).then(ar,()=>{ir(sr)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(er,e,tr,rr=DEFAULT_WIDTH,nr=DEFAULT_HEIGHT){const ir=Math.max((window.screen.availHeight-nr)/2,0).toString(),sr=Math.max((window.screen.availWidth-rr)/2,0).toString();let or="";const ar=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:rr.toString(),height:nr.toString(),top:ir,left:sr}),lr=getUA().toLowerCase();tr&&(or=_isChromeIOS(lr)?TARGET_BLANK:tr),_isFirefox(lr)&&(e=e||FIREFOX_EMPTY_URL,ar.scrollbars="yes");const cr=Object.entries(ar).reduce((hr,[ur,pr])=>`${hr}${ur}=${pr},`,"");if(_isIOSStandalone(lr)&&or!=="_self")return openAsNewWindowIOS(e||"",or),new AuthPopup(null);const dr=window.open(e||"",or,cr);_assert(dr,er,"popup-blocked");try{dr.focus()}catch{}return new AuthPopup(dr)}function openAsNewWindowIOS(er,e){const tr=document.createElement("a");tr.href=er,tr.target=e;const rr=document.createEvent("MouseEvent");rr.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),tr.dispatchEvent(rr)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(er,e,tr,rr,nr,ir){_assert(er.config.authDomain,er,"auth-domain-config-required"),_assert(er.config.apiKey,er,"invalid-api-key");const sr={apiKey:er.config.apiKey,appName:er.name,authType:tr,redirectUrl:rr,v:SDK_VERSION,eventId:nr};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(er.languageCode),sr.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(sr.customParameters=JSON.stringify(e.getCustomParameters()));for(const[cr,dr]of Object.entries({}))sr[cr]=dr}if(e instanceof BaseOAuthProvider){const cr=e.getScopes().filter(dr=>dr!=="");cr.length>0&&(sr.scopes=cr.join(","))}er.tenantId&&(sr.tid=er.tenantId);const or=sr;for(const cr of Object.keys(or))or[cr]===void 0&&delete or[cr];const ar=await er._getAppCheckToken(),lr=ar?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(ar)}`:"";return`${getHandlerBase(er)}?${querystring(or).slice(1)}${lr}`}function getHandlerBase({config:er}){return er.emulator?_emulatorUrl(er,EMULATOR_WIDGET_PATH):`https://${er.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,tr,rr,nr){var ir;debugAssert((ir=this.eventManagers[e._key()])===null||ir===void 0?void 0:ir.manager,"_initialize() not called before _openPopup()");const sr=await _getRedirectUrl(e,tr,rr,_getCurrentUrl(),nr);return _open(e,sr,_generateEventId())}async _openRedirect(e,tr,rr,nr){await this._originValidation(e);const ir=await _getRedirectUrl(e,tr,rr,_getCurrentUrl(),nr);return _setWindowLocation(ir),new Promise(()=>{})}_initialize(e){const tr=e._key();if(this.eventManagers[tr]){const{manager:nr,promise:ir}=this.eventManagers[tr];return nr?Promise.resolve(nr):(debugAssert(ir,"If manager is not set, promise should be"),ir)}const rr=this.initAndGetManager(e);return this.eventManagers[tr]={promise:rr},rr.catch(()=>{delete this.eventManagers[tr]}),rr}async initAndGetManager(e){const tr=await _openIframe(e),rr=new AuthEventManager(e);return tr.register("authEvent",nr=>(_assert(nr==null?void 0:nr.authEvent,e,"invalid-auth-event"),{status:rr.onEvent(nr.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:rr},this.iframes[e._key()]=tr,rr}_isIframeWebStorageSupported(e,tr){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},nr=>{var ir;const sr=(ir=nr==null?void 0:nr[0])===null||ir===void 0?void 0:ir[WEB_STORAGE_SUPPORT_KEY];sr!==void 0&&tr(!!sr),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const tr=e._key();return this.originValidationPromises[tr]||(this.originValidationPromises[tr]=_validateOrigin(e)),this.originValidationPromises[tr]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const tr=this.auth.onIdTokenChanged(rr=>{e((rr==null?void 0:rr.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,tr),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const tr=this.internalListeners.get(e);tr&&(this.internalListeners.delete(e),tr(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(er){switch(er){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(er){_registerComponent(new Component("auth",(e,{options:tr})=>{const rr=e.getProvider("app").getImmediate(),nr=e.getProvider("heartbeat"),ir=e.getProvider("app-check-internal"),{apiKey:sr,authDomain:or}=rr.options;_assert(sr&&!sr.includes(":"),"invalid-api-key",{appName:rr.name});const ar={apiKey:sr,authDomain:or,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(er)},lr=new AuthImpl(rr,nr,ir,ar);return _initializeAuthInstance(lr,tr),lr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,tr,rr)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const tr=_castAuth(e.getProvider("auth").getImmediate());return(rr=>new AuthInterop(rr))(tr)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(er)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=er=>async e=>{const tr=e&&await e.getIdTokenResult(),rr=tr&&(new Date().getTime()-Date.parse(tr.issuedAtTime))/1e3;if(rr&&rr>authIdTokenMaxAge)return;const nr=tr==null?void 0:tr.token;lastPostedIdToken!==nr&&(lastPostedIdToken=nr,await fetch(er,{method:nr?"POST":"DELETE",headers:nr?{Authorization:`Bearer ${nr}`}:{}}))};function getAuth(er=getApp()){const e=_getProvider(er,"auth");if(e.isInitialized())return e.getImmediate();const tr=initializeAuth(er,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),rr=getExperimentalSetting("authTokenSyncURL");if(rr&&typeof isSecureContext=="boolean"&&isSecureContext){const ir=new URL(rr,location.origin);if(location.origin===ir.origin){const sr=mintCookieFactory(ir.toString());beforeAuthStateChanged(tr,sr,()=>sr(tr.currentUser)),onIdTokenChanged(tr,or=>sr(or))}}const nr=getDefaultEmulatorHost("auth");return nr&&connectAuthEmulator(tr,`http://${nr}`),tr}function getScriptParentElement(){var er,e;return(e=(er=document.getElementsByTagName("head"))===null||er===void 0?void 0:er[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(er){return new Promise((e,tr)=>{const rr=document.createElement("script");rr.setAttribute("src",er),rr.onload=e,rr.onerror=nr=>{const ir=_createError("internal-error");ir.customData=nr,tr(ir)},rr.type="text/javascript",rr.charset="UTF-8",getScriptParentElement().appendChild(rr)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var er;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Cr,Pr){function Rr(){}Rr.prototype=Pr.prototype,Cr.D=Pr.prototype,Cr.prototype=new Rr,Cr.prototype.constructor=Cr,Cr.C=function(Lr,Ir,Nr){for(var Ar=Array(arguments.length-2),Dr=2;Dr<arguments.length;Dr++)Ar[Dr-2]=arguments[Dr];return Pr.prototype[Ir].apply(Lr,Ar)}}function tr(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(rr,tr),rr.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function nr(Cr,Pr,Rr){Rr||(Rr=0);var Lr=Array(16);if(typeof Pr=="string")for(var Ir=0;16>Ir;++Ir)Lr[Ir]=Pr.charCodeAt(Rr++)|Pr.charCodeAt(Rr++)<<8|Pr.charCodeAt(Rr++)<<16|Pr.charCodeAt(Rr++)<<24;else for(Ir=0;16>Ir;++Ir)Lr[Ir]=Pr[Rr++]|Pr[Rr++]<<8|Pr[Rr++]<<16|Pr[Rr++]<<24;Pr=Cr.g[0],Rr=Cr.g[1],Ir=Cr.g[2];var Nr=Cr.g[3],Ar=Pr+(Nr^Rr&(Ir^Nr))+Lr[0]+3614090360&4294967295;Pr=Rr+(Ar<<7&4294967295|Ar>>>25),Ar=Nr+(Ir^Pr&(Rr^Ir))+Lr[1]+3905402710&4294967295,Nr=Pr+(Ar<<12&4294967295|Ar>>>20),Ar=Ir+(Rr^Nr&(Pr^Rr))+Lr[2]+606105819&4294967295,Ir=Nr+(Ar<<17&4294967295|Ar>>>15),Ar=Rr+(Pr^Ir&(Nr^Pr))+Lr[3]+3250441966&4294967295,Rr=Ir+(Ar<<22&4294967295|Ar>>>10),Ar=Pr+(Nr^Rr&(Ir^Nr))+Lr[4]+4118548399&4294967295,Pr=Rr+(Ar<<7&4294967295|Ar>>>25),Ar=Nr+(Ir^Pr&(Rr^Ir))+Lr[5]+1200080426&4294967295,Nr=Pr+(Ar<<12&4294967295|Ar>>>20),Ar=Ir+(Rr^Nr&(Pr^Rr))+Lr[6]+2821735955&4294967295,Ir=Nr+(Ar<<17&4294967295|Ar>>>15),Ar=Rr+(Pr^Ir&(Nr^Pr))+Lr[7]+4249261313&4294967295,Rr=Ir+(Ar<<22&4294967295|Ar>>>10),Ar=Pr+(Nr^Rr&(Ir^Nr))+Lr[8]+1770035416&4294967295,Pr=Rr+(Ar<<7&4294967295|Ar>>>25),Ar=Nr+(Ir^Pr&(Rr^Ir))+Lr[9]+2336552879&4294967295,Nr=Pr+(Ar<<12&4294967295|Ar>>>20),Ar=Ir+(Rr^Nr&(Pr^Rr))+Lr[10]+4294925233&4294967295,Ir=Nr+(Ar<<17&4294967295|Ar>>>15),Ar=Rr+(Pr^Ir&(Nr^Pr))+Lr[11]+2304563134&4294967295,Rr=Ir+(Ar<<22&4294967295|Ar>>>10),Ar=Pr+(Nr^Rr&(Ir^Nr))+Lr[12]+1804603682&4294967295,Pr=Rr+(Ar<<7&4294967295|Ar>>>25),Ar=Nr+(Ir^Pr&(Rr^Ir))+Lr[13]+4254626195&4294967295,Nr=Pr+(Ar<<12&4294967295|Ar>>>20),Ar=Ir+(Rr^Nr&(Pr^Rr))+Lr[14]+2792965006&4294967295,Ir=Nr+(Ar<<17&4294967295|Ar>>>15),Ar=Rr+(Pr^Ir&(Nr^Pr))+Lr[15]+1236535329&4294967295,Rr=Ir+(Ar<<22&4294967295|Ar>>>10),Ar=Pr+(Ir^Nr&(Rr^Ir))+Lr[1]+4129170786&4294967295,Pr=Rr+(Ar<<5&4294967295|Ar>>>27),Ar=Nr+(Rr^Ir&(Pr^Rr))+Lr[6]+3225465664&4294967295,Nr=Pr+(Ar<<9&4294967295|Ar>>>23),Ar=Ir+(Pr^Rr&(Nr^Pr))+Lr[11]+643717713&4294967295,Ir=Nr+(Ar<<14&4294967295|Ar>>>18),Ar=Rr+(Nr^Pr&(Ir^Nr))+Lr[0]+3921069994&4294967295,Rr=Ir+(Ar<<20&4294967295|Ar>>>12),Ar=Pr+(Ir^Nr&(Rr^Ir))+Lr[5]+3593408605&4294967295,Pr=Rr+(Ar<<5&4294967295|Ar>>>27),Ar=Nr+(Rr^Ir&(Pr^Rr))+Lr[10]+38016083&4294967295,Nr=Pr+(Ar<<9&4294967295|Ar>>>23),Ar=Ir+(Pr^Rr&(Nr^Pr))+Lr[15]+3634488961&4294967295,Ir=Nr+(Ar<<14&4294967295|Ar>>>18),Ar=Rr+(Nr^Pr&(Ir^Nr))+Lr[4]+3889429448&4294967295,Rr=Ir+(Ar<<20&4294967295|Ar>>>12),Ar=Pr+(Ir^Nr&(Rr^Ir))+Lr[9]+568446438&4294967295,Pr=Rr+(Ar<<5&4294967295|Ar>>>27),Ar=Nr+(Rr^Ir&(Pr^Rr))+Lr[14]+3275163606&4294967295,Nr=Pr+(Ar<<9&4294967295|Ar>>>23),Ar=Ir+(Pr^Rr&(Nr^Pr))+Lr[3]+4107603335&4294967295,Ir=Nr+(Ar<<14&4294967295|Ar>>>18),Ar=Rr+(Nr^Pr&(Ir^Nr))+Lr[8]+1163531501&4294967295,Rr=Ir+(Ar<<20&4294967295|Ar>>>12),Ar=Pr+(Ir^Nr&(Rr^Ir))+Lr[13]+2850285829&4294967295,Pr=Rr+(Ar<<5&4294967295|Ar>>>27),Ar=Nr+(Rr^Ir&(Pr^Rr))+Lr[2]+4243563512&4294967295,Nr=Pr+(Ar<<9&4294967295|Ar>>>23),Ar=Ir+(Pr^Rr&(Nr^Pr))+Lr[7]+1735328473&4294967295,Ir=Nr+(Ar<<14&4294967295|Ar>>>18),Ar=Rr+(Nr^Pr&(Ir^Nr))+Lr[12]+2368359562&4294967295,Rr=Ir+(Ar<<20&4294967295|Ar>>>12),Ar=Pr+(Rr^Ir^Nr)+Lr[5]+4294588738&4294967295,Pr=Rr+(Ar<<4&4294967295|Ar>>>28),Ar=Nr+(Pr^Rr^Ir)+Lr[8]+2272392833&4294967295,Nr=Pr+(Ar<<11&4294967295|Ar>>>21),Ar=Ir+(Nr^Pr^Rr)+Lr[11]+1839030562&4294967295,Ir=Nr+(Ar<<16&4294967295|Ar>>>16),Ar=Rr+(Ir^Nr^Pr)+Lr[14]+4259657740&4294967295,Rr=Ir+(Ar<<23&4294967295|Ar>>>9),Ar=Pr+(Rr^Ir^Nr)+Lr[1]+2763975236&4294967295,Pr=Rr+(Ar<<4&4294967295|Ar>>>28),Ar=Nr+(Pr^Rr^Ir)+Lr[4]+1272893353&4294967295,Nr=Pr+(Ar<<11&4294967295|Ar>>>21),Ar=Ir+(Nr^Pr^Rr)+Lr[7]+4139469664&4294967295,Ir=Nr+(Ar<<16&4294967295|Ar>>>16),Ar=Rr+(Ir^Nr^Pr)+Lr[10]+3200236656&4294967295,Rr=Ir+(Ar<<23&4294967295|Ar>>>9),Ar=Pr+(Rr^Ir^Nr)+Lr[13]+681279174&4294967295,Pr=Rr+(Ar<<4&4294967295|Ar>>>28),Ar=Nr+(Pr^Rr^Ir)+Lr[0]+3936430074&4294967295,Nr=Pr+(Ar<<11&4294967295|Ar>>>21),Ar=Ir+(Nr^Pr^Rr)+Lr[3]+3572445317&4294967295,Ir=Nr+(Ar<<16&4294967295|Ar>>>16),Ar=Rr+(Ir^Nr^Pr)+Lr[6]+76029189&4294967295,Rr=Ir+(Ar<<23&4294967295|Ar>>>9),Ar=Pr+(Rr^Ir^Nr)+Lr[9]+3654602809&4294967295,Pr=Rr+(Ar<<4&4294967295|Ar>>>28),Ar=Nr+(Pr^Rr^Ir)+Lr[12]+3873151461&4294967295,Nr=Pr+(Ar<<11&4294967295|Ar>>>21),Ar=Ir+(Nr^Pr^Rr)+Lr[15]+530742520&4294967295,Ir=Nr+(Ar<<16&4294967295|Ar>>>16),Ar=Rr+(Ir^Nr^Pr)+Lr[2]+3299628645&4294967295,Rr=Ir+(Ar<<23&4294967295|Ar>>>9),Ar=Pr+(Ir^(Rr|~Nr))+Lr[0]+4096336452&4294967295,Pr=Rr+(Ar<<6&4294967295|Ar>>>26),Ar=Nr+(Rr^(Pr|~Ir))+Lr[7]+1126891415&4294967295,Nr=Pr+(Ar<<10&4294967295|Ar>>>22),Ar=Ir+(Pr^(Nr|~Rr))+Lr[14]+2878612391&4294967295,Ir=Nr+(Ar<<15&4294967295|Ar>>>17),Ar=Rr+(Nr^(Ir|~Pr))+Lr[5]+4237533241&4294967295,Rr=Ir+(Ar<<21&4294967295|Ar>>>11),Ar=Pr+(Ir^(Rr|~Nr))+Lr[12]+1700485571&4294967295,Pr=Rr+(Ar<<6&4294967295|Ar>>>26),Ar=Nr+(Rr^(Pr|~Ir))+Lr[3]+2399980690&4294967295,Nr=Pr+(Ar<<10&4294967295|Ar>>>22),Ar=Ir+(Pr^(Nr|~Rr))+Lr[10]+4293915773&4294967295,Ir=Nr+(Ar<<15&4294967295|Ar>>>17),Ar=Rr+(Nr^(Ir|~Pr))+Lr[1]+2240044497&4294967295,Rr=Ir+(Ar<<21&4294967295|Ar>>>11),Ar=Pr+(Ir^(Rr|~Nr))+Lr[8]+1873313359&4294967295,Pr=Rr+(Ar<<6&4294967295|Ar>>>26),Ar=Nr+(Rr^(Pr|~Ir))+Lr[15]+4264355552&4294967295,Nr=Pr+(Ar<<10&4294967295|Ar>>>22),Ar=Ir+(Pr^(Nr|~Rr))+Lr[6]+2734768916&4294967295,Ir=Nr+(Ar<<15&4294967295|Ar>>>17),Ar=Rr+(Nr^(Ir|~Pr))+Lr[13]+1309151649&4294967295,Rr=Ir+(Ar<<21&4294967295|Ar>>>11),Ar=Pr+(Ir^(Rr|~Nr))+Lr[4]+4149444226&4294967295,Pr=Rr+(Ar<<6&4294967295|Ar>>>26),Ar=Nr+(Rr^(Pr|~Ir))+Lr[11]+3174756917&4294967295,Nr=Pr+(Ar<<10&4294967295|Ar>>>22),Ar=Ir+(Pr^(Nr|~Rr))+Lr[2]+718787259&4294967295,Ir=Nr+(Ar<<15&4294967295|Ar>>>17),Ar=Rr+(Nr^(Ir|~Pr))+Lr[9]+3951481745&4294967295,Cr.g[0]=Cr.g[0]+Pr&4294967295,Cr.g[1]=Cr.g[1]+(Ir+(Ar<<21&4294967295|Ar>>>11))&4294967295,Cr.g[2]=Cr.g[2]+Ir&4294967295,Cr.g[3]=Cr.g[3]+Nr&4294967295}rr.prototype.u=function(Cr,Pr){Pr===void 0&&(Pr=Cr.length);for(var Rr=Pr-this.blockSize,Lr=this.B,Ir=this.h,Nr=0;Nr<Pr;){if(Ir==0)for(;Nr<=Rr;)nr(this,Cr,Nr),Nr+=this.blockSize;if(typeof Cr=="string"){for(;Nr<Pr;)if(Lr[Ir++]=Cr.charCodeAt(Nr++),Ir==this.blockSize){nr(this,Lr),Ir=0;break}}else for(;Nr<Pr;)if(Lr[Ir++]=Cr[Nr++],Ir==this.blockSize){nr(this,Lr),Ir=0;break}}this.h=Ir,this.o+=Pr},rr.prototype.v=function(){var Cr=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Cr[0]=128;for(var Pr=1;Pr<Cr.length-8;++Pr)Cr[Pr]=0;var Rr=8*this.o;for(Pr=Cr.length-8;Pr<Cr.length;++Pr)Cr[Pr]=Rr&255,Rr/=256;for(this.u(Cr),Cr=Array(16),Pr=Rr=0;4>Pr;++Pr)for(var Lr=0;32>Lr;Lr+=8)Cr[Rr++]=this.g[Pr]>>>Lr&255;return Cr};function ir(Cr,Pr){var Rr=or;return Object.prototype.hasOwnProperty.call(Rr,Cr)?Rr[Cr]:Rr[Cr]=Pr(Cr)}function sr(Cr,Pr){this.h=Pr;for(var Rr=[],Lr=!0,Ir=Cr.length-1;0<=Ir;Ir--){var Nr=Cr[Ir]|0;Lr&&Nr==Pr||(Rr[Ir]=Nr,Lr=!1)}this.g=Rr}var or={};function ar(Cr){return-128<=Cr&&128>Cr?ir(Cr,function(Pr){return new sr([Pr|0],0>Pr?-1:0)}):new sr([Cr|0],0>Cr?-1:0)}function lr(Cr){if(isNaN(Cr)||!isFinite(Cr))return dr;if(0>Cr)return fr(lr(-Cr));for(var Pr=[],Rr=1,Lr=0;Cr>=Rr;Lr++)Pr[Lr]=Cr/Rr|0,Rr*=4294967296;return new sr(Pr,0)}function cr(Cr,Pr){if(Cr.length==0)throw Error("number format error: empty string");if(Pr=Pr||10,2>Pr||36<Pr)throw Error("radix out of range: "+Pr);if(Cr.charAt(0)=="-")return fr(cr(Cr.substring(1),Pr));if(0<=Cr.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rr=lr(Math.pow(Pr,8)),Lr=dr,Ir=0;Ir<Cr.length;Ir+=8){var Nr=Math.min(8,Cr.length-Ir),Ar=parseInt(Cr.substring(Ir,Ir+Nr),Pr);8>Nr?(Nr=lr(Math.pow(Pr,Nr)),Lr=Lr.j(Nr).add(lr(Ar))):(Lr=Lr.j(Rr),Lr=Lr.add(lr(Ar)))}return Lr}var dr=ar(0),hr=ar(1),ur=ar(16777216);er=sr.prototype,er.m=function(){if(mr(this))return-fr(this).m();for(var Cr=0,Pr=1,Rr=0;Rr<this.g.length;Rr++){var Lr=this.i(Rr);Cr+=(0<=Lr?Lr:4294967296+Lr)*Pr,Pr*=4294967296}return Cr},er.toString=function(Cr){if(Cr=Cr||10,2>Cr||36<Cr)throw Error("radix out of range: "+Cr);if(pr(this))return"0";if(mr(this))return"-"+fr(this).toString(Cr);for(var Pr=lr(Math.pow(Cr,6)),Rr=this,Lr="";;){var Ir=br(Rr,Pr).g;Rr=gr(Rr,Ir.j(Pr));var Nr=((0<Rr.g.length?Rr.g[0]:Rr.h)>>>0).toString(Cr);if(Rr=Ir,pr(Rr))return Nr+Lr;for(;6>Nr.length;)Nr="0"+Nr;Lr=Nr+Lr}},er.i=function(Cr){return 0>Cr?0:Cr<this.g.length?this.g[Cr]:this.h};function pr(Cr){if(Cr.h!=0)return!1;for(var Pr=0;Pr<Cr.g.length;Pr++)if(Cr.g[Pr]!=0)return!1;return!0}function mr(Cr){return Cr.h==-1}er.l=function(Cr){return Cr=gr(this,Cr),mr(Cr)?-1:pr(Cr)?0:1};function fr(Cr){for(var Pr=Cr.g.length,Rr=[],Lr=0;Lr<Pr;Lr++)Rr[Lr]=~Cr.g[Lr];return new sr(Rr,~Cr.h).add(hr)}er.abs=function(){return mr(this)?fr(this):this},er.add=function(Cr){for(var Pr=Math.max(this.g.length,Cr.g.length),Rr=[],Lr=0,Ir=0;Ir<=Pr;Ir++){var Nr=Lr+(this.i(Ir)&65535)+(Cr.i(Ir)&65535),Ar=(Nr>>>16)+(this.i(Ir)>>>16)+(Cr.i(Ir)>>>16);Lr=Ar>>>16,Nr&=65535,Ar&=65535,Rr[Ir]=Ar<<16|Nr}return new sr(Rr,Rr[Rr.length-1]&-2147483648?-1:0)};function gr(Cr,Pr){return Cr.add(fr(Pr))}er.j=function(Cr){if(pr(this)||pr(Cr))return dr;if(mr(this))return mr(Cr)?fr(this).j(fr(Cr)):fr(fr(this).j(Cr));if(mr(Cr))return fr(this.j(fr(Cr)));if(0>this.l(ur)&&0>Cr.l(ur))return lr(this.m()*Cr.m());for(var Pr=this.g.length+Cr.g.length,Rr=[],Lr=0;Lr<2*Pr;Lr++)Rr[Lr]=0;for(Lr=0;Lr<this.g.length;Lr++)for(var Ir=0;Ir<Cr.g.length;Ir++){var Nr=this.i(Lr)>>>16,Ar=this.i(Lr)&65535,Dr=Cr.i(Ir)>>>16,Tr=Cr.i(Ir)&65535;Rr[2*Lr+2*Ir]+=Ar*Tr,yr(Rr,2*Lr+2*Ir),Rr[2*Lr+2*Ir+1]+=Nr*Tr,yr(Rr,2*Lr+2*Ir+1),Rr[2*Lr+2*Ir+1]+=Ar*Dr,yr(Rr,2*Lr+2*Ir+1),Rr[2*Lr+2*Ir+2]+=Nr*Dr,yr(Rr,2*Lr+2*Ir+2)}for(Lr=0;Lr<Pr;Lr++)Rr[Lr]=Rr[2*Lr+1]<<16|Rr[2*Lr];for(Lr=Pr;Lr<2*Pr;Lr++)Rr[Lr]=0;return new sr(Rr,0)};function yr(Cr,Pr){for(;(Cr[Pr]&65535)!=Cr[Pr];)Cr[Pr+1]+=Cr[Pr]>>>16,Cr[Pr]&=65535,Pr++}function vr(Cr,Pr){this.g=Cr,this.h=Pr}function br(Cr,Pr){if(pr(Pr))throw Error("division by zero");if(pr(Cr))return new vr(dr,dr);if(mr(Cr))return Pr=br(fr(Cr),Pr),new vr(fr(Pr.g),fr(Pr.h));if(mr(Pr))return Pr=br(Cr,fr(Pr)),new vr(fr(Pr.g),Pr.h);if(30<Cr.g.length){if(mr(Cr)||mr(Pr))throw Error("slowDivide_ only works with positive integers.");for(var Rr=hr,Lr=Pr;0>=Lr.l(Cr);)Rr=Sr(Rr),Lr=Sr(Lr);var Ir=jr(Rr,1),Nr=jr(Lr,1);for(Lr=jr(Lr,2),Rr=jr(Rr,2);!pr(Lr);){var Ar=Nr.add(Lr);0>=Ar.l(Cr)&&(Ir=Ir.add(Rr),Nr=Ar),Lr=jr(Lr,1),Rr=jr(Rr,1)}return Pr=gr(Cr,Ir.j(Pr)),new vr(Ir,Pr)}for(Ir=dr;0<=Cr.l(Pr);){for(Rr=Math.max(1,Math.floor(Cr.m()/Pr.m())),Lr=Math.ceil(Math.log(Rr)/Math.LN2),Lr=48>=Lr?1:Math.pow(2,Lr-48),Nr=lr(Rr),Ar=Nr.j(Pr);mr(Ar)||0<Ar.l(Cr);)Rr-=Lr,Nr=lr(Rr),Ar=Nr.j(Pr);pr(Nr)&&(Nr=hr),Ir=Ir.add(Nr),Cr=gr(Cr,Ar)}return new vr(Ir,Cr)}er.A=function(Cr){return br(this,Cr).h},er.and=function(Cr){for(var Pr=Math.max(this.g.length,Cr.g.length),Rr=[],Lr=0;Lr<Pr;Lr++)Rr[Lr]=this.i(Lr)&Cr.i(Lr);return new sr(Rr,this.h&Cr.h)},er.or=function(Cr){for(var Pr=Math.max(this.g.length,Cr.g.length),Rr=[],Lr=0;Lr<Pr;Lr++)Rr[Lr]=this.i(Lr)|Cr.i(Lr);return new sr(Rr,this.h|Cr.h)},er.xor=function(Cr){for(var Pr=Math.max(this.g.length,Cr.g.length),Rr=[],Lr=0;Lr<Pr;Lr++)Rr[Lr]=this.i(Lr)^Cr.i(Lr);return new sr(Rr,this.h^Cr.h)};function Sr(Cr){for(var Pr=Cr.g.length+1,Rr=[],Lr=0;Lr<Pr;Lr++)Rr[Lr]=Cr.i(Lr)<<1|Cr.i(Lr-1)>>>31;return new sr(Rr,Cr.h)}function jr(Cr,Pr){var Rr=Pr>>5;Pr%=32;for(var Lr=Cr.g.length-Rr,Ir=[],Nr=0;Nr<Lr;Nr++)Ir[Nr]=0<Pr?Cr.i(Nr+Rr)>>>Pr|Cr.i(Nr+Rr+1)<<32-Pr:Cr.i(Nr+Rr);return new sr(Ir,Cr.h)}rr.prototype.digest=rr.prototype.v,rr.prototype.reset=rr.prototype.s,rr.prototype.update=rr.prototype.u,Md5=rr,sr.prototype.add=sr.prototype.add,sr.prototype.multiply=sr.prototype.j,sr.prototype.modulo=sr.prototype.A,sr.prototype.compare=sr.prototype.l,sr.prototype.toNumber=sr.prototype.m,sr.prototype.toString=sr.prototype.toString,sr.prototype.getBits=sr.prototype.i,sr.fromNumber=lr,sr.fromString=cr,Integer=sr}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var er,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Hr,rn,hn){return Hr==Array.prototype||Hr==Object.prototype||(Hr[rn]=hn.value),Hr};function tr(Hr){Hr=[typeof globalThis=="object"&&globalThis,Hr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var rn=0;rn<Hr.length;++rn){var hn=Hr[rn];if(hn&&hn.Math==Math)return hn}throw Error("Cannot find global object")}var rr=tr(this);function nr(Hr,rn){if(rn)e:{var hn=rr;Hr=Hr.split(".");for(var Pn=0;Pn<Hr.length-1;Pn++){var ts=Hr[Pn];if(!(ts in hn))break e;hn=hn[ts]}Hr=Hr[Hr.length-1],Pn=hn[Hr],rn=rn(Pn),rn!=Pn&&rn!=null&&e(hn,Hr,{configurable:!0,writable:!0,value:rn})}}function ir(Hr,rn){Hr instanceof String&&(Hr+="");var hn=0,Pn=!1,ts={next:function(){if(!Pn&&hn<Hr.length){var ys=hn++;return{value:rn(ys,Hr[ys]),done:!1}}return Pn=!0,{done:!0,value:void 0}}};return ts[Symbol.iterator]=function(){return ts},ts}nr("Array.prototype.values",function(Hr){return Hr||function(){return ir(this,function(rn,hn){return hn})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var sr=sr||{},or=this||self;function ar(Hr){var rn=typeof Hr;return rn=rn!="object"?rn:Hr?Array.isArray(Hr)?"array":rn:"null",rn=="array"||rn=="object"&&typeof Hr.length=="number"}function lr(Hr){var rn=typeof Hr;return rn=="object"&&Hr!=null||rn=="function"}function cr(Hr,rn,hn){return Hr.call.apply(Hr.bind,arguments)}function dr(Hr,rn,hn){if(!Hr)throw Error();if(2<arguments.length){var Pn=Array.prototype.slice.call(arguments,2);return function(){var ts=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ts,Pn),Hr.apply(rn,ts)}}return function(){return Hr.apply(rn,arguments)}}function hr(Hr,rn,hn){return hr=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cr:dr,hr.apply(null,arguments)}function ur(Hr,rn){var hn=Array.prototype.slice.call(arguments,1);return function(){var Pn=hn.slice();return Pn.push.apply(Pn,arguments),Hr.apply(this,Pn)}}function pr(Hr,rn){function hn(){}hn.prototype=rn.prototype,Hr.aa=rn.prototype,Hr.prototype=new hn,Hr.prototype.constructor=Hr,Hr.Qb=function(Pn,ts,ys){for(var Fs=Array(arguments.length-2),Js=2;Js<arguments.length;Js++)Fs[Js-2]=arguments[Js];return rn.prototype[ts].apply(Pn,Fs)}}function mr(Hr){const rn=Hr.length;if(0<rn){const hn=Array(rn);for(let Pn=0;Pn<rn;Pn++)hn[Pn]=Hr[Pn];return hn}return[]}function fr(Hr,rn){for(let hn=1;hn<arguments.length;hn++){const Pn=arguments[hn];if(ar(Pn)){const ts=Hr.length||0,ys=Pn.length||0;Hr.length=ts+ys;for(let Fs=0;Fs<ys;Fs++)Hr[ts+Fs]=Pn[Fs]}else Hr.push(Pn)}}class gr{constructor(rn,hn){this.i=rn,this.j=hn,this.h=0,this.g=null}get(){let rn;return 0<this.h?(this.h--,rn=this.g,this.g=rn.next,rn.next=null):rn=this.i(),rn}}function yr(Hr){return/^[\s\xa0]*$/.test(Hr)}function vr(){var Hr=or.navigator;return Hr&&(Hr=Hr.userAgent)?Hr:""}function br(Hr){return br[" "](Hr),Hr}br[" "]=function(){};var Sr=vr().indexOf("Gecko")!=-1&&!(vr().toLowerCase().indexOf("webkit")!=-1&&vr().indexOf("Edge")==-1)&&!(vr().indexOf("Trident")!=-1||vr().indexOf("MSIE")!=-1)&&vr().indexOf("Edge")==-1;function jr(Hr,rn,hn){for(const Pn in Hr)rn.call(hn,Hr[Pn],Pn,Hr)}function Cr(Hr,rn){for(const hn in Hr)rn.call(void 0,Hr[hn],hn,Hr)}function Pr(Hr){const rn={};for(const hn in Hr)rn[hn]=Hr[hn];return rn}const Rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(Hr,rn){let hn,Pn;for(let ts=1;ts<arguments.length;ts++){Pn=arguments[ts];for(hn in Pn)Hr[hn]=Pn[hn];for(let ys=0;ys<Rr.length;ys++)hn=Rr[ys],Object.prototype.hasOwnProperty.call(Pn,hn)&&(Hr[hn]=Pn[hn])}}function Ir(Hr){var rn=1;Hr=Hr.split(":");const hn=[];for(;0<rn&&Hr.length;)hn.push(Hr.shift()),rn--;return Hr.length&&hn.push(Hr.join(":")),hn}function Nr(Hr){or.setTimeout(()=>{throw Hr},0)}function Ar(){var Hr=xr;let rn=null;return Hr.g&&(rn=Hr.g,Hr.g=Hr.g.next,Hr.g||(Hr.h=null),rn.next=null),rn}class Dr{constructor(){this.h=this.g=null}add(rn,hn){const Pn=Tr.get();Pn.set(rn,hn),this.h?this.h.next=Pn:this.g=Pn,this.h=Pn}}var Tr=new gr(()=>new _r,Hr=>Hr.reset());class _r{constructor(){this.next=this.g=this.h=null}set(rn,hn){this.h=rn,this.g=hn,this.next=null}reset(){this.next=this.g=this.h=null}}let wr,Er=!1,xr=new Dr,Mr=()=>{const Hr=or.Promise.resolve(void 0);wr=()=>{Hr.then(zr)}};var zr=()=>{for(var Hr;Hr=Ar();){try{Hr.h.call(Hr.g)}catch(hn){Nr(hn)}var rn=Tr;rn.j(Hr),100>rn.h&&(rn.h++,Hr.next=rn.g,rn.g=Hr)}Er=!1};function Or(){this.s=this.s,this.C=this.C}Or.prototype.s=!1,Or.prototype.ma=function(){this.s||(this.s=!0,this.N())},Or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Br(Hr,rn){this.type=Hr,this.g=this.target=rn,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var Ur=function(){if(!or.addEventListener||!Object.defineProperty)return!1;var Hr=!1,rn=Object.defineProperty({},"passive",{get:function(){Hr=!0}});try{const hn=()=>{};or.addEventListener("test",hn,rn),or.removeEventListener("test",hn,rn)}catch{}return Hr}();function qr(Hr,rn){if(Br.call(this,Hr?Hr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,Hr){var hn=this.type=Hr.type,Pn=Hr.changedTouches&&Hr.changedTouches.length?Hr.changedTouches[0]:null;if(this.target=Hr.target||Hr.srcElement,this.g=rn,rn=Hr.relatedTarget){if(Sr){e:{try{br(rn.nodeName);var ts=!0;break e}catch{}ts=!1}ts||(rn=null)}}else hn=="mouseover"?rn=Hr.fromElement:hn=="mouseout"&&(rn=Hr.toElement);this.relatedTarget=rn,Pn?(this.clientX=Pn.clientX!==void 0?Pn.clientX:Pn.pageX,this.clientY=Pn.clientY!==void 0?Pn.clientY:Pn.pageY,this.screenX=Pn.screenX||0,this.screenY=Pn.screenY||0):(this.clientX=Hr.clientX!==void 0?Hr.clientX:Hr.pageX,this.clientY=Hr.clientY!==void 0?Hr.clientY:Hr.pageY,this.screenX=Hr.screenX||0,this.screenY=Hr.screenY||0),this.button=Hr.button,this.key=Hr.key||"",this.ctrlKey=Hr.ctrlKey,this.altKey=Hr.altKey,this.shiftKey=Hr.shiftKey,this.metaKey=Hr.metaKey,this.pointerId=Hr.pointerId||0,this.pointerType=typeof Hr.pointerType=="string"?Hr.pointerType:Vr[Hr.pointerType]||"",this.state=Hr.state,this.i=Hr,Hr.defaultPrevented&&qr.aa.h.call(this)}}pr(qr,Br);var Vr={2:"touch",3:"pen",4:"mouse"};qr.prototype.h=function(){qr.aa.h.call(this);var Hr=this.i;Hr.preventDefault?Hr.preventDefault():Hr.returnValue=!1};var Gr="closure_listenable_"+(1e6*Math.random()|0),$r=0;function Fr(Hr,rn,hn,Pn,ts){this.listener=Hr,this.proxy=null,this.src=rn,this.type=hn,this.capture=!!Pn,this.ha=ts,this.key=++$r,this.da=this.fa=!1}function Kr(Hr){Hr.da=!0,Hr.listener=null,Hr.proxy=null,Hr.src=null,Hr.ha=null}function Zr(Hr){this.src=Hr,this.g={},this.h=0}Zr.prototype.add=function(Hr,rn,hn,Pn,ts){var ys=Hr.toString();Hr=this.g[ys],Hr||(Hr=this.g[ys]=[],this.h++);var Fs=Qr(Hr,rn,Pn,ts);return-1<Fs?(rn=Hr[Fs],hn||(rn.fa=!1)):(rn=new Fr(rn,this.src,ys,!!Pn,ts),rn.fa=hn,Hr.push(rn)),rn};function nn(Hr,rn){var hn=rn.type;if(hn in Hr.g){var Pn=Hr.g[hn],ts=Array.prototype.indexOf.call(Pn,rn,void 0),ys;(ys=0<=ts)&&Array.prototype.splice.call(Pn,ts,1),ys&&(Kr(rn),Hr.g[hn].length==0&&(delete Hr.g[hn],Hr.h--))}}function Qr(Hr,rn,hn,Pn){for(var ts=0;ts<Hr.length;++ts){var ys=Hr[ts];if(!ys.da&&ys.listener==rn&&ys.capture==!!hn&&ys.ha==Pn)return ts}return-1}var cn="closure_lm_"+(1e6*Math.random()|0),dn={};function en(Hr,rn,hn,Pn,ts){if(Array.isArray(rn)){for(var ys=0;ys<rn.length;ys++)en(Hr,rn[ys],hn,Pn,ts);return null}return hn=En(hn),Hr&&Hr[Gr]?Hr.K(rn,hn,lr(Pn)?!!Pn.capture:!1,ts):an(Hr,rn,hn,!1,Pn,ts)}function an(Hr,rn,hn,Pn,ts,ys){if(!rn)throw Error("Invalid event type");var Fs=lr(ts)?!!ts.capture:!!ts,Js=Cn(Hr);if(Js||(Hr[cn]=Js=new Zr(Hr)),hn=Js.add(rn,hn,Pn,Fs,ys),hn.proxy)return hn;if(Pn=tn(),hn.proxy=Pn,Pn.src=Hr,Pn.listener=hn,Hr.addEventListener)Ur||(ts=Fs),ts===void 0&&(ts=!1),Hr.addEventListener(rn.toString(),Pn,ts);else if(Hr.attachEvent)Hr.attachEvent(pn(rn.toString()),Pn);else if(Hr.addListener&&Hr.removeListener)Hr.addListener(Pn);else throw Error("addEventListener and attachEvent are unavailable.");return hn}function tn(){function Hr(hn){return rn.call(Hr.src,Hr.listener,hn)}const rn=yn;return Hr}function sn(Hr,rn,hn,Pn,ts){if(Array.isArray(rn))for(var ys=0;ys<rn.length;ys++)sn(Hr,rn[ys],hn,Pn,ts);else Pn=lr(Pn)?!!Pn.capture:!!Pn,hn=En(hn),Hr&&Hr[Gr]?(Hr=Hr.i,rn=String(rn).toString(),rn in Hr.g&&(ys=Hr.g[rn],hn=Qr(ys,hn,Pn,ts),-1<hn&&(Kr(ys[hn]),Array.prototype.splice.call(ys,hn,1),ys.length==0&&(delete Hr.g[rn],Hr.h--)))):Hr&&(Hr=Cn(Hr))&&(rn=Hr.g[rn.toString()],Hr=-1,rn&&(Hr=Qr(rn,hn,Pn,ts)),(hn=-1<Hr?rn[Hr]:null)&&fn(hn))}function fn(Hr){if(typeof Hr!="number"&&Hr&&!Hr.da){var rn=Hr.src;if(rn&&rn[Gr])nn(rn.i,Hr);else{var hn=Hr.type,Pn=Hr.proxy;rn.removeEventListener?rn.removeEventListener(hn,Pn,Hr.capture):rn.detachEvent?rn.detachEvent(pn(hn),Pn):rn.addListener&&rn.removeListener&&rn.removeListener(Pn),(hn=Cn(rn))?(nn(hn,Hr),hn.h==0&&(hn.src=null,rn[cn]=null)):Kr(Hr)}}}function pn(Hr){return Hr in dn?dn[Hr]:dn[Hr]="on"+Hr}function yn(Hr,rn){if(Hr.da)Hr=!0;else{rn=new qr(rn,this);var hn=Hr.listener,Pn=Hr.ha||Hr.src;Hr.fa&&fn(Hr),Hr=hn.call(Pn,rn)}return Hr}function Cn(Hr){return Hr=Hr[cn],Hr instanceof Zr?Hr:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(Hr){return typeof Hr=="function"?Hr:(Hr[Rn]||(Hr[Rn]=function(rn){return Hr.handleEvent(rn)}),Hr[Rn])}function zn(){Or.call(this),this.i=new Zr(this),this.M=this,this.F=null}pr(zn,Or),zn.prototype[Gr]=!0,zn.prototype.removeEventListener=function(Hr,rn,hn,Pn){sn(this,Hr,rn,hn,Pn)};function Bn(Hr,rn){var hn,Pn=Hr.F;if(Pn)for(hn=[];Pn;Pn=Pn.F)hn.push(Pn);if(Hr=Hr.M,Pn=rn.type||rn,typeof rn=="string")rn=new Br(rn,Hr);else if(rn instanceof Br)rn.target=rn.target||Hr;else{var ts=rn;rn=new Br(Pn,Hr),Lr(rn,ts)}if(ts=!0,hn)for(var ys=hn.length-1;0<=ys;ys--){var Fs=rn.g=hn[ys];ts=rs(Fs,Pn,!0,rn)&&ts}if(Fs=rn.g=Hr,ts=rs(Fs,Pn,!0,rn)&&ts,ts=rs(Fs,Pn,!1,rn)&&ts,hn)for(ys=0;ys<hn.length;ys++)Fs=rn.g=hn[ys],ts=rs(Fs,Pn,!1,rn)&&ts}zn.prototype.N=function(){if(zn.aa.N.call(this),this.i){var Hr=this.i,rn;for(rn in Hr.g){for(var hn=Hr.g[rn],Pn=0;Pn<hn.length;Pn++)Kr(hn[Pn]);delete Hr.g[rn],Hr.h--}}this.F=null},zn.prototype.K=function(Hr,rn,hn,Pn){return this.i.add(String(Hr),rn,!1,hn,Pn)},zn.prototype.L=function(Hr,rn,hn,Pn){return this.i.add(String(Hr),rn,!0,hn,Pn)};function rs(Hr,rn,hn,Pn){if(rn=Hr.i.g[String(rn)],!rn)return!0;rn=rn.concat();for(var ts=!0,ys=0;ys<rn.length;++ys){var Fs=rn[ys];if(Fs&&!Fs.da&&Fs.capture==hn){var Js=Fs.listener,ao=Fs.ha||Fs.src;Fs.fa&&nn(Hr.i,Fs),ts=Js.call(ao,Pn)!==!1&&ts}}return ts&&!Pn.defaultPrevented}function cs(Hr,rn,hn){if(typeof Hr=="function")hn&&(Hr=hr(Hr,hn));else if(Hr&&typeof Hr.handleEvent=="function")Hr=hr(Hr.handleEvent,Hr);else throw Error("Invalid listener argument");return 2147483647<Number(rn)?-1:or.setTimeout(Hr,rn||0)}function _s(Hr){Hr.g=cs(()=>{Hr.g=null,Hr.i&&(Hr.i=!1,_s(Hr))},Hr.l);const rn=Hr.h;Hr.h=null,Hr.m.apply(null,rn)}class qn extends Or{constructor(rn,hn){super(),this.m=rn,this.l=hn,this.h=null,this.i=!1,this.g=null}j(rn){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(Hr){Or.call(this),this.h=Hr,this.g={}}pr(vs,Or);var fs=[];function xs(Hr){jr(Hr.g,function(rn,hn){this.g.hasOwnProperty(hn)&&fn(rn)},Hr),Hr.g={}}vs.prototype.N=function(){vs.aa.N.call(this),xs(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=or.JSON.stringify,On=or.JSON.parse,Mn=class{stringify(Hr){return or.JSON.stringify(Hr,void 0)}parse(Hr){return or.JSON.parse(Hr,void 0)}};function ds(){}ds.prototype.h=null;function In(Hr){return Hr.h||(Hr.h=Hr.i())}function ss(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){Br.call(this,"d")}pr($n,Br);function Un(){Br.call(this,"c")}pr(Un,Br);var Kn={},hs=null;function ps(){return hs=hs||new zn}Kn.La="serverreachability";function An(Hr){Br.call(this,Kn.La,Hr)}pr(An,Br);function xn(Hr){const rn=ps();Bn(rn,new An(rn))}Kn.STAT_EVENT="statevent";function jn(Hr,rn){Br.call(this,Kn.STAT_EVENT,Hr),this.stat=rn}pr(jn,Br);function Ln(Hr){const rn=ps();Bn(rn,new jn(rn,Hr))}Kn.Ma="timingevent";function Yn(Hr,rn){Br.call(this,Kn.Ma,Hr),this.size=rn}pr(Yn,Br);function Jn(Hr,rn){if(typeof Hr!="function")throw Error("Fn must not be null and must be a function");return or.setTimeout(function(){Hr()},rn)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Dn(Hr,rn,hn,Pn,ts,ys){Hr.info(function(){if(Hr.g)if(ys)for(var Fs="",Js=ys.split("&"),ao=0;ao<Js.length;ao++){var na=Js[ao].split("=");if(1<na.length){var po=na[0];na=na[1];var xo=po.split("_");Fs=2<=xo.length&&xo[1]=="type"?Fs+(po+"="+na+"&"):Fs+(po+"=redacted&")}}else Fs=null;else Fs=ys;return"XMLHTTP REQ ("+Pn+") [attempt "+ts+"]: "+rn+`
`+hn+`
`+Fs})}function Wn(Hr,rn,hn,Pn,ts,ys,Fs){Hr.info(function(){return"XMLHTTP RESP ("+Pn+") [ attempt "+ts+"]: "+rn+`
`+hn+`
`+ys+" "+Fs})}function _i(Hr,rn,hn,Pn){Hr.info(function(){return"XMLHTTP TEXT ("+rn+"): "+us(Hr,hn)+(Pn?" "+Pn:"")})}function Cs(Hr,rn){Hr.info(function(){return"TIMEOUT: "+rn})}Sn.prototype.info=function(){};function us(Hr,rn){if(!Hr.g)return rn;if(!rn)return null;try{var hn=JSON.parse(rn);if(hn){for(Hr=0;Hr<hn.length;Hr++)if(Array.isArray(hn[Hr])){var Pn=hn[Hr];if(!(2>Pn.length)){var ts=Pn[1];if(Array.isArray(ts)&&!(1>ts.length)){var ys=ts[0];if(ys!="noop"&&ys!="stop"&&ys!="close")for(var Fs=1;Fs<ts.length;Fs++)ts[Fs]=""}}}}return Vn(hn)}catch{return rn}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ps={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ts;function Ls(){}pr(Ls,ds),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Ts=new Ls;function Os(Hr,rn,hn,Pn){this.j=Hr,this.i=rn,this.l=hn,this.R=Pn||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var qs={},Ys={};function $a(Hr,rn,hn){Hr.L=1,Hr.v=_l(ko(rn)),Hr.m=hn,Hr.P=!0,eo(Hr,null)}function eo(Hr,rn){Hr.F=Date.now(),Hn(Hr),Hr.A=ko(Hr.v);var hn=Hr.A,Pn=Hr.R;Array.isArray(Pn)||(Pn=[String(Pn)]),Xs(hn.i,"t",Pn),Hr.C=0,hn=Hr.j.J,Hr.h=new zs,Hr.g=mn(Hr.j,hn?rn:null,!Hr.m),0<Hr.O&&(Hr.M=new qn(hr(Hr.Y,Hr,Hr.g),Hr.O)),rn=Hr.U,hn=Hr.g,Pn=Hr.ca;var ts="readystatechange";Array.isArray(ts)||(ts&&(fs[0]=ts.toString()),ts=fs);for(var ys=0;ys<ts.length;ys++){var Fs=en(hn,ts[ys],Pn||rn.handleEvent,!1,rn.h||rn);if(!Fs)break;rn.g[Fs.key]=Fs}rn=Hr.H?Pr(Hr.H):{},Hr.m?(Hr.u||(Hr.u="POST"),rn["Content-Type"]="application/x-www-form-urlencoded",Hr.g.ea(Hr.A,Hr.u,Hr.m,rn)):(Hr.u="GET",Hr.g.ea(Hr.A,Hr.u,null,rn)),xn(),Dn(Hr.i,Hr.u,Hr.A,Hr.l,Hr.R,Hr.m)}Os.prototype.ca=function(Hr){Hr=Hr.target;const rn=this.M;rn&&Do(Hr)==3?rn.j():this.Y(Hr)},Os.prototype.Y=function(Hr){try{if(Hr==this.g)e:{const xo=Do(this.g);var rn=this.g.Ba();const Ql=this.g.Z();if(!(3>xo)&&(xo!=3||this.g&&(this.h.h||this.g.oa()||rp(this.g)))){this.J||xo!=4||rn==7||(rn==8||0>=Ql?xn(3):xn(2)),Es(this);var hn=this.g.Z();this.X=hn;t:if(mo(this)){var Pn=rp(this.g);Hr="";var ts=Pn.length,ys=Do(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rs(this),$s(this);var Fs="";break t}this.h.i=new or.TextDecoder}for(rn=0;rn<ts;rn++)this.h.h=!0,Hr+=this.h.i.decode(Pn[rn],{stream:!(ys&&rn==ts-1)});Pn.length=0,this.h.g+=Hr,this.C=0,Fs=this.h.g}else Fs=this.g.oa();if(this.o=hn==200,Wn(this.i,this.u,this.A,this.l,this.R,xo,hn),this.o){if(this.T&&!this.K){t:{if(this.g){var Js,ao=this.g;if((Js=ao.g?ao.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(Js)){var na=Js;break t}}na=null}if(hn=na)_i(this.i,this.l,hn,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,hn);else{this.o=!1,this.s=3,Ln(12),Rs(this),$s(this);break e}}if(this.P){hn=!0;let Wo;for(;!this.J&&this.C<Fs.length;)if(Wo=_n(this,Fs),Wo==Ys){xo==4&&(this.s=4,Ln(14),hn=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Wo==qs){this.s=4,Ln(15),_i(this.i,this.l,Fs,"[Invalid Chunk]"),hn=!1;break}else _i(this.i,this.l,Wo,null),Ns(this,Wo);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xo!=4||Fs.length!=0||this.h.h||(this.s=1,Ln(16),hn=!1),this.o=this.o&&hn,!hn)_i(this.i,this.l,Fs,"[Invalid Chunked Response]"),Rs(this),$s(this);else if(0<Fs.length&&!this.W){this.W=!0;var po=this.j;po.g==this&&po.ba&&!po.M&&(po.j.info("Great, no buffering proxy detected. Bytes received: "+Fs.length),ku(po),po.M=!0,Ln(11))}}else _i(this.i,this.l,Fs,null),Ns(this,Fs);xo==4&&Rs(this),this.o&&!this.J&&(xo==4?iu(this.j,this):(this.o=!1,Hn(this)))}else ru(this.g),hn==400&&0<Fs.indexOf("Unknown SID")?(this.s=3,Ln(12)):(this.s=0,Ln(13)),Rs(this),$s(this)}}}catch{}finally{}};function mo(Hr){return Hr.g?Hr.u=="GET"&&Hr.L!=2&&Hr.j.Ca:!1}function _n(Hr,rn){var hn=Hr.C,Pn=rn.indexOf(`
`,hn);return Pn==-1?Ys:(hn=Number(rn.substring(hn,Pn)),isNaN(hn)?qs:(Pn+=1,Pn+hn>rn.length?Ys:(rn=rn.slice(Pn,Pn+hn),Hr.C=Pn+hn,rn)))}Os.prototype.cancel=function(){this.J=!0,Rs(this)};function Hn(Hr){Hr.S=Date.now()+Hr.I,bs(Hr,Hr.I)}function bs(Hr,rn){if(Hr.B!=null)throw Error("WatchDog timer not null");Hr.B=Jn(hr(Hr.ba,Hr),rn)}function Es(Hr){Hr.B&&(or.clearTimeout(Hr.B),Hr.B=null)}Os.prototype.ba=function(){this.B=null;const Hr=Date.now();0<=Hr-this.S?(Cs(this.i,this.A),this.L!=2&&(xn(),Ln(17)),Rs(this),this.s=2,$s(this)):bs(this,this.S-Hr)};function $s(Hr){Hr.j.G==0||Hr.J||iu(Hr.j,Hr)}function Rs(Hr){Es(Hr);var rn=Hr.M;rn&&typeof rn.ma=="function"&&rn.ma(),Hr.M=null,xs(Hr.U),Hr.g&&(rn=Hr.g,Hr.g=null,rn.abort(),rn.ma())}function Ns(Hr,rn){try{var hn=Hr.j;if(hn.G!=0&&(hn.g==Hr||no(hn.h,Hr))){if(!Hr.K&&no(hn.h,Hr)&&hn.G==3){try{var Pn=hn.Da.g.parse(rn)}catch{Pn=null}if(Array.isArray(Pn)&&Pn.length==3){var ts=Pn;if(ts[0]==0){e:if(!hn.u){if(hn.g)if(hn.g.F+3e3<Hr.F)Zl(hn),Au(hn);else break e;du(hn),Ln(18)}}else hn.za=ts[1],0<hn.za-hn.T&&37500>ts[2]&&hn.F&&hn.v==0&&!hn.C&&(hn.C=Jn(hr(hn.Za,hn),6e3));if(1>=Hs(hn.h)&&hn.ca){try{hn.ca()}catch{}hn.ca=void 0}}else Go(hn,11)}else if((Hr.K||hn.g==Hr)&&Zl(hn),!yr(rn))for(ts=hn.Da.g.parse(rn),rn=0;rn<ts.length;rn++){let na=ts[rn];if(hn.T=na[0],na=na[1],hn.G==2)if(na[0]=="c"){hn.K=na[1],hn.ia=na[2];const po=na[3];po!=null&&(hn.la=po,hn.j.info("VER="+hn.la));const xo=na[4];xo!=null&&(hn.Aa=xo,hn.j.info("SVER="+hn.Aa));const Ql=na[5];Ql!=null&&typeof Ql=="number"&&0<Ql&&(Pn=1.5*Ql,hn.L=Pn,hn.j.info("backChannelRequestTimeoutMs_="+Pn)),Pn=hn;const Wo=Hr.g;if(Wo){const su=Wo.g?Wo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(su){var ys=Pn.h;ys.g||su.indexOf("spdy")==-1&&su.indexOf("quic")==-1&&su.indexOf("h2")==-1||(ys.j=ys.l,ys.g=new Set,ys.h&&(Ks(ys,ys.h),ys.h=null))}if(Pn.D){const au=Wo.g?Wo.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(Pn.ya=au,so(Pn.I,Pn.D,au))}}hn.G=3,hn.l&&hn.l.ua(),hn.ba&&(hn.R=Date.now()-Hr.F,hn.j.info("Handshake RTT: "+hn.R+"ms")),Pn=hn;var Fs=Hr;if(Pn.qa=Yr(Pn,Pn.J?Pn.ia:null,Pn.W),Fs.K){io(Pn.h,Fs);var Js=Fs,ao=Pn.L;ao&&(Js.I=ao),Js.B&&(Es(Js),Hn(Js)),Pn.g=Fs}else Cu(Pn);0<hn.i.length&&Pu(hn)}else na[0]!="stop"&&na[0]!="close"||Go(hn,7);else hn.G==3&&(na[0]=="stop"||na[0]=="close"?na[0]=="stop"?Go(hn,7):Yl(hn):na[0]!="noop"&&hn.l&&hn.l.ta(na),hn.v=0)}}xn(4)}catch{}}var ba=class{constructor(Hr,rn){this.g=Hr,this.map=rn}};function Zs(Hr){this.l=Hr||10,or.PerformanceNavigationTiming?(Hr=or.performance.getEntriesByType("navigation"),Hr=0<Hr.length&&(Hr[0].nextHopProtocol=="hq"||Hr[0].nextHopProtocol=="h2")):Hr=!!(or.chrome&&or.chrome.loadTimes&&or.chrome.loadTimes()&&or.chrome.loadTimes().wasFetchedViaSpdy),this.j=Hr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(Hr){return Hr.h?!0:Hr.g?Hr.g.size>=Hr.j:!1}function Hs(Hr){return Hr.h?1:Hr.g?Hr.g.size:0}function no(Hr,rn){return Hr.h?Hr.h==rn:Hr.g?Hr.g.has(rn):!1}function Ks(Hr,rn){Hr.g?Hr.g.add(rn):Hr.h=rn}function io(Hr,rn){Hr.h&&Hr.h==rn?Hr.h=null:Hr.g&&Hr.g.has(rn)&&Hr.g.delete(rn)}Zs.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const Hr of this.g.values())Hr.cancel();this.g.clear()}};function co(Hr){if(Hr.h!=null)return Hr.i.concat(Hr.h.D);if(Hr.g!=null&&Hr.g.size!==0){let rn=Hr.i;for(const hn of Hr.g.values())rn=rn.concat(hn.D);return rn}return mr(Hr.i)}function Ao(Hr){if(Hr.V&&typeof Hr.V=="function")return Hr.V();if(typeof Map<"u"&&Hr instanceof Map||typeof Set<"u"&&Hr instanceof Set)return Array.from(Hr.values());if(typeof Hr=="string")return Hr.split("");if(ar(Hr)){for(var rn=[],hn=Hr.length,Pn=0;Pn<hn;Pn++)rn.push(Hr[Pn]);return rn}rn=[],hn=0;for(Pn in Hr)rn[hn++]=Hr[Pn];return rn}function Po(Hr){if(Hr.na&&typeof Hr.na=="function")return Hr.na();if(!Hr.V||typeof Hr.V!="function"){if(typeof Map<"u"&&Hr instanceof Map)return Array.from(Hr.keys());if(!(typeof Set<"u"&&Hr instanceof Set)){if(ar(Hr)||typeof Hr=="string"){var rn=[];Hr=Hr.length;for(var hn=0;hn<Hr;hn++)rn.push(hn);return rn}rn=[],hn=0;for(const Pn in Hr)rn[hn++]=Pn;return rn}}}function Fo(Hr,rn){if(Hr.forEach&&typeof Hr.forEach=="function")Hr.forEach(rn,void 0);else if(ar(Hr)||typeof Hr=="string")Array.prototype.forEach.call(Hr,rn,void 0);else for(var hn=Po(Hr),Pn=Ao(Hr),ts=Pn.length,ys=0;ys<ts;ys++)rn.call(void 0,Pn[ys],hn&&hn[ys],Hr)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(Hr,rn){if(Hr){Hr=Hr.split("&");for(var hn=0;hn<Hr.length;hn++){var Pn=Hr[hn].indexOf("="),ts=null;if(0<=Pn){var ys=Hr[hn].substring(0,Pn);ts=Hr[hn].substring(Pn+1)}else ys=Hr[hn];rn(ys,ts?decodeURIComponent(ts.replace(/\+/g," ")):"")}}}function go(Hr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,Hr instanceof go){this.h=Hr.h,ro(this,Hr.j),this.o=Hr.o,this.g=Hr.g,ga(this,Hr.s),this.l=Hr.l;var rn=Hr.i,hn=new Yo;hn.i=rn.i,rn.g&&(hn.g=new Map(rn.g),hn.h=rn.h),Ko(this,hn),this.m=Hr.m}else Hr&&(rn=String(Hr).match(Co))?(this.h=!1,ro(this,rn[1]||"",!0),this.o=To(rn[2]||""),this.g=To(rn[3]||"",!0),ga(this,rn[4]),this.l=To(rn[5]||"",!0),Ko(this,rn[6]||"",!0),this.m=To(rn[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}go.prototype.toString=function(){var Hr=[],rn=this.j;rn&&Hr.push(Io(rn,Ol,!0),":");var hn=this.g;return(hn||rn=="file")&&(Hr.push("//"),(rn=this.o)&&Hr.push(Io(rn,Ol,!0),"@"),Hr.push(encodeURIComponent(String(hn)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),hn=this.s,hn!=null&&Hr.push(":",String(hn))),(hn=this.l)&&(this.g&&hn.charAt(0)!="/"&&Hr.push("/"),Hr.push(Io(hn,hn.charAt(0)=="/"?$o:eu,!0))),(hn=this.i.toString())&&Hr.push("?",hn),(hn=this.m)&&Hr.push("#",Io(hn,Hl)),Hr.join("")};function ko(Hr){return new go(Hr)}function ro(Hr,rn,hn){Hr.j=hn?To(rn,!0):rn,Hr.j&&(Hr.j=Hr.j.replace(/:$/,""))}function ga(Hr,rn){if(rn){if(rn=Number(rn),isNaN(rn)||0>rn)throw Error("Bad port number "+rn);Hr.s=rn}else Hr.s=null}function Ko(Hr,rn,hn){rn instanceof Yo?(Hr.i=rn,tu(Hr.i,Hr.h)):(hn||(rn=Io(rn,Uo)),Hr.i=new Yo(rn,Hr.h))}function so(Hr,rn,hn){Hr.i.set(rn,hn)}function _l(Hr){return so(Hr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),Hr}function To(Hr,rn){return Hr?rn?decodeURI(Hr.replace(/%25/g,"%2525")):decodeURIComponent(Hr):""}function Io(Hr,rn,hn){return typeof Hr=="string"?(Hr=encodeURI(Hr).replace(rn,xl),hn&&(Hr=Hr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Hr):null}function xl(Hr){return Hr=Hr.charCodeAt(0),"%"+(Hr>>4&15).toString(16)+(Hr&15).toString(16)}var Ol=/[#\/\?@]/g,eu=/[#\?:]/g,$o=/[#\?]/g,Uo=/[#\?@]/g,Hl=/#/g;function Yo(Hr,rn){this.h=this.g=null,this.i=Hr||null,this.j=!!rn}function yo(Hr){Hr.g||(Hr.g=new Map,Hr.h=0,Hr.i&&Xo(Hr.i,function(rn,hn){Hr.add(decodeURIComponent(rn.replace(/\+/g," ")),hn)}))}er=Yo.prototype,er.add=function(Hr,rn){yo(this),this.i=null,Hr=Zo(this,Hr);var hn=this.g.get(Hr);return hn||this.g.set(Hr,hn=[]),hn.push(rn),this.h+=1,this};function Kl(Hr,rn){yo(Hr),rn=Zo(Hr,rn),Hr.g.has(rn)&&(Hr.i=null,Hr.h-=Hr.g.get(rn).length,Hr.g.delete(rn))}function Ml(Hr,rn){return yo(Hr),rn=Zo(Hr,rn),Hr.g.has(rn)}er.forEach=function(Hr,rn){yo(this),this.g.forEach(function(hn,Pn){hn.forEach(function(ts){Hr.call(rn,ts,Pn,this)},this)},this)},er.na=function(){yo(this);const Hr=Array.from(this.g.values()),rn=Array.from(this.g.keys()),hn=[];for(let Pn=0;Pn<rn.length;Pn++){const ts=Hr[Pn];for(let ys=0;ys<ts.length;ys++)hn.push(rn[Pn])}return hn},er.V=function(Hr){yo(this);let rn=[];if(typeof Hr=="string")Ml(this,Hr)&&(rn=rn.concat(this.g.get(Zo(this,Hr))));else{Hr=Array.from(this.g.values());for(let hn=0;hn<Hr.length;hn++)rn=rn.concat(Hr[hn])}return rn},er.set=function(Hr,rn){return yo(this),this.i=null,Hr=Zo(this,Hr),Ml(this,Hr)&&(this.h-=this.g.get(Hr).length),this.g.set(Hr,[rn]),this.h+=1,this},er.get=function(Hr,rn){return Hr?(Hr=this.V(Hr),0<Hr.length?String(Hr[0]):rn):rn};function Xs(Hr,rn,hn){Kl(Hr,rn),0<hn.length&&(Hr.i=null,Hr.g.set(Zo(Hr,rn),mr(hn)),Hr.h+=hn.length)}er.toString=function(){if(this.i)return this.i;if(!this.g)return"";const Hr=[],rn=Array.from(this.g.keys());for(var hn=0;hn<rn.length;hn++){var Pn=rn[hn];const ys=encodeURIComponent(String(Pn)),Fs=this.V(Pn);for(Pn=0;Pn<Fs.length;Pn++){var ts=ys;Fs[Pn]!==""&&(ts+="="+encodeURIComponent(String(Fs[Pn]))),Hr.push(ts)}}return this.i=Hr.join("&")};function Zo(Hr,rn){return rn=String(rn),Hr.j&&(rn=rn.toLowerCase()),rn}function tu(Hr,rn){rn&&!Hr.j&&(yo(Hr),Hr.i=null,Hr.g.forEach(function(hn,Pn){var ts=Pn.toLowerCase();Pn!=ts&&(Kl(this,Pn),Xs(this,ts,hn))},Hr)),Hr.j=rn}function Dl(Hr,rn){const hn=new Sn;if(or.Image){const Pn=new Image;Pn.onload=ur(Pl,hn,"TestLoadImage: loaded",!0,rn,Pn),Pn.onerror=ur(Pl,hn,"TestLoadImage: error",!1,rn,Pn),Pn.onabort=ur(Pl,hn,"TestLoadImage: abort",!1,rn,Pn),Pn.ontimeout=ur(Pl,hn,"TestLoadImage: timeout",!1,rn,Pn),or.setTimeout(function(){Pn.ontimeout&&Pn.ontimeout()},1e4),Pn.src=Hr}else rn(!1)}function ep(Hr,rn){const hn=new Sn,Pn=new AbortController,ts=setTimeout(()=>{Pn.abort(),Pl(hn,"TestPingServer: timeout",!1,rn)},1e4);fetch(Hr,{signal:Pn.signal}).then(ys=>{clearTimeout(ts),ys.ok?Pl(hn,"TestPingServer: ok",!0,rn):Pl(hn,"TestPingServer: server error",!1,rn)}).catch(()=>{clearTimeout(ts),Pl(hn,"TestPingServer: error",!1,rn)})}function Pl(Hr,rn,hn,Pn,ts){try{ts&&(ts.onload=null,ts.onerror=null,ts.onabort=null,ts.ontimeout=null),Pn(hn)}catch{}}function _u(){this.g=new Mn}function zu(Hr,rn,hn){const Pn=hn||"";try{Fo(Hr,function(ts,ys){let Fs=ts;lr(ts)&&(Fs=Vn(ts)),rn.push(Pn+ys+"="+encodeURIComponent(Fs))})}catch(ts){throw rn.push(Pn+"type="+encodeURIComponent("_badmap")),ts}}function xu(Hr){this.l=Hr.Ub||null,this.j=Hr.eb||!1}pr(xu,ds),xu.prototype.g=function(){return new wu(this.l,this.j)},xu.prototype.i=function(Hr){return function(){return Hr}}({});function wu(Hr,rn){zn.call(this),this.D=Hr,this.o=rn,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}pr(wu,zn),er=wu.prototype,er.open=function(Hr,rn){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=Hr,this.A=rn,this.readyState=1,Tl(this)},er.send=function(Hr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const rn={headers:this.u,method:this.B,credentials:this.m,cache:void 0};Hr&&(rn.body=Hr),(this.D||or).fetch(new Request(this.A,rn)).then(this.Sa.bind(this),this.ga.bind(this))},er.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gl(this)),this.readyState=0},er.Sa=function(Hr){if(this.g&&(this.l=Hr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=Hr.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")Hr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof or.ReadableStream<"u"&&"body"in Hr){if(this.j=Hr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tp(this)}else Hr.text().then(this.Ra.bind(this),this.ga.bind(this))};function tp(Hr){Hr.j.read().then(Hr.Pa.bind(Hr)).catch(Hr.ga.bind(Hr))}er.Pa=function(Hr){if(this.g){if(this.o&&Hr.value)this.response.push(Hr.value);else if(!this.o){var rn=Hr.value?Hr.value:new Uint8Array(0);(rn=this.v.decode(rn,{stream:!Hr.done}))&&(this.response=this.responseText+=rn)}Hr.done?Gl(this):Tl(this),this.readyState==3&&tp(this)}},er.Ra=function(Hr){this.g&&(this.response=this.responseText=Hr,Gl(this))},er.Qa=function(Hr){this.g&&(this.response=Hr,Gl(this))},er.ga=function(){this.g&&Gl(this)};function Gl(Hr){Hr.readyState=4,Hr.l=null,Hr.j=null,Hr.v=null,Tl(Hr)}er.setRequestHeader=function(Hr,rn){this.u.append(Hr,rn)},er.getResponseHeader=function(Hr){return this.h&&this.h.get(Hr.toLowerCase())||""},er.getAllResponseHeaders=function(){if(!this.h)return"";const Hr=[],rn=this.h.entries();for(var hn=rn.next();!hn.done;)hn=hn.value,Hr.push(hn[0]+": "+hn[1]),hn=rn.next();return Hr.join(`\r
`)};function Tl(Hr){Hr.onreadystatechange&&Hr.onreadystatechange.call(Hr)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(Hr){this.m=Hr?"include":"same-origin"}});function Xl(Hr){let rn="";return jr(Hr,function(hn,Pn){rn+=Pn,rn+=":",rn+=hn,rn+=`\r
`}),rn}function Wu(Hr,rn,hn){e:{for(Pn in hn){var Pn=!1;break e}Pn=!0}Pn||(hn=Xl(hn),typeof Hr=="string"?hn!=null&&encodeURIComponent(String(hn)):so(Hr,rn,hn))}function fo(Hr){zn.call(this),this.headers=new Map,this.o=Hr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}pr(fo,zn);var Hu=/^https?$/i,Eu=["POST","PUT"];er=fo.prototype,er.Ha=function(Hr){this.J=Hr},er.ea=function(Hr,rn,hn,Pn){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+Hr);rn=rn?rn.toUpperCase():"GET",this.D=Hr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ts.g(),this.v=this.o?In(this.o):In(Ts),this.g.onreadystatechange=hr(this.Ea,this);try{this.B=!0,this.g.open(rn,String(Hr),!0),this.B=!1}catch(ys){qu(this,ys);return}if(Hr=hn||"",hn=new Map(this.headers),Pn)if(Object.getPrototypeOf(Pn)===Object.prototype)for(var ts in Pn)hn.set(ts,Pn[ts]);else if(typeof Pn.keys=="function"&&typeof Pn.get=="function")for(const ys of Pn.keys())hn.set(ys,Pn.get(ys));else throw Error("Unknown input type for opt_headers: "+String(Pn));Pn=Array.from(hn.keys()).find(ys=>ys.toLowerCase()=="content-type"),ts=or.FormData&&Hr instanceof or.FormData,!(0<=Array.prototype.indexOf.call(Eu,rn,void 0))||Pn||ts||hn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ys,Fs]of hn)this.g.setRequestHeader(ys,Fs);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cl(this),this.u=!0,this.g.send(Hr),this.u=!1}catch(ys){qu(this,ys)}};function qu(Hr,rn){Hr.h=!1,Hr.g&&(Hr.j=!0,Hr.g.abort(),Hr.j=!1),Hr.l=rn,Hr.m=5,Ku(Hr),lu(Hr)}function Ku(Hr){Hr.A||(Hr.A=!0,Bn(Hr,"complete"),Bn(Hr,"error"))}er.abort=function(Hr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=Hr||7,Bn(this,"complete"),Bn(this,"abort"),lu(this))},er.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),fo.aa.N.call(this)},er.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},er.bb=function(){Gu(this)};function Gu(Hr){if(Hr.h&&typeof sr<"u"&&(!Hr.v[1]||Do(Hr)!=4||Hr.Z()!=2)){if(Hr.u&&Do(Hr)==4)cs(Hr.Ea,0,Hr);else if(Bn(Hr,"readystatechange"),Do(Hr)==4){Hr.h=!1;try{const Fs=Hr.Z();e:switch(Fs){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var rn=!0;break e;default:rn=!1}var hn;if(!(hn=rn)){var Pn;if(Pn=Fs===0){var ts=String(Hr.D).match(Co)[1]||null;!ts&&or.self&&or.self.location&&(ts=or.self.location.protocol.slice(0,-1)),Pn=!Hu.test(ts?ts.toLowerCase():"")}hn=Pn}if(hn)Bn(Hr,"complete"),Bn(Hr,"success");else{Hr.m=6;try{var ys=2<Do(Hr)?Hr.g.statusText:""}catch{ys=""}Hr.l=ys+" ["+Hr.Z()+"]",Ku(Hr)}}finally{lu(Hr)}}}}function lu(Hr,rn){if(Hr.g){Cl(Hr);const hn=Hr.g,Pn=Hr.v[0]?()=>{}:null;Hr.g=null,Hr.v=null,rn||Bn(Hr,"ready");try{hn.onreadystatechange=Pn}catch{}}}function Cl(Hr){Hr.I&&(or.clearTimeout(Hr.I),Hr.I=null)}er.isActive=function(){return!!this.g};function Do(Hr){return Hr.g?Hr.g.readyState:0}er.Z=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},er.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},er.Oa=function(Hr){if(this.g){var rn=this.g.responseText;return Hr&&rn.indexOf(Hr)==0&&(rn=rn.substring(Hr.length)),On(rn)}};function rp(Hr){try{if(!Hr.g)return null;if("response"in Hr.g)return Hr.g.response;switch(Hr.H){case"":case"text":return Hr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Hr.g)return Hr.g.mozResponseArrayBuffer}return null}catch{return null}}function ru(Hr){const rn={};Hr=(Hr.g&&2<=Do(Hr)&&Hr.g.getAllResponseHeaders()||"").split(`\r
`);for(let Pn=0;Pn<Hr.length;Pn++){if(yr(Hr[Pn]))continue;var hn=Ir(Hr[Pn]);const ts=hn[0];if(hn=hn[1],typeof hn!="string")continue;hn=hn.trim();const ys=rn[ts]||[];rn[ts]=ys,ys.push(hn)}Cr(rn,function(Pn){return Pn.join(", ")})}er.Ba=function(){return this.m},er.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(Hr,rn,hn){return hn&&hn.internalChannelParams&&hn.internalChannelParams[Hr]||rn}function Su(Hr){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,Hr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,Hr),this.cb=zo("retryDelaySeedMs",1e4,Hr),this.Wa=zo("forwardChannelMaxRetries",2,Hr),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,Hr),this.pa=Hr&&Hr.xmlHttpFactory||void 0,this.Xa=Hr&&Hr.Tb||void 0,this.Ca=Hr&&Hr.useFetchStreams||!1,this.L=void 0,this.J=Hr&&Hr.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(Hr&&Hr.concurrentRequestLimit),this.Da=new _u,this.P=Hr&&Hr.fastHandshake||!1,this.O=Hr&&Hr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=Hr&&Hr.Rb||!1,Hr&&Hr.xa&&this.j.xa(),Hr&&Hr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&Hr&&Hr.detectBufferingProxy||!1,this.ja=void 0,Hr&&Hr.longPollingTimeout&&0<Hr.longPollingTimeout&&(this.ja=Hr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}er=Su.prototype,er.la=8,er.G=1,er.connect=function(Hr,rn,hn,Pn){Ln(0),this.W=Hr,this.H=rn||{},hn&&Pn!==void 0&&(this.H.OSID=hn,this.H.OAID=Pn),this.F=this.X,this.I=Yr(this,null,this.W),Pu(this)};function Yl(Hr){if(cu(Hr),Hr.G==3){var rn=Hr.U++,hn=ko(Hr.I);if(so(hn,"SID",Hr.K),so(hn,"RID",rn),so(hn,"TYPE","terminate"),nu(Hr,hn),rn=new Os(Hr,Hr.j,rn),rn.L=2,rn.v=_l(ko(hn)),hn=!1,or.navigator&&or.navigator.sendBeacon)try{hn=or.navigator.sendBeacon(rn.v.toString(),"")}catch{}!hn&&or.Image&&(new Image().src=rn.v,hn=!0),hn||(rn.g=mn(rn.j,null),rn.g.ea(rn.v)),rn.F=Date.now(),Hn(rn)}Iu(Hr)}function Au(Hr){Hr.g&&(ku(Hr),Hr.g.cancel(),Hr.g=null)}function cu(Hr){Au(Hr),Hr.u&&(or.clearTimeout(Hr.u),Hr.u=null),Zl(Hr),Hr.h.cancel(),Hr.s&&(typeof Hr.s=="number"&&or.clearTimeout(Hr.s),Hr.s=null)}function Pu(Hr){if(!Qs(Hr.h)&&!Hr.s){Hr.s=!0;var rn=Hr.Ga;wr||Mr(),Er||(wr(),Er=!0),xr.add(rn,Hr),Hr.B=0}}function Xu(Hr,rn){return Hs(Hr.h)>=Hr.h.j-(Hr.s?1:0)?!1:Hr.s?(Hr.i=rn.D.concat(Hr.i),!0):Hr.G==1||Hr.G==2||Hr.B>=(Hr.Va?0:Hr.Wa)?!1:(Hr.s=Jn(hr(Hr.Ga,Hr,rn),Ru(Hr,Hr.B)),Hr.B++,!0)}er.Ga=function(Hr){if(this.s)if(this.s=null,this.G==1){if(!Hr){this.U=Math.floor(1e5*Math.random()),Hr=this.U++;const ts=new Os(this,this.j,Hr);let ys=this.o;if(this.S&&(ys?(ys=Pr(ys),Lr(ys,this.S)):ys=this.S),this.m!==null||this.O||(ts.H=ys,ys=null),this.P)e:{for(var rn=0,hn=0;hn<this.i.length;hn++){t:{var Pn=this.i[hn];if("__data__"in Pn.map&&(Pn=Pn.map.__data__,typeof Pn=="string")){Pn=Pn.length;break t}Pn=void 0}if(Pn===void 0)break;if(rn+=Pn,4096<rn){rn=hn;break e}if(rn===4096||hn===this.i.length-1){rn=hn+1;break e}}rn=1e3}else rn=1e3;rn=uu(this,ts,rn),hn=ko(this.I),so(hn,"RID",Hr),so(hn,"CVER",22),this.D&&so(hn,"X-HTTP-Session-Id",this.D),nu(this,hn),ys&&(this.O?rn="headers="+encodeURIComponent(String(Xl(ys)))+"&"+rn:this.m&&Wu(hn,this.m,ys)),Ks(this.h,ts),this.Ua&&so(hn,"TYPE","init"),this.P?(so(hn,"$req",rn),so(hn,"SID","null"),ts.T=!0,$a(ts,hn,null)):$a(ts,hn,rn),this.G=2}}else this.G==3&&(Hr?Tu(this,Hr):this.i.length==0||Qs(this.h)||Tu(this))};function Tu(Hr,rn){var hn;rn?hn=rn.l:hn=Hr.U++;const Pn=ko(Hr.I);so(Pn,"SID",Hr.K),so(Pn,"RID",hn),so(Pn,"AID",Hr.T),nu(Hr,Pn),Hr.m&&Hr.o&&Wu(Pn,Hr.m,Hr.o),hn=new Os(Hr,Hr.j,hn,Hr.B+1),Hr.m===null&&(hn.H=Hr.o),rn&&(Hr.i=rn.D.concat(Hr.i)),rn=uu(Hr,hn,1e3),hn.I=Math.round(.5*Hr.wa)+Math.round(.5*Hr.wa*Math.random()),Ks(Hr.h,hn),$a(hn,Pn,rn)}function nu(Hr,rn){Hr.H&&jr(Hr.H,function(hn,Pn){so(rn,Pn,hn)}),Hr.l&&Fo({},function(hn,Pn){so(rn,Pn,hn)})}function uu(Hr,rn,hn){hn=Math.min(Hr.i.length,hn);var Pn=Hr.l?hr(Hr.l.Na,Hr.l,Hr):null;e:{var ts=Hr.i;let ys=-1;for(;;){const Fs=["count="+hn];ys==-1?0<hn?(ys=ts[0].g,Fs.push("ofs="+ys)):ys=0:Fs.push("ofs="+ys);let Js=!0;for(let ao=0;ao<hn;ao++){let na=ts[ao].g;const po=ts[ao].map;if(na-=ys,0>na)ys=Math.max(0,ts[ao].g-100),Js=!1;else try{zu(po,Fs,"req"+na+"_")}catch{Pn&&Pn(po)}}if(Js){Pn=Fs.join("&");break e}}}return Hr=Hr.i.splice(0,hn),rn.D=Hr,Pn}function Cu(Hr){if(!Hr.g&&!Hr.u){Hr.Y=1;var rn=Hr.Fa;wr||Mr(),Er||(wr(),Er=!0),xr.add(rn,Hr),Hr.v=0}}function du(Hr){return Hr.g||Hr.u||3<=Hr.v?!1:(Hr.Y++,Hr.u=Jn(hr(Hr.Fa,Hr),Ru(Hr,Hr.v)),Hr.v++,!0)}er.Fa=function(){if(this.u=null,np(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var Hr=2*this.R;this.j.info("BP detection timer enabled: "+Hr),this.A=Jn(hr(this.ab,this),Hr)}},er.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ln(10),Au(this),np(this))};function ku(Hr){Hr.A!=null&&(or.clearTimeout(Hr.A),Hr.A=null)}function np(Hr){Hr.g=new Os(Hr,Hr.j,"rpc",Hr.Y),Hr.m===null&&(Hr.g.H=Hr.o),Hr.g.O=0;var rn=ko(Hr.qa);so(rn,"RID","rpc"),so(rn,"SID",Hr.K),so(rn,"AID",Hr.T),so(rn,"CI",Hr.F?"0":"1"),!Hr.F&&Hr.ja&&so(rn,"TO",Hr.ja),so(rn,"TYPE","xmlhttp"),nu(Hr,rn),Hr.m&&Hr.o&&Wu(rn,Hr.m,Hr.o),Hr.L&&(Hr.g.I=Hr.L);var hn=Hr.g;Hr=Hr.ia,hn.L=1,hn.v=_l(ko(rn)),hn.m=null,hn.P=!0,eo(hn,Hr)}er.Za=function(){this.C!=null&&(this.C=null,Au(this),du(this),Ln(19))};function Zl(Hr){Hr.C!=null&&(or.clearTimeout(Hr.C),Hr.C=null)}function iu(Hr,rn){var hn=null;if(Hr.g==rn){Zl(Hr),ku(Hr),Hr.g=null;var Pn=2}else if(no(Hr.h,rn))hn=rn.D,io(Hr.h,rn),Pn=1;else return;if(Hr.G!=0){if(rn.o)if(Pn==1){hn=rn.m?rn.m.length:0,rn=Date.now()-rn.F;var ts=Hr.B;Pn=ps(),Bn(Pn,new Yn(Pn,hn)),Pu(Hr)}else Cu(Hr);else if(ts=rn.s,ts==3||ts==0&&0<rn.X||!(Pn==1&&Xu(Hr,rn)||Pn==2&&du(Hr)))switch(hn&&0<hn.length&&(rn=Hr.h,rn.i=rn.i.concat(hn)),ts){case 1:Go(Hr,5);break;case 4:Go(Hr,10);break;case 3:Go(Hr,6);break;default:Go(Hr,2)}}}function Ru(Hr,rn){let hn=Hr.Ta+Math.floor(Math.random()*Hr.cb);return Hr.isActive()||(hn*=2),hn*rn}function Go(Hr,rn){if(Hr.j.info("Error code "+rn),rn==2){var hn=hr(Hr.fb,Hr),Pn=Hr.Xa;const ts=!Pn;Pn=new go(Pn||"//www.google.com/images/cleardot.gif"),or.location&&or.location.protocol=="http"||ro(Pn,"https"),_l(Pn),ts?Dl(Pn.toString(),hn):ep(Pn.toString(),hn)}else Ln(2);Hr.G=0,Hr.l&&Hr.l.sa(rn),Iu(Hr),cu(Hr)}er.fb=function(Hr){Hr?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function Iu(Hr){if(Hr.G=0,Hr.ka=[],Hr.l){const rn=co(Hr.h);(rn.length!=0||Hr.i.length!=0)&&(fr(Hr.ka,rn),fr(Hr.ka,Hr.i),Hr.h.i.length=0,mr(Hr.i),Hr.i.length=0),Hr.l.ra()}}function Yr(Hr,rn,hn){var Pn=hn instanceof go?ko(hn):new go(hn);if(Pn.g!="")rn&&(Pn.g=rn+"."+Pn.g),ga(Pn,Pn.s);else{var ts=or.location;Pn=ts.protocol,rn=rn?rn+"."+ts.hostname:ts.hostname,ts=+ts.port;var ys=new go(null);Pn&&ro(ys,Pn),rn&&(ys.g=rn),ts&&ga(ys,ts),hn&&(ys.l=hn),Pn=ys}return hn=Hr.D,rn=Hr.ya,hn&&rn&&so(Pn,hn,rn),so(Pn,"VER",Hr.la),nu(Hr,Pn),Pn}function mn(Hr,rn,hn){if(rn&&!Hr.J)throw Error("Can't create secondary domain capable XhrIo object.");return rn=Hr.Ca&&!Hr.pa?new fo(new xu({eb:hn})):new fo(Hr.pa),rn.Ha(Hr.J),rn}er.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fn(){}er=Fn.prototype,er.ua=function(){},er.ta=function(){},er.sa=function(){},er.ra=function(){},er.isActive=function(){return!0},er.Na=function(){};function Gn(){}Gn.prototype.g=function(Hr,rn){return new as(Hr,rn)};function as(Hr,rn){zn.call(this),this.g=new Su(rn),this.l=Hr,this.h=rn&&rn.messageUrlParams||null,Hr=rn&&rn.messageHeaders||null,rn&&rn.clientProtocolHeaderRequired&&(Hr?Hr["X-Client-Protocol"]="webchannel":Hr={"X-Client-Protocol":"webchannel"}),this.g.o=Hr,Hr=rn&&rn.initMessageHeaders||null,rn&&rn.messageContentType&&(Hr?Hr["X-WebChannel-Content-Type"]=rn.messageContentType:Hr={"X-WebChannel-Content-Type":rn.messageContentType}),rn&&rn.va&&(Hr?Hr["X-WebChannel-Client-Profile"]=rn.va:Hr={"X-WebChannel-Client-Profile":rn.va}),this.g.S=Hr,(Hr=rn&&rn.Sb)&&!yr(Hr)&&(this.g.m=Hr),this.v=rn&&rn.supportsCrossDomainXhr||!1,this.u=rn&&rn.sendRawJson||!1,(rn=rn&&rn.httpSessionIdParam)&&!yr(rn)&&(this.g.D=rn,Hr=this.h,Hr!==null&&rn in Hr&&(Hr=this.h,rn in Hr&&delete Hr[rn])),this.j=new Vs(this)}pr(as,zn),as.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},as.prototype.close=function(){Yl(this.g)},as.prototype.o=function(Hr){var rn=this.g;if(typeof Hr=="string"){var hn={};hn.__data__=Hr,Hr=hn}else this.u&&(hn={},hn.__data__=Vn(Hr),Hr=hn);rn.i.push(new ba(rn.Ya++,Hr)),rn.G==3&&Pu(rn)},as.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,as.aa.N.call(this)};function As(Hr){$n.call(this),Hr.__headers__&&(this.headers=Hr.__headers__,this.statusCode=Hr.__status__,delete Hr.__headers__,delete Hr.__status__);var rn=Hr.__sm__;if(rn){e:{for(const hn in rn){Hr=hn;break e}Hr=void 0}(this.i=Hr)&&(Hr=this.i,rn=rn!==null&&Hr in rn?rn[Hr]:void 0),this.data=rn}else this.data=Hr}pr(As,$n);function Ds(){Un.call(this),this.status=1}pr(Ds,Un);function Vs(Hr){this.g=Hr}pr(Vs,Fn),Vs.prototype.ua=function(){Bn(this.g,"a")},Vs.prototype.ta=function(Hr){Bn(this.g,new As(Hr))},Vs.prototype.sa=function(Hr){Bn(this.g,new Ds)},Vs.prototype.ra=function(){Bn(this.g,"b")},Gn.prototype.createWebChannel=Gn.prototype.g,as.prototype.send=as.prototype.o,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,createWebChannelTransport=function(){return new Gn},getStatEventTarget=function(){return ps()},Event$1=Kn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,ErrorCode$1=ws,Ps.COMPLETE="complete",EventType=Ps,ss.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",zn.prototype.listen=zn.prototype.K,WebChannel=ss,fo.prototype.listenOnce=fo.prototype.L,fo.prototype.getLastError=fo.prototype.Ka,fo.prototype.getLastErrorCode=fo.prototype.Ba,fo.prototype.getStatus=fo.prototype.Z,fo.prototype.getResponseJson=fo.prototype.Oa,fo.prototype.getResponseText=fo.prototype.oa,fo.prototype.send=fo.prototype.ea,fo.prototype.setWithCredentials=fo.prototype.Ha,XhrIo=fo}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S$1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b$1.logLevel}function __PRIVATE_logDebug(er,...e){if(b$1.logLevel<=LogLevel.DEBUG){const tr=e.map(__PRIVATE_argToString);b$1.debug(`Firestore (${S$1}): ${er}`,...tr)}}function __PRIVATE_logError(er,...e){if(b$1.logLevel<=LogLevel.ERROR){const tr=e.map(__PRIVATE_argToString);b$1.error(`Firestore (${S$1}): ${er}`,...tr)}}function __PRIVATE_logWarn(er,...e){if(b$1.logLevel<=LogLevel.WARN){const tr=e.map(__PRIVATE_argToString);b$1.warn(`Firestore (${S$1}): ${er}`,...tr)}}function __PRIVATE_argToString(er){if(typeof er=="string")return er;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(tr){return JSON.stringify(tr)}(er)}catch{return er}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(er="Unexpected state"){const e=`FIRESTORE (${S$1}) INTERNAL ASSERTION FAILED: `+er;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(er,e){er||fail()}function __PRIVATE_debugCast(er,e){return er}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,tr){super(e,tr),this.code=e,this.message=tr,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,tr)=>{this.resolve=e,this.reject=tr})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,tr){this.user=tr,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,tr){e.enqueueRetryable(()=>tr(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,tr){this.changeListener=tr,e.enqueueRetryable(()=>tr(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,tr){__PRIVATE_hardAssert(this.o===void 0);let rr=this.i;const nr=ar=>this.i!==rr?(rr=this.i,tr(ar)):Promise.resolve();let ir=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),ir.resolve(),ir=new __PRIVATE_Deferred,e.enqueueRetryable(()=>nr(this.currentUser))};const sr=()=>{const ar=ir;e.enqueueRetryable(async()=>{await ar.promise,await nr(this.currentUser)})},or=ar=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ar,this.o&&(this.auth.addAuthTokenListener(this.o),sr())};this.t.onInit(ar=>or(ar)),setTimeout(()=>{if(!this.auth){const ar=this.t.getImmediate({optional:!0});ar?or(ar):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),ir.resolve(),ir=new __PRIVATE_Deferred)}},0),sr()}getToken(){const e=this.i,tr=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(tr).then(rr=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):rr?(__PRIVATE_hardAssert(typeof rr.accessToken=="string"),new __PRIVATE_OAuthToken(rr.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,tr,rr){this.l=e,this.h=tr,this.P=rr,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,tr,rr){this.l=e,this.h=tr,this.P=rr}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,tr){e.enqueueRetryable(()=>tr(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,tr){__PRIVATE_hardAssert(this.o===void 0);const rr=ir=>{ir.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${ir.error.message}`);const sr=ir.token!==this.R;return this.R=ir.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${sr?"new":"existing"} token.`),sr?tr(ir.token):Promise.resolve()};this.o=ir=>{e.enqueueRetryable(()=>rr(ir))};const nr=ir=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=ir,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(ir=>nr(ir)),setTimeout(()=>{if(!this.appCheck){const ir=this.A.getImmediate({optional:!0});ir?nr(ir):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(tr=>tr?(__PRIVATE_hardAssert(typeof tr.token=="string"),this.R=tr.token,new AppCheckToken(tr.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(er){const e=typeof self<"u"&&(self.crypto||self.msCrypto),tr=new Uint8Array(er);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(tr);else for(let rr=0;rr<er;rr++)tr[rr]=Math.floor(256*Math.random());return tr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tr=Math.floor(256/e.length)*e.length;let rr="";for(;rr.length<20;){const nr=__PRIVATE_randomBytes(40);for(let ir=0;ir<nr.length;++ir)rr.length<20&&nr[ir]<tr&&(rr+=e.charAt(nr[ir]%e.length))}return rr}}function __PRIVATE_primitiveComparator(er,e){return er<e?-1:er>e?1:0}function __PRIVATE_arrayEquals(er,e,tr){return er.length===e.length&&er.every((rr,nr)=>tr(rr,e[nr]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,tr){if(this.seconds=e,this.nanoseconds=tr,tr<0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+tr);if(tr>=1e9)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+tr);if(e<-62135596800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const tr=Math.floor(e/1e3),rr=Math.floor(1e6*(e-1e3*tr));return new Timestamp(tr,rr)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,tr,rr){tr===void 0?tr=0:tr>e.length&&fail(),rr===void 0?rr=e.length-tr:rr>e.length-tr&&fail(),this.segments=e,this.offset=tr,this.len=rr}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const tr=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(rr=>{tr.push(rr)}):tr.push(e),this.construct(tr)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let tr=0;tr<this.length;tr++)if(this.get(tr)!==e.get(tr))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let tr=0;tr<this.length;tr++)if(this.get(tr)!==e.get(tr))return!1;return!0}forEach(e){for(let tr=this.offset,rr=this.limit();tr<rr;tr++)e(this.segments[tr])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,tr){const rr=Math.min(e.length,tr.length);for(let nr=0;nr<rr;nr++){const ir=e.get(nr),sr=tr.get(nr);if(ir<sr)return-1;if(ir>sr)return 1}return e.length<tr.length?-1:e.length>tr.length?1:0}}class ResourcePath extends BasePath{construct(e,tr,rr){return new ResourcePath(e,tr,rr)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const tr=[];for(const rr of e){if(rr.indexOf("//")>=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid segment (${rr}). Paths must not contain // in them.`);tr.push(...rr.split("/").filter(nr=>nr.length>0))}return new ResourcePath(tr)}static emptyPath(){return new ResourcePath([])}}const v$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,tr,rr){return new FieldPath$1(e,tr,rr)}static isValidIdentifier(e){return v$1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const tr=[];let rr="",nr=0;const ir=()=>{if(rr.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);tr.push(rr),rr=""};let sr=!1;for(;nr<e.length;){const or=e[nr];if(or==="\\"){if(nr+1===e.length)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ar=e[nr+1];if(ar!=="\\"&&ar!=="."&&ar!=="`")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);rr+=ar,nr+=2}else or==="`"?(sr=!sr,nr++):or!=="."||sr?(rr+=or,nr++):(ir(),nr++)}if(ir(),sr)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(tr)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,tr){return ResourcePath.comparator(e.path,tr.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(er,e){const tr=er.toTimestamp().seconds,rr=er.toTimestamp().nanoseconds+1,nr=SnapshotVersion.fromTimestamp(rr===1e9?new Timestamp(tr+1,0):new Timestamp(tr,rr));return new IndexOffset(nr,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(er){return new IndexOffset(er.readTime,er.key,-1)}class IndexOffset{constructor(e,tr,rr){this.readTime=e,this.documentKey=tr,this.largestBatchId=rr}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(er,e){let tr=er.readTime.compareTo(e.readTime);return tr!==0?tr:(tr=DocumentKey.comparator(er.documentKey,e.documentKey),tr!==0?tr:__PRIVATE_primitiveComparator(er.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(er){if(er.code!==D$1.FAILED_PRECONDITION||er.message!==C$1)throw er;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(tr=>{this.isDone=!0,this.result=tr,this.nextCallback&&this.nextCallback(tr)},tr=>{this.isDone=!0,this.error=tr,this.catchCallback&&this.catchCallback(tr)})}catch(e){return this.next(void 0,e)}next(e,tr){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(tr,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((rr,nr)=>{this.nextCallback=ir=>{this.wrapSuccess(e,ir).next(rr,nr)},this.catchCallback=ir=>{this.wrapFailure(tr,ir).next(rr,nr)}})}toPromise(){return new Promise((e,tr)=>{this.next(e,tr)})}wrapUserFunction(e){try{const tr=e();return tr instanceof PersistencePromise?tr:PersistencePromise.resolve(tr)}catch(tr){return PersistencePromise.reject(tr)}}wrapSuccess(e,tr){return e?this.wrapUserFunction(()=>e(tr)):PersistencePromise.resolve(tr)}wrapFailure(e,tr){return e?this.wrapUserFunction(()=>e(tr)):PersistencePromise.reject(tr)}static resolve(e){return new PersistencePromise((tr,rr)=>{tr(e)})}static reject(e){return new PersistencePromise((tr,rr)=>{rr(e)})}static waitFor(e){return new PersistencePromise((tr,rr)=>{let nr=0,ir=0,sr=!1;e.forEach(or=>{++nr,or.next(()=>{++ir,sr&&ir===nr&&tr()},ar=>rr(ar))}),sr=!0,ir===nr&&tr()})}static or(e){let tr=PersistencePromise.resolve(!1);for(const rr of e)tr=tr.next(nr=>nr?PersistencePromise.resolve(nr):rr());return tr}static forEach(e,tr){const rr=[];return e.forEach((nr,ir)=>{rr.push(tr.call(this,nr,ir))}),this.waitFor(rr)}static mapArray(e,tr){return new PersistencePromise((rr,nr)=>{const ir=e.length,sr=new Array(ir);let or=0;for(let ar=0;ar<ir;ar++){const lr=ar;tr(e[lr]).next(cr=>{sr[lr]=cr,++or,or===ir&&rr(sr)},cr=>nr(cr))}})}static doWhile(e,tr){return new PersistencePromise((rr,nr)=>{const ir=()=>{e()===!0?tr().next(()=>{ir()},nr):rr()};ir()})}}function __PRIVATE_getAndroidVersion(er){const e=er.match(/Android ([\d.]+)/i),tr=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(tr)}function __PRIVATE_isIndexedDbTransactionError(er){return er.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,tr){this.previousValue=e,tr&&(tr.sequenceNumberHandler=rr=>this.ie(rr),this.se=rr=>tr.writeSequenceNumber(rr))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(er){return er==null}function __PRIVATE_isNegativeZero(er){return er===0&&1/er==-1/0}function isSafeInteger(er){return typeof er=="number"&&Number.isInteger(er)&&!__PRIVATE_isNegativeZero(er)&&er<=Number.MAX_SAFE_INTEGER&&er>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(er){let e=0;for(const tr in er)Object.prototype.hasOwnProperty.call(er,tr)&&e++;return e}function forEach(er,e){for(const tr in er)Object.prototype.hasOwnProperty.call(er,tr)&&e(tr,er[tr])}function isEmpty(er){for(const e in er)if(Object.prototype.hasOwnProperty.call(er,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,tr){this.comparator=e,this.root=tr||LLRBNode.EMPTY}insert(e,tr){return new SortedMap(this.comparator,this.root.insert(e,tr,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let tr=this.root;for(;!tr.isEmpty();){const rr=this.comparator(e,tr.key);if(rr===0)return tr.value;rr<0?tr=tr.left:rr>0&&(tr=tr.right)}return null}indexOf(e){let tr=0,rr=this.root;for(;!rr.isEmpty();){const nr=this.comparator(e,rr.key);if(nr===0)return tr+rr.left.size;nr<0?rr=rr.left:(tr+=rr.left.size+1,rr=rr.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((tr,rr)=>(e(tr,rr),!1))}toString(){const e=[];return this.inorderTraversal((tr,rr)=>(e.push(`${tr}:${rr}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,tr,rr,nr){this.isReverse=nr,this.nodeStack=[];let ir=1;for(;!e.isEmpty();)if(ir=tr?rr(e.key,tr):1,tr&&nr&&(ir*=-1),ir<0)e=this.isReverse?e.left:e.right;else{if(ir===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const tr={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return tr}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,tr,rr,nr,ir){this.key=e,this.value=tr,this.color=rr??LLRBNode.RED,this.left=nr??LLRBNode.EMPTY,this.right=ir??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,tr,rr,nr,ir){return new LLRBNode(e??this.key,tr??this.value,rr??this.color,nr??this.left,ir??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,tr,rr){let nr=this;const ir=rr(e,nr.key);return nr=ir<0?nr.copy(null,null,null,nr.left.insert(e,tr,rr),null):ir===0?nr.copy(null,tr,null,null,null):nr.copy(null,null,null,null,nr.right.insert(e,tr,rr)),nr.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,tr){let rr,nr=this;if(tr(e,nr.key)<0)nr.left.isEmpty()||nr.left.isRed()||nr.left.left.isRed()||(nr=nr.moveRedLeft()),nr=nr.copy(null,null,null,nr.left.remove(e,tr),null);else{if(nr.left.isRed()&&(nr=nr.rotateRight()),nr.right.isEmpty()||nr.right.isRed()||nr.right.left.isRed()||(nr=nr.moveRedRight()),tr(e,nr.key)===0){if(nr.right.isEmpty())return LLRBNode.EMPTY;rr=nr.right.min(),nr=nr.copy(rr.key,rr.value,null,null,nr.right.removeMin())}nr=nr.copy(null,null,null,null,nr.right.remove(e,tr))}return nr.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),tr=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,tr)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,tr,rr,nr,ir){return this}insert(e,tr,rr){return new LLRBNode(e,tr)}remove(e,tr){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((tr,rr)=>(e(tr),!1))}forEachInRange(e,tr){const rr=this.data.getIteratorFrom(e[0]);for(;rr.hasNext();){const nr=rr.getNext();if(this.comparator(nr.key,e[1])>=0)return;tr(nr.key)}}forEachWhile(e,tr){let rr;for(rr=tr!==void 0?this.data.getIteratorFrom(tr):this.data.getIterator();rr.hasNext();)if(!e(rr.getNext().key))return}firstAfterOrEqual(e){const tr=this.data.getIteratorFrom(e);return tr.hasNext()?tr.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let tr=this;return tr.size<e.size&&(tr=e,e=this),e.forEach(rr=>{tr=tr.add(rr)}),tr}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const tr=this.data.getIterator(),rr=e.data.getIterator();for(;tr.hasNext();){const nr=tr.getNext().key,ir=rr.getNext().key;if(this.comparator(nr,ir)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(tr=>{e.push(tr)}),e}toString(){const e=[];return this.forEach(tr=>e.push(tr)),"SortedSet("+e.toString()+")"}copy(e){const tr=new SortedSet(this.comparator);return tr.data=e,tr}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let tr=new SortedSet(FieldPath$1.comparator);for(const rr of this.fields)tr=tr.add(rr);for(const rr of e)tr=tr.add(rr);return new FieldMask(tr.toArray())}covers(e){for(const tr of this.fields)if(tr.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(tr,rr)=>tr.isEqual(rr))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const tr=function(nr){try{return atob(nr)}catch(ir){throw typeof DOMException<"u"&&ir instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+ir):ir}}(e);return new ByteString(tr)}static fromUint8Array(e){const tr=function(nr){let ir="";for(let sr=0;sr<nr.length;++sr)ir+=String.fromCharCode(nr[sr]);return ir}(e);return new ByteString(tr)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(tr){return btoa(tr)}(this.binaryString)}toUint8Array(){return function(tr){const rr=new Uint8Array(tr.length);for(let nr=0;nr<tr.length;nr++)rr[nr]=tr.charCodeAt(nr);return rr}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(er){if(__PRIVATE_hardAssert(!!er),typeof er=="string"){let e=0;const tr=ne$1.exec(er);if(__PRIVATE_hardAssert(!!tr),tr[1]){let nr=tr[1];nr=(nr+"000000000").substr(0,9),e=Number(nr)}const rr=new Date(er);return{seconds:Math.floor(rr.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(er.seconds),nanos:__PRIVATE_normalizeNumber(er.nanos)}}function __PRIVATE_normalizeNumber(er){return typeof er=="number"?er:typeof er=="string"?Number(er):0}function __PRIVATE_normalizeByteString(er){return typeof er=="string"?ByteString.fromBase64String(er):ByteString.fromUint8Array(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(er){var e,tr;return((tr=(((e=er==null?void 0:er.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||tr===void 0?void 0:tr.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(er){const e=er.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(er){const e=__PRIVATE_normalizeTimestamp(er.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,tr,rr,nr,ir,sr,or,ar,lr){this.databaseId=e,this.appId=tr,this.persistenceKey=rr,this.host=nr,this.ssl=ir,this.forceLongPolling=sr,this.autoDetectLongPolling=or,this.longPollingOptions=ar,this.useFetchStreams=lr}}class DatabaseId{constructor(e,tr){this.projectId=e,this.database=tr||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$2={mapValue:{}};function __PRIVATE_typeOrder(er){return"nullValue"in er?0:"booleanValue"in er?1:"integerValue"in er||"doubleValue"in er?2:"timestampValue"in er?3:"stringValue"in er?5:"bytesValue"in er?6:"referenceValue"in er?7:"geoPointValue"in er?8:"arrayValue"in er?9:"mapValue"in er?__PRIVATE_isServerTimestamp(er)?4:__PRIVATE_isMaxValue(er)?9007199254740991:__PRIVATE_isVectorValue(er)?10:11:fail()}function __PRIVATE_valueEquals(er,e){if(er===e)return!0;const tr=__PRIVATE_typeOrder(er);if(tr!==__PRIVATE_typeOrder(e))return!1;switch(tr){case 0:case 9007199254740991:return!0;case 1:return er.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(er).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(nr,ir){if(typeof nr.timestampValue=="string"&&typeof ir.timestampValue=="string"&&nr.timestampValue.length===ir.timestampValue.length)return nr.timestampValue===ir.timestampValue;const sr=__PRIVATE_normalizeTimestamp(nr.timestampValue),or=__PRIVATE_normalizeTimestamp(ir.timestampValue);return sr.seconds===or.seconds&&sr.nanos===or.nanos}(er,e);case 5:return er.stringValue===e.stringValue;case 6:return function(nr,ir){return __PRIVATE_normalizeByteString(nr.bytesValue).isEqual(__PRIVATE_normalizeByteString(ir.bytesValue))}(er,e);case 7:return er.referenceValue===e.referenceValue;case 8:return function(nr,ir){return __PRIVATE_normalizeNumber(nr.geoPointValue.latitude)===__PRIVATE_normalizeNumber(ir.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(nr.geoPointValue.longitude)===__PRIVATE_normalizeNumber(ir.geoPointValue.longitude)}(er,e);case 2:return function(nr,ir){if("integerValue"in nr&&"integerValue"in ir)return __PRIVATE_normalizeNumber(nr.integerValue)===__PRIVATE_normalizeNumber(ir.integerValue);if("doubleValue"in nr&&"doubleValue"in ir){const sr=__PRIVATE_normalizeNumber(nr.doubleValue),or=__PRIVATE_normalizeNumber(ir.doubleValue);return sr===or?__PRIVATE_isNegativeZero(sr)===__PRIVATE_isNegativeZero(or):isNaN(sr)&&isNaN(or)}return!1}(er,e);case 9:return __PRIVATE_arrayEquals(er.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(nr,ir){const sr=nr.mapValue.fields||{},or=ir.mapValue.fields||{};if(__PRIVATE_objectSize(sr)!==__PRIVATE_objectSize(or))return!1;for(const ar in sr)if(sr.hasOwnProperty(ar)&&(or[ar]===void 0||!__PRIVATE_valueEquals(sr[ar],or[ar])))return!1;return!0}(er,e);default:return fail()}}function __PRIVATE_arrayValueContains(er,e){return(er.values||[]).find(tr=>__PRIVATE_valueEquals(tr,e))!==void 0}function __PRIVATE_valueCompare(er,e){if(er===e)return 0;const tr=__PRIVATE_typeOrder(er),rr=__PRIVATE_typeOrder(e);if(tr!==rr)return __PRIVATE_primitiveComparator(tr,rr);switch(tr){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(er.booleanValue,e.booleanValue);case 2:return function(ir,sr){const or=__PRIVATE_normalizeNumber(ir.integerValue||ir.doubleValue),ar=__PRIVATE_normalizeNumber(sr.integerValue||sr.doubleValue);return or<ar?-1:or>ar?1:or===ar?0:isNaN(or)?isNaN(ar)?0:-1:1}(er,e);case 3:return __PRIVATE_compareTimestamps(er.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(er),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(er.stringValue,e.stringValue);case 6:return function(ir,sr){const or=__PRIVATE_normalizeByteString(ir),ar=__PRIVATE_normalizeByteString(sr);return or.compareTo(ar)}(er.bytesValue,e.bytesValue);case 7:return function(ir,sr){const or=ir.split("/"),ar=sr.split("/");for(let lr=0;lr<or.length&&lr<ar.length;lr++){const cr=__PRIVATE_primitiveComparator(or[lr],ar[lr]);if(cr!==0)return cr}return __PRIVATE_primitiveComparator(or.length,ar.length)}(er.referenceValue,e.referenceValue);case 8:return function(ir,sr){const or=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ir.latitude),__PRIVATE_normalizeNumber(sr.latitude));return or!==0?or:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ir.longitude),__PRIVATE_normalizeNumber(sr.longitude))}(er.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(er.arrayValue,e.arrayValue);case 10:return function(ir,sr){var or,ar,lr,cr;const dr=ir.fields||{},hr=sr.fields||{},ur=(or=dr.value)===null||or===void 0?void 0:or.arrayValue,pr=(ar=hr.value)===null||ar===void 0?void 0:ar.arrayValue,mr=__PRIVATE_primitiveComparator(((lr=ur==null?void 0:ur.values)===null||lr===void 0?void 0:lr.length)||0,((cr=pr==null?void 0:pr.values)===null||cr===void 0?void 0:cr.length)||0);return mr!==0?mr:__PRIVATE_compareArrays(ur,pr)}(er.mapValue,e.mapValue);case 11:return function(ir,sr){if(ir===re$2.mapValue&&sr===re$2.mapValue)return 0;if(ir===re$2.mapValue)return 1;if(sr===re$2.mapValue)return-1;const or=ir.fields||{},ar=Object.keys(or),lr=sr.fields||{},cr=Object.keys(lr);ar.sort(),cr.sort();for(let dr=0;dr<ar.length&&dr<cr.length;++dr){const hr=__PRIVATE_primitiveComparator(ar[dr],cr[dr]);if(hr!==0)return hr;const ur=__PRIVATE_valueCompare(or[ar[dr]],lr[cr[dr]]);if(ur!==0)return ur}return __PRIVATE_primitiveComparator(ar.length,cr.length)}(er.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(er,e){if(typeof er=="string"&&typeof e=="string"&&er.length===e.length)return __PRIVATE_primitiveComparator(er,e);const tr=__PRIVATE_normalizeTimestamp(er),rr=__PRIVATE_normalizeTimestamp(e),nr=__PRIVATE_primitiveComparator(tr.seconds,rr.seconds);return nr!==0?nr:__PRIVATE_primitiveComparator(tr.nanos,rr.nanos)}function __PRIVATE_compareArrays(er,e){const tr=er.values||[],rr=e.values||[];for(let nr=0;nr<tr.length&&nr<rr.length;++nr){const ir=__PRIVATE_valueCompare(tr[nr],rr[nr]);if(ir)return ir}return __PRIVATE_primitiveComparator(tr.length,rr.length)}function canonicalId(er){return __PRIVATE_canonifyValue(er)}function __PRIVATE_canonifyValue(er){return"nullValue"in er?"null":"booleanValue"in er?""+er.booleanValue:"integerValue"in er?""+er.integerValue:"doubleValue"in er?""+er.doubleValue:"timestampValue"in er?function(tr){const rr=__PRIVATE_normalizeTimestamp(tr);return`time(${rr.seconds},${rr.nanos})`}(er.timestampValue):"stringValue"in er?er.stringValue:"bytesValue"in er?function(tr){return __PRIVATE_normalizeByteString(tr).toBase64()}(er.bytesValue):"referenceValue"in er?function(tr){return DocumentKey.fromName(tr).toString()}(er.referenceValue):"geoPointValue"in er?function(tr){return`geo(${tr.latitude},${tr.longitude})`}(er.geoPointValue):"arrayValue"in er?function(tr){let rr="[",nr=!0;for(const ir of tr.values||[])nr?nr=!1:rr+=",",rr+=__PRIVATE_canonifyValue(ir);return rr+"]"}(er.arrayValue):"mapValue"in er?function(tr){const rr=Object.keys(tr.fields||{}).sort();let nr="{",ir=!0;for(const sr of rr)ir?ir=!1:nr+=",",nr+=`${sr}:${__PRIVATE_canonifyValue(tr.fields[sr])}`;return nr+"}"}(er.mapValue):fail()}function __PRIVATE_refValue(er,e){return{referenceValue:`projects/${er.projectId}/databases/${er.database}/documents/${e.path.canonicalString()}`}}function isInteger(er){return!!er&&"integerValue"in er}function isArray$1(er){return!!er&&"arrayValue"in er}function __PRIVATE_isNullValue(er){return!!er&&"nullValue"in er}function __PRIVATE_isNanValue(er){return!!er&&"doubleValue"in er&&isNaN(Number(er.doubleValue))}function __PRIVATE_isMapValue(er){return!!er&&"mapValue"in er}function __PRIVATE_isVectorValue(er){var e,tr;return((tr=(((e=er==null?void 0:er.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||tr===void 0?void 0:tr.stringValue)==="__vector__"}function __PRIVATE_deepClone(er){if(er.geoPointValue)return{geoPointValue:Object.assign({},er.geoPointValue)};if(er.timestampValue&&typeof er.timestampValue=="object")return{timestampValue:Object.assign({},er.timestampValue)};if(er.mapValue){const e={mapValue:{fields:{}}};return forEach(er.mapValue.fields,(tr,rr)=>e.mapValue.fields[tr]=__PRIVATE_deepClone(rr)),e}if(er.arrayValue){const e={arrayValue:{values:[]}};for(let tr=0;tr<(er.arrayValue.values||[]).length;++tr)e.arrayValue.values[tr]=__PRIVATE_deepClone(er.arrayValue.values[tr]);return e}return Object.assign({},er)}function __PRIVATE_isMaxValue(er){return(((er.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let tr=this.value;for(let rr=0;rr<e.length-1;++rr)if(tr=(tr.mapValue.fields||{})[e.get(rr)],!__PRIVATE_isMapValue(tr))return null;return tr=(tr.mapValue.fields||{})[e.lastSegment()],tr||null}}set(e,tr){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(tr)}setAll(e){let tr=FieldPath$1.emptyPath(),rr={},nr=[];e.forEach((sr,or)=>{if(!tr.isImmediateParentOf(or)){const ar=this.getFieldsMap(tr);this.applyChanges(ar,rr,nr),rr={},nr=[],tr=or.popLast()}sr?rr[or.lastSegment()]=__PRIVATE_deepClone(sr):nr.push(or.lastSegment())});const ir=this.getFieldsMap(tr);this.applyChanges(ir,rr,nr)}delete(e){const tr=this.field(e.popLast());__PRIVATE_isMapValue(tr)&&tr.mapValue.fields&&delete tr.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let tr=this.value;tr.mapValue.fields||(tr.mapValue={fields:{}});for(let rr=0;rr<e.length;++rr){let nr=tr.mapValue.fields[e.get(rr)];__PRIVATE_isMapValue(nr)&&nr.mapValue.fields||(nr={mapValue:{fields:{}}},tr.mapValue.fields[e.get(rr)]=nr),tr=nr}return tr.mapValue.fields}applyChanges(e,tr,rr){forEach(tr,(nr,ir)=>e[nr]=ir);for(const nr of rr)delete e[nr]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(er){const e=[];return forEach(er.fields,(tr,rr)=>{const nr=new FieldPath$1([tr]);if(__PRIVATE_isMapValue(rr)){const ir=__PRIVATE_extractFieldMask(rr.mapValue).fields;if(ir.length===0)e.push(nr);else for(const sr of ir)e.push(nr.child(sr))}else e.push(nr)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,tr,rr,nr,ir,sr,or){this.key=e,this.documentType=tr,this.version=rr,this.readTime=nr,this.createTime=ir,this.data=sr,this.documentState=or}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,tr,rr,nr){return new MutableDocument(e,1,tr,SnapshotVersion.min(),rr,nr,0)}static newNoDocument(e,tr){return new MutableDocument(e,2,tr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,tr){return new MutableDocument(e,3,tr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,tr){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=tr,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,tr){this.position=e,this.inclusive=tr}}function __PRIVATE_boundCompareToDocument(er,e,tr){let rr=0;for(let nr=0;nr<er.position.length;nr++){const ir=e[nr],sr=er.position[nr];if(ir.field.isKeyField()?rr=DocumentKey.comparator(DocumentKey.fromName(sr.referenceValue),tr.key):rr=__PRIVATE_valueCompare(sr,tr.data.field(ir.field)),ir.dir==="desc"&&(rr*=-1),rr!==0)break}return rr}function __PRIVATE_boundEquals(er,e){if(er===null)return e===null;if(e===null||er.inclusive!==e.inclusive||er.position.length!==e.position.length)return!1;for(let tr=0;tr<er.position.length;tr++)if(!__PRIVATE_valueEquals(er.position[tr],e.position[tr]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,tr="asc"){this.field=e,this.dir=tr}}function __PRIVATE_orderByEquals(er,e){return er.dir===e.dir&&er.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter$1=class{};class FieldFilter extends Filter$1{constructor(e,tr,rr){super(),this.field=e,this.op=tr,this.value=rr}static create(e,tr,rr){return e.isKeyField()?tr==="in"||tr==="not-in"?this.createKeyFieldInFilter(e,tr,rr):new __PRIVATE_KeyFieldFilter(e,tr,rr):tr==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,rr):tr==="in"?new __PRIVATE_InFilter(e,rr):tr==="not-in"?new __PRIVATE_NotInFilter(e,rr):tr==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,rr):new FieldFilter(e,tr,rr)}static createKeyFieldInFilter(e,tr,rr){return tr==="in"?new __PRIVATE_KeyFieldInFilter(e,rr):new __PRIVATE_KeyFieldNotInFilter(e,rr)}matches(e){const tr=e.data.field(this.field);return this.op==="!="?tr!==null&&this.matchesComparison(__PRIVATE_valueCompare(tr,this.value)):tr!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(tr)&&this.matchesComparison(__PRIVATE_valueCompare(tr,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter$1{constructor(e,tr){super(),this.filters=e,this.op=tr,this.ae=null}static create(e,tr){return new CompositeFilter(e,tr)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(tr=>!tr.matches(e))===void 0:this.filters.find(tr=>tr.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,tr)=>e.concat(tr.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(er){return er.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(er){return __PRIVATE_compositeFilterIsFlat(er)&&__PRIVATE_compositeFilterIsConjunction(er)}function __PRIVATE_compositeFilterIsFlat(er){for(const e of er.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(er){if(er instanceof FieldFilter)return er.field.canonicalString()+er.op.toString()+canonicalId(er.value);if(__PRIVATE_compositeFilterIsFlatConjunction(er))return er.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=er.filters.map(tr=>__PRIVATE_canonifyFilter(tr)).join(",");return`${er.op}(${e})`}}function __PRIVATE_filterEquals(er,e){return er instanceof FieldFilter?function(rr,nr){return nr instanceof FieldFilter&&rr.op===nr.op&&rr.field.isEqual(nr.field)&&__PRIVATE_valueEquals(rr.value,nr.value)}(er,e):er instanceof CompositeFilter?function(rr,nr){return nr instanceof CompositeFilter&&rr.op===nr.op&&rr.filters.length===nr.filters.length?rr.filters.reduce((ir,sr,or)=>ir&&__PRIVATE_filterEquals(sr,nr.filters[or]),!0):!1}(er,e):void fail()}function __PRIVATE_stringifyFilter(er){return er instanceof FieldFilter?function(tr){return`${tr.field.canonicalString()} ${tr.op} ${canonicalId(tr.value)}`}(er):er instanceof CompositeFilter?function(tr){return tr.op.toString()+" {"+tr.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(er):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,tr,rr){super(e,tr,rr),this.key=DocumentKey.fromName(rr.referenceValue)}matches(e){const tr=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(tr)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,tr){super(e,"in",tr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",tr)}matches(e){return this.keys.some(tr=>tr.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,tr){super(e,"not-in",tr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",tr)}matches(e){return!this.keys.some(tr=>tr.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(er,e){var tr;return(((tr=e.arrayValue)===null||tr===void 0?void 0:tr.values)||[]).map(rr=>DocumentKey.fromName(rr.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,tr){super(e,"array-contains",tr)}matches(e){const tr=e.data.field(this.field);return isArray$1(tr)&&__PRIVATE_arrayValueContains(tr.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,tr){super(e,"in",tr)}matches(e){const tr=e.data.field(this.field);return tr!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,tr)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,tr){super(e,"not-in",tr)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const tr=e.data.field(this.field);return tr!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,tr)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,tr){super(e,"array-contains-any",tr)}matches(e){const tr=e.data.field(this.field);return!(!isArray$1(tr)||!tr.arrayValue.values)&&tr.arrayValue.values.some(rr=>__PRIVATE_arrayValueContains(this.value.arrayValue,rr))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,tr=null,rr=[],nr=[],ir=null,sr=null,or=null){this.path=e,this.collectionGroup=tr,this.orderBy=rr,this.filters=nr,this.limit=ir,this.startAt=sr,this.endAt=or,this.ue=null}}function __PRIVATE_newTarget(er,e=null,tr=[],rr=[],nr=null,ir=null,sr=null){return new __PRIVATE_TargetImpl(er,e,tr,rr,nr,ir,sr)}function __PRIVATE_canonifyTarget(er){const e=__PRIVATE_debugCast(er);if(e.ue===null){let tr=e.path.canonicalString();e.collectionGroup!==null&&(tr+="|cg:"+e.collectionGroup),tr+="|f:",tr+=e.filters.map(rr=>__PRIVATE_canonifyFilter(rr)).join(","),tr+="|ob:",tr+=e.orderBy.map(rr=>function(ir){return ir.field.canonicalString()+ir.dir}(rr)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(tr+="|l:",tr+=e.limit),e.startAt&&(tr+="|lb:",tr+=e.startAt.inclusive?"b:":"a:",tr+=e.startAt.position.map(rr=>canonicalId(rr)).join(",")),e.endAt&&(tr+="|ub:",tr+=e.endAt.inclusive?"a:":"b:",tr+=e.endAt.position.map(rr=>canonicalId(rr)).join(",")),e.ue=tr}return e.ue}function __PRIVATE_targetEquals(er,e){if(er.limit!==e.limit||er.orderBy.length!==e.orderBy.length)return!1;for(let tr=0;tr<er.orderBy.length;tr++)if(!__PRIVATE_orderByEquals(er.orderBy[tr],e.orderBy[tr]))return!1;if(er.filters.length!==e.filters.length)return!1;for(let tr=0;tr<er.filters.length;tr++)if(!__PRIVATE_filterEquals(er.filters[tr],e.filters[tr]))return!1;return er.collectionGroup===e.collectionGroup&&!!er.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(er.startAt,e.startAt)&&__PRIVATE_boundEquals(er.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(er){return DocumentKey.isDocumentKey(er.path)&&er.collectionGroup===null&&er.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,tr=null,rr=[],nr=[],ir=null,sr="F",or=null,ar=null){this.path=e,this.collectionGroup=tr,this.explicitOrderBy=rr,this.filters=nr,this.limit=ir,this.limitType=sr,this.startAt=or,this.endAt=ar,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(er,e,tr,rr,nr,ir,sr,or){return new __PRIVATE_QueryImpl(er,e,tr,rr,nr,ir,sr,or)}function __PRIVATE_newQueryForPath(er){return new __PRIVATE_QueryImpl(er)}function __PRIVATE_queryMatchesAllDocuments(er){return er.filters.length===0&&er.limit===null&&er.startAt==null&&er.endAt==null&&(er.explicitOrderBy.length===0||er.explicitOrderBy.length===1&&er.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(er){return er.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(er){const e=__PRIVATE_debugCast(er);if(e.ce===null){e.ce=[];const tr=new Set;for(const ir of e.explicitOrderBy)e.ce.push(ir),tr.add(ir.field.canonicalString());const rr=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(sr){let or=new SortedSet(FieldPath$1.comparator);return sr.filters.forEach(ar=>{ar.getFlattenedFilters().forEach(lr=>{lr.isInequality()&&(or=or.add(lr.field))})}),or})(e).forEach(ir=>{tr.has(ir.canonicalString())||ir.isKeyField()||e.ce.push(new OrderBy(ir,rr))}),tr.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),rr))}return e.ce}function __PRIVATE_queryToTarget(er){const e=__PRIVATE_debugCast(er);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(er))),e.le}function __PRIVATE__queryToTarget(er,e){if(er.limitType==="F")return __PRIVATE_newTarget(er.path,er.collectionGroup,e,er.filters,er.limit,er.startAt,er.endAt);{e=e.map(nr=>{const ir=nr.dir==="desc"?"asc":"desc";return new OrderBy(nr.field,ir)});const tr=er.endAt?new Bound(er.endAt.position,er.endAt.inclusive):null,rr=er.startAt?new Bound(er.startAt.position,er.startAt.inclusive):null;return __PRIVATE_newTarget(er.path,er.collectionGroup,e,er.filters,er.limit,tr,rr)}}function __PRIVATE_queryWithAddedFilter(er,e){const tr=er.filters.concat([e]);return new __PRIVATE_QueryImpl(er.path,er.collectionGroup,er.explicitOrderBy.slice(),tr,er.limit,er.limitType,er.startAt,er.endAt)}function __PRIVATE_queryWithLimit(er,e,tr){return new __PRIVATE_QueryImpl(er.path,er.collectionGroup,er.explicitOrderBy.slice(),er.filters.slice(),e,tr,er.startAt,er.endAt)}function __PRIVATE_queryEquals(er,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(er),__PRIVATE_queryToTarget(e))&&er.limitType===e.limitType}function __PRIVATE_canonifyQuery(er){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(er))}|lt:${er.limitType}`}function __PRIVATE_stringifyQuery(er){return`Query(target=${function(tr){let rr=tr.path.canonicalString();return tr.collectionGroup!==null&&(rr+=" collectionGroup="+tr.collectionGroup),tr.filters.length>0&&(rr+=`, filters: [${tr.filters.map(nr=>__PRIVATE_stringifyFilter(nr)).join(", ")}]`),__PRIVATE_isNullOrUndefined(tr.limit)||(rr+=", limit: "+tr.limit),tr.orderBy.length>0&&(rr+=`, orderBy: [${tr.orderBy.map(nr=>function(sr){return`${sr.field.canonicalString()} (${sr.dir})`}(nr)).join(", ")}]`),tr.startAt&&(rr+=", startAt: ",rr+=tr.startAt.inclusive?"b:":"a:",rr+=tr.startAt.position.map(nr=>canonicalId(nr)).join(",")),tr.endAt&&(rr+=", endAt: ",rr+=tr.endAt.inclusive?"a:":"b:",rr+=tr.endAt.position.map(nr=>canonicalId(nr)).join(",")),`Target(${rr})`}(__PRIVATE_queryToTarget(er))}; limitType=${er.limitType})`}function __PRIVATE_queryMatches(er,e){return e.isFoundDocument()&&function(rr,nr){const ir=nr.key.path;return rr.collectionGroup!==null?nr.key.hasCollectionId(rr.collectionGroup)&&rr.path.isPrefixOf(ir):DocumentKey.isDocumentKey(rr.path)?rr.path.isEqual(ir):rr.path.isImmediateParentOf(ir)}(er,e)&&function(rr,nr){for(const ir of __PRIVATE_queryNormalizedOrderBy(rr))if(!ir.field.isKeyField()&&nr.data.field(ir.field)===null)return!1;return!0}(er,e)&&function(rr,nr){for(const ir of rr.filters)if(!ir.matches(nr))return!1;return!0}(er,e)&&function(rr,nr){return!(rr.startAt&&!function(sr,or,ar){const lr=__PRIVATE_boundCompareToDocument(sr,or,ar);return sr.inclusive?lr<=0:lr<0}(rr.startAt,__PRIVATE_queryNormalizedOrderBy(rr),nr)||rr.endAt&&!function(sr,or,ar){const lr=__PRIVATE_boundCompareToDocument(sr,or,ar);return sr.inclusive?lr>=0:lr>0}(rr.endAt,__PRIVATE_queryNormalizedOrderBy(rr),nr))}(er,e)}function __PRIVATE_queryCollectionGroup(er){return er.collectionGroup||(er.path.length%2==1?er.path.lastSegment():er.path.get(er.path.length-2))}function __PRIVATE_newQueryComparator(er){return(e,tr)=>{let rr=!1;for(const nr of __PRIVATE_queryNormalizedOrderBy(er)){const ir=__PRIVATE_compareDocs(nr,e,tr);if(ir!==0)return ir;rr=rr||nr.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(er,e,tr){const rr=er.field.isKeyField()?DocumentKey.comparator(e.key,tr.key):function(ir,sr,or){const ar=sr.data.field(ir),lr=or.data.field(ir);return ar!==null&&lr!==null?__PRIVATE_valueCompare(ar,lr):fail()}(er.field,e,tr);switch(er.dir){case"asc":return rr;case"desc":return-1*rr;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,tr){this.mapKeyFn=e,this.equalsFn=tr,this.inner={},this.innerSize=0}get(e){const tr=this.mapKeyFn(e),rr=this.inner[tr];if(rr!==void 0){for(const[nr,ir]of rr)if(this.equalsFn(nr,e))return ir}}has(e){return this.get(e)!==void 0}set(e,tr){const rr=this.mapKeyFn(e),nr=this.inner[rr];if(nr===void 0)return this.inner[rr]=[[e,tr]],void this.innerSize++;for(let ir=0;ir<nr.length;ir++)if(this.equalsFn(nr[ir][0],e))return void(nr[ir]=[e,tr]);nr.push([e,tr]),this.innerSize++}delete(e){const tr=this.mapKeyFn(e),rr=this.inner[tr];if(rr===void 0)return!1;for(let nr=0;nr<rr.length;nr++)if(this.equalsFn(rr[nr][0],e))return rr.length===1?delete this.inner[tr]:rr.splice(nr,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(tr,rr)=>{for(const[nr,ir]of rr)e(nr,ir)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe$1}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...er){let e=_e;for(const tr of er)e=e.insert(tr.key,tr);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(er){let e=_e;return er.forEach((tr,rr)=>e=e.insert(tr,rr.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(er=>er.toString(),(er,e)=>er.isEqual(e))}const ae$1=new SortedMap(DocumentKey.comparator),ue$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...er){let e=ue$1;for(const tr of er)e=e.add(tr);return e}const ce$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(er,e){if(er.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(er){return{integerValue:""+er}}function toNumber$1(er,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(er,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(er,e,tr){return er instanceof __PRIVATE_ServerTimestampTransform?function(nr,ir){const sr={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:nr.seconds,nanos:nr.nanoseconds}}}};return ir&&__PRIVATE_isServerTimestamp(ir)&&(ir=__PRIVATE_getPreviousValue(ir)),ir&&(sr.fields.__previous_value__=ir),{mapValue:sr}}(tr,e):er instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(er,e):er instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(er,e):function(nr,ir){const sr=__PRIVATE_computeTransformOperationBaseValue(nr,ir),or=asNumber(sr)+asNumber(nr.Pe);return isInteger(sr)&&isInteger(nr.Pe)?__PRIVATE_toInteger(or):__PRIVATE_toDouble(nr.serializer,or)}(er,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(er,e,tr){return er instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(er,e):er instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(er,e):tr}function __PRIVATE_computeTransformOperationBaseValue(er,e){return er instanceof __PRIVATE_NumericIncrementTransformOperation?function(rr){return isInteger(rr)||function(ir){return!!ir&&"doubleValue"in ir}(rr)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(er,e){const tr=__PRIVATE_coercedFieldValuesArray(e);for(const rr of er.elements)tr.some(nr=>__PRIVATE_valueEquals(nr,rr))||tr.push(rr);return{arrayValue:{values:tr}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(er,e){let tr=__PRIVATE_coercedFieldValuesArray(e);for(const rr of er.elements)tr=tr.filter(nr=>!__PRIVATE_valueEquals(nr,rr));return{arrayValue:{values:tr}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,tr){super(),this.serializer=e,this.Pe=tr}}function asNumber(er){return __PRIVATE_normalizeNumber(er.integerValue||er.doubleValue)}function __PRIVATE_coercedFieldValuesArray(er){return isArray$1(er)&&er.arrayValue.values?er.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(er,e){return er.field.isEqual(e.field)&&function(rr,nr){return rr instanceof __PRIVATE_ArrayUnionTransformOperation&&nr instanceof __PRIVATE_ArrayUnionTransformOperation||rr instanceof __PRIVATE_ArrayRemoveTransformOperation&&nr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(rr.elements,nr.elements,__PRIVATE_valueEquals):rr instanceof __PRIVATE_NumericIncrementTransformOperation&&nr instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(rr.Pe,nr.Pe):rr instanceof __PRIVATE_ServerTimestampTransform&&nr instanceof __PRIVATE_ServerTimestampTransform}(er.transform,e.transform)}class MutationResult{constructor(e,tr){this.version=e,this.transformResults=tr}}class Precondition{constructor(e,tr){this.updateTime=e,this.exists=tr}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(er,e){return er.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(er.updateTime):er.exists===void 0||er.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(er,e){if(!er.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return er.isNoDocument()?new __PRIVATE_DeleteMutation(er.key,Precondition.none()):new __PRIVATE_SetMutation(er.key,er.data,Precondition.none());{const tr=er.data,rr=ObjectValue.empty();let nr=new SortedSet(FieldPath$1.comparator);for(let ir of e.fields)if(!nr.has(ir)){let sr=tr.field(ir);sr===null&&ir.length>1&&(ir=ir.popLast(),sr=tr.field(ir)),sr===null?rr.delete(ir):rr.set(ir,sr),nr=nr.add(ir)}return new __PRIVATE_PatchMutation(er.key,rr,new FieldMask(nr.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(er,e,tr){er instanceof __PRIVATE_SetMutation?function(nr,ir,sr){const or=nr.value.clone(),ar=__PRIVATE_serverTransformResults(nr.fieldTransforms,ir,sr.transformResults);or.setAll(ar),ir.convertToFoundDocument(sr.version,or).setHasCommittedMutations()}(er,e,tr):er instanceof __PRIVATE_PatchMutation?function(nr,ir,sr){if(!__PRIVATE_preconditionIsValidForDocument(nr.precondition,ir))return void ir.convertToUnknownDocument(sr.version);const or=__PRIVATE_serverTransformResults(nr.fieldTransforms,ir,sr.transformResults),ar=ir.data;ar.setAll(__PRIVATE_getPatch(nr)),ar.setAll(or),ir.convertToFoundDocument(sr.version,ar).setHasCommittedMutations()}(er,e,tr):function(nr,ir,sr){ir.convertToNoDocument(sr.version).setHasCommittedMutations()}(0,e,tr)}function __PRIVATE_mutationApplyToLocalView(er,e,tr,rr){return er instanceof __PRIVATE_SetMutation?function(ir,sr,or,ar){if(!__PRIVATE_preconditionIsValidForDocument(ir.precondition,sr))return or;const lr=ir.value.clone(),cr=__PRIVATE_localTransformResults(ir.fieldTransforms,ar,sr);return lr.setAll(cr),sr.convertToFoundDocument(sr.version,lr).setHasLocalMutations(),null}(er,e,tr,rr):er instanceof __PRIVATE_PatchMutation?function(ir,sr,or,ar){if(!__PRIVATE_preconditionIsValidForDocument(ir.precondition,sr))return or;const lr=__PRIVATE_localTransformResults(ir.fieldTransforms,ar,sr),cr=sr.data;return cr.setAll(__PRIVATE_getPatch(ir)),cr.setAll(lr),sr.convertToFoundDocument(sr.version,cr).setHasLocalMutations(),or===null?null:or.unionWith(ir.fieldMask.fields).unionWith(ir.fieldTransforms.map(dr=>dr.field))}(er,e,tr,rr):function(ir,sr,or){return __PRIVATE_preconditionIsValidForDocument(ir.precondition,sr)?(sr.convertToNoDocument(sr.version).setHasLocalMutations(),null):or}(er,e,tr)}function __PRIVATE_mutationExtractBaseValue(er,e){let tr=null;for(const rr of er.fieldTransforms){const nr=e.data.field(rr.field),ir=__PRIVATE_computeTransformOperationBaseValue(rr.transform,nr||null);ir!=null&&(tr===null&&(tr=ObjectValue.empty()),tr.set(rr.field,ir))}return tr||null}function __PRIVATE_mutationEquals(er,e){return er.type===e.type&&!!er.key.isEqual(e.key)&&!!er.precondition.isEqual(e.precondition)&&!!function(rr,nr){return rr===void 0&&nr===void 0||!(!rr||!nr)&&__PRIVATE_arrayEquals(rr,nr,(ir,sr)=>__PRIVATE_fieldTransformEquals(ir,sr))}(er.fieldTransforms,e.fieldTransforms)&&(er.type===0?er.value.isEqual(e.value):er.type!==1||er.data.isEqual(e.data)&&er.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,tr,rr,nr=[]){super(),this.key=e,this.value=tr,this.precondition=rr,this.fieldTransforms=nr,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,tr,rr,nr,ir=[]){super(),this.key=e,this.data=tr,this.fieldMask=rr,this.precondition=nr,this.fieldTransforms=ir,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(er){const e=new Map;return er.fieldMask.fields.forEach(tr=>{if(!tr.isEmpty()){const rr=er.data.field(tr);e.set(tr,rr)}}),e}function __PRIVATE_serverTransformResults(er,e,tr){const rr=new Map;__PRIVATE_hardAssert(er.length===tr.length);for(let nr=0;nr<tr.length;nr++){const ir=er[nr],sr=ir.transform,or=e.data.field(ir.field);rr.set(ir.field,__PRIVATE_applyTransformOperationToRemoteDocument(sr,or,tr[nr]))}return rr}function __PRIVATE_localTransformResults(er,e,tr){const rr=new Map;for(const nr of er){const ir=nr.transform,sr=tr.data.field(nr.field);rr.set(nr.field,__PRIVATE_applyTransformOperationToLocalView(ir,sr,e))}return rr}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,tr){super(),this.key=e,this.precondition=tr,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,tr){super(),this.key=e,this.precondition=tr,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,tr,rr,nr){this.batchId=e,this.localWriteTime=tr,this.baseMutations=rr,this.mutations=nr}applyToRemoteDocument(e,tr){const rr=tr.mutationResults;for(let nr=0;nr<this.mutations.length;nr++){const ir=this.mutations[nr];ir.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(ir,e,rr[nr])}}applyToLocalView(e,tr){for(const rr of this.baseMutations)rr.key.isEqual(e.key)&&(tr=__PRIVATE_mutationApplyToLocalView(rr,e,tr,this.localWriteTime));for(const rr of this.mutations)rr.key.isEqual(e.key)&&(tr=__PRIVATE_mutationApplyToLocalView(rr,e,tr,this.localWriteTime));return tr}applyToLocalDocumentSet(e,tr){const rr=__PRIVATE_newMutationMap();return this.mutations.forEach(nr=>{const ir=e.get(nr.key),sr=ir.overlayedDocument;let or=this.applyToLocalView(sr,ir.mutatedFields);or=tr.has(nr.key)?null:or;const ar=__PRIVATE_calculateOverlayMutation(sr,or);ar!==null&&rr.set(nr.key,ar),sr.isValidDocument()||sr.convertToNoDocument(SnapshotVersion.min())}),rr}keys(){return this.mutations.reduce((e,tr)=>e.add(tr.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(tr,rr)=>__PRIVATE_mutationEquals(tr,rr))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(tr,rr)=>__PRIVATE_mutationEquals(tr,rr))}}class MutationBatchResult{constructor(e,tr,rr,nr){this.batch=e,this.commitVersion=tr,this.mutationResults=rr,this.docVersions=nr}static from(e,tr,rr){__PRIVATE_hardAssert(e.mutations.length===rr.length);let nr=function(){return ae$1}();const ir=e.mutations;for(let sr=0;sr<ir.length;sr++)nr=nr.insert(ir[sr].key,rr[sr].version);return new MutationBatchResult(e,tr,rr,nr)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,tr){this.largestBatchId=e,this.mutation=tr}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,tr){this.count=e,this.unchangedNames=tr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le$1,he$1;function __PRIVATE_isPermanentError(er){switch(er){default:return fail();case D$1.CANCELLED:case D$1.UNKNOWN:case D$1.DEADLINE_EXCEEDED:case D$1.RESOURCE_EXHAUSTED:case D$1.INTERNAL:case D$1.UNAVAILABLE:case D$1.UNAUTHENTICATED:return!1;case D$1.INVALID_ARGUMENT:case D$1.NOT_FOUND:case D$1.ALREADY_EXISTS:case D$1.PERMISSION_DENIED:case D$1.FAILED_PRECONDITION:case D$1.ABORTED:case D$1.OUT_OF_RANGE:case D$1.UNIMPLEMENTED:case D$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(er){if(er===void 0)return __PRIVATE_logError("GRPC error has no .code"),D$1.UNKNOWN;switch(er){case le$1.OK:return D$1.OK;case le$1.CANCELLED:return D$1.CANCELLED;case le$1.UNKNOWN:return D$1.UNKNOWN;case le$1.DEADLINE_EXCEEDED:return D$1.DEADLINE_EXCEEDED;case le$1.RESOURCE_EXHAUSTED:return D$1.RESOURCE_EXHAUSTED;case le$1.INTERNAL:return D$1.INTERNAL;case le$1.UNAVAILABLE:return D$1.UNAVAILABLE;case le$1.UNAUTHENTICATED:return D$1.UNAUTHENTICATED;case le$1.INVALID_ARGUMENT:return D$1.INVALID_ARGUMENT;case le$1.NOT_FOUND:return D$1.NOT_FOUND;case le$1.ALREADY_EXISTS:return D$1.ALREADY_EXISTS;case le$1.PERMISSION_DENIED:return D$1.PERMISSION_DENIED;case le$1.FAILED_PRECONDITION:return D$1.FAILED_PRECONDITION;case le$1.ABORTED:return D$1.ABORTED;case le$1.OUT_OF_RANGE:return D$1.OUT_OF_RANGE;case le$1.UNIMPLEMENTED:return D$1.UNIMPLEMENTED;case le$1.DATA_LOSS:return D$1.DATA_LOSS;default:return fail()}}(he$1=le$1||(le$1={}))[he$1.OK=0]="OK",he$1[he$1.CANCELLED=1]="CANCELLED",he$1[he$1.UNKNOWN=2]="UNKNOWN",he$1[he$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he$1[he$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he$1[he$1.NOT_FOUND=5]="NOT_FOUND",he$1[he$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",he$1[he$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",he$1[he$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",he$1[he$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he$1[he$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he$1[he$1.ABORTED=10]="ABORTED",he$1[he$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",he$1[he$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",he$1[he$1.INTERNAL=13]="INTERNAL",he$1[he$1.UNAVAILABLE=14]="UNAVAILABLE",he$1[he$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(er){const e=__PRIVATE_newTextEncoder().encode(er),tr=new Md5;return tr.update(e),new Uint8Array(tr.digest())}function __PRIVATE_get64BitUints(er){const e=new DataView(er.buffer),tr=e.getUint32(0,!0),rr=e.getUint32(4,!0),nr=e.getUint32(8,!0),ir=e.getUint32(12,!0);return[new Integer([tr,rr],0),new Integer([nr,ir],0)]}class BloomFilter{constructor(e,tr,rr){if(this.bitmap=e,this.padding=tr,this.hashCount=rr,tr<0||tr>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${tr}`);if(rr<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${rr}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${rr}`);if(e.length===0&&tr!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${tr}`);this.Ie=8*e.length-tr,this.Te=Integer.fromNumber(this.Ie)}Ee(e,tr,rr){let nr=e.add(tr.multiply(Integer.fromNumber(rr)));return nr.compare(Ie)===1&&(nr=new Integer([nr.getBits(0),nr.getBits(1)],0)),nr.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const tr=__PRIVATE_getMd5HashValue(e),[rr,nr]=__PRIVATE_get64BitUints(tr);for(let ir=0;ir<this.hashCount;ir++){const sr=this.Ee(rr,nr,ir);if(!this.de(sr))return!1}return!0}static create(e,tr,rr){const nr=e%8==0?0:8-e%8,ir=new Uint8Array(Math.ceil(e/8)),sr=new BloomFilter(ir,nr,tr);return rr.forEach(or=>sr.insert(or)),sr}insert(e){if(this.Ie===0)return;const tr=__PRIVATE_getMd5HashValue(e),[rr,nr]=__PRIVATE_get64BitUints(tr);for(let ir=0;ir<this.hashCount;ir++){const sr=this.Ee(rr,nr,ir);this.Ae(sr)}}Ae(e){const tr=Math.floor(e/8),rr=e%8;this.bitmap[tr]|=1<<rr}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,tr,rr,nr,ir){this.snapshotVersion=e,this.targetChanges=tr,this.targetMismatches=rr,this.documentUpdates=nr,this.resolvedLimboDocuments=ir}static createSynthesizedRemoteEventForCurrentChange(e,tr,rr){const nr=new Map;return nr.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,tr,rr)),new RemoteEvent(SnapshotVersion.min(),nr,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,tr,rr,nr,ir){this.resumeToken=e,this.current=tr,this.addedDocuments=rr,this.modifiedDocuments=nr,this.removedDocuments=ir}static createSynthesizedTargetChangeForCurrentChange(e,tr,rr){return new TargetChange(rr,tr,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,tr,rr,nr){this.Re=e,this.removedTargetIds=tr,this.key=rr,this.Ve=nr}}class __PRIVATE_ExistenceFilterChange{constructor(e,tr){this.targetId=e,this.me=tr}}class __PRIVATE_WatchTargetChange{constructor(e,tr,rr=ByteString.EMPTY_BYTE_STRING,nr=null){this.state=e,this.targetIds=tr,this.resumeToken=rr,this.cause=nr}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),tr=__PRIVATE_documentKeySet(),rr=__PRIVATE_documentKeySet();return this.ge.forEach((nr,ir)=>{switch(ir){case 0:e=e.add(nr);break;case 2:tr=tr.add(nr);break;case 1:rr=rr.add(nr);break;default:fail()}}),new TargetChange(this.pe,this.ye,e,tr,rr)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,tr){this.we=!0,this.ge=this.ge.insert(e,tr)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const tr of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(tr,e.Ve):this.Ue(tr,e.key,e.Ve);for(const tr of e.removedTargetIds)this.Ue(tr,e.key,e.Ve)}We(e){this.forEachTarget(e,tr=>{const rr=this.Ge(tr);switch(e.state){case 0:this.ze(tr)&&rr.De(e.resumeToken);break;case 1:rr.Oe(),rr.Se||rr.Ce(),rr.De(e.resumeToken);break;case 2:rr.Oe(),rr.Se||this.removeTarget(tr);break;case 3:this.ze(tr)&&(rr.Ne(),rr.De(e.resumeToken));break;case 4:this.ze(tr)&&(this.je(tr),rr.De(e.resumeToken));break;default:fail()}})}forEachTarget(e,tr){e.targetIds.length>0?e.targetIds.forEach(tr):this.Be.forEach((rr,nr)=>{this.ze(nr)&&tr(nr)})}He(e){const tr=e.targetId,rr=e.me.count,nr=this.Je(tr);if(nr){const ir=nr.target;if(__PRIVATE_targetIsDocumentTarget(ir))if(rr===0){const sr=new DocumentKey(ir.path);this.Ue(tr,sr,MutableDocument.newNoDocument(sr,SnapshotVersion.min()))}else __PRIVATE_hardAssert(rr===1);else{const sr=this.Ye(tr);if(sr!==rr){const or=this.Ze(e),ar=or?this.Xe(or,e,sr):1;if(ar!==0){this.je(tr);const lr=ar===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(tr,lr)}}}}}Ze(e){const tr=e.me.unchangedNames;if(!tr||!tr.bits)return null;const{bits:{bitmap:rr="",padding:nr=0},hashCount:ir=0}=tr;let sr,or;try{sr=__PRIVATE_normalizeByteString(rr).toUint8Array()}catch(ar){if(ar instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+ar.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw ar}try{or=new BloomFilter(sr,nr,ir)}catch(ar){return __PRIVATE_logWarn(ar instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",ar),null}return or.Ie===0?null:or}Xe(e,tr,rr){return tr.me.count===rr-this.nt(e,tr.targetId)?0:2}nt(e,tr){const rr=this.Le.getRemoteKeysForTarget(tr);let nr=0;return rr.forEach(ir=>{const sr=this.Le.tt(),or=`projects/${sr.projectId}/databases/${sr.database}/documents/${ir.path.canonicalString()}`;e.mightContain(or)||(this.Ue(tr,ir,null),nr++)}),nr}rt(e){const tr=new Map;this.Be.forEach((ir,sr)=>{const or=this.Je(sr);if(or){if(ir.current&&__PRIVATE_targetIsDocumentTarget(or.target)){const ar=new DocumentKey(or.target.path);this.ke.get(ar)!==null||this.it(sr,ar)||this.Ue(sr,ar,MutableDocument.newNoDocument(ar,e))}ir.be&&(tr.set(sr,ir.ve()),ir.Ce())}});let rr=__PRIVATE_documentKeySet();this.qe.forEach((ir,sr)=>{let or=!0;sr.forEachWhile(ar=>{const lr=this.Je(ar);return!lr||lr.purpose==="TargetPurposeLimboResolution"||(or=!1,!1)}),or&&(rr=rr.add(ir))}),this.ke.forEach((ir,sr)=>sr.setReadTime(e));const nr=new RemoteEvent(e,tr,this.Qe,this.ke,rr);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),nr}$e(e,tr){if(!this.ze(e))return;const rr=this.it(e,tr.key)?2:0;this.Ge(e).Fe(tr.key,rr),this.ke=this.ke.insert(tr.key,tr),this.qe=this.qe.insert(tr.key,this.st(tr.key).add(e))}Ue(e,tr,rr){if(!this.ze(e))return;const nr=this.Ge(e);this.it(e,tr)?nr.Fe(tr,1):nr.Me(tr),this.qe=this.qe.insert(tr,this.st(tr).delete(e)),rr&&(this.ke=this.ke.insert(tr,rr))}removeTarget(e){this.Be.delete(e)}Ye(e){const tr=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+tr.addedDocuments.size-tr.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let tr=this.Be.get(e);return tr||(tr=new __PRIVATE_TargetState,this.Be.set(e,tr)),tr}st(e){let tr=this.qe.get(e);return tr||(tr=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,tr)),tr}ze(e){const tr=this.Je(e)!==null;return tr||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),tr}Je(e){const tr=this.Be.get(e);return tr&&tr.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach(tr=>{this.Ue(e,tr,null)})}it(e,tr){return this.Le.getRemoteKeysForTarget(e).has(tr)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,tr){this.databaseId=e,this.useProto3Json=tr}}function __PRIVATE_toInt32Proto(er,e){return er.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(er,e){return er.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(er,e){return er.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(er,e){return toTimestamp(er,e.toTimestamp())}function __PRIVATE_fromVersion(er){return __PRIVATE_hardAssert(!!er),SnapshotVersion.fromTimestamp(function(tr){const rr=__PRIVATE_normalizeTimestamp(tr);return new Timestamp(rr.seconds,rr.nanos)}(er))}function __PRIVATE_toResourceName(er,e){return __PRIVATE_toResourcePath(er,e).canonicalString()}function __PRIVATE_toResourcePath(er,e){const tr=function(nr){return new ResourcePath(["projects",nr.projectId,"databases",nr.database])}(er).child("documents");return e===void 0?tr:tr.child(e)}function __PRIVATE_fromResourceName(er){const e=ResourcePath.fromString(er);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(er,e){return __PRIVATE_toResourceName(er.databaseId,e.path)}function fromName(er,e){const tr=__PRIVATE_fromResourceName(e);if(tr.get(1)!==er.databaseId.projectId)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+tr.get(1)+" vs "+er.databaseId.projectId);if(tr.get(3)!==er.databaseId.database)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+tr.get(3)+" vs "+er.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(tr))}function __PRIVATE_toQueryPath(er,e){return __PRIVATE_toResourceName(er.databaseId,e)}function __PRIVATE_fromQueryPath(er){const e=__PRIVATE_fromResourceName(er);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(er){return new ResourcePath(["projects",er.databaseId.projectId,"databases",er.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(er){return __PRIVATE_hardAssert(er.length>4&&er.get(4)==="documents"),er.popFirst(5)}function __PRIVATE_toMutationDocument(er,e,tr){return{name:__PRIVATE_toName(er,e),fields:tr.value.mapValue.fields}}function __PRIVATE_fromWatchChange(er,e){let tr;if("targetChange"in e){e.targetChange;const rr=function(lr){return lr==="NO_CHANGE"?0:lr==="ADD"?1:lr==="REMOVE"?2:lr==="CURRENT"?3:lr==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),nr=e.targetChange.targetIds||[],ir=function(lr,cr){return lr.useProto3Json?(__PRIVATE_hardAssert(cr===void 0||typeof cr=="string"),ByteString.fromBase64String(cr||"")):(__PRIVATE_hardAssert(cr===void 0||cr instanceof Buffer||cr instanceof Uint8Array),ByteString.fromUint8Array(cr||new Uint8Array))}(er,e.targetChange.resumeToken),sr=e.targetChange.cause,or=sr&&function(lr){const cr=lr.code===void 0?D$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(lr.code);return new FirestoreError(cr,lr.message||"")}(sr);tr=new __PRIVATE_WatchTargetChange(rr,nr,ir,or||null)}else if("documentChange"in e){e.documentChange;const rr=e.documentChange;rr.document,rr.document.name,rr.document.updateTime;const nr=fromName(er,rr.document.name),ir=__PRIVATE_fromVersion(rr.document.updateTime),sr=rr.document.createTime?__PRIVATE_fromVersion(rr.document.createTime):SnapshotVersion.min(),or=new ObjectValue({mapValue:{fields:rr.document.fields}}),ar=MutableDocument.newFoundDocument(nr,ir,sr,or),lr=rr.targetIds||[],cr=rr.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange(lr,cr,ar.key,ar)}else if("documentDelete"in e){e.documentDelete;const rr=e.documentDelete;rr.document;const nr=fromName(er,rr.document),ir=rr.readTime?__PRIVATE_fromVersion(rr.readTime):SnapshotVersion.min(),sr=MutableDocument.newNoDocument(nr,ir),or=rr.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange([],or,sr.key,sr)}else if("documentRemove"in e){e.documentRemove;const rr=e.documentRemove;rr.document;const nr=fromName(er,rr.document),ir=rr.removedTargetIds||[];tr=new __PRIVATE_DocumentWatchChange([],ir,nr,null)}else{if(!("filter"in e))return fail();{e.filter;const rr=e.filter;rr.targetId;const{count:nr=0,unchangedNames:ir}=rr,sr=new ExistenceFilter(nr,ir),or=rr.targetId;tr=new __PRIVATE_ExistenceFilterChange(or,sr)}}return tr}function toMutation(er,e){let tr;if(e instanceof __PRIVATE_SetMutation)tr={update:__PRIVATE_toMutationDocument(er,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)tr={delete:__PRIVATE_toName(er,e.key)};else if(e instanceof __PRIVATE_PatchMutation)tr={update:__PRIVATE_toMutationDocument(er,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();tr={verify:__PRIVATE_toName(er,e.key)}}return e.fieldTransforms.length>0&&(tr.updateTransforms=e.fieldTransforms.map(rr=>function(ir,sr){const or=sr.transform;if(or instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:sr.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(or instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:sr.field.canonicalString(),appendMissingElements:{values:or.elements}};if(or instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:sr.field.canonicalString(),removeAllFromArray:{values:or.elements}};if(or instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:sr.field.canonicalString(),increment:or.Pe};throw fail()}(0,rr))),e.precondition.isNone||(tr.currentDocument=function(nr,ir){return ir.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(nr,ir.updateTime)}:ir.exists!==void 0?{exists:ir.exists}:fail()}(er,e.precondition)),tr}function __PRIVATE_fromWriteResults(er,e){return er&&er.length>0?(__PRIVATE_hardAssert(e!==void 0),er.map(tr=>function(nr,ir){let sr=nr.updateTime?__PRIVATE_fromVersion(nr.updateTime):__PRIVATE_fromVersion(ir);return sr.isEqual(SnapshotVersion.min())&&(sr=__PRIVATE_fromVersion(ir)),new MutationResult(sr,nr.transformResults||[])}(tr,e))):[]}function __PRIVATE_toDocumentsTarget(er,e){return{documents:[__PRIVATE_toQueryPath(er,e.path)]}}function __PRIVATE_toQueryTarget(er,e){const tr={structuredQuery:{}},rr=e.path;let nr;e.collectionGroup!==null?(nr=rr,tr.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(nr=rr.popLast(),tr.structuredQuery.from=[{collectionId:rr.lastSegment()}]),tr.parent=__PRIVATE_toQueryPath(er,nr);const ir=function(lr){if(lr.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(lr,"and"))}(e.filters);ir&&(tr.structuredQuery.where=ir);const sr=function(lr){if(lr.length!==0)return lr.map(cr=>function(hr){return{field:__PRIVATE_toFieldPathReference(hr.field),direction:__PRIVATE_toDirection(hr.dir)}}(cr))}(e.orderBy);sr&&(tr.structuredQuery.orderBy=sr);const or=__PRIVATE_toInt32Proto(er,e.limit);return or!==null&&(tr.structuredQuery.limit=or),e.startAt&&(tr.structuredQuery.startAt=function(lr){return{before:lr.inclusive,values:lr.position}}(e.startAt)),e.endAt&&(tr.structuredQuery.endAt=function(lr){return{before:!lr.inclusive,values:lr.position}}(e.endAt)),{_t:tr,parent:nr}}function __PRIVATE_convertQueryTargetToQuery(er){let e=__PRIVATE_fromQueryPath(er.parent);const tr=er.structuredQuery,rr=tr.from?tr.from.length:0;let nr=null;if(rr>0){__PRIVATE_hardAssert(rr===1);const cr=tr.from[0];cr.allDescendants?nr=cr.collectionId:e=e.child(cr.collectionId)}let ir=[];tr.where&&(ir=function(dr){const hr=__PRIVATE_fromFilter(dr);return hr instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(hr)?hr.getFilters():[hr]}(tr.where));let sr=[];tr.orderBy&&(sr=function(dr){return dr.map(hr=>function(pr){return new OrderBy(__PRIVATE_fromFieldPathReference(pr.field),function(fr){switch(fr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pr.direction))}(hr))}(tr.orderBy));let or=null;tr.limit&&(or=function(dr){let hr;return hr=typeof dr=="object"?dr.value:dr,__PRIVATE_isNullOrUndefined(hr)?null:hr}(tr.limit));let ar=null;tr.startAt&&(ar=function(dr){const hr=!!dr.before,ur=dr.values||[];return new Bound(ur,hr)}(tr.startAt));let lr=null;return tr.endAt&&(lr=function(dr){const hr=!dr.before,ur=dr.values||[];return new Bound(ur,hr)}(tr.endAt)),__PRIVATE_newQuery(e,nr,sr,ir,or,"F",ar,lr)}function __PRIVATE_toListenRequestLabels(er,e){const tr=function(nr){switch(nr){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return tr==null?null:{"goog-listen-tags":tr}}function __PRIVATE_fromFilter(er){return er.unaryFilter!==void 0?function(tr){switch(tr.unaryFilter.op){case"IS_NAN":const rr=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(rr,"==",{doubleValue:NaN});case"IS_NULL":const nr=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(nr,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const ir=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(ir,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const sr=__PRIVATE_fromFieldPathReference(tr.unaryFilter.field);return FieldFilter.create(sr,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(er):er.fieldFilter!==void 0?function(tr){return FieldFilter.create(__PRIVATE_fromFieldPathReference(tr.fieldFilter.field),function(nr){switch(nr){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(tr.fieldFilter.op),tr.fieldFilter.value)}(er):er.compositeFilter!==void 0?function(tr){return CompositeFilter.create(tr.compositeFilter.filters.map(rr=>__PRIVATE_fromFilter(rr)),function(nr){switch(nr){case"AND":return"and";case"OR":return"or";default:return fail()}}(tr.compositeFilter.op))}(er):fail()}function __PRIVATE_toDirection(er){return Te[er]}function __PRIVATE_toOperatorName(er){return Ee[er]}function __PRIVATE_toCompositeOperatorName(er){return de$1[er]}function __PRIVATE_toFieldPathReference(er){return{fieldPath:er.canonicalString()}}function __PRIVATE_fromFieldPathReference(er){return FieldPath$1.fromServerFormat(er.fieldPath)}function __PRIVATE_toFilter(er){return er instanceof FieldFilter?function(tr){if(tr.op==="=="){if(__PRIVATE_isNanValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NULL"}}}else if(tr.op==="!="){if(__PRIVATE_isNanValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(tr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(tr.field),op:__PRIVATE_toOperatorName(tr.op),value:tr.value}}}(er):er instanceof CompositeFilter?function(tr){const rr=tr.getFilters().map(nr=>__PRIVATE_toFilter(nr));return rr.length===1?rr[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(tr.op),filters:rr}}}(er):fail()}function __PRIVATE_toDocumentMask(er){const e=[];return er.fields.forEach(tr=>e.push(tr.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(er){return er.length>=4&&er.get(0)==="projects"&&er.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,tr,rr,nr,ir=SnapshotVersion.min(),sr=SnapshotVersion.min(),or=ByteString.EMPTY_BYTE_STRING,ar=null){this.target=e,this.targetId=tr,this.purpose=rr,this.sequenceNumber=nr,this.snapshotVersion=ir,this.lastLimboFreeSnapshotVersion=sr,this.resumeToken=or,this.expectedCount=ar}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,tr){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,tr,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(er){const e=__PRIVATE_convertQueryTargetToQuery({parent:er.parent,structuredQuery:er.structuredQuery});return er.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,tr){return this.un.add(tr),PersistencePromise.resolve()}getCollectionParents(e,tr){return PersistencePromise.resolve(this.un.getEntries(tr))}addFieldIndex(e,tr){return PersistencePromise.resolve()}deleteFieldIndex(e,tr){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,tr){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,tr){return PersistencePromise.resolve(null)}getIndexType(e,tr){return PersistencePromise.resolve(0)}getFieldIndexes(e,tr){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,tr){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,tr){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,tr,rr){return PersistencePromise.resolve()}updateIndexEntries(e,tr){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const tr=e.lastSegment(),rr=e.popLast(),nr=this.index[tr]||new SortedSet(ResourcePath.comparator),ir=!nr.has(rr);return this.index[tr]=nr.add(rr),ir}has(e){const tr=e.lastSegment(),rr=e.popLast(),nr=this.index[tr];return nr&&nr.has(rr)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,tr)=>e.isEqual(tr)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,tr){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(tr))}getEntry(e,tr){this.assertNotApplied();const rr=this.changes.get(tr);return rr!==void 0?PersistencePromise.resolve(rr):this.getFromCache(e,tr)}getEntries(e,tr){return this.getAllFromCache(e,tr)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,tr){this.overlayedDocument=e,this.mutatedFields=tr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,tr,rr,nr){this.remoteDocumentCache=e,this.mutationQueue=tr,this.documentOverlayCache=rr,this.indexManager=nr}getDocument(e,tr){let rr=null;return this.documentOverlayCache.getOverlay(e,tr).next(nr=>(rr=nr,this.remoteDocumentCache.getEntry(e,tr))).next(nr=>(rr!==null&&__PRIVATE_mutationApplyToLocalView(rr.mutation,nr,FieldMask.empty(),Timestamp.now()),nr))}getDocuments(e,tr){return this.remoteDocumentCache.getEntries(e,tr).next(rr=>this.getLocalViewOfDocuments(e,rr,__PRIVATE_documentKeySet()).next(()=>rr))}getLocalViewOfDocuments(e,tr,rr=__PRIVATE_documentKeySet()){const nr=__PRIVATE_newOverlayMap();return this.populateOverlays(e,nr,tr).next(()=>this.computeViews(e,tr,nr,rr).next(ir=>{let sr=documentMap();return ir.forEach((or,ar)=>{sr=sr.insert(or,ar.overlayedDocument)}),sr}))}getOverlayedDocuments(e,tr){const rr=__PRIVATE_newOverlayMap();return this.populateOverlays(e,rr,tr).next(()=>this.computeViews(e,tr,rr,__PRIVATE_documentKeySet()))}populateOverlays(e,tr,rr){const nr=[];return rr.forEach(ir=>{tr.has(ir)||nr.push(ir)}),this.documentOverlayCache.getOverlays(e,nr).next(ir=>{ir.forEach((sr,or)=>{tr.set(sr,or)})})}computeViews(e,tr,rr,nr){let ir=__PRIVATE_mutableDocumentMap();const sr=__PRIVATE_newDocumentKeyMap(),or=function(){return __PRIVATE_newDocumentKeyMap()}();return tr.forEach((ar,lr)=>{const cr=rr.get(lr.key);nr.has(lr.key)&&(cr===void 0||cr.mutation instanceof __PRIVATE_PatchMutation)?ir=ir.insert(lr.key,lr):cr!==void 0?(sr.set(lr.key,cr.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(cr.mutation,lr,cr.mutation.getFieldMask(),Timestamp.now())):sr.set(lr.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,ir).next(ar=>(ar.forEach((lr,cr)=>sr.set(lr,cr)),tr.forEach((lr,cr)=>{var dr;return or.set(lr,new OverlayedDocument(cr,(dr=sr.get(lr))!==null&&dr!==void 0?dr:null))}),or))}recalculateAndSaveOverlays(e,tr){const rr=__PRIVATE_newDocumentKeyMap();let nr=new SortedMap((sr,or)=>sr-or),ir=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,tr).next(sr=>{for(const or of sr)or.keys().forEach(ar=>{const lr=tr.get(ar);if(lr===null)return;let cr=rr.get(ar)||FieldMask.empty();cr=or.applyToLocalView(lr,cr),rr.set(ar,cr);const dr=(nr.get(or.batchId)||__PRIVATE_documentKeySet()).add(ar);nr=nr.insert(or.batchId,dr)})}).next(()=>{const sr=[],or=nr.getReverseIterator();for(;or.hasNext();){const ar=or.getNext(),lr=ar.key,cr=ar.value,dr=__PRIVATE_newMutationMap();cr.forEach(hr=>{if(!ir.has(hr)){const ur=__PRIVATE_calculateOverlayMutation(tr.get(hr),rr.get(hr));ur!==null&&dr.set(hr,ur),ir=ir.add(hr)}}),sr.push(this.documentOverlayCache.saveOverlays(e,lr,dr))}return PersistencePromise.waitFor(sr)}).next(()=>rr)}recalculateAndSaveOverlaysForDocumentKeys(e,tr){return this.remoteDocumentCache.getEntries(e,tr).next(rr=>this.recalculateAndSaveOverlays(e,rr))}getDocumentsMatchingQuery(e,tr,rr,nr){return function(sr){return DocumentKey.isDocumentKey(sr.path)&&sr.collectionGroup===null&&sr.filters.length===0}(tr)?this.getDocumentsMatchingDocumentQuery(e,tr.path):__PRIVATE_isCollectionGroupQuery(tr)?this.getDocumentsMatchingCollectionGroupQuery(e,tr,rr,nr):this.getDocumentsMatchingCollectionQuery(e,tr,rr,nr)}getNextDocuments(e,tr,rr,nr){return this.remoteDocumentCache.getAllFromCollectionGroup(e,tr,rr,nr).next(ir=>{const sr=nr-ir.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,tr,rr.largestBatchId,nr-ir.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let or=-1,ar=ir;return sr.next(lr=>PersistencePromise.forEach(lr,(cr,dr)=>(or<dr.largestBatchId&&(or=dr.largestBatchId),ir.get(cr)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,cr).next(hr=>{ar=ar.insert(cr,hr)}))).next(()=>this.populateOverlays(e,lr,ir)).next(()=>this.computeViews(e,ar,lr,__PRIVATE_documentKeySet())).next(cr=>({batchId:or,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(cr)})))})}getDocumentsMatchingDocumentQuery(e,tr){return this.getDocument(e,new DocumentKey(tr)).next(rr=>{let nr=documentMap();return rr.isFoundDocument()&&(nr=nr.insert(rr.key,rr)),nr})}getDocumentsMatchingCollectionGroupQuery(e,tr,rr,nr){const ir=tr.collectionGroup;let sr=documentMap();return this.indexManager.getCollectionParents(e,ir).next(or=>PersistencePromise.forEach(or,ar=>{const lr=function(dr,hr){return new __PRIVATE_QueryImpl(hr,null,dr.explicitOrderBy.slice(),dr.filters.slice(),dr.limit,dr.limitType,dr.startAt,dr.endAt)}(tr,ar.child(ir));return this.getDocumentsMatchingCollectionQuery(e,lr,rr,nr).next(cr=>{cr.forEach((dr,hr)=>{sr=sr.insert(dr,hr)})})}).next(()=>sr))}getDocumentsMatchingCollectionQuery(e,tr,rr,nr){let ir;return this.documentOverlayCache.getOverlaysForCollection(e,tr.path,rr.largestBatchId).next(sr=>(ir=sr,this.remoteDocumentCache.getDocumentsMatchingQuery(e,tr,rr,ir,nr))).next(sr=>{ir.forEach((ar,lr)=>{const cr=lr.getKey();sr.get(cr)===null&&(sr=sr.insert(cr,MutableDocument.newInvalidDocument(cr)))});let or=documentMap();return sr.forEach((ar,lr)=>{const cr=ir.get(ar);cr!==void 0&&__PRIVATE_mutationApplyToLocalView(cr.mutation,lr,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(tr,lr)&&(or=or.insert(ar,lr))}),or})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,tr){return PersistencePromise.resolve(this.hr.get(tr))}saveBundleMetadata(e,tr){return this.hr.set(tr.id,function(nr){return{id:nr.id,version:nr.version,createTime:__PRIVATE_fromVersion(nr.createTime)}}(tr)),PersistencePromise.resolve()}getNamedQuery(e,tr){return PersistencePromise.resolve(this.Pr.get(tr))}saveNamedQuery(e,tr){return this.Pr.set(tr.name,function(nr){return{name:nr.name,query:__PRIVATE_fromBundledQuery(nr.bundledQuery),readTime:__PRIVATE_fromVersion(nr.readTime)}}(tr)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,tr){return PersistencePromise.resolve(this.overlays.get(tr))}getOverlays(e,tr){const rr=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(tr,nr=>this.getOverlay(e,nr).next(ir=>{ir!==null&&rr.set(nr,ir)})).next(()=>rr)}saveOverlays(e,tr,rr){return rr.forEach((nr,ir)=>{this.ht(e,tr,ir)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,tr,rr){const nr=this.Ir.get(rr);return nr!==void 0&&(nr.forEach(ir=>this.overlays=this.overlays.remove(ir)),this.Ir.delete(rr)),PersistencePromise.resolve()}getOverlaysForCollection(e,tr,rr){const nr=__PRIVATE_newOverlayMap(),ir=tr.length+1,sr=new DocumentKey(tr.child("")),or=this.overlays.getIteratorFrom(sr);for(;or.hasNext();){const ar=or.getNext().value,lr=ar.getKey();if(!tr.isPrefixOf(lr.path))break;lr.path.length===ir&&ar.largestBatchId>rr&&nr.set(ar.getKey(),ar)}return PersistencePromise.resolve(nr)}getOverlaysForCollectionGroup(e,tr,rr,nr){let ir=new SortedMap((lr,cr)=>lr-cr);const sr=this.overlays.getIterator();for(;sr.hasNext();){const lr=sr.getNext().value;if(lr.getKey().getCollectionGroup()===tr&&lr.largestBatchId>rr){let cr=ir.get(lr.largestBatchId);cr===null&&(cr=__PRIVATE_newOverlayMap(),ir=ir.insert(lr.largestBatchId,cr)),cr.set(lr.getKey(),lr)}}const or=__PRIVATE_newOverlayMap(),ar=ir.getIterator();for(;ar.hasNext()&&(ar.getNext().value.forEach((lr,cr)=>or.set(lr,cr)),!(or.size()>=nr)););return PersistencePromise.resolve(or)}ht(e,tr,rr){const nr=this.overlays.get(rr.key);if(nr!==null){const sr=this.Ir.get(nr.largestBatchId).delete(rr.key);this.Ir.set(nr.largestBatchId,sr)}this.overlays=this.overlays.insert(rr.key,new Overlay(tr,rr));let ir=this.Ir.get(tr);ir===void 0&&(ir=__PRIVATE_documentKeySet(),this.Ir.set(tr,ir)),this.Ir.set(tr,ir.add(rr.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,tr){return this.sessionToken=tr,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,tr){const rr=new __PRIVATE_DocReference(e,tr);this.Tr=this.Tr.add(rr),this.dr=this.dr.add(rr)}Rr(e,tr){e.forEach(rr=>this.addReference(rr,tr))}removeReference(e,tr){this.Vr(new __PRIVATE_DocReference(e,tr))}mr(e,tr){e.forEach(rr=>this.removeReference(rr,tr))}gr(e){const tr=new DocumentKey(new ResourcePath([])),rr=new __PRIVATE_DocReference(tr,e),nr=new __PRIVATE_DocReference(tr,e+1),ir=[];return this.dr.forEachInRange([rr,nr],sr=>{this.Vr(sr),ir.push(sr.key)}),ir}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const tr=new DocumentKey(new ResourcePath([])),rr=new __PRIVATE_DocReference(tr,e),nr=new __PRIVATE_DocReference(tr,e+1);let ir=__PRIVATE_documentKeySet();return this.dr.forEachInRange([rr,nr],sr=>{ir=ir.add(sr.key)}),ir}containsKey(e){const tr=new __PRIVATE_DocReference(e,0),rr=this.Tr.firstAfterOrEqual(tr);return rr!==null&&e.isEqual(rr.key)}}class __PRIVATE_DocReference{constructor(e,tr){this.key=e,this.wr=tr}static Er(e,tr){return DocumentKey.comparator(e.key,tr.key)||__PRIVATE_primitiveComparator(e.wr,tr.wr)}static Ar(e,tr){return __PRIVATE_primitiveComparator(e.wr,tr.wr)||DocumentKey.comparator(e.key,tr.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,tr){this.indexManager=e,this.referenceDelegate=tr,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,tr,rr,nr){const ir=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const sr=new MutationBatch(ir,tr,rr,nr);this.mutationQueue.push(sr);for(const or of nr)this.br=this.br.add(new __PRIVATE_DocReference(or.key,ir)),this.indexManager.addToCollectionParentIndex(e,or.key.path.popLast());return PersistencePromise.resolve(sr)}lookupMutationBatch(e,tr){return PersistencePromise.resolve(this.Dr(tr))}getNextMutationBatchAfterBatchId(e,tr){const rr=tr+1,nr=this.vr(rr),ir=nr<0?0:nr;return PersistencePromise.resolve(this.mutationQueue.length>ir?this.mutationQueue[ir]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,tr){const rr=new __PRIVATE_DocReference(tr,0),nr=new __PRIVATE_DocReference(tr,Number.POSITIVE_INFINITY),ir=[];return this.br.forEachInRange([rr,nr],sr=>{const or=this.Dr(sr.wr);ir.push(or)}),PersistencePromise.resolve(ir)}getAllMutationBatchesAffectingDocumentKeys(e,tr){let rr=new SortedSet(__PRIVATE_primitiveComparator);return tr.forEach(nr=>{const ir=new __PRIVATE_DocReference(nr,0),sr=new __PRIVATE_DocReference(nr,Number.POSITIVE_INFINITY);this.br.forEachInRange([ir,sr],or=>{rr=rr.add(or.wr)})}),PersistencePromise.resolve(this.Cr(rr))}getAllMutationBatchesAffectingQuery(e,tr){const rr=tr.path,nr=rr.length+1;let ir=rr;DocumentKey.isDocumentKey(ir)||(ir=ir.child(""));const sr=new __PRIVATE_DocReference(new DocumentKey(ir),0);let or=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(ar=>{const lr=ar.key.path;return!!rr.isPrefixOf(lr)&&(lr.length===nr&&(or=or.add(ar.wr)),!0)},sr),PersistencePromise.resolve(this.Cr(or))}Cr(e){const tr=[];return e.forEach(rr=>{const nr=this.Dr(rr);nr!==null&&tr.push(nr)}),tr}removeMutationBatch(e,tr){__PRIVATE_hardAssert(this.Fr(tr.batchId,"removed")===0),this.mutationQueue.shift();let rr=this.br;return PersistencePromise.forEach(tr.mutations,nr=>{const ir=new __PRIVATE_DocReference(nr.key,tr.batchId);return rr=rr.delete(ir),this.referenceDelegate.markPotentiallyOrphaned(e,nr.key)}).next(()=>{this.br=rr})}On(e){}containsKey(e,tr){const rr=new __PRIVATE_DocReference(tr,0),nr=this.br.firstAfterOrEqual(rr);return PersistencePromise.resolve(tr.isEqual(nr&&nr.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,tr){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const tr=this.vr(e);return tr<0||tr>=this.mutationQueue.length?null:this.mutationQueue[tr]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,tr){const rr=tr.key,nr=this.docs.get(rr),ir=nr?nr.size:0,sr=this.Mr(tr);return this.docs=this.docs.insert(rr,{document:tr.mutableCopy(),size:sr}),this.size+=sr-ir,this.indexManager.addToCollectionParentIndex(e,rr.path.popLast())}removeEntry(e){const tr=this.docs.get(e);tr&&(this.docs=this.docs.remove(e),this.size-=tr.size)}getEntry(e,tr){const rr=this.docs.get(tr);return PersistencePromise.resolve(rr?rr.document.mutableCopy():MutableDocument.newInvalidDocument(tr))}getEntries(e,tr){let rr=__PRIVATE_mutableDocumentMap();return tr.forEach(nr=>{const ir=this.docs.get(nr);rr=rr.insert(nr,ir?ir.document.mutableCopy():MutableDocument.newInvalidDocument(nr))}),PersistencePromise.resolve(rr)}getDocumentsMatchingQuery(e,tr,rr,nr){let ir=__PRIVATE_mutableDocumentMap();const sr=tr.path,or=new DocumentKey(sr.child("")),ar=this.docs.getIteratorFrom(or);for(;ar.hasNext();){const{key:lr,value:{document:cr}}=ar.getNext();if(!sr.isPrefixOf(lr.path))break;lr.path.length>sr.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(cr),rr)<=0||(nr.has(cr.key)||__PRIVATE_queryMatches(tr,cr))&&(ir=ir.insert(cr.key,cr.mutableCopy()))}return PersistencePromise.resolve(ir)}getAllFromCollectionGroup(e,tr,rr,nr){fail()}Or(e,tr){return PersistencePromise.forEach(this.docs,rr=>tr(rr))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const tr=[];return this.changes.forEach((rr,nr)=>{nr.isValidDocument()?tr.push(this.cr.addEntry(e,nr)):this.cr.removeEntry(rr)}),PersistencePromise.waitFor(tr)}getFromCache(e,tr){return this.cr.getEntry(e,tr)}getAllFromCache(e,tr){return this.cr.getEntries(e,tr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap(tr=>__PRIVATE_canonifyTarget(tr),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,tr){return this.Nr.forEach((rr,nr)=>tr(nr)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,tr,rr){return rr&&(this.lastRemoteSnapshotVersion=rr),tr>this.Lr&&(this.Lr=tr),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const tr=e.targetId;tr>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(tr),this.highestTargetId=tr),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,tr){return this.Kn(tr),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,tr){return this.Kn(tr),PersistencePromise.resolve()}removeTargetData(e,tr){return this.Nr.delete(tr.target),this.Br.gr(tr.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,tr,rr){let nr=0;const ir=[];return this.Nr.forEach((sr,or)=>{or.sequenceNumber<=tr&&rr.get(or.targetId)===null&&(this.Nr.delete(sr),ir.push(this.removeMatchingKeysForTargetId(e,or.targetId)),nr++)}),PersistencePromise.waitFor(ir).next(()=>nr)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,tr){const rr=this.Nr.get(tr)||null;return PersistencePromise.resolve(rr)}addMatchingKeys(e,tr,rr){return this.Br.Rr(tr,rr),PersistencePromise.resolve()}removeMatchingKeys(e,tr,rr){this.Br.mr(tr,rr);const nr=this.persistence.referenceDelegate,ir=[];return nr&&tr.forEach(sr=>{ir.push(nr.markPotentiallyOrphaned(e,sr))}),PersistencePromise.waitFor(ir)}removeMatchingKeysForTargetId(e,tr){return this.Br.gr(tr),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,tr){const rr=this.Br.yr(tr);return PersistencePromise.resolve(rr)}containsKey(e,tr){return PersistencePromise.resolve(this.Br.containsKey(tr))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,tr){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(nr){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(nr)}(rr=>this.referenceDelegate.Wr(rr)),this.serializer=new __PRIVATE_LocalSerializer(tr),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let tr=this.overlays[e.toKey()];return tr||(tr=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=tr),tr}getMutationQueue(e,tr){let rr=this.qr[e.toKey()];return rr||(rr=new __PRIVATE_MemoryMutationQueue(tr,this.referenceDelegate),this.qr[e.toKey()]=rr),rr}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,tr,rr){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const nr=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),rr(nr).next(ir=>this.referenceDelegate.jr(nr).next(()=>ir)).toPromise().then(ir=>(nr.raiseOnCommittedEvent(),ir))}Hr(e,tr){return PersistencePromise.or(Object.values(this.qr).map(rr=>()=>rr.containsKey(e,tr)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,tr,rr){return this.Jr.addReference(rr,tr),this.Xr.delete(rr.toString()),PersistencePromise.resolve()}removeReference(e,tr,rr){return this.Jr.removeReference(rr,tr),this.Xr.add(rr.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,tr){return this.Xr.add(tr.toString()),PersistencePromise.resolve()}removeTarget(e,tr){this.Jr.gr(tr.targetId).forEach(nr=>this.Xr.add(nr.toString()));const rr=this.persistence.getTargetCache();return rr.getMatchingKeysForTargetId(e,tr.targetId).next(nr=>{nr.forEach(ir=>this.Xr.add(ir.toString()))}).next(()=>rr.removeTargetData(e,tr))}zr(){this.Yr=new Set}jr(e){const tr=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,rr=>{const nr=DocumentKey.fromPath(rr);return this.ei(e,nr).next(ir=>{ir||tr.removeEntry(nr,SnapshotVersion.min())})}).next(()=>(this.Yr=null,tr.apply(e)))}updateLimboDocument(e,tr){return this.ei(e,tr).next(rr=>{rr?this.Xr.delete(tr.toString()):this.Xr.add(tr.toString())})}Wr(e){return 0}ei(e,tr){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(tr)),()=>this.persistence.getTargetCache().containsKey(e,tr),()=>this.persistence.Hr(e,tr)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,tr,rr,nr){this.targetId=e,this.fromCache=tr,this.$i=rr,this.Ui=nr}static Wi(e,tr){let rr=__PRIVATE_documentKeySet(),nr=__PRIVATE_documentKeySet();for(const ir of tr.docChanges)switch(ir.type){case 0:rr=rr.add(ir.doc.key);break;case 1:nr=nr.add(ir.doc.key)}return new __PRIVATE_LocalViewChanges(e,tr.fromCache,rr,nr)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,tr){this.Ji=e,this.indexManager=tr,this.Gi=!0}getDocumentsMatchingQuery(e,tr,rr,nr){const ir={result:null};return this.Yi(e,tr).next(sr=>{ir.result=sr}).next(()=>{if(!ir.result)return this.Zi(e,tr,nr,rr).next(sr=>{ir.result=sr})}).next(()=>{if(ir.result)return;const sr=new QueryContext;return this.Xi(e,tr,sr).next(or=>{if(ir.result=or,this.zi)return this.es(e,tr,sr,or.size)})}).next(()=>ir.result)}es(e,tr,rr,nr){return rr.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(tr),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(tr),"scans",rr.documentReadCount,"local documents and returns",nr,"documents as results."),rr.documentReadCount>this.Hi*nr?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(tr),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(tr))):PersistencePromise.resolve())}Yi(e,tr){if(__PRIVATE_queryMatchesAllDocuments(tr))return PersistencePromise.resolve(null);let rr=__PRIVATE_queryToTarget(tr);return this.indexManager.getIndexType(e,rr).next(nr=>nr===0?null:(tr.limit!==null&&nr===1&&(tr=__PRIVATE_queryWithLimit(tr,null,"F"),rr=__PRIVATE_queryToTarget(tr)),this.indexManager.getDocumentsMatchingTarget(e,rr).next(ir=>{const sr=__PRIVATE_documentKeySet(...ir);return this.Ji.getDocuments(e,sr).next(or=>this.indexManager.getMinOffset(e,rr).next(ar=>{const lr=this.ts(tr,or);return this.ns(tr,lr,sr,ar.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(tr,null,"F")):this.rs(e,lr,tr,ar)}))})))}Zi(e,tr,rr,nr){return __PRIVATE_queryMatchesAllDocuments(tr)||nr.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,rr).next(ir=>{const sr=this.ts(tr,ir);return this.ns(tr,sr,rr,nr)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",nr.toString(),__PRIVATE_stringifyQuery(tr)),this.rs(e,sr,tr,__PRIVATE_newIndexOffsetSuccessorFromReadTime(nr,-1)).next(or=>or))})}ts(e,tr){let rr=new SortedSet(__PRIVATE_newQueryComparator(e));return tr.forEach((nr,ir)=>{__PRIVATE_queryMatches(e,ir)&&(rr=rr.add(ir))}),rr}ns(e,tr,rr,nr){if(e.limit===null)return!1;if(rr.size!==tr.size)return!0;const ir=e.limitType==="F"?tr.last():tr.first();return!!ir&&(ir.hasPendingWrites||ir.version.compareTo(nr)>0)}Xi(e,tr,rr){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(tr)),this.Ji.getDocumentsMatchingQuery(e,tr,IndexOffset.min(),rr)}rs(e,tr,rr,nr){return this.Ji.getDocumentsMatchingQuery(e,rr,nr).next(ir=>(tr.forEach(sr=>{ir=ir.insert(sr.key,sr)}),ir))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,tr,rr,nr){this.persistence=e,this.ss=tr,this.serializer=nr,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(ir=>__PRIVATE_canonifyTarget(ir),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(rr)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",tr=>e.collect(tr,this.os))}}function __PRIVATE_newLocalStore(er,e,tr,rr){return new __PRIVATE_LocalStoreImpl(er,e,tr,rr)}async function __PRIVATE_localStoreHandleUserChange(er,e){const tr=__PRIVATE_debugCast(er);return await tr.persistence.runTransaction("Handle user change","readonly",rr=>{let nr;return tr.mutationQueue.getAllMutationBatches(rr).next(ir=>(nr=ir,tr.ls(e),tr.mutationQueue.getAllMutationBatches(rr))).next(ir=>{const sr=[],or=[];let ar=__PRIVATE_documentKeySet();for(const lr of nr){sr.push(lr.batchId);for(const cr of lr.mutations)ar=ar.add(cr.key)}for(const lr of ir){or.push(lr.batchId);for(const cr of lr.mutations)ar=ar.add(cr.key)}return tr.localDocuments.getDocuments(rr,ar).next(lr=>({hs:lr,removedBatchIds:sr,addedBatchIds:or}))})})}function __PRIVATE_localStoreAcknowledgeBatch(er,e){const tr=__PRIVATE_debugCast(er);return tr.persistence.runTransaction("Acknowledge batch","readwrite-primary",rr=>{const nr=e.batch.keys(),ir=tr.cs.newChangeBuffer({trackRemovals:!0});return function(or,ar,lr,cr){const dr=lr.batch,hr=dr.keys();let ur=PersistencePromise.resolve();return hr.forEach(pr=>{ur=ur.next(()=>cr.getEntry(ar,pr)).next(mr=>{const fr=lr.docVersions.get(pr);__PRIVATE_hardAssert(fr!==null),mr.version.compareTo(fr)<0&&(dr.applyToRemoteDocument(mr,lr),mr.isValidDocument()&&(mr.setReadTime(lr.commitVersion),cr.addEntry(mr)))})}),ur.next(()=>or.mutationQueue.removeMutationBatch(ar,dr))}(tr,rr,e,ir).next(()=>ir.apply(rr)).next(()=>tr.mutationQueue.performConsistencyCheck(rr)).next(()=>tr.documentOverlayCache.removeOverlaysForBatchId(rr,nr,e.batch.batchId)).next(()=>tr.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(rr,function(or){let ar=__PRIVATE_documentKeySet();for(let lr=0;lr<or.mutationResults.length;++lr)or.mutationResults[lr].transformResults.length>0&&(ar=ar.add(or.batch.mutations[lr].key));return ar}(e))).next(()=>tr.localDocuments.getDocuments(rr,nr))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(er){const e=__PRIVATE_debugCast(er);return e.persistence.runTransaction("Get last remote snapshot version","readonly",tr=>e.Ur.getLastRemoteSnapshotVersion(tr))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(er,e){const tr=__PRIVATE_debugCast(er),rr=e.snapshotVersion;let nr=tr.os;return tr.persistence.runTransaction("Apply remote event","readwrite-primary",ir=>{const sr=tr.cs.newChangeBuffer({trackRemovals:!0});nr=tr.os;const or=[];e.targetChanges.forEach((cr,dr)=>{const hr=nr.get(dr);if(!hr)return;or.push(tr.Ur.removeMatchingKeys(ir,cr.removedDocuments,dr).next(()=>tr.Ur.addMatchingKeys(ir,cr.addedDocuments,dr)));let ur=hr.withSequenceNumber(ir.currentSequenceNumber);e.targetMismatches.get(dr)!==null?ur=ur.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):cr.resumeToken.approximateByteSize()>0&&(ur=ur.withResumeToken(cr.resumeToken,rr)),nr=nr.insert(dr,ur),function(mr,fr,gr){return mr.resumeToken.approximateByteSize()===0||fr.snapshotVersion.toMicroseconds()-mr.snapshotVersion.toMicroseconds()>=3e8?!0:gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0}(hr,ur,cr)&&or.push(tr.Ur.updateTargetData(ir,ur))});let ar=__PRIVATE_mutableDocumentMap(),lr=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(cr=>{e.resolvedLimboDocuments.has(cr)&&or.push(tr.persistence.referenceDelegate.updateLimboDocument(ir,cr))}),or.push(__PRIVATE_populateDocumentChangeBuffer(ir,sr,e.documentUpdates).next(cr=>{ar=cr.Ps,lr=cr.Is})),!rr.isEqual(SnapshotVersion.min())){const cr=tr.Ur.getLastRemoteSnapshotVersion(ir).next(dr=>tr.Ur.setTargetsMetadata(ir,ir.currentSequenceNumber,rr));or.push(cr)}return PersistencePromise.waitFor(or).next(()=>sr.apply(ir)).next(()=>tr.localDocuments.getLocalViewOfDocuments(ir,ar,lr)).next(()=>ar)}).then(ir=>(tr.os=nr,ir))}function __PRIVATE_populateDocumentChangeBuffer(er,e,tr){let rr=__PRIVATE_documentKeySet(),nr=__PRIVATE_documentKeySet();return tr.forEach(ir=>rr=rr.add(ir)),e.getEntries(er,rr).next(ir=>{let sr=__PRIVATE_mutableDocumentMap();return tr.forEach((or,ar)=>{const lr=ir.get(or);ar.isFoundDocument()!==lr.isFoundDocument()&&(nr=nr.add(or)),ar.isNoDocument()&&ar.version.isEqual(SnapshotVersion.min())?(e.removeEntry(or,ar.readTime),sr=sr.insert(or,ar)):!lr.isValidDocument()||ar.version.compareTo(lr.version)>0||ar.version.compareTo(lr.version)===0&&lr.hasPendingWrites?(e.addEntry(ar),sr=sr.insert(or,ar)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",or,". Current version:",lr.version," Watch version:",ar.version)}),{Ps:sr,Is:nr}})}function __PRIVATE_localStoreGetNextMutationBatch(er,e){const tr=__PRIVATE_debugCast(er);return tr.persistence.runTransaction("Get next mutation batch","readonly",rr=>(e===void 0&&(e=-1),tr.mutationQueue.getNextMutationBatchAfterBatchId(rr,e)))}function __PRIVATE_localStoreAllocateTarget(er,e){const tr=__PRIVATE_debugCast(er);return tr.persistence.runTransaction("Allocate target","readwrite",rr=>{let nr;return tr.Ur.getTargetData(rr,e).next(ir=>ir?(nr=ir,PersistencePromise.resolve(nr)):tr.Ur.allocateTargetId(rr).next(sr=>(nr=new TargetData(e,sr,"TargetPurposeListen",rr.currentSequenceNumber),tr.Ur.addTargetData(rr,nr).next(()=>nr))))}).then(rr=>{const nr=tr.os.get(rr.targetId);return(nr===null||rr.snapshotVersion.compareTo(nr.snapshotVersion)>0)&&(tr.os=tr.os.insert(rr.targetId,rr),tr._s.set(e,rr.targetId)),rr})}async function __PRIVATE_localStoreReleaseTarget(er,e,tr){const rr=__PRIVATE_debugCast(er),nr=rr.os.get(e),ir=tr?"readwrite":"readwrite-primary";try{tr||await rr.persistence.runTransaction("Release target",ir,sr=>rr.persistence.referenceDelegate.removeTarget(sr,nr))}catch(sr){if(!__PRIVATE_isIndexedDbTransactionError(sr))throw sr;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${sr}`)}rr.os=rr.os.remove(e),rr._s.delete(nr.target)}function __PRIVATE_localStoreExecuteQuery(er,e,tr){const rr=__PRIVATE_debugCast(er);let nr=SnapshotVersion.min(),ir=__PRIVATE_documentKeySet();return rr.persistence.runTransaction("Execute query","readwrite",sr=>function(ar,lr,cr){const dr=__PRIVATE_debugCast(ar),hr=dr._s.get(cr);return hr!==void 0?PersistencePromise.resolve(dr.os.get(hr)):dr.Ur.getTargetData(lr,cr)}(rr,sr,__PRIVATE_queryToTarget(e)).next(or=>{if(or)return nr=or.lastLimboFreeSnapshotVersion,rr.Ur.getMatchingKeysForTargetId(sr,or.targetId).next(ar=>{ir=ar})}).next(()=>rr.ss.getDocumentsMatchingQuery(sr,e,tr?nr:SnapshotVersion.min(),tr?ir:__PRIVATE_documentKeySet())).next(or=>(__PRIVATE_setMaxReadTime(rr,__PRIVATE_queryCollectionGroup(e),or),{documents:or,Ts:ir})))}function __PRIVATE_setMaxReadTime(er,e,tr){let rr=er.us.get(e)||SnapshotVersion.min();tr.forEach((nr,ir)=>{ir.readTime.compareTo(rr)>0&&(rr=ir.readTime)}),er.us.set(e,rr)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,tr,rr){}addLocalQueryTarget(e,tr=!0){return tr&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,tr,rr){this.oo[e]=tr}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,tr,rr){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me$1=null;function __PRIVATE_generateUniqueDebugId(){return me$1===null?me$1=function(){return 268435456+Math.round(2147483648*Math.random())}():me$1++,"0x"+me$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(tr){this.databaseInfo=tr,this.databaseId=tr.databaseId;const rr=tr.ssl?"https":"http",nr=encodeURIComponent(this.databaseId.projectId),ir=encodeURIComponent(this.databaseId.database);this.Do=rr+"://"+tr.host,this.vo=`projects/${nr}/databases/${ir}`,this.Co=this.databaseId.database==="(default)"?`project_id=${nr}`:`project_id=${nr}&database_id=${ir}`}get Fo(){return!1}Mo(tr,rr,nr,ir,sr){const or=__PRIVATE_generateUniqueDebugId(),ar=this.xo(tr,rr.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${tr}' ${or}:`,ar,nr);const lr={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(lr,ir,sr),this.No(tr,ar,lr,nr).then(cr=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${tr}' ${or}: `,cr),cr),cr=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${tr}' ${or} failed with error: `,cr,"url: ",ar,"request:",nr),cr})}Lo(tr,rr,nr,ir,sr,or){return this.Mo(tr,rr,nr,ir,sr)}Oo(tr,rr,nr){tr["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S$1}(),tr["Content-Type"]="text/plain",this.databaseInfo.appId&&(tr["X-Firebase-GMPID"]=this.databaseInfo.appId),rr&&rr.headers.forEach((ir,sr)=>tr[sr]=ir),nr&&nr.headers.forEach((ir,sr)=>tr[sr]=ir)}xo(tr,rr){const nr=fe$1[tr];return`${this.Do}/v1/${rr}:${nr}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,tr,rr,nr){const ir=__PRIVATE_generateUniqueDebugId();return new Promise((sr,or)=>{const ar=new XhrIo;ar.setWithCredentials(!0),ar.listenOnce(EventType.COMPLETE,()=>{try{switch(ar.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const cr=ar.getResponseJson();__PRIVATE_logDebug(ge$1,`XHR for RPC '${e}' ${ir} received:`,JSON.stringify(cr)),sr(cr);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(ge$1,`RPC '${e}' ${ir} timed out`),or(new FirestoreError(D$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const dr=ar.getStatus();if(__PRIVATE_logDebug(ge$1,`RPC '${e}' ${ir} failed with status:`,dr,"response text:",ar.getResponseText()),dr>0){let hr=ar.getResponseJson();Array.isArray(hr)&&(hr=hr[0]);const ur=hr==null?void 0:hr.error;if(ur&&ur.status&&ur.message){const pr=function(fr){const gr=fr.toLowerCase().replace(/_/g,"-");return Object.values(D$1).indexOf(gr)>=0?gr:D$1.UNKNOWN}(ur.status);or(new FirestoreError(pr,ur.message))}else or(new FirestoreError(D$1.UNKNOWN,"Server responded with status "+ar.getStatus()))}else or(new FirestoreError(D$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge$1,`RPC '${e}' ${ir} completed.`)}});const lr=JSON.stringify(nr);__PRIVATE_logDebug(ge$1,`RPC '${e}' ${ir} sending request:`,nr),ar.send(tr,"POST",lr,rr,15)})}Bo(e,tr,rr){const nr=__PRIVATE_generateUniqueDebugId(),ir=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],sr=createWebChannelTransport(),or=getStatEventTarget(),ar={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},lr=this.longPollingOptions.timeoutSeconds;lr!==void 0&&(ar.longPollingTimeout=Math.round(1e3*lr)),this.useFetchStreams&&(ar.useFetchStreams=!0),this.Oo(ar.initMessageHeaders,tr,rr),ar.encodeInitMessageHeaders=!0;const cr=ir.join("");__PRIVATE_logDebug(ge$1,`Creating RPC '${e}' stream ${nr}: ${cr}`,ar);const dr=sr.createWebChannel(cr,ar);let hr=!1,ur=!1;const pr=new __PRIVATE_StreamBridge({Io:fr=>{ur?__PRIVATE_logDebug(ge$1,`Not sending because RPC '${e}' stream ${nr} is closed:`,fr):(hr||(__PRIVATE_logDebug(ge$1,`Opening RPC '${e}' stream ${nr} transport.`),dr.open(),hr=!0),__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} sending:`,fr),dr.send(fr))},To:()=>dr.close()}),mr=(fr,gr,yr)=>{fr.listen(gr,vr=>{try{yr(vr)}catch(br){setTimeout(()=>{throw br},0)}})};return mr(dr,WebChannel.EventType.OPEN,()=>{ur||(__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} transport opened.`),pr.yo())}),mr(dr,WebChannel.EventType.CLOSE,()=>{ur||(ur=!0,__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} transport closed`),pr.So())}),mr(dr,WebChannel.EventType.ERROR,fr=>{ur||(ur=!0,__PRIVATE_logWarn(ge$1,`RPC '${e}' stream ${nr} transport errored:`,fr),pr.So(new FirestoreError(D$1.UNAVAILABLE,"The operation could not be completed")))}),mr(dr,WebChannel.EventType.MESSAGE,fr=>{var gr;if(!ur){const yr=fr.data[0];__PRIVATE_hardAssert(!!yr);const vr=yr,br=vr.error||((gr=vr[0])===null||gr===void 0?void 0:gr.error);if(br){__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} received error:`,br);const Sr=br.status;let jr=function(Rr){const Lr=le$1[Rr];if(Lr!==void 0)return __PRIVATE_mapCodeFromRpcCode(Lr)}(Sr),Cr=br.message;jr===void 0&&(jr=D$1.INTERNAL,Cr="Unknown error status: "+Sr+" with message "+br.message),ur=!0,pr.So(new FirestoreError(jr,Cr)),dr.close()}else __PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} received:`,yr),pr.bo(yr)}}),mr(or,Event$1.STAT_EVENT,fr=>{fr.stat===Stat.PROXY?__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} detected buffering proxy`):fr.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge$1,`RPC '${e}' stream ${nr} detected no buffering proxy`)}),setTimeout(()=>{pr.wo()},0),pr}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(er){return new JsonProtoSerializer(er,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,tr,rr=1e3,nr=1.5,ir=6e4){this.ui=e,this.timerId=tr,this.ko=rr,this.qo=nr,this.Qo=ir,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const tr=Math.floor(this.Ko+this.zo()),rr=Math.max(0,Date.now()-this.Uo),nr=Math.max(0,tr-rr);nr>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${nr} ms (base delay: ${this.Ko} ms, delay with jitter: ${tr} ms, last attempt: ${rr} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,nr,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,tr,rr,nr,ir,sr,or,ar){this.ui=e,this.Ho=rr,this.Jo=nr,this.connection=ir,this.authCredentialsProvider=sr,this.appCheckCredentialsProvider=or,this.listener=ar,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,tr)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,tr){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():tr&&tr.code===D$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(tr.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):tr&&tr.code===D$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(tr)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),tr=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([rr,nr])=>{this.Yo===tr&&this.P_(rr,nr)},rr=>{e(()=>{const nr=new FirestoreError(D$1.UNKNOWN,"Fetching auth token failed: "+rr.message);return this.I_(nr)})})}P_(e,tr){const rr=this.h_(this.Yo);this.stream=this.T_(e,tr),this.stream.Eo(()=>{rr(()=>this.listener.Eo())}),this.stream.Ro(()=>{rr(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(nr=>{rr(()=>this.I_(nr))}),this.stream.onMessage(nr=>{rr(()=>++this.e_==1?this.E_(nr):this.onNext(nr))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return tr=>{this.ui.enqueueAndForget(()=>this.Yo===e?tr():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,tr,rr,nr,ir,sr){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",tr,rr,nr,sr),this.serializer=ir}T_(e,tr){return this.connection.Bo("Listen",e,tr)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const tr=__PRIVATE_fromWatchChange(this.serializer,e),rr=function(ir){if(!("targetChange"in ir))return SnapshotVersion.min();const sr=ir.targetChange;return sr.targetIds&&sr.targetIds.length?SnapshotVersion.min():sr.readTime?__PRIVATE_fromVersion(sr.readTime):SnapshotVersion.min()}(e);return this.listener.d_(tr,rr)}A_(e){const tr={};tr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),tr.addTarget=function(ir,sr){let or;const ar=sr.target;if(or=__PRIVATE_targetIsDocumentTarget(ar)?{documents:__PRIVATE_toDocumentsTarget(ir,ar)}:{query:__PRIVATE_toQueryTarget(ir,ar)._t},or.targetId=sr.targetId,sr.resumeToken.approximateByteSize()>0){or.resumeToken=__PRIVATE_toBytes(ir,sr.resumeToken);const lr=__PRIVATE_toInt32Proto(ir,sr.expectedCount);lr!==null&&(or.expectedCount=lr)}else if(sr.snapshotVersion.compareTo(SnapshotVersion.min())>0){or.readTime=toTimestamp(ir,sr.snapshotVersion.toTimestamp());const lr=__PRIVATE_toInt32Proto(ir,sr.expectedCount);lr!==null&&(or.expectedCount=lr)}return or}(this.serializer,e);const rr=__PRIVATE_toListenRequestLabels(this.serializer,e);rr&&(tr.labels=rr),this.a_(tr)}R_(e){const tr={};tr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),tr.removeTarget=e,this.a_(tr)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,tr,rr,nr,ir,sr){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",tr,rr,nr,sr),this.serializer=ir}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,tr){return this.connection.Bo("Write",e,tr)}E_(e){return __PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const tr=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),rr=__PRIVATE_fromVersion(e.commitTime);return this.listener.g_(rr,tr)}p_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(e)}m_(e){const tr={streamToken:this.lastStreamToken,writes:e.map(rr=>toMutation(this.serializer,rr))};this.a_(tr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,tr,rr,nr){super(),this.authCredentials=e,this.appCheckCredentials=tr,this.connection=rr,this.serializer=nr,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,tr,rr,nr){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ir,sr])=>this.connection.Mo(e,__PRIVATE_toResourcePath(tr,rr),nr,ir,sr)).catch(ir=>{throw ir.name==="FirebaseError"?(ir.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ir):new FirestoreError(D$1.UNKNOWN,ir.toString())})}Lo(e,tr,rr,nr,ir){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([sr,or])=>this.connection.Lo(e,__PRIVATE_toResourcePath(tr,rr),nr,sr,or,ir)).catch(sr=>{throw sr.name==="FirebaseError"?(sr.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),sr):new FirestoreError(D$1.UNKNOWN,sr.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,tr){this.asyncQueue=e,this.onlineStateHandler=tr,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const tr=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(tr),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",tr)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,tr,rr,nr,ir){this.localStore=e,this.datastore=tr,this.asyncQueue=rr,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=ir,this.k_._o(sr=>{rr.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(ar){const lr=__PRIVATE_debugCast(ar);lr.L_.add(4),await __PRIVATE_disableNetworkInternal(lr),lr.q_.set("Unknown"),lr.L_.delete(4),await __PRIVATE_enableNetworkInternal(lr)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(rr,nr)}}async function __PRIVATE_enableNetworkInternal(er){if(__PRIVATE_canUseNetwork(er))for(const e of er.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(er){for(const e of er.B_)await e(!1)}function __PRIVATE_remoteStoreListen(er,e){const tr=__PRIVATE_debugCast(er);tr.N_.has(e.targetId)||(tr.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(tr)?__PRIVATE_startWatchStream(tr):__PRIVATE_ensureWatchStream(tr).r_()&&__PRIVATE_sendWatchRequest(tr,e))}function __PRIVATE_remoteStoreUnlisten(er,e){const tr=__PRIVATE_debugCast(er),rr=__PRIVATE_ensureWatchStream(tr);tr.N_.delete(e),rr.r_()&&__PRIVATE_sendUnwatchRequest(tr,e),tr.N_.size===0&&(rr.r_()?rr.o_():__PRIVATE_canUseNetwork(tr)&&tr.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(er,e){if(er.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const tr=er.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(tr)}__PRIVATE_ensureWatchStream(er).A_(e)}function __PRIVATE_sendUnwatchRequest(er,e){er.Q_.xe(e),__PRIVATE_ensureWatchStream(er).R_(e)}function __PRIVATE_startWatchStream(er){er.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>er.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>er.N_.get(e)||null,tt:()=>er.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(er).start(),er.q_.v_()}function __PRIVATE_shouldStartWatchStream(er){return __PRIVATE_canUseNetwork(er)&&!__PRIVATE_ensureWatchStream(er).n_()&&er.N_.size>0}function __PRIVATE_canUseNetwork(er){return __PRIVATE_debugCast(er).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(er){er.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(er){er.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(er){er.N_.forEach((e,tr)=>{__PRIVATE_sendWatchRequest(er,e)})}async function __PRIVATE_onWatchStreamClose(er,e){__PRIVATE_cleanUpWatchStreamState(er),__PRIVATE_shouldStartWatchStream(er)?(er.q_.M_(e),__PRIVATE_startWatchStream(er)):er.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(er,e,tr){if(er.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(nr,ir){const sr=ir.cause;for(const or of ir.targetIds)nr.N_.has(or)&&(await nr.remoteSyncer.rejectListen(or,sr),nr.N_.delete(or),nr.Q_.removeTarget(or))}(er,e)}catch(rr){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),rr),await __PRIVATE_disableNetworkUntilRecovery(er,rr)}else if(e instanceof __PRIVATE_DocumentWatchChange?er.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?er.Q_.He(e):er.Q_.We(e),!tr.isEqual(SnapshotVersion.min()))try{const rr=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(er.localStore);tr.compareTo(rr)>=0&&await function(ir,sr){const or=ir.Q_.rt(sr);return or.targetChanges.forEach((ar,lr)=>{if(ar.resumeToken.approximateByteSize()>0){const cr=ir.N_.get(lr);cr&&ir.N_.set(lr,cr.withResumeToken(ar.resumeToken,sr))}}),or.targetMismatches.forEach((ar,lr)=>{const cr=ir.N_.get(ar);if(!cr)return;ir.N_.set(ar,cr.withResumeToken(ByteString.EMPTY_BYTE_STRING,cr.snapshotVersion)),__PRIVATE_sendUnwatchRequest(ir,ar);const dr=new TargetData(cr.target,ar,lr,cr.sequenceNumber);__PRIVATE_sendWatchRequest(ir,dr)}),ir.remoteSyncer.applyRemoteEvent(or)}(er,tr)}catch(rr){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",rr),await __PRIVATE_disableNetworkUntilRecovery(er,rr)}}async function __PRIVATE_disableNetworkUntilRecovery(er,e,tr){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;er.L_.add(1),await __PRIVATE_disableNetworkInternal(er),er.q_.set("Offline"),tr||(tr=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(er.localStore)),er.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await tr(),er.L_.delete(1),await __PRIVATE_enableNetworkInternal(er)})}function __PRIVATE_executeWithRecovery(er,e){return e().catch(tr=>__PRIVATE_disableNetworkUntilRecovery(er,tr,e))}async function __PRIVATE_fillWritePipeline(er){const e=__PRIVATE_debugCast(er),tr=__PRIVATE_ensureWriteStream(e);let rr=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const nr=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,rr);if(nr===null){e.O_.length===0&&tr.o_();break}rr=nr.batchId,__PRIVATE_addToWritePipeline(e,nr)}catch(nr){await __PRIVATE_disableNetworkUntilRecovery(e,nr)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(er){return __PRIVATE_canUseNetwork(er)&&er.O_.length<10}function __PRIVATE_addToWritePipeline(er,e){er.O_.push(e);const tr=__PRIVATE_ensureWriteStream(er);tr.r_()&&tr.V_&&tr.m_(e.mutations)}function __PRIVATE_shouldStartWriteStream(er){return __PRIVATE_canUseNetwork(er)&&!__PRIVATE_ensureWriteStream(er).n_()&&er.O_.length>0}function __PRIVATE_startWriteStream(er){__PRIVATE_ensureWriteStream(er).start()}async function __PRIVATE_onWriteStreamOpen(er){__PRIVATE_ensureWriteStream(er).p_()}async function __PRIVATE_onWriteHandshakeComplete(er){const e=__PRIVATE_ensureWriteStream(er);for(const tr of er.O_)e.m_(tr.mutations)}async function __PRIVATE_onMutationResult(er,e,tr){const rr=er.O_.shift(),nr=MutationBatchResult.from(rr,e,tr);await __PRIVATE_executeWithRecovery(er,()=>er.remoteSyncer.applySuccessfulWrite(nr)),await __PRIVATE_fillWritePipeline(er)}async function __PRIVATE_onWriteStreamClose(er,e){e&&__PRIVATE_ensureWriteStream(er).V_&&await async function(rr,nr){if(function(sr){return __PRIVATE_isPermanentError(sr)&&sr!==D$1.ABORTED}(nr.code)){const ir=rr.O_.shift();__PRIVATE_ensureWriteStream(rr).s_(),await __PRIVATE_executeWithRecovery(rr,()=>rr.remoteSyncer.rejectFailedWrite(ir.batchId,nr)),await __PRIVATE_fillWritePipeline(rr)}}(er,e),__PRIVATE_shouldStartWriteStream(er)&&__PRIVATE_startWriteStream(er)}async function __PRIVATE_remoteStoreHandleCredentialChange(er,e){const tr=__PRIVATE_debugCast(er);tr.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const rr=__PRIVATE_canUseNetwork(tr);tr.L_.add(3),await __PRIVATE_disableNetworkInternal(tr),rr&&tr.q_.set("Unknown"),await tr.remoteSyncer.handleCredentialChange(e),tr.L_.delete(3),await __PRIVATE_enableNetworkInternal(tr)}async function __PRIVATE_remoteStoreApplyPrimaryState(er,e){const tr=__PRIVATE_debugCast(er);e?(tr.L_.delete(2),await __PRIVATE_enableNetworkInternal(tr)):e||(tr.L_.add(2),await __PRIVATE_disableNetworkInternal(tr),tr.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(er){return er.K_||(er.K_=function(tr,rr,nr){const ir=__PRIVATE_debugCast(tr);return ir.w_(),new __PRIVATE_PersistentListenStream(rr,ir.connection,ir.authCredentials,ir.appCheckCredentials,ir.serializer,nr)}(er.datastore,er.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,er),Ro:__PRIVATE_onWatchStreamOpen.bind(null,er),mo:__PRIVATE_onWatchStreamClose.bind(null,er),d_:__PRIVATE_onWatchStreamChange.bind(null,er)}),er.B_.push(async e=>{e?(er.K_.s_(),__PRIVATE_shouldStartWatchStream(er)?__PRIVATE_startWatchStream(er):er.q_.set("Unknown")):(await er.K_.stop(),__PRIVATE_cleanUpWatchStreamState(er))})),er.K_}function __PRIVATE_ensureWriteStream(er){return er.U_||(er.U_=function(tr,rr,nr){const ir=__PRIVATE_debugCast(tr);return ir.w_(),new __PRIVATE_PersistentWriteStream(rr,ir.connection,ir.authCredentials,ir.appCheckCredentials,ir.serializer,nr)}(er.datastore,er.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,er),mo:__PRIVATE_onWriteStreamClose.bind(null,er),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,er),g_:__PRIVATE_onMutationResult.bind(null,er)}),er.B_.push(async e=>{e?(er.U_.s_(),await __PRIVATE_fillWritePipeline(er)):(await er.U_.stop(),er.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${er.O_.length} pending writes`),er.O_=[]))})),er.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,tr,rr,nr,ir){this.asyncQueue=e,this.timerId=tr,this.targetTimeMs=rr,this.op=nr,this.removalCallback=ir,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(sr=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,tr,rr,nr,ir){const sr=Date.now()+rr,or=new DelayedOperation(e,tr,sr,nr,ir);return or.start(rr),or}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D$1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(er,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${er}`),__PRIVATE_isIndexedDbTransactionError(er))return new FirestoreError(D$1.UNAVAILABLE,`${e}: ${er}`);throw er}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(tr,rr)=>e(tr,rr)||DocumentKey.comparator(tr.key,rr.key):(tr,rr)=>DocumentKey.comparator(tr.key,rr.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const tr=this.keyedMap.get(e);return tr?this.sortedSet.indexOf(tr):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((tr,rr)=>(e(tr),!1))}add(e){const tr=this.delete(e.key);return tr.copy(tr.keyedMap.insert(e.key,e),tr.sortedSet.insert(e,null))}delete(e){const tr=this.get(e);return tr?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(tr)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const tr=this.sortedSet.getIterator(),rr=e.sortedSet.getIterator();for(;tr.hasNext();){const nr=tr.getNext().key,ir=rr.getNext().key;if(!nr.isEqual(ir))return!1}return!0}toString(){const e=[];return this.forEach(tr=>{e.push(tr.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,tr){const rr=new DocumentSet;return rr.comparator=this.comparator,rr.keyedMap=e,rr.sortedSet=tr,rr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const tr=e.doc.key,rr=this.W_.get(tr);rr?e.type!==0&&rr.type===3?this.W_=this.W_.insert(tr,e):e.type===3&&rr.type!==1?this.W_=this.W_.insert(tr,{type:rr.type,doc:e.doc}):e.type===2&&rr.type===2?this.W_=this.W_.insert(tr,{type:2,doc:e.doc}):e.type===2&&rr.type===0?this.W_=this.W_.insert(tr,{type:0,doc:e.doc}):e.type===1&&rr.type===0?this.W_=this.W_.remove(tr):e.type===1&&rr.type===2?this.W_=this.W_.insert(tr,{type:1,doc:rr.doc}):e.type===0&&rr.type===1?this.W_=this.W_.insert(tr,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(tr,e)}G_(){const e=[];return this.W_.inorderTraversal((tr,rr)=>{e.push(rr)}),e}}class ViewSnapshot{constructor(e,tr,rr,nr,ir,sr,or,ar,lr){this.query=e,this.docs=tr,this.oldDocs=rr,this.docChanges=nr,this.mutatedKeys=ir,this.fromCache=sr,this.syncStateChanged=or,this.excludesMetadataChanges=ar,this.hasCachedResults=lr}static fromInitialDocuments(e,tr,rr,nr,ir){const sr=[];return tr.forEach(or=>{sr.push({type:0,doc:or})}),new ViewSnapshot(e,tr,DocumentSet.emptySet(tr),sr,rr,nr,!0,!1,ir)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const tr=this.docChanges,rr=e.docChanges;if(tr.length!==rr.length)return!1;for(let nr=0;nr<tr.length;nr++)if(tr[nr].type!==rr[nr].type||!tr[nr].doc.isEqual(rr[nr].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(tr,rr){const nr=__PRIVATE_debugCast(tr),ir=nr.queries;nr.queries=__PRIVATE_newQueriesObjectMap(),ir.forEach((sr,or)=>{for(const ar of or.j_)ar.onError(rr)})})(this,new FirestoreError(D$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(er=>__PRIVATE_canonifyQuery(er),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(er,e){const tr=__PRIVATE_debugCast(er);let rr=3;const nr=e.query;let ir=tr.queries.get(nr);ir?!ir.H_()&&e.J_()&&(rr=2):(ir=new __PRIVATE_QueryListenersInfo,rr=e.J_()?0:1);try{switch(rr){case 0:ir.z_=await tr.onListen(nr,!0);break;case 1:ir.z_=await tr.onListen(nr,!1);break;case 2:await tr.onFirstRemoteStoreListen(nr)}}catch(sr){const or=__PRIVATE_wrapInUserErrorIfRecoverable(sr,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(or)}tr.queries.set(nr,ir),ir.j_.push(e),e.Z_(tr.onlineState),ir.z_&&e.X_(ir.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(tr)}async function __PRIVATE_eventManagerUnlisten(er,e){const tr=__PRIVATE_debugCast(er),rr=e.query;let nr=3;const ir=tr.queries.get(rr);if(ir){const sr=ir.j_.indexOf(e);sr>=0&&(ir.j_.splice(sr,1),ir.j_.length===0?nr=e.J_()?0:1:!ir.H_()&&e.J_()&&(nr=2))}switch(nr){case 0:return tr.queries.delete(rr),tr.onUnlisten(rr,!0);case 1:return tr.queries.delete(rr),tr.onUnlisten(rr,!1);case 2:return tr.onLastRemoteStoreUnlisten(rr);default:return}}function __PRIVATE_eventManagerOnWatchChange(er,e){const tr=__PRIVATE_debugCast(er);let rr=!1;for(const nr of e){const ir=nr.query,sr=tr.queries.get(ir);if(sr){for(const or of sr.j_)or.X_(nr)&&(rr=!0);sr.z_=nr}}rr&&__PRIVATE_raiseSnapshotsInSyncEvent(tr)}function __PRIVATE_eventManagerOnWatchError(er,e,tr){const rr=__PRIVATE_debugCast(er),nr=rr.queries.get(e);if(nr)for(const ir of nr.j_)ir.onError(tr);rr.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(er){er.Y_.forEach(e=>{e.next()})}var pe$1,ye$1;(ye$1=pe$1||(pe$1={})).ea="default",ye$1.Cache="cache";class __PRIVATE_QueryListener{constructor(e,tr,rr){this.query=e,this.ta=tr,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=rr||{}}X_(e){if(!this.options.includeMetadataChanges){const rr=[];for(const nr of e.docChanges)nr.type!==3&&rr.push(nr);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,rr,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let tr=!1;return this.na?this.ia(e)&&(this.ta.next(e),tr=!0):this.sa(e,this.onlineState)&&(this.oa(e),tr=!0),this.ra=e,tr}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let tr=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),tr=!0),tr}sa(e,tr){if(!e.fromCache||!this.J_())return!0;const rr=tr!=="Offline";return(!this.options._a||!rr)&&(!e.docs.isEmpty()||e.hasCachedResults||tr==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const tr=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!tr)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,tr){this.query=e,this.Ta=tr,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,tr){const rr=tr?tr.fa:new __PRIVATE_DocumentChangeSet,nr=tr?tr.Ra:this.Ra;let ir=tr?tr.mutatedKeys:this.mutatedKeys,sr=nr,or=!1;const ar=this.query.limitType==="F"&&nr.size===this.query.limit?nr.last():null,lr=this.query.limitType==="L"&&nr.size===this.query.limit?nr.first():null;if(e.inorderTraversal((cr,dr)=>{const hr=nr.get(cr),ur=__PRIVATE_queryMatches(this.query,dr)?dr:null,pr=!!hr&&this.mutatedKeys.has(hr.key),mr=!!ur&&(ur.hasLocalMutations||this.mutatedKeys.has(ur.key)&&ur.hasCommittedMutations);let fr=!1;hr&&ur?hr.data.isEqual(ur.data)?pr!==mr&&(rr.track({type:3,doc:ur}),fr=!0):this.ga(hr,ur)||(rr.track({type:2,doc:ur}),fr=!0,(ar&&this.Aa(ur,ar)>0||lr&&this.Aa(ur,lr)<0)&&(or=!0)):!hr&&ur?(rr.track({type:0,doc:ur}),fr=!0):hr&&!ur&&(rr.track({type:1,doc:hr}),fr=!0,(ar||lr)&&(or=!0)),fr&&(ur?(sr=sr.add(ur),ir=mr?ir.add(cr):ir.delete(cr)):(sr=sr.delete(cr),ir=ir.delete(cr)))}),this.query.limit!==null)for(;sr.size>this.query.limit;){const cr=this.query.limitType==="F"?sr.last():sr.first();sr=sr.delete(cr.key),ir=ir.delete(cr.key),rr.track({type:1,doc:cr})}return{Ra:sr,fa:rr,ns:or,mutatedKeys:ir}}ga(e,tr){return e.hasLocalMutations&&tr.hasCommittedMutations&&!tr.hasLocalMutations}applyChanges(e,tr,rr,nr){const ir=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const sr=e.fa.G_();sr.sort((cr,dr)=>function(ur,pr){const mr=fr=>{switch(fr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return mr(ur)-mr(pr)}(cr.type,dr.type)||this.Aa(cr.doc,dr.doc)),this.pa(rr),nr=nr!=null&&nr;const or=tr&&!nr?this.ya():[],ar=this.da.size===0&&this.current&&!nr?1:0,lr=ar!==this.Ea;return this.Ea=ar,sr.length!==0||lr?{snapshot:new ViewSnapshot(this.query,e.Ra,ir,sr,e.mutatedKeys,ar===0,lr,!1,!!rr&&rr.resumeToken.approximateByteSize()>0),wa:or}:{wa:or}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(tr=>this.Ta=this.Ta.add(tr)),e.modifiedDocuments.forEach(tr=>{}),e.removedDocuments.forEach(tr=>this.Ta=this.Ta.delete(tr)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(rr=>{this.Sa(rr.key)&&(this.da=this.da.add(rr.key))});const tr=[];return e.forEach(rr=>{this.da.has(rr)||tr.push(new __PRIVATE_RemovedLimboDocument(rr))}),this.da.forEach(rr=>{e.has(rr)||tr.push(new __PRIVATE_AddedLimboDocument(rr))}),tr}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const tr=this.ma(e.documents);return this.applyChanges(tr,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,tr,rr){this.query=e,this.targetId=tr,this.view=rr}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,tr,rr,nr,ir,sr){this.localStore=e,this.remoteStore=tr,this.eventManager=rr,this.sharedClientState=nr,this.currentUser=ir,this.maxConcurrentLimboResolutions=sr,this.Ca={},this.Fa=new ObjectMap(or=>__PRIVATE_canonifyQuery(or),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(er,e,tr=!0){const rr=__PRIVATE_ensureWatchCallbacks(er);let nr;const ir=rr.Fa.get(e);return ir?(rr.sharedClientState.addLocalQueryTarget(ir.targetId),nr=ir.view.Da()):nr=await __PRIVATE_allocateTargetAndMaybeListen(rr,e,tr,!0),nr}async function __PRIVATE_triggerRemoteStoreListen(er,e){const tr=__PRIVATE_ensureWatchCallbacks(er);await __PRIVATE_allocateTargetAndMaybeListen(tr,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(er,e,tr,rr){const nr=await __PRIVATE_localStoreAllocateTarget(er.localStore,__PRIVATE_queryToTarget(e)),ir=nr.targetId,sr=er.sharedClientState.addLocalQueryTarget(ir,tr);let or;return rr&&(or=await __PRIVATE_initializeViewAndComputeSnapshot(er,e,ir,sr==="current",nr.resumeToken)),er.isPrimaryClient&&tr&&__PRIVATE_remoteStoreListen(er.remoteStore,nr),or}async function __PRIVATE_initializeViewAndComputeSnapshot(er,e,tr,rr,nr){er.Ka=(dr,hr,ur)=>async function(mr,fr,gr,yr){let vr=fr.view.ma(gr);vr.ns&&(vr=await __PRIVATE_localStoreExecuteQuery(mr.localStore,fr.query,!1).then(({documents:Cr})=>fr.view.ma(Cr,vr)));const br=yr&&yr.targetChanges.get(fr.targetId),Sr=yr&&yr.targetMismatches.get(fr.targetId)!=null,jr=fr.view.applyChanges(vr,mr.isPrimaryClient,br,Sr);return __PRIVATE_updateTrackedLimbos(mr,fr.targetId,jr.wa),jr.snapshot}(er,dr,hr,ur);const ir=await __PRIVATE_localStoreExecuteQuery(er.localStore,e,!0),sr=new __PRIVATE_View(e,ir.Ts),or=sr.ma(ir.documents),ar=TargetChange.createSynthesizedTargetChangeForCurrentChange(tr,rr&&er.onlineState!=="Offline",nr),lr=sr.applyChanges(or,er.isPrimaryClient,ar);__PRIVATE_updateTrackedLimbos(er,tr,lr.wa);const cr=new __PRIVATE_QueryView(e,tr,sr);return er.Fa.set(e,cr),er.Ma.has(tr)?er.Ma.get(tr).push(e):er.Ma.set(tr,[e]),lr.snapshot}async function __PRIVATE_syncEngineUnlisten(er,e,tr){const rr=__PRIVATE_debugCast(er),nr=rr.Fa.get(e),ir=rr.Ma.get(nr.targetId);if(ir.length>1)return rr.Ma.set(nr.targetId,ir.filter(sr=>!__PRIVATE_queryEquals(sr,e))),void rr.Fa.delete(e);rr.isPrimaryClient?(rr.sharedClientState.removeLocalQueryTarget(nr.targetId),rr.sharedClientState.isActiveQueryTarget(nr.targetId)||await __PRIVATE_localStoreReleaseTarget(rr.localStore,nr.targetId,!1).then(()=>{rr.sharedClientState.clearQueryState(nr.targetId),tr&&__PRIVATE_remoteStoreUnlisten(rr.remoteStore,nr.targetId),__PRIVATE_removeAndCleanupTarget(rr,nr.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(rr,nr.targetId),await __PRIVATE_localStoreReleaseTarget(rr.localStore,nr.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(er,e){const tr=__PRIVATE_debugCast(er),rr=tr.Fa.get(e),nr=tr.Ma.get(rr.targetId);tr.isPrimaryClient&&nr.length===1&&(tr.sharedClientState.removeLocalQueryTarget(rr.targetId),__PRIVATE_remoteStoreUnlisten(tr.remoteStore,rr.targetId))}async function __PRIVATE_syncEngineWrite(er,e,tr){const rr=__PRIVATE_syncEngineEnsureWriteCallbacks(er);try{const nr=await function(sr,or){const ar=__PRIVATE_debugCast(sr),lr=Timestamp.now(),cr=or.reduce((ur,pr)=>ur.add(pr.key),__PRIVATE_documentKeySet());let dr,hr;return ar.persistence.runTransaction("Locally write mutations","readwrite",ur=>{let pr=__PRIVATE_mutableDocumentMap(),mr=__PRIVATE_documentKeySet();return ar.cs.getEntries(ur,cr).next(fr=>{pr=fr,pr.forEach((gr,yr)=>{yr.isValidDocument()||(mr=mr.add(gr))})}).next(()=>ar.localDocuments.getOverlayedDocuments(ur,pr)).next(fr=>{dr=fr;const gr=[];for(const yr of or){const vr=__PRIVATE_mutationExtractBaseValue(yr,dr.get(yr.key).overlayedDocument);vr!=null&&gr.push(new __PRIVATE_PatchMutation(yr.key,vr,__PRIVATE_extractFieldMask(vr.value.mapValue),Precondition.exists(!0)))}return ar.mutationQueue.addMutationBatch(ur,lr,gr,or)}).next(fr=>{hr=fr;const gr=fr.applyToLocalDocumentSet(dr,mr);return ar.documentOverlayCache.saveOverlays(ur,fr.batchId,gr)})}).then(()=>({batchId:hr.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(dr)}))}(rr.localStore,e);rr.sharedClientState.addPendingMutation(nr.batchId),function(sr,or,ar){let lr=sr.Ba[sr.currentUser.toKey()];lr||(lr=new SortedMap(__PRIVATE_primitiveComparator)),lr=lr.insert(or,ar),sr.Ba[sr.currentUser.toKey()]=lr}(rr,nr.batchId,tr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,nr.changes),await __PRIVATE_fillWritePipeline(rr.remoteStore)}catch(nr){const ir=__PRIVATE_wrapInUserErrorIfRecoverable(nr,"Failed to persist write");tr.reject(ir)}}async function __PRIVATE_syncEngineApplyRemoteEvent(er,e){const tr=__PRIVATE_debugCast(er);try{const rr=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(tr.localStore,e);e.targetChanges.forEach((nr,ir)=>{const sr=tr.Na.get(ir);sr&&(__PRIVATE_hardAssert(nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size<=1),nr.addedDocuments.size>0?sr.va=!0:nr.modifiedDocuments.size>0?__PRIVATE_hardAssert(sr.va):nr.removedDocuments.size>0&&(__PRIVATE_hardAssert(sr.va),sr.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,rr,e)}catch(rr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(rr)}}function __PRIVATE_syncEngineApplyOnlineStateChange(er,e,tr){const rr=__PRIVATE_debugCast(er);if(rr.isPrimaryClient&&tr===0||!rr.isPrimaryClient&&tr===1){const nr=[];rr.Fa.forEach((ir,sr)=>{const or=sr.view.Z_(e);or.snapshot&&nr.push(or.snapshot)}),function(sr,or){const ar=__PRIVATE_debugCast(sr);ar.onlineState=or;let lr=!1;ar.queries.forEach((cr,dr)=>{for(const hr of dr.j_)hr.Z_(or)&&(lr=!0)}),lr&&__PRIVATE_raiseSnapshotsInSyncEvent(ar)}(rr.eventManager,e),nr.length&&rr.Ca.d_(nr),rr.onlineState=e,rr.isPrimaryClient&&rr.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(er,e,tr){const rr=__PRIVATE_debugCast(er);rr.sharedClientState.updateQueryState(e,"rejected",tr);const nr=rr.Na.get(e),ir=nr&&nr.key;if(ir){let sr=new SortedMap(DocumentKey.comparator);sr=sr.insert(ir,MutableDocument.newNoDocument(ir,SnapshotVersion.min()));const or=__PRIVATE_documentKeySet().add(ir),ar=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),sr,or);await __PRIVATE_syncEngineApplyRemoteEvent(rr,ar),rr.Oa=rr.Oa.remove(ir),rr.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(rr)}else await __PRIVATE_localStoreReleaseTarget(rr.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(rr,e,tr)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(er,e){const tr=__PRIVATE_debugCast(er),rr=e.batch.batchId;try{const nr=await __PRIVATE_localStoreAcknowledgeBatch(tr.localStore,e);__PRIVATE_processUserCallback(tr,rr,null),__PRIVATE_triggerPendingWritesCallbacks(tr,rr),tr.sharedClientState.updateMutationState(rr,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,nr)}catch(nr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nr)}}async function __PRIVATE_syncEngineRejectFailedWrite(er,e,tr){const rr=__PRIVATE_debugCast(er);try{const nr=await function(sr,or){const ar=__PRIVATE_debugCast(sr);return ar.persistence.runTransaction("Reject batch","readwrite-primary",lr=>{let cr;return ar.mutationQueue.lookupMutationBatch(lr,or).next(dr=>(__PRIVATE_hardAssert(dr!==null),cr=dr.keys(),ar.mutationQueue.removeMutationBatch(lr,dr))).next(()=>ar.mutationQueue.performConsistencyCheck(lr)).next(()=>ar.documentOverlayCache.removeOverlaysForBatchId(lr,cr,or)).next(()=>ar.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(lr,cr)).next(()=>ar.localDocuments.getDocuments(lr,cr))})}(rr.localStore,e);__PRIVATE_processUserCallback(rr,e,tr),__PRIVATE_triggerPendingWritesCallbacks(rr,e),rr.sharedClientState.updateMutationState(e,"rejected",tr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,nr)}catch(nr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nr)}}function __PRIVATE_triggerPendingWritesCallbacks(er,e){(er.ka.get(e)||[]).forEach(tr=>{tr.resolve()}),er.ka.delete(e)}function __PRIVATE_processUserCallback(er,e,tr){const rr=__PRIVATE_debugCast(er);let nr=rr.Ba[rr.currentUser.toKey()];if(nr){const ir=nr.get(e);ir&&(tr?ir.reject(tr):ir.resolve(),nr=nr.remove(e)),rr.Ba[rr.currentUser.toKey()]=nr}}function __PRIVATE_removeAndCleanupTarget(er,e,tr=null){er.sharedClientState.removeLocalQueryTarget(e);for(const rr of er.Ma.get(e))er.Fa.delete(rr),tr&&er.Ca.$a(rr,tr);er.Ma.delete(e),er.isPrimaryClient&&er.La.gr(e).forEach(rr=>{er.La.containsKey(rr)||__PRIVATE_removeLimboTarget(er,rr)})}function __PRIVATE_removeLimboTarget(er,e){er.xa.delete(e.path.canonicalString());const tr=er.Oa.get(e);tr!==null&&(__PRIVATE_remoteStoreUnlisten(er.remoteStore,tr),er.Oa=er.Oa.remove(e),er.Na.delete(tr),__PRIVATE_pumpEnqueuedLimboResolutions(er))}function __PRIVATE_updateTrackedLimbos(er,e,tr){for(const rr of tr)rr instanceof __PRIVATE_AddedLimboDocument?(er.La.addReference(rr.key,e),__PRIVATE_trackLimboChange(er,rr)):rr instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+rr.key),er.La.removeReference(rr.key,e),er.La.containsKey(rr.key)||__PRIVATE_removeLimboTarget(er,rr.key)):fail()}function __PRIVATE_trackLimboChange(er,e){const tr=e.key,rr=tr.path.canonicalString();er.Oa.get(tr)||er.xa.has(rr)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+tr),er.xa.add(rr),__PRIVATE_pumpEnqueuedLimboResolutions(er))}function __PRIVATE_pumpEnqueuedLimboResolutions(er){for(;er.xa.size>0&&er.Oa.size<er.maxConcurrentLimboResolutions;){const e=er.xa.values().next().value;er.xa.delete(e);const tr=new DocumentKey(ResourcePath.fromString(e)),rr=er.qa.next();er.Na.set(rr,new LimboResolution(tr)),er.Oa=er.Oa.insert(tr,rr),__PRIVATE_remoteStoreListen(er.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(tr.path)),rr,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(er,e,tr){const rr=__PRIVATE_debugCast(er),nr=[],ir=[],sr=[];rr.Fa.isEmpty()||(rr.Fa.forEach((or,ar)=>{sr.push(rr.Ka(ar,e,tr).then(lr=>{var cr;if((lr||tr)&&rr.isPrimaryClient){const dr=lr?!lr.fromCache:(cr=tr==null?void 0:tr.targetChanges.get(ar.targetId))===null||cr===void 0?void 0:cr.current;rr.sharedClientState.updateQueryState(ar.targetId,dr?"current":"not-current")}if(lr){nr.push(lr);const dr=__PRIVATE_LocalViewChanges.Wi(ar.targetId,lr);ir.push(dr)}}))}),await Promise.all(sr),rr.Ca.d_(nr),await async function(ar,lr){const cr=__PRIVATE_debugCast(ar);try{await cr.persistence.runTransaction("notifyLocalViewChanges","readwrite",dr=>PersistencePromise.forEach(lr,hr=>PersistencePromise.forEach(hr.$i,ur=>cr.persistence.referenceDelegate.addReference(dr,hr.targetId,ur)).next(()=>PersistencePromise.forEach(hr.Ui,ur=>cr.persistence.referenceDelegate.removeReference(dr,hr.targetId,ur)))))}catch(dr){if(!__PRIVATE_isIndexedDbTransactionError(dr))throw dr;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+dr)}for(const dr of lr){const hr=dr.targetId;if(!dr.fromCache){const ur=cr.os.get(hr),pr=ur.snapshotVersion,mr=ur.withLastLimboFreeSnapshotVersion(pr);cr.os=cr.os.insert(hr,mr)}}}(rr.localStore,ir))}async function __PRIVATE_syncEngineHandleCredentialChange(er,e){const tr=__PRIVATE_debugCast(er);if(!tr.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const rr=await __PRIVATE_localStoreHandleUserChange(tr.localStore,e);tr.currentUser=e,function(ir,sr){ir.ka.forEach(or=>{or.forEach(ar=>{ar.reject(new FirestoreError(D$1.CANCELLED,sr))})}),ir.ka.clear()}(tr,"'waitForPendingWrites' promise is rejected due to a user change."),tr.sharedClientState.handleUserChange(e,rr.removedBatchIds,rr.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,rr.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(er,e){const tr=__PRIVATE_debugCast(er),rr=tr.Na.get(e);if(rr&&rr.va)return __PRIVATE_documentKeySet().add(rr.key);{let nr=__PRIVATE_documentKeySet();const ir=tr.Ma.get(e);if(!ir)return nr;for(const sr of ir){const or=tr.Fa.get(sr);nr=nr.unionWith(or.view.Va)}return nr}}function __PRIVATE_ensureWatchCallbacks(er){const e=__PRIVATE_debugCast(er);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(er){const e=__PRIVATE_debugCast(er);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,tr){return null}Ha(e,tr){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,tr;(e=this.gcScheduler)===null||e===void 0||e.stop(),(tr=this.indexBackfillerScheduler)===null||tr===void 0||tr.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,tr){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(tr),this.remoteStore=this.createRemoteStore(tr),this.eventManager=this.createEventManager(tr),this.syncEngine=this.createSyncEngine(tr,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=rr=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,rr,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const tr=__PRIVATE_newSerializer(e.databaseInfo.databaseId),rr=function(ir){return new __PRIVATE_WebChannelConnection(ir)}(e.databaseInfo);return function(ir,sr,or,ar){return new __PRIVATE_DatastoreImpl(ir,sr,or,ar)}(e.authCredentials,e.appCheckCredentials,rr,tr)}createRemoteStore(e){return function(rr,nr,ir,sr,or){return new __PRIVATE_RemoteStoreImpl(rr,nr,ir,sr,or)}(this.localStore,this.datastore,e.asyncQueue,tr=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,tr,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,tr){return function(nr,ir,sr,or,ar,lr,cr){const dr=new __PRIVATE_SyncEngineImpl(nr,ir,sr,or,ar,lr);return cr&&(dr.Qa=!0),dr}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,tr)}async terminate(){var e,tr;await async function(nr){const ir=__PRIVATE_debugCast(nr);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),ir.L_.add(5),await __PRIVATE_disableNetworkInternal(ir),ir.k_.shutdown(),ir.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(tr=this.eventManager)===null||tr===void 0||tr.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,tr){setTimeout(()=>{this.muted||e(tr)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,tr,rr,nr,ir){this.authCredentials=e,this.appCheckCredentials=tr,this.asyncQueue=rr,this.databaseInfo=nr,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=ir,this.authCredentials.start(rr,async sr=>{__PRIVATE_logDebug("FirestoreClient","Received user=",sr.uid),await this.authCredentialListener(sr),this.user=sr}),this.appCheckCredentials.start(rr,sr=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",sr),this.appCheckCredentialListener(sr,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(tr){const rr=__PRIVATE_wrapInUserErrorIfRecoverable(tr,"Failed to shutdown persistence");e.reject(rr)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(er,e){er.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const tr=er.configuration;await e.initialize(tr);let rr=tr.initialUser;er.setCredentialChangeListener(async nr=>{rr.isEqual(nr)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,nr),rr=nr)}),e.persistence.setDatabaseDeletedListener(()=>er.terminate()),er._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(er,e){er.asyncQueue.verifyOperationInProgress();const tr=await __PRIVATE_ensureOfflineComponents(er);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(tr,er.configuration),er.setCredentialChangeListener(rr=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,rr)),er.setAppCheckTokenChangeListener((rr,nr)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,nr)),er._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(er){if(!er._offlineComponents)if(er._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(er,er._uninitializedComponentsProvider._offline)}catch(e){const tr=e;if(!function(nr){return nr.name==="FirebaseError"?nr.code===D$1.FAILED_PRECONDITION||nr.code===D$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&nr instanceof DOMException)||nr.code===22||nr.code===20||nr.code===11}(tr))throw tr;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+tr),await __PRIVATE_setOfflineComponentProvider(er,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(er,new __PRIVATE_MemoryOfflineComponentProvider);return er._offlineComponents}async function __PRIVATE_ensureOnlineComponents(er){return er._onlineComponents||(er._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(er,er._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(er,new OnlineComponentProvider))),er._onlineComponents}function __PRIVATE_getSyncEngine(er){return __PRIVATE_ensureOnlineComponents(er).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(er){const e=await __PRIVATE_ensureOnlineComponents(er),tr=e.eventManager;return tr.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),tr.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),tr.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),tr.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),tr}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(er,e,tr={}){const rr=new __PRIVATE_Deferred;return er.asyncQueue.enqueueAndForget(async()=>function(ir,sr,or,ar,lr){const cr=new __PRIVATE_AsyncObserver({next:hr=>{cr.Za(),sr.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(ir,dr)),hr.fromCache&&ar.source==="server"?lr.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):lr.resolve(hr)},error:hr=>lr.reject(hr)}),dr=new __PRIVATE_QueryListener(or,cr,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(ir,dr)}(await __PRIVATE_getEventManager(er),er.asyncQueue,e,tr,rr)),rr.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(er){const e={};return er.timeoutSeconds!==void 0&&(e.timeoutSeconds=er.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we$1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(er,e,tr){if(!tr)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${er}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(er,e,tr,rr){if(e===!0&&rr===!0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`${er} and ${tr} cannot be used together.`)}function __PRIVATE_validateDocumentPath(er){if(!DocumentKey.isDocumentKey(er))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${er} has ${er.length}.`)}function __PRIVATE_validateCollectionPath(er){if(DocumentKey.isDocumentKey(er))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${er} has ${er.length}.`)}function __PRIVATE_valueDescription(er){if(er===void 0)return"undefined";if(er===null)return"null";if(typeof er=="string")return er.length>20&&(er=`${er.substring(0,20)}...`),JSON.stringify(er);if(typeof er=="number"||typeof er=="boolean")return""+er;if(typeof er=="object"){if(er instanceof Array)return"an array";{const e=function(rr){return rr.constructor?rr.constructor.name:null}(er);return e?`a custom ${e} object`:"an object"}}return typeof er=="function"?"a function":fail()}function __PRIVATE_cast(er,e){if("_delegate"in er&&(er=er._delegate),!(er instanceof e)){if(e.name===er.constructor.name)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const tr=__PRIVATE_valueDescription(er);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${tr}`)}}return er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var tr,rr;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(tr=e.ssl)===null||tr===void 0||tr;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((rr=e.experimentalLongPollingOptions)!==null&&rr!==void 0?rr:{}),function(ir){if(ir.timeoutSeconds!==void 0){if(isNaN(ir.timeoutSeconds))throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ir.timeoutSeconds} (must not be NaN)`);if(ir.timeoutSeconds<5)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ir.timeoutSeconds} (minimum allowed value is 5)`);if(ir.timeoutSeconds>30)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ir.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(rr,nr){return rr.timeoutSeconds===nr.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,tr,rr,nr){this._authCredentials=e,this._appCheckCredentials=tr,this._databaseId=rr,this._app=nr,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(rr){if(!rr)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(rr.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(rr.sessionIndex||"0",rr.iamToken||null,rr.authTokenFactory||null);case"provider":return rr.client;default:throw new FirestoreError(D$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(tr){const rr=we$1.get(tr);rr&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we$1.delete(tr),rr.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(er,e,tr,rr={}){var nr;const ir=(er=__PRIVATE_cast(er,Firestore$1))._getSettings(),sr=`${e}:${tr}`;if(ir.host!=="firestore.googleapis.com"&&ir.host!==sr&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),er._setSettings(Object.assign(Object.assign({},ir),{host:sr,ssl:!1})),rr.mockUserToken){let or,ar;if(typeof rr.mockUserToken=="string")or=rr.mockUserToken,ar=User.MOCK_USER;else{or=createMockUserToken(rr.mockUserToken,(nr=er._app)===null||nr===void 0?void 0:nr.options.projectId);const lr=rr.mockUserToken.sub||rr.mockUserToken.user_id;if(!lr)throw new FirestoreError(D$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ar=new User(lr)}er._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(or,ar))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,tr,rr){this.converter=tr,this._query=rr,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,tr,rr){this.converter=tr,this._key=rr,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,tr,rr){super(e,tr,__PRIVATE_newQueryForPath(rr)),this._path=rr,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(er,e,...tr){if(er=getModularInstance(er),__PRIVATE_validateNonEmptyArgument("collection","path",e),er instanceof Firestore$1){const rr=ResourcePath.fromString(e,...tr);return __PRIVATE_validateCollectionPath(rr),new CollectionReference(er,null,rr)}{if(!(er instanceof DocumentReference||er instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const rr=er._path.child(ResourcePath.fromString(e,...tr));return __PRIVATE_validateCollectionPath(rr),new CollectionReference(er.firestore,null,rr)}}function doc(er,e,...tr){if(er=getModularInstance(er),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),er instanceof Firestore$1){const rr=ResourcePath.fromString(e,...tr);return __PRIVATE_validateDocumentPath(rr),new DocumentReference(er,null,new DocumentKey(rr))}{if(!(er instanceof DocumentReference||er instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const rr=er._path.child(ResourcePath.fromString(e,...tr));return __PRIVATE_validateDocumentPath(rr),new DocumentReference(er.firestore,er instanceof CollectionReference?er.converter:null,new DocumentKey(rr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const rr=getDocument();rr&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+rr.visibilityState),this.t_.jo()},this.mu=e;const tr=getDocument();tr&&typeof tr.addEventListener=="function"&&tr.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const tr=getDocument();tr&&typeof tr.removeEventListener=="function"&&tr.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const tr=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(tr.resolve,tr.reject),tr.promise)).then(()=>tr.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const tr=this.mu.then(()=>(this.du=!0,e().catch(rr=>{this.Eu=rr,this.du=!1;const nr=function(sr){let or=sr.message||"";return sr.stack&&(or=sr.stack.includes(sr.message)?sr.stack:sr.message+`
`+sr.stack),or}(rr);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",nr),rr}).then(rr=>(this.du=!1,rr))));return this.mu=tr,tr}enqueueAfterDelay(e,tr,rr){this.fu(),this.Ru.indexOf(e)>-1&&(tr=0);const nr=DelayedOperation.createAndSchedule(this,e,tr,rr,ir=>this.yu(ir));return this.Tu.push(nr),nr}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const tr of this.Tu)if(tr.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((tr,rr)=>tr.targetTimeMs-rr.targetTimeMs);for(const tr of this.Tu)if(tr.skipDelay(),e!=="all"&&tr.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const tr=this.Tu.indexOf(e);this.Tu.splice(tr,1)}}function __PRIVATE_isPartialObserver(er){return function(tr,rr){if(typeof tr!="object"||tr===null)return!1;const nr=tr;for(const ir of rr)if(ir in nr&&typeof nr[ir]=="function")return!0;return!1}(er,["next","error","complete"])}class Firestore extends Firestore$1{constructor(e,tr,rr,nr){super(e,tr,rr,nr),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(nr==null?void 0:nr.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(er,e){const tr=typeof er=="object"?er:getApp(),rr=typeof er=="string"?er:"(default)",nr=_getProvider(tr,"firestore").getImmediate({identifier:rr});if(!nr._initialized){const ir=getDefaultEmulatorHostnameAndPort("firestore");ir&&connectFirestoreEmulator(nr,...ir)}return nr}function ensureFirestoreConfigured(er){if(er._terminated)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.");return er._firestoreClient||__PRIVATE_configureFirestore(er),er._firestoreClient}function __PRIVATE_configureFirestore(er){var e,tr,rr;const nr=er._freezeSettings(),ir=function(or,ar,lr,cr){return new DatabaseInfo(or,ar,lr,cr.host,cr.ssl,cr.experimentalForceLongPolling,cr.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(cr.experimentalLongPollingOptions),cr.useFetchStreams)}(er._databaseId,((e=er._app)===null||e===void 0?void 0:e.options.appId)||"",er._persistenceKey,nr);er._componentsProvider||!((tr=nr.localCache)===null||tr===void 0)&&tr._offlineComponentProvider&&(!((rr=nr.localCache)===null||rr===void 0)&&rr._onlineComponentProvider)&&(er._componentsProvider={_offline:nr.localCache._offlineComponentProvider,_online:nr.localCache._onlineComponentProvider}),er._firestoreClient=new FirestoreClient(er._authCredentials,er._appCheckCredentials,er._queue,ir,er._componentsProvider&&function(or){const ar=or==null?void 0:or._online.build();return{_offline:or==null?void 0:or._offline.build(ar),_online:ar}}(er._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(tr){throw new FirestoreError(D$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+tr)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let tr=0;tr<e.length;++tr)if(e[tr].length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,tr){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(tr)||tr<-180||tr>180)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+tr);this._lat=e,this._long=tr}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(tr=>tr)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(rr,nr){if(rr.length!==nr.length)return!1;for(let ir=0;ir<rr.length;++ir)if(rr[ir]!==nr[ir])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be$1=/^__.*__$/;class ParsedSetData{constructor(e,tr,rr){this.data=e,this.fieldMask=tr,this.fieldTransforms=rr}toMutation(e,tr){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,tr,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,tr,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,tr,rr){this.data=e,this.fieldMask=tr,this.fieldTransforms=rr}toMutation(e,tr){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,tr,this.fieldTransforms)}}function __PRIVATE_isWrite(er){switch(er){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,tr,rr,nr,ir,sr){this.settings=e,this.databaseId=tr,this.serializer=rr,this.ignoreUndefinedProperties=nr,ir===void 0&&this.vu(),this.fieldTransforms=ir||[],this.fieldMask=sr||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var tr;const rr=(tr=this.path)===null||tr===void 0?void 0:tr.child(e),nr=this.Fu({path:rr,xu:!1});return nr.Ou(e),nr}Nu(e){var tr;const rr=(tr=this.path)===null||tr===void 0?void 0:tr.child(e),nr=this.Fu({path:rr,xu:!1});return nr.vu(),nr}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(tr=>e.isPrefixOf(tr))!==void 0||this.fieldTransforms.find(tr=>e.isPrefixOf(tr.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be$1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,tr,rr){this.databaseId=e,this.ignoreUndefinedProperties=tr,this.serializer=rr||__PRIVATE_newSerializer(e)}Qu(e,tr,rr,nr=!1){return new __PRIVATE_ParseContextImpl({Cu:e,methodName:tr,qu:rr,path:FieldPath$1.emptyPath(),xu:!1,ku:nr},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(er){const e=er._freezeSettings(),tr=__PRIVATE_newSerializer(er._databaseId);return new __PRIVATE_UserDataReader(er._databaseId,!!e.ignoreUndefinedProperties,tr)}function __PRIVATE_parseSetData(er,e,tr,rr,nr,ir={}){const sr=er.Qu(ir.merge||ir.mergeFields?2:0,e,tr,nr);__PRIVATE_validatePlainObject("Data must be an object, but it was:",sr,rr);const or=__PRIVATE_parseObject(rr,sr);let ar,lr;if(ir.merge)ar=new FieldMask(sr.fieldMask),lr=sr.fieldTransforms;else if(ir.mergeFields){const cr=[];for(const dr of ir.mergeFields){const hr=__PRIVATE_fieldPathFromArgument$1(e,dr,tr);if(!sr.contains(hr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Field '${hr}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(cr,hr)||cr.push(hr)}ar=new FieldMask(cr),lr=sr.fieldTransforms.filter(dr=>ar.covers(dr.field))}else ar=null,lr=sr.fieldTransforms;return new ParsedSetData(new ObjectValue(or),ar,lr)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(er,e,tr,rr){const nr=er.Qu(1,e,tr);__PRIVATE_validatePlainObject("Data must be an object, but it was:",nr,rr);const ir=[],sr=ObjectValue.empty();forEach(rr,(ar,lr)=>{const cr=__PRIVATE_fieldPathFromDotSeparatedString(e,ar,tr);lr=getModularInstance(lr);const dr=nr.Nu(cr);if(lr instanceof __PRIVATE_DeleteFieldValueImpl)ir.push(cr);else{const hr=__PRIVATE_parseData(lr,dr);hr!=null&&(ir.push(cr),sr.set(cr,hr))}});const or=new FieldMask(ir);return new ParsedUpdateData(sr,or,nr.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(er,e,tr,rr,nr,ir){const sr=er.Qu(1,e,tr),or=[__PRIVATE_fieldPathFromArgument$1(e,rr,tr)],ar=[nr];if(ir.length%2!=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let hr=0;hr<ir.length;hr+=2)or.push(__PRIVATE_fieldPathFromArgument$1(e,ir[hr])),ar.push(ir[hr+1]);const lr=[],cr=ObjectValue.empty();for(let hr=or.length-1;hr>=0;--hr)if(!__PRIVATE_fieldMaskContains(lr,or[hr])){const ur=or[hr];let pr=ar[hr];pr=getModularInstance(pr);const mr=sr.Nu(ur);if(pr instanceof __PRIVATE_DeleteFieldValueImpl)lr.push(ur);else{const fr=__PRIVATE_parseData(pr,mr);fr!=null&&(lr.push(ur),cr.set(ur,fr))}}const dr=new FieldMask(lr);return new ParsedUpdateData(cr,dr,sr.fieldTransforms)}function __PRIVATE_parseQueryValue(er,e,tr,rr=!1){return __PRIVATE_parseData(tr,er.Qu(rr?4:3,e))}function __PRIVATE_parseData(er,e){if(__PRIVATE_looksLikeJsonObject(er=getModularInstance(er)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,er),__PRIVATE_parseObject(er,e);if(er instanceof FieldValue)return function(rr,nr){if(!__PRIVATE_isWrite(nr.Cu))throw nr.Bu(`${rr._methodName}() can only be used with update() and set()`);if(!nr.path)throw nr.Bu(`${rr._methodName}() is not currently supported inside arrays`);const ir=rr._toFieldTransform(nr);ir&&nr.fieldTransforms.push(ir)}(er,e),null;if(er===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),er instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(rr,nr){const ir=[];let sr=0;for(const or of rr){let ar=__PRIVATE_parseData(or,nr.Lu(sr));ar==null&&(ar={nullValue:"NULL_VALUE"}),ir.push(ar),sr++}return{arrayValue:{values:ir}}}(er,e)}return function(rr,nr){if((rr=getModularInstance(rr))===null)return{nullValue:"NULL_VALUE"};if(typeof rr=="number")return toNumber$1(nr.serializer,rr);if(typeof rr=="boolean")return{booleanValue:rr};if(typeof rr=="string")return{stringValue:rr};if(rr instanceof Date){const ir=Timestamp.fromDate(rr);return{timestampValue:toTimestamp(nr.serializer,ir)}}if(rr instanceof Timestamp){const ir=new Timestamp(rr.seconds,1e3*Math.floor(rr.nanoseconds/1e3));return{timestampValue:toTimestamp(nr.serializer,ir)}}if(rr instanceof GeoPoint)return{geoPointValue:{latitude:rr.latitude,longitude:rr.longitude}};if(rr instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(nr.serializer,rr._byteString)};if(rr instanceof DocumentReference){const ir=nr.databaseId,sr=rr.firestore._databaseId;if(!sr.isEqual(ir))throw nr.Bu(`Document reference is for database ${sr.projectId}/${sr.database} but should be for database ${ir.projectId}/${ir.database}`);return{referenceValue:__PRIVATE_toResourceName(rr.firestore._databaseId||nr.databaseId,rr._key.path)}}if(rr instanceof VectorValue)return function(sr,or){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:sr.toArray().map(ar=>{if(typeof ar!="number")throw or.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(or.serializer,ar)})}}}}}}(rr,nr);throw nr.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(rr)}`)}(er,e)}function __PRIVATE_parseObject(er,e){const tr={};return isEmpty(er)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(er,(rr,nr)=>{const ir=__PRIVATE_parseData(nr,e.Mu(rr));ir!=null&&(tr[rr]=ir)}),{mapValue:{fields:tr}}}function __PRIVATE_looksLikeJsonObject(er){return!(typeof er!="object"||er===null||er instanceof Array||er instanceof Date||er instanceof Timestamp||er instanceof GeoPoint||er instanceof Bytes||er instanceof DocumentReference||er instanceof FieldValue||er instanceof VectorValue)}function __PRIVATE_validatePlainObject(er,e,tr){if(!__PRIVATE_looksLikeJsonObject(tr)||!function(nr){return typeof nr=="object"&&nr!==null&&(Object.getPrototypeOf(nr)===Object.prototype||Object.getPrototypeOf(nr)===null)}(tr)){const rr=__PRIVATE_valueDescription(tr);throw rr==="an object"?e.Bu(er+" a custom object"):e.Bu(er+" "+rr)}}function __PRIVATE_fieldPathFromArgument$1(er,e,tr){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(er,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",er,!1,void 0,tr)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(er,e,tr){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,er,!1,void 0,tr);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,er,!1,void 0,tr)}}function __PRIVATE_createError(er,e,tr,rr,nr){const ir=rr&&!rr.isEmpty(),sr=nr!==void 0;let or=`Function ${e}() called with invalid data`;tr&&(or+=" (via `toFirestore()`)"),or+=". ";let ar="";return(ir||sr)&&(ar+=" (found",ir&&(ar+=` in field ${rr}`),sr&&(ar+=` in document ${nr}`),ar+=")"),new FirestoreError(D$1.INVALID_ARGUMENT,or+er+ar)}function __PRIVATE_fieldMaskContains(er,e){return er.some(tr=>tr.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,tr,rr,nr,ir){this._firestore=e,this._userDataWriter=tr,this._key=rr,this._document=nr,this._converter=ir}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const tr=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(tr!==null)return this._userDataWriter.convertValue(tr)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(er,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(er,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(er){if(er.limitType==="L"&&er.explicitOrderBy.length===0)throw new FirestoreError(D$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(er,e,...tr){let rr=[];e instanceof AppliableConstraint&&rr.push(e),rr=rr.concat(tr),function(ir){const sr=ir.filter(ar=>ar instanceof QueryCompositeFilterConstraint).length,or=ir.filter(ar=>ar instanceof QueryFieldFilterConstraint).length;if(sr>1||sr>0&&or>0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(rr);for(const nr of rr)er=nr._apply(er);return er}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,tr,rr){super(),this._field=e,this._op=tr,this._value=rr,this.type="where"}static _create(e,tr,rr){return new QueryFieldFilterConstraint(e,tr,rr)}_apply(e){const tr=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,tr),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,tr))}_parse(e){const tr=__PRIVATE_newUserDataReader(e.firestore);return function(ir,sr,or,ar,lr,cr,dr){let hr;if(lr.isKeyField()){if(cr==="array-contains"||cr==="array-contains-any")throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${cr}' queries on documentId().`);if(cr==="in"||cr==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(dr,cr);const ur=[];for(const pr of dr)ur.push(__PRIVATE_parseDocumentIdValue(ar,ir,pr));hr={arrayValue:{values:ur}}}else hr=__PRIVATE_parseDocumentIdValue(ar,ir,dr)}else cr!=="in"&&cr!=="not-in"&&cr!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(dr,cr),hr=__PRIVATE_parseQueryValue(or,sr,dr,cr==="in"||cr==="not-in");return FieldFilter.create(lr,cr,hr)}(e._query,"where",tr,e.firestore._databaseId,this._field,this._op,this._value)}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,tr){super(),this.type=e,this._queryConstraints=tr}static _create(e,tr){return new QueryCompositeFilterConstraint(e,tr)}_parse(e){const tr=this._queryConstraints.map(rr=>rr._parse(e)).filter(rr=>rr.getFilters().length>0);return tr.length===1?tr[0]:CompositeFilter.create(tr,this._getOperator())}_apply(e){const tr=this._parse(e);return tr.getFilters().length===0?e:(function(nr,ir){let sr=nr;const or=ir.getFlattenedFilters();for(const ar of or)__PRIVATE_validateNewFieldFilter(sr,ar),sr=__PRIVATE_queryWithAddedFilter(sr,ar)}(e._query,tr),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,tr)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,tr){super(),this._field=e,this._direction=tr,this.type="orderBy"}static _create(e,tr){return new QueryOrderByConstraint(e,tr)}_apply(e){const tr=function(nr,ir,sr){if(nr.startAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(nr.endAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(ir,sr)}(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,function(nr,ir){const sr=nr.explicitOrderBy.concat([ir]);return new __PRIVATE_QueryImpl(nr.path,nr.collectionGroup,sr,nr.filters.slice(),nr.limit,nr.limitType,nr.startAt,nr.endAt)}(e._query,tr))}}function orderBy$1(er,e="asc"){const tr=e,rr=__PRIVATE_fieldPathFromArgument("orderBy",er);return QueryOrderByConstraint._create(rr,tr)}function __PRIVATE_parseDocumentIdValue(er,e,tr){if(typeof(tr=getModularInstance(tr))=="string"){if(tr==="")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&tr.indexOf("/")!==-1)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${tr}' contains a '/' character.`);const rr=e.path.child(ResourcePath.fromString(tr));if(!DocumentKey.isDocumentKey(rr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${rr}' is not because it has an odd number of segments (${rr.length}).`);return __PRIVATE_refValue(er,new DocumentKey(rr))}if(tr instanceof DocumentReference)return __PRIVATE_refValue(er,tr._key);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(tr)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(er,e){if(!Array.isArray(er)||er.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(er,e){const tr=function(nr,ir){for(const sr of nr)for(const or of sr.getFlattenedFilters())if(ir.indexOf(or.op)>=0)return or.op;return null}(er.filters,function(nr){switch(nr){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(tr!==null)throw tr===e.op?new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${tr.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,tr="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,tr);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,tr);case 11:return this.convertObject(e.mapValue,tr);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,tr){return this.convertObjectMap(e.fields,tr)}convertObjectMap(e,tr="none"){const rr={};return forEach(e,(nr,ir)=>{rr[nr]=this.convertValue(ir,tr)}),rr}convertVectorValue(e){var tr,rr,nr;const ir=(nr=(rr=(tr=e.fields)===null||tr===void 0?void 0:tr.value.arrayValue)===null||rr===void 0?void 0:rr.values)===null||nr===void 0?void 0:nr.map(sr=>__PRIVATE_normalizeNumber(sr.doubleValue));return new VectorValue(ir)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,tr){return(e.values||[]).map(rr=>this.convertValue(rr,tr))}convertServerTimestamp(e,tr){switch(tr){case"previous":const rr=__PRIVATE_getPreviousValue(e);return rr==null?null:this.convertValue(rr,tr);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const tr=__PRIVATE_normalizeTimestamp(e);return new Timestamp(tr.seconds,tr.nanos)}convertDocumentKey(e,tr){const rr=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(rr));const nr=new DatabaseId(rr.get(1),rr.get(3)),ir=new DocumentKey(rr.popFirst(5));return nr.isEqual(tr)||__PRIVATE_logError(`Document ${ir} contains a document reference within a different database (${nr.projectId}/${nr.database}) which is not supported. It will be treated as a reference in the current database (${tr.projectId}/${tr.database}) instead.`),ir}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(er,e,tr){let rr;return rr=er?tr&&(tr.merge||tr.mergeFields)?er.toFirestore(e,tr):er.toFirestore(e):e,rr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,tr){this.hasPendingWrites=e,this.fromCache=tr}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,tr,rr,nr,ir,sr){super(e,tr,rr,nr,sr),this._firestore=e,this._firestoreImpl=e,this.metadata=ir}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const tr=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(tr,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,tr={}){if(this._document){const rr=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(rr!==null)return this._userDataWriter.convertValue(rr,tr.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,tr,rr,nr){this._firestore=e,this._userDataWriter=tr,this._snapshot=nr,this.metadata=new SnapshotMetadata(nr.hasPendingWrites,nr.fromCache),this.query=rr}get docs(){const e=[];return this.forEach(tr=>e.push(tr)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,tr){this._snapshot.docs.forEach(rr=>{e.call(tr,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,rr.key,rr,new SnapshotMetadata(this._snapshot.mutatedKeys.has(rr.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const tr=!!e.includeMetadataChanges;if(tr&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===tr||(this._cachedChanges=function(nr,ir){if(nr._snapshot.oldDocs.isEmpty()){let sr=0;return nr._snapshot.docChanges.map(or=>{const ar=new QueryDocumentSnapshot(nr._firestore,nr._userDataWriter,or.doc.key,or.doc,new SnapshotMetadata(nr._snapshot.mutatedKeys.has(or.doc.key),nr._snapshot.fromCache),nr.query.converter);return or.doc,{type:"added",doc:ar,oldIndex:-1,newIndex:sr++}})}{let sr=nr._snapshot.oldDocs;return nr._snapshot.docChanges.filter(or=>ir||or.type!==3).map(or=>{const ar=new QueryDocumentSnapshot(nr._firestore,nr._userDataWriter,or.doc.key,or.doc,new SnapshotMetadata(nr._snapshot.mutatedKeys.has(or.doc.key),nr._snapshot.fromCache),nr.query.converter);let lr=-1,cr=-1;return or.type!==0&&(lr=sr.indexOf(or.doc.key),sr=sr.delete(or.doc.key)),or.type!==1&&(sr=sr.add(or.doc),cr=sr.indexOf(or.doc.key)),{type:__PRIVATE_resultChangeType(or.type),doc:ar,oldIndex:lr,newIndex:cr}})}}(this,tr),this._cachedChangesIncludeMetadataChanges=tr),this._cachedChanges}}function __PRIVATE_resultChangeType(er){switch(er){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const tr=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,tr)}}function getDocs(er){er=__PRIVATE_cast(er,Query);const e=__PRIVATE_cast(er.firestore,Firestore),tr=ensureFirestoreConfigured(e),rr=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(er._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(tr,er._query).then(nr=>new QuerySnapshot(e,rr,er,nr))}function setDoc(er,e,tr){er=__PRIVATE_cast(er,DocumentReference);const rr=__PRIVATE_cast(er.firestore,Firestore),nr=__PRIVATE_applyFirestoreDataConverter(er.converter,e,tr);return executeWrite(rr,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(rr),"setDoc",er._key,nr,er.converter!==null,tr).toMutation(er._key,Precondition.none())])}function updateDoc(er,e,tr,...rr){er=__PRIVATE_cast(er,DocumentReference);const nr=__PRIVATE_cast(er.firestore,Firestore),ir=__PRIVATE_newUserDataReader(nr);let sr;return sr=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(ir,"updateDoc",er._key,e,tr,rr):__PRIVATE_parseUpdateData(ir,"updateDoc",er._key,e),executeWrite(nr,[sr.toMutation(er._key,Precondition.exists(!0))])}function deleteDoc(er){return executeWrite(__PRIVATE_cast(er.firestore,Firestore),[new __PRIVATE_DeleteMutation(er._key,Precondition.none())])}function addDoc(er,e){const tr=__PRIVATE_cast(er.firestore,Firestore),rr=doc(er),nr=__PRIVATE_applyFirestoreDataConverter(er.converter,e);return executeWrite(tr,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(er.firestore),"addDoc",rr._key,nr,er.converter!==null,{}).toMutation(rr._key,Precondition.exists(!1))]).then(()=>rr)}function onSnapshot(er,...e){var tr,rr,nr;er=getModularInstance(er);let ir={includeMetadataChanges:!1,source:"default"},sr=0;typeof e[sr]!="object"||__PRIVATE_isPartialObserver(e[sr])||(ir=e[sr],sr++);const or={includeMetadataChanges:ir.includeMetadataChanges,source:ir.source};if(__PRIVATE_isPartialObserver(e[sr])){const dr=e[sr];e[sr]=(tr=dr.next)===null||tr===void 0?void 0:tr.bind(dr),e[sr+1]=(rr=dr.error)===null||rr===void 0?void 0:rr.bind(dr),e[sr+2]=(nr=dr.complete)===null||nr===void 0?void 0:nr.bind(dr)}let ar,lr,cr;if(er instanceof DocumentReference)lr=__PRIVATE_cast(er.firestore,Firestore),cr=__PRIVATE_newQueryForPath(er._key.path),ar={next:dr=>{e[sr]&&e[sr](__PRIVATE_convertToDocSnapshot(lr,er,dr))},error:e[sr+1],complete:e[sr+2]};else{const dr=__PRIVATE_cast(er,Query);lr=__PRIVATE_cast(dr.firestore,Firestore),cr=dr._query;const hr=new __PRIVATE_ExpUserDataWriter(lr);ar={next:ur=>{e[sr]&&e[sr](new QuerySnapshot(lr,hr,dr,ur))},error:e[sr+1],complete:e[sr+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(er._query)}return function(hr,ur,pr,mr){const fr=new __PRIVATE_AsyncObserver(mr),gr=new __PRIVATE_QueryListener(ur,fr,pr);return hr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(hr),gr)),()=>{fr.Za(),hr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(hr),gr))}}(ensureFirestoreConfigured(lr),cr,or,ar)}function executeWrite(er,e){return function(rr,nr){const ir=new __PRIVATE_Deferred;return rr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(rr),nr,ir)),ir.promise}(ensureFirestoreConfigured(er),e)}function __PRIVATE_convertToDocSnapshot(er,e,tr){const rr=tr.docs.get(e._key),nr=new __PRIVATE_ExpUserDataWriter(er);return new DocumentSnapshot(er,nr,e._key,rr,new SnapshotMetadata(tr.hasPendingWrites,tr.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WriteBatch{constructor(e,tr){this._firestore=e,this._commitHandler=tr,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(e)}set(e,tr,rr){this._verifyNotCommitted();const nr=__PRIVATE_validateReference(e,this._firestore),ir=__PRIVATE_applyFirestoreDataConverter(nr.converter,tr,rr),sr=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",nr._key,ir,nr.converter!==null,rr);return this._mutations.push(sr.toMutation(nr._key,Precondition.none())),this}update(e,tr,rr,...nr){this._verifyNotCommitted();const ir=__PRIVATE_validateReference(e,this._firestore);let sr;return sr=typeof(tr=getModularInstance(tr))=="string"||tr instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",ir._key,tr,rr,nr):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",ir._key,tr),this._mutations.push(sr.toMutation(ir._key,Precondition.exists(!0))),this}delete(e){this._verifyNotCommitted();const tr=__PRIVATE_validateReference(e,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(tr._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(D$1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference(er,e){if((er=getModularInstance(er)).firestore!==e)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeBatch(er){return ensureFirestoreConfigured(er=__PRIVATE_cast(er,Firestore)),new WriteBatch(er,e=>executeWrite(er,e))}(function(e,tr=!0){(function(nr){S$1=nr})(SDK_VERSION),_registerComponent(new Component("firestore",(rr,{instanceIdentifier:nr,options:ir})=>{const sr=rr.getProvider("app").getImmediate(),or=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(rr.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(rr.getProvider("app-check-internal")),function(lr,cr){if(!Object.prototype.hasOwnProperty.apply(lr.options,["projectId"]))throw new FirestoreError(D$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(lr.options.projectId,cr)}(sr,nr),sr);return ir=Object.assign({useFetchStreams:tr},ir),or._setSettings(ir),or},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$1,"4.7.3",e),registerVersion(w$1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,tr,rr=0){super(prependCode(e),`Firebase Storage: ${tr} (${prependCode(e)})`),this.status_=rr,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(er){er.UNKNOWN="unknown",er.OBJECT_NOT_FOUND="object-not-found",er.BUCKET_NOT_FOUND="bucket-not-found",er.PROJECT_NOT_FOUND="project-not-found",er.QUOTA_EXCEEDED="quota-exceeded",er.UNAUTHENTICATED="unauthenticated",er.UNAUTHORIZED="unauthorized",er.UNAUTHORIZED_APP="unauthorized-app",er.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",er.INVALID_CHECKSUM="invalid-checksum",er.CANCELED="canceled",er.INVALID_EVENT_NAME="invalid-event-name",er.INVALID_URL="invalid-url",er.INVALID_DEFAULT_BUCKET="invalid-default-bucket",er.NO_DEFAULT_BUCKET="no-default-bucket",er.CANNOT_SLICE_BLOB="cannot-slice-blob",er.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",er.NO_DOWNLOAD_URL="no-download-url",er.INVALID_ARGUMENT="invalid-argument",er.INVALID_ARGUMENT_COUNT="invalid-argument-count",er.APP_DELETED="app-deleted",er.INVALID_ROOT_OPERATION="invalid-root-operation",er.INVALID_FORMAT="invalid-format",er.INTERNAL_ERROR="internal-error",er.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(er){return"storage/"+er}function unknown(){const er="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,er)}function objectNotFound(er){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+er+"' does not exist.")}function quotaExceeded(er){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+er+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const er="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,er)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(er){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+er+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(er){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+er+"'.")}function invalidDefaultBucket(er){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+er+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(er){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${er} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(er){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,er)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(er){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+er+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(er,e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+er+"': "+e)}function internalError(er){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,tr){this.bucket=e,this.path_=tr}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,tr){let rr;try{rr=Location.makeFromUrl(e,tr)}catch{return new Location(e,"")}if(rr.path==="")return rr;throw invalidDefaultBucket(e)}static makeFromUrl(e,tr){let rr=null;const nr="([A-Za-z0-9.\\-_]+)";function ir(br){br.path.charAt(br.path.length-1)==="/"&&(br.path_=br.path_.slice(0,-1))}const sr="(/(.*))?$",or=new RegExp("^gs://"+nr+sr,"i"),ar={bucket:1,path:3};function lr(br){br.path_=decodeURIComponent(br.path)}const cr="v[A-Za-z0-9_]+",dr=tr.replace(/[.]/g,"\\."),hr="(/([^?#]*).*)?$",ur=new RegExp(`^https?://${dr}/${cr}/b/${nr}/o${hr}`,"i"),pr={bucket:1,path:3},mr=tr===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":tr,fr="([^?#]*)",gr=new RegExp(`^https?://${mr}/${nr}/${fr}`,"i"),vr=[{regex:or,indices:ar,postModify:ir},{regex:ur,indices:pr,postModify:lr},{regex:gr,indices:{bucket:1,path:2},postModify:lr}];for(let br=0;br<vr.length;br++){const Sr=vr[br],jr=Sr.regex.exec(e);if(jr){const Cr=jr[Sr.indices.bucket];let Pr=jr[Sr.indices.path];Pr||(Pr=""),rr=new Location(Cr,Pr),Sr.postModify(rr);break}}if(rr==null)throw invalidUrl(e);return rr}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(er,e,tr){let rr=1,nr=null,ir=null,sr=!1,or=0;function ar(){return or===2}let lr=!1;function cr(...fr){lr||(lr=!0,e.apply(null,fr))}function dr(fr){nr=setTimeout(()=>{nr=null,er(ur,ar())},fr)}function hr(){ir&&clearTimeout(ir)}function ur(fr,...gr){if(lr){hr();return}if(fr){hr(),cr.call(null,fr,...gr);return}if(ar()||sr){hr(),cr.call(null,fr,...gr);return}rr<64&&(rr*=2);let vr;or===1?(or=2,vr=0):vr=(rr+Math.random())*1e3,dr(vr)}let pr=!1;function mr(fr){pr||(pr=!0,hr(),!lr&&(nr!==null?(fr||(or=2),clearTimeout(nr),dr(0)):fr||(or=1)))}return dr(0),ir=setTimeout(()=>{sr=!0,mr(!0)},tr),mr}function stop(er){er(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(er){return er!==void 0}function isNonArrayObject(er){return typeof er=="object"&&!Array.isArray(er)}function isString(er){return typeof er=="string"||er instanceof String}function isNativeBlob(er){return isNativeBlobDefined()&&er instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(er,e,tr,rr){if(rr<e)throw invalidArgument$1(`Invalid value for '${er}'. Expected ${e} or greater.`);if(rr>tr)throw invalidArgument$1(`Invalid value for '${er}'. Expected ${tr} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(er,e,tr){let rr=e;return tr==null&&(rr=`https://${e}`),`${tr}://${rr}/v0${er}`}function makeQueryString(er){const e=encodeURIComponent;let tr="?";for(const rr in er)if(er.hasOwnProperty(rr)){const nr=e(rr)+"="+e(er[rr]);tr=tr+nr+"&"}return tr=tr.slice(0,-1),tr}var ErrorCode;(function(er){er[er.NO_ERROR=0]="NO_ERROR",er[er.NETWORK_ERROR=1]="NETWORK_ERROR",er[er.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(er,e){const tr=er>=500&&er<600,nr=[408,429].indexOf(er)!==-1,ir=e.indexOf(er)!==-1;return tr||nr||ir}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,tr,rr,nr,ir,sr,or,ar,lr,cr,dr,hr=!0){this.url_=e,this.method_=tr,this.headers_=rr,this.body_=nr,this.successCodes_=ir,this.additionalRetryCodes_=sr,this.callback_=or,this.errorCallback_=ar,this.timeout_=lr,this.progressCallback_=cr,this.connectionFactory_=dr,this.retry=hr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ur,pr)=>{this.resolve_=ur,this.reject_=pr,this.start_()})}start_(){const e=(rr,nr)=>{if(nr){rr(!1,new RequestEndStatus(!1,null,!0));return}const ir=this.connectionFactory_();this.pendingConnection_=ir;const sr=or=>{const ar=or.loaded,lr=or.lengthComputable?or.total:-1;this.progressCallback_!==null&&this.progressCallback_(ar,lr)};this.progressCallback_!==null&&ir.addUploadProgressListener(sr),ir.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&ir.removeUploadProgressListener(sr),this.pendingConnection_=null;const or=ir.getErrorCode()===ErrorCode.NO_ERROR,ar=ir.getStatus();if(!or||isRetryStatusCode(ar,this.additionalRetryCodes_)&&this.retry){const cr=ir.getErrorCode()===ErrorCode.ABORT;rr(!1,new RequestEndStatus(!1,null,cr));return}const lr=this.successCodes_.indexOf(ar)!==-1;rr(!0,new RequestEndStatus(lr,ir))})},tr=(rr,nr)=>{const ir=this.resolve_,sr=this.reject_,or=nr.connection;if(nr.wasSuccessCode)try{const ar=this.callback_(or,or.getResponse());isJustDef(ar)?ir(ar):ir()}catch(ar){sr(ar)}else if(or!==null){const ar=unknown();ar.serverResponse=or.getErrorText(),this.errorCallback_?sr(this.errorCallback_(or,ar)):sr(ar)}else if(nr.canceled){const ar=this.appDelete_?appDeleted():canceled();sr(ar)}else{const ar=retryLimitExceeded();sr(ar)}};this.canceled_?tr(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,tr,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,tr,rr){this.wasSuccessCode=e,this.connection=tr,this.canceled=!!rr}}function addAuthHeader_(er,e){e!==null&&e.length>0&&(er.Authorization="Firebase "+e)}function addVersionHeader_(er,e){er["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function addGmpidHeader_(er,e){e&&(er["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(er,e){e!==null&&(er["X-Firebase-AppCheck"]=e)}function makeRequest(er,e,tr,rr,nr,ir,sr=!0){const or=makeQueryString(er.urlParams),ar=er.url+or,lr=Object.assign({},er.headers);return addGmpidHeader_(lr,e),addAuthHeader_(lr,tr),addVersionHeader_(lr,ir),addAppCheckHeader_(lr,rr),new NetworkRequest(ar,er.method,lr,er.body,er.successCodes,er.additionalRetryCodes,er.handler,er.errorHandler,er.timeout,er.progressCallback,nr,sr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...er){const e=getBlobBuilder();if(e!==void 0){const tr=new e;for(let rr=0;rr<er.length;rr++)tr.append(er[rr]);return tr.getBlob()}else{if(isNativeBlobDefined())return new Blob(er);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(er,e,tr){return er.webkitSlice?er.webkitSlice(e,tr):er.mozSlice?er.mozSlice(e,tr):er.slice?er.slice(e,tr):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(er){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(e,tr){this.data=e,this.contentType=tr||null}}function dataFromString(er,e){switch(er){case StringFormat.RAW:return new StringData(utf8Bytes_(e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(er,e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(e),dataURLContentType_(e))}throw unknown()}function utf8Bytes_(er){const e=[];for(let tr=0;tr<er.length;tr++){let rr=er.charCodeAt(tr);if(rr<=127)e.push(rr);else if(rr<=2047)e.push(192|rr>>6,128|rr&63);else if((rr&64512)===55296)if(!(tr<er.length-1&&(er.charCodeAt(tr+1)&64512)===56320))e.push(239,191,189);else{const ir=rr,sr=er.charCodeAt(++tr);rr=65536|(ir&1023)<<10|sr&1023,e.push(240|rr>>18,128|rr>>12&63,128|rr>>6&63,128|rr&63)}else(rr&64512)===56320?e.push(239,191,189):e.push(224|rr>>12,128|rr>>6&63,128|rr&63)}return new Uint8Array(e)}function percentEncodedBytes_(er){let e;try{e=decodeURIComponent(er)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(e)}function base64Bytes_(er,e){switch(er){case StringFormat.BASE64:{const nr=e.indexOf("-")!==-1,ir=e.indexOf("_")!==-1;if(nr||ir)throw invalidFormat(er,"Invalid character '"+(nr?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const nr=e.indexOf("+")!==-1,ir=e.indexOf("/")!==-1;if(nr||ir)throw invalidFormat(er,"Invalid character '"+(nr?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let tr;try{tr=decodeBase64(e)}catch(nr){throw nr.message.includes("polyfill")?nr:invalidFormat(er,"Invalid character found")}const rr=new Uint8Array(tr.length);for(let nr=0;nr<tr.length;nr++)rr[nr]=tr.charCodeAt(nr);return rr}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const tr=e.match(/^data:([^,]+)?,/);if(tr===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const rr=tr[1]||null;rr!=null&&(this.base64=endsWith(rr,";base64"),this.contentType=this.base64?rr.substring(0,rr.length-7):rr),this.rest=e.substring(e.indexOf(",")+1)}}function dataURLBytes_(er){const e=new DataURLParts(er);return e.base64?base64Bytes_(StringFormat.BASE64,e.rest):percentEncodedBytes_(e.rest)}function dataURLContentType_(er){return new DataURLParts(er).contentType}function endsWith(er,e){return er.length>=e.length?er.substring(er.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(e,tr){let rr=0,nr="";isNativeBlob(e)?(this.data_=e,rr=e.size,nr=e.type):e instanceof ArrayBuffer?(tr?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),rr=this.data_.length):e instanceof Uint8Array&&(tr?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),rr=e.length),this.size_=rr,this.type_=nr}size(){return this.size_}type(){return this.type_}slice(e,tr){if(isNativeBlob(this.data_)){const rr=this.data_,nr=sliceBlob(rr,e,tr);return nr===null?null:new FbsBlob(nr)}else{const rr=new Uint8Array(this.data_.buffer,e,tr-e);return new FbsBlob(rr,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const tr=e.map(rr=>rr instanceof FbsBlob?rr.data_:rr);return new FbsBlob(getBlob$1.apply(null,tr))}else{const tr=e.map(sr=>isString(sr)?dataFromString(StringFormat.RAW,sr).data:sr.data_);let rr=0;tr.forEach(sr=>{rr+=sr.byteLength});const nr=new Uint8Array(rr);let ir=0;return tr.forEach(sr=>{for(let or=0;or<sr.length;or++)nr[ir++]=sr[or]}),new FbsBlob(nr,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(er){let e;try{e=JSON.parse(er)}catch{return null}return isNonArrayObject(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(er){if(er.length===0)return null;const e=er.lastIndexOf("/");return e===-1?"":er.slice(0,e)}function child(er,e){const tr=e.split("/").filter(rr=>rr.length>0).join("/");return er.length===0?tr:er+"/"+tr}function lastComponent(er){const e=er.lastIndexOf("/",er.length-2);return e===-1?er:er.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(er,e){return e}class Mapping{constructor(e,tr,rr,nr){this.server=e,this.local=tr||e,this.writable=!!rr,this.xform=nr||noXform_}}let mappings_=null;function xformPath(er){return!isString(er)||er.length<2?er:lastComponent(er)}function getMappings(){if(mappings_)return mappings_;const er=[];er.push(new Mapping("bucket")),er.push(new Mapping("generation")),er.push(new Mapping("metageneration")),er.push(new Mapping("name","fullPath",!0));function e(ir,sr){return xformPath(sr)}const tr=new Mapping("name");tr.xform=e,er.push(tr);function rr(ir,sr){return sr!==void 0?Number(sr):sr}const nr=new Mapping("size");return nr.xform=rr,er.push(nr),er.push(new Mapping("timeCreated")),er.push(new Mapping("updated")),er.push(new Mapping("md5Hash",null,!0)),er.push(new Mapping("cacheControl",null,!0)),er.push(new Mapping("contentDisposition",null,!0)),er.push(new Mapping("contentEncoding",null,!0)),er.push(new Mapping("contentLanguage",null,!0)),er.push(new Mapping("contentType",null,!0)),er.push(new Mapping("metadata","customMetadata",!0)),mappings_=er,mappings_}function addRef(er,e){function tr(){const rr=er.bucket,nr=er.fullPath,ir=new Location(rr,nr);return e._makeStorageReference(ir)}Object.defineProperty(er,"ref",{get:tr})}function fromResource(er,e,tr){const rr={};rr.type="file";const nr=tr.length;for(let ir=0;ir<nr;ir++){const sr=tr[ir];rr[sr.local]=sr.xform(rr,e[sr.server])}return addRef(rr,er),rr}function fromResourceString(er,e,tr){const rr=jsonObjectOrNull(e);return rr===null?null:fromResource(er,rr,tr)}function downloadUrlFromResourceString(er,e,tr,rr){const nr=jsonObjectOrNull(e);if(nr===null||!isString(nr.downloadTokens))return null;const ir=nr.downloadTokens;if(ir.length===0)return null;const sr=encodeURIComponent;return ir.split(",").map(lr=>{const cr=er.bucket,dr=er.fullPath,hr="/b/"+sr(cr)+"/o/"+sr(dr),ur=makeUrl(hr,tr,rr),pr=makeQueryString({alt:"media",token:lr});return ur+pr})[0]}function toResourceString(er,e){const tr={},rr=e.length;for(let nr=0;nr<rr;nr++){const ir=e[nr];ir.writable&&(tr[ir.server]=er[ir.local])}return JSON.stringify(tr)}class RequestInfo{constructor(e,tr,rr,nr){this.url=e,this.method=tr,this.handler=rr,this.timeout=nr,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(er){if(!er)throw unknown()}function metadataHandler(er,e){function tr(rr,nr){const ir=fromResourceString(er,nr,e);return handlerCheck(ir!==null),ir}return tr}function downloadUrlHandler(er,e){function tr(rr,nr){const ir=fromResourceString(er,nr,e);return handlerCheck(ir!==null),downloadUrlFromResourceString(ir,nr,er.host,er._protocol)}return tr}function sharedErrorHandler(er){function e(tr,rr){let nr;return tr.getStatus()===401?tr.getErrorText().includes("Firebase App Check token is invalid")?nr=unauthorizedApp():nr=unauthenticated():tr.getStatus()===402?nr=quotaExceeded(er.bucket):tr.getStatus()===403?nr=unauthorized(er.path):nr=rr,nr.status=tr.getStatus(),nr.serverResponse=rr.serverResponse,nr}return e}function objectErrorHandler(er){const e=sharedErrorHandler(er);function tr(rr,nr){let ir=e(rr,nr);return rr.getStatus()===404&&(ir=objectNotFound(er.path)),ir.serverResponse=nr.serverResponse,ir}return tr}function getDownloadUrl(er,e,tr){const rr=e.fullServerUrl(),nr=makeUrl(rr,er.host,er._protocol),ir="GET",sr=er.maxOperationRetryTime,or=new RequestInfo(nr,ir,downloadUrlHandler(er,tr),sr);return or.errorHandler=objectErrorHandler(e),or}function deleteObject$2(er,e){const tr=e.fullServerUrl(),rr=makeUrl(tr,er.host,er._protocol),nr="DELETE",ir=er.maxOperationRetryTime;function sr(ar,lr){}const or=new RequestInfo(rr,nr,sr,ir);return or.successCodes=[200,204],or.errorHandler=objectErrorHandler(e),or}function determineContentType_(er,e){return er&&er.contentType||e&&e.type()||"application/octet-stream"}function metadataForUpload_(er,e,tr){const rr=Object.assign({},tr);return rr.fullPath=er.path,rr.size=e.size(),rr.contentType||(rr.contentType=determineContentType_(null,e)),rr}function multipartUpload(er,e,tr,rr,nr){const ir=e.bucketOnlyServerUrl(),sr={"X-Goog-Upload-Protocol":"multipart"};function or(){let vr="";for(let br=0;br<2;br++)vr=vr+Math.random().toString().slice(2);return vr}const ar=or();sr["Content-Type"]="multipart/related; boundary="+ar;const lr=metadataForUpload_(e,rr,nr),cr=toResourceString(lr,tr),dr="--"+ar+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+cr+`\r
--`+ar+`\r
Content-Type: `+lr.contentType+`\r
\r
`,hr=`\r
--`+ar+"--",ur=FbsBlob.getBlob(dr,rr,hr);if(ur===null)throw cannotSliceBlob();const pr={name:lr.fullPath},mr=makeUrl(ir,er.host,er._protocol),fr="POST",gr=er.maxUploadRetryTime,yr=new RequestInfo(mr,fr,metadataHandler(er,tr),gr);return yr.urlParams=pr,yr.headers=sr,yr.body=ur.uploadData(),yr.errorHandler=sharedErrorHandler(e),yr}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,tr,rr,nr){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(tr,e,!0),nr!==void 0)for(const ir in nr)nr.hasOwnProperty(ir)&&this.xhr_.setRequestHeader(ir,nr[ir].toString());return rr!==void 0?this.xhr_.send(rr):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,tr){this._service=e,tr instanceof Location?this._location=tr:this._location=Location.makeFromUrl(tr,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,tr){return new Reference(e,tr)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const tr=new Location(this._location.bucket,e);return new Reference(this._service,tr)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function uploadBytes$1(er,e,tr){er._throwIfRoot("uploadBytes");const rr=multipartUpload(er.storage,er._location,getMappings(),new FbsBlob(e,!0),tr);return er.storage.makeRequestWithTokens(rr,newTextConnection).then(nr=>({metadata:nr,ref:er}))}function getDownloadURL$1(er){er._throwIfRoot("getDownloadURL");const e=getDownloadUrl(er.storage,er._location,getMappings());return er.storage.makeRequestWithTokens(e,newTextConnection).then(tr=>{if(tr===null)throw noDownloadURL();return tr})}function deleteObject$1(er){er._throwIfRoot("deleteObject");const e=deleteObject$2(er.storage,er._location);return er.storage.makeRequestWithTokens(e,newTextConnection)}function _getChild$1(er,e){const tr=child(er._location.path,e),rr=new Location(er._location.bucket,tr);return new Reference(er.storage,rr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(er){return/^[A-Za-z]+:\/\//.test(er)}function refFromURL(er,e){return new Reference(er,e)}function refFromPath(er,e){if(er instanceof FirebaseStorageImpl){const tr=er;if(tr._bucket==null)throw noDefaultBucket();const rr=new Reference(tr,tr._bucket);return e!=null?refFromPath(rr,e):rr}else return e!==void 0?_getChild$1(er,e):er}function ref$1(er,e){if(e&&isUrl(e)){if(er instanceof FirebaseStorageImpl)return refFromURL(er,e);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(er,e)}function extractBucket(er,e){const tr=e==null?void 0:e[CONFIG_STORAGE_BUCKET_KEY];return tr==null?null:Location.makeFromBucketSpec(tr,er)}function connectStorageEmulator$1(er,e,tr,rr={}){er.host=`${e}:${tr}`,er._protocol="http";const{mockUserToken:nr}=rr;nr&&(er._overrideAuthToken=typeof nr=="string"?nr:createMockUserToken(nr,er.app.options.projectId))}class FirebaseStorageImpl{constructor(e,tr,rr,nr,ir){this.app=e,this._authProvider=tr,this._appCheckProvider=rr,this._url=nr,this._firebaseVersion=ir,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,nr!=null?this._bucket=Location.makeFromBucketSpec(nr,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const tr=await e.getToken();if(tr!==null)return tr.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,tr,rr,nr,ir=!0){if(this._deleted)return new FailRequest(appDeleted());{const sr=makeRequest(e,this._appId,rr,nr,tr,this._firebaseVersion,ir);return this._requests.add(sr),sr.getPromise().then(()=>this._requests.delete(sr),()=>this._requests.delete(sr)),sr}}async makeRequestWithTokens(e,tr){const[rr,nr]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,tr,rr,nr).getPromise()}}const name="@firebase/storage",version="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(er,e,tr){return er=getModularInstance(er),uploadBytes$1(er,e,tr)}function getDownloadURL(er){return er=getModularInstance(er),getDownloadURL$1(er)}function deleteObject(er){return er=getModularInstance(er),deleteObject$1(er)}function ref(er,e){return er=getModularInstance(er),ref$1(er,e)}function getStorage(er=getApp(),e){er=getModularInstance(er);const rr=_getProvider(er,STORAGE_TYPE).getImmediate({identifier:e}),nr=getDefaultEmulatorHostnameAndPort("storage");return nr&&connectStorageEmulator(rr,...nr),rr}function connectStorageEmulator(er,e,tr,rr={}){connectStorageEmulator$1(er,e,tr,rr)}function factory(er,{instanceIdentifier:e}){const tr=er.getProvider("app").getImmediate(),rr=er.getProvider("auth-internal"),nr=er.getProvider("app-check-internal");return new FirebaseStorageImpl(tr,rr,nr,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAQNZionq01KS9F6O5m03ybWueO6SFuPPU",authDomain:"app-inventario-repuestos.firebaseapp.com",projectId:"app-inventario-repuestos",storageBucket:"app-inventario-repuestos.firebasestorage.app",messagingSenderId:"14780417870",appId:"1:14780417870:web:28269ae58be0f9d72fc01f"},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app),AuthContext=reactExports.createContext(null);function AuthProvider({children:er}){const[e,tr]=reactExports.useState(null),[rr,nr]=reactExports.useState(!0);reactExports.useEffect(()=>{const or=onAuthStateChanged(auth,ar=>{tr(ar),nr(!1)});return()=>or()},[]);const ir=async(or,ar)=>{try{await signInWithEmailAndPassword(auth,or,ar)}catch(lr){throw console.error("Error al iniciar sesin:",lr),lr}},sr=async()=>{try{await signOut(auth)}catch(or){throw console.error("Error al cerrar sesin:",or),or}};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:e,loading:rr,signIn:ir,signOut:sr},children:er})}function useAuth(){const er=reactExports.useContext(AuthContext);if(!er)throw new Error("useAuth debe usarse dentro de AuthProvider");return er}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=er=>er.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...er)=>er.filter((e,tr,rr)=>!!e&&e.trim()!==""&&rr.indexOf(e)===tr).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:er="currentColor",size:e=24,strokeWidth:tr=2,absoluteStrokeWidth:rr,className:nr="",children:ir,iconNode:sr,...or},ar)=>reactExports.createElement("svg",{ref:ar,...defaultAttributes,width:e,height:e,stroke:er,strokeWidth:rr?Number(tr)*24/Number(e):tr,className:mergeClasses("lucide",nr),...or},[...sr.map(([lr,cr])=>reactExports.createElement(lr,cr)),...Array.isArray(ir)?ir:[ir]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(er,e)=>{const tr=reactExports.forwardRef(({className:rr,...nr},ir)=>reactExports.createElement(Icon$1,{ref:ir,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(er)}`,rr),...nr}));return tr.displayName=`${er}`,tr};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowDown=createLucideIcon("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpDown=createLucideIcon("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUp=createLucideIcon("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookMarked=createLucideIcon("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartPie=createLucideIcon("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CirclePlus=createLucideIcon("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Columns2=createLucideIcon("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDriveDownload=createLucideIcon("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDriveUpload=createLucideIcon("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SlidersHorizontal=createLucideIcon("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const StarOff=createLucideIcon("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function LoginForm(){const{signIn:er}=useAuth(),[e,tr]=reactExports.useState(""),[rr,nr]=reactExports.useState(""),[ir,sr]=reactExports.useState(""),[or,ar]=reactExports.useState(!1),lr=async cr=>{cr.preventDefault(),sr(""),ar(!0);try{await er(e,rr)}catch(dr){sr("Credenciales invlidas. Verifica tu email y contrasea."),console.error(dr)}finally{ar(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-xl mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white",children:"B"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Baader 200"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de Repuestos"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("form",{onSubmit:lr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),jsxRuntimeExports.jsx("input",{type:"email",value:e,onChange:cr=>tr(cr.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@ejemplo.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),jsxRuntimeExports.jsx("input",{type:"password",value:rr,onChange:cr=>nr(cr.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"",required:!0})]}),ir&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:ir}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:or,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[or?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(LogIn,{className:"w-5 h-5"}),or?"Ingresando...":"Ingresar"]})]})}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Acceso exclusivo para administradores"})]})})}const scriptRel="modulepreload",assetsURL=function(er){return"/Baader-200-Repuestos-app/"+er},seen={},__vitePreload=function(e,tr,rr){let nr=Promise.resolve();if(tr&&tr.length>0){document.getElementsByTagName("link");const sr=document.querySelector("meta[property=csp-nonce]"),or=(sr==null?void 0:sr.nonce)||(sr==null?void 0:sr.getAttribute("nonce"));nr=Promise.allSettled(tr.map(ar=>{if(ar=assetsURL(ar),ar in seen)return;seen[ar]=!0;const lr=ar.endsWith(".css"),cr=lr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ar}"]${cr}`))return;const dr=document.createElement("link");if(dr.rel=lr?"stylesheet":scriptRel,lr||(dr.as="script"),dr.crossOrigin="",dr.href=ar,or&&dr.setAttribute("nonce",or),document.head.appendChild(dr),lr)return new Promise((hr,ur)=>{dr.addEventListener("load",hr),dr.addEventListener("error",()=>ur(new Error(`Unable to preload CSS for ${ar}`)))})}))}function ir(sr){const or=new Event("vite:preloadError",{cancelable:!0});if(or.payload=sr,window.dispatchEvent(or),!or.defaultPrevented)throw sr}return nr.then(sr=>{for(const or of sr||[])or.status==="rejected"&&ir(or.reason);return e().catch(ir)})},COLLECTION_NAME="repuestosBaader200";function useRepuestos(){const[er,e]=reactExports.useState([]),[tr,rr]=reactExports.useState(!0),[nr,ir]=reactExports.useState(null);reactExports.useEffect(()=>{const pr=query(collection(db,COLLECTION_NAME),orderBy$1("codigoSAP")),mr=onSnapshot(pr,fr=>{const gr=fr.docs.map(yr=>{var vr,br,Sr;return{id:yr.id,...yr.data(),createdAt:((vr=yr.data().createdAt)==null?void 0:vr.toDate())||new Date,updatedAt:((br=yr.data().updatedAt)==null?void 0:br.toDate())||new Date,fechaUltimaActualizacionInventario:((Sr=yr.data().fechaUltimaActualizacionInventario)==null?void 0:Sr.toDate())||null}});e(gr),rr(!1)},fr=>{console.error("Error al obtener repuestos:",fr),ir(fr.message),rr(!1)});return()=>mr()},[]);const sr=async(pr,mr,fr,gr)=>{try{await addDoc(collection(db,COLLECTION_NAME,pr,"historial"),{campo:mr,valorAnterior:fr,valorNuevo:gr,fecha:Timestamp.now()})}catch(yr){console.error("Error al agregar historial:",yr)}},or=reactExports.useCallback(async pr=>{try{const mr={...pr,total:pr.cantidadSolicitada*pr.valorUnitario+pr.cantidadStockBodega*pr.valorUnitario,fechaUltimaActualizacionInventario:pr.cantidadStockBodega>0?Timestamp.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Timestamp.now(),updatedAt:Timestamp.now()},fr=await addDoc(collection(db,COLLECTION_NAME),mr);return await sr(fr.id,"creacion",null,JSON.stringify(pr)),fr.id}catch(mr){throw console.error("Error al crear repuesto:",mr),mr}},[]),ar=reactExports.useCallback(async(pr,mr,fr)=>{try{const gr={...mr,updatedAt:Timestamp.now()};if(mr.cantidadSolicitada!==void 0||mr.valorUnitario!==void 0||mr.cantidadStockBodega!==void 0){const yr=mr.cantidadSolicitada??(fr==null?void 0:fr.cantidadSolicitada)??0,vr=mr.cantidadStockBodega??(fr==null?void 0:fr.cantidadStockBodega)??0,br=mr.valorUnitario??(fr==null?void 0:fr.valorUnitario)??0;gr.total=yr*br+vr*br}if(mr.cantidadStockBodega!==void 0&&(gr.fechaUltimaActualizacionInventario=Timestamp.now()),await updateDoc(doc(db,COLLECTION_NAME,pr),gr),fr)for(const yr of Object.keys(mr))mr[yr]!==fr[yr]&&await sr(pr,yr,fr[yr],mr[yr])}catch(gr){throw console.error("Error al actualizar repuesto:",gr),gr}},[]),lr=reactExports.useCallback(async pr=>{try{const mr=collection(db,COLLECTION_NAME,pr,"historial"),fr=await getDocs(mr),gr=writeBatch(db);fr.docs.forEach(yr=>{gr.delete(yr.ref)}),await gr.commit(),await deleteDoc(doc(db,COLLECTION_NAME,pr))}catch(mr){throw console.error("Error al eliminar repuesto:",mr),mr}},[]),cr=reactExports.useCallback(async pr=>{try{const mr=query(collection(db,COLLECTION_NAME,pr,"historial"),orderBy$1("fecha","desc"));return(await getDocs(mr)).docs.map(gr=>{var yr;return{id:gr.id,repuestoId:pr,...gr.data(),fecha:((yr=gr.data().fecha)==null?void 0:yr.toDate())||new Date}})}catch(mr){return console.error("Error al obtener historial:",mr),[]}},[]),dr=reactExports.useCallback(async pr=>{try{const mr=writeBatch(db);for(const fr of pr){const gr=doc(collection(db,COLLECTION_NAME));mr.set(gr,{...fr,total:fr.cantidadSolicitada*fr.valorUnitario,fechaUltimaActualizacionInventario:fr.cantidadStockBodega>0?Timestamp.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Timestamp.now(),updatedAt:Timestamp.now()})}await mr.commit()}catch(mr){throw console.error("Error al importar repuestos:",mr),mr}},[]),hr=reactExports.useCallback(async(pr,mr)=>{var fr;try{const gr=writeBatch(db);let yr=0;for(const vr of er)if((fr=vr.tags)!=null&&fr.includes(pr)){const br=vr.tags.map(Sr=>Sr===pr?mr:Sr);gr.update(doc(db,COLLECTION_NAME,vr.id),{tags:br,updatedAt:Timestamp.now()}),yr++}return yr>0&&await gr.commit(),yr}catch(gr){throw console.error("Error al renombrar tag:",gr),gr}},[er]),ur=reactExports.useCallback(async pr=>{var mr;try{const fr=writeBatch(db);let gr=0;for(const yr of er)if((mr=yr.tags)!=null&&mr.includes(pr)){const vr=yr.tags.filter(br=>br!==pr);fr.update(doc(db,COLLECTION_NAME,yr.id),{tags:vr,updatedAt:Timestamp.now()}),gr++}return gr>0&&await fr.commit(),gr}catch(fr){throw console.error("Error al eliminar tag:",fr),fr}},[er]);return{repuestos:er,loading:tr,error:nr,createRepuesto:or,updateRepuesto:ar,deleteRepuesto:lr,getHistorial:cr,importRepuestos:dr,renameTag:hr,deleteTag:ur}}function useStorage(){const[er,e]=reactExports.useState(!1),[tr,rr]=reactExports.useState(0),nr=reactExports.useCallback(async(ar,lr,cr)=>{e(!0),rr(0);try{const dr=Date.now(),hr=`${dr}_${ar.name}`,ur=`repuestos/${lr}/${cr}/${hr}`,pr=ref(storage,ur);await uploadBytes(pr,ar),rr(100);const mr=await getDownloadURL(pr);return{id:`${dr}`,url:mr,descripcion:"",orden:0,esPrincipal:!1,tipo:cr,createdAt:new Date}}catch(dr){throw console.error("Error al subir imagen:",dr),dr}finally{e(!1),rr(0)}},[]),ir=reactExports.useCallback(async ar=>{try{const lr=ref(storage,ar);await deleteObject(lr)}catch(lr){console.error("Error al eliminar imagen:",lr)}},[]),sr=reactExports.useCallback(async ar=>{e(!0),rr(0);try{const cr=ref(storage,"manual/BAADER 200 nparte y materiales.pdf");return await uploadBytes(cr,ar),rr(100),await getDownloadURL(cr)}catch(lr){throw console.error("Error al subir PDF:",lr),lr}finally{e(!1),rr(0)}},[]),or=reactExports.useCallback(async()=>{try{const lr=ref(storage,"manual/BAADER 200 nparte y materiales.pdf");return await getDownloadURL(lr)}catch(ar){return console.error("Manual no encontrado:",ar),null}},[]);return{uploading:er,progress:tr,uploadImage:nr,deleteImage:ir,uploadManualPDF:sr,getManualURL:or}}const STORAGE_KEY$1="baader_app_state";function useLocalStorage(){const[er,e]=reactExports.useState({lastSelectedRepuestoId:null});reactExports.useEffect(()=>{try{const nr=localStorage.getItem(STORAGE_KEY$1);nr&&e(JSON.parse(nr))}catch(nr){console.error("Error al cargar estado local:",nr)}},[]);const tr=reactExports.useCallback(nr=>{e(ir=>{const sr={...ir,lastSelectedRepuestoId:nr};return localStorage.setItem(STORAGE_KEY$1,JSON.stringify(sr)),sr})},[]),rr=reactExports.useCallback(()=>er.lastSelectedRepuestoId,[er.lastSelectedRepuestoId]);return{lastSelectedRepuestoId:er.lastSelectedRepuestoId,setLastSelectedRepuesto:tr,getLastSelectedRepuesto:rr}}function useToast(){const[er,e]=reactExports.useState([]),tr=reactExports.useCallback((ar,lr="info",cr=3e3)=>{const dr=`toast_${Date.now()}`,hr={id:dr,message:ar,type:lr,duration:cr};return e(ur=>[...ur,hr]),cr>0&&setTimeout(()=>{e(ur=>ur.filter(pr=>pr.id!==dr))},cr),dr},[]),rr=reactExports.useCallback(ar=>{e(lr=>lr.filter(cr=>cr.id!==ar))},[]),nr=reactExports.useCallback(ar=>tr(ar,"success"),[tr]),ir=reactExports.useCallback(ar=>tr(ar,"error",5e3),[tr]),sr=reactExports.useCallback(ar=>tr(ar,"warning"),[tr]),or=reactExports.useCallback(ar=>tr(ar,"info"),[tr]);return{toasts:er,addToast:tr,removeToast:rr,success:nr,error:ir,warning:sr,info:or}}const THEME_KEY="baader_theme";function useTheme(){const[er,e]=reactExports.useState(()=>{if(typeof window<"u"){const ir=localStorage.getItem(THEME_KEY);if(ir==="light"||ir==="dark")return ir;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});reactExports.useEffect(()=>{const ir=document.documentElement;er==="dark"?ir.classList.add("dark"):ir.classList.remove("dark"),localStorage.setItem(THEME_KEY,er)},[er]),reactExports.useEffect(()=>{const ir=window.matchMedia("(prefers-color-scheme: dark)"),sr=or=>{localStorage.getItem(THEME_KEY)||e(or.matches?"dark":"light")};return ir.addEventListener("change",sr),()=>ir.removeEventListener("change",sr)},[]);const tr=reactExports.useCallback(ir=>{e(ir)},[]),rr=reactExports.useCallback(()=>{e(ir=>ir==="light"?"dark":"light")},[]);return{theme:er,setTheme:tr,toggleTheme:rr,isDark:er==="dark"}}function commonjsRequire(er){throw new Error('Could not dynamically require "'+er+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(e,tr){module.exports=e.pdfjsLib=tr()})(globalThis,()=>(()=>{var __webpack_modules__=[,(er,e)=>{var xs;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=xr,e.bytesToString=Zr,e.createValidAbsoluteUrl=zr,e.getModificationDate=Bn,e.getUuid=vs,e.getVerbosityLevel=Tr,e.info=_r,e.isArrayBuffer=En,e.isArrayEqual=zn,e.isNodeJS=void 0,e.normalizeUnicode=qn,e.objectFromMap=dn,e.objectSize=cn,e.setVerbosityLevel=Dr,e.shadow=Or,e.string32=Qr,e.stringToBytes=nn,e.stringToPDFString=yn,e.stringToUTF8String=Cn,e.unreachable=Er,e.utf8StringToString=Rn,e.warn=wr;const tr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=tr;const rr=[1,0,0,1,0,0];e.IDENTITY_MATRIX=rr;const nr=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=nr;const ir=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=ir;const sr=1.35;e.LINE_FACTOR=sr;const or=.35;e.LINE_DESCENT_FACTOR=or;const ar=or/sr;e.BASELINE_FACTOR=ar;const lr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=lr;const cr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=cr;const dr="pdfjs_internal_editor_";e.AnnotationEditorPrefix=dr;const hr={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=hr;const ur={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=ur;const pr={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=pr;const mr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=mr;const fr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=fr;const gr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=gr;const yr={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=yr;const vr={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=vr;const br={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=br;const Sr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=Sr;const jr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=jr;const Cr={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=Cr;const Pr={O:"PageOpen",C:"PageClose"};e.PageActionEventType=Pr;const Rr={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Rr;const Lr={NONE:0,BINARY:1};e.CMapCompressionType=Lr;const Ir={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=Ir;const Nr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Nr;let Ar=Rr.WARNINGS;function Dr(Vn){Number.isInteger(Vn)&&(Ar=Vn)}function Tr(){return Ar}function _r(Vn){Ar>=Rr.INFOS&&console.log(`Info: ${Vn}`)}function wr(Vn){Ar>=Rr.WARNINGS&&console.log(`Warning: ${Vn}`)}function Er(Vn){throw new Error(Vn)}function xr(Vn,On){Vn||Er(On)}function Mr(Vn){switch(Vn==null?void 0:Vn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function zr(Vn,On=null,Mn=null){if(!Vn)return null;try{if(Mn&&typeof Vn=="string"){if(Mn.addDefaultProtocol&&Vn.startsWith("www.")){const In=Vn.match(/\./g);(In==null?void 0:In.length)>=2&&(Vn=`http://${Vn}`)}if(Mn.tryConvertEncoding)try{Vn=Cn(Vn)}catch{}}const ds=On?new URL(Vn,On):new URL(Vn);if(Mr(ds))return ds}catch{}return null}function Or(Vn,On,Mn,ds=!1){return Object.defineProperty(Vn,On,{value:Mn,enumerable:!ds,configurable:!0,writable:!1}),Mn}const Br=function(){function On(Mn,ds){this.constructor===On&&Er("Cannot initialize BaseException."),this.message=Mn,this.name=ds}return On.prototype=new Error,On.constructor=On,On}();e.BaseException=Br;class Ur extends Br{constructor(On,Mn){super(On,"PasswordException"),this.code=Mn}}e.PasswordException=Ur;class qr extends Br{constructor(On,Mn){super(On,"UnknownErrorException"),this.details=Mn}}e.UnknownErrorException=qr;class Vr extends Br{constructor(On){super(On,"InvalidPDFException")}}e.InvalidPDFException=Vr;class Gr extends Br{constructor(On){super(On,"MissingPDFException")}}e.MissingPDFException=Gr;class $r extends Br{constructor(On,Mn){super(On,"UnexpectedResponseException"),this.status=Mn}}e.UnexpectedResponseException=$r;class Fr extends Br{constructor(On){super(On,"FormatError")}}e.FormatError=Fr;class Kr extends Br{constructor(On){super(On,"AbortException")}}e.AbortException=Kr;function Zr(Vn){(typeof Vn!="object"||(Vn==null?void 0:Vn.length)===void 0)&&Er("Invalid argument for bytesToString");const On=Vn.length,Mn=8192;if(On<Mn)return String.fromCharCode.apply(null,Vn);const ds=[];for(let In=0;In<On;In+=Mn){const ss=Math.min(In+Mn,On),bn=Vn.subarray(In,ss);ds.push(String.fromCharCode.apply(null,bn))}return ds.join("")}function nn(Vn){typeof Vn!="string"&&Er("Invalid argument for stringToBytes");const On=Vn.length,Mn=new Uint8Array(On);for(let ds=0;ds<On;++ds)Mn[ds]=Vn.charCodeAt(ds)&255;return Mn}function Qr(Vn){return String.fromCharCode(Vn>>24&255,Vn>>16&255,Vn>>8&255,Vn&255)}function cn(Vn){return Object.keys(Vn).length}function dn(Vn){const On=Object.create(null);for(const[Mn,ds]of Vn)On[Mn]=ds;return On}function en(){const Vn=new Uint8Array(4);return Vn[0]=1,new Uint32Array(Vn.buffer,0,1)[0]===1}function an(){try{return new Function(""),!0}catch{return!1}}class tn{static get isLittleEndian(){return Or(this,"isLittleEndian",en())}static get isEvalSupported(){return Or(this,"isEvalSupported",an())}static get isOffscreenCanvasSupported(){return Or(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Or(this,"platform",{isWin:!1,isMac:!1}):Or(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var On,Mn;return Or(this,"isCSSRoundSupported",(Mn=(On=globalThis.CSS)==null?void 0:On.supports)==null?void 0:Mn.call(On,"width: round(1.5px, 1px)"))}}e.FeatureTest=tn;const sn=[...Array(256).keys()].map(Vn=>Vn.toString(16).padStart(2,"0"));class fn{static makeHexColor(On,Mn,ds){return`#${sn[On]}${sn[Mn]}${sn[ds]}`}static scaleMinMax(On,Mn){let ds;On[0]?(On[0]<0&&(ds=Mn[0],Mn[0]=Mn[1],Mn[1]=ds),Mn[0]*=On[0],Mn[1]*=On[0],On[3]<0&&(ds=Mn[2],Mn[2]=Mn[3],Mn[3]=ds),Mn[2]*=On[3],Mn[3]*=On[3]):(ds=Mn[0],Mn[0]=Mn[2],Mn[2]=ds,ds=Mn[1],Mn[1]=Mn[3],Mn[3]=ds,On[1]<0&&(ds=Mn[2],Mn[2]=Mn[3],Mn[3]=ds),Mn[2]*=On[1],Mn[3]*=On[1],On[2]<0&&(ds=Mn[0],Mn[0]=Mn[1],Mn[1]=ds),Mn[0]*=On[2],Mn[1]*=On[2]),Mn[0]+=On[4],Mn[1]+=On[4],Mn[2]+=On[5],Mn[3]+=On[5]}static transform(On,Mn){return[On[0]*Mn[0]+On[2]*Mn[1],On[1]*Mn[0]+On[3]*Mn[1],On[0]*Mn[2]+On[2]*Mn[3],On[1]*Mn[2]+On[3]*Mn[3],On[0]*Mn[4]+On[2]*Mn[5]+On[4],On[1]*Mn[4]+On[3]*Mn[5]+On[5]]}static applyTransform(On,Mn){const ds=On[0]*Mn[0]+On[1]*Mn[2]+Mn[4],In=On[0]*Mn[1]+On[1]*Mn[3]+Mn[5];return[ds,In]}static applyInverseTransform(On,Mn){const ds=Mn[0]*Mn[3]-Mn[1]*Mn[2],In=(On[0]*Mn[3]-On[1]*Mn[2]+Mn[2]*Mn[5]-Mn[4]*Mn[3])/ds,ss=(-On[0]*Mn[1]+On[1]*Mn[0]+Mn[4]*Mn[1]-Mn[5]*Mn[0])/ds;return[In,ss]}static getAxialAlignedBoundingBox(On,Mn){const ds=this.applyTransform(On,Mn),In=this.applyTransform(On.slice(2,4),Mn),ss=this.applyTransform([On[0],On[3]],Mn),bn=this.applyTransform([On[2],On[1]],Mn);return[Math.min(ds[0],In[0],ss[0],bn[0]),Math.min(ds[1],In[1],ss[1],bn[1]),Math.max(ds[0],In[0],ss[0],bn[0]),Math.max(ds[1],In[1],ss[1],bn[1])]}static inverseTransform(On){const Mn=On[0]*On[3]-On[1]*On[2];return[On[3]/Mn,-On[1]/Mn,-On[2]/Mn,On[0]/Mn,(On[2]*On[5]-On[4]*On[3])/Mn,(On[4]*On[1]-On[5]*On[0])/Mn]}static singularValueDecompose2dScale(On){const Mn=[On[0],On[2],On[1],On[3]],ds=On[0]*Mn[0]+On[1]*Mn[2],In=On[0]*Mn[1]+On[1]*Mn[3],ss=On[2]*Mn[0]+On[3]*Mn[2],bn=On[2]*Mn[1]+On[3]*Mn[3],$n=(ds+bn)/2,Un=Math.sqrt((ds+bn)**2-4*(ds*bn-ss*In))/2,Kn=$n+Un||1,hs=$n-Un||1;return[Math.sqrt(Kn),Math.sqrt(hs)]}static normalizeRect(On){const Mn=On.slice(0);return On[0]>On[2]&&(Mn[0]=On[2],Mn[2]=On[0]),On[1]>On[3]&&(Mn[1]=On[3],Mn[3]=On[1]),Mn}static intersect(On,Mn){const ds=Math.max(Math.min(On[0],On[2]),Math.min(Mn[0],Mn[2])),In=Math.min(Math.max(On[0],On[2]),Math.max(Mn[0],Mn[2]));if(ds>In)return null;const ss=Math.max(Math.min(On[1],On[3]),Math.min(Mn[1],Mn[3])),bn=Math.min(Math.max(On[1],On[3]),Math.max(Mn[1],Mn[3]));return ss>bn?null:[ds,ss,In,bn]}static bezierBoundingBox(On,Mn,ds,In,ss,bn,$n,Un){const Kn=[],hs=[[],[]];let ps,An,xn,jn,Ln,Yn,Jn,Sn;for(let Cs=0;Cs<2;++Cs){if(Cs===0?(An=6*On-12*ds+6*ss,ps=-3*On+9*ds-9*ss+3*$n,xn=3*ds-3*On):(An=6*Mn-12*In+6*bn,ps=-3*Mn+9*In-9*bn+3*Un,xn=3*In-3*Mn),Math.abs(ps)<1e-12){if(Math.abs(An)<1e-12)continue;jn=-xn/An,0<jn&&jn<1&&Kn.push(jn);continue}Jn=An*An-4*xn*ps,Sn=Math.sqrt(Jn),!(Jn<0)&&(Ln=(-An+Sn)/(2*ps),0<Ln&&Ln<1&&Kn.push(Ln),Yn=(-An-Sn)/(2*ps),0<Yn&&Yn<1&&Kn.push(Yn))}let Dn=Kn.length,Wn;const _i=Dn;for(;Dn--;)jn=Kn[Dn],Wn=1-jn,hs[0][Dn]=Wn*Wn*Wn*On+3*Wn*Wn*jn*ds+3*Wn*jn*jn*ss+jn*jn*jn*$n,hs[1][Dn]=Wn*Wn*Wn*Mn+3*Wn*Wn*jn*In+3*Wn*jn*jn*bn+jn*jn*jn*Un;return hs[0][_i]=On,hs[1][_i]=Mn,hs[0][_i+1]=$n,hs[1][_i+1]=Un,hs[0].length=hs[1].length=_i+2,[Math.min(...hs[0]),Math.min(...hs[1]),Math.max(...hs[0]),Math.max(...hs[1])]}}e.Util=fn;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function yn(Vn){if(Vn[0]>=""){let Mn;if(Vn[0]===""&&Vn[1]===""?Mn="utf-16be":Vn[0]===""&&Vn[1]===""?Mn="utf-16le":Vn[0]===""&&Vn[1]===""&&Vn[2]===""&&(Mn="utf-8"),Mn)try{const ds=new TextDecoder(Mn,{fatal:!0}),In=nn(Vn);return ds.decode(In)}catch(ds){wr(`stringToPDFString: "${ds}".`)}}const On=[];for(let Mn=0,ds=Vn.length;Mn<ds;Mn++){const In=pn[Vn.charCodeAt(Mn)];On.push(In?String.fromCharCode(In):Vn.charAt(Mn))}return On.join("")}function Cn(Vn){return decodeURIComponent(escape(Vn))}function Rn(Vn){return unescape(encodeURIComponent(Vn))}function En(Vn){return typeof Vn=="object"&&(Vn==null?void 0:Vn.byteLength)!==void 0}function zn(Vn,On){if(Vn.length!==On.length)return!1;for(let Mn=0,ds=Vn.length;Mn<ds;Mn++)if(Vn[Mn]!==On[Mn])return!1;return!0}function Bn(Vn=new Date){return[Vn.getUTCFullYear().toString(),(Vn.getUTCMonth()+1).toString().padStart(2,"0"),Vn.getUTCDate().toString().padStart(2,"0"),Vn.getUTCHours().toString().padStart(2,"0"),Vn.getUTCMinutes().toString().padStart(2,"0"),Vn.getUTCSeconds().toString().padStart(2,"0")].join("")}class rs{constructor(){ns(this,xs,!1);this.promise=new Promise((On,Mn)=>{this.resolve=ds=>{ls(this,xs,!0),On(ds)},this.reject=ds=>{ls(this,xs,!0),Mn(ds)}})}get settled(){return on(this,xs)}}xs=new WeakMap,e.PromiseCapability=rs;let cs=null,_s=null;function qn(Vn){return cs||(cs=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_s=new Map([["","t"]])),Vn.replaceAll(cs,(On,Mn,ds)=>Mn?Mn.normalize("NFKC"):_s.get(ds))}function vs(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Vn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Vn);else for(let On=0;On<32;On++)Vn[On]=Math.floor(Math.random()*255);return Zr(Vn)}const fs="pdfjs_internal_id_";e.AnnotationPrefix=fs},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var er,tr,rr,nr,yp,mm,or,ar,lr,cr,dr,hr,ur,pr,mr,gm,gr,yr,Gm,br,Sr;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Cr){if(typeof Cr=="string"||Cr instanceof URL?Cr={url:Cr}:(0,_util.isArrayBuffer)(Cr)&&(Cr={data:Cr}),typeof Cr!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Cr.url&&!Cr.data&&!Cr.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Pr=new PDFDocumentLoadingTask,{docId:Rr}=Pr,Lr=Cr.url?getUrlProp(Cr.url):null,Ir=Cr.data?getDataProp(Cr.data):null,Nr=Cr.httpHeaders||null,Ar=Cr.withCredentials===!0,Dr=Cr.password??null,Tr=Cr.range instanceof PDFDataRangeTransport?Cr.range:null,_r=Number.isInteger(Cr.rangeChunkSize)&&Cr.rangeChunkSize>0?Cr.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let wr=Cr.worker instanceof PDFWorker?Cr.worker:null;const Er=Cr.verbosity,xr=typeof Cr.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Cr.docBaseUrl)?Cr.docBaseUrl:null,Mr=typeof Cr.cMapUrl=="string"?Cr.cMapUrl:null,zr=Cr.cMapPacked!==!1,Or=Cr.CMapReaderFactory||DefaultCMapReaderFactory,Br=typeof Cr.standardFontDataUrl=="string"?Cr.standardFontDataUrl:null,Ur=Cr.StandardFontDataFactory||DefaultStandardFontDataFactory,qr=Cr.stopAtErrors!==!0,Vr=Number.isInteger(Cr.maxImageSize)&&Cr.maxImageSize>-1?Cr.maxImageSize:-1,Gr=Cr.isEvalSupported!==!1,$r=typeof Cr.isOffscreenCanvasSupported=="boolean"?Cr.isOffscreenCanvasSupported:!_util.isNodeJS,Fr=Number.isInteger(Cr.canvasMaxAreaInBytes)?Cr.canvasMaxAreaInBytes:-1,Kr=typeof Cr.disableFontFace=="boolean"?Cr.disableFontFace:_util.isNodeJS,Zr=Cr.fontExtraProperties===!0,nn=Cr.enableXfa===!0,Qr=Cr.ownerDocument||globalThis.document,cn=Cr.disableRange===!0,dn=Cr.disableStream===!0,en=Cr.disableAutoFetch===!0,an=Cr.pdfBug===!0,tn=Tr?Tr.length:Cr.length??NaN,sn=typeof Cr.useSystemFonts=="boolean"?Cr.useSystemFonts:!_util.isNodeJS&&!Kr,fn=typeof Cr.useWorkerFetch=="boolean"?Cr.useWorkerFetch:Or===_display_utils.DOMCMapReaderFactory&&Ur===_display_utils.DOMStandardFontDataFactory&&Mr&&Br&&(0,_display_utils.isValidFetchUrl)(Mr,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Br,document.baseURI),pn=Cr.canvasFactory||new DefaultCanvasFactory({ownerDocument:Qr}),yn=Cr.filterFactory||new DefaultFilterFactory({docId:Rr,ownerDocument:Qr}),Cn=null;(0,_util.setVerbosityLevel)(Er);const Rn={canvasFactory:pn,filterFactory:yn};if(fn||(Rn.cMapReaderFactory=new Or({baseUrl:Mr,isCompressed:zr}),Rn.standardFontDataFactory=new Ur({baseUrl:Br})),!wr){const Bn={verbosity:Er,port:_worker_options.GlobalWorkerOptions.workerPort};wr=Bn.port?PDFWorker.fromPort(Bn):new PDFWorker(Bn),Pr._worker=wr}const En={docId:Rr,apiVersion:"3.11.174",data:Ir,password:Dr,disableAutoFetch:en,rangeChunkSize:_r,length:tn,docBaseUrl:xr,enableXfa:nn,evaluatorOptions:{maxImageSize:Vr,disableFontFace:Kr,ignoreErrors:qr,isEvalSupported:Gr,isOffscreenCanvasSupported:$r,canvasMaxAreaInBytes:Fr,fontExtraProperties:Zr,useSystemFonts:sn,cMapUrl:fn?Mr:null,standardFontDataUrl:fn?Br:null}},zn={ignoreErrors:qr,isEvalSupported:Gr,disableFontFace:Kr,fontExtraProperties:Zr,enableXfa:nn,ownerDocument:Qr,disableAutoFetch:en,pdfBug:an,styleElement:Cn};return wr.promise.then(function(){if(Pr.destroyed)throw new Error("Loading aborted");const Bn=_fetchDocument(wr,En),rs=new Promise(function(cs){let _s;Tr?_s=new _transport_stream.PDFDataTransportStream({length:tn,initialData:Tr.initialData,progressiveDone:Tr.progressiveDone,contentDispositionFilename:Tr.contentDispositionFilename,disableRange:cn,disableStream:dn},Tr):Ir||(_s=(vs=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(vs):(0,_display_utils.isValidFetchUrl)(vs.url)?new _displayFetch_stream.PDFFetchStream(vs):new _displayNetwork.PDFNetworkStream(vs))({url:Lr,length:tn,httpHeaders:Nr,withCredentials:Ar,rangeChunkSize:_r,disableRange:cn,disableStream:dn})),cs(_s)});return Promise.all([Bn,rs]).then(function([cs,_s]){if(Pr.destroyed)throw new Error("Loading aborted");const qn=new _message_handler.MessageHandler(Rr,cs,wr.port),vs=new WorkerTransport(qn,Pr,_s,zn,Rn);Pr._transport=vs,qn.send("Ready",null)})}).catch(Pr._capability.reject),Pr}async function _fetchDocument(Cr,Pr){if(Cr.destroyed)throw new Error("Worker was destroyed");const Rr=await Cr.messageHandler.sendWithPromise("GetDocRequest",Pr,Pr.data?[Pr.data.buffer]:null);if(Cr.destroyed)throw new Error("Worker was destroyed");return Rr}function getUrlProp(Cr){if(Cr instanceof URL)return Cr.href;try{return new URL(Cr,window.location).href}catch{if(_util.isNodeJS&&typeof Cr=="string")return Cr}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Cr){if(_util.isNodeJS&&typeof Buffer<"u"&&Cr instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Cr instanceof Uint8Array&&Cr.byteLength===Cr.buffer.byteLength)return Cr;if(typeof Cr=="string")return(0,_util.stringToBytes)(Cr);if(typeof Cr=="object"&&!isNaN(Cr==null?void 0:Cr.length)||(0,_util.isArrayBuffer)(Cr))return new Uint8Array(Cr);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Dp(e,er)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Pr,Rr,Lr;this.destroyed=!0;try{(Pr=this._worker)!=null&&Pr.port&&(this._worker._pendingDestroy=!0),await((Rr=this._transport)==null?void 0:Rr.destroy())}catch(Ir){throw(Lr=this._worker)!=null&&Lr.port&&delete this._worker._pendingDestroy,Ir}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};er=new WeakMap,ns(e,er,0);let PDFDocumentLoadingTask=e;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Pr,Rr,Lr=!1,Ir=null){this.length=Pr,this.initialData=Rr,this.progressiveDone=Lr,this.contentDispositionFilename=Ir,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Pr){this._rangeListeners.push(Pr)}addProgressListener(Pr){this._progressListeners.push(Pr)}addProgressiveReadListener(Pr){this._progressiveReadListeners.push(Pr)}addProgressiveDoneListener(Pr){this._progressiveDoneListeners.push(Pr)}onDataRange(Pr,Rr){for(const Lr of this._rangeListeners)Lr(Pr,Rr)}onDataProgress(Pr,Rr){this._readyCapability.promise.then(()=>{for(const Lr of this._progressListeners)Lr(Pr,Rr)})}onDataProgressiveRead(Pr){this._readyCapability.promise.then(()=>{for(const Rr of this._progressiveReadListeners)Rr(Pr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Pr of this._progressiveDoneListeners)Pr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Pr,Rr){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Pr,Rr){this._pdfInfo=Pr,this._transport=Rr,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Lr=>{if(!Lr)return Lr;const Ir=[];for(const Nr in Lr)Ir.push(...Lr[Nr]);return Ir}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Pr){return this._transport.getPage(Pr)}getPageIndex(Pr){return this._transport.getPageIndex(Pr)}getDestinations(){return this._transport.getDestinations()}getDestination(Pr){return this._transport.getDestination(Pr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Pr=!1){return this._transport.startCleanup(Pr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Pr,Rr,Lr,Ir=!1){ns(this,nr);ns(this,tr,null);ns(this,rr,!1);this._pageIndex=Pr,this._pageInfo=Rr,this._transport=Lr,this._stats=Ir?new _display_utils.StatTimer:null,this._pdfBug=Ir,this.commonObjs=Lr.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Pr,rotation:Rr=this.rotate,offsetX:Lr=0,offsetY:Ir=0,dontFlip:Nr=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Pr,rotation:Rr,offsetX:Lr,offsetY:Ir,dontFlip:Nr})}getAnnotations({intent:Pr="display"}={}){const Rr=this._transport.getRenderingIntent(Pr);return this._transport.getAnnotations(this._pageIndex,Rr.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Pr;return((Pr=this._transport._htmlForXfa)==null?void 0:Pr.children[this._pageIndex])||null}render({canvasContext:Pr,viewport:Rr,intent:Lr="display",annotationMode:Ir=_util.AnnotationMode.ENABLE,transform:Nr=null,background:Ar=null,optionalContentConfigPromise:Dr=null,annotationCanvasMap:Tr=null,pageColors:_r=null,printAnnotationStorage:wr=null}){var Ur,qr;(Ur=this._stats)==null||Ur.time("Overall");const Er=this._transport.getRenderingIntent(Lr,Ir,wr);ls(this,rr,!1),Xn(this,nr,mm).call(this),Dr||(Dr=this._transport.getOptionalContentConfig());let xr=this._intentStates.get(Er.cacheKey);xr||(xr=Object.create(null),this._intentStates.set(Er.cacheKey,xr)),xr.streamReaderCancelTimeout&&(clearTimeout(xr.streamReaderCancelTimeout),xr.streamReaderCancelTimeout=null);const Mr=!!(Er.renderingIntent&_util.RenderingIntentFlag.PRINT);xr.displayReadyCapability||(xr.displayReadyCapability=new _util.PromiseCapability,xr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(qr=this._stats)==null||qr.time("Page Request"),this._pumpOperatorList(Er));const zr=Vr=>{var Gr,$r;xr.renderTasks.delete(Or),(this._maybeCleanupAfterRender||Mr)&&ls(this,rr,!0),Xn(this,nr,yp).call(this,!Mr),Vr?(Or.capability.reject(Vr),this._abortOperatorList({intentState:xr,reason:Vr instanceof Error?Vr:new Error(Vr)})):Or.capability.resolve(),(Gr=this._stats)==null||Gr.timeEnd("Rendering"),($r=this._stats)==null||$r.timeEnd("Overall")},Or=new InternalRenderTask({callback:zr,params:{canvasContext:Pr,viewport:Rr,transform:Nr,background:Ar},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Tr,operatorList:xr.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Mr,pdfBug:this._pdfBug,pageColors:_r});(xr.renderTasks||(xr.renderTasks=new Set)).add(Or);const Br=Or.task;return Promise.all([xr.displayReadyCapability.promise,Dr]).then(([Vr,Gr])=>{var $r;if(this.destroyed){zr();return}($r=this._stats)==null||$r.time("Rendering"),Or.initializeGraphics({transparency:Vr,optionalContentConfig:Gr}),Or.operatorListChanged()}).catch(zr),Br}getOperatorList({intent:Pr="display",annotationMode:Rr=_util.AnnotationMode.ENABLE,printAnnotationStorage:Lr=null}={}){var Tr;function Ir(){Ar.operatorList.lastChunk&&(Ar.opListReadCapability.resolve(Ar.operatorList),Ar.renderTasks.delete(Dr))}const Nr=this._transport.getRenderingIntent(Pr,Rr,Lr,!0);let Ar=this._intentStates.get(Nr.cacheKey);Ar||(Ar=Object.create(null),this._intentStates.set(Nr.cacheKey,Ar));let Dr;return Ar.opListReadCapability||(Dr=Object.create(null),Dr.operatorListChanged=Ir,Ar.opListReadCapability=new _util.PromiseCapability,(Ar.renderTasks||(Ar.renderTasks=new Set)).add(Dr),Ar.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Tr=this._stats)==null||Tr.time("Page Request"),this._pumpOperatorList(Nr)),Ar.opListReadCapability.promise}streamTextContent({includeMarkedContent:Pr=!1,disableNormalization:Rr=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Pr===!0,disableNormalization:Rr===!0},{highWaterMark:100,size(Ir){return Ir.items.length}})}getTextContent(Pr={}){if(this._transport._htmlForXfa)return this.getXfa().then(Lr=>_xfa_text.XfaText.textContent(Lr));const Rr=this.streamTextContent(Pr);return new Promise(function(Lr,Ir){function Nr(){Ar.read().then(function({value:Tr,done:_r}){if(_r){Lr(Dr);return}Object.assign(Dr.styles,Tr.styles),Dr.items.push(...Tr.items),Nr()},Ir)}const Ar=Rr.getReader(),Dr={items:[],styles:Object.create(null)};Nr()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Pr=[];for(const Rr of this._intentStates.values())if(this._abortOperatorList({intentState:Rr,reason:new Error("Page was destroyed."),force:!0}),!Rr.opListReadCapability)for(const Lr of Rr.renderTasks)Pr.push(Lr.completed),Lr.cancel();return this.objs.clear(),ls(this,rr,!1),Xn(this,nr,mm).call(this),Promise.all(Pr)}cleanup(Pr=!1){ls(this,rr,!0);const Rr=Xn(this,nr,yp).call(this,!1);return Pr&&Rr&&this._stats&&(this._stats=new _display_utils.StatTimer),Rr}_startRenderPage(Pr,Rr){var Ir,Nr;const Lr=this._intentStates.get(Rr);Lr&&((Ir=this._stats)==null||Ir.timeEnd("Page Request"),(Nr=Lr.displayReadyCapability)==null||Nr.resolve(Pr))}_renderPageChunk(Pr,Rr){for(let Lr=0,Ir=Pr.length;Lr<Ir;Lr++)Rr.operatorList.fnArray.push(Pr.fnArray[Lr]),Rr.operatorList.argsArray.push(Pr.argsArray[Lr]);Rr.operatorList.lastChunk=Pr.lastChunk,Rr.operatorList.separateAnnots=Pr.separateAnnots;for(const Lr of Rr.renderTasks)Lr.operatorListChanged();Pr.lastChunk&&Xn(this,nr,yp).call(this,!0)}_pumpOperatorList({renderingIntent:Pr,cacheKey:Rr,annotationStorageSerializable:Lr}){const{map:Ir,transfers:Nr}=Lr,Dr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Pr,cacheKey:Rr,annotationStorage:Ir},Nr).getReader(),Tr=this._intentStates.get(Rr);Tr.streamReader=Dr;const _r=()=>{Dr.read().then(({value:wr,done:Er})=>{if(Er){Tr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(wr,Tr),_r())},wr=>{if(Tr.streamReader=null,!this._transport.destroyed){if(Tr.operatorList){Tr.operatorList.lastChunk=!0;for(const Er of Tr.renderTasks)Er.operatorListChanged();Xn(this,nr,yp).call(this,!0)}if(Tr.displayReadyCapability)Tr.displayReadyCapability.reject(wr);else if(Tr.opListReadCapability)Tr.opListReadCapability.reject(wr);else throw wr}})};_r()}_abortOperatorList({intentState:Pr,reason:Rr,force:Lr=!1}){if(Pr.streamReader){if(Pr.streamReaderCancelTimeout&&(clearTimeout(Pr.streamReaderCancelTimeout),Pr.streamReaderCancelTimeout=null),!Lr){if(Pr.renderTasks.size>0)return;if(Rr instanceof _display_utils.RenderingCancelledException){let Ir=RENDERING_CANCELLED_TIMEOUT;Rr.extraDelay>0&&Rr.extraDelay<1e3&&(Ir+=Rr.extraDelay),Pr.streamReaderCancelTimeout=setTimeout(()=>{Pr.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Pr,reason:Rr,force:!0})},Ir);return}}if(Pr.streamReader.cancel(new _util.AbortException(Rr.message)).catch(()=>{}),Pr.streamReader=null,!this._transport.destroyed){for(const[Ir,Nr]of this._intentStates)if(Nr===Pr){this._intentStates.delete(Ir);break}this.cleanup()}}}get stats(){return this._stats}}tr=new WeakMap,rr=new WeakMap,nr=new WeakSet,yp=function(Pr=!1){if(Xn(this,nr,mm).call(this),!on(this,rr)||this.destroyed)return!1;if(Pr)return ls(this,tr,setTimeout(()=>{ls(this,tr,null),Xn(this,nr,yp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Rr,operatorList:Lr}of this._intentStates.values())if(Rr.size>0||!Lr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ls(this,rr,!1),!0},mm=function(){on(this,tr)&&(clearTimeout(on(this,tr)),ls(this,tr,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ns(this,or,new Set);ns(this,ar,Promise.resolve())}postMessage(Pr,Rr){const Lr={data:structuredClone(Pr,Rr?{transfer:Rr}:null)};on(this,ar).then(()=>{for(const Ir of on(this,or))Ir.call(this,Lr)})}addEventListener(Pr,Rr){on(this,or).add(Rr)}removeEventListener(Pr,Rr){on(this,or).delete(Rr)}terminate(){on(this,or).clear()}}or=new WeakMap,ar=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Cr=(lr=document==null?void 0:document.currentScript)==null?void 0:lr.src;Cr&&(PDFWorkerUtil.fallbackWorkerSrc=Cr.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Cr,Pr){let Rr;try{if(Rr=new URL(Cr),!Rr.origin||Rr.origin==="null")return!1}catch{return!1}const Lr=new URL(Pr,Rr);return Rr.origin===Lr.origin},PDFWorkerUtil.createCDNWrapper=function(Cr){const Pr=`importScripts("${Cr}");`;return URL.createObjectURL(new Blob([Pr]))}}const _PDFWorker=class _PDFWorker{constructor({name:Cr=null,port:Pr=null,verbosity:Rr=(0,_util.getVerbosityLevel)()}={}){var Lr;if(this.name=Cr,this.destroyed=!1,this.verbosity=Rr,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Pr){if((Lr=on(_PDFWorker,cr))!=null&&Lr.has(Pr))throw new Error("Cannot use more than one PDFWorker per port.");(on(_PDFWorker,cr)||ls(_PDFWorker,cr,new WeakMap)).set(Pr,this),this._initializeFromPort(Pr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Cr){this._port=Cr,this._messageHandler=new _message_handler.MessageHandler("main","worker",Cr),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Cr}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Cr)||(Cr=PDFWorkerUtil.createCDNWrapper(new URL(Cr,window.location).href));const Pr=new Worker(Cr),Rr=new _message_handler.MessageHandler("main","worker",Pr),Lr=()=>{Pr.removeEventListener("error",Ir),Rr.destroy(),Pr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ir=()=>{this._webWorker||Lr()};Pr.addEventListener("error",Ir),Rr.on("test",Ar=>{if(Pr.removeEventListener("error",Ir),this.destroyed){Lr();return}Ar?(this._messageHandler=Rr,this._port=Pr,this._webWorker=Pr,this._readyCapability.resolve(),Rr.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Rr.destroy(),Pr.terminate())}),Rr.on("ready",Ar=>{if(Pr.removeEventListener("error",Ir),this.destroyed){Lr();return}try{Nr()}catch{this._setupFakeWorker()}});const Nr=()=>{const Ar=new Uint8Array;Rr.send("test",Ar,[Ar.buffer])};Nr();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Cr=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Pr=new LoopbackPort;this._port=Pr;const Rr=`fake${PDFWorkerUtil.fakeWorkerId++}`,Lr=new _message_handler.MessageHandler(Rr+"_worker",Rr,Pr);Cr.setup(Lr,Pr);const Ir=new _message_handler.MessageHandler(Rr,Rr+"_worker",Pr);this._messageHandler=Ir,this._readyCapability.resolve(),Ir.send("configure",{verbosity:this.verbosity})}).catch(Cr=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Cr.message}".`))})}destroy(){var Cr;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Cr=on(_PDFWorker,cr))==null||Cr.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Cr){var Rr;if(!(Cr!=null&&Cr.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Pr=(Rr=on(this,cr))==null?void 0:Rr.get(Cr.port);if(Pr){if(Pr._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Pr}return new _PDFWorker(Cr)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Cr;try{return((Cr=globalThis.pdfjsWorker)==null?void 0:Cr.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};cr=new WeakMap,ns(_PDFWorker,cr);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(Pr,Rr,Lr,Ir,Nr){ns(this,mr);ns(this,dr,new Map);ns(this,hr,new Map);ns(this,ur,new Map);ns(this,pr,null);this.messageHandler=Pr,this.loadingTask=Rr,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ir.ownerDocument,styleElement:Ir.styleElement}),this._params=Ir,this.canvasFactory=Nr.canvasFactory,this.filterFactory=Nr.filterFactory,this.cMapReaderFactory=Nr.cMapReaderFactory,this.standardFontDataFactory=Nr.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Lr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Pr,Rr=_util.AnnotationMode.ENABLE,Lr=null,Ir=!1){let Nr=_util.RenderingIntentFlag.DISPLAY,Ar=_annotation_storage.SerializableEmpty;switch(Pr){case"any":Nr=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Nr=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Pr}`)}switch(Rr){case _util.AnnotationMode.DISABLE:Nr+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Nr+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Nr+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ar=(Nr&_util.RenderingIntentFlag.PRINT&&Lr instanceof _annotation_storage.PrintAnnotationStorage?Lr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Rr}`)}return Ir&&(Nr+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Nr,cacheKey:`${Nr}_${Ar.hash}`,annotationStorageSerializable:Ar}}destroy(){var Lr;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Lr=on(this,pr))==null||Lr.reject(new Error("Worker was destroyed during onPassword callback"));const Pr=[];for(const Ir of on(this,hr).values())Pr.push(Ir._destroy());on(this,hr).clear(),on(this,ur).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Rr=this.messageHandler.sendWithPromise("Terminate",null);return Pr.push(Rr),Promise.all(Pr).then(()=>{var Ir;this.commonObjs.clear(),this.fontLoader.clear(),on(this,dr).clear(),this.filterFactory.destroy(),(Ir=this._networkStream)==null||Ir.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Pr,loadingTask:Rr}=this;Pr.on("GetReader",(Lr,Ir)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Nr=>{this._lastProgress={loaded:Nr.loaded,total:Nr.total}},Ir.onPull=()=>{this._fullReader.read().then(function({value:Nr,done:Ar}){if(Ar){Ir.close();return}(0,_util.assert)(Nr instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ir.enqueue(new Uint8Array(Nr),1,[Nr])}).catch(Nr=>{Ir.error(Nr)})},Ir.onCancel=Nr=>{this._fullReader.cancel(Nr),Ir.ready.catch(Ar=>{if(!this.destroyed)throw Ar})}}),Pr.on("ReaderHeadersReady",Lr=>{const Ir=new _util.PromiseCapability,Nr=this._fullReader;return Nr.headersReady.then(()=>{var Ar;(!Nr.isStreamingSupported||!Nr.isRangeSupported)&&(this._lastProgress&&((Ar=Rr.onProgress)==null||Ar.call(Rr,this._lastProgress)),Nr.onProgress=Dr=>{var Tr;(Tr=Rr.onProgress)==null||Tr.call(Rr,{loaded:Dr.loaded,total:Dr.total})}),Ir.resolve({isStreamingSupported:Nr.isStreamingSupported,isRangeSupported:Nr.isRangeSupported,contentLength:Nr.contentLength})},Ir.reject),Ir.promise}),Pr.on("GetRangeReader",(Lr,Ir)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Nr=this._networkStream.getRangeReader(Lr.begin,Lr.end);if(!Nr){Ir.close();return}Ir.onPull=()=>{Nr.read().then(function({value:Ar,done:Dr}){if(Dr){Ir.close();return}(0,_util.assert)(Ar instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ir.enqueue(new Uint8Array(Ar),1,[Ar])}).catch(Ar=>{Ir.error(Ar)})},Ir.onCancel=Ar=>{Nr.cancel(Ar),Ir.ready.catch(Dr=>{if(!this.destroyed)throw Dr})}}),Pr.on("GetDoc",({pdfInfo:Lr})=>{this._numPages=Lr.numPages,this._htmlForXfa=Lr.htmlForXfa,delete Lr.htmlForXfa,Rr._capability.resolve(new PDFDocumentProxy(Lr,this))}),Pr.on("DocException",function(Lr){let Ir;switch(Lr.name){case"PasswordException":Ir=new _util.PasswordException(Lr.message,Lr.code);break;case"InvalidPDFException":Ir=new _util.InvalidPDFException(Lr.message);break;case"MissingPDFException":Ir=new _util.MissingPDFException(Lr.message);break;case"UnexpectedResponseException":Ir=new _util.UnexpectedResponseException(Lr.message,Lr.status);break;case"UnknownErrorException":Ir=new _util.UnknownErrorException(Lr.message,Lr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Rr._capability.reject(Ir)}),Pr.on("PasswordRequest",Lr=>{if(ls(this,pr,new _util.PromiseCapability),Rr.onPassword){const Ir=Nr=>{Nr instanceof Error?on(this,pr).reject(Nr):on(this,pr).resolve({password:Nr})};try{Rr.onPassword(Ir,Lr.code)}catch(Nr){on(this,pr).reject(Nr)}}else on(this,pr).reject(new _util.PasswordException(Lr.message,Lr.code));return on(this,pr).promise}),Pr.on("DataLoaded",Lr=>{var Ir;(Ir=Rr.onProgress)==null||Ir.call(Rr,{loaded:Lr.length,total:Lr.length}),this.downloadInfoCapability.resolve(Lr)}),Pr.on("StartRenderPage",Lr=>{if(this.destroyed)return;on(this,hr).get(Lr.pageIndex)._startRenderPage(Lr.transparency,Lr.cacheKey)}),Pr.on("commonobj",([Lr,Ir,Nr])=>{var Ar;if(!this.destroyed&&!this.commonObjs.has(Lr))switch(Ir){case"Font":const Dr=this._params;if("error"in Nr){const wr=Nr.error;(0,_util.warn)(`Error during font loading: ${wr}`),this.commonObjs.resolve(Lr,wr);break}const Tr=Dr.pdfBug&&((Ar=globalThis.FontInspector)!=null&&Ar.enabled)?(wr,Er)=>globalThis.FontInspector.fontAdded(wr,Er):null,_r=new _font_loader.FontFaceObject(Nr,{isEvalSupported:Dr.isEvalSupported,disableFontFace:Dr.disableFontFace,ignoreErrors:Dr.ignoreErrors,inspectFont:Tr});this.fontLoader.bind(_r).catch(wr=>Pr.sendWithPromise("FontFallback",{id:Lr})).finally(()=>{!Dr.fontExtraProperties&&_r.data&&(_r.data=null),this.commonObjs.resolve(Lr,_r)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Lr,Nr);break;default:throw new Error(`Got unknown common object type ${Ir}`)}}),Pr.on("obj",([Lr,Ir,Nr,Ar])=>{var Tr;if(this.destroyed)return;const Dr=on(this,hr).get(Ir);if(!Dr.objs.has(Lr))switch(Nr){case"Image":if(Dr.objs.resolve(Lr,Ar),Ar){let _r;if(Ar.bitmap){const{width:wr,height:Er}=Ar;_r=wr*Er*4}else _r=((Tr=Ar.data)==null?void 0:Tr.length)||0;_r>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Dr._maybeCleanupAfterRender=!0)}break;case"Pattern":Dr.objs.resolve(Lr,Ar);break;default:throw new Error(`Got unknown object type ${Nr}`)}}),Pr.on("DocProgress",Lr=>{var Ir;this.destroyed||(Ir=Rr.onProgress)==null||Ir.call(Rr,{loaded:Lr.loaded,total:Lr.total})}),Pr.on("FetchBuiltInCMap",Lr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Lr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Pr.on("FetchStandardFontData",Lr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Lr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Lr;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Pr,transfers:Rr}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Pr,filename:((Lr=this._fullReader)==null?void 0:Lr.filename)??null},Rr).finally(()=>{this.annotationStorage.resetModified()})}getPage(Pr){if(!Number.isInteger(Pr)||Pr<=0||Pr>this._numPages)return Promise.reject(new Error("Invalid page request."));const Rr=Pr-1,Lr=on(this,ur).get(Rr);if(Lr)return Lr;const Ir=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Rr}).then(Nr=>{if(this.destroyed)throw new Error("Transport destroyed");const Ar=new PDFPageProxy(Rr,Nr,this,this._params.pdfBug);return on(this,hr).set(Rr,Ar),Ar});return on(this,ur).set(Rr,Ir),Ir}getPageIndex(Pr){return typeof Pr!="object"||Pr===null||!Number.isInteger(Pr.num)||Pr.num<0||!Number.isInteger(Pr.gen)||Pr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Pr.num,gen:Pr.gen})}getAnnotations(Pr,Rr){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Pr,intent:Rr})}getFieldObjects(){return Xn(this,mr,gm).call(this,"GetFieldObjects")}hasJSActions(){return Xn(this,mr,gm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Pr){return typeof Pr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Pr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Xn(this,mr,gm).call(this,"GetDocJSActions")}getPageJSActions(Pr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Pr})}getStructTree(Pr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Pr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Pr=>new _optional_content_config.OptionalContentConfig(Pr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Pr="GetMetadata",Rr=on(this,dr).get(Pr);if(Rr)return Rr;const Lr=this.messageHandler.sendWithPromise(Pr,null).then(Ir=>{var Nr,Ar;return{info:Ir[0],metadata:Ir[1]?new _metadata.Metadata(Ir[1]):null,contentDispositionFilename:((Nr=this._fullReader)==null?void 0:Nr.filename)??null,contentLength:((Ar=this._fullReader)==null?void 0:Ar.contentLength)??null}});return on(this,dr).set(Pr,Lr),Lr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Pr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Rr of on(this,hr).values())if(!Rr.cleanup())throw new Error(`startCleanup: Page ${Rr.pageNumber} is currently rendering.`);this.commonObjs.clear(),Pr||this.fontLoader.clear(),on(this,dr).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Pr,enableXfa:Rr}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Pr,enableXfa:Rr})}}dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakSet,gm=function(Pr,Rr=null){const Lr=on(this,dr).get(Pr);if(Lr)return Lr;const Ir=this.messageHandler.sendWithPromise(Pr,Rr);return on(this,dr).set(Pr,Ir),Ir};class PDFObjects{constructor(){ns(this,yr);ns(this,gr,Object.create(null))}get(Pr,Rr=null){if(Rr){const Ir=Xn(this,yr,Gm).call(this,Pr);return Ir.capability.promise.then(()=>Rr(Ir.data)),null}const Lr=on(this,gr)[Pr];if(!(Lr!=null&&Lr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Pr}.`);return Lr.data}has(Pr){const Rr=on(this,gr)[Pr];return(Rr==null?void 0:Rr.capability.settled)||!1}resolve(Pr,Rr=null){const Lr=Xn(this,yr,Gm).call(this,Pr);Lr.data=Rr,Lr.capability.resolve()}clear(){var Pr;for(const Rr in on(this,gr)){const{data:Lr}=on(this,gr)[Rr];(Pr=Lr==null?void 0:Lr.bitmap)==null||Pr.close()}ls(this,gr,Object.create(null))}}gr=new WeakMap,yr=new WeakSet,Gm=function(Pr){var Rr;return(Rr=on(this,gr))[Pr]||(Rr[Pr]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Pr){ns(this,br,null);ls(this,br,Pr),this.onContinue=null}get promise(){return on(this,br).capability.promise}cancel(Pr=0){on(this,br).cancel(null,Pr)}get separateAnnots(){const{separateAnnots:Pr}=on(this,br).operatorList;if(!Pr)return!1;const{annotationCanvasMap:Rr}=on(this,br);return Pr.form||Pr.canvas&&(Rr==null?void 0:Rr.size)>0}}br=new WeakMap,exports$1.RenderTask=RenderTask;const jr=class jr{constructor({callback:Pr,params:Rr,objs:Lr,commonObjs:Ir,annotationCanvasMap:Nr,operatorList:Ar,pageIndex:Dr,canvasFactory:Tr,filterFactory:_r,useRequestAnimationFrame:wr=!1,pdfBug:Er=!1,pageColors:xr=null}){this.callback=Pr,this.params=Rr,this.objs=Lr,this.commonObjs=Ir,this.annotationCanvasMap=Nr,this.operatorListIdx=null,this.operatorList=Ar,this._pageIndex=Dr,this.canvasFactory=Tr,this.filterFactory=_r,this._pdfBug=Er,this.pageColors=xr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=wr===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Rr.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Pr=!1,optionalContentConfig:Rr}){var Dr,Tr;if(this.cancelled)return;if(this._canvas){if(on(jr,Sr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");on(jr,Sr).add(this._canvas)}this._pdfBug&&((Dr=globalThis.StepperManager)!=null&&Dr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Lr,viewport:Ir,transform:Nr,background:Ar}=this.params;this.gfx=new _canvas.CanvasGraphics(Lr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Rr},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Nr,viewport:Ir,transparency:Pr,background:Ar}),this.operatorListIdx=0,this.graphicsReady=!0,(Tr=this.graphicsReadyCallback)==null||Tr.call(this)}cancel(Pr=null,Rr=0){var Lr;this.running=!1,this.cancelled=!0,(Lr=this.gfx)==null||Lr.endDrawing(),on(jr,Sr).delete(this._canvas),this.callback(Pr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Rr))}operatorListChanged(){var Pr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Pr=this.stepper)==null||Pr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),on(jr,Sr).delete(this._canvas),this.callback())))}};Sr=new WeakMap,ns(jr,Sr,new WeakSet);let InternalRenderTask=jr;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(er,e,tr)=>{var lr,cr,dr,ry,ur;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var rr=tr(1),nr=tr(4),ir=tr(8);const sr=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=sr;class or{constructor(){ns(this,dr);ns(this,lr,!1);ns(this,cr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mr,fr){const gr=on(this,cr).get(mr);return gr===void 0?fr:Object.assign(fr,gr)}getRawValue(mr){return on(this,cr).get(mr)}remove(mr){if(on(this,cr).delete(mr),on(this,cr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const fr of on(this,cr).values())if(fr instanceof nr.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mr,fr){const gr=on(this,cr).get(mr);let yr=!1;if(gr!==void 0)for(const[vr,br]of Object.entries(fr))gr[vr]!==br&&(yr=!0,gr[vr]=br);else yr=!0,on(this,cr).set(mr,fr);yr&&Xn(this,dr,ry).call(this),fr instanceof nr.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(fr.constructor._type)}has(mr){return on(this,cr).has(mr)}getAll(){return on(this,cr).size>0?(0,rr.objectFromMap)(on(this,cr)):null}setAll(mr){for(const[fr,gr]of Object.entries(mr))this.setValue(fr,gr)}get size(){return on(this,cr).size}resetModified(){on(this,lr)&&(ls(this,lr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ar(this)}get serializable(){if(on(this,cr).size===0)return sr;const mr=new Map,fr=new ir.MurmurHash3_64,gr=[],yr=Object.create(null);let vr=!1;for(const[br,Sr]of on(this,cr)){const jr=Sr instanceof nr.AnnotationEditor?Sr.serialize(!1,yr):Sr;jr&&(mr.set(br,jr),fr.update(`${br}:${JSON.stringify(jr)}`),vr||(vr=!!jr.bitmap))}if(vr)for(const br of mr.values())br.bitmap&&gr.push(br.bitmap);return mr.size>0?{map:mr,hash:fr.hexdigest(),transfers:gr}:sr}}lr=new WeakMap,cr=new WeakMap,dr=new WeakSet,ry=function(){on(this,lr)||(ls(this,lr,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=or;class ar extends or{constructor(fr){super();ns(this,ur);const{map:gr,hash:yr,transfers:vr}=fr.serializable,br=structuredClone(gr,vr?{transfer:vr}:null);ls(this,ur,{map:br,hash:yr,transfers:vr})}get print(){(0,rr.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return on(this,ur)}}ur=new WeakMap,e.PrintAnnotationStorage=ar},(er,e,tr)=>{var ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr,br,Sr,jr,Xm,Ym,Rr,Zm,Qm,ny,iy,sy,Jm,ay;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var rr=tr(5),nr=tr(1),ir=tr(6);const wr=class wr{constructor(xr){ns(this,jr);ns(this,ar,"");ns(this,lr,!1);ns(this,cr,null);ns(this,dr,null);ns(this,hr,null);ns(this,ur,!1);ns(this,pr,null);ns(this,mr,this.focusin.bind(this));ns(this,fr,this.focusout.bind(this));ns(this,gr,!1);ns(this,yr,!1);ns(this,vr,!1);ho(this,"_initialOptions",Object.create(null));ho(this,"_uiManager",null);ho(this,"_focusEventsAllowed",!0);ho(this,"_l10nPromise",null);ns(this,br,!1);ns(this,Sr,wr._zIndex++);this.constructor===wr&&(0,nr.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xr.parent,this.id=xr.id,this.width=this.height=null,this.pageIndex=xr.parent.pageIndex,this.name=xr.name,this.div=null,this._uiManager=xr.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xr.isCentered,this._structTreeParentId=null;const{rotation:Mr,rawDims:{pageWidth:zr,pageHeight:Or,pageX:Br,pageY:Ur}}=this.parent.viewport;this.rotation=Mr,this.pageRotation=(360+Mr-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[zr,Or],this.pageTranslation=[Br,Ur];const[qr,Vr]=this.parentDimensions;this.x=xr.x/qr,this.y=xr.y/Vr,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,nr.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xr){const Mr=new or({id:xr.parent.getNextId(),parent:xr.parent,uiManager:xr._uiManager});Mr.annotationElementId=xr.annotationElementId,Mr.deleted=!0,Mr._uiManager.addToAnnotationStorage(Mr)}static initialize(xr,Mr=null){if(wr._l10nPromise||(wr._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Or=>[Or,xr.get(Or)]))),Mr!=null&&Mr.strings)for(const Or of Mr.strings)wr._l10nPromise.set(Or,xr.get(Or));if(wr._borderLineWidth!==-1)return;const zr=getComputedStyle(document.documentElement);wr._borderLineWidth=parseFloat(zr.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xr,Mr){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xr){return!1}static paste(xr,Mr){(0,nr.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return on(this,br)}set _isDraggable(xr){var Mr;ls(this,br,xr),(Mr=this.div)==null||Mr.classList.toggle("draggable",xr)}center(){const[xr,Mr]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Mr/(xr*2),this.y+=this.width*xr/(Mr*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Mr/(xr*2),this.y-=this.width*xr/(Mr*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xr){this._uiManager.addCommands(xr)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=on(this,Sr)}setParent(xr){xr!==null&&(this.pageIndex=xr.pageIndex,this.pageDimensions=xr.pageDimensions),this.parent=xr}focusin(xr){this._focusEventsAllowed&&(on(this,gr)?ls(this,gr,!1):this.parent.setSelected(this))}focusout(xr){var zr;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Mr=xr.relatedTarget;Mr!=null&&Mr.closest(`#${this.id}`)||(xr.preventDefault(),(zr=this.parent)!=null&&zr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xr,Mr,zr,Or){const[Br,Ur]=this.parentDimensions;[zr,Or]=this.screenToPageTranslation(zr,Or),this.x=(xr+zr)/Br,this.y=(Mr+Or)/Ur,this.fixAndSetPosition()}translate(xr,Mr){Xn(this,jr,Xm).call(this,this.parentDimensions,xr,Mr)}translateInPage(xr,Mr){Xn(this,jr,Xm).call(this,this.pageDimensions,xr,Mr),this.div.scrollIntoView({block:"nearest"})}drag(xr,Mr){const[zr,Or]=this.parentDimensions;if(this.x+=xr/zr,this.y+=Mr/Or,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Gr,y:$r}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Gr,$r)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Br,y:Ur}=this;const[qr,Vr]=Xn(this,jr,Ym).call(this);Br+=qr,Ur+=Vr,this.div.style.left=`${(100*Br).toFixed(2)}%`,this.div.style.top=`${(100*Ur).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[xr,Mr]=this.pageDimensions;let{x:zr,y:Or,width:Br,height:Ur}=this;switch(Br*=xr,Ur*=Mr,zr*=xr,Or*=Mr,this.rotation){case 0:zr=Math.max(0,Math.min(xr-Br,zr)),Or=Math.max(0,Math.min(Mr-Ur,Or));break;case 90:zr=Math.max(0,Math.min(xr-Ur,zr)),Or=Math.min(Mr,Math.max(Br,Or));break;case 180:zr=Math.min(xr,Math.max(Br,zr)),Or=Math.min(Mr,Math.max(Ur,Or));break;case 270:zr=Math.min(xr,Math.max(Ur,zr)),Or=Math.max(0,Math.min(Mr-Br,Or));break}this.x=zr/=xr,this.y=Or/=Mr;const[qr,Vr]=Xn(this,jr,Ym).call(this);zr+=qr,Or+=Vr;const{style:Gr}=this.div;Gr.left=`${(100*zr).toFixed(2)}%`,Gr.top=`${(100*Or).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(xr,Mr){var zr;return Xn(zr=wr,Rr,Zm).call(zr,xr,Mr,this.parentRotation)}pageTranslationToScreen(xr,Mr){var zr;return Xn(zr=wr,Rr,Zm).call(zr,xr,Mr,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xr,pageDimensions:[Mr,zr]}=this,Or=Mr*xr,Br=zr*xr;return nr.FeatureTest.isCSSRoundSupported?[Math.round(Or),Math.round(Br)]:[Or,Br]}setDims(xr,Mr){var Br;const[zr,Or]=this.parentDimensions;this.div.style.width=`${(100*xr/zr).toFixed(2)}%`,on(this,ur)||(this.div.style.height=`${(100*Mr/Or).toFixed(2)}%`),(Br=on(this,cr))==null||Br.classList.toggle("small",xr<wr.SMALL_EDITOR_SIZE||Mr<wr.SMALL_EDITOR_SIZE)}fixDims(){const{style:xr}=this.div,{height:Mr,width:zr}=xr,Or=zr.endsWith("%"),Br=!on(this,ur)&&Mr.endsWith("%");if(Or&&Br)return;const[Ur,qr]=this.parentDimensions;Or||(xr.width=`${(100*parseFloat(zr)/Ur).toFixed(2)}%`),!on(this,ur)&&!Br&&(xr.height=`${(100*parseFloat(Mr)/qr).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(on(this,cr))return;const xr=ls(this,cr,document.createElement("button"));xr.className="altText";const Mr=await wr._l10nPromise.get("editor_alt_text_button_label");xr.textContent=Mr,xr.setAttribute("aria-label",Mr),xr.tabIndex="0",xr.addEventListener("contextmenu",ir.noContextMenu),xr.addEventListener("pointerdown",zr=>zr.stopPropagation()),xr.addEventListener("click",zr=>{zr.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xr.addEventListener("keydown",zr=>{zr.target===xr&&zr.key==="Enter"&&(zr.preventDefault(),this._uiManager.editAltText(this))}),Xn(this,jr,Jm).call(this),this.div.append(xr),wr.SMALL_EDITOR_SIZE||(wr.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xr.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:on(this,ar),decorative:on(this,lr)}}set altTextData({altText:xr,decorative:Mr}){on(this,ar)===xr&&on(this,lr)===Mr||(ls(this,ar,xr),ls(this,lr,Mr),Xn(this,jr,Jm).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",on(this,mr)),this.div.addEventListener("focusout",on(this,fr));const[xr,Mr]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Mr/xr).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xr/Mr).toFixed(2)}%`);const[zr,Or]=this.getInitialTranslation();return this.translate(zr,Or),(0,rr.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xr){const{isMac:Mr}=nr.FeatureTest.platform;if(xr.button!==0||xr.ctrlKey&&Mr){xr.preventDefault();return}ls(this,gr,!0),Xn(this,jr,ay).call(this,xr)}moveInDOM(){var xr;(xr=this.parent)==null||xr.moveEditorInDOM(this)}_setParentAndPosition(xr,Mr,zr){xr.changeParent(this),this.x=Mr,this.y=zr,this.fixAndSetPosition()}getRect(xr,Mr){const zr=this.parentScale,[Or,Br]=this.pageDimensions,[Ur,qr]=this.pageTranslation,Vr=xr/zr,Gr=Mr/zr,$r=this.x*Or,Fr=this.y*Br,Kr=this.width*Or,Zr=this.height*Br;switch(this.rotation){case 0:return[$r+Vr+Ur,Br-Fr-Gr-Zr+qr,$r+Vr+Kr+Ur,Br-Fr-Gr+qr];case 90:return[$r+Gr+Ur,Br-Fr+Vr+qr,$r+Gr+Zr+Ur,Br-Fr+Vr+Kr+qr];case 180:return[$r-Vr-Kr+Ur,Br-Fr+Gr+qr,$r-Vr+Ur,Br-Fr+Gr+Zr+qr];case 270:return[$r-Gr-Zr+Ur,Br-Fr-Vr-Kr+qr,$r-Gr+Ur,Br-Fr-Vr+qr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xr,Mr){const[zr,Or,Br,Ur]=xr,qr=Br-zr,Vr=Ur-Or;switch(this.rotation){case 0:return[zr,Mr-Ur,qr,Vr];case 90:return[zr,Mr-Or,Vr,qr];case 180:return[Br,Mr-Or,qr,Vr];case 270:return[Br,Mr-Ur,Vr,qr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ls(this,vr,!0)}disableEditMode(){ls(this,vr,!1)}isInEditMode(){return on(this,vr)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var xr,Mr;(xr=this.div)==null||xr.addEventListener("focusin",on(this,mr)),(Mr=this.div)==null||Mr.addEventListener("focusout",on(this,fr))}serialize(xr=!1,Mr=null){(0,nr.unreachable)("An editor must be serializable")}static deserialize(xr,Mr,zr){const Or=new this.prototype.constructor({parent:Mr,id:Mr.getNextId(),uiManager:zr});Or.rotation=xr.rotation;const[Br,Ur]=Or.pageDimensions,[qr,Vr,Gr,$r]=Or.getRectInCurrentCoords(xr.rect,Ur);return Or.x=qr/Br,Or.y=Vr/Ur,Or.width=Gr/Br,Or.height=$r/Ur,Or}remove(){var xr;this.div.removeEventListener("focusin",on(this,mr)),this.div.removeEventListener("focusout",on(this,fr)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(xr=on(this,cr))==null||xr.remove(),ls(this,cr,null),ls(this,dr,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Xn(this,jr,ny).call(this),on(this,pr).classList.remove("hidden"))}select(){var xr;this.makeResizable(),(xr=this.div)==null||xr.classList.add("selectedEditor")}unselect(){var xr,Mr,zr;(xr=on(this,pr))==null||xr.classList.add("hidden"),(Mr=this.div)==null||Mr.classList.remove("selectedEditor"),(zr=this.div)!=null&&zr.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xr,Mr){}disableEditing(){on(this,cr)&&(on(this,cr).hidden=!0)}enableEditing(){on(this,cr)&&(on(this,cr).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return on(this,yr)}set isEditing(xr){ls(this,yr,xr),this.parent&&(xr?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xr,Mr){ls(this,ur,!0);const zr=xr/Mr,{style:Or}=this.div;Or.aspectRatio=zr,Or.height="auto"}static get MIN_SIZE(){return 16}};ar=new WeakMap,lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,Sr=new WeakMap,jr=new WeakSet,Xm=function([xr,Mr],zr,Or){[zr,Or]=this.screenToPageTranslation(zr,Or),this.x+=zr/xr,this.y+=Or/Mr,this.fixAndSetPosition()},Ym=function(){const[xr,Mr]=this.parentDimensions,{_borderLineWidth:zr}=wr,Or=zr/xr,Br=zr/Mr;switch(this.rotation){case 90:return[-Or,Br];case 180:return[Or,Br];case 270:return[Or,-Br];default:return[-Or,-Br]}},Rr=new WeakSet,Zm=function(xr,Mr,zr){switch(zr){case 90:return[Mr,-xr];case 180:return[-xr,-Mr];case 270:return[-Mr,xr];default:return[xr,Mr]}},Qm=function(xr){switch(xr){case 90:{const[Mr,zr]=this.pageDimensions;return[0,-Mr/zr,zr/Mr,0]}case 180:return[-1,0,0,-1];case 270:{const[Mr,zr]=this.pageDimensions;return[0,Mr/zr,-zr/Mr,0]}default:return[1,0,0,1]}},ny=function(){if(on(this,pr))return;ls(this,pr,document.createElement("div")),on(this,pr).classList.add("resizers");const xr=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xr.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Mr of xr){const zr=document.createElement("div");on(this,pr).append(zr),zr.classList.add("resizer",Mr),zr.addEventListener("pointerdown",Xn(this,jr,iy).bind(this,Mr)),zr.addEventListener("contextmenu",ir.noContextMenu)}this.div.prepend(on(this,pr))},iy=function(xr,Mr){Mr.preventDefault();const{isMac:zr}=nr.FeatureTest.platform;if(Mr.button!==0||Mr.ctrlKey&&zr)return;const Or=Xn(this,jr,sy).bind(this,xr),Br=this._isDraggable;this._isDraggable=!1;const Ur={passive:!0,capture:!0};window.addEventListener("pointermove",Or,Ur);const qr=this.x,Vr=this.y,Gr=this.width,$r=this.height,Fr=this.parent.div.style.cursor,Kr=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Mr.target).cursor;const Zr=()=>{this._isDraggable=Br,window.removeEventListener("pointerup",Zr),window.removeEventListener("blur",Zr),window.removeEventListener("pointermove",Or,Ur),this.parent.div.style.cursor=Fr,this.div.style.cursor=Kr;const nn=this.x,Qr=this.y,cn=this.width,dn=this.height;nn===qr&&Qr===Vr&&cn===Gr&&dn===$r||this.addCommands({cmd:()=>{this.width=cn,this.height=dn,this.x=nn,this.y=Qr;const[en,an]=this.parentDimensions;this.setDims(en*cn,an*dn),this.fixAndSetPosition()},undo:()=>{this.width=Gr,this.height=$r,this.x=qr,this.y=Vr;const[en,an]=this.parentDimensions;this.setDims(en*Gr,an*$r),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Zr),window.addEventListener("blur",Zr)},sy=function(xr,Mr){const[zr,Or]=this.parentDimensions,Br=this.x,Ur=this.y,qr=this.width,Vr=this.height,Gr=wr.MIN_SIZE/zr,$r=wr.MIN_SIZE/Or,Fr=qn=>Math.round(qn*1e4)/1e4,Kr=Xn(this,jr,Qm).call(this,this.rotation),Zr=(qn,vs)=>[Kr[0]*qn+Kr[2]*vs,Kr[1]*qn+Kr[3]*vs],nn=Xn(this,jr,Qm).call(this,360-this.rotation),Qr=(qn,vs)=>[nn[0]*qn+nn[2]*vs,nn[1]*qn+nn[3]*vs];let cn,dn,en=!1,an=!1;switch(xr){case"topLeft":en=!0,cn=(qn,vs)=>[0,0],dn=(qn,vs)=>[qn,vs];break;case"topMiddle":cn=(qn,vs)=>[qn/2,0],dn=(qn,vs)=>[qn/2,vs];break;case"topRight":en=!0,cn=(qn,vs)=>[qn,0],dn=(qn,vs)=>[0,vs];break;case"middleRight":an=!0,cn=(qn,vs)=>[qn,vs/2],dn=(qn,vs)=>[0,vs/2];break;case"bottomRight":en=!0,cn=(qn,vs)=>[qn,vs],dn=(qn,vs)=>[0,0];break;case"bottomMiddle":cn=(qn,vs)=>[qn/2,vs],dn=(qn,vs)=>[qn/2,0];break;case"bottomLeft":en=!0,cn=(qn,vs)=>[0,vs],dn=(qn,vs)=>[qn,0];break;case"middleLeft":an=!0,cn=(qn,vs)=>[0,vs/2],dn=(qn,vs)=>[qn,vs/2];break}const tn=cn(qr,Vr),sn=dn(qr,Vr);let fn=Zr(...sn);const pn=Fr(Br+fn[0]),yn=Fr(Ur+fn[1]);let Cn=1,Rn=1,[En,zn]=this.screenToPageTranslation(Mr.movementX,Mr.movementY);if([En,zn]=Qr(En/zr,zn/Or),en){const qn=Math.hypot(qr,Vr);Cn=Rn=Math.max(Math.min(Math.hypot(sn[0]-tn[0]-En,sn[1]-tn[1]-zn)/qn,1/qr,1/Vr),Gr/qr,$r/Vr)}else an?Cn=Math.max(Gr,Math.min(1,Math.abs(sn[0]-tn[0]-En)))/qr:Rn=Math.max($r,Math.min(1,Math.abs(sn[1]-tn[1]-zn)))/Vr;const Bn=Fr(qr*Cn),rs=Fr(Vr*Rn);fn=Zr(...dn(Bn,rs));const cs=pn-fn[0],_s=yn-fn[1];this.width=Bn,this.height=rs,this.x=cs,this.y=_s,this.setDims(zr*Bn,Or*rs),this.fixAndSetPosition()},Jm=async function(){var zr;const xr=on(this,cr);if(!xr)return;if(!on(this,ar)&&!on(this,lr)){xr.classList.remove("done"),(zr=on(this,dr))==null||zr.remove();return}wr._l10nPromise.get("editor_alt_text_edit_button_label").then(Or=>{xr.setAttribute("aria-label",Or)});let Mr=on(this,dr);if(!Mr){ls(this,dr,Mr=document.createElement("span")),Mr.className="tooltip",Mr.setAttribute("role","tooltip");const Or=Mr.id=`alt-text-tooltip-${this.id}`;xr.setAttribute("aria-describedby",Or);const Br=100;xr.addEventListener("mouseenter",()=>{ls(this,hr,setTimeout(()=>{ls(this,hr,null),on(this,dr).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Br))}),xr.addEventListener("mouseleave",()=>{var Ur;clearTimeout(on(this,hr)),ls(this,hr,null),(Ur=on(this,dr))==null||Ur.classList.remove("show")})}xr.classList.add("done"),Mr.innerText=on(this,lr)?await wr._l10nPromise.get("editor_alt_text_decorative_tooltip"):on(this,ar),Mr.parentNode||xr.append(Mr)},ay=function(xr){if(!this._isDraggable)return;const Mr=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let zr,Or;Mr&&(zr={passive:!0,capture:!0},Or=Ur=>{const[qr,Vr]=this.screenToPageTranslation(Ur.movementX,Ur.movementY);this._uiManager.dragSelectedEditors(qr,Vr)},window.addEventListener("pointermove",Or,zr));const Br=()=>{if(window.removeEventListener("pointerup",Br),window.removeEventListener("blur",Br),Mr&&window.removeEventListener("pointermove",Or,zr),ls(this,gr,!1),!this._uiManager.endDragSession()){const{isMac:Ur}=nr.FeatureTest.platform;xr.ctrlKey&&!Ur||xr.shiftKey||xr.metaKey&&Ur?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Br),window.addEventListener("blur",Br)},ns(wr,Rr),ho(wr,"_borderLineWidth",-1),ho(wr,"_colorManager",new rr.ColorManager),ho(wr,"_zIndex",1),ho(wr,"SMALL_EDITOR_SIZE",0);let sr=wr;e.AnnotationEditor=sr;class or extends sr{constructor(xr){super(xr),this.annotationElementId=xr.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(er,e,tr)=>{var ur,pr,mr,fr,gr,_g,br,Sr,jr,Cr,Pr,oy,Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr,Mr,zr,Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr,nn,Qr,cn,dn,en,an,tn,sn,fn,pn,yn,Cn,Rn,En,ly,e0,r0,ym,n0,i0,Wl,Lp,cy,uy,s0,Fp,a0;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=ir,e.opacityToHex=sr;var rr=tr(1),nr=tr(6);function ir(ss,bn,$n){for(const Un of $n)bn.addEventListener(Un,ss[Un].bind(ss))}function sr(ss){return Math.round(Math.min(255,Math.max(1,255*ss))).toString(16).padStart(2,"0")}class or{constructor(){ns(this,ur,0)}getId(){return`${rr.AnnotationEditorPrefix}${Dp(this,ur)._++}`}}ur=new WeakMap;const vr=class vr{constructor(){ns(this,gr);ns(this,pr,(0,rr.getUuid)());ns(this,mr,0);ns(this,fr,null)}static get _isSVGFittingCanvas(){const bn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Un=new OffscreenCanvas(1,3).getContext("2d"),Kn=new Image;Kn.src=bn;const hs=Kn.decode().then(()=>(Un.drawImage(Kn,0,0,1,1,0,0,1,3),new Uint32Array(Un.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,rr.shadow)(this,"_isSVGFittingCanvas",hs)}async getFromFile(bn){const{lastModified:$n,name:Un,size:Kn,type:hs}=bn;return Xn(this,gr,_g).call(this,`${$n}_${Un}_${Kn}_${hs}`,bn)}async getFromUrl(bn){return Xn(this,gr,_g).call(this,bn,bn)}async getFromId(bn){on(this,fr)||ls(this,fr,new Map);const $n=on(this,fr).get(bn);return $n?$n.bitmap?($n.refCounter+=1,$n):$n.file?this.getFromFile($n.file):this.getFromUrl($n.url):null}getSvgUrl(bn){const $n=on(this,fr).get(bn);return $n!=null&&$n.isSvg?$n.svgUrl:null}deleteId(bn){on(this,fr)||ls(this,fr,new Map);const $n=on(this,fr).get(bn);$n&&($n.refCounter-=1,$n.refCounter===0&&($n.bitmap=null))}isValidId(bn){return bn.startsWith(`image_${on(this,pr)}_`)}};pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakSet,_g=async function(bn,$n){on(this,fr)||ls(this,fr,new Map);let Un=on(this,fr).get(bn);if(Un===null)return null;if(Un!=null&&Un.bitmap)return Un.refCounter+=1,Un;try{Un||(Un={bitmap:null,id:`image_${on(this,pr)}_${Dp(this,mr)._++}`,refCounter:0,isSvg:!1});let Kn;if(typeof $n=="string"){Un.url=$n;const hs=await fetch($n);if(!hs.ok)throw new Error(hs.statusText);Kn=await hs.blob()}else Kn=Un.file=$n;if(Kn.type==="image/svg+xml"){const hs=vr._isSVGFittingCanvas,ps=new FileReader,An=new Image,xn=new Promise((jn,Ln)=>{An.onload=()=>{Un.bitmap=An,Un.isSvg=!0,jn()},ps.onload=async()=>{const Yn=Un.svgUrl=ps.result;An.src=await hs?`${Yn}#svgView(preserveAspectRatio(none))`:Yn},An.onerror=ps.onerror=Ln});ps.readAsDataURL(Kn),await xn}else Un.bitmap=await createImageBitmap(Kn);Un.refCounter=1}catch(Kn){console.error(Kn),Un=null}return on(this,fr).set(bn,Un),Un&&on(this,fr).set(Un.id,Un),Un};let ar=vr;class lr{constructor(bn=128){ns(this,br,[]);ns(this,Sr,!1);ns(this,jr);ns(this,Cr,-1);ls(this,jr,bn)}add({cmd:bn,undo:$n,mustExec:Un,type:Kn=NaN,overwriteIfSameType:hs=!1,keepUndo:ps=!1}){if(Un&&bn(),on(this,Sr))return;const An={cmd:bn,undo:$n,type:Kn};if(on(this,Cr)===-1){on(this,br).length>0&&(on(this,br).length=0),ls(this,Cr,0),on(this,br).push(An);return}if(hs&&on(this,br)[on(this,Cr)].type===Kn){ps&&(An.undo=on(this,br)[on(this,Cr)].undo),on(this,br)[on(this,Cr)]=An;return}const xn=on(this,Cr)+1;xn===on(this,jr)?on(this,br).splice(0,1):(ls(this,Cr,xn),xn<on(this,br).length&&on(this,br).splice(xn)),on(this,br).push(An)}undo(){on(this,Cr)!==-1&&(ls(this,Sr,!0),on(this,br)[on(this,Cr)].undo(),ls(this,Sr,!1),ls(this,Cr,on(this,Cr)-1))}redo(){on(this,Cr)<on(this,br).length-1&&(ls(this,Cr,on(this,Cr)+1),ls(this,Sr,!0),on(this,br)[on(this,Cr)].cmd(),ls(this,Sr,!1))}hasSomethingToUndo(){return on(this,Cr)!==-1}hasSomethingToRedo(){return on(this,Cr)<on(this,br).length-1}destroy(){ls(this,br,null)}}br=new WeakMap,Sr=new WeakMap,jr=new WeakMap,Cr=new WeakMap,e.CommandManager=lr;class cr{constructor(bn){ns(this,Pr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:$n}=rr.FeatureTest.platform;for(const[Un,Kn,hs={}]of bn)for(const ps of Un){const An=ps.startsWith("mac+");$n&&An?(this.callbacks.set(ps.slice(4),{callback:Kn,options:hs}),this.allKeys.add(ps.split("+").at(-1))):!$n&&!An&&(this.callbacks.set(ps,{callback:Kn,options:hs}),this.allKeys.add(ps.split("+").at(-1)))}}exec(bn,$n){if(!this.allKeys.has($n.key))return;const Un=this.callbacks.get(Xn(this,Pr,oy).call(this,$n));if(!Un)return;const{callback:Kn,options:{bubbles:hs=!1,args:ps=[],checker:An=null}}=Un;An&&!An(bn,$n)||(Kn.bind(bn,...ps)(),hs||($n.stopPropagation(),$n.preventDefault()))}}Pr=new WeakSet,oy=function(bn){bn.altKey&&this.buffer.push("alt"),bn.ctrlKey&&this.buffer.push("ctrl"),bn.metaKey&&this.buffer.push("meta"),bn.shiftKey&&this.buffer.push("shift"),this.buffer.push(bn.key);const $n=this.buffer.join("+");return this.buffer.length=0,$n},e.KeyboardManager=cr;const Lr=class Lr{get _colors(){const bn=new Map([["CanvasText",null],["Canvas",null]]);return(0,nr.getColorValues)(bn),(0,rr.shadow)(this,"_colors",bn)}convert(bn){const $n=(0,nr.getRGB)(bn);if(!window.matchMedia("(forced-colors: active)").matches)return $n;for(const[Un,Kn]of this._colors)if(Kn.every((hs,ps)=>hs===$n[ps]))return Lr._colorsMapping.get(Un);return $n}getHexCode(bn){const $n=this._colors.get(bn);return $n?rr.Util.makeHexColor(...$n):bn}};ho(Lr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dr=Lr;e.ColorManager=dr;const In=class In{constructor(bn,$n,Un,Kn,hs,ps){ns(this,En);ns(this,Ir,null);ns(this,Nr,new Map);ns(this,Ar,new Map);ns(this,Dr,null);ns(this,Tr,null);ns(this,_r,new lr);ns(this,wr,0);ns(this,Er,new Set);ns(this,xr,null);ns(this,Mr,null);ns(this,zr,new Set);ns(this,Or,null);ns(this,Br,new or);ns(this,Ur,!1);ns(this,qr,!1);ns(this,Vr,null);ns(this,Gr,rr.AnnotationEditorType.NONE);ns(this,$r,new Set);ns(this,Fr,null);ns(this,Kr,this.blur.bind(this));ns(this,Zr,this.focus.bind(this));ns(this,nn,this.copy.bind(this));ns(this,Qr,this.cut.bind(this));ns(this,cn,this.paste.bind(this));ns(this,dn,this.keydown.bind(this));ns(this,en,this.onEditingAction.bind(this));ns(this,an,this.onPageChanging.bind(this));ns(this,tn,this.onScaleChanging.bind(this));ns(this,sn,this.onRotationChanging.bind(this));ns(this,fn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ns(this,pn,[0,0]);ns(this,yn,null);ns(this,Cn,null);ns(this,Rn,null);ls(this,Cn,bn),ls(this,Rn,$n),ls(this,Dr,Un),this._eventBus=Kn,this._eventBus._on("editingaction",on(this,en)),this._eventBus._on("pagechanging",on(this,an)),this._eventBus._on("scalechanging",on(this,tn)),this._eventBus._on("rotationchanging",on(this,sn)),ls(this,Tr,hs.annotationStorage),ls(this,Or,hs.filterFactory),ls(this,Fr,ps),this.viewParameters={realScale:nr.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const bn=In.prototype,$n=hs=>{const{activeElement:ps}=document;return ps&&on(hs,Cn).contains(ps)&&hs.hasSomethingToControl()},Un=this.TRANSLATE_SMALL,Kn=this.TRANSLATE_BIG;return(0,rr.shadow)(this,"_keyboardManager",new cr([[["ctrl+a","mac+meta+a"],bn.selectAll],[["ctrl+z","mac+meta+z"],bn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],bn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],bn.delete],[["Escape","mac+Escape"],bn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],bn.translateSelectedEditors,{args:[-Un,0],checker:$n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],bn.translateSelectedEditors,{args:[-Kn,0],checker:$n}],[["ArrowRight","mac+ArrowRight"],bn.translateSelectedEditors,{args:[Un,0],checker:$n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],bn.translateSelectedEditors,{args:[Kn,0],checker:$n}],[["ArrowUp","mac+ArrowUp"],bn.translateSelectedEditors,{args:[0,-Un],checker:$n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],bn.translateSelectedEditors,{args:[0,-Kn],checker:$n}],[["ArrowDown","mac+ArrowDown"],bn.translateSelectedEditors,{args:[0,Un],checker:$n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],bn.translateSelectedEditors,{args:[0,Kn],checker:$n}]]))}destroy(){Xn(this,En,ym).call(this),Xn(this,En,e0).call(this),this._eventBus._off("editingaction",on(this,en)),this._eventBus._off("pagechanging",on(this,an)),this._eventBus._off("scalechanging",on(this,tn)),this._eventBus._off("rotationchanging",on(this,sn));for(const bn of on(this,Ar).values())bn.destroy();on(this,Ar).clear(),on(this,Nr).clear(),on(this,zr).clear(),ls(this,Ir,null),on(this,$r).clear(),on(this,_r).destroy(),on(this,Dr).destroy()}get hcmFilter(){return(0,rr.shadow)(this,"hcmFilter",on(this,Fr)?on(this,Or).addHCMFilter(on(this,Fr).foreground,on(this,Fr).background):"none")}get direction(){return(0,rr.shadow)(this,"direction",getComputedStyle(on(this,Cn)).direction)}editAltText(bn){var $n;($n=on(this,Dr))==null||$n.editAltText(this,bn)}onPageChanging({pageNumber:bn}){ls(this,wr,bn-1)}focusMainContainer(){on(this,Cn).focus()}findParent(bn,$n){for(const Un of on(this,Ar).values()){const{x:Kn,y:hs,width:ps,height:An}=Un.div.getBoundingClientRect();if(bn>=Kn&&bn<=Kn+ps&&$n>=hs&&$n<=hs+An)return Un}return null}disableUserSelect(bn=!1){on(this,Rn).classList.toggle("noUserSelect",bn)}addShouldRescale(bn){on(this,zr).add(bn)}removeShouldRescale(bn){on(this,zr).delete(bn)}onScaleChanging({scale:bn}){this.commitOrRemove(),this.viewParameters.realScale=bn*nr.PixelsPerInch.PDF_TO_CSS_UNITS;for(const $n of on(this,zr))$n.onScaleChanging()}onRotationChanging({pagesRotation:bn}){this.commitOrRemove(),this.viewParameters.rotation=bn}addToAnnotationStorage(bn){!bn.isEmpty()&&on(this,Tr)&&!on(this,Tr).has(bn.id)&&on(this,Tr).setValue(bn.id,bn)}blur(){if(!this.hasSelection)return;const{activeElement:bn}=document;for(const $n of on(this,$r))if($n.div.contains(bn)){ls(this,Vr,[$n,bn]),$n._focusEventsAllowed=!1;break}}focus(){if(!on(this,Vr))return;const[bn,$n]=on(this,Vr);ls(this,Vr,null),$n.addEventListener("focusin",()=>{bn._focusEventsAllowed=!0},{once:!0}),$n.focus()}addEditListeners(){Xn(this,En,r0).call(this),Xn(this,En,n0).call(this)}removeEditListeners(){Xn(this,En,ym).call(this),Xn(this,En,i0).call(this)}copy(bn){var Un;if(bn.preventDefault(),(Un=on(this,Ir))==null||Un.commitOrRemove(),!this.hasSelection)return;const $n=[];for(const Kn of on(this,$r)){const hs=Kn.serialize(!0);hs&&$n.push(hs)}$n.length!==0&&bn.clipboardData.setData("application/pdfjs",JSON.stringify($n))}cut(bn){this.copy(bn),this.delete()}paste(bn){bn.preventDefault();const{clipboardData:$n}=bn;for(const hs of $n.items)for(const ps of on(this,Mr))if(ps.isHandlingMimeForPasting(hs.type)){ps.paste(hs,this.currentLayer);return}let Un=$n.getData("application/pdfjs");if(!Un)return;try{Un=JSON.parse(Un)}catch(hs){(0,rr.warn)(`paste: "${hs.message}".`);return}if(!Array.isArray(Un))return;this.unselectAll();const Kn=this.currentLayer;try{const hs=[];for(const xn of Un){const jn=Kn.deserialize(xn);if(!jn)return;hs.push(jn)}const ps=()=>{for(const xn of hs)Xn(this,En,s0).call(this,xn);Xn(this,En,a0).call(this,hs)},An=()=>{for(const xn of hs)xn.remove()};this.addCommands({cmd:ps,undo:An,mustExec:!0})}catch(hs){(0,rr.warn)(`paste: "${hs.message}".`)}}keydown(bn){var $n;($n=this.getActive())!=null&&$n.shouldGetKeyboardEvents()||In._keyboardManager.exec(this,bn)}onEditingAction(bn){["undo","redo","delete","selectAll"].includes(bn.name)&&this[bn.name]()}setEditingState(bn){bn?(Xn(this,En,ly).call(this),Xn(this,En,r0).call(this),Xn(this,En,n0).call(this),Xn(this,En,Wl).call(this,{isEditing:on(this,Gr)!==rr.AnnotationEditorType.NONE,isEmpty:Xn(this,En,Fp).call(this),hasSomethingToUndo:on(this,_r).hasSomethingToUndo(),hasSomethingToRedo:on(this,_r).hasSomethingToRedo(),hasSelectedEditor:!1})):(Xn(this,En,e0).call(this),Xn(this,En,ym).call(this),Xn(this,En,i0).call(this),Xn(this,En,Wl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(bn){if(!on(this,Mr)){ls(this,Mr,bn);for(const $n of on(this,Mr))Xn(this,En,Lp).call(this,$n.defaultPropertiesToUpdate)}}getId(){return on(this,Br).getId()}get currentLayer(){return on(this,Ar).get(on(this,wr))}getLayer(bn){return on(this,Ar).get(bn)}get currentPageIndex(){return on(this,wr)}addLayer(bn){on(this,Ar).set(bn.pageIndex,bn),on(this,Ur)?bn.enable():bn.disable()}removeLayer(bn){on(this,Ar).delete(bn.pageIndex)}updateMode(bn,$n=null){if(on(this,Gr)!==bn){if(ls(this,Gr,bn),bn===rr.AnnotationEditorType.NONE){this.setEditingState(!1),Xn(this,En,uy).call(this);return}this.setEditingState(!0),Xn(this,En,cy).call(this),this.unselectAll();for(const Un of on(this,Ar).values())Un.updateMode(bn);if($n){for(const Un of on(this,Nr).values())if(Un.annotationElementId===$n){this.setSelected(Un),Un.enterInEditMode();break}}}}updateToolbar(bn){bn!==on(this,Gr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:bn})}updateParams(bn,$n){if(on(this,Mr)){if(bn===rr.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(bn);return}for(const Un of on(this,$r))Un.updateParams(bn,$n);for(const Un of on(this,Mr))Un.updateDefaultParams(bn,$n)}}enableWaiting(bn=!1){if(on(this,qr)!==bn){ls(this,qr,bn);for(const $n of on(this,Ar).values())bn?$n.disableClick():$n.enableClick(),$n.div.classList.toggle("waiting",bn)}}getEditors(bn){const $n=[];for(const Un of on(this,Nr).values())Un.pageIndex===bn&&$n.push(Un);return $n}getEditor(bn){return on(this,Nr).get(bn)}addEditor(bn){on(this,Nr).set(bn.id,bn)}removeEditor(bn){var $n;on(this,Nr).delete(bn.id),this.unselect(bn),(!bn.annotationElementId||!on(this,Er).has(bn.annotationElementId))&&(($n=on(this,Tr))==null||$n.remove(bn.id))}addDeletedAnnotationElement(bn){on(this,Er).add(bn.annotationElementId),bn.deleted=!0}isDeletedAnnotationElement(bn){return on(this,Er).has(bn)}removeDeletedAnnotationElement(bn){on(this,Er).delete(bn.annotationElementId),bn.deleted=!1}setActiveEditor(bn){on(this,Ir)!==bn&&(ls(this,Ir,bn),bn&&Xn(this,En,Lp).call(this,bn.propertiesToUpdate))}toggleSelected(bn){if(on(this,$r).has(bn)){on(this,$r).delete(bn),bn.unselect(),Xn(this,En,Wl).call(this,{hasSelectedEditor:this.hasSelection});return}on(this,$r).add(bn),bn.select(),Xn(this,En,Lp).call(this,bn.propertiesToUpdate),Xn(this,En,Wl).call(this,{hasSelectedEditor:!0})}setSelected(bn){for(const $n of on(this,$r))$n!==bn&&$n.unselect();on(this,$r).clear(),on(this,$r).add(bn),bn.select(),Xn(this,En,Lp).call(this,bn.propertiesToUpdate),Xn(this,En,Wl).call(this,{hasSelectedEditor:!0})}isSelected(bn){return on(this,$r).has(bn)}unselect(bn){bn.unselect(),on(this,$r).delete(bn),Xn(this,En,Wl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return on(this,$r).size!==0}undo(){on(this,_r).undo(),Xn(this,En,Wl).call(this,{hasSomethingToUndo:on(this,_r).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Xn(this,En,Fp).call(this)})}redo(){on(this,_r).redo(),Xn(this,En,Wl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:on(this,_r).hasSomethingToRedo(),isEmpty:Xn(this,En,Fp).call(this)})}addCommands(bn){on(this,_r).add(bn),Xn(this,En,Wl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Xn(this,En,Fp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const bn=[...on(this,$r)],$n=()=>{for(const Kn of bn)Kn.remove()},Un=()=>{for(const Kn of bn)Xn(this,En,s0).call(this,Kn)};this.addCommands({cmd:$n,undo:Un,mustExec:!0})}commitOrRemove(){var bn;(bn=on(this,Ir))==null||bn.commitOrRemove()}hasSomethingToControl(){return on(this,Ir)||this.hasSelection}selectAll(){for(const bn of on(this,$r))bn.commit();Xn(this,En,a0).call(this,on(this,Nr).values())}unselectAll(){if(on(this,Ir)){on(this,Ir).commitOrRemove();return}if(this.hasSelection){for(const bn of on(this,$r))bn.unselect();on(this,$r).clear(),Xn(this,En,Wl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(bn,$n,Un=!1){if(Un||this.commitOrRemove(),!this.hasSelection)return;on(this,pn)[0]+=bn,on(this,pn)[1]+=$n;const[Kn,hs]=on(this,pn),ps=[...on(this,$r)],An=1e3;on(this,yn)&&clearTimeout(on(this,yn)),ls(this,yn,setTimeout(()=>{ls(this,yn,null),on(this,pn)[0]=on(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const xn of ps)on(this,Nr).has(xn.id)&&xn.translateInPage(Kn,hs)},undo:()=>{for(const xn of ps)on(this,Nr).has(xn.id)&&xn.translateInPage(-Kn,-hs)},mustExec:!1})},An));for(const xn of ps)xn.translateInPage(bn,$n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ls(this,xr,new Map);for(const bn of on(this,$r))on(this,xr).set(bn,{savedX:bn.x,savedY:bn.y,savedPageIndex:bn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!on(this,xr))return!1;this.disableUserSelect(!1);const bn=on(this,xr);ls(this,xr,null);let $n=!1;for(const[{x:Kn,y:hs,pageIndex:ps},An]of bn)An.newX=Kn,An.newY=hs,An.newPageIndex=ps,$n||($n=Kn!==An.savedX||hs!==An.savedY||ps!==An.savedPageIndex);if(!$n)return!1;const Un=(Kn,hs,ps,An)=>{if(on(this,Nr).has(Kn.id)){const xn=on(this,Ar).get(An);xn?Kn._setParentAndPosition(xn,hs,ps):(Kn.pageIndex=An,Kn.x=hs,Kn.y=ps)}};return this.addCommands({cmd:()=>{for(const[Kn,{newX:hs,newY:ps,newPageIndex:An}]of bn)Un(Kn,hs,ps,An)},undo:()=>{for(const[Kn,{savedX:hs,savedY:ps,savedPageIndex:An}]of bn)Un(Kn,hs,ps,An)},mustExec:!0}),!0}dragSelectedEditors(bn,$n){if(on(this,xr))for(const Un of on(this,xr).keys())Un.drag(bn,$n)}rebuild(bn){if(bn.parent===null){const $n=this.getLayer(bn.pageIndex);$n?($n.changeParent(bn),$n.addOrRebuild(bn)):(this.addEditor(bn),this.addToAnnotationStorage(bn),bn.rebuild())}else bn.parent.addOrRebuild(bn)}isActive(bn){return on(this,Ir)===bn}getActive(){return on(this,Ir)}getMode(){return on(this,Gr)}get imageManager(){return(0,rr.shadow)(this,"imageManager",new ar)}};Ir=new WeakMap,Nr=new WeakMap,Ar=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,_r=new WeakMap,wr=new WeakMap,Er=new WeakMap,xr=new WeakMap,Mr=new WeakMap,zr=new WeakMap,Or=new WeakMap,Br=new WeakMap,Ur=new WeakMap,qr=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,$r=new WeakMap,Fr=new WeakMap,Kr=new WeakMap,Zr=new WeakMap,nn=new WeakMap,Qr=new WeakMap,cn=new WeakMap,dn=new WeakMap,en=new WeakMap,an=new WeakMap,tn=new WeakMap,sn=new WeakMap,fn=new WeakMap,pn=new WeakMap,yn=new WeakMap,Cn=new WeakMap,Rn=new WeakMap,En=new WeakSet,ly=function(){window.addEventListener("focus",on(this,Zr)),window.addEventListener("blur",on(this,Kr))},e0=function(){window.removeEventListener("focus",on(this,Zr)),window.removeEventListener("blur",on(this,Kr))},r0=function(){window.addEventListener("keydown",on(this,dn),{capture:!0})},ym=function(){window.removeEventListener("keydown",on(this,dn),{capture:!0})},n0=function(){document.addEventListener("copy",on(this,nn)),document.addEventListener("cut",on(this,Qr)),document.addEventListener("paste",on(this,cn))},i0=function(){document.removeEventListener("copy",on(this,nn)),document.removeEventListener("cut",on(this,Qr)),document.removeEventListener("paste",on(this,cn))},Wl=function(bn){Object.entries(bn).some(([Un,Kn])=>on(this,fn)[Un]!==Kn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(on(this,fn),bn)})},Lp=function(bn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:bn})},cy=function(){if(!on(this,Ur)){ls(this,Ur,!0);for(const bn of on(this,Ar).values())bn.enable()}},uy=function(){if(this.unselectAll(),on(this,Ur)){ls(this,Ur,!1);for(const bn of on(this,Ar).values())bn.disable()}},s0=function(bn){const $n=on(this,Ar).get(bn.pageIndex);$n?$n.addOrRebuild(bn):this.addEditor(bn)},Fp=function(){if(on(this,Nr).size===0)return!0;if(on(this,Nr).size===1)for(const bn of on(this,Nr).values())return bn.isEmpty();return!1},a0=function(bn){on(this,$r).clear();for(const $n of bn)$n.isEmpty()||(on(this,$r).add($n),$n.select());Xn(this,En,Wl).call(this,{hasSelectedEditor:!0})},ho(In,"TRANSLATE_SMALL",1),ho(In,"TRANSLATE_BIG",10);let hr=In;e.AnnotationEditorUIManager=hr},(er,e,tr)=>{var wr,Er,xr,Mr,zr,Or,Br,Ur,qr,Vr,Gr,$r,vp,bp,o0,vm,bm,$p,Bp;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=Cr,e.getColorValues=Nr,e.getCurrentTransform=Ar,e.getCurrentTransformInverse=Dr,e.getFilenameFromUrl=gr,e.getPdfFilenameFromUrl=yr,e.getRGB=Ir,e.getXfaPageViewport=Lr,e.isDataScheme=mr,e.isPdfFile=fr,e.isValidFetchUrl=br,e.loadScript=jr,e.noContextMenu=Sr,e.setLayerDimensions=Tr;var rr=tr(7),nr=tr(1);const ir="http://www.w3.org/2000/svg",_r=class _r{};ho(_r,"CSS",96),ho(_r,"PDF",72),ho(_r,"PDF_TO_CSS_UNITS",_r.CSS/_r.PDF);let sr=_r;e.PixelsPerInch=sr;class or extends rr.BaseFilterFactory{constructor({docId:tn,ownerDocument:sn=globalThis.document}={}){super();ns(this,$r);ns(this,wr);ns(this,Er);ns(this,xr);ns(this,Mr);ns(this,zr);ns(this,Or);ns(this,Br);ns(this,Ur);ns(this,qr);ns(this,Vr);ns(this,Gr,0);ls(this,xr,tn),ls(this,Mr,sn)}addFilter(tn){if(!tn)return"none";let sn=on(this,$r,vp).get(tn);if(sn)return sn;let fn,pn,yn,Cn;if(tn.length===1){const Bn=tn[0],rs=new Array(256);for(let cs=0;cs<256;cs++)rs[cs]=Bn[cs]/255;Cn=fn=pn=yn=rs.join(",")}else{const[Bn,rs,cs]=tn,_s=new Array(256),qn=new Array(256),vs=new Array(256);for(let fs=0;fs<256;fs++)_s[fs]=Bn[fs]/255,qn[fs]=rs[fs]/255,vs[fs]=cs[fs]/255;fn=_s.join(","),pn=qn.join(","),yn=vs.join(","),Cn=`${fn}${pn}${yn}`}if(sn=on(this,$r,vp).get(Cn),sn)return on(this,$r,vp).set(tn,sn),sn;const Rn=`g_${on(this,xr)}_transfer_map_${Dp(this,Gr)._++}`,En=`url(#${Rn})`;on(this,$r,vp).set(tn,En),on(this,$r,vp).set(Cn,En);const zn=Xn(this,$r,vm).call(this,Rn);return Xn(this,$r,$p).call(this,fn,pn,yn,zn),En}addHCMFilter(tn,sn){var rs;const fn=`${tn}-${sn}`;if(on(this,Or)===fn)return on(this,Br);if(ls(this,Or,fn),ls(this,Br,"none"),(rs=on(this,zr))==null||rs.remove(),!tn||!sn)return on(this,Br);const pn=Xn(this,$r,Bp).call(this,tn);tn=nr.Util.makeHexColor(...pn);const yn=Xn(this,$r,Bp).call(this,sn);if(sn=nr.Util.makeHexColor(...yn),on(this,$r,bp).style.color="",tn==="#000000"&&sn==="#ffffff"||tn===sn)return on(this,Br);const Cn=new Array(256);for(let cs=0;cs<=255;cs++){const _s=cs/255;Cn[cs]=_s<=.03928?_s/12.92:((_s+.055)/1.055)**2.4}const Rn=Cn.join(","),En=`g_${on(this,xr)}_hcm_filter`,zn=ls(this,Ur,Xn(this,$r,vm).call(this,En));Xn(this,$r,$p).call(this,Rn,Rn,Rn,zn),Xn(this,$r,o0).call(this,zn);const Bn=(cs,_s)=>{const qn=pn[cs]/255,vs=yn[cs]/255,fs=new Array(_s+1);for(let xs=0;xs<=_s;xs++)fs[xs]=qn+xs/_s*(vs-qn);return fs.join(",")};return Xn(this,$r,$p).call(this,Bn(0,5),Bn(1,5),Bn(2,5),zn),ls(this,Br,`url(#${En})`),on(this,Br)}addHighlightHCMFilter(tn,sn,fn,pn){var vs;const yn=`${tn}-${sn}-${fn}-${pn}`;if(on(this,qr)===yn)return on(this,Vr);if(ls(this,qr,yn),ls(this,Vr,"none"),(vs=on(this,Ur))==null||vs.remove(),!tn||!sn)return on(this,Vr);const[Cn,Rn]=[tn,sn].map(Xn(this,$r,Bp).bind(this));let En=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),zn=Math.round(.2126*Rn[0]+.7152*Rn[1]+.0722*Rn[2]),[Bn,rs]=[fn,pn].map(Xn(this,$r,Bp).bind(this));zn<En&&([En,zn,Bn,rs]=[zn,En,rs,Bn]),on(this,$r,bp).style.color="";const cs=(fs,xs,Vn)=>{const On=new Array(256),Mn=(zn-En)/Vn,ds=fs/255,In=(xs-fs)/(255*Vn);let ss=0;for(let bn=0;bn<=Vn;bn++){const $n=Math.round(En+bn*Mn),Un=ds+bn*In;for(let Kn=ss;Kn<=$n;Kn++)On[Kn]=Un;ss=$n+1}for(let bn=ss;bn<256;bn++)On[bn]=On[ss-1];return On.join(",")},_s=`g_${on(this,xr)}_hcm_highlight_filter`,qn=ls(this,Ur,Xn(this,$r,vm).call(this,_s));return Xn(this,$r,o0).call(this,qn),Xn(this,$r,$p).call(this,cs(Bn[0],rs[0],5),cs(Bn[1],rs[1],5),cs(Bn[2],rs[2],5),qn),ls(this,Vr,`url(#${_s})`),on(this,Vr)}destroy(tn=!1){tn&&(on(this,Br)||on(this,Vr))||(on(this,Er)&&(on(this,Er).parentNode.parentNode.remove(),ls(this,Er,null)),on(this,wr)&&(on(this,wr).clear(),ls(this,wr,null)),ls(this,Gr,0))}}wr=new WeakMap,Er=new WeakMap,xr=new WeakMap,Mr=new WeakMap,zr=new WeakMap,Or=new WeakMap,Br=new WeakMap,Ur=new WeakMap,qr=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,$r=new WeakSet,vp=function(){return on(this,wr)||ls(this,wr,new Map)},bp=function(){if(!on(this,Er)){const tn=on(this,Mr).createElement("div"),{style:sn}=tn;sn.visibility="hidden",sn.contain="strict",sn.width=sn.height=0,sn.position="absolute",sn.top=sn.left=0,sn.zIndex=-1;const fn=on(this,Mr).createElementNS(ir,"svg");fn.setAttribute("width",0),fn.setAttribute("height",0),ls(this,Er,on(this,Mr).createElementNS(ir,"defs")),tn.append(fn),fn.append(on(this,Er)),on(this,Mr).body.append(tn)}return on(this,Er)},o0=function(tn){const sn=on(this,Mr).createElementNS(ir,"feColorMatrix");sn.setAttribute("type","matrix"),sn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),tn.append(sn)},vm=function(tn){const sn=on(this,Mr).createElementNS(ir,"filter");return sn.setAttribute("color-interpolation-filters","sRGB"),sn.setAttribute("id",tn),on(this,$r,bp).append(sn),sn},bm=function(tn,sn,fn){const pn=on(this,Mr).createElementNS(ir,sn);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",fn),tn.append(pn)},$p=function(tn,sn,fn,pn){const yn=on(this,Mr).createElementNS(ir,"feComponentTransfer");pn.append(yn),Xn(this,$r,bm).call(this,yn,"feFuncR",tn),Xn(this,$r,bm).call(this,yn,"feFuncG",sn),Xn(this,$r,bm).call(this,yn,"feFuncB",fn)},Bp=function(tn){return on(this,$r,bp).style.color=tn,Ir(getComputedStyle(on(this,$r,bp)).getPropertyValue("color"))},e.DOMFilterFactory=or;class ar extends rr.BaseCanvasFactory{constructor({ownerDocument:an=globalThis.document}={}){super(),this._document=an}_createCanvas(an,tn){const sn=this._document.createElement("canvas");return sn.width=an,sn.height=tn,sn}}e.DOMCanvasFactory=ar;async function lr(en,an=!1){if(br(en,document.baseURI)){const tn=await fetch(en);if(!tn.ok)throw new Error(tn.statusText);return an?new Uint8Array(await tn.arrayBuffer()):(0,nr.stringToBytes)(await tn.text())}return new Promise((tn,sn)=>{const fn=new XMLHttpRequest;fn.open("GET",en,!0),an&&(fn.responseType="arraybuffer"),fn.onreadystatechange=()=>{if(fn.readyState===XMLHttpRequest.DONE){if(fn.status===200||fn.status===0){let pn;if(an&&fn.response?pn=new Uint8Array(fn.response):!an&&fn.responseText&&(pn=(0,nr.stringToBytes)(fn.responseText)),pn){tn(pn);return}}sn(new Error(fn.statusText))}},fn.send(null)})}class cr extends rr.BaseCMapReaderFactory{_fetchData(an,tn){return lr(an,this.isCompressed).then(sn=>({cMapData:sn,compressionType:tn}))}}e.DOMCMapReaderFactory=cr;class dr extends rr.BaseStandardFontDataFactory{_fetchData(an){return lr(an,!0)}}e.DOMStandardFontDataFactory=dr;class hr extends rr.BaseSVGFactory{_createSVG(an){return document.createElementNS(ir,an)}}e.DOMSVGFactory=hr;class ur{constructor({viewBox:an,scale:tn,rotation:sn,offsetX:fn=0,offsetY:pn=0,dontFlip:yn=!1}){this.viewBox=an,this.scale=tn,this.rotation=sn,this.offsetX=fn,this.offsetY=pn;const Cn=(an[2]+an[0])/2,Rn=(an[3]+an[1])/2;let En,zn,Bn,rs;switch(sn%=360,sn<0&&(sn+=360),sn){case 180:En=-1,zn=0,Bn=0,rs=1;break;case 90:En=0,zn=1,Bn=1,rs=0;break;case 270:En=0,zn=-1,Bn=-1,rs=0;break;case 0:En=1,zn=0,Bn=0,rs=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}yn&&(Bn=-Bn,rs=-rs);let cs,_s,qn,vs;En===0?(cs=Math.abs(Rn-an[1])*tn+fn,_s=Math.abs(Cn-an[0])*tn+pn,qn=(an[3]-an[1])*tn,vs=(an[2]-an[0])*tn):(cs=Math.abs(Cn-an[0])*tn+fn,_s=Math.abs(Rn-an[1])*tn+pn,qn=(an[2]-an[0])*tn,vs=(an[3]-an[1])*tn),this.transform=[En*tn,zn*tn,Bn*tn,rs*tn,cs-En*tn*Cn-Bn*tn*Rn,_s-zn*tn*Cn-rs*tn*Rn],this.width=qn,this.height=vs}get rawDims(){const{viewBox:an}=this;return(0,nr.shadow)(this,"rawDims",{pageWidth:an[2]-an[0],pageHeight:an[3]-an[1],pageX:an[0],pageY:an[1]})}clone({scale:an=this.scale,rotation:tn=this.rotation,offsetX:sn=this.offsetX,offsetY:fn=this.offsetY,dontFlip:pn=!1}={}){return new ur({viewBox:this.viewBox.slice(),scale:an,rotation:tn,offsetX:sn,offsetY:fn,dontFlip:pn})}convertToViewportPoint(an,tn){return nr.Util.applyTransform([an,tn],this.transform)}convertToViewportRectangle(an){const tn=nr.Util.applyTransform([an[0],an[1]],this.transform),sn=nr.Util.applyTransform([an[2],an[3]],this.transform);return[tn[0],tn[1],sn[0],sn[1]]}convertToPdfPoint(an,tn){return nr.Util.applyInverseTransform([an,tn],this.transform)}}e.PageViewport=ur;class pr extends nr.BaseException{constructor(an,tn=0){super(an,"RenderingCancelledException"),this.extraDelay=tn}}e.RenderingCancelledException=pr;function mr(en){const an=en.length;let tn=0;for(;tn<an&&en[tn].trim()==="";)tn++;return en.substring(tn,tn+5).toLowerCase()==="data:"}function fr(en){return typeof en=="string"&&/\.pdf$/i.test(en)}function gr(en,an=!1){return an||([en]=en.split(/[#?]/,1)),en.substring(en.lastIndexOf("/")+1)}function yr(en,an="document.pdf"){if(typeof en!="string")return an;if(mr(en))return(0,nr.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),an;const tn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,sn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,fn=tn.exec(en);let pn=sn.exec(fn[1])||sn.exec(fn[2])||sn.exec(fn[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=sn.exec(decodeURIComponent(pn))[0]}catch{}return pn||an}class vr{constructor(){ho(this,"started",Object.create(null));ho(this,"times",[])}time(an){an in this.started&&(0,nr.warn)(`Timer is already running for ${an}`),this.started[an]=Date.now()}timeEnd(an){an in this.started||(0,nr.warn)(`Timer has not been started for ${an}`),this.times.push({name:an,start:this.started[an],end:Date.now()}),delete this.started[an]}toString(){const an=[];let tn=0;for(const{name:sn}of this.times)tn=Math.max(sn.length,tn);for(const{name:sn,start:fn,end:pn}of this.times)an.push(`${sn.padEnd(tn)} ${pn-fn}ms
`);return an.join("")}}e.StatTimer=vr;function br(en,an){try{const{protocol:tn}=an?new URL(en,an):new URL(en);return tn==="http:"||tn==="https:"}catch{return!1}}function Sr(en){en.preventDefault()}function jr(en,an=!1){return new Promise((tn,sn)=>{const fn=document.createElement("script");fn.src=en,fn.onload=function(pn){an&&fn.remove(),tn(pn)},fn.onerror=function(){sn(new Error(`Cannot load script at: ${fn.src}`))},(document.head||document.documentElement).append(fn)})}function Cr(en){console.log("Deprecated API usage: "+en)}let Pr;class Rr{static toDateObject(an){if(!an||typeof an!="string")return null;Pr||(Pr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const tn=Pr.exec(an);if(!tn)return null;const sn=parseInt(tn[1],10);let fn=parseInt(tn[2],10);fn=fn>=1&&fn<=12?fn-1:0;let pn=parseInt(tn[3],10);pn=pn>=1&&pn<=31?pn:1;let yn=parseInt(tn[4],10);yn=yn>=0&&yn<=23?yn:0;let Cn=parseInt(tn[5],10);Cn=Cn>=0&&Cn<=59?Cn:0;let Rn=parseInt(tn[6],10);Rn=Rn>=0&&Rn<=59?Rn:0;const En=tn[7]||"Z";let zn=parseInt(tn[8],10);zn=zn>=0&&zn<=23?zn:0;let Bn=parseInt(tn[9],10)||0;return Bn=Bn>=0&&Bn<=59?Bn:0,En==="-"?(yn+=zn,Cn+=Bn):En==="+"&&(yn-=zn,Cn-=Bn),new Date(Date.UTC(sn,fn,pn,yn,Cn,Rn))}}e.PDFDateString=Rr;function Lr(en,{scale:an=1,rotation:tn=0}){const{width:sn,height:fn}=en.attributes.style,pn=[0,0,parseInt(sn),parseInt(fn)];return new ur({viewBox:pn,scale:an,rotation:tn})}function Ir(en){if(en.startsWith("#")){const an=parseInt(en.slice(1),16);return[(an&16711680)>>16,(an&65280)>>8,an&255]}return en.startsWith("rgb(")?en.slice(4,-1).split(",").map(an=>parseInt(an)):en.startsWith("rgba(")?en.slice(5,-1).split(",").map(an=>parseInt(an)).slice(0,3):((0,nr.warn)(`Not a valid color format: "${en}"`),[0,0,0])}function Nr(en){const an=document.createElement("span");an.style.visibility="hidden",document.body.append(an);for(const tn of en.keys()){an.style.color=tn;const sn=window.getComputedStyle(an).color;en.set(tn,Ir(sn))}an.remove()}function Ar(en){const{a:an,b:tn,c:sn,d:fn,e:pn,f:yn}=en.getTransform();return[an,tn,sn,fn,pn,yn]}function Dr(en){const{a:an,b:tn,c:sn,d:fn,e:pn,f:yn}=en.getTransform().invertSelf();return[an,tn,sn,fn,pn,yn]}function Tr(en,an,tn=!1,sn=!0){if(an instanceof ur){const{pageWidth:fn,pageHeight:pn}=an.rawDims,{style:yn}=en,Cn=nr.FeatureTest.isCSSRoundSupported,Rn=`var(--scale-factor) * ${fn}px`,En=`var(--scale-factor) * ${pn}px`,zn=Cn?`round(${Rn}, 1px)`:`calc(${Rn})`,Bn=Cn?`round(${En}, 1px)`:`calc(${En})`;!tn||an.rotation%180===0?(yn.width=zn,yn.height=Bn):(yn.width=Bn,yn.height=zn)}sn&&en.setAttribute("data-main-rotation",an.rotation)}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var rr=tr(1);class nr{constructor(){this.constructor===nr&&(0,rr.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(cr){return"none"}addHCMFilter(cr,dr){return"none"}addHighlightHCMFilter(cr,dr,hr,ur){return"none"}destroy(cr=!1){}}e.BaseFilterFactory=nr;class ir{constructor(){this.constructor===ir&&(0,rr.unreachable)("Cannot initialize BaseCanvasFactory.")}create(cr,dr){if(cr<=0||dr<=0)throw new Error("Invalid canvas size");const hr=this._createCanvas(cr,dr);return{canvas:hr,context:hr.getContext("2d")}}reset(cr,dr,hr){if(!cr.canvas)throw new Error("Canvas is not specified");if(dr<=0||hr<=0)throw new Error("Invalid canvas size");cr.canvas.width=dr,cr.canvas.height=hr}destroy(cr){if(!cr.canvas)throw new Error("Canvas is not specified");cr.canvas.width=0,cr.canvas.height=0,cr.canvas=null,cr.context=null}_createCanvas(cr,dr){(0,rr.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=ir;class sr{constructor({baseUrl:cr=null,isCompressed:dr=!0}){this.constructor===sr&&(0,rr.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=cr,this.isCompressed=dr}async fetch({name:cr}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!cr)throw new Error("CMap name must be specified.");const dr=this.baseUrl+cr+(this.isCompressed?".bcmap":""),hr=this.isCompressed?rr.CMapCompressionType.BINARY:rr.CMapCompressionType.NONE;return this._fetchData(dr,hr).catch(ur=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dr}`)})}_fetchData(cr,dr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=sr;class or{constructor({baseUrl:cr=null}){this.constructor===or&&(0,rr.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=cr}async fetch({filename:cr}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!cr)throw new Error("Font filename must be specified.");const dr=`${this.baseUrl}${cr}`;return this._fetchData(dr).catch(hr=>{throw new Error(`Unable to load font data at: ${dr}`)})}_fetchData(cr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=or;class ar{constructor(){this.constructor===ar&&(0,rr.unreachable)("Cannot initialize BaseSVGFactory.")}create(cr,dr,hr=!1){if(cr<=0||dr<=0)throw new Error("Invalid SVG dimensions");const ur=this._createSVG("svg:svg");return ur.setAttribute("version","1.1"),hr||(ur.setAttribute("width",`${cr}px`),ur.setAttribute("height",`${dr}px`)),ur.setAttribute("preserveAspectRatio","none"),ur.setAttribute("viewBox",`0 0 ${cr} ${dr}`),ur}createElement(cr){if(typeof cr!="string")throw new Error("Invalid SVG element type");return this._createSVG(cr)}_createSVG(cr){(0,rr.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=ar},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var rr=tr(1);const nr=3285377520,ir=4294901760,sr=65535;class or{constructor(lr){this.h1=lr?lr&4294967295:nr,this.h2=lr?lr&4294967295:nr}update(lr){let cr,dr;if(typeof lr=="string"){cr=new Uint8Array(lr.length*2),dr=0;for(let Cr=0,Pr=lr.length;Cr<Pr;Cr++){const Rr=lr.charCodeAt(Cr);Rr<=255?cr[dr++]=Rr:(cr[dr++]=Rr>>>8,cr[dr++]=Rr&255)}}else if((0,rr.isArrayBuffer)(lr))cr=lr.slice(),dr=cr.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const hr=dr>>2,ur=dr-hr*4,pr=new Uint32Array(cr.buffer,0,hr);let mr=0,fr=0,gr=this.h1,yr=this.h2;const vr=3432918353,br=461845907,Sr=vr&sr,jr=br&sr;for(let Cr=0;Cr<hr;Cr++)Cr&1?(mr=pr[Cr],mr=mr*vr&ir|mr*Sr&sr,mr=mr<<15|mr>>>17,mr=mr*br&ir|mr*jr&sr,gr^=mr,gr=gr<<13|gr>>>19,gr=gr*5+3864292196):(fr=pr[Cr],fr=fr*vr&ir|fr*Sr&sr,fr=fr<<15|fr>>>17,fr=fr*br&ir|fr*jr&sr,yr^=fr,yr=yr<<13|yr>>>19,yr=yr*5+3864292196);switch(mr=0,ur){case 3:mr^=cr[hr*4+2]<<16;case 2:mr^=cr[hr*4+1]<<8;case 1:mr^=cr[hr*4],mr=mr*vr&ir|mr*Sr&sr,mr=mr<<15|mr>>>17,mr=mr*br&ir|mr*jr&sr,hr&1?gr^=mr:yr^=mr}this.h1=gr,this.h2=yr}hexdigest(){let lr=this.h1,cr=this.h2;return lr^=cr>>>1,lr=lr*3981806797&ir|lr*36045&sr,cr=cr*4283543511&ir|((cr<<16|lr>>>16)*2950163797&ir)>>>16,lr^=cr>>>1,lr=lr*444984403&ir|lr*60499&sr,cr=cr*3301882366&ir|((cr<<16|lr>>>16)*3120437893&ir)>>>16,lr^=cr>>>1,(lr>>>0).toString(16).padStart(8,"0")+(cr>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=or},(er,e,tr)=>{var sr;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var rr=tr(1);class nr{constructor({ownerDocument:ar=globalThis.document,styleElement:lr=null}){ns(this,sr,new Set);this._document=ar,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ar){this.nativeFontFaces.add(ar),this._document.fonts.add(ar)}removeNativeFontFace(ar){this.nativeFontFaces.delete(ar),this._document.fonts.delete(ar)}insertRule(ar){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const lr=this.styleElement.sheet;lr.insertRule(ar,lr.cssRules.length)}clear(){for(const ar of this.nativeFontFaces)this._document.fonts.delete(ar);this.nativeFontFaces.clear(),on(this,sr).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ar){if(!(!ar||on(this,sr).has(ar.loadedName))){if((0,rr.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:lr,src:cr,style:dr}=ar,hr=new FontFace(lr,cr,dr);this.addNativeFontFace(hr);try{await hr.load(),on(this,sr).add(lr)}catch{(0,rr.warn)(`Cannot load system font: ${ar.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(hr)}return}(0,rr.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ar){if(ar.attached||ar.missingFile&&!ar.systemFontInfo)return;if(ar.attached=!0,ar.systemFontInfo){await this.loadSystemFont(ar.systemFontInfo);return}if(this.isFontLoadingAPISupported){const cr=ar.createNativeFontFace();if(cr){this.addNativeFontFace(cr);try{await cr.loaded}catch(dr){throw(0,rr.warn)(`Failed to load font '${cr.family}': '${dr}'.`),ar.disableFontFace=!0,dr}}return}const lr=ar.createFontFaceRule();if(lr){if(this.insertRule(lr),this.isSyncFontLoadingSupported)return;await new Promise(cr=>{const dr=this._queueLoadingCallback(cr);this._prepareFontLoadEvent(ar,dr)})}}get isFontLoadingAPISupported(){var lr;const ar=!!((lr=this._document)!=null&&lr.fonts);return(0,rr.shadow)(this,"isFontLoadingAPISupported",ar)}get isSyncFontLoadingSupported(){let ar=!1;return(rr.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ar=!0),(0,rr.shadow)(this,"isSyncFontLoadingSupported",ar)}_queueLoadingCallback(ar){function lr(){for((0,rr.assert)(!dr.done,"completeRequest() cannot be called twice."),dr.done=!0;cr.length>0&&cr[0].done;){const hr=cr.shift();setTimeout(hr.callback,0)}}const{loadingRequests:cr}=this,dr={done:!1,complete:lr,callback:ar};return cr.push(dr),dr}get _loadTestFont(){const ar=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,rr.shadow)(this,"_loadTestFont",ar)}_prepareFontLoadEvent(ar,lr){function cr(Ir,Nr){return Ir.charCodeAt(Nr)<<24|Ir.charCodeAt(Nr+1)<<16|Ir.charCodeAt(Nr+2)<<8|Ir.charCodeAt(Nr+3)&255}function dr(Ir,Nr,Ar,Dr){const Tr=Ir.substring(0,Nr),_r=Ir.substring(Nr+Ar);return Tr+Dr+_r}let hr,ur;const pr=this._document.createElement("canvas");pr.width=1,pr.height=1;const mr=pr.getContext("2d");let fr=0;function gr(Ir,Nr){if(++fr>30){(0,rr.warn)("Load test font never loaded."),Nr();return}if(mr.font="30px "+Ir,mr.fillText(".",0,20),mr.getImageData(0,0,1,1).data[3]>0){Nr();return}setTimeout(gr.bind(null,Ir,Nr))}const yr=`lt${Date.now()}${this.loadTestFontId++}`;let vr=this._loadTestFont;vr=dr(vr,976,yr.length,yr);const Sr=16,jr=1482184792;let Cr=cr(vr,Sr);for(hr=0,ur=yr.length-3;hr<ur;hr+=4)Cr=Cr-jr+cr(yr,hr)|0;hr<yr.length&&(Cr=Cr-jr+cr(yr+"XXX",hr)|0),vr=dr(vr,Sr,4,(0,rr.string32)(Cr));const Pr=`url(data:font/opentype;base64,${btoa(vr)});`,Rr=`@font-face {font-family:"${yr}";src:${Pr}}`;this.insertRule(Rr);const Lr=this._document.createElement("div");Lr.style.visibility="hidden",Lr.style.width=Lr.style.height="10px",Lr.style.position="absolute",Lr.style.top=Lr.style.left="0px";for(const Ir of[ar.loadedName,yr]){const Nr=this._document.createElement("span");Nr.textContent="Hi",Nr.style.fontFamily=Ir,Lr.append(Nr)}this._document.body.append(Lr),gr(yr,()=>{Lr.remove(),lr.complete()})}}sr=new WeakMap,e.FontLoader=nr;class ir{constructor(ar,{isEvalSupported:lr=!0,disableFontFace:cr=!1,ignoreErrors:dr=!1,inspectFont:hr=null}){this.compiledGlyphs=Object.create(null);for(const ur in ar)this[ur]=ar[ur];this.isEvalSupported=lr!==!1,this.disableFontFace=cr===!0,this.ignoreErrors=dr===!0,this._inspectFont=hr}createNativeFontFace(){var lr;if(!this.data||this.disableFontFace)return null;let ar;if(!this.cssFontInfo)ar=new FontFace(this.loadedName,this.data,{});else{const cr={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(cr.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ar=new FontFace(this.cssFontInfo.fontFamily,this.data,cr)}return(lr=this._inspectFont)==null||lr.call(this,this),ar}createFontFaceRule(){var dr;if(!this.data||this.disableFontFace)return null;const ar=(0,rr.bytesToString)(this.data),lr=`url(data:${this.mimetype};base64,${btoa(ar)});`;let cr;if(!this.cssFontInfo)cr=`@font-face {font-family:"${this.loadedName}";src:${lr}}`;else{let hr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(hr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),cr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${hr}src:${lr}}`}return(dr=this._inspectFont)==null||dr.call(this,this,lr),cr}getPathGenerator(ar,lr){if(this.compiledGlyphs[lr]!==void 0)return this.compiledGlyphs[lr];let cr;try{cr=ar.get(this.loadedName+"_path_"+lr)}catch(dr){if(!this.ignoreErrors)throw dr;return(0,rr.warn)(`getPathGenerator - ignoring character: "${dr}".`),this.compiledGlyphs[lr]=function(hr,ur){}}if(this.isEvalSupported&&rr.FeatureTest.isEvalSupported){const dr=[];for(const hr of cr){const ur=hr.args!==void 0?hr.args.join(","):"";dr.push("c.",hr.cmd,"(",ur,`);
`)}return this.compiledGlyphs[lr]=new Function("c","size",dr.join(""))}return this.compiledGlyphs[lr]=function(dr,hr){for(const ur of cr)ur.cmd==="scale"&&(ur.args=[hr,-hr]),dr[ur.cmd].apply(dr,ur.args)}}}e.FontFaceObject=ir},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var rr=tr(7);tr(1);const nr=function(lr){return new Promise((cr,dr)=>{require$$5.readFile(lr,(ur,pr)=>{if(ur||!pr){dr(new Error(ur));return}cr(new Uint8Array(pr))})})};class ir extends rr.BaseFilterFactory{}e.NodeFilterFactory=ir;class sr extends rr.BaseCanvasFactory{_createCanvas(cr,dr){return require$$5.createCanvas(cr,dr)}}e.NodeCanvasFactory=sr;class or extends rr.BaseCMapReaderFactory{_fetchData(cr,dr){return nr(cr).then(hr=>({cMapData:hr,compressionType:dr}))}}e.NodeCMapReaderFactory=or;class ar extends rr.BaseStandardFontDataFactory{_fetchData(cr){return nr(cr)}}e.NodeStandardFontDataFactory=ar},(er,e,tr)=>{var Er,l0,c0;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var rr=tr(1),nr=tr(6),ir=tr(12),sr=tr(13);const or=16,ar=100,lr=4096,cr=15,dr=10,hr=1e3,ur=16;function pr(Or,Br){if(Or._removeMirroring)throw new Error("Context is already forwarding operations.");Or.__originalSave=Or.save,Or.__originalRestore=Or.restore,Or.__originalRotate=Or.rotate,Or.__originalScale=Or.scale,Or.__originalTranslate=Or.translate,Or.__originalTransform=Or.transform,Or.__originalSetTransform=Or.setTransform,Or.__originalResetTransform=Or.resetTransform,Or.__originalClip=Or.clip,Or.__originalMoveTo=Or.moveTo,Or.__originalLineTo=Or.lineTo,Or.__originalBezierCurveTo=Or.bezierCurveTo,Or.__originalRect=Or.rect,Or.__originalClosePath=Or.closePath,Or.__originalBeginPath=Or.beginPath,Or._removeMirroring=()=>{Or.save=Or.__originalSave,Or.restore=Or.__originalRestore,Or.rotate=Or.__originalRotate,Or.scale=Or.__originalScale,Or.translate=Or.__originalTranslate,Or.transform=Or.__originalTransform,Or.setTransform=Or.__originalSetTransform,Or.resetTransform=Or.__originalResetTransform,Or.clip=Or.__originalClip,Or.moveTo=Or.__originalMoveTo,Or.lineTo=Or.__originalLineTo,Or.bezierCurveTo=Or.__originalBezierCurveTo,Or.rect=Or.__originalRect,Or.closePath=Or.__originalClosePath,Or.beginPath=Or.__originalBeginPath,delete Or._removeMirroring},Or.save=function(){Br.save(),this.__originalSave()},Or.restore=function(){Br.restore(),this.__originalRestore()},Or.translate=function(qr,Vr){Br.translate(qr,Vr),this.__originalTranslate(qr,Vr)},Or.scale=function(qr,Vr){Br.scale(qr,Vr),this.__originalScale(qr,Vr)},Or.transform=function(qr,Vr,Gr,$r,Fr,Kr){Br.transform(qr,Vr,Gr,$r,Fr,Kr),this.__originalTransform(qr,Vr,Gr,$r,Fr,Kr)},Or.setTransform=function(qr,Vr,Gr,$r,Fr,Kr){Br.setTransform(qr,Vr,Gr,$r,Fr,Kr),this.__originalSetTransform(qr,Vr,Gr,$r,Fr,Kr)},Or.resetTransform=function(){Br.resetTransform(),this.__originalResetTransform()},Or.rotate=function(qr){Br.rotate(qr),this.__originalRotate(qr)},Or.clip=function(qr){Br.clip(qr),this.__originalClip(qr)},Or.moveTo=function(Ur,qr){Br.moveTo(Ur,qr),this.__originalMoveTo(Ur,qr)},Or.lineTo=function(Ur,qr){Br.lineTo(Ur,qr),this.__originalLineTo(Ur,qr)},Or.bezierCurveTo=function(Ur,qr,Vr,Gr,$r,Fr){Br.bezierCurveTo(Ur,qr,Vr,Gr,$r,Fr),this.__originalBezierCurveTo(Ur,qr,Vr,Gr,$r,Fr)},Or.rect=function(Ur,qr,Vr,Gr){Br.rect(Ur,qr,Vr,Gr),this.__originalRect(Ur,qr,Vr,Gr)},Or.closePath=function(){Br.closePath(),this.__originalClosePath()},Or.beginPath=function(){Br.beginPath(),this.__originalBeginPath()}}class mr{constructor(Br){this.canvasFactory=Br,this.cache=Object.create(null)}getCanvas(Br,Ur,qr){let Vr;return this.cache[Br]!==void 0?(Vr=this.cache[Br],this.canvasFactory.reset(Vr,Ur,qr)):(Vr=this.canvasFactory.create(Ur,qr),this.cache[Br]=Vr),Vr}delete(Br){delete this.cache[Br]}clear(){for(const Br in this.cache){const Ur=this.cache[Br];this.canvasFactory.destroy(Ur),delete this.cache[Br]}}}function fr(Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr){const[nn,Qr,cn,dn,en,an]=(0,nr.getCurrentTransform)(Or);if(Qr===0&&cn===0){const fn=$r*nn+en,pn=Math.round(fn),yn=Fr*dn+an,Cn=Math.round(yn),Rn=($r+Kr)*nn+en,En=Math.abs(Math.round(Rn)-pn)||1,zn=(Fr+Zr)*dn+an,Bn=Math.abs(Math.round(zn)-Cn)||1;return Or.setTransform(Math.sign(nn),0,0,Math.sign(dn),pn,Cn),Or.drawImage(Br,Ur,qr,Vr,Gr,0,0,En,Bn),Or.setTransform(nn,Qr,cn,dn,en,an),[En,Bn]}if(nn===0&&dn===0){const fn=Fr*cn+en,pn=Math.round(fn),yn=$r*Qr+an,Cn=Math.round(yn),Rn=(Fr+Zr)*cn+en,En=Math.abs(Math.round(Rn)-pn)||1,zn=($r+Kr)*Qr+an,Bn=Math.abs(Math.round(zn)-Cn)||1;return Or.setTransform(0,Math.sign(Qr),Math.sign(cn),0,pn,Cn),Or.drawImage(Br,Ur,qr,Vr,Gr,0,0,Bn,En),Or.setTransform(nn,Qr,cn,dn,en,an),[Bn,En]}Or.drawImage(Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr);const tn=Math.hypot(nn,Qr),sn=Math.hypot(cn,dn);return[tn*Kr,sn*Zr]}function gr(Or){const{width:Br,height:Ur}=Or;if(Br>hr||Ur>hr)return null;const qr=1e3,Vr=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Gr=Br+1;let $r=new Uint8Array(Gr*(Ur+1)),Fr,Kr,Zr;const nn=Br+7&-8;let Qr=new Uint8Array(nn*Ur),cn=0;for(const sn of Or.data){let fn=128;for(;fn>0;)Qr[cn++]=sn&fn?0:255,fn>>=1}let dn=0;for(cn=0,Qr[cn]!==0&&($r[0]=1,++dn),Kr=1;Kr<Br;Kr++)Qr[cn]!==Qr[cn+1]&&($r[Kr]=Qr[cn]?2:1,++dn),cn++;for(Qr[cn]!==0&&($r[Kr]=2,++dn),Fr=1;Fr<Ur;Fr++){cn=Fr*nn,Zr=Fr*Gr,Qr[cn-nn]!==Qr[cn]&&($r[Zr]=Qr[cn]?1:8,++dn);let sn=(Qr[cn]?4:0)+(Qr[cn-nn]?8:0);for(Kr=1;Kr<Br;Kr++)sn=(sn>>2)+(Qr[cn+1]?4:0)+(Qr[cn-nn+1]?8:0),Vr[sn]&&($r[Zr+Kr]=Vr[sn],++dn),cn++;if(Qr[cn-nn]!==Qr[cn]&&($r[Zr+Kr]=Qr[cn]?2:4,++dn),dn>qr)return null}for(cn=nn*(Ur-1),Zr=Fr*Gr,Qr[cn]!==0&&($r[Zr]=8,++dn),Kr=1;Kr<Br;Kr++)Qr[cn]!==Qr[cn+1]&&($r[Zr+Kr]=Qr[cn]?4:8,++dn),cn++;if(Qr[cn]!==0&&($r[Zr+Kr]=4,++dn),dn>qr)return null;const en=new Int32Array([0,Gr,-1,0,-Gr,0,0,0,1]),an=new Path2D;for(Fr=0;dn&&Fr<=Ur;Fr++){let sn=Fr*Gr;const fn=sn+Br;for(;sn<fn&&!$r[sn];)sn++;if(sn===fn)continue;an.moveTo(sn%Gr,Fr);const pn=sn;let yn=$r[sn];do{const Cn=en[yn];do sn+=Cn;while(!$r[sn]);const Rn=$r[sn];Rn!==5&&Rn!==10?(yn=Rn,$r[sn]=0):(yn=Rn&51*yn>>4,$r[sn]&=yn>>2|yn<<2),an.lineTo(sn%Gr,sn/Gr|0),$r[sn]||--dn}while(pn!==sn);--Fr}return Qr=null,$r=null,function(sn){sn.save(),sn.scale(1/Br,-1/Ur),sn.translate(0,-Ur),sn.fill(an),sn.beginPath(),sn.restore()}}class yr{constructor(Br,Ur){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=rr.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=rr.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=rr.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Br,Ur])}clone(){const Br=Object.create(this);return Br.clipBox=this.clipBox.slice(),Br}setCurrentPoint(Br,Ur){this.x=Br,this.y=Ur}updatePathMinMax(Br,Ur,qr){[Ur,qr]=rr.Util.applyTransform([Ur,qr],Br),this.minX=Math.min(this.minX,Ur),this.minY=Math.min(this.minY,qr),this.maxX=Math.max(this.maxX,Ur),this.maxY=Math.max(this.maxY,qr)}updateRectMinMax(Br,Ur){const qr=rr.Util.applyTransform(Ur,Br),Vr=rr.Util.applyTransform(Ur.slice(2),Br);this.minX=Math.min(this.minX,qr[0],Vr[0]),this.minY=Math.min(this.minY,qr[1],Vr[1]),this.maxX=Math.max(this.maxX,qr[0],Vr[0]),this.maxY=Math.max(this.maxY,qr[1],Vr[1])}updateScalingPathMinMax(Br,Ur){rr.Util.scaleMinMax(Br,Ur),this.minX=Math.min(this.minX,Ur[0]),this.maxX=Math.max(this.maxX,Ur[1]),this.minY=Math.min(this.minY,Ur[2]),this.maxY=Math.max(this.maxY,Ur[3])}updateCurvePathMinMax(Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr,nn){const Qr=rr.Util.bezierBoundingBox(Ur,qr,Vr,Gr,$r,Fr,Kr,Zr);if(nn){nn[0]=Math.min(nn[0],Qr[0],Qr[2]),nn[1]=Math.max(nn[1],Qr[0],Qr[2]),nn[2]=Math.min(nn[2],Qr[1],Qr[3]),nn[3]=Math.max(nn[3],Qr[1],Qr[3]);return}this.updateRectMinMax(Br,Qr)}getPathBoundingBox(Br=ir.PathType.FILL,Ur=null){const qr=[this.minX,this.minY,this.maxX,this.maxY];if(Br===ir.PathType.STROKE){Ur||(0,rr.unreachable)("Stroke bounding box must include transform.");const Vr=rr.Util.singularValueDecompose2dScale(Ur),Gr=Vr[0]*this.lineWidth/2,$r=Vr[1]*this.lineWidth/2;qr[0]-=Gr,qr[1]-=$r,qr[2]+=Gr,qr[3]+=$r}return qr}updateClipFromPath(){const Br=rr.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Br||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Br){this.clipBox=Br,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Br=ir.PathType.FILL,Ur=null){return rr.Util.intersect(this.clipBox,this.getPathBoundingBox(Br,Ur))}}function vr(Or,Br){if(typeof ImageData<"u"&&Br instanceof ImageData){Or.putImageData(Br,0,0);return}const Ur=Br.height,qr=Br.width,Vr=Ur%ur,Gr=(Ur-Vr)/ur,$r=Vr===0?Gr:Gr+1,Fr=Or.createImageData(qr,ur);let Kr=0,Zr;const nn=Br.data,Qr=Fr.data;let cn,dn,en,an;if(Br.kind===rr.ImageKind.GRAYSCALE_1BPP){const tn=nn.byteLength,sn=new Uint32Array(Qr.buffer,0,Qr.byteLength>>2),fn=sn.length,pn=qr+7>>3,yn=4294967295,Cn=rr.FeatureTest.isLittleEndian?4278190080:255;for(cn=0;cn<$r;cn++){for(en=cn<Gr?ur:Vr,Zr=0,dn=0;dn<en;dn++){const Rn=tn-Kr;let En=0;const zn=Rn>pn?qr:Rn*8-7,Bn=zn&-8;let rs=0,cs=0;for(;En<Bn;En+=8)cs=nn[Kr++],sn[Zr++]=cs&128?yn:Cn,sn[Zr++]=cs&64?yn:Cn,sn[Zr++]=cs&32?yn:Cn,sn[Zr++]=cs&16?yn:Cn,sn[Zr++]=cs&8?yn:Cn,sn[Zr++]=cs&4?yn:Cn,sn[Zr++]=cs&2?yn:Cn,sn[Zr++]=cs&1?yn:Cn;for(;En<zn;En++)rs===0&&(cs=nn[Kr++],rs=128),sn[Zr++]=cs&rs?yn:Cn,rs>>=1}for(;Zr<fn;)sn[Zr++]=0;Or.putImageData(Fr,0,cn*ur)}}else if(Br.kind===rr.ImageKind.RGBA_32BPP){for(dn=0,an=qr*ur*4,cn=0;cn<Gr;cn++)Qr.set(nn.subarray(Kr,Kr+an)),Kr+=an,Or.putImageData(Fr,0,dn),dn+=ur;cn<$r&&(an=qr*Vr*4,Qr.set(nn.subarray(Kr,Kr+an)),Or.putImageData(Fr,0,dn))}else if(Br.kind===rr.ImageKind.RGB_24BPP)for(en=ur,an=qr*en,cn=0;cn<$r;cn++){for(cn>=Gr&&(en=Vr,an=qr*en),Zr=0,dn=an;dn--;)Qr[Zr++]=nn[Kr++],Qr[Zr++]=nn[Kr++],Qr[Zr++]=nn[Kr++],Qr[Zr++]=255;Or.putImageData(Fr,0,cn*ur)}else throw new Error(`bad image kind: ${Br.kind}`)}function br(Or,Br){if(Br.bitmap){Or.drawImage(Br.bitmap,0,0);return}const Ur=Br.height,qr=Br.width,Vr=Ur%ur,Gr=(Ur-Vr)/ur,$r=Vr===0?Gr:Gr+1,Fr=Or.createImageData(qr,ur);let Kr=0;const Zr=Br.data,nn=Fr.data;for(let Qr=0;Qr<$r;Qr++){const cn=Qr<Gr?ur:Vr;({srcPos:Kr}=(0,sr.convertBlackAndWhiteToRGBA)({src:Zr,srcPos:Kr,dest:nn,width:qr,height:cn,nonBlackColor:0})),Or.putImageData(Fr,0,Qr*ur)}}function Sr(Or,Br){const Ur=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const qr of Ur)Or[qr]!==void 0&&(Br[qr]=Or[qr]);Or.setLineDash!==void 0&&(Br.setLineDash(Or.getLineDash()),Br.lineDashOffset=Or.lineDashOffset)}function jr(Or){if(Or.strokeStyle=Or.fillStyle="#000000",Or.fillRule="nonzero",Or.globalAlpha=1,Or.lineWidth=1,Or.lineCap="butt",Or.lineJoin="miter",Or.miterLimit=10,Or.globalCompositeOperation="source-over",Or.font="10px sans-serif",Or.setLineDash!==void 0&&(Or.setLineDash([]),Or.lineDashOffset=0),!rr.isNodeJS){const{filter:Br}=Or;Br!=="none"&&Br!==""&&(Or.filter="none")}}function Cr(Or,Br,Ur,qr){const Vr=Or.length;for(let Gr=3;Gr<Vr;Gr+=4){const $r=Or[Gr];if($r===0)Or[Gr-3]=Br,Or[Gr-2]=Ur,Or[Gr-1]=qr;else if($r<255){const Fr=255-$r;Or[Gr-3]=Or[Gr-3]*$r+Br*Fr>>8,Or[Gr-2]=Or[Gr-2]*$r+Ur*Fr>>8,Or[Gr-1]=Or[Gr-1]*$r+qr*Fr>>8}}}function Pr(Or,Br,Ur){const qr=Or.length,Vr=1/255;for(let Gr=3;Gr<qr;Gr+=4){const $r=Ur?Ur[Or[Gr]]:Or[Gr];Br[Gr]=Br[Gr]*$r*Vr|0}}function Rr(Or,Br,Ur){const qr=Or.length;for(let Vr=3;Vr<qr;Vr+=4){const Gr=Or[Vr-3]*77+Or[Vr-2]*152+Or[Vr-1]*28;Br[Vr]=Ur?Br[Vr]*Ur[Gr>>8]>>8:Br[Vr]*Gr>>16}}function Lr(Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr,nn){const Qr=!!Gr,cn=Qr?Gr[0]:0,dn=Qr?Gr[1]:0,en=Qr?Gr[2]:0,an=Vr==="Luminosity"?Rr:Pr,sn=Math.min(qr,Math.ceil(1048576/Ur));for(let fn=0;fn<qr;fn+=sn){const pn=Math.min(sn,qr-fn),yn=Or.getImageData(Fr-Zr,fn+(Kr-nn),Ur,pn),Cn=Br.getImageData(Fr,fn+Kr,Ur,pn);Qr&&Cr(yn.data,cn,dn,en),an(yn.data,Cn.data,$r),Br.putImageData(Cn,Fr,fn+Kr)}}function Ir(Or,Br,Ur,qr){const Vr=qr[0],Gr=qr[1],$r=qr[2]-Vr,Fr=qr[3]-Gr;$r===0||Fr===0||(Lr(Br.context,Ur,$r,Fr,Br.subtype,Br.backdrop,Br.transferMap,Vr,Gr,Br.offsetX,Br.offsetY),Or.save(),Or.globalAlpha=1,Or.globalCompositeOperation="source-over",Or.setTransform(1,0,0,1,0,0),Or.drawImage(Ur.canvas,0,0),Or.restore())}function Nr(Or,Br){const Ur=rr.Util.singularValueDecompose2dScale(Or);Ur[0]=Math.fround(Ur[0]),Ur[1]=Math.fround(Ur[1]);const qr=Math.fround((globalThis.devicePixelRatio||1)*nr.PixelsPerInch.PDF_TO_CSS_UNITS);return Br!==void 0?Br:Ur[0]<=qr||Ur[1]<=qr}const Ar=["butt","round","square"],Dr=["miter","round","bevel"],Tr={},_r={},zr=class zr{constructor(Br,Ur,qr,Vr,Gr,{optionalContentConfig:$r,markedContentStack:Fr=null},Kr,Zr){ns(this,Er);this.ctx=Br,this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ur,this.objs=qr,this.canvasFactory=Vr,this.filterFactory=Gr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Fr||[],this.optionalContentConfig=$r,this.cachedCanvases=new mr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Kr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Zr,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Br,Ur=null){return typeof Br=="string"?Br.startsWith("g_")?this.commonObjs.get(Br):this.objs.get(Br):Ur}beginDrawing({transform:Br,viewport:Ur,transparency:qr=!1,background:Vr=null}){const Gr=this.ctx.canvas.width,$r=this.ctx.canvas.height,Fr=this.ctx.fillStyle;if(this.ctx.fillStyle=Vr||"#ffffff",this.ctx.fillRect(0,0,Gr,$r),this.ctx.fillStyle=Fr,qr){const Kr=this.cachedCanvases.getCanvas("transparent",Gr,$r);this.compositeCtx=this.ctx,this.transparentCanvas=Kr.canvas,this.ctx=Kr.context,this.ctx.save(),this.ctx.transform(...(0,nr.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),jr(this.ctx),Br&&(this.ctx.transform(...Br),this.outputScaleX=Br[0],this.outputScaleY=Br[0]),this.ctx.transform(...Ur.transform),this.viewportScale=Ur.scale,this.baseTransform=(0,nr.getCurrentTransform)(this.ctx)}executeOperatorList(Br,Ur,qr,Vr){const Gr=Br.argsArray,$r=Br.fnArray;let Fr=Ur||0;const Kr=Gr.length;if(Kr===Fr)return Fr;const Zr=Kr-Fr>dr&&typeof qr=="function",nn=Zr?Date.now()+cr:0;let Qr=0;const cn=this.commonObjs,dn=this.objs;let en;for(;;){if(Vr!==void 0&&Fr===Vr.nextBreakPoint)return Vr.breakIt(Fr,qr),Fr;if(en=$r[Fr],en!==rr.OPS.dependency)this[en].apply(this,Gr[Fr]);else for(const an of Gr[Fr]){const tn=an.startsWith("g_")?cn:dn;if(!tn.has(an))return tn.get(an,qr),Fr}if(Fr++,Fr===Kr)return Fr;if(Zr&&++Qr>dr){if(Date.now()>nn)return qr(),Fr;Qr=0}}}endDrawing(){Xn(this,Er,l0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Br of this._cachedBitmapsMap.values()){for(const Ur of Br.values())typeof HTMLCanvasElement<"u"&&Ur instanceof HTMLCanvasElement&&(Ur.width=Ur.height=0);Br.clear()}this._cachedBitmapsMap.clear(),Xn(this,Er,c0).call(this)}_scaleImage(Br,Ur){const qr=Br.width,Vr=Br.height;let Gr=Math.max(Math.hypot(Ur[0],Ur[1]),1),$r=Math.max(Math.hypot(Ur[2],Ur[3]),1),Fr=qr,Kr=Vr,Zr="prescale1",nn,Qr;for(;Gr>2&&Fr>1||$r>2&&Kr>1;){let cn=Fr,dn=Kr;Gr>2&&Fr>1&&(cn=Fr>=16384?Math.floor(Fr/2)-1||1:Math.ceil(Fr/2),Gr/=Fr/cn),$r>2&&Kr>1&&(dn=Kr>=16384?Math.floor(Kr/2)-1||1:Math.ceil(Kr)/2,$r/=Kr/dn),nn=this.cachedCanvases.getCanvas(Zr,cn,dn),Qr=nn.context,Qr.clearRect(0,0,cn,dn),Qr.drawImage(Br,0,0,Fr,Kr,0,0,cn,dn),Br=nn.canvas,Fr=cn,Kr=dn,Zr=Zr==="prescale1"?"prescale2":"prescale1"}return{img:Br,paintWidth:Fr,paintHeight:Kr}}_createMaskCanvas(Br){const Ur=this.ctx,{width:qr,height:Vr}=Br,Gr=this.current.fillColor,$r=this.current.patternFill,Fr=(0,nr.getCurrentTransform)(Ur);let Kr,Zr,nn,Qr;if((Br.bitmap||Br.data)&&Br.count>1){const En=Br.bitmap||Br.data.buffer;Zr=JSON.stringify($r?Fr:[Fr.slice(0,4),Gr]),Kr=this._cachedBitmapsMap.get(En),Kr||(Kr=new Map,this._cachedBitmapsMap.set(En,Kr));const zn=Kr.get(Zr);if(zn&&!$r){const Bn=Math.round(Math.min(Fr[0],Fr[2])+Fr[4]),rs=Math.round(Math.min(Fr[1],Fr[3])+Fr[5]);return{canvas:zn,offsetX:Bn,offsetY:rs}}nn=zn}nn||(Qr=this.cachedCanvases.getCanvas("maskCanvas",qr,Vr),br(Qr.context,Br));let cn=rr.Util.transform(Fr,[1/qr,0,0,-1/Vr,0,0]);cn=rr.Util.transform(cn,[1,0,0,1,0,-Vr]);const dn=rr.Util.applyTransform([0,0],cn),en=rr.Util.applyTransform([qr,Vr],cn),an=rr.Util.normalizeRect([dn[0],dn[1],en[0],en[1]]),tn=Math.round(an[2]-an[0])||1,sn=Math.round(an[3]-an[1])||1,fn=this.cachedCanvases.getCanvas("fillCanvas",tn,sn),pn=fn.context,yn=Math.min(dn[0],en[0]),Cn=Math.min(dn[1],en[1]);pn.translate(-yn,-Cn),pn.transform(...cn),nn||(nn=this._scaleImage(Qr.canvas,(0,nr.getCurrentTransformInverse)(pn)),nn=nn.img,Kr&&$r&&Kr.set(Zr,nn)),pn.imageSmoothingEnabled=Nr((0,nr.getCurrentTransform)(pn),Br.interpolate),fr(pn,nn,0,0,nn.width,nn.height,0,0,qr,Vr),pn.globalCompositeOperation="source-in";const Rn=rr.Util.transform((0,nr.getCurrentTransformInverse)(pn),[1,0,0,1,-yn,-Cn]);return pn.fillStyle=$r?Gr.getPattern(Ur,this,Rn,ir.PathType.FILL):Gr,pn.fillRect(0,0,qr,Vr),Kr&&!$r&&(this.cachedCanvases.delete("fillCanvas"),Kr.set(Zr,fn.canvas)),{canvas:fn.canvas,offsetX:Math.round(yn),offsetY:Math.round(Cn)}}setLineWidth(Br){Br!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Br,this.ctx.lineWidth=Br}setLineCap(Br){this.ctx.lineCap=Ar[Br]}setLineJoin(Br){this.ctx.lineJoin=Dr[Br]}setMiterLimit(Br){this.ctx.miterLimit=Br}setDash(Br,Ur){const qr=this.ctx;qr.setLineDash!==void 0&&(qr.setLineDash(Br),qr.lineDashOffset=Ur)}setRenderingIntent(Br){}setFlatness(Br){}setGState(Br){for(const[Ur,qr]of Br)switch(Ur){case"LW":this.setLineWidth(qr);break;case"LC":this.setLineCap(qr);break;case"LJ":this.setLineJoin(qr);break;case"ML":this.setMiterLimit(qr);break;case"D":this.setDash(qr[0],qr[1]);break;case"RI":this.setRenderingIntent(qr);break;case"FL":this.setFlatness(qr);break;case"Font":this.setFont(qr[0],qr[1]);break;case"CA":this.current.strokeAlpha=qr;break;case"ca":this.current.fillAlpha=qr,this.ctx.globalAlpha=qr;break;case"BM":this.ctx.globalCompositeOperation=qr;break;case"SMask":this.current.activeSMask=qr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(qr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Br=this.inSMaskMode;this.current.activeSMask&&!Br?this.beginSMaskMode():!this.current.activeSMask&&Br&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Br=this.ctx.canvas.width,Ur=this.ctx.canvas.height,qr="smaskGroupAt"+this.groupLevel,Vr=this.cachedCanvases.getCanvas(qr,Br,Ur);this.suspendedCtx=this.ctx,this.ctx=Vr.context;const Gr=this.ctx;Gr.setTransform(...(0,nr.getCurrentTransform)(this.suspendedCtx)),Sr(this.suspendedCtx,Gr),pr(Gr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Br){if(!this.current.activeSMask)return;Br?(Br[0]=Math.floor(Br[0]),Br[1]=Math.floor(Br[1]),Br[2]=Math.ceil(Br[2]),Br[3]=Math.ceil(Br[3])):Br=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ur=this.current.activeSMask,qr=this.suspendedCtx;Ir(qr,Ur,this.ctx,Br),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Sr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Br=this.current;this.stateStack.push(Br),this.current=Br.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Sr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Br,Ur,qr,Vr,Gr,$r){this.ctx.transform(Br,Ur,qr,Vr,Gr,$r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Br,Ur,qr){const Vr=this.ctx,Gr=this.current;let $r=Gr.x,Fr=Gr.y,Kr,Zr;const nn=(0,nr.getCurrentTransform)(Vr),Qr=nn[0]===0&&nn[3]===0||nn[1]===0&&nn[2]===0,cn=Qr?qr.slice(0):null;for(let dn=0,en=0,an=Br.length;dn<an;dn++)switch(Br[dn]|0){case rr.OPS.rectangle:$r=Ur[en++],Fr=Ur[en++];const tn=Ur[en++],sn=Ur[en++],fn=$r+tn,pn=Fr+sn;Vr.moveTo($r,Fr),tn===0||sn===0?Vr.lineTo(fn,pn):(Vr.lineTo(fn,Fr),Vr.lineTo(fn,pn),Vr.lineTo($r,pn)),Qr||Gr.updateRectMinMax(nn,[$r,Fr,fn,pn]),Vr.closePath();break;case rr.OPS.moveTo:$r=Ur[en++],Fr=Ur[en++],Vr.moveTo($r,Fr),Qr||Gr.updatePathMinMax(nn,$r,Fr);break;case rr.OPS.lineTo:$r=Ur[en++],Fr=Ur[en++],Vr.lineTo($r,Fr),Qr||Gr.updatePathMinMax(nn,$r,Fr);break;case rr.OPS.curveTo:Kr=$r,Zr=Fr,$r=Ur[en+4],Fr=Ur[en+5],Vr.bezierCurveTo(Ur[en],Ur[en+1],Ur[en+2],Ur[en+3],$r,Fr),Gr.updateCurvePathMinMax(nn,Kr,Zr,Ur[en],Ur[en+1],Ur[en+2],Ur[en+3],$r,Fr,cn),en+=6;break;case rr.OPS.curveTo2:Kr=$r,Zr=Fr,Vr.bezierCurveTo($r,Fr,Ur[en],Ur[en+1],Ur[en+2],Ur[en+3]),Gr.updateCurvePathMinMax(nn,Kr,Zr,$r,Fr,Ur[en],Ur[en+1],Ur[en+2],Ur[en+3],cn),$r=Ur[en+2],Fr=Ur[en+3],en+=4;break;case rr.OPS.curveTo3:Kr=$r,Zr=Fr,$r=Ur[en+2],Fr=Ur[en+3],Vr.bezierCurveTo(Ur[en],Ur[en+1],$r,Fr,$r,Fr),Gr.updateCurvePathMinMax(nn,Kr,Zr,Ur[en],Ur[en+1],$r,Fr,$r,Fr,cn),en+=4;break;case rr.OPS.closePath:Vr.closePath();break}Qr&&Gr.updateScalingPathMinMax(nn,cn),Gr.setCurrentPoint($r,Fr)}closePath(){this.ctx.closePath()}stroke(Br=!0){const Ur=this.ctx,qr=this.current.strokeColor;Ur.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof qr=="object"&&(qr!=null&&qr.getPattern)?(Ur.save(),Ur.strokeStyle=qr.getPattern(Ur,this,(0,nr.getCurrentTransformInverse)(Ur),ir.PathType.STROKE),this.rescaleAndStroke(!1),Ur.restore()):this.rescaleAndStroke(!0)),Br&&this.consumePath(this.current.getClippedPathBoundingBox()),Ur.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Br=!0){const Ur=this.ctx,qr=this.current.fillColor,Vr=this.current.patternFill;let Gr=!1;Vr&&(Ur.save(),Ur.fillStyle=qr.getPattern(Ur,this,(0,nr.getCurrentTransformInverse)(Ur),ir.PathType.FILL),Gr=!0);const $r=this.current.getClippedPathBoundingBox();this.contentVisible&&$r!==null&&(this.pendingEOFill?(Ur.fill("evenodd"),this.pendingEOFill=!1):Ur.fill()),Gr&&Ur.restore(),Br&&this.consumePath($r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Tr}eoClip(){this.pendingClip=_r}beginText(){this.current.textMatrix=rr.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Br=this.pendingTextPaths,Ur=this.ctx;if(Br===void 0){Ur.beginPath();return}Ur.save(),Ur.beginPath();for(const qr of Br)Ur.setTransform(...qr.transform),Ur.translate(qr.x,qr.y),qr.addToPath(Ur,qr.fontSize);Ur.restore(),Ur.clip(),Ur.beginPath(),delete this.pendingTextPaths}setCharSpacing(Br){this.current.charSpacing=Br}setWordSpacing(Br){this.current.wordSpacing=Br}setHScale(Br){this.current.textHScale=Br/100}setLeading(Br){this.current.leading=-Br}setFont(Br,Ur){var nn;const qr=this.commonObjs.get(Br),Vr=this.current;if(!qr)throw new Error(`Can't find font for ${Br}`);if(Vr.fontMatrix=qr.fontMatrix||rr.FONT_IDENTITY_MATRIX,(Vr.fontMatrix[0]===0||Vr.fontMatrix[3]===0)&&(0,rr.warn)("Invalid font matrix for font "+Br),Ur<0?(Ur=-Ur,Vr.fontDirection=-1):Vr.fontDirection=1,this.current.font=qr,this.current.fontSize=Ur,qr.isType3Font)return;const Gr=qr.loadedName||"sans-serif",$r=((nn=qr.systemFontInfo)==null?void 0:nn.css)||`"${Gr}", ${qr.fallbackName}`;let Fr="normal";qr.black?Fr="900":qr.bold&&(Fr="bold");const Kr=qr.italic?"italic":"normal";let Zr=Ur;Ur<or?Zr=or:Ur>ar&&(Zr=ar),this.current.fontSizeScale=Ur/Zr,this.ctx.font=`${Kr} ${Fr} ${Zr}px ${$r}`}setTextRenderingMode(Br){this.current.textRenderingMode=Br}setTextRise(Br){this.current.textRise=Br}moveText(Br,Ur){this.current.x=this.current.lineX+=Br,this.current.y=this.current.lineY+=Ur}setLeadingMoveText(Br,Ur){this.setLeading(-Ur),this.moveText(Br,Ur)}setTextMatrix(Br,Ur,qr,Vr,Gr,$r){this.current.textMatrix=[Br,Ur,qr,Vr,Gr,$r],this.current.textMatrixScale=Math.hypot(Br,Ur),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Br,Ur,qr,Vr){const Gr=this.ctx,$r=this.current,Fr=$r.font,Kr=$r.textRenderingMode,Zr=$r.fontSize/$r.fontSizeScale,nn=Kr&rr.TextRenderingMode.FILL_STROKE_MASK,Qr=!!(Kr&rr.TextRenderingMode.ADD_TO_PATH_FLAG),cn=$r.patternFill&&!Fr.missingFile;let dn;(Fr.disableFontFace||Qr||cn)&&(dn=Fr.getPathGenerator(this.commonObjs,Br)),Fr.disableFontFace||cn?(Gr.save(),Gr.translate(Ur,qr),Gr.beginPath(),dn(Gr,Zr),Vr&&Gr.setTransform(...Vr),(nn===rr.TextRenderingMode.FILL||nn===rr.TextRenderingMode.FILL_STROKE)&&Gr.fill(),(nn===rr.TextRenderingMode.STROKE||nn===rr.TextRenderingMode.FILL_STROKE)&&Gr.stroke(),Gr.restore()):((nn===rr.TextRenderingMode.FILL||nn===rr.TextRenderingMode.FILL_STROKE)&&Gr.fillText(Br,Ur,qr),(nn===rr.TextRenderingMode.STROKE||nn===rr.TextRenderingMode.FILL_STROKE)&&Gr.strokeText(Br,Ur,qr)),Qr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nr.getCurrentTransform)(Gr),x:Ur,y:qr,fontSize:Zr,addToPath:dn})}get isFontSubpixelAAEnabled(){const{context:Br}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Br.scale(1.5,1),Br.fillText("I",0,10);const Ur=Br.getImageData(0,0,10,10).data;let qr=!1;for(let Vr=3;Vr<Ur.length;Vr+=4)if(Ur[Vr]>0&&Ur[Vr]<255){qr=!0;break}return(0,rr.shadow)(this,"isFontSubpixelAAEnabled",qr)}showText(Br){const Ur=this.current,qr=Ur.font;if(qr.isType3Font)return this.showType3Text(Br);const Vr=Ur.fontSize;if(Vr===0)return;const Gr=this.ctx,$r=Ur.fontSizeScale,Fr=Ur.charSpacing,Kr=Ur.wordSpacing,Zr=Ur.fontDirection,nn=Ur.textHScale*Zr,Qr=Br.length,cn=qr.vertical,dn=cn?1:-1,en=qr.defaultVMetrics,an=Vr*Ur.fontMatrix[0],tn=Ur.textRenderingMode===rr.TextRenderingMode.FILL&&!qr.disableFontFace&&!Ur.patternFill;Gr.save(),Gr.transform(...Ur.textMatrix),Gr.translate(Ur.x,Ur.y+Ur.textRise),Zr>0?Gr.scale(nn,-1):Gr.scale(nn,1);let sn;if(Ur.patternFill){Gr.save();const Rn=Ur.fillColor.getPattern(Gr,this,(0,nr.getCurrentTransformInverse)(Gr),ir.PathType.FILL);sn=(0,nr.getCurrentTransform)(Gr),Gr.restore(),Gr.fillStyle=Rn}let fn=Ur.lineWidth;const pn=Ur.textMatrixScale;if(pn===0||fn===0){const Rn=Ur.textRenderingMode&rr.TextRenderingMode.FILL_STROKE_MASK;(Rn===rr.TextRenderingMode.STROKE||Rn===rr.TextRenderingMode.FILL_STROKE)&&(fn=this.getSinglePixelWidth())}else fn/=pn;if($r!==1&&(Gr.scale($r,$r),fn/=$r),Gr.lineWidth=fn,qr.isInvalidPDFjsFont){const Rn=[];let En=0;for(const zn of Br)Rn.push(zn.unicode),En+=zn.width;Gr.fillText(Rn.join(""),0,0),Ur.x+=En*an*nn,Gr.restore(),this.compose();return}let yn=0,Cn;for(Cn=0;Cn<Qr;++Cn){const Rn=Br[Cn];if(typeof Rn=="number"){yn+=dn*Rn*Vr/1e3;continue}let En=!1;const zn=(Rn.isSpace?Kr:0)+Fr,Bn=Rn.fontChar,rs=Rn.accent;let cs,_s,qn=Rn.width;if(cn){const fs=Rn.vmetric||en,xs=-(Rn.vmetric?fs[1]:qn*.5)*an,Vn=fs[2]*an;qn=fs?-fs[0]:qn,cs=xs/$r,_s=(yn+Vn)/$r}else cs=yn/$r,_s=0;if(qr.remeasure&&qn>0){const fs=Gr.measureText(Bn).width*1e3/Vr*$r;if(qn<fs&&this.isFontSubpixelAAEnabled){const xs=qn/fs;En=!0,Gr.save(),Gr.scale(xs,1),cs/=xs}else qn!==fs&&(cs+=(qn-fs)/2e3*Vr/$r)}if(this.contentVisible&&(Rn.isInFont||qr.missingFile)){if(tn&&!rs)Gr.fillText(Bn,cs,_s);else if(this.paintChar(Bn,cs,_s,sn),rs){const fs=cs+Vr*rs.offset.x/$r,xs=_s-Vr*rs.offset.y/$r;this.paintChar(rs.fontChar,fs,xs,sn)}}const vs=cn?qn*an-zn*Zr:qn*an+zn*Zr;yn+=vs,En&&Gr.restore()}cn?Ur.y-=yn:Ur.x+=yn*nn,Gr.restore(),this.compose()}showType3Text(Br){const Ur=this.ctx,qr=this.current,Vr=qr.font,Gr=qr.fontSize,$r=qr.fontDirection,Fr=Vr.vertical?1:-1,Kr=qr.charSpacing,Zr=qr.wordSpacing,nn=qr.textHScale*$r,Qr=qr.fontMatrix||rr.FONT_IDENTITY_MATRIX,cn=Br.length,dn=qr.textRenderingMode===rr.TextRenderingMode.INVISIBLE;let en,an,tn,sn;if(!(dn||Gr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Ur.save(),Ur.transform(...qr.textMatrix),Ur.translate(qr.x,qr.y),Ur.scale(nn,$r),en=0;en<cn;++en){if(an=Br[en],typeof an=="number"){sn=Fr*an*Gr/1e3,this.ctx.translate(sn,0),qr.x+=sn*nn;continue}const fn=(an.isSpace?Zr:0)+Kr,pn=Vr.charProcOperatorList[an.operatorListId];if(!pn){(0,rr.warn)(`Type3 character "${an.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=an,this.save(),Ur.scale(Gr,Gr),Ur.transform(...Qr),this.executeOperatorList(pn),this.restore()),tn=rr.Util.applyTransform([an.width,0],Qr)[0]*Gr+fn,Ur.translate(tn,0),qr.x+=tn*nn}Ur.restore(),this.processingType3=null}}setCharWidth(Br,Ur){}setCharWidthAndBounds(Br,Ur,qr,Vr,Gr,$r){this.ctx.rect(qr,Vr,Gr-qr,$r-Vr),this.ctx.clip(),this.endPath()}getColorN_Pattern(Br){let Ur;if(Br[0]==="TilingPattern"){const qr=Br[1],Vr=this.baseTransform||(0,nr.getCurrentTransform)(this.ctx),Gr={createCanvasGraphics:$r=>new zr($r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Ur=new ir.TilingPattern(Br,qr,this.ctx,Gr,Vr)}else Ur=this._getPattern(Br[1],Br[2]);return Ur}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Br,Ur,qr){const Vr=rr.Util.makeHexColor(Br,Ur,qr);this.ctx.strokeStyle=Vr,this.current.strokeColor=Vr}setFillRGBColor(Br,Ur,qr){const Vr=rr.Util.makeHexColor(Br,Ur,qr);this.ctx.fillStyle=Vr,this.current.fillColor=Vr,this.current.patternFill=!1}_getPattern(Br,Ur=null){let qr;return this.cachedPatterns.has(Br)?qr=this.cachedPatterns.get(Br):(qr=(0,ir.getShadingPattern)(this.getObject(Br)),this.cachedPatterns.set(Br,qr)),Ur&&(qr.matrix=Ur),qr}shadingFill(Br){if(!this.contentVisible)return;const Ur=this.ctx;this.save();const qr=this._getPattern(Br);Ur.fillStyle=qr.getPattern(Ur,this,(0,nr.getCurrentTransformInverse)(Ur),ir.PathType.SHADING);const Vr=(0,nr.getCurrentTransformInverse)(Ur);if(Vr){const{width:Gr,height:$r}=Ur.canvas,[Fr,Kr,Zr,nn]=rr.Util.getAxialAlignedBoundingBox([0,0,Gr,$r],Vr);this.ctx.fillRect(Fr,Kr,Zr-Fr,nn-Kr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,rr.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,rr.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Br,Ur){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Br)&&Br.length===6&&this.transform(...Br),this.baseTransform=(0,nr.getCurrentTransform)(this.ctx),Ur)){const qr=Ur[2]-Ur[0],Vr=Ur[3]-Ur[1];this.ctx.rect(Ur[0],Ur[1],qr,Vr),this.current.updateRectMinMax((0,nr.getCurrentTransform)(this.ctx),Ur),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Br){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ur=this.ctx;Br.isolated||(0,rr.info)("TODO: Support non-isolated groups."),Br.knockout&&(0,rr.warn)("Knockout groups not supported.");const qr=(0,nr.getCurrentTransform)(Ur);if(Br.matrix&&Ur.transform(...Br.matrix),!Br.bbox)throw new Error("Bounding box is required.");let Vr=rr.Util.getAxialAlignedBoundingBox(Br.bbox,(0,nr.getCurrentTransform)(Ur));const Gr=[0,0,Ur.canvas.width,Ur.canvas.height];Vr=rr.Util.intersect(Vr,Gr)||[0,0,0,0];const $r=Math.floor(Vr[0]),Fr=Math.floor(Vr[1]);let Kr=Math.max(Math.ceil(Vr[2])-$r,1),Zr=Math.max(Math.ceil(Vr[3])-Fr,1),nn=1,Qr=1;Kr>lr&&(nn=Kr/lr,Kr=lr),Zr>lr&&(Qr=Zr/lr,Zr=lr),this.current.startNewPathAndClipBox([0,0,Kr,Zr]);let cn="groupAt"+this.groupLevel;Br.smask&&(cn+="_smask_"+this.smaskCounter++%2);const dn=this.cachedCanvases.getCanvas(cn,Kr,Zr),en=dn.context;en.scale(1/nn,1/Qr),en.translate(-$r,-Fr),en.transform(...qr),Br.smask?this.smaskStack.push({canvas:dn.canvas,context:en,offsetX:$r,offsetY:Fr,scaleX:nn,scaleY:Qr,subtype:Br.smask.subtype,backdrop:Br.smask.backdrop,transferMap:Br.smask.transferMap||null,startTransformInverse:null}):(Ur.setTransform(1,0,0,1,0,0),Ur.translate($r,Fr),Ur.scale(nn,Qr),Ur.save()),Sr(Ur,en),this.ctx=en,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ur),this.groupLevel++}endGroup(Br){if(!this.contentVisible)return;this.groupLevel--;const Ur=this.ctx,qr=this.groupStack.pop();if(this.ctx=qr,this.ctx.imageSmoothingEnabled=!1,Br.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Vr=(0,nr.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Vr);const Gr=rr.Util.getAxialAlignedBoundingBox([0,0,Ur.canvas.width,Ur.canvas.height],Vr);this.ctx.drawImage(Ur.canvas,0,0),this.ctx.restore(),this.compose(Gr)}}beginAnnotation(Br,Ur,qr,Vr,Gr){if(Xn(this,Er,l0).call(this),jr(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ur)&&Ur.length===4){const $r=Ur[2]-Ur[0],Fr=Ur[3]-Ur[1];if(Gr&&this.annotationCanvasMap){qr=qr.slice(),qr[4]-=Ur[0],qr[5]-=Ur[1],Ur=Ur.slice(),Ur[0]=Ur[1]=0,Ur[2]=$r,Ur[3]=Fr;const[Kr,Zr]=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(this.ctx)),{viewportScale:nn}=this,Qr=Math.ceil($r*this.outputScaleX*nn),cn=Math.ceil(Fr*this.outputScaleY*nn);this.annotationCanvas=this.canvasFactory.create(Qr,cn);const{canvas:dn,context:en}=this.annotationCanvas;this.annotationCanvasMap.set(Br,dn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=en,this.ctx.save(),this.ctx.setTransform(Kr,0,0,-Zr,0,Fr*Zr),jr(this.ctx)}else jr(this.ctx),this.ctx.rect(Ur[0],Ur[1],$r,Fr),this.ctx.clip(),this.endPath()}this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...qr),this.transform(...Vr)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Xn(this,Er,c0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Br){if(!this.contentVisible)return;const Ur=Br.count;Br=this.getObject(Br.data,Br),Br.count=Ur;const qr=this.ctx,Vr=this.processingType3;if(Vr&&(Vr.compiled===void 0&&(Vr.compiled=gr(Br)),Vr.compiled)){Vr.compiled(qr);return}const Gr=this._createMaskCanvas(Br),$r=Gr.canvas;qr.save(),qr.setTransform(1,0,0,1,0,0),qr.drawImage($r,Gr.offsetX,Gr.offsetY),qr.restore(),this.compose()}paintImageMaskXObjectRepeat(Br,Ur,qr=0,Vr=0,Gr,$r){if(!this.contentVisible)return;Br=this.getObject(Br.data,Br);const Fr=this.ctx;Fr.save();const Kr=(0,nr.getCurrentTransform)(Fr);Fr.transform(Ur,qr,Vr,Gr,0,0);const Zr=this._createMaskCanvas(Br);Fr.setTransform(1,0,0,1,Zr.offsetX-Kr[4],Zr.offsetY-Kr[5]);for(let nn=0,Qr=$r.length;nn<Qr;nn+=2){const cn=rr.Util.transform(Kr,[Ur,qr,Vr,Gr,$r[nn],$r[nn+1]]),[dn,en]=rr.Util.applyTransform([0,0],cn);Fr.drawImage(Zr.canvas,dn,en)}Fr.restore(),this.compose()}paintImageMaskXObjectGroup(Br){if(!this.contentVisible)return;const Ur=this.ctx,qr=this.current.fillColor,Vr=this.current.patternFill;for(const Gr of Br){const{data:$r,width:Fr,height:Kr,transform:Zr}=Gr,nn=this.cachedCanvases.getCanvas("maskCanvas",Fr,Kr),Qr=nn.context;Qr.save();const cn=this.getObject($r,Gr);br(Qr,cn),Qr.globalCompositeOperation="source-in",Qr.fillStyle=Vr?qr.getPattern(Qr,this,(0,nr.getCurrentTransformInverse)(Ur),ir.PathType.FILL):qr,Qr.fillRect(0,0,Fr,Kr),Qr.restore(),Ur.save(),Ur.transform(...Zr),Ur.scale(1,-1),fr(Ur,nn.canvas,0,0,Fr,Kr,0,-1,1,1),Ur.restore()}this.compose()}paintImageXObject(Br){if(!this.contentVisible)return;const Ur=this.getObject(Br);if(!Ur){(0,rr.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ur)}paintImageXObjectRepeat(Br,Ur,qr,Vr){if(!this.contentVisible)return;const Gr=this.getObject(Br);if(!Gr){(0,rr.warn)("Dependent image isn't ready yet");return}const $r=Gr.width,Fr=Gr.height,Kr=[];for(let Zr=0,nn=Vr.length;Zr<nn;Zr+=2)Kr.push({transform:[Ur,0,0,qr,Vr[Zr],Vr[Zr+1]],x:0,y:0,w:$r,h:Fr});this.paintInlineImageXObjectGroup(Gr,Kr)}applyTransferMapsToCanvas(Br){return this.current.transferMaps!=="none"&&(Br.filter=this.current.transferMaps,Br.drawImage(Br.canvas,0,0),Br.filter="none"),Br.canvas}applyTransferMapsToBitmap(Br){if(this.current.transferMaps==="none")return Br.bitmap;const{bitmap:Ur,width:qr,height:Vr}=Br,Gr=this.cachedCanvases.getCanvas("inlineImage",qr,Vr),$r=Gr.context;return $r.filter=this.current.transferMaps,$r.drawImage(Ur,0,0),$r.filter="none",Gr.canvas}paintInlineImageXObject(Br){if(!this.contentVisible)return;const Ur=Br.width,qr=Br.height,Vr=this.ctx;if(this.save(),!rr.isNodeJS){const{filter:Fr}=Vr;Fr!=="none"&&Fr!==""&&(Vr.filter="none")}Vr.scale(1/Ur,-1/qr);let Gr;if(Br.bitmap)Gr=this.applyTransferMapsToBitmap(Br);else if(typeof HTMLElement=="function"&&Br instanceof HTMLElement||!Br.data)Gr=Br;else{const Kr=this.cachedCanvases.getCanvas("inlineImage",Ur,qr).context;vr(Kr,Br),Gr=this.applyTransferMapsToCanvas(Kr)}const $r=this._scaleImage(Gr,(0,nr.getCurrentTransformInverse)(Vr));Vr.imageSmoothingEnabled=Nr((0,nr.getCurrentTransform)(Vr),Br.interpolate),fr(Vr,$r.img,0,0,$r.paintWidth,$r.paintHeight,0,-qr,Ur,qr),this.compose(),this.restore()}paintInlineImageXObjectGroup(Br,Ur){if(!this.contentVisible)return;const qr=this.ctx;let Vr;if(Br.bitmap)Vr=Br.bitmap;else{const Gr=Br.width,$r=Br.height,Kr=this.cachedCanvases.getCanvas("inlineImage",Gr,$r).context;vr(Kr,Br),Vr=this.applyTransferMapsToCanvas(Kr)}for(const Gr of Ur)qr.save(),qr.transform(...Gr.transform),qr.scale(1,-1),fr(qr,Vr,Gr.x,Gr.y,Gr.w,Gr.h,0,-1,1,1),qr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Br){}markPointProps(Br,Ur){}beginMarkedContent(Br){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Br,Ur){Br==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ur)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Br){const Ur=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Br);const qr=this.ctx;this.pendingClip&&(Ur||(this.pendingClip===_r?qr.clip("evenodd"):qr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),qr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Br=(0,nr.getCurrentTransform)(this.ctx);if(Br[1]===0&&Br[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Br[0]),Math.abs(Br[3]));else{const Ur=Math.abs(Br[0]*Br[3]-Br[2]*Br[1]),qr=Math.hypot(Br[0],Br[2]),Vr=Math.hypot(Br[1],Br[3]);this._cachedGetSinglePixelWidth=Math.max(qr,Vr)/Ur}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Br}=this.current,{a:Ur,b:qr,c:Vr,d:Gr}=this.ctx.getTransform();let $r,Fr;if(qr===0&&Vr===0){const Kr=Math.abs(Ur),Zr=Math.abs(Gr);if(Kr===Zr)if(Br===0)$r=Fr=1/Kr;else{const nn=Kr*Br;$r=Fr=nn<1?1/nn:1}else if(Br===0)$r=1/Kr,Fr=1/Zr;else{const nn=Kr*Br,Qr=Zr*Br;$r=nn<1?1/nn:1,Fr=Qr<1?1/Qr:1}}else{const Kr=Math.abs(Ur*Gr-qr*Vr),Zr=Math.hypot(Ur,qr),nn=Math.hypot(Vr,Gr);if(Br===0)$r=nn/Kr,Fr=Zr/Kr;else{const Qr=Br*Kr;$r=nn>Qr?nn/Qr:1,Fr=Zr>Qr?Zr/Qr:1}}this._cachedScaleForStroking[0]=$r,this._cachedScaleForStroking[1]=Fr}return this._cachedScaleForStroking}rescaleAndStroke(Br){const{ctx:Ur}=this,{lineWidth:qr}=this.current,[Vr,Gr]=this.getScaleForStroking();if(Ur.lineWidth=qr||1,Vr===1&&Gr===1){Ur.stroke();return}const $r=Ur.getLineDash();if(Br&&Ur.save(),Ur.scale(Vr,Gr),$r.length>0){const Fr=Math.max(Vr,Gr);Ur.setLineDash($r.map(Kr=>Kr/Fr)),Ur.lineDashOffset/=Fr}Ur.stroke(),Br&&Ur.restore()}isContentVisible(){for(let Br=this.markedContentStack.length-1;Br>=0;Br--)if(!this.markedContentStack[Br].visible)return!1;return!0}};Er=new WeakSet,l0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},c0=function(){if(this.pageColors){const Br=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Br!=="none"){const Ur=this.ctx.filter;this.ctx.filter=Br,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Ur}}};let wr=zr;e.CanvasGraphics=wr;for(const Or in rr.OPS)wr.prototype[Or]!==void 0&&(wr.prototype[rr.OPS[Or]]=wr.prototype[Or])},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=ur;var rr=tr(1),nr=tr(6);const ir={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=ir;function sr(gr,yr){if(!yr)return;const vr=yr[2]-yr[0],br=yr[3]-yr[1],Sr=new Path2D;Sr.rect(yr[0],yr[1],vr,br),gr.clip(Sr)}class or{constructor(){this.constructor===or&&(0,rr.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,rr.unreachable)("Abstract method `getPattern` called.")}}class ar extends or{constructor(yr){super(),this._type=yr[1],this._bbox=yr[2],this._colorStops=yr[3],this._p0=yr[4],this._p1=yr[5],this._r0=yr[6],this._r1=yr[7],this.matrix=null}_createGradient(yr){let vr;this._type==="axial"?vr=yr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(vr=yr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const br of this._colorStops)vr.addColorStop(br[0],br[1]);return vr}getPattern(yr,vr,br,Sr){let jr;if(Sr===ir.STROKE||Sr===ir.FILL){const Cr=vr.current.getClippedPathBoundingBox(Sr,(0,nr.getCurrentTransform)(yr))||[0,0,0,0],Pr=Math.ceil(Cr[2]-Cr[0])||1,Rr=Math.ceil(Cr[3]-Cr[1])||1,Lr=vr.cachedCanvases.getCanvas("pattern",Pr,Rr,!0),Ir=Lr.context;Ir.clearRect(0,0,Ir.canvas.width,Ir.canvas.height),Ir.beginPath(),Ir.rect(0,0,Ir.canvas.width,Ir.canvas.height),Ir.translate(-Cr[0],-Cr[1]),br=rr.Util.transform(br,[1,0,0,1,Cr[0],Cr[1]]),Ir.transform(...vr.baseTransform),this.matrix&&Ir.transform(...this.matrix),sr(Ir,this._bbox),Ir.fillStyle=this._createGradient(Ir),Ir.fill(),jr=yr.createPattern(Lr.canvas,"no-repeat");const Nr=new DOMMatrix(br);jr.setTransform(Nr)}else sr(yr,this._bbox),jr=this._createGradient(yr);return jr}}function lr(gr,yr,vr,br,Sr,jr,Cr,Pr){const Rr=yr.coords,Lr=yr.colors,Ir=gr.data,Nr=gr.width*4;let Ar;Rr[vr+1]>Rr[br+1]&&(Ar=vr,vr=br,br=Ar,Ar=jr,jr=Cr,Cr=Ar),Rr[br+1]>Rr[Sr+1]&&(Ar=br,br=Sr,Sr=Ar,Ar=Cr,Cr=Pr,Pr=Ar),Rr[vr+1]>Rr[br+1]&&(Ar=vr,vr=br,br=Ar,Ar=jr,jr=Cr,Cr=Ar);const Dr=(Rr[vr]+yr.offsetX)*yr.scaleX,Tr=(Rr[vr+1]+yr.offsetY)*yr.scaleY,_r=(Rr[br]+yr.offsetX)*yr.scaleX,wr=(Rr[br+1]+yr.offsetY)*yr.scaleY,Er=(Rr[Sr]+yr.offsetX)*yr.scaleX,xr=(Rr[Sr+1]+yr.offsetY)*yr.scaleY;if(Tr>=xr)return;const Mr=Lr[jr],zr=Lr[jr+1],Or=Lr[jr+2],Br=Lr[Cr],Ur=Lr[Cr+1],qr=Lr[Cr+2],Vr=Lr[Pr],Gr=Lr[Pr+1],$r=Lr[Pr+2],Fr=Math.round(Tr),Kr=Math.round(xr);let Zr,nn,Qr,cn,dn,en,an,tn;for(let sn=Fr;sn<=Kr;sn++){if(sn<wr){const Rn=sn<Tr?0:(Tr-sn)/(Tr-wr);Zr=Dr-(Dr-_r)*Rn,nn=Mr-(Mr-Br)*Rn,Qr=zr-(zr-Ur)*Rn,cn=Or-(Or-qr)*Rn}else{let Rn;sn>xr?Rn=1:wr===xr?Rn=0:Rn=(wr-sn)/(wr-xr),Zr=_r-(_r-Er)*Rn,nn=Br-(Br-Vr)*Rn,Qr=Ur-(Ur-Gr)*Rn,cn=qr-(qr-$r)*Rn}let fn;sn<Tr?fn=0:sn>xr?fn=1:fn=(Tr-sn)/(Tr-xr),dn=Dr-(Dr-Er)*fn,en=Mr-(Mr-Vr)*fn,an=zr-(zr-Gr)*fn,tn=Or-(Or-$r)*fn;const pn=Math.round(Math.min(Zr,dn)),yn=Math.round(Math.max(Zr,dn));let Cn=Nr*sn+pn*4;for(let Rn=pn;Rn<=yn;Rn++)fn=(Zr-Rn)/(Zr-dn),fn<0?fn=0:fn>1&&(fn=1),Ir[Cn++]=nn-(nn-en)*fn|0,Ir[Cn++]=Qr-(Qr-an)*fn|0,Ir[Cn++]=cn-(cn-tn)*fn|0,Ir[Cn++]=255}}function cr(gr,yr,vr){const br=yr.coords,Sr=yr.colors;let jr,Cr;switch(yr.type){case"lattice":const Pr=yr.verticesPerRow,Rr=Math.floor(br.length/Pr)-1,Lr=Pr-1;for(jr=0;jr<Rr;jr++){let Ir=jr*Pr;for(let Nr=0;Nr<Lr;Nr++,Ir++)lr(gr,vr,br[Ir],br[Ir+1],br[Ir+Pr],Sr[Ir],Sr[Ir+1],Sr[Ir+Pr]),lr(gr,vr,br[Ir+Pr+1],br[Ir+1],br[Ir+Pr],Sr[Ir+Pr+1],Sr[Ir+1],Sr[Ir+Pr])}break;case"triangles":for(jr=0,Cr=br.length;jr<Cr;jr+=3)lr(gr,vr,br[jr],br[jr+1],br[jr+2],Sr[jr],Sr[jr+1],Sr[jr+2]);break;default:throw new Error("illegal figure")}}class dr extends or{constructor(yr){super(),this._coords=yr[2],this._colors=yr[3],this._figures=yr[4],this._bounds=yr[5],this._bbox=yr[7],this._background=yr[8],this.matrix=null}_createMeshCanvas(yr,vr,br){const Pr=Math.floor(this._bounds[0]),Rr=Math.floor(this._bounds[1]),Lr=Math.ceil(this._bounds[2])-Pr,Ir=Math.ceil(this._bounds[3])-Rr,Nr=Math.min(Math.ceil(Math.abs(Lr*yr[0]*1.1)),3e3),Ar=Math.min(Math.ceil(Math.abs(Ir*yr[1]*1.1)),3e3),Dr=Lr/Nr,Tr=Ir/Ar,_r={coords:this._coords,colors:this._colors,offsetX:-Pr,offsetY:-Rr,scaleX:1/Dr,scaleY:1/Tr},wr=Nr+2*2,Er=Ar+2*2,xr=br.getCanvas("mesh",wr,Er,!1),Mr=xr.context,zr=Mr.createImageData(Nr,Ar);if(vr){const Br=zr.data;for(let Ur=0,qr=Br.length;Ur<qr;Ur+=4)Br[Ur]=vr[0],Br[Ur+1]=vr[1],Br[Ur+2]=vr[2],Br[Ur+3]=255}for(const Br of this._figures)cr(zr,Br,_r);return Mr.putImageData(zr,2,2),{canvas:xr.canvas,offsetX:Pr-2*Dr,offsetY:Rr-2*Tr,scaleX:Dr,scaleY:Tr}}getPattern(yr,vr,br,Sr){sr(yr,this._bbox);let jr;if(Sr===ir.SHADING)jr=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(yr));else if(jr=rr.Util.singularValueDecompose2dScale(vr.baseTransform),this.matrix){const Pr=rr.Util.singularValueDecompose2dScale(this.matrix);jr=[jr[0]*Pr[0],jr[1]*Pr[1]]}const Cr=this._createMeshCanvas(jr,Sr===ir.SHADING?null:this._background,vr.cachedCanvases);return Sr!==ir.SHADING&&(yr.setTransform(...vr.baseTransform),this.matrix&&yr.transform(...this.matrix)),yr.translate(Cr.offsetX,Cr.offsetY),yr.scale(Cr.scaleX,Cr.scaleY),yr.createPattern(Cr.canvas,"no-repeat")}}class hr extends or{getPattern(){return"hotpink"}}function ur(gr){switch(gr[0]){case"RadialAxial":return new ar(gr);case"Mesh":return new dr(gr);case"Dummy":return new hr}throw new Error(`Unknown IR type: ${gr[0]}`)}const pr={COLORED:1,UNCOLORED:2},fr=class fr{constructor(yr,vr,br,Sr,jr){this.operatorList=yr[2],this.matrix=yr[3]||[1,0,0,1,0,0],this.bbox=yr[4],this.xstep=yr[5],this.ystep=yr[6],this.paintType=yr[7],this.tilingType=yr[8],this.color=vr,this.ctx=br,this.canvasGraphicsFactory=Sr,this.baseTransform=jr}createPatternCanvas(yr){const vr=this.operatorList,br=this.bbox,Sr=this.xstep,jr=this.ystep,Cr=this.paintType,Pr=this.tilingType,Rr=this.color,Lr=this.canvasGraphicsFactory;(0,rr.info)("TilingType: "+Pr);const Ir=br[0],Nr=br[1],Ar=br[2],Dr=br[3],Tr=rr.Util.singularValueDecompose2dScale(this.matrix),_r=rr.Util.singularValueDecompose2dScale(this.baseTransform),wr=[Tr[0]*_r[0],Tr[1]*_r[1]],Er=this.getSizeAndScale(Sr,this.ctx.canvas.width,wr[0]),xr=this.getSizeAndScale(jr,this.ctx.canvas.height,wr[1]),Mr=yr.cachedCanvases.getCanvas("pattern",Er.size,xr.size,!0),zr=Mr.context,Or=Lr.createCanvasGraphics(zr);Or.groupLevel=yr.groupLevel,this.setFillAndStrokeStyleToContext(Or,Cr,Rr);let Br=Ir,Ur=Nr,qr=Ar,Vr=Dr;return Ir<0&&(Br=0,qr+=Math.abs(Ir)),Nr<0&&(Ur=0,Vr+=Math.abs(Nr)),zr.translate(-(Er.scale*Br),-(xr.scale*Ur)),Or.transform(Er.scale,0,0,xr.scale,0,0),zr.save(),this.clipBbox(Or,Br,Ur,qr,Vr),Or.baseTransform=(0,nr.getCurrentTransform)(Or.ctx),Or.executeOperatorList(vr),Or.endDrawing(),{canvas:Mr.canvas,scaleX:Er.scale,scaleY:xr.scale,offsetX:Br,offsetY:Ur}}getSizeAndScale(yr,vr,br){yr=Math.abs(yr);const Sr=Math.max(fr.MAX_PATTERN_SIZE,vr);let jr=Math.ceil(yr*br);return jr>=Sr?jr=Sr:br=jr/yr,{scale:br,size:jr}}clipBbox(yr,vr,br,Sr,jr){const Cr=Sr-vr,Pr=jr-br;yr.ctx.rect(vr,br,Cr,Pr),yr.current.updateRectMinMax((0,nr.getCurrentTransform)(yr.ctx),[vr,br,Sr,jr]),yr.clip(),yr.endPath()}setFillAndStrokeStyleToContext(yr,vr,br){const Sr=yr.ctx,jr=yr.current;switch(vr){case pr.COLORED:const Cr=this.ctx;Sr.fillStyle=Cr.fillStyle,Sr.strokeStyle=Cr.strokeStyle,jr.fillColor=Cr.fillStyle,jr.strokeColor=Cr.strokeStyle;break;case pr.UNCOLORED:const Pr=rr.Util.makeHexColor(br[0],br[1],br[2]);Sr.fillStyle=Pr,Sr.strokeStyle=Pr,jr.fillColor=Pr,jr.strokeColor=Pr;break;default:throw new rr.FormatError(`Unsupported paint type: ${vr}`)}}getPattern(yr,vr,br,Sr){let jr=br;Sr!==ir.SHADING&&(jr=rr.Util.transform(jr,vr.baseTransform),this.matrix&&(jr=rr.Util.transform(jr,this.matrix)));const Cr=this.createPatternCanvas(vr);let Pr=new DOMMatrix(jr);Pr=Pr.translate(Cr.offsetX,Cr.offsetY),Pr=Pr.scale(1/Cr.scaleX,1/Cr.scaleY);const Rr=yr.createPattern(Cr.canvas,"repeat");return Rr.setTransform(Pr),Rr}};ho(fr,"MAX_PATTERN_SIZE",3e3);let mr=fr;e.TilingPattern=mr},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=ir,e.convertToRGBA=nr,e.grayToRGBA=or;var rr=tr(1);function nr(ar){switch(ar.kind){case rr.ImageKind.GRAYSCALE_1BPP:return ir(ar);case rr.ImageKind.RGB_24BPP:return sr(ar)}return null}function ir({src:ar,srcPos:lr=0,dest:cr,width:dr,height:hr,nonBlackColor:ur=4294967295,inverseDecode:pr=!1}){const mr=rr.FeatureTest.isLittleEndian?4278190080:255,[fr,gr]=pr?[ur,mr]:[mr,ur],yr=dr>>3,vr=dr&7,br=ar.length;cr=new Uint32Array(cr.buffer);let Sr=0;for(let jr=0;jr<hr;jr++){for(const Pr=lr+yr;lr<Pr;lr++){const Rr=lr<br?ar[lr]:255;cr[Sr++]=Rr&128?gr:fr,cr[Sr++]=Rr&64?gr:fr,cr[Sr++]=Rr&32?gr:fr,cr[Sr++]=Rr&16?gr:fr,cr[Sr++]=Rr&8?gr:fr,cr[Sr++]=Rr&4?gr:fr,cr[Sr++]=Rr&2?gr:fr,cr[Sr++]=Rr&1?gr:fr}if(vr===0)continue;const Cr=lr<br?ar[lr++]:255;for(let Pr=0;Pr<vr;Pr++)cr[Sr++]=Cr&1<<7-Pr?gr:fr}return{srcPos:lr,destPos:Sr}}function sr({src:ar,srcPos:lr=0,dest:cr,destPos:dr=0,width:hr,height:ur}){let pr=0;const mr=ar.length>>2,fr=new Uint32Array(ar.buffer,lr,mr);if(rr.FeatureTest.isLittleEndian){for(;pr<mr-2;pr+=3,dr+=4){const gr=fr[pr],yr=fr[pr+1],vr=fr[pr+2];cr[dr]=gr|4278190080,cr[dr+1]=gr>>>24|yr<<8|4278190080,cr[dr+2]=yr>>>16|vr<<16|4278190080,cr[dr+3]=vr>>>8|4278190080}for(let gr=pr*4,yr=ar.length;gr<yr;gr+=3)cr[dr++]=ar[gr]|ar[gr+1]<<8|ar[gr+2]<<16|4278190080}else{for(;pr<mr-2;pr+=3,dr+=4){const gr=fr[pr],yr=fr[pr+1],vr=fr[pr+2];cr[dr]=gr|255,cr[dr+1]=gr<<24|yr>>>8|255,cr[dr+2]=yr<<16|vr>>>16|255,cr[dr+3]=vr<<8|255}for(let gr=pr*4,yr=ar.length;gr<yr;gr+=3)cr[dr++]=ar[gr]<<24|ar[gr+1]<<16|ar[gr+2]<<8|255}return{srcPos:lr,destPos:dr}}function or(ar,lr){if(rr.FeatureTest.isLittleEndian)for(let cr=0,dr=ar.length;cr<dr;cr++)lr[cr]=ar[cr]*65793|4278190080;else for(let cr=0,dr=ar.length;cr<dr;cr++)lr[cr]=ar[cr]*16843008|255}},(er,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const tr=Object.create(null);e.GlobalWorkerOptions=tr,tr.workerPort=null,tr.workerSrc=""},(er,e,tr)=>{var ar,dy,hy,_m;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var rr=tr(1);const nr={DATA:1,ERROR:2},ir={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sr(hr){switch(hr instanceof Error||typeof hr=="object"&&hr!==null||(0,rr.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),hr.name){case"AbortException":return new rr.AbortException(hr.message);case"MissingPDFException":return new rr.MissingPDFException(hr.message);case"PasswordException":return new rr.PasswordException(hr.message,hr.code);case"UnexpectedResponseException":return new rr.UnexpectedResponseException(hr.message,hr.status);case"UnknownErrorException":return new rr.UnknownErrorException(hr.message,hr.details);default:return new rr.UnknownErrorException(hr.message,hr.toString())}}class or{constructor(ur,pr,mr){ns(this,ar);this.sourceName=ur,this.targetName=pr,this.comObj=mr,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=fr=>{const gr=fr.data;if(gr.targetName!==this.sourceName)return;if(gr.stream){Xn(this,ar,hy).call(this,gr);return}if(gr.callback){const vr=gr.callbackId,br=this.callbackCapabilities[vr];if(!br)throw new Error(`Cannot resolve callback ${vr}`);if(delete this.callbackCapabilities[vr],gr.callback===nr.DATA)br.resolve(gr.data);else if(gr.callback===nr.ERROR)br.reject(sr(gr.reason));else throw new Error("Unexpected callback case");return}const yr=this.actionHandler[gr.action];if(!yr)throw new Error(`Unknown action from worker: ${gr.action}`);if(gr.callbackId){const vr=this.sourceName,br=gr.sourceName;new Promise(function(Sr){Sr(yr(gr.data))}).then(function(Sr){mr.postMessage({sourceName:vr,targetName:br,callback:nr.DATA,callbackId:gr.callbackId,data:Sr})},function(Sr){mr.postMessage({sourceName:vr,targetName:br,callback:nr.ERROR,callbackId:gr.callbackId,reason:sr(Sr)})});return}if(gr.streamId){Xn(this,ar,dy).call(this,gr);return}yr(gr.data)},mr.addEventListener("message",this._onComObjOnMessage)}on(ur,pr){const mr=this.actionHandler;if(mr[ur])throw new Error(`There is already an actionName called "${ur}"`);mr[ur]=pr}send(ur,pr,mr){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ur,data:pr},mr)}sendWithPromise(ur,pr,mr){const fr=this.callbackId++,gr=new rr.PromiseCapability;this.callbackCapabilities[fr]=gr;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ur,callbackId:fr,data:pr},mr)}catch(yr){gr.reject(yr)}return gr.promise}sendWithStream(ur,pr,mr,fr){const gr=this.streamId++,yr=this.sourceName,vr=this.targetName,br=this.comObj;return new ReadableStream({start:Sr=>{const jr=new rr.PromiseCapability;return this.streamControllers[gr]={controller:Sr,startCall:jr,pullCall:null,cancelCall:null,isClosed:!1},br.postMessage({sourceName:yr,targetName:vr,action:ur,streamId:gr,data:pr,desiredSize:Sr.desiredSize},fr),jr.promise},pull:Sr=>{const jr=new rr.PromiseCapability;return this.streamControllers[gr].pullCall=jr,br.postMessage({sourceName:yr,targetName:vr,stream:ir.PULL,streamId:gr,desiredSize:Sr.desiredSize}),jr.promise},cancel:Sr=>{(0,rr.assert)(Sr instanceof Error,"cancel must have a valid reason");const jr=new rr.PromiseCapability;return this.streamControllers[gr].cancelCall=jr,this.streamControllers[gr].isClosed=!0,br.postMessage({sourceName:yr,targetName:vr,stream:ir.CANCEL,streamId:gr,reason:sr(Sr)}),jr.promise}},mr)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ar=new WeakSet,dy=function(ur){const pr=ur.streamId,mr=this.sourceName,fr=ur.sourceName,gr=this.comObj,yr=this,vr=this.actionHandler[ur.action],br={enqueue(Sr,jr=1,Cr){if(this.isCancelled)return;const Pr=this.desiredSize;this.desiredSize-=jr,Pr>0&&this.desiredSize<=0&&(this.sinkCapability=new rr.PromiseCapability,this.ready=this.sinkCapability.promise),gr.postMessage({sourceName:mr,targetName:fr,stream:ir.ENQUEUE,streamId:pr,chunk:Sr},Cr)},close(){this.isCancelled||(this.isCancelled=!0,gr.postMessage({sourceName:mr,targetName:fr,stream:ir.CLOSE,streamId:pr}),delete yr.streamSinks[pr])},error(Sr){(0,rr.assert)(Sr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,gr.postMessage({sourceName:mr,targetName:fr,stream:ir.ERROR,streamId:pr,reason:sr(Sr)}))},sinkCapability:new rr.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ur.desiredSize,ready:null};br.sinkCapability.resolve(),br.ready=br.sinkCapability.promise,this.streamSinks[pr]=br,new Promise(function(Sr){Sr(vr(ur.data,br))}).then(function(){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.START_COMPLETE,streamId:pr,success:!0})},function(Sr){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.START_COMPLETE,streamId:pr,reason:sr(Sr)})})},hy=function(ur){const pr=ur.streamId,mr=this.sourceName,fr=ur.sourceName,gr=this.comObj,yr=this.streamControllers[pr],vr=this.streamSinks[pr];switch(ur.stream){case ir.START_COMPLETE:ur.success?yr.startCall.resolve():yr.startCall.reject(sr(ur.reason));break;case ir.PULL_COMPLETE:ur.success?yr.pullCall.resolve():yr.pullCall.reject(sr(ur.reason));break;case ir.PULL:if(!vr){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.PULL_COMPLETE,streamId:pr,success:!0});break}vr.desiredSize<=0&&ur.desiredSize>0&&vr.sinkCapability.resolve(),vr.desiredSize=ur.desiredSize,new Promise(function(br){var Sr;br((Sr=vr.onPull)==null?void 0:Sr.call(vr))}).then(function(){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.PULL_COMPLETE,streamId:pr,success:!0})},function(br){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.PULL_COMPLETE,streamId:pr,reason:sr(br)})});break;case ir.ENQUEUE:if((0,rr.assert)(yr,"enqueue should have stream controller"),yr.isClosed)break;yr.controller.enqueue(ur.chunk);break;case ir.CLOSE:if((0,rr.assert)(yr,"close should have stream controller"),yr.isClosed)break;yr.isClosed=!0,yr.controller.close(),Xn(this,ar,_m).call(this,yr,pr);break;case ir.ERROR:(0,rr.assert)(yr,"error should have stream controller"),yr.controller.error(sr(ur.reason)),Xn(this,ar,_m).call(this,yr,pr);break;case ir.CANCEL_COMPLETE:ur.success?yr.cancelCall.resolve():yr.cancelCall.reject(sr(ur.reason)),Xn(this,ar,_m).call(this,yr,pr);break;case ir.CANCEL:if(!vr)break;new Promise(function(br){var Sr;br((Sr=vr.onCancel)==null?void 0:Sr.call(vr,sr(ur.reason)))}).then(function(){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.CANCEL_COMPLETE,streamId:pr,success:!0})},function(br){gr.postMessage({sourceName:mr,targetName:fr,stream:ir.CANCEL_COMPLETE,streamId:pr,reason:sr(br)})}),vr.sinkCapability.reject(sr(ur.reason)),vr.isCancelled=!0,delete this.streamSinks[pr];break;default:throw new Error("Unexpected stream case")}},_m=async function(ur,pr){var mr,fr,gr;await Promise.allSettled([(mr=ur.startCall)==null?void 0:mr.promise,(fr=ur.pullCall)==null?void 0:fr.promise,(gr=ur.cancelCall)==null?void 0:gr.promise]),delete this.streamControllers[pr]},e.MessageHandler=or},(er,e,tr)=>{var ir,sr;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var rr=tr(1);class nr{constructor({parsedData:ar,rawData:lr}){ns(this,ir);ns(this,sr);ls(this,ir,ar),ls(this,sr,lr)}getRaw(){return on(this,sr)}get(ar){return on(this,ir).get(ar)??null}getAll(){return(0,rr.objectFromMap)(on(this,ir))}has(ar){return on(this,ir).has(ar)}}ir=new WeakMap,sr=new WeakMap,e.Metadata=nr},(er,e,tr)=>{var ar,lr,cr,dr,hr,ur,u0;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var rr=tr(1),nr=tr(8);const ir=Symbol("INTERNAL");class sr{constructor(fr,gr){ns(this,ar,!0);this.name=fr,this.intent=gr}get visible(){return on(this,ar)}_setVisible(fr,gr){fr!==ir&&(0,rr.unreachable)("Internal method `_setVisible` called."),ls(this,ar,gr)}}ar=new WeakMap;class or{constructor(fr){ns(this,ur);ns(this,lr,null);ns(this,cr,new Map);ns(this,dr,null);ns(this,hr,null);if(this.name=null,this.creator=null,fr!==null){this.name=fr.name,this.creator=fr.creator,ls(this,hr,fr.order);for(const gr of fr.groups)on(this,cr).set(gr.id,new sr(gr.name,gr.intent));if(fr.baseState==="OFF")for(const gr of on(this,cr).values())gr._setVisible(ir,!1);for(const gr of fr.on)on(this,cr).get(gr)._setVisible(ir,!0);for(const gr of fr.off)on(this,cr).get(gr)._setVisible(ir,!1);ls(this,dr,this.getHash())}}isVisible(fr){if(on(this,cr).size===0)return!0;if(!fr)return(0,rr.warn)("Optional content group not defined."),!0;if(fr.type==="OCG")return on(this,cr).has(fr.id)?on(this,cr).get(fr.id).visible:((0,rr.warn)(`Optional content group not found: ${fr.id}`),!0);if(fr.type==="OCMD"){if(fr.expression)return Xn(this,ur,u0).call(this,fr.expression);if(!fr.policy||fr.policy==="AnyOn"){for(const gr of fr.ids){if(!on(this,cr).has(gr))return(0,rr.warn)(`Optional content group not found: ${gr}`),!0;if(on(this,cr).get(gr).visible)return!0}return!1}else if(fr.policy==="AllOn"){for(const gr of fr.ids){if(!on(this,cr).has(gr))return(0,rr.warn)(`Optional content group not found: ${gr}`),!0;if(!on(this,cr).get(gr).visible)return!1}return!0}else if(fr.policy==="AnyOff"){for(const gr of fr.ids){if(!on(this,cr).has(gr))return(0,rr.warn)(`Optional content group not found: ${gr}`),!0;if(!on(this,cr).get(gr).visible)return!0}return!1}else if(fr.policy==="AllOff"){for(const gr of fr.ids){if(!on(this,cr).has(gr))return(0,rr.warn)(`Optional content group not found: ${gr}`),!0;if(on(this,cr).get(gr).visible)return!1}return!0}return(0,rr.warn)(`Unknown optional content policy ${fr.policy}.`),!0}return(0,rr.warn)(`Unknown group type ${fr.type}.`),!0}setVisibility(fr,gr=!0){if(!on(this,cr).has(fr)){(0,rr.warn)(`Optional content group not found: ${fr}`);return}on(this,cr).get(fr)._setVisible(ir,!!gr),ls(this,lr,null)}get hasInitialVisibility(){return on(this,dr)===null||this.getHash()===on(this,dr)}getOrder(){return on(this,cr).size?on(this,hr)?on(this,hr).slice():[...on(this,cr).keys()]:null}getGroups(){return on(this,cr).size>0?(0,rr.objectFromMap)(on(this,cr)):null}getGroup(fr){return on(this,cr).get(fr)||null}getHash(){if(on(this,lr)!==null)return on(this,lr);const fr=new nr.MurmurHash3_64;for(const[gr,yr]of on(this,cr))fr.update(`${gr}:${yr.visible}`);return ls(this,lr,fr.hexdigest())}}lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakSet,u0=function(fr){const gr=fr.length;if(gr<2)return!0;const yr=fr[0];for(let vr=1;vr<gr;vr++){const br=fr[vr];let Sr;if(Array.isArray(br))Sr=Xn(this,ur,u0).call(this,br);else if(on(this,cr).has(br))Sr=on(this,cr).get(br).visible;else return(0,rr.warn)(`Optional content group not found: ${br}`),!0;switch(yr){case"And":if(!Sr)return!1;break;case"Or":if(Sr)return!0;break;case"Not":return!Sr;default:return!0}}return yr==="And"},e.OptionalContentConfig=or},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var rr=tr(1),nr=tr(6);class ir{constructor({length:lr,initialData:cr,progressiveDone:dr=!1,contentDispositionFilename:hr=null,disableRange:ur=!1,disableStream:pr=!1},mr){if((0,rr.assert)(mr,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=dr,this._contentDispositionFilename=hr,(cr==null?void 0:cr.length)>0){const fr=cr instanceof Uint8Array&&cr.byteLength===cr.buffer.byteLength?cr.buffer:new Uint8Array(cr).buffer;this._queuedChunks.push(fr)}this._pdfDataRangeTransport=mr,this._isStreamingSupported=!pr,this._isRangeSupported=!ur,this._contentLength=lr,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((fr,gr)=>{this._onReceiveData({begin:fr,chunk:gr})}),this._pdfDataRangeTransport.addProgressListener((fr,gr)=>{this._onProgress({loaded:fr,total:gr})}),this._pdfDataRangeTransport.addProgressiveReadListener(fr=>{this._onReceiveData({chunk:fr})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:lr,chunk:cr}){const dr=cr instanceof Uint8Array&&cr.byteLength===cr.buffer.byteLength?cr.buffer:new Uint8Array(cr).buffer;if(lr===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dr):this._queuedChunks.push(dr);else{const hr=this._rangeReaders.some(function(ur){return ur._begin!==lr?!1:(ur._enqueue(dr),!0)});(0,rr.assert)(hr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var lr;return((lr=this._fullRequestReader)==null?void 0:lr._loaded)??0}_onProgress(lr){var cr,dr,hr,ur;lr.total===void 0?(dr=(cr=this._rangeReaders[0])==null?void 0:cr.onProgress)==null||dr.call(cr,{loaded:lr.loaded}):(ur=(hr=this._fullRequestReader)==null?void 0:hr.onProgress)==null||ur.call(hr,{loaded:lr.loaded,total:lr.total})}_onProgressiveDone(){var lr;(lr=this._fullRequestReader)==null||lr.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(lr){const cr=this._rangeReaders.indexOf(lr);cr>=0&&this._rangeReaders.splice(cr,1)}getFullReader(){(0,rr.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const lr=this._queuedChunks;return this._queuedChunks=null,new sr(this,lr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(lr,cr){if(cr<=this._progressiveDataLength)return null;const dr=new or(this,lr,cr);return this._pdfDataRangeTransport.requestDataRange(lr,cr),this._rangeReaders.push(dr),dr}cancelAllRequests(lr){var cr;(cr=this._fullRequestReader)==null||cr.cancel(lr);for(const dr of this._rangeReaders.slice(0))dr.cancel(lr);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=ir;class sr{constructor(lr,cr,dr=!1,hr=null){this._stream=lr,this._done=dr||!1,this._filename=(0,nr.isPdfFile)(hr)?hr:null,this._queuedChunks=cr||[],this._loaded=0;for(const ur of this._queuedChunks)this._loaded+=ur.byteLength;this._requests=[],this._headersReady=Promise.resolve(),lr._fullRequestReader=this,this.onProgress=null}_enqueue(lr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:lr,done:!1}):this._queuedChunks.push(lr),this._loaded+=lr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lr=new rr.PromiseCapability;return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const cr of this._requests)cr.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class or{constructor(lr,cr,dr){this._stream=lr,this._begin=cr,this._end=dr,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(lr){if(!this._done){if(this._requests.length===0)this._queuedChunk=lr;else{this._requests.shift().resolve({value:lr,done:!1});for(const dr of this._requests)dr.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const cr=this._queuedChunk;return this._queuedChunk=null,{value:cr,done:!1}}if(this._done)return{value:void 0,done:!0};const lr=new rr.PromiseCapability;return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const cr of this._requests)cr.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var rr=tr(1),nr=tr(20);function ir(dr,hr,ur){return{method:"GET",headers:dr,signal:ur.signal,mode:"cors",credentials:hr?"include":"same-origin",redirect:"follow"}}function sr(dr){const hr=new Headers;for(const ur in dr){const pr=dr[ur];pr!==void 0&&hr.append(ur,pr)}return hr}function or(dr){return dr instanceof Uint8Array?dr.buffer:dr instanceof ArrayBuffer?dr:((0,rr.warn)(`getArrayBuffer - unexpected data format: ${dr}`),new Uint8Array(dr).buffer)}class ar{constructor(hr){this.source=hr,this.isHttp=/^https?:/i.test(hr.url),this.httpHeaders=this.isHttp&&hr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var hr;return((hr=this._fullRequestReader)==null?void 0:hr._loaded)??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lr(this),this._fullRequestReader}getRangeReader(hr,ur){if(ur<=this._progressiveDataLength)return null;const pr=new cr(this,hr,ur);return this._rangeRequestReaders.push(pr),pr}cancelAllRequests(hr){var ur;(ur=this._fullRequestReader)==null||ur.cancel(hr);for(const pr of this._rangeRequestReaders.slice(0))pr.cancel(hr)}}e.PDFFetchStream=ar;class lr{constructor(hr){this._stream=hr,this._reader=null,this._loaded=0,this._filename=null;const ur=hr.source;this._withCredentials=ur.withCredentials||!1,this._contentLength=ur.length,this._headersCapability=new rr.PromiseCapability,this._disableRange=ur.disableRange||!1,this._rangeChunkSize=ur.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ur.disableStream,this._isRangeSupported=!ur.disableRange,this._headers=sr(this._stream.httpHeaders);const pr=ur.url;fetch(pr,ir(this._headers,this._withCredentials,this._abortController)).then(mr=>{if(!(0,nr.validateResponseStatus)(mr.status))throw(0,nr.createResponseStatusError)(mr.status,pr);this._reader=mr.body.getReader(),this._headersCapability.resolve();const fr=vr=>mr.headers.get(vr),{allowRangeRequests:gr,suggestedLength:yr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:fr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=gr,this._contentLength=yr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(fr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rr.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pr;await this._headersCapability.promise;const{value:hr,done:ur}=await this._reader.read();return ur?{value:hr,done:ur}:(this._loaded+=hr.byteLength,(pr=this.onProgress)==null||pr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:or(hr),done:!1})}cancel(hr){var ur;(ur=this._reader)==null||ur.cancel(hr),this._abortController.abort()}}class cr{constructor(hr,ur,pr){this._stream=hr,this._reader=null,this._loaded=0;const mr=hr.source;this._withCredentials=mr.withCredentials||!1,this._readCapability=new rr.PromiseCapability,this._isStreamingSupported=!mr.disableStream,this._abortController=new AbortController,this._headers=sr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ur}-${pr-1}`);const fr=mr.url;fetch(fr,ir(this._headers,this._withCredentials,this._abortController)).then(gr=>{if(!(0,nr.validateResponseStatus)(gr.status))throw(0,nr.createResponseStatusError)(gr.status,fr);this._readCapability.resolve(),this._reader=gr.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pr;await this._readCapability.promise;const{value:hr,done:ur}=await this._reader.read();return ur?{value:hr,done:ur}:(this._loaded+=hr.byteLength,(pr=this.onProgress)==null||pr.call(this,{loaded:this._loaded}),{value:or(hr),done:!1})}cancel(hr){var ur;(ur=this._reader)==null||ur.cancel(hr),this._abortController.abort()}}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=ar,e.extractFilenameFromHeader=or,e.validateRangeRequestCapabilities=sr,e.validateResponseStatus=lr;var rr=tr(1),nr=tr(21),ir=tr(6);function sr({getResponseHeader:cr,isHttp:dr,rangeChunkSize:hr,disableRange:ur}){const pr={allowRangeRequests:!1,suggestedLength:void 0},mr=parseInt(cr("Content-Length"),10);return!Number.isInteger(mr)||(pr.suggestedLength=mr,mr<=2*hr)||ur||!dr||cr("Accept-Ranges")!=="bytes"||(cr("Content-Encoding")||"identity")!=="identity"||(pr.allowRangeRequests=!0),pr}function or(cr){const dr=cr("Content-Disposition");if(dr){let hr=(0,nr.getFilenameFromContentDispositionHeader)(dr);if(hr.includes("%"))try{hr=decodeURIComponent(hr)}catch{}if((0,ir.isPdfFile)(hr))return hr}return null}function ar(cr,dr){return cr===404||cr===0&&dr.startsWith("file:")?new rr.MissingPDFException('Missing PDF "'+dr+'".'):new rr.UnexpectedResponseException(`Unexpected server response (${cr}) while retrieving PDF "${dr}".`,cr)}function lr(cr){return cr===200||cr===206}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=nr;var rr=tr(1);function nr(ir){let sr=!0,or=ar("filename\\*","i").exec(ir);if(or){or=or[1];let mr=hr(or);return mr=unescape(mr),mr=ur(mr),mr=pr(mr),cr(mr)}if(or=dr(ir),or){const mr=pr(or);return cr(mr)}if(or=ar("filename","i").exec(ir),or){or=or[1];let mr=hr(or);return mr=pr(mr),cr(mr)}function ar(mr,fr){return new RegExp("(?:^|;)\\s*"+mr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',fr)}function lr(mr,fr){if(mr){if(!/^[\x00-\xFF]+$/.test(fr))return fr;try{const gr=new TextDecoder(mr,{fatal:!0}),yr=(0,rr.stringToBytes)(fr);fr=gr.decode(yr),sr=!1}catch{}}return fr}function cr(mr){return sr&&/[\x80-\xff]/.test(mr)&&(mr=lr("utf-8",mr),sr&&(mr=lr("iso-8859-1",mr))),mr}function dr(mr){const fr=[];let gr;const yr=ar("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(gr=yr.exec(mr))!==null;){let[,br,Sr,jr]=gr;if(br=parseInt(br,10),br in fr){if(br===0)break;continue}fr[br]=[Sr,jr]}const vr=[];for(let br=0;br<fr.length&&br in fr;++br){let[Sr,jr]=fr[br];jr=hr(jr),Sr&&(jr=unescape(jr),br===0&&(jr=ur(jr))),vr.push(jr)}return vr.join("")}function hr(mr){if(mr.startsWith('"')){const fr=mr.slice(1).split('\\"');for(let gr=0;gr<fr.length;++gr){const yr=fr[gr].indexOf('"');yr!==-1&&(fr[gr]=fr[gr].slice(0,yr),fr.length=gr+1),fr[gr]=fr[gr].replaceAll(/\\(.)/g,"$1")}mr=fr.join('"')}return mr}function ur(mr){const fr=mr.indexOf("'");if(fr===-1)return mr;const gr=mr.slice(0,fr),vr=mr.slice(fr+1).replace(/^[^']*'/,"");return lr(gr,vr)}function pr(mr){return!mr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(mr)?mr:mr.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(fr,gr,yr,vr){if(yr==="q"||yr==="Q")return vr=vr.replaceAll("_"," "),vr=vr.replaceAll(/=([0-9a-fA-F]{2})/g,function(br,Sr){return String.fromCharCode(parseInt(Sr,16))}),lr(gr,vr);try{vr=atob(vr)}catch{}return lr(gr,vr)})}return""}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var rr=tr(1),nr=tr(20);const ir=200,sr=206;function or(hr){const ur=hr.response;return typeof ur!="string"?ur:(0,rr.stringToBytes)(ur).buffer}class ar{constructor(ur,pr={}){this.url=ur,this.isHttp=/^https?:/i.test(ur),this.httpHeaders=this.isHttp&&pr.httpHeaders||Object.create(null),this.withCredentials=pr.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ur,pr,mr){const fr={begin:ur,end:pr};for(const gr in mr)fr[gr]=mr[gr];return this.request(fr)}requestFull(ur){return this.request(ur)}request(ur){const pr=new XMLHttpRequest,mr=this.currXhrId++,fr=this.pendingRequests[mr]={xhr:pr};pr.open("GET",this.url),pr.withCredentials=this.withCredentials;for(const gr in this.httpHeaders){const yr=this.httpHeaders[gr];yr!==void 0&&pr.setRequestHeader(gr,yr)}return this.isHttp&&"begin"in ur&&"end"in ur?(pr.setRequestHeader("Range",`bytes=${ur.begin}-${ur.end-1}`),fr.expectedStatus=sr):fr.expectedStatus=ir,pr.responseType="arraybuffer",ur.onError&&(pr.onerror=function(gr){ur.onError(pr.status)}),pr.onreadystatechange=this.onStateChange.bind(this,mr),pr.onprogress=this.onProgress.bind(this,mr),fr.onHeadersReceived=ur.onHeadersReceived,fr.onDone=ur.onDone,fr.onError=ur.onError,fr.onProgress=ur.onProgress,pr.send(null),mr}onProgress(ur,pr){var fr;const mr=this.pendingRequests[ur];mr&&((fr=mr.onProgress)==null||fr.call(mr,pr))}onStateChange(ur,pr){var br,Sr,jr;const mr=this.pendingRequests[ur];if(!mr)return;const fr=mr.xhr;if(fr.readyState>=2&&mr.onHeadersReceived&&(mr.onHeadersReceived(),delete mr.onHeadersReceived),fr.readyState!==4||!(ur in this.pendingRequests))return;if(delete this.pendingRequests[ur],fr.status===0&&this.isHttp){(br=mr.onError)==null||br.call(mr,fr.status);return}const gr=fr.status||ir;if(!(gr===ir&&mr.expectedStatus===sr)&&gr!==mr.expectedStatus){(Sr=mr.onError)==null||Sr.call(mr,fr.status);return}const vr=or(fr);if(gr===sr){const Cr=fr.getResponseHeader("Content-Range"),Pr=/bytes (\d+)-(\d+)\/(\d+)/.exec(Cr);mr.onDone({begin:parseInt(Pr[1],10),chunk:vr})}else vr?mr.onDone({begin:0,chunk:vr}):(jr=mr.onError)==null||jr.call(mr,fr.status)}getRequestXhr(ur){return this.pendingRequests[ur].xhr}isPendingRequest(ur){return ur in this.pendingRequests}abortRequest(ur){const pr=this.pendingRequests[ur].xhr;delete this.pendingRequests[ur],pr.abort()}}class lr{constructor(ur){this._source=ur,this._manager=new ar(ur.url,{httpHeaders:ur.httpHeaders,withCredentials:ur.withCredentials}),this._rangeChunkSize=ur.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ur){const pr=this._rangeRequestReaders.indexOf(ur);pr>=0&&this._rangeRequestReaders.splice(pr,1)}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cr(this._manager,this._source),this._fullRequestReader}getRangeReader(ur,pr){const mr=new dr(this._manager,ur,pr);return mr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(mr),mr}cancelAllRequests(ur){var pr;(pr=this._fullRequestReader)==null||pr.cancel(ur);for(const mr of this._rangeRequestReaders.slice(0))mr.cancel(ur)}}e.PDFNetworkStream=lr;class cr{constructor(ur,pr){this._manager=ur;const mr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pr.url,this._fullRequestId=ur.requestFull(mr),this._headersReceivedCapability=new rr.PromiseCapability,this._disableRange=pr.disableRange||!1,this._contentLength=pr.length,this._rangeChunkSize=pr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ur=this._fullRequestId,pr=this._manager.getRequestXhr(ur),mr=yr=>pr.getResponseHeader(yr),{allowRangeRequests:fr,suggestedLength:gr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:mr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});fr&&(this._isRangeSupported=!0),this._contentLength=gr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(mr),this._isRangeSupported&&this._manager.abortRequest(ur),this._headersReceivedCapability.resolve()}_onDone(ur){if(ur&&(this._requests.length>0?this._requests.shift().resolve({value:ur.chunk,done:!1}):this._cachedChunks.push(ur.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const pr of this._requests)pr.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ur){this._storedError=(0,nr.createResponseStatusError)(ur,this._url),this._headersReceivedCapability.reject(this._storedError);for(const pr of this._requests)pr.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ur){var pr;(pr=this.onProgress)==null||pr.call(this,{loaded:ur.loaded,total:ur.lengthComputable?ur.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ur=new rr.PromiseCapability;return this._requests.push(ur),ur.promise}cancel(ur){this._done=!0,this._headersReceivedCapability.reject(ur);for(const pr of this._requests)pr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dr{constructor(ur,pr,mr){this._manager=ur;const fr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ur.url,this._requestId=ur.requestRange(pr,mr,fr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ur;(ur=this.onClosed)==null||ur.call(this,this)}_onDone(ur){const pr=ur.chunk;this._requests.length>0?this._requests.shift().resolve({value:pr,done:!1}):this._queuedChunk=pr,this._done=!0;for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ur){this._storedError=(0,nr.createResponseStatusError)(ur,this._url);for(const pr of this._requests)pr.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ur){var pr;this.isStreamingSupported||(pr=this.onProgress)==null||pr.call(this,{loaded:ur.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const pr=this._queuedChunk;return this._queuedChunk=null,{value:pr,done:!1}}if(this._done)return{value:void 0,done:!0};const ur=new rr.PromiseCapability;return this._requests.push(ur),ur.promise}cancel(ur){this._done=!0;for(const pr of this._requests)pr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var rr=tr(1),nr=tr(20);const ir=/^file:\/\/\/[a-zA-Z]:\//;function sr(mr){const fr=require$$5,gr=fr.parse(mr);return gr.protocol==="file:"||gr.host?gr:/^[a-z]:[/\\]/i.test(mr)?fr.parse(`file:///${mr}`):(gr.host||(gr.protocol="file:"),gr)}class or{constructor(fr){this.source=fr,this.url=sr(fr.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&fr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var fr;return((fr=this._fullRequestReader)==null?void 0:fr._loaded)??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ur(this):new dr(this),this._fullRequestReader}getRangeReader(fr,gr){if(gr<=this._progressiveDataLength)return null;const yr=this.isFsUrl?new pr(this,fr,gr):new hr(this,fr,gr);return this._rangeRequestReaders.push(yr),yr}cancelAllRequests(fr){var gr;(gr=this._fullRequestReader)==null||gr.cancel(fr);for(const yr of this._rangeRequestReaders.slice(0))yr.cancel(fr)}}e.PDFNodeStream=or;class ar{constructor(fr){this._url=fr.url,this._done=!1,this._storedError=null,this.onProgress=null;const gr=fr.source;this._contentLength=gr.length,this._loaded=0,this._filename=null,this._disableRange=gr.disableRange||!1,this._rangeChunkSize=gr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!gr.disableStream,this._isRangeSupported=!gr.disableRange,this._readableStream=null,this._readCapability=new rr.PromiseCapability,this._headersCapability=new rr.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const fr=this._readableStream.read();return fr===null?(this._readCapability=new rr.PromiseCapability,this.read()):(this._loaded+=fr.length,(yr=this.onProgress)==null||yr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(fr).buffer,done:!1})}cancel(fr){if(!this._readableStream){this._error(fr);return}this._readableStream.destroy(fr)}_error(fr){this._storedError=fr,this._readCapability.resolve()}_setReadableStream(fr){this._readableStream=fr,fr.on("readable",()=>{this._readCapability.resolve()}),fr.on("end",()=>{fr.destroy(),this._done=!0,this._readCapability.resolve()}),fr.on("error",gr=>{this._error(gr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rr.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lr{constructor(fr){this._url=fr.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new rr.PromiseCapability;const gr=fr.source;this._isStreamingSupported=!gr.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const fr=this._readableStream.read();return fr===null?(this._readCapability=new rr.PromiseCapability,this.read()):(this._loaded+=fr.length,(yr=this.onProgress)==null||yr.call(this,{loaded:this._loaded}),{value:new Uint8Array(fr).buffer,done:!1})}cancel(fr){if(!this._readableStream){this._error(fr);return}this._readableStream.destroy(fr)}_error(fr){this._storedError=fr,this._readCapability.resolve()}_setReadableStream(fr){this._readableStream=fr,fr.on("readable",()=>{this._readCapability.resolve()}),fr.on("end",()=>{fr.destroy(),this._done=!0,this._readCapability.resolve()}),fr.on("error",gr=>{this._error(gr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function cr(mr,fr){return{protocol:mr.protocol,auth:mr.auth,host:mr.hostname,port:mr.port,path:mr.path,method:"GET",headers:fr}}class dr extends ar{constructor(fr){super(fr);const gr=yr=>{if(yr.statusCode===404){const jr=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=jr,this._headersCapability.reject(jr);return}this._headersCapability.resolve(),this._setReadableStream(yr);const vr=jr=>this._readableStream.headers[jr.toLowerCase()],{allowRangeRequests:br,suggestedLength:Sr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:vr,isHttp:fr.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=br,this._contentLength=Sr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(vr)};if(this._request=null,this._url.protocol==="http:"){const yr=require$$5;this._request=yr.request(cr(this._url,fr.httpHeaders),gr)}else{const yr=require$$5;this._request=yr.request(cr(this._url,fr.httpHeaders),gr)}this._request.on("error",yr=>{this._storedError=yr,this._headersCapability.reject(yr)}),this._request.end()}}class hr extends lr{constructor(fr,gr,yr){super(fr),this._httpHeaders={};for(const br in fr.httpHeaders){const Sr=fr.httpHeaders[br];Sr!==void 0&&(this._httpHeaders[br]=Sr)}this._httpHeaders.Range=`bytes=${gr}-${yr-1}`;const vr=br=>{if(br.statusCode===404){const Sr=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Sr;return}this._setReadableStream(br)};if(this._request=null,this._url.protocol==="http:"){const br=require$$5;this._request=br.request(cr(this._url,this._httpHeaders),vr)}else{const br=require$$5;this._request=br.request(cr(this._url,this._httpHeaders),vr)}this._request.on("error",br=>{this._storedError=br}),this._request.end()}}class ur extends ar{constructor(fr){super(fr);let gr=decodeURIComponent(this._url.path);ir.test(this._url.href)&&(gr=gr.replace(/^\//,""));const yr=require$$5;yr.lstat(gr,(vr,br)=>{if(vr){vr.code==="ENOENT"&&(vr=new rr.MissingPDFException(`Missing PDF "${gr}".`)),this._storedError=vr,this._headersCapability.reject(vr);return}this._contentLength=br.size,this._setReadableStream(yr.createReadStream(gr)),this._headersCapability.resolve()})}}class pr extends lr{constructor(fr,gr,yr){super(fr);let vr=decodeURIComponent(this._url.path);ir.test(this._url.href)&&(vr=vr.replace(/^\//,""));const br=require$$5;this._setReadableStream(br.createReadStream(vr,{start:gr,end:yr-1}))}}},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var rr=tr(6),nr=tr(1);const ir={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},sr="http://www.w3.org/XML/1998/namespace",or="http://www.w3.org/1999/xlink",ar=["butt","round","square"],lr=["miter","round","bevel"],cr=function(br,Sr="",jr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!jr)return URL.createObjectURL(new Blob([br],{type:Sr}));const Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Pr=`data:${Sr};base64,`;for(let Rr=0,Lr=br.length;Rr<Lr;Rr+=3){const Ir=br[Rr]&255,Nr=br[Rr+1]&255,Ar=br[Rr+2]&255,Dr=Ir>>2,Tr=(Ir&3)<<4|Nr>>4,_r=Rr+1<Lr?(Nr&15)<<2|Ar>>6:64,wr=Rr+2<Lr?Ar&63:64;Pr+=Cr[Dr]+Cr[Tr]+Cr[_r]+Cr[wr]}return Pr},dr=function(){const br=new Uint8Array([137,80,78,71,13,10,26,10]),Sr=12,jr=new Int32Array(256);for(let Ar=0;Ar<256;Ar++){let Dr=Ar;for(let Tr=0;Tr<8;Tr++)Dr=Dr&1?3988292384^Dr>>1&2147483647:Dr>>1&2147483647;jr[Ar]=Dr}function Cr(Ar,Dr,Tr){let _r=-1;for(let wr=Dr;wr<Tr;wr++){const Er=(_r^Ar[wr])&255,xr=jr[Er];_r=_r>>>8^xr}return _r^-1}function Pr(Ar,Dr,Tr,_r){let wr=_r;const Er=Dr.length;Tr[wr]=Er>>24&255,Tr[wr+1]=Er>>16&255,Tr[wr+2]=Er>>8&255,Tr[wr+3]=Er&255,wr+=4,Tr[wr]=Ar.charCodeAt(0)&255,Tr[wr+1]=Ar.charCodeAt(1)&255,Tr[wr+2]=Ar.charCodeAt(2)&255,Tr[wr+3]=Ar.charCodeAt(3)&255,wr+=4,Tr.set(Dr,wr),wr+=Dr.length;const xr=Cr(Tr,_r+4,wr);Tr[wr]=xr>>24&255,Tr[wr+1]=xr>>16&255,Tr[wr+2]=xr>>8&255,Tr[wr+3]=xr&255}function Rr(Ar,Dr,Tr){let _r=1,wr=0;for(let Er=Dr;Er<Tr;++Er)_r=(_r+(Ar[Er]&255))%65521,wr=(wr+_r)%65521;return wr<<16|_r}function Lr(Ar){if(!nr.isNodeJS)return Ir(Ar);try{const Dr=parseInt(process.versions.node)>=8?Ar:Buffer.from(Ar),Tr=require$$5.deflateSync(Dr,{level:9});return Tr instanceof Uint8Array?Tr:new Uint8Array(Tr)}catch(Dr){(0,nr.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Dr)}return Ir(Ar)}function Ir(Ar){let Dr=Ar.length;const Tr=65535,_r=Math.ceil(Dr/Tr),wr=new Uint8Array(2+Dr+_r*5+4);let Er=0;wr[Er++]=120,wr[Er++]=156;let xr=0;for(;Dr>Tr;)wr[Er++]=0,wr[Er++]=255,wr[Er++]=255,wr[Er++]=0,wr[Er++]=0,wr.set(Ar.subarray(xr,xr+Tr),Er),Er+=Tr,xr+=Tr,Dr-=Tr;wr[Er++]=1,wr[Er++]=Dr&255,wr[Er++]=Dr>>8&255,wr[Er++]=~Dr&65535&255,wr[Er++]=(~Dr&65535)>>8&255,wr.set(Ar.subarray(xr),Er),Er+=Ar.length-xr;const Mr=Rr(Ar,0,Ar.length);return wr[Er++]=Mr>>24&255,wr[Er++]=Mr>>16&255,wr[Er++]=Mr>>8&255,wr[Er++]=Mr&255,wr}function Nr(Ar,Dr,Tr,_r){const wr=Ar.width,Er=Ar.height;let xr,Mr,zr;const Or=Ar.data;switch(Dr){case nr.ImageKind.GRAYSCALE_1BPP:Mr=0,xr=1,zr=wr+7>>3;break;case nr.ImageKind.RGB_24BPP:Mr=2,xr=8,zr=wr*3;break;case nr.ImageKind.RGBA_32BPP:Mr=6,xr=8,zr=wr*4;break;default:throw new Error("invalid format")}const Br=new Uint8Array((1+zr)*Er);let Ur=0,qr=0;for(let Zr=0;Zr<Er;++Zr)Br[Ur++]=0,Br.set(Or.subarray(qr,qr+zr),Ur),qr+=zr,Ur+=zr;if(Dr===nr.ImageKind.GRAYSCALE_1BPP&&_r){Ur=0;for(let Zr=0;Zr<Er;Zr++){Ur++;for(let nn=0;nn<zr;nn++)Br[Ur++]^=255}}const Vr=new Uint8Array([wr>>24&255,wr>>16&255,wr>>8&255,wr&255,Er>>24&255,Er>>16&255,Er>>8&255,Er&255,xr,Mr,0,0,0]),Gr=Lr(Br),$r=br.length+Sr*3+Vr.length+Gr.length,Fr=new Uint8Array($r);let Kr=0;return Fr.set(br,Kr),Kr+=br.length,Pr("IHDR",Vr,Fr,Kr),Kr+=Sr+Vr.length,Pr("IDATA",Gr,Fr,Kr),Kr+=Sr+Gr.length,Pr("IEND",new Uint8Array(0),Fr,Kr),cr(Fr,"image/png",Tr)}return function(Dr,Tr,_r){const wr=Dr.kind===void 0?nr.ImageKind.GRAYSCALE_1BPP:Dr.kind;return Nr(Dr,wr,Tr,_r)}}();class hr{constructor(){this.fontSizeScale=1,this.fontWeight=ir.fontWeight,this.fontSize=0,this.textMatrix=nr.IDENTITY_MATRIX,this.fontMatrix=nr.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nr.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ir.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Sr,jr){this.x=Sr,this.y=jr}}function ur(br){let Sr=[];const jr=[];for(const Cr of br){if(Cr.fn==="save"){Sr.push({fnId:92,fn:"group",items:[]}),jr.push(Sr),Sr=Sr.at(-1).items;continue}Cr.fn==="restore"?Sr=jr.pop():Sr.push(Cr)}return Sr}function pr(br){if(Number.isInteger(br))return br.toString();const Sr=br.toFixed(10);let jr=Sr.length-1;if(Sr[jr]!=="0")return Sr;do jr--;while(Sr[jr]==="0");return Sr.substring(0,Sr[jr]==="."?jr:jr+1)}function mr(br){if(br[4]===0&&br[5]===0){if(br[1]===0&&br[2]===0)return br[0]===1&&br[3]===1?"":`scale(${pr(br[0])} ${pr(br[3])})`;if(br[0]===br[3]&&br[1]===-br[2]){const Sr=Math.acos(br[0])*180/Math.PI;return`rotate(${pr(Sr)})`}}else if(br[0]===1&&br[1]===0&&br[2]===0&&br[3]===1)return`translate(${pr(br[4])} ${pr(br[5])})`;return`matrix(${pr(br[0])} ${pr(br[1])} ${pr(br[2])} ${pr(br[3])} ${pr(br[4])} ${pr(br[5])})`}let fr=0,gr=0,yr=0;class vr{constructor(Sr,jr,Cr=!1){(0,rr.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new rr.DOMSVGFactory,this.current=new hr,this.transformMatrix=nr.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Sr,this.objs=jr,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Cr,this._operatorIdMapping=[];for(const Pr in nr.OPS)this._operatorIdMapping[nr.OPS[Pr]]=Pr}getObject(Sr,jr=null){return typeof Sr=="string"?Sr.startsWith("g_")?this.commonObjs.get(Sr):this.objs.get(Sr):jr}save(){this.transformStack.push(this.transformMatrix);const Sr=this.current;this.extraStack.push(Sr),this.current=Sr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Sr){this.save(),this.executeOpTree(Sr),this.restore()}loadDependencies(Sr){const jr=Sr.fnArray,Cr=Sr.argsArray;for(let Pr=0,Rr=jr.length;Pr<Rr;Pr++)if(jr[Pr]===nr.OPS.dependency)for(const Lr of Cr[Pr]){const Ir=Lr.startsWith("g_")?this.commonObjs:this.objs,Nr=new Promise(Ar=>{Ir.get(Lr,Ar)});this.current.dependencies.push(Nr)}return Promise.all(this.current.dependencies)}transform(Sr,jr,Cr,Pr,Rr,Lr){const Ir=[Sr,jr,Cr,Pr,Rr,Lr];this.transformMatrix=nr.Util.transform(this.transformMatrix,Ir),this.tgrp=null}getSVG(Sr,jr){this.viewport=jr;const Cr=this._initialize(jr);return this.loadDependencies(Sr).then(()=>(this.transformMatrix=nr.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Sr)),Cr))}convertOpList(Sr){const jr=this._operatorIdMapping,Cr=Sr.argsArray,Pr=Sr.fnArray,Rr=[];for(let Lr=0,Ir=Pr.length;Lr<Ir;Lr++){const Nr=Pr[Lr];Rr.push({fnId:Nr,fn:jr[Nr],args:Cr[Lr]})}return ur(Rr)}executeOpTree(Sr){for(const jr of Sr){const Cr=jr.fn,Pr=jr.fnId,Rr=jr.args;switch(Pr|0){case nr.OPS.beginText:this.beginText();break;case nr.OPS.dependency:break;case nr.OPS.setLeading:this.setLeading(Rr);break;case nr.OPS.setLeadingMoveText:this.setLeadingMoveText(Rr[0],Rr[1]);break;case nr.OPS.setFont:this.setFont(Rr);break;case nr.OPS.showText:this.showText(Rr[0]);break;case nr.OPS.showSpacedText:this.showText(Rr[0]);break;case nr.OPS.endText:this.endText();break;case nr.OPS.moveText:this.moveText(Rr[0],Rr[1]);break;case nr.OPS.setCharSpacing:this.setCharSpacing(Rr[0]);break;case nr.OPS.setWordSpacing:this.setWordSpacing(Rr[0]);break;case nr.OPS.setHScale:this.setHScale(Rr[0]);break;case nr.OPS.setTextMatrix:this.setTextMatrix(Rr[0],Rr[1],Rr[2],Rr[3],Rr[4],Rr[5]);break;case nr.OPS.setTextRise:this.setTextRise(Rr[0]);break;case nr.OPS.setTextRenderingMode:this.setTextRenderingMode(Rr[0]);break;case nr.OPS.setLineWidth:this.setLineWidth(Rr[0]);break;case nr.OPS.setLineJoin:this.setLineJoin(Rr[0]);break;case nr.OPS.setLineCap:this.setLineCap(Rr[0]);break;case nr.OPS.setMiterLimit:this.setMiterLimit(Rr[0]);break;case nr.OPS.setFillRGBColor:this.setFillRGBColor(Rr[0],Rr[1],Rr[2]);break;case nr.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Rr[0],Rr[1],Rr[2]);break;case nr.OPS.setStrokeColorN:this.setStrokeColorN(Rr);break;case nr.OPS.setFillColorN:this.setFillColorN(Rr);break;case nr.OPS.shadingFill:this.shadingFill(Rr[0]);break;case nr.OPS.setDash:this.setDash(Rr[0],Rr[1]);break;case nr.OPS.setRenderingIntent:this.setRenderingIntent(Rr[0]);break;case nr.OPS.setFlatness:this.setFlatness(Rr[0]);break;case nr.OPS.setGState:this.setGState(Rr[0]);break;case nr.OPS.fill:this.fill();break;case nr.OPS.eoFill:this.eoFill();break;case nr.OPS.stroke:this.stroke();break;case nr.OPS.fillStroke:this.fillStroke();break;case nr.OPS.eoFillStroke:this.eoFillStroke();break;case nr.OPS.clip:this.clip("nonzero");break;case nr.OPS.eoClip:this.clip("evenodd");break;case nr.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nr.OPS.paintImageXObject:this.paintImageXObject(Rr[0]);break;case nr.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Rr[0]);break;case nr.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Rr[0]);break;case nr.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Rr[0],Rr[1]);break;case nr.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nr.OPS.closePath:this.closePath();break;case nr.OPS.closeStroke:this.closeStroke();break;case nr.OPS.closeFillStroke:this.closeFillStroke();break;case nr.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nr.OPS.nextLine:this.nextLine();break;case nr.OPS.transform:this.transform(Rr[0],Rr[1],Rr[2],Rr[3],Rr[4],Rr[5]);break;case nr.OPS.constructPath:this.constructPath(Rr[0],Rr[1]);break;case nr.OPS.endPath:this.endPath();break;case 92:this.group(jr.items);break;default:(0,nr.warn)(`Unimplemented operator ${Cr}`);break}}}setWordSpacing(Sr){this.current.wordSpacing=Sr}setCharSpacing(Sr){this.current.charSpacing=Sr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Sr,jr,Cr,Pr,Rr,Lr){const Ir=this.current;Ir.textMatrix=Ir.lineMatrix=[Sr,jr,Cr,Pr,Rr,Lr],Ir.textMatrixScale=Math.hypot(Sr,jr),Ir.x=Ir.lineX=0,Ir.y=Ir.lineY=0,Ir.xcoords=[],Ir.ycoords=[],Ir.tspan=this.svgFactory.createElement("svg:tspan"),Ir.tspan.setAttributeNS(null,"font-family",Ir.fontFamily),Ir.tspan.setAttributeNS(null,"font-size",`${pr(Ir.fontSize)}px`),Ir.tspan.setAttributeNS(null,"y",pr(-Ir.y)),Ir.txtElement=this.svgFactory.createElement("svg:text"),Ir.txtElement.append(Ir.tspan)}beginText(){const Sr=this.current;Sr.x=Sr.lineX=0,Sr.y=Sr.lineY=0,Sr.textMatrix=nr.IDENTITY_MATRIX,Sr.lineMatrix=nr.IDENTITY_MATRIX,Sr.textMatrixScale=1,Sr.tspan=this.svgFactory.createElement("svg:tspan"),Sr.txtElement=this.svgFactory.createElement("svg:text"),Sr.txtgrp=this.svgFactory.createElement("svg:g"),Sr.xcoords=[],Sr.ycoords=[]}moveText(Sr,jr){const Cr=this.current;Cr.x=Cr.lineX+=Sr,Cr.y=Cr.lineY+=jr,Cr.xcoords=[],Cr.ycoords=[],Cr.tspan=this.svgFactory.createElement("svg:tspan"),Cr.tspan.setAttributeNS(null,"font-family",Cr.fontFamily),Cr.tspan.setAttributeNS(null,"font-size",`${pr(Cr.fontSize)}px`),Cr.tspan.setAttributeNS(null,"y",pr(-Cr.y))}showText(Sr){const jr=this.current,Cr=jr.font,Pr=jr.fontSize;if(Pr===0)return;const Rr=jr.fontSizeScale,Lr=jr.charSpacing,Ir=jr.wordSpacing,Nr=jr.fontDirection,Ar=jr.textHScale*Nr,Dr=Cr.vertical,Tr=Dr?1:-1,_r=Cr.defaultVMetrics,wr=Pr*jr.fontMatrix[0];let Er=0;for(const zr of Sr){if(zr===null){Er+=Nr*Ir;continue}else if(typeof zr=="number"){Er+=Tr*zr*Pr/1e3;continue}const Or=(zr.isSpace?Ir:0)+Lr,Br=zr.fontChar;let Ur,qr,Vr=zr.width;if(Dr){let $r;const Fr=zr.vmetric||_r;$r=zr.vmetric?Fr[1]:Vr*.5,$r=-$r*wr;const Kr=Fr[2]*wr;Vr=Fr?-Fr[0]:Vr,Ur=$r/Rr,qr=(Er+Kr)/Rr}else Ur=Er/Rr,qr=0;(zr.isInFont||Cr.missingFile)&&(jr.xcoords.push(jr.x+Ur),Dr&&jr.ycoords.push(-jr.y+qr),jr.tspan.textContent+=Br);const Gr=Dr?Vr*wr-Or*Nr:Vr*wr+Or*Nr;Er+=Gr}jr.tspan.setAttributeNS(null,"x",jr.xcoords.map(pr).join(" ")),Dr?jr.tspan.setAttributeNS(null,"y",jr.ycoords.map(pr).join(" ")):jr.tspan.setAttributeNS(null,"y",pr(-jr.y)),Dr?jr.y-=Er:jr.x+=Er*Ar,jr.tspan.setAttributeNS(null,"font-family",jr.fontFamily),jr.tspan.setAttributeNS(null,"font-size",`${pr(jr.fontSize)}px`),jr.fontStyle!==ir.fontStyle&&jr.tspan.setAttributeNS(null,"font-style",jr.fontStyle),jr.fontWeight!==ir.fontWeight&&jr.tspan.setAttributeNS(null,"font-weight",jr.fontWeight);const xr=jr.textRenderingMode&nr.TextRenderingMode.FILL_STROKE_MASK;if(xr===nr.TextRenderingMode.FILL||xr===nr.TextRenderingMode.FILL_STROKE?(jr.fillColor!==ir.fillColor&&jr.tspan.setAttributeNS(null,"fill",jr.fillColor),jr.fillAlpha<1&&jr.tspan.setAttributeNS(null,"fill-opacity",jr.fillAlpha)):jr.textRenderingMode===nr.TextRenderingMode.ADD_TO_PATH?jr.tspan.setAttributeNS(null,"fill","transparent"):jr.tspan.setAttributeNS(null,"fill","none"),xr===nr.TextRenderingMode.STROKE||xr===nr.TextRenderingMode.FILL_STROKE){const zr=1/(jr.textMatrixScale||1);this._setStrokeAttributes(jr.tspan,zr)}let Mr=jr.textMatrix;jr.textRise!==0&&(Mr=Mr.slice(),Mr[5]+=jr.textRise),jr.txtElement.setAttributeNS(null,"transform",`${mr(Mr)} scale(${pr(Ar)}, -1)`),jr.txtElement.setAttributeNS(sr,"xml:space","preserve"),jr.txtElement.append(jr.tspan),jr.txtgrp.append(jr.txtElement),this._ensureTransformGroup().append(jr.txtElement)}setLeadingMoveText(Sr,jr){this.setLeading(-jr),this.moveText(Sr,jr)}addFontStyle(Sr){if(!Sr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const jr=cr(Sr.data,Sr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Sr.loadedName}"; src: url(${jr}); }
`}setFont(Sr){const jr=this.current,Cr=this.commonObjs.get(Sr[0]);let Pr=Sr[1];jr.font=Cr,this.embedFonts&&!Cr.missingFile&&!this.embeddedFonts[Cr.loadedName]&&(this.addFontStyle(Cr),this.embeddedFonts[Cr.loadedName]=Cr),jr.fontMatrix=Cr.fontMatrix||nr.FONT_IDENTITY_MATRIX;let Rr="normal";Cr.black?Rr="900":Cr.bold&&(Rr="bold");const Lr=Cr.italic?"italic":"normal";Pr<0?(Pr=-Pr,jr.fontDirection=-1):jr.fontDirection=1,jr.fontSize=Pr,jr.fontFamily=Cr.loadedName,jr.fontWeight=Rr,jr.fontStyle=Lr,jr.tspan=this.svgFactory.createElement("svg:tspan"),jr.tspan.setAttributeNS(null,"y",pr(-jr.y)),jr.xcoords=[],jr.ycoords=[]}endText(){var jr;const Sr=this.current;Sr.textRenderingMode&nr.TextRenderingMode.ADD_TO_PATH_FLAG&&((jr=Sr.txtElement)!=null&&jr.hasChildNodes())&&(Sr.element=Sr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Sr){Sr>0&&(this.current.lineWidth=Sr)}setLineCap(Sr){this.current.lineCap=ar[Sr]}setLineJoin(Sr){this.current.lineJoin=lr[Sr]}setMiterLimit(Sr){this.current.miterLimit=Sr}setStrokeAlpha(Sr){this.current.strokeAlpha=Sr}setStrokeRGBColor(Sr,jr,Cr){this.current.strokeColor=nr.Util.makeHexColor(Sr,jr,Cr)}setFillAlpha(Sr){this.current.fillAlpha=Sr}setFillRGBColor(Sr,jr,Cr){this.current.fillColor=nr.Util.makeHexColor(Sr,jr,Cr),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Sr){this.current.strokeColor=this._makeColorN_Pattern(Sr)}setFillColorN(Sr){this.current.fillColor=this._makeColorN_Pattern(Sr)}shadingFill(Sr){const{width:jr,height:Cr}=this.viewport,Pr=nr.Util.inverseTransform(this.transformMatrix),[Rr,Lr,Ir,Nr]=nr.Util.getAxialAlignedBoundingBox([0,0,jr,Cr],Pr),Ar=this.svgFactory.createElement("svg:rect");Ar.setAttributeNS(null,"x",Rr),Ar.setAttributeNS(null,"y",Lr),Ar.setAttributeNS(null,"width",Ir-Rr),Ar.setAttributeNS(null,"height",Nr-Lr),Ar.setAttributeNS(null,"fill",this._makeShadingPattern(Sr)),this.current.fillAlpha<1&&Ar.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ar)}_makeColorN_Pattern(Sr){return Sr[0]==="TilingPattern"?this._makeTilingPattern(Sr):this._makeShadingPattern(Sr)}_makeTilingPattern(Sr){const jr=Sr[1],Cr=Sr[2],Pr=Sr[3]||nr.IDENTITY_MATRIX,[Rr,Lr,Ir,Nr]=Sr[4],Ar=Sr[5],Dr=Sr[6],Tr=Sr[7],_r=`shading${yr++}`,[wr,Er,xr,Mr]=nr.Util.normalizeRect([...nr.Util.applyTransform([Rr,Lr],Pr),...nr.Util.applyTransform([Ir,Nr],Pr)]),[zr,Or]=nr.Util.singularValueDecompose2dScale(Pr),Br=Ar*zr,Ur=Dr*Or,qr=this.svgFactory.createElement("svg:pattern");qr.setAttributeNS(null,"id",_r),qr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),qr.setAttributeNS(null,"width",Br),qr.setAttributeNS(null,"height",Ur),qr.setAttributeNS(null,"x",`${wr}`),qr.setAttributeNS(null,"y",`${Er}`);const Vr=this.svg,Gr=this.transformMatrix,$r=this.current.fillColor,Fr=this.current.strokeColor,Kr=this.svgFactory.create(xr-wr,Mr-Er);if(this.svg=Kr,this.transformMatrix=Pr,Tr===2){const Zr=nr.Util.makeHexColor(...jr);this.current.fillColor=Zr,this.current.strokeColor=Zr}return this.executeOpTree(this.convertOpList(Cr)),this.svg=Vr,this.transformMatrix=Gr,this.current.fillColor=$r,this.current.strokeColor=Fr,qr.append(Kr.childNodes[0]),this.defs.append(qr),`url(#${_r})`}_makeShadingPattern(Sr){switch(typeof Sr=="string"&&(Sr=this.objs.get(Sr)),Sr[0]){case"RadialAxial":const jr=`shading${yr++}`,Cr=Sr[3];let Pr;switch(Sr[1]){case"axial":const Rr=Sr[4],Lr=Sr[5];Pr=this.svgFactory.createElement("svg:linearGradient"),Pr.setAttributeNS(null,"id",jr),Pr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pr.setAttributeNS(null,"x1",Rr[0]),Pr.setAttributeNS(null,"y1",Rr[1]),Pr.setAttributeNS(null,"x2",Lr[0]),Pr.setAttributeNS(null,"y2",Lr[1]);break;case"radial":const Ir=Sr[4],Nr=Sr[5],Ar=Sr[6],Dr=Sr[7];Pr=this.svgFactory.createElement("svg:radialGradient"),Pr.setAttributeNS(null,"id",jr),Pr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pr.setAttributeNS(null,"cx",Nr[0]),Pr.setAttributeNS(null,"cy",Nr[1]),Pr.setAttributeNS(null,"r",Dr),Pr.setAttributeNS(null,"fx",Ir[0]),Pr.setAttributeNS(null,"fy",Ir[1]),Pr.setAttributeNS(null,"fr",Ar);break;default:throw new Error(`Unknown RadialAxial type: ${Sr[1]}`)}for(const Rr of Cr){const Lr=this.svgFactory.createElement("svg:stop");Lr.setAttributeNS(null,"offset",Rr[0]),Lr.setAttributeNS(null,"stop-color",Rr[1]),Pr.append(Lr)}return this.defs.append(Pr),`url(#${jr})`;case"Mesh":return(0,nr.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Sr[0]}`)}}setDash(Sr,jr){this.current.dashArray=Sr,this.current.dashPhase=jr}constructPath(Sr,jr){const Cr=this.current;let Pr=Cr.x,Rr=Cr.y,Lr=[],Ir=0;for(const Nr of Sr)switch(Nr|0){case nr.OPS.rectangle:Pr=jr[Ir++],Rr=jr[Ir++];const Ar=jr[Ir++],Dr=jr[Ir++],Tr=Pr+Ar,_r=Rr+Dr;Lr.push("M",pr(Pr),pr(Rr),"L",pr(Tr),pr(Rr),"L",pr(Tr),pr(_r),"L",pr(Pr),pr(_r),"Z");break;case nr.OPS.moveTo:Pr=jr[Ir++],Rr=jr[Ir++],Lr.push("M",pr(Pr),pr(Rr));break;case nr.OPS.lineTo:Pr=jr[Ir++],Rr=jr[Ir++],Lr.push("L",pr(Pr),pr(Rr));break;case nr.OPS.curveTo:Pr=jr[Ir+4],Rr=jr[Ir+5],Lr.push("C",pr(jr[Ir]),pr(jr[Ir+1]),pr(jr[Ir+2]),pr(jr[Ir+3]),pr(Pr),pr(Rr)),Ir+=6;break;case nr.OPS.curveTo2:Lr.push("C",pr(Pr),pr(Rr),pr(jr[Ir]),pr(jr[Ir+1]),pr(jr[Ir+2]),pr(jr[Ir+3])),Pr=jr[Ir+2],Rr=jr[Ir+3],Ir+=4;break;case nr.OPS.curveTo3:Pr=jr[Ir+2],Rr=jr[Ir+3],Lr.push("C",pr(jr[Ir]),pr(jr[Ir+1]),pr(Pr),pr(Rr),pr(Pr),pr(Rr)),Ir+=4;break;case nr.OPS.closePath:Lr.push("Z");break}Lr=Lr.join(" "),Cr.path&&Sr.length>0&&Sr[0]!==nr.OPS.rectangle&&Sr[0]!==nr.OPS.moveTo?Lr=Cr.path.getAttributeNS(null,"d")+Lr:(Cr.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Cr.path)),Cr.path.setAttributeNS(null,"d",Lr),Cr.path.setAttributeNS(null,"fill","none"),Cr.element=Cr.path,Cr.setCurrentPoint(Pr,Rr)}endPath(){const Sr=this.current;if(Sr.path=null,!this.pendingClip)return;if(!Sr.element){this.pendingClip=null;return}const jr=`clippath${fr++}`,Cr=this.svgFactory.createElement("svg:clipPath");Cr.setAttributeNS(null,"id",jr),Cr.setAttributeNS(null,"transform",mr(this.transformMatrix));const Pr=Sr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Pr.setAttributeNS(null,"clip-rule","evenodd"):Pr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Cr.append(Pr),this.defs.append(Cr),Sr.activeClipUrl){Sr.clipGroup=null;for(const Rr of this.extraStack)Rr.clipGroup=null;Cr.setAttributeNS(null,"clip-path",Sr.activeClipUrl)}Sr.activeClipUrl=`url(#${jr})`,this.tgrp=null}clip(Sr){this.pendingClip=Sr}closePath(){const Sr=this.current;if(Sr.path){const jr=`${Sr.path.getAttributeNS(null,"d")}Z`;Sr.path.setAttributeNS(null,"d",jr)}}setLeading(Sr){this.current.leading=-Sr}setTextRise(Sr){this.current.textRise=Sr}setTextRenderingMode(Sr){this.current.textRenderingMode=Sr}setHScale(Sr){this.current.textHScale=Sr/100}setRenderingIntent(Sr){}setFlatness(Sr){}setGState(Sr){for(const[jr,Cr]of Sr)switch(jr){case"LW":this.setLineWidth(Cr);break;case"LC":this.setLineCap(Cr);break;case"LJ":this.setLineJoin(Cr);break;case"ML":this.setMiterLimit(Cr);break;case"D":this.setDash(Cr[0],Cr[1]);break;case"RI":this.setRenderingIntent(Cr);break;case"FL":this.setFlatness(Cr);break;case"Font":this.setFont(Cr);break;case"CA":this.setStrokeAlpha(Cr);break;case"ca":this.setFillAlpha(Cr);break;default:(0,nr.warn)(`Unimplemented graphic state operator ${jr}`);break}}fill(){const Sr=this.current;Sr.element&&(Sr.element.setAttributeNS(null,"fill",Sr.fillColor),Sr.element.setAttributeNS(null,"fill-opacity",Sr.fillAlpha),this.endPath())}stroke(){const Sr=this.current;Sr.element&&(this._setStrokeAttributes(Sr.element),Sr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Sr,jr=1){const Cr=this.current;let Pr=Cr.dashArray;jr!==1&&Pr.length>0&&(Pr=Pr.map(function(Rr){return jr*Rr})),Sr.setAttributeNS(null,"stroke",Cr.strokeColor),Sr.setAttributeNS(null,"stroke-opacity",Cr.strokeAlpha),Sr.setAttributeNS(null,"stroke-miterlimit",pr(Cr.miterLimit)),Sr.setAttributeNS(null,"stroke-linecap",Cr.lineCap),Sr.setAttributeNS(null,"stroke-linejoin",Cr.lineJoin),Sr.setAttributeNS(null,"stroke-width",pr(jr*Cr.lineWidth)+"px"),Sr.setAttributeNS(null,"stroke-dasharray",Pr.map(pr).join(" ")),Sr.setAttributeNS(null,"stroke-dashoffset",pr(jr*Cr.dashPhase)+"px")}eoFill(){var Sr;(Sr=this.current.element)==null||Sr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Sr;(Sr=this.current.element)==null||Sr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Sr=this.svgFactory.createElement("svg:rect");Sr.setAttributeNS(null,"x","0"),Sr.setAttributeNS(null,"y","0"),Sr.setAttributeNS(null,"width","1px"),Sr.setAttributeNS(null,"height","1px"),Sr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Sr)}paintImageXObject(Sr){const jr=this.getObject(Sr);if(!jr){(0,nr.warn)(`Dependent image with object ID ${Sr} is not ready yet`);return}this.paintInlineImageXObject(jr)}paintInlineImageXObject(Sr,jr){const Cr=Sr.width,Pr=Sr.height,Rr=dr(Sr,this.forceDataSchema,!!jr),Lr=this.svgFactory.createElement("svg:rect");Lr.setAttributeNS(null,"x","0"),Lr.setAttributeNS(null,"y","0"),Lr.setAttributeNS(null,"width",pr(Cr)),Lr.setAttributeNS(null,"height",pr(Pr)),this.current.element=Lr,this.clip("nonzero");const Ir=this.svgFactory.createElement("svg:image");Ir.setAttributeNS(or,"xlink:href",Rr),Ir.setAttributeNS(null,"x","0"),Ir.setAttributeNS(null,"y",pr(-Pr)),Ir.setAttributeNS(null,"width",pr(Cr)+"px"),Ir.setAttributeNS(null,"height",pr(Pr)+"px"),Ir.setAttributeNS(null,"transform",`scale(${pr(1/Cr)} ${pr(-1/Pr)})`),jr?jr.append(Ir):this._ensureTransformGroup().append(Ir)}paintImageMaskXObject(Sr){const jr=this.getObject(Sr.data,Sr);if(jr.bitmap){(0,nr.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Cr=this.current,Pr=jr.width,Rr=jr.height,Lr=Cr.fillColor;Cr.maskId=`mask${gr++}`;const Ir=this.svgFactory.createElement("svg:mask");Ir.setAttributeNS(null,"id",Cr.maskId);const Nr=this.svgFactory.createElement("svg:rect");Nr.setAttributeNS(null,"x","0"),Nr.setAttributeNS(null,"y","0"),Nr.setAttributeNS(null,"width",pr(Pr)),Nr.setAttributeNS(null,"height",pr(Rr)),Nr.setAttributeNS(null,"fill",Lr),Nr.setAttributeNS(null,"mask",`url(#${Cr.maskId})`),this.defs.append(Ir),this._ensureTransformGroup().append(Nr),this.paintInlineImageXObject(jr,Ir)}paintFormXObjectBegin(Sr,jr){if(Array.isArray(Sr)&&Sr.length===6&&this.transform(Sr[0],Sr[1],Sr[2],Sr[3],Sr[4],Sr[5]),jr){const Cr=jr[2]-jr[0],Pr=jr[3]-jr[1],Rr=this.svgFactory.createElement("svg:rect");Rr.setAttributeNS(null,"x",jr[0]),Rr.setAttributeNS(null,"y",jr[1]),Rr.setAttributeNS(null,"width",pr(Cr)),Rr.setAttributeNS(null,"height",pr(Pr)),this.current.element=Rr,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Sr){const jr=this.svgFactory.create(Sr.width,Sr.height),Cr=this.svgFactory.createElement("svg:defs");jr.append(Cr),this.defs=Cr;const Pr=this.svgFactory.createElement("svg:g");return Pr.setAttributeNS(null,"transform",mr(Sr.transform)),jr.append(Pr),this.svg=Pr,jr}_ensureClipGroup(){if(!this.current.clipGroup){const Sr=this.svgFactory.createElement("svg:g");Sr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Sr),this.current.clipGroup=Sr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=vr},(er,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class tr{static textContent(nr){const ir=[],sr={items:ir,styles:Object.create(null)};function or(ar){var dr;if(!ar)return;let lr=null;const cr=ar.name;if(cr==="#text")lr=ar.value;else if(tr.shouldBuildText(cr))(dr=ar==null?void 0:ar.attributes)!=null&&dr.textContent?lr=ar.attributes.textContent:ar.value&&(lr=ar.value);else return;if(lr!==null&&ir.push({str:lr}),!!ar.children)for(const hr of ar.children)or(hr)}return or(nr),sr}static shouldBuildText(nr){return!(nr==="textarea"||nr==="input"||nr==="option"||nr==="select")}}e.XfaText=tr},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=mr,e.updateTextLayer=fr;var rr=tr(1),nr=tr(6);const ir=1e5,sr=30,or=.8,ar=new Map;function lr(gr,yr){let vr;if(yr&&rr.FeatureTest.isOffscreenCanvasSupported)vr=new OffscreenCanvas(gr,gr).getContext("2d",{alpha:!1});else{const br=document.createElement("canvas");br.width=br.height=gr,vr=br.getContext("2d",{alpha:!1})}return vr}function cr(gr,yr){const vr=ar.get(gr);if(vr)return vr;const br=lr(sr,yr);br.font=`${sr}px ${gr}`;const Sr=br.measureText("");let jr=Sr.fontBoundingBoxAscent,Cr=Math.abs(Sr.fontBoundingBoxDescent);if(jr){const Rr=jr/(jr+Cr);return ar.set(gr,Rr),br.canvas.width=br.canvas.height=0,Rr}br.strokeStyle="red",br.clearRect(0,0,sr,sr),br.strokeText("g",0,0);let Pr=br.getImageData(0,0,sr,sr).data;Cr=0;for(let Rr=Pr.length-1-3;Rr>=0;Rr-=4)if(Pr[Rr]>0){Cr=Math.ceil(Rr/4/sr);break}br.clearRect(0,0,sr,sr),br.strokeText("A",0,sr),Pr=br.getImageData(0,0,sr,sr).data,jr=0;for(let Rr=0,Lr=Pr.length;Rr<Lr;Rr+=4)if(Pr[Rr]>0){jr=sr-Math.floor(Rr/4/sr);break}if(br.canvas.width=br.canvas.height=0,jr){const Rr=jr/(jr+Cr);return ar.set(gr,Rr),Rr}return ar.set(gr,or),or}function dr(gr,yr,vr){const br=document.createElement("span"),Sr={angle:0,canvasWidth:0,hasText:yr.str!=="",hasEOL:yr.hasEOL,fontSize:0};gr._textDivs.push(br);const jr=rr.Util.transform(gr._transform,yr.transform);let Cr=Math.atan2(jr[1],jr[0]);const Pr=vr[yr.fontName];Pr.vertical&&(Cr+=Math.PI/2);const Rr=Math.hypot(jr[2],jr[3]),Lr=Rr*cr(Pr.fontFamily,gr._isOffscreenCanvasSupported);let Ir,Nr;Cr===0?(Ir=jr[4],Nr=jr[5]-Lr):(Ir=jr[4]+Lr*Math.sin(Cr),Nr=jr[5]-Lr*Math.cos(Cr));const Ar="calc(var(--scale-factor)*",Dr=br.style;gr._container===gr._rootContainer?(Dr.left=`${(100*Ir/gr._pageWidth).toFixed(2)}%`,Dr.top=`${(100*Nr/gr._pageHeight).toFixed(2)}%`):(Dr.left=`${Ar}${Ir.toFixed(2)}px)`,Dr.top=`${Ar}${Nr.toFixed(2)}px)`),Dr.fontSize=`${Ar}${Rr.toFixed(2)}px)`,Dr.fontFamily=Pr.fontFamily,Sr.fontSize=Rr,br.setAttribute("role","presentation"),br.textContent=yr.str,br.dir=yr.dir,gr._fontInspectorEnabled&&(br.dataset.fontName=yr.fontName),Cr!==0&&(Sr.angle=Cr*(180/Math.PI));let Tr=!1;if(yr.str.length>1)Tr=!0;else if(yr.str!==" "&&yr.transform[0]!==yr.transform[3]){const _r=Math.abs(yr.transform[0]),wr=Math.abs(yr.transform[3]);_r!==wr&&Math.max(_r,wr)/Math.min(_r,wr)>1.5&&(Tr=!0)}Tr&&(Sr.canvasWidth=Pr.vertical?yr.height:yr.width),gr._textDivProperties.set(br,Sr),gr._isReadableStream&&gr._layoutText(br)}function hr(gr){const{div:yr,scale:vr,properties:br,ctx:Sr,prevFontSize:jr,prevFontFamily:Cr}=gr,{style:Pr}=yr;let Rr="";if(br.canvasWidth!==0&&br.hasText){const{fontFamily:Lr}=Pr,{canvasWidth:Ir,fontSize:Nr}=br;(jr!==Nr||Cr!==Lr)&&(Sr.font=`${Nr*vr}px ${Lr}`,gr.prevFontSize=Nr,gr.prevFontFamily=Lr);const{width:Ar}=Sr.measureText(yr.textContent);Ar>0&&(Rr=`scaleX(${Ir*vr/Ar})`)}br.angle!==0&&(Rr=`rotate(${br.angle}deg) ${Rr}`),Rr.length>0&&(Pr.transform=Rr)}function ur(gr){if(gr._canceled)return;const yr=gr._textDivs,vr=gr._capability;if(yr.length>ir){vr.resolve();return}if(!gr._isReadableStream)for(const Sr of yr)gr._layoutText(Sr);vr.resolve()}class pr{constructor({textContentSource:yr,container:vr,viewport:br,textDivs:Sr,textDivProperties:jr,textContentItemsStr:Cr,isOffscreenCanvasSupported:Pr}){var Ar;this._textContentSource=yr,this._isReadableStream=yr instanceof ReadableStream,this._container=this._rootContainer=vr,this._textDivs=Sr||[],this._textContentItemsStr=Cr||[],this._isOffscreenCanvasSupported=Pr,this._fontInspectorEnabled=!!((Ar=globalThis.FontInspector)!=null&&Ar.enabled),this._reader=null,this._textDivProperties=jr||new WeakMap,this._canceled=!1,this._capability=new rr.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:br.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:lr(0,Pr)};const{pageWidth:Rr,pageHeight:Lr,pageX:Ir,pageY:Nr}=br.rawDims;this._transform=[1,0,0,-1,-Ir,Nr+Lr],this._pageWidth=Rr,this._pageHeight=Lr,(0,nr.setLayerDimensions)(vr,br),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new rr.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new rr.AbortException("TextLayer task cancelled."))}_processItems(yr,vr){for(const br of yr){if(br.str===void 0){if(br.type==="beginMarkedContentProps"||br.type==="beginMarkedContent"){const Sr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),br.id!==null&&this._container.setAttribute("id",`${br.id}`),Sr.append(this._container)}else br.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(br.str),dr(this,br,vr)}}_layoutText(yr){const vr=this._layoutTextParams.properties=this._textDivProperties.get(yr);if(this._layoutTextParams.div=yr,hr(this._layoutTextParams),vr.hasText&&this._container.append(yr),vr.hasEOL){const br=document.createElement("br");br.setAttribute("role","presentation"),this._container.append(br)}}_render(){const yr=new rr.PromiseCapability;let vr=Object.create(null);if(this._isReadableStream){const br=()=>{this._reader.read().then(({value:Sr,done:jr})=>{if(jr){yr.resolve();return}Object.assign(vr,Sr.styles),this._processItems(Sr.items,vr),br()},yr.reject)};this._reader=this._textContentSource.getReader(),br()}else if(this._textContentSource){const{items:br,styles:Sr}=this._textContentSource;this._processItems(br,Sr),yr.resolve()}else throw new Error('No "textContentSource" parameter specified.');yr.promise.then(()=>{vr=null,ur(this)},this._capability.reject)}}e.TextLayerRenderTask=pr;function mr(gr){!gr.textContentSource&&(gr.textContent||gr.textContentStream)&&((0,nr.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),gr.textContentSource=gr.textContent||gr.textContentStream);const{container:yr,viewport:vr}=gr,br=getComputedStyle(yr),Sr=br.getPropertyValue("visibility"),jr=parseFloat(br.getPropertyValue("--scale-factor"));Sr==="visible"&&(!jr||Math.abs(jr-vr.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Cr=new pr(gr);return Cr._render(),Cr}function fr({container:gr,viewport:yr,textDivs:vr,textDivProperties:br,isOffscreenCanvasSupported:Sr,mustRotate:jr=!0,mustRescale:Cr=!0}){if(jr&&(0,nr.setLayerDimensions)(gr,{rotation:yr.rotation}),Cr){const Pr=lr(0,Sr),Lr={prevFontSize:null,prevFontFamily:null,div:null,scale:yr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Pr};for(const Ir of vr)Lr.properties=br.get(Ir),Lr.div=Ir,hr(Lr)}}},(er,e,tr)=>{var cr,dr,hr,ur,pr,mr,fr,gr,yr,vr,br,d0,xm,h0,f0;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var rr=tr(1),nr=tr(4),ir=tr(28),sr=tr(33),or=tr(6),ar=tr(34);const Rr=class Rr{constructor({uiManager:Ir,pageIndex:Nr,div:Ar,accessibilityManager:Dr,annotationLayer:Tr,viewport:_r,l10n:wr}){ns(this,br);ns(this,cr);ns(this,dr,!1);ns(this,hr,null);ns(this,ur,this.pointerup.bind(this));ns(this,pr,this.pointerdown.bind(this));ns(this,mr,new Map);ns(this,fr,!1);ns(this,gr,!1);ns(this,yr,!1);ns(this,vr);const Er=[ir.FreeTextEditor,sr.InkEditor,ar.StampEditor];if(!Rr._initialized){Rr._initialized=!0;for(const xr of Er)xr.initialize(wr)}Ir.registerEditorTypes(Er),ls(this,vr,Ir),this.pageIndex=Nr,this.div=Ar,ls(this,cr,Dr),ls(this,hr,Tr),this.viewport=_r,on(this,vr).addLayer(this)}get isEmpty(){return on(this,mr).size===0}updateToolbar(Ir){on(this,vr).updateToolbar(Ir)}updateMode(Ir=on(this,vr).getMode()){Xn(this,br,f0).call(this),Ir===rr.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ir!==rr.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ir===rr.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ir===rr.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ir===rr.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ir){if(!Ir&&on(this,vr).getMode()!==rr.AnnotationEditorType.INK)return;if(!Ir){for(const Ar of on(this,mr).values())if(Ar.isEmpty()){Ar.setInBackground();return}}Xn(this,br,xm).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ir){on(this,vr).setEditingState(Ir)}addCommands(Ir){on(this,vr).addCommands(Ir)}enable(){this.div.style.pointerEvents="auto";const Ir=new Set;for(const Ar of on(this,mr).values())Ar.enableEditing(),Ar.annotationElementId&&Ir.add(Ar.annotationElementId);if(!on(this,hr))return;const Nr=on(this,hr).getEditableAnnotations();for(const Ar of Nr){if(Ar.hide(),on(this,vr).isDeletedAnnotationElement(Ar.data.id)||Ir.has(Ar.data.id))continue;const Dr=this.deserialize(Ar);Dr&&(this.addOrRebuild(Dr),Dr.enableEditing())}}disable(){var Nr;ls(this,yr,!0),this.div.style.pointerEvents="none";const Ir=new Set;for(const Ar of on(this,mr).values()){if(Ar.disableEditing(),!Ar.annotationElementId||Ar.serialize()!==null){Ir.add(Ar.annotationElementId);continue}(Nr=this.getEditableAnnotation(Ar.annotationElementId))==null||Nr.show(),Ar.remove()}if(on(this,hr)){const Ar=on(this,hr).getEditableAnnotations();for(const Dr of Ar){const{id:Tr}=Dr.data;Ir.has(Tr)||on(this,vr).isDeletedAnnotationElement(Tr)||Dr.show()}}Xn(this,br,f0).call(this),this.isEmpty&&(this.div.hidden=!0),ls(this,yr,!1)}getEditableAnnotation(Ir){var Nr;return((Nr=on(this,hr))==null?void 0:Nr.getEditableAnnotation(Ir))||null}setActiveEditor(Ir){on(this,vr).getActive()!==Ir&&on(this,vr).setActiveEditor(Ir)}enableClick(){this.div.addEventListener("pointerdown",on(this,pr)),this.div.addEventListener("pointerup",on(this,ur))}disableClick(){this.div.removeEventListener("pointerdown",on(this,pr)),this.div.removeEventListener("pointerup",on(this,ur))}attach(Ir){on(this,mr).set(Ir.id,Ir);const{annotationElementId:Nr}=Ir;Nr&&on(this,vr).isDeletedAnnotationElement(Nr)&&on(this,vr).removeDeletedAnnotationElement(Ir)}detach(Ir){var Nr;on(this,mr).delete(Ir.id),(Nr=on(this,cr))==null||Nr.removePointerInTextLayer(Ir.contentDiv),!on(this,yr)&&Ir.annotationElementId&&on(this,vr).addDeletedAnnotationElement(Ir)}remove(Ir){this.detach(Ir),on(this,vr).removeEditor(Ir),Ir.div.contains(document.activeElement)&&setTimeout(()=>{on(this,vr).focusMainContainer()},0),Ir.div.remove(),Ir.isAttachedToDOM=!1,on(this,gr)||this.addInkEditorIfNeeded(!1)}changeParent(Ir){var Nr;Ir.parent!==this&&(Ir.annotationElementId&&(on(this,vr).addDeletedAnnotationElement(Ir.annotationElementId),nr.AnnotationEditor.deleteAnnotationElement(Ir),Ir.annotationElementId=null),this.attach(Ir),(Nr=Ir.parent)==null||Nr.detach(Ir),Ir.setParent(this),Ir.div&&Ir.isAttachedToDOM&&(Ir.div.remove(),this.div.append(Ir.div)))}add(Ir){if(this.changeParent(Ir),on(this,vr).addEditor(Ir),this.attach(Ir),!Ir.isAttachedToDOM){const Nr=Ir.render();this.div.append(Nr),Ir.isAttachedToDOM=!0}Ir.fixAndSetPosition(),Ir.onceAdded(),on(this,vr).addToAnnotationStorage(Ir)}moveEditorInDOM(Ir){var Ar;if(!Ir.isAttachedToDOM)return;const{activeElement:Nr}=document;Ir.div.contains(Nr)&&(Ir._focusEventsAllowed=!1,setTimeout(()=>{Ir.div.contains(document.activeElement)?Ir._focusEventsAllowed=!0:(Ir.div.addEventListener("focusin",()=>{Ir._focusEventsAllowed=!0},{once:!0}),Nr.focus())},0)),Ir._structTreeParentId=(Ar=on(this,cr))==null?void 0:Ar.moveElementInDOM(this.div,Ir.div,Ir.contentDiv,!0)}addOrRebuild(Ir){Ir.needsToBeRebuilt()?Ir.rebuild():this.add(Ir)}addUndoableEditor(Ir){const Nr=()=>Ir._uiManager.rebuild(Ir),Ar=()=>{Ir.remove()};this.addCommands({cmd:Nr,undo:Ar,mustExec:!1})}getNextId(){return on(this,vr).getId()}pasteEditor(Ir,Nr){on(this,vr).updateToolbar(Ir),on(this,vr).updateMode(Ir);const{offsetX:Ar,offsetY:Dr}=Xn(this,br,h0).call(this),Tr=this.getNextId(),_r=Xn(this,br,d0).call(this,{parent:this,id:Tr,x:Ar,y:Dr,uiManager:on(this,vr),isCentered:!0,...Nr});_r&&this.add(_r)}deserialize(Ir){switch(Ir.annotationType??Ir.annotationEditorType){case rr.AnnotationEditorType.FREETEXT:return ir.FreeTextEditor.deserialize(Ir,this,on(this,vr));case rr.AnnotationEditorType.INK:return sr.InkEditor.deserialize(Ir,this,on(this,vr));case rr.AnnotationEditorType.STAMP:return ar.StampEditor.deserialize(Ir,this,on(this,vr))}return null}addNewEditor(){Xn(this,br,xm).call(this,Xn(this,br,h0).call(this),!0)}setSelected(Ir){on(this,vr).setSelected(Ir)}toggleSelected(Ir){on(this,vr).toggleSelected(Ir)}isSelected(Ir){return on(this,vr).isSelected(Ir)}unselect(Ir){on(this,vr).unselect(Ir)}pointerup(Ir){const{isMac:Nr}=rr.FeatureTest.platform;if(!(Ir.button!==0||Ir.ctrlKey&&Nr)&&Ir.target===this.div&&on(this,fr)){if(ls(this,fr,!1),!on(this,dr)){ls(this,dr,!0);return}if(on(this,vr).getMode()===rr.AnnotationEditorType.STAMP){on(this,vr).unselectAll();return}Xn(this,br,xm).call(this,Ir,!1)}}pointerdown(Ir){if(on(this,fr)){ls(this,fr,!1);return}const{isMac:Nr}=rr.FeatureTest.platform;if(Ir.button!==0||Ir.ctrlKey&&Nr||Ir.target!==this.div)return;ls(this,fr,!0);const Ar=on(this,vr).getActive();ls(this,dr,!Ar||Ar.isEmpty())}findNewParent(Ir,Nr,Ar){const Dr=on(this,vr).findParent(Nr,Ar);return Dr===null||Dr===this?!1:(Dr.changeParent(Ir),!0)}destroy(){var Ir,Nr;((Ir=on(this,vr).getActive())==null?void 0:Ir.parent)===this&&(on(this,vr).commitOrRemove(),on(this,vr).setActiveEditor(null));for(const Ar of on(this,mr).values())(Nr=on(this,cr))==null||Nr.removePointerInTextLayer(Ar.contentDiv),Ar.setParent(null),Ar.isAttachedToDOM=!1,Ar.div.remove();this.div=null,on(this,mr).clear(),on(this,vr).removeLayer(this)}render({viewport:Ir}){this.viewport=Ir,(0,or.setLayerDimensions)(this.div,Ir);for(const Nr of on(this,vr).getEditors(this.pageIndex))this.add(Nr);this.updateMode()}update({viewport:Ir}){on(this,vr).commitOrRemove(),this.viewport=Ir,(0,or.setLayerDimensions)(this.div,{rotation:Ir.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ir,pageHeight:Nr}=this.viewport.rawDims;return[Ir,Nr]}};cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakSet,d0=function(Ir){switch(on(this,vr).getMode()){case rr.AnnotationEditorType.FREETEXT:return new ir.FreeTextEditor(Ir);case rr.AnnotationEditorType.INK:return new sr.InkEditor(Ir);case rr.AnnotationEditorType.STAMP:return new ar.StampEditor(Ir)}return null},xm=function(Ir,Nr){const Ar=this.getNextId(),Dr=Xn(this,br,d0).call(this,{parent:this,id:Ar,x:Ir.offsetX,y:Ir.offsetY,uiManager:on(this,vr),isCentered:Nr});return Dr&&this.add(Dr),Dr},h0=function(){const{x:Ir,y:Nr,width:Ar,height:Dr}=this.div.getBoundingClientRect(),Tr=Math.max(0,Ir),_r=Math.max(0,Nr),wr=Math.min(window.innerWidth,Ir+Ar),Er=Math.min(window.innerHeight,Nr+Dr),xr=(Tr+wr)/2-Ir,Mr=(_r+Er)/2-Nr,[zr,Or]=this.viewport.rotation%180===0?[xr,Mr]:[Mr,xr];return{offsetX:zr,offsetY:Or}},f0=function(){ls(this,gr,!0);for(const Ir of on(this,mr).values())Ir.isEmpty()&&Ir.remove();ls(this,gr,!1)},ho(Rr,"_initialized",!1);let lr=Rr;e.AnnotationEditorLayer=lr},(er,e,tr)=>{var ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,fy,py,my,Vp,p0,gy,m0;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var rr=tr(1),nr=tr(5),ir=tr(4),sr=tr(29);const Rr=class Rr extends ir.AnnotationEditor{constructor(Nr){super({...Nr,name:"freeTextEditor"});ns(this,gr);ns(this,ar,this.editorDivBlur.bind(this));ns(this,lr,this.editorDivFocus.bind(this));ns(this,cr,this.editorDivInput.bind(this));ns(this,dr,this.editorDivKeydown.bind(this));ns(this,hr);ns(this,ur,"");ns(this,pr,`${this.id}-editor`);ns(this,mr);ns(this,fr,null);ls(this,hr,Nr.color||Rr._defaultColor||ir.AnnotationEditor._defaultLineColor),ls(this,mr,Nr.fontSize||Rr._defaultFontSize)}static get _keyboardManager(){const Nr=Rr.prototype,Ar=_r=>_r.isEmpty(),Dr=nr.AnnotationEditorUIManager.TRANSLATE_SMALL,Tr=nr.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,rr.shadow)(this,"_keyboardManager",new nr.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Nr.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Nr.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Nr._translateEmpty,{args:[-Dr,0],checker:Ar}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Nr._translateEmpty,{args:[-Tr,0],checker:Ar}],[["ArrowRight","mac+ArrowRight"],Nr._translateEmpty,{args:[Dr,0],checker:Ar}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Nr._translateEmpty,{args:[Tr,0],checker:Ar}],[["ArrowUp","mac+ArrowUp"],Nr._translateEmpty,{args:[0,-Dr],checker:Ar}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Nr._translateEmpty,{args:[0,-Tr],checker:Ar}],[["ArrowDown","mac+ArrowDown"],Nr._translateEmpty,{args:[0,Dr],checker:Ar}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Nr._translateEmpty,{args:[0,Tr],checker:Ar}]]))}static initialize(Nr){ir.AnnotationEditor.initialize(Nr,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ar=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ar.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Nr,Ar){switch(Nr){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:Rr._defaultFontSize=Ar;break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:Rr._defaultColor=Ar;break}}updateParams(Nr,Ar){switch(Nr){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:Xn(this,gr,fy).call(this,Ar);break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:Xn(this,gr,py).call(this,Ar);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,Rr._defaultFontSize],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,Rr._defaultColor||ir.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,on(this,mr)],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,on(this,hr)]]}_translateEmpty(Nr,Ar){this._uiManager.translateSelectedEditors(Nr,Ar,!0)}getInitialTranslation(){const Nr=this.parentScale;return[-Rr._internalPadding*Nr,-(Rr._internalPadding+on(this,mr))*Nr]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(rr.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",on(this,dr)),this.editorDiv.addEventListener("focus",on(this,lr)),this.editorDiv.addEventListener("blur",on(this,ar)),this.editorDiv.addEventListener("input",on(this,cr)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",on(this,pr)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",on(this,dr)),this.editorDiv.removeEventListener("focus",on(this,lr)),this.editorDiv.removeEventListener("blur",on(this,ar)),this.editorDiv.removeEventListener("input",on(this,cr)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Nr){this._focusEventsAllowed&&(super.focusin(Nr),Nr.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Nr;if(this.width){Xn(this,gr,m0).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Nr=this._initialOptions)!=null&&Nr.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Nr=on(this,ur),Ar=ls(this,ur,Xn(this,gr,my).call(this).trimEnd());if(Nr===Ar)return;const Dr=Tr=>{if(ls(this,ur,Tr),!Tr){this.remove();return}Xn(this,gr,p0).call(this),this._uiManager.rebuild(this),Xn(this,gr,Vp).call(this)};this.addCommands({cmd:()=>{Dr(Ar)},undo:()=>{Dr(Nr)},mustExec:!1}),Xn(this,gr,Vp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Nr){this.enterInEditMode()}keydown(Nr){Nr.target===this.div&&Nr.key==="Enter"&&(this.enterInEditMode(),Nr.preventDefault())}editorDivKeydown(Nr){Rr._keyboardManager.exec(this,Nr)}editorDivFocus(Nr){this.isEditing=!0}editorDivBlur(Nr){this.isEditing=!1}editorDivInput(Nr){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Nr,Ar;this.width&&(Nr=this.x,Ar=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",on(this,pr)),this.enableEditing(),ir.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Tr=>{var _r;return(_r=this.editorDiv)==null?void 0:_r.setAttribute("aria-label",Tr)}),ir.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Tr=>{var _r;return(_r=this.editorDiv)==null?void 0:_r.setAttribute("default-content",Tr)}),this.editorDiv.contentEditable=!0;const{style:Dr}=this.editorDiv;if(Dr.fontSize=`calc(${on(this,mr)}px * var(--scale-factor))`,Dr.color=on(this,hr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nr.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Tr,_r]=this.parentDimensions;if(this.annotationElementId){const{position:wr}=on(this,fr);let[Er,xr]=this.getInitialTranslation();[Er,xr]=this.pageTranslationToScreen(Er,xr);const[Mr,zr]=this.pageDimensions,[Or,Br]=this.pageTranslation;let Ur,qr;switch(this.rotation){case 0:Ur=Nr+(wr[0]-Or)/Mr,qr=Ar+this.height-(wr[1]-Br)/zr;break;case 90:Ur=Nr+(wr[0]-Or)/Mr,qr=Ar-(wr[1]-Br)/zr,[Er,xr]=[xr,-Er];break;case 180:Ur=Nr-this.width+(wr[0]-Or)/Mr,qr=Ar-(wr[1]-Br)/zr,[Er,xr]=[-Er,-xr];break;case 270:Ur=Nr+(wr[0]-Or-this.height*zr)/Mr,qr=Ar+(wr[1]-Br-this.width*Mr)/zr,[Er,xr]=[-xr,Er];break}this.setAt(Ur*Tr,qr*_r,Er,xr)}else this.setAt(Nr*Tr,Ar*_r,this.width*Tr,this.height*_r);Xn(this,gr,p0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Nr,Ar,Dr){let Tr=null;if(Nr instanceof sr.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:wr,fontColor:Er},rect:xr,rotation:Mr,id:zr},textContent:Or,textPosition:Br,parent:{page:{pageNumber:Ur}}}=Nr;if(!Or||Or.length===0)return null;Tr=Nr={annotationType:rr.AnnotationEditorType.FREETEXT,color:Array.from(Er),fontSize:wr,value:Or.join(`
`),position:Br,pageIndex:Ur-1,rect:xr,rotation:Mr,id:zr,deleted:!1}}const _r=super.deserialize(Nr,Ar,Dr);return ls(_r,mr,Nr.fontSize),ls(_r,hr,rr.Util.makeHexColor(...Nr.color)),ls(_r,ur,Nr.value),_r.annotationElementId=Nr.id||null,ls(_r,fr,Tr),_r}serialize(Nr=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ar=Rr._internalPadding*this.parentScale,Dr=this.getRect(Ar,Ar),Tr=ir.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:on(this,hr)),_r={annotationType:rr.AnnotationEditorType.FREETEXT,color:Tr,fontSize:on(this,mr),value:on(this,ur),pageIndex:this.pageIndex,rect:Dr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Nr?_r:this.annotationElementId&&!Xn(this,gr,gy).call(this,_r)?null:(_r.id=this.annotationElementId,_r)}};ar=new WeakMap,lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakSet,fy=function(Nr){const Ar=Tr=>{this.editorDiv.style.fontSize=`calc(${Tr}px * var(--scale-factor))`,this.translate(0,-(Tr-on(this,mr))*this.parentScale),ls(this,mr,Tr),Xn(this,gr,Vp).call(this)},Dr=on(this,mr);this.addCommands({cmd:()=>{Ar(Nr)},undo:()=>{Ar(Dr)},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},py=function(Nr){const Ar=on(this,hr);this.addCommands({cmd:()=>{ls(this,hr,this.editorDiv.style.color=Nr)},undo:()=>{ls(this,hr,this.editorDiv.style.color=Ar)},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},my=function(){const Nr=this.editorDiv.getElementsByTagName("div");if(Nr.length===0)return this.editorDiv.innerText;const Ar=[];for(const Dr of Nr)Ar.push(Dr.innerText.replace(/\r\n?|\n/,""));return Ar.join(`
`)},Vp=function(){const[Nr,Ar]=this.parentDimensions;let Dr;if(this.isAttachedToDOM)Dr=this.div.getBoundingClientRect();else{const{currentLayer:Tr,div:_r}=this,wr=_r.style.display;_r.style.display="hidden",Tr.div.append(this.div),Dr=_r.getBoundingClientRect(),_r.remove(),_r.style.display=wr}this.rotation%180===this.parentRotation%180?(this.width=Dr.width/Nr,this.height=Dr.height/Ar):(this.width=Dr.height/Nr,this.height=Dr.width/Ar),this.fixAndSetPosition()},p0=function(){if(this.editorDiv.replaceChildren(),!!on(this,ur))for(const Nr of on(this,ur).split(`
`)){const Ar=document.createElement("div");Ar.append(Nr?document.createTextNode(Nr):document.createElement("br")),this.editorDiv.append(Ar)}},gy=function(Nr){const{value:Ar,fontSize:Dr,color:Tr,rect:_r,pageIndex:wr}=on(this,fr);return Nr.value!==Ar||Nr.fontSize!==Dr||Nr.rect.some((Er,xr)=>Math.abs(Er-_r[xr])>=1)||Nr.color.some((Er,xr)=>Er!==Tr[xr])||Nr.pageIndex!==wr},m0=function(Nr=!1){if(!this.annotationElementId)return;if(Xn(this,gr,Vp).call(this),!Nr&&(this.width===0||this.height===0)){setTimeout(()=>Xn(this,gr,m0).call(this,!0),0);return}const Ar=Rr._internalPadding*this.parentScale;on(this,fr).rect=this.getRect(Ar,Ar)},ho(Rr,"_freeTextDefaultContent",""),ho(Rr,"_internalPadding",0),ho(Rr,"_defaultColor",null),ho(Rr,"_defaultFontSize",10),ho(Rr,"_type","freetext");let or=Rr;e.FreeTextEditor=or},(er,e,tr)=>{var qr,Gr,_f,yy,Kr,Zr,nn,Qr,cn,dn,en,an,tn,sn,fn,pn,yn,Cn,Rn,En,zn,Bn,vy,wm,g0,y0,vs,fs,xs,Vn,On,Mn,ds,v0,ss,bn,$n,Un,by,b0;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var rr=tr(1),nr=tr(6),ir=tr(3),sr=tr(30),or=tr(31),ar=tr(32);const lr=1e3,cr=9,dr=new WeakSet;function hr(ps){return{width:ps[2]-ps[0],height:ps[3]-ps[1]}}class ur{static create(An){switch(An.data.annotationType){case rr.AnnotationType.LINK:return new mr(An);case rr.AnnotationType.TEXT:return new fr(An);case rr.AnnotationType.WIDGET:switch(An.data.fieldType){case"Tx":return new yr(An);case"Btn":return An.data.radioButton?new Sr(An):An.data.checkBox?new br(An):new jr(An);case"Ch":return new Cr(An);case"Sig":return new vr(An)}return new gr(An);case rr.AnnotationType.POPUP:return new Pr(An);case rr.AnnotationType.FREETEXT:return new Lr(An);case rr.AnnotationType.LINE:return new Ir(An);case rr.AnnotationType.SQUARE:return new Nr(An);case rr.AnnotationType.CIRCLE:return new Ar(An);case rr.AnnotationType.POLYLINE:return new Dr(An);case rr.AnnotationType.CARET:return new _r(An);case rr.AnnotationType.INK:return new wr(An);case rr.AnnotationType.POLYGON:return new Tr(An);case rr.AnnotationType.HIGHLIGHT:return new Er(An);case rr.AnnotationType.UNDERLINE:return new xr(An);case rr.AnnotationType.SQUIGGLY:return new Mr(An);case rr.AnnotationType.STRIKEOUT:return new zr(An);case rr.AnnotationType.STAMP:return new Or(An);case rr.AnnotationType.FILEATTACHMENT:return new Br(An);default:return new pr(An)}}}const Vr=class Vr{constructor(An,{isRenderable:xn=!1,ignoreBorder:jn=!1,createQuadrilaterals:Ln=!1}={}){ns(this,qr,!1);this.isRenderable=xn,this.data=An.data,this.layer=An.layer,this.linkService=An.linkService,this.downloadManager=An.downloadManager,this.imageResourcesPath=An.imageResourcesPath,this.renderForms=An.renderForms,this.svgFactory=An.svgFactory,this.annotationStorage=An.annotationStorage,this.enableScripting=An.enableScripting,this.hasJSActions=An.hasJSActions,this._fieldObjects=An.fieldObjects,this.parent=An.parent,xn&&(this.container=this._createContainer(jn)),Ln&&this._createQuadrilaterals()}static _hasPopupData({titleObj:An,contentsObj:xn,richText:jn}){return!!(An!=null&&An.str||xn!=null&&xn.str||jn!=null&&jn.str)}get hasPopupData(){return Vr._hasPopupData(this.data)}_createContainer(An){const{data:xn,parent:{page:jn,viewport:Ln}}=this,Yn=document.createElement("section");Yn.setAttribute("data-annotation-id",xn.id),this instanceof gr||(Yn.tabIndex=lr),Yn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Yn.setAttribute("aria-haspopup","dialog"),xn.noRotate&&Yn.classList.add("norotate");const{pageWidth:Jn,pageHeight:Sn,pageX:Dn,pageY:Wn}=Ln.rawDims;if(!xn.rect||this instanceof Pr){const{rotation:Ps}=xn;return!xn.hasOwnCanvas&&Ps!==0&&this.setRotation(Ps,Yn),Yn}const{width:_i,height:Cs}=hr(xn.rect),us=rr.Util.normalizeRect([xn.rect[0],jn.view[3]-xn.rect[1]+jn.view[1],xn.rect[2],jn.view[3]-xn.rect[3]+jn.view[1]]);if(!An&&xn.borderStyle.width>0){Yn.style.borderWidth=`${xn.borderStyle.width}px`;const Ps=xn.borderStyle.horizontalCornerRadius,Ts=xn.borderStyle.verticalCornerRadius;if(Ps>0||Ts>0){const Os=`calc(${Ps}px * var(--scale-factor)) / calc(${Ts}px * var(--scale-factor))`;Yn.style.borderRadius=Os}else if(this instanceof Sr){const Os=`calc(${_i}px * var(--scale-factor)) / calc(${Cs}px * var(--scale-factor))`;Yn.style.borderRadius=Os}switch(xn.borderStyle.style){case rr.AnnotationBorderStyleType.SOLID:Yn.style.borderStyle="solid";break;case rr.AnnotationBorderStyleType.DASHED:Yn.style.borderStyle="dashed";break;case rr.AnnotationBorderStyleType.BEVELED:(0,rr.warn)("Unimplemented border style: beveled");break;case rr.AnnotationBorderStyleType.INSET:(0,rr.warn)("Unimplemented border style: inset");break;case rr.AnnotationBorderStyleType.UNDERLINE:Yn.style.borderBottomStyle="solid";break}const Ls=xn.borderColor||null;Ls?(ls(this,qr,!0),Yn.style.borderColor=rr.Util.makeHexColor(Ls[0]|0,Ls[1]|0,Ls[2]|0)):Yn.style.borderWidth=0}Yn.style.left=`${100*(us[0]-Dn)/Jn}%`,Yn.style.top=`${100*(us[1]-Wn)/Sn}%`;const{rotation:ws}=xn;return xn.hasOwnCanvas||ws===0?(Yn.style.width=`${100*_i/Jn}%`,Yn.style.height=`${100*Cs/Sn}%`):this.setRotation(ws,Yn),Yn}setRotation(An,xn=this.container){if(!this.data.rect)return;const{pageWidth:jn,pageHeight:Ln}=this.parent.viewport.rawDims,{width:Yn,height:Jn}=hr(this.data.rect);let Sn,Dn;An%180===0?(Sn=100*Yn/jn,Dn=100*Jn/Ln):(Sn=100*Jn/jn,Dn=100*Yn/Ln),xn.style.width=`${Sn}%`,xn.style.height=`${Dn}%`,xn.setAttribute("data-main-rotation",(360-An)%360)}get _commonActions(){const An=(xn,jn,Ln)=>{const Yn=Ln.detail[xn],Jn=Yn[0],Sn=Yn.slice(1);Ln.target.style[jn]=sr.ColorConverters[`${Jn}_HTML`](Sn),this.annotationStorage.setValue(this.data.id,{[jn]:sr.ColorConverters[`${Jn}_rgb`](Sn)})};return(0,rr.shadow)(this,"_commonActions",{display:xn=>{const{display:jn}=xn.detail,Ln=jn%2===1;this.container.style.visibility=Ln?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ln,noPrint:jn===1||jn===2})},print:xn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!xn.detail.print})},hidden:xn=>{const{hidden:jn}=xn.detail;this.container.style.visibility=jn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:jn,noView:jn})},focus:xn=>{setTimeout(()=>xn.target.focus({preventScroll:!1}),0)},userName:xn=>{xn.target.title=xn.detail.userName},readonly:xn=>{xn.target.disabled=xn.detail.readonly},required:xn=>{this._setRequired(xn.target,xn.detail.required)},bgColor:xn=>{An("bgColor","backgroundColor",xn)},fillColor:xn=>{An("fillColor","backgroundColor",xn)},fgColor:xn=>{An("fgColor","color",xn)},textColor:xn=>{An("textColor","color",xn)},borderColor:xn=>{An("borderColor","borderColor",xn)},strokeColor:xn=>{An("strokeColor","borderColor",xn)},rotation:xn=>{const jn=xn.detail.rotation;this.setRotation(jn),this.annotationStorage.setValue(this.data.id,{rotation:jn})}})}_dispatchEventFromSandbox(An,xn){const jn=this._commonActions;for(const Ln of Object.keys(xn.detail)){const Yn=An[Ln]||jn[Ln];Yn==null||Yn(xn)}}_setDefaultPropertiesFromJS(An){if(!this.enableScripting)return;const xn=this.annotationStorage.getRawValue(this.data.id);if(!xn)return;const jn=this._commonActions;for(const[Ln,Yn]of Object.entries(xn)){const Jn=jn[Ln];if(Jn){const Sn={detail:{[Ln]:Yn},target:An};Jn(Sn),delete xn[Ln]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:An}=this.data;if(!An)return;const[xn,jn,Ln,Yn]=this.data.rect;if(An.length===1){const[,{x:Ts,y:Ls},{x:Os,y:zs}]=An[0];if(Ln===Ts&&Yn===Ls&&xn===Os&&jn===zs)return}const{style:Jn}=this.container;let Sn;if(on(this,qr)){const{borderColor:Ts,borderWidth:Ls}=Jn;Jn.borderWidth=0,Sn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ts}" stroke-width="${Ls}">`],this.container.classList.add("hasBorder")}const Dn=Ln-xn,Wn=Yn-jn,{svgFactory:_i}=this,Cs=_i.createElement("svg");Cs.classList.add("quadrilateralsContainer"),Cs.setAttribute("width",0),Cs.setAttribute("height",0);const us=_i.createElement("defs");Cs.append(us);const ws=_i.createElement("clipPath"),Ps=`clippath_${this.data.id}`;ws.setAttribute("id",Ps),ws.setAttribute("clipPathUnits","objectBoundingBox"),us.append(ws);for(const[,{x:Ts,y:Ls},{x:Os,y:zs}]of An){const qs=_i.createElement("rect"),Ys=(Os-xn)/Dn,$a=(Yn-Ls)/Wn,eo=(Ts-Os)/Dn,mo=(Ls-zs)/Wn;qs.setAttribute("x",Ys),qs.setAttribute("y",$a),qs.setAttribute("width",eo),qs.setAttribute("height",mo),ws.append(qs),Sn==null||Sn.push(`<rect vector-effect="non-scaling-stroke" x="${Ys}" y="${$a}" width="${eo}" height="${mo}"/>`)}on(this,qr)&&(Sn.push("</g></svg>')"),Jn.backgroundImage=Sn.join("")),this.container.append(Cs),this.container.style.clipPath=`url(#${Ps})`}_createPopup(){const{container:An,data:xn}=this;An.setAttribute("aria-haspopup","dialog");const jn=new Pr({data:{color:xn.color,titleObj:xn.titleObj,modificationDate:xn.modificationDate,contentsObj:xn.contentsObj,richText:xn.richText,parentRect:xn.rect,borderStyle:0,id:`popup_${xn.id}`,rotation:xn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(jn.render())}render(){(0,rr.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(An,xn=null){const jn=[];if(this._fieldObjects){const Ln=this._fieldObjects[An];if(Ln)for(const{page:Yn,id:Jn,exportValues:Sn}of Ln){if(Yn===-1||Jn===xn)continue;const Dn=typeof Sn=="string"?Sn:null,Wn=document.querySelector(`[data-element-id="${Jn}"]`);if(Wn&&!dr.has(Wn)){(0,rr.warn)(`_getElementsByName - element not allowed: ${Jn}`);continue}jn.push({id:Jn,exportValue:Dn,domElement:Wn})}return jn}for(const Ln of document.getElementsByName(An)){const{exportValue:Yn}=Ln,Jn=Ln.getAttribute("data-element-id");Jn!==xn&&dr.has(Ln)&&jn.push({id:Jn,exportValue:Yn,domElement:Ln})}return jn}show(){var An;this.container&&(this.container.hidden=!1),(An=this.popup)==null||An.maybeShow()}hide(){var An;this.container&&(this.container.hidden=!0),(An=this.popup)==null||An.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const An=this.getElementsToTriggerPopup();if(Array.isArray(An))for(const xn of An)xn.classList.add("highlightArea");else An.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:An,data:{id:xn}}=this;this.container.addEventListener("dblclick",()=>{var jn;(jn=this.linkService.eventBus)==null||jn.dispatch("switchannotationeditormode",{source:this,mode:An,editId:xn})})}};qr=new WeakMap;let pr=Vr;class mr extends pr{constructor(xn,jn=null){super(xn,{isRenderable:!0,ignoreBorder:!!(jn!=null&&jn.ignoreBorder),createQuadrilaterals:!0});ns(this,Gr);this.isTooltipOnly=xn.data.isTooltipOnly}render(){const{data:xn,linkService:jn}=this,Ln=document.createElement("a");Ln.setAttribute("data-element-id",xn.id);let Yn=!1;return xn.url?(jn.addLinkAttributes(Ln,xn.url,xn.newWindow),Yn=!0):xn.action?(this._bindNamedAction(Ln,xn.action),Yn=!0):xn.attachment?(this._bindAttachment(Ln,xn.attachment),Yn=!0):xn.setOCGState?(Xn(this,Gr,yy).call(this,Ln,xn.setOCGState),Yn=!0):xn.dest?(this._bindLink(Ln,xn.dest),Yn=!0):(xn.actions&&(xn.actions.Action||xn.actions["Mouse Up"]||xn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ln,xn),Yn=!0),xn.resetForm?(this._bindResetFormAction(Ln,xn.resetForm),Yn=!0):this.isTooltipOnly&&!Yn&&(this._bindLink(Ln,""),Yn=!0)),this.container.classList.add("linkAnnotation"),Yn&&this.container.append(Ln),this.container}_bindLink(xn,jn){xn.href=this.linkService.getDestinationHash(jn),xn.onclick=()=>(jn&&this.linkService.goToDestination(jn),!1),(jn||jn==="")&&Xn(this,Gr,_f).call(this)}_bindNamedAction(xn,jn){xn.href=this.linkService.getAnchorUrl(""),xn.onclick=()=>(this.linkService.executeNamedAction(jn),!1),Xn(this,Gr,_f).call(this)}_bindAttachment(xn,jn){xn.href=this.linkService.getAnchorUrl(""),xn.onclick=()=>{var Ln;return(Ln=this.downloadManager)==null||Ln.openOrDownloadData(this.container,jn.content,jn.filename),!1},Xn(this,Gr,_f).call(this)}_bindJSAction(xn,jn){xn.href=this.linkService.getAnchorUrl("");const Ln=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Yn of Object.keys(jn.actions)){const Jn=Ln.get(Yn);Jn&&(xn[Jn]=()=>{var Sn;return(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jn.id,name:Yn}}),!1})}xn.onclick||(xn.onclick=()=>!1),Xn(this,Gr,_f).call(this)}_bindResetFormAction(xn,jn){const Ln=xn.onclick;if(Ln||(xn.href=this.linkService.getAnchorUrl("")),Xn(this,Gr,_f).call(this),!this._fieldObjects){(0,rr.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ln||(xn.onclick=()=>!1);return}xn.onclick=()=>{var Cs;Ln==null||Ln();const{fields:Yn,refs:Jn,include:Sn}=jn,Dn=[];if(Yn.length!==0||Jn.length!==0){const us=new Set(Jn);for(const ws of Yn){const Ps=this._fieldObjects[ws]||[];for(const{id:Ts}of Ps)us.add(Ts)}for(const ws of Object.values(this._fieldObjects))for(const Ps of ws)us.has(Ps.id)===Sn&&Dn.push(Ps)}else for(const us of Object.values(this._fieldObjects))Dn.push(...us);const Wn=this.annotationStorage,_i=[];for(const us of Dn){const{id:ws}=us;switch(_i.push(ws),us.type){case"text":{const Ts=us.defaultValue||"";Wn.setValue(ws,{value:Ts});break}case"checkbox":case"radiobutton":{const Ts=us.defaultValue===us.exportValues;Wn.setValue(ws,{value:Ts});break}case"combobox":case"listbox":{const Ts=us.defaultValue||"";Wn.setValue(ws,{value:Ts});break}default:continue}const Ps=document.querySelector(`[data-element-id="${ws}"]`);if(Ps){if(!dr.has(Ps)){(0,rr.warn)(`_bindResetFormAction - element not allowed: ${ws}`);continue}}else continue;Ps.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Cs=this.linkService.eventBus)==null||Cs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_i,name:"ResetForm"}})),!1}}}Gr=new WeakSet,_f=function(){this.container.setAttribute("data-internal-link","")},yy=function(xn,jn){xn.href=this.linkService.getAnchorUrl(""),xn.onclick=()=>(this.linkService.executeSetOCGState(jn),!1),Xn(this,Gr,_f).call(this)};class fr extends pr{constructor(An){super(An,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const An=document.createElement("img");return An.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",An.alt="[{{type}} Annotation]",An.dataset.l10nId="text_annotation_type",An.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(An),this.container}}class gr extends pr{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(An){var xn;this.data.hasOwnCanvas&&(((xn=An.previousSibling)==null?void 0:xn.nodeName)==="CANVAS"&&(An.previousSibling.hidden=!0),An.hidden=!1)}_getKeyModifier(An){const{isWin:xn,isMac:jn}=rr.FeatureTest.platform;return xn&&An.ctrlKey||jn&&An.metaKey}_setEventListener(An,xn,jn,Ln,Yn){jn.includes("mouse")?An.addEventListener(jn,Jn=>{var Sn;(Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ln,value:Yn(Jn),shift:Jn.shiftKey,modifier:this._getKeyModifier(Jn)}})}):An.addEventListener(jn,Jn=>{var Sn;if(jn==="blur"){if(!xn.focused||!Jn.relatedTarget)return;xn.focused=!1}else if(jn==="focus"){if(xn.focused)return;xn.focused=!0}Yn&&((Sn=this.linkService.eventBus)==null||Sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ln,value:Yn(Jn)}}))})}_setEventListeners(An,xn,jn,Ln){var Yn,Jn,Sn;for(const[Dn,Wn]of jn)(Wn==="Action"||(Yn=this.data.actions)!=null&&Yn[Wn])&&((Wn==="Focus"||Wn==="Blur")&&(xn||(xn={focused:!1})),this._setEventListener(An,xn,Dn,Wn,Ln),Wn==="Focus"&&!((Jn=this.data.actions)!=null&&Jn.Blur)?this._setEventListener(An,xn,"blur","Blur",null):Wn==="Blur"&&!((Sn=this.data.actions)!=null&&Sn.Focus)&&this._setEventListener(An,xn,"focus","Focus",null))}_setBackgroundColor(An){const xn=this.data.backgroundColor||null;An.style.backgroundColor=xn===null?"transparent":rr.Util.makeHexColor(xn[0],xn[1],xn[2])}_setTextStyle(An){const xn=["left","center","right"],{fontColor:jn}=this.data.defaultAppearanceData,Ln=this.data.defaultAppearanceData.fontSize||cr,Yn=An.style;let Jn;const Sn=2,Dn=Wn=>Math.round(10*Wn)/10;if(this.data.multiLine){const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn),_i=Math.round(Wn/(rr.LINE_FACTOR*Ln))||1,Cs=Wn/_i;Jn=Math.min(Ln,Dn(Cs/rr.LINE_FACTOR))}else{const Wn=Math.abs(this.data.rect[3]-this.data.rect[1]-Sn);Jn=Math.min(Ln,Dn(Wn/rr.LINE_FACTOR))}Yn.fontSize=`calc(${Jn}px * var(--scale-factor))`,Yn.color=rr.Util.makeHexColor(jn[0],jn[1],jn[2]),this.data.textAlignment!==null&&(Yn.textAlign=xn[this.data.textAlignment])}_setRequired(An,xn){xn?An.setAttribute("required",!0):An.removeAttribute("required"),An.setAttribute("aria-required",xn)}}class yr extends gr{constructor(An){const xn=An.renderForms||!An.data.hasAppearance&&!!An.data.fieldValue;super(An,{isRenderable:xn})}setPropertyOnSiblings(An,xn,jn,Ln){const Yn=this.annotationStorage;for(const Jn of this._getElementsByName(An.name,An.id))Jn.domElement&&(Jn.domElement[xn]=jn),Yn.setValue(Jn.id,{[Ln]:jn})}render(){var Ln,Yn;const An=this.annotationStorage,xn=this.data.id;this.container.classList.add("textWidgetAnnotation");let jn=null;if(this.renderForms){const Jn=An.getValue(xn,{value:this.data.fieldValue});let Sn=Jn.value||"";const Dn=An.getValue(xn,{charLimit:this.data.maxLen}).charLimit;Dn&&Sn.length>Dn&&(Sn=Sn.slice(0,Dn));let Wn=Jn.formattedValue||((Ln=this.data.textContent)==null?void 0:Ln.join(`
`))||null;Wn&&this.data.comb&&(Wn=Wn.replaceAll(/\s+/g,""));const _i={userValue:Sn,formattedValue:Wn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(jn=document.createElement("textarea"),jn.textContent=Wn??Sn,this.data.doNotScroll&&(jn.style.overflowY="hidden")):(jn=document.createElement("input"),jn.type="text",jn.setAttribute("value",Wn??Sn),this.data.doNotScroll&&(jn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(jn.hidden=!0),dr.add(jn),jn.setAttribute("data-element-id",xn),jn.disabled=this.data.readOnly,jn.name=this.data.fieldName,jn.tabIndex=lr,this._setRequired(jn,this.data.required),Dn&&(jn.maxLength=Dn),jn.addEventListener("input",us=>{An.setValue(xn,{value:us.target.value}),this.setPropertyOnSiblings(jn,"value",us.target.value,"value"),_i.formattedValue=null}),jn.addEventListener("resetform",us=>{const ws=this.data.defaultFieldValue??"";jn.value=_i.userValue=ws,_i.formattedValue=null});let Cs=us=>{const{formattedValue:ws}=_i;ws!=null&&(us.target.value=ws),us.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){jn.addEventListener("focus",ws=>{if(_i.focused)return;const{target:Ps}=ws;_i.userValue&&(Ps.value=_i.userValue),_i.lastCommittedValue=Ps.value,_i.commitKey=1,_i.focused=!0}),jn.addEventListener("updatefromsandbox",ws=>{this.showElementAndHideCanvas(ws.target);const Ps={value(Ts){_i.userValue=Ts.detail.value??"",An.setValue(xn,{value:_i.userValue.toString()}),Ts.target.value=_i.userValue},formattedValue(Ts){const{formattedValue:Ls}=Ts.detail;_i.formattedValue=Ls,Ls!=null&&Ts.target!==document.activeElement&&(Ts.target.value=Ls),An.setValue(xn,{formattedValue:Ls})},selRange(Ts){Ts.target.setSelectionRange(...Ts.detail.selRange)},charLimit:Ts=>{var qs;const{charLimit:Ls}=Ts.detail,{target:Os}=Ts;if(Ls===0){Os.removeAttribute("maxLength");return}Os.setAttribute("maxLength",Ls);let zs=_i.userValue;!zs||zs.length<=Ls||(zs=zs.slice(0,Ls),Os.value=_i.userValue=zs,An.setValue(xn,{value:zs}),(qs=this.linkService.eventBus)==null||qs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn,name:"Keystroke",value:zs,willCommit:!0,commitKey:1,selStart:Os.selectionStart,selEnd:Os.selectionEnd}}))}};this._dispatchEventFromSandbox(Ps,ws)}),jn.addEventListener("keydown",ws=>{var Ls;_i.commitKey=1;let Ps=-1;if(ws.key==="Escape"?Ps=0:ws.key==="Enter"&&!this.data.multiLine?Ps=2:ws.key==="Tab"&&(_i.commitKey=3),Ps===-1)return;const{value:Ts}=ws.target;_i.lastCommittedValue!==Ts&&(_i.lastCommittedValue=Ts,_i.userValue=Ts,(Ls=this.linkService.eventBus)==null||Ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn,name:"Keystroke",value:Ts,willCommit:!0,commitKey:Ps,selStart:ws.target.selectionStart,selEnd:ws.target.selectionEnd}}))});const us=Cs;Cs=null,jn.addEventListener("blur",ws=>{var Ts;if(!_i.focused||!ws.relatedTarget)return;_i.focused=!1;const{value:Ps}=ws.target;_i.userValue=Ps,_i.lastCommittedValue!==Ps&&((Ts=this.linkService.eventBus)==null||Ts.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn,name:"Keystroke",value:Ps,willCommit:!0,commitKey:_i.commitKey,selStart:ws.target.selectionStart,selEnd:ws.target.selectionEnd}})),us(ws)}),(Yn=this.data.actions)!=null&&Yn.Keystroke&&jn.addEventListener("beforeinput",ws=>{var $a;_i.lastCommittedValue=null;const{data:Ps,target:Ts}=ws,{value:Ls,selectionStart:Os,selectionEnd:zs}=Ts;let qs=Os,Ys=zs;switch(ws.inputType){case"deleteWordBackward":{const eo=Ls.substring(0,Os).match(/\w*[^\w]*$/);eo&&(qs-=eo[0].length);break}case"deleteWordForward":{const eo=Ls.substring(Os).match(/^[^\w]*\w*/);eo&&(Ys+=eo[0].length);break}case"deleteContentBackward":Os===zs&&(qs-=1);break;case"deleteContentForward":Os===zs&&(Ys+=1);break}ws.preventDefault(),($a=this.linkService.eventBus)==null||$a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn,name:"Keystroke",value:Ls,change:Ps||"",willCommit:!1,selStart:qs,selEnd:Ys}})}),this._setEventListeners(jn,_i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ws=>ws.target.value)}if(Cs&&jn.addEventListener("blur",Cs),this.data.comb){const ws=(this.data.rect[2]-this.data.rect[0])/Dn;jn.classList.add("comb"),jn.style.letterSpacing=`calc(${ws}px * var(--scale-factor) - 1ch)`}}else jn=document.createElement("div"),jn.textContent=this.data.fieldValue,jn.style.verticalAlign="middle",jn.style.display="table-cell";return this._setTextStyle(jn),this._setBackgroundColor(jn),this._setDefaultPropertiesFromJS(jn),this.container.append(jn),this.container}}class vr extends gr{constructor(An){super(An,{isRenderable:!!An.data.hasOwnCanvas})}}class br extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){const An=this.annotationStorage,xn=this.data,jn=xn.id;let Ln=An.getValue(jn,{value:xn.exportValue===xn.fieldValue}).value;typeof Ln=="string"&&(Ln=Ln!=="Off",An.setValue(jn,{value:Ln})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Yn=document.createElement("input");return dr.add(Yn),Yn.setAttribute("data-element-id",jn),Yn.disabled=xn.readOnly,this._setRequired(Yn,this.data.required),Yn.type="checkbox",Yn.name=xn.fieldName,Ln&&Yn.setAttribute("checked",!0),Yn.setAttribute("exportValue",xn.exportValue),Yn.tabIndex=lr,Yn.addEventListener("change",Jn=>{const{name:Sn,checked:Dn}=Jn.target;for(const Wn of this._getElementsByName(Sn,jn)){const _i=Dn&&Wn.exportValue===xn.exportValue;Wn.domElement&&(Wn.domElement.checked=_i),An.setValue(Wn.id,{value:_i})}An.setValue(jn,{value:Dn})}),Yn.addEventListener("resetform",Jn=>{const Sn=xn.defaultFieldValue||"Off";Jn.target.checked=Sn===xn.exportValue}),this.enableScripting&&this.hasJSActions&&(Yn.addEventListener("updatefromsandbox",Jn=>{const Sn={value(Dn){Dn.target.checked=Dn.detail.value!=="Off",An.setValue(jn,{value:Dn.target.checked})}};this._dispatchEventFromSandbox(Sn,Jn)}),this._setEventListeners(Yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Jn=>Jn.target.checked)),this._setBackgroundColor(Yn),this._setDefaultPropertiesFromJS(Yn),this.container.append(Yn),this.container}}class Sr extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const An=this.annotationStorage,xn=this.data,jn=xn.id;let Ln=An.getValue(jn,{value:xn.fieldValue===xn.buttonValue}).value;typeof Ln=="string"&&(Ln=Ln!==xn.buttonValue,An.setValue(jn,{value:Ln}));const Yn=document.createElement("input");if(dr.add(Yn),Yn.setAttribute("data-element-id",jn),Yn.disabled=xn.readOnly,this._setRequired(Yn,this.data.required),Yn.type="radio",Yn.name=xn.fieldName,Ln&&Yn.setAttribute("checked",!0),Yn.tabIndex=lr,Yn.addEventListener("change",Jn=>{const{name:Sn,checked:Dn}=Jn.target;for(const Wn of this._getElementsByName(Sn,jn))An.setValue(Wn.id,{value:!1});An.setValue(jn,{value:Dn})}),Yn.addEventListener("resetform",Jn=>{const Sn=xn.defaultFieldValue;Jn.target.checked=Sn!=null&&Sn===xn.buttonValue}),this.enableScripting&&this.hasJSActions){const Jn=xn.buttonValue;Yn.addEventListener("updatefromsandbox",Sn=>{const Dn={value:Wn=>{const _i=Jn===Wn.detail.value;for(const Cs of this._getElementsByName(Wn.target.name)){const us=_i&&Cs.id===jn;Cs.domElement&&(Cs.domElement.checked=us),An.setValue(Cs.id,{value:us})}}};this._dispatchEventFromSandbox(Dn,Sn)}),this._setEventListeners(Yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.checked)}return this._setBackgroundColor(Yn),this._setDefaultPropertiesFromJS(Yn),this.container.append(Yn),this.container}}class jr extends mr{constructor(An){super(An,{ignoreBorder:An.data.hasAppearance})}render(){const An=super.render();An.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(An.title=this.data.alternativeText);const xn=An.lastChild;return this.enableScripting&&this.hasJSActions&&xn&&(this._setDefaultPropertiesFromJS(xn),xn.addEventListener("updatefromsandbox",jn=>{this._dispatchEventFromSandbox({},jn)})),An}}class Cr extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const An=this.annotationStorage,xn=this.data.id,jn=An.getValue(xn,{value:this.data.fieldValue}),Ln=document.createElement("select");dr.add(Ln),Ln.setAttribute("data-element-id",xn),Ln.disabled=this.data.readOnly,this._setRequired(Ln,this.data.required),Ln.name=this.data.fieldName,Ln.tabIndex=lr;let Yn=this.data.combo&&this.data.options.length>0;this.data.combo||(Ln.size=this.data.options.length,this.data.multiSelect&&(Ln.multiple=!0)),Ln.addEventListener("resetform",_i=>{const Cs=this.data.defaultFieldValue;for(const us of Ln.options)us.selected=us.value===Cs});for(const _i of this.data.options){const Cs=document.createElement("option");Cs.textContent=_i.displayValue,Cs.value=_i.exportValue,jn.value.includes(_i.exportValue)&&(Cs.setAttribute("selected",!0),Yn=!1),Ln.append(Cs)}let Jn=null;if(Yn){const _i=document.createElement("option");_i.value=" ",_i.setAttribute("hidden",!0),_i.setAttribute("selected",!0),Ln.prepend(_i),Jn=()=>{_i.remove(),Ln.removeEventListener("input",Jn),Jn=null},Ln.addEventListener("input",Jn)}const Sn=_i=>{const Cs=_i?"value":"textContent",{options:us,multiple:ws}=Ln;return ws?Array.prototype.filter.call(us,Ps=>Ps.selected).map(Ps=>Ps[Cs]):us.selectedIndex===-1?null:us[us.selectedIndex][Cs]};let Dn=Sn(!1);const Wn=_i=>{const Cs=_i.target.options;return Array.prototype.map.call(Cs,us=>({displayValue:us.textContent,exportValue:us.value}))};return this.enableScripting&&this.hasJSActions?(Ln.addEventListener("updatefromsandbox",_i=>{const Cs={value(us){Jn==null||Jn();const ws=us.detail.value,Ps=new Set(Array.isArray(ws)?ws:[ws]);for(const Ts of Ln.options)Ts.selected=Ps.has(Ts.value);An.setValue(xn,{value:Sn(!0)}),Dn=Sn(!1)},multipleSelection(us){Ln.multiple=!0},remove(us){const ws=Ln.options,Ps=us.detail.remove;ws[Ps].selected=!1,Ln.remove(Ps),ws.length>0&&Array.prototype.findIndex.call(ws,Ls=>Ls.selected)===-1&&(ws[0].selected=!0),An.setValue(xn,{value:Sn(!0),items:Wn(us)}),Dn=Sn(!1)},clear(us){for(;Ln.length!==0;)Ln.remove(0);An.setValue(xn,{value:null,items:[]}),Dn=Sn(!1)},insert(us){const{index:ws,displayValue:Ps,exportValue:Ts}=us.detail.insert,Ls=Ln.children[ws],Os=document.createElement("option");Os.textContent=Ps,Os.value=Ts,Ls?Ls.before(Os):Ln.append(Os),An.setValue(xn,{value:Sn(!0),items:Wn(us)}),Dn=Sn(!1)},items(us){const{items:ws}=us.detail;for(;Ln.length!==0;)Ln.remove(0);for(const Ps of ws){const{displayValue:Ts,exportValue:Ls}=Ps,Os=document.createElement("option");Os.textContent=Ts,Os.value=Ls,Ln.append(Os)}Ln.options.length>0&&(Ln.options[0].selected=!0),An.setValue(xn,{value:Sn(!0),items:Wn(us)}),Dn=Sn(!1)},indices(us){const ws=new Set(us.detail.indices);for(const Ps of us.target.options)Ps.selected=ws.has(Ps.index);An.setValue(xn,{value:Sn(!0)}),Dn=Sn(!1)},editable(us){us.target.disabled=!us.detail.editable}};this._dispatchEventFromSandbox(Cs,_i)}),Ln.addEventListener("input",_i=>{var us;const Cs=Sn(!0);An.setValue(xn,{value:Cs}),_i.preventDefault(),(us=this.linkService.eventBus)==null||us.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn,name:"Keystroke",value:Dn,changeEx:Cs,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ln,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],_i=>_i.target.value)):Ln.addEventListener("input",function(_i){An.setValue(xn,{value:Sn(!0)})}),this.data.combo&&this._setTextStyle(Ln),this._setBackgroundColor(Ln),this._setDefaultPropertiesFromJS(Ln),this.container.append(Ln),this.container}}class Pr extends pr{constructor(An){const{data:xn,elements:jn}=An;super(An,{isRenderable:pr._hasPopupData(xn)}),this.elements=jn}render(){this.container.classList.add("popupAnnotation");const An=new Rr({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),xn=[];for(const jn of this.elements)jn.popup=An,xn.push(jn.data.id),jn.addHighlightArea();return this.container.setAttribute("aria-controls",xn.map(jn=>`${rr.AnnotationPrefix}${jn}`).join(",")),this.container}}class Rr{constructor({container:An,color:xn,elements:jn,titleObj:Ln,modificationDate:Yn,contentsObj:Jn,richText:Sn,parent:Dn,rect:Wn,parentRect:_i,open:Cs}){ns(this,Bn);ns(this,Kr,null);ns(this,Zr,Xn(this,Bn,vy).bind(this));ns(this,nn,Xn(this,Bn,y0).bind(this));ns(this,Qr,Xn(this,Bn,g0).bind(this));ns(this,cn,Xn(this,Bn,wm).bind(this));ns(this,dn,null);ns(this,en,null);ns(this,an,null);ns(this,tn,null);ns(this,sn,null);ns(this,fn,null);ns(this,pn,!1);ns(this,yn,null);ns(this,Cn,null);ns(this,Rn,null);ns(this,En,null);ns(this,zn,!1);var ws;ls(this,en,An),ls(this,En,Ln),ls(this,an,Jn),ls(this,Rn,Sn),ls(this,sn,Dn),ls(this,dn,xn),ls(this,Cn,Wn),ls(this,fn,_i),ls(this,tn,jn);const us=nr.PDFDateString.toDateObject(Yn);us&&ls(this,Kr,Dn.l10n.get("annotation_date_string",{date:us.toLocaleDateString(),time:us.toLocaleTimeString()})),this.trigger=jn.flatMap(Ps=>Ps.getElementsToTriggerPopup());for(const Ps of this.trigger)Ps.addEventListener("click",on(this,cn)),Ps.addEventListener("mouseenter",on(this,Qr)),Ps.addEventListener("mouseleave",on(this,nn)),Ps.classList.add("popupTriggerArea");for(const Ps of jn)(ws=Ps.container)==null||ws.addEventListener("keydown",on(this,Zr));on(this,en).hidden=!0,Cs&&Xn(this,Bn,wm).call(this)}render(){if(on(this,yn))return;const{page:{view:An},viewport:{rawDims:{pageWidth:xn,pageHeight:jn,pageX:Ln,pageY:Yn}}}=on(this,sn),Jn=ls(this,yn,document.createElement("div"));if(Jn.className="popup",on(this,dn)){const qs=Jn.style.outlineColor=rr.Util.makeHexColor(...on(this,dn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Jn.style.backgroundColor=`color-mix(in srgb, ${qs} 30%, white)`:Jn.style.backgroundColor=rr.Util.makeHexColor(...on(this,dn).map($a=>Math.floor(.7*(255-$a)+$a)))}const Sn=document.createElement("span");Sn.className="header";const Dn=document.createElement("h1");if(Sn.append(Dn),{dir:Dn.dir,str:Dn.textContent}=on(this,En),Jn.append(Sn),on(this,Kr)){const qs=document.createElement("span");qs.classList.add("popupDate"),on(this,Kr).then(Ys=>{qs.textContent=Ys}),Sn.append(qs)}const Wn=on(this,an),_i=on(this,Rn);if(_i!=null&&_i.str&&(!(Wn!=null&&Wn.str)||Wn.str===_i.str))ar.XfaLayer.render({xfaHtml:_i.html,intent:"richText",div:Jn}),Jn.lastChild.classList.add("richText","popupContent");else{const qs=this._formatContents(Wn);Jn.append(qs)}let Cs=!!on(this,fn),us=Cs?on(this,fn):on(this,Cn);for(const qs of on(this,tn))if(!us||rr.Util.intersect(qs.data.rect,us)!==null){us=qs.data.rect,Cs=!0;break}const ws=rr.Util.normalizeRect([us[0],An[3]-us[1]+An[1],us[2],An[3]-us[3]+An[1]]),Ts=Cs?us[2]-us[0]+5:0,Ls=ws[0]+Ts,Os=ws[1],{style:zs}=on(this,en);zs.left=`${100*(Ls-Ln)/xn}%`,zs.top=`${100*(Os-Yn)/jn}%`,on(this,en).append(Jn)}_formatContents({str:An,dir:xn}){const jn=document.createElement("p");jn.classList.add("popupContent"),jn.dir=xn;const Ln=An.split(/(?:\r\n?|\n)/);for(let Yn=0,Jn=Ln.length;Yn<Jn;++Yn){const Sn=Ln[Yn];jn.append(document.createTextNode(Sn)),Yn<Jn-1&&jn.append(document.createElement("br"))}return jn}forceHide(){ls(this,zn,this.isVisible),on(this,zn)&&(on(this,en).hidden=!0)}maybeShow(){on(this,zn)&&(ls(this,zn,!1),on(this,en).hidden=!1)}get isVisible(){return on(this,en).hidden===!1}}Kr=new WeakMap,Zr=new WeakMap,nn=new WeakMap,Qr=new WeakMap,cn=new WeakMap,dn=new WeakMap,en=new WeakMap,an=new WeakMap,tn=new WeakMap,sn=new WeakMap,fn=new WeakMap,pn=new WeakMap,yn=new WeakMap,Cn=new WeakMap,Rn=new WeakMap,En=new WeakMap,zn=new WeakMap,Bn=new WeakSet,vy=function(An){An.altKey||An.shiftKey||An.ctrlKey||An.metaKey||(An.key==="Enter"||An.key==="Escape"&&on(this,pn))&&Xn(this,Bn,wm).call(this)},wm=function(){ls(this,pn,!on(this,pn)),on(this,pn)?(Xn(this,Bn,g0).call(this),on(this,en).addEventListener("click",on(this,cn)),on(this,en).addEventListener("keydown",on(this,Zr))):(Xn(this,Bn,y0).call(this),on(this,en).removeEventListener("click",on(this,cn)),on(this,en).removeEventListener("keydown",on(this,Zr)))},g0=function(){on(this,yn)||this.render(),this.isVisible?on(this,pn)&&on(this,en).classList.add("focused"):(on(this,en).hidden=!1,on(this,en).style.zIndex=parseInt(on(this,en).style.zIndex)+1e3)},y0=function(){on(this,en).classList.remove("focused"),!(on(this,pn)||!this.isVisible)&&(on(this,en).hidden=!0,on(this,en).style.zIndex=parseInt(on(this,en).style.zIndex)-1e3)};class Lr extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0}),this.textContent=An.data.textContent,this.textPosition=An.data.textPosition,this.annotationEditorType=rr.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const An=document.createElement("div");An.classList.add("annotationTextContent"),An.setAttribute("role","comment");for(const xn of this.textContent){const jn=document.createElement("span");jn.textContent=xn,An.append(jn)}this.container.append(An)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Lr;class Ir extends pr{constructor(xn){super(xn,{isRenderable:!0,ignoreBorder:!0});ns(this,vs,null)}render(){this.container.classList.add("lineAnnotation");const xn=this.data,{width:jn,height:Ln}=hr(xn.rect),Yn=this.svgFactory.create(jn,Ln,!0),Jn=ls(this,vs,this.svgFactory.createElement("svg:line"));return Jn.setAttribute("x1",xn.rect[2]-xn.lineCoordinates[0]),Jn.setAttribute("y1",xn.rect[3]-xn.lineCoordinates[1]),Jn.setAttribute("x2",xn.rect[2]-xn.lineCoordinates[2]),Jn.setAttribute("y2",xn.rect[3]-xn.lineCoordinates[3]),Jn.setAttribute("stroke-width",xn.borderStyle.width||1),Jn.setAttribute("stroke","transparent"),Jn.setAttribute("fill","transparent"),Yn.append(Jn),this.container.append(Yn),!xn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return on(this,vs)}addHighlightArea(){this.container.classList.add("highlightArea")}}vs=new WeakMap;class Nr extends pr{constructor(xn){super(xn,{isRenderable:!0,ignoreBorder:!0});ns(this,fs,null)}render(){this.container.classList.add("squareAnnotation");const xn=this.data,{width:jn,height:Ln}=hr(xn.rect),Yn=this.svgFactory.create(jn,Ln,!0),Jn=xn.borderStyle.width,Sn=ls(this,fs,this.svgFactory.createElement("svg:rect"));return Sn.setAttribute("x",Jn/2),Sn.setAttribute("y",Jn/2),Sn.setAttribute("width",jn-Jn),Sn.setAttribute("height",Ln-Jn),Sn.setAttribute("stroke-width",Jn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),Yn.append(Sn),this.container.append(Yn),!xn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return on(this,fs)}addHighlightArea(){this.container.classList.add("highlightArea")}}fs=new WeakMap;class Ar extends pr{constructor(xn){super(xn,{isRenderable:!0,ignoreBorder:!0});ns(this,xs,null)}render(){this.container.classList.add("circleAnnotation");const xn=this.data,{width:jn,height:Ln}=hr(xn.rect),Yn=this.svgFactory.create(jn,Ln,!0),Jn=xn.borderStyle.width,Sn=ls(this,xs,this.svgFactory.createElement("svg:ellipse"));return Sn.setAttribute("cx",jn/2),Sn.setAttribute("cy",Ln/2),Sn.setAttribute("rx",jn/2-Jn/2),Sn.setAttribute("ry",Ln/2-Jn/2),Sn.setAttribute("stroke-width",Jn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),Yn.append(Sn),this.container.append(Yn),!xn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return on(this,xs)}addHighlightArea(){this.container.classList.add("highlightArea")}}xs=new WeakMap;class Dr extends pr{constructor(xn){super(xn,{isRenderable:!0,ignoreBorder:!0});ns(this,Vn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const xn=this.data,{width:jn,height:Ln}=hr(xn.rect),Yn=this.svgFactory.create(jn,Ln,!0);let Jn=[];for(const Dn of xn.vertices){const Wn=Dn.x-xn.rect[0],_i=xn.rect[3]-Dn.y;Jn.push(Wn+","+_i)}Jn=Jn.join(" ");const Sn=ls(this,Vn,this.svgFactory.createElement(this.svgElementName));return Sn.setAttribute("points",Jn),Sn.setAttribute("stroke-width",xn.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),Yn.append(Sn),this.container.append(Yn),!xn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return on(this,Vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vn=new WeakMap;class Tr extends Dr{constructor(An){super(An),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _r extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class wr extends pr{constructor(xn){super(xn,{isRenderable:!0,ignoreBorder:!0});ns(this,On,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=rr.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const xn=this.data,{width:jn,height:Ln}=hr(xn.rect),Yn=this.svgFactory.create(jn,Ln,!0);for(const Jn of xn.inkLists){let Sn=[];for(const Wn of Jn){const _i=Wn.x-xn.rect[0],Cs=xn.rect[3]-Wn.y;Sn.push(`${_i},${Cs}`)}Sn=Sn.join(" ");const Dn=this.svgFactory.createElement(this.svgElementName);on(this,On).push(Dn),Dn.setAttribute("points",Sn),Dn.setAttribute("stroke-width",xn.borderStyle.width||1),Dn.setAttribute("stroke","transparent"),Dn.setAttribute("fill","transparent"),!xn.popupRef&&this.hasPopupData&&this._createPopup(),Yn.append(Dn)}return this.container.append(Yn),this.container}getElementsToTriggerPopup(){return on(this,On)}addHighlightArea(){this.container.classList.add("highlightArea")}}On=new WeakMap,e.InkAnnotationElement=wr;class Er extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xr extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Mr extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class zr extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Or extends pr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=Or;class Br extends pr{constructor(xn){var Yn;super(xn,{isRenderable:!0});ns(this,ds);ns(this,Mn,null);const{filename:jn,content:Ln}=this.data.file;this.filename=(0,nr.getFilenameFromUrl)(jn,!0),this.content=Ln,(Yn=this.linkService.eventBus)==null||Yn.dispatch("fileattachmentannotation",{source:this,filename:jn,content:Ln})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:xn,data:jn}=this;let Ln;jn.hasAppearance||jn.fillAlpha===0?Ln=document.createElement("div"):(Ln=document.createElement("img"),Ln.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(jn.name)?"paperclip":"pushpin"}.svg`,jn.fillAlpha&&jn.fillAlpha<1&&(Ln.style=`filter: opacity(${Math.round(jn.fillAlpha*100)}%);`)),Ln.addEventListener("dblclick",Xn(this,ds,v0).bind(this)),ls(this,Mn,Ln);const{isMac:Yn}=rr.FeatureTest.platform;return xn.addEventListener("keydown",Jn=>{Jn.key==="Enter"&&(Yn?Jn.metaKey:Jn.ctrlKey)&&Xn(this,ds,v0).call(this)}),!jn.popupRef&&this.hasPopupData?this._createPopup():Ln.classList.add("popupTriggerArea"),xn.append(Ln),xn}getElementsToTriggerPopup(){return on(this,Mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mn=new WeakMap,ds=new WeakSet,v0=function(){var xn;(xn=this.downloadManager)==null||xn.openOrDownloadData(this.container,this.content,this.filename)};class Ur{constructor({div:An,accessibilityManager:xn,annotationCanvasMap:jn,l10n:Ln,page:Yn,viewport:Jn}){ns(this,Un);ns(this,ss,null);ns(this,bn,null);ns(this,$n,new Map);this.div=An,ls(this,ss,xn),ls(this,bn,jn),this.l10n=Ln,this.page=Yn,this.viewport=Jn,this.zIndex=0,this.l10n||(this.l10n=or.NullL10n)}async render(An){const{annotations:xn}=An,jn=this.div;(0,nr.setLayerDimensions)(jn,this.viewport);const Ln=new Map,Yn={data:null,layer:jn,linkService:An.linkService,downloadManager:An.downloadManager,imageResourcesPath:An.imageResourcesPath||"",renderForms:An.renderForms!==!1,svgFactory:new nr.DOMSVGFactory,annotationStorage:An.annotationStorage||new ir.AnnotationStorage,enableScripting:An.enableScripting===!0,hasJSActions:An.hasJSActions,fieldObjects:An.fieldObjects,parent:this,elements:null};for(const Jn of xn){if(Jn.noHTML)continue;const Sn=Jn.annotationType===rr.AnnotationType.POPUP;if(Sn){const _i=Ln.get(Jn.id);if(!_i)continue;Yn.elements=_i}else{const{width:_i,height:Cs}=hr(Jn.rect);if(_i<=0||Cs<=0)continue}Yn.data=Jn;const Dn=ur.create(Yn);if(!Dn.isRenderable)continue;if(!Sn&&Jn.popupRef){const _i=Ln.get(Jn.popupRef);_i?_i.push(Dn):Ln.set(Jn.popupRef,[Dn])}Dn.annotationEditorType>0&&on(this,$n).set(Dn.data.id,Dn);const Wn=Dn.render();Jn.hidden&&(Wn.style.visibility="hidden"),Xn(this,Un,by).call(this,Wn,Jn.id)}Xn(this,Un,b0).call(this),await this.l10n.translate(jn)}update({viewport:An}){const xn=this.div;this.viewport=An,(0,nr.setLayerDimensions)(xn,{rotation:An.rotation}),Xn(this,Un,b0).call(this),xn.hidden=!1}getEditableAnnotations(){return Array.from(on(this,$n).values())}getEditableAnnotation(An){return on(this,$n).get(An)}}ss=new WeakMap,bn=new WeakMap,$n=new WeakMap,Un=new WeakSet,by=function(An,xn){var Ln;const jn=An.firstChild||An;jn.id=`${rr.AnnotationPrefix}${xn}`,this.div.append(An),(Ln=on(this,ss))==null||Ln.moveElementInDOM(this.div,An,jn,!1)},b0=function(){if(!on(this,bn))return;const An=this.div;for(const[xn,jn]of on(this,bn)){const Ln=An.querySelector(`[data-annotation-id="${xn}"]`);if(!Ln)continue;const{firstChild:Yn}=Ln;Yn?Yn.nodeName==="CANVAS"?Yn.replaceWith(jn):Yn.before(jn):Ln.append(jn)}on(this,bn).clear()},e.AnnotationLayer=Ur},(er,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function tr(ir){return Math.floor(Math.max(0,Math.min(1,ir))*255).toString(16).padStart(2,"0")}function rr(ir){return Math.max(0,Math.min(255,255*ir))}class nr{static CMYK_G([sr,or,ar,lr]){return["G",1-Math.min(1,.3*sr+.59*ar+.11*or+lr)]}static G_CMYK([sr]){return["CMYK",0,0,0,1-sr]}static G_RGB([sr]){return["RGB",sr,sr,sr]}static G_rgb([sr]){return sr=rr(sr),[sr,sr,sr]}static G_HTML([sr]){const or=tr(sr);return`#${or}${or}${or}`}static RGB_G([sr,or,ar]){return["G",.3*sr+.59*or+.11*ar]}static RGB_rgb(sr){return sr.map(rr)}static RGB_HTML(sr){return`#${sr.map(tr).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([sr,or,ar,lr]){return["RGB",1-Math.min(1,sr+lr),1-Math.min(1,ar+lr),1-Math.min(1,or+lr)]}static CMYK_rgb([sr,or,ar,lr]){return[rr(1-Math.min(1,sr+lr)),rr(1-Math.min(1,ar+lr)),rr(1-Math.min(1,or+lr))]}static CMYK_HTML(sr){const or=this.CMYK_RGB(sr).slice(1);return this.RGB_HTML(or)}static RGB_CMYK([sr,or,ar]){const lr=1-sr,cr=1-or,dr=1-ar,hr=Math.min(lr,cr,dr);return["CMYK",lr,cr,dr,hr]}}e.ColorConverters=nr},(er,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=rr;const tr={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};tr.print_progress_percent="{{progress}}%";function rr(sr,or){switch(sr){case"find_match_count":sr=`find_match_count[${or.total===1?"one":"other"}]`;break;case"find_match_count_limit":sr=`find_match_count_limit[${or.limit===1?"one":"other"}]`;break}return tr[sr]||""}function nr(sr,or){return or?sr.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ar,lr)=>lr in or?or[lr]:"{{"+lr+"}}"):sr}const ir={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(sr,or=null,ar=rr(sr,or)){return nr(ar,or)},async translate(sr){}};e.NullL10n=ir},(er,e,tr)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var rr=tr(25);class nr{static setupStorage(sr,or,ar,lr,cr){const dr=lr.getValue(or,{value:null});switch(ar.name){case"textarea":if(dr.value!==null&&(sr.textContent=dr.value),cr==="print")break;sr.addEventListener("input",hr=>{lr.setValue(or,{value:hr.target.value})});break;case"input":if(ar.attributes.type==="radio"||ar.attributes.type==="checkbox"){if(dr.value===ar.attributes.xfaOn?sr.setAttribute("checked",!0):dr.value===ar.attributes.xfaOff&&sr.removeAttribute("checked"),cr==="print")break;sr.addEventListener("change",hr=>{lr.setValue(or,{value:hr.target.checked?hr.target.getAttribute("xfaOn"):hr.target.getAttribute("xfaOff")})})}else{if(dr.value!==null&&sr.setAttribute("value",dr.value),cr==="print")break;sr.addEventListener("input",hr=>{lr.setValue(or,{value:hr.target.value})})}break;case"select":if(dr.value!==null){sr.setAttribute("value",dr.value);for(const hr of ar.children)hr.attributes.value===dr.value?hr.attributes.selected=!0:hr.attributes.hasOwnProperty("selected")&&delete hr.attributes.selected}sr.addEventListener("input",hr=>{const ur=hr.target.options,pr=ur.selectedIndex===-1?"":ur[ur.selectedIndex].value;lr.setValue(or,{value:pr})});break}}static setAttributes({html:sr,element:or,storage:ar=null,intent:lr,linkService:cr}){const{attributes:dr}=or,hr=sr instanceof HTMLAnchorElement;dr.type==="radio"&&(dr.name=`${dr.name}-${lr}`);for(const[ur,pr]of Object.entries(dr))if(pr!=null)switch(ur){case"class":pr.length&&sr.setAttribute(ur,pr.join(" "));break;case"dataId":break;case"id":sr.setAttribute("data-element-id",pr);break;case"style":Object.assign(sr.style,pr);break;case"textContent":sr.textContent=pr;break;default:(!hr||ur!=="href"&&ur!=="newWindow")&&sr.setAttribute(ur,pr)}hr&&cr.addLinkAttributes(sr,dr.href,dr.newWindow),ar&&dr.dataId&&this.setupStorage(sr,dr.dataId,or,ar)}static render(sr){var mr;const or=sr.annotationStorage,ar=sr.linkService,lr=sr.xfaHtml,cr=sr.intent||"display",dr=document.createElement(lr.name);lr.attributes&&this.setAttributes({html:dr,element:lr,intent:cr,linkService:ar});const hr=[[lr,-1,dr]],ur=sr.div;if(ur.append(dr),sr.viewport){const fr=`matrix(${sr.viewport.transform.join(",")})`;ur.style.transform=fr}cr!=="richText"&&ur.setAttribute("class","xfaLayer xfaFont");const pr=[];for(;hr.length>0;){const[fr,gr,yr]=hr.at(-1);if(gr+1===fr.children.length){hr.pop();continue}const vr=fr.children[++hr.at(-1)[1]];if(vr===null)continue;const{name:br}=vr;if(br==="#text"){const jr=document.createTextNode(vr.value);pr.push(jr),yr.append(jr);continue}const Sr=(mr=vr==null?void 0:vr.attributes)!=null&&mr.xmlns?document.createElementNS(vr.attributes.xmlns,br):document.createElement(br);if(yr.append(Sr),vr.attributes&&this.setAttributes({html:Sr,element:vr,storage:or,intent:cr,linkService:ar}),vr.children&&vr.children.length>0)hr.push([vr,-1,Sr]);else if(vr.value){const jr=document.createTextNode(vr.value);rr.XfaText.shouldBuildText(br)&&pr.push(jr),Sr.append(jr)}}for(const fr of ur.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))fr.setAttribute("readOnly",!0);return{textDivs:pr}}static update(sr){const or=`matrix(${sr.viewport.transform.join(",")})`;sr.div.style.transform=or,sr.div.hidden=!1}}e.XfaLayer=nr},(er,e,tr)=>{var lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr,br,Sr,jr,Cr,_y,xy,wy,Ey,_0,Sy,x0,Ay,Py,Ty,Cy,Ry,bu,w0,Em,Sm,_p,E0,Am,Gr,Iy,S0,jy,Ny,A0,Pm,xp;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var rr=tr(1),nr=tr(4),ir=tr(29),sr=tr(6),or=tr(5);const dn=class dn extends nr.AnnotationEditor{constructor(tn){super({...tn,name:"inkEditor"});ns(this,Cr);ns(this,lr,0);ns(this,cr,0);ns(this,dr,this.canvasPointermove.bind(this));ns(this,hr,this.canvasPointerleave.bind(this));ns(this,ur,this.canvasPointerup.bind(this));ns(this,pr,this.canvasPointerdown.bind(this));ns(this,mr,new Path2D);ns(this,fr,!1);ns(this,gr,!1);ns(this,yr,!1);ns(this,vr,null);ns(this,br,0);ns(this,Sr,0);ns(this,jr,null);this.color=tn.color||null,this.thickness=tn.thickness||null,this.opacity=tn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(tn){nr.AnnotationEditor.initialize(tn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(tn,sn){switch(tn){case rr.AnnotationEditorParamsType.INK_THICKNESS:dn._defaultThickness=sn;break;case rr.AnnotationEditorParamsType.INK_COLOR:dn._defaultColor=sn;break;case rr.AnnotationEditorParamsType.INK_OPACITY:dn._defaultOpacity=sn/100;break}}updateParams(tn,sn){switch(tn){case rr.AnnotationEditorParamsType.INK_THICKNESS:Xn(this,Cr,_y).call(this,sn);break;case rr.AnnotationEditorParamsType.INK_COLOR:Xn(this,Cr,xy).call(this,sn);break;case rr.AnnotationEditorParamsType.INK_OPACITY:Xn(this,Cr,wy).call(this,sn);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,dn._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,dn._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(dn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dn._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,this.color||dn._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Xn(this,Cr,Em).call(this),Xn(this,Cr,Sm).call(this)),this.isAttachedToDOM||(this.parent.add(this),Xn(this,Cr,_p).call(this)),Xn(this,Cr,xp).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,on(this,vr).disconnect(),ls(this,vr,null),super.remove())}setParent(tn){!this.parent&&tn?this._uiManager.removeShouldRescale(this):this.parent&&tn===null&&this._uiManager.addShouldRescale(this),super.setParent(tn)}onScaleChanging(){const[tn,sn]=this.parentDimensions,fn=this.width*tn,pn=this.height*sn;this.setDimensions(fn,pn)}enableEditMode(){on(this,fr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",on(this,pr)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",on(this,pr)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){on(this,fr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ls(this,fr,!0),this.div.classList.add("disabled"),Xn(this,Cr,xp).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(tn){this._focusEventsAllowed&&(super.focusin(tn),this.enableEditMode())}canvasPointerdown(tn){tn.button!==0||!this.isInEditMode()||on(this,fr)||(this.setInForeground(),tn.preventDefault(),tn.type!=="mouse"&&this.div.focus(),Xn(this,Cr,Sy).call(this,tn.offsetX,tn.offsetY))}canvasPointermove(tn){tn.preventDefault(),Xn(this,Cr,x0).call(this,tn.offsetX,tn.offsetY)}canvasPointerup(tn){tn.preventDefault(),Xn(this,Cr,w0).call(this,tn)}canvasPointerleave(tn){Xn(this,Cr,w0).call(this,tn)}get isResizable(){return!this.isEmpty()&&on(this,fr)}render(){if(this.div)return this.div;let tn,sn;this.width&&(tn=this.x,sn=this.y),super.render(),nr.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Rn=>{var En;return(En=this.div)==null?void 0:En.setAttribute("aria-label",Rn)});const[fn,pn,yn,Cn]=Xn(this,Cr,Ey).call(this);if(this.setAt(fn,pn,0,0),this.setDims(yn,Cn),Xn(this,Cr,Em).call(this),this.width){const[Rn,En]=this.parentDimensions;this.setAspectRatio(this.width*Rn,this.height*En),this.setAt(tn*Rn,sn*En,this.width*Rn,this.height*En),ls(this,yr,!0),Xn(this,Cr,_p).call(this),this.setDims(this.width*Rn,this.height*En),Xn(this,Cr,bu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Xn(this,Cr,Sm).call(this),this.div}setDimensions(tn,sn){const fn=Math.round(tn),pn=Math.round(sn);if(on(this,br)===fn&&on(this,Sr)===pn)return;ls(this,br,fn),ls(this,Sr,pn),this.canvas.style.visibility="hidden";const[yn,Cn]=this.parentDimensions;this.width=tn/yn,this.height=sn/Cn,this.fixAndSetPosition(),on(this,fr)&&Xn(this,Cr,E0).call(this,tn,sn),Xn(this,Cr,_p).call(this),Xn(this,Cr,bu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(tn,sn,fn){var vs,fs,xs;if(tn instanceof ir.InkAnnotationElement)return null;const pn=super.deserialize(tn,sn,fn);pn.thickness=tn.thickness,pn.color=rr.Util.makeHexColor(...tn.color),pn.opacity=tn.opacity;const[yn,Cn]=pn.pageDimensions,Rn=pn.width*yn,En=pn.height*Cn,zn=pn.parentScale,Bn=tn.thickness/2;ls(pn,fr,!0),ls(pn,br,Math.round(Rn)),ls(pn,Sr,Math.round(En));const{paths:rs,rect:cs,rotation:_s}=tn;for(let{bezier:Vn}of rs){Vn=Xn(vs=dn,Gr,jy).call(vs,Vn,cs,_s);const On=[];pn.paths.push(On);let Mn=zn*(Vn[0]-Bn),ds=zn*(Vn[1]-Bn);for(let ss=2,bn=Vn.length;ss<bn;ss+=6){const $n=zn*(Vn[ss]-Bn),Un=zn*(Vn[ss+1]-Bn),Kn=zn*(Vn[ss+2]-Bn),hs=zn*(Vn[ss+3]-Bn),ps=zn*(Vn[ss+4]-Bn),An=zn*(Vn[ss+5]-Bn);On.push([[Mn,ds],[$n,Un],[Kn,hs],[ps,An]]),Mn=ps,ds=An}const In=Xn(this,Gr,Iy).call(this,On);pn.bezierPath2D.push(In)}const qn=Xn(fs=pn,Cr,A0).call(fs);return ls(pn,cr,Math.max(nr.AnnotationEditor.MIN_SIZE,qn[2]-qn[0])),ls(pn,lr,Math.max(nr.AnnotationEditor.MIN_SIZE,qn[3]-qn[1])),Xn(xs=pn,Cr,E0).call(xs,Rn,En),pn}serialize(){if(this.isEmpty())return null;const tn=this.getRect(0,0),sn=nr.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rr.AnnotationEditorType.INK,color:sn,thickness:this.thickness,opacity:this.opacity,paths:Xn(this,Cr,Ny).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,tn),pageIndex:this.pageIndex,rect:tn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,Sr=new WeakMap,jr=new WeakMap,Cr=new WeakSet,_y=function(tn){const sn=this.thickness;this.addCommands({cmd:()=>{this.thickness=tn,Xn(this,Cr,xp).call(this)},undo:()=>{this.thickness=sn,Xn(this,Cr,xp).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xy=function(tn){const sn=this.color;this.addCommands({cmd:()=>{this.color=tn,Xn(this,Cr,bu).call(this)},undo:()=>{this.color=sn,Xn(this,Cr,bu).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wy=function(tn){tn/=100;const sn=this.opacity;this.addCommands({cmd:()=>{this.opacity=tn,Xn(this,Cr,bu).call(this)},undo:()=>{this.opacity=sn,Xn(this,Cr,bu).call(this)},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ey=function(){const{parentRotation:tn,parentDimensions:[sn,fn]}=this;switch(tn){case 90:return[0,fn,fn,sn];case 180:return[sn,fn,sn,fn];case 270:return[sn,0,fn,sn];default:return[0,0,sn,fn]}},_0=function(){const{ctx:tn,color:sn,opacity:fn,thickness:pn,parentScale:yn,scaleFactor:Cn}=this;tn.lineWidth=pn*yn/Cn,tn.lineCap="round",tn.lineJoin="round",tn.miterLimit=10,tn.strokeStyle=`${sn}${(0,or.opacityToHex)(fn)}`},Sy=function(tn,sn){this.canvas.addEventListener("contextmenu",sr.noContextMenu),this.canvas.addEventListener("pointerleave",on(this,hr)),this.canvas.addEventListener("pointermove",on(this,dr)),this.canvas.addEventListener("pointerup",on(this,ur)),this.canvas.removeEventListener("pointerdown",on(this,pr)),this.isEditing=!0,on(this,yr)||(ls(this,yr,!0),Xn(this,Cr,_p).call(this),this.thickness||(this.thickness=dn._defaultThickness),this.color||(this.color=dn._defaultColor||nr.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dn._defaultOpacity)),this.currentPath.push([tn,sn]),ls(this,gr,!1),Xn(this,Cr,_0).call(this),ls(this,jr,()=>{Xn(this,Cr,Ty).call(this),on(this,jr)&&window.requestAnimationFrame(on(this,jr))}),window.requestAnimationFrame(on(this,jr))},x0=function(tn,sn){const[fn,pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&tn===fn&&sn===pn)return;const yn=this.currentPath;let Cn=on(this,mr);if(yn.push([tn,sn]),ls(this,gr,!0),yn.length<=2){Cn.moveTo(...yn[0]),Cn.lineTo(tn,sn);return}yn.length===3&&(ls(this,mr,Cn=new Path2D),Cn.moveTo(...yn[0])),Xn(this,Cr,Cy).call(this,Cn,...yn.at(-3),...yn.at(-2),tn,sn)},Ay=function(){if(this.currentPath.length===0)return;const tn=this.currentPath.at(-1);on(this,mr).lineTo(...tn)},Py=function(tn,sn){ls(this,jr,null),tn=Math.min(Math.max(tn,0),this.canvas.width),sn=Math.min(Math.max(sn,0),this.canvas.height),Xn(this,Cr,x0).call(this,tn,sn),Xn(this,Cr,Ay).call(this);let fn;if(this.currentPath.length!==1)fn=Xn(this,Cr,Ry).call(this);else{const En=[tn,sn];fn=[[En,En.slice(),En.slice(),En]]}const pn=on(this,mr),yn=this.currentPath;this.currentPath=[],ls(this,mr,new Path2D);const Cn=()=>{this.allRawPaths.push(yn),this.paths.push(fn),this.bezierPath2D.push(pn),this.rebuild()},Rn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Xn(this,Cr,Em).call(this),Xn(this,Cr,Sm).call(this)),Xn(this,Cr,xp).call(this))};this.addCommands({cmd:Cn,undo:Rn,mustExec:!0})},Ty=function(){if(!on(this,gr))return;ls(this,gr,!1);const tn=Math.ceil(this.thickness*this.parentScale),sn=this.currentPath.slice(-3),fn=sn.map(Cn=>Cn[0]),pn=sn.map(Cn=>Cn[1]);Math.min(...fn)-tn,Math.max(...fn)+tn,Math.min(...pn)-tn,Math.max(...pn)+tn;const{ctx:yn}=this;yn.save(),yn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Cn of this.bezierPath2D)yn.stroke(Cn);yn.stroke(on(this,mr)),yn.restore()},Cy=function(tn,sn,fn,pn,yn,Cn,Rn){const En=(sn+pn)/2,zn=(fn+yn)/2,Bn=(pn+Cn)/2,rs=(yn+Rn)/2;tn.bezierCurveTo(En+2*(pn-En)/3,zn+2*(yn-zn)/3,Bn+2*(pn-Bn)/3,rs+2*(yn-rs)/3,Bn,rs)},Ry=function(){const tn=this.currentPath;if(tn.length<=2)return[[tn[0],tn[0],tn.at(-1),tn.at(-1)]];const sn=[];let fn,[pn,yn]=tn[0];for(fn=1;fn<tn.length-2;fn++){const[cs,_s]=tn[fn],[qn,vs]=tn[fn+1],fs=(cs+qn)/2,xs=(_s+vs)/2,Vn=[pn+2*(cs-pn)/3,yn+2*(_s-yn)/3],On=[fs+2*(cs-fs)/3,xs+2*(_s-xs)/3];sn.push([[pn,yn],Vn,On,[fs,xs]]),[pn,yn]=[fs,xs]}const[Cn,Rn]=tn[fn],[En,zn]=tn[fn+1],Bn=[pn+2*(Cn-pn)/3,yn+2*(Rn-yn)/3],rs=[En+2*(Cn-En)/3,zn+2*(Rn-zn)/3];return sn.push([[pn,yn],Bn,rs,[En,zn]]),sn},bu=function(){if(this.isEmpty()){Xn(this,Cr,Am).call(this);return}Xn(this,Cr,_0).call(this);const{canvas:tn,ctx:sn}=this;sn.setTransform(1,0,0,1,0,0),sn.clearRect(0,0,tn.width,tn.height),Xn(this,Cr,Am).call(this);for(const fn of this.bezierPath2D)sn.stroke(fn)},w0=function(tn){this.canvas.removeEventListener("pointerleave",on(this,hr)),this.canvas.removeEventListener("pointermove",on(this,dr)),this.canvas.removeEventListener("pointerup",on(this,ur)),this.canvas.addEventListener("pointerdown",on(this,pr)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",sr.noContextMenu)},10),Xn(this,Cr,Py).call(this,tn.offsetX,tn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Em=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",nr.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(tn=>{var sn;return(sn=this.canvas)==null?void 0:sn.setAttribute("aria-label",tn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Sm=function(){ls(this,vr,new ResizeObserver(tn=>{const sn=tn[0].contentRect;sn.width&&sn.height&&this.setDimensions(sn.width,sn.height)})),on(this,vr).observe(this.div)},_p=function(){if(!on(this,yr))return;const[tn,sn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*tn),this.canvas.height=Math.ceil(this.height*sn),Xn(this,Cr,Am).call(this)},E0=function(tn,sn){const fn=Xn(this,Cr,Pm).call(this),pn=(tn-fn)/on(this,cr),yn=(sn-fn)/on(this,lr);this.scaleFactor=Math.min(pn,yn)},Am=function(){const tn=Xn(this,Cr,Pm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+tn,this.translationY*this.scaleFactor+tn)},Gr=new WeakSet,Iy=function(tn){const sn=new Path2D;for(let fn=0,pn=tn.length;fn<pn;fn++){const[yn,Cn,Rn,En]=tn[fn];fn===0&&sn.moveTo(...yn),sn.bezierCurveTo(Cn[0],Cn[1],Rn[0],Rn[1],En[0],En[1])}return sn},S0=function(tn,sn,fn){const[pn,yn,Cn,Rn]=sn;switch(fn){case 0:for(let En=0,zn=tn.length;En<zn;En+=2)tn[En]+=pn,tn[En+1]=Rn-tn[En+1];break;case 90:for(let En=0,zn=tn.length;En<zn;En+=2){const Bn=tn[En];tn[En]=tn[En+1]+pn,tn[En+1]=Bn+yn}break;case 180:for(let En=0,zn=tn.length;En<zn;En+=2)tn[En]=Cn-tn[En],tn[En+1]+=yn;break;case 270:for(let En=0,zn=tn.length;En<zn;En+=2){const Bn=tn[En];tn[En]=Cn-tn[En+1],tn[En+1]=Rn-Bn}break;default:throw new Error("Invalid rotation")}return tn},jy=function(tn,sn,fn){const[pn,yn,Cn,Rn]=sn;switch(fn){case 0:for(let En=0,zn=tn.length;En<zn;En+=2)tn[En]-=pn,tn[En+1]=Rn-tn[En+1];break;case 90:for(let En=0,zn=tn.length;En<zn;En+=2){const Bn=tn[En];tn[En]=tn[En+1]-yn,tn[En+1]=Bn-pn}break;case 180:for(let En=0,zn=tn.length;En<zn;En+=2)tn[En]=Cn-tn[En],tn[En+1]-=yn;break;case 270:for(let En=0,zn=tn.length;En<zn;En+=2){const Bn=tn[En];tn[En]=Rn-tn[En+1],tn[En+1]=Cn-Bn}break;default:throw new Error("Invalid rotation")}return tn},Ny=function(tn,sn,fn,pn){var zn,Bn;const yn=[],Cn=this.thickness/2,Rn=tn*sn+Cn,En=tn*fn+Cn;for(const rs of this.paths){const cs=[],_s=[];for(let qn=0,vs=rs.length;qn<vs;qn++){const[fs,xs,Vn,On]=rs[qn],Mn=tn*fs[0]+Rn,ds=tn*fs[1]+En,In=tn*xs[0]+Rn,ss=tn*xs[1]+En,bn=tn*Vn[0]+Rn,$n=tn*Vn[1]+En,Un=tn*On[0]+Rn,Kn=tn*On[1]+En;qn===0&&(cs.push(Mn,ds),_s.push(Mn,ds)),cs.push(In,ss,bn,$n,Un,Kn),_s.push(In,ss),qn===vs-1&&_s.push(Un,Kn)}yn.push({bezier:Xn(zn=dn,Gr,S0).call(zn,cs,pn,this.rotation),points:Xn(Bn=dn,Gr,S0).call(Bn,_s,pn,this.rotation)})}return yn},A0=function(){let tn=1/0,sn=-1/0,fn=1/0,pn=-1/0;for(const yn of this.paths)for(const[Cn,Rn,En,zn]of yn){const Bn=rr.Util.bezierBoundingBox(...Cn,...Rn,...En,...zn);tn=Math.min(tn,Bn[0]),fn=Math.min(fn,Bn[1]),sn=Math.max(sn,Bn[2]),pn=Math.max(pn,Bn[3])}return[tn,fn,sn,pn]},Pm=function(){return on(this,fr)?Math.ceil(this.thickness*this.parentScale):0},xp=function(tn=!1){if(this.isEmpty())return;if(!on(this,fr)){Xn(this,Cr,bu).call(this);return}const sn=Xn(this,Cr,A0).call(this),fn=Xn(this,Cr,Pm).call(this);ls(this,cr,Math.max(nr.AnnotationEditor.MIN_SIZE,sn[2]-sn[0])),ls(this,lr,Math.max(nr.AnnotationEditor.MIN_SIZE,sn[3]-sn[1]));const pn=Math.ceil(fn+on(this,cr)*this.scaleFactor),yn=Math.ceil(fn+on(this,lr)*this.scaleFactor),[Cn,Rn]=this.parentDimensions;this.width=pn/Cn,this.height=yn/Rn,this.setAspectRatio(pn,yn);const En=this.translationX,zn=this.translationY;this.translationX=-sn[0],this.translationY=-sn[1],Xn(this,Cr,_p).call(this),Xn(this,Cr,bu).call(this),ls(this,br,pn),ls(this,Sr,yn),this.setDims(pn,yn);const Bn=tn?fn/this.scaleFactor/2:0;this.translate(En-this.translationX-Bn,zn-this.translationY-Bn)},ns(dn,Gr),ho(dn,"_defaultColor",null),ho(dn,"_defaultOpacity",1),ho(dn,"_defaultThickness",1),ho(dn,"_type","ink");let ar=dn;e.InkEditor=ar},(er,e,tr)=>{var ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,Up,zp,Tm,P0,Oy,My,T0,Cm,Dy;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var rr=tr(1),nr=tr(4),ir=tr(6),sr=tr(29);const Nr=class Nr extends nr.AnnotationEditor{constructor(Tr){super({...Tr,name:"stampEditor"});ns(this,yr);ns(this,ar,null);ns(this,lr,null);ns(this,cr,null);ns(this,dr,null);ns(this,hr,null);ns(this,ur,null);ns(this,pr,null);ns(this,mr,null);ns(this,fr,!1);ns(this,gr,!1);ls(this,dr,Tr.bitmapUrl),ls(this,hr,Tr.bitmapFile)}static initialize(Tr){nr.AnnotationEditor.initialize(Tr)}static get supportedTypes(){const Tr=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,rr.shadow)(this,"supportedTypes",Tr.map(_r=>`image/${_r}`))}static get supportedTypesStr(){return(0,rr.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Tr){return this.supportedTypes.includes(Tr)}static paste(Tr,_r){_r.pasteEditor(rr.AnnotationEditorType.STAMP,{bitmapFile:Tr.getAsFile()})}remove(){var Tr,_r;on(this,lr)&&(ls(this,ar,null),this._uiManager.imageManager.deleteId(on(this,lr)),(Tr=on(this,ur))==null||Tr.remove(),ls(this,ur,null),(_r=on(this,pr))==null||_r.disconnect(),ls(this,pr,null)),super.remove()}rebuild(){if(!this.parent){on(this,lr)&&Xn(this,yr,Tm).call(this);return}super.rebuild(),this.div!==null&&(on(this,lr)&&Xn(this,yr,Tm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(on(this,cr)||on(this,ar)||on(this,dr)||on(this,hr))}get isResizable(){return!0}render(){if(this.div)return this.div;let Tr,_r;if(this.width&&(Tr=this.x,_r=this.y),super.render(),this.div.hidden=!0,on(this,ar)?Xn(this,yr,P0).call(this):Xn(this,yr,Tm).call(this),this.width){const[wr,Er]=this.parentDimensions;this.setAt(Tr*wr,_r*Er,this.width*wr,this.height*Er)}return this.div}static deserialize(Tr,_r,wr){if(Tr instanceof sr.StampAnnotationElement)return null;const Er=super.deserialize(Tr,_r,wr),{rect:xr,bitmapUrl:Mr,bitmapId:zr,isSvg:Or,accessibilityData:Br}=Tr;zr&&wr.imageManager.isValidId(zr)?ls(Er,lr,zr):ls(Er,dr,Mr),ls(Er,fr,Or);const[Ur,qr]=Er.pageDimensions;return Er.width=(xr[2]-xr[0])/Ur,Er.height=(xr[3]-xr[1])/qr,Br&&(Er.altTextData=Br),Er}serialize(Tr=!1,_r=null){if(this.isEmpty())return null;const wr={annotationType:rr.AnnotationEditorType.STAMP,bitmapId:on(this,lr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:on(this,fr),structTreeParentId:this._structTreeParentId};if(Tr)return wr.bitmapUrl=Xn(this,yr,Cm).call(this,!0),wr.accessibilityData=this.altTextData,wr;const{decorative:Er,altText:xr}=this.altTextData;if(!Er&&xr&&(wr.accessibilityData={type:"Figure",alt:xr}),_r===null)return wr;_r.stamps||(_r.stamps=new Map);const Mr=on(this,fr)?(wr.rect[2]-wr.rect[0])*(wr.rect[3]-wr.rect[1]):null;if(!_r.stamps.has(on(this,lr)))_r.stamps.set(on(this,lr),{area:Mr,serialized:wr}),wr.bitmap=Xn(this,yr,Cm).call(this,!1);else if(on(this,fr)){const zr=_r.stamps.get(on(this,lr));Mr>zr.area&&(zr.area=Mr,zr.serialized.bitmap.close(),zr.serialized.bitmap=Xn(this,yr,Cm).call(this,!1))}return wr}};ar=new WeakMap,lr=new WeakMap,cr=new WeakMap,dr=new WeakMap,hr=new WeakMap,ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,fr=new WeakMap,gr=new WeakMap,yr=new WeakSet,Up=function(Tr,_r=!1){if(!Tr){this.remove();return}ls(this,ar,Tr.bitmap),_r||(ls(this,lr,Tr.id),ls(this,fr,Tr.isSvg)),Xn(this,yr,P0).call(this)},zp=function(){ls(this,cr,null),this._uiManager.enableWaiting(!1),on(this,ur)&&this.div.focus()},Tm=function(){if(on(this,lr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(on(this,lr)).then(_r=>Xn(this,yr,Up).call(this,_r,!0)).finally(()=>Xn(this,yr,zp).call(this));return}if(on(this,dr)){const _r=on(this,dr);ls(this,dr,null),this._uiManager.enableWaiting(!0),ls(this,cr,this._uiManager.imageManager.getFromUrl(_r).then(wr=>Xn(this,yr,Up).call(this,wr)).finally(()=>Xn(this,yr,zp).call(this)));return}if(on(this,hr)){const _r=on(this,hr);ls(this,hr,null),this._uiManager.enableWaiting(!0),ls(this,cr,this._uiManager.imageManager.getFromFile(_r).then(wr=>Xn(this,yr,Up).call(this,wr)).finally(()=>Xn(this,yr,zp).call(this)));return}const Tr=document.createElement("input");Tr.type="file",Tr.accept=Nr.supportedTypesStr,ls(this,cr,new Promise(_r=>{Tr.addEventListener("change",async()=>{if(!Tr.files||Tr.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const wr=await this._uiManager.imageManager.getFromFile(Tr.files[0]);Xn(this,yr,Up).call(this,wr)}_r()}),Tr.addEventListener("cancel",()=>{this.remove(),_r()})}).finally(()=>Xn(this,yr,zp).call(this))),Tr.click()},P0=function(){const{div:Tr}=this;let{width:_r,height:wr}=on(this,ar);const[Er,xr]=this.pageDimensions,Mr=.75;if(this.width)_r=this.width*Er,wr=this.height*xr;else if(_r>Mr*Er||wr>Mr*xr){const Ur=Math.min(Mr*Er/_r,Mr*xr/wr);_r*=Ur,wr*=Ur}const[zr,Or]=this.parentDimensions;this.setDims(_r*zr/Er,wr*Or/xr),this._uiManager.enableWaiting(!1);const Br=ls(this,ur,document.createElement("canvas"));Tr.append(Br),Tr.hidden=!1,Xn(this,yr,T0).call(this,_r,wr),Xn(this,yr,Dy).call(this),on(this,gr)||(this.parent.addUndoableEditor(this),ls(this,gr,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Oy=function(Tr,_r){var Mr;const[wr,Er]=this.parentDimensions;this.width=Tr/wr,this.height=_r/Er,this.setDims(Tr,_r),(Mr=this._initialOptions)!=null&&Mr.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,on(this,mr)!==null&&clearTimeout(on(this,mr)),ls(this,mr,setTimeout(()=>{ls(this,mr,null),Xn(this,yr,T0).call(this,Tr,_r)},200))},My=function(Tr,_r){const{width:wr,height:Er}=on(this,ar);let xr=wr,Mr=Er,zr=on(this,ar);for(;xr>2*Tr||Mr>2*_r;){const Or=xr,Br=Mr;xr>2*Tr&&(xr=xr>=16384?Math.floor(xr/2)-1:Math.ceil(xr/2)),Mr>2*_r&&(Mr=Mr>=16384?Math.floor(Mr/2)-1:Math.ceil(Mr/2));const Ur=new OffscreenCanvas(xr,Mr);Ur.getContext("2d").drawImage(zr,0,0,Or,Br,0,0,xr,Mr),zr=Ur.transferToImageBitmap()}return zr},T0=function(Tr,_r){Tr=Math.ceil(Tr),_r=Math.ceil(_r);const wr=on(this,ur);if(!wr||wr.width===Tr&&wr.height===_r)return;wr.width=Tr,wr.height=_r;const Er=on(this,fr)?on(this,ar):Xn(this,yr,My).call(this,Tr,_r),xr=wr.getContext("2d");xr.filter=this._uiManager.hcmFilter,xr.drawImage(Er,0,0,Er.width,Er.height,0,0,Tr,_r)},Cm=function(Tr){if(Tr){if(on(this,fr)){const Er=this._uiManager.imageManager.getSvgUrl(on(this,lr));if(Er)return Er}const _r=document.createElement("canvas");return{width:_r.width,height:_r.height}=on(this,ar),_r.getContext("2d").drawImage(on(this,ar),0,0),_r.toDataURL()}if(on(this,fr)){const[_r,wr]=this.pageDimensions,Er=Math.round(this.width*_r*ir.PixelsPerInch.PDF_TO_CSS_UNITS),xr=Math.round(this.height*wr*ir.PixelsPerInch.PDF_TO_CSS_UNITS),Mr=new OffscreenCanvas(Er,xr);return Mr.getContext("2d").drawImage(on(this,ar),0,0,on(this,ar).width,on(this,ar).height,0,0,Er,xr),Mr.transferToImageBitmap()}return structuredClone(on(this,ar))},Dy=function(){ls(this,pr,new ResizeObserver(Tr=>{const _r=Tr[0].contentRect;_r.width&&_r.height&&Xn(this,yr,Oy).call(this,_r.width,_r.height)})),on(this,pr).observe(this.div)},ho(Nr,"_type","stamp");let or=Nr;e.StampEditor=or}],__webpack_module_cache__={};function __w_pdfjs_require__(er){var e=__webpack_module_cache__[er];if(e!==void 0)return e.exports;var tr=__webpack_module_cache__[er]={exports:{}};return __webpack_modules__[er](tr,tr.exports,__w_pdfjs_require__),tr.exports}var __webpack_exports__={};return(()=>{var er=__webpack_exports__;Object.defineProperty(er,"__esModule",{value:!0}),Object.defineProperty(er,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(er,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ir.AnnotationEditorLayer}}),Object.defineProperty(er,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(er,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(er,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return sr.AnnotationEditorUIManager}}),Object.defineProperty(er,"AnnotationLayer",{enumerable:!0,get:function(){return or.AnnotationLayer}}),Object.defineProperty(er,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(er,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(er,"DOMSVGFactory",{enumerable:!0,get:function(){return rr.DOMSVGFactory}}),Object.defineProperty(er,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(er,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ar.GlobalWorkerOptions}}),Object.defineProperty(er,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(er,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(er,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(er,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(er,"PDFDataRangeTransport",{enumerable:!0,get:function(){return tr.PDFDataRangeTransport}}),Object.defineProperty(er,"PDFDateString",{enumerable:!0,get:function(){return rr.PDFDateString}}),Object.defineProperty(er,"PDFWorker",{enumerable:!0,get:function(){return tr.PDFWorker}}),Object.defineProperty(er,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(er,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(er,"PixelsPerInch",{enumerable:!0,get:function(){return rr.PixelsPerInch}}),Object.defineProperty(er,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(er,"RenderingCancelledException",{enumerable:!0,get:function(){return rr.RenderingCancelledException}}),Object.defineProperty(er,"SVGGraphics",{enumerable:!0,get:function(){return tr.SVGGraphics}}),Object.defineProperty(er,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(er,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(er,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(er,"XfaLayer",{enumerable:!0,get:function(){return lr.XfaLayer}}),Object.defineProperty(er,"build",{enumerable:!0,get:function(){return tr.build}}),Object.defineProperty(er,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(er,"getDocument",{enumerable:!0,get:function(){return tr.getDocument}}),Object.defineProperty(er,"getFilenameFromUrl",{enumerable:!0,get:function(){return rr.getFilenameFromUrl}}),Object.defineProperty(er,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return rr.getPdfFilenameFromUrl}}),Object.defineProperty(er,"getXfaPageViewport",{enumerable:!0,get:function(){return rr.getXfaPageViewport}}),Object.defineProperty(er,"isDataScheme",{enumerable:!0,get:function(){return rr.isDataScheme}}),Object.defineProperty(er,"isPdfFile",{enumerable:!0,get:function(){return rr.isPdfFile}}),Object.defineProperty(er,"loadScript",{enumerable:!0,get:function(){return rr.loadScript}}),Object.defineProperty(er,"noContextMenu",{enumerable:!0,get:function(){return rr.noContextMenu}}),Object.defineProperty(er,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(er,"renderTextLayer",{enumerable:!0,get:function(){return nr.renderTextLayer}}),Object.defineProperty(er,"setLayerDimensions",{enumerable:!0,get:function(){return rr.setLayerDimensions}}),Object.defineProperty(er,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(er,"updateTextLayer",{enumerable:!0,get:function(){return nr.updateTextLayer}}),Object.defineProperty(er,"version",{enumerable:!0,get:function(){return tr.version}});var e=__w_pdfjs_require__(1),tr=__w_pdfjs_require__(2),rr=__w_pdfjs_require__(6),nr=__w_pdfjs_require__(26),ir=__w_pdfjs_require__(27),sr=__w_pdfjs_require__(5),or=__w_pdfjs_require__(29),ar=__w_pdfjs_require__(14),lr=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function usePDFPreloader(er,e=3e3){const[tr,rr]=reactExports.useState({pdf:null,loading:!1,loaded:!1,error:null,totalPages:0,textContent:new Map}),nr=reactExports.useRef(!1),ir=reactExports.useRef(null),sr=reactExports.useCallback(async ar=>{const lr=new Map;for(let cr=1;cr<=ar.numPages;cr++)try{const ur=(await(await ar.getPage(cr)).getTextContent()).items.filter(fr=>"str"in fr&&"transform"in fr).map(fr=>({str:fr.str,transform:fr.transform}));let pr="",mr=-1;for(const fr of ur){const gr=fr.transform[4];mr!==-1&&gr-mr>10&&(pr+=" "),pr+=fr.str,mr=gr+fr.str.length*5}lr.set(cr,{text:pr,items:ur})}catch(dr){console.error(`Error precargando texto de pgina ${cr}:`,dr)}return lr},[]),or=reactExports.useCallback(async ar=>{if(!(tr.loaded||tr.loading)){rr(lr=>({...lr,loading:!0,error:null}));try{console.log("[PDFPreloader] Iniciando precarga del manual...");const lr=performance.now(),cr=await pdfExports.getDocument(ar).promise,dr=performance.now()-lr;console.log(`[PDFPreloader] PDF cargado en ${dr.toFixed(0)}ms (${cr.numPages} pginas)`);const hr=await sr(cr);console.log(`[PDFPreloader] Texto precargado para ${hr.size} pginas`),rr({pdf:cr,loading:!1,loaded:!0,error:null,totalPages:cr.numPages,textContent:hr})}catch(lr){console.error("[PDFPreloader] Error al precargar PDF:",lr),rr(cr=>({...cr,loading:!1,error:"Error al precargar el manual PDF"}))}}},[tr.loaded,tr.loading,sr]);return reactExports.useEffect(()=>{if(!(!er||nr.current))return ir.current=setTimeout(()=>{nr.current=!0,or(er)},e),()=>{ir.current&&clearTimeout(ir.current)}},[er,e,or]),{...tr,preloadPDF:or,isReady:tr.loaded&&!tr.error}}let globalPDFCache=null;function getGlobalPDFCache(){return globalPDFCache}function setGlobalPDFCache(er,e,tr){globalPDFCache={url:er,pdf:e,textContent:tr}}const APP_VERSION="2.9.0",DEFAULT_COLUMNS=[{key:"codigoSAP",label:"Cdigo SAP",visible:!0,required:!0,group:"general",order:0},{key:"codigoBaader",label:"Nmero Parte Manual",visible:!0,group:"general",order:1},{key:"textoBreve",label:"Descripcin SAP",visible:!0,group:"general",order:2},{key:"descripcion",label:"Descripcin Extendida",visible:!0,group:"general",order:3},{key:"nombreManual",label:"Nombre Manual",visible:!0,group:"general",order:4},{key:"tags",label:"Tags",visible:!0,group:"general",order:5},{key:"cantidadSolicitada",label:"Cantidad Solicitada",visible:!0,group:"solicitada",order:6},{key:"totalSolicitadoUSD",label:"Total Solicitado USD",visible:!0,group:"solicitada",order:7},{key:"cantidadStockBodega",label:"Stock en Bodega",visible:!0,group:"stock",order:8},{key:"totalStockUSD",label:"Total Stock USD",visible:!0,group:"stock",order:9},{key:"valorUnitario",label:"Valor Unitario",visible:!0,group:"general",order:10},{key:"totalUSD",label:"Total General USD",visible:!0,group:"general",order:11},{key:"acciones",label:"Acciones",visible:!0,required:!0,group:"general",order:12}],STORAGE_KEY="table_columns_config";function useTableColumns(){const[er,e]=reactExports.useState(()=>{try{const lr=localStorage.getItem(STORAGE_KEY);if(lr){const cr=JSON.parse(lr);return DEFAULT_COLUMNS.map(dr=>{const hr=cr.find(ur=>ur.key===dr.key);return hr?{...dr,visible:hr.visible}:dr})}}catch(lr){console.error("Error loading column config:",lr)}return DEFAULT_COLUMNS});reactExports.useEffect(()=>{try{localStorage.setItem(STORAGE_KEY,JSON.stringify(er))}catch(lr){console.error("Error saving column config:",lr)}},[er]);const tr=reactExports.useCallback(lr=>{e(cr=>cr.map(dr=>dr.key===lr&&!dr.required?{...dr,visible:!dr.visible}:dr))},[]),rr=reactExports.useCallback(()=>{e(lr=>lr.map(cr=>({...cr,visible:!0})))},[]),nr=reactExports.useCallback(()=>{e(DEFAULT_COLUMNS)},[]),ir=reactExports.useCallback(lr=>{const cr=er.find(dr=>dr.key===lr);return cr?cr.visible:!0},[er]),sr=reactExports.useCallback((lr,cr)=>{e(dr=>{const hr=[...dr],[ur]=hr.splice(lr,1);return hr.splice(cr,0,ur),hr.map((pr,mr)=>({...pr,order:mr}))})},[]),or=er.filter(lr=>lr.visible),ar=reactExports.useCallback(lr=>er.find(cr=>cr.key===lr),[er]);return{columns:er,visibleColumns:or,toggleColumn:tr,showAllColumns:rr,resetColumns:nr,isColumnVisible:ir,reorderColumns:sr,getColumn:ar}}const ITEMS_PER_PAGE=15;function HistorialCampoModal({isOpen:er,onClose:e,campo:tr,historial:rr}){if(!er)return null;const nr=rr.filter(ir=>ir.campo===tr);return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:ir=>ir.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Historial de ",tr==="cantidadSolicitada"?"Cantidad Solicitada":"Stock Bodega"]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-5 max-h-96 overflow-y-auto",children:nr.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"Sin cambios registrados"}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:nr.map((ir,sr)=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600",children:new Date(ir.fecha).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:new Date(ir.fecha).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx("span",{className:"text-red-500 line-through",children:ir.valorAnterior??0}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:""}),jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold",children:ir.valorNuevo??0})]})]},sr))})})]})})}function RepuestosTable({repuestos:er,selectedRepuesto:e,onSelect:tr,onEdit:rr,onDelete:nr,onViewManual:ir,onViewPhotos:sr,onViewHistory:or,onAddNew:ar,onMarkInManual:lr,getHistorial:cr,onManageTags:dr,onFilteredChange:hr,compactMode:ur=!1}){const[pr,mr]=reactExports.useState(""),[fr,gr]=reactExports.useState(1),[yr,vr]=reactExports.useState(null),[br,Sr]=reactExports.useState([]),[jr,Cr]=reactExports.useState("OR"),[Pr,Rr]=reactExports.useState(!1),[Lr,Ir]=reactExports.useState(!1),[Nr,Ar]=reactExports.useState(!1),[Dr,Tr]=reactExports.useState(null),[_r,wr]=reactExports.useState(""),[Er,xr]=reactExports.useState(""),[Mr,zr]=reactExports.useState(!1),[Or,Br]=reactExports.useState("codigoSAP"),[Ur,qr]=reactExports.useState("asc"),{columns:Vr,toggleColumn:Gr,resetColumns:$r,isColumnVisible:Fr,reorderColumns:Kr,getColumn:Zr}=useTableColumns(),nn=["nombreManual","tags","totalSolicitadoUSD","totalStockUSD","valorUnitario","totalUSD"],Qr=In=>ur&&nn.includes(In)?!1:Fr(In),[cn,dn]=reactExports.useState(null),[en,an]=reactExports.useState(null),[tn,sn]=reactExports.useState({isOpen:!1,campo:"",historial:[]}),fn=In=>{const ss=Zr(In),bn="px-4 py-4 font-semibold text-xs uppercase tracking-wide transition-colors cursor-move select-none border-r border-gray-200 dark:border-gray-600 last:border-r-0";if(!ss)return bn+" text-gray-600 dark:text-gray-300";let $n="";return ss.group==="solicitada"?$n="bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 hover:bg-blue-200 dark:hover:bg-blue-800/60 border-blue-200 dark:border-blue-700":ss.group==="stock"?$n="bg-green-100 dark:bg-green-900/50 text-green-900 dark:text-green-100 hover:bg-green-200 dark:hover:bg-green-800/60 border-green-200 dark:border-green-700":$n="bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-600",cn===In&&($n+=" opacity-50"),en===In&&($n+=" ring-2 ring-primary-500"),`${bn} ${$n}`},pn=In=>{dn(In)},yn=(In,ss)=>{In.preventDefault(),an(ss)},Cn=(In,ss)=>{if(In.preventDefault(),!cn||cn===ss){dn(null),an(null);return}const bn=Vr.findIndex(Un=>Un.key===cn),$n=Vr.findIndex(Un=>Un.key===ss);bn!==-1&&$n!==-1&&Kr(bn,$n),dn(null),an(null)},Rn=()=>{dn(null),an(null)},En=reactExports.useMemo(()=>{let In=er;if(pr.trim()){const $n=pr.toLowerCase();In=In.filter(Un=>{var Kn,hs,ps,An,xn;return((Kn=Un.codigoSAP)==null?void 0:Kn.toLowerCase().includes($n))||((hs=Un.textoBreve)==null?void 0:hs.toLowerCase().includes($n))||((ps=Un.descripcion)==null?void 0:ps.toLowerCase().includes($n))||((An=Un.nombreManual)==null?void 0:An.toLowerCase().includes($n))||((xn=Un.codigoBaader)==null?void 0:xn.toLowerCase().includes($n))})}br.length>0&&(jr==="AND"?In=In.filter($n=>br.every(Un=>{var Kn;return(Kn=$n.tags)==null?void 0:Kn.includes(Un)})):In=In.filter($n=>br.some(Un=>{var Kn;return(Kn=$n.tags)==null?void 0:Kn.includes(Un)}))),Nr&&(In=In.filter($n=>!$n.cantidadStockBodega||$n.cantidadStockBodega===0)),Dr!==null&&(In=In.filter($n=>{const Un=$n.vinculosManual&&$n.vinculosManual.length>0;return Dr?Un:!Un}));const ss=parseFloat(_r)||0,bn=parseFloat(Er)||1/0;return(ss>0||bn<1/0)&&(In=In.filter($n=>{const Un=$n.total||0;return Un>=ss&&Un<=bn})),In=[...In].sort(($n,Un)=>{let Kn="",hs="";switch(Or){case"codigoSAP":Kn=$n.codigoSAP||"",hs=Un.codigoSAP||"";break;case"codigoBaader":Kn=$n.codigoBaader||"",hs=Un.codigoBaader||"";break;case"textoBreve":Kn=$n.textoBreve||"",hs=Un.textoBreve||"";break;case"descripcion":Kn=$n.descripcion||"",hs=Un.descripcion||"";break;case"nombreManual":Kn=$n.nombreManual||"",hs=Un.nombreManual||"";break;case"cantidadSolicitada":Kn=$n.cantidadSolicitada||0,hs=Un.cantidadSolicitada||0;break;case"cantidadStockBodega":Kn=$n.cantidadStockBodega||0,hs=Un.cantidadStockBodega||0;break;case"valorUnitario":Kn=$n.valorUnitario||0,hs=Un.valorUnitario||0;break;case"totalUSD":Kn=$n.total||0,hs=Un.total||0;break;default:Kn=$n.codigoSAP||"",hs=Un.codigoSAP||""}if(typeof Kn=="string"&&typeof hs=="string"){const ps=Kn.localeCompare(hs,"es",{numeric:!0});return Ur==="asc"?ps:-ps}else{const ps=Kn-hs;return Ur==="asc"?ps:-ps}}),In},[er,pr,br,jr,Nr,Dr,_r,Er,Or,Ur]),zn=In=>{Or===In?qr(Ur==="asc"?"desc":"asc"):(Br(In),qr("asc"))},Bn=({column:In})=>Or!==In?jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-3 h-3 text-gray-300"}):Ur==="asc"?jsxRuntimeExports.jsx(ArrowUp,{className:"w-3 h-3 text-primary-600"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-3 h-3 text-primary-600"}),rs=Math.ceil(En.length/ITEMS_PER_PAGE),cs=(fr-1)*ITEMS_PER_PAGE,_s=En.slice(cs,cs+ITEMS_PER_PAGE),qn=reactExports.useMemo(()=>er.length===0?null:er.reduce((In,ss)=>{const bn=In.updatedAt instanceof Date?In.updatedAt:new Date(In.updatedAt);return(ss.updatedAt instanceof Date?ss.updatedAt:new Date(ss.updatedAt))>bn?ss:In}),[er]),vs=()=>{if(!qn)return;const In=En.findIndex(bn=>bn.id===qn.id);if(In===-1)return;const ss=Math.floor(In/ITEMS_PER_PAGE)+1;gr(ss),tr(qn),setTimeout(()=>{const bn=document.getElementById(`repuesto-${qn.id}`);bn==null||bn.scrollIntoView({behavior:"smooth",block:"center"})},100)};reactExports.useEffect(()=>{gr(1)},[pr,br,jr,Nr,Dr,_r,Er,Or,Ur]),reactExports.useEffect(()=>{hr==null||hr(En)},[En,hr]);const fs=async(In,ss)=>{try{await navigator.clipboard.writeText(In),vr(ss),setTimeout(()=>vr(null),2e3)}catch(bn){console.error("Error al copiar:",bn)}},xs=async(In,ss)=>{if(cr)try{const bn=await cr(In.id);sn({isOpen:!0,campo:ss,historial:bn})}catch(bn){console.error("Error al cargar historial:",bn)}},Vn=er.filter(In=>!In.vinculosManual||In.vinculosManual.length===0).length,On=reactExports.useMemo(()=>{const In=new Set;return er.forEach(ss=>{var bn;return(bn=ss.tags)==null?void 0:bn.forEach($n=>In.add($n))}),Array.from(In)},[er]),Mn=reactExports.useMemo(()=>{const In=En.reduce((Kn,hs)=>Kn+(hs.cantidadSolicitada||0),0),ss=En.reduce((Kn,hs)=>Kn+(hs.cantidadStockBodega||0),0),bn=En.reduce((Kn,hs)=>Kn+hs.valorUnitario*hs.cantidadSolicitada,0),$n=En.reduce((Kn,hs)=>Kn+hs.valorUnitario*(hs.cantidadStockBodega||0),0),Un=bn+$n;return{totalSolicitado:In,totalBodega:ss,totalSolicitadoUSD:bn,totalStockUSD:$n,totalUSD:Un}},[En]),ds=In=>{if(!Qr(In))return null;const ss=Zr(In);if(!ss)return null;const bn=["codigoSAP","codigoBaader","textoBreve","descripcion","nombreManual","cantidadSolicitada","cantidadStockBodega","valorUnitario","totalUSD"].includes(In),$n=["cantidadSolicitada","cantidadStockBodega","acciones"].includes(In)?"center":["valorUnitario","totalUSD","totalSolicitadoUSD","totalStockUSD"].includes(In)?"right":"left";return jsxRuntimeExports.jsx("th",{draggable:!0,onDragStart:()=>pn(In),onDragOver:Un=>yn(Un,In),onDrop:Un=>Cn(Un,In),onDragEnd:Rn,className:`${fn(In)} text-${$n}`,onClick:bn?()=>zn(In):void 0,children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${$n==="center"?"justify-center":$n==="right"?"justify-end":""}`,children:[ss.label,bn&&jsxRuntimeExports.jsx(Bn,{column:In})]})},In)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{className:"w-6 h-6 text-primary-600"}),"Repuestos",jsxRuntimeExports.jsxs("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:["(",En.length," de ",er.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[qn&&jsxRuntimeExports.jsxs("button",{onClick:vs,className:"flex items-center gap-2 px-3 py-2.5 border border-orange-300 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors",title:`Ir a ${qn.codigoSAP}`,children:[jsxRuntimeExports.jsx(History,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"ltimo editado"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Rr(!Pr),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${br.length>0?"border-primary-500 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"}`,children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm",children:br.length>0?`${br.length} tag${br.length>1?"s":""}`:"Filtrar"}),br.length>0&&jsxRuntimeExports.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-200 dark:bg-primary-800 text-primary-800 dark:text-primary-200 rounded text-xs font-medium",children:jr})]}),Pr&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-20",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Modo de filtrado"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Cr("OR"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${jr==="OR"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra repuestos que tengan CUALQUIERA de los tags",children:"OR"}),jsxRuntimeExports.jsx("button",{onClick:()=>Cr("AND"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${jr==="AND"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra solo repuestos que tengan TODOS los tags",children:"AND"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:jr==="OR"?"Muestra si tiene cualquier tag seleccionado":"Muestra solo si tiene todos los tags"})]}),jsxRuntimeExports.jsx("div",{className:"p-2 border-b border-gray-100",children:jsxRuntimeExports.jsxs("button",{onClick:()=>{Sr([])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center justify-between ${br.length===0?"bg-gray-50 text-gray-400":"text-gray-600 hover:bg-gray-50"}`,disabled:br.length===0,children:[jsxRuntimeExports.jsx("span",{children:"Todos los repuestos"}),br.length>0&&jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-400"})]})}),jsxRuntimeExports.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:On.map(In=>{const ss=br.includes(In),bn=er.filter($n=>{var Un;return(Un=$n.tags)==null?void 0:Un.includes(In)}).length;return jsxRuntimeExports.jsxs("button",{onClick:()=>{Sr(ss?br.filter($n=>$n!==In):[...br,In])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${ss?"bg-primary-50 text-primary-700":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ss?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:ss&&jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"flex-1 truncate",children:In}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["(",bn,")"]})]},In)})}),dr&&jsxRuntimeExports.jsx("div",{className:"p-2 border-t border-gray-100",children:jsxRuntimeExports.jsxs("button",{onClick:()=>{Rr(!1),dr()},className:"w-full px-3 py-2 text-left text-sm text-primary-600 hover:bg-primary-50 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings,{className:"w-3 h-3"}),"Gestionar Tags"]})})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ar(!Nr),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${Nr?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:bg-gray-50 text-gray-600"}`,title:Nr?"Mostrando sin stock":"Filtrar sin stock",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm",children:"Sin Stock"})]}),jsxRuntimeExports.jsxs("div",{className:"relative hidden lg:block",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ir(!Lr),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${Lr?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Configurar columnas",children:jsxRuntimeExports.jsx(Columns2,{className:"w-4 h-4"})}),Lr&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Columnas visibles"}),jsxRuntimeExports.jsx("button",{onClick:$r,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Restaurar por defecto",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:Vr.map(In=>jsxRuntimeExports.jsxs("button",{onClick:()=>!In.required&&Gr(In.key),className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${In.required?"text-gray-400 cursor-not-allowed":In.visible?"text-gray-700 hover:bg-gray-50":"text-gray-400 hover:bg-gray-50"}`,disabled:In.required,children:[In.visible?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:In.visible?"":"line-through",children:In.label}),In.required&&jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:"requerido"})]},In.key))})]})]}),jsxRuntimeExports.jsxs("button",{onClick:ar,className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white text-base font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300 dark:border-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Solicitado"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Mn.totalSolicitado.toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"En Bodega"}),jsxRuntimeExports.jsx("div",{className:`text-lg font-bold ${Mn.totalBodega>0?"text-green-600 dark:text-green-400":"text-gray-400"}`,children:Mn.totalBodega.toLocaleString()})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ar(!Nr),className:`text-center cursor-pointer rounded-lg px-2 py-1 transition-colors ${Nr?"bg-red-100 dark:bg-red-900/50":"hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:"Click para filtrar",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-red-500 dark:text-red-400 uppercase",children:"Sin Stock"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:En.filter(In=>!In.cantidadStockBodega||In.cantidadStockBodega===0).length})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300 dark:border-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-500 dark:text-blue-400 uppercase",children:"Total Solicitado"}),jsxRuntimeExports.jsxs("div",{className:"text-base font-bold text-blue-700 dark:text-blue-300",children:["$",Mn.totalSolicitadoUSD.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-green-500 dark:text-green-400 uppercase",children:"Total Stock"}),jsxRuntimeExports.jsxs("div",{className:"text-base font-bold text-green-700 dark:text-green-300",children:["$",Mn.totalStockUSD.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-purple-500 dark:text-purple-400 uppercase font-semibold",children:"Total General USD"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-purple-700 dark:text-purple-300",children:["$",Mn.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:pr,onChange:In=>mr(In.target.value),placeholder:"Buscar por cdigo SAP, Baader o descripcin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>zr(!Mr),className:`flex items-center gap-2 px-4 py-3 border rounded-xl transition-colors ${Mr||Dr!==null||_r||Er?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Filtros avanzados",children:jsxRuntimeExports.jsx(SlidersHorizontal,{className:"w-5 h-5"})})]}),Mr&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SlidersHorizontal,{className:"w-4 h-4"}),"Filtros Avanzados"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Tr(null),wr(""),xr("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar filtros"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(BookMarked,{className:"w-3 h-3 inline mr-1"}),"Marcador en Manual"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Tr(null),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Dr===null?"bg-primary-100 border-primary-500 text-primary-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tr(!0),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Dr===!0?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Con marcador"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tr(!1),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Dr===!1?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Sin marcador"})]})]}),jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-3 h-3 inline mr-1"}),"Rango de Precio (USD)"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:_r,onChange:In=>wr(In.target.value),placeholder:"Mnimo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"-"}),jsxRuntimeExports.jsx("input",{type:"number",value:Er,onChange:In=>xr(In.target.value),placeholder:"Mximo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})]}),br.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Filtrado por (",jr,"):"]}),br.map(In=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),In,jsxRuntimeExports.jsx("button",{onClick:()=>Sr(br.filter(ss=>ss!==In)),className:"ml-1 hover:text-primary-900",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]},In)),jsxRuntimeExports.jsx("button",{onClick:()=>Sr([]),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Limpiar filtros"})]}),Vn>0&&br.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:[Vn," repuestos sin ubicacin en el manual"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto hidden lg:block",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[Qr("codigoSAP")&&ds("codigoSAP"),Qr("codigoBaader")&&ds("codigoBaader"),Qr("textoBreve")&&ds("textoBreve"),Qr("descripcion")&&ds("descripcion"),Qr("nombreManual")&&ds("nombreManual"),Qr("tags")&&ds("tags"),Qr("cantidadSolicitada")&&ds("cantidadSolicitada"),Qr("totalSolicitadoUSD")&&ds("totalSolicitadoUSD"),Qr("cantidadStockBodega")&&ds("cantidadStockBodega"),Qr("totalStockUSD")&&ds("totalStockUSD"),Qr("valorUnitario")&&ds("valorUnitario"),Qr("totalUSD")&&ds("totalUSD"),Qr("acciones")&&ds("acciones")]})}),jsxRuntimeExports.jsxs("tbody",{children:[_s.map(In=>{var $n,Un;const ss=In.vinculosManual&&In.vinculosManual.length>0,bn=(qn==null?void 0:qn.id)===In.id;return jsxRuntimeExports.jsxs("tr",{id:`repuesto-${In.id}`,onClick:()=>tr((e==null?void 0:e.id)===In.id?null:In),className:`
                    border-b cursor-pointer transition-colors group
                    ${bn?"bg-orange-100/50 dark:bg-orange-900/30 border-orange-300 border-2":(e==null?void 0:e.id)===In.id?"bg-primary-50 dark:bg-primary-900/30 border-primary-200 dark:border-primary-700":"border-gray-100 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}
                  `,children:[Qr("codigoSAP")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-sm bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-gray-800",children:In.codigoSAP}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),fs(In.codigoSAP,`sap-${In.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo SAP",children:yr===`sap-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})}),Qr("codigoBaader")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:In.codigoBaader}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),fs(In.codigoBaader,`baader-${In.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo Baader",children:yr===`baader-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})}),Qr("textoBreve")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-800 truncate max-w-[150px]",title:In.textoBreve,children:In.textoBreve}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),fs(In.textoBreve,`sap-${In.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:yr===`sap-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]})}),Qr("descripcion")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[In.descripcion?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:In.descripcion,children:In.descripcion}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),fs(In.descripcion,`desc-${In.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:yr===`desc-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"}),!ss&&lr&&jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),lr(In)},className:"flex-shrink-0 p-1 rounded bg-amber-100 text-amber-600 hover:bg-amber-200 transition-colors",title:"Marcar ubicacin en manual",children:jsxRuntimeExports.jsx(MapPin,{className:"w-3 h-3"})})]})})}),Qr("nombreManual")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:In.nombreManual?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:In.nombreManual,children:In.nombreManual}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),fs(In.nombreManual||"",`manual-${In.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:yr===`manual-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),Qr("tags")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:In.tags&&In.tags.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:In.tags.map(Kn=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-primary-50 text-primary-700 rounded-md text-xs font-medium",title:Kn,children:Kn.length>20?Kn.substring(0,20)+"...":Kn},Kn))}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),Qr("cantidadSolicitada")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),xs(In,"cantidadSolicitada")},className:"text-base font-semibold px-3 py-1.5 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"Ver historial de cambios",children:In.cantidadSolicitada})}),Qr("totalSolicitadoUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["$",(In.valorUnitario*In.cantidadSolicitada).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("cantidadStockBodega")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),xs(In,"cantidadStockBodega")},className:`
                        px-3 py-1.5 rounded-lg text-sm font-semibold transition-colors
                        ${In.cantidadStockBodega>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}
                      `,title:"Ver historial de cambios",children:In.cantidadStockBodega})}),Qr("totalStockUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",(In.valorUnitario*(In.cantidadStockBodega||0)).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("valorUnitario")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-base text-gray-600 font-medium",children:["$",(($n=In.valorUnitario)==null?void 0:$n.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),Qr("totalUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-base font-bold text-gray-800",children:["$",(In.valorUnitario*In.cantidadSolicitada+In.valorUnitario*(In.cantidadStockBodega||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("acciones")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),ir(In)},className:`p-2 rounded-lg transition-colors ${ss?"hover:bg-primary-100 text-primary-600":"hover:bg-gray-100 text-gray-400"}`,title:ss?"Ver en manual":"Ir al manual",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),sr(In)},className:`p-2 rounded-lg transition-colors ${((Un=In.fotosReales)==null?void 0:Un.length)>0?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-300"}`,title:"Fotos reales",children:jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),or(In)},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors",title:"Ver historial completo",children:jsxRuntimeExports.jsx(History,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),rr(In)},className:"p-2 rounded-lg hover:bg-blue-50 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:jsxRuntimeExports.jsx(Pen,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),nr(In)},className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]})})]},In.id)}),_s.length>0&&jsxRuntimeExports.jsxs("tr",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-t-2 border-purple-300 font-bold",children:[Qr("codigoSAP")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-left",children:jsxRuntimeExports.jsx("span",{className:"text-purple-700 font-bold",children:"TOTALES"})}),Qr("codigoBaader")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("textoBreve")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("descripcion")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("nombreManual")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("tags")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("cantidadSolicitada")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-4 py-2 bg-blue-100 text-blue-800 rounded-lg font-bold",children:Mn.totalSolicitado})}),Qr("totalSolicitadoUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-blue-700 font-bold",title:" (Valor Unitario  Cantidad Solicitada)",children:["$",Mn.totalSolicitadoUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("cantidadStockBodega")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-4 py-2 bg-green-100 text-green-800 rounded-lg font-bold",children:Mn.totalBodega})}),Qr("totalStockUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-green-700 font-bold",title:" (Valor Unitario  Stock en Bodega)",children:["$",Mn.totalStockUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("valorUnitario")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Qr("totalUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:jsxRuntimeExports.jsxs("span",{className:"text-purple-700 font-bold text-lg",title:"Total Solicitado + Total Stock",children:["$",Mn.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),Qr("acciones")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"})]})]})]}),En.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[jsxRuntimeExports.jsx(Package,{className:"w-16 h-16 mb-4 opacity-40"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),pr&&jsxRuntimeExports.jsx("button",{onClick:()=>mr(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto lg:hidden",children:[jsxRuntimeExports.jsx("div",{className:"p-3 space-y-3",children:_s.map(In=>{var bn,$n;const ss=In.vinculosManual&&In.vinculosManual.length>0;return jsxRuntimeExports.jsxs("div",{onClick:()=>tr((e==null?void 0:e.id)===In.id?null:In),className:`
                  bg-white rounded-xl border-2 p-4 cursor-pointer transition-all
                  ${(e==null?void 0:e.id)===In.id?"border-primary-500 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow"}
                `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500",children:"SAP:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-0.5 rounded font-semibold text-gray-800",children:In.codigoSAP}),jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),fs(In.codigoSAP,`sap-m-${In.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:yr===`sap-m-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3.5 h-3.5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Baader:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:In.codigoBaader}),jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),fs(In.codigoBaader,`baader-m-${In.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:yr===`baader-m-${In.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3.5 h-3.5"})})]})]}),!ss&&lr&&jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),lr(In)},className:"p-2 rounded-lg bg-amber-100 text-amber-600",title:"Marcar en manual",children:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-3",children:[In.textoBreve&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"SAP:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 line-clamp-1 flex-1",children:In.textoBreve})]}),In.descripcion&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Extendida:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 line-clamp-2 flex-1",children:In.descripcion})]}),In.nombreManual&&jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Manual:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 line-clamp-1 flex-1",children:In.nombreManual})]}),!In.textoBreve&&!In.descripcion&&!In.nombreManual&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 italic",children:"Sin descripcin"})]}),In.tags&&In.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:In.tags.map(Un=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-xs font-medium",children:Un},Un))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 block",children:"Cant. Solicitada"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-gray-800",children:In.cantidadSolicitada})]}),jsxRuntimeExports.jsxs("div",{className:`rounded-lg p-2 ${In.cantidadStockBodega>0?"bg-green-50":"bg-gray-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 block",children:"Stock Bodega"}),jsxRuntimeExports.jsx("span",{className:`text-lg font-bold ${In.cantidadStockBodega>0?"text-green-700":"text-gray-500"}`,children:In.cantidadStockBodega})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 block",children:"V. Unitario"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["$",((bn=In.valorUnitario)==null?void 0:bn.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-50 rounded-lg p-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 block",children:"Total General USD"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold text-primary-700",children:["$",(In.valorUnitario*In.cantidadSolicitada+In.valorUnitario*(In.cantidadStockBodega||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),ir(In)},className:`p-2 rounded-lg ${ss?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,title:"Ver en manual",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),sr(In)},className:`p-2 rounded-lg ${(($n=In.fotosReales)==null?void 0:$n.length)>0?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-300"}`,title:"Fotos",children:jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),or(In)},className:"p-2 rounded-lg bg-gray-100 text-gray-500",title:"Historial",children:jsxRuntimeExports.jsx(History,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),rr(In)},className:"p-2 rounded-lg bg-blue-50 text-blue-600",title:"Editar",children:jsxRuntimeExports.jsx(Pen,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Un=>{Un.stopPropagation(),nr(In)},className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]})]})]},In.id)})}),En.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[jsxRuntimeExports.jsx(Package,{className:"w-16 h-16 mb-4 opacity-40"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),pr&&jsxRuntimeExports.jsx("button",{onClick:()=>mr(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),rs>1&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Mostrando ",cs+1,"-",Math.min(cs+ITEMS_PER_PAGE,En.length)," de ",En.length]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>gr(In=>Math.max(1,In-1)),disabled:fr===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,rs)},(In,ss)=>{let bn;return rs<=5||fr<=3?bn=ss+1:fr>=rs-2?bn=rs-4+ss:bn=fr-2+ss,jsxRuntimeExports.jsx("button",{onClick:()=>gr(bn),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${fr===bn?"bg-primary-600 text-white":"hover:bg-white border border-gray-300"}`,children:bn},bn)})}),jsxRuntimeExports.jsx("button",{onClick:()=>gr(In=>Math.min(rs,In+1)),disabled:fr===rs,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx(HistorialCampoModal,{isOpen:tn.isOpen,onClose:()=>sn({...tn,isOpen:!1}),campo:tn.campo,historial:tn.historial})]})}const DEFAULT_TAGS=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo","Repuestos varios","Preventivo mensual"],SETTINGS_DOC="settings/tags";function useTags(){const[er,e]=reactExports.useState(DEFAULT_TAGS),[tr,rr]=reactExports.useState(!0),[nr,ir]=reactExports.useState(null);reactExports.useEffect(()=>{const dr=doc(db,SETTINGS_DOC),hr=onSnapshot(dr,ur=>{if(ur.exists()){const pr=ur.data();e(pr.tags||DEFAULT_TAGS)}else setDoc(dr,{tags:DEFAULT_TAGS,updatedAt:new Date}).catch(console.error),e(DEFAULT_TAGS);rr(!1)},ur=>{console.error("Error al obtener tags:",ur),ir(ur.message),rr(!1),e(DEFAULT_TAGS)});return()=>hr()},[]);const sr=reactExports.useCallback(async dr=>{try{const hr=doc(db,SETTINGS_DOC);return await setDoc(hr,{tags:dr,updatedAt:new Date}),!0}catch(hr){return console.error("Error al guardar tags:",hr),ir(hr.message),!1}},[]),or=reactExports.useCallback(async dr=>{const hr=dr.trim();if(!hr||er.includes(hr))return!1;const ur=[...er,hr].sort((pr,mr)=>pr.localeCompare(mr,"es",{sensitivity:"base"}));return await sr(ur)},[er,sr]),ar=reactExports.useCallback(async dr=>{const hr=er.filter(ur=>ur!==dr);return await sr(hr)},[er,sr]),lr=reactExports.useCallback(async(dr,hr)=>{const ur=hr.trim();if(!ur||er.includes(ur)&&ur!==dr)return!1;const pr=er.map(mr=>mr===dr?ur:mr).sort((mr,fr)=>mr.localeCompare(fr,"es",{sensitivity:"base"}));return await sr(pr)},[er,sr]),cr=reactExports.useCallback(async dr=>{const hr=dr.map(pr=>pr.trim()).filter(pr=>pr&&!er.includes(pr));if(hr.length===0)return!0;const ur=[...er,...hr].sort((pr,mr)=>pr.localeCompare(mr,"es",{sensitivity:"base"}));return await sr(ur)},[er,sr]);return{tags:er,loading:tr,error:nr,addTag:or,removeTag:ar,renameTag:lr,addMultipleTags:cr,saveTags:sr,DEFAULT_TAGS}}function Modal({isOpen:er,onClose:e,children:tr,title:rr,size:nr="md"}){const ir=reactExports.useRef(null);reactExports.useEffect(()=>{const lr=cr=>{cr.key==="Escape"&&e()};return er&&(document.addEventListener("keydown",lr),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",lr),document.body.style.overflow="unset"}},[er,e]);const sr=reactExports.useCallback(lr=>{ir.current=lr.target},[]),or=reactExports.useCallback(lr=>{if(ir.current!==lr.target)return;const cr=window.getSelection();cr&&cr.toString().trim().length>0||e()},[e]);if(!er)return null;const ar={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4 md:mx-8"};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onMouseDown:sr,onClick:or,children:jsxRuntimeExports.jsxs("div",{className:`
          modal-content bg-white rounded-lg shadow-xl w-full ${ar[nr]}
          max-h-[90vh] overflow-hidden flex flex-col animate-slideIn
          md:rounded-lg md:max-h-[85vh]
        `,onClick:lr=>lr.stopPropagation(),onMouseDown:lr=>lr.stopPropagation(),children:[rr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:rr}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto p-6",children:tr})]})})}function ToastContainer({toasts:er,onRemove:e}){return er.length===0?null:jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:er.map(tr=>jsxRuntimeExports.jsx(Toast,{toast:tr,onRemove:e},tr.id))})}function Toast({toast:er,onRemove:e}){const tr={success:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-500"}),error:jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-red-500"}),warning:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-yellow-500"}),info:jsxRuntimeExports.jsx(Info,{className:"w-5 h-5 text-blue-500"})},rr={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return jsxRuntimeExports.jsxs("div",{className:`
        toast flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg
        ${rr[er.type]}
      `,children:[tr[er.type],jsxRuntimeExports.jsx("p",{className:"flex-1 text-sm text-gray-700",children:er.message}),jsxRuntimeExports.jsx("button",{onClick:()=>e(er.id),className:"p-1 rounded hover:bg-black/5 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-400"})})]})}function Button({children:er,variant:e="primary",size:tr="md",loading:rr=!1,icon:nr,className:ir="",disabled:sr,...or}){const ar="inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",lr={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},cr={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return jsxRuntimeExports.jsxs("button",{className:`${ar} ${lr[e]} ${cr[tr]} ${ir}`,disabled:sr||rr,...or,children:[rr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):nr||null,er]})}const Input=reactExports.forwardRef(({label:er,error:e,helperText:tr,className:rr="",...nr},ir)=>jsxRuntimeExports.jsxs("div",{className:"w-full",children:[er&&jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:er}),jsxRuntimeExports.jsx("input",{ref:ir,className:`
            w-full px-3 py-2 border rounded-lg text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            ${e?"border-red-300 bg-red-50":"border-gray-300 bg-white"}
            ${rr}
          `,...nr}),e&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-red-500",children:e}),tr&&!e&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:tr})]}));Input.displayName="Input";function RepuestoForm({isOpen:er,onClose:e,onSave:tr,repuesto:rr}){const{tags:nr,addTag:ir}=useTags(),[sr,or]=reactExports.useState(!1),[ar,lr]=reactExports.useState({codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]}),[cr,dr]=reactExports.useState(!1),[hr,ur]=reactExports.useState("");reactExports.useEffect(()=>{lr(rr?{codigoSAP:rr.codigoSAP,textoBreve:rr.textoBreve,descripcion:rr.descripcion||"",nombreManual:rr.nombreManual||"",codigoBaader:rr.codigoBaader,cantidadSolicitada:rr.cantidadSolicitada,valorUnitario:rr.valorUnitario,cantidadStockBodega:rr.cantidadStockBodega,tags:rr.tags||[]}:{codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]})},[rr,er]);const pr=async br=>{br.preventDefault(),or(!0);try{await tr(ar),e()}catch(Sr){console.error("Error al guardar:",Sr)}finally{or(!1)}},mr=(br,Sr)=>{lr(jr=>({...jr,[br]:Sr}))},fr=br=>{if(!br.trim())return;const Sr=br.trim(),jr=ar.tags||[];jr.includes(Sr)||(lr(Cr=>({...Cr,tags:[...jr,Sr]})),nr.includes(Sr)||ir(Sr)),ur(""),dr(!1)},gr=br=>{lr(Sr=>({...Sr,tags:(Sr.tags||[]).filter(jr=>jr!==br)}))},yr=nr.filter(br=>!(ar.tags||[]).includes(br)),vr=ar.cantidadSolicitada*ar.valorUnitario;return jsxRuntimeExports.jsx(Modal,{isOpen:er,onClose:e,title:rr?"Editar Repuesto":"Nuevo Repuesto",size:"lg",children:jsxRuntimeExports.jsxs("form",{onSubmit:pr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{label:"Cdigo SAP",value:ar.codigoSAP,onChange:br=>mr("codigoSAP",br.target.value),placeholder:"Ej: 10038163",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Cdigo Baader",value:ar.codigoBaader,onChange:br=>mr("codigoBaader",br.target.value),placeholder:"Ej: 200.1234",required:!0})]}),jsxRuntimeExports.jsx(Input,{label:"Descripcin SAP (Texto Breve)",value:ar.textoBreve,onChange:br=>mr("textoBreve",br.target.value),placeholder:"Descripcin del repuesto segn SAP",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Nombre segn Manual (opcional)",value:ar.nombreManual||"",onChange:br=>mr("nombreManual",br.target.value),placeholder:"Nombre del repuesto segn el manual Baader"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin Extendida (opcional)"}),jsxRuntimeExports.jsx("textarea",{value:ar.descripcion||"",onChange:br=>mr("descripcion",br.target.value),placeholder:"Notas adicionales, observaciones o detalles importantes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",rows:2})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Input,{label:"Cantidad Solicitada",type:"number",min:"0",value:ar.cantidadSolicitada,onChange:br=>mr("cantidadSolicitada",parseInt(br.target.value)||0),required:!0}),jsxRuntimeExports.jsx(Input,{label:"Valor Unitario (USD)",type:"number",min:"0",step:"0.01",value:ar.valorUnitario,onChange:br=>mr("valorUnitario",parseFloat(br.target.value)||0),required:!0}),jsxRuntimeExports.jsx(Input,{label:"Stock Bodega",type:"number",min:"0",value:ar.cantidadStockBodega,onChange:br=>mr("cantidadStockBodega",parseInt(br.target.value)||0)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),"Tags / Etiquetas"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>dr(!cr),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Agregar tag"]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:(ar.tags||[]).length===0?jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 italic",children:"Sin tags asignados"}):(ar.tags||[]).map(br=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[br,jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gr(br),className:"hover:text-primary-900 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]},br))}),cr&&jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Tags predefinidos:"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[yr.map(br=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fr(br),className:"px-3 py-1 bg-white border border-gray-300 rounded-full text-sm hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-colors",children:br},br)),yr.length===0&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"Todos los tags predefinidos ya estn asignados"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:hr,onChange:br=>ur(br.target.value),onKeyDown:br=>{br.key==="Enter"&&(br.preventDefault(),fr(hr))},placeholder:"Crear tag personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fr(hr),disabled:!hr.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Agregar"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total:"}),jsxRuntimeExports.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["$",vr.toLocaleString("en-US",{minimumFractionDigits:2})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",onClick:e,children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{type:"submit",loading:sr,icon:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),children:rr?"Guardar Cambios":"Crear Repuesto"})]})]})})}function HistorialModal({isOpen:er,onClose:e,repuesto:tr,getHistorial:rr}){const[nr,ir]=reactExports.useState([]),[sr,or]=reactExports.useState(!1);reactExports.useEffect(()=>{er&&tr&&(or(!0),rr(tr.id).then(ir).finally(()=>or(!1)))},[er,tr,rr]);const ar=reactExports.useMemo(()=>{const mr=new Map;return nr.forEach(fr=>{const gr=new Date(fr.fecha).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"});mr.has(gr)||mr.set(gr,[]),mr.get(gr).push(fr)}),Array.from(mr.entries()).map(([fr,gr])=>({fecha:fr,items:gr.sort((yr,vr)=>new Date(vr.fecha).getTime()-new Date(yr.fecha).getTime())}))},[nr]),lr=mr=>new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit"}).format(mr),cr=mr=>({codigoSAP:"Cdigo SAP",textoBreve:"Descripcin SAP",descripcion:"Descripcin Extendida",nombreManual:"Nombre Manual",codigoBaader:"Cdigo Baader",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",total:"Total",tags:"Tags",creacion:"Creacin"})[mr]||mr,dr=mr=>{switch(mr){case"cantidadSolicitada":case"cantidadStockBodega":return jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"});case"valorUnitario":case"total":return jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"});case"codigoSAP":case"codigoBaader":return jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4"});case"creacion":return jsxRuntimeExports.jsx(CirclePlus,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}},hr=mr=>{switch(mr){case"cantidadSolicitada":return"bg-blue-100 text-blue-700 border-blue-200";case"cantidadStockBodega":return"bg-green-100 text-green-700 border-green-200";case"valorUnitario":case"total":return"bg-amber-100 text-amber-700 border-amber-200";case"creacion":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},ur=mr=>{if(!["cantidadSolicitada","cantidadStockBodega","valorUnitario","total"].includes(mr.campo))return null;const gr=Number(mr.valorAnterior)||0,yr=Number(mr.valorNuevo)||0;return yr>gr?jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 text-green-500"}):yr<gr?jsxRuntimeExports.jsx(TrendingDown,{className:"w-3 h-3 text-red-500"}):jsxRuntimeExports.jsx(Minus,{className:"w-3 h-3 text-gray-400"})},pr=(mr,fr)=>{if(fr==null||fr==="")return"-";if(mr==="valorUnitario"||mr==="total"){const gr=Number(fr);return isNaN(gr)?String(fr):`$${gr.toLocaleString("en-US",{minimumFractionDigits:2})}`}return String(fr)};return jsxRuntimeExports.jsxs(Modal,{isOpen:er,onClose:e,title:"Historial de Cambios",size:"lg",children:[tr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-mono font-semibold text-gray-800",children:tr.codigoBaader}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:tr.textoBreve||tr.descripcion})]})]})}),sr?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"spinner"})}):nr.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[jsxRuntimeExports.jsx(Clock,{className:"w-16 h-16 mb-4 opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No hay cambios registrados"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Los cambios aparecern aqu cuando edites este repuesto"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:ar.map(mr=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 bg-white py-2 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2",children:mr.fecha}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative pl-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:mr.items.map(fr=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`absolute -left-4 top-3 w-3 h-3 rounded-full border-2 bg-white ${fr.campo==="creacion"?"border-purple-500":"border-primary-500"}`}),jsxRuntimeExports.jsxs("div",{className:`rounded-lg border p-3 ${hr(fr.campo)}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[dr(fr.campo),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:cr(fr.campo)}),ur(fr)]}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-70",children:lr(fr.fecha)})]}),fr.campo==="creacion"?jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Repuesto creado"}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-white/50 rounded line-through opacity-70",children:pr(fr.campo,fr.valorAnterior)}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 opacity-50"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-white/70 rounded font-medium",children:pr(fr.campo,fr.valorNuevo)})]})]})]},fr.id))})]})]},mr.fecha))}),nr.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[nr.length," cambio",nr.length!==1?"s":""," registrado",nr.length!==1?"s":""]})})]})}function DeleteConfirmModal({isOpen:er,onClose:e,onConfirm:tr,repuesto:rr,loading:nr}){return jsxRuntimeExports.jsx(Modal,{isOpen:er,onClose:e,size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-red-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Eliminar repuesto?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-2",children:"Ests por eliminar el repuesto:"}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[jsxRuntimeExports.jsx("p",{className:"font-mono text-sm text-primary-600",children:rr==null?void 0:rr.codigoBaader}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 truncate",children:rr==null?void 0:rr.textoBreve})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:e,className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:tr,loading:nr,icon:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),className:"flex-1",children:"Eliminar"})]})]})})}function TagManagerModal({isOpen:er,onClose:e,repuestos:tr,onRenameTag:rr,onDeleteTag:nr}){const{tags:ir,addTag:sr,removeTag:or,renameTag:ar,loading:lr,addMultipleTags:cr}=useTags(),[dr,hr]=reactExports.useState(null),[ur,pr]=reactExports.useState(""),[mr,fr]=reactExports.useState(null),[gr,yr]=reactExports.useState(!1),[vr,br]=reactExports.useState(null),[Sr,jr]=reactExports.useState(""),[Cr,Pr]=reactExports.useState(!1),Rr=reactExports.useMemo(()=>{const Er=new Map;return tr.forEach(xr=>{var Mr;(Mr=xr.tags)==null||Mr.forEach(zr=>{Er.set(zr,(Er.get(zr)||0)+1)})}),Array.from(Er.entries()).map(([xr,Mr])=>({name:xr,count:Mr})).sort((xr,Mr)=>xr.name.localeCompare(Mr.name))},[tr]);reactExports.useEffect(()=>{if(er&&!lr&&Rr.length>0){const xr=Rr.map(Mr=>Mr.name).filter(Mr=>!ir.includes(Mr));xr.length>0&&(console.log("Sincronizando tags faltantes:",xr),cr(xr))}},[er,lr,Rr,ir,cr]);const Lr=Er=>{hr(Er),pr(Er),br(null)},Ir=()=>{hr(null),pr("")},Nr=async()=>{if(!dr||!ur.trim())return;const Er=ur.trim();if(Er===dr){Ir();return}const xr=Rr.some(zr=>zr.name.toLowerCase()===Er.toLowerCase()&&zr.name!==dr),Mr=ir.some(zr=>zr.toLowerCase()===Er.toLowerCase()&&zr!==dr);if(xr||Mr){br({type:"error",text:"Ya existe un tag con ese nombre"});return}yr(!0);try{await ar(dr,Er);const zr=Rr.find(Or=>Or.name===dr);if(zr&&zr.count>0){const Or=await rr(dr,Er);br({type:"success",text:`Tag renombrado en ${Or} repuesto(s)`})}else br({type:"success",text:"Tag actualizado"});Ir()}catch{br({type:"error",text:"Error al renombrar el tag"})}finally{yr(!1)}},Ar=Er=>{fr(Er),br(null)},Dr=()=>{fr(null)},Tr=async()=>{if(mr){yr(!0);try{await or(mr);const Er=Rr.find(xr=>xr.name===mr);if(Er&&Er.count>0){const xr=await nr(mr);br({type:"success",text:`Tag eliminado de ${xr} repuesto(s)`})}else br({type:"success",text:"Tag eliminado"});fr(null)}catch{br({type:"error",text:"Error al eliminar el tag"})}finally{yr(!1)}}},_r=async()=>{const Er=Sr.trim();if(!Er)return;const xr=Rr.some(zr=>zr.name.toLowerCase()===Er.toLowerCase()),Mr=ir.some(zr=>zr.toLowerCase()===Er.toLowerCase());if(xr||Mr){br({type:"error",text:"Ya existe un tag con ese nombre"});return}yr(!0);try{await sr(Er),jr(""),Pr(!1),br({type:"success",text:"Tag agregado exitosamente"})}catch{br({type:"error",text:"Error al agregar el tag"})}finally{yr(!1)}};if(!er)return null;const wr=(Er,xr)=>dr===Er?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[jsxRuntimeExports.jsx("input",{type:"text",value:ur,onChange:Mr=>pr(Mr.target.value),className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:Mr=>{Mr.key==="Enter"&&Nr(),Mr.key==="Escape"&&Ir()}}),jsxRuntimeExports.jsx("button",{onClick:()=>Nr(),disabled:gr,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Guardar",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:Ir,disabled:gr,className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):mr===Er?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700",children:['Eliminar "',Er,'"?']}),xr!==null&&xr>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-amber-600",children:["(se quitar de ",xr," repuesto",xr!==1?"s":"",")"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Tr(),disabled:gr,className:"px-3 py-1.5 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Eliminar"}),jsxRuntimeExports.jsx("button",{onClick:Dr,disabled:gr,className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4 text-primary-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:Er}),xr!==null&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[xr," repuesto",xr!==1?"s":""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Lr(Er),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ar(Er),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:Er=>{var xr;Er.target===Er.currentTarget&&!((xr=window.getSelection())!=null&&xr.toString())&&e()},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onMouseDown:Er=>Er.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gestor de Tags"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[ir.length," tags disponibles  ",Rr.reduce((Er,xr)=>Er+xr.count,0)," asignaciones"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),vr&&jsxRuntimeExports.jsx("div",{className:`px-5 py-3 flex-shrink-0 ${vr.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:vr.text}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Cr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary-50 rounded-lg border border-primary-200",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Sr,onChange:Er=>jr(Er.target.value),placeholder:"Nombre del nuevo tag...",className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:Er=>{Er.key==="Enter"&&_r(),Er.key==="Escape"&&(Pr(!1),jr(""))}}),jsxRuntimeExports.jsx("button",{onClick:_r,disabled:gr||!Sr.trim(),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Guardar",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{Pr(!1),jr("")},className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>Pr(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Agregar nuevo tag"]}),lr?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando tags..."}):ir.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"No hay tags disponibles"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Agrega tags para organizar tus repuestos"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ir.map(Er=>{const xr=Rr.find(Mr=>Mr.name===Er);return jsxRuntimeExports.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${xr?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:wr(Er,(xr==null?void 0:xr.count)??null)},Er)})})]})}),jsxRuntimeExports.jsx("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:" Los tags con fondo azul estn asignados a repuestos. Puedes editar o eliminar cualquier tag."})})]})})}const QUALITY_OPTIONS=[{label:"Mxima",value:.95,description:"Sin prdida visible, mayor tamao"},{label:"Alta",value:.85,description:"Excelente calidad, buen balance"},{label:"Media",value:.7,description:"Buena calidad, archivo ms pequeo"},{label:"Baja",value:.5,description:"Calidad aceptable, muy comprimido"},{label:"Mnima",value:.3,description:"Solo para previsualizaciones"}];async function convertToWebP(er,e=.85,tr=1920,rr=1920){return new Promise((nr,ir)=>{const sr=new Image,or=document.createElement("canvas"),ar=or.getContext("2d");sr.onload=()=>{let{width:cr,height:dr}=sr;if(cr>tr&&(dr=dr*tr/cr,cr=tr),dr>rr&&(cr=cr*rr/dr,dr=rr),or.width=cr,or.height=dr,!ar){ir(new Error("No se pudo crear contexto de canvas"));return}ar.drawImage(sr,0,0,cr,dr),or.toBlob(hr=>{if(!hr){ir(new Error("No se pudo convertir la imagen"));return}const ur=er.name.replace(/\.[^.]+$/,""),pr=new File([hr],`${ur}.webp`,{type:"image/webp",lastModified:Date.now()});nr(pr)},"image/webp",e)},sr.onerror=()=>{ir(new Error("Error al cargar la imagen"))};const lr=new FileReader;lr.onload=cr=>{var dr;sr.src=(dr=cr.target)==null?void 0:dr.result},lr.onerror=()=>ir(new Error("Error al leer el archivo")),lr.readAsDataURL(er)})}function formatFileSize(er){return er<1024?`${er} B`:er<1024*1024?`${(er/1024).toFixed(1)} KB`:`${(er/(1024*1024)).toFixed(2)} MB`}async function imageUrlToBase64WithDimensions(er){return er?new Promise(e=>{const tr=new Image;tr.crossOrigin="anonymous";const rr=setTimeout(()=>{console.warn("Timeout cargando imagen:",er.substring(0,50)+"..."),e(null)},15e3);tr.onload=()=>{clearTimeout(rr);try{const nr=tr.naturalWidth||tr.width||200,ir=tr.naturalHeight||tr.height||200;if(nr===0||ir===0){console.warn("Imagen con dimensiones 0"),e(null);return}const sr=document.createElement("canvas");sr.width=nr,sr.height=ir;const or=sr.getContext("2d");if(or){or.drawImage(tr,0,0);const ar=sr.toDataURL("image/jpeg",.85);e({base64:ar,width:nr,height:ir})}else console.warn("No se pudo obtener context 2d"),e(null)}catch(nr){console.error("Error en canvas:",nr),e(null)}},tr.onerror=nr=>{clearTimeout(rr),console.warn("Error cargando imagen (onerror):",nr),fetchImageAsBase64WithDimensions(er).then(e)},tr.src=er}):(console.warn("URL vaca proporcionada"),null)}async function fetchImageAsBase64WithDimensions(er){try{const e=await fetch(er,{mode:"cors",credentials:"omit"});if(!e.ok)return console.warn("Fetch failed:",e.status),null;const tr=await e.blob();return new Promise(rr=>{const nr=new FileReader;nr.onloadend=()=>{const ir=nr.result,sr=new Image;sr.onload=()=>{rr({base64:ir,width:sr.naturalWidth||200,height:sr.naturalHeight||200})},sr.onerror=()=>rr({base64:ir,width:200,height:200}),sr.src=ir},nr.onerror=()=>rr(null),nr.readAsDataURL(tr)})}catch(e){return console.error("Error en fetch:",e),null}}async function preloadImagesWithDimensions(er){const e=new Map,tr=new Set;for(const or of er){for(const ar of or.imagenesManual)ar.url&&tr.add(ar.url);for(const ar of or.fotosReales)ar.url&&tr.add(ar.url)}console.log("URLs de imgenes encontradas:",tr.size);const rr=Array.from(tr),nr=3;let ir=0,sr=0;for(let or=0;or<rr.length;or+=nr){const ar=rr.slice(or,or+nr),lr=await Promise.all(ar.map(async cr=>{console.log("Procesando imagen:",cr.substring(0,60)+"...");const dr=await imageUrlToBase64WithDimensions(cr);return dr?(console.log(` Imagen OK (${dr.width}x${dr.height})`),ir++):(console.log(" Imagen fall"),sr++),{url:cr,data:dr}}));for(const{url:cr,data:dr}of lr)dr&&e.set(cr,dr)}return console.log(`Imgenes convertidas: ${ir} xito, ${sr} fallos`),e}function ImageQualityModal({isOpen:er,onClose:e,file:tr,onConfirm:rr}){const[nr,ir]=reactExports.useState(QUALITY_OPTIONS[1]),[sr,or]=reactExports.useState(null),[ar,lr]=reactExports.useState(0),[cr,dr]=reactExports.useState(0),[hr,ur]=reactExports.useState(!1),[pr,mr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!tr||!er)return;lr(tr.size);const yr=new FileReader;yr.onload=vr=>{var br;or((br=vr.target)==null?void 0:br.result)},yr.readAsDataURL(tr)},[tr,er]),reactExports.useEffect(()=>{if(!tr||!er)return;(async()=>{mr(!0);try{const vr=await convertToWebP(tr,nr.value);dr(vr.size)}catch(vr){console.error("Error estimando tamao:",vr),dr(0)}finally{mr(!1)}})()},[tr,nr,er]);const fr=async()=>{if(tr){ur(!0);try{const yr=await convertToWebP(tr,nr.value);rr(yr),e()}catch(yr){console.error("Error optimizando imagen:",yr)}finally{ur(!1)}}},gr=ar>0&&cr>0?Math.round((1-cr/ar)*100):0;return!er||!tr?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-primary-50 to-white",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-5 h-5 text-primary-600"}),"Optimizar Imagen"]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-100 flex justify-center",children:sr?jsxRuntimeExports.jsx("img",{src:sr,alt:"Preview",className:"max-h-40 max-w-full object-contain rounded-lg shadow"}):jsxRuntimeExports.jsx("div",{className:"h-40 w-40 bg-gray-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-gray-400"})})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Archivo original:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:tr.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Tamao original:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:formatFileSize(ar)})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecciona la calidad de compresin:"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:QUALITY_OPTIONS.map(yr=>jsxRuntimeExports.jsxs("button",{onClick:()=>ir(yr),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${nr.value===yr.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${nr.value===yr.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:nr.value===yr.value&&jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:yr.label}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Math.round(yr.value*100),"%)"]})]})]})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 ml-8 mt-1",children:yr.description})]},yr.value))})]}),jsxRuntimeExports.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Tamao final (WebP):"}),pr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Calculando..."})]}):jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-600",children:formatFileSize(cr)})]}),!pr&&gr>0&&jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Ahorro:"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-green-600",children:[gr,"%"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:e,disabled:hr,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:fr,disabled:hr||pr,className:"flex-1 px-4 py-2.5 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2",children:hr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Subir Optimizada"]})})]})]})})}var roundNumber=function(er,e){return Number(er.toFixed(e))},checkIsNumber=function(er,e){return e},handleCallback=function(er,e,tr){tr&&typeof tr=="function"&&tr(er,e)},easeOut=function(er){return-Math.cos(er*Math.PI)/2+.5},linear$2=function(er){return er},easeInQuad=function(er){return er*er},easeOutQuad=function(er){return er*(2-er)},easeInOutQuad=function(er){return er<.5?2*er*er:-1+(4-2*er)*er},easeInCubic=function(er){return er*er*er},easeOutCubic=function(er){return--er*er*er+1},easeInOutCubic=function(er){return er<.5?4*er*er*er:(er-1)*(2*er-2)*(2*er-2)+1},easeInQuart=function(er){return er*er*er*er},easeOutQuart=function(er){return 1- --er*er*er*er},easeInOutQuart=function(er){return er<.5?8*er*er*er*er:1-8*--er*er*er*er},easeInQuint=function(er){return er*er*er*er*er},easeOutQuint=function(er){return 1+--er*er*er*er*er},easeInOutQuint=function(er){return er<.5?16*er*er*er*er*er:1+16*--er*er*er*er*er},animations={easeOut,linear:linear$2,easeInQuad,easeOutQuad,easeInOutQuad,easeInCubic,easeOutCubic,easeInOutCubic,easeInQuart,easeOutQuart,easeInOutQuart,easeInQuint,easeOutQuint,easeInOutQuint},handleCancelAnimationFrame=function(er){typeof er=="number"&&cancelAnimationFrame(er)},handleCancelAnimation=function(er){er.mounted&&(handleCancelAnimationFrame(er.animation),er.animate=!1,er.animation=null,er.velocity=null)};function handleSetupAnimation(er,e,tr,rr){if(er.mounted){var nr=new Date().getTime(),ir=1;handleCancelAnimation(er),er.animation=function(){if(!er.mounted)return handleCancelAnimationFrame(er.animation);var sr=new Date().getTime()-nr,or=sr/tr,ar=animations[e],lr=ar(or);sr>=tr?(rr(ir),er.animation=null):er.animation&&(rr(lr),requestAnimationFrame(er.animation))},requestAnimationFrame(er.animation)}}function isValidTargetState(er){var e=er.scale,tr=er.positionX,rr=er.positionY;return!(Number.isNaN(e)||Number.isNaN(tr)||Number.isNaN(rr))}function animate(er,e,tr,rr){var nr=isValidTargetState(e);if(!(!er.mounted||!nr)){var ir=er.setTransformState,sr=er.transformState,or=sr.scale,ar=sr.positionX,lr=sr.positionY,cr=e.scale-or,dr=e.positionX-ar,hr=e.positionY-lr;tr===0?ir(e.scale,e.positionX,e.positionY):handleSetupAnimation(er,rr,tr,function(ur){var pr=or+cr*ur,mr=ar+dr*ur,fr=lr+hr*ur;ir(pr,mr,fr)})}}function getComponentsSizes(er,e,tr){var rr=er.offsetWidth,nr=er.offsetHeight,ir=e.offsetWidth,sr=e.offsetHeight,or=ir*tr,ar=sr*tr,lr=rr-or,cr=nr-ar;return{wrapperWidth:rr,wrapperHeight:nr,newContentWidth:or,newDiffWidth:lr,newContentHeight:ar,newDiffHeight:cr}}var getBounds=function(er,e,tr,rr,nr,ir,sr){var or=er>e?tr*(sr?1:.5):0,ar=rr>nr?ir*(sr?1:.5):0,lr=er-e-or,cr=or,dr=rr-nr-ar,hr=ar;return{minPositionX:lr,maxPositionX:cr,minPositionY:dr,maxPositionY:hr}},calculateBounds=function(er,e){var tr=er.wrapperComponent,rr=er.contentComponent,nr=er.setup.centerZoomedOut;if(!tr||!rr)throw new Error("Components are not mounted");var ir=getComponentsSizes(tr,rr,e),sr=ir.wrapperWidth,or=ir.wrapperHeight,ar=ir.newContentWidth,lr=ir.newDiffWidth,cr=ir.newContentHeight,dr=ir.newDiffHeight,hr=getBounds(sr,ar,lr,or,cr,dr,!!nr);return hr},boundLimiter=function(er,e,tr,rr){return rr?er<e?roundNumber(e,2):er>tr?roundNumber(tr,2):roundNumber(er,2):roundNumber(er,2)},handleCalculateBounds=function(er,e){var tr=calculateBounds(er,e);return er.bounds=tr,tr};function getMouseBoundedPosition(er,e,tr,rr,nr,ir,sr){var or=tr.minPositionX,ar=tr.minPositionY,lr=tr.maxPositionX,cr=tr.maxPositionY,dr=0,hr=0;sr&&(dr=nr,hr=ir);var ur=boundLimiter(er,or-dr,lr+dr,rr),pr=boundLimiter(e,ar-hr,cr+hr,rr);return{x:ur,y:pr}}function handleCalculateZoomPositions(er,e,tr,rr,nr,ir){var sr=er.transformState,or=sr.scale,ar=sr.positionX,lr=sr.positionY,cr=rr-or;if(typeof e!="number"||typeof tr!="number")return console.error("Mouse X and Y position were not provided!"),{x:ar,y:lr};var dr=ar-e*cr,hr=lr-tr*cr,ur=getMouseBoundedPosition(dr,hr,nr,ir,0,0,null);return ur}function checkZoomBounds(er,e,tr,rr,nr){var ir=nr?rr:0,sr=e-ir;return!Number.isNaN(tr)&&er>=tr?tr:!Number.isNaN(e)&&er<=sr?sr:er}var isPanningStartAllowed=function(er,e){var tr=er.setup.panning.excluded,rr=er.isInitialized,nr=er.wrapperComponent,ir=e.target,sr="shadowRoot"in ir&&"composedPath"in e,or=sr?e.composedPath().some(function(cr){return cr instanceof Element?nr==null?void 0:nr.contains(cr):!1}):nr==null?void 0:nr.contains(ir),ar=rr&&ir&&or;if(!ar)return!1;var lr=isExcludedNode(ir,tr);return!lr},isPanningAllowed=function(er){var e=er.isInitialized,tr=er.isPanning,rr=er.setup,nr=rr.panning.disabled,ir=e&&tr&&!nr;return!!ir},handlePanningSetup=function(er,e){var tr=er.transformState,rr=tr.positionX,nr=tr.positionY;er.isPanning=!0;var ir=e.clientX,sr=e.clientY;er.startCoords={x:ir-rr,y:sr-nr}},handleTouchPanningSetup=function(er,e){var tr=e.touches,rr=er.transformState,nr=rr.positionX,ir=rr.positionY;er.isPanning=!0;var sr=tr.length===1;if(sr){var or=tr[0].clientX,ar=tr[0].clientY;er.startCoords={x:or-nr,y:ar-ir}}};function handlePanToBounds(er){var e=er.transformState,tr=e.positionX,rr=e.positionY,nr=e.scale,ir=er.setup,sr=ir.disabled,or=ir.limitToBounds,ar=ir.centerZoomedOut,lr=er.wrapperComponent;if(!(sr||!lr||!er.bounds)){var cr=er.bounds,dr=cr.maxPositionX,hr=cr.minPositionX,ur=cr.maxPositionY,pr=cr.minPositionY,mr=tr>dr||tr<hr,fr=rr>ur||rr<pr,gr=tr>dr?lr.offsetWidth:er.setup.minPositionX||0,yr=rr>ur?lr.offsetHeight:er.setup.minPositionY||0,vr=handleCalculateZoomPositions(er,gr,yr,nr,er.bounds,or||ar),br=vr.x,Sr=vr.y;return{scale:nr,positionX:mr?br:tr,positionY:fr?Sr:rr}}}function handleNewPosition(er,e,tr,rr,nr){var ir=er.setup.limitToBounds,sr=er.wrapperComponent,or=er.bounds,ar=er.transformState,lr=ar.scale,cr=ar.positionX,dr=ar.positionY;if(!(sr===null||or===null||e===cr&&tr===dr)){var hr=getMouseBoundedPosition(e,tr,or,ir,rr,nr,sr),ur=hr.x,pr=hr.y;er.setTransformState(lr,ur,pr)}}var getPanningClientPosition=function(er,e,tr){var rr=er.startCoords,nr=er.transformState,ir=er.setup.panning,sr=ir.lockAxisX,or=ir.lockAxisY,ar=nr.positionX,lr=nr.positionY;if(!rr)return{x:ar,y:lr};var cr=e-rr.x,dr=tr-rr.y,hr=sr?ar:cr,ur=or?lr:dr;return{x:hr,y:ur}},getPaddingValue=function(er,e){var tr=er.setup,rr=er.transformState,nr=rr.scale,ir=tr.minScale,sr=tr.disablePadding;return e>0&&nr>=ir&&!sr?e:0},isVelocityCalculationAllowed=function(er){var e=er.mounted,tr=er.setup,rr=tr.disabled,nr=tr.velocityAnimation,ir=er.transformState.scale,sr=nr.disabled,or=!sr||ir>1||!rr||e;return!!or},isVelocityAllowed=function(er){var e=er.mounted,tr=er.velocity,rr=er.bounds,nr=er.setup,ir=nr.disabled,sr=nr.velocityAnimation,or=er.transformState.scale,ar=sr.disabled,lr=!ar||or>1||!ir||e;return!(!lr||!tr||!rr)};function getVelocityMoveTime(er,e){var tr=er.setup.velocityAnimation,rr=tr.equalToMove,nr=tr.animationTime,ir=tr.sensitivity;return rr?nr*e*ir:nr}function getVelocityPosition(er,e,tr,rr,nr,ir,sr,or,ar,lr){if(nr){if(e>sr&&tr>sr){var cr=sr+(er-sr)*lr;return cr>ar?ar:cr<sr?sr:cr}if(e<ir&&tr<ir){var cr=ir+(er-ir)*lr;return cr<or?or:cr>ir?ir:cr}}return rr?e:boundLimiter(er,ir,sr,nr)}function getSizeMultiplier(er,e){var tr=1;return e?Math.min(tr,er.offsetWidth/window.innerWidth):tr}function handleCalculateVelocity(er,e){var tr=isVelocityCalculationAllowed(er);if(tr){var rr=er.lastMousePosition,nr=er.velocityTime,ir=er.setup,sr=er.wrapperComponent,or=ir.velocityAnimation.equalToMove,ar=Date.now();if(rr&&nr&&sr){var lr=getSizeMultiplier(sr,or),cr=e.x-rr.x,dr=e.y-rr.y,hr=cr/lr,ur=dr/lr,pr=ar-nr,mr=cr*cr+dr*dr,fr=Math.sqrt(mr)/pr;er.velocity={velocityX:hr,velocityY:ur,total:fr}}er.lastMousePosition=e,er.velocityTime=ar}}function handleVelocityPanning(er){var e=er.velocity,tr=er.bounds,rr=er.setup,nr=er.wrapperComponent,ir=isVelocityAllowed(er);if(!(!ir||!e||!tr||!nr)){var sr=e.velocityX,or=e.velocityY,ar=e.total,lr=tr.maxPositionX,cr=tr.minPositionX,dr=tr.maxPositionY,hr=tr.minPositionY,ur=rr.limitToBounds,pr=rr.alignmentAnimation,mr=rr.zoomAnimation,fr=rr.panning,gr=fr.lockAxisY,yr=fr.lockAxisX,vr=mr.animationType,br=pr.sizeX,Sr=pr.sizeY,jr=pr.velocityAlignmentTime,Cr=jr,Pr=getVelocityMoveTime(er,ar),Rr=Math.max(Pr,Cr),Lr=getPaddingValue(er,br),Ir=getPaddingValue(er,Sr),Nr=Lr*nr.offsetWidth/100,Ar=Ir*nr.offsetHeight/100,Dr=lr+Nr,Tr=cr-Nr,_r=dr+Ar,wr=hr-Ar,Er=er.transformState,xr=new Date().getTime();handleSetupAnimation(er,vr,Rr,function(Mr){var zr=er.transformState,Or=zr.scale,Br=zr.positionX,Ur=zr.positionY,qr=new Date().getTime()-xr,Vr=qr/Cr,Gr=animations[pr.animationType],$r=1-Gr(Math.min(1,Vr)),Fr=1-Mr,Kr=Br+sr*Fr,Zr=Ur+or*Fr,nn=getVelocityPosition(Kr,Er.positionX,Br,yr,ur,cr,lr,Tr,Dr,$r),Qr=getVelocityPosition(Zr,Er.positionY,Ur,gr,ur,hr,dr,wr,_r,$r);(Br!==Kr||Ur!==Zr)&&er.setTransformState(Or,nn,Qr)})}}function handlePanningStart(er,e){var tr=er.transformState.scale;handleCancelAnimation(er),handleCalculateBounds(er,tr),window.TouchEvent!==void 0&&e instanceof TouchEvent?handleTouchPanningSetup(er,e):handlePanningSetup(er,e)}function handleAlignToBounds(er,e){var tr=er.transformState.scale,rr=er.setup,nr=rr.minScale,ir=rr.alignmentAnimation,sr=ir.disabled,or=ir.sizeX,ar=ir.sizeY,lr=ir.animationTime,cr=ir.animationType,dr=sr||tr<nr||!or&&!ar;if(!dr){var hr=handlePanToBounds(er);hr&&animate(er,hr,e??lr,cr)}}function handlePanning(er,e,tr){var rr=er.startCoords,nr=er.setup,ir=nr.alignmentAnimation,sr=ir.sizeX,or=ir.sizeY;if(rr){var ar=getPanningClientPosition(er,e,tr),lr=ar.x,cr=ar.y,dr=getPaddingValue(er,sr),hr=getPaddingValue(er,or);handleCalculateVelocity(er,{x:lr,y:cr}),handleNewPosition(er,lr,cr,dr,hr)}}function handlePanningEnd(er){if(er.isPanning){var e=er.setup.panning.velocityDisabled,tr=er.velocity,rr=er.wrapperComponent,nr=er.contentComponent;er.isPanning=!1,er.animate=!1,er.animation=null;var ir=rr==null?void 0:rr.getBoundingClientRect(),sr=nr==null?void 0:nr.getBoundingClientRect(),or=(ir==null?void 0:ir.width)||0,ar=(ir==null?void 0:ir.height)||0,lr=(sr==null?void 0:sr.width)||0,cr=(sr==null?void 0:sr.height)||0,dr=or<lr||ar<cr,hr=!e&&tr&&(tr==null?void 0:tr.total)>.1&&dr;hr?handleVelocityPanning(er):handleAlignToBounds(er)}}function handleZoomToPoint(er,e,tr,rr){var nr=er.setup,ir=nr.minScale,sr=nr.maxScale,or=nr.limitToBounds,ar=checkZoomBounds(roundNumber(e,2),ir,sr,0,!1),lr=handleCalculateBounds(er,ar),cr=handleCalculateZoomPositions(er,tr,rr,ar,lr,or),dr=cr.x,hr=cr.y;return{scale:ar,positionX:dr,positionY:hr}}function handleAlignToScaleBounds(er,e,tr){var rr=er.transformState.scale,nr=er.wrapperComponent,ir=er.setup,sr=ir.minScale,or=ir.limitToBounds,ar=ir.zoomAnimation,lr=ar.disabled,cr=ar.animationTime,dr=ar.animationType,hr=lr||rr>=sr;if((rr>=1||or)&&handleAlignToBounds(er),!(hr||!nr||!er.mounted)){var ur=e||nr.offsetWidth/2,pr=tr||nr.offsetHeight/2,mr=handleZoomToPoint(er,sr,ur,pr);mr&&animate(er,mr,cr,dr)}}var __assign=function(){return __assign=Object.assign||function(e){for(var tr,rr=1,nr=arguments.length;rr<nr;rr++){tr=arguments[rr];for(var ir in tr)Object.prototype.hasOwnProperty.call(tr,ir)&&(e[ir]=tr[ir])}return e},__assign.apply(this,arguments)};function __spreadArray(er,e,tr){for(var rr=0,nr=e.length,ir;rr<nr;rr++)(ir||!(rr in e))&&(ir||(ir=Array.prototype.slice.call(e,0,rr)),ir[rr]=e[rr]);return er.concat(ir||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var initialState$c={scale:1,positionX:0,positionY:0},initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},baseClasses={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},createState=function(er){var e,tr,rr,nr;return{previousScale:(e=er.initialScale)!==null&&e!==void 0?e:initialState$c.scale,scale:(tr=er.initialScale)!==null&&tr!==void 0?tr:initialState$c.scale,positionX:(rr=er.initialPositionX)!==null&&rr!==void 0?rr:initialState$c.positionX,positionY:(nr=er.initialPositionY)!==null&&nr!==void 0?nr:initialState$c.positionY}},createSetup=function(er){var e=__assign({},initialSetup);return Object.keys(er).forEach(function(tr){var rr=typeof er[tr]<"u",nr=typeof initialSetup[tr]<"u";if(nr&&rr){var ir=Object.prototype.toString.call(initialSetup[tr]),sr=ir==="[object Object]",or=ir==="[object Array]";sr?e[tr]=__assign(__assign({},initialSetup[tr]),er[tr]):or?e[tr]=__spreadArray(__spreadArray([],initialSetup[tr],!0),er[tr]):e[tr]=er[tr]}}),e},handleCalculateButtonZoom=function(er,e,tr){var rr=er.transformState.scale,nr=er.wrapperComponent,ir=er.setup,sr=ir.maxScale,or=ir.minScale,ar=ir.zoomAnimation,lr=ir.smooth,cr=ar.size;if(!nr)throw new Error("Wrapper is not mounted");var dr=lr?rr*Math.exp(e*tr):rr+e*tr,hr=checkZoomBounds(roundNumber(dr,3),or,sr,cr,!1);return hr};function handleZoomToViewCenter(er,e,tr,rr,nr){var ir=er.wrapperComponent,sr=er.transformState,or=sr.scale,ar=sr.positionX,lr=sr.positionY;if(!ir)return console.error("No WrapperComponent found");var cr=ir.offsetWidth,dr=ir.offsetHeight,hr=(cr/2-ar)/or,ur=(dr/2-lr)/or,pr=handleCalculateButtonZoom(er,e,tr),mr=handleZoomToPoint(er,pr,hr,ur);if(!mr)return console.error("Error during zoom event. New transformation state was not calculated.");animate(er,mr,rr,nr)}function resetTransformations(er,e,tr,rr){var nr=er.setup,ir=er.wrapperComponent,sr=nr.limitToBounds,or=createState(er.props),ar=er.transformState,lr=ar.scale,cr=ar.positionX,dr=ar.positionY;if(ir){var hr=calculateBounds(er,or.scale),ur=getMouseBoundedPosition(or.positionX,or.positionY,hr,sr,0,0,ir),pr={scale:or.scale,positionX:ur.x,positionY:ur.y};lr===or.scale&&cr===or.positionX&&dr===or.positionY||(rr==null||rr(),animate(er,pr,e,tr))}}function getOffset(er,e,tr,rr){var nr=er.getBoundingClientRect(),ir=e.getBoundingClientRect(),sr=tr.getBoundingClientRect(),or=ir.x*rr.scale,ar=ir.y*rr.scale;return{x:(nr.x-sr.x+or)/rr.scale,y:(nr.y-sr.y+ar)/rr.scale}}function calculateZoomToNode(er,e,tr){var rr=er.wrapperComponent,nr=er.contentComponent,ir=er.transformState,sr=er.setup,or=sr.limitToBounds,ar=sr.minScale,lr=sr.maxScale;if(!rr||!nr)return ir;var cr=rr.getBoundingClientRect(),dr=e.getBoundingClientRect(),hr=getOffset(e,rr,nr,ir),ur=hr.x,pr=hr.y,mr=dr.width/ir.scale,fr=dr.height/ir.scale,gr=rr.offsetWidth/mr,yr=rr.offsetHeight/fr,vr=checkZoomBounds(tr||Math.min(gr,yr),ar,lr,0,!1),br=(cr.width-mr*vr)/2,Sr=(cr.height-fr*vr)/2,jr=(cr.left-ur)*vr+br,Cr=(cr.top-pr)*vr+Sr,Pr=calculateBounds(er,vr),Rr=getMouseBoundedPosition(jr,Cr,Pr,or,0,0,rr),Lr=Rr.x,Ir=Rr.y;return{positionX:Lr,positionY:Ir,scale:vr}}var zoomIn=function(er){return function(e,tr,rr){e===void 0&&(e=.5),tr===void 0&&(tr=300),rr===void 0&&(rr="easeOut"),handleZoomToViewCenter(er,1,e,tr,rr)}},zoomOut=function(er){return function(e,tr,rr){e===void 0&&(e=.5),tr===void 0&&(tr=300),rr===void 0&&(rr="easeOut"),handleZoomToViewCenter(er,-1,e,tr,rr)}},setTransform=function(er){return function(e,tr,rr,nr,ir){nr===void 0&&(nr=300),ir===void 0&&(ir="easeOut");var sr=er.transformState,or=sr.positionX,ar=sr.positionY,lr=sr.scale,cr=er.wrapperComponent,dr=er.contentComponent,hr=er.setup.disabled;if(!(hr||!cr||!dr)){var ur={positionX:Number.isNaN(e)?or:e,positionY:Number.isNaN(tr)?ar:tr,scale:Number.isNaN(rr)?lr:rr};animate(er,ur,nr,ir)}}},resetTransform=function(er){return function(e,tr){e===void 0&&(e=200),tr===void 0&&(tr="easeOut"),resetTransformations(er,e,tr)}},centerView=function(er){return function(e,tr,rr){tr===void 0&&(tr=200),rr===void 0&&(rr="easeOut");var nr=er.transformState,ir=er.wrapperComponent,sr=er.contentComponent;if(ir&&sr){var or=getCenterPosition(e||nr.scale,ir,sr);animate(er,or,tr,rr)}}},zoomToElement=function(er){return function(e,tr,rr,nr){rr===void 0&&(rr=600),nr===void 0&&(nr="easeOut"),handleCancelAnimation(er);var ir=er.wrapperComponent,sr=typeof e=="string"?document.getElementById(e):e;if(ir&&sr&&ir.contains(sr)){var or=calculateZoomToNode(er,sr,tr);animate(er,or,rr,nr)}}},getControls=function(er){return{instance:er,zoomIn:zoomIn(er),zoomOut:zoomOut(er),setTransform:setTransform(er),resetTransform:resetTransform(er),centerView:centerView(er),zoomToElement:zoomToElement(er)}},getState=function(er){return{instance:er,state:er.transformState}},getContext$1=function(er){var e={};return Object.assign(e,getState(er)),Object.assign(e,getControls(er)),e},passiveSupported=!1;function makePassiveEventOption(){try{var er={get passive(){return passiveSupported=!0,!1}};return er}catch{return passiveSupported=!1,passiveSupported}}var matchPrefix=".".concat(baseClasses.wrapperClass),isExcludedNode=function(er,e){return e.some(function(tr){return er.matches("".concat(matchPrefix," ").concat(tr,", ").concat(matchPrefix," .").concat(tr,", ").concat(matchPrefix," ").concat(tr," *, ").concat(matchPrefix," .").concat(tr," *"))})},cancelTimeout=function(er){er&&clearTimeout(er)},getTransformStyles=function(er,e,tr){return"translate(".concat(er,"px, ").concat(e,"px) scale(").concat(tr,")")},getCenterPosition=function(er,e,tr){var rr=tr.offsetWidth*er,nr=tr.offsetHeight*er,ir=(e.offsetWidth-rr)/2,sr=(e.offsetHeight-nr)/2;return{scale:er,positionX:ir,positionY:sr}};function mergeRefs(er){return function(e){er.forEach(function(tr){typeof tr=="function"?tr(e):tr!=null&&(tr.current=e)})}}var isWheelAllowed=function(er,e){var tr=er.setup.wheel,rr=tr.disabled,nr=tr.wheelDisabled,ir=tr.touchPadDisabled,sr=tr.excluded,or=er.isInitialized,ar=er.isPanning,lr=e.target,cr=or&&!ar&&!rr&&lr;if(!cr||nr&&!e.ctrlKey||ir&&e.ctrlKey)return!1;var dr=isExcludedNode(lr,sr);return!dr},getDeltaY=function(er){return er?er.deltaY<0?1:-1:0};function getDelta(er,e){var tr=getDeltaY(er),rr=checkIsNumber(e,tr);return rr}function getMousePosition(er,e,tr){var rr=e.getBoundingClientRect(),nr=0,ir=0;if("clientX"in er)nr=(er.clientX-rr.left)/tr,ir=(er.clientY-rr.top)/tr;else{var sr=er.touches[0];nr=(sr.clientX-rr.left)/tr,ir=(sr.clientY-rr.top)/tr}return(Number.isNaN(nr)||Number.isNaN(ir))&&console.error("No mouse or touch offset found"),{x:nr,y:ir}}var handleCalculateWheelZoom=function(er,e,tr,rr,nr){var ir=er.transformState.scale,sr=er.wrapperComponent,or=er.setup,ar=or.maxScale,lr=or.minScale,cr=or.zoomAnimation,dr=or.disablePadding,hr=cr.size,ur=cr.disabled;if(!sr)throw new Error("Wrapper is not mounted");var pr=ir+e*tr,mr=rr?!1:!ur,fr=checkZoomBounds(roundNumber(pr,3),lr,ar,hr,mr&&!dr);return fr},handleWheelZoomStop=function(er,e){var tr=er.previousWheelEvent,rr=er.transformState.scale,nr=er.setup,ir=nr.maxScale,sr=nr.minScale;return tr?rr<ir||rr>sr||Math.sign(tr.deltaY)!==Math.sign(e.deltaY)||tr.deltaY>0&&tr.deltaY<e.deltaY||tr.deltaY<0&&tr.deltaY>e.deltaY||Math.sign(tr.deltaY)!==Math.sign(e.deltaY):!1},isPinchStartAllowed=function(er,e){var tr=er.setup.pinch,rr=tr.disabled,nr=tr.excluded,ir=er.isInitialized,sr=e.target,or=ir&&!rr&&sr;if(!or)return!1;var ar=isExcludedNode(sr,nr);return!ar},isPinchAllowed=function(er){var e=er.setup.pinch.disabled,tr=er.isInitialized,rr=er.pinchStartDistance,nr=tr&&!e&&rr;return!!nr},calculateTouchMidPoint=function(er,e,tr){var rr=tr.getBoundingClientRect(),nr=er.touches,ir=roundNumber(nr[0].clientX-rr.left,5),sr=roundNumber(nr[0].clientY-rr.top,5),or=roundNumber(nr[1].clientX-rr.left,5),ar=roundNumber(nr[1].clientY-rr.top,5);return{x:(ir+or)/2/e,y:(sr+ar)/2/e}},getTouchDistance=function(er){return Math.sqrt(Math.pow(er.touches[0].pageX-er.touches[1].pageX,2)+Math.pow(er.touches[0].pageY-er.touches[1].pageY,2))},calculatePinchZoom=function(er,e){var tr=er.pinchStartScale,rr=er.pinchStartDistance,nr=er.setup,ir=nr.maxScale,sr=nr.minScale,or=nr.zoomAnimation,ar=nr.disablePadding,lr=or.size,cr=or.disabled;if(!tr||rr===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return er.transformState.scale;var dr=e/rr,hr=dr*tr;return checkZoomBounds(roundNumber(hr,2),sr,ir,lr,!cr&&!ar)},wheelStopEventTime=160,wheelAnimationTime=100,handleWheelStart=function(er,e){var tr=er.props,rr=tr.onWheelStart,nr=tr.onZoomStart;er.wheelStopEventTimer||(handleCancelAnimation(er),handleCallback(getContext$1(er),e,rr),handleCallback(getContext$1(er),e,nr))},handleWheelZoom=function(er,e){var tr=er.props,rr=tr.onWheel,nr=tr.onZoom,ir=er.contentComponent,sr=er.setup,or=er.transformState,ar=or.scale,lr=sr.limitToBounds,cr=sr.centerZoomedOut,dr=sr.zoomAnimation,hr=sr.wheel,ur=sr.disablePadding,pr=sr.smooth,mr=dr.size,fr=dr.disabled,gr=hr.step,yr=hr.smoothStep;if(!ir)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var vr=getDelta(e,null),br=pr?yr*Math.abs(e.deltaY):gr,Sr=handleCalculateWheelZoom(er,vr,br,!e.ctrlKey);if(ar!==Sr){var jr=handleCalculateBounds(er,Sr),Cr=getMousePosition(e,ir,ar),Pr=fr||mr===0||cr||ur,Rr=lr&&Pr,Lr=handleCalculateZoomPositions(er,Cr.x,Cr.y,Sr,jr,Rr),Ir=Lr.x,Nr=Lr.y;er.previousWheelEvent=e,er.setTransformState(Sr,Ir,Nr),handleCallback(getContext$1(er),e,rr),handleCallback(getContext$1(er),e,nr)}},handleWheelStop=function(er,e){var tr=er.props,rr=tr.onWheelStop,nr=tr.onZoomStop;cancelTimeout(er.wheelAnimationTimer),er.wheelAnimationTimer=setTimeout(function(){er.mounted&&(handleAlignToScaleBounds(er,e.x,e.y),er.wheelAnimationTimer=null)},wheelAnimationTime);var ir=handleWheelZoomStop(er,e);ir&&(cancelTimeout(er.wheelStopEventTimer),er.wheelStopEventTimer=setTimeout(function(){er.mounted&&(er.wheelStopEventTimer=null,handleCallback(getContext$1(er),e,rr),handleCallback(getContext$1(er),e,nr))},wheelStopEventTime))},getTouchCenter=function(er){for(var e=0,tr=0,rr=0;rr<2;rr+=1)e+=er.touches[rr].clientX,tr+=er.touches[rr].clientY;var nr=e/2,ir=tr/2;return{x:nr,y:ir}},handlePinchStart=function(er,e){var tr=getTouchDistance(e);er.pinchStartDistance=tr,er.lastDistance=tr,er.pinchStartScale=er.transformState.scale,er.isPanning=!1;var rr=getTouchCenter(e);er.pinchLastCenterX=rr.x,er.pinchLastCenterY=rr.y,handleCancelAnimation(er)},handlePinchZoom=function(er,e){var tr=er.contentComponent,rr=er.pinchStartDistance,nr=er.wrapperComponent,ir=er.transformState.scale,sr=er.setup,or=sr.limitToBounds,ar=sr.centerZoomedOut,lr=sr.zoomAnimation,cr=sr.alignmentAnimation,dr=lr.disabled,hr=lr.size;if(!(rr===null||!tr)){var ur=calculateTouchMidPoint(e,ir,tr);if(!(!Number.isFinite(ur.x)||!Number.isFinite(ur.y))){var pr=getTouchDistance(e),mr=calculatePinchZoom(er,pr),fr=getTouchCenter(e),gr=fr.x-(er.pinchLastCenterX||0),yr=fr.y-(er.pinchLastCenterY||0);if(!(mr===ir&&gr===0&&yr===0)){er.pinchLastCenterX=fr.x,er.pinchLastCenterY=fr.y;var vr=handleCalculateBounds(er,mr),br=dr||hr===0||ar,Sr=or&&br,jr=handleCalculateZoomPositions(er,ur.x,ur.y,mr,vr,Sr),Cr=jr.x,Pr=jr.y;er.pinchMidpoint=ur,er.lastDistance=pr;var Rr=cr.sizeX,Lr=cr.sizeY,Ir=getPaddingValue(er,Rr),Nr=getPaddingValue(er,Lr),Ar=Cr+gr,Dr=Pr+yr,Tr=getMouseBoundedPosition(Ar,Dr,vr,or,Ir,Nr,nr),_r=Tr.x,wr=Tr.y;er.setTransformState(mr,_r,wr)}}}},handlePinchStop=function(er){var e=er.pinchMidpoint;er.velocity=null,er.lastDistance=null,er.pinchMidpoint=null,er.pinchStartScale=null,er.pinchStartDistance=null,handleAlignToScaleBounds(er,e==null?void 0:e.x,e==null?void 0:e.y)},handleDoubleClickStop=function(er,e){var tr=er.props.onZoomStop,rr=er.setup.doubleClick.animationTime;cancelTimeout(er.doubleClickStopEventTimer),er.doubleClickStopEventTimer=setTimeout(function(){er.doubleClickStopEventTimer=null,handleCallback(getContext$1(er),e,tr)},rr)},handleDoubleClickResetMode=function(er,e){var tr=er.props,rr=tr.onZoomStart,nr=tr.onZoom,ir=er.setup.doubleClick,sr=ir.animationTime,or=ir.animationType;handleCallback(getContext$1(er),e,rr),resetTransformations(er,sr,or,function(){return handleCallback(getContext$1(er),e,nr)}),handleDoubleClickStop(er,e)};function getDoubleClickScale(er,e){return er==="toggle"?e===1?1:-1:er==="zoomOut"?-1:1}function handleDoubleClick(er,e){var tr=er.setup,rr=er.doubleClickStopEventTimer,nr=er.transformState,ir=er.contentComponent,sr=nr.scale,or=er.props,ar=or.onZoomStart,lr=or.onZoom,cr=tr.doubleClick,dr=cr.disabled,hr=cr.mode,ur=cr.step,pr=cr.animationTime,mr=cr.animationType;if(!dr&&!rr){if(hr==="reset")return handleDoubleClickResetMode(er,e);if(!ir)return console.error("No ContentComponent found");var fr=getDoubleClickScale(hr,er.transformState.scale),gr=handleCalculateButtonZoom(er,fr,ur);if(sr!==gr){handleCallback(getContext$1(er),e,ar);var yr=getMousePosition(e,ir,sr),vr=handleZoomToPoint(er,gr,yr.x,yr.y);if(!vr)return console.error("Error during zoom event. New transformation state was not calculated.");handleCallback(getContext$1(er),e,lr),animate(er,vr,pr,mr),handleDoubleClickStop(er,e)}}}var isDoubleClickAllowed=function(er,e){var tr=er.isInitialized,rr=er.setup,nr=er.wrapperComponent,ir=rr.doubleClick,sr=ir.disabled,or=ir.excluded,ar=e.target,lr=nr==null?void 0:nr.contains(ar),cr=tr&&ar&&lr&&!sr;if(!cr)return!1;var dr=isExcludedNode(ar,or);return!dr},ZoomPanPinch=function(){function er(e){var tr=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){tr.initializeWindowEvents()},this.unmount=function(){tr.cleanupWindowEvents()},this.update=function(rr){tr.props=rr,handleCalculateBounds(tr,tr.transformState.scale),tr.setup=createSetup(rr)},this.initializeWindowEvents=function(){var rr,nr,ir=makePassiveEventOption(),sr=(rr=tr.wrapperComponent)===null||rr===void 0?void 0:rr.ownerDocument,or=sr==null?void 0:sr.defaultView;(nr=tr.wrapperComponent)===null||nr===void 0||nr.addEventListener("wheel",tr.onWheelPanning,ir),or==null||or.addEventListener("mousedown",tr.onPanningStart,ir),or==null||or.addEventListener("mousemove",tr.onPanning,ir),or==null||or.addEventListener("mouseup",tr.onPanningStop,ir),sr==null||sr.addEventListener("mouseleave",tr.clearPanning,ir),or==null||or.addEventListener("keyup",tr.setKeyUnPressed,ir),or==null||or.addEventListener("keydown",tr.setKeyPressed,ir)},this.cleanupWindowEvents=function(){var rr,nr,ir=makePassiveEventOption(),sr=(rr=tr.wrapperComponent)===null||rr===void 0?void 0:rr.ownerDocument,or=sr==null?void 0:sr.defaultView;or==null||or.removeEventListener("mousedown",tr.onPanningStart,ir),or==null||or.removeEventListener("mousemove",tr.onPanning,ir),or==null||or.removeEventListener("mouseup",tr.onPanningStop,ir),sr==null||sr.removeEventListener("mouseleave",tr.clearPanning,ir),or==null||or.removeEventListener("keyup",tr.setKeyUnPressed,ir),or==null||or.removeEventListener("keydown",tr.setKeyPressed,ir),document.removeEventListener("mouseleave",tr.clearPanning,ir),handleCancelAnimation(tr),(nr=tr.observer)===null||nr===void 0||nr.disconnect()},this.handleInitializeWrapperEvents=function(rr){var nr=makePassiveEventOption();rr.addEventListener("wheel",tr.onWheelZoom,nr),rr.addEventListener("dblclick",tr.onDoubleClick,nr),rr.addEventListener("touchstart",tr.onTouchPanningStart,nr),rr.addEventListener("touchmove",tr.onTouchPanning,nr),rr.addEventListener("touchend",tr.onTouchPanningStop,nr)},this.handleInitialize=function(rr,nr){var ir=!1,sr=tr.setup.centerOnInit,or=function(ar,lr){for(var cr=0,dr=ar;cr<dr.length;cr++){var hr=dr[cr];if(hr.target===lr)return!0}return!1};tr.applyTransformation(),tr.onInitCallbacks.forEach(function(ar){ar(getContext$1(tr))}),tr.observer=new ResizeObserver(function(ar){if(or(ar,rr)||or(ar,nr))if(sr&&!ir){var lr=nr.offsetWidth,cr=nr.offsetHeight;(lr>0||cr>0)&&(ir=!0,tr.setCenter())}else handleCancelAnimation(tr),handleCalculateBounds(tr,tr.transformState.scale),handleAlignToBounds(tr,0)}),tr.observer.observe(rr),tr.observer.observe(nr)},this.onWheelZoom=function(rr){var nr=tr.setup.disabled;if(!nr){var ir=isWheelAllowed(tr,rr);if(ir){var sr=tr.isPressingKeys(tr.setup.wheel.activationKeys);sr&&(handleWheelStart(tr,rr),handleWheelZoom(tr,rr),handleWheelStop(tr,rr))}}},this.onWheelPanning=function(rr){var nr=tr.setup,ir=nr.disabled,sr=nr.wheel,or=nr.panning;if(!(!tr.wrapperComponent||!tr.contentComponent||ir||!sr.wheelDisabled||or.disabled||!or.wheelPanning||rr.ctrlKey)){rr.preventDefault(),rr.stopPropagation();var ar=tr.transformState,lr=ar.positionX,cr=ar.positionY,dr=lr-rr.deltaX,hr=cr-rr.deltaY,ur=or.lockAxisX?lr:dr,pr=or.lockAxisY?cr:hr,mr=tr.setup.alignmentAnimation,fr=mr.sizeX,gr=mr.sizeY,yr=getPaddingValue(tr,fr),vr=getPaddingValue(tr,gr);ur===lr&&pr===cr||handleNewPosition(tr,ur,pr,yr,vr)}},this.onPanningStart=function(rr){var nr=tr.setup.disabled,ir=tr.props.onPanningStart;if(!nr){var sr=isPanningStartAllowed(tr,rr);if(sr){var or=tr.isPressingKeys(tr.setup.panning.activationKeys);or&&(rr.button===0&&!tr.setup.panning.allowLeftClickPan||rr.button===1&&!tr.setup.panning.allowMiddleClickPan||rr.button===2&&!tr.setup.panning.allowRightClickPan||(rr.preventDefault(),rr.stopPropagation(),handleCancelAnimation(tr),handlePanningStart(tr,rr),handleCallback(getContext$1(tr),rr,ir)))}}},this.onPanning=function(rr){var nr=tr.setup.disabled,ir=tr.props.onPanning;if(!nr){var sr=isPanningAllowed(tr);if(sr){var or=tr.isPressingKeys(tr.setup.panning.activationKeys);or&&(rr.preventDefault(),rr.stopPropagation(),handlePanning(tr,rr.clientX,rr.clientY),handleCallback(getContext$1(tr),rr,ir))}}},this.onPanningStop=function(rr){var nr=tr.props.onPanningStop;tr.isPanning&&(handlePanningEnd(tr),handleCallback(getContext$1(tr),rr,nr))},this.onPinchStart=function(rr){var nr=tr.setup.disabled,ir=tr.props,sr=ir.onPinchingStart,or=ir.onZoomStart;if(!nr){var ar=isPinchStartAllowed(tr,rr);ar&&(handlePinchStart(tr,rr),handleCancelAnimation(tr),handleCallback(getContext$1(tr),rr,sr),handleCallback(getContext$1(tr),rr,or))}},this.onPinch=function(rr){var nr=tr.setup.disabled,ir=tr.props,sr=ir.onPinching,or=ir.onZoom;if(!nr){var ar=isPinchAllowed(tr);ar&&(rr.preventDefault(),rr.stopPropagation(),handlePinchZoom(tr,rr),handleCallback(getContext$1(tr),rr,sr),handleCallback(getContext$1(tr),rr,or))}},this.onPinchStop=function(rr){var nr=tr.props,ir=nr.onPinchingStop,sr=nr.onZoomStop;tr.pinchStartScale&&(handlePinchStop(tr),handleCallback(getContext$1(tr),rr,ir),handleCallback(getContext$1(tr),rr,sr))},this.onTouchPanningStart=function(rr){var nr=tr.setup.disabled,ir=tr.props.onPanningStart;if(!nr){var sr=isPanningStartAllowed(tr,rr);if(sr){var or=tr.lastTouch&&+new Date-tr.lastTouch<200&&rr.touches.length===1;if(!or){tr.lastTouch=+new Date,handleCancelAnimation(tr);var ar=rr.touches,lr=ar.length===1,cr=ar.length===2;lr&&(handleCancelAnimation(tr),handlePanningStart(tr,rr),handleCallback(getContext$1(tr),rr,ir)),cr&&tr.onPinchStart(rr)}}}},this.onTouchPanning=function(rr){var nr=tr.setup.disabled,ir=tr.props.onPanning;if(tr.isPanning&&rr.touches.length===1){if(nr)return;var sr=isPanningAllowed(tr);if(!sr)return;rr.preventDefault(),rr.stopPropagation();var or=rr.touches[0];handlePanning(tr,or.clientX,or.clientY),handleCallback(getContext$1(tr),rr,ir)}else rr.touches.length>1&&tr.onPinch(rr)},this.onTouchPanningStop=function(rr){tr.onPanningStop(rr),tr.onPinchStop(rr)},this.onDoubleClick=function(rr){var nr=tr.setup.disabled;if(!nr){var ir=isDoubleClickAllowed(tr,rr);ir&&handleDoubleClick(tr,rr)}},this.clearPanning=function(rr){tr.isPanning&&tr.onPanningStop(rr)},this.setKeyPressed=function(rr){tr.pressedKeys[rr.key]=!0},this.setKeyUnPressed=function(rr){tr.pressedKeys[rr.key]=!1},this.isPressingKeys=function(rr){return rr.length?!!rr.find(function(nr){return tr.pressedKeys[nr]}):!0},this.setTransformState=function(rr,nr,ir){var sr=tr.props.onTransformed;if(!Number.isNaN(rr)&&!Number.isNaN(nr)&&!Number.isNaN(ir)){rr!==tr.transformState.scale&&(tr.transformState.previousScale=tr.transformState.scale,tr.transformState.scale=rr),tr.transformState.positionX=nr,tr.transformState.positionY=ir,tr.applyTransformation();var or=getContext$1(tr);tr.onChangeCallbacks.forEach(function(ar){return ar(or)}),handleCallback(or,{scale:rr,positionX:nr,positionY:ir},sr)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(tr.wrapperComponent&&tr.contentComponent){var rr=getCenterPosition(tr.transformState.scale,tr.wrapperComponent,tr.contentComponent);tr.setTransformState(rr.scale,rr.positionX,rr.positionY)}},this.handleTransformStyles=function(rr,nr,ir){return tr.props.customTransform?tr.props.customTransform(rr,nr,ir):getTransformStyles(rr,nr,ir)},this.applyTransformation=function(){if(!(!tr.mounted||!tr.contentComponent)){var rr=tr.transformState,nr=rr.scale,ir=rr.positionX,sr=rr.positionY,or=tr.handleTransformStyles(ir,sr,nr);tr.contentComponent.style.transform=or}},this.getContext=function(){return getContext$1(tr)},this.onChange=function(rr){return tr.onChangeCallbacks.has(rr)||tr.onChangeCallbacks.add(rr),function(){tr.onChangeCallbacks.delete(rr)}},this.onInit=function(rr){return tr.onInitCallbacks.has(rr)||tr.onInitCallbacks.add(rr),function(){tr.onInitCallbacks.delete(rr)}},this.init=function(rr,nr){tr.cleanupWindowEvents(),tr.wrapperComponent=rr,tr.contentComponent=nr,handleCalculateBounds(tr,tr.transformState.scale),tr.handleInitializeWrapperEvents(rr),tr.handleInitialize(rr,nr),tr.initializeWindowEvents(),tr.isInitialized=!0;var ir=getContext$1(tr);handleCallback(ir,void 0,tr.props.onInit)},this.props=e,this.setup=createSetup(this.props),this.transformState=createState(this.props)}return er}(),Context=React$3.createContext(null),getContent=function(er,e){return typeof er=="function"?er(e):er},TransformWrapper=React$3.forwardRef(function(er,e){var tr=reactExports.useRef(new ZoomPanPinch(er)).current,rr=getContent(er.children,getControls(tr));return reactExports.useImperativeHandle(e,function(){return getControls(tr)},[tr]),reactExports.useEffect(function(){tr.update(er)},[tr,er]),React$3.createElement(Context.Provider,{value:tr},rr)});React$3.forwardRef(function(er,e){var tr=reactExports.useRef(null),rr=reactExports.useContext(Context);return reactExports.useEffect(function(){return rr.onChange(function(nr){if(tr.current){var ir=0,sr=0;tr.current.style.transform=rr.handleTransformStyles(ir,sr,1/nr.instance.transformState.scale)}})},[rr]),React$3.createElement("div",__assign({},er,{ref:mergeRefs([tr,e])}))});function styleInject(er,e){e===void 0&&(e={});var tr=e.insertAt;if(!(typeof document>"u")){var rr=document.head||document.getElementsByTagName("head")[0],nr=document.createElement("style");nr.type="text/css",tr==="top"&&rr.firstChild?rr.insertBefore(nr,rr.firstChild):rr.appendChild(nr),nr.styleSheet?nr.styleSheet.cssText=er:nr.appendChild(document.createTextNode(er))}}var css_248z=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,styles={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};styleInject(css_248z);var TransformComponent=function(er){var e=er.children,tr=er.wrapperClass,rr=tr===void 0?"":tr,nr=er.contentClass,ir=nr===void 0?"":nr,sr=er.wrapperStyle,or=er.contentStyle,ar=er.wrapperProps,lr=ar===void 0?{}:ar,cr=er.contentProps,dr=cr===void 0?{}:cr,hr=reactExports.useContext(Context),ur=hr.init,pr=hr.cleanupWindowEvents,mr=reactExports.useRef(null),fr=reactExports.useRef(null);return reactExports.useEffect(function(){var gr=mr.current,yr=fr.current;return gr!==null&&yr!==null&&ur&&(ur==null||ur(gr,yr)),function(){pr==null||pr()}},[]),React$3.createElement("div",__assign({},lr,{ref:mr,className:"".concat(baseClasses.wrapperClass," ").concat(styles.wrapper," ").concat(rr),style:sr}),React$3.createElement("div",__assign({},dr,{ref:fr,className:"".concat(baseClasses.contentClass," ").concat(styles.content," ").concat(ir),style:or}),e))};function ImageGallery({repuesto:er,tipo:e,onUpload:tr,onDelete:rr,onSetPrimary:nr}){var Rr,Lr,Ir,Nr,Ar;const[ir,sr]=reactExports.useState(0),[or,ar]=reactExports.useState(null),[lr,cr]=reactExports.useState(!1),[dr,hr]=reactExports.useState([]),[ur,pr]=reactExports.useState(0),[mr,fr]=reactExports.useState(!1),gr=reactExports.useRef(null),vr=[...(e==="manual"?er==null?void 0:er.imagenesManual:er==null?void 0:er.fotosReales)||[]].sort((Dr,Tr)=>Dr.orden-Tr.orden),br=async Dr=>{const Tr=Dr.target.files;if(!Tr||!er||Tr.length===0)return;const _r=Array.from(Tr);hr(_r),pr(0),fr(!0),gr.current&&(gr.current.value="")},Sr=async Dr=>{if(er){cr(!0);try{await tr(Dr,er.id,e),ur<dr.length-1?(pr(Tr=>Tr+1),fr(!0)):(hr([]),pr(0))}catch(Tr){console.error("Error al subir imagen:",Tr)}finally{cr(!1)}}},jr=()=>{fr(!1),ur<dr.length-1?(pr(Dr=>Dr+1),setTimeout(()=>fr(!0),100)):(hr([]),pr(0))},Cr=()=>{sr(Dr=>Dr>0?Dr-1:vr.length-1)},Pr=()=>{sr(Dr=>Dr<vr.length-1?Dr+1:0)};return er?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg border border-gray-200 overflow-hidden animate-slideInRight",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800",children:e==="manual"?"Imgenes del Manual":"Fotos Reales"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[er.codigoBaader," - ",er.textoBreve.substring(0,30),"..."]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>{var Dr;return(Dr=gr.current)==null?void 0:Dr.click()},loading:lr,icon:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),children:"Agregar"}),jsxRuntimeExports.jsx("input",{ref:gr,type:"file",accept:"image/*",multiple:!0,onChange:br,className:"hidden"})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col",children:vr.length===0?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 missing-image-indicator cursor-pointer",onClick:()=>{var Dr;return(Dr=gr.current)==null?void 0:Dr.click()},children:[jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 text-amber-500 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-amber-700 font-medium mb-1",children:"Sin imgenes"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-amber-600 text-center",children:["Haz clic para agregar ",e==="manual"?"imgenes del manual":"fotos reales"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 bg-gray-100 flex items-center justify-center min-h-[200px]",children:[jsxRuntimeExports.jsx("img",{src:(Rr=vr[ir])==null?void 0:Rr.url,alt:((Lr=vr[ir])==null?void 0:Lr.descripcion)||"Imagen del repuesto",className:"max-w-full max-h-full object-contain cursor-zoom-in",onClick:()=>ar(vr[ir])}),vr.length>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:Cr,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Pr,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[ir+1," / ",vr.length]}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(vr[ir]),className:"absolute top-2 right-2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})}),((Ir=vr[ir])==null?void 0:Ir.esPrincipal)&&jsxRuntimeExports.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs rounded-full flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 fill-current"}),"Principal"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 overflow-x-auto carousel-container pb-1",children:vr.map((Dr,Tr)=>jsxRuntimeExports.jsxs("div",{className:`
                      relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer
                      border-2 transition-all carousel-item
                      ${Tr===ir?"border-primary-500":"border-transparent hover:border-gray-300"}
                    `,onClick:()=>sr(Tr),children:[jsxRuntimeExports.jsx("img",{src:Dr.url,alt:"",className:"w-full h-full object-cover"}),Dr.esPrincipal&&jsxRuntimeExports.jsx(Star,{className:"absolute top-1 right-1 w-3 h-3 text-yellow-400 fill-current"})]},Dr.id))})}),jsxRuntimeExports.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>er&&nr(er,vr[ir]),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${(Nr=vr[ir])!=null&&Nr.esPrincipal?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(Ar=vr[ir])!=null&&Ar.esPrincipal?jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-current"}):jsxRuntimeExports.jsx(StarOff,{className:"w-4 h-4"}),"Principal"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>er&&rr(er,vr[ir]),className:"flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-red-100 text-red-600 hover:bg-red-200 transition-colors ml-auto",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Eliminar"]})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:!!or,onClose:()=>ar(null),size:"full",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-[70vh]",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ar(null),className:"absolute top-2 right-2 z-10 p-2 bg-white rounded-full shadow hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})}),or&&jsxRuntimeExports.jsx(TransformWrapper,{children:jsxRuntimeExports.jsx(TransformComponent,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("img",{src:or.url,alt:or.descripcion,className:"max-w-full max-h-full object-contain"})})}),jsxRuntimeExports.jsx("p",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-gray-500 bg-white/80 px-3 py-1 rounded",children:"Usa el scroll para hacer zoom"})]})}),jsxRuntimeExports.jsx(ImageQualityModal,{isOpen:mr,onClose:jr,file:dr[ur]||null,onConfirm:Sr})]}):null}var exceljs_min={exports:{}};/*! ExcelJS 19-10-2023 */(function(er,e){(function(tr){er.exports=tr()})(function(){return function tr(rr,nr,ir){function sr(lr,cr){if(!nr[lr]){if(!rr[lr]){var dr=typeof commonjsRequire=="function"&&commonjsRequire;if(!cr&&dr)return dr(lr,!0);if(or)return or(lr,!0);var hr=new Error("Cannot find module '"+lr+"'");throw hr.code="MODULE_NOT_FOUND",hr}var ur=nr[lr]={exports:{}};rr[lr][0].call(ur.exports,function(pr){return sr(rr[lr][1][pr]||pr)},ur,ur.exports,tr,rr,nr,ir)}return nr[lr].exports}for(var or=typeof commonjsRequire=="function"&&commonjsRequire,ar=0;ar<ir.length;ar++)sr(ir[ar]);return sr}({1:[function(tr,rr,nr){const ir=tr("fs"),sr=tr("fast-csv"),or=tr("dayjs/plugin/customParseFormat"),ar=tr("dayjs/plugin/utc"),lr=tr("dayjs").extend(or).extend(ar),cr=tr("../utils/stream-buf"),{fs:{exists:dr}}=tr("../utils/utils"),hr={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};rr.exports=class{constructor(ur){this.workbook=ur,this.worksheet=null}async readFile(ur,pr){if(pr=pr||{},!await dr(ur))throw new Error("File not found: "+ur);const mr=ir.createReadStream(ur),fr=await this.read(mr,pr);return mr.close(),fr}read(ur,pr){return pr=pr||{},new Promise((mr,fr)=>{const gr=this.workbook.addWorksheet(pr.sheetName),yr=pr.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],vr=pr.map||function(Sr){if(Sr==="")return null;const jr=Number(Sr);if(!Number.isNaN(jr)&&jr!==1/0)return jr;const Cr=yr.reduce((Rr,Lr)=>{if(Rr)return Rr;const Ir=lr(Sr,Lr,!0);return Ir.isValid()?Ir:null},null);if(Cr)return new Date(Cr.valueOf());const Pr=hr[Sr];return Pr!==void 0?Pr:Sr},br=sr.parse(pr.parserOptions).on("data",Sr=>{gr.addRow(Sr.map(vr))}).on("end",()=>{br.emit("worksheet",gr)});br.on("worksheet",mr).on("error",fr),ur.pipe(br)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(ur,pr){return new Promise((mr,fr)=>{pr=pr||{};const gr=this.workbook.getWorksheet(pr.sheetName||pr.sheetId),yr=sr.format(pr.formatterOptions);ur.on("finish",()=>{mr()}),yr.on("error",fr),yr.pipe(ur);const{dateFormat:vr,dateUTC:br}=pr,Sr=pr.map||(Pr=>{if(Pr){if(Pr.text||Pr.hyperlink)return Pr.hyperlink||Pr.text||"";if(Pr.formula||Pr.result)return Pr.result||"";if(Pr instanceof Date)return vr?br?lr.utc(Pr).format(vr):lr(Pr).format(vr):br?lr.utc(Pr).format():lr(Pr).format();if(Pr.error)return Pr.error;if(typeof Pr=="object")return JSON.stringify(Pr)}return Pr}),jr=pr.includeEmptyRows===void 0||pr.includeEmptyRows;let Cr=1;gr&&gr.eachRow((Pr,Rr)=>{if(jr)for(;Cr++<Rr-1;)yr.write([]);const{values:Lr}=Pr;Lr.shift(),yr.write(Lr.map(Sr)),Cr=Rr}),yr.end()})}writeFile(ur,pr){const mr={encoding:(pr=pr||{}).encoding||"utf8"},fr=ir.createWriteStream(ur,mr);return this.write(fr,pr)}async writeBuffer(ur){const pr=new cr;return await this.write(pr,ur),pr.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(tr,rr,nr){const ir=tr("../utils/col-cache");class sr{constructor(ar,lr){let cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=ar,lr)if(typeof lr=="string"){const dr=ir.decodeAddress(lr);this.nativeCol=dr.col+cr,this.nativeColOff=0,this.nativeRow=dr.row+cr,this.nativeRowOff=0}else lr.nativeCol!==void 0?(this.nativeCol=lr.nativeCol||0,this.nativeColOff=lr.nativeColOff||0,this.nativeRow=lr.nativeRow||0,this.nativeRowOff=lr.nativeRowOff||0):lr.col!==void 0?(this.col=lr.col+cr,this.row=lr.row+cr):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(ar){return ar instanceof sr||ar==null?ar:new sr(ar)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(ar){this.nativeCol=Math.floor(ar),this.nativeColOff=Math.floor((ar-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(ar){this.nativeRow=Math.floor(ar),this.nativeRowOff=Math.floor((ar-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(ar){this.nativeCol=ar.nativeCol,this.nativeColOff=ar.nativeColOff,this.nativeRow=ar.nativeRow,this.nativeRowOff=ar.nativeRowOff}}rr.exports=sr},{"../utils/col-cache":19}],3:[function(tr,rr,nr){const ir=tr("../utils/col-cache"),sr=tr("../utils/under-dash"),or=tr("./enums"),{slideFormula:ar}=tr("../utils/shared-formula"),lr=tr("./note");class cr{constructor(ur,pr,mr){if(!ur||!pr)throw new Error("A Cell needs a Row");this._row=ur,this._column=pr,ir.validateAddress(mr),this._address=mr,this._value=dr.create(cr.Types.Null,this),this.style=this._mergeStyle(ur.style,pr.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(ur){this.style.numFmt=ur}get font(){return this.style.font}set font(ur){this.style.font=ur}get alignment(){return this.style.alignment}set alignment(ur){this.style.alignment=ur}get border(){return this.style.border}set border(ur){this.style.border=ur}get fill(){return this.style.fill}set fill(ur){this.style.fill=ur}get protection(){return this.style.protection}set protection(ur){this.style.protection=ur}_mergeStyle(ur,pr,mr){const fr=ur&&ur.numFmt||pr&&pr.numFmt;fr&&(mr.numFmt=fr);const gr=ur&&ur.font||pr&&pr.font;gr&&(mr.font=gr);const yr=ur&&ur.alignment||pr&&pr.alignment;yr&&(mr.alignment=yr);const vr=ur&&ur.border||pr&&pr.border;vr&&(mr.border=vr);const br=ur&&ur.fill||pr&&pr.fill;br&&(mr.fill=br);const Sr=ur&&ur.protection||pr&&pr.protection;return Sr&&(mr.protection=Sr),mr}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===cr.Types.Merge}merge(ur,pr){this._value.release(),this._value=dr.create(cr.Types.Merge,this,ur),pr||(this.style=ur.style)}unmerge(){this.type===cr.Types.Merge&&(this._value.release(),this._value=dr.create(cr.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(ur){return this._value.type===cr.Types.Merge&&this._value.isMergedTo(ur)}get master(){return this.type===cr.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===cr.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(ur){this.type!==cr.Types.Merge?(this._value.release(),this._value=dr.create(dr.getType(ur),this,ur)):this._value.master.value=ur}get note(){return this._comment&&this._comment.note}set note(ur){this._comment=new lr(ur)}get text(){return this._value.toString()}get html(){return sr.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(ur){this.type===cr.Types.String&&(this._value=dr.create(cr.Types.Hyperlink,this,{text:this._value.value,hyperlink:ur}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:ur}=this._row;return{sheetName:ur.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(ur){this.names=[ur]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(ur){const{definedNames:pr}=this.workbook;pr.removeAllNames(this.fullAddress),ur.forEach(mr=>{pr.addEx(this.fullAddress,mr)})}addName(ur){this.workbook.definedNames.addEx(this.fullAddress,ur)}removeName(ur){this.workbook.definedNames.removeEx(this.fullAddress,ur)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(ur){this._dataValidations.add(this.address,ur)}get model(){const{model:ur}=this._value;return ur.style=this.style,this._comment&&(ur.comment=this._comment.model),ur}set model(ur){if(this._value.release(),this._value=dr.create(ur.type,this),this._value.model=ur,ur.comment)switch(ur.comment.type){case"note":this._comment=lr.fromModel(ur.comment)}ur.style?this.style=ur.style:this.style={}}}cr.Types=or.ValueType;const dr={getType:hr=>hr==null?cr.Types.Null:hr instanceof String||typeof hr=="string"?cr.Types.String:typeof hr=="number"?cr.Types.Number:typeof hr=="boolean"?cr.Types.Boolean:hr instanceof Date?cr.Types.Date:hr.text&&hr.hyperlink?cr.Types.Hyperlink:hr.formula||hr.sharedFormula?cr.Types.Formula:hr.richText?cr.Types.RichText:hr.sharedString?cr.Types.SharedString:hr.error?cr.Types.Error:cr.Types.JSON,types:[{t:cr.Types.Null,f:class{constructor(hr){this.model={address:hr.address,type:cr.Types.Null}}get value(){return null}set value(hr){}get type(){return cr.Types.Null}get effectiveType(){return cr.Types.Null}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return""}release(){}toString(){return""}}},{t:cr.Types.Number,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Number,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.Number}get effectiveType(){return cr.Types.Number}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:cr.Types.String,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.String,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.String}get effectiveType(){return cr.Types.String}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:cr.Types.Date,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Date,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.Date}get effectiveType(){return cr.Types.Date}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:cr.Types.Hyperlink,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Hyperlink,text:ur?ur.text:void 0,hyperlink:ur?ur.hyperlink:void 0},ur&&ur.tooltip&&(this.model.tooltip=ur.tooltip)}get value(){const hr={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(hr.tooltip=this.model.tooltip),hr}set value(hr){this.model={text:hr.text,hyperlink:hr.hyperlink},hr.tooltip&&(this.model.tooltip=hr.tooltip)}get text(){return this.model.text}set text(hr){this.model.text=hr}get hyperlink(){return this.model.hyperlink}set hyperlink(hr){this.model.hyperlink=hr}get type(){return cr.Types.Hyperlink}get effectiveType(){return cr.Types.Hyperlink}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:cr.Types.Formula,f:class{constructor(hr,ur){this.cell=hr,this.model={address:hr.address,type:cr.Types.Formula,shareType:ur?ur.shareType:void 0,ref:ur?ur.ref:void 0,formula:ur?ur.formula:void 0,sharedFormula:ur?ur.sharedFormula:void 0,result:ur?ur.result:void 0}}_copyModel(hr){const ur={},pr=mr=>{const fr=hr[mr];fr&&(ur[mr]=fr)};return pr("formula"),pr("result"),pr("ref"),pr("shareType"),pr("sharedFormula"),ur}get value(){return this._copyModel(this.model)}set value(hr){this.model=this._copyModel(hr)}validate(hr){switch(dr.getType(hr)){case cr.Types.Null:case cr.Types.String:case cr.Types.Number:case cr.Types.Date:break;case cr.Types.Hyperlink:case cr.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(hr){this.model.formula=hr}get formulaType(){return this.model.formula?or.FormulaType.Master:this.model.sharedFormula?or.FormulaType.Shared:or.FormulaType.None}get result(){return this.model.result}set result(hr){this.model.result=hr}get type(){return cr.Types.Formula}get effectiveType(){const hr=this.model.result;return hr==null?or.ValueType.Null:hr instanceof String||typeof hr=="string"?or.ValueType.String:typeof hr=="number"?or.ValueType.Number:hr instanceof Date?or.ValueType.Date:hr.text&&hr.hyperlink?or.ValueType.Hyperlink:hr.formula?or.ValueType.Formula:or.ValueType.Null}get address(){return this.model.address}set address(hr){this.model.address=hr}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:hr}=this.cell,ur=hr.findCell(this.model.sharedFormula);this._translatedFormula=ur&&ar(ur.formula,ur.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:cr.Types.Merge,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Merge,master:ur?ur.address:void 0},this._master=ur,ur&&ur.addMergeRef()}get value(){return this._master.value}set value(hr){hr instanceof cr?(this._master&&this._master.releaseMergeRef(),hr.addMergeRef(),this._master=hr):this._master.value=hr}isMergedTo(hr){return hr===this._master}get master(){return this._master}get type(){return cr.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:cr.Types.JSON,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.String,value:JSON.stringify(ur),rawValue:ur}}get value(){return this.model.rawValue}set value(hr){this.model.rawValue=hr,this.model.value=JSON.stringify(hr)}get type(){return cr.Types.String}get effectiveType(){return cr.Types.String}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:cr.Types.SharedString,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.SharedString,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.SharedString}get effectiveType(){return cr.Types.SharedString}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:cr.Types.RichText,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.String,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}toString(){return this.model.value.richText.map(hr=>hr.text).join("")}get type(){return cr.Types.RichText}get effectiveType(){return cr.Types.RichText}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:cr.Types.Boolean,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Boolean,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.Boolean}get effectiveType(){return cr.Types.Boolean}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:cr.Types.Error,f:class{constructor(hr,ur){this.model={address:hr.address,type:cr.Types.Error,value:ur}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return cr.Types.Error}get effectiveType(){return cr.Types.Error}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((hr,ur)=>(hr[ur.t]=ur.f,hr),[]),create(hr,ur,pr){const mr=this.types[hr];if(!mr)throw new Error("Could not create Value of type "+hr);return new mr(ur,pr)}};rr.exports=cr},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(tr,rr,nr){const ir=tr("../utils/under-dash"),sr=tr("./enums"),or=tr("../utils/col-cache");class ar{constructor(cr,dr,hr){this._worksheet=cr,this._number=dr,hr!==!1&&(this.defn=hr)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return or.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(cr){cr?(this.key=cr.key,this.width=cr.width!==void 0?cr.width:9,this.outlineLevel=cr.outlineLevel,cr.style?this.style=cr.style:this.style={},this.header=cr.header,this._hidden=!!cr.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(cr){cr!==void 0?(this._header=cr,this.headers.forEach((dr,hr)=>{this._worksheet.getCell(hr+1,this.number).value=dr})):this._header=void 0}get key(){return this._key}set key(cr){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=cr,cr&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(cr){this._hidden=cr}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(cr){this._outlineLevel=cr}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(cr){return this.width===cr.width&&this.hidden===cr.hidden&&this.outlineLevel===cr.outlineLevel&&ir.isEqual(this.style,cr.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const cr=this.style;return!cr||!(cr.font||cr.numFmt||cr.alignment||cr.border||cr.fill||cr.protection)}get headerCount(){return this.headers.length}eachCell(cr,dr){const hr=this.number;dr||(dr=cr,cr=null),this._worksheet.eachRow(cr,(ur,pr)=>{dr(ur.getCell(hr),pr)})}get values(){const cr=[];return this.eachCell((dr,hr)=>{dr&&dr.type!==sr.ValueType.Null&&(cr[hr]=dr.value)}),cr}set values(cr){if(!cr)return;const dr=this.number;let hr=0;cr.hasOwnProperty("0")&&(hr=1),cr.forEach((ur,pr)=>{this._worksheet.getCell(pr+hr,dr).value=ur})}_applyStyle(cr,dr){return this.style[cr]=dr,this.eachCell(hr=>{hr[cr]=dr}),dr}get numFmt(){return this.style.numFmt}set numFmt(cr){this._applyStyle("numFmt",cr)}get font(){return this.style.font}set font(cr){this._applyStyle("font",cr)}get alignment(){return this.style.alignment}set alignment(cr){this._applyStyle("alignment",cr)}get protection(){return this.style.protection}set protection(cr){this._applyStyle("protection",cr)}get border(){return this.style.border}set border(cr){this._applyStyle("border",cr)}get fill(){return this.style.fill}set fill(cr){this._applyStyle("fill",cr)}static toModel(cr){const dr=[];let hr=null;return cr&&cr.forEach((ur,pr)=>{ur.isDefault?hr&&(hr=null):hr&&ur.equivalentTo(hr)?hr.max=pr+1:(hr={min:pr+1,max:pr+1,width:ur.width!==void 0?ur.width:9,style:ur.style,isCustomWidth:ur.isCustomWidth,hidden:ur.hidden,outlineLevel:ur.outlineLevel,collapsed:ur.collapsed},dr.push(hr))}),dr.length?dr:void 0}static fromModel(cr,dr){const hr=[];let ur=1,pr=0;for(dr=(dr=dr||[]).sort(function(mr,fr){return mr.min-fr.min});pr<dr.length;){const mr=dr[pr++];for(;ur<mr.min;)hr.push(new ar(cr,ur++));for(;ur<=mr.max;)hr.push(new ar(cr,ur++,mr))}return hr.length?hr:null}}rr.exports=ar},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(tr,rr,nr){rr.exports=class{constructor(ir){this.model=ir||{}}add(ir,sr){return this.model[ir]=sr}find(ir){return this.model[ir]}remove(ir){this.model[ir]=void 0}}},{}],6:[function(tr,rr,nr){const ir=tr("../utils/under-dash"),sr=tr("../utils/col-cache"),or=tr("../utils/cell-matrix"),ar=tr("./range"),lr=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;rr.exports=class{constructor(){this.matrixMap={}}getMatrix(cr){return this.matrixMap[cr]||(this.matrixMap[cr]=new or)}add(cr,dr){const hr=sr.decodeEx(cr);this.addEx(hr,dr)}addEx(cr,dr){const hr=this.getMatrix(dr);if(cr.top)for(let ur=cr.left;ur<=cr.right;ur++)for(let pr=cr.top;pr<=cr.bottom;pr++){const mr={sheetName:cr.sheetName,address:sr.n2l(ur)+pr,row:pr,col:ur};hr.addCellEx(mr)}else hr.addCellEx(cr)}remove(cr,dr){const hr=sr.decodeEx(cr);this.removeEx(hr,dr)}removeEx(cr,dr){this.getMatrix(dr).removeCellEx(cr)}removeAllNames(cr){ir.each(this.matrixMap,dr=>{dr.removeCellEx(cr)})}forEach(cr){ir.each(this.matrixMap,(dr,hr)=>{dr.forEach(ur=>{cr(hr,ur)})})}getNames(cr){return this.getNamesEx(sr.decodeEx(cr))}getNamesEx(cr){return ir.map(this.matrixMap,(dr,hr)=>dr.findCellEx(cr)&&hr).filter(Boolean)}_explore(cr,dr){dr.mark=!1;const{sheetName:hr}=dr,ur=new ar(dr.row,dr.col,dr.row,dr.col,hr);let pr,mr;function fr(yr,vr){const br=cr.findCellAt(hr,yr,dr.col);return!(!br||!br.mark)&&(ur[vr]=yr,br.mark=!1,!0)}for(mr=dr.row-1;fr(mr,"top");mr--);for(mr=dr.row+1;fr(mr,"bottom");mr++);function gr(yr,vr){const br=[];for(mr=ur.top;mr<=ur.bottom;mr++){const Sr=cr.findCellAt(hr,mr,yr);if(!Sr||!Sr.mark)return!1;br.push(Sr)}ur[vr]=yr;for(let Sr=0;Sr<br.length;Sr++)br[Sr].mark=!1;return!0}for(pr=dr.col-1;gr(pr,"left");pr--);for(pr=dr.col+1;gr(pr,"right");pr++);return ur}getRanges(cr,dr){return(dr=dr||this.matrixMap[cr])?(dr.forEach(hr=>{hr.mark=!0}),{name:cr,ranges:dr.map(hr=>hr.mark&&this._explore(dr,hr)).filter(Boolean).map(hr=>hr.$shortRange)}):{name:cr,ranges:[]}}normaliseMatrix(cr,dr){cr.forEachInSheet(dr,(hr,ur,pr)=>{hr&&(hr.row===ur&&hr.col===pr||(hr.row=ur,hr.col=pr,hr.address=sr.n2l(pr)+ur))})}spliceRows(cr,dr,hr,ur){ir.each(this.matrixMap,pr=>{pr.spliceRows(cr,dr,hr,ur),this.normaliseMatrix(pr,cr)})}spliceColumns(cr,dr,hr,ur){ir.each(this.matrixMap,pr=>{pr.spliceColumns(cr,dr,hr,ur),this.normaliseMatrix(pr,cr)})}get model(){return ir.map(this.matrixMap,(cr,dr)=>this.getRanges(dr,cr)).filter(cr=>cr.ranges.length)}set model(cr){const dr=this.matrixMap={};cr.forEach(hr=>{const ur=dr[hr.name]=new or;hr.ranges.forEach(pr=>{lr.test(pr.split("!").pop()||"")&&ur.addCell(pr)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(tr,rr,nr){rr.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(tr,rr,nr){const ir=tr("../utils/col-cache"),sr=tr("./anchor");rr.exports=class{constructor(or,ar){this.worksheet=or,this.model=ar}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(or){let{type:ar,imageId:lr,range:cr,hyperlinks:dr}=or;if(this.type=ar,this.imageId=lr,ar==="image")if(typeof cr=="string"){const hr=ir.decode(cr);this.range={tl:new sr(this.worksheet,{col:hr.left,row:hr.top},-1),br:new sr(this.worksheet,{col:hr.right,row:hr.bottom},0),editAs:"oneCell"}}else this.range={tl:new sr(this.worksheet,cr.tl,0),br:cr.br&&new sr(this.worksheet,cr.br,0),ext:cr.ext,editAs:cr.editAs,hyperlinks:dr||cr.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(tr,rr,nr){const ir=tr("../utils/under-dash");class sr{constructor(ar){this.note=ar}get model(){let ar=null;switch(typeof this.note){case"string":ar={type:"note",note:{texts:[{text:this.note}]}};break;default:ar={type:"note",note:this.note}}return ir.deepMerge({},sr.DEFAULT_CONFIGS,ar)}set model(ar){const{note:lr}=ar,{texts:cr}=lr;cr.length===1&&Object.keys(cr[0]).length===1?this.note=cr[0].text:this.note=lr}static fromModel(ar){const lr=new sr;return lr.model=ar,lr}}sr.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},rr.exports=sr},{"../utils/under-dash":26}],10:[function(tr,rr,nr){const ir=tr("../utils/col-cache");class sr{constructor(){this.decode(arguments)}setTLBR(ar,lr,cr,dr,hr){if(arguments.length<4){const ur=ir.decodeAddress(ar),pr=ir.decodeAddress(lr);this.model={top:Math.min(ur.row,pr.row),left:Math.min(ur.col,pr.col),bottom:Math.max(ur.row,pr.row),right:Math.max(ur.col,pr.col),sheetName:cr},this.setTLBR(ur.row,ur.col,pr.row,pr.col,hr)}else this.model={top:Math.min(ar,cr),left:Math.min(lr,dr),bottom:Math.max(ar,cr),right:Math.max(lr,dr),sheetName:hr}}decode(ar){switch(ar.length){case 5:this.setTLBR(ar[0],ar[1],ar[2],ar[3],ar[4]);break;case 4:this.setTLBR(ar[0],ar[1],ar[2],ar[3]);break;case 3:this.setTLBR(ar[0],ar[1],ar[2]);break;case 2:this.setTLBR(ar[0],ar[1]);break;case 1:{const lr=ar[0];if(lr instanceof sr)this.model={top:lr.model.top,left:lr.model.left,bottom:lr.model.bottom,right:lr.model.right,sheetName:lr.sheetName};else if(lr instanceof Array)this.decode(lr);else if(lr.top&&lr.left&&lr.bottom&&lr.right)this.model={top:lr.top,left:lr.left,bottom:lr.bottom,right:lr.right,sheetName:lr.sheetName};else{const cr=ir.decodeEx(lr);cr.top?this.model={top:cr.top,left:cr.left,bottom:cr.bottom,right:cr.right,sheetName:cr.sheetName}:this.model={top:cr.row,left:cr.col,bottom:cr.row,right:cr.col,sheetName:cr.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+ar.length)}}get top(){return this.model.top||1}set top(ar){this.model.top=ar}get left(){return this.model.left||1}set left(ar){this.model.left=ar}get bottom(){return this.model.bottom||1}set bottom(ar){this.model.bottom=ar}get right(){return this.model.right||1}set right(ar){this.model.right=ar}get sheetName(){return this.model.sheetName}set sheetName(ar){this.model.sheetName=ar}get _serialisedSheetName(){const{sheetName:ar}=this.model;return ar?/^[a-zA-Z0-9]*$/.test(ar)?ar+"!":`'${ar}'!`:""}expand(ar,lr,cr,dr){(!this.model.top||ar<this.top)&&(this.top=ar),(!this.model.left||lr<this.left)&&(this.left=lr),(!this.model.bottom||cr>this.bottom)&&(this.bottom=cr),(!this.model.right||dr>this.right)&&(this.right=dr)}expandRow(ar){if(ar){const{dimensions:lr,number:cr}=ar;lr&&this.expand(cr,lr.min,cr,lr.max)}}expandToAddress(ar){const lr=ir.decodeEx(ar);this.expand(lr.row,lr.col,lr.row,lr.col)}get tl(){return ir.n2l(this.left)+this.top}get $t$l(){return`$${ir.n2l(this.left)}$${this.top}`}get br(){return ir.n2l(this.right)+this.bottom}get $b$r(){return`$${ir.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(ar){return(!ar.sheetName||!this.sheetName||ar.sheetName===this.sheetName)&&!(ar.bottom<this.top)&&!(ar.top>this.bottom)&&!(ar.right<this.left)&&!(ar.left>this.right)}contains(ar){const lr=ir.decodeEx(ar);return this.containsEx(lr)}containsEx(ar){return(!ar.sheetName||!this.sheetName||ar.sheetName===this.sheetName)&&ar.row>=this.top&&ar.row<=this.bottom&&ar.col>=this.left&&ar.col<=this.right}forEachAddress(ar){for(let lr=this.left;lr<=this.right;lr++)for(let cr=this.top;cr<=this.bottom;cr++)ar(ir.encodeAddress(cr,lr),cr,lr)}}rr.exports=sr},{"../utils/col-cache":19}],11:[function(tr,rr,nr){const ir=tr("../utils/under-dash"),sr=tr("./enums"),or=tr("../utils/col-cache"),ar=tr("./cell");rr.exports=class{constructor(lr,cr){this._worksheet=lr,this._number=cr,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(lr){return this._cells[lr-1]}getCellEx(lr){let cr=this._cells[lr.col-1];if(!cr){const dr=this._worksheet.getColumn(lr.col);cr=new ar(this,dr,lr.address),this._cells[lr.col-1]=cr}return cr}getCell(lr){if(typeof lr=="string"){const cr=this._worksheet.getColumnKey(lr);lr=cr?cr.number:or.l2n(lr)}return this._cells[lr-1]||this.getCellEx({address:or.encodeAddress(this._number,lr),row:this._number,col:lr})}splice(lr,cr){const dr=lr+cr;for(var hr=arguments.length,ur=new Array(hr>2?hr-2:0),pr=2;pr<hr;pr++)ur[pr-2]=arguments[pr];const mr=ur.length-cr,fr=this._cells.length;let gr,yr,vr;if(mr<0)for(gr=lr+ur.length;gr<=fr;gr++)vr=this._cells[gr-1],yr=this._cells[gr-mr-1],yr?(vr=this.getCell(gr),vr.value=yr.value,vr.style=yr.style,vr._comment=yr._comment):vr&&(vr.value=null,vr.style={},vr._comment=void 0);else if(mr>0)for(gr=fr;gr>=dr;gr--)yr=this._cells[gr-1],yr?(vr=this.getCell(gr+mr),vr.value=yr.value,vr.style=yr.style,vr._comment=yr._comment):this._cells[gr+mr-1]=void 0;for(gr=0;gr<ur.length;gr++)vr=this.getCell(lr+gr),vr.value=ur[gr],vr.style={},vr._comment=void 0}eachCell(lr,cr){if(cr||(cr=lr,lr=null),lr&&lr.includeEmpty){const dr=this._cells.length;for(let hr=1;hr<=dr;hr++)cr(this.getCell(hr),hr)}else this._cells.forEach((dr,hr)=>{dr&&dr.type!==sr.ValueType.Null&&cr(dr,hr+1)})}addPageBreak(lr,cr){const dr=this._worksheet,hr=Math.max(0,lr-1)||0,ur=Math.max(0,cr-1)||16838,pr={id:this._number,max:ur,man:1};hr&&(pr.min=hr),dr.rowBreaks.push(pr)}get values(){const lr=[];return this._cells.forEach(cr=>{cr&&cr.type!==sr.ValueType.Null&&(lr[cr.col]=cr.value)}),lr}set values(lr){if(this._cells=[],lr)if(lr instanceof Array){let cr=0;lr.hasOwnProperty("0")&&(cr=1),lr.forEach((dr,hr)=>{dr!==void 0&&(this.getCellEx({address:or.encodeAddress(this._number,hr+cr),row:this._number,col:hr+cr}).value=dr)})}else this._worksheet.eachColumnKey((cr,dr)=>{lr[dr]!==void 0&&(this.getCellEx({address:or.encodeAddress(this._number,cr.number),row:this._number,col:cr.number}).value=lr[dr])})}get hasValues(){return ir.some(this._cells,lr=>lr&&lr.type!==sr.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let lr=0;return this.eachCell(()=>{lr++}),lr}get dimensions(){let lr=0,cr=0;return this._cells.forEach(dr=>{dr&&dr.type!==sr.ValueType.Null&&((!lr||lr>dr.col)&&(lr=dr.col),cr<dr.col&&(cr=dr.col))}),lr>0?{min:lr,max:cr}:null}_applyStyle(lr,cr){return this.style[lr]=cr,this._cells.forEach(dr=>{dr&&(dr[lr]=cr)}),cr}get numFmt(){return this.style.numFmt}set numFmt(lr){this._applyStyle("numFmt",lr)}get font(){return this.style.font}set font(lr){this._applyStyle("font",lr)}get alignment(){return this.style.alignment}set alignment(lr){this._applyStyle("alignment",lr)}get protection(){return this.style.protection}set protection(lr){this._applyStyle("protection",lr)}get border(){return this.style.border}set border(lr){this._applyStyle("border",lr)}get fill(){return this.style.fill}set fill(lr){this._applyStyle("fill",lr)}get hidden(){return!!this._hidden}set hidden(lr){this._hidden=lr}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(lr){this._outlineLevel=lr}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const lr=[];let cr=0,dr=0;return this._cells.forEach(hr=>{if(hr){const ur=hr.model;ur&&((!cr||cr>hr.col)&&(cr=hr.col),dr<hr.col&&(dr=hr.col),lr.push(ur))}}),this.height||lr.length?{cells:lr,number:this.number,min:cr,max:dr,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(lr){if(lr.number!==this._number)throw new Error("Invalid row number in model");let cr;this._cells=[],lr.cells.forEach(dr=>{switch(dr.type){case ar.Types.Merge:break;default:{let hr;if(dr.address)hr=or.decodeAddress(dr.address);else if(cr){const{row:ur}=cr,pr=cr.col+1;hr={row:ur,col:pr,address:or.encodeAddress(ur,pr),$col$row:`$${or.n2l(pr)}$${ur}`}}cr=hr,this.getCellEx(hr).model=dr;break}}}),lr.height?this.height=lr.height:delete this.height,this.hidden=lr.hidden,this.outlineLevel=lr.outlineLevel||0,this.style=lr.style&&JSON.parse(JSON.stringify(lr.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(tr,rr,nr){const ir=tr("../utils/col-cache");class sr{constructor(ar,lr,cr){this.table=ar,this.column=lr,this.index=cr}_set(ar,lr){this.table.cacheState(),this.column[ar]=lr}get name(){return this.column.name}set name(ar){this._set("name",ar)}get filterButton(){return this.column.filterButton}set filterButton(ar){this.column.filterButton=ar}get style(){return this.column.style}set style(ar){this.column.style=ar}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(ar){this._set("totalsRowLabel",ar)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(ar){this._set("totalsRowFunction",ar)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(ar){this._set("totalsRowResult",ar)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(ar){this._set("totalsRowFormula",ar)}}rr.exports=class{constructor(or,ar){this.worksheet=or,ar&&(this.table=ar,this.validate(),this.store())}getFormula(or){switch(or.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${or.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${or.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${or.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${or.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${or.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${or.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${or.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${or.name}])`;case"custom":return or.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+or.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:or}=this,ar=(mr,fr,gr)=>{mr[fr]===void 0&&(mr[fr]=gr)};ar(or,"headerRow",!0),ar(or,"totalsRow",!1),ar(or,"style",{}),ar(or.style,"theme","TableStyleMedium2"),ar(or.style,"showFirstColumn",!1),ar(or.style,"showLastColumn",!1),ar(or.style,"showRowStripes",!1),ar(or.style,"showColumnStripes",!1);const lr=(mr,fr)=>{if(!mr)throw new Error(fr)};lr(or.ref,"Table must have ref"),lr(or.columns,"Table must have column definitions"),lr(or.rows,"Table must have row definitions"),or.tl=ir.decodeAddress(or.ref);const{row:cr,col:dr}=or.tl;lr(cr>0,"Table must be on valid row"),lr(dr>0,"Table must be on valid col");const{width:hr,filterHeight:ur,tableHeight:pr}=this;or.autoFilterRef=ir.encode(cr,dr,cr+ur-1,dr+hr-1),or.tableRef=ir.encode(cr,dr,cr+pr-1,dr+hr-1),or.columns.forEach((mr,fr)=>{lr(mr.name,`Column ${fr} must have a name`),fr===0?ar(mr,"totalsRowLabel","Total"):(ar(mr,"totalsRowFunction","none"),mr.totalsRowFormula=this.getFormula(mr))})}store(){const or=(ur,pr)=>{pr&&Object.keys(pr).forEach(mr=>{ur[mr]=pr[mr]})},{worksheet:ar,table:lr}=this,{row:cr,col:dr}=lr.tl;let hr=0;if(lr.headerRow){const ur=ar.getRow(cr+hr++);lr.columns.forEach((pr,mr)=>{const{style:fr,name:gr}=pr,yr=ur.getCell(dr+mr);yr.value=gr,or(yr,fr)})}if(lr.rows.forEach(ur=>{const pr=ar.getRow(cr+hr++);ur.forEach((mr,fr)=>{const gr=pr.getCell(dr+fr);gr.value=mr,or(gr,lr.columns[fr].style)})}),lr.totalsRow){const ur=ar.getRow(cr+hr++);lr.columns.forEach((pr,mr)=>{const fr=ur.getCell(dr+mr);if(mr===0)fr.value=pr.totalsRowLabel;else{const gr=this.getFormula(pr);fr.value=gr?{formula:pr.totalsRowFormula,result:pr.totalsRowResult}:null}or(fr,pr.style)})}}load(or){const{table:ar}=this,{row:lr,col:cr}=ar.tl;let dr=0;if(ar.headerRow){const hr=or.getRow(lr+dr++);ar.columns.forEach((ur,pr)=>{hr.getCell(cr+pr).value=ur.name})}if(ar.rows.forEach(hr=>{const ur=or.getRow(lr+dr++);hr.forEach((pr,mr)=>{ur.getCell(cr+mr).value=pr})}),ar.totalsRow){const hr=or.getRow(lr+dr++);ar.columns.forEach((ur,pr)=>{const mr=hr.getCell(cr+pr);pr===0?mr.value=ur.totalsRowLabel:this.getFormula(ur)&&(mr.value={formula:ur.totalsRowFormula,result:ur.totalsRowResult})})}}get model(){return this.table}set model(or){this.table=or}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const or=ir.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let ar=0;ar<this._cache.tableHeight;ar++){const lr=this.worksheet.getRow(or.row+ar);for(let cr=0;cr<this._cache.width;cr++)lr.getCell(or.col+cr).value=null}else{for(let ar=this.tableHeight;ar<this._cache.tableHeight;ar++){const lr=this.worksheet.getRow(or.row+ar);for(let cr=0;cr<this._cache.width;cr++)lr.getCell(or.col+cr).value=null}for(let ar=0;ar<this.tableHeight;ar++){const lr=this.worksheet.getRow(or.row+ar);for(let cr=this.width;cr<this._cache.width;cr++)lr.getCell(or.col+cr).value=null}}this.store()}addRow(or,ar){this.cacheState(),ar===void 0?this.table.rows.push(or):this.table.rows.splice(ar,0,or)}removeRows(or){let ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(or,ar)}getColumn(or){const ar=this.table.columns[or];return new sr(this,ar,or)}addColumn(or,ar,lr){this.cacheState(),lr===void 0?(this.table.columns.push(or),this.table.rows.forEach((cr,dr)=>{cr.push(ar[dr])})):(this.table.columns.splice(lr,0,or),this.table.rows.forEach((cr,dr)=>{cr.splice(lr,0,ar[dr])}))}removeColumns(or){let ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(or,ar),this.table.rows.forEach(lr=>{lr.splice(or,ar)})}_assign(or,ar,lr){this.cacheState(),or[ar]=lr}get ref(){return this.table.ref}set ref(or){this._assign(this.table,"ref",or)}get name(){return this.table.name}set name(or){this.table.name=or}get displayName(){return this.table.displyName||this.table.name}set displayNamename(or){this.table.displayName=or}get headerRow(){return this.table.headerRow}set headerRow(or){this._assign(this.table,"headerRow",or)}get totalsRow(){return this.table.totalsRow}set totalsRow(or){this._assign(this.table,"totalsRow",or)}get theme(){return this.table.style.name}set theme(or){this.table.style.name=or}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(or){this.table.style.showFirstColumn=or}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(or){this.table.style.showLastColumn=or}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(or){this.table.style.showRowStripes=or}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(or){this.table.style.showColumnStripes=or}}},{"../utils/col-cache":19}],13:[function(tr,rr,nr){const ir=tr("./worksheet"),sr=tr("./defined-names"),or=tr("../xlsx/xlsx"),ar=tr("../csv/csv");rr.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new sr}get xlsx(){return this._xlsx||(this._xlsx=new or(this)),this._xlsx}get csv(){return this._csv||(this._csv=new ar(this)),this._csv}get nextId(){for(let lr=1;lr<this._worksheets.length;lr++)if(!this._worksheets[lr])return lr;return this._worksheets.length||1}addWorksheet(lr,cr){const dr=this.nextId;cr&&(typeof cr=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),cr={properties:{tabColor:{argb:cr}}}):(cr.argb||cr.theme||cr.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),cr={properties:{tabColor:cr}}));const hr=this._worksheets.reduce((mr,fr)=>(fr&&fr.orderNo)>mr?fr.orderNo:mr,0),ur=Object.assign({},cr,{id:dr,name:lr,orderNo:hr+1,workbook:this}),pr=new ir(ur);return this._worksheets[dr]=pr,pr}removeWorksheetEx(lr){delete this._worksheets[lr.id]}removeWorksheet(lr){const cr=this.getWorksheet(lr);cr&&cr.destroy()}getWorksheet(lr){return lr===void 0?this._worksheets.find(Boolean):typeof lr=="number"?this._worksheets[lr]:typeof lr=="string"?this._worksheets.find(cr=>cr&&cr.name===lr):void 0}get worksheets(){return this._worksheets.slice(1).sort((lr,cr)=>lr.orderNo-cr.orderNo).filter(Boolean)}eachSheet(lr){this.worksheets.forEach(cr=>{lr(cr,cr.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(lr){const cr=this.media.length;return this.media.push(Object.assign({},lr,{type:"image"})),cr}getImage(lr){return this.media[lr]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(lr=>lr.model),sheets:this.worksheets.map(lr=>lr.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(lr){this.creator=lr.creator,this.lastModifiedBy=lr.lastModifiedBy,this.lastPrinted=lr.lastPrinted,this.created=lr.created,this.modified=lr.modified,this.company=lr.company,this.manager=lr.manager,this.title=lr.title,this.subject=lr.subject,this.keywords=lr.keywords,this.category=lr.category,this.description=lr.description,this.language=lr.language,this.revision=lr.revision,this.contentStatus=lr.contentStatus,this.properties=lr.properties,this.calcProperties=lr.calcProperties,this._worksheets=[],lr.worksheets.forEach(cr=>{const{id:dr,name:hr,state:ur}=cr,pr=lr.sheets&&lr.sheets.findIndex(mr=>mr.id===dr);(this._worksheets[dr]=new ir({id:dr,name:hr,orderNo:pr,state:ur,workbook:this})).model=cr}),this._definedNames.model=lr.definedNames,this.views=lr.views,this._themes=lr.themes,this.media=lr.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(tr,rr,nr){const ir=tr("../utils/under-dash"),sr=tr("../utils/col-cache"),or=tr("./range"),ar=tr("./row"),lr=tr("./column"),cr=tr("./enums"),dr=tr("./image"),hr=tr("./table"),ur=tr("./data-validations"),pr=tr("../utils/encryptor"),{copyStyle:mr}=tr("../utils/copy-style");rr.exports=class{constructor(fr){fr=fr||{},this._workbook=fr.workbook,this.id=fr.id,this.orderNo=fr.orderNo,this.name=fr.name,this.state=fr.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},fr.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!fr.pageSetup||!fr.pageSetup.fitToWidth&&!fr.pageSetup.fitToHeight||fr.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},fr.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},fr.headerFooter),this.dataValidations=new ur,this.views=fr.views||[],this.autoFilter=fr.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(fr){if(fr===void 0&&(fr="sheet"+this.id),this._name!==fr){if(typeof fr!="string")throw new Error("The name has to be a string.");if(fr==="")throw new Error("The name can't be empty.");if(fr==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(fr))throw new Error(`Worksheet name ${fr} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(fr))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+fr);if(fr&&fr.length>31&&(console.warn(`Worksheet name ${fr} exceeds 31 chars. This will be truncated`),fr=fr.substring(0,31)),this._workbook._worksheets.find(gr=>gr&&gr.name.toLowerCase()===fr.toLowerCase()))throw new Error("Worksheet name already exists: "+fr);this._name=fr}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const fr=new or;return this._rows.forEach(gr=>{if(gr){const yr=gr.dimensions;yr&&fr.expand(gr.number,yr.min,gr.number,yr.max)}}),fr}get columns(){return this._columns}set columns(fr){this._headerRowCount=fr.reduce((vr,br)=>{const Sr=(br.header?1:br.headers&&br.headers.length)||0;return Math.max(vr,Sr)},0);let gr=1;const yr=this._columns=[];fr.forEach(vr=>{const br=new lr(this,gr++,!1);yr.push(br),br.defn=vr})}getColumnKey(fr){return this._keys[fr]}setColumnKey(fr,gr){this._keys[fr]=gr}deleteColumnKey(fr){delete this._keys[fr]}eachColumnKey(fr){ir.each(this._keys,fr)}getColumn(fr){if(typeof fr=="string"){const gr=this._keys[fr];if(gr)return gr;fr=sr.l2n(fr)}if(this._columns||(this._columns=[]),fr>this._columns.length){let gr=this._columns.length+1;for(;gr<=fr;)this._columns.push(new lr(this,gr++))}return this._columns[fr-1]}spliceColumns(fr,gr){const yr=this._rows.length;for(var vr=arguments.length,br=new Array(vr>2?vr-2:0),Sr=2;Sr<vr;Sr++)br[Sr-2]=arguments[Sr];if(br.length>0)for(let Rr=0;Rr<yr;Rr++){const Lr=[fr,gr];br.forEach(Nr=>{Lr.push(Nr[Rr]||null)});const Ir=this.getRow(Rr+1);Ir.splice.apply(Ir,Lr)}else this._rows.forEach(Rr=>{Rr&&Rr.splice(fr,gr)});const jr=br.length-gr,Cr=fr+gr,Pr=this._columns.length;if(jr<0)for(let Rr=fr+br.length;Rr<=Pr;Rr++)this.getColumn(Rr).defn=this.getColumn(Rr-jr).defn;else if(jr>0)for(let Rr=Pr;Rr>=Cr;Rr--)this.getColumn(Rr+jr).defn=this.getColumn(Rr).defn;for(let Rr=fr;Rr<fr+br.length;Rr++)this.getColumn(Rr).defn=null;this.workbook.definedNames.spliceColumns(this.name,fr,gr,br.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let fr=0;return this.eachRow(gr=>{fr=Math.max(fr,gr.cellCount)}),fr}get actualColumnCount(){const fr=[];let gr=0;return this.eachRow(yr=>{yr.eachCell(vr=>{let{col:br}=vr;fr[br]||(fr[br]=!0,gr++)})}),gr}_commitRow(){}get _lastRowNumber(){const fr=this._rows;let gr=fr.length;for(;gr>0&&fr[gr-1]===void 0;)gr--;return gr}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(fr){return this._rows[fr-1]}findRows(fr,gr){return this._rows.slice(fr-1,fr-1+gr)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let fr=0;return this.eachRow(()=>{fr++}),fr}getRow(fr){let gr=this._rows[fr-1];return gr||(gr=this._rows[fr-1]=new ar(this,fr)),gr}getRows(fr,gr){if(gr<1)return;const yr=[];for(let vr=fr;vr<fr+gr;vr++)yr.push(this.getRow(vr));return yr}addRow(fr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const yr=this._nextRow,vr=this.getRow(yr);return vr.values=fr,this._setStyleOption(yr,gr[0]==="i"?gr:"n"),vr}addRows(fr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const yr=[];return fr.forEach(vr=>{yr.push(this.addRow(vr,gr))}),yr}insertRow(fr,gr){let yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(fr,0,gr),this._setStyleOption(fr,yr),this.getRow(fr)}insertRows(fr,gr){let yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(fr,0,...gr),yr!=="n")for(let vr=0;vr<gr.length;vr++)yr[0]==="o"&&this.findRow(gr.length+fr+vr)!==void 0?this._copyStyle(gr.length+fr+vr,fr+vr,yr[1]==="+"):yr[0]==="i"&&this.findRow(fr-1)!==void 0&&this._copyStyle(fr-1,fr+vr,yr[1]==="+");return this.getRows(fr,gr.length)}_setStyleOption(fr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";gr[0]==="o"&&this.findRow(fr+1)!==void 0?this._copyStyle(fr+1,fr,gr[1]==="+"):gr[0]==="i"&&this.findRow(fr-1)!==void 0&&this._copyStyle(fr-1,fr,gr[1]==="+")}_copyStyle(fr,gr){let yr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const vr=this.getRow(fr),br=this.getRow(gr);br.style=mr(vr.style),vr.eachCell({includeEmpty:yr},(Sr,jr)=>{br.getCell(jr).style=mr(Sr.style)}),br.height=vr.height}duplicateRow(fr,gr){let yr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const vr=this._rows[fr-1],br=new Array(gr).fill(vr.values);this.spliceRows(fr+1,yr?0:gr,...br);for(let Sr=0;Sr<gr;Sr++){const jr=this._rows[fr+Sr];jr.style=vr.style,jr.height=vr.height,vr.eachCell({includeEmpty:!0},(Cr,Pr)=>{jr.getCell(Pr).style=Cr.style})}}spliceRows(fr,gr){const yr=fr+gr;for(var vr=arguments.length,br=new Array(vr>2?vr-2:0),Sr=2;Sr<vr;Sr++)br[Sr-2]=arguments[Sr];const jr=br.length,Cr=jr-gr,Pr=this._rows.length;let Rr,Lr;if(Cr<0)for(fr===Pr&&(this._rows[Pr-1]=void 0),Rr=yr;Rr<=Pr;Rr++)if(Lr=this._rows[Rr-1],Lr){const Ir=this.getRow(Rr+Cr);Ir.values=Lr.values,Ir.style=Lr.style,Ir.height=Lr.height,Lr.eachCell({includeEmpty:!0},(Nr,Ar)=>{Ir.getCell(Ar).style=Nr.style}),this._rows[Rr-1]=void 0}else this._rows[Rr+Cr-1]=void 0;else if(Cr>0)for(Rr=Pr;Rr>=yr;Rr--)if(Lr=this._rows[Rr-1],Lr){const Ir=this.getRow(Rr+Cr);Ir.values=Lr.values,Ir.style=Lr.style,Ir.height=Lr.height,Lr.eachCell({includeEmpty:!0},(Nr,Ar)=>{if(Ir.getCell(Ar).style=Nr.style,Nr._value.constructor.name==="MergeValue"){const Dr=this.getRow(Nr._row._number+jr).getCell(Ar),Tr=Nr._value._master,_r=this.getRow(Tr._row._number+jr).getCell(Tr._column._number);Dr.merge(_r)}})}else this._rows[Rr+Cr-1]=void 0;for(Rr=0;Rr<jr;Rr++){const Ir=this.getRow(fr+Rr);Ir.style={},Ir.values=br[Rr]}this.workbook.definedNames.spliceRows(this.name,fr,gr,jr)}eachRow(fr,gr){if(gr||(gr=fr,fr=void 0),fr&&fr.includeEmpty){const yr=this._rows.length;for(let vr=1;vr<=yr;vr++)gr(this.getRow(vr),vr)}else this._rows.forEach(yr=>{yr&&yr.hasValues&&gr(yr,yr.number)})}getSheetValues(){const fr=[];return this._rows.forEach(gr=>{gr&&(fr[gr.number]=gr.values)}),fr}findCell(fr,gr){const yr=sr.getAddress(fr,gr),vr=this._rows[yr.row-1];return vr?vr.findCell(yr.col):void 0}getCell(fr,gr){const yr=sr.getAddress(fr,gr);return this.getRow(yr.row).getCellEx(yr)}mergeCells(){for(var fr=arguments.length,gr=new Array(fr),yr=0;yr<fr;yr++)gr[yr]=arguments[yr];const vr=new or(gr);this._mergeCellsInternal(vr)}mergeCellsWithoutStyle(){for(var fr=arguments.length,gr=new Array(fr),yr=0;yr<fr;yr++)gr[yr]=arguments[yr];const vr=new or(gr);this._mergeCellsInternal(vr,!0)}_mergeCellsInternal(fr,gr){ir.each(this._merges,vr=>{if(vr.intersects(fr))throw new Error("Cannot merge already merged cells")});const yr=this.getCell(fr.top,fr.left);for(let vr=fr.top;vr<=fr.bottom;vr++)for(let br=fr.left;br<=fr.right;br++)(vr>fr.top||br>fr.left)&&this.getCell(vr,br).merge(yr,gr);this._merges[yr.address]=fr}_unMergeMaster(fr){const gr=this._merges[fr.address];if(gr){for(let yr=gr.top;yr<=gr.bottom;yr++)for(let vr=gr.left;vr<=gr.right;vr++)this.getCell(yr,vr).unmerge();delete this._merges[fr.address]}}get hasMerges(){return ir.some(this._merges,Boolean)}unMergeCells(){for(var fr=arguments.length,gr=new Array(fr),yr=0;yr<fr;yr++)gr[yr]=arguments[yr];const vr=new or(gr);for(let br=vr.top;br<=vr.bottom;br++)for(let Sr=vr.left;Sr<=vr.right;Sr++){const jr=this.findCell(br,Sr);jr&&(jr.type===cr.ValueType.Merge?this._unMergeMaster(jr.master):this._merges[jr.address]&&this._unMergeMaster(jr))}}fillFormula(fr,gr,yr){let vr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const br=sr.decode(fr),{top:Sr,left:jr,bottom:Cr,right:Pr}=br,Rr=Pr-jr+1,Lr=sr.encodeAddress(Sr,jr),Ir=vr==="shared";let Nr;Nr=typeof yr=="function"?yr:Array.isArray(yr)?Array.isArray(yr[0])?(Dr,Tr)=>yr[Dr-Sr][Tr-jr]:(Dr,Tr)=>yr[(Dr-Sr)*Rr+(Tr-jr)]:()=>{};let Ar=!0;for(let Dr=Sr;Dr<=Cr;Dr++)for(let Tr=jr;Tr<=Pr;Tr++)Ar?(this.getCell(Dr,Tr).value={shareType:vr,formula:gr,ref:fr,result:Nr(Dr,Tr)},Ar=!1):this.getCell(Dr,Tr).value=Ir?{sharedFormula:Lr,result:Nr(Dr,Tr)}:Nr(Dr,Tr)}addImage(fr,gr){const yr={type:"image",imageId:fr,range:gr};this._media.push(new dr(this,yr))}getImages(){return this._media.filter(fr=>fr.type==="image")}addBackgroundImage(fr){const gr={type:"background",imageId:fr};this._media.push(new dr(this,gr))}getBackgroundImageId(){const fr=this._media.find(gr=>gr.type==="background");return fr&&fr.imageId}protect(fr,gr){return new Promise(yr=>{this.sheetProtection={sheet:!0},gr&&"spinCount"in gr&&(gr.spinCount=Number.isFinite(gr.spinCount)?Math.round(Math.max(0,gr.spinCount)):1e5),fr&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=pr.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=gr&&"spinCount"in gr?gr.spinCount:1e5,this.sheetProtection.hashValue=pr.convertPasswordToHash(fr,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),gr&&(this.sheetProtection=Object.assign(this.sheetProtection,gr),!fr&&"spinCount"in gr&&delete this.sheetProtection.spinCount),yr()})}unprotect(){this.sheetProtection=null}addTable(fr){const gr=new hr(this,fr);return this.tables[fr.name]=gr,gr}getTable(fr){return this.tables[fr]}removeTable(fr){delete this.tables[fr]}getTables(){return Object.values(this.tables)}addConditionalFormatting(fr){this.conditionalFormattings.push(fr)}removeConditionalFormatting(fr){typeof fr=="number"?this.conditionalFormattings.splice(fr,1):this.conditionalFormattings=fr instanceof Function?this.conditionalFormattings.filter(fr):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(fr){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=fr}get model(){const fr={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(vr=>vr.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(vr=>vr.model),conditionalFormattings:this.conditionalFormattings};fr.cols=lr.toModel(this.columns);const gr=fr.rows=[],yr=fr.dimensions=new or;return this._rows.forEach(vr=>{const br=vr&&vr.model;br&&(yr.expand(br.number,br.min,br.number,br.max),gr.push(br))}),fr.merges=[],ir.each(this._merges,vr=>{fr.merges.push(vr.range)}),fr}_parseRows(fr){this._rows=[],fr.rows.forEach(gr=>{const yr=new ar(this,gr.number);this._rows[yr.number-1]=yr,yr.model=gr})}_parseMergeCells(fr){ir.each(fr.mergeCells,gr=>{this.mergeCellsWithoutStyle(gr)})}set model(fr){this.name=fr.name,this._columns=lr.fromModel(this,fr.cols),this._parseRows(fr),this._parseMergeCells(fr),this.dataValidations=new ur(fr.dataValidations),this.properties=fr.properties,this.pageSetup=fr.pageSetup,this.headerFooter=fr.headerFooter,this.views=fr.views,this.autoFilter=fr.autoFilter,this._media=fr.media.map(gr=>new dr(this,gr)),this.sheetProtection=fr.sheetProtection,this.tables=fr.tables.reduce((gr,yr)=>{const vr=new hr;return vr.model=yr,gr[yr.name]=vr,gr},{}),this.conditionalFormattings=fr.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(tr,rr,nr){tr("core-js/modules/es.promise"),tr("core-js/modules/es.promise.finally"),tr("core-js/modules/es.object.assign"),tr("core-js/modules/es.object.keys"),tr("core-js/modules/es.object.values"),tr("core-js/modules/es.symbol"),tr("core-js/modules/es.symbol.async-iterator"),tr("core-js/modules/es.array.iterator"),tr("core-js/modules/es.array.includes"),tr("core-js/modules/es.array.find-index"),tr("core-js/modules/es.array.find"),tr("core-js/modules/es.string.from-code-point"),tr("core-js/modules/es.string.includes"),tr("core-js/modules/es.number.is-nan"),tr("regenerator-runtime/runtime");const ir={Workbook:tr("./doc/workbook")},sr=tr("./doc/enums");Object.keys(sr).forEach(or=>{ir[or]=sr[or]}),rr.exports=ir},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(tr,rr,nr){const ir=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");nr.bufferToString=function(sr){return typeof sr=="string"?sr:ir?ir.decode(sr):sr.toString()}},{}],17:[function(tr,rr,nr){const ir=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:sr}=tr("buffer");nr.stringToBuffer=function(or){return typeof or!="string"?or:ir?sr.from(ir.encode(or).buffer):sr.from(or)}},{buffer:220}],18:[function(tr,rr,nr){const ir=tr("./under-dash"),sr=tr("./col-cache");rr.exports=class{constructor(or){this.template=or,this.sheets={}}addCell(or){this.addCellEx(sr.decodeEx(or))}getCell(or){return this.findCellEx(sr.decodeEx(or),!0)}findCell(or){return this.findCellEx(sr.decodeEx(or),!1)}findCellAt(or,ar,lr){const cr=this.sheets[or],dr=cr&&cr[ar];return dr&&dr[lr]}addCellEx(or){if(or.top)for(let ar=or.top;ar<=or.bottom;ar++)for(let lr=or.left;lr<=or.right;lr++)this.getCellAt(or.sheetName,ar,lr);else this.findCellEx(or,!0)}getCellEx(or){return this.findCellEx(or,!0)}findCellEx(or,ar){const lr=this.findSheet(or,ar),cr=this.findSheetRow(lr,or,ar);return this.findRowCell(cr,or,ar)}getCellAt(or,ar,lr){const cr=this.sheets[or]||(this.sheets[or]=[]),dr=cr[ar]||(cr[ar]=[]);return dr[lr]||(dr[lr]={sheetName:or,address:sr.n2l(lr)+ar,row:ar,col:lr})}removeCellEx(or){const ar=this.findSheet(or);if(!ar)return;const lr=this.findSheetRow(ar,or);lr&&delete lr[or.col]}forEachInSheet(or,ar){const lr=this.sheets[or];lr&&lr.forEach((cr,dr)=>{cr&&cr.forEach((hr,ur)=>{hr&&ar(hr,dr,ur)})})}forEach(or){ir.each(this.sheets,(ar,lr)=>{this.forEachInSheet(lr,or)})}map(or){const ar=[];return this.forEach(lr=>{ar.push(or(lr))}),ar}findSheet(or,ar){const lr=or.sheetName;return this.sheets[lr]?this.sheets[lr]:ar?this.sheets[lr]=[]:void 0}findSheetRow(or,ar,lr){const{row:cr}=ar;return or&&or[cr]?or[cr]:lr?or[cr]=[]:void 0}findRowCell(or,ar,lr){const{col:cr}=ar;return or&&or[cr]?or[cr]:lr?or[cr]=this.template?Object.assign(ar,JSON.parse(JSON.stringify(this.template))):ar:void 0}spliceRows(or,ar,lr,cr){const dr=this.sheets[or];if(dr){const hr=[];for(let ur=0;ur<cr;ur++)hr.push([]);dr.splice(ar,lr,...hr)}}spliceColumns(or,ar,lr,cr){const dr=this.sheets[or];if(dr){const hr=[];for(let ur=0;ur<cr;ur++)hr.push(null);ir.each(dr,ur=>{ur.splice(ar,lr,...hr)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(tr,rr,nr){const ir=/^[A-Z]+\d+$/,sr={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:or=>or<=26?1:or<=676?2:3,_fill(or){let ar,lr,cr,dr,hr,ur=1;if(or>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&or>=1){for(;ur<=26;)ar=this._dictionary[ur-1],this._n2l[ur]=ar,this._l2n[ar]=ur,ur++;this._l2nFill=1}if(this._l2nFill<2&&or>=2){for(ur=27;ur<=702;)lr=ur-27,cr=lr%26,dr=Math.floor(lr/26),ar=this._dictionary[dr]+this._dictionary[cr],this._n2l[ur]=ar,this._l2n[ar]=ur,ur++;this._l2nFill=2}if(this._l2nFill<3&&or>=3){for(ur=703;ur<=16384;)lr=ur-703,cr=lr%26,dr=Math.floor(lr/26)%26,hr=Math.floor(lr/676),ar=this._dictionary[hr]+this._dictionary[dr]+this._dictionary[cr],this._n2l[ur]=ar,this._l2n[ar]=ur,ur++;this._l2nFill=3}},l2n(or){if(this._l2n[or]||this._fill(or.length),!this._l2n[or])throw new Error("Out of bounds. Invalid column letter: "+or);return this._l2n[or]},n2l(or){if(or<1||or>16384)throw new Error(or+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[or]||this._fill(this._level(or)),this._n2l[or]},_hash:{},validateAddress(or){if(!ir.test(or))throw new Error("Invalid Address: "+or);return!0},decodeAddress(or){const ar=or.length<5&&this._hash[or];if(ar)return ar;let lr=!1,cr="",dr=0,hr=!1,ur="",pr=0;for(let fr,gr=0;gr<or.length;gr++)if(fr=or.charCodeAt(gr),!hr&&fr>=65&&fr<=90)lr=!0,cr+=or[gr],dr=26*dr+fr-64;else if(fr>=48&&fr<=57)hr=!0,ur+=or[gr],pr=10*pr+fr-48;else if(hr&&lr&&fr!==36)break;if(lr){if(dr>16384)throw new Error("Out of bounds. Invalid column letter: "+cr)}else dr=void 0;hr||(pr=void 0);const mr={address:or=cr+ur,col:dr,row:pr,$col$row:`$${cr}$${ur}`};return dr<=100&&pr<=100&&(this._hash[or]=mr,this._hash[mr.$col$row]=mr),mr},getAddress(or,ar){if(ar){const lr=this.n2l(ar)+or;return this.decodeAddress(lr)}return this.decodeAddress(or)},decode(or){const ar=or.split(":");if(ar.length===2){const lr=this.decodeAddress(ar[0]),cr=this.decodeAddress(ar[1]),dr={top:Math.min(lr.row,cr.row),left:Math.min(lr.col,cr.col),bottom:Math.max(lr.row,cr.row),right:Math.max(lr.col,cr.col)};return dr.tl=this.n2l(dr.left)+dr.top,dr.br=this.n2l(dr.right)+dr.bottom,dr.dimensions=`${dr.tl}:${dr.br}`,dr}return this.decodeAddress(or)},decodeEx(or){const ar=or.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),lr=ar[1]||ar[2],cr=ar[3],dr=cr.split(":");if(dr.length>1){let ur=this.decodeAddress(dr[0]),pr=this.decodeAddress(dr[1]);const mr=Math.min(ur.row,pr.row),fr=Math.min(ur.col,pr.col),gr=Math.max(ur.row,pr.row),yr=Math.max(ur.col,pr.col);return ur=this.n2l(fr)+mr,pr=this.n2l(yr)+gr,{top:mr,left:fr,bottom:gr,right:yr,sheetName:lr,tl:{address:ur,col:fr,row:mr,$col$row:`$${this.n2l(fr)}$${mr}`,sheetName:lr},br:{address:pr,col:yr,row:gr,$col$row:`$${this.n2l(yr)}$${gr}`,sheetName:lr},dimensions:`${ur}:${pr}`}}if(cr.startsWith("#"))return lr?{sheetName:lr,error:cr}:{error:cr};const hr=this.decodeAddress(cr);return lr?{sheetName:lr,...hr}:hr},encodeAddress:(or,ar)=>sr.n2l(ar)+or,encode(){switch(arguments.length){case 2:return sr.encodeAddress(arguments[0],arguments[1]);case 4:return`${sr.encodeAddress(arguments[0],arguments[1])}:${sr.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(or,ar){const[lr,cr,,dr,hr]=or,[ur,pr]=ar;return ur>=lr&&ur<=dr&&pr>=cr&&pr<=hr}};rr.exports=sr},{}],20:[function(tr,rr,nr){const ir=(or,ar)=>({...or,...ar.reduce((lr,cr)=>(or[cr]&&(lr[cr]={...or[cr]}),lr),{})}),sr=function(or,ar,lr){let cr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];or[lr]&&(ar[lr]=ir(or[lr],cr))};nr.copyStyle=or=>{if(!or)return or;if(ar=or,Object.keys(ar).length===0)return{};var ar;const lr={...or};return sr(or,lr,"font",["color"]),sr(or,lr,"alignment"),sr(or,lr,"protection"),or.border&&(sr(or,lr,"border"),sr(or.border,lr.border,"top",["color"]),sr(or.border,lr.border,"left",["color"]),sr(or.border,lr.border,"bottom",["color"]),sr(or.border,lr.border,"right",["color"]),sr(or.border,lr.border,"diagonal",["color"])),or.fill&&(sr(or,lr,"fill",["fgColor","bgColor","center"]),or.fill.stops&&(lr.fill.stops=or.fill.stops.map(cr=>ir(cr,["color"])))),lr}},{}],21:[function(tr,rr,nr){(function(ir){(function(){const sr=tr("crypto"),or={hash(ar){const lr=sr.createHash(ar);for(var cr=arguments.length,dr=new Array(cr>1?cr-1:0),hr=1;hr<cr;hr++)dr[hr-1]=arguments[hr];return lr.update(ir.concat(dr)),lr.digest()},convertPasswordToHash(ar,lr,cr,dr){if(lr=lr.toLowerCase(),sr.getHashes().indexOf(lr)<0)throw new Error(`Hash algorithm '${lr}' not supported!`);const hr=ir.from(ar,"utf16le");let ur=this.hash(lr,ir.from(cr,"base64"),hr);for(let pr=0;pr<dr;pr++){const mr=ir.alloc(4);mr.writeUInt32LE(pr,0),ur=this.hash(lr,ur,mr)}return ur.toString("base64")},randomBytes:ar=>sr.randomBytes(ar)};rr.exports=or}).call(this)}).call(this,tr("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(tr,rr,nr){const{SaxesParser:ir}=tr("saxes"),{PassThrough:sr}=tr("readable-stream"),{bufferToString:or}=tr("./browser-buffer-decode");rr.exports=async function*(ar){ar.pipe&&!ar[Symbol.asyncIterator]&&(ar=ar.pipe(new sr));const lr=new ir;let cr;lr.on("error",hr=>{cr=hr});let dr=[];lr.on("opentag",hr=>dr.push({eventType:"opentag",value:hr})),lr.on("text",hr=>dr.push({eventType:"text",value:hr})),lr.on("closetag",hr=>dr.push({eventType:"closetag",value:hr}));for await(const hr of ar){if(lr.write(or(hr)),cr)throw cr;yield dr,dr=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(tr,rr,nr){const ir=tr("./col-cache"),sr=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,or=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;rr.exports={slideFormula:function(ar,lr,cr){const dr=ir.decode(lr),hr=ir.decode(cr);return ar.replace(sr,(ur,pr,mr,fr,gr)=>{if(gr)return ur;const yr=or.exec(fr);if(yr){const vr=yr[1],br=yr[2].toUpperCase(),Sr=yr[3],jr=yr[4];if(br.length>3||br.length===3&&br>"XFD")return ur;let Cr=ir.l2n(br),Pr=parseInt(jr,10);return vr||(Cr+=hr.col-dr.col),Sr||(Pr+=hr.row-dr.row),(pr||"")+(vr||"")+ir.n2l(Cr)+(Sr||"")+Pr}return ur})}}},{"./col-cache":19}],24:[function(tr,rr,nr){(function(ir,sr){(function(){const or=tr("readable-stream"),ar=tr("./utils"),lr=tr("./string-buf");class cr{constructor(fr,gr){this._data=fr,this._encoding=gr}get length(){return this.toBuffer().length}copy(fr,gr,yr,vr){return this.toBuffer().copy(fr,gr,yr,vr)}toBuffer(){return this._buffer||(this._buffer=sr.from(this._data,this._encoding)),this._buffer}}class dr{constructor(fr){this._data=fr}get length(){return this._data.length}copy(fr,gr,yr,vr){return this._data._buf.copy(fr,gr,yr,vr)}toBuffer(){return this._data.toBuffer()}}class hr{constructor(fr){this._data=fr}get length(){return this._data.length}copy(fr,gr,yr,vr){this._data.copy(fr,gr,yr,vr)}toBuffer(){return this._data}}class ur{constructor(fr){this.size=fr,this.buffer=sr.alloc(fr),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const fr=sr.alloc(this.iWrite-this.iRead);return this.buffer.copy(fr,0,this.iRead,this.iWrite),fr}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(fr){let gr;return fr===0?null:fr===void 0||fr>=this.length?(gr=this.toBuffer(),this.iRead=this.iWrite,gr):(gr=sr.alloc(fr),this.buffer.copy(gr,0,this.iRead,fr),this.iRead+=fr,gr)}write(fr,gr,yr){const vr=Math.min(yr,this.size-this.iWrite);return fr.copy(this.buffer,this.iWrite,gr,gr+vr),this.iWrite+=vr,vr}}const pr=function(mr){mr=mr||{},this.bufSize=mr.bufSize||1048576,this.buffers=[],this.batch=mr.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};ar.inherits(pr,or.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return sr.concat(this.buffers.map(mr=>mr.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const fr=this.buffers[this.buffers.length-1];if(!fr.full)return fr}const mr=new ur(this.bufSize);return this.buffers.push(mr),mr},async _pipe(mr){await Promise.all(this.pipes.map(function(fr){return new Promise(gr=>{fr.write(mr.toBuffer(),()=>{gr()})})}))},_writeToBuffers(mr){let fr=0;const gr=mr.length;for(;fr<gr;)fr+=this._getWritableBuffer().write(mr,fr,gr-fr)},async write(mr,fr,gr){let yr;if(fr instanceof Function&&(gr=fr,fr="utf8"),gr=gr||ar.nop,mr instanceof lr)yr=new dr(mr);else if(mr instanceof sr)yr=new hr(mr);else{if(!(typeof mr=="string"||mr instanceof String||mr instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");yr=new cr(mr,fr)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(yr);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(yr),ir.nextTick(gr)):(await this._pipe(yr),gr());else this.paused||this.emit("data",yr.toBuffer()),this._writeToBuffers(yr),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(mr,fr,gr){const yr=vr=>{vr?gr(vr):(this._flush(),this.pipes.forEach(br=>{br.end()}),this.emit("finish"))};mr?this.write(mr,fr,yr):yr()},read(mr){let fr;if(mr){for(fr=[];mr&&this.buffers.length&&!this.buffers[0].eod;){const gr=this.buffers[0],yr=gr.read(mr);mr-=yr.length,fr.push(yr),gr.eod&&gr.full&&this.buffers.shift()}return sr.concat(fr)}return fr=this.buffers.map(gr=>gr.toBuffer()).filter(Boolean),this.buffers=[],sr.concat(fr)},setEncoding(mr){this.encoding=mr},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(mr){this.pipes.push(mr),!this.paused&&this.buffers.length&&this.end()},unpipe(mr){this.pipes=this.pipes.filter(fr=>fr!==mr)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),rr.exports=pr}).call(this)}).call(this,tr("_process"),tr("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(tr,rr,nr){(function(ir){(function(){rr.exports=class{constructor(sr){this._buf=ir.alloc(sr&&sr.size||16384),this._encoding=sr&&sr.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=ir.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(sr){sr=sr||0,this._buffer=void 0,this._inPos=sr}_grow(sr){let or=2*this._buf.length;for(;or<sr;)or*=2;const ar=ir.alloc(or);this._buf.copy(ar,0),this._buf=ar}addText(sr){this._buffer=void 0;let or=this._inPos+this._buf.write(sr,this._inPos,this._encoding);for(;or>=this._buf.length-4;)this._grow(this._inPos+sr.length),or=this._inPos+this._buf.write(sr,this._inPos,this._encoding);this._inPos=or}addStringBuf(sr){sr.length&&(this._buffer=void 0,this.length+sr.length>this.capacity&&this._grow(this.length+sr.length),sr._buf.copy(this._buf,this._inPos,0,sr.length),this._inPos+=sr.length)}}}).call(this)}).call(this,tr("buffer").Buffer)},{buffer:220}],26:[function(tr,rr,nr){const{toString:ir}=Object.prototype,sr=/["&<>]/,or={each:function(ar,lr){ar&&(Array.isArray(ar)?ar.forEach(lr):Object.keys(ar).forEach(cr=>{lr(ar[cr],cr)}))},some:function(ar,lr){return!!ar&&(Array.isArray(ar)?ar.some(lr):Object.keys(ar).some(cr=>lr(ar[cr],cr)))},every:function(ar,lr){return!ar||(Array.isArray(ar)?ar.every(lr):Object.keys(ar).every(cr=>lr(ar[cr],cr)))},map:function(ar,lr){return ar?Array.isArray(ar)?ar.map(lr):Object.keys(ar).map(cr=>lr(ar[cr],cr)):[]},keyBy:(ar,lr)=>ar.reduce((cr,dr)=>(cr[dr[lr]]=dr,cr),{}),isEqual:function(ar,lr){const cr=typeof ar,dr=typeof lr,hr=Array.isArray(ar),ur=Array.isArray(lr);let pr;if(cr!==dr)return!1;switch(typeof ar){case"object":if(hr||ur)return!(!hr||!ur)&&ar.length===lr.length&&ar.every((mr,fr)=>{const gr=lr[fr];return or.isEqual(mr,gr)});if(ar===null||lr===null)return ar===lr;if(pr=Object.keys(ar),Object.keys(lr).length!==pr.length)return!1;for(const mr of pr)if(!lr.hasOwnProperty(mr))return!1;return or.every(ar,(mr,fr)=>{const gr=lr[fr];return or.isEqual(mr,gr)});default:return ar===lr}},escapeHtml(ar){const lr=sr.exec(ar);if(!lr)return ar;let cr="",dr="",hr=0,ur=lr.index;for(;ur<ar.length;ur++){switch(ar.charAt(ur)){case'"':dr="&quot;";break;case"&":dr="&amp;";break;case"'":dr="&apos;";break;case"<":dr="&lt;";break;case">":dr="&gt;";break;default:continue}hr!==ur&&(cr+=ar.substring(hr,ur)),hr=ur+1,cr+=dr}return hr!==ur?cr+ar.substring(hr,ur):cr},strcmp:(ar,lr)=>ar<lr?-1:ar>lr?1:0,isUndefined:ar=>ir.call(ar)==="[object Undefined]",isObject:ar=>ir.call(ar)==="[object Object]",deepMerge(){const ar=arguments[0]||{},{length:lr}=arguments;let cr,dr,hr;function ur(pr,mr){cr=ar[mr],hr=Array.isArray(pr),or.isObject(pr)||hr?(hr?(hr=!1,dr=cr&&Array.isArray(cr)?cr:[]):dr=cr&&or.isObject(cr)?cr:{},ar[mr]=or.deepMerge(dr,pr)):or.isUndefined(pr)||(ar[mr]=pr)}for(let pr=0;pr<lr;pr++)or.each(arguments[pr],ur);return ar}};rr.exports=or},{}],27:[function(tr,rr,nr){(function(ir,sr){(function(){const or=tr("fs"),ar=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,lr={nop(){},promiseImmediate:cr=>new Promise(dr=>{ir.setImmediate?sr(()=>{dr(cr)}):setTimeout(()=>{dr(cr)},1)}),inherits:function(cr,dr,hr,ur){cr.super_=dr,ur||(ur=hr,hr=null),hr&&Object.keys(hr).forEach(mr=>{Object.defineProperty(cr,mr,Object.getOwnPropertyDescriptor(hr,mr))});const pr={constructor:{value:cr,enumerable:!1,writable:!1,configurable:!0}};ur&&Object.keys(ur).forEach(mr=>{pr[mr]=Object.getOwnPropertyDescriptor(ur,mr)}),cr.prototype=Object.create(dr.prototype,pr)},dateToExcel:(cr,dr)=>25569+cr.getTime()/864e5-(dr?1462:0),excelToDate(cr,dr){const hr=Math.round(24*(cr-25569+(dr?1462:0))*3600*1e3);return new Date(hr)},parsePath(cr){const dr=cr.lastIndexOf("/");return{path:cr.substring(0,dr),name:cr.substring(dr+1)}},getRelsPath(cr){const dr=lr.parsePath(cr);return`${dr.path}/_rels/${dr.name}.rels`},xmlEncode(cr){const dr=ar.exec(cr);if(!dr)return cr;let hr="",ur="",pr=0,mr=dr.index;for(;mr<cr.length;mr++){const fr=cr.charCodeAt(mr);switch(fr){case 34:ur="&quot;";break;case 38:ur="&amp;";break;case 39:ur="&apos;";break;case 60:ur="&lt;";break;case 62:ur="&gt;";break;case 127:ur="";break;default:if(fr<=31&&(fr<=8||fr>=11&&fr!==13)){ur="";break}continue}pr!==mr&&(hr+=cr.substring(pr,mr)),pr=mr+1,ur&&(hr+=ur)}return pr!==mr?hr+cr.substring(pr,mr):hr},xmlDecode:cr=>cr.replace(/&([a-z]*);/g,dr=>{switch(dr){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return dr}}),validInt(cr){const dr=parseInt(cr,10);return Number.isNaN(dr)?0:dr},isDateFmt(cr){return cr?(cr=(cr=cr.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:cr=>new Promise(dr=>{or.access(cr,or.constants.F_OK,hr=>{dr(!hr)})})},toIsoDateString:cr=>cr.toIsoString().subsstr(0,10),parseBoolean:cr=>cr===!0||cr==="true"||cr===1||cr==="1"};rr.exports=lr}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},tr("timers").setImmediate)},{fs:216,timers:523}],28:[function(tr,rr,nr){const ir=tr("./under-dash"),sr=tr("./utils");function or(cr,dr,hr){cr.push(` ${dr}="${sr.xmlEncode(hr.toString())}"`)}function ar(cr,dr){if(dr){const hr=[];ir.each(dr,(ur,pr)=>{ur!==void 0&&or(hr,pr,ur)}),cr.push(hr.join(""))}}class lr{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(dr){const hr=this._xml;hr.push("<?xml"),ar(hr,dr),hr.push(`?>
`)}openNode(dr,hr){const ur=this.tos,pr=this._xml;ur&&this.open&&pr.push(">"),this._stack.push(dr),pr.push("<"),pr.push(dr),ar(pr,hr),this.leaf=!0,this.open=!0}addAttribute(dr,hr){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");hr!==void 0&&or(this._xml,dr,hr)}addAttributes(dr){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");ar(this._xml,dr)}writeText(dr){const hr=this._xml;this.open&&(hr.push(">"),this.open=!1),this.leaf=!1,hr.push(sr.xmlEncode(dr.toString()))}writeXml(dr){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(dr)}closeNode(){const dr=this._stack.pop(),hr=this._xml;this.leaf?hr.push("/>"):(hr.push("</"),hr.push(dr),hr.push(">")),this.open=!1,this.leaf=!1}leafNode(dr,hr,ur){this.openNode(dr,hr),ur!==void 0&&this.writeText(ur),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const dr=this._rollbacks.pop();this._xml.length>dr.xml&&this._xml.splice(dr.xml,this._xml.length-dr.xml),this._stack.length>dr.stack&&this._stack.splice(dr.stack,this._stack.length-dr.stack),this.leaf=dr.leaf,this.open=dr.open}get xml(){return this.closeAll(),this._xml.join("")}}lr.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},rr.exports=lr},{"./under-dash":26,"./utils":27}],29:[function(tr,rr,nr){(function(ir){(function(){const sr=tr("events"),or=tr("jszip"),ar=tr("./stream-buf"),{stringToBuffer:lr}=tr("./browser-buffer-encode");class cr extends sr.EventEmitter{constructor(hr){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},hr),this.zip=new or,this.stream=new ar}append(hr,ur){ur.hasOwnProperty("base64")&&ur.base64?this.zip.file(ur.name,hr,{base64:!0}):(ir.browser&&typeof hr=="string"&&(hr=lr(hr)),this.zip.file(ur.name,hr))}async finalize(){const hr=await this.zip.generateAsync(this.options);this.stream.end(hr),this.emit("finish")}read(hr){return this.stream.read(hr)}setEncoding(hr){return this.stream.setEncoding(hr)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(hr,ur){return this.stream.pipe(hr,ur)}unpipe(hr){return this.stream.unpipe(hr)}unshift(hr){return this.stream.unshift(hr)}wrap(hr){return this.stream.wrap(hr)}}rr.exports={ZipWriter:cr}}).call(this)}).call(this,tr("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(tr,rr,nr){rr.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(tr,rr,nr){rr.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(tr,rr,nr){const ir=tr("../../utils/parse-sax"),sr=tr("../../utils/xml-stream");class or{prepare(){}render(){}parseOpen(lr){}parseText(lr){}parseClose(lr){}reconcile(lr,cr){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(lr=>{lr instanceof or?lr.reset():lr.xform&&lr.xform.reset()})}mergeModel(lr){this.model=Object.assign(this.model||{},lr)}async parse(lr){for await(const cr of lr)for(const{eventType:dr,value:hr}of cr)if(dr==="opentag")this.parseOpen(hr);else if(dr==="text")this.parseText(hr);else if(dr==="closetag"&&!this.parseClose(hr.name))return this.model;return this.model}async parseStream(lr){return this.parse(ir(lr))}get xml(){return this.toXml(this.model)}toXml(lr){const cr=new sr;return this.render(cr,lr),cr.xml}static toAttribute(lr,cr){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(lr===void 0){if(dr)return cr}else if(dr||lr!==cr)return lr.toString()}static toStringAttribute(lr,cr){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return or.toAttribute(lr,cr,dr)}static toStringValue(lr,cr){return lr===void 0?cr:lr}static toBoolAttribute(lr,cr){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(lr===void 0){if(dr)return cr}else if(dr||lr!==cr)return lr?"1":"0"}static toBoolValue(lr,cr){return lr===void 0?cr:lr==="1"}static toIntAttribute(lr,cr){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return or.toAttribute(lr,cr,dr)}static toIntValue(lr,cr){return lr===void 0?cr:parseInt(lr,10)}static toFloatAttribute(lr,cr){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return or.toAttribute(lr,cr,dr)}static toFloatValue(lr,cr){return lr===void 0?cr:parseFloat(lr)}}rr.exports=or},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../../../utils/col-cache");function or(lr){try{return sr.decodeEx(lr),!0}catch{return!1}}function ar(lr){const cr=[];let dr=!1,hr="";return lr.split(",").forEach(ur=>{if(!ur)return;const pr=(ur.match(/'/g)||[]).length;if(!pr)return void(dr?hr+=ur+",":or(ur)&&cr.push(ur));const mr=pr%2==0;!dr&&mr&&or(ur)?cr.push(ur):dr&&!mr?(dr=!1,or(hr+ur)&&cr.push(hr+ur),hr=""):(dr=!0,hr+=ur+",")}),cr}rr.exports=class extends ir{render(lr,cr){lr.openNode("definedName",{name:cr.name,localSheetId:cr.localSheetId}),lr.writeText(cr.ranges.join(",")),lr.closeNode()}parseOpen(lr){switch(lr.name){case"definedName":return this._parsedName=lr.attributes.name,this._parsedLocalSheetId=lr.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(lr){this._parsedText.push(lr)}parseClose(){return this.model={name:this._parsedName,ranges:ar(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(tr,rr,nr){const ir=tr("../../../utils/utils"),sr=tr("../base-xform");rr.exports=class extends sr{render(or,ar){or.leafNode("sheet",{sheetId:ar.id,name:ar.name,state:ar.state,"r:id":ar.rId})}parseOpen(or){return or.name==="sheet"&&(this.model={name:ir.xmlDecode(or.attributes.name),id:parseInt(or.attributes.sheetId,10),state:or.attributes.state,rId:or.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){sr.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:or.fullCalcOnLoad?1:void 0})}parseOpen(sr){return sr.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){sr.leafNode("workbookPr",{date1904:or.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(sr){return sr.name==="workbookPr"&&(this.model={date1904:sr.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){const ar={xWindow:or.x||0,yWindow:or.y||0,windowWidth:or.width||12e3,windowHeight:or.height||24e3,firstSheet:or.firstSheet,activeTab:or.activeTab};or.visibility&&or.visibility!=="visible"&&(ar.visibility=or.visibility),sr.leafNode("workbookView",ar)}parseOpen(sr){if(sr.name==="workbookView"){const or=this.model={},ar=function(cr,dr,hr){const ur=dr!==void 0?or[cr]=dr:hr;ur!==void 0&&(or[cr]=ur)},lr=function(cr,dr,hr){const ur=dr!==void 0?or[cr]=parseInt(dr,10):hr;ur!==void 0&&(or[cr]=ur)};return lr("x",sr.attributes.xWindow,0),lr("y",sr.attributes.yWindow,0),lr("width",sr.attributes.windowWidth,25e3),lr("height",sr.attributes.windowHeight,1e4),ar("visibility",sr.attributes.visibility,"visible"),lr("activeTab",sr.attributes.activeTab,void 0),lr("firstSheet",sr.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../../../utils/col-cache"),or=tr("../../../utils/xml-stream"),ar=tr("../base-xform"),lr=tr("../static-xform"),cr=tr("../list-xform"),dr=tr("./defined-name-xform"),hr=tr("./sheet-xform"),ur=tr("./workbook-view-xform"),pr=tr("./workbook-properties-xform"),mr=tr("./workbook-calc-properties-xform");class fr extends ar{constructor(){super(),this.map={fileVersion:fr.STATIC_XFORMS.fileVersion,workbookPr:new pr,bookViews:new cr({tag:"bookViews",count:!1,childXform:new ur}),sheets:new cr({tag:"sheets",count:!1,childXform:new hr}),definedNames:new cr({tag:"definedNames",count:!1,childXform:new dr}),calcPr:new mr}}prepare(yr){yr.sheets=yr.worksheets;const vr=[];let br=0;yr.sheets.forEach(Sr=>{if(Sr.pageSetup&&Sr.pageSetup.printArea&&Sr.pageSetup.printArea.split("&&").forEach(jr=>{const Cr=jr.split(":"),Pr={name:"_xlnm.Print_Area",ranges:[`'${Sr.name}'!$${Cr[0]}:$${Cr[1]}`],localSheetId:br};vr.push(Pr)}),Sr.pageSetup&&(Sr.pageSetup.printTitlesRow||Sr.pageSetup.printTitlesColumn)){const jr=[];if(Sr.pageSetup.printTitlesColumn){const Pr=Sr.pageSetup.printTitlesColumn.split(":");jr.push(`'${Sr.name}'!$${Pr[0]}:$${Pr[1]}`)}if(Sr.pageSetup.printTitlesRow){const Pr=Sr.pageSetup.printTitlesRow.split(":");jr.push(`'${Sr.name}'!$${Pr[0]}:$${Pr[1]}`)}const Cr={name:"_xlnm.Print_Titles",ranges:jr,localSheetId:br};vr.push(Cr)}br++}),vr.length&&(yr.definedNames=yr.definedNames.concat(vr)),(yr.media||[]).forEach((Sr,jr)=>{Sr.name=Sr.type+(jr+1)})}render(yr,vr){yr.openXml(or.StdDocAttributes),yr.openNode("workbook",fr.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(yr),this.map.workbookPr.render(yr,vr.properties),this.map.bookViews.render(yr,vr.views),this.map.sheets.render(yr,vr.sheets),this.map.definedNames.render(yr,vr.definedNames),this.map.calcPr.render(yr,vr.calcProperties),yr.closeNode()}parseOpen(yr){if(this.parser)return this.parser.parseOpen(yr),!0;switch(yr.name){case"workbook":return!0;default:return this.parser=this.map[yr.name],this.parser&&this.parser.parseOpen(yr),!0}}parseText(yr){this.parser&&this.parser.parseText(yr)}parseClose(yr){if(this.parser)return this.parser.parseClose(yr)||(this.parser=void 0),!0;switch(yr){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(yr){const vr=(yr.workbookRels||[]).reduce((Pr,Rr)=>(Pr[Rr.Id]=Rr,Pr),{}),br=[];let Sr,jr=0;(yr.sheets||[]).forEach(Pr=>{const Rr=vr[Pr.rId];Rr&&(Sr=yr.worksheetHash["xl/"+Rr.Target.replace(/^(\s|\/xl\/)+/,"")],Sr&&(Sr.name=Pr.name,Sr.id=Pr.id,Sr.state=Pr.state,br[jr++]=Sr))});const Cr=[];ir.each(yr.definedNames,Pr=>{if(Pr.name==="_xlnm.Print_Area"){if(Sr=br[Pr.localSheetId],Sr){Sr.pageSetup||(Sr.pageSetup={});const Rr=sr.decodeEx(Pr.ranges[0]);Sr.pageSetup.printArea=Sr.pageSetup.printArea?`${Sr.pageSetup.printArea}&&${Rr.dimensions}`:Rr.dimensions}}else if(Pr.name==="_xlnm.Print_Titles"){if(Sr=br[Pr.localSheetId],Sr){Sr.pageSetup||(Sr.pageSetup={});const Rr=Pr.ranges.join(","),Lr=/\$/g,Ir=/\$\d+:\$\d+/,Nr=Rr.match(Ir);if(Nr&&Nr.length){const Tr=Nr[0];Sr.pageSetup.printTitlesRow=Tr.replace(Lr,"")}const Ar=/\$[A-Z]+:\$[A-Z]+/,Dr=Rr.match(Ar);if(Dr&&Dr.length){const Tr=Dr[0];Sr.pageSetup.printTitlesColumn=Tr.replace(Lr,"")}}}else Cr.push(Pr)}),yr.definedNames=Cr,yr.media.forEach((Pr,Rr)=>{Pr.index=Rr})}}fr.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},fr.STATIC_XFORMS={fileVersion:new lr({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},rr.exports=fr},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(tr,rr,nr){const ir=tr("../strings/rich-text-xform"),sr=tr("../../../utils/utils"),or=tr("../base-xform"),ar=rr.exports=function(lr){this.model=lr};sr.inherits(ar,or,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new ir),this._richTextXform},render(lr,cr){cr=cr||this.model,lr.openNode("comment",{ref:cr.ref,authorId:0}),lr.openNode("text"),cr&&cr.note&&cr.note.texts&&cr.note.texts.forEach(dr=>{this.richTextXform.render(lr,dr)}),lr.closeNode(),lr.closeNode()},parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case"comment":return this.model={type:"note",note:{texts:[]},...lr.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(lr),!0;default:return!1}},parseText(lr){this.parser&&this.parser.parseText(lr)},parseClose(lr){switch(lr){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(lr),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../../../utils/utils"),or=tr("../base-xform"),ar=tr("./comment-xform"),lr=rr.exports=function(){this.map={comment:new ar}};sr.inherits(lr,or,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(cr,dr){dr=dr||this.model,cr.openXml(ir.StdDocAttributes),cr.openNode("comments",lr.COMMENTS_ATTRIBUTES),cr.openNode("authors"),cr.leafNode("author",null,"Author"),cr.closeNode(),cr.openNode("commentList"),dr.comments.forEach(hr=>{this.map.comment.render(cr,hr)}),cr.closeNode(),cr.closeNode()},parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(cr),!0;default:return!1}},parseText(cr){this.parser&&this.parser.parseText(cr)},parseClose(cr){switch(cr){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(cr),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{constructor(sr){super(),this._model=sr}get tag(){return this._model&&this._model.tag}render(sr,or,ar){(or===ar[2]||this.tag==="x:SizeWithCells"&&or===ar[1])&&sr.leafNode(this.tag)}parseOpen(sr){switch(sr.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{constructor(sr){super(),this._model=sr}get tag(){return this._model&&this._model.tag}render(sr,or){sr.leafNode(this.tag,null,or)}parseOpen(sr){switch(sr.name){case this.tag:return this.text="",!0;default:return!1}}parseText(sr){this.text=sr}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"x:Anchor"}getAnchorRect(sr){const or=Math.floor(sr.left),ar=Math.floor(68*(sr.left-or)),lr=Math.floor(sr.top),cr=Math.floor(18*(sr.top-lr)),dr=Math.floor(sr.right),hr=Math.floor(68*(sr.right-dr)),ur=Math.floor(sr.bottom);return[or,ar,lr,cr,dr,hr,ur,Math.floor(18*(sr.bottom-ur))]}getDefaultRect(sr){const or=sr.col,ar=Math.max(sr.row-2,0);return[or,6,ar,14,or+2,2,ar+4,16]}render(sr,or){const ar=or.anchor?this.getAnchorRect(or.anchor):this.getDefaultRect(or.refAddress);sr.leafNode("x:Anchor",null,ar.join(", "))}parseOpen(sr){switch(sr.name){case this.tag:return this.text="",!0;default:return!1}}parseText(sr){this.text=sr}parseClose(){return!1}}},{"../base-xform":32}],44:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./vml-anchor-xform"),or=tr("./style/vml-protection-xform"),ar=tr("./style/vml-position-xform"),lr=["twoCells","oneCells","absolute"];rr.exports=class extends ir{constructor(){super(),this.map={"x:Anchor":new sr,"x:Locked":new or({tag:"x:Locked"}),"x:LockText":new or({tag:"x:LockText"}),"x:SizeWithCells":new ar({tag:"x:SizeWithCells"}),"x:MoveWithCells":new ar({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(cr,dr){const{protection:hr,editAs:ur}=dr.note;cr.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(cr,ur,lr),this.map["x:SizeWithCells"].render(cr,ur,lr),this.map["x:Anchor"].render(cr,dr),this.map["x:Locked"].render(cr,hr.locked),cr.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(cr,hr.lockText),cr.leafNode("x:Row",null,dr.refAddress.row-1),cr.leafNode("x:Column",null,dr.refAddress.col-1),cr.closeNode()}parseOpen(cr){switch(cr.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[cr.name],this.parser&&this.parser.parseOpen(cr)}return!0}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;switch(cr){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const cr=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),dr=Object.keys(cr).length;this.model.editAs=lr[dr],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("./vml-shape-xform");class ar extends sr{constructor(){super(),this.map={"v:shape":new or}}get tag(){return"xml"}render(cr,dr){cr.openXml(ir.StdDocAttributes),cr.openNode(this.tag,ar.DRAWING_ATTRIBUTES),cr.openNode("o:shapelayout",{"v:ext":"edit"}),cr.leafNode("o:idmap",{"v:ext":"edit",data:1}),cr.closeNode(),cr.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),cr.leafNode("v:stroke",{joinstyle:"miter"}),cr.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),cr.closeNode(),dr.comments.forEach((hr,ur)=>{this.map["v:shape"].render(cr,hr,ur)}),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[cr.name],this.parser&&this.parser.parseOpen(cr)}return!0}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(cr){case this.tag:return!1;default:return!0}}reconcile(cr,dr){cr.anchors.forEach(hr=>{hr.br?this.map["xdr:twoCellAnchor"].reconcile(hr,dr):this.map["xdr:oneCellAnchor"].reconcile(hr,dr)})}}ar.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},rr.exports=ar},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./vml-textbox-xform"),or=tr("./vml-client-data-xform");class ar extends ir{constructor(){super(),this.map={"v:textbox":new sr,"x:ClientData":new or}}get tag(){return"v:shape"}render(cr,dr,hr){cr.openNode("v:shape",ar.V_SHAPE_ATTRIBUTES(dr,hr)),cr.leafNode("v:fill",{color2:"infoBackground [80]"}),cr.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),cr.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(cr,dr),this.map["x:ClientData"].render(cr,dr),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case this.tag:this.reset(),this.model={margins:{insetmode:cr.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[cr.name],this.parser&&this.parser.parseOpen(cr)}return!0}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;switch(cr){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}ar.V_SHAPE_ATTRIBUTES=(lr,cr)=>({id:"_x0000_s"+(1025+cr),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":lr.note.margins&&lr.note.margins.insetmode}),rr.exports=ar},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"v:textbox"}conversionUnit(sr,or,ar){return`${parseFloat(sr)*or.toFixed(2)}${ar}`}reverseConversionUnit(sr){return(sr||"").split(",").map(or=>Number(parseFloat(this.conversionUnit(parseFloat(or),.1,"")).toFixed(2)))}render(sr,or){const ar={style:"mso-direction-alt:auto"};if(or&&or.note){let{inset:lr}=or.note&&or.note.margins;Array.isArray(lr)&&(lr=lr.map(cr=>this.conversionUnit(cr,10,"mm")).join(",")),lr&&(ar.inset=lr)}sr.openNode("v:textbox",ar),sr.leafNode("div",{style:"text-align:left"}),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:return this.model={inset:this.reverseConversionUnit(sr.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(tr,rr,nr){const ir=tr("./base-xform");rr.exports=class extends ir{createNewModel(sr){return{}}parseOpen(sr){return this.parser=this.parser||this.map[sr.name],this.parser?(this.parser.parseOpen(sr),!0):sr.name===this.tag&&(this.model=this.createNewModel(sr),!0)}parseText(sr){this.parser&&this.parser.parseText(sr)}onParserClose(sr,or){this.model[sr]=or.model}parseClose(sr){return this.parser?(this.parser.parseClose(sr)||(this.onParserClose(sr,this.parser),this.parser=void 0),!0):sr!==this.tag}}},{"./base-xform":32}],49:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){sr.openNode("HeadingPairs"),sr.openNode("vt:vector",{size:2,baseType:"variant"}),sr.openNode("vt:variant"),sr.leafNode("vt:lpstr",void 0,"Worksheets"),sr.closeNode(),sr.openNode("vt:variant"),sr.leafNode("vt:i4",void 0,or.length),sr.closeNode(),sr.closeNode(),sr.closeNode()}parseOpen(sr){return sr.name==="HeadingPairs"}parseText(){}parseClose(sr){return sr!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){sr.openNode("TitlesOfParts"),sr.openNode("vt:vector",{size:or.length,baseType:"lpstr"}),or.forEach(ar=>{sr.leafNode("vt:lpstr",void 0,ar.name)}),sr.closeNode(),sr.closeNode()}parseOpen(sr){return sr.name==="TitlesOfParts"}parseText(){}parseClose(sr){return sr!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("../simple/string-xform"),ar=tr("./app-heading-pairs-xform"),lr=tr("./app-titles-of-parts-xform");class cr extends sr{constructor(){super(),this.map={Company:new or({tag:"Company"}),Manager:new or({tag:"Manager"}),HeadingPairs:new ar,TitleOfParts:new lr}}render(hr,ur){hr.openXml(ir.StdDocAttributes),hr.openNode("Properties",cr.PROPERTY_ATTRIBUTES),hr.leafNode("Application",void 0,"Microsoft Excel"),hr.leafNode("DocSecurity",void 0,"0"),hr.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(hr,ur.worksheets),this.map.TitleOfParts.render(hr,ur.worksheets),this.map.Company.render(hr,ur.company||""),this.map.Manager.render(hr,ur.manager),hr.leafNode("LinksUpToDate",void 0,"false"),hr.leafNode("SharedDoc",void 0,"false"),hr.leafNode("HyperlinksChanged",void 0,"false"),hr.leafNode("AppVersion",void 0,"16.0300"),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"Properties":return!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.parser=void 0),!0;switch(hr){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}cr.DateFormat=function(dr){return dr.toISOString().replace(/[.]\d{3,6}/,"")},cr.DateAttrs={"xsi:type":"dcterms:W3CDTF"},cr.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},rr.exports=cr},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform");class or extends sr{render(lr,cr){lr.openXml(ir.StdDocAttributes),lr.openNode("Types",or.PROPERTY_ATTRIBUTES);const dr={};(cr.media||[]).forEach(hr=>{if(hr.type==="image"){const ur=hr.extension;dr[ur]||(dr[ur]=!0,lr.leafNode("Default",{Extension:ur,ContentType:"image/"+ur}))}}),lr.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),lr.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),lr.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),cr.worksheets.forEach(hr=>{const ur=`/xl/worksheets/sheet${hr.id}.xml`;lr.leafNode("Override",{PartName:ur,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),lr.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),lr.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),cr.sharedStrings&&cr.sharedStrings.count&&lr.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),cr.tables&&cr.tables.forEach(hr=>{lr.leafNode("Override",{PartName:"/xl/tables/"+hr.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),cr.drawings&&cr.drawings.forEach(hr=>{lr.leafNode("Override",{PartName:`/xl/drawings/${hr.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),cr.commentRefs&&(lr.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),cr.commentRefs.forEach(hr=>{let{commentName:ur}=hr;lr.leafNode("Override",{PartName:`/xl/${ur}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),lr.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),lr.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),lr.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}or.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},rr.exports=or},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("../simple/date-xform"),ar=tr("../simple/string-xform"),lr=tr("../simple/integer-xform");class cr extends sr{constructor(){super(),this.map={"dc:creator":new ar({tag:"dc:creator"}),"dc:title":new ar({tag:"dc:title"}),"dc:subject":new ar({tag:"dc:subject"}),"dc:description":new ar({tag:"dc:description"}),"dc:identifier":new ar({tag:"dc:identifier"}),"dc:language":new ar({tag:"dc:language"}),"cp:keywords":new ar({tag:"cp:keywords"}),"cp:category":new ar({tag:"cp:category"}),"cp:lastModifiedBy":new ar({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new or({tag:"cp:lastPrinted",format:cr.DateFormat}),"cp:revision":new lr({tag:"cp:revision"}),"cp:version":new ar({tag:"cp:version"}),"cp:contentStatus":new ar({tag:"cp:contentStatus"}),"cp:contentType":new ar({tag:"cp:contentType"}),"dcterms:created":new or({tag:"dcterms:created",attrs:cr.DateAttrs,format:cr.DateFormat}),"dcterms:modified":new or({tag:"dcterms:modified",attrs:cr.DateAttrs,format:cr.DateFormat})}}render(hr,ur){hr.openXml(ir.StdDocAttributes),hr.openNode("cp:coreProperties",cr.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(hr,ur.creator),this.map["dc:title"].render(hr,ur.title),this.map["dc:subject"].render(hr,ur.subject),this.map["dc:description"].render(hr,ur.description),this.map["dc:identifier"].render(hr,ur.identifier),this.map["dc:language"].render(hr,ur.language),this.map["cp:keywords"].render(hr,ur.keywords),this.map["cp:category"].render(hr,ur.category),this.map["cp:lastModifiedBy"].render(hr,ur.lastModifiedBy),this.map["cp:lastPrinted"].render(hr,ur.lastPrinted),this.map["cp:revision"].render(hr,ur.revision),this.map["cp:version"].render(hr,ur.version),this.map["cp:contentStatus"].render(hr,ur.contentStatus),this.map["cp:contentType"].render(hr,ur.contentType),this.map["dcterms:created"].render(hr,ur.created),this.map["dcterms:modified"].render(hr,ur.modified),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[hr.name],this.parser)return this.parser.parseOpen(hr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(hr))}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.parser=void 0),!0;switch(hr){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+hr)}}}cr.DateFormat=function(dr){return dr.toISOString().replace(/[.]\d{3}/,"")},cr.DateAttrs={"xsi:type":"dcterms:W3CDTF"},cr.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},rr.exports=cr},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{render(sr,or){sr.leafNode("Relationship",or)}parseOpen(sr){switch(sr.name){case"Relationship":return this.model=sr.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("./relationship-xform");class ar extends sr{constructor(){super(),this.map={Relationship:new or}}render(cr,dr){dr=dr||this._values,cr.openXml(ir.StdDocAttributes),cr.openNode("Relationships",ar.RELATIONSHIPS_ATTRIBUTES),dr.forEach(hr=>{this.map.Relationship.render(cr,hr)}),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[cr.name],this.parser)return this.parser.parseOpen(cr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(cr))}}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(cr){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+cr)}}}ar.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},rr.exports=ar},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{parseOpen(sr){if(this.parser)return this.parser.parseOpen(sr),!0;switch(sr.name){case this.tag:this.reset(),this.model={range:{editAs:sr.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[sr.name],this.parser&&this.parser.parseOpen(sr)}return!0}parseText(sr){this.parser&&this.parser.parseText(sr)}reconcilePicture(sr,or){if(sr&&sr.rId){const ar=or.rels[sr.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(ar){const lr=ar[1],cr=or.mediaIndex[lr];return or.media[cr]}}}}},{"../base-xform":32}],57:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./blip-xform");rr.exports=class extends ir{constructor(){super(),this.map={"a:blip":new sr}}get tag(){return"xdr:blipFill"}render(or,ar){or.openNode(this.tag),this.map["a:blip"].render(or,ar),or.openNode("a:stretch"),or.leafNode("a:fillRect"),or.closeNode(),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case this.tag:this.reset();break;default:this.parser=this.map[or.name],this.parser&&this.parser.parseOpen(or)}return!0}parseText(){}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.parser=void 0),!0;switch(or){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"a:blip"}render(sr,or){sr.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":or.rId,cstate:"print"})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"xdr:cNvPicPr"}render(sr){sr.openNode(this.tag),sr.leafNode("a:picLocks",{noChangeAspect:"1"}),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./hlink-click-xform"),or=tr("./ext-lst-xform");rr.exports=class extends ir{constructor(){super(),this.map={"a:hlinkClick":new sr,"a:extLst":new or}}get tag(){return"xdr:cNvPr"}render(ar,lr){ar.openNode(this.tag,{id:lr.index,name:"Picture "+lr.index}),this.map["a:hlinkClick"].render(ar,lr),this.map["a:extLst"].render(ar,lr),ar.closeNode()}parseOpen(ar){if(this.parser)return this.parser.parseOpen(ar),!0;switch(ar.name){case this.tag:this.reset();break;default:this.parser=this.map[ar.name],this.parser&&this.parser.parseOpen(ar)}return!0}parseText(){}parseClose(ar){if(this.parser)return this.parser.parseClose(ar)||(this.parser=void 0),!0;switch(ar){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../simple/integer-xform");rr.exports=class extends ir{constructor(or){super(),this.tag=or.tag,this.map={"xdr:col":new sr({tag:"xdr:col",zero:!0}),"xdr:colOff":new sr({tag:"xdr:colOff",zero:!0}),"xdr:row":new sr({tag:"xdr:row",zero:!0}),"xdr:rowOff":new sr({tag:"xdr:rowOff",zero:!0})}}render(or,ar){or.openNode(this.tag),this.map["xdr:col"].render(or,ar.nativeCol),this.map["xdr:colOff"].render(or,ar.nativeColOff),this.map["xdr:row"].render(or,ar.nativeRow),this.map["xdr:rowOff"].render(or,ar.nativeRowOff),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case this.tag:this.reset();break;default:this.parser=this.map[or.name],this.parser&&this.parser.parseOpen(or)}return!0}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.parser=void 0),!0;switch(or){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(tr,rr,nr){const ir=tr("../../../utils/col-cache"),sr=tr("../../../utils/xml-stream"),or=tr("../base-xform"),ar=tr("./two-cell-anchor-xform"),lr=tr("./one-cell-anchor-xform");class cr extends or{constructor(){super(),this.map={"xdr:twoCellAnchor":new ar,"xdr:oneCellAnchor":new lr}}prepare(hr){hr.anchors.forEach((ur,pr)=>{ur.anchorType=function(mr){return(typeof mr.range=="string"?ir.decode(mr.range):mr.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(ur),this.map[ur.anchorType].prepare(ur,{index:pr})})}get tag(){return"xdr:wsDr"}render(hr,ur){hr.openXml(sr.StdDocAttributes),hr.openNode(this.tag,cr.DRAWING_ATTRIBUTES),ur.anchors.forEach(pr=>{this.map[pr.anchorType].render(hr,pr)}),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[hr.name],this.parser&&this.parser.parseOpen(hr)}return!0}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(hr){case this.tag:return!1;default:return!0}}reconcile(hr,ur){hr.anchors.forEach(pr=>{pr.br?this.map["xdr:twoCellAnchor"].reconcile(pr,ur):this.map["xdr:oneCellAnchor"].reconcile(pr,ur)})}}cr.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},rr.exports=cr},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"a:extLst"}render(sr){sr.openNode(this.tag),sr.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),sr.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),sr.closeNode(),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.map={}}render(sr,or){sr.openNode(this.tag);const ar=Math.floor(9525*or.width),lr=Math.floor(9525*or.height);sr.addAttribute("cx",ar),sr.addAttribute("cy",lr),sr.closeNode()}parseOpen(sr){return sr.name===this.tag&&(this.model={width:parseInt(sr.attributes.cx||"0",10)/9525,height:parseInt(sr.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"a:hlinkClick"}render(sr,or){or.hyperlinks&&or.hyperlinks.rId&&sr.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":or.hyperlinks.rId,tooltip:or.hyperlinks.tooltip})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={hyperlinks:{rId:sr.attributes["r:id"],tooltip:sr.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./c-nv-pr-xform"),or=tr("./c-nv-pic-pr-xform");rr.exports=class extends ir{constructor(){super(),this.map={"xdr:cNvPr":new sr,"xdr:cNvPicPr":new or}}get tag(){return"xdr:nvPicPr"}render(ar,lr){ar.openNode(this.tag),this.map["xdr:cNvPr"].render(ar,lr),this.map["xdr:cNvPicPr"].render(ar,lr),ar.closeNode()}parseOpen(ar){if(this.parser)return this.parser.parseOpen(ar),!0;switch(ar.name){case this.tag:this.reset();break;default:this.parser=this.map[ar.name],this.parser&&this.parser.parseOpen(ar)}return!0}parseText(){}parseClose(ar){if(this.parser)return this.parser.parseClose(ar)||(this.parser=void 0),!0;switch(ar){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(tr,rr,nr){const ir=tr("./base-cell-anchor-xform"),sr=tr("../static-xform"),or=tr("./cell-position-xform"),ar=tr("./ext-xform"),lr=tr("./pic-xform");rr.exports=class extends ir{constructor(){super(),this.map={"xdr:from":new or({tag:"xdr:from"}),"xdr:ext":new ar({tag:"xdr:ext"}),"xdr:pic":new lr,"xdr:clientData":new sr({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(cr,dr){this.map["xdr:pic"].prepare(cr.picture,dr)}render(cr,dr){cr.openNode(this.tag,{editAs:dr.range.editAs||"oneCell"}),this.map["xdr:from"].render(cr,dr.range.tl),this.map["xdr:ext"].render(cr,dr.range.ext),this.map["xdr:pic"].render(cr,dr.picture),this.map["xdr:clientData"].render(cr,{}),cr.closeNode()}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;switch(cr){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(cr,dr){cr.medium=this.reconcilePicture(cr.picture,dr)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../static-xform"),or=tr("./blip-fill-xform"),ar=tr("./nv-pic-pr-xform"),lr=tr("./sp-pr");rr.exports=class extends ir{constructor(){super(),this.map={"xdr:nvPicPr":new ar,"xdr:blipFill":new or,"xdr:spPr":new sr(lr)}}get tag(){return"xdr:pic"}prepare(cr,dr){cr.index=dr.index+1}render(cr,dr){cr.openNode(this.tag),this.map["xdr:nvPicPr"].render(cr,dr),this.map["xdr:blipFill"].render(cr,dr),this.map["xdr:spPr"].render(cr,dr),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case this.tag:this.reset();break;default:this.parser=this.map[cr.name],this.parser&&this.parser.parseOpen(cr)}return!0}parseText(){}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(cr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(tr,rr,nr){rr.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(tr,rr,nr){const ir=tr("./base-cell-anchor-xform"),sr=tr("../static-xform"),or=tr("./cell-position-xform"),ar=tr("./pic-xform");rr.exports=class extends ir{constructor(){super(),this.map={"xdr:from":new or({tag:"xdr:from"}),"xdr:to":new or({tag:"xdr:to"}),"xdr:pic":new ar,"xdr:clientData":new sr({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(lr,cr){this.map["xdr:pic"].prepare(lr.picture,cr)}render(lr,cr){lr.openNode(this.tag,{editAs:cr.range.editAs||"oneCell"}),this.map["xdr:from"].render(lr,cr.range.tl),this.map["xdr:to"].render(lr,cr.range.br),this.map["xdr:pic"].render(lr,cr.picture),this.map["xdr:clientData"].render(lr,{}),lr.closeNode()}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.parser=void 0),!0;switch(lr){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(lr,cr){lr.medium=this.reconcilePicture(lr.picture,cr)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(tr,rr,nr){const ir=tr("./base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.always=!!sr.always,this.count=sr.count,this.empty=sr.empty,this.$count=sr.$count||"count",this.$=sr.$,this.childXform=sr.childXform,this.maxItems=sr.maxItems}prepare(sr,or){const{childXform:ar}=this;sr&&sr.forEach((lr,cr)=>{or.index=cr,ar.prepare(lr,or)})}render(sr,or){if(this.always||or&&or.length){sr.openNode(this.tag,this.$),this.count&&sr.addAttribute(this.$count,or&&or.length||0);const{childXform:ar}=this;(or||[]).forEach((lr,cr)=>{ar.render(sr,lr,cr)}),sr.closeNode()}else this.empty&&sr.leafNode(this.tag)}parseOpen(sr){if(this.parser)return this.parser.parseOpen(sr),!0;switch(sr.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(sr)&&(this.parser=this.childXform,!0)}}parseText(sr){this.parser&&this.parser.parseText(sr)}parseClose(sr){if(this.parser){if(!this.parser.parseClose(sr)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(sr,or){if(sr){const{childXform:ar}=this;sr.forEach(lr=>{ar.reconcile(lr,or)})}}}},{"./base-xform":32}],72:[function(tr,rr,nr){const ir=tr("../../../utils/col-cache"),sr=tr("../base-xform");rr.exports=class extends sr{get tag(){return"autoFilter"}render(or,ar){if(ar)if(typeof ar=="string")or.leafNode("autoFilter",{ref:ar});else{const lr=function(hr){return typeof hr=="string"?hr:ir.getAddress(hr.row,hr.column).address},cr=lr(ar.from),dr=lr(ar.to);cr&&dr&&or.leafNode("autoFilter",{ref:`${cr}:${dr}`})}}parseOpen(or){or.name==="autoFilter"&&(this.model=or.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(tr,rr,nr){const ir=tr("../../../utils/utils"),sr=tr("../base-xform"),or=tr("../../../doc/range"),ar=tr("../../../doc/enums"),lr=tr("../strings/rich-text-xform");function cr(dr){if(dr==null)return ar.ValueType.Null;if(dr instanceof String||typeof dr=="string")return ar.ValueType.String;if(typeof dr=="number")return ar.ValueType.Number;if(typeof dr=="boolean")return ar.ValueType.Boolean;if(dr instanceof Date)return ar.ValueType.Date;if(dr.text&&dr.hyperlink)return ar.ValueType.Hyperlink;if(dr.formula)return ar.ValueType.Formula;if(dr.error)return ar.ValueType.Error;throw new Error("I could not understand type of value")}rr.exports=class extends sr{constructor(){super(),this.richTextXForm=new lr}get tag(){return"c"}prepare(dr,hr){const ur=hr.styles.addStyleModel(dr.style||{},function(pr){switch(pr.type){case ar.ValueType.Formula:return cr(pr.result);default:return pr.type}}(dr));switch(ur&&(dr.styleId=ur),dr.comment&&hr.comments.push({...dr.comment,ref:dr.address}),dr.type){case ar.ValueType.String:case ar.ValueType.RichText:hr.sharedStrings&&(dr.ssId=hr.sharedStrings.add(dr.value));break;case ar.ValueType.Date:hr.date1904&&(dr.date1904=!0);break;case ar.ValueType.Hyperlink:hr.sharedStrings&&dr.text!==void 0&&dr.text!==null&&(dr.ssId=hr.sharedStrings.add(dr.text)),hr.hyperlinks.push({address:dr.address,target:dr.hyperlink,tooltip:dr.tooltip});break;case ar.ValueType.Merge:hr.merges.add(dr);break;case ar.ValueType.Formula:if(hr.date1904&&(dr.date1904=!0),dr.shareType==="shared"&&(dr.si=hr.siFormulae++),dr.formula)hr.formulae[dr.address]=dr;else if(dr.sharedFormula){const pr=hr.formulae[dr.sharedFormula];if(!pr)throw new Error("Shared Formula master must exist above and or left of clone for cell "+dr.address);pr.si===void 0?(pr.shareType="shared",pr.si=hr.siFormulae++,pr.range=new or(pr.address,dr.address)):pr.range&&pr.range.expandToAddress(dr.address),dr.si=pr.si}}}renderFormula(dr,hr){let ur=null;switch(hr.shareType){case"shared":ur={t:"shared",ref:hr.ref||hr.range.range,si:hr.si};break;case"array":ur={t:"array",ref:hr.ref};break;default:hr.si!==void 0&&(ur={t:"shared",si:hr.si})}switch(cr(hr.result)){case ar.ValueType.Null:dr.leafNode("f",ur,hr.formula);break;case ar.ValueType.String:dr.addAttribute("t","str"),dr.leafNode("f",ur,hr.formula),dr.leafNode("v",null,hr.result);break;case ar.ValueType.Number:dr.leafNode("f",ur,hr.formula),dr.leafNode("v",null,hr.result);break;case ar.ValueType.Boolean:dr.addAttribute("t","b"),dr.leafNode("f",ur,hr.formula),dr.leafNode("v",null,hr.result?1:0);break;case ar.ValueType.Error:dr.addAttribute("t","e"),dr.leafNode("f",ur,hr.formula),dr.leafNode("v",null,hr.result.error);break;case ar.ValueType.Date:dr.leafNode("f",ur,hr.formula),dr.leafNode("v",null,ir.dateToExcel(hr.result,hr.date1904));break;default:throw new Error("I could not understand type of value")}}render(dr,hr){if(hr.type!==ar.ValueType.Null||hr.styleId){switch(dr.openNode("c"),dr.addAttribute("r",hr.address),hr.styleId&&dr.addAttribute("s",hr.styleId),hr.type){case ar.ValueType.Null:break;case ar.ValueType.Number:dr.leafNode("v",null,hr.value);break;case ar.ValueType.Boolean:dr.addAttribute("t","b"),dr.leafNode("v",null,hr.value?"1":"0");break;case ar.ValueType.Error:dr.addAttribute("t","e"),dr.leafNode("v",null,hr.value.error);break;case ar.ValueType.String:case ar.ValueType.RichText:hr.ssId!==void 0?(dr.addAttribute("t","s"),dr.leafNode("v",null,hr.ssId)):hr.value&&hr.value.richText?(dr.addAttribute("t","inlineStr"),dr.openNode("is"),hr.value.richText.forEach(ur=>{this.richTextXForm.render(dr,ur)}),dr.closeNode("is")):(dr.addAttribute("t","str"),dr.leafNode("v",null,hr.value));break;case ar.ValueType.Date:dr.leafNode("v",null,ir.dateToExcel(hr.value,hr.date1904));break;case ar.ValueType.Hyperlink:hr.ssId!==void 0?(dr.addAttribute("t","s"),dr.leafNode("v",null,hr.ssId)):(dr.addAttribute("t","str"),dr.leafNode("v",null,hr.text));break;case ar.ValueType.Formula:this.renderFormula(dr,hr);break;case ar.ValueType.Merge:}dr.closeNode()}}parseOpen(dr){if(this.parser)return this.parser.parseOpen(dr),!0;switch(dr.name){case"c":return this.model={address:dr.attributes.r},this.t=dr.attributes.t,dr.attributes.s&&(this.model.styleId=parseInt(dr.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=dr.attributes.si,this.model.shareType=dr.attributes.t,this.model.ref=dr.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(dr),!0;default:return!1}}parseText(dr){if(this.parser)this.parser.parseText(dr);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+dr:dr;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+dr:dr:this.model.value=this.model.value?this.model.value+dr:dr}}parseClose(dr){switch(dr){case"c":{const{model:hr}=this;if(hr.formula||hr.shareType)hr.type=ar.ValueType.Formula,hr.value&&(this.t==="str"?hr.result=ir.xmlDecode(hr.value):this.t==="b"?hr.result=parseInt(hr.value,10)!==0:this.t==="e"?hr.result={error:hr.value}:hr.result=parseFloat(hr.value),hr.value=void 0);else if(hr.value!==void 0)switch(this.t){case"s":hr.type=ar.ValueType.String,hr.value=parseInt(hr.value,10);break;case"str":hr.type=ar.ValueType.String,hr.value=ir.xmlDecode(hr.value);break;case"inlineStr":hr.type=ar.ValueType.String;break;case"b":hr.type=ar.ValueType.Boolean,hr.value=parseInt(hr.value,10)!==0;break;case"e":hr.type=ar.ValueType.Error,hr.value={error:hr.value};break;default:hr.type=ar.ValueType.Number,hr.value=parseFloat(hr.value)}else hr.styleId?hr.type=ar.ValueType.Null:hr.type=ar.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(dr),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(dr),!0)}}reconcile(dr,hr){const ur=dr.styleId&&hr.styles&&hr.styles.getStyleModel(dr.styleId);switch(ur&&(dr.style=ur),dr.styleId!==void 0&&(dr.styleId=void 0),dr.type){case ar.ValueType.String:typeof dr.value=="number"&&hr.sharedStrings&&(dr.value=hr.sharedStrings.getString(dr.value)),dr.value.richText&&(dr.type=ar.ValueType.RichText);break;case ar.ValueType.Number:ur&&ir.isDateFmt(ur.numFmt)&&(dr.type=ar.ValueType.Date,dr.value=ir.excelToDate(dr.value,hr.date1904));break;case ar.ValueType.Formula:dr.result!==void 0&&ur&&ir.isDateFmt(ur.numFmt)&&(dr.result=ir.excelToDate(dr.result,hr.date1904)),dr.shareType==="shared"&&(dr.ref?hr.formulae[dr.si]=dr.address:(dr.sharedFormula=hr.formulae[dr.si],delete dr.shareType),delete dr.si)}const pr=hr.hyperlinkMap[dr.address];pr&&(dr.type===ar.ValueType.Formula?(dr.text=dr.result,dr.result=void 0):(dr.text=dr.value,dr.value=void 0),dr.type=ar.ValueType.Hyperlink,dr.hyperlink=pr);const mr=hr.commentsMap&&hr.commentsMap[dr.address];mr&&(dr.comment=mr)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{get tag(){return"x14:cfIcon"}render(sr,or){sr.leafNode(this.tag,{iconSet:or.iconSet,iconId:or.iconId})}parseOpen(sr){let{attributes:or}=sr;this.model={iconSet:or.iconSet,iconId:ir.toIntValue(or.iconId)}}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],75:[function(tr,rr,nr){const{v4:ir}=tr("uuid"),sr=tr("../../base-xform"),or=tr("../../composite-xform"),ar=tr("./databar-ext-xform"),lr=tr("./icon-set-ext-xform"),cr={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class dr extends or{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new ar,"x14:iconSet":this.iconSetXform=new lr}}get tag(){return"x14:cfRule"}static isExt(ur){return ur.type==="dataBar"?ar.isExt(ur):!(ur.type!=="iconSet"||!ur.custom&&!cr[ur.iconSet])}prepare(ur){dr.isExt(ur)&&(ur.x14Id=`{${ir()}}`.toUpperCase())}render(ur,pr){if(dr.isExt(pr))switch(pr.type){case"dataBar":this.renderDataBar(ur,pr);break;case"iconSet":this.renderIconSet(ur,pr)}}renderDataBar(ur,pr){ur.openNode(this.tag,{type:"dataBar",id:pr.x14Id}),this.databarXform.render(ur,pr),ur.closeNode()}renderIconSet(ur,pr){ur.openNode(this.tag,{type:"iconSet",priority:pr.priority,id:pr.x14Id||`{${ir()}}`}),this.iconSetXform.render(ur,pr),ur.closeNode()}createNewModel(ur){let{attributes:pr}=ur;return{type:pr.type,x14Id:pr.id,priority:sr.toIntValue(pr.priority)}}onParserClose(ur,pr){Object.assign(this.model,pr.model)}}rr.exports=dr},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("./f-ext-xform");rr.exports=class extends ir{constructor(){super(),this.map={"xm:f":this.fExtXform=new sr}}get tag(){return"x14:cfvo"}render(or,ar){or.openNode(this.tag,{type:ar.type}),ar.value!==void 0&&this.fExtXform.render(or,ar.value),or.closeNode()}createNewModel(or){return{type:or.attributes.type}}onParserClose(or,ar){switch(or){case"xm:f":this.model.value=ar.model?parseFloat(ar.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("./sqref-ext-xform"),or=tr("./cf-rule-ext-xform");rr.exports=class extends ir{constructor(){super(),this.map={"xm:sqref":this.sqRef=new sr,"x14:cfRule":this.cfRule=new or}}get tag(){return"x14:conditionalFormatting"}prepare(ar,lr){ar.rules.forEach(cr=>{this.cfRule.prepare(cr,lr)})}render(ar,lr){lr.rules.some(or.isExt)&&(ar.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),lr.rules.filter(or.isExt).forEach(cr=>this.cfRule.render(ar,cr)),this.sqRef.render(ar,lr.ref),ar.closeNode())}createNewModel(){return{rules:[]}}onParserClose(ar,lr){switch(ar){case"xm:sqref":this.model.ref=lr.model;break;case"x14:cfRule":this.model.rules.push(lr.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("./cf-rule-ext-xform"),or=tr("./conditional-formatting-ext-xform");rr.exports=class extends ir{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new or}}get tag(){return"x14:conditionalFormattings"}hasContent(ar){return ar.hasExtContent===void 0&&(ar.hasExtContent=ar.some(lr=>lr.rules.some(sr.isExt))),ar.hasExtContent}prepare(ar,lr){ar.forEach(cr=>{this.cfXform.prepare(cr,lr)})}render(ar,lr){this.hasContent(lr)&&(ar.openNode(this.tag),lr.forEach(cr=>this.cfXform.render(ar,cr)),ar.closeNode())}createNewModel(){return[]}onParserClose(ar,lr){this.model.push(lr.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("../../composite-xform"),or=tr("../../style/color-xform"),ar=tr("./cfvo-ext-xform");rr.exports=class extends sr{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new ar,"x14:borderColor":this.borderColorXform=new or("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new or("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new or("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new or("x14:axisColor")}}static isExt(lr){return!lr.gradient}get tag(){return"x14:dataBar"}render(lr,cr){lr.openNode(this.tag,{minLength:ir.toIntAttribute(cr.minLength,0,!0),maxLength:ir.toIntAttribute(cr.maxLength,100,!0),border:ir.toBoolAttribute(cr.border,!1),gradient:ir.toBoolAttribute(cr.gradient,!0),negativeBarColorSameAsPositive:ir.toBoolAttribute(cr.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:ir.toBoolAttribute(cr.negativeBarBorderColorSameAsPositive,!0),axisPosition:ir.toAttribute(cr.axisPosition,"auto"),direction:ir.toAttribute(cr.direction,"leftToRight")}),cr.cfvo.forEach(dr=>{this.cfvoXform.render(lr,dr)}),this.borderColorXform.render(lr,cr.borderColor),this.negativeBorderColorXform.render(lr,cr.negativeBorderColor),this.negativeFillColorXform.render(lr,cr.negativeFillColor),this.axisColorXform.render(lr,cr.axisColor),lr.closeNode()}createNewModel(lr){let{attributes:cr}=lr;return{cfvo:[],minLength:ir.toIntValue(cr.minLength,0),maxLength:ir.toIntValue(cr.maxLength,100),border:ir.toBoolValue(cr.border,!1),gradient:ir.toBoolValue(cr.gradient,!0),negativeBarColorSameAsPositive:ir.toBoolValue(cr.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:ir.toBoolValue(cr.negativeBarBorderColorSameAsPositive,!0),axisPosition:ir.toStringValue(cr.axisPosition,"auto"),direction:ir.toStringValue(cr.direction,"leftToRight")}}onParserClose(lr,cr){const[,dr]=lr.split(":");switch(dr){case"cfvo":this.model.cfvo.push(cr.model);break;default:this.model[dr]=cr.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{get tag(){return"xm:f"}render(sr,or){sr.leafNode(this.tag,null,or)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],81:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("../../composite-xform"),or=tr("./cfvo-ext-xform"),ar=tr("./cf-icon-ext-xform");rr.exports=class extends sr{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new or,"x14:cfIcon":this.cfIconXform=new ar}}get tag(){return"x14:iconSet"}render(lr,cr){lr.openNode(this.tag,{iconSet:ir.toStringAttribute(cr.iconSet),reverse:ir.toBoolAttribute(cr.reverse,!1),showValue:ir.toBoolAttribute(cr.showValue,!0),custom:ir.toBoolAttribute(cr.icons,!1)}),cr.cfvo.forEach(dr=>{this.cfvoXform.render(lr,dr)}),cr.icons&&cr.icons.forEach((dr,hr)=>{dr.iconId=hr,this.cfIconXform.render(lr,dr)}),lr.closeNode()}createNewModel(lr){let{attributes:cr}=lr;return{cfvo:[],iconSet:ir.toStringValue(cr.iconSet,"3TrafficLights"),reverse:ir.toBoolValue(cr.reverse,!1),showValue:ir.toBoolValue(cr.showValue,!0)}}onParserClose(lr,cr){const[,dr]=lr.split(":");switch(dr){case"cfvo":this.model.cfvo.push(cr.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(cr.model);break;default:this.model[dr]=cr.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{get tag(){return"xm:sqref"}render(sr,or){sr.leafNode(this.tag,null,or)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],83:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("../../composite-xform"),or=tr("../../../../doc/range"),ar=tr("./databar-xform"),lr=tr("./ext-lst-ref-xform"),cr=tr("./formula-xform"),dr=tr("./color-scale-xform"),hr=tr("./icon-set-xform"),ur={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},pr=fr=>{const{type:gr,operator:yr}=fr;switch(gr){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:gr};default:return{type:gr,operator:yr}}};class mr extends sr{constructor(){super(),this.map={dataBar:this.databarXform=new ar,extLst:this.extLstRefXform=new lr,formula:this.formulaXform=new cr,colorScale:this.colorScaleXform=new dr,iconSet:this.iconSetXform=new hr}}get tag(){return"cfRule"}static isPrimitive(gr){return gr.type!=="iconSet"||!gr.custom&&!ur[gr.iconSet]}render(gr,yr){switch(yr.type){case"expression":this.renderExpression(gr,yr);break;case"cellIs":this.renderCellIs(gr,yr);break;case"top10":this.renderTop10(gr,yr);break;case"aboveAverage":this.renderAboveAverage(gr,yr);break;case"dataBar":this.renderDataBar(gr,yr);break;case"colorScale":this.renderColorScale(gr,yr);break;case"iconSet":this.renderIconSet(gr,yr);break;case"containsText":this.renderText(gr,yr);break;case"timePeriod":this.renderTimePeriod(gr,yr)}}renderExpression(gr,yr){gr.openNode(this.tag,{type:"expression",dxfId:yr.dxfId,priority:yr.priority}),this.formulaXform.render(gr,yr.formulae[0]),gr.closeNode()}renderCellIs(gr,yr){gr.openNode(this.tag,{type:"cellIs",dxfId:yr.dxfId,priority:yr.priority,operator:yr.operator}),yr.formulae.forEach(vr=>{this.formulaXform.render(gr,vr)}),gr.closeNode()}renderTop10(gr,yr){gr.leafNode(this.tag,{type:"top10",dxfId:yr.dxfId,priority:yr.priority,percent:ir.toBoolAttribute(yr.percent,!1),bottom:ir.toBoolAttribute(yr.bottom,!1),rank:ir.toIntValue(yr.rank,10,!0)})}renderAboveAverage(gr,yr){gr.leafNode(this.tag,{type:"aboveAverage",dxfId:yr.dxfId,priority:yr.priority,aboveAverage:ir.toBoolAttribute(yr.aboveAverage,!0)})}renderDataBar(gr,yr){gr.openNode(this.tag,{type:"dataBar",priority:yr.priority}),this.databarXform.render(gr,yr),this.extLstRefXform.render(gr,yr),gr.closeNode()}renderColorScale(gr,yr){gr.openNode(this.tag,{type:"colorScale",priority:yr.priority}),this.colorScaleXform.render(gr,yr),gr.closeNode()}renderIconSet(gr,yr){mr.isPrimitive(yr)&&(gr.openNode(this.tag,{type:"iconSet",priority:yr.priority}),this.iconSetXform.render(gr,yr),gr.closeNode())}renderText(gr,yr){gr.openNode(this.tag,{type:yr.operator,dxfId:yr.dxfId,priority:yr.priority,operator:ir.toStringAttribute(yr.operator,"containsText")});const vr=(br=>{if(br.formulae&&br.formulae[0])return br.formulae[0];const Sr=new or(br.ref),{tl:jr}=Sr;switch(br.operator){case"containsText":return`NOT(ISERROR(SEARCH("${br.text}",${jr})))`;case"containsBlanks":return`LEN(TRIM(${jr}))=0`;case"notContainsBlanks":return`LEN(TRIM(${jr}))>0`;case"containsErrors":return`ISERROR(${jr})`;case"notContainsErrors":return`NOT(ISERROR(${jr}))`;default:return}})(yr);vr&&this.formulaXform.render(gr,vr),gr.closeNode()}renderTimePeriod(gr,yr){gr.openNode(this.tag,{type:"timePeriod",dxfId:yr.dxfId,priority:yr.priority,timePeriod:yr.timePeriod});const vr=(br=>{if(br.formulae&&br.formulae[0])return br.formulae[0];const Sr=new or(br.ref),{tl:jr}=Sr;switch(br.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${jr},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${jr},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${jr},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${jr},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${jr},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${jr},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${jr},1)=TODAY()-1`;case"today":return`FLOOR(${jr},1)=TODAY()`;case"tomorrow":return`FLOOR(${jr},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${jr},1)<=6,FLOOR(${jr},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${jr})=MONTH(EDATE(TODAY(),0-1)),YEAR(${jr})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${jr})=MONTH(TODAY()),YEAR(${jr})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${jr})=MONTH(EDATE(TODAY(),0+1)),YEAR(${jr})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(yr);vr&&this.formulaXform.render(gr,vr),gr.closeNode()}createNewModel(gr){let{attributes:yr}=gr;return{...pr(yr),dxfId:ir.toIntValue(yr.dxfId),priority:ir.toIntValue(yr.priority),timePeriod:yr.timePeriod,percent:ir.toBoolValue(yr.percent),bottom:ir.toBoolValue(yr.bottom),rank:ir.toIntValue(yr.rank),aboveAverage:ir.toBoolValue(yr.aboveAverage)}}onParserClose(gr,yr){switch(gr){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,yr.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(yr.model)}}}rr.exports=mr},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{get tag(){return"cfvo"}render(sr,or){sr.leafNode(this.tag,{type:or.type,val:or.value})}parseOpen(sr){this.model={type:sr.attributes.type,value:ir.toFloatValue(sr.attributes.val)}}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],85:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("../../style/color-xform"),or=tr("./cfvo-xform");rr.exports=class extends ir{constructor(){super(),this.map={cfvo:this.cfvoXform=new or,color:this.colorXform=new sr}}get tag(){return"colorScale"}render(ar,lr){ar.openNode(this.tag),lr.cfvo.forEach(cr=>{this.cfvoXform.render(ar,cr)}),lr.color.forEach(cr=>{this.colorXform.render(ar,cr)}),ar.closeNode()}createNewModel(ar){return{cfvo:[],color:[]}}onParserClose(ar,lr){this.model[ar].push(lr.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("./cf-rule-xform");rr.exports=class extends ir{constructor(){super(),this.map={cfRule:new sr}}get tag(){return"conditionalFormatting"}render(or,ar){ar.rules.some(sr.isPrimitive)&&(or.openNode(this.tag,{sqref:ar.ref}),ar.rules.forEach(lr=>{sr.isPrimitive(lr)&&(lr.ref=ar.ref,this.map.cfRule.render(or,lr))}),or.closeNode())}createNewModel(or){let{attributes:ar}=or;return{ref:ar.sqref,rules:[]}}onParserClose(or,ar){this.model.rules.push(ar.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("./conditional-formatting-xform");rr.exports=class extends ir{constructor(){super(),this.cfXform=new sr}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(or,ar){let lr=or.reduce((cr,dr)=>Math.max(cr,...dr.rules.map(hr=>hr.priority||0)),1);or.forEach(cr=>{cr.rules.forEach(dr=>{dr.priority||(dr.priority=lr++),dr.style&&(dr.dxfId=ar.styles.addDxfStyle(dr.style))})})}render(or,ar){ar.forEach(lr=>{this.cfXform.render(or,lr)})}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(or),!0;default:return!1}}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){return!!this.parser&&(!!this.parser.parseClose(or)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(or,ar){or.forEach(lr=>{lr.rules.forEach(cr=>{cr.dxfId!==void 0&&(cr.style=ar.styles.getDxfStyle(cr.dxfId),delete cr.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(tr,rr,nr){const ir=tr("../../composite-xform"),sr=tr("../../style/color-xform"),or=tr("./cfvo-xform");rr.exports=class extends ir{constructor(){super(),this.map={cfvo:this.cfvoXform=new or,color:this.colorXform=new sr}}get tag(){return"dataBar"}render(ar,lr){ar.openNode(this.tag),lr.cfvo.forEach(cr=>{this.cfvoXform.render(ar,cr)}),this.colorXform.render(ar,lr.color),ar.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(ar,lr){switch(ar){case"cfvo":this.model.cfvo.push(lr.model);break;case"color":this.model.color=lr.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("../../composite-xform");class or extends ir{get tag(){return"x14:id"}render(cr,dr){cr.leafNode(this.tag,null,dr)}parseOpen(){this.model=""}parseText(cr){this.model+=cr}parseClose(cr){return cr!==this.tag}}class ar extends sr{constructor(){super(),this.map={"x14:id":this.idXform=new or}}get tag(){return"ext"}render(cr,dr){cr.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(cr,dr.x14Id),cr.closeNode()}createNewModel(){return{}}onParserClose(cr,dr){this.model.x14Id=dr.model}}rr.exports=class extends sr{constructor(){super(),this.map={ext:new ar}}get tag(){return"extLst"}render(lr,cr){lr.openNode(this.tag),this.map.ext.render(lr,cr),lr.closeNode()}createNewModel(){return{}}onParserClose(lr,cr){Object.assign(this.model,cr.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(tr,rr,nr){const ir=tr("../../base-xform");rr.exports=class extends ir{get tag(){return"formula"}render(sr,or){sr.leafNode(this.tag,null,or)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],91:[function(tr,rr,nr){const ir=tr("../../base-xform"),sr=tr("../../composite-xform"),or=tr("./cfvo-xform");rr.exports=class extends sr{constructor(){super(),this.map={cfvo:this.cfvoXform=new or}}get tag(){return"iconSet"}render(ar,lr){ar.openNode(this.tag,{iconSet:ir.toStringAttribute(lr.iconSet,"3TrafficLights"),reverse:ir.toBoolAttribute(lr.reverse,!1),showValue:ir.toBoolAttribute(lr.showValue,!0)}),lr.cfvo.forEach(cr=>{this.cfvoXform.render(ar,cr)}),ar.closeNode()}createNewModel(ar){let{attributes:lr}=ar;return{iconSet:ir.toStringValue(lr.iconSet,"3TrafficLights"),reverse:ir.toBoolValue(lr.reverse),showValue:ir.toBoolValue(lr.showValue),cfvo:[]}}onParserClose(ar,lr){this.model[ar].push(lr.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(tr,rr,nr){const ir=tr("../../../utils/utils"),sr=tr("../base-xform");rr.exports=class extends sr{get tag(){return"col"}prepare(or,ar){const lr=ar.styles.addStyleModel(or.style||{});lr&&(or.styleId=lr)}render(or,ar){or.openNode("col"),or.addAttribute("min",ar.min),or.addAttribute("max",ar.max),ar.width&&or.addAttribute("width",ar.width),ar.styleId&&or.addAttribute("style",ar.styleId),ar.hidden&&or.addAttribute("hidden","1"),ar.bestFit&&or.addAttribute("bestFit","1"),ar.outlineLevel&&or.addAttribute("outlineLevel",ar.outlineLevel),ar.collapsed&&or.addAttribute("collapsed","1"),or.addAttribute("customWidth","1"),or.closeNode()}parseOpen(or){if(or.name==="col"){const ar=this.model={min:parseInt(or.attributes.min||"0",10),max:parseInt(or.attributes.max||"0",10),width:or.attributes.width===void 0?void 0:parseFloat(or.attributes.width||"0")};return or.attributes.style&&(ar.styleId=parseInt(or.attributes.style,10)),ir.parseBoolean(or.attributes.hidden)&&(ar.hidden=!0),ir.parseBoolean(or.attributes.bestFit)&&(ar.bestFit=!0),or.attributes.outlineLevel&&(ar.outlineLevel=parseInt(or.attributes.outlineLevel,10)),ir.parseBoolean(or.attributes.collapsed)&&(ar.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(or,ar){or.styleId&&(or.style=ar.styles.getStyleModel(or.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../../../utils/utils"),or=tr("../../../utils/col-cache"),ar=tr("../base-xform"),lr=tr("../../../doc/range");function cr(hr,ur,pr,mr){const fr=ur[pr];fr!==void 0?hr[pr]=fr:mr!==void 0&&(hr[pr]=mr)}function dr(hr,ur,pr,mr){const fr=ur[pr];fr!==void 0&&(hr[pr]=sr.parseBoolean(fr))}rr.exports=class extends ar{get tag(){return"dataValidations"}render(hr,ur){const pr=function(mr){const fr=ir.map(mr,(vr,br)=>({address:br,dataValidation:vr,marked:!1})).sort((vr,br)=>ir.strcmp(vr.address,br.address)),gr=ir.keyBy(fr,"address"),yr=(vr,br,Sr)=>{for(let jr=0;jr<br;jr++){const Cr=or.encodeAddress(vr.row+jr,Sr);if(!mr[Cr]||!ir.isEqual(mr[vr.address],mr[Cr]))return!1}return!0};return fr.map(vr=>{if(!vr.marked){const br=or.decodeEx(vr.address);if(br.dimensions)return gr[br.dimensions].marked=!0,{...vr.dataValidation,sqref:vr.address};let Sr=1,jr=or.encodeAddress(br.row+Sr,br.col);for(;mr[jr]&&ir.isEqual(vr.dataValidation,mr[jr]);)Sr++,jr=or.encodeAddress(br.row+Sr,br.col);let Cr=1;for(;yr(br,Sr,br.col+Cr);)Cr++;for(let Pr=0;Pr<Sr;Pr++)for(let Rr=0;Rr<Cr;Rr++)jr=or.encodeAddress(br.row+Pr,br.col+Rr),gr[jr].marked=!0;if(Sr>1||Cr>1){const Pr=br.row+(Sr-1),Rr=br.col+(Cr-1);return{...vr.dataValidation,sqref:`${vr.address}:${or.encodeAddress(Pr,Rr)}`}}return{...vr.dataValidation,sqref:vr.address}}return null}).filter(Boolean)}(ur);pr.length&&(hr.openNode("dataValidations",{count:pr.length}),pr.forEach(mr=>{hr.openNode("dataValidation"),mr.type!=="any"&&(hr.addAttribute("type",mr.type),mr.operator&&mr.type!=="list"&&mr.operator!=="between"&&hr.addAttribute("operator",mr.operator),mr.allowBlank&&hr.addAttribute("allowBlank","1")),mr.showInputMessage&&hr.addAttribute("showInputMessage","1"),mr.promptTitle&&hr.addAttribute("promptTitle",mr.promptTitle),mr.prompt&&hr.addAttribute("prompt",mr.prompt),mr.showErrorMessage&&hr.addAttribute("showErrorMessage","1"),mr.errorStyle&&hr.addAttribute("errorStyle",mr.errorStyle),mr.errorTitle&&hr.addAttribute("errorTitle",mr.errorTitle),mr.error&&hr.addAttribute("error",mr.error),hr.addAttribute("sqref",mr.sqref),(mr.formulae||[]).forEach((fr,gr)=>{hr.openNode("formula"+(gr+1)),mr.type==="date"?hr.writeText(sr.dateToExcel(new Date(fr))):hr.writeText(fr),hr.closeNode()}),hr.closeNode()}),hr.closeNode())}parseOpen(hr){switch(hr.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=hr.attributes.sqref;const ur={type:hr.attributes.type||"any",formulae:[]};switch(hr.attributes.type&&dr(ur,hr.attributes,"allowBlank"),dr(ur,hr.attributes,"showInputMessage"),dr(ur,hr.attributes,"showErrorMessage"),ur.type){case"any":case"list":case"custom":break;default:cr(ur,hr.attributes,"operator","between")}return cr(ur,hr.attributes,"promptTitle"),cr(ur,hr.attributes,"prompt"),cr(ur,hr.attributes,"errorStyle"),cr(ur,hr.attributes,"errorTitle"),cr(ur,hr.attributes,"error"),this._dataValidation=ur,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(hr){this._formula&&this._formula.push(hr)}parseClose(hr){switch(hr){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(ur=>{ur.includes(":")?new lr(ur).forEachAddress(pr=>{this.model[pr]=this._dataValidation}):this.model[ur]=this._dataValidation}),!0;case"formula1":case"formula2":{let ur=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":ur=parseInt(ur,10);break;case"decimal":ur=parseFloat(ur);break;case"date":ur=sr.excelToDate(parseFloat(ur))}return this._dataValidation.formulae.push(ur),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"dimension"}render(sr,or){or&&sr.leafNode("dimension",{ref:or})}parseOpen(sr){return sr.name==="dimension"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"drawing"}render(sr,or){or&&sr.leafNode(this.tag,{"r:id":or.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(tr,rr,nr){const ir=tr("../composite-xform"),sr=tr("./cf-ext/conditional-formattings-ext-xform");class or extends ir{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new sr}}get tag(){return"ext"}hasContent(lr){return this.conditionalFormattings.hasContent(lr.conditionalFormattings)}prepare(lr,cr){this.conditionalFormattings.prepare(lr.conditionalFormattings,cr)}render(lr,cr){lr.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(lr,cr.conditionalFormattings),lr.closeNode()}createNewModel(){return{}}onParserClose(lr,cr){this.model[lr]=cr.model}}rr.exports=class extends ir{constructor(){super(),this.map={ext:this.ext=new or}}get tag(){return"extLst"}prepare(ar,lr){this.ext.prepare(ar,lr)}hasContent(ar){return this.ext.hasContent(ar)}render(ar,lr){this.hasContent(lr)&&(ar.openNode("extLst"),this.ext.render(ar,lr),ar.closeNode())}createNewModel(){return{}}onParserClose(ar,lr){Object.assign(this.model,lr.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"headerFooter"}render(sr,or){if(or){sr.addRollback();let ar=!1;sr.openNode("headerFooter"),or.differentFirst&&(sr.addAttribute("differentFirst","1"),ar=!0),or.differentOddEven&&(sr.addAttribute("differentOddEven","1"),ar=!0),or.oddHeader&&typeof or.oddHeader=="string"&&(sr.leafNode("oddHeader",null,or.oddHeader),ar=!0),or.oddFooter&&typeof or.oddFooter=="string"&&(sr.leafNode("oddFooter",null,or.oddFooter),ar=!0),or.evenHeader&&typeof or.evenHeader=="string"&&(sr.leafNode("evenHeader",null,or.evenHeader),ar=!0),or.evenFooter&&typeof or.evenFooter=="string"&&(sr.leafNode("evenFooter",null,or.evenFooter),ar=!0),or.firstHeader&&typeof or.firstHeader=="string"&&(sr.leafNode("firstHeader",null,or.firstHeader),ar=!0),or.firstFooter&&typeof or.firstFooter=="string"&&(sr.leafNode("firstFooter",null,or.firstFooter),ar=!0),ar?(sr.closeNode(),sr.commit()):sr.rollback()}}parseOpen(sr){switch(sr.name){case"headerFooter":return this.model={},sr.attributes.differentFirst&&(this.model.differentFirst=parseInt(sr.attributes.differentFirst,0)===1),sr.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(sr.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(sr){switch(this.currentNode){case"oddHeader":this.model.oddHeader=sr;break;case"oddFooter":this.model.oddFooter=sr;break;case"evenHeader":this.model.evenHeader=sr;break;case"evenFooter":this.model.evenFooter=sr;break;case"firstHeader":this.model.firstHeader=sr;break;case"firstFooter":this.model.firstFooter=sr}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"hyperlink"}render(sr,or){this.isInternalLink(or)?sr.leafNode("hyperlink",{ref:or.address,"r:id":or.rId,tooltip:or.tooltip,location:or.target}):sr.leafNode("hyperlink",{ref:or.address,"r:id":or.rId,tooltip:or.tooltip})}parseOpen(sr){return sr.name==="hyperlink"&&(this.model={address:sr.attributes.ref,rId:sr.attributes["r:id"],tooltip:sr.attributes.tooltip},sr.attributes.location&&(this.model.target=sr.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(sr){return sr.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(sr.target)}}},{"../base-xform":32}],99:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"mergeCell"}render(sr,or){sr.leafNode("mergeCell",{ref:or})}parseOpen(sr){return sr.name==="mergeCell"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../../../doc/range"),or=tr("../../../utils/col-cache"),ar=tr("../../../doc/enums");rr.exports=class{constructor(){this.merges={}}add(lr){if(this.merges[lr.master])this.merges[lr.master].expandToAddress(lr.address);else{const cr=`${lr.master}:${lr.address}`;this.merges[lr.master]=new sr(cr)}}get mergeCells(){return ir.map(this.merges,lr=>lr.range)}reconcile(lr,cr){ir.each(lr,dr=>{const hr=or.decode(dr);for(let ur=hr.top;ur<=hr.bottom;ur++){const pr=cr[ur-1];for(let mr=hr.left;mr<=hr.right;mr++){const fr=pr.cells[mr-1];fr?fr.type===ar.ValueType.Merge&&(fr.master=hr.tl):pr.cells[mr]={type:ar.ValueType.Null,address:or.encodeAddress(ur,mr)}}}})}getMasterAddress(lr){const cr=this.hash[lr];return cr&&cr.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=or=>or!==void 0;rr.exports=class extends ir{get tag(){return"outlinePr"}render(or,ar){return!(!ar||!sr(ar.summaryBelow)&&!sr(ar.summaryRight))&&(or.leafNode(this.tag,{summaryBelow:sr(ar.summaryBelow)?Number(ar.summaryBelow):void 0,summaryRight:sr(ar.summaryRight)?Number(ar.summaryRight):void 0}),!0)}parseOpen(or){return or.name===this.tag&&(this.model={summaryBelow:sr(or.attributes.summaryBelow)?!!Number(or.attributes.summaryBelow):void 0,summaryRight:sr(or.attributes.summaryRight)?!!Number(or.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"brk"}render(sr,or){sr.leafNode("brk",or)}parseOpen(sr){return sr.name==="brk"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../base-xform");rr.exports=class extends sr{get tag(){return"pageMargins"}render(or,ar){if(ar){const lr={left:ar.left,right:ar.right,top:ar.top,bottom:ar.bottom,header:ar.header,footer:ar.footer};ir.some(lr,cr=>cr!==void 0)&&or.leafNode(this.tag,lr)}}parseOpen(or){switch(or.name){case this.tag:return this.model={left:parseFloat(or.attributes.left||.7),right:parseFloat(or.attributes.right||.7),top:parseFloat(or.attributes.top||.75),bottom:parseFloat(or.attributes.bottom||.75),header:parseFloat(or.attributes.header||.3),footer:parseFloat(or.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"pageSetUpPr"}render(sr,or){return!(!or||!or.fitToPage)&&(sr.leafNode(this.tag,{fitToPage:or.fitToPage?"1":void 0}),!0)}parseOpen(sr){return sr.name===this.tag&&(this.model={fitToPage:sr.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../base-xform");function or(dr){return dr?"1":void 0}function ar(dr){switch(dr){case"overThenDown":return dr;default:return}}function lr(dr){switch(dr){case"atEnd":case"asDisplyed":return dr;default:return}}function cr(dr){switch(dr){case"dash":case"blank":case"NA":return dr;default:return}}rr.exports=class extends sr{get tag(){return"pageSetup"}render(dr,hr){if(hr){const ur={paperSize:hr.paperSize,orientation:hr.orientation,horizontalDpi:hr.horizontalDpi,verticalDpi:hr.verticalDpi,pageOrder:ar(hr.pageOrder),blackAndWhite:or(hr.blackAndWhite),draft:or(hr.draft),cellComments:lr(hr.cellComments),errors:cr(hr.errors),scale:hr.scale,fitToWidth:hr.fitToWidth,fitToHeight:hr.fitToHeight,firstPageNumber:hr.firstPageNumber,useFirstPageNumber:or(hr.firstPageNumber),usePrinterDefaults:or(hr.usePrinterDefaults),copies:hr.copies};ir.some(ur,pr=>pr!==void 0)&&dr.leafNode(this.tag,ur)}}parseOpen(dr){switch(dr.name){case this.tag:return this.model={paperSize:(hr=dr.attributes.paperSize,hr!==void 0?parseInt(hr,10):void 0),orientation:dr.attributes.orientation||"portrait",horizontalDpi:parseInt(dr.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(dr.attributes.verticalDpi||"4294967295",10),pageOrder:dr.attributes.pageOrder||"downThenOver",blackAndWhite:dr.attributes.blackAndWhite==="1",draft:dr.attributes.draft==="1",cellComments:dr.attributes.cellComments||"None",errors:dr.attributes.errors||"displayed",scale:parseInt(dr.attributes.scale||"100",10),fitToWidth:parseInt(dr.attributes.fitToWidth||"1",10),fitToHeight:parseInt(dr.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(dr.attributes.firstPageNumber||"1",10),useFirstPageNumber:dr.attributes.useFirstPageNumber==="1",usePrinterDefaults:dr.attributes.usePrinterDefaults==="1",copies:parseInt(dr.attributes.copies||"1",10)},!0;default:return!1}var hr}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"picture"}render(sr,or){or&&sr.leafNode(this.tag,{"r:id":or.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../base-xform");function or(ar){return ar?"1":void 0}rr.exports=class extends sr{get tag(){return"printOptions"}render(ar,lr){if(lr){const cr={headings:or(lr.showRowColHeaders),gridLines:or(lr.showGridLines),horizontalCentered:or(lr.horizontalCentered),verticalCentered:or(lr.verticalCentered)};ir.some(cr,dr=>dr!==void 0)&&ar.leafNode(this.tag,cr)}}parseOpen(ar){switch(ar.name){case this.tag:return this.model={showRowColHeaders:ar.attributes.headings==="1",showGridLines:ar.attributes.gridLines==="1",horizontalCentered:ar.attributes.horizontalCentered==="1",verticalCentered:ar.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(tr,rr,nr){const ir=tr("./page-breaks-xform"),sr=tr("../list-xform");rr.exports=class extends sr{constructor(){super({tag:"rowBreaks",count:!0,childXform:new ir})}render(or,ar){if(ar&&ar.length){or.openNode(this.tag,this.$),this.count&&(or.addAttribute(this.$count,ar.length),or.addAttribute("manualBreakCount",ar.length));const{childXform:lr}=this;ar.forEach(cr=>{lr.render(or,cr)}),or.closeNode()}else this.empty&&or.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../../../utils/utils"),or=tr("./cell-xform");rr.exports=class extends ir{constructor(ar){super(),this.maxItems=ar&&ar.maxItems,this.map={c:new or}}get tag(){return"row"}prepare(ar,lr){const cr=lr.styles.addStyleModel(ar.style);cr&&(ar.styleId=cr);const dr=this.map.c;ar.cells.forEach(hr=>{dr.prepare(hr,lr)})}render(ar,lr,cr){ar.openNode("row"),ar.addAttribute("r",lr.number),lr.height&&(ar.addAttribute("ht",lr.height),ar.addAttribute("customHeight","1")),lr.hidden&&ar.addAttribute("hidden","1"),lr.min>0&&lr.max>0&&lr.min<=lr.max&&ar.addAttribute("spans",`${lr.min}:${lr.max}`),lr.styleId&&(ar.addAttribute("s",lr.styleId),ar.addAttribute("customFormat","1")),ar.addAttribute("x14ac:dyDescent","0.25"),lr.outlineLevel&&ar.addAttribute("outlineLevel",lr.outlineLevel),lr.collapsed&&ar.addAttribute("collapsed","1");const dr=this.map.c;lr.cells.forEach(hr=>{dr.render(ar,hr,cr)}),ar.closeNode()}parseOpen(ar){if(this.parser)return this.parser.parseOpen(ar),!0;if(ar.name==="row"){this.numRowsSeen+=1;const lr=ar.attributes.spans?ar.attributes.spans.split(":").map(dr=>parseInt(dr,10)):[void 0,void 0],cr=this.model={number:parseInt(ar.attributes.r,10),min:lr[0],max:lr[1],cells:[]};return ar.attributes.s&&(cr.styleId=parseInt(ar.attributes.s,10)),sr.parseBoolean(ar.attributes.hidden)&&(cr.hidden=!0),sr.parseBoolean(ar.attributes.bestFit)&&(cr.bestFit=!0),ar.attributes.ht&&(cr.height=parseFloat(ar.attributes.ht)),ar.attributes.outlineLevel&&(cr.outlineLevel=parseInt(ar.attributes.outlineLevel,10)),sr.parseBoolean(ar.attributes.collapsed)&&(cr.collapsed=!0),!0}return this.parser=this.map[ar.name],!!this.parser&&(this.parser.parseOpen(ar),!0)}parseText(ar){this.parser&&this.parser.parseText(ar)}parseClose(ar){if(this.parser){if(!this.parser.parseClose(ar)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(ar,lr){ar.style=ar.styleId?lr.styles.getStyleModel(ar.styleId):{},ar.styleId!==void 0&&(ar.styleId=void 0);const cr=this.map.c;ar.cells.forEach(dr=>{cr.reconcile(dr,lr)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../base-xform");rr.exports=class extends sr{get tag(){return"sheetFormatPr"}render(or,ar){if(ar){const lr={defaultRowHeight:ar.defaultRowHeight,outlineLevelRow:ar.outlineLevelRow,outlineLevelCol:ar.outlineLevelCol,"x14ac:dyDescent":ar.dyDescent};ar.defaultColWidth&&(lr.defaultColWidth=ar.defaultColWidth),ar.defaultRowHeight&&ar.defaultRowHeight===15||(lr.customHeight="1"),ir.some(lr,cr=>cr!==void 0)&&or.leafNode("sheetFormatPr",lr)}}parseOpen(or){return or.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(or.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(or.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(or.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(or.attributes.outlineLevelCol||"0",10)},or.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(or.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../style/color-xform"),or=tr("./page-setup-properties-xform"),ar=tr("./outline-properties-xform");rr.exports=class extends ir{constructor(){super(),this.map={tabColor:new sr("tabColor"),pageSetUpPr:new or,outlinePr:new ar}}get tag(){return"sheetPr"}render(lr,cr){if(cr){lr.addRollback(),lr.openNode("sheetPr");let dr=!1;dr=this.map.tabColor.render(lr,cr.tabColor)||dr,dr=this.map.pageSetUpPr.render(lr,cr.pageSetup)||dr,dr=this.map.outlinePr.render(lr,cr.outlineProperties)||dr,dr?(lr.closeNode(),lr.commit()):lr.rollback()}}parseOpen(lr){return this.parser?(this.parser.parseOpen(lr),!0):lr.name===this.tag?(this.reset(),!0):!!this.map[lr.name]&&(this.parser=this.map[lr.name],this.parser.parseOpen(lr),!0)}parseText(lr){return!!this.parser&&(this.parser.parseText(lr),!0)}parseClose(lr){return this.parser?(this.parser.parseClose(lr)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../base-xform");function or(lr,cr){return lr?cr:void 0}function ar(lr,cr){return lr===cr||void 0}rr.exports=class extends sr{get tag(){return"sheetProtection"}render(lr,cr){if(cr){const dr={sheet:or(cr.sheet,"1"),selectLockedCells:cr.selectLockedCells===!1?"1":void 0,selectUnlockedCells:cr.selectUnlockedCells===!1?"1":void 0,formatCells:or(cr.formatCells,"0"),formatColumns:or(cr.formatColumns,"0"),formatRows:or(cr.formatRows,"0"),insertColumns:or(cr.insertColumns,"0"),insertRows:or(cr.insertRows,"0"),insertHyperlinks:or(cr.insertHyperlinks,"0"),deleteColumns:or(cr.deleteColumns,"0"),deleteRows:or(cr.deleteRows,"0"),sort:or(cr.sort,"0"),autoFilter:or(cr.autoFilter,"0"),pivotTables:or(cr.pivotTables,"0")};cr.sheet&&(dr.algorithmName=cr.algorithmName,dr.hashValue=cr.hashValue,dr.saltValue=cr.saltValue,dr.spinCount=cr.spinCount,dr.objects=or(cr.objects===!1,"1"),dr.scenarios=or(cr.scenarios===!1,"1")),ir.some(dr,hr=>hr!==void 0)&&lr.leafNode(this.tag,dr)}}parseOpen(lr){switch(lr.name){case this.tag:return this.model={sheet:ar(lr.attributes.sheet,"1"),objects:lr.attributes.objects!=="1"&&void 0,scenarios:lr.attributes.scenarios!=="1"&&void 0,selectLockedCells:lr.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:lr.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:ar(lr.attributes.formatCells,"0"),formatColumns:ar(lr.attributes.formatColumns,"0"),formatRows:ar(lr.attributes.formatRows,"0"),insertColumns:ar(lr.attributes.insertColumns,"0"),insertRows:ar(lr.attributes.insertRows,"0"),insertHyperlinks:ar(lr.attributes.insertHyperlinks,"0"),deleteColumns:ar(lr.attributes.deleteColumns,"0"),deleteRows:ar(lr.attributes.deleteRows,"0"),sort:ar(lr.attributes.sort,"0"),autoFilter:ar(lr.attributes.autoFilter,"0"),pivotTables:ar(lr.attributes.pivotTables,"0")},lr.attributes.algorithmName&&(this.model.algorithmName=lr.attributes.algorithmName,this.model.hashValue=lr.attributes.hashValue,this.model.saltValue=lr.attributes.saltValue,this.model.spinCount=parseInt(lr.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(tr,rr,nr){const ir=tr("../../../utils/col-cache"),sr=tr("../base-xform"),or={frozen:"frozen",frozenSplit:"frozen",split:"split"};rr.exports=class extends sr{get tag(){return"sheetView"}prepare(ar){switch(ar.state){case"frozen":case"split":break;default:ar.state="normal"}}render(ar,lr){ar.openNode("sheetView",{workbookViewId:lr.workbookViewId||0});const cr=function(mr,fr,gr){gr&&ar.addAttribute(mr,fr)};let dr,hr,ur,pr;switch(cr("rightToLeft","1",lr.rightToLeft===!0),cr("tabSelected","1",lr.tabSelected),cr("showRuler","0",lr.showRuler===!1),cr("showRowColHeaders","0",lr.showRowColHeaders===!1),cr("showGridLines","0",lr.showGridLines===!1),cr("zoomScale",lr.zoomScale,lr.zoomScale),cr("zoomScaleNormal",lr.zoomScaleNormal,lr.zoomScaleNormal),cr("view",lr.style,lr.style),lr.state){case"frozen":hr=lr.xSplit||0,ur=lr.ySplit||0,dr=lr.topLeftCell||ir.getAddress(ur+1,hr+1).address,pr=(lr.xSplit&&lr.ySplit?"bottomRight":lr.xSplit&&"topRight")||"bottomLeft",ar.leafNode("pane",{xSplit:lr.xSplit||void 0,ySplit:lr.ySplit||void 0,topLeftCell:dr,activePane:pr,state:"frozen"}),ar.leafNode("selection",{pane:pr,activeCell:lr.activeCell,sqref:lr.activeCell});break;case"split":lr.activePane==="topLeft"&&(lr.activePane=void 0),ar.leafNode("pane",{xSplit:lr.xSplit||void 0,ySplit:lr.ySplit||void 0,topLeftCell:lr.topLeftCell,activePane:lr.activePane}),ar.leafNode("selection",{pane:lr.activePane,activeCell:lr.activeCell,sqref:lr.activeCell});break;case"normal":lr.activeCell&&ar.leafNode("selection",{activeCell:lr.activeCell,sqref:lr.activeCell})}ar.closeNode()}parseOpen(ar){switch(ar.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(ar.attributes.workbookViewId,10),rightToLeft:ar.attributes.rightToLeft==="1",tabSelected:ar.attributes.tabSelected==="1",showRuler:ar.attributes.showRuler!=="0",showRowColHeaders:ar.attributes.showRowColHeaders!=="0",showGridLines:ar.attributes.showGridLines!=="0",zoomScale:parseInt(ar.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(ar.attributes.zoomScaleNormal||"100",10),style:ar.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(ar.attributes.xSplit||"0",10),ySplit:parseInt(ar.attributes.ySplit||"0",10),topLeftCell:ar.attributes.topLeftCell,activePane:ar.attributes.activePane||"topLeft",state:ar.attributes.state},!0;case"selection":{const lr=ar.attributes.pane||"topLeft";return this.selections[lr]={pane:lr,activeCell:ar.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(ar){let lr,cr;switch(ar){case"sheetView":return this.sheetView&&this.pane?(lr=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:or[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(lr.activePane=this.pane.activePane),cr=this.selections[this.pane.activePane],cr&&cr.activeCell&&(lr.activeCell=cr.activeCell),this.sheetView.style&&(lr.style=this.sheetView.style)):(lr=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},cr=this.selections.topLeft,cr&&cr.activeCell&&(lr.activeCell=cr.activeCell),this.sheetView.style&&(lr.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"tablePart"}render(sr,or){or&&sr.leafNode(this.tag,{"r:id":or.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../../../utils/col-cache"),or=tr("../../../utils/xml-stream"),ar=tr("../../rel-type"),lr=tr("./merges"),cr=tr("../base-xform"),dr=tr("../list-xform"),hr=tr("./row-xform"),ur=tr("./col-xform"),pr=tr("./dimension-xform"),mr=tr("./hyperlink-xform"),fr=tr("./merge-cell-xform"),gr=tr("./data-validations-xform"),yr=tr("./sheet-properties-xform"),vr=tr("./sheet-format-properties-xform"),br=tr("./sheet-view-xform"),Sr=tr("./sheet-protection-xform"),jr=tr("./page-margins-xform"),Cr=tr("./page-setup-xform"),Pr=tr("./print-options-xform"),Rr=tr("./auto-filter-xform"),Lr=tr("./picture-xform"),Ir=tr("./drawing-xform"),Nr=tr("./table-part-xform"),Ar=tr("./row-breaks-xform"),Dr=tr("./header-footer-xform"),Tr=tr("./cf/conditional-formattings-xform"),_r=tr("./ext-lst-xform"),wr=(xr,Mr)=>{if(!Mr||!Mr.length)return xr;if(!xr||!xr.length)return Mr;const zr={},Or={};return xr.forEach(Br=>{zr[Br.ref]=Br,Br.rules.forEach(Ur=>{const{x14Id:qr}=Ur;qr&&(Or[qr]=Ur)})}),Mr.forEach(Br=>{Br.rules.forEach(Ur=>{const qr=Or[Ur.x14Id];qr?((Vr,Gr)=>{Object.keys(Gr).forEach($r=>{const Fr=Vr[$r],Kr=Gr[$r];Fr===void 0&&Kr!==void 0&&(Vr[$r]=Kr)})})(qr,Ur):zr[Br.ref]?zr[Br.ref].rules.push(Ur):xr.push({ref:Br.ref,rules:[Ur]})})}),xr};class Er extends cr{constructor(Mr){super();const{maxRows:zr,maxCols:Or,ignoreNodes:Br}=Mr||{};this.ignoreNodes=Br||[],this.map={sheetPr:new yr,dimension:new pr,sheetViews:new dr({tag:"sheetViews",count:!1,childXform:new br}),sheetFormatPr:new vr,cols:new dr({tag:"cols",count:!1,childXform:new ur}),sheetData:new dr({tag:"sheetData",count:!1,empty:!0,childXform:new hr({maxItems:Or}),maxItems:zr}),autoFilter:new Rr,mergeCells:new dr({tag:"mergeCells",count:!0,childXform:new fr}),rowBreaks:new Ar,hyperlinks:new dr({tag:"hyperlinks",count:!1,childXform:new mr}),pageMargins:new jr,dataValidations:new gr,pageSetup:new Cr,headerFooter:new Dr,printOptions:new Pr,picture:new Lr,drawing:new Ir,sheetProtection:new Sr,tableParts:new dr({tag:"tableParts",count:!0,childXform:new Nr}),conditionalFormatting:new Tr,extLst:new _r}}prepare(Mr,zr){zr.merges=new lr,Mr.hyperlinks=zr.hyperlinks=[],Mr.comments=zr.comments=[],zr.formulae={},zr.siFormulae=0,this.map.cols.prepare(Mr.cols,zr),this.map.sheetData.prepare(Mr.rows,zr),this.map.conditionalFormatting.prepare(Mr.conditionalFormattings,zr),Mr.mergeCells=zr.merges.mergeCells;const Or=Mr.rels=[];function Br(Vr){return"rId"+(Vr.length+1)}if(Mr.hyperlinks.forEach(Vr=>{const Gr=Br(Or);Vr.rId=Gr,Or.push({Id:Gr,Type:ar.Hyperlink,Target:Vr.target,TargetMode:"External"})}),Mr.comments.length>0){const Vr={Id:Br(Or),Type:ar.Comments,Target:`../comments${Mr.id}.xml`};Or.push(Vr);const Gr={Id:Br(Or),Type:ar.VmlDrawing,Target:`../drawings/vmlDrawing${Mr.id}.vml`};Or.push(Gr),Mr.comments.forEach($r=>{$r.refAddress=sr.decodeAddress($r.ref)}),zr.commentRefs.push({commentName:"comments"+Mr.id,vmlDrawing:"vmlDrawing"+Mr.id})}const Ur=[];let qr;Mr.media.forEach(Vr=>{if(Vr.type==="background"){const Gr=Br(Or);qr=zr.media[Vr.imageId],Or.push({Id:Gr,Type:ar.Image,Target:`../media/${qr.name}.${qr.extension}`}),Mr.background={rId:Gr},Mr.image=zr.media[Vr.imageId]}else if(Vr.type==="image"){let{drawing:Gr}=Mr;qr=zr.media[Vr.imageId],Gr||(Gr=Mr.drawing={rId:Br(Or),name:"drawing"+ ++zr.drawingsCount,anchors:[],rels:[]},zr.drawings.push(Gr),Or.push({Id:Gr.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Gr.name}.xml`}));let $r=this.preImageId===Vr.imageId?Ur[Vr.imageId]:Ur[Gr.rels.length];$r||($r=Br(Gr.rels),Ur[Gr.rels.length]=$r,Gr.rels.push({Id:$r,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${qr.name}.${qr.extension}`}));const Fr={picture:{rId:$r},range:Vr.range};if(Vr.hyperlinks&&Vr.hyperlinks.hyperlink){const Kr=Br(Gr.rels);Ur[Gr.rels.length]=Kr,Fr.picture.hyperlinks={tooltip:Vr.hyperlinks.tooltip,rId:Kr},Gr.rels.push({Id:Kr,Type:ar.Hyperlink,Target:Vr.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=Vr.imageId,Gr.anchors.push(Fr)}}),Mr.tables.forEach(Vr=>{const Gr=Br(Or);Vr.rId=Gr,Or.push({Id:Gr,Type:ar.Table,Target:"../tables/"+Vr.target}),Vr.columns.forEach($r=>{const{style:Fr}=$r;Fr&&($r.dxfId=zr.styles.addDxfStyle(Fr))})}),this.map.extLst.prepare(Mr,zr)}render(Mr,zr){Mr.openXml(or.StdDocAttributes),Mr.openNode("worksheet",Er.WORKSHEET_ATTRIBUTES);const Or=zr.properties?{defaultRowHeight:zr.properties.defaultRowHeight,dyDescent:zr.properties.dyDescent,outlineLevelCol:zr.properties.outlineLevelCol,outlineLevelRow:zr.properties.outlineLevelRow}:void 0;zr.properties&&zr.properties.defaultColWidth&&(Or.defaultColWidth=zr.properties.defaultColWidth);const Br={outlineProperties:zr.properties&&zr.properties.outlineProperties,tabColor:zr.properties&&zr.properties.tabColor,pageSetup:zr.pageSetup&&zr.pageSetup.fitToPage?{fitToPage:zr.pageSetup.fitToPage}:void 0},Ur=zr.pageSetup&&zr.pageSetup.margins,qr={showRowColHeaders:zr.pageSetup&&zr.pageSetup.showRowColHeaders,showGridLines:zr.pageSetup&&zr.pageSetup.showGridLines,horizontalCentered:zr.pageSetup&&zr.pageSetup.horizontalCentered,verticalCentered:zr.pageSetup&&zr.pageSetup.verticalCentered},Vr=zr.sheetProtection;this.map.sheetPr.render(Mr,Br),this.map.dimension.render(Mr,zr.dimensions),this.map.sheetViews.render(Mr,zr.views),this.map.sheetFormatPr.render(Mr,Or),this.map.cols.render(Mr,zr.cols),this.map.sheetData.render(Mr,zr.rows),this.map.sheetProtection.render(Mr,Vr),this.map.autoFilter.render(Mr,zr.autoFilter),this.map.mergeCells.render(Mr,zr.mergeCells),this.map.conditionalFormatting.render(Mr,zr.conditionalFormattings),this.map.dataValidations.render(Mr,zr.dataValidations),this.map.hyperlinks.render(Mr,zr.hyperlinks),this.map.printOptions.render(Mr,qr),this.map.pageMargins.render(Mr,Ur),this.map.pageSetup.render(Mr,zr.pageSetup),this.map.headerFooter.render(Mr,zr.headerFooter),this.map.rowBreaks.render(Mr,zr.rowBreaks),this.map.drawing.render(Mr,zr.drawing),this.map.picture.render(Mr,zr.background),this.map.tableParts.render(Mr,zr.tables),this.map.extLst.render(Mr,zr),zr.rels&&zr.rels.forEach(Gr=>{Gr.Type===ar.VmlDrawing&&Mr.leafNode("legacyDrawing",{"r:id":Gr.Id})}),Mr.closeNode()}parseOpen(Mr){return this.parser?(this.parser.parseOpen(Mr),!0):Mr.name==="worksheet"?(ir.each(this.map,zr=>{zr.reset()}),!0):(this.map[Mr.name]&&!this.ignoreNodes.includes(Mr.name)&&(this.parser=this.map[Mr.name],this.parser.parseOpen(Mr)),!0)}parseText(Mr){this.parser&&this.parser.parseText(Mr)}parseClose(Mr){if(this.parser)return this.parser.parseClose(Mr)||(this.parser=void 0),!0;switch(Mr){case"worksheet":{const zr=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(zr.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(zr.outlineProperties=this.map.sheetPr.model.outlineProperties);const Or={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Br=Object.assign(Or,this.map.pageSetup.model,this.map.printOptions.model),Ur=wr(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:zr,views:this.map.sheetViews.model,pageSetup:Br,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Ur},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(Mr,zr){const Or=(Mr.relationships||[]).reduce((Ur,qr)=>{if(Ur[qr.Id]=qr,qr.Type===ar.Comments&&(Mr.comments=zr.comments[qr.Target].comments),qr.Type===ar.VmlDrawing&&Mr.comments&&Mr.comments.length){const Vr=zr.vmlDrawings[qr.Target].comments;Mr.comments.forEach((Gr,$r)=>{Gr.note=Object.assign({},Gr.note,Vr[$r])})}return Ur},{});if(zr.commentsMap=(Mr.comments||[]).reduce((Ur,qr)=>(qr.ref&&(Ur[qr.ref]=qr),Ur),{}),zr.hyperlinkMap=(Mr.hyperlinks||[]).reduce((Ur,qr)=>(qr.rId&&(Ur[qr.address]=Or[qr.rId].Target),Ur),{}),zr.formulae={},Mr.rows=Mr.rows&&Mr.rows.filter(Boolean)||[],Mr.rows.forEach(Ur=>{Ur.cells=Ur.cells&&Ur.cells.filter(Boolean)||[]}),this.map.cols.reconcile(Mr.cols,zr),this.map.sheetData.reconcile(Mr.rows,zr),this.map.conditionalFormatting.reconcile(Mr.conditionalFormattings,zr),Mr.media=[],Mr.drawing){const Ur=Or[Mr.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Ur){const qr=Ur[1];zr.drawings[qr].anchors.forEach(Vr=>{if(Vr.medium){const Gr={type:"image",imageId:Vr.medium.index,range:Vr.range,hyperlinks:Vr.picture.hyperlinks};Mr.media.push(Gr)}})}}const Br=Mr.background&&Or[Mr.background.rId];if(Br){const Ur=Br.Target.split("/media/")[1],qr=zr.mediaIndex&&zr.mediaIndex[Ur];qr!==void 0&&Mr.media.push({type:"background",imageId:qr})}Mr.tables=(Mr.tables||[]).map(Ur=>{const qr=Or[Ur.rId];return zr.tables[qr.Target]}),delete Mr.relationships,delete Mr.hyperlinks,delete Mr.comments}}Er.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},rr.exports=Er},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr}render(sr,or){or&&(sr.openNode(this.tag),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs,this._format=sr.format||function(or){try{return Number.isNaN(or.getTime())?"":or.toISOString()}catch{return""}},this._parse=sr.parse||function(or){return new Date(or)}}render(sr,or){or&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,this._format(or)):sr.writeText(this._format(or)),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.attr?this.model=this._parse(sr.attributes[this.attr]):this.text=[])}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs,this.zero=sr.zero}render(sr,or){(or||this.zero)&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,or):sr.writeText(or),sr.closeNode())}parseOpen(sr){return sr.name===this.tag&&(this.attr?this.model=parseInt(sr.attributes[this.attr],10):this.text=[],!0)}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs}render(sr,or){or!==void 0&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,or):sr.writeText(or),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.attr?this.model=sr.attributes[this.attr]:this.text=[])}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(tr,rr,nr){const ir=tr("./base-xform"),sr=tr("../../utils/xml-stream");rr.exports=class extends ir{constructor(or){super(),this._model=or}render(or){if(!this._xml){const ar=new sr;(function lr(cr,dr){cr.openNode(dr.tag,dr.$),dr.c&&dr.c.forEach(hr=>{lr(cr,hr)}),dr.t&&cr.writeText(dr.t),cr.closeNode()})(ar,this._model),this._xml=ar.xml}or.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(or){switch(or){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(tr,rr,nr){const ir=tr("./text-xform"),sr=tr("./rich-text-xform"),or=tr("../base-xform");rr.exports=class extends or{constructor(){super(),this.map={r:new sr,t:new ir}}get tag(){return"rPh"}render(ar,lr){if(ar.openNode(this.tag,{sb:lr.sb||0,eb:lr.eb||0}),lr&&lr.hasOwnProperty("richText")&&lr.richText){const{r:cr}=this.map;lr.richText.forEach(dr=>{cr.render(ar,dr)})}else lr&&this.map.t.render(ar,lr.text);ar.closeNode()}parseOpen(ar){const{name:lr}=ar;return this.parser?(this.parser.parseOpen(ar),!0):lr===this.tag?(this.model={sb:parseInt(ar.attributes.sb,10),eb:parseInt(ar.attributes.eb,10)},!0):(this.parser=this.map[lr],!!this.parser&&(this.parser.parseOpen(ar),!0))}parseText(ar){this.parser&&this.parser.parseText(ar)}parseClose(ar){if(this.parser){if(!this.parser.parseClose(ar)){switch(ar){case"r":{let lr=this.model.richText;lr||(lr=this.model.richText=[]),lr.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(ar){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(tr,rr,nr){const ir=tr("./text-xform"),sr=tr("../style/font-xform"),or=tr("../base-xform");class ar extends or{constructor(cr){super(),this.model=cr}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new ir)}get fontXform(){return this._fontXform||(this._fontXform=new sr(ar.FONT_OPTIONS))}render(cr,dr){dr=dr||this.model,cr.openNode("r"),dr.font&&this.fontXform.render(cr,dr.font),this.textXform.render(cr,dr.text),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(cr),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(cr),!0;default:return!1}}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){switch(cr){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(cr),!0}}}ar.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},rr.exports=ar},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(tr,rr,nr){const ir=tr("./text-xform"),sr=tr("./rich-text-xform"),or=tr("./phonetic-text-xform"),ar=tr("../base-xform");rr.exports=class extends ar{constructor(lr){super(),this.model=lr,this.map={r:new sr,t:new ir,rPh:new or}}get tag(){return"si"}render(lr,cr){lr.openNode(this.tag),cr&&cr.hasOwnProperty("richText")&&cr.richText?cr.richText.length?cr.richText.forEach(dr=>{this.map.r.render(lr,dr)}):this.map.t.render(lr,""):cr!=null&&this.map.t.render(lr,cr),lr.closeNode()}parseOpen(lr){const{name:cr}=lr;return this.parser?(this.parser.parseOpen(lr),!0):cr===this.tag?(this.model={},!0):(this.parser=this.map[cr],!!this.parser&&(this.parser.parseOpen(lr),!0))}parseText(lr){this.parser&&this.parser.parseText(lr)}parseClose(lr){if(this.parser){if(!this.parser.parseClose(lr)){switch(lr){case"r":{let cr=this.model.richText;cr||(cr=this.model.richText=[]),cr.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(lr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("./shared-string-xform");rr.exports=class extends sr{constructor(ar){super(),this.model=ar||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new or)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(ar){return this.model.values[ar]}add(ar){return ar.richText?this.addRichText(ar):this.addText(ar)}addText(ar){let lr=this.hash[ar];return lr===void 0&&(lr=this.hash[ar]=this.model.values.length,this.model.values.push(ar)),this.model.count++,lr}addRichText(ar){const lr=this.sharedStringXform.toXml(ar);let cr=this.rich[lr];return cr===void 0&&(cr=this.rich[lr]=this.model.values.length,this.model.values.push(ar)),this.model.count++,cr}render(ar,lr){lr=lr||this._values,ar.openXml(ir.StdDocAttributes),ar.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:lr.count,uniqueCount:lr.values.length});const cr=this.sharedStringXform;lr.values.forEach(dr=>{cr.render(ar,dr)}),ar.closeNode()}parseOpen(ar){if(this.parser)return this.parser.parseOpen(ar),!0;switch(ar.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(ar),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(ar))}}parseText(ar){this.parser&&this.parser.parseText(ar)}parseClose(ar){if(this.parser)return this.parser.parseClose(ar)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(ar){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+ar)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"t"}render(sr,or){sr.openNode("t"),/^\s|\n|\s$/.test(or)&&sr.addAttribute("xml:space","preserve"),sr.writeText(or),sr.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(sr,or)=>String.fromCharCode(parseInt(or,16)))}parseOpen(sr){switch(sr.name){case"t":return this._text=[],!0;default:return!1}}parseText(sr){this._text.push(sr)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(tr,rr,nr){const ir=tr("../../../doc/enums"),sr=tr("../../../utils/utils"),or=tr("../base-xform"),ar={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((cr,dr)=>(cr[dr]=!0,cr),{}),horizontal(cr){return this.horizontalValues[cr]?cr:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((cr,dr)=>(cr[dr]=!0,cr),{}),vertical(cr){return cr==="middle"?"center":this.verticalValues[cr]?cr:void 0},wrapText:cr=>!!cr||void 0,shrinkToFit:cr=>!!cr||void 0,textRotation(cr){switch(cr){case"vertical":return cr;default:return(cr=sr.validInt(cr))>=-90&&cr<=90?cr:void 0}},indent:cr=>(cr=sr.validInt(cr),Math.max(0,cr)),readingOrder(cr){switch(cr){case"ltr":return ir.ReadingOrder.LeftToRight;case"rtl":return ir.ReadingOrder.RightToLeft;default:return}}},lr={toXml(cr){if(cr=ar.textRotation(cr)){if(cr==="vertical")return 255;const dr=Math.round(cr);if(dr>=0&&dr<=90)return dr;if(dr<0&&dr>=-90)return 90-dr}},toModel(cr){const dr=sr.validInt(cr);if(dr!==void 0){if(dr===255)return"vertical";if(dr>=0&&dr<=90)return dr;if(dr>90&&dr<=180)return 90-dr}}};rr.exports=class extends or{get tag(){return"alignment"}render(cr,dr){cr.addRollback(),cr.openNode("alignment");let hr=!1;function ur(pr,mr){mr&&(cr.addAttribute(pr,mr),hr=!0)}ur("horizontal",ar.horizontal(dr.horizontal)),ur("vertical",ar.vertical(dr.vertical)),ur("wrapText",!!ar.wrapText(dr.wrapText)&&"1"),ur("shrinkToFit",!!ar.shrinkToFit(dr.shrinkToFit)&&"1"),ur("indent",ar.indent(dr.indent)),ur("textRotation",lr.toXml(dr.textRotation)),ur("readingOrder",ar.readingOrder(dr.readingOrder)),cr.closeNode(),hr?cr.commit():cr.rollback()}parseOpen(cr){const dr={};let hr=!1;function ur(pr,mr,fr){pr&&(dr[mr]=fr,hr=!0)}ur(cr.attributes.horizontal,"horizontal",cr.attributes.horizontal),ur(cr.attributes.vertical,"vertical",cr.attributes.vertical==="center"?"middle":cr.attributes.vertical),ur(cr.attributes.wrapText,"wrapText",sr.parseBoolean(cr.attributes.wrapText)),ur(cr.attributes.shrinkToFit,"shrinkToFit",sr.parseBoolean(cr.attributes.shrinkToFit)),ur(cr.attributes.indent,"indent",parseInt(cr.attributes.indent,10)),ur(cr.attributes.textRotation,"textRotation",lr.toModel(cr.attributes.textRotation)),ur(cr.attributes.readingOrder,"readingOrder",cr.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=hr?dr:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../../../utils/utils"),or=tr("./color-xform");class ar extends ir{constructor(cr){super(),this.name=cr,this.map={color:new or}}get tag(){return this.name}render(cr,dr,hr){const ur=dr&&dr.color||hr||this.defaultColor;cr.openNode(this.name),dr&&dr.style&&(cr.addAttribute("style",dr.style),ur&&this.map.color.render(cr,ur)),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case this.name:{const{style:dr}=cr.attributes;return this.model=dr?{style:dr}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(cr),!0;default:return!1}}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){return this.parser?(this.parser.parseClose(cr)||(this.parser=void 0),!0):(cr===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(cr){return ar.validStyleValues[cr]}}ar.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((lr,cr)=>(lr[cr]=!0,lr),{}),rr.exports=class extends ir{constructor(){super(),this.map={top:new ar("top"),left:new ar("left"),bottom:new ar("bottom"),right:new ar("right"),diagonal:new ar("diagonal")}}render(lr,cr){const{color:dr}=cr;function hr(ur,pr){ur&&!ur.color&&cr.color&&(ur={...ur,color:cr.color}),pr.render(lr,ur,dr)}lr.openNode("border"),cr.diagonal&&cr.diagonal.style&&(cr.diagonal.up&&lr.addAttribute("diagonalUp","1"),cr.diagonal.down&&lr.addAttribute("diagonalDown","1")),hr(cr.left,this.map.left),hr(cr.right,this.map.right),hr(cr.top,this.map.top),hr(cr.bottom,this.map.bottom),hr(cr.diagonal,this.map.diagonal),lr.closeNode()}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case"border":return this.reset(),this.diagonalUp=sr.parseBoolean(lr.attributes.diagonalUp),this.diagonalDown=sr.parseBoolean(lr.attributes.diagonalDown),!0;default:return this.parser=this.map[lr.name],!!this.parser&&(this.parser.parseOpen(lr),!0)}}parseText(lr){this.parser&&this.parser.parseText(lr)}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.parser=void 0),!0;if(lr==="border"){const cr=this.model={},dr=function(hr,ur,pr){ur&&(pr&&Object.assign(ur,pr),cr[hr]=ur)};dr("left",this.map.left.model),dr("right",this.map.right.model),dr("top",this.map.top.model),dr("bottom",this.map.bottom.model),dr("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{constructor(sr){super(),this.name=sr||"color"}get tag(){return this.name}render(sr,or){return!!or&&(sr.openNode(this.name),or.argb?sr.addAttribute("rgb",or.argb):or.theme!==void 0?(sr.addAttribute("theme",or.theme),or.tint!==void 0&&sr.addAttribute("tint",or.tint)):or.indexed!==void 0?sr.addAttribute("indexed",or.indexed):sr.addAttribute("auto","1"),sr.closeNode(),!0)}parseOpen(sr){return sr.name===this.name&&(sr.attributes.rgb?this.model={argb:sr.attributes.rgb}:sr.attributes.theme?(this.model={theme:parseInt(sr.attributes.theme,10)},sr.attributes.tint&&(this.model.tint=parseFloat(sr.attributes.tint))):sr.attributes.indexed?this.model={indexed:parseInt(sr.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./alignment-xform"),or=tr("./border-xform"),ar=tr("./fill-xform"),lr=tr("./font-xform"),cr=tr("./numfmt-xform"),dr=tr("./protection-xform");rr.exports=class extends ir{constructor(){super(),this.map={alignment:new sr,border:new or,fill:new ar,font:new lr,numFmt:new cr,protection:new dr}}get tag(){return"dxf"}render(hr,ur){if(hr.openNode(this.tag),ur.font&&this.map.font.render(hr,ur.font),ur.numFmt&&ur.numFmtId){const pr={id:ur.numFmtId,formatCode:ur.numFmt};this.map.numFmt.render(hr,pr)}ur.fill&&this.map.fill.render(hr,ur.fill),ur.alignment&&this.map.alignment.render(hr,ur.alignment),ur.border&&this.map.border.render(hr,ur.border),ur.protection&&this.map.protection.render(hr,ur.protection),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[hr.name],this.parser&&this.parser.parseOpen(hr),!0}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return this.parser?(this.parser.parseClose(hr)||(this.parser=void 0),!0):hr!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./color-xform");class or extends ir{constructor(){super(),this.map={color:new sr}}get tag(){return"stop"}render(hr,ur){hr.openNode("stop"),hr.addAttribute("position",ur.position),this.map.color.render(hr,ur.color),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"stop":return this.model={position:parseFloat(hr.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(hr),!0;default:return!1}}parseText(){}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class ar extends ir{constructor(){super(),this.map={fgColor:new sr("fgColor"),bgColor:new sr("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(hr,ur){hr.openNode("patternFill"),hr.addAttribute("patternType",ur.pattern),ur.fgColor&&this.map.fgColor.render(hr,ur.fgColor),ur.bgColor&&this.map.bgColor.render(hr,ur.bgColor),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"patternFill":return this.model={type:"pattern",pattern:hr.attributes.patternType},!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.parser.model&&(this.model[hr]=this.parser.model),this.parser=void 0),!0)}}class lr extends ir{constructor(){super(),this.map={stop:new or}}get name(){return"gradient"}get tag(){return"gradientFill"}render(hr,ur){switch(hr.openNode("gradientFill"),ur.gradient){case"angle":hr.addAttribute("degree",ur.degree);break;case"path":hr.addAttribute("type","path"),ur.center.left&&(hr.addAttribute("left",ur.center.left),ur.center.right===void 0&&hr.addAttribute("right",ur.center.left)),ur.center.right&&hr.addAttribute("right",ur.center.right),ur.center.top&&(hr.addAttribute("top",ur.center.top),ur.center.bottom===void 0&&hr.addAttribute("bottom",ur.center.top)),ur.center.bottom&&hr.addAttribute("bottom",ur.center.bottom)}const pr=this.map.stop;ur.stops.forEach(mr=>{pr.render(hr,mr)}),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"gradientFill":{const ur=this.model={stops:[]};return hr.attributes.degree?(ur.gradient="angle",ur.degree=parseInt(hr.attributes.degree,10)):hr.attributes.type==="path"&&(ur.gradient="path",ur.center={left:hr.attributes.left?parseFloat(hr.attributes.left):0,top:hr.attributes.top?parseFloat(hr.attributes.top):0},hr.attributes.right!==hr.attributes.left&&(ur.center.right=hr.attributes.right?parseFloat(hr.attributes.right):0),hr.attributes.bottom!==hr.attributes.top&&(ur.center.bottom=hr.attributes.bottom?parseFloat(hr.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(hr),!0;default:return!1}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class cr extends ir{constructor(){super(),this.map={patternFill:new ar,gradientFill:new lr}}get tag(){return"fill"}render(hr,ur){switch(hr.addRollback(),hr.openNode("fill"),ur.type){case"pattern":this.map.patternFill.render(hr,ur);break;case"gradient":this.map.gradientFill.render(hr,ur);break;default:return void hr.rollback()}hr.closeNode(),hr.commit()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"fill":return this.model={},!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(hr){return cr.validPatternValues[hr]}}cr.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((dr,hr)=>(dr[hr]=!0,dr),{}),cr.StopXform=or,cr.PatternFillXform=ar,cr.GradientFillXform=lr,rr.exports=cr},{"../base-xform":32,"./color-xform":128}],131:[function(tr,rr,nr){const ir=tr("./color-xform"),sr=tr("../simple/boolean-xform"),or=tr("../simple/integer-xform"),ar=tr("../simple/string-xform"),lr=tr("./underline-xform"),cr=tr("../../../utils/under-dash"),dr=tr("../base-xform");class hr extends dr{constructor(pr){super(),this.options=pr||hr.OPTIONS,this.map={b:{prop:"bold",xform:new sr({tag:"b",attr:"val"})},i:{prop:"italic",xform:new sr({tag:"i",attr:"val"})},u:{prop:"underline",xform:new lr},charset:{prop:"charset",xform:new or({tag:"charset",attr:"val"})},color:{prop:"color",xform:new ir},condense:{prop:"condense",xform:new sr({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new sr({tag:"extend",attr:"val"})},family:{prop:"family",xform:new or({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new sr({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new ar({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new ar({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new sr({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new sr({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new or({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new ar({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(pr,mr){const{map:fr}=this;pr.openNode(this.options.tagName),cr.each(this.map,(gr,yr)=>{fr[yr].xform.render(pr,mr[gr.prop])}),pr.closeNode()}parseOpen(pr){if(this.parser)return this.parser.parseOpen(pr),!0;if(this.map[pr.name])return this.parser=this.map[pr.name].xform,this.parser.parseOpen(pr);switch(pr.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(pr){this.parser&&this.parser.parseText(pr)}parseClose(pr){if(this.parser&&!this.parser.parseClose(pr)){const mr=this.map[pr];return this.parser.model&&(this.model[mr.prop]=this.parser.model),this.parser=void 0,!0}switch(pr){case this.options.tagName:return!1;default:return!0}}}hr.OPTIONS={tagName:"font",fontNameTag:"name"},rr.exports=hr},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(tr,rr,nr){const ir=tr("../../../utils/under-dash"),sr=tr("../../defaultnumformats"),or=tr("../base-xform"),ar=function(){const cr={};return ir.each(sr,(dr,hr)=>{dr.f&&(cr[dr.f]=parseInt(hr,10))}),cr}();class lr extends or{constructor(dr,hr){super(),this.id=dr,this.formatCode=hr}get tag(){return"numFmt"}render(dr,hr){dr.leafNode("numFmt",{numFmtId:hr.id,formatCode:hr.formatCode})}parseOpen(dr){switch(dr.name){case"numFmt":return this.model={id:parseInt(dr.attributes.numFmtId,10),formatCode:dr.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}lr.getDefaultFmtId=function(cr){return ar[cr]},lr.getDefaultFmtCode=function(cr){return sr[cr]&&sr[cr].f},rr.exports=lr},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(tr,rr,nr){const ir=tr("../base-xform"),sr={boolean:(or,ar)=>or===void 0?ar:or};rr.exports=class extends ir{get tag(){return"protection"}render(or,ar){or.addRollback(),or.openNode("protection");let lr=!1;function cr(dr,hr){hr!==void 0&&(or.addAttribute(dr,hr),lr=!0)}cr("locked",sr.boolean(ar.locked,!0)?void 0:"0"),cr("hidden",sr.boolean(ar.hidden,!1)?"1":void 0),or.closeNode(),lr?or.commit():or.rollback()}parseOpen(or){const ar={locked:or.attributes.locked!=="0",hidden:or.attributes.hidden==="1"},lr=!ar.locked||ar.hidden;this.model=lr?ar:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./alignment-xform"),or=tr("./protection-xform");rr.exports=class extends ir{constructor(ar){super(),this.xfId=!(!ar||!ar.xfId),this.map={alignment:new sr,protection:new or}}get tag(){return"xf"}render(ar,lr){ar.openNode("xf",{numFmtId:lr.numFmtId||0,fontId:lr.fontId||0,fillId:lr.fillId||0,borderId:lr.borderId||0}),this.xfId&&ar.addAttribute("xfId",lr.xfId||0),lr.numFmtId&&ar.addAttribute("applyNumberFormat","1"),lr.fontId&&ar.addAttribute("applyFont","1"),lr.fillId&&ar.addAttribute("applyFill","1"),lr.borderId&&ar.addAttribute("applyBorder","1"),lr.alignment&&ar.addAttribute("applyAlignment","1"),lr.protection&&ar.addAttribute("applyProtection","1"),lr.alignment&&this.map.alignment.render(ar,lr.alignment),lr.protection&&this.map.protection.render(ar,lr.protection),ar.closeNode()}parseOpen(ar){if(this.parser)return this.parser.parseOpen(ar),!0;switch(ar.name){case"xf":return this.model={numFmtId:parseInt(ar.attributes.numFmtId,10),fontId:parseInt(ar.attributes.fontId,10),fillId:parseInt(ar.attributes.fillId,10),borderId:parseInt(ar.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(ar.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(ar),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(ar),!0;default:return!1}}parseText(ar){this.parser&&this.parser.parseText(ar)}parseClose(ar){return this.parser?(this.parser.parseClose(ar)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):ar!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(tr,rr,nr){const ir=tr("../../../doc/enums"),sr=tr("../../../utils/xml-stream"),or=tr("../base-xform"),ar=tr("../static-xform"),lr=tr("../list-xform"),cr=tr("./font-xform"),dr=tr("./fill-xform"),hr=tr("./border-xform"),ur=tr("./numfmt-xform"),pr=tr("./style-xform"),mr=tr("./dxf-xform");class fr extends or{constructor(yr){super(),this.map={numFmts:new lr({tag:"numFmts",count:!0,childXform:new ur}),fonts:new lr({tag:"fonts",count:!0,childXform:new cr,$:{"x14ac:knownFonts":1}}),fills:new lr({tag:"fills",count:!0,childXform:new dr}),borders:new lr({tag:"borders",count:!0,childXform:new hr}),cellStyleXfs:new lr({tag:"cellStyleXfs",count:!0,childXform:new pr}),cellXfs:new lr({tag:"cellXfs",count:!0,childXform:new pr({xfId:!0})}),dxfs:new lr({tag:"dxfs",always:!0,count:!0,childXform:new mr}),numFmt:new ur,font:new cr,fill:new dr,border:new hr,style:new pr({xfId:!0}),cellStyles:fr.STATIC_XFORMS.cellStyles,tableStyles:fr.STATIC_XFORMS.tableStyles,extLst:fr.STATIC_XFORMS.extLst},yr&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(yr,vr){vr=vr||this.model,yr.openXml(sr.StdDocAttributes),yr.openNode("styleSheet",fr.STYLESHEET_ATTRIBUTES),this.index?(vr.numFmts&&vr.numFmts.length&&(yr.openNode("numFmts",{count:vr.numFmts.length}),vr.numFmts.forEach(br=>{yr.writeXml(br)}),yr.closeNode()),vr.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),yr.openNode("fonts",{count:vr.fonts.length,"x14ac:knownFonts":1}),vr.fonts.forEach(br=>{yr.writeXml(br)}),yr.closeNode(),yr.openNode("fills",{count:vr.fills.length}),vr.fills.forEach(br=>{yr.writeXml(br)}),yr.closeNode(),yr.openNode("borders",{count:vr.borders.length}),vr.borders.forEach(br=>{yr.writeXml(br)}),yr.closeNode(),this.map.cellStyleXfs.render(yr,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),yr.openNode("cellXfs",{count:vr.styles.length}),vr.styles.forEach(br=>{yr.writeXml(br)}),yr.closeNode()):(this.map.numFmts.render(yr,vr.numFmts),this.map.fonts.render(yr,vr.fonts),this.map.fills.render(yr,vr.fills),this.map.borders.render(yr,vr.borders),this.map.cellStyleXfs.render(yr,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(yr,vr.styles)),fr.STATIC_XFORMS.cellStyles.render(yr),this.map.dxfs.render(yr,vr.dxfs),fr.STATIC_XFORMS.tableStyles.render(yr),fr.STATIC_XFORMS.extLst.render(yr),yr.closeNode()}parseOpen(yr){if(this.parser)return this.parser.parseOpen(yr),!0;switch(yr.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[yr.name],this.parser&&this.parser.parseOpen(yr),!0}}parseText(yr){this.parser&&this.parser.parseText(yr)}parseClose(yr){if(this.parser)return this.parser.parseClose(yr)||(this.parser=void 0),!0;switch(yr){case"styleSheet":{this.model={};const vr=(br,Sr)=>{Sr.model&&Sr.model.length&&(this.model[br]=Sr.model)};if(vr("numFmts",this.map.numFmts),vr("fonts",this.map.fonts),vr("fills",this.map.fills),vr("borders",this.map.borders),vr("styles",this.map.cellXfs),vr("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const br=this.index.numFmt;this.model.numFmts.forEach(Sr=>{br[Sr.id]=Sr.formatCode})}return!1}default:return!0}}addStyleModel(yr,vr){if(!yr)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(yr))return this.weakMap.get(yr);const br={};if(vr=vr||ir.ValueType.Number,yr.numFmt)br.numFmtId=this._addNumFmtStr(yr.numFmt);else switch(vr){case ir.ValueType.Number:br.numFmtId=this._addNumFmtStr("General");break;case ir.ValueType.Date:br.numFmtId=this._addNumFmtStr("mm-dd-yy")}yr.font&&(br.fontId=this._addFont(yr.font)),yr.border&&(br.borderId=this._addBorder(yr.border)),yr.fill&&(br.fillId=this._addFill(yr.fill)),yr.alignment&&(br.alignment=yr.alignment),yr.protection&&(br.protection=yr.protection);const Sr=this._addStyle(br);return this.weakMap&&this.weakMap.set(yr,Sr),Sr}getStyleModel(yr){const vr=this.model.styles[yr];if(!vr)return null;let br=this.index.model[yr];if(br)return br;if(br=this.index.model[yr]={},vr.numFmtId){const jr=this.index.numFmt[vr.numFmtId]||ur.getDefaultFmtCode(vr.numFmtId);jr&&(br.numFmt=jr)}function Sr(jr,Cr,Pr){if(Pr||Pr===0){const Rr=Cr[Pr];Rr&&(br[jr]=Rr)}}return Sr("font",this.model.fonts,vr.fontId),Sr("border",this.model.borders,vr.borderId),Sr("fill",this.model.fills,vr.fillId),vr.alignment&&(br.alignment=vr.alignment),vr.protection&&(br.protection=vr.protection),br}addDxfStyle(yr){return yr.numFmt&&(yr.numFmtId=this._addNumFmtStr(yr.numFmt)),this.model.dxfs.push(yr),this.model.dxfs.length-1}getDxfStyle(yr){return this.model.dxfs[yr]}_addStyle(yr){const vr=this.map.style.toXml(yr);let br=this.index.style[vr];return br===void 0&&(br=this.index.style[vr]=this.model.styles.length,this.model.styles.push(vr)),br}_addNumFmtStr(yr){let vr=ur.getDefaultFmtId(yr);if(vr!==void 0||(vr=this.index.numFmt[yr],vr!==void 0))return vr;vr=this.index.numFmt[yr]=164+this.model.numFmts.length;const br=this.map.numFmt.toXml({id:vr,formatCode:yr});return this.model.numFmts.push(br),vr}_addFont(yr){const vr=this.map.font.toXml(yr);let br=this.index.font[vr];return br===void 0&&(br=this.index.font[vr]=this.model.fonts.length,this.model.fonts.push(vr)),br}_addBorder(yr){const vr=this.map.border.toXml(yr);let br=this.index.border[vr];return br===void 0&&(br=this.index.border[vr]=this.model.borders.length,this.model.borders.push(vr)),br}_addFill(yr){const vr=this.map.fill.toXml(yr);let br=this.index.fill[vr];return br===void 0&&(br=this.index.fill[vr]=this.model.fills.length,this.model.fills.push(vr)),br}}fr.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},fr.STATIC_XFORMS={cellStyles:new ar({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new ar({tag:"dxfs",$:{count:0}}),tableStyles:new ar({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new ar({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},fr.Mock=class extends fr{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(gr){return gr.autodrain(),Promise.resolve()}addStyleModel(gr,yr){switch(yr){case ir.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const gr={numFmtId:ur.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(gr)}return this._dateStyleId}getStyleModel(){return{}}},rr.exports=fr},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(tr,rr,nr){const ir=tr("../base-xform");class sr extends ir{constructor(ar){super(),this.model=ar}get tag(){return"u"}render(ar,lr){if((lr=lr||this.model)===!0)ar.leafNode("u");else{const cr=sr.Attributes[lr];cr&&ar.leafNode("u",cr)}}parseOpen(ar){ar.name==="u"&&(this.model=ar.attributes.val||!0)}parseText(){}parseClose(){return!1}}sr.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},rr.exports=sr},{"../base-xform":32}],137:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("./filter-column-xform");rr.exports=class extends ir{constructor(){super(),this.map={filterColumn:new sr}}get tag(){return"autoFilter"}prepare(or){or.columns.forEach((ar,lr)=>{this.map.filterColumn.prepare(ar,{index:lr})})}render(or,ar){return or.openNode(this.tag,{ref:ar.autoFilterRef}),ar.columns.forEach(lr=>{this.map.filterColumn.render(or,lr)}),or.closeNode(),!0}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case this.tag:return this.model={autoFilterRef:or.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[or.name],this.parser)return this.parseOpen(or),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(or))}}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(or){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+or)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"customFilter"}render(sr,or){sr.leafNode(this.tag,{val:or.val,operator:or.operator})}parseOpen(sr){return sr.name===this.tag&&(this.model={val:sr.attributes.val,operator:sr.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(tr,rr,nr){const ir=tr("../base-xform"),sr=tr("../list-xform"),or=tr("./custom-filter-xform"),ar=tr("./filter-xform");rr.exports=class extends ir{constructor(){super(),this.map={customFilters:new sr({tag:"customFilters",count:!1,empty:!0,childXform:new or}),filters:new sr({tag:"filters",count:!1,empty:!0,childXform:new ar})}}get tag(){return"filterColumn"}prepare(lr,cr){lr.colId=cr.index.toString()}render(lr,cr){return cr.customFilters?(lr.openNode(this.tag,{colId:cr.colId,hiddenButton:cr.filterButton?"0":"1"}),this.map.customFilters.render(lr,cr.customFilters),lr.closeNode(),!0):(lr.leafNode(this.tag,{colId:cr.colId,hiddenButton:cr.filterButton?"0":"1"}),!0)}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;const{attributes:cr}=lr;switch(lr.name){case this.tag:return this.model={filterButton:cr.hiddenButton==="0"},!0;default:if(this.parser=this.map[lr.name],this.parser)return this.parseOpen(lr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(lr))}}parseText(){}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.parser=void 0),!0;switch(lr){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"filter"}render(sr,or){sr.leafNode(this.tag,{val:or.val})}parseOpen(sr){return sr.name===this.tag&&(this.model={val:sr.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"tableColumn"}prepare(sr,or){sr.id=or.index+1}render(sr,or){return sr.leafNode(this.tag,{id:or.id.toString(),name:or.name,totalsRowLabel:or.totalsRowLabel,totalsRowFunction:or.totalsRowFunction,dxfId:or.dxfId}),!0}parseOpen(sr){if(sr.name===this.tag){const{attributes:or}=sr;return this.model={name:or.name,totalsRowLabel:or.totalsRowLabel,totalsRowFunction:or.totalsRowFunction,dxfId:or.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(tr,rr,nr){const ir=tr("../base-xform");rr.exports=class extends ir{get tag(){return"tableStyleInfo"}render(sr,or){return sr.leafNode(this.tag,{name:or.theme?or.theme:void 0,showFirstColumn:or.showFirstColumn?"1":"0",showLastColumn:or.showLastColumn?"1":"0",showRowStripes:or.showRowStripes?"1":"0",showColumnStripes:or.showColumnStripes?"1":"0"}),!0}parseOpen(sr){if(sr.name===this.tag){const{attributes:or}=sr;return this.model={theme:or.name?or.name:null,showFirstColumn:or.showFirstColumn==="1",showLastColumn:or.showLastColumn==="1",showRowStripes:or.showRowStripes==="1",showColumnStripes:or.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(tr,rr,nr){const ir=tr("../../../utils/xml-stream"),sr=tr("../base-xform"),or=tr("../list-xform"),ar=tr("./auto-filter-xform"),lr=tr("./table-column-xform"),cr=tr("./table-style-info-xform");class dr extends sr{constructor(){super(),this.map={autoFilter:new ar,tableColumns:new or({tag:"tableColumns",count:!0,empty:!0,childXform:new lr}),tableStyleInfo:new cr}}prepare(ur,pr){this.map.autoFilter.prepare(ur),this.map.tableColumns.prepare(ur.columns,pr)}get tag(){return"table"}render(ur,pr){ur.openXml(ir.StdDocAttributes),ur.openNode(this.tag,{...dr.TABLE_ATTRIBUTES,id:pr.id,name:pr.name,displayName:pr.displayName||pr.name,ref:pr.tableRef,totalsRowCount:pr.totalsRow?"1":void 0,totalsRowShown:pr.totalsRow?void 0:"1",headerRowCount:pr.headerRow?"1":"0"}),this.map.autoFilter.render(ur,pr),this.map.tableColumns.render(ur,pr.columns),this.map.tableStyleInfo.render(ur,pr.style),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;const{name:pr,attributes:mr}=ur;switch(pr){case this.tag:this.reset(),this.model={name:mr.name,displayName:mr.displayName||mr.name,tableRef:mr.ref,totalsRow:mr.totalsRowCount==="1",headerRow:mr.headerRowCount==="1"};break;default:this.parser=this.map[ur.name],this.parser&&this.parser.parseOpen(ur)}return!0}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.parser=void 0),!0;switch(ur){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((pr,mr)=>{this.model.columns[mr].filterButton=pr.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(ur,pr){ur.columns.forEach(mr=>{mr.dxfId!==void 0&&(mr.style=pr.styles.getDxfStyle(mr.dxfId))})}}dr.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},rr.exports=dr},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(tr,rr,nr){(function(ir,sr){(function(){const or=tr("fs"),ar=tr("jszip"),{PassThrough:lr}=tr("readable-stream"),cr=tr("../utils/zip-stream"),dr=tr("../utils/stream-buf"),hr=tr("../utils/utils"),ur=tr("../utils/xml-stream"),{bufferToString:pr}=tr("../utils/browser-buffer-decode"),mr=tr("./xform/style/styles-xform"),fr=tr("./xform/core/core-xform"),gr=tr("./xform/strings/shared-strings-xform"),yr=tr("./xform/core/relationships-xform"),vr=tr("./xform/core/content-types-xform"),br=tr("./xform/core/app-xform"),Sr=tr("./xform/book/workbook-xform"),jr=tr("./xform/sheet/worksheet-xform"),Cr=tr("./xform/drawing/drawing-xform"),Pr=tr("./xform/table/table-xform"),Rr=tr("./xform/comment/comments-xform"),Lr=tr("./xform/comment/vml-notes-xform"),Ir=tr("./xml/theme1");class Nr{constructor(Dr){this.workbook=Dr}async readFile(Dr,Tr){if(!await hr.fs.exists(Dr))throw new Error("File not found: "+Dr);const _r=or.createReadStream(Dr);try{const wr=await this.read(_r,Tr);return _r.close(),wr}catch(wr){throw _r.close(),wr}}parseRels(Dr){return new yr().parseStream(Dr)}parseWorkbook(Dr){return new Sr().parseStream(Dr)}parseSharedStrings(Dr){return new gr().parseStream(Dr)}reconcile(Dr,Tr){const _r=new Sr,wr=new jr(Tr),Er=new Cr,xr=new Pr;_r.reconcile(Dr);const Mr={media:Dr.media,mediaIndex:Dr.mediaIndex};Object.keys(Dr.drawings).forEach(Br=>{const Ur=Dr.drawings[Br],qr=Dr.drawingRels[Br];qr&&(Mr.rels=qr.reduce((Vr,Gr)=>(Vr[Gr.Id]=Gr,Vr),{}),(Ur.anchors||[]).forEach(Vr=>{const Gr=Vr.picture&&Vr.picture.hyperlinks;Gr&&Mr.rels[Gr.rId]&&(Gr.hyperlink=Mr.rels[Gr.rId].Target,delete Gr.rId)}),Er.reconcile(Ur,Mr))});const zr={styles:Dr.styles};Object.values(Dr.tables).forEach(Br=>{xr.reconcile(Br,zr)});const Or={styles:Dr.styles,sharedStrings:Dr.sharedStrings,media:Dr.media,mediaIndex:Dr.mediaIndex,date1904:Dr.properties&&Dr.properties.date1904,drawings:Dr.drawings,comments:Dr.comments,tables:Dr.tables,vmlDrawings:Dr.vmlDrawings};Dr.worksheets.forEach(Br=>{Br.relationships=Dr.worksheetRels[Br.sheetNo],wr.reconcile(Br,Or)}),delete Dr.worksheetHash,delete Dr.worksheetRels,delete Dr.globalRels,delete Dr.sharedStrings,delete Dr.workbookRels,delete Dr.sheetDefs,delete Dr.styles,delete Dr.mediaIndex,delete Dr.drawings,delete Dr.drawingRels,delete Dr.vmlDrawings}async _processWorksheetEntry(Dr,Tr,_r,wr,Er){const xr=new jr(wr),Mr=await xr.parseStream(Dr);Mr.sheetNo=_r,Tr.worksheetHash[Er]=Mr,Tr.worksheets.push(Mr)}async _processCommentEntry(Dr,Tr,_r){const wr=new Rr,Er=await wr.parseStream(Dr);Tr.comments[`../${_r}.xml`]=Er}async _processTableEntry(Dr,Tr,_r){const wr=new Pr,Er=await wr.parseStream(Dr);Tr.tables[`../tables/${_r}.xml`]=Er}async _processWorksheetRelsEntry(Dr,Tr,_r){const wr=new yr,Er=await wr.parseStream(Dr);Tr.worksheetRels[_r]=Er}async _processMediaEntry(Dr,Tr,_r){const wr=_r.lastIndexOf(".");if(wr>=1){const Er=_r.substr(wr+1),xr=_r.substr(0,wr);await new Promise((Mr,zr)=>{const Or=new dr;Or.on("finish",()=>{Tr.mediaIndex[_r]=Tr.media.length,Tr.mediaIndex[xr]=Tr.media.length;const Br={type:"image",name:xr,extension:Er,buffer:Or.toBuffer()};Tr.media.push(Br),Mr()}),Dr.on("error",Br=>{zr(Br)}),Dr.pipe(Or)})}}async _processDrawingEntry(Dr,Tr,_r){const wr=new Cr,Er=await wr.parseStream(Dr);Tr.drawings[_r]=Er}async _processDrawingRelsEntry(Dr,Tr,_r){const wr=new yr,Er=await wr.parseStream(Dr);Tr.drawingRels[_r]=Er}async _processVmlDrawingEntry(Dr,Tr,_r){const wr=new Lr,Er=await wr.parseStream(Dr);Tr.vmlDrawings[`../drawings/${_r}.vml`]=Er}async _processThemeEntry(Dr,Tr,_r){await new Promise((wr,Er)=>{const xr=new dr;Dr.on("error",Er),xr.on("error",Er),xr.on("finish",()=>{Tr.themes[_r]=xr.read().toString(),wr()}),Dr.pipe(xr)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(Dr,Tr){!Dr[Symbol.asyncIterator]&&Dr.pipe&&(Dr=Dr.pipe(new lr));const _r=[];for await(const wr of Dr)_r.push(wr);return this.load(sr.concat(_r),Tr)}async load(Dr,Tr){let _r;_r=Tr&&Tr.base64?sr.from(Dr.toString(),"base64"):Dr;const wr={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},Er=await ar.loadAsync(_r);for(const xr of Object.values(Er.files))if(!xr.dir){let Mr,zr=xr.name;if(zr[0]==="/"&&(zr=zr.substr(1)),zr.match(/xl\/media\//)||zr.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))Mr=new lr,Mr.write(await xr.async("nodebuffer"));else{let Or;Mr=new lr({writableObjectMode:!0,readableObjectMode:!0}),Or=ir.browser?pr(await xr.async("nodebuffer")):await xr.async("string");const Br=16384;for(let Ur=0;Ur<Or.length;Ur+=Br)Mr.write(Or.substring(Ur,Ur+Br))}switch(Mr.end(),zr){case"_rels/.rels":wr.globalRels=await this.parseRels(Mr);break;case"xl/workbook.xml":{const Or=await this.parseWorkbook(Mr);wr.sheets=Or.sheets,wr.definedNames=Or.definedNames,wr.views=Or.views,wr.properties=Or.properties,wr.calcProperties=Or.calcProperties;break}case"xl/_rels/workbook.xml.rels":wr.workbookRels=await this.parseRels(Mr);break;case"xl/sharedStrings.xml":wr.sharedStrings=new gr,await wr.sharedStrings.parseStream(Mr);break;case"xl/styles.xml":wr.styles=new mr,await wr.styles.parseStream(Mr);break;case"docProps/app.xml":{const Or=new br,Br=await Or.parseStream(Mr);wr.company=Br.company,wr.manager=Br.manager;break}case"docProps/core.xml":{const Or=new fr,Br=await Or.parseStream(Mr);Object.assign(wr,Br);break}default:{let Or=zr.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(Or){await this._processWorksheetEntry(Mr,wr,Or[1],Tr,zr);break}if(Or=zr.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),Or){await this._processWorksheetRelsEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),Or){await this._processThemeEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),Or){await this._processMediaEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),Or){await this._processDrawingEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/(comments\d+)[.]xml/),Or){await this._processCommentEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/tables\/(table\d+)[.]xml/),Or){await this._processTableEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),Or){await this._processDrawingRelsEntry(Mr,wr,Or[1]);break}if(Or=zr.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),Or){await this._processVmlDrawingEntry(Mr,wr,Or[1]);break}}}}return this.reconcile(wr,Tr),this.workbook.model=wr,this.workbook}async addMedia(Dr,Tr){await Promise.all(Tr.media.map(async _r=>{if(_r.type==="image"){const wr=`xl/media/${_r.name}.${_r.extension}`;if(_r.filename){const Er=await function(xr,Mr){return new Promise((zr,Or)=>{or.readFile(xr,Mr,(Br,Ur)=>{Br?Or(Br):zr(Ur)})})}(_r.filename);return Dr.append(Er,{name:wr})}if(_r.buffer)return Dr.append(_r.buffer,{name:wr});if(_r.base64){const Er=_r.base64,xr=Er.substring(Er.indexOf(",")+1);return Dr.append(xr,{name:wr,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(Dr,Tr){const _r=new Cr,wr=new yr;Tr.worksheets.forEach(Er=>{const{drawing:xr}=Er;if(xr){_r.prepare(xr,{});let Mr=_r.toXml(xr);Dr.append(Mr,{name:`xl/drawings/${xr.name}.xml`}),Mr=wr.toXml(xr.rels),Dr.append(Mr,{name:`xl/drawings/_rels/${xr.name}.xml.rels`})}})}addTables(Dr,Tr){const _r=new Pr;Tr.worksheets.forEach(wr=>{const{tables:Er}=wr;Er.forEach(xr=>{_r.prepare(xr,{});const Mr=_r.toXml(xr);Dr.append(Mr,{name:"xl/tables/"+xr.target})})})}async addContentTypes(Dr,Tr){const _r=new vr().toXml(Tr);Dr.append(_r,{name:"[Content_Types].xml"})}async addApp(Dr,Tr){const _r=new br().toXml(Tr);Dr.append(_r,{name:"docProps/app.xml"})}async addCore(Dr,Tr){const _r=new fr;Dr.append(_r.toXml(Tr),{name:"docProps/core.xml"})}async addThemes(Dr,Tr){const _r=Tr.themes||{theme1:Ir};Object.keys(_r).forEach(wr=>{const Er=_r[wr],xr=`xl/theme/${wr}.xml`;Dr.append(Er,{name:xr})})}async addOfficeRels(Dr){const Tr=new yr().toXml([{Id:"rId1",Type:Nr.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:Nr.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:Nr.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);Dr.append(Tr,{name:"_rels/.rels"})}async addWorkbookRels(Dr,Tr){let _r=1;const wr=[{Id:"rId"+_r++,Type:Nr.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_r++,Type:Nr.RelType.Theme,Target:"theme/theme1.xml"}];Tr.sharedStrings.count&&wr.push({Id:"rId"+_r++,Type:Nr.RelType.SharedStrings,Target:"sharedStrings.xml"}),Tr.worksheets.forEach(xr=>{xr.rId="rId"+_r++,wr.push({Id:xr.rId,Type:Nr.RelType.Worksheet,Target:`worksheets/sheet${xr.id}.xml`})});const Er=new yr().toXml(wr);Dr.append(Er,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(Dr,Tr){Tr.sharedStrings&&Tr.sharedStrings.count&&Dr.append(Tr.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(Dr,Tr){const{xml:_r}=Tr.styles;_r&&Dr.append(_r,{name:"xl/styles.xml"})}async addWorkbook(Dr,Tr){const _r=new Sr;Dr.append(_r.toXml(Tr),{name:"xl/workbook.xml"})}async addWorksheets(Dr,Tr){const _r=new jr,wr=new yr,Er=new Rr,xr=new Lr;Tr.worksheets.forEach(Mr=>{let zr=new ur;_r.render(zr,Mr),Dr.append(zr.xml,{name:`xl/worksheets/sheet${Mr.id}.xml`}),Mr.rels&&Mr.rels.length&&(zr=new ur,wr.render(zr,Mr.rels),Dr.append(zr.xml,{name:`xl/worksheets/_rels/sheet${Mr.id}.xml.rels`})),Mr.comments.length>0&&(zr=new ur,Er.render(zr,Mr),Dr.append(zr.xml,{name:`xl/comments${Mr.id}.xml`}),zr=new ur,xr.render(zr,Mr),Dr.append(zr.xml,{name:`xl/drawings/vmlDrawing${Mr.id}.vml`}))})}_finalize(Dr){return new Promise((Tr,_r)=>{Dr.on("finish",()=>{Tr(this)}),Dr.on("error",_r),Dr.finalize()})}prepareModel(Dr,Tr){Dr.creator=Dr.creator||"ExcelJS",Dr.lastModifiedBy=Dr.lastModifiedBy||"ExcelJS",Dr.created=Dr.created||new Date,Dr.modified=Dr.modified||new Date,Dr.useSharedStrings=Tr.useSharedStrings===void 0||Tr.useSharedStrings,Dr.useStyles=Tr.useStyles===void 0||Tr.useStyles,Dr.sharedStrings=new gr,Dr.styles=Dr.useStyles?new mr(!0):new mr.Mock;const _r=new Sr,wr=new jr;_r.prepare(Dr);const Er={sharedStrings:Dr.sharedStrings,styles:Dr.styles,date1904:Dr.properties.date1904,drawingsCount:0,media:Dr.media};Er.drawings=Dr.drawings=[],Er.commentRefs=Dr.commentRefs=[];let xr=0;Dr.tables=[],Dr.worksheets.forEach(Mr=>{Mr.tables.forEach(zr=>{xr++,zr.target=`table${xr}.xml`,zr.id=xr,Dr.tables.push(zr)}),wr.prepare(Mr,Er)})}async write(Dr,Tr){Tr=Tr||{};const{model:_r}=this.workbook,wr=new cr.ZipWriter(Tr.zip);return wr.pipe(Dr),this.prepareModel(_r,Tr),await this.addContentTypes(wr,_r),await this.addOfficeRels(wr,_r),await this.addWorkbookRels(wr,_r),await this.addWorksheets(wr,_r),await this.addSharedStrings(wr,_r),await this.addDrawings(wr,_r),await this.addTables(wr,_r),await Promise.all([this.addThemes(wr,_r),this.addStyles(wr,_r)]),await this.addMedia(wr,_r),await Promise.all([this.addApp(wr,_r),this.addCore(wr,_r)]),await this.addWorkbook(wr,_r),this._finalize(wr)}writeFile(Dr,Tr){const _r=or.createWriteStream(Dr);return new Promise((wr,Er)=>{_r.on("finish",()=>{wr()}),_r.on("error",xr=>{Er(xr)}),this.write(_r,Tr).then(()=>{_r.end()}).catch(xr=>{Er(xr)})})}async writeBuffer(Dr){const Tr=new dr;return await this.write(Tr,Dr),Tr.read()}}Nr.RelType=tr("./rel-type"),rr.exports=Nr}).call(this)}).call(this,tr("_process"),tr("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(tr,rr,nr){rr.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(tr,rr,nr){(function(ir){(function(){Object.defineProperty(nr,"__esModule",{value:!0}),nr.CsvFormatterStream=void 0;const sr=tr("stream"),or=tr("./formatter");class ar extends sr.Transform{constructor(cr){super({writableObjectMode:cr.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=cr,this.rowFormatter=new or.RowFormatter(cr),this.hasWrittenBOM=!cr.writeBOM}transform(cr){return this.rowFormatter.rowTransform=cr,this}_transform(cr,dr,hr){let ur=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(cr,(pr,mr)=>pr?(ur=!0,hr(pr)):(mr&&mr.forEach(fr=>{this.push(ir.from(fr,"utf8"))}),ur=!0,hr()))}catch(pr){if(ur)throw pr;hr(pr)}}_flush(cr){this.rowFormatter.finish((dr,hr)=>dr?cr(dr):(hr&&hr.forEach(ur=>{this.push(ir.from(ur,"utf8"))}),cr()))}}nr.CsvFormatterStream=ar}).call(this)}).call(this,tr("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.FormatterOptions=void 0,nr.FormatterOptions=class{constructor(){let ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var sr;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,ir||{}),(ir==null?void 0:ir.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(ir==null?void 0:ir.quote)===!0?this.quote='"':(ir==null?void 0:ir.quote)===!1&&(this.quote=""),typeof(ir==null?void 0:ir.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((sr=ir.writeHeaders)===null||sr===void 0||sr),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(tr,rr,nr){var ir=function(lr){return lr&&lr.__esModule?lr:{default:lr}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.FieldFormatter=void 0;const sr=ir(tr("lodash.isboolean")),or=ir(tr("lodash.isnil")),ar=ir(tr("lodash.escaperegexp"));nr.FieldFormatter=class{constructor(lr){this._headers=null,this.formatterOptions=lr,lr.headers!==null&&(this.headers=lr.headers),this.REPLACE_REGEXP=new RegExp(lr.quote,"g");const cr=`[${lr.delimiter}${ar.default(lr.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(cr)}set headers(lr){this._headers=lr}shouldQuote(lr,cr){const dr=cr?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return sr.default(dr)?dr:Array.isArray(dr)?dr[lr]:this._headers!==null&&dr[this._headers[lr]]}format(lr,cr,dr){const hr=(""+(or.default(lr)?"":lr)).replace(/\0/g,""),{formatterOptions:ur}=this;return ur.quote!==""&&hr.indexOf(ur.quote)!==-1?this.quoteField(hr.replace(this.REPLACE_REGEXP,ur.escapedQuote)):hr.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(cr,dr)?this.quoteField(hr):hr}quoteField(lr){const{quote:cr}=this.formatterOptions;return`${cr}${lr}${cr}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(tr,rr,nr){var ir=function(dr){return dr&&dr.__esModule?dr:{default:dr}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.RowFormatter=void 0;const sr=ir(tr("lodash.isfunction")),or=ir(tr("lodash.isequal")),ar=tr("./FieldFormatter"),lr=tr("../types");class cr{constructor(hr){this.rowCount=0,this.formatterOptions=hr,this.fieldFormatter=new ar.FieldFormatter(hr),this.headers=hr.headers,this.shouldWriteHeaders=hr.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),hr.transform&&(this.rowTransform=hr.transform)}static isRowHashArray(hr){return!!Array.isArray(hr)&&Array.isArray(hr[0])&&hr[0].length===2}static isRowArray(hr){return Array.isArray(hr)&&!this.isRowHashArray(hr)}static gatherHeaders(hr){return cr.isRowHashArray(hr)?hr.map(ur=>ur[0]):Array.isArray(hr)?hr:Object.keys(hr)}static createTransform(hr){return lr.isSyncTransform(hr)?(ur,pr)=>{let mr=null;try{mr=hr(ur)}catch(fr){return pr(fr)}return pr(null,mr)}:(ur,pr)=>{hr(ur,pr)}}set rowTransform(hr){if(!sr.default(hr))throw new TypeError("The transform should be a function");this._rowTransform=cr.createTransform(hr)}format(hr,ur){this.callTransformer(hr,(pr,mr)=>{if(pr)return ur(pr);if(!hr)return ur(null);const fr=[];if(mr){const{shouldFormatColumns:gr,headers:yr}=this.checkHeaders(mr);if(this.shouldWriteHeaders&&yr&&!this.hasWrittenHeaders&&(fr.push(this.formatColumns(yr,!0)),this.hasWrittenHeaders=!0),gr){const vr=this.gatherColumns(mr);fr.push(this.formatColumns(vr,!1))}}return ur(null,fr)})}finish(hr){const ur=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return hr(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));ur.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&ur.push(this.formatterOptions.rowDelimiter),hr(null,ur)}checkHeaders(hr){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const ur=cr.gatherHeaders(hr);return this.headers=ur,this.fieldFormatter.headers=ur,this.shouldWriteHeaders?{shouldFormatColumns:!or.default(ur,hr),headers:ur}:{shouldFormatColumns:!0,headers:null}}gatherColumns(hr){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(hr)?cr.isRowHashArray(hr)?this.headers.map((ur,pr)=>{const mr=hr[pr];return mr?mr[1]:""}):cr.isRowArray(hr)&&!this.shouldWriteHeaders?hr:this.headers.map((ur,pr)=>hr[pr]):this.headers.map(ur=>hr[ur])}callTransformer(hr,ur){return this._rowTransform?this._rowTransform(hr,ur):ur(null,hr)}formatColumns(hr,ur){const pr=hr.map((fr,gr)=>this.fieldFormatter.format(fr,gr,ur)).join(this.formatterOptions.delimiter),{rowCount:mr}=this;return this.rowCount+=1,mr?[this.formatterOptions.rowDelimiter,pr].join(""):pr}}nr.RowFormatter=cr},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.FieldFormatter=nr.RowFormatter=void 0;var ir=tr("./RowFormatter");Object.defineProperty(nr,"RowFormatter",{enumerable:!0,get:function(){return ir.RowFormatter}});var sr=tr("./FieldFormatter");Object.defineProperty(nr,"FieldFormatter",{enumerable:!0,get:function(){return sr.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(tr,rr,nr){(function(ir){(function(){var sr=Object.create?function(gr,yr,vr,br){br===void 0&&(br=vr),Object.defineProperty(gr,br,{enumerable:!0,get:function(){return yr[vr]}})}:function(gr,yr,vr,br){br===void 0&&(br=vr),gr[br]=yr[vr]},or=Object.create?function(gr,yr){Object.defineProperty(gr,"default",{enumerable:!0,value:yr})}:function(gr,yr){gr.default=yr},ar=function(gr){if(gr&&gr.__esModule)return gr;var yr={};if(gr!=null)for(var vr in gr)vr!=="default"&&Object.prototype.hasOwnProperty.call(gr,vr)&&sr(yr,gr,vr);return or(yr,gr),yr},lr=function(gr,yr){for(var vr in gr)vr==="default"||Object.prototype.hasOwnProperty.call(yr,vr)||sr(yr,gr,vr)};Object.defineProperty(nr,"__esModule",{value:!0}),nr.writeToPath=nr.writeToString=nr.writeToBuffer=nr.writeToStream=nr.write=nr.format=nr.FormatterOptions=nr.CsvFormatterStream=void 0;const cr=tr("util"),dr=tr("stream"),hr=ar(tr("fs")),ur=tr("./FormatterOptions"),pr=tr("./CsvFormatterStream");lr(tr("./types"),nr);var mr=tr("./CsvFormatterStream");Object.defineProperty(nr,"CsvFormatterStream",{enumerable:!0,get:function(){return mr.CsvFormatterStream}});var fr=tr("./FormatterOptions");Object.defineProperty(nr,"FormatterOptions",{enumerable:!0,get:function(){return fr.FormatterOptions}}),nr.format=gr=>new pr.CsvFormatterStream(new ur.FormatterOptions(gr)),nr.write=(gr,yr)=>{const vr=nr.format(yr),br=cr.promisify((Sr,jr)=>{vr.write(Sr,void 0,jr)});return gr.reduce((Sr,jr)=>Sr.then(()=>br(jr)),Promise.resolve()).then(()=>vr.end()).catch(Sr=>{vr.emit("error",Sr)}),vr},nr.writeToStream=(gr,yr,vr)=>nr.write(yr,vr).pipe(gr),nr.writeToBuffer=function(gr){let yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const vr=[],br=new dr.Writable({write(Sr,jr,Cr){vr.push(Sr),Cr()}});return new Promise((Sr,jr)=>{br.on("error",jr).on("finish",()=>Sr(ir.concat(vr))),nr.write(gr,yr).pipe(br)})},nr.writeToString=(gr,yr)=>nr.writeToBuffer(gr,yr).then(vr=>vr.toString()),nr.writeToPath=(gr,yr,vr)=>{const br=hr.createWriteStream(gr,{encoding:"utf8"});return nr.write(yr,vr).pipe(br)}}).call(this)}).call(this,tr("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.isSyncTransform=void 0,nr.isSyncTransform=ir=>ir.length===1},{}],153:[function(tr,rr,nr){(function(ir){(function(){Object.defineProperty(nr,"__esModule",{value:!0}),nr.CsvParserStream=void 0;const sr=tr("string_decoder"),or=tr("stream"),ar=tr("./transforms"),lr=tr("./parser");class cr extends or.Transform{constructor(hr){super({objectMode:hr.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=hr,this.parser=new lr.Parser(hr),this.headerTransformer=new ar.HeaderTransformer(hr),this.decoder=new sr.StringDecoder(hr.encoding),this.rowTransformerValidator=new ar.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(hr){return this.rowTransformerValidator.rowTransform=hr,this}validate(hr){return this.rowTransformerValidator.rowValidator=hr,this}emit(hr){if(hr==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var ur=arguments.length,pr=new Array(ur>1?ur-1:0),mr=1;mr<ur;mr++)pr[mr-1]=arguments[mr];return super.emit(hr,...pr)}_transform(hr,ur,pr){if(this.hasHitRowLimit)return pr();const mr=cr.wrapDoneCallback(pr);try{const{lines:fr}=this,gr=fr+this.decoder.write(hr),yr=this.parse(gr,!0);return this.processRows(yr,mr)}catch(fr){return mr(fr)}}_flush(hr){const ur=cr.wrapDoneCallback(hr);if(this.hasHitRowLimit)return ur();try{const pr=this.lines+this.decoder.end(),mr=this.parse(pr,!1);return this.processRows(mr,ur)}catch(pr){return ur(pr)}}parse(hr,ur){if(!hr)return[];const{line:pr,rows:mr}=this.parser.parse(hr,ur);return this.lines=pr,mr}processRows(hr,ur){const pr=hr.length,mr=fr=>{const gr=br=>br?ur(br):fr%100!=0?mr(fr+1):void ir(()=>mr(fr+1));if(this.checkAndEmitHeaders(),fr>=pr||this.hasHitRowLimit)return ur();if(this.parsedLineCount+=1,this.shouldSkipLine)return gr();const yr=hr[fr];this.rowCount+=1,this.parsedRowCount+=1;const vr=this.rowCount;return this.transformRow(yr,(br,Sr)=>{if(br)return this.rowCount-=1,gr(br);if(!Sr)return gr(new Error("expected transform result"));if(Sr.isValid){if(Sr.row)return this.pushRow(Sr.row,gr)}else this.emit("data-invalid",Sr.row,vr,Sr.reason);return gr()})};mr(0)}transformRow(hr,ur){try{this.headerTransformer.transform(hr,(pr,mr)=>pr?ur(pr):mr?mr.isValid?mr.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(mr.row,ur):this.skipRow(ur):(this.rowCount-=1,this.parsedRowCount-=1,ur(null,{row:null,isValid:!0})):this.shouldEmitRows?ur(null,{isValid:!1,row:hr}):this.skipRow(ur):ur(new Error("Expected result from header transform")))}catch(pr){ur(pr)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(hr){return this.rowCount-=1,hr(null,{row:null,isValid:!0})}pushRow(hr,ur){try{this.parserOptions.objectMode?this.push(hr):this.push(JSON.stringify(hr)),ur()}catch(pr){ur(pr)}}static wrapDoneCallback(hr){let ur=!1;return function(pr){if(pr){if(ur)throw pr;return ur=!0,void hr(pr)}for(var mr=arguments.length,fr=new Array(mr>1?mr-1:0),gr=1;gr<mr;gr++)fr[gr-1]=arguments[gr];hr(...fr)}}}nr.CsvParserStream=cr}).call(this)}).call(this,tr("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(tr,rr,nr){var ir=function(ar){return ar&&ar.__esModule?ar:{default:ar}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.ParserOptions=void 0;const sr=ir(tr("lodash.escaperegexp")),or=ir(tr("lodash.isnil"));nr.ParserOptions=class{constructor(ar){var lr;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,ar||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=sr.default(this.delimiter),this.escapeChar=(lr=this.escape)!==null&&lr!==void 0?lr:this.quote,this.supportsComments=!or.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(tr,rr,nr){var ir=Object.create?function(mr,fr,gr,yr){yr===void 0&&(yr=gr),Object.defineProperty(mr,yr,{enumerable:!0,get:function(){return fr[gr]}})}:function(mr,fr,gr,yr){yr===void 0&&(yr=gr),mr[yr]=fr[gr]},sr=Object.create?function(mr,fr){Object.defineProperty(mr,"default",{enumerable:!0,value:fr})}:function(mr,fr){mr.default=fr},or=function(mr){if(mr&&mr.__esModule)return mr;var fr={};if(mr!=null)for(var gr in mr)gr!=="default"&&Object.prototype.hasOwnProperty.call(mr,gr)&&ir(fr,mr,gr);return sr(fr,mr),fr},ar=function(mr,fr){for(var gr in mr)gr==="default"||Object.prototype.hasOwnProperty.call(fr,gr)||ir(fr,mr,gr)};Object.defineProperty(nr,"__esModule",{value:!0}),nr.parseString=nr.parseFile=nr.parseStream=nr.parse=nr.ParserOptions=nr.CsvParserStream=void 0;const lr=or(tr("fs")),cr=tr("stream"),dr=tr("./ParserOptions"),hr=tr("./CsvParserStream");ar(tr("./types"),nr);var ur=tr("./CsvParserStream");Object.defineProperty(nr,"CsvParserStream",{enumerable:!0,get:function(){return ur.CsvParserStream}});var pr=tr("./ParserOptions");Object.defineProperty(nr,"ParserOptions",{enumerable:!0,get:function(){return pr.ParserOptions}}),nr.parse=mr=>new hr.CsvParserStream(new dr.ParserOptions(mr)),nr.parseStream=(mr,fr)=>mr.pipe(new hr.CsvParserStream(new dr.ParserOptions(fr))),nr.parseFile=function(mr){let fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lr.createReadStream(mr).pipe(new hr.CsvParserStream(new dr.ParserOptions(fr)))},nr.parseString=(mr,fr)=>{const gr=new cr.Readable;return gr.push(mr),gr.push(null),gr.pipe(new hr.CsvParserStream(new dr.ParserOptions(fr)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.Parser=void 0;const ir=tr("./Scanner"),sr=tr("./RowParser"),or=tr("./Token");class ar{constructor(cr){this.parserOptions=cr,this.rowParser=new sr.RowParser(this.parserOptions)}static removeBOM(cr){return cr&&cr.charCodeAt(0)===65279?cr.slice(1):cr}parse(cr,dr){const hr=new ir.Scanner({line:ar.removeBOM(cr),parserOptions:this.parserOptions,hasMoreData:dr});return this.parserOptions.supportsComments?this.parseWithComments(hr):this.parseWithoutComments(hr)}parseWithoutComments(cr){const dr=[];let hr=!0;for(;hr;)hr=this.parseRow(cr,dr);return{line:cr.line,rows:dr}}parseWithComments(cr){const{parserOptions:dr}=this,hr=[];for(let ur=cr.nextCharacterToken;ur!==null;ur=cr.nextCharacterToken)if(or.Token.isTokenComment(ur,dr)){if(cr.advancePastLine()===null)return{line:cr.lineFromCursor,rows:hr};if(!cr.hasMoreCharacters)return{line:cr.lineFromCursor,rows:hr};cr.truncateToCursor()}else if(!this.parseRow(cr,hr))break;return{line:cr.line,rows:hr}}parseRow(cr,dr){if(!cr.nextNonSpaceToken)return!1;const hr=this.rowParser.parse(cr);return hr!==null&&(this.parserOptions.ignoreEmpty&&sr.RowParser.isEmptyRow(hr)||dr.push(hr),!0)}}nr.Parser=ar},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.RowParser=void 0;const ir=tr("./column"),sr=tr("./Token");nr.RowParser=class{constructor(or){this.parserOptions=or,this.columnParser=new ir.ColumnParser(or)}static isEmptyRow(or){return or.join("").replace(/\s+/g,"")===""}parse(or){const{parserOptions:ar}=this,{hasMoreData:lr}=or,cr=or,dr=[];let hr=this.getStartToken(cr,dr);for(;hr;){if(sr.Token.isTokenRowDelimiter(hr))return cr.advancePastToken(hr),!cr.hasMoreCharacters&&sr.Token.isTokenCarriageReturn(hr,ar)&&lr?null:(cr.truncateToCursor(),dr);if(!this.shouldSkipColumnParse(cr,hr,dr)){const ur=this.columnParser.parse(cr);if(ur===null)return null;dr.push(ur)}hr=cr.nextNonSpaceToken}return lr?null:(cr.truncateToCursor(),dr)}getStartToken(or,ar){const lr=or.nextNonSpaceToken;return lr!==null&&sr.Token.isTokenDelimiter(lr,this.parserOptions)?(ar.push(""),or.nextNonSpaceToken):lr}shouldSkipColumnParse(or,ar,lr){const{parserOptions:cr}=this;if(sr.Token.isTokenDelimiter(ar,cr)){or.advancePastToken(ar);const dr=or.nextCharacterToken;if(!or.hasMoreCharacters||dr!==null&&sr.Token.isTokenRowDelimiter(dr)||dr!==null&&sr.Token.isTokenDelimiter(dr,cr))return lr.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.Scanner=void 0;const ir=tr("./Token"),sr=/((?:\r\n)|\n|\r)/;nr.Scanner=class{constructor(or){this.cursor=0,this.line=or.line,this.lineLength=this.line.length,this.parserOptions=or.parserOptions,this.hasMoreData=or.hasMoreData,this.cursor=or.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:or}=this,ar=this.parserOptions.NEXT_TOKEN_REGEXP;if(or.search(ar)===-1)return null;const lr=ar.exec(or);if(lr==null)return null;const cr=lr[1],dr=this.cursor+(lr.index||0);return new ir.Token({token:cr,startCursor:dr,endCursor:dr+cr.length-1})}get nextCharacterToken(){const{cursor:or,lineLength:ar}=this;return ar<=or?null:new ir.Token({token:this.line[or],startCursor:or,endCursor:or})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const or=sr.exec(this.lineFromCursor);return or?(this.cursor+=(or.index||0)+or[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(or){return this.cursor=or,this}advanceToToken(or){return this.cursor=or.startCursor,this}advancePastToken(or){return this.cursor=or.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.Token=void 0,nr.Token=class{constructor(ir){this.token=ir.token,this.startCursor=ir.startCursor,this.endCursor=ir.endCursor}static isTokenRowDelimiter(ir){const sr=ir.token;return sr==="\r"||sr===`
`||sr===`\r
`}static isTokenCarriageReturn(ir,sr){return ir.token===sr.carriageReturn}static isTokenComment(ir,sr){return sr.supportsComments&&!!ir&&ir.token===sr.comment}static isTokenEscapeCharacter(ir,sr){return ir.token===sr.escapeChar}static isTokenQuote(ir,sr){return ir.token===sr.quote}static isTokenDelimiter(ir,sr){return ir.token===sr.delimiter}}},{}],160:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.ColumnFormatter=void 0,nr.ColumnFormatter=class{constructor(ir){ir.trim?this.format=sr=>sr.trim():ir.ltrim?this.format=sr=>sr.trimLeft():ir.rtrim?this.format=sr=>sr.trimRight():this.format=sr=>sr}}},{}],161:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.ColumnParser=void 0;const ir=tr("./NonQuotedColumnParser"),sr=tr("./QuotedColumnParser"),or=tr("../Token");nr.ColumnParser=class{constructor(ar){this.parserOptions=ar,this.quotedColumnParser=new sr.QuotedColumnParser(ar),this.nonQuotedColumnParser=new ir.NonQuotedColumnParser(ar)}parse(ar){const{nextNonSpaceToken:lr}=ar;return lr!==null&&or.Token.isTokenQuote(lr,this.parserOptions)?(ar.advanceToToken(lr),this.quotedColumnParser.parse(ar)):this.nonQuotedColumnParser.parse(ar)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.NonQuotedColumnParser=void 0;const ir=tr("./ColumnFormatter"),sr=tr("../Token");nr.NonQuotedColumnParser=class{constructor(or){this.parserOptions=or,this.columnFormatter=new ir.ColumnFormatter(or)}parse(or){if(!or.hasMoreCharacters)return null;const{parserOptions:ar}=this,lr=[];let cr=or.nextCharacterToken;for(;cr&&!sr.Token.isTokenDelimiter(cr,ar)&&!sr.Token.isTokenRowDelimiter(cr);cr=or.nextCharacterToken)lr.push(cr.token),or.advancePastToken(cr);return this.columnFormatter.format(lr.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.QuotedColumnParser=void 0;const ir=tr("./ColumnFormatter"),sr=tr("../Token");nr.QuotedColumnParser=class{constructor(or){this.parserOptions=or,this.columnFormatter=new ir.ColumnFormatter(or)}parse(or){if(!or.hasMoreCharacters)return null;const ar=or.cursor,{foundClosingQuote:lr,col:cr}=this.gatherDataBetweenQuotes(or);if(!lr){if(or.advanceTo(ar),!or.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${or.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(or),cr}gatherDataBetweenQuotes(or){const{parserOptions:ar}=this;let lr=!1,cr=!1;const dr=[];let hr=or.nextCharacterToken;for(;!cr&&hr!==null;hr=or.nextCharacterToken){const ur=sr.Token.isTokenQuote(hr,ar);if(!lr&&ur)lr=!0;else if(lr)if(sr.Token.isTokenEscapeCharacter(hr,ar)){or.advancePastToken(hr);const pr=or.nextCharacterToken;pr!==null&&(sr.Token.isTokenQuote(pr,ar)||sr.Token.isTokenEscapeCharacter(pr,ar))?(dr.push(pr.token),hr=pr):ur?cr=!0:dr.push(hr.token)}else ur?cr=!0:dr.push(hr.token);or.advancePastToken(hr)}return{col:this.columnFormatter.format(dr.join("")),foundClosingQuote:cr}}checkForMalformedColumn(or){const{parserOptions:ar}=this,{nextNonSpaceToken:lr}=or;if(lr){const cr=sr.Token.isTokenDelimiter(lr,ar),dr=sr.Token.isTokenRowDelimiter(lr);if(!cr&&!dr){const hr=or.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${ar.escapedDelimiter}' OR new line got: '${lr.token}'. at '${hr}`)}or.advanceToToken(lr)}else or.hasMoreData||or.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.ColumnFormatter=nr.QuotedColumnParser=nr.NonQuotedColumnParser=nr.ColumnParser=void 0;var ir=tr("./ColumnParser");Object.defineProperty(nr,"ColumnParser",{enumerable:!0,get:function(){return ir.ColumnParser}});var sr=tr("./NonQuotedColumnParser");Object.defineProperty(nr,"NonQuotedColumnParser",{enumerable:!0,get:function(){return sr.NonQuotedColumnParser}});var or=tr("./QuotedColumnParser");Object.defineProperty(nr,"QuotedColumnParser",{enumerable:!0,get:function(){return or.QuotedColumnParser}});var ar=tr("./ColumnFormatter");Object.defineProperty(nr,"ColumnFormatter",{enumerable:!0,get:function(){return ar.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.QuotedColumnParser=nr.NonQuotedColumnParser=nr.ColumnParser=nr.Token=nr.Scanner=nr.RowParser=nr.Parser=void 0;var ir=tr("./Parser");Object.defineProperty(nr,"Parser",{enumerable:!0,get:function(){return ir.Parser}});var sr=tr("./RowParser");Object.defineProperty(nr,"RowParser",{enumerable:!0,get:function(){return sr.RowParser}});var or=tr("./Scanner");Object.defineProperty(nr,"Scanner",{enumerable:!0,get:function(){return or.Scanner}});var ar=tr("./Token");Object.defineProperty(nr,"Token",{enumerable:!0,get:function(){return ar.Token}});var lr=tr("./column");Object.defineProperty(nr,"ColumnParser",{enumerable:!0,get:function(){return lr.ColumnParser}}),Object.defineProperty(nr,"NonQuotedColumnParser",{enumerable:!0,get:function(){return lr.NonQuotedColumnParser}}),Object.defineProperty(nr,"QuotedColumnParser",{enumerable:!0,get:function(){return lr.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(tr,rr,nr){var ir=function(cr){return cr&&cr.__esModule?cr:{default:cr}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.HeaderTransformer=void 0;const sr=ir(tr("lodash.isundefined")),or=ir(tr("lodash.isfunction")),ar=ir(tr("lodash.uniq")),lr=ir(tr("lodash.groupby"));nr.HeaderTransformer=class{constructor(cr){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=cr,cr.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(cr.headers)?this.setHeaders(cr.headers):or.default(cr.headers)&&(this.headersTransform=cr.headers)}transform(cr,dr){return this.shouldMapRow(cr)?dr(null,this.processRow(cr)):dr(null,{row:null,isValid:!0})}shouldMapRow(cr){const{parserOptions:dr}=this;if(!this.headersTransform&&dr.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(cr)){if(this.headersTransform)this.setHeaders(this.headersTransform(cr));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(cr)}return!1}return!0}processRow(cr){if(!this.headers)return{row:cr,isValid:!0};const{parserOptions:dr}=this;if(!dr.discardUnmappedColumns&&cr.length>this.headersLength){if(!dr.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${cr.length}`);return{row:cr,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${cr.length}`}}return dr.strictColumnHandling&&cr.length<this.headersLength?{row:cr,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${cr.length}`}:{row:this.mapHeaders(cr),isValid:!0}}mapHeaders(cr){const dr={},{headers:hr,headersLength:ur}=this;for(let pr=0;pr<ur;pr+=1){const mr=hr[pr];if(!sr.default(mr)){const fr=cr[pr];sr.default(fr)?dr[mr]="":dr[mr]=fr}}return dr}setHeaders(cr){var dr;const hr=cr.filter(ur=>!!ur);if(ar.default(hr).length!==hr.length){const ur=lr.default(hr),pr=Object.keys(ur).filter(mr=>ur[mr].length>1);throw new Error("Duplicate headers found "+JSON.stringify(pr))}this.headers=cr,this.receivedHeaders=!0,this.headersLength=((dr=this.headers)===null||dr===void 0?void 0:dr.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(tr,rr,nr){var ir=function(lr){return lr&&lr.__esModule?lr:{default:lr}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.RowTransformerValidator=void 0;const sr=ir(tr("lodash.isfunction")),or=tr("../types");class ar{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(cr){return or.isSyncTransform(cr)?(dr,hr)=>{let ur=null;try{ur=cr(dr)}catch(pr){return hr(pr)}return hr(null,ur)}:cr}static createValidator(cr){return or.isSyncValidate(cr)?(dr,hr)=>{hr(null,{row:dr,isValid:cr(dr)})}:(dr,hr)=>{cr(dr,(ur,pr,mr)=>ur?hr(ur):hr(null,pr?{row:dr,isValid:pr,reason:mr}:{row:dr,isValid:!1,reason:mr}))}}set rowTransform(cr){if(!sr.default(cr))throw new TypeError("The transform should be a function");this._rowTransform=ar.createTransform(cr)}set rowValidator(cr){if(!sr.default(cr))throw new TypeError("The validate should be a function");this._rowValidator=ar.createValidator(cr)}transformAndValidate(cr,dr){return this.callTransformer(cr,(hr,ur)=>hr?dr(hr):ur?this.callValidator(ur,(pr,mr)=>pr?dr(pr):mr&&!mr.isValid?dr(null,{row:ur,isValid:!1,reason:mr.reason}):dr(null,{row:ur,isValid:!0})):dr(null,{row:null,isValid:!0}))}callTransformer(cr,dr){return this._rowTransform?this._rowTransform(cr,dr):dr(null,cr)}callValidator(cr,dr){return this._rowValidator?this._rowValidator(cr,dr):dr(null,{row:cr,isValid:!0})}}nr.RowTransformerValidator=ar},{"../types":169,"lodash.isfunction":446}],168:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.HeaderTransformer=nr.RowTransformerValidator=void 0;var ir=tr("./RowTransformerValidator");Object.defineProperty(nr,"RowTransformerValidator",{enumerable:!0,get:function(){return ir.RowTransformerValidator}});var sr=tr("./HeaderTransformer");Object.defineProperty(nr,"HeaderTransformer",{enumerable:!0,get:function(){return sr.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.isSyncValidate=nr.isSyncTransform=void 0,nr.isSyncTransform=ir=>ir.length===1,nr.isSyncValidate=ir=>ir.length===1},{}],170:[function(tr,rr,nr){const ir=nr;ir.bignum=tr("bn.js"),ir.define=tr("./asn1/api").define,ir.base=tr("./asn1/base"),ir.constants=tr("./asn1/constants"),ir.decoders=tr("./asn1/decoders"),ir.encoders=tr("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(tr,rr,nr){const ir=tr("./encoders"),sr=tr("./decoders"),or=tr("inherits");function ar(lr,cr){this.name=lr,this.body=cr,this.decoders={},this.encoders={}}nr.define=function(lr,cr){return new ar(lr,cr)},ar.prototype._createNamed=function(lr){const cr=this.name;function dr(hr){this._initNamed(hr,cr)}return or(dr,lr),dr.prototype._initNamed=function(hr,ur){lr.call(this,hr,ur)},new dr(this)},ar.prototype._getDecoder=function(lr){return lr=lr||"der",this.decoders.hasOwnProperty(lr)||(this.decoders[lr]=this._createNamed(sr[lr])),this.decoders[lr]},ar.prototype.decode=function(lr,cr,dr){return this._getDecoder(cr).decode(lr,dr)},ar.prototype._getEncoder=function(lr){return lr=lr||"der",this.encoders.hasOwnProperty(lr)||(this.encoders[lr]=this._createNamed(ir[lr])),this.encoders[lr]},ar.prototype.encode=function(lr,cr,dr){return this._getEncoder(cr).encode(lr,dr)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(tr,rr,nr){const ir=tr("inherits"),sr=tr("../base/reporter").Reporter,or=tr("safer-buffer").Buffer;function ar(cr,dr){sr.call(this,dr),or.isBuffer(cr)?(this.base=cr,this.offset=0,this.length=cr.length):this.error("Input not Buffer")}function lr(cr,dr){if(Array.isArray(cr))this.length=0,this.value=cr.map(function(hr){return lr.isEncoderBuffer(hr)||(hr=new lr(hr,dr)),this.length+=hr.length,hr},this);else if(typeof cr=="number"){if(!(0<=cr&&cr<=255))return dr.error("non-byte EncoderBuffer value");this.value=cr,this.length=1}else if(typeof cr=="string")this.value=cr,this.length=or.byteLength(cr);else{if(!or.isBuffer(cr))return dr.error("Unsupported type: "+typeof cr);this.value=cr,this.length=cr.length}}ir(ar,sr),nr.DecoderBuffer=ar,ar.isDecoderBuffer=function(cr){return cr instanceof ar?!0:typeof cr=="object"&&or.isBuffer(cr.base)&&cr.constructor.name==="DecoderBuffer"&&typeof cr.offset=="number"&&typeof cr.length=="number"&&typeof cr.save=="function"&&typeof cr.restore=="function"&&typeof cr.isEmpty=="function"&&typeof cr.readUInt8=="function"&&typeof cr.skip=="function"&&typeof cr.raw=="function"},ar.prototype.save=function(){return{offset:this.offset,reporter:sr.prototype.save.call(this)}},ar.prototype.restore=function(cr){const dr=new ar(this.base);return dr.offset=cr.offset,dr.length=this.offset,this.offset=cr.offset,sr.prototype.restore.call(this,cr.reporter),dr},ar.prototype.isEmpty=function(){return this.offset===this.length},ar.prototype.readUInt8=function(cr){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(cr||"DecoderBuffer overrun")},ar.prototype.skip=function(cr,dr){if(!(this.offset+cr<=this.length))return this.error(dr||"DecoderBuffer overrun");const hr=new ar(this.base);return hr._reporterState=this._reporterState,hr.offset=this.offset,hr.length=this.offset+cr,this.offset+=cr,hr},ar.prototype.raw=function(cr){return this.base.slice(cr?cr.offset:this.offset,this.length)},nr.EncoderBuffer=lr,lr.isEncoderBuffer=function(cr){return cr instanceof lr?!0:typeof cr=="object"&&cr.constructor.name==="EncoderBuffer"&&typeof cr.length=="number"&&typeof cr.join=="function"},lr.prototype.join=function(cr,dr){return cr||(cr=or.alloc(this.length)),dr||(dr=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(hr){hr.join(cr,dr),dr+=hr.length}):(typeof this.value=="number"?cr[dr]=this.value:typeof this.value=="string"?cr.write(this.value,dr):or.isBuffer(this.value)&&this.value.copy(cr,dr),dr+=this.length)),cr}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(tr,rr,nr){const ir=nr;ir.Reporter=tr("./reporter").Reporter,ir.DecoderBuffer=tr("./buffer").DecoderBuffer,ir.EncoderBuffer=tr("./buffer").EncoderBuffer,ir.Node=tr("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(tr,rr,nr){const ir=tr("../base/reporter").Reporter,sr=tr("../base/buffer").EncoderBuffer,or=tr("../base/buffer").DecoderBuffer,ar=tr("minimalistic-assert"),lr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],cr=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(lr);function dr(ur,pr,mr){const fr={};this._baseState=fr,fr.name=mr,fr.enc=ur,fr.parent=pr||null,fr.children=null,fr.tag=null,fr.args=null,fr.reverseArgs=null,fr.choice=null,fr.optional=!1,fr.any=!1,fr.obj=!1,fr.use=null,fr.useDecoder=null,fr.key=null,fr.default=null,fr.explicit=null,fr.implicit=null,fr.contains=null,fr.parent||(fr.children=[],this._wrap())}rr.exports=dr;const hr=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];dr.prototype.clone=function(){const ur=this._baseState,pr={};hr.forEach(function(fr){pr[fr]=ur[fr]});const mr=new this.constructor(pr.parent);return mr._baseState=pr,mr},dr.prototype._wrap=function(){const ur=this._baseState;cr.forEach(function(pr){this[pr]=function(){const mr=new this.constructor(this);return ur.children.push(mr),mr[pr].apply(mr,arguments)}},this)},dr.prototype._init=function(ur){const pr=this._baseState;ar(pr.parent===null),ur.call(this),pr.children=pr.children.filter(function(mr){return mr._baseState.parent===this},this),ar.equal(pr.children.length,1,"Root node can have only one child")},dr.prototype._useArgs=function(ur){const pr=this._baseState,mr=ur.filter(function(fr){return fr instanceof this.constructor},this);ur=ur.filter(function(fr){return!(fr instanceof this.constructor)},this),mr.length!==0&&(ar(pr.children===null),pr.children=mr,mr.forEach(function(fr){fr._baseState.parent=this},this)),ur.length!==0&&(ar(pr.args===null),pr.args=ur,pr.reverseArgs=ur.map(function(fr){if(typeof fr!="object"||fr.constructor!==Object)return fr;const gr={};return Object.keys(fr).forEach(function(yr){yr==(0|yr)&&(yr|=0);const vr=fr[yr];gr[vr]=yr}),gr}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(ur){dr.prototype[ur]=function(){const pr=this._baseState;throw new Error(ur+" not implemented for encoding: "+pr.enc)}}),lr.forEach(function(ur){dr.prototype[ur]=function(){const pr=this._baseState,mr=Array.prototype.slice.call(arguments);return ar(pr.tag===null),pr.tag=ur,this._useArgs(mr),this}}),dr.prototype.use=function(ur){ar(ur);const pr=this._baseState;return ar(pr.use===null),pr.use=ur,this},dr.prototype.optional=function(){return this._baseState.optional=!0,this},dr.prototype.def=function(ur){const pr=this._baseState;return ar(pr.default===null),pr.default=ur,pr.optional=!0,this},dr.prototype.explicit=function(ur){const pr=this._baseState;return ar(pr.explicit===null&&pr.implicit===null),pr.explicit=ur,this},dr.prototype.implicit=function(ur){const pr=this._baseState;return ar(pr.explicit===null&&pr.implicit===null),pr.implicit=ur,this},dr.prototype.obj=function(){const ur=this._baseState,pr=Array.prototype.slice.call(arguments);return ur.obj=!0,pr.length!==0&&this._useArgs(pr),this},dr.prototype.key=function(ur){const pr=this._baseState;return ar(pr.key===null),pr.key=ur,this},dr.prototype.any=function(){return this._baseState.any=!0,this},dr.prototype.choice=function(ur){const pr=this._baseState;return ar(pr.choice===null),pr.choice=ur,this._useArgs(Object.keys(ur).map(function(mr){return ur[mr]})),this},dr.prototype.contains=function(ur){const pr=this._baseState;return ar(pr.use===null),pr.contains=ur,this},dr.prototype._decode=function(ur,pr){const mr=this._baseState;if(mr.parent===null)return ur.wrapResult(mr.children[0]._decode(ur,pr));let fr,gr=mr.default,yr=!0,vr=null;if(mr.key!==null&&(vr=ur.enterKey(mr.key)),mr.optional){let br=null;if(mr.explicit!==null?br=mr.explicit:mr.implicit!==null?br=mr.implicit:mr.tag!==null&&(br=mr.tag),br!==null||mr.any){if(yr=this._peekTag(ur,br,mr.any),ur.isError(yr))return yr}else{const Sr=ur.save();try{mr.choice===null?this._decodeGeneric(mr.tag,ur,pr):this._decodeChoice(ur,pr),yr=!0}catch{yr=!1}ur.restore(Sr)}}if(mr.obj&&yr&&(fr=ur.enterObject()),yr){if(mr.explicit!==null){const Sr=this._decodeTag(ur,mr.explicit);if(ur.isError(Sr))return Sr;ur=Sr}const br=ur.offset;if(mr.use===null&&mr.choice===null){let Sr;mr.any&&(Sr=ur.save());const jr=this._decodeTag(ur,mr.implicit!==null?mr.implicit:mr.tag,mr.any);if(ur.isError(jr))return jr;mr.any?gr=ur.raw(Sr):ur=jr}if(pr&&pr.track&&mr.tag!==null&&pr.track(ur.path(),br,ur.length,"tagged"),pr&&pr.track&&mr.tag!==null&&pr.track(ur.path(),ur.offset,ur.length,"content"),mr.any||(gr=mr.choice===null?this._decodeGeneric(mr.tag,ur,pr):this._decodeChoice(ur,pr)),ur.isError(gr))return gr;if(mr.any||mr.choice!==null||mr.children===null||mr.children.forEach(function(Sr){Sr._decode(ur,pr)}),mr.contains&&(mr.tag==="octstr"||mr.tag==="bitstr")){const Sr=new or(gr);gr=this._getUse(mr.contains,ur._reporterState.obj)._decode(Sr,pr)}}return mr.obj&&yr&&(gr=ur.leaveObject(fr)),mr.key===null||gr===null&&yr!==!0?vr!==null&&ur.exitKey(vr):ur.leaveKey(vr,mr.key,gr),gr},dr.prototype._decodeGeneric=function(ur,pr,mr){const fr=this._baseState;return ur==="seq"||ur==="set"?null:ur==="seqof"||ur==="setof"?this._decodeList(pr,ur,fr.args[0],mr):/str$/.test(ur)?this._decodeStr(pr,ur,mr):ur==="objid"&&fr.args?this._decodeObjid(pr,fr.args[0],fr.args[1],mr):ur==="objid"?this._decodeObjid(pr,null,null,mr):ur==="gentime"||ur==="utctime"?this._decodeTime(pr,ur,mr):ur==="null_"?this._decodeNull(pr,mr):ur==="bool"?this._decodeBool(pr,mr):ur==="objDesc"?this._decodeStr(pr,ur,mr):ur==="int"||ur==="enum"?this._decodeInt(pr,fr.args&&fr.args[0],mr):fr.use!==null?this._getUse(fr.use,pr._reporterState.obj)._decode(pr,mr):pr.error("unknown tag: "+ur)},dr.prototype._getUse=function(ur,pr){const mr=this._baseState;return mr.useDecoder=this._use(ur,pr),ar(mr.useDecoder._baseState.parent===null),mr.useDecoder=mr.useDecoder._baseState.children[0],mr.implicit!==mr.useDecoder._baseState.implicit&&(mr.useDecoder=mr.useDecoder.clone(),mr.useDecoder._baseState.implicit=mr.implicit),mr.useDecoder},dr.prototype._decodeChoice=function(ur,pr){const mr=this._baseState;let fr=null,gr=!1;return Object.keys(mr.choice).some(function(yr){const vr=ur.save(),br=mr.choice[yr];try{const Sr=br._decode(ur,pr);if(ur.isError(Sr))return!1;fr={type:yr,value:Sr},gr=!0}catch{return ur.restore(vr),!1}return!0},this),gr?fr:ur.error("Choice not matched")},dr.prototype._createEncoderBuffer=function(ur){return new sr(ur,this.reporter)},dr.prototype._encode=function(ur,pr,mr){const fr=this._baseState;if(fr.default!==null&&fr.default===ur)return;const gr=this._encodeValue(ur,pr,mr);return gr===void 0||this._skipDefault(gr,pr,mr)?void 0:gr},dr.prototype._encodeValue=function(ur,pr,mr){const fr=this._baseState;if(fr.parent===null)return fr.children[0]._encode(ur,pr||new ir);let gr=null;if(this.reporter=pr,fr.optional&&ur===void 0){if(fr.default===null)return;ur=fr.default}let yr=null,vr=!1;if(fr.any)gr=this._createEncoderBuffer(ur);else if(fr.choice)gr=this._encodeChoice(ur,pr);else if(fr.contains)yr=this._getUse(fr.contains,mr)._encode(ur,pr),vr=!0;else if(fr.children)yr=fr.children.map(function(br){if(br._baseState.tag==="null_")return br._encode(null,pr,ur);if(br._baseState.key===null)return pr.error("Child should have a key");const Sr=pr.enterKey(br._baseState.key);if(typeof ur!="object")return pr.error("Child expected, but input is not object");const jr=br._encode(ur[br._baseState.key],pr,ur);return pr.leaveKey(Sr),jr},this).filter(function(br){return br}),yr=this._createEncoderBuffer(yr);else if(fr.tag==="seqof"||fr.tag==="setof"){if(!fr.args||fr.args.length!==1)return pr.error("Too many args for : "+fr.tag);if(!Array.isArray(ur))return pr.error("seqof/setof, but data is not Array");const br=this.clone();br._baseState.implicit=null,yr=this._createEncoderBuffer(ur.map(function(Sr){const jr=this._baseState;return this._getUse(jr.args[0],ur)._encode(Sr,pr)},br))}else fr.use!==null?gr=this._getUse(fr.use,mr)._encode(ur,pr):(yr=this._encodePrimitive(fr.tag,ur),vr=!0);if(!fr.any&&fr.choice===null){const br=fr.implicit!==null?fr.implicit:fr.tag,Sr=fr.implicit===null?"universal":"context";br===null?fr.use===null&&pr.error("Tag could be omitted only for .use()"):fr.use===null&&(gr=this._encodeComposite(br,vr,Sr,yr))}return fr.explicit!==null&&(gr=this._encodeComposite(fr.explicit,!1,"context",gr)),gr},dr.prototype._encodeChoice=function(ur,pr){const mr=this._baseState,fr=mr.choice[ur.type];return fr||ar(!1,ur.type+" not found in "+JSON.stringify(Object.keys(mr.choice))),fr._encode(ur.value,pr)},dr.prototype._encodePrimitive=function(ur,pr){const mr=this._baseState;if(/str$/.test(ur))return this._encodeStr(pr,ur);if(ur==="objid"&&mr.args)return this._encodeObjid(pr,mr.reverseArgs[0],mr.args[1]);if(ur==="objid")return this._encodeObjid(pr,null,null);if(ur==="gentime"||ur==="utctime")return this._encodeTime(pr,ur);if(ur==="null_")return this._encodeNull();if(ur==="int"||ur==="enum")return this._encodeInt(pr,mr.args&&mr.reverseArgs[0]);if(ur==="bool")return this._encodeBool(pr);if(ur==="objDesc")return this._encodeStr(pr,ur);throw new Error("Unsupported tag: "+ur)},dr.prototype._isNumstr=function(ur){return/^[0-9 ]*$/.test(ur)},dr.prototype._isPrintstr=function(ur){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(ur)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(tr,rr,nr){const ir=tr("inherits");function sr(ar){this._reporterState={obj:null,path:[],options:ar||{},errors:[]}}function or(ar,lr){this.path=ar,this.rethrow(lr)}nr.Reporter=sr,sr.prototype.isError=function(ar){return ar instanceof or},sr.prototype.save=function(){const ar=this._reporterState;return{obj:ar.obj,pathLen:ar.path.length}},sr.prototype.restore=function(ar){const lr=this._reporterState;lr.obj=ar.obj,lr.path=lr.path.slice(0,ar.pathLen)},sr.prototype.enterKey=function(ar){return this._reporterState.path.push(ar)},sr.prototype.exitKey=function(ar){const lr=this._reporterState;lr.path=lr.path.slice(0,ar-1)},sr.prototype.leaveKey=function(ar,lr,cr){const dr=this._reporterState;this.exitKey(ar),dr.obj!==null&&(dr.obj[lr]=cr)},sr.prototype.path=function(){return this._reporterState.path.join("/")},sr.prototype.enterObject=function(){const ar=this._reporterState,lr=ar.obj;return ar.obj={},lr},sr.prototype.leaveObject=function(ar){const lr=this._reporterState,cr=lr.obj;return lr.obj=ar,cr},sr.prototype.error=function(ar){let lr;const cr=this._reporterState,dr=ar instanceof or;if(lr=dr?ar:new or(cr.path.map(function(hr){return"["+JSON.stringify(hr)+"]"}).join(""),ar.message||ar,ar.stack),!cr.options.partial)throw lr;return dr||cr.errors.push(lr),lr},sr.prototype.wrapResult=function(ar){const lr=this._reporterState;return lr.options.partial?{result:this.isError(ar)?null:ar,errors:lr.errors}:ar},ir(or,Error),or.prototype.rethrow=function(ar){if(this.message=ar+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,or),!this.stack)try{throw new Error(this.message)}catch(lr){this.stack=lr.stack}return this}},{inherits:440}],176:[function(tr,rr,nr){function ir(sr){const or={};return Object.keys(sr).forEach(function(ar){(0|ar)==ar&&(ar|=0);const lr=sr[ar];or[lr]=ar}),or}nr.tagClass={0:"universal",1:"application",2:"context",3:"private"},nr.tagClassByName=ir(nr.tagClass),nr.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},nr.tagByName=ir(nr.tag)},{}],177:[function(tr,rr,nr){const ir=nr;ir._reverse=function(sr){const or={};return Object.keys(sr).forEach(function(ar){(0|ar)==ar&&(ar|=0);const lr=sr[ar];or[lr]=ar}),or},ir.der=tr("./der")},{"./der":176}],178:[function(tr,rr,nr){const ir=tr("inherits"),sr=tr("bn.js"),or=tr("../base/buffer").DecoderBuffer,ar=tr("../base/node"),lr=tr("../constants/der");function cr(pr){this.enc="der",this.name=pr.name,this.entity=pr,this.tree=new dr,this.tree._init(pr.body)}function dr(pr){ar.call(this,"der",pr)}function hr(pr,mr){let fr=pr.readUInt8(mr);if(pr.isError(fr))return fr;const gr=lr.tagClass[fr>>6],yr=(32&fr)==0;if((31&fr)==31){let vr=fr;for(fr=0;(128&vr)==128;){if(vr=pr.readUInt8(mr),pr.isError(vr))return vr;fr<<=7,fr|=127&vr}}else fr&=31;return{cls:gr,primitive:yr,tag:fr,tagStr:lr.tag[fr]}}function ur(pr,mr,fr){let gr=pr.readUInt8(fr);if(pr.isError(gr))return gr;if(!mr&&gr===128)return null;if(!(128&gr))return gr;const yr=127&gr;if(yr>4)return pr.error("length octect is too long");gr=0;for(let vr=0;vr<yr;vr++){gr<<=8;const br=pr.readUInt8(fr);if(pr.isError(br))return br;gr|=br}return gr}rr.exports=cr,cr.prototype.decode=function(pr,mr){return or.isDecoderBuffer(pr)||(pr=new or(pr,mr)),this.tree._decode(pr,mr)},ir(dr,ar),dr.prototype._peekTag=function(pr,mr,fr){if(pr.isEmpty())return!1;const gr=pr.save(),yr=hr(pr,'Failed to peek tag: "'+mr+'"');return pr.isError(yr)?yr:(pr.restore(gr),yr.tag===mr||yr.tagStr===mr||yr.tagStr+"of"===mr||fr)},dr.prototype._decodeTag=function(pr,mr,fr){const gr=hr(pr,'Failed to decode tag of "'+mr+'"');if(pr.isError(gr))return gr;let yr=ur(pr,gr.primitive,'Failed to get length of "'+mr+'"');if(pr.isError(yr))return yr;if(!fr&&gr.tag!==mr&&gr.tagStr!==mr&&gr.tagStr+"of"!==mr)return pr.error('Failed to match tag: "'+mr+'"');if(gr.primitive||yr!==null)return pr.skip(yr,'Failed to match body of: "'+mr+'"');const vr=pr.save(),br=this._skipUntilEnd(pr,'Failed to skip indefinite length body: "'+this.tag+'"');return pr.isError(br)?br:(yr=pr.offset-vr.offset,pr.restore(vr),pr.skip(yr,'Failed to match body of: "'+mr+'"'))},dr.prototype._skipUntilEnd=function(pr,mr){for(;;){const fr=hr(pr,mr);if(pr.isError(fr))return fr;const gr=ur(pr,fr.primitive,mr);if(pr.isError(gr))return gr;let yr;if(yr=fr.primitive||gr!==null?pr.skip(gr):this._skipUntilEnd(pr,mr),pr.isError(yr))return yr;if(fr.tagStr==="end")break}},dr.prototype._decodeList=function(pr,mr,fr,gr){const yr=[];for(;!pr.isEmpty();){const vr=this._peekTag(pr,"end");if(pr.isError(vr))return vr;const br=fr.decode(pr,"der",gr);if(pr.isError(br)&&vr)break;yr.push(br)}return yr},dr.prototype._decodeStr=function(pr,mr){if(mr==="bitstr"){const fr=pr.readUInt8();return pr.isError(fr)?fr:{unused:fr,data:pr.raw()}}if(mr==="bmpstr"){const fr=pr.raw();if(fr.length%2==1)return pr.error("Decoding of string type: bmpstr length mismatch");let gr="";for(let yr=0;yr<fr.length/2;yr++)gr+=String.fromCharCode(fr.readUInt16BE(2*yr));return gr}if(mr==="numstr"){const fr=pr.raw().toString("ascii");return this._isNumstr(fr)?fr:pr.error("Decoding of string type: numstr unsupported characters")}if(mr==="octstr"||mr==="objDesc")return pr.raw();if(mr==="printstr"){const fr=pr.raw().toString("ascii");return this._isPrintstr(fr)?fr:pr.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(mr)?pr.raw().toString():pr.error("Decoding of string type: "+mr+" unsupported")},dr.prototype._decodeObjid=function(pr,mr,fr){let gr;const yr=[];let vr=0,br=0;for(;!pr.isEmpty();)br=pr.readUInt8(),vr<<=7,vr|=127&br,!(128&br)&&(yr.push(vr),vr=0);128&br&&yr.push(vr);const Sr=yr[0]/40|0,jr=yr[0]%40;if(gr=fr?yr:[Sr,jr].concat(yr.slice(1)),mr){let Cr=mr[gr.join(" ")];Cr===void 0&&(Cr=mr[gr.join(".")]),Cr!==void 0&&(gr=Cr)}return gr},dr.prototype._decodeTime=function(pr,mr){const fr=pr.raw().toString();let gr,yr,vr,br,Sr,jr;if(mr==="gentime")gr=0|fr.slice(0,4),yr=0|fr.slice(4,6),vr=0|fr.slice(6,8),br=0|fr.slice(8,10),Sr=0|fr.slice(10,12),jr=0|fr.slice(12,14);else{if(mr!=="utctime")return pr.error("Decoding "+mr+" time is not supported yet");gr=0|fr.slice(0,2),yr=0|fr.slice(2,4),vr=0|fr.slice(4,6),br=0|fr.slice(6,8),Sr=0|fr.slice(8,10),jr=0|fr.slice(10,12),gr=gr<70?2e3+gr:1900+gr}return Date.UTC(gr,yr-1,vr,br,Sr,jr,0)},dr.prototype._decodeNull=function(){return null},dr.prototype._decodeBool=function(pr){const mr=pr.readUInt8();return pr.isError(mr)?mr:mr!==0},dr.prototype._decodeInt=function(pr,mr){const fr=pr.raw();let gr=new sr(fr);return mr&&(gr=mr[gr.toString(10)]||gr),gr},dr.prototype._use=function(pr,mr){return typeof pr=="function"&&(pr=pr(mr)),pr._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(tr,rr,nr){const ir=nr;ir.der=tr("./der"),ir.pem=tr("./pem")},{"./der":178,"./pem":180}],180:[function(tr,rr,nr){const ir=tr("inherits"),sr=tr("safer-buffer").Buffer,or=tr("./der");function ar(lr){or.call(this,lr),this.enc="pem"}ir(ar,or),rr.exports=ar,ar.prototype.decode=function(lr,cr){const dr=lr.toString().split(/[\r\n]+/g),hr=cr.label.toUpperCase(),ur=/^-----(BEGIN|END) ([^-]+)-----$/;let pr=-1,mr=-1;for(let yr=0;yr<dr.length;yr++){const vr=dr[yr].match(ur);if(vr!==null&&vr[2]===hr){if(pr!==-1){if(vr[1]!=="END")break;mr=yr;break}if(vr[1]!=="BEGIN")break;pr=yr}}if(pr===-1||mr===-1)throw new Error("PEM section not found for: "+hr);const fr=dr.slice(pr+1,mr).join("");fr.replace(/[^a-z0-9+/=]+/gi,"");const gr=sr.from(fr,"base64");return or.prototype.decode.call(this,gr,cr)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(tr,rr,nr){const ir=tr("inherits"),sr=tr("safer-buffer").Buffer,or=tr("../base/node"),ar=tr("../constants/der");function lr(hr){this.enc="der",this.name=hr.name,this.entity=hr,this.tree=new cr,this.tree._init(hr.body)}function cr(hr){or.call(this,"der",hr)}function dr(hr){return hr<10?"0"+hr:hr}rr.exports=lr,lr.prototype.encode=function(hr,ur){return this.tree._encode(hr,ur).join()},ir(cr,or),cr.prototype._encodeComposite=function(hr,ur,pr,mr){const fr=function(vr,br,Sr,jr){let Cr;if(vr==="seqof"?vr="seq":vr==="setof"&&(vr="set"),ar.tagByName.hasOwnProperty(vr))Cr=ar.tagByName[vr];else{if(typeof vr!="number"||(0|vr)!==vr)return jr.error("Unknown tag: "+vr);Cr=vr}return Cr>=31?jr.error("Multi-octet tag encoding unsupported"):(br||(Cr|=32),Cr|=ar.tagClassByName[Sr||"universal"]<<6,Cr)}(hr,ur,pr,this.reporter);if(mr.length<128){const vr=sr.alloc(2);return vr[0]=fr,vr[1]=mr.length,this._createEncoderBuffer([vr,mr])}let gr=1;for(let vr=mr.length;vr>=256;vr>>=8)gr++;const yr=sr.alloc(2+gr);yr[0]=fr,yr[1]=128|gr;for(let vr=1+gr,br=mr.length;br>0;vr--,br>>=8)yr[vr]=255&br;return this._createEncoderBuffer([yr,mr])},cr.prototype._encodeStr=function(hr,ur){if(ur==="bitstr")return this._createEncoderBuffer([0|hr.unused,hr.data]);if(ur==="bmpstr"){const pr=sr.alloc(2*hr.length);for(let mr=0;mr<hr.length;mr++)pr.writeUInt16BE(hr.charCodeAt(mr),2*mr);return this._createEncoderBuffer(pr)}return ur==="numstr"?this._isNumstr(hr)?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: numstr supports only digits and space"):ur==="printstr"?this._isPrintstr(hr)?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ur)||ur==="objDesc"?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: "+ur+" unsupported")},cr.prototype._encodeObjid=function(hr,ur,pr){if(typeof hr=="string"){if(!ur)return this.reporter.error("string objid given, but no values map found");if(!ur.hasOwnProperty(hr))return this.reporter.error("objid not found in values map");hr=ur[hr].split(/[\s.]+/g);for(let yr=0;yr<hr.length;yr++)hr[yr]|=0}else if(Array.isArray(hr)){hr=hr.slice();for(let yr=0;yr<hr.length;yr++)hr[yr]|=0}if(!Array.isArray(hr))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(hr));if(!pr){if(hr[1]>=40)return this.reporter.error("Second objid identifier OOB");hr.splice(0,2,40*hr[0]+hr[1])}let mr=0;for(let yr=0;yr<hr.length;yr++){let vr=hr[yr];for(mr++;vr>=128;vr>>=7)mr++}const fr=sr.alloc(mr);let gr=fr.length-1;for(let yr=hr.length-1;yr>=0;yr--){let vr=hr[yr];for(fr[gr--]=127&vr;(vr>>=7)>0;)fr[gr--]=128|127&vr}return this._createEncoderBuffer(fr)},cr.prototype._encodeTime=function(hr,ur){let pr;const mr=new Date(hr);return ur==="gentime"?pr=[dr(mr.getUTCFullYear()),dr(mr.getUTCMonth()+1),dr(mr.getUTCDate()),dr(mr.getUTCHours()),dr(mr.getUTCMinutes()),dr(mr.getUTCSeconds()),"Z"].join(""):ur==="utctime"?pr=[dr(mr.getUTCFullYear()%100),dr(mr.getUTCMonth()+1),dr(mr.getUTCDate()),dr(mr.getUTCHours()),dr(mr.getUTCMinutes()),dr(mr.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ur+" time is not supported yet"),this._encodeStr(pr,"octstr")},cr.prototype._encodeNull=function(){return this._createEncoderBuffer("")},cr.prototype._encodeInt=function(hr,ur){if(typeof hr=="string"){if(!ur)return this.reporter.error("String int or enum given, but no values map");if(!ur.hasOwnProperty(hr))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(hr));hr=ur[hr]}if(typeof hr!="number"&&!sr.isBuffer(hr)){const fr=hr.toArray();!hr.sign&&128&fr[0]&&fr.unshift(0),hr=sr.from(fr)}if(sr.isBuffer(hr)){let fr=hr.length;hr.length===0&&fr++;const gr=sr.alloc(fr);return hr.copy(gr),hr.length===0&&(gr[0]=0),this._createEncoderBuffer(gr)}if(hr<128)return this._createEncoderBuffer(hr);if(hr<256)return this._createEncoderBuffer([0,hr]);let pr=1;for(let fr=hr;fr>=256;fr>>=8)pr++;const mr=new Array(pr);for(let fr=mr.length-1;fr>=0;fr--)mr[fr]=255&hr,hr>>=8;return 128&mr[0]&&mr.unshift(0),this._createEncoderBuffer(sr.from(mr))},cr.prototype._encodeBool=function(hr){return this._createEncoderBuffer(hr?255:0)},cr.prototype._use=function(hr,ur){return typeof hr=="function"&&(hr=hr(ur)),hr._getEncoder("der").tree},cr.prototype._skipDefault=function(hr,ur,pr){const mr=this._baseState;let fr;if(mr.default===null)return!1;const gr=hr.join();if(mr.defaultBuffer===void 0&&(mr.defaultBuffer=this._encodeValue(mr.default,ur,pr).join()),gr.length!==mr.defaultBuffer.length)return!1;for(fr=0;fr<gr.length;fr++)if(gr[fr]!==mr.defaultBuffer[fr])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(tr,rr,nr){const ir=nr;ir.der=tr("./der"),ir.pem=tr("./pem")},{"./der":181,"./pem":183}],183:[function(tr,rr,nr){const ir=tr("inherits"),sr=tr("./der");function or(ar){sr.call(this,ar),this.enc="pem"}ir(or,sr),rr.exports=or,or.prototype.encode=function(ar,lr){const cr=sr.prototype.encode.call(this,ar).toString("base64"),dr=["-----BEGIN "+lr.label+"-----"];for(let hr=0;hr<cr.length;hr+=64)dr.push(cr.slice(hr,hr+64));return dr.push("-----END "+lr.label+"-----"),dr.join(`
`)}},{"./der":181,inherits:440}],184:[function(tr,rr,nr){(function(ir,sr){function or(Ar,Dr){if(!Ar)throw new Error(Dr||"Assertion failed")}function ar(Ar,Dr){Ar.super_=Dr;var Tr=function(){};Tr.prototype=Dr.prototype,Ar.prototype=new Tr,Ar.prototype.constructor=Ar}function lr(Ar,Dr,Tr){if(lr.isBN(Ar))return Ar;this.negative=0,this.words=null,this.length=0,this.red=null,Ar!==null&&(Dr!=="le"&&Dr!=="be"||(Tr=Dr,Dr=10),this._init(Ar||0,Dr||10,Tr||"be"))}var cr;typeof ir=="object"?ir.exports=lr:(void 0).BN=lr,lr.BN=lr,lr.wordSize=26;try{cr=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:tr("buffer").Buffer}catch{}function dr(Ar,Dr){var Tr=Ar.charCodeAt(Dr);return Tr>=65&&Tr<=70?Tr-55:Tr>=97&&Tr<=102?Tr-87:Tr-48&15}function hr(Ar,Dr,Tr){var _r=dr(Ar,Tr);return Tr-1>=Dr&&(_r|=dr(Ar,Tr-1)<<4),_r}function ur(Ar,Dr,Tr,_r){for(var wr=0,Er=Math.min(Ar.length,Tr),xr=Dr;xr<Er;xr++){var Mr=Ar.charCodeAt(xr)-48;wr*=_r,wr+=Mr>=49?Mr-49+10:Mr>=17?Mr-17+10:Mr}return wr}lr.isBN=function(Ar){return Ar instanceof lr||Ar!==null&&typeof Ar=="object"&&Ar.constructor.wordSize===lr.wordSize&&Array.isArray(Ar.words)},lr.max=function(Ar,Dr){return Ar.cmp(Dr)>0?Ar:Dr},lr.min=function(Ar,Dr){return Ar.cmp(Dr)<0?Ar:Dr},lr.prototype._init=function(Ar,Dr,Tr){if(typeof Ar=="number")return this._initNumber(Ar,Dr,Tr);if(typeof Ar=="object")return this._initArray(Ar,Dr,Tr);Dr==="hex"&&(Dr=16),or(Dr===(0|Dr)&&Dr>=2&&Dr<=36);var _r=0;(Ar=Ar.toString().replace(/\s+/g,""))[0]==="-"&&(_r++,this.negative=1),_r<Ar.length&&(Dr===16?this._parseHex(Ar,_r,Tr):(this._parseBase(Ar,Dr,_r),Tr==="le"&&this._initArray(this.toArray(),Dr,Tr)))},lr.prototype._initNumber=function(Ar,Dr,Tr){Ar<0&&(this.negative=1,Ar=-Ar),Ar<67108864?(this.words=[67108863&Ar],this.length=1):Ar<4503599627370496?(this.words=[67108863&Ar,Ar/67108864&67108863],this.length=2):(or(Ar<9007199254740992),this.words=[67108863&Ar,Ar/67108864&67108863,1],this.length=3),Tr==="le"&&this._initArray(this.toArray(),Dr,Tr)},lr.prototype._initArray=function(Ar,Dr,Tr){if(or(typeof Ar.length=="number"),Ar.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ar.length/3),this.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)this.words[_r]=0;var wr,Er,xr=0;if(Tr==="be")for(_r=Ar.length-1,wr=0;_r>=0;_r-=3)Er=Ar[_r]|Ar[_r-1]<<8|Ar[_r-2]<<16,this.words[wr]|=Er<<xr&67108863,this.words[wr+1]=Er>>>26-xr&67108863,(xr+=24)>=26&&(xr-=26,wr++);else if(Tr==="le")for(_r=0,wr=0;_r<Ar.length;_r+=3)Er=Ar[_r]|Ar[_r+1]<<8|Ar[_r+2]<<16,this.words[wr]|=Er<<xr&67108863,this.words[wr+1]=Er>>>26-xr&67108863,(xr+=24)>=26&&(xr-=26,wr++);return this.strip()},lr.prototype._parseHex=function(Ar,Dr,Tr){this.length=Math.ceil((Ar.length-Dr)/6),this.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)this.words[_r]=0;var wr,Er=0,xr=0;if(Tr==="be")for(_r=Ar.length-1;_r>=Dr;_r-=2)wr=hr(Ar,Dr,_r)<<Er,this.words[xr]|=67108863&wr,Er>=18?(Er-=18,xr+=1,this.words[xr]|=wr>>>26):Er+=8;else for(_r=(Ar.length-Dr)%2==0?Dr+1:Dr;_r<Ar.length;_r+=2)wr=hr(Ar,Dr,_r)<<Er,this.words[xr]|=67108863&wr,Er>=18?(Er-=18,xr+=1,this.words[xr]|=wr>>>26):Er+=8;this.strip()},lr.prototype._parseBase=function(Ar,Dr,Tr){this.words=[0],this.length=1;for(var _r=0,wr=1;wr<=67108863;wr*=Dr)_r++;_r--,wr=wr/Dr|0;for(var Er=Ar.length-Tr,xr=Er%_r,Mr=Math.min(Er,Er-xr)+Tr,zr=0,Or=Tr;Or<Mr;Or+=_r)zr=ur(Ar,Or,Or+_r,Dr),this.imuln(wr),this.words[0]+zr<67108864?this.words[0]+=zr:this._iaddn(zr);if(xr!==0){var Br=1;for(zr=ur(Ar,Or,Ar.length,Dr),Or=0;Or<xr;Or++)Br*=Dr;this.imuln(Br),this.words[0]+zr<67108864?this.words[0]+=zr:this._iaddn(zr)}this.strip()},lr.prototype.copy=function(Ar){Ar.words=new Array(this.length);for(var Dr=0;Dr<this.length;Dr++)Ar.words[Dr]=this.words[Dr];Ar.length=this.length,Ar.negative=this.negative,Ar.red=this.red},lr.prototype.clone=function(){var Ar=new lr(null);return this.copy(Ar),Ar},lr.prototype._expand=function(Ar){for(;this.length<Ar;)this.words[this.length++]=0;return this},lr.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},lr.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},lr.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var pr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function gr(Ar,Dr,Tr){Tr.negative=Dr.negative^Ar.negative;var _r=Ar.length+Dr.length|0;Tr.length=_r,_r=_r-1|0;var wr=0|Ar.words[0],Er=0|Dr.words[0],xr=wr*Er,Mr=67108863&xr,zr=xr/67108864|0;Tr.words[0]=Mr;for(var Or=1;Or<_r;Or++){for(var Br=zr>>>26,Ur=67108863&zr,qr=Math.min(Or,Dr.length-1),Vr=Math.max(0,Or-Ar.length+1);Vr<=qr;Vr++){var Gr=Or-Vr|0;Br+=(xr=(wr=0|Ar.words[Gr])*(Er=0|Dr.words[Vr])+Ur)/67108864|0,Ur=67108863&xr}Tr.words[Or]=0|Ur,zr=0|Br}return zr!==0?Tr.words[Or]=0|zr:Tr.length--,Tr.strip()}lr.prototype.toString=function(Ar,Dr){var Tr;if(Dr=0|Dr||1,(Ar=Ar||10)===16||Ar==="hex"){Tr="";for(var _r=0,wr=0,Er=0;Er<this.length;Er++){var xr=this.words[Er],Mr=(16777215&(xr<<_r|wr)).toString(16);Tr=(wr=xr>>>24-_r&16777215)!==0||Er!==this.length-1?pr[6-Mr.length]+Mr+Tr:Mr+Tr,(_r+=2)>=26&&(_r-=26,Er--)}for(wr!==0&&(Tr=wr.toString(16)+Tr);Tr.length%Dr!=0;)Tr="0"+Tr;return this.negative!==0&&(Tr="-"+Tr),Tr}if(Ar===(0|Ar)&&Ar>=2&&Ar<=36){var zr=mr[Ar],Or=fr[Ar];Tr="";var Br=this.clone();for(Br.negative=0;!Br.isZero();){var Ur=Br.modn(Or).toString(Ar);Tr=(Br=Br.idivn(Or)).isZero()?Ur+Tr:pr[zr-Ur.length]+Ur+Tr}for(this.isZero()&&(Tr="0"+Tr);Tr.length%Dr!=0;)Tr="0"+Tr;return this.negative!==0&&(Tr="-"+Tr),Tr}or(!1,"Base should be between 2 and 36")},lr.prototype.toNumber=function(){var Ar=this.words[0];return this.length===2?Ar+=67108864*this.words[1]:this.length===3&&this.words[2]===1?Ar+=4503599627370496+67108864*this.words[1]:this.length>2&&or(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ar:Ar},lr.prototype.toJSON=function(){return this.toString(16)},lr.prototype.toBuffer=function(Ar,Dr){return or(cr!==void 0),this.toArrayLike(cr,Ar,Dr)},lr.prototype.toArray=function(Ar,Dr){return this.toArrayLike(Array,Ar,Dr)},lr.prototype.toArrayLike=function(Ar,Dr,Tr){var _r=this.byteLength(),wr=Tr||Math.max(1,_r);or(_r<=wr,"byte array longer than desired length"),or(wr>0,"Requested array length <= 0"),this.strip();var Er,xr,Mr=Dr==="le",zr=new Ar(wr),Or=this.clone();if(Mr){for(xr=0;!Or.isZero();xr++)Er=Or.andln(255),Or.iushrn(8),zr[xr]=Er;for(;xr<wr;xr++)zr[xr]=0}else{for(xr=0;xr<wr-_r;xr++)zr[xr]=0;for(xr=0;!Or.isZero();xr++)Er=Or.andln(255),Or.iushrn(8),zr[wr-xr-1]=Er}return zr},Math.clz32?lr.prototype._countBits=function(Ar){return 32-Math.clz32(Ar)}:lr.prototype._countBits=function(Ar){var Dr=Ar,Tr=0;return Dr>=4096&&(Tr+=13,Dr>>>=13),Dr>=64&&(Tr+=7,Dr>>>=7),Dr>=8&&(Tr+=4,Dr>>>=4),Dr>=2&&(Tr+=2,Dr>>>=2),Tr+Dr},lr.prototype._zeroBits=function(Ar){if(Ar===0)return 26;var Dr=Ar,Tr=0;return!(8191&Dr)&&(Tr+=13,Dr>>>=13),!(127&Dr)&&(Tr+=7,Dr>>>=7),!(15&Dr)&&(Tr+=4,Dr>>>=4),!(3&Dr)&&(Tr+=2,Dr>>>=2),!(1&Dr)&&Tr++,Tr},lr.prototype.bitLength=function(){var Ar=this.words[this.length-1],Dr=this._countBits(Ar);return 26*(this.length-1)+Dr},lr.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ar=0,Dr=0;Dr<this.length;Dr++){var Tr=this._zeroBits(this.words[Dr]);if(Ar+=Tr,Tr!==26)break}return Ar},lr.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},lr.prototype.toTwos=function(Ar){return this.negative!==0?this.abs().inotn(Ar).iaddn(1):this.clone()},lr.prototype.fromTwos=function(Ar){return this.testn(Ar-1)?this.notn(Ar).iaddn(1).ineg():this.clone()},lr.prototype.isNeg=function(){return this.negative!==0},lr.prototype.neg=function(){return this.clone().ineg()},lr.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},lr.prototype.iuor=function(Ar){for(;this.length<Ar.length;)this.words[this.length++]=0;for(var Dr=0;Dr<Ar.length;Dr++)this.words[Dr]=this.words[Dr]|Ar.words[Dr];return this.strip()},lr.prototype.ior=function(Ar){return or((this.negative|Ar.negative)==0),this.iuor(Ar)},lr.prototype.or=function(Ar){return this.length>Ar.length?this.clone().ior(Ar):Ar.clone().ior(this)},lr.prototype.uor=function(Ar){return this.length>Ar.length?this.clone().iuor(Ar):Ar.clone().iuor(this)},lr.prototype.iuand=function(Ar){var Dr;Dr=this.length>Ar.length?Ar:this;for(var Tr=0;Tr<Dr.length;Tr++)this.words[Tr]=this.words[Tr]&Ar.words[Tr];return this.length=Dr.length,this.strip()},lr.prototype.iand=function(Ar){return or((this.negative|Ar.negative)==0),this.iuand(Ar)},lr.prototype.and=function(Ar){return this.length>Ar.length?this.clone().iand(Ar):Ar.clone().iand(this)},lr.prototype.uand=function(Ar){return this.length>Ar.length?this.clone().iuand(Ar):Ar.clone().iuand(this)},lr.prototype.iuxor=function(Ar){var Dr,Tr;this.length>Ar.length?(Dr=this,Tr=Ar):(Dr=Ar,Tr=this);for(var _r=0;_r<Tr.length;_r++)this.words[_r]=Dr.words[_r]^Tr.words[_r];if(this!==Dr)for(;_r<Dr.length;_r++)this.words[_r]=Dr.words[_r];return this.length=Dr.length,this.strip()},lr.prototype.ixor=function(Ar){return or((this.negative|Ar.negative)==0),this.iuxor(Ar)},lr.prototype.xor=function(Ar){return this.length>Ar.length?this.clone().ixor(Ar):Ar.clone().ixor(this)},lr.prototype.uxor=function(Ar){return this.length>Ar.length?this.clone().iuxor(Ar):Ar.clone().iuxor(this)},lr.prototype.inotn=function(Ar){or(typeof Ar=="number"&&Ar>=0);var Dr=0|Math.ceil(Ar/26),Tr=Ar%26;this._expand(Dr),Tr>0&&Dr--;for(var _r=0;_r<Dr;_r++)this.words[_r]=67108863&~this.words[_r];return Tr>0&&(this.words[_r]=~this.words[_r]&67108863>>26-Tr),this.strip()},lr.prototype.notn=function(Ar){return this.clone().inotn(Ar)},lr.prototype.setn=function(Ar,Dr){or(typeof Ar=="number"&&Ar>=0);var Tr=Ar/26|0,_r=Ar%26;return this._expand(Tr+1),this.words[Tr]=Dr?this.words[Tr]|1<<_r:this.words[Tr]&~(1<<_r),this.strip()},lr.prototype.iadd=function(Ar){var Dr,Tr,_r;if(this.negative!==0&&Ar.negative===0)return this.negative=0,Dr=this.isub(Ar),this.negative^=1,this._normSign();if(this.negative===0&&Ar.negative!==0)return Ar.negative=0,Dr=this.isub(Ar),Ar.negative=1,Dr._normSign();this.length>Ar.length?(Tr=this,_r=Ar):(Tr=Ar,_r=this);for(var wr=0,Er=0;Er<_r.length;Er++)Dr=(0|Tr.words[Er])+(0|_r.words[Er])+wr,this.words[Er]=67108863&Dr,wr=Dr>>>26;for(;wr!==0&&Er<Tr.length;Er++)Dr=(0|Tr.words[Er])+wr,this.words[Er]=67108863&Dr,wr=Dr>>>26;if(this.length=Tr.length,wr!==0)this.words[this.length]=wr,this.length++;else if(Tr!==this)for(;Er<Tr.length;Er++)this.words[Er]=Tr.words[Er];return this},lr.prototype.add=function(Ar){var Dr;return Ar.negative!==0&&this.negative===0?(Ar.negative=0,Dr=this.sub(Ar),Ar.negative^=1,Dr):Ar.negative===0&&this.negative!==0?(this.negative=0,Dr=Ar.sub(this),this.negative=1,Dr):this.length>Ar.length?this.clone().iadd(Ar):Ar.clone().iadd(this)},lr.prototype.isub=function(Ar){if(Ar.negative!==0){Ar.negative=0;var Dr=this.iadd(Ar);return Ar.negative=1,Dr._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(Ar),this.negative=1,this._normSign();var Tr,_r,wr=this.cmp(Ar);if(wr===0)return this.negative=0,this.length=1,this.words[0]=0,this;wr>0?(Tr=this,_r=Ar):(Tr=Ar,_r=this);for(var Er=0,xr=0;xr<_r.length;xr++)Er=(Dr=(0|Tr.words[xr])-(0|_r.words[xr])+Er)>>26,this.words[xr]=67108863&Dr;for(;Er!==0&&xr<Tr.length;xr++)Er=(Dr=(0|Tr.words[xr])+Er)>>26,this.words[xr]=67108863&Dr;if(Er===0&&xr<Tr.length&&Tr!==this)for(;xr<Tr.length;xr++)this.words[xr]=Tr.words[xr];return this.length=Math.max(this.length,xr),Tr!==this&&(this.negative=1),this.strip()},lr.prototype.sub=function(Ar){return this.clone().isub(Ar)};var yr=function(Ar,Dr,Tr){var _r,wr,Er,xr=Ar.words,Mr=Dr.words,zr=Tr.words,Or=0,Br=0|xr[0],Ur=8191&Br,qr=Br>>>13,Vr=0|xr[1],Gr=8191&Vr,$r=Vr>>>13,Fr=0|xr[2],Kr=8191&Fr,Zr=Fr>>>13,nn=0|xr[3],Qr=8191&nn,cn=nn>>>13,dn=0|xr[4],en=8191&dn,an=dn>>>13,tn=0|xr[5],sn=8191&tn,fn=tn>>>13,pn=0|xr[6],yn=8191&pn,Cn=pn>>>13,Rn=0|xr[7],En=8191&Rn,zn=Rn>>>13,Bn=0|xr[8],rs=8191&Bn,cs=Bn>>>13,_s=0|xr[9],qn=8191&_s,vs=_s>>>13,fs=0|Mr[0],xs=8191&fs,Vn=fs>>>13,On=0|Mr[1],Mn=8191&On,ds=On>>>13,In=0|Mr[2],ss=8191&In,bn=In>>>13,$n=0|Mr[3],Un=8191&$n,Kn=$n>>>13,hs=0|Mr[4],ps=8191&hs,An=hs>>>13,xn=0|Mr[5],jn=8191&xn,Ln=xn>>>13,Yn=0|Mr[6],Jn=8191&Yn,Sn=Yn>>>13,Dn=0|Mr[7],Wn=8191&Dn,_i=Dn>>>13,Cs=0|Mr[8],us=8191&Cs,ws=Cs>>>13,Ps=0|Mr[9],Ts=8191&Ps,Ls=Ps>>>13;Tr.negative=Ar.negative^Dr.negative,Tr.length=19;var Os=(Or+(_r=Math.imul(Ur,xs))|0)+((8191&(wr=(wr=Math.imul(Ur,Vn))+Math.imul(qr,xs)|0))<<13)|0;Or=((Er=Math.imul(qr,Vn))+(wr>>>13)|0)+(Os>>>26)|0,Os&=67108863,_r=Math.imul(Gr,xs),wr=(wr=Math.imul(Gr,Vn))+Math.imul($r,xs)|0,Er=Math.imul($r,Vn);var zs=(Or+(_r=_r+Math.imul(Ur,Mn)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,ds)|0)+Math.imul(qr,Mn)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,ds)|0)+(wr>>>13)|0)+(zs>>>26)|0,zs&=67108863,_r=Math.imul(Kr,xs),wr=(wr=Math.imul(Kr,Vn))+Math.imul(Zr,xs)|0,Er=Math.imul(Zr,Vn),_r=_r+Math.imul(Gr,Mn)|0,wr=(wr=wr+Math.imul(Gr,ds)|0)+Math.imul($r,Mn)|0,Er=Er+Math.imul($r,ds)|0;var qs=(Or+(_r=_r+Math.imul(Ur,ss)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,bn)|0)+Math.imul(qr,ss)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,bn)|0)+(wr>>>13)|0)+(qs>>>26)|0,qs&=67108863,_r=Math.imul(Qr,xs),wr=(wr=Math.imul(Qr,Vn))+Math.imul(cn,xs)|0,Er=Math.imul(cn,Vn),_r=_r+Math.imul(Kr,Mn)|0,wr=(wr=wr+Math.imul(Kr,ds)|0)+Math.imul(Zr,Mn)|0,Er=Er+Math.imul(Zr,ds)|0,_r=_r+Math.imul(Gr,ss)|0,wr=(wr=wr+Math.imul(Gr,bn)|0)+Math.imul($r,ss)|0,Er=Er+Math.imul($r,bn)|0;var Ys=(Or+(_r=_r+Math.imul(Ur,Un)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,Kn)|0)+Math.imul(qr,Un)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,Kn)|0)+(wr>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,_r=Math.imul(en,xs),wr=(wr=Math.imul(en,Vn))+Math.imul(an,xs)|0,Er=Math.imul(an,Vn),_r=_r+Math.imul(Qr,Mn)|0,wr=(wr=wr+Math.imul(Qr,ds)|0)+Math.imul(cn,Mn)|0,Er=Er+Math.imul(cn,ds)|0,_r=_r+Math.imul(Kr,ss)|0,wr=(wr=wr+Math.imul(Kr,bn)|0)+Math.imul(Zr,ss)|0,Er=Er+Math.imul(Zr,bn)|0,_r=_r+Math.imul(Gr,Un)|0,wr=(wr=wr+Math.imul(Gr,Kn)|0)+Math.imul($r,Un)|0,Er=Er+Math.imul($r,Kn)|0;var $a=(Or+(_r=_r+Math.imul(Ur,ps)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,An)|0)+Math.imul(qr,ps)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,An)|0)+(wr>>>13)|0)+($a>>>26)|0,$a&=67108863,_r=Math.imul(sn,xs),wr=(wr=Math.imul(sn,Vn))+Math.imul(fn,xs)|0,Er=Math.imul(fn,Vn),_r=_r+Math.imul(en,Mn)|0,wr=(wr=wr+Math.imul(en,ds)|0)+Math.imul(an,Mn)|0,Er=Er+Math.imul(an,ds)|0,_r=_r+Math.imul(Qr,ss)|0,wr=(wr=wr+Math.imul(Qr,bn)|0)+Math.imul(cn,ss)|0,Er=Er+Math.imul(cn,bn)|0,_r=_r+Math.imul(Kr,Un)|0,wr=(wr=wr+Math.imul(Kr,Kn)|0)+Math.imul(Zr,Un)|0,Er=Er+Math.imul(Zr,Kn)|0,_r=_r+Math.imul(Gr,ps)|0,wr=(wr=wr+Math.imul(Gr,An)|0)+Math.imul($r,ps)|0,Er=Er+Math.imul($r,An)|0;var eo=(Or+(_r=_r+Math.imul(Ur,jn)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,Ln)|0)+Math.imul(qr,jn)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,Ln)|0)+(wr>>>13)|0)+(eo>>>26)|0,eo&=67108863,_r=Math.imul(yn,xs),wr=(wr=Math.imul(yn,Vn))+Math.imul(Cn,xs)|0,Er=Math.imul(Cn,Vn),_r=_r+Math.imul(sn,Mn)|0,wr=(wr=wr+Math.imul(sn,ds)|0)+Math.imul(fn,Mn)|0,Er=Er+Math.imul(fn,ds)|0,_r=_r+Math.imul(en,ss)|0,wr=(wr=wr+Math.imul(en,bn)|0)+Math.imul(an,ss)|0,Er=Er+Math.imul(an,bn)|0,_r=_r+Math.imul(Qr,Un)|0,wr=(wr=wr+Math.imul(Qr,Kn)|0)+Math.imul(cn,Un)|0,Er=Er+Math.imul(cn,Kn)|0,_r=_r+Math.imul(Kr,ps)|0,wr=(wr=wr+Math.imul(Kr,An)|0)+Math.imul(Zr,ps)|0,Er=Er+Math.imul(Zr,An)|0,_r=_r+Math.imul(Gr,jn)|0,wr=(wr=wr+Math.imul(Gr,Ln)|0)+Math.imul($r,jn)|0,Er=Er+Math.imul($r,Ln)|0;var mo=(Or+(_r=_r+Math.imul(Ur,Jn)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,Sn)|0)+Math.imul(qr,Jn)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,Sn)|0)+(wr>>>13)|0)+(mo>>>26)|0,mo&=67108863,_r=Math.imul(En,xs),wr=(wr=Math.imul(En,Vn))+Math.imul(zn,xs)|0,Er=Math.imul(zn,Vn),_r=_r+Math.imul(yn,Mn)|0,wr=(wr=wr+Math.imul(yn,ds)|0)+Math.imul(Cn,Mn)|0,Er=Er+Math.imul(Cn,ds)|0,_r=_r+Math.imul(sn,ss)|0,wr=(wr=wr+Math.imul(sn,bn)|0)+Math.imul(fn,ss)|0,Er=Er+Math.imul(fn,bn)|0,_r=_r+Math.imul(en,Un)|0,wr=(wr=wr+Math.imul(en,Kn)|0)+Math.imul(an,Un)|0,Er=Er+Math.imul(an,Kn)|0,_r=_r+Math.imul(Qr,ps)|0,wr=(wr=wr+Math.imul(Qr,An)|0)+Math.imul(cn,ps)|0,Er=Er+Math.imul(cn,An)|0,_r=_r+Math.imul(Kr,jn)|0,wr=(wr=wr+Math.imul(Kr,Ln)|0)+Math.imul(Zr,jn)|0,Er=Er+Math.imul(Zr,Ln)|0,_r=_r+Math.imul(Gr,Jn)|0,wr=(wr=wr+Math.imul(Gr,Sn)|0)+Math.imul($r,Jn)|0,Er=Er+Math.imul($r,Sn)|0;var _n=(Or+(_r=_r+Math.imul(Ur,Wn)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,_i)|0)+Math.imul(qr,Wn)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,_i)|0)+(wr>>>13)|0)+(_n>>>26)|0,_n&=67108863,_r=Math.imul(rs,xs),wr=(wr=Math.imul(rs,Vn))+Math.imul(cs,xs)|0,Er=Math.imul(cs,Vn),_r=_r+Math.imul(En,Mn)|0,wr=(wr=wr+Math.imul(En,ds)|0)+Math.imul(zn,Mn)|0,Er=Er+Math.imul(zn,ds)|0,_r=_r+Math.imul(yn,ss)|0,wr=(wr=wr+Math.imul(yn,bn)|0)+Math.imul(Cn,ss)|0,Er=Er+Math.imul(Cn,bn)|0,_r=_r+Math.imul(sn,Un)|0,wr=(wr=wr+Math.imul(sn,Kn)|0)+Math.imul(fn,Un)|0,Er=Er+Math.imul(fn,Kn)|0,_r=_r+Math.imul(en,ps)|0,wr=(wr=wr+Math.imul(en,An)|0)+Math.imul(an,ps)|0,Er=Er+Math.imul(an,An)|0,_r=_r+Math.imul(Qr,jn)|0,wr=(wr=wr+Math.imul(Qr,Ln)|0)+Math.imul(cn,jn)|0,Er=Er+Math.imul(cn,Ln)|0,_r=_r+Math.imul(Kr,Jn)|0,wr=(wr=wr+Math.imul(Kr,Sn)|0)+Math.imul(Zr,Jn)|0,Er=Er+Math.imul(Zr,Sn)|0,_r=_r+Math.imul(Gr,Wn)|0,wr=(wr=wr+Math.imul(Gr,_i)|0)+Math.imul($r,Wn)|0,Er=Er+Math.imul($r,_i)|0;var Hn=(Or+(_r=_r+Math.imul(Ur,us)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,ws)|0)+Math.imul(qr,us)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,ws)|0)+(wr>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,_r=Math.imul(qn,xs),wr=(wr=Math.imul(qn,Vn))+Math.imul(vs,xs)|0,Er=Math.imul(vs,Vn),_r=_r+Math.imul(rs,Mn)|0,wr=(wr=wr+Math.imul(rs,ds)|0)+Math.imul(cs,Mn)|0,Er=Er+Math.imul(cs,ds)|0,_r=_r+Math.imul(En,ss)|0,wr=(wr=wr+Math.imul(En,bn)|0)+Math.imul(zn,ss)|0,Er=Er+Math.imul(zn,bn)|0,_r=_r+Math.imul(yn,Un)|0,wr=(wr=wr+Math.imul(yn,Kn)|0)+Math.imul(Cn,Un)|0,Er=Er+Math.imul(Cn,Kn)|0,_r=_r+Math.imul(sn,ps)|0,wr=(wr=wr+Math.imul(sn,An)|0)+Math.imul(fn,ps)|0,Er=Er+Math.imul(fn,An)|0,_r=_r+Math.imul(en,jn)|0,wr=(wr=wr+Math.imul(en,Ln)|0)+Math.imul(an,jn)|0,Er=Er+Math.imul(an,Ln)|0,_r=_r+Math.imul(Qr,Jn)|0,wr=(wr=wr+Math.imul(Qr,Sn)|0)+Math.imul(cn,Jn)|0,Er=Er+Math.imul(cn,Sn)|0,_r=_r+Math.imul(Kr,Wn)|0,wr=(wr=wr+Math.imul(Kr,_i)|0)+Math.imul(Zr,Wn)|0,Er=Er+Math.imul(Zr,_i)|0,_r=_r+Math.imul(Gr,us)|0,wr=(wr=wr+Math.imul(Gr,ws)|0)+Math.imul($r,us)|0,Er=Er+Math.imul($r,ws)|0;var bs=(Or+(_r=_r+Math.imul(Ur,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Ur,Ls)|0)+Math.imul(qr,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(qr,Ls)|0)+(wr>>>13)|0)+(bs>>>26)|0,bs&=67108863,_r=Math.imul(qn,Mn),wr=(wr=Math.imul(qn,ds))+Math.imul(vs,Mn)|0,Er=Math.imul(vs,ds),_r=_r+Math.imul(rs,ss)|0,wr=(wr=wr+Math.imul(rs,bn)|0)+Math.imul(cs,ss)|0,Er=Er+Math.imul(cs,bn)|0,_r=_r+Math.imul(En,Un)|0,wr=(wr=wr+Math.imul(En,Kn)|0)+Math.imul(zn,Un)|0,Er=Er+Math.imul(zn,Kn)|0,_r=_r+Math.imul(yn,ps)|0,wr=(wr=wr+Math.imul(yn,An)|0)+Math.imul(Cn,ps)|0,Er=Er+Math.imul(Cn,An)|0,_r=_r+Math.imul(sn,jn)|0,wr=(wr=wr+Math.imul(sn,Ln)|0)+Math.imul(fn,jn)|0,Er=Er+Math.imul(fn,Ln)|0,_r=_r+Math.imul(en,Jn)|0,wr=(wr=wr+Math.imul(en,Sn)|0)+Math.imul(an,Jn)|0,Er=Er+Math.imul(an,Sn)|0,_r=_r+Math.imul(Qr,Wn)|0,wr=(wr=wr+Math.imul(Qr,_i)|0)+Math.imul(cn,Wn)|0,Er=Er+Math.imul(cn,_i)|0,_r=_r+Math.imul(Kr,us)|0,wr=(wr=wr+Math.imul(Kr,ws)|0)+Math.imul(Zr,us)|0,Er=Er+Math.imul(Zr,ws)|0;var Es=(Or+(_r=_r+Math.imul(Gr,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Gr,Ls)|0)+Math.imul($r,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul($r,Ls)|0)+(wr>>>13)|0)+(Es>>>26)|0,Es&=67108863,_r=Math.imul(qn,ss),wr=(wr=Math.imul(qn,bn))+Math.imul(vs,ss)|0,Er=Math.imul(vs,bn),_r=_r+Math.imul(rs,Un)|0,wr=(wr=wr+Math.imul(rs,Kn)|0)+Math.imul(cs,Un)|0,Er=Er+Math.imul(cs,Kn)|0,_r=_r+Math.imul(En,ps)|0,wr=(wr=wr+Math.imul(En,An)|0)+Math.imul(zn,ps)|0,Er=Er+Math.imul(zn,An)|0,_r=_r+Math.imul(yn,jn)|0,wr=(wr=wr+Math.imul(yn,Ln)|0)+Math.imul(Cn,jn)|0,Er=Er+Math.imul(Cn,Ln)|0,_r=_r+Math.imul(sn,Jn)|0,wr=(wr=wr+Math.imul(sn,Sn)|0)+Math.imul(fn,Jn)|0,Er=Er+Math.imul(fn,Sn)|0,_r=_r+Math.imul(en,Wn)|0,wr=(wr=wr+Math.imul(en,_i)|0)+Math.imul(an,Wn)|0,Er=Er+Math.imul(an,_i)|0,_r=_r+Math.imul(Qr,us)|0,wr=(wr=wr+Math.imul(Qr,ws)|0)+Math.imul(cn,us)|0,Er=Er+Math.imul(cn,ws)|0;var $s=(Or+(_r=_r+Math.imul(Kr,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Kr,Ls)|0)+Math.imul(Zr,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(Zr,Ls)|0)+(wr>>>13)|0)+($s>>>26)|0,$s&=67108863,_r=Math.imul(qn,Un),wr=(wr=Math.imul(qn,Kn))+Math.imul(vs,Un)|0,Er=Math.imul(vs,Kn),_r=_r+Math.imul(rs,ps)|0,wr=(wr=wr+Math.imul(rs,An)|0)+Math.imul(cs,ps)|0,Er=Er+Math.imul(cs,An)|0,_r=_r+Math.imul(En,jn)|0,wr=(wr=wr+Math.imul(En,Ln)|0)+Math.imul(zn,jn)|0,Er=Er+Math.imul(zn,Ln)|0,_r=_r+Math.imul(yn,Jn)|0,wr=(wr=wr+Math.imul(yn,Sn)|0)+Math.imul(Cn,Jn)|0,Er=Er+Math.imul(Cn,Sn)|0,_r=_r+Math.imul(sn,Wn)|0,wr=(wr=wr+Math.imul(sn,_i)|0)+Math.imul(fn,Wn)|0,Er=Er+Math.imul(fn,_i)|0,_r=_r+Math.imul(en,us)|0,wr=(wr=wr+Math.imul(en,ws)|0)+Math.imul(an,us)|0,Er=Er+Math.imul(an,ws)|0;var Rs=(Or+(_r=_r+Math.imul(Qr,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(Qr,Ls)|0)+Math.imul(cn,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(cn,Ls)|0)+(wr>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,_r=Math.imul(qn,ps),wr=(wr=Math.imul(qn,An))+Math.imul(vs,ps)|0,Er=Math.imul(vs,An),_r=_r+Math.imul(rs,jn)|0,wr=(wr=wr+Math.imul(rs,Ln)|0)+Math.imul(cs,jn)|0,Er=Er+Math.imul(cs,Ln)|0,_r=_r+Math.imul(En,Jn)|0,wr=(wr=wr+Math.imul(En,Sn)|0)+Math.imul(zn,Jn)|0,Er=Er+Math.imul(zn,Sn)|0,_r=_r+Math.imul(yn,Wn)|0,wr=(wr=wr+Math.imul(yn,_i)|0)+Math.imul(Cn,Wn)|0,Er=Er+Math.imul(Cn,_i)|0,_r=_r+Math.imul(sn,us)|0,wr=(wr=wr+Math.imul(sn,ws)|0)+Math.imul(fn,us)|0,Er=Er+Math.imul(fn,ws)|0;var Ns=(Or+(_r=_r+Math.imul(en,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(en,Ls)|0)+Math.imul(an,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(an,Ls)|0)+(wr>>>13)|0)+(Ns>>>26)|0,Ns&=67108863,_r=Math.imul(qn,jn),wr=(wr=Math.imul(qn,Ln))+Math.imul(vs,jn)|0,Er=Math.imul(vs,Ln),_r=_r+Math.imul(rs,Jn)|0,wr=(wr=wr+Math.imul(rs,Sn)|0)+Math.imul(cs,Jn)|0,Er=Er+Math.imul(cs,Sn)|0,_r=_r+Math.imul(En,Wn)|0,wr=(wr=wr+Math.imul(En,_i)|0)+Math.imul(zn,Wn)|0,Er=Er+Math.imul(zn,_i)|0,_r=_r+Math.imul(yn,us)|0,wr=(wr=wr+Math.imul(yn,ws)|0)+Math.imul(Cn,us)|0,Er=Er+Math.imul(Cn,ws)|0;var ba=(Or+(_r=_r+Math.imul(sn,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(sn,Ls)|0)+Math.imul(fn,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(fn,Ls)|0)+(wr>>>13)|0)+(ba>>>26)|0,ba&=67108863,_r=Math.imul(qn,Jn),wr=(wr=Math.imul(qn,Sn))+Math.imul(vs,Jn)|0,Er=Math.imul(vs,Sn),_r=_r+Math.imul(rs,Wn)|0,wr=(wr=wr+Math.imul(rs,_i)|0)+Math.imul(cs,Wn)|0,Er=Er+Math.imul(cs,_i)|0,_r=_r+Math.imul(En,us)|0,wr=(wr=wr+Math.imul(En,ws)|0)+Math.imul(zn,us)|0,Er=Er+Math.imul(zn,ws)|0;var Zs=(Or+(_r=_r+Math.imul(yn,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(yn,Ls)|0)+Math.imul(Cn,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(Cn,Ls)|0)+(wr>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,_r=Math.imul(qn,Wn),wr=(wr=Math.imul(qn,_i))+Math.imul(vs,Wn)|0,Er=Math.imul(vs,_i),_r=_r+Math.imul(rs,us)|0,wr=(wr=wr+Math.imul(rs,ws)|0)+Math.imul(cs,us)|0,Er=Er+Math.imul(cs,ws)|0;var Qs=(Or+(_r=_r+Math.imul(En,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(En,Ls)|0)+Math.imul(zn,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(zn,Ls)|0)+(wr>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,_r=Math.imul(qn,us),wr=(wr=Math.imul(qn,ws))+Math.imul(vs,us)|0,Er=Math.imul(vs,ws);var Hs=(Or+(_r=_r+Math.imul(rs,Ts)|0)|0)+((8191&(wr=(wr=wr+Math.imul(rs,Ls)|0)+Math.imul(cs,Ts)|0))<<13)|0;Or=((Er=Er+Math.imul(cs,Ls)|0)+(wr>>>13)|0)+(Hs>>>26)|0,Hs&=67108863;var no=(Or+(_r=Math.imul(qn,Ts))|0)+((8191&(wr=(wr=Math.imul(qn,Ls))+Math.imul(vs,Ts)|0))<<13)|0;return Or=((Er=Math.imul(vs,Ls))+(wr>>>13)|0)+(no>>>26)|0,no&=67108863,zr[0]=Os,zr[1]=zs,zr[2]=qs,zr[3]=Ys,zr[4]=$a,zr[5]=eo,zr[6]=mo,zr[7]=_n,zr[8]=Hn,zr[9]=bs,zr[10]=Es,zr[11]=$s,zr[12]=Rs,zr[13]=Ns,zr[14]=ba,zr[15]=Zs,zr[16]=Qs,zr[17]=Hs,zr[18]=no,Or!==0&&(zr[19]=Or,Tr.length++),Tr};function vr(Ar,Dr,Tr){return new br().mulp(Ar,Dr,Tr)}function br(Ar,Dr){this.x=Ar,this.y=Dr}Math.imul||(yr=gr),lr.prototype.mulTo=function(Ar,Dr){var Tr=this.length+Ar.length;return this.length===10&&Ar.length===10?yr(this,Ar,Dr):Tr<63?gr(this,Ar,Dr):Tr<1024?function(_r,wr,Er){Er.negative=wr.negative^_r.negative,Er.length=_r.length+wr.length;for(var xr=0,Mr=0,zr=0;zr<Er.length-1;zr++){var Or=Mr;Mr=0;for(var Br=67108863&xr,Ur=Math.min(zr,wr.length-1),qr=Math.max(0,zr-_r.length+1);qr<=Ur;qr++){var Vr=zr-qr,Gr=(0|_r.words[Vr])*(0|wr.words[qr]),$r=67108863&Gr;Br=67108863&($r=$r+Br|0),Mr+=(Or=(Or=Or+(Gr/67108864|0)|0)+($r>>>26)|0)>>>26,Or&=67108863}Er.words[zr]=Br,xr=Or,Or=Mr}return xr!==0?Er.words[zr]=xr:Er.length--,Er.strip()}(this,Ar,Dr):vr(this,Ar,Dr)},br.prototype.makeRBT=function(Ar){for(var Dr=new Array(Ar),Tr=lr.prototype._countBits(Ar)-1,_r=0;_r<Ar;_r++)Dr[_r]=this.revBin(_r,Tr,Ar);return Dr},br.prototype.revBin=function(Ar,Dr,Tr){if(Ar===0||Ar===Tr-1)return Ar;for(var _r=0,wr=0;wr<Dr;wr++)_r|=(1&Ar)<<Dr-wr-1,Ar>>=1;return _r},br.prototype.permute=function(Ar,Dr,Tr,_r,wr,Er){for(var xr=0;xr<Er;xr++)_r[xr]=Dr[Ar[xr]],wr[xr]=Tr[Ar[xr]]},br.prototype.transform=function(Ar,Dr,Tr,_r,wr,Er){this.permute(Er,Ar,Dr,Tr,_r,wr);for(var xr=1;xr<wr;xr<<=1)for(var Mr=xr<<1,zr=Math.cos(2*Math.PI/Mr),Or=Math.sin(2*Math.PI/Mr),Br=0;Br<wr;Br+=Mr)for(var Ur=zr,qr=Or,Vr=0;Vr<xr;Vr++){var Gr=Tr[Br+Vr],$r=_r[Br+Vr],Fr=Tr[Br+Vr+xr],Kr=_r[Br+Vr+xr],Zr=Ur*Fr-qr*Kr;Kr=Ur*Kr+qr*Fr,Fr=Zr,Tr[Br+Vr]=Gr+Fr,_r[Br+Vr]=$r+Kr,Tr[Br+Vr+xr]=Gr-Fr,_r[Br+Vr+xr]=$r-Kr,Vr!==Mr&&(Zr=zr*Ur-Or*qr,qr=zr*qr+Or*Ur,Ur=Zr)}},br.prototype.guessLen13b=function(Ar,Dr){var Tr=1|Math.max(Dr,Ar),_r=1&Tr,wr=0;for(Tr=Tr/2|0;Tr;Tr>>>=1)wr++;return 1<<wr+1+_r},br.prototype.conjugate=function(Ar,Dr,Tr){if(!(Tr<=1))for(var _r=0;_r<Tr/2;_r++){var wr=Ar[_r];Ar[_r]=Ar[Tr-_r-1],Ar[Tr-_r-1]=wr,wr=Dr[_r],Dr[_r]=-Dr[Tr-_r-1],Dr[Tr-_r-1]=-wr}},br.prototype.normalize13b=function(Ar,Dr){for(var Tr=0,_r=0;_r<Dr/2;_r++){var wr=8192*Math.round(Ar[2*_r+1]/Dr)+Math.round(Ar[2*_r]/Dr)+Tr;Ar[_r]=67108863&wr,Tr=wr<67108864?0:wr/67108864|0}return Ar},br.prototype.convert13b=function(Ar,Dr,Tr,_r){for(var wr=0,Er=0;Er<Dr;Er++)wr+=0|Ar[Er],Tr[2*Er]=8191&wr,wr>>>=13,Tr[2*Er+1]=8191&wr,wr>>>=13;for(Er=2*Dr;Er<_r;++Er)Tr[Er]=0;or(wr===0),or((-8192&wr)==0)},br.prototype.stub=function(Ar){for(var Dr=new Array(Ar),Tr=0;Tr<Ar;Tr++)Dr[Tr]=0;return Dr},br.prototype.mulp=function(Ar,Dr,Tr){var _r=2*this.guessLen13b(Ar.length,Dr.length),wr=this.makeRBT(_r),Er=this.stub(_r),xr=new Array(_r),Mr=new Array(_r),zr=new Array(_r),Or=new Array(_r),Br=new Array(_r),Ur=new Array(_r),qr=Tr.words;qr.length=_r,this.convert13b(Ar.words,Ar.length,xr,_r),this.convert13b(Dr.words,Dr.length,Or,_r),this.transform(xr,Er,Mr,zr,_r,wr),this.transform(Or,Er,Br,Ur,_r,wr);for(var Vr=0;Vr<_r;Vr++){var Gr=Mr[Vr]*Br[Vr]-zr[Vr]*Ur[Vr];zr[Vr]=Mr[Vr]*Ur[Vr]+zr[Vr]*Br[Vr],Mr[Vr]=Gr}return this.conjugate(Mr,zr,_r),this.transform(Mr,zr,qr,Er,_r,wr),this.conjugate(qr,Er,_r),this.normalize13b(qr,_r),Tr.negative=Ar.negative^Dr.negative,Tr.length=Ar.length+Dr.length,Tr.strip()},lr.prototype.mul=function(Ar){var Dr=new lr(null);return Dr.words=new Array(this.length+Ar.length),this.mulTo(Ar,Dr)},lr.prototype.mulf=function(Ar){var Dr=new lr(null);return Dr.words=new Array(this.length+Ar.length),vr(this,Ar,Dr)},lr.prototype.imul=function(Ar){return this.clone().mulTo(Ar,this)},lr.prototype.imuln=function(Ar){or(typeof Ar=="number"),or(Ar<67108864);for(var Dr=0,Tr=0;Tr<this.length;Tr++){var _r=(0|this.words[Tr])*Ar,wr=(67108863&_r)+(67108863&Dr);Dr>>=26,Dr+=_r/67108864|0,Dr+=wr>>>26,this.words[Tr]=67108863&wr}return Dr!==0&&(this.words[Tr]=Dr,this.length++),this},lr.prototype.muln=function(Ar){return this.clone().imuln(Ar)},lr.prototype.sqr=function(){return this.mul(this)},lr.prototype.isqr=function(){return this.imul(this.clone())},lr.prototype.pow=function(Ar){var Dr=function(Er){for(var xr=new Array(Er.bitLength()),Mr=0;Mr<xr.length;Mr++){var zr=Mr/26|0,Or=Mr%26;xr[Mr]=(Er.words[zr]&1<<Or)>>>Or}return xr}(Ar);if(Dr.length===0)return new lr(1);for(var Tr=this,_r=0;_r<Dr.length&&Dr[_r]===0;_r++,Tr=Tr.sqr());if(++_r<Dr.length)for(var wr=Tr.sqr();_r<Dr.length;_r++,wr=wr.sqr())Dr[_r]!==0&&(Tr=Tr.mul(wr));return Tr},lr.prototype.iushln=function(Ar){or(typeof Ar=="number"&&Ar>=0);var Dr,Tr=Ar%26,_r=(Ar-Tr)/26,wr=67108863>>>26-Tr<<26-Tr;if(Tr!==0){var Er=0;for(Dr=0;Dr<this.length;Dr++){var xr=this.words[Dr]&wr,Mr=(0|this.words[Dr])-xr<<Tr;this.words[Dr]=Mr|Er,Er=xr>>>26-Tr}Er&&(this.words[Dr]=Er,this.length++)}if(_r!==0){for(Dr=this.length-1;Dr>=0;Dr--)this.words[Dr+_r]=this.words[Dr];for(Dr=0;Dr<_r;Dr++)this.words[Dr]=0;this.length+=_r}return this.strip()},lr.prototype.ishln=function(Ar){return or(this.negative===0),this.iushln(Ar)},lr.prototype.iushrn=function(Ar,Dr,Tr){var _r;or(typeof Ar=="number"&&Ar>=0),_r=Dr?(Dr-Dr%26)/26:0;var wr=Ar%26,Er=Math.min((Ar-wr)/26,this.length),xr=67108863^67108863>>>wr<<wr,Mr=Tr;if(_r-=Er,_r=Math.max(0,_r),Mr){for(var zr=0;zr<Er;zr++)Mr.words[zr]=this.words[zr];Mr.length=Er}if(Er!==0)if(this.length>Er)for(this.length-=Er,zr=0;zr<this.length;zr++)this.words[zr]=this.words[zr+Er];else this.words[0]=0,this.length=1;var Or=0;for(zr=this.length-1;zr>=0&&(Or!==0||zr>=_r);zr--){var Br=0|this.words[zr];this.words[zr]=Or<<26-wr|Br>>>wr,Or=Br&xr}return Mr&&Or!==0&&(Mr.words[Mr.length++]=Or),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},lr.prototype.ishrn=function(Ar,Dr,Tr){return or(this.negative===0),this.iushrn(Ar,Dr,Tr)},lr.prototype.shln=function(Ar){return this.clone().ishln(Ar)},lr.prototype.ushln=function(Ar){return this.clone().iushln(Ar)},lr.prototype.shrn=function(Ar){return this.clone().ishrn(Ar)},lr.prototype.ushrn=function(Ar){return this.clone().iushrn(Ar)},lr.prototype.testn=function(Ar){or(typeof Ar=="number"&&Ar>=0);var Dr=Ar%26,Tr=(Ar-Dr)/26,_r=1<<Dr;return!(this.length<=Tr)&&!!(this.words[Tr]&_r)},lr.prototype.imaskn=function(Ar){or(typeof Ar=="number"&&Ar>=0);var Dr=Ar%26,Tr=(Ar-Dr)/26;if(or(this.negative===0,"imaskn works only with positive numbers"),this.length<=Tr)return this;if(Dr!==0&&Tr++,this.length=Math.min(Tr,this.length),Dr!==0){var _r=67108863^67108863>>>Dr<<Dr;this.words[this.length-1]&=_r}return this.strip()},lr.prototype.maskn=function(Ar){return this.clone().imaskn(Ar)},lr.prototype.iaddn=function(Ar){return or(typeof Ar=="number"),or(Ar<67108864),Ar<0?this.isubn(-Ar):this.negative!==0?this.length===1&&(0|this.words[0])<Ar?(this.words[0]=Ar-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(Ar),this.negative=1,this):this._iaddn(Ar)},lr.prototype._iaddn=function(Ar){this.words[0]+=Ar;for(var Dr=0;Dr<this.length&&this.words[Dr]>=67108864;Dr++)this.words[Dr]-=67108864,Dr===this.length-1?this.words[Dr+1]=1:this.words[Dr+1]++;return this.length=Math.max(this.length,Dr+1),this},lr.prototype.isubn=function(Ar){if(or(typeof Ar=="number"),or(Ar<67108864),Ar<0)return this.iaddn(-Ar);if(this.negative!==0)return this.negative=0,this.iaddn(Ar),this.negative=1,this;if(this.words[0]-=Ar,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Dr=0;Dr<this.length&&this.words[Dr]<0;Dr++)this.words[Dr]+=67108864,this.words[Dr+1]-=1;return this.strip()},lr.prototype.addn=function(Ar){return this.clone().iaddn(Ar)},lr.prototype.subn=function(Ar){return this.clone().isubn(Ar)},lr.prototype.iabs=function(){return this.negative=0,this},lr.prototype.abs=function(){return this.clone().iabs()},lr.prototype._ishlnsubmul=function(Ar,Dr,Tr){var _r,wr,Er=Ar.length+Tr;this._expand(Er);var xr=0;for(_r=0;_r<Ar.length;_r++){wr=(0|this.words[_r+Tr])+xr;var Mr=(0|Ar.words[_r])*Dr;xr=((wr-=67108863&Mr)>>26)-(Mr/67108864|0),this.words[_r+Tr]=67108863&wr}for(;_r<this.length-Tr;_r++)xr=(wr=(0|this.words[_r+Tr])+xr)>>26,this.words[_r+Tr]=67108863&wr;if(xr===0)return this.strip();for(or(xr===-1),xr=0,_r=0;_r<this.length;_r++)xr=(wr=-(0|this.words[_r])+xr)>>26,this.words[_r]=67108863&wr;return this.negative=1,this.strip()},lr.prototype._wordDiv=function(Ar,Dr){var Tr=(this.length,Ar.length),_r=this.clone(),wr=Ar,Er=0|wr.words[wr.length-1];(Tr=26-this._countBits(Er))!==0&&(wr=wr.ushln(Tr),_r.iushln(Tr),Er=0|wr.words[wr.length-1]);var xr,Mr=_r.length-wr.length;if(Dr!=="mod"){(xr=new lr(null)).length=Mr+1,xr.words=new Array(xr.length);for(var zr=0;zr<xr.length;zr++)xr.words[zr]=0}var Or=_r.clone()._ishlnsubmul(wr,1,Mr);Or.negative===0&&(_r=Or,xr&&(xr.words[Mr]=1));for(var Br=Mr-1;Br>=0;Br--){var Ur=67108864*(0|_r.words[wr.length+Br])+(0|_r.words[wr.length+Br-1]);for(Ur=Math.min(Ur/Er|0,67108863),_r._ishlnsubmul(wr,Ur,Br);_r.negative!==0;)Ur--,_r.negative=0,_r._ishlnsubmul(wr,1,Br),_r.isZero()||(_r.negative^=1);xr&&(xr.words[Br]=Ur)}return xr&&xr.strip(),_r.strip(),Dr!=="div"&&Tr!==0&&_r.iushrn(Tr),{div:xr||null,mod:_r}},lr.prototype.divmod=function(Ar,Dr,Tr){return or(!Ar.isZero()),this.isZero()?{div:new lr(0),mod:new lr(0)}:this.negative!==0&&Ar.negative===0?(Er=this.neg().divmod(Ar,Dr),Dr!=="mod"&&(_r=Er.div.neg()),Dr!=="div"&&(wr=Er.mod.neg(),Tr&&wr.negative!==0&&wr.iadd(Ar)),{div:_r,mod:wr}):this.negative===0&&Ar.negative!==0?(Er=this.divmod(Ar.neg(),Dr),Dr!=="mod"&&(_r=Er.div.neg()),{div:_r,mod:Er.mod}):this.negative&Ar.negative?(Er=this.neg().divmod(Ar.neg(),Dr),Dr!=="div"&&(wr=Er.mod.neg(),Tr&&wr.negative!==0&&wr.isub(Ar)),{div:Er.div,mod:wr}):Ar.length>this.length||this.cmp(Ar)<0?{div:new lr(0),mod:this}:Ar.length===1?Dr==="div"?{div:this.divn(Ar.words[0]),mod:null}:Dr==="mod"?{div:null,mod:new lr(this.modn(Ar.words[0]))}:{div:this.divn(Ar.words[0]),mod:new lr(this.modn(Ar.words[0]))}:this._wordDiv(Ar,Dr);var _r,wr,Er},lr.prototype.div=function(Ar){return this.divmod(Ar,"div",!1).div},lr.prototype.mod=function(Ar){return this.divmod(Ar,"mod",!1).mod},lr.prototype.umod=function(Ar){return this.divmod(Ar,"mod",!0).mod},lr.prototype.divRound=function(Ar){var Dr=this.divmod(Ar);if(Dr.mod.isZero())return Dr.div;var Tr=Dr.div.negative!==0?Dr.mod.isub(Ar):Dr.mod,_r=Ar.ushrn(1),wr=Ar.andln(1),Er=Tr.cmp(_r);return Er<0||wr===1&&Er===0?Dr.div:Dr.div.negative!==0?Dr.div.isubn(1):Dr.div.iaddn(1)},lr.prototype.modn=function(Ar){or(Ar<=67108863);for(var Dr=(1<<26)%Ar,Tr=0,_r=this.length-1;_r>=0;_r--)Tr=(Dr*Tr+(0|this.words[_r]))%Ar;return Tr},lr.prototype.idivn=function(Ar){or(Ar<=67108863);for(var Dr=0,Tr=this.length-1;Tr>=0;Tr--){var _r=(0|this.words[Tr])+67108864*Dr;this.words[Tr]=_r/Ar|0,Dr=_r%Ar}return this.strip()},lr.prototype.divn=function(Ar){return this.clone().idivn(Ar)},lr.prototype.egcd=function(Ar){or(Ar.negative===0),or(!Ar.isZero());var Dr=this,Tr=Ar.clone();Dr=Dr.negative!==0?Dr.umod(Ar):Dr.clone();for(var _r=new lr(1),wr=new lr(0),Er=new lr(0),xr=new lr(1),Mr=0;Dr.isEven()&&Tr.isEven();)Dr.iushrn(1),Tr.iushrn(1),++Mr;for(var zr=Tr.clone(),Or=Dr.clone();!Dr.isZero();){for(var Br=0,Ur=1;!(Dr.words[0]&Ur)&&Br<26;++Br,Ur<<=1);if(Br>0)for(Dr.iushrn(Br);Br-- >0;)(_r.isOdd()||wr.isOdd())&&(_r.iadd(zr),wr.isub(Or)),_r.iushrn(1),wr.iushrn(1);for(var qr=0,Vr=1;!(Tr.words[0]&Vr)&&qr<26;++qr,Vr<<=1);if(qr>0)for(Tr.iushrn(qr);qr-- >0;)(Er.isOdd()||xr.isOdd())&&(Er.iadd(zr),xr.isub(Or)),Er.iushrn(1),xr.iushrn(1);Dr.cmp(Tr)>=0?(Dr.isub(Tr),_r.isub(Er),wr.isub(xr)):(Tr.isub(Dr),Er.isub(_r),xr.isub(wr))}return{a:Er,b:xr,gcd:Tr.iushln(Mr)}},lr.prototype._invmp=function(Ar){or(Ar.negative===0),or(!Ar.isZero());var Dr=this,Tr=Ar.clone();Dr=Dr.negative!==0?Dr.umod(Ar):Dr.clone();for(var _r,wr=new lr(1),Er=new lr(0),xr=Tr.clone();Dr.cmpn(1)>0&&Tr.cmpn(1)>0;){for(var Mr=0,zr=1;!(Dr.words[0]&zr)&&Mr<26;++Mr,zr<<=1);if(Mr>0)for(Dr.iushrn(Mr);Mr-- >0;)wr.isOdd()&&wr.iadd(xr),wr.iushrn(1);for(var Or=0,Br=1;!(Tr.words[0]&Br)&&Or<26;++Or,Br<<=1);if(Or>0)for(Tr.iushrn(Or);Or-- >0;)Er.isOdd()&&Er.iadd(xr),Er.iushrn(1);Dr.cmp(Tr)>=0?(Dr.isub(Tr),wr.isub(Er)):(Tr.isub(Dr),Er.isub(wr))}return(_r=Dr.cmpn(1)===0?wr:Er).cmpn(0)<0&&_r.iadd(Ar),_r},lr.prototype.gcd=function(Ar){if(this.isZero())return Ar.abs();if(Ar.isZero())return this.abs();var Dr=this.clone(),Tr=Ar.clone();Dr.negative=0,Tr.negative=0;for(var _r=0;Dr.isEven()&&Tr.isEven();_r++)Dr.iushrn(1),Tr.iushrn(1);for(;;){for(;Dr.isEven();)Dr.iushrn(1);for(;Tr.isEven();)Tr.iushrn(1);var wr=Dr.cmp(Tr);if(wr<0){var Er=Dr;Dr=Tr,Tr=Er}else if(wr===0||Tr.cmpn(1)===0)break;Dr.isub(Tr)}return Tr.iushln(_r)},lr.prototype.invm=function(Ar){return this.egcd(Ar).a.umod(Ar)},lr.prototype.isEven=function(){return(1&this.words[0])==0},lr.prototype.isOdd=function(){return(1&this.words[0])==1},lr.prototype.andln=function(Ar){return this.words[0]&Ar},lr.prototype.bincn=function(Ar){or(typeof Ar=="number");var Dr=Ar%26,Tr=(Ar-Dr)/26,_r=1<<Dr;if(this.length<=Tr)return this._expand(Tr+1),this.words[Tr]|=_r,this;for(var wr=_r,Er=Tr;wr!==0&&Er<this.length;Er++){var xr=0|this.words[Er];wr=(xr+=wr)>>>26,xr&=67108863,this.words[Er]=xr}return wr!==0&&(this.words[Er]=wr,this.length++),this},lr.prototype.isZero=function(){return this.length===1&&this.words[0]===0},lr.prototype.cmpn=function(Ar){var Dr,Tr=Ar<0;if(this.negative!==0&&!Tr)return-1;if(this.negative===0&&Tr)return 1;if(this.strip(),this.length>1)Dr=1;else{Tr&&(Ar=-Ar),or(Ar<=67108863,"Number is too big");var _r=0|this.words[0];Dr=_r===Ar?0:_r<Ar?-1:1}return this.negative!==0?0|-Dr:Dr},lr.prototype.cmp=function(Ar){if(this.negative!==0&&Ar.negative===0)return-1;if(this.negative===0&&Ar.negative!==0)return 1;var Dr=this.ucmp(Ar);return this.negative!==0?0|-Dr:Dr},lr.prototype.ucmp=function(Ar){if(this.length>Ar.length)return 1;if(this.length<Ar.length)return-1;for(var Dr=0,Tr=this.length-1;Tr>=0;Tr--){var _r=0|this.words[Tr],wr=0|Ar.words[Tr];if(_r!==wr){_r<wr?Dr=-1:_r>wr&&(Dr=1);break}}return Dr},lr.prototype.gtn=function(Ar){return this.cmpn(Ar)===1},lr.prototype.gt=function(Ar){return this.cmp(Ar)===1},lr.prototype.gten=function(Ar){return this.cmpn(Ar)>=0},lr.prototype.gte=function(Ar){return this.cmp(Ar)>=0},lr.prototype.ltn=function(Ar){return this.cmpn(Ar)===-1},lr.prototype.lt=function(Ar){return this.cmp(Ar)===-1},lr.prototype.lten=function(Ar){return this.cmpn(Ar)<=0},lr.prototype.lte=function(Ar){return this.cmp(Ar)<=0},lr.prototype.eqn=function(Ar){return this.cmpn(Ar)===0},lr.prototype.eq=function(Ar){return this.cmp(Ar)===0},lr.red=function(Ar){return new Ir(Ar)},lr.prototype.toRed=function(Ar){return or(!this.red,"Already a number in reduction context"),or(this.negative===0,"red works only with positives"),Ar.convertTo(this)._forceRed(Ar)},lr.prototype.fromRed=function(){return or(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},lr.prototype._forceRed=function(Ar){return this.red=Ar,this},lr.prototype.forceRed=function(Ar){return or(!this.red,"Already a number in reduction context"),this._forceRed(Ar)},lr.prototype.redAdd=function(Ar){return or(this.red,"redAdd works only with red numbers"),this.red.add(this,Ar)},lr.prototype.redIAdd=function(Ar){return or(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ar)},lr.prototype.redSub=function(Ar){return or(this.red,"redSub works only with red numbers"),this.red.sub(this,Ar)},lr.prototype.redISub=function(Ar){return or(this.red,"redISub works only with red numbers"),this.red.isub(this,Ar)},lr.prototype.redShl=function(Ar){return or(this.red,"redShl works only with red numbers"),this.red.shl(this,Ar)},lr.prototype.redMul=function(Ar){return or(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ar),this.red.mul(this,Ar)},lr.prototype.redIMul=function(Ar){return or(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ar),this.red.imul(this,Ar)},lr.prototype.redSqr=function(){return or(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},lr.prototype.redISqr=function(){return or(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},lr.prototype.redSqrt=function(){return or(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},lr.prototype.redInvm=function(){return or(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},lr.prototype.redNeg=function(){return or(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},lr.prototype.redPow=function(Ar){return or(this.red&&!Ar.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ar)};var Sr={k256:null,p224:null,p192:null,p25519:null};function jr(Ar,Dr){this.name=Ar,this.p=new lr(Dr,16),this.n=this.p.bitLength(),this.k=new lr(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Cr(){jr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Pr(){jr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Rr(){jr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Lr(){jr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Ir(Ar){if(typeof Ar=="string"){var Dr=lr._prime(Ar);this.m=Dr.p,this.prime=Dr}else or(Ar.gtn(1),"modulus must be greater than 1"),this.m=Ar,this.prime=null}function Nr(Ar){Ir.call(this,Ar),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new lr(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}jr.prototype._tmp=function(){var Ar=new lr(null);return Ar.words=new Array(Math.ceil(this.n/13)),Ar},jr.prototype.ireduce=function(Ar){var Dr,Tr=Ar;do this.split(Tr,this.tmp),Dr=(Tr=(Tr=this.imulK(Tr)).iadd(this.tmp)).bitLength();while(Dr>this.n);var _r=Dr<this.n?-1:Tr.ucmp(this.p);return _r===0?(Tr.words[0]=0,Tr.length=1):_r>0?Tr.isub(this.p):Tr.strip!==void 0?Tr.strip():Tr._strip(),Tr},jr.prototype.split=function(Ar,Dr){Ar.iushrn(this.n,0,Dr)},jr.prototype.imulK=function(Ar){return Ar.imul(this.k)},ar(Cr,jr),Cr.prototype.split=function(Ar,Dr){for(var Tr=Math.min(Ar.length,9),_r=0;_r<Tr;_r++)Dr.words[_r]=Ar.words[_r];if(Dr.length=Tr,Ar.length<=9)return Ar.words[0]=0,void(Ar.length=1);var wr=Ar.words[9];for(Dr.words[Dr.length++]=4194303&wr,_r=10;_r<Ar.length;_r++){var Er=0|Ar.words[_r];Ar.words[_r-10]=(4194303&Er)<<4|wr>>>22,wr=Er}wr>>>=22,Ar.words[_r-10]=wr,wr===0&&Ar.length>10?Ar.length-=10:Ar.length-=9},Cr.prototype.imulK=function(Ar){Ar.words[Ar.length]=0,Ar.words[Ar.length+1]=0,Ar.length+=2;for(var Dr=0,Tr=0;Tr<Ar.length;Tr++){var _r=0|Ar.words[Tr];Dr+=977*_r,Ar.words[Tr]=67108863&Dr,Dr=64*_r+(Dr/67108864|0)}return Ar.words[Ar.length-1]===0&&(Ar.length--,Ar.words[Ar.length-1]===0&&Ar.length--),Ar},ar(Pr,jr),ar(Rr,jr),ar(Lr,jr),Lr.prototype.imulK=function(Ar){for(var Dr=0,Tr=0;Tr<Ar.length;Tr++){var _r=19*(0|Ar.words[Tr])+Dr,wr=67108863&_r;_r>>>=26,Ar.words[Tr]=wr,Dr=_r}return Dr!==0&&(Ar.words[Ar.length++]=Dr),Ar},lr._prime=function(Ar){if(Sr[Ar])return Sr[Ar];var Dr;if(Ar==="k256")Dr=new Cr;else if(Ar==="p224")Dr=new Pr;else if(Ar==="p192")Dr=new Rr;else{if(Ar!=="p25519")throw new Error("Unknown prime "+Ar);Dr=new Lr}return Sr[Ar]=Dr,Dr},Ir.prototype._verify1=function(Ar){or(Ar.negative===0,"red works only with positives"),or(Ar.red,"red works only with red numbers")},Ir.prototype._verify2=function(Ar,Dr){or((Ar.negative|Dr.negative)==0,"red works only with positives"),or(Ar.red&&Ar.red===Dr.red,"red works only with red numbers")},Ir.prototype.imod=function(Ar){return this.prime?this.prime.ireduce(Ar)._forceRed(this):Ar.umod(this.m)._forceRed(this)},Ir.prototype.neg=function(Ar){return Ar.isZero()?Ar.clone():this.m.sub(Ar)._forceRed(this)},Ir.prototype.add=function(Ar,Dr){this._verify2(Ar,Dr);var Tr=Ar.add(Dr);return Tr.cmp(this.m)>=0&&Tr.isub(this.m),Tr._forceRed(this)},Ir.prototype.iadd=function(Ar,Dr){this._verify2(Ar,Dr);var Tr=Ar.iadd(Dr);return Tr.cmp(this.m)>=0&&Tr.isub(this.m),Tr},Ir.prototype.sub=function(Ar,Dr){this._verify2(Ar,Dr);var Tr=Ar.sub(Dr);return Tr.cmpn(0)<0&&Tr.iadd(this.m),Tr._forceRed(this)},Ir.prototype.isub=function(Ar,Dr){this._verify2(Ar,Dr);var Tr=Ar.isub(Dr);return Tr.cmpn(0)<0&&Tr.iadd(this.m),Tr},Ir.prototype.shl=function(Ar,Dr){return this._verify1(Ar),this.imod(Ar.ushln(Dr))},Ir.prototype.imul=function(Ar,Dr){return this._verify2(Ar,Dr),this.imod(Ar.imul(Dr))},Ir.prototype.mul=function(Ar,Dr){return this._verify2(Ar,Dr),this.imod(Ar.mul(Dr))},Ir.prototype.isqr=function(Ar){return this.imul(Ar,Ar.clone())},Ir.prototype.sqr=function(Ar){return this.mul(Ar,Ar)},Ir.prototype.sqrt=function(Ar){if(Ar.isZero())return Ar.clone();var Dr=this.m.andln(3);if(or(Dr%2==1),Dr===3){var Tr=this.m.add(new lr(1)).iushrn(2);return this.pow(Ar,Tr)}for(var _r=this.m.subn(1),wr=0;!_r.isZero()&&_r.andln(1)===0;)wr++,_r.iushrn(1);or(!_r.isZero());var Er=new lr(1).toRed(this),xr=Er.redNeg(),Mr=this.m.subn(1).iushrn(1),zr=this.m.bitLength();for(zr=new lr(2*zr*zr).toRed(this);this.pow(zr,Mr).cmp(xr)!==0;)zr.redIAdd(xr);for(var Or=this.pow(zr,_r),Br=this.pow(Ar,_r.addn(1).iushrn(1)),Ur=this.pow(Ar,_r),qr=wr;Ur.cmp(Er)!==0;){for(var Vr=Ur,Gr=0;Vr.cmp(Er)!==0;Gr++)Vr=Vr.redSqr();or(Gr<qr);var $r=this.pow(Or,new lr(1).iushln(qr-Gr-1));Br=Br.redMul($r),Or=$r.redSqr(),Ur=Ur.redMul(Or),qr=Gr}return Br},Ir.prototype.invm=function(Ar){var Dr=Ar._invmp(this.m);return Dr.negative!==0?(Dr.negative=0,this.imod(Dr).redNeg()):this.imod(Dr)},Ir.prototype.pow=function(Ar,Dr){if(Dr.isZero())return new lr(1).toRed(this);if(Dr.cmpn(1)===0)return Ar.clone();var Tr=new Array(16);Tr[0]=new lr(1).toRed(this),Tr[1]=Ar;for(var _r=2;_r<Tr.length;_r++)Tr[_r]=this.mul(Tr[_r-1],Ar);var wr=Tr[0],Er=0,xr=0,Mr=Dr.bitLength()%26;for(Mr===0&&(Mr=26),_r=Dr.length-1;_r>=0;_r--){for(var zr=Dr.words[_r],Or=Mr-1;Or>=0;Or--){var Br=zr>>Or&1;wr!==Tr[0]&&(wr=this.sqr(wr)),Br!==0||Er!==0?(Er<<=1,Er|=Br,(++xr===4||_r===0&&Or===0)&&(wr=this.mul(wr,Tr[Er]),xr=0,Er=0)):xr=0}Mr=26}return wr},Ir.prototype.convertTo=function(Ar){var Dr=Ar.umod(this.m);return Dr===Ar?Dr.clone():Dr},Ir.prototype.convertFrom=function(Ar){var Dr=Ar.clone();return Dr.red=null,Dr},lr.mont=function(Ar){return new Nr(Ar)},ar(Nr,Ir),Nr.prototype.convertTo=function(Ar){return this.imod(Ar.ushln(this.shift))},Nr.prototype.convertFrom=function(Ar){var Dr=this.imod(Ar.mul(this.rinv));return Dr.red=null,Dr},Nr.prototype.imul=function(Ar,Dr){if(Ar.isZero()||Dr.isZero())return Ar.words[0]=0,Ar.length=1,Ar;var Tr=Ar.imul(Dr),_r=Tr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wr=Tr.isub(_r).iushrn(this.shift),Er=wr;return wr.cmp(this.m)>=0?Er=wr.isub(this.m):wr.cmpn(0)<0&&(Er=wr.iadd(this.m)),Er._forceRed(this)},Nr.prototype.mul=function(Ar,Dr){if(Ar.isZero()||Dr.isZero())return new lr(0)._forceRed(this);var Tr=Ar.mul(Dr),_r=Tr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wr=Tr.isub(_r).iushrn(this.shift),Er=wr;return wr.cmp(this.m)>=0?Er=wr.isub(this.m):wr.cmpn(0)<0&&(Er=wr.iadd(this.m)),Er._forceRed(this)},Nr.prototype.invm=function(Ar){return this.imod(Ar._invmp(this.m).mul(this.r2))._forceRed(this)}})(rr===void 0||rr)},{buffer:188}],185:[function(tr,rr,nr){nr.byteLength=function(ur){var pr=dr(ur),mr=pr[0],fr=pr[1];return 3*(mr+fr)/4-fr},nr.toByteArray=function(ur){var pr,mr,fr=dr(ur),gr=fr[0],yr=fr[1],vr=new or(function(jr,Cr,Pr){return 3*(Cr+Pr)/4-Pr}(0,gr,yr)),br=0,Sr=yr>0?gr-4:gr;for(mr=0;mr<Sr;mr+=4)pr=sr[ur.charCodeAt(mr)]<<18|sr[ur.charCodeAt(mr+1)]<<12|sr[ur.charCodeAt(mr+2)]<<6|sr[ur.charCodeAt(mr+3)],vr[br++]=pr>>16&255,vr[br++]=pr>>8&255,vr[br++]=255&pr;return yr===2&&(pr=sr[ur.charCodeAt(mr)]<<2|sr[ur.charCodeAt(mr+1)]>>4,vr[br++]=255&pr),yr===1&&(pr=sr[ur.charCodeAt(mr)]<<10|sr[ur.charCodeAt(mr+1)]<<4|sr[ur.charCodeAt(mr+2)]>>2,vr[br++]=pr>>8&255,vr[br++]=255&pr),vr},nr.fromByteArray=function(ur){for(var pr,mr=ur.length,fr=mr%3,gr=[],yr=0,vr=mr-fr;yr<vr;yr+=16383)gr.push(hr(ur,yr,yr+16383>vr?vr:yr+16383));return fr===1?(pr=ur[mr-1],gr.push(ir[pr>>2]+ir[pr<<4&63]+"==")):fr===2&&(pr=(ur[mr-2]<<8)+ur[mr-1],gr.push(ir[pr>>10]+ir[pr>>4&63]+ir[pr<<2&63]+"=")),gr.join("")};for(var ir=[],sr=[],or=typeof Uint8Array<"u"?Uint8Array:Array,ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lr=0,cr=ar.length;lr<cr;++lr)ir[lr]=ar[lr],sr[ar.charCodeAt(lr)]=lr;function dr(ur){var pr=ur.length;if(pr%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var mr=ur.indexOf("=");return mr===-1&&(mr=pr),[mr,mr===pr?0:4-mr%4]}function hr(ur,pr,mr){for(var fr,gr,yr=[],vr=pr;vr<mr;vr+=3)fr=(ur[vr]<<16&16711680)+(ur[vr+1]<<8&65280)+(255&ur[vr+2]),yr.push(ir[(gr=fr)>>18&63]+ir[gr>>12&63]+ir[gr>>6&63]+ir[63&gr]);return yr.join("")}sr[45]=62,sr[95]=63},{}],186:[function(tr,rr,nr){(function(ir,sr){function or(Tr,_r){if(!Tr)throw new Error(_r||"Assertion failed")}function ar(Tr,_r){Tr.super_=_r;var wr=function(){};wr.prototype=_r.prototype,Tr.prototype=new wr,Tr.prototype.constructor=Tr}function lr(Tr,_r,wr){if(lr.isBN(Tr))return Tr;this.negative=0,this.words=null,this.length=0,this.red=null,Tr!==null&&(_r!=="le"&&_r!=="be"||(wr=_r,_r=10),this._init(Tr||0,_r||10,wr||"be"))}var cr;typeof ir=="object"?ir.exports=lr:(void 0).BN=lr,lr.BN=lr,lr.wordSize=26;try{cr=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:tr("buffer").Buffer}catch{}function dr(Tr,_r){var wr=Tr.charCodeAt(_r);return wr>=48&&wr<=57?wr-48:wr>=65&&wr<=70?wr-55:wr>=97&&wr<=102?wr-87:void or(!1,"Invalid character in "+Tr)}function hr(Tr,_r,wr){var Er=dr(Tr,wr);return wr-1>=_r&&(Er|=dr(Tr,wr-1)<<4),Er}function ur(Tr,_r,wr,Er){for(var xr=0,Mr=0,zr=Math.min(Tr.length,wr),Or=_r;Or<zr;Or++){var Br=Tr.charCodeAt(Or)-48;xr*=Er,Mr=Br>=49?Br-49+10:Br>=17?Br-17+10:Br,or(Br>=0&&Mr<Er,"Invalid character"),xr+=Mr}return xr}function pr(Tr,_r){Tr.words=_r.words,Tr.length=_r.length,Tr.negative=_r.negative,Tr.red=_r.red}if(lr.isBN=function(Tr){return Tr instanceof lr||Tr!==null&&typeof Tr=="object"&&Tr.constructor.wordSize===lr.wordSize&&Array.isArray(Tr.words)},lr.max=function(Tr,_r){return Tr.cmp(_r)>0?Tr:_r},lr.min=function(Tr,_r){return Tr.cmp(_r)<0?Tr:_r},lr.prototype._init=function(Tr,_r,wr){if(typeof Tr=="number")return this._initNumber(Tr,_r,wr);if(typeof Tr=="object")return this._initArray(Tr,_r,wr);_r==="hex"&&(_r=16),or(_r===(0|_r)&&_r>=2&&_r<=36);var Er=0;(Tr=Tr.toString().replace(/\s+/g,""))[0]==="-"&&(Er++,this.negative=1),Er<Tr.length&&(_r===16?this._parseHex(Tr,Er,wr):(this._parseBase(Tr,_r,Er),wr==="le"&&this._initArray(this.toArray(),_r,wr)))},lr.prototype._initNumber=function(Tr,_r,wr){Tr<0&&(this.negative=1,Tr=-Tr),Tr<67108864?(this.words=[67108863&Tr],this.length=1):Tr<4503599627370496?(this.words=[67108863&Tr,Tr/67108864&67108863],this.length=2):(or(Tr<9007199254740992),this.words=[67108863&Tr,Tr/67108864&67108863,1],this.length=3),wr==="le"&&this._initArray(this.toArray(),_r,wr)},lr.prototype._initArray=function(Tr,_r,wr){if(or(typeof Tr.length=="number"),Tr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Tr.length/3),this.words=new Array(this.length);for(var Er=0;Er<this.length;Er++)this.words[Er]=0;var xr,Mr,zr=0;if(wr==="be")for(Er=Tr.length-1,xr=0;Er>=0;Er-=3)Mr=Tr[Er]|Tr[Er-1]<<8|Tr[Er-2]<<16,this.words[xr]|=Mr<<zr&67108863,this.words[xr+1]=Mr>>>26-zr&67108863,(zr+=24)>=26&&(zr-=26,xr++);else if(wr==="le")for(Er=0,xr=0;Er<Tr.length;Er+=3)Mr=Tr[Er]|Tr[Er+1]<<8|Tr[Er+2]<<16,this.words[xr]|=Mr<<zr&67108863,this.words[xr+1]=Mr>>>26-zr&67108863,(zr+=24)>=26&&(zr-=26,xr++);return this._strip()},lr.prototype._parseHex=function(Tr,_r,wr){this.length=Math.ceil((Tr.length-_r)/6),this.words=new Array(this.length);for(var Er=0;Er<this.length;Er++)this.words[Er]=0;var xr,Mr=0,zr=0;if(wr==="be")for(Er=Tr.length-1;Er>=_r;Er-=2)xr=hr(Tr,_r,Er)<<Mr,this.words[zr]|=67108863&xr,Mr>=18?(Mr-=18,zr+=1,this.words[zr]|=xr>>>26):Mr+=8;else for(Er=(Tr.length-_r)%2==0?_r+1:_r;Er<Tr.length;Er+=2)xr=hr(Tr,_r,Er)<<Mr,this.words[zr]|=67108863&xr,Mr>=18?(Mr-=18,zr+=1,this.words[zr]|=xr>>>26):Mr+=8;this._strip()},lr.prototype._parseBase=function(Tr,_r,wr){this.words=[0],this.length=1;for(var Er=0,xr=1;xr<=67108863;xr*=_r)Er++;Er--,xr=xr/_r|0;for(var Mr=Tr.length-wr,zr=Mr%Er,Or=Math.min(Mr,Mr-zr)+wr,Br=0,Ur=wr;Ur<Or;Ur+=Er)Br=ur(Tr,Ur,Ur+Er,_r),this.imuln(xr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(zr!==0){var qr=1;for(Br=ur(Tr,Ur,Tr.length,_r),Ur=0;Ur<zr;Ur++)qr*=_r;this.imuln(qr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},lr.prototype.copy=function(Tr){Tr.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)Tr.words[_r]=this.words[_r];Tr.length=this.length,Tr.negative=this.negative,Tr.red=this.red},lr.prototype._move=function(Tr){pr(Tr,this)},lr.prototype.clone=function(){var Tr=new lr(null);return this.copy(Tr),Tr},lr.prototype._expand=function(Tr){for(;this.length<Tr;)this.words[this.length++]=0;return this},lr.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},lr.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{lr.prototype[Symbol.for("nodejs.util.inspect.custom")]=mr}catch{lr.prototype.inspect=mr}else lr.prototype.inspect=mr;function mr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],gr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];lr.prototype.toString=function(Tr,_r){var wr;if(_r=0|_r||1,(Tr=Tr||10)===16||Tr==="hex"){wr="";for(var Er=0,xr=0,Mr=0;Mr<this.length;Mr++){var zr=this.words[Mr],Or=(16777215&(zr<<Er|xr)).toString(16);xr=zr>>>24-Er&16777215,(Er+=2)>=26&&(Er-=26,Mr--),wr=xr!==0||Mr!==this.length-1?fr[6-Or.length]+Or+wr:Or+wr}for(xr!==0&&(wr=xr.toString(16)+wr);wr.length%_r!=0;)wr="0"+wr;return this.negative!==0&&(wr="-"+wr),wr}if(Tr===(0|Tr)&&Tr>=2&&Tr<=36){var Br=gr[Tr],Ur=yr[Tr];wr="";var qr=this.clone();for(qr.negative=0;!qr.isZero();){var Vr=qr.modrn(Ur).toString(Tr);wr=(qr=qr.idivn(Ur)).isZero()?Vr+wr:fr[Br-Vr.length]+Vr+wr}for(this.isZero()&&(wr="0"+wr);wr.length%_r!=0;)wr="0"+wr;return this.negative!==0&&(wr="-"+wr),wr}or(!1,"Base should be between 2 and 36")},lr.prototype.toNumber=function(){var Tr=this.words[0];return this.length===2?Tr+=67108864*this.words[1]:this.length===3&&this.words[2]===1?Tr+=4503599627370496+67108864*this.words[1]:this.length>2&&or(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Tr:Tr},lr.prototype.toJSON=function(){return this.toString(16,2)},cr&&(lr.prototype.toBuffer=function(Tr,_r){return this.toArrayLike(cr,Tr,_r)}),lr.prototype.toArray=function(Tr,_r){return this.toArrayLike(Array,Tr,_r)};function vr(Tr,_r,wr){wr.negative=_r.negative^Tr.negative;var Er=Tr.length+_r.length|0;wr.length=Er,Er=Er-1|0;var xr=0|Tr.words[0],Mr=0|_r.words[0],zr=xr*Mr,Or=67108863&zr,Br=zr/67108864|0;wr.words[0]=Or;for(var Ur=1;Ur<Er;Ur++){for(var qr=Br>>>26,Vr=67108863&Br,Gr=Math.min(Ur,_r.length-1),$r=Math.max(0,Ur-Tr.length+1);$r<=Gr;$r++){var Fr=Ur-$r|0;qr+=(zr=(xr=0|Tr.words[Fr])*(Mr=0|_r.words[$r])+Vr)/67108864|0,Vr=67108863&zr}wr.words[Ur]=0|Vr,Br=0|qr}return Br!==0?wr.words[Ur]=0|Br:wr.length--,wr._strip()}lr.prototype.toArrayLike=function(Tr,_r,wr){this._strip();var Er=this.byteLength(),xr=wr||Math.max(1,Er);or(Er<=xr,"byte array longer than desired length"),or(xr>0,"Requested array length <= 0");var Mr=function(zr,Or){return zr.allocUnsafe?zr.allocUnsafe(Or):new zr(Or)}(Tr,xr);return this["_toArrayLike"+(_r==="le"?"LE":"BE")](Mr,Er),Mr},lr.prototype._toArrayLikeLE=function(Tr,_r){for(var wr=0,Er=0,xr=0,Mr=0;xr<this.length;xr++){var zr=this.words[xr]<<Mr|Er;Tr[wr++]=255&zr,wr<Tr.length&&(Tr[wr++]=zr>>8&255),wr<Tr.length&&(Tr[wr++]=zr>>16&255),Mr===6?(wr<Tr.length&&(Tr[wr++]=zr>>24&255),Er=0,Mr=0):(Er=zr>>>24,Mr+=2)}if(wr<Tr.length)for(Tr[wr++]=Er;wr<Tr.length;)Tr[wr++]=0},lr.prototype._toArrayLikeBE=function(Tr,_r){for(var wr=Tr.length-1,Er=0,xr=0,Mr=0;xr<this.length;xr++){var zr=this.words[xr]<<Mr|Er;Tr[wr--]=255&zr,wr>=0&&(Tr[wr--]=zr>>8&255),wr>=0&&(Tr[wr--]=zr>>16&255),Mr===6?(wr>=0&&(Tr[wr--]=zr>>24&255),Er=0,Mr=0):(Er=zr>>>24,Mr+=2)}if(wr>=0)for(Tr[wr--]=Er;wr>=0;)Tr[wr--]=0},Math.clz32?lr.prototype._countBits=function(Tr){return 32-Math.clz32(Tr)}:lr.prototype._countBits=function(Tr){var _r=Tr,wr=0;return _r>=4096&&(wr+=13,_r>>>=13),_r>=64&&(wr+=7,_r>>>=7),_r>=8&&(wr+=4,_r>>>=4),_r>=2&&(wr+=2,_r>>>=2),wr+_r},lr.prototype._zeroBits=function(Tr){if(Tr===0)return 26;var _r=Tr,wr=0;return!(8191&_r)&&(wr+=13,_r>>>=13),!(127&_r)&&(wr+=7,_r>>>=7),!(15&_r)&&(wr+=4,_r>>>=4),!(3&_r)&&(wr+=2,_r>>>=2),!(1&_r)&&wr++,wr},lr.prototype.bitLength=function(){var Tr=this.words[this.length-1],_r=this._countBits(Tr);return 26*(this.length-1)+_r},lr.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Tr=0,_r=0;_r<this.length;_r++){var wr=this._zeroBits(this.words[_r]);if(Tr+=wr,wr!==26)break}return Tr},lr.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},lr.prototype.toTwos=function(Tr){return this.negative!==0?this.abs().inotn(Tr).iaddn(1):this.clone()},lr.prototype.fromTwos=function(Tr){return this.testn(Tr-1)?this.notn(Tr).iaddn(1).ineg():this.clone()},lr.prototype.isNeg=function(){return this.negative!==0},lr.prototype.neg=function(){return this.clone().ineg()},lr.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},lr.prototype.iuor=function(Tr){for(;this.length<Tr.length;)this.words[this.length++]=0;for(var _r=0;_r<Tr.length;_r++)this.words[_r]=this.words[_r]|Tr.words[_r];return this._strip()},lr.prototype.ior=function(Tr){return or((this.negative|Tr.negative)==0),this.iuor(Tr)},lr.prototype.or=function(Tr){return this.length>Tr.length?this.clone().ior(Tr):Tr.clone().ior(this)},lr.prototype.uor=function(Tr){return this.length>Tr.length?this.clone().iuor(Tr):Tr.clone().iuor(this)},lr.prototype.iuand=function(Tr){var _r;_r=this.length>Tr.length?Tr:this;for(var wr=0;wr<_r.length;wr++)this.words[wr]=this.words[wr]&Tr.words[wr];return this.length=_r.length,this._strip()},lr.prototype.iand=function(Tr){return or((this.negative|Tr.negative)==0),this.iuand(Tr)},lr.prototype.and=function(Tr){return this.length>Tr.length?this.clone().iand(Tr):Tr.clone().iand(this)},lr.prototype.uand=function(Tr){return this.length>Tr.length?this.clone().iuand(Tr):Tr.clone().iuand(this)},lr.prototype.iuxor=function(Tr){var _r,wr;this.length>Tr.length?(_r=this,wr=Tr):(_r=Tr,wr=this);for(var Er=0;Er<wr.length;Er++)this.words[Er]=_r.words[Er]^wr.words[Er];if(this!==_r)for(;Er<_r.length;Er++)this.words[Er]=_r.words[Er];return this.length=_r.length,this._strip()},lr.prototype.ixor=function(Tr){return or((this.negative|Tr.negative)==0),this.iuxor(Tr)},lr.prototype.xor=function(Tr){return this.length>Tr.length?this.clone().ixor(Tr):Tr.clone().ixor(this)},lr.prototype.uxor=function(Tr){return this.length>Tr.length?this.clone().iuxor(Tr):Tr.clone().iuxor(this)},lr.prototype.inotn=function(Tr){or(typeof Tr=="number"&&Tr>=0);var _r=0|Math.ceil(Tr/26),wr=Tr%26;this._expand(_r),wr>0&&_r--;for(var Er=0;Er<_r;Er++)this.words[Er]=67108863&~this.words[Er];return wr>0&&(this.words[Er]=~this.words[Er]&67108863>>26-wr),this._strip()},lr.prototype.notn=function(Tr){return this.clone().inotn(Tr)},lr.prototype.setn=function(Tr,_r){or(typeof Tr=="number"&&Tr>=0);var wr=Tr/26|0,Er=Tr%26;return this._expand(wr+1),this.words[wr]=_r?this.words[wr]|1<<Er:this.words[wr]&~(1<<Er),this._strip()},lr.prototype.iadd=function(Tr){var _r,wr,Er;if(this.negative!==0&&Tr.negative===0)return this.negative=0,_r=this.isub(Tr),this.negative^=1,this._normSign();if(this.negative===0&&Tr.negative!==0)return Tr.negative=0,_r=this.isub(Tr),Tr.negative=1,_r._normSign();this.length>Tr.length?(wr=this,Er=Tr):(wr=Tr,Er=this);for(var xr=0,Mr=0;Mr<Er.length;Mr++)_r=(0|wr.words[Mr])+(0|Er.words[Mr])+xr,this.words[Mr]=67108863&_r,xr=_r>>>26;for(;xr!==0&&Mr<wr.length;Mr++)_r=(0|wr.words[Mr])+xr,this.words[Mr]=67108863&_r,xr=_r>>>26;if(this.length=wr.length,xr!==0)this.words[this.length]=xr,this.length++;else if(wr!==this)for(;Mr<wr.length;Mr++)this.words[Mr]=wr.words[Mr];return this},lr.prototype.add=function(Tr){var _r;return Tr.negative!==0&&this.negative===0?(Tr.negative=0,_r=this.sub(Tr),Tr.negative^=1,_r):Tr.negative===0&&this.negative!==0?(this.negative=0,_r=Tr.sub(this),this.negative=1,_r):this.length>Tr.length?this.clone().iadd(Tr):Tr.clone().iadd(this)},lr.prototype.isub=function(Tr){if(Tr.negative!==0){Tr.negative=0;var _r=this.iadd(Tr);return Tr.negative=1,_r._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(Tr),this.negative=1,this._normSign();var wr,Er,xr=this.cmp(Tr);if(xr===0)return this.negative=0,this.length=1,this.words[0]=0,this;xr>0?(wr=this,Er=Tr):(wr=Tr,Er=this);for(var Mr=0,zr=0;zr<Er.length;zr++)Mr=(_r=(0|wr.words[zr])-(0|Er.words[zr])+Mr)>>26,this.words[zr]=67108863&_r;for(;Mr!==0&&zr<wr.length;zr++)Mr=(_r=(0|wr.words[zr])+Mr)>>26,this.words[zr]=67108863&_r;if(Mr===0&&zr<wr.length&&wr!==this)for(;zr<wr.length;zr++)this.words[zr]=wr.words[zr];return this.length=Math.max(this.length,zr),wr!==this&&(this.negative=1),this._strip()},lr.prototype.sub=function(Tr){return this.clone().isub(Tr)};var br=function(Tr,_r,wr){var Er,xr,Mr,zr=Tr.words,Or=_r.words,Br=wr.words,Ur=0,qr=0|zr[0],Vr=8191&qr,Gr=qr>>>13,$r=0|zr[1],Fr=8191&$r,Kr=$r>>>13,Zr=0|zr[2],nn=8191&Zr,Qr=Zr>>>13,cn=0|zr[3],dn=8191&cn,en=cn>>>13,an=0|zr[4],tn=8191&an,sn=an>>>13,fn=0|zr[5],pn=8191&fn,yn=fn>>>13,Cn=0|zr[6],Rn=8191&Cn,En=Cn>>>13,zn=0|zr[7],Bn=8191&zn,rs=zn>>>13,cs=0|zr[8],_s=8191&cs,qn=cs>>>13,vs=0|zr[9],fs=8191&vs,xs=vs>>>13,Vn=0|Or[0],On=8191&Vn,Mn=Vn>>>13,ds=0|Or[1],In=8191&ds,ss=ds>>>13,bn=0|Or[2],$n=8191&bn,Un=bn>>>13,Kn=0|Or[3],hs=8191&Kn,ps=Kn>>>13,An=0|Or[4],xn=8191&An,jn=An>>>13,Ln=0|Or[5],Yn=8191&Ln,Jn=Ln>>>13,Sn=0|Or[6],Dn=8191&Sn,Wn=Sn>>>13,_i=0|Or[7],Cs=8191&_i,us=_i>>>13,ws=0|Or[8],Ps=8191&ws,Ts=ws>>>13,Ls=0|Or[9],Os=8191&Ls,zs=Ls>>>13;wr.negative=Tr.negative^_r.negative,wr.length=19;var qs=(Ur+(Er=Math.imul(Vr,On))|0)+((8191&(xr=(xr=Math.imul(Vr,Mn))+Math.imul(Gr,On)|0))<<13)|0;Ur=((Mr=Math.imul(Gr,Mn))+(xr>>>13)|0)+(qs>>>26)|0,qs&=67108863,Er=Math.imul(Fr,On),xr=(xr=Math.imul(Fr,Mn))+Math.imul(Kr,On)|0,Mr=Math.imul(Kr,Mn);var Ys=(Ur+(Er=Er+Math.imul(Vr,In)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,ss)|0)+Math.imul(Gr,In)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,ss)|0)+(xr>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,Er=Math.imul(nn,On),xr=(xr=Math.imul(nn,Mn))+Math.imul(Qr,On)|0,Mr=Math.imul(Qr,Mn),Er=Er+Math.imul(Fr,In)|0,xr=(xr=xr+Math.imul(Fr,ss)|0)+Math.imul(Kr,In)|0,Mr=Mr+Math.imul(Kr,ss)|0;var $a=(Ur+(Er=Er+Math.imul(Vr,$n)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,Un)|0)+Math.imul(Gr,$n)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,Un)|0)+(xr>>>13)|0)+($a>>>26)|0,$a&=67108863,Er=Math.imul(dn,On),xr=(xr=Math.imul(dn,Mn))+Math.imul(en,On)|0,Mr=Math.imul(en,Mn),Er=Er+Math.imul(nn,In)|0,xr=(xr=xr+Math.imul(nn,ss)|0)+Math.imul(Qr,In)|0,Mr=Mr+Math.imul(Qr,ss)|0,Er=Er+Math.imul(Fr,$n)|0,xr=(xr=xr+Math.imul(Fr,Un)|0)+Math.imul(Kr,$n)|0,Mr=Mr+Math.imul(Kr,Un)|0;var eo=(Ur+(Er=Er+Math.imul(Vr,hs)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,ps)|0)+Math.imul(Gr,hs)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,ps)|0)+(xr>>>13)|0)+(eo>>>26)|0,eo&=67108863,Er=Math.imul(tn,On),xr=(xr=Math.imul(tn,Mn))+Math.imul(sn,On)|0,Mr=Math.imul(sn,Mn),Er=Er+Math.imul(dn,In)|0,xr=(xr=xr+Math.imul(dn,ss)|0)+Math.imul(en,In)|0,Mr=Mr+Math.imul(en,ss)|0,Er=Er+Math.imul(nn,$n)|0,xr=(xr=xr+Math.imul(nn,Un)|0)+Math.imul(Qr,$n)|0,Mr=Mr+Math.imul(Qr,Un)|0,Er=Er+Math.imul(Fr,hs)|0,xr=(xr=xr+Math.imul(Fr,ps)|0)+Math.imul(Kr,hs)|0,Mr=Mr+Math.imul(Kr,ps)|0;var mo=(Ur+(Er=Er+Math.imul(Vr,xn)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,jn)|0)+Math.imul(Gr,xn)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,jn)|0)+(xr>>>13)|0)+(mo>>>26)|0,mo&=67108863,Er=Math.imul(pn,On),xr=(xr=Math.imul(pn,Mn))+Math.imul(yn,On)|0,Mr=Math.imul(yn,Mn),Er=Er+Math.imul(tn,In)|0,xr=(xr=xr+Math.imul(tn,ss)|0)+Math.imul(sn,In)|0,Mr=Mr+Math.imul(sn,ss)|0,Er=Er+Math.imul(dn,$n)|0,xr=(xr=xr+Math.imul(dn,Un)|0)+Math.imul(en,$n)|0,Mr=Mr+Math.imul(en,Un)|0,Er=Er+Math.imul(nn,hs)|0,xr=(xr=xr+Math.imul(nn,ps)|0)+Math.imul(Qr,hs)|0,Mr=Mr+Math.imul(Qr,ps)|0,Er=Er+Math.imul(Fr,xn)|0,xr=(xr=xr+Math.imul(Fr,jn)|0)+Math.imul(Kr,xn)|0,Mr=Mr+Math.imul(Kr,jn)|0;var _n=(Ur+(Er=Er+Math.imul(Vr,Yn)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,Jn)|0)+Math.imul(Gr,Yn)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,Jn)|0)+(xr>>>13)|0)+(_n>>>26)|0,_n&=67108863,Er=Math.imul(Rn,On),xr=(xr=Math.imul(Rn,Mn))+Math.imul(En,On)|0,Mr=Math.imul(En,Mn),Er=Er+Math.imul(pn,In)|0,xr=(xr=xr+Math.imul(pn,ss)|0)+Math.imul(yn,In)|0,Mr=Mr+Math.imul(yn,ss)|0,Er=Er+Math.imul(tn,$n)|0,xr=(xr=xr+Math.imul(tn,Un)|0)+Math.imul(sn,$n)|0,Mr=Mr+Math.imul(sn,Un)|0,Er=Er+Math.imul(dn,hs)|0,xr=(xr=xr+Math.imul(dn,ps)|0)+Math.imul(en,hs)|0,Mr=Mr+Math.imul(en,ps)|0,Er=Er+Math.imul(nn,xn)|0,xr=(xr=xr+Math.imul(nn,jn)|0)+Math.imul(Qr,xn)|0,Mr=Mr+Math.imul(Qr,jn)|0,Er=Er+Math.imul(Fr,Yn)|0,xr=(xr=xr+Math.imul(Fr,Jn)|0)+Math.imul(Kr,Yn)|0,Mr=Mr+Math.imul(Kr,Jn)|0;var Hn=(Ur+(Er=Er+Math.imul(Vr,Dn)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,Wn)|0)+Math.imul(Gr,Dn)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,Wn)|0)+(xr>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,Er=Math.imul(Bn,On),xr=(xr=Math.imul(Bn,Mn))+Math.imul(rs,On)|0,Mr=Math.imul(rs,Mn),Er=Er+Math.imul(Rn,In)|0,xr=(xr=xr+Math.imul(Rn,ss)|0)+Math.imul(En,In)|0,Mr=Mr+Math.imul(En,ss)|0,Er=Er+Math.imul(pn,$n)|0,xr=(xr=xr+Math.imul(pn,Un)|0)+Math.imul(yn,$n)|0,Mr=Mr+Math.imul(yn,Un)|0,Er=Er+Math.imul(tn,hs)|0,xr=(xr=xr+Math.imul(tn,ps)|0)+Math.imul(sn,hs)|0,Mr=Mr+Math.imul(sn,ps)|0,Er=Er+Math.imul(dn,xn)|0,xr=(xr=xr+Math.imul(dn,jn)|0)+Math.imul(en,xn)|0,Mr=Mr+Math.imul(en,jn)|0,Er=Er+Math.imul(nn,Yn)|0,xr=(xr=xr+Math.imul(nn,Jn)|0)+Math.imul(Qr,Yn)|0,Mr=Mr+Math.imul(Qr,Jn)|0,Er=Er+Math.imul(Fr,Dn)|0,xr=(xr=xr+Math.imul(Fr,Wn)|0)+Math.imul(Kr,Dn)|0,Mr=Mr+Math.imul(Kr,Wn)|0;var bs=(Ur+(Er=Er+Math.imul(Vr,Cs)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,us)|0)+Math.imul(Gr,Cs)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,us)|0)+(xr>>>13)|0)+(bs>>>26)|0,bs&=67108863,Er=Math.imul(_s,On),xr=(xr=Math.imul(_s,Mn))+Math.imul(qn,On)|0,Mr=Math.imul(qn,Mn),Er=Er+Math.imul(Bn,In)|0,xr=(xr=xr+Math.imul(Bn,ss)|0)+Math.imul(rs,In)|0,Mr=Mr+Math.imul(rs,ss)|0,Er=Er+Math.imul(Rn,$n)|0,xr=(xr=xr+Math.imul(Rn,Un)|0)+Math.imul(En,$n)|0,Mr=Mr+Math.imul(En,Un)|0,Er=Er+Math.imul(pn,hs)|0,xr=(xr=xr+Math.imul(pn,ps)|0)+Math.imul(yn,hs)|0,Mr=Mr+Math.imul(yn,ps)|0,Er=Er+Math.imul(tn,xn)|0,xr=(xr=xr+Math.imul(tn,jn)|0)+Math.imul(sn,xn)|0,Mr=Mr+Math.imul(sn,jn)|0,Er=Er+Math.imul(dn,Yn)|0,xr=(xr=xr+Math.imul(dn,Jn)|0)+Math.imul(en,Yn)|0,Mr=Mr+Math.imul(en,Jn)|0,Er=Er+Math.imul(nn,Dn)|0,xr=(xr=xr+Math.imul(nn,Wn)|0)+Math.imul(Qr,Dn)|0,Mr=Mr+Math.imul(Qr,Wn)|0,Er=Er+Math.imul(Fr,Cs)|0,xr=(xr=xr+Math.imul(Fr,us)|0)+Math.imul(Kr,Cs)|0,Mr=Mr+Math.imul(Kr,us)|0;var Es=(Ur+(Er=Er+Math.imul(Vr,Ps)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,Ts)|0)+Math.imul(Gr,Ps)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,Ts)|0)+(xr>>>13)|0)+(Es>>>26)|0,Es&=67108863,Er=Math.imul(fs,On),xr=(xr=Math.imul(fs,Mn))+Math.imul(xs,On)|0,Mr=Math.imul(xs,Mn),Er=Er+Math.imul(_s,In)|0,xr=(xr=xr+Math.imul(_s,ss)|0)+Math.imul(qn,In)|0,Mr=Mr+Math.imul(qn,ss)|0,Er=Er+Math.imul(Bn,$n)|0,xr=(xr=xr+Math.imul(Bn,Un)|0)+Math.imul(rs,$n)|0,Mr=Mr+Math.imul(rs,Un)|0,Er=Er+Math.imul(Rn,hs)|0,xr=(xr=xr+Math.imul(Rn,ps)|0)+Math.imul(En,hs)|0,Mr=Mr+Math.imul(En,ps)|0,Er=Er+Math.imul(pn,xn)|0,xr=(xr=xr+Math.imul(pn,jn)|0)+Math.imul(yn,xn)|0,Mr=Mr+Math.imul(yn,jn)|0,Er=Er+Math.imul(tn,Yn)|0,xr=(xr=xr+Math.imul(tn,Jn)|0)+Math.imul(sn,Yn)|0,Mr=Mr+Math.imul(sn,Jn)|0,Er=Er+Math.imul(dn,Dn)|0,xr=(xr=xr+Math.imul(dn,Wn)|0)+Math.imul(en,Dn)|0,Mr=Mr+Math.imul(en,Wn)|0,Er=Er+Math.imul(nn,Cs)|0,xr=(xr=xr+Math.imul(nn,us)|0)+Math.imul(Qr,Cs)|0,Mr=Mr+Math.imul(Qr,us)|0,Er=Er+Math.imul(Fr,Ps)|0,xr=(xr=xr+Math.imul(Fr,Ts)|0)+Math.imul(Kr,Ps)|0,Mr=Mr+Math.imul(Kr,Ts)|0;var $s=(Ur+(Er=Er+Math.imul(Vr,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Vr,zs)|0)+Math.imul(Gr,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Gr,zs)|0)+(xr>>>13)|0)+($s>>>26)|0,$s&=67108863,Er=Math.imul(fs,In),xr=(xr=Math.imul(fs,ss))+Math.imul(xs,In)|0,Mr=Math.imul(xs,ss),Er=Er+Math.imul(_s,$n)|0,xr=(xr=xr+Math.imul(_s,Un)|0)+Math.imul(qn,$n)|0,Mr=Mr+Math.imul(qn,Un)|0,Er=Er+Math.imul(Bn,hs)|0,xr=(xr=xr+Math.imul(Bn,ps)|0)+Math.imul(rs,hs)|0,Mr=Mr+Math.imul(rs,ps)|0,Er=Er+Math.imul(Rn,xn)|0,xr=(xr=xr+Math.imul(Rn,jn)|0)+Math.imul(En,xn)|0,Mr=Mr+Math.imul(En,jn)|0,Er=Er+Math.imul(pn,Yn)|0,xr=(xr=xr+Math.imul(pn,Jn)|0)+Math.imul(yn,Yn)|0,Mr=Mr+Math.imul(yn,Jn)|0,Er=Er+Math.imul(tn,Dn)|0,xr=(xr=xr+Math.imul(tn,Wn)|0)+Math.imul(sn,Dn)|0,Mr=Mr+Math.imul(sn,Wn)|0,Er=Er+Math.imul(dn,Cs)|0,xr=(xr=xr+Math.imul(dn,us)|0)+Math.imul(en,Cs)|0,Mr=Mr+Math.imul(en,us)|0,Er=Er+Math.imul(nn,Ps)|0,xr=(xr=xr+Math.imul(nn,Ts)|0)+Math.imul(Qr,Ps)|0,Mr=Mr+Math.imul(Qr,Ts)|0;var Rs=(Ur+(Er=Er+Math.imul(Fr,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Fr,zs)|0)+Math.imul(Kr,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Kr,zs)|0)+(xr>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Er=Math.imul(fs,$n),xr=(xr=Math.imul(fs,Un))+Math.imul(xs,$n)|0,Mr=Math.imul(xs,Un),Er=Er+Math.imul(_s,hs)|0,xr=(xr=xr+Math.imul(_s,ps)|0)+Math.imul(qn,hs)|0,Mr=Mr+Math.imul(qn,ps)|0,Er=Er+Math.imul(Bn,xn)|0,xr=(xr=xr+Math.imul(Bn,jn)|0)+Math.imul(rs,xn)|0,Mr=Mr+Math.imul(rs,jn)|0,Er=Er+Math.imul(Rn,Yn)|0,xr=(xr=xr+Math.imul(Rn,Jn)|0)+Math.imul(En,Yn)|0,Mr=Mr+Math.imul(En,Jn)|0,Er=Er+Math.imul(pn,Dn)|0,xr=(xr=xr+Math.imul(pn,Wn)|0)+Math.imul(yn,Dn)|0,Mr=Mr+Math.imul(yn,Wn)|0,Er=Er+Math.imul(tn,Cs)|0,xr=(xr=xr+Math.imul(tn,us)|0)+Math.imul(sn,Cs)|0,Mr=Mr+Math.imul(sn,us)|0,Er=Er+Math.imul(dn,Ps)|0,xr=(xr=xr+Math.imul(dn,Ts)|0)+Math.imul(en,Ps)|0,Mr=Mr+Math.imul(en,Ts)|0;var Ns=(Ur+(Er=Er+Math.imul(nn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(nn,zs)|0)+Math.imul(Qr,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(Qr,zs)|0)+(xr>>>13)|0)+(Ns>>>26)|0,Ns&=67108863,Er=Math.imul(fs,hs),xr=(xr=Math.imul(fs,ps))+Math.imul(xs,hs)|0,Mr=Math.imul(xs,ps),Er=Er+Math.imul(_s,xn)|0,xr=(xr=xr+Math.imul(_s,jn)|0)+Math.imul(qn,xn)|0,Mr=Mr+Math.imul(qn,jn)|0,Er=Er+Math.imul(Bn,Yn)|0,xr=(xr=xr+Math.imul(Bn,Jn)|0)+Math.imul(rs,Yn)|0,Mr=Mr+Math.imul(rs,Jn)|0,Er=Er+Math.imul(Rn,Dn)|0,xr=(xr=xr+Math.imul(Rn,Wn)|0)+Math.imul(En,Dn)|0,Mr=Mr+Math.imul(En,Wn)|0,Er=Er+Math.imul(pn,Cs)|0,xr=(xr=xr+Math.imul(pn,us)|0)+Math.imul(yn,Cs)|0,Mr=Mr+Math.imul(yn,us)|0,Er=Er+Math.imul(tn,Ps)|0,xr=(xr=xr+Math.imul(tn,Ts)|0)+Math.imul(sn,Ps)|0,Mr=Mr+Math.imul(sn,Ts)|0;var ba=(Ur+(Er=Er+Math.imul(dn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(dn,zs)|0)+Math.imul(en,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(en,zs)|0)+(xr>>>13)|0)+(ba>>>26)|0,ba&=67108863,Er=Math.imul(fs,xn),xr=(xr=Math.imul(fs,jn))+Math.imul(xs,xn)|0,Mr=Math.imul(xs,jn),Er=Er+Math.imul(_s,Yn)|0,xr=(xr=xr+Math.imul(_s,Jn)|0)+Math.imul(qn,Yn)|0,Mr=Mr+Math.imul(qn,Jn)|0,Er=Er+Math.imul(Bn,Dn)|0,xr=(xr=xr+Math.imul(Bn,Wn)|0)+Math.imul(rs,Dn)|0,Mr=Mr+Math.imul(rs,Wn)|0,Er=Er+Math.imul(Rn,Cs)|0,xr=(xr=xr+Math.imul(Rn,us)|0)+Math.imul(En,Cs)|0,Mr=Mr+Math.imul(En,us)|0,Er=Er+Math.imul(pn,Ps)|0,xr=(xr=xr+Math.imul(pn,Ts)|0)+Math.imul(yn,Ps)|0,Mr=Mr+Math.imul(yn,Ts)|0;var Zs=(Ur+(Er=Er+Math.imul(tn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(tn,zs)|0)+Math.imul(sn,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(sn,zs)|0)+(xr>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,Er=Math.imul(fs,Yn),xr=(xr=Math.imul(fs,Jn))+Math.imul(xs,Yn)|0,Mr=Math.imul(xs,Jn),Er=Er+Math.imul(_s,Dn)|0,xr=(xr=xr+Math.imul(_s,Wn)|0)+Math.imul(qn,Dn)|0,Mr=Mr+Math.imul(qn,Wn)|0,Er=Er+Math.imul(Bn,Cs)|0,xr=(xr=xr+Math.imul(Bn,us)|0)+Math.imul(rs,Cs)|0,Mr=Mr+Math.imul(rs,us)|0,Er=Er+Math.imul(Rn,Ps)|0,xr=(xr=xr+Math.imul(Rn,Ts)|0)+Math.imul(En,Ps)|0,Mr=Mr+Math.imul(En,Ts)|0;var Qs=(Ur+(Er=Er+Math.imul(pn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(pn,zs)|0)+Math.imul(yn,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(yn,zs)|0)+(xr>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,Er=Math.imul(fs,Dn),xr=(xr=Math.imul(fs,Wn))+Math.imul(xs,Dn)|0,Mr=Math.imul(xs,Wn),Er=Er+Math.imul(_s,Cs)|0,xr=(xr=xr+Math.imul(_s,us)|0)+Math.imul(qn,Cs)|0,Mr=Mr+Math.imul(qn,us)|0,Er=Er+Math.imul(Bn,Ps)|0,xr=(xr=xr+Math.imul(Bn,Ts)|0)+Math.imul(rs,Ps)|0,Mr=Mr+Math.imul(rs,Ts)|0;var Hs=(Ur+(Er=Er+Math.imul(Rn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Rn,zs)|0)+Math.imul(En,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(En,zs)|0)+(xr>>>13)|0)+(Hs>>>26)|0,Hs&=67108863,Er=Math.imul(fs,Cs),xr=(xr=Math.imul(fs,us))+Math.imul(xs,Cs)|0,Mr=Math.imul(xs,us),Er=Er+Math.imul(_s,Ps)|0,xr=(xr=xr+Math.imul(_s,Ts)|0)+Math.imul(qn,Ps)|0,Mr=Mr+Math.imul(qn,Ts)|0;var no=(Ur+(Er=Er+Math.imul(Bn,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(Bn,zs)|0)+Math.imul(rs,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(rs,zs)|0)+(xr>>>13)|0)+(no>>>26)|0,no&=67108863,Er=Math.imul(fs,Ps),xr=(xr=Math.imul(fs,Ts))+Math.imul(xs,Ps)|0,Mr=Math.imul(xs,Ts);var Ks=(Ur+(Er=Er+Math.imul(_s,Os)|0)|0)+((8191&(xr=(xr=xr+Math.imul(_s,zs)|0)+Math.imul(qn,Os)|0))<<13)|0;Ur=((Mr=Mr+Math.imul(qn,zs)|0)+(xr>>>13)|0)+(Ks>>>26)|0,Ks&=67108863;var io=(Ur+(Er=Math.imul(fs,Os))|0)+((8191&(xr=(xr=Math.imul(fs,zs))+Math.imul(xs,Os)|0))<<13)|0;return Ur=((Mr=Math.imul(xs,zs))+(xr>>>13)|0)+(io>>>26)|0,io&=67108863,Br[0]=qs,Br[1]=Ys,Br[2]=$a,Br[3]=eo,Br[4]=mo,Br[5]=_n,Br[6]=Hn,Br[7]=bs,Br[8]=Es,Br[9]=$s,Br[10]=Rs,Br[11]=Ns,Br[12]=ba,Br[13]=Zs,Br[14]=Qs,Br[15]=Hs,Br[16]=no,Br[17]=Ks,Br[18]=io,Ur!==0&&(Br[19]=Ur,wr.length++),wr};function Sr(Tr,_r,wr){wr.negative=_r.negative^Tr.negative,wr.length=Tr.length+_r.length;for(var Er=0,xr=0,Mr=0;Mr<wr.length-1;Mr++){var zr=xr;xr=0;for(var Or=67108863&Er,Br=Math.min(Mr,_r.length-1),Ur=Math.max(0,Mr-Tr.length+1);Ur<=Br;Ur++){var qr=Mr-Ur,Vr=(0|Tr.words[qr])*(0|_r.words[Ur]),Gr=67108863&Vr;Or=67108863&(Gr=Gr+Or|0),xr+=(zr=(zr=zr+(Vr/67108864|0)|0)+(Gr>>>26)|0)>>>26,zr&=67108863}wr.words[Mr]=Or,Er=zr,zr=xr}return Er!==0?wr.words[Mr]=Er:wr.length--,wr._strip()}function jr(Tr,_r,wr){return Sr(Tr,_r,wr)}Math.imul||(br=vr),lr.prototype.mulTo=function(Tr,_r){var wr=this.length+Tr.length;return this.length===10&&Tr.length===10?br(this,Tr,_r):wr<63?vr(this,Tr,_r):wr<1024?Sr(this,Tr,_r):jr(this,Tr,_r)},lr.prototype.mul=function(Tr){var _r=new lr(null);return _r.words=new Array(this.length+Tr.length),this.mulTo(Tr,_r)},lr.prototype.mulf=function(Tr){var _r=new lr(null);return _r.words=new Array(this.length+Tr.length),jr(this,Tr,_r)},lr.prototype.imul=function(Tr){return this.clone().mulTo(Tr,this)},lr.prototype.imuln=function(Tr){var _r=Tr<0;_r&&(Tr=-Tr),or(typeof Tr=="number"),or(Tr<67108864);for(var wr=0,Er=0;Er<this.length;Er++){var xr=(0|this.words[Er])*Tr,Mr=(67108863&xr)+(67108863&wr);wr>>=26,wr+=xr/67108864|0,wr+=Mr>>>26,this.words[Er]=67108863&Mr}return wr!==0&&(this.words[Er]=wr,this.length++),_r?this.ineg():this},lr.prototype.muln=function(Tr){return this.clone().imuln(Tr)},lr.prototype.sqr=function(){return this.mul(this)},lr.prototype.isqr=function(){return this.imul(this.clone())},lr.prototype.pow=function(Tr){var _r=function(Mr){for(var zr=new Array(Mr.bitLength()),Or=0;Or<zr.length;Or++){var Br=Or/26|0,Ur=Or%26;zr[Or]=Mr.words[Br]>>>Ur&1}return zr}(Tr);if(_r.length===0)return new lr(1);for(var wr=this,Er=0;Er<_r.length&&_r[Er]===0;Er++,wr=wr.sqr());if(++Er<_r.length)for(var xr=wr.sqr();Er<_r.length;Er++,xr=xr.sqr())_r[Er]!==0&&(wr=wr.mul(xr));return wr},lr.prototype.iushln=function(Tr){or(typeof Tr=="number"&&Tr>=0);var _r,wr=Tr%26,Er=(Tr-wr)/26,xr=67108863>>>26-wr<<26-wr;if(wr!==0){var Mr=0;for(_r=0;_r<this.length;_r++){var zr=this.words[_r]&xr,Or=(0|this.words[_r])-zr<<wr;this.words[_r]=Or|Mr,Mr=zr>>>26-wr}Mr&&(this.words[_r]=Mr,this.length++)}if(Er!==0){for(_r=this.length-1;_r>=0;_r--)this.words[_r+Er]=this.words[_r];for(_r=0;_r<Er;_r++)this.words[_r]=0;this.length+=Er}return this._strip()},lr.prototype.ishln=function(Tr){return or(this.negative===0),this.iushln(Tr)},lr.prototype.iushrn=function(Tr,_r,wr){var Er;or(typeof Tr=="number"&&Tr>=0),Er=_r?(_r-_r%26)/26:0;var xr=Tr%26,Mr=Math.min((Tr-xr)/26,this.length),zr=67108863^67108863>>>xr<<xr,Or=wr;if(Er-=Mr,Er=Math.max(0,Er),Or){for(var Br=0;Br<Mr;Br++)Or.words[Br]=this.words[Br];Or.length=Mr}if(Mr!==0)if(this.length>Mr)for(this.length-=Mr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Mr];else this.words[0]=0,this.length=1;var Ur=0;for(Br=this.length-1;Br>=0&&(Ur!==0||Br>=Er);Br--){var qr=0|this.words[Br];this.words[Br]=Ur<<26-xr|qr>>>xr,Ur=qr&zr}return Or&&Ur!==0&&(Or.words[Or.length++]=Ur),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},lr.prototype.ishrn=function(Tr,_r,wr){return or(this.negative===0),this.iushrn(Tr,_r,wr)},lr.prototype.shln=function(Tr){return this.clone().ishln(Tr)},lr.prototype.ushln=function(Tr){return this.clone().iushln(Tr)},lr.prototype.shrn=function(Tr){return this.clone().ishrn(Tr)},lr.prototype.ushrn=function(Tr){return this.clone().iushrn(Tr)},lr.prototype.testn=function(Tr){or(typeof Tr=="number"&&Tr>=0);var _r=Tr%26,wr=(Tr-_r)/26,Er=1<<_r;return!(this.length<=wr)&&!!(this.words[wr]&Er)},lr.prototype.imaskn=function(Tr){or(typeof Tr=="number"&&Tr>=0);var _r=Tr%26,wr=(Tr-_r)/26;if(or(this.negative===0,"imaskn works only with positive numbers"),this.length<=wr)return this;if(_r!==0&&wr++,this.length=Math.min(wr,this.length),_r!==0){var Er=67108863^67108863>>>_r<<_r;this.words[this.length-1]&=Er}return this._strip()},lr.prototype.maskn=function(Tr){return this.clone().imaskn(Tr)},lr.prototype.iaddn=function(Tr){return or(typeof Tr=="number"),or(Tr<67108864),Tr<0?this.isubn(-Tr):this.negative!==0?this.length===1&&(0|this.words[0])<=Tr?(this.words[0]=Tr-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(Tr),this.negative=1,this):this._iaddn(Tr)},lr.prototype._iaddn=function(Tr){this.words[0]+=Tr;for(var _r=0;_r<this.length&&this.words[_r]>=67108864;_r++)this.words[_r]-=67108864,_r===this.length-1?this.words[_r+1]=1:this.words[_r+1]++;return this.length=Math.max(this.length,_r+1),this},lr.prototype.isubn=function(Tr){if(or(typeof Tr=="number"),or(Tr<67108864),Tr<0)return this.iaddn(-Tr);if(this.negative!==0)return this.negative=0,this.iaddn(Tr),this.negative=1,this;if(this.words[0]-=Tr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _r=0;_r<this.length&&this.words[_r]<0;_r++)this.words[_r]+=67108864,this.words[_r+1]-=1;return this._strip()},lr.prototype.addn=function(Tr){return this.clone().iaddn(Tr)},lr.prototype.subn=function(Tr){return this.clone().isubn(Tr)},lr.prototype.iabs=function(){return this.negative=0,this},lr.prototype.abs=function(){return this.clone().iabs()},lr.prototype._ishlnsubmul=function(Tr,_r,wr){var Er,xr,Mr=Tr.length+wr;this._expand(Mr);var zr=0;for(Er=0;Er<Tr.length;Er++){xr=(0|this.words[Er+wr])+zr;var Or=(0|Tr.words[Er])*_r;zr=((xr-=67108863&Or)>>26)-(Or/67108864|0),this.words[Er+wr]=67108863&xr}for(;Er<this.length-wr;Er++)zr=(xr=(0|this.words[Er+wr])+zr)>>26,this.words[Er+wr]=67108863&xr;if(zr===0)return this._strip();for(or(zr===-1),zr=0,Er=0;Er<this.length;Er++)zr=(xr=-(0|this.words[Er])+zr)>>26,this.words[Er]=67108863&xr;return this.negative=1,this._strip()},lr.prototype._wordDiv=function(Tr,_r){var wr=(this.length,Tr.length),Er=this.clone(),xr=Tr,Mr=0|xr.words[xr.length-1];(wr=26-this._countBits(Mr))!==0&&(xr=xr.ushln(wr),Er.iushln(wr),Mr=0|xr.words[xr.length-1]);var zr,Or=Er.length-xr.length;if(_r!=="mod"){(zr=new lr(null)).length=Or+1,zr.words=new Array(zr.length);for(var Br=0;Br<zr.length;Br++)zr.words[Br]=0}var Ur=Er.clone()._ishlnsubmul(xr,1,Or);Ur.negative===0&&(Er=Ur,zr&&(zr.words[Or]=1));for(var qr=Or-1;qr>=0;qr--){var Vr=67108864*(0|Er.words[xr.length+qr])+(0|Er.words[xr.length+qr-1]);for(Vr=Math.min(Vr/Mr|0,67108863),Er._ishlnsubmul(xr,Vr,qr);Er.negative!==0;)Vr--,Er.negative=0,Er._ishlnsubmul(xr,1,qr),Er.isZero()||(Er.negative^=1);zr&&(zr.words[qr]=Vr)}return zr&&zr._strip(),Er._strip(),_r!=="div"&&wr!==0&&Er.iushrn(wr),{div:zr||null,mod:Er}},lr.prototype.divmod=function(Tr,_r,wr){return or(!Tr.isZero()),this.isZero()?{div:new lr(0),mod:new lr(0)}:this.negative!==0&&Tr.negative===0?(Mr=this.neg().divmod(Tr,_r),_r!=="mod"&&(Er=Mr.div.neg()),_r!=="div"&&(xr=Mr.mod.neg(),wr&&xr.negative!==0&&xr.iadd(Tr)),{div:Er,mod:xr}):this.negative===0&&Tr.negative!==0?(Mr=this.divmod(Tr.neg(),_r),_r!=="mod"&&(Er=Mr.div.neg()),{div:Er,mod:Mr.mod}):this.negative&Tr.negative?(Mr=this.neg().divmod(Tr.neg(),_r),_r!=="div"&&(xr=Mr.mod.neg(),wr&&xr.negative!==0&&xr.isub(Tr)),{div:Mr.div,mod:xr}):Tr.length>this.length||this.cmp(Tr)<0?{div:new lr(0),mod:this}:Tr.length===1?_r==="div"?{div:this.divn(Tr.words[0]),mod:null}:_r==="mod"?{div:null,mod:new lr(this.modrn(Tr.words[0]))}:{div:this.divn(Tr.words[0]),mod:new lr(this.modrn(Tr.words[0]))}:this._wordDiv(Tr,_r);var Er,xr,Mr},lr.prototype.div=function(Tr){return this.divmod(Tr,"div",!1).div},lr.prototype.mod=function(Tr){return this.divmod(Tr,"mod",!1).mod},lr.prototype.umod=function(Tr){return this.divmod(Tr,"mod",!0).mod},lr.prototype.divRound=function(Tr){var _r=this.divmod(Tr);if(_r.mod.isZero())return _r.div;var wr=_r.div.negative!==0?_r.mod.isub(Tr):_r.mod,Er=Tr.ushrn(1),xr=Tr.andln(1),Mr=wr.cmp(Er);return Mr<0||xr===1&&Mr===0?_r.div:_r.div.negative!==0?_r.div.isubn(1):_r.div.iaddn(1)},lr.prototype.modrn=function(Tr){var _r=Tr<0;_r&&(Tr=-Tr),or(Tr<=67108863);for(var wr=(1<<26)%Tr,Er=0,xr=this.length-1;xr>=0;xr--)Er=(wr*Er+(0|this.words[xr]))%Tr;return _r?-Er:Er},lr.prototype.modn=function(Tr){return this.modrn(Tr)},lr.prototype.idivn=function(Tr){var _r=Tr<0;_r&&(Tr=-Tr),or(Tr<=67108863);for(var wr=0,Er=this.length-1;Er>=0;Er--){var xr=(0|this.words[Er])+67108864*wr;this.words[Er]=xr/Tr|0,wr=xr%Tr}return this._strip(),_r?this.ineg():this},lr.prototype.divn=function(Tr){return this.clone().idivn(Tr)},lr.prototype.egcd=function(Tr){or(Tr.negative===0),or(!Tr.isZero());var _r=this,wr=Tr.clone();_r=_r.negative!==0?_r.umod(Tr):_r.clone();for(var Er=new lr(1),xr=new lr(0),Mr=new lr(0),zr=new lr(1),Or=0;_r.isEven()&&wr.isEven();)_r.iushrn(1),wr.iushrn(1),++Or;for(var Br=wr.clone(),Ur=_r.clone();!_r.isZero();){for(var qr=0,Vr=1;!(_r.words[0]&Vr)&&qr<26;++qr,Vr<<=1);if(qr>0)for(_r.iushrn(qr);qr-- >0;)(Er.isOdd()||xr.isOdd())&&(Er.iadd(Br),xr.isub(Ur)),Er.iushrn(1),xr.iushrn(1);for(var Gr=0,$r=1;!(wr.words[0]&$r)&&Gr<26;++Gr,$r<<=1);if(Gr>0)for(wr.iushrn(Gr);Gr-- >0;)(Mr.isOdd()||zr.isOdd())&&(Mr.iadd(Br),zr.isub(Ur)),Mr.iushrn(1),zr.iushrn(1);_r.cmp(wr)>=0?(_r.isub(wr),Er.isub(Mr),xr.isub(zr)):(wr.isub(_r),Mr.isub(Er),zr.isub(xr))}return{a:Mr,b:zr,gcd:wr.iushln(Or)}},lr.prototype._invmp=function(Tr){or(Tr.negative===0),or(!Tr.isZero());var _r=this,wr=Tr.clone();_r=_r.negative!==0?_r.umod(Tr):_r.clone();for(var Er,xr=new lr(1),Mr=new lr(0),zr=wr.clone();_r.cmpn(1)>0&&wr.cmpn(1)>0;){for(var Or=0,Br=1;!(_r.words[0]&Br)&&Or<26;++Or,Br<<=1);if(Or>0)for(_r.iushrn(Or);Or-- >0;)xr.isOdd()&&xr.iadd(zr),xr.iushrn(1);for(var Ur=0,qr=1;!(wr.words[0]&qr)&&Ur<26;++Ur,qr<<=1);if(Ur>0)for(wr.iushrn(Ur);Ur-- >0;)Mr.isOdd()&&Mr.iadd(zr),Mr.iushrn(1);_r.cmp(wr)>=0?(_r.isub(wr),xr.isub(Mr)):(wr.isub(_r),Mr.isub(xr))}return(Er=_r.cmpn(1)===0?xr:Mr).cmpn(0)<0&&Er.iadd(Tr),Er},lr.prototype.gcd=function(Tr){if(this.isZero())return Tr.abs();if(Tr.isZero())return this.abs();var _r=this.clone(),wr=Tr.clone();_r.negative=0,wr.negative=0;for(var Er=0;_r.isEven()&&wr.isEven();Er++)_r.iushrn(1),wr.iushrn(1);for(;;){for(;_r.isEven();)_r.iushrn(1);for(;wr.isEven();)wr.iushrn(1);var xr=_r.cmp(wr);if(xr<0){var Mr=_r;_r=wr,wr=Mr}else if(xr===0||wr.cmpn(1)===0)break;_r.isub(wr)}return wr.iushln(Er)},lr.prototype.invm=function(Tr){return this.egcd(Tr).a.umod(Tr)},lr.prototype.isEven=function(){return(1&this.words[0])==0},lr.prototype.isOdd=function(){return(1&this.words[0])==1},lr.prototype.andln=function(Tr){return this.words[0]&Tr},lr.prototype.bincn=function(Tr){or(typeof Tr=="number");var _r=Tr%26,wr=(Tr-_r)/26,Er=1<<_r;if(this.length<=wr)return this._expand(wr+1),this.words[wr]|=Er,this;for(var xr=Er,Mr=wr;xr!==0&&Mr<this.length;Mr++){var zr=0|this.words[Mr];xr=(zr+=xr)>>>26,zr&=67108863,this.words[Mr]=zr}return xr!==0&&(this.words[Mr]=xr,this.length++),this},lr.prototype.isZero=function(){return this.length===1&&this.words[0]===0},lr.prototype.cmpn=function(Tr){var _r,wr=Tr<0;if(this.negative!==0&&!wr)return-1;if(this.negative===0&&wr)return 1;if(this._strip(),this.length>1)_r=1;else{wr&&(Tr=-Tr),or(Tr<=67108863,"Number is too big");var Er=0|this.words[0];_r=Er===Tr?0:Er<Tr?-1:1}return this.negative!==0?0|-_r:_r},lr.prototype.cmp=function(Tr){if(this.negative!==0&&Tr.negative===0)return-1;if(this.negative===0&&Tr.negative!==0)return 1;var _r=this.ucmp(Tr);return this.negative!==0?0|-_r:_r},lr.prototype.ucmp=function(Tr){if(this.length>Tr.length)return 1;if(this.length<Tr.length)return-1;for(var _r=0,wr=this.length-1;wr>=0;wr--){var Er=0|this.words[wr],xr=0|Tr.words[wr];if(Er!==xr){Er<xr?_r=-1:Er>xr&&(_r=1);break}}return _r},lr.prototype.gtn=function(Tr){return this.cmpn(Tr)===1},lr.prototype.gt=function(Tr){return this.cmp(Tr)===1},lr.prototype.gten=function(Tr){return this.cmpn(Tr)>=0},lr.prototype.gte=function(Tr){return this.cmp(Tr)>=0},lr.prototype.ltn=function(Tr){return this.cmpn(Tr)===-1},lr.prototype.lt=function(Tr){return this.cmp(Tr)===-1},lr.prototype.lten=function(Tr){return this.cmpn(Tr)<=0},lr.prototype.lte=function(Tr){return this.cmp(Tr)<=0},lr.prototype.eqn=function(Tr){return this.cmpn(Tr)===0},lr.prototype.eq=function(Tr){return this.cmp(Tr)===0},lr.red=function(Tr){return new Ar(Tr)},lr.prototype.toRed=function(Tr){return or(!this.red,"Already a number in reduction context"),or(this.negative===0,"red works only with positives"),Tr.convertTo(this)._forceRed(Tr)},lr.prototype.fromRed=function(){return or(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},lr.prototype._forceRed=function(Tr){return this.red=Tr,this},lr.prototype.forceRed=function(Tr){return or(!this.red,"Already a number in reduction context"),this._forceRed(Tr)},lr.prototype.redAdd=function(Tr){return or(this.red,"redAdd works only with red numbers"),this.red.add(this,Tr)},lr.prototype.redIAdd=function(Tr){return or(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Tr)},lr.prototype.redSub=function(Tr){return or(this.red,"redSub works only with red numbers"),this.red.sub(this,Tr)},lr.prototype.redISub=function(Tr){return or(this.red,"redISub works only with red numbers"),this.red.isub(this,Tr)},lr.prototype.redShl=function(Tr){return or(this.red,"redShl works only with red numbers"),this.red.shl(this,Tr)},lr.prototype.redMul=function(Tr){return or(this.red,"redMul works only with red numbers"),this.red._verify2(this,Tr),this.red.mul(this,Tr)},lr.prototype.redIMul=function(Tr){return or(this.red,"redMul works only with red numbers"),this.red._verify2(this,Tr),this.red.imul(this,Tr)},lr.prototype.redSqr=function(){return or(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},lr.prototype.redISqr=function(){return or(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},lr.prototype.redSqrt=function(){return or(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},lr.prototype.redInvm=function(){return or(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},lr.prototype.redNeg=function(){return or(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},lr.prototype.redPow=function(Tr){return or(this.red&&!Tr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Tr)};var Cr={k256:null,p224:null,p192:null,p25519:null};function Pr(Tr,_r){this.name=Tr,this.p=new lr(_r,16),this.n=this.p.bitLength(),this.k=new lr(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Rr(){Pr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Lr(){Pr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ir(){Pr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Nr(){Pr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Ar(Tr){if(typeof Tr=="string"){var _r=lr._prime(Tr);this.m=_r.p,this.prime=_r}else or(Tr.gtn(1),"modulus must be greater than 1"),this.m=Tr,this.prime=null}function Dr(Tr){Ar.call(this,Tr),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new lr(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Pr.prototype._tmp=function(){var Tr=new lr(null);return Tr.words=new Array(Math.ceil(this.n/13)),Tr},Pr.prototype.ireduce=function(Tr){var _r,wr=Tr;do this.split(wr,this.tmp),_r=(wr=(wr=this.imulK(wr)).iadd(this.tmp)).bitLength();while(_r>this.n);var Er=_r<this.n?-1:wr.ucmp(this.p);return Er===0?(wr.words[0]=0,wr.length=1):Er>0?wr.isub(this.p):wr.strip!==void 0?wr.strip():wr._strip(),wr},Pr.prototype.split=function(Tr,_r){Tr.iushrn(this.n,0,_r)},Pr.prototype.imulK=function(Tr){return Tr.imul(this.k)},ar(Rr,Pr),Rr.prototype.split=function(Tr,_r){for(var wr=Math.min(Tr.length,9),Er=0;Er<wr;Er++)_r.words[Er]=Tr.words[Er];if(_r.length=wr,Tr.length<=9)return Tr.words[0]=0,void(Tr.length=1);var xr=Tr.words[9];for(_r.words[_r.length++]=4194303&xr,Er=10;Er<Tr.length;Er++){var Mr=0|Tr.words[Er];Tr.words[Er-10]=(4194303&Mr)<<4|xr>>>22,xr=Mr}xr>>>=22,Tr.words[Er-10]=xr,xr===0&&Tr.length>10?Tr.length-=10:Tr.length-=9},Rr.prototype.imulK=function(Tr){Tr.words[Tr.length]=0,Tr.words[Tr.length+1]=0,Tr.length+=2;for(var _r=0,wr=0;wr<Tr.length;wr++){var Er=0|Tr.words[wr];_r+=977*Er,Tr.words[wr]=67108863&_r,_r=64*Er+(_r/67108864|0)}return Tr.words[Tr.length-1]===0&&(Tr.length--,Tr.words[Tr.length-1]===0&&Tr.length--),Tr},ar(Lr,Pr),ar(Ir,Pr),ar(Nr,Pr),Nr.prototype.imulK=function(Tr){for(var _r=0,wr=0;wr<Tr.length;wr++){var Er=19*(0|Tr.words[wr])+_r,xr=67108863&Er;Er>>>=26,Tr.words[wr]=xr,_r=Er}return _r!==0&&(Tr.words[Tr.length++]=_r),Tr},lr._prime=function(Tr){if(Cr[Tr])return Cr[Tr];var _r;if(Tr==="k256")_r=new Rr;else if(Tr==="p224")_r=new Lr;else if(Tr==="p192")_r=new Ir;else{if(Tr!=="p25519")throw new Error("Unknown prime "+Tr);_r=new Nr}return Cr[Tr]=_r,_r},Ar.prototype._verify1=function(Tr){or(Tr.negative===0,"red works only with positives"),or(Tr.red,"red works only with red numbers")},Ar.prototype._verify2=function(Tr,_r){or((Tr.negative|_r.negative)==0,"red works only with positives"),or(Tr.red&&Tr.red===_r.red,"red works only with red numbers")},Ar.prototype.imod=function(Tr){return this.prime?this.prime.ireduce(Tr)._forceRed(this):(pr(Tr,Tr.umod(this.m)._forceRed(this)),Tr)},Ar.prototype.neg=function(Tr){return Tr.isZero()?Tr.clone():this.m.sub(Tr)._forceRed(this)},Ar.prototype.add=function(Tr,_r){this._verify2(Tr,_r);var wr=Tr.add(_r);return wr.cmp(this.m)>=0&&wr.isub(this.m),wr._forceRed(this)},Ar.prototype.iadd=function(Tr,_r){this._verify2(Tr,_r);var wr=Tr.iadd(_r);return wr.cmp(this.m)>=0&&wr.isub(this.m),wr},Ar.prototype.sub=function(Tr,_r){this._verify2(Tr,_r);var wr=Tr.sub(_r);return wr.cmpn(0)<0&&wr.iadd(this.m),wr._forceRed(this)},Ar.prototype.isub=function(Tr,_r){this._verify2(Tr,_r);var wr=Tr.isub(_r);return wr.cmpn(0)<0&&wr.iadd(this.m),wr},Ar.prototype.shl=function(Tr,_r){return this._verify1(Tr),this.imod(Tr.ushln(_r))},Ar.prototype.imul=function(Tr,_r){return this._verify2(Tr,_r),this.imod(Tr.imul(_r))},Ar.prototype.mul=function(Tr,_r){return this._verify2(Tr,_r),this.imod(Tr.mul(_r))},Ar.prototype.isqr=function(Tr){return this.imul(Tr,Tr.clone())},Ar.prototype.sqr=function(Tr){return this.mul(Tr,Tr)},Ar.prototype.sqrt=function(Tr){if(Tr.isZero())return Tr.clone();var _r=this.m.andln(3);if(or(_r%2==1),_r===3){var wr=this.m.add(new lr(1)).iushrn(2);return this.pow(Tr,wr)}for(var Er=this.m.subn(1),xr=0;!Er.isZero()&&Er.andln(1)===0;)xr++,Er.iushrn(1);or(!Er.isZero());var Mr=new lr(1).toRed(this),zr=Mr.redNeg(),Or=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new lr(2*Br*Br).toRed(this);this.pow(Br,Or).cmp(zr)!==0;)Br.redIAdd(zr);for(var Ur=this.pow(Br,Er),qr=this.pow(Tr,Er.addn(1).iushrn(1)),Vr=this.pow(Tr,Er),Gr=xr;Vr.cmp(Mr)!==0;){for(var $r=Vr,Fr=0;$r.cmp(Mr)!==0;Fr++)$r=$r.redSqr();or(Fr<Gr);var Kr=this.pow(Ur,new lr(1).iushln(Gr-Fr-1));qr=qr.redMul(Kr),Ur=Kr.redSqr(),Vr=Vr.redMul(Ur),Gr=Fr}return qr},Ar.prototype.invm=function(Tr){var _r=Tr._invmp(this.m);return _r.negative!==0?(_r.negative=0,this.imod(_r).redNeg()):this.imod(_r)},Ar.prototype.pow=function(Tr,_r){if(_r.isZero())return new lr(1).toRed(this);if(_r.cmpn(1)===0)return Tr.clone();var wr=new Array(16);wr[0]=new lr(1).toRed(this),wr[1]=Tr;for(var Er=2;Er<wr.length;Er++)wr[Er]=this.mul(wr[Er-1],Tr);var xr=wr[0],Mr=0,zr=0,Or=_r.bitLength()%26;for(Or===0&&(Or=26),Er=_r.length-1;Er>=0;Er--){for(var Br=_r.words[Er],Ur=Or-1;Ur>=0;Ur--){var qr=Br>>Ur&1;xr!==wr[0]&&(xr=this.sqr(xr)),qr!==0||Mr!==0?(Mr<<=1,Mr|=qr,(++zr===4||Er===0&&Ur===0)&&(xr=this.mul(xr,wr[Mr]),zr=0,Mr=0)):zr=0}Or=26}return xr},Ar.prototype.convertTo=function(Tr){var _r=Tr.umod(this.m);return _r===Tr?_r.clone():_r},Ar.prototype.convertFrom=function(Tr){var _r=Tr.clone();return _r.red=null,_r},lr.mont=function(Tr){return new Dr(Tr)},ar(Dr,Ar),Dr.prototype.convertTo=function(Tr){return this.imod(Tr.ushln(this.shift))},Dr.prototype.convertFrom=function(Tr){var _r=this.imod(Tr.mul(this.rinv));return _r.red=null,_r},Dr.prototype.imul=function(Tr,_r){if(Tr.isZero()||_r.isZero())return Tr.words[0]=0,Tr.length=1,Tr;var wr=Tr.imul(_r),Er=wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xr=wr.isub(Er).iushrn(this.shift),Mr=xr;return xr.cmp(this.m)>=0?Mr=xr.isub(this.m):xr.cmpn(0)<0&&(Mr=xr.iadd(this.m)),Mr._forceRed(this)},Dr.prototype.mul=function(Tr,_r){if(Tr.isZero()||_r.isZero())return new lr(0)._forceRed(this);var wr=Tr.mul(_r),Er=wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xr=wr.isub(Er).iushrn(this.shift),Mr=xr;return xr.cmp(this.m)>=0?Mr=xr.isub(this.m):xr.cmpn(0)<0&&(Mr=xr.iadd(this.m)),Mr._forceRed(this)},Dr.prototype.invm=function(Tr){return this.imod(Tr._invmp(this.m).mul(this.r2))._forceRed(this)}})(rr===void 0||rr)},{buffer:188}],187:[function(tr,rr,nr){var ir;function sr(ar){this.rand=ar}if(rr.exports=function(ar){return ir||(ir=new sr(null)),ir.generate(ar)},rr.exports.Rand=sr,sr.prototype.generate=function(ar){return this._rand(ar)},sr.prototype._rand=function(ar){if(this.rand.getBytes)return this.rand.getBytes(ar);for(var lr=new Uint8Array(ar),cr=0;cr<lr.length;cr++)lr[cr]=this.rand.getByte();return lr},typeof self=="object")self.crypto&&self.crypto.getRandomValues?sr.prototype._rand=function(ar){var lr=new Uint8Array(ar);return self.crypto.getRandomValues(lr),lr}:self.msCrypto&&self.msCrypto.getRandomValues?sr.prototype._rand=function(ar){var lr=new Uint8Array(ar);return self.msCrypto.getRandomValues(lr),lr}:typeof window=="object"&&(sr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var or=tr("crypto");if(typeof or.randomBytes!="function")throw new Error("Not supported");sr.prototype._rand=function(ar){return or.randomBytes(ar)}}catch{}},{crypto:188}],188:[function(tr,rr,nr){},{}],189:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer;function sr(hr){ir.isBuffer(hr)||(hr=ir.from(hr));for(var ur=hr.length/4|0,pr=new Array(ur),mr=0;mr<ur;mr++)pr[mr]=hr.readUInt32BE(4*mr);return pr}function or(hr){for(;0<hr.length;hr++)hr[0]=0}function ar(hr,ur,pr,mr,fr){for(var gr,yr,vr,br,Sr=pr[0],jr=pr[1],Cr=pr[2],Pr=pr[3],Rr=hr[0]^ur[0],Lr=hr[1]^ur[1],Ir=hr[2]^ur[2],Nr=hr[3]^ur[3],Ar=4,Dr=1;Dr<fr;Dr++)gr=Sr[Rr>>>24]^jr[Lr>>>16&255]^Cr[Ir>>>8&255]^Pr[255&Nr]^ur[Ar++],yr=Sr[Lr>>>24]^jr[Ir>>>16&255]^Cr[Nr>>>8&255]^Pr[255&Rr]^ur[Ar++],vr=Sr[Ir>>>24]^jr[Nr>>>16&255]^Cr[Rr>>>8&255]^Pr[255&Lr]^ur[Ar++],br=Sr[Nr>>>24]^jr[Rr>>>16&255]^Cr[Lr>>>8&255]^Pr[255&Ir]^ur[Ar++],Rr=gr,Lr=yr,Ir=vr,Nr=br;return gr=(mr[Rr>>>24]<<24|mr[Lr>>>16&255]<<16|mr[Ir>>>8&255]<<8|mr[255&Nr])^ur[Ar++],yr=(mr[Lr>>>24]<<24|mr[Ir>>>16&255]<<16|mr[Nr>>>8&255]<<8|mr[255&Rr])^ur[Ar++],vr=(mr[Ir>>>24]<<24|mr[Nr>>>16&255]<<16|mr[Rr>>>8&255]<<8|mr[255&Lr])^ur[Ar++],br=(mr[Nr>>>24]<<24|mr[Rr>>>16&255]<<16|mr[Lr>>>8&255]<<8|mr[255&Ir])^ur[Ar++],[gr>>>=0,yr>>>=0,vr>>>=0,br>>>=0]}var lr=[0,1,2,4,8,16,32,64,128,27,54],cr=function(){for(var hr=new Array(256),ur=0;ur<256;ur++)hr[ur]=ur<128?ur<<1:ur<<1^283;for(var pr=[],mr=[],fr=[[],[],[],[]],gr=[[],[],[],[]],yr=0,vr=0,br=0;br<256;++br){var Sr=vr^vr<<1^vr<<2^vr<<3^vr<<4;Sr=Sr>>>8^255&Sr^99,pr[yr]=Sr,mr[Sr]=yr;var jr=hr[yr],Cr=hr[jr],Pr=hr[Cr],Rr=257*hr[Sr]^16843008*Sr;fr[0][yr]=Rr<<24|Rr>>>8,fr[1][yr]=Rr<<16|Rr>>>16,fr[2][yr]=Rr<<8|Rr>>>24,fr[3][yr]=Rr,Rr=16843009*Pr^65537*Cr^257*jr^16843008*yr,gr[0][Sr]=Rr<<24|Rr>>>8,gr[1][Sr]=Rr<<16|Rr>>>16,gr[2][Sr]=Rr<<8|Rr>>>24,gr[3][Sr]=Rr,yr===0?yr=vr=1:(yr=jr^hr[hr[hr[Pr^jr]]],vr^=hr[hr[vr]])}return{SBOX:pr,INV_SBOX:mr,SUB_MIX:fr,INV_SUB_MIX:gr}}();function dr(hr){this._key=sr(hr),this._reset()}dr.blockSize=16,dr.keySize=32,dr.prototype.blockSize=dr.blockSize,dr.prototype.keySize=dr.keySize,dr.prototype._reset=function(){for(var hr=this._key,ur=hr.length,pr=ur+6,mr=4*(pr+1),fr=[],gr=0;gr<ur;gr++)fr[gr]=hr[gr];for(gr=ur;gr<mr;gr++){var yr=fr[gr-1];gr%ur==0?(yr=yr<<8|yr>>>24,yr=cr.SBOX[yr>>>24]<<24|cr.SBOX[yr>>>16&255]<<16|cr.SBOX[yr>>>8&255]<<8|cr.SBOX[255&yr],yr^=lr[gr/ur|0]<<24):ur>6&&gr%ur==4&&(yr=cr.SBOX[yr>>>24]<<24|cr.SBOX[yr>>>16&255]<<16|cr.SBOX[yr>>>8&255]<<8|cr.SBOX[255&yr]),fr[gr]=fr[gr-ur]^yr}for(var vr=[],br=0;br<mr;br++){var Sr=mr-br,jr=fr[Sr-(br%4?0:4)];vr[br]=br<4||Sr<=4?jr:cr.INV_SUB_MIX[0][cr.SBOX[jr>>>24]]^cr.INV_SUB_MIX[1][cr.SBOX[jr>>>16&255]]^cr.INV_SUB_MIX[2][cr.SBOX[jr>>>8&255]]^cr.INV_SUB_MIX[3][cr.SBOX[255&jr]]}this._nRounds=pr,this._keySchedule=fr,this._invKeySchedule=vr},dr.prototype.encryptBlockRaw=function(hr){return ar(hr=sr(hr),this._keySchedule,cr.SUB_MIX,cr.SBOX,this._nRounds)},dr.prototype.encryptBlock=function(hr){var ur=this.encryptBlockRaw(hr),pr=ir.allocUnsafe(16);return pr.writeUInt32BE(ur[0],0),pr.writeUInt32BE(ur[1],4),pr.writeUInt32BE(ur[2],8),pr.writeUInt32BE(ur[3],12),pr},dr.prototype.decryptBlock=function(hr){var ur=(hr=sr(hr))[1];hr[1]=hr[3],hr[3]=ur;var pr=ar(hr,this._invKeySchedule,cr.INV_SUB_MIX,cr.INV_SBOX,this._nRounds),mr=ir.allocUnsafe(16);return mr.writeUInt32BE(pr[0],0),mr.writeUInt32BE(pr[3],4),mr.writeUInt32BE(pr[2],8),mr.writeUInt32BE(pr[1],12),mr},dr.prototype.scrub=function(){or(this._keySchedule),or(this._invKeySchedule),or(this._key)},rr.exports.AES=dr},{"safe-buffer":494}],190:[function(tr,rr,nr){var ir=tr("./aes"),sr=tr("safe-buffer").Buffer,or=tr("cipher-base"),ar=tr("inherits"),lr=tr("./ghash"),cr=tr("buffer-xor"),dr=tr("./incr32");function hr(ur,pr,mr,fr){or.call(this);var gr=sr.alloc(4,0);this._cipher=new ir.AES(pr);var yr=this._cipher.encryptBlock(gr);this._ghash=new lr(yr),mr=function(vr,br,Sr){if(br.length===12)return vr._finID=sr.concat([br,sr.from([0,0,0,1])]),sr.concat([br,sr.from([0,0,0,2])]);var jr=new lr(Sr),Cr=br.length,Pr=Cr%16;jr.update(br),Pr&&(Pr=16-Pr,jr.update(sr.alloc(Pr,0))),jr.update(sr.alloc(8,0));var Rr=8*Cr,Lr=sr.alloc(8);Lr.writeUIntBE(Rr,0,8),jr.update(Lr),vr._finID=jr.state;var Ir=sr.from(vr._finID);return dr(Ir),Ir}(this,mr,yr),this._prev=sr.from(mr),this._cache=sr.allocUnsafe(0),this._secCache=sr.allocUnsafe(0),this._decrypt=fr,this._alen=0,this._len=0,this._mode=ur,this._authTag=null,this._called=!1}ar(hr,or),hr.prototype._update=function(ur){if(!this._called&&this._alen){var pr=16-this._alen%16;pr<16&&(pr=sr.alloc(pr,0),this._ghash.update(pr))}this._called=!0;var mr=this._mode.encrypt(this,ur);return this._decrypt?this._ghash.update(ur):this._ghash.update(mr),this._len+=ur.length,mr},hr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ur=cr(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(pr,mr){var fr=0;pr.length!==mr.length&&fr++;for(var gr=Math.min(pr.length,mr.length),yr=0;yr<gr;++yr)fr+=pr[yr]^mr[yr];return fr}(ur,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ur,this._cipher.scrub()},hr.prototype.getAuthTag=function(){if(this._decrypt||!sr.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},hr.prototype.setAuthTag=function(ur){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=ur},hr.prototype.setAAD=function(ur){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(ur),this._alen+=ur.length},rr.exports=hr},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(tr,rr,nr){var ir=tr("./encrypter"),sr=tr("./decrypter"),or=tr("./modes/list.json");nr.createCipher=nr.Cipher=ir.createCipher,nr.createCipheriv=nr.Cipheriv=ir.createCipheriv,nr.createDecipher=nr.Decipher=sr.createDecipher,nr.createDecipheriv=nr.Decipheriv=sr.createDecipheriv,nr.listCiphers=nr.getCiphers=function(){return Object.keys(or)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(tr,rr,nr){var ir=tr("./authCipher"),sr=tr("safe-buffer").Buffer,or=tr("./modes"),ar=tr("./streamCipher"),lr=tr("cipher-base"),cr=tr("./aes"),dr=tr("evp_bytestokey");function hr(mr,fr,gr){lr.call(this),this._cache=new ur,this._last=void 0,this._cipher=new cr.AES(fr),this._prev=sr.from(gr),this._mode=mr,this._autopadding=!0}function ur(){this.cache=sr.allocUnsafe(0)}function pr(mr,fr,gr){var yr=or[mr.toLowerCase()];if(!yr)throw new TypeError("invalid suite type");if(typeof gr=="string"&&(gr=sr.from(gr)),yr.mode!=="GCM"&&gr.length!==yr.iv)throw new TypeError("invalid iv length "+gr.length);if(typeof fr=="string"&&(fr=sr.from(fr)),fr.length!==yr.key/8)throw new TypeError("invalid key length "+fr.length);return yr.type==="stream"?new ar(yr.module,fr,gr,!0):yr.type==="auth"?new ir(yr.module,fr,gr,!0):new hr(yr.module,fr,gr)}tr("inherits")(hr,lr),hr.prototype._update=function(mr){var fr,gr;this._cache.add(mr);for(var yr=[];fr=this._cache.get(this._autopadding);)gr=this._mode.decrypt(this,fr),yr.push(gr);return sr.concat(yr)},hr.prototype._final=function(){var mr=this._cache.flush();if(this._autopadding)return function(fr){var gr=fr[15];if(gr<1||gr>16)throw new Error("unable to decrypt data");for(var yr=-1;++yr<gr;)if(fr[yr+(16-gr)]!==gr)throw new Error("unable to decrypt data");if(gr!==16)return fr.slice(0,16-gr)}(this._mode.decrypt(this,mr));if(mr)throw new Error("data not multiple of block length")},hr.prototype.setAutoPadding=function(mr){return this._autopadding=!!mr,this},ur.prototype.add=function(mr){this.cache=sr.concat([this.cache,mr])},ur.prototype.get=function(mr){var fr;if(mr){if(this.cache.length>16)return fr=this.cache.slice(0,16),this.cache=this.cache.slice(16),fr}else if(this.cache.length>=16)return fr=this.cache.slice(0,16),this.cache=this.cache.slice(16),fr;return null},ur.prototype.flush=function(){if(this.cache.length)return this.cache},nr.createDecipher=function(mr,fr){var gr=or[mr.toLowerCase()];if(!gr)throw new TypeError("invalid suite type");var yr=dr(fr,!1,gr.key,gr.iv);return pr(mr,yr.key,yr.iv)},nr.createDecipheriv=pr},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(tr,rr,nr){var ir=tr("./modes"),sr=tr("./authCipher"),or=tr("safe-buffer").Buffer,ar=tr("./streamCipher"),lr=tr("cipher-base"),cr=tr("./aes"),dr=tr("evp_bytestokey");function hr(fr,gr,yr){lr.call(this),this._cache=new pr,this._cipher=new cr.AES(gr),this._prev=or.from(yr),this._mode=fr,this._autopadding=!0}tr("inherits")(hr,lr),hr.prototype._update=function(fr){var gr,yr;this._cache.add(fr);for(var vr=[];gr=this._cache.get();)yr=this._mode.encrypt(this,gr),vr.push(yr);return or.concat(vr)};var ur=or.alloc(16,16);function pr(){this.cache=or.allocUnsafe(0)}function mr(fr,gr,yr){var vr=ir[fr.toLowerCase()];if(!vr)throw new TypeError("invalid suite type");if(typeof gr=="string"&&(gr=or.from(gr)),gr.length!==vr.key/8)throw new TypeError("invalid key length "+gr.length);if(typeof yr=="string"&&(yr=or.from(yr)),vr.mode!=="GCM"&&yr.length!==vr.iv)throw new TypeError("invalid iv length "+yr.length);return vr.type==="stream"?new ar(vr.module,gr,yr):vr.type==="auth"?new sr(vr.module,gr,yr):new hr(vr.module,gr,yr)}hr.prototype._final=function(){var fr=this._cache.flush();if(this._autopadding)return fr=this._mode.encrypt(this,fr),this._cipher.scrub(),fr;if(!fr.equals(ur))throw this._cipher.scrub(),new Error("data not multiple of block length")},hr.prototype.setAutoPadding=function(fr){return this._autopadding=!!fr,this},pr.prototype.add=function(fr){this.cache=or.concat([this.cache,fr])},pr.prototype.get=function(){if(this.cache.length>15){var fr=this.cache.slice(0,16);return this.cache=this.cache.slice(16),fr}return null},pr.prototype.flush=function(){for(var fr=16-this.cache.length,gr=or.allocUnsafe(fr),yr=-1;++yr<fr;)gr.writeUInt8(fr,yr);return or.concat([this.cache,gr])},nr.createCipheriv=mr,nr.createCipher=function(fr,gr){var yr=ir[fr.toLowerCase()];if(!yr)throw new TypeError("invalid suite type");var vr=dr(gr,!1,yr.key,yr.iv);return mr(fr,vr.key,vr.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=ir.alloc(16,0);function or(lr){var cr=ir.allocUnsafe(16);return cr.writeUInt32BE(lr[0]>>>0,0),cr.writeUInt32BE(lr[1]>>>0,4),cr.writeUInt32BE(lr[2]>>>0,8),cr.writeUInt32BE(lr[3]>>>0,12),cr}function ar(lr){this.h=lr,this.state=ir.alloc(16,0),this.cache=ir.allocUnsafe(0)}ar.prototype.ghash=function(lr){for(var cr=-1;++cr<lr.length;)this.state[cr]^=lr[cr];this._multiply()},ar.prototype._multiply=function(){for(var lr,cr,dr,hr=[(lr=this.h).readUInt32BE(0),lr.readUInt32BE(4),lr.readUInt32BE(8),lr.readUInt32BE(12)],ur=[0,0,0,0],pr=-1;++pr<128;){for(this.state[~~(pr/8)]&1<<7-pr%8&&(ur[0]^=hr[0],ur[1]^=hr[1],ur[2]^=hr[2],ur[3]^=hr[3]),dr=(1&hr[3])!=0,cr=3;cr>0;cr--)hr[cr]=hr[cr]>>>1|(1&hr[cr-1])<<31;hr[0]=hr[0]>>>1,dr&&(hr[0]=hr[0]^225<<24)}this.state=or(ur)},ar.prototype.update=function(lr){var cr;for(this.cache=ir.concat([this.cache,lr]);this.cache.length>=16;)cr=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(cr)},ar.prototype.final=function(lr,cr){return this.cache.length&&this.ghash(ir.concat([this.cache,sr],16)),this.ghash(or([0,lr,0,cr])),this.state},rr.exports=ar},{"safe-buffer":494}],195:[function(tr,rr,nr){rr.exports=function(ir){for(var sr,or=ir.length;or--;){if((sr=ir.readUInt8(or))!==255){sr++,ir.writeUInt8(sr,or);break}ir.writeUInt8(0,or)}}},{}],196:[function(tr,rr,nr){var ir=tr("buffer-xor");nr.encrypt=function(sr,or){var ar=ir(or,sr._prev);return sr._prev=sr._cipher.encryptBlock(ar),sr._prev},nr.decrypt=function(sr,or){var ar=sr._prev;sr._prev=or;var lr=sr._cipher.decryptBlock(or);return ir(lr,ar)}},{"buffer-xor":219}],197:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("buffer-xor");function or(ar,lr,cr){var dr=lr.length,hr=sr(lr,ar._cache);return ar._cache=ar._cache.slice(dr),ar._prev=ir.concat([ar._prev,cr?lr:hr]),hr}nr.encrypt=function(ar,lr,cr){for(var dr,hr=ir.allocUnsafe(0);lr.length;){if(ar._cache.length===0&&(ar._cache=ar._cipher.encryptBlock(ar._prev),ar._prev=ir.allocUnsafe(0)),!(ar._cache.length<=lr.length)){hr=ir.concat([hr,or(ar,lr,cr)]);break}dr=ar._cache.length,hr=ir.concat([hr,or(ar,lr.slice(0,dr),cr)]),lr=lr.slice(dr)}return hr}},{"buffer-xor":219,"safe-buffer":494}],198:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer;function sr(ar,lr,cr){for(var dr,hr,ur=-1,pr=0;++ur<8;)dr=lr&1<<7-ur?128:0,pr+=(128&(hr=ar._cipher.encryptBlock(ar._prev)[0]^dr))>>ur%8,ar._prev=or(ar._prev,cr?dr:hr);return pr}function or(ar,lr){var cr=ar.length,dr=-1,hr=ir.allocUnsafe(ar.length);for(ar=ir.concat([ar,ir.from([lr])]);++dr<cr;)hr[dr]=ar[dr]<<1|ar[dr+1]>>7;return hr}nr.encrypt=function(ar,lr,cr){for(var dr=lr.length,hr=ir.allocUnsafe(dr),ur=-1;++ur<dr;)hr[ur]=sr(ar,lr[ur],cr);return hr}},{"safe-buffer":494}],199:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer;function sr(or,ar,lr){var cr=or._cipher.encryptBlock(or._prev)[0]^ar;return or._prev=ir.concat([or._prev.slice(1),ir.from([lr?ar:cr])]),cr}nr.encrypt=function(or,ar,lr){for(var cr=ar.length,dr=ir.allocUnsafe(cr),hr=-1;++hr<cr;)dr[hr]=sr(or,ar[hr],lr);return dr}},{"safe-buffer":494}],200:[function(tr,rr,nr){var ir=tr("buffer-xor"),sr=tr("safe-buffer").Buffer,or=tr("../incr32");function ar(lr){var cr=lr._cipher.encryptBlockRaw(lr._prev);return or(lr._prev),cr}nr.encrypt=function(lr,cr){var dr=Math.ceil(cr.length/16),hr=lr._cache.length;lr._cache=sr.concat([lr._cache,sr.allocUnsafe(16*dr)]);for(var ur=0;ur<dr;ur++){var pr=ar(lr),mr=hr+16*ur;lr._cache.writeUInt32BE(pr[0],mr+0),lr._cache.writeUInt32BE(pr[1],mr+4),lr._cache.writeUInt32BE(pr[2],mr+8),lr._cache.writeUInt32BE(pr[3],mr+12)}var fr=lr._cache.slice(0,cr.length);return lr._cache=lr._cache.slice(cr.length),ir(cr,fr)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(tr,rr,nr){nr.encrypt=function(ir,sr){return ir._cipher.encryptBlock(sr)},nr.decrypt=function(ir,sr){return ir._cipher.decryptBlock(sr)}},{}],202:[function(tr,rr,nr){var ir={ECB:tr("./ecb"),CBC:tr("./cbc"),CFB:tr("./cfb"),CFB8:tr("./cfb8"),CFB1:tr("./cfb1"),OFB:tr("./ofb"),CTR:tr("./ctr"),GCM:tr("./ctr")},sr=tr("./list.json");for(var or in sr)sr[or].module=ir[sr[or].mode];rr.exports=sr},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(tr,rr,nr){rr.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("buffer-xor");function or(ar){return ar._prev=ar._cipher.encryptBlock(ar._prev),ar._prev}nr.encrypt=function(ar,lr){for(;ar._cache.length<lr.length;)ar._cache=ir.concat([ar._cache,or(ar)]);var cr=ar._cache.slice(0,lr.length);return ar._cache=ar._cache.slice(lr.length),sr(lr,cr)}}).call(this)}).call(this,tr("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(tr,rr,nr){var ir=tr("./aes"),sr=tr("safe-buffer").Buffer,or=tr("cipher-base");function ar(lr,cr,dr,hr){or.call(this),this._cipher=new ir.AES(cr),this._prev=sr.from(dr),this._cache=sr.allocUnsafe(0),this._secCache=sr.allocUnsafe(0),this._decrypt=hr,this._mode=lr}tr("inherits")(ar,or),ar.prototype._update=function(lr){return this._mode.encrypt(this,lr,this._decrypt)},ar.prototype._final=function(){this._cipher.scrub()},rr.exports=ar},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(tr,rr,nr){var ir=tr("browserify-des"),sr=tr("browserify-aes/browser"),or=tr("browserify-aes/modes"),ar=tr("browserify-des/modes"),lr=tr("evp_bytestokey");function cr(hr,ur,pr){if(hr=hr.toLowerCase(),or[hr])return sr.createCipheriv(hr,ur,pr);if(ar[hr])return new ir({key:ur,iv:pr,mode:hr});throw new TypeError("invalid suite type")}function dr(hr,ur,pr){if(hr=hr.toLowerCase(),or[hr])return sr.createDecipheriv(hr,ur,pr);if(ar[hr])return new ir({key:ur,iv:pr,mode:hr,decrypt:!0});throw new TypeError("invalid suite type")}nr.createCipher=nr.Cipher=function(hr,ur){var pr,mr;if(hr=hr.toLowerCase(),or[hr])pr=or[hr].key,mr=or[hr].iv;else{if(!ar[hr])throw new TypeError("invalid suite type");pr=8*ar[hr].key,mr=ar[hr].iv}var fr=lr(ur,!1,pr,mr);return cr(hr,fr.key,fr.iv)},nr.createCipheriv=nr.Cipheriv=cr,nr.createDecipher=nr.Decipher=function(hr,ur){var pr,mr;if(hr=hr.toLowerCase(),or[hr])pr=or[hr].key,mr=or[hr].iv;else{if(!ar[hr])throw new TypeError("invalid suite type");pr=8*ar[hr].key,mr=ar[hr].iv}var fr=lr(ur,!1,pr,mr);return dr(hr,fr.key,fr.iv)},nr.createDecipheriv=nr.Decipheriv=dr,nr.listCiphers=nr.getCiphers=function(){return Object.keys(ar).concat(sr.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(tr,rr,nr){var ir=tr("cipher-base"),sr=tr("des.js"),or=tr("inherits"),ar=tr("safe-buffer").Buffer,lr={"des-ede3-cbc":sr.CBC.instantiate(sr.EDE),"des-ede3":sr.EDE,"des-ede-cbc":sr.CBC.instantiate(sr.EDE),"des-ede":sr.EDE,"des-cbc":sr.CBC.instantiate(sr.DES),"des-ecb":sr.DES};function cr(dr){ir.call(this);var hr,ur=dr.mode.toLowerCase(),pr=lr[ur];hr=dr.decrypt?"decrypt":"encrypt";var mr=dr.key;ar.isBuffer(mr)||(mr=ar.from(mr)),ur!=="des-ede"&&ur!=="des-ede-cbc"||(mr=ar.concat([mr,mr.slice(0,8)]));var fr=dr.iv;ar.isBuffer(fr)||(fr=ar.from(fr)),this._des=pr.create({key:mr,iv:fr,type:hr})}lr.des=lr["des-cbc"],lr.des3=lr["des-ede3-cbc"],rr.exports=cr,or(cr,ir),cr.prototype._update=function(dr){return ar.from(this._des.update(dr))},cr.prototype._final=function(){return ar.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(tr,rr,nr){nr["des-ecb"]={key:8,iv:0},nr["des-cbc"]=nr.des={key:8,iv:8},nr["des-ede3-cbc"]=nr.des3={key:24,iv:8},nr["des-ede3"]={key:24,iv:0},nr["des-ede-cbc"]={key:16,iv:8},nr["des-ede"]={key:16,iv:0}},{}],209:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("bn.js"),or=tr("randombytes");function ar(cr){var dr,hr=cr.modulus.byteLength();do dr=new sr(or(hr));while(dr.cmp(cr.modulus)>=0||!dr.umod(cr.prime1)||!dr.umod(cr.prime2));return dr}function lr(cr,dr){var hr=function(Cr){var Pr=ar(Cr);return{blinder:Pr.toRed(sr.mont(Cr.modulus)).redPow(new sr(Cr.publicExponent)).fromRed(),unblinder:Pr.invm(Cr.modulus)}}(dr),ur=dr.modulus.byteLength(),pr=new sr(cr).mul(hr.blinder).umod(dr.modulus),mr=pr.toRed(sr.mont(dr.prime1)),fr=pr.toRed(sr.mont(dr.prime2)),gr=dr.coefficient,yr=dr.prime1,vr=dr.prime2,br=mr.redPow(dr.exponent1).fromRed(),Sr=fr.redPow(dr.exponent2).fromRed(),jr=br.isub(Sr).imul(gr).umod(yr).imul(vr);return Sr.iadd(jr).imul(hr.unblinder).umod(dr.modulus).toArrayLike(ir,"be",ur)}lr.getr=ar,rr.exports=lr}).call(this)}).call(this,tr("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(tr,rr,nr){rr.exports=tr("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(tr,rr,nr){rr.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(tr,rr,nr){rr.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("create-hash"),or=tr("readable-stream"),ar=tr("inherits"),lr=tr("./sign"),cr=tr("./verify"),dr=tr("./algorithms.json");function hr(fr){or.Writable.call(this);var gr=dr[fr];if(!gr)throw new Error("Unknown message digest");this._hashType=gr.hash,this._hash=sr(gr.hash),this._tag=gr.id,this._signType=gr.sign}function ur(fr){or.Writable.call(this);var gr=dr[fr];if(!gr)throw new Error("Unknown message digest");this._hash=sr(gr.hash),this._tag=gr.id,this._signType=gr.sign}function pr(fr){return new hr(fr)}function mr(fr){return new ur(fr)}Object.keys(dr).forEach(function(fr){dr[fr].id=ir.from(dr[fr].id,"hex"),dr[fr.toLowerCase()]=dr[fr]}),ar(hr,or.Writable),hr.prototype._write=function(fr,gr,yr){this._hash.update(fr),yr()},hr.prototype.update=function(fr,gr){return typeof fr=="string"&&(fr=ir.from(fr,gr)),this._hash.update(fr),this},hr.prototype.sign=function(fr,gr){this.end();var yr=this._hash.digest(),vr=lr(yr,fr,this._hashType,this._signType,this._tag);return gr?vr.toString(gr):vr},ar(ur,or.Writable),ur.prototype._write=function(fr,gr,yr){this._hash.update(fr),yr()},ur.prototype.update=function(fr,gr){return typeof fr=="string"&&(fr=ir.from(fr,gr)),this._hash.update(fr),this},ur.prototype.verify=function(fr,gr,yr){typeof gr=="string"&&(gr=ir.from(gr,yr)),this.end();var vr=this._hash.digest();return cr(gr,vr,fr,this._signType,this._tag)},rr.exports={Sign:pr,Verify:mr,createSign:pr,createVerify:mr}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("create-hmac"),or=tr("browserify-rsa"),ar=tr("elliptic").ec,lr=tr("bn.js"),cr=tr("parse-asn1"),dr=tr("./curves.json");function hr(fr,gr,yr,vr){if((fr=ir.from(fr.toArray())).length<gr.byteLength()){var br=ir.alloc(gr.byteLength()-fr.length);fr=ir.concat([br,fr])}var Sr=yr.length,jr=function(Rr,Lr){Rr=(Rr=ur(Rr,Lr)).mod(Lr);var Ir=ir.from(Rr.toArray());if(Ir.length<Lr.byteLength()){var Nr=ir.alloc(Lr.byteLength()-Ir.length);Ir=ir.concat([Nr,Ir])}return Ir}(yr,gr),Cr=ir.alloc(Sr);Cr.fill(1);var Pr=ir.alloc(Sr);return Pr=sr(vr,Pr).update(Cr).update(ir.from([0])).update(fr).update(jr).digest(),Cr=sr(vr,Pr).update(Cr).digest(),{k:Pr=sr(vr,Pr).update(Cr).update(ir.from([1])).update(fr).update(jr).digest(),v:Cr=sr(vr,Pr).update(Cr).digest()}}function ur(fr,gr){var yr=new lr(fr),vr=(fr.length<<3)-gr.bitLength();return vr>0&&yr.ishrn(vr),yr}function pr(fr,gr,yr){var vr,br;do{for(vr=ir.alloc(0);8*vr.length<fr.bitLength();)gr.v=sr(yr,gr.k).update(gr.v).digest(),vr=ir.concat([vr,gr.v]);br=ur(vr,fr),gr.k=sr(yr,gr.k).update(gr.v).update(ir.from([0])).digest(),gr.v=sr(yr,gr.k).update(gr.v).digest()}while(br.cmp(fr)!==-1);return br}function mr(fr,gr,yr,vr){return fr.toRed(lr.mont(yr)).redPow(gr).fromRed().mod(vr)}rr.exports=function(fr,gr,yr,vr,br){var Sr=cr(gr);if(Sr.curve){if(vr!=="ecdsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");return function(Rr,Lr){var Ir=dr[Lr.curve.join(".")];if(!Ir)throw new Error("unknown curve "+Lr.curve.join("."));var Nr=new ar(Ir).keyFromPrivate(Lr.privateKey).sign(Rr);return ir.from(Nr.toDER())}(fr,Sr)}if(Sr.type==="dsa"){if(vr!=="dsa")throw new Error("wrong private key type");return function(Rr,Lr,Ir){for(var Nr,Ar=Lr.params.priv_key,Dr=Lr.params.p,Tr=Lr.params.q,_r=Lr.params.g,wr=new lr(0),Er=ur(Rr,Tr).mod(Tr),xr=!1,Mr=hr(Ar,Tr,Rr,Ir);xr===!1;)Nr=pr(Tr,Mr,Ir),wr=mr(_r,Nr,Dr,Tr),(xr=Nr.invm(Tr).imul(Er.add(Ar.mul(wr))).mod(Tr)).cmpn(0)===0&&(xr=!1,wr=new lr(0));return function(zr,Or){zr=zr.toArray(),Or=Or.toArray(),128&zr[0]&&(zr=[0].concat(zr)),128&Or[0]&&(Or=[0].concat(Or));var Br=[48,zr.length+Or.length+4,2,zr.length];return Br=Br.concat(zr,[2,Or.length],Or),ir.from(Br)}(wr,xr)}(fr,Sr,yr)}if(vr!=="rsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");fr=ir.concat([br,fr]);for(var jr=Sr.modulus.byteLength(),Cr=[0,1];fr.length+Cr.length+1<jr;)Cr.push(255);Cr.push(0);for(var Pr=-1;++Pr<fr.length;)Cr.push(fr[Pr]);return or(Cr,Sr)},rr.exports.getKey=hr,rr.exports.makeKey=pr},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("bn.js"),or=tr("elliptic").ec,ar=tr("parse-asn1"),lr=tr("./curves.json");function cr(dr,hr){if(dr.cmpn(0)<=0)throw new Error("invalid sig");if(dr.cmp(hr)>=hr)throw new Error("invalid sig")}rr.exports=function(dr,hr,ur,pr,mr){var fr=ar(ur);if(fr.type==="ec"){if(pr!=="ecdsa"&&pr!=="ecdsa/rsa")throw new Error("wrong public key type");return function(Cr,Pr,Rr){var Lr=lr[Rr.data.algorithm.curve.join(".")];if(!Lr)throw new Error("unknown curve "+Rr.data.algorithm.curve.join("."));var Ir=new or(Lr),Nr=Rr.data.subjectPrivateKey.data;return Ir.verify(Pr,Cr,Nr)}(dr,hr,fr)}if(fr.type==="dsa"){if(pr!=="dsa")throw new Error("wrong public key type");return function(Cr,Pr,Rr){var Lr=Rr.data.p,Ir=Rr.data.q,Nr=Rr.data.g,Ar=Rr.data.pub_key,Dr=ar.signature.decode(Cr,"der"),Tr=Dr.s,_r=Dr.r;cr(Tr,Ir),cr(_r,Ir);var wr=sr.mont(Lr),Er=Tr.invm(Ir);return Nr.toRed(wr).redPow(new sr(Pr).mul(Er).mod(Ir)).fromRed().mul(Ar.toRed(wr).redPow(_r.mul(Er).mod(Ir)).fromRed()).mod(Lr).mod(Ir).cmp(_r)===0}(dr,hr,fr)}if(pr!=="rsa"&&pr!=="ecdsa/rsa")throw new Error("wrong public key type");hr=ir.concat([mr,hr]);for(var gr=fr.modulus.byteLength(),yr=[1],vr=0;hr.length+yr.length+2<gr;)yr.push(255),vr++;yr.push(0);for(var br=-1;++br<hr.length;)yr.push(hr[br]);yr=ir.from(yr);var Sr=sr.mont(fr.modulus);dr=(dr=new sr(dr).toRed(Sr)).redPow(new sr(fr.publicExponent)),dr=ir.from(dr.fromRed().toArray());var jr=vr<8?1:0;for(gr=Math.min(dr.length,yr.length),dr.length!==yr.length&&(jr=1),br=-1;++br<gr;)jr|=dr[br]^yr[br];return jr===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(tr,rr,nr){},{}],217:[function(tr,rr,nr){var ir=tr("buffer"),sr=ir.Buffer;function or(lr,cr){for(var dr in lr)cr[dr]=lr[dr]}function ar(lr,cr,dr){return sr(lr,cr,dr)}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?rr.exports=ir:(or(ir,nr),nr.Buffer=ar),or(sr,ar),ar.from=function(lr,cr,dr){if(typeof lr=="number")throw new TypeError("Argument must not be a number");return sr(lr,cr,dr)},ar.alloc=function(lr,cr,dr){if(typeof lr!="number")throw new TypeError("Argument must be a number");var hr=sr(lr);return cr!==void 0?typeof dr=="string"?hr.fill(cr,dr):hr.fill(cr):hr.fill(0),hr},ar.allocUnsafe=function(lr){if(typeof lr!="number")throw new TypeError("Argument must be a number");return sr(lr)},ar.allocUnsafeSlow=function(lr){if(typeof lr!="number")throw new TypeError("Argument must be a number");return ir.SlowBuffer(lr)}},{buffer:220}],218:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=ir.isEncoding||function(fr){switch((fr=""+fr)&&fr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function or(fr){var gr;switch(this.encoding=function(yr){var vr=function(br){if(!br)return"utf8";for(var Sr;;)switch(br){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return br;default:if(Sr)return;br=(""+br).toLowerCase(),Sr=!0}}(yr);if(typeof vr!="string"&&(ir.isEncoding===sr||!sr(yr)))throw new Error("Unknown encoding: "+yr);return vr||yr}(fr),this.encoding){case"utf16le":this.text=cr,this.end=dr,gr=4;break;case"utf8":this.fillLast=lr,gr=4;break;case"base64":this.text=hr,this.end=ur,gr=3;break;default:return this.write=pr,void(this.end=mr)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ir.allocUnsafe(gr)}function ar(fr){return fr<=127?0:fr>>5==6?2:fr>>4==14?3:fr>>3==30?4:fr>>6==2?-1:-2}function lr(fr){var gr=this.lastTotal-this.lastNeed,yr=function(vr,br,Sr){if((192&br[0])!=128)return vr.lastNeed=0,"";if(vr.lastNeed>1&&br.length>1){if((192&br[1])!=128)return vr.lastNeed=1,"";if(vr.lastNeed>2&&br.length>2&&(192&br[2])!=128)return vr.lastNeed=2,""}}(this,fr);return yr!==void 0?yr:this.lastNeed<=fr.length?(fr.copy(this.lastChar,gr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(fr.copy(this.lastChar,gr,0,fr.length),void(this.lastNeed-=fr.length))}function cr(fr,gr){if((fr.length-gr)%2==0){var yr=fr.toString("utf16le",gr);if(yr){var vr=yr.charCodeAt(yr.length-1);if(vr>=55296&&vr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=fr[fr.length-2],this.lastChar[1]=fr[fr.length-1],yr.slice(0,-1)}return yr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=fr[fr.length-1],fr.toString("utf16le",gr,fr.length-1)}function dr(fr){var gr=fr&&fr.length?this.write(fr):"";if(this.lastNeed){var yr=this.lastTotal-this.lastNeed;return gr+this.lastChar.toString("utf16le",0,yr)}return gr}function hr(fr,gr){var yr=(fr.length-gr)%3;return yr===0?fr.toString("base64",gr):(this.lastNeed=3-yr,this.lastTotal=3,yr===1?this.lastChar[0]=fr[fr.length-1]:(this.lastChar[0]=fr[fr.length-2],this.lastChar[1]=fr[fr.length-1]),fr.toString("base64",gr,fr.length-yr))}function ur(fr){var gr=fr&&fr.length?this.write(fr):"";return this.lastNeed?gr+this.lastChar.toString("base64",0,3-this.lastNeed):gr}function pr(fr){return fr.toString(this.encoding)}function mr(fr){return fr&&fr.length?this.write(fr):""}nr.StringDecoder=or,or.prototype.write=function(fr){if(fr.length===0)return"";var gr,yr;if(this.lastNeed){if((gr=this.fillLast(fr))===void 0)return"";yr=this.lastNeed,this.lastNeed=0}else yr=0;return yr<fr.length?gr?gr+this.text(fr,yr):this.text(fr,yr):gr||""},or.prototype.end=function(fr){var gr=fr&&fr.length?this.write(fr):"";return this.lastNeed?gr+"":gr},or.prototype.text=function(fr,gr){var yr=function(br,Sr,jr){var Cr=Sr.length-1;if(Cr<jr)return 0;var Pr=ar(Sr[Cr]);return Pr>=0?(Pr>0&&(br.lastNeed=Pr-1),Pr):--Cr<jr||Pr===-2?0:(Pr=ar(Sr[Cr]))>=0?(Pr>0&&(br.lastNeed=Pr-2),Pr):--Cr<jr||Pr===-2?0:(Pr=ar(Sr[Cr]))>=0?(Pr>0&&(Pr===2?Pr=0:br.lastNeed=Pr-3),Pr):0}(this,fr,gr);if(!this.lastNeed)return fr.toString("utf8",gr);this.lastTotal=yr;var vr=fr.length-(yr-this.lastNeed);return fr.copy(this.lastChar,0,vr),fr.toString("utf8",gr,vr)},or.prototype.fillLast=function(fr){if(this.lastNeed<=fr.length)return fr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);fr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,fr.length),this.lastNeed-=fr.length}},{"safe-buffer":217}],219:[function(tr,rr,nr){(function(ir){(function(){rr.exports=function(sr,or){for(var ar=Math.min(sr.length,or.length),lr=new ir(ar),cr=0;cr<ar;++cr)lr[cr]=sr[cr]^or[cr];return lr}}).call(this)}).call(this,tr("buffer").Buffer)},{buffer:220}],220:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("base64-js"),or=tr("ieee754");nr.Buffer=lr,nr.SlowBuffer=function($r){return+$r!=$r&&($r=0),lr.alloc(+$r)},nr.INSPECT_MAX_BYTES=50;function ar($r){if($r>2147483647)throw new RangeError('The value "'+$r+'" is invalid for option "size"');var Fr=new Uint8Array($r);return Fr.__proto__=lr.prototype,Fr}function lr($r,Fr,Kr){if(typeof $r=="number"){if(typeof Fr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return hr($r)}return cr($r,Fr,Kr)}function cr($r,Fr,Kr){if(typeof $r=="string")return function(Qr,cn){if(typeof cn=="string"&&cn!==""||(cn="utf8"),!lr.isEncoding(cn))throw new TypeError("Unknown encoding: "+cn);var dn=0|mr(Qr,cn),en=ar(dn),an=en.write(Qr,cn);return an!==dn&&(en=en.slice(0,an)),en}($r,Fr);if(ArrayBuffer.isView($r))return ur($r);if($r==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $r);if(Vr($r,ArrayBuffer)||$r&&Vr($r.buffer,ArrayBuffer))return function(Qr,cn,dn){if(cn<0||Qr.byteLength<cn)throw new RangeError('"offset" is outside of buffer bounds');if(Qr.byteLength<cn+(dn||0))throw new RangeError('"length" is outside of buffer bounds');var en;return en=cn===void 0&&dn===void 0?new Uint8Array(Qr):dn===void 0?new Uint8Array(Qr,cn):new Uint8Array(Qr,cn,dn),en.__proto__=lr.prototype,en}($r,Fr,Kr);if(typeof $r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Zr=$r.valueOf&&$r.valueOf();if(Zr!=null&&Zr!==$r)return lr.from(Zr,Fr,Kr);var nn=function(Qr){if(lr.isBuffer(Qr)){var cn=0|pr(Qr.length),dn=ar(cn);return dn.length===0||Qr.copy(dn,0,0,cn),dn}if(Qr.length!==void 0)return typeof Qr.length!="number"||Gr(Qr.length)?ar(0):ur(Qr);if(Qr.type==="Buffer"&&Array.isArray(Qr.data))return ur(Qr.data)}($r);if(nn)return nn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $r[Symbol.toPrimitive]=="function")return lr.from($r[Symbol.toPrimitive]("string"),Fr,Kr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $r)}function dr($r){if(typeof $r!="number")throw new TypeError('"size" argument must be of type number');if($r<0)throw new RangeError('The value "'+$r+'" is invalid for option "size"')}function hr($r){return dr($r),ar($r<0?0:0|pr($r))}function ur($r){for(var Fr=$r.length<0?0:0|pr($r.length),Kr=ar(Fr),Zr=0;Zr<Fr;Zr+=1)Kr[Zr]=255&$r[Zr];return Kr}function pr($r){if($r>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|$r}function mr($r,Fr){if(lr.isBuffer($r))return $r.length;if(ArrayBuffer.isView($r)||Vr($r,ArrayBuffer))return $r.byteLength;if(typeof $r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $r);var Kr=$r.length,Zr=arguments.length>2&&arguments[2]===!0;if(!Zr&&Kr===0)return 0;for(var nn=!1;;)switch(Fr){case"ascii":case"latin1":case"binary":return Kr;case"utf8":case"utf-8":return Br($r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Kr;case"hex":return Kr>>>1;case"base64":return Ur($r).length;default:if(nn)return Zr?-1:Br($r).length;Fr=(""+Fr).toLowerCase(),nn=!0}}function fr($r,Fr,Kr){var Zr=!1;if((Fr===void 0||Fr<0)&&(Fr=0),Fr>this.length||((Kr===void 0||Kr>this.length)&&(Kr=this.length),Kr<=0)||(Kr>>>=0)<=(Fr>>>=0))return"";for($r||($r="utf8");;)switch($r){case"hex":return Dr(this,Fr,Kr);case"utf8":case"utf-8":return Ir(this,Fr,Kr);case"ascii":return Nr(this,Fr,Kr);case"latin1":case"binary":return Ar(this,Fr,Kr);case"base64":return Lr(this,Fr,Kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,Fr,Kr);default:if(Zr)throw new TypeError("Unknown encoding: "+$r);$r=($r+"").toLowerCase(),Zr=!0}}function gr($r,Fr,Kr){var Zr=$r[Fr];$r[Fr]=$r[Kr],$r[Kr]=Zr}function yr($r,Fr,Kr,Zr,nn){if($r.length===0)return-1;if(typeof Kr=="string"?(Zr=Kr,Kr=0):Kr>2147483647?Kr=2147483647:Kr<-2147483648&&(Kr=-2147483648),Gr(Kr=+Kr)&&(Kr=nn?0:$r.length-1),Kr<0&&(Kr=$r.length+Kr),Kr>=$r.length){if(nn)return-1;Kr=$r.length-1}else if(Kr<0){if(!nn)return-1;Kr=0}if(typeof Fr=="string"&&(Fr=lr.from(Fr,Zr)),lr.isBuffer(Fr))return Fr.length===0?-1:vr($r,Fr,Kr,Zr,nn);if(typeof Fr=="number")return Fr&=255,typeof Uint8Array.prototype.indexOf=="function"?nn?Uint8Array.prototype.indexOf.call($r,Fr,Kr):Uint8Array.prototype.lastIndexOf.call($r,Fr,Kr):vr($r,[Fr],Kr,Zr,nn);throw new TypeError("val must be string, number or Buffer")}function vr($r,Fr,Kr,Zr,nn){var Qr,cn=1,dn=$r.length,en=Fr.length;if(Zr!==void 0&&((Zr=String(Zr).toLowerCase())==="ucs2"||Zr==="ucs-2"||Zr==="utf16le"||Zr==="utf-16le")){if($r.length<2||Fr.length<2)return-1;cn=2,dn/=2,en/=2,Kr/=2}function an(pn,yn){return cn===1?pn[yn]:pn.readUInt16BE(yn*cn)}if(nn){var tn=-1;for(Qr=Kr;Qr<dn;Qr++)if(an($r,Qr)===an(Fr,tn===-1?0:Qr-tn)){if(tn===-1&&(tn=Qr),Qr-tn+1===en)return tn*cn}else tn!==-1&&(Qr-=Qr-tn),tn=-1}else for(Kr+en>dn&&(Kr=dn-en),Qr=Kr;Qr>=0;Qr--){for(var sn=!0,fn=0;fn<en;fn++)if(an($r,Qr+fn)!==an(Fr,fn)){sn=!1;break}if(sn)return Qr}return-1}function br($r,Fr,Kr,Zr){Kr=Number(Kr)||0;var nn=$r.length-Kr;Zr?(Zr=Number(Zr))>nn&&(Zr=nn):Zr=nn;var Qr=Fr.length;Zr>Qr/2&&(Zr=Qr/2);for(var cn=0;cn<Zr;++cn){var dn=parseInt(Fr.substr(2*cn,2),16);if(Gr(dn))return cn;$r[Kr+cn]=dn}return cn}function Sr($r,Fr,Kr,Zr){return qr(Br(Fr,$r.length-Kr),$r,Kr,Zr)}function jr($r,Fr,Kr,Zr){return qr(function(nn){for(var Qr=[],cn=0;cn<nn.length;++cn)Qr.push(255&nn.charCodeAt(cn));return Qr}(Fr),$r,Kr,Zr)}function Cr($r,Fr,Kr,Zr){return jr($r,Fr,Kr,Zr)}function Pr($r,Fr,Kr,Zr){return qr(Ur(Fr),$r,Kr,Zr)}function Rr($r,Fr,Kr,Zr){return qr(function(nn,Qr){for(var cn,dn,en,an=[],tn=0;tn<nn.length&&!((Qr-=2)<0);++tn)cn=nn.charCodeAt(tn),dn=cn>>8,en=cn%256,an.push(en),an.push(dn);return an}(Fr,$r.length-Kr),$r,Kr,Zr)}function Lr($r,Fr,Kr){return Fr===0&&Kr===$r.length?sr.fromByteArray($r):sr.fromByteArray($r.slice(Fr,Kr))}function Ir($r,Fr,Kr){Kr=Math.min($r.length,Kr);for(var Zr=[],nn=Fr;nn<Kr;){var Qr,cn,dn,en,an=$r[nn],tn=null,sn=an>239?4:an>223?3:an>191?2:1;if(nn+sn<=Kr)switch(sn){case 1:an<128&&(tn=an);break;case 2:(192&(Qr=$r[nn+1]))==128&&(en=(31&an)<<6|63&Qr)>127&&(tn=en);break;case 3:Qr=$r[nn+1],cn=$r[nn+2],(192&Qr)==128&&(192&cn)==128&&(en=(15&an)<<12|(63&Qr)<<6|63&cn)>2047&&(en<55296||en>57343)&&(tn=en);break;case 4:Qr=$r[nn+1],cn=$r[nn+2],dn=$r[nn+3],(192&Qr)==128&&(192&cn)==128&&(192&dn)==128&&(en=(15&an)<<18|(63&Qr)<<12|(63&cn)<<6|63&dn)>65535&&en<1114112&&(tn=en)}tn===null?(tn=65533,sn=1):tn>65535&&(tn-=65536,Zr.push(tn>>>10&1023|55296),tn=56320|1023&tn),Zr.push(tn),nn+=sn}return function(fn){var pn=fn.length;if(pn<=4096)return String.fromCharCode.apply(String,fn);for(var yn="",Cn=0;Cn<pn;)yn+=String.fromCharCode.apply(String,fn.slice(Cn,Cn+=4096));return yn}(Zr)}nr.kMaxLength=2147483647,lr.TYPED_ARRAY_SUPPORT=function(){try{var $r=new Uint8Array(1);return $r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$r.foo()===42}catch{return!1}}(),lr.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(lr.prototype,"parent",{enumerable:!0,get:function(){if(lr.isBuffer(this))return this.buffer}}),Object.defineProperty(lr.prototype,"offset",{enumerable:!0,get:function(){if(lr.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&lr[Symbol.species]===lr&&Object.defineProperty(lr,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),lr.poolSize=8192,lr.from=function($r,Fr,Kr){return cr($r,Fr,Kr)},lr.prototype.__proto__=Uint8Array.prototype,lr.__proto__=Uint8Array,lr.alloc=function($r,Fr,Kr){return function(Zr,nn,Qr){return dr(Zr),Zr<=0?ar(Zr):nn!==void 0?typeof Qr=="string"?ar(Zr).fill(nn,Qr):ar(Zr).fill(nn):ar(Zr)}($r,Fr,Kr)},lr.allocUnsafe=function($r){return hr($r)},lr.allocUnsafeSlow=function($r){return hr($r)},lr.isBuffer=function($r){return $r!=null&&$r._isBuffer===!0&&$r!==lr.prototype},lr.compare=function($r,Fr){if(Vr($r,Uint8Array)&&($r=lr.from($r,$r.offset,$r.byteLength)),Vr(Fr,Uint8Array)&&(Fr=lr.from(Fr,Fr.offset,Fr.byteLength)),!lr.isBuffer($r)||!lr.isBuffer(Fr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($r===Fr)return 0;for(var Kr=$r.length,Zr=Fr.length,nn=0,Qr=Math.min(Kr,Zr);nn<Qr;++nn)if($r[nn]!==Fr[nn]){Kr=$r[nn],Zr=Fr[nn];break}return Kr<Zr?-1:Zr<Kr?1:0},lr.isEncoding=function($r){switch(String($r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},lr.concat=function($r,Fr){if(!Array.isArray($r))throw new TypeError('"list" argument must be an Array of Buffers');if($r.length===0)return lr.alloc(0);var Kr;if(Fr===void 0)for(Fr=0,Kr=0;Kr<$r.length;++Kr)Fr+=$r[Kr].length;var Zr=lr.allocUnsafe(Fr),nn=0;for(Kr=0;Kr<$r.length;++Kr){var Qr=$r[Kr];if(Vr(Qr,Uint8Array)&&(Qr=lr.from(Qr)),!lr.isBuffer(Qr))throw new TypeError('"list" argument must be an Array of Buffers');Qr.copy(Zr,nn),nn+=Qr.length}return Zr},lr.byteLength=mr,lr.prototype._isBuffer=!0,lr.prototype.swap16=function(){var $r=this.length;if($r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Fr=0;Fr<$r;Fr+=2)gr(this,Fr,Fr+1);return this},lr.prototype.swap32=function(){var $r=this.length;if($r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Fr=0;Fr<$r;Fr+=4)gr(this,Fr,Fr+3),gr(this,Fr+1,Fr+2);return this},lr.prototype.swap64=function(){var $r=this.length;if($r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Fr=0;Fr<$r;Fr+=8)gr(this,Fr,Fr+7),gr(this,Fr+1,Fr+6),gr(this,Fr+2,Fr+5),gr(this,Fr+3,Fr+4);return this},lr.prototype.toString=function(){var $r=this.length;return $r===0?"":arguments.length===0?Ir(this,0,$r):fr.apply(this,arguments)},lr.prototype.toLocaleString=lr.prototype.toString,lr.prototype.equals=function($r){if(!lr.isBuffer($r))throw new TypeError("Argument must be a Buffer");return this===$r||lr.compare(this,$r)===0},lr.prototype.inspect=function(){var $r="",Fr=nr.INSPECT_MAX_BYTES;return $r=this.toString("hex",0,Fr).replace(/(.{2})/g,"$1 ").trim(),this.length>Fr&&($r+=" ... "),"<Buffer "+$r+">"},lr.prototype.compare=function($r,Fr,Kr,Zr,nn){if(Vr($r,Uint8Array)&&($r=lr.from($r,$r.offset,$r.byteLength)),!lr.isBuffer($r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $r);if(Fr===void 0&&(Fr=0),Kr===void 0&&(Kr=$r?$r.length:0),Zr===void 0&&(Zr=0),nn===void 0&&(nn=this.length),Fr<0||Kr>$r.length||Zr<0||nn>this.length)throw new RangeError("out of range index");if(Zr>=nn&&Fr>=Kr)return 0;if(Zr>=nn)return-1;if(Fr>=Kr)return 1;if(this===$r)return 0;for(var Qr=(nn>>>=0)-(Zr>>>=0),cn=(Kr>>>=0)-(Fr>>>=0),dn=Math.min(Qr,cn),en=this.slice(Zr,nn),an=$r.slice(Fr,Kr),tn=0;tn<dn;++tn)if(en[tn]!==an[tn]){Qr=en[tn],cn=an[tn];break}return Qr<cn?-1:cn<Qr?1:0},lr.prototype.includes=function($r,Fr,Kr){return this.indexOf($r,Fr,Kr)!==-1},lr.prototype.indexOf=function($r,Fr,Kr){return yr(this,$r,Fr,Kr,!0)},lr.prototype.lastIndexOf=function($r,Fr,Kr){return yr(this,$r,Fr,Kr,!1)},lr.prototype.write=function($r,Fr,Kr,Zr){if(Fr===void 0)Zr="utf8",Kr=this.length,Fr=0;else if(Kr===void 0&&typeof Fr=="string")Zr=Fr,Kr=this.length,Fr=0;else{if(!isFinite(Fr))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Fr>>>=0,isFinite(Kr)?(Kr>>>=0,Zr===void 0&&(Zr="utf8")):(Zr=Kr,Kr=void 0)}var nn=this.length-Fr;if((Kr===void 0||Kr>nn)&&(Kr=nn),$r.length>0&&(Kr<0||Fr<0)||Fr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zr||(Zr="utf8");for(var Qr=!1;;)switch(Zr){case"hex":return br(this,$r,Fr,Kr);case"utf8":case"utf-8":return Sr(this,$r,Fr,Kr);case"ascii":return jr(this,$r,Fr,Kr);case"latin1":case"binary":return Cr(this,$r,Fr,Kr);case"base64":return Pr(this,$r,Fr,Kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,$r,Fr,Kr);default:if(Qr)throw new TypeError("Unknown encoding: "+Zr);Zr=(""+Zr).toLowerCase(),Qr=!0}},lr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Nr($r,Fr,Kr){var Zr="";Kr=Math.min($r.length,Kr);for(var nn=Fr;nn<Kr;++nn)Zr+=String.fromCharCode(127&$r[nn]);return Zr}function Ar($r,Fr,Kr){var Zr="";Kr=Math.min($r.length,Kr);for(var nn=Fr;nn<Kr;++nn)Zr+=String.fromCharCode($r[nn]);return Zr}function Dr($r,Fr,Kr){var Zr=$r.length;(!Fr||Fr<0)&&(Fr=0),(!Kr||Kr<0||Kr>Zr)&&(Kr=Zr);for(var nn="",Qr=Fr;Qr<Kr;++Qr)nn+=Or($r[Qr]);return nn}function Tr($r,Fr,Kr){for(var Zr=$r.slice(Fr,Kr),nn="",Qr=0;Qr<Zr.length;Qr+=2)nn+=String.fromCharCode(Zr[Qr]+256*Zr[Qr+1]);return nn}function _r($r,Fr,Kr){if($r%1!=0||$r<0)throw new RangeError("offset is not uint");if($r+Fr>Kr)throw new RangeError("Trying to access beyond buffer length")}function wr($r,Fr,Kr,Zr,nn,Qr){if(!lr.isBuffer($r))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fr>nn||Fr<Qr)throw new RangeError('"value" argument is out of bounds');if(Kr+Zr>$r.length)throw new RangeError("Index out of range")}function Er($r,Fr,Kr,Zr,nn,Qr){if(Kr+Zr>$r.length)throw new RangeError("Index out of range");if(Kr<0)throw new RangeError("Index out of range")}function xr($r,Fr,Kr,Zr,nn){return Fr=+Fr,Kr>>>=0,nn||Er($r,0,Kr,4),or.write($r,Fr,Kr,Zr,23,4),Kr+4}function Mr($r,Fr,Kr,Zr,nn){return Fr=+Fr,Kr>>>=0,nn||Er($r,0,Kr,8),or.write($r,Fr,Kr,Zr,52,8),Kr+8}lr.prototype.slice=function($r,Fr){var Kr=this.length;($r=~~$r)<0?($r+=Kr)<0&&($r=0):$r>Kr&&($r=Kr),(Fr=Fr===void 0?Kr:~~Fr)<0?(Fr+=Kr)<0&&(Fr=0):Fr>Kr&&(Fr=Kr),Fr<$r&&(Fr=$r);var Zr=this.subarray($r,Fr);return Zr.__proto__=lr.prototype,Zr},lr.prototype.readUIntLE=function($r,Fr,Kr){$r>>>=0,Fr>>>=0,Kr||_r($r,Fr,this.length);for(var Zr=this[$r],nn=1,Qr=0;++Qr<Fr&&(nn*=256);)Zr+=this[$r+Qr]*nn;return Zr},lr.prototype.readUIntBE=function($r,Fr,Kr){$r>>>=0,Fr>>>=0,Kr||_r($r,Fr,this.length);for(var Zr=this[$r+--Fr],nn=1;Fr>0&&(nn*=256);)Zr+=this[$r+--Fr]*nn;return Zr},lr.prototype.readUInt8=function($r,Fr){return $r>>>=0,Fr||_r($r,1,this.length),this[$r]},lr.prototype.readUInt16LE=function($r,Fr){return $r>>>=0,Fr||_r($r,2,this.length),this[$r]|this[$r+1]<<8},lr.prototype.readUInt16BE=function($r,Fr){return $r>>>=0,Fr||_r($r,2,this.length),this[$r]<<8|this[$r+1]},lr.prototype.readUInt32LE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),(this[$r]|this[$r+1]<<8|this[$r+2]<<16)+16777216*this[$r+3]},lr.prototype.readUInt32BE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),16777216*this[$r]+(this[$r+1]<<16|this[$r+2]<<8|this[$r+3])},lr.prototype.readIntLE=function($r,Fr,Kr){$r>>>=0,Fr>>>=0,Kr||_r($r,Fr,this.length);for(var Zr=this[$r],nn=1,Qr=0;++Qr<Fr&&(nn*=256);)Zr+=this[$r+Qr]*nn;return Zr>=(nn*=128)&&(Zr-=Math.pow(2,8*Fr)),Zr},lr.prototype.readIntBE=function($r,Fr,Kr){$r>>>=0,Fr>>>=0,Kr||_r($r,Fr,this.length);for(var Zr=Fr,nn=1,Qr=this[$r+--Zr];Zr>0&&(nn*=256);)Qr+=this[$r+--Zr]*nn;return Qr>=(nn*=128)&&(Qr-=Math.pow(2,8*Fr)),Qr},lr.prototype.readInt8=function($r,Fr){return $r>>>=0,Fr||_r($r,1,this.length),128&this[$r]?-1*(255-this[$r]+1):this[$r]},lr.prototype.readInt16LE=function($r,Fr){$r>>>=0,Fr||_r($r,2,this.length);var Kr=this[$r]|this[$r+1]<<8;return 32768&Kr?4294901760|Kr:Kr},lr.prototype.readInt16BE=function($r,Fr){$r>>>=0,Fr||_r($r,2,this.length);var Kr=this[$r+1]|this[$r]<<8;return 32768&Kr?4294901760|Kr:Kr},lr.prototype.readInt32LE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),this[$r]|this[$r+1]<<8|this[$r+2]<<16|this[$r+3]<<24},lr.prototype.readInt32BE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),this[$r]<<24|this[$r+1]<<16|this[$r+2]<<8|this[$r+3]},lr.prototype.readFloatLE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),or.read(this,$r,!0,23,4)},lr.prototype.readFloatBE=function($r,Fr){return $r>>>=0,Fr||_r($r,4,this.length),or.read(this,$r,!1,23,4)},lr.prototype.readDoubleLE=function($r,Fr){return $r>>>=0,Fr||_r($r,8,this.length),or.read(this,$r,!0,52,8)},lr.prototype.readDoubleBE=function($r,Fr){return $r>>>=0,Fr||_r($r,8,this.length),or.read(this,$r,!1,52,8)},lr.prototype.writeUIntLE=function($r,Fr,Kr,Zr){$r=+$r,Fr>>>=0,Kr>>>=0,Zr||wr(this,$r,Fr,Kr,Math.pow(2,8*Kr)-1,0);var nn=1,Qr=0;for(this[Fr]=255&$r;++Qr<Kr&&(nn*=256);)this[Fr+Qr]=$r/nn&255;return Fr+Kr},lr.prototype.writeUIntBE=function($r,Fr,Kr,Zr){$r=+$r,Fr>>>=0,Kr>>>=0,Zr||wr(this,$r,Fr,Kr,Math.pow(2,8*Kr)-1,0);var nn=Kr-1,Qr=1;for(this[Fr+nn]=255&$r;--nn>=0&&(Qr*=256);)this[Fr+nn]=$r/Qr&255;return Fr+Kr},lr.prototype.writeUInt8=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,1,255,0),this[Fr]=255&$r,Fr+1},lr.prototype.writeUInt16LE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,2,65535,0),this[Fr]=255&$r,this[Fr+1]=$r>>>8,Fr+2},lr.prototype.writeUInt16BE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,2,65535,0),this[Fr]=$r>>>8,this[Fr+1]=255&$r,Fr+2},lr.prototype.writeUInt32LE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,4,4294967295,0),this[Fr+3]=$r>>>24,this[Fr+2]=$r>>>16,this[Fr+1]=$r>>>8,this[Fr]=255&$r,Fr+4},lr.prototype.writeUInt32BE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,4,4294967295,0),this[Fr]=$r>>>24,this[Fr+1]=$r>>>16,this[Fr+2]=$r>>>8,this[Fr+3]=255&$r,Fr+4},lr.prototype.writeIntLE=function($r,Fr,Kr,Zr){if($r=+$r,Fr>>>=0,!Zr){var nn=Math.pow(2,8*Kr-1);wr(this,$r,Fr,Kr,nn-1,-nn)}var Qr=0,cn=1,dn=0;for(this[Fr]=255&$r;++Qr<Kr&&(cn*=256);)$r<0&&dn===0&&this[Fr+Qr-1]!==0&&(dn=1),this[Fr+Qr]=($r/cn>>0)-dn&255;return Fr+Kr},lr.prototype.writeIntBE=function($r,Fr,Kr,Zr){if($r=+$r,Fr>>>=0,!Zr){var nn=Math.pow(2,8*Kr-1);wr(this,$r,Fr,Kr,nn-1,-nn)}var Qr=Kr-1,cn=1,dn=0;for(this[Fr+Qr]=255&$r;--Qr>=0&&(cn*=256);)$r<0&&dn===0&&this[Fr+Qr+1]!==0&&(dn=1),this[Fr+Qr]=($r/cn>>0)-dn&255;return Fr+Kr},lr.prototype.writeInt8=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,1,127,-128),$r<0&&($r=255+$r+1),this[Fr]=255&$r,Fr+1},lr.prototype.writeInt16LE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,2,32767,-32768),this[Fr]=255&$r,this[Fr+1]=$r>>>8,Fr+2},lr.prototype.writeInt16BE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,2,32767,-32768),this[Fr]=$r>>>8,this[Fr+1]=255&$r,Fr+2},lr.prototype.writeInt32LE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,4,2147483647,-2147483648),this[Fr]=255&$r,this[Fr+1]=$r>>>8,this[Fr+2]=$r>>>16,this[Fr+3]=$r>>>24,Fr+4},lr.prototype.writeInt32BE=function($r,Fr,Kr){return $r=+$r,Fr>>>=0,Kr||wr(this,$r,Fr,4,2147483647,-2147483648),$r<0&&($r=4294967295+$r+1),this[Fr]=$r>>>24,this[Fr+1]=$r>>>16,this[Fr+2]=$r>>>8,this[Fr+3]=255&$r,Fr+4},lr.prototype.writeFloatLE=function($r,Fr,Kr){return xr(this,$r,Fr,!0,Kr)},lr.prototype.writeFloatBE=function($r,Fr,Kr){return xr(this,$r,Fr,!1,Kr)},lr.prototype.writeDoubleLE=function($r,Fr,Kr){return Mr(this,$r,Fr,!0,Kr)},lr.prototype.writeDoubleBE=function($r,Fr,Kr){return Mr(this,$r,Fr,!1,Kr)},lr.prototype.copy=function($r,Fr,Kr,Zr){if(!lr.isBuffer($r))throw new TypeError("argument should be a Buffer");if(Kr||(Kr=0),Zr||Zr===0||(Zr=this.length),Fr>=$r.length&&(Fr=$r.length),Fr||(Fr=0),Zr>0&&Zr<Kr&&(Zr=Kr),Zr===Kr||$r.length===0||this.length===0)return 0;if(Fr<0)throw new RangeError("targetStart out of bounds");if(Kr<0||Kr>=this.length)throw new RangeError("Index out of range");if(Zr<0)throw new RangeError("sourceEnd out of bounds");Zr>this.length&&(Zr=this.length),$r.length-Fr<Zr-Kr&&(Zr=$r.length-Fr+Kr);var nn=Zr-Kr;if(this===$r&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Fr,Kr,Zr);else if(this===$r&&Kr<Fr&&Fr<Zr)for(var Qr=nn-1;Qr>=0;--Qr)$r[Qr+Fr]=this[Qr+Kr];else Uint8Array.prototype.set.call($r,this.subarray(Kr,Zr),Fr);return nn},lr.prototype.fill=function($r,Fr,Kr,Zr){if(typeof $r=="string"){if(typeof Fr=="string"?(Zr=Fr,Fr=0,Kr=this.length):typeof Kr=="string"&&(Zr=Kr,Kr=this.length),Zr!==void 0&&typeof Zr!="string")throw new TypeError("encoding must be a string");if(typeof Zr=="string"&&!lr.isEncoding(Zr))throw new TypeError("Unknown encoding: "+Zr);if($r.length===1){var nn=$r.charCodeAt(0);(Zr==="utf8"&&nn<128||Zr==="latin1")&&($r=nn)}}else typeof $r=="number"&&($r&=255);if(Fr<0||this.length<Fr||this.length<Kr)throw new RangeError("Out of range index");if(Kr<=Fr)return this;var Qr;if(Fr>>>=0,Kr=Kr===void 0?this.length:Kr>>>0,$r||($r=0),typeof $r=="number")for(Qr=Fr;Qr<Kr;++Qr)this[Qr]=$r;else{var cn=lr.isBuffer($r)?$r:lr.from($r,Zr),dn=cn.length;if(dn===0)throw new TypeError('The value "'+$r+'" is invalid for argument "value"');for(Qr=0;Qr<Kr-Fr;++Qr)this[Qr+Fr]=cn[Qr%dn]}return this};var zr=/[^+/0-9A-Za-z-_]/g;function Or($r){return $r<16?"0"+$r.toString(16):$r.toString(16)}function Br($r,Fr){var Kr;Fr=Fr||1/0;for(var Zr=$r.length,nn=null,Qr=[],cn=0;cn<Zr;++cn){if((Kr=$r.charCodeAt(cn))>55295&&Kr<57344){if(!nn){if(Kr>56319){(Fr-=3)>-1&&Qr.push(239,191,189);continue}if(cn+1===Zr){(Fr-=3)>-1&&Qr.push(239,191,189);continue}nn=Kr;continue}if(Kr<56320){(Fr-=3)>-1&&Qr.push(239,191,189),nn=Kr;continue}Kr=65536+(nn-55296<<10|Kr-56320)}else nn&&(Fr-=3)>-1&&Qr.push(239,191,189);if(nn=null,Kr<128){if((Fr-=1)<0)break;Qr.push(Kr)}else if(Kr<2048){if((Fr-=2)<0)break;Qr.push(Kr>>6|192,63&Kr|128)}else if(Kr<65536){if((Fr-=3)<0)break;Qr.push(Kr>>12|224,Kr>>6&63|128,63&Kr|128)}else{if(!(Kr<1114112))throw new Error("Invalid code point");if((Fr-=4)<0)break;Qr.push(Kr>>18|240,Kr>>12&63|128,Kr>>6&63|128,63&Kr|128)}}return Qr}function Ur($r){return sr.toByteArray(function(Fr){if((Fr=(Fr=Fr.split("=")[0]).trim().replace(zr,"")).length<2)return"";for(;Fr.length%4!=0;)Fr+="=";return Fr}($r))}function qr($r,Fr,Kr,Zr){for(var nn=0;nn<Zr&&!(nn+Kr>=Fr.length||nn>=$r.length);++nn)Fr[nn+Kr]=$r[nn];return nn}function Vr($r,Fr){return $r instanceof Fr||$r!=null&&$r.constructor!=null&&$r.constructor.name!=null&&$r.constructor.name===Fr.name}function Gr($r){return $r!=$r}}).call(this)}).call(this,tr("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("stream").Transform,or=tr("string_decoder").StringDecoder;function ar(lr){sr.call(this),this.hashMode=typeof lr=="string",this.hashMode?this[lr]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}tr("inherits")(ar,sr),ar.prototype.update=function(lr,cr,dr){typeof lr=="string"&&(lr=ir.from(lr,cr));var hr=this._update(lr);return this.hashMode?this:(dr&&(hr=this._toString(hr,dr)),hr)},ar.prototype.setAutoPadding=function(){},ar.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},ar.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},ar.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},ar.prototype._transform=function(lr,cr,dr){var hr;try{this.hashMode?this._update(lr):this.push(this._update(lr))}catch(ur){hr=ur}finally{dr(hr)}},ar.prototype._flush=function(lr){var cr;try{this.push(this.__final())}catch(dr){cr=dr}lr(cr)},ar.prototype._finalOrDigest=function(lr){var cr=this.__final()||ir.alloc(0);return lr&&(cr=this._toString(cr,lr,!0)),cr},ar.prototype._toString=function(lr,cr,dr){if(this._decoder||(this._decoder=new or(cr),this._encoding=cr),this._encoding!==cr)throw new Error("can't switch encodings");var hr=this._decoder.write(lr);return dr&&(hr+=this._decoder.end()),hr},rr.exports=ar},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(tr,rr,nr){var ir=tr("../internals/is-callable"),sr=tr("../internals/try-to-string"),or=TypeError;rr.exports=function(ar){if(ir(ar))return ar;throw new or(sr(ar)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(tr,rr,nr){var ir=tr("../internals/is-constructor"),sr=tr("../internals/try-to-string"),or=TypeError;rr.exports=function(ar){if(ir(ar))return ar;throw new or(sr(ar)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(tr,rr,nr){var ir=tr("../internals/is-callable"),sr=String,or=TypeError;rr.exports=function(ar){if(typeof ar=="object"||ir(ar))return ar;throw new or("Can't set "+sr(ar)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(tr,rr,nr){var ir=tr("../internals/well-known-symbol"),sr=tr("../internals/object-create"),or=tr("../internals/object-define-property").f,ar=ir("unscopables"),lr=Array.prototype;lr[ar]===void 0&&or(lr,ar,{configurable:!0,value:sr(null)}),rr.exports=function(cr){lr[ar][cr]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(tr,rr,nr){var ir=tr("../internals/object-is-prototype-of"),sr=TypeError;rr.exports=function(or,ar){if(ir(ar,or))return or;throw new sr("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(tr,rr,nr){var ir=tr("../internals/is-object"),sr=String,or=TypeError;rr.exports=function(ar){if(ir(ar))return ar;throw new or(sr(ar)+" is not an object")}},{"../internals/is-object":289}],228:[function(tr,rr,nr){var ir=tr("../internals/to-indexed-object"),sr=tr("../internals/to-absolute-index"),or=tr("../internals/length-of-array-like"),ar=function(lr){return function(cr,dr,hr){var ur,pr=ir(cr),mr=or(pr),fr=sr(hr,mr);if(lr&&dr!=dr){for(;mr>fr;)if((ur=pr[fr++])!=ur)return!0}else for(;mr>fr;fr++)if((lr||fr in pr)&&pr[fr]===dr)return lr||fr||0;return!lr&&-1}};rr.exports={includes:ar(!0),indexOf:ar(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(tr,rr,nr){var ir=tr("../internals/function-bind-context"),sr=tr("../internals/function-uncurry-this"),or=tr("../internals/indexed-object"),ar=tr("../internals/to-object"),lr=tr("../internals/length-of-array-like"),cr=tr("../internals/array-species-create"),dr=sr([].push),hr=function(ur){var pr=ur===1,mr=ur===2,fr=ur===3,gr=ur===4,yr=ur===6,vr=ur===7,br=ur===5||yr;return function(Sr,jr,Cr,Pr){for(var Rr,Lr,Ir=ar(Sr),Nr=or(Ir),Ar=ir(jr,Cr),Dr=lr(Nr),Tr=0,_r=Pr||cr,wr=pr?_r(Sr,Dr):mr||vr?_r(Sr,0):void 0;Dr>Tr;Tr++)if((br||Tr in Nr)&&(Lr=Ar(Rr=Nr[Tr],Tr,Ir),ur))if(pr)wr[Tr]=Lr;else if(Lr)switch(ur){case 3:return!0;case 5:return Rr;case 6:return Tr;case 2:dr(wr,Rr)}else switch(ur){case 4:return!1;case 7:dr(wr,Rr)}return yr?-1:fr||gr?gr:wr}};rr.exports={forEach:hr(0),map:hr(1),filter:hr(2),some:hr(3),every:hr(4),find:hr(5),findIndex:hr(6),filterReject:hr(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(tr,rr,nr){var ir=tr("../internals/to-absolute-index"),sr=tr("../internals/length-of-array-like"),or=tr("../internals/create-property"),ar=Array,lr=Math.max;rr.exports=function(cr,dr,hr){for(var ur=sr(cr),pr=ir(dr,ur),mr=ir(hr===void 0?ur:hr,ur),fr=ar(lr(mr-pr,0)),gr=0;pr<mr;pr++,gr++)or(fr,gr,cr[pr]);return fr.length=gr,fr}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this");rr.exports=ir([].slice)},{"../internals/function-uncurry-this":268}],232:[function(tr,rr,nr){var ir=tr("../internals/is-array"),sr=tr("../internals/is-constructor"),or=tr("../internals/is-object"),ar=tr("../internals/well-known-symbol")("species"),lr=Array;rr.exports=function(cr){var dr;return ir(cr)&&(dr=cr.constructor,(sr(dr)&&(dr===lr||ir(dr.prototype))||or(dr)&&(dr=dr[ar])===null)&&(dr=void 0)),dr===void 0?lr:dr}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(tr,rr,nr){var ir=tr("../internals/array-species-constructor");rr.exports=function(sr,or){return new(ir(sr))(or===0?0:or)}},{"../internals/array-species-constructor":232}],234:[function(tr,rr,nr){var ir=tr("../internals/well-known-symbol")("iterator"),sr=!1;try{var or=0,ar={next:function(){return{done:!!or++}},return:function(){sr=!0}};ar[ir]=function(){return this},Array.from(ar,function(){throw 2})}catch{}rr.exports=function(lr,cr){try{if(!cr&&!sr)return!1}catch{return!1}var dr=!1;try{var hr={};hr[ir]=function(){return{next:function(){return{done:dr=!0}}}},lr(hr)}catch{}return dr}},{"../internals/well-known-symbol":357}],235:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=ir({}.toString),or=ir("".slice);rr.exports=function(ar){return or(sr(ar),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(tr,rr,nr){var ir=tr("../internals/to-string-tag-support"),sr=tr("../internals/is-callable"),or=tr("../internals/classof-raw"),ar=tr("../internals/well-known-symbol")("toStringTag"),lr=Object,cr=or(function(){return arguments}())==="Arguments";rr.exports=ir?or:function(dr){var hr,ur,pr;return dr===void 0?"Undefined":dr===null?"Null":typeof(ur=function(mr,fr){try{return mr[fr]}catch{}}(hr=lr(dr),ar))=="string"?ur:cr?or(hr):(pr=or(hr))==="Object"&&sr(hr.callee)?"Arguments":pr}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(tr,rr,nr){var ir=tr("../internals/has-own-property"),sr=tr("../internals/own-keys"),or=tr("../internals/object-get-own-property-descriptor"),ar=tr("../internals/object-define-property");rr.exports=function(lr,cr,dr){for(var hr=sr(cr),ur=ar.f,pr=or.f,mr=0;mr<hr.length;mr++){var fr=hr[mr];ir(lr,fr)||dr&&ir(dr,fr)||ur(lr,fr,pr(cr,fr))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(tr,rr,nr){var ir=tr("../internals/well-known-symbol")("match");rr.exports=function(sr){var or=/./;try{"/./"[sr](or)}catch{try{return or[ir]=!1,"/./"[sr](or)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(tr,rr,nr){var ir=tr("../internals/fails");rr.exports=!ir(function(){function sr(){}return sr.prototype.constructor=null,Object.getPrototypeOf(new sr)!==sr.prototype})},{"../internals/fails":260}],240:[function(tr,rr,nr){rr.exports=function(ir,sr){return{value:ir,done:sr}}},{}],241:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/object-define-property"),or=tr("../internals/create-property-descriptor");rr.exports=ir?function(ar,lr,cr){return sr.f(ar,lr,or(1,cr))}:function(ar,lr,cr){return ar[lr]=cr,ar}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(tr,rr,nr){rr.exports=function(ir,sr){return{enumerable:!(1&ir),configurable:!(2&ir),writable:!(4&ir),value:sr}}},{}],243:[function(tr,rr,nr){var ir=tr("../internals/to-property-key"),sr=tr("../internals/object-define-property"),or=tr("../internals/create-property-descriptor");rr.exports=function(ar,lr,cr){var dr=ir(lr);dr in ar?sr.f(ar,dr,or(0,cr)):ar[dr]=cr}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(tr,rr,nr){var ir=tr("../internals/make-built-in"),sr=tr("../internals/object-define-property");rr.exports=function(or,ar,lr){return lr.get&&ir(lr.get,ar,{getter:!0}),lr.set&&ir(lr.set,ar,{setter:!0}),sr.f(or,ar,lr)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(tr,rr,nr){var ir=tr("../internals/is-callable"),sr=tr("../internals/object-define-property"),or=tr("../internals/make-built-in"),ar=tr("../internals/define-global-property");rr.exports=function(lr,cr,dr,hr){hr||(hr={});var ur=hr.enumerable,pr=hr.name!==void 0?hr.name:cr;if(ir(dr)&&or(dr,pr,hr),hr.global)ur?lr[cr]=dr:ar(cr,dr);else{try{hr.unsafe?lr[cr]&&(ur=!0):delete lr[cr]}catch{}ur?lr[cr]=dr:sr.f(lr,cr,{value:dr,enumerable:!1,configurable:!hr.nonConfigurable,writable:!hr.nonWritable})}return lr}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=Object.defineProperty;rr.exports=function(or,ar){try{sr(ir,or,{value:ar,configurable:!0,writable:!0})}catch{ir[or]=ar}return ar}},{"../internals/global":274}],247:[function(tr,rr,nr){var ir=tr("../internals/fails");rr.exports=!ir(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(tr,rr,nr){var ir=typeof document=="object"&&document.all,sr=ir===void 0&&ir!==void 0;rr.exports={all:ir,IS_HTMLDDA:sr}},{}],249:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/is-object"),or=ir.document,ar=sr(or)&&sr(or.createElement);rr.exports=function(lr){return ar?or.createElement(lr):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(tr,rr,nr){var ir=tr("../internals/engine-is-deno"),sr=tr("../internals/engine-is-node");rr.exports=!ir&&!sr&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(tr,rr,nr){rr.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(tr,rr,nr){var ir=tr("../internals/engine-user-agent");rr.exports=/ipad|iphone|ipod/i.test(ir)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(tr,rr,nr){var ir=tr("../internals/engine-user-agent");rr.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(ir)},{"../internals/engine-user-agent":256}],254:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/classof-raw");rr.exports=sr(ir.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(tr,rr,nr){var ir=tr("../internals/engine-user-agent");rr.exports=/web0s(?!.*chrome)/i.test(ir)},{"../internals/engine-user-agent":256}],256:[function(tr,rr,nr){rr.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(tr,rr,nr){var ir,sr,or=tr("../internals/global"),ar=tr("../internals/engine-user-agent"),lr=or.process,cr=or.Deno,dr=lr&&lr.versions||cr&&cr.version,hr=dr&&dr.v8;hr&&(sr=(ir=hr.split("."))[0]>0&&ir[0]<4?1:+(ir[0]+ir[1])),!sr&&ar&&(!(ir=ar.match(/Edge\/(\d+)/))||ir[1]>=74)&&(ir=ar.match(/Chrome\/(\d+)/))&&(sr=+ir[1]),rr.exports=sr},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(tr,rr,nr){rr.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/object-get-own-property-descriptor").f,or=tr("../internals/create-non-enumerable-property"),ar=tr("../internals/define-built-in"),lr=tr("../internals/define-global-property"),cr=tr("../internals/copy-constructor-properties"),dr=tr("../internals/is-forced");rr.exports=function(hr,ur){var pr,mr,fr,gr,yr,vr=hr.target,br=hr.global,Sr=hr.stat;if(pr=br?ir:Sr?ir[vr]||lr(vr,{}):(ir[vr]||{}).prototype)for(mr in ur){if(gr=ur[mr],fr=hr.dontCallGetSet?(yr=sr(pr,mr))&&yr.value:pr[mr],!dr(br?mr:vr+(Sr?".":"#")+mr,hr.forced)&&fr!==void 0){if(typeof gr==typeof fr)continue;cr(gr,fr)}(hr.sham||fr&&fr.sham)&&or(gr,"sham",!0),ar(pr,mr,gr,hr)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(tr,rr,nr){rr.exports=function(ir){try{return!!ir()}catch{return!0}}},{}],261:[function(tr,rr,nr){var ir=tr("../internals/function-bind-native"),sr=Function.prototype,or=sr.apply,ar=sr.call;rr.exports=typeof Reflect=="object"&&Reflect.apply||(ir?ar.bind(or):function(){return ar.apply(or,arguments)})},{"../internals/function-bind-native":263}],262:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this-clause"),sr=tr("../internals/a-callable"),or=tr("../internals/function-bind-native"),ar=ir(ir.bind);rr.exports=function(lr,cr){return sr(lr),cr===void 0?lr:or?ar(lr,cr):function(){return lr.apply(cr,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(tr,rr,nr){var ir=tr("../internals/fails");rr.exports=!ir(function(){var sr=(function(){}).bind();return typeof sr!="function"||sr.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(tr,rr,nr){var ir=tr("../internals/function-bind-native"),sr=Function.prototype.call;rr.exports=ir?sr.bind(sr):function(){return sr.apply(sr,arguments)}},{"../internals/function-bind-native":263}],265:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/has-own-property"),or=Function.prototype,ar=ir&&Object.getOwnPropertyDescriptor,lr=sr(or,"name"),cr=lr&&(function(){}).name==="something",dr=lr&&(!ir||ir&&ar(or,"name").configurable);rr.exports={EXISTS:lr,PROPER:cr,CONFIGURABLE:dr}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/a-callable");rr.exports=function(or,ar,lr){try{return ir(sr(Object.getOwnPropertyDescriptor(or,ar)[lr]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(tr,rr,nr){var ir=tr("../internals/classof-raw"),sr=tr("../internals/function-uncurry-this");rr.exports=function(or){if(ir(or)==="Function")return sr(or)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(tr,rr,nr){var ir=tr("../internals/function-bind-native"),sr=Function.prototype,or=sr.call,ar=ir&&sr.bind.bind(or,or);rr.exports=ir?ar:function(lr){return function(){return or.apply(lr,arguments)}}},{"../internals/function-bind-native":263}],269:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/is-callable"),or=function(ar){return sr(ar)?ar:void 0};rr.exports=function(ar,lr){return arguments.length<2?or(ir[ar]):ir[ar]&&ir[ar][lr]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(tr,rr,nr){var ir=tr("../internals/classof"),sr=tr("../internals/get-method"),or=tr("../internals/is-null-or-undefined"),ar=tr("../internals/iterators"),lr=tr("../internals/well-known-symbol")("iterator");rr.exports=function(cr){if(!or(cr))return sr(cr,lr)||sr(cr,"@@iterator")||ar[ir(cr)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(tr,rr,nr){var ir=tr("../internals/function-call"),sr=tr("../internals/a-callable"),or=tr("../internals/an-object"),ar=tr("../internals/try-to-string"),lr=tr("../internals/get-iterator-method"),cr=TypeError;rr.exports=function(dr,hr){var ur=arguments.length<2?lr(dr):hr;if(sr(ur))return or(ir(ur,dr));throw new cr(ar(dr)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/is-array"),or=tr("../internals/is-callable"),ar=tr("../internals/classof-raw"),lr=tr("../internals/to-string"),cr=ir([].push);rr.exports=function(dr){if(or(dr))return dr;if(sr(dr)){for(var hr=dr.length,ur=[],pr=0;pr<hr;pr++){var mr=dr[pr];typeof mr=="string"?cr(ur,mr):typeof mr!="number"&&ar(mr)!=="Number"&&ar(mr)!=="String"||cr(ur,lr(mr))}var fr=ur.length,gr=!0;return function(yr,vr){if(gr)return gr=!1,vr;if(sr(this))return vr;for(var br=0;br<fr;br++)if(ur[br]===yr)return vr}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(tr,rr,nr){var ir=tr("../internals/a-callable"),sr=tr("../internals/is-null-or-undefined");rr.exports=function(or,ar){var lr=or[ar];return sr(lr)?void 0:ir(lr)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(tr,rr,nr){(function(ir){(function(){var sr=function(or){return or&&or.Math===Math&&or};rr.exports=sr(typeof globalThis=="object"&&globalThis)||sr(typeof window=="object"&&window)||sr(typeof self=="object"&&self)||sr(typeof ir=="object"&&ir)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/to-object"),or=ir({}.hasOwnProperty);rr.exports=Object.hasOwn||function(ar,lr){return or(sr(ar),lr)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(tr,rr,nr){rr.exports={}},{}],277:[function(tr,rr,nr){rr.exports=function(ir,sr){try{arguments.length===1?console.error(ir):console.error(ir,sr)}catch{}}},{}],278:[function(tr,rr,nr){var ir=tr("../internals/get-built-in");rr.exports=ir("document","documentElement")},{"../internals/get-built-in":269}],279:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/fails"),or=tr("../internals/document-create-element");rr.exports=!ir&&!sr(function(){return Object.defineProperty(or("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/fails"),or=tr("../internals/classof-raw"),ar=Object,lr=ir("".split);rr.exports=sr(function(){return!ar("z").propertyIsEnumerable(0)})?function(cr){return or(cr)==="String"?lr(cr,""):ar(cr)}:ar},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/is-callable"),or=tr("../internals/shared-store"),ar=ir(Function.toString);sr(or.inspectSource)||(or.inspectSource=function(lr){return ar(lr)}),rr.exports=or.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(tr,rr,nr){var ir,sr,or,ar=tr("../internals/weak-map-basic-detection"),lr=tr("../internals/global"),cr=tr("../internals/is-object"),dr=tr("../internals/create-non-enumerable-property"),hr=tr("../internals/has-own-property"),ur=tr("../internals/shared-store"),pr=tr("../internals/shared-key"),mr=tr("../internals/hidden-keys"),fr=lr.TypeError,gr=lr.WeakMap;if(ar||ur.state){var yr=ur.state||(ur.state=new gr);yr.get=yr.get,yr.has=yr.has,yr.set=yr.set,ir=function(br,Sr){if(yr.has(br))throw new fr("Object already initialized");return Sr.facade=br,yr.set(br,Sr),Sr},sr=function(br){return yr.get(br)||{}},or=function(br){return yr.has(br)}}else{var vr=pr("state");mr[vr]=!0,ir=function(br,Sr){if(hr(br,vr))throw new fr("Object already initialized");return Sr.facade=br,dr(br,vr,Sr),Sr},sr=function(br){return hr(br,vr)?br[vr]:{}},or=function(br){return hr(br,vr)}}rr.exports={set:ir,get:sr,has:or,enforce:function(br){return or(br)?sr(br):ir(br,{})},getterFor:function(br){return function(Sr){var jr;if(!cr(Sr)||(jr=sr(Sr)).type!==br)throw new fr("Incompatible receiver, "+br+" required");return jr}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(tr,rr,nr){var ir=tr("../internals/well-known-symbol"),sr=tr("../internals/iterators"),or=ir("iterator"),ar=Array.prototype;rr.exports=function(lr){return lr!==void 0&&(sr.Array===lr||ar[or]===lr)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(tr,rr,nr){var ir=tr("../internals/classof-raw");rr.exports=Array.isArray||function(sr){return ir(sr)==="Array"}},{"../internals/classof-raw":235}],285:[function(tr,rr,nr){var ir=tr("../internals/document-all"),sr=ir.all;rr.exports=ir.IS_HTMLDDA?function(or){return typeof or=="function"||or===sr}:function(or){return typeof or=="function"}},{"../internals/document-all":248}],286:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/fails"),or=tr("../internals/is-callable"),ar=tr("../internals/classof"),lr=tr("../internals/get-built-in"),cr=tr("../internals/inspect-source"),dr=function(){},hr=[],ur=lr("Reflect","construct"),pr=/^\s*(?:class|function)\b/,mr=ir(pr.exec),fr=!pr.test(dr),gr=function(vr){if(!or(vr))return!1;try{return ur(dr,hr,vr),!0}catch{return!1}},yr=function(vr){if(!or(vr))return!1;switch(ar(vr)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fr||!!mr(pr,cr(vr))}catch{return!0}};yr.sham=!0,rr.exports=!ur||sr(function(){var vr;return gr(gr.call)||!gr(Object)||!gr(function(){vr=!0})||vr})?yr:gr},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(tr,rr,nr){var ir=tr("../internals/fails"),sr=tr("../internals/is-callable"),or=/#|\.prototype\./,ar=function(ur,pr){var mr=cr[lr(ur)];return mr===hr||mr!==dr&&(sr(pr)?ir(pr):!!pr)},lr=ar.normalize=function(ur){return String(ur).replace(or,".").toLowerCase()},cr=ar.data={},dr=ar.NATIVE="N",hr=ar.POLYFILL="P";rr.exports=ar},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(tr,rr,nr){rr.exports=function(ir){return ir==null}},{}],289:[function(tr,rr,nr){var ir=tr("../internals/is-callable"),sr=tr("../internals/document-all"),or=sr.all;rr.exports=sr.IS_HTMLDDA?function(ar){return typeof ar=="object"?ar!==null:ir(ar)||ar===or}:function(ar){return typeof ar=="object"?ar!==null:ir(ar)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(tr,rr,nr){rr.exports=!1},{}],291:[function(tr,rr,nr){var ir=tr("../internals/is-object"),sr=tr("../internals/classof-raw"),or=tr("../internals/well-known-symbol")("match");rr.exports=function(ar){var lr;return ir(ar)&&((lr=ar[or])!==void 0?!!lr:sr(ar)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(tr,rr,nr){var ir=tr("../internals/get-built-in"),sr=tr("../internals/is-callable"),or=tr("../internals/object-is-prototype-of"),ar=tr("../internals/use-symbol-as-uid"),lr=Object;rr.exports=ar?function(cr){return typeof cr=="symbol"}:function(cr){var dr=ir("Symbol");return sr(dr)&&or(dr.prototype,lr(cr))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(tr,rr,nr){var ir=tr("../internals/function-bind-context"),sr=tr("../internals/function-call"),or=tr("../internals/an-object"),ar=tr("../internals/try-to-string"),lr=tr("../internals/is-array-iterator-method"),cr=tr("../internals/length-of-array-like"),dr=tr("../internals/object-is-prototype-of"),hr=tr("../internals/get-iterator"),ur=tr("../internals/get-iterator-method"),pr=tr("../internals/iterator-close"),mr=TypeError,fr=function(yr,vr){this.stopped=yr,this.result=vr},gr=fr.prototype;rr.exports=function(yr,vr,br){var Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr=br&&br.that,Ar=!(!br||!br.AS_ENTRIES),Dr=!(!br||!br.IS_RECORD),Tr=!(!br||!br.IS_ITERATOR),_r=!(!br||!br.INTERRUPTED),wr=ir(vr,Nr),Er=function(Mr){return Sr&&pr(Sr,"normal",Mr),new fr(!0,Mr)},xr=function(Mr){return Ar?(or(Mr),_r?wr(Mr[0],Mr[1],Er):wr(Mr[0],Mr[1])):_r?wr(Mr,Er):wr(Mr)};if(Dr)Sr=yr.iterator;else if(Tr)Sr=yr;else{if(!(jr=ur(yr)))throw new mr(ar(yr)+" is not iterable");if(lr(jr)){for(Cr=0,Pr=cr(yr);Pr>Cr;Cr++)if((Rr=xr(yr[Cr]))&&dr(gr,Rr))return Rr;return new fr(!1)}Sr=hr(yr,jr)}for(Lr=Dr?yr.next:Sr.next;!(Ir=sr(Lr,Sr)).done;){try{Rr=xr(Ir.value)}catch(Mr){pr(Sr,"throw",Mr)}if(typeof Rr=="object"&&Rr&&dr(gr,Rr))return Rr}return new fr(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(tr,rr,nr){var ir=tr("../internals/function-call"),sr=tr("../internals/an-object"),or=tr("../internals/get-method");rr.exports=function(ar,lr,cr){var dr,hr;sr(ar);try{if(!(dr=or(ar,"return"))){if(lr==="throw")throw cr;return cr}dr=ir(dr,ar)}catch(ur){hr=!0,dr=ur}if(lr==="throw")throw cr;if(hr)throw dr;return sr(dr),cr}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(tr,rr,nr){var ir=tr("../internals/iterators-core").IteratorPrototype,sr=tr("../internals/object-create"),or=tr("../internals/create-property-descriptor"),ar=tr("../internals/set-to-string-tag"),lr=tr("../internals/iterators"),cr=function(){return this};rr.exports=function(dr,hr,ur,pr){var mr=hr+" Iterator";return dr.prototype=sr(ir,{next:or(+!pr,ur)}),ar(dr,mr,!1,!0),lr[mr]=cr,dr}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-call"),or=tr("../internals/is-pure"),ar=tr("../internals/function-name"),lr=tr("../internals/is-callable"),cr=tr("../internals/iterator-create-constructor"),dr=tr("../internals/object-get-prototype-of"),hr=tr("../internals/object-set-prototype-of"),ur=tr("../internals/set-to-string-tag"),pr=tr("../internals/create-non-enumerable-property"),mr=tr("../internals/define-built-in"),fr=tr("../internals/well-known-symbol"),gr=tr("../internals/iterators"),yr=tr("../internals/iterators-core"),vr=ar.PROPER,br=ar.CONFIGURABLE,Sr=yr.IteratorPrototype,jr=yr.BUGGY_SAFARI_ITERATORS,Cr=fr("iterator"),Pr=function(){return this};rr.exports=function(Rr,Lr,Ir,Nr,Ar,Dr,Tr){cr(Ir,Lr,Nr);var _r,wr,Er,xr=function(Vr){if(Vr===Ar&&Ur)return Ur;if(!jr&&Vr&&Vr in Or)return Or[Vr];switch(Vr){case"keys":case"values":case"entries":return function(){return new Ir(this,Vr)}}return function(){return new Ir(this)}},Mr=Lr+" Iterator",zr=!1,Or=Rr.prototype,Br=Or[Cr]||Or["@@iterator"]||Ar&&Or[Ar],Ur=!jr&&Br||xr(Ar),qr=Lr==="Array"&&Or.entries||Br;if(qr&&(_r=dr(qr.call(new Rr)))!==Object.prototype&&_r.next&&(or||dr(_r)===Sr||(hr?hr(_r,Sr):lr(_r[Cr])||mr(_r,Cr,Pr)),ur(_r,Mr,!0,!0),or&&(gr[Mr]=Pr)),vr&&Ar==="values"&&Br&&Br.name!=="values"&&(!or&&br?pr(Or,"name","values"):(zr=!0,Ur=function(){return sr(Br,this)})),Ar)if(wr={values:xr("values"),keys:Dr?Ur:xr("keys"),entries:xr("entries")},Tr)for(Er in wr)(jr||zr||!(Er in Or))&&mr(Or,Er,wr[Er]);else ir({target:Lr,proto:!0,forced:jr||zr},wr);return or&&!Tr||Or[Cr]===Ur||mr(Or,Cr,Ur,{name:Ar}),gr[Lr]=Ur,wr}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(tr,rr,nr){var ir,sr,or,ar=tr("../internals/fails"),lr=tr("../internals/is-callable"),cr=tr("../internals/is-object"),dr=tr("../internals/object-create"),hr=tr("../internals/object-get-prototype-of"),ur=tr("../internals/define-built-in"),pr=tr("../internals/well-known-symbol"),mr=tr("../internals/is-pure"),fr=pr("iterator"),gr=!1;[].keys&&("next"in(or=[].keys())?(sr=hr(hr(or)))!==Object.prototype&&(ir=sr):gr=!0),!cr(ir)||ar(function(){var yr={};return ir[fr].call(yr)!==yr})?ir={}:mr&&(ir=dr(ir)),lr(ir[fr])||ur(ir,fr,function(){return this}),rr.exports={IteratorPrototype:ir,BUGGY_SAFARI_ITERATORS:gr}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(tr,rr,nr){arguments[4][276][0].apply(nr,arguments)},{dup:276}],299:[function(tr,rr,nr){var ir=tr("../internals/to-length");rr.exports=function(sr){return ir(sr.length)}},{"../internals/to-length":343}],300:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/fails"),or=tr("../internals/is-callable"),ar=tr("../internals/has-own-property"),lr=tr("../internals/descriptors"),cr=tr("../internals/function-name").CONFIGURABLE,dr=tr("../internals/inspect-source"),hr=tr("../internals/internal-state"),ur=hr.enforce,pr=hr.get,mr=String,fr=Object.defineProperty,gr=ir("".slice),yr=ir("".replace),vr=ir([].join),br=lr&&!sr(function(){return fr(function(){},"length",{value:8}).length!==8}),Sr=String(String).split("String"),jr=rr.exports=function(Cr,Pr,Rr){gr(mr(Pr),0,7)==="Symbol("&&(Pr="["+yr(mr(Pr),/^Symbol\(([^)]*)\)/,"$1")+"]"),Rr&&Rr.getter&&(Pr="get "+Pr),Rr&&Rr.setter&&(Pr="set "+Pr),(!ar(Cr,"name")||cr&&Cr.name!==Pr)&&(lr?fr(Cr,"name",{value:Pr,configurable:!0}):Cr.name=Pr),br&&Rr&&ar(Rr,"arity")&&Cr.length!==Rr.arity&&fr(Cr,"length",{value:Rr.arity});try{Rr&&ar(Rr,"constructor")&&Rr.constructor?lr&&fr(Cr,"prototype",{writable:!1}):Cr.prototype&&(Cr.prototype=void 0)}catch{}var Lr=ur(Cr);return ar(Lr,"source")||(Lr.source=vr(Sr,typeof Pr=="string"?Pr:"")),Cr};Function.prototype.toString=jr(function(){return or(this)&&pr(this).source||dr(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(tr,rr,nr){var ir=Math.ceil,sr=Math.floor;rr.exports=Math.trunc||function(or){var ar=+or;return(ar>0?sr:ir)(ar)}},{}],302:[function(tr,rr,nr){var ir,sr,or,ar,lr,cr=tr("../internals/global"),dr=tr("../internals/function-bind-context"),hr=tr("../internals/object-get-own-property-descriptor").f,ur=tr("../internals/task").set,pr=tr("../internals/queue"),mr=tr("../internals/engine-is-ios"),fr=tr("../internals/engine-is-ios-pebble"),gr=tr("../internals/engine-is-webos-webkit"),yr=tr("../internals/engine-is-node"),vr=cr.MutationObserver||cr.WebKitMutationObserver,br=cr.document,Sr=cr.process,jr=cr.Promise,Cr=hr(cr,"queueMicrotask"),Pr=Cr&&Cr.value;if(!Pr){var Rr=new pr,Lr=function(){var Ir,Nr;for(yr&&(Ir=Sr.domain)&&Ir.exit();Nr=Rr.get();)try{Nr()}catch(Ar){throw Rr.head&&ir(),Ar}Ir&&Ir.enter()};mr||yr||gr||!vr||!br?!fr&&jr&&jr.resolve?((ar=jr.resolve(void 0)).constructor=jr,lr=dr(ar.then,ar),ir=function(){lr(Lr)}):yr?ir=function(){Sr.nextTick(Lr)}:(ur=dr(ur,cr),ir=function(){ur(Lr)}):(sr=!0,or=br.createTextNode(""),new vr(Lr).observe(or,{characterData:!0}),ir=function(){or.data=sr=!sr}),Pr=function(Ir){Rr.head||ir(),Rr.add(Ir)}}rr.exports=Pr},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(tr,rr,nr){var ir=tr("../internals/a-callable"),sr=TypeError,or=function(ar){var lr,cr;this.promise=new ar(function(dr,hr){if(lr!==void 0||cr!==void 0)throw new sr("Bad Promise constructor");lr=dr,cr=hr}),this.resolve=ir(lr),this.reject=ir(cr)};rr.exports.f=function(ar){return new or(ar)}},{"../internals/a-callable":222}],304:[function(tr,rr,nr){var ir=tr("../internals/is-regexp"),sr=TypeError;rr.exports=function(or){if(ir(or))throw new sr("The method doesn't accept regular expressions");return or}},{"../internals/is-regexp":291}],305:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/function-uncurry-this"),or=tr("../internals/function-call"),ar=tr("../internals/fails"),lr=tr("../internals/object-keys"),cr=tr("../internals/object-get-own-property-symbols"),dr=tr("../internals/object-property-is-enumerable"),hr=tr("../internals/to-object"),ur=tr("../internals/indexed-object"),pr=Object.assign,mr=Object.defineProperty,fr=sr([].concat);rr.exports=!pr||ar(function(){if(ir&&pr({b:1},pr(mr({},"a",{enumerable:!0,get:function(){mr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var gr={},yr={},vr=Symbol("assign detection");return gr[vr]=7,"abcdefghijklmnopqrst".split("").forEach(function(br){yr[br]=br}),pr({},gr)[vr]!==7||lr(pr({},yr)).join("")!=="abcdefghijklmnopqrst"})?function(gr,yr){for(var vr=hr(gr),br=arguments.length,Sr=1,jr=cr.f,Cr=dr.f;br>Sr;)for(var Pr,Rr=ur(arguments[Sr++]),Lr=jr?fr(lr(Rr),jr(Rr)):lr(Rr),Ir=Lr.length,Nr=0;Ir>Nr;)Pr=Lr[Nr++],ir&&!or(Cr,Rr,Pr)||(vr[Pr]=Rr[Pr]);return vr}:pr},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(tr,rr,nr){var ir,sr=tr("../internals/an-object"),or=tr("../internals/object-define-properties"),ar=tr("../internals/enum-bug-keys"),lr=tr("../internals/hidden-keys"),cr=tr("../internals/html"),dr=tr("../internals/document-create-element"),hr=tr("../internals/shared-key"),ur=hr("IE_PROTO"),pr=function(){},mr=function(yr){return"<script>"+yr+"<\/script>"},fr=function(yr){yr.write(mr("")),yr.close();var vr=yr.parentWindow.Object;return yr=null,vr},gr=function(){try{ir=new ActiveXObject("htmlfile")}catch{}var yr,vr;gr=typeof document<"u"?document.domain&&ir?fr(ir):((vr=dr("iframe")).style.display="none",cr.appendChild(vr),vr.src="javascript:",(yr=vr.contentWindow.document).open(),yr.write(mr("document.F=Object")),yr.close(),yr.F):fr(ir);for(var br=ar.length;br--;)delete gr.prototype[ar[br]];return gr()};lr[ur]=!0,rr.exports=Object.create||function(yr,vr){var br;return yr!==null?(pr.prototype=sr(yr),br=new pr,pr.prototype=null,br[ur]=yr):br=gr(),vr===void 0?br:or.f(br,vr)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/v8-prototype-define-bug"),or=tr("../internals/object-define-property"),ar=tr("../internals/an-object"),lr=tr("../internals/to-indexed-object"),cr=tr("../internals/object-keys");nr.f=ir&&!sr?Object.defineProperties:function(dr,hr){ar(dr);for(var ur,pr=lr(hr),mr=cr(hr),fr=mr.length,gr=0;fr>gr;)or.f(dr,ur=mr[gr++],pr[ur]);return dr}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/ie8-dom-define"),or=tr("../internals/v8-prototype-define-bug"),ar=tr("../internals/an-object"),lr=tr("../internals/to-property-key"),cr=TypeError,dr=Object.defineProperty,hr=Object.getOwnPropertyDescriptor;nr.f=ir?or?function(ur,pr,mr){if(ar(ur),pr=lr(pr),ar(mr),typeof ur=="function"&&pr==="prototype"&&"value"in mr&&"writable"in mr&&!mr.writable){var fr=hr(ur,pr);fr&&fr.writable&&(ur[pr]=mr.value,mr={configurable:"configurable"in mr?mr.configurable:fr.configurable,enumerable:"enumerable"in mr?mr.enumerable:fr.enumerable,writable:!1})}return dr(ur,pr,mr)}:dr:function(ur,pr,mr){if(ar(ur),pr=lr(pr),ar(mr),sr)try{return dr(ur,pr,mr)}catch{}if("get"in mr||"set"in mr)throw new cr("Accessors not supported");return"value"in mr&&(ur[pr]=mr.value),ur}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/function-call"),or=tr("../internals/object-property-is-enumerable"),ar=tr("../internals/create-property-descriptor"),lr=tr("../internals/to-indexed-object"),cr=tr("../internals/to-property-key"),dr=tr("../internals/has-own-property"),hr=tr("../internals/ie8-dom-define"),ur=Object.getOwnPropertyDescriptor;nr.f=ir?ur:function(pr,mr){if(pr=lr(pr),mr=cr(mr),hr)try{return ur(pr,mr)}catch{}if(dr(pr,mr))return ar(!sr(or.f,pr,mr),pr[mr])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(tr,rr,nr){var ir=tr("../internals/classof-raw"),sr=tr("../internals/to-indexed-object"),or=tr("../internals/object-get-own-property-names").f,ar=tr("../internals/array-slice-simple"),lr=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];rr.exports.f=function(cr){return lr&&ir(cr)==="Window"?function(dr){try{return or(dr)}catch{return ar(lr)}}(cr):or(sr(cr))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(tr,rr,nr){var ir=tr("../internals/object-keys-internal"),sr=tr("../internals/enum-bug-keys").concat("length","prototype");nr.f=Object.getOwnPropertyNames||function(or){return ir(or,sr)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(tr,rr,nr){nr.f=Object.getOwnPropertySymbols},{}],313:[function(tr,rr,nr){var ir=tr("../internals/has-own-property"),sr=tr("../internals/is-callable"),or=tr("../internals/to-object"),ar=tr("../internals/shared-key"),lr=tr("../internals/correct-prototype-getter"),cr=ar("IE_PROTO"),dr=Object,hr=dr.prototype;rr.exports=lr?dr.getPrototypeOf:function(ur){var pr=or(ur);if(ir(pr,cr))return pr[cr];var mr=pr.constructor;return sr(mr)&&pr instanceof mr?mr.prototype:pr instanceof dr?hr:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this");rr.exports=ir({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=tr("../internals/has-own-property"),or=tr("../internals/to-indexed-object"),ar=tr("../internals/array-includes").indexOf,lr=tr("../internals/hidden-keys"),cr=ir([].push);rr.exports=function(dr,hr){var ur,pr=or(dr),mr=0,fr=[];for(ur in pr)!sr(lr,ur)&&sr(pr,ur)&&cr(fr,ur);for(;hr.length>mr;)sr(pr,ur=hr[mr++])&&(~ar(fr,ur)||cr(fr,ur));return fr}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(tr,rr,nr){var ir=tr("../internals/object-keys-internal"),sr=tr("../internals/enum-bug-keys");rr.exports=Object.keys||function(or){return ir(or,sr)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(tr,rr,nr){var ir={}.propertyIsEnumerable,sr=Object.getOwnPropertyDescriptor,or=sr&&!ir.call({1:2},1);nr.f=or?function(ar){var lr=sr(this,ar);return!!lr&&lr.enumerable}:ir},{}],318:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this-accessor"),sr=tr("../internals/an-object"),or=tr("../internals/a-possible-prototype");rr.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var ar,lr=!1,cr={};try{(ar=ir(Object.prototype,"__proto__","set"))(cr,[]),lr=cr instanceof Array}catch{}return function(dr,hr){return sr(dr),or(hr),lr?ar(dr,hr):dr.__proto__=hr,dr}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/fails"),or=tr("../internals/function-uncurry-this"),ar=tr("../internals/object-get-prototype-of"),lr=tr("../internals/object-keys"),cr=tr("../internals/to-indexed-object"),dr=or(tr("../internals/object-property-is-enumerable").f),hr=or([].push),ur=ir&&sr(function(){var mr=Object.create(null);return mr[2]=2,!dr(mr,2)}),pr=function(mr){return function(fr){for(var gr,yr=cr(fr),vr=lr(yr),br=ur&&ar(yr)===null,Sr=vr.length,jr=0,Cr=[];Sr>jr;)gr=vr[jr++],ir&&!(br?gr in yr:dr(yr,gr))||hr(Cr,mr?[gr,yr[gr]]:yr[gr]);return Cr}};rr.exports={entries:pr(!0),values:pr(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(tr,rr,nr){var ir=tr("../internals/function-call"),sr=tr("../internals/is-callable"),or=tr("../internals/is-object"),ar=TypeError;rr.exports=function(lr,cr){var dr,hr;if(cr==="string"&&sr(dr=lr.toString)&&!or(hr=ir(dr,lr))||sr(dr=lr.valueOf)&&!or(hr=ir(dr,lr))||cr!=="string"&&sr(dr=lr.toString)&&!or(hr=ir(dr,lr)))return hr;throw new ar("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(tr,rr,nr){var ir=tr("../internals/get-built-in"),sr=tr("../internals/function-uncurry-this"),or=tr("../internals/object-get-own-property-names"),ar=tr("../internals/object-get-own-property-symbols"),lr=tr("../internals/an-object"),cr=sr([].concat);rr.exports=ir("Reflect","ownKeys")||function(dr){var hr=or.f(lr(dr)),ur=ar.f;return ur?cr(hr,ur(dr)):hr}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(tr,rr,nr){var ir=tr("../internals/global");rr.exports=ir},{"../internals/global":274}],323:[function(tr,rr,nr){rr.exports=function(ir){try{return{error:!1,value:ir()}}catch(sr){return{error:!0,value:sr}}}},{}],324:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/promise-native-constructor"),or=tr("../internals/is-callable"),ar=tr("../internals/is-forced"),lr=tr("../internals/inspect-source"),cr=tr("../internals/well-known-symbol"),dr=tr("../internals/engine-is-browser"),hr=tr("../internals/engine-is-deno"),ur=tr("../internals/is-pure"),pr=tr("../internals/engine-v8-version"),mr=sr&&sr.prototype,fr=cr("species"),gr=!1,yr=or(ir.PromiseRejectionEvent),vr=ar("Promise",function(){var br=lr(sr),Sr=br!==String(sr);if(!Sr&&pr===66||ur&&(!mr.catch||!mr.finally))return!0;if(!pr||pr<51||!/native code/.test(br)){var jr=new sr(function(Pr){Pr(1)}),Cr=function(Pr){Pr(function(){},function(){})};if((jr.constructor={})[fr]=Cr,!(gr=jr.then(function(){})instanceof Cr))return!0}return!Sr&&(dr||hr)&&!yr});rr.exports={CONSTRUCTOR:vr,REJECTION_EVENT:yr,SUBCLASSING:gr}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(tr,rr,nr){var ir=tr("../internals/global");rr.exports=ir.Promise},{"../internals/global":274}],326:[function(tr,rr,nr){var ir=tr("../internals/an-object"),sr=tr("../internals/is-object"),or=tr("../internals/new-promise-capability");rr.exports=function(ar,lr){if(ir(ar),sr(lr)&&lr.constructor===ar)return lr;var cr=or.f(ar);return(0,cr.resolve)(lr),cr.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(tr,rr,nr){var ir=tr("../internals/promise-native-constructor"),sr=tr("../internals/check-correctness-of-iteration"),or=tr("../internals/promise-constructor-detection").CONSTRUCTOR;rr.exports=or||!sr(function(ar){ir.all(ar).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(tr,rr,nr){var ir=function(){this.head=null,this.tail=null};ir.prototype={add:function(sr){var or={item:sr,next:null},ar=this.tail;ar?ar.next=or:this.head=or,this.tail=or},get:function(){var sr=this.head;if(sr)return(this.head=sr.next)===null&&(this.tail=null),sr.item}},rr.exports=ir},{}],329:[function(tr,rr,nr){var ir=tr("../internals/is-null-or-undefined"),sr=TypeError;rr.exports=function(or){if(ir(or))throw new sr("Can't call method on "+or);return or}},{"../internals/is-null-or-undefined":288}],330:[function(tr,rr,nr){var ir=tr("../internals/get-built-in"),sr=tr("../internals/define-built-in-accessor"),or=tr("../internals/well-known-symbol"),ar=tr("../internals/descriptors"),lr=or("species");rr.exports=function(cr){var dr=ir(cr);ar&&dr&&!dr[lr]&&sr(dr,lr,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(tr,rr,nr){var ir=tr("../internals/object-define-property").f,sr=tr("../internals/has-own-property"),or=tr("../internals/well-known-symbol")("toStringTag");rr.exports=function(ar,lr,cr){ar&&!cr&&(ar=ar.prototype),ar&&!sr(ar,or)&&ir(ar,or,{configurable:!0,value:lr})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(tr,rr,nr){var ir=tr("../internals/shared"),sr=tr("../internals/uid"),or=ir("keys");rr.exports=function(ar){return or[ar]||(or[ar]=sr(ar))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/define-global-property"),or=ir["__core-js_shared__"]||sr("__core-js_shared__",{});rr.exports=or},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(tr,rr,nr){var ir=tr("../internals/is-pure"),sr=tr("../internals/shared-store");(rr.exports=function(or,ar){return sr[or]||(sr[or]=ar!==void 0?ar:{})})("versions",[]).push({version:"3.33.0",mode:ir?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(tr,rr,nr){var ir=tr("../internals/an-object"),sr=tr("../internals/a-constructor"),or=tr("../internals/is-null-or-undefined"),ar=tr("../internals/well-known-symbol")("species");rr.exports=function(lr,cr){var dr,hr=ir(lr).constructor;return hr===void 0||or(dr=ir(hr)[ar])?cr:sr(dr)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(tr,rr,nr){var ir=tr("../internals/engine-v8-version"),sr=tr("../internals/fails"),or=tr("../internals/global").String;rr.exports=!!Object.getOwnPropertySymbols&&!sr(function(){var ar=Symbol("symbol detection");return!or(ar)||!(Object(ar)instanceof Symbol)||!Symbol.sham&&ir&&ir<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(tr,rr,nr){var ir=tr("../internals/function-call"),sr=tr("../internals/get-built-in"),or=tr("../internals/well-known-symbol"),ar=tr("../internals/define-built-in");rr.exports=function(){var lr=sr("Symbol"),cr=lr&&lr.prototype,dr=cr&&cr.valueOf,hr=or("toPrimitive");cr&&!cr[hr]&&ar(cr,hr,function(ur){return ir(dr,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(tr,rr,nr){var ir=tr("../internals/symbol-constructor-detection");rr.exports=ir&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(tr,rr,nr){var ir,sr,or,ar,lr=tr("../internals/global"),cr=tr("../internals/function-apply"),dr=tr("../internals/function-bind-context"),hr=tr("../internals/is-callable"),ur=tr("../internals/has-own-property"),pr=tr("../internals/fails"),mr=tr("../internals/html"),fr=tr("../internals/array-slice"),gr=tr("../internals/document-create-element"),yr=tr("../internals/validate-arguments-length"),vr=tr("../internals/engine-is-ios"),br=tr("../internals/engine-is-node"),Sr=lr.setImmediate,jr=lr.clearImmediate,Cr=lr.process,Pr=lr.Dispatch,Rr=lr.Function,Lr=lr.MessageChannel,Ir=lr.String,Nr=0,Ar={};pr(function(){ir=lr.location});var Dr=function(Er){if(ur(Ar,Er)){var xr=Ar[Er];delete Ar[Er],xr()}},Tr=function(Er){return function(){Dr(Er)}},_r=function(Er){Dr(Er.data)},wr=function(Er){lr.postMessage(Ir(Er),ir.protocol+"//"+ir.host)};Sr&&jr||(Sr=function(Er){yr(arguments.length,1);var xr=hr(Er)?Er:Rr(Er),Mr=fr(arguments,1);return Ar[++Nr]=function(){cr(xr,void 0,Mr)},sr(Nr),Nr},jr=function(Er){delete Ar[Er]},br?sr=function(Er){Cr.nextTick(Tr(Er))}:Pr&&Pr.now?sr=function(Er){Pr.now(Tr(Er))}:Lr&&!vr?(ar=(or=new Lr).port2,or.port1.onmessage=_r,sr=dr(ar.postMessage,ar)):lr.addEventListener&&hr(lr.postMessage)&&!lr.importScripts&&ir&&ir.protocol!=="file:"&&!pr(wr)?(sr=wr,lr.addEventListener("message",_r,!1)):sr="onreadystatechange"in gr("script")?function(Er){mr.appendChild(gr("script")).onreadystatechange=function(){mr.removeChild(this),Dr(Er)}}:function(Er){setTimeout(Tr(Er),0)}),rr.exports={set:Sr,clear:jr}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(tr,rr,nr){var ir=tr("../internals/to-integer-or-infinity"),sr=Math.max,or=Math.min;rr.exports=function(ar,lr){var cr=ir(ar);return cr<0?sr(cr+lr,0):or(cr,lr)}},{"../internals/to-integer-or-infinity":342}],341:[function(tr,rr,nr){var ir=tr("../internals/indexed-object"),sr=tr("../internals/require-object-coercible");rr.exports=function(or){return ir(sr(or))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(tr,rr,nr){var ir=tr("../internals/math-trunc");rr.exports=function(sr){var or=+sr;return or!=or||or===0?0:ir(or)}},{"../internals/math-trunc":301}],343:[function(tr,rr,nr){var ir=tr("../internals/to-integer-or-infinity"),sr=Math.min;rr.exports=function(or){return or>0?sr(ir(or),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(tr,rr,nr){var ir=tr("../internals/require-object-coercible"),sr=Object;rr.exports=function(or){return sr(ir(or))}},{"../internals/require-object-coercible":329}],345:[function(tr,rr,nr){var ir=tr("../internals/function-call"),sr=tr("../internals/is-object"),or=tr("../internals/is-symbol"),ar=tr("../internals/get-method"),lr=tr("../internals/ordinary-to-primitive"),cr=tr("../internals/well-known-symbol"),dr=TypeError,hr=cr("toPrimitive");rr.exports=function(ur,pr){if(!sr(ur)||or(ur))return ur;var mr,fr=ar(ur,hr);if(fr){if(pr===void 0&&(pr="default"),mr=ir(fr,ur,pr),!sr(mr)||or(mr))return mr;throw new dr("Can't convert object to primitive value")}return pr===void 0&&(pr="number"),lr(ur,pr)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(tr,rr,nr){var ir=tr("../internals/to-primitive"),sr=tr("../internals/is-symbol");rr.exports=function(or){var ar=ir(or,"string");return sr(ar)?ar:ar+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(tr,rr,nr){var ir={};ir[tr("../internals/well-known-symbol")("toStringTag")]="z",rr.exports=String(ir)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(tr,rr,nr){var ir=tr("../internals/classof"),sr=String;rr.exports=function(or){if(ir(or)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return sr(or)}},{"../internals/classof":236}],349:[function(tr,rr,nr){var ir=String;rr.exports=function(sr){try{return ir(sr)}catch{return"Object"}}},{}],350:[function(tr,rr,nr){var ir=tr("../internals/function-uncurry-this"),sr=0,or=Math.random(),ar=ir(1 .toString);rr.exports=function(lr){return"Symbol("+(lr===void 0?"":lr)+")_"+ar(++sr+or,36)}},{"../internals/function-uncurry-this":268}],351:[function(tr,rr,nr){var ir=tr("../internals/symbol-constructor-detection");rr.exports=ir&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(tr,rr,nr){var ir=tr("../internals/descriptors"),sr=tr("../internals/fails");rr.exports=ir&&sr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(tr,rr,nr){var ir=TypeError;rr.exports=function(sr,or){if(sr<or)throw new ir("Not enough arguments");return sr}},{}],354:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/is-callable"),or=ir.WeakMap;rr.exports=sr(or)&&/native code/.test(String(or))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(tr,rr,nr){var ir=tr("../internals/path"),sr=tr("../internals/has-own-property"),or=tr("../internals/well-known-symbol-wrapped"),ar=tr("../internals/object-define-property").f;rr.exports=function(lr){var cr=ir.Symbol||(ir.Symbol={});sr(cr,lr)||ar(cr,lr,{value:or.f(lr)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(tr,rr,nr){var ir=tr("../internals/well-known-symbol");nr.f=ir},{"../internals/well-known-symbol":357}],357:[function(tr,rr,nr){var ir=tr("../internals/global"),sr=tr("../internals/shared"),or=tr("../internals/has-own-property"),ar=tr("../internals/uid"),lr=tr("../internals/symbol-constructor-detection"),cr=tr("../internals/use-symbol-as-uid"),dr=ir.Symbol,hr=sr("wks"),ur=cr?dr.for||dr:dr&&dr.withoutSetter||ar;rr.exports=function(pr){return or(hr,pr)||(hr[pr]=lr&&or(dr,pr)?dr[pr]:ur("Symbol."+pr)),hr[pr]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/array-iteration").findIndex,or=tr("../internals/add-to-unscopables"),ar=!0;"findIndex"in[]&&Array(1).findIndex(function(){ar=!1}),ir({target:"Array",proto:!0,forced:ar},{findIndex:function(lr){return sr(this,lr,arguments.length>1?arguments[1]:void 0)}}),or("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/array-iteration").find,or=tr("../internals/add-to-unscopables"),ar=!0;"find"in[]&&Array(1).find(function(){ar=!1}),ir({target:"Array",proto:!0,forced:ar},{find:function(lr){return sr(this,lr,arguments.length>1?arguments[1]:void 0)}}),or("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/array-includes").includes,or=tr("../internals/fails"),ar=tr("../internals/add-to-unscopables");ir({target:"Array",proto:!0,forced:or(function(){return!Array(1).includes()})},{includes:function(lr){return sr(this,lr,arguments.length>1?arguments[1]:void 0)}}),ar("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(tr,rr,nr){var ir=tr("../internals/to-indexed-object"),sr=tr("../internals/add-to-unscopables"),or=tr("../internals/iterators"),ar=tr("../internals/internal-state"),lr=tr("../internals/object-define-property").f,cr=tr("../internals/iterator-define"),dr=tr("../internals/create-iter-result-object"),hr=tr("../internals/is-pure"),ur=tr("../internals/descriptors"),pr=ar.set,mr=ar.getterFor("Array Iterator");rr.exports=cr(Array,"Array",function(gr,yr){pr(this,{type:"Array Iterator",target:ir(gr),index:0,kind:yr})},function(){var gr=mr(this),yr=gr.target,vr=gr.kind,br=gr.index++;if(!yr||br>=yr.length)return gr.target=void 0,dr(void 0,!0);switch(vr){case"keys":return dr(br,!1);case"values":return dr(yr[br],!1)}return dr([br,yr[br]],!1)},"values");var fr=or.Arguments=or.Array;if(sr("keys"),sr("values"),sr("entries"),!hr&&ur&&fr.name!=="values")try{lr(fr,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/get-built-in"),or=tr("../internals/function-apply"),ar=tr("../internals/function-call"),lr=tr("../internals/function-uncurry-this"),cr=tr("../internals/fails"),dr=tr("../internals/is-callable"),hr=tr("../internals/is-symbol"),ur=tr("../internals/array-slice"),pr=tr("../internals/get-json-replacer-function"),mr=tr("../internals/symbol-constructor-detection"),fr=String,gr=sr("JSON","stringify"),yr=lr(/./.exec),vr=lr("".charAt),br=lr("".charCodeAt),Sr=lr("".replace),jr=lr(1 .toString),Cr=/[\uD800-\uDFFF]/g,Pr=/^[\uD800-\uDBFF]$/,Rr=/^[\uDC00-\uDFFF]$/,Lr=!mr||cr(function(){var Dr=sr("Symbol")("stringify detection");return gr([Dr])!=="[null]"||gr({a:Dr})!=="{}"||gr(Object(Dr))!=="{}"}),Ir=cr(function(){return gr("\uDF06\uD834")!=='"\\udf06\\ud834"'||gr("\uDEAD")!=='"\\udead"'}),Nr=function(Dr,Tr){var _r=ur(arguments),wr=pr(Tr);if(dr(wr)||Dr!==void 0&&!hr(Dr))return _r[1]=function(Er,xr){if(dr(wr)&&(xr=ar(wr,this,fr(Er),xr)),!hr(xr))return xr},or(gr,null,_r)},Ar=function(Dr,Tr,_r){var wr=vr(_r,Tr-1),Er=vr(_r,Tr+1);return yr(Pr,Dr)&&!yr(Rr,Er)||yr(Rr,Dr)&&!yr(Pr,wr)?"\\u"+jr(br(Dr,0),16):Dr};gr&&ir({target:"JSON",stat:!0,arity:3,forced:Lr||Ir},{stringify:function(Dr,Tr,_r){var wr=ur(arguments),Er=or(Lr?Nr:gr,null,wr);return Ir&&typeof Er=="string"?Sr(Er,Cr,Ar):Er}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(tr,rr,nr){tr("../internals/export")({target:"Number",stat:!0},{isNaN:function(ir){return ir!=ir}})},{"../internals/export":259}],364:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/object-assign");ir({target:"Object",stat:!0,arity:2,forced:Object.assign!==sr},{assign:sr})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/symbol-constructor-detection"),or=tr("../internals/fails"),ar=tr("../internals/object-get-own-property-symbols"),lr=tr("../internals/to-object");ir({target:"Object",stat:!0,forced:!sr||or(function(){ar.f(1)})},{getOwnPropertySymbols:function(cr){var dr=ar.f;return dr?dr(lr(cr)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/to-object"),or=tr("../internals/object-keys");ir({target:"Object",stat:!0,forced:tr("../internals/fails")(function(){or(1)})},{keys:function(ar){return or(sr(ar))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/object-to-array").values;ir({target:"Object",stat:!0},{values:function(or){return sr(or)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-call"),or=tr("../internals/a-callable"),ar=tr("../internals/new-promise-capability"),lr=tr("../internals/perform"),cr=tr("../internals/iterate");ir({target:"Promise",stat:!0,forced:tr("../internals/promise-statics-incorrect-iteration")},{all:function(dr){var hr=this,ur=ar.f(hr),pr=ur.resolve,mr=ur.reject,fr=lr(function(){var gr=or(hr.resolve),yr=[],vr=0,br=1;cr(dr,function(Sr){var jr=vr++,Cr=!1;br++,sr(gr,hr,Sr).then(function(Pr){Cr||(Cr=!0,yr[jr]=Pr,--br||pr(yr))},mr)}),--br||pr(yr)});return fr.error&&mr(fr.value),ur.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/is-pure"),or=tr("../internals/promise-constructor-detection").CONSTRUCTOR,ar=tr("../internals/promise-native-constructor"),lr=tr("../internals/get-built-in"),cr=tr("../internals/is-callable"),dr=tr("../internals/define-built-in"),hr=ar&&ar.prototype;if(ir({target:"Promise",proto:!0,forced:or,real:!0},{catch:function(pr){return this.then(void 0,pr)}}),!sr&&cr(ar)){var ur=lr("Promise").prototype.catch;hr.catch!==ur&&dr(hr,"catch",ur,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(tr,rr,nr){var ir,sr,or,ar=tr("../internals/export"),lr=tr("../internals/is-pure"),cr=tr("../internals/engine-is-node"),dr=tr("../internals/global"),hr=tr("../internals/function-call"),ur=tr("../internals/define-built-in"),pr=tr("../internals/object-set-prototype-of"),mr=tr("../internals/set-to-string-tag"),fr=tr("../internals/set-species"),gr=tr("../internals/a-callable"),yr=tr("../internals/is-callable"),vr=tr("../internals/is-object"),br=tr("../internals/an-instance"),Sr=tr("../internals/species-constructor"),jr=tr("../internals/task").set,Cr=tr("../internals/microtask"),Pr=tr("../internals/host-report-errors"),Rr=tr("../internals/perform"),Lr=tr("../internals/queue"),Ir=tr("../internals/internal-state"),Nr=tr("../internals/promise-native-constructor"),Ar=tr("../internals/promise-constructor-detection"),Dr=tr("../internals/new-promise-capability"),Tr=Ar.CONSTRUCTOR,_r=Ar.REJECTION_EVENT,wr=Ar.SUBCLASSING,Er=Ir.getterFor("Promise"),xr=Ir.set,Mr=Nr&&Nr.prototype,zr=Nr,Or=Mr,Br=dr.TypeError,Ur=dr.document,qr=dr.process,Vr=Dr.f,Gr=Vr,$r=!!(Ur&&Ur.createEvent&&dr.dispatchEvent),Fr=function(sn){var fn;return!(!vr(sn)||!yr(fn=sn.then))&&fn},Kr=function(sn,fn){var pn,yn,Cn,Rn=fn.value,En=fn.state===1,zn=En?sn.ok:sn.fail,Bn=sn.resolve,rs=sn.reject,cs=sn.domain;try{zn?(En||(fn.rejection===2&&dn(fn),fn.rejection=1),zn===!0?pn=Rn:(cs&&cs.enter(),pn=zn(Rn),cs&&(cs.exit(),Cn=!0)),pn===sn.promise?rs(new Br("Promise-chain cycle")):(yn=Fr(pn))?hr(yn,pn,Bn,rs):Bn(pn)):rs(Rn)}catch(_s){cs&&!Cn&&cs.exit(),rs(_s)}},Zr=function(sn,fn){sn.notified||(sn.notified=!0,Cr(function(){for(var pn,yn=sn.reactions;pn=yn.get();)Kr(pn,sn);sn.notified=!1,fn&&!sn.rejection&&Qr(sn)}))},nn=function(sn,fn,pn){var yn,Cn;$r?((yn=Ur.createEvent("Event")).promise=fn,yn.reason=pn,yn.initEvent(sn,!1,!0),dr.dispatchEvent(yn)):yn={promise:fn,reason:pn},!_r&&(Cn=dr["on"+sn])?Cn(yn):sn==="unhandledrejection"&&Pr("Unhandled promise rejection",pn)},Qr=function(sn){hr(jr,dr,function(){var fn,pn=sn.facade,yn=sn.value;if(cn(sn)&&(fn=Rr(function(){cr?qr.emit("unhandledRejection",yn,pn):nn("unhandledrejection",pn,yn)}),sn.rejection=cr||cn(sn)?2:1,fn.error))throw fn.value})},cn=function(sn){return sn.rejection!==1&&!sn.parent},dn=function(sn){hr(jr,dr,function(){var fn=sn.facade;cr?qr.emit("rejectionHandled",fn):nn("rejectionhandled",fn,sn.value)})},en=function(sn,fn,pn){return function(yn){sn(fn,yn,pn)}},an=function(sn,fn,pn){sn.done||(sn.done=!0,pn&&(sn=pn),sn.value=fn,sn.state=2,Zr(sn,!0))},tn=function(sn,fn,pn){if(!sn.done){sn.done=!0,pn&&(sn=pn);try{if(sn.facade===fn)throw new Br("Promise can't be resolved itself");var yn=Fr(fn);yn?Cr(function(){var Cn={done:!1};try{hr(yn,fn,en(tn,Cn,sn),en(an,Cn,sn))}catch(Rn){an(Cn,Rn,sn)}}):(sn.value=fn,sn.state=1,Zr(sn,!1))}catch(Cn){an({done:!1},Cn,sn)}}};if(Tr&&(Or=(zr=function(sn){br(this,Or),gr(sn),hr(ir,this);var fn=Er(this);try{sn(en(tn,fn),en(an,fn))}catch(pn){an(fn,pn)}}).prototype,(ir=function(sn){xr(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Lr,rejection:!1,state:0,value:void 0})}).prototype=ur(Or,"then",function(sn,fn){var pn=Er(this),yn=Vr(Sr(this,zr));return pn.parent=!0,yn.ok=!yr(sn)||sn,yn.fail=yr(fn)&&fn,yn.domain=cr?qr.domain:void 0,pn.state===0?pn.reactions.add(yn):Cr(function(){Kr(yn,pn)}),yn.promise}),sr=function(){var sn=new ir,fn=Er(sn);this.promise=sn,this.resolve=en(tn,fn),this.reject=en(an,fn)},Dr.f=Vr=function(sn){return sn===zr||sn===void 0?new sr(sn):Gr(sn)},!lr&&yr(Nr)&&Mr!==Object.prototype)){or=Mr.then,wr||ur(Mr,"then",function(sn,fn){var pn=this;return new zr(function(yn,Cn){hr(or,pn,yn,Cn)}).then(sn,fn)},{unsafe:!0});try{delete Mr.constructor}catch{}pr&&pr(Mr,Or)}ar({global:!0,constructor:!0,wrap:!0,forced:Tr},{Promise:zr}),mr(zr,"Promise",!1,!0),fr("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/is-pure"),or=tr("../internals/promise-native-constructor"),ar=tr("../internals/fails"),lr=tr("../internals/get-built-in"),cr=tr("../internals/is-callable"),dr=tr("../internals/species-constructor"),hr=tr("../internals/promise-resolve"),ur=tr("../internals/define-built-in"),pr=or&&or.prototype;if(ir({target:"Promise",proto:!0,real:!0,forced:!!or&&ar(function(){pr.finally.call({then:function(){}},function(){})})},{finally:function(fr){var gr=dr(this,lr("Promise")),yr=cr(fr);return this.then(yr?function(vr){return hr(gr,fr()).then(function(){return vr})}:fr,yr?function(vr){return hr(gr,fr()).then(function(){throw vr})}:fr)}}),!sr&&cr(or)){var mr=lr("Promise").prototype.finally;pr.finally!==mr&&ur(pr,"finally",mr,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(tr,rr,nr){tr("../modules/es.promise.constructor"),tr("../modules/es.promise.all"),tr("../modules/es.promise.catch"),tr("../modules/es.promise.race"),tr("../modules/es.promise.reject"),tr("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-call"),or=tr("../internals/a-callable"),ar=tr("../internals/new-promise-capability"),lr=tr("../internals/perform"),cr=tr("../internals/iterate");ir({target:"Promise",stat:!0,forced:tr("../internals/promise-statics-incorrect-iteration")},{race:function(dr){var hr=this,ur=ar.f(hr),pr=ur.reject,mr=lr(function(){var fr=or(hr.resolve);cr(dr,function(gr){sr(fr,hr,gr).then(ur.resolve,pr)})});return mr.error&&pr(mr.value),ur.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-call"),or=tr("../internals/new-promise-capability");ir({target:"Promise",stat:!0,forced:tr("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(ar){var lr=or.f(this);return sr(lr.reject,void 0,ar),lr.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/get-built-in"),or=tr("../internals/is-pure"),ar=tr("../internals/promise-native-constructor"),lr=tr("../internals/promise-constructor-detection").CONSTRUCTOR,cr=tr("../internals/promise-resolve"),dr=sr("Promise"),hr=or&&!lr;ir({target:"Promise",stat:!0,forced:or||lr},{resolve:function(ur){return cr(hr&&this===dr?ar:this,ur)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-uncurry-this"),or=tr("../internals/to-absolute-index"),ar=RangeError,lr=String.fromCharCode,cr=String.fromCodePoint,dr=sr([].join);ir({target:"String",stat:!0,arity:1,forced:!!cr&&cr.length!==1},{fromCodePoint:function(hr){for(var ur,pr=[],mr=arguments.length,fr=0;mr>fr;){if(ur=+arguments[fr++],or(ur,1114111)!==ur)throw new ar(ur+" is not a valid code point");pr[fr]=ur<65536?lr(ur):lr(55296+((ur-=65536)>>10),ur%1024+56320)}return dr(pr,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/function-uncurry-this"),or=tr("../internals/not-a-regexp"),ar=tr("../internals/require-object-coercible"),lr=tr("../internals/to-string"),cr=tr("../internals/correct-is-regexp-logic"),dr=sr("".indexOf);ir({target:"String",proto:!0,forced:!cr("includes")},{includes:function(hr){return!!~dr(lr(ar(this)),lr(or(hr)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(tr,rr,nr){tr("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/global"),or=tr("../internals/function-call"),ar=tr("../internals/function-uncurry-this"),lr=tr("../internals/is-pure"),cr=tr("../internals/descriptors"),dr=tr("../internals/symbol-constructor-detection"),hr=tr("../internals/fails"),ur=tr("../internals/has-own-property"),pr=tr("../internals/object-is-prototype-of"),mr=tr("../internals/an-object"),fr=tr("../internals/to-indexed-object"),gr=tr("../internals/to-property-key"),yr=tr("../internals/to-string"),vr=tr("../internals/create-property-descriptor"),br=tr("../internals/object-create"),Sr=tr("../internals/object-keys"),jr=tr("../internals/object-get-own-property-names"),Cr=tr("../internals/object-get-own-property-names-external"),Pr=tr("../internals/object-get-own-property-symbols"),Rr=tr("../internals/object-get-own-property-descriptor"),Lr=tr("../internals/object-define-property"),Ir=tr("../internals/object-define-properties"),Nr=tr("../internals/object-property-is-enumerable"),Ar=tr("../internals/define-built-in"),Dr=tr("../internals/define-built-in-accessor"),Tr=tr("../internals/shared"),_r=tr("../internals/shared-key"),wr=tr("../internals/hidden-keys"),Er=tr("../internals/uid"),xr=tr("../internals/well-known-symbol"),Mr=tr("../internals/well-known-symbol-wrapped"),zr=tr("../internals/well-known-symbol-define"),Or=tr("../internals/symbol-define-to-primitive"),Br=tr("../internals/set-to-string-tag"),Ur=tr("../internals/internal-state"),qr=tr("../internals/array-iteration").forEach,Vr=_r("hidden"),Gr=Ur.set,$r=Ur.getterFor("Symbol"),Fr=Object.prototype,Kr=sr.Symbol,Zr=Kr&&Kr.prototype,nn=sr.RangeError,Qr=sr.TypeError,cn=sr.QObject,dn=Rr.f,en=Lr.f,an=Cr.f,tn=Nr.f,sn=ar([].push),fn=Tr("symbols"),pn=Tr("op-symbols"),yn=Tr("wks"),Cn=!cn||!cn.prototype||!cn.prototype.findChild,Rn=function(fs,xs,Vn){var On=dn(Fr,xs);On&&delete Fr[xs],en(fs,xs,Vn),On&&fs!==Fr&&en(Fr,xs,On)},En=cr&&hr(function(){return br(en({},"a",{get:function(){return en(this,"a",{value:7}).a}})).a!==7})?Rn:en,zn=function(fs,xs){var Vn=fn[fs]=br(Zr);return Gr(Vn,{type:"Symbol",tag:fs,description:xs}),cr||(Vn.description=xs),Vn},Bn=function(fs,xs,Vn){fs===Fr&&Bn(pn,xs,Vn),mr(fs);var On=gr(xs);return mr(Vn),ur(fn,On)?(Vn.enumerable?(ur(fs,Vr)&&fs[Vr][On]&&(fs[Vr][On]=!1),Vn=br(Vn,{enumerable:vr(0,!1)})):(ur(fs,Vr)||en(fs,Vr,vr(1,{})),fs[Vr][On]=!0),En(fs,On,Vn)):en(fs,On,Vn)},rs=function(fs,xs){mr(fs);var Vn=fr(xs),On=Sr(Vn).concat(vs(Vn));return qr(On,function(Mn){cr&&!or(cs,Vn,Mn)||Bn(fs,Mn,Vn[Mn])}),fs},cs=function(fs){var xs=gr(fs),Vn=or(tn,this,xs);return!(this===Fr&&ur(fn,xs)&&!ur(pn,xs))&&(!(Vn||!ur(this,xs)||!ur(fn,xs)||ur(this,Vr)&&this[Vr][xs])||Vn)},_s=function(fs,xs){var Vn=fr(fs),On=gr(xs);if(Vn!==Fr||!ur(fn,On)||ur(pn,On)){var Mn=dn(Vn,On);return!Mn||!ur(fn,On)||ur(Vn,Vr)&&Vn[Vr][On]||(Mn.enumerable=!0),Mn}},qn=function(fs){var xs=an(fr(fs)),Vn=[];return qr(xs,function(On){ur(fn,On)||ur(wr,On)||sn(Vn,On)}),Vn},vs=function(fs){var xs=fs===Fr,Vn=an(xs?pn:fr(fs)),On=[];return qr(Vn,function(Mn){!ur(fn,Mn)||xs&&!ur(Fr,Mn)||sn(On,fn[Mn])}),On};dr||(Ar(Zr=(Kr=function(){if(pr(Zr,this))throw new Qr("Symbol is not a constructor");var fs=arguments.length&&arguments[0]!==void 0?yr(arguments[0]):void 0,xs=Er(fs),Vn=function(On){this===Fr&&or(Vn,pn,On),ur(this,Vr)&&ur(this[Vr],xs)&&(this[Vr][xs]=!1);var Mn=vr(1,On);try{En(this,xs,Mn)}catch(ds){if(!(ds instanceof nn))throw ds;Rn(this,xs,Mn)}};return cr&&Cn&&En(Fr,xs,{configurable:!0,set:Vn}),zn(xs,fs)}).prototype,"toString",function(){return $r(this).tag}),Ar(Kr,"withoutSetter",function(fs){return zn(Er(fs),fs)}),Nr.f=cs,Lr.f=Bn,Ir.f=rs,Rr.f=_s,jr.f=Cr.f=qn,Pr.f=vs,Mr.f=function(fs){return zn(xr(fs),fs)},cr&&(Dr(Zr,"description",{configurable:!0,get:function(){return $r(this).description}}),lr||Ar(Fr,"propertyIsEnumerable",cs,{unsafe:!0}))),ir({global:!0,constructor:!0,wrap:!0,forced:!dr,sham:!dr},{Symbol:Kr}),qr(Sr(yn),function(fs){zr(fs)}),ir({target:"Symbol",stat:!0,forced:!dr},{useSetter:function(){Cn=!0},useSimple:function(){Cn=!1}}),ir({target:"Object",stat:!0,forced:!dr,sham:!cr},{create:function(fs,xs){return xs===void 0?br(fs):rs(br(fs),xs)},defineProperty:Bn,defineProperties:rs,getOwnPropertyDescriptor:_s}),ir({target:"Object",stat:!0,forced:!dr},{getOwnPropertyNames:qn}),Or(),Br(Kr,"Symbol"),wr[Vr]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/get-built-in"),or=tr("../internals/has-own-property"),ar=tr("../internals/to-string"),lr=tr("../internals/shared"),cr=tr("../internals/symbol-registry-detection"),dr=lr("string-to-symbol-registry"),hr=lr("symbol-to-string-registry");ir({target:"Symbol",stat:!0,forced:!cr},{for:function(ur){var pr=ar(ur);if(or(dr,pr))return dr[pr];var mr=sr("Symbol")(pr);return dr[pr]=mr,hr[mr]=pr,mr}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(tr,rr,nr){tr("../modules/es.symbol.constructor"),tr("../modules/es.symbol.for"),tr("../modules/es.symbol.key-for"),tr("../modules/es.json.stringify"),tr("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(tr,rr,nr){var ir=tr("../internals/export"),sr=tr("../internals/has-own-property"),or=tr("../internals/is-symbol"),ar=tr("../internals/try-to-string"),lr=tr("../internals/shared"),cr=tr("../internals/symbol-registry-detection"),dr=lr("symbol-to-string-registry");ir({target:"Symbol",stat:!0,forced:!cr},{keyFor:function(hr){if(!or(hr))throw new TypeError(ar(hr)+" is not a symbol");if(sr(dr,hr))return dr[hr]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(tr,rr,nr){function ir(sr){return Object.prototype.toString.call(sr)}nr.isArray=function(sr){return Array.isArray?Array.isArray(sr):ir(sr)==="[object Array]"},nr.isBoolean=function(sr){return typeof sr=="boolean"},nr.isNull=function(sr){return sr===null},nr.isNullOrUndefined=function(sr){return sr==null},nr.isNumber=function(sr){return typeof sr=="number"},nr.isString=function(sr){return typeof sr=="string"},nr.isSymbol=function(sr){return typeof sr=="symbol"},nr.isUndefined=function(sr){return sr===void 0},nr.isRegExp=function(sr){return ir(sr)==="[object RegExp]"},nr.isObject=function(sr){return typeof sr=="object"&&sr!==null},nr.isDate=function(sr){return ir(sr)==="[object Date]"},nr.isError=function(sr){return ir(sr)==="[object Error]"||sr instanceof Error},nr.isFunction=function(sr){return typeof sr=="function"},nr.isPrimitive=function(sr){return sr===null||typeof sr=="boolean"||typeof sr=="number"||typeof sr=="string"||typeof sr=="symbol"||sr===void 0},nr.isBuffer=tr("buffer").Buffer.isBuffer},{buffer:220}],384:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("elliptic"),or=tr("bn.js");rr.exports=function(dr){return new lr(dr)};var ar={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function lr(dr){this.curveType=ar[dr],this.curveType||(this.curveType={name:dr}),this.curve=new sr.ec(this.curveType.name),this.keys=void 0}function cr(dr,hr,ur){Array.isArray(dr)||(dr=dr.toArray());var pr=new ir(dr);if(ur&&pr.length<ur){var mr=new ir(ur-pr.length);mr.fill(0),pr=ir.concat([mr,pr])}return hr?pr.toString(hr):pr}ar.p224=ar.secp224r1,ar.p256=ar.secp256r1=ar.prime256v1,ar.p192=ar.secp192r1=ar.prime192v1,ar.p384=ar.secp384r1,ar.p521=ar.secp521r1,lr.prototype.generateKeys=function(dr,hr){return this.keys=this.curve.genKeyPair(),this.getPublicKey(dr,hr)},lr.prototype.computeSecret=function(dr,hr,ur){return hr=hr||"utf8",ir.isBuffer(dr)||(dr=new ir(dr,hr)),cr(this.curve.keyFromPublic(dr).getPublic().mul(this.keys.getPrivate()).getX(),ur,this.curveType.byteLength)},lr.prototype.getPublicKey=function(dr,hr){var ur=this.keys.getPublic(hr==="compressed",!0);return hr==="hybrid"&&(ur[ur.length-1]%2?ur[0]=7:ur[0]=6),cr(ur,dr)},lr.prototype.getPrivateKey=function(dr){return cr(this.keys.getPrivate(),dr)},lr.prototype.setPublicKey=function(dr,hr){return hr=hr||"utf8",ir.isBuffer(dr)||(dr=new ir(dr,hr)),this.keys._importPublic(dr),this},lr.prototype.setPrivateKey=function(dr,hr){hr=hr||"utf8",ir.isBuffer(dr)||(dr=new ir(dr,hr));var ur=new or(dr);return ur=ur.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(ur),this}}).call(this)}).call(this,tr("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(tr,rr,nr){arguments[4][184][0].apply(nr,arguments)},{buffer:188,dup:184}],386:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("md5.js"),or=tr("ripemd160"),ar=tr("sha.js"),lr=tr("cipher-base");function cr(dr){lr.call(this,"digest"),this._hash=dr}ir(cr,lr),cr.prototype._update=function(dr){this._hash.update(dr)},cr.prototype._final=function(){return this._hash.digest()},rr.exports=function(dr){return(dr=dr.toLowerCase())==="md5"?new sr:dr==="rmd160"||dr==="ripemd160"?new or:new cr(ar(dr))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(tr,rr,nr){var ir=tr("md5.js");rr.exports=function(sr){return new ir().update(sr).digest()}},{"md5.js":450}],388:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./legacy"),or=tr("cipher-base"),ar=tr("safe-buffer").Buffer,lr=tr("create-hash/md5"),cr=tr("ripemd160"),dr=tr("sha.js"),hr=ar.alloc(128);function ur(pr,mr){or.call(this,"digest"),typeof mr=="string"&&(mr=ar.from(mr));var fr=pr==="sha512"||pr==="sha384"?128:64;this._alg=pr,this._key=mr,mr.length>fr?mr=(pr==="rmd160"?new cr:dr(pr)).update(mr).digest():mr.length<fr&&(mr=ar.concat([mr,hr],fr));for(var gr=this._ipad=ar.allocUnsafe(fr),yr=this._opad=ar.allocUnsafe(fr),vr=0;vr<fr;vr++)gr[vr]=54^mr[vr],yr[vr]=92^mr[vr];this._hash=pr==="rmd160"?new cr:dr(pr),this._hash.update(gr)}ir(ur,or),ur.prototype._update=function(pr){this._hash.update(pr)},ur.prototype._final=function(){var pr=this._hash.digest();return(this._alg==="rmd160"?new cr:dr(this._alg)).update(this._opad).update(pr).digest()},rr.exports=function(pr,mr){return(pr=pr.toLowerCase())==="rmd160"||pr==="ripemd160"?new ur("rmd160",mr):pr==="md5"?new sr(lr,mr):new ur(pr,mr)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("safe-buffer").Buffer,or=tr("cipher-base"),ar=sr.alloc(128);function lr(cr,dr){or.call(this,"digest"),typeof dr=="string"&&(dr=sr.from(dr)),this._alg=cr,this._key=dr,dr.length>64?dr=cr(dr):dr.length<64&&(dr=sr.concat([dr,ar],64));for(var hr=this._ipad=sr.allocUnsafe(64),ur=this._opad=sr.allocUnsafe(64),pr=0;pr<64;pr++)hr[pr]=54^dr[pr],ur[pr]=92^dr[pr];this._hash=[hr]}ir(lr,or),lr.prototype._update=function(cr){this._hash.push(cr)},lr.prototype._final=function(){var cr=this._alg(sr.concat(this._hash));return this._alg(sr.concat([this._opad,cr]))},rr.exports=lr},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(tr,rr,nr){nr.randomBytes=nr.rng=nr.pseudoRandomBytes=nr.prng=tr("randombytes"),nr.createHash=nr.Hash=tr("create-hash"),nr.createHmac=nr.Hmac=tr("create-hmac");var ir=tr("browserify-sign/algos"),sr=Object.keys(ir),or=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(sr);nr.getHashes=function(){return or};var ar=tr("pbkdf2");nr.pbkdf2=ar.pbkdf2,nr.pbkdf2Sync=ar.pbkdf2Sync;var lr=tr("browserify-cipher");nr.Cipher=lr.Cipher,nr.createCipher=lr.createCipher,nr.Cipheriv=lr.Cipheriv,nr.createCipheriv=lr.createCipheriv,nr.Decipher=lr.Decipher,nr.createDecipher=lr.createDecipher,nr.Decipheriv=lr.Decipheriv,nr.createDecipheriv=lr.createDecipheriv,nr.getCiphers=lr.getCiphers,nr.listCiphers=lr.listCiphers;var cr=tr("diffie-hellman");nr.DiffieHellmanGroup=cr.DiffieHellmanGroup,nr.createDiffieHellmanGroup=cr.createDiffieHellmanGroup,nr.getDiffieHellman=cr.getDiffieHellman,nr.createDiffieHellman=cr.createDiffieHellman,nr.DiffieHellman=cr.DiffieHellman;var dr=tr("browserify-sign");nr.createSign=dr.createSign,nr.Sign=dr.Sign,nr.createVerify=dr.createVerify,nr.Verify=dr.Verify,nr.createECDH=tr("create-ecdh");var hr=tr("public-encrypt");nr.publicEncrypt=hr.publicEncrypt,nr.privateEncrypt=hr.privateEncrypt,nr.publicDecrypt=hr.publicDecrypt,nr.privateDecrypt=hr.privateDecrypt;var ur=tr("randomfill");nr.randomFill=ur.randomFill,nr.randomFillSync=ur.randomFillSync,nr.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},nr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(tr,rr,nr){(function(ir,sr){typeof nr=="object"&&rr!==void 0?rr.exports=sr():(ir=typeof globalThis<"u"?globalThis:ir||self).dayjs=sr()})(void 0,function(){var ir=6e4,sr=36e5,or="millisecond",ar="second",lr="minute",cr="hour",dr="day",hr="week",ur="month",pr="quarter",mr="year",fr="date",gr="Invalid Date",yr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,vr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,br={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_r){var wr=["th","st","nd","rd"],Er=_r%100;return"["+_r+(wr[(Er-20)%10]||wr[Er]||wr[0])+"]"}},Sr=function(_r,wr,Er){var xr=String(_r);return!xr||xr.length>=wr?_r:""+Array(wr+1-xr.length).join(Er)+_r},jr={s:Sr,z:function(_r){var wr=-_r.utcOffset(),Er=Math.abs(wr),xr=Math.floor(Er/60),Mr=Er%60;return(wr<=0?"+":"-")+Sr(xr,2,"0")+":"+Sr(Mr,2,"0")},m:function _r(wr,Er){if(wr.date()<Er.date())return-_r(Er,wr);var xr=12*(Er.year()-wr.year())+(Er.month()-wr.month()),Mr=wr.clone().add(xr,ur),zr=Er-Mr<0,Or=wr.clone().add(xr+(zr?-1:1),ur);return+(-(xr+(Er-Mr)/(zr?Mr-Or:Or-Mr))||0)},a:function(_r){return _r<0?Math.ceil(_r)||0:Math.floor(_r)},p:function(_r){return{M:ur,y:mr,w:hr,d:dr,D:fr,h:cr,m:lr,s:ar,ms:or,Q:pr}[_r]||String(_r||"").toLowerCase().replace(/s$/,"")},u:function(_r){return _r===void 0}},Cr="en",Pr={};Pr[Cr]=br;var Rr="$isDayjsObject",Lr=function(_r){return _r instanceof Dr||!(!_r||!_r[Rr])},Ir=function _r(wr,Er,xr){var Mr;if(!wr)return Cr;if(typeof wr=="string"){var zr=wr.toLowerCase();Pr[zr]&&(Mr=zr),Er&&(Pr[zr]=Er,Mr=zr);var Or=wr.split("-");if(!Mr&&Or.length>1)return _r(Or[0])}else{var Br=wr.name;Pr[Br]=wr,Mr=Br}return!xr&&Mr&&(Cr=Mr),Mr||!xr&&Cr},Nr=function(_r,wr){if(Lr(_r))return _r.clone();var Er=typeof wr=="object"?wr:{};return Er.date=_r,Er.args=arguments,new Dr(Er)},Ar=jr;Ar.l=Ir,Ar.i=Lr,Ar.w=function(_r,wr){return Nr(_r,{locale:wr.$L,utc:wr.$u,x:wr.$x,$offset:wr.$offset})};var Dr=function(){function _r(Er){this.$L=Ir(Er.locale,null,!0),this.parse(Er),this.$x=this.$x||Er.x||{},this[Rr]=!0}var wr=_r.prototype;return wr.parse=function(Er){this.$d=function(xr){var Mr=xr.date,zr=xr.utc;if(Mr===null)return new Date(NaN);if(Ar.u(Mr))return new Date;if(Mr instanceof Date)return new Date(Mr);if(typeof Mr=="string"&&!/Z$/i.test(Mr)){var Or=Mr.match(yr);if(Or){var Br=Or[2]-1||0,Ur=(Or[7]||"0").substring(0,3);return zr?new Date(Date.UTC(Or[1],Br,Or[3]||1,Or[4]||0,Or[5]||0,Or[6]||0,Ur)):new Date(Or[1],Br,Or[3]||1,Or[4]||0,Or[5]||0,Or[6]||0,Ur)}}return new Date(Mr)}(Er),this.init()},wr.init=function(){var Er=this.$d;this.$y=Er.getFullYear(),this.$M=Er.getMonth(),this.$D=Er.getDate(),this.$W=Er.getDay(),this.$H=Er.getHours(),this.$m=Er.getMinutes(),this.$s=Er.getSeconds(),this.$ms=Er.getMilliseconds()},wr.$utils=function(){return Ar},wr.isValid=function(){return this.$d.toString()!==gr},wr.isSame=function(Er,xr){var Mr=Nr(Er);return this.startOf(xr)<=Mr&&Mr<=this.endOf(xr)},wr.isAfter=function(Er,xr){return Nr(Er)<this.startOf(xr)},wr.isBefore=function(Er,xr){return this.endOf(xr)<Nr(Er)},wr.$g=function(Er,xr,Mr){return Ar.u(Er)?this[xr]:this.set(Mr,Er)},wr.unix=function(){return Math.floor(this.valueOf()/1e3)},wr.valueOf=function(){return this.$d.getTime()},wr.startOf=function(Er,xr){var Mr=this,zr=!!Ar.u(xr)||xr,Or=Ar.p(Er),Br=function(Zr,nn){var Qr=Ar.w(Mr.$u?Date.UTC(Mr.$y,nn,Zr):new Date(Mr.$y,nn,Zr),Mr);return zr?Qr:Qr.endOf(dr)},Ur=function(Zr,nn){return Ar.w(Mr.toDate()[Zr].apply(Mr.toDate("s"),(zr?[0,0,0,0]:[23,59,59,999]).slice(nn)),Mr)},qr=this.$W,Vr=this.$M,Gr=this.$D,$r="set"+(this.$u?"UTC":"");switch(Or){case mr:return zr?Br(1,0):Br(31,11);case ur:return zr?Br(1,Vr):Br(0,Vr+1);case hr:var Fr=this.$locale().weekStart||0,Kr=(qr<Fr?qr+7:qr)-Fr;return Br(zr?Gr-Kr:Gr+(6-Kr),Vr);case dr:case fr:return Ur($r+"Hours",0);case cr:return Ur($r+"Minutes",1);case lr:return Ur($r+"Seconds",2);case ar:return Ur($r+"Milliseconds",3);default:return this.clone()}},wr.endOf=function(Er){return this.startOf(Er,!1)},wr.$set=function(Er,xr){var Mr,zr=Ar.p(Er),Or="set"+(this.$u?"UTC":""),Br=(Mr={},Mr[dr]=Or+"Date",Mr[fr]=Or+"Date",Mr[ur]=Or+"Month",Mr[mr]=Or+"FullYear",Mr[cr]=Or+"Hours",Mr[lr]=Or+"Minutes",Mr[ar]=Or+"Seconds",Mr[or]=Or+"Milliseconds",Mr)[zr],Ur=zr===dr?this.$D+(xr-this.$W):xr;if(zr===ur||zr===mr){var qr=this.clone().set(fr,1);qr.$d[Br](Ur),qr.init(),this.$d=qr.set(fr,Math.min(this.$D,qr.daysInMonth())).$d}else Br&&this.$d[Br](Ur);return this.init(),this},wr.set=function(Er,xr){return this.clone().$set(Er,xr)},wr.get=function(Er){return this[Ar.p(Er)]()},wr.add=function(Er,xr){var Mr,zr=this;Er=Number(Er);var Or=Ar.p(xr),Br=function(Vr){var Gr=Nr(zr);return Ar.w(Gr.date(Gr.date()+Math.round(Vr*Er)),zr)};if(Or===ur)return this.set(ur,this.$M+Er);if(Or===mr)return this.set(mr,this.$y+Er);if(Or===dr)return Br(1);if(Or===hr)return Br(7);var Ur=(Mr={},Mr[lr]=ir,Mr[cr]=sr,Mr[ar]=1e3,Mr)[Or]||1,qr=this.$d.getTime()+Er*Ur;return Ar.w(qr,this)},wr.subtract=function(Er,xr){return this.add(-1*Er,xr)},wr.format=function(Er){var xr=this,Mr=this.$locale();if(!this.isValid())return Mr.invalidDate||gr;var zr=Er||"YYYY-MM-DDTHH:mm:ssZ",Or=Ar.z(this),Br=this.$H,Ur=this.$m,qr=this.$M,Vr=Mr.weekdays,Gr=Mr.months,$r=Mr.meridiem,Fr=function(nn,Qr,cn,dn){return nn&&(nn[Qr]||nn(xr,zr))||cn[Qr].slice(0,dn)},Kr=function(nn){return Ar.s(Br%12||12,nn,"0")},Zr=$r||function(nn,Qr,cn){var dn=nn<12?"AM":"PM";return cn?dn.toLowerCase():dn};return zr.replace(vr,function(nn,Qr){return Qr||function(cn){switch(cn){case"YY":return String(xr.$y).slice(-2);case"YYYY":return Ar.s(xr.$y,4,"0");case"M":return qr+1;case"MM":return Ar.s(qr+1,2,"0");case"MMM":return Fr(Mr.monthsShort,qr,Gr,3);case"MMMM":return Fr(Gr,qr);case"D":return xr.$D;case"DD":return Ar.s(xr.$D,2,"0");case"d":return String(xr.$W);case"dd":return Fr(Mr.weekdaysMin,xr.$W,Vr,2);case"ddd":return Fr(Mr.weekdaysShort,xr.$W,Vr,3);case"dddd":return Vr[xr.$W];case"H":return String(Br);case"HH":return Ar.s(Br,2,"0");case"h":return Kr(1);case"hh":return Kr(2);case"a":return Zr(Br,Ur,!0);case"A":return Zr(Br,Ur,!1);case"m":return String(Ur);case"mm":return Ar.s(Ur,2,"0");case"s":return String(xr.$s);case"ss":return Ar.s(xr.$s,2,"0");case"SSS":return Ar.s(xr.$ms,3,"0");case"Z":return Or}return null}(nn)||Or.replace(":","")})},wr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},wr.diff=function(Er,xr,Mr){var zr,Or=this,Br=Ar.p(xr),Ur=Nr(Er),qr=(Ur.utcOffset()-this.utcOffset())*ir,Vr=this-Ur,Gr=function(){return Ar.m(Or,Ur)};switch(Br){case mr:zr=Gr()/12;break;case ur:zr=Gr();break;case pr:zr=Gr()/3;break;case hr:zr=(Vr-qr)/6048e5;break;case dr:zr=(Vr-qr)/864e5;break;case cr:zr=Vr/sr;break;case lr:zr=Vr/ir;break;case ar:zr=Vr/1e3;break;default:zr=Vr}return Mr?zr:Ar.a(zr)},wr.daysInMonth=function(){return this.endOf(ur).$D},wr.$locale=function(){return Pr[this.$L]},wr.locale=function(Er,xr){if(!Er)return this.$L;var Mr=this.clone(),zr=Ir(Er,xr,!0);return zr&&(Mr.$L=zr),Mr},wr.clone=function(){return Ar.w(this.$d,this)},wr.toDate=function(){return new Date(this.valueOf())},wr.toJSON=function(){return this.isValid()?this.toISOString():null},wr.toISOString=function(){return this.$d.toISOString()},wr.toString=function(){return this.$d.toUTCString()},_r}(),Tr=Dr.prototype;return Nr.prototype=Tr,[["$ms",or],["$s",ar],["$m",lr],["$H",cr],["$W",dr],["$M",ur],["$y",mr],["$D",fr]].forEach(function(_r){Tr[_r[1]]=function(wr){return this.$g(wr,_r[0],_r[1])}}),Nr.extend=function(_r,wr){return _r.$i||(_r(wr,Dr,Nr),_r.$i=!0),Nr},Nr.locale=Ir,Nr.isDayjs=Lr,Nr.unix=function(_r){return Nr(1e3*_r)},Nr.en=Pr[Cr],Nr.Ls=Pr,Nr.p={},Nr})},{}],392:[function(tr,rr,nr){(function(ir,sr){typeof nr=="object"&&rr!==void 0?rr.exports=sr():(ir=typeof globalThis<"u"?globalThis:ir||self).dayjs_plugin_customParseFormat=sr()})(void 0,function(){var ir={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},sr=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,or=/\d\d/,ar=/\d\d?/,lr=/\d*[^-_:/,()\s\d]+/,cr={},dr=function(yr){return(yr=+yr)+(yr>68?1900:2e3)},hr=function(yr){return function(vr){this[yr]=+vr}},ur=[/[+-]\d\d:?(\d\d)?|Z/,function(yr){(this.zone||(this.zone={})).offset=function(vr){if(!vr||vr==="Z")return 0;var br=vr.match(/([+-]|\d\d)/g),Sr=60*br[1]+(+br[2]||0);return Sr===0?0:br[0]==="+"?-Sr:Sr}(yr)}],pr=function(yr){var vr=cr[yr];return vr&&(vr.indexOf?vr:vr.s.concat(vr.f))},mr=function(yr,vr){var br,Sr=cr.meridiem;if(Sr){for(var jr=1;jr<=24;jr+=1)if(yr.indexOf(Sr(jr,0,vr))>-1){br=jr>12;break}}else br=yr===(vr?"pm":"PM");return br},fr={A:[lr,function(yr){this.afternoon=mr(yr,!1)}],a:[lr,function(yr){this.afternoon=mr(yr,!0)}],S:[/\d/,function(yr){this.milliseconds=100*+yr}],SS:[or,function(yr){this.milliseconds=10*+yr}],SSS:[/\d{3}/,function(yr){this.milliseconds=+yr}],s:[ar,hr("seconds")],ss:[ar,hr("seconds")],m:[ar,hr("minutes")],mm:[ar,hr("minutes")],H:[ar,hr("hours")],h:[ar,hr("hours")],HH:[ar,hr("hours")],hh:[ar,hr("hours")],D:[ar,hr("day")],DD:[or,hr("day")],Do:[lr,function(yr){var vr=cr.ordinal,br=yr.match(/\d+/);if(this.day=br[0],vr)for(var Sr=1;Sr<=31;Sr+=1)vr(Sr).replace(/\[|\]/g,"")===yr&&(this.day=Sr)}],M:[ar,hr("month")],MM:[or,hr("month")],MMM:[lr,function(yr){var vr=pr("months"),br=(pr("monthsShort")||vr.map(function(Sr){return Sr.slice(0,3)})).indexOf(yr)+1;if(br<1)throw new Error;this.month=br%12||br}],MMMM:[lr,function(yr){var vr=pr("months").indexOf(yr)+1;if(vr<1)throw new Error;this.month=vr%12||vr}],Y:[/[+-]?\d+/,hr("year")],YY:[or,function(yr){this.year=dr(yr)}],YYYY:[/\d{4}/,hr("year")],Z:ur,ZZ:ur};function gr(yr){var vr,br;vr=yr,br=cr&&cr.formats;for(var Sr=(yr=vr.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Nr,Ar,Dr){var Tr=Dr&&Dr.toUpperCase();return Ar||br[Dr]||ir[Dr]||br[Tr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_r,wr,Er){return wr||Er.slice(1)})})).match(sr),jr=Sr.length,Cr=0;Cr<jr;Cr+=1){var Pr=Sr[Cr],Rr=fr[Pr],Lr=Rr&&Rr[0],Ir=Rr&&Rr[1];Sr[Cr]=Ir?{regex:Lr,parser:Ir}:Pr.replace(/^\[|\]$/g,"")}return function(Nr){for(var Ar={},Dr=0,Tr=0;Dr<jr;Dr+=1){var _r=Sr[Dr];if(typeof _r=="string")Tr+=_r.length;else{var wr=_r.regex,Er=_r.parser,xr=Nr.slice(Tr),Mr=wr.exec(xr)[0];Er.call(Ar,Mr),Nr=Nr.replace(Mr,"")}}return function(zr){var Or=zr.afternoon;if(Or!==void 0){var Br=zr.hours;Or?Br<12&&(zr.hours+=12):Br===12&&(zr.hours=0),delete zr.afternoon}}(Ar),Ar}}return function(yr,vr,br){br.p.customParseFormat=!0,yr&&yr.parseTwoDigitYear&&(dr=yr.parseTwoDigitYear);var Sr=vr.prototype,jr=Sr.parse;Sr.parse=function(Cr){var Pr=Cr.date,Rr=Cr.utc,Lr=Cr.args;this.$u=Rr;var Ir=Lr[1];if(typeof Ir=="string"){var Nr=Lr[2]===!0,Ar=Lr[3]===!0,Dr=Nr||Ar,Tr=Lr[2];Ar&&(Tr=Lr[2]),cr=this.$locale(),!Nr&&Tr&&(cr=br.Ls[Tr]),this.$d=function(xr,Mr,zr){try{if(["x","X"].indexOf(Mr)>-1)return new Date((Mr==="X"?1e3:1)*xr);var Or=gr(Mr)(xr),Br=Or.year,Ur=Or.month,qr=Or.day,Vr=Or.hours,Gr=Or.minutes,$r=Or.seconds,Fr=Or.milliseconds,Kr=Or.zone,Zr=new Date,nn=qr||(Br||Ur?1:Zr.getDate()),Qr=Br||Zr.getFullYear(),cn=0;Br&&!Ur||(cn=Ur>0?Ur-1:Zr.getMonth());var dn=Vr||0,en=Gr||0,an=$r||0,tn=Fr||0;return Kr?new Date(Date.UTC(Qr,cn,nn,dn,en,an,tn+60*Kr.offset*1e3)):zr?new Date(Date.UTC(Qr,cn,nn,dn,en,an,tn)):new Date(Qr,cn,nn,dn,en,an,tn)}catch{return new Date("")}}(Pr,Ir,Rr),this.init(),Tr&&Tr!==!0&&(this.$L=this.locale(Tr).$L),Dr&&Pr!=this.format(Ir)&&(this.$d=new Date("")),cr={}}else if(Ir instanceof Array)for(var _r=Ir.length,wr=1;wr<=_r;wr+=1){Lr[1]=Ir[wr-1];var Er=br.apply(this,Lr);if(Er.isValid()){this.$d=Er.$d,this.$L=Er.$L,this.init();break}wr===_r&&(this.$d=new Date(""))}else jr.call(this,Cr)}}})},{}],393:[function(tr,rr,nr){(function(ir,sr){typeof nr=="object"&&rr!==void 0?rr.exports=sr():(ir=typeof globalThis<"u"?globalThis:ir||self).dayjs_plugin_utc=sr()})(void 0,function(){var ir="minute",sr=/[+-]\d\d(?::?\d\d)?/g,or=/([+-]|\d\d)/g;return function(ar,lr,cr){var dr=lr.prototype;cr.utc=function(yr){var vr={date:yr,utc:!0,args:arguments};return new lr(vr)},dr.utc=function(yr){var vr=cr(this.toDate(),{locale:this.$L,utc:!0});return yr?vr.add(this.utcOffset(),ir):vr},dr.local=function(){return cr(this.toDate(),{locale:this.$L,utc:!1})};var hr=dr.parse;dr.parse=function(yr){yr.utc&&(this.$u=!0),this.$utils().u(yr.$offset)||(this.$offset=yr.$offset),hr.call(this,yr)};var ur=dr.init;dr.init=function(){if(this.$u){var yr=this.$d;this.$y=yr.getUTCFullYear(),this.$M=yr.getUTCMonth(),this.$D=yr.getUTCDate(),this.$W=yr.getUTCDay(),this.$H=yr.getUTCHours(),this.$m=yr.getUTCMinutes(),this.$s=yr.getUTCSeconds(),this.$ms=yr.getUTCMilliseconds()}else ur.call(this)};var pr=dr.utcOffset;dr.utcOffset=function(yr,vr){var br=this.$utils().u;if(br(yr))return this.$u?0:br(this.$offset)?pr.call(this):this.$offset;if(typeof yr=="string"&&(yr=function(Pr){Pr===void 0&&(Pr="");var Rr=Pr.match(sr);if(!Rr)return null;var Lr=(""+Rr[0]).match(or)||["-",0,0],Ir=Lr[0],Nr=60*+Lr[1]+ +Lr[2];return Nr===0?0:Ir==="+"?Nr:-Nr}(yr))===null)return this;var Sr=Math.abs(yr)<=16?60*yr:yr,jr=this;if(vr)return jr.$offset=Sr,jr.$u=yr===0,jr;if(yr!==0){var Cr=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(jr=this.local().add(Sr+Cr,ir)).$offset=Sr,jr.$x.$localOffset=Cr}else jr=this.utc();return jr};var mr=dr.format;dr.format=function(yr){var vr=yr||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return mr.call(this,vr)},dr.valueOf=function(){var yr=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*yr},dr.isUTC=function(){return!!this.$u},dr.toISOString=function(){return this.toDate().toISOString()},dr.toString=function(){return this.toDate().toUTCString()};var fr=dr.toDate;dr.toDate=function(yr){return yr==="s"&&this.$offset?cr(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():fr.call(this)};var gr=dr.diff;dr.diff=function(yr,vr,br){if(yr&&this.$u===yr.$u)return gr.call(this,yr,vr,br);var Sr=this.local(),jr=cr(yr).local();return gr.call(Sr,jr,vr,br)}}})},{}],394:[function(tr,rr,nr){nr.utils=tr("./des/utils"),nr.Cipher=tr("./des/cipher"),nr.DES=tr("./des/des"),nr.CBC=tr("./des/cbc"),nr.EDE=tr("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(tr,rr,nr){var ir=tr("minimalistic-assert"),sr=tr("inherits"),or={};function ar(lr){ir.equal(lr.length,8,"Invalid IV length"),this.iv=new Array(8);for(var cr=0;cr<this.iv.length;cr++)this.iv[cr]=lr[cr]}nr.instantiate=function(lr){function cr(pr){lr.call(this,pr),this._cbcInit()}sr(cr,lr);for(var dr=Object.keys(or),hr=0;hr<dr.length;hr++){var ur=dr[hr];cr.prototype[ur]=or[ur]}return cr.create=function(pr){return new cr(pr)},cr},or._cbcInit=function(){var lr=new ar(this.options.iv);this._cbcState=lr},or._update=function(lr,cr,dr,hr){var ur=this._cbcState,pr=this.constructor.super_.prototype,mr=ur.iv;if(this.type==="encrypt"){for(var fr=0;fr<this.blockSize;fr++)mr[fr]^=lr[cr+fr];for(pr._update.call(this,mr,0,dr,hr),fr=0;fr<this.blockSize;fr++)mr[fr]=dr[hr+fr]}else{for(pr._update.call(this,lr,cr,dr,hr),fr=0;fr<this.blockSize;fr++)dr[hr+fr]^=mr[fr];for(fr=0;fr<this.blockSize;fr++)mr[fr]=lr[cr+fr]}}},{inherits:440,"minimalistic-assert":453}],396:[function(tr,rr,nr){var ir=tr("minimalistic-assert");function sr(or){this.options=or,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=or.padding!==!1}rr.exports=sr,sr.prototype._init=function(){},sr.prototype.update=function(or){return or.length===0?[]:this.type==="decrypt"?this._updateDecrypt(or):this._updateEncrypt(or)},sr.prototype._buffer=function(or,ar){for(var lr=Math.min(this.buffer.length-this.bufferOff,or.length-ar),cr=0;cr<lr;cr++)this.buffer[this.bufferOff+cr]=or[ar+cr];return this.bufferOff+=lr,lr},sr.prototype._flushBuffer=function(or,ar){return this._update(this.buffer,0,or,ar),this.bufferOff=0,this.blockSize},sr.prototype._updateEncrypt=function(or){var ar=0,lr=0,cr=(this.bufferOff+or.length)/this.blockSize|0,dr=new Array(cr*this.blockSize);this.bufferOff!==0&&(ar+=this._buffer(or,ar),this.bufferOff===this.buffer.length&&(lr+=this._flushBuffer(dr,lr)));for(var hr=or.length-(or.length-ar)%this.blockSize;ar<hr;ar+=this.blockSize)this._update(or,ar,dr,lr),lr+=this.blockSize;for(;ar<or.length;ar++,this.bufferOff++)this.buffer[this.bufferOff]=or[ar];return dr},sr.prototype._updateDecrypt=function(or){for(var ar=0,lr=0,cr=Math.ceil((this.bufferOff+or.length)/this.blockSize)-1,dr=new Array(cr*this.blockSize);cr>0;cr--)ar+=this._buffer(or,ar),lr+=this._flushBuffer(dr,lr);return ar+=this._buffer(or,ar),dr},sr.prototype.final=function(or){var ar,lr;return or&&(ar=this.update(or)),lr=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),ar?ar.concat(lr):lr},sr.prototype._pad=function(or,ar){if(ar===0)return!1;for(;ar<or.length;)or[ar++]=0;return!0},sr.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var or=new Array(this.blockSize);return this._update(this.buffer,0,or,0),or},sr.prototype._unpad=function(or){return or},sr.prototype._finalDecrypt=function(){ir.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var or=new Array(this.blockSize);return this._flushBuffer(or,0),this._unpad(or)}},{"minimalistic-assert":453}],397:[function(tr,rr,nr){var ir=tr("minimalistic-assert"),sr=tr("inherits"),or=tr("./utils"),ar=tr("./cipher");function lr(){this.tmp=new Array(2),this.keys=null}function cr(hr){ar.call(this,hr);var ur=new lr;this._desState=ur,this.deriveKeys(ur,hr.key)}sr(cr,ar),rr.exports=cr,cr.create=function(hr){return new cr(hr)};var dr=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];cr.prototype.deriveKeys=function(hr,ur){hr.keys=new Array(32),ir.equal(ur.length,this.blockSize,"Invalid key length");var pr=or.readUInt32BE(ur,0),mr=or.readUInt32BE(ur,4);or.pc1(pr,mr,hr.tmp,0),pr=hr.tmp[0],mr=hr.tmp[1];for(var fr=0;fr<hr.keys.length;fr+=2){var gr=dr[fr>>>1];pr=or.r28shl(pr,gr),mr=or.r28shl(mr,gr),or.pc2(pr,mr,hr.keys,fr)}},cr.prototype._update=function(hr,ur,pr,mr){var fr=this._desState,gr=or.readUInt32BE(hr,ur),yr=or.readUInt32BE(hr,ur+4);or.ip(gr,yr,fr.tmp,0),gr=fr.tmp[0],yr=fr.tmp[1],this.type==="encrypt"?this._encrypt(fr,gr,yr,fr.tmp,0):this._decrypt(fr,gr,yr,fr.tmp,0),gr=fr.tmp[0],yr=fr.tmp[1],or.writeUInt32BE(pr,gr,mr),or.writeUInt32BE(pr,yr,mr+4)},cr.prototype._pad=function(hr,ur){if(this.padding===!1)return!1;for(var pr=hr.length-ur,mr=ur;mr<hr.length;mr++)hr[mr]=pr;return!0},cr.prototype._unpad=function(hr){if(this.padding===!1)return hr;for(var ur=hr[hr.length-1],pr=hr.length-ur;pr<hr.length;pr++)ir.equal(hr[pr],ur);return hr.slice(0,hr.length-ur)},cr.prototype._encrypt=function(hr,ur,pr,mr,fr){for(var gr=ur,yr=pr,vr=0;vr<hr.keys.length;vr+=2){var br=hr.keys[vr],Sr=hr.keys[vr+1];or.expand(yr,hr.tmp,0),br^=hr.tmp[0],Sr^=hr.tmp[1];var jr=or.substitute(br,Sr),Cr=yr;yr=(gr^or.permute(jr))>>>0,gr=Cr}or.rip(yr,gr,mr,fr)},cr.prototype._decrypt=function(hr,ur,pr,mr,fr){for(var gr=pr,yr=ur,vr=hr.keys.length-2;vr>=0;vr-=2){var br=hr.keys[vr],Sr=hr.keys[vr+1];or.expand(gr,hr.tmp,0),br^=hr.tmp[0],Sr^=hr.tmp[1];var jr=or.substitute(br,Sr),Cr=gr;gr=(yr^or.permute(jr))>>>0,yr=Cr}or.rip(gr,yr,mr,fr)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(tr,rr,nr){var ir=tr("minimalistic-assert"),sr=tr("inherits"),or=tr("./cipher"),ar=tr("./des");function lr(dr,hr){ir.equal(hr.length,24,"Invalid key length");var ur=hr.slice(0,8),pr=hr.slice(8,16),mr=hr.slice(16,24);this.ciphers=dr==="encrypt"?[ar.create({type:"encrypt",key:ur}),ar.create({type:"decrypt",key:pr}),ar.create({type:"encrypt",key:mr})]:[ar.create({type:"decrypt",key:mr}),ar.create({type:"encrypt",key:pr}),ar.create({type:"decrypt",key:ur})]}function cr(dr){or.call(this,dr);var hr=new lr(this.type,this.options.key);this._edeState=hr}sr(cr,or),rr.exports=cr,cr.create=function(dr){return new cr(dr)},cr.prototype._update=function(dr,hr,ur,pr){var mr=this._edeState;mr.ciphers[0]._update(dr,hr,ur,pr),mr.ciphers[1]._update(ur,pr,ur,pr),mr.ciphers[2]._update(ur,pr,ur,pr)},cr.prototype._pad=ar.prototype._pad,cr.prototype._unpad=ar.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(tr,rr,nr){nr.readUInt32BE=function(ar,lr){return(ar[0+lr]<<24|ar[1+lr]<<16|ar[2+lr]<<8|ar[3+lr])>>>0},nr.writeUInt32BE=function(ar,lr,cr){ar[0+cr]=lr>>>24,ar[1+cr]=lr>>>16&255,ar[2+cr]=lr>>>8&255,ar[3+cr]=255&lr},nr.ip=function(ar,lr,cr,dr){for(var hr=0,ur=0,pr=6;pr>=0;pr-=2){for(var mr=0;mr<=24;mr+=8)hr<<=1,hr|=lr>>>mr+pr&1;for(mr=0;mr<=24;mr+=8)hr<<=1,hr|=ar>>>mr+pr&1}for(pr=6;pr>=0;pr-=2){for(mr=1;mr<=25;mr+=8)ur<<=1,ur|=lr>>>mr+pr&1;for(mr=1;mr<=25;mr+=8)ur<<=1,ur|=ar>>>mr+pr&1}cr[dr+0]=hr>>>0,cr[dr+1]=ur>>>0},nr.rip=function(ar,lr,cr,dr){for(var hr=0,ur=0,pr=0;pr<4;pr++)for(var mr=24;mr>=0;mr-=8)hr<<=1,hr|=lr>>>mr+pr&1,hr<<=1,hr|=ar>>>mr+pr&1;for(pr=4;pr<8;pr++)for(mr=24;mr>=0;mr-=8)ur<<=1,ur|=lr>>>mr+pr&1,ur<<=1,ur|=ar>>>mr+pr&1;cr[dr+0]=hr>>>0,cr[dr+1]=ur>>>0},nr.pc1=function(ar,lr,cr,dr){for(var hr=0,ur=0,pr=7;pr>=5;pr--){for(var mr=0;mr<=24;mr+=8)hr<<=1,hr|=lr>>mr+pr&1;for(mr=0;mr<=24;mr+=8)hr<<=1,hr|=ar>>mr+pr&1}for(mr=0;mr<=24;mr+=8)hr<<=1,hr|=lr>>mr+pr&1;for(pr=1;pr<=3;pr++){for(mr=0;mr<=24;mr+=8)ur<<=1,ur|=lr>>mr+pr&1;for(mr=0;mr<=24;mr+=8)ur<<=1,ur|=ar>>mr+pr&1}for(mr=0;mr<=24;mr+=8)ur<<=1,ur|=ar>>mr+pr&1;cr[dr+0]=hr>>>0,cr[dr+1]=ur>>>0},nr.r28shl=function(ar,lr){return ar<<lr&268435455|ar>>>28-lr};var ir=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];nr.pc2=function(ar,lr,cr,dr){for(var hr=0,ur=0,pr=ir.length>>>1,mr=0;mr<pr;mr++)hr<<=1,hr|=ar>>>ir[mr]&1;for(mr=pr;mr<ir.length;mr++)ur<<=1,ur|=lr>>>ir[mr]&1;cr[dr+0]=hr>>>0,cr[dr+1]=ur>>>0},nr.expand=function(ar,lr,cr){var dr=0,hr=0;dr=(1&ar)<<5|ar>>>27;for(var ur=23;ur>=15;ur-=4)dr<<=6,dr|=ar>>>ur&63;for(ur=11;ur>=3;ur-=4)hr|=ar>>>ur&63,hr<<=6;hr|=(31&ar)<<1|ar>>>31,lr[cr+0]=dr>>>0,lr[cr+1]=hr>>>0};var sr=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];nr.substitute=function(ar,lr){for(var cr=0,dr=0;dr<4;dr++)cr<<=4,cr|=sr[64*dr+(ar>>>18-6*dr&63)];for(dr=0;dr<4;dr++)cr<<=4,cr|=sr[256+64*dr+(lr>>>18-6*dr&63)];return cr>>>0};var or=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];nr.permute=function(ar){for(var lr=0,cr=0;cr<or.length;cr++)lr<<=1,lr|=ar>>>or[cr]&1;return lr>>>0},nr.padSplit=function(ar,lr,cr){for(var dr=ar.toString(2);dr.length<lr;)dr="0"+dr;for(var hr=[],ur=0;ur<lr;ur+=cr)hr.push(dr.slice(ur,ur+cr));return hr.join(" ")}},{}],400:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("./lib/generatePrime"),or=tr("./lib/primes.json"),ar=tr("./lib/dh"),lr={binary:!0,hex:!0,base64:!0};nr.DiffieHellmanGroup=nr.createDiffieHellmanGroup=nr.getDiffieHellman=function(cr){var dr=new ir(or[cr].prime,"hex"),hr=new ir(or[cr].gen,"hex");return new ar(dr,hr)},nr.createDiffieHellman=nr.DiffieHellman=function cr(dr,hr,ur,pr){return ir.isBuffer(hr)||lr[hr]===void 0?cr(dr,"binary",hr,ur):(hr=hr||"binary",pr=pr||"binary",ur=ur||new ir([2]),ir.isBuffer(ur)||(ur=new ir(ur,pr)),typeof dr=="number"?new ar(sr(dr,ur),ur,!0):(ir.isBuffer(dr)||(dr=new ir(dr,hr)),new ar(dr,ur,!0)))}}).call(this)}).call(this,tr("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(tr,rr,nr){(function(ir){(function(){var sr=tr("bn.js"),or=new(tr("miller-rabin")),ar=new sr(24),lr=new sr(11),cr=new sr(10),dr=new sr(3),hr=new sr(7),ur=tr("./generatePrime"),pr=tr("randombytes");function mr(br,Sr){return Sr=Sr||"utf8",ir.isBuffer(br)||(br=new ir(br,Sr)),this._pub=new sr(br),this}function fr(br,Sr){return Sr=Sr||"utf8",ir.isBuffer(br)||(br=new ir(br,Sr)),this._priv=new sr(br),this}rr.exports=yr;var gr={};function yr(br,Sr,jr){this.setGenerator(Sr),this.__prime=new sr(br),this._prime=sr.mont(this.__prime),this._primeLen=br.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,jr?(this.setPublicKey=mr,this.setPrivateKey=fr):this._primeCode=8}function vr(br,Sr){var jr=new ir(br.toArray());return Sr?jr.toString(Sr):jr}Object.defineProperty(yr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(br,Sr){var jr=Sr.toString("hex"),Cr=[jr,br.toString(16)].join("_");if(Cr in gr)return gr[Cr];var Pr,Rr=0;if(br.isEven()||!ur.simpleSieve||!ur.fermatTest(br)||!or.test(br))return Rr+=1,Rr+=jr==="02"||jr==="05"?8:4,gr[Cr]=Rr,Rr;switch(or.test(br.shrn(1))||(Rr+=2),jr){case"02":br.mod(ar).cmp(lr)&&(Rr+=8);break;case"05":(Pr=br.mod(cr)).cmp(dr)&&Pr.cmp(hr)&&(Rr+=8);break;default:Rr+=4}return gr[Cr]=Rr,Rr}(this.__prime,this.__gen)),this._primeCode}}),yr.prototype.generateKeys=function(){return this._priv||(this._priv=new sr(pr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},yr.prototype.computeSecret=function(br){var Sr=(br=(br=new sr(br)).toRed(this._prime)).redPow(this._priv).fromRed(),jr=new ir(Sr.toArray()),Cr=this.getPrime();if(jr.length<Cr.length){var Pr=new ir(Cr.length-jr.length);Pr.fill(0),jr=ir.concat([Pr,jr])}return jr},yr.prototype.getPublicKey=function(br){return vr(this._pub,br)},yr.prototype.getPrivateKey=function(br){return vr(this._priv,br)},yr.prototype.getPrime=function(br){return vr(this.__prime,br)},yr.prototype.getGenerator=function(br){return vr(this._gen,br)},yr.prototype.setGenerator=function(br,Sr){return Sr=Sr||"utf8",ir.isBuffer(br)||(br=new ir(br,Sr)),this.__gen=br,this._gen=new sr(br),this}}).call(this)}).call(this,tr("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(tr,rr,nr){var ir=tr("randombytes");rr.exports=br,br.simpleSieve=yr,br.fermatTest=vr;var sr=tr("bn.js"),or=new sr(24),ar=new(tr("miller-rabin")),lr=new sr(1),cr=new sr(2),dr=new sr(5),hr=(new sr(16),new sr(8),new sr(10)),ur=new sr(3),pr=(new sr(7),new sr(11)),mr=new sr(4),fr=(new sr(12),null);function gr(){if(fr!==null)return fr;var Sr=[];Sr[0]=2;for(var jr=1,Cr=3;Cr<1048576;Cr+=2){for(var Pr=Math.ceil(Math.sqrt(Cr)),Rr=0;Rr<jr&&Sr[Rr]<=Pr&&Cr%Sr[Rr]!=0;Rr++);jr!==Rr&&Sr[Rr]<=Pr||(Sr[jr++]=Cr)}return fr=Sr,Sr}function yr(Sr){for(var jr=gr(),Cr=0;Cr<jr.length;Cr++)if(Sr.modn(jr[Cr])===0)return Sr.cmpn(jr[Cr])===0;return!0}function vr(Sr){var jr=sr.mont(Sr);return cr.toRed(jr).redPow(Sr.subn(1)).fromRed().cmpn(1)===0}function br(Sr,jr){if(Sr<16)return new sr(jr===2||jr===5?[140,123]:[140,39]);var Cr,Pr;for(jr=new sr(jr);;){for(Cr=new sr(ir(Math.ceil(Sr/8)));Cr.bitLength()>Sr;)Cr.ishrn(1);if(Cr.isEven()&&Cr.iadd(lr),Cr.testn(1)||Cr.iadd(cr),jr.cmp(cr)){if(!jr.cmp(dr))for(;Cr.mod(hr).cmp(ur);)Cr.iadd(mr)}else for(;Cr.mod(or).cmp(pr);)Cr.iadd(mr);if(yr(Pr=Cr.shrn(1))&&yr(Cr)&&vr(Pr)&&vr(Cr)&&ar.test(Pr)&&ar.test(Cr))return Cr}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(tr,rr,nr){rr.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(tr,rr,nr){arguments[4][184][0].apply(nr,arguments)},{buffer:188,dup:184}],405:[function(tr,rr,nr){var ir=nr;ir.version=tr("../package.json").version,ir.utils=tr("./elliptic/utils"),ir.rand=tr("brorand"),ir.curve=tr("./elliptic/curve"),ir.curves=tr("./elliptic/curves"),ir.ec=tr("./elliptic/ec"),ir.eddsa=tr("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("../utils"),or=sr.getNAF,ar=sr.getJSF,lr=sr.assert;function cr(hr,ur){this.type=hr,this.p=new ir(ur.p,16),this.red=ur.prime?ir.red(ur.prime):ir.mont(this.p),this.zero=new ir(0).toRed(this.red),this.one=new ir(1).toRed(this.red),this.two=new ir(2).toRed(this.red),this.n=ur.n&&new ir(ur.n,16),this.g=ur.g&&this.pointFromJSON(ur.g,ur.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var pr=this.n&&this.p.div(this.n);!pr||pr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function dr(hr,ur){this.curve=hr,this.type=ur,this.precomputed=null}rr.exports=cr,cr.prototype.point=function(){throw new Error("Not implemented")},cr.prototype.validate=function(){throw new Error("Not implemented")},cr.prototype._fixedNafMul=function(hr,ur){lr(hr.precomputed);var pr=hr._getDoubles(),mr=or(ur,1,this._bitLength),fr=(1<<pr.step+1)-(pr.step%2==0?2:1);fr/=3;var gr,yr,vr=[];for(gr=0;gr<mr.length;gr+=pr.step){yr=0;for(var br=gr+pr.step-1;br>=gr;br--)yr=(yr<<1)+mr[br];vr.push(yr)}for(var Sr=this.jpoint(null,null,null),jr=this.jpoint(null,null,null),Cr=fr;Cr>0;Cr--){for(gr=0;gr<vr.length;gr++)(yr=vr[gr])===Cr?jr=jr.mixedAdd(pr.points[gr]):yr===-Cr&&(jr=jr.mixedAdd(pr.points[gr].neg()));Sr=Sr.add(jr)}return Sr.toP()},cr.prototype._wnafMul=function(hr,ur){var pr=4,mr=hr._getNAFPoints(pr);pr=mr.wnd;for(var fr=mr.points,gr=or(ur,pr,this._bitLength),yr=this.jpoint(null,null,null),vr=gr.length-1;vr>=0;vr--){for(var br=0;vr>=0&&gr[vr]===0;vr--)br++;if(vr>=0&&br++,yr=yr.dblp(br),vr<0)break;var Sr=gr[vr];lr(Sr!==0),yr=hr.type==="affine"?Sr>0?yr.mixedAdd(fr[Sr-1>>1]):yr.mixedAdd(fr[-Sr-1>>1].neg()):Sr>0?yr.add(fr[Sr-1>>1]):yr.add(fr[-Sr-1>>1].neg())}return hr.type==="affine"?yr.toP():yr},cr.prototype._wnafMulAdd=function(hr,ur,pr,mr,fr){var gr,yr,vr,br=this._wnafT1,Sr=this._wnafT2,jr=this._wnafT3,Cr=0;for(gr=0;gr<mr;gr++){var Pr=(vr=ur[gr])._getNAFPoints(hr);br[gr]=Pr.wnd,Sr[gr]=Pr.points}for(gr=mr-1;gr>=1;gr-=2){var Rr=gr-1,Lr=gr;if(br[Rr]===1&&br[Lr]===1){var Ir=[ur[Rr],null,null,ur[Lr]];ur[Rr].y.cmp(ur[Lr].y)===0?(Ir[1]=ur[Rr].add(ur[Lr]),Ir[2]=ur[Rr].toJ().mixedAdd(ur[Lr].neg())):ur[Rr].y.cmp(ur[Lr].y.redNeg())===0?(Ir[1]=ur[Rr].toJ().mixedAdd(ur[Lr]),Ir[2]=ur[Rr].add(ur[Lr].neg())):(Ir[1]=ur[Rr].toJ().mixedAdd(ur[Lr]),Ir[2]=ur[Rr].toJ().mixedAdd(ur[Lr].neg()));var Nr=[-3,-1,-5,-7,0,7,5,1,3],Ar=ar(pr[Rr],pr[Lr]);for(Cr=Math.max(Ar[0].length,Cr),jr[Rr]=new Array(Cr),jr[Lr]=new Array(Cr),yr=0;yr<Cr;yr++){var Dr=0|Ar[0][yr],Tr=0|Ar[1][yr];jr[Rr][yr]=Nr[3*(Dr+1)+(Tr+1)],jr[Lr][yr]=0,Sr[Rr]=Ir}}else jr[Rr]=or(pr[Rr],br[Rr],this._bitLength),jr[Lr]=or(pr[Lr],br[Lr],this._bitLength),Cr=Math.max(jr[Rr].length,Cr),Cr=Math.max(jr[Lr].length,Cr)}var _r=this.jpoint(null,null,null),wr=this._wnafT4;for(gr=Cr;gr>=0;gr--){for(var Er=0;gr>=0;){var xr=!0;for(yr=0;yr<mr;yr++)wr[yr]=0|jr[yr][gr],wr[yr]!==0&&(xr=!1);if(!xr)break;Er++,gr--}if(gr>=0&&Er++,_r=_r.dblp(Er),gr<0)break;for(yr=0;yr<mr;yr++){var Mr=wr[yr];Mr!==0&&(Mr>0?vr=Sr[yr][Mr-1>>1]:Mr<0&&(vr=Sr[yr][-Mr-1>>1].neg()),_r=vr.type==="affine"?_r.mixedAdd(vr):_r.add(vr))}}for(gr=0;gr<mr;gr++)Sr[gr]=null;return fr?_r:_r.toP()},cr.BasePoint=dr,dr.prototype.eq=function(){throw new Error("Not implemented")},dr.prototype.validate=function(){return this.curve.validate(this)},cr.prototype.decodePoint=function(hr,ur){hr=sr.toArray(hr,ur);var pr=this.p.byteLength();if((hr[0]===4||hr[0]===6||hr[0]===7)&&hr.length-1==2*pr)return hr[0]===6?lr(hr[hr.length-1]%2==0):hr[0]===7&&lr(hr[hr.length-1]%2==1),this.point(hr.slice(1,1+pr),hr.slice(1+pr,1+2*pr));if((hr[0]===2||hr[0]===3)&&hr.length-1===pr)return this.pointFromX(hr.slice(1,1+pr),hr[0]===3);throw new Error("Unknown point format")},dr.prototype.encodeCompressed=function(hr){return this.encode(hr,!0)},dr.prototype._encode=function(hr){var ur=this.curve.p.byteLength(),pr=this.getX().toArray("be",ur);return hr?[this.getY().isEven()?2:3].concat(pr):[4].concat(pr,this.getY().toArray("be",ur))},dr.prototype.encode=function(hr,ur){return sr.encode(this._encode(ur),hr)},dr.prototype.precompute=function(hr){if(this.precomputed)return this;var ur={doubles:null,naf:null,beta:null};return ur.naf=this._getNAFPoints(8),ur.doubles=this._getDoubles(4,hr),ur.beta=this._getBeta(),this.precomputed=ur,this},dr.prototype._hasDoubles=function(hr){if(!this.precomputed)return!1;var ur=this.precomputed.doubles;return!!ur&&ur.points.length>=Math.ceil((hr.bitLength()+1)/ur.step)},dr.prototype._getDoubles=function(hr,ur){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var pr=[this],mr=this,fr=0;fr<ur;fr+=hr){for(var gr=0;gr<hr;gr++)mr=mr.dbl();pr.push(mr)}return{step:hr,points:pr}},dr.prototype._getNAFPoints=function(hr){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ur=[this],pr=(1<<hr)-1,mr=pr===1?null:this.dbl(),fr=1;fr<pr;fr++)ur[fr]=ur[fr-1].add(mr);return{wnd:hr,points:ur}},dr.prototype._getBeta=function(){return null},dr.prototype.dblp=function(hr){for(var ur=this,pr=0;pr<hr;pr++)ur=ur.dbl();return ur}},{"../utils":419,"bn.js":420}],407:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("bn.js"),or=tr("inherits"),ar=tr("./base"),lr=ir.assert;function cr(hr){this.twisted=(0|hr.a)!=1,this.mOneA=this.twisted&&(0|hr.a)==-1,this.extended=this.mOneA,ar.call(this,"edwards",hr),this.a=new sr(hr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new sr(hr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new sr(hr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),lr(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|hr.c)==1}function dr(hr,ur,pr,mr,fr){ar.BasePoint.call(this,hr,"projective"),ur===null&&pr===null&&mr===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new sr(ur,16),this.y=new sr(pr,16),this.z=mr?new sr(mr,16):this.curve.one,this.t=fr&&new sr(fr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}or(cr,ar),rr.exports=cr,cr.prototype._mulA=function(hr){return this.mOneA?hr.redNeg():this.a.redMul(hr)},cr.prototype._mulC=function(hr){return this.oneC?hr:this.c.redMul(hr)},cr.prototype.jpoint=function(hr,ur,pr,mr){return this.point(hr,ur,pr,mr)},cr.prototype.pointFromX=function(hr,ur){(hr=new sr(hr,16)).red||(hr=hr.toRed(this.red));var pr=hr.redSqr(),mr=this.c2.redSub(this.a.redMul(pr)),fr=this.one.redSub(this.c2.redMul(this.d).redMul(pr)),gr=mr.redMul(fr.redInvm()),yr=gr.redSqrt();if(yr.redSqr().redSub(gr).cmp(this.zero)!==0)throw new Error("invalid point");var vr=yr.fromRed().isOdd();return(ur&&!vr||!ur&&vr)&&(yr=yr.redNeg()),this.point(hr,yr)},cr.prototype.pointFromY=function(hr,ur){(hr=new sr(hr,16)).red||(hr=hr.toRed(this.red));var pr=hr.redSqr(),mr=pr.redSub(this.c2),fr=pr.redMul(this.d).redMul(this.c2).redSub(this.a),gr=mr.redMul(fr.redInvm());if(gr.cmp(this.zero)===0){if(ur)throw new Error("invalid point");return this.point(this.zero,hr)}var yr=gr.redSqrt();if(yr.redSqr().redSub(gr).cmp(this.zero)!==0)throw new Error("invalid point");return yr.fromRed().isOdd()!==ur&&(yr=yr.redNeg()),this.point(yr,hr)},cr.prototype.validate=function(hr){if(hr.isInfinity())return!0;hr.normalize();var ur=hr.x.redSqr(),pr=hr.y.redSqr(),mr=ur.redMul(this.a).redAdd(pr),fr=this.c2.redMul(this.one.redAdd(this.d.redMul(ur).redMul(pr)));return mr.cmp(fr)===0},or(dr,ar.BasePoint),cr.prototype.pointFromJSON=function(hr){return dr.fromJSON(this,hr)},cr.prototype.point=function(hr,ur,pr,mr){return new dr(this,hr,ur,pr,mr)},dr.fromJSON=function(hr,ur){return new dr(hr,ur[0],ur[1],ur[2])},dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},dr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},dr.prototype._extDbl=function(){var hr=this.x.redSqr(),ur=this.y.redSqr(),pr=this.z.redSqr();pr=pr.redIAdd(pr);var mr=this.curve._mulA(hr),fr=this.x.redAdd(this.y).redSqr().redISub(hr).redISub(ur),gr=mr.redAdd(ur),yr=gr.redSub(pr),vr=mr.redSub(ur),br=fr.redMul(yr),Sr=gr.redMul(vr),jr=fr.redMul(vr),Cr=yr.redMul(gr);return this.curve.point(br,Sr,Cr,jr)},dr.prototype._projDbl=function(){var hr,ur,pr,mr,fr,gr,yr=this.x.redAdd(this.y).redSqr(),vr=this.x.redSqr(),br=this.y.redSqr();if(this.curve.twisted){var Sr=(mr=this.curve._mulA(vr)).redAdd(br);this.zOne?(hr=yr.redSub(vr).redSub(br).redMul(Sr.redSub(this.curve.two)),ur=Sr.redMul(mr.redSub(br)),pr=Sr.redSqr().redSub(Sr).redSub(Sr)):(fr=this.z.redSqr(),gr=Sr.redSub(fr).redISub(fr),hr=yr.redSub(vr).redISub(br).redMul(gr),ur=Sr.redMul(mr.redSub(br)),pr=Sr.redMul(gr))}else mr=vr.redAdd(br),fr=this.curve._mulC(this.z).redSqr(),gr=mr.redSub(fr).redSub(fr),hr=this.curve._mulC(yr.redISub(mr)).redMul(gr),ur=this.curve._mulC(mr).redMul(vr.redISub(br)),pr=mr.redMul(gr);return this.curve.point(hr,ur,pr)},dr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},dr.prototype._extAdd=function(hr){var ur=this.y.redSub(this.x).redMul(hr.y.redSub(hr.x)),pr=this.y.redAdd(this.x).redMul(hr.y.redAdd(hr.x)),mr=this.t.redMul(this.curve.dd).redMul(hr.t),fr=this.z.redMul(hr.z.redAdd(hr.z)),gr=pr.redSub(ur),yr=fr.redSub(mr),vr=fr.redAdd(mr),br=pr.redAdd(ur),Sr=gr.redMul(yr),jr=vr.redMul(br),Cr=gr.redMul(br),Pr=yr.redMul(vr);return this.curve.point(Sr,jr,Pr,Cr)},dr.prototype._projAdd=function(hr){var ur,pr,mr=this.z.redMul(hr.z),fr=mr.redSqr(),gr=this.x.redMul(hr.x),yr=this.y.redMul(hr.y),vr=this.curve.d.redMul(gr).redMul(yr),br=fr.redSub(vr),Sr=fr.redAdd(vr),jr=this.x.redAdd(this.y).redMul(hr.x.redAdd(hr.y)).redISub(gr).redISub(yr),Cr=mr.redMul(br).redMul(jr);return this.curve.twisted?(ur=mr.redMul(Sr).redMul(yr.redSub(this.curve._mulA(gr))),pr=br.redMul(Sr)):(ur=mr.redMul(Sr).redMul(yr.redSub(gr)),pr=this.curve._mulC(br).redMul(Sr)),this.curve.point(Cr,ur,pr)},dr.prototype.add=function(hr){return this.isInfinity()?hr:hr.isInfinity()?this:this.curve.extended?this._extAdd(hr):this._projAdd(hr)},dr.prototype.mul=function(hr){return this._hasDoubles(hr)?this.curve._fixedNafMul(this,hr):this.curve._wnafMul(this,hr)},dr.prototype.mulAdd=function(hr,ur,pr){return this.curve._wnafMulAdd(1,[this,ur],[hr,pr],2,!1)},dr.prototype.jmulAdd=function(hr,ur,pr){return this.curve._wnafMulAdd(1,[this,ur],[hr,pr],2,!0)},dr.prototype.normalize=function(){if(this.zOne)return this;var hr=this.z.redInvm();return this.x=this.x.redMul(hr),this.y=this.y.redMul(hr),this.t&&(this.t=this.t.redMul(hr)),this.z=this.curve.one,this.zOne=!0,this},dr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()},dr.prototype.getY=function(){return this.normalize(),this.y.fromRed()},dr.prototype.eq=function(hr){return this===hr||this.getX().cmp(hr.getX())===0&&this.getY().cmp(hr.getY())===0},dr.prototype.eqXToP=function(hr){var ur=hr.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(ur)===0)return!0;for(var pr=hr.clone(),mr=this.curve.redN.redMul(this.z);;){if(pr.iadd(this.curve.n),pr.cmp(this.curve.p)>=0)return!1;if(ur.redIAdd(mr),this.x.cmp(ur)===0)return!0}},dr.prototype.toP=dr.prototype.normalize,dr.prototype.mixedAdd=dr.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(tr,rr,nr){var ir=nr;ir.base=tr("./base"),ir.short=tr("./short"),ir.mont=tr("./mont"),ir.edwards=tr("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("inherits"),or=tr("./base"),ar=tr("../utils");function lr(dr){or.call(this,"mont",dr),this.a=new ir(dr.a,16).toRed(this.red),this.b=new ir(dr.b,16).toRed(this.red),this.i4=new ir(4).toRed(this.red).redInvm(),this.two=new ir(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function cr(dr,hr,ur){or.BasePoint.call(this,dr,"projective"),hr===null&&ur===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ir(hr,16),this.z=new ir(ur,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}sr(lr,or),rr.exports=lr,lr.prototype.validate=function(dr){var hr=dr.normalize().x,ur=hr.redSqr(),pr=ur.redMul(hr).redAdd(ur.redMul(this.a)).redAdd(hr);return pr.redSqrt().redSqr().cmp(pr)===0},sr(cr,or.BasePoint),lr.prototype.decodePoint=function(dr,hr){return this.point(ar.toArray(dr,hr),1)},lr.prototype.point=function(dr,hr){return new cr(this,dr,hr)},lr.prototype.pointFromJSON=function(dr){return cr.fromJSON(this,dr)},cr.prototype.precompute=function(){},cr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},cr.fromJSON=function(dr,hr){return new cr(dr,hr[0],hr[1]||dr.one)},cr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},cr.prototype.isInfinity=function(){return this.z.cmpn(0)===0},cr.prototype.dbl=function(){var dr=this.x.redAdd(this.z).redSqr(),hr=this.x.redSub(this.z).redSqr(),ur=dr.redSub(hr),pr=dr.redMul(hr),mr=ur.redMul(hr.redAdd(this.curve.a24.redMul(ur)));return this.curve.point(pr,mr)},cr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},cr.prototype.diffAdd=function(dr,hr){var ur=this.x.redAdd(this.z),pr=this.x.redSub(this.z),mr=dr.x.redAdd(dr.z),fr=dr.x.redSub(dr.z).redMul(ur),gr=mr.redMul(pr),yr=hr.z.redMul(fr.redAdd(gr).redSqr()),vr=hr.x.redMul(fr.redISub(gr).redSqr());return this.curve.point(yr,vr)},cr.prototype.mul=function(dr){for(var hr=dr.clone(),ur=this,pr=this.curve.point(null,null),mr=[];hr.cmpn(0)!==0;hr.iushrn(1))mr.push(hr.andln(1));for(var fr=mr.length-1;fr>=0;fr--)mr[fr]===0?(ur=ur.diffAdd(pr,this),pr=pr.dbl()):(pr=ur.diffAdd(pr,this),ur=ur.dbl());return pr},cr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},cr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},cr.prototype.eq=function(dr){return this.getX().cmp(dr.getX())===0},cr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},cr.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("bn.js"),or=tr("inherits"),ar=tr("./base"),lr=ir.assert;function cr(ur){ar.call(this,"short",ur),this.a=new sr(ur.a,16).toRed(this.red),this.b=new sr(ur.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(ur),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function dr(ur,pr,mr,fr){ar.BasePoint.call(this,ur,"affine"),pr===null&&mr===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new sr(pr,16),this.y=new sr(mr,16),fr&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function hr(ur,pr,mr,fr){ar.BasePoint.call(this,ur,"jacobian"),pr===null&&mr===null&&fr===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new sr(0)):(this.x=new sr(pr,16),this.y=new sr(mr,16),this.z=new sr(fr,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}or(cr,ar),rr.exports=cr,cr.prototype._getEndomorphism=function(ur){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var pr,mr;if(ur.beta)pr=new sr(ur.beta,16).toRed(this.red);else{var fr=this._getEndoRoots(this.p);pr=(pr=fr[0].cmp(fr[1])<0?fr[0]:fr[1]).toRed(this.red)}if(ur.lambda)mr=new sr(ur.lambda,16);else{var gr=this._getEndoRoots(this.n);this.g.mul(gr[0]).x.cmp(this.g.x.redMul(pr))===0?mr=gr[0]:(mr=gr[1],lr(this.g.mul(mr).x.cmp(this.g.x.redMul(pr))===0))}return{beta:pr,lambda:mr,basis:ur.basis?ur.basis.map(function(yr){return{a:new sr(yr.a,16),b:new sr(yr.b,16)}}):this._getEndoBasis(mr)}}},cr.prototype._getEndoRoots=function(ur){var pr=ur===this.p?this.red:sr.mont(ur),mr=new sr(2).toRed(pr).redInvm(),fr=mr.redNeg(),gr=new sr(3).toRed(pr).redNeg().redSqrt().redMul(mr);return[fr.redAdd(gr).fromRed(),fr.redSub(gr).fromRed()]},cr.prototype._getEndoBasis=function(ur){for(var pr,mr,fr,gr,yr,vr,br,Sr,jr,Cr=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Pr=ur,Rr=this.n.clone(),Lr=new sr(1),Ir=new sr(0),Nr=new sr(0),Ar=new sr(1),Dr=0;Pr.cmpn(0)!==0;){var Tr=Rr.div(Pr);Sr=Rr.sub(Tr.mul(Pr)),jr=Nr.sub(Tr.mul(Lr));var _r=Ar.sub(Tr.mul(Ir));if(!fr&&Sr.cmp(Cr)<0)pr=br.neg(),mr=Lr,fr=Sr.neg(),gr=jr;else if(fr&&++Dr==2)break;br=Sr,Rr=Pr,Pr=Sr,Nr=Lr,Lr=jr,Ar=Ir,Ir=_r}yr=Sr.neg(),vr=jr;var wr=fr.sqr().add(gr.sqr());return yr.sqr().add(vr.sqr()).cmp(wr)>=0&&(yr=pr,vr=mr),fr.negative&&(fr=fr.neg(),gr=gr.neg()),yr.negative&&(yr=yr.neg(),vr=vr.neg()),[{a:fr,b:gr},{a:yr,b:vr}]},cr.prototype._endoSplit=function(ur){var pr=this.endo.basis,mr=pr[0],fr=pr[1],gr=fr.b.mul(ur).divRound(this.n),yr=mr.b.neg().mul(ur).divRound(this.n),vr=gr.mul(mr.a),br=yr.mul(fr.a),Sr=gr.mul(mr.b),jr=yr.mul(fr.b);return{k1:ur.sub(vr).sub(br),k2:Sr.add(jr).neg()}},cr.prototype.pointFromX=function(ur,pr){(ur=new sr(ur,16)).red||(ur=ur.toRed(this.red));var mr=ur.redSqr().redMul(ur).redIAdd(ur.redMul(this.a)).redIAdd(this.b),fr=mr.redSqrt();if(fr.redSqr().redSub(mr).cmp(this.zero)!==0)throw new Error("invalid point");var gr=fr.fromRed().isOdd();return(pr&&!gr||!pr&&gr)&&(fr=fr.redNeg()),this.point(ur,fr)},cr.prototype.validate=function(ur){if(ur.inf)return!0;var pr=ur.x,mr=ur.y,fr=this.a.redMul(pr),gr=pr.redSqr().redMul(pr).redIAdd(fr).redIAdd(this.b);return mr.redSqr().redISub(gr).cmpn(0)===0},cr.prototype._endoWnafMulAdd=function(ur,pr,mr){for(var fr=this._endoWnafT1,gr=this._endoWnafT2,yr=0;yr<ur.length;yr++){var vr=this._endoSplit(pr[yr]),br=ur[yr],Sr=br._getBeta();vr.k1.negative&&(vr.k1.ineg(),br=br.neg(!0)),vr.k2.negative&&(vr.k2.ineg(),Sr=Sr.neg(!0)),fr[2*yr]=br,fr[2*yr+1]=Sr,gr[2*yr]=vr.k1,gr[2*yr+1]=vr.k2}for(var jr=this._wnafMulAdd(1,fr,gr,2*yr,mr),Cr=0;Cr<2*yr;Cr++)fr[Cr]=null,gr[Cr]=null;return jr},or(dr,ar.BasePoint),cr.prototype.point=function(ur,pr,mr){return new dr(this,ur,pr,mr)},cr.prototype.pointFromJSON=function(ur,pr){return dr.fromJSON(this,ur,pr)},dr.prototype._getBeta=function(){if(this.curve.endo){var ur=this.precomputed;if(ur&&ur.beta)return ur.beta;var pr=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ur){var mr=this.curve,fr=function(gr){return mr.point(gr.x.redMul(mr.endo.beta),gr.y)};ur.beta=pr,pr.precomputed={beta:null,naf:ur.naf&&{wnd:ur.naf.wnd,points:ur.naf.points.map(fr)},doubles:ur.doubles&&{step:ur.doubles.step,points:ur.doubles.points.map(fr)}}}return pr}},dr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},dr.fromJSON=function(ur,pr,mr){typeof pr=="string"&&(pr=JSON.parse(pr));var fr=ur.point(pr[0],pr[1],mr);if(!pr[2])return fr;function gr(vr){return ur.point(vr[0],vr[1],mr)}var yr=pr[2];return fr.precomputed={beta:null,doubles:yr.doubles&&{step:yr.doubles.step,points:[fr].concat(yr.doubles.points.map(gr))},naf:yr.naf&&{wnd:yr.naf.wnd,points:[fr].concat(yr.naf.points.map(gr))}},fr},dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},dr.prototype.isInfinity=function(){return this.inf},dr.prototype.add=function(ur){if(this.inf)return ur;if(ur.inf)return this;if(this.eq(ur))return this.dbl();if(this.neg().eq(ur))return this.curve.point(null,null);if(this.x.cmp(ur.x)===0)return this.curve.point(null,null);var pr=this.y.redSub(ur.y);pr.cmpn(0)!==0&&(pr=pr.redMul(this.x.redSub(ur.x).redInvm()));var mr=pr.redSqr().redISub(this.x).redISub(ur.x),fr=pr.redMul(this.x.redSub(mr)).redISub(this.y);return this.curve.point(mr,fr)},dr.prototype.dbl=function(){if(this.inf)return this;var ur=this.y.redAdd(this.y);if(ur.cmpn(0)===0)return this.curve.point(null,null);var pr=this.curve.a,mr=this.x.redSqr(),fr=ur.redInvm(),gr=mr.redAdd(mr).redIAdd(mr).redIAdd(pr).redMul(fr),yr=gr.redSqr().redISub(this.x.redAdd(this.x)),vr=gr.redMul(this.x.redSub(yr)).redISub(this.y);return this.curve.point(yr,vr)},dr.prototype.getX=function(){return this.x.fromRed()},dr.prototype.getY=function(){return this.y.fromRed()},dr.prototype.mul=function(ur){return ur=new sr(ur,16),this.isInfinity()?this:this._hasDoubles(ur)?this.curve._fixedNafMul(this,ur):this.curve.endo?this.curve._endoWnafMulAdd([this],[ur]):this.curve._wnafMul(this,ur)},dr.prototype.mulAdd=function(ur,pr,mr){var fr=[this,pr],gr=[ur,mr];return this.curve.endo?this.curve._endoWnafMulAdd(fr,gr):this.curve._wnafMulAdd(1,fr,gr,2)},dr.prototype.jmulAdd=function(ur,pr,mr){var fr=[this,pr],gr=[ur,mr];return this.curve.endo?this.curve._endoWnafMulAdd(fr,gr,!0):this.curve._wnafMulAdd(1,fr,gr,2,!0)},dr.prototype.eq=function(ur){return this===ur||this.inf===ur.inf&&(this.inf||this.x.cmp(ur.x)===0&&this.y.cmp(ur.y)===0)},dr.prototype.neg=function(ur){if(this.inf)return this;var pr=this.curve.point(this.x,this.y.redNeg());if(ur&&this.precomputed){var mr=this.precomputed,fr=function(gr){return gr.neg()};pr.precomputed={naf:mr.naf&&{wnd:mr.naf.wnd,points:mr.naf.points.map(fr)},doubles:mr.doubles&&{step:mr.doubles.step,points:mr.doubles.points.map(fr)}}}return pr},dr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},or(hr,ar.BasePoint),cr.prototype.jpoint=function(ur,pr,mr){return new hr(this,ur,pr,mr)},hr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ur=this.z.redInvm(),pr=ur.redSqr(),mr=this.x.redMul(pr),fr=this.y.redMul(pr).redMul(ur);return this.curve.point(mr,fr)},hr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},hr.prototype.add=function(ur){if(this.isInfinity())return ur;if(ur.isInfinity())return this;var pr=ur.z.redSqr(),mr=this.z.redSqr(),fr=this.x.redMul(pr),gr=ur.x.redMul(mr),yr=this.y.redMul(pr.redMul(ur.z)),vr=ur.y.redMul(mr.redMul(this.z)),br=fr.redSub(gr),Sr=yr.redSub(vr);if(br.cmpn(0)===0)return Sr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var jr=br.redSqr(),Cr=jr.redMul(br),Pr=fr.redMul(jr),Rr=Sr.redSqr().redIAdd(Cr).redISub(Pr).redISub(Pr),Lr=Sr.redMul(Pr.redISub(Rr)).redISub(yr.redMul(Cr)),Ir=this.z.redMul(ur.z).redMul(br);return this.curve.jpoint(Rr,Lr,Ir)},hr.prototype.mixedAdd=function(ur){if(this.isInfinity())return ur.toJ();if(ur.isInfinity())return this;var pr=this.z.redSqr(),mr=this.x,fr=ur.x.redMul(pr),gr=this.y,yr=ur.y.redMul(pr).redMul(this.z),vr=mr.redSub(fr),br=gr.redSub(yr);if(vr.cmpn(0)===0)return br.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Sr=vr.redSqr(),jr=Sr.redMul(vr),Cr=mr.redMul(Sr),Pr=br.redSqr().redIAdd(jr).redISub(Cr).redISub(Cr),Rr=br.redMul(Cr.redISub(Pr)).redISub(gr.redMul(jr)),Lr=this.z.redMul(vr);return this.curve.jpoint(Pr,Rr,Lr)},hr.prototype.dblp=function(ur){if(ur===0)return this;if(this.isInfinity())return this;if(!ur)return this.dbl();var pr;if(this.curve.zeroA||this.curve.threeA){var mr=this;for(pr=0;pr<ur;pr++)mr=mr.dbl();return mr}var fr=this.curve.a,gr=this.curve.tinv,yr=this.x,vr=this.y,br=this.z,Sr=br.redSqr().redSqr(),jr=vr.redAdd(vr);for(pr=0;pr<ur;pr++){var Cr=yr.redSqr(),Pr=jr.redSqr(),Rr=Pr.redSqr(),Lr=Cr.redAdd(Cr).redIAdd(Cr).redIAdd(fr.redMul(Sr)),Ir=yr.redMul(Pr),Nr=Lr.redSqr().redISub(Ir.redAdd(Ir)),Ar=Ir.redISub(Nr),Dr=Lr.redMul(Ar);Dr=Dr.redIAdd(Dr).redISub(Rr);var Tr=jr.redMul(br);pr+1<ur&&(Sr=Sr.redMul(Rr)),yr=Nr,br=Tr,jr=Dr}return this.curve.jpoint(yr,jr.redMul(gr),br)},hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},hr.prototype._zeroDbl=function(){var ur,pr,mr;if(this.zOne){var fr=this.x.redSqr(),gr=this.y.redSqr(),yr=gr.redSqr(),vr=this.x.redAdd(gr).redSqr().redISub(fr).redISub(yr);vr=vr.redIAdd(vr);var br=fr.redAdd(fr).redIAdd(fr),Sr=br.redSqr().redISub(vr).redISub(vr),jr=yr.redIAdd(yr);jr=(jr=jr.redIAdd(jr)).redIAdd(jr),ur=Sr,pr=br.redMul(vr.redISub(Sr)).redISub(jr),mr=this.y.redAdd(this.y)}else{var Cr=this.x.redSqr(),Pr=this.y.redSqr(),Rr=Pr.redSqr(),Lr=this.x.redAdd(Pr).redSqr().redISub(Cr).redISub(Rr);Lr=Lr.redIAdd(Lr);var Ir=Cr.redAdd(Cr).redIAdd(Cr),Nr=Ir.redSqr(),Ar=Rr.redIAdd(Rr);Ar=(Ar=Ar.redIAdd(Ar)).redIAdd(Ar),ur=Nr.redISub(Lr).redISub(Lr),pr=Ir.redMul(Lr.redISub(ur)).redISub(Ar),mr=(mr=this.y.redMul(this.z)).redIAdd(mr)}return this.curve.jpoint(ur,pr,mr)},hr.prototype._threeDbl=function(){var ur,pr,mr;if(this.zOne){var fr=this.x.redSqr(),gr=this.y.redSqr(),yr=gr.redSqr(),vr=this.x.redAdd(gr).redSqr().redISub(fr).redISub(yr);vr=vr.redIAdd(vr);var br=fr.redAdd(fr).redIAdd(fr).redIAdd(this.curve.a),Sr=br.redSqr().redISub(vr).redISub(vr);ur=Sr;var jr=yr.redIAdd(yr);jr=(jr=jr.redIAdd(jr)).redIAdd(jr),pr=br.redMul(vr.redISub(Sr)).redISub(jr),mr=this.y.redAdd(this.y)}else{var Cr=this.z.redSqr(),Pr=this.y.redSqr(),Rr=this.x.redMul(Pr),Lr=this.x.redSub(Cr).redMul(this.x.redAdd(Cr));Lr=Lr.redAdd(Lr).redIAdd(Lr);var Ir=Rr.redIAdd(Rr),Nr=(Ir=Ir.redIAdd(Ir)).redAdd(Ir);ur=Lr.redSqr().redISub(Nr),mr=this.y.redAdd(this.z).redSqr().redISub(Pr).redISub(Cr);var Ar=Pr.redSqr();Ar=(Ar=(Ar=Ar.redIAdd(Ar)).redIAdd(Ar)).redIAdd(Ar),pr=Lr.redMul(Ir.redISub(ur)).redISub(Ar)}return this.curve.jpoint(ur,pr,mr)},hr.prototype._dbl=function(){var ur=this.curve.a,pr=this.x,mr=this.y,fr=this.z,gr=fr.redSqr().redSqr(),yr=pr.redSqr(),vr=mr.redSqr(),br=yr.redAdd(yr).redIAdd(yr).redIAdd(ur.redMul(gr)),Sr=pr.redAdd(pr),jr=(Sr=Sr.redIAdd(Sr)).redMul(vr),Cr=br.redSqr().redISub(jr.redAdd(jr)),Pr=jr.redISub(Cr),Rr=vr.redSqr();Rr=(Rr=(Rr=Rr.redIAdd(Rr)).redIAdd(Rr)).redIAdd(Rr);var Lr=br.redMul(Pr).redISub(Rr),Ir=mr.redAdd(mr).redMul(fr);return this.curve.jpoint(Cr,Lr,Ir)},hr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ur=this.x.redSqr(),pr=this.y.redSqr(),mr=this.z.redSqr(),fr=pr.redSqr(),gr=ur.redAdd(ur).redIAdd(ur),yr=gr.redSqr(),vr=this.x.redAdd(pr).redSqr().redISub(ur).redISub(fr),br=(vr=(vr=(vr=vr.redIAdd(vr)).redAdd(vr).redIAdd(vr)).redISub(yr)).redSqr(),Sr=fr.redIAdd(fr);Sr=(Sr=(Sr=Sr.redIAdd(Sr)).redIAdd(Sr)).redIAdd(Sr);var jr=gr.redIAdd(vr).redSqr().redISub(yr).redISub(br).redISub(Sr),Cr=pr.redMul(jr);Cr=(Cr=Cr.redIAdd(Cr)).redIAdd(Cr);var Pr=this.x.redMul(br).redISub(Cr);Pr=(Pr=Pr.redIAdd(Pr)).redIAdd(Pr);var Rr=this.y.redMul(jr.redMul(Sr.redISub(jr)).redISub(vr.redMul(br)));Rr=(Rr=(Rr=Rr.redIAdd(Rr)).redIAdd(Rr)).redIAdd(Rr);var Lr=this.z.redAdd(vr).redSqr().redISub(mr).redISub(br);return this.curve.jpoint(Pr,Rr,Lr)},hr.prototype.mul=function(ur,pr){return ur=new sr(ur,pr),this.curve._wnafMul(this,ur)},hr.prototype.eq=function(ur){if(ur.type==="affine")return this.eq(ur.toJ());if(this===ur)return!0;var pr=this.z.redSqr(),mr=ur.z.redSqr();if(this.x.redMul(mr).redISub(ur.x.redMul(pr)).cmpn(0)!==0)return!1;var fr=pr.redMul(this.z),gr=mr.redMul(ur.z);return this.y.redMul(gr).redISub(ur.y.redMul(fr)).cmpn(0)===0},hr.prototype.eqXToP=function(ur){var pr=this.z.redSqr(),mr=ur.toRed(this.curve.red).redMul(pr);if(this.x.cmp(mr)===0)return!0;for(var fr=ur.clone(),gr=this.curve.redN.redMul(pr);;){if(fr.iadd(this.curve.n),fr.cmp(this.curve.p)>=0)return!1;if(mr.redIAdd(gr),this.x.cmp(mr)===0)return!0}},hr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(tr,rr,nr){var ir,sr=nr,or=tr("hash.js"),ar=tr("./curve"),lr=tr("./utils").assert;function cr(hr){hr.type==="short"?this.curve=new ar.short(hr):hr.type==="edwards"?this.curve=new ar.edwards(hr):this.curve=new ar.mont(hr),this.g=this.curve.g,this.n=this.curve.n,this.hash=hr.hash,lr(this.g.validate(),"Invalid curve"),lr(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function dr(hr,ur){Object.defineProperty(sr,hr,{configurable:!0,enumerable:!0,get:function(){var pr=new cr(ur);return Object.defineProperty(sr,hr,{configurable:!0,enumerable:!0,value:pr}),pr}})}sr.PresetCurve=cr,dr("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:or.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),dr("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:or.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),dr("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:or.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),dr("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:or.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),dr("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:or.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),dr("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:or.sha256,gRed:!1,g:["9"]}),dr("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:or.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{ir=tr("./precomputed/secp256k1")}catch{ir=void 0}dr("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:or.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ir]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("hmac-drbg"),or=tr("../utils"),ar=tr("../curves"),lr=tr("brorand"),cr=or.assert,dr=tr("./key"),hr=tr("./signature");function ur(pr){if(!(this instanceof ur))return new ur(pr);typeof pr=="string"&&(cr(Object.prototype.hasOwnProperty.call(ar,pr),"Unknown curve "+pr),pr=ar[pr]),pr instanceof ar.PresetCurve&&(pr={curve:pr}),this.curve=pr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=pr.curve.g,this.g.precompute(pr.curve.n.bitLength()+1),this.hash=pr.hash||pr.curve.hash}rr.exports=ur,ur.prototype.keyPair=function(pr){return new dr(this,pr)},ur.prototype.keyFromPrivate=function(pr,mr){return dr.fromPrivate(this,pr,mr)},ur.prototype.keyFromPublic=function(pr,mr){return dr.fromPublic(this,pr,mr)},ur.prototype.genKeyPair=function(pr){pr||(pr={});for(var mr=new sr({hash:this.hash,pers:pr.pers,persEnc:pr.persEnc||"utf8",entropy:pr.entropy||lr(this.hash.hmacStrength),entropyEnc:pr.entropy&&pr.entropyEnc||"utf8",nonce:this.n.toArray()}),fr=this.n.byteLength(),gr=this.n.sub(new ir(2));;){var yr=new ir(mr.generate(fr));if(!(yr.cmp(gr)>0))return yr.iaddn(1),this.keyFromPrivate(yr)}},ur.prototype._truncateToN=function(pr,mr){var fr=8*pr.byteLength()-this.n.bitLength();return fr>0&&(pr=pr.ushrn(fr)),!mr&&pr.cmp(this.n)>=0?pr.sub(this.n):pr},ur.prototype.sign=function(pr,mr,fr,gr){typeof fr=="object"&&(gr=fr,fr=null),gr||(gr={}),mr=this.keyFromPrivate(mr,fr),pr=this._truncateToN(new ir(pr,16));for(var yr=this.n.byteLength(),vr=mr.getPrivate().toArray("be",yr),br=pr.toArray("be",yr),Sr=new sr({hash:this.hash,entropy:vr,nonce:br,pers:gr.pers,persEnc:gr.persEnc||"utf8"}),jr=this.n.sub(new ir(1)),Cr=0;;Cr++){var Pr=gr.k?gr.k(Cr):new ir(Sr.generate(this.n.byteLength()));if(!((Pr=this._truncateToN(Pr,!0)).cmpn(1)<=0||Pr.cmp(jr)>=0)){var Rr=this.g.mul(Pr);if(!Rr.isInfinity()){var Lr=Rr.getX(),Ir=Lr.umod(this.n);if(Ir.cmpn(0)!==0){var Nr=Pr.invm(this.n).mul(Ir.mul(mr.getPrivate()).iadd(pr));if((Nr=Nr.umod(this.n)).cmpn(0)!==0){var Ar=(Rr.getY().isOdd()?1:0)|(Lr.cmp(Ir)!==0?2:0);return gr.canonical&&Nr.cmp(this.nh)>0&&(Nr=this.n.sub(Nr),Ar^=1),new hr({r:Ir,s:Nr,recoveryParam:Ar})}}}}}},ur.prototype.verify=function(pr,mr,fr,gr){pr=this._truncateToN(new ir(pr,16)),fr=this.keyFromPublic(fr,gr);var yr=(mr=new hr(mr,"hex")).r,vr=mr.s;if(yr.cmpn(1)<0||yr.cmp(this.n)>=0||vr.cmpn(1)<0||vr.cmp(this.n)>=0)return!1;var br,Sr=vr.invm(this.n),jr=Sr.mul(pr).umod(this.n),Cr=Sr.mul(yr).umod(this.n);return this.curve._maxwellTrick?!(br=this.g.jmulAdd(jr,fr.getPublic(),Cr)).isInfinity()&&br.eqXToP(yr):!(br=this.g.mulAdd(jr,fr.getPublic(),Cr)).isInfinity()&&br.getX().umod(this.n).cmp(yr)===0},ur.prototype.recoverPubKey=function(pr,mr,fr,gr){cr((3&fr)===fr,"The recovery param is more than two bits"),mr=new hr(mr,gr);var yr=this.n,vr=new ir(pr),br=mr.r,Sr=mr.s,jr=1&fr,Cr=fr>>1;if(br.cmp(this.curve.p.umod(this.curve.n))>=0&&Cr)throw new Error("Unable to find sencond key candinate");br=Cr?this.curve.pointFromX(br.add(this.curve.n),jr):this.curve.pointFromX(br,jr);var Pr=mr.r.invm(yr),Rr=yr.sub(vr).mul(Pr).umod(yr),Lr=Sr.mul(Pr).umod(yr);return this.g.mulAdd(Rr,br,Lr)},ur.prototype.getKeyRecoveryParam=function(pr,mr,fr,gr){if((mr=new hr(mr,gr)).recoveryParam!==null)return mr.recoveryParam;for(var yr=0;yr<4;yr++){var vr;try{vr=this.recoverPubKey(pr,mr,yr)}catch{continue}if(vr.eq(fr))return yr}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("../utils").assert;function or(ar,lr){this.ec=ar,this.priv=null,this.pub=null,lr.priv&&this._importPrivate(lr.priv,lr.privEnc),lr.pub&&this._importPublic(lr.pub,lr.pubEnc)}rr.exports=or,or.fromPublic=function(ar,lr,cr){return lr instanceof or?lr:new or(ar,{pub:lr,pubEnc:cr})},or.fromPrivate=function(ar,lr,cr){return lr instanceof or?lr:new or(ar,{priv:lr,privEnc:cr})},or.prototype.validate=function(){var ar=this.getPublic();return ar.isInfinity()?{result:!1,reason:"Invalid public key"}:ar.validate()?ar.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},or.prototype.getPublic=function(ar,lr){return typeof ar=="string"&&(lr=ar,ar=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),lr?this.pub.encode(lr,ar):this.pub},or.prototype.getPrivate=function(ar){return ar==="hex"?this.priv.toString(16,2):this.priv},or.prototype._importPrivate=function(ar,lr){this.priv=new ir(ar,lr||16),this.priv=this.priv.umod(this.ec.curve.n)},or.prototype._importPublic=function(ar,lr){if(ar.x||ar.y)return this.ec.curve.type==="mont"?sr(ar.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||sr(ar.x&&ar.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(ar.x,ar.y));this.pub=this.ec.curve.decodePoint(ar,lr)},or.prototype.derive=function(ar){return ar.validate()||sr(ar.validate(),"public point not validated"),ar.mul(this.priv).getX()},or.prototype.sign=function(ar,lr,cr){return this.ec.sign(ar,this,lr,cr)},or.prototype.verify=function(ar,lr){return this.ec.verify(ar,lr,this)},or.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("../utils"),or=sr.assert;function ar(ur,pr){if(ur instanceof ar)return ur;this._importDER(ur,pr)||(or(ur.r&&ur.s,"Signature without r or s"),this.r=new ir(ur.r,16),this.s=new ir(ur.s,16),ur.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=ur.recoveryParam)}function lr(){this.place=0}function cr(ur,pr){var mr=ur[pr.place++];if(!(128&mr))return mr;var fr=15&mr;if(fr===0||fr>4)return!1;for(var gr=0,yr=0,vr=pr.place;yr<fr;yr++,vr++)gr<<=8,gr|=ur[vr],gr>>>=0;return!(gr<=127)&&(pr.place=vr,gr)}function dr(ur){for(var pr=0,mr=ur.length-1;!ur[pr]&&!(128&ur[pr+1])&&pr<mr;)pr++;return pr===0?ur:ur.slice(pr)}function hr(ur,pr){if(pr<128)ur.push(pr);else{var mr=1+(Math.log(pr)/Math.LN2>>>3);for(ur.push(128|mr);--mr;)ur.push(pr>>>(mr<<3)&255);ur.push(pr)}}rr.exports=ar,ar.prototype._importDER=function(ur,pr){ur=sr.toArray(ur,pr);var mr=new lr;if(ur[mr.place++]!==48)return!1;var fr=cr(ur,mr);if(fr===!1||fr+mr.place!==ur.length||ur[mr.place++]!==2)return!1;var gr=cr(ur,mr);if(gr===!1)return!1;var yr=ur.slice(mr.place,gr+mr.place);if(mr.place+=gr,ur[mr.place++]!==2)return!1;var vr=cr(ur,mr);if(vr===!1||ur.length!==vr+mr.place)return!1;var br=ur.slice(mr.place,vr+mr.place);if(yr[0]===0){if(!(128&yr[1]))return!1;yr=yr.slice(1)}if(br[0]===0){if(!(128&br[1]))return!1;br=br.slice(1)}return this.r=new ir(yr),this.s=new ir(br),this.recoveryParam=null,!0},ar.prototype.toDER=function(ur){var pr=this.r.toArray(),mr=this.s.toArray();for(128&pr[0]&&(pr=[0].concat(pr)),128&mr[0]&&(mr=[0].concat(mr)),pr=dr(pr),mr=dr(mr);!(mr[0]||128&mr[1]);)mr=mr.slice(1);var fr=[2];hr(fr,pr.length),(fr=fr.concat(pr)).push(2),hr(fr,mr.length);var gr=fr.concat(mr),yr=[48];return hr(yr,gr.length),yr=yr.concat(gr),sr.encode(yr,ur)}},{"../utils":419,"bn.js":420}],415:[function(tr,rr,nr){var ir=tr("hash.js"),sr=tr("../curves"),or=tr("../utils"),ar=or.assert,lr=or.parseBytes,cr=tr("./key"),dr=tr("./signature");function hr(ur){if(ar(ur==="ed25519","only tested with ed25519 so far"),!(this instanceof hr))return new hr(ur);ur=sr[ur].curve,this.curve=ur,this.g=ur.g,this.g.precompute(ur.n.bitLength()+1),this.pointClass=ur.point().constructor,this.encodingLength=Math.ceil(ur.n.bitLength()/8),this.hash=ir.sha512}rr.exports=hr,hr.prototype.sign=function(ur,pr){ur=lr(ur);var mr=this.keyFromSecret(pr),fr=this.hashInt(mr.messagePrefix(),ur),gr=this.g.mul(fr),yr=this.encodePoint(gr),vr=this.hashInt(yr,mr.pubBytes(),ur).mul(mr.priv()),br=fr.add(vr).umod(this.curve.n);return this.makeSignature({R:gr,S:br,Rencoded:yr})},hr.prototype.verify=function(ur,pr,mr){ur=lr(ur),pr=this.makeSignature(pr);var fr=this.keyFromPublic(mr),gr=this.hashInt(pr.Rencoded(),fr.pubBytes(),ur),yr=this.g.mul(pr.S());return pr.R().add(fr.pub().mul(gr)).eq(yr)},hr.prototype.hashInt=function(){for(var ur=this.hash(),pr=0;pr<arguments.length;pr++)ur.update(arguments[pr]);return or.intFromLE(ur.digest()).umod(this.curve.n)},hr.prototype.keyFromPublic=function(ur){return cr.fromPublic(this,ur)},hr.prototype.keyFromSecret=function(ur){return cr.fromSecret(this,ur)},hr.prototype.makeSignature=function(ur){return ur instanceof dr?ur:new dr(this,ur)},hr.prototype.encodePoint=function(ur){var pr=ur.getY().toArray("le",this.encodingLength);return pr[this.encodingLength-1]|=ur.getX().isOdd()?128:0,pr},hr.prototype.decodePoint=function(ur){var pr=(ur=or.parseBytes(ur)).length-1,mr=ur.slice(0,pr).concat(-129&ur[pr]),fr=(128&ur[pr])!=0,gr=or.intFromLE(mr);return this.curve.pointFromY(gr,fr)},hr.prototype.encodeInt=function(ur){return ur.toArray("le",this.encodingLength)},hr.prototype.decodeInt=function(ur){return or.intFromLE(ur)},hr.prototype.isPoint=function(ur){return ur instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(tr,rr,nr){var ir=tr("../utils"),sr=ir.assert,or=ir.parseBytes,ar=ir.cachedProperty;function lr(cr,dr){this.eddsa=cr,this._secret=or(dr.secret),cr.isPoint(dr.pub)?this._pub=dr.pub:this._pubBytes=or(dr.pub)}lr.fromPublic=function(cr,dr){return dr instanceof lr?dr:new lr(cr,{pub:dr})},lr.fromSecret=function(cr,dr){return dr instanceof lr?dr:new lr(cr,{secret:dr})},lr.prototype.secret=function(){return this._secret},ar(lr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),ar(lr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),ar(lr,"privBytes",function(){var cr=this.eddsa,dr=this.hash(),hr=cr.encodingLength-1,ur=dr.slice(0,cr.encodingLength);return ur[0]&=248,ur[hr]&=127,ur[hr]|=64,ur}),ar(lr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),ar(lr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),ar(lr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),lr.prototype.sign=function(cr){return sr(this._secret,"KeyPair can only verify"),this.eddsa.sign(cr,this)},lr.prototype.verify=function(cr,dr){return this.eddsa.verify(cr,dr,this)},lr.prototype.getSecret=function(cr){return sr(this._secret,"KeyPair is public only"),ir.encode(this.secret(),cr)},lr.prototype.getPublic=function(cr){return ir.encode(this.pubBytes(),cr)},rr.exports=lr},{"../utils":419}],417:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("../utils"),or=sr.assert,ar=sr.cachedProperty,lr=sr.parseBytes;function cr(dr,hr){this.eddsa=dr,typeof hr!="object"&&(hr=lr(hr)),Array.isArray(hr)&&(hr={R:hr.slice(0,dr.encodingLength),S:hr.slice(dr.encodingLength)}),or(hr.R&&hr.S,"Signature without R or S"),dr.isPoint(hr.R)&&(this._R=hr.R),hr.S instanceof ir&&(this._S=hr.S),this._Rencoded=Array.isArray(hr.R)?hr.R:hr.Rencoded,this._Sencoded=Array.isArray(hr.S)?hr.S:hr.Sencoded}ar(cr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),ar(cr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),ar(cr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),ar(cr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),cr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},cr.prototype.toHex=function(){return sr.encode(this.toBytes(),"hex").toUpperCase()},rr.exports=cr},{"../utils":419,"bn.js":420}],418:[function(tr,rr,nr){rr.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(tr,rr,nr){var ir=nr,sr=tr("bn.js"),or=tr("minimalistic-assert"),ar=tr("minimalistic-crypto-utils");ir.assert=or,ir.toArray=ar.toArray,ir.zero2=ar.zero2,ir.toHex=ar.toHex,ir.encode=ar.encode,ir.getNAF=function(lr,cr,dr){var hr=new Array(Math.max(lr.bitLength(),dr)+1);hr.fill(0);for(var ur=1<<cr+1,pr=lr.clone(),mr=0;mr<hr.length;mr++){var fr,gr=pr.andln(ur-1);pr.isOdd()?(fr=gr>(ur>>1)-1?(ur>>1)-gr:gr,pr.isubn(fr)):fr=0,hr[mr]=fr,pr.iushrn(1)}return hr},ir.getJSF=function(lr,cr){var dr=[[],[]];lr=lr.clone(),cr=cr.clone();for(var hr,ur=0,pr=0;lr.cmpn(-ur)>0||cr.cmpn(-pr)>0;){var mr,fr,gr=lr.andln(3)+ur&3,yr=cr.andln(3)+pr&3;gr===3&&(gr=-1),yr===3&&(yr=-1),mr=1&gr?(hr=lr.andln(7)+ur&7)!==3&&hr!==5||yr!==2?gr:-gr:0,dr[0].push(mr),fr=1&yr?(hr=cr.andln(7)+pr&7)!==3&&hr!==5||gr!==2?yr:-yr:0,dr[1].push(fr),2*ur===mr+1&&(ur=1-ur),2*pr===fr+1&&(pr=1-pr),lr.iushrn(1),cr.iushrn(1)}return dr},ir.cachedProperty=function(lr,cr,dr){var hr="_"+cr;lr.prototype[cr]=function(){return this[hr]!==void 0?this[hr]:this[hr]=dr.call(this)}},ir.parseBytes=function(lr){return typeof lr=="string"?ir.toArray(lr,"hex"):lr},ir.intFromLE=function(lr){return new sr(lr,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(tr,rr,nr){arguments[4][184][0].apply(nr,arguments)},{buffer:188,dup:184}],421:[function(tr,rr,nr){rr.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(tr,rr,nr){var ir=Object.create||function(Pr){var Rr=function(){};return Rr.prototype=Pr,new Rr},sr=Object.keys||function(Pr){var Rr=[];for(var Lr in Pr)Object.prototype.hasOwnProperty.call(Pr,Lr)&&Rr.push(Lr);return Lr},or=Function.prototype.bind||function(Pr){var Rr=this;return function(){return Rr.apply(Pr,arguments)}};function ar(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=ir(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}rr.exports=ar,ar.EventEmitter=ar,ar.prototype._events=void 0,ar.prototype._maxListeners=void 0;var lr,cr=10;try{var dr={};Object.defineProperty&&Object.defineProperty(dr,"x",{value:0}),lr=dr.x===0}catch{lr=!1}function hr(Pr){return Pr._maxListeners===void 0?ar.defaultMaxListeners:Pr._maxListeners}function ur(Pr,Rr,Lr){if(Rr)Pr.call(Lr);else for(var Ir=Pr.length,Nr=Cr(Pr,Ir),Ar=0;Ar<Ir;++Ar)Nr[Ar].call(Lr)}function pr(Pr,Rr,Lr,Ir){if(Rr)Pr.call(Lr,Ir);else for(var Nr=Pr.length,Ar=Cr(Pr,Nr),Dr=0;Dr<Nr;++Dr)Ar[Dr].call(Lr,Ir)}function mr(Pr,Rr,Lr,Ir,Nr){if(Rr)Pr.call(Lr,Ir,Nr);else for(var Ar=Pr.length,Dr=Cr(Pr,Ar),Tr=0;Tr<Ar;++Tr)Dr[Tr].call(Lr,Ir,Nr)}function fr(Pr,Rr,Lr,Ir,Nr,Ar){if(Rr)Pr.call(Lr,Ir,Nr,Ar);else for(var Dr=Pr.length,Tr=Cr(Pr,Dr),_r=0;_r<Dr;++_r)Tr[_r].call(Lr,Ir,Nr,Ar)}function gr(Pr,Rr,Lr,Ir){if(Rr)Pr.apply(Lr,Ir);else for(var Nr=Pr.length,Ar=Cr(Pr,Nr),Dr=0;Dr<Nr;++Dr)Ar[Dr].apply(Lr,Ir)}function yr(Pr,Rr,Lr,Ir){var Nr,Ar,Dr;if(typeof Lr!="function")throw new TypeError('"listener" argument must be a function');if((Ar=Pr._events)?(Ar.newListener&&(Pr.emit("newListener",Rr,Lr.listener?Lr.listener:Lr),Ar=Pr._events),Dr=Ar[Rr]):(Ar=Pr._events=ir(null),Pr._eventsCount=0),Dr){if(typeof Dr=="function"?Dr=Ar[Rr]=Ir?[Lr,Dr]:[Dr,Lr]:Ir?Dr.unshift(Lr):Dr.push(Lr),!Dr.warned&&(Nr=hr(Pr))&&Nr>0&&Dr.length>Nr){Dr.warned=!0;var Tr=new Error("Possible EventEmitter memory leak detected. "+Dr.length+' "'+String(Rr)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');Tr.name="MaxListenersExceededWarning",Tr.emitter=Pr,Tr.type=Rr,Tr.count=Dr.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",Tr.name,Tr.message)}}else Dr=Ar[Rr]=Lr,++Pr._eventsCount;return Pr}function vr(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var Pr=new Array(arguments.length),Rr=0;Rr<Pr.length;++Rr)Pr[Rr]=arguments[Rr];this.listener.apply(this.target,Pr)}}function br(Pr,Rr,Lr){var Ir={fired:!1,wrapFn:void 0,target:Pr,type:Rr,listener:Lr},Nr=or.call(vr,Ir);return Nr.listener=Lr,Ir.wrapFn=Nr,Nr}function Sr(Pr,Rr,Lr){var Ir=Pr._events;if(!Ir)return[];var Nr=Ir[Rr];return Nr?typeof Nr=="function"?Lr?[Nr.listener||Nr]:[Nr]:Lr?function(Ar){for(var Dr=new Array(Ar.length),Tr=0;Tr<Dr.length;++Tr)Dr[Tr]=Ar[Tr].listener||Ar[Tr];return Dr}(Nr):Cr(Nr,Nr.length):[]}function jr(Pr){var Rr=this._events;if(Rr){var Lr=Rr[Pr];if(typeof Lr=="function")return 1;if(Lr)return Lr.length}return 0}function Cr(Pr,Rr){for(var Lr=new Array(Rr),Ir=0;Ir<Rr;++Ir)Lr[Ir]=Pr[Ir];return Lr}lr?Object.defineProperty(ar,"defaultMaxListeners",{enumerable:!0,get:function(){return cr},set:function(Pr){if(typeof Pr!="number"||Pr<0||Pr!=Pr)throw new TypeError('"defaultMaxListeners" must be a positive number');cr=Pr}}):ar.defaultMaxListeners=cr,ar.prototype.setMaxListeners=function(Pr){if(typeof Pr!="number"||Pr<0||isNaN(Pr))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Pr,this},ar.prototype.getMaxListeners=function(){return hr(this)},ar.prototype.emit=function(Pr){var Rr,Lr,Ir,Nr,Ar,Dr,Tr=Pr==="error";if(Dr=this._events)Tr=Tr&&Dr.error==null;else if(!Tr)return!1;if(Tr){if(arguments.length>1&&(Rr=arguments[1]),Rr instanceof Error)throw Rr;var _r=new Error('Unhandled "error" event. ('+Rr+")");throw _r.context=Rr,_r}if(!(Lr=Dr[Pr]))return!1;var wr=typeof Lr=="function";switch(Ir=arguments.length){case 1:ur(Lr,wr,this);break;case 2:pr(Lr,wr,this,arguments[1]);break;case 3:mr(Lr,wr,this,arguments[1],arguments[2]);break;case 4:fr(Lr,wr,this,arguments[1],arguments[2],arguments[3]);break;default:for(Nr=new Array(Ir-1),Ar=1;Ar<Ir;Ar++)Nr[Ar-1]=arguments[Ar];gr(Lr,wr,this,Nr)}return!0},ar.prototype.addListener=function(Pr,Rr){return yr(this,Pr,Rr,!1)},ar.prototype.on=ar.prototype.addListener,ar.prototype.prependListener=function(Pr,Rr){return yr(this,Pr,Rr,!0)},ar.prototype.once=function(Pr,Rr){if(typeof Rr!="function")throw new TypeError('"listener" argument must be a function');return this.on(Pr,br(this,Pr,Rr)),this},ar.prototype.prependOnceListener=function(Pr,Rr){if(typeof Rr!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Pr,br(this,Pr,Rr)),this},ar.prototype.removeListener=function(Pr,Rr){var Lr,Ir,Nr,Ar,Dr;if(typeof Rr!="function")throw new TypeError('"listener" argument must be a function');if(!(Ir=this._events))return this;if(!(Lr=Ir[Pr]))return this;if(Lr===Rr||Lr.listener===Rr)--this._eventsCount==0?this._events=ir(null):(delete Ir[Pr],Ir.removeListener&&this.emit("removeListener",Pr,Lr.listener||Rr));else if(typeof Lr!="function"){for(Nr=-1,Ar=Lr.length-1;Ar>=0;Ar--)if(Lr[Ar]===Rr||Lr[Ar].listener===Rr){Dr=Lr[Ar].listener,Nr=Ar;break}if(Nr<0)return this;Nr===0?Lr.shift():function(Tr,_r){for(var wr=_r,Er=wr+1,xr=Tr.length;Er<xr;wr+=1,Er+=1)Tr[wr]=Tr[Er];Tr.pop()}(Lr,Nr),Lr.length===1&&(Ir[Pr]=Lr[0]),Ir.removeListener&&this.emit("removeListener",Pr,Dr||Rr)}return this},ar.prototype.removeAllListeners=function(Pr){var Rr,Lr,Ir;if(!(Lr=this._events))return this;if(!Lr.removeListener)return arguments.length===0?(this._events=ir(null),this._eventsCount=0):Lr[Pr]&&(--this._eventsCount==0?this._events=ir(null):delete Lr[Pr]),this;if(arguments.length===0){var Nr,Ar=sr(Lr);for(Ir=0;Ir<Ar.length;++Ir)(Nr=Ar[Ir])!=="removeListener"&&this.removeAllListeners(Nr);return this.removeAllListeners("removeListener"),this._events=ir(null),this._eventsCount=0,this}if(typeof(Rr=Lr[Pr])=="function")this.removeListener(Pr,Rr);else if(Rr)for(Ir=Rr.length-1;Ir>=0;Ir--)this.removeListener(Pr,Rr[Ir]);return this},ar.prototype.listeners=function(Pr){return Sr(this,Pr,!0)},ar.prototype.rawListeners=function(Pr){return Sr(this,Pr,!1)},ar.listenerCount=function(Pr,Rr){return typeof Pr.listenerCount=="function"?Pr.listenerCount(Rr):jr.call(Pr,Rr)},ar.prototype.listenerCount=jr,ar.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("md5.js");rr.exports=function(or,ar,lr,cr){if(ir.isBuffer(or)||(or=ir.from(or,"binary")),ar&&(ir.isBuffer(ar)||(ar=ir.from(ar,"binary")),ar.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var dr=lr/8,hr=ir.alloc(dr),ur=ir.alloc(cr||0),pr=ir.alloc(0);dr>0||cr>0;){var mr=new sr;mr.update(pr),mr.update(or),ar&&mr.update(ar),pr=mr.digest();var fr=0;if(dr>0){var gr=hr.length-dr;fr=Math.min(dr,pr.length),pr.copy(hr,gr,0,fr),dr-=fr}if(fr<pr.length&&cr>0){var yr=ur.length-cr,vr=Math.min(cr,pr.length-fr);pr.copy(ur,yr,fr,fr+vr),cr-=vr}}return pr.fill(0),{key:hr,iv:ur}}},{"md5.js":450,"safe-buffer":494}],424:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.CsvParserStream=nr.ParserOptions=nr.parseFile=nr.parseStream=nr.parseString=nr.parse=nr.FormatterOptions=nr.CsvFormatterStream=nr.writeToPath=nr.writeToString=nr.writeToBuffer=nr.writeToStream=nr.write=nr.format=void 0;var ir=tr("@fast-csv/format");Object.defineProperty(nr,"format",{enumerable:!0,get:function(){return ir.format}}),Object.defineProperty(nr,"write",{enumerable:!0,get:function(){return ir.write}}),Object.defineProperty(nr,"writeToStream",{enumerable:!0,get:function(){return ir.writeToStream}}),Object.defineProperty(nr,"writeToBuffer",{enumerable:!0,get:function(){return ir.writeToBuffer}}),Object.defineProperty(nr,"writeToString",{enumerable:!0,get:function(){return ir.writeToString}}),Object.defineProperty(nr,"writeToPath",{enumerable:!0,get:function(){return ir.writeToPath}}),Object.defineProperty(nr,"CsvFormatterStream",{enumerable:!0,get:function(){return ir.CsvFormatterStream}}),Object.defineProperty(nr,"FormatterOptions",{enumerable:!0,get:function(){return ir.FormatterOptions}});var sr=tr("@fast-csv/parse");Object.defineProperty(nr,"parse",{enumerable:!0,get:function(){return sr.parse}}),Object.defineProperty(nr,"parseString",{enumerable:!0,get:function(){return sr.parseString}}),Object.defineProperty(nr,"parseStream",{enumerable:!0,get:function(){return sr.parseStream}}),Object.defineProperty(nr,"parseFile",{enumerable:!0,get:function(){return sr.parseFile}}),Object.defineProperty(nr,"ParserOptions",{enumerable:!0,get:function(){return sr.ParserOptions}}),Object.defineProperty(nr,"CsvParserStream",{enumerable:!0,get:function(){return sr.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("readable-stream").Transform;function or(ar){sr.call(this),this._block=ir.allocUnsafe(ar),this._blockSize=ar,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}tr("inherits")(or,sr),or.prototype._transform=function(ar,lr,cr){var dr=null;try{this.update(ar,lr)}catch(hr){dr=hr}cr(dr)},or.prototype._flush=function(ar){var lr=null;try{this.push(this.digest())}catch(cr){lr=cr}ar(lr)},or.prototype.update=function(ar,lr){if(function(mr,fr){if(!ir.isBuffer(mr)&&typeof mr!="string")throw new TypeError(fr+" must be a string or a buffer")}(ar,"Data"),this._finalized)throw new Error("Digest already called");ir.isBuffer(ar)||(ar=ir.from(ar,lr));for(var cr=this._block,dr=0;this._blockOffset+ar.length-dr>=this._blockSize;){for(var hr=this._blockOffset;hr<this._blockSize;)cr[hr++]=ar[dr++];this._update(),this._blockOffset=0}for(;dr<ar.length;)cr[this._blockOffset++]=ar[dr++];for(var ur=0,pr=8*ar.length;pr>0;++ur)this._length[ur]+=pr,(pr=this._length[ur]/4294967296|0)>0&&(this._length[ur]-=4294967296*pr);return this},or.prototype._update=function(){throw new Error("_update is not implemented")},or.prototype.digest=function(ar){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var lr=this._digest();ar!==void 0&&(lr=lr.toString(ar)),this._block.fill(0),this._blockOffset=0;for(var cr=0;cr<4;++cr)this._length[cr]=0;return lr},or.prototype._digest=function(){throw new Error("_digest is not implemented")},rr.exports=or},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(tr,rr,nr){var ir=nr;ir.utils=tr("./hash/utils"),ir.common=tr("./hash/common"),ir.sha=tr("./hash/sha"),ir.ripemd=tr("./hash/ripemd"),ir.hmac=tr("./hash/hmac"),ir.sha1=ir.sha.sha1,ir.sha256=ir.sha.sha256,ir.sha224=ir.sha.sha224,ir.sha384=ir.sha.sha384,ir.sha512=ir.sha.sha512,ir.ripemd160=ir.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(tr,rr,nr){var ir=tr("./utils"),sr=tr("minimalistic-assert");function or(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}nr.BlockHash=or,or.prototype.update=function(ar,lr){if(ar=ir.toArray(ar,lr),this.pending?this.pending=this.pending.concat(ar):this.pending=ar,this.pendingTotal+=ar.length,this.pending.length>=this._delta8){var cr=(ar=this.pending).length%this._delta8;this.pending=ar.slice(ar.length-cr,ar.length),this.pending.length===0&&(this.pending=null),ar=ir.join32(ar,0,ar.length-cr,this.endian);for(var dr=0;dr<ar.length;dr+=this._delta32)this._update(ar,dr,dr+this._delta32)}return this},or.prototype.digest=function(ar){return this.update(this._pad()),sr(this.pending===null),this._digest(ar)},or.prototype._pad=function(){var ar=this.pendingTotal,lr=this._delta8,cr=lr-(ar+this.padLength)%lr,dr=new Array(cr+this.padLength);dr[0]=128;for(var hr=1;hr<cr;hr++)dr[hr]=0;if(ar<<=3,this.endian==="big"){for(var ur=8;ur<this.padLength;ur++)dr[hr++]=0;dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=ar>>>24&255,dr[hr++]=ar>>>16&255,dr[hr++]=ar>>>8&255,dr[hr++]=255&ar}else for(dr[hr++]=255&ar,dr[hr++]=ar>>>8&255,dr[hr++]=ar>>>16&255,dr[hr++]=ar>>>24&255,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,ur=8;ur<this.padLength;ur++)dr[hr++]=0;return dr}},{"./utils":437,"minimalistic-assert":453}],428:[function(tr,rr,nr){var ir=tr("./utils"),sr=tr("minimalistic-assert");function or(ar,lr,cr){if(!(this instanceof or))return new or(ar,lr,cr);this.Hash=ar,this.blockSize=ar.blockSize/8,this.outSize=ar.outSize/8,this.inner=null,this.outer=null,this._init(ir.toArray(lr,cr))}rr.exports=or,or.prototype._init=function(ar){ar.length>this.blockSize&&(ar=new this.Hash().update(ar).digest()),sr(ar.length<=this.blockSize);for(var lr=ar.length;lr<this.blockSize;lr++)ar.push(0);for(lr=0;lr<ar.length;lr++)ar[lr]^=54;for(this.inner=new this.Hash().update(ar),lr=0;lr<ar.length;lr++)ar[lr]^=106;this.outer=new this.Hash().update(ar)},or.prototype.update=function(ar,lr){return this.inner.update(ar,lr),this},or.prototype.digest=function(ar){return this.outer.update(this.inner.digest()),this.outer.digest(ar)}},{"./utils":437,"minimalistic-assert":453}],429:[function(tr,rr,nr){var ir=tr("./utils"),sr=tr("./common"),or=ir.rotl32,ar=ir.sum32,lr=ir.sum32_3,cr=ir.sum32_4,dr=sr.BlockHash;function hr(){if(!(this instanceof hr))return new hr;dr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ur(br,Sr,jr,Cr){return br<=15?Sr^jr^Cr:br<=31?Sr&jr|~Sr&Cr:br<=47?(Sr|~jr)^Cr:br<=63?Sr&Cr|jr&~Cr:Sr^(jr|~Cr)}function pr(br){return br<=15?0:br<=31?1518500249:br<=47?1859775393:br<=63?2400959708:2840853838}function mr(br){return br<=15?1352829926:br<=31?1548603684:br<=47?1836072691:br<=63?2053994217:0}ir.inherits(hr,dr),nr.ripemd160=hr,hr.blockSize=512,hr.outSize=160,hr.hmacStrength=192,hr.padLength=64,hr.prototype._update=function(br,Sr){for(var jr=this.h[0],Cr=this.h[1],Pr=this.h[2],Rr=this.h[3],Lr=this.h[4],Ir=jr,Nr=Cr,Ar=Pr,Dr=Rr,Tr=Lr,_r=0;_r<80;_r++){var wr=ar(or(cr(jr,ur(_r,Cr,Pr,Rr),br[fr[_r]+Sr],pr(_r)),yr[_r]),Lr);jr=Lr,Lr=Rr,Rr=or(Pr,10),Pr=Cr,Cr=wr,wr=ar(or(cr(Ir,ur(79-_r,Nr,Ar,Dr),br[gr[_r]+Sr],mr(_r)),vr[_r]),Tr),Ir=Tr,Tr=Dr,Dr=or(Ar,10),Ar=Nr,Nr=wr}wr=lr(this.h[1],Pr,Dr),this.h[1]=lr(this.h[2],Rr,Tr),this.h[2]=lr(this.h[3],Lr,Ir),this.h[3]=lr(this.h[4],jr,Nr),this.h[4]=lr(this.h[0],Cr,Ar),this.h[0]=wr},hr.prototype._digest=function(br){return br==="hex"?ir.toHex32(this.h,"little"):ir.split32(this.h,"little")};var fr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(tr,rr,nr){nr.sha1=tr("./sha/1"),nr.sha224=tr("./sha/224"),nr.sha256=tr("./sha/256"),nr.sha384=tr("./sha/384"),nr.sha512=tr("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("../common"),or=tr("./common"),ar=ir.rotl32,lr=ir.sum32,cr=ir.sum32_5,dr=or.ft_1,hr=sr.BlockHash,ur=[1518500249,1859775393,2400959708,3395469782];function pr(){if(!(this instanceof pr))return new pr;hr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ir.inherits(pr,hr),rr.exports=pr,pr.blockSize=512,pr.outSize=160,pr.hmacStrength=80,pr.padLength=64,pr.prototype._update=function(mr,fr){for(var gr=this.W,yr=0;yr<16;yr++)gr[yr]=mr[fr+yr];for(;yr<gr.length;yr++)gr[yr]=ar(gr[yr-3]^gr[yr-8]^gr[yr-14]^gr[yr-16],1);var vr=this.h[0],br=this.h[1],Sr=this.h[2],jr=this.h[3],Cr=this.h[4];for(yr=0;yr<gr.length;yr++){var Pr=~~(yr/20),Rr=cr(ar(vr,5),dr(Pr,br,Sr,jr),Cr,gr[yr],ur[Pr]);Cr=jr,jr=Sr,Sr=ar(br,30),br=vr,vr=Rr}this.h[0]=lr(this.h[0],vr),this.h[1]=lr(this.h[1],br),this.h[2]=lr(this.h[2],Sr),this.h[3]=lr(this.h[3],jr),this.h[4]=lr(this.h[4],Cr)},pr.prototype._digest=function(mr){return mr==="hex"?ir.toHex32(this.h,"big"):ir.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("./256");function or(){if(!(this instanceof or))return new or;sr.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ir.inherits(or,sr),rr.exports=or,or.blockSize=512,or.outSize=224,or.hmacStrength=192,or.padLength=64,or.prototype._digest=function(ar){return ar==="hex"?ir.toHex32(this.h.slice(0,7),"big"):ir.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("../common"),or=tr("./common"),ar=tr("minimalistic-assert"),lr=ir.sum32,cr=ir.sum32_4,dr=ir.sum32_5,hr=or.ch32,ur=or.maj32,pr=or.s0_256,mr=or.s1_256,fr=or.g0_256,gr=or.g1_256,yr=sr.BlockHash,vr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function br(){if(!(this instanceof br))return new br;yr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vr,this.W=new Array(64)}ir.inherits(br,yr),rr.exports=br,br.blockSize=512,br.outSize=256,br.hmacStrength=192,br.padLength=64,br.prototype._update=function(Sr,jr){for(var Cr=this.W,Pr=0;Pr<16;Pr++)Cr[Pr]=Sr[jr+Pr];for(;Pr<Cr.length;Pr++)Cr[Pr]=cr(gr(Cr[Pr-2]),Cr[Pr-7],fr(Cr[Pr-15]),Cr[Pr-16]);var Rr=this.h[0],Lr=this.h[1],Ir=this.h[2],Nr=this.h[3],Ar=this.h[4],Dr=this.h[5],Tr=this.h[6],_r=this.h[7];for(ar(this.k.length===Cr.length),Pr=0;Pr<Cr.length;Pr++){var wr=dr(_r,mr(Ar),hr(Ar,Dr,Tr),this.k[Pr],Cr[Pr]),Er=lr(pr(Rr),ur(Rr,Lr,Ir));_r=Tr,Tr=Dr,Dr=Ar,Ar=lr(Nr,wr),Nr=Ir,Ir=Lr,Lr=Rr,Rr=lr(wr,Er)}this.h[0]=lr(this.h[0],Rr),this.h[1]=lr(this.h[1],Lr),this.h[2]=lr(this.h[2],Ir),this.h[3]=lr(this.h[3],Nr),this.h[4]=lr(this.h[4],Ar),this.h[5]=lr(this.h[5],Dr),this.h[6]=lr(this.h[6],Tr),this.h[7]=lr(this.h[7],_r)},br.prototype._digest=function(Sr){return Sr==="hex"?ir.toHex32(this.h,"big"):ir.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("./512");function or(){if(!(this instanceof or))return new or;sr.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ir.inherits(or,sr),rr.exports=or,or.blockSize=1024,or.outSize=384,or.hmacStrength=192,or.padLength=128,or.prototype._digest=function(ar){return ar==="hex"?ir.toHex32(this.h.slice(0,12),"big"):ir.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(tr,rr,nr){var ir=tr("../utils"),sr=tr("../common"),or=tr("minimalistic-assert"),ar=ir.rotr64_hi,lr=ir.rotr64_lo,cr=ir.shr64_hi,dr=ir.shr64_lo,hr=ir.sum64,ur=ir.sum64_hi,pr=ir.sum64_lo,mr=ir.sum64_4_hi,fr=ir.sum64_4_lo,gr=ir.sum64_5_hi,yr=ir.sum64_5_lo,vr=sr.BlockHash,br=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sr(){if(!(this instanceof Sr))return new Sr;vr.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=br,this.W=new Array(160)}function jr(Er,xr,Mr,zr,Or){var Br=Er&Mr^~Er&Or;return Br<0&&(Br+=4294967296),Br}function Cr(Er,xr,Mr,zr,Or,Br){var Ur=xr&zr^~xr&Br;return Ur<0&&(Ur+=4294967296),Ur}function Pr(Er,xr,Mr,zr,Or){var Br=Er&Mr^Er&Or^Mr&Or;return Br<0&&(Br+=4294967296),Br}function Rr(Er,xr,Mr,zr,Or,Br){var Ur=xr&zr^xr&Br^zr&Br;return Ur<0&&(Ur+=4294967296),Ur}function Lr(Er,xr){var Mr=ar(Er,xr,28)^ar(xr,Er,2)^ar(xr,Er,7);return Mr<0&&(Mr+=4294967296),Mr}function Ir(Er,xr){var Mr=lr(Er,xr,28)^lr(xr,Er,2)^lr(xr,Er,7);return Mr<0&&(Mr+=4294967296),Mr}function Nr(Er,xr){var Mr=ar(Er,xr,14)^ar(Er,xr,18)^ar(xr,Er,9);return Mr<0&&(Mr+=4294967296),Mr}function Ar(Er,xr){var Mr=lr(Er,xr,14)^lr(Er,xr,18)^lr(xr,Er,9);return Mr<0&&(Mr+=4294967296),Mr}function Dr(Er,xr){var Mr=ar(Er,xr,1)^ar(Er,xr,8)^cr(Er,xr,7);return Mr<0&&(Mr+=4294967296),Mr}function Tr(Er,xr){var Mr=lr(Er,xr,1)^lr(Er,xr,8)^dr(Er,xr,7);return Mr<0&&(Mr+=4294967296),Mr}function _r(Er,xr){var Mr=ar(Er,xr,19)^ar(xr,Er,29)^cr(Er,xr,6);return Mr<0&&(Mr+=4294967296),Mr}function wr(Er,xr){var Mr=lr(Er,xr,19)^lr(xr,Er,29)^dr(Er,xr,6);return Mr<0&&(Mr+=4294967296),Mr}ir.inherits(Sr,vr),rr.exports=Sr,Sr.blockSize=1024,Sr.outSize=512,Sr.hmacStrength=192,Sr.padLength=128,Sr.prototype._prepareBlock=function(Er,xr){for(var Mr=this.W,zr=0;zr<32;zr++)Mr[zr]=Er[xr+zr];for(;zr<Mr.length;zr+=2){var Or=_r(Mr[zr-4],Mr[zr-3]),Br=wr(Mr[zr-4],Mr[zr-3]),Ur=Mr[zr-14],qr=Mr[zr-13],Vr=Dr(Mr[zr-30],Mr[zr-29]),Gr=Tr(Mr[zr-30],Mr[zr-29]),$r=Mr[zr-32],Fr=Mr[zr-31];Mr[zr]=mr(Or,Br,Ur,qr,Vr,Gr,$r,Fr),Mr[zr+1]=fr(Or,Br,Ur,qr,Vr,Gr,$r,Fr)}},Sr.prototype._update=function(Er,xr){this._prepareBlock(Er,xr);var Mr=this.W,zr=this.h[0],Or=this.h[1],Br=this.h[2],Ur=this.h[3],qr=this.h[4],Vr=this.h[5],Gr=this.h[6],$r=this.h[7],Fr=this.h[8],Kr=this.h[9],Zr=this.h[10],nn=this.h[11],Qr=this.h[12],cn=this.h[13],dn=this.h[14],en=this.h[15];or(this.k.length===Mr.length);for(var an=0;an<Mr.length;an+=2){var tn=dn,sn=en,fn=Nr(Fr,Kr),pn=Ar(Fr,Kr),yn=jr(Fr,Kr,Zr,nn,Qr),Cn=Cr(Fr,Kr,Zr,nn,Qr,cn),Rn=this.k[an],En=this.k[an+1],zn=Mr[an],Bn=Mr[an+1],rs=gr(tn,sn,fn,pn,yn,Cn,Rn,En,zn,Bn),cs=yr(tn,sn,fn,pn,yn,Cn,Rn,En,zn,Bn);tn=Lr(zr,Or),sn=Ir(zr,Or),fn=Pr(zr,Or,Br,Ur,qr),pn=Rr(zr,Or,Br,Ur,qr,Vr);var _s=ur(tn,sn,fn,pn),qn=pr(tn,sn,fn,pn);dn=Qr,en=cn,Qr=Zr,cn=nn,Zr=Fr,nn=Kr,Fr=ur(Gr,$r,rs,cs),Kr=pr($r,$r,rs,cs),Gr=qr,$r=Vr,qr=Br,Vr=Ur,Br=zr,Ur=Or,zr=ur(rs,cs,_s,qn),Or=pr(rs,cs,_s,qn)}hr(this.h,0,zr,Or),hr(this.h,2,Br,Ur),hr(this.h,4,qr,Vr),hr(this.h,6,Gr,$r),hr(this.h,8,Fr,Kr),hr(this.h,10,Zr,nn),hr(this.h,12,Qr,cn),hr(this.h,14,dn,en)},Sr.prototype._digest=function(Er){return Er==="hex"?ir.toHex32(this.h,"big"):ir.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(tr,rr,nr){var ir=tr("../utils").rotr32;function sr(lr,cr,dr){return lr&cr^~lr&dr}function or(lr,cr,dr){return lr&cr^lr&dr^cr&dr}function ar(lr,cr,dr){return lr^cr^dr}nr.ft_1=function(lr,cr,dr,hr){return lr===0?sr(cr,dr,hr):lr===1||lr===3?ar(cr,dr,hr):lr===2?or(cr,dr,hr):void 0},nr.ch32=sr,nr.maj32=or,nr.p32=ar,nr.s0_256=function(lr){return ir(lr,2)^ir(lr,13)^ir(lr,22)},nr.s1_256=function(lr){return ir(lr,6)^ir(lr,11)^ir(lr,25)},nr.g0_256=function(lr){return ir(lr,7)^ir(lr,18)^lr>>>3},nr.g1_256=function(lr){return ir(lr,17)^ir(lr,19)^lr>>>10}},{"../utils":437}],437:[function(tr,rr,nr){var ir=tr("minimalistic-assert"),sr=tr("inherits");function or(dr,hr){return(64512&dr.charCodeAt(hr))==55296&&!(hr<0||hr+1>=dr.length)&&(64512&dr.charCodeAt(hr+1))==56320}function ar(dr){return(dr>>>24|dr>>>8&65280|dr<<8&16711680|(255&dr)<<24)>>>0}function lr(dr){return dr.length===1?"0"+dr:dr}function cr(dr){return dr.length===7?"0"+dr:dr.length===6?"00"+dr:dr.length===5?"000"+dr:dr.length===4?"0000"+dr:dr.length===3?"00000"+dr:dr.length===2?"000000"+dr:dr.length===1?"0000000"+dr:dr}nr.inherits=sr,nr.toArray=function(dr,hr){if(Array.isArray(dr))return dr.slice();if(!dr)return[];var ur=[];if(typeof dr=="string")if(hr){if(hr==="hex")for((dr=dr.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(dr="0"+dr),mr=0;mr<dr.length;mr+=2)ur.push(parseInt(dr[mr]+dr[mr+1],16))}else for(var pr=0,mr=0;mr<dr.length;mr++){var fr=dr.charCodeAt(mr);fr<128?ur[pr++]=fr:fr<2048?(ur[pr++]=fr>>6|192,ur[pr++]=63&fr|128):or(dr,mr)?(fr=65536+((1023&fr)<<10)+(1023&dr.charCodeAt(++mr)),ur[pr++]=fr>>18|240,ur[pr++]=fr>>12&63|128,ur[pr++]=fr>>6&63|128,ur[pr++]=63&fr|128):(ur[pr++]=fr>>12|224,ur[pr++]=fr>>6&63|128,ur[pr++]=63&fr|128)}else for(mr=0;mr<dr.length;mr++)ur[mr]=0|dr[mr];return ur},nr.toHex=function(dr){for(var hr="",ur=0;ur<dr.length;ur++)hr+=lr(dr[ur].toString(16));return hr},nr.htonl=ar,nr.toHex32=function(dr,hr){for(var ur="",pr=0;pr<dr.length;pr++){var mr=dr[pr];hr==="little"&&(mr=ar(mr)),ur+=cr(mr.toString(16))}return ur},nr.zero2=lr,nr.zero8=cr,nr.join32=function(dr,hr,ur,pr){var mr=ur-hr;ir(mr%4==0);for(var fr=new Array(mr/4),gr=0,yr=hr;gr<fr.length;gr++,yr+=4){var vr;vr=pr==="big"?dr[yr]<<24|dr[yr+1]<<16|dr[yr+2]<<8|dr[yr+3]:dr[yr+3]<<24|dr[yr+2]<<16|dr[yr+1]<<8|dr[yr],fr[gr]=vr>>>0}return fr},nr.split32=function(dr,hr){for(var ur=new Array(4*dr.length),pr=0,mr=0;pr<dr.length;pr++,mr+=4){var fr=dr[pr];hr==="big"?(ur[mr]=fr>>>24,ur[mr+1]=fr>>>16&255,ur[mr+2]=fr>>>8&255,ur[mr+3]=255&fr):(ur[mr+3]=fr>>>24,ur[mr+2]=fr>>>16&255,ur[mr+1]=fr>>>8&255,ur[mr]=255&fr)}return ur},nr.rotr32=function(dr,hr){return dr>>>hr|dr<<32-hr},nr.rotl32=function(dr,hr){return dr<<hr|dr>>>32-hr},nr.sum32=function(dr,hr){return dr+hr>>>0},nr.sum32_3=function(dr,hr,ur){return dr+hr+ur>>>0},nr.sum32_4=function(dr,hr,ur,pr){return dr+hr+ur+pr>>>0},nr.sum32_5=function(dr,hr,ur,pr,mr){return dr+hr+ur+pr+mr>>>0},nr.sum64=function(dr,hr,ur,pr){var mr=dr[hr],fr=pr+dr[hr+1]>>>0,gr=(fr<pr?1:0)+ur+mr;dr[hr]=gr>>>0,dr[hr+1]=fr},nr.sum64_hi=function(dr,hr,ur,pr){return(hr+pr>>>0<hr?1:0)+dr+ur>>>0},nr.sum64_lo=function(dr,hr,ur,pr){return hr+pr>>>0},nr.sum64_4_hi=function(dr,hr,ur,pr,mr,fr,gr,yr){var vr=0,br=hr;return vr+=(br=br+pr>>>0)<hr?1:0,vr+=(br=br+fr>>>0)<fr?1:0,dr+ur+mr+gr+(vr+=(br=br+yr>>>0)<yr?1:0)>>>0},nr.sum64_4_lo=function(dr,hr,ur,pr,mr,fr,gr,yr){return hr+pr+fr+yr>>>0},nr.sum64_5_hi=function(dr,hr,ur,pr,mr,fr,gr,yr,vr,br){var Sr=0,jr=hr;return Sr+=(jr=jr+pr>>>0)<hr?1:0,Sr+=(jr=jr+fr>>>0)<fr?1:0,Sr+=(jr=jr+yr>>>0)<yr?1:0,dr+ur+mr+gr+vr+(Sr+=(jr=jr+br>>>0)<br?1:0)>>>0},nr.sum64_5_lo=function(dr,hr,ur,pr,mr,fr,gr,yr,vr,br){return hr+pr+fr+yr+br>>>0},nr.rotr64_hi=function(dr,hr,ur){return(hr<<32-ur|dr>>>ur)>>>0},nr.rotr64_lo=function(dr,hr,ur){return(dr<<32-ur|hr>>>ur)>>>0},nr.shr64_hi=function(dr,hr,ur){return dr>>>ur},nr.shr64_lo=function(dr,hr,ur){return(dr<<32-ur|hr>>>ur)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(tr,rr,nr){var ir=tr("hash.js"),sr=tr("minimalistic-crypto-utils"),or=tr("minimalistic-assert");function ar(lr){if(!(this instanceof ar))return new ar(lr);this.hash=lr.hash,this.predResist=!!lr.predResist,this.outLen=this.hash.outSize,this.minEntropy=lr.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var cr=sr.toArray(lr.entropy,lr.entropyEnc||"hex"),dr=sr.toArray(lr.nonce,lr.nonceEnc||"hex"),hr=sr.toArray(lr.pers,lr.persEnc||"hex");or(cr.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(cr,dr,hr)}rr.exports=ar,ar.prototype._init=function(lr,cr,dr){var hr=lr.concat(cr).concat(dr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ur=0;ur<this.V.length;ur++)this.K[ur]=0,this.V[ur]=1;this._update(hr),this._reseed=1,this.reseedInterval=281474976710656},ar.prototype._hmac=function(){return new ir.hmac(this.hash,this.K)},ar.prototype._update=function(lr){var cr=this._hmac().update(this.V).update([0]);lr&&(cr=cr.update(lr)),this.K=cr.digest(),this.V=this._hmac().update(this.V).digest(),lr&&(this.K=this._hmac().update(this.V).update([1]).update(lr).digest(),this.V=this._hmac().update(this.V).digest())},ar.prototype.reseed=function(lr,cr,dr,hr){typeof cr!="string"&&(hr=dr,dr=cr,cr=null),lr=sr.toArray(lr,cr),dr=sr.toArray(dr,hr),or(lr.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(lr.concat(dr||[])),this._reseed=1},ar.prototype.generate=function(lr,cr,dr,hr){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof cr!="string"&&(hr=dr,dr=cr,cr=null),dr&&(dr=sr.toArray(dr,hr||"hex"),this._update(dr));for(var ur=[];ur.length<lr;)this.V=this._hmac().update(this.V).digest(),ur=ur.concat(this.V);var pr=ur.slice(0,lr);return this._update(dr),this._reseed++,sr.encode(pr,cr)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(tr,rr,nr){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */nr.read=function(ir,sr,or,ar,lr){var cr,dr,hr=8*lr-ar-1,ur=(1<<hr)-1,pr=ur>>1,mr=-7,fr=or?lr-1:0,gr=or?-1:1,yr=ir[sr+fr];for(fr+=gr,cr=yr&(1<<-mr)-1,yr>>=-mr,mr+=hr;mr>0;cr=256*cr+ir[sr+fr],fr+=gr,mr-=8);for(dr=cr&(1<<-mr)-1,cr>>=-mr,mr+=ar;mr>0;dr=256*dr+ir[sr+fr],fr+=gr,mr-=8);if(cr===0)cr=1-pr;else{if(cr===ur)return dr?NaN:1/0*(yr?-1:1);dr+=Math.pow(2,ar),cr-=pr}return(yr?-1:1)*dr*Math.pow(2,cr-ar)},nr.write=function(ir,sr,or,ar,lr,cr){var dr,hr,ur,pr=8*cr-lr-1,mr=(1<<pr)-1,fr=mr>>1,gr=lr===23?Math.pow(2,-24)-Math.pow(2,-77):0,yr=ar?0:cr-1,vr=ar?1:-1,br=sr<0||sr===0&&1/sr<0?1:0;for(sr=Math.abs(sr),isNaN(sr)||sr===1/0?(hr=isNaN(sr)?1:0,dr=mr):(dr=Math.floor(Math.log(sr)/Math.LN2),sr*(ur=Math.pow(2,-dr))<1&&(dr--,ur*=2),(sr+=dr+fr>=1?gr/ur:gr*Math.pow(2,1-fr))*ur>=2&&(dr++,ur/=2),dr+fr>=mr?(hr=0,dr=mr):dr+fr>=1?(hr=(sr*ur-1)*Math.pow(2,lr),dr+=fr):(hr=sr*Math.pow(2,fr-1)*Math.pow(2,lr),dr=0));lr>=8;ir[or+yr]=255&hr,yr+=vr,hr/=256,lr-=8);for(dr=dr<<lr|hr,pr+=lr;pr>0;ir[or+yr]=255&dr,yr+=vr,dr/=256,pr-=8);ir[or+yr-vr]|=128*br}},{}],440:[function(tr,rr,nr){typeof Object.create=="function"?rr.exports=function(ir,sr){sr&&(ir.super_=sr,ir.prototype=Object.create(sr.prototype,{constructor:{value:ir,enumerable:!1,writable:!0,configurable:!0}}))}:rr.exports=function(ir,sr){if(sr){ir.super_=sr;var or=function(){};or.prototype=sr.prototype,ir.prototype=new or,ir.prototype.constructor=ir}}},{}],441:[function(tr,rr,nr){(function(ir,sr,or,ar,lr,cr,dr,hr){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(ur){typeof nr=="object"&&rr!==void 0?rr.exports=ur():(typeof window<"u"?window:sr!==void 0?sr:typeof self<"u"?self:this).JSZip=ur()})(function(){return function ur(pr,mr,fr){function gr(br,Sr){if(!mr[br]){if(!pr[br]){var jr=typeof tr=="function"&&tr;if(!Sr&&jr)return jr(br,!0);if(yr)return yr(br,!0);var Cr=new Error("Cannot find module '"+br+"'");throw Cr.code="MODULE_NOT_FOUND",Cr}var Pr=mr[br]={exports:{}};pr[br][0].call(Pr.exports,function(Rr){return gr(pr[br][1][Rr]||Rr)},Pr,Pr.exports,ur,pr,mr,fr)}return mr[br].exports}for(var yr=typeof tr=="function"&&tr,vr=0;vr<fr.length;vr++)gr(fr[vr]);return gr}({1:[function(ur,pr,mr){var fr=ur("./utils"),gr=ur("./support"),yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";mr.encode=function(vr){for(var br,Sr,jr,Cr,Pr,Rr,Lr,Ir=[],Nr=0,Ar=vr.length,Dr=Ar,Tr=fr.getTypeOf(vr)!=="string";Nr<vr.length;)Dr=Ar-Nr,jr=Tr?(br=vr[Nr++],Sr=Nr<Ar?vr[Nr++]:0,Nr<Ar?vr[Nr++]:0):(br=vr.charCodeAt(Nr++),Sr=Nr<Ar?vr.charCodeAt(Nr++):0,Nr<Ar?vr.charCodeAt(Nr++):0),Cr=br>>2,Pr=(3&br)<<4|Sr>>4,Rr=1<Dr?(15&Sr)<<2|jr>>6:64,Lr=2<Dr?63&jr:64,Ir.push(yr.charAt(Cr)+yr.charAt(Pr)+yr.charAt(Rr)+yr.charAt(Lr));return Ir.join("")},mr.decode=function(vr){var br,Sr,jr,Cr,Pr,Rr,Lr=0,Ir=0,Nr="data:";if(vr.substr(0,Nr.length)===Nr)throw new Error("Invalid base64 input, it looks like a data url.");var Ar,Dr=3*(vr=vr.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(vr.charAt(vr.length-1)===yr.charAt(64)&&Dr--,vr.charAt(vr.length-2)===yr.charAt(64)&&Dr--,Dr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ar=gr.uint8array?new Uint8Array(0|Dr):new Array(0|Dr);Lr<vr.length;)br=yr.indexOf(vr.charAt(Lr++))<<2|(Cr=yr.indexOf(vr.charAt(Lr++)))>>4,Sr=(15&Cr)<<4|(Pr=yr.indexOf(vr.charAt(Lr++)))>>2,jr=(3&Pr)<<6|(Rr=yr.indexOf(vr.charAt(Lr++))),Ar[Ir++]=br,Pr!==64&&(Ar[Ir++]=Sr),Rr!==64&&(Ar[Ir++]=jr);return Ar}},{"./support":30,"./utils":32}],2:[function(ur,pr,mr){var fr=ur("./external"),gr=ur("./stream/DataWorker"),yr=ur("./stream/Crc32Probe"),vr=ur("./stream/DataLengthProbe");function br(Sr,jr,Cr,Pr,Rr){this.compressedSize=Sr,this.uncompressedSize=jr,this.crc32=Cr,this.compression=Pr,this.compressedContent=Rr}br.prototype={getContentWorker:function(){var Sr=new gr(fr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new vr("data_length")),jr=this;return Sr.on("end",function(){if(this.streamInfo.data_length!==jr.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Sr},getCompressedWorker:function(){return new gr(fr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},br.createWorkerFrom=function(Sr,jr,Cr){return Sr.pipe(new yr).pipe(new vr("uncompressedSize")).pipe(jr.compressWorker(Cr)).pipe(new vr("compressedSize")).withStreamInfo("compression",jr)},pr.exports=br},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ur,pr,mr){var fr=ur("./stream/GenericWorker");mr.STORE={magic:"\0\0",compressWorker:function(){return new fr("STORE compression")},uncompressWorker:function(){return new fr("STORE decompression")}},mr.DEFLATE=ur("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ur,pr,mr){var fr=ur("./utils"),gr=function(){for(var yr,vr=[],br=0;br<256;br++){yr=br;for(var Sr=0;Sr<8;Sr++)yr=1&yr?3988292384^yr>>>1:yr>>>1;vr[br]=yr}return vr}();pr.exports=function(yr,vr){return yr!==void 0&&yr.length?fr.getTypeOf(yr)!=="string"?function(br,Sr,jr,Cr){var Pr=gr,Rr=0+jr;br^=-1;for(var Lr=0;Lr<Rr;Lr++)br=br>>>8^Pr[255&(br^Sr[Lr])];return-1^br}(0|vr,yr,yr.length):function(br,Sr,jr,Cr){var Pr=gr,Rr=0+jr;br^=-1;for(var Lr=0;Lr<Rr;Lr++)br=br>>>8^Pr[255&(br^Sr.charCodeAt(Lr))];return-1^br}(0|vr,yr,yr.length):0}},{"./utils":32}],5:[function(ur,pr,mr){mr.base64=!1,mr.binary=!1,mr.dir=!1,mr.createFolders=!0,mr.date=null,mr.compression=null,mr.compressionOptions=null,mr.comment=null,mr.unixPermissions=null,mr.dosPermissions=null},{}],6:[function(ur,pr,mr){var fr;fr=typeof Promise<"u"?Promise:ur("lie"),pr.exports={Promise:fr}},{lie:37}],7:[function(ur,pr,mr){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",gr=ur("pako"),yr=ur("./utils"),vr=ur("./stream/GenericWorker"),br=fr?"uint8array":"array";function Sr(jr,Cr){vr.call(this,"FlateWorker/"+jr),this._pako=null,this._pakoAction=jr,this._pakoOptions=Cr,this.meta={}}mr.magic="\b\0",yr.inherits(Sr,vr),Sr.prototype.processChunk=function(jr){this.meta=jr.meta,this._pako===null&&this._createPako(),this._pako.push(yr.transformTo(br,jr.data),!1)},Sr.prototype.flush=function(){vr.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Sr.prototype.cleanUp=function(){vr.prototype.cleanUp.call(this),this._pako=null},Sr.prototype._createPako=function(){this._pako=new gr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var jr=this;this._pako.onData=function(Cr){jr.push({data:Cr,meta:jr.meta})}},mr.compressWorker=function(jr){return new Sr("Deflate",jr)},mr.uncompressWorker=function(){return new Sr("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ur,pr,mr){function fr(Pr,Rr){var Lr,Ir="";for(Lr=0;Lr<Rr;Lr++)Ir+=String.fromCharCode(255&Pr),Pr>>>=8;return Ir}function gr(Pr,Rr,Lr,Ir,Nr,Ar){var Dr,Tr,_r=Pr.file,wr=Pr.compression,Er=Ar!==br.utf8encode,xr=yr.transformTo("string",Ar(_r.name)),Mr=yr.transformTo("string",br.utf8encode(_r.name)),zr=_r.comment,Or=yr.transformTo("string",Ar(zr)),Br=yr.transformTo("string",br.utf8encode(zr)),Ur=Mr.length!==_r.name.length,qr=Br.length!==zr.length,Vr="",Gr="",$r="",Fr=_r.dir,Kr=_r.date,Zr={crc32:0,compressedSize:0,uncompressedSize:0};Rr&&!Lr||(Zr.crc32=Pr.crc32,Zr.compressedSize=Pr.compressedSize,Zr.uncompressedSize=Pr.uncompressedSize);var nn=0;Rr&&(nn|=8),Er||!Ur&&!qr||(nn|=2048);var Qr=0,cn=0;Fr&&(Qr|=16),Nr==="UNIX"?(cn=798,Qr|=function(en,an){var tn=en;return en||(tn=an?16893:33204),(65535&tn)<<16}(_r.unixPermissions,Fr)):(cn=20,Qr|=function(en){return 63&(en||0)}(_r.dosPermissions)),Dr=Kr.getUTCHours(),Dr<<=6,Dr|=Kr.getUTCMinutes(),Dr<<=5,Dr|=Kr.getUTCSeconds()/2,Tr=Kr.getUTCFullYear()-1980,Tr<<=4,Tr|=Kr.getUTCMonth()+1,Tr<<=5,Tr|=Kr.getUTCDate(),Ur&&(Gr=fr(1,1)+fr(Sr(xr),4)+Mr,Vr+="up"+fr(Gr.length,2)+Gr),qr&&($r=fr(1,1)+fr(Sr(Or),4)+Br,Vr+="uc"+fr($r.length,2)+$r);var dn="";return dn+=`
\0`,dn+=fr(nn,2),dn+=wr.magic,dn+=fr(Dr,2),dn+=fr(Tr,2),dn+=fr(Zr.crc32,4),dn+=fr(Zr.compressedSize,4),dn+=fr(Zr.uncompressedSize,4),dn+=fr(xr.length,2),dn+=fr(Vr.length,2),{fileRecord:jr.LOCAL_FILE_HEADER+dn+xr+Vr,dirRecord:jr.CENTRAL_FILE_HEADER+fr(cn,2)+dn+fr(Or.length,2)+"\0\0\0\0"+fr(Qr,4)+fr(Ir,4)+xr+Vr+Or}}var yr=ur("../utils"),vr=ur("../stream/GenericWorker"),br=ur("../utf8"),Sr=ur("../crc32"),jr=ur("../signature");function Cr(Pr,Rr,Lr,Ir){vr.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Rr,this.zipPlatform=Lr,this.encodeFileName=Ir,this.streamFiles=Pr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}yr.inherits(Cr,vr),Cr.prototype.push=function(Pr){var Rr=Pr.meta.percent||0,Lr=this.entriesCount,Ir=this._sources.length;this.accumulate?this.contentBuffer.push(Pr):(this.bytesWritten+=Pr.data.length,vr.prototype.push.call(this,{data:Pr.data,meta:{currentFile:this.currentFile,percent:Lr?(Rr+100*(Lr-Ir-1))/Lr:100}}))},Cr.prototype.openedSource=function(Pr){this.currentSourceOffset=this.bytesWritten,this.currentFile=Pr.file.name;var Rr=this.streamFiles&&!Pr.file.dir;if(Rr){var Lr=gr(Pr,Rr,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Lr.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Cr.prototype.closedSource=function(Pr){this.accumulate=!1;var Rr=this.streamFiles&&!Pr.file.dir,Lr=gr(Pr,Rr,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Lr.dirRecord),Rr)this.push({data:function(Ir){return jr.DATA_DESCRIPTOR+fr(Ir.crc32,4)+fr(Ir.compressedSize,4)+fr(Ir.uncompressedSize,4)}(Pr),meta:{percent:100}});else for(this.push({data:Lr.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Cr.prototype.flush=function(){for(var Pr=this.bytesWritten,Rr=0;Rr<this.dirRecords.length;Rr++)this.push({data:this.dirRecords[Rr],meta:{percent:100}});var Lr=this.bytesWritten-Pr,Ir=function(Nr,Ar,Dr,Tr,_r){var wr=yr.transformTo("string",_r(Tr));return jr.CENTRAL_DIRECTORY_END+"\0\0\0\0"+fr(Nr,2)+fr(Nr,2)+fr(Ar,4)+fr(Dr,4)+fr(wr.length,2)+wr}(this.dirRecords.length,Lr,Pr,this.zipComment,this.encodeFileName);this.push({data:Ir,meta:{percent:100}})},Cr.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Cr.prototype.registerPrevious=function(Pr){this._sources.push(Pr);var Rr=this;return Pr.on("data",function(Lr){Rr.processChunk(Lr)}),Pr.on("end",function(){Rr.closedSource(Rr.previous.streamInfo),Rr._sources.length?Rr.prepareNextSource():Rr.end()}),Pr.on("error",function(Lr){Rr.error(Lr)}),this},Cr.prototype.resume=function(){return!!vr.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Cr.prototype.error=function(Pr){var Rr=this._sources;if(!vr.prototype.error.call(this,Pr))return!1;for(var Lr=0;Lr<Rr.length;Lr++)try{Rr[Lr].error(Pr)}catch{}return!0},Cr.prototype.lock=function(){vr.prototype.lock.call(this);for(var Pr=this._sources,Rr=0;Rr<Pr.length;Rr++)Pr[Rr].lock()},pr.exports=Cr},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ur,pr,mr){var fr=ur("../compressions"),gr=ur("./ZipFileWorker");mr.generateWorker=function(yr,vr,br){var Sr=new gr(vr.streamFiles,br,vr.platform,vr.encodeFileName),jr=0;try{yr.forEach(function(Cr,Pr){jr++;var Rr=function(Ar,Dr){var Tr=Ar||Dr,_r=fr[Tr];if(!_r)throw new Error(Tr+" is not a valid compression method !");return _r}(Pr.options.compression,vr.compression),Lr=Pr.options.compressionOptions||vr.compressionOptions||{},Ir=Pr.dir,Nr=Pr.date;Pr._compressWorker(Rr,Lr).withStreamInfo("file",{name:Cr,dir:Ir,date:Nr,comment:Pr.comment||"",unixPermissions:Pr.unixPermissions,dosPermissions:Pr.dosPermissions}).pipe(Sr)}),Sr.entriesCount=jr}catch(Cr){Sr.error(Cr)}return Sr}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ur,pr,mr){function fr(){if(!(this instanceof fr))return new fr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var gr=new fr;for(var yr in this)typeof this[yr]!="function"&&(gr[yr]=this[yr]);return gr}}(fr.prototype=ur("./object")).loadAsync=ur("./load"),fr.support=ur("./support"),fr.defaults=ur("./defaults"),fr.version="3.10.1",fr.loadAsync=function(gr,yr){return new fr().loadAsync(gr,yr)},fr.external=ur("./external"),pr.exports=fr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ur,pr,mr){var fr=ur("./utils"),gr=ur("./external"),yr=ur("./utf8"),vr=ur("./zipEntries"),br=ur("./stream/Crc32Probe"),Sr=ur("./nodejsUtils");function jr(Cr){return new gr.Promise(function(Pr,Rr){var Lr=Cr.decompressed.getContentWorker().pipe(new br);Lr.on("error",function(Ir){Rr(Ir)}).on("end",function(){Lr.streamInfo.crc32!==Cr.decompressed.crc32?Rr(new Error("Corrupted zip : CRC32 mismatch")):Pr()}).resume()})}pr.exports=function(Cr,Pr){var Rr=this;return Pr=fr.extend(Pr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:yr.utf8decode}),Sr.isNode&&Sr.isStream(Cr)?gr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):fr.prepareContent("the loaded zip file",Cr,!0,Pr.optimizedBinaryString,Pr.base64).then(function(Lr){var Ir=new vr(Pr);return Ir.load(Lr),Ir}).then(function(Lr){var Ir=[gr.Promise.resolve(Lr)],Nr=Lr.files;if(Pr.checkCRC32)for(var Ar=0;Ar<Nr.length;Ar++)Ir.push(jr(Nr[Ar]));return gr.Promise.all(Ir)}).then(function(Lr){for(var Ir=Lr.shift(),Nr=Ir.files,Ar=0;Ar<Nr.length;Ar++){var Dr=Nr[Ar],Tr=Dr.fileNameStr,_r=fr.resolve(Dr.fileNameStr);Rr.file(_r,Dr.decompressed,{binary:!0,optimizedBinaryString:!0,date:Dr.date,dir:Dr.dir,comment:Dr.fileCommentStr.length?Dr.fileCommentStr:null,unixPermissions:Dr.unixPermissions,dosPermissions:Dr.dosPermissions,createFolders:Pr.createFolders}),Dr.dir||(Rr.file(_r).unsafeOriginalName=Tr)}return Ir.zipComment.length&&(Rr.comment=Ir.zipComment),Rr})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ur,pr,mr){var fr=ur("../utils"),gr=ur("../stream/GenericWorker");function yr(vr,br){gr.call(this,"Nodejs stream input adapter for "+vr),this._upstreamEnded=!1,this._bindStream(br)}fr.inherits(yr,gr),yr.prototype._bindStream=function(vr){var br=this;(this._stream=vr).pause(),vr.on("data",function(Sr){br.push({data:Sr,meta:{percent:0}})}).on("error",function(Sr){br.isPaused?this.generatedError=Sr:br.error(Sr)}).on("end",function(){br.isPaused?br._upstreamEnded=!0:br.end()})},yr.prototype.pause=function(){return!!gr.prototype.pause.call(this)&&(this._stream.pause(),!0)},yr.prototype.resume=function(){return!!gr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},pr.exports=yr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ur,pr,mr){var fr=ur("readable-stream").Readable;function gr(yr,vr,br){fr.call(this,vr),this._helper=yr;var Sr=this;yr.on("data",function(jr,Cr){Sr.push(jr)||Sr._helper.pause(),br&&br(Cr)}).on("error",function(jr){Sr.emit("error",jr)}).on("end",function(){Sr.push(null)})}ur("../utils").inherits(gr,fr),gr.prototype._read=function(){this._helper.resume()},pr.exports=gr},{"../utils":32,"readable-stream":16}],14:[function(ur,pr,mr){pr.exports={isNode:or!==void 0,newBufferFrom:function(fr,gr){if(or.from&&or.from!==Uint8Array.from)return or.from(fr,gr);if(typeof fr=="number")throw new Error('The "data" argument must not be a number');return new or(fr,gr)},allocBuffer:function(fr){if(or.alloc)return or.alloc(fr);var gr=new or(fr);return gr.fill(0),gr},isBuffer:function(fr){return or.isBuffer(fr)},isStream:function(fr){return fr&&typeof fr.on=="function"&&typeof fr.pause=="function"&&typeof fr.resume=="function"}}},{}],15:[function(ur,pr,mr){function fr(_r,wr,Er){var xr,Mr=yr.getTypeOf(wr),zr=yr.extend(Er||{},Sr);zr.date=zr.date||new Date,zr.compression!==null&&(zr.compression=zr.compression.toUpperCase()),typeof zr.unixPermissions=="string"&&(zr.unixPermissions=parseInt(zr.unixPermissions,8)),zr.unixPermissions&&16384&zr.unixPermissions&&(zr.dir=!0),zr.dosPermissions&&16&zr.dosPermissions&&(zr.dir=!0),zr.dir&&(_r=Nr(_r)),zr.createFolders&&(xr=Ir(_r))&&Ar.call(this,xr,!0);var Or=Mr==="string"&&zr.binary===!1&&zr.base64===!1;Er&&Er.binary!==void 0||(zr.binary=!Or),(wr instanceof jr&&wr.uncompressedSize===0||zr.dir||!wr||wr.length===0)&&(zr.base64=!1,zr.binary=!0,wr="",zr.compression="STORE",Mr="string");var Br;Br=wr instanceof jr||wr instanceof vr?wr:Rr.isNode&&Rr.isStream(wr)?new Lr(_r,wr):yr.prepareContent(_r,wr,zr.binary,zr.optimizedBinaryString,zr.base64);var Ur=new Cr(_r,Br,zr);this.files[_r]=Ur}var gr=ur("./utf8"),yr=ur("./utils"),vr=ur("./stream/GenericWorker"),br=ur("./stream/StreamHelper"),Sr=ur("./defaults"),jr=ur("./compressedObject"),Cr=ur("./zipObject"),Pr=ur("./generate"),Rr=ur("./nodejsUtils"),Lr=ur("./nodejs/NodejsStreamInputAdapter"),Ir=function(_r){_r.slice(-1)==="/"&&(_r=_r.substring(0,_r.length-1));var wr=_r.lastIndexOf("/");return 0<wr?_r.substring(0,wr):""},Nr=function(_r){return _r.slice(-1)!=="/"&&(_r+="/"),_r},Ar=function(_r,wr){return wr=wr!==void 0?wr:Sr.createFolders,_r=Nr(_r),this.files[_r]||fr.call(this,_r,null,{dir:!0,createFolders:wr}),this.files[_r]};function Dr(_r){return Object.prototype.toString.call(_r)==="[object RegExp]"}var Tr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_r){var wr,Er,xr;for(wr in this.files)xr=this.files[wr],(Er=wr.slice(this.root.length,wr.length))&&wr.slice(0,this.root.length)===this.root&&_r(Er,xr)},filter:function(_r){var wr=[];return this.forEach(function(Er,xr){_r(Er,xr)&&wr.push(xr)}),wr},file:function(_r,wr,Er){if(arguments.length!==1)return _r=this.root+_r,fr.call(this,_r,wr,Er),this;if(Dr(_r)){var xr=_r;return this.filter(function(zr,Or){return!Or.dir&&xr.test(zr)})}var Mr=this.files[this.root+_r];return Mr&&!Mr.dir?Mr:null},folder:function(_r){if(!_r)return this;if(Dr(_r))return this.filter(function(Mr,zr){return zr.dir&&_r.test(Mr)});var wr=this.root+_r,Er=Ar.call(this,wr),xr=this.clone();return xr.root=Er.name,xr},remove:function(_r){_r=this.root+_r;var wr=this.files[_r];if(wr||(_r.slice(-1)!=="/"&&(_r+="/"),wr=this.files[_r]),wr&&!wr.dir)delete this.files[_r];else for(var Er=this.filter(function(Mr,zr){return zr.name.slice(0,_r.length)===_r}),xr=0;xr<Er.length;xr++)delete this.files[Er[xr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_r){var wr,Er={};try{if((Er=yr.extend(_r||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:gr.utf8encode})).type=Er.type.toLowerCase(),Er.compression=Er.compression.toUpperCase(),Er.type==="binarystring"&&(Er.type="string"),!Er.type)throw new Error("No output type specified.");yr.checkSupport(Er.type),Er.platform!=="darwin"&&Er.platform!=="freebsd"&&Er.platform!=="linux"&&Er.platform!=="sunos"||(Er.platform="UNIX"),Er.platform==="win32"&&(Er.platform="DOS");var xr=Er.comment||this.comment||"";wr=Pr.generateWorker(this,Er,xr)}catch(Mr){(wr=new vr("error")).error(Mr)}return new br(wr,Er.type||"string",Er.mimeType)},generateAsync:function(_r,wr){return this.generateInternalStream(_r).accumulate(wr)},generateNodeStream:function(_r,wr){return(_r=_r||{}).type||(_r.type="nodebuffer"),this.generateInternalStream(_r).toNodejsStream(wr)}};pr.exports=Tr},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ur,pr,mr){pr.exports=ur("stream")},{stream:void 0}],17:[function(ur,pr,mr){var fr=ur("./DataReader");function gr(yr){fr.call(this,yr);for(var vr=0;vr<this.data.length;vr++)yr[vr]=255&yr[vr]}ur("../utils").inherits(gr,fr),gr.prototype.byteAt=function(yr){return this.data[this.zero+yr]},gr.prototype.lastIndexOfSignature=function(yr){for(var vr=yr.charCodeAt(0),br=yr.charCodeAt(1),Sr=yr.charCodeAt(2),jr=yr.charCodeAt(3),Cr=this.length-4;0<=Cr;--Cr)if(this.data[Cr]===vr&&this.data[Cr+1]===br&&this.data[Cr+2]===Sr&&this.data[Cr+3]===jr)return Cr-this.zero;return-1},gr.prototype.readAndCheckSignature=function(yr){var vr=yr.charCodeAt(0),br=yr.charCodeAt(1),Sr=yr.charCodeAt(2),jr=yr.charCodeAt(3),Cr=this.readData(4);return vr===Cr[0]&&br===Cr[1]&&Sr===Cr[2]&&jr===Cr[3]},gr.prototype.readData=function(yr){if(this.checkOffset(yr),yr===0)return[];var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},pr.exports=gr},{"../utils":32,"./DataReader":18}],18:[function(ur,pr,mr){var fr=ur("../utils");function gr(yr){this.data=yr,this.length=yr.length,this.index=0,this.zero=0}gr.prototype={checkOffset:function(yr){this.checkIndex(this.index+yr)},checkIndex:function(yr){if(this.length<this.zero+yr||yr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+yr+"). Corrupted zip ?")},setIndex:function(yr){this.checkIndex(yr),this.index=yr},skip:function(yr){this.setIndex(this.index+yr)},byteAt:function(){},readInt:function(yr){var vr,br=0;for(this.checkOffset(yr),vr=this.index+yr-1;vr>=this.index;vr--)br=(br<<8)+this.byteAt(vr);return this.index+=yr,br},readString:function(yr){return fr.transformTo("string",this.readData(yr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var yr=this.readInt(4);return new Date(Date.UTC(1980+(yr>>25&127),(yr>>21&15)-1,yr>>16&31,yr>>11&31,yr>>5&63,(31&yr)<<1))}},pr.exports=gr},{"../utils":32}],19:[function(ur,pr,mr){var fr=ur("./Uint8ArrayReader");function gr(yr){fr.call(this,yr)}ur("../utils").inherits(gr,fr),gr.prototype.readData=function(yr){this.checkOffset(yr);var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},pr.exports=gr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ur,pr,mr){var fr=ur("./DataReader");function gr(yr){fr.call(this,yr)}ur("../utils").inherits(gr,fr),gr.prototype.byteAt=function(yr){return this.data.charCodeAt(this.zero+yr)},gr.prototype.lastIndexOfSignature=function(yr){return this.data.lastIndexOf(yr)-this.zero},gr.prototype.readAndCheckSignature=function(yr){return yr===this.readData(4)},gr.prototype.readData=function(yr){this.checkOffset(yr);var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},pr.exports=gr},{"../utils":32,"./DataReader":18}],21:[function(ur,pr,mr){var fr=ur("./ArrayReader");function gr(yr){fr.call(this,yr)}ur("../utils").inherits(gr,fr),gr.prototype.readData=function(yr){if(this.checkOffset(yr),yr===0)return new Uint8Array(0);var vr=this.data.subarray(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},pr.exports=gr},{"../utils":32,"./ArrayReader":17}],22:[function(ur,pr,mr){var fr=ur("../utils"),gr=ur("../support"),yr=ur("./ArrayReader"),vr=ur("./StringReader"),br=ur("./NodeBufferReader"),Sr=ur("./Uint8ArrayReader");pr.exports=function(jr){var Cr=fr.getTypeOf(jr);return fr.checkSupport(Cr),Cr!=="string"||gr.uint8array?Cr==="nodebuffer"?new br(jr):gr.uint8array?new Sr(fr.transformTo("uint8array",jr)):new yr(fr.transformTo("array",jr)):new vr(jr)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ur,pr,mr){mr.LOCAL_FILE_HEADER="PK",mr.CENTRAL_FILE_HEADER="PK",mr.CENTRAL_DIRECTORY_END="PK",mr.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",mr.ZIP64_CENTRAL_DIRECTORY_END="PK",mr.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ur,pr,mr){var fr=ur("./GenericWorker"),gr=ur("../utils");function yr(vr){fr.call(this,"ConvertWorker to "+vr),this.destType=vr}gr.inherits(yr,fr),yr.prototype.processChunk=function(vr){this.push({data:gr.transformTo(this.destType,vr.data),meta:vr.meta})},pr.exports=yr},{"../utils":32,"./GenericWorker":28}],25:[function(ur,pr,mr){var fr=ur("./GenericWorker"),gr=ur("../crc32");function yr(){fr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ur("../utils").inherits(yr,fr),yr.prototype.processChunk=function(vr){this.streamInfo.crc32=gr(vr.data,this.streamInfo.crc32||0),this.push(vr)},pr.exports=yr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ur,pr,mr){var fr=ur("../utils"),gr=ur("./GenericWorker");function yr(vr){gr.call(this,"DataLengthProbe for "+vr),this.propName=vr,this.withStreamInfo(vr,0)}fr.inherits(yr,gr),yr.prototype.processChunk=function(vr){if(vr){var br=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=br+vr.data.length}gr.prototype.processChunk.call(this,vr)},pr.exports=yr},{"../utils":32,"./GenericWorker":28}],27:[function(ur,pr,mr){var fr=ur("../utils"),gr=ur("./GenericWorker");function yr(vr){gr.call(this,"DataWorker");var br=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,vr.then(function(Sr){br.dataIsReady=!0,br.data=Sr,br.max=Sr&&Sr.length||0,br.type=fr.getTypeOf(Sr),br.isPaused||br._tickAndRepeat()},function(Sr){br.error(Sr)})}fr.inherits(yr,gr),yr.prototype.cleanUp=function(){gr.prototype.cleanUp.call(this),this.data=null},yr.prototype.resume=function(){return!!gr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,fr.delay(this._tickAndRepeat,[],this)),!0)},yr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(fr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},yr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var vr=null,br=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":vr=this.data.substring(this.index,br);break;case"uint8array":vr=this.data.subarray(this.index,br);break;case"array":case"nodebuffer":vr=this.data.slice(this.index,br)}return this.index=br,this.push({data:vr,meta:{percent:this.max?this.index/this.max*100:0}})},pr.exports=yr},{"../utils":32,"./GenericWorker":28}],28:[function(ur,pr,mr){function fr(gr){this.name=gr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}fr.prototype={push:function(gr){this.emit("data",gr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(gr){this.emit("error",gr)}return!0},error:function(gr){return!this.isFinished&&(this.isPaused?this.generatedError=gr:(this.isFinished=!0,this.emit("error",gr),this.previous&&this.previous.error(gr),this.cleanUp()),!0)},on:function(gr,yr){return this._listeners[gr].push(yr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(gr,yr){if(this._listeners[gr])for(var vr=0;vr<this._listeners[gr].length;vr++)this._listeners[gr][vr].call(this,yr)},pipe:function(gr){return gr.registerPrevious(this)},registerPrevious:function(gr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=gr.streamInfo,this.mergeStreamInfo(),this.previous=gr;var yr=this;return gr.on("data",function(vr){yr.processChunk(vr)}),gr.on("end",function(){yr.end()}),gr.on("error",function(vr){yr.error(vr)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var gr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),gr=!0),this.previous&&this.previous.resume(),!gr},flush:function(){},processChunk:function(gr){this.push(gr)},withStreamInfo:function(gr,yr){return this.extraStreamInfo[gr]=yr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var gr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,gr)&&(this.streamInfo[gr]=this.extraStreamInfo[gr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var gr="Worker "+this.name;return this.previous?this.previous+" -> "+gr:gr}},pr.exports=fr},{}],29:[function(ur,pr,mr){var fr=ur("../utils"),gr=ur("./ConvertWorker"),yr=ur("./GenericWorker"),vr=ur("../base64"),br=ur("../support"),Sr=ur("../external"),jr=null;if(br.nodestream)try{jr=ur("../nodejs/NodejsStreamOutputAdapter")}catch{}function Cr(Pr,Rr,Lr){var Ir=Rr;switch(Rr){case"blob":case"arraybuffer":Ir="uint8array";break;case"base64":Ir="string"}try{this._internalType=Ir,this._outputType=Rr,this._mimeType=Lr,fr.checkSupport(Ir),this._worker=Pr.pipe(new gr(Ir)),Pr.lock()}catch(Nr){this._worker=new yr("error"),this._worker.error(Nr)}}Cr.prototype={accumulate:function(Pr){return function(Rr,Lr){return new Sr.Promise(function(Ir,Nr){var Ar=[],Dr=Rr._internalType,Tr=Rr._outputType,_r=Rr._mimeType;Rr.on("data",function(wr,Er){Ar.push(wr),Lr&&Lr(Er)}).on("error",function(wr){Ar=[],Nr(wr)}).on("end",function(){try{var wr=function(Er,xr,Mr){switch(Er){case"blob":return fr.newBlob(fr.transformTo("arraybuffer",xr),Mr);case"base64":return vr.encode(xr);default:return fr.transformTo(Er,xr)}}(Tr,function(Er,xr){var Mr,zr=0,Or=null,Br=0;for(Mr=0;Mr<xr.length;Mr++)Br+=xr[Mr].length;switch(Er){case"string":return xr.join("");case"array":return Array.prototype.concat.apply([],xr);case"uint8array":for(Or=new Uint8Array(Br),Mr=0;Mr<xr.length;Mr++)Or.set(xr[Mr],zr),zr+=xr[Mr].length;return Or;case"nodebuffer":return or.concat(xr);default:throw new Error("concat : unsupported type '"+Er+"'")}}(Dr,Ar),_r);Ir(wr)}catch(Er){Nr(Er)}Ar=[]}).resume()})}(this,Pr)},on:function(Pr,Rr){var Lr=this;return Pr==="data"?this._worker.on(Pr,function(Ir){Rr.call(Lr,Ir.data,Ir.meta)}):this._worker.on(Pr,function(){fr.delay(Rr,arguments,Lr)}),this},resume:function(){return fr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Pr){if(fr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new jr(this,{objectMode:this._outputType!=="nodebuffer"},Pr)}},pr.exports=Cr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ur,pr,mr){if(mr.base64=!0,mr.array=!0,mr.string=!0,mr.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",mr.nodebuffer=or!==void 0,mr.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")mr.blob=!1;else{var fr=new ArrayBuffer(0);try{mr.blob=new Blob([fr],{type:"application/zip"}).size===0}catch{try{var gr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);gr.append(fr),mr.blob=gr.getBlob("application/zip").size===0}catch{mr.blob=!1}}}try{mr.nodestream=!!ur("readable-stream").Readable}catch{mr.nodestream=!1}},{"readable-stream":16}],31:[function(ur,pr,mr){for(var fr=ur("./utils"),gr=ur("./support"),yr=ur("./nodejsUtils"),vr=ur("./stream/GenericWorker"),br=new Array(256),Sr=0;Sr<256;Sr++)br[Sr]=252<=Sr?6:248<=Sr?5:240<=Sr?4:224<=Sr?3:192<=Sr?2:1;function jr(){vr.call(this,"utf-8 decode"),this.leftOver=null}function Cr(){vr.call(this,"utf-8 encode")}br[254]=br[254]=1,mr.utf8encode=function(Pr){return gr.nodebuffer?yr.newBufferFrom(Pr,"utf-8"):function(Rr){var Lr,Ir,Nr,Ar,Dr,Tr=Rr.length,_r=0;for(Ar=0;Ar<Tr;Ar++)(64512&(Ir=Rr.charCodeAt(Ar)))==55296&&Ar+1<Tr&&(64512&(Nr=Rr.charCodeAt(Ar+1)))==56320&&(Ir=65536+(Ir-55296<<10)+(Nr-56320),Ar++),_r+=Ir<128?1:Ir<2048?2:Ir<65536?3:4;for(Lr=gr.uint8array?new Uint8Array(_r):new Array(_r),Ar=Dr=0;Dr<_r;Ar++)(64512&(Ir=Rr.charCodeAt(Ar)))==55296&&Ar+1<Tr&&(64512&(Nr=Rr.charCodeAt(Ar+1)))==56320&&(Ir=65536+(Ir-55296<<10)+(Nr-56320),Ar++),Ir<128?Lr[Dr++]=Ir:(Ir<2048?Lr[Dr++]=192|Ir>>>6:(Ir<65536?Lr[Dr++]=224|Ir>>>12:(Lr[Dr++]=240|Ir>>>18,Lr[Dr++]=128|Ir>>>12&63),Lr[Dr++]=128|Ir>>>6&63),Lr[Dr++]=128|63&Ir);return Lr}(Pr)},mr.utf8decode=function(Pr){return gr.nodebuffer?fr.transformTo("nodebuffer",Pr).toString("utf-8"):function(Rr){var Lr,Ir,Nr,Ar,Dr=Rr.length,Tr=new Array(2*Dr);for(Lr=Ir=0;Lr<Dr;)if((Nr=Rr[Lr++])<128)Tr[Ir++]=Nr;else if(4<(Ar=br[Nr]))Tr[Ir++]=65533,Lr+=Ar-1;else{for(Nr&=Ar===2?31:Ar===3?15:7;1<Ar&&Lr<Dr;)Nr=Nr<<6|63&Rr[Lr++],Ar--;1<Ar?Tr[Ir++]=65533:Nr<65536?Tr[Ir++]=Nr:(Nr-=65536,Tr[Ir++]=55296|Nr>>10&1023,Tr[Ir++]=56320|1023&Nr)}return Tr.length!==Ir&&(Tr.subarray?Tr=Tr.subarray(0,Ir):Tr.length=Ir),fr.applyFromCharCode(Tr)}(Pr=fr.transformTo(gr.uint8array?"uint8array":"array",Pr))},fr.inherits(jr,vr),jr.prototype.processChunk=function(Pr){var Rr=fr.transformTo(gr.uint8array?"uint8array":"array",Pr.data);if(this.leftOver&&this.leftOver.length){if(gr.uint8array){var Lr=Rr;(Rr=new Uint8Array(Lr.length+this.leftOver.length)).set(this.leftOver,0),Rr.set(Lr,this.leftOver.length)}else Rr=this.leftOver.concat(Rr);this.leftOver=null}var Ir=function(Ar,Dr){var Tr;for((Dr=Dr||Ar.length)>Ar.length&&(Dr=Ar.length),Tr=Dr-1;0<=Tr&&(192&Ar[Tr])==128;)Tr--;return Tr<0||Tr===0?Dr:Tr+br[Ar[Tr]]>Dr?Tr:Dr}(Rr),Nr=Rr;Ir!==Rr.length&&(gr.uint8array?(Nr=Rr.subarray(0,Ir),this.leftOver=Rr.subarray(Ir,Rr.length)):(Nr=Rr.slice(0,Ir),this.leftOver=Rr.slice(Ir,Rr.length))),this.push({data:mr.utf8decode(Nr),meta:Pr.meta})},jr.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:mr.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},mr.Utf8DecodeWorker=jr,fr.inherits(Cr,vr),Cr.prototype.processChunk=function(Pr){this.push({data:mr.utf8encode(Pr.data),meta:Pr.meta})},mr.Utf8EncodeWorker=Cr},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ur,pr,mr){var fr=ur("./support"),gr=ur("./base64"),yr=ur("./nodejsUtils"),vr=ur("./external");function br(Lr){return Lr}function Sr(Lr,Ir){for(var Nr=0;Nr<Lr.length;++Nr)Ir[Nr]=255&Lr.charCodeAt(Nr);return Ir}ur("setimmediate"),mr.newBlob=function(Lr,Ir){mr.checkSupport("blob");try{return new Blob([Lr],{type:Ir})}catch{try{var Nr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Nr.append(Lr),Nr.getBlob(Ir)}catch{throw new Error("Bug : can't construct the Blob.")}}};var jr={stringifyByChunk:function(Lr,Ir,Nr){var Ar=[],Dr=0,Tr=Lr.length;if(Tr<=Nr)return String.fromCharCode.apply(null,Lr);for(;Dr<Tr;)Ir==="array"||Ir==="nodebuffer"?Ar.push(String.fromCharCode.apply(null,Lr.slice(Dr,Math.min(Dr+Nr,Tr)))):Ar.push(String.fromCharCode.apply(null,Lr.subarray(Dr,Math.min(Dr+Nr,Tr)))),Dr+=Nr;return Ar.join("")},stringifyByChar:function(Lr){for(var Ir="",Nr=0;Nr<Lr.length;Nr++)Ir+=String.fromCharCode(Lr[Nr]);return Ir},applyCanBeUsed:{uint8array:function(){try{return fr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return fr.nodebuffer&&String.fromCharCode.apply(null,yr.allocBuffer(1)).length===1}catch{return!1}}()}};function Cr(Lr){var Ir=65536,Nr=mr.getTypeOf(Lr),Ar=!0;if(Nr==="uint8array"?Ar=jr.applyCanBeUsed.uint8array:Nr==="nodebuffer"&&(Ar=jr.applyCanBeUsed.nodebuffer),Ar)for(;1<Ir;)try{return jr.stringifyByChunk(Lr,Nr,Ir)}catch{Ir=Math.floor(Ir/2)}return jr.stringifyByChar(Lr)}function Pr(Lr,Ir){for(var Nr=0;Nr<Lr.length;Nr++)Ir[Nr]=Lr[Nr];return Ir}mr.applyFromCharCode=Cr;var Rr={};Rr.string={string:br,array:function(Lr){return Sr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Rr.string.uint8array(Lr).buffer},uint8array:function(Lr){return Sr(Lr,new Uint8Array(Lr.length))},nodebuffer:function(Lr){return Sr(Lr,yr.allocBuffer(Lr.length))}},Rr.array={string:Cr,array:br,arraybuffer:function(Lr){return new Uint8Array(Lr).buffer},uint8array:function(Lr){return new Uint8Array(Lr)},nodebuffer:function(Lr){return yr.newBufferFrom(Lr)}},Rr.arraybuffer={string:function(Lr){return Cr(new Uint8Array(Lr))},array:function(Lr){return Pr(new Uint8Array(Lr),new Array(Lr.byteLength))},arraybuffer:br,uint8array:function(Lr){return new Uint8Array(Lr)},nodebuffer:function(Lr){return yr.newBufferFrom(new Uint8Array(Lr))}},Rr.uint8array={string:Cr,array:function(Lr){return Pr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Lr.buffer},uint8array:br,nodebuffer:function(Lr){return yr.newBufferFrom(Lr)}},Rr.nodebuffer={string:Cr,array:function(Lr){return Pr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Rr.nodebuffer.uint8array(Lr).buffer},uint8array:function(Lr){return Pr(Lr,new Uint8Array(Lr.length))},nodebuffer:br},mr.transformTo=function(Lr,Ir){if(Ir=Ir||"",!Lr)return Ir;mr.checkSupport(Lr);var Nr=mr.getTypeOf(Ir);return Rr[Nr][Lr](Ir)},mr.resolve=function(Lr){for(var Ir=Lr.split("/"),Nr=[],Ar=0;Ar<Ir.length;Ar++){var Dr=Ir[Ar];Dr==="."||Dr===""&&Ar!==0&&Ar!==Ir.length-1||(Dr===".."?Nr.pop():Nr.push(Dr))}return Nr.join("/")},mr.getTypeOf=function(Lr){return typeof Lr=="string"?"string":Object.prototype.toString.call(Lr)==="[object Array]"?"array":fr.nodebuffer&&yr.isBuffer(Lr)?"nodebuffer":fr.uint8array&&Lr instanceof Uint8Array?"uint8array":fr.arraybuffer&&Lr instanceof ArrayBuffer?"arraybuffer":void 0},mr.checkSupport=function(Lr){if(!fr[Lr.toLowerCase()])throw new Error(Lr+" is not supported by this platform")},mr.MAX_VALUE_16BITS=65535,mr.MAX_VALUE_32BITS=-1,mr.pretty=function(Lr){var Ir,Nr,Ar="";for(Nr=0;Nr<(Lr||"").length;Nr++)Ar+="\\x"+((Ir=Lr.charCodeAt(Nr))<16?"0":"")+Ir.toString(16).toUpperCase();return Ar},mr.delay=function(Lr,Ir,Nr){hr(function(){Lr.apply(Nr||null,Ir||[])})},mr.inherits=function(Lr,Ir){function Nr(){}Nr.prototype=Ir.prototype,Lr.prototype=new Nr},mr.extend=function(){var Lr,Ir,Nr={};for(Lr=0;Lr<arguments.length;Lr++)for(Ir in arguments[Lr])Object.prototype.hasOwnProperty.call(arguments[Lr],Ir)&&Nr[Ir]===void 0&&(Nr[Ir]=arguments[Lr][Ir]);return Nr},mr.prepareContent=function(Lr,Ir,Nr,Ar,Dr){return vr.Promise.resolve(Ir).then(function(Tr){return fr.blob&&(Tr instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Tr))!==-1)&&typeof FileReader<"u"?new vr.Promise(function(_r,wr){var Er=new FileReader;Er.onload=function(xr){_r(xr.target.result)},Er.onerror=function(xr){wr(xr.target.error)},Er.readAsArrayBuffer(Tr)}):Tr}).then(function(Tr){var _r=mr.getTypeOf(Tr);return _r?(_r==="arraybuffer"?Tr=mr.transformTo("uint8array",Tr):_r==="string"&&(Dr?Tr=gr.decode(Tr):Nr&&Ar!==!0&&(Tr=function(wr){return Sr(wr,fr.uint8array?new Uint8Array(wr.length):new Array(wr.length))}(Tr))),Tr):vr.Promise.reject(new Error("Can't read the data of '"+Lr+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ur,pr,mr){var fr=ur("./reader/readerFor"),gr=ur("./utils"),yr=ur("./signature"),vr=ur("./zipEntry"),br=ur("./support");function Sr(jr){this.files=[],this.loadOptions=jr}Sr.prototype={checkSignature:function(jr){if(!this.reader.readAndCheckSignature(jr)){this.reader.index-=4;var Cr=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+gr.pretty(Cr)+", expected "+gr.pretty(jr)+")")}},isSignature:function(jr,Cr){var Pr=this.reader.index;this.reader.setIndex(jr);var Rr=this.reader.readString(4)===Cr;return this.reader.setIndex(Pr),Rr},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var jr=this.reader.readData(this.zipCommentLength),Cr=br.uint8array?"uint8array":"array",Pr=gr.transformTo(Cr,jr);this.zipComment=this.loadOptions.decodeFileName(Pr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var jr,Cr,Pr,Rr=this.zip64EndOfCentralSize-44;0<Rr;)jr=this.reader.readInt(2),Cr=this.reader.readInt(4),Pr=this.reader.readData(Cr),this.zip64ExtensibleData[jr]={id:jr,length:Cr,value:Pr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var jr,Cr;for(jr=0;jr<this.files.length;jr++)Cr=this.files[jr],this.reader.setIndex(Cr.localHeaderOffset),this.checkSignature(yr.LOCAL_FILE_HEADER),Cr.readLocalPart(this.reader),Cr.handleUTF8(),Cr.processAttributes()},readCentralDir:function(){var jr;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(yr.CENTRAL_FILE_HEADER);)(jr=new vr({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(jr);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var jr=this.reader.lastIndexOfSignature(yr.CENTRAL_DIRECTORY_END);if(jr<0)throw this.isSignature(0,yr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(jr);var Cr=jr;if(this.checkSignature(yr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===gr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===gr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===gr.MAX_VALUE_16BITS||this.centralDirRecords===gr.MAX_VALUE_16BITS||this.centralDirSize===gr.MAX_VALUE_32BITS||this.centralDirOffset===gr.MAX_VALUE_32BITS){if(this.zip64=!0,(jr=this.reader.lastIndexOfSignature(yr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(jr),this.checkSignature(yr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,yr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(yr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(yr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Pr=this.centralDirOffset+this.centralDirSize;this.zip64&&(Pr+=20,Pr+=12+this.zip64EndOfCentralSize);var Rr=Cr-Pr;if(0<Rr)this.isSignature(Cr,yr.CENTRAL_FILE_HEADER)||(this.reader.zero=Rr);else if(Rr<0)throw new Error("Corrupted zip: missing "+Math.abs(Rr)+" bytes.")},prepareReader:function(jr){this.reader=fr(jr)},load:function(jr){this.prepareReader(jr),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},pr.exports=Sr},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ur,pr,mr){var fr=ur("./reader/readerFor"),gr=ur("./utils"),yr=ur("./compressedObject"),vr=ur("./crc32"),br=ur("./utf8"),Sr=ur("./compressions"),jr=ur("./support");function Cr(Pr,Rr){this.options=Pr,this.loadOptions=Rr}Cr.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Pr){var Rr,Lr;if(Pr.skip(22),this.fileNameLength=Pr.readInt(2),Lr=Pr.readInt(2),this.fileName=Pr.readData(this.fileNameLength),Pr.skip(Lr),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Rr=function(Ir){for(var Nr in Sr)if(Object.prototype.hasOwnProperty.call(Sr,Nr)&&Sr[Nr].magic===Ir)return Sr[Nr];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+gr.pretty(this.compressionMethod)+" unknown (inner file : "+gr.transformTo("string",this.fileName)+")");this.decompressed=new yr(this.compressedSize,this.uncompressedSize,this.crc32,Rr,Pr.readData(this.compressedSize))},readCentralPart:function(Pr){this.versionMadeBy=Pr.readInt(2),Pr.skip(2),this.bitFlag=Pr.readInt(2),this.compressionMethod=Pr.readString(2),this.date=Pr.readDate(),this.crc32=Pr.readInt(4),this.compressedSize=Pr.readInt(4),this.uncompressedSize=Pr.readInt(4);var Rr=Pr.readInt(2);if(this.extraFieldsLength=Pr.readInt(2),this.fileCommentLength=Pr.readInt(2),this.diskNumberStart=Pr.readInt(2),this.internalFileAttributes=Pr.readInt(2),this.externalFileAttributes=Pr.readInt(4),this.localHeaderOffset=Pr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Pr.skip(Rr),this.readExtraFields(Pr),this.parseZIP64ExtraField(Pr),this.fileComment=Pr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Pr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Pr==0&&(this.dosPermissions=63&this.externalFileAttributes),Pr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Pr=fr(this.extraFields[1].value);this.uncompressedSize===gr.MAX_VALUE_32BITS&&(this.uncompressedSize=Pr.readInt(8)),this.compressedSize===gr.MAX_VALUE_32BITS&&(this.compressedSize=Pr.readInt(8)),this.localHeaderOffset===gr.MAX_VALUE_32BITS&&(this.localHeaderOffset=Pr.readInt(8)),this.diskNumberStart===gr.MAX_VALUE_32BITS&&(this.diskNumberStart=Pr.readInt(4))}},readExtraFields:function(Pr){var Rr,Lr,Ir,Nr=Pr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Pr.index+4<Nr;)Rr=Pr.readInt(2),Lr=Pr.readInt(2),Ir=Pr.readData(Lr),this.extraFields[Rr]={id:Rr,length:Lr,value:Ir};Pr.setIndex(Nr)},handleUTF8:function(){var Pr=jr.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=br.utf8decode(this.fileName),this.fileCommentStr=br.utf8decode(this.fileComment);else{var Rr=this.findExtraFieldUnicodePath();if(Rr!==null)this.fileNameStr=Rr;else{var Lr=gr.transformTo(Pr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Lr)}var Ir=this.findExtraFieldUnicodeComment();if(Ir!==null)this.fileCommentStr=Ir;else{var Nr=gr.transformTo(Pr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Nr)}}},findExtraFieldUnicodePath:function(){var Pr=this.extraFields[28789];if(Pr){var Rr=fr(Pr.value);return Rr.readInt(1)!==1||vr(this.fileName)!==Rr.readInt(4)?null:br.utf8decode(Rr.readData(Pr.length-5))}return null},findExtraFieldUnicodeComment:function(){var Pr=this.extraFields[25461];if(Pr){var Rr=fr(Pr.value);return Rr.readInt(1)!==1||vr(this.fileComment)!==Rr.readInt(4)?null:br.utf8decode(Rr.readData(Pr.length-5))}return null}},pr.exports=Cr},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ur,pr,mr){function fr(Rr,Lr,Ir){this.name=Rr,this.dir=Ir.dir,this.date=Ir.date,this.comment=Ir.comment,this.unixPermissions=Ir.unixPermissions,this.dosPermissions=Ir.dosPermissions,this._data=Lr,this._dataBinary=Ir.binary,this.options={compression:Ir.compression,compressionOptions:Ir.compressionOptions}}var gr=ur("./stream/StreamHelper"),yr=ur("./stream/DataWorker"),vr=ur("./utf8"),br=ur("./compressedObject"),Sr=ur("./stream/GenericWorker");fr.prototype={internalStream:function(Rr){var Lr=null,Ir="string";try{if(!Rr)throw new Error("No output type specified.");var Nr=(Ir=Rr.toLowerCase())==="string"||Ir==="text";Ir!=="binarystring"&&Ir!=="text"||(Ir="string"),Lr=this._decompressWorker();var Ar=!this._dataBinary;Ar&&!Nr&&(Lr=Lr.pipe(new vr.Utf8EncodeWorker)),!Ar&&Nr&&(Lr=Lr.pipe(new vr.Utf8DecodeWorker))}catch(Dr){(Lr=new Sr("error")).error(Dr)}return new gr(Lr,Ir,"")},async:function(Rr,Lr){return this.internalStream(Rr).accumulate(Lr)},nodeStream:function(Rr,Lr){return this.internalStream(Rr||"nodebuffer").toNodejsStream(Lr)},_compressWorker:function(Rr,Lr){if(this._data instanceof br&&this._data.compression.magic===Rr.magic)return this._data.getCompressedWorker();var Ir=this._decompressWorker();return this._dataBinary||(Ir=Ir.pipe(new vr.Utf8EncodeWorker)),br.createWorkerFrom(Ir,Rr,Lr)},_decompressWorker:function(){return this._data instanceof br?this._data.getContentWorker():this._data instanceof Sr?this._data:new yr(this._data)}};for(var jr=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Cr=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Pr=0;Pr<jr.length;Pr++)fr.prototype[jr[Pr]]=Cr;pr.exports=fr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ur,pr,mr){(function(fr){var gr,yr,vr=fr.MutationObserver||fr.WebKitMutationObserver;if(vr){var br=0,Sr=new vr(Rr),jr=fr.document.createTextNode("");Sr.observe(jr,{characterData:!0}),gr=function(){jr.data=br=++br%2}}else if(fr.setImmediate||fr.MessageChannel===void 0)gr="document"in fr&&"onreadystatechange"in fr.document.createElement("script")?function(){var Lr=fr.document.createElement("script");Lr.onreadystatechange=function(){Rr(),Lr.onreadystatechange=null,Lr.parentNode.removeChild(Lr),Lr=null},fr.document.documentElement.appendChild(Lr)}:function(){setTimeout(Rr,0)};else{var Cr=new fr.MessageChannel;Cr.port1.onmessage=Rr,gr=function(){Cr.port2.postMessage(0)}}var Pr=[];function Rr(){var Lr,Ir;yr=!0;for(var Nr=Pr.length;Nr;){for(Ir=Pr,Pr=[],Lr=-1;++Lr<Nr;)Ir[Lr]();Nr=Pr.length}yr=!1}pr.exports=function(Lr){Pr.push(Lr)!==1||yr||gr()}}).call(this,sr!==void 0?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ur,pr,mr){var fr=ur("immediate");function gr(){}var yr={},vr=["REJECTED"],br=["FULFILLED"],Sr=["PENDING"];function jr(Nr){if(typeof Nr!="function")throw new TypeError("resolver must be a function");this.state=Sr,this.queue=[],this.outcome=void 0,Nr!==gr&&Lr(this,Nr)}function Cr(Nr,Ar,Dr){this.promise=Nr,typeof Ar=="function"&&(this.onFulfilled=Ar,this.callFulfilled=this.otherCallFulfilled),typeof Dr=="function"&&(this.onRejected=Dr,this.callRejected=this.otherCallRejected)}function Pr(Nr,Ar,Dr){fr(function(){var Tr;try{Tr=Ar(Dr)}catch(_r){return yr.reject(Nr,_r)}Tr===Nr?yr.reject(Nr,new TypeError("Cannot resolve promise with itself")):yr.resolve(Nr,Tr)})}function Rr(Nr){var Ar=Nr&&Nr.then;if(Nr&&(typeof Nr=="object"||typeof Nr=="function")&&typeof Ar=="function")return function(){Ar.apply(Nr,arguments)}}function Lr(Nr,Ar){var Dr=!1;function Tr(Er){Dr||(Dr=!0,yr.reject(Nr,Er))}function _r(Er){Dr||(Dr=!0,yr.resolve(Nr,Er))}var wr=Ir(function(){Ar(_r,Tr)});wr.status==="error"&&Tr(wr.value)}function Ir(Nr,Ar){var Dr={};try{Dr.value=Nr(Ar),Dr.status="success"}catch(Tr){Dr.status="error",Dr.value=Tr}return Dr}(pr.exports=jr).prototype.finally=function(Nr){if(typeof Nr!="function")return this;var Ar=this.constructor;return this.then(function(Dr){return Ar.resolve(Nr()).then(function(){return Dr})},function(Dr){return Ar.resolve(Nr()).then(function(){throw Dr})})},jr.prototype.catch=function(Nr){return this.then(null,Nr)},jr.prototype.then=function(Nr,Ar){if(typeof Nr!="function"&&this.state===br||typeof Ar!="function"&&this.state===vr)return this;var Dr=new this.constructor(gr);return this.state!==Sr?Pr(Dr,this.state===br?Nr:Ar,this.outcome):this.queue.push(new Cr(Dr,Nr,Ar)),Dr},Cr.prototype.callFulfilled=function(Nr){yr.resolve(this.promise,Nr)},Cr.prototype.otherCallFulfilled=function(Nr){Pr(this.promise,this.onFulfilled,Nr)},Cr.prototype.callRejected=function(Nr){yr.reject(this.promise,Nr)},Cr.prototype.otherCallRejected=function(Nr){Pr(this.promise,this.onRejected,Nr)},yr.resolve=function(Nr,Ar){var Dr=Ir(Rr,Ar);if(Dr.status==="error")return yr.reject(Nr,Dr.value);var Tr=Dr.value;if(Tr)Lr(Nr,Tr);else{Nr.state=br,Nr.outcome=Ar;for(var _r=-1,wr=Nr.queue.length;++_r<wr;)Nr.queue[_r].callFulfilled(Ar)}return Nr},yr.reject=function(Nr,Ar){Nr.state=vr,Nr.outcome=Ar;for(var Dr=-1,Tr=Nr.queue.length;++Dr<Tr;)Nr.queue[Dr].callRejected(Ar);return Nr},jr.resolve=function(Nr){return Nr instanceof this?Nr:yr.resolve(new this(gr),Nr)},jr.reject=function(Nr){var Ar=new this(gr);return yr.reject(Ar,Nr)},jr.all=function(Nr){var Ar=this;if(Object.prototype.toString.call(Nr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Dr=Nr.length,Tr=!1;if(!Dr)return this.resolve([]);for(var _r=new Array(Dr),wr=0,Er=-1,xr=new this(gr);++Er<Dr;)Mr(Nr[Er],Er);return xr;function Mr(zr,Or){Ar.resolve(zr).then(function(Br){_r[Or]=Br,++wr!==Dr||Tr||(Tr=!0,yr.resolve(xr,_r))},function(Br){Tr||(Tr=!0,yr.reject(xr,Br))})}},jr.race=function(Nr){if(Object.prototype.toString.call(Nr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ar=Nr.length,Dr=!1;if(!Ar)return this.resolve([]);for(var Tr,_r=-1,wr=new this(gr);++_r<Ar;)Tr=Nr[_r],this.resolve(Tr).then(function(Er){Dr||(Dr=!0,yr.resolve(wr,Er))},function(Er){Dr||(Dr=!0,yr.reject(wr,Er))});return wr}},{immediate:36}],38:[function(ur,pr,mr){var fr={};(0,ur("./lib/utils/common").assign)(fr,ur("./lib/deflate"),ur("./lib/inflate"),ur("./lib/zlib/constants")),pr.exports=fr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ur,pr,mr){var fr=ur("./zlib/deflate"),gr=ur("./utils/common"),yr=ur("./utils/strings"),vr=ur("./zlib/messages"),br=ur("./zlib/zstream"),Sr=Object.prototype.toString;function jr(Pr){if(!(this instanceof jr))return new jr(Pr);this.options=gr.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},Pr||{});var Rr=this.options;Rr.raw&&0<Rr.windowBits?Rr.windowBits=-Rr.windowBits:Rr.gzip&&0<Rr.windowBits&&Rr.windowBits<16&&(Rr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new br,this.strm.avail_out=0;var Lr=fr.deflateInit2(this.strm,Rr.level,Rr.method,Rr.windowBits,Rr.memLevel,Rr.strategy);if(Lr!==0)throw new Error(vr[Lr]);if(Rr.header&&fr.deflateSetHeader(this.strm,Rr.header),Rr.dictionary){var Ir;if(Ir=typeof Rr.dictionary=="string"?yr.string2buf(Rr.dictionary):Sr.call(Rr.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Rr.dictionary):Rr.dictionary,(Lr=fr.deflateSetDictionary(this.strm,Ir))!==0)throw new Error(vr[Lr]);this._dict_set=!0}}function Cr(Pr,Rr){var Lr=new jr(Rr);if(Lr.push(Pr,!0),Lr.err)throw Lr.msg||vr[Lr.err];return Lr.result}jr.prototype.push=function(Pr,Rr){var Lr,Ir,Nr=this.strm,Ar=this.options.chunkSize;if(this.ended)return!1;Ir=Rr===~~Rr?Rr:Rr===!0?4:0,typeof Pr=="string"?Nr.input=yr.string2buf(Pr):Sr.call(Pr)==="[object ArrayBuffer]"?Nr.input=new Uint8Array(Pr):Nr.input=Pr,Nr.next_in=0,Nr.avail_in=Nr.input.length;do{if(Nr.avail_out===0&&(Nr.output=new gr.Buf8(Ar),Nr.next_out=0,Nr.avail_out=Ar),(Lr=fr.deflate(Nr,Ir))!==1&&Lr!==0)return this.onEnd(Lr),!(this.ended=!0);Nr.avail_out!==0&&(Nr.avail_in!==0||Ir!==4&&Ir!==2)||(this.options.to==="string"?this.onData(yr.buf2binstring(gr.shrinkBuf(Nr.output,Nr.next_out))):this.onData(gr.shrinkBuf(Nr.output,Nr.next_out)))}while((0<Nr.avail_in||Nr.avail_out===0)&&Lr!==1);return Ir===4?(Lr=fr.deflateEnd(this.strm),this.onEnd(Lr),this.ended=!0,Lr===0):Ir!==2||(this.onEnd(0),!(Nr.avail_out=0))},jr.prototype.onData=function(Pr){this.chunks.push(Pr)},jr.prototype.onEnd=function(Pr){Pr===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gr.flattenChunks(this.chunks)),this.chunks=[],this.err=Pr,this.msg=this.strm.msg},mr.Deflate=jr,mr.deflate=Cr,mr.deflateRaw=function(Pr,Rr){return(Rr=Rr||{}).raw=!0,Cr(Pr,Rr)},mr.gzip=function(Pr,Rr){return(Rr=Rr||{}).gzip=!0,Cr(Pr,Rr)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ur,pr,mr){var fr=ur("./zlib/inflate"),gr=ur("./utils/common"),yr=ur("./utils/strings"),vr=ur("./zlib/constants"),br=ur("./zlib/messages"),Sr=ur("./zlib/zstream"),jr=ur("./zlib/gzheader"),Cr=Object.prototype.toString;function Pr(Lr){if(!(this instanceof Pr))return new Pr(Lr);this.options=gr.assign({chunkSize:16384,windowBits:0,to:""},Lr||{});var Ir=this.options;Ir.raw&&0<=Ir.windowBits&&Ir.windowBits<16&&(Ir.windowBits=-Ir.windowBits,Ir.windowBits===0&&(Ir.windowBits=-15)),!(0<=Ir.windowBits&&Ir.windowBits<16)||Lr&&Lr.windowBits||(Ir.windowBits+=32),15<Ir.windowBits&&Ir.windowBits<48&&!(15&Ir.windowBits)&&(Ir.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sr,this.strm.avail_out=0;var Nr=fr.inflateInit2(this.strm,Ir.windowBits);if(Nr!==vr.Z_OK)throw new Error(br[Nr]);this.header=new jr,fr.inflateGetHeader(this.strm,this.header)}function Rr(Lr,Ir){var Nr=new Pr(Ir);if(Nr.push(Lr,!0),Nr.err)throw Nr.msg||br[Nr.err];return Nr.result}Pr.prototype.push=function(Lr,Ir){var Nr,Ar,Dr,Tr,_r,wr,Er=this.strm,xr=this.options.chunkSize,Mr=this.options.dictionary,zr=!1;if(this.ended)return!1;Ar=Ir===~~Ir?Ir:Ir===!0?vr.Z_FINISH:vr.Z_NO_FLUSH,typeof Lr=="string"?Er.input=yr.binstring2buf(Lr):Cr.call(Lr)==="[object ArrayBuffer]"?Er.input=new Uint8Array(Lr):Er.input=Lr,Er.next_in=0,Er.avail_in=Er.input.length;do{if(Er.avail_out===0&&(Er.output=new gr.Buf8(xr),Er.next_out=0,Er.avail_out=xr),(Nr=fr.inflate(Er,vr.Z_NO_FLUSH))===vr.Z_NEED_DICT&&Mr&&(wr=typeof Mr=="string"?yr.string2buf(Mr):Cr.call(Mr)==="[object ArrayBuffer]"?new Uint8Array(Mr):Mr,Nr=fr.inflateSetDictionary(this.strm,wr)),Nr===vr.Z_BUF_ERROR&&zr===!0&&(Nr=vr.Z_OK,zr=!1),Nr!==vr.Z_STREAM_END&&Nr!==vr.Z_OK)return this.onEnd(Nr),!(this.ended=!0);Er.next_out&&(Er.avail_out!==0&&Nr!==vr.Z_STREAM_END&&(Er.avail_in!==0||Ar!==vr.Z_FINISH&&Ar!==vr.Z_SYNC_FLUSH)||(this.options.to==="string"?(Dr=yr.utf8border(Er.output,Er.next_out),Tr=Er.next_out-Dr,_r=yr.buf2string(Er.output,Dr),Er.next_out=Tr,Er.avail_out=xr-Tr,Tr&&gr.arraySet(Er.output,Er.output,Dr,Tr,0),this.onData(_r)):this.onData(gr.shrinkBuf(Er.output,Er.next_out)))),Er.avail_in===0&&Er.avail_out===0&&(zr=!0)}while((0<Er.avail_in||Er.avail_out===0)&&Nr!==vr.Z_STREAM_END);return Nr===vr.Z_STREAM_END&&(Ar=vr.Z_FINISH),Ar===vr.Z_FINISH?(Nr=fr.inflateEnd(this.strm),this.onEnd(Nr),this.ended=!0,Nr===vr.Z_OK):Ar!==vr.Z_SYNC_FLUSH||(this.onEnd(vr.Z_OK),!(Er.avail_out=0))},Pr.prototype.onData=function(Lr){this.chunks.push(Lr)},Pr.prototype.onEnd=function(Lr){Lr===vr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gr.flattenChunks(this.chunks)),this.chunks=[],this.err=Lr,this.msg=this.strm.msg},mr.Inflate=Pr,mr.inflate=Rr,mr.inflateRaw=function(Lr,Ir){return(Ir=Ir||{}).raw=!0,Rr(Lr,Ir)},mr.ungzip=Rr},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ur,pr,mr){var fr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";mr.assign=function(vr){for(var br=Array.prototype.slice.call(arguments,1);br.length;){var Sr=br.shift();if(Sr){if(typeof Sr!="object")throw new TypeError(Sr+"must be non-object");for(var jr in Sr)Sr.hasOwnProperty(jr)&&(vr[jr]=Sr[jr])}}return vr},mr.shrinkBuf=function(vr,br){return vr.length===br?vr:vr.subarray?vr.subarray(0,br):(vr.length=br,vr)};var gr={arraySet:function(vr,br,Sr,jr,Cr){if(br.subarray&&vr.subarray)vr.set(br.subarray(Sr,Sr+jr),Cr);else for(var Pr=0;Pr<jr;Pr++)vr[Cr+Pr]=br[Sr+Pr]},flattenChunks:function(vr){var br,Sr,jr,Cr,Pr,Rr;for(br=jr=0,Sr=vr.length;br<Sr;br++)jr+=vr[br].length;for(Rr=new Uint8Array(jr),br=Cr=0,Sr=vr.length;br<Sr;br++)Pr=vr[br],Rr.set(Pr,Cr),Cr+=Pr.length;return Rr}},yr={arraySet:function(vr,br,Sr,jr,Cr){for(var Pr=0;Pr<jr;Pr++)vr[Cr+Pr]=br[Sr+Pr]},flattenChunks:function(vr){return[].concat.apply([],vr)}};mr.setTyped=function(vr){vr?(mr.Buf8=Uint8Array,mr.Buf16=Uint16Array,mr.Buf32=Int32Array,mr.assign(mr,gr)):(mr.Buf8=Array,mr.Buf16=Array,mr.Buf32=Array,mr.assign(mr,yr))},mr.setTyped(fr)},{}],42:[function(ur,pr,mr){var fr=ur("./common"),gr=!0,yr=!0;try{String.fromCharCode.apply(null,[0])}catch{gr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yr=!1}for(var vr=new fr.Buf8(256),br=0;br<256;br++)vr[br]=252<=br?6:248<=br?5:240<=br?4:224<=br?3:192<=br?2:1;function Sr(jr,Cr){if(Cr<65537&&(jr.subarray&&yr||!jr.subarray&&gr))return String.fromCharCode.apply(null,fr.shrinkBuf(jr,Cr));for(var Pr="",Rr=0;Rr<Cr;Rr++)Pr+=String.fromCharCode(jr[Rr]);return Pr}vr[254]=vr[254]=1,mr.string2buf=function(jr){var Cr,Pr,Rr,Lr,Ir,Nr=jr.length,Ar=0;for(Lr=0;Lr<Nr;Lr++)(64512&(Pr=jr.charCodeAt(Lr)))==55296&&Lr+1<Nr&&(64512&(Rr=jr.charCodeAt(Lr+1)))==56320&&(Pr=65536+(Pr-55296<<10)+(Rr-56320),Lr++),Ar+=Pr<128?1:Pr<2048?2:Pr<65536?3:4;for(Cr=new fr.Buf8(Ar),Lr=Ir=0;Ir<Ar;Lr++)(64512&(Pr=jr.charCodeAt(Lr)))==55296&&Lr+1<Nr&&(64512&(Rr=jr.charCodeAt(Lr+1)))==56320&&(Pr=65536+(Pr-55296<<10)+(Rr-56320),Lr++),Pr<128?Cr[Ir++]=Pr:(Pr<2048?Cr[Ir++]=192|Pr>>>6:(Pr<65536?Cr[Ir++]=224|Pr>>>12:(Cr[Ir++]=240|Pr>>>18,Cr[Ir++]=128|Pr>>>12&63),Cr[Ir++]=128|Pr>>>6&63),Cr[Ir++]=128|63&Pr);return Cr},mr.buf2binstring=function(jr){return Sr(jr,jr.length)},mr.binstring2buf=function(jr){for(var Cr=new fr.Buf8(jr.length),Pr=0,Rr=Cr.length;Pr<Rr;Pr++)Cr[Pr]=jr.charCodeAt(Pr);return Cr},mr.buf2string=function(jr,Cr){var Pr,Rr,Lr,Ir,Nr=Cr||jr.length,Ar=new Array(2*Nr);for(Pr=Rr=0;Pr<Nr;)if((Lr=jr[Pr++])<128)Ar[Rr++]=Lr;else if(4<(Ir=vr[Lr]))Ar[Rr++]=65533,Pr+=Ir-1;else{for(Lr&=Ir===2?31:Ir===3?15:7;1<Ir&&Pr<Nr;)Lr=Lr<<6|63&jr[Pr++],Ir--;1<Ir?Ar[Rr++]=65533:Lr<65536?Ar[Rr++]=Lr:(Lr-=65536,Ar[Rr++]=55296|Lr>>10&1023,Ar[Rr++]=56320|1023&Lr)}return Sr(Ar,Rr)},mr.utf8border=function(jr,Cr){var Pr;for((Cr=Cr||jr.length)>jr.length&&(Cr=jr.length),Pr=Cr-1;0<=Pr&&(192&jr[Pr])==128;)Pr--;return Pr<0||Pr===0?Cr:Pr+vr[jr[Pr]]>Cr?Pr:Cr}},{"./common":41}],43:[function(ur,pr,mr){pr.exports=function(fr,gr,yr,vr){for(var br=65535&fr|0,Sr=fr>>>16&65535|0,jr=0;yr!==0;){for(yr-=jr=2e3<yr?2e3:yr;Sr=Sr+(br=br+gr[vr++]|0)|0,--jr;);br%=65521,Sr%=65521}return br|Sr<<16|0}},{}],44:[function(ur,pr,mr){pr.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ur,pr,mr){var fr=function(){for(var gr,yr=[],vr=0;vr<256;vr++){gr=vr;for(var br=0;br<8;br++)gr=1&gr?3988292384^gr>>>1:gr>>>1;yr[vr]=gr}return yr}();pr.exports=function(gr,yr,vr,br){var Sr=fr,jr=br+vr;gr^=-1;for(var Cr=br;Cr<jr;Cr++)gr=gr>>>8^Sr[255&(gr^yr[Cr])];return-1^gr}},{}],46:[function(ur,pr,mr){var fr,gr=ur("../utils/common"),yr=ur("./trees"),vr=ur("./adler32"),br=ur("./crc32"),Sr=ur("./messages"),jr=-2,Cr=258,Pr=262,Rr=113;function Lr(Vr,Gr){return Vr.msg=Sr[Gr],Gr}function Ir(Vr){return(Vr<<1)-(4<Vr?9:0)}function Nr(Vr){for(var Gr=Vr.length;0<=--Gr;)Vr[Gr]=0}function Ar(Vr){var Gr=Vr.state,$r=Gr.pending;$r>Vr.avail_out&&($r=Vr.avail_out),$r!==0&&(gr.arraySet(Vr.output,Gr.pending_buf,Gr.pending_out,$r,Vr.next_out),Vr.next_out+=$r,Gr.pending_out+=$r,Vr.total_out+=$r,Vr.avail_out-=$r,Gr.pending-=$r,Gr.pending===0&&(Gr.pending_out=0))}function Dr(Vr,Gr){yr._tr_flush_block(Vr,0<=Vr.block_start?Vr.block_start:-1,Vr.strstart-Vr.block_start,Gr),Vr.block_start=Vr.strstart,Ar(Vr.strm)}function Tr(Vr,Gr){Vr.pending_buf[Vr.pending++]=Gr}function _r(Vr,Gr){Vr.pending_buf[Vr.pending++]=Gr>>>8&255,Vr.pending_buf[Vr.pending++]=255&Gr}function wr(Vr,Gr){var $r,Fr,Kr=Vr.max_chain_length,Zr=Vr.strstart,nn=Vr.prev_length,Qr=Vr.nice_match,cn=Vr.strstart>Vr.w_size-Pr?Vr.strstart-(Vr.w_size-Pr):0,dn=Vr.window,en=Vr.w_mask,an=Vr.prev,tn=Vr.strstart+Cr,sn=dn[Zr+nn-1],fn=dn[Zr+nn];Vr.prev_length>=Vr.good_match&&(Kr>>=2),Qr>Vr.lookahead&&(Qr=Vr.lookahead);do if(dn[($r=Gr)+nn]===fn&&dn[$r+nn-1]===sn&&dn[$r]===dn[Zr]&&dn[++$r]===dn[Zr+1]){Zr+=2,$r++;do;while(dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&dn[++Zr]===dn[++$r]&&Zr<tn);if(Fr=Cr-(tn-Zr),Zr=tn-Cr,nn<Fr){if(Vr.match_start=Gr,Qr<=(nn=Fr))break;sn=dn[Zr+nn-1],fn=dn[Zr+nn]}}while((Gr=an[Gr&en])>cn&&--Kr!=0);return nn<=Vr.lookahead?nn:Vr.lookahead}function Er(Vr){var Gr,$r,Fr,Kr,Zr,nn,Qr,cn,dn,en,an=Vr.w_size;do{if(Kr=Vr.window_size-Vr.lookahead-Vr.strstart,Vr.strstart>=an+(an-Pr)){for(gr.arraySet(Vr.window,Vr.window,an,an,0),Vr.match_start-=an,Vr.strstart-=an,Vr.block_start-=an,Gr=$r=Vr.hash_size;Fr=Vr.head[--Gr],Vr.head[Gr]=an<=Fr?Fr-an:0,--$r;);for(Gr=$r=an;Fr=Vr.prev[--Gr],Vr.prev[Gr]=an<=Fr?Fr-an:0,--$r;);Kr+=an}if(Vr.strm.avail_in===0)break;if(nn=Vr.strm,Qr=Vr.window,cn=Vr.strstart+Vr.lookahead,en=void 0,(dn=Kr)<(en=nn.avail_in)&&(en=dn),$r=en===0?0:(nn.avail_in-=en,gr.arraySet(Qr,nn.input,nn.next_in,en,cn),nn.state.wrap===1?nn.adler=vr(nn.adler,Qr,en,cn):nn.state.wrap===2&&(nn.adler=br(nn.adler,Qr,en,cn)),nn.next_in+=en,nn.total_in+=en,en),Vr.lookahead+=$r,Vr.lookahead+Vr.insert>=3)for(Zr=Vr.strstart-Vr.insert,Vr.ins_h=Vr.window[Zr],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Zr+1])&Vr.hash_mask;Vr.insert&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Zr+3-1])&Vr.hash_mask,Vr.prev[Zr&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Zr,Zr++,Vr.insert--,!(Vr.lookahead+Vr.insert<3)););}while(Vr.lookahead<Pr&&Vr.strm.avail_in!==0)}function xr(Vr,Gr){for(var $r,Fr;;){if(Vr.lookahead<Pr){if(Er(Vr),Vr.lookahead<Pr&&Gr===0)return 1;if(Vr.lookahead===0)break}if($r=0,Vr.lookahead>=3&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+3-1])&Vr.hash_mask,$r=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),$r!==0&&Vr.strstart-$r<=Vr.w_size-Pr&&(Vr.match_length=wr(Vr,$r)),Vr.match_length>=3)if(Fr=yr._tr_tally(Vr,Vr.strstart-Vr.match_start,Vr.match_length-3),Vr.lookahead-=Vr.match_length,Vr.match_length<=Vr.max_lazy_match&&Vr.lookahead>=3){for(Vr.match_length--;Vr.strstart++,Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+3-1])&Vr.hash_mask,$r=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart,--Vr.match_length!=0;);Vr.strstart++}else Vr.strstart+=Vr.match_length,Vr.match_length=0,Vr.ins_h=Vr.window[Vr.strstart],Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+1])&Vr.hash_mask;else Fr=yr._tr_tally(Vr,0,Vr.window[Vr.strstart]),Vr.lookahead--,Vr.strstart++;if(Fr&&(Dr(Vr,!1),Vr.strm.avail_out===0))return 1}return Vr.insert=Vr.strstart<2?Vr.strstart:2,Gr===4?(Dr(Vr,!0),Vr.strm.avail_out===0?3:4):Vr.last_lit&&(Dr(Vr,!1),Vr.strm.avail_out===0)?1:2}function Mr(Vr,Gr){for(var $r,Fr,Kr;;){if(Vr.lookahead<Pr){if(Er(Vr),Vr.lookahead<Pr&&Gr===0)return 1;if(Vr.lookahead===0)break}if($r=0,Vr.lookahead>=3&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+3-1])&Vr.hash_mask,$r=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),Vr.prev_length=Vr.match_length,Vr.prev_match=Vr.match_start,Vr.match_length=2,$r!==0&&Vr.prev_length<Vr.max_lazy_match&&Vr.strstart-$r<=Vr.w_size-Pr&&(Vr.match_length=wr(Vr,$r),Vr.match_length<=5&&(Vr.strategy===1||Vr.match_length===3&&4096<Vr.strstart-Vr.match_start)&&(Vr.match_length=2)),Vr.prev_length>=3&&Vr.match_length<=Vr.prev_length){for(Kr=Vr.strstart+Vr.lookahead-3,Fr=yr._tr_tally(Vr,Vr.strstart-1-Vr.prev_match,Vr.prev_length-3),Vr.lookahead-=Vr.prev_length-1,Vr.prev_length-=2;++Vr.strstart<=Kr&&(Vr.ins_h=(Vr.ins_h<<Vr.hash_shift^Vr.window[Vr.strstart+3-1])&Vr.hash_mask,$r=Vr.prev[Vr.strstart&Vr.w_mask]=Vr.head[Vr.ins_h],Vr.head[Vr.ins_h]=Vr.strstart),--Vr.prev_length!=0;);if(Vr.match_available=0,Vr.match_length=2,Vr.strstart++,Fr&&(Dr(Vr,!1),Vr.strm.avail_out===0))return 1}else if(Vr.match_available){if((Fr=yr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]))&&Dr(Vr,!1),Vr.strstart++,Vr.lookahead--,Vr.strm.avail_out===0)return 1}else Vr.match_available=1,Vr.strstart++,Vr.lookahead--}return Vr.match_available&&(Fr=yr._tr_tally(Vr,0,Vr.window[Vr.strstart-1]),Vr.match_available=0),Vr.insert=Vr.strstart<2?Vr.strstart:2,Gr===4?(Dr(Vr,!0),Vr.strm.avail_out===0?3:4):Vr.last_lit&&(Dr(Vr,!1),Vr.strm.avail_out===0)?1:2}function zr(Vr,Gr,$r,Fr,Kr){this.good_length=Vr,this.max_lazy=Gr,this.nice_length=$r,this.max_chain=Fr,this.func=Kr}function Or(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new gr.Buf16(1146),this.dyn_dtree=new gr.Buf16(122),this.bl_tree=new gr.Buf16(78),Nr(this.dyn_ltree),Nr(this.dyn_dtree),Nr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new gr.Buf16(16),this.heap=new gr.Buf16(573),Nr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new gr.Buf16(573),Nr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Br(Vr){var Gr;return Vr&&Vr.state?(Vr.total_in=Vr.total_out=0,Vr.data_type=2,(Gr=Vr.state).pending=0,Gr.pending_out=0,Gr.wrap<0&&(Gr.wrap=-Gr.wrap),Gr.status=Gr.wrap?42:Rr,Vr.adler=Gr.wrap===2?0:1,Gr.last_flush=0,yr._tr_init(Gr),0):Lr(Vr,jr)}function Ur(Vr){var Gr=Br(Vr);return Gr===0&&function($r){$r.window_size=2*$r.w_size,Nr($r.head),$r.max_lazy_match=fr[$r.level].max_lazy,$r.good_match=fr[$r.level].good_length,$r.nice_match=fr[$r.level].nice_length,$r.max_chain_length=fr[$r.level].max_chain,$r.strstart=0,$r.block_start=0,$r.lookahead=0,$r.insert=0,$r.match_length=$r.prev_length=2,$r.match_available=0,$r.ins_h=0}(Vr.state),Gr}function qr(Vr,Gr,$r,Fr,Kr,Zr){if(!Vr)return jr;var nn=1;if(Gr===-1&&(Gr=6),Fr<0?(nn=0,Fr=-Fr):15<Fr&&(nn=2,Fr-=16),Kr<1||9<Kr||$r!==8||Fr<8||15<Fr||Gr<0||9<Gr||Zr<0||4<Zr)return Lr(Vr,jr);Fr===8&&(Fr=9);var Qr=new Or;return(Vr.state=Qr).strm=Vr,Qr.wrap=nn,Qr.gzhead=null,Qr.w_bits=Fr,Qr.w_size=1<<Qr.w_bits,Qr.w_mask=Qr.w_size-1,Qr.hash_bits=Kr+7,Qr.hash_size=1<<Qr.hash_bits,Qr.hash_mask=Qr.hash_size-1,Qr.hash_shift=~~((Qr.hash_bits+3-1)/3),Qr.window=new gr.Buf8(2*Qr.w_size),Qr.head=new gr.Buf16(Qr.hash_size),Qr.prev=new gr.Buf16(Qr.w_size),Qr.lit_bufsize=1<<Kr+6,Qr.pending_buf_size=4*Qr.lit_bufsize,Qr.pending_buf=new gr.Buf8(Qr.pending_buf_size),Qr.d_buf=1*Qr.lit_bufsize,Qr.l_buf=3*Qr.lit_bufsize,Qr.level=Gr,Qr.strategy=Zr,Qr.method=$r,Ur(Vr)}fr=[new zr(0,0,0,0,function(Vr,Gr){var $r=65535;for($r>Vr.pending_buf_size-5&&($r=Vr.pending_buf_size-5);;){if(Vr.lookahead<=1){if(Er(Vr),Vr.lookahead===0&&Gr===0)return 1;if(Vr.lookahead===0)break}Vr.strstart+=Vr.lookahead,Vr.lookahead=0;var Fr=Vr.block_start+$r;if((Vr.strstart===0||Vr.strstart>=Fr)&&(Vr.lookahead=Vr.strstart-Fr,Vr.strstart=Fr,Dr(Vr,!1),Vr.strm.avail_out===0)||Vr.strstart-Vr.block_start>=Vr.w_size-Pr&&(Dr(Vr,!1),Vr.strm.avail_out===0))return 1}return Vr.insert=0,Gr===4?(Dr(Vr,!0),Vr.strm.avail_out===0?3:4):(Vr.strstart>Vr.block_start&&(Dr(Vr,!1),Vr.strm.avail_out),1)}),new zr(4,4,8,4,xr),new zr(4,5,16,8,xr),new zr(4,6,32,32,xr),new zr(4,4,16,16,Mr),new zr(8,16,32,32,Mr),new zr(8,16,128,128,Mr),new zr(8,32,128,256,Mr),new zr(32,128,258,1024,Mr),new zr(32,258,258,4096,Mr)],mr.deflateInit=function(Vr,Gr){return qr(Vr,Gr,8,15,8,0)},mr.deflateInit2=qr,mr.deflateReset=Ur,mr.deflateResetKeep=Br,mr.deflateSetHeader=function(Vr,Gr){return Vr&&Vr.state?Vr.state.wrap!==2?jr:(Vr.state.gzhead=Gr,0):jr},mr.deflate=function(Vr,Gr){var $r,Fr,Kr,Zr;if(!Vr||!Vr.state||5<Gr||Gr<0)return Vr?Lr(Vr,jr):jr;if(Fr=Vr.state,!Vr.output||!Vr.input&&Vr.avail_in!==0||Fr.status===666&&Gr!==4)return Lr(Vr,Vr.avail_out===0?-5:jr);if(Fr.strm=Vr,$r=Fr.last_flush,Fr.last_flush=Gr,Fr.status===42)if(Fr.wrap===2)Vr.adler=0,Tr(Fr,31),Tr(Fr,139),Tr(Fr,8),Fr.gzhead?(Tr(Fr,(Fr.gzhead.text?1:0)+(Fr.gzhead.hcrc?2:0)+(Fr.gzhead.extra?4:0)+(Fr.gzhead.name?8:0)+(Fr.gzhead.comment?16:0)),Tr(Fr,255&Fr.gzhead.time),Tr(Fr,Fr.gzhead.time>>8&255),Tr(Fr,Fr.gzhead.time>>16&255),Tr(Fr,Fr.gzhead.time>>24&255),Tr(Fr,Fr.level===9?2:2<=Fr.strategy||Fr.level<2?4:0),Tr(Fr,255&Fr.gzhead.os),Fr.gzhead.extra&&Fr.gzhead.extra.length&&(Tr(Fr,255&Fr.gzhead.extra.length),Tr(Fr,Fr.gzhead.extra.length>>8&255)),Fr.gzhead.hcrc&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending,0)),Fr.gzindex=0,Fr.status=69):(Tr(Fr,0),Tr(Fr,0),Tr(Fr,0),Tr(Fr,0),Tr(Fr,0),Tr(Fr,Fr.level===9?2:2<=Fr.strategy||Fr.level<2?4:0),Tr(Fr,3),Fr.status=Rr);else{var nn=8+(Fr.w_bits-8<<4)<<8;nn|=(2<=Fr.strategy||Fr.level<2?0:Fr.level<6?1:Fr.level===6?2:3)<<6,Fr.strstart!==0&&(nn|=32),nn+=31-nn%31,Fr.status=Rr,_r(Fr,nn),Fr.strstart!==0&&(_r(Fr,Vr.adler>>>16),_r(Fr,65535&Vr.adler)),Vr.adler=1}if(Fr.status===69)if(Fr.gzhead.extra){for(Kr=Fr.pending;Fr.gzindex<(65535&Fr.gzhead.extra.length)&&(Fr.pending!==Fr.pending_buf_size||(Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Ar(Vr),Kr=Fr.pending,Fr.pending!==Fr.pending_buf_size));)Tr(Fr,255&Fr.gzhead.extra[Fr.gzindex]),Fr.gzindex++;Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Fr.gzindex===Fr.gzhead.extra.length&&(Fr.gzindex=0,Fr.status=73)}else Fr.status=73;if(Fr.status===73)if(Fr.gzhead.name){Kr=Fr.pending;do{if(Fr.pending===Fr.pending_buf_size&&(Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Ar(Vr),Kr=Fr.pending,Fr.pending===Fr.pending_buf_size)){Zr=1;break}Zr=Fr.gzindex<Fr.gzhead.name.length?255&Fr.gzhead.name.charCodeAt(Fr.gzindex++):0,Tr(Fr,Zr)}while(Zr!==0);Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Zr===0&&(Fr.gzindex=0,Fr.status=91)}else Fr.status=91;if(Fr.status===91)if(Fr.gzhead.comment){Kr=Fr.pending;do{if(Fr.pending===Fr.pending_buf_size&&(Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Ar(Vr),Kr=Fr.pending,Fr.pending===Fr.pending_buf_size)){Zr=1;break}Zr=Fr.gzindex<Fr.gzhead.comment.length?255&Fr.gzhead.comment.charCodeAt(Fr.gzindex++):0,Tr(Fr,Zr)}while(Zr!==0);Fr.gzhead.hcrc&&Fr.pending>Kr&&(Vr.adler=br(Vr.adler,Fr.pending_buf,Fr.pending-Kr,Kr)),Zr===0&&(Fr.status=103)}else Fr.status=103;if(Fr.status===103&&(Fr.gzhead.hcrc?(Fr.pending+2>Fr.pending_buf_size&&Ar(Vr),Fr.pending+2<=Fr.pending_buf_size&&(Tr(Fr,255&Vr.adler),Tr(Fr,Vr.adler>>8&255),Vr.adler=0,Fr.status=Rr)):Fr.status=Rr),Fr.pending!==0){if(Ar(Vr),Vr.avail_out===0)return Fr.last_flush=-1,0}else if(Vr.avail_in===0&&Ir(Gr)<=Ir($r)&&Gr!==4)return Lr(Vr,-5);if(Fr.status===666&&Vr.avail_in!==0)return Lr(Vr,-5);if(Vr.avail_in!==0||Fr.lookahead!==0||Gr!==0&&Fr.status!==666){var Qr=Fr.strategy===2?function(cn,dn){for(var en;;){if(cn.lookahead===0&&(Er(cn),cn.lookahead===0)){if(dn===0)return 1;break}if(cn.match_length=0,en=yr._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++,en&&(Dr(cn,!1),cn.strm.avail_out===0))return 1}return cn.insert=0,dn===4?(Dr(cn,!0),cn.strm.avail_out===0?3:4):cn.last_lit&&(Dr(cn,!1),cn.strm.avail_out===0)?1:2}(Fr,Gr):Fr.strategy===3?function(cn,dn){for(var en,an,tn,sn,fn=cn.window;;){if(cn.lookahead<=Cr){if(Er(cn),cn.lookahead<=Cr&&dn===0)return 1;if(cn.lookahead===0)break}if(cn.match_length=0,cn.lookahead>=3&&0<cn.strstart&&(an=fn[tn=cn.strstart-1])===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]){sn=cn.strstart+Cr;do;while(an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&an===fn[++tn]&&tn<sn);cn.match_length=Cr-(sn-tn),cn.match_length>cn.lookahead&&(cn.match_length=cn.lookahead)}if(cn.match_length>=3?(en=yr._tr_tally(cn,1,cn.match_length-3),cn.lookahead-=cn.match_length,cn.strstart+=cn.match_length,cn.match_length=0):(en=yr._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++),en&&(Dr(cn,!1),cn.strm.avail_out===0))return 1}return cn.insert=0,dn===4?(Dr(cn,!0),cn.strm.avail_out===0?3:4):cn.last_lit&&(Dr(cn,!1),cn.strm.avail_out===0)?1:2}(Fr,Gr):fr[Fr.level].func(Fr,Gr);if(Qr!==3&&Qr!==4||(Fr.status=666),Qr===1||Qr===3)return Vr.avail_out===0&&(Fr.last_flush=-1),0;if(Qr===2&&(Gr===1?yr._tr_align(Fr):Gr!==5&&(yr._tr_stored_block(Fr,0,0,!1),Gr===3&&(Nr(Fr.head),Fr.lookahead===0&&(Fr.strstart=0,Fr.block_start=0,Fr.insert=0))),Ar(Vr),Vr.avail_out===0))return Fr.last_flush=-1,0}return Gr!==4?0:Fr.wrap<=0?1:(Fr.wrap===2?(Tr(Fr,255&Vr.adler),Tr(Fr,Vr.adler>>8&255),Tr(Fr,Vr.adler>>16&255),Tr(Fr,Vr.adler>>24&255),Tr(Fr,255&Vr.total_in),Tr(Fr,Vr.total_in>>8&255),Tr(Fr,Vr.total_in>>16&255),Tr(Fr,Vr.total_in>>24&255)):(_r(Fr,Vr.adler>>>16),_r(Fr,65535&Vr.adler)),Ar(Vr),0<Fr.wrap&&(Fr.wrap=-Fr.wrap),Fr.pending!==0?0:1)},mr.deflateEnd=function(Vr){var Gr;return Vr&&Vr.state?(Gr=Vr.state.status)!==42&&Gr!==69&&Gr!==73&&Gr!==91&&Gr!==103&&Gr!==Rr&&Gr!==666?Lr(Vr,jr):(Vr.state=null,Gr===Rr?Lr(Vr,-3):0):jr},mr.deflateSetDictionary=function(Vr,Gr){var $r,Fr,Kr,Zr,nn,Qr,cn,dn,en=Gr.length;if(!Vr||!Vr.state||(Zr=($r=Vr.state).wrap)===2||Zr===1&&$r.status!==42||$r.lookahead)return jr;for(Zr===1&&(Vr.adler=vr(Vr.adler,Gr,en,0)),$r.wrap=0,en>=$r.w_size&&(Zr===0&&(Nr($r.head),$r.strstart=0,$r.block_start=0,$r.insert=0),dn=new gr.Buf8($r.w_size),gr.arraySet(dn,Gr,en-$r.w_size,$r.w_size,0),Gr=dn,en=$r.w_size),nn=Vr.avail_in,Qr=Vr.next_in,cn=Vr.input,Vr.avail_in=en,Vr.next_in=0,Vr.input=Gr,Er($r);$r.lookahead>=3;){for(Fr=$r.strstart,Kr=$r.lookahead-2;$r.ins_h=($r.ins_h<<$r.hash_shift^$r.window[Fr+3-1])&$r.hash_mask,$r.prev[Fr&$r.w_mask]=$r.head[$r.ins_h],$r.head[$r.ins_h]=Fr,Fr++,--Kr;);$r.strstart=Fr,$r.lookahead=2,Er($r)}return $r.strstart+=$r.lookahead,$r.block_start=$r.strstart,$r.insert=$r.lookahead,$r.lookahead=0,$r.match_length=$r.prev_length=2,$r.match_available=0,Vr.next_in=Qr,Vr.input=cn,Vr.avail_in=nn,$r.wrap=Zr,0},mr.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ur,pr,mr){pr.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ur,pr,mr){pr.exports=function(fr,gr){var yr,vr,br,Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr,Mr,zr,Or,Br,Ur,qr,Vr;yr=fr.state,vr=fr.next_in,qr=fr.input,br=vr+(fr.avail_in-5),Sr=fr.next_out,Vr=fr.output,jr=Sr-(gr-fr.avail_out),Cr=Sr+(fr.avail_out-257),Pr=yr.dmax,Rr=yr.wsize,Lr=yr.whave,Ir=yr.wnext,Nr=yr.window,Ar=yr.hold,Dr=yr.bits,Tr=yr.lencode,_r=yr.distcode,wr=(1<<yr.lenbits)-1,Er=(1<<yr.distbits)-1;e:do{Dr<15&&(Ar+=qr[vr++]<<Dr,Dr+=8,Ar+=qr[vr++]<<Dr,Dr+=8),xr=Tr[Ar&wr];t:for(;;){if(Ar>>>=Mr=xr>>>24,Dr-=Mr,(Mr=xr>>>16&255)==0)Vr[Sr++]=65535&xr;else{if(!(16&Mr)){if(!(64&Mr)){xr=Tr[(65535&xr)+(Ar&(1<<Mr)-1)];continue t}if(32&Mr){yr.mode=12;break e}fr.msg="invalid literal/length code",yr.mode=30;break e}zr=65535&xr,(Mr&=15)&&(Dr<Mr&&(Ar+=qr[vr++]<<Dr,Dr+=8),zr+=Ar&(1<<Mr)-1,Ar>>>=Mr,Dr-=Mr),Dr<15&&(Ar+=qr[vr++]<<Dr,Dr+=8,Ar+=qr[vr++]<<Dr,Dr+=8),xr=_r[Ar&Er];r:for(;;){if(Ar>>>=Mr=xr>>>24,Dr-=Mr,!(16&(Mr=xr>>>16&255))){if(!(64&Mr)){xr=_r[(65535&xr)+(Ar&(1<<Mr)-1)];continue r}fr.msg="invalid distance code",yr.mode=30;break e}if(Or=65535&xr,Dr<(Mr&=15)&&(Ar+=qr[vr++]<<Dr,(Dr+=8)<Mr&&(Ar+=qr[vr++]<<Dr,Dr+=8)),Pr<(Or+=Ar&(1<<Mr)-1)){fr.msg="invalid distance too far back",yr.mode=30;break e}if(Ar>>>=Mr,Dr-=Mr,(Mr=Sr-jr)<Or){if(Lr<(Mr=Or-Mr)&&yr.sane){fr.msg="invalid distance too far back",yr.mode=30;break e}if(Ur=Nr,(Br=0)===Ir){if(Br+=Rr-Mr,Mr<zr){for(zr-=Mr;Vr[Sr++]=Nr[Br++],--Mr;);Br=Sr-Or,Ur=Vr}}else if(Ir<Mr){if(Br+=Rr+Ir-Mr,(Mr-=Ir)<zr){for(zr-=Mr;Vr[Sr++]=Nr[Br++],--Mr;);if(Br=0,Ir<zr){for(zr-=Mr=Ir;Vr[Sr++]=Nr[Br++],--Mr;);Br=Sr-Or,Ur=Vr}}}else if(Br+=Ir-Mr,Mr<zr){for(zr-=Mr;Vr[Sr++]=Nr[Br++],--Mr;);Br=Sr-Or,Ur=Vr}for(;2<zr;)Vr[Sr++]=Ur[Br++],Vr[Sr++]=Ur[Br++],Vr[Sr++]=Ur[Br++],zr-=3;zr&&(Vr[Sr++]=Ur[Br++],1<zr&&(Vr[Sr++]=Ur[Br++]))}else{for(Br=Sr-Or;Vr[Sr++]=Vr[Br++],Vr[Sr++]=Vr[Br++],Vr[Sr++]=Vr[Br++],2<(zr-=3););zr&&(Vr[Sr++]=Vr[Br++],1<zr&&(Vr[Sr++]=Vr[Br++]))}break}}break}}while(vr<br&&Sr<Cr);vr-=zr=Dr>>3,Ar&=(1<<(Dr-=zr<<3))-1,fr.next_in=vr,fr.next_out=Sr,fr.avail_in=vr<br?br-vr+5:5-(vr-br),fr.avail_out=Sr<Cr?Cr-Sr+257:257-(Sr-Cr),yr.hold=Ar,yr.bits=Dr}},{}],49:[function(ur,pr,mr){var fr=ur("../utils/common"),gr=ur("./adler32"),yr=ur("./crc32"),vr=ur("./inffast"),br=ur("./inftrees"),Sr=-2;function jr(wr){return(wr>>>24&255)+(wr>>>8&65280)+((65280&wr)<<8)+((255&wr)<<24)}function Cr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new fr.Buf16(320),this.work=new fr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Pr(wr){var Er;return wr&&wr.state?(Er=wr.state,wr.total_in=wr.total_out=Er.total=0,wr.msg="",Er.wrap&&(wr.adler=1&Er.wrap),Er.mode=1,Er.last=0,Er.havedict=0,Er.dmax=32768,Er.head=null,Er.hold=0,Er.bits=0,Er.lencode=Er.lendyn=new fr.Buf32(852),Er.distcode=Er.distdyn=new fr.Buf32(592),Er.sane=1,Er.back=-1,0):Sr}function Rr(wr){var Er;return wr&&wr.state?((Er=wr.state).wsize=0,Er.whave=0,Er.wnext=0,Pr(wr)):Sr}function Lr(wr,Er){var xr,Mr;return wr&&wr.state?(Mr=wr.state,Er<0?(xr=0,Er=-Er):(xr=1+(Er>>4),Er<48&&(Er&=15)),Er&&(Er<8||15<Er)?Sr:(Mr.window!==null&&Mr.wbits!==Er&&(Mr.window=null),Mr.wrap=xr,Mr.wbits=Er,Rr(wr))):Sr}function Ir(wr,Er){var xr,Mr;return wr?(Mr=new Cr,(wr.state=Mr).window=null,(xr=Lr(wr,Er))!==0&&(wr.state=null),xr):Sr}var Nr,Ar,Dr=!0;function Tr(wr){if(Dr){var Er;for(Nr=new fr.Buf32(512),Ar=new fr.Buf32(32),Er=0;Er<144;)wr.lens[Er++]=8;for(;Er<256;)wr.lens[Er++]=9;for(;Er<280;)wr.lens[Er++]=7;for(;Er<288;)wr.lens[Er++]=8;for(br(1,wr.lens,0,288,Nr,0,wr.work,{bits:9}),Er=0;Er<32;)wr.lens[Er++]=5;br(2,wr.lens,0,32,Ar,0,wr.work,{bits:5}),Dr=!1}wr.lencode=Nr,wr.lenbits=9,wr.distcode=Ar,wr.distbits=5}function _r(wr,Er,xr,Mr){var zr,Or=wr.state;return Or.window===null&&(Or.wsize=1<<Or.wbits,Or.wnext=0,Or.whave=0,Or.window=new fr.Buf8(Or.wsize)),Mr>=Or.wsize?(fr.arraySet(Or.window,Er,xr-Or.wsize,Or.wsize,0),Or.wnext=0,Or.whave=Or.wsize):(Mr<(zr=Or.wsize-Or.wnext)&&(zr=Mr),fr.arraySet(Or.window,Er,xr-Mr,zr,Or.wnext),(Mr-=zr)?(fr.arraySet(Or.window,Er,xr-Mr,Mr,0),Or.wnext=Mr,Or.whave=Or.wsize):(Or.wnext+=zr,Or.wnext===Or.wsize&&(Or.wnext=0),Or.whave<Or.wsize&&(Or.whave+=zr))),0}mr.inflateReset=Rr,mr.inflateReset2=Lr,mr.inflateResetKeep=Pr,mr.inflateInit=function(wr){return Ir(wr,15)},mr.inflateInit2=Ir,mr.inflate=function(wr,Er){var xr,Mr,zr,Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr,nn,Qr,cn,dn,en,an,tn,sn,fn,pn,yn,Cn=0,Rn=new fr.Buf8(4),En=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wr||!wr.state||!wr.output||!wr.input&&wr.avail_in!==0)return Sr;(xr=wr.state).mode===12&&(xr.mode=13),Br=wr.next_out,zr=wr.output,qr=wr.avail_out,Or=wr.next_in,Mr=wr.input,Ur=wr.avail_in,Vr=xr.hold,Gr=xr.bits,$r=Ur,Fr=qr,fn=0;e:for(;;)switch(xr.mode){case 1:if(xr.wrap===0){xr.mode=13;break}for(;Gr<16;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(2&xr.wrap&&Vr===35615){Rn[xr.check=0]=255&Vr,Rn[1]=Vr>>>8&255,xr.check=yr(xr.check,Rn,2,0),Gr=Vr=0,xr.mode=2;break}if(xr.flags=0,xr.head&&(xr.head.done=!1),!(1&xr.wrap)||(((255&Vr)<<8)+(Vr>>8))%31){wr.msg="incorrect header check",xr.mode=30;break}if((15&Vr)!=8){wr.msg="unknown compression method",xr.mode=30;break}if(Gr-=4,sn=8+(15&(Vr>>>=4)),xr.wbits===0)xr.wbits=sn;else if(sn>xr.wbits){wr.msg="invalid window size",xr.mode=30;break}xr.dmax=1<<sn,wr.adler=xr.check=1,xr.mode=512&Vr?10:12,Gr=Vr=0;break;case 2:for(;Gr<16;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(xr.flags=Vr,(255&xr.flags)!=8){wr.msg="unknown compression method",xr.mode=30;break}if(57344&xr.flags){wr.msg="unknown header flags set",xr.mode=30;break}xr.head&&(xr.head.text=Vr>>8&1),512&xr.flags&&(Rn[0]=255&Vr,Rn[1]=Vr>>>8&255,xr.check=yr(xr.check,Rn,2,0)),Gr=Vr=0,xr.mode=3;case 3:for(;Gr<32;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.head&&(xr.head.time=Vr),512&xr.flags&&(Rn[0]=255&Vr,Rn[1]=Vr>>>8&255,Rn[2]=Vr>>>16&255,Rn[3]=Vr>>>24&255,xr.check=yr(xr.check,Rn,4,0)),Gr=Vr=0,xr.mode=4;case 4:for(;Gr<16;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.head&&(xr.head.xflags=255&Vr,xr.head.os=Vr>>8),512&xr.flags&&(Rn[0]=255&Vr,Rn[1]=Vr>>>8&255,xr.check=yr(xr.check,Rn,2,0)),Gr=Vr=0,xr.mode=5;case 5:if(1024&xr.flags){for(;Gr<16;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.length=Vr,xr.head&&(xr.head.extra_len=Vr),512&xr.flags&&(Rn[0]=255&Vr,Rn[1]=Vr>>>8&255,xr.check=yr(xr.check,Rn,2,0)),Gr=Vr=0}else xr.head&&(xr.head.extra=null);xr.mode=6;case 6:if(1024&xr.flags&&(Ur<(Kr=xr.length)&&(Kr=Ur),Kr&&(xr.head&&(sn=xr.head.extra_len-xr.length,xr.head.extra||(xr.head.extra=new Array(xr.head.extra_len)),fr.arraySet(xr.head.extra,Mr,Or,Kr,sn)),512&xr.flags&&(xr.check=yr(xr.check,Mr,Kr,Or)),Ur-=Kr,Or+=Kr,xr.length-=Kr),xr.length))break e;xr.length=0,xr.mode=7;case 7:if(2048&xr.flags){if(Ur===0)break e;for(Kr=0;sn=Mr[Or+Kr++],xr.head&&sn&&xr.length<65536&&(xr.head.name+=String.fromCharCode(sn)),sn&&Kr<Ur;);if(512&xr.flags&&(xr.check=yr(xr.check,Mr,Kr,Or)),Ur-=Kr,Or+=Kr,sn)break e}else xr.head&&(xr.head.name=null);xr.length=0,xr.mode=8;case 8:if(4096&xr.flags){if(Ur===0)break e;for(Kr=0;sn=Mr[Or+Kr++],xr.head&&sn&&xr.length<65536&&(xr.head.comment+=String.fromCharCode(sn)),sn&&Kr<Ur;);if(512&xr.flags&&(xr.check=yr(xr.check,Mr,Kr,Or)),Ur-=Kr,Or+=Kr,sn)break e}else xr.head&&(xr.head.comment=null);xr.mode=9;case 9:if(512&xr.flags){for(;Gr<16;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(Vr!==(65535&xr.check)){wr.msg="header crc mismatch",xr.mode=30;break}Gr=Vr=0}xr.head&&(xr.head.hcrc=xr.flags>>9&1,xr.head.done=!0),wr.adler=xr.check=0,xr.mode=12;break;case 10:for(;Gr<32;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}wr.adler=xr.check=jr(Vr),Gr=Vr=0,xr.mode=11;case 11:if(xr.havedict===0)return wr.next_out=Br,wr.avail_out=qr,wr.next_in=Or,wr.avail_in=Ur,xr.hold=Vr,xr.bits=Gr,2;wr.adler=xr.check=1,xr.mode=12;case 12:if(Er===5||Er===6)break e;case 13:if(xr.last){Vr>>>=7&Gr,Gr-=7&Gr,xr.mode=27;break}for(;Gr<3;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}switch(xr.last=1&Vr,Gr-=1,3&(Vr>>>=1)){case 0:xr.mode=14;break;case 1:if(Tr(xr),xr.mode=20,Er!==6)break;Vr>>>=2,Gr-=2;break e;case 2:xr.mode=17;break;case 3:wr.msg="invalid block type",xr.mode=30}Vr>>>=2,Gr-=2;break;case 14:for(Vr>>>=7&Gr,Gr-=7&Gr;Gr<32;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if((65535&Vr)!=(Vr>>>16^65535)){wr.msg="invalid stored block lengths",xr.mode=30;break}if(xr.length=65535&Vr,Gr=Vr=0,xr.mode=15,Er===6)break e;case 15:xr.mode=16;case 16:if(Kr=xr.length){if(Ur<Kr&&(Kr=Ur),qr<Kr&&(Kr=qr),Kr===0)break e;fr.arraySet(zr,Mr,Or,Kr,Br),Ur-=Kr,Or+=Kr,qr-=Kr,Br+=Kr,xr.length-=Kr;break}xr.mode=12;break;case 17:for(;Gr<14;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(xr.nlen=257+(31&Vr),Vr>>>=5,Gr-=5,xr.ndist=1+(31&Vr),Vr>>>=5,Gr-=5,xr.ncode=4+(15&Vr),Vr>>>=4,Gr-=4,286<xr.nlen||30<xr.ndist){wr.msg="too many length or distance symbols",xr.mode=30;break}xr.have=0,xr.mode=18;case 18:for(;xr.have<xr.ncode;){for(;Gr<3;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.lens[En[xr.have++]]=7&Vr,Vr>>>=3,Gr-=3}for(;xr.have<19;)xr.lens[En[xr.have++]]=0;if(xr.lencode=xr.lendyn,xr.lenbits=7,pn={bits:xr.lenbits},fn=br(0,xr.lens,0,19,xr.lencode,0,xr.work,pn),xr.lenbits=pn.bits,fn){wr.msg="invalid code lengths set",xr.mode=30;break}xr.have=0,xr.mode=19;case 19:for(;xr.have<xr.nlen+xr.ndist;){for(;cn=(Cn=xr.lencode[Vr&(1<<xr.lenbits)-1])>>>16&255,dn=65535&Cn,!((Qr=Cn>>>24)<=Gr);){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(dn<16)Vr>>>=Qr,Gr-=Qr,xr.lens[xr.have++]=dn;else{if(dn===16){for(yn=Qr+2;Gr<yn;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(Vr>>>=Qr,Gr-=Qr,xr.have===0){wr.msg="invalid bit length repeat",xr.mode=30;break}sn=xr.lens[xr.have-1],Kr=3+(3&Vr),Vr>>>=2,Gr-=2}else if(dn===17){for(yn=Qr+3;Gr<yn;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}Gr-=Qr,sn=0,Kr=3+(7&(Vr>>>=Qr)),Vr>>>=3,Gr-=3}else{for(yn=Qr+7;Gr<yn;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}Gr-=Qr,sn=0,Kr=11+(127&(Vr>>>=Qr)),Vr>>>=7,Gr-=7}if(xr.have+Kr>xr.nlen+xr.ndist){wr.msg="invalid bit length repeat",xr.mode=30;break}for(;Kr--;)xr.lens[xr.have++]=sn}}if(xr.mode===30)break;if(xr.lens[256]===0){wr.msg="invalid code -- missing end-of-block",xr.mode=30;break}if(xr.lenbits=9,pn={bits:xr.lenbits},fn=br(1,xr.lens,0,xr.nlen,xr.lencode,0,xr.work,pn),xr.lenbits=pn.bits,fn){wr.msg="invalid literal/lengths set",xr.mode=30;break}if(xr.distbits=6,xr.distcode=xr.distdyn,pn={bits:xr.distbits},fn=br(2,xr.lens,xr.nlen,xr.ndist,xr.distcode,0,xr.work,pn),xr.distbits=pn.bits,fn){wr.msg="invalid distances set",xr.mode=30;break}if(xr.mode=20,Er===6)break e;case 20:xr.mode=21;case 21:if(6<=Ur&&258<=qr){wr.next_out=Br,wr.avail_out=qr,wr.next_in=Or,wr.avail_in=Ur,xr.hold=Vr,xr.bits=Gr,vr(wr,Fr),Br=wr.next_out,zr=wr.output,qr=wr.avail_out,Or=wr.next_in,Mr=wr.input,Ur=wr.avail_in,Vr=xr.hold,Gr=xr.bits,xr.mode===12&&(xr.back=-1);break}for(xr.back=0;cn=(Cn=xr.lencode[Vr&(1<<xr.lenbits)-1])>>>16&255,dn=65535&Cn,!((Qr=Cn>>>24)<=Gr);){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(cn&&!(240&cn)){for(en=Qr,an=cn,tn=dn;cn=(Cn=xr.lencode[tn+((Vr&(1<<en+an)-1)>>en)])>>>16&255,dn=65535&Cn,!(en+(Qr=Cn>>>24)<=Gr);){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}Vr>>>=en,Gr-=en,xr.back+=en}if(Vr>>>=Qr,Gr-=Qr,xr.back+=Qr,xr.length=dn,cn===0){xr.mode=26;break}if(32&cn){xr.back=-1,xr.mode=12;break}if(64&cn){wr.msg="invalid literal/length code",xr.mode=30;break}xr.extra=15&cn,xr.mode=22;case 22:if(xr.extra){for(yn=xr.extra;Gr<yn;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.length+=Vr&(1<<xr.extra)-1,Vr>>>=xr.extra,Gr-=xr.extra,xr.back+=xr.extra}xr.was=xr.length,xr.mode=23;case 23:for(;cn=(Cn=xr.distcode[Vr&(1<<xr.distbits)-1])>>>16&255,dn=65535&Cn,!((Qr=Cn>>>24)<=Gr);){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(!(240&cn)){for(en=Qr,an=cn,tn=dn;cn=(Cn=xr.distcode[tn+((Vr&(1<<en+an)-1)>>en)])>>>16&255,dn=65535&Cn,!(en+(Qr=Cn>>>24)<=Gr);){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}Vr>>>=en,Gr-=en,xr.back+=en}if(Vr>>>=Qr,Gr-=Qr,xr.back+=Qr,64&cn){wr.msg="invalid distance code",xr.mode=30;break}xr.offset=dn,xr.extra=15&cn,xr.mode=24;case 24:if(xr.extra){for(yn=xr.extra;Gr<yn;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}xr.offset+=Vr&(1<<xr.extra)-1,Vr>>>=xr.extra,Gr-=xr.extra,xr.back+=xr.extra}if(xr.offset>xr.dmax){wr.msg="invalid distance too far back",xr.mode=30;break}xr.mode=25;case 25:if(qr===0)break e;if(Kr=Fr-qr,xr.offset>Kr){if((Kr=xr.offset-Kr)>xr.whave&&xr.sane){wr.msg="invalid distance too far back",xr.mode=30;break}Zr=Kr>xr.wnext?(Kr-=xr.wnext,xr.wsize-Kr):xr.wnext-Kr,Kr>xr.length&&(Kr=xr.length),nn=xr.window}else nn=zr,Zr=Br-xr.offset,Kr=xr.length;for(qr<Kr&&(Kr=qr),qr-=Kr,xr.length-=Kr;zr[Br++]=nn[Zr++],--Kr;);xr.length===0&&(xr.mode=21);break;case 26:if(qr===0)break e;zr[Br++]=xr.length,qr--,xr.mode=21;break;case 27:if(xr.wrap){for(;Gr<32;){if(Ur===0)break e;Ur--,Vr|=Mr[Or++]<<Gr,Gr+=8}if(Fr-=qr,wr.total_out+=Fr,xr.total+=Fr,Fr&&(wr.adler=xr.check=xr.flags?yr(xr.check,zr,Fr,Br-Fr):gr(xr.check,zr,Fr,Br-Fr)),Fr=qr,(xr.flags?Vr:jr(Vr))!==xr.check){wr.msg="incorrect data check",xr.mode=30;break}Gr=Vr=0}xr.mode=28;case 28:if(xr.wrap&&xr.flags){for(;Gr<32;){if(Ur===0)break e;Ur--,Vr+=Mr[Or++]<<Gr,Gr+=8}if(Vr!==(4294967295&xr.total)){wr.msg="incorrect length check",xr.mode=30;break}Gr=Vr=0}xr.mode=29;case 29:fn=1;break e;case 30:fn=-3;break e;case 31:return-4;case 32:default:return Sr}return wr.next_out=Br,wr.avail_out=qr,wr.next_in=Or,wr.avail_in=Ur,xr.hold=Vr,xr.bits=Gr,(xr.wsize||Fr!==wr.avail_out&&xr.mode<30&&(xr.mode<27||Er!==4))&&_r(wr,wr.output,wr.next_out,Fr-wr.avail_out)?(xr.mode=31,-4):($r-=wr.avail_in,Fr-=wr.avail_out,wr.total_in+=$r,wr.total_out+=Fr,xr.total+=Fr,xr.wrap&&Fr&&(wr.adler=xr.check=xr.flags?yr(xr.check,zr,Fr,wr.next_out-Fr):gr(xr.check,zr,Fr,wr.next_out-Fr)),wr.data_type=xr.bits+(xr.last?64:0)+(xr.mode===12?128:0)+(xr.mode===20||xr.mode===15?256:0),($r==0&&Fr===0||Er===4)&&fn===0&&(fn=-5),fn)},mr.inflateEnd=function(wr){if(!wr||!wr.state)return Sr;var Er=wr.state;return Er.window&&(Er.window=null),wr.state=null,0},mr.inflateGetHeader=function(wr,Er){var xr;return wr&&wr.state&&2&(xr=wr.state).wrap?((xr.head=Er).done=!1,0):Sr},mr.inflateSetDictionary=function(wr,Er){var xr,Mr=Er.length;return wr&&wr.state?(xr=wr.state).wrap!==0&&xr.mode!==11?Sr:xr.mode===11&&gr(1,Er,Mr,0)!==xr.check?-3:_r(wr,Er,Mr,Mr)?(xr.mode=31,-4):(xr.havedict=1,0):Sr},mr.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ur,pr,mr){var fr=ur("../utils/common"),gr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],vr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],br=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];pr.exports=function(Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr){var Ar,Dr,Tr,_r,wr,Er,xr,Mr,zr,Or=Nr.bits,Br=0,Ur=0,qr=0,Vr=0,Gr=0,$r=0,Fr=0,Kr=0,Zr=0,nn=0,Qr=null,cn=0,dn=new fr.Buf16(16),en=new fr.Buf16(16),an=null,tn=0;for(Br=0;Br<=15;Br++)dn[Br]=0;for(Ur=0;Ur<Pr;Ur++)dn[jr[Cr+Ur]]++;for(Gr=Or,Vr=15;1<=Vr&&dn[Vr]===0;Vr--);if(Vr<Gr&&(Gr=Vr),Vr===0)return Rr[Lr++]=20971520,Rr[Lr++]=20971520,Nr.bits=1,0;for(qr=1;qr<Vr&&dn[qr]===0;qr++);for(Gr<qr&&(Gr=qr),Br=Kr=1;Br<=15;Br++)if(Kr<<=1,(Kr-=dn[Br])<0)return-1;if(0<Kr&&(Sr===0||Vr!==1))return-1;for(en[1]=0,Br=1;Br<15;Br++)en[Br+1]=en[Br]+dn[Br];for(Ur=0;Ur<Pr;Ur++)jr[Cr+Ur]!==0&&(Ir[en[jr[Cr+Ur]]++]=Ur);if(Er=Sr===0?(Qr=an=Ir,19):Sr===1?(Qr=gr,cn-=257,an=yr,tn-=257,256):(Qr=vr,an=br,-1),Br=qr,wr=Lr,Fr=Ur=nn=0,Tr=-1,_r=(Zr=1<<($r=Gr))-1,Sr===1&&852<Zr||Sr===2&&592<Zr)return 1;for(;;){for(xr=Br-Fr,zr=Ir[Ur]<Er?(Mr=0,Ir[Ur]):Ir[Ur]>Er?(Mr=an[tn+Ir[Ur]],Qr[cn+Ir[Ur]]):(Mr=96,0),Ar=1<<Br-Fr,qr=Dr=1<<$r;Rr[wr+(nn>>Fr)+(Dr-=Ar)]=xr<<24|Mr<<16|zr|0,Dr!==0;);for(Ar=1<<Br-1;nn&Ar;)Ar>>=1;if(Ar!==0?(nn&=Ar-1,nn+=Ar):nn=0,Ur++,--dn[Br]==0){if(Br===Vr)break;Br=jr[Cr+Ir[Ur]]}if(Gr<Br&&(nn&_r)!==Tr){for(Fr===0&&(Fr=Gr),wr+=qr,Kr=1<<($r=Br-Fr);$r+Fr<Vr&&!((Kr-=dn[$r+Fr])<=0);)$r++,Kr<<=1;if(Zr+=1<<$r,Sr===1&&852<Zr||Sr===2&&592<Zr)return 1;Rr[Tr=nn&_r]=Gr<<24|$r<<16|wr-Lr|0}}return nn!==0&&(Rr[wr+nn]=Br-Fr<<24|64<<16|0),Nr.bits=Gr,0}},{"../utils/common":41}],51:[function(ur,pr,mr){pr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ur,pr,mr){var fr=ur("../utils/common");function gr(an){for(var tn=an.length;0<=--tn;)an[tn]=0}var yr=256,vr=286,br=30,Sr=15,jr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Cr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Pr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Rr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Lr=new Array(576);gr(Lr);var Ir=new Array(60);gr(Ir);var Nr=new Array(512);gr(Nr);var Ar=new Array(256);gr(Ar);var Dr=new Array(29);gr(Dr);var Tr,_r,wr,Er=new Array(br);function xr(an,tn,sn,fn,pn){this.static_tree=an,this.extra_bits=tn,this.extra_base=sn,this.elems=fn,this.max_length=pn,this.has_stree=an&&an.length}function Mr(an,tn){this.dyn_tree=an,this.max_code=0,this.stat_desc=tn}function zr(an){return an<256?Nr[an]:Nr[256+(an>>>7)]}function Or(an,tn){an.pending_buf[an.pending++]=255&tn,an.pending_buf[an.pending++]=tn>>>8&255}function Br(an,tn,sn){an.bi_valid>16-sn?(an.bi_buf|=tn<<an.bi_valid&65535,Or(an,an.bi_buf),an.bi_buf=tn>>16-an.bi_valid,an.bi_valid+=sn-16):(an.bi_buf|=tn<<an.bi_valid&65535,an.bi_valid+=sn)}function Ur(an,tn,sn){Br(an,sn[2*tn],sn[2*tn+1])}function qr(an,tn){for(var sn=0;sn|=1&an,an>>>=1,sn<<=1,0<--tn;);return sn>>>1}function Vr(an,tn,sn){var fn,pn,yn=new Array(16),Cn=0;for(fn=1;fn<=Sr;fn++)yn[fn]=Cn=Cn+sn[fn-1]<<1;for(pn=0;pn<=tn;pn++){var Rn=an[2*pn+1];Rn!==0&&(an[2*pn]=qr(yn[Rn]++,Rn))}}function Gr(an){var tn;for(tn=0;tn<vr;tn++)an.dyn_ltree[2*tn]=0;for(tn=0;tn<br;tn++)an.dyn_dtree[2*tn]=0;for(tn=0;tn<19;tn++)an.bl_tree[2*tn]=0;an.dyn_ltree[512]=1,an.opt_len=an.static_len=0,an.last_lit=an.matches=0}function $r(an){8<an.bi_valid?Or(an,an.bi_buf):0<an.bi_valid&&(an.pending_buf[an.pending++]=an.bi_buf),an.bi_buf=0,an.bi_valid=0}function Fr(an,tn,sn,fn){var pn=2*tn,yn=2*sn;return an[pn]<an[yn]||an[pn]===an[yn]&&fn[tn]<=fn[sn]}function Kr(an,tn,sn){for(var fn=an.heap[sn],pn=sn<<1;pn<=an.heap_len&&(pn<an.heap_len&&Fr(tn,an.heap[pn+1],an.heap[pn],an.depth)&&pn++,!Fr(tn,fn,an.heap[pn],an.depth));)an.heap[sn]=an.heap[pn],sn=pn,pn<<=1;an.heap[sn]=fn}function Zr(an,tn,sn){var fn,pn,yn,Cn,Rn=0;if(an.last_lit!==0)for(;fn=an.pending_buf[an.d_buf+2*Rn]<<8|an.pending_buf[an.d_buf+2*Rn+1],pn=an.pending_buf[an.l_buf+Rn],Rn++,fn===0?Ur(an,pn,tn):(Ur(an,(yn=Ar[pn])+yr+1,tn),(Cn=jr[yn])!==0&&Br(an,pn-=Dr[yn],Cn),Ur(an,yn=zr(--fn),sn),(Cn=Cr[yn])!==0&&Br(an,fn-=Er[yn],Cn)),Rn<an.last_lit;);Ur(an,256,tn)}function nn(an,tn){var sn,fn,pn,yn=tn.dyn_tree,Cn=tn.stat_desc.static_tree,Rn=tn.stat_desc.has_stree,En=tn.stat_desc.elems,zn=-1;for(an.heap_len=0,an.heap_max=573,sn=0;sn<En;sn++)yn[2*sn]!==0?(an.heap[++an.heap_len]=zn=sn,an.depth[sn]=0):yn[2*sn+1]=0;for(;an.heap_len<2;)yn[2*(pn=an.heap[++an.heap_len]=zn<2?++zn:0)]=1,an.depth[pn]=0,an.opt_len--,Rn&&(an.static_len-=Cn[2*pn+1]);for(tn.max_code=zn,sn=an.heap_len>>1;1<=sn;sn--)Kr(an,yn,sn);for(pn=En;sn=an.heap[1],an.heap[1]=an.heap[an.heap_len--],Kr(an,yn,1),fn=an.heap[1],an.heap[--an.heap_max]=sn,an.heap[--an.heap_max]=fn,yn[2*pn]=yn[2*sn]+yn[2*fn],an.depth[pn]=(an.depth[sn]>=an.depth[fn]?an.depth[sn]:an.depth[fn])+1,yn[2*sn+1]=yn[2*fn+1]=pn,an.heap[1]=pn++,Kr(an,yn,1),2<=an.heap_len;);an.heap[--an.heap_max]=an.heap[1],function(Bn,rs){var cs,_s,qn,vs,fs,xs,Vn=rs.dyn_tree,On=rs.max_code,Mn=rs.stat_desc.static_tree,ds=rs.stat_desc.has_stree,In=rs.stat_desc.extra_bits,ss=rs.stat_desc.extra_base,bn=rs.stat_desc.max_length,$n=0;for(vs=0;vs<=Sr;vs++)Bn.bl_count[vs]=0;for(Vn[2*Bn.heap[Bn.heap_max]+1]=0,cs=Bn.heap_max+1;cs<573;cs++)bn<(vs=Vn[2*Vn[2*(_s=Bn.heap[cs])+1]+1]+1)&&(vs=bn,$n++),Vn[2*_s+1]=vs,On<_s||(Bn.bl_count[vs]++,fs=0,ss<=_s&&(fs=In[_s-ss]),xs=Vn[2*_s],Bn.opt_len+=xs*(vs+fs),ds&&(Bn.static_len+=xs*(Mn[2*_s+1]+fs)));if($n!==0){do{for(vs=bn-1;Bn.bl_count[vs]===0;)vs--;Bn.bl_count[vs]--,Bn.bl_count[vs+1]+=2,Bn.bl_count[bn]--,$n-=2}while(0<$n);for(vs=bn;vs!==0;vs--)for(_s=Bn.bl_count[vs];_s!==0;)On<(qn=Bn.heap[--cs])||(Vn[2*qn+1]!==vs&&(Bn.opt_len+=(vs-Vn[2*qn+1])*Vn[2*qn],Vn[2*qn+1]=vs),_s--)}}(an,tn),Vr(yn,zn,an.bl_count)}function Qr(an,tn,sn){var fn,pn,yn=-1,Cn=tn[1],Rn=0,En=7,zn=4;for(Cn===0&&(En=138,zn=3),tn[2*(sn+1)+1]=65535,fn=0;fn<=sn;fn++)pn=Cn,Cn=tn[2*(fn+1)+1],++Rn<En&&pn===Cn||(Rn<zn?an.bl_tree[2*pn]+=Rn:pn!==0?(pn!==yn&&an.bl_tree[2*pn]++,an.bl_tree[32]++):Rn<=10?an.bl_tree[34]++:an.bl_tree[36]++,yn=pn,zn=(Rn=0)===Cn?(En=138,3):pn===Cn?(En=6,3):(En=7,4))}function cn(an,tn,sn){var fn,pn,yn=-1,Cn=tn[1],Rn=0,En=7,zn=4;for(Cn===0&&(En=138,zn=3),fn=0;fn<=sn;fn++)if(pn=Cn,Cn=tn[2*(fn+1)+1],!(++Rn<En&&pn===Cn)){if(Rn<zn)for(;Ur(an,pn,an.bl_tree),--Rn!=0;);else pn!==0?(pn!==yn&&(Ur(an,pn,an.bl_tree),Rn--),Ur(an,16,an.bl_tree),Br(an,Rn-3,2)):Rn<=10?(Ur(an,17,an.bl_tree),Br(an,Rn-3,3)):(Ur(an,18,an.bl_tree),Br(an,Rn-11,7));yn=pn,zn=(Rn=0)===Cn?(En=138,3):pn===Cn?(En=6,3):(En=7,4)}}gr(Er);var dn=!1;function en(an,tn,sn,fn){Br(an,0+(fn?1:0),3),function(pn,yn,Cn,Rn){$r(pn),Or(pn,Cn),Or(pn,~Cn),fr.arraySet(pn.pending_buf,pn.window,yn,Cn,pn.pending),pn.pending+=Cn}(an,tn,sn)}mr._tr_init=function(an){dn||(function(){var tn,sn,fn,pn,yn,Cn=new Array(16);for(pn=fn=0;pn<28;pn++)for(Dr[pn]=fn,tn=0;tn<1<<jr[pn];tn++)Ar[fn++]=pn;for(Ar[fn-1]=pn,pn=yn=0;pn<16;pn++)for(Er[pn]=yn,tn=0;tn<1<<Cr[pn];tn++)Nr[yn++]=pn;for(yn>>=7;pn<br;pn++)for(Er[pn]=yn<<7,tn=0;tn<1<<Cr[pn]-7;tn++)Nr[256+yn++]=pn;for(sn=0;sn<=Sr;sn++)Cn[sn]=0;for(tn=0;tn<=143;)Lr[2*tn+1]=8,tn++,Cn[8]++;for(;tn<=255;)Lr[2*tn+1]=9,tn++,Cn[9]++;for(;tn<=279;)Lr[2*tn+1]=7,tn++,Cn[7]++;for(;tn<=287;)Lr[2*tn+1]=8,tn++,Cn[8]++;for(Vr(Lr,287,Cn),tn=0;tn<br;tn++)Ir[2*tn+1]=5,Ir[2*tn]=qr(tn,5);Tr=new xr(Lr,jr,257,vr,Sr),_r=new xr(Ir,Cr,0,br,Sr),wr=new xr(new Array(0),Pr,0,19,7)}(),dn=!0),an.l_desc=new Mr(an.dyn_ltree,Tr),an.d_desc=new Mr(an.dyn_dtree,_r),an.bl_desc=new Mr(an.bl_tree,wr),an.bi_buf=0,an.bi_valid=0,Gr(an)},mr._tr_stored_block=en,mr._tr_flush_block=function(an,tn,sn,fn){var pn,yn,Cn=0;0<an.level?(an.strm.data_type===2&&(an.strm.data_type=function(Rn){var En,zn=4093624447;for(En=0;En<=31;En++,zn>>>=1)if(1&zn&&Rn.dyn_ltree[2*En]!==0)return 0;if(Rn.dyn_ltree[18]!==0||Rn.dyn_ltree[20]!==0||Rn.dyn_ltree[26]!==0)return 1;for(En=32;En<yr;En++)if(Rn.dyn_ltree[2*En]!==0)return 1;return 0}(an)),nn(an,an.l_desc),nn(an,an.d_desc),Cn=function(Rn){var En;for(Qr(Rn,Rn.dyn_ltree,Rn.l_desc.max_code),Qr(Rn,Rn.dyn_dtree,Rn.d_desc.max_code),nn(Rn,Rn.bl_desc),En=18;3<=En&&Rn.bl_tree[2*Rr[En]+1]===0;En--);return Rn.opt_len+=3*(En+1)+5+5+4,En}(an),pn=an.opt_len+3+7>>>3,(yn=an.static_len+3+7>>>3)<=pn&&(pn=yn)):pn=yn=sn+5,sn+4<=pn&&tn!==-1?en(an,tn,sn,fn):an.strategy===4||yn===pn?(Br(an,2+(fn?1:0),3),Zr(an,Lr,Ir)):(Br(an,4+(fn?1:0),3),function(Rn,En,zn,Bn){var rs;for(Br(Rn,En-257,5),Br(Rn,zn-1,5),Br(Rn,Bn-4,4),rs=0;rs<Bn;rs++)Br(Rn,Rn.bl_tree[2*Rr[rs]+1],3);cn(Rn,Rn.dyn_ltree,En-1),cn(Rn,Rn.dyn_dtree,zn-1)}(an,an.l_desc.max_code+1,an.d_desc.max_code+1,Cn+1),Zr(an,an.dyn_ltree,an.dyn_dtree)),Gr(an),fn&&$r(an)},mr._tr_tally=function(an,tn,sn){return an.pending_buf[an.d_buf+2*an.last_lit]=tn>>>8&255,an.pending_buf[an.d_buf+2*an.last_lit+1]=255&tn,an.pending_buf[an.l_buf+an.last_lit]=255&sn,an.last_lit++,tn===0?an.dyn_ltree[2*sn]++:(an.matches++,tn--,an.dyn_ltree[2*(Ar[sn]+yr+1)]++,an.dyn_dtree[2*zr(tn)]++),an.last_lit===an.lit_bufsize-1},mr._tr_align=function(an){Br(an,2,3),Ur(an,256,Lr),function(tn){tn.bi_valid===16?(Or(tn,tn.bi_buf),tn.bi_buf=0,tn.bi_valid=0):8<=tn.bi_valid&&(tn.pending_buf[tn.pending++]=255&tn.bi_buf,tn.bi_buf>>=8,tn.bi_valid-=8)}(an)}},{"../utils/common":41}],53:[function(ur,pr,mr){pr.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ur,pr,mr){(function(fr){(function(gr,yr){if(!gr.setImmediate){var vr,br,Sr,jr,Cr=1,Pr={},Rr=!1,Lr=gr.document,Ir=Object.getPrototypeOf&&Object.getPrototypeOf(gr);Ir=Ir&&Ir.setTimeout?Ir:gr,vr={}.toString.call(gr.process)==="[object process]"?function(Tr){ir.nextTick(function(){Ar(Tr)})}:function(){if(gr.postMessage&&!gr.importScripts){var Tr=!0,_r=gr.onmessage;return gr.onmessage=function(){Tr=!1},gr.postMessage("","*"),gr.onmessage=_r,Tr}}()?(jr="setImmediate$"+Math.random()+"$",gr.addEventListener?gr.addEventListener("message",Dr,!1):gr.attachEvent("onmessage",Dr),function(Tr){gr.postMessage(jr+Tr,"*")}):gr.MessageChannel?((Sr=new MessageChannel).port1.onmessage=function(Tr){Ar(Tr.data)},function(Tr){Sr.port2.postMessage(Tr)}):Lr&&"onreadystatechange"in Lr.createElement("script")?(br=Lr.documentElement,function(Tr){var _r=Lr.createElement("script");_r.onreadystatechange=function(){Ar(Tr),_r.onreadystatechange=null,br.removeChild(_r),_r=null},br.appendChild(_r)}):function(Tr){setTimeout(Ar,0,Tr)},Ir.setImmediate=function(Tr){typeof Tr!="function"&&(Tr=new Function(""+Tr));for(var _r=new Array(arguments.length-1),wr=0;wr<_r.length;wr++)_r[wr]=arguments[wr+1];var Er={callback:Tr,args:_r};return Pr[Cr]=Er,vr(Cr),Cr++},Ir.clearImmediate=Nr}function Nr(Tr){delete Pr[Tr]}function Ar(Tr){if(Rr)setTimeout(Ar,0,Tr);else{var _r=Pr[Tr];if(_r){Rr=!0;try{(function(wr){var Er=wr.callback,xr=wr.args;switch(xr.length){case 0:Er();break;case 1:Er(xr[0]);break;case 2:Er(xr[0],xr[1]);break;case 3:Er(xr[0],xr[1],xr[2]);break;default:Er.apply(void 0,xr)}})(_r)}finally{Nr(Tr),Rr=!1}}}}function Dr(Tr){Tr.source===gr&&typeof Tr.data=="string"&&Tr.data.indexOf(jr)===0&&Ar(+Tr.data.slice(jr.length))}})(typeof self>"u"?fr===void 0?this:fr:self)}).call(this,sr!==void 0?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},tr("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],tr("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(tr,rr,nr){(function(ir){(function(){var sr=/[\\^$.*+?()[\]{}|]/g,or=RegExp(sr.source),ar=typeof ir=="object"&&ir&&ir.Object===Object&&ir,lr=typeof self=="object"&&self&&self.Object===Object&&self,cr=ar||lr||Function("return this")(),dr=Object.prototype.toString,hr=cr.Symbol,ur=hr?hr.prototype:void 0,pr=ur?ur.toString:void 0;function mr(fr){if(typeof fr=="string")return fr;if(function(yr){return typeof yr=="symbol"||function(vr){return!!vr&&typeof vr=="object"}(yr)&&dr.call(yr)=="[object Symbol]"}(fr))return pr?pr.call(fr):"";var gr=fr+"";return gr=="0"&&1/fr==-1/0?"-0":gr}rr.exports=function(fr){var gr;return(fr=(gr=fr)==null?"":mr(gr))&&or.test(fr)?fr.replace(sr,"\\$&"):fr}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(tr,rr,nr){(function(ir){(function(){var sr="[object Arguments]",or="[object Map]",ar="[object Object]",lr="[object Set]",cr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,hr=/^\./,ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pr=/\\(\\)?/g,mr=/^\[object .+?Constructor\]$/,fr=/^(?:0|[1-9]\d*)$/,gr={};gr["[object Float32Array]"]=gr["[object Float64Array]"]=gr["[object Int8Array]"]=gr["[object Int16Array]"]=gr["[object Int32Array]"]=gr["[object Uint8Array]"]=gr["[object Uint8ClampedArray]"]=gr["[object Uint16Array]"]=gr["[object Uint32Array]"]=!0,gr[sr]=gr["[object Array]"]=gr["[object ArrayBuffer]"]=gr["[object Boolean]"]=gr["[object DataView]"]=gr["[object Date]"]=gr["[object Error]"]=gr["[object Function]"]=gr[or]=gr["[object Number]"]=gr[ar]=gr["[object RegExp]"]=gr[lr]=gr["[object String]"]=gr["[object WeakMap]"]=!1;var yr=typeof ir=="object"&&ir&&ir.Object===Object&&ir,vr=typeof self=="object"&&self&&self.Object===Object&&self,br=yr||vr||Function("return this")(),Sr=typeof nr=="object"&&nr&&!nr.nodeType&&nr,jr=Sr&&typeof rr=="object"&&rr&&!rr.nodeType&&rr,Cr=jr&&jr.exports===Sr&&yr.process,Pr=function(){try{return Cr&&Cr.binding("util")}catch{}}(),Rr=Pr&&Pr.isTypedArray;function Lr(_n,Hn,bs,Es){for(var $s=-1,Rs=_n?_n.length:0;++$s<Rs;){var Ns=_n[$s];Hn(Es,Ns,bs(Ns),_n)}return Es}function Ir(_n,Hn){for(var bs=-1,Es=_n?_n.length:0;++bs<Es;)if(Hn(_n[bs],bs,_n))return!0;return!1}function Nr(_n){var Hn=!1;if(_n!=null&&typeof _n.toString!="function")try{Hn=!!(_n+"")}catch{}return Hn}function Ar(_n){var Hn=-1,bs=Array(_n.size);return _n.forEach(function(Es,$s){bs[++Hn]=[$s,Es]}),bs}function Dr(_n){var Hn=-1,bs=Array(_n.size);return _n.forEach(function(Es){bs[++Hn]=Es}),bs}var Tr,_r,wr,Er=Array.prototype,xr=Function.prototype,Mr=Object.prototype,zr=br["__core-js_shared__"],Or=(Tr=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||""))?"Symbol(src)_1."+Tr:"",Br=xr.toString,Ur=Mr.hasOwnProperty,qr=Mr.toString,Vr=RegExp("^"+Br.call(Ur).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gr=br.Symbol,$r=br.Uint8Array,Fr=Mr.propertyIsEnumerable,Kr=Er.splice,Zr=(_r=Object.keys,wr=Object,function(_n){return _r(wr(_n))}),nn=ps(br,"DataView"),Qr=ps(br,"Map"),cn=ps(br,"Promise"),dn=ps(br,"Set"),en=ps(br,"WeakMap"),an=ps(Object,"create"),tn=Dn(nn),sn=Dn(Qr),fn=Dn(cn),pn=Dn(dn),yn=Dn(en),Cn=Gr?Gr.prototype:void 0,Rn=Cn?Cn.valueOf:void 0,En=Cn?Cn.toString:void 0;function zn(_n){var Hn=-1,bs=_n?_n.length:0;for(this.clear();++Hn<bs;){var Es=_n[Hn];this.set(Es[0],Es[1])}}function Bn(_n){var Hn=-1,bs=_n?_n.length:0;for(this.clear();++Hn<bs;){var Es=_n[Hn];this.set(Es[0],Es[1])}}function rs(_n){var Hn=-1,bs=_n?_n.length:0;for(this.clear();++Hn<bs;){var Es=_n[Hn];this.set(Es[0],Es[1])}}function cs(_n){var Hn=-1,bs=_n?_n.length:0;for(this.__data__=new rs;++Hn<bs;)this.add(_n[Hn])}function _s(_n){this.__data__=new Bn(_n)}function qn(_n,Hn){var bs=Ps(_n)||ws(_n)?function(Ns,ba){for(var Zs=-1,Qs=Array(Ns);++Zs<Ns;)Qs[Zs]=ba(Zs);return Qs}(_n.length,String):[],Es=bs.length,$s=!!Es;for(var Rs in _n)!Ur.call(_n,Rs)||$s&&(Rs=="length"||xn(Rs,Es))||bs.push(Rs);return bs}function vs(_n,Hn){for(var bs=_n.length;bs--;)if(us(_n[bs][0],Hn))return bs;return-1}function fs(_n,Hn,bs,Es){return Vn(_n,function($s,Rs,Ns){Hn(Es,$s,bs($s),Ns)}),Es}zn.prototype.clear=function(){this.__data__=an?an(null):{}},zn.prototype.delete=function(_n){return this.has(_n)&&delete this.__data__[_n]},zn.prototype.get=function(_n){var Hn=this.__data__;if(an){var bs=Hn[_n];return bs==="__lodash_hash_undefined__"?void 0:bs}return Ur.call(Hn,_n)?Hn[_n]:void 0},zn.prototype.has=function(_n){var Hn=this.__data__;return an?Hn[_n]!==void 0:Ur.call(Hn,_n)},zn.prototype.set=function(_n,Hn){return this.__data__[_n]=an&&Hn===void 0?"__lodash_hash_undefined__":Hn,this},Bn.prototype.clear=function(){this.__data__=[]},Bn.prototype.delete=function(_n){var Hn=this.__data__,bs=vs(Hn,_n);return!(bs<0)&&(bs==Hn.length-1?Hn.pop():Kr.call(Hn,bs,1),!0)},Bn.prototype.get=function(_n){var Hn=this.__data__,bs=vs(Hn,_n);return bs<0?void 0:Hn[bs][1]},Bn.prototype.has=function(_n){return vs(this.__data__,_n)>-1},Bn.prototype.set=function(_n,Hn){var bs=this.__data__,Es=vs(bs,_n);return Es<0?bs.push([_n,Hn]):bs[Es][1]=Hn,this},rs.prototype.clear=function(){this.__data__={hash:new zn,map:new(Qr||Bn),string:new zn}},rs.prototype.delete=function(_n){return hs(this,_n).delete(_n)},rs.prototype.get=function(_n){return hs(this,_n).get(_n)},rs.prototype.has=function(_n){return hs(this,_n).has(_n)},rs.prototype.set=function(_n,Hn){return hs(this,_n).set(_n,Hn),this},cs.prototype.add=cs.prototype.push=function(_n){return this.__data__.set(_n,"__lodash_hash_undefined__"),this},cs.prototype.has=function(_n){return this.__data__.has(_n)},_s.prototype.clear=function(){this.__data__=new Bn},_s.prototype.delete=function(_n){return this.__data__.delete(_n)},_s.prototype.get=function(_n){return this.__data__.get(_n)},_s.prototype.has=function(_n){return this.__data__.has(_n)},_s.prototype.set=function(_n,Hn){var bs=this.__data__;if(bs instanceof Bn){var Es=bs.__data__;if(!Qr||Es.length<199)return Es.push([_n,Hn]),this;bs=this.__data__=new rs(Es)}return bs.set(_n,Hn),this};var xs,Vn=(xs=function(_n,Hn){return _n&&On(_n,Hn,eo)},function(_n,Hn){if(_n==null)return _n;if(!Ts(_n))return xs(_n,Hn);for(var bs=_n.length,Es=-1,$s=Object(_n);++Es<bs&&Hn($s[Es],Es,$s)!==!1;);return _n}),On=function(_n){return function(Hn,bs,Es){for(var $s=-1,Rs=Object(Hn),Ns=Es(Hn),ba=Ns.length;ba--;){var Zs=Ns[++$s];if(bs(Rs[Zs],Zs,Rs)===!1)break}return Hn}}();function Mn(_n,Hn){for(var bs=0,Es=(Hn=jn(Hn,_n)?[Hn]:Un(Hn)).length;_n!=null&&bs<Es;)_n=_n[Sn(Hn[bs++])];return bs&&bs==Es?_n:void 0}function ds(_n,Hn){return _n!=null&&Hn in Object(_n)}function In(_n,Hn,bs,Es,$s){return _n===Hn||(_n==null||Hn==null||!zs(_n)&&!qs(Hn)?_n!=_n&&Hn!=Hn:function(Rs,Ns,ba,Zs,Qs,Hs){var no=Ps(Rs),Ks=Ps(Ns),io="[object Array]",co="[object Array]";no||(io=(io=An(Rs))==sr?ar:io),Ks||(co=(co=An(Ns))==sr?ar:co);var Ao=io==ar&&!Nr(Rs),Po=co==ar&&!Nr(Ns),Fo=io==co;if(Fo&&!Ao)return Hs||(Hs=new _s),no||$a(Rs)?Kn(Rs,Ns,ba,Zs,Qs,Hs):function(ro,ga,Ko,so,_l,To,Io){switch(Ko){case"[object DataView]":if(ro.byteLength!=ga.byteLength||ro.byteOffset!=ga.byteOffset)return!1;ro=ro.buffer,ga=ga.buffer;case"[object ArrayBuffer]":return!(ro.byteLength!=ga.byteLength||!so(new $r(ro),new $r(ga)));case"[object Boolean]":case"[object Date]":case"[object Number]":return us(+ro,+ga);case"[object Error]":return ro.name==ga.name&&ro.message==ga.message;case"[object RegExp]":case"[object String]":return ro==ga+"";case or:var xl=Ar;case lr:var Ol=2&To;if(xl||(xl=Dr),ro.size!=ga.size&&!Ol)return!1;var eu=Io.get(ro);if(eu)return eu==ga;To|=1,Io.set(ro,ga);var $o=Kn(xl(ro),xl(ga),so,_l,To,Io);return Io.delete(ro),$o;case"[object Symbol]":if(Rn)return Rn.call(ro)==Rn.call(ga)}return!1}(Rs,Ns,io,ba,Zs,Qs,Hs);if(!(2&Qs)){var Co=Ao&&Ur.call(Rs,"__wrapped__"),Xo=Po&&Ur.call(Ns,"__wrapped__");if(Co||Xo){var go=Co?Rs.value():Rs,ko=Xo?Ns.value():Ns;return Hs||(Hs=new _s),ba(go,ko,Zs,Qs,Hs)}}return Fo?(Hs||(Hs=new _s),function(ro,ga,Ko,so,_l,To){var Io=2&_l,xl=eo(ro),Ol=xl.length,eu=eo(ga).length;if(Ol!=eu&&!Io)return!1;for(var $o=Ol;$o--;){var Uo=xl[$o];if(!(Io?Uo in ga:Ur.call(ga,Uo)))return!1}var Hl=To.get(ro);if(Hl&&To.get(ga))return Hl==ga;var Yo=!0;To.set(ro,ga),To.set(ga,ro);for(var yo=Io;++$o<Ol;){Uo=xl[$o];var Kl=ro[Uo],Ml=ga[Uo];if(so)var Xs=Io?so(Ml,Kl,Uo,ga,ro,To):so(Kl,Ml,Uo,ro,ga,To);if(!(Xs===void 0?Kl===Ml||Ko(Kl,Ml,so,_l,To):Xs)){Yo=!1;break}yo||(yo=Uo=="constructor")}if(Yo&&!yo){var Zo=ro.constructor,tu=ga.constructor;Zo==tu||!("constructor"in ro)||!("constructor"in ga)||typeof Zo=="function"&&Zo instanceof Zo&&typeof tu=="function"&&tu instanceof tu||(Yo=!1)}return To.delete(ro),To.delete(ga),Yo}(Rs,Ns,ba,Zs,Qs,Hs)):!1}(_n,Hn,In,bs,Es,$s))}function ss(_n){return!(!zs(_n)||function(Hn){return!!Or&&Or in Hn}(_n))&&(Ls(_n)||Nr(_n)?Vr:mr).test(Dn(_n))}function bn(_n){return typeof _n=="function"?_n:_n==null?mo:typeof _n=="object"?Ps(_n)?function(Es,$s){return jn(Es)&&Ln($s)?Yn(Sn(Es),$s):function(Rs){var Ns=function(ba,Zs,Qs){var Hs=ba==null?void 0:Mn(ba,Zs);return Hs===void 0?Qs:Hs}(Rs,Es);return Ns===void 0&&Ns===$s?function(ba,Zs){return ba!=null&&function(Qs,Hs,no){Hs=jn(Hs,Qs)?[Hs]:Un(Hs);for(var Ks,io=-1,co=Hs.length;++io<co;){var Ao=Sn(Hs[io]);if(!(Ks=Qs!=null&&no(Qs,Ao)))break;Qs=Qs[Ao]}return Ks||!!(co=Qs?Qs.length:0)&&Os(co)&&xn(Ao,co)&&(Ps(Qs)||ws(Qs))}(ba,Zs,ds)}(Rs,Es):In($s,Ns,void 0,3)}}(_n[0],_n[1]):function(Es){var $s=function(Rs){for(var Ns=eo(Rs),ba=Ns.length;ba--;){var Zs=Ns[ba],Qs=Rs[Zs];Ns[ba]=[Zs,Qs,Ln(Qs)]}return Ns}(Es);return $s.length==1&&$s[0][2]?Yn($s[0][0],$s[0][1]):function(Rs){return Rs===Es||function(Ns,ba,Zs,Qs){var Hs=Zs.length,no=Hs;if(Ns==null)return!no;for(Ns=Object(Ns);Hs--;){var Ks=Zs[Hs];if(Ks[2]?Ks[1]!==Ns[Ks[0]]:!(Ks[0]in Ns))return!1}for(;++Hs<no;){var io=(Ks=Zs[Hs])[0],co=Ns[io],Ao=Ks[1];if(Ks[2]){if(co===void 0&&!(io in Ns))return!1}else{var Po=new _s,Fo;if(!(Fo===void 0?In(Ao,co,Qs,3,Po):Fo))return!1}}return!0}(Rs,Es,$s)}}(_n):jn(Hn=_n)?(bs=Sn(Hn),function(Es){return Es==null?void 0:Es[bs]}):function(Es){return function($s){return Mn($s,Es)}}(Hn);var Hn,bs}function $n(_n){if(bs=(Hn=_n)&&Hn.constructor,Es=typeof bs=="function"&&bs.prototype||Mr,Hn!==Es)return Zr(_n);var Hn,bs,Es,$s=[];for(var Rs in Object(_n))Ur.call(_n,Rs)&&Rs!="constructor"&&$s.push(Rs);return $s}function Un(_n){return Ps(_n)?_n:Jn(_n)}function Kn(_n,Hn,bs,Es,$s,Rs){var Ns=2&$s,ba=_n.length,Zs=Hn.length;if(ba!=Zs&&!(Ns&&Zs>ba))return!1;var Qs=Rs.get(_n);if(Qs&&Rs.get(Hn))return Qs==Hn;var Hs=-1,no=!0,Ks=1&$s?new cs:void 0;for(Rs.set(_n,Hn),Rs.set(Hn,_n);++Hs<ba;){var io=_n[Hs],co=Hn[Hs];if(Es)var Ao=Ns?Es(co,io,Hs,Hn,_n,Rs):Es(io,co,Hs,_n,Hn,Rs);if(Ao!==void 0){if(Ao)continue;no=!1;break}if(Ks){if(!Ir(Hn,function(Po,Fo){if(!Ks.has(Fo)&&(io===Po||bs(io,Po,Es,$s,Rs)))return Ks.add(Fo)})){no=!1;break}}else if(io!==co&&!bs(io,co,Es,$s,Rs)){no=!1;break}}return Rs.delete(_n),Rs.delete(Hn),no}function hs(_n,Hn){var bs,Es,$s=_n.__data__;return((Es=typeof(bs=Hn))=="string"||Es=="number"||Es=="symbol"||Es=="boolean"?bs!=="__proto__":bs===null)?$s[typeof Hn=="string"?"string":"hash"]:$s.map}function ps(_n,Hn){var bs=function(Es,$s){return Es==null?void 0:Es[$s]}(_n,Hn);return ss(bs)?bs:void 0}var An=function(_n){return qr.call(_n)};function xn(_n,Hn){return!!(Hn=Hn??9007199254740991)&&(typeof _n=="number"||fr.test(_n))&&_n>-1&&_n%1==0&&_n<Hn}function jn(_n,Hn){if(Ps(_n))return!1;var bs=typeof _n;return!(bs!="number"&&bs!="symbol"&&bs!="boolean"&&_n!=null&&!Ys(_n))||dr.test(_n)||!cr.test(_n)||Hn!=null&&_n in Object(Hn)}function Ln(_n){return _n==_n&&!zs(_n)}function Yn(_n,Hn){return function(bs){return bs!=null&&bs[_n]===Hn&&(Hn!==void 0||_n in Object(bs))}}(nn&&An(new nn(new ArrayBuffer(1)))!="[object DataView]"||Qr&&An(new Qr)!=or||cn&&An(cn.resolve())!="[object Promise]"||dn&&An(new dn)!=lr||en&&An(new en)!="[object WeakMap]")&&(An=function(_n){var Hn=qr.call(_n),bs=Hn==ar?_n.constructor:void 0,Es=bs?Dn(bs):void 0;if(Es)switch(Es){case tn:return"[object DataView]";case sn:return or;case fn:return"[object Promise]";case pn:return lr;case yn:return"[object WeakMap]"}return Hn});var Jn=Cs(function(_n){var Hn;_n=(Hn=_n)==null?"":function(Es){if(typeof Es=="string")return Es;if(Ys(Es))return En?En.call(Es):"";var $s=Es+"";return $s=="0"&&1/Es==-1/0?"-0":$s}(Hn);var bs=[];return hr.test(_n)&&bs.push(""),_n.replace(ur,function(Es,$s,Rs,Ns){bs.push(Rs?Ns.replace(pr,"$1"):$s||Es)}),bs});function Sn(_n){if(typeof _n=="string"||Ys(_n))return _n;var Hn=_n+"";return Hn=="0"&&1/_n==-1/0?"-0":Hn}function Dn(_n){if(_n!=null){try{return Br.call(_n)}catch{}try{return _n+""}catch{}}return""}var Wn,_i=(Wn=function(_n,Hn,bs){Ur.call(_n,bs)?_n[bs].push(Hn):_n[bs]=[Hn]},function(_n,Hn){var bs=Ps(_n)?Lr:fs,Es={};return bs(_n,Wn,bn(Hn),Es)});function Cs(_n,Hn){if(typeof _n!="function"||Hn&&typeof Hn!="function")throw new TypeError("Expected a function");var bs=function(){var Es=arguments,$s=Hn?Hn.apply(this,Es):Es[0],Rs=bs.cache;if(Rs.has($s))return Rs.get($s);var Ns=_n.apply(this,Es);return bs.cache=Rs.set($s,Ns),Ns};return bs.cache=new(Cs.Cache||rs),bs}function us(_n,Hn){return _n===Hn||_n!=_n&&Hn!=Hn}function ws(_n){return function(Hn){return qs(Hn)&&Ts(Hn)}(_n)&&Ur.call(_n,"callee")&&(!Fr.call(_n,"callee")||qr.call(_n)==sr)}Cs.Cache=rs;var Ps=Array.isArray;function Ts(_n){return _n!=null&&Os(_n.length)&&!Ls(_n)}function Ls(_n){var Hn=zs(_n)?qr.call(_n):"";return Hn=="[object Function]"||Hn=="[object GeneratorFunction]"}function Os(_n){return typeof _n=="number"&&_n>-1&&_n%1==0&&_n<=9007199254740991}function zs(_n){var Hn=typeof _n;return!!_n&&(Hn=="object"||Hn=="function")}function qs(_n){return!!_n&&typeof _n=="object"}function Ys(_n){return typeof _n=="symbol"||qs(_n)&&qr.call(_n)=="[object Symbol]"}var $a=Rr?function(_n){return function(Hn){return _n(Hn)}}(Rr):function(_n){return qs(_n)&&Os(_n.length)&&!!gr[qr.call(_n)]};function eo(_n){return Ts(_n)?qn(_n):$n(_n)}function mo(_n){return _n}rr.exports=_i}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(tr,rr,nr){var ir=Object.prototype.toString;rr.exports=function(sr){return sr===!0||sr===!1||function(or){return!!or&&typeof or=="object"}(sr)&&ir.call(sr)=="[object Boolean]"}},{}],445:[function(tr,rr,nr){(function(ir){(function(){var sr="[object Arguments]",or="[object Map]",ar="[object Object]",lr="[object Set]",cr=/^\[object .+?Constructor\]$/,dr=/^(?:0|[1-9]\d*)$/,hr={};hr["[object Float32Array]"]=hr["[object Float64Array]"]=hr["[object Int8Array]"]=hr["[object Int16Array]"]=hr["[object Int32Array]"]=hr["[object Uint8Array]"]=hr["[object Uint8ClampedArray]"]=hr["[object Uint16Array]"]=hr["[object Uint32Array]"]=!0,hr[sr]=hr["[object Array]"]=hr["[object ArrayBuffer]"]=hr["[object Boolean]"]=hr["[object DataView]"]=hr["[object Date]"]=hr["[object Error]"]=hr["[object Function]"]=hr[or]=hr["[object Number]"]=hr[ar]=hr["[object RegExp]"]=hr[lr]=hr["[object String]"]=hr["[object WeakMap]"]=!1;var ur=typeof ir=="object"&&ir&&ir.Object===Object&&ir,pr=typeof self=="object"&&self&&self.Object===Object&&self,mr=ur||pr||Function("return this")(),fr=typeof nr=="object"&&nr&&!nr.nodeType&&nr,gr=fr&&typeof rr=="object"&&rr&&!rr.nodeType&&rr,yr=gr&&gr.exports===fr,vr=yr&&ur.process,br=function(){try{return vr&&vr.binding&&vr.binding("util")}catch{}}(),Sr=br&&br.isTypedArray;function jr(Sn,Dn){for(var Wn=-1,_i=Sn==null?0:Sn.length;++Wn<_i;)if(Dn(Sn[Wn],Wn,Sn))return!0;return!1}function Cr(Sn){var Dn=-1,Wn=Array(Sn.size);return Sn.forEach(function(_i,Cs){Wn[++Dn]=[Cs,_i]}),Wn}function Pr(Sn){var Dn=-1,Wn=Array(Sn.size);return Sn.forEach(function(_i){Wn[++Dn]=_i}),Wn}var Rr,Lr,Ir,Nr=Array.prototype,Ar=Function.prototype,Dr=Object.prototype,Tr=mr["__core-js_shared__"],_r=Ar.toString,wr=Dr.hasOwnProperty,Er=(Rr=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||""))?"Symbol(src)_1."+Rr:"",xr=Dr.toString,Mr=RegExp("^"+_r.call(wr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zr=yr?mr.Buffer:void 0,Or=mr.Symbol,Br=mr.Uint8Array,Ur=Dr.propertyIsEnumerable,qr=Nr.splice,Vr=Or?Or.toStringTag:void 0,Gr=Object.getOwnPropertySymbols,$r=zr?zr.isBuffer:void 0,Fr=(Lr=Object.keys,Ir=Object,function(Sn){return Lr(Ir(Sn))}),Kr=ds(mr,"DataView"),Zr=ds(mr,"Map"),nn=ds(mr,"Promise"),Qr=ds(mr,"Set"),cn=ds(mr,"WeakMap"),dn=ds(Object,"create"),en=$n(Kr),an=$n(Zr),tn=$n(nn),sn=$n(Qr),fn=$n(cn),pn=Or?Or.prototype:void 0,yn=pn?pn.valueOf:void 0;function Cn(Sn){var Dn=-1,Wn=Sn==null?0:Sn.length;for(this.clear();++Dn<Wn;){var _i=Sn[Dn];this.set(_i[0],_i[1])}}function Rn(Sn){var Dn=-1,Wn=Sn==null?0:Sn.length;for(this.clear();++Dn<Wn;){var _i=Sn[Dn];this.set(_i[0],_i[1])}}function En(Sn){var Dn=-1,Wn=Sn==null?0:Sn.length;for(this.clear();++Dn<Wn;){var _i=Sn[Dn];this.set(_i[0],_i[1])}}function zn(Sn){var Dn=-1,Wn=Sn==null?0:Sn.length;for(this.__data__=new En;++Dn<Wn;)this.add(Sn[Dn])}function Bn(Sn){var Dn=this.__data__=new Rn(Sn);this.size=Dn.size}function rs(Sn,Dn){var Wn=hs(Sn),_i=!Wn&&Kn(Sn),Cs=!Wn&&!_i&&ps(Sn),us=!Wn&&!_i&&!Cs&&Yn(Sn),ws=Wn||_i||Cs||us,Ps=ws?function(Os,zs){for(var qs=-1,Ys=Array(Os);++qs<Os;)Ys[qs]=zs(qs);return Ys}(Sn.length,String):[],Ts=Ps.length;for(var Ls in Sn)!wr.call(Sn,Ls)||ws&&(Ls=="length"||Cs&&(Ls=="offset"||Ls=="parent")||us&&(Ls=="buffer"||Ls=="byteLength"||Ls=="byteOffset")||bn(Ls,Ts))||Ps.push(Ls);return Ps}function cs(Sn,Dn){for(var Wn=Sn.length;Wn--;)if(Un(Sn[Wn][0],Dn))return Wn;return-1}function _s(Sn){return Sn==null?Sn===void 0?"[object Undefined]":"[object Null]":Vr&&Vr in Object(Sn)?function(Dn){var Wn=wr.call(Dn,Vr),_i=Dn[Vr];try{Dn[Vr]=void 0;var Cs=!0}catch{}var us=xr.call(Dn);return Cs&&(Wn?Dn[Vr]=_i:delete Dn[Vr]),us}(Sn):function(Dn){return xr.call(Dn)}(Sn)}function qn(Sn){return Ln(Sn)&&_s(Sn)==sr}function vs(Sn,Dn,Wn,_i,Cs){return Sn===Dn||(Sn==null||Dn==null||!Ln(Sn)&&!Ln(Dn)?Sn!=Sn&&Dn!=Dn:function(us,ws,Ps,Ts,Ls,Os){var zs=hs(us),qs=hs(ws),Ys=zs?"[object Array]":ss(us),$a=qs?"[object Array]":ss(ws),eo=(Ys=Ys==sr?ar:Ys)==ar,mo=($a=$a==sr?ar:$a)==ar,_n=Ys==$a;if(_n&&ps(us)){if(!ps(ws))return!1;zs=!0,eo=!1}if(_n&&!eo)return Os||(Os=new Bn),zs||Yn(us)?Vn(us,ws,Ps,Ts,Ls,Os):function(Rs,Ns,ba,Zs,Qs,Hs,no){switch(ba){case"[object DataView]":if(Rs.byteLength!=Ns.byteLength||Rs.byteOffset!=Ns.byteOffset)return!1;Rs=Rs.buffer,Ns=Ns.buffer;case"[object ArrayBuffer]":return!(Rs.byteLength!=Ns.byteLength||!Hs(new Br(Rs),new Br(Ns)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Un(+Rs,+Ns);case"[object Error]":return Rs.name==Ns.name&&Rs.message==Ns.message;case"[object RegExp]":case"[object String]":return Rs==Ns+"";case or:var Ks=Cr;case lr:var io=1&Zs;if(Ks||(Ks=Pr),Rs.size!=Ns.size&&!io)return!1;var co=no.get(Rs);if(co)return co==Ns;Zs|=2,no.set(Rs,Ns);var Ao=Vn(Ks(Rs),Ks(Ns),Zs,Qs,Hs,no);return no.delete(Rs),Ao;case"[object Symbol]":if(yn)return yn.call(Rs)==yn.call(Ns)}return!1}(us,ws,Ys,Ps,Ts,Ls,Os);if(!(1&Ps)){var Hn=eo&&wr.call(us,"__wrapped__"),bs=mo&&wr.call(ws,"__wrapped__");if(Hn||bs){var Es=Hn?us.value():us,$s=bs?ws.value():ws;return Os||(Os=new Bn),Ls(Es,$s,Ps,Ts,Os)}}return _n?(Os||(Os=new Bn),function(Rs,Ns,ba,Zs,Qs,Hs){var no=1&ba,Ks=On(Rs),io=Ks.length,co=On(Ns).length;if(io!=co&&!no)return!1;for(var Ao=io;Ao--;){var Po=Ks[Ao];if(!(no?Po in Ns:wr.call(Ns,Po)))return!1}var Fo=Hs.get(Rs);if(Fo&&Hs.get(Ns))return Fo==Ns;var Co=!0;Hs.set(Rs,Ns),Hs.set(Ns,Rs);for(var Xo=no;++Ao<io;){Po=Ks[Ao];var go=Rs[Po],ko=Ns[Po];if(Zs)var ro=no?Zs(ko,go,Po,Ns,Rs,Hs):Zs(go,ko,Po,Rs,Ns,Hs);if(!(ro===void 0?go===ko||Qs(go,ko,ba,Zs,Hs):ro)){Co=!1;break}Xo||(Xo=Po=="constructor")}if(Co&&!Xo){var ga=Rs.constructor,Ko=Ns.constructor;ga==Ko||!("constructor"in Rs)||!("constructor"in Ns)||typeof ga=="function"&&ga instanceof ga&&typeof Ko=="function"&&Ko instanceof Ko||(Co=!1)}return Hs.delete(Rs),Hs.delete(Ns),Co}(us,ws,Ps,Ts,Ls,Os)):!1}(Sn,Dn,Wn,_i,vs,Cs))}function fs(Sn){return!(!jn(Sn)||function(Dn){return!!Er&&Er in Dn}(Sn))&&(An(Sn)?Mr:cr).test($n(Sn))}function xs(Sn){if(Wn=(Dn=Sn)&&Dn.constructor,_i=typeof Wn=="function"&&Wn.prototype||Dr,Dn!==_i)return Fr(Sn);var Dn,Wn,_i,Cs=[];for(var us in Object(Sn))wr.call(Sn,us)&&us!="constructor"&&Cs.push(us);return Cs}function Vn(Sn,Dn,Wn,_i,Cs,us){var ws=1&Wn,Ps=Sn.length,Ts=Dn.length;if(Ps!=Ts&&!(ws&&Ts>Ps))return!1;var Ls=us.get(Sn);if(Ls&&us.get(Dn))return Ls==Dn;var Os=-1,zs=!0,qs=2&Wn?new zn:void 0;for(us.set(Sn,Dn),us.set(Dn,Sn);++Os<Ps;){var Ys=Sn[Os],$a=Dn[Os];if(_i)var eo=ws?_i($a,Ys,Os,Dn,Sn,us):_i(Ys,$a,Os,Sn,Dn,us);if(eo!==void 0){if(eo)continue;zs=!1;break}if(qs){if(!jr(Dn,function(mo,_n){if(Hn=_n,!qs.has(Hn)&&(Ys===mo||Cs(Ys,mo,Wn,_i,us)))return qs.push(_n);var Hn})){zs=!1;break}}else if(Ys!==$a&&!Cs(Ys,$a,Wn,_i,us)){zs=!1;break}}return us.delete(Sn),us.delete(Dn),zs}function On(Sn){return function(Dn,Wn,_i){var Cs=Wn(Dn);return hs(Dn)?Cs:function(us,ws){for(var Ps=-1,Ts=ws.length,Ls=us.length;++Ps<Ts;)us[Ls+Ps]=ws[Ps];return us}(Cs,_i(Dn))}(Sn,Jn,In)}function Mn(Sn,Dn){var Wn,_i,Cs=Sn.__data__;return((_i=typeof(Wn=Dn))=="string"||_i=="number"||_i=="symbol"||_i=="boolean"?Wn!=="__proto__":Wn===null)?Cs[typeof Dn=="string"?"string":"hash"]:Cs.map}function ds(Sn,Dn){var Wn=function(_i,Cs){return _i==null?void 0:_i[Cs]}(Sn,Dn);return fs(Wn)?Wn:void 0}Cn.prototype.clear=function(){this.__data__=dn?dn(null):{},this.size=0},Cn.prototype.delete=function(Sn){var Dn=this.has(Sn)&&delete this.__data__[Sn];return this.size-=Dn?1:0,Dn},Cn.prototype.get=function(Sn){var Dn=this.__data__;if(dn){var Wn=Dn[Sn];return Wn==="__lodash_hash_undefined__"?void 0:Wn}return wr.call(Dn,Sn)?Dn[Sn]:void 0},Cn.prototype.has=function(Sn){var Dn=this.__data__;return dn?Dn[Sn]!==void 0:wr.call(Dn,Sn)},Cn.prototype.set=function(Sn,Dn){var Wn=this.__data__;return this.size+=this.has(Sn)?0:1,Wn[Sn]=dn&&Dn===void 0?"__lodash_hash_undefined__":Dn,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(Sn){var Dn=this.__data__,Wn=cs(Dn,Sn);return!(Wn<0)&&(Wn==Dn.length-1?Dn.pop():qr.call(Dn,Wn,1),--this.size,!0)},Rn.prototype.get=function(Sn){var Dn=this.__data__,Wn=cs(Dn,Sn);return Wn<0?void 0:Dn[Wn][1]},Rn.prototype.has=function(Sn){return cs(this.__data__,Sn)>-1},Rn.prototype.set=function(Sn,Dn){var Wn=this.__data__,_i=cs(Wn,Sn);return _i<0?(++this.size,Wn.push([Sn,Dn])):Wn[_i][1]=Dn,this},En.prototype.clear=function(){this.size=0,this.__data__={hash:new Cn,map:new(Zr||Rn),string:new Cn}},En.prototype.delete=function(Sn){var Dn=Mn(this,Sn).delete(Sn);return this.size-=Dn?1:0,Dn},En.prototype.get=function(Sn){return Mn(this,Sn).get(Sn)},En.prototype.has=function(Sn){return Mn(this,Sn).has(Sn)},En.prototype.set=function(Sn,Dn){var Wn=Mn(this,Sn),_i=Wn.size;return Wn.set(Sn,Dn),this.size+=Wn.size==_i?0:1,this},zn.prototype.add=zn.prototype.push=function(Sn){return this.__data__.set(Sn,"__lodash_hash_undefined__"),this},zn.prototype.has=function(Sn){return this.__data__.has(Sn)},Bn.prototype.clear=function(){this.__data__=new Rn,this.size=0},Bn.prototype.delete=function(Sn){var Dn=this.__data__,Wn=Dn.delete(Sn);return this.size=Dn.size,Wn},Bn.prototype.get=function(Sn){return this.__data__.get(Sn)},Bn.prototype.has=function(Sn){return this.__data__.has(Sn)},Bn.prototype.set=function(Sn,Dn){var Wn=this.__data__;if(Wn instanceof Rn){var _i=Wn.__data__;if(!Zr||_i.length<199)return _i.push([Sn,Dn]),this.size=++Wn.size,this;Wn=this.__data__=new En(_i)}return Wn.set(Sn,Dn),this.size=Wn.size,this};var In=Gr?function(Sn){return Sn==null?[]:(Sn=Object(Sn),function(Dn,Wn){for(var _i=-1,Cs=Dn==null?0:Dn.length,us=0,ws=[];++_i<Cs;){var Ps=Dn[_i];Wn(Ps,_i,Dn)&&(ws[us++]=Ps)}return ws}(Gr(Sn),function(Dn){return Ur.call(Sn,Dn)}))}:function(){return[]},ss=_s;function bn(Sn,Dn){return!!(Dn=Dn??9007199254740991)&&(typeof Sn=="number"||dr.test(Sn))&&Sn>-1&&Sn%1==0&&Sn<Dn}function $n(Sn){if(Sn!=null){try{return _r.call(Sn)}catch{}try{return Sn+""}catch{}}return""}function Un(Sn,Dn){return Sn===Dn||Sn!=Sn&&Dn!=Dn}(Kr&&ss(new Kr(new ArrayBuffer(1)))!="[object DataView]"||Zr&&ss(new Zr)!=or||nn&&ss(nn.resolve())!="[object Promise]"||Qr&&ss(new Qr)!=lr||cn&&ss(new cn)!="[object WeakMap]")&&(ss=function(Sn){var Dn=_s(Sn),Wn=Dn==ar?Sn.constructor:void 0,_i=Wn?$n(Wn):"";if(_i)switch(_i){case en:return"[object DataView]";case an:return or;case tn:return"[object Promise]";case sn:return lr;case fn:return"[object WeakMap]"}return Dn});var Kn=qn(function(){return arguments}())?qn:function(Sn){return Ln(Sn)&&wr.call(Sn,"callee")&&!Ur.call(Sn,"callee")},hs=Array.isArray,ps=$r||function(){return!1};function An(Sn){if(!jn(Sn))return!1;var Dn=_s(Sn);return Dn=="[object Function]"||Dn=="[object GeneratorFunction]"||Dn=="[object AsyncFunction]"||Dn=="[object Proxy]"}function xn(Sn){return typeof Sn=="number"&&Sn>-1&&Sn%1==0&&Sn<=9007199254740991}function jn(Sn){var Dn=typeof Sn;return Sn!=null&&(Dn=="object"||Dn=="function")}function Ln(Sn){return Sn!=null&&typeof Sn=="object"}var Yn=Sr?function(Sn){return function(Dn){return Sn(Dn)}}(Sr):function(Sn){return Ln(Sn)&&xn(Sn.length)&&!!hr[_s(Sn)]};function Jn(Sn){return(Dn=Sn)!=null&&xn(Dn.length)&&!An(Dn)?rs(Sn):xs(Sn);var Dn}rr.exports=function(Sn,Dn){return vs(Sn,Dn)}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(tr,rr,nr){(function(ir){(function(){var sr=typeof ir=="object"&&ir&&ir.Object===Object&&ir,or=typeof self=="object"&&self&&self.Object===Object&&self,ar=sr||or||Function("return this")(),lr=Object.prototype,cr=lr.hasOwnProperty,dr=lr.toString,hr=ar.Symbol,ur=hr?hr.toStringTag:void 0;function pr(mr){return mr==null?mr===void 0?"[object Undefined]":"[object Null]":ur&&ur in Object(mr)?function(fr){var gr=cr.call(fr,ur),yr=fr[ur];try{fr[ur]=void 0;var vr=!0}catch{}var br=dr.call(fr);return vr&&(gr?fr[ur]=yr:delete fr[ur]),br}(mr):function(fr){return dr.call(fr)}(mr)}rr.exports=function(mr){if(!function(gr){var yr=typeof gr;return gr!=null&&(yr=="object"||yr=="function")}(mr))return!1;var fr=pr(mr);return fr=="[object Function]"||fr=="[object GeneratorFunction]"||fr=="[object AsyncFunction]"||fr=="[object Proxy]"}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(tr,rr,nr){rr.exports=function(ir){return ir==null}},{}],448:[function(tr,rr,nr){rr.exports=function(ir){return ir===void 0}},{}],449:[function(tr,rr,nr){(function(ir){(function(){var sr=/^\[object .+?Constructor\]$/,or=typeof ir=="object"&&ir&&ir.Object===Object&&ir,ar=typeof self=="object"&&self&&self.Object===Object&&self,lr=or||ar||Function("return this")();function cr(Or,Br){return!!(Or&&Or.length)&&function(Ur,qr,Vr){if(qr!=qr)return function(Fr,Kr,Zr,nn){for(var Qr=Fr.length,cn=Zr+-1;++cn<Qr;)if(Kr(Fr[cn],cn,Fr))return cn;return-1}(Ur,dr,Vr);for(var Gr=Vr-1,$r=Ur.length;++Gr<$r;)if(Ur[Gr]===qr)return Gr;return-1}(Or,Br,0)>-1}function dr(Or){return Or!=Or}function hr(Or,Br){return Or.has(Br)}function ur(Or){var Br=-1,Ur=Array(Or.size);return Or.forEach(function(qr){Ur[++Br]=qr}),Ur}var pr,mr=Array.prototype,fr=Function.prototype,gr=Object.prototype,yr=lr["__core-js_shared__"],vr=(pr=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||""))?"Symbol(src)_1."+pr:"",br=fr.toString,Sr=gr.hasOwnProperty,jr=gr.toString,Cr=RegExp("^"+br.call(Sr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pr=mr.splice,Rr=Mr(lr,"Map"),Lr=Mr(lr,"Set"),Ir=Mr(Object,"create");function Nr(Or){var Br=-1,Ur=Or?Or.length:0;for(this.clear();++Br<Ur;){var qr=Or[Br];this.set(qr[0],qr[1])}}function Ar(Or){var Br=-1,Ur=Or?Or.length:0;for(this.clear();++Br<Ur;){var qr=Or[Br];this.set(qr[0],qr[1])}}function Dr(Or){var Br=-1,Ur=Or?Or.length:0;for(this.clear();++Br<Ur;){var qr=Or[Br];this.set(qr[0],qr[1])}}function Tr(Or){var Br=-1,Ur=Or?Or.length:0;for(this.__data__=new Dr;++Br<Ur;)this.add(Or[Br])}function _r(Or,Br){for(var Ur,qr,Vr=Or.length;Vr--;)if((Ur=Or[Vr][0])===(qr=Br)||Ur!=Ur&&qr!=qr)return Vr;return-1}function wr(Or){return!(!zr(Or)||(Br=Or,vr&&vr in Br))&&(function(Ur){var qr=zr(Ur)?jr.call(Ur):"";return qr=="[object Function]"||qr=="[object GeneratorFunction]"}(Or)||function(Ur){var qr=!1;if(Ur!=null&&typeof Ur.toString!="function")try{qr=!!(Ur+"")}catch{}return qr}(Or)?Cr:sr).test(function(Ur){if(Ur!=null){try{return br.call(Ur)}catch{}try{return Ur+""}catch{}}return""}(Or));var Br}Nr.prototype.clear=function(){this.__data__=Ir?Ir(null):{}},Nr.prototype.delete=function(Or){return this.has(Or)&&delete this.__data__[Or]},Nr.prototype.get=function(Or){var Br=this.__data__;if(Ir){var Ur=Br[Or];return Ur==="__lodash_hash_undefined__"?void 0:Ur}return Sr.call(Br,Or)?Br[Or]:void 0},Nr.prototype.has=function(Or){var Br=this.__data__;return Ir?Br[Or]!==void 0:Sr.call(Br,Or)},Nr.prototype.set=function(Or,Br){return this.__data__[Or]=Ir&&Br===void 0?"__lodash_hash_undefined__":Br,this},Ar.prototype.clear=function(){this.__data__=[]},Ar.prototype.delete=function(Or){var Br=this.__data__,Ur=_r(Br,Or);return!(Ur<0)&&(Ur==Br.length-1?Br.pop():Pr.call(Br,Ur,1),!0)},Ar.prototype.get=function(Or){var Br=this.__data__,Ur=_r(Br,Or);return Ur<0?void 0:Br[Ur][1]},Ar.prototype.has=function(Or){return _r(this.__data__,Or)>-1},Ar.prototype.set=function(Or,Br){var Ur=this.__data__,qr=_r(Ur,Or);return qr<0?Ur.push([Or,Br]):Ur[qr][1]=Br,this},Dr.prototype.clear=function(){this.__data__={hash:new Nr,map:new(Rr||Ar),string:new Nr}},Dr.prototype.delete=function(Or){return xr(this,Or).delete(Or)},Dr.prototype.get=function(Or){return xr(this,Or).get(Or)},Dr.prototype.has=function(Or){return xr(this,Or).has(Or)},Dr.prototype.set=function(Or,Br){return xr(this,Or).set(Or,Br),this},Tr.prototype.add=Tr.prototype.push=function(Or){return this.__data__.set(Or,"__lodash_hash_undefined__"),this},Tr.prototype.has=function(Or){return this.__data__.has(Or)};var Er=Lr&&1/ur(new Lr([,-0]))[1]==1/0?function(Or){return new Lr(Or)}:function(){};function xr(Or,Br){var Ur,qr,Vr=Or.__data__;return((qr=typeof(Ur=Br))=="string"||qr=="number"||qr=="symbol"||qr=="boolean"?Ur!=="__proto__":Ur===null)?Vr[typeof Br=="string"?"string":"hash"]:Vr.map}function Mr(Or,Br){var Ur=function(qr,Vr){return qr==null?void 0:qr[Vr]}(Or,Br);return wr(Ur)?Ur:void 0}function zr(Or){var Br=typeof Or;return!!Or&&(Br=="object"||Br=="function")}rr.exports=function(Or){return Or&&Or.length?function(Br,Ur,qr){var Vr=-1,Gr=cr,$r=Br.length,Fr=!0,Kr=[],Zr=Kr;if($r>=200){var nn=Er(Br);if(nn)return ur(nn);Fr=!1,Gr=hr,Zr=new Tr}else Zr=Kr;e:for(;++Vr<$r;){var Qr=Br[Vr],cn=Qr;if(Qr=Qr!==0?Qr:0,Fr&&cn==cn){for(var dn=Zr.length;dn--;)if(Zr[dn]===cn)continue e;Kr.push(Qr)}else Gr(Zr,cn,qr)||(Zr!==Kr&&Zr.push(cn),Kr.push(Qr))}return Kr}(Or):[]}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("hash-base"),or=tr("safe-buffer").Buffer,ar=new Array(16);function lr(){sr.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function cr(mr,fr){return mr<<fr|mr>>>32-fr}function dr(mr,fr,gr,yr,vr,br,Sr){return cr(mr+(fr&gr|~fr&yr)+vr+br|0,Sr)+fr|0}function hr(mr,fr,gr,yr,vr,br,Sr){return cr(mr+(fr&yr|gr&~yr)+vr+br|0,Sr)+fr|0}function ur(mr,fr,gr,yr,vr,br,Sr){return cr(mr+(fr^gr^yr)+vr+br|0,Sr)+fr|0}function pr(mr,fr,gr,yr,vr,br,Sr){return cr(mr+(gr^(fr|~yr))+vr+br|0,Sr)+fr|0}ir(lr,sr),lr.prototype._update=function(){for(var mr=ar,fr=0;fr<16;++fr)mr[fr]=this._block.readInt32LE(4*fr);var gr=this._a,yr=this._b,vr=this._c,br=this._d;gr=dr(gr,yr,vr,br,mr[0],3614090360,7),br=dr(br,gr,yr,vr,mr[1],3905402710,12),vr=dr(vr,br,gr,yr,mr[2],606105819,17),yr=dr(yr,vr,br,gr,mr[3],3250441966,22),gr=dr(gr,yr,vr,br,mr[4],4118548399,7),br=dr(br,gr,yr,vr,mr[5],1200080426,12),vr=dr(vr,br,gr,yr,mr[6],2821735955,17),yr=dr(yr,vr,br,gr,mr[7],4249261313,22),gr=dr(gr,yr,vr,br,mr[8],1770035416,7),br=dr(br,gr,yr,vr,mr[9],2336552879,12),vr=dr(vr,br,gr,yr,mr[10],4294925233,17),yr=dr(yr,vr,br,gr,mr[11],2304563134,22),gr=dr(gr,yr,vr,br,mr[12],1804603682,7),br=dr(br,gr,yr,vr,mr[13],4254626195,12),vr=dr(vr,br,gr,yr,mr[14],2792965006,17),gr=hr(gr,yr=dr(yr,vr,br,gr,mr[15],1236535329,22),vr,br,mr[1],4129170786,5),br=hr(br,gr,yr,vr,mr[6],3225465664,9),vr=hr(vr,br,gr,yr,mr[11],643717713,14),yr=hr(yr,vr,br,gr,mr[0],3921069994,20),gr=hr(gr,yr,vr,br,mr[5],3593408605,5),br=hr(br,gr,yr,vr,mr[10],38016083,9),vr=hr(vr,br,gr,yr,mr[15],3634488961,14),yr=hr(yr,vr,br,gr,mr[4],3889429448,20),gr=hr(gr,yr,vr,br,mr[9],568446438,5),br=hr(br,gr,yr,vr,mr[14],3275163606,9),vr=hr(vr,br,gr,yr,mr[3],4107603335,14),yr=hr(yr,vr,br,gr,mr[8],1163531501,20),gr=hr(gr,yr,vr,br,mr[13],2850285829,5),br=hr(br,gr,yr,vr,mr[2],4243563512,9),vr=hr(vr,br,gr,yr,mr[7],1735328473,14),gr=ur(gr,yr=hr(yr,vr,br,gr,mr[12],2368359562,20),vr,br,mr[5],4294588738,4),br=ur(br,gr,yr,vr,mr[8],2272392833,11),vr=ur(vr,br,gr,yr,mr[11],1839030562,16),yr=ur(yr,vr,br,gr,mr[14],4259657740,23),gr=ur(gr,yr,vr,br,mr[1],2763975236,4),br=ur(br,gr,yr,vr,mr[4],1272893353,11),vr=ur(vr,br,gr,yr,mr[7],4139469664,16),yr=ur(yr,vr,br,gr,mr[10],3200236656,23),gr=ur(gr,yr,vr,br,mr[13],681279174,4),br=ur(br,gr,yr,vr,mr[0],3936430074,11),vr=ur(vr,br,gr,yr,mr[3],3572445317,16),yr=ur(yr,vr,br,gr,mr[6],76029189,23),gr=ur(gr,yr,vr,br,mr[9],3654602809,4),br=ur(br,gr,yr,vr,mr[12],3873151461,11),vr=ur(vr,br,gr,yr,mr[15],530742520,16),gr=pr(gr,yr=ur(yr,vr,br,gr,mr[2],3299628645,23),vr,br,mr[0],4096336452,6),br=pr(br,gr,yr,vr,mr[7],1126891415,10),vr=pr(vr,br,gr,yr,mr[14],2878612391,15),yr=pr(yr,vr,br,gr,mr[5],4237533241,21),gr=pr(gr,yr,vr,br,mr[12],1700485571,6),br=pr(br,gr,yr,vr,mr[3],2399980690,10),vr=pr(vr,br,gr,yr,mr[10],4293915773,15),yr=pr(yr,vr,br,gr,mr[1],2240044497,21),gr=pr(gr,yr,vr,br,mr[8],1873313359,6),br=pr(br,gr,yr,vr,mr[15],4264355552,10),vr=pr(vr,br,gr,yr,mr[6],2734768916,15),yr=pr(yr,vr,br,gr,mr[13],1309151649,21),gr=pr(gr,yr,vr,br,mr[4],4149444226,6),br=pr(br,gr,yr,vr,mr[11],3174756917,10),vr=pr(vr,br,gr,yr,mr[2],718787259,15),yr=pr(yr,vr,br,gr,mr[9],3951481745,21),this._a=this._a+gr|0,this._b=this._b+yr|0,this._c=this._c+vr|0,this._d=this._d+br|0},lr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var mr=or.allocUnsafe(16);return mr.writeInt32LE(this._a,0),mr.writeInt32LE(this._b,4),mr.writeInt32LE(this._c,8),mr.writeInt32LE(this._d,12),mr},rr.exports=lr},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("brorand");function or(ar){this.rand=ar||new sr.Rand}rr.exports=or,or.create=function(ar){return new or(ar)},or.prototype._randbelow=function(ar){var lr=ar.bitLength(),cr=Math.ceil(lr/8);do var dr=new ir(this.rand.generate(cr));while(dr.cmp(ar)>=0);return dr},or.prototype._randrange=function(ar,lr){var cr=lr.sub(ar);return ar.add(this._randbelow(cr))},or.prototype.test=function(ar,lr,cr){var dr=ar.bitLength(),hr=ir.mont(ar),ur=new ir(1).toRed(hr);lr||(lr=Math.max(1,dr/48|0));for(var pr=ar.subn(1),mr=0;!pr.testn(mr);mr++);for(var fr=ar.shrn(mr),gr=pr.toRed(hr);lr>0;lr--){var yr=this._randrange(new ir(2),pr);cr&&cr(yr);var vr=yr.toRed(hr).redPow(fr);if(vr.cmp(ur)!==0&&vr.cmp(gr)!==0){for(var br=1;br<mr;br++){if((vr=vr.redSqr()).cmp(ur)===0)return!1;if(vr.cmp(gr)===0)break}if(br===mr)return!1}}return!0},or.prototype.getDivisor=function(ar,lr){var cr=ar.bitLength(),dr=ir.mont(ar),hr=new ir(1).toRed(dr);lr||(lr=Math.max(1,cr/48|0));for(var ur=ar.subn(1),pr=0;!ur.testn(pr);pr++);for(var mr=ar.shrn(pr),fr=ur.toRed(dr);lr>0;lr--){var gr=this._randrange(new ir(2),ur),yr=ar.gcd(gr);if(yr.cmpn(1)!==0)return yr;var vr=gr.toRed(dr).redPow(mr);if(vr.cmp(hr)!==0&&vr.cmp(fr)!==0){for(var br=1;br<pr;br++){if((vr=vr.redSqr()).cmp(hr)===0)return vr.fromRed().subn(1).gcd(ar);if(vr.cmp(fr)===0)break}if(br===pr)return(vr=vr.redSqr()).fromRed().subn(1).gcd(ar)}}return!1}},{"bn.js":452,brorand:187}],452:[function(tr,rr,nr){arguments[4][184][0].apply(nr,arguments)},{buffer:188,dup:184}],453:[function(tr,rr,nr){function ir(sr,or){if(!sr)throw new Error(or||"Assertion failed")}rr.exports=ir,ir.equal=function(sr,or,ar){if(sr!=or)throw new Error(ar||"Assertion failed: "+sr+" != "+or)}},{}],454:[function(tr,rr,nr){var ir=nr;function sr(ar){return ar.length===1?"0"+ar:ar}function or(ar){for(var lr="",cr=0;cr<ar.length;cr++)lr+=sr(ar[cr].toString(16));return lr}ir.toArray=function(ar,lr){if(Array.isArray(ar))return ar.slice();if(!ar)return[];var cr=[];if(typeof ar!="string"){for(var dr=0;dr<ar.length;dr++)cr[dr]=0|ar[dr];return cr}if(lr==="hex")for((ar=ar.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(ar="0"+ar),dr=0;dr<ar.length;dr+=2)cr.push(parseInt(ar[dr]+ar[dr+1],16));else for(dr=0;dr<ar.length;dr++){var hr=ar.charCodeAt(dr),ur=hr>>8,pr=255&hr;ur?cr.push(ur,pr):cr.push(pr)}return cr},ir.zero2=sr,ir.toHex=or,ir.encode=function(ar,lr){return lr==="hex"?or(ar):ar}},{}],455:[function(tr,rr,nr){rr.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(tr,rr,nr){var ir=tr("asn1.js");nr.certificate=tr("./certificate");var sr=ir.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});nr.RSAPrivateKey=sr;var or=ir.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});nr.RSAPublicKey=or;var ar=ir.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(lr),this.key("subjectPublicKey").bitstr())});nr.PublicKey=ar;var lr=ir.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),cr=ir.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(lr),this.key("subjectPrivateKey").octstr())});nr.PrivateKey=cr;var dr=ir.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});nr.EncryptedPrivateKey=dr;var hr=ir.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});nr.DSAPrivateKey=hr,nr.DSAparam=ir.define("DSAparam",function(){this.int()});var ur=ir.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(pr),this.key("publicKey").optional().explicit(1).bitstr())});nr.ECPrivateKey=ur;var pr=ir.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});nr.signature=ir.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(tr,rr,nr){var ir=tr("asn1.js"),sr=ir.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),or=ir.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),ar=ir.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),lr=ir.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ar),this.key("subjectPublicKey").bitstr())}),cr=ir.define("RelativeDistinguishedName",function(){this.setof(or)}),dr=ir.define("RDNSequence",function(){this.seqof(cr)}),hr=ir.define("Name",function(){this.choice({rdnSequence:this.use(dr)})}),ur=ir.define("Validity",function(){this.seq().obj(this.key("notBefore").use(sr),this.key("notAfter").use(sr))}),pr=ir.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),mr=ir.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ar),this.key("issuer").use(hr),this.key("validity").use(ur),this.key("subject").use(hr),this.key("subjectPublicKeyInfo").use(lr),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(pr).optional())}),fr=ir.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(mr),this.key("signatureAlgorithm").use(ar),this.key("signatureValue").bitstr())});rr.exports=fr},{"asn1.js":170}],458:[function(tr,rr,nr){var ir=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,sr=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,or=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ar=tr("evp_bytestokey"),lr=tr("browserify-aes"),cr=tr("safe-buffer").Buffer;rr.exports=function(dr,hr){var ur,pr=dr.toString(),mr=pr.match(ir);if(mr){var fr="aes"+mr[1],gr=cr.from(mr[2],"hex"),yr=cr.from(mr[3].replace(/[\r\n]/g,""),"base64"),vr=ar(hr,gr.slice(0,8),parseInt(mr[1],10)).key,br=[],Sr=lr.createDecipheriv(fr,vr,gr);br.push(Sr.update(yr)),br.push(Sr.final()),ur=cr.concat(br)}else{var jr=pr.match(or);ur=cr.from(jr[2].replace(/[\r\n]/g,""),"base64")}return{tag:pr.match(sr)[1],data:ur}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(tr,rr,nr){var ir=tr("./asn1"),sr=tr("./aesid.json"),or=tr("./fixProc"),ar=tr("browserify-aes"),lr=tr("pbkdf2"),cr=tr("safe-buffer").Buffer;function dr(hr){var ur;typeof hr!="object"||cr.isBuffer(hr)||(ur=hr.passphrase,hr=hr.key),typeof hr=="string"&&(hr=cr.from(hr));var pr,mr,fr=or(hr,ur),gr=fr.tag,yr=fr.data;switch(gr){case"CERTIFICATE":mr=ir.certificate.decode(yr,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(mr||(mr=ir.PublicKey.decode(yr,"der")),pr=mr.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ir.RSAPublicKey.decode(mr.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return mr.subjectPrivateKey=mr.subjectPublicKey,{type:"ec",data:mr};case"1.2.840.10040.4.1":return mr.algorithm.params.pub_key=ir.DSAparam.decode(mr.subjectPublicKey.data,"der"),{type:"dsa",data:mr.algorithm.params};default:throw new Error("unknown key id "+pr)}case"ENCRYPTED PRIVATE KEY":yr=function(vr,br){var Sr=vr.algorithm.decrypt.kde.kdeparams.salt,jr=parseInt(vr.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Cr=sr[vr.algorithm.decrypt.cipher.algo.join(".")],Pr=vr.algorithm.decrypt.cipher.iv,Rr=vr.subjectPrivateKey,Lr=parseInt(Cr.split("-")[1],10)/8,Ir=lr.pbkdf2Sync(br,Sr,jr,Lr,"sha1"),Nr=ar.createDecipheriv(Cr,Ir,Pr),Ar=[];return Ar.push(Nr.update(Rr)),Ar.push(Nr.final()),cr.concat(Ar)}(yr=ir.EncryptedPrivateKey.decode(yr,"der"),ur);case"PRIVATE KEY":switch(pr=(mr=ir.PrivateKey.decode(yr,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ir.RSAPrivateKey.decode(mr.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:mr.algorithm.curve,privateKey:ir.ECPrivateKey.decode(mr.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return mr.algorithm.params.priv_key=ir.DSAparam.decode(mr.subjectPrivateKey,"der"),{type:"dsa",params:mr.algorithm.params};default:throw new Error("unknown key id "+pr)}case"RSA PUBLIC KEY":return ir.RSAPublicKey.decode(yr,"der");case"RSA PRIVATE KEY":return ir.RSAPrivateKey.decode(yr,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ir.DSAPrivateKey.decode(yr,"der")};case"EC PRIVATE KEY":return{curve:(yr=ir.ECPrivateKey.decode(yr,"der")).parameters.value,privateKey:yr.privateKey};default:throw new Error("unknown key type "+gr)}}rr.exports=dr,dr.signature=ir.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(tr,rr,nr){nr.pbkdf2=tr("./lib/async"),nr.pbkdf2Sync=tr("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(tr,rr,nr){(function(ir){(function(){var sr,or,ar=tr("safe-buffer").Buffer,lr=tr("./precondition"),cr=tr("./default-encoding"),dr=tr("./sync"),hr=tr("./to-buffer"),ur=ir.crypto&&ir.crypto.subtle,pr={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},mr=[];function fr(){return or||(or=ir.process&&ir.process.nextTick?ir.process.nextTick:ir.queueMicrotask?ir.queueMicrotask:ir.setImmediate?ir.setImmediate:ir.setTimeout)}function gr(yr,vr,br,Sr,jr){return ur.importKey("raw",yr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Cr){return ur.deriveBits({name:"PBKDF2",salt:vr,iterations:br,hash:{name:jr}},Cr,Sr<<3)}).then(function(Cr){return ar.from(Cr)})}rr.exports=function(yr,vr,br,Sr,jr,Cr){typeof jr=="function"&&(Cr=jr,jr=void 0);var Pr=pr[(jr=jr||"sha1").toLowerCase()];if(Pr&&typeof ir.Promise=="function"){if(lr(br,Sr),yr=hr(yr,cr,"Password"),vr=hr(vr,cr,"Salt"),typeof Cr!="function")throw new Error("No callback provided to pbkdf2");(function(Rr,Lr){Rr.then(function(Ir){fr()(function(){Lr(null,Ir)})},function(Ir){fr()(function(){Lr(Ir)})})})(function(Rr){if(ir.process&&!ir.process.browser||!ur||!ur.importKey||!ur.deriveBits)return Promise.resolve(!1);if(mr[Rr]!==void 0)return mr[Rr];var Lr=gr(sr=sr||ar.alloc(8),sr,10,128,Rr).then(function(){return!0}).catch(function(){return!1});return mr[Rr]=Lr,Lr}(Pr).then(function(Rr){return Rr?gr(yr,vr,br,Sr,Pr):dr(yr,vr,br,Sr,jr)}),Cr)}else fr()(function(){var Rr;try{Rr=dr(yr,vr,br,Sr,jr)}catch(Lr){return Cr(Lr)}Cr(null,Rr)})}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(tr,rr,nr){(function(ir,sr){(function(){var or;sr.process&&sr.process.browser?or="utf-8":sr.process&&sr.process.version?or=parseInt(ir.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":or="utf-8",rr.exports=or}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(tr,rr,nr){var ir=Math.pow(2,30)-1;rr.exports=function(sr,or){if(typeof sr!="number")throw new TypeError("Iterations not a number");if(sr<0)throw new TypeError("Bad iterations");if(typeof or!="number")throw new TypeError("Key length not a number");if(or<0||or>ir||or!=or)throw new TypeError("Bad key length")}},{}],464:[function(tr,rr,nr){var ir=tr("create-hash/md5"),sr=tr("ripemd160"),or=tr("sha.js"),ar=tr("safe-buffer").Buffer,lr=tr("./precondition"),cr=tr("./default-encoding"),dr=tr("./to-buffer"),hr=ar.alloc(128),ur={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function pr(mr,fr,gr){var yr=function(Pr){function Rr(Lr){return or(Pr).update(Lr).digest()}return Pr==="rmd160"||Pr==="ripemd160"?function(Lr){return new sr().update(Lr).digest()}:Pr==="md5"?ir:Rr}(mr),vr=mr==="sha512"||mr==="sha384"?128:64;fr.length>vr?fr=yr(fr):fr.length<vr&&(fr=ar.concat([fr,hr],vr));for(var br=ar.allocUnsafe(vr+ur[mr]),Sr=ar.allocUnsafe(vr+ur[mr]),jr=0;jr<vr;jr++)br[jr]=54^fr[jr],Sr[jr]=92^fr[jr];var Cr=ar.allocUnsafe(vr+gr+4);br.copy(Cr,0,0,vr),this.ipad1=Cr,this.ipad2=br,this.opad=Sr,this.alg=mr,this.blocksize=vr,this.hash=yr,this.size=ur[mr]}pr.prototype.run=function(mr,fr){return mr.copy(fr,this.blocksize),this.hash(fr).copy(this.opad,this.blocksize),this.hash(this.opad)},rr.exports=function(mr,fr,gr,yr,vr){lr(gr,yr);var br=new pr(vr=vr||"sha1",mr=dr(mr,cr,"Password"),(fr=dr(fr,cr,"Salt")).length),Sr=ar.allocUnsafe(yr),jr=ar.allocUnsafe(fr.length+4);fr.copy(jr,0,0,fr.length);for(var Cr=0,Pr=ur[vr],Rr=Math.ceil(yr/Pr),Lr=1;Lr<=Rr;Lr++){jr.writeUInt32BE(Lr,fr.length);for(var Ir=br.run(jr,br.ipad1),Nr=Ir,Ar=1;Ar<gr;Ar++){Nr=br.run(Nr,br.ipad2);for(var Dr=0;Dr<Pr;Dr++)Ir[Dr]^=Nr[Dr]}Ir.copy(Sr,Cr),Cr+=Pr}return Sr}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer;rr.exports=function(sr,or,ar){if(ir.isBuffer(sr))return sr;if(typeof sr=="string")return ir.from(sr,or);if(ArrayBuffer.isView(sr))return ir.from(sr.buffer);throw new TypeError(ar+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(tr,rr,nr){(function(ir){(function(){ir===void 0||!ir.version||ir.version.indexOf("v0.")===0||ir.version.indexOf("v1.")===0&&ir.version.indexOf("v1.8.")!==0?rr.exports={nextTick:function(sr,or,ar,lr){if(typeof sr!="function")throw new TypeError('"callback" argument must be a function');var cr,dr,hr=arguments.length;switch(hr){case 0:case 1:return ir.nextTick(sr);case 2:return ir.nextTick(function(){sr.call(null,or)});case 3:return ir.nextTick(function(){sr.call(null,or,ar)});case 4:return ir.nextTick(function(){sr.call(null,or,ar,lr)});default:for(cr=new Array(hr-1),dr=0;dr<cr.length;)cr[dr++]=arguments[dr];return ir.nextTick(function(){sr.apply(null,cr)})}}}:rr.exports=ir}).call(this)}).call(this,tr("_process"))},{_process:467}],467:[function(tr,rr,nr){var ir,sr,or=rr.exports={};function ar(){throw new Error("setTimeout has not been defined")}function lr(){throw new Error("clearTimeout has not been defined")}function cr(vr){if(ir===setTimeout)return setTimeout(vr,0);if((ir===ar||!ir)&&setTimeout)return ir=setTimeout,setTimeout(vr,0);try{return ir(vr,0)}catch{try{return ir.call(null,vr,0)}catch{return ir.call(this,vr,0)}}}(function(){try{ir=typeof setTimeout=="function"?setTimeout:ar}catch{ir=ar}try{sr=typeof clearTimeout=="function"?clearTimeout:lr}catch{sr=lr}})();var dr,hr=[],ur=!1,pr=-1;function mr(){ur&&dr&&(ur=!1,dr.length?hr=dr.concat(hr):pr=-1,hr.length&&fr())}function fr(){if(!ur){var vr=cr(mr);ur=!0;for(var br=hr.length;br;){for(dr=hr,hr=[];++pr<br;)dr&&dr[pr].run();pr=-1,br=hr.length}dr=null,ur=!1,function(Sr){if(sr===clearTimeout)return clearTimeout(Sr);if((sr===lr||!sr)&&clearTimeout)return sr=clearTimeout,clearTimeout(Sr);try{sr(Sr)}catch{try{return sr.call(null,Sr)}catch{return sr.call(this,Sr)}}}(vr)}}function gr(vr,br){this.fun=vr,this.array=br}function yr(){}or.nextTick=function(vr){var br=new Array(arguments.length-1);if(arguments.length>1)for(var Sr=1;Sr<arguments.length;Sr++)br[Sr-1]=arguments[Sr];hr.push(new gr(vr,br)),hr.length!==1||ur||cr(fr)},gr.prototype.run=function(){this.fun.apply(null,this.array)},or.title="browser",or.browser=!0,or.env={},or.argv=[],or.version="",or.versions={},or.on=yr,or.addListener=yr,or.once=yr,or.off=yr,or.removeListener=yr,or.removeAllListeners=yr,or.emit=yr,or.prependListener=yr,or.prependOnceListener=yr,or.listeners=function(vr){return[]},or.binding=function(vr){throw new Error("process.binding is not supported")},or.cwd=function(){return"/"},or.chdir=function(vr){throw new Error("process.chdir is not supported")},or.umask=function(){return 0}},{}],468:[function(tr,rr,nr){nr.publicEncrypt=tr("./publicEncrypt"),nr.privateDecrypt=tr("./privateDecrypt"),nr.privateEncrypt=function(ir,sr){return nr.publicEncrypt(ir,sr,!0)},nr.publicDecrypt=function(ir,sr){return nr.privateDecrypt(ir,sr,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(tr,rr,nr){var ir=tr("create-hash"),sr=tr("safe-buffer").Buffer;function or(ar){var lr=sr.allocUnsafe(4);return lr.writeUInt32BE(ar,0),lr}rr.exports=function(ar,lr){for(var cr,dr=sr.alloc(0),hr=0;dr.length<lr;)cr=or(hr++),dr=sr.concat([dr,ir("sha1").update(ar).update(cr).digest()]);return dr.slice(0,lr)}},{"create-hash":386,"safe-buffer":494}],470:[function(tr,rr,nr){arguments[4][184][0].apply(nr,arguments)},{buffer:188,dup:184}],471:[function(tr,rr,nr){var ir=tr("parse-asn1"),sr=tr("./mgf"),or=tr("./xor"),ar=tr("bn.js"),lr=tr("browserify-rsa"),cr=tr("create-hash"),dr=tr("./withPublic"),hr=tr("safe-buffer").Buffer;rr.exports=function(ur,pr,mr){var fr;fr=ur.padding?ur.padding:mr?1:4;var gr,yr=ir(ur),vr=yr.modulus.byteLength();if(pr.length>vr||new ar(pr).cmp(yr.modulus)>=0)throw new Error("decryption error");gr=mr?dr(new ar(pr),yr):lr(pr,yr);var br=hr.alloc(vr-gr.length);if(gr=hr.concat([br,gr],vr),fr===4)return function(Sr,jr){var Cr=Sr.modulus.byteLength(),Pr=cr("sha1").update(hr.alloc(0)).digest(),Rr=Pr.length;if(jr[0]!==0)throw new Error("decryption error");var Lr=jr.slice(1,Rr+1),Ir=jr.slice(Rr+1),Nr=or(Lr,sr(Ir,Rr)),Ar=or(Ir,sr(Nr,Cr-Rr-1));if(function(Tr,_r){Tr=hr.from(Tr),_r=hr.from(_r);var wr=0,Er=Tr.length;Tr.length!==_r.length&&(wr++,Er=Math.min(Tr.length,_r.length));for(var xr=-1;++xr<Er;)wr+=Tr[xr]^_r[xr];return wr}(Pr,Ar.slice(0,Rr)))throw new Error("decryption error");for(var Dr=Rr;Ar[Dr]===0;)Dr++;if(Ar[Dr++]!==1)throw new Error("decryption error");return Ar.slice(Dr)}(yr,gr);if(fr===1)return function(Sr,jr,Cr){for(var Pr=jr.slice(0,2),Rr=2,Lr=0;jr[Rr++]!==0;)if(Rr>=jr.length){Lr++;break}var Ir=jr.slice(2,Rr-1);if((Pr.toString("hex")!=="0002"&&!Cr||Pr.toString("hex")!=="0001"&&Cr)&&Lr++,Ir.length<8&&Lr++,Lr)throw new Error("decryption error");return jr.slice(Rr)}(0,gr,mr);if(fr===3)return gr;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(tr,rr,nr){var ir=tr("parse-asn1"),sr=tr("randombytes"),or=tr("create-hash"),ar=tr("./mgf"),lr=tr("./xor"),cr=tr("bn.js"),dr=tr("./withPublic"),hr=tr("browserify-rsa"),ur=tr("safe-buffer").Buffer;rr.exports=function(pr,mr,fr){var gr;gr=pr.padding?pr.padding:fr?1:4;var yr,vr=ir(pr);if(gr===4)yr=function(br,Sr){var jr=br.modulus.byteLength(),Cr=Sr.length,Pr=or("sha1").update(ur.alloc(0)).digest(),Rr=Pr.length,Lr=2*Rr;if(Cr>jr-Lr-2)throw new Error("message too long");var Ir=ur.alloc(jr-Cr-Lr-2),Nr=jr-Rr-1,Ar=sr(Rr),Dr=lr(ur.concat([Pr,Ir,ur.alloc(1,1),Sr],Nr),ar(Ar,Nr)),Tr=lr(Ar,ar(Dr,Rr));return new cr(ur.concat([ur.alloc(1),Tr,Dr],jr))}(vr,mr);else if(gr===1)yr=function(br,Sr,jr){var Cr,Pr=Sr.length,Rr=br.modulus.byteLength();if(Pr>Rr-11)throw new Error("message too long");return Cr=jr?ur.alloc(Rr-Pr-3,255):function(Lr){for(var Ir,Nr=ur.allocUnsafe(Lr),Ar=0,Dr=sr(2*Lr),Tr=0;Ar<Lr;)Tr===Dr.length&&(Dr=sr(2*Lr),Tr=0),(Ir=Dr[Tr++])&&(Nr[Ar++]=Ir);return Nr}(Rr-Pr-3),new cr(ur.concat([ur.from([0,jr?1:2]),Cr,ur.alloc(1),Sr],Rr))}(vr,mr,fr);else{if(gr!==3)throw new Error("unknown padding");if((yr=new cr(mr)).cmp(vr.modulus)>=0)throw new Error("data too long for modulus")}return fr?hr(yr,vr):dr(yr,vr)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(tr,rr,nr){var ir=tr("bn.js"),sr=tr("safe-buffer").Buffer;rr.exports=function(or,ar){return sr.from(or.toRed(ir.mont(ar.modulus)).redPow(new ir(ar.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(tr,rr,nr){rr.exports=function(ir,sr){for(var or=ir.length,ar=-1;++ar<or;)ir[ar]^=sr[ar];return ir}},{}],475:[function(tr,rr,nr){(function(ir,sr){(function(){var or=tr("safe-buffer").Buffer,ar=sr.crypto||sr.msCrypto;ar&&ar.getRandomValues?rr.exports=function(lr,cr){if(lr>4294967295)throw new RangeError("requested too many random bytes");var dr=or.allocUnsafe(lr);if(lr>0)if(lr>65536)for(var hr=0;hr<lr;hr+=65536)ar.getRandomValues(dr.slice(hr,hr+65536));else ar.getRandomValues(dr);return typeof cr=="function"?ir.nextTick(function(){cr(null,dr)}):dr}:rr.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(tr,rr,nr){(function(ir,sr){(function(){function or(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var ar=tr("safe-buffer"),lr=tr("randombytes"),cr=ar.Buffer,dr=ar.kMaxLength,hr=sr.crypto||sr.msCrypto,ur=Math.pow(2,32)-1;function pr(gr,yr){if(typeof gr!="number"||gr!=gr)throw new TypeError("offset must be a number");if(gr>ur||gr<0)throw new TypeError("offset must be a uint32");if(gr>dr||gr>yr)throw new RangeError("offset out of range")}function mr(gr,yr,vr){if(typeof gr!="number"||gr!=gr)throw new TypeError("size must be a number");if(gr>ur||gr<0)throw new TypeError("size must be a uint32");if(gr+yr>vr||gr>dr)throw new RangeError("buffer too small")}function fr(gr,yr,vr,br){if(ir.browser){var Sr=gr.buffer,jr=new Uint8Array(Sr,yr,vr);return hr.getRandomValues(jr),br?void ir.nextTick(function(){br(null,gr)}):gr}if(!br)return lr(vr).copy(gr,yr),gr;lr(vr,function(Cr,Pr){if(Cr)return br(Cr);Pr.copy(gr,yr),br(null,gr)})}hr&&hr.getRandomValues||!ir.browser?(nr.randomFill=function(gr,yr,vr,br){if(!(cr.isBuffer(gr)||gr instanceof sr.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof yr=="function")br=yr,yr=0,vr=gr.length;else if(typeof vr=="function")br=vr,vr=gr.length-yr;else if(typeof br!="function")throw new TypeError('"cb" argument must be a function');return pr(yr,gr.length),mr(vr,yr,gr.length),fr(gr,yr,vr,br)},nr.randomFillSync=function(gr,yr,vr){if(yr===void 0&&(yr=0),!(cr.isBuffer(gr)||gr instanceof sr.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return pr(yr,gr.length),vr===void 0&&(vr=gr.length-yr),mr(vr,yr,gr.length),fr(gr,yr,vr)}):(nr.randomFill=or,nr.randomFillSync=or)}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(tr,rr,nr){var ir={};function sr(ar,lr,cr){cr||(cr=Error);var dr=function(hr){var ur,pr;function mr(fr,gr,yr){return hr.call(this,function(vr,br,Sr){return typeof lr=="string"?lr:lr(vr,br,Sr)}(fr,gr,yr))||this}return pr=hr,(ur=mr).prototype=Object.create(pr.prototype),ur.prototype.constructor=ur,ur.__proto__=pr,mr}(cr);dr.prototype.name=cr.name,dr.prototype.code=ar,ir[ar]=dr}function or(ar,lr){if(Array.isArray(ar)){var cr=ar.length;return ar=ar.map(function(dr){return String(dr)}),cr>2?"one of ".concat(lr," ").concat(ar.slice(0,cr-1).join(", "),", or ")+ar[cr-1]:cr===2?"one of ".concat(lr," ").concat(ar[0]," or ").concat(ar[1]):"of ".concat(lr," ").concat(ar[0])}return"of ".concat(lr," ").concat(String(ar))}sr("ERR_INVALID_OPT_VALUE",function(ar,lr){return'The value "'+lr+'" is invalid for option "'+ar+'"'},TypeError),sr("ERR_INVALID_ARG_TYPE",function(ar,lr,cr){var dr,hr,ur;if(typeof lr=="string"&&(hr="not ",lr.substr(0,hr.length)===hr)?(dr="must not be",lr=lr.replace(/^not /,"")):dr="must be",function(mr,fr,gr){return(gr===void 0||gr>mr.length)&&(gr=mr.length),mr.substring(gr-fr.length,gr)===fr}(ar," argument"))ur="The ".concat(ar," ").concat(dr," ").concat(or(lr,"type"));else{var pr=function(mr,fr,gr){return typeof gr!="number"&&(gr=0),!(gr+fr.length>mr.length)&&mr.indexOf(fr,gr)!==-1}(ar,".")?"property":"argument";ur='The "'.concat(ar,'" ').concat(pr," ").concat(dr," ").concat(or(lr,"type"))}return ur+=". Received type ".concat(typeof cr)},TypeError),sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),sr("ERR_METHOD_NOT_IMPLEMENTED",function(ar){return"The "+ar+" method is not implemented"}),sr("ERR_STREAM_PREMATURE_CLOSE","Premature close"),sr("ERR_STREAM_DESTROYED",function(ar){return"Cannot call "+ar+" after a stream was destroyed"}),sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),sr("ERR_STREAM_WRITE_AFTER_END","write after end"),sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),sr("ERR_UNKNOWN_ENCODING",function(ar){return"Unknown encoding: "+ar},TypeError),sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rr.exports.codes=ir},{}],478:[function(tr,rr,nr){(function(ir){(function(){var sr=Object.keys||function(mr){var fr=[];for(var gr in mr)fr.push(gr);return fr};rr.exports=hr;var or=tr("./_stream_readable"),ar=tr("./_stream_writable");tr("inherits")(hr,or);for(var lr=sr(ar.prototype),cr=0;cr<lr.length;cr++){var dr=lr[cr];hr.prototype[dr]||(hr.prototype[dr]=ar.prototype[dr])}function hr(mr){if(!(this instanceof hr))return new hr(mr);or.call(this,mr),ar.call(this,mr),this.allowHalfOpen=!0,mr&&(mr.readable===!1&&(this.readable=!1),mr.writable===!1&&(this.writable=!1),mr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ur)))}function ur(){this._writableState.ended||ir.nextTick(pr,this)}function pr(mr){mr.end()}Object.defineProperty(hr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(hr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(hr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(hr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(mr){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=mr,this._writableState.destroyed=mr)}})}).call(this)}).call(this,tr("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(tr,rr,nr){rr.exports=sr;var ir=tr("./_stream_transform");function sr(or){if(!(this instanceof sr))return new sr(or);ir.call(this,or)}tr("inherits")(sr,ir),sr.prototype._transform=function(or,ar,lr){lr(null,or)}},{"./_stream_transform":481,inherits:440}],480:[function(tr,rr,nr){(function(ir,sr){(function(){var or;rr.exports=Nr,Nr.ReadableState=Ir,tr("events").EventEmitter;var ar=function($r,Fr){return $r.listeners(Fr).length},lr=tr("./internal/streams/stream"),cr=tr("buffer").Buffer,dr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},hr,ur=tr("util");hr=ur&&ur.debuglog?ur.debuglog("stream"):function(){};var pr,mr,fr,gr=tr("./internal/streams/buffer_list"),yr=tr("./internal/streams/destroy"),vr=tr("./internal/streams/state").getHighWaterMark,br=tr("../errors").codes,Sr=br.ERR_INVALID_ARG_TYPE,jr=br.ERR_STREAM_PUSH_AFTER_EOF,Cr=br.ERR_METHOD_NOT_IMPLEMENTED,Pr=br.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;tr("inherits")(Nr,lr);var Rr=yr.errorOrDestroy,Lr=["error","close","destroy","pause","resume"];function Ir($r,Fr,Kr){or=or||tr("./_stream_duplex"),$r=$r||{},typeof Kr!="boolean"&&(Kr=Fr instanceof or),this.objectMode=!!$r.objectMode,Kr&&(this.objectMode=this.objectMode||!!$r.readableObjectMode),this.highWaterMark=vr(this,$r,"readableHighWaterMark",Kr),this.buffer=new gr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$r.emitClose!==!1,this.autoDestroy=!!$r.autoDestroy,this.destroyed=!1,this.defaultEncoding=$r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$r.encoding&&(pr||(pr=tr("string_decoder/").StringDecoder),this.decoder=new pr($r.encoding),this.encoding=$r.encoding)}function Nr($r){if(or=or||tr("./_stream_duplex"),!(this instanceof Nr))return new Nr($r);var Fr=this instanceof or;this._readableState=new Ir($r,this,Fr),this.readable=!0,$r&&(typeof $r.read=="function"&&(this._read=$r.read),typeof $r.destroy=="function"&&(this._destroy=$r.destroy)),lr.call(this)}function Ar($r,Fr,Kr,Zr,nn){hr("readableAddChunk",Fr);var Qr,cn=$r._readableState;if(Fr===null)cn.reading=!1,function(dn,en){if(hr("onEofChunk"),!en.ended){if(en.decoder){var an=en.decoder.end();an&&an.length&&(en.buffer.push(an),en.length+=en.objectMode?1:an.length)}en.ended=!0,en.sync?_r(dn):(en.needReadable=!1,en.emittedReadable||(en.emittedReadable=!0,wr(dn)))}}($r,cn);else if(nn||(Qr=function(dn,en){var an;tn=en,cr.isBuffer(tn)||tn instanceof dr||typeof en=="string"||en===void 0||dn.objectMode||(an=new Sr("chunk",["string","Buffer","Uint8Array"],en));var tn;return an}(cn,Fr)),Qr)Rr($r,Qr);else if(cn.objectMode||Fr&&Fr.length>0)if(typeof Fr=="string"||cn.objectMode||Object.getPrototypeOf(Fr)===cr.prototype||(Fr=function(dn){return cr.from(dn)}(Fr)),Zr)cn.endEmitted?Rr($r,new Pr):Dr($r,cn,Fr,!0);else if(cn.ended)Rr($r,new jr);else{if(cn.destroyed)return!1;cn.reading=!1,cn.decoder&&!Kr?(Fr=cn.decoder.write(Fr),cn.objectMode||Fr.length!==0?Dr($r,cn,Fr,!1):Er($r,cn)):Dr($r,cn,Fr,!1)}else Zr||(cn.reading=!1,Er($r,cn));return!cn.ended&&(cn.length<cn.highWaterMark||cn.length===0)}function Dr($r,Fr,Kr,Zr){Fr.flowing&&Fr.length===0&&!Fr.sync?(Fr.awaitDrain=0,$r.emit("data",Kr)):(Fr.length+=Fr.objectMode?1:Kr.length,Zr?Fr.buffer.unshift(Kr):Fr.buffer.push(Kr),Fr.needReadable&&_r($r)),Er($r,Fr)}Object.defineProperty(Nr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($r){this._readableState&&(this._readableState.destroyed=$r)}}),Nr.prototype.destroy=yr.destroy,Nr.prototype._undestroy=yr.undestroy,Nr.prototype._destroy=function($r,Fr){Fr($r)},Nr.prototype.push=function($r,Fr){var Kr,Zr=this._readableState;return Zr.objectMode?Kr=!0:typeof $r=="string"&&((Fr=Fr||Zr.defaultEncoding)!==Zr.encoding&&($r=cr.from($r,Fr),Fr=""),Kr=!0),Ar(this,$r,Fr,!1,Kr)},Nr.prototype.unshift=function($r){return Ar(this,$r,null,!0,!1)},Nr.prototype.isPaused=function(){return this._readableState.flowing===!1},Nr.prototype.setEncoding=function($r){pr||(pr=tr("string_decoder/").StringDecoder);var Fr=new pr($r);this._readableState.decoder=Fr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Kr=this._readableState.buffer.head,Zr="";Kr!==null;)Zr+=Fr.write(Kr.data),Kr=Kr.next;return this._readableState.buffer.clear(),Zr!==""&&this._readableState.buffer.push(Zr),this._readableState.length=Zr.length,this};function Tr($r,Fr){return $r<=0||Fr.length===0&&Fr.ended?0:Fr.objectMode?1:$r!=$r?Fr.flowing&&Fr.length?Fr.buffer.head.data.length:Fr.length:($r>Fr.highWaterMark&&(Fr.highWaterMark=function(Kr){return Kr>=1073741824?Kr=1073741824:(Kr--,Kr|=Kr>>>1,Kr|=Kr>>>2,Kr|=Kr>>>4,Kr|=Kr>>>8,Kr|=Kr>>>16,Kr++),Kr}($r)),$r<=Fr.length?$r:Fr.ended?Fr.length:(Fr.needReadable=!0,0))}function _r($r){var Fr=$r._readableState;hr("emitReadable",Fr.needReadable,Fr.emittedReadable),Fr.needReadable=!1,Fr.emittedReadable||(hr("emitReadable",Fr.flowing),Fr.emittedReadable=!0,ir.nextTick(wr,$r))}function wr($r){var Fr=$r._readableState;hr("emitReadable_",Fr.destroyed,Fr.length,Fr.ended),Fr.destroyed||!Fr.length&&!Fr.ended||($r.emit("readable"),Fr.emittedReadable=!1),Fr.needReadable=!Fr.flowing&&!Fr.ended&&Fr.length<=Fr.highWaterMark,Br($r)}function Er($r,Fr){Fr.readingMore||(Fr.readingMore=!0,ir.nextTick(xr,$r,Fr))}function xr($r,Fr){for(;!Fr.reading&&!Fr.ended&&(Fr.length<Fr.highWaterMark||Fr.flowing&&Fr.length===0);){var Kr=Fr.length;if(hr("maybeReadMore read 0"),$r.read(0),Kr===Fr.length)break}Fr.readingMore=!1}function Mr($r){var Fr=$r._readableState;Fr.readableListening=$r.listenerCount("readable")>0,Fr.resumeScheduled&&!Fr.paused?Fr.flowing=!0:$r.listenerCount("data")>0&&$r.resume()}function zr($r){hr("readable nexttick read 0"),$r.read(0)}function Or($r,Fr){hr("resume",Fr.reading),Fr.reading||$r.read(0),Fr.resumeScheduled=!1,$r.emit("resume"),Br($r),Fr.flowing&&!Fr.reading&&$r.read(0)}function Br($r){var Fr=$r._readableState;for(hr("flow",Fr.flowing);Fr.flowing&&$r.read()!==null;);}function Ur($r,Fr){return Fr.length===0?null:(Fr.objectMode?Kr=Fr.buffer.shift():!$r||$r>=Fr.length?(Kr=Fr.decoder?Fr.buffer.join(""):Fr.buffer.length===1?Fr.buffer.first():Fr.buffer.concat(Fr.length),Fr.buffer.clear()):Kr=Fr.buffer.consume($r,Fr.decoder),Kr);var Kr}function qr($r){var Fr=$r._readableState;hr("endReadable",Fr.endEmitted),Fr.endEmitted||(Fr.ended=!0,ir.nextTick(Vr,Fr,$r))}function Vr($r,Fr){if(hr("endReadableNT",$r.endEmitted,$r.length),!$r.endEmitted&&$r.length===0&&($r.endEmitted=!0,Fr.readable=!1,Fr.emit("end"),$r.autoDestroy)){var Kr=Fr._writableState;(!Kr||Kr.autoDestroy&&Kr.finished)&&Fr.destroy()}}function Gr($r,Fr){for(var Kr=0,Zr=$r.length;Kr<Zr;Kr++)if($r[Kr]===Fr)return Kr;return-1}Nr.prototype.read=function($r){hr("read",$r),$r=parseInt($r,10);var Fr=this._readableState,Kr=$r;if($r!==0&&(Fr.emittedReadable=!1),$r===0&&Fr.needReadable&&((Fr.highWaterMark!==0?Fr.length>=Fr.highWaterMark:Fr.length>0)||Fr.ended))return hr("read: emitReadable",Fr.length,Fr.ended),Fr.length===0&&Fr.ended?qr(this):_r(this),null;if(($r=Tr($r,Fr))===0&&Fr.ended)return Fr.length===0&&qr(this),null;var Zr,nn=Fr.needReadable;return hr("need readable",nn),(Fr.length===0||Fr.length-$r<Fr.highWaterMark)&&hr("length less than watermark",nn=!0),Fr.ended||Fr.reading?hr("reading or ended",nn=!1):nn&&(hr("do read"),Fr.reading=!0,Fr.sync=!0,Fr.length===0&&(Fr.needReadable=!0),this._read(Fr.highWaterMark),Fr.sync=!1,Fr.reading||($r=Tr(Kr,Fr))),(Zr=$r>0?Ur($r,Fr):null)===null?(Fr.needReadable=Fr.length<=Fr.highWaterMark,$r=0):(Fr.length-=$r,Fr.awaitDrain=0),Fr.length===0&&(Fr.ended||(Fr.needReadable=!0),Kr!==$r&&Fr.ended&&qr(this)),Zr!==null&&this.emit("data",Zr),Zr},Nr.prototype._read=function($r){Rr(this,new Cr("_read()"))},Nr.prototype.pipe=function($r,Fr){var Kr=this,Zr=this._readableState;switch(Zr.pipesCount){case 0:Zr.pipes=$r;break;case 1:Zr.pipes=[Zr.pipes,$r];break;default:Zr.pipes.push($r)}Zr.pipesCount+=1,hr("pipe count=%d opts=%j",Zr.pipesCount,Fr);var nn=(!Fr||Fr.end!==!1)&&$r!==ir.stdout&&$r!==ir.stderr?cn:pn;function Qr(yn,Cn){hr("onunpipe"),yn===Kr&&Cn&&Cn.hasUnpiped===!1&&(Cn.hasUnpiped=!0,hr("cleanup"),$r.removeListener("close",sn),$r.removeListener("finish",fn),$r.removeListener("drain",dn),$r.removeListener("error",tn),$r.removeListener("unpipe",Qr),Kr.removeListener("end",cn),Kr.removeListener("end",pn),Kr.removeListener("data",an),en=!0,!Zr.awaitDrain||$r._writableState&&!$r._writableState.needDrain||dn())}function cn(){hr("onend"),$r.end()}Zr.endEmitted?ir.nextTick(nn):Kr.once("end",nn),$r.on("unpipe",Qr);var dn=function(yn){return function(){var Cn=yn._readableState;hr("pipeOnDrain",Cn.awaitDrain),Cn.awaitDrain&&Cn.awaitDrain--,Cn.awaitDrain===0&&ar(yn,"data")&&(Cn.flowing=!0,Br(yn))}}(Kr);$r.on("drain",dn);var en=!1;function an(yn){hr("ondata");var Cn=$r.write(yn);hr("dest.write",Cn),Cn===!1&&((Zr.pipesCount===1&&Zr.pipes===$r||Zr.pipesCount>1&&Gr(Zr.pipes,$r)!==-1)&&!en&&(hr("false write response, pause",Zr.awaitDrain),Zr.awaitDrain++),Kr.pause())}function tn(yn){hr("onerror",yn),pn(),$r.removeListener("error",tn),ar($r,"error")===0&&Rr($r,yn)}function sn(){$r.removeListener("finish",fn),pn()}function fn(){hr("onfinish"),$r.removeListener("close",sn),pn()}function pn(){hr("unpipe"),Kr.unpipe($r)}return Kr.on("data",an),function(yn,Cn,Rn){if(typeof yn.prependListener=="function")return yn.prependListener(Cn,Rn);yn._events&&yn._events[Cn]?Array.isArray(yn._events[Cn])?yn._events[Cn].unshift(Rn):yn._events[Cn]=[Rn,yn._events[Cn]]:yn.on(Cn,Rn)}($r,"error",tn),$r.once("close",sn),$r.once("finish",fn),$r.emit("pipe",Kr),Zr.flowing||(hr("pipe resume"),Kr.resume()),$r},Nr.prototype.unpipe=function($r){var Fr=this._readableState,Kr={hasUnpiped:!1};if(Fr.pipesCount===0)return this;if(Fr.pipesCount===1)return $r&&$r!==Fr.pipes||($r||($r=Fr.pipes),Fr.pipes=null,Fr.pipesCount=0,Fr.flowing=!1,$r&&$r.emit("unpipe",this,Kr)),this;if(!$r){var Zr=Fr.pipes,nn=Fr.pipesCount;Fr.pipes=null,Fr.pipesCount=0,Fr.flowing=!1;for(var Qr=0;Qr<nn;Qr++)Zr[Qr].emit("unpipe",this,{hasUnpiped:!1});return this}var cn=Gr(Fr.pipes,$r);return cn===-1||(Fr.pipes.splice(cn,1),Fr.pipesCount-=1,Fr.pipesCount===1&&(Fr.pipes=Fr.pipes[0]),$r.emit("unpipe",this,Kr)),this},Nr.prototype.on=function($r,Fr){var Kr=lr.prototype.on.call(this,$r,Fr),Zr=this._readableState;return $r==="data"?(Zr.readableListening=this.listenerCount("readable")>0,Zr.flowing!==!1&&this.resume()):$r==="readable"&&(Zr.endEmitted||Zr.readableListening||(Zr.readableListening=Zr.needReadable=!0,Zr.flowing=!1,Zr.emittedReadable=!1,hr("on readable",Zr.length,Zr.reading),Zr.length?_r(this):Zr.reading||ir.nextTick(zr,this))),Kr},Nr.prototype.addListener=Nr.prototype.on,Nr.prototype.removeListener=function($r,Fr){var Kr=lr.prototype.removeListener.call(this,$r,Fr);return $r==="readable"&&ir.nextTick(Mr,this),Kr},Nr.prototype.removeAllListeners=function($r){var Fr=lr.prototype.removeAllListeners.apply(this,arguments);return $r!=="readable"&&$r!==void 0||ir.nextTick(Mr,this),Fr},Nr.prototype.resume=function(){var $r=this._readableState;return $r.flowing||(hr("resume"),$r.flowing=!$r.readableListening,function(Fr,Kr){Kr.resumeScheduled||(Kr.resumeScheduled=!0,ir.nextTick(Or,Fr,Kr))}(this,$r)),$r.paused=!1,this},Nr.prototype.pause=function(){return hr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(hr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Nr.prototype.wrap=function($r){var Fr=this,Kr=this._readableState,Zr=!1;for(var nn in $r.on("end",function(){if(hr("wrapped end"),Kr.decoder&&!Kr.ended){var cn=Kr.decoder.end();cn&&cn.length&&Fr.push(cn)}Fr.push(null)}),$r.on("data",function(cn){hr("wrapped data"),Kr.decoder&&(cn=Kr.decoder.write(cn)),Kr.objectMode&&cn==null||(Kr.objectMode||cn&&cn.length)&&(Fr.push(cn)||(Zr=!0,$r.pause()))}),$r)this[nn]===void 0&&typeof $r[nn]=="function"&&(this[nn]=function(cn){return function(){return $r[cn].apply($r,arguments)}}(nn));for(var Qr=0;Qr<Lr.length;Qr++)$r.on(Lr[Qr],this.emit.bind(this,Lr[Qr]));return this._read=function(cn){hr("wrapped _read",cn),Zr&&(Zr=!1,$r.resume())},this},typeof Symbol=="function"&&(Nr.prototype[Symbol.asyncIterator]=function(){return mr===void 0&&(mr=tr("./internal/streams/async_iterator")),mr(this)}),Object.defineProperty(Nr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Nr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Nr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($r){this._readableState&&(this._readableState.flowing=$r)}}),Nr._fromList=Ur,Object.defineProperty(Nr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Nr.from=function($r,Fr){return fr===void 0&&(fr=tr("./internal/streams/from")),fr(Nr,$r,Fr)})}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(tr,rr,nr){rr.exports=hr;var ir=tr("../errors").codes,sr=ir.ERR_METHOD_NOT_IMPLEMENTED,or=ir.ERR_MULTIPLE_CALLBACK,ar=ir.ERR_TRANSFORM_ALREADY_TRANSFORMING,lr=ir.ERR_TRANSFORM_WITH_LENGTH_0,cr=tr("./_stream_duplex");function dr(mr,fr){var gr=this._transformState;gr.transforming=!1;var yr=gr.writecb;if(yr===null)return this.emit("error",new or);gr.writechunk=null,gr.writecb=null,fr!=null&&this.push(fr),yr(mr);var vr=this._readableState;vr.reading=!1,(vr.needReadable||vr.length<vr.highWaterMark)&&this._read(vr.highWaterMark)}function hr(mr){if(!(this instanceof hr))return new hr(mr);cr.call(this,mr),this._transformState={afterTransform:dr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,mr&&(typeof mr.transform=="function"&&(this._transform=mr.transform),typeof mr.flush=="function"&&(this._flush=mr.flush)),this.on("prefinish",ur)}function ur(){var mr=this;typeof this._flush!="function"||this._readableState.destroyed?pr(this,null,null):this._flush(function(fr,gr){pr(mr,fr,gr)})}function pr(mr,fr,gr){if(fr)return mr.emit("error",fr);if(gr!=null&&mr.push(gr),mr._writableState.length)throw new lr;if(mr._transformState.transforming)throw new ar;return mr.push(null)}tr("inherits")(hr,cr),hr.prototype.push=function(mr,fr){return this._transformState.needTransform=!1,cr.prototype.push.call(this,mr,fr)},hr.prototype._transform=function(mr,fr,gr){gr(new sr("_transform()"))},hr.prototype._write=function(mr,fr,gr){var yr=this._transformState;if(yr.writecb=gr,yr.writechunk=mr,yr.writeencoding=fr,!yr.transforming){var vr=this._readableState;(yr.needTransform||vr.needReadable||vr.length<vr.highWaterMark)&&this._read(vr.highWaterMark)}},hr.prototype._read=function(mr){var fr=this._transformState;fr.writechunk===null||fr.transforming?fr.needTransform=!0:(fr.transforming=!0,this._transform(fr.writechunk,fr.writeencoding,fr.afterTransform))},hr.prototype._destroy=function(mr,fr){cr.prototype._destroy.call(this,mr,function(gr){fr(gr)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(tr,rr,nr){(function(ir,sr){(function(){function or(xr){var Mr=this;this.next=null,this.entry=null,this.finish=function(){(function(zr,Or,Br){var Ur=zr.entry;for(zr.entry=null;Ur;){var qr=Ur.callback;Or.pendingcb--,qr(Br),Ur=Ur.next}Or.corkedRequestsFree.next=zr})(Mr,xr)}}var ar;rr.exports=Nr,Nr.WritableState=Ir;var lr={deprecate:tr("util-deprecate")},cr=tr("./internal/streams/stream"),dr=tr("buffer").Buffer,hr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},ur,pr=tr("./internal/streams/destroy"),mr=tr("./internal/streams/state").getHighWaterMark,fr=tr("../errors").codes,gr=fr.ERR_INVALID_ARG_TYPE,yr=fr.ERR_METHOD_NOT_IMPLEMENTED,vr=fr.ERR_MULTIPLE_CALLBACK,br=fr.ERR_STREAM_CANNOT_PIPE,Sr=fr.ERR_STREAM_DESTROYED,jr=fr.ERR_STREAM_NULL_VALUES,Cr=fr.ERR_STREAM_WRITE_AFTER_END,Pr=fr.ERR_UNKNOWN_ENCODING,Rr=pr.errorOrDestroy;function Lr(){}function Ir(xr,Mr,zr){ar=ar||tr("./_stream_duplex"),xr=xr||{},typeof zr!="boolean"&&(zr=Mr instanceof ar),this.objectMode=!!xr.objectMode,zr&&(this.objectMode=this.objectMode||!!xr.writableObjectMode),this.highWaterMark=mr(this,xr,"writableHighWaterMark",zr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Or=xr.decodeStrings===!1;this.decodeStrings=!Or,this.defaultEncoding=xr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Br){(function(Ur,qr){var Vr=Ur._writableState,Gr=Vr.sync,$r=Vr.writecb;if(typeof $r!="function")throw new vr;if(function(Kr){Kr.writing=!1,Kr.writecb=null,Kr.length-=Kr.writelen,Kr.writelen=0}(Vr),qr)(function(Kr,Zr,nn,Qr,cn){--Zr.pendingcb,nn?(ir.nextTick(cn,Qr),ir.nextTick(Er,Kr,Zr),Kr._writableState.errorEmitted=!0,Rr(Kr,Qr)):(cn(Qr),Kr._writableState.errorEmitted=!0,Rr(Kr,Qr),Er(Kr,Zr))})(Ur,Vr,Gr,qr,$r);else{var Fr=_r(Vr)||Ur.destroyed;Fr||Vr.corked||Vr.bufferProcessing||!Vr.bufferedRequest||Tr(Ur,Vr),Gr?ir.nextTick(Dr,Ur,Vr,Fr,$r):Dr(Ur,Vr,Fr,$r)}})(Mr,Br)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=xr.emitClose!==!1,this.autoDestroy=!!xr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new or(this)}function Nr(xr){var Mr=this instanceof(ar=ar||tr("./_stream_duplex"));if(!Mr&&!ur.call(Nr,this))return new Nr(xr);this._writableState=new Ir(xr,this,Mr),this.writable=!0,xr&&(typeof xr.write=="function"&&(this._write=xr.write),typeof xr.writev=="function"&&(this._writev=xr.writev),typeof xr.destroy=="function"&&(this._destroy=xr.destroy),typeof xr.final=="function"&&(this._final=xr.final)),cr.call(this)}function Ar(xr,Mr,zr,Or,Br,Ur,qr){Mr.writelen=Or,Mr.writecb=qr,Mr.writing=!0,Mr.sync=!0,Mr.destroyed?Mr.onwrite(new Sr("write")):zr?xr._writev(Br,Mr.onwrite):xr._write(Br,Ur,Mr.onwrite),Mr.sync=!1}function Dr(xr,Mr,zr,Or){zr||function(Br,Ur){Ur.length===0&&Ur.needDrain&&(Ur.needDrain=!1,Br.emit("drain"))}(xr,Mr),Mr.pendingcb--,Or(),Er(xr,Mr)}function Tr(xr,Mr){Mr.bufferProcessing=!0;var zr=Mr.bufferedRequest;if(xr._writev&&zr&&zr.next){var Or=Mr.bufferedRequestCount,Br=new Array(Or),Ur=Mr.corkedRequestsFree;Ur.entry=zr;for(var qr=0,Vr=!0;zr;)Br[qr]=zr,zr.isBuf||(Vr=!1),zr=zr.next,qr+=1;Br.allBuffers=Vr,Ar(xr,Mr,!0,Mr.length,Br,"",Ur.finish),Mr.pendingcb++,Mr.lastBufferedRequest=null,Ur.next?(Mr.corkedRequestsFree=Ur.next,Ur.next=null):Mr.corkedRequestsFree=new or(Mr),Mr.bufferedRequestCount=0}else{for(;zr;){var Gr=zr.chunk,$r=zr.encoding,Fr=zr.callback;if(Ar(xr,Mr,!1,Mr.objectMode?1:Gr.length,Gr,$r,Fr),zr=zr.next,Mr.bufferedRequestCount--,Mr.writing)break}zr===null&&(Mr.lastBufferedRequest=null)}Mr.bufferedRequest=zr,Mr.bufferProcessing=!1}function _r(xr){return xr.ending&&xr.length===0&&xr.bufferedRequest===null&&!xr.finished&&!xr.writing}function wr(xr,Mr){xr._final(function(zr){Mr.pendingcb--,zr&&Rr(xr,zr),Mr.prefinished=!0,xr.emit("prefinish"),Er(xr,Mr)})}function Er(xr,Mr){var zr=_r(Mr);if(zr&&(function(Br,Ur){Ur.prefinished||Ur.finalCalled||(typeof Br._final!="function"||Ur.destroyed?(Ur.prefinished=!0,Br.emit("prefinish")):(Ur.pendingcb++,Ur.finalCalled=!0,ir.nextTick(wr,Br,Ur)))}(xr,Mr),Mr.pendingcb===0&&(Mr.finished=!0,xr.emit("finish"),Mr.autoDestroy))){var Or=xr._readableState;(!Or||Or.autoDestroy&&Or.endEmitted)&&xr.destroy()}return zr}tr("inherits")(Nr,cr),Ir.prototype.getBuffer=function(){for(var xr=this.bufferedRequest,Mr=[];xr;)Mr.push(xr),xr=xr.next;return Mr},function(){try{Object.defineProperty(Ir.prototype,"buffer",{get:lr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ur=Function.prototype[Symbol.hasInstance],Object.defineProperty(Nr,Symbol.hasInstance,{value:function(xr){return!!ur.call(this,xr)||this===Nr&&xr&&xr._writableState instanceof Ir}})):ur=function(xr){return xr instanceof this},Nr.prototype.pipe=function(){Rr(this,new br)},Nr.prototype.write=function(xr,Mr,zr){var Or,Br=this._writableState,Ur=!1,qr=!Br.objectMode&&(Or=xr,dr.isBuffer(Or)||Or instanceof hr);return qr&&!dr.isBuffer(xr)&&(xr=function(Vr){return dr.from(Vr)}(xr)),typeof Mr=="function"&&(zr=Mr,Mr=null),qr?Mr="buffer":Mr||(Mr=Br.defaultEncoding),typeof zr!="function"&&(zr=Lr),Br.ending?function(Vr,Gr){var $r=new Cr;Rr(Vr,$r),ir.nextTick(Gr,$r)}(this,zr):(qr||function(Vr,Gr,$r,Fr){var Kr;return $r===null?Kr=new jr:typeof $r=="string"||Gr.objectMode||(Kr=new gr("chunk",["string","Buffer"],$r)),!Kr||(Rr(Vr,Kr),ir.nextTick(Fr,Kr),!1)}(this,Br,xr,zr))&&(Br.pendingcb++,Ur=function(Vr,Gr,$r,Fr,Kr,Zr){if(!$r){var nn=function(en,an,tn){return en.objectMode||en.decodeStrings===!1||typeof an!="string"||(an=dr.from(an,tn)),an}(Gr,Fr,Kr);Fr!==nn&&($r=!0,Kr="buffer",Fr=nn)}var Qr=Gr.objectMode?1:Fr.length;Gr.length+=Qr;var cn=Gr.length<Gr.highWaterMark;if(cn||(Gr.needDrain=!0),Gr.writing||Gr.corked){var dn=Gr.lastBufferedRequest;Gr.lastBufferedRequest={chunk:Fr,encoding:Kr,isBuf:$r,callback:Zr,next:null},dn?dn.next=Gr.lastBufferedRequest:Gr.bufferedRequest=Gr.lastBufferedRequest,Gr.bufferedRequestCount+=1}else Ar(Vr,Gr,!1,Qr,Fr,Kr,Zr);return cn}(this,Br,qr,xr,Mr,zr)),Ur},Nr.prototype.cork=function(){this._writableState.corked++},Nr.prototype.uncork=function(){var xr=this._writableState;xr.corked&&(xr.corked--,xr.writing||xr.corked||xr.bufferProcessing||!xr.bufferedRequest||Tr(this,xr))},Nr.prototype.setDefaultEncoding=function(xr){if(typeof xr=="string"&&(xr=xr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((xr+"").toLowerCase())>-1))throw new Pr(xr);return this._writableState.defaultEncoding=xr,this},Object.defineProperty(Nr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Nr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Nr.prototype._write=function(xr,Mr,zr){zr(new yr("_write()"))},Nr.prototype._writev=null,Nr.prototype.end=function(xr,Mr,zr){var Or=this._writableState;return typeof xr=="function"?(zr=xr,xr=null,Mr=null):typeof Mr=="function"&&(zr=Mr,Mr=null),xr!=null&&this.write(xr,Mr),Or.corked&&(Or.corked=1,this.uncork()),Or.ending||function(Br,Ur,qr){Ur.ending=!0,Er(Br,Ur),qr&&(Ur.finished?ir.nextTick(qr):Br.once("finish",qr)),Ur.ended=!0,Br.writable=!1}(this,Or,zr),this},Object.defineProperty(Nr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Nr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(xr){this._writableState&&(this._writableState.destroyed=xr)}}),Nr.prototype.destroy=pr.destroy,Nr.prototype._undestroy=pr.undestroy,Nr.prototype._destroy=function(xr,Mr){Mr(xr)}}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(tr,rr,nr){(function(ir){(function(){var sr;function or(Sr,jr,Cr){return(jr=function(Pr){var Rr=function(Lr,Ir){if(typeof Lr!="object"||Lr===null)return Lr;var Nr=Lr[Symbol.toPrimitive];if(Nr!==void 0){var Ar=Nr.call(Lr,Ir);if(typeof Ar!="object")return Ar;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ir==="string"?String:Number)(Lr)}(Pr,"string");return typeof Rr=="symbol"?Rr:String(Rr)}(jr))in Sr?Object.defineProperty(Sr,jr,{value:Cr,enumerable:!0,configurable:!0,writable:!0}):Sr[jr]=Cr,Sr}var ar=tr("./end-of-stream"),lr=Symbol("lastResolve"),cr=Symbol("lastReject"),dr=Symbol("error"),hr=Symbol("ended"),ur=Symbol("lastPromise"),pr=Symbol("handlePromise"),mr=Symbol("stream");function fr(Sr,jr){return{value:Sr,done:jr}}function gr(Sr){var jr=Sr[lr];if(jr!==null){var Cr=Sr[mr].read();Cr!==null&&(Sr[ur]=null,Sr[lr]=null,Sr[cr]=null,jr(fr(Cr,!1)))}}function yr(Sr){ir.nextTick(gr,Sr)}var vr=Object.getPrototypeOf(function(){}),br=Object.setPrototypeOf((or(sr={get stream(){return this[mr]},next:function(){var Sr=this,jr=this[dr];if(jr!==null)return Promise.reject(jr);if(this[hr])return Promise.resolve(fr(void 0,!0));if(this[mr].destroyed)return new Promise(function(Lr,Ir){ir.nextTick(function(){Sr[dr]?Ir(Sr[dr]):Lr(fr(void 0,!0))})});var Cr,Pr=this[ur];if(Pr)Cr=new Promise(function(Lr,Ir){return function(Nr,Ar){Lr.then(function(){Ir[hr]?Nr(fr(void 0,!0)):Ir[pr](Nr,Ar)},Ar)}}(Pr,this));else{var Rr=this[mr].read();if(Rr!==null)return Promise.resolve(fr(Rr,!1));Cr=new Promise(this[pr])}return this[ur]=Cr,Cr}},Symbol.asyncIterator,function(){return this}),or(sr,"return",function(){var Sr=this;return new Promise(function(jr,Cr){Sr[mr].destroy(null,function(Pr){Pr?Cr(Pr):jr(fr(void 0,!0))})})}),sr),vr);rr.exports=function(Sr){var jr,Cr=Object.create(br,(or(jr={},mr,{value:Sr,writable:!0}),or(jr,lr,{value:null,writable:!0}),or(jr,cr,{value:null,writable:!0}),or(jr,dr,{value:null,writable:!0}),or(jr,hr,{value:Sr._readableState.endEmitted,writable:!0}),or(jr,pr,{value:function(Pr,Rr){var Lr=Cr[mr].read();Lr?(Cr[ur]=null,Cr[lr]=null,Cr[cr]=null,Pr(fr(Lr,!1))):(Cr[lr]=Pr,Cr[cr]=Rr)},writable:!0}),jr));return Cr[ur]=null,ar(Sr,function(Pr){if(Pr&&Pr.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Rr=Cr[cr];return Rr!==null&&(Cr[ur]=null,Cr[lr]=null,Cr[cr]=null,Rr(Pr)),void(Cr[dr]=Pr)}var Lr=Cr[lr];Lr!==null&&(Cr[ur]=null,Cr[lr]=null,Cr[cr]=null,Lr(fr(void 0,!0))),Cr[hr]=!0}),Sr.on("readable",yr.bind(null,Cr)),Cr}}).call(this)}).call(this,tr("_process"))},{"./end-of-stream":486,_process:467}],484:[function(tr,rr,nr){function ir(ur,pr){var mr=Object.keys(ur);if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(ur);pr&&(fr=fr.filter(function(gr){return Object.getOwnPropertyDescriptor(ur,gr).enumerable})),mr.push.apply(mr,fr)}return mr}function sr(ur){for(var pr=1;pr<arguments.length;pr++){var mr=arguments[pr]!=null?arguments[pr]:{};pr%2?ir(Object(mr),!0).forEach(function(fr){or(ur,fr,mr[fr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(mr)):ir(Object(mr)).forEach(function(fr){Object.defineProperty(ur,fr,Object.getOwnPropertyDescriptor(mr,fr))})}return ur}function or(ur,pr,mr){return(pr=lr(pr))in ur?Object.defineProperty(ur,pr,{value:mr,enumerable:!0,configurable:!0,writable:!0}):ur[pr]=mr,ur}function ar(ur,pr){for(var mr=0;mr<pr.length;mr++){var fr=pr[mr];fr.enumerable=fr.enumerable||!1,fr.configurable=!0,"value"in fr&&(fr.writable=!0),Object.defineProperty(ur,lr(fr.key),fr)}}function lr(ur){var pr=function(mr,fr){if(typeof mr!="object"||mr===null)return mr;var gr=mr[Symbol.toPrimitive];if(gr!==void 0){var yr=gr.call(mr,fr);if(typeof yr!="object")return yr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(fr==="string"?String:Number)(mr)}(ur,"string");return typeof pr=="symbol"?pr:String(pr)}var cr=tr("buffer").Buffer,dr=tr("util").inspect,hr=dr&&dr.custom||"inspect";rr.exports=function(){function ur(){(function(fr,gr){if(!(fr instanceof gr))throw new TypeError("Cannot call a class as a function")})(this,ur),this.head=null,this.tail=null,this.length=0}var pr,mr;return pr=ur,(mr=[{key:"push",value:function(fr){var gr={data:fr,next:null};this.length>0?this.tail.next=gr:this.head=gr,this.tail=gr,++this.length}},{key:"unshift",value:function(fr){var gr={data:fr,next:this.head};this.length===0&&(this.tail=gr),this.head=gr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var fr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,fr}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(fr){if(this.length===0)return"";for(var gr=this.head,yr=""+gr.data;gr=gr.next;)yr+=fr+gr.data;return yr}},{key:"concat",value:function(fr){if(this.length===0)return cr.alloc(0);for(var gr,yr,vr,br=cr.allocUnsafe(fr>>>0),Sr=this.head,jr=0;Sr;)gr=Sr.data,yr=br,vr=jr,cr.prototype.copy.call(gr,yr,vr),jr+=Sr.data.length,Sr=Sr.next;return br}},{key:"consume",value:function(fr,gr){var yr;return fr<this.head.data.length?(yr=this.head.data.slice(0,fr),this.head.data=this.head.data.slice(fr)):yr=fr===this.head.data.length?this.shift():gr?this._getString(fr):this._getBuffer(fr),yr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(fr){var gr=this.head,yr=1,vr=gr.data;for(fr-=vr.length;gr=gr.next;){var br=gr.data,Sr=fr>br.length?br.length:fr;if(Sr===br.length?vr+=br:vr+=br.slice(0,fr),(fr-=Sr)==0){Sr===br.length?(++yr,gr.next?this.head=gr.next:this.head=this.tail=null):(this.head=gr,gr.data=br.slice(Sr));break}++yr}return this.length-=yr,vr}},{key:"_getBuffer",value:function(fr){var gr=cr.allocUnsafe(fr),yr=this.head,vr=1;for(yr.data.copy(gr),fr-=yr.data.length;yr=yr.next;){var br=yr.data,Sr=fr>br.length?br.length:fr;if(br.copy(gr,gr.length-fr,0,Sr),(fr-=Sr)==0){Sr===br.length?(++vr,yr.next?this.head=yr.next:this.head=this.tail=null):(this.head=yr,yr.data=br.slice(Sr));break}++vr}return this.length-=vr,gr}},{key:hr,value:function(fr,gr){return dr(this,sr(sr({},gr),{},{depth:0,customInspect:!1}))}}])&&ar(pr.prototype,mr),Object.defineProperty(pr,"prototype",{writable:!1}),ur}()},{buffer:220,util:188}],485:[function(tr,rr,nr){(function(ir){(function(){function sr(lr,cr){ar(lr,cr),or(lr)}function or(lr){lr._writableState&&!lr._writableState.emitClose||lr._readableState&&!lr._readableState.emitClose||lr.emit("close")}function ar(lr,cr){lr.emit("error",cr)}rr.exports={destroy:function(lr,cr){var dr=this,hr=this._readableState&&this._readableState.destroyed,ur=this._writableState&&this._writableState.destroyed;return hr||ur?(cr?cr(lr):lr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ir.nextTick(ar,this,lr)):ir.nextTick(ar,this,lr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(lr||null,function(pr){!cr&&pr?dr._writableState?dr._writableState.errorEmitted?ir.nextTick(or,dr):(dr._writableState.errorEmitted=!0,ir.nextTick(sr,dr,pr)):ir.nextTick(sr,dr,pr):cr?(ir.nextTick(or,dr),cr(pr)):ir.nextTick(or,dr)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(lr,cr){var dr=lr._readableState,hr=lr._writableState;dr&&dr.autoDestroy||hr&&hr.autoDestroy?lr.destroy(cr):lr.emit("error",cr)}}}).call(this)}).call(this,tr("_process"))},{_process:467}],486:[function(tr,rr,nr){var ir=tr("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function sr(){}rr.exports=function or(ar,lr,cr){if(typeof lr=="function")return or(ar,null,lr);lr||(lr={}),cr=function(Sr){var jr=!1;return function(){if(!jr){jr=!0;for(var Cr=arguments.length,Pr=new Array(Cr),Rr=0;Rr<Cr;Rr++)Pr[Rr]=arguments[Rr];Sr.apply(this,Pr)}}}(cr||sr);var dr=lr.readable||lr.readable!==!1&&ar.readable,hr=lr.writable||lr.writable!==!1&&ar.writable,ur=function(){ar.writable||mr()},pr=ar._writableState&&ar._writableState.finished,mr=function(){hr=!1,pr=!0,dr||cr.call(ar)},fr=ar._readableState&&ar._readableState.endEmitted,gr=function(){dr=!1,fr=!0,hr||cr.call(ar)},yr=function(Sr){cr.call(ar,Sr)},vr=function(){var Sr;return dr&&!fr?(ar._readableState&&ar._readableState.ended||(Sr=new ir),cr.call(ar,Sr)):hr&&!pr?(ar._writableState&&ar._writableState.ended||(Sr=new ir),cr.call(ar,Sr)):void 0},br=function(){ar.req.on("finish",mr)};return function(Sr){return Sr.setHeader&&typeof Sr.abort=="function"}(ar)?(ar.on("complete",mr),ar.on("abort",vr),ar.req?br():ar.on("request",br)):hr&&!ar._writableState&&(ar.on("end",ur),ar.on("close",ur)),ar.on("end",gr),ar.on("finish",mr),lr.error!==!1&&ar.on("error",yr),ar.on("close",vr),function(){ar.removeListener("complete",mr),ar.removeListener("abort",vr),ar.removeListener("request",br),ar.req&&ar.req.removeListener("finish",mr),ar.removeListener("end",ur),ar.removeListener("close",ur),ar.removeListener("finish",mr),ar.removeListener("end",gr),ar.removeListener("error",yr),ar.removeListener("close",vr)}}},{"../../../errors":477}],487:[function(tr,rr,nr){rr.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(tr,rr,nr){var ir,sr=tr("../../../errors").codes,or=sr.ERR_MISSING_ARGS,ar=sr.ERR_STREAM_DESTROYED;function lr(pr){if(pr)throw pr}function cr(pr,mr,fr,gr){gr=function(br){var Sr=!1;return function(){Sr||(Sr=!0,br.apply(void 0,arguments))}}(gr);var yr=!1;pr.on("close",function(){yr=!0}),ir===void 0&&(ir=tr("./end-of-stream")),ir(pr,{readable:mr,writable:fr},function(br){if(br)return gr(br);yr=!0,gr()});var vr=!1;return function(br){if(!yr&&!vr)return vr=!0,function(Sr){return Sr.setHeader&&typeof Sr.abort=="function"}(pr)?pr.abort():typeof pr.destroy=="function"?pr.destroy():void gr(br||new ar("pipe"))}}function dr(pr){pr()}function hr(pr,mr){return pr.pipe(mr)}function ur(pr){return pr.length?typeof pr[pr.length-1]!="function"?lr:pr.pop():lr}rr.exports=function(){for(var pr=arguments.length,mr=new Array(pr),fr=0;fr<pr;fr++)mr[fr]=arguments[fr];var gr,yr=ur(mr);if(Array.isArray(mr[0])&&(mr=mr[0]),mr.length<2)throw new or("streams");var vr=mr.map(function(br,Sr){var jr=Sr<mr.length-1;return cr(br,jr,Sr>0,function(Cr){gr||(gr=Cr),Cr&&vr.forEach(dr),jr||(vr.forEach(dr),yr(gr))})});return mr.reduce(hr)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(tr,rr,nr){var ir=tr("../../../errors").codes.ERR_INVALID_OPT_VALUE;rr.exports={getHighWaterMark:function(sr,or,ar,lr){var cr=function(dr,hr,ur){return dr.highWaterMark!=null?dr.highWaterMark:hr?dr[ur]:null}(or,lr,ar);if(cr!=null){if(!isFinite(cr)||Math.floor(cr)!==cr||cr<0)throw new ir(lr?ar:"highWaterMark",cr);return Math.floor(cr)}return sr.objectMode?16:16384}}},{"../../../errors":477}],490:[function(tr,rr,nr){rr.exports=tr("events").EventEmitter},{events:422}],491:[function(tr,rr,nr){(nr=rr.exports=tr("./lib/_stream_readable.js")).Stream=nr,nr.Readable=nr,nr.Writable=tr("./lib/_stream_writable.js"),nr.Duplex=tr("./lib/_stream_duplex.js"),nr.Transform=tr("./lib/_stream_transform.js"),nr.PassThrough=tr("./lib/_stream_passthrough.js"),nr.finished=tr("./lib/internal/streams/end-of-stream.js"),nr.pipeline=tr("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(tr,rr,nr){var ir=function(sr){var or=Object.prototype,ar=or.hasOwnProperty,lr=Object.defineProperty||function(Er,xr,Mr){Er[xr]=Mr.value},cr=typeof Symbol=="function"?Symbol:{},dr=cr.iterator||"@@iterator",hr=cr.asyncIterator||"@@asyncIterator",ur=cr.toStringTag||"@@toStringTag";function pr(Er,xr,Mr){return Object.defineProperty(Er,xr,{value:Mr,enumerable:!0,configurable:!0,writable:!0}),Er[xr]}try{pr({},"")}catch{pr=function(xr,Mr,zr){return xr[Mr]=zr}}function mr(Er,xr,Mr,zr){var Or=xr&&xr.prototype instanceof yr?xr:yr,Br=Object.create(Or.prototype),Ur=new Tr(zr||[]);return lr(Br,"_invoke",{value:Ir(Er,Mr,Ur)}),Br}function fr(Er,xr,Mr){try{return{type:"normal",arg:Er.call(xr,Mr)}}catch(zr){return{type:"throw",arg:zr}}}sr.wrap=mr;var gr={};function yr(){}function vr(){}function br(){}var Sr={};pr(Sr,dr,function(){return this});var jr=Object.getPrototypeOf,Cr=jr&&jr(jr(_r([])));Cr&&Cr!==or&&ar.call(Cr,dr)&&(Sr=Cr);var Pr=br.prototype=yr.prototype=Object.create(Sr);function Rr(Er){["next","throw","return"].forEach(function(xr){pr(Er,xr,function(Mr){return this._invoke(xr,Mr)})})}function Lr(Er,xr){var Mr;lr(this,"_invoke",{value:function(zr,Or){function Br(){return new xr(function(Ur,qr){(function Vr(Gr,$r,Fr,Kr){var Zr=fr(Er[Gr],Er,$r);if(Zr.type!=="throw"){var nn=Zr.arg,Qr=nn.value;return Qr&&typeof Qr=="object"&&ar.call(Qr,"__await")?xr.resolve(Qr.__await).then(function(cn){Vr("next",cn,Fr,Kr)},function(cn){Vr("throw",cn,Fr,Kr)}):xr.resolve(Qr).then(function(cn){nn.value=cn,Fr(nn)},function(cn){return Vr("throw",cn,Fr,Kr)})}Kr(Zr.arg)})(zr,Or,Ur,qr)})}return Mr=Mr?Mr.then(Br,Br):Br()}})}function Ir(Er,xr,Mr){var zr="suspendedStart";return function(Or,Br){if(zr==="executing")throw new Error("Generator is already running");if(zr==="completed"){if(Or==="throw")throw Br;return wr()}for(Mr.method=Or,Mr.arg=Br;;){var Ur=Mr.delegate;if(Ur){var qr=Nr(Ur,Mr);if(qr){if(qr===gr)continue;return qr}}if(Mr.method==="next")Mr.sent=Mr._sent=Mr.arg;else if(Mr.method==="throw"){if(zr==="suspendedStart")throw zr="completed",Mr.arg;Mr.dispatchException(Mr.arg)}else Mr.method==="return"&&Mr.abrupt("return",Mr.arg);zr="executing";var Vr=fr(Er,xr,Mr);if(Vr.type==="normal"){if(zr=Mr.done?"completed":"suspendedYield",Vr.arg===gr)continue;return{value:Vr.arg,done:Mr.done}}Vr.type==="throw"&&(zr="completed",Mr.method="throw",Mr.arg=Vr.arg)}}}function Nr(Er,xr){var Mr=xr.method,zr=Er.iterator[Mr];if(zr===void 0)return xr.delegate=null,Mr==="throw"&&Er.iterator.return&&(xr.method="return",xr.arg=void 0,Nr(Er,xr),xr.method==="throw")||Mr!=="return"&&(xr.method="throw",xr.arg=new TypeError("The iterator does not provide a '"+Mr+"' method")),gr;var Or=fr(zr,Er.iterator,xr.arg);if(Or.type==="throw")return xr.method="throw",xr.arg=Or.arg,xr.delegate=null,gr;var Br=Or.arg;return Br?Br.done?(xr[Er.resultName]=Br.value,xr.next=Er.nextLoc,xr.method!=="return"&&(xr.method="next",xr.arg=void 0),xr.delegate=null,gr):Br:(xr.method="throw",xr.arg=new TypeError("iterator result is not an object"),xr.delegate=null,gr)}function Ar(Er){var xr={tryLoc:Er[0]};1 in Er&&(xr.catchLoc=Er[1]),2 in Er&&(xr.finallyLoc=Er[2],xr.afterLoc=Er[3]),this.tryEntries.push(xr)}function Dr(Er){var xr=Er.completion||{};xr.type="normal",delete xr.arg,Er.completion=xr}function Tr(Er){this.tryEntries=[{tryLoc:"root"}],Er.forEach(Ar,this),this.reset(!0)}function _r(Er){if(Er){var xr=Er[dr];if(xr)return xr.call(Er);if(typeof Er.next=="function")return Er;if(!isNaN(Er.length)){var Mr=-1,zr=function Or(){for(;++Mr<Er.length;)if(ar.call(Er,Mr))return Or.value=Er[Mr],Or.done=!1,Or;return Or.value=void 0,Or.done=!0,Or};return zr.next=zr}}return{next:wr}}function wr(){return{value:void 0,done:!0}}return vr.prototype=br,lr(Pr,"constructor",{value:br,configurable:!0}),lr(br,"constructor",{value:vr,configurable:!0}),vr.displayName=pr(br,ur,"GeneratorFunction"),sr.isGeneratorFunction=function(Er){var xr=typeof Er=="function"&&Er.constructor;return!!xr&&(xr===vr||(xr.displayName||xr.name)==="GeneratorFunction")},sr.mark=function(Er){return Object.setPrototypeOf?Object.setPrototypeOf(Er,br):(Er.__proto__=br,pr(Er,ur,"GeneratorFunction")),Er.prototype=Object.create(Pr),Er},sr.awrap=function(Er){return{__await:Er}},Rr(Lr.prototype),pr(Lr.prototype,hr,function(){return this}),sr.AsyncIterator=Lr,sr.async=function(Er,xr,Mr,zr,Or){Or===void 0&&(Or=Promise);var Br=new Lr(mr(Er,xr,Mr,zr),Or);return sr.isGeneratorFunction(xr)?Br:Br.next().then(function(Ur){return Ur.done?Ur.value:Br.next()})},Rr(Pr),pr(Pr,ur,"Generator"),pr(Pr,dr,function(){return this}),pr(Pr,"toString",function(){return"[object Generator]"}),sr.keys=function(Er){var xr=Object(Er),Mr=[];for(var zr in xr)Mr.push(zr);return Mr.reverse(),function Or(){for(;Mr.length;){var Br=Mr.pop();if(Br in xr)return Or.value=Br,Or.done=!1,Or}return Or.done=!0,Or}},sr.values=_r,Tr.prototype={constructor:Tr,reset:function(Er){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Dr),!Er)for(var xr in this)xr.charAt(0)==="t"&&ar.call(this,xr)&&!isNaN(+xr.slice(1))&&(this[xr]=void 0)},stop:function(){this.done=!0;var Er=this.tryEntries[0].completion;if(Er.type==="throw")throw Er.arg;return this.rval},dispatchException:function(Er){if(this.done)throw Er;var xr=this;function Mr(Vr,Gr){return Br.type="throw",Br.arg=Er,xr.next=Vr,Gr&&(xr.method="next",xr.arg=void 0),!!Gr}for(var zr=this.tryEntries.length-1;zr>=0;--zr){var Or=this.tryEntries[zr],Br=Or.completion;if(Or.tryLoc==="root")return Mr("end");if(Or.tryLoc<=this.prev){var Ur=ar.call(Or,"catchLoc"),qr=ar.call(Or,"finallyLoc");if(Ur&&qr){if(this.prev<Or.catchLoc)return Mr(Or.catchLoc,!0);if(this.prev<Or.finallyLoc)return Mr(Or.finallyLoc)}else if(Ur){if(this.prev<Or.catchLoc)return Mr(Or.catchLoc,!0)}else{if(!qr)throw new Error("try statement without catch or finally");if(this.prev<Or.finallyLoc)return Mr(Or.finallyLoc)}}}},abrupt:function(Er,xr){for(var Mr=this.tryEntries.length-1;Mr>=0;--Mr){var zr=this.tryEntries[Mr];if(zr.tryLoc<=this.prev&&ar.call(zr,"finallyLoc")&&this.prev<zr.finallyLoc){var Or=zr;break}}Or&&(Er==="break"||Er==="continue")&&Or.tryLoc<=xr&&xr<=Or.finallyLoc&&(Or=null);var Br=Or?Or.completion:{};return Br.type=Er,Br.arg=xr,Or?(this.method="next",this.next=Or.finallyLoc,gr):this.complete(Br)},complete:function(Er,xr){if(Er.type==="throw")throw Er.arg;return Er.type==="break"||Er.type==="continue"?this.next=Er.arg:Er.type==="return"?(this.rval=this.arg=Er.arg,this.method="return",this.next="end"):Er.type==="normal"&&xr&&(this.next=xr),gr},finish:function(Er){for(var xr=this.tryEntries.length-1;xr>=0;--xr){var Mr=this.tryEntries[xr];if(Mr.finallyLoc===Er)return this.complete(Mr.completion,Mr.afterLoc),Dr(Mr),gr}},catch:function(Er){for(var xr=this.tryEntries.length-1;xr>=0;--xr){var Mr=this.tryEntries[xr];if(Mr.tryLoc===Er){var zr=Mr.completion;if(zr.type==="throw"){var Or=zr.arg;Dr(Mr)}return Or}}throw new Error("illegal catch attempt")},delegateYield:function(Er,xr,Mr){return this.delegate={iterator:_r(Er),resultName:xr,nextLoc:Mr},this.method==="next"&&(this.arg=void 0),gr}},sr}(typeof rr=="object"?rr.exports:{});try{regeneratorRuntime=ir}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ir:Function("r","regeneratorRuntime = r")(ir)}},{}],493:[function(tr,rr,nr){var ir=tr("buffer").Buffer,sr=tr("inherits"),or=tr("hash-base"),ar=new Array(16),lr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],cr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],hr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ur=[0,1518500249,1859775393,2400959708,2840853838],pr=[1352829926,1548603684,1836072691,2053994217,0];function mr(){or.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function fr(jr,Cr){return jr<<Cr|jr>>>32-Cr}function gr(jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar){return fr(jr+(Cr^Pr^Rr)+Ir+Nr|0,Ar)+Lr|0}function yr(jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar){return fr(jr+(Cr&Pr|~Cr&Rr)+Ir+Nr|0,Ar)+Lr|0}function vr(jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar){return fr(jr+((Cr|~Pr)^Rr)+Ir+Nr|0,Ar)+Lr|0}function br(jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar){return fr(jr+(Cr&Rr|Pr&~Rr)+Ir+Nr|0,Ar)+Lr|0}function Sr(jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar){return fr(jr+(Cr^(Pr|~Rr))+Ir+Nr|0,Ar)+Lr|0}sr(mr,or),mr.prototype._update=function(){for(var jr=ar,Cr=0;Cr<16;++Cr)jr[Cr]=this._block.readInt32LE(4*Cr);for(var Pr=0|this._a,Rr=0|this._b,Lr=0|this._c,Ir=0|this._d,Nr=0|this._e,Ar=0|this._a,Dr=0|this._b,Tr=0|this._c,_r=0|this._d,wr=0|this._e,Er=0;Er<80;Er+=1){var xr,Mr;Er<16?(xr=gr(Pr,Rr,Lr,Ir,Nr,jr[lr[Er]],ur[0],dr[Er]),Mr=Sr(Ar,Dr,Tr,_r,wr,jr[cr[Er]],pr[0],hr[Er])):Er<32?(xr=yr(Pr,Rr,Lr,Ir,Nr,jr[lr[Er]],ur[1],dr[Er]),Mr=br(Ar,Dr,Tr,_r,wr,jr[cr[Er]],pr[1],hr[Er])):Er<48?(xr=vr(Pr,Rr,Lr,Ir,Nr,jr[lr[Er]],ur[2],dr[Er]),Mr=vr(Ar,Dr,Tr,_r,wr,jr[cr[Er]],pr[2],hr[Er])):Er<64?(xr=br(Pr,Rr,Lr,Ir,Nr,jr[lr[Er]],ur[3],dr[Er]),Mr=yr(Ar,Dr,Tr,_r,wr,jr[cr[Er]],pr[3],hr[Er])):(xr=Sr(Pr,Rr,Lr,Ir,Nr,jr[lr[Er]],ur[4],dr[Er]),Mr=gr(Ar,Dr,Tr,_r,wr,jr[cr[Er]],pr[4],hr[Er])),Pr=Nr,Nr=Ir,Ir=fr(Lr,10),Lr=Rr,Rr=xr,Ar=wr,wr=_r,_r=fr(Tr,10),Tr=Dr,Dr=Mr}var zr=this._b+Lr+_r|0;this._b=this._c+Ir+wr|0,this._c=this._d+Nr+Ar|0,this._d=this._e+Pr+Dr|0,this._e=this._a+Rr+Tr|0,this._a=zr},mr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var jr=ir.alloc?ir.alloc(20):new ir(20);return jr.writeInt32LE(this._a,0),jr.writeInt32LE(this._b,4),jr.writeInt32LE(this._c,8),jr.writeInt32LE(this._d,12),jr.writeInt32LE(this._e,16),jr},rr.exports=mr},{buffer:220,"hash-base":425,inherits:440}],494:[function(tr,rr,nr){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ir=tr("buffer"),sr=ir.Buffer;function or(lr,cr){for(var dr in lr)cr[dr]=lr[dr]}function ar(lr,cr,dr){return sr(lr,cr,dr)}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?rr.exports=ir:(or(ir,nr),nr.Buffer=ar),ar.prototype=Object.create(sr.prototype),or(sr,ar),ar.from=function(lr,cr,dr){if(typeof lr=="number")throw new TypeError("Argument must not be a number");return sr(lr,cr,dr)},ar.alloc=function(lr,cr,dr){if(typeof lr!="number")throw new TypeError("Argument must be a number");var hr=sr(lr);return cr!==void 0?typeof dr=="string"?hr.fill(cr,dr):hr.fill(cr):hr.fill(0),hr},ar.allocUnsafe=function(lr){if(typeof lr!="number")throw new TypeError("Argument must be a number");return sr(lr)},ar.allocUnsafeSlow=function(lr){if(typeof lr!="number")throw new TypeError("Argument must be a number");return ir.SlowBuffer(lr)}},{buffer:220}],495:[function(tr,rr,nr){(function(ir){(function(){var sr,or=tr("buffer"),ar=or.Buffer,lr={};for(sr in or)or.hasOwnProperty(sr)&&sr!=="SlowBuffer"&&sr!=="Buffer"&&(lr[sr]=or[sr]);var cr=lr.Buffer={};for(sr in ar)ar.hasOwnProperty(sr)&&sr!=="allocUnsafe"&&sr!=="allocUnsafeSlow"&&(cr[sr]=ar[sr]);if(lr.Buffer.prototype=ar.prototype,cr.from&&cr.from!==Uint8Array.from||(cr.from=function(dr,hr,ur){if(typeof dr=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof dr);if(dr&&dr.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof dr);return ar(dr,hr,ur)}),cr.alloc||(cr.alloc=function(dr,hr,ur){if(typeof dr!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof dr);if(dr<0||dr>=2*(1<<30))throw new RangeError('The value "'+dr+'" is invalid for option "size"');var pr=ar(dr);return hr&&hr.length!==0?typeof ur=="string"?pr.fill(hr,ur):pr.fill(hr):pr.fill(0),pr}),!lr.kStringMaxLength)try{lr.kStringMaxLength=ir.binding("buffer").kStringMaxLength}catch{}lr.constants||(lr.constants={MAX_LENGTH:lr.kMaxLength},lr.kStringMaxLength&&(lr.constants.MAX_STRING_LENGTH=lr.kStringMaxLength)),rr.exports=lr}).call(this)}).call(this,tr("_process"))},{_process:467,buffer:220}],496:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0});const ir=tr("xmlchars/xml/1.0/ed5"),sr=tr("xmlchars/xml/1.1/ed2"),or=tr("xmlchars/xmlns/1.0/ed3");var ar=ir.isS,lr=ir.isChar,cr=ir.isNameStartChar,dr=ir.isNameChar,hr=ir.S_LIST,ur=ir.NAME_RE,pr=sr.isChar,mr=or.isNCNameStartChar,fr=or.isNCNameChar,gr=or.NC_NAME_RE;const yr="http://www.w3.org/XML/1998/namespace",vr="http://www.w3.org/2000/xmlns/",br={__proto__:null,xml:yr,xmlns:vr},Sr={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},jr=_r=>_r===34||_r===39,Cr=[34,39],Pr=[...Cr,91,62],Rr=[...Cr,60,93],Lr=[61,63,...hr],Ir=[...hr,62,38,60];function Nr(_r,wr,Er){switch(wr){case"xml":Er!==yr&&_r.fail(`xml prefix must be bound to ${yr}.`);break;case"xmlns":Er!==vr&&_r.fail(`xmlns prefix must be bound to ${vr}.`)}switch(Er){case vr:_r.fail(wr===""?`the default namespace may not be set to ${Er}.`:`may not assign a prefix (even "xmlns") to the URI ${vr}.`);break;case yr:switch(wr){case"xml":break;case"":_r.fail(`the default namespace may not be set to ${Er}.`);break;default:_r.fail("may not assign the xml namespace to another prefix.")}}}const Ar=_r=>gr.test(_r),Dr=_r=>ur.test(_r);nr.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Tr={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};nr.SaxesParser=class{constructor(_r){this.opt=_r??{},this.fragmentOpt=!!this.opt.fragment;const wr=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,wr){this.nameStartCheck=mr,this.nameCheck=fr,this.isName=Ar,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},br);const Er=this.opt.additionalNamespaces;Er!=null&&(function(xr,Mr){for(const zr of Object.keys(Mr))Nr(xr,zr,Mr[zr])}(this,Er),Object.assign(this.ns,Er))}else this.nameStartCheck=cr,this.nameCheck=dr,this.isName=Dr,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _r;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:wr}=this;this.state=wr?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=wr,this.xmlDeclPossible=!wr,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Er}=this.opt;if(Er===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Er="1.0"}this.setXMLVersion(Er),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(Sr),(_r=this.readyHandler)===null||_r===void 0||_r.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_r,wr){this[Tr[_r]]=wr}off(_r){this[Tr[_r]]=void 0}makeError(_r){var wr;let Er=(wr=this.fileName)!==null&&wr!==void 0?wr:"";return this.trackPosition&&(Er.length>0&&(Er+=":"),Er+=`${this.line}:${this.column}`),Er.length>0&&(Er+=": "),new Error(Er+_r)}fail(_r){const wr=this.makeError(_r),Er=this.errorHandler;if(Er===void 0)throw wr;return Er(wr),this}write(_r){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let wr=!1;_r===null?(wr=!0,_r=""):typeof _r=="object"&&(_r=_r.toString()),this.carriedFromPrevious!==void 0&&(_r=`${this.carriedFromPrevious}${_r}`,this.carriedFromPrevious=void 0);let Er=_r.length;const xr=_r.charCodeAt(Er-1);!wr&&(xr===13||xr>=55296&&xr<=56319)&&(this.carriedFromPrevious=_r[Er-1],Er--,_r=_r.slice(0,Er));const{stateTable:Mr}=this;for(this.chunk=_r,this.i=0;this.i<Er;)Mr[this.state].call(this);return this.chunkPosition+=Er,wr?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_r,i:wr}=this;if(this.prevI=wr,this.i=wr+1,wr>=_r.length)return-1;const Er=_r.charCodeAt(wr);if(this.column++,Er<55296){if(Er>=32||Er===9)return Er;switch(Er){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _r.charCodeAt(wr+1)===10&&(this.i=wr+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),Er}}if(Er>56319)return Er>=57344&&Er<=65533||this.fail("disallowed character."),Er;const xr=65536+1024*(Er-55296)+(_r.charCodeAt(wr+1)-56320);return this.i=wr+2,xr>1114111&&this.fail("disallowed character."),xr}getCode11(){const{chunk:_r,i:wr}=this;if(this.prevI=wr,this.i=wr+1,wr>=_r.length)return-1;const Er=_r.charCodeAt(wr);if(this.column++,Er<55296){if(Er>31&&Er<127||Er>159&&Er!==8232||Er===9)return Er;switch(Er){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const Mr=_r.charCodeAt(wr+1);Mr!==10&&Mr!==133||(this.i=wr+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),Er}}if(Er>56319)return Er>=57344&&Er<=65533||this.fail("disallowed character."),Er;const xr=65536+1024*(Er-55296)+(_r.charCodeAt(wr+1)-56320);return this.i=wr+2,xr>1114111&&this.fail("disallowed character."),xr}getCodeNorm(){const _r=this.getCode();return _r===-2?10:_r}unget(){this.i=this.prevI,this.column--}captureTo(_r){let{i:wr}=this;const{chunk:Er}=this;for(;;){const xr=this.getCode(),Mr=xr===-2,zr=Mr?10:xr;if(zr===-1||_r.includes(zr))return this.text+=Er.slice(wr,this.prevI),zr;Mr&&(this.text+=Er.slice(wr,this.prevI)+`
`,wr=this.i)}}captureToChar(_r){let{i:wr}=this;const{chunk:Er}=this;for(;;){let xr=this.getCode();switch(xr){case-2:this.text+=Er.slice(wr,this.prevI)+`
`,wr=this.i,xr=10;break;case-1:return this.text+=Er.slice(wr),!1}if(xr===_r)return this.text+=Er.slice(wr,this.prevI),!0}}captureNameChars(){const{chunk:_r,i:wr}=this;for(;;){const Er=this.getCode();if(Er===-1)return this.name+=_r.slice(wr),-1;if(!dr(Er))return this.name+=_r.slice(wr,this.prevI),Er===-2?10:Er}}skipSpaces(){for(;;){const _r=this.getCodeNorm();if(_r===-1||!ar(_r))return _r}}setXMLVersion(_r){this.currentXMLVersion=_r,_r==="1.0"?(this.isChar=lr,this.getCode=this.getCode10):(this.isChar=pr,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _r=this.i,wr=this.skipSpaces();switch(this.prevI!==_r&&(this.xmlDeclPossible=!1),wr){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _r;const wr=this.captureTo(Pr);switch(wr){case 62:(_r=this.doctypeHandler)===null||_r===void 0||_r.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(wr),wr===91?this.state=4:jr(wr)&&(this.state=3,this.q=wr)}}sDoctypeQuote(){const _r=this.q;this.captureToChar(_r)&&(this.text+=String.fromCodePoint(_r),this.q=null,this.state=2)}sDTD(){const _r=this.captureTo(Rr);_r!==-1&&(this.text+=String.fromCodePoint(_r),_r===93?this.state=2:_r===60?this.state=6:jr(_r)&&(this.state=5,this.q=_r))}sDTDQuoted(){const _r=this.q;this.captureToChar(_r)&&(this.text+=String.fromCodePoint(_r),this.state=4,this.q=null)}sDTDOpenWaka(){const _r=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_r),_r){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _r=String.fromCodePoint(this.getCodeNorm()),wr=this.openWakaBang+=_r;this.text+=_r,wr!=="-"&&(this.state=wr==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _r=this.getCodeNorm();this.text+=String.fromCodePoint(_r),this.state=_r===45?10:8}sDTDCommentEnded(){const _r=this.getCodeNorm();this.text+=String.fromCodePoint(_r),_r===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _r=this.getCodeNorm();this.text+=String.fromCodePoint(_r),_r===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_r}=this;const{chunk:wr}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=wr.slice(_r,this.prevI)+`
`,_r=this.i;break;case 59:{const{entityReturnState:Er}=this,xr=this.entity+wr.slice(_r,this.prevI);let Mr;this.state=Er,xr===""?(this.fail("empty entity name."),Mr="&;"):(Mr=this.parseEntity(xr),this.entity=""),Er===13&&this.textHandler===void 0||(this.text+=Mr);break e}case-1:this.entity+=wr.slice(_r);break e}}sOpenWaka(){const _r=this.getCode();if(cr(_r))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_r){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _r;const wr=this.getCodeNorm();wr===45?(this.state=19,(_r=this.commentHandler)===null||_r===void 0||_r.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(wr),this.state=17)}sCommentEnded(){const _r=this.getCodeNorm();_r!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_r),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _r=this.getCodeNorm();_r===93?this.state=22:(this.text+="]"+String.fromCodePoint(_r),this.state=20)}sCDataEnding2(){var _r;const wr=this.getCodeNorm();switch(wr){case 62:(_r=this.cdataHandler)===null||_r===void 0||_r.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(wr),this.state=20}}sPIFirstChar(){const _r=this.getCodeNorm();this.nameStartCheck(_r)?(this.piTarget+=String.fromCodePoint(_r),this.state=24):_r===63||ar(_r)?(this.fail("processing instruction without a target."),this.state=_r===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_r),this.state=24)}sPIRest(){const{chunk:_r,i:wr}=this;for(;;){const Er=this.getCodeNorm();if(Er===-1)return void(this.piTarget+=_r.slice(wr));if(!this.nameCheck(Er)){this.piTarget+=_r.slice(wr,this.prevI);const xr=Er===63;xr||ar(Er)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=xr?33:27):this.state=xr?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Er));break}}}sPIBody(){if(this.text.length===0){const _r=this.getCodeNorm();_r===63?this.state=26:ar(_r)||(this.text=String.fromCodePoint(_r))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _r;const wr=this.getCodeNorm();if(wr===62){const{piTarget:Er}=this;Er.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_r=this.piHandler)===null||_r===void 0||_r.call(this,{target:Er,body:this.text}),this.piTarget=this.text="",this.state=13}else wr===63?this.text+="?":(this.text+="?"+String.fromCodePoint(wr),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _r=this.skipSpaces();_r!==63?_r!==-1&&(this.state=28,this.name=String.fromCodePoint(_r)):this.state=33}sXMLDeclName(){const _r=this.captureTo(Lr);if(_r===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(ar(_r)||_r===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_r===61?30:29}}sXMLDeclEq(){const _r=this.getCodeNorm();if(_r===63)return this.state=33,void this.fail("XML declaration is incomplete.");ar(_r)||(_r!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _r=this.getCodeNorm();if(_r===63)return this.state=33,void this.fail("XML declaration is incomplete.");ar(_r)||(jr(_r)?this.q=_r:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _r=this.captureTo([this.q,63]);if(_r===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_r===-1)return;const wr=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Er=wr;this.xmlDecl.version=Er,/^1\.[0-9]+$/.test(Er)?this.opt.forceXMLVersion||this.setXMLVersion(Er):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(wr)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=wr;break;case"standalone":wr!=="yes"&&wr!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=wr}this.name="",this.state=32}sXMLDeclSeparator(){const _r=this.getCodeNorm();_r!==63?(ar(_r)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _r;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_r=this.xmldeclHandler)===null||_r===void 0||_r.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _r;const wr=this.captureNameChars();if(wr===-1)return;const Er=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Er.ns=Object.create(null)),(_r=this.openTagStartHandler)===null||_r===void 0||_r.call(this,Er),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),wr){case 62:this.openTag();break;case 47:this.state=35;break;default:ar(wr)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _r=this.skipSpaces();_r!==-1&&(cr(_r)?(this.unget(),this.state=37):_r===62?this.openTag():_r===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _r=this.captureNameChars();_r===61?this.state=39:ar(_r)?this.state=38:_r===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_r!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _r=this.skipSpaces();switch(_r){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_r===62?this.openTag():cr(_r)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _r=this.getCodeNorm();jr(_r)?(this.q=_r,this.state=40):ar(_r)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_r,chunk:wr}=this;let{i:Er}=this;for(;;)switch(this.getCode()){case _r:return this.pushAttrib(this.name,this.text+wr.slice(Er,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=wr.slice(Er,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=wr.slice(Er,this.prevI)+" ",Er=this.i;break;case 60:return this.text+=wr.slice(Er,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=wr.slice(Er))}}sAttribValueClosed(){const _r=this.getCodeNorm();ar(_r)?this.state=36:_r===62?this.openTag():_r===47?this.state=35:cr(_r)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _r=this.captureTo(Ir);switch(_r){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_r===62?this.openTag():this.state=36}}sCloseTag(){const _r=this.captureNameChars();_r===62?this.closeTag():ar(_r)?this.state=44:_r!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_r,forbiddenState:wr}=this;const{chunk:Er,textHandler:xr}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,xr!==void 0){const{text:Mr}=this,zr=Er.slice(_r,this.prevI);Mr.length!==0?(xr(Mr+zr),this.text=""):zr.length!==0&&xr(zr)}wr=0;break e;case 38:this.state=14,this.entityReturnState=13,xr!==void 0&&(this.text+=Er.slice(_r,this.prevI)),wr=0;break e;case 93:switch(wr){case 0:wr=1;break;case 1:wr=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:wr===2&&this.fail('the string "]]>" is disallowed in char data.'),wr=0;break;case-2:xr!==void 0&&(this.text+=Er.slice(_r,this.prevI)+`
`),_r=this.i,wr=0;break;case-1:xr!==void 0&&(this.text+=Er.slice(_r));break e;default:wr=0}this.forbiddenState=wr}handleTextOutsideRoot(){let{i:_r}=this;const{chunk:wr,textHandler:Er}=this;let xr=!1;e:for(;;){const Mr=this.getCode();switch(Mr){case 60:if(this.state=15,Er!==void 0){const{text:zr}=this,Or=wr.slice(_r,this.prevI);zr.length!==0?(Er(zr+Or),this.text=""):Or.length!==0&&Er(Or)}break e;case 38:this.state=14,this.entityReturnState=13,Er!==void 0&&(this.text+=wr.slice(_r,this.prevI)),xr=!0;break e;case-2:Er!==void 0&&(this.text+=wr.slice(_r,this.prevI)+`
`),_r=this.i;break;case-1:Er!==void 0&&(this.text+=wr.slice(_r));break e;default:ar(Mr)||(xr=!0)}}xr&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_r,wr){var Er;const{prefix:xr,local:Mr}=this.qname(_r),zr={name:_r,prefix:xr,local:Mr,value:wr};if(this.attribList.push(zr),(Er=this.attributeHandler)===null||Er===void 0||Er.call(this,zr),xr==="xmlns"){const Or=wr.trim();this.currentXMLVersion==="1.0"&&Or===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[Mr]=Or,Nr(this,Mr,Or)}else if(_r==="xmlns"){const Or=wr.trim();this.topNS[""]=Or,Nr(this,"",Or)}}pushAttribPlain(_r,wr){var Er;const xr={name:_r,value:wr};this.attribList.push(xr),(Er=this.attributeHandler)===null||Er===void 0||Er.call(this,xr)}end(){var _r,wr;this.sawRoot||this.fail("document must contain a root element.");const{tags:Er}=this;for(;Er.length>0;){const Mr=Er.pop();this.fail("unclosed tag: "+Mr.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:xr}=this;return xr.length!==0&&((_r=this.textHandler)===null||_r===void 0||_r.call(this,xr),this.text=""),this._closed=!0,(wr=this.endHandler)===null||wr===void 0||wr.call(this),this._init(),this}resolve(_r){var wr,Er;let xr=this.topNS[_r];if(xr!==void 0)return xr;const{tags:Mr}=this;for(let zr=Mr.length-1;zr>=0;zr--)if(xr=Mr[zr].ns[_r],xr!==void 0)return xr;return xr=this.ns[_r],xr!==void 0?xr:(Er=(wr=this.opt).resolvePrefix)===null||Er===void 0?void 0:Er.call(wr,_r)}qname(_r){const wr=_r.indexOf(":");if(wr===-1)return{prefix:"",local:_r};const Er=_r.slice(wr+1),xr=_r.slice(0,wr);return(xr===""||Er===""||Er.includes(":"))&&this.fail(`malformed name: ${_r}.`),{prefix:xr,local:Er}}processAttribsNS(){var _r;const{attribList:wr}=this,Er=this.tag;{const{prefix:zr,local:Or}=this.qname(Er.name);Er.prefix=zr,Er.local=Or;const Br=Er.uri=(_r=this.resolve(zr))!==null&&_r!==void 0?_r:"";zr!==""&&(zr==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Br===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(zr)}.`),Er.uri=zr))}if(wr.length===0)return;const{attributes:xr}=Er,Mr=new Set;for(const zr of wr){const{name:Or,prefix:Br,local:Ur}=zr;let qr,Vr;Br===""?(qr=Or==="xmlns"?vr:"",Vr=Or):(qr=this.resolve(Br),qr===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Br)}.`),qr=Br),Vr=`{${qr}}${Ur}`),Mr.has(Vr)&&this.fail(`duplicate attribute: ${Vr}.`),Mr.add(Vr),zr.uri=qr,xr[Or]=zr}this.attribList=[]}processAttribsPlain(){const{attribList:_r}=this,wr=this.tag.attributes;for(const{name:Er,value:xr}of _r)wr[Er]!==void 0&&this.fail(`duplicate attribute: ${Er}.`),wr[Er]=xr;this.attribList=[]}openTag(){var _r;this.processAttribs();const{tags:wr}=this,Er=this.tag;Er.isSelfClosing=!1,(_r=this.openTagHandler)===null||_r===void 0||_r.call(this,Er),wr.push(Er),this.state=13,this.name=""}openSelfClosingTag(){var _r,wr,Er;this.processAttribs();const{tags:xr}=this,Mr=this.tag;Mr.isSelfClosing=!0,(_r=this.openTagHandler)===null||_r===void 0||_r.call(this,Mr),(wr=this.closeTagHandler)===null||wr===void 0||wr.call(this,Mr),(this.tag=(Er=xr[xr.length-1])!==null&&Er!==void 0?Er:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_r,name:wr}=this;if(this.state=13,this.name="",wr==="")return this.fail("weird empty close tag."),void(this.text+="</>");const Er=this.closeTagHandler;let xr=_r.length;for(;xr-- >0;){const Mr=this.tag=_r.pop();if(this.topNS=Mr.ns,Er==null||Er(Mr),Mr.name===wr)break;this.fail("unexpected close tag.")}xr===0?this.closedRoot=!0:xr<0&&(this.fail(`unmatched closing tag: ${wr}.`),this.text+=`</${wr}>`)}parseEntity(_r){if(_r[0]!=="#"){const Er=this.ENTITIES[_r];return Er!==void 0?Er:(this.fail(this.isName(_r)?"undefined entity.":"disallowed character in entity name."),`&${_r};`)}let wr=NaN;return _r[1]==="x"&&/^#x[0-9a-f]+$/i.test(_r)?wr=parseInt(_r.slice(2),16):/^#[0-9]+$/.test(_r)&&(wr=parseInt(_r.slice(1),10)),this.isChar(wr)?String.fromCodePoint(wr):(this.fail("malformed character entity."),`&${_r};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer;function sr(or,ar){this._block=ir.alloc(or),this._finalSize=ar,this._blockSize=or,this._len=0}sr.prototype.update=function(or,ar){typeof or=="string"&&(ar=ar||"utf8",or=ir.from(or,ar));for(var lr=this._block,cr=this._blockSize,dr=or.length,hr=this._len,ur=0;ur<dr;){for(var pr=hr%cr,mr=Math.min(dr-ur,cr-pr),fr=0;fr<mr;fr++)lr[pr+fr]=or[ur+fr];ur+=mr,(hr+=mr)%cr==0&&this._update(lr)}return this._len+=dr,this},sr.prototype.digest=function(or){var ar=this._len%this._blockSize;this._block[ar]=128,this._block.fill(0,ar+1),ar>=this._finalSize&&(this._update(this._block),this._block.fill(0));var lr=8*this._len;if(lr<=4294967295)this._block.writeUInt32BE(lr,this._blockSize-4);else{var cr=(4294967295&lr)>>>0,dr=(lr-cr)/4294967296;this._block.writeUInt32BE(dr,this._blockSize-8),this._block.writeUInt32BE(cr,this._blockSize-4)}this._update(this._block);var hr=this._hash();return or?hr.toString(or):hr},sr.prototype._update=function(){throw new Error("_update must be implemented by subclass")},rr.exports=sr},{"safe-buffer":494}],498:[function(tr,rr,nr){var ir=rr.exports=function(sr){sr=sr.toLowerCase();var or=ir[sr];if(!or)throw new Error(sr+" is not supported (we accept pull requests)");return new or};ir.sha=tr("./sha"),ir.sha1=tr("./sha1"),ir.sha224=tr("./sha224"),ir.sha256=tr("./sha256"),ir.sha384=tr("./sha384"),ir.sha512=tr("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./hash"),or=tr("safe-buffer").Buffer,ar=[1518500249,1859775393,-1894007588,-899497514],lr=new Array(80);function cr(){this.init(),this._w=lr,sr.call(this,64,56)}function dr(ur){return ur<<30|ur>>>2}function hr(ur,pr,mr,fr){return ur===0?pr&mr|~pr&fr:ur===2?pr&mr|pr&fr|mr&fr:pr^mr^fr}ir(cr,sr),cr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},cr.prototype._update=function(ur){for(var pr,mr=this._w,fr=0|this._a,gr=0|this._b,yr=0|this._c,vr=0|this._d,br=0|this._e,Sr=0;Sr<16;++Sr)mr[Sr]=ur.readInt32BE(4*Sr);for(;Sr<80;++Sr)mr[Sr]=mr[Sr-3]^mr[Sr-8]^mr[Sr-14]^mr[Sr-16];for(var jr=0;jr<80;++jr){var Cr=~~(jr/20),Pr=0|((pr=fr)<<5|pr>>>27)+hr(Cr,gr,yr,vr)+br+mr[jr]+ar[Cr];br=vr,vr=yr,yr=dr(gr),gr=fr,fr=Pr}this._a=fr+this._a|0,this._b=gr+this._b|0,this._c=yr+this._c|0,this._d=vr+this._d|0,this._e=br+this._e|0},cr.prototype._hash=function(){var ur=or.allocUnsafe(20);return ur.writeInt32BE(0|this._a,0),ur.writeInt32BE(0|this._b,4),ur.writeInt32BE(0|this._c,8),ur.writeInt32BE(0|this._d,12),ur.writeInt32BE(0|this._e,16),ur},rr.exports=cr},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./hash"),or=tr("safe-buffer").Buffer,ar=[1518500249,1859775393,-1894007588,-899497514],lr=new Array(80);function cr(){this.init(),this._w=lr,sr.call(this,64,56)}function dr(pr){return pr<<5|pr>>>27}function hr(pr){return pr<<30|pr>>>2}function ur(pr,mr,fr,gr){return pr===0?mr&fr|~mr&gr:pr===2?mr&fr|mr&gr|fr&gr:mr^fr^gr}ir(cr,sr),cr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},cr.prototype._update=function(pr){for(var mr,fr=this._w,gr=0|this._a,yr=0|this._b,vr=0|this._c,br=0|this._d,Sr=0|this._e,jr=0;jr<16;++jr)fr[jr]=pr.readInt32BE(4*jr);for(;jr<80;++jr)fr[jr]=(mr=fr[jr-3]^fr[jr-8]^fr[jr-14]^fr[jr-16])<<1|mr>>>31;for(var Cr=0;Cr<80;++Cr){var Pr=~~(Cr/20),Rr=dr(gr)+ur(Pr,yr,vr,br)+Sr+fr[Cr]+ar[Pr]|0;Sr=br,br=vr,vr=hr(yr),yr=gr,gr=Rr}this._a=gr+this._a|0,this._b=yr+this._b|0,this._c=vr+this._c|0,this._d=br+this._d|0,this._e=Sr+this._e|0},cr.prototype._hash=function(){var pr=or.allocUnsafe(20);return pr.writeInt32BE(0|this._a,0),pr.writeInt32BE(0|this._b,4),pr.writeInt32BE(0|this._c,8),pr.writeInt32BE(0|this._d,12),pr.writeInt32BE(0|this._e,16),pr},rr.exports=cr},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./sha256"),or=tr("./hash"),ar=tr("safe-buffer").Buffer,lr=new Array(64);function cr(){this.init(),this._w=lr,or.call(this,64,56)}ir(cr,sr),cr.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},cr.prototype._hash=function(){var dr=ar.allocUnsafe(28);return dr.writeInt32BE(this._a,0),dr.writeInt32BE(this._b,4),dr.writeInt32BE(this._c,8),dr.writeInt32BE(this._d,12),dr.writeInt32BE(this._e,16),dr.writeInt32BE(this._f,20),dr.writeInt32BE(this._g,24),dr},rr.exports=cr},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./hash"),or=tr("safe-buffer").Buffer,ar=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],lr=new Array(64);function cr(){this.init(),this._w=lr,sr.call(this,64,56)}function dr(fr,gr,yr){return yr^fr&(gr^yr)}function hr(fr,gr,yr){return fr&gr|yr&(fr|gr)}function ur(fr){return(fr>>>2|fr<<30)^(fr>>>13|fr<<19)^(fr>>>22|fr<<10)}function pr(fr){return(fr>>>6|fr<<26)^(fr>>>11|fr<<21)^(fr>>>25|fr<<7)}function mr(fr){return(fr>>>7|fr<<25)^(fr>>>18|fr<<14)^fr>>>3}ir(cr,sr),cr.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},cr.prototype._update=function(fr){for(var gr,yr=this._w,vr=0|this._a,br=0|this._b,Sr=0|this._c,jr=0|this._d,Cr=0|this._e,Pr=0|this._f,Rr=0|this._g,Lr=0|this._h,Ir=0;Ir<16;++Ir)yr[Ir]=fr.readInt32BE(4*Ir);for(;Ir<64;++Ir)yr[Ir]=0|(((gr=yr[Ir-2])>>>17|gr<<15)^(gr>>>19|gr<<13)^gr>>>10)+yr[Ir-7]+mr(yr[Ir-15])+yr[Ir-16];for(var Nr=0;Nr<64;++Nr){var Ar=Lr+pr(Cr)+dr(Cr,Pr,Rr)+ar[Nr]+yr[Nr]|0,Dr=ur(vr)+hr(vr,br,Sr)|0;Lr=Rr,Rr=Pr,Pr=Cr,Cr=jr+Ar|0,jr=Sr,Sr=br,br=vr,vr=Ar+Dr|0}this._a=vr+this._a|0,this._b=br+this._b|0,this._c=Sr+this._c|0,this._d=jr+this._d|0,this._e=Cr+this._e|0,this._f=Pr+this._f|0,this._g=Rr+this._g|0,this._h=Lr+this._h|0},cr.prototype._hash=function(){var fr=or.allocUnsafe(32);return fr.writeInt32BE(this._a,0),fr.writeInt32BE(this._b,4),fr.writeInt32BE(this._c,8),fr.writeInt32BE(this._d,12),fr.writeInt32BE(this._e,16),fr.writeInt32BE(this._f,20),fr.writeInt32BE(this._g,24),fr.writeInt32BE(this._h,28),fr},rr.exports=cr},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./sha512"),or=tr("./hash"),ar=tr("safe-buffer").Buffer,lr=new Array(160);function cr(){this.init(),this._w=lr,or.call(this,128,112)}ir(cr,sr),cr.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},cr.prototype._hash=function(){var dr=ar.allocUnsafe(48);function hr(ur,pr,mr){dr.writeInt32BE(ur,mr),dr.writeInt32BE(pr,mr+4)}return hr(this._ah,this._al,0),hr(this._bh,this._bl,8),hr(this._ch,this._cl,16),hr(this._dh,this._dl,24),hr(this._eh,this._el,32),hr(this._fh,this._fl,40),dr},rr.exports=cr},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(tr,rr,nr){var ir=tr("inherits"),sr=tr("./hash"),or=tr("safe-buffer").Buffer,ar=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],lr=new Array(160);function cr(){this.init(),this._w=lr,sr.call(this,128,112)}function dr(br,Sr,jr){return jr^br&(Sr^jr)}function hr(br,Sr,jr){return br&Sr|jr&(br|Sr)}function ur(br,Sr){return(br>>>28|Sr<<4)^(Sr>>>2|br<<30)^(Sr>>>7|br<<25)}function pr(br,Sr){return(br>>>14|Sr<<18)^(br>>>18|Sr<<14)^(Sr>>>9|br<<23)}function mr(br,Sr){return(br>>>1|Sr<<31)^(br>>>8|Sr<<24)^br>>>7}function fr(br,Sr){return(br>>>1|Sr<<31)^(br>>>8|Sr<<24)^(br>>>7|Sr<<25)}function gr(br,Sr){return(br>>>19|Sr<<13)^(Sr>>>29|br<<3)^br>>>6}function yr(br,Sr){return(br>>>19|Sr<<13)^(Sr>>>29|br<<3)^(br>>>6|Sr<<26)}function vr(br,Sr){return br>>>0<Sr>>>0?1:0}ir(cr,sr),cr.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},cr.prototype._update=function(br){for(var Sr=this._w,jr=0|this._ah,Cr=0|this._bh,Pr=0|this._ch,Rr=0|this._dh,Lr=0|this._eh,Ir=0|this._fh,Nr=0|this._gh,Ar=0|this._hh,Dr=0|this._al,Tr=0|this._bl,_r=0|this._cl,wr=0|this._dl,Er=0|this._el,xr=0|this._fl,Mr=0|this._gl,zr=0|this._hl,Or=0;Or<32;Or+=2)Sr[Or]=br.readInt32BE(4*Or),Sr[Or+1]=br.readInt32BE(4*Or+4);for(;Or<160;Or+=2){var Br=Sr[Or-30],Ur=Sr[Or-30+1],qr=mr(Br,Ur),Vr=fr(Ur,Br),Gr=gr(Br=Sr[Or-4],Ur=Sr[Or-4+1]),$r=yr(Ur,Br),Fr=Sr[Or-14],Kr=Sr[Or-14+1],Zr=Sr[Or-32],nn=Sr[Or-32+1],Qr=Vr+Kr|0,cn=qr+Fr+vr(Qr,Vr)|0;cn=(cn=cn+Gr+vr(Qr=Qr+$r|0,$r)|0)+Zr+vr(Qr=Qr+nn|0,nn)|0,Sr[Or]=cn,Sr[Or+1]=Qr}for(var dn=0;dn<160;dn+=2){cn=Sr[dn],Qr=Sr[dn+1];var en=hr(jr,Cr,Pr),an=hr(Dr,Tr,_r),tn=ur(jr,Dr),sn=ur(Dr,jr),fn=pr(Lr,Er),pn=pr(Er,Lr),yn=ar[dn],Cn=ar[dn+1],Rn=dr(Lr,Ir,Nr),En=dr(Er,xr,Mr),zn=zr+pn|0,Bn=Ar+fn+vr(zn,zr)|0;Bn=(Bn=(Bn=Bn+Rn+vr(zn=zn+En|0,En)|0)+yn+vr(zn=zn+Cn|0,Cn)|0)+cn+vr(zn=zn+Qr|0,Qr)|0;var rs=sn+an|0,cs=tn+en+vr(rs,sn)|0;Ar=Nr,zr=Mr,Nr=Ir,Mr=xr,Ir=Lr,xr=Er,Lr=Rr+Bn+vr(Er=wr+zn|0,wr)|0,Rr=Pr,wr=_r,Pr=Cr,_r=Tr,Cr=jr,Tr=Dr,jr=Bn+cs+vr(Dr=zn+rs|0,zn)|0}this._al=this._al+Dr|0,this._bl=this._bl+Tr|0,this._cl=this._cl+_r|0,this._dl=this._dl+wr|0,this._el=this._el+Er|0,this._fl=this._fl+xr|0,this._gl=this._gl+Mr|0,this._hl=this._hl+zr|0,this._ah=this._ah+jr+vr(this._al,Dr)|0,this._bh=this._bh+Cr+vr(this._bl,Tr)|0,this._ch=this._ch+Pr+vr(this._cl,_r)|0,this._dh=this._dh+Rr+vr(this._dl,wr)|0,this._eh=this._eh+Lr+vr(this._el,Er)|0,this._fh=this._fh+Ir+vr(this._fl,xr)|0,this._gh=this._gh+Nr+vr(this._gl,Mr)|0,this._hh=this._hh+Ar+vr(this._hl,zr)|0},cr.prototype._hash=function(){var br=or.allocUnsafe(64);function Sr(jr,Cr,Pr){br.writeInt32BE(jr,Pr),br.writeInt32BE(Cr,Pr+4)}return Sr(this._ah,this._al,0),Sr(this._bh,this._bl,8),Sr(this._ch,this._cl,16),Sr(this._dh,this._dl,24),Sr(this._eh,this._el,32),Sr(this._fh,this._fl,40),Sr(this._gh,this._gl,48),Sr(this._hh,this._hl,56),br},rr.exports=cr},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(tr,rr,nr){rr.exports=sr;var ir=tr("events").EventEmitter;function sr(){ir.call(this)}tr("inherits")(sr,ir),sr.Readable=tr("readable-stream/readable.js"),sr.Writable=tr("readable-stream/writable.js"),sr.Duplex=tr("readable-stream/duplex.js"),sr.Transform=tr("readable-stream/transform.js"),sr.PassThrough=tr("readable-stream/passthrough.js"),sr.Stream=sr,sr.prototype.pipe=function(or,ar){var lr=this;function cr(gr){or.writable&&or.write(gr)===!1&&lr.pause&&lr.pause()}function dr(){lr.readable&&lr.resume&&lr.resume()}lr.on("data",cr),or.on("drain",dr),or._isStdio||ar&&ar.end===!1||(lr.on("end",ur),lr.on("close",pr));var hr=!1;function ur(){hr||(hr=!0,or.end())}function pr(){hr||(hr=!0,typeof or.destroy=="function"&&or.destroy())}function mr(gr){if(fr(),ir.listenerCount(this,"error")===0)throw gr}function fr(){lr.removeListener("data",cr),or.removeListener("drain",dr),lr.removeListener("end",ur),lr.removeListener("close",pr),lr.removeListener("error",mr),or.removeListener("error",mr),lr.removeListener("end",fr),lr.removeListener("close",fr),or.removeListener("close",fr)}return lr.on("error",mr),or.on("error",mr),lr.on("end",fr),lr.on("close",fr),or.on("close",fr),or.emit("pipe",lr),or}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(tr,rr,nr){var ir={}.toString;rr.exports=Array.isArray||function(sr){return ir.call(sr)=="[object Array]"}},{}],507:[function(tr,rr,nr){rr.exports=tr("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(tr,rr,nr){var ir=tr("process-nextick-args"),sr=Object.keys||function(fr){var gr=[];for(var yr in fr)gr.push(yr);return gr};rr.exports=ur;var or=Object.create(tr("core-util-is"));or.inherits=tr("inherits");var ar=tr("./_stream_readable"),lr=tr("./_stream_writable");or.inherits(ur,ar);for(var cr=sr(lr.prototype),dr=0;dr<cr.length;dr++){var hr=cr[dr];ur.prototype[hr]||(ur.prototype[hr]=lr.prototype[hr])}function ur(fr){if(!(this instanceof ur))return new ur(fr);ar.call(this,fr),lr.call(this,fr),fr&&fr.readable===!1&&(this.readable=!1),fr&&fr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,fr&&fr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pr)}function pr(){this.allowHalfOpen||this._writableState.ended||ir.nextTick(mr,this)}function mr(fr){fr.end()}Object.defineProperty(ur.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ur.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(fr){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=fr,this._writableState.destroyed=fr)}}),ur.prototype._destroy=function(fr,gr){this.push(null),this.end(),ir.nextTick(gr,fr)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(tr,rr,nr){rr.exports=or;var ir=tr("./_stream_transform"),sr=Object.create(tr("core-util-is"));function or(ar){if(!(this instanceof or))return new or(ar);ir.call(this,ar)}sr.inherits=tr("inherits"),sr.inherits(or,ir),or.prototype._transform=function(ar,lr,cr){cr(null,ar)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(tr,rr,nr){(function(ir,sr){(function(){var or=tr("process-nextick-args");rr.exports=jr;var ar,lr=tr("isarray");jr.ReadableState=Sr,tr("events").EventEmitter;var cr=function(zr,Or){return zr.listeners(Or).length},dr=tr("./internal/streams/stream"),hr=tr("safe-buffer").Buffer,ur=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},pr=Object.create(tr("core-util-is"));pr.inherits=tr("inherits");var mr=tr("util"),fr=void 0;fr=mr&&mr.debuglog?mr.debuglog("stream"):function(){};var gr,yr=tr("./internal/streams/BufferList"),vr=tr("./internal/streams/destroy");pr.inherits(jr,dr);var br=["error","close","destroy","pause","resume"];function Sr(zr,Or){zr=zr||{};var Br=Or instanceof(ar=ar||tr("./_stream_duplex"));this.objectMode=!!zr.objectMode,Br&&(this.objectMode=this.objectMode||!!zr.readableObjectMode);var Ur=zr.highWaterMark,qr=zr.readableHighWaterMark,Vr=this.objectMode?16:16384;this.highWaterMark=Ur||Ur===0?Ur:Br&&(qr||qr===0)?qr:Vr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new yr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=zr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zr.encoding&&(gr||(gr=tr("string_decoder/").StringDecoder),this.decoder=new gr(zr.encoding),this.encoding=zr.encoding)}function jr(zr){if(ar=ar||tr("./_stream_duplex"),!(this instanceof jr))return new jr(zr);this._readableState=new Sr(zr,this),this.readable=!0,zr&&(typeof zr.read=="function"&&(this._read=zr.read),typeof zr.destroy=="function"&&(this._destroy=zr.destroy)),dr.call(this)}function Cr(zr,Or,Br,Ur,qr){var Vr,Gr=zr._readableState;return Or===null?(Gr.reading=!1,function($r,Fr){if(!Fr.ended){if(Fr.decoder){var Kr=Fr.decoder.end();Kr&&Kr.length&&(Fr.buffer.push(Kr),Fr.length+=Fr.objectMode?1:Kr.length)}Fr.ended=!0,Lr($r)}}(zr,Gr)):(qr||(Vr=function($r,Fr){var Kr;Zr=Fr,hr.isBuffer(Zr)||Zr instanceof ur||typeof Fr=="string"||Fr===void 0||$r.objectMode||(Kr=new TypeError("Invalid non-string/buffer chunk"));var Zr;return Kr}(Gr,Or)),Vr?zr.emit("error",Vr):Gr.objectMode||Or&&Or.length>0?(typeof Or=="string"||Gr.objectMode||Object.getPrototypeOf(Or)===hr.prototype||(Or=function($r){return hr.from($r)}(Or)),Ur?Gr.endEmitted?zr.emit("error",new Error("stream.unshift() after end event")):Pr(zr,Gr,Or,!0):Gr.ended?zr.emit("error",new Error("stream.push() after EOF")):(Gr.reading=!1,Gr.decoder&&!Br?(Or=Gr.decoder.write(Or),Gr.objectMode||Or.length!==0?Pr(zr,Gr,Or,!1):Nr(zr,Gr)):Pr(zr,Gr,Or,!1))):Ur||(Gr.reading=!1)),function($r){return!$r.ended&&($r.needReadable||$r.length<$r.highWaterMark||$r.length===0)}(Gr)}function Pr(zr,Or,Br,Ur){Or.flowing&&Or.length===0&&!Or.sync?(zr.emit("data",Br),zr.read(0)):(Or.length+=Or.objectMode?1:Br.length,Ur?Or.buffer.unshift(Br):Or.buffer.push(Br),Or.needReadable&&Lr(zr)),Nr(zr,Or)}Object.defineProperty(jr.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(zr){this._readableState&&(this._readableState.destroyed=zr)}}),jr.prototype.destroy=vr.destroy,jr.prototype._undestroy=vr.undestroy,jr.prototype._destroy=function(zr,Or){this.push(null),Or(zr)},jr.prototype.push=function(zr,Or){var Br,Ur=this._readableState;return Ur.objectMode?Br=!0:typeof zr=="string"&&((Or=Or||Ur.defaultEncoding)!==Ur.encoding&&(zr=hr.from(zr,Or),Or=""),Br=!0),Cr(this,zr,Or,!1,Br)},jr.prototype.unshift=function(zr){return Cr(this,zr,null,!0,!1)},jr.prototype.isPaused=function(){return this._readableState.flowing===!1},jr.prototype.setEncoding=function(zr){return gr||(gr=tr("string_decoder/").StringDecoder),this._readableState.decoder=new gr(zr),this._readableState.encoding=zr,this};function Rr(zr,Or){return zr<=0||Or.length===0&&Or.ended?0:Or.objectMode?1:zr!=zr?Or.flowing&&Or.length?Or.buffer.head.data.length:Or.length:(zr>Or.highWaterMark&&(Or.highWaterMark=function(Br){return Br>=8388608?Br=8388608:(Br--,Br|=Br>>>1,Br|=Br>>>2,Br|=Br>>>4,Br|=Br>>>8,Br|=Br>>>16,Br++),Br}(zr)),zr<=Or.length?zr:Or.ended?Or.length:(Or.needReadable=!0,0))}function Lr(zr){var Or=zr._readableState;Or.needReadable=!1,Or.emittedReadable||(fr("emitReadable",Or.flowing),Or.emittedReadable=!0,Or.sync?or.nextTick(Ir,zr):Ir(zr))}function Ir(zr){fr("emit readable"),zr.emit("readable"),_r(zr)}function Nr(zr,Or){Or.readingMore||(Or.readingMore=!0,or.nextTick(Ar,zr,Or))}function Ar(zr,Or){for(var Br=Or.length;!Or.reading&&!Or.flowing&&!Or.ended&&Or.length<Or.highWaterMark&&(fr("maybeReadMore read 0"),zr.read(0),Br!==Or.length);)Br=Or.length;Or.readingMore=!1}function Dr(zr){fr("readable nexttick read 0"),zr.read(0)}function Tr(zr,Or){Or.reading||(fr("resume read 0"),zr.read(0)),Or.resumeScheduled=!1,Or.awaitDrain=0,zr.emit("resume"),_r(zr),Or.flowing&&!Or.reading&&zr.read(0)}function _r(zr){var Or=zr._readableState;for(fr("flow",Or.flowing);Or.flowing&&zr.read()!==null;);}function wr(zr,Or){return Or.length===0?null:(Or.objectMode?Br=Or.buffer.shift():!zr||zr>=Or.length?(Br=Or.decoder?Or.buffer.join(""):Or.buffer.length===1?Or.buffer.head.data:Or.buffer.concat(Or.length),Or.buffer.clear()):Br=function(Ur,qr,Vr){var Gr;return Ur<qr.head.data.length?(Gr=qr.head.data.slice(0,Ur),qr.head.data=qr.head.data.slice(Ur)):Gr=Ur===qr.head.data.length?qr.shift():Vr?function($r,Fr){var Kr=Fr.head,Zr=1,nn=Kr.data;for($r-=nn.length;Kr=Kr.next;){var Qr=Kr.data,cn=$r>Qr.length?Qr.length:$r;if(cn===Qr.length?nn+=Qr:nn+=Qr.slice(0,$r),($r-=cn)===0){cn===Qr.length?(++Zr,Kr.next?Fr.head=Kr.next:Fr.head=Fr.tail=null):(Fr.head=Kr,Kr.data=Qr.slice(cn));break}++Zr}return Fr.length-=Zr,nn}(Ur,qr):function($r,Fr){var Kr=hr.allocUnsafe($r),Zr=Fr.head,nn=1;for(Zr.data.copy(Kr),$r-=Zr.data.length;Zr=Zr.next;){var Qr=Zr.data,cn=$r>Qr.length?Qr.length:$r;if(Qr.copy(Kr,Kr.length-$r,0,cn),($r-=cn)===0){cn===Qr.length?(++nn,Zr.next?Fr.head=Zr.next:Fr.head=Fr.tail=null):(Fr.head=Zr,Zr.data=Qr.slice(cn));break}++nn}return Fr.length-=nn,Kr}(Ur,qr),Gr}(zr,Or.buffer,Or.decoder),Br);var Br}function Er(zr){var Or=zr._readableState;if(Or.length>0)throw new Error('"endReadable()" called on non-empty stream');Or.endEmitted||(Or.ended=!0,or.nextTick(xr,Or,zr))}function xr(zr,Or){zr.endEmitted||zr.length!==0||(zr.endEmitted=!0,Or.readable=!1,Or.emit("end"))}function Mr(zr,Or){for(var Br=0,Ur=zr.length;Br<Ur;Br++)if(zr[Br]===Or)return Br;return-1}jr.prototype.read=function(zr){fr("read",zr),zr=parseInt(zr,10);var Or=this._readableState,Br=zr;if(zr!==0&&(Or.emittedReadable=!1),zr===0&&Or.needReadable&&(Or.length>=Or.highWaterMark||Or.ended))return fr("read: emitReadable",Or.length,Or.ended),Or.length===0&&Or.ended?Er(this):Lr(this),null;if((zr=Rr(zr,Or))===0&&Or.ended)return Or.length===0&&Er(this),null;var Ur,qr=Or.needReadable;return fr("need readable",qr),(Or.length===0||Or.length-zr<Or.highWaterMark)&&fr("length less than watermark",qr=!0),Or.ended||Or.reading?fr("reading or ended",qr=!1):qr&&(fr("do read"),Or.reading=!0,Or.sync=!0,Or.length===0&&(Or.needReadable=!0),this._read(Or.highWaterMark),Or.sync=!1,Or.reading||(zr=Rr(Br,Or))),(Ur=zr>0?wr(zr,Or):null)===null?(Or.needReadable=!0,zr=0):Or.length-=zr,Or.length===0&&(Or.ended||(Or.needReadable=!0),Br!==zr&&Or.ended&&Er(this)),Ur!==null&&this.emit("data",Ur),Ur},jr.prototype._read=function(zr){this.emit("error",new Error("_read() is not implemented"))},jr.prototype.pipe=function(zr,Or){var Br=this,Ur=this._readableState;switch(Ur.pipesCount){case 0:Ur.pipes=zr;break;case 1:Ur.pipes=[Ur.pipes,zr];break;default:Ur.pipes.push(zr)}Ur.pipesCount+=1,fr("pipe count=%d opts=%j",Ur.pipesCount,Or);var qr=(!Or||Or.end!==!1)&&zr!==ir.stdout&&zr!==ir.stderr?Gr:dn;function Vr(en,an){fr("onunpipe"),en===Br&&an&&an.hasUnpiped===!1&&(an.hasUnpiped=!0,fr("cleanup"),zr.removeListener("close",Qr),zr.removeListener("finish",cn),zr.removeListener("drain",$r),zr.removeListener("error",nn),zr.removeListener("unpipe",Vr),Br.removeListener("end",Gr),Br.removeListener("end",dn),Br.removeListener("data",Zr),Fr=!0,!Ur.awaitDrain||zr._writableState&&!zr._writableState.needDrain||$r())}function Gr(){fr("onend"),zr.end()}Ur.endEmitted?or.nextTick(qr):Br.once("end",qr),zr.on("unpipe",Vr);var $r=function(en){return function(){var an=en._readableState;fr("pipeOnDrain",an.awaitDrain),an.awaitDrain&&an.awaitDrain--,an.awaitDrain===0&&cr(en,"data")&&(an.flowing=!0,_r(en))}}(Br);zr.on("drain",$r);var Fr=!1,Kr=!1;function Zr(en){fr("ondata"),Kr=!1,zr.write(en)!==!1||Kr||((Ur.pipesCount===1&&Ur.pipes===zr||Ur.pipesCount>1&&Mr(Ur.pipes,zr)!==-1)&&!Fr&&(fr("false write response, pause",Ur.awaitDrain),Ur.awaitDrain++,Kr=!0),Br.pause())}function nn(en){fr("onerror",en),dn(),zr.removeListener("error",nn),cr(zr,"error")===0&&zr.emit("error",en)}function Qr(){zr.removeListener("finish",cn),dn()}function cn(){fr("onfinish"),zr.removeListener("close",Qr),dn()}function dn(){fr("unpipe"),Br.unpipe(zr)}return Br.on("data",Zr),function(en,an,tn){if(typeof en.prependListener=="function")return en.prependListener(an,tn);en._events&&en._events[an]?lr(en._events[an])?en._events[an].unshift(tn):en._events[an]=[tn,en._events[an]]:en.on(an,tn)}(zr,"error",nn),zr.once("close",Qr),zr.once("finish",cn),zr.emit("pipe",Br),Ur.flowing||(fr("pipe resume"),Br.resume()),zr},jr.prototype.unpipe=function(zr){var Or=this._readableState,Br={hasUnpiped:!1};if(Or.pipesCount===0)return this;if(Or.pipesCount===1)return zr&&zr!==Or.pipes||(zr||(zr=Or.pipes),Or.pipes=null,Or.pipesCount=0,Or.flowing=!1,zr&&zr.emit("unpipe",this,Br)),this;if(!zr){var Ur=Or.pipes,qr=Or.pipesCount;Or.pipes=null,Or.pipesCount=0,Or.flowing=!1;for(var Vr=0;Vr<qr;Vr++)Ur[Vr].emit("unpipe",this,{hasUnpiped:!1});return this}var Gr=Mr(Or.pipes,zr);return Gr===-1||(Or.pipes.splice(Gr,1),Or.pipesCount-=1,Or.pipesCount===1&&(Or.pipes=Or.pipes[0]),zr.emit("unpipe",this,Br)),this},jr.prototype.on=function(zr,Or){var Br=dr.prototype.on.call(this,zr,Or);if(zr==="data")this._readableState.flowing!==!1&&this.resume();else if(zr==="readable"){var Ur=this._readableState;Ur.endEmitted||Ur.readableListening||(Ur.readableListening=Ur.needReadable=!0,Ur.emittedReadable=!1,Ur.reading?Ur.length&&Lr(this):or.nextTick(Dr,this))}return Br},jr.prototype.addListener=jr.prototype.on,jr.prototype.resume=function(){var zr=this._readableState;return zr.flowing||(fr("resume"),zr.flowing=!0,function(Or,Br){Br.resumeScheduled||(Br.resumeScheduled=!0,or.nextTick(Tr,Or,Br))}(this,zr)),this},jr.prototype.pause=function(){return fr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(fr("pause"),this._readableState.flowing=!1,this.emit("pause")),this},jr.prototype.wrap=function(zr){var Or=this,Br=this._readableState,Ur=!1;for(var qr in zr.on("end",function(){if(fr("wrapped end"),Br.decoder&&!Br.ended){var Gr=Br.decoder.end();Gr&&Gr.length&&Or.push(Gr)}Or.push(null)}),zr.on("data",function(Gr){fr("wrapped data"),Br.decoder&&(Gr=Br.decoder.write(Gr)),Br.objectMode&&Gr==null||(Br.objectMode||Gr&&Gr.length)&&(Or.push(Gr)||(Ur=!0,zr.pause()))}),zr)this[qr]===void 0&&typeof zr[qr]=="function"&&(this[qr]=function(Gr){return function(){return zr[Gr].apply(zr,arguments)}}(qr));for(var Vr=0;Vr<br.length;Vr++)zr.on(br[Vr],this.emit.bind(this,br[Vr]));return this._read=function(Gr){fr("wrapped _read",Gr),Ur&&(Ur=!1,zr.resume())},this},Object.defineProperty(jr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),jr._fromList=wr}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(tr,rr,nr){rr.exports=ar;var ir=tr("./_stream_duplex"),sr=Object.create(tr("core-util-is"));function or(dr,hr){var ur=this._transformState;ur.transforming=!1;var pr=ur.writecb;if(!pr)return this.emit("error",new Error("write callback called multiple times"));ur.writechunk=null,ur.writecb=null,hr!=null&&this.push(hr),pr(dr);var mr=this._readableState;mr.reading=!1,(mr.needReadable||mr.length<mr.highWaterMark)&&this._read(mr.highWaterMark)}function ar(dr){if(!(this instanceof ar))return new ar(dr);ir.call(this,dr),this._transformState={afterTransform:or.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,dr&&(typeof dr.transform=="function"&&(this._transform=dr.transform),typeof dr.flush=="function"&&(this._flush=dr.flush)),this.on("prefinish",lr)}function lr(){var dr=this;typeof this._flush=="function"?this._flush(function(hr,ur){cr(dr,hr,ur)}):cr(this,null,null)}function cr(dr,hr,ur){if(hr)return dr.emit("error",hr);if(ur!=null&&dr.push(ur),dr._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(dr._transformState.transforming)throw new Error("Calling transform done when still transforming");return dr.push(null)}sr.inherits=tr("inherits"),sr.inherits(ar,ir),ar.prototype.push=function(dr,hr){return this._transformState.needTransform=!1,ir.prototype.push.call(this,dr,hr)},ar.prototype._transform=function(dr,hr,ur){throw new Error("_transform() is not implemented")},ar.prototype._write=function(dr,hr,ur){var pr=this._transformState;if(pr.writecb=ur,pr.writechunk=dr,pr.writeencoding=hr,!pr.transforming){var mr=this._readableState;(pr.needTransform||mr.needReadable||mr.length<mr.highWaterMark)&&this._read(mr.highWaterMark)}},ar.prototype._read=function(dr){var hr=this._transformState;hr.writechunk!==null&&hr.writecb&&!hr.transforming?(hr.transforming=!0,this._transform(hr.writechunk,hr.writeencoding,hr.afterTransform)):hr.needTransform=!0},ar.prototype._destroy=function(dr,hr){var ur=this;ir.prototype._destroy.call(this,dr,function(pr){hr(pr),ur.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(tr,rr,nr){(function(ir,sr,or){(function(){var ar=tr("process-nextick-args");function lr(Nr){var Ar=this;this.next=null,this.entry=null,this.finish=function(){(function(Dr,Tr,_r){var wr=Dr.entry;for(Dr.entry=null;wr;){var Er=wr.callback;Tr.pendingcb--,Er(_r),wr=wr.next}Tr.corkedRequestsFree.next=Dr})(Ar,Nr)}}rr.exports=Sr;var cr,dr=!ir.browser&&["v0.10","v0.9."].indexOf(ir.version.slice(0,5))>-1?or:ar.nextTick;Sr.WritableState=br;var hr=Object.create(tr("core-util-is"));hr.inherits=tr("inherits");var ur={deprecate:tr("util-deprecate")},pr=tr("./internal/streams/stream"),mr=tr("safe-buffer").Buffer,fr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},gr,yr=tr("./internal/streams/destroy");function vr(){}function br(Nr,Ar){cr=cr||tr("./_stream_duplex"),Nr=Nr||{};var Dr=Ar instanceof cr;this.objectMode=!!Nr.objectMode,Dr&&(this.objectMode=this.objectMode||!!Nr.writableObjectMode);var Tr=Nr.highWaterMark,_r=Nr.writableHighWaterMark,wr=this.objectMode?16:16384;this.highWaterMark=Tr||Tr===0?Tr:Dr&&(_r||_r===0)?_r:wr,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Er=Nr.decodeStrings===!1;this.decodeStrings=!Er,this.defaultEncoding=Nr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xr){(function(Mr,zr){var Or=Mr._writableState,Br=Or.sync,Ur=Or.writecb;if(function(Vr){Vr.writing=!1,Vr.writecb=null,Vr.length-=Vr.writelen,Vr.writelen=0}(Or),zr)(function(Vr,Gr,$r,Fr,Kr){--Gr.pendingcb,$r?(ar.nextTick(Kr,Fr),ar.nextTick(Ir,Vr,Gr),Vr._writableState.errorEmitted=!0,Vr.emit("error",Fr)):(Kr(Fr),Vr._writableState.errorEmitted=!0,Vr.emit("error",Fr),Ir(Vr,Gr))})(Mr,Or,Br,zr,Ur);else{var qr=Rr(Or);qr||Or.corked||Or.bufferProcessing||!Or.bufferedRequest||Pr(Mr,Or),Br?dr(Cr,Mr,Or,qr,Ur):Cr(Mr,Or,qr,Ur)}})(Ar,xr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new lr(this)}function Sr(Nr){if(cr=cr||tr("./_stream_duplex"),!(gr.call(Sr,this)||this instanceof cr))return new Sr(Nr);this._writableState=new br(Nr,this),this.writable=!0,Nr&&(typeof Nr.write=="function"&&(this._write=Nr.write),typeof Nr.writev=="function"&&(this._writev=Nr.writev),typeof Nr.destroy=="function"&&(this._destroy=Nr.destroy),typeof Nr.final=="function"&&(this._final=Nr.final)),pr.call(this)}function jr(Nr,Ar,Dr,Tr,_r,wr,Er){Ar.writelen=Tr,Ar.writecb=Er,Ar.writing=!0,Ar.sync=!0,Dr?Nr._writev(_r,Ar.onwrite):Nr._write(_r,wr,Ar.onwrite),Ar.sync=!1}function Cr(Nr,Ar,Dr,Tr){Dr||function(_r,wr){wr.length===0&&wr.needDrain&&(wr.needDrain=!1,_r.emit("drain"))}(Nr,Ar),Ar.pendingcb--,Tr(),Ir(Nr,Ar)}function Pr(Nr,Ar){Ar.bufferProcessing=!0;var Dr=Ar.bufferedRequest;if(Nr._writev&&Dr&&Dr.next){var Tr=Ar.bufferedRequestCount,_r=new Array(Tr),wr=Ar.corkedRequestsFree;wr.entry=Dr;for(var Er=0,xr=!0;Dr;)_r[Er]=Dr,Dr.isBuf||(xr=!1),Dr=Dr.next,Er+=1;_r.allBuffers=xr,jr(Nr,Ar,!0,Ar.length,_r,"",wr.finish),Ar.pendingcb++,Ar.lastBufferedRequest=null,wr.next?(Ar.corkedRequestsFree=wr.next,wr.next=null):Ar.corkedRequestsFree=new lr(Ar),Ar.bufferedRequestCount=0}else{for(;Dr;){var Mr=Dr.chunk,zr=Dr.encoding,Or=Dr.callback;if(jr(Nr,Ar,!1,Ar.objectMode?1:Mr.length,Mr,zr,Or),Dr=Dr.next,Ar.bufferedRequestCount--,Ar.writing)break}Dr===null&&(Ar.lastBufferedRequest=null)}Ar.bufferedRequest=Dr,Ar.bufferProcessing=!1}function Rr(Nr){return Nr.ending&&Nr.length===0&&Nr.bufferedRequest===null&&!Nr.finished&&!Nr.writing}function Lr(Nr,Ar){Nr._final(function(Dr){Ar.pendingcb--,Dr&&Nr.emit("error",Dr),Ar.prefinished=!0,Nr.emit("prefinish"),Ir(Nr,Ar)})}function Ir(Nr,Ar){var Dr=Rr(Ar);return Dr&&(function(Tr,_r){_r.prefinished||_r.finalCalled||(typeof Tr._final=="function"?(_r.pendingcb++,_r.finalCalled=!0,ar.nextTick(Lr,Tr,_r)):(_r.prefinished=!0,Tr.emit("prefinish")))}(Nr,Ar),Ar.pendingcb===0&&(Ar.finished=!0,Nr.emit("finish"))),Dr}hr.inherits(Sr,pr),br.prototype.getBuffer=function(){for(var Nr=this.bufferedRequest,Ar=[];Nr;)Ar.push(Nr),Nr=Nr.next;return Ar},function(){try{Object.defineProperty(br.prototype,"buffer",{get:ur.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Sr,Symbol.hasInstance,{value:function(Nr){return!!gr.call(this,Nr)||this===Sr&&Nr&&Nr._writableState instanceof br}})):gr=function(Nr){return Nr instanceof this},Sr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Sr.prototype.write=function(Nr,Ar,Dr){var Tr,_r=this._writableState,wr=!1,Er=!_r.objectMode&&(Tr=Nr,mr.isBuffer(Tr)||Tr instanceof fr);return Er&&!mr.isBuffer(Nr)&&(Nr=function(xr){return mr.from(xr)}(Nr)),typeof Ar=="function"&&(Dr=Ar,Ar=null),Er?Ar="buffer":Ar||(Ar=_r.defaultEncoding),typeof Dr!="function"&&(Dr=vr),_r.ended?function(xr,Mr){var zr=new Error("write after end");xr.emit("error",zr),ar.nextTick(Mr,zr)}(this,Dr):(Er||function(xr,Mr,zr,Or){var Br=!0,Ur=!1;return zr===null?Ur=new TypeError("May not write null values to stream"):typeof zr=="string"||zr===void 0||Mr.objectMode||(Ur=new TypeError("Invalid non-string/buffer chunk")),Ur&&(xr.emit("error",Ur),ar.nextTick(Or,Ur),Br=!1),Br}(this,_r,Nr,Dr))&&(_r.pendingcb++,wr=function(xr,Mr,zr,Or,Br,Ur){if(!zr){var qr=function(Fr,Kr,Zr){return Fr.objectMode||Fr.decodeStrings===!1||typeof Kr!="string"||(Kr=mr.from(Kr,Zr)),Kr}(Mr,Or,Br);Or!==qr&&(zr=!0,Br="buffer",Or=qr)}var Vr=Mr.objectMode?1:Or.length;Mr.length+=Vr;var Gr=Mr.length<Mr.highWaterMark;if(Gr||(Mr.needDrain=!0),Mr.writing||Mr.corked){var $r=Mr.lastBufferedRequest;Mr.lastBufferedRequest={chunk:Or,encoding:Br,isBuf:zr,callback:Ur,next:null},$r?$r.next=Mr.lastBufferedRequest:Mr.bufferedRequest=Mr.lastBufferedRequest,Mr.bufferedRequestCount+=1}else jr(xr,Mr,!1,Vr,Or,Br,Ur);return Gr}(this,_r,Er,Nr,Ar,Dr)),wr},Sr.prototype.cork=function(){this._writableState.corked++},Sr.prototype.uncork=function(){var Nr=this._writableState;Nr.corked&&(Nr.corked--,Nr.writing||Nr.corked||Nr.bufferProcessing||!Nr.bufferedRequest||Pr(this,Nr))},Sr.prototype.setDefaultEncoding=function(Nr){if(typeof Nr=="string"&&(Nr=Nr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Nr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Nr);return this._writableState.defaultEncoding=Nr,this},Object.defineProperty(Sr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Sr.prototype._write=function(Nr,Ar,Dr){Dr(new Error("_write() is not implemented"))},Sr.prototype._writev=null,Sr.prototype.end=function(Nr,Ar,Dr){var Tr=this._writableState;typeof Nr=="function"?(Dr=Nr,Nr=null,Ar=null):typeof Ar=="function"&&(Dr=Ar,Ar=null),Nr!=null&&this.write(Nr,Ar),Tr.corked&&(Tr.corked=1,this.uncork()),Tr.ending||function(_r,wr,Er){wr.ending=!0,Ir(_r,wr),Er&&(wr.finished?ar.nextTick(Er):_r.once("finish",Er)),wr.ended=!0,_r.writable=!1}(this,Tr,Dr)},Object.defineProperty(Sr.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Nr){this._writableState&&(this._writableState.destroyed=Nr)}}),Sr.prototype.destroy=yr.destroy,Sr.prototype._undestroy=yr.undestroy,Sr.prototype._destroy=function(Nr,Ar){this.end(),Ar(Nr)}}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},tr("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(tr,rr,nr){var ir=tr("safe-buffer").Buffer,sr=tr("util");rr.exports=function(){function or(){(function(ar,lr){if(!(ar instanceof lr))throw new TypeError("Cannot call a class as a function")})(this,or),this.head=null,this.tail=null,this.length=0}return or.prototype.push=function(ar){var lr={data:ar,next:null};this.length>0?this.tail.next=lr:this.head=lr,this.tail=lr,++this.length},or.prototype.unshift=function(ar){var lr={data:ar,next:this.head};this.length===0&&(this.tail=lr),this.head=lr,++this.length},or.prototype.shift=function(){if(this.length!==0){var ar=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ar}},or.prototype.clear=function(){this.head=this.tail=null,this.length=0},or.prototype.join=function(ar){if(this.length===0)return"";for(var lr=this.head,cr=""+lr.data;lr=lr.next;)cr+=ar+lr.data;return cr},or.prototype.concat=function(ar){if(this.length===0)return ir.alloc(0);for(var lr,cr,dr,hr=ir.allocUnsafe(ar>>>0),ur=this.head,pr=0;ur;)lr=ur.data,cr=hr,dr=pr,lr.copy(cr,dr),pr+=ur.data.length,ur=ur.next;return hr},or}(),sr&&sr.inspect&&sr.inspect.custom&&(rr.exports.prototype[sr.inspect.custom]=function(){var or=sr.inspect({length:this.length});return this.constructor.name+" "+or})},{"safe-buffer":520,util:188}],514:[function(tr,rr,nr){var ir=tr("process-nextick-args");function sr(or,ar){or.emit("error",ar)}rr.exports={destroy:function(or,ar){var lr=this,cr=this._readableState&&this._readableState.destroyed,dr=this._writableState&&this._writableState.destroyed;return cr||dr?(ar?ar(or):or&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ir.nextTick(sr,this,or)):ir.nextTick(sr,this,or)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(or||null,function(hr){!ar&&hr?lr._writableState?lr._writableState.errorEmitted||(lr._writableState.errorEmitted=!0,ir.nextTick(sr,lr,hr)):ir.nextTick(sr,lr,hr):ar&&ar(hr)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(tr,rr,nr){arguments[4][490][0].apply(nr,arguments)},{dup:490,events:422}],516:[function(tr,rr,nr){rr.exports=tr("./readable").PassThrough},{"./readable":517}],517:[function(tr,rr,nr){(nr=rr.exports=tr("./lib/_stream_readable.js")).Stream=nr,nr.Readable=nr,nr.Writable=tr("./lib/_stream_writable.js"),nr.Duplex=tr("./lib/_stream_duplex.js"),nr.Transform=tr("./lib/_stream_transform.js"),nr.PassThrough=tr("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(tr,rr,nr){rr.exports=tr("./readable").Transform},{"./readable":517}],519:[function(tr,rr,nr){rr.exports=tr("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(tr,rr,nr){arguments[4][217][0].apply(nr,arguments)},{buffer:220,dup:217}],521:[function(tr,rr,nr){arguments[4][218][0].apply(nr,arguments)},{dup:218,"safe-buffer":520}],522:[function(tr,rr,nr){arguments[4][218][0].apply(nr,arguments)},{dup:218,"safe-buffer":494}],523:[function(tr,rr,nr){(function(ir,sr){(function(){var or=tr("process/browser.js").nextTick,ar=Function.prototype.apply,lr=Array.prototype.slice,cr={},dr=0;function hr(ur,pr){this._id=ur,this._clearFn=pr}nr.setTimeout=function(){return new hr(ar.call(setTimeout,window,arguments),clearTimeout)},nr.setInterval=function(){return new hr(ar.call(setInterval,window,arguments),clearInterval)},nr.clearTimeout=nr.clearInterval=function(ur){ur.close()},hr.prototype.unref=hr.prototype.ref=function(){},hr.prototype.close=function(){this._clearFn.call(window,this._id)},nr.enroll=function(ur,pr){clearTimeout(ur._idleTimeoutId),ur._idleTimeout=pr},nr.unenroll=function(ur){clearTimeout(ur._idleTimeoutId),ur._idleTimeout=-1},nr._unrefActive=nr.active=function(ur){clearTimeout(ur._idleTimeoutId);var pr=ur._idleTimeout;pr>=0&&(ur._idleTimeoutId=setTimeout(function(){ur._onTimeout&&ur._onTimeout()},pr))},nr.setImmediate=typeof ir=="function"?ir:function(ur){var pr=dr++,mr=!(arguments.length<2)&&lr.call(arguments,1);return cr[pr]=!0,or(function(){cr[pr]&&(mr?ur.apply(null,mr):ur.call(null),nr.clearImmediate(pr))}),pr},nr.clearImmediate=typeof sr=="function"?sr:function(ur){delete cr[ur]}}).call(this)}).call(this,tr("timers").setImmediate,tr("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(tr,rr,nr){(function(ir){(function(){function sr(or){try{if(!ir.localStorage)return!1}catch{return!1}var ar=ir.localStorage[or];return ar!=null&&String(ar).toLowerCase()==="true"}rr.exports=function(or,ar){if(sr("noDeprecation"))return or;var lr=!1;return function(){if(!lr){if(sr("throwDeprecation"))throw new Error(ar);sr("traceDeprecation")?console.trace(ar):console.warn(ar),lr=!0}return or.apply(this,arguments)}}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(tr,rr,nr){typeof Object.create=="function"?rr.exports=function(ir,sr){ir.super_=sr,ir.prototype=Object.create(sr.prototype,{constructor:{value:ir,enumerable:!1,writable:!0,configurable:!0}})}:rr.exports=function(ir,sr){ir.super_=sr;var or=function(){};or.prototype=sr.prototype,ir.prototype=new or,ir.prototype.constructor=ir}},{}],526:[function(tr,rr,nr){rr.exports=function(ir){return ir&&typeof ir=="object"&&typeof ir.copy=="function"&&typeof ir.fill=="function"&&typeof ir.readUInt8=="function"}},{}],527:[function(tr,rr,nr){(function(ir,sr){(function(){var or=/%[sdj%]/g;nr.format=function(_r){if(!br(_r)){for(var wr=[],Er=0;Er<arguments.length;Er++)wr.push(cr(arguments[Er]));return wr.join(" ")}Er=1;for(var xr=arguments,Mr=xr.length,zr=String(_r).replace(or,function(Br){if(Br==="%%")return"%";if(Er>=Mr)return Br;switch(Br){case"%s":return String(xr[Er++]);case"%d":return Number(xr[Er++]);case"%j":try{return JSON.stringify(xr[Er++])}catch{return"[Circular]"}default:return Br}}),Or=xr[Er];Er<Mr;Or=xr[++Er])yr(Or)||!Cr(Or)?zr+=" "+Or:zr+=" "+cr(Or);return zr},nr.deprecate=function(_r,wr){if(Sr(sr.process))return function(){return nr.deprecate(_r,wr).apply(this,arguments)};if(ir.noDeprecation===!0)return _r;var Er=!1;return function(){if(!Er){if(ir.throwDeprecation)throw new Error(wr);ir.traceDeprecation?console.trace(wr):console.error(wr),Er=!0}return _r.apply(this,arguments)}};var ar,lr={};function cr(_r,wr){var Er={seen:[],stylize:hr};return arguments.length>=3&&(Er.depth=arguments[2]),arguments.length>=4&&(Er.colors=arguments[3]),gr(wr)?Er.showHidden=wr:wr&&nr._extend(Er,wr),Sr(Er.showHidden)&&(Er.showHidden=!1),Sr(Er.depth)&&(Er.depth=2),Sr(Er.colors)&&(Er.colors=!1),Sr(Er.customInspect)&&(Er.customInspect=!0),Er.colors&&(Er.stylize=dr),ur(Er,_r,Er.depth)}function dr(_r,wr){var Er=cr.styles[wr];return Er?"\x1B["+cr.colors[Er][0]+"m"+_r+"\x1B["+cr.colors[Er][1]+"m":_r}function hr(_r,wr){return _r}function ur(_r,wr,Er){if(_r.customInspect&&wr&&Lr(wr.inspect)&&wr.inspect!==nr.inspect&&(!wr.constructor||wr.constructor.prototype!==wr)){var xr=wr.inspect(Er,_r);return br(xr)||(xr=ur(_r,xr,Er)),xr}var Mr=function($r,Fr){if(Sr(Fr))return $r.stylize("undefined","undefined");if(br(Fr)){var Kr="'"+JSON.stringify(Fr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $r.stylize(Kr,"string")}if(vr(Fr))return $r.stylize(""+Fr,"number");if(gr(Fr))return $r.stylize(""+Fr,"boolean");if(yr(Fr))return $r.stylize("null","null")}(_r,wr);if(Mr)return Mr;var zr=Object.keys(wr),Or=function($r){var Fr={};return $r.forEach(function(Kr,Zr){Fr[Kr]=!0}),Fr}(zr);if(_r.showHidden&&(zr=Object.getOwnPropertyNames(wr)),Rr(wr)&&(zr.indexOf("message")>=0||zr.indexOf("description")>=0))return pr(wr);if(zr.length===0){if(Lr(wr)){var Br=wr.name?": "+wr.name:"";return _r.stylize("[Function"+Br+"]","special")}if(jr(wr))return _r.stylize(RegExp.prototype.toString.call(wr),"regexp");if(Pr(wr))return _r.stylize(Date.prototype.toString.call(wr),"date");if(Rr(wr))return pr(wr)}var Ur,qr="",Vr=!1,Gr=["{","}"];return fr(wr)&&(Vr=!0,Gr=["[","]"]),Lr(wr)&&(qr=" [Function"+(wr.name?": "+wr.name:"")+"]"),jr(wr)&&(qr=" "+RegExp.prototype.toString.call(wr)),Pr(wr)&&(qr=" "+Date.prototype.toUTCString.call(wr)),Rr(wr)&&(qr=" "+pr(wr)),zr.length!==0||Vr&&wr.length!=0?Er<0?jr(wr)?_r.stylize(RegExp.prototype.toString.call(wr),"regexp"):_r.stylize("[Object]","special"):(_r.seen.push(wr),Ur=Vr?function($r,Fr,Kr,Zr,nn){for(var Qr=[],cn=0,dn=Fr.length;cn<dn;++cn)Tr(Fr,String(cn))?Qr.push(mr($r,Fr,Kr,Zr,String(cn),!0)):Qr.push("");return nn.forEach(function(en){en.match(/^\d+$/)||Qr.push(mr($r,Fr,Kr,Zr,en,!0))}),Qr}(_r,wr,Er,Or,zr):zr.map(function($r){return mr(_r,wr,Er,Or,$r,Vr)}),_r.seen.pop(),function($r,Fr,Kr){return $r.reduce(function(Zr,nn){return nn.indexOf(`
`)>=0,Zr+nn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Kr[0]+(Fr===""?"":Fr+`
 `)+" "+$r.join(`,
  `)+" "+Kr[1]:Kr[0]+Fr+" "+$r.join(", ")+" "+Kr[1]}(Ur,qr,Gr)):Gr[0]+qr+Gr[1]}function pr(_r){return"["+Error.prototype.toString.call(_r)+"]"}function mr(_r,wr,Er,xr,Mr,zr){var Or,Br,Ur;if((Ur=Object.getOwnPropertyDescriptor(wr,Mr)||{value:wr[Mr]}).get?Br=Ur.set?_r.stylize("[Getter/Setter]","special"):_r.stylize("[Getter]","special"):Ur.set&&(Br=_r.stylize("[Setter]","special")),Tr(xr,Mr)||(Or="["+Mr+"]"),Br||(_r.seen.indexOf(Ur.value)<0?(Br=yr(Er)?ur(_r,Ur.value,null):ur(_r,Ur.value,Er-1)).indexOf(`
`)>-1&&(Br=zr?Br.split(`
`).map(function(qr){return"  "+qr}).join(`
`).substr(2):`
`+Br.split(`
`).map(function(qr){return"   "+qr}).join(`
`)):Br=_r.stylize("[Circular]","special")),Sr(Or)){if(zr&&Mr.match(/^\d+$/))return Br;(Or=JSON.stringify(""+Mr)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Or=Or.substr(1,Or.length-2),Or=_r.stylize(Or,"name")):(Or=Or.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Or=_r.stylize(Or,"string"))}return Or+": "+Br}function fr(_r){return Array.isArray(_r)}function gr(_r){return typeof _r=="boolean"}function yr(_r){return _r===null}function vr(_r){return typeof _r=="number"}function br(_r){return typeof _r=="string"}function Sr(_r){return _r===void 0}function jr(_r){return Cr(_r)&&Ir(_r)==="[object RegExp]"}function Cr(_r){return typeof _r=="object"&&_r!==null}function Pr(_r){return Cr(_r)&&Ir(_r)==="[object Date]"}function Rr(_r){return Cr(_r)&&(Ir(_r)==="[object Error]"||_r instanceof Error)}function Lr(_r){return typeof _r=="function"}function Ir(_r){return Object.prototype.toString.call(_r)}function Nr(_r){return _r<10?"0"+_r.toString(10):_r.toString(10)}nr.debuglog=function(_r){if(Sr(ar)&&(ar=ir.env.NODE_DEBUG||""),_r=_r.toUpperCase(),!lr[_r])if(new RegExp("\\b"+_r+"\\b","i").test(ar)){var wr=ir.pid;lr[_r]=function(){var Er=nr.format.apply(nr,arguments);console.error("%s %d: %s",_r,wr,Er)}}else lr[_r]=function(){};return lr[_r]},nr.inspect=cr,cr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},cr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},nr.isArray=fr,nr.isBoolean=gr,nr.isNull=yr,nr.isNullOrUndefined=function(_r){return _r==null},nr.isNumber=vr,nr.isString=br,nr.isSymbol=function(_r){return typeof _r=="symbol"},nr.isUndefined=Sr,nr.isRegExp=jr,nr.isObject=Cr,nr.isDate=Pr,nr.isError=Rr,nr.isFunction=Lr,nr.isPrimitive=function(_r){return _r===null||typeof _r=="boolean"||typeof _r=="number"||typeof _r=="string"||typeof _r=="symbol"||_r===void 0},nr.isBuffer=tr("./support/isBuffer");var Ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dr(){var _r=new Date,wr=[Nr(_r.getHours()),Nr(_r.getMinutes()),Nr(_r.getSeconds())].join(":");return[_r.getDate(),Ar[_r.getMonth()],wr].join(" ")}function Tr(_r,wr){return Object.prototype.hasOwnProperty.call(_r,wr)}nr.log=function(){console.log("%s - %s",Dr(),nr.format.apply(nr,arguments))},nr.inherits=tr("inherits"),nr._extend=function(_r,wr){if(!wr||!Cr(wr))return _r;for(var Er=Object.keys(wr),xr=Er.length;xr--;)_r[Er[xr]]=wr[Er[xr]];return _r}}).call(this)}).call(this,tr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),Object.defineProperty(nr,"v1",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(nr,"v3",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(nr,"v4",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(nr,"v5",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(nr,"NIL",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(nr,"version",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(nr,"validate",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(nr,"stringify",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(nr,"parse",{enumerable:!0,get:function(){return ur.default}});var ir=pr(tr("./v1.js")),sr=pr(tr("./v3.js")),or=pr(tr("./v4.js")),ar=pr(tr("./v5.js")),lr=pr(tr("./nil.js")),cr=pr(tr("./version.js")),dr=pr(tr("./validate.js")),hr=pr(tr("./stringify.js")),ur=pr(tr("./parse.js"));function pr(mr){return mr&&mr.__esModule?mr:{default:mr}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(tr,rr,nr){function ir(ur){return 14+(ur+64>>>9<<4)+1}function sr(ur,pr){const mr=(65535&ur)+(65535&pr);return(ur>>16)+(pr>>16)+(mr>>16)<<16|65535&mr}function or(ur,pr,mr,fr,gr,yr){return sr((vr=sr(sr(pr,ur),sr(fr,yr)))<<(br=gr)|vr>>>32-br,mr);var vr,br}function ar(ur,pr,mr,fr,gr,yr,vr){return or(pr&mr|~pr&fr,ur,pr,gr,yr,vr)}function lr(ur,pr,mr,fr,gr,yr,vr){return or(pr&fr|mr&~fr,ur,pr,gr,yr,vr)}function cr(ur,pr,mr,fr,gr,yr,vr){return or(pr^mr^fr,ur,pr,gr,yr,vr)}function dr(ur,pr,mr,fr,gr,yr,vr){return or(mr^(pr|~fr),ur,pr,gr,yr,vr)}Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var hr=function(ur){if(typeof ur=="string"){const pr=unescape(encodeURIComponent(ur));ur=new Uint8Array(pr.length);for(let mr=0;mr<pr.length;++mr)ur[mr]=pr.charCodeAt(mr)}return function(pr){const mr=[],fr=32*pr.length;for(let gr=0;gr<fr;gr+=8){const yr=pr[gr>>5]>>>gr%32&255,vr=parseInt("0123456789abcdef".charAt(yr>>>4&15)+"0123456789abcdef".charAt(15&yr),16);mr.push(vr)}return mr}(function(pr,mr){pr[mr>>5]|=128<<mr%32,pr[ir(mr)-1]=mr;let fr=1732584193,gr=-271733879,yr=-1732584194,vr=271733878;for(let br=0;br<pr.length;br+=16){const Sr=fr,jr=gr,Cr=yr,Pr=vr;fr=ar(fr,gr,yr,vr,pr[br],7,-680876936),vr=ar(vr,fr,gr,yr,pr[br+1],12,-389564586),yr=ar(yr,vr,fr,gr,pr[br+2],17,606105819),gr=ar(gr,yr,vr,fr,pr[br+3],22,-1044525330),fr=ar(fr,gr,yr,vr,pr[br+4],7,-176418897),vr=ar(vr,fr,gr,yr,pr[br+5],12,1200080426),yr=ar(yr,vr,fr,gr,pr[br+6],17,-1473231341),gr=ar(gr,yr,vr,fr,pr[br+7],22,-45705983),fr=ar(fr,gr,yr,vr,pr[br+8],7,1770035416),vr=ar(vr,fr,gr,yr,pr[br+9],12,-1958414417),yr=ar(yr,vr,fr,gr,pr[br+10],17,-42063),gr=ar(gr,yr,vr,fr,pr[br+11],22,-1990404162),fr=ar(fr,gr,yr,vr,pr[br+12],7,1804603682),vr=ar(vr,fr,gr,yr,pr[br+13],12,-40341101),yr=ar(yr,vr,fr,gr,pr[br+14],17,-1502002290),gr=ar(gr,yr,vr,fr,pr[br+15],22,1236535329),fr=lr(fr,gr,yr,vr,pr[br+1],5,-165796510),vr=lr(vr,fr,gr,yr,pr[br+6],9,-1069501632),yr=lr(yr,vr,fr,gr,pr[br+11],14,643717713),gr=lr(gr,yr,vr,fr,pr[br],20,-373897302),fr=lr(fr,gr,yr,vr,pr[br+5],5,-701558691),vr=lr(vr,fr,gr,yr,pr[br+10],9,38016083),yr=lr(yr,vr,fr,gr,pr[br+15],14,-660478335),gr=lr(gr,yr,vr,fr,pr[br+4],20,-405537848),fr=lr(fr,gr,yr,vr,pr[br+9],5,568446438),vr=lr(vr,fr,gr,yr,pr[br+14],9,-1019803690),yr=lr(yr,vr,fr,gr,pr[br+3],14,-187363961),gr=lr(gr,yr,vr,fr,pr[br+8],20,1163531501),fr=lr(fr,gr,yr,vr,pr[br+13],5,-1444681467),vr=lr(vr,fr,gr,yr,pr[br+2],9,-51403784),yr=lr(yr,vr,fr,gr,pr[br+7],14,1735328473),gr=lr(gr,yr,vr,fr,pr[br+12],20,-1926607734),fr=cr(fr,gr,yr,vr,pr[br+5],4,-378558),vr=cr(vr,fr,gr,yr,pr[br+8],11,-2022574463),yr=cr(yr,vr,fr,gr,pr[br+11],16,1839030562),gr=cr(gr,yr,vr,fr,pr[br+14],23,-35309556),fr=cr(fr,gr,yr,vr,pr[br+1],4,-1530992060),vr=cr(vr,fr,gr,yr,pr[br+4],11,1272893353),yr=cr(yr,vr,fr,gr,pr[br+7],16,-155497632),gr=cr(gr,yr,vr,fr,pr[br+10],23,-1094730640),fr=cr(fr,gr,yr,vr,pr[br+13],4,681279174),vr=cr(vr,fr,gr,yr,pr[br],11,-358537222),yr=cr(yr,vr,fr,gr,pr[br+3],16,-722521979),gr=cr(gr,yr,vr,fr,pr[br+6],23,76029189),fr=cr(fr,gr,yr,vr,pr[br+9],4,-640364487),vr=cr(vr,fr,gr,yr,pr[br+12],11,-421815835),yr=cr(yr,vr,fr,gr,pr[br+15],16,530742520),gr=cr(gr,yr,vr,fr,pr[br+2],23,-995338651),fr=dr(fr,gr,yr,vr,pr[br],6,-198630844),vr=dr(vr,fr,gr,yr,pr[br+7],10,1126891415),yr=dr(yr,vr,fr,gr,pr[br+14],15,-1416354905),gr=dr(gr,yr,vr,fr,pr[br+5],21,-57434055),fr=dr(fr,gr,yr,vr,pr[br+12],6,1700485571),vr=dr(vr,fr,gr,yr,pr[br+3],10,-1894986606),yr=dr(yr,vr,fr,gr,pr[br+10],15,-1051523),gr=dr(gr,yr,vr,fr,pr[br+1],21,-2054922799),fr=dr(fr,gr,yr,vr,pr[br+8],6,1873313359),vr=dr(vr,fr,gr,yr,pr[br+15],10,-30611744),yr=dr(yr,vr,fr,gr,pr[br+6],15,-1560198380),gr=dr(gr,yr,vr,fr,pr[br+13],21,1309151649),fr=dr(fr,gr,yr,vr,pr[br+4],6,-145523070),vr=dr(vr,fr,gr,yr,pr[br+11],10,-1120210379),yr=dr(yr,vr,fr,gr,pr[br+2],15,718787259),gr=dr(gr,yr,vr,fr,pr[br+9],21,-343485551),fr=sr(fr,Sr),gr=sr(gr,jr),yr=sr(yr,Cr),vr=sr(vr,Pr)}return[fr,gr,yr,vr]}(function(pr){if(pr.length===0)return[];const mr=8*pr.length,fr=new Uint32Array(ir(mr));for(let gr=0;gr<mr;gr+=8)fr[gr>>5]|=(255&pr[gr/8])<<gr%32;return fr}(ur),8*ur.length))};nr.default=hr},{}],530:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0,nr.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir,sr=(ir=tr("./validate.js"))&&ir.__esModule?ir:{default:ir},or=function(ar){if(!(0,sr.default)(ar))throw TypeError("Invalid UUID");let lr;const cr=new Uint8Array(16);return cr[0]=(lr=parseInt(ar.slice(0,8),16))>>>24,cr[1]=lr>>>16&255,cr[2]=lr>>>8&255,cr[3]=255&lr,cr[4]=(lr=parseInt(ar.slice(9,13),16))>>>8,cr[5]=255&lr,cr[6]=(lr=parseInt(ar.slice(14,18),16))>>>8,cr[7]=255&lr,cr[8]=(lr=parseInt(ar.slice(19,23),16))>>>8,cr[9]=255&lr,cr[10]=(lr=parseInt(ar.slice(24,36),16))/1099511627776&255,cr[11]=lr/4294967296&255,cr[12]=lr>>>24&255,cr[13]=lr>>>16&255,cr[14]=lr>>>8&255,cr[15]=255&lr,cr};nr.default=or},{"./validate.js":541}],532:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0,nr.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(tr,rr,nr){let ir;Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=function(){if(!ir&&(ir=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ir))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ir(sr)};const sr=new Uint8Array(16)},{}],534:[function(tr,rr,nr){function ir(ar,lr,cr,dr){switch(ar){case 0:return lr&cr^~lr&dr;case 1:return lr^cr^dr;case 2:return lr&cr^lr&dr^cr&dr;case 3:return lr^cr^dr}}function sr(ar,lr){return ar<<lr|ar>>>32-lr}Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var or=function(ar){const lr=[1518500249,1859775393,2400959708,3395469782],cr=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof ar=="string"){const pr=unescape(encodeURIComponent(ar));ar=[];for(let mr=0;mr<pr.length;++mr)ar.push(pr.charCodeAt(mr))}else Array.isArray(ar)||(ar=Array.prototype.slice.call(ar));ar.push(128);const dr=ar.length/4+2,hr=Math.ceil(dr/16),ur=new Array(hr);for(let pr=0;pr<hr;++pr){const mr=new Uint32Array(16);for(let fr=0;fr<16;++fr)mr[fr]=ar[64*pr+4*fr]<<24|ar[64*pr+4*fr+1]<<16|ar[64*pr+4*fr+2]<<8|ar[64*pr+4*fr+3];ur[pr]=mr}ur[hr-1][14]=8*(ar.length-1)/Math.pow(2,32),ur[hr-1][14]=Math.floor(ur[hr-1][14]),ur[hr-1][15]=8*(ar.length-1)&4294967295;for(let pr=0;pr<hr;++pr){const mr=new Uint32Array(80);for(let Sr=0;Sr<16;++Sr)mr[Sr]=ur[pr][Sr];for(let Sr=16;Sr<80;++Sr)mr[Sr]=sr(mr[Sr-3]^mr[Sr-8]^mr[Sr-14]^mr[Sr-16],1);let fr=cr[0],gr=cr[1],yr=cr[2],vr=cr[3],br=cr[4];for(let Sr=0;Sr<80;++Sr){const jr=Math.floor(Sr/20),Cr=sr(fr,5)+ir(jr,gr,yr,vr)+br+lr[jr]+mr[Sr]>>>0;br=vr,vr=yr,yr=sr(gr,30)>>>0,gr=fr,fr=Cr}cr[0]=cr[0]+fr>>>0,cr[1]=cr[1]+gr>>>0,cr[2]=cr[2]+yr>>>0,cr[3]=cr[3]+vr>>>0,cr[4]=cr[4]+br>>>0}return[cr[0]>>24&255,cr[0]>>16&255,cr[0]>>8&255,255&cr[0],cr[1]>>24&255,cr[1]>>16&255,cr[1]>>8&255,255&cr[1],cr[2]>>24&255,cr[2]>>16&255,cr[2]>>8&255,255&cr[2],cr[3]>>24&255,cr[3]>>16&255,cr[3]>>8&255,255&cr[3],cr[4]>>24&255,cr[4]>>16&255,cr[4]>>8&255,255&cr[4]]};nr.default=or},{}],535:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir,sr=(ir=tr("./validate.js"))&&ir.__esModule?ir:{default:ir};const or=[];for(let lr=0;lr<256;++lr)or.push((lr+256).toString(16).substr(1));var ar=function(lr){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const dr=(or[lr[cr+0]]+or[lr[cr+1]]+or[lr[cr+2]]+or[lr[cr+3]]+"-"+or[lr[cr+4]]+or[lr[cr+5]]+"-"+or[lr[cr+6]]+or[lr[cr+7]]+"-"+or[lr[cr+8]]+or[lr[cr+9]]+"-"+or[lr[cr+10]]+or[lr[cr+11]]+or[lr[cr+12]]+or[lr[cr+13]]+or[lr[cr+14]]+or[lr[cr+15]]).toLowerCase();if(!(0,sr.default)(dr))throw TypeError("Stringified UUID is invalid");return dr};nr.default=ar},{"./validate.js":541}],536:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir=or(tr("./rng.js")),sr=or(tr("./stringify.js"));function or(ur){return ur&&ur.__esModule?ur:{default:ur}}let ar,lr,cr=0,dr=0;var hr=function(ur,pr,mr){let fr=pr&&mr||0;const gr=pr||new Array(16);let yr=(ur=ur||{}).node||ar,vr=ur.clockseq!==void 0?ur.clockseq:lr;if(yr==null||vr==null){const Rr=ur.random||(ur.rng||ir.default)();yr==null&&(yr=ar=[1|Rr[0],Rr[1],Rr[2],Rr[3],Rr[4],Rr[5]]),vr==null&&(vr=lr=16383&(Rr[6]<<8|Rr[7]))}let br=ur.msecs!==void 0?ur.msecs:Date.now(),Sr=ur.nsecs!==void 0?ur.nsecs:dr+1;const jr=br-cr+(Sr-dr)/1e4;if(jr<0&&ur.clockseq===void 0&&(vr=vr+1&16383),(jr<0||br>cr)&&ur.nsecs===void 0&&(Sr=0),Sr>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");cr=br,dr=Sr,lr=vr,br+=122192928e5;const Cr=(1e4*(268435455&br)+Sr)%4294967296;gr[fr++]=Cr>>>24&255,gr[fr++]=Cr>>>16&255,gr[fr++]=Cr>>>8&255,gr[fr++]=255&Cr;const Pr=br/4294967296*1e4&268435455;gr[fr++]=Pr>>>8&255,gr[fr++]=255&Pr,gr[fr++]=Pr>>>24&15|16,gr[fr++]=Pr>>>16&255,gr[fr++]=vr>>>8|128,gr[fr++]=255&vr;for(let Rr=0;Rr<6;++Rr)gr[fr+Rr]=yr[Rr];return pr||(0,sr.default)(gr)};nr.default=hr},{"./rng.js":533,"./stringify.js":535}],537:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir=or(tr("./v35.js")),sr=or(tr("./md5.js"));function or(lr){return lr&&lr.__esModule?lr:{default:lr}}var ar=(0,ir.default)("v3",48,sr.default);nr.default=ar},{"./md5.js":529,"./v35.js":538}],538:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=function(cr,dr,hr){function ur(pr,mr,fr,gr){if(typeof pr=="string"&&(pr=function(vr){vr=unescape(encodeURIComponent(vr));const br=[];for(let Sr=0;Sr<vr.length;++Sr)br.push(vr.charCodeAt(Sr));return br}(pr)),typeof mr=="string"&&(mr=(0,sr.default)(mr)),mr.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let yr=new Uint8Array(16+pr.length);if(yr.set(mr),yr.set(pr,mr.length),yr=hr(yr),yr[6]=15&yr[6]|dr,yr[8]=63&yr[8]|128,fr){gr=gr||0;for(let vr=0;vr<16;++vr)fr[gr+vr]=yr[vr];return fr}return(0,ir.default)(yr)}try{ur.name=cr}catch{}return ur.DNS=ar,ur.URL=lr,ur},nr.URL=nr.DNS=void 0;var ir=or(tr("./stringify.js")),sr=or(tr("./parse.js"));function or(cr){return cr&&cr.__esModule?cr:{default:cr}}const ar="6ba7b810-9dad-11d1-80b4-00c04fd430c8";nr.DNS=ar;const lr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";nr.URL=lr},{"./parse.js":531,"./stringify.js":535}],539:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir=or(tr("./rng.js")),sr=or(tr("./stringify.js"));function or(lr){return lr&&lr.__esModule?lr:{default:lr}}var ar=function(lr,cr,dr){const hr=(lr=lr||{}).random||(lr.rng||ir.default)();if(hr[6]=15&hr[6]|64,hr[8]=63&hr[8]|128,cr){dr=dr||0;for(let ur=0;ur<16;++ur)cr[dr+ur]=hr[ur];return cr}return(0,sr.default)(hr)};nr.default=ar},{"./rng.js":533,"./stringify.js":535}],540:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir=or(tr("./v35.js")),sr=or(tr("./sha1.js"));function or(lr){return lr&&lr.__esModule?lr:{default:lr}}var ar=(0,ir.default)("v5",80,sr.default);nr.default=ar},{"./sha1.js":534,"./v35.js":538}],541:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir,sr=(ir=tr("./regex.js"))&&ir.__esModule?ir:{default:ir},or=function(ar){return typeof ar=="string"&&sr.default.test(ar)};nr.default=or},{"./regex.js":532}],542:[function(tr,rr,nr){Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var ir,sr=(ir=tr("./validate.js"))&&ir.__esModule?ir:{default:ir},or=function(ar){if(!(0,sr.default)(ar))throw TypeError("Invalid UUID");return parseInt(ar.substr(14,1),16)};nr.default=or},{"./validate.js":541}],543:[function(tr,rr,nr){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(nr,"__esModule",{value:!0}),nr.CHAR=`	
\r ---`,nr.S=` 	\r
`,nr.NAME_START_CHAR=":A-Z_a-z-----------",nr.NAME_CHAR="-"+nr.NAME_START_CHAR+".0-9--",nr.CHAR_RE=new RegExp("^["+nr.CHAR+"]$","u"),nr.S_RE=new RegExp("^["+nr.S+"]+$","u"),nr.NAME_START_CHAR_RE=new RegExp("^["+nr.NAME_START_CHAR+"]$","u"),nr.NAME_CHAR_RE=new RegExp("^["+nr.NAME_CHAR+"]$","u"),nr.NAME_RE=new RegExp("^["+nr.NAME_START_CHAR+"]["+nr.NAME_CHAR+"]*$","u"),nr.NMTOKEN_RE=new RegExp("^["+nr.NAME_CHAR+"]+$","u");function ir(sr){return sr>=65&&sr<=90||sr>=97&&sr<=122||sr===58||sr===95||sr===8204||sr===8205||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}nr.S_LIST=[32,10,13,9],nr.isChar=function(sr){return sr>=32&&sr<=55295||sr===10||sr===13||sr===9||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},nr.isS=function(sr){return sr===32||sr===10||sr===13||sr===9},nr.isNameStartChar=ir,nr.isNameChar=function(sr){return ir(sr)||sr>=48&&sr<=57||sr===45||sr===46||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}],544:[function(tr,rr,nr){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(nr,"__esModule",{value:!0}),nr.CHAR="---",nr.RESTRICTED_CHAR="-\b\v\f---",nr.S=` 	\r
`,nr.NAME_START_CHAR=":A-Z_a-z-----------",nr.NAME_CHAR="-"+nr.NAME_START_CHAR+".0-9--",nr.CHAR_RE=new RegExp("^["+nr.CHAR+"]$","u"),nr.RESTRICTED_CHAR_RE=new RegExp("^["+nr.RESTRICTED_CHAR+"]$","u"),nr.S_RE=new RegExp("^["+nr.S+"]+$","u"),nr.NAME_START_CHAR_RE=new RegExp("^["+nr.NAME_START_CHAR+"]$","u"),nr.NAME_CHAR_RE=new RegExp("^["+nr.NAME_CHAR+"]$","u"),nr.NAME_RE=new RegExp("^["+nr.NAME_START_CHAR+"]["+nr.NAME_CHAR+"]*$","u"),nr.NMTOKEN_RE=new RegExp("^["+nr.NAME_CHAR+"]+$","u");function ir(sr){return sr>=65&&sr<=90||sr>=97&&sr<=122||sr===58||sr===95||sr===8204||sr===8205||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}nr.S_LIST=[32,10,13,9],nr.isChar=function(sr){return sr>=1&&sr<=55295||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},nr.isRestrictedChar=function(sr){return sr>=1&&sr<=8||sr===11||sr===12||sr>=14&&sr<=31||sr>=127&&sr<=132||sr>=134&&sr<=159},nr.isCharAndNotRestricted=function(sr){return sr===9||sr===10||sr===13||sr>31&&sr<127||sr===133||sr>159&&sr<=55295||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},nr.isS=function(sr){return sr===32||sr===10||sr===13||sr===9},nr.isNameStartChar=ir,nr.isNameChar=function(sr){return ir(sr)||sr>=48&&sr<=57||sr===45||sr===46||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}],545:[function(tr,rr,nr){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function ir(sr){return sr>=65&&sr<=90||sr===95||sr>=97&&sr<=122||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8204&&sr<=8205||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}Object.defineProperty(nr,"__esModule",{value:!0}),nr.NC_NAME_START_CHAR="A-Z_a-z------------",nr.NC_NAME_CHAR="-"+nr.NC_NAME_START_CHAR+".0-9--",nr.NC_NAME_START_CHAR_RE=new RegExp("^["+nr.NC_NAME_START_CHAR+"]$","u"),nr.NC_NAME_CHAR_RE=new RegExp("^["+nr.NC_NAME_CHAR+"]$","u"),nr.NC_NAME_RE=new RegExp("^["+nr.NC_NAME_START_CHAR+"]["+nr.NC_NAME_CHAR+"]*$","u"),nr.isNCNameStartChar=ir,nr.isNCNameChar=function(sr){return ir(sr)||sr===45||sr===46||sr>=48&&sr<=57||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}]},{},[15])(15)})})(exceljs_min);var exceljs_minExports=exceljs_min.exports;const ExcelJS=getDefaultExportFromCjs(exceljs_minExports);function ImportModal({isOpen:er,onClose:e,onImport:tr}){const[rr,nr]=reactExports.useState(null),[ir,sr]=reactExports.useState([]),[or,ar]=reactExports.useState(!1),[lr,cr]=reactExports.useState(!1),[dr,hr]=reactExports.useState(null),ur=reactExports.useRef(null),pr=async vr=>{ar(!0),hr(null);try{const br=await vr.arrayBuffer(),Sr=new ExcelJS.Workbook;await Sr.xlsx.load(br);const jr=Sr.worksheets[0];if(!jr)throw new Error("No se encontr ninguna hoja en el archivo");const Cr=[];jr.getRow(1).eachCell((Rr,Lr)=>{Cr[Lr]=String(Rr.value||"").trim()});const Pr=[];jr.eachRow((Rr,Lr)=>{if(Lr===1)return;const Ir={};Rr.eachCell((Ar,Dr)=>{const Tr=Cr[Dr];Tr&&(Ir[Tr]=Ar.value)});const Nr={codigoSAP:String(Ir["Cdigo SAP"]||Ir["CODIGO SAP"]||Ir.Material||""),textoBreve:String(Ir["Texto Breve"]||Ir["TEXTO BREVE"]||Ir.Descripcin||Ir.Descripcion||""),codigoBaader:String(Ir["Cdigo Baader"]||Ir["CODIGO BAADER"]||Ir["Cdigo proveedor"]||Ir["N Parte"]||""),cantidadSolicitada:Number(Ir.Cantidad||Ir["Cant."]||Ir["Cantidad Solicitada"]||0),valorUnitario:Number(Ir["Valor Unitario"]||Ir.Precio||Ir["Valor Unit."]||Ir.USD||0),cantidadStockBodega:Number(Ir.Stock||Ir["Stock Bodega"]||0)};(Nr.codigoSAP||Nr.codigoBaader)&&Pr.push(Nr)}),sr(Pr),nr(vr)}catch(br){console.error("Error al parsear Excel:",br),hr("Error al leer el archivo Excel. Verifica que el formato sea correcto.")}finally{ar(!1)}},mr=vr=>{var Sr;const br=(Sr=vr.target.files)==null?void 0:Sr[0];br&&pr(br)},fr=vr=>{vr.preventDefault();const br=vr.dataTransfer.files[0];br&&(br.name.endsWith(".xlsx")||br.name.endsWith(".xls"))?pr(br):hr("Por favor selecciona un archivo Excel (.xlsx o .xls)")},gr=async()=>{if(ir.length!==0){cr(!0);try{await tr(ir),e(),nr(null),sr([])}catch{hr("Error al importar los datos")}finally{cr(!1)}}},yr=()=>{nr(null),sr([]),hr(null),ur.current&&(ur.current.value="")};return jsxRuntimeExports.jsx(Modal,{isOpen:er,onClose:e,title:"Importar Repuestos desde Excel",size:"xl",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[!rr&&jsxRuntimeExports.jsxs("div",{onDrop:fr,onDragOver:vr=>vr.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var vr;return(vr=ur.current)==null?void 0:vr.click()},children:[jsxRuntimeExports.jsx("input",{ref:ur,type:"file",accept:".xlsx,.xls",onChange:mr,className:"hidden"}),or?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 mx-auto text-primary-600 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-2",children:"Arrastra tu archivo Excel aqu o haz clic para seleccionar"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Formatos aceptados: .xlsx, .xls"})]})]}),dr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{children:dr})]}),ir.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[ir.length," repuestos encontrados"]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:yr,children:"Cambiar archivo"})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"SAP"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Baader"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Descripcin"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Cant."}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"USD"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.slice(0,20).map((vr,br)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-100",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:vr.codigoSAP}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 font-mono text-xs text-primary-600",children:vr.codigoBaader}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 truncate max-w-[200px]",children:vr.textoBreve}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right",children:vr.cantidadSolicitada}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-right",children:["$",vr.valorUnitario.toFixed(2)]})]},br))})]}),ir.length>20&&jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50 border-t",children:["... y ",ir.length-20," ms"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Mapeo de columnas detectado:"}),jsxRuntimeExports.jsxs("ul",{className:"text-blue-700 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:' Cdigo SAP: "Cdigo SAP", "Material"'}),jsxRuntimeExports.jsx("li",{children:' Cdigo Baader: "Cdigo Baader", "Cdigo proveedor", "N Parte"'}),jsxRuntimeExports.jsx("li",{children:' Descripcin: "Texto Breve", "Descripcin"'}),jsxRuntimeExports.jsx("li",{children:' Cantidad: "Cantidad", "Cant."'}),jsxRuntimeExports.jsx("li",{children:' Valor: "Valor Unitario", "Precio", "USD"'})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:e,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:gr,disabled:ir.length===0,loading:lr,icon:jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),children:["Importar ",ir.length," repuestos"]})]})]})})}const TAGS_PREDEFINIDOS=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo","Repuestos varios","Preventivo mensual"];function StatsPanel({repuestos:er}){const[e,tr]=reactExports.useState(null),[rr,nr]=reactExports.useState("valorTotal"),[ir,sr]=reactExports.useState("desc"),[or,ar]=reactExports.useState(10),lr=reactExports.useMemo(()=>e?er.filter(yr=>{var vr;return(vr=yr.tags)==null?void 0:vr.includes(e)}):er,[er,e]),cr=reactExports.useMemo(()=>{const yr=lr.reduce((Dr,Tr)=>Dr+Tr.valorUnitario*Tr.cantidadSolicitada,0),vr=lr.reduce((Dr,Tr)=>Dr+Tr.valorUnitario*(Tr.cantidadStockBodega||0),0),br=lr.reduce((Dr,Tr)=>Dr+(Tr.valorUnitario*Tr.cantidadSolicitada+Tr.valorUnitario*(Tr.cantidadStockBodega||0)),0),Sr=lr.reduce((Dr,Tr)=>Dr+(Tr.cantidadSolicitada||0),0),jr=lr.reduce((Dr,Tr)=>Dr+(Tr.cantidadStockBodega||0),0),Cr=lr.length>0?lr.reduce((Dr,Tr)=>Dr+(Tr.valorUnitario||0),0)/lr.length:0,Pr=Math.max(...lr.map(Dr=>Dr.valorUnitario||0)),Rr=Math.min(...lr.filter(Dr=>Dr.valorUnitario>0).map(Dr=>Dr.valorUnitario)),Lr=lr.filter(Dr=>Dr.cantidadStockBodega>0).length,Ir=lr.filter(Dr=>Dr.cantidadStockBodega===0).length,Nr=lr.filter(Dr=>{var Tr,_r;return(((Tr=Dr.imagenesManual)==null?void 0:Tr.length)||0)>0||(((_r=Dr.fotosReales)==null?void 0:_r.length)||0)>0}).length,Ar=lr.filter(Dr=>{var Tr;return(((Tr=Dr.vinculosManual)==null?void 0:Tr.length)||0)>0}).length;return{totalSolicitadoUSD:yr,totalStockUSD:vr,totalGeneralUSD:br,totalUnidades:Sr,totalStock:jr,promedioValorUnitario:Cr,maxValorUnitario:Pr,minValorUnitario:Rr,conStock:Lr,sinStock:Ir,conImagenes:Nr,conMarcador:Ar,total:lr.length}},[lr]),dr=reactExports.useMemo(()=>{const yr=new Map;return er.forEach(vr=>{(vr.tags||[]).forEach(br=>{const Sr=yr.get(br)||{count:0,total:0,unidades:0},jr=vr.valorUnitario*vr.cantidadSolicitada+vr.valorUnitario*(vr.cantidadStockBodega||0);yr.set(br,{count:Sr.count+1,total:Sr.total+jr,unidades:Sr.unidades+(vr.cantidadSolicitada||0)})})}),Array.from(yr.entries()).map(([vr,br])=>({tag:vr,...br})).sort((vr,br)=>br.total-vr.total)},[er]),hr=reactExports.useMemo(()=>[...lr].sort((vr,br)=>{let Sr=0,jr=0;switch(rr){case"valorTotal":Sr=vr.valorUnitario*vr.cantidadSolicitada+vr.valorUnitario*(vr.cantidadStockBodega||0),jr=br.valorUnitario*br.cantidadSolicitada+br.valorUnitario*(br.cantidadStockBodega||0);break;case"valorUnitario":Sr=vr.valorUnitario||0,jr=br.valorUnitario||0;break;case"cantidad":Sr=vr.cantidadSolicitada||0,jr=br.cantidadSolicitada||0;break;case"stock":Sr=vr.cantidadStockBodega||0,jr=br.cantidadStockBodega||0;break}return ir==="desc"?jr-Sr:Sr-jr}).slice(0,or),[lr,rr,ir,or]),ur=reactExports.useMemo(()=>{const yr=new Set;return er.forEach(vr=>{var br;return(br=vr.tags)==null?void 0:br.forEach(Sr=>yr.add(Sr))}),[...TAGS_PREDEFINIDOS,...Array.from(yr).filter(vr=>!TAGS_PREDEFINIDOS.includes(vr))]},[er]),pr=yr=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(yr),mr=yr=>new Intl.NumberFormat("es-CL").format(yr),fr=(yr,vr)=>vr>0?Math.max(5,yr/vr*100):0,gr=Math.max(...hr.map(yr=>yr.valorUnitario*yr.cantidadSolicitada+yr.valorUnitario*(yr.cantidadStockBodega||0)));return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:jsxRuntimeExports.jsx(ChartColumn,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Estadsticas"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:e?`Filtrado: ${e}`:"Todos los repuestos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{value:e||"",onChange:yr=>tr(yr.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Todos los tags"}),ur.map(yr=>jsxRuntimeExports.jsx("option",{value:yr,children:yr},yr))]}),e&&jsxRuntimeExports.jsx("button",{onClick:()=>tr(null),className:"p-2 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-blue-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-blue-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Solicitado"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-700",children:pr(cr.totalSolicitadoUSD)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:" (Valor Unit.  Cant. Solicitada)"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-green-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-green-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Stock Bodega"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-700",children:pr(cr.totalStockUSD)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:" (Valor Unit.  Stock Bodega)"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-purple-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5 text-purple-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total General"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-700",children:pr(cr.totalGeneralUSD)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Solicitado + Stock"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-amber-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unidades"})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[mr(cr.totalUnidades)," / ",mr(cr.totalStock)]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Solicitadas / Stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-teal-100 rounded-lg",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-teal-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Con Stock"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:cr.conStock}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["de ",cr.total," tems"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-amber-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Promedio Unitario"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:pr(cr.promedioValorUnitario)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Rango: ",pr(cr.minValorUnitario)," - ",pr(cr.maxValorUnitario)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:cr.conStock}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Con stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:cr.sinStock}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Sin stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(ChartPie,{className:"w-5 h-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:cr.conImagenes}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Con imgenes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-amber-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:cr.conMarcador}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Marcados en PDF"})]})]})]}),dr.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800",children:"Distribucin por Tags"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:dr.map(({tag:yr,count:vr,total:br})=>{var Sr;return jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr(e===yr?null:yr),className:`text-sm font-medium hover:text-primary-600 transition-colors ${e===yr?"text-primary-600":"text-gray-700"}`,children:yr}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:[vr," tems"]}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:pr(br)})]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all group-hover:bg-primary-600",style:{width:`${fr(br,((Sr=dr[0])==null?void 0:Sr.total)||1)}%`}})})]},yr)})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800",children:"Top Repuestos"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("select",{value:rr,onChange:yr=>nr(yr.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"valorTotal",children:"Por Valor Total"}),jsxRuntimeExports.jsx("option",{value:"valorUnitario",children:"Por Valor Unitario"}),jsxRuntimeExports.jsx("option",{value:"cantidad",children:"Por Cantidad"}),jsxRuntimeExports.jsx("option",{value:"stock",children:"Por Stock"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(ir==="desc"?"asc":"desc"),className:`p-2 rounded-lg border border-gray-300 hover:bg-gray-50 ${ir==="desc"?"text-primary-600":"text-gray-400"}`,title:ir==="desc"?"Mayor a menor":"Menor a mayor",children:jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("select",{value:or,onChange:yr=>ar(Number(yr.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:5,children:"Top 5"}),jsxRuntimeExports.jsx("option",{value:10,children:"Top 10"}),jsxRuntimeExports.jsx("option",{value:20,children:"Top 20"}),jsxRuntimeExports.jsx("option",{value:50,children:"Top 50"}),jsxRuntimeExports.jsx("option",{value:9999,children:"Todos"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:hr.map((yr,vr)=>{const br=yr.valorUnitario*yr.cantidadSolicitada+yr.valorUnitario*(yr.cantidadStockBodega||0),Sr=rr==="valorTotal"?br:rr==="valorUnitario"?yr.valorUnitario:rr==="cantidad"?yr.cantidadSolicitada:yr.cantidadStockBodega;return jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                      ${vr<3?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-500"}
                    `,children:vr+1}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:yr.codigoSAP}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-800 truncate",children:yr.descripcion||yr.textoBreve})]})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-gray-900",children:rr==="cantidad"||rr==="stock"?mr(Sr||0):pr(Sr||0)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:[rr==="valorTotal"&&`${yr.cantidadSolicitada} solicitadas + ${yr.cantidadStockBodega||0} stock`,rr==="valorUnitario"&&`Total: ${pr(br)}`,rr==="cantidad"&&pr(br),rr==="stock"&&`Solicitado: ${yr.cantidadSolicitada}`]})]})]}),jsxRuntimeExports.jsx("div",{className:"ml-9 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full rounded-full transition-all ${vr===0?"bg-primary-600":vr===1?"bg-primary-500":vr===2?"bg-primary-400":"bg-primary-300"}`,style:{width:`${fr(Sr||0,gr)}%`}})})]},yr.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Resumen Rpido"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:"Inversin total general"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:pr(cr.totalGeneralUSD)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:"Repuesto ms costoso (unit.)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:pr(cr.maxValorUnitario)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:"Cobertura de stock"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[cr.total>0?Math.round(cr.conStock/cr.total*100):0,"%"]})]})]})]})]})]})}function r(er){var e,tr,rr="";if(typeof er=="string"||typeof er=="number")rr+=er;else if(typeof er=="object")if(Array.isArray(er)){var nr=er.length;for(e=0;e<nr;e++)er[e]&&(tr=r(er[e]))&&(rr&&(rr+=" "),rr+=tr)}else for(tr in er)er[tr]&&(rr&&(rr+=" "),rr+=tr);return rr}function clsx(){for(var er,e,tr=0,rr="",nr=arguments.length;tr<nr;tr++)(er=arguments[tr])&&(e=r(er))&&(rr&&(rr+=" "),rr+=e);return rr}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(er){if(typeof er!="string")return!1;var e=EventKeys;return e.includes(er)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SVGElementPropKeySet=new Set(SVGElementPropKeys);function isSvgElementPropKey(er){return typeof er!="string"?!1:SVGElementPropKeySet.has(er)}function isDataAttribute(er){return typeof er=="string"&&er.startsWith("data-")}function svgPropertiesNoEvents(er){if(typeof er!="object"||er===null)return{};var e={};for(var tr in er)Object.prototype.hasOwnProperty.call(er,tr)&&(isSvgElementPropKey(tr)||isDataAttribute(tr))&&(e[tr]=er[tr]);return e}function svgPropertiesNoEventsFromUnknown(er){if(er==null)return null;if(reactExports.isValidElement(er)&&typeof er.props=="object"&&er.props!==null){var e=er.props;return svgPropertiesNoEvents(e)}return typeof er=="object"&&!Array.isArray(er)?svgPropertiesNoEvents(er):null}function svgPropertiesAndEvents(er){var e={};for(var tr in er)Object.prototype.hasOwnProperty.call(er,tr)&&(isSvgElementPropKey(tr)||isDataAttribute(tr)||isEventKey(tr))&&(e[tr]=er[tr]);return e}function svgPropertiesAndEventsFromUnknown(er){return er==null?null:reactExports.isValidElement(er)?svgPropertiesAndEvents(er.props):typeof er=="object"&&!Array.isArray(er)?svgPropertiesAndEvents(er):null}var _excluded$o=["children","width","height","viewBox","className","style","title","desc"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$u.apply(null,arguments)}function _objectWithoutProperties$o(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$o(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$o(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Surface=reactExports.forwardRef((er,e)=>{var{children:tr,width:rr,height:nr,viewBox:ir,className:sr,style:or,title:ar,desc:lr}=er,cr=_objectWithoutProperties$o(er,_excluded$o),dr=ir||{width:rr,height:nr,x:0,y:0},hr=clsx("recharts-surface",sr);return reactExports.createElement("svg",_extends$u({},svgPropertiesAndEvents(cr),{className:hr,width:rr,height:nr,style:or,viewBox:"".concat(dr.x," ").concat(dr.y," ").concat(dr.width," ").concat(dr.height),ref:e}),reactExports.createElement("title",null,ar),reactExports.createElement("desc",null,lr),tr)}),_excluded$n=["children","className"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$t.apply(null,arguments)}function _objectWithoutProperties$n(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$n(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$n(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Layer=reactExports.forwardRef((er,e)=>{var{children:tr,className:rr}=er,nr=_objectWithoutProperties$n(er,_excluded$n),ir=clsx("recharts-layer",rr);return reactExports.createElement("g",_extends$t({className:ir},svgPropertiesAndEvents(nr),{ref:e}),tr)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(er){return function(){return er}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(er){this._+=er[0];for(let e=1,tr=er.length;e<tr;++e)this._+=arguments[e]+er[e]}function appendRound(er){let e=Math.floor(er);if(!(e>=0))throw new Error(`invalid digits: ${er}`);if(e>15)return append;const tr=10**e;return function(rr){this._+=rr[0];for(let nr=1,ir=rr.length;nr<ir;++nr)this._+=Math.round(arguments[nr]*tr)/tr+rr[nr]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,tr){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+tr}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,tr){this._append`L${this._x1=+e},${this._y1=+tr}`}quadraticCurveTo(e,tr,rr,nr){this._append`Q${+e},${+tr},${this._x1=+rr},${this._y1=+nr}`}bezierCurveTo(e,tr,rr,nr,ir,sr){this._append`C${+e},${+tr},${+rr},${+nr},${this._x1=+ir},${this._y1=+sr}`}arcTo(e,tr,rr,nr,ir){if(e=+e,tr=+tr,rr=+rr,nr=+nr,ir=+ir,ir<0)throw new Error(`negative radius: ${ir}`);let sr=this._x1,or=this._y1,ar=rr-e,lr=nr-tr,cr=sr-e,dr=or-tr,hr=cr*cr+dr*dr;if(this._x1===null)this._append`M${this._x1=e},${this._y1=tr}`;else if(hr>epsilon)if(!(Math.abs(dr*ar-lr*cr)>epsilon)||!ir)this._append`L${this._x1=e},${this._y1=tr}`;else{let ur=rr-sr,pr=nr-or,mr=ar*ar+lr*lr,fr=ur*ur+pr*pr,gr=Math.sqrt(mr),yr=Math.sqrt(hr),vr=ir*Math.tan((pi-Math.acos((mr+hr-fr)/(2*gr*yr)))/2),br=vr/yr,Sr=vr/gr;Math.abs(br-1)>epsilon&&this._append`L${e+br*cr},${tr+br*dr}`,this._append`A${ir},${ir},0,0,${+(dr*ur>cr*pr)},${this._x1=e+Sr*ar},${this._y1=tr+Sr*lr}`}}arc(e,tr,rr,nr,ir,sr){if(e=+e,tr=+tr,rr=+rr,sr=!!sr,rr<0)throw new Error(`negative radius: ${rr}`);let or=rr*Math.cos(nr),ar=rr*Math.sin(nr),lr=e+or,cr=tr+ar,dr=1^sr,hr=sr?nr-ir:ir-nr;this._x1===null?this._append`M${lr},${cr}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-cr)>epsilon)&&this._append`L${lr},${cr}`,rr&&(hr<0&&(hr=hr%tau+tau),hr>tauEpsilon?this._append`A${rr},${rr},0,1,${dr},${e-or},${tr-ar}A${rr},${rr},0,1,${dr},${this._x1=lr},${this._y1=cr}`:hr>epsilon&&this._append`A${rr},${rr},0,${+(hr>=pi)},${dr},${this._x1=e+rr*Math.cos(ir)},${this._y1=tr+rr*Math.sin(ir)}`)}rect(e,tr,rr,nr){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+tr}h${rr=+rr}v${+nr}h${-rr}Z`}toString(){return this._}}function withPath(er){let e=3;return er.digits=function(tr){if(!arguments.length)return e;if(tr==null)e=null;else{const rr=Math.floor(tr);if(!(rr>=0))throw new RangeError(`invalid digits: ${tr}`);e=rr}return er},()=>new Path(e)}function array(er){return typeof er=="object"&&"length"in er?er:Array.from(er)}function Linear(er){this._context=er}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,e){switch(er=+er,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,e):this._context.moveTo(er,e);break;case 1:this._point=2;default:this._context.lineTo(er,e);break}}};function curveLinear(er){return new Linear(er)}function x$2(er){return er[0]}function y$1(er){return er[1]}function shapeLine(er,e){var tr=constant$1(!0),rr=null,nr=curveLinear,ir=null,sr=withPath(or);er=typeof er=="function"?er:er===void 0?x$2:constant$1(er),e=typeof e=="function"?e:e===void 0?y$1:constant$1(e);function or(ar){var lr,cr=(ar=array(ar)).length,dr,hr=!1,ur;for(rr==null&&(ir=nr(ur=sr())),lr=0;lr<=cr;++lr)!(lr<cr&&tr(dr=ar[lr],lr,ar))===hr&&((hr=!hr)?ir.lineStart():ir.lineEnd()),hr&&ir.point(+er(dr,lr,ar),+e(dr,lr,ar));if(ur)return ir=null,ur+""||null}return or.x=function(ar){return arguments.length?(er=typeof ar=="function"?ar:constant$1(+ar),or):er},or.y=function(ar){return arguments.length?(e=typeof ar=="function"?ar:constant$1(+ar),or):e},or.defined=function(ar){return arguments.length?(tr=typeof ar=="function"?ar:constant$1(!!ar),or):tr},or.curve=function(ar){return arguments.length?(nr=ar,rr!=null&&(ir=nr(rr)),or):nr},or.context=function(ar){return arguments.length?(ar==null?rr=ir=null:ir=nr(rr=ar),or):rr},or}function shapeArea(er,e,tr){var rr=null,nr=constant$1(!0),ir=null,sr=curveLinear,or=null,ar=withPath(lr);er=typeof er=="function"?er:er===void 0?x$2:constant$1(+er),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),tr=typeof tr=="function"?tr:tr===void 0?y$1:constant$1(+tr);function lr(dr){var hr,ur,pr,mr=(dr=array(dr)).length,fr,gr=!1,yr,vr=new Array(mr),br=new Array(mr);for(ir==null&&(or=sr(yr=ar())),hr=0;hr<=mr;++hr){if(!(hr<mr&&nr(fr=dr[hr],hr,dr))===gr)if(gr=!gr)ur=hr,or.areaStart(),or.lineStart();else{for(or.lineEnd(),or.lineStart(),pr=hr-1;pr>=ur;--pr)or.point(vr[pr],br[pr]);or.lineEnd(),or.areaEnd()}gr&&(vr[hr]=+er(fr,hr,dr),br[hr]=+e(fr,hr,dr),or.point(rr?+rr(fr,hr,dr):vr[hr],tr?+tr(fr,hr,dr):br[hr]))}if(yr)return or=null,yr+""||null}function cr(){return shapeLine().defined(nr).curve(sr).context(ir)}return lr.x=function(dr){return arguments.length?(er=typeof dr=="function"?dr:constant$1(+dr),rr=null,lr):er},lr.x0=function(dr){return arguments.length?(er=typeof dr=="function"?dr:constant$1(+dr),lr):er},lr.x1=function(dr){return arguments.length?(rr=dr==null?null:typeof dr=="function"?dr:constant$1(+dr),lr):rr},lr.y=function(dr){return arguments.length?(e=typeof dr=="function"?dr:constant$1(+dr),tr=null,lr):e},lr.y0=function(dr){return arguments.length?(e=typeof dr=="function"?dr:constant$1(+dr),lr):e},lr.y1=function(dr){return arguments.length?(tr=dr==null?null:typeof dr=="function"?dr:constant$1(+dr),lr):tr},lr.lineX0=lr.lineY0=function(){return cr().x(er).y(e)},lr.lineY1=function(){return cr().x(er).y(tr)},lr.lineX1=function(){return cr().x(rr).y(e)},lr.defined=function(dr){return arguments.length?(nr=typeof dr=="function"?dr:constant$1(!!dr),lr):nr},lr.curve=function(dr){return arguments.length?(sr=dr,ir!=null&&(or=sr(ir)),lr):sr},lr.context=function(dr){return arguments.length?(dr==null?ir=or=null:or=sr(ir=dr),lr):ir},lr}class Bump{constructor(e,tr){this._context=e,this._x=tr}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,tr){switch(e=+e,tr=+tr,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,tr):this._context.moveTo(e,tr);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,tr,e,tr):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+tr)/2,e,this._y0,e,tr);break}}this._x0=e,this._y0=tr}}function bumpX(er){return new Bump(er,!0)}function bumpY(er){return new Bump(er,!1)}const symbolCircle={draw(er,e){const tr=sqrt$1(e/pi$1);er.moveTo(tr,0),er.arc(0,0,tr,0,tau$1)}},symbolCross={draw(er,e){const tr=sqrt$1(e/5)/2;er.moveTo(-3*tr,-tr),er.lineTo(-tr,-tr),er.lineTo(-tr,-3*tr),er.lineTo(tr,-3*tr),er.lineTo(tr,-tr),er.lineTo(3*tr,-tr),er.lineTo(3*tr,tr),er.lineTo(tr,tr),er.lineTo(tr,3*tr),er.lineTo(-tr,3*tr),er.lineTo(-tr,tr),er.lineTo(-3*tr,tr),er.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(er,e){const tr=sqrt$1(e/tan30_2),rr=tr*tan30;er.moveTo(0,-tr),er.lineTo(rr,0),er.lineTo(0,tr),er.lineTo(-rr,0),er.closePath()}},symbolSquare={draw(er,e){const tr=sqrt$1(e),rr=-tr/2;er.rect(rr,rr,tr,tr)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(er,e){const tr=sqrt$1(e*ka),rr=kx*tr,nr=ky*tr;er.moveTo(0,-tr),er.lineTo(rr,nr);for(let ir=1;ir<5;++ir){const sr=tau$1*ir/5,or=cos(sr),ar=sin(sr);er.lineTo(ar*tr,-or*tr),er.lineTo(or*rr-ar*nr,ar*rr+or*nr)}er.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(er,e){const tr=-sqrt$1(e/(sqrt3*3));er.moveTo(0,tr*2),er.lineTo(-sqrt3*tr,-tr),er.lineTo(sqrt3*tr,-tr),er.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(er,e){const tr=sqrt$1(e/a$1),rr=tr/2,nr=tr*k$1,ir=rr,sr=tr*k$1+tr,or=-ir,ar=sr;er.moveTo(rr,nr),er.lineTo(ir,sr),er.lineTo(or,ar),er.lineTo(c$1*rr-s$1*nr,s$1*rr+c$1*nr),er.lineTo(c$1*ir-s$1*sr,s$1*ir+c$1*sr),er.lineTo(c$1*or-s$1*ar,s$1*or+c$1*ar),er.lineTo(c$1*rr+s$1*nr,c$1*nr-s$1*rr),er.lineTo(c$1*ir+s$1*sr,c$1*sr-s$1*ir),er.lineTo(c$1*or+s$1*ar,c$1*ar-s$1*or),er.closePath()}};function Symbol$1(er,e){let tr=null,rr=withPath(nr);er=typeof er=="function"?er:constant$1(er||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function nr(){let ir;if(tr||(tr=ir=rr()),er.apply(this,arguments).draw(tr,+e.apply(this,arguments)),ir)return tr=null,ir+""||null}return nr.type=function(ir){return arguments.length?(er=typeof ir=="function"?ir:constant$1(ir),nr):er},nr.size=function(ir){return arguments.length?(e=typeof ir=="function"?ir:constant$1(+ir),nr):e},nr.context=function(ir){return arguments.length?(tr=ir??null,nr):tr},nr}function noop$3(){}function point$2(er,e,tr){er._context.bezierCurveTo((2*er._x0+er._x1)/3,(2*er._y0+er._y1)/3,(er._x0+2*er._x1)/3,(er._y0+2*er._y1)/3,(er._x0+4*er._x1+e)/6,(er._y0+4*er._y1+tr)/6)}function Basis(er){this._context=er}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,e){switch(er=+er,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,e):this._context.moveTo(er,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,er,e);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=e}};function curveBasis(er){return new Basis(er)}function BasisClosed(er){this._context=er}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(er,e){switch(er=+er,e=+e,this._point){case 0:this._point=1,this._x2=er,this._y2=e;break;case 1:this._point=2,this._x3=er,this._y3=e;break;case 2:this._point=3,this._x4=er,this._y4=e,this._context.moveTo((this._x0+4*this._x1+er)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,er,e);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=e}};function curveBasisClosed(er){return new BasisClosed(er)}function BasisOpen(er){this._context=er}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(er,e){switch(er=+er,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var tr=(this._x0+4*this._x1+er)/6,rr=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(tr,rr):this._context.moveTo(tr,rr);break;case 3:this._point=4;default:point$2(this,er,e);break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=e}};function curveBasisOpen(er){return new BasisOpen(er)}function LinearClosed(er){this._context=er}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(er,e){er=+er,e=+e,this._point?this._context.lineTo(er,e):(this._point=1,this._context.moveTo(er,e))}};function curveLinearClosed(er){return new LinearClosed(er)}function sign(er){return er<0?-1:1}function slope3(er,e,tr){var rr=er._x1-er._x0,nr=e-er._x1,ir=(er._y1-er._y0)/(rr||nr<0&&-0),sr=(tr-er._y1)/(nr||rr<0&&-0),or=(ir*nr+sr*rr)/(rr+nr);return(sign(ir)+sign(sr))*Math.min(Math.abs(ir),Math.abs(sr),.5*Math.abs(or))||0}function slope2(er,e){var tr=er._x1-er._x0;return tr?(3*(er._y1-er._y0)/tr-e)/2:e}function point$1(er,e,tr){var rr=er._x0,nr=er._y0,ir=er._x1,sr=er._y1,or=(ir-rr)/3;er._context.bezierCurveTo(rr+or,nr+or*e,ir-or,sr-or*tr,ir,sr)}function MonotoneX(er){this._context=er}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(er,e){var tr=NaN;if(er=+er,e=+e,!(er===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(er,e):this._context.moveTo(er,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,tr=slope3(this,er,e)),tr);break;default:point$1(this,this._t0,tr=slope3(this,er,e));break}this._x0=this._x1,this._x1=er,this._y0=this._y1,this._y1=e,this._t0=tr}}};function MonotoneY(er){this._context=new ReflectContext(er)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(er,e){MonotoneX.prototype.point.call(this,e,er)};function ReflectContext(er){this._context=er}ReflectContext.prototype={moveTo:function(er,e){this._context.moveTo(e,er)},closePath:function(){this._context.closePath()},lineTo:function(er,e){this._context.lineTo(e,er)},bezierCurveTo:function(er,e,tr,rr,nr,ir){this._context.bezierCurveTo(e,er,rr,tr,ir,nr)}};function monotoneX(er){return new MonotoneX(er)}function monotoneY(er){return new MonotoneY(er)}function Natural(er){this._context=er}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var er=this._x,e=this._y,tr=er.length;if(tr)if(this._line?this._context.lineTo(er[0],e[0]):this._context.moveTo(er[0],e[0]),tr===2)this._context.lineTo(er[1],e[1]);else for(var rr=controlPoints(er),nr=controlPoints(e),ir=0,sr=1;sr<tr;++ir,++sr)this._context.bezierCurveTo(rr[0][ir],nr[0][ir],rr[1][ir],nr[1][ir],er[sr],e[sr]);(this._line||this._line!==0&&tr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(er,e){this._x.push(+er),this._y.push(+e)}};function controlPoints(er){var e,tr=er.length-1,rr,nr=new Array(tr),ir=new Array(tr),sr=new Array(tr);for(nr[0]=0,ir[0]=2,sr[0]=er[0]+2*er[1],e=1;e<tr-1;++e)nr[e]=1,ir[e]=4,sr[e]=4*er[e]+2*er[e+1];for(nr[tr-1]=2,ir[tr-1]=7,sr[tr-1]=8*er[tr-1]+er[tr],e=1;e<tr;++e)rr=nr[e]/ir[e-1],ir[e]-=rr,sr[e]-=rr*sr[e-1];for(nr[tr-1]=sr[tr-1]/ir[tr-1],e=tr-2;e>=0;--e)nr[e]=(sr[e]-nr[e+1])/ir[e];for(ir[tr-1]=(er[tr]+nr[tr-1])/2,e=0;e<tr-1;++e)ir[e]=2*er[e+1]-nr[e+1];return[nr,ir]}function curveNatural(er){return new Natural(er)}function Step(er,e){this._context=er,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(er,e){switch(er=+er,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(er,e):this._context.moveTo(er,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(er,e);else{var tr=this._x*(1-this._t)+er*this._t;this._context.lineTo(tr,this._y),this._context.lineTo(tr,e)}break}}this._x=er,this._y=e}};function curveStep(er){return new Step(er,.5)}function stepBefore(er){return new Step(er,0)}function stepAfter(er){return new Step(er,1)}function stackOffsetNone(er,e){if((sr=er.length)>1)for(var tr=1,rr,nr,ir=er[e[0]],sr,or=ir.length;tr<sr;++tr)for(nr=ir,ir=er[e[tr]],rr=0;rr<or;++rr)ir[rr][1]+=ir[rr][0]=isNaN(nr[rr][1])?nr[rr][0]:nr[rr][1]}function stackOrderNone(er){for(var e=er.length,tr=new Array(e);--e>=0;)tr[e]=e;return tr}function stackValue(er,e){return er[e]}function stackSeries(er){const e=[];return e.key=er,e}function shapeStack(){var er=constant$1([]),e=stackOrderNone,tr=stackOffsetNone,rr=stackValue;function nr(ir){var sr=Array.from(er.apply(this,arguments),stackSeries),or,ar=sr.length,lr=-1,cr;for(const dr of ir)for(or=0,++lr;or<ar;++or)(sr[or][lr]=[0,+rr(dr,sr[or].key,lr,ir)]).data=dr;for(or=0,cr=array(e(sr));or<ar;++or)sr[cr[or]].index=or;return tr(sr,cr),sr}return nr.keys=function(ir){return arguments.length?(er=typeof ir=="function"?ir:constant$1(Array.from(ir)),nr):er},nr.value=function(ir){return arguments.length?(rr=typeof ir=="function"?ir:constant$1(+ir),nr):rr},nr.order=function(ir){return arguments.length?(e=ir==null?stackOrderNone:typeof ir=="function"?ir:constant$1(Array.from(ir)),nr):e},nr.offset=function(ir){return arguments.length?(tr=ir??stackOffsetNone,nr):tr},nr}function stackOffsetExpand(er,e){if((rr=er.length)>0){for(var tr,rr,nr=0,ir=er[0].length,sr;nr<ir;++nr){for(sr=tr=0;tr<rr;++tr)sr+=er[tr][nr][1]||0;if(sr)for(tr=0;tr<rr;++tr)er[tr][nr][1]/=sr}stackOffsetNone(er,e)}}function stackOffsetSilhouette(er,e){if((nr=er.length)>0){for(var tr=0,rr=er[e[0]],nr,ir=rr.length;tr<ir;++tr){for(var sr=0,or=0;sr<nr;++sr)or+=er[sr][tr][1]||0;rr[tr][1]+=rr[tr][0]=-or/2}stackOffsetNone(er,e)}}function stackOffsetWiggle(er,e){if(!(!((sr=er.length)>0)||!((ir=(nr=er[e[0]]).length)>0))){for(var tr=0,rr=1,nr,ir,sr;rr<ir;++rr){for(var or=0,ar=0,lr=0;or<sr;++or){for(var cr=er[e[or]],dr=cr[rr][1]||0,hr=cr[rr-1][1]||0,ur=(dr-hr)/2,pr=0;pr<or;++pr){var mr=er[e[pr]],fr=mr[rr][1]||0,gr=mr[rr-1][1]||0;ur+=fr-gr}ar+=dr,lr+=ur*dr}nr[rr-1][1]+=nr[rr-1][0]=tr,ar&&(tr-=lr/ar)}nr[rr-1][1]+=nr[rr-1][0]=tr,stackOffsetNone(er,e)}}var get$3={},isUnsafeProperty={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr==="__proto__"}er.isUnsafeProperty=e})(isUnsafeProperty);var isDeepKey={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){switch(typeof tr){case"number":case"symbol":return!1;case"string":return tr.includes(".")||tr.includes("[")||tr.includes("]")}}er.isDeepKey=e})(isDeepKey);var toKey={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){var rr;return typeof tr=="string"||typeof tr=="symbol"?tr:Object.is((rr=tr==null?void 0:tr.valueOf)==null?void 0:rr.call(tr),-0)?"-0":String(tr)}er.toKey=e})(toKey);var toPath={},toString$1={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){if(tr==null)return"";if(typeof tr=="string")return tr;if(Array.isArray(tr))return tr.map(e).join(",");const rr=String(tr);return rr==="0"&&Object.is(Number(tr),-0)?"-0":rr}er.toString=e})(toString$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=toString$1,tr=toKey;function rr(nr){if(Array.isArray(nr))return nr.map(tr.toKey);if(typeof nr=="symbol")return[nr];nr=e.toString(nr);const ir=[],sr=nr.length;if(sr===0)return ir;let or=0,ar="",lr="",cr=!1;for(nr.charCodeAt(0)===46&&(ir.push(""),or++);or<sr;){const dr=nr[or];lr?dr==="\\"&&or+1<sr?(or++,ar+=nr[or]):dr===lr?lr="":ar+=dr:cr?dr==='"'||dr==="'"?lr=dr:dr==="]"?(cr=!1,ir.push(ar),ar=""):ar+=dr:dr==="["?(cr=!0,ar&&(ir.push(ar),ar="")):dr==="."?ar&&(ir.push(ar),ar=""):ar+=dr,or++}return ar&&ir.push(ar),ir}er.toPath=rr})(toPath);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isUnsafeProperty,tr=isDeepKey,rr=toKey,nr=toPath;function ir(or,ar,lr){if(or==null)return lr;switch(typeof ar){case"string":{if(e.isUnsafeProperty(ar))return lr;const cr=or[ar];return cr===void 0?tr.isDeepKey(ar)?ir(or,nr.toPath(ar),lr):lr:cr}case"number":case"symbol":{typeof ar=="number"&&(ar=rr.toKey(ar));const cr=or[ar];return cr===void 0?lr:cr}default:{if(Array.isArray(ar))return sr(or,ar,lr);if(Object.is(ar==null?void 0:ar.valueOf(),-0)?ar="-0":ar=String(ar),e.isUnsafeProperty(ar))return lr;const cr=or[ar];return cr===void 0?lr:cr}}}function sr(or,ar,lr){if(ar.length===0)return lr;let cr=or;for(let dr=0;dr<ar.length;dr++){if(cr==null||e.isUnsafeProperty(ar[dr]))return lr;cr=cr[ar[dr]]}return cr===void 0?lr:cr}er.get=ir})(get$3);var get$1=get$3.get;const get$2=getDefaultExportFromCjs(get$1);var defaultRoundPrecision=4;function round$1(er){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultRoundPrecision,tr=10**e,rr=Math.round(er*tr)/tr;return Object.is(rr,-0)?0:rr}function roundTemplateLiteral(er){for(var e=arguments.length,tr=new Array(e>1?e-1:0),rr=1;rr<e;rr++)tr[rr-1]=arguments[rr];return er.reduce((nr,ir,sr)=>{var or=tr[sr-1];return typeof or=="string"?nr+or+ir:or!==void 0?nr+round$1(or)+ir:nr+ir},"")}var mathSign=er=>er===0?0:er>0?1:-1,isNan=er=>typeof er=="number"&&er!=+er,isPercent=er=>typeof er=="string"&&er.indexOf("%")===er.length-1,isNumber=er=>(typeof er=="number"||er instanceof Number)&&!isNan(er),isNumOrStr=er=>isNumber(er)||typeof er=="string",idCounter=0,uniqueId=er=>{var e=++idCounter;return"".concat(er||"").concat(e)},getPercentValue=function er(e,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&typeof e!="string")return rr;var ir;if(isPercent(e)){if(tr==null)return rr;var sr=e.indexOf("%");ir=tr*parseFloat(e.slice(0,sr))/100}else ir=+e;return isNan(ir)&&(ir=rr),nr&&tr!=null&&ir>tr&&(ir=tr),ir},hasDuplicate=er=>{if(!Array.isArray(er))return!1;for(var e=er.length,tr={},rr=0;rr<e;rr++)if(!tr[String(er[rr])])tr[String(er[rr])]=!0;else return!0;return!1};function interpolate$1(er,e,tr){return isNumber(er)&&isNumber(e)?round$1(er+tr*(e-er)):e}function findEntryInArray(er,e,tr){if(!(!er||!er.length))return er.find(rr=>rr&&(typeof e=="function"?e(rr):get$2(rr,e))===tr)}var isNullish=er=>er===null||typeof er>"u",upperFirst=er=>isNullish(er)?er:"".concat(er.charAt(0).toUpperCase()).concat(er.slice(1));function isNotNil(er){return er!=null}function noop$2(){}var _excluded$m=["type","size","sizeType"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$s.apply(null,arguments)}function ownKeys$E(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$E(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$E(Object(tr),!0).forEach(function(rr){_defineProperty$H(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$E(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$H(er,e,tr){return(e=_toPropertyKey$H(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$H(er){var e=_toPrimitive$H(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$H(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$m(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$m(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$m(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=er=>{var e="symbol".concat(upperFirst(er));return symbolFactories[e]||symbolCircle},calculateAreaSize=(er,e,tr)=>{if(e==="area")return er;switch(tr){case"cross":return 5*er*er/9;case"diamond":return .5*er*er/Math.sqrt(3);case"square":return er*er;case"star":{var rr=18*RADIAN$1;return 1.25*er*er*(Math.tan(rr)-Math.tan(rr*2)*Math.tan(rr)**2)}case"triangle":return Math.sqrt(3)*er*er/4;case"wye":return(21-10*Math.sqrt(3))*er*er/8;default:return Math.PI*er*er/4}},registerSymbol=(er,e)=>{symbolFactories["symbol".concat(upperFirst(er))]=e},Symbols=er=>{var{type:e="circle",size:tr=64,sizeType:rr="area"}=er,nr=_objectWithoutProperties$m(er,_excluded$m),ir=_objectSpread$E(_objectSpread$E({},nr),{},{type:e,size:tr,sizeType:rr}),sr="circle";typeof e=="string"&&(sr=e);var or=()=>{var hr=getSymbolFactory(sr),ur=Symbol$1().type(hr).size(calculateAreaSize(tr,rr,sr)),pr=ur();if(pr!==null)return pr},{className:ar,cx:lr,cy:cr}=ir,dr=svgPropertiesAndEvents(ir);return isNumber(lr)&&isNumber(cr)&&isNumber(tr)?reactExports.createElement("path",_extends$s({},dr,{className:clsx("recharts-symbols",ar),transform:"translate(".concat(lr,", ").concat(cr,")"),d:or()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=er=>"radius"in er&&"startAngle"in er&&"endAngle"in er,adaptEventHandlers=(er,e)=>{if(!er||typeof er=="function"||typeof er=="boolean")return null;var tr=er;if(reactExports.isValidElement(er)&&(tr=er.props),typeof tr!="object"&&typeof tr!="function")return null;var rr={};return Object.keys(tr).forEach(nr=>{isEventKey(nr)&&(rr[nr]=ir=>tr[nr](tr,ir))}),rr},getEventHandlerOfChild=(er,e,tr)=>rr=>(er(e,tr,rr),null),adaptEventsOfChild=(er,e,tr)=>{if(er===null||typeof er!="object"&&typeof er!="function")return null;var rr=null;return Object.keys(er).forEach(nr=>{var ir=er[nr];isEventKey(nr)&&typeof ir=="function"&&(rr||(rr={}),rr[nr]=getEventHandlerOfChild(ir,e,tr))}),rr};function ownKeys$D(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$D(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$D(Object(tr),!0).forEach(function(rr){_defineProperty$G(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$D(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$G(er,e,tr){return(e=_toPropertyKey$G(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$G(er){var e=_toPrimitive$G(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$G(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function resolveDefaultProps(er,e){var tr=_objectSpread$D({},er),rr=e,nr=Object.keys(e),ir=nr.reduce((sr,or)=>(sr[or]===void 0&&rr[or]!==void 0&&(sr[or]=rr[or]),sr),tr);return ir}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$r.apply(null,arguments)}function ownKeys$C(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$C(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$C(Object(tr),!0).forEach(function(rr){_defineProperty$F(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$C(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$F(er,e,tr){return(e=_toPropertyKey$F(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$F(er){var e=_toPrimitive$F(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$F(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var SIZE=32,defaultLegendContentDefaultProps={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Icon(er){var{data:e,iconType:tr,inactiveColor:rr}=er,nr=SIZE/2,ir=SIZE/6,sr=SIZE/3,or=e.inactive?rr:e.color,ar=tr??e.type;if(ar==="none")return null;if(ar==="plainline"){var lr;return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:or,strokeDasharray:(lr=e.payload)===null||lr===void 0?void 0:lr.strokeDasharray,x1:0,y1:nr,x2:SIZE,y2:nr,className:"recharts-legend-icon"})}if(ar==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:or,d:"M0,".concat(nr,"h").concat(sr,`
            A`).concat(ir,",").concat(ir,",0,1,1,").concat(2*sr,",").concat(nr,`
            H`).concat(SIZE,"M").concat(2*sr,",").concat(nr,`
            A`).concat(ir,",").concat(ir,",0,1,1,").concat(sr,",").concat(nr),className:"recharts-legend-icon"});if(ar==="rect")return reactExports.createElement("path",{stroke:"none",fill:or,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(e.legendIcon)){var cr=_objectSpread$C({},e);return delete cr.legendIcon,reactExports.cloneElement(e.legendIcon,cr)}return reactExports.createElement(Symbols,{fill:or,cx:nr,cy:nr,size:SIZE,sizeType:"diameter",type:ar})}function Items(er){var{payload:e,iconSize:tr,layout:rr,formatter:nr,inactiveColor:ir,iconType:sr}=er,or={x:0,y:0,width:SIZE,height:SIZE},ar={display:rr==="horizontal"?"inline-block":"block",marginRight:10},lr={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((cr,dr)=>{var hr=cr.formatter||nr,ur=clsx({"recharts-legend-item":!0,["legend-item-".concat(dr)]:!0,inactive:cr.inactive});if(cr.type==="none")return null;var pr=cr.inactive?ir:cr.color,mr=hr?hr(cr.value,cr,dr):cr.value;return reactExports.createElement("li",_extends$r({className:ur,style:ar,key:"legend-item-".concat(dr)},adaptEventsOfChild(er,cr,dr)),reactExports.createElement(Surface,{width:tr,height:tr,viewBox:or,style:lr,"aria-label":"".concat(mr," legend icon")},reactExports.createElement(Icon,{data:cr,iconType:sr,inactiveColor:ir})),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:pr}},mr))})}var DefaultLegendContent=er=>{var e=resolveDefaultProps(er,defaultLegendContentDefaultProps),{payload:tr,layout:rr,align:nr}=e;if(!tr||!tr.length)return null;var ir={padding:0,margin:0,textAlign:rr==="horizontal"?nr:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:ir},reactExports.createElement(Items,_extends$r({},e,{payload:tr})))},uniqBy$3={},uniqBy$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr,rr){const nr=new Map;for(let ir=0;ir<tr.length;ir++){const sr=tr[ir],or=rr(sr);nr.has(or)||nr.set(or,sr)}return Array.from(nr.values())}er.uniqBy=e})(uniqBy$2);var identity$4={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr}er.identity=e})(identity$4);var isArrayLikeObject={},isArrayLike={},isLength={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return Number.isSafeInteger(tr)&&tr>=0}er.isLength=e})(isLength);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isLength;function tr(rr){return rr!=null&&typeof rr!="function"&&e.isLength(rr.length)}er.isArrayLike=tr})(isArrayLike);var isObjectLike={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return typeof tr=="object"&&tr!==null}er.isObjectLike=e})(isObjectLike);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isArrayLike,tr=isObjectLike;function rr(nr){return tr.isObjectLike(nr)&&e.isArrayLike(nr)}er.isArrayLikeObject=rr})(isArrayLikeObject);var iteratee={},property={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=get$3;function tr(rr){return function(nr){return e.get(nr,rr)}}er.property=tr})(property);var matches={},isMatch={},isMatchWith={},isObject={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr!==null&&(typeof tr=="object"||typeof tr=="function")}er.isObject=e})(isObject);var isPrimitive={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr==null||typeof tr!="object"&&typeof tr!="function"}er.isPrimitive=e})(isPrimitive);var eq={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr,rr){return tr===rr||Number.isNaN(tr)&&Number.isNaN(rr)}er.eq=e})(eq);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isObject,tr=isPrimitive,rr=eq;function nr(cr,dr,hr){return typeof hr!="function"?nr(cr,dr,()=>{}):ir(cr,dr,function ur(pr,mr,fr,gr,yr,vr){const br=hr(pr,mr,fr,gr,yr,vr);return br!==void 0?!!br:ir(pr,mr,ur,vr)},new Map)}function ir(cr,dr,hr,ur){if(dr===cr)return!0;switch(typeof dr){case"object":return sr(cr,dr,hr,ur);case"function":return Object.keys(dr).length>0?ir(cr,{...dr},hr,ur):rr.eq(cr,dr);default:return e.isObject(cr)?typeof dr=="string"?dr==="":!0:rr.eq(cr,dr)}}function sr(cr,dr,hr,ur){if(dr==null)return!0;if(Array.isArray(dr))return ar(cr,dr,hr,ur);if(dr instanceof Map)return or(cr,dr,hr,ur);if(dr instanceof Set)return lr(cr,dr,hr,ur);const pr=Object.keys(dr);if(cr==null||tr.isPrimitive(cr))return pr.length===0;if(pr.length===0)return!0;if(ur!=null&&ur.has(dr))return ur.get(dr)===cr;ur==null||ur.set(dr,cr);try{for(let mr=0;mr<pr.length;mr++){const fr=pr[mr];if(!tr.isPrimitive(cr)&&!(fr in cr)||dr[fr]===void 0&&cr[fr]!==void 0||dr[fr]===null&&cr[fr]!==null||!hr(cr[fr],dr[fr],fr,cr,dr,ur))return!1}return!0}finally{ur==null||ur.delete(dr)}}function or(cr,dr,hr,ur){if(dr.size===0)return!0;if(!(cr instanceof Map))return!1;for(const[pr,mr]of dr.entries()){const fr=cr.get(pr);if(hr(fr,mr,pr,cr,dr,ur)===!1)return!1}return!0}function ar(cr,dr,hr,ur){if(dr.length===0)return!0;if(!Array.isArray(cr))return!1;const pr=new Set;for(let mr=0;mr<dr.length;mr++){const fr=dr[mr];let gr=!1;for(let yr=0;yr<cr.length;yr++){if(pr.has(yr))continue;const vr=cr[yr];let br=!1;if(hr(vr,fr,mr,cr,dr,ur)&&(br=!0),br){pr.add(yr),gr=!0;break}}if(!gr)return!1}return!0}function lr(cr,dr,hr,ur){return dr.size===0?!0:cr instanceof Set?ar([...cr],[...dr],hr,ur):!1}er.isMatchWith=nr,er.isSetMatch=lr})(isMatchWith);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isMatchWith;function tr(rr,nr){return e.isMatchWith(rr,nr,()=>{})}er.isMatch=tr})(isMatch);var cloneDeep$1={},cloneDeepWith$1={},getSymbols={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return Object.getOwnPropertySymbols(tr).filter(rr=>Object.prototype.propertyIsEnumerable.call(tr,rr))}er.getSymbols=e})(getSymbols);var getTag={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr==null?tr===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(tr)}er.getTag=e})(getTag);var tags={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",tr="[object String]",rr="[object Number]",nr="[object Boolean]",ir="[object Arguments]",sr="[object Symbol]",or="[object Date]",ar="[object Map]",lr="[object Set]",cr="[object Array]",dr="[object Function]",hr="[object ArrayBuffer]",ur="[object Object]",pr="[object Error]",mr="[object DataView]",fr="[object Uint8Array]",gr="[object Uint8ClampedArray]",yr="[object Uint16Array]",vr="[object Uint32Array]",br="[object BigUint64Array]",Sr="[object Int8Array]",jr="[object Int16Array]",Cr="[object Int32Array]",Pr="[object BigInt64Array]",Rr="[object Float32Array]",Lr="[object Float64Array]";er.argumentsTag=ir,er.arrayBufferTag=hr,er.arrayTag=cr,er.bigInt64ArrayTag=Pr,er.bigUint64ArrayTag=br,er.booleanTag=nr,er.dataViewTag=mr,er.dateTag=or,er.errorTag=pr,er.float32ArrayTag=Rr,er.float64ArrayTag=Lr,er.functionTag=dr,er.int16ArrayTag=jr,er.int32ArrayTag=Cr,er.int8ArrayTag=Sr,er.mapTag=ar,er.numberTag=rr,er.objectTag=ur,er.regexpTag=e,er.setTag=lr,er.stringTag=tr,er.symbolTag=sr,er.uint16ArrayTag=yr,er.uint32ArrayTag=vr,er.uint8ArrayTag=fr,er.uint8ClampedArrayTag=gr})(tags);var isTypedArray={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}er.isTypedArray=e})(isTypedArray);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=getSymbols,tr=getTag,rr=tags,nr=isPrimitive,ir=isTypedArray;function sr(cr,dr){return or(cr,void 0,cr,new Map,dr)}function or(cr,dr,hr,ur=new Map,pr=void 0){const mr=pr==null?void 0:pr(cr,dr,hr,ur);if(mr!==void 0)return mr;if(nr.isPrimitive(cr))return cr;if(ur.has(cr))return ur.get(cr);if(Array.isArray(cr)){const fr=new Array(cr.length);ur.set(cr,fr);for(let gr=0;gr<cr.length;gr++)fr[gr]=or(cr[gr],gr,hr,ur,pr);return Object.hasOwn(cr,"index")&&(fr.index=cr.index),Object.hasOwn(cr,"input")&&(fr.input=cr.input),fr}if(cr instanceof Date)return new Date(cr.getTime());if(cr instanceof RegExp){const fr=new RegExp(cr.source,cr.flags);return fr.lastIndex=cr.lastIndex,fr}if(cr instanceof Map){const fr=new Map;ur.set(cr,fr);for(const[gr,yr]of cr)fr.set(gr,or(yr,gr,hr,ur,pr));return fr}if(cr instanceof Set){const fr=new Set;ur.set(cr,fr);for(const gr of cr)fr.add(or(gr,void 0,hr,ur,pr));return fr}if(typeof Buffer<"u"&&Buffer.isBuffer(cr))return cr.subarray();if(ir.isTypedArray(cr)){const fr=new(Object.getPrototypeOf(cr)).constructor(cr.length);ur.set(cr,fr);for(let gr=0;gr<cr.length;gr++)fr[gr]=or(cr[gr],gr,hr,ur,pr);return fr}if(cr instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&cr instanceof SharedArrayBuffer)return cr.slice(0);if(cr instanceof DataView){const fr=new DataView(cr.buffer.slice(0),cr.byteOffset,cr.byteLength);return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(typeof File<"u"&&cr instanceof File){const fr=new File([cr],cr.name,{type:cr.type});return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(typeof Blob<"u"&&cr instanceof Blob){const fr=new Blob([cr],{type:cr.type});return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(cr instanceof Error){const fr=new cr.constructor;return ur.set(cr,fr),fr.message=cr.message,fr.name=cr.name,fr.stack=cr.stack,fr.cause=cr.cause,ar(fr,cr,hr,ur,pr),fr}if(cr instanceof Boolean){const fr=new Boolean(cr.valueOf());return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(cr instanceof Number){const fr=new Number(cr.valueOf());return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(cr instanceof String){const fr=new String(cr.valueOf());return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}if(typeof cr=="object"&&lr(cr)){const fr=Object.create(Object.getPrototypeOf(cr));return ur.set(cr,fr),ar(fr,cr,hr,ur,pr),fr}return cr}function ar(cr,dr,hr=cr,ur,pr){const mr=[...Object.keys(dr),...e.getSymbols(dr)];for(let fr=0;fr<mr.length;fr++){const gr=mr[fr],yr=Object.getOwnPropertyDescriptor(cr,gr);(yr==null||yr.writable)&&(cr[gr]=or(dr[gr],gr,hr,ur,pr))}}function lr(cr){switch(tr.getTag(cr)){case rr.argumentsTag:case rr.arrayTag:case rr.arrayBufferTag:case rr.dataViewTag:case rr.booleanTag:case rr.dateTag:case rr.float32ArrayTag:case rr.float64ArrayTag:case rr.int8ArrayTag:case rr.int16ArrayTag:case rr.int32ArrayTag:case rr.mapTag:case rr.numberTag:case rr.objectTag:case rr.regexpTag:case rr.setTag:case rr.stringTag:case rr.symbolTag:case rr.uint8ArrayTag:case rr.uint8ClampedArrayTag:case rr.uint16ArrayTag:case rr.uint32ArrayTag:return!0;default:return!1}}er.cloneDeepWith=sr,er.cloneDeepWithImpl=or,er.copyProperties=ar})(cloneDeepWith$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=cloneDeepWith$1;function tr(rr){return e.cloneDeepWithImpl(rr,void 0,rr,new Map,void 0)}er.cloneDeep=tr})(cloneDeep$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isMatch,tr=cloneDeep$1;function rr(nr){return nr=tr.cloneDeep(nr),ir=>e.isMatch(ir,nr)}er.matches=rr})(matches);var matchesProperty={},cloneDeep={},cloneDeepWith={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=cloneDeepWith$1,tr=tags;function rr(nr,ir){return e.cloneDeepWith(nr,(sr,or,ar,lr)=>{const cr=ir==null?void 0:ir(sr,or,ar,lr);if(cr!==void 0)return cr;if(typeof nr=="object")switch(Object.prototype.toString.call(nr)){case tr.numberTag:case tr.stringTag:case tr.booleanTag:{const dr=new nr.constructor(nr==null?void 0:nr.valueOf());return e.copyProperties(dr,nr),dr}case tr.argumentsTag:{const dr={};return e.copyProperties(dr,nr),dr.length=nr.length,dr[Symbol.iterator]=nr[Symbol.iterator],dr}default:return}})}er.cloneDeepWith=rr})(cloneDeepWith);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=cloneDeepWith;function tr(rr){return e.cloneDeepWith(rr)}er.cloneDeep=tr})(cloneDeep);var has$2={},isIndex={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function tr(rr,nr=Number.MAX_SAFE_INTEGER){switch(typeof rr){case"number":return Number.isInteger(rr)&&rr>=0&&rr<nr;case"symbol":return!1;case"string":return e.test(rr)}}er.isIndex=tr})(isIndex);var isArguments={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=getTag;function tr(rr){return rr!==null&&typeof rr=="object"&&e.getTag(rr)==="[object Arguments]"}er.isArguments=tr})(isArguments);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isDeepKey,tr=isIndex,rr=isArguments,nr=toPath;function ir(sr,or){let ar;if(Array.isArray(or)?ar=or:typeof or=="string"&&e.isDeepKey(or)&&(sr==null?void 0:sr[or])==null?ar=nr.toPath(or):ar=[or],ar.length===0)return!1;let lr=sr;for(let cr=0;cr<ar.length;cr++){const dr=ar[cr];if((lr==null||!Object.hasOwn(lr,dr))&&!((Array.isArray(lr)||rr.isArguments(lr))&&tr.isIndex(dr)&&dr<lr.length))return!1;lr=lr[dr]}return!0}er.has=ir})(has$2);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isMatch,tr=toKey,rr=cloneDeep,nr=get$3,ir=has$2;function sr(or,ar){switch(typeof or){case"object":{Object.is(or==null?void 0:or.valueOf(),-0)&&(or="-0");break}case"number":{or=tr.toKey(or);break}}return ar=rr.cloneDeep(ar),function(lr){const cr=nr.get(lr,or);return cr===void 0?ir.has(lr,or):ar===void 0?cr===void 0:e.isMatch(cr,ar)}}er.matchesProperty=sr})(matchesProperty);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=identity$4,tr=property,rr=matches,nr=matchesProperty;function ir(sr){if(sr==null)return e.identity;switch(typeof sr){case"function":return sr;case"object":return Array.isArray(sr)&&sr.length===2?nr.matchesProperty(sr[0],sr[1]):rr.matches(sr);case"string":case"symbol":case"number":return tr.property(sr)}}er.iteratee=ir})(iteratee);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=uniqBy$2,tr=identity$4,rr=isArrayLikeObject,nr=iteratee;function ir(sr,or=tr.identity){return rr.isArrayLikeObject(sr)?e.uniqBy(Array.from(sr),nr.iteratee(or)):[]}er.uniqBy=ir})(uniqBy$3);var uniqBy=uniqBy$3.uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy);function getUniqPayload(er,e,tr){return e===!0?uniqBy$1(er,tr):typeof e=="function"?uniqBy$1(er,e):er}var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$2=reactExports;function is$5(er,e){return er===e&&(er!==0||1/er===1/e)||er!==er&&e!==e}var objectIs$2=typeof Object.is=="function"?Object.is:is$5,useState=React$2.useState,useEffect$2=React$2.useEffect,useLayoutEffect=React$2.useLayoutEffect,useDebugValue$2=React$2.useDebugValue;function useSyncExternalStore$2(er,e){var tr=e(),rr=useState({inst:{value:tr,getSnapshot:e}}),nr=rr[0].inst,ir=rr[1];return useLayoutEffect(function(){nr.value=tr,nr.getSnapshot=e,checkIfSnapshotChanged(nr)&&ir({inst:nr})},[er,tr,e]),useEffect$2(function(){return checkIfSnapshotChanged(nr)&&ir({inst:nr}),er(function(){checkIfSnapshotChanged(nr)&&ir({inst:nr})})},[er]),useDebugValue$2(tr),tr}function checkIfSnapshotChanged(er){var e=er.getSnapshot;er=er.value;try{var tr=e();return!objectIs$2(er,tr)}catch{return!0}}function useSyncExternalStore$1$1(er,e){return e()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$2.useSyncExternalStore!==void 0?React$2.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports,shim=shimExports;function is$4(er,e){return er===e&&(er!==0||1/er===1/e)||er!==er&&e!==e}var objectIs$1=typeof Object.is=="function"?Object.is:is$4,useSyncExternalStore$1=shim.useSyncExternalStore,useRef$1=React$1.useRef,useEffect$1=React$1.useEffect,useMemo$1=React$1.useMemo,useDebugValue$1=React$1.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(er,e,tr,rr,nr){var ir=useRef$1(null);if(ir.current===null){var sr={hasValue:!1,value:null};ir.current=sr}else sr=ir.current;ir=useMemo$1(function(){function ar(ur){if(!lr){if(lr=!0,cr=ur,ur=rr(ur),nr!==void 0&&sr.hasValue){var pr=sr.value;if(nr(pr,ur))return dr=pr}return dr=ur}if(pr=dr,objectIs$1(cr,ur))return pr;var mr=rr(ur);return nr!==void 0&&nr(pr,mr)?(cr=ur,pr):(cr=ur,dr=mr)}var lr=!1,cr,dr,hr=tr===void 0?null:tr;return[function(){return ar(e())},hr===null?void 0:function(){return ar(hr())}]},[e,tr,rr,nr]);var or=useSyncExternalStore$1(er,ir[0],ir[1]);return useEffect$1(function(){sr.hasValue=!0,sr.value=or},[or]),useDebugValue$1(or),or};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports,RechartsReduxContext=reactExports.createContext(null),noopDispatch=er=>er,useAppDispatch=()=>{var er=reactExports.useContext(RechartsReduxContext);return er?er.store.dispatch:noopDispatch},noop$1=()=>{},addNestedSubNoop=()=>noop$1,refEquality=(er,e)=>er===e;function useAppSelector(er){var e=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:addNestedSubNoop,e?e.store.getState:noop$1,e?e.store.getState:noop$1,e?er:noop$1,refEquality)}function assertIsFunction(er,e=`expected a function, instead received ${typeof er}`){if(typeof er!="function")throw new TypeError(e)}function assertIsObject(er,e=`expected an object, instead received ${typeof er}`){if(typeof er!="object")throw new TypeError(e)}function assertIsArrayOfFunctions(er,e="expected all items to be functions, instead received the following types: "){if(!er.every(tr=>typeof tr=="function")){const tr=er.map(rr=>typeof rr=="function"?`function ${rr.name||"unnamed"}()`:typeof rr).join(", ");throw new TypeError(`${e}[${tr}]`)}}var ensureIsArray=er=>Array.isArray(er)?er:[er];function getDependencies(er){const e=Array.isArray(er[0])?er[0]:er;return assertIsArrayOfFunctions(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function collectInputSelectorResults(er,e){const tr=[],{length:rr}=er;for(let nr=0;nr<rr;nr++)tr.push(er[nr].apply(null,e));return tr}var StrongRef=class{constructor(er){this.value=er}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(er,e={}){let tr=createCacheNode();const{resultEqualityCheck:rr}=e;let nr,ir=0;function sr(){var dr;let or=tr;const{length:ar}=arguments;for(let hr=0,ur=ar;hr<ur;hr++){const pr=arguments[hr];if(typeof pr=="function"||typeof pr=="object"&&pr!==null){let mr=or.o;mr===null&&(or.o=mr=new WeakMap);const fr=mr.get(pr);fr===void 0?(or=createCacheNode(),mr.set(pr,or)):or=fr}else{let mr=or.p;mr===null&&(or.p=mr=new Map);const fr=mr.get(pr);fr===void 0?(or=createCacheNode(),mr.set(pr,or)):or=fr}}const lr=or;let cr;if(or.s===TERMINATED)cr=or.v;else if(cr=er.apply(null,arguments),ir++,rr){const hr=((dr=nr==null?void 0:nr.deref)==null?void 0:dr.call(nr))??nr;hr!=null&&rr(hr,cr)&&(cr=hr,ir!==0&&ir--),nr=typeof cr=="object"&&cr!==null||typeof cr=="function"?new Ref(cr):cr}return lr.s=TERMINATED,lr.v=cr,cr}return sr.clearCache=()=>{tr=createCacheNode(),sr.resetResultsCount()},sr.resultsCount=()=>ir,sr.resetResultsCount=()=>{ir=0},sr}function createSelectorCreator(er,...e){const tr=typeof er=="function"?{memoize:er,memoizeOptions:e}:er,rr=(...nr)=>{let ir=0,sr=0,or,ar={},lr=nr.pop();typeof lr=="object"&&(ar=lr,lr=nr.pop()),assertIsFunction(lr,`createSelector expects an output function after the inputs, but received: [${typeof lr}]`);const cr={...tr,...ar},{memoize:dr,memoizeOptions:hr=[],argsMemoize:ur=weakMapMemoize,argsMemoizeOptions:pr=[]}=cr,mr=ensureIsArray(hr),fr=ensureIsArray(pr),gr=getDependencies(nr),yr=dr(function(){return ir++,lr.apply(null,arguments)},...mr),vr=ur(function(){sr++;const Sr=collectInputSelectorResults(gr,arguments);return or=yr.apply(null,Sr),or},...fr);return Object.assign(vr,{resultFunc:lr,memoizedResultFunc:yr,dependencies:gr,dependencyRecomputations:()=>sr,resetDependencyRecomputations:()=>{sr=0},lastResult:()=>or,recomputations:()=>ir,resetRecomputations:()=>{ir=0},memoize:dr,argsMemoize:ur})};return Object.assign(rr,{withTypes:()=>rr}),rr}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((er,e=createSelector)=>{assertIsObject(er,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof er}`);const tr=Object.keys(er),rr=tr.map(ir=>er[ir]);return e(rr,(...ir)=>ir.reduce((sr,or,ar)=>(sr[tr[ar]]=or,sr),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(rr){return typeof rr=="symbol"?1:rr===null?2:rr===void 0?3:rr!==rr?4:0}const tr=(rr,nr,ir)=>{if(rr!==nr){const sr=e(rr),or=e(nr);if(sr===or&&sr===0){if(rr<nr)return ir==="desc"?1:-1;if(rr>nr)return ir==="desc"?-1:1}return ir==="desc"?or-sr:sr-or}return 0};er.compareValues=tr})(compareValues);var isKey={},isSymbol={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return typeof tr=="symbol"||tr instanceof Symbol}er.isSymbol=e})(isSymbol);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isSymbol,tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/;function nr(ir,sr){return Array.isArray(ir)?!1:typeof ir=="number"||typeof ir=="boolean"||ir==null||e.isSymbol(ir)?!0:typeof ir=="string"&&(rr.test(ir)||!tr.test(ir))||sr!=null&&Object.hasOwn(sr,ir)}er.isKey=nr})(isKey);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=compareValues,tr=isKey,rr=toPath;function nr(ir,sr,or,ar){if(ir==null)return[];or=ar?void 0:or,Array.isArray(ir)||(ir=Object.values(ir)),Array.isArray(sr)||(sr=sr==null?[null]:[sr]),sr.length===0&&(sr=[null]),Array.isArray(or)||(or=or==null?[]:[or]),or=or.map(ur=>String(ur));const lr=(ur,pr)=>{let mr=ur;for(let fr=0;fr<pr.length&&mr!=null;++fr)mr=mr[pr[fr]];return mr},cr=(ur,pr)=>pr==null||ur==null?pr:typeof ur=="object"&&"key"in ur?Object.hasOwn(pr,ur.key)?pr[ur.key]:lr(pr,ur.path):typeof ur=="function"?ur(pr):Array.isArray(ur)?lr(pr,ur):typeof pr=="object"?pr[ur]:pr,dr=sr.map(ur=>(Array.isArray(ur)&&ur.length===1&&(ur=ur[0]),ur==null||typeof ur=="function"||Array.isArray(ur)||tr.isKey(ur)?ur:{key:ur,path:rr.toPath(ur)}));return ir.map(ur=>({original:ur,criteria:dr.map(pr=>cr(pr,ur))})).slice().sort((ur,pr)=>{for(let mr=0;mr<dr.length;mr++){const fr=e.compareValues(ur.criteria[mr],pr.criteria[mr],or[mr]);if(fr!==0)return fr}return 0}).map(ur=>ur.original)}er.orderBy=nr})(orderBy);var flatten={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr,rr=1){const nr=[],ir=Math.floor(rr),sr=(or,ar)=>{for(let lr=0;lr<or.length;lr++){const cr=or[lr];Array.isArray(cr)&&ar<ir?sr(cr,ar+1):nr.push(cr)}};return sr(tr,0),nr}er.flatten=e})(flatten);var isIterateeCall={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isIndex,tr=isArrayLike,rr=isObject,nr=eq;function ir(sr,or,ar){return rr.isObject(ar)&&(typeof or=="number"&&tr.isArrayLike(ar)&&e.isIndex(or)&&or<ar.length||typeof or=="string"&&or in ar)?nr.eq(ar[or],sr):!1}er.isIterateeCall=ir})(isIterateeCall);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=orderBy,tr=flatten,rr=isIterateeCall;function nr(ir,...sr){const or=sr.length;return or>1&&rr.isIterateeCall(ir,sr[0],sr[1])?sr=[]:or>2&&rr.isIterateeCall(sr[0],sr[1],sr[2])&&(sr=[sr[0]]),e.orderBy(ir,tr.flatten(sr),["asc"])}er.sortBy=nr})(sortBy$2);var sortBy=sortBy$2.sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy);var selectLegendSettings=er=>er.legend.settings,selectLegendSize=er=>er.legend.size,selectAllLegendPayload2DArray=er=>er.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(er,e)=>{var{itemSorter:tr}=e,rr=er.flat(1);return tr?sortBy$1(rr,tr):rr});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,tr]=reactExports.useState({height:0,left:0,top:0,width:0}),rr=reactExports.useCallback(nr=>{if(nr!=null){var ir=nr.getBoundingClientRect(),sr={height:ir.height,left:ir.left,top:ir.top,width:ir.width};(Math.abs(sr.height-e.height)>EPS$1||Math.abs(sr.left-e.left)>EPS$1||Math.abs(sr.top-e.top)>EPS$1||Math.abs(sr.width-e.width)>EPS$1)&&tr({height:sr.height,left:sr.left,top:sr.top,width:sr.width})}},[e.width,e.height,e.top,e.left,...er]);return[e,rr]}function formatProdErrorMessage$1(er){return`Minified Redux error #${er}; visit https://redux.js.org/Errors?code=${er} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$5(er){if(typeof er!="object"||er===null)return!1;let e=er;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(er)===e||Object.getPrototypeOf(er)===null}function createStore(er,e,tr){if(typeof er!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof e=="function"&&typeof tr=="function"||typeof tr=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof e=="function"&&typeof tr>"u"&&(tr=e,e=void 0),typeof tr<"u"){if(typeof tr!="function")throw new Error(formatProdErrorMessage$1(1));return tr(createStore)(er,e)}let rr=er,nr=e,ir=new Map,sr=ir,or=0,ar=!1;function lr(){sr===ir&&(sr=new Map,ir.forEach((fr,gr)=>{sr.set(gr,fr)}))}function cr(){if(ar)throw new Error(formatProdErrorMessage$1(3));return nr}function dr(fr){if(typeof fr!="function")throw new Error(formatProdErrorMessage$1(4));if(ar)throw new Error(formatProdErrorMessage$1(5));let gr=!0;lr();const yr=or++;return sr.set(yr,fr),function(){if(gr){if(ar)throw new Error(formatProdErrorMessage$1(6));gr=!1,lr(),sr.delete(yr),ir=null}}}function hr(fr){if(!isPlainObject$5(fr))throw new Error(formatProdErrorMessage$1(7));if(typeof fr.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof fr.type!="string")throw new Error(formatProdErrorMessage$1(17));if(ar)throw new Error(formatProdErrorMessage$1(9));try{ar=!0,nr=rr(nr,fr)}finally{ar=!1}return(ir=sr).forEach(yr=>{yr()}),fr}function ur(fr){if(typeof fr!="function")throw new Error(formatProdErrorMessage$1(10));rr=fr,hr({type:actionTypes_default.REPLACE})}function pr(){const fr=dr;return{subscribe(gr){if(typeof gr!="object"||gr===null)throw new Error(formatProdErrorMessage$1(11));function yr(){const br=gr;br.next&&br.next(cr())}return yr(),{unsubscribe:fr(yr)}},[symbol_observable_default](){return this}}}return hr({type:actionTypes_default.INIT}),{dispatch:hr,subscribe:dr,getState:cr,replaceReducer:ur,[symbol_observable_default]:pr}}function assertReducerShape(er){Object.keys(er).forEach(e=>{const tr=er[e];if(typeof tr(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof tr(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(er){const e=Object.keys(er),tr={};for(let ir=0;ir<e.length;ir++){const sr=e[ir];typeof er[sr]=="function"&&(tr[sr]=er[sr])}const rr=Object.keys(tr);let nr;try{assertReducerShape(tr)}catch(ir){nr=ir}return function(sr={},or){if(nr)throw nr;let ar=!1;const lr={};for(let cr=0;cr<rr.length;cr++){const dr=rr[cr],hr=tr[dr],ur=sr[dr],pr=hr(ur,or);if(typeof pr>"u")throw or&&or.type,new Error(formatProdErrorMessage$1(14));lr[dr]=pr,ar=ar||pr!==ur}return ar=ar||rr.length!==Object.keys(sr).length,ar?lr:sr}}function compose$1(...er){return er.length===0?e=>e:er.length===1?er[0]:er.reduce((e,tr)=>(...rr)=>e(tr(...rr)))}function applyMiddleware(...er){return e=>(tr,rr)=>{const nr=e(tr,rr);let ir=()=>{throw new Error(formatProdErrorMessage$1(15))};const sr={getState:nr.getState,dispatch:(ar,...lr)=>ir(ar,...lr)},or=er.map(ar=>ar(sr));return ir=compose$1(...or)(nr.dispatch),{...nr,dispatch:ir}}}function isAction(er){return isPlainObject$5(er)&&"type"in er&&typeof er.type=="string"}var NOTHING$1=Symbol.for("immer-nothing"),DRAFTABLE$1=Symbol.for("immer-draftable"),DRAFT_STATE$1=Symbol.for("immer-state");function die$1(er,...e){throw new Error(`[Immer] minified error nr: ${er}. Full error at: https://bit.ly/3cXEKWf`)}var O$1=Object,getPrototypeOf$1=O$1.getPrototypeOf,CONSTRUCTOR="constructor",PROTOTYPE="prototype",CONFIGURABLE="configurable",ENUMERABLE="enumerable",WRITABLE="writable",VALUE="value",isDraft$1=er=>!!er&&!!er[DRAFT_STATE$1];function isDraftable$1(er){var e;return er?isPlainObject$4(er)||isArray(er)||!!er[DRAFTABLE$1]||!!((e=er[CONSTRUCTOR])!=null&&e[DRAFTABLE$1])||isMap$1(er)||isSet$1(er):!1}var objectCtorString$1=O$1[PROTOTYPE][CONSTRUCTOR].toString(),cachedCtorStrings$1=new WeakMap;function isPlainObject$4(er){if(!er||!isObjectish(er))return!1;const e=getPrototypeOf$1(er);if(e===null||e===O$1[PROTOTYPE])return!0;const tr=O$1.hasOwnProperty.call(e,CONSTRUCTOR)&&e[CONSTRUCTOR];if(tr===Object)return!0;if(!isFunction(tr))return!1;let rr=cachedCtorStrings$1.get(tr);return rr===void 0&&(rr=Function.toString.call(tr),cachedCtorStrings$1.set(tr,rr)),rr===objectCtorString$1}function each$1(er,e,tr=!0){getArchtype$1(er)===0?(tr?Reflect.ownKeys(er):O$1.keys(er)).forEach(nr=>{e(nr,er[nr],er)}):er.forEach((rr,nr)=>e(nr,rr,er))}function getArchtype$1(er){const e=er[DRAFT_STATE$1];return e?e.type_:isArray(er)?1:isMap$1(er)?2:isSet$1(er)?3:0}var has$1=(er,e,tr=getArchtype$1(er))=>tr===2?er.has(e):O$1[PROTOTYPE].hasOwnProperty.call(er,e),get=(er,e,tr=getArchtype$1(er))=>tr===2?er.get(e):er[e],set$1=(er,e,tr,rr=getArchtype$1(er))=>{rr===2?er.set(e,tr):rr===3?er.add(tr):er[e]=tr};function is$3(er,e){return er===e?er!==0||1/er===1/e:er!==er&&e!==e}var isArray=Array.isArray,isMap$1=er=>er instanceof Map,isSet$1=er=>er instanceof Set,isObjectish=er=>typeof er=="object",isFunction=er=>typeof er=="function",isBoolean$1=er=>typeof er=="boolean";function isArrayIndex(er){const e=+er;return Number.isInteger(e)&&String(e)===er}var latest$1=er=>er.copy_||er.base_,getFinalValue=er=>er.modified_?er.copy_:er.base_;function shallowCopy$1(er,e){if(isMap$1(er))return new Map(er);if(isSet$1(er))return new Set(er);if(isArray(er))return Array[PROTOTYPE].slice.call(er);const tr=isPlainObject$4(er);if(e===!0||e==="class_only"&&!tr){const rr=O$1.getOwnPropertyDescriptors(er);delete rr[DRAFT_STATE$1];let nr=Reflect.ownKeys(rr);for(let ir=0;ir<nr.length;ir++){const sr=nr[ir],or=rr[sr];or[WRITABLE]===!1&&(or[WRITABLE]=!0,or[CONFIGURABLE]=!0),(or.get||or.set)&&(rr[sr]={[CONFIGURABLE]:!0,[WRITABLE]:!0,[ENUMERABLE]:or[ENUMERABLE],[VALUE]:er[sr]})}return O$1.create(getPrototypeOf$1(er),rr)}else{const rr=getPrototypeOf$1(er);if(rr!==null&&tr)return{...er};const nr=O$1.create(rr);return O$1.assign(nr,er)}}function freeze$1(er,e=!1){return isFrozen$1(er)||isDraft$1(er)||!isDraftable$1(er)||(getArchtype$1(er)>1&&O$1.defineProperties(er,{set:dontMutateMethodOverride$1,add:dontMutateMethodOverride$1,clear:dontMutateMethodOverride$1,delete:dontMutateMethodOverride$1}),O$1.freeze(er),e&&each$1(er,(tr,rr)=>{freeze$1(rr,!0)},!1)),er}function dontMutateFrozenCollections$1(){die$1(2)}var dontMutateMethodOverride$1={[VALUE]:dontMutateFrozenCollections$1};function isFrozen$1(er){return er===null||!isObjectish(er)?!0:O$1.isFrozen(er)}var PluginMapSet="MapSet",PluginPatches="Patches",PluginArrayMethods="ArrayMethods",plugins$1={};function getPlugin$1(er){const e=plugins$1[er];return e||die$1(0,er),e}var isPluginLoaded=er=>!!plugins$1[er],currentScope$1,getCurrentScope$1=()=>currentScope$1,createScope$1=(er,e)=>({drafts_:[],parent_:er,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:isPluginLoaded(PluginMapSet)?getPlugin$1(PluginMapSet):void 0,arrayMethodsPlugin_:isPluginLoaded(PluginArrayMethods)?getPlugin$1(PluginArrayMethods):void 0});function usePatchesInScope$1(er,e){e&&(er.patchPlugin_=getPlugin$1(PluginPatches),er.patches_=[],er.inversePatches_=[],er.patchListener_=e)}function revokeScope$1(er){leaveScope$1(er),er.drafts_.forEach(revokeDraft$1),er.drafts_=null}function leaveScope$1(er){er===currentScope$1&&(currentScope$1=er.parent_)}var enterScope$1=er=>currentScope$1=createScope$1(currentScope$1,er);function revokeDraft$1(er){const e=er[DRAFT_STATE$1];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function processResult$1(er,e){e.unfinalizedDrafts_=e.drafts_.length;const tr=e.drafts_[0];if(er!==void 0&&er!==tr){tr[DRAFT_STATE$1].modified_&&(revokeScope$1(e),die$1(4)),isDraftable$1(er)&&(er=finalize$1(e,er));const{patchPlugin_:nr}=e;nr&&nr.generateReplacementPatches_(tr[DRAFT_STATE$1].base_,er,e)}else er=finalize$1(e,tr);return maybeFreeze$1(e,er,!0),revokeScope$1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),er!==NOTHING$1?er:void 0}function finalize$1(er,e){if(isFrozen$1(e))return e;const tr=e[DRAFT_STATE$1];if(!tr)return handleValue(e,er.handledSet_,er);if(!isSameScope(tr,er))return e;if(!tr.modified_)return tr.base_;if(!tr.finalized_){const{callbacks_:rr}=tr;if(rr)for(;rr.length>0;)rr.pop()(er);generatePatchesAndFinalize(tr,er)}return tr.copy_}function maybeFreeze$1(er,e,tr=!1){!er.parent_&&er.immer_.autoFreeze_&&er.canAutoFreeze_&&freeze$1(e,tr)}function markStateFinalized(er){er.finalized_=!0,er.scope_.unfinalizedDrafts_--}var isSameScope=(er,e)=>er.scope_===e,EMPTY_LOCATIONS_RESULT=[];function updateDraftInParent(er,e,tr,rr){const nr=latest$1(er),ir=er.type_;if(rr!==void 0&&get(nr,rr,ir)===e){set$1(nr,rr,tr,ir);return}if(!er.draftLocations_){const or=er.draftLocations_=new Map;each$1(nr,(ar,lr)=>{if(isDraft$1(lr)){const cr=or.get(lr)||[];cr.push(ar),or.set(lr,cr)}})}const sr=er.draftLocations_.get(e)??EMPTY_LOCATIONS_RESULT;for(const or of sr)set$1(nr,or,tr,ir)}function registerChildFinalizationCallback(er,e,tr){er.callbacks_.push(function(nr){var or;const ir=e;if(!ir||!isSameScope(ir,nr))return;(or=nr.mapSetPlugin_)==null||or.fixSetContents(ir);const sr=getFinalValue(ir);updateDraftInParent(er,ir.draft_??ir,sr,tr),generatePatchesAndFinalize(ir,nr)})}function generatePatchesAndFinalize(er,e){var rr;if(er.modified_&&!er.finalized_&&(er.type_===3||er.type_===1&&er.allIndicesReassigned_||(((rr=er.assigned_)==null?void 0:rr.size)??0)>0)){const{patchPlugin_:nr}=e;if(nr){const ir=nr.getPath(er);ir&&nr.generatePatches_(er,ir,e)}markStateFinalized(er)}}function handleCrossReference(er,e,tr){const{scope_:rr}=er;if(isDraft$1(tr)){const nr=tr[DRAFT_STATE$1];isSameScope(nr,rr)&&nr.callbacks_.push(function(){prepareCopy$1(er);const sr=getFinalValue(nr);updateDraftInParent(er,tr,sr,e)})}else isDraftable$1(tr)&&er.callbacks_.push(function(){const ir=latest$1(er);get(ir,e,er.type_)===tr&&rr.drafts_.length>1&&(er.assigned_.get(e)??!1)===!0&&er.copy_&&handleValue(get(er.copy_,e,er.type_),rr.handledSet_,rr)})}function handleValue(er,e,tr){return!tr.immer_.autoFreeze_&&tr.unfinalizedDrafts_<1||isDraft$1(er)||e.has(er)||!isDraftable$1(er)||isFrozen$1(er)||(e.add(er),each$1(er,(rr,nr)=>{if(isDraft$1(nr)){const ir=nr[DRAFT_STATE$1];if(isSameScope(ir,tr)){const sr=getFinalValue(ir);set$1(er,rr,sr,er.type_),markStateFinalized(ir)}}else isDraftable$1(nr)&&handleValue(nr,e,tr)})),er}function createProxyProxy$1(er,e){const tr=isArray(er),rr={type_:tr?1:0,scope_:e?e.scope_:getCurrentScope$1(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:er,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let nr=rr,ir=objectTraps$1;tr&&(nr=[rr],ir=arrayTraps$1);const{revoke:sr,proxy:or}=Proxy.revocable(nr,ir);return rr.draft_=or,rr.revoke_=sr,[or,rr]}var objectTraps$1={get(er,e){if(e===DRAFT_STATE$1)return er;let tr=er.scope_.arrayMethodsPlugin_;const rr=er.type_===1&&typeof e=="string";if(rr&&tr!=null&&tr.isArrayOperationMethod(e))return tr.createMethodInterceptor(er,e);const nr=latest$1(er);if(!has$1(nr,e,er.type_))return readPropFromProto$1(er,nr,e);const ir=nr[e];if(er.finalized_||!isDraftable$1(ir)||rr&&er.operationMethod&&(tr!=null&&tr.isMutatingArrayMethod(er.operationMethod))&&isArrayIndex(e))return ir;if(ir===peek$1(er.base_,e)){prepareCopy$1(er);const sr=er.type_===1?+e:e,or=createProxy$1(er.scope_,ir,er,sr);return er.copy_[sr]=or}return ir},has(er,e){return e in latest$1(er)},ownKeys(er){return Reflect.ownKeys(latest$1(er))},set(er,e,tr){const rr=getDescriptorFromProto$1(latest$1(er),e);if(rr!=null&&rr.set)return rr.set.call(er.draft_,tr),!0;if(!er.modified_){const nr=peek$1(latest$1(er),e),ir=nr==null?void 0:nr[DRAFT_STATE$1];if(ir&&ir.base_===tr)return er.copy_[e]=tr,er.assigned_.set(e,!1),!0;if(is$3(tr,nr)&&(tr!==void 0||has$1(er.base_,e,er.type_)))return!0;prepareCopy$1(er),markChanged$1(er)}return er.copy_[e]===tr&&(tr!==void 0||e in er.copy_)||Number.isNaN(tr)&&Number.isNaN(er.copy_[e])||(er.copy_[e]=tr,er.assigned_.set(e,!0),handleCrossReference(er,e,tr)),!0},deleteProperty(er,e){return prepareCopy$1(er),peek$1(er.base_,e)!==void 0||e in er.base_?(er.assigned_.set(e,!1),markChanged$1(er)):er.assigned_.delete(e),er.copy_&&delete er.copy_[e],!0},getOwnPropertyDescriptor(er,e){const tr=latest$1(er),rr=Reflect.getOwnPropertyDescriptor(tr,e);return rr&&{[WRITABLE]:!0,[CONFIGURABLE]:er.type_!==1||e!=="length",[ENUMERABLE]:rr[ENUMERABLE],[VALUE]:tr[e]}},defineProperty(){die$1(11)},getPrototypeOf(er){return getPrototypeOf$1(er.base_)},setPrototypeOf(){die$1(12)}},arrayTraps$1={};each$1(objectTraps$1,(er,e)=>{arrayTraps$1[er]=function(){const tr=arguments;return tr[0]=tr[0][0],e.apply(this,tr)}});arrayTraps$1.deleteProperty=function(er,e){return arrayTraps$1.set.call(this,er,e,void 0)};arrayTraps$1.set=function(er,e,tr){return objectTraps$1.set.call(this,er[0],e,tr,er[0])};function peek$1(er,e){const tr=er[DRAFT_STATE$1];return(tr?latest$1(tr):er)[e]}function readPropFromProto$1(er,e,tr){var nr;const rr=getDescriptorFromProto$1(e,tr);return rr?VALUE in rr?rr[VALUE]:(nr=rr.get)==null?void 0:nr.call(er.draft_):void 0}function getDescriptorFromProto$1(er,e){if(!(e in er))return;let tr=getPrototypeOf$1(er);for(;tr;){const rr=Object.getOwnPropertyDescriptor(tr,e);if(rr)return rr;tr=getPrototypeOf$1(tr)}}function markChanged$1(er){er.modified_||(er.modified_=!0,er.parent_&&markChanged$1(er.parent_))}function prepareCopy$1(er){er.copy_||(er.assigned_=new Map,er.copy_=shallowCopy$1(er.base_,er.scope_.immer_.useStrictShallowCopy_))}var Immer2$1=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(tr,rr,nr)=>{if(isFunction(tr)&&!isFunction(rr)){const sr=rr;rr=tr;const or=this;return function(lr=sr,...cr){return or.produce(lr,dr=>rr.call(this,dr,...cr))}}isFunction(rr)||die$1(6),nr!==void 0&&!isFunction(nr)&&die$1(7);let ir;if(isDraftable$1(tr)){const sr=enterScope$1(this),or=createProxy$1(sr,tr,void 0);let ar=!0;try{ir=rr(or),ar=!1}finally{ar?revokeScope$1(sr):leaveScope$1(sr)}return usePatchesInScope$1(sr,nr),processResult$1(ir,sr)}else if(!tr||!isObjectish(tr)){if(ir=rr(tr),ir===void 0&&(ir=tr),ir===NOTHING$1&&(ir=void 0),this.autoFreeze_&&freeze$1(ir,!0),nr){const sr=[],or=[];getPlugin$1(PluginPatches).generateReplacementPatches_(tr,ir,{patches_:sr,inversePatches_:or}),nr(sr,or)}return ir}else die$1(1,tr)},this.produceWithPatches=(tr,rr)=>{if(isFunction(tr))return(or,...ar)=>this.produceWithPatches(or,lr=>tr(lr,...ar));let nr,ir;return[this.produce(tr,rr,(or,ar)=>{nr=or,ir=ar}),nr,ir]},isBoolean$1(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),isBoolean$1(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),isBoolean$1(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){isDraftable$1(e)||die$1(8),isDraft$1(e)&&(e=current$1(e));const tr=enterScope$1(this),rr=createProxy$1(tr,e,void 0);return rr[DRAFT_STATE$1].isManual_=!0,leaveScope$1(tr),rr}finishDraft(e,tr){const rr=e&&e[DRAFT_STATE$1];(!rr||!rr.isManual_)&&die$1(9);const{scope_:nr}=rr;return usePatchesInScope$1(nr,tr),processResult$1(void 0,nr)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,tr){let rr;for(rr=tr.length-1;rr>=0;rr--){const ir=tr[rr];if(ir.path.length===0&&ir.op==="replace"){e=ir.value;break}}rr>-1&&(tr=tr.slice(rr+1));const nr=getPlugin$1(PluginPatches).applyPatches_;return isDraft$1(e)?nr(e,tr):this.produce(e,ir=>nr(ir,tr))}};function createProxy$1(er,e,tr,rr){const[nr,ir]=isMap$1(e)?getPlugin$1(PluginMapSet).proxyMap_(e,tr):isSet$1(e)?getPlugin$1(PluginMapSet).proxySet_(e,tr):createProxyProxy$1(e,tr);return((tr==null?void 0:tr.scope_)??getCurrentScope$1()).drafts_.push(nr),ir.callbacks_=(tr==null?void 0:tr.callbacks_)??[],ir.key_=rr,tr&&rr!==void 0?registerChildFinalizationCallback(tr,ir,rr):ir.callbacks_.push(function(ar){var cr;(cr=ar.mapSetPlugin_)==null||cr.fixSetContents(ir);const{patchPlugin_:lr}=ar;ir.modified_&&lr&&lr.generatePatches_(ir,[],ar)}),nr}function current$1(er){return isDraft$1(er)||die$1(10,er),currentImpl$1(er)}function currentImpl$1(er){if(!isDraftable$1(er)||isFrozen$1(er))return er;const e=er[DRAFT_STATE$1];let tr,rr=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,tr=shallowCopy$1(er,e.scope_.immer_.useStrictShallowCopy_),rr=e.scope_.immer_.shouldUseStrictIteration()}else tr=shallowCopy$1(er,!0);return each$1(tr,(nr,ir)=>{set$1(tr,nr,currentImpl$1(ir))},rr),e&&(e.finalized_=!1),tr}var immer$1=new Immer2$1,produce=immer$1.produce;function createThunkMiddleware(er){return({dispatch:tr,getState:rr})=>nr=>ir=>typeof ir=="function"?ir(tr,rr,er):nr(ir)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(er,e){function tr(...rr){if(e){let nr=e(...rr);if(!nr)throw new Error(formatProdErrorMessage(0));return{type:er,payload:nr.payload,..."meta"in nr&&{meta:nr.meta},..."error"in nr&&{error:nr.error}}}return{type:er,payload:rr[0]}}return tr.toString=()=>`${er}`,tr.type=er,tr.match=rr=>isAction(rr)&&rr.type===er,tr}var Tuple=class Wp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wp.prototype)}static get[Symbol.species](){return Wp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wp(...e[0].concat(this)):new Wp(...e.concat(this))}};function freezeDraftable(er){return isDraftable$1(er)?produce(er,()=>{}):er}function getOrInsertComputed(er,e,tr){return er.has(e)?er.get(e):er.set(e,tr(e)).get(e)}function isBoolean(er){return typeof er=="boolean"}var buildGetDefaultMiddleware=()=>function(e){const{thunk:tr=!0,immutableCheck:rr=!0,serializableCheck:nr=!0,actionCreatorCheck:ir=!0}=e??{};let sr=new Tuple;return tr&&(isBoolean(tr)?sr.push(thunk):sr.push(withExtraArgument(tr.extraArgument))),sr},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>er=>({payload:er,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=er=>e=>{setTimeout(e,er)},autoBatchEnhancer=(er={type:"raf"})=>e=>(...tr)=>{const rr=e(...tr);let nr=!0,ir=!1,sr=!1;const or=new Set,ar=er.type==="tick"?queueMicrotask:er.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):er.type==="callback"?er.queueNotification:createQueueWithTimer(er.timeout),lr=()=>{sr=!1,ir&&(ir=!1,or.forEach(cr=>cr()))};return Object.assign({},rr,{subscribe(cr){const dr=()=>nr&&cr(),hr=rr.subscribe(dr);return or.add(cr),()=>{hr(),or.delete(cr)}},dispatch(cr){var dr;try{return nr=!((dr=cr==null?void 0:cr.meta)!=null&&dr[SHOULD_AUTOBATCH]),ir=!nr,ir&&(sr||(sr=!0,ar(lr))),rr.dispatch(cr)}finally{nr=!0}}})},buildGetDefaultEnhancers=er=>function(tr){const{autoBatch:rr=!0}=tr??{};let nr=new Tuple(er);return rr&&nr.push(autoBatchEnhancer(typeof rr=="object"?rr:void 0)),nr};function configureStore(er){const e=buildGetDefaultMiddleware(),{reducer:tr=void 0,middleware:rr,devTools:nr=!0,preloadedState:ir=void 0,enhancers:sr=void 0}=er||{};let or;if(typeof tr=="function")or=tr;else if(isPlainObject$5(tr))or=combineReducers(tr);else throw new Error(formatProdErrorMessage(1));let ar;typeof rr=="function"?ar=rr(e):ar=e();let lr=compose$1;nr&&(lr=composeWithDevTools({trace:!1,...typeof nr=="object"&&nr}));const cr=applyMiddleware(...ar),dr=buildGetDefaultEnhancers(cr);let hr=typeof sr=="function"?sr(dr):dr();const ur=lr(...hr);return createStore(or,ir,ur)}function executeReducerBuilderCallback(er){const e={},tr=[];let rr;const nr={addCase(ir,sr){const or=typeof ir=="string"?ir:ir.type;if(!or)throw new Error(formatProdErrorMessage(28));if(or in e)throw new Error(formatProdErrorMessage(29));return e[or]=sr,nr},addAsyncThunk(ir,sr){return sr.pending&&(e[ir.pending.type]=sr.pending),sr.rejected&&(e[ir.rejected.type]=sr.rejected),sr.fulfilled&&(e[ir.fulfilled.type]=sr.fulfilled),sr.settled&&tr.push({matcher:ir.settled,reducer:sr.settled}),nr},addMatcher(ir,sr){return tr.push({matcher:ir,reducer:sr}),nr},addDefaultCase(ir){return rr=ir,nr}};return er(nr),[e,tr,rr]}function isStateFunction(er){return typeof er=="function"}function createReducer(er,e){let[tr,rr,nr]=executeReducerBuilderCallback(e),ir;if(isStateFunction(er))ir=()=>freezeDraftable(er());else{const or=freezeDraftable(er);ir=()=>or}function sr(or=ir(),ar){let lr=[tr[ar.type],...rr.filter(({matcher:cr})=>cr(ar)).map(({reducer:cr})=>cr)];return lr.filter(cr=>!!cr).length===0&&(lr=[nr]),lr.reduce((cr,dr)=>{if(dr)if(isDraft$1(cr)){const ur=dr(cr,ar);return ur===void 0?cr:ur}else{if(isDraftable$1(cr))return produce(cr,hr=>dr(hr,ar));{const hr=dr(cr,ar);if(hr===void 0){if(cr===null)return cr;throw Error("A case reducer on a non-draftable value must not return undefined")}return hr}}return cr},or)}return sr.getInitialState=ir,sr}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(er=21)=>{let e="",tr=er;for(;tr--;)e+=urlAlphabet[Math.random()*64|0];return e},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(er,e){return`${er}/${e}`}function buildCreateSlice({creators:er}={}){var tr;const e=(tr=er==null?void 0:er.asyncThunk)==null?void 0:tr[asyncThunkSymbol];return function(nr){const{name:ir,reducerPath:sr=ir}=nr;if(!ir)throw new Error(formatProdErrorMessage(11));const or=(typeof nr.reducers=="function"?nr.reducers(buildReducerCreators()):nr.reducers)||{},ar=Object.keys(or),lr={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},cr={addCase(br,Sr){const jr=typeof br=="string"?br:br.type;if(!jr)throw new Error(formatProdErrorMessage(12));if(jr in lr.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return lr.sliceCaseReducersByType[jr]=Sr,cr},addMatcher(br,Sr){return lr.sliceMatchers.push({matcher:br,reducer:Sr}),cr},exposeAction(br,Sr){return lr.actionCreators[br]=Sr,cr},exposeCaseReducer(br,Sr){return lr.sliceCaseReducersByName[br]=Sr,cr}};ar.forEach(br=>{const Sr=or[br],jr={reducerName:br,type:getType(ir,br),createNotation:typeof nr.reducers=="function"};isAsyncThunkSliceReducerDefinition(Sr)?handleThunkCaseReducerDefinition(jr,Sr,cr,e):handleNormalReducerDefinition(jr,Sr,cr)});function dr(){const[br={},Sr=[],jr=void 0]=typeof nr.extraReducers=="function"?executeReducerBuilderCallback(nr.extraReducers):[nr.extraReducers],Cr={...br,...lr.sliceCaseReducersByType};return createReducer(nr.initialState,Pr=>{for(let Rr in Cr)Pr.addCase(Rr,Cr[Rr]);for(let Rr of lr.sliceMatchers)Pr.addMatcher(Rr.matcher,Rr.reducer);for(let Rr of Sr)Pr.addMatcher(Rr.matcher,Rr.reducer);jr&&Pr.addDefaultCase(jr)})}const hr=br=>br,ur=new Map,pr=new WeakMap;let mr;function fr(br,Sr){return mr||(mr=dr()),mr(br,Sr)}function gr(){return mr||(mr=dr()),mr.getInitialState()}function yr(br,Sr=!1){function jr(Pr){let Rr=Pr[br];return typeof Rr>"u"&&Sr&&(Rr=getOrInsertComputed(pr,jr,gr)),Rr}function Cr(Pr=hr){const Rr=getOrInsertComputed(ur,Sr,()=>new WeakMap);return getOrInsertComputed(Rr,Pr,()=>{const Lr={};for(const[Ir,Nr]of Object.entries(nr.selectors??{}))Lr[Ir]=wrapSelector(Nr,Pr,()=>getOrInsertComputed(pr,Pr,gr),Sr);return Lr})}return{reducerPath:br,getSelectors:Cr,get selectors(){return Cr(jr)},selectSlice:jr}}const vr={name:ir,reducer:fr,actions:lr.actionCreators,caseReducers:lr.sliceCaseReducersByName,getInitialState:gr,...yr(sr),injectInto(br,{reducerPath:Sr,...jr}={}){const Cr=Sr??sr;return br.inject({reducerPath:Cr,reducer:fr},jr),{...vr,...yr(Cr,!0)}}};return vr}}function wrapSelector(er,e,tr,rr){function nr(ir,...sr){let or=e(ir);return typeof or>"u"&&rr&&(or=tr()),er(or,...sr)}return nr.unwrapped=er,nr}var createSlice=buildCreateSlice();function buildReducerCreators(){function er(e,tr){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...tr}}return er.withTypes=()=>er,{reducer(e){return Object.assign({[e.name](...tr){return e(...tr)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,tr){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:tr}},asyncThunk:er}}function handleNormalReducerDefinition({type:er,reducerName:e,createNotation:tr},rr,nr){let ir,sr;if("reducer"in rr){if(tr&&!isCaseReducerWithPrepareDefinition(rr))throw new Error(formatProdErrorMessage(17));ir=rr.reducer,sr=rr.prepare}else ir=rr;nr.addCase(er,ir).exposeCaseReducer(e,ir).exposeAction(e,sr?createAction(er,sr):createAction(er))}function isAsyncThunkSliceReducerDefinition(er){return er._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(er){return er._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:er,reducerName:e},tr,rr,nr){if(!nr)throw new Error(formatProdErrorMessage(18));const{payloadCreator:ir,fulfilled:sr,pending:or,rejected:ar,settled:lr,options:cr}=tr,dr=nr(er,ir,cr);rr.exposeAction(e,dr),sr&&rr.addCase(dr.fulfilled,sr),or&&rr.addCase(dr.pending,or),ar&&rr.addCase(dr.rejected,ar),lr&&rr.addMatcher(dr.settled,lr),rr.exposeCaseReducer(e,{fulfilled:sr||noop,pending:or||noop,rejected:ar||noop,settled:lr||noop})}function noop(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(er){ho(this,"name","TaskAbortError");ho(this,"message");this.code=er,this.message=`${task} ${cancelled} (reason: ${er})`}},assertFunction=(er,e)=>{if(typeof er!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(er,e=noop2)=>(er.catch(e),er),addAbortSignalListener=(er,e)=>(er.addEventListener("abort",e,{once:!0}),()=>er.removeEventListener("abort",e)),validateActive=er=>{if(er.aborted)throw new TaskAbortError(er.reason)};function raceWithSignal(er,e){let tr=noop2;return new Promise((rr,nr)=>{const ir=()=>nr(new TaskAbortError(er.reason));if(er.aborted){ir();return}tr=addAbortSignalListener(er,ir),e.finally(()=>tr()).then(rr,nr)}).finally(()=>{tr=noop2})}var runTask=async(er,e)=>{try{return await Promise.resolve(),{status:"ok",value:await er()}}catch(tr){return{status:tr instanceof TaskAbortError?"cancelled":"rejected",error:tr}}finally{e==null||e()}},createPause=er=>e=>catchRejection(raceWithSignal(er,e).then(tr=>(validateActive(er),tr))),createDelay=er=>{const e=createPause(er);return tr=>e(new Promise(rr=>setTimeout(rr,tr)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(er,e)=>{const tr=rr=>addAbortSignalListener(er,()=>rr.abort(er.reason));return(rr,nr)=>{assertFunction(rr);const ir=new AbortController;tr(ir);const sr=runTask(async()=>{validateActive(er),validateActive(ir.signal);const or=await rr({pause:createPause(ir.signal),delay:createDelay(ir.signal),signal:ir.signal});return validateActive(ir.signal),or},()=>ir.abort(taskCompleted));return nr!=null&&nr.autoJoin&&e.push(sr.catch(noop2)),{result:createPause(er)(sr),cancel(){ir.abort(taskCancelled)}}}},createTakePattern=(er,e)=>{const tr=async(rr,nr)=>{validateActive(e);let ir=()=>{};const or=[new Promise((ar,lr)=>{let cr=er({predicate:rr,effect:(dr,hr)=>{hr.unsubscribe(),ar([dr,hr.getState(),hr.getOriginalState()])}});ir=()=>{cr(),lr()}})];nr!=null&&or.push(new Promise(ar=>setTimeout(ar,nr,null)));try{const ar=await raceWithSignal(e,Promise.race(or));return validateActive(e),ar}finally{ir()}};return(rr,nr)=>catchRejection(tr(rr,nr))},getListenerEntryPropsFrom=er=>{let{type:e,actionCreator:tr,matcher:rr,predicate:nr,effect:ir}=er;if(e)nr=createAction(e).match;else if(tr)e=tr.type,nr=tr.match;else if(rr)nr=rr;else if(!nr)throw new Error(formatProdErrorMessage(21));return assertFunction(ir),{predicate:nr,type:e,effect:ir}},createListenerEntry=assign(er=>{const{type:e,predicate:tr,effect:rr}=getListenerEntryPropsFrom(er);return{id:nanoid(),effect:rr,type:e,predicate:tr,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(er,e)=>{const{type:tr,effect:rr,predicate:nr}=getListenerEntryPropsFrom(e);return Array.from(er.values()).find(ir=>(typeof tr=="string"?ir.type===tr:ir.predicate===nr)&&ir.effect===rr)},cancelActiveListeners=er=>{er.pending.forEach(e=>{e.abort(listenerCancelled)})},createClearListenerMiddleware=(er,e)=>()=>{for(const tr of e.keys())cancelActiveListeners(tr);er.clear()},safelyNotifyError=(er,e,tr)=>{try{er(e,tr)}catch(rr){setTimeout(()=>{throw rr},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...er)=>{console.error(`${alm}/error`,...er)},createListenerMiddleware=(er={})=>{const e=new Map,tr=new Map,rr=ur=>{const pr=tr.get(ur)??0;tr.set(ur,pr+1)},nr=ur=>{const pr=tr.get(ur)??1;pr===1?tr.delete(ur):tr.set(ur,pr-1)},{extra:ir,onError:sr=defaultErrorHandler}=er;assertFunction(sr);const or=ur=>(ur.unsubscribe=()=>e.delete(ur.id),e.set(ur.id,ur),pr=>{ur.unsubscribe(),pr!=null&&pr.cancelActive&&cancelActiveListeners(ur)}),ar=ur=>{const pr=findListenerEntry(e,ur)??createListenerEntry(ur);return or(pr)};assign(ar,{withTypes:()=>ar});const lr=ur=>{const pr=findListenerEntry(e,ur);return pr&&(pr.unsubscribe(),ur.cancelActive&&cancelActiveListeners(pr)),!!pr};assign(lr,{withTypes:()=>lr});const cr=async(ur,pr,mr,fr)=>{const gr=new AbortController,yr=createTakePattern(ar,gr.signal),vr=[];try{ur.pending.add(gr),rr(ur),await Promise.resolve(ur.effect(pr,assign({},mr,{getOriginalState:fr,condition:(br,Sr)=>yr(br,Sr).then(Boolean),take:yr,delay:createDelay(gr.signal),pause:createPause(gr.signal),extra:ir,signal:gr.signal,fork:createFork(gr.signal,vr),unsubscribe:ur.unsubscribe,subscribe:()=>{e.set(ur.id,ur)},cancelActiveListeners:()=>{ur.pending.forEach((br,Sr,jr)=>{br!==gr&&(br.abort(listenerCancelled),jr.delete(br))})},cancel:()=>{gr.abort(listenerCancelled),ur.pending.delete(gr)},throwIfCancelled:()=>{validateActive(gr.signal)}})))}catch(br){br instanceof TaskAbortError||safelyNotifyError(sr,br,{raisedBy:"effect"})}finally{await Promise.all(vr),gr.abort(listenerCompleted),nr(ur),ur.pending.delete(gr)}},dr=createClearListenerMiddleware(e,tr);return{middleware:ur=>pr=>mr=>{if(!isAction(mr))return pr(mr);if(addListener.match(mr))return ar(mr.payload);if(clearAllListeners.match(mr)){dr();return}if(removeListener.match(mr))return lr(mr.payload);let fr=ur.getState();const gr=()=>{if(fr===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return fr};let yr;try{if(yr=pr(mr),e.size>0){const vr=ur.getState(),br=Array.from(e.values());for(const Sr of br){let jr=!1;try{jr=Sr.predicate(mr,vr,fr)}catch(Cr){jr=!1,safelyNotifyError(sr,Cr,{raisedBy:"predicate"})}jr&&cr(Sr,mr,ur,gr)}}}finally{fr=INTERNAL_NIL_TOKEN}return yr},startListening:ar,stopListening:lr,clearListeners:dr}};function formatProdErrorMessage(er){return`Minified Redux Toolkit error #${er}; visit https://redux-toolkit.js.org/Errors?code=${er} for the full message or use the non-minified dev environment for full errors. `}var initialState$b={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$b,reducers:{setLayout(er,e){er.layoutType=e.payload},setChartSize(er,e){er.width=e.payload.width,er.height=e.payload.height},setMargin(er,e){var tr,rr,nr,ir;er.margin.top=(tr=e.payload.top)!==null&&tr!==void 0?tr:0,er.margin.right=(rr=e.payload.right)!==null&&rr!==void 0?rr:0,er.margin.bottom=(nr=e.payload.bottom)!==null&&nr!==void 0?nr:0,er.margin.left=(ir=e.payload.left)!==null&&ir!==void 0?ir:0},setScale(er,e){er.scale=e.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(er,e,tr){return Array.isArray(er)&&er&&e+tr!==0?er.slice(e,tr+1):er}function isWellBehavedNumber(er){return Number.isFinite(er)}function isPositiveNumber(er){return typeof er=="number"&&er>0&&Number.isFinite(er)}function ownKeys$B(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$B(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$B(Object(tr),!0).forEach(function(rr){_defineProperty$E(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$B(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$E(er,e,tr){return(e=_toPropertyKey$E(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$E(er){var e=_toPrimitive$E(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$E(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function getValueByDataKey(er,e,tr){return isNullish(er)||isNullish(e)?tr:isNumOrStr(e)?get$2(er,e,tr):typeof e=="function"?e(er):tr}var appendOffsetOfLegend=(er,e,tr)=>{if(e&&tr){var{width:rr,height:nr}=tr,{align:ir,verticalAlign:sr,layout:or}=e;if((or==="vertical"||or==="horizontal"&&sr==="middle")&&ir!=="center"&&isNumber(er[ir]))return _objectSpread$B(_objectSpread$B({},er),{},{[ir]:er[ir]+(rr||0)});if((or==="horizontal"||or==="vertical"&&ir==="center")&&sr!=="middle"&&isNumber(er[sr]))return _objectSpread$B(_objectSpread$B({},er),{},{[sr]:er[sr]+(nr||0)})}return er},isCategoricalAxis=(er,e)=>er==="horizontal"&&e==="xAxis"||er==="vertical"&&e==="yAxis"||er==="centric"&&e==="angleAxis"||er==="radial"&&e==="radiusAxis",getCoordinatesOfGrid=(er,e,tr,rr)=>{if(rr)return er.map(or=>or.coordinate);var nr,ir,sr=er.map(or=>(or.coordinate===e&&(nr=!0),or.coordinate===tr&&(ir=!0),or.coordinate));return nr||sr.push(e),ir||sr.push(tr),sr},getTicksOfAxis=(er,e,tr)=>{if(!er)return null;var{duplicateDomain:rr,type:nr,range:ir,scale:sr,realScaleType:or,isCategorical:ar,categoricalDomain:lr,tickCount:cr,ticks:dr,niceTicks:hr,axisType:ur}=er;if(!sr)return null;var pr=or==="scaleBand"&&sr.bandwidth?sr.bandwidth()/2:2,mr=nr==="category"&&sr.bandwidth?sr.bandwidth()/pr:0;if(mr=ur==="angleAxis"&&ir&&ir.length>=2?mathSign(ir[0]-ir[1])*2*mr:mr,dr||hr){var fr=(dr||hr||[]).map((gr,yr)=>{var vr=rr?rr.indexOf(gr):gr;return{coordinate:sr(vr)+mr,value:gr,offset:mr,index:yr}});return fr.filter(gr=>!isNan(gr.coordinate))}return ar&&lr?lr.map((gr,yr)=>({coordinate:sr(gr)+mr,value:gr,index:yr,offset:mr})):sr.ticks&&cr!=null?sr.ticks(cr).map((gr,yr)=>({coordinate:sr(gr)+mr,value:gr,offset:mr,index:yr})):sr.domain().map((gr,yr)=>({coordinate:sr(gr)+mr,value:rr?rr[gr]:gr,index:yr,offset:mr}))},EPS=1e-4,checkDomainOfScale=er=>{var e=er.domain();if(!(!e||e.length<=2)){var tr=e.length,rr=er.range(),nr=Math.min(rr[0],rr[1])-EPS,ir=Math.max(rr[0],rr[1])+EPS,sr=er(e[0]),or=er(e[tr-1]);(sr<nr||sr>ir||or<nr||or>ir)&&er.domain([e[0],e[tr-1]])}},truncateByDomain=(er,e)=>{if(!e||e.length!==2||!isNumber(e[0])||!isNumber(e[1]))return er;var tr=Math.min(e[0],e[1]),rr=Math.max(e[0],e[1]),nr=[er[0],er[1]];return(!isNumber(er[0])||er[0]<tr)&&(nr[0]=tr),(!isNumber(er[1])||er[1]>rr)&&(nr[1]=rr),nr[0]>rr&&(nr[0]=rr),nr[1]<tr&&(nr[1]=tr),nr},offsetSign=er=>{var e,tr=er.length;if(!(tr<=0)){var rr=(e=er[0])===null||e===void 0?void 0:e.length;if(!(rr==null||rr<=0))for(var nr=0;nr<rr;++nr)for(var ir=0,sr=0,or=0;or<tr;++or){var ar=er[or],lr=ar==null?void 0:ar[nr];if(lr!=null){var cr=lr[1],dr=lr[0],hr=isNan(cr)?dr:cr;hr>=0?(lr[0]=ir,lr[1]=ir+hr,ir=cr):(lr[0]=sr,lr[1]=sr+hr,sr=cr)}}}},offsetPositive=er=>{var e,tr=er.length;if(!(tr<=0)){var rr=(e=er[0])===null||e===void 0?void 0:e.length;if(!(rr==null||rr<=0))for(var nr=0;nr<rr;++nr)for(var ir=0,sr=0;sr<tr;++sr){var or=er[sr],ar=or==null?void 0:or[nr];if(ar!=null){var lr=isNan(ar[1])?ar[0]:ar[1];lr>=0?(ar[0]=ir,ar[1]=ir+lr,ir=ar[1]):(ar[0]=0,ar[1]=0)}}}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(er,e,tr)=>{var rr,nr=(rr=STACK_OFFSET_MAP[tr])!==null&&rr!==void 0?rr:stackOffsetNone,ir=shapeStack().keys(e).value((or,ar)=>Number(getValueByDataKey(or,ar,0))).order(stackOrderNone).offset(nr),sr=ir(er);return sr.forEach((or,ar)=>{or.forEach((lr,cr)=>{var dr=getValueByDataKey(er[cr],e[ar],0);Array.isArray(dr)&&dr.length===2&&isNumber(dr[0])&&isNumber(dr[1])&&(lr[0]=dr[0],lr[1]=dr[1])})}),sr};function getNormalizedStackId(er){return er==null?void 0:String(er)}function getCateCoordinateOfLine(er){var{axis:e,ticks:tr,bandSize:rr,entry:nr,index:ir,dataKey:sr}=er;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!isNullish(nr[e.dataKey])){var or=findEntryInArray(tr,"value",nr[e.dataKey]);if(or)return or.coordinate+rr/2}return tr[ir]?tr[ir].coordinate+rr/2:null}var ar=getValueByDataKey(nr,isNullish(sr)?e.dataKey:sr);return isNullish(ar)?null:e.scale(ar)}var getCateCoordinateOfBar=er=>{var{axis:e,ticks:tr,offset:rr,bandSize:nr,entry:ir,index:sr}=er;if(e.type==="category")return tr[sr]?tr[sr].coordinate+rr:null;var or=getValueByDataKey(ir,e.dataKey,e.scale.domain()[sr]);return isNullish(or)?null:e.scale(or)-nr/2+rr},getBaseValueOfBar=er=>{var{numericAxis:e}=er,tr=e.scale.domain();if(e.type==="number"){var rr=Math.min(tr[0],tr[1]),nr=Math.max(tr[0],tr[1]);return rr<=0&&nr>=0?0:nr<0?nr:rr}return tr[0]},getDomainOfSingle=er=>{var e=er.flat(2).filter(isNumber);return[Math.min(...e),Math.max(...e)]},makeDomainFinite=er=>[er[0]===1/0?0:er[0],er[1]===-1/0?0:er[1]],getDomainOfStackGroups=(er,e,tr)=>{if(er!=null)return makeDomainFinite(Object.keys(er).reduce((rr,nr)=>{var ir=er[nr];if(!ir)return rr;var{stackedData:sr}=ir,or=sr.reduce((ar,lr)=>{var cr=getSliced(lr,e,tr),dr=getDomainOfSingle(cr);return!isWellBehavedNumber(dr[0])||!isWellBehavedNumber(dr[1])?ar:[Math.min(ar[0],dr[0]),Math.max(ar[1],dr[1])]},[1/0,-1/0]);return[Math.min(or[0],rr[0]),Math.max(or[1],rr[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(er,e,tr)=>{if(er&&er.scale&&er.scale.bandwidth){var rr=er.scale.bandwidth();if(!tr||rr>0)return rr}if(er&&e&&e.length>=2){for(var nr=sortBy$1(e,cr=>cr.coordinate),ir=1/0,sr=1,or=nr.length;sr<or;sr++){var ar=nr[sr],lr=nr[sr-1];ir=Math.min(((ar==null?void 0:ar.coordinate)||0)-((lr==null?void 0:lr.coordinate)||0),ir)}return ir===1/0?0:ir}return tr?void 0:0};function getTooltipEntry(er){var{tooltipEntrySettings:e,dataKey:tr,payload:rr,value:nr,name:ir}=er;return _objectSpread$B(_objectSpread$B({},e),{},{dataKey:tr,payload:rr,value:nr,name:ir})}function getTooltipNameProp(er,e){if(er)return String(er);if(typeof e=="string")return e}var calculateCartesianTooltipPos=(er,e)=>{if(e==="horizontal")return er.chartX;if(e==="vertical")return er.chartY},calculatePolarTooltipPos=(er,e)=>e==="centric"?er.angle:er.radius,selectChartWidth=er=>er.layout.width,selectChartHeight=er=>er.layout.height,selectContainerScale=er=>er.layout.scale,selectMargin=er=>er.layout.margin,selectAllXAxes=createSelector(er=>er.cartesianAxis.xAxis,er=>Object.values(er)),selectAllYAxes=createSelector(er=>er.cartesianAxis.yAxis,er=>Object.values(er)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME="data-recharts-item-id",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$A(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$A(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$A(Object(tr),!0).forEach(function(rr){_defineProperty$D(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$A(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$D(er,e,tr){return(e=_toPropertyKey$D(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$D(er){var e=_toPrimitive$D(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$D(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var selectBrushHeight=er=>er.brush.height;function selectLeftAxesOffset(er){var e=selectAllYAxes(er);return e.reduce((tr,rr)=>{if(rr.orientation==="left"&&!rr.mirror&&!rr.hide){var nr=typeof rr.width=="number"?rr.width:DEFAULT_Y_AXIS_WIDTH;return tr+nr}return tr},0)}function selectRightAxesOffset(er){var e=selectAllYAxes(er);return e.reduce((tr,rr)=>{if(rr.orientation==="right"&&!rr.mirror&&!rr.hide){var nr=typeof rr.width=="number"?rr.width:DEFAULT_Y_AXIS_WIDTH;return tr+nr}return tr},0)}function selectTopAxesOffset(er){var e=selectAllXAxes(er);return e.reduce((tr,rr)=>rr.orientation==="top"&&!rr.mirror&&!rr.hide?tr+rr.height:tr,0)}function selectBottomAxesOffset(er){var e=selectAllXAxes(er);return e.reduce((tr,rr)=>rr.orientation==="bottom"&&!rr.mirror&&!rr.hide?tr+rr.height:tr,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(er,e,tr,rr,nr,ir,sr,or,ar,lr)=>{var cr={left:(tr.left||0)+nr,right:(tr.right||0)+ir},dr={top:(tr.top||0)+sr,bottom:(tr.bottom||0)+or},hr=_objectSpread$A(_objectSpread$A({},dr),cr),ur=hr.bottom;hr.bottom+=rr,hr=appendOffsetOfLegend(hr,ar,lr);var pr=er-hr.left-hr.right,mr=e-hr.top-hr.bottom;return _objectSpread$A(_objectSpread$A({brushBottom:ur},hr),{},{width:Math.max(pr,0),height:Math.max(mr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,er=>({x:er.left,y:er.top,width:er.width,height:er.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(er,e)=>({x:0,y:0,width:er,height:e})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=er=>er.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(er,e,tr)=>({height:er.height,x:isNumber(er.x)?er.x:e.left,y:isNumber(er.y)?er.y:e.top+e.height+e.brushBottom-((tr==null?void 0:tr.bottom)||0),width:isNumber(er.width)?er.width:e.width})),throttle$2={},debounce$1={},debounce={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr,rr,{signal:nr,edges:ir}={}){let sr,or=null;const ar=ir!=null&&ir.includes("leading"),lr=ir==null||ir.includes("trailing"),cr=()=>{or!==null&&(tr.apply(sr,or),sr=void 0,or=null)},dr=()=>{lr&&cr(),mr()};let hr=null;const ur=()=>{hr!=null&&clearTimeout(hr),hr=setTimeout(()=>{hr=null,dr()},rr)},pr=()=>{hr!==null&&(clearTimeout(hr),hr=null)},mr=()=>{pr(),sr=void 0,or=null},fr=()=>{cr()},gr=function(...yr){if(nr!=null&&nr.aborted)return;sr=this,or=yr;const vr=hr==null;ur(),ar&&vr&&cr()};return gr.schedule=ur,gr.cancel=mr,gr.flush=fr,nr==null||nr.addEventListener("abort",mr,{once:!0}),gr}er.debounce=e})(debounce);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=debounce;function tr(rr,nr=0,ir={}){typeof ir!="object"&&(ir={});const{leading:sr=!1,trailing:or=!0,maxWait:ar}=ir,lr=Array(2);sr&&(lr[0]="leading"),or&&(lr[1]="trailing");let cr,dr=null;const hr=e.debounce(function(...mr){cr=rr.apply(this,mr),dr=null},nr,{edges:lr}),ur=function(...mr){return ar!=null&&(dr===null&&(dr=Date.now()),Date.now()-dr>=ar)?(cr=rr.apply(this,mr),dr=Date.now(),hr.cancel(),hr.schedule(),cr):(hr.apply(this,mr),cr)},pr=()=>(hr.flush(),cr);return ur.cancel=hr.cancel,ur.flush=pr,ur}er.debounce=tr})(debounce$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=debounce$1;function tr(rr,nr=0,ir={}){const{leading:sr=!0,trailing:or=!0}=ir;return e.debounce(rr,nr,{leading:sr,maxWait:nr,trailing:or})}er.throttle=tr})(throttle$2);var throttle=throttle$2.throttle;const throttle$1=getDefaultExportFromCjs(throttle);var warn=function er(e,tr){for(var rr=arguments.length,nr=new Array(rr>2?rr-2:0),ir=2;ir<rr;ir++)nr[ir-2]=arguments[ir];if(typeof console<"u"&&console.warn&&(tr===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(tr===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var sr=0;console.warn(tr.replace(/%s/g,()=>nr[sr++]))}},calculateChartDimensions=(er,e,tr)=>{var{width:rr="100%",height:nr="100%",aspect:ir,maxHeight:sr}=tr,or=isPercent(rr)?er:Number(rr),ar=isPercent(nr)?e:Number(nr);return ir&&ir>0&&(or?ar=or/ir:ar&&(or=ar*ir),sr&&ar!=null&&ar>sr&&(ar=sr)),{calculatedWidth:or,calculatedHeight:ar}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=er=>{var{width:e,height:tr}=er,rr=isPercent(e),nr=isPercent(tr);return rr&&nr?bothOverflow:rr?overflowX:nr?overflowY:noStyle};function getDefaultWidthAndHeight(er){var{width:e,height:tr,aspect:rr}=er,nr=e,ir=tr;return nr===void 0&&ir===void 0?(nr="100%",ir="100%"):nr===void 0?nr=rr&&rr>0?void 0:"100%":ir===void 0&&(ir=rr&&rr>0?void 0:"100%"),{width:nr,height:ir}}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$q.apply(null,arguments)}function ownKeys$z(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$z(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$z(Object(tr),!0).forEach(function(rr){_defineProperty$C(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$z(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$C(er,e,tr){return(e=_toPropertyKey$C(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$C(er){var e=_toPrimitive$C(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$C(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function isAcceptableSize(er){return isPositiveNumber(er.width)&&isPositiveNumber(er.height)}function ResponsiveContainerContextProvider(er){var{children:e,width:tr,height:rr}=er,nr=reactExports.useMemo(()=>({width:tr,height:rr}),[tr,rr]);return isAcceptableSize(nr)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:nr},e):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((er,e)=>{var{aspect:tr,initialDimension:rr={width:-1,height:-1},width:nr,height:ir,minWidth:sr=0,minHeight:or,maxHeight:ar,children:lr,debounce:cr=0,id:dr,className:hr,onResize:ur,style:pr={}}=er,mr=reactExports.useRef(null),fr=reactExports.useRef();fr.current=ur,reactExports.useImperativeHandle(e,()=>mr.current);var[gr,yr]=reactExports.useState({containerWidth:rr.width,containerHeight:rr.height}),vr=reactExports.useCallback((Pr,Rr)=>{yr(Lr=>{var Ir=Math.round(Pr),Nr=Math.round(Rr);return Lr.containerWidth===Ir&&Lr.containerHeight===Nr?Lr:{containerWidth:Ir,containerHeight:Nr}})},[]);reactExports.useEffect(()=>{if(mr.current==null||typeof ResizeObserver>"u")return noop$2;var Pr=Nr=>{var Ar,{width:Dr,height:Tr}=Nr[0].contentRect;vr(Dr,Tr),(Ar=fr.current)===null||Ar===void 0||Ar.call(fr,Dr,Tr)};cr>0&&(Pr=throttle$1(Pr,cr,{trailing:!0,leading:!1}));var Rr=new ResizeObserver(Pr),{width:Lr,height:Ir}=mr.current.getBoundingClientRect();return vr(Lr,Ir),Rr.observe(mr.current),()=>{Rr.disconnect()}},[vr,cr]);var{containerWidth:br,containerHeight:Sr}=gr;warn(!tr||tr>0,"The aspect(%s) must be greater than zero.",tr);var{calculatedWidth:jr,calculatedHeight:Cr}=calculateChartDimensions(br,Sr,{width:nr,height:ir,aspect:tr,maxHeight:ar});return warn(jr!=null&&jr>0||Cr!=null&&Cr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,jr,Cr,nr,ir,sr,or,tr),reactExports.createElement("div",{id:dr?"".concat(dr):void 0,className:clsx("recharts-responsive-container",hr),style:_objectSpread$z(_objectSpread$z({},pr),{},{width:nr,height:ir,minWidth:sr,minHeight:or,maxHeight:ar}),ref:mr},reactExports.createElement("div",{style:getInnerDivStyle({width:nr,height:ir})},reactExports.createElement(ResponsiveContainerContextProvider,{width:jr,height:Cr},lr)))}),ResponsiveContainer=reactExports.forwardRef((er,e)=>{var tr=useResponsiveContainerContext();if(isPositiveNumber(tr.width)&&isPositiveNumber(tr.height))return er.children;var{width:rr,height:nr}=getDefaultWidthAndHeight({width:er.width,height:er.height,aspect:er.aspect}),{calculatedWidth:ir,calculatedHeight:sr}=calculateChartDimensions(void 0,void 0,{width:rr,height:nr,aspect:er.aspect,maxHeight:er.maxHeight});return isNumber(ir)&&isNumber(sr)?reactExports.createElement(ResponsiveContainerContextProvider,{width:ir,height:sr},er.children):reactExports.createElement(SizeDetectorContainer,_extends$q({},er,{width:rr,height:nr,ref:e}))});function cartesianViewBoxToTrapezoid(er){if(er)return{x:er.x,y:er.y,upperWidth:"upperWidth"in er?er.upperWidth:er.width,lowerWidth:"lowerWidth"in er?er.lowerWidth:er.width,width:er.width,height:er.height}}var useViewBox=()=>{var er,e=useIsPanorama(),tr=useAppSelector(selectChartViewBox),rr=useAppSelector(selectBrushDimensions),nr=(er=useAppSelector(selectBrushSettings))===null||er===void 0?void 0:er.padding;return!e||!rr||!nr?tr:{width:rr.width-nr.left-nr.right,height:rr.height-nr.top-nr.bottom,x:nr.left,y:nr.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var er;return(er=useAppSelector(selectChartOffsetInternal))!==null&&er!==void 0?er:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(er=>er.layout.margin),selectChartLayout=er=>er.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useIsInChartContext=()=>{var er=useChartLayout();return er!==void 0},ReportChartSize=er=>{var e=useAppDispatch(),tr=useIsPanorama(),{width:rr,height:nr}=er,ir=useResponsiveContainerContext(),sr=rr,or=nr;return ir&&(sr=ir.width>0?ir.width:rr,or=ir.height>0?ir.height:nr),reactExports.useEffect(()=>{!tr&&isPositiveNumber(sr)&&isPositiveNumber(or)&&e(setChartSize({width:sr,height:or}))},[e,tr,sr,or]),null},NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(er,...e){throw new Error(`[Immer] minified error nr: ${er}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(er){return!!er&&!!er[DRAFT_STATE]}function isDraftable(er){var e;return er?isPlainObject$3(er)||Array.isArray(er)||!!er[DRAFTABLE]||!!((e=er.constructor)!=null&&e[DRAFTABLE])||isMap(er)||isSet(er):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$3(er){if(!er||typeof er!="object")return!1;const e=Object.getPrototypeOf(er);if(e===null||e===Object.prototype)return!0;const tr=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(tr===Object)return!0;if(typeof tr!="function")return!1;let rr=cachedCtorStrings.get(tr);return rr===void 0&&(rr=Function.toString.call(tr),cachedCtorStrings.set(tr,rr)),rr===objectCtorString}function each(er,e,tr=!0){getArchtype(er)===0?(tr?Reflect.ownKeys(er):Object.keys(er)).forEach(nr=>{e(nr,er[nr],er)}):er.forEach((rr,nr)=>e(nr,rr,er))}function getArchtype(er){const e=er[DRAFT_STATE];return e?e.type_:Array.isArray(er)?1:isMap(er)?2:isSet(er)?3:0}function has(er,e){return getArchtype(er)===2?er.has(e):Object.prototype.hasOwnProperty.call(er,e)}function set(er,e,tr){const rr=getArchtype(er);rr===2?er.set(e,tr):rr===3?er.add(tr):er[e]=tr}function is$2(er,e){return er===e?er!==0||1/er===1/e:er!==er&&e!==e}function isMap(er){return er instanceof Map}function isSet(er){return er instanceof Set}function latest(er){return er.copy_||er.base_}function shallowCopy(er,e){if(isMap(er))return new Map(er);if(isSet(er))return new Set(er);if(Array.isArray(er))return Array.prototype.slice.call(er);const tr=isPlainObject$3(er);if(e===!0||e==="class_only"&&!tr){const rr=Object.getOwnPropertyDescriptors(er);delete rr[DRAFT_STATE];let nr=Reflect.ownKeys(rr);for(let ir=0;ir<nr.length;ir++){const sr=nr[ir],or=rr[sr];or.writable===!1&&(or.writable=!0,or.configurable=!0),(or.get||or.set)&&(rr[sr]={configurable:!0,writable:!0,enumerable:or.enumerable,value:er[sr]})}return Object.create(getPrototypeOf(er),rr)}else{const rr=getPrototypeOf(er);if(rr!==null&&tr)return{...er};const nr=Object.create(rr);return Object.assign(nr,er)}}function freeze(er,e=!1){return isFrozen(er)||isDraft(er)||!isDraftable(er)||(getArchtype(er)>1&&Object.defineProperties(er,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(er),e&&Object.values(er).forEach(tr=>freeze(tr,!0))),er}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(er){return er===null||typeof er!="object"?!0:Object.isFrozen(er)}var plugins={};function getPlugin(er){const e=plugins[er];return e||die(0,er),e}var currentScope;function getCurrentScope(){return currentScope}function createScope(er,e){return{drafts_:[],parent_:er,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(er,e){e&&(getPlugin("Patches"),er.patches_=[],er.inversePatches_=[],er.patchListener_=e)}function revokeScope(er){leaveScope(er),er.drafts_.forEach(revokeDraft),er.drafts_=null}function leaveScope(er){er===currentScope&&(currentScope=er.parent_)}function enterScope(er){return currentScope=createScope(currentScope,er)}function revokeDraft(er){const e=er[DRAFT_STATE];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function processResult(er,e){e.unfinalizedDrafts_=e.drafts_.length;const tr=e.drafts_[0];return er!==void 0&&er!==tr?(tr[DRAFT_STATE].modified_&&(revokeScope(e),die(4)),isDraftable(er)&&(er=finalize(e,er),e.parent_||maybeFreeze(e,er)),e.patches_&&getPlugin("Patches").generateReplacementPatches_(tr[DRAFT_STATE].base_,er,e.patches_,e.inversePatches_)):er=finalize(e,tr,[]),revokeScope(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),er!==NOTHING?er:void 0}function finalize(er,e,tr){if(isFrozen(e))return e;const rr=er.immer_.shouldUseStrictIteration(),nr=e[DRAFT_STATE];if(!nr)return each(e,(ir,sr)=>finalizeProperty(er,nr,e,ir,sr,tr),rr),e;if(nr.scope_!==er)return e;if(!nr.modified_)return maybeFreeze(er,nr.base_,!0),nr.base_;if(!nr.finalized_){nr.finalized_=!0,nr.scope_.unfinalizedDrafts_--;const ir=nr.copy_;let sr=ir,or=!1;nr.type_===3&&(sr=new Set(ir),ir.clear(),or=!0),each(sr,(ar,lr)=>finalizeProperty(er,nr,ir,ar,lr,tr,or),rr),maybeFreeze(er,ir,!1),tr&&er.patches_&&getPlugin("Patches").generatePatches_(nr,tr,er.patches_,er.inversePatches_)}return nr.copy_}function finalizeProperty(er,e,tr,rr,nr,ir,sr){if(nr==null||typeof nr!="object"&&!sr)return;const or=isFrozen(nr);if(!(or&&!sr)){if(isDraft(nr)){const ar=ir&&e&&e.type_!==3&&!has(e.assigned_,rr)?ir.concat(rr):void 0,lr=finalize(er,nr,ar);if(set(tr,rr,lr),isDraft(lr))er.canAutoFreeze_=!1;else return}else sr&&tr.add(nr);if(isDraftable(nr)&&!or){if(!er.immer_.autoFreeze_&&er.unfinalizedDrafts_<1||e&&e.base_&&e.base_[rr]===nr&&or)return;finalize(er,nr),(!e||!e.scope_.parent_)&&typeof rr!="symbol"&&(isMap(tr)?tr.has(rr):Object.prototype.propertyIsEnumerable.call(tr,rr))&&maybeFreeze(er,nr)}}}function maybeFreeze(er,e,tr=!1){!er.parent_&&er.immer_.autoFreeze_&&er.canAutoFreeze_&&freeze(e,tr)}function createProxyProxy(er,e){const tr=Array.isArray(er),rr={type_:tr?1:0,scope_:e?e.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:er,draft_:null,copy_:null,revoke_:null,isManual_:!1};let nr=rr,ir=objectTraps;tr&&(nr=[rr],ir=arrayTraps);const{revoke:sr,proxy:or}=Proxy.revocable(nr,ir);return rr.draft_=or,rr.revoke_=sr,or}var objectTraps={get(er,e){if(e===DRAFT_STATE)return er;const tr=latest(er);if(!has(tr,e))return readPropFromProto(er,tr,e);const rr=tr[e];return er.finalized_||!isDraftable(rr)?rr:rr===peek(er.base_,e)?(prepareCopy(er),er.copy_[e]=createProxy(rr,er)):rr},has(er,e){return e in latest(er)},ownKeys(er){return Reflect.ownKeys(latest(er))},set(er,e,tr){const rr=getDescriptorFromProto(latest(er),e);if(rr!=null&&rr.set)return rr.set.call(er.draft_,tr),!0;if(!er.modified_){const nr=peek(latest(er),e),ir=nr==null?void 0:nr[DRAFT_STATE];if(ir&&ir.base_===tr)return er.copy_[e]=tr,er.assigned_[e]=!1,!0;if(is$2(tr,nr)&&(tr!==void 0||has(er.base_,e)))return!0;prepareCopy(er),markChanged(er)}return er.copy_[e]===tr&&(tr!==void 0||e in er.copy_)||Number.isNaN(tr)&&Number.isNaN(er.copy_[e])||(er.copy_[e]=tr,er.assigned_[e]=!0),!0},deleteProperty(er,e){return peek(er.base_,e)!==void 0||e in er.base_?(er.assigned_[e]=!1,prepareCopy(er),markChanged(er)):delete er.assigned_[e],er.copy_&&delete er.copy_[e],!0},getOwnPropertyDescriptor(er,e){const tr=latest(er),rr=Reflect.getOwnPropertyDescriptor(tr,e);return rr&&{writable:!0,configurable:er.type_!==1||e!=="length",enumerable:rr.enumerable,value:tr[e]}},defineProperty(){die(11)},getPrototypeOf(er){return getPrototypeOf(er.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(er,e)=>{arrayTraps[er]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});arrayTraps.deleteProperty=function(er,e){return arrayTraps.set.call(this,er,e,void 0)};arrayTraps.set=function(er,e,tr){return objectTraps.set.call(this,er[0],e,tr,er[0])};function peek(er,e){const tr=er[DRAFT_STATE];return(tr?latest(tr):er)[e]}function readPropFromProto(er,e,tr){var nr;const rr=getDescriptorFromProto(e,tr);return rr?"value"in rr?rr.value:(nr=rr.get)==null?void 0:nr.call(er.draft_):void 0}function getDescriptorFromProto(er,e){if(!(e in er))return;let tr=getPrototypeOf(er);for(;tr;){const rr=Object.getOwnPropertyDescriptor(tr,e);if(rr)return rr;tr=getPrototypeOf(tr)}}function markChanged(er){er.modified_||(er.modified_=!0,er.parent_&&markChanged(er.parent_))}function prepareCopy(er){er.copy_||(er.copy_=shallowCopy(er.base_,er.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(er){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,tr,rr)=>{if(typeof e=="function"&&typeof tr!="function"){const ir=tr;tr=e;const sr=this;return function(ar=ir,...lr){return sr.produce(ar,cr=>tr.call(this,cr,...lr))}}typeof tr!="function"&&die(6),rr!==void 0&&typeof rr!="function"&&die(7);let nr;if(isDraftable(e)){const ir=enterScope(this),sr=createProxy(e,void 0);let or=!0;try{nr=tr(sr),or=!1}finally{or?revokeScope(ir):leaveScope(ir)}return usePatchesInScope(ir,rr),processResult(nr,ir)}else if(!e||typeof e!="object"){if(nr=tr(e),nr===void 0&&(nr=e),nr===NOTHING&&(nr=void 0),this.autoFreeze_&&freeze(nr,!0),rr){const ir=[],sr=[];getPlugin("Patches").generateReplacementPatches_(e,nr,ir,sr),rr(ir,sr)}return nr}else die(1,e)},this.produceWithPatches=(e,tr)=>{if(typeof e=="function")return(sr,...or)=>this.produceWithPatches(sr,ar=>e(ar,...or));let rr,nr;return[this.produce(e,tr,(sr,or)=>{rr=sr,nr=or}),rr,nr]},typeof(er==null?void 0:er.autoFreeze)=="boolean"&&this.setAutoFreeze(er.autoFreeze),typeof(er==null?void 0:er.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(er.useStrictShallowCopy),typeof(er==null?void 0:er.useStrictIteration)=="boolean"&&this.setUseStrictIteration(er.useStrictIteration)}createDraft(er){isDraftable(er)||die(8),isDraft(er)&&(er=current(er));const e=enterScope(this),tr=createProxy(er,void 0);return tr[DRAFT_STATE].isManual_=!0,leaveScope(e),tr}finishDraft(er,e){const tr=er&&er[DRAFT_STATE];(!tr||!tr.isManual_)&&die(9);const{scope_:rr}=tr;return usePatchesInScope(rr,e),processResult(void 0,rr)}setAutoFreeze(er){this.autoFreeze_=er}setUseStrictShallowCopy(er){this.useStrictShallowCopy_=er}setUseStrictIteration(er){this.useStrictIteration_=er}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(er,e){let tr;for(tr=e.length-1;tr>=0;tr--){const nr=e[tr];if(nr.path.length===0&&nr.op==="replace"){er=nr.value;break}}tr>-1&&(e=e.slice(tr+1));const rr=getPlugin("Patches").applyPatches_;return isDraft(er)?rr(er,e):this.produce(er,nr=>rr(nr,e))}};function createProxy(er,e){const tr=isMap(er)?getPlugin("MapSet").proxyMap_(er,e):isSet(er)?getPlugin("MapSet").proxySet_(er,e):createProxyProxy(er,e);return(e?e.scope_:getCurrentScope()).drafts_.push(tr),tr}function current(er){return isDraft(er)||die(10,er),currentImpl(er)}function currentImpl(er){if(!isDraftable(er)||isFrozen(er))return er;const e=er[DRAFT_STATE];let tr,rr=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,tr=shallowCopy(er,e.scope_.immer_.useStrictShallowCopy_),rr=e.scope_.immer_.shouldUseStrictIteration()}else tr=shallowCopy(er,!0);return each(tr,(nr,ir)=>{set(tr,nr,currentImpl(ir))},rr),e&&(e.finalized_=!1),tr}var immer=new Immer2;immer.produce;function castDraft(er){return er}var initialState$a={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$a,reducers:{setLegendSize(er,e){er.size.width=e.payload.width,er.size.height=e.payload.height},setLegendSettings(er,e){er.settings.align=e.payload.align,er.settings.layout=e.payload.layout,er.settings.verticalAlign=e.payload.verticalAlign,er.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(er,e){er.payload.push(e.payload)},prepare:prepareAutoBatched()},replaceLegendPayload:{reducer(er,e){var{prev:tr,next:rr}=e.payload,nr=current$1(er).payload.indexOf(tr);nr>-1&&(er.payload[nr]=rr)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(er,e){var tr=current$1(er).payload.indexOf(e.payload);tr>-1&&er.payload.splice(tr,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,replaceLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$l=["contextPayload"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$p.apply(null,arguments)}function ownKeys$y(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$y(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$y(Object(tr),!0).forEach(function(rr){_defineProperty$B(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$y(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$B(er,e,tr){return(e=_toPropertyKey$B(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$B(er){var e=_toPrimitive$B(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$B(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$l(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$l(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$l(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function defaultUniqBy$1(er){return er.value}function LegendContent(er){var{contextPayload:e}=er,tr=_objectWithoutProperties$l(er,_excluded$l),rr=getUniqPayload(e,er.payloadUniqBy,defaultUniqBy$1),nr=_objectSpread$y(_objectSpread$y({},tr),{},{payload:rr});return reactExports.isValidElement(er.content)?reactExports.cloneElement(er.content,nr):typeof er.content=="function"?reactExports.createElement(er.content,nr):reactExports.createElement(DefaultLegendContent,nr)}function getDefaultPosition(er,e,tr,rr,nr,ir){var{layout:sr,align:or,verticalAlign:ar}=e,lr,cr;return(!er||(er.left===void 0||er.left===null)&&(er.right===void 0||er.right===null))&&(or==="center"&&sr==="vertical"?lr={left:((rr||0)-ir.width)/2}:lr=or==="right"?{right:tr&&tr.right||0}:{left:tr&&tr.left||0}),(!er||(er.top===void 0||er.top===null)&&(er.bottom===void 0||er.bottom===null))&&(ar==="middle"?cr={top:((nr||0)-ir.height)/2}:cr=ar==="bottom"?{bottom:tr&&tr.bottom||0}:{top:tr&&tr.top||0}),_objectSpread$y(_objectSpread$y({},lr),cr)}function LegendSettingsDispatcher(er){var e=useAppDispatch();return reactExports.useEffect(()=>{e(setLegendSettings(er))},[e,er]),null}function LegendSizeDispatcher(er){var e=useAppDispatch();return reactExports.useEffect(()=>(e(setLegendSize(er)),()=>{e(setLegendSize({width:0,height:0}))}),[e,er]),null}function getWidthOrHeight(er,e,tr,rr){return er==="vertical"&&isNumber(e)?{height:e}:er==="horizontal"?{width:tr||rr}:null}var legendDefaultProps={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Legend(er){var e=resolveDefaultProps(er,legendDefaultProps),tr=useLegendPayload(),rr=useLegendPortal(),nr=useMargin(),{width:ir,height:sr,wrapperStyle:or,portal:ar}=e,[lr,cr]=useElementOffset([tr]),dr=useChartWidth(),hr=useChartHeight();if(dr==null||hr==null)return null;var ur=dr-((nr==null?void 0:nr.left)||0)-((nr==null?void 0:nr.right)||0),pr=getWidthOrHeight(e.layout,sr,ir,ur),mr=ar?or:_objectSpread$y(_objectSpread$y({position:"absolute",width:(pr==null?void 0:pr.width)||ir||"auto",height:(pr==null?void 0:pr.height)||sr||"auto"},getDefaultPosition(or,e,nr,dr,hr,lr)),or),fr=ar??rr;if(fr==null||tr==null)return null;var gr=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:mr,ref:cr},reactExports.createElement(LegendSettingsDispatcher,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!ar&&reactExports.createElement(LegendSizeDispatcher,{width:lr.width,height:lr.height}),reactExports.createElement(LegendContent,_extends$p({},e,pr,{margin:nr,chartWidth:dr,chartHeight:hr,contextPayload:tr})));return reactDomExports.createPortal(gr,fr)}Legend.displayName="Legend";function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$o.apply(null,arguments)}function ownKeys$x(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$x(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(tr),!0).forEach(function(rr){_defineProperty$A(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$x(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$A(er,e,tr){return(e=_toPropertyKey$A(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$A(er){var e=_toPrimitive$A(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$A(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function defaultFormatter(er){return Array.isArray(er)&&isNumOrStr(er[0])&&isNumOrStr(er[1])?er.join(" ~ "):er}var DefaultTooltipContent=er=>{var{separator:e=" : ",contentStyle:tr={},itemStyle:rr={},labelStyle:nr={},payload:ir,formatter:sr,itemSorter:or,wrapperClassName:ar,labelClassName:lr,label:cr,labelFormatter:dr,accessibilityLayer:hr=!1}=er,ur=()=>{if(ir&&ir.length){var Sr={padding:0,margin:0},jr=(or?sortBy$1(ir,or):ir).map((Cr,Pr)=>{if(Cr.type==="none")return null;var Rr=Cr.formatter||sr||defaultFormatter,{value:Lr,name:Ir}=Cr,Nr=Lr,Ar=Ir;if(Rr){var Dr=Rr(Lr,Ir,Cr,Pr,ir);if(Array.isArray(Dr))[Nr,Ar]=Dr;else if(Dr!=null)Nr=Dr;else return null}var Tr=_objectSpread$x({display:"block",paddingTop:4,paddingBottom:4,color:Cr.color||"#000"},rr);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Pr),style:Tr},isNumOrStr(Ar)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Ar):null,isNumOrStr(Ar)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Nr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},Cr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:Sr},jr)}return null},pr=_objectSpread$x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},tr),mr=_objectSpread$x({margin:0},nr),fr=!isNullish(cr),gr=fr?cr:"",yr=clsx("recharts-default-tooltip",ar),vr=clsx("recharts-tooltip-label",lr);fr&&dr&&ir!==void 0&&ir!==null&&(gr=dr(cr,ir));var br=hr?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$o({className:yr,style:pr},br),reactExports.createElement("p",{className:vr,style:mr},reactExports.isValidElement(gr)?gr:"".concat(gr)),ur())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(er){var{coordinate:e,translateX:tr,translateY:rr}=er;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(tr)&&e&&isNumber(e.x)&&tr>=e.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(tr)&&e&&isNumber(e.x)&&tr<e.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(rr)&&e&&isNumber(e.y)&&rr>=e.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(rr)&&e&&isNumber(e.y)&&rr<e.y})}function getTooltipTranslateXY(er){var{allowEscapeViewBox:e,coordinate:tr,key:rr,offsetTopLeft:nr,position:ir,reverseDirection:sr,tooltipDimension:or,viewBox:ar,viewBoxDimension:lr}=er;if(ir&&isNumber(ir[rr]))return ir[rr];var cr=tr[rr]-or-(nr>0?nr:0),dr=tr[rr]+nr;if(e[rr])return sr[rr]?cr:dr;var hr=ar[rr];if(hr==null)return 0;if(sr[rr]){var ur=cr,pr=hr;return ur<pr?Math.max(dr,hr):Math.max(cr,hr)}if(lr==null)return 0;var mr=dr+or,fr=hr+lr;return mr>fr?Math.max(cr,hr):Math.max(dr,hr)}function getTransformStyle(er){var{translateX:e,translateY:tr,useTranslate3d:rr}=er;return{transform:rr?"translate3d(".concat(e,"px, ").concat(tr,"px, 0)"):"translate(".concat(e,"px, ").concat(tr,"px)")}}function getTooltipTranslate(er){var{allowEscapeViewBox:e,coordinate:tr,offsetTopLeft:rr,position:nr,reverseDirection:ir,tooltipBox:sr,useTranslate3d:or,viewBox:ar}=er,lr,cr,dr;return sr.height>0&&sr.width>0&&tr?(cr=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:tr,key:"x",offsetTopLeft:rr,position:nr,reverseDirection:ir,tooltipDimension:sr.width,viewBox:ar,viewBoxDimension:ar.width}),dr=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:tr,key:"y",offsetTopLeft:rr,position:nr,reverseDirection:ir,tooltipDimension:sr.height,viewBox:ar,viewBoxDimension:ar.height}),lr=getTransformStyle({translateX:cr,translateY:dr,useTranslate3d:or})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:cr,translateY:dr,coordinate:tr})}}function ownKeys$w(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$w(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(tr),!0).forEach(function(rr){_defineProperty$z(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$w(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$z(er,e,tr){return(e=_toPropertyKey$z(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$z(er){var e=_toPrimitive$z(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$z(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$z(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$z(this,"handleKeyDown",e=>{if(e.key==="Escape"){var tr,rr,nr,ir;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(tr=(rr=this.props.coordinate)===null||rr===void 0?void 0:rr.x)!==null&&tr!==void 0?tr:0,y:(nr=(ir=this.props.coordinate)===null||ir===void 0?void 0:ir.y)!==null&&nr!==void 0?nr:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,tr;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((tr=this.props.coordinate)===null||tr===void 0?void 0:tr.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:tr,animationDuration:rr,animationEasing:nr,children:ir,coordinate:sr,hasPayload:or,isAnimationActive:ar,offset:lr,position:cr,reverseDirection:dr,useTranslate3d:hr,viewBox:ur,wrapperStyle:pr,lastBoundingBox:mr,innerRef:fr,hasPortalFromProps:gr}=this.props,{cssClasses:yr,cssProperties:vr}=getTooltipTranslate({allowEscapeViewBox:tr,coordinate:sr,offsetTopLeft:lr,position:cr,reverseDirection:dr,tooltipBox:{height:mr.height,width:mr.width},useTranslate3d:hr,viewBox:ur}),br=gr?{}:_objectSpread$w(_objectSpread$w({transition:ar&&e?"transform ".concat(rr,"ms ").concat(nr):void 0},vr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&or?"visible":"hidden",position:"absolute",top:0,left:0}),Sr=_objectSpread$w(_objectSpread$w({},br),{},{visibility:!this.state.dismissed&&e&&or?"visible":"hidden"},pr);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:yr,style:Sr,ref:fr},ir)}}var useAccessibilityLayer=()=>{var er;return(er=useAppSelector(e=>e.rootProps.accessibilityLayer))!==null&&er!==void 0?er:!0};function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$n.apply(null,arguments)}function ownKeys$v(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$v(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(tr),!0).forEach(function(rr){_defineProperty$y(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$v(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$y(er,e,tr){return(e=_toPropertyKey$y(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$y(er){var e=_toPrimitive$y(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$y(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=er=>isWellBehavedNumber(er.x)&&isWellBehavedNumber(er.y),areaDefined=er=>er.base!=null&&defined(er.base)&&defined(er),getX=er=>er.x,getY=er=>er.y,getCurveFactory=(er,e)=>{if(typeof er=="function")return er;var tr="curve".concat(upperFirst(er));return(tr==="curveMonotone"||tr==="curveBump")&&e?CURVE_FACTORIES["".concat(tr).concat(e==="vertical"?"Y":"X")]:CURVE_FACTORIES[tr]||curveLinear},getPath$1=er=>{var{type:e="linear",points:tr=[],baseLine:rr,layout:nr,connectNulls:ir=!1}=er,sr=getCurveFactory(e,nr),or=ir?tr.filter(defined):tr,ar;if(Array.isArray(rr)){var lr=tr.map((ur,pr)=>_objectSpread$v(_objectSpread$v({},ur),{},{base:rr[pr]}));nr==="vertical"?ar=shapeArea().y(getY).x1(getX).x0(ur=>ur.base.x):ar=shapeArea().x(getX).y1(getY).y0(ur=>ur.base.y);var cr=ar.defined(areaDefined).curve(sr),dr=ir?lr.filter(areaDefined):lr;return cr(dr)}nr==="vertical"&&isNumber(rr)?ar=shapeArea().y(getY).x1(getX).x0(rr):isNumber(rr)?ar=shapeArea().x(getX).y1(getY).y0(rr):ar=shapeLine().x(getX).y(getY);var hr=ar.defined(defined).curve(sr);return hr(or)},Curve=er=>{var{className:e,points:tr,path:rr,pathRef:nr}=er,ir=useChartLayout();if((!tr||!tr.length)&&!rr)return null;var sr={type:er.type,points:er.points,baseLine:er.baseLine,layout:er.layout||ir,connectNulls:er.connectNulls},or=tr&&tr.length?getPath$1(sr):rr;return reactExports.createElement("path",_extends$n({},svgPropertiesNoEvents(er),adaptEventHandlers(er),{className:clsx("recharts-curve",e),d:or===null?void 0:or,ref:nr}))},_excluded$k=["x","y","top","left","width","height","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$m.apply(null,arguments)}function ownKeys$u(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$u(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(tr),!0).forEach(function(rr){_defineProperty$x(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$u(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$x(er,e,tr){return(e=_toPropertyKey$x(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$x(er){var e=_toPrimitive$x(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$x(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$k(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$k(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$k(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var getPath=(er,e,tr,rr,nr,ir)=>"M".concat(er,",").concat(nr,"v").concat(rr,"M").concat(ir,",").concat(e,"h").concat(tr),Cross=er=>{var{x:e=0,y:tr=0,top:rr=0,left:nr=0,width:ir=0,height:sr=0,className:or}=er,ar=_objectWithoutProperties$k(er,_excluded$k),lr=_objectSpread$u({x:e,y:tr,top:rr,left:nr,width:ir,height:sr},ar);return!isNumber(e)||!isNumber(tr)||!isNumber(ir)||!isNumber(sr)||!isNumber(rr)||!isNumber(nr)?null:reactExports.createElement("path",_extends$m({},svgPropertiesAndEvents(lr),{className:clsx("recharts-cross",or),d:getPath(e,tr,ir,sr,rr,nr)}))};function getCursorRectangle(er,e,tr,rr){var nr=rr/2;return{stroke:"none",fill:"#ccc",x:er==="horizontal"?e.x-nr:tr.left+.5,y:er==="horizontal"?tr.top+.5:e.y-nr,width:er==="horizontal"?rr:tr.width-1,height:er==="horizontal"?tr.height-1:rr}}function ownKeys$t(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$t(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(tr),!0).forEach(function(rr){_defineProperty$w(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$t(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$w(er,e,tr){return(e=_toPropertyKey$w(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$w(er){var e=_toPrimitive$w(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$w(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var getDashCase=er=>er.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),getTransitionVal=(er,e,tr)=>er.map(rr=>"".concat(getDashCase(rr)," ").concat(e,"ms ").concat(tr)).join(","),getIntersectionKeys=(er,e)=>[Object.keys(er),Object.keys(e)].reduce((tr,rr)=>tr.filter(nr=>rr.includes(nr))),mapObject=(er,e)=>Object.keys(e).reduce((tr,rr)=>_objectSpread$t(_objectSpread$t({},tr),{},{[rr]:er(rr,e[rr])}),{});function ownKeys$s(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$s(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(tr),!0).forEach(function(rr){_defineProperty$v(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$s(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$v(er,e,tr){return(e=_toPropertyKey$v(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$v(er){var e=_toPrimitive$v(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$v(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var alpha=(er,e,tr)=>er+(e-er)*tr,needContinue=er=>{var{from:e,to:tr}=er;return e!==tr},calStepperVals=(er,e,tr)=>{var rr=mapObject((nr,ir)=>{if(needContinue(ir)){var[sr,or]=er(ir.from,ir.to,ir.velocity);return _objectSpread$s(_objectSpread$s({},ir),{},{from:sr,velocity:or})}return ir},e);return tr<1?mapObject((nr,ir)=>needContinue(ir)&&rr[nr]!=null?_objectSpread$s(_objectSpread$s({},ir),{},{velocity:alpha(ir.velocity,rr[nr].velocity,tr),from:alpha(ir.from,rr[nr].from,tr)}):ir,e):calStepperVals(er,rr,tr-1)};function createStepperUpdate(er,e,tr,rr,nr,ir){var sr,or=rr.reduce((hr,ur)=>_objectSpread$s(_objectSpread$s({},hr),{},{[ur]:{from:er[ur],velocity:0,to:e[ur]}}),{}),ar=()=>mapObject((hr,ur)=>ur.from,or),lr=()=>!Object.values(or).filter(needContinue).length,cr=null,dr=hr=>{sr||(sr=hr);var ur=hr-sr,pr=ur/tr.dt;or=calStepperVals(tr,or,pr),nr(_objectSpread$s(_objectSpread$s(_objectSpread$s({},er),e),ar())),sr=hr,lr()||(cr=ir.setTimeout(dr))};return()=>(cr=ir.setTimeout(dr),()=>{var hr;(hr=cr)===null||hr===void 0||hr()})}function createTimingUpdate(er,e,tr,rr,nr,ir,sr){var or=null,ar=nr.reduce((dr,hr)=>{var ur=er[hr],pr=e[hr];return ur==null||pr==null?dr:_objectSpread$s(_objectSpread$s({},dr),{},{[hr]:[ur,pr]})},{}),lr,cr=dr=>{lr||(lr=dr);var hr=(dr-lr)/rr,ur=mapObject((mr,fr)=>alpha(...fr,tr(hr)),ar);if(ir(_objectSpread$s(_objectSpread$s(_objectSpread$s({},er),e),ur)),hr<1)or=sr.setTimeout(cr);else{var pr=mapObject((mr,fr)=>alpha(...fr,tr(1)),ar);ir(_objectSpread$s(_objectSpread$s(_objectSpread$s({},er),e),pr))}};return()=>(or=sr.setTimeout(cr),()=>{var dr;(dr=or)===null||dr===void 0||dr()})}const configUpdate=(er,e,tr,rr,nr,ir)=>{var sr=getIntersectionKeys(er,e);return tr==null?()=>(nr(_objectSpread$s(_objectSpread$s({},er),e)),()=>{}):tr.isStepper===!0?createStepperUpdate(er,e,tr,sr,nr,ir):createTimingUpdate(er,e,tr,rr,sr,nr,ir)};var ACCURACY=1e-4,cubicBezierFactor=(er,e)=>[0,3*er,3*e-6*er,3*er-3*e+1],evaluatePolynomial=(er,e)=>er.map((tr,rr)=>tr*e**rr).reduce((tr,rr)=>tr+rr),cubicBezier=(er,e)=>tr=>{var rr=cubicBezierFactor(er,e);return evaluatePolynomial(rr,tr)},derivativeCubicBezier=(er,e)=>tr=>{var rr=cubicBezierFactor(er,e),nr=[...rr.map((ir,sr)=>ir*sr).slice(1),0];return evaluatePolynomial(nr,tr)},parseCubicBezier=er=>{var e,tr=er.split("(");if(tr.length!==2||tr[0]!=="cubic-bezier")return null;var rr=(e=tr[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(rr==null||rr.length!==4)return null;var nr=rr.map(ir=>parseFloat(ir));return[nr[0],nr[1],nr[2],nr[3]]},getBezierCoordinates=function er(){for(var e=arguments.length,tr=new Array(e),rr=0;rr<e;rr++)tr[rr]=arguments[rr];if(tr.length===1)switch(tr[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var nr=parseCubicBezier(tr[0]);if(nr)return nr}}return tr.length===4?tr:[0,0,1,1]},createBezierEasing=(er,e,tr,rr)=>{var nr=cubicBezier(er,tr),ir=cubicBezier(e,rr),sr=derivativeCubicBezier(er,tr),or=lr=>lr>1?1:lr<0?0:lr,ar=lr=>{for(var cr=lr>1?1:lr,dr=cr,hr=0;hr<8;++hr){var ur=nr(dr)-cr,pr=sr(dr);if(Math.abs(ur-cr)<ACCURACY||pr<ACCURACY)return ir(dr);dr=or(dr-ur/pr)}return ir(dr)};return ar.isStepper=!1,ar},configBezier=function er(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function er(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:tr=100,damping:rr=8,dt:nr=17}=e,ir=(sr,or,ar)=>{var lr=-(sr-or)*tr,cr=ar*rr,dr=ar+(lr-cr)*nr/1e3,hr=ar*nr/1e3+sr;return Math.abs(hr-or)<ACCURACY&&Math.abs(dr)<ACCURACY?[or,0]:[hr,dr]};return ir.isStepper=!0,ir.dt=nr,ir},configEasing=er=>{if(typeof er=="string")switch(er){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(er);case"spring":return configSpring();default:if(er.split("(")[0]==="cubic-bezier")return configBezier(er)}return typeof er=="function"?er:null};function createAnimateManager(er){var e,tr=()=>null,rr=!1,nr=null,ir=sr=>{if(!rr){if(Array.isArray(sr)){if(!sr.length)return;var or=sr,[ar,...lr]=or;if(typeof ar=="number"){nr=er.setTimeout(ir.bind(null,lr),ar);return}ir(ar),nr=er.setTimeout(ir.bind(null,lr));return}typeof sr=="string"&&(e=sr,tr(e)),typeof sr=="object"&&(e=sr,tr(e)),typeof sr=="function"&&sr()}};return{stop:()=>{rr=!0},start:sr=>{rr=!1,nr&&(nr(),nr=null),ir(sr)},subscribe:sr=>(tr=sr,()=>{tr=()=>null}),getTimeoutController:()=>er}}class RequestAnimationFrameTimeoutController{setTimeout(e){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=performance.now(),nr=null,ir=sr=>{sr-rr>=tr?e(sr):typeof requestAnimationFrame=="function"&&(nr=requestAnimationFrame(ir))};return nr=requestAnimationFrame(ir),()=>{nr!=null&&cancelAnimationFrame(nr)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(er,e){var tr=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>e??tr(er),[er,e,tr])}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(er){var e=resolveDefaultProps(er,defaultJavascriptAnimateProps),{isActive:tr,canBegin:rr,duration:nr,easing:ir,begin:sr,onAnimationEnd:or,onAnimationStart:ar,children:lr}=e,cr=tr==="auto"?!Global.isSsr:tr,dr=useAnimationManager(e.animationId,e.animationManager),[hr,ur]=reactExports.useState(cr?from:to),pr=reactExports.useRef(null);return reactExports.useEffect(()=>{cr||ur(to)},[cr]),reactExports.useEffect(()=>{if(!cr||!rr)return noop$2;var mr=configUpdate(from,to,configEasing(ir),nr,ur,dr.getTimeoutController()),fr=()=>{pr.current=mr()};return dr.start([ar,sr,fr,nr,or]),()=>{dr.stop(),pr.current&&pr.current(),or()}},[cr,rr,nr,ir,sr,ar,or,dr]),lr(hr.t)}function useAnimationId(er){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",tr=reactExports.useRef(uniqueId(e)),rr=reactExports.useRef(er);return rr.current!==er&&(tr.current=uniqueId(e),rr.current=er),tr.current}var _excluded$j=["radius"],_excluded2$a=["radius"],_templateObject$2,_templateObject2$2,_templateObject3$2,_templateObject4$2,_templateObject5$2,_templateObject6$1,_templateObject7$1,_templateObject8,_templateObject9,_templateObject0;function ownKeys$r(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$r(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(tr),!0).forEach(function(rr){_defineProperty$u(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$r(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$u(er,e,tr){return(e=_toPropertyKey$u(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$u(er){var e=_toPrimitive$u(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$u(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$l.apply(null,arguments)}function _objectWithoutProperties$j(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$j(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$j(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function _taggedTemplateLiteral$2(er,e){return e||(e=er.slice(0)),Object.freeze(Object.defineProperties(er,{raw:{value:Object.freeze(e)}}))}var getRectanglePath=(er,e,tr,rr,nr)=>{var ir=round$1(tr),sr=round$1(rr),or=Math.min(Math.abs(ir)/2,Math.abs(sr)/2),ar=sr>=0?1:-1,lr=ir>=0?1:-1,cr=sr>=0&&ir>=0||sr<0&&ir<0?1:0,dr;if(or>0&&nr instanceof Array){for(var hr=[0,0,0,0],ur=0,pr=4;ur<pr;ur++)hr[ur]=nr[ur]>or?or:nr[ur];dr=roundTemplateLiteral(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral$2(["M",",",""])),er,e+ar*hr[0]),hr[0]>0&&(dr+=roundTemplateLiteral(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",",",",",""])),hr[0],hr[0],cr,er+lr*hr[0],e)),dr+=roundTemplateLiteral(_templateObject3$2||(_templateObject3$2=_taggedTemplateLiteral$2(["L ",",",""])),er+tr-lr*hr[1],e),hr[1]>0&&(dr+=roundTemplateLiteral(_templateObject4$2||(_templateObject4$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),hr[1],hr[1],cr,er+tr,e+ar*hr[1])),dr+=roundTemplateLiteral(_templateObject5$2||(_templateObject5$2=_taggedTemplateLiteral$2(["L ",",",""])),er+tr,e+rr-ar*hr[2]),hr[2]>0&&(dr+=roundTemplateLiteral(_templateObject6$1||(_templateObject6$1=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),hr[2],hr[2],cr,er+tr-lr*hr[2],e+rr)),dr+=roundTemplateLiteral(_templateObject7$1||(_templateObject7$1=_taggedTemplateLiteral$2(["L ",",",""])),er+lr*hr[3],e+rr),hr[3]>0&&(dr+=roundTemplateLiteral(_templateObject8||(_templateObject8=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),hr[3],hr[3],cr,er,e+rr-ar*hr[3])),dr+="Z"}else if(or>0&&nr===+nr&&nr>0){var mr=Math.min(or,nr);dr=roundTemplateLiteral(_templateObject9||(_templateObject9=_taggedTemplateLiteral$2(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),er,e+ar*mr,mr,mr,cr,er+lr*mr,e,er+tr-lr*mr,e,mr,mr,cr,er+tr,e+ar*mr,er+tr,e+rr-ar*mr,mr,mr,cr,er+tr-lr*mr,e+rr,er+lr*mr,e+rr,mr,mr,cr,er,e+rr-ar*mr)}else dr=roundTemplateLiteral(_templateObject0||(_templateObject0=_taggedTemplateLiteral$2(["M ",","," h "," v "," h "," Z"])),er,e,tr,rr,-tr);return dr},defaultRectangleProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=er=>{var e=resolveDefaultProps(er,defaultRectangleProps),tr=reactExports.useRef(null),[rr,nr]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tr.current&&tr.current.getTotalLength)try{var wr=tr.current.getTotalLength();wr&&nr(wr)}catch{}},[]);var{x:ir,y:sr,width:or,height:ar,radius:lr,className:cr}=e,{animationEasing:dr,animationDuration:hr,animationBegin:ur,isAnimationActive:pr,isUpdateAnimationActive:mr}=e,fr=reactExports.useRef(or),gr=reactExports.useRef(ar),yr=reactExports.useRef(ir),vr=reactExports.useRef(sr),br=reactExports.useMemo(()=>({x:ir,y:sr,width:or,height:ar,radius:lr}),[ir,sr,or,ar,lr]),Sr=useAnimationId(br,"rectangle-");if(ir!==+ir||sr!==+sr||or!==+or||ar!==+ar||or===0||ar===0)return null;var jr=clsx("recharts-rectangle",cr);if(!mr){var Cr=svgPropertiesAndEvents(e),{radius:Pr}=Cr,Rr=_objectWithoutProperties$j(Cr,_excluded$j);return reactExports.createElement("path",_extends$l({},Rr,{x:round$1(ir),y:round$1(sr),width:round$1(or),height:round$1(ar),radius:typeof lr=="number"?lr:void 0,className:jr,d:getRectanglePath(ir,sr,or,ar,lr)}))}var Lr=fr.current,Ir=gr.current,Nr=yr.current,Ar=vr.current,Dr="0px ".concat(rr===-1?1:rr,"px"),Tr="".concat(rr,"px 0px"),_r=getTransitionVal(["strokeDasharray"],hr,typeof dr=="string"?dr:defaultRectangleProps.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:Sr,key:Sr,canBegin:rr>0,duration:hr,easing:dr,isActive:mr,begin:ur},wr=>{var Er=interpolate$1(Lr,or,wr),xr=interpolate$1(Ir,ar,wr),Mr=interpolate$1(Nr,ir,wr),zr=interpolate$1(Ar,sr,wr);tr.current&&(fr.current=Er,gr.current=xr,yr.current=Mr,vr.current=zr);var Or;pr?wr>0?Or={transition:_r,strokeDasharray:Tr}:Or={strokeDasharray:Dr}:Or={strokeDasharray:Tr};var Br=svgPropertiesAndEvents(e),{radius:Ur}=Br,qr=_objectWithoutProperties$j(Br,_excluded2$a);return reactExports.createElement("path",_extends$l({},qr,{radius:typeof lr=="number"?lr:void 0,className:jr,d:getRectanglePath(Mr,zr,Er,xr,lr),ref:tr,style:_objectSpread$r(_objectSpread$r({},Or),e.style)}))})};function ownKeys$q(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$q(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(tr),!0).forEach(function(rr){_defineProperty$t(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$q(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$t(er,e,tr){return(e=_toPropertyKey$t(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$t(er){var e=_toPrimitive$t(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$t(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var RADIAN=Math.PI/180,radianToDegree=er=>er*180/Math.PI,polarToCartesian=(er,e,tr,rr)=>({x:er+Math.cos(-RADIAN*rr)*tr,y:e+Math.sin(-RADIAN*rr)*tr}),getMaxRadius=function er(e,tr){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(rr.left||0)-(rr.right||0)),Math.abs(tr-(rr.top||0)-(rr.bottom||0)))/2},distanceBetweenPoints=(er,e)=>{var{x:tr,y:rr}=er,{x:nr,y:ir}=e;return Math.sqrt((tr-nr)**2+(rr-ir)**2)},getAngleOfPoint=(er,e)=>{var{x:tr,y:rr}=er,{cx:nr,cy:ir}=e,sr=distanceBetweenPoints({x:tr,y:rr},{x:nr,y:ir});if(sr<=0)return{radius:sr,angle:0};var or=(tr-nr)/sr,ar=Math.acos(or);return rr>ir&&(ar=2*Math.PI-ar),{radius:sr,angle:radianToDegree(ar),angleInRadian:ar}},formatAngleOfSector=er=>{var{startAngle:e,endAngle:tr}=er,rr=Math.floor(e/360),nr=Math.floor(tr/360),ir=Math.min(rr,nr);return{startAngle:e-ir*360,endAngle:tr-ir*360}},reverseFormatAngleOfSector=(er,e)=>{var{startAngle:tr,endAngle:rr}=e,nr=Math.floor(tr/360),ir=Math.floor(rr/360),sr=Math.min(nr,ir);return er+sr*360},inRangeOfSector=(er,e)=>{var{chartX:tr,chartY:rr}=er,{radius:nr,angle:ir}=getAngleOfPoint({x:tr,y:rr},e),{innerRadius:sr,outerRadius:or}=e;if(nr<sr||nr>or||nr===0)return null;var{startAngle:ar,endAngle:lr}=formatAngleOfSector(e),cr=ir,dr;if(ar<=lr){for(;cr>lr;)cr-=360;for(;cr<ar;)cr+=360;dr=cr>=ar&&cr<=lr}else{for(;cr>ar;)cr-=360;for(;cr<lr;)cr+=360;dr=cr>=lr&&cr<=ar}return dr?_objectSpread$q(_objectSpread$q({},e),{},{radius:nr,angle:reverseFormatAngleOfSector(cr,e)}):null};function getRadialCursorPoints(er){var{cx:e,cy:tr,radius:rr,startAngle:nr,endAngle:ir}=er,sr=polarToCartesian(e,tr,rr,nr),or=polarToCartesian(e,tr,rr,ir);return{points:[sr,or],cx:e,cy:tr,radius:rr,startAngle:nr,endAngle:ir}}var _templateObject$1,_templateObject2$1,_templateObject3$1,_templateObject4$1,_templateObject5$1,_templateObject6,_templateObject7;function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$k.apply(null,arguments)}function _taggedTemplateLiteral$1(er,e){return e||(e=er.slice(0)),Object.freeze(Object.defineProperties(er,{raw:{value:Object.freeze(e)}}))}var getDeltaAngle$1=(er,e)=>{var tr=mathSign(e-er),rr=Math.min(Math.abs(e-er),359.999);return tr*rr},getTangentCircle=er=>{var{cx:e,cy:tr,radius:rr,angle:nr,sign:ir,isExternal:sr,cornerRadius:or,cornerIsExternal:ar}=er,lr=or*(sr?1:-1)+rr,cr=Math.asin(or/lr)/RADIAN,dr=ar?nr:nr+ir*cr,hr=polarToCartesian(e,tr,lr,dr),ur=polarToCartesian(e,tr,rr,dr),pr=ar?nr-ir*cr:nr,mr=polarToCartesian(e,tr,lr*Math.cos(cr*RADIAN),pr);return{center:hr,circleTangency:ur,lineTangency:mr,theta:cr}},getSectorPath=er=>{var{cx:e,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:ir,endAngle:sr}=er,or=getDeltaAngle$1(ir,sr),ar=ir+or,lr=polarToCartesian(e,tr,nr,ir),cr=polarToCartesian(e,tr,nr,ar),dr=roundTemplateLiteral(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral$1(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),lr.x,lr.y,nr,nr,+(Math.abs(or)>180),+(ir>ar),cr.x,cr.y);if(rr>0){var hr=polarToCartesian(e,tr,rr,ir),ur=polarToCartesian(e,tr,rr,ar);dr+=roundTemplateLiteral(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral$1(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),ur.x,ur.y,rr,rr,+(Math.abs(or)>180),+(ir<=ar),hr.x,hr.y)}else dr+=roundTemplateLiteral(_templateObject3$1||(_templateObject3$1=_taggedTemplateLiteral$1(["L ",","," Z"])),e,tr);return dr},getSectorWithCorner=er=>{var{cx:e,cy:tr,innerRadius:rr,outerRadius:nr,cornerRadius:ir,forceCornerRadius:sr,cornerIsExternal:or,startAngle:ar,endAngle:lr}=er,cr=mathSign(lr-ar),{circleTangency:dr,lineTangency:hr,theta:ur}=getTangentCircle({cx:e,cy:tr,radius:nr,angle:ar,sign:cr,cornerRadius:ir,cornerIsExternal:or}),{circleTangency:pr,lineTangency:mr,theta:fr}=getTangentCircle({cx:e,cy:tr,radius:nr,angle:lr,sign:-cr,cornerRadius:ir,cornerIsExternal:or}),gr=or?Math.abs(ar-lr):Math.abs(ar-lr)-ur-fr;if(gr<0)return sr?roundTemplateLiteral(_templateObject4$1||(_templateObject4$1=_taggedTemplateLiteral$1(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),hr.x,hr.y,ir,ir,ir*2,ir,ir,-ir*2):getSectorPath({cx:e,cy:tr,innerRadius:rr,outerRadius:nr,startAngle:ar,endAngle:lr});var yr=roundTemplateLiteral(_templateObject5$1||(_templateObject5$1=_taggedTemplateLiteral$1(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),hr.x,hr.y,ir,ir,+(cr<0),dr.x,dr.y,nr,nr,+(gr>180),+(cr<0),pr.x,pr.y,ir,ir,+(cr<0),mr.x,mr.y);if(rr>0){var{circleTangency:vr,lineTangency:br,theta:Sr}=getTangentCircle({cx:e,cy:tr,radius:rr,angle:ar,sign:cr,isExternal:!0,cornerRadius:ir,cornerIsExternal:or}),{circleTangency:jr,lineTangency:Cr,theta:Pr}=getTangentCircle({cx:e,cy:tr,radius:rr,angle:lr,sign:-cr,isExternal:!0,cornerRadius:ir,cornerIsExternal:or}),Rr=or?Math.abs(ar-lr):Math.abs(ar-lr)-Sr-Pr;if(Rr<0&&ir===0)return"".concat(yr,"L").concat(e,",").concat(tr,"Z");yr+=roundTemplateLiteral(_templateObject6||(_templateObject6=_taggedTemplateLiteral$1(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),Cr.x,Cr.y,ir,ir,+(cr<0),jr.x,jr.y,rr,rr,+(Rr>180),+(cr>0),vr.x,vr.y,ir,ir,+(cr<0),br.x,br.y)}else yr+=roundTemplateLiteral(_templateObject7||(_templateObject7=_taggedTemplateLiteral$1(["L",",","Z"])),e,tr);return yr},defaultSectorProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=er=>{var e=resolveDefaultProps(er,defaultSectorProps),{cx:tr,cy:rr,innerRadius:nr,outerRadius:ir,cornerRadius:sr,forceCornerRadius:or,cornerIsExternal:ar,startAngle:lr,endAngle:cr,className:dr}=e;if(ir<nr||lr===cr)return null;var hr=clsx("recharts-sector",dr),ur=ir-nr,pr=getPercentValue(sr,ur,0,!0),mr;return pr>0&&Math.abs(lr-cr)<360?mr=getSectorWithCorner({cx:tr,cy:rr,innerRadius:nr,outerRadius:ir,cornerRadius:Math.min(pr,ur/2),forceCornerRadius:or,cornerIsExternal:ar,startAngle:lr,endAngle:cr}):mr=getSectorPath({cx:tr,cy:rr,innerRadius:nr,outerRadius:ir,startAngle:lr,endAngle:cr}),reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(e),{className:hr,d:mr}))};function getCursorPoints(er,e,tr){if(er==="horizontal")return[{x:e.x,y:tr.top},{x:e.x,y:tr.top+tr.height}];if(er==="vertical")return[{x:tr.left,y:e.y},{x:tr.left+tr.width,y:e.y}];if(isPolarCoordinate(e)){if(er==="centric"){var{cx:rr,cy:nr,innerRadius:ir,outerRadius:sr,angle:or}=e,ar=polarToCartesian(rr,nr,ir,or),lr=polarToCartesian(rr,nr,sr,or);return[{x:ar.x,y:ar.y},{x:lr.x,y:lr.y}]}return getRadialCursorPoints(e)}}var range$4={},toFinite={},toNumber={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isSymbol;function tr(rr){return e.isSymbol(rr)?NaN:Number(rr)}er.toNumber=tr})(toNumber);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=toNumber;function tr(rr){return rr?(rr=e.toNumber(rr),rr===1/0||rr===-1/0?(rr<0?-1:1)*Number.MAX_VALUE:rr===rr?rr:0):rr===0?rr:0}er.toFinite=tr})(toFinite);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=isIterateeCall,tr=toFinite;function rr(nr,ir,sr){sr&&typeof sr!="number"&&e.isIterateeCall(nr,ir,sr)&&(ir=sr=void 0),nr=tr.toFinite(nr),ir===void 0?(ir=nr,nr=0):ir=tr.toFinite(ir),sr=sr===void 0?nr<ir?1:-1:tr.toFinite(sr);const or=Math.max(Math.ceil((ir-nr)/(sr||1)),0),ar=new Array(or);for(let lr=0;lr<or;lr++)ar[lr]=nr,nr+=sr;return ar}er.range=rr})(range$4);var range$2=range$4.range;const range$3=getDefaultExportFromCjs(range$2);function ascending(er,e){return er==null||e==null?NaN:er<e?-1:er>e?1:er>=e?0:NaN}function descending(er,e){return er==null||e==null?NaN:e<er?-1:e>er?1:e>=er?0:NaN}function bisector(er){let e,tr,rr;er.length!==2?(e=ascending,tr=(or,ar)=>ascending(er(or),ar),rr=(or,ar)=>er(or)-ar):(e=er===ascending||er===descending?er:zero$1,tr=er,rr=er);function nr(or,ar,lr=0,cr=or.length){if(lr<cr){if(e(ar,ar)!==0)return cr;do{const dr=lr+cr>>>1;tr(or[dr],ar)<0?lr=dr+1:cr=dr}while(lr<cr)}return lr}function ir(or,ar,lr=0,cr=or.length){if(lr<cr){if(e(ar,ar)!==0)return cr;do{const dr=lr+cr>>>1;tr(or[dr],ar)<=0?lr=dr+1:cr=dr}while(lr<cr)}return lr}function sr(or,ar,lr=0,cr=or.length){const dr=nr(or,ar,lr,cr-1);return dr>lr&&rr(or[dr-1],ar)>-rr(or[dr],ar)?dr-1:dr}return{left:nr,center:sr,right:ir}}function zero$1(){return 0}function number$2(er){return er===null?NaN:+er}function*numbers(er,e){for(let tr of er)tr!=null&&(tr=+tr)>=tr&&(yield tr)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,tr=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tr}}),e!=null)for(const[rr,nr]of e)this.set(rr,nr)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,tr){return super.set(intern_set(this,e),tr)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:er,_key:e},tr){const rr=e(tr);return er.has(rr)?er.get(rr):tr}function intern_set({_intern:er,_key:e},tr){const rr=e(tr);return er.has(rr)?er.get(rr):(er.set(rr,tr),tr)}function intern_delete({_intern:er,_key:e},tr){const rr=e(tr);return er.has(rr)&&(tr=er.get(rr),er.delete(rr)),tr}function keyof(er){return er!==null&&typeof er=="object"?er.valueOf():er}function compareDefined(er=ascending){if(er===ascending)return ascendingDefined;if(typeof er!="function")throw new TypeError("compare is not a function");return(e,tr)=>{const rr=er(e,tr);return rr||rr===0?rr:(er(tr,tr)===0)-(er(e,e)===0)}}function ascendingDefined(er,e){return(er==null||!(er>=er))-(e==null||!(e>=e))||(er<e?-1:er>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(er,e,tr){const rr=(e-er)/Math.max(0,tr),nr=Math.floor(Math.log10(rr)),ir=rr/Math.pow(10,nr),sr=ir>=e10?10:ir>=e5?5:ir>=e2?2:1;let or,ar,lr;return nr<0?(lr=Math.pow(10,-nr)/sr,or=Math.round(er*lr),ar=Math.round(e*lr),or/lr<er&&++or,ar/lr>e&&--ar,lr=-lr):(lr=Math.pow(10,nr)*sr,or=Math.round(er/lr),ar=Math.round(e/lr),or*lr<er&&++or,ar*lr>e&&--ar),ar<or&&.5<=tr&&tr<2?tickSpec(er,e,tr*2):[or,ar,lr]}function ticks(er,e,tr){if(e=+e,er=+er,tr=+tr,!(tr>0))return[];if(er===e)return[er];const rr=e<er,[nr,ir,sr]=rr?tickSpec(e,er,tr):tickSpec(er,e,tr);if(!(ir>=nr))return[];const or=ir-nr+1,ar=new Array(or);if(rr)if(sr<0)for(let lr=0;lr<or;++lr)ar[lr]=(ir-lr)/-sr;else for(let lr=0;lr<or;++lr)ar[lr]=(ir-lr)*sr;else if(sr<0)for(let lr=0;lr<or;++lr)ar[lr]=(nr+lr)/-sr;else for(let lr=0;lr<or;++lr)ar[lr]=(nr+lr)*sr;return ar}function tickIncrement(er,e,tr){return e=+e,er=+er,tr=+tr,tickSpec(er,e,tr)[2]}function tickStep(er,e,tr){e=+e,er=+er,tr=+tr;const rr=e<er,nr=rr?tickIncrement(e,er,tr):tickIncrement(er,e,tr);return(rr?-1:1)*(nr<0?1/-nr:nr)}function max$1(er,e){let tr;for(const rr of er)rr!=null&&(tr<rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function min(er,e){let tr;for(const rr of er)rr!=null&&(tr>rr||tr===void 0&&rr>=rr)&&(tr=rr);return tr}function quickselect(er,e,tr=0,rr=1/0,nr){if(e=Math.floor(e),tr=Math.floor(Math.max(0,tr)),rr=Math.floor(Math.min(er.length-1,rr)),!(tr<=e&&e<=rr))return er;for(nr=nr===void 0?ascendingDefined:compareDefined(nr);rr>tr;){if(rr-tr>600){const ar=rr-tr+1,lr=e-tr+1,cr=Math.log(ar),dr=.5*Math.exp(2*cr/3),hr=.5*Math.sqrt(cr*dr*(ar-dr)/ar)*(lr-ar/2<0?-1:1),ur=Math.max(tr,Math.floor(e-lr*dr/ar+hr)),pr=Math.min(rr,Math.floor(e+(ar-lr)*dr/ar+hr));quickselect(er,e,ur,pr,nr)}const ir=er[e];let sr=tr,or=rr;for(swap(er,tr,e),nr(er[rr],ir)>0&&swap(er,tr,rr);sr<or;){for(swap(er,sr,or),++sr,--or;nr(er[sr],ir)<0;)++sr;for(;nr(er[or],ir)>0;)--or}nr(er[tr],ir)===0?swap(er,tr,or):(++or,swap(er,or,rr)),or<=e&&(tr=or+1),e<=or&&(rr=or-1)}return er}function swap(er,e,tr){const rr=er[e];er[e]=er[tr],er[tr]=rr}function quantile$1(er,e,tr){if(er=Float64Array.from(numbers(er)),!(!(rr=er.length)||isNaN(e=+e))){if(e<=0||rr<2)return min(er);if(e>=1)return max$1(er);var rr,nr=(rr-1)*e,ir=Math.floor(nr),sr=max$1(quickselect(er,ir).subarray(0,ir+1)),or=min(er.subarray(ir+1));return sr+(or-sr)*(nr-ir)}}function quantileSorted(er,e,tr=number$2){if(!(!(rr=er.length)||isNaN(e=+e))){if(e<=0||rr<2)return+tr(er[0],0,er);if(e>=1)return+tr(er[rr-1],rr-1,er);var rr,nr=(rr-1)*e,ir=Math.floor(nr),sr=+tr(er[ir],ir,er),or=+tr(er[ir+1],ir+1,er);return sr+(or-sr)*(nr-ir)}}function range$1(er,e,tr){er=+er,e=+e,tr=(nr=arguments.length)<2?(e=er,er=0,1):nr<3?1:+tr;for(var rr=-1,nr=Math.max(0,Math.ceil((e-er)/tr))|0,ir=new Array(nr);++rr<nr;)ir[rr]=er+rr*tr;return ir}function initRange(er,e){switch(arguments.length){case 0:break;case 1:this.range(er);break;default:this.range(e).domain(er);break}return this}function initInterpolator(er,e){switch(arguments.length){case 0:break;case 1:{typeof er=="function"?this.interpolator(er):this.range(er);break}default:{this.domain(er),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var er=new InternMap,e=[],tr=[],rr=implicit;function nr(ir){let sr=er.get(ir);if(sr===void 0){if(rr!==implicit)return rr;er.set(ir,sr=e.push(ir)-1)}return tr[sr%tr.length]}return nr.domain=function(ir){if(!arguments.length)return e.slice();e=[],er=new InternMap;for(const sr of ir)er.has(sr)||er.set(sr,e.push(sr)-1);return nr},nr.range=function(ir){return arguments.length?(tr=Array.from(ir),nr):tr.slice()},nr.unknown=function(ir){return arguments.length?(rr=ir,nr):rr},nr.copy=function(){return ordinal(e,tr).unknown(rr)},initRange.apply(nr,arguments),nr}function band(){var er=ordinal().unknown(void 0),e=er.domain,tr=er.range,rr=0,nr=1,ir,sr,or=!1,ar=0,lr=0,cr=.5;delete er.unknown;function dr(){var hr=e().length,ur=nr<rr,pr=ur?nr:rr,mr=ur?rr:nr;ir=(mr-pr)/Math.max(1,hr-ar+lr*2),or&&(ir=Math.floor(ir)),pr+=(mr-pr-ir*(hr-ar))*cr,sr=ir*(1-ar),or&&(pr=Math.round(pr),sr=Math.round(sr));var fr=range$1(hr).map(function(gr){return pr+ir*gr});return tr(ur?fr.reverse():fr)}return er.domain=function(hr){return arguments.length?(e(hr),dr()):e()},er.range=function(hr){return arguments.length?([rr,nr]=hr,rr=+rr,nr=+nr,dr()):[rr,nr]},er.rangeRound=function(hr){return[rr,nr]=hr,rr=+rr,nr=+nr,or=!0,dr()},er.bandwidth=function(){return sr},er.step=function(){return ir},er.round=function(hr){return arguments.length?(or=!!hr,dr()):or},er.padding=function(hr){return arguments.length?(ar=Math.min(1,lr=+hr),dr()):ar},er.paddingInner=function(hr){return arguments.length?(ar=Math.min(1,hr),dr()):ar},er.paddingOuter=function(hr){return arguments.length?(lr=+hr,dr()):lr},er.align=function(hr){return arguments.length?(cr=Math.max(0,Math.min(1,hr)),dr()):cr},er.copy=function(){return band(e(),[rr,nr]).round(or).paddingInner(ar).paddingOuter(lr).align(cr)},initRange.apply(dr(),arguments)}function pointish(er){var e=er.copy;return er.padding=er.paddingOuter,delete er.paddingInner,delete er.paddingOuter,er.copy=function(){return pointish(e())},er}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(er,e,tr){er.prototype=e.prototype=tr,tr.constructor=er}function extend(er,e){var tr=Object.create(er.prototype);for(var rr in e)tr[rr]=e[rr];return tr}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(er){return Object.assign(new this.constructor,this,er)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(er){var e,tr;return er=(er+"").trim().toLowerCase(),(e=reHex.exec(er))?(tr=e[1].length,e=parseInt(e[1],16),tr===6?rgbn(e):tr===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):tr===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):tr===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(er))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(er))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(er))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(er))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(er))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(er))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(er)?rgbn(named[er]):er==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(er){return new Rgb(er>>16&255,er>>8&255,er&255,1)}function rgba(er,e,tr,rr){return rr<=0&&(er=e=tr=NaN),new Rgb(er,e,tr,rr)}function rgbConvert(er){return er instanceof Color||(er=color(er)),er?(er=er.rgb(),new Rgb(er.r,er.g,er.b,er.opacity)):new Rgb}function rgb$1(er,e,tr,rr){return arguments.length===1?rgbConvert(er):new Rgb(er,e,tr,rr??1)}function Rgb(er,e,tr,rr){this.r=+er,this.g=+e,this.b=+tr,this.opacity=+rr}define(Rgb,rgb$1,extend(Color,{brighter(er){return er=er==null?brighter:Math.pow(brighter,er),new Rgb(this.r*er,this.g*er,this.b*er,this.opacity)},darker(er){return er=er==null?darker:Math.pow(darker,er),new Rgb(this.r*er,this.g*er,this.b*er,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const er=clampa(this.opacity);return`${er===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${er===1?")":`, ${er})`}`}function clampa(er){return isNaN(er)?1:Math.max(0,Math.min(1,er))}function clampi(er){return Math.max(0,Math.min(255,Math.round(er)||0))}function hex(er){return er=clampi(er),(er<16?"0":"")+er.toString(16)}function hsla(er,e,tr,rr){return rr<=0?er=e=tr=NaN:tr<=0||tr>=1?er=e=NaN:e<=0&&(er=NaN),new Hsl(er,e,tr,rr)}function hslConvert(er){if(er instanceof Hsl)return new Hsl(er.h,er.s,er.l,er.opacity);if(er instanceof Color||(er=color(er)),!er)return new Hsl;if(er instanceof Hsl)return er;er=er.rgb();var e=er.r/255,tr=er.g/255,rr=er.b/255,nr=Math.min(e,tr,rr),ir=Math.max(e,tr,rr),sr=NaN,or=ir-nr,ar=(ir+nr)/2;return or?(e===ir?sr=(tr-rr)/or+(tr<rr)*6:tr===ir?sr=(rr-e)/or+2:sr=(e-tr)/or+4,or/=ar<.5?ir+nr:2-ir-nr,sr*=60):or=ar>0&&ar<1?0:sr,new Hsl(sr,or,ar,er.opacity)}function hsl(er,e,tr,rr){return arguments.length===1?hslConvert(er):new Hsl(er,e,tr,rr??1)}function Hsl(er,e,tr,rr){this.h=+er,this.s=+e,this.l=+tr,this.opacity=+rr}define(Hsl,hsl,extend(Color,{brighter(er){return er=er==null?brighter:Math.pow(brighter,er),new Hsl(this.h,this.s,this.l*er,this.opacity)},darker(er){return er=er==null?darker:Math.pow(darker,er),new Hsl(this.h,this.s,this.l*er,this.opacity)},rgb(){var er=this.h%360+(this.h<0)*360,e=isNaN(er)||isNaN(this.s)?0:this.s,tr=this.l,rr=tr+(tr<.5?tr:1-tr)*e,nr=2*tr-rr;return new Rgb(hsl2rgb(er>=240?er-240:er+120,nr,rr),hsl2rgb(er,nr,rr),hsl2rgb(er<120?er+240:er-120,nr,rr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const er=clampa(this.opacity);return`${er===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${er===1?")":`, ${er})`}`}}));function clamph(er){return er=(er||0)%360,er<0?er+360:er}function clampt(er){return Math.max(0,Math.min(1,er||0))}function hsl2rgb(er,e,tr){return(er<60?e+(tr-e)*er/60:er<180?tr:er<240?e+(tr-e)*(240-er)/60:e)*255}const constant=er=>()=>er;function linear$1(er,e){return function(tr){return er+tr*e}}function exponential(er,e,tr){return er=Math.pow(er,tr),e=Math.pow(e,tr)-er,tr=1/tr,function(rr){return Math.pow(er+rr*e,tr)}}function gamma(er){return(er=+er)==1?nogamma:function(e,tr){return tr-e?exponential(e,tr,er):constant(isNaN(e)?tr:e)}}function nogamma(er,e){var tr=e-er;return tr?linear$1(er,tr):constant(isNaN(er)?e:er)}const rgb=function er(e){var tr=gamma(e);function rr(nr,ir){var sr=tr((nr=rgb$1(nr)).r,(ir=rgb$1(ir)).r),or=tr(nr.g,ir.g),ar=tr(nr.b,ir.b),lr=nogamma(nr.opacity,ir.opacity);return function(cr){return nr.r=sr(cr),nr.g=or(cr),nr.b=ar(cr),nr.opacity=lr(cr),nr+""}}return rr.gamma=er,rr}(1);function numberArray(er,e){e||(e=[]);var tr=er?Math.min(e.length,er.length):0,rr=e.slice(),nr;return function(ir){for(nr=0;nr<tr;++nr)rr[nr]=er[nr]*(1-ir)+e[nr]*ir;return rr}}function isNumberArray(er){return ArrayBuffer.isView(er)&&!(er instanceof DataView)}function genericArray(er,e){var tr=e?e.length:0,rr=er?Math.min(tr,er.length):0,nr=new Array(rr),ir=new Array(tr),sr;for(sr=0;sr<rr;++sr)nr[sr]=interpolate(er[sr],e[sr]);for(;sr<tr;++sr)ir[sr]=e[sr];return function(or){for(sr=0;sr<rr;++sr)ir[sr]=nr[sr](or);return ir}}function date$1(er,e){var tr=new Date;return er=+er,e=+e,function(rr){return tr.setTime(er*(1-rr)+e*rr),tr}}function interpolateNumber(er,e){return er=+er,e=+e,function(tr){return er*(1-tr)+e*tr}}function object(er,e){var tr={},rr={},nr;(er===null||typeof er!="object")&&(er={}),(e===null||typeof e!="object")&&(e={});for(nr in e)nr in er?tr[nr]=interpolate(er[nr],e[nr]):rr[nr]=e[nr];return function(ir){for(nr in tr)rr[nr]=tr[nr](ir);return rr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(er){return function(){return er}}function one(er){return function(e){return er(e)+""}}function string(er,e){var tr=reA.lastIndex=reB.lastIndex=0,rr,nr,ir,sr=-1,or=[],ar=[];for(er=er+"",e=e+"";(rr=reA.exec(er))&&(nr=reB.exec(e));)(ir=nr.index)>tr&&(ir=e.slice(tr,ir),or[sr]?or[sr]+=ir:or[++sr]=ir),(rr=rr[0])===(nr=nr[0])?or[sr]?or[sr]+=nr:or[++sr]=nr:(or[++sr]=null,ar.push({i:sr,x:interpolateNumber(rr,nr)})),tr=reB.lastIndex;return tr<e.length&&(ir=e.slice(tr),or[sr]?or[sr]+=ir:or[++sr]=ir),or.length<2?ar[0]?one(ar[0].x):zero(e):(e=ar.length,function(lr){for(var cr=0,dr;cr<e;++cr)or[(dr=ar[cr]).i]=dr.x(lr);return or.join("")})}function interpolate(er,e){var tr=typeof e,rr;return e==null||tr==="boolean"?constant(e):(tr==="number"?interpolateNumber:tr==="string"?(rr=color(e))?(e=rr,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber)(er,e)}function interpolateRound(er,e){return er=+er,e=+e,function(tr){return Math.round(er*(1-tr)+e*tr)}}function piecewise(er,e){e===void 0&&(e=er,er=interpolate);for(var tr=0,rr=e.length-1,nr=e[0],ir=new Array(rr<0?0:rr);tr<rr;)ir[tr]=er(nr,nr=e[++tr]);return function(sr){var or=Math.max(0,Math.min(rr-1,Math.floor(sr*=rr)));return ir[or](sr-or)}}function constants(er){return function(){return er}}function number$1(er){return+er}var unit=[0,1];function identity$3(er){return er}function normalize(er,e){return(e-=er=+er)?function(tr){return(tr-er)/e}:constants(isNaN(e)?NaN:.5)}function clamper(er,e){var tr;return er>e&&(tr=er,er=e,e=tr),function(rr){return Math.max(er,Math.min(e,rr))}}function bimap(er,e,tr){var rr=er[0],nr=er[1],ir=e[0],sr=e[1];return nr<rr?(rr=normalize(nr,rr),ir=tr(sr,ir)):(rr=normalize(rr,nr),ir=tr(ir,sr)),function(or){return ir(rr(or))}}function polymap(er,e,tr){var rr=Math.min(er.length,e.length)-1,nr=new Array(rr),ir=new Array(rr),sr=-1;for(er[rr]<er[0]&&(er=er.slice().reverse(),e=e.slice().reverse());++sr<rr;)nr[sr]=normalize(er[sr],er[sr+1]),ir[sr]=tr(e[sr],e[sr+1]);return function(or){var ar=bisectRight(er,or,1,rr)-1;return ir[ar](nr[ar](or))}}function copy$1(er,e){return e.domain(er.domain()).range(er.range()).interpolate(er.interpolate()).clamp(er.clamp()).unknown(er.unknown())}function transformer$2(){var er=unit,e=unit,tr=interpolate,rr,nr,ir,sr=identity$3,or,ar,lr;function cr(){var hr=Math.min(er.length,e.length);return sr!==identity$3&&(sr=clamper(er[0],er[hr-1])),or=hr>2?polymap:bimap,ar=lr=null,dr}function dr(hr){return hr==null||isNaN(hr=+hr)?ir:(ar||(ar=or(er.map(rr),e,tr)))(rr(sr(hr)))}return dr.invert=function(hr){return sr(nr((lr||(lr=or(e,er.map(rr),interpolateNumber)))(hr)))},dr.domain=function(hr){return arguments.length?(er=Array.from(hr,number$1),cr()):er.slice()},dr.range=function(hr){return arguments.length?(e=Array.from(hr),cr()):e.slice()},dr.rangeRound=function(hr){return e=Array.from(hr),tr=interpolateRound,cr()},dr.clamp=function(hr){return arguments.length?(sr=hr?!0:identity$3,cr()):sr!==identity$3},dr.interpolate=function(hr){return arguments.length?(tr=hr,cr()):tr},dr.unknown=function(hr){return arguments.length?(ir=hr,dr):ir},function(hr,ur){return rr=hr,nr=ur,cr()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(er){return Math.abs(er=Math.round(er))>=1e21?er.toLocaleString("en").replace(/,/g,""):er.toString(10)}function formatDecimalParts(er,e){if((tr=(er=e?er.toExponential(e-1):er.toExponential()).indexOf("e"))<0)return null;var tr,rr=er.slice(0,tr);return[rr.length>1?rr[0]+rr.slice(2):rr,+er.slice(tr+1)]}function exponent(er){return er=formatDecimalParts(Math.abs(er)),er?er[1]:NaN}function formatGroup(er,e){return function(tr,rr){for(var nr=tr.length,ir=[],sr=0,or=er[0],ar=0;nr>0&&or>0&&(ar+or+1>rr&&(or=Math.max(1,rr-ar)),ir.push(tr.substring(nr-=or,nr+or)),!((ar+=or+1)>rr));)or=er[sr=(sr+1)%er.length];return ir.reverse().join(e)}}function formatNumerals(er){return function(e){return e.replace(/[0-9]/g,function(tr){return er[+tr]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(er){if(!(e=re$1.exec(er)))throw new Error("invalid format: "+er);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(er){this.fill=er.fill===void 0?" ":er.fill+"",this.align=er.align===void 0?">":er.align+"",this.sign=er.sign===void 0?"-":er.sign+"",this.symbol=er.symbol===void 0?"":er.symbol+"",this.zero=!!er.zero,this.width=er.width===void 0?void 0:+er.width,this.comma=!!er.comma,this.precision=er.precision===void 0?void 0:+er.precision,this.trim=!!er.trim,this.type=er.type===void 0?"":er.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(er){e:for(var e=er.length,tr=1,rr=-1,nr;tr<e;++tr)switch(er[tr]){case".":rr=nr=tr;break;case"0":rr===0&&(rr=tr),nr=tr;break;default:if(!+er[tr])break e;rr>0&&(rr=0);break}return rr>0?er.slice(0,rr)+er.slice(nr+1):er}var prefixExponent;function formatPrefixAuto(er,e){var tr=formatDecimalParts(er,e);if(!tr)return er+"";var rr=tr[0],nr=tr[1],ir=nr-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nr/3)))*3)+1,sr=rr.length;return ir===sr?rr:ir>sr?rr+new Array(ir-sr+1).join("0"):ir>0?rr.slice(0,ir)+"."+rr.slice(ir):"0."+new Array(1-ir).join("0")+formatDecimalParts(er,Math.max(0,e+ir-1))[0]}function formatRounded(er,e){var tr=formatDecimalParts(er,e);if(!tr)return er+"";var rr=tr[0],nr=tr[1];return nr<0?"0."+new Array(-nr).join("0")+rr:rr.length>nr+1?rr.slice(0,nr+1)+"."+rr.slice(nr+1):rr+new Array(nr-rr.length+2).join("0")}const formatTypes={"%":(er,e)=>(er*100).toFixed(e),b:er=>Math.round(er).toString(2),c:er=>er+"",d:formatDecimal,e:(er,e)=>er.toExponential(e),f:(er,e)=>er.toFixed(e),g:(er,e)=>er.toPrecision(e),o:er=>Math.round(er).toString(8),p:(er,e)=>formatRounded(er*100,e),r:formatRounded,s:formatPrefixAuto,X:er=>Math.round(er).toString(16).toUpperCase(),x:er=>Math.round(er).toString(16)};function identity$2(er){return er}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(er){var e=er.grouping===void 0||er.thousands===void 0?identity$2:formatGroup(map$1.call(er.grouping,Number),er.thousands+""),tr=er.currency===void 0?"":er.currency[0]+"",rr=er.currency===void 0?"":er.currency[1]+"",nr=er.decimal===void 0?".":er.decimal+"",ir=er.numerals===void 0?identity$2:formatNumerals(map$1.call(er.numerals,String)),sr=er.percent===void 0?"%":er.percent+"",or=er.minus===void 0?"":er.minus+"",ar=er.nan===void 0?"NaN":er.nan+"";function lr(dr){dr=formatSpecifier(dr);var hr=dr.fill,ur=dr.align,pr=dr.sign,mr=dr.symbol,fr=dr.zero,gr=dr.width,yr=dr.comma,vr=dr.precision,br=dr.trim,Sr=dr.type;Sr==="n"?(yr=!0,Sr="g"):formatTypes[Sr]||(vr===void 0&&(vr=12),br=!0,Sr="g"),(fr||hr==="0"&&ur==="=")&&(fr=!0,hr="0",ur="=");var jr=mr==="$"?tr:mr==="#"&&/[boxX]/.test(Sr)?"0"+Sr.toLowerCase():"",Cr=mr==="$"?rr:/[%p]/.test(Sr)?sr:"",Pr=formatTypes[Sr],Rr=/[defgprs%]/.test(Sr);vr=vr===void 0?6:/[gprs]/.test(Sr)?Math.max(1,Math.min(21,vr)):Math.max(0,Math.min(20,vr));function Lr(Ir){var Nr=jr,Ar=Cr,Dr,Tr,_r;if(Sr==="c")Ar=Pr(Ir)+Ar,Ir="";else{Ir=+Ir;var wr=Ir<0||1/Ir<0;if(Ir=isNaN(Ir)?ar:Pr(Math.abs(Ir),vr),br&&(Ir=formatTrim(Ir)),wr&&+Ir==0&&pr!=="+"&&(wr=!1),Nr=(wr?pr==="("?pr:or:pr==="-"||pr==="("?"":pr)+Nr,Ar=(Sr==="s"?prefixes[8+prefixExponent/3]:"")+Ar+(wr&&pr==="("?")":""),Rr){for(Dr=-1,Tr=Ir.length;++Dr<Tr;)if(_r=Ir.charCodeAt(Dr),48>_r||_r>57){Ar=(_r===46?nr+Ir.slice(Dr+1):Ir.slice(Dr))+Ar,Ir=Ir.slice(0,Dr);break}}}yr&&!fr&&(Ir=e(Ir,1/0));var Er=Nr.length+Ir.length+Ar.length,xr=Er<gr?new Array(gr-Er+1).join(hr):"";switch(yr&&fr&&(Ir=e(xr+Ir,xr.length?gr-Ar.length:1/0),xr=""),ur){case"<":Ir=Nr+Ir+Ar+xr;break;case"=":Ir=Nr+xr+Ir+Ar;break;case"^":Ir=xr.slice(0,Er=xr.length>>1)+Nr+Ir+Ar+xr.slice(Er);break;default:Ir=xr+Nr+Ir+Ar;break}return ir(Ir)}return Lr.toString=function(){return dr+""},Lr}function cr(dr,hr){var ur=lr((dr=formatSpecifier(dr),dr.type="f",dr)),pr=Math.max(-8,Math.min(8,Math.floor(exponent(hr)/3)))*3,mr=Math.pow(10,-pr),fr=prefixes[8+pr/3];return function(gr){return ur(mr*gr)+fr}}return{format:lr,formatPrefix:cr}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(er){return locale$1=formatLocale$1(er),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(er){return Math.max(0,-exponent(Math.abs(er)))}function precisionPrefix(er,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(er)))}function precisionRound(er,e){return er=Math.abs(er),e=Math.abs(e)-er,Math.max(0,exponent(e)-exponent(er))+1}function tickFormat(er,e,tr,rr){var nr=tickStep(er,e,tr),ir;switch(rr=formatSpecifier(rr??",f"),rr.type){case"s":{var sr=Math.max(Math.abs(er),Math.abs(e));return rr.precision==null&&!isNaN(ir=precisionPrefix(nr,sr))&&(rr.precision=ir),formatPrefix(rr,sr)}case"":case"e":case"g":case"p":case"r":{rr.precision==null&&!isNaN(ir=precisionRound(nr,Math.max(Math.abs(er),Math.abs(e))))&&(rr.precision=ir-(rr.type==="e"));break}case"f":case"%":{rr.precision==null&&!isNaN(ir=precisionFixed(nr))&&(rr.precision=ir-(rr.type==="%")*2);break}}return format(rr)}function linearish(er){var e=er.domain;return er.ticks=function(tr){var rr=e();return ticks(rr[0],rr[rr.length-1],tr??10)},er.tickFormat=function(tr,rr){var nr=e();return tickFormat(nr[0],nr[nr.length-1],tr??10,rr)},er.nice=function(tr){tr==null&&(tr=10);var rr=e(),nr=0,ir=rr.length-1,sr=rr[nr],or=rr[ir],ar,lr,cr=10;for(or<sr&&(lr=sr,sr=or,or=lr,lr=nr,nr=ir,ir=lr);cr-- >0;){if(lr=tickIncrement(sr,or,tr),lr===ar)return rr[nr]=sr,rr[ir]=or,e(rr);if(lr>0)sr=Math.floor(sr/lr)*lr,or=Math.ceil(or/lr)*lr;else if(lr<0)sr=Math.ceil(sr*lr)/lr,or=Math.floor(or*lr)/lr;else break;ar=lr}return er},er}function linear(){var er=continuous();return er.copy=function(){return copy$1(er,linear())},initRange.apply(er,arguments),linearish(er)}function identity$1(er){var e;function tr(rr){return rr==null||isNaN(rr=+rr)?e:rr}return tr.invert=tr,tr.domain=tr.range=function(rr){return arguments.length?(er=Array.from(rr,number$1),tr):er.slice()},tr.unknown=function(rr){return arguments.length?(e=rr,tr):e},tr.copy=function(){return identity$1(er).unknown(e)},er=arguments.length?Array.from(er,number$1):[0,1],linearish(tr)}function nice(er,e){er=er.slice();var tr=0,rr=er.length-1,nr=er[tr],ir=er[rr],sr;return ir<nr&&(sr=tr,tr=rr,rr=sr,sr=nr,nr=ir,ir=sr),er[tr]=e.floor(nr),er[rr]=e.ceil(ir),er}function transformLog(er){return Math.log(er)}function transformExp(er){return Math.exp(er)}function transformLogn(er){return-Math.log(-er)}function transformExpn(er){return-Math.exp(-er)}function pow10(er){return isFinite(er)?+("1e"+er):er<0?0:er}function powp(er){return er===10?pow10:er===Math.E?Math.exp:e=>Math.pow(er,e)}function logp(er){return er===Math.E?Math.log:er===10&&Math.log10||er===2&&Math.log2||(er=Math.log(er),e=>Math.log(e)/er)}function reflect(er){return(e,tr)=>-er(-e,tr)}function loggish(er){const e=er(transformLog,transformExp),tr=e.domain;let rr=10,nr,ir;function sr(){return nr=logp(rr),ir=powp(rr),tr()[0]<0?(nr=reflect(nr),ir=reflect(ir),er(transformLogn,transformExpn)):er(transformLog,transformExp),e}return e.base=function(or){return arguments.length?(rr=+or,sr()):rr},e.domain=function(or){return arguments.length?(tr(or),sr()):tr()},e.ticks=or=>{const ar=tr();let lr=ar[0],cr=ar[ar.length-1];const dr=cr<lr;dr&&([lr,cr]=[cr,lr]);let hr=nr(lr),ur=nr(cr),pr,mr;const fr=or==null?10:+or;let gr=[];if(!(rr%1)&&ur-hr<fr){if(hr=Math.floor(hr),ur=Math.ceil(ur),lr>0){for(;hr<=ur;++hr)for(pr=1;pr<rr;++pr)if(mr=hr<0?pr/ir(-hr):pr*ir(hr),!(mr<lr)){if(mr>cr)break;gr.push(mr)}}else for(;hr<=ur;++hr)for(pr=rr-1;pr>=1;--pr)if(mr=hr>0?pr/ir(-hr):pr*ir(hr),!(mr<lr)){if(mr>cr)break;gr.push(mr)}gr.length*2<fr&&(gr=ticks(lr,cr,fr))}else gr=ticks(hr,ur,Math.min(ur-hr,fr)).map(ir);return dr?gr.reverse():gr},e.tickFormat=(or,ar)=>{if(or==null&&(or=10),ar==null&&(ar=rr===10?"s":","),typeof ar!="function"&&(!(rr%1)&&(ar=formatSpecifier(ar)).precision==null&&(ar.trim=!0),ar=format(ar)),or===1/0)return ar;const lr=Math.max(1,rr*or/e.ticks().length);return cr=>{let dr=cr/ir(Math.round(nr(cr)));return dr*rr<rr-.5&&(dr*=rr),dr<=lr?ar(cr):""}},e.nice=()=>tr(nice(tr(),{floor:or=>ir(Math.floor(nr(or))),ceil:or=>ir(Math.ceil(nr(or)))})),e}function log(){const er=loggish(transformer$2()).domain([1,10]);return er.copy=()=>copy$1(er,log()).base(er.base()),initRange.apply(er,arguments),er}function transformSymlog(er){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/er))}}function transformSymexp(er){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*er}}function symlogish(er){var e=1,tr=er(transformSymlog(e),transformSymexp(e));return tr.constant=function(rr){return arguments.length?er(transformSymlog(e=+rr),transformSymexp(e)):e},linearish(tr)}function symlog(){var er=symlogish(transformer$2());return er.copy=function(){return copy$1(er,symlog()).constant(er.constant())},initRange.apply(er,arguments)}function transformPow(er){return function(e){return e<0?-Math.pow(-e,er):Math.pow(e,er)}}function transformSqrt(er){return er<0?-Math.sqrt(-er):Math.sqrt(er)}function transformSquare(er){return er<0?-er*er:er*er}function powish(er){var e=er(identity$3,identity$3),tr=1;function rr(){return tr===1?er(identity$3,identity$3):tr===.5?er(transformSqrt,transformSquare):er(transformPow(tr),transformPow(1/tr))}return e.exponent=function(nr){return arguments.length?(tr=+nr,rr()):tr},linearish(e)}function pow(){var er=powish(transformer$2());return er.copy=function(){return copy$1(er,pow()).exponent(er.exponent())},initRange.apply(er,arguments),er}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(er){return Math.sign(er)*er*er}function unsquare(er){return Math.sign(er)*Math.sqrt(Math.abs(er))}function radial(){var er=continuous(),e=[0,1],tr=!1,rr;function nr(ir){var sr=unsquare(er(ir));return isNaN(sr)?rr:tr?Math.round(sr):sr}return nr.invert=function(ir){return er.invert(square(ir))},nr.domain=function(ir){return arguments.length?(er.domain(ir),nr):er.domain()},nr.range=function(ir){return arguments.length?(er.range((e=Array.from(ir,number$1)).map(square)),nr):e.slice()},nr.rangeRound=function(ir){return nr.range(ir).round(!0)},nr.round=function(ir){return arguments.length?(tr=!!ir,nr):tr},nr.clamp=function(ir){return arguments.length?(er.clamp(ir),nr):er.clamp()},nr.unknown=function(ir){return arguments.length?(rr=ir,nr):rr},nr.copy=function(){return radial(er.domain(),e).round(tr).clamp(er.clamp()).unknown(rr)},initRange.apply(nr,arguments),linearish(nr)}function quantile(){var er=[],e=[],tr=[],rr;function nr(){var sr=0,or=Math.max(1,e.length);for(tr=new Array(or-1);++sr<or;)tr[sr-1]=quantileSorted(er,sr/or);return ir}function ir(sr){return sr==null||isNaN(sr=+sr)?rr:e[bisectRight(tr,sr)]}return ir.invertExtent=function(sr){var or=e.indexOf(sr);return or<0?[NaN,NaN]:[or>0?tr[or-1]:er[0],or<tr.length?tr[or]:er[er.length-1]]},ir.domain=function(sr){if(!arguments.length)return er.slice();er=[];for(let or of sr)or!=null&&!isNaN(or=+or)&&er.push(or);return er.sort(ascending),nr()},ir.range=function(sr){return arguments.length?(e=Array.from(sr),nr()):e.slice()},ir.unknown=function(sr){return arguments.length?(rr=sr,ir):rr},ir.quantiles=function(){return tr.slice()},ir.copy=function(){return quantile().domain(er).range(e).unknown(rr)},initRange.apply(ir,arguments)}function quantize(){var er=0,e=1,tr=1,rr=[.5],nr=[0,1],ir;function sr(ar){return ar!=null&&ar<=ar?nr[bisectRight(rr,ar,0,tr)]:ir}function or(){var ar=-1;for(rr=new Array(tr);++ar<tr;)rr[ar]=((ar+1)*e-(ar-tr)*er)/(tr+1);return sr}return sr.domain=function(ar){return arguments.length?([er,e]=ar,er=+er,e=+e,or()):[er,e]},sr.range=function(ar){return arguments.length?(tr=(nr=Array.from(ar)).length-1,or()):nr.slice()},sr.invertExtent=function(ar){var lr=nr.indexOf(ar);return lr<0?[NaN,NaN]:lr<1?[er,rr[0]]:lr>=tr?[rr[tr-1],e]:[rr[lr-1],rr[lr]]},sr.unknown=function(ar){return arguments.length&&(ir=ar),sr},sr.thresholds=function(){return rr.slice()},sr.copy=function(){return quantize().domain([er,e]).range(nr).unknown(ir)},initRange.apply(linearish(sr),arguments)}function threshold(){var er=[.5],e=[0,1],tr,rr=1;function nr(ir){return ir!=null&&ir<=ir?e[bisectRight(er,ir,0,rr)]:tr}return nr.domain=function(ir){return arguments.length?(er=Array.from(ir),rr=Math.min(er.length,e.length-1),nr):er.slice()},nr.range=function(ir){return arguments.length?(e=Array.from(ir),rr=Math.min(er.length,e.length-1),nr):e.slice()},nr.invertExtent=function(ir){var sr=e.indexOf(ir);return[er[sr-1],er[sr]]},nr.unknown=function(ir){return arguments.length?(tr=ir,nr):tr},nr.copy=function(){return threshold().domain(er).range(e).unknown(tr)},initRange.apply(nr,arguments)}const t0=new Date,t1=new Date;function timeInterval(er,e,tr,rr){function nr(ir){return er(ir=arguments.length===0?new Date:new Date(+ir)),ir}return nr.floor=ir=>(er(ir=new Date(+ir)),ir),nr.ceil=ir=>(er(ir=new Date(ir-1)),e(ir,1),er(ir),ir),nr.round=ir=>{const sr=nr(ir),or=nr.ceil(ir);return ir-sr<or-ir?sr:or},nr.offset=(ir,sr)=>(e(ir=new Date(+ir),sr==null?1:Math.floor(sr)),ir),nr.range=(ir,sr,or)=>{const ar=[];if(ir=nr.ceil(ir),or=or==null?1:Math.floor(or),!(ir<sr)||!(or>0))return ar;let lr;do ar.push(lr=new Date(+ir)),e(ir,or),er(ir);while(lr<ir&&ir<sr);return ar},nr.filter=ir=>timeInterval(sr=>{if(sr>=sr)for(;er(sr),!ir(sr);)sr.setTime(sr-1)},(sr,or)=>{if(sr>=sr)if(or<0)for(;++or<=0;)for(;e(sr,-1),!ir(sr););else for(;--or>=0;)for(;e(sr,1),!ir(sr););}),tr&&(nr.count=(ir,sr)=>(t0.setTime(+ir),t1.setTime(+sr),er(t0),er(t1),Math.floor(tr(t0,t1))),nr.every=ir=>(ir=Math.floor(ir),!isFinite(ir)||!(ir>0)?null:ir>1?nr.filter(rr?sr=>rr(sr)%ir===0:sr=>nr.count(0,sr)%ir===0):nr)),nr}const millisecond=timeInterval(()=>{},(er,e)=>{er.setTime(+er+e)},(er,e)=>e-er);millisecond.every=er=>(er=Math.floor(er),!isFinite(er)||!(er>0)?null:er>1?timeInterval(e=>{e.setTime(Math.floor(e/er)*er)},(e,tr)=>{e.setTime(+e+tr*er)},(e,tr)=>(tr-e)/er):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(er=>{er.setTime(er-er.getMilliseconds())},(er,e)=>{er.setTime(+er+e*durationSecond)},(er,e)=>(e-er)/durationSecond,er=>er.getUTCSeconds());second.range;const timeMinute=timeInterval(er=>{er.setTime(er-er.getMilliseconds()-er.getSeconds()*durationSecond)},(er,e)=>{er.setTime(+er+e*durationMinute)},(er,e)=>(e-er)/durationMinute,er=>er.getMinutes());timeMinute.range;const utcMinute=timeInterval(er=>{er.setUTCSeconds(0,0)},(er,e)=>{er.setTime(+er+e*durationMinute)},(er,e)=>(e-er)/durationMinute,er=>er.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(er=>{er.setTime(er-er.getMilliseconds()-er.getSeconds()*durationSecond-er.getMinutes()*durationMinute)},(er,e)=>{er.setTime(+er+e*durationHour)},(er,e)=>(e-er)/durationHour,er=>er.getHours());timeHour.range;const utcHour=timeInterval(er=>{er.setUTCMinutes(0,0,0)},(er,e)=>{er.setTime(+er+e*durationHour)},(er,e)=>(e-er)/durationHour,er=>er.getUTCHours());utcHour.range;const timeDay=timeInterval(er=>er.setHours(0,0,0,0),(er,e)=>er.setDate(er.getDate()+e),(er,e)=>(e-er-(e.getTimezoneOffset()-er.getTimezoneOffset())*durationMinute)/durationDay,er=>er.getDate()-1);timeDay.range;const utcDay=timeInterval(er=>{er.setUTCHours(0,0,0,0)},(er,e)=>{er.setUTCDate(er.getUTCDate()+e)},(er,e)=>(e-er)/durationDay,er=>er.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(er=>{er.setUTCHours(0,0,0,0)},(er,e)=>{er.setUTCDate(er.getUTCDate()+e)},(er,e)=>(e-er)/durationDay,er=>Math.floor(er/durationDay));unixDay.range;function timeWeekday(er){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-er)%7),e.setHours(0,0,0,0)},(e,tr)=>{e.setDate(e.getDate()+tr*7)},(e,tr)=>(tr-e-(tr.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(er){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-er)%7),e.setUTCHours(0,0,0,0)},(e,tr)=>{e.setUTCDate(e.getUTCDate()+tr*7)},(e,tr)=>(tr-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(er=>{er.setDate(1),er.setHours(0,0,0,0)},(er,e)=>{er.setMonth(er.getMonth()+e)},(er,e)=>e.getMonth()-er.getMonth()+(e.getFullYear()-er.getFullYear())*12,er=>er.getMonth());timeMonth.range;const utcMonth=timeInterval(er=>{er.setUTCDate(1),er.setUTCHours(0,0,0,0)},(er,e)=>{er.setUTCMonth(er.getUTCMonth()+e)},(er,e)=>e.getUTCMonth()-er.getUTCMonth()+(e.getUTCFullYear()-er.getUTCFullYear())*12,er=>er.getUTCMonth());utcMonth.range;const timeYear=timeInterval(er=>{er.setMonth(0,1),er.setHours(0,0,0,0)},(er,e)=>{er.setFullYear(er.getFullYear()+e)},(er,e)=>e.getFullYear()-er.getFullYear(),er=>er.getFullYear());timeYear.every=er=>!isFinite(er=Math.floor(er))||!(er>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/er)*er),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,tr)=>{e.setFullYear(e.getFullYear()+tr*er)});timeYear.range;const utcYear=timeInterval(er=>{er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0)},(er,e)=>{er.setUTCFullYear(er.getUTCFullYear()+e)},(er,e)=>e.getUTCFullYear()-er.getUTCFullYear(),er=>er.getUTCFullYear());utcYear.every=er=>!isFinite(er=Math.floor(er))||!(er>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/er)*er),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,tr)=>{e.setUTCFullYear(e.getUTCFullYear()+tr*er)});utcYear.range;function ticker(er,e,tr,rr,nr,ir){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ir,1,durationMinute],[ir,5,5*durationMinute],[ir,15,15*durationMinute],[ir,30,30*durationMinute],[nr,1,durationHour],[nr,3,3*durationHour],[nr,6,6*durationHour],[nr,12,12*durationHour],[rr,1,durationDay],[rr,2,2*durationDay],[tr,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[er,1,durationYear]];function or(lr,cr,dr){const hr=cr<lr;hr&&([lr,cr]=[cr,lr]);const ur=dr&&typeof dr.range=="function"?dr:ar(lr,cr,dr),pr=ur?ur.range(lr,+cr+1):[];return hr?pr.reverse():pr}function ar(lr,cr,dr){const hr=Math.abs(cr-lr)/dr,ur=bisector(([,,fr])=>fr).right(sr,hr);if(ur===sr.length)return er.every(tickStep(lr/durationYear,cr/durationYear,dr));if(ur===0)return millisecond.every(Math.max(tickStep(lr,cr,dr),1));const[pr,mr]=sr[hr/sr[ur-1][2]<sr[ur][2]/hr?ur-1:ur];return pr.every(mr)}return[or,ar]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(er){if(0<=er.y&&er.y<100){var e=new Date(-1,er.m,er.d,er.H,er.M,er.S,er.L);return e.setFullYear(er.y),e}return new Date(er.y,er.m,er.d,er.H,er.M,er.S,er.L)}function utcDate(er){if(0<=er.y&&er.y<100){var e=new Date(Date.UTC(-1,er.m,er.d,er.H,er.M,er.S,er.L));return e.setUTCFullYear(er.y),e}return new Date(Date.UTC(er.y,er.m,er.d,er.H,er.M,er.S,er.L))}function newDate(er,e,tr){return{y:er,m:e,d:tr,H:0,M:0,S:0,L:0}}function formatLocale(er){var e=er.dateTime,tr=er.date,rr=er.time,nr=er.periods,ir=er.days,sr=er.shortDays,or=er.months,ar=er.shortMonths,lr=formatRe(nr),cr=formatLookup(nr),dr=formatRe(ir),hr=formatLookup(ir),ur=formatRe(sr),pr=formatLookup(sr),mr=formatRe(or),fr=formatLookup(or),gr=formatRe(ar),yr=formatLookup(ar),vr={a:wr,A:Er,b:xr,B:Mr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:zr,q:Or,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},br={a:Br,A:Ur,b:qr,B:Vr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Gr,q:$r,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Sr={a:Lr,A:Ir,b:Nr,B:Ar,c:Dr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Rr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Tr,X:_r,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};vr.x=jr(tr,vr),vr.X=jr(rr,vr),vr.c=jr(e,vr),br.x=jr(tr,br),br.X=jr(rr,br),br.c=jr(e,br);function jr(Fr,Kr){return function(Zr){var nn=[],Qr=-1,cn=0,dn=Fr.length,en,an,tn;for(Zr instanceof Date||(Zr=new Date(+Zr));++Qr<dn;)Fr.charCodeAt(Qr)===37&&(nn.push(Fr.slice(cn,Qr)),(an=pads[en=Fr.charAt(++Qr)])!=null?en=Fr.charAt(++Qr):an=en==="e"?" ":"0",(tn=Kr[en])&&(en=tn(Zr,an)),nn.push(en),cn=Qr+1);return nn.push(Fr.slice(cn,Qr)),nn.join("")}}function Cr(Fr,Kr){return function(Zr){var nn=newDate(1900,void 0,1),Qr=Pr(nn,Fr,Zr+="",0),cn,dn;if(Qr!=Zr.length)return null;if("Q"in nn)return new Date(nn.Q);if("s"in nn)return new Date(nn.s*1e3+("L"in nn?nn.L:0));if(Kr&&!("Z"in nn)&&(nn.Z=0),"p"in nn&&(nn.H=nn.H%12+nn.p*12),nn.m===void 0&&(nn.m="q"in nn?nn.q:0),"V"in nn){if(nn.V<1||nn.V>53)return null;"w"in nn||(nn.w=1),"Z"in nn?(cn=utcDate(newDate(nn.y,0,1)),dn=cn.getUTCDay(),cn=dn>4||dn===0?utcMonday.ceil(cn):utcMonday(cn),cn=utcDay.offset(cn,(nn.V-1)*7),nn.y=cn.getUTCFullYear(),nn.m=cn.getUTCMonth(),nn.d=cn.getUTCDate()+(nn.w+6)%7):(cn=localDate(newDate(nn.y,0,1)),dn=cn.getDay(),cn=dn>4||dn===0?timeMonday.ceil(cn):timeMonday(cn),cn=timeDay.offset(cn,(nn.V-1)*7),nn.y=cn.getFullYear(),nn.m=cn.getMonth(),nn.d=cn.getDate()+(nn.w+6)%7)}else("W"in nn||"U"in nn)&&("w"in nn||(nn.w="u"in nn?nn.u%7:"W"in nn?1:0),dn="Z"in nn?utcDate(newDate(nn.y,0,1)).getUTCDay():localDate(newDate(nn.y,0,1)).getDay(),nn.m=0,nn.d="W"in nn?(nn.w+6)%7+nn.W*7-(dn+5)%7:nn.w+nn.U*7-(dn+6)%7);return"Z"in nn?(nn.H+=nn.Z/100|0,nn.M+=nn.Z%100,utcDate(nn)):localDate(nn)}}function Pr(Fr,Kr,Zr,nn){for(var Qr=0,cn=Kr.length,dn=Zr.length,en,an;Qr<cn;){if(nn>=dn)return-1;if(en=Kr.charCodeAt(Qr++),en===37){if(en=Kr.charAt(Qr++),an=Sr[en in pads?Kr.charAt(Qr++):en],!an||(nn=an(Fr,Zr,nn))<0)return-1}else if(en!=Zr.charCodeAt(nn++))return-1}return nn}function Rr(Fr,Kr,Zr){var nn=lr.exec(Kr.slice(Zr));return nn?(Fr.p=cr.get(nn[0].toLowerCase()),Zr+nn[0].length):-1}function Lr(Fr,Kr,Zr){var nn=ur.exec(Kr.slice(Zr));return nn?(Fr.w=pr.get(nn[0].toLowerCase()),Zr+nn[0].length):-1}function Ir(Fr,Kr,Zr){var nn=dr.exec(Kr.slice(Zr));return nn?(Fr.w=hr.get(nn[0].toLowerCase()),Zr+nn[0].length):-1}function Nr(Fr,Kr,Zr){var nn=gr.exec(Kr.slice(Zr));return nn?(Fr.m=yr.get(nn[0].toLowerCase()),Zr+nn[0].length):-1}function Ar(Fr,Kr,Zr){var nn=mr.exec(Kr.slice(Zr));return nn?(Fr.m=fr.get(nn[0].toLowerCase()),Zr+nn[0].length):-1}function Dr(Fr,Kr,Zr){return Pr(Fr,e,Kr,Zr)}function Tr(Fr,Kr,Zr){return Pr(Fr,tr,Kr,Zr)}function _r(Fr,Kr,Zr){return Pr(Fr,rr,Kr,Zr)}function wr(Fr){return sr[Fr.getDay()]}function Er(Fr){return ir[Fr.getDay()]}function xr(Fr){return ar[Fr.getMonth()]}function Mr(Fr){return or[Fr.getMonth()]}function zr(Fr){return nr[+(Fr.getHours()>=12)]}function Or(Fr){return 1+~~(Fr.getMonth()/3)}function Br(Fr){return sr[Fr.getUTCDay()]}function Ur(Fr){return ir[Fr.getUTCDay()]}function qr(Fr){return ar[Fr.getUTCMonth()]}function Vr(Fr){return or[Fr.getUTCMonth()]}function Gr(Fr){return nr[+(Fr.getUTCHours()>=12)]}function $r(Fr){return 1+~~(Fr.getUTCMonth()/3)}return{format:function(Fr){var Kr=jr(Fr+="",vr);return Kr.toString=function(){return Fr},Kr},parse:function(Fr){var Kr=Cr(Fr+="",!1);return Kr.toString=function(){return Fr},Kr},utcFormat:function(Fr){var Kr=jr(Fr+="",br);return Kr.toString=function(){return Fr},Kr},utcParse:function(Fr){var Kr=Cr(Fr+="",!0);return Kr.toString=function(){return Fr},Kr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(er,e,tr){var rr=er<0?"-":"",nr=(rr?-er:er)+"",ir=nr.length;return rr+(ir<tr?new Array(tr-ir+1).join(e)+nr:nr)}function requote(er){return er.replace(requoteRe,"\\$&")}function formatRe(er){return new RegExp("^(?:"+er.map(requote).join("|")+")","i")}function formatLookup(er){return new Map(er.map((e,tr)=>[e.toLowerCase(),tr]))}function parseWeekdayNumberSunday(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+1));return rr?(er.w=+rr[0],tr+rr[0].length):-1}function parseWeekdayNumberMonday(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+1));return rr?(er.u=+rr[0],tr+rr[0].length):-1}function parseWeekNumberSunday(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.U=+rr[0],tr+rr[0].length):-1}function parseWeekNumberISO(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.V=+rr[0],tr+rr[0].length):-1}function parseWeekNumberMonday(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.W=+rr[0],tr+rr[0].length):-1}function parseFullYear(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+4));return rr?(er.y=+rr[0],tr+rr[0].length):-1}function parseYear(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.y=+rr[0]+(+rr[0]>68?1900:2e3),tr+rr[0].length):-1}function parseZone(er,e,tr){var rr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(tr,tr+6));return rr?(er.Z=rr[1]?0:-(rr[2]+(rr[3]||"00")),tr+rr[0].length):-1}function parseQuarter(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+1));return rr?(er.q=rr[0]*3-3,tr+rr[0].length):-1}function parseMonthNumber(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.m=rr[0]-1,tr+rr[0].length):-1}function parseDayOfMonth(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.d=+rr[0],tr+rr[0].length):-1}function parseDayOfYear(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+3));return rr?(er.m=0,er.d=+rr[0],tr+rr[0].length):-1}function parseHour24(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.H=+rr[0],tr+rr[0].length):-1}function parseMinutes(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.M=+rr[0],tr+rr[0].length):-1}function parseSeconds(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+2));return rr?(er.S=+rr[0],tr+rr[0].length):-1}function parseMilliseconds(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+3));return rr?(er.L=+rr[0],tr+rr[0].length):-1}function parseMicroseconds(er,e,tr){var rr=numberRe.exec(e.slice(tr,tr+6));return rr?(er.L=Math.floor(rr[0]/1e3),tr+rr[0].length):-1}function parseLiteralPercent(er,e,tr){var rr=percentRe.exec(e.slice(tr,tr+1));return rr?tr+rr[0].length:-1}function parseUnixTimestamp(er,e,tr){var rr=numberRe.exec(e.slice(tr));return rr?(er.Q=+rr[0],tr+rr[0].length):-1}function parseUnixTimestampSeconds(er,e,tr){var rr=numberRe.exec(e.slice(tr));return rr?(er.s=+rr[0],tr+rr[0].length):-1}function formatDayOfMonth(er,e){return pad(er.getDate(),e,2)}function formatHour24(er,e){return pad(er.getHours(),e,2)}function formatHour12(er,e){return pad(er.getHours()%12||12,e,2)}function formatDayOfYear(er,e){return pad(1+timeDay.count(timeYear(er),er),e,3)}function formatMilliseconds(er,e){return pad(er.getMilliseconds(),e,3)}function formatMicroseconds(er,e){return formatMilliseconds(er,e)+"000"}function formatMonthNumber(er,e){return pad(er.getMonth()+1,e,2)}function formatMinutes(er,e){return pad(er.getMinutes(),e,2)}function formatSeconds(er,e){return pad(er.getSeconds(),e,2)}function formatWeekdayNumberMonday(er){var e=er.getDay();return e===0?7:e}function formatWeekNumberSunday(er,e){return pad(timeSunday.count(timeYear(er)-1,er),e,2)}function dISO(er){var e=er.getDay();return e>=4||e===0?timeThursday(er):timeThursday.ceil(er)}function formatWeekNumberISO(er,e){return er=dISO(er),pad(timeThursday.count(timeYear(er),er)+(timeYear(er).getDay()===4),e,2)}function formatWeekdayNumberSunday(er){return er.getDay()}function formatWeekNumberMonday(er,e){return pad(timeMonday.count(timeYear(er)-1,er),e,2)}function formatYear(er,e){return pad(er.getFullYear()%100,e,2)}function formatYearISO(er,e){return er=dISO(er),pad(er.getFullYear()%100,e,2)}function formatFullYear(er,e){return pad(er.getFullYear()%1e4,e,4)}function formatFullYearISO(er,e){var tr=er.getDay();return er=tr>=4||tr===0?timeThursday(er):timeThursday.ceil(er),pad(er.getFullYear()%1e4,e,4)}function formatZone(er){var e=er.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(er,e){return pad(er.getUTCDate(),e,2)}function formatUTCHour24(er,e){return pad(er.getUTCHours(),e,2)}function formatUTCHour12(er,e){return pad(er.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(er,e){return pad(1+utcDay.count(utcYear(er),er),e,3)}function formatUTCMilliseconds(er,e){return pad(er.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(er,e){return formatUTCMilliseconds(er,e)+"000"}function formatUTCMonthNumber(er,e){return pad(er.getUTCMonth()+1,e,2)}function formatUTCMinutes(er,e){return pad(er.getUTCMinutes(),e,2)}function formatUTCSeconds(er,e){return pad(er.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(er){var e=er.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(er,e){return pad(utcSunday.count(utcYear(er)-1,er),e,2)}function UTCdISO(er){var e=er.getUTCDay();return e>=4||e===0?utcThursday(er):utcThursday.ceil(er)}function formatUTCWeekNumberISO(er,e){return er=UTCdISO(er),pad(utcThursday.count(utcYear(er),er)+(utcYear(er).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(er){return er.getUTCDay()}function formatUTCWeekNumberMonday(er,e){return pad(utcMonday.count(utcYear(er)-1,er),e,2)}function formatUTCYear(er,e){return pad(er.getUTCFullYear()%100,e,2)}function formatUTCYearISO(er,e){return er=UTCdISO(er),pad(er.getUTCFullYear()%100,e,2)}function formatUTCFullYear(er,e){return pad(er.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(er,e){var tr=er.getUTCDay();return er=tr>=4||tr===0?utcThursday(er):utcThursday.ceil(er),pad(er.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(er){return+er}function formatUnixTimestampSeconds(er){return Math.floor(+er/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(er){return locale=formatLocale(er),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(er){return new Date(er)}function number(er){return er instanceof Date?+er:+new Date(+er)}function calendar(er,e,tr,rr,nr,ir,sr,or,ar,lr){var cr=continuous(),dr=cr.invert,hr=cr.domain,ur=lr(".%L"),pr=lr(":%S"),mr=lr("%I:%M"),fr=lr("%I %p"),gr=lr("%a %d"),yr=lr("%b %d"),vr=lr("%B"),br=lr("%Y");function Sr(jr){return(ar(jr)<jr?ur:or(jr)<jr?pr:sr(jr)<jr?mr:ir(jr)<jr?fr:rr(jr)<jr?nr(jr)<jr?gr:yr:tr(jr)<jr?vr:br)(jr)}return cr.invert=function(jr){return new Date(dr(jr))},cr.domain=function(jr){return arguments.length?hr(Array.from(jr,number)):hr().map(date)},cr.ticks=function(jr){var Cr=hr();return er(Cr[0],Cr[Cr.length-1],jr??10)},cr.tickFormat=function(jr,Cr){return Cr==null?Sr:lr(Cr)},cr.nice=function(jr){var Cr=hr();return(!jr||typeof jr.range!="function")&&(jr=e(Cr[0],Cr[Cr.length-1],jr??10)),jr?hr(nice(Cr,jr)):cr},cr.copy=function(){return copy$1(cr,calendar(er,e,tr,rr,nr,ir,sr,or,ar,lr))},cr}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var er=0,e=1,tr,rr,nr,ir,sr=identity$3,or=!1,ar;function lr(dr){return dr==null||isNaN(dr=+dr)?ar:sr(nr===0?.5:(dr=(ir(dr)-tr)*nr,or?Math.max(0,Math.min(1,dr)):dr))}lr.domain=function(dr){return arguments.length?([er,e]=dr,tr=ir(er=+er),rr=ir(e=+e),nr=tr===rr?0:1/(rr-tr),lr):[er,e]},lr.clamp=function(dr){return arguments.length?(or=!!dr,lr):or},lr.interpolator=function(dr){return arguments.length?(sr=dr,lr):sr};function cr(dr){return function(hr){var ur,pr;return arguments.length?([ur,pr]=hr,sr=dr(ur,pr),lr):[sr(0),sr(1)]}}return lr.range=cr(interpolate),lr.rangeRound=cr(interpolateRound),lr.unknown=function(dr){return arguments.length?(ar=dr,lr):ar},function(dr){return ir=dr,tr=dr(er),rr=dr(e),nr=tr===rr?0:1/(rr-tr),lr}}function copy(er,e){return e.domain(er.domain()).interpolator(er.interpolator()).clamp(er.clamp()).unknown(er.unknown())}function sequential(){var er=linearish(transformer$1()(identity$3));return er.copy=function(){return copy(er,sequential())},initInterpolator.apply(er,arguments)}function sequentialLog(){var er=loggish(transformer$1()).domain([1,10]);return er.copy=function(){return copy(er,sequentialLog()).base(er.base())},initInterpolator.apply(er,arguments)}function sequentialSymlog(){var er=symlogish(transformer$1());return er.copy=function(){return copy(er,sequentialSymlog()).constant(er.constant())},initInterpolator.apply(er,arguments)}function sequentialPow(){var er=powish(transformer$1());return er.copy=function(){return copy(er,sequentialPow()).exponent(er.exponent())},initInterpolator.apply(er,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var er=[],e=identity$3;function tr(rr){if(rr!=null&&!isNaN(rr=+rr))return e((bisectRight(er,rr,1)-1)/(er.length-1))}return tr.domain=function(rr){if(!arguments.length)return er.slice();er=[];for(let nr of rr)nr!=null&&!isNaN(nr=+nr)&&er.push(nr);return er.sort(ascending),tr},tr.interpolator=function(rr){return arguments.length?(e=rr,tr):e},tr.range=function(){return er.map((rr,nr)=>e(nr/(er.length-1)))},tr.quantiles=function(rr){return Array.from({length:rr+1},(nr,ir)=>quantile$1(er,ir/rr))},tr.copy=function(){return sequentialQuantile(e).domain(er)},initInterpolator.apply(tr,arguments)}function transformer(){var er=0,e=.5,tr=1,rr=1,nr,ir,sr,or,ar,lr=identity$3,cr,dr=!1,hr;function ur(mr){return isNaN(mr=+mr)?hr:(mr=.5+((mr=+cr(mr))-ir)*(rr*mr<rr*ir?or:ar),lr(dr?Math.max(0,Math.min(1,mr)):mr))}ur.domain=function(mr){return arguments.length?([er,e,tr]=mr,nr=cr(er=+er),ir=cr(e=+e),sr=cr(tr=+tr),or=nr===ir?0:.5/(ir-nr),ar=ir===sr?0:.5/(sr-ir),rr=ir<nr?-1:1,ur):[er,e,tr]},ur.clamp=function(mr){return arguments.length?(dr=!!mr,ur):dr},ur.interpolator=function(mr){return arguments.length?(lr=mr,ur):lr};function pr(mr){return function(fr){var gr,yr,vr;return arguments.length?([gr,yr,vr]=fr,lr=piecewise(mr,[gr,yr,vr]),ur):[lr(0),lr(.5),lr(1)]}}return ur.range=pr(interpolate),ur.rangeRound=pr(interpolateRound),ur.unknown=function(mr){return arguments.length?(hr=mr,ur):hr},function(mr){return cr=mr,nr=mr(er),ir=mr(e),sr=mr(tr),or=nr===ir?0:.5/(ir-nr),ar=ir===sr?0:.5/(sr-ir),rr=ir<nr?-1:1,ur}}function diverging(){var er=linearish(transformer()(identity$3));return er.copy=function(){return copy(er,diverging())},initInterpolator.apply(er,arguments)}function divergingLog(){var er=loggish(transformer()).domain([.1,1,10]);return er.copy=function(){return copy(er,divergingLog()).base(er.base())},initInterpolator.apply(er,arguments)}function divergingSymlog(){var er=symlogish(transformer());return er.copy=function(){return copy(er,divergingSymlog()).constant(er.constant())},initInterpolator.apply(er,arguments)}function divergingPow(){var er=powish(transformer());return er.copy=function(){return copy(er,divergingPow()).exponent(er.exponent())},initInterpolator.apply(er,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=er=>er.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],er=>{var e=er.chartData!=null?er.chartData.length-1:0;return{chartData:er.chartData,computedData:er.computedData,dataEndIndex:e,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanoramaPosition4=(er,e,tr,rr)=>rr?selectChartDataAndAlwaysIgnoreIndexes(er):selectChartDataWithIndexes(er),selectChartDataWithIndexesIfNotInPanoramaPosition3=(er,e,tr)=>tr?selectChartDataAndAlwaysIgnoreIndexes(er):selectChartDataWithIndexes(er);function isWellFormedNumberDomain(er){if(Array.isArray(er)&&er.length===2){var[e,tr]=er;if(isWellBehavedNumber(e)&&isWellBehavedNumber(tr))return!0}return!1}function extendDomain(er,e,tr){return tr?er:[Math.min(er[0],e[0]),Math.max(er[1],e[1])]}function numericalDomainSpecifiedWithoutRequiringData(er,e){if(e&&typeof er!="function"&&Array.isArray(er)&&er.length===2){var[tr,rr]=er,nr,ir;if(isWellBehavedNumber(tr))nr=tr;else if(typeof tr=="function")return;if(isWellBehavedNumber(rr))ir=rr;else if(typeof rr=="function")return;var sr=[nr,ir];if(isWellFormedNumberDomain(sr))return sr}}function parseNumericalUserDomain(er,e,tr){if(!(!tr&&e==null)){if(typeof er=="function"&&e!=null)try{var rr=er(e,tr);if(isWellFormedNumberDomain(rr))return extendDomain(rr,e,tr)}catch{}if(Array.isArray(er)&&er.length===2){var[nr,ir]=er,sr,or;if(nr==="auto")e!=null&&(sr=Math.min(...e));else if(isNumber(nr))sr=nr;else if(typeof nr=="function")try{e!=null&&(sr=nr(e==null?void 0:e[0]))}catch{}else if(typeof nr=="string"&&MIN_VALUE_REG.test(nr)){var ar=MIN_VALUE_REG.exec(nr);if(ar==null||ar[1]==null||e==null)sr=void 0;else{var lr=+ar[1];sr=e[0]-lr}}else sr=e==null?void 0:e[0];if(ir==="auto")e!=null&&(or=Math.max(...e));else if(isNumber(ir))or=ir;else if(typeof ir=="function")try{e!=null&&(or=ir(e==null?void 0:e[1]))}catch{}else if(typeof ir=="string"&&MAX_VALUE_REG.test(ir)){var cr=MAX_VALUE_REG.exec(ir);if(cr==null||cr[1]==null||e==null)or=void 0;else{var dr=+cr[1];or=e[1]+dr}}else or=e==null?void 0:e[1];var hr=[sr,or];if(isWellFormedNumberDomain(hr))return e==null?hr:extendDomain(hr,e,tr)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var er=new this.constructor(this);return er.s&&(er.s=1),er};P$1.comparedTo=P$1.cmp=function(er){var e,tr,rr,nr,ir=this;if(er=new ir.constructor(er),ir.s!==er.s)return ir.s||-er.s;if(ir.e!==er.e)return ir.e>er.e^ir.s<0?1:-1;for(rr=ir.d.length,nr=er.d.length,e=0,tr=rr<nr?rr:nr;e<tr;++e)if(ir.d[e]!==er.d[e])return ir.d[e]>er.d[e]^ir.s<0?1:-1;return rr===nr?0:rr>nr^ir.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var er=this,e=er.d.length-1,tr=(e-er.e)*LOG_BASE;if(e=er.d[e],e)for(;e%10==0;e/=10)tr--;return tr<0?0:tr};P$1.dividedBy=P$1.div=function(er){return divide(this,new this.constructor(er))};P$1.dividedToIntegerBy=P$1.idiv=function(er){var e=this,tr=e.constructor;return round(divide(e,new tr(er),0,1),tr.precision)};P$1.equals=P$1.eq=function(er){return!this.cmp(er)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(er){return this.cmp(er)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(er){return this.cmp(er)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(er){return this.cmp(er)<0};P$1.lessThanOrEqualTo=P$1.lte=function(er){return this.cmp(er)<1};P$1.logarithm=P$1.log=function(er){var e,tr=this,rr=tr.constructor,nr=rr.precision,ir=nr+5;if(er===void 0)er=new rr(10);else if(er=new rr(er),er.s<1||er.eq(ONE))throw Error(decimalError+"NaN");if(tr.s<1)throw Error(decimalError+(tr.s?"NaN":"-Infinity"));return tr.eq(ONE)?new rr(0):(external=!1,e=divide(ln$1(tr,ir),ln$1(er,ir),ir),external=!0,round(e,nr))};P$1.minus=P$1.sub=function(er){var e=this;return er=new e.constructor(er),e.s==er.s?subtract(e,er):add(e,(er.s=-er.s,er))};P$1.modulo=P$1.mod=function(er){var e,tr=this,rr=tr.constructor,nr=rr.precision;if(er=new rr(er),!er.s)throw Error(decimalError+"NaN");return tr.s?(external=!1,e=divide(tr,er,0,1).times(er),external=!0,tr.minus(e)):round(new rr(tr),nr)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var er=new this.constructor(this);return er.s=-er.s||0,er};P$1.plus=P$1.add=function(er){var e=this;return er=new e.constructor(er),e.s==er.s?add(e,er):subtract(e,(er.s=-er.s,er))};P$1.precision=P$1.sd=function(er){var e,tr,rr,nr=this;if(er!==void 0&&er!==!!er&&er!==1&&er!==0)throw Error(invalidArgument+er);if(e=getBase10Exponent(nr)+1,rr=nr.d.length-1,tr=rr*LOG_BASE+1,rr=nr.d[rr],rr){for(;rr%10==0;rr/=10)tr--;for(rr=nr.d[0];rr>=10;rr/=10)tr++}return er&&e>tr?e:tr};P$1.squareRoot=P$1.sqrt=function(){var er,e,tr,rr,nr,ir,sr,or=this,ar=or.constructor;if(or.s<1){if(!or.s)return new ar(0);throw Error(decimalError+"NaN")}for(er=getBase10Exponent(or),external=!1,nr=Math.sqrt(+or),nr==0||nr==1/0?(e=digitsToString(or.d),(e.length+er)%2==0&&(e+="0"),nr=Math.sqrt(e),er=mathfloor((er+1)/2)-(er<0||er%2),nr==1/0?e="5e"+er:(e=nr.toExponential(),e=e.slice(0,e.indexOf("e")+1)+er),rr=new ar(e)):rr=new ar(nr.toString()),tr=ar.precision,nr=sr=tr+3;;)if(ir=rr,rr=ir.plus(divide(or,ir,sr+2)).times(.5),digitsToString(ir.d).slice(0,sr)===(e=digitsToString(rr.d)).slice(0,sr)){if(e=e.slice(sr-3,sr+1),nr==sr&&e=="4999"){if(round(ir,tr+1,0),ir.times(ir).eq(or)){rr=ir;break}}else if(e!="9999")break;sr+=4}return external=!0,round(rr,tr)};P$1.times=P$1.mul=function(er){var e,tr,rr,nr,ir,sr,or,ar,lr,cr=this,dr=cr.constructor,hr=cr.d,ur=(er=new dr(er)).d;if(!cr.s||!er.s)return new dr(0);for(er.s*=cr.s,tr=cr.e+er.e,ar=hr.length,lr=ur.length,ar<lr&&(ir=hr,hr=ur,ur=ir,sr=ar,ar=lr,lr=sr),ir=[],sr=ar+lr,rr=sr;rr--;)ir.push(0);for(rr=lr;--rr>=0;){for(e=0,nr=ar+rr;nr>rr;)or=ir[nr]+ur[rr]*hr[nr-rr-1]+e,ir[nr--]=or%BASE|0,e=or/BASE|0;ir[nr]=(ir[nr]+e)%BASE|0}for(;!ir[--sr];)ir.pop();return e?++tr:ir.shift(),er.d=ir,er.e=tr,external?round(er,dr.precision):er};P$1.toDecimalPlaces=P$1.todp=function(er,e){var tr=this,rr=tr.constructor;return tr=new rr(tr),er===void 0?tr:(checkInt32(er,0,MAX_DIGITS),e===void 0?e=rr.rounding:checkInt32(e,0,8),round(tr,er+getBase10Exponent(tr)+1,e))};P$1.toExponential=function(er,e){var tr,rr=this,nr=rr.constructor;return er===void 0?tr=toString(rr,!0):(checkInt32(er,0,MAX_DIGITS),e===void 0?e=nr.rounding:checkInt32(e,0,8),rr=round(new nr(rr),er+1,e),tr=toString(rr,!0,er+1)),tr};P$1.toFixed=function(er,e){var tr,rr,nr=this,ir=nr.constructor;return er===void 0?toString(nr):(checkInt32(er,0,MAX_DIGITS),e===void 0?e=ir.rounding:checkInt32(e,0,8),rr=round(new ir(nr),er+getBase10Exponent(nr)+1,e),tr=toString(rr.abs(),!1,er+getBase10Exponent(rr)+1),nr.isneg()&&!nr.isZero()?"-"+tr:tr)};P$1.toInteger=P$1.toint=function(){var er=this,e=er.constructor;return round(new e(er),getBase10Exponent(er)+1,e.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(er){var e,tr,rr,nr,ir,sr,or=this,ar=or.constructor,lr=12,cr=+(er=new ar(er));if(!er.s)return new ar(ONE);if(or=new ar(or),!or.s){if(er.s<1)throw Error(decimalError+"Infinity");return or}if(or.eq(ONE))return or;if(rr=ar.precision,er.eq(ONE))return round(or,rr);if(e=er.e,tr=er.d.length-1,sr=e>=tr,ir=or.s,sr){if((tr=cr<0?-cr:cr)<=MAX_SAFE_INTEGER){for(nr=new ar(ONE),e=Math.ceil(rr/LOG_BASE+4),external=!1;tr%2&&(nr=nr.times(or),truncate(nr.d,e)),tr=mathfloor(tr/2),tr!==0;)or=or.times(or),truncate(or.d,e);return external=!0,er.s<0?new ar(ONE).div(nr):round(nr,rr)}}else if(ir<0)throw Error(decimalError+"NaN");return ir=ir<0&&er.d[Math.max(e,tr)]&1?-1:1,or.s=1,external=!1,nr=er.times(ln$1(or,rr+lr)),external=!0,nr=exp(nr),nr.s=ir,nr};P$1.toPrecision=function(er,e){var tr,rr,nr=this,ir=nr.constructor;return er===void 0?(tr=getBase10Exponent(nr),rr=toString(nr,tr<=ir.toExpNeg||tr>=ir.toExpPos)):(checkInt32(er,1,MAX_DIGITS),e===void 0?e=ir.rounding:checkInt32(e,0,8),nr=round(new ir(nr),er,e),tr=getBase10Exponent(nr),rr=toString(nr,er<=tr||tr<=ir.toExpNeg,er)),rr};P$1.toSignificantDigits=P$1.tosd=function(er,e){var tr=this,rr=tr.constructor;return er===void 0?(er=rr.precision,e=rr.rounding):(checkInt32(er,1,MAX_DIGITS),e===void 0?e=rr.rounding:checkInt32(e,0,8)),round(new rr(tr),er,e)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var er=this,e=getBase10Exponent(er),tr=er.constructor;return toString(er,e<=tr.toExpNeg||e>=tr.toExpPos)};function add(er,e){var tr,rr,nr,ir,sr,or,ar,lr,cr=er.constructor,dr=cr.precision;if(!er.s||!e.s)return e.s||(e=new cr(er)),external?round(e,dr):e;if(ar=er.d,lr=e.d,sr=er.e,nr=e.e,ar=ar.slice(),ir=sr-nr,ir){for(ir<0?(rr=ar,ir=-ir,or=lr.length):(rr=lr,nr=sr,or=ar.length),sr=Math.ceil(dr/LOG_BASE),or=sr>or?sr+1:or+1,ir>or&&(ir=or,rr.length=1),rr.reverse();ir--;)rr.push(0);rr.reverse()}for(or=ar.length,ir=lr.length,or-ir<0&&(ir=or,rr=lr,lr=ar,ar=rr),tr=0;ir;)tr=(ar[--ir]=ar[ir]+lr[ir]+tr)/BASE|0,ar[ir]%=BASE;for(tr&&(ar.unshift(tr),++nr),or=ar.length;ar[--or]==0;)ar.pop();return e.d=ar,e.e=nr,external?round(e,dr):e}function checkInt32(er,e,tr){if(er!==~~er||er<e||er>tr)throw Error(invalidArgument+er)}function digitsToString(er){var e,tr,rr,nr=er.length-1,ir="",sr=er[0];if(nr>0){for(ir+=sr,e=1;e<nr;e++)rr=er[e]+"",tr=LOG_BASE-rr.length,tr&&(ir+=getZeroString(tr)),ir+=rr;sr=er[e],rr=sr+"",tr=LOG_BASE-rr.length,tr&&(ir+=getZeroString(tr))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return ir+sr}var divide=function(){function er(rr,nr){var ir,sr=0,or=rr.length;for(rr=rr.slice();or--;)ir=rr[or]*nr+sr,rr[or]=ir%BASE|0,sr=ir/BASE|0;return sr&&rr.unshift(sr),rr}function e(rr,nr,ir,sr){var or,ar;if(ir!=sr)ar=ir>sr?1:-1;else for(or=ar=0;or<ir;or++)if(rr[or]!=nr[or]){ar=rr[or]>nr[or]?1:-1;break}return ar}function tr(rr,nr,ir){for(var sr=0;ir--;)rr[ir]-=sr,sr=rr[ir]<nr[ir]?1:0,rr[ir]=sr*BASE+rr[ir]-nr[ir];for(;!rr[0]&&rr.length>1;)rr.shift()}return function(rr,nr,ir,sr){var or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr,br,Sr,jr,Cr,Pr,Rr=rr.constructor,Lr=rr.s==nr.s?1:-1,Ir=rr.d,Nr=nr.d;if(!rr.s)return new Rr(rr);if(!nr.s)throw Error(decimalError+"Division by zero");for(ar=rr.e-nr.e,Cr=Nr.length,Sr=Ir.length,ur=new Rr(Lr),pr=ur.d=[],lr=0;Nr[lr]==(Ir[lr]||0);)++lr;if(Nr[lr]>(Ir[lr]||0)&&--ar,ir==null?yr=ir=Rr.precision:sr?yr=ir+(getBase10Exponent(rr)-getBase10Exponent(nr))+1:yr=ir,yr<0)return new Rr(0);if(yr=yr/LOG_BASE+2|0,lr=0,Cr==1)for(cr=0,Nr=Nr[0],yr++;(lr<Sr||cr)&&yr--;lr++)vr=cr*BASE+(Ir[lr]||0),pr[lr]=vr/Nr|0,cr=vr%Nr|0;else{for(cr=BASE/(Nr[0]+1)|0,cr>1&&(Nr=er(Nr,cr),Ir=er(Ir,cr),Cr=Nr.length,Sr=Ir.length),br=Cr,mr=Ir.slice(0,Cr),fr=mr.length;fr<Cr;)mr[fr++]=0;Pr=Nr.slice(),Pr.unshift(0),jr=Nr[0],Nr[1]>=BASE/2&&++jr;do cr=0,or=e(Nr,mr,Cr,fr),or<0?(gr=mr[0],Cr!=fr&&(gr=gr*BASE+(mr[1]||0)),cr=gr/jr|0,cr>1?(cr>=BASE&&(cr=BASE-1),dr=er(Nr,cr),hr=dr.length,fr=mr.length,or=e(dr,mr,hr,fr),or==1&&(cr--,tr(dr,Cr<hr?Pr:Nr,hr))):(cr==0&&(or=cr=1),dr=Nr.slice()),hr=dr.length,hr<fr&&dr.unshift(0),tr(mr,dr,fr),or==-1&&(fr=mr.length,or=e(Nr,mr,Cr,fr),or<1&&(cr++,tr(mr,Cr<fr?Pr:Nr,fr))),fr=mr.length):or===0&&(cr++,mr=[0]),pr[lr++]=cr,or&&mr[0]?mr[fr++]=Ir[br]||0:(mr=[Ir[br]],fr=1);while((br++<Sr||mr[0]!==void 0)&&yr--)}return pr[0]||pr.shift(),ur.e=ar,round(ur,sr?ir+getBase10Exponent(ur)+1:ir)}}();function exp(er,e){var tr,rr,nr,ir,sr,or,ar=0,lr=0,cr=er.constructor,dr=cr.precision;if(getBase10Exponent(er)>16)throw Error(exponentOutOfRange+getBase10Exponent(er));if(!er.s)return new cr(ONE);for(external=!1,or=dr,sr=new cr(.03125);er.abs().gte(.1);)er=er.times(sr),lr+=5;for(rr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,or+=rr,tr=nr=ir=new cr(ONE),cr.precision=or;;){if(nr=round(nr.times(er),or),tr=tr.times(++ar),sr=ir.plus(divide(nr,tr,or)),digitsToString(sr.d).slice(0,or)===digitsToString(ir.d).slice(0,or)){for(;lr--;)ir=round(ir.times(ir),or);return cr.precision=dr,e==null?(external=!0,round(ir,dr)):ir}ir=sr}}function getBase10Exponent(er){for(var e=er.e*LOG_BASE,tr=er.d[0];tr>=10;tr/=10)e++;return e}function getLn10(er,e,tr){if(e>er.LN10.sd())throw external=!0,tr&&(er.precision=tr),Error(decimalError+"LN10 precision limit exceeded");return round(new er(er.LN10),e)}function getZeroString(er){for(var e="";er--;)e+="0";return e}function ln$1(er,e){var tr,rr,nr,ir,sr,or,ar,lr,cr,dr=1,hr=10,ur=er,pr=ur.d,mr=ur.constructor,fr=mr.precision;if(ur.s<1)throw Error(decimalError+(ur.s?"NaN":"-Infinity"));if(ur.eq(ONE))return new mr(0);if(e==null?(external=!1,lr=fr):lr=e,ur.eq(10))return e==null&&(external=!0),getLn10(mr,lr);if(lr+=hr,mr.precision=lr,tr=digitsToString(pr),rr=tr.charAt(0),ir=getBase10Exponent(ur),Math.abs(ir)<15e14){for(;rr<7&&rr!=1||rr==1&&tr.charAt(1)>3;)ur=ur.times(er),tr=digitsToString(ur.d),rr=tr.charAt(0),dr++;ir=getBase10Exponent(ur),rr>1?(ur=new mr("0."+tr),ir++):ur=new mr(rr+"."+tr.slice(1))}else return ar=getLn10(mr,lr+2,fr).times(ir+""),ur=ln$1(new mr(rr+"."+tr.slice(1)),lr-hr).plus(ar),mr.precision=fr,e==null?(external=!0,round(ur,fr)):ur;for(or=sr=ur=divide(ur.minus(ONE),ur.plus(ONE),lr),cr=round(ur.times(ur),lr),nr=3;;){if(sr=round(sr.times(cr),lr),ar=or.plus(divide(sr,new mr(nr),lr)),digitsToString(ar.d).slice(0,lr)===digitsToString(or.d).slice(0,lr))return or=or.times(2),ir!==0&&(or=or.plus(getLn10(mr,lr+2,fr).times(ir+""))),or=divide(or,new mr(dr),lr),mr.precision=fr,e==null?(external=!0,round(or,fr)):or;or=ar,nr+=2}}function parseDecimal(er,e){var tr,rr,nr;for((tr=e.indexOf("."))>-1&&(e=e.replace(".","")),(rr=e.search(/e/i))>0?(tr<0&&(tr=rr),tr+=+e.slice(rr+1),e=e.substring(0,rr)):tr<0&&(tr=e.length),rr=0;e.charCodeAt(rr)===48;)++rr;for(nr=e.length;e.charCodeAt(nr-1)===48;)--nr;if(e=e.slice(rr,nr),e){if(nr-=rr,tr=tr-rr-1,er.e=mathfloor(tr/LOG_BASE),er.d=[],rr=(tr+1)%LOG_BASE,tr<0&&(rr+=LOG_BASE),rr<nr){for(rr&&er.d.push(+e.slice(0,rr)),nr-=LOG_BASE;rr<nr;)er.d.push(+e.slice(rr,rr+=LOG_BASE));e=e.slice(rr),rr=LOG_BASE-e.length}else rr-=nr;for(;rr--;)e+="0";if(er.d.push(+e),external&&(er.e>MAX_E||er.e<-MAX_E))throw Error(exponentOutOfRange+tr)}else er.s=0,er.e=0,er.d=[0];return er}function round(er,e,tr){var rr,nr,ir,sr,or,ar,lr,cr,dr=er.d;for(sr=1,ir=dr[0];ir>=10;ir/=10)sr++;if(rr=e-sr,rr<0)rr+=LOG_BASE,nr=e,lr=dr[cr=0];else{if(cr=Math.ceil((rr+1)/LOG_BASE),ir=dr.length,cr>=ir)return er;for(lr=ir=dr[cr],sr=1;ir>=10;ir/=10)sr++;rr%=LOG_BASE,nr=rr-LOG_BASE+sr}if(tr!==void 0&&(ir=mathpow(10,sr-nr-1),or=lr/ir%10|0,ar=e<0||dr[cr+1]!==void 0||lr%ir,ar=tr<4?(or||ar)&&(tr==0||tr==(er.s<0?3:2)):or>5||or==5&&(tr==4||ar||tr==6&&(rr>0?nr>0?lr/mathpow(10,sr-nr):0:dr[cr-1])%10&1||tr==(er.s<0?8:7))),e<1||!dr[0])return ar?(ir=getBase10Exponent(er),dr.length=1,e=e-ir-1,dr[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),er.e=mathfloor(-e/LOG_BASE)||0):(dr.length=1,dr[0]=er.e=er.s=0),er;if(rr==0?(dr.length=cr,ir=1,cr--):(dr.length=cr+1,ir=mathpow(10,LOG_BASE-rr),dr[cr]=nr>0?(lr/mathpow(10,sr-nr)%mathpow(10,nr)|0)*ir:0),ar)for(;;)if(cr==0){(dr[0]+=ir)==BASE&&(dr[0]=1,++er.e);break}else{if(dr[cr]+=ir,dr[cr]!=BASE)break;dr[cr--]=0,ir=1}for(rr=dr.length;dr[--rr]===0;)dr.pop();if(external&&(er.e>MAX_E||er.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(er));return er}function subtract(er,e){var tr,rr,nr,ir,sr,or,ar,lr,cr,dr,hr=er.constructor,ur=hr.precision;if(!er.s||!e.s)return e.s?e.s=-e.s:e=new hr(er),external?round(e,ur):e;if(ar=er.d,dr=e.d,rr=e.e,lr=er.e,ar=ar.slice(),sr=lr-rr,sr){for(cr=sr<0,cr?(tr=ar,sr=-sr,or=dr.length):(tr=dr,rr=lr,or=ar.length),nr=Math.max(Math.ceil(ur/LOG_BASE),or)+2,sr>nr&&(sr=nr,tr.length=1),tr.reverse(),nr=sr;nr--;)tr.push(0);tr.reverse()}else{for(nr=ar.length,or=dr.length,cr=nr<or,cr&&(or=nr),nr=0;nr<or;nr++)if(ar[nr]!=dr[nr]){cr=ar[nr]<dr[nr];break}sr=0}for(cr&&(tr=ar,ar=dr,dr=tr,e.s=-e.s),or=ar.length,nr=dr.length-or;nr>0;--nr)ar[or++]=0;for(nr=dr.length;nr>sr;){if(ar[--nr]<dr[nr]){for(ir=nr;ir&&ar[--ir]===0;)ar[ir]=BASE-1;--ar[ir],ar[nr]+=BASE}ar[nr]-=dr[nr]}for(;ar[--or]===0;)ar.pop();for(;ar[0]===0;ar.shift())--rr;return ar[0]?(e.d=ar,e.e=rr,external?round(e,ur):e):new hr(0)}function toString(er,e,tr){var rr,nr=getBase10Exponent(er),ir=digitsToString(er.d),sr=ir.length;return e?(tr&&(rr=tr-sr)>0?ir=ir.charAt(0)+"."+ir.slice(1)+getZeroString(rr):sr>1&&(ir=ir.charAt(0)+"."+ir.slice(1)),ir=ir+(nr<0?"e":"e+")+nr):nr<0?(ir="0."+getZeroString(-nr-1)+ir,tr&&(rr=tr-sr)>0&&(ir+=getZeroString(rr))):nr>=sr?(ir+=getZeroString(nr+1-sr),tr&&(rr=tr-nr-1)>0&&(ir=ir+"."+getZeroString(rr))):((rr=nr+1)<sr&&(ir=ir.slice(0,rr)+"."+ir.slice(rr)),tr&&(rr=tr-sr)>0&&(nr+1===sr&&(ir+="."),ir+=getZeroString(rr))),er.s<0?"-"+ir:ir}function truncate(er,e){if(er.length>e)return er.length=e,!0}function clone(er){var e,tr,rr;function nr(ir){var sr=this;if(!(sr instanceof nr))return new nr(ir);if(sr.constructor=nr,ir instanceof nr){sr.s=ir.s,sr.e=ir.e,sr.d=(ir=ir.d)?ir.slice():ir;return}if(typeof ir=="number"){if(ir*0!==0)throw Error(invalidArgument+ir);if(ir>0)sr.s=1;else if(ir<0)ir=-ir,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(ir===~~ir&&ir<1e7){sr.e=0,sr.d=[ir];return}return parseDecimal(sr,ir.toString())}else if(typeof ir!="string")throw Error(invalidArgument+ir);if(ir.charCodeAt(0)===45?(ir=ir.slice(1),sr.s=-1):sr.s=1,isDecimal.test(ir))parseDecimal(sr,ir);else throw Error(invalidArgument+ir)}if(nr.prototype=P$1,nr.ROUND_UP=0,nr.ROUND_DOWN=1,nr.ROUND_CEIL=2,nr.ROUND_FLOOR=3,nr.ROUND_HALF_UP=4,nr.ROUND_HALF_DOWN=5,nr.ROUND_HALF_EVEN=6,nr.ROUND_HALF_CEIL=7,nr.ROUND_HALF_FLOOR=8,nr.clone=clone,nr.config=nr.set=config,er===void 0&&(er={}),er)for(rr=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<rr.length;)er.hasOwnProperty(tr=rr[e++])||(er[tr]=this[tr]);return nr.config(er),nr}function config(er){if(!er||typeof er!="object")throw Error(decimalError+"Object expected");var e,tr,rr,nr=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<nr.length;e+=3)if((rr=er[tr=nr[e]])!==void 0)if(mathfloor(rr)===rr&&rr>=nr[e+1]&&rr<=nr[e+2])this[tr]=rr;else throw Error(invalidArgument+tr+": "+rr);if((rr=er[tr="LN10"])!==void 0)if(rr==Math.LN10)this[tr]=new this(rr);else throw Error(invalidArgument+tr+": "+rr);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=er=>er,PLACE_HOLDER={},isPlaceHolder=er=>er===PLACE_HOLDER,curry0=er=>function e(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?e:er(...arguments)},curryN=(er,e)=>er===1?e:curry0(function(){for(var tr=arguments.length,rr=new Array(tr),nr=0;nr<tr;nr++)rr[nr]=arguments[nr];var ir=rr.filter(sr=>sr!==PLACE_HOLDER).length;return ir>=er?e(...rr):curryN(er-ir,curry0(function(){for(var sr=arguments.length,or=new Array(sr),ar=0;ar<sr;ar++)or[ar]=arguments[ar];var lr=rr.map(cr=>isPlaceHolder(cr)?or.shift():cr);return e(...lr,...or)}))}),curry=er=>curryN(er.length,er),range=(er,e)=>{for(var tr=[],rr=er;rr<e;++rr)tr[rr-er]=rr;return tr},map=curry((er,e)=>Array.isArray(e)?e.map(er):Object.keys(e).map(tr=>e[tr]).map(er)),compose=function er(){for(var e=arguments.length,tr=new Array(e),rr=0;rr<e;rr++)tr[rr]=arguments[rr];if(!tr.length)return identity;var nr=tr.reverse(),ir=nr[0],sr=nr.slice(1);return function(){return sr.reduce((or,ar)=>ar(or),ir(...arguments))}};function getDigitCount(er){var e;return er===0?e=1:e=Math.floor(new Decimal$1(er).abs().log(10).toNumber())+1,e}function rangeStep(er,e,tr){for(var rr=new Decimal$1(er),nr=0,ir=[];rr.lt(e)&&nr<1e5;)ir.push(rr.toNumber()),rr=rr.add(tr),nr++;return ir}var getValidInterval=er=>{var[e,tr]=er,[rr,nr]=[e,tr];return e>tr&&([rr,nr]=[tr,e]),[rr,nr]},getFormatStep=(er,e,tr)=>{if(er.lte(0))return new Decimal$1(0);var rr=getDigitCount(er.toNumber()),nr=new Decimal$1(10).pow(rr),ir=er.div(nr),sr=rr!==1?.05:.1,or=new Decimal$1(Math.ceil(ir.div(sr).toNumber())).add(tr).mul(sr),ar=or.mul(nr);return e?new Decimal$1(ar.toNumber()):new Decimal$1(Math.ceil(ar.toNumber()))},getTickOfSingleValue=(er,e,tr)=>{var rr=new Decimal$1(1),nr=new Decimal$1(er);if(!nr.isint()&&tr){var ir=Math.abs(er);ir<1?(rr=new Decimal$1(10).pow(getDigitCount(er)-1),nr=new Decimal$1(Math.floor(nr.div(rr).toNumber())).mul(rr)):ir>1&&(nr=new Decimal$1(Math.floor(er)))}else er===0?nr=new Decimal$1(Math.floor((e-1)/2)):tr||(nr=new Decimal$1(Math.floor(er)));var sr=Math.floor((e-1)/2),or=compose(map(ar=>nr.add(new Decimal$1(ar-sr).mul(rr)).toNumber()),range);return or(0,e)},_calculateStep=function er(e,tr,rr,nr){var ir=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tr-e)/(rr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var sr=getFormatStep(new Decimal$1(tr).sub(e).div(rr-1),nr,ir),or;e<=0&&tr>=0?or=new Decimal$1(0):(or=new Decimal$1(e).add(tr).div(2),or=or.sub(new Decimal$1(or).mod(sr)));var ar=Math.ceil(or.sub(e).div(sr).toNumber()),lr=Math.ceil(new Decimal$1(tr).sub(or).div(sr).toNumber()),cr=ar+lr+1;return cr>rr?_calculateStep(e,tr,rr,nr,ir+1):(cr<rr&&(lr=tr>0?lr+(rr-cr):lr,ar=tr>0?ar:ar+(rr-cr)),{step:sr,tickMin:or.sub(new Decimal$1(ar).mul(sr)),tickMax:or.add(new Decimal$1(lr).mul(sr))})},getNiceTickValues=function er(e){var[tr,rr]=e,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(nr,2),[or,ar]=getValidInterval([tr,rr]);if(or===-1/0||ar===1/0){var lr=ar===1/0?[or,...range(0,nr-1).map(()=>1/0)]:[...range(0,nr-1).map(()=>-1/0),ar];return tr>rr?lr.reverse():lr}if(or===ar)return getTickOfSingleValue(or,nr,ir);var{step:cr,tickMin:dr,tickMax:hr}=_calculateStep(or,ar,sr,ir,0),ur=rangeStep(dr,hr.add(new Decimal$1(.1).mul(cr)),cr);return tr>rr?ur.reverse():ur},getTickValuesFixedDomain=function er(e,tr){var[rr,nr]=e,ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[sr,or]=getValidInterval([rr,nr]);if(sr===-1/0||or===1/0)return[rr,nr];if(sr===or)return[sr];var ar=Math.max(tr,2),lr=getFormatStep(new Decimal$1(or).sub(sr).div(ar-1),ir,0),cr=[...rangeStep(new Decimal$1(sr),new Decimal$1(or),lr),or];return ir===!1&&(cr=cr.map(dr=>Math.round(dr))),rr>nr?cr.reverse():cr},selectRootMaxBarSize=er=>er.rootProps.maxBarSize,selectBarGap=er=>er.rootProps.barGap,selectBarCategoryGap=er=>er.rootProps.barCategoryGap,selectRootBarSize=er=>er.rootProps.barSize,selectStackOffsetType=er=>er.rootProps.stackOffset,selectReverseStackOrder=er=>er.rootProps.reverseStackOrder,selectChartName=er=>er.options.chartName,selectSyncId=er=>er.rootProps.syncId,selectSyncMethod=er=>er.rootProps.syncMethod,selectEventEmitter=er=>er.options.eventEmitter,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(er,e)=>{if(!(!er||!e))return er!=null&&er.reversed?[e[1],e[0]]:e},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(er,e)=>er.polarAxis.angleAxis[e]!=null?er.polarAxis.angleAxis[e]:er.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(er,e)=>er.polarAxis.radiusAxis[e]!=null?er.polarAxis.radiusAxis[e]:er.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=er=>er.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(er,e)=>{if(er!=null)return getPercentValue(er.innerRadius,e,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(er,e)=>{if(er!=null)return getPercentValue(er.outerRadius,e,e*.8)}),combineAngleAxisRange=er=>{if(er==null)return[0,0];var{startAngle:e,endAngle:tr}=er;return[e,tr]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(er,e,tr)=>{if(!(er==null||e==null||tr==null))return[e,tr]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(er,e,tr,rr,nr,ir)=>{if(!(er!=="centric"&&er!=="radial"||e==null||tr==null||rr==null)){var{cx:sr,cy:or,startAngle:ar,endAngle:lr}=e;return{cx:getPercentValue(sr,nr,nr/2),cy:getPercentValue(or,ir,ir/2),innerRadius:tr,outerRadius:rr,startAngle:ar,endAngle:lr,clockWise:!1}}}),pickAxisType=(er,e)=>e,pickAxisId=(er,e,tr)=>tr;function getStackSeriesIdentifier(er){return er==null?void 0:er.id}function combineDisplayedStackedData(er,e,tr){var{chartData:rr=[]}=e,{allowDuplicatedCategory:nr,dataKey:ir}=tr,sr=new Map;return er.forEach(or=>{var ar,lr=(ar=or.data)!==null&&ar!==void 0?ar:rr;if(!(lr==null||lr.length===0)){var cr=getStackSeriesIdentifier(or);lr.forEach((dr,hr)=>{var ur=ir==null||nr?hr:String(getValueByDataKey(dr,ir,null)),pr=getValueByDataKey(dr,or.dataKey,0),mr;sr.has(ur)?mr=sr.get(ur):mr={},Object.assign(mr,{[cr]:pr}),sr.set(ur,mr)})}}),Array.from(sr.values())}function isStacked(er){return"stackId"in er&&er.stackId!=null&&er.dataKey!=null}var numberDomainEqualityCheck=(er,e)=>er===e?!0:er==null||e==null?!1:er[0]===e[0]&&er[1]===e[1];function emptyArraysAreEqualCheck(er,e){return Array.isArray(er)&&Array.isArray(e)&&er.length===0&&e.length===0?!0:er===e}function arrayContentsAreEqualCheck(er,e){if(er.length===e.length){for(var tr=0;tr<er.length;tr++)if(er[tr]!==e[tr])return!1;return!0}return!1}var selectTooltipAxisType=er=>{var e=selectChartLayout(er);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=er=>er.tooltip.settings.axisId;function ownKeys$p(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$p(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(tr),!0).forEach(function(rr){_defineProperty$s(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$p(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$s(er,e,tr){return(e=_toPropertyKey$s(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$s(er){var e=_toPrimitive$s(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$s(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(er,e)=>er.cartesianAxis.xAxis[e],selectXAxisSettings=(er,e)=>{var tr=selectXAxisSettingsNoDefaults(er,e);return tr??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(er,e)=>er.cartesianAxis.yAxis[e],selectYAxisSettings=(er,e)=>{var tr=selectYAxisSettingsNoDefaults(er,e);return tr??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(er,e)=>{var tr=er.cartesianAxis.zAxis[e];return tr??implicitZAxis},selectBaseAxis=(er,e,tr)=>{switch(e){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);case"zAxis":return selectZAxisSettings(er,tr);case"angleAxis":return selectAngleAxis(er,tr);case"radiusAxis":return selectRadiusAxis(er,tr);default:throw new Error("Unexpected axis type: ".concat(e))}},selectCartesianAxisSettings=(er,e,tr)=>{switch(e){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);default:throw new Error("Unexpected axis type: ".concat(e))}},selectAxisSettings=(er,e,tr)=>{switch(e){case"xAxis":return selectXAxisSettings(er,tr);case"yAxis":return selectYAxisSettings(er,tr);case"angleAxis":return selectAngleAxis(er,tr);case"radiusAxis":return selectRadiusAxis(er,tr);default:throw new Error("Unexpected axis type: ".concat(e))}},selectHasBar=er=>er.graphicalItems.cartesianItems.some(e=>e.type==="bar")||er.graphicalItems.polarItems.some(e=>e.type==="radialBar");function itemAxisPredicate(er,e){return tr=>{switch(er){case"xAxis":return"xAxisId"in tr&&tr.xAxisId===e;case"yAxis":return"yAxisId"in tr&&tr.yAxisId===e;case"zAxis":return"zAxisId"in tr&&tr.zAxisId===e;case"angleAxis":return"angleAxisId"in tr&&tr.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in tr&&tr.radiusAxisId===e;default:return!1}}}var selectUnfilteredCartesianItems=er=>er.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(er,e,tr)=>er.filter(tr).filter(rr=>(e==null?void 0:e.includeHidden)===!0?!0:!rr.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],er=>er.filter(e=>e.type==="area"||e.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=er=>er.filter(e=>!("stackId"in e)||e.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=er=>er.map(e=>e.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(er,e)=>{var{chartData:tr=[],dataStartIndex:rr,dataEndIndex:nr}=e;return er.length>0?er:tr.slice(rr,nr+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanoramaPosition4],combineDisplayedData),combineAppliedValues=(er,e,tr)=>(e==null?void 0:e.dataKey)!=null?er.map(rr=>({value:getValueByDataKey(rr,e.dataKey)})):tr.length>0?tr.map(rr=>rr.dataKey).flatMap(rr=>er.map(nr=>({value:getValueByDataKey(nr,rr)}))):er.map(rr=>({value:rr})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(er,e){switch(er){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function makeNumber(er){if(isNumOrStr(er)||er instanceof Date){var e=Number(er);if(isWellBehavedNumber(e))return e}}function makeDomain(er){if(Array.isArray(er)){var e=[makeNumber(er[0]),makeNumber(er[1])];return isWellFormedNumberDomain(e)?e:void 0}var tr=makeNumber(er);if(tr!=null)return[tr,tr]}function onlyAllowNumbers(er){return er.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(er,e,tr){return!tr||typeof e!="number"||isNan(e)?[]:tr.length?onlyAllowNumbers(tr.flatMap(rr=>{var nr=getValueByDataKey(er,rr.dataKey),ir,sr;if(Array.isArray(nr)?[ir,sr]=nr:ir=sr=nr,!(!isWellBehavedNumber(ir)||!isWellBehavedNumber(sr)))return[e-ir,e+sr]})):[]}var selectTooltipAxis=er=>{var e=selectTooltipAxisType(er),tr=selectTooltipAxisId(er);return selectAxisSettings(er,e,tr)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],er=>er==null?void 0:er.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanoramaPosition4,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(er,e,tr,rr)=>{var nr={},ir=e.reduce((sr,or)=>{if(or.stackId==null)return sr;var ar=sr[or.stackId];return ar==null&&(ar=[]),ar.push(or),sr[or.stackId]=ar,sr},nr);return Object.fromEntries(Object.entries(ir).map(sr=>{var[or,ar]=sr,lr=rr?[...ar].reverse():ar,cr=lr.map(getStackSeriesIdentifier);return[or,{stackedData:getStackedData(er,cr,tr),graphicalItems:lr}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),combineDomainOfStackGroups=(er,e,tr,rr)=>{var{dataStartIndex:nr,dataEndIndex:ir}=e;if(rr==null&&tr!=="zAxis"){var sr=getDomainOfStackGroups(er,nr,ir);if(!(sr!=null&&sr[0]===0&&sr[1]===0))return sr}},selectAllowsDataOverflow=createSelector([selectBaseAxis],er=>er.allowDataOverflow),getDomainDefinition=er=>{var e;if(er==null||!("domain"in er))return defaultNumericDomain;if(er.domain!=null)return er.domain;if("ticks"in er&&er.ticks!=null){if(er.type==="number"){var tr=onlyAllowNumbers(er.ticks);return[Math.min(...tr),Math.max(...tr)]}if(er.type==="category")return er.ticks.map(String)}return(e=er==null?void 0:er.domain)!==null&&e!==void 0?e:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=er=>er.errorBars,combineRelevantErrorBarSettings=(er,e,tr)=>er.flatMap(rr=>e[rr.id]).filter(Boolean).filter(rr=>isErrorBarRelevantForAxisType(tr,rr)),mergeDomains=function er(){for(var e=arguments.length,tr=new Array(e),rr=0;rr<e;rr++)tr[rr]=arguments[rr];var nr=tr.filter(Boolean);if(nr.length!==0){var ir=nr.flat(),sr=Math.min(...ir),or=Math.max(...ir);return[sr,or]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(er,e,tr,rr,nr)=>{var ir,sr;if(tr.length>0&&er.forEach(or=>{tr.forEach(ar=>{var lr,cr,dr=(lr=rr[ar.id])===null||lr===void 0?void 0:lr.filter(gr=>isErrorBarRelevantForAxisType(nr,gr)),hr=getValueByDataKey(or,(cr=e.dataKey)!==null&&cr!==void 0?cr:ar.dataKey),ur=getErrorDomainByDataKey(or,hr,dr);if(ur.length>=2){var pr=Math.min(...ur),mr=Math.max(...ur);(ir==null||pr<ir)&&(ir=pr),(sr==null||mr>sr)&&(sr=mr)}var fr=makeDomain(hr);fr!=null&&(ir=ir==null?fr[0]:Math.min(ir,fr[0]),sr=sr==null?fr[1]:Math.max(sr,fr[1]))})}),(e==null?void 0:e.dataKey)!=null&&er.forEach(or=>{var ar=makeDomain(getValueByDataKey(or,e.dataKey));ar!=null&&(ir=ir==null?ar[0]:Math.min(ir,ar[0]),sr=sr==null?ar[1]:Math.max(sr,ar[1]))}),isWellBehavedNumber(ir)&&isWellBehavedNumber(sr))return[ir,sr]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(er){var{value:e}=er;if(isNumOrStr(e)||e instanceof Date)return e}var computeDomainOfTypeCategory=(er,e,tr)=>{var rr=er.map(onlyAllowNumbersAndStringsAndDates).filter(nr=>nr!=null);return tr&&(e.dataKey==null||e.allowDuplicatedCategory&&hasDuplicate(rr))?range$3(0,er.length):e.allowDuplicatedCategory?rr:Array.from(new Set(rr))},selectReferenceDots=er=>er.referenceElements.dots,filterReferenceElements=(er,e,tr)=>er.filter(rr=>rr.ifOverflow==="extendDomain").filter(rr=>e==="xAxis"?rr.xAxisId===tr:rr.yAxisId===tr),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=er=>er.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=er=>er.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(er,e)=>{if(er!=null){var tr=onlyAllowNumbers(er.map(rr=>e==="xAxis"?rr.x:rr.y));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]}},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(er,e)=>{if(er!=null){var tr=onlyAllowNumbers(er.flatMap(rr=>[e==="xAxis"?rr.x1:rr.y1,e==="xAxis"?rr.x2:rr.y2]));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]}},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(er){var e;if(er.x!=null)return onlyAllowNumbers([er.x]);var tr=(e=er.segment)===null||e===void 0?void 0:e.map(rr=>rr.x);return tr==null||tr.length===0?[]:onlyAllowNumbers(tr)}function extractYCoordinates(er){var e;if(er.y!=null)return onlyAllowNumbers([er.y]);var tr=(e=er.segment)===null||e===void 0?void 0:e.map(rr=>rr.y);return tr==null||tr.length===0?[]:onlyAllowNumbers(tr)}var combineLinesDomain=(er,e)=>{if(er!=null){var tr=er.flatMap(rr=>e==="xAxis"?extractXCoordinates(rr):extractYCoordinates(rr));if(tr.length!==0)return[Math.min(...tr),Math.max(...tr)]}},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(er,e,tr)=>mergeDomains(er,tr,e)),combineNumericalDomain=(er,e,tr,rr,nr,ir,sr,or)=>{if(tr!=null)return tr;var ar=sr==="vertical"&&or==="xAxis"||sr==="horizontal"&&or==="yAxis",lr=ar?mergeDomains(rr,ir,nr):mergeDomains(ir,nr);return parseNumericalUserDomain(e,lr,er.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(er,e,tr,rr,nr,ir,sr)=>{if(!((er==null||tr==null||tr.length===0)&&sr===void 0)){var{dataKey:or,type:ar}=er,lr=isCategoricalAxis(e,ir);if(lr&&or==null){var cr;return range$3(0,(cr=tr==null?void 0:tr.length)!==null&&cr!==void 0?cr:0)}return ar==="category"?computeDomainOfTypeCategory(rr,er,lr):nr==="expand"?expandDomain:sr}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(er,e,tr,rr,nr)=>{if(er!=null){var{scale:ir,type:sr}=er;if(ir==="auto")return e==="radial"&&nr==="radiusAxis"?"band":e==="radial"&&nr==="angleAxis"?"linear":sr==="category"&&rr&&(rr.indexOf("LineChart")>=0||rr.indexOf("AreaChart")>=0||rr.indexOf("ComposedChart")>=0&&!tr)?"point":sr==="category"?"band":"linear";if(typeof ir=="string"){var or="scale".concat(upperFirst(ir));return or in d3Scales?or:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(er){if(er!=null){if(er in d3Scales)return d3Scales[er]();var e="scale".concat(upperFirst(er));if(e in d3Scales)return d3Scales[e]()}}function combineScaleFunction(er,e,tr,rr){if(!(tr==null||rr==null)){if(typeof er.scale=="function")return er.scale.copy().domain(tr).range(rr);var nr=getD3ScaleFromType(e);if(nr!=null){var ir=nr.domain(tr).range(rr);return checkDomainOfScale(ir),ir}}}var combineNiceTicks=(er,e,tr)=>{var rr=getDomainDefinition(e);if(!(tr!=="auto"&&tr!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(rr)&&(rr[0]==="auto"||rr[1]==="auto")&&isWellFormedNumberDomain(er))return getNiceTickValues(er,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&isWellFormedNumberDomain(er))return getTickValuesFixedDomain(er,e.tickCount,e.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(er,e,tr,rr)=>{if(rr!=="angleAxis"&&(er==null?void 0:er.type)==="number"&&isWellFormedNumberDomain(e)&&Array.isArray(tr)&&tr.length>0){var nr=e[0],ir=tr[0],sr=e[1],or=tr[tr.length-1];return[Math.min(nr,ir),Math.max(sr,or)]}return e},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(er,e)=>{if(!(!e||e.type!=="number")){var tr=1/0,rr=Array.from(onlyAllowNumbers(er.map(dr=>dr.value))).sort((dr,hr)=>dr-hr),nr=rr[0],ir=rr[rr.length-1];if(nr==null||ir==null)return 1/0;var sr=ir-nr;if(sr===0)return 1/0;for(var or=0;or<rr.length-1;or++){var ar=rr[or],lr=rr[or+1];if(!(ar==null||lr==null)){var cr=lr-ar;tr=Math.min(tr,cr)}}return tr/sr}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(er,e,tr,rr,nr)=>nr,(er,e,tr,rr,nr)=>{if(!isWellBehavedNumber(er))return 0;var ir=e==="vertical"?rr.height:rr.width;if(nr==="gap")return er*ir/2;if(nr==="no-gap"){var sr=getPercentValue(tr,er*ir),or=er*ir/2;return or-sr-(or-sr)/ir*sr}return 0}),selectCalculatedXAxisPadding=(er,e,tr)=>{var rr=selectXAxisSettings(er,e);return rr==null||typeof rr.padding!="string"?0:selectCalculatedPadding(er,"xAxis",e,tr,rr.padding)},selectCalculatedYAxisPadding=(er,e,tr)=>{var rr=selectYAxisSettings(er,e);return rr==null||typeof rr.padding!="string"?0:selectCalculatedPadding(er,"yAxis",e,tr,rr.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(er,e)=>{var tr,rr;if(er==null)return{left:0,right:0};var{padding:nr}=er;return typeof nr=="string"?{left:e,right:e}:{left:((tr=nr.left)!==null&&tr!==void 0?tr:0)+e,right:((rr=nr.right)!==null&&rr!==void 0?rr:0)+e}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(er,e)=>{var tr,rr;if(er==null)return{top:0,bottom:0};var{padding:nr}=er;return typeof nr=="string"?{top:e,bottom:e}:{top:((tr=nr.top)!==null&&tr!==void 0?tr:0)+e,bottom:((rr=nr.bottom)!==null&&rr!==void 0?rr:0)+e}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(er,e,tr)=>tr],(er,e,tr,rr,nr)=>{var{padding:ir}=rr;return nr?[ir.left,tr.width-ir.right]:[er.left+e.left,er.left+er.width-e.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(er,e,tr)=>tr],(er,e,tr,rr,nr,ir)=>{var{padding:sr}=nr;return ir?[rr.height-sr.bottom,sr.top]:e==="horizontal"?[er.top+er.height-tr.bottom,er.top+tr.top]:[er.top+tr.top,er.top+er.height-tr.bottom]}),selectAxisRange=(er,e,tr,rr)=>{var nr;switch(e){case"xAxis":return combineXAxisRange(er,tr,rr);case"yAxis":return combineYAxisRange(er,tr,rr);case"zAxis":return(nr=selectZAxisSettings(er,tr))===null||nr===void 0?void 0:nr.range;case"angleAxis":return selectAngleAxisRange(er);case"radiusAxis":return selectRadiusAxisRange(er,tr);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(er,e){return er.id<e.id?-1:er.id>e.id?1:0}var pickAxisOrientation=(er,e)=>e,pickMirror=(er,e,tr)=>tr,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(er,e,tr)=>er.filter(rr=>rr.orientation===e).filter(rr=>rr.mirror===tr).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(er,e,tr)=>er.filter(rr=>rr.orientation===e).filter(rr=>rr.mirror===tr).sort(compareIds)),getXAxisSize=(er,e)=>({width:er.width,height:e.height}),getYAxisSize=(er,e)=>{var tr=typeof e.width=="number"?e.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:er.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(er,e,tr)=>{switch(e){case"top":return er.top;case"bottom":return tr-er.bottom;default:return 0}},combineYAxisPositionStartingPoint=(er,e,tr)=>{switch(e){case"left":return er.left;case"right":return tr-er.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(er,e,tr,rr,nr)=>{var ir={},sr;return tr.forEach(or=>{var ar=getXAxisSize(e,or);sr==null&&(sr=combineXAxisPositionStartingPoint(e,rr,er));var lr=rr==="top"&&!nr||rr==="bottom"&&nr;ir[or.id]=sr-Number(lr)*ar.height,sr+=(lr?-1:1)*ar.height}),ir}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(er,e,tr,rr,nr)=>{var ir={},sr;return tr.forEach(or=>{var ar=getYAxisSize(e,or);sr==null&&(sr=combineYAxisPositionStartingPoint(e,rr,er));var lr=rr==="left"&&!nr||rr==="right"&&nr;ir[or.id]=sr-Number(lr)*ar.width,sr+=(lr?-1:1)*ar.width}),ir}),selectXAxisOffsetSteps=(er,e)=>{var tr=selectXAxisSettings(er,e);if(tr!=null)return selectAllXAxesOffsetSteps(er,tr.orientation,tr.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(er,e)=>e],(er,e,tr,rr)=>{if(e!=null){var nr=tr==null?void 0:tr[rr];return nr==null?{x:er.left,y:0}:{x:er.left,y:nr}}}),selectYAxisOffsetSteps=(er,e)=>{var tr=selectYAxisSettings(er,e);if(tr!=null)return selectAllYAxesOffsetSteps(er,tr.orientation,tr.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(er,e)=>e],(er,e,tr,rr)=>{if(e!=null){var nr=tr==null?void 0:tr[rr];return nr==null?{x:0,y:er.top}:{x:nr,y:er.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(er,e)=>{var tr=typeof e.width=="number"?e.width:DEFAULT_Y_AXIS_WIDTH;return{width:tr,height:er.height}}),selectCartesianAxisSize=(er,e,tr)=>{switch(e){case"xAxis":return selectXAxisSize(er,tr).width;case"yAxis":return selectYAxisSize(er,tr).height;default:return}},combineDuplicateDomain=(er,e,tr,rr)=>{if(tr!=null){var{allowDuplicatedCategory:nr,type:ir,dataKey:sr}=tr,or=isCategoricalAxis(er,rr),ar=e.map(lr=>lr.value);if(sr&&or&&ir==="category"&&nr&&hasDuplicate(ar))return ar}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(er,e,tr,rr)=>{if(!(tr==null||tr.dataKey==null)){var{type:nr,scale:ir}=tr,sr=isCategoricalAxis(er,rr);if(sr&&(nr==="number"||ir!=="auto"))return e.map(or=>or.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(er,e,tr,rr,nr,ir,sr,or,ar)=>{if(e!=null){var lr=isCategoricalAxis(er,ar);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:ar,categoricalDomain:ir,duplicateDomain:nr,isCategorical:lr,niceTicks:or,range:sr,realScaleType:tr,scale:rr}}}),combineAxisTicks=(er,e,tr,rr,nr,ir,sr,or,ar)=>{if(!(e==null||rr==null)){var lr=isCategoricalAxis(er,ar),{type:cr,ticks:dr,tickCount:hr}=e,ur=tr==="scaleBand"&&typeof rr.bandwidth=="function"?rr.bandwidth()/2:2,pr=cr==="category"&&rr.bandwidth?rr.bandwidth()/ur:0;pr=ar==="angleAxis"&&ir!=null&&ir.length>=2?mathSign(ir[0]-ir[1])*2*pr:pr;var mr=dr||nr;if(mr){var fr=mr.map((gr,yr)=>{var vr=sr?sr.indexOf(gr):gr;return{index:yr,coordinate:rr(vr)+pr,value:gr,offset:pr}});return fr.filter(gr=>isWellBehavedNumber(gr.coordinate))}return lr&&or?or.map((gr,yr)=>({coordinate:rr(gr)+pr,value:gr,index:yr,offset:pr})).filter(gr=>isWellBehavedNumber(gr.coordinate)):rr.ticks?rr.ticks(hr).map(gr=>({coordinate:rr(gr)+pr,value:gr,offset:pr})):rr.domain().map((gr,yr)=>({coordinate:rr(gr)+pr,value:sr?sr[gr]:gr,index:yr,offset:pr}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(er,e,tr,rr,nr,ir,sr)=>{if(!(e==null||tr==null||rr==null||rr[0]===rr[1])){var or=isCategoricalAxis(er,sr),{tickCount:ar}=e,lr=0;return lr=sr==="angleAxis"&&(rr==null?void 0:rr.length)>=2?mathSign(rr[0]-rr[1])*2*lr:lr,or&&ir?ir.map((cr,dr)=>({coordinate:tr(cr)+lr,value:cr,index:dr,offset:lr})):tr.ticks?tr.ticks(ar).map(cr=>({coordinate:tr(cr)+lr,value:cr,offset:lr})):tr.domain().map((cr,dr)=>({coordinate:tr(cr)+lr,value:nr?nr[cr]:cr,index:dr,offset:lr}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(er,e)=>{if(!(er==null||e==null))return _objectSpread$p(_objectSpread$p({},er),{},{scale:e})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((er,e,tr)=>selectZAxisSettings(er,tr),selectZAxisScale,(er,e)=>{if(!(er==null||e==null))return _objectSpread$p(_objectSpread$p({},er),{},{scale:e})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(er,e,tr)=>{switch(er){case"horizontal":return e.some(rr=>rr.reversed)?"right-to-left":"left-to-right";case"vertical":return tr.some(rr=>rr.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=er=>er.options.defaultTooltipEventType,selectValidateTooltipEventTypes=er=>er.options.validateTooltipEventTypes;function combineTooltipEventType(er,e,tr){if(er==null)return e;var rr=er?"axis":"item";return tr==null?e:tr.includes(rr)?rr:e}function selectTooltipEventType$1(er,e){var tr=selectDefaultTooltipEventType(er),rr=selectValidateTooltipEventTypes(er);return combineTooltipEventType(e,tr,rr)}function useTooltipEventType(er){return useAppSelector(e=>selectTooltipEventType$1(e,er))}var combineActiveLabel=(er,e)=>{var tr,rr=Number(e);if(!(isNan(rr)||e==null))return rr>=0?er==null||(tr=er[rr])===null||tr===void 0?void 0:tr.value:void 0},selectTooltipSettings=er=>er.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},initialState$9={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$9,reducers:{addTooltipEntrySettings:{reducer(er,e){er.tooltipItemPayloads.push(e.payload)},prepare:prepareAutoBatched()},replaceTooltipEntrySettings:{reducer(er,e){var{prev:tr,next:rr}=e.payload,nr=current$1(er).tooltipItemPayloads.indexOf(tr);nr>-1&&(er.tooltipItemPayloads[nr]=rr)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(er,e){var tr=current$1(er).tooltipItemPayloads.indexOf(e.payload);tr>-1&&er.tooltipItemPayloads.splice(tr,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(er,e){er.settings=e.payload},setActiveMouseOverItemIndex(er,e){er.syncInteraction.active=!1,er.keyboardInteraction.active=!1,er.itemInteraction.hover.active=!0,er.itemInteraction.hover.index=e.payload.activeIndex,er.itemInteraction.hover.dataKey=e.payload.activeDataKey,er.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,er.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(er){er.itemInteraction.hover.active=!1,er.axisInteraction.hover.active=!1},mouseLeaveItem(er){er.itemInteraction.hover.active=!1},setActiveClickItemIndex(er,e){er.syncInteraction.active=!1,er.itemInteraction.click.active=!0,er.keyboardInteraction.active=!1,er.itemInteraction.click.index=e.payload.activeIndex,er.itemInteraction.click.dataKey=e.payload.activeDataKey,er.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,er.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(er,e){er.syncInteraction.active=!1,er.axisInteraction.hover.active=!0,er.keyboardInteraction.active=!1,er.axisInteraction.hover.index=e.payload.activeIndex,er.axisInteraction.hover.dataKey=e.payload.activeDataKey,er.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(er,e){er.syncInteraction.active=!1,er.keyboardInteraction.active=!1,er.axisInteraction.click.active=!0,er.axisInteraction.click.index=e.payload.activeIndex,er.axisInteraction.click.dataKey=e.payload.activeDataKey,er.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(er,e){er.syncInteraction=e.payload},setKeyboardInteraction(er,e){er.keyboardInteraction.active=e.payload.active,er.keyboardInteraction.index=e.payload.activeIndex,er.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings,replaceTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$o(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$o(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(tr),!0).forEach(function(rr){_defineProperty$r(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$o(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$r(er,e,tr){return(e=_toPropertyKey$r(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$r(er){var e=_toPrimitive$r(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$r(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function chooseAppropriateMouseInteraction(er,e,tr){return e==="axis"?tr==="click"?er.axisInteraction.click:er.axisInteraction.hover:tr==="click"?er.itemInteraction.click:er.itemInteraction.hover}function hasBeenActivePreviously(er){return er.index!=null}var combineTooltipInteractionState=(er,e,tr,rr)=>{if(e==null)return noInteraction;var nr=chooseAppropriateMouseInteraction(er,e,tr);if(nr==null)return noInteraction;if(nr.active)return nr;if(er.keyboardInteraction.active)return er.keyboardInteraction;if(er.syncInteraction.active&&er.syncInteraction.index!=null)return er.syncInteraction;var ir=er.settings.active===!0;if(hasBeenActivePreviously(nr)){if(ir)return _objectSpread$o(_objectSpread$o({},nr),{},{active:!0})}else if(rr!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:rr,graphicalItemId:void 0};return _objectSpread$o(_objectSpread$o({},noInteraction),{},{coordinate:nr.coordinate})};function toFiniteNumber(er){if(typeof er=="number")return Number.isFinite(er)?er:void 0;if(er instanceof Date){var e=er.valueOf();return Number.isFinite(e)?e:void 0}var tr=Number(er);return Number.isFinite(tr)?tr:void 0}function isValueWithinNumberDomain(er,e){var tr=toFiniteNumber(er),rr=e[0],nr=e[1];if(tr===void 0)return!1;var ir=Math.min(rr,nr),sr=Math.max(rr,nr);return tr>=ir&&tr<=sr}function isValueWithinDomain(er,e,tr){if(tr==null||e==null)return!0;var rr=getValueByDataKey(er,e);return rr==null||!isWellFormedNumberDomain(tr)?!0:isValueWithinNumberDomain(rr,tr)}var combineActiveTooltipIndex=(er,e,tr,rr)=>{var nr=er==null?void 0:er.index;if(nr==null)return null;var ir=Number(nr);if(!isWellBehavedNumber(ir))return nr;var sr=0,or=1/0;e.length>0&&(or=e.length-1);var ar=Math.max(sr,Math.min(ir,or)),lr=e[ar];return lr==null||isValueWithinDomain(lr,tr,rr)?String(ar):null},combineCoordinateForDefaultIndex=(er,e,tr,rr,nr,ir,sr,or)=>{if(!(ir==null||or==null)){var ar=sr[0],lr=ar==null?void 0:or(ar.positions,ir);if(lr!=null)return lr;var cr=nr==null?void 0:nr[Number(ir)];if(cr)switch(tr){case"horizontal":return{x:cr.coordinate,y:(rr.top+e)/2};default:return{x:(rr.left+er)/2,y:cr.coordinate}}}},combineTooltipPayloadConfigurations=(er,e,tr,rr)=>{if(e==="axis")return er.tooltipItemPayloads;if(er.tooltipItemPayloads.length===0)return[];var nr;if(tr==="hover"?nr=er.itemInteraction.hover.graphicalItemId:nr=er.itemInteraction.click.graphicalItemId,nr==null&&rr!=null){var ir=er.tooltipItemPayloads[0];return ir!=null?[ir]:[]}return er.tooltipItemPayloads.filter(sr=>{var or;return((or=sr.settings)===null||or===void 0?void 0:or.graphicalItemId)===nr})},selectTooltipPayloadSearcher=er=>er.options.tooltipPayloadSearcher,selectTooltipState=er=>er.tooltip;function ownKeys$n(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$n(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(tr),!0).forEach(function(rr){_defineProperty$q(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$n(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$q(er,e,tr){return(e=_toPropertyKey$q(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$q(er){var e=_toPrimitive$q(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$q(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function selectFinalData(er,e){return er??e}var combineTooltipPayload=(er,e,tr,rr,nr,ir,sr)=>{if(!(e==null||ir==null)){var{chartData:or,computedData:ar,dataStartIndex:lr,dataEndIndex:cr}=tr,dr=[];return er.reduce((hr,ur)=>{var pr,{dataDefinedOnItem:mr,settings:fr}=ur,gr=selectFinalData(mr,or),yr=Array.isArray(gr)?getSliced(gr,lr,cr):gr,vr=(pr=fr==null?void 0:fr.dataKey)!==null&&pr!==void 0?pr:rr,br=fr==null?void 0:fr.nameKey,Sr;if(rr&&Array.isArray(yr)&&!Array.isArray(yr[0])&&sr==="axis"?Sr=findEntryInArray(yr,rr,nr):Sr=ir(yr,e,ar,br),Array.isArray(Sr))Sr.forEach(Cr=>{var Pr=_objectSpread$n(_objectSpread$n({},fr),{},{name:Cr.name,unit:Cr.unit,color:void 0,fill:void 0});hr.push(getTooltipEntry({tooltipEntrySettings:Pr,dataKey:Cr.dataKey,payload:Cr.payload,value:getValueByDataKey(Cr.payload,Cr.dataKey),name:Cr.name}))});else{var jr;hr.push(getTooltipEntry({tooltipEntrySettings:fr,dataKey:vr,payload:Sr,value:getValueByDataKey(Sr,vr),name:(jr=getValueByDataKey(Sr,br))!==null&&jr!==void 0?jr:fr==null?void 0:fr.name}))}return hr},dr)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([er=>er.graphicalItems.cartesianItems,er=>er.graphicalItems.polarItems],(er,e)=>[...er,...e]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],er=>er.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],er=>er.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],er=>er.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=er=>{var e=selectTooltipAxisType(er),tr=selectTooltipAxisId(er),rr=!1;return selectAxisRange(er,e,tr,rr)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(er,e,tr,rr,nr,ir,sr,or)=>{if(e){var{type:ar}=e,lr=isCategoricalAxis(er,or);if(rr){var cr=tr==="scaleBand"&&rr.bandwidth?rr.bandwidth()/2:2,dr=ar==="category"&&rr.bandwidth?rr.bandwidth()/cr:0;return dr=or==="angleAxis"&&nr!=null&&(nr==null?void 0:nr.length)>=2?mathSign(nr[0]-nr[1])*2*dr:dr,lr&&sr?sr.map((hr,ur)=>({coordinate:rr(hr)+dr,value:hr,index:ur,offset:dr})):rr.domain().map((hr,ur)=>({coordinate:rr(hr)+dr,value:ir?ir[hr]:hr,index:ur,offset:dr}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(er,e,tr)=>combineTooltipEventType(tr.shared,er,e)),selectTooltipTrigger=er=>er.tooltip.settings.trigger,selectDefaultIndex=er=>er.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],er=>{if(er)return er.dataKey}),selectActiveTooltipGraphicalItemId=createSelector([selectTooltipInteractionState$1],er=>{if(er)return er.graphicalItemId}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(er,e)=>er!=null&&er.coordinate?er.coordinate:e),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],er=>{var e;return(e=er==null?void 0:er.active)!==null&&e!==void 0?e:!1}),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],er=>{if(er!=null){var e=er.map(tr=>tr.payload).filter(tr=>tr!=null);return Array.from(new Set(e))}});function ownKeys$m(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$m(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(tr),!0).forEach(function(rr){_defineProperty$p(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$m(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$p(er,e,tr){return(e=_toPropertyKey$p(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$p(er){var e=_toPrimitive$p(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$p(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var er=useTooltipAxis(),e=useAppSelector(selectTooltipAxisTicks),tr=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!er||!tr?void 0:_objectSpread$m(_objectSpread$m({},er),{},{scale:tr}),e)};function ownKeys$l(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$l(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(tr),!0).forEach(function(rr){_defineProperty$o(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$l(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$o(er,e,tr){return(e=_toPropertyKey$o(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$o(er){var e=_toPrimitive$o(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$o(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var getActiveCartesianCoordinate=(er,e,tr,rr)=>{var nr=e.find(ir=>ir&&ir.index===tr);if(nr){if(er==="horizontal")return{x:nr.coordinate,y:rr.chartY};if(er==="vertical")return{x:rr.chartX,y:nr.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(er,e,tr,rr)=>{var nr=e.find(lr=>lr&&lr.index===tr);if(nr){if(er==="centric"){var ir=nr.coordinate,{radius:sr}=rr;return _objectSpread$l(_objectSpread$l(_objectSpread$l({},rr),polarToCartesian(rr.cx,rr.cy,sr,ir)),{},{angle:ir,radius:sr})}var or=nr.coordinate,{angle:ar}=rr;return _objectSpread$l(_objectSpread$l(_objectSpread$l({},rr),polarToCartesian(rr.cx,rr.cy,or,ar)),{},{angle:ar,radius:or})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(er,e){var{chartX:tr,chartY:rr}=er;return tr>=e.left&&tr<=e.left+e.width&&rr>=e.top&&rr<=e.top+e.height}var calculateActiveTickIndex=(er,e,tr,rr,nr)=>{var ir,sr=(ir=e==null?void 0:e.length)!==null&&ir!==void 0?ir:0;if(sr<=1||er==null)return 0;if(rr==="angleAxis"&&nr!=null&&Math.abs(Math.abs(nr[1]-nr[0])-360)<=1e-6)for(var or=0;or<sr;or++){var ar,lr,cr,dr,hr,ur=or>0?(ar=tr[or-1])===null||ar===void 0?void 0:ar.coordinate:(lr=tr[sr-1])===null||lr===void 0?void 0:lr.coordinate,pr=(cr=tr[or])===null||cr===void 0?void 0:cr.coordinate,mr=or>=sr-1?(dr=tr[0])===null||dr===void 0?void 0:dr.coordinate:(hr=tr[or+1])===null||hr===void 0?void 0:hr.coordinate,fr=void 0;if(!(ur==null||pr==null||mr==null))if(mathSign(pr-ur)!==mathSign(mr-pr)){var gr=[];if(mathSign(mr-pr)===mathSign(nr[1]-nr[0])){fr=mr;var yr=pr+nr[1]-nr[0];gr[0]=Math.min(yr,(yr+ur)/2),gr[1]=Math.max(yr,(yr+ur)/2)}else{fr=ur;var vr=mr+nr[1]-nr[0];gr[0]=Math.min(pr,(vr+pr)/2),gr[1]=Math.max(pr,(vr+pr)/2)}var br=[Math.min(pr,(fr+pr)/2),Math.max(pr,(fr+pr)/2)];if(er>br[0]&&er<=br[1]||er>=gr[0]&&er<=gr[1]){var Sr;return(Sr=tr[or])===null||Sr===void 0?void 0:Sr.index}}else{var jr=Math.min(ur,mr),Cr=Math.max(ur,mr);if(er>(jr+pr)/2&&er<=(Cr+pr)/2){var Pr;return(Pr=tr[or])===null||Pr===void 0?void 0:Pr.index}}}else if(e)for(var Rr=0;Rr<sr;Rr++){var Lr=e[Rr];if(Lr!=null){var Ir=e[Rr+1],Nr=e[Rr-1];if(Rr===0&&Ir!=null&&er<=(Lr.coordinate+Ir.coordinate)/2||Rr===sr-1&&Nr!=null&&er>(Lr.coordinate+Nr.coordinate)/2||Rr>0&&Rr<sr-1&&Nr!=null&&Ir!=null&&er>(Lr.coordinate+Nr.coordinate)/2&&er<=(Lr.coordinate+Ir.coordinate)/2)return Lr.index}}return-1},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(er,e)=>e,pickTrigger=(er,e,tr)=>tr,pickDefaultIndex=(er,e,tr,rr)=>rr,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,er=>sortBy$1(er,e=>e.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectTooltipDataKey=(er,e,tr)=>{if(e!=null){var rr=selectTooltipState(er);return e==="axis"?tr==="hover"?rr.axisInteraction.hover.dataKey:rr.axisInteraction.click.dataKey:tr==="hover"?rr.itemInteraction.hover.dataKey:rr.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(er,e)=>{var tr;return(tr=er.coordinate)!==null&&tr!==void 0?tr:e}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState,selectActiveIndex],(er,e)=>({isActive:er.active&&e!=null,activeIndex:e})),combineActiveCartesianProps=(er,e,tr,rr,nr,ir,sr)=>{if(!(!er||!tr||!rr||!nr)&&isInCartesianRange(er,sr)){var or=calculateCartesianTooltipPos(er,e),ar=calculateActiveTickIndex(or,ir,nr,tr,rr),lr=getActiveCartesianCoordinate(e,nr,ar,er);return{activeIndex:String(ar),activeCoordinate:lr}}},combineActivePolarProps=(er,e,tr,rr,nr,ir,sr)=>{if(!(!er||!rr||!nr||!ir||!tr)){var or=inRangeOfSector(er,tr);if(or){var ar=calculatePolarTooltipPos(or,e),lr=calculateActiveTickIndex(ar,sr,ir,rr,nr),cr=getActivePolarCoordinate(e,ir,lr,or);return{activeIndex:String(lr),activeCoordinate:cr}}}},combineActiveProps=(er,e,tr,rr,nr,ir,sr,or)=>{if(!(!er||!e||!rr||!nr||!ir))return e==="horizontal"||e==="vertical"?combineActiveCartesianProps(er,e,rr,nr,ir,sr,or):combineActivePolarProps(er,e,tr,rr,nr,ir,sr)},selectZIndexPortalElement=createSelector(er=>er.zIndex.zIndexMap,(er,e)=>e,(er,e,tr)=>tr,(er,e,tr)=>{if(e!=null){var rr=er[e];if(rr!=null)return tr?rr.panoramaElement:rr.element}}),selectAllRegisteredZIndexes=createSelector(er=>er.zIndex.zIndexMap,er=>{var e=Object.keys(er).map(rr=>parseInt(rr,10)).concat(Object.values(DefaultZIndexes)),tr=Array.from(new Set(e));return tr.sort((rr,nr)=>rr-nr)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$k(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$k(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(tr),!0).forEach(function(rr){_defineProperty$n(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$k(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$n(er,e,tr){return(e=_toPropertyKey$n(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$n(er){var e=_toPrimitive$n(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$n(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var seed={},initialState$8={zIndexMap:Object.values(DefaultZIndexes).reduce((er,e)=>_objectSpread$k(_objectSpread$k({},er),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(er){return defaultZIndexSet.has(er)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$8,reducers:{registerZIndexPortal:{reducer:(er,e)=>{var{zIndex:tr}=e.payload;er.zIndexMap[tr]?er.zIndexMap[tr].consumers+=1:er.zIndexMap[tr]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(er,e)=>{var{zIndex:tr}=e.payload;er.zIndexMap[tr]&&(er.zIndexMap[tr].consumers-=1,er.zIndexMap[tr].consumers<=0&&!isDefaultZIndex(tr)&&delete er.zIndexMap[tr])},prepare:prepareAutoBatched()},registerZIndexPortalElement:{reducer:(er,e)=>{var{zIndex:tr,element:rr,isPanorama:nr}=e.payload;er.zIndexMap[tr]?nr?er.zIndexMap[tr].panoramaElement=rr:er.zIndexMap[tr].element=rr:er.zIndexMap[tr]={consumers:0,element:nr?void 0:rr,panoramaElement:nr?rr:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalElement:{reducer:(er,e)=>{var{zIndex:tr}=e.payload;er.zIndexMap[tr]&&(e.payload.isPanorama?er.zIndexMap[tr].panoramaElement=void 0:er.zIndexMap[tr].element=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalElement,unregisterZIndexPortalElement}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(er){var{zIndex:e,children:tr}=er,rr=useIsInChartContext(),nr=rr&&e!==void 0&&e!==0,ir=useIsPanorama(),sr=useAppDispatch();reactExports.useLayoutEffect(()=>nr?(sr(registerZIndexPortal({zIndex:e})),()=>{sr(unregisterZIndexPortal({zIndex:e}))}):noop$2,[sr,e,nr]);var or=useAppSelector(ar=>selectZIndexPortalElement(ar,e,ir));return nr?or?reactDomExports.createPortal(tr,or):null:tr}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$j.apply(null,arguments)}function ownKeys$j(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$j(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(tr),!0).forEach(function(rr){_defineProperty$m(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$j(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$m(er,e,tr){return(e=_toPropertyKey$m(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$m(er){var e=_toPrimitive$m(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$m(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function RenderCursor(er){var{cursor:e,cursorComp:tr,cursorProps:rr}=er;return reactExports.isValidElement(e)?reactExports.cloneElement(e,rr):reactExports.createElement(tr,rr)}function CursorInternal(er){var e,{coordinate:tr,payload:rr,index:nr,offset:ir,tooltipAxisBandSize:sr,layout:or,cursor:ar,tooltipEventType:lr,chartName:cr}=er,dr=tr,hr=rr,ur=nr;if(!ar||!dr||cr!=="ScatterChart"&&lr!=="axis")return null;var pr,mr,fr;if(cr==="ScatterChart")pr=dr,mr=Cross,fr=DefaultZIndexes.cursorLine;else if(cr==="BarChart")pr=getCursorRectangle(or,dr,ir,sr),mr=Rectangle,fr=DefaultZIndexes.cursorRectangle;else if(or==="radial"&&isPolarCoordinate(dr)){var{cx:gr,cy:yr,radius:vr,startAngle:br,endAngle:Sr}=getRadialCursorPoints(dr);pr={cx:gr,cy:yr,startAngle:br,endAngle:Sr,innerRadius:vr,outerRadius:vr},mr=Sector,fr=DefaultZIndexes.cursorLine}else pr={points:getCursorPoints(or,dr,ir)},mr=Curve,fr=DefaultZIndexes.cursorLine;var jr=typeof ar=="object"&&"className"in ar?ar.className:void 0,Cr=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({stroke:"#ccc",pointerEvents:"none"},ir),pr),svgPropertiesNoEventsFromUnknown(ar)),{},{payload:hr,payloadIndex:ur,className:clsx("recharts-tooltip-cursor",jr)});return reactExports.createElement(ZIndexLayer,{zIndex:(e=er.zIndex)!==null&&e!==void 0?e:fr},reactExports.createElement(RenderCursor,{cursor:ar,cursorComp:mr,cursorProps:Cr}))}function Cursor(er){var e=useTooltipAxisBandSize(),tr=useOffsetInternal(),rr=useChartLayout(),nr=useChartName();return e==null||tr==null||rr==null||nr==null?null:reactExports.createElement(CursorInternal,_extends$j({},er,{offset:tr,layout:rr,tooltipAxisBandSize:e,chartName:nr}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}};(function(er){var e=Object.prototype.hasOwnProperty,tr="~";function rr(){}Object.create&&(rr.prototype=Object.create(null),new rr().__proto__||(tr=!1));function nr(ar,lr,cr){this.fn=ar,this.context=lr,this.once=cr||!1}function ir(ar,lr,cr,dr,hr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var ur=new nr(cr,dr||ar,hr),pr=tr?tr+lr:lr;return ar._events[pr]?ar._events[pr].fn?ar._events[pr]=[ar._events[pr],ur]:ar._events[pr].push(ur):(ar._events[pr]=ur,ar._eventsCount++),ar}function sr(ar,lr){--ar._eventsCount===0?ar._events=new rr:delete ar._events[lr]}function or(){this._events=new rr,this._eventsCount=0}or.prototype.eventNames=function(){var lr=[],cr,dr;if(this._eventsCount===0)return lr;for(dr in cr=this._events)e.call(cr,dr)&&lr.push(tr?dr.slice(1):dr);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},or.prototype.listeners=function(lr){var cr=tr?tr+lr:lr,dr=this._events[cr];if(!dr)return[];if(dr.fn)return[dr.fn];for(var hr=0,ur=dr.length,pr=new Array(ur);hr<ur;hr++)pr[hr]=dr[hr].fn;return pr},or.prototype.listenerCount=function(lr){var cr=tr?tr+lr:lr,dr=this._events[cr];return dr?dr.fn?1:dr.length:0},or.prototype.emit=function(lr,cr,dr,hr,ur,pr){var mr=tr?tr+lr:lr;if(!this._events[mr])return!1;var fr=this._events[mr],gr=arguments.length,yr,vr;if(fr.fn){switch(fr.once&&this.removeListener(lr,fr.fn,void 0,!0),gr){case 1:return fr.fn.call(fr.context),!0;case 2:return fr.fn.call(fr.context,cr),!0;case 3:return fr.fn.call(fr.context,cr,dr),!0;case 4:return fr.fn.call(fr.context,cr,dr,hr),!0;case 5:return fr.fn.call(fr.context,cr,dr,hr,ur),!0;case 6:return fr.fn.call(fr.context,cr,dr,hr,ur,pr),!0}for(vr=1,yr=new Array(gr-1);vr<gr;vr++)yr[vr-1]=arguments[vr];fr.fn.apply(fr.context,yr)}else{var br=fr.length,Sr;for(vr=0;vr<br;vr++)switch(fr[vr].once&&this.removeListener(lr,fr[vr].fn,void 0,!0),gr){case 1:fr[vr].fn.call(fr[vr].context);break;case 2:fr[vr].fn.call(fr[vr].context,cr);break;case 3:fr[vr].fn.call(fr[vr].context,cr,dr);break;case 4:fr[vr].fn.call(fr[vr].context,cr,dr,hr);break;default:if(!yr)for(Sr=1,yr=new Array(gr-1);Sr<gr;Sr++)yr[Sr-1]=arguments[Sr];fr[vr].fn.apply(fr[vr].context,yr)}}return!0},or.prototype.on=function(lr,cr,dr){return ir(this,lr,cr,dr,!1)},or.prototype.once=function(lr,cr,dr){return ir(this,lr,cr,dr,!0)},or.prototype.removeListener=function(lr,cr,dr,hr){var ur=tr?tr+lr:lr;if(!this._events[ur])return this;if(!cr)return sr(this,ur),this;var pr=this._events[ur];if(pr.fn)pr.fn===cr&&(!hr||pr.once)&&(!dr||pr.context===dr)&&sr(this,ur);else{for(var mr=0,fr=[],gr=pr.length;mr<gr;mr++)(pr[mr].fn!==cr||hr&&!pr[mr].once||dr&&pr[mr].context!==dr)&&fr.push(pr[mr]);fr.length?this._events[ur]=fr.length===1?fr[0]:fr:sr(this,ur)}return this},or.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=tr?tr+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new rr,this._eventsCount=0),this},or.prototype.off=or.prototype.removeListener,or.prototype.addListener=or.prototype.on,or.prefixed=tr,or.EventEmitter=or,er.exports=or})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(er,e){if(e){var tr=Number.parseInt(e,10);if(!isNan(tr))return er==null?void 0:er[tr]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:er=>{er.eventEmitter==null&&(er.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(er){return er.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(er,e){if(er.chartData=e.payload,e.payload==null){er.dataStartIndex=0,er.dataEndIndex=0;return}e.payload.length>0&&er.dataEndIndex!==e.payload.length-1&&(er.dataEndIndex=e.payload.length-1)},setComputedData(er,e){er.computedData=e.payload},setDataStartEndIndexes(er,e){var{startIndex:tr,endIndex:rr}=e.payload;tr!=null&&(er.dataStartIndex=tr),rr!=null&&(er.dataEndIndex=rr)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$i=["x","y"];function ownKeys$i(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$i(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(tr),!0).forEach(function(rr){_defineProperty$l(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$i(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$l(er,e,tr){return(e=_toPropertyKey$l(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$l(er){var e=_toPrimitive$l(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$l(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$i(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$i(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$i(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function useTooltipSyncEventsListener(){var er=useAppSelector(selectSyncId),e=useAppSelector(selectEventEmitter),tr=useAppDispatch(),rr=useAppSelector(selectSyncMethod),nr=useAppSelector(selectTooltipAxisTicks),ir=useChartLayout(),sr=useViewBox(),or=useAppSelector(ar=>ar.rootProps.className);reactExports.useEffect(()=>{if(er==null)return noop$2;var ar=(lr,cr,dr)=>{if(e!==dr&&er===lr){if(rr==="index"){var hr;if(sr&&cr!==null&&cr!==void 0&&(hr=cr.payload)!==null&&hr!==void 0&&hr.coordinate&&cr.payload.sourceViewBox){var ur=cr.payload.coordinate,{x:pr,y:mr}=ur,fr=_objectWithoutProperties$i(ur,_excluded$i),{x:gr,y:yr,width:vr,height:br}=cr.payload.sourceViewBox,Sr=_objectSpread$i(_objectSpread$i({},fr),{},{x:sr.x+(vr?(pr-gr)/vr:0)*sr.width,y:sr.y+(br?(mr-yr)/br:0)*sr.height});tr(_objectSpread$i(_objectSpread$i({},cr),{},{payload:_objectSpread$i(_objectSpread$i({},cr.payload),{},{coordinate:Sr})}))}else tr(cr);return}if(nr!=null){var jr;if(typeof rr=="function"){var Cr={activeTooltipIndex:cr.payload.index==null?void 0:Number(cr.payload.index),isTooltipActive:cr.payload.active,activeIndex:cr.payload.index==null?void 0:Number(cr.payload.index),activeLabel:cr.payload.label,activeDataKey:cr.payload.dataKey,activeCoordinate:cr.payload.coordinate},Pr=rr(nr,Cr);jr=nr[Pr]}else rr==="value"&&(jr=nr.find(_r=>String(_r.value)===cr.payload.label));var{coordinate:Rr}=cr.payload;if(jr==null||cr.payload.active===!1||Rr==null||sr==null){tr(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Lr,y:Ir}=Rr,Nr=Math.min(Lr,sr.x+sr.width),Ar=Math.min(Ir,sr.y+sr.height),Dr={x:ir==="horizontal"?jr.coordinate:Nr,y:ir==="horizontal"?Ar:jr.coordinate},Tr=setSyncInteraction({active:cr.payload.active,coordinate:Dr,dataKey:cr.payload.dataKey,index:String(jr.index),label:cr.payload.label,sourceViewBox:cr.payload.sourceViewBox,graphicalItemId:cr.payload.graphicalItemId});tr(Tr)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,ar),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,ar)}},[or,tr,e,er,rr,nr,ir,sr])}function useBrushSyncEventsListener(){var er=useAppSelector(selectSyncId),e=useAppSelector(selectEventEmitter),tr=useAppDispatch();reactExports.useEffect(()=>{if(er==null)return noop$2;var rr=(nr,ir,sr)=>{e!==sr&&er===nr&&tr(setDataStartEndIndexes(ir))};return eventCenter.on(BRUSH_SYNC_EVENT,rr),()=>{eventCenter.off(BRUSH_SYNC_EVENT,rr)}},[tr,e,er])}function useSynchronisedEventsFromOtherCharts(){var er=useAppDispatch();reactExports.useEffect(()=>{er(createEventEmitter())},[er]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(er,e,tr,rr,nr,ir){var sr=useAppSelector(ur=>selectTooltipDataKey(ur,er,e)),or=useAppSelector(selectEventEmitter),ar=useAppSelector(selectSyncId),lr=useAppSelector(selectSyncMethod),cr=useAppSelector(selectSynchronisedTooltipState),dr=cr==null?void 0:cr.active,hr=useViewBox();reactExports.useEffect(()=>{if(!dr&&ar!=null&&or!=null){var ur=setSyncInteraction({active:ir,coordinate:tr,dataKey:sr,index:nr,label:typeof rr=="number"?String(rr):rr,sourceViewBox:hr,graphicalItemId:void 0});eventCenter.emit(TOOLTIP_SYNC_EVENT,ar,ur,or)}},[dr,tr,sr,nr,rr,or,ar,lr,ir,hr])}function ownKeys$h(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$h(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(tr),!0).forEach(function(rr){_defineProperty$k(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$h(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$k(er,e,tr){return(e=_toPropertyKey$k(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$k(er){var e=_toPrimitive$k(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$k(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function defaultUniqBy(er){return er.dataKey}function renderContent(er,e){return reactExports.isValidElement(er)?reactExports.cloneElement(er,e):typeof er=="function"?reactExports.createElement(er,e):reactExports.createElement(DefaultTooltipContent,e)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(er){var e,tr,rr=resolveDefaultProps(er,defaultTooltipProps),{active:nr,allowEscapeViewBox:ir,animationDuration:sr,animationEasing:or,content:ar,filterNull:lr,isAnimationActive:cr,offset:dr,payloadUniqBy:hr,position:ur,reverseDirection:pr,useTranslate3d:mr,wrapperStyle:fr,cursor:gr,shared:yr,trigger:vr,defaultIndex:br,portal:Sr,axisId:jr}=rr,Cr=useAppDispatch(),Pr=typeof br=="number"?String(br):br;reactExports.useEffect(()=>{Cr(setTooltipSettingsState({shared:yr,trigger:vr,axisId:jr,active:nr,defaultIndex:Pr}))},[Cr,yr,vr,jr,nr,Pr]);var Rr=useViewBox(),Lr=useAccessibilityLayer(),Ir=useTooltipEventType(yr),{activeIndex:Nr,isActive:Ar}=(e=useAppSelector(Gr=>selectIsTooltipActive(Gr,Ir,vr,Pr)))!==null&&e!==void 0?e:{},Dr=useAppSelector(Gr=>selectTooltipPayload(Gr,Ir,vr,Pr)),Tr=useAppSelector(Gr=>selectActiveLabel(Gr,Ir,vr,Pr)),_r=useAppSelector(Gr=>selectActiveCoordinate(Gr,Ir,vr,Pr)),wr=Dr,Er=useTooltipPortal(),xr=(tr=nr??Ar)!==null&&tr!==void 0?tr:!1,[Mr,zr]=useElementOffset([wr,xr]),Or=Ir==="axis"?Tr:void 0;useTooltipChartSynchronisation(Ir,vr,_r,Or,Nr,xr);var Br=Sr??Er;if(Br==null||Rr==null||Ir==null)return null;var Ur=wr??emptyPayload;xr||(Ur=emptyPayload),lr&&Ur.length&&(Ur=getUniqPayload(Ur.filter(Gr=>Gr.value!=null&&(Gr.hide!==!0||rr.includeHidden)),hr,defaultUniqBy));var qr=Ur.length>0,Vr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:ir,animationDuration:sr,animationEasing:or,isAnimationActive:cr,active:xr,coordinate:_r,hasPayload:qr,offset:dr,position:ur,reverseDirection:pr,useTranslate3d:mr,viewBox:Rr,wrapperStyle:fr,lastBoundingBox:Mr,innerRef:zr,hasPortalFromProps:!!Sr},renderContent(ar,_objectSpread$h(_objectSpread$h({},rr),{},{payload:Ur,label:Or,active:xr,activeIndex:Nr,coordinate:_r,accessibilityLayer:Lr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Vr,Br),xr&&reactExports.createElement(Cursor,{cursor:gr,tooltipEventType:Ir,coordinate:_r,payload:Ur,index:Nr}))}var Cell=er=>null;Cell.displayName="Cell";function _defineProperty$j(er,e,tr){return(e=_toPropertyKey$j(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$j(er){var e=_toPrimitive$j(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$j(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}class LRUCache{constructor(e){_defineProperty$j(this,"cache",new Map),this.maxSize=e}get(e){var tr=this.cache.get(e);return tr!==void 0&&(this.cache.delete(e),this.cache.set(e,tr)),tr}set(e,tr){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var rr=this.cache.keys().next().value;rr!=null&&this.cache.delete(rr)}this.cache.set(e,tr)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$g(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$g(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(tr),!0).forEach(function(rr){_defineProperty$i(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$g(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$i(er,e,tr){return(e=_toPropertyKey$i(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$i(er){var e=_toPrimitive$i(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$i(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$g({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(er,e){var tr=e.fontSize||"",rr=e.fontFamily||"",nr=e.fontWeight||"",ir=e.fontStyle||"",sr=e.letterSpacing||"",or=e.textTransform||"";return"".concat(er,"|").concat(tr,"|").concat(rr,"|").concat(nr,"|").concat(ir,"|").concat(sr,"|").concat(or)}var measureTextWithDOM=(er,e)=>{try{var tr=document.getElementById(MEASUREMENT_SPAN_ID);tr||(tr=document.createElement("span"),tr.setAttribute("id",MEASUREMENT_SPAN_ID),tr.setAttribute("aria-hidden","true"),document.body.appendChild(tr)),Object.assign(tr.style,SPAN_STYLE,e),tr.textContent="".concat(er);var rr=tr.getBoundingClientRect();return{width:rr.width,height:rr.height}}catch{return{width:0,height:0}}},getStringSize=function er(e){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(e,tr);var rr=createCacheKey(e,tr),nr=stringCache.get(rr);if(nr)return nr;var ir=measureTextWithDOM(e,tr);return stringCache.set(rr,ir),ir},_DecimalCSS;function _defineProperty$h(er,e,tr){return(e=_toPropertyKey$h(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$h(er){var e=_toPrimitive$h(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$h(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=["cm","mm","pt","pc","in","Q","px"];function isSupportedUnit(er){return FIXED_CSS_LENGTH_UNITS.includes(er)}var STR_NAN="NaN";function convertToPx(er,e){return er*CONVERSION_RATES[e]}class DecimalCSS{static parse(e){var tr,[,rr,nr]=(tr=NUM_SPLIT_REGEX.exec(e))!==null&&tr!==void 0?tr:[];return rr==null?DecimalCSS.NaN:new DecimalCSS(parseFloat(rr),nr??"")}constructor(e,tr){this.num=e,this.unit=tr,this.num=e,this.unit=tr,isNan(e)&&(this.unit=""),tr!==""&&!CSS_LENGTH_UNIT_REGEX.test(tr)&&(this.num=NaN,this.unit=""),isSupportedUnit(tr)&&(this.num=convertToPx(e,tr),this.unit="px")}add(e){return this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}_DecimalCSS=DecimalCSS;_defineProperty$h(DecimalCSS,"NaN",new _DecimalCSS(NaN,""));function calculateArithmetic(er){if(er==null||er.includes(STR_NAN))return STR_NAN;for(var e=er;e.includes("*")||e.includes("/");){var tr,[,rr,nr,ir]=(tr=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&tr!==void 0?tr:[],sr=DecimalCSS.parse(rr??""),or=DecimalCSS.parse(ir??""),ar=nr==="*"?sr.multiply(or):sr.divide(or);if(ar.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,ar.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var lr,[,cr,dr,hr]=(lr=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&lr!==void 0?lr:[],ur=DecimalCSS.parse(cr??""),pr=DecimalCSS.parse(hr??""),mr=dr==="+"?ur.add(pr):ur.subtract(pr);if(mr.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,mr.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(er){for(var e=er,tr;(tr=PARENTHESES_REGEX.exec(e))!=null;){var[,rr]=tr;e=e.replace(PARENTHESES_REGEX,calculateArithmetic(rr))}return e}function evaluateExpression(er){var e=er.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(er){try{return evaluateExpression(er)}catch{return STR_NAN}}function reduceCSSCalc(er){var e=safeEvaluateExpression(er.slice(5,-1));return e===STR_NAN?"":e}var _excluded$h=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$i.apply(null,arguments)}function _objectWithoutProperties$h(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$h(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$h(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=er=>{var{children:e,breakAll:tr,style:rr}=er;try{var nr=[];isNullish(e)||(tr?nr=e.toString().split(""):nr=e.toString().split(BREAKING_SPACES));var ir=nr.map(or=>({word:or,width:getStringSize(or,rr).width})),sr=tr?0:getStringSize("",rr).width;return{wordsWithComputedWidth:ir,spaceWidth:sr}}catch{return null}};function isValidTextAnchor(er){return er==="start"||er==="middle"||er==="end"||er==="inherit"}var calculate=(er,e,tr,rr)=>er.reduce((nr,ir)=>{var{word:sr,width:or}=ir,ar=nr[nr.length-1];if(ar&&or!=null&&(e==null||rr||ar.width+or+tr<Number(e)))ar.words.push(sr),ar.width+=or+tr;else{var lr={words:[sr],width:or};nr.push(lr)}return nr},[]),findLongestLine=er=>er.reduce((e,tr)=>e.width>tr.width?e:tr),suffix="",checkOverflow=(er,e,tr,rr,nr,ir,sr,or)=>{var ar=er.slice(0,e),lr=calculateWordWidths({breakAll:tr,style:rr,children:ar+suffix});if(!lr)return[!1,[]];var cr=calculate(lr.wordsWithComputedWidth,ir,sr,or),dr=cr.length>nr||findLongestLine(cr).width>Number(ir);return[dr,cr]},calculateWordsByLines=(er,e,tr,rr,nr)=>{var{maxLines:ir,children:sr,style:or,breakAll:ar}=er,lr=isNumber(ir),cr=String(sr),dr=calculate(e,rr,tr,nr);if(!lr||nr)return dr;var hr=dr.length>ir||findLongestLine(dr).width>Number(rr);if(!hr)return dr;for(var ur=0,pr=cr.length-1,mr=0,fr;ur<=pr&&mr<=cr.length-1;){var gr=Math.floor((ur+pr)/2),yr=gr-1,[vr,br]=checkOverflow(cr,yr,ar,or,ir,rr,tr,nr),[Sr]=checkOverflow(cr,gr,ar,or,ir,rr,tr,nr);if(!vr&&!Sr&&(ur=gr+1),vr&&Sr&&(pr=gr-1),!vr&&Sr){fr=br;break}mr++}return fr||dr},getWordsWithoutCalculate=er=>{var e=isNullish(er)?[]:er.toString().split(BREAKING_SPACES);return[{words:e,width:void 0}]},getWordsByLines=er=>{var{width:e,scaleToFit:tr,children:rr,style:nr,breakAll:ir,maxLines:sr}=er;if((e||tr)&&!Global.isSsr){var or,ar,lr=calculateWordWidths({breakAll:ir,children:rr,style:nr});if(lr){var{wordsWithComputedWidth:cr,spaceWidth:dr}=lr;or=cr,ar=dr}else return getWordsWithoutCalculate(rr);return calculateWordsByLines({breakAll:ir,children:rr,maxLines:sr,style:nr},or,ar,e,!!tr)}return getWordsWithoutCalculate(rr)},DEFAULT_FILL="#808080",textDefaultProps={angle:0,breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text=reactExports.forwardRef((er,e)=>{var tr=resolveDefaultProps(er,textDefaultProps),{x:rr,y:nr,lineHeight:ir,capHeight:sr,fill:or,scaleToFit:ar,textAnchor:lr,verticalAnchor:cr}=tr,dr=_objectWithoutProperties$h(tr,_excluded$h),hr=reactExports.useMemo(()=>getWordsByLines({breakAll:dr.breakAll,children:dr.children,maxLines:dr.maxLines,scaleToFit:ar,style:dr.style,width:dr.width}),[dr.breakAll,dr.children,dr.maxLines,ar,dr.style,dr.width]),{dx:ur,dy:pr,angle:mr,className:fr,breakAll:gr}=dr,yr=_objectWithoutProperties$h(dr,_excluded2$9);if(!isNumOrStr(rr)||!isNumOrStr(nr)||hr.length===0)return null;var vr=Number(rr)+(isNumber(ur)?ur:0),br=Number(nr)+(isNumber(pr)?pr:0);if(!isWellBehavedNumber(vr)||!isWellBehavedNumber(br))return null;var Sr;switch(cr){case"start":Sr=reduceCSSCalc("calc(".concat(sr,")"));break;case"middle":Sr=reduceCSSCalc("calc(".concat((hr.length-1)/2," * -").concat(ir," + (").concat(sr," / 2))"));break;default:Sr=reduceCSSCalc("calc(".concat(hr.length-1," * -").concat(ir,")"));break}var jr=[];if(ar){var Cr=hr[0].width,{width:Pr}=dr;jr.push("scale(".concat(isNumber(Pr)&&isNumber(Cr)?Pr/Cr:1,")"))}return mr&&jr.push("rotate(".concat(mr,", ").concat(vr,", ").concat(br,")")),jr.length&&(yr.transform=jr.join(" ")),reactExports.createElement("text",_extends$i({},svgPropertiesAndEvents(yr),{ref:e,x:vr,y:br,className:clsx("recharts-text",fr),textAnchor:lr,fill:or.includes("url")?DEFAULT_FILL:or}),hr.map((Rr,Lr)=>{var Ir=Rr.words.join(gr?"":" ");return reactExports.createElement("tspan",{x:vr,dy:Lr===0?Sr:ir,key:"".concat(Ir,"-").concat(Lr)},Ir)}))});Text.displayName="Text";var _excluded$g=["labelRef"],_excluded2$8=["content"];function _objectWithoutProperties$g(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$g(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$g(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$f(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$f(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(tr),!0).forEach(function(rr){_defineProperty$g(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$f(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$g(er,e,tr){return(e=_toPropertyKey$g(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$g(er){var e=_toPrimitive$g(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$g(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$h.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=er=>{var{x:e,y:tr,upperWidth:rr,lowerWidth:nr,width:ir,height:sr,children:or}=er,ar=reactExports.useMemo(()=>({x:e,y:tr,upperWidth:rr,lowerWidth:nr,width:ir,height:sr}),[e,tr,rr,nr,ir,sr]);return reactExports.createElement(CartesianLabelContext.Provider,{value:ar},or)},useCartesianLabelContext=()=>{var er=reactExports.useContext(CartesianLabelContext),e=useViewBox();return er||cartesianViewBoxToTrapezoid(e)},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var er=reactExports.useContext(PolarLabelContext),e=useAppSelector(selectPolarViewBox);return er||e},getLabel=er=>{var{value:e,formatter:tr}=er,rr=isNullish(er.children)?e:er.children;return typeof tr=="function"?tr(rr):rr},isLabelContentAFunction=er=>er!=null&&typeof er=="function",getDeltaAngle=(er,e)=>{var tr=mathSign(e-er),rr=Math.min(Math.abs(e-er),360);return tr*rr},renderRadialLabel=(er,e,tr,rr,nr)=>{var{offset:ir,className:sr}=er,{cx:or,cy:ar,innerRadius:lr,outerRadius:cr,startAngle:dr,endAngle:hr,clockWise:ur}=nr,pr=(lr+cr)/2,mr=getDeltaAngle(dr,hr),fr=mr>=0?1:-1,gr,yr;switch(e){case"insideStart":gr=dr+fr*ir,yr=ur;break;case"insideEnd":gr=hr-fr*ir,yr=!ur;break;case"end":gr=hr+fr*ir,yr=ur;break;default:throw new Error("Unsupported position ".concat(e))}yr=mr<=0?yr:!yr;var vr=polarToCartesian(or,ar,pr,gr),br=polarToCartesian(or,ar,pr,gr+(yr?1:-1)*359),Sr="M".concat(vr.x,",").concat(vr.y,`
    A`).concat(pr,",").concat(pr,",0,1,").concat(yr?0:1,`,
    `).concat(br.x,",").concat(br.y),jr=isNullish(er.id)?uniqueId("recharts-radial-line-"):er.id;return reactExports.createElement("text",_extends$h({},rr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",sr)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:jr,d:Sr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(jr)},tr))},getAttrsOfPolarLabel=(er,e,tr)=>{var{cx:rr,cy:nr,innerRadius:ir,outerRadius:sr,startAngle:or,endAngle:ar}=er,lr=(or+ar)/2;if(tr==="outside"){var{x:cr,y:dr}=polarToCartesian(rr,nr,sr+e,lr);return{x:cr,y:dr,textAnchor:cr>=rr?"start":"end",verticalAnchor:"middle"}}if(tr==="center")return{x:rr,y:nr,textAnchor:"middle",verticalAnchor:"middle"};if(tr==="centerTop")return{x:rr,y:nr,textAnchor:"middle",verticalAnchor:"start"};if(tr==="centerBottom")return{x:rr,y:nr,textAnchor:"middle",verticalAnchor:"end"};var hr=(ir+sr)/2,{x:ur,y:pr}=polarToCartesian(rr,nr,hr,lr);return{x:ur,y:pr,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=er=>"cx"in er&&isNumber(er.cx),getAttrsOfCartesianLabel=(er,e)=>{var{parentViewBox:tr,offset:rr,position:nr}=er,ir;tr!=null&&!isPolar(tr)&&(ir=tr);var{x:sr,y:or,upperWidth:ar,lowerWidth:lr,height:cr}=e,dr=sr,hr=sr+(ar-lr)/2,ur=(dr+hr)/2,pr=(ar+lr)/2,mr=dr+ar/2,fr=cr>=0?1:-1,gr=fr*rr,yr=fr>0?"end":"start",vr=fr>0?"start":"end",br=ar>=0?1:-1,Sr=br*rr,jr=br>0?"end":"start",Cr=br>0?"start":"end";if(nr==="top"){var Pr={x:dr+ar/2,y:or-gr,textAnchor:"middle",verticalAnchor:yr};return _objectSpread$f(_objectSpread$f({},Pr),ir?{height:Math.max(or-ir.y,0),width:ar}:{})}if(nr==="bottom"){var Rr={x:hr+lr/2,y:or+cr+gr,textAnchor:"middle",verticalAnchor:vr};return _objectSpread$f(_objectSpread$f({},Rr),ir?{height:Math.max(ir.y+ir.height-(or+cr),0),width:lr}:{})}if(nr==="left"){var Lr={x:ur-Sr,y:or+cr/2,textAnchor:jr,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},Lr),ir?{width:Math.max(Lr.x-ir.x,0),height:cr}:{})}if(nr==="right"){var Ir={x:ur+pr+Sr,y:or+cr/2,textAnchor:Cr,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},Ir),ir?{width:Math.max(ir.x+ir.width-Ir.x,0),height:cr}:{})}var Nr=ir?{width:pr,height:cr}:{};return nr==="insideLeft"?_objectSpread$f({x:ur+Sr,y:or+cr/2,textAnchor:Cr,verticalAnchor:"middle"},Nr):nr==="insideRight"?_objectSpread$f({x:ur+pr-Sr,y:or+cr/2,textAnchor:jr,verticalAnchor:"middle"},Nr):nr==="insideTop"?_objectSpread$f({x:dr+ar/2,y:or+gr,textAnchor:"middle",verticalAnchor:vr},Nr):nr==="insideBottom"?_objectSpread$f({x:hr+lr/2,y:or+cr-gr,textAnchor:"middle",verticalAnchor:yr},Nr):nr==="insideTopLeft"?_objectSpread$f({x:dr+Sr,y:or+gr,textAnchor:Cr,verticalAnchor:vr},Nr):nr==="insideTopRight"?_objectSpread$f({x:dr+ar-Sr,y:or+gr,textAnchor:jr,verticalAnchor:vr},Nr):nr==="insideBottomLeft"?_objectSpread$f({x:hr+Sr,y:or+cr-gr,textAnchor:Cr,verticalAnchor:yr},Nr):nr==="insideBottomRight"?_objectSpread$f({x:hr+lr-Sr,y:or+cr-gr,textAnchor:jr,verticalAnchor:yr},Nr):nr&&typeof nr=="object"&&(isNumber(nr.x)||isPercent(nr.x))&&(isNumber(nr.y)||isPercent(nr.y))?_objectSpread$f({x:sr+getPercentValue(nr.x,pr),y:or+getPercentValue(nr.y,cr),textAnchor:"end",verticalAnchor:"end"},Nr):_objectSpread$f({x:mr,y:or+cr/2,textAnchor:"middle",verticalAnchor:"middle"},Nr)},defaultLabelProps={angle:0,offset:5,zIndex:DefaultZIndexes.label,position:"middle",textBreakAll:!1};function Label(er){var e=resolveDefaultProps(er,defaultLabelProps),{viewBox:tr,position:rr,value:nr,children:ir,content:sr,className:or="",textBreakAll:ar,labelRef:lr}=e,cr=usePolarLabelContext(),dr=useCartesianLabelContext(),hr=rr==="center"?dr:cr??dr,ur,pr,mr;if(tr==null?ur=hr:isPolar(tr)?ur=tr:ur=cartesianViewBoxToTrapezoid(tr),!ur||isNullish(nr)&&isNullish(ir)&&!reactExports.isValidElement(sr)&&typeof sr!="function")return null;var fr=_objectSpread$f(_objectSpread$f({},e),{},{viewBox:ur});if(reactExports.isValidElement(sr)){var{labelRef:gr}=fr,yr=_objectWithoutProperties$g(fr,_excluded$g);return reactExports.cloneElement(sr,yr)}if(typeof sr=="function"){var{content:vr}=fr,br=_objectWithoutProperties$g(fr,_excluded2$8);if(pr=reactExports.createElement(sr,br),reactExports.isValidElement(pr))return pr}else pr=getLabel(e);var Sr=svgPropertiesAndEvents(e);if(isPolar(ur)){if(rr==="insideStart"||rr==="insideEnd"||rr==="end")return renderRadialLabel(e,rr,pr,Sr,ur);mr=getAttrsOfPolarLabel(ur,e.offset,e.position)}else mr=getAttrsOfCartesianLabel(e,ur);return reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(Text,_extends$h({ref:lr,className:clsx("recharts-label",or)},Sr,mr,{textAnchor:isValidTextAnchor(Sr.textAnchor)?Sr.textAnchor:mr.textAnchor,breakAll:ar}),pr))}Label.displayName="Label";var parseLabel=(er,e,tr)=>{if(!er)return null;var rr={viewBox:e,labelRef:tr};return er===!0?reactExports.createElement(Label,_extends$h({key:"label-implicit"},rr)):isNumOrStr(er)?reactExports.createElement(Label,_extends$h({key:"label-implicit",value:er},rr)):reactExports.isValidElement(er)?er.type===Label?reactExports.cloneElement(er,_objectSpread$f({key:"label-implicit"},rr)):reactExports.createElement(Label,_extends$h({key:"label-implicit",content:er},rr)):isLabelContentAFunction(er)?reactExports.createElement(Label,_extends$h({key:"label-implicit",content:er},rr)):er&&typeof er=="object"?reactExports.createElement(Label,_extends$h({},er,{key:"label-implicit"},rr)):null};function CartesianLabelFromLabelProp(er){var{label:e,labelRef:tr}=er,rr=useCartesianLabelContext();return parseLabel(e,rr,tr)||null}var last$3={},last$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return tr[tr.length-1]}er.last=e})(last$2);var toArray$1={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){return Array.isArray(tr)?tr:Array.from(tr)}er.toArray=e})(toArray$1);(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});const e=last$2,tr=toArray$1,rr=isArrayLike;function nr(ir){if(rr.isArrayLike(ir))return e.last(tr.toArray(ir))}er.last=nr})(last$3);var last=last$3.last;const last$1=getDefaultExportFromCjs(last);var _excluded$f=["valueAccessor"],_excluded2$7=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$g.apply(null,arguments)}function _objectWithoutProperties$f(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$f(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$f(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var defaultAccessor=er=>Array.isArray(er.value)?last$1(er.value):er.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(er){var{valueAccessor:e=defaultAccessor}=er,tr=_objectWithoutProperties$f(er,_excluded$f),{dataKey:rr,clockWise:nr,id:ir,textBreakAll:sr,zIndex:or}=tr,ar=_objectWithoutProperties$f(tr,_excluded2$7),lr=useCartesianLabelListContext(),cr=usePolarLabelListContext(),dr=lr||cr;return!dr||!dr.length?null:reactExports.createElement(ZIndexLayer,{zIndex:or??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},dr.map((hr,ur)=>{var pr,mr=isNullish(rr)?e(hr,ur):getValueByDataKey(hr&&hr.payload,rr),fr=isNullish(ir)?{}:{id:"".concat(ir,"-").concat(ur)};return reactExports.createElement(Label,_extends$g({key:"label-".concat(ur)},svgPropertiesAndEvents(hr),ar,fr,{fill:(pr=tr.fill)!==null&&pr!==void 0?pr:hr.fill,parentViewBox:hr.parentViewBox,value:mr,textBreakAll:sr,viewBox:hr.viewBox,index:ur,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(er){var{label:e}=er;return e?e===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(e)||isLabelContentAFunction(e)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:e}):typeof e=="object"?reactExports.createElement(LabelList,_extends$g({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$f.apply(null,arguments)}var Dot=er=>{var{cx:e,cy:tr,r:rr,className:nr}=er,ir=clsx("recharts-dot",nr);return isNumber(e)&&isNumber(tr)&&isNumber(rr)?reactExports.createElement("circle",_extends$f({},svgPropertiesNoEvents(er),adaptEventHandlers(er),{className:ir,cx:e,cy:tr,r:rr})):null},selectUnfilteredPolarItems=er=>er.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues);createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(er,e,tr)=>tr.length>0?er.flatMap(rr=>tr.flatMap(nr=>{var ir,sr=getValueByDataKey(rr,(ir=e.dataKey)!==null&&ir!==void 0?ir:nr.dataKey);return{value:sr,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?er.map(rr=>({value:getValueByDataKey(rr,e.dataKey),errorDomain:[]})):er.map(rr=>({value:rr,errorDomain:[]})));var unsupportedInPolarChart=()=>{},selectDomainOfAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,unsupportedInPolarChart,selectDomainOfAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(er,e){er.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(er,e){delete er.radiusAxis[e.payload.id]},addAngleAxis(er,e){er.angleAxis[e.payload.id]=e.payload},removeAngleAxis(er,e){delete er.angleAxis[e.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$e(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(tr),!0).forEach(function(rr){_defineProperty$f(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$e(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$f(er,e,tr){return(e=_toPropertyKey$f(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$f(er){var e=_toPrimitive$f(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$f(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var pickId=(er,e)=>e,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(er,e)=>er.filter(tr=>tr.type==="pie").find(tr=>tr.id===e)),emptyArray=[],pickCells$1=(er,e,tr)=>(tr==null?void 0:tr.length)===0?emptyArray:tr,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(er,e,tr)=>{var{chartData:rr}=er;if(e!=null){var nr;if((e==null?void 0:e.data)!=null&&e.data.length>0?nr=e.data:nr=rr,(!nr||!nr.length)&&tr!=null&&(nr=tr.map(ir=>_objectSpread$e(_objectSpread$e({},e.presentationProps),ir.props))),nr!=null)return nr}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(er,e,tr)=>{if(!(er==null||e==null))return er.map((rr,nr)=>{var ir,sr=getValueByDataKey(rr,e.nameKey,e.name),or;return tr!=null&&(ir=tr[nr])!==null&&ir!==void 0&&(ir=ir.props)!==null&&ir!==void 0&&ir.fill?or=tr[nr].props.fill:typeof rr=="object"&&rr!=null&&"fill"in rr?or=rr.fill:or=e.fill,{value:getTooltipNameProp(sr,e.dataKey),color:or,payload:rr,type:e.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(er,e,tr,rr)=>{if(!(e==null||er==null))return computePieSectors({offset:rr,pieSettings:e,displayedData:er,cells:tr})}),reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(er){if(typeof er=="object"&&er!==null){var e=er.$$typeof;switch(e){case REACT_ELEMENT_TYPE:switch(er=er.type,er){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return er;default:switch(er=er&&er.$$typeof,er){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return er;case REACT_CONSUMER_TYPE:return er;default:return e}}case REACT_PORTAL_TYPE:return e}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(er){return typeOf(er)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(er){return typeOf(er)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(er){return typeof er=="object"&&er!==null&&er.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(er){return typeOf(er)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(er){return typeOf(er)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(er){return typeOf(er)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(er){return typeOf(er)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(er){return typeOf(er)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(er){return typeOf(er)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(er){return typeOf(er)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(er){return typeOf(er)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(er){return typeOf(er)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(er){return typeof er=="string"||typeof er=="function"||er===REACT_FRAGMENT_TYPE||er===REACT_PROFILER_TYPE||er===REACT_STRICT_MODE_TYPE||er===REACT_SUSPENSE_TYPE||er===REACT_SUSPENSE_LIST_TYPE||typeof er=="object"&&er!==null&&(er.$$typeof===REACT_LAZY_TYPE||er.$$typeof===REACT_MEMO_TYPE||er.$$typeof===REACT_CONTEXT_TYPE||er.$$typeof===REACT_CONSUMER_TYPE||er.$$typeof===REACT_FORWARD_REF_TYPE||er.$$typeof===REACT_CLIENT_REFERENCE||er.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs.exports=reactIs_production;var reactIsExports=reactIs.exports,getDisplayName=er=>typeof er=="string"?er:er?er.displayName||er.name||"Component":"",lastChildren=null,lastResult=null,toArray=er=>{if(er===lastChildren&&Array.isArray(lastResult))return lastResult;var e=[];return reactExports.Children.forEach(er,tr=>{isNullish(tr)||(reactIsExports.isFragment(tr)?e=e.concat(toArray(tr.props.children)):e.push(tr))}),lastResult=e,lastChildren=er,e};function findAllByType(er,e){var tr=[],rr=[];return Array.isArray(e)?rr=e.map(nr=>getDisplayName(nr)):rr=[getDisplayName(e)],toArray(er).forEach(nr=>{var ir=get$2(nr,"type.displayName")||get$2(nr,"type.name");ir&&rr.indexOf(ir)!==-1&&tr.push(nr)}),tr}var isClipDot=er=>er&&typeof er=="object"&&"clipDot"in er?!!er.clipDot:!0,isPlainObject$2={};(function(er){Object.defineProperty(er,Symbol.toStringTag,{value:"Module"});function e(tr){var nr;if(typeof tr!="object"||tr==null)return!1;if(Object.getPrototypeOf(tr)===null)return!0;if(Object.prototype.toString.call(tr)!=="[object Object]"){const ir=tr[Symbol.toStringTag];return ir==null||!((nr=Object.getOwnPropertyDescriptor(tr,Symbol.toStringTag))!=null&&nr.writable)?!1:tr.toString()===`[object ${ir}]`}let rr=tr;for(;Object.getPrototypeOf(rr)!==null;)rr=Object.getPrototypeOf(rr);return Object.getPrototypeOf(tr)===rr}er.isPlainObject=e})(isPlainObject$2);var isPlainObject=isPlainObject$2.isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;function ownKeys$d(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$d(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(tr),!0).forEach(function(rr){_defineProperty$e(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$d(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$e(er,e,tr){return(e=_toPropertyKey$e(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$e(er){var e=_toPrimitive$e(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$e(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$e.apply(null,arguments)}function _taggedTemplateLiteral(er,e){return e||(e=er.slice(0)),Object.freeze(Object.defineProperties(er,{raw:{value:Object.freeze(e)}}))}var getTrapezoidPath=(er,e,tr,rr,nr)=>{var ir=tr-rr,sr;return sr=roundTemplateLiteral(_templateObject||(_templateObject=_taggedTemplateLiteral(["M ",",",""])),er,e),sr+=roundTemplateLiteral(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["L ",",",""])),er+tr,e),sr+=roundTemplateLiteral(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["L ",",",""])),er+tr-ir/2,e+nr),sr+=roundTemplateLiteral(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["L ",",",""])),er+tr-ir/2-rr,e+nr),sr+=roundTemplateLiteral(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["L ",","," Z"])),er,e),sr},defaultTrapezoidProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=er=>{var e=resolveDefaultProps(er,defaultTrapezoidProps),{x:tr,y:rr,upperWidth:nr,lowerWidth:ir,height:sr,className:or}=e,{animationEasing:ar,animationDuration:lr,animationBegin:cr,isUpdateAnimationActive:dr}=e,hr=reactExports.useRef(null),[ur,pr]=reactExports.useState(-1),mr=reactExports.useRef(nr),fr=reactExports.useRef(ir),gr=reactExports.useRef(sr),yr=reactExports.useRef(tr),vr=reactExports.useRef(rr),br=useAnimationId(er,"trapezoid-");if(reactExports.useEffect(()=>{if(hr.current&&hr.current.getTotalLength)try{var Dr=hr.current.getTotalLength();Dr&&pr(Dr)}catch{}},[]),tr!==+tr||rr!==+rr||nr!==+nr||ir!==+ir||sr!==+sr||nr===0&&ir===0||sr===0)return null;var Sr=clsx("recharts-trapezoid",or);if(!dr)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(e),{className:Sr,d:getTrapezoidPath(tr,rr,nr,ir,sr)})));var jr=mr.current,Cr=fr.current,Pr=gr.current,Rr=yr.current,Lr=vr.current,Ir="0px ".concat(ur===-1?1:ur,"px"),Nr="".concat(ur,"px 0px"),Ar=getTransitionVal(["strokeDasharray"],lr,ar);return reactExports.createElement(JavascriptAnimate,{animationId:br,key:br,canBegin:ur>0,duration:lr,easing:ar,isActive:dr,begin:cr},Dr=>{var Tr=interpolate$1(jr,nr,Dr),_r=interpolate$1(Cr,ir,Dr),wr=interpolate$1(Pr,sr,Dr),Er=interpolate$1(Rr,tr,Dr),xr=interpolate$1(Lr,rr,Dr);hr.current&&(mr.current=Tr,fr.current=_r,gr.current=wr,yr.current=Er,vr.current=xr);var Mr=Dr>0?{transition:Ar,strokeDasharray:Nr}:{strokeDasharray:Ir};return reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(e),{className:Sr,d:getTrapezoidPath(Er,xr,Tr,_r,wr),ref:hr,style:_objectSpread$d(_objectSpread$d({},Mr),e.style)}))})},_excluded$e=["option","shapeType","activeClassName"];function _objectWithoutProperties$e(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$e(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$e(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function ownKeys$c(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$c(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(tr),!0).forEach(function(rr){_defineProperty$d(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$c(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$d(er,e,tr){return(e=_toPropertyKey$d(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$d(er){var e=_toPrimitive$d(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$d(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function defaultPropTransformer(er,e){return _objectSpread$c(_objectSpread$c({},e),er)}function isSymbolsProps(er,e){return er==="symbols"}function ShapeSelector(er){var{shapeType:e,elementProps:tr}=er;switch(e){case"rectangle":return reactExports.createElement(Rectangle,tr);case"trapezoid":return reactExports.createElement(Trapezoid,tr);case"sector":return reactExports.createElement(Sector,tr);case"symbols":if(isSymbolsProps(e))return reactExports.createElement(Symbols,tr);break;case"curve":return reactExports.createElement(Curve,tr);default:return null}}function getPropsFromShapeOption(er){return reactExports.isValidElement(er)?er.props:er}function Shape(er){var{option:e,shapeType:tr,activeClassName:rr="recharts-active-shape"}=er,nr=_objectWithoutProperties$e(er,_excluded$e),ir;if(reactExports.isValidElement(e))ir=reactExports.cloneElement(e,_objectSpread$c(_objectSpread$c({},nr),getPropsFromShapeOption(e)));else if(typeof e=="function")ir=e(nr,nr.index);else if(isPlainObject$1(e)&&typeof e!="boolean"){var sr=defaultPropTransformer(e,nr);ir=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:sr})}else{var or=nr;ir=reactExports.createElement(ShapeSelector,{shapeType:tr,elementProps:or})}return nr.isActive?reactExports.createElement(Layer,{className:rr},ir):ir}var useMouseEnterItemDispatch=(er,e,tr)=>{var rr=useAppDispatch();return(nr,ir)=>sr=>{er==null||er(nr,ir,sr),rr(setActiveMouseOverItemIndex({activeIndex:String(ir),activeDataKey:e,activeCoordinate:nr.tooltipPosition,activeGraphicalItemId:tr}))}},useMouseLeaveItemDispatch=er=>{var e=useAppDispatch();return(tr,rr)=>nr=>{er==null||er(tr,rr,nr),e(mouseLeaveItem())}},useMouseClickItemDispatch=(er,e,tr)=>{var rr=useAppDispatch();return(nr,ir)=>sr=>{er==null||er(nr,ir,sr),rr(setActiveClickItemIndex({activeIndex:String(ir),activeDataKey:e,activeCoordinate:nr.tooltipPosition,activeGraphicalItemId:tr}))}};function SetTooltipEntrySettings(er){var{tooltipEntrySettings:e}=er,tr=useAppDispatch(),rr=useIsPanorama(),nr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{rr||(nr.current===null?tr(addTooltipEntrySettings(e)):nr.current!==e&&tr(replaceTooltipEntrySettings({prev:nr.current,next:e})),nr.current=e)},[e,tr,rr]),reactExports.useLayoutEffect(()=>()=>{nr.current&&(tr(removeTooltipEntrySettings(nr.current)),nr.current=null)},[tr]),null}function SetLegendPayload(er){var{legendPayload:e}=er,tr=useAppDispatch(),rr=useIsPanorama(),nr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{rr||(nr.current===null?tr(addLegendPayload(e)):nr.current!==e&&tr(replaceLegendPayload({prev:nr.current,next:e})),nr.current=e)},[tr,rr,e]),reactExports.useLayoutEffect(()=>()=>{nr.current&&(tr(removeLegendPayload(nr.current)),nr.current=null)},[tr]),null}function SetPolarLegendPayload(er){var{legendPayload:e}=er,tr=useAppDispatch(),rr=useAppSelector(selectChartLayout),nr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{rr!=="centric"&&rr!=="radial"||(nr.current===null?tr(addLegendPayload(e)):nr.current!==e&&tr(replaceLegendPayload({prev:nr.current,next:e})),nr.current=e)},[tr,rr,e]),reactExports.useLayoutEffect(()=>()=>{nr.current&&(tr(removeLegendPayload(nr.current)),nr.current=null)},[tr]),null}var _ref,useIdFallback=()=>{var[er]=reactExports.useState(()=>uniqueId("uid-"));return er},useId=(_ref=React$4.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(er,e){var tr=useId();return e||(er?"".concat(er,"-").concat(tr):tr)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=er=>{var{id:e,type:tr,children:rr}=er,nr=useUniqueId("recharts-".concat(tr),e);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:nr},rr(nr))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(er,e){er.cartesianItems.push(e.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(er,e){var{prev:tr,next:rr}=e.payload,nr=current$1(er).cartesianItems.indexOf(tr);nr>-1&&(er.cartesianItems[nr]=rr)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(er,e){var tr=current$1(er).cartesianItems.indexOf(e.payload);tr>-1&&er.cartesianItems.splice(tr,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(er,e){er.polarItems.push(e.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(er,e){var tr=current$1(er).polarItems.indexOf(e.payload);tr>-1&&er.polarItems.splice(tr,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer,SetCartesianGraphicalItemImpl=er=>{var e=useAppDispatch(),tr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{tr.current===null?e(addCartesianGraphicalItem(er)):tr.current!==er&&e(replaceCartesianGraphicalItem({prev:tr.current,next:er})),tr.current=er},[e,er]),reactExports.useLayoutEffect(()=>()=>{tr.current&&(e(removeCartesianGraphicalItem(tr.current)),tr.current=null)},[e]),null},SetCartesianGraphicalItem=reactExports.memo(SetCartesianGraphicalItemImpl);function SetPolarGraphicalItem(er){var e=useAppDispatch();return reactExports.useLayoutEffect(()=>(e(addPolarGraphicalItem(er)),()=>{e(removePolarGraphicalItem(er))}),[e,er]),null}var _excluded$d=["key"],_excluded2$6=["onMouseEnter","onClick","onMouseLeave"],_excluded3$3=["id"],_excluded4$2=["id"];function ownKeys$b(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$b(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(tr),!0).forEach(function(rr){_defineProperty$c(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$b(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$c(er,e,tr){return(e=_toPropertyKey$c(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$c(er){var e=_toPrimitive$c(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$c(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$d.apply(null,arguments)}function _objectWithoutProperties$d(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$d(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$d(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function SetPiePayloadLegend(er){var e=reactExports.useMemo(()=>findAllByType(er.children,Cell),[er.children]),tr=useAppSelector(rr=>selectPieLegend(rr,er.id,e));return tr==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:tr})}var SetPieTooltipEntrySettings=reactExports.memo(er=>{var{dataKey:e,nameKey:tr,sectors:rr,stroke:nr,strokeWidth:ir,fill:sr,name:or,hide:ar,tooltipType:lr,id:cr}=er,dr={dataDefinedOnItem:rr.map(hr=>hr.tooltipPayload),positions:rr.map(hr=>hr.tooltipPosition),settings:{stroke:nr,strokeWidth:ir,fill:sr,dataKey:e,nameKey:tr,name:getTooltipNameProp(or,e),hide:ar,type:lr,color:sr,unit:"",graphicalItemId:cr}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:dr})}),getTextAnchor=(er,e)=>er>e?"start":er<e?"end":"middle",getOuterRadius=(er,e,tr)=>getPercentValue(typeof e=="function"?e(er):e,tr,tr*.8),parseCoordinateOfPie=(er,e,tr)=>{var{top:rr,left:nr,width:ir,height:sr}=e,or=getMaxRadius(ir,sr),ar=nr+getPercentValue(er.cx,ir,ir/2),lr=rr+getPercentValue(er.cy,sr,sr/2),cr=getPercentValue(er.innerRadius,or,0),dr=getOuterRadius(tr,er.outerRadius,or),hr=er.maxRadius||Math.sqrt(ir*ir+sr*sr)/2;return{cx:ar,cy:lr,innerRadius:cr,outerRadius:dr,maxRadius:hr}},parseDeltaAngle=(er,e)=>{var tr=mathSign(e-er),rr=Math.min(Math.abs(e-er),360);return tr*rr};function getClassNamePropertyIfExists(er){return er&&typeof er=="object"&&"className"in er&&typeof er.className=="string"?er.className:""}var renderLabelLineItem=(er,e)=>{if(reactExports.isValidElement(er))return reactExports.cloneElement(er,e);if(typeof er=="function")return er(e);var tr=clsx("recharts-pie-label-line",typeof er!="boolean"?er.className:""),{key:rr}=e,nr=_objectWithoutProperties$d(e,_excluded$d);return reactExports.createElement(Curve,_extends$d({},nr,{type:"linear",className:tr}))},renderLabelItem=(er,e,tr)=>{if(reactExports.isValidElement(er))return reactExports.cloneElement(er,e);var rr=tr;if(typeof er=="function"&&(rr=er(e),reactExports.isValidElement(rr)))return rr;var nr=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(er));return reactExports.createElement(Text,_extends$d({},e,{alignmentBaseline:"middle",className:nr}),rr)};function PieLabels(er){var{sectors:e,props:tr,showLabels:rr}=er,{label:nr,labelLine:ir,dataKey:sr}=tr;if(!rr||!nr||!e)return null;var or=svgPropertiesNoEvents(tr),ar=svgPropertiesNoEventsFromUnknown(nr),lr=svgPropertiesNoEventsFromUnknown(ir),cr=typeof nr=="object"&&"offsetRadius"in nr&&typeof nr.offsetRadius=="number"&&nr.offsetRadius||20,dr=e.map((hr,ur)=>{var pr=(hr.startAngle+hr.endAngle)/2,mr=polarToCartesian(hr.cx,hr.cy,hr.outerRadius+cr,pr),fr=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},or),hr),{},{stroke:"none"},ar),{},{index:ur,textAnchor:getTextAnchor(mr.x,hr.cx)},mr),gr=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},or),hr),{},{fill:"none",stroke:hr.fill},lr),{},{index:ur,points:[polarToCartesian(hr.cx,hr.cy,hr.outerRadius,pr),mr],key:"line"});return reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label,key:"label-".concat(hr.startAngle,"-").concat(hr.endAngle,"-").concat(hr.midAngle,"-").concat(ur)},reactExports.createElement(Layer,null,ir&&renderLabelLineItem(ir,gr),renderLabelItem(nr,fr,getValueByDataKey(hr,sr))))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},dr)}function PieLabelList(er){var{sectors:e,props:tr,showLabels:rr}=er,{label:nr}=tr;return typeof nr=="object"&&nr!=null&&"position"in nr?reactExports.createElement(LabelListFromLabelProp,{label:nr}):reactExports.createElement(PieLabels,{sectors:e,props:tr,showLabels:rr})}function PieSectors(er){var{sectors:e,activeShape:tr,inactiveShape:rr,allOtherPieProps:nr,shape:ir,id:sr}=er,or=useAppSelector(selectActiveTooltipIndex),ar=useAppSelector(selectActiveTooltipDataKey),lr=useAppSelector(selectActiveTooltipGraphicalItemId),{onMouseEnter:cr,onClick:dr,onMouseLeave:hr}=nr,ur=_objectWithoutProperties$d(nr,_excluded2$6),pr=useMouseEnterItemDispatch(cr,nr.dataKey,sr),mr=useMouseLeaveItemDispatch(hr),fr=useMouseClickItemDispatch(dr,nr.dataKey,sr);return e==null||e.length===0?null:reactExports.createElement(reactExports.Fragment,null,e.map((gr,yr)=>{if((gr==null?void 0:gr.startAngle)===0&&(gr==null?void 0:gr.endAngle)===0&&e.length!==1)return null;var vr=lr==null||lr===sr,br=String(yr)===or&&(ar==null||nr.dataKey===ar)&&vr,Sr=or?rr:null,jr=tr&&br?tr:Sr,Cr=_objectSpread$b(_objectSpread$b({},gr),{},{stroke:gr.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:yr,[DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:sr});return reactExports.createElement(Layer,_extends$d({key:"sector-".concat(gr==null?void 0:gr.startAngle,"-").concat(gr==null?void 0:gr.endAngle,"-").concat(gr.midAngle,"-").concat(yr),tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(ur,gr,yr),{onMouseEnter:pr(gr,yr),onMouseLeave:mr(gr,yr),onClick:fr(gr,yr)}),reactExports.createElement(Shape,_extends$d({option:ir??jr,index:yr,shapeType:"sector",isActive:br},Cr)))}))}function computePieSectors(er){var e,{pieSettings:tr,displayedData:rr,cells:nr,offset:ir}=er,{cornerRadius:sr,startAngle:or,endAngle:ar,dataKey:lr,nameKey:cr,tooltipType:dr}=tr,hr=Math.abs(tr.minAngle),ur=parseDeltaAngle(or,ar),pr=Math.abs(ur),mr=rr.length<=1?0:(e=tr.paddingAngle)!==null&&e!==void 0?e:0,fr=rr.filter(jr=>getValueByDataKey(jr,lr,0)!==0).length,gr=(pr>=360?fr:fr-1)*mr,yr=pr-fr*hr-gr,vr=rr.reduce((jr,Cr)=>{var Pr=getValueByDataKey(Cr,lr,0);return jr+(isNumber(Pr)?Pr:0)},0),br;if(vr>0){var Sr;br=rr.map((jr,Cr)=>{var Pr=getValueByDataKey(jr,lr,0),Rr=getValueByDataKey(jr,cr,Cr),Lr=parseCoordinateOfPie(tr,ir,jr),Ir=(isNumber(Pr)?Pr:0)/vr,Nr,Ar=_objectSpread$b(_objectSpread$b({},jr),nr&&nr[Cr]&&nr[Cr].props);Cr?Nr=Sr.endAngle+mathSign(ur)*mr*(Pr!==0?1:0):Nr=or;var Dr=Nr+mathSign(ur)*((Pr!==0?hr:0)+Ir*yr),Tr=(Nr+Dr)/2,_r=(Lr.innerRadius+Lr.outerRadius)/2,wr=[{name:Rr,value:Pr,payload:Ar,dataKey:lr,type:dr,graphicalItemId:tr.id}],Er=polarToCartesian(Lr.cx,Lr.cy,_r,Tr);return Sr=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},tr.presentationProps),{},{percent:Ir,cornerRadius:typeof sr=="string"?parseFloat(sr):sr,name:Rr,tooltipPayload:wr,midAngle:Tr,middleRadius:_r,tooltipPosition:Er},Ar),Lr),{},{value:Pr,dataKey:lr,startAngle:Nr,endAngle:Dr,payload:Ar,paddingAngle:mathSign(ur)*mr}),Sr})}return br}function PieLabelListProvider(er){var{showLabels:e,sectors:tr,children:rr}=er,nr=reactExports.useMemo(()=>!e||!tr?[]:tr.map(ir=>({value:ir.value,payload:ir.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:ir.cx,cy:ir.cy,innerRadius:ir.innerRadius,outerRadius:ir.outerRadius,startAngle:ir.startAngle,endAngle:ir.endAngle,clockWise:!1},fill:ir.fill})),[tr,e]);return reactExports.createElement(PolarLabelListContextProvider,{value:e?nr:void 0},rr)}function SectorsWithAnimation(er){var{props:e,previousSectorsRef:tr,id:rr}=er,{sectors:nr,isAnimationActive:ir,animationBegin:sr,animationDuration:or,animationEasing:ar,activeShape:lr,inactiveShape:cr,onAnimationStart:dr,onAnimationEnd:hr}=e,ur=useAnimationId(e,"recharts-pie-"),pr=tr.current,[mr,fr]=reactExports.useState(!1),gr=reactExports.useCallback(()=>{typeof hr=="function"&&hr(),fr(!1)},[hr]),yr=reactExports.useCallback(()=>{typeof dr=="function"&&dr(),fr(!0)},[dr]);return reactExports.createElement(PieLabelListProvider,{showLabels:!mr,sectors:nr},reactExports.createElement(JavascriptAnimate,{animationId:ur,begin:sr,duration:or,isActive:ir,easing:ar,onAnimationStart:yr,onAnimationEnd:gr,key:ur},vr=>{var br=[],Sr=nr&&nr[0],jr=Sr==null?void 0:Sr.startAngle;return nr==null||nr.forEach((Cr,Pr)=>{var Rr=pr&&pr[Pr],Lr=Pr>0?get$2(Cr,"paddingAngle",0):0;if(Rr){var Ir=interpolate$1(Rr.endAngle-Rr.startAngle,Cr.endAngle-Cr.startAngle,vr),Nr=_objectSpread$b(_objectSpread$b({},Cr),{},{startAngle:jr+Lr,endAngle:jr+Ir+Lr});br.push(Nr),jr=Nr.endAngle}else{var{endAngle:Ar,startAngle:Dr}=Cr,Tr=interpolate$1(0,Ar-Dr,vr),_r=_objectSpread$b(_objectSpread$b({},Cr),{},{startAngle:jr+Lr,endAngle:jr+Tr+Lr});br.push(_r),jr=_r.endAngle}}),tr.current=br,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:br,activeShape:lr,inactiveShape:cr,allOtherPieProps:e,shape:e.shape,id:rr}))}),reactExports.createElement(PieLabelList,{showLabels:!mr,sectors:nr,props:e}),e.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:DefaultZIndexes.area};function PieImpl(er){var{id:e}=er,tr=_objectWithoutProperties$d(er,_excluded3$3),{hide:rr,className:nr,rootTabIndex:ir}=er,sr=reactExports.useMemo(()=>findAllByType(er.children,Cell),[er.children]),or=useAppSelector(cr=>selectPieSectors(cr,e,sr)),ar=reactExports.useRef(null),lr=clsx("recharts-pie",nr);return rr||or==null?(ar.current=null,reactExports.createElement(Layer,{tabIndex:ir,className:lr})):reactExports.createElement(ZIndexLayer,{zIndex:er.zIndex},reactExports.createElement(SetPieTooltipEntrySettings,{dataKey:er.dataKey,nameKey:er.nameKey,sectors:or,stroke:er.stroke,strokeWidth:er.strokeWidth,fill:er.fill,name:er.name,hide:er.hide,tooltipType:er.tooltipType,id:e}),reactExports.createElement(Layer,{tabIndex:ir,className:lr},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$b(_objectSpread$b({},tr),{},{sectors:or}),previousSectorsRef:ar,id:e})))}function Pie(er){var e=resolveDefaultProps(er,defaultPieProps),{id:tr}=e,rr=_objectWithoutProperties$d(e,_excluded4$2),nr=svgPropertiesNoEvents(rr);return reactExports.createElement(RegisterGraphicalItemId,{id:tr,type:"pie"},ir=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:ir,data:rr.data,dataKey:rr.dataKey,hide:rr.hide,angleAxisId:0,radiusAxisId:0,name:rr.name,nameKey:rr.nameKey,tooltipType:rr.tooltipType,legendType:rr.legendType,fill:rr.fill,cx:rr.cx,cy:rr.cy,startAngle:rr.startAngle,endAngle:rr.endAngle,paddingAngle:rr.paddingAngle,minAngle:rr.minAngle,innerRadius:rr.innerRadius,outerRadius:rr.outerRadius,cornerRadius:rr.cornerRadius,presentationProps:nr,maxRadius:e.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$d({},rr,{id:ir})),reactExports.createElement(PieImpl,_extends$d({},rr,{id:ir}))))}Pie.displayName="Pie";var _excluded$c=["points"];function ownKeys$a(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$a(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(tr),!0).forEach(function(rr){_defineProperty$b(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$a(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$b(er,e,tr){return(e=_toPropertyKey$b(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$b(er){var e=_toPrimitive$b(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$b(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$c.apply(null,arguments)}function _objectWithoutProperties$c(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$c(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$c(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function DotItem(er){var{option:e,dotProps:tr,className:rr}=er;if(reactExports.isValidElement(e))return reactExports.cloneElement(e,tr);if(typeof e=="function")return e(tr);var nr=clsx(rr,typeof e!="boolean"?e.className:""),ir=tr??{},{points:sr}=ir,or=_objectWithoutProperties$c(ir,_excluded$c);return reactExports.createElement(Dot,_extends$c({},or,{className:nr}))}function shouldRenderDots(er,e){return er==null?!1:e?!0:er.length===1}function Dots(er){var{points:e,dot:tr,className:rr,dotClassName:nr,dataKey:ir,baseProps:sr,needClip:or,clipPathId:ar,zIndex:lr=DefaultZIndexes.scatter}=er;if(!shouldRenderDots(e,tr))return null;var cr=isClipDot(tr),dr=svgPropertiesAndEventsFromUnknown(tr),hr=e.map((pr,mr)=>{var fr,gr,yr=_objectSpread$a(_objectSpread$a(_objectSpread$a({r:3},sr),dr),{},{index:mr,cx:(fr=pr.x)!==null&&fr!==void 0?fr:void 0,cy:(gr=pr.y)!==null&&gr!==void 0?gr:void 0,dataKey:ir,value:pr.value,payload:pr.payload,points:e});return reactExports.createElement(DotItem,{key:"dot-".concat(mr),option:tr,dotProps:yr,className:nr})}),ur={};return or&&ar!=null&&(ur.clipPath="url(#clipPath-".concat(cr?"":"dots-").concat(ar,")")),reactExports.createElement(ZIndexLayer,{zIndex:lr},reactExports.createElement(Layer,_extends$c({className:rr},ur),hr))}function ownKeys$9(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$9(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(tr),!0).forEach(function(rr){_defineProperty$a(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$9(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$a(er,e,tr){return(e=_toPropertyKey$a(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$a(er){var e=_toPrimitive$a(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$a(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var defaultAxisId=0,initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(er,e){er.xAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},replaceXAxis:{reducer(er,e){var{prev:tr,next:rr}=e.payload;er.xAxis[tr.id]!==void 0&&(tr.id!==rr.id&&delete er.xAxis[tr.id],er.xAxis[rr.id]=rr)},prepare:prepareAutoBatched()},removeXAxis:{reducer(er,e){delete er.xAxis[e.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(er,e){er.yAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},replaceYAxis:{reducer(er,e){var{prev:tr,next:rr}=e.payload;er.yAxis[tr.id]!==void 0&&(tr.id!==rr.id&&delete er.yAxis[tr.id],er.yAxis[rr.id]=rr)},prepare:prepareAutoBatched()},removeYAxis:{reducer(er,e){delete er.yAxis[e.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(er,e){er.zAxis[e.payload.id]=e.payload},prepare:prepareAutoBatched()},replaceZAxis:{reducer(er,e){var{prev:tr,next:rr}=e.payload;er.zAxis[tr.id]!==void 0&&(tr.id!==rr.id&&delete er.zAxis[tr.id],er.zAxis[rr.id]=rr)},prepare:prepareAutoBatched()},removeZAxis:{reducer(er,e){delete er.zAxis[e.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(er,e){var{id:tr,width:rr}=e.payload,nr=er.yAxis[tr];if(nr){var ir=nr.widthHistory||[];if(ir.length===3&&ir[0]===ir[2]&&rr===ir[1]&&rr!==nr.width&&Math.abs(rr-ir[0])<=1)return;var sr=[...ir,rr].slice(-3);er.yAxis[tr]=_objectSpread$9(_objectSpread$9({},er.yAxis[tr]),{},{width:rr,widthHistory:sr})}}}}),{addXAxis,replaceXAxis,removeXAxis,addYAxis,replaceYAxis,removeYAxis,addZAxis,replaceZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],er=>({top:er.top,bottom:er.bottom,left:er.left,right:er.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(er,e,tr)=>{if(!(!er||e==null||tr==null))return{x:er.left,y:er.top,width:Math.max(0,e-er.left-er.right),height:Math.max(0,tr-er.top-er.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$8(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$8(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(tr),!0).forEach(function(rr){_defineProperty$9(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$8(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$9(er,e,tr){return(e=_toPropertyKey$9(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$9(er){var e=_toPrimitive$9(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$9(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var ActivePoint=er=>{var{point:e,childIndex:tr,mainColor:rr,activeDot:nr,dataKey:ir,clipPath:sr}=er;if(nr===!1||e.x==null||e.y==null)return null;var or={index:tr,dataKey:ir,cx:e.x,cy:e.y,r:4,fill:rr??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ar=_objectSpread$8(_objectSpread$8(_objectSpread$8({},or),svgPropertiesNoEventsFromUnknown(nr)),adaptEventHandlers(nr)),lr;return reactExports.isValidElement(nr)?lr=reactExports.cloneElement(nr,ar):typeof nr=="function"?lr=nr(ar):lr=reactExports.createElement(Dot,ar),reactExports.createElement(Layer,{className:"recharts-active-dot",clipPath:sr},lr)};function ActivePoints(er){var{points:e,mainColor:tr,activeDot:rr,itemDataKey:nr,clipPath:ir,zIndex:sr=DefaultZIndexes.activeDot}=er,or=useAppSelector(selectActiveTooltipIndex),ar=useActiveTooltipDataPoints();if(e==null||ar==null)return null;var lr=e.find(cr=>ar.includes(cr.payload));return isNullish(lr)?null:reactExports.createElement(ZIndexLayer,{zIndex:sr},reactExports.createElement(ActivePoint,{point:lr,childIndex:Number(or),mainColor:tr,dataKey:nr,activeDot:rr,clipPath:ir}))}var getBarSize=(er,e,tr)=>{var rr=tr??er;if(!isNullish(rr))return getPercentValue(rr,e,0)},combineBarSizeList=(er,e,tr)=>{var rr={},nr=er.filter(isStacked),ir=er.filter(lr=>lr.stackId==null),sr=nr.reduce((lr,cr)=>(lr[cr.stackId]||(lr[cr.stackId]=[]),lr[cr.stackId].push(cr),lr),rr),or=Object.entries(sr).map(lr=>{var[cr,dr]=lr,hr=dr.map(pr=>pr.dataKey),ur=getBarSize(e,tr,dr[0].barSize);return{stackId:cr,dataKeys:hr,barSize:ur}}),ar=ir.map(lr=>{var cr=[lr.dataKey].filter(hr=>hr!=null),dr=getBarSize(e,tr,lr.barSize);return{stackId:void 0,dataKeys:cr,barSize:dr}});return[...or,...ar]};function ownKeys$7(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$7(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(tr),!0).forEach(function(rr){_defineProperty$8(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$7(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$8(er,e,tr){return(e=_toPropertyKey$8(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$8(er){var e=_toPrimitive$8(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$8(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function getBarPositions(er,e,tr,rr,nr){var ir=rr.length;if(!(ir<1)){var sr=getPercentValue(er,tr,0,!0),or,ar=[];if(isWellBehavedNumber(rr[0].barSize)){var lr=!1,cr=tr/ir,dr=rr.reduce((gr,yr)=>gr+(yr.barSize||0),0);dr+=(ir-1)*sr,dr>=tr&&(dr-=(ir-1)*sr,sr=0),dr>=tr&&cr>0&&(lr=!0,cr*=.9,dr=ir*cr);var hr=(tr-dr)/2>>0,ur={offset:hr-sr,size:0};or=rr.reduce((gr,yr)=>{var vr,br={stackId:yr.stackId,dataKeys:yr.dataKeys,position:{offset:ur.offset+ur.size+sr,size:lr?cr:(vr=yr.barSize)!==null&&vr!==void 0?vr:0}},Sr=[...gr,br];return ur=Sr[Sr.length-1].position,Sr},ar)}else{var pr=getPercentValue(e,tr,0,!0);tr-2*pr-(ir-1)*sr<=0&&(sr=0);var mr=(tr-2*pr-(ir-1)*sr)/ir;mr>1&&(mr>>=0);var fr=isWellBehavedNumber(nr)?Math.min(mr,nr):mr;or=rr.reduce((gr,yr,vr)=>[...gr,{stackId:yr.stackId,dataKeys:yr.dataKeys,position:{offset:pr+(mr+sr)*vr+(mr-fr)/2,size:fr}}],ar)}return or}}var combineAllBarPositions=(er,e,tr,rr,nr,ir,sr)=>{var or=isNullish(sr)?e:sr,ar=getBarPositions(tr,rr,nr!==ir?nr:ir,er,or);return nr!==ir&&ar!=null&&(ar=ar.map(lr=>_objectSpread$7(_objectSpread$7({},lr),{},{position:_objectSpread$7(_objectSpread$7({},lr.position),{},{offset:lr.position.offset-nr/2})}))),ar},combineStackedData=(er,e)=>{var tr=getStackSeriesIdentifier(e);if(!(!er||tr==null||e==null)){var{stackId:rr}=e;if(rr!=null){var nr=er[rr];if(nr){var{stackedData:ir}=nr;if(ir)return ir.find(sr=>sr.key===tr)}}}};function getZIndexFromUnknown(er,e){return er&&typeof er=="object"&&"zIndex"in er&&typeof er.zIndex=="number"&&isWellBehavedNumber(er.zIndex)?er.zIndex:e}var ChartDataContextProvider=er=>{var{chartData:e}=er,tr=useAppDispatch(),rr=useIsPanorama();return reactExports.useEffect(()=>rr?()=>{}:(tr(setChartData(e)),()=>{tr(setChartData(void 0))}),[e,tr,rr]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(er,e){return e.payload==null?initialState$3:e.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$7(er,e,tr){return(e=_toPropertyKey$7(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$7(er){var e=_toPrimitive$7(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$7(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}class ScaleHelper{static create(e){return new ScaleHelper(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:tr,position:rr}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(rr)switch(rr){case"start":return this.scale(e);case"middle":{var nr=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+nr}case"end":{var ir=this.bandwidth?this.bandwidth():0;return this.scale(e)+ir}default:return this.scale(e)}if(tr){var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+sr}return this.scale(e)}}isInRange(e){var tr=this.range(),rr=tr[0],nr=tr[tr.length-1];return rr<=nr?e>=rr&&e<=nr:e>=nr&&e<=rr}}_defineProperty$7(ScaleHelper,"EPS",1e-4);function normalizeAngle(er){return(er%180+180)%180}var getAngledRectangleWidth=function er(e){var{width:tr,height:rr}=e,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ir=normalizeAngle(nr),sr=ir*Math.PI/180,or=Math.atan(rr/tr),ar=sr>or&&sr<Math.PI-or?rr/Math.sin(sr):tr/Math.cos(sr);return Math.abs(ar)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(er,e)=>{er.dots.push(e.payload)},removeDot:(er,e)=>{var tr=current$1(er).dots.findIndex(rr=>rr===e.payload);tr!==-1&&er.dots.splice(tr,1)},addArea:(er,e)=>{er.areas.push(e.payload)},removeArea:(er,e)=>{var tr=current$1(er).areas.findIndex(rr=>rr===e.payload);tr!==-1&&er.areas.splice(tr,1)},addLine:(er,e)=>{er.lines.push(e.payload)},removeLine:(er,e)=>{var tr=current$1(er).lines.findIndex(rr=>rr===e.payload);tr!==-1&&er.lines.splice(tr,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=er=>{var{children:e}=er,[tr]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),rr=usePlotArea();if(rr==null)return null;var{x:nr,y:ir,width:sr,height:or}=rr;return reactExports.createElement(ClipPathIdContext.Provider,{value:tr},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:tr},reactExports.createElement("rect",{x:nr,y:ir,height:or,width:sr}))),e)};function getEveryNth(er,e){if(e<1)return[];if(e===1)return er;for(var tr=[],rr=0;rr<er.length;rr+=e){var nr=er[rr];nr!==void 0&&tr.push(nr)}return tr}function getAngledTickWidth(er,e,tr){var rr={width:er.width+e.width,height:er.height+e.height};return getAngledRectangleWidth(rr,tr)}function getTickBoundaries(er,e,tr){var rr=tr==="width",{x:nr,y:ir,width:sr,height:or}=er;return e===1?{start:rr?nr:ir,end:rr?nr+sr:ir+or}:{start:rr?nr+sr:ir+or,end:rr?nr:ir}}function isVisible(er,e,tr,rr,nr){if(er*e<er*rr||er*e>er*nr)return!1;var ir=tr();return er*(e-er*ir/2-rr)>=0&&er*(e+er*ir/2-nr)<=0}function getNumberIntervalTicks(er,e){return getEveryNth(er,e+1)}function getEquidistantTicks(er,e,tr,rr,nr){for(var ir=(rr||[]).slice(),{start:sr,end:or}=e,ar=0,lr=1,cr=sr,dr=function(){var pr=rr==null?void 0:rr[ar];if(pr===void 0)return{v:getEveryNth(rr,lr)};var mr=ar,fr,gr=()=>(fr===void 0&&(fr=tr(pr,mr)),fr),yr=pr.coordinate,vr=ar===0||isVisible(er,yr,gr,cr,or);vr||(ar=0,cr=sr,lr+=1),vr&&(cr=yr+er*(gr()/2+nr),ar+=lr)},hr;lr<=ir.length;)if(hr=dr(),hr)return hr.v;return[]}function getEquidistantPreserveEndTicks(er,e,tr,rr,nr){var ir=(rr||[]).slice(),sr=ir.length;if(sr===0)return[];for(var{start:or,end:ar}=e,lr=1;lr<=sr;lr++){for(var cr=(sr-1)%lr,dr=or,hr=!0,ur=function(){var yr=rr[pr],vr=pr,br,Sr=()=>(br===void 0&&(br=tr(yr,vr)),br),jr=yr.coordinate,Cr=pr===cr||isVisible(er,jr,Sr,dr,ar);if(!Cr)return hr=!1,1;Cr&&(dr=jr+er*(Sr()/2+nr))},pr=cr;pr<sr&&!ur();pr+=lr);if(hr){for(var mr=[],fr=cr;fr<sr;fr+=lr)mr.push(rr[fr]);return mr}}return[]}function ownKeys$6(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$6(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(tr),!0).forEach(function(rr){_defineProperty$6(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$6(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$6(er,e,tr){return(e=_toPropertyKey$6(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$6(er){var e=_toPrimitive$6(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$6(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function getTicksEnd(er,e,tr,rr,nr){for(var ir=(rr||[]).slice(),sr=ir.length,{start:or}=e,{end:ar}=e,lr=function(hr){var ur=ir[hr],pr,mr=()=>(pr===void 0&&(pr=tr(ur,hr)),pr);if(hr===sr-1){var fr=er*(ur.coordinate+er*mr()/2-ar);ir[hr]=ur=_objectSpread$6(_objectSpread$6({},ur),{},{tickCoord:fr>0?ur.coordinate-fr*er:ur.coordinate})}else ir[hr]=ur=_objectSpread$6(_objectSpread$6({},ur),{},{tickCoord:ur.coordinate});if(ur.tickCoord!=null){var gr=isVisible(er,ur.tickCoord,mr,or,ar);gr&&(ar=ur.tickCoord-er*(mr()/2+nr),ir[hr]=_objectSpread$6(_objectSpread$6({},ur),{},{isShow:!0}))}},cr=sr-1;cr>=0;cr--)lr(cr);return ir}function getTicksStart(er,e,tr,rr,nr,ir){var sr=(rr||[]).slice(),or=sr.length,{start:ar,end:lr}=e;if(ir){var cr=rr[or-1],dr=tr(cr,or-1),hr=er*(cr.coordinate+er*dr/2-lr);if(sr[or-1]=cr=_objectSpread$6(_objectSpread$6({},cr),{},{tickCoord:hr>0?cr.coordinate-hr*er:cr.coordinate}),cr.tickCoord!=null){var ur=isVisible(er,cr.tickCoord,()=>dr,ar,lr);ur&&(lr=cr.tickCoord-er*(dr/2+nr),sr[or-1]=_objectSpread$6(_objectSpread$6({},cr),{},{isShow:!0}))}}for(var pr=ir?or-1:or,mr=function(yr){var vr=sr[yr],br,Sr=()=>(br===void 0&&(br=tr(vr,yr)),br);if(yr===0){var jr=er*(vr.coordinate-er*Sr()/2-ar);sr[yr]=vr=_objectSpread$6(_objectSpread$6({},vr),{},{tickCoord:jr<0?vr.coordinate-jr*er:vr.coordinate})}else sr[yr]=vr=_objectSpread$6(_objectSpread$6({},vr),{},{tickCoord:vr.coordinate});if(vr.tickCoord!=null){var Cr=isVisible(er,vr.tickCoord,Sr,ar,lr);Cr&&(ar=vr.tickCoord+er*(Sr()/2+nr),sr[yr]=_objectSpread$6(_objectSpread$6({},vr),{},{isShow:!0}))}},fr=0;fr<pr;fr++)mr(fr);return sr}function getTicks(er,e,tr){var{tick:rr,ticks:nr,viewBox:ir,minTickGap:sr,orientation:or,interval:ar,tickFormatter:lr,unit:cr,angle:dr}=er;if(!nr||!nr.length||!rr)return[];if(isNumber(ar)||Global.isSsr){var hr;return(hr=getNumberIntervalTicks(nr,isNumber(ar)?ar:0))!==null&&hr!==void 0?hr:[]}var ur=[],pr=or==="top"||or==="bottom"?"width":"height",mr=cr&&pr==="width"?getStringSize(cr,{fontSize:e,letterSpacing:tr}):{width:0,height:0},fr=(vr,br)=>{var Sr=typeof lr=="function"?lr(vr.value,br):vr.value;return pr==="width"?getAngledTickWidth(getStringSize(Sr,{fontSize:e,letterSpacing:tr}),mr,dr):getStringSize(Sr,{fontSize:e,letterSpacing:tr})[pr]},gr=nr.length>=2?mathSign(nr[1].coordinate-nr[0].coordinate):1,yr=getTickBoundaries(ir,gr,pr);return ar==="equidistantPreserveStart"?getEquidistantTicks(gr,yr,fr,nr,sr):ar==="equidistantPreserveEnd"?getEquidistantPreserveEndTicks(gr,yr,fr,nr,sr):(ar==="preserveStart"||ar==="preserveStartEnd"?ur=getTicksStart(gr,yr,fr,nr,sr,ar==="preserveStartEnd"):ur=getTicksEnd(gr,yr,fr,nr,sr),ur.filter(vr=>vr.isShow))}var getCalculatedYAxisWidth=er=>{var{ticks:e,label:tr,labelGapWithTick:rr=5,tickSize:nr=0,tickMargin:ir=0}=er,sr=0;if(e){Array.from(e).forEach(cr=>{if(cr){var dr=cr.getBoundingClientRect();dr.width>sr&&(sr=dr.width)}});var or=tr?tr.getBoundingClientRect().width:0,ar=nr+ir,lr=sr+ar+or+(tr?rr:0);return Math.round(lr)}return 0},_excluded$b=["axisLine","width","height","className","hide","ticks","axisType"];function _objectWithoutProperties$b(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$b(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$b(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$b.apply(null,arguments)}function ownKeys$5(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$5(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(tr),!0).forEach(function(rr){_defineProperty$5(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$5(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$5(er,e,tr){return(e=_toPropertyKey$5(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$5(er){var e=_toPrimitive$5(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$5(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(er){var{x:e,y:tr,width:rr,height:nr,orientation:ir,mirror:sr,axisLine:or,otherSvgProps:ar}=er;if(!or)return null;var lr=_objectSpread$5(_objectSpread$5(_objectSpread$5({},ar),svgPropertiesNoEvents(or)),{},{fill:"none"});if(ir==="top"||ir==="bottom"){var cr=+(ir==="top"&&!sr||ir==="bottom"&&sr);lr=_objectSpread$5(_objectSpread$5({},lr),{},{x1:e,y1:tr+cr*nr,x2:e+rr,y2:tr+cr*nr})}else{var dr=+(ir==="left"&&!sr||ir==="right"&&sr);lr=_objectSpread$5(_objectSpread$5({},lr),{},{x1:e+dr*rr,y1:tr,x2:e+dr*rr,y2:tr+nr})}return reactExports.createElement("line",_extends$b({},lr,{className:clsx("recharts-cartesian-axis-line",get$2(or,"className"))}))}function getTickLineCoord(er,e,tr,rr,nr,ir,sr,or,ar){var lr,cr,dr,hr,ur,pr,mr=or?-1:1,fr=er.tickSize||sr,gr=isNumber(er.tickCoord)?er.tickCoord:er.coordinate;switch(ir){case"top":lr=cr=er.coordinate,hr=tr+ +!or*nr,dr=hr-mr*fr,pr=dr-mr*ar,ur=gr;break;case"left":dr=hr=er.coordinate,cr=e+ +!or*rr,lr=cr-mr*fr,ur=lr-mr*ar,pr=gr;break;case"right":dr=hr=er.coordinate,cr=e+ +or*rr,lr=cr+mr*fr,ur=lr+mr*ar,pr=gr;break;default:lr=cr=er.coordinate,hr=tr+ +or*nr,dr=hr+mr*fr,pr=dr+mr*ar,ur=gr;break}return{line:{x1:lr,y1:dr,x2:cr,y2:hr},tick:{x:ur,y:pr}}}function getTickTextAnchor(er,e){switch(er){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function getTickVerticalAnchor(er,e){switch(er){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function TickItem(er){var{option:e,tickProps:tr,value:rr}=er,nr,ir=clsx(tr.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(e))nr=reactExports.cloneElement(e,_objectSpread$5(_objectSpread$5({},tr),{},{className:ir}));else if(typeof e=="function")nr=e(_objectSpread$5(_objectSpread$5({},tr),{},{className:ir}));else{var sr="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(sr=clsx(sr,e==null?void 0:e.className)),nr=reactExports.createElement(Text,_extends$b({},tr,{className:sr}),rr)}return nr}var Ticks=reactExports.forwardRef((er,e)=>{var{ticks:tr=[],tick:rr,tickLine:nr,stroke:ir,tickFormatter:sr,unit:or,padding:ar,tickTextProps:lr,orientation:cr,mirror:dr,x:hr,y:ur,width:pr,height:mr,tickSize:fr,tickMargin:gr,fontSize:yr,letterSpacing:vr,getTicksConfig:br,events:Sr,axisType:jr}=er,Cr=getTicks(_objectSpread$5(_objectSpread$5({},br),{},{ticks:tr}),yr,vr),Pr=getTickTextAnchor(cr,dr),Rr=getTickVerticalAnchor(cr,dr),Lr=svgPropertiesNoEvents(br),Ir=svgPropertiesNoEventsFromUnknown(rr),Nr={};typeof nr=="object"&&(Nr=nr);var Ar=_objectSpread$5(_objectSpread$5({},Lr),{},{fill:"none"},Nr),Dr=Cr.map(wr=>_objectSpread$5({entry:wr},getTickLineCoord(wr,hr,ur,pr,mr,cr,fr,dr,gr))),Tr=Dr.map(wr=>{var{entry:Er,line:xr}=wr;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Er.value,"-").concat(Er.coordinate,"-").concat(Er.tickCoord)},nr&&reactExports.createElement("line",_extends$b({},Ar,xr,{className:clsx("recharts-cartesian-axis-tick-line",get$2(nr,"className"))})))}),_r=Dr.map((wr,Er)=>{var{entry:xr,tick:Mr}=wr,zr=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:Pr,verticalAnchor:Rr},Lr),{},{stroke:"none",fill:ir},Ir),Mr),{},{index:Er,payload:xr,visibleTicksCount:Cr.length,tickFormatter:sr,padding:ar},lr);return reactExports.createElement(Layer,_extends$b({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xr.value,"-").concat(xr.coordinate,"-").concat(xr.tickCoord)},adaptEventsOfChild(Sr,xr,Er)),rr&&reactExports.createElement(TickItem,{option:rr,tickProps:zr,value:"".concat(typeof sr=="function"?sr(xr.value,Er):xr.value).concat(or||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(jr,"-ticks")},_r.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(jr,"-tick-labels"),ref:e},_r)),Tr.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(jr,"-tick-lines")},Tr))}),CartesianAxisComponent=reactExports.forwardRef((er,e)=>{var{axisLine:tr,width:rr,height:nr,className:ir,hide:sr,ticks:or,axisType:ar}=er,lr=_objectWithoutProperties$b(er,_excluded$b),[cr,dr]=reactExports.useState(""),[hr,ur]=reactExports.useState(""),pr=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var fr;return getCalculatedYAxisWidth({ticks:pr.current,label:(fr=er.labelRef)===null||fr===void 0?void 0:fr.current,labelGapWithTick:5,tickSize:er.tickSize,tickMargin:er.tickMargin})}}));var mr=reactExports.useCallback(fr=>{if(fr){var gr=fr.getElementsByClassName("recharts-cartesian-axis-tick-value");pr.current=gr;var yr=gr[0];if(yr){var vr=window.getComputedStyle(yr),br=vr.fontSize,Sr=vr.letterSpacing;(br!==cr||Sr!==hr)&&(dr(br),ur(Sr))}}},[cr,hr]);return sr||rr!=null&&rr<=0||nr!=null&&nr<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:er.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",ir)},reactExports.createElement(AxisLine,{x:er.x,y:er.y,width:rr,height:nr,orientation:er.orientation,mirror:er.mirror,axisLine:tr,otherSvgProps:svgPropertiesNoEvents(er)}),reactExports.createElement(Ticks,{ref:mr,axisType:ar,events:lr,fontSize:cr,getTicksConfig:er,height:er.height,letterSpacing:hr,mirror:er.mirror,orientation:er.orientation,padding:er.padding,stroke:er.stroke,tick:er.tick,tickFormatter:er.tickFormatter,tickLine:er.tickLine,tickMargin:er.tickMargin,tickSize:er.tickSize,tickTextProps:er.tickTextProps,ticks:or,unit:er.unit,width:er.width,x:er.x,y:er.y}),reactExports.createElement(CartesianLabelContextProvider,{x:er.x,y:er.y,width:er.width,height:er.height,lowerWidth:er.width,upperWidth:er.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:er.label,labelRef:er.labelRef}),er.children)))}),CartesianAxis=reactExports.forwardRef((er,e)=>{var tr=resolveDefaultProps(er,defaultCartesianAxisProps);return reactExports.createElement(CartesianAxisComponent,_extends$b({},tr,{ref:e}))});CartesianAxis.displayName="CartesianAxis";var _excluded$a=["x1","y1","x2","y2","key"],_excluded2$5=["offset"],_excluded3$2=["xAxisId","yAxisId"],_excluded4$1=["xAxisId","yAxisId"];function ownKeys$4(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$4(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(tr),!0).forEach(function(rr){_defineProperty$4(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$4(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$4(er,e,tr){return(e=_toPropertyKey$4(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$4(er){var e=_toPrimitive$4(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$4(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$a.apply(null,arguments)}function _objectWithoutProperties$a(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$a(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$a(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var Background=er=>{var{fill:e}=er;if(!e||e==="none")return null;var{fillOpacity:tr,x:rr,y:nr,width:ir,height:sr,ry:or}=er;return reactExports.createElement("rect",{x:rr,y:nr,ry:or,width:ir,height:sr,stroke:"none",fill:e,fillOpacity:tr,className:"recharts-cartesian-grid-bg"})};function LineItem(er){var{option:e,lineItemProps:tr}=er,rr;if(reactExports.isValidElement(e))rr=reactExports.cloneElement(e,tr);else if(typeof e=="function")rr=e(tr);else{var nr,{x1:ir,y1:sr,x2:or,y2:ar,key:lr}=tr,cr=_objectWithoutProperties$a(tr,_excluded$a),dr=(nr=svgPropertiesNoEvents(cr))!==null&&nr!==void 0?nr:{},{offset:hr}=dr,ur=_objectWithoutProperties$a(dr,_excluded2$5);rr=reactExports.createElement("line",_extends$a({},ur,{x1:ir,y1:sr,x2:or,y2:ar,fill:"none",key:lr}))}return rr}function HorizontalGridLines(er){var{x:e,width:tr,horizontal:rr=!0,horizontalPoints:nr}=er;if(!rr||!nr||!nr.length)return null;var{xAxisId:ir,yAxisId:sr}=er,or=_objectWithoutProperties$a(er,_excluded3$2),ar=nr.map((lr,cr)=>{var dr=_objectSpread$4(_objectSpread$4({},or),{},{x1:e,y1:lr,x2:e+tr,y2:lr,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{key:"line-".concat(cr),option:rr,lineItemProps:dr})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},ar)}function VerticalGridLines(er){var{y:e,height:tr,vertical:rr=!0,verticalPoints:nr}=er;if(!rr||!nr||!nr.length)return null;var{xAxisId:ir,yAxisId:sr}=er,or=_objectWithoutProperties$a(er,_excluded4$1),ar=nr.map((lr,cr)=>{var dr=_objectSpread$4(_objectSpread$4({},or),{},{x1:lr,y1:e,x2:lr,y2:e+tr,key:"line-".concat(cr),index:cr});return reactExports.createElement(LineItem,{option:rr,lineItemProps:dr,key:"line-".concat(cr)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},ar)}function HorizontalStripes(er){var{horizontalFill:e,fillOpacity:tr,x:rr,y:nr,width:ir,height:sr,horizontalPoints:or,horizontal:ar=!0}=er;if(!ar||!e||!e.length||or==null)return null;var lr=or.map(dr=>Math.round(dr+nr-nr)).sort((dr,hr)=>dr-hr);nr!==lr[0]&&lr.unshift(0);var cr=lr.map((dr,hr)=>{var ur=!lr[hr+1],pr=ur?nr+sr-dr:lr[hr+1]-dr;if(pr<=0)return null;var mr=hr%e.length;return reactExports.createElement("rect",{key:"react-".concat(hr),y:dr,x:rr,height:pr,width:ir,stroke:"none",fill:e[mr],fillOpacity:tr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},cr)}function VerticalStripes(er){var{vertical:e=!0,verticalFill:tr,fillOpacity:rr,x:nr,y:ir,width:sr,height:or,verticalPoints:ar}=er;if(!e||!tr||!tr.length)return null;var lr=ar.map(dr=>Math.round(dr+nr-nr)).sort((dr,hr)=>dr-hr);nr!==lr[0]&&lr.unshift(0);var cr=lr.map((dr,hr)=>{var ur=!lr[hr+1],pr=ur?nr+sr-dr:lr[hr+1]-dr;if(pr<=0)return null;var mr=hr%tr.length;return reactExports.createElement("rect",{key:"react-".concat(hr),x:dr,y:ir,width:pr,height:or,stroke:"none",fill:tr[mr],fillOpacity:rr,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},cr)}var defaultVerticalCoordinatesGenerator=(er,e)=>{var{xAxis:tr,width:rr,height:nr,offset:ir}=er;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},defaultCartesianAxisProps),tr),{},{ticks:getTicksOfAxis(tr),viewBox:{x:0,y:0,width:rr,height:nr}})),ir.left,ir.left+ir.width,e)},defaultHorizontalCoordinatesGenerator=(er,e)=>{var{yAxis:tr,width:rr,height:nr,offset:ir}=er;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},defaultCartesianAxisProps),tr),{},{ticks:getTicksOfAxis(tr),viewBox:{x:0,y:0,width:rr,height:nr}})),ir.top,ir.top+ir.height,e)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(er){var e=useChartWidth(),tr=useChartHeight(),rr=useOffsetInternal(),nr=_objectSpread$4(_objectSpread$4({},resolveDefaultProps(er,defaultCartesianGridProps)),{},{x:isNumber(er.x)?er.x:rr.left,y:isNumber(er.y)?er.y:rr.top,width:isNumber(er.width)?er.width:rr.width,height:isNumber(er.height)?er.height:rr.height}),{xAxisId:ir,yAxisId:sr,x:or,y:ar,width:lr,height:cr,syncWithTicks:dr,horizontalValues:hr,verticalValues:ur}=nr,pr=useIsPanorama(),mr=useAppSelector(Rr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Rr,"xAxis",ir,pr)),fr=useAppSelector(Rr=>selectAxisPropsNeededForCartesianGridTicksGenerator(Rr,"yAxis",sr,pr));if(!isPositiveNumber(lr)||!isPositiveNumber(cr)||!isNumber(or)||!isNumber(ar))return null;var gr=nr.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,yr=nr.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:vr,verticalPoints:br}=nr;if((!vr||!vr.length)&&typeof yr=="function"){var Sr=hr&&hr.length,jr=yr({yAxis:fr?_objectSpread$4(_objectSpread$4({},fr),{},{ticks:Sr?hr:fr.ticks}):void 0,width:e??lr,height:tr??cr,offset:rr},Sr?!0:dr);warn(Array.isArray(jr),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof jr,"]")),Array.isArray(jr)&&(vr=jr)}if((!br||!br.length)&&typeof gr=="function"){var Cr=ur&&ur.length,Pr=gr({xAxis:mr?_objectSpread$4(_objectSpread$4({},mr),{},{ticks:Cr?ur:mr.ticks}):void 0,width:e??lr,height:tr??cr,offset:rr},Cr?!0:dr);warn(Array.isArray(Pr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Pr,"]")),Array.isArray(Pr)&&(br=Pr)}return reactExports.createElement(ZIndexLayer,{zIndex:nr.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:nr.fill,fillOpacity:nr.fillOpacity,x:nr.x,y:nr.y,width:nr.width,height:nr.height,ry:nr.ry}),reactExports.createElement(HorizontalStripes,_extends$a({},nr,{horizontalPoints:vr})),reactExports.createElement(VerticalStripes,_extends$a({},nr,{verticalPoints:br})),reactExports.createElement(HorizontalGridLines,_extends$a({},nr,{offset:rr,horizontalPoints:vr,xAxis:mr,yAxis:fr})),reactExports.createElement(VerticalGridLines,_extends$a({},nr,{offset:rr,verticalPoints:br,xAxis:mr,yAxis:fr}))))}CartesianGrid.displayName="CartesianGrid";var initialState$1={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$1,reducers:{addErrorBar:(er,e)=>{var{itemId:tr,errorBar:rr}=e.payload;er[tr]||(er[tr]=[]),er[tr].push(rr)},replaceErrorBar:(er,e)=>{var{itemId:tr,prev:rr,next:nr}=e.payload;er[tr]&&(er[tr]=er[tr].map(ir=>ir.dataKey===rr.dataKey&&ir.direction===rr.direction?nr:ir))},removeErrorBar:(er,e)=>{var{itemId:tr,errorBar:rr}=e.payload;er[tr]&&(er[tr]=er[tr].filter(nr=>nr.dataKey!==rr.dataKey||nr.direction!==rr.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$9=["children"];function _objectWithoutProperties$9(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$9(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$9(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(er){var{children:e}=er,tr=_objectWithoutProperties$9(er,_excluded$9);return reactExports.createElement(ErrorBarContext.Provider,{value:tr},e)}function useNeedsClip(er,e){var tr,rr,nr=useAppSelector(lr=>selectXAxisSettings(lr,er)),ir=useAppSelector(lr=>selectYAxisSettings(lr,e)),sr=(tr=nr==null?void 0:nr.allowDataOverflow)!==null&&tr!==void 0?tr:implicitXAxis.allowDataOverflow,or=(rr=ir==null?void 0:ir.allowDataOverflow)!==null&&rr!==void 0?rr:implicitYAxis.allowDataOverflow,ar=sr||or;return{needClip:ar,needClipX:sr,needClipY:or}}function GraphicalItemClipPath(er){var{xAxisId:e,yAxisId:tr,clipPathId:rr}=er,nr=usePlotArea(),{needClipX:ir,needClipY:sr,needClip:or}=useNeedsClip(e,tr);if(!or||!nr)return null;var{x:ar,y:lr,width:cr,height:dr}=nr;return reactExports.createElement("clipPath",{id:"clipPath-".concat(rr)},reactExports.createElement("rect",{x:ir?ar:ar-cr/2,y:sr?lr:lr-dr/2,width:ir?cr:cr*2,height:sr?dr:dr*2}))}var selectXAxisWithScale$1=(er,e,tr,rr)=>selectAxisWithScale(er,"xAxis",e,rr),selectXAxisTicks$1=(er,e,tr,rr)=>selectTicksOfGraphicalItem(er,"xAxis",e,rr),selectYAxisWithScale$1=(er,e,tr,rr)=>selectAxisWithScale(er,"yAxis",tr,rr),selectYAxisTicks$1=(er,e,tr,rr)=>selectTicksOfGraphicalItem(er,"yAxis",tr,rr),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(er,e,tr,rr,nr)=>isCategoricalAxis(er,"xAxis")?getBandSizeOfAxis(e,rr,!1):getBandSizeOfAxis(tr,nr,!1)),pickLineId=(er,e,tr,rr,nr)=>nr;function isLineSettings(er){return er.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(er,e)=>er.filter(isLineSettings).find(tr=>tr.id===e)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanoramaPosition4],(er,e,tr,rr,nr,ir,sr,or)=>{var{chartData:ar,dataStartIndex:lr,dataEndIndex:cr}=or;if(!(ir==null||e==null||tr==null||rr==null||nr==null||rr.length===0||nr.length===0||sr==null||er!=="horizontal"&&er!=="vertical")){var{dataKey:dr,data:hr}=ir,ur;if(hr!=null&&hr.length>0?ur=hr:ur=ar==null?void 0:ar.slice(lr,cr+1),ur!=null)return computeLinePoints({layout:er,xAxis:e,yAxis:tr,xAxisTicks:rr,yAxisTicks:nr,dataKey:dr,bandSize:sr,displayedData:ur})}});function getRadiusAndStrokeWidthFromDot(er){var e=svgPropertiesNoEventsFromUnknown(er),tr=3,rr=2;if(e!=null){var{r:nr,strokeWidth:ir}=e,sr=Number(nr),or=Number(ir);return(Number.isNaN(sr)||sr<0)&&(sr=tr),(Number.isNaN(or)||or<0)&&(or=rr),{r:sr,strokeWidth:or}}return{r:tr,strokeWidth:rr}}var useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(er,e){return er===e&&(er!==0||1/er===1/e)||er!==er&&e!==e}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(er,e,tr,rr,nr){var ir=useRef(null);if(ir.current===null){var sr={hasValue:!1,value:null};ir.current=sr}else sr=ir.current;ir=useMemo(function(){function ar(ur){if(!lr){if(lr=!0,cr=ur,ur=rr(ur),nr!==void 0&&sr.hasValue){var pr=sr.value;if(nr(pr,ur))return dr=pr}return dr=ur}if(pr=dr,objectIs(cr,ur))return pr;var mr=rr(ur);return nr!==void 0&&nr(pr,mr)?(cr=ur,pr):(cr=ur,dr=mr)}var lr=!1,cr,dr,hr=tr===void 0?null:tr;return[function(){return ar(e())},hr===null?void 0:function(){return ar(hr())}]},[e,tr,rr,nr]);var or=useSyncExternalStore(er,ir[0],ir[1]);return useEffect(function(){sr.hasValue=!0,sr.value=or},[or]),useDebugValue(or),or};function defaultNoopBatch(er){er()}function createListenerCollection(){let er=null,e=null;return{clear(){er=null,e=null},notify(){defaultNoopBatch(()=>{let tr=er;for(;tr;)tr.callback(),tr=tr.next})},get(){const tr=[];let rr=er;for(;rr;)tr.push(rr),rr=rr.next;return tr},subscribe(tr){let rr=!0;const nr=e={callback:tr,next:null,prev:e};return nr.prev?nr.prev.next=nr:er=nr,function(){!rr||er===null||(rr=!1,nr.next?nr.next.prev=nr.prev:e=nr.prev,nr.prev?nr.prev.next=nr.next:er=nr.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(er,e){let tr,rr=nullListeners,nr=0,ir=!1;function sr(mr){cr();const fr=rr.subscribe(mr);let gr=!1;return()=>{gr||(gr=!0,fr(),dr())}}function or(){rr.notify()}function ar(){pr.onStateChange&&pr.onStateChange()}function lr(){return ir}function cr(){nr++,tr||(tr=er.subscribe(ar),rr=createListenerCollection())}function dr(){nr--,tr&&nr===0&&(tr(),tr=void 0,rr.clear(),rr=nullListeners)}function hr(){ir||(ir=!0,cr())}function ur(){ir&&(ir=!1,dr())}const pr={addNestedSub:sr,notifyNestedSubs:or,handleChangeWrapper:ar,isSubscribed:lr,trySubscribe:hr,tryUnsubscribe:ur,getListeners:()=>rr};return pr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect();function is(er,e){return er===e?er!==0||e!==0||1/er===1/e:er!==er&&e!==e}function shallowEqual(er,e){if(is(er,e))return!0;if(typeof er!="object"||er===null||typeof e!="object"||e===null)return!1;const tr=Object.keys(er),rr=Object.keys(e);if(tr.length!==rr.length)return!1;for(let nr=0;nr<tr.length;nr++)if(!Object.prototype.hasOwnProperty.call(e,tr[nr])||!is(er[tr[nr]],e[tr[nr]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const er=gT[ContextKey]??(gT[ContextKey]=new Map);let e=er.get(reactExports.createContext);return e||(e=reactExports.createContext(null),er.set(reactExports.createContext,e)),e}var ReactReduxContext=getContext();function Provider(er){const{children:e,context:tr,serverState:rr,store:nr}=er,ir=reactExports.useMemo(()=>{const ar=createSubscription(nr);return{store:nr,subscription:ar,getServerState:rr?()=>rr:void 0}},[nr,rr]),sr=reactExports.useMemo(()=>nr.getState(),[nr]);useIsomorphicLayoutEffect(()=>{const{subscription:ar}=ir;return ar.onStateChange=ar.notifyNestedSubs,ar.trySubscribe(),sr!==nr.getState()&&ar.notifyNestedSubs(),()=>{ar.tryUnsubscribe(),ar.onStateChange=void 0}},[ir,sr]);const or=tr||ReactReduxContext;return reactExports.createElement(or.Provider,{value:ir},e)}var Provider_default=Provider,propsToShallowCompare=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sameValueZero(er,e){return er==null&&e==null?!0:typeof er=="number"&&typeof e=="number"?er===e||er!==er&&e!==e:er===e}function propsAreEqual(er,e){var tr=new Set([...Object.keys(er),...Object.keys(e)]);for(var rr of tr)if(propsToShallowCompare.has(rr)){if(er[rr]==null&&e[rr]==null)continue;if(!shallowEqual(er[rr],e[rr]))return!1}else if(!sameValueZero(er[rr],e[rr]))return!1;return!0}var _excluded$8=["id"],_excluded2$4=["type","layout","connectNulls","needClip","shape"],_excluded3$1=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$9.apply(null,arguments)}function ownKeys$3(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$3(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(tr),!0).forEach(function(rr){_defineProperty$3(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$3(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$3(er,e,tr){return(e=_toPropertyKey$3(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$3(er){var e=_toPrimitive$3(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$3(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$8(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$8(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$8(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var computeLegendPayloadFromAreaData=er=>{var{dataKey:e,name:tr,stroke:rr,legendType:nr,hide:ir}=er;return[{inactive:ir,dataKey:e,type:nr,color:rr,value:getTooltipNameProp(tr,e),payload:er}]},SetLineTooltipEntrySettings=reactExports.memo(er=>{var{dataKey:e,data:tr,stroke:rr,strokeWidth:nr,fill:ir,name:sr,hide:or,unit:ar,tooltipType:lr,id:cr}=er,dr={dataDefinedOnItem:tr,positions:void 0,settings:{stroke:rr,strokeWidth:nr,fill:ir,dataKey:e,nameKey:void 0,name:getTooltipNameProp(sr,e),hide:or,type:lr,color:rr,unit:ar,graphicalItemId:cr}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:dr})}),generateSimpleStrokeDasharray=(er,e)=>"".concat(e,"px ").concat(er-e,"px");function repeat(er,e){for(var tr=er.length%2!==0?[...er,0]:er,rr=[],nr=0;nr<e;++nr)rr=[...rr,...tr];return rr}var getStrokeDasharray=(er,e,tr)=>{var rr=tr.reduce((dr,hr)=>dr+hr);if(!rr)return generateSimpleStrokeDasharray(e,er);for(var nr=Math.floor(er/rr),ir=er%rr,sr=e-er,or=[],ar=0,lr=0;ar<tr.length;lr+=tr[ar],++ar)if(lr+tr[ar]>ir){or=[...tr.slice(0,ar),ir-lr];break}var cr=or.length%2===0?[0,sr]:[sr];return[...repeat(tr,nr),...or,...cr].map(dr=>"".concat(dr,"px")).join(", ")};function LineDotsWrapper(er){var{clipPathId:e,points:tr,props:rr}=er,{dot:nr,dataKey:ir,needClip:sr}=rr,{id:or}=rr,ar=_objectWithoutProperties$8(rr,_excluded$8),lr=svgPropertiesNoEvents(ar);return reactExports.createElement(Dots,{points:tr,dot:nr,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:ir,baseProps:lr,needClip:sr,clipPathId:e})}function LineLabelListProvider(er){var{showLabels:e,children:tr,points:rr}=er,nr=reactExports.useMemo(()=>rr==null?void 0:rr.map(ir=>{var sr,or,ar={x:(sr=ir.x)!==null&&sr!==void 0?sr:0,y:(or=ir.y)!==null&&or!==void 0?or:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$3(_objectSpread$3({},ar),{},{value:ir.value,payload:ir.payload,viewBox:ar,parentViewBox:void 0,fill:void 0})}),[rr]);return reactExports.createElement(CartesianLabelListContextProvider,{value:e?nr:void 0},tr)}function StaticCurve(er){var{clipPathId:e,pathRef:tr,points:rr,strokeDasharray:nr,props:ir}=er,{type:sr,layout:or,connectNulls:ar,needClip:lr,shape:cr}=ir,dr=_objectWithoutProperties$8(ir,_excluded2$4),hr=_objectSpread$3(_objectSpread$3({},svgPropertiesAndEvents(dr)),{},{fill:"none",className:"recharts-line-curve",clipPath:lr?"url(#clipPath-".concat(e,")"):void 0,points:rr,type:sr,layout:or,connectNulls:ar,strokeDasharray:nr??ir.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,(rr==null?void 0:rr.length)>1&&reactExports.createElement(Shape,_extends$9({shapeType:"curve",option:cr},hr,{pathRef:tr})),reactExports.createElement(LineDotsWrapper,{points:rr,clipPathId:e,props:ir}))}function getTotalLength(er){try{return er&&er.getTotalLength&&er.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(er){var{clipPathId:e,props:tr,pathRef:rr,previousPointsRef:nr,longestAnimatedLengthRef:ir}=er,{points:sr,strokeDasharray:or,isAnimationActive:ar,animationBegin:lr,animationDuration:cr,animationEasing:dr,animateNewValues:hr,width:ur,height:pr,onAnimationEnd:mr,onAnimationStart:fr}=tr,gr=nr.current,yr=useAnimationId(sr,"recharts-line-"),vr=reactExports.useRef(yr),[br,Sr]=reactExports.useState(!1),jr=!br,Cr=reactExports.useCallback(()=>{typeof mr=="function"&&mr(),Sr(!1)},[mr]),Pr=reactExports.useCallback(()=>{typeof fr=="function"&&fr(),Sr(!0)},[fr]),Rr=getTotalLength(rr.current),Lr=reactExports.useRef(0);vr.current!==yr&&(Lr.current=ir.current,vr.current=yr);var Ir=Lr.current;return reactExports.createElement(LineLabelListProvider,{points:sr,showLabels:jr},tr.children,reactExports.createElement(JavascriptAnimate,{animationId:yr,begin:lr,duration:cr,isActive:ar,easing:dr,onAnimationEnd:Cr,onAnimationStart:Pr,key:yr},Nr=>{var Ar=interpolate$1(Ir,Rr+Ir,Nr),Dr=Math.min(Ar,Rr),Tr;if(ar)if(or){var _r="".concat(or).split(/[,\s]+/gim).map(xr=>parseFloat(xr));Tr=getStrokeDasharray(Dr,Rr,_r)}else Tr=generateSimpleStrokeDasharray(Rr,Dr);else Tr=or==null?void 0:String(or);if(Nr>0&&Rr>0&&(nr.current=sr,ir.current=Math.max(ir.current,Dr)),gr){var wr=gr.length/sr.length,Er=Nr===1?sr:sr.map((xr,Mr)=>{var zr=Math.floor(Mr*wr);if(gr[zr]){var Or=gr[zr];return _objectSpread$3(_objectSpread$3({},xr),{},{x:interpolate$1(Or.x,xr.x,Nr),y:interpolate$1(Or.y,xr.y,Nr)})}return hr?_objectSpread$3(_objectSpread$3({},xr),{},{x:interpolate$1(ur*2,xr.x,Nr),y:interpolate$1(pr/2,xr.y,Nr)}):_objectSpread$3(_objectSpread$3({},xr),{},{x:xr.x,y:xr.y})});return nr.current=Er,reactExports.createElement(StaticCurve,{props:tr,points:Er,clipPathId:e,pathRef:rr,strokeDasharray:Tr})}return reactExports.createElement(StaticCurve,{props:tr,points:sr,clipPathId:e,pathRef:rr,strokeDasharray:Tr})}),reactExports.createElement(LabelListFromLabelProp,{label:tr.label}))}function RenderCurve(er){var{clipPathId:e,props:tr}=er,rr=reactExports.useRef(null),nr=reactExports.useRef(0),ir=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:tr,clipPathId:e,previousPointsRef:rr,longestAnimatedLengthRef:nr,pathRef:ir})}var errorBarDataPointFormatter$1=(er,e)=>{var tr,rr;return{x:(tr=er.x)!==null&&tr!==void 0?tr:void 0,y:(rr=er.y)!==null&&rr!==void 0?rr:void 0,value:er.value,errorVal:getValueByDataKey(er.payload,e)}};class LineWithState extends reactExports.Component{render(){var{hide:e,dot:tr,points:rr,className:nr,xAxisId:ir,yAxisId:sr,top:or,left:ar,width:lr,height:cr,id:dr,needClip:hr,zIndex:ur}=this.props;if(e)return null;var pr=clsx("recharts-line",nr),mr=dr,{r:fr,strokeWidth:gr}=getRadiusAndStrokeWidthFromDot(tr),yr=isClipDot(tr),vr=fr*2+gr,br=hr?"url(#clipPath-".concat(yr?"":"dots-").concat(mr,")"):void 0;return reactExports.createElement(ZIndexLayer,{zIndex:ur},reactExports.createElement(Layer,{className:pr},hr&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:mr,xAxisId:ir,yAxisId:sr}),!yr&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(mr)},reactExports.createElement("rect",{x:ar-vr/2,y:or-vr/2,width:lr+vr,height:cr+vr}))),reactExports.createElement(SetErrorBarContext,{xAxisId:ir,yAxisId:sr,data:rr,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:mr}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:rr,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:br}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.line,type:"linear"};function LineImpl(er){var e=resolveDefaultProps(er,defaultLineProps),{activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:ir,animationEasing:sr,connectNulls:or,dot:ar,hide:lr,isAnimationActive:cr,label:dr,legendType:hr,xAxisId:ur,yAxisId:pr,id:mr}=e,fr=_objectWithoutProperties$8(e,_excluded3$1),{needClip:gr}=useNeedsClip(ur,pr),yr=usePlotArea(),vr=useChartLayout(),br=useIsPanorama(),Sr=useAppSelector(Lr=>selectLinePoints(Lr,ur,pr,br,mr));if(vr!=="horizontal"&&vr!=="vertical"||Sr==null||yr==null)return null;var{height:jr,width:Cr,x:Pr,y:Rr}=yr;return reactExports.createElement(LineWithState,_extends$9({},fr,{id:mr,connectNulls:or,dot:ar,activeDot:tr,animateNewValues:rr,animationBegin:nr,animationDuration:ir,animationEasing:sr,isAnimationActive:cr,hide:lr,label:dr,legendType:hr,xAxisId:ur,yAxisId:pr,points:Sr,layout:vr,height:jr,width:Cr,left:Pr,top:Rr,needClip:gr}))}function computeLinePoints(er){var{layout:e,xAxis:tr,yAxis:rr,xAxisTicks:nr,yAxisTicks:ir,dataKey:sr,bandSize:or,displayedData:ar}=er;return ar.map((lr,cr)=>{var dr=getValueByDataKey(lr,sr);if(e==="horizontal"){var hr=getCateCoordinateOfLine({axis:tr,ticks:nr,bandSize:or,entry:lr,index:cr}),ur=isNullish(dr)?null:rr.scale(dr);return{x:hr,y:ur,value:dr,payload:lr}}var pr=isNullish(dr)?null:tr.scale(dr),mr=getCateCoordinateOfLine({axis:rr,ticks:ir,bandSize:or,entry:lr,index:cr});return pr==null||mr==null?null:{x:pr,y:mr,value:dr,payload:lr}}).filter(Boolean)}function LineFn(er){var e=resolveDefaultProps(er,defaultLineProps),tr=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"line"},rr=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(e)}),reactExports.createElement(SetLineTooltipEntrySettings,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:rr}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:rr,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:tr}),reactExports.createElement(LineImpl,_extends$9({},e,{id:rr}))))}var Line=reactExports.memo(LineFn,propsAreEqual);Line.displayName="Line";function selectXAxisIdFromGraphicalItemId(er,e){var tr,rr;return(tr=(rr=er.graphicalItems.cartesianItems.find(nr=>nr.id===e))===null||rr===void 0?void 0:rr.xAxisId)!==null&&tr!==void 0?tr:defaultAxisId}function selectYAxisIdFromGraphicalItemId(er,e){var tr,rr;return(tr=(rr=er.graphicalItems.cartesianItems.find(nr=>nr.id===e))===null||rr===void 0?void 0:rr.yAxisId)!==null&&tr!==void 0?tr:defaultAxisId}var prefix="Invariant failed";function invariant(er,e){throw new Error(prefix)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$8.apply(null,arguments)}function BarRectangle(er){return reactExports.createElement(Shape,_extends$8({shapeType:"rectangle",activeClassName:"recharts-active-bar"},er))}var minPointSizeCallback=function er(e){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(rr,nr)=>{if(isNumber(e))return e;var ir=isNumber(rr)||isNullish(rr);return ir?e(rr,nr):(ir||invariant(),tr)}},pickIsPanorama=(er,e,tr)=>tr,pickBarId=(er,e)=>e,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(er,e)=>er.filter(tr=>tr.type==="bar").find(tr=>tr.id===e)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],er=>er==null?void 0:er.maxBarSize),pickCells=(er,e,tr,rr)=>rr,selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,selectXAxisIdFromGraphicalItemId,selectYAxisIdFromGraphicalItemId,pickIsPanorama],(er,e,tr,rr,nr)=>e.filter(ir=>er==="horizontal"?ir.xAxisId===tr:ir.yAxisId===rr).filter(ir=>ir.isPanorama===nr).filter(ir=>ir.hide===!1).filter(ir=>ir.type==="bar")),selectBarStackGroups=(er,e,tr)=>{var rr=selectChartLayout(er),nr=selectXAxisIdFromGraphicalItemId(er,e),ir=selectYAxisIdFromGraphicalItemId(er,e);if(!(nr==null||ir==null))return rr==="horizontal"?selectStackGroups(er,"yAxis",ir,tr):selectStackGroups(er,"xAxis",nr,tr)},selectBarCartesianAxisSize=(er,e)=>{var tr=selectChartLayout(er),rr=selectXAxisIdFromGraphicalItemId(er,e),nr=selectYAxisIdFromGraphicalItemId(er,e);if(!(rr==null||nr==null))return tr==="horizontal"?selectCartesianAxisSize(er,"xAxis",rr):selectCartesianAxisSize(er,"yAxis",nr)},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(er,e,tr)=>{var rr,nr,ir=selectSynchronisedBarSettings(er,e);if(ir!=null){var sr=selectXAxisIdFromGraphicalItemId(er,e),or=selectYAxisIdFromGraphicalItemId(er,e);if(!(sr==null||or==null)){var ar=selectChartLayout(er),lr=selectRootMaxBarSize(er),{maxBarSize:cr}=ir,dr=isNullish(cr)?lr:cr,hr,ur;return ar==="horizontal"?(hr=selectAxisWithScale(er,"xAxis",sr,tr),ur=selectTicksOfGraphicalItem(er,"xAxis",sr,tr)):(hr=selectAxisWithScale(er,"yAxis",or,tr),ur=selectTicksOfGraphicalItem(er,"yAxis",or,tr)),(rr=(nr=getBandSizeOfAxis(hr,ur,!0))!==null&&nr!==void 0?nr:dr)!==null&&rr!==void 0?rr:0}}},selectAxisBandSize=(er,e,tr)=>{var rr=selectChartLayout(er),nr=selectXAxisIdFromGraphicalItemId(er,e),ir=selectYAxisIdFromGraphicalItemId(er,e);if(!(nr==null||ir==null)){var sr,or;return rr==="horizontal"?(sr=selectAxisWithScale(er,"xAxis",nr,tr),or=selectTicksOfGraphicalItem(er,"xAxis",nr,tr)):(sr=selectAxisWithScale(er,"yAxis",ir,tr),or=selectTicksOfGraphicalItem(er,"yAxis",ir,tr)),getBandSizeOfAxis(sr,or)}},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale=(er,e,tr)=>{var rr=selectXAxisIdFromGraphicalItemId(er,e);if(rr!=null)return selectAxisWithScale(er,"xAxis",rr,tr)},selectYAxisWithScale=(er,e,tr)=>{var rr=selectYAxisIdFromGraphicalItemId(er,e);if(rr!=null)return selectAxisWithScale(er,"yAxis",rr,tr)},selectXAxisTicks=(er,e,tr)=>{var rr=selectXAxisIdFromGraphicalItemId(er,e);if(rr!=null)return selectTicksOfGraphicalItem(er,"xAxis",rr,tr)},selectYAxisTicks=(er,e,tr)=>{var rr=selectYAxisIdFromGraphicalItemId(er,e);if(rr!=null)return selectTicksOfGraphicalItem(er,"yAxis",rr,tr)},selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(er,e)=>{if(!(er==null||e==null)){var tr=er.find(rr=>rr.stackId===e.stackId&&e.dataKey!=null&&rr.dataKeys.includes(e.dataKey));if(tr!=null)return tr.position}}),selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanoramaPosition3,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(er,e,tr,rr,nr,ir,sr,or,ar,lr,cr,dr,hr)=>{var{chartData:ur,dataStartIndex:pr,dataEndIndex:mr}=ar;if(!(dr==null||sr==null||e==null||or!=="horizontal"&&or!=="vertical"||tr==null||rr==null||nr==null||ir==null||lr==null)){var{data:fr}=dr,gr;if(fr!=null&&fr.length>0?gr=fr:gr=ur==null?void 0:ur.slice(pr,mr+1),gr!=null)return computeBarRectangles({layout:or,barSettings:dr,pos:sr,parentViewBox:e,bandSize:lr,xAxis:tr,yAxis:rr,xAxisTicks:nr,yAxisTicks:ir,stackedData:cr,displayedData:gr,offset:er,cells:hr,dataStartIndex:pr})}}),_excluded$7=["index"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$7.apply(null,arguments)}function _objectWithoutProperties$7(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$7(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$7(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var BarStackContext=reactExports.createContext(void 0),useStackId=er=>{var e=reactExports.useContext(BarStackContext);if(e!=null)return e.stackId;if(er!=null)return getNormalizedStackId(er)},getClipPathId=(er,e)=>"recharts-bar-stack-clip-path-".concat(er,"-").concat(e),useBarStackClipPathUrl=er=>{var e=reactExports.useContext(BarStackContext);if(e!=null){var{stackId:tr}=e;return"url(#".concat(getClipPathId(tr,er),")")}},BarStackClipLayer=er=>{var{index:e}=er,tr=_objectWithoutProperties$7(er,_excluded$7),rr=useBarStackClipPathUrl(e);return reactExports.createElement(Layer,_extends$7({className:"recharts-bar-stack-layer",clipPath:rr},tr))},_excluded$6=["onMouseEnter","onMouseLeave","onClick"],_excluded2$3=["value","background","tooltipPosition"],_excluded3=["id"],_excluded4=["onMouseEnter","onClick","onMouseLeave"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$6.apply(null,arguments)}function ownKeys$2(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$2(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(tr),!0).forEach(function(rr){_defineProperty$2(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$2(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$2(er,e,tr){return(e=_toPropertyKey$2(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$2(er){var e=_toPrimitive$2(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$2(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _objectWithoutProperties$6(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$6(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$6(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var computeLegendPayloadFromBarData=er=>{var{dataKey:e,name:tr,fill:rr,legendType:nr,hide:ir}=er;return[{inactive:ir,dataKey:e,type:nr,color:rr,value:getTooltipNameProp(tr,e),payload:er}]},SetBarTooltipEntrySettings=reactExports.memo(er=>{var{dataKey:e,stroke:tr,strokeWidth:rr,fill:nr,name:ir,hide:sr,unit:or,tooltipType:ar,id:lr}=er,cr={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:tr,strokeWidth:rr,fill:nr,dataKey:e,nameKey:void 0,name:getTooltipNameProp(ir,e),hide:sr,type:ar,color:nr,unit:or,graphicalItemId:lr}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:cr})});function BarBackground(er){var e=useAppSelector(selectActiveTooltipIndex),{data:tr,dataKey:rr,background:nr,allOtherBarProps:ir}=er,{onMouseEnter:sr,onMouseLeave:or,onClick:ar}=ir,lr=_objectWithoutProperties$6(ir,_excluded$6),cr=useMouseEnterItemDispatch(sr,rr,ir.id),dr=useMouseLeaveItemDispatch(or),hr=useMouseClickItemDispatch(ar,rr,ir.id);if(!nr||tr==null)return null;var ur=svgPropertiesNoEventsFromUnknown(nr);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(nr,DefaultZIndexes.barBackground)},tr.map((pr,mr)=>{var{value:fr,background:gr,tooltipPosition:yr}=pr,vr=_objectWithoutProperties$6(pr,_excluded2$3);if(!gr)return null;var br=cr(pr,mr),Sr=dr(pr,mr),jr=hr(pr,mr),Cr=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({option:nr,isActive:String(mr)===e},vr),{},{fill:"#eee"},gr),ur),adaptEventsOfChild(lr,pr,mr)),{},{onMouseEnter:br,onMouseLeave:Sr,onClick:jr,dataKey:rr,index:mr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$6({key:"background-bar-".concat(mr)},Cr))}))}function BarLabelListProvider(er){var{showLabels:e,children:tr,rects:rr}=er,nr=rr==null?void 0:rr.map(ir=>{var sr={x:ir.x,y:ir.y,width:ir.width,lowerWidth:ir.width,upperWidth:ir.width,height:ir.height};return _objectSpread$2(_objectSpread$2({},sr),{},{value:ir.value,payload:ir.payload,parentViewBox:ir.parentViewBox,viewBox:sr,fill:ir.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:e?nr:void 0},tr)}function BarRectangleWithActiveState(er){var{shape:e,activeBar:tr,baseProps:rr,entry:nr,index:ir,dataKey:sr}=er,or=useAppSelector(selectActiveTooltipIndex),ar=useAppSelector(selectActiveTooltipDataKey),lr=tr&&String(ir)===or&&(ar==null||sr===ar),cr=lr?tr:e;return lr?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarRectangle,_extends$6({},rr,{name:String(rr.name)},nr,{isActive:lr,option:cr,index:ir,dataKey:sr}))):reactExports.createElement(BarRectangle,_extends$6({},rr,{name:String(rr.name)},nr,{isActive:lr,option:cr,index:ir,dataKey:sr}))}function BarRectangleNeverActive(er){var{shape:e,baseProps:tr,entry:rr,index:nr,dataKey:ir}=er;return reactExports.createElement(BarRectangle,_extends$6({},tr,{name:String(tr.name)},rr,{isActive:!1,option:e,index:nr,dataKey:ir}))}function BarRectangles(er){var e,{data:tr,props:rr}=er,nr=(e=svgPropertiesNoEvents(rr))!==null&&e!==void 0?e:{},{id:ir}=nr,sr=_objectWithoutProperties$6(nr,_excluded3),{shape:or,dataKey:ar,activeBar:lr}=rr,{onMouseEnter:cr,onClick:dr,onMouseLeave:hr}=rr,ur=_objectWithoutProperties$6(rr,_excluded4),pr=useMouseEnterItemDispatch(cr,ar,ir),mr=useMouseLeaveItemDispatch(hr),fr=useMouseClickItemDispatch(dr,ar,ir);return tr?reactExports.createElement(reactExports.Fragment,null,tr.map((gr,yr)=>reactExports.createElement(BarStackClipLayer,_extends$6({index:yr,key:"rectangle-".concat(gr==null?void 0:gr.x,"-").concat(gr==null?void 0:gr.y,"-").concat(gr==null?void 0:gr.value,"-").concat(yr),className:"recharts-bar-rectangle"},adaptEventsOfChild(ur,gr,yr),{onMouseEnter:pr(gr,yr),onMouseLeave:mr(gr,yr),onClick:fr(gr,yr)}),lr?reactExports.createElement(BarRectangleWithActiveState,{shape:or,activeBar:lr,baseProps:sr,entry:gr,index:yr,dataKey:ar}):reactExports.createElement(BarRectangleNeverActive,{shape:or,baseProps:sr,entry:gr,index:yr,dataKey:ar})))):null}function RectanglesWithAnimation(er){var{props:e,previousRectanglesRef:tr}=er,{data:rr,layout:nr,isAnimationActive:ir,animationBegin:sr,animationDuration:or,animationEasing:ar,onAnimationEnd:lr,onAnimationStart:cr}=e,dr=tr.current,hr=useAnimationId(e,"recharts-bar-"),[ur,pr]=reactExports.useState(!1),mr=!ur,fr=reactExports.useCallback(()=>{typeof lr=="function"&&lr(),pr(!1)},[lr]),gr=reactExports.useCallback(()=>{typeof cr=="function"&&cr(),pr(!0)},[cr]);return reactExports.createElement(BarLabelListProvider,{showLabels:mr,rects:rr},reactExports.createElement(JavascriptAnimate,{animationId:hr,begin:sr,duration:or,isActive:ir,easing:ar,onAnimationEnd:fr,onAnimationStart:gr,key:hr},yr=>{var vr=yr===1?rr:rr==null?void 0:rr.map((br,Sr)=>{var jr=dr&&dr[Sr];if(jr)return _objectSpread$2(_objectSpread$2({},br),{},{x:interpolate$1(jr.x,br.x,yr),y:interpolate$1(jr.y,br.y,yr),width:interpolate$1(jr.width,br.width,yr),height:interpolate$1(jr.height,br.height,yr)});if(nr==="horizontal"){var Cr=interpolate$1(0,br.height,yr),Pr=interpolate$1(br.stackedBarStart,br.y,yr);return _objectSpread$2(_objectSpread$2({},br),{},{y:Pr,height:Cr})}var Rr=interpolate$1(0,br.width,yr),Lr=interpolate$1(br.stackedBarStart,br.x,yr);return _objectSpread$2(_objectSpread$2({},br),{},{width:Rr,x:Lr})});return yr>0&&(tr.current=vr??null),vr==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:e,data:vr}))}),reactExports.createElement(LabelListFromLabelProp,{label:e.label}),e.children)}function RenderRectangles(er){var e=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:e,props:er})}var defaultMinPointSize=0,errorBarDataPointFormatter=(er,e)=>{var tr=Array.isArray(er.value)?er.value[1]:er.value;return{x:er.x,y:er.y,value:tr,errorVal:getValueByDataKey(er,e)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:e,data:tr,dataKey:rr,className:nr,xAxisId:ir,yAxisId:sr,needClip:or,background:ar,id:lr}=this.props;if(e||tr==null)return null;var cr=clsx("recharts-bar",nr),dr=lr;return reactExports.createElement(Layer,{className:cr,id:lr},or&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:dr,xAxisId:ir,yAxisId:sr})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:or?"url(#clipPath-".concat(dr,")"):void 0},reactExports.createElement(BarBackground,{data:tr,dataKey:rr,background:ar,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(er){var{xAxisId:e,yAxisId:tr,hide:rr,legendType:nr,minPointSize:ir,activeBar:sr,animationBegin:or,animationDuration:ar,animationEasing:lr,isAnimationActive:cr}=er,{needClip:dr}=useNeedsClip(e,tr),hr=useChartLayout(),ur=useIsPanorama(),pr=findAllByType(er.children,Cell),mr=useAppSelector(yr=>selectBarRectangles(yr,er.id,ur,pr));if(hr!=="vertical"&&hr!=="horizontal")return null;var fr,gr=mr==null?void 0:mr[0];return gr==null||gr.height==null||gr.width==null?fr=0:fr=hr==="vertical"?gr.height/2:gr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:e,yAxisId:tr,data:mr,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:fr},reactExports.createElement(BarWithState,_extends$6({},er,{layout:hr,needClip:dr,data:mr,xAxisId:e,yAxisId:tr,hide:rr,legendType:nr,minPointSize:ir,activeBar:sr,animationBegin:or,animationDuration:ar,animationEasing:lr,isAnimationActive:cr})))}function computeBarRectangles(er){var{layout:e,barSettings:{dataKey:tr,minPointSize:rr},pos:nr,bandSize:ir,xAxis:sr,yAxis:or,xAxisTicks:ar,yAxisTicks:lr,stackedData:cr,displayedData:dr,offset:hr,cells:ur,parentViewBox:pr,dataStartIndex:mr}=er,fr=e==="horizontal"?or:sr,gr=cr?fr.scale.domain():null,yr=getBaseValueOfBar({numericAxis:fr}),vr=fr.scale(yr);return dr.map((br,Sr)=>{var jr,Cr,Pr,Rr,Lr,Ir;if(cr){var Nr=cr[Sr+mr];if(Nr==null)return null;jr=truncateByDomain(Nr,gr)}else jr=getValueByDataKey(br,tr),Array.isArray(jr)||(jr=[yr,jr]);var Ar=minPointSizeCallback(rr,defaultMinPointSize)(jr[1],Sr);if(e==="horizontal"){var Dr,[Tr,_r]=[or.scale(jr[0]),or.scale(jr[1])];Cr=getCateCoordinateOfBar({axis:sr,ticks:ar,bandSize:ir,offset:nr.offset,entry:br,index:Sr}),Pr=(Dr=_r??Tr)!==null&&Dr!==void 0?Dr:void 0,Rr=nr.size;var wr=Tr-_r;if(Lr=isNan(wr)?0:wr,Ir={x:Cr,y:hr.top,width:Rr,height:hr.height},Math.abs(Ar)>0&&Math.abs(Lr)<Math.abs(Ar)){var Er=mathSign(Lr||Ar)*(Math.abs(Ar)-Math.abs(Lr));Pr-=Er,Lr+=Er}}else{var[xr,Mr]=[sr.scale(jr[0]),sr.scale(jr[1])];if(Cr=xr,Pr=getCateCoordinateOfBar({axis:or,ticks:lr,bandSize:ir,offset:nr.offset,entry:br,index:Sr}),Rr=Mr-xr,Lr=nr.size,Ir={x:hr.left,y:Pr,width:hr.width,height:Lr},Math.abs(Ar)>0&&Math.abs(Rr)<Math.abs(Ar)){var zr=mathSign(Rr||Ar)*(Math.abs(Ar)-Math.abs(Rr));Rr+=zr}}if(Cr==null||Pr==null||Rr==null||Lr==null)return null;var Or=_objectSpread$2(_objectSpread$2({},br),{},{stackedBarStart:vr,x:Cr,y:Pr,width:Rr,height:Lr,value:cr?jr:jr[1],payload:br,background:Ir,tooltipPosition:{x:Cr+Rr/2,y:Pr+Lr/2},parentViewBox:pr},ur&&ur[Sr]&&ur[Sr].props);return Or}).filter(Boolean)}function BarFn(er){var e=resolveDefaultProps(er,defaultBarProps),tr=useStackId(e.stackId),rr=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:e.id,type:"bar"},nr=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(e)}),reactExports.createElement(SetBarTooltipEntrySettings,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:nr}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:nr,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:tr,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:rr}),reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(BarImpl,_extends$6({},e,{id:nr})))))}var Bar=reactExports.memo(BarFn,propsAreEqual);Bar.displayName="Bar";var _excluded$5=["domain","range"],_excluded2$2=["domain","range"];function _objectWithoutProperties$5(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$5(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$5(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function shortArraysAreEqual(er,e){return er===e?!0:Array.isArray(er)&&er.length===2&&Array.isArray(e)&&e.length===2?er[0]===e[0]&&er[1]===e[1]:!1}function axisPropsAreEqual(er,e){if(er===e)return!0;var{domain:tr,range:rr}=er,nr=_objectWithoutProperties$5(er,_excluded$5),{domain:ir,range:sr}=e,or=_objectWithoutProperties$5(e,_excluded2$2);return!shortArraysAreEqual(tr,ir)||!shortArraysAreEqual(rr,sr)?!1:propsAreEqual(nr,or)}var _excluded$4=["dangerouslySetInnerHTML","ticks","scale"],_excluded2$1=["id","scale"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$5.apply(null,arguments)}function _objectWithoutProperties$4(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$4(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$4(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function SetXAxisSettings(er){var e=useAppDispatch(),tr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{tr.current===null?e(addXAxis(er)):tr.current!==er&&e(replaceXAxis({prev:tr.current,next:er})),tr.current=er},[er,e]),reactExports.useLayoutEffect(()=>()=>{tr.current&&(e(removeXAxis(tr.current)),tr.current=null)},[e]),null}var XAxisImpl=er=>{var{xAxisId:e,className:tr}=er,rr=useAppSelector(selectAxisViewBox),nr=useIsPanorama(),ir="xAxis",sr=useAppSelector(gr=>selectTicksOfAxis(gr,ir,e,nr)),or=useAppSelector(gr=>selectXAxisSize(gr,e)),ar=useAppSelector(gr=>selectXAxisPosition(gr,e)),lr=useAppSelector(gr=>selectXAxisSettingsNoDefaults(gr,e));if(or==null||ar==null||lr==null)return null;var{dangerouslySetInnerHTML:cr,ticks:dr,scale:hr}=er,ur=_objectWithoutProperties$4(er,_excluded$4),{id:pr,scale:mr}=lr,fr=_objectWithoutProperties$4(lr,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},ur,fr,{x:ar.x,y:ar.y,width:or.width,height:or.height,className:clsx("recharts-".concat(ir," ").concat(ir),tr),viewBox:rr,ticks:sr,axisType:ir}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,angle:implicitXAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,height:implicitXAxis.height,hide:!1,includeHidden:implicitXAxis.includeHidden,interval:implicitXAxis.interval,minTickGap:implicitXAxis.minTickGap,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tick:implicitXAxis.tick,tickCount:implicitXAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=er=>{var e=resolveDefaultProps(er,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),reactExports.createElement(XAxisImpl,e))},XAxis=reactExports.memo(XAxisSettingsDispatcher,axisPropsAreEqual);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks","scale"],_excluded2=["id","scale"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$4.apply(null,arguments)}function _objectWithoutProperties$3(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$3(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$3(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function SetYAxisSettings(er){var e=useAppDispatch(),tr=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{tr.current===null?e(addYAxis(er)):tr.current!==er&&e(replaceYAxis({prev:tr.current,next:er})),tr.current=er},[er,e]),reactExports.useLayoutEffect(()=>()=>{tr.current&&(e(removeYAxis(tr.current)),tr.current=null)},[e]),null}var YAxisImpl=er=>{var{yAxisId:e,className:tr,width:rr,label:nr}=er,ir=reactExports.useRef(null),sr=reactExports.useRef(null),or=useAppSelector(selectAxisViewBox),ar=useIsPanorama(),lr=useAppDispatch(),cr="yAxis",dr=useAppSelector(jr=>selectYAxisSize(jr,e)),hr=useAppSelector(jr=>selectYAxisPosition(jr,e)),ur=useAppSelector(jr=>selectTicksOfAxis(jr,cr,e,ar)),pr=useAppSelector(jr=>selectYAxisSettingsNoDefaults(jr,e));if(reactExports.useLayoutEffect(()=>{if(!(rr!=="auto"||!dr||isLabelContentAFunction(nr)||reactExports.isValidElement(nr)||pr==null)){var jr=ir.current;if(jr){var Cr=jr.getCalculatedWidth();Math.round(dr.width)!==Math.round(Cr)&&lr(updateYAxisWidth({id:e,width:Cr}))}}},[ur,dr,lr,nr,e,rr,pr]),dr==null||hr==null||pr==null)return null;var{dangerouslySetInnerHTML:mr,ticks:fr,scale:gr}=er,yr=_objectWithoutProperties$3(er,_excluded$3),{id:vr,scale:br}=pr,Sr=_objectWithoutProperties$3(pr,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},yr,Sr,{ref:ir,labelRef:sr,x:hr.x,y:hr.y,tickTextProps:rr==="auto"?{width:void 0}:{width:rr},width:dr.width,height:dr.height,className:clsx("recharts-".concat(cr," ").concat(cr),tr),viewBox:or,ticks:ur,axisType:cr}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,angle:implicitYAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,hide:!1,includeHidden:implicitYAxis.includeHidden,interval:implicitYAxis.interval,minTickGap:implicitYAxis.minTickGap,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tick:implicitYAxis.tick,tickCount:implicitYAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=er=>{var e=resolveDefaultProps(er,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),reactExports.createElement(YAxisImpl,e))},YAxis=reactExports.memo(YAxisSettingsDispatcher,axisPropsAreEqual);YAxis.displayName="YAxis";var pickChartPointer=(er,e)=>e,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=er=>{var e=er.currentTarget.getBoundingClientRect(),tr=e.width/er.currentTarget.offsetWidth,rr=e.height/er.currentTarget.offsetHeight;return{chartX:Math.round((er.clientX-e.left)/tr),chartY:Math.round((er.clientY-e.top)/rr)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(er,e)=>{var tr=er.payload,rr=selectActivePropsFromChartPointer(e.getState(),getChartPointer(tr));(rr==null?void 0:rr.activeIndex)!=null&&e.dispatch(setMouseClickAxisIndex({activeIndex:rr.activeIndex,activeDataKey:void 0,activeCoordinate:rr.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware(),rafId=null;mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(er,e)=>{var tr=er.payload;rafId!==null&&cancelAnimationFrame(rafId);var rr=getChartPointer(tr);rafId=requestAnimationFrame(()=>{var nr=e.getState(),ir=selectTooltipEventType$1(nr,nr.tooltip.settings.shared);if(ir==="axis"){var sr=selectActivePropsFromChartPointer(nr,rr);(sr==null?void 0:sr.activeIndex)!=null?e.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate})):e.dispatch(mouseLeaveChart())}rafId=null})}});function reduxDevtoolsJsonStringifyReplacer(er,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":er==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(er,e)=>{var tr;er.accessibilityLayer=e.payload.accessibilityLayer,er.barCategoryGap=e.payload.barCategoryGap,er.barGap=(tr=e.payload.barGap)!==null&&tr!==void 0?tr:initialState.barGap,er.barSize=e.payload.barSize,er.maxBarSize=e.payload.maxBarSize,er.stackOffset=e.payload.stackOffset,er.syncId=e.payload.syncId,er.syncMethod=e.payload.syncMethod,er.className=e.payload.className,er.baseValue=e.payload.baseValue,er.reverseStackOrder=e.payload.reverseStackOrder}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(er,e)=>e.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(er,e)=>{var tr=e.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip,ir=er.payload;if(!(ir!=="ArrowRight"&&ir!=="ArrowLeft"&&ir!=="Enter")){var sr=combineActiveTooltipIndex(nr,selectTooltipDisplayedData(tr),selectTooltipAxisDataKey(tr),selectTooltipAxisDomain(tr)),or=sr==null?-1:Number(sr);if(!(!Number.isFinite(or)||or<0)){var ar=selectTooltipAxisTicks(tr);if(ir==="Enter"){var lr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(nr.index));e.dispatch(setKeyboardInteraction({active:!nr.active,activeIndex:nr.index,activeCoordinate:lr}));return}var cr=selectChartDirection(tr),dr=cr==="left-to-right"?1:-1,hr=ir==="ArrowRight"?1:-1,ur=or+hr*dr;if(!(ar==null||ur>=ar.length||ur<0)){var pr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(ur));e.dispatch(setKeyboardInteraction({active:!0,activeIndex:ur.toString(),activeCoordinate:pr}))}}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(er,e)=>{var tr=e.getState(),rr=tr.rootProps.accessibilityLayer!==!1;if(rr){var{keyboardInteraction:nr}=tr.tooltip;if(!nr.active&&nr.index==null){var ir="0",sr=selectCoordinateForDefaultIndex(tr,"axis","hover",String(ir));e.dispatch(setKeyboardInteraction({active:!0,activeIndex:ir,activeCoordinate:sr}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware(),rafIdMap=new Map;externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(er,e)=>{var{handler:tr,reactEvent:rr}=er.payload;if(tr!=null){rr.persist();var nr=rr.type,ir=rafIdMap.get(nr);ir!==void 0&&cancelAnimationFrame(ir);var sr=requestAnimationFrame(()=>{try{var or=e.getState(),ar={activeCoordinate:selectActiveTooltipCoordinate(or),activeDataKey:selectActiveTooltipDataKey(or),activeIndex:selectActiveTooltipIndex(or),activeLabel:selectActiveLabel$1(or),activeTooltipIndex:selectActiveTooltipIndex(or),isTooltipActive:selectIsTooltipActive$1(or)};tr(ar,rr)}finally{rafIdMap.delete(nr)}});rafIdMap.set(nr,sr)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],er=>er.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(er,e)=>e,(er,e,tr)=>tr],(er,e,tr,rr)=>{var nr=er.find(or=>or.settings.graphicalItemId===rr);if(nr!=null){var{positions:ir}=nr;if(ir!=null){var sr=e(ir,tr);return sr}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(er,e)=>{var tr=er.payload;if(!(tr.touches==null||tr.touches.length===0)){var rr=e.getState(),nr=selectTooltipEventType$1(rr,rr.tooltip.settings.shared);if(nr==="axis"){var ir=tr.touches[0];if(ir==null)return;var sr=selectActivePropsFromChartPointer(rr,getChartPointer({clientX:ir.clientX,clientY:ir.clientY,currentTarget:tr.currentTarget}));(sr==null?void 0:sr.activeIndex)!=null&&e.dispatch(setMouseOverAxisIndex({activeIndex:sr.activeIndex,activeDataKey:void 0,activeCoordinate:sr.activeCoordinate}))}else if(nr==="item"){var or,ar=tr.touches[0];if(document.elementFromPoint==null||ar==null)return;var lr=document.elementFromPoint(ar.clientX,ar.clientY);if(!lr||!lr.getAttribute)return;var cr=lr.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),dr=(or=lr.getAttribute(DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME))!==null&&or!==void 0?or:void 0,hr=selectAllGraphicalItemsSettings(rr).find(mr=>mr.id===dr);if(cr==null||hr==null||dr==null)return;var{dataKey:ur}=hr,pr=selectTooltipCoordinate(rr,cr,dr);e.dispatch(setActiveMouseOverItemIndex({activeDataKey:ur,activeIndex:cr,activeCoordinate:pr,activeGraphicalItemId:dr}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function er(e){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:e,middleware:rr=>{var nr;return rr({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((nr="es6")!==null&&nr!==void 0?nr:"")}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware])},enhancers:rr=>{var nr=rr;return typeof rr=="function"&&(nr=rr()),nr.concat(autoBatchEnhancer({type:"raf"}))},devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(tr)}})};function RechartsStoreProvider(er){var{preloadedState:e,children:tr,reduxStoreName:rr}=er,nr=useIsPanorama(),ir=reactExports.useRef(null);if(nr)return tr;ir.current==null&&(ir.current=createRechartsStore(e,rr));var sr=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:sr,store:ir.current},tr)}function ReportMainChartPropsImpl(er){var{layout:e,margin:tr}=er,rr=useAppDispatch(),nr=useIsPanorama();return reactExports.useEffect(()=>{nr||(rr(setLayout(e)),rr(setMargin(tr)))},[rr,nr,e,tr]),null}var ReportMainChartProps=reactExports.memo(ReportMainChartPropsImpl,propsAreEqual);function ReportChartProps(er){var e=useAppDispatch();return reactExports.useEffect(()=>{e(updateOptions(er))},[e,er]),null}function ZIndexSvgPortal(er){var{zIndex:e,isPanorama:tr}=er,rr=reactExports.useRef(null),nr=useAppDispatch();return reactExports.useLayoutEffect(()=>(rr.current&&nr(registerZIndexPortalElement({zIndex:e,element:rr.current,isPanorama:tr})),()=>{nr(unregisterZIndexPortalElement({zIndex:e,isPanorama:tr}))}),[nr,e,tr]),reactExports.createElement("g",{tabIndex:-1,ref:rr})}function AllZIndexPortals(er){var{children:e,isPanorama:tr}=er,rr=useAppSelector(selectAllRegisteredZIndexes);if(!rr||rr.length===0)return e;var nr=rr.filter(sr=>sr<0),ir=rr.filter(sr=>sr>0);return reactExports.createElement(reactExports.Fragment,null,nr.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:tr})),e,ir.map(sr=>reactExports.createElement(ZIndexSvgPortal,{key:sr,zIndex:sr,isPanorama:tr})))}var _excluded$2=["children"];function _objectWithoutProperties$2(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$2(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$2(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((er,e)=>{var tr=useChartWidth(),rr=useChartHeight(),nr=useAccessibilityLayer();if(!isPositiveNumber(tr)||!isPositiveNumber(rr))return null;var{children:ir,otherAttributes:sr,title:or,desc:ar}=er,lr,cr;return sr!=null&&(typeof sr.tabIndex=="number"?lr=sr.tabIndex:lr=nr?0:void 0,typeof sr.role=="string"?cr=sr.role:cr=nr?"application":void 0),reactExports.createElement(Surface,_extends$3({},sr,{title:or,desc:ar,role:cr,tabIndex:lr,width:tr,height:rr,style:FULL_WIDTH_AND_HEIGHT,ref:e}),ir)}),BrushPanoramaSurface=er=>{var{children:e}=er,tr=useAppSelector(selectBrushDimensions);if(!tr)return null;var{width:rr,height:nr,y:ir,x:sr}=tr;return reactExports.createElement(Surface,{width:rr,height:nr,x:sr,y:ir},e)},RootSurface=reactExports.forwardRef((er,e)=>{var{children:tr}=er,rr=_objectWithoutProperties$2(er,_excluded$2),nr=useIsPanorama();return nr?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},tr)):reactExports.createElement(MainChartSurface,_extends$3({ref:e},rr),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},tr))});function useReportScale(){var er=useAppDispatch(),[e,tr]=reactExports.useState(null),rr=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(e!=null){var nr=e.getBoundingClientRect(),ir=nr.width/e.offsetWidth;isWellBehavedNumber(ir)&&ir!==rr&&er(setScale(ir))}},[e,er,rr]),tr}function ownKeys$1(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$1(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(tr),!0).forEach(function(rr){_defineProperty$1(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty$1(er,e,tr){return(e=_toPropertyKey$1(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey$1(er){var e=_toPrimitive$1(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$1(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(er){if(typeof er=="number")return er;if(typeof er=="string"){var e=parseFloat(er);if(!Number.isNaN(e))return e}return 0}var ResponsiveDiv=reactExports.forwardRef((er,e)=>{var tr,rr,nr=reactExports.useRef(null),[ir,sr]=reactExports.useState({containerWidth:getNumberOrZero((tr=er.style)===null||tr===void 0?void 0:tr.width),containerHeight:getNumberOrZero((rr=er.style)===null||rr===void 0?void 0:rr.height)}),or=reactExports.useCallback((lr,cr)=>{sr(dr=>{var hr=Math.round(lr),ur=Math.round(cr);return dr.containerWidth===hr&&dr.containerHeight===ur?dr:{containerWidth:hr,containerHeight:ur}})},[]),ar=reactExports.useCallback(lr=>{if(typeof e=="function"&&e(lr),lr!=null&&typeof ResizeObserver<"u"){var{width:cr,height:dr}=lr.getBoundingClientRect();or(cr,dr);var hr=pr=>{var{width:mr,height:fr}=pr[0].contentRect;or(mr,fr)},ur=new ResizeObserver(hr);ur.observe(lr),nr.current=ur}},[e,or]);return reactExports.useEffect(()=>()=>{var lr=nr.current;lr!=null&&lr.disconnect()},[or]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:ir.containerWidth,height:ir.containerHeight}),reactExports.createElement("div",_extends$2({ref:ar},er)))}),ReadSizeOnceDiv=reactExports.forwardRef((er,e)=>{var{width:tr,height:rr}=er,[nr,ir]=reactExports.useState({containerWidth:getNumberOrZero(tr),containerHeight:getNumberOrZero(rr)}),sr=reactExports.useCallback((ar,lr)=>{ir(cr=>{var dr=Math.round(ar),hr=Math.round(lr);return cr.containerWidth===dr&&cr.containerHeight===hr?cr:{containerWidth:dr,containerHeight:hr}})},[]),or=reactExports.useCallback(ar=>{if(typeof e=="function"&&e(ar),ar!=null){var{width:lr,height:cr}=ar.getBoundingClientRect();sr(lr,cr)}},[e,sr]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:nr.containerWidth,height:nr.containerHeight}),reactExports.createElement("div",_extends$2({ref:or},er)))}),StaticDiv=reactExports.forwardRef((er,e)=>{var{width:tr,height:rr}=er;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:tr,height:rr}),reactExports.createElement("div",_extends$2({ref:e},er)))}),NonResponsiveDiv=reactExports.forwardRef((er,e)=>{var{width:tr,height:rr}=er;return isPercent(tr)||isPercent(rr)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},er,{ref:e})):reactExports.createElement(StaticDiv,_extends$2({},er,{ref:e}))});function getWrapperDivComponent(er){return er===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((er,e)=>{var{children:tr,className:rr,height:nr,onClick:ir,onContextMenu:sr,onDoubleClick:or,onMouseDown:ar,onMouseEnter:lr,onMouseLeave:cr,onMouseMove:dr,onMouseUp:hr,onTouchEnd:ur,onTouchMove:pr,onTouchStart:mr,style:fr,width:gr,responsive:yr,dispatchTouchEvents:vr=!0}=er,br=reactExports.useRef(null),Sr=useAppDispatch(),[jr,Cr]=reactExports.useState(null),[Pr,Rr]=reactExports.useState(null),Lr=useReportScale(),Ir=useResponsiveContainerContext(),Nr=(Ir==null?void 0:Ir.width)>0?Ir.width:gr,Ar=(Ir==null?void 0:Ir.height)>0?Ir.height:nr,Dr=reactExports.useCallback(Fr=>{Lr(Fr),typeof e=="function"&&e(Fr),Cr(Fr),Rr(Fr),Fr!=null&&(br.current=Fr)},[Lr,e,Cr,Rr]),Tr=reactExports.useCallback(Fr=>{Sr(mouseClickAction(Fr)),Sr(externalEventAction({handler:ir,reactEvent:Fr}))},[Sr,ir]),_r=reactExports.useCallback(Fr=>{Sr(mouseMoveAction(Fr)),Sr(externalEventAction({handler:lr,reactEvent:Fr}))},[Sr,lr]),wr=reactExports.useCallback(Fr=>{Sr(mouseLeaveChart()),Sr(externalEventAction({handler:cr,reactEvent:Fr}))},[Sr,cr]),Er=reactExports.useCallback(Fr=>{Sr(mouseMoveAction(Fr)),Sr(externalEventAction({handler:dr,reactEvent:Fr}))},[Sr,dr]),xr=reactExports.useCallback(()=>{Sr(focusAction())},[Sr]),Mr=reactExports.useCallback(Fr=>{Sr(keyDownAction(Fr.key))},[Sr]),zr=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:sr,reactEvent:Fr}))},[Sr,sr]),Or=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:or,reactEvent:Fr}))},[Sr,or]),Br=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:ar,reactEvent:Fr}))},[Sr,ar]),Ur=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:hr,reactEvent:Fr}))},[Sr,hr]),qr=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:mr,reactEvent:Fr}))},[Sr,mr]),Vr=reactExports.useCallback(Fr=>{vr&&Sr(touchEventAction(Fr)),Sr(externalEventAction({handler:pr,reactEvent:Fr}))},[Sr,vr,pr]),Gr=reactExports.useCallback(Fr=>{Sr(externalEventAction({handler:ur,reactEvent:Fr}))},[Sr,ur]),$r=getWrapperDivComponent(yr);return reactExports.createElement(TooltipPortalContext.Provider,{value:jr},reactExports.createElement(LegendPortalContext.Provider,{value:Pr},reactExports.createElement($r,{width:Nr??(fr==null?void 0:fr.width),height:Ar??(fr==null?void 0:fr.height),className:clsx("recharts-wrapper",rr),style:_objectSpread$1({position:"relative",cursor:"default",width:Nr,height:Ar},fr),onClick:Tr,onContextMenu:zr,onDoubleClick:Or,onFocus:xr,onKeyDown:Mr,onMouseDown:Br,onMouseEnter:_r,onMouseLeave:wr,onMouseMove:Er,onMouseUp:Ur,onTouchEnd:Gr,onTouchMove:Vr,onTouchStart:qr,ref:Dr},reactExports.createElement(EventSynchronizer,null),tr)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties$1(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose$1(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose$1(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var CategoricalChart=reactExports.forwardRef((er,e)=>{var{width:tr,height:rr,responsive:nr,children:ir,className:sr,style:or,compact:ar,title:lr,desc:cr}=er,dr=_objectWithoutProperties$1(er,_excluded$1),hr=svgPropertiesNoEvents(dr);return ar?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:tr,height:rr}),reactExports.createElement(RootSurface,{otherAttributes:hr,title:lr,desc:cr},ir)):reactExports.createElement(RechartsWrapper,{className:sr,style:or,width:tr,height:rr,responsive:nr??!1,onClick:er.onClick,onMouseLeave:er.onMouseLeave,onMouseEnter:er.onMouseEnter,onMouseMove:er.onMouseMove,onMouseDown:er.onMouseDown,onMouseUp:er.onMouseUp,onContextMenu:er.onContextMenu,onDoubleClick:er.onDoubleClick,onTouchStart:er.onTouchStart,onTouchMove:er.onTouchMove,onTouchEnd:er.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:hr,title:lr,desc:cr,ref:e},reactExports.createElement(ClipPathProvider,null,ir)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends$1.apply(null,arguments)}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultCartesianChartProps={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:defaultMargin$1,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CartesianChart=reactExports.forwardRef(function er(e,tr){var rr,nr=resolveDefaultProps(e.categoricalChartProps,defaultCartesianChartProps),{chartName:ir,defaultTooltipEventType:sr,validateTooltipEventTypes:or,tooltipPayloadSearcher:ar,categoricalChartProps:lr}=e,cr={chartName:ir,defaultTooltipEventType:sr,validateTooltipEventTypes:or,tooltipPayloadSearcher:ar,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:cr},reduxStoreName:(rr=lr.id)!==null&&rr!==void 0?rr:ir},reactExports.createElement(ChartDataContextProvider,{chartData:lr.data}),reactExports.createElement(ReportMainChartProps,{layout:nr.layout,margin:nr.margin}),reactExports.createElement(ReportChartProps,{baseValue:nr.baseValue,accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className,reverseStackOrder:nr.reverseStackOrder}),reactExports.createElement(CategoricalChart,_extends$1({},nr,{ref:tr})))}),allowedTooltipTypes$2=["axis","item"],BarChart=reactExports.forwardRef((er,e)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:er,ref:e}));function ReportPolarOptions(er){var e=useAppDispatch();return reactExports.useEffect(()=>{e(updatePolarOptions(er))},[e,er]),null}var _excluded=["layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e];for(var rr in tr)({}).hasOwnProperty.call(tr,rr)&&(er[rr]=tr[rr])}return er},_extends.apply(null,arguments)}function _objectWithoutProperties(er,e){if(er==null)return{};var tr,rr,nr=_objectWithoutPropertiesLoose(er,e);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)tr=ir[rr],e.indexOf(tr)===-1&&{}.propertyIsEnumerable.call(er,tr)&&(nr[tr]=er[tr])}return nr}function _objectWithoutPropertiesLoose(er,e){if(er==null)return{};var tr={};for(var rr in er)if({}.hasOwnProperty.call(er,rr)){if(e.indexOf(rr)!==-1)continue;tr[rr]=er[rr]}return tr}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultPolarChartProps={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PolarChart=reactExports.forwardRef(function er(e,tr){var rr,nr=resolveDefaultProps(e.categoricalChartProps,defaultPolarChartProps),{layout:ir}=nr,sr=_objectWithoutProperties(nr,_excluded),{chartName:or,defaultTooltipEventType:ar,validateTooltipEventTypes:lr,tooltipPayloadSearcher:cr}=e,dr={chartName:or,defaultTooltipEventType:ar,validateTooltipEventTypes:lr,tooltipPayloadSearcher:cr,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:dr},reduxStoreName:(rr=nr.id)!==null&&rr!==void 0?rr:or},reactExports.createElement(ChartDataContextProvider,{chartData:nr.data}),reactExports.createElement(ReportMainChartProps,{layout:ir,margin:nr.margin}),reactExports.createElement(ReportChartProps,{baseValue:void 0,accessibilityLayer:nr.accessibilityLayer,barCategoryGap:nr.barCategoryGap,maxBarSize:nr.maxBarSize,stackOffset:nr.stackOffset,barGap:nr.barGap,barSize:nr.barSize,syncId:nr.syncId,syncMethod:nr.syncMethod,className:nr.className,reverseStackOrder:nr.reverseStackOrder}),reactExports.createElement(ReportPolarOptions,{cx:nr.cx,cy:nr.cy,startAngle:nr.startAngle,endAngle:nr.endAngle,innerRadius:nr.innerRadius,outerRadius:nr.outerRadius}),reactExports.createElement(CategoricalChart,_extends({},sr,{ref:tr})))});function ownKeys(er,e){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(er);e&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(er,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread(er){for(var e=1;e<arguments.length;e++){var tr=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(tr),!0).forEach(function(rr){_defineProperty(er,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys(Object(tr)).forEach(function(rr){Object.defineProperty(er,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return er}function _defineProperty(er,e,tr){return(e=_toPropertyKey(e))in er?Object.defineProperty(er,e,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[e]=tr,er}function _toPropertyKey(er){var e=_toPrimitive(er,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive(er,e){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var rr=tr.call(er,e);if(typeof rr!="object")return rr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(er)}var allowedTooltipTypes$1=["item"],defaultPieChartProps=_objectSpread(_objectSpread({},defaultPolarChartProps),{},{layout:"centric",startAngle:0,endAngle:360}),PieChart=reactExports.forwardRef((er,e)=>{var tr=resolveDefaultProps(er,defaultPieChartProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:tr,ref:e})}),allowedTooltipTypes=["axis"],ComposedChart=reactExports.forwardRef((er,e)=>reactExports.createElement(CartesianChart,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:er,ref:e}));const COLORS$1=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"];function useChartData(er){return reactExports.useMemo(()=>{const e=er.reduce((dr,hr)=>dr+(hr.total||0),0),tr=er.filter(dr=>(dr.cantidadStockBodega||0)===0).length,rr=er.filter(dr=>dr.vinculosManual&&dr.vinculosManual.length>0).length,nr=er.filter(dr=>dr.cantidadStockBodega===0).length,ir=er.length>0?e/er.length:0,or=[{min:0,max:100,label:"$0-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1e3,label:"$500-1K"},{min:1e3,max:5e3,label:"$1K-5K"},{min:5e3,max:1e4,label:"$5K-10K"},{min:1e4,max:1/0,label:"+$10K"}].map((dr,hr)=>({name:dr.label,value:er.filter(ur=>(ur.total||0)>=dr.min&&(ur.total||0)<dr.max).length,fill:COLORS$1[hr%COLORS$1.length]})).filter(dr=>dr.value>0),ar=[...er].sort((dr,hr)=>(hr.total||0)-(dr.total||0)).slice(0,10).map(dr=>({name:dr.codigoSAP.substring(0,10),valor:dr.total||0,stock:dr.cantidadStockBodega||0})),lr=[...er].map(dr=>({name:dr.codigoSAP.substring(0,8),solicitado:dr.cantidadSolicitada,stock:dr.cantidadStockBodega||0,diferencia:dr.cantidadSolicitada-(dr.cantidadStockBodega||0)})).sort((dr,hr)=>hr.diferencia-dr.diferencia).slice(0,15).map(({name:dr,solicitado:hr,stock:ur})=>({name:dr,solicitado:hr,stock:ur})),cr=[{min:0,max:10,label:"$0-10"},{min:10,max:50,label:"$10-50"},{min:50,max:100,label:"$50-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1/0,label:"+$500"}].map((dr,hr)=>({rango:dr.label,cantidad:er.filter(ur=>ur.valorUnitario>=dr.min&&ur.valorUnitario<dr.max).length,fill:COLORS$1[hr%COLORS$1.length]})).filter(dr=>dr.cantidad>0);return{distribucionValor:or,topPorValor:ar,stockVsSolicitado:lr,rangosPrecios:cr,totales:{totalRepuestos:er.length,totalUSD:e,sinStock:tr,conMarcador:rr,stockCero:nr,promedioValor:ir}}},[er])}function ReportsModal({isOpen:er,onClose:e,repuestos:tr}){const[rr,nr]=reactExports.useState("resumen"),ir=useChartData(tr);if(!er)return null;const sr=[{id:"resumen",label:"Resumen",icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"})},{id:"valor",label:"Por Valor",icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"})},{id:"stock",label:"Stock",icon:jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"})},{id:"precios",label:"Precios",icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"})}];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:e,children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",onClick:or=>or.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-6 h-6 text-primary-600"}),"Reportes y Anlisis"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[tr.length," repuestos analizados"]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"px-6 border-b border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:sr.map(or=>jsxRuntimeExports.jsxs("button",{onClick:()=>nr(or.id),className:`
                  flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors
                  ${rr===or.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}
                `,children:[or.icon,or.label]},or.id))})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[rr==="resumen"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5"}),label:"Total Repuestos",value:ir.totales.totalRepuestos,color:"blue"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5"}),label:"Total USD",value:`$${ir.totales.totalUSD.toLocaleString("es-CL",{maximumFractionDigits:0})}`,color:"green"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5"}),label:"Sin Stock",value:ir.totales.sinStock,subValue:`${(ir.totales.sinStock/ir.totales.totalRepuestos*100).toFixed(1)}%`,color:"red"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(BookMarked,{className:"w-5 h-5"}),label:"Con Marcador",value:ir.totales.conMarcador,subValue:`${(ir.totales.conMarcador/ir.totales.totalRepuestos*100).toFixed(1)}%`,color:"purple"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin por Rango de Valor Total"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:ir.distribucionValor,cx:"50%",cy:"50%",outerRadius:80,innerRadius:40,paddingAngle:2,dataKey:"value",label:({name:or,percent:ar})=>`${or} (${((ar||0)*100).toFixed(0)}%)`,labelLine:!1,children:ir.distribucionValor.map((or,ar)=>jsxRuntimeExports.jsx(Cell,{fill:or.fill},`cell-${ar}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Repuestos por Precio Unitario"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:ir.rangosPrecios,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{dataKey:"rango",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:11}}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"cantidad",name:"Cantidad",radius:[4,4,0,0],children:ir.rangosPrecios.map((or,ar)=>jsxRuntimeExports.jsx(Cell,{fill:or.fill},`cell-${ar}`))})]})})})]})]})]}),rr==="valor"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Top 10 Repuestos por Valor Total USD"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{data:ir.topPorValor,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{type:"number",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"name",type:"category",width:80,tick:{fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{formatter:or=>[`$${(or||0).toLocaleString("es-CL",{maximumFractionDigits:2})}`,"Valor"]}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"valor",name:"Valor USD",fill:"#3b82f6",radius:[0,4,4,0]}),jsxRuntimeExports.jsx(Line,{dataKey:"stock",name:"Stock",stroke:"#10b981",strokeWidth:2})]})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("th",{className:"pb-2",children:"#"}),jsxRuntimeExports.jsx("th",{className:"pb-2",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"pb-2 text-right",children:"Valor USD"}),jsxRuntimeExports.jsx("th",{className:"pb-2 text-right",children:"Stock"})]})}),jsxRuntimeExports.jsx("tbody",{children:ir.topPorValor.map((or,ar)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("td",{className:"py-2 text-gray-400",children:ar+1}),jsxRuntimeExports.jsx("td",{className:"py-2 font-mono font-medium dark:text-gray-200",children:or.name}),jsxRuntimeExports.jsxs("td",{className:"py-2 text-right text-green-600 dark:text-green-400",children:["$",or.valor.toLocaleString("es-CL",{maximumFractionDigits:2})]}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right dark:text-gray-200",children:or.stock})]},ar))})]})})]}),rr==="stock"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Cantidad Solicitada vs Stock Disponible"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Top 15 con mayor diferencia entre solicitado y stock"}),jsxRuntimeExports.jsx("div",{className:"h-96",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:ir.stockVsSolicitado,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{type:"number",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"name",type:"category",width:70,tick:{fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"solicitado",name:"Solicitado",fill:"#f59e0b",radius:[0,4,4,0]}),jsxRuntimeExports.jsx(Bar,{dataKey:"stock",name:"Stock",fill:"#10b981",radius:[0,4,4,0]})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:ir.totales.stockCero}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Stock en cero"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:tr.filter(or=>(or.cantidadStockBodega||0)<or.cantidadSolicitada).length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Stock insuficiente"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:tr.filter(or=>(or.cantidadStockBodega||0)>=or.cantidadSolicitada).length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Stock suficiente"})]})]})]}),rr==="precios"&&jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Estadsticas de Precios"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Promedio por repuesto"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",ir.totales.promedioValor.toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms alto"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["$",Math.max(...tr.map(or=>or.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms bajo"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:["$",Math.min(...tr.filter(or=>(or.total||0)>0).map(or=>or.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin de Precios Unitarios"}),jsxRuntimeExports.jsx("div",{className:"h-52",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:ir.rangosPrecios,cx:"50%",cy:"50%",outerRadius:70,innerRadius:30,paddingAngle:2,dataKey:"cantidad",label:({name:or})=>or,labelLine:!1,children:ir.rangosPrecios.map((or,ar)=>jsxRuntimeExports.jsx(Cell,{fill:or.fill},`cell-${ar}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})})})]})]})})]})]})})}function StatCard({icon:er,label:e,value:tr,subValue:rr,color:nr}){const ir={blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400"};return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${ir[nr]}`,children:er}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:tr}),rr&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:rr})]})]})})}var FileSaver_min={exports:{}};(function(er,e){(function(tr,rr){rr()})(commonjsGlobal$2,function(){function tr(lr,cr){return typeof cr>"u"?cr={autoBom:!1}:typeof cr!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),cr={autoBom:!cr}),cr.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(lr.type)?new Blob(["\uFEFF",lr],{type:lr.type}):lr}function rr(lr,cr,dr){var hr=new XMLHttpRequest;hr.open("GET",lr),hr.responseType="blob",hr.onload=function(){ar(hr.response,cr,dr)},hr.onerror=function(){console.error("could not download file")},hr.send()}function nr(lr){var cr=new XMLHttpRequest;cr.open("HEAD",lr,!1);try{cr.send()}catch{}return 200<=cr.status&&299>=cr.status}function ir(lr){try{lr.dispatchEvent(new MouseEvent("click"))}catch{var cr=document.createEvent("MouseEvents");cr.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),lr.dispatchEvent(cr)}}var sr=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$2=="object"&&commonjsGlobal$2.global===commonjsGlobal$2?commonjsGlobal$2:void 0,or=sr.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ar=sr.saveAs||(typeof window!="object"||window!==sr?function(){}:"download"in HTMLAnchorElement.prototype&&!or?function(lr,cr,dr){var hr=sr.URL||sr.webkitURL,ur=document.createElement("a");cr=cr||lr.name||"download",ur.download=cr,ur.rel="noopener",typeof lr=="string"?(ur.href=lr,ur.origin===location.origin?ir(ur):nr(ur.href)?rr(lr,cr,dr):ir(ur,ur.target="_blank")):(ur.href=hr.createObjectURL(lr),setTimeout(function(){hr.revokeObjectURL(ur.href)},4e4),setTimeout(function(){ir(ur)},0))}:"msSaveOrOpenBlob"in navigator?function(lr,cr,dr){if(cr=cr||lr.name||"download",typeof lr!="string")navigator.msSaveOrOpenBlob(tr(lr,dr),cr);else if(nr(lr))rr(lr,cr,dr);else{var hr=document.createElement("a");hr.href=lr,hr.target="_blank",setTimeout(function(){ir(hr)})}}:function(lr,cr,dr,hr){if(hr=hr||open("","_blank"),hr&&(hr.document.title=hr.document.body.innerText="downloading..."),typeof lr=="string")return rr(lr,cr,dr);var ur=lr.type==="application/octet-stream",pr=/constructor/i.test(sr.HTMLElement)||sr.safari,mr=/CriOS\/[\d]+/.test(navigator.userAgent);if((mr||ur&&pr||or)&&typeof FileReader<"u"){var fr=new FileReader;fr.onloadend=function(){var vr=fr.result;vr=mr?vr:vr.replace(/^data:[^;]*;/,"data:attachment/file;"),hr?hr.location.href=vr:location=vr,hr=null},fr.readAsDataURL(lr)}else{var gr=sr.URL||sr.webkitURL,yr=gr.createObjectURL(lr);hr?hr.location=yr:location.href=yr,hr=null,setTimeout(function(){gr.revokeObjectURL(yr)},4e4)}});sr.saveAs=ar.saveAs=ar,er.exports=ar})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;function _typeof(er){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(er)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(er,e){for(var tr=new u16(31),rr=0;rr<31;++rr)tr[rr]=e+=1<<er[rr-1];for(var nr=new i32(tr[30]),rr=1;rr<30;++rr)for(var ir=tr[rr];ir<tr[rr+1];++ir)nr[ir]=ir-tr[rr]<<5|rr;return{b:tr,r:nr}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(er,e,tr){for(var rr=er.length,nr=0,ir=new u16(e);nr<rr;++nr)er[nr]&&++ir[er[nr]-1];var sr=new u16(e);for(nr=1;nr<e;++nr)sr[nr]=sr[nr-1]+ir[nr-1]<<1;var or;if(tr){or=new u16(1<<e);var ar=15-e;for(nr=0;nr<rr;++nr)if(er[nr])for(var lr=nr<<4|er[nr],cr=e-er[nr],dr=sr[er[nr]-1]++<<cr,hr=dr|(1<<cr)-1;dr<=hr;++dr)or[rev[dr]>>ar]=lr}else for(or=new u16(rr),nr=0;nr<rr;++nr)er[nr]&&(or[nr]=rev[sr[er[nr]-1]++]>>15-er[nr]);return or},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(er){for(var e=er[0],tr=1;tr<er.length;++tr)er[tr]>e&&(e=er[tr]);return e},bits=function(er,e,tr){var rr=e/8|0;return(er[rr]|er[rr+1]<<8)>>(e&7)&tr},bits16=function(er,e){var tr=e/8|0;return(er[tr]|er[tr+1]<<8|er[tr+2]<<16)>>(e&7)},shft=function(er){return(er+7)/8|0},slc=function(er,e,tr){return(tr==null||tr>er.length)&&(tr=er.length),new u8(er.subarray(e,tr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(er,e,tr){var rr=new Error(e||ec[er]);if(rr.code=er,Error.captureStackTrace&&Error.captureStackTrace(rr,err),!tr)throw rr;return rr},inflt=function(er,e,tr,rr){var nr=er.length,ir=0;if(!nr||e.f&&!e.l)return tr||new u8(0);var sr=!tr,or=sr||e.i!=2,ar=e.i;sr&&(tr=new u8(nr*3));var lr=function(Zr){var nn=tr.length;if(Zr>nn){var Qr=new u8(Math.max(nn*2,Zr));Qr.set(tr),tr=Qr}},cr=e.f||0,dr=e.p||0,hr=e.b||0,ur=e.l,pr=e.d,mr=e.m,fr=e.n,gr=nr*8;do{if(!ur){cr=bits(er,dr,1);var yr=bits(er,dr+1,3);if(dr+=3,yr)if(yr==1)ur=flrm,pr=fdrm,mr=9,fr=5;else if(yr==2){var jr=bits(er,dr,31)+257,Cr=bits(er,dr+10,15)+4,Pr=jr+bits(er,dr+5,31)+1;dr+=14;for(var Rr=new u8(Pr),Lr=new u8(19),Ir=0;Ir<Cr;++Ir)Lr[clim[Ir]]=bits(er,dr+Ir*3,7);dr+=Cr*3;for(var Nr=max(Lr),Ar=(1<<Nr)-1,Dr=hMap(Lr,Nr,1),Ir=0;Ir<Pr;){var Tr=Dr[bits(er,dr,Ar)];dr+=Tr&15;var vr=Tr>>4;if(vr<16)Rr[Ir++]=vr;else{var _r=0,wr=0;for(vr==16?(wr=3+bits(er,dr,3),dr+=2,_r=Rr[Ir-1]):vr==17?(wr=3+bits(er,dr,7),dr+=3):vr==18&&(wr=11+bits(er,dr,127),dr+=7);wr--;)Rr[Ir++]=_r}}var Er=Rr.subarray(0,jr),xr=Rr.subarray(jr);mr=max(Er),fr=max(xr),ur=hMap(Er,mr,1),pr=hMap(xr,fr,1)}else err(1);else{var vr=shft(dr)+4,br=er[vr-4]|er[vr-3]<<8,Sr=vr+br;if(Sr>nr){ar&&err(0);break}or&&lr(hr+br),tr.set(er.subarray(vr,Sr),hr),e.b=hr+=br,e.p=dr=Sr*8,e.f=cr;continue}if(dr>gr){ar&&err(0);break}}or&&lr(hr+131072);for(var Mr=(1<<mr)-1,zr=(1<<fr)-1,Or=dr;;Or=dr){var _r=ur[bits16(er,dr)&Mr],Br=_r>>4;if(dr+=_r&15,dr>gr){ar&&err(0);break}if(_r||err(2),Br<256)tr[hr++]=Br;else if(Br==256){Or=dr,ur=null;break}else{var Ur=Br-254;if(Br>264){var Ir=Br-257,qr=fleb[Ir];Ur=bits(er,dr,(1<<qr)-1)+fl[Ir],dr+=qr}var Vr=pr[bits16(er,dr)&zr],Gr=Vr>>4;Vr||err(3),dr+=Vr&15;var xr=fd[Gr];if(Gr>3){var qr=fdeb[Gr];xr+=bits16(er,dr)&(1<<qr)-1,dr+=qr}if(dr>gr){ar&&err(0);break}or&&lr(hr+131072);var $r=hr+Ur;if(hr<xr){var Fr=ir-xr,Kr=Math.min(xr,$r);for(Fr+hr<0&&err(3);hr<Kr;++hr)tr[hr]=rr[Fr+hr]}for(;hr<$r;++hr)tr[hr]=tr[hr-xr]}}e.l=ur,e.p=Or,e.b=hr,e.f=cr,ur&&(cr=1,e.m=mr,e.d=pr,e.n=fr)}while(!cr);return hr!=tr.length&&sr?slc(tr,0,hr):tr.subarray(0,hr)},wbits=function(er,e,tr){tr<<=e&7;var rr=e/8|0;er[rr]|=tr,er[rr+1]|=tr>>8},wbits16=function(er,e,tr){tr<<=e&7;var rr=e/8|0;er[rr]|=tr,er[rr+1]|=tr>>8,er[rr+2]|=tr>>16},hTree=function(er,e){for(var tr=[],rr=0;rr<er.length;++rr)er[rr]&&tr.push({s:rr,f:er[rr]});var nr=tr.length,ir=tr.slice();if(!nr)return{t:et$1,l:0};if(nr==1){var sr=new u8(tr[0].s+1);return sr[tr[0].s]=1,{t:sr,l:1}}tr.sort(function(Sr,jr){return Sr.f-jr.f}),tr.push({s:-1,f:25001});var or=tr[0],ar=tr[1],lr=0,cr=1,dr=2;for(tr[0]={s:-1,f:or.f+ar.f,l:or,r:ar};cr!=nr-1;)or=tr[tr[lr].f<tr[dr].f?lr++:dr++],ar=tr[lr!=cr&&tr[lr].f<tr[dr].f?lr++:dr++],tr[cr++]={s:-1,f:or.f+ar.f,l:or,r:ar};for(var hr=ir[0].s,rr=1;rr<nr;++rr)ir[rr].s>hr&&(hr=ir[rr].s);var ur=new u16(hr+1),pr=ln(tr[cr-1],ur,0);if(pr>e){var rr=0,mr=0,fr=pr-e,gr=1<<fr;for(ir.sort(function(jr,Cr){return ur[Cr.s]-ur[jr.s]||jr.f-Cr.f});rr<nr;++rr){var yr=ir[rr].s;if(ur[yr]>e)mr+=gr-(1<<pr-ur[yr]),ur[yr]=e;else break}for(mr>>=fr;mr>0;){var vr=ir[rr].s;ur[vr]<e?mr-=1<<e-ur[vr]++-1:++rr}for(;rr>=0&&mr;--rr){var br=ir[rr].s;ur[br]==e&&(--ur[br],++mr)}pr=e}return{t:new u8(ur),l:pr}},ln=function(er,e,tr){return er.s==-1?Math.max(ln(er.l,e,tr+1),ln(er.r,e,tr+1)):e[er.s]=tr},lc=function(er){for(var e=er.length;e&&!er[--e];);for(var tr=new u16(++e),rr=0,nr=er[0],ir=1,sr=function(ar){tr[rr++]=ar},or=1;or<=e;++or)if(er[or]==nr&&or!=e)++ir;else{if(!nr&&ir>2){for(;ir>138;ir-=138)sr(32754);ir>2&&(sr(ir>10?ir-11<<5|28690:ir-3<<5|12305),ir=0)}else if(ir>3){for(sr(nr),--ir;ir>6;ir-=6)sr(8304);ir>2&&(sr(ir-3<<5|8208),ir=0)}for(;ir--;)sr(nr);ir=1,nr=er[or]}return{c:tr.subarray(0,rr),n:e}},clen=function(er,e){for(var tr=0,rr=0;rr<e.length;++rr)tr+=er[rr]*e[rr];return tr},wfblk=function(er,e,tr){var rr=tr.length,nr=shft(e+2);er[nr]=rr&255,er[nr+1]=rr>>8,er[nr+2]=er[nr]^255,er[nr+3]=er[nr+1]^255;for(var ir=0;ir<rr;++ir)er[nr+ir+4]=tr[ir];return(nr+4+rr)*8},wblk=function(er,e,tr,rr,nr,ir,sr,or,ar,lr,cr){wbits(e,cr++,tr),++nr[256];for(var dr=hTree(nr,15),hr=dr.t,ur=dr.l,pr=hTree(ir,15),mr=pr.t,fr=pr.l,gr=lc(hr),yr=gr.c,vr=gr.n,br=lc(mr),Sr=br.c,jr=br.n,Cr=new u16(19),Pr=0;Pr<yr.length;++Pr)++Cr[yr[Pr]&31];for(var Pr=0;Pr<Sr.length;++Pr)++Cr[Sr[Pr]&31];for(var Rr=hTree(Cr,7),Lr=Rr.t,Ir=Rr.l,Nr=19;Nr>4&&!Lr[clim[Nr-1]];--Nr);var Ar=lr+5<<3,Dr=clen(nr,flt)+clen(ir,fdt)+sr,Tr=clen(nr,hr)+clen(ir,mr)+sr+14+3*Nr+clen(Cr,Lr)+2*Cr[16]+3*Cr[17]+7*Cr[18];if(ar>=0&&Ar<=Dr&&Ar<=Tr)return wfblk(e,cr,er.subarray(ar,ar+lr));var _r,wr,Er,xr;if(wbits(e,cr,1+(Tr<Dr)),cr+=2,Tr<Dr){_r=hMap(hr,ur,0),wr=hr,Er=hMap(mr,fr,0),xr=mr;var Mr=hMap(Lr,Ir,0);wbits(e,cr,vr-257),wbits(e,cr+5,jr-1),wbits(e,cr+10,Nr-4),cr+=14;for(var Pr=0;Pr<Nr;++Pr)wbits(e,cr+3*Pr,Lr[clim[Pr]]);cr+=3*Nr;for(var zr=[yr,Sr],Or=0;Or<2;++Or)for(var Br=zr[Or],Pr=0;Pr<Br.length;++Pr){var Ur=Br[Pr]&31;wbits(e,cr,Mr[Ur]),cr+=Lr[Ur],Ur>15&&(wbits(e,cr,Br[Pr]>>5&127),cr+=Br[Pr]>>12)}}else _r=flm,wr=flt,Er=fdm,xr=fdt;for(var Pr=0;Pr<or;++Pr){var qr=rr[Pr];if(qr>255){var Ur=qr>>18&31;wbits16(e,cr,_r[Ur+257]),cr+=wr[Ur+257],Ur>7&&(wbits(e,cr,qr>>23&31),cr+=fleb[Ur]);var Vr=qr&31;wbits16(e,cr,Er[Vr]),cr+=xr[Vr],Vr>3&&(wbits16(e,cr,qr>>5&8191),cr+=fdeb[Vr])}else wbits16(e,cr,_r[qr]),cr+=wr[qr]}return wbits16(e,cr,_r[256]),cr+wr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(er,e,tr,rr,nr,ir){var sr=ir.z||er.length,or=new u8(rr+sr+5*(1+Math.ceil(sr/7e3))+nr),ar=or.subarray(rr,or.length-nr),lr=ir.l,cr=(ir.r||0)&7;if(e){cr&&(ar[0]=ir.r>>3);for(var dr=deo[e-1],hr=dr>>13,ur=dr&8191,pr=(1<<tr)-1,mr=ir.p||new u16(32768),fr=ir.h||new u16(pr+1),gr=Math.ceil(tr/3),yr=2*gr,vr=function(cn){return(er[cn]^er[cn+1]<<gr^er[cn+2]<<yr)&pr},br=new i32(25e3),Sr=new u16(288),jr=new u16(32),Cr=0,Pr=0,Rr=ir.i||0,Lr=0,Ir=ir.w||0,Nr=0;Rr+2<sr;++Rr){var Ar=vr(Rr),Dr=Rr&32767,Tr=fr[Ar];if(mr[Dr]=Tr,fr[Ar]=Dr,Ir<=Rr){var _r=sr-Rr;if((Cr>7e3||Lr>24576)&&(_r>423||!lr)){cr=wblk(er,ar,0,br,Sr,jr,Pr,Lr,Nr,Rr-Nr,cr),Lr=Cr=Pr=0,Nr=Rr;for(var wr=0;wr<286;++wr)Sr[wr]=0;for(var wr=0;wr<30;++wr)jr[wr]=0}var Er=2,xr=0,Mr=ur,zr=Dr-Tr&32767;if(_r>2&&Ar==vr(Rr-zr))for(var Or=Math.min(hr,_r)-1,Br=Math.min(32767,Rr),Ur=Math.min(258,_r);zr<=Br&&--Mr&&Dr!=Tr;){if(er[Rr+Er]==er[Rr+Er-zr]){for(var qr=0;qr<Ur&&er[Rr+qr]==er[Rr+qr-zr];++qr);if(qr>Er){if(Er=qr,xr=zr,qr>Or)break;for(var Vr=Math.min(zr,qr-2),Gr=0,wr=0;wr<Vr;++wr){var $r=Rr-zr+wr&32767,Fr=mr[$r],Kr=$r-Fr&32767;Kr>Gr&&(Gr=Kr,Tr=$r)}}}Dr=Tr,Tr=mr[Dr],zr+=Dr-Tr&32767}if(xr){br[Lr++]=268435456|revfl[Er]<<18|revfd[xr];var Zr=revfl[Er]&31,nn=revfd[xr]&31;Pr+=fleb[Zr]+fdeb[nn],++Sr[257+Zr],++jr[nn],Ir=Rr+Er,++Cr}else br[Lr++]=er[Rr],++Sr[er[Rr]]}}for(Rr=Math.max(Rr,Ir);Rr<sr;++Rr)br[Lr++]=er[Rr],++Sr[er[Rr]];cr=wblk(er,ar,lr,br,Sr,jr,Pr,Lr,Nr,Rr-Nr,cr),lr||(ir.r=cr&7|ar[cr/8|0]<<3,cr-=7,ir.h=fr,ir.p=mr,ir.i=Rr,ir.w=Ir)}else{for(var Rr=ir.w||0;Rr<sr+lr;Rr+=65535){var Qr=Rr+65535;Qr>=sr&&(ar[cr/8|0]=lr,Qr=sr),cr=wfblk(ar,cr+1,er.subarray(Rr,Qr))}ir.i=sr}return slc(or,0,rr+shft(cr)+nr)},adler=function(){var er=1,e=0;return{p:function(tr){for(var rr=er,nr=e,ir=tr.length|0,sr=0;sr!=ir;){for(var or=Math.min(sr+2655,ir);sr<or;++sr)nr+=rr+=tr[sr];rr=(rr&65535)+15*(rr>>16),nr=(nr&65535)+15*(nr>>16)}er=rr,e=nr},d:function(){return er%=65521,e%=65521,(er&255)<<24|(er&65280)<<8|(e&255)<<8|e>>8}}},dopt=function(er,e,tr,rr,nr){if(!nr&&(nr={l:1},e.dictionary)){var ir=e.dictionary.subarray(-32768),sr=new u8(ir.length+er.length);sr.set(ir),sr.set(er,ir.length),er=sr,nr.w=ir.length}return dflt(er,e.level==null?6:e.level,e.mem==null?nr.l?Math.ceil(Math.max(8,Math.min(13,Math.log(er.length)))*1.5):20:12+e.mem,tr,rr,nr)},wbytes=function(er,e,tr){for(;tr;++e)er[e]=tr,tr>>>=8},zlh=function(er,e){var tr=e.level,rr=tr==0?0:tr<6?1:tr==9?3:2;if(er[0]=120,er[1]=rr<<6|(e.dictionary&&32),er[1]|=31-(er[0]<<8|er[1])%31,e.dictionary){var nr=adler();nr.p(e.dictionary),wbytes(er,2,nr.d())}},zls=function(er,e){return((er[0]&15)!=8||er[0]>>4>7||(er[0]<<8|er[1])%31)&&err(6,"invalid zlib data"),(er[1]>>5&1)==1&&err(6,"invalid zlib data: "+(er[1]&32?"need":"unexpected")+" dictionary"),(er[1]>>3&4)+2};function zlibSync(er,e){e||(e={});var tr=adler();tr.p(er);var rr=dopt(er,e,e.dictionary?6:2,4);return zlh(rr,e),wbytes(rr,rr.length-4,tr.d()),rr}function unzlibSync(er,e){return inflt(er.subarray(zls(er),-4),{i:2},e,e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(er){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(er){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(er){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(er))}};function o(er,e,tr){var rr=new XMLHttpRequest;rr.open("GET",er),rr.responseType="blob",rr.onload=function(){l(rr.response,e,tr)},rr.onerror=function(){a.error("could not download file")},rr.send()}function s(er){var e=new XMLHttpRequest;e.open("HEAD",er,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(er){try{er.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),er.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(er,e,tr){var rr=n.URL||n.webkitURL,nr=document.createElement("a");e=e||er.name||"download",nr.download=e,nr.rel="noopener",typeof er=="string"?(nr.href=er,nr.origin!==location.origin?s(nr.href)?o(er,e,tr):c(nr,nr.target="_blank"):c(nr)):(nr.href=rr.createObjectURL(er),setTimeout(function(){rr.revokeObjectURL(nr.href)},4e4),setTimeout(function(){c(nr)},0))}:"msSaveOrOpenBlob"in navigator?function(er,e,tr){if(e=e||er.name||"download",typeof er=="string")if(s(er))o(er,e,tr);else{var rr=document.createElement("a");rr.href=er,rr.target="_blank",setTimeout(function(){c(rr)})}else navigator.msSaveOrOpenBlob(function(nr,ir){return ir===void 0?ir={autoBom:!1}:_typeof(ir)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),ir={autoBom:!ir}),ir.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nr.type)?new Blob(["\uFEFF",nr],{type:nr.type}):nr}(er,tr),e)}:function(er,e,tr,rr){if((rr=rr||open("","_blank"))&&(rr.document.title=rr.document.body.innerText="downloading..."),typeof er=="string")return o(er,e,tr);var nr=er.type==="application/octet-stream",ir=/constructor/i.test(n.HTMLElement)||n.safari,sr=/CriOS\/[\d]+/.test(navigator.userAgent);if((sr||nr&&ir)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var or=new FileReader;or.onloadend=function(){var cr=or.result;cr=sr?cr:cr.replace(/^data:[^;]*;/,"data:attachment/file;"),rr?rr.location.href=cr:location=cr,rr=null},or.readAsDataURL(er)}else{var ar=n.URL||n.webkitURL,lr=ar.createObjectURL(er);rr?rr.location=lr:location.href=lr,rr=null,setTimeout(function(){ar.revokeObjectURL(lr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(er){var e;er=er||"",this.ok=!1,er.charAt(0)=="#"&&(er=er.substr(1,6)),er={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[er=(er=er.replace(/ /g,"")).toLowerCase()]||er;for(var tr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(or){return[parseInt(or[1]),parseInt(or[2]),parseInt(or[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(or){return[parseInt(or[1],16),parseInt(or[2],16),parseInt(or[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(or){return[parseInt(or[1]+or[1],16),parseInt(or[2]+or[2],16),parseInt(or[3]+or[3],16)]}}],rr=0;rr<tr.length;rr++){var nr=tr[rr].re,ir=tr[rr].process,sr=nr.exec(er);sr&&(e=ir(sr),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var or=this.r.toString(16),ar=this.g.toString(16),lr=this.b.toString(16);return or.length==1&&(or="0"+or),ar.length==1&&(ar="0"+ar),lr.length==1&&(lr="0"+lr),"#"+or+ar+lr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(er,e){var tr=er[0],rr=er[1],nr=er[2],ir=er[3];tr=g(tr,rr,nr,ir,e[0],7,-680876936),ir=g(ir,tr,rr,nr,e[1],12,-389564586),nr=g(nr,ir,tr,rr,e[2],17,606105819),rr=g(rr,nr,ir,tr,e[3],22,-1044525330),tr=g(tr,rr,nr,ir,e[4],7,-176418897),ir=g(ir,tr,rr,nr,e[5],12,1200080426),nr=g(nr,ir,tr,rr,e[6],17,-1473231341),rr=g(rr,nr,ir,tr,e[7],22,-45705983),tr=g(tr,rr,nr,ir,e[8],7,1770035416),ir=g(ir,tr,rr,nr,e[9],12,-1958414417),nr=g(nr,ir,tr,rr,e[10],17,-42063),rr=g(rr,nr,ir,tr,e[11],22,-1990404162),tr=g(tr,rr,nr,ir,e[12],7,1804603682),ir=g(ir,tr,rr,nr,e[13],12,-40341101),nr=g(nr,ir,tr,rr,e[14],17,-1502002290),tr=m(tr,rr=g(rr,nr,ir,tr,e[15],22,1236535329),nr,ir,e[1],5,-165796510),ir=m(ir,tr,rr,nr,e[6],9,-1069501632),nr=m(nr,ir,tr,rr,e[11],14,643717713),rr=m(rr,nr,ir,tr,e[0],20,-373897302),tr=m(tr,rr,nr,ir,e[5],5,-701558691),ir=m(ir,tr,rr,nr,e[10],9,38016083),nr=m(nr,ir,tr,rr,e[15],14,-660478335),rr=m(rr,nr,ir,tr,e[4],20,-405537848),tr=m(tr,rr,nr,ir,e[9],5,568446438),ir=m(ir,tr,rr,nr,e[14],9,-1019803690),nr=m(nr,ir,tr,rr,e[3],14,-187363961),rr=m(rr,nr,ir,tr,e[8],20,1163531501),tr=m(tr,rr,nr,ir,e[13],5,-1444681467),ir=m(ir,tr,rr,nr,e[2],9,-51403784),nr=m(nr,ir,tr,rr,e[7],14,1735328473),tr=v(tr,rr=m(rr,nr,ir,tr,e[12],20,-1926607734),nr,ir,e[5],4,-378558),ir=v(ir,tr,rr,nr,e[8],11,-2022574463),nr=v(nr,ir,tr,rr,e[11],16,1839030562),rr=v(rr,nr,ir,tr,e[14],23,-35309556),tr=v(tr,rr,nr,ir,e[1],4,-1530992060),ir=v(ir,tr,rr,nr,e[4],11,1272893353),nr=v(nr,ir,tr,rr,e[7],16,-155497632),rr=v(rr,nr,ir,tr,e[10],23,-1094730640),tr=v(tr,rr,nr,ir,e[13],4,681279174),ir=v(ir,tr,rr,nr,e[0],11,-358537222),nr=v(nr,ir,tr,rr,e[3],16,-722521979),rr=v(rr,nr,ir,tr,e[6],23,76029189),tr=v(tr,rr,nr,ir,e[9],4,-640364487),ir=v(ir,tr,rr,nr,e[12],11,-421815835),nr=v(nr,ir,tr,rr,e[15],16,530742520),tr=b(tr,rr=v(rr,nr,ir,tr,e[2],23,-995338651),nr,ir,e[0],6,-198630844),ir=b(ir,tr,rr,nr,e[7],10,1126891415),nr=b(nr,ir,tr,rr,e[14],15,-1416354905),rr=b(rr,nr,ir,tr,e[5],21,-57434055),tr=b(tr,rr,nr,ir,e[12],6,1700485571),ir=b(ir,tr,rr,nr,e[3],10,-1894986606),nr=b(nr,ir,tr,rr,e[10],15,-1051523),rr=b(rr,nr,ir,tr,e[1],21,-2054922799),tr=b(tr,rr,nr,ir,e[8],6,1873313359),ir=b(ir,tr,rr,nr,e[15],10,-30611744),nr=b(nr,ir,tr,rr,e[6],15,-1560198380),rr=b(rr,nr,ir,tr,e[13],21,1309151649),tr=b(tr,rr,nr,ir,e[4],6,-145523070),ir=b(ir,tr,rr,nr,e[11],10,-1120210379),nr=b(nr,ir,tr,rr,e[2],15,718787259),rr=b(rr,nr,ir,tr,e[9],21,-343485551),er[0]=_(tr,er[0]),er[1]=_(rr,er[1]),er[2]=_(nr,er[2]),er[3]=_(ir,er[3])}function p(er,e,tr,rr,nr,ir){return e=_(_(e,er),_(rr,ir)),_(e<<nr|e>>>32-nr,tr)}function g(er,e,tr,rr,nr,ir,sr){return p(e&tr|~e&rr,er,e,nr,ir,sr)}function m(er,e,tr,rr,nr,ir,sr){return p(e&rr|tr&~rr,er,e,nr,ir,sr)}function v(er,e,tr,rr,nr,ir,sr){return p(e^tr^rr,er,e,nr,ir,sr)}function b(er,e,tr,rr,nr,ir,sr){return p(tr^(e|~rr),er,e,nr,ir,sr)}function y(er){var e,tr=er.length,rr=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=er.length;e+=64)d(rr,w(er.substring(e-64,e)));er=er.substring(e-64);var nr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<er.length;e++)nr[e>>2]|=er.charCodeAt(e)<<(e%4<<3);if(nr[e>>2]|=128<<(e%4<<3),e>55)for(d(rr,nr),e=0;e<16;e++)nr[e]=0;return nr[14]=8*tr,d(rr,nr),rr}function w(er){var e,tr=[];for(e=0;e<64;e+=4)tr[e>>2]=er.charCodeAt(e)+(er.charCodeAt(e+1)<<8)+(er.charCodeAt(e+2)<<16)+(er.charCodeAt(e+3)<<24);return tr}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(er){for(var e="",tr=0;tr<4;tr++)e+=N[er>>8*tr+4&15]+N[er>>8*tr&15];return e}function A(er){return String.fromCharCode((255&er)>>0,(65280&er)>>8,(16711680&er)>>16,(4278190080&er)>>24)}function x(er){return y(er).map(A).join("")}var S=function(er){for(var e=0;e<er.length;e++)er[e]=L(er[e]);return er.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(er,e){if(S){var tr=(65535&er)+(65535&e);return(er>>16)+(e>>16)+(tr>>16)<<16|65535&tr}return er+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(er,e){var tr,rr,nr,ir;if(er!==tr){for(var sr=(nr=er,ir=1+(256/er.length>>0),new Array(ir+1).join(nr)),or=[],ar=0;ar<256;ar++)or[ar]=ar;var lr=0;for(ar=0;ar<256;ar++){var cr=or[ar];lr=(lr+cr+sr.charCodeAt(ar))%256,or[ar]=or[lr],or[lr]=cr}tr=er,rr=or}else or=rr;var dr=e.length,hr=0,ur=0,pr="";for(ar=0;ar<dr;ar++)ur=(ur+(cr=or[hr=(hr+1)%256]))%256,or[hr]=or[ur],or[ur]=cr,sr=or[(or[hr]+or[ur])%256],pr+=String.fromCharCode(e.charCodeAt(ar)^sr);return pr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(er,e,tr,rr){this.v=1,this.r=2;var nr=192;er.forEach(function(or){if(k.perm!==void 0)throw new Error("Invalid permission: "+or);nr+=k[or]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ir=(e+this.padding).substr(0,32),sr=(tr+this.padding).substr(0,32);this.O=this.processOwnerPassword(ir,sr),this.P=-(1+(255^nr)),this.encryptionKey=x(ir+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(rr)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(er){if(/[^\u0000-\u00ff]/.test(er))throw new Error("Invalid PDF Name Object: "+er+", Only accept ASCII characters.");for(var e="",tr=er.length,rr=0;rr<tr;rr++){var nr=er.charCodeAt(rr);nr<33||nr===35||nr===37||nr===40||nr===41||nr===47||nr===60||nr===62||nr===91||nr===93||nr===123||nr===125||nr>126?e+="#"+("0"+nr.toString(16)).slice(-2):e+=er[rr]}return e}function C(er){if(_typeof(er)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(tr,rr,nr){if(nr=nr||!1,typeof tr!="string"||typeof rr!="function"||typeof nr!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(tr)||(e[tr]={});var ir=Math.random().toString(35);return e[tr][ir]=[rr,!!nr],ir},this.unsubscribe=function(tr){for(var rr in e)if(e[rr][tr])return delete e[rr][tr],Object.keys(e[rr]).length===0&&delete e[rr],!0;return!1},this.publish=function(tr){if(e.hasOwnProperty(tr)){var rr=Array.prototype.slice.call(arguments,1),nr=[];for(var ir in e[tr]){var sr=e[tr][ir];try{sr[0].apply(er,rr)}catch(or){n.console&&a.error("jsPDF PubSub Error",or.message,or)}sr[1]&&nr.push(ir)}nr.length&&nr.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(er){if(!(this instanceof j))return new j(er);var e="opacity,stroke-opacity".split(",");for(var tr in er)er.hasOwnProperty(tr)&&e.indexOf(tr)>=0&&(this[tr]=er[tr]);this.id="",this.objectNumber=-1}function O(er,e){this.gState=er,this.matrix=e,this.id="",this.objectNumber=-1}function B(er,e,tr,rr,nr){if(!(this instanceof B))return new B(er,e,tr,rr,nr);this.type=er==="axial"?2:3,this.coords=e,this.colors=tr,O.call(this,rr,nr)}function M(er,e,tr,rr,nr){if(!(this instanceof M))return new M(er,e,tr,rr,nr);this.boundingBox=er,this.xStep=e,this.yStep=tr,this.stream="",this.cloneIndex=0,O.call(this,rr,nr)}function E(er){var e,tr=typeof arguments[0]=="string"?arguments[0]:"p",rr=arguments[1],nr=arguments[2],ir=arguments[3],sr=[],or=1,ar=16,lr="S",cr=null;_typeof(er=er||{})==="object"&&(tr=er.orientation,rr=er.unit||rr,nr=er.format||nr,ir=er.compress||er.compressPdf||ir,(cr=er.encryption||null)!==null&&(cr.userPassword=cr.userPassword||"",cr.ownerPassword=cr.ownerPassword||"",cr.userPermissions=cr.userPermissions||[]),or=typeof er.userUnit=="number"?Math.abs(er.userUnit):1,er.precision!==void 0&&(e=er.precision),er.floatPrecision!==void 0&&(ar=er.floatPrecision),lr=er.defaultPathOperation||"S"),sr=er.filters||(ir===!0?["FlateEncode"]:sr),rr=rr||"mm",tr=(""+(tr||"P")).toLowerCase();var dr=er.putOnlyUsedFonts||!1,hr={},ur={internal:{},__private__:{}};ur.__private__.PubSub=C;var pr="1.3",mr=ur.__private__.getPdfVersion=function(){return pr};ur.__private__.setPdfVersion=function(Yr){pr=Yr};var fr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ur.__private__.getPageFormats=function(){return fr};var gr=ur.__private__.getPageFormat=function(Yr){return fr[Yr]};nr=nr||"a4";var yr={COMPAT:"compat",ADVANCED:"advanced"},vr=yr.COMPAT;function br(){this.saveGraphicsState(),en(new Ln(qn,0,0,-qn,0,Go()*qn).toString()+" cm"),this.setFontSize(this.getFontSize()/qn),lr="n",vr=yr.ADVANCED}function Sr(){this.restoreGraphicsState(),lr="S",vr=yr.COMPAT}var jr=ur.__private__.combineFontStyleAndFontWeight=function(Yr,mn){if(Yr=="bold"&&mn=="normal"||Yr=="bold"&&mn==400||Yr=="normal"&&mn=="italic"||Yr=="bold"&&mn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return mn&&(Yr=mn==400||mn==="normal"?Yr==="italic"?"italic":"normal":mn!=700&&mn!=="bold"||Yr!=="normal"?(mn==700?"bold":mn)+""+Yr:"bold"),Yr};ur.advancedAPI=function(Yr){var mn=vr===yr.COMPAT;return mn&&br.call(this),typeof Yr!="function"||(Yr(this),mn&&Sr.call(this)),this},ur.compatAPI=function(Yr){var mn=vr===yr.ADVANCED;return mn&&Sr.call(this),typeof Yr!="function"||(Yr(this),mn&&br.call(this)),this},ur.isAdvancedAPI=function(){return vr===yr.ADVANCED};var Cr,Pr=function(Yr){if(vr!==yr.ADVANCED)throw new Error(Yr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Rr=ur.roundToPrecision=ur.__private__.roundToPrecision=function(Yr,mn){var Fn=e||mn;if(isNaN(Yr)||isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Yr.toFixed(Fn).replace(/0+$/,"")};Cr=ur.hpf=ur.__private__.hpf=typeof ar=="number"?function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(Yr,ar)}:ar==="smart"?function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(Yr,Yr>-1&&Yr<1?16:5)}:function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.hpf");return Rr(Yr,16)};var Lr=ur.f2=ur.__private__.f2=function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.f2");return Rr(Yr,2)},Ir=ur.__private__.f3=function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.f3");return Rr(Yr,3)},Nr=ur.scale=ur.__private__.scale=function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.scale");return vr===yr.COMPAT?Yr*qn:vr===yr.ADVANCED?Yr:void 0},Ar=function(Yr){return vr===yr.COMPAT?Go()-Yr:vr===yr.ADVANCED?Yr:void 0},Dr=function(Yr){return Nr(Ar(Yr))};ur.__private__.setPrecision=ur.setPrecision=function(Yr){typeof parseInt(Yr,10)=="number"&&(e=parseInt(Yr,10))};var Tr,_r="00000000000000000000000000000000",wr=ur.__private__.getFileId=function(){return _r},Er=ur.__private__.setFileId=function(Yr){return _r=Yr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Yr)?Yr.toUpperCase():_r.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),cr!==null&&(yo=new I(cr.userPermissions,cr.userPassword,cr.ownerPassword,_r)),_r};ur.setFileId=function(Yr){return Er(Yr),this},ur.getFileId=function(){return wr()};var xr=ur.__private__.convertDateToPDFDate=function(Yr){var mn=Yr.getTimezoneOffset(),Fn=mn<0?"+":"-",Gn=Math.floor(Math.abs(mn/60)),as=Math.abs(mn%60),As=[Fn,Ur(Gn),"'",Ur(as),"'"].join("");return["D:",Yr.getFullYear(),Ur(Yr.getMonth()+1),Ur(Yr.getDate()),Ur(Yr.getHours()),Ur(Yr.getMinutes()),Ur(Yr.getSeconds()),As].join("")},Mr=ur.__private__.convertPDFDateToDate=function(Yr){var mn=parseInt(Yr.substr(2,4),10),Fn=parseInt(Yr.substr(6,2),10)-1,Gn=parseInt(Yr.substr(8,2),10),as=parseInt(Yr.substr(10,2),10),As=parseInt(Yr.substr(12,2),10),Ds=parseInt(Yr.substr(14,2),10);return new Date(mn,Fn,Gn,as,As,Ds,0)},zr=ur.__private__.setCreationDate=function(Yr){var mn;if(Yr===void 0&&(Yr=new Date),Yr instanceof Date)mn=xr(Yr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Yr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");mn=Yr}return Tr=mn},Or=ur.__private__.getCreationDate=function(Yr){var mn=Tr;return Yr==="jsDate"&&(mn=Mr(Tr)),mn};ur.setCreationDate=function(Yr){return zr(Yr),this},ur.getCreationDate=function(Yr){return Or(Yr)};var Br,Ur=ur.__private__.padd2=function(Yr){return("0"+parseInt(Yr)).slice(-2)},qr=ur.__private__.padd2Hex=function(Yr){return("00"+(Yr=Yr.toString())).substr(Yr.length)},Vr=0,Gr=[],$r=[],Fr=0,Kr=[],Zr=[],nn=!1,Qr=$r,cn=function(){Vr=0,Fr=0,$r=[],Gr=[],Kr=[],us=Wn(),ws=Wn()};ur.__private__.setCustomOutputDestination=function(Yr){nn=!0,Qr=Yr};var dn=function(Yr){nn||(Qr=Yr)};ur.__private__.resetCustomOutputDestination=function(){nn=!1,Qr=$r};var en=ur.__private__.out=function(Yr){return Yr=Yr.toString(),Fr+=Yr.length+1,Qr.push(Yr),Qr},an=ur.__private__.write=function(Yr){return en(arguments.length===1?Yr.toString():Array.prototype.join.call(arguments," "))},tn=ur.__private__.getArrayBuffer=function(Yr){for(var mn=Yr.length,Fn=new ArrayBuffer(mn),Gn=new Uint8Array(Fn);mn--;)Gn[mn]=Yr.charCodeAt(mn);return Fn},sn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ur.__private__.getStandardFonts=function(){return sn};var fn=er.fontSize||16;ur.__private__.setFontSize=ur.setFontSize=function(Yr){return fn=vr===yr.ADVANCED?Yr/qn:Yr,this};var pn,yn=ur.__private__.getFontSize=ur.getFontSize=function(){return vr===yr.COMPAT?fn:fn*qn},Cn=er.R2L||!1;ur.__private__.setR2L=ur.setR2L=function(Yr){return Cn=Yr,this},ur.__private__.getR2L=ur.getR2L=function(){return Cn};var Rn,En=ur.__private__.setZoomMode=function(Yr){var mn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Yr))pn=Yr;else if(isNaN(Yr)){if(mn.indexOf(Yr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Yr+'" is not recognized.');pn=Yr}else pn=parseInt(Yr,10)};ur.__private__.getZoomMode=function(){return pn};var zn,Bn=ur.__private__.setPageMode=function(Yr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Yr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Yr+'" is not recognized.');Rn=Yr};ur.__private__.getPageMode=function(){return Rn};var rs=ur.__private__.setLayoutMode=function(Yr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Yr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Yr+'" is not recognized.');zn=Yr};ur.__private__.getLayoutMode=function(){return zn},ur.__private__.setDisplayMode=ur.setDisplayMode=function(Yr,mn,Fn){return En(Yr),rs(mn),Bn(Fn),this};var cs={title:"",subject:"",author:"",keywords:"",creator:""};ur.__private__.getDocumentProperty=function(Yr){if(Object.keys(cs).indexOf(Yr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return cs[Yr]},ur.__private__.getDocumentProperties=function(){return cs},ur.__private__.setDocumentProperties=ur.setProperties=ur.setDocumentProperties=function(Yr){for(var mn in cs)cs.hasOwnProperty(mn)&&Yr[mn]&&(cs[mn]=Yr[mn]);return this},ur.__private__.setDocumentProperty=function(Yr,mn){if(Object.keys(cs).indexOf(Yr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return cs[Yr]=mn};var _s,qn,vs,fs,xs,Vn={},On={},Mn=[],ds={},In={},ss={},bn={},$n=null,Un=0,Kn=[],hs=new C(ur),ps=er.hotfixes||[],An={},xn={},jn=[],Ln=function Yr(mn,Fn,Gn,as,As,Ds){if(!(this instanceof Yr))return new Yr(mn,Fn,Gn,as,As,Ds);isNaN(mn)&&(mn=1),isNaN(Fn)&&(Fn=0),isNaN(Gn)&&(Gn=0),isNaN(as)&&(as=1),isNaN(As)&&(As=0),isNaN(Ds)&&(Ds=0),this._matrix=[mn,Fn,Gn,as,As,Ds]};Object.defineProperty(Ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Yr){this._matrix[0]=Yr}}),Object.defineProperty(Ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Yr){this._matrix[1]=Yr}}),Object.defineProperty(Ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Yr){this._matrix[2]=Yr}}),Object.defineProperty(Ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Yr){this._matrix[3]=Yr}}),Object.defineProperty(Ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Yr){this._matrix[4]=Yr}}),Object.defineProperty(Ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Yr){this._matrix[5]=Yr}}),Object.defineProperty(Ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(Yr){this._matrix[0]=Yr}}),Object.defineProperty(Ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(Yr){this._matrix[1]=Yr}}),Object.defineProperty(Ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(Yr){this._matrix[2]=Yr}}),Object.defineProperty(Ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(Yr){this._matrix[3]=Yr}}),Object.defineProperty(Ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(Yr){this._matrix[4]=Yr}}),Object.defineProperty(Ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(Yr){this._matrix[5]=Yr}}),Object.defineProperty(Ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ln.prototype.join=function(Yr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Cr).join(Yr)},Ln.prototype.multiply=function(Yr){var mn=Yr.sx*this.sx+Yr.shy*this.shx,Fn=Yr.sx*this.shy+Yr.shy*this.sy,Gn=Yr.shx*this.sx+Yr.sy*this.shx,as=Yr.shx*this.shy+Yr.sy*this.sy,As=Yr.tx*this.sx+Yr.ty*this.shx+this.tx,Ds=Yr.tx*this.shy+Yr.ty*this.sy+this.ty;return new Ln(mn,Fn,Gn,as,As,Ds)},Ln.prototype.decompose=function(){var Yr=this.sx,mn=this.shy,Fn=this.shx,Gn=this.sy,as=this.tx,As=this.ty,Ds=Math.sqrt(Yr*Yr+mn*mn),Vs=(Yr/=Ds)*Fn+(mn/=Ds)*Gn;Fn-=Yr*Vs,Gn-=mn*Vs;var Hr=Math.sqrt(Fn*Fn+Gn*Gn);return Vs/=Hr,Yr*(Gn/=Hr)<mn*(Fn/=Hr)&&(Yr=-Yr,mn=-mn,Vs=-Vs,Ds=-Ds),{scale:new Ln(Ds,0,0,Hr,0,0),translate:new Ln(1,0,0,1,as,As),rotate:new Ln(Yr,mn,-mn,Yr,0,0),skew:new Ln(1,0,Vs,1,0,0)}},Ln.prototype.toString=function(Yr){return this.join(" ")},Ln.prototype.inversed=function(){var Yr=this.sx,mn=this.shy,Fn=this.shx,Gn=this.sy,as=this.tx,As=this.ty,Ds=1/(Yr*Gn-mn*Fn),Vs=Gn*Ds,Hr=-mn*Ds,rn=-Fn*Ds,hn=Yr*Ds;return new Ln(Vs,Hr,rn,hn,-Vs*as-rn*As,-Hr*as-hn*As)},Ln.prototype.applyToPoint=function(Yr){var mn=Yr.x*this.sx+Yr.y*this.shx+this.tx,Fn=Yr.x*this.shy+Yr.y*this.sy+this.ty;return new uu(mn,Fn)},Ln.prototype.applyToRectangle=function(Yr){var mn=this.applyToPoint(Yr),Fn=this.applyToPoint(new uu(Yr.x+Yr.w,Yr.y+Yr.h));return new Cu(mn.x,mn.y,Fn.x-mn.x,Fn.y-mn.y)},Ln.prototype.clone=function(){var Yr=this.sx,mn=this.shy,Fn=this.shx,Gn=this.sy,as=this.tx,As=this.ty;return new Ln(Yr,mn,Fn,Gn,as,As)},ur.Matrix=Ln;var Yn=ur.matrixMult=function(Yr,mn){return mn.multiply(Yr)},Jn=new Ln(1,0,0,1,0,0);ur.unitMatrix=ur.identityMatrix=Jn;var Sn=function(Yr,mn){if(!In[Yr]){var Fn=(mn instanceof B?"Sh":"P")+(Object.keys(ds).length+1).toString(10);mn.id=Fn,In[Yr]=Fn,ds[Fn]=mn,hs.publish("addPattern",mn)}};ur.ShadingPattern=B,ur.TilingPattern=M,ur.addShadingPattern=function(Yr,mn){return Pr("addShadingPattern()"),Sn(Yr,mn),this},ur.beginTilingPattern=function(Yr){Pr("beginTilingPattern()"),ku(Yr.boundingBox[0],Yr.boundingBox[1],Yr.boundingBox[2]-Yr.boundingBox[0],Yr.boundingBox[3]-Yr.boundingBox[1],Yr.matrix)},ur.endTilingPattern=function(Yr,mn){Pr("endTilingPattern()"),mn.stream=Zr[Br].join(`
`),Sn(Yr,mn),hs.publish("endTilingPattern",mn),jn.pop().restore()};var Dn=ur.__private__.newObject=function(){var Yr=Wn();return _i(Yr,!0),Yr},Wn=ur.__private__.newObjectDeferred=function(){return Vr++,Gr[Vr]=function(){return Fr},Vr},_i=function(Yr,mn){return mn=typeof mn=="boolean"&&mn,Gr[Yr]=Fr,mn&&en(Yr+" 0 obj"),Yr},Cs=ur.__private__.newAdditionalObject=function(){var Yr={objId:Wn(),content:""};return Kr.push(Yr),Yr},us=Wn(),ws=Wn(),Ps=ur.__private__.decodeColorString=function(Yr){var mn=Yr.split(" ");if(mn.length!==2||mn[1]!=="g"&&mn[1]!=="G")mn.length===5&&(mn[4]==="k"||mn[4]==="K")&&(mn=[(1-mn[0])*(1-mn[3]),(1-mn[1])*(1-mn[3]),(1-mn[2])*(1-mn[3]),"r"]);else{var Fn=parseFloat(mn[0]);mn=[Fn,Fn,Fn,"r"]}for(var Gn="#",as=0;as<3;as++)Gn+=("0"+Math.floor(255*parseFloat(mn[as])).toString(16)).slice(-2);return Gn},Ts=ur.__private__.encodeColorString=function(Yr){var mn;typeof Yr=="string"&&(Yr={ch1:Yr});var Fn=Yr.ch1,Gn=Yr.ch2,as=Yr.ch3,As=Yr.ch4,Ds=Yr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Fn=="string"&&Fn.charAt(0)!=="#"){var Vs=new f(Fn);if(Vs.ok)Fn=Vs.toHex();else if(!/^\d*\.?\d*$/.test(Fn))throw new Error('Invalid color "'+Fn+'" passed to jsPDF.encodeColorString.')}if(typeof Fn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Fn)&&(Fn="#"+Fn[1]+Fn[1]+Fn[2]+Fn[2]+Fn[3]+Fn[3]),typeof Fn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Fn)){var Hr=parseInt(Fn.substr(1),16);Fn=Hr>>16&255,Gn=Hr>>8&255,as=255&Hr}if(Gn===void 0||As===void 0&&Fn===Gn&&Gn===as)if(typeof Fn=="string")mn=Fn+" "+Ds[0];else switch(Yr.precision){case 2:mn=Lr(Fn/255)+" "+Ds[0];break;case 3:default:mn=Ir(Fn/255)+" "+Ds[0]}else if(As===void 0||_typeof(As)==="object"){if(As&&!isNaN(As.a)&&As.a===0)return mn=["1.","1.","1.",Ds[1]].join(" ");if(typeof Fn=="string")mn=[Fn,Gn,as,Ds[1]].join(" ");else switch(Yr.precision){case 2:mn=[Lr(Fn/255),Lr(Gn/255),Lr(as/255),Ds[1]].join(" ");break;default:case 3:mn=[Ir(Fn/255),Ir(Gn/255),Ir(as/255),Ds[1]].join(" ")}}else if(typeof Fn=="string")mn=[Fn,Gn,as,As,Ds[2]].join(" ");else switch(Yr.precision){case 2:mn=[Lr(Fn),Lr(Gn),Lr(as),Lr(As),Ds[2]].join(" ");break;case 3:default:mn=[Ir(Fn),Ir(Gn),Ir(as),Ir(As),Ds[2]].join(" ")}return mn},Ls=ur.__private__.getFilters=function(){return sr},Os=ur.__private__.putStream=function(Yr){var mn=(Yr=Yr||{}).data||"",Fn=Yr.filters||Ls(),Gn=Yr.alreadyAppliedFilters||[],as=Yr.addLength1||!1,As=mn.length,Ds=Yr.objectId,Vs=function(Js){return Js};if(cr!==null&&Ds===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");cr!==null&&(Vs=yo.encryptor(Ds,0));var Hr={};Fn===!0&&(Fn=["FlateEncode"]);var rn=Yr.additionalKeyValues||[],hn=(Hr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(mn,Fn):{data:mn,reverseChain:[]}).reverseChain+(Array.isArray(Gn)?Gn.join(" "):Gn.toString());if(Hr.data.length!==0&&(rn.push({key:"Length",value:Hr.data.length}),as===!0&&rn.push({key:"Length1",value:As})),hn.length!=0)if(hn.split("/").length-1==1)rn.push({key:"Filter",value:hn});else{rn.push({key:"Filter",value:"["+hn+"]"});for(var Pn=0;Pn<rn.length;Pn+=1)if(rn[Pn].key==="DecodeParms"){for(var ts=[],ys=0;ys<Hr.reverseChain.split("/").length-1;ys+=1)ts.push("null");ts.push(rn[Pn].value),rn[Pn].value="["+ts.join(" ")+"]"}}en("<<");for(var Fs=0;Fs<rn.length;Fs++)en("/"+rn[Fs].key+" "+rn[Fs].value);en(">>"),Hr.data.length!==0&&(en("stream"),en(Vs(Hr.data)),en("endstream"))},zs=ur.__private__.putPage=function(Yr){var mn=Yr.number,Fn=Yr.data,Gn=Yr.objId,as=Yr.contentsObjId;_i(Gn,!0),en("<</Type /Page"),en("/Parent "+Yr.rootDictionaryObjId+" 0 R"),en("/Resources "+Yr.resourceDictionaryObjId+" 0 R"),en("/MediaBox ["+parseFloat(Cr(Yr.mediaBox.bottomLeftX))+" "+parseFloat(Cr(Yr.mediaBox.bottomLeftY))+" "+Cr(Yr.mediaBox.topRightX)+" "+Cr(Yr.mediaBox.topRightY)+"]"),Yr.cropBox!==null&&en("/CropBox ["+Cr(Yr.cropBox.bottomLeftX)+" "+Cr(Yr.cropBox.bottomLeftY)+" "+Cr(Yr.cropBox.topRightX)+" "+Cr(Yr.cropBox.topRightY)+"]"),Yr.bleedBox!==null&&en("/BleedBox ["+Cr(Yr.bleedBox.bottomLeftX)+" "+Cr(Yr.bleedBox.bottomLeftY)+" "+Cr(Yr.bleedBox.topRightX)+" "+Cr(Yr.bleedBox.topRightY)+"]"),Yr.trimBox!==null&&en("/TrimBox ["+Cr(Yr.trimBox.bottomLeftX)+" "+Cr(Yr.trimBox.bottomLeftY)+" "+Cr(Yr.trimBox.topRightX)+" "+Cr(Yr.trimBox.topRightY)+"]"),Yr.artBox!==null&&en("/ArtBox ["+Cr(Yr.artBox.bottomLeftX)+" "+Cr(Yr.artBox.bottomLeftY)+" "+Cr(Yr.artBox.topRightX)+" "+Cr(Yr.artBox.topRightY)+"]"),typeof Yr.userUnit=="number"&&Yr.userUnit!==1&&en("/UserUnit "+Yr.userUnit),hs.publish("putPage",{objId:Gn,pageContext:Kn[mn],pageNumber:mn,page:Fn}),en("/Contents "+as+" 0 R"),en(">>"),en("endobj");var As=Fn.join(`
`);return vr===yr.ADVANCED&&(As+=`
Q`),_i(as,!0),Os({data:As,filters:Ls(),objectId:as}),en("endobj"),Gn},qs=ur.__private__.putPages=function(){var Yr,mn,Fn=[];for(Yr=1;Yr<=Un;Yr++)Kn[Yr].objId=Wn(),Kn[Yr].contentsObjId=Wn();for(Yr=1;Yr<=Un;Yr++)Fn.push(zs({number:Yr,data:Zr[Yr],objId:Kn[Yr].objId,contentsObjId:Kn[Yr].contentsObjId,mediaBox:Kn[Yr].mediaBox,cropBox:Kn[Yr].cropBox,bleedBox:Kn[Yr].bleedBox,trimBox:Kn[Yr].trimBox,artBox:Kn[Yr].artBox,userUnit:Kn[Yr].userUnit,rootDictionaryObjId:us,resourceDictionaryObjId:ws}));_i(us,!0),en("<</Type /Pages");var Gn="/Kids [";for(mn=0;mn<Un;mn++)Gn+=Fn[mn]+" 0 R ";en(Gn+"]"),en("/Count "+Un),en(">>"),en("endobj"),hs.publish("postPutPages")},Ys=function(Yr){hs.publish("putFont",{font:Yr,out:en,newObject:Dn,putStream:Os}),Yr.isAlreadyPutted!==!0&&(Yr.objectNumber=Dn(),en("<<"),en("/Type /Font"),en("/BaseFont /"+F(Yr.postScriptName)),en("/Subtype /Type1"),typeof Yr.encoding=="string"&&en("/Encoding /"+Yr.encoding),en("/FirstChar 32"),en("/LastChar 255"),en(">>"),en("endobj"))},$a=function(){for(var Yr in Vn)Vn.hasOwnProperty(Yr)&&(dr===!1||dr===!0&&hr.hasOwnProperty(Yr))&&Ys(Vn[Yr])},eo=function(Yr){Yr.objectNumber=Dn();var mn=[];mn.push({key:"Type",value:"/XObject"}),mn.push({key:"Subtype",value:"/Form"}),mn.push({key:"BBox",value:"["+[Cr(Yr.x),Cr(Yr.y),Cr(Yr.x+Yr.width),Cr(Yr.y+Yr.height)].join(" ")+"]"}),mn.push({key:"Matrix",value:"["+Yr.matrix.toString()+"]"});var Fn=Yr.pages[1].join(`
`);Os({data:Fn,additionalKeyValues:mn,objectId:Yr.objectNumber}),en("endobj")},mo=function(){for(var Yr in An)An.hasOwnProperty(Yr)&&eo(An[Yr])},_n=function(Yr,mn){var Fn,Gn=[],as=1/(mn-1);for(Fn=0;Fn<1;Fn+=as)Gn.push(Fn);if(Gn.push(1),Yr[0].offset!=0){var As={offset:0,color:Yr[0].color};Yr.unshift(As)}if(Yr[Yr.length-1].offset!=1){var Ds={offset:1,color:Yr[Yr.length-1].color};Yr.push(Ds)}for(var Vs="",Hr=0,rn=0;rn<Gn.length;rn++){for(Fn=Gn[rn];Fn>Yr[Hr+1].offset;)Hr++;var hn=Yr[Hr].offset,Pn=(Fn-hn)/(Yr[Hr+1].offset-hn),ts=Yr[Hr].color,ys=Yr[Hr+1].color;Vs+=qr(Math.round((1-Pn)*ts[0]+Pn*ys[0]).toString(16))+qr(Math.round((1-Pn)*ts[1]+Pn*ys[1]).toString(16))+qr(Math.round((1-Pn)*ts[2]+Pn*ys[2]).toString(16))}return Vs.trim()},Hn=function(Yr,mn){mn||(mn=21);var Fn=Dn(),Gn=_n(Yr.colors,mn),as=[];as.push({key:"FunctionType",value:"0"}),as.push({key:"Domain",value:"[0.0 1.0]"}),as.push({key:"Size",value:"["+mn+"]"}),as.push({key:"BitsPerSample",value:"8"}),as.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),as.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Os({data:Gn,additionalKeyValues:as,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Fn}),en("endobj"),Yr.objectNumber=Dn(),en("<< /ShadingType "+Yr.type),en("/ColorSpace /DeviceRGB");var As="/Coords ["+Cr(parseFloat(Yr.coords[0]))+" "+Cr(parseFloat(Yr.coords[1]))+" ";Yr.type===2?As+=Cr(parseFloat(Yr.coords[2]))+" "+Cr(parseFloat(Yr.coords[3])):As+=Cr(parseFloat(Yr.coords[2]))+" "+Cr(parseFloat(Yr.coords[3]))+" "+Cr(parseFloat(Yr.coords[4]))+" "+Cr(parseFloat(Yr.coords[5])),en(As+="]"),Yr.matrix&&en("/Matrix ["+Yr.matrix.toString()+"]"),en("/Function "+Fn+" 0 R"),en("/Extend [true true]"),en(">>"),en("endobj")},bs=function(Yr,mn){var Fn=Wn(),Gn=Dn();mn.push({resourcesOid:Fn,objectOid:Gn}),Yr.objectNumber=Gn;var as=[];as.push({key:"Type",value:"/Pattern"}),as.push({key:"PatternType",value:"1"}),as.push({key:"PaintType",value:"1"}),as.push({key:"TilingType",value:"1"}),as.push({key:"BBox",value:"["+Yr.boundingBox.map(Cr).join(" ")+"]"}),as.push({key:"XStep",value:Cr(Yr.xStep)}),as.push({key:"YStep",value:Cr(Yr.yStep)}),as.push({key:"Resources",value:Fn+" 0 R"}),Yr.matrix&&as.push({key:"Matrix",value:"["+Yr.matrix.toString()+"]"}),Os({data:Yr.stream,additionalKeyValues:as,objectId:Yr.objectNumber}),en("endobj")},Es=function(Yr){var mn;for(mn in ds)ds.hasOwnProperty(mn)&&(ds[mn]instanceof B?Hn(ds[mn]):ds[mn]instanceof M&&bs(ds[mn],Yr))},$s=function(Yr){for(var mn in Yr.objectNumber=Dn(),en("<<"),Yr)switch(mn){case"opacity":en("/ca "+Lr(Yr[mn]));break;case"stroke-opacity":en("/CA "+Lr(Yr[mn]))}en(">>"),en("endobj")},Rs=function(){var Yr;for(Yr in ss)ss.hasOwnProperty(Yr)&&$s(ss[Yr])},Ns=function(){for(var Yr in en("/XObject <<"),An)An.hasOwnProperty(Yr)&&An[Yr].objectNumber>=0&&en("/"+Yr+" "+An[Yr].objectNumber+" 0 R");hs.publish("putXobjectDict"),en(">>")},ba=function(){yo.oid=Dn(),en("<<"),en("/Filter /Standard"),en("/V "+yo.v),en("/R "+yo.r),en("/U <"+yo.toHexString(yo.U)+">"),en("/O <"+yo.toHexString(yo.O)+">"),en("/P "+yo.P),en(">>"),en("endobj")},Zs=function(){for(var Yr in en("/Font <<"),Vn)Vn.hasOwnProperty(Yr)&&(dr===!1||dr===!0&&hr.hasOwnProperty(Yr))&&en("/"+Yr+" "+Vn[Yr].objectNumber+" 0 R");en(">>")},Qs=function(){if(Object.keys(ds).length>0){for(var Yr in en("/Shading <<"),ds)ds.hasOwnProperty(Yr)&&ds[Yr]instanceof B&&ds[Yr].objectNumber>=0&&en("/"+Yr+" "+ds[Yr].objectNumber+" 0 R");hs.publish("putShadingPatternDict"),en(">>")}},Hs=function(Yr){if(Object.keys(ds).length>0){for(var mn in en("/Pattern <<"),ds)ds.hasOwnProperty(mn)&&ds[mn]instanceof ur.TilingPattern&&ds[mn].objectNumber>=0&&ds[mn].objectNumber<Yr&&en("/"+mn+" "+ds[mn].objectNumber+" 0 R");hs.publish("putTilingPatternDict"),en(">>")}},no=function(){if(Object.keys(ss).length>0){var Yr;for(Yr in en("/ExtGState <<"),ss)ss.hasOwnProperty(Yr)&&ss[Yr].objectNumber>=0&&en("/"+Yr+" "+ss[Yr].objectNumber+" 0 R");hs.publish("putGStateDict"),en(">>")}},Ks=function(Yr){_i(Yr.resourcesOid,!0),en("<<"),en("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zs(),Qs(),Hs(Yr.objectOid),no(),Ns(),en(">>"),en("endobj")},io=function(){var Yr=[];$a(),Rs(),mo(),Es(Yr),hs.publish("putResources"),Yr.forEach(Ks),Ks({resourcesOid:ws,objectOid:Number.MAX_SAFE_INTEGER}),hs.publish("postPutResources")},co=function(){hs.publish("putAdditionalObjects");for(var Yr=0;Yr<Kr.length;Yr++){var mn=Kr[Yr];_i(mn.objId,!0),en(mn.content),en("endobj")}hs.publish("postPutAdditionalObjects")},Ao=function(Yr){On[Yr.fontName]=On[Yr.fontName]||{},On[Yr.fontName][Yr.fontStyle]=Yr.id},Po=function(Yr,mn,Fn,Gn,as){var As={id:"F"+(Object.keys(Vn).length+1).toString(10),postScriptName:Yr,fontName:mn,fontStyle:Fn,encoding:Gn,isStandardFont:as||!1,metadata:{}};return hs.publish("addFont",{font:As,instance:this}),Vn[As.id]=As,Ao(As),As.id},Fo=function(Yr){for(var mn=0,Fn=sn.length;mn<Fn;mn++){var Gn=Po.call(this,Yr[mn][0],Yr[mn][1],Yr[mn][2],sn[mn][3],!0);dr===!1&&(hr[Gn]=!0);var as=Yr[mn][0].split("-");Ao({id:Gn,fontName:as[0],fontStyle:as[1]||""})}hs.publish("addFonts",{fonts:Vn,dictionary:On})},Co=function(Yr){return Yr.foo=function(){try{return Yr.apply(this,arguments)}catch(Gn){var mn=Gn.stack||"";~mn.indexOf(" at ")&&(mn=mn.split(" at ")[1]);var Fn="Error in function "+mn.split(`
`)[0].split("<")[0]+": "+Gn.message;if(!n.console)throw new Error(Fn);n.console.error(Fn,Gn),n.alert&&alert(Fn)}},Yr.foo.bar=Yr,Yr.foo},Xo=function(Yr,mn){var Fn,Gn,as,As,Ds,Vs,Hr,rn,hn;if(as=(mn=mn||{}).sourceEncoding||"Unicode",Ds=mn.outputEncoding,(mn.autoencode||Ds)&&Vn[_s].metadata&&Vn[_s].metadata[as]&&Vn[_s].metadata[as].encoding&&(As=Vn[_s].metadata[as].encoding,!Ds&&Vn[_s].encoding&&(Ds=Vn[_s].encoding),!Ds&&As.codePages&&(Ds=As.codePages[0]),typeof Ds=="string"&&(Ds=As[Ds]),Ds)){for(Hr=!1,Vs=[],Fn=0,Gn=Yr.length;Fn<Gn;Fn++)(rn=Ds[Yr.charCodeAt(Fn)])?Vs.push(String.fromCharCode(rn)):Vs.push(Yr[Fn]),Vs[Fn].charCodeAt(0)>>8&&(Hr=!0);Yr=Vs.join("")}for(Fn=Yr.length;Hr===void 0&&Fn!==0;)Yr.charCodeAt(Fn-1)>>8&&(Hr=!0),Fn--;if(!Hr)return Yr;for(Vs=mn.noBOM?[]:[254,255],Fn=0,Gn=Yr.length;Fn<Gn;Fn++){if((hn=(rn=Yr.charCodeAt(Fn))>>8)>>8)throw new Error("Character at position "+Fn+" of string '"+Yr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vs.push(hn),Vs.push(rn-(hn<<8))}return String.fromCharCode.apply(void 0,Vs)},go=ur.__private__.pdfEscape=ur.pdfEscape=function(Yr,mn){return Xo(Yr,mn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ko=ur.__private__.beginPage=function(Yr){Zr[++Un]=[],Kn[Un]={objId:0,contentsObjId:0,userUnit:Number(or),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Yr[0]),topRightY:Number(Yr[1])}},Ko(Un),dn(Zr[Br])},ro=function(Yr,mn){var Fn,Gn,as;switch(tr=mn||tr,typeof Yr=="string"&&(Fn=gr(Yr.toLowerCase()),Array.isArray(Fn)&&(Gn=Fn[0],as=Fn[1])),Array.isArray(Yr)&&(Gn=Yr[0]*qn,as=Yr[1]*qn),isNaN(Gn)&&(Gn=nr[0],as=nr[1]),(Gn>14400||as>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Gn=Math.min(14400,Gn),as=Math.min(14400,as)),nr=[Gn,as],tr.substr(0,1)){case"l":as>Gn&&(nr=[as,Gn]);break;case"p":Gn>as&&(nr=[as,Gn])}ko(nr),qu(Hu),en(zo),Xu!==0&&en(Xu+" J"),Tu!==0&&en(Tu+" j"),hs.publish("addPage",{pageNumber:Un})},ga=function(Yr){Yr>0&&Yr<=Un&&(Zr.splice(Yr,1),Kn.splice(Yr,1),Un--,Br>Un&&(Br=Un),this.setPage(Br))},Ko=function(Yr){Yr>0&&Yr<=Un&&(Br=Yr)},so=ur.__private__.getNumberOfPages=ur.getNumberOfPages=function(){return Zr.length-1},_l=function(Yr,mn,Fn){var Gn,as=void 0;return Fn=Fn||{},Yr=Yr!==void 0?Yr:Vn[_s].fontName,mn=mn!==void 0?mn:Vn[_s].fontStyle,Gn=Yr.toLowerCase(),On[Gn]!==void 0&&On[Gn][mn]!==void 0?as=On[Gn][mn]:On[Yr]!==void 0&&On[Yr][mn]!==void 0?as=On[Yr][mn]:Fn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Yr+"', '"+mn+"'. Refer to getFontList() for available fonts."),as||Fn.noFallback||(as=On.times[mn])==null&&(as=On.times.normal),as},To=ur.__private__.putInfo=function(){var Yr=Dn(),mn=function(Gn){return Gn};for(var Fn in cr!==null&&(mn=yo.encryptor(Yr,0)),en("<<"),en("/Producer ("+go(mn("jsPDF "+E.version))+")"),cs)cs.hasOwnProperty(Fn)&&cs[Fn]&&en("/"+Fn.substr(0,1).toUpperCase()+Fn.substr(1)+" ("+go(mn(cs[Fn]))+")");en("/CreationDate ("+go(mn(Tr))+")"),en(">>"),en("endobj")},Io=ur.__private__.putCatalog=function(Yr){var mn=(Yr=Yr||{}).rootDictionaryObjId||us;switch(Dn(),en("<<"),en("/Type /Catalog"),en("/Pages "+mn+" 0 R"),pn||(pn="fullwidth"),pn){case"fullwidth":en("/OpenAction [3 0 R /FitH null]");break;case"fullheight":en("/OpenAction [3 0 R /FitV null]");break;case"fullpage":en("/OpenAction [3 0 R /Fit]");break;case"original":en("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Fn=""+pn;Fn.substr(Fn.length-1)==="%"&&(pn=parseInt(pn)/100),typeof pn=="number"&&en("/OpenAction [3 0 R /XYZ null null "+Lr(pn)+"]")}switch(zn||(zn="continuous"),zn){case"continuous":en("/PageLayout /OneColumn");break;case"single":en("/PageLayout /SinglePage");break;case"two":case"twoleft":en("/PageLayout /TwoColumnLeft");break;case"tworight":en("/PageLayout /TwoColumnRight")}Rn&&en("/PageMode /"+Rn),hs.publish("putCatalog"),en(">>"),en("endobj")},xl=ur.__private__.putTrailer=function(){en("trailer"),en("<<"),en("/Size "+(Vr+1)),en("/Root "+Vr+" 0 R"),en("/Info "+(Vr-1)+" 0 R"),cr!==null&&en("/Encrypt "+yo.oid+" 0 R"),en("/ID [ <"+_r+"> <"+_r+"> ]"),en(">>")},Ol=ur.__private__.putHeader=function(){en("%PDF-"+pr),en("%")},eu=ur.__private__.putXRef=function(){var Yr="0000000000";en("xref"),en("0 "+(Vr+1)),en("0000000000 65535 f ");for(var mn=1;mn<=Vr;mn++)typeof Gr[mn]=="function"?en((Yr+Gr[mn]()).slice(-10)+" 00000 n "):Gr[mn]!==void 0?en((Yr+Gr[mn]).slice(-10)+" 00000 n "):en("0000000000 00000 n ")},$o=ur.__private__.buildDocument=function(){cn(),dn($r),hs.publish("buildDocument"),Ol(),qs(),co(),io(),cr!==null&&ba(),To(),Io();var Yr=Fr;return eu(),xl(),en("startxref"),en(""+Yr),en("%%EOF"),dn(Zr[Br]),$r.join(`
`)},Uo=ur.__private__.getBlob=function(Yr){return new Blob([tn(Yr)],{type:"application/pdf"})},Hl=ur.output=ur.__private__.output=Co(function(Yr,mn){switch(typeof(mn=mn||{})=="string"?mn={filename:mn}:mn.filename=mn.filename||"generated.pdf",Yr){case void 0:return $o();case"save":ur.save(mn.filename);break;case"arraybuffer":return tn($o());case"blob":return Uo($o());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Uo($o()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Fn="",Gn=$o();try{Fn=h(Gn)}catch{Fn=h(unescape(encodeURIComponent(Gn)))}return"data:application/pdf;filename="+mn.filename+";base64,"+Fn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var as="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",As=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';mn.pdfObjectUrl&&(as=mn.pdfObjectUrl,As="");var Ds='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+as+'"'+As+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(mn)+");<\/script></body></html>",Vs=n.open();return Vs!==null&&Vs.document.write(Ds),Vs}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(mn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+mn.filename+'" width="500px" height="400px" /></body></html>',rn=n.open();if(rn!==null){rn.document.write(Hr);var hn=this;rn.document.documentElement.querySelector("#pdfViewer").onload=function(){rn.document.title=mn.filename,rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",mn)+'"></iframe></body></html>',ts=n.open();if(ts!==null&&(ts.document.write(Pn),ts.document.title=mn.filename),ts||typeof safari>"u")return ts;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",mn);default:return null}}),Yo=function(Yr){return Array.isArray(ps)===!0&&ps.indexOf(Yr)>-1};switch(rr){case"pt":qn=1;break;case"mm":qn=72/25.4;break;case"cm":qn=72/2.54;break;case"in":qn=72;break;case"px":qn=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":qn=12;break;case"ex":qn=6;break;default:if(typeof rr!="number")throw new Error("Invalid unit: "+rr);qn=rr}var yo=null;zr(),Er();var Kl=function(Yr){return cr!==null?yo.encryptor(Yr,0):function(mn){return mn}},Ml=ur.__private__.getPageInfo=ur.getPageInfo=function(Yr){if(isNaN(Yr)||Yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kn[Yr].objId,pageNumber:Yr,pageContext:Kn[Yr]}},Xs=ur.__private__.getPageInfoByObjId=function(Yr){if(isNaN(Yr)||Yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var mn in Kn)if(Kn[mn].objId===Yr)break;return Ml(mn)},Zo=ur.__private__.getCurrentPageInfo=ur.getCurrentPageInfo=function(){return{objId:Kn[Br].objId,pageNumber:Br,pageContext:Kn[Br]}};ur.addPage=function(){return ro.apply(this,arguments),this},ur.setPage=function(){return Ko.apply(this,arguments),dn.call(this,Zr[Br]),this},ur.insertPage=function(Yr){return this.addPage(),this.movePage(Br,Yr),this},ur.movePage=function(Yr,mn){var Fn,Gn;if(Yr>mn){Fn=Zr[Yr],Gn=Kn[Yr];for(var as=Yr;as>mn;as--)Zr[as]=Zr[as-1],Kn[as]=Kn[as-1];Zr[mn]=Fn,Kn[mn]=Gn,this.setPage(mn)}else if(Yr<mn){Fn=Zr[Yr],Gn=Kn[Yr];for(var As=Yr;As<mn;As++)Zr[As]=Zr[As+1],Kn[As]=Kn[As+1];Zr[mn]=Fn,Kn[mn]=Gn,this.setPage(mn)}return this},ur.deletePage=function(){return ga.apply(this,arguments),this},ur.__private__.text=ur.text=function(Yr,mn,Fn,Gn,as){var As,Ds,Vs,Hr,rn,hn,Pn,ts,ys,Fs=(Gn=Gn||{}).scope||this;if(typeof Yr=="number"&&typeof mn=="number"&&(typeof Fn=="string"||Array.isArray(Fn))){var Js=Fn;Fn=mn,mn=Yr,Yr=Js}if(arguments[3]instanceof Ln?(Pr("The transform parameter of text() with a Matrix value"),ys=as):(Vs=arguments[4],Hr=arguments[5],_typeof(Pn=arguments[3])==="object"&&Pn!==null||(typeof Vs=="string"&&(Hr=Vs,Vs=null),typeof Pn=="string"&&(Hr=Pn,Pn=null),typeof Pn=="number"&&(Vs=Pn,Pn=null),Gn={flags:Pn,angle:Vs,align:Hr})),isNaN(mn)||isNaN(Fn)||Yr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Yr.length===0)return Fs;var ao="",na=!1,po=typeof Gn.lineHeightFactor=="number"?Gn.lineHeightFactor:fo,xo=Fs.internal.scaleFactor;function Ql(Eo){return Eo=Eo.split("	").join(Array(Gn.TabLen||9).join(" ")),go(Eo,Pn)}function Wo(Eo){for(var So,No=Eo.concat(),Lo=[],mu=No.length;mu--;)typeof(So=No.shift())=="string"?Lo.push(So):Array.isArray(Eo)&&(So.length===1||So[1]===void 0&&So[2]===void 0)?Lo.push(So[0]):Lo.push([So[0],So[1],So[2]]);return Lo}function su(Eo,So){var No;if(typeof Eo=="string")No=So(Eo)[0];else if(Array.isArray(Eo)){for(var Lo,mu,kp=Eo.concat(),hp=[],Xp=kp.length;Xp--;)typeof(Lo=kp.shift())=="string"?hp.push(So(Lo)[0]):Array.isArray(Lo)&&typeof Lo[0]=="string"&&(mu=So(Lo[0],Lo[1],Lo[2]),hp.push([mu[0],mu[1],mu[2]]));No=hp}return No}var au=!1,wp=!0;if(typeof Yr=="string")au=!0;else if(Array.isArray(Yr)){var Ep=Yr.concat();Ds=[];for(var ip,Ho=Ep.length;Ho--;)(typeof(ip=Ep.shift())!="string"||Array.isArray(ip)&&typeof ip[0]!="string")&&(wp=!1);au=wp}if(au===!1)throw new Error('Type of text must be string or Array. "'+Yr+'" is not recognized.');typeof Yr=="string"&&(Yr=Yr.match(/[\r?\n]/)?Yr.split(/\r\n|\r|\n/g):[Yr]);var sp=fn/Fs.internal.scaleFactor,ap=sp*(po-1);switch(Gn.baseline){case"bottom":Fn-=ap;break;case"top":Fn+=sp-ap;break;case"hanging":Fn+=sp-2*ap;break;case"middle":Fn+=sp/2-ap}if((hn=Gn.maxWidth||0)>0&&(typeof Yr=="string"?Yr=Fs.splitTextToSize(Yr,hn):Object.prototype.toString.call(Yr)==="[object Array]"&&(Yr=Yr.reduce(function(Eo,So){return Eo.concat(Fs.splitTextToSize(So,hn))},[]))),As={text:Yr,x:mn,y:Fn,options:Gn,mutex:{pdfEscape:go,activeFontKey:_s,fonts:Vn,activeFontSize:fn}},hs.publish("preProcessText",As),Yr=As.text,Vs=(Gn=As.options).angle,!(ys instanceof Ln)&&Vs&&typeof Vs=="number"){Vs*=Math.PI/180,Gn.rotationDirection===0&&(Vs=-Vs),vr===yr.ADVANCED&&(Vs=-Vs);var op=Math.cos(Vs),Sp=Math.sin(Vs);ys=new Ln(op,Sp,-Sp,op,0,0)}else Vs&&Vs instanceof Ln&&(ys=Vs);vr!==yr.ADVANCED||ys||(ys=Jn),(rn=Gn.charSpace||cu)!==void 0&&(ao+=Cr(Nr(rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ts=Gn.horizontalScale)!==void 0&&(ao+=Cr(100*ts)+` Tz
`),Gn.lang;var wl=-1,km=Gn.renderingMode!==void 0?Gn.renderingMode:Gn.stroke,Ap=Fs.internal.getCurrentPageInfo().pageContext;switch(km){case 0:case!1:case"fill":wl=0;break;case 1:case!0:case"stroke":wl=1;break;case 2:case"fillThenStroke":wl=2;break;case 3:case"invisible":wl=3;break;case 4:case"fillAndAddForClipping":wl=4;break;case 5:case"strokeAndAddPathForClipping":wl=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wl=6;break;case 7:case"addToPathForClipping":wl=7}var Hp=Ap.usedRenderingMode!==void 0?Ap.usedRenderingMode:-1;wl!==-1?ao+=wl+` Tr
`:Hp!==-1&&(ao+=`0 Tr
`),wl!==-1&&(Ap.usedRenderingMode=wl),Hr=Gn.align||"left";var Ll,lp=fn*po,qp=Fs.internal.pageSize.getWidth(),Kp=Vn[_s];rn=Gn.charSpace||cu,hn=Gn.maxWidth||0,Pn=Object.assign({autoencode:!0,noBOM:!0},Gn.flags);var ju=[],Yu=function(Eo){return Fs.getStringUnitWidth(Eo,{font:Kp,charSpace:rn,fontSize:fn,doKerning:!1})*fn/xo};if(Object.prototype.toString.call(Yr)==="[object Array]"){var El;Ds=Wo(Yr),Hr!=="left"&&(Ll=Ds.map(Yu));var Qo,Nu=0;if(Hr==="right"){mn-=Ll[0],Yr=[],Ho=Ds.length;for(var hu=0;hu<Ho;hu++)hu===0?(Qo=Cl(mn),El=Do(Fn)):(Qo=Nr(Nu-Ll[hu]),El=-lp),Yr.push([Ds[hu],Qo,El]),Nu=Ll[hu]}else if(Hr==="center"){mn-=Ll[0]/2,Yr=[],Ho=Ds.length;for(var fu=0;fu<Ho;fu++)fu===0?(Qo=Cl(mn),El=Do(Fn)):(Qo=Nr((Nu-Ll[fu])/2),El=-lp),Yr.push([Ds[fu],Qo,El]),Nu=Ll[fu]}else if(Hr==="left"){Yr=[],Ho=Ds.length;for(var cp=0;cp<Ho;cp++)Yr.push(Ds[cp])}else if(Hr==="justify"&&Kp.encoding==="Identity-H"){Yr=[],Ho=Ds.length,hn=hn!==0?hn:qp;for(var pu=0,jo=0;jo<Ho;jo++)if(El=jo===0?Do(Fn):-lp,Qo=jo===0?Cl(mn):pu,jo<Ho-1){var Pp=Nr((hn-Ll[jo])/(Ds[jo].split(" ").length-1)),Jo=Ds[jo].split(" ");Yr.push([Jo[0]+" ",Qo,El]),pu=0;for(var Fl=1;Fl<Jo.length;Fl++){var up=(Yu(Jo[Fl-1]+" "+Jo[Fl])-Yu(Jo[Fl]))*xo+Pp;Fl==Jo.length-1?Yr.push([Jo[Fl],up,0]):Yr.push([Jo[Fl]+" ",up,0]),pu-=up}}else Yr.push([Ds[jo],Qo,El]);Yr.push(["",pu,0])}else{if(Hr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Yr=[],Ho=Ds.length,hn=hn!==0?hn:qp,jo=0;jo<Ho;jo++)El=jo===0?Do(Fn):-lp,Qo=jo===0?Cl(mn):0,jo<Ho-1?ju.push(Cr(Nr((hn-Ll[jo])/(Ds[jo].split(" ").length-1)))):ju.push(0),Yr.push([Ds[jo],Qo,El])}}var Gp=typeof Gn.R2L=="boolean"?Gn.R2L:Cn;Gp===!0&&(Yr=su(Yr,function(Eo,So,No){return[Eo.split("").reverse().join(""),So,No]})),As={text:Yr,x:mn,y:Fn,options:Gn,mutex:{pdfEscape:go,activeFontKey:_s,fonts:Vn,activeFontSize:fn}},hs.publish("postProcessText",As),Yr=As.text,na=As.mutex.isHex||!1;var Tp=Vn[_s].encoding;Tp!=="WinAnsiEncoding"&&Tp!=="StandardEncoding"||(Yr=su(Yr,function(Eo,So,No){return[Ql(Eo),So,No]})),Ds=Wo(Yr),Yr=[];for(var Zu,Qu,Ou,Ju=0,dp=1,_d=Array.isArray(Ds[0])?dp:Ju,Mu="",Cp=function(Eo,So,No){var Lo="";return No instanceof Ln?(No=typeof Gn.angle=="number"?Yn(No,new Ln(1,0,0,1,Eo,So)):Yn(new Ln(1,0,0,1,Eo,So),No),vr===yr.ADVANCED&&(No=Yn(new Ln(1,0,0,-1,0,0),No)),Lo=No.join(" ")+` Tm
`):Lo=Cr(Eo)+" "+Cr(So)+` Td
`,Lo},$l=0;$l<Ds.length;$l++){switch(Mu="",_d){case dp:Ou=(na?"<":"(")+Ds[$l][0]+(na?">":")"),Zu=parseFloat(Ds[$l][1]),Qu=parseFloat(Ds[$l][2]);break;case Ju:Ou=(na?"<":"(")+Ds[$l]+(na?">":")"),Zu=Cl(mn),Qu=Do(Fn)}ju!==void 0&&ju[$l]!==void 0&&(Mu=ju[$l]+` Tw
`),$l===0?Yr.push(Mu+Cp(Zu,Qu,ys)+Ou):_d===Ju?Yr.push(Mu+Ou):_d===dp&&Yr.push(Mu+Cp(Zu,Qu,ys)+Ou)}Yr=_d===Ju?Yr.join(` Tj
T* `):Yr.join(` Tj
`),Yr+=` Tj
`;var Bl=`BT
/`;return Bl+=_s+" "+fn+` Tf
`,Bl+=Cr(fn*po)+` TL
`,Bl+=Yl+`
`,Bl+=ao,Bl+=Yr,en(Bl+="ET"),hr[_s]=!0,Fs};var tu=ur.__private__.clip=ur.clip=function(Yr){return en(Yr==="evenodd"?"W*":"W"),this};ur.clipEvenOdd=function(){return tu("evenodd")},ur.__private__.discardPath=ur.discardPath=function(){return en("n"),this};var Dl=ur.__private__.isValidStyle=function(Yr){var mn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Yr)!==-1&&(mn=!0),mn};ur.__private__.setDefaultPathOperation=ur.setDefaultPathOperation=function(Yr){return Dl(Yr)&&(lr=Yr),this};var ep=ur.__private__.getStyle=ur.getStyle=function(Yr){var mn=lr;switch(Yr){case"D":case"S":mn="S";break;case"F":mn="f";break;case"FD":case"DF":mn="B";break;case"f":case"f*":case"B":case"B*":mn=Yr}return mn},Pl=ur.close=function(){return en("h"),this};ur.stroke=function(){return en("S"),this},ur.fill=function(Yr){return _u("f",Yr),this},ur.fillEvenOdd=function(Yr){return _u("f*",Yr),this},ur.fillStroke=function(Yr){return _u("B",Yr),this},ur.fillStrokeEvenOdd=function(Yr){return _u("B*",Yr),this};var _u=function(Yr,mn){_typeof(mn)==="object"?wu(mn,Yr):en(Yr)},zu=function(Yr){Yr===null||vr===yr.ADVANCED&&Yr===void 0||(Yr=ep(Yr),en(Yr))};function xu(Yr,mn,Fn,Gn,as){var As=new M(mn||this.boundingBox,Fn||this.xStep,Gn||this.yStep,this.gState,as||this.matrix);As.stream=this.stream;var Ds=Yr+"$$"+this.cloneIndex+++"$$";return Sn(Ds,As),As}var wu=function(Yr,mn){var Fn=In[Yr.key],Gn=ds[Fn];if(Gn instanceof B)en("q"),en(tp(mn)),Gn.gState&&ur.setGState(Gn.gState),en(Yr.matrix.toString()+" cm"),en("/"+Fn+" sh"),en("Q");else if(Gn instanceof M){var as=new Ln(1,0,0,-1,0,Go());Yr.matrix&&(as=as.multiply(Yr.matrix||Jn),Fn=xu.call(Gn,Yr.key,Yr.boundingBox,Yr.xStep,Yr.yStep,as).id),en("q"),en("/Pattern cs"),en("/"+Fn+" scn"),Gn.gState&&ur.setGState(Gn.gState),en(mn),en("Q")}},tp=function(Yr){switch(Yr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gl=ur.moveTo=function(Yr,mn){return en(Cr(Nr(Yr))+" "+Cr(Dr(mn))+" m"),this},Tl=ur.lineTo=function(Yr,mn){return en(Cr(Nr(Yr))+" "+Cr(Dr(mn))+" l"),this},Xl=ur.curveTo=function(Yr,mn,Fn,Gn,as,As){return en([Cr(Nr(Yr)),Cr(Dr(mn)),Cr(Nr(Fn)),Cr(Dr(Gn)),Cr(Nr(as)),Cr(Dr(As)),"c"].join(" ")),this};ur.__private__.line=ur.line=function(Yr,mn,Fn,Gn,as){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||isNaN(Gn)||!Dl(as))throw new Error("Invalid arguments passed to jsPDF.line");return vr===yr.COMPAT?this.lines([[Fn-Yr,Gn-mn]],Yr,mn,[1,1],as||"S"):this.lines([[Fn-Yr,Gn-mn]],Yr,mn,[1,1]).stroke()},ur.__private__.lines=ur.lines=function(Yr,mn,Fn,Gn,as,As){var Ds,Vs,Hr,rn,hn,Pn,ts,ys,Fs,Js,ao,na;if(typeof Yr=="number"&&(na=Fn,Fn=mn,mn=Yr,Yr=na),Gn=Gn||[1,1],As=As||!1,isNaN(mn)||isNaN(Fn)||!Array.isArray(Yr)||!Array.isArray(Gn)||!Dl(as)||typeof As!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gl(mn,Fn),Ds=Gn[0],Vs=Gn[1],rn=Yr.length,Js=mn,ao=Fn,Hr=0;Hr<rn;Hr++)(hn=Yr[Hr]).length===2?(Js=hn[0]*Ds+Js,ao=hn[1]*Vs+ao,Tl(Js,ao)):(Pn=hn[0]*Ds+Js,ts=hn[1]*Vs+ao,ys=hn[2]*Ds+Js,Fs=hn[3]*Vs+ao,Js=hn[4]*Ds+Js,ao=hn[5]*Vs+ao,Xl(Pn,ts,ys,Fs,Js,ao));return As&&Pl(),zu(as),this},ur.path=function(Yr){for(var mn=0;mn<Yr.length;mn++){var Fn=Yr[mn],Gn=Fn.c;switch(Fn.op){case"m":Gl(Gn[0],Gn[1]);break;case"l":Tl(Gn[0],Gn[1]);break;case"c":Xl.apply(this,Gn);break;case"h":Pl()}}return this},ur.__private__.rect=ur.rect=function(Yr,mn,Fn,Gn,as){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||isNaN(Gn)||!Dl(as))throw new Error("Invalid arguments passed to jsPDF.rect");return vr===yr.COMPAT&&(Gn=-Gn),en([Cr(Nr(Yr)),Cr(Dr(mn)),Cr(Nr(Fn)),Cr(Nr(Gn)),"re"].join(" ")),zu(as),this},ur.__private__.triangle=ur.triangle=function(Yr,mn,Fn,Gn,as,As,Ds){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||isNaN(Gn)||isNaN(as)||isNaN(As)||!Dl(Ds))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Fn-Yr,Gn-mn],[as-Fn,As-Gn],[Yr-as,mn-As]],Yr,mn,[1,1],Ds,!0),this},ur.__private__.roundedRect=ur.roundedRect=function(Yr,mn,Fn,Gn,as,As,Ds){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||isNaN(Gn)||isNaN(as)||isNaN(As)||!Dl(Ds))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vs=4/3*(Math.SQRT2-1);return as=Math.min(as,.5*Fn),As=Math.min(As,.5*Gn),this.lines([[Fn-2*as,0],[as*Vs,0,as,As-As*Vs,as,As],[0,Gn-2*As],[0,As*Vs,-as*Vs,As,-as,As],[2*as-Fn,0],[-as*Vs,0,-as,-As*Vs,-as,-As],[0,2*As-Gn],[0,-As*Vs,as*Vs,-As,as,-As]],Yr+as,mn,[1,1],Ds,!0),this},ur.__private__.ellipse=ur.ellipse=function(Yr,mn,Fn,Gn,as){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||isNaN(Gn)||!Dl(as))throw new Error("Invalid arguments passed to jsPDF.ellipse");var As=4/3*(Math.SQRT2-1)*Fn,Ds=4/3*(Math.SQRT2-1)*Gn;return Gl(Yr+Fn,mn),Xl(Yr+Fn,mn-Ds,Yr+As,mn-Gn,Yr,mn-Gn),Xl(Yr-As,mn-Gn,Yr-Fn,mn-Ds,Yr-Fn,mn),Xl(Yr-Fn,mn+Ds,Yr-As,mn+Gn,Yr,mn+Gn),Xl(Yr+As,mn+Gn,Yr+Fn,mn+Ds,Yr+Fn,mn),zu(as),this},ur.__private__.circle=ur.circle=function(Yr,mn,Fn,Gn){if(isNaN(Yr)||isNaN(mn)||isNaN(Fn)||!Dl(Gn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Yr,mn,Fn,Fn,Gn)},ur.setFont=function(Yr,mn,Fn){return Fn&&(mn=jr(mn,Fn)),_s=_l(Yr,mn,{disableWarning:!1}),this};var Wu=ur.__private__.getFont=ur.getFont=function(){return Vn[_l.apply(ur,arguments)]};ur.__private__.getFontList=ur.getFontList=function(){var Yr,mn,Fn={};for(Yr in On)if(On.hasOwnProperty(Yr))for(mn in Fn[Yr]=[],On[Yr])On[Yr].hasOwnProperty(mn)&&Fn[Yr].push(mn);return Fn},ur.addFont=function(Yr,mn,Fn,Gn,as){var As=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&As.indexOf(arguments[3])!==-1?as=arguments[3]:arguments[3]&&As.indexOf(arguments[3])==-1&&(Fn=jr(Fn,Gn)),as=as||"Identity-H",Po.call(this,Yr,mn,Fn,as)};var fo,Hu=er.lineWidth||.200025,Eu=ur.__private__.getLineWidth=ur.getLineWidth=function(){return Hu},qu=ur.__private__.setLineWidth=ur.setLineWidth=function(Yr){return Hu=Yr,en(Cr(Nr(Yr))+" w"),this};ur.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Yr,mn){if(Yr=Yr||[],mn=mn||0,isNaN(mn)||!Array.isArray(Yr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Yr=Yr.map(function(Fn){return Cr(Nr(Fn))}).join(" "),mn=Cr(Nr(mn)),en("["+Yr+"] "+mn+" d"),this};var Ku=ur.__private__.getLineHeight=ur.getLineHeight=function(){return fn*fo};ur.__private__.getLineHeight=ur.getLineHeight=function(){return fn*fo};var Gu=ur.__private__.setLineHeightFactor=ur.setLineHeightFactor=function(Yr){return typeof(Yr=Yr||1.15)=="number"&&(fo=Yr),this},lu=ur.__private__.getLineHeightFactor=ur.getLineHeightFactor=function(){return fo};Gu(er.lineHeight);var Cl=ur.__private__.getHorizontalCoordinate=function(Yr){return Nr(Yr)},Do=ur.__private__.getVerticalCoordinate=function(Yr){return vr===yr.ADVANCED?Yr:Kn[Br].mediaBox.topRightY-Kn[Br].mediaBox.bottomLeftY-Nr(Yr)},rp=ur.__private__.getHorizontalCoordinateString=ur.getHorizontalCoordinateString=function(Yr){return Cr(Cl(Yr))},ru=ur.__private__.getVerticalCoordinateString=ur.getVerticalCoordinateString=function(Yr){return Cr(Do(Yr))},zo=er.strokeColor||"0 G";ur.__private__.getStrokeColor=ur.getDrawColor=function(){return Ps(zo)},ur.__private__.setStrokeColor=ur.setDrawColor=function(Yr,mn,Fn,Gn){return zo=Ts({ch1:Yr,ch2:mn,ch3:Fn,ch4:Gn,pdfColorType:"draw",precision:2}),en(zo),this};var Su=er.fillColor||"0 g";ur.__private__.getFillColor=ur.getFillColor=function(){return Ps(Su)},ur.__private__.setFillColor=ur.setFillColor=function(Yr,mn,Fn,Gn){return Su=Ts({ch1:Yr,ch2:mn,ch3:Fn,ch4:Gn,pdfColorType:"fill",precision:2}),en(Su),this};var Yl=er.textColor||"0 g",Au=ur.__private__.getTextColor=ur.getTextColor=function(){return Ps(Yl)};ur.__private__.setTextColor=ur.setTextColor=function(Yr,mn,Fn,Gn){return Yl=Ts({ch1:Yr,ch2:mn,ch3:Fn,ch4:Gn,pdfColorType:"text",precision:3}),this};var cu=er.charSpace,Pu=ur.__private__.getCharSpace=ur.getCharSpace=function(){return parseFloat(cu||0)};ur.__private__.setCharSpace=ur.setCharSpace=function(Yr){if(isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cu=Yr,this};var Xu=0;ur.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ur.__private__.setLineCap=ur.setLineCap=function(Yr){var mn=ur.CapJoinStyles[Yr];if(mn===void 0)throw new Error("Line cap style of '"+Yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xu=mn,en(mn+" J"),this};var Tu=0;ur.__private__.setLineJoin=ur.setLineJoin=function(Yr){var mn=ur.CapJoinStyles[Yr];if(mn===void 0)throw new Error("Line join style of '"+Yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tu=mn,en(mn+" j"),this},ur.__private__.setLineMiterLimit=ur.__private__.setMiterLimit=ur.setLineMiterLimit=ur.setMiterLimit=function(Yr){if(Yr=Yr||0,isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return en(Cr(Nr(Yr))+" M"),this},ur.GState=j,ur.setGState=function(Yr){(Yr=typeof Yr=="string"?ss[bn[Yr]]:nu(null,Yr)).equals($n)||(en("/"+Yr.id+" gs"),$n=Yr)};var nu=function(Yr,mn){if(!Yr||!bn[Yr]){var Fn=!1;for(var Gn in ss)if(ss.hasOwnProperty(Gn)&&ss[Gn].equals(mn)){Fn=!0;break}if(Fn)mn=ss[Gn];else{var as="GS"+(Object.keys(ss).length+1).toString(10);ss[as]=mn,mn.id=as}return Yr&&(bn[Yr]=mn.id),hs.publish("addGState",mn),mn}};ur.addGState=function(Yr,mn){return nu(Yr,mn),this},ur.saveGraphicsState=function(){return en("q"),Mn.push({key:_s,size:fn,color:Yl}),this},ur.restoreGraphicsState=function(){en("Q");var Yr=Mn.pop();return _s=Yr.key,fn=Yr.size,Yl=Yr.color,$n=null,this},ur.setCurrentTransformationMatrix=function(Yr){return en(Yr.toString()+" cm"),this},ur.comment=function(Yr){return en("#"+Yr),this};var uu=function(Yr,mn){var Fn=Yr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Fn},set:function(As){isNaN(As)||(Fn=parseFloat(As))}});var Gn=mn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Gn},set:function(As){isNaN(As)||(Gn=parseFloat(As))}});var as="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return as},set:function(As){as=As.toString()}}),this},Cu=function(Yr,mn,Fn,Gn){uu.call(this,Yr,mn),this.type="rect";var as=Fn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return as},set:function(Ds){isNaN(Ds)||(as=parseFloat(Ds))}});var As=Gn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return As},set:function(Ds){isNaN(Ds)||(As=parseFloat(Ds))}}),this},du=function(){this.page=Un,this.currentPage=Br,this.pages=Zr.slice(0),this.pagesContext=Kn.slice(0),this.x=vs,this.y=fs,this.matrix=xs,this.width=iu(Br),this.height=Go(Br),this.outputDestination=Qr,this.id="",this.objectNumber=-1};du.prototype.restore=function(){Un=this.page,Br=this.currentPage,Kn=this.pagesContext,Zr=this.pages,vs=this.x,fs=this.y,xs=this.matrix,Ru(Br,this.width),Iu(Br,this.height),Qr=this.outputDestination};var ku=function(Yr,mn,Fn,Gn,as){jn.push(new du),Un=Br=0,Zr=[],vs=Yr,fs=mn,xs=as,ko([Fn,Gn])},np=function(Yr){if(xn[Yr])jn.pop().restore();else{var mn=new du,Fn="Xo"+(Object.keys(An).length+1).toString(10);mn.id=Fn,xn[Yr]=Fn,An[Fn]=mn,hs.publish("addFormObject",mn),jn.pop().restore()}};for(var Zl in ur.beginFormObject=function(Yr,mn,Fn,Gn,as){return ku(Yr,mn,Fn,Gn,as),this},ur.endFormObject=function(Yr){return np(Yr),this},ur.doFormObject=function(Yr,mn){var Fn=An[xn[Yr]];return en("q"),en(mn.toString()+" cm"),en("/"+Fn.id+" Do"),en("Q"),this},ur.getFormObject=function(Yr){var mn=An[xn[Yr]];return{x:mn.x,y:mn.y,width:mn.width,height:mn.height,matrix:mn.matrix}},ur.save=function(Yr,mn){return Yr=Yr||"generated.pdf",(mn=mn||{}).returnPromise=mn.returnPromise||!1,mn.returnPromise===!1?(l(Uo($o()),Yr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Fn,Gn){try{var as=l(Uo($o()),Yr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Fn(as)}catch(As){Gn(As.message)}})},E.API)E.API.hasOwnProperty(Zl)&&(Zl==="events"&&E.API.events.length?function(Yr,mn){var Fn,Gn,as;for(as=mn.length-1;as!==-1;as--)Fn=mn[as][0],Gn=mn[as][1],Yr.subscribe.apply(Yr,[Fn].concat(typeof Gn=="function"?[Gn]:Gn))}(hs,E.API.events):ur[Zl]=E.API[Zl]);var iu=ur.getPageWidth=function(Yr){return(Kn[Yr=Yr||Br].mediaBox.topRightX-Kn[Yr].mediaBox.bottomLeftX)/qn},Ru=ur.setPageWidth=function(Yr,mn){Kn[Yr].mediaBox.topRightX=mn*qn+Kn[Yr].mediaBox.bottomLeftX},Go=ur.getPageHeight=function(Yr){return(Kn[Yr=Yr||Br].mediaBox.topRightY-Kn[Yr].mediaBox.bottomLeftY)/qn},Iu=ur.setPageHeight=function(Yr,mn){Kn[Yr].mediaBox.topRightY=mn*qn+Kn[Yr].mediaBox.bottomLeftY};return ur.internal={pdfEscape:go,getStyle:ep,getFont:Wu,getFontSize:yn,getCharSpace:Pu,getTextColor:Au,getLineHeight:Ku,getLineHeightFactor:lu,getLineWidth:Eu,write:an,getHorizontalCoordinate:Cl,getVerticalCoordinate:Do,getCoordinateString:rp,getVerticalCoordinateString:ru,collections:{},newObject:Dn,newAdditionalObject:Cs,newObjectDeferred:Wn,newObjectDeferredBegin:_i,getFilters:Ls,putStream:Os,events:hs,scaleFactor:qn,pageSize:{getWidth:function(){return iu(Br)},setWidth:function(Yr){Ru(Br,Yr)},getHeight:function(){return Go(Br)},setHeight:function(Yr){Iu(Br,Yr)}},encryptionOptions:cr,encryption:yo,getEncryptor:Kl,output:Hl,getNumberOfPages:so,pages:Zr,out:en,f2:Lr,f3:Ir,getPageInfo:Ml,getPageInfoByObjId:Xs,getCurrentPageInfo:Zo,getPDFVersion:mr,Point:uu,Rectangle:Cu,Matrix:Ln,hasHotfix:Yo},Object.defineProperty(ur.internal.pageSize,"width",{get:function(){return iu(Br)},set:function(Yr){Ru(Br,Yr)},enumerable:!0,configurable:!0}),Object.defineProperty(ur.internal.pageSize,"height",{get:function(){return Go(Br)},set:function(Yr){Iu(Br,Yr)},enumerable:!0,configurable:!0}),Fo.call(ur,sn),_s="F1",ro(nr,tr),hs.publish("initialized"),ur}I.prototype.lsbFirstWord=function(er){return String.fromCharCode(er>>0&255,er>>8&255,er>>16&255,er>>24&255)},I.prototype.toHexString=function(er){return er.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(er){for(var e=[],tr=0;tr<er.length;tr+=2)e.push(String.fromCharCode(parseInt(er.substr(tr,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(er,e){return P(x(e).substr(0,5),er)},I.prototype.encryptor=function(er,e){var tr=x(this.encryptionKey+String.fromCharCode(255&er,er>>8&255,er>>16&255,255&e,e>>8&255)).substr(0,10);return function(rr){return P(tr,rr)}},j.prototype.equals=function(er){var e,tr="id,objectNumber,equals";if(!er||_typeof(er)!==_typeof(this))return!1;var rr=0;for(e in this)if(!(tr.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!er.hasOwnProperty(e)||this[e]!==er[e])return!1;rr++}for(e in er)er.hasOwnProperty(e)&&tr.indexOf(e)<0&&rr--;return rr===0},E.API={events:[]},E.version="2.5.2";var q=E.API,D=1,R=function(er){return er.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(er){return er.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(er){return er.toFixed(2)},z=function(er){return er.toFixed(5)};q.__acroform__={};var H=function(er,e){er.prototype=Object.create(e.prototype),er.prototype.constructor=er},W=function(er){return er*D},V=function(er){var e=new ut,tr=At.internal.getHeight(er)||0,rr=At.internal.getWidth(er)||0;return e.BBox=[0,0,Number(U(rr)),Number(U(tr))],e},G=q.__acroform__.setBit=function(er,e){if(er=er||0,e=e||0,isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return er|=1<<e},Y=q.__acroform__.clearBit=function(er,e){if(er=er||0,e=e||0,isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return er&=~(1<<e)},J=q.__acroform__.getBit=function(er,e){if(isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return er&1<<e?1:0},X=q.__acroform__.getBitForPdf=function(er,e){if(isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(er,e-1)},K=q.__acroform__.setBitForPdf=function(er,e){if(isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(er,e-1)},Z=q.__acroform__.clearBitForPdf=function(er,e){if(isNaN(er)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(er,e-1)},$=q.__acroform__.calculateCoordinates=function(er,e){var tr=e.internal.getHorizontalCoordinate,rr=e.internal.getVerticalCoordinate,nr=er[0],ir=er[1],sr=er[2],or=er[3],ar={};return ar.lowerLeft_X=tr(nr)||0,ar.lowerLeft_Y=rr(ir+or)||0,ar.upperRight_X=tr(nr+sr)||0,ar.upperRight_Y=rr(ir)||0,[Number(U(ar.lowerLeft_X)),Number(U(ar.lowerLeft_Y)),Number(U(ar.upperRight_X)),Number(U(ar.upperRight_Y))]},Q=function(er){if(er.appearanceStreamContent)return er.appearanceStreamContent;if(er.V||er.DV){var e=[],tr=er._V||er.DV,rr=tt(er,tr),nr=er.scope.internal.getFont(er.fontName,er.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(er.scope.__private__.encodeColorString(er.color)),e.push("/"+nr+" "+U(rr.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(rr.text),e.push("ET"),e.push("Q"),e.push("EMC");var ir=V(er);return ir.scope=er.scope,ir.stream=e.join(`
`),ir}},tt=function(er,e){var tr=er.fontSize===0?er.maxFontSize:er.fontSize,rr={text:"",fontSize:""},nr=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");nr=er.multiline?nr.map(function(Ir){return Ir.split(`
`)}):nr.map(function(Ir){return[Ir]});var ir=tr,sr=At.internal.getHeight(er)||0;sr=sr<0?-sr:sr;var or=At.internal.getWidth(er)||0;or=or<0?-or:or;var ar=function(Ir,Nr,Ar){if(Ir+1<nr.length){var Dr=Nr+" "+nr[Ir+1][0];return et(Dr,er,Ar).width<=or-4}return!1};ir++;e:for(;ir>0;){e="",ir--;var lr,cr,dr=et("3",er,ir).height,hr=er.multiline?sr-ir:(sr-dr)/2,ur=hr+=2,pr=0,mr=0,fr=0;if(ir<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,er,ir=12).width+", FieldWidth:"+or+`
`;break}for(var gr="",yr=0,vr=0;vr<nr.length;vr++)if(nr.hasOwnProperty(vr)){var br=!1;if(nr[vr].length!==1&&fr!==nr[vr].length-1){if((dr+2)*(yr+2)+2>sr)continue e;gr+=nr[vr][fr],br=!0,mr=vr,vr--}else{gr=(gr+=nr[vr][fr]+" ").substr(gr.length-1)==" "?gr.substr(0,gr.length-1):gr;var Sr=parseInt(vr),jr=ar(Sr,gr,ir),Cr=vr>=nr.length-1;if(jr&&!Cr){gr+=" ",fr=0;continue}if(jr||Cr){if(Cr)mr=Sr;else if(er.multiline&&(dr+2)*(yr+2)+2>sr)continue e}else{if(!er.multiline||(dr+2)*(yr+2)+2>sr)continue e;mr=Sr}}for(var Pr="",Rr=pr;Rr<=mr;Rr++){var Lr=nr[Rr];if(er.multiline){if(Rr===mr){Pr+=Lr[fr]+" ",fr=(fr+1)%Lr.length;continue}if(Rr===pr){Pr+=Lr[Lr.length-1]+" ";continue}}Pr+=Lr[0]+" "}switch(Pr=Pr.substr(Pr.length-1)==" "?Pr.substr(0,Pr.length-1):Pr,cr=et(Pr,er,ir).width,er.textAlign){case"right":lr=or-cr-2;break;case"center":lr=(or-cr)/2;break;case"left":default:lr=2}e+=U(lr)+" "+U(ur)+` Td
`,e+="("+R(Pr)+`) Tj
`,e+=-U(lr)+` 0 Td
`,ur=-(ir+2),cr=0,pr=br?mr:mr+1,yr++,gr=""}break}return rr.text=e,rr.fontSize=ir,rr},et=function(er,e,tr){var rr=e.scope.internal.getFont(e.fontName,e.fontStyle),nr=e.scope.getStringUnitWidth(er,{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr);return{height:e.scope.getStringUnitWidth("3",{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr)*1.5,width:nr}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(er,e){var tr={type:"reference",object:er};e.internal.getPageInfo(er.page).pageContext.annotations.find(function(rr){return rr.type===tr.type&&rr.object===tr.object})===void 0&&e.internal.getPageInfo(er.page).pageContext.annotations.push(tr)},it=function(er,e){for(var tr in er)if(er.hasOwnProperty(tr)){var rr=tr,nr=er[tr];e.internal.newObjectDeferredBegin(nr.objId,!0),_typeof(nr)==="object"&&typeof nr.putStream=="function"&&nr.putStream(),delete er[rr]}},at=function(er,e){if(e.scope=er,er.internal!==void 0&&(er.internal.acroformPlugin===void 0||er.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,er.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),er.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=er.internal.scaleFactor,er.internal.acroformPlugin.acroFormDictionaryRoot=new ht,er.internal.acroformPlugin.acroFormDictionaryRoot.scope=er,er.internal.acroformPlugin.acroFormDictionaryRoot._eventID=er.internal.events.subscribe("postPutResources",function(){(function(tr){tr.internal.events.unsubscribe(tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,tr.internal.acroformPlugin.printedOut=!0})(er)}),er.internal.events.subscribe("buildDocument",function(){(function(tr){tr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var rr=tr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nr in rr)if(rr.hasOwnProperty(nr)){var ir=rr[nr];ir.objId=void 0,ir.hasAnnotation&&nt(ir,tr)}})(er)}),er.internal.events.subscribe("putCatalog",function(){(function(tr){if(tr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");tr.internal.write("/AcroForm "+tr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(er)}),er.internal.events.subscribe("postPutPages",function(tr){(function(rr,nr){var ir=!rr;for(var sr in rr||(nr.internal.newObjectDeferredBegin(nr.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),nr.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),rr=rr||nr.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(rr.hasOwnProperty(sr)){var or=rr[sr],ar=[],lr=or.Rect;if(or.Rect&&(or.Rect=$(or.Rect,nr)),nr.internal.newObjectDeferredBegin(or.objId,!0),or.DA=At.createDefaultAppearanceStream(or),_typeof(or)==="object"&&typeof or.getKeyValueListForStream=="function"&&(ar=or.getKeyValueListForStream()),or.Rect=lr,or.hasAppearanceStream&&!or.appearanceStreamContent){var cr=Q(or);ar.push({key:"AP",value:"<</N "+cr+">>"}),nr.internal.acroformPlugin.xForms.push(cr)}if(or.appearanceStreamContent){var dr="";for(var hr in or.appearanceStreamContent)if(or.appearanceStreamContent.hasOwnProperty(hr)){var ur=or.appearanceStreamContent[hr];if(dr+="/"+hr+" ",dr+="<<",Object.keys(ur).length>=1||Array.isArray(ur)){for(var sr in ur)if(ur.hasOwnProperty(sr)){var pr=ur[sr];typeof pr=="function"&&(pr=pr.call(nr,or)),dr+="/"+sr+" "+pr+" ",nr.internal.acroformPlugin.xForms.indexOf(pr)>=0||nr.internal.acroformPlugin.xForms.push(pr)}}else typeof(pr=ur)=="function"&&(pr=pr.call(nr,or)),dr+="/"+sr+" "+pr,nr.internal.acroformPlugin.xForms.indexOf(pr)>=0||nr.internal.acroformPlugin.xForms.push(pr);dr+=">>"}ar.push({key:"AP",value:`<<
`+dr+">>"})}nr.internal.putStream({additionalKeyValues:ar,objectId:or.objId}),nr.internal.out("endobj")}ir&&it(nr.internal.acroformPlugin.xForms,nr)})(tr,er)}),er.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(er,e,tr){var rr=function(sr){return sr};if(Array.isArray(er)){for(var nr="[",ir=0;ir<er.length;ir++)switch(ir!==0&&(nr+=" "),_typeof(er[ir])){case"boolean":case"number":case"object":nr+=er[ir].toString();break;case"string":er[ir].substr(0,1)!=="/"?(e!==void 0&&tr&&(rr=tr.internal.getEncryptor(e)),nr+="("+R(rr(er[ir].toString()))+")"):nr+=er[ir].toString()}return nr+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(er,e,tr){var rr=function(nr){return nr};return e!==void 0&&tr&&(rr=tr.internal.getEncryptor(e)),(er=er||"").toString(),er="("+R(rr(er))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(er){this._objId=er}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var er=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:er,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var er=[],e=Object.getOwnPropertyNames(this).filter(function(ir){return ir!="content"&&ir!="appearanceStreamContent"&&ir!="scope"&&ir!="objId"&&ir.substring(0,1)!="_"});for(var tr in e)if(Object.getOwnPropertyDescriptor(this,e[tr]).configurable===!1){var rr=e[tr],nr=this[rr];nr&&(Array.isArray(nr)?er.push({key:rr,value:ot(nr,this.objId,this.scope)}):nr instanceof ct?(nr.scope=this.scope,er.push({key:rr,value:nr.objId+" 0 R"})):typeof nr!="function"&&er.push({key:rr,value:nr}))}return er};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var er,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(tr){e=tr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(tr){er=tr.trim()},get:function(){return er||null}})};H(ut,ct);var ht=function(){ct.call(this);var er,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(er){var tr=function(rr){return rr};return this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),"("+R(tr(er))+")"}},set:function(tr){er=tr}})};H(ht,ct);var lt=function er(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(gr){if(isNaN(gr))throw new Error('Invalid value "'+gr+'" for attribute F supplied.');e=gr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(e,3)},set:function(gr){gr?this.F=K(e,3):this.F=Z(e,3)}});var tr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(gr){if(isNaN(gr))throw new Error('Invalid value "'+gr+'" for attribute Ff supplied.');tr=gr}});var rr=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(rr.length!==0)return rr},set:function(gr){rr=gr!==void 0?gr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[0])?0:rr[0]},set:function(gr){rr[0]=gr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[1])?0:rr[1]},set:function(gr){rr[1]=gr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[2])?0:rr[2]},set:function(gr){rr[2]=gr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[3])?0:rr[3]},set:function(gr){rr[3]=gr}});var nr="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return nr},set:function(gr){switch(gr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":nr=gr;break;default:throw new Error('Invalid value "'+gr+'" for attribute FT supplied.')}}});var ir=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ir||ir.length<1){if(this instanceof yt)return;ir="FieldObject"+er.FieldNum++}var gr=function(yr){return yr};return this.scope&&(gr=this.scope.internal.getEncryptor(this.objId)),"("+R(gr(ir))+")"},set:function(gr){ir=gr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ir},set:function(gr){ir=gr}});var sr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return sr},set:function(gr){sr=gr}});var or="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return or},set:function(gr){or=gr}});var ar=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ar},set:function(gr){ar=gr}});var lr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return lr===void 0?50/D:lr},set:function(gr){lr=gr}});var cr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return cr},set:function(gr){cr=gr}});var dr="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!dr||this instanceof yt||this instanceof Nt))return st(dr,this.objId,this.scope)},set:function(gr){gr=gr.toString(),dr=gr}});var hr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(hr)return this instanceof mt?hr:st(hr,this.objId,this.scope)},set:function(gr){gr=gr.toString(),hr=this instanceof mt?gr:gr.substr(0,1)==="("?T(gr.substr(1,gr.length-2)):T(gr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(hr.substr(1,hr.length-1)):hr},set:function(gr){gr=gr.toString(),hr=this instanceof mt?"/"+gr:gr}});var ur=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ur)return ur},set:function(gr){this.V=gr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ur)return this instanceof mt?ur:st(ur,this.objId,this.scope)},set:function(gr){gr=gr.toString(),ur=this instanceof mt?gr:gr.substr(0,1)==="("?T(gr.substr(1,gr.length-2)):T(gr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ur.substr(1,ur.length-1)):ur},set:function(gr){gr=gr.toString(),ur=this instanceof mt?"/"+gr:gr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var pr,mr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return mr},set:function(gr){gr=!!gr,mr=gr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(pr)return pr},set:function(gr){pr=gr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(gr){gr?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(gr){gr?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(gr){gr?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var fr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(fr!==null)return fr},set:function(gr){if([0,1,2].indexOf(gr)===-1)throw new Error('Invalid value "'+gr+'" for attribute Q supplied.');fr=gr}}),Object.defineProperty(this,"textAlign",{get:function(){var gr;switch(fr){case 0:default:gr="left";break;case 1:gr="center";break;case 2:gr="right"}return gr},configurable:!0,enumerable:!0,set:function(gr){switch(gr){case"right":case 2:fr=2;break;case"center":case 1:fr=1;break;case"left":case 0:default:fr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var er=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return er},set:function(tr){er=tr}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(tr){var rr,nr;nr=[],typeof(rr=tr)=="string"&&(nr=function(ir,sr,or){or||(or=1);for(var ar,lr=[];ar=sr.exec(ir);)lr.push(ar[or]);return lr}(rr,/\((.*?)\)/g)),e=nr}}),this.getOptions=function(){return e},this.setOptions=function(tr){e=tr,this.sort&&e.sort()},this.addOption=function(tr){tr=(tr=tr||"").toString(),e.push(tr),this.sort&&e.sort()},this.removeOption=function(tr,rr){for(rr=rr||!1,tr=(tr=tr||"").toString();e.indexOf(tr)!==-1&&(e.splice(e.indexOf(tr),1),rr!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(tr){tr?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(tr){this.combo===!0&&(tr?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(tr){tr?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(tr){tr?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(tr){tr?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(tr){tr?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(tr){tr?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(tr){tr?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(tr){tr?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(tr){tr?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var er,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var tr=function(ir){return ir};if(this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var rr,nr=[];for(rr in nr.push("<<"),e)nr.push("/"+rr+" ("+R(tr(e[rr]))+")");return nr.push(">>"),nr.join(`
`)}},set:function(tr){_typeof(tr)==="object"&&(e=tr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(tr){typeof tr=="string"&&(e.CA=tr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return er.substr(1,er.length-1)},set:function(tr){er="/"+tr}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var er=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return er},set:function(e){er=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var er,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return er},set:function(nr){er=nr}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(nr){e=nr}});var tr,rr={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var nr=function(or){return or};this.scope&&(nr=this.scope.internal.getEncryptor(this.objId));var ir,sr=[];for(ir in sr.push("<<"),rr)sr.push("/"+ir+" ("+R(nr(rr[ir]))+")");return sr.push(">>"),sr.join(`
`)},set:function(nr){_typeof(nr)==="object"&&(rr=nr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return rr.CA||""},set:function(nr){typeof nr=="string"&&(rr.CA=nr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(nr){tr=nr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return tr.substr(1,tr.length-1)},set:function(nr){tr="/"+nr}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(er){if(!("createAppearanceStream"in er)||!("getCA"in er))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var tr=this.Kids[e];tr.appearanceStreamContent=er.createAppearanceStream(tr.optionName),tr.caption=er.getCA()}},bt.prototype.createOption=function(er){var e=new yt;return e.Parent=this,e.optionName=er,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(e){e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(e){e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(e){e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(e){e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(e){e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(e){e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var er=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return er},set:function(e){er=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return er},set:function(e){Number.isInteger(e)&&(er=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(er){er?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=[],rr=er.scope.internal.getFont(er.fontName,er.fontStyle).id,nr=er.scope.__private__.encodeColorString(er.color),ir=tt(er,er.caption);return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(er))+" "+U(At.internal.getHeight(er))+" re"),tr.push("f"),tr.push("BMC"),tr.push("q"),tr.push("0 0 1 rg"),tr.push("/"+rr+" "+U(ir.fontSize)+" Tf "+nr),tr.push("BT"),tr.push(ir.text),tr.push("ET"),tr.push("Q"),tr.push("EMC"),e.stream=tr.join(`
`),e},YesNormal:function(er){var e=V(er);e.scope=er.scope;var tr=er.scope.internal.getFont(er.fontName,er.fontStyle).id,rr=er.scope.__private__.encodeColorString(er.color),nr=[],ir=At.internal.getHeight(er),sr=At.internal.getWidth(er),or=tt(er,er.caption);return nr.push("1 g"),nr.push("0 0 "+U(sr)+" "+U(ir)+" re"),nr.push("f"),nr.push("q"),nr.push("0 0 1 rg"),nr.push("0 0 "+U(sr-1)+" "+U(ir-1)+" re"),nr.push("W"),nr.push("n"),nr.push("0 g"),nr.push("BT"),nr.push("/"+tr+" "+U(or.fontSize)+" Tf "+rr),nr.push(or.text),nr.push("ET"),nr.push("Q"),e.stream=nr.join(`
`),e},OffPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(er))+" "+U(At.internal.getHeight(er))+" re"),tr.push("f"),e.stream=tr.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(er){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[er]=At.RadioButton.Circle.YesNormal,e.D[er]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(er){var e=V(er);e.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=At.internal.Bezier_C,ir=Number((rr*nr).toFixed(5));return tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(er)/2)+" "+z(At.internal.getHeight(er)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+ir+" "+ir+" "+rr+" 0 "+rr+" c"),tr.push("-"+ir+" "+rr+" -"+rr+" "+ir+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+ir+" -"+ir+" -"+rr+" 0 -"+rr+" c"),tr.push(ir+" -"+rr+" "+rr+" -"+ir+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),e.stream=tr.join(`
`),e},YesPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ir=Number((nr*At.internal.Bezier_C).toFixed(5)),sr=Number((rr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(er)/2)+" "+z(At.internal.getHeight(er)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ir+" "+ir+" "+nr+" 0 "+nr+" c"),tr.push("-"+ir+" "+nr+" -"+nr+" "+ir+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ir+" -"+ir+" -"+nr+" 0 -"+nr+" c"),tr.push(ir+" -"+nr+" "+nr+" -"+ir+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),tr.push("0 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(er)/2)+" "+z(At.internal.getHeight(er)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+sr+" "+sr+" "+rr+" 0 "+rr+" c"),tr.push("-"+sr+" "+rr+" -"+rr+" "+sr+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+sr+" -"+sr+" -"+rr+" 0 -"+rr+" c"),tr.push(sr+" -"+rr+" "+rr+" -"+sr+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),e.stream=tr.join(`
`),e},OffPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=[],rr=At.internal.getWidth(er)<=At.internal.getHeight(er)?At.internal.getWidth(er)/4:At.internal.getHeight(er)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ir=Number((nr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(er)/2)+" "+z(At.internal.getHeight(er)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ir+" "+ir+" "+nr+" 0 "+nr+" c"),tr.push("-"+ir+" "+nr+" -"+nr+" "+ir+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ir+" -"+ir+" -"+nr+" 0 -"+nr+" c"),tr.push(ir+" -"+nr+" "+nr+" -"+ir+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),e.stream=tr.join(`
`),e}},Cross:{createAppearanceStream:function(er){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[er]=At.RadioButton.Cross.YesNormal,e.D[er]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(er){var e=V(er);e.scope=er.scope;var tr=[],rr=At.internal.calculateCross(er);return tr.push("q"),tr.push("1 1 "+U(At.internal.getWidth(er)-2)+" "+U(At.internal.getHeight(er)-2)+" re"),tr.push("W"),tr.push("n"),tr.push(U(rr.x1.x)+" "+U(rr.x1.y)+" m"),tr.push(U(rr.x2.x)+" "+U(rr.x2.y)+" l"),tr.push(U(rr.x4.x)+" "+U(rr.x4.y)+" m"),tr.push(U(rr.x3.x)+" "+U(rr.x3.y)+" l"),tr.push("s"),tr.push("Q"),e.stream=tr.join(`
`),e},YesPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=At.internal.calculateCross(er),rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U(At.internal.getWidth(er))+" "+U(At.internal.getHeight(er))+" re"),rr.push("f"),rr.push("q"),rr.push("1 1 "+U(At.internal.getWidth(er)-2)+" "+U(At.internal.getHeight(er)-2)+" re"),rr.push("W"),rr.push("n"),rr.push(U(tr.x1.x)+" "+U(tr.x1.y)+" m"),rr.push(U(tr.x2.x)+" "+U(tr.x2.y)+" l"),rr.push(U(tr.x4.x)+" "+U(tr.x4.y)+" m"),rr.push(U(tr.x3.x)+" "+U(tr.x3.y)+" l"),rr.push("s"),rr.push("Q"),e.stream=rr.join(`
`),e},OffPushDown:function(er){var e=V(er);e.scope=er.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(er))+" "+U(At.internal.getHeight(er))+" re"),tr.push("f"),e.stream=tr.join(`
`),e}}},createDefaultAppearanceStream:function(er){var e=er.scope.internal.getFont(er.fontName,er.fontStyle).id,tr=er.scope.__private__.encodeColorString(er.color);return"/"+e+" "+er.fontSize+" Tf "+tr}};At.internal={Bezier_C:.551915024494,calculateCross:function(er){var e=At.internal.getWidth(er),tr=At.internal.getHeight(er),rr=Math.min(e,tr);return{x1:{x:(e-rr)/2,y:(tr-rr)/2+rr},x2:{x:(e-rr)/2+rr,y:(tr-rr)/2},x3:{x:(e-rr)/2,y:(tr-rr)/2},x4:{x:(e-rr)/2+rr,y:(tr-rr)/2+rr}}}},At.internal.getWidth=function(er){var e=0;return _typeof(er)==="object"&&(e=W(er.Rect[2])),e},At.internal.getHeight=function(er){var e=0;return _typeof(er)==="object"&&(e=W(er.Rect[3])),e};var xt=q.addField=function(er){if(at(this,er),!(er instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=er).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),er.page=er.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};var St=E.AcroForm;function _t(er){return er.reduce(function(e,tr,rr){return e[tr]=rr,e},{})}(function(er){er.__addimage__={};var e="UNKNOWN",tr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},rr=er.__addimage__.getImageFileTypeByImageData=function(Ir,Nr){var Ar,Dr,Tr,_r,wr,Er=e;if((Nr=Nr||e)==="RGBA"||Ir.data!==void 0&&Ir.data instanceof Uint8ClampedArray&&"height"in Ir&&"width"in Ir)return"RGBA";if(jr(Ir))for(wr in tr)for(Tr=tr[wr],Ar=0;Ar<Tr.length;Ar+=1){for(_r=!0,Dr=0;Dr<Tr[Ar].length;Dr+=1)if(Tr[Ar][Dr]!==void 0&&Tr[Ar][Dr]!==Ir[Dr]){_r=!1;break}if(_r===!0){Er=wr;break}}else for(wr in tr)for(Tr=tr[wr],Ar=0;Ar<Tr.length;Ar+=1){for(_r=!0,Dr=0;Dr<Tr[Ar].length;Dr+=1)if(Tr[Ar][Dr]!==void 0&&Tr[Ar][Dr]!==Ir.charCodeAt(Dr)){_r=!1;break}if(_r===!0){Er=wr;break}}return Er===e&&Nr!==e&&(Er=Nr),Er},nr=function Ir(Nr){for(var Ar=this.internal.write,Dr=this.internal.putStream,Tr=(0,this.internal.getFilters)();Tr.indexOf("FlateEncode")!==-1;)Tr.splice(Tr.indexOf("FlateEncode"),1);Nr.objectId=this.internal.newObject();var _r=[];if(_r.push({key:"Type",value:"/XObject"}),_r.push({key:"Subtype",value:"/Image"}),_r.push({key:"Width",value:Nr.width}),_r.push({key:"Height",value:Nr.height}),Nr.colorSpace===fr.INDEXED?_r.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Nr.palette.length/3-1)+" "+("sMask"in Nr&&Nr.sMask!==void 0?Nr.objectId+2:Nr.objectId+1)+" 0 R]"}):(_r.push({key:"ColorSpace",value:"/"+Nr.colorSpace}),Nr.colorSpace===fr.DEVICE_CMYK&&_r.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_r.push({key:"BitsPerComponent",value:Nr.bitsPerComponent}),"decodeParameters"in Nr&&Nr.decodeParameters!==void 0&&_r.push({key:"DecodeParms",value:"<<"+Nr.decodeParameters+">>"}),"transparency"in Nr&&Array.isArray(Nr.transparency)){for(var wr="",Er=0,xr=Nr.transparency.length;Er<xr;Er++)wr+=Nr.transparency[Er]+" "+Nr.transparency[Er]+" ";_r.push({key:"Mask",value:"["+wr+"]"})}Nr.sMask!==void 0&&_r.push({key:"SMask",value:Nr.objectId+1+" 0 R"});var Mr=Nr.filter!==void 0?["/"+Nr.filter]:void 0;if(Dr({data:Nr.data,additionalKeyValues:_r,alreadyAppliedFilters:Mr,objectId:Nr.objectId}),Ar("endobj"),"sMask"in Nr&&Nr.sMask!==void 0){var zr="/Predictor "+Nr.predictor+" /Colors 1 /BitsPerComponent "+Nr.bitsPerComponent+" /Columns "+Nr.width,Or={width:Nr.width,height:Nr.height,colorSpace:"DeviceGray",bitsPerComponent:Nr.bitsPerComponent,decodeParameters:zr,data:Nr.sMask};"filter"in Nr&&(Or.filter=Nr.filter),Ir.call(this,Or)}if(Nr.colorSpace===fr.INDEXED){var Br=this.internal.newObject();Dr({data:Pr(new Uint8Array(Nr.palette)),objectId:Br}),Ar("endobj")}},ir=function(){var Ir=this.internal.collections.addImage_images;for(var Nr in Ir)nr.call(this,Ir[Nr])},sr=function(){var Ir,Nr=this.internal.collections.addImage_images,Ar=this.internal.write;for(var Dr in Nr)Ar("/I"+(Ir=Nr[Dr]).index,Ir.objectId,"0","R")},or=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ir),this.internal.events.subscribe("putXobjectDict",sr))},ar=function(){var Ir=this.internal.collections.addImage_images;return or.call(this),Ir},lr=function(){return Object.keys(this.internal.collections.addImage_images).length},cr=function(Ir){return typeof er["process"+Ir.toUpperCase()]=="function"},dr=function(Ir){return _typeof(Ir)==="object"&&Ir.nodeType===1},hr=function(Ir,Nr){if(Ir.nodeName==="IMG"&&Ir.hasAttribute("src")){var Ar=""+Ir.getAttribute("src");if(Ar.indexOf("data:image/")===0)return u(unescape(Ar).split("base64,").pop());var Dr=er.loadFile(Ar,!0);if(Dr!==void 0)return Dr}if(Ir.nodeName==="CANVAS"){if(Ir.width===0||Ir.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ir.width+", height: "+Ir.height);var Tr;switch(Nr){case"PNG":Tr="image/png";break;case"WEBP":Tr="image/webp";break;case"JPEG":case"JPG":default:Tr="image/jpeg"}return u(Ir.toDataURL(Tr,1).split("base64,").pop())}},ur=function(Ir){var Nr=this.internal.collections.addImage_images;if(Nr){for(var Ar in Nr)if(Ir===Nr[Ar].alias)return Nr[Ar]}},pr=function(Ir,Nr,Ar){return Ir||Nr||(Ir=-96,Nr=-96),Ir<0&&(Ir=-1*Ar.width*72/Ir/this.internal.scaleFactor),Nr<0&&(Nr=-1*Ar.height*72/Nr/this.internal.scaleFactor),Ir===0&&(Ir=Nr*Ar.width/Ar.height),Nr===0&&(Nr=Ir*Ar.height/Ar.width),[Ir,Nr]},mr=function(Ir,Nr,Ar,Dr,Tr,_r){var wr=pr.call(this,Ar,Dr,Tr),Er=this.internal.getCoordinateString,xr=this.internal.getVerticalCoordinateString,Mr=ar.call(this);if(Ar=wr[0],Dr=wr[1],Mr[Tr.index]=Tr,_r){_r*=Math.PI/180;var zr=Math.cos(_r),Or=Math.sin(_r),Br=function(qr){return qr.toFixed(4)},Ur=[Br(zr),Br(Or),Br(-1*Or),Br(zr),0,0,"cm"]}this.internal.write("q"),_r?(this.internal.write([1,"0","0",1,Er(Ir),xr(Nr+Dr),"cm"].join(" ")),this.internal.write(Ur.join(" ")),this.internal.write([Er(Ar),"0","0",Er(Dr),"0","0","cm"].join(" "))):this.internal.write([Er(Ar),"0","0",Er(Dr),Er(Ir),xr(Nr+Dr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tr.index+" Do"),this.internal.write("Q")},fr=er.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};er.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var gr=er.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},yr=er.__addimage__.sHashCode=function(Ir){var Nr,Ar,Dr=0;if(typeof Ir=="string")for(Ar=Ir.length,Nr=0;Nr<Ar;Nr++)Dr=(Dr<<5)-Dr+Ir.charCodeAt(Nr),Dr|=0;else if(jr(Ir))for(Ar=Ir.byteLength/2,Nr=0;Nr<Ar;Nr++)Dr=(Dr<<5)-Dr+Ir[Nr],Dr|=0;return Dr},vr=er.__addimage__.validateStringAsBase64=function(Ir){(Ir=Ir||"").toString().trim();var Nr=!0;return Ir.length===0&&(Nr=!1),Ir.length%4!=0&&(Nr=!1),/^[A-Za-z0-9+/]+$/.test(Ir.substr(0,Ir.length-2))===!1&&(Nr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ir.substr(-2))===!1&&(Nr=!1),Nr},br=er.__addimage__.extractImageFromDataUrl=function(Ir){var Nr=(Ir=Ir||"").split("base64,"),Ar=null;if(Nr.length===2){var Dr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Nr[0]);Array.isArray(Dr)&&(Ar={mimeType:Dr[1],charset:Dr[2],data:Nr[1]})}return Ar},Sr=er.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};er.__addimage__.isArrayBuffer=function(Ir){return Sr()&&Ir instanceof ArrayBuffer};var jr=er.__addimage__.isArrayBufferView=function(Ir){return Sr()&&typeof Uint32Array<"u"&&(Ir instanceof Int8Array||Ir instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ir instanceof Uint8ClampedArray||Ir instanceof Int16Array||Ir instanceof Uint16Array||Ir instanceof Int32Array||Ir instanceof Uint32Array||Ir instanceof Float32Array||Ir instanceof Float64Array)},Cr=er.__addimage__.binaryStringToUint8Array=function(Ir){for(var Nr=Ir.length,Ar=new Uint8Array(Nr),Dr=0;Dr<Nr;Dr++)Ar[Dr]=Ir.charCodeAt(Dr);return Ar},Pr=er.__addimage__.arrayBufferToBinaryString=function(Ir){for(var Nr="",Ar=jr(Ir)?Ir:new Uint8Array(Ir),Dr=0;Dr<Ar.length;Dr+=8192)Nr+=String.fromCharCode.apply(null,Ar.subarray(Dr,Dr+8192));return Nr};er.addImage=function(){var Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr;if(typeof arguments[1]=="number"?(Nr=e,Ar=arguments[1],Dr=arguments[2],Tr=arguments[3],_r=arguments[4],wr=arguments[5],Er=arguments[6],xr=arguments[7]):(Nr=arguments[1],Ar=arguments[2],Dr=arguments[3],Tr=arguments[4],_r=arguments[5],wr=arguments[6],Er=arguments[7],xr=arguments[8]),_typeof(Ir=arguments[0])==="object"&&!dr(Ir)&&"imageData"in Ir){var Mr=Ir;Ir=Mr.imageData,Nr=Mr.format||Nr||e,Ar=Mr.x||Ar||0,Dr=Mr.y||Dr||0,Tr=Mr.w||Mr.width||Tr,_r=Mr.h||Mr.height||_r,wr=Mr.alias||wr,Er=Mr.compression||Er,xr=Mr.rotation||Mr.angle||xr}var zr=this.internal.getFilters();if(Er===void 0&&zr.indexOf("FlateEncode")!==-1&&(Er="SLOW"),isNaN(Ar)||isNaN(Dr))throw new Error("Invalid coordinates passed to jsPDF.addImage");or.call(this);var Or=Rr.call(this,Ir,Nr,wr,Er);return mr.call(this,Ar,Dr,Tr,_r,Or,xr),this};var Rr=function(Ir,Nr,Ar,Dr){var Tr,_r,wr;if(typeof Ir=="string"&&rr(Ir)===e){Ir=unescape(Ir);var Er=Lr(Ir,!1);(Er!==""||(Er=er.loadFile(Ir,!0))!==void 0)&&(Ir=Er)}if(dr(Ir)&&(Ir=hr(Ir,Nr)),Nr=rr(Ir,Nr),!cr(Nr))throw new Error("addImage does not support files of type '"+Nr+"', please ensure that a plugin for '"+Nr+"' support is added.");if(((wr=Ar)==null||wr.length===0)&&(Ar=function(xr){return typeof xr=="string"||jr(xr)?yr(xr):jr(xr.data)?yr(xr.data):null}(Ir)),(Tr=ur.call(this,Ar))||(Sr()&&(Ir instanceof Uint8Array||Nr==="RGBA"||(_r=Ir,Ir=Cr(Ir))),Tr=this["process"+Nr.toUpperCase()](Ir,lr.call(this),Ar,function(xr){return xr&&typeof xr=="string"&&(xr=xr.toUpperCase()),xr in er.image_compression?xr:gr.NONE}(Dr),_r)),!Tr)throw new Error("An unknown error occurred whilst processing the image.");return Tr},Lr=er.__addimage__.convertBase64ToBinaryString=function(Ir,Nr){var Ar;Nr=typeof Nr!="boolean"||Nr;var Dr,Tr="";if(typeof Ir=="string"){Dr=(Ar=br(Ir))!==null?Ar.data:Ir;try{Tr=u(Dr)}catch(_r){if(Nr)throw vr(Dr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_r.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tr};er.getImageProperties=function(Ir){var Nr,Ar,Dr="";if(dr(Ir)&&(Ir=hr(Ir)),typeof Ir=="string"&&rr(Ir)===e&&((Dr=Lr(Ir,!1))===""&&(Dr=er.loadFile(Ir)||""),Ir=Dr),Ar=rr(Ir),!cr(Ar))throw new Error("addImage does not support files of type '"+Ar+"', please ensure that a plugin for '"+Ar+"' support is added.");if(!Sr()||Ir instanceof Uint8Array||(Ir=Cr(Ir)),!(Nr=this["process"+Ar.toUpperCase()](Ir)))throw new Error("An unknown error occurred whilst processing the image");return Nr.fileType=Ar,Nr}})(E.API),function(er){var e=function(tr){if(tr!==void 0&&tr!="")return!0};E.API.events.push(["addPage",function(tr){this.internal.getPageInfo(tr.pageNumber).pageContext.annotations=[]}]),er.events.push(["putPage",function(tr){for(var rr,nr,ir,sr=this.internal.getCoordinateString,or=this.internal.getVerticalCoordinateString,ar=this.internal.getPageInfoByObjId(tr.objId),lr=tr.pageContext.annotations,cr=!1,dr=0;dr<lr.length&&!cr;dr++)switch((rr=lr[dr]).type){case"link":(e(rr.options.url)||e(rr.options.pageNumber))&&(cr=!0);break;case"reference":case"text":case"freetext":cr=!0}if(cr!=0){this.internal.write("/Annots [");for(var hr=0;hr<lr.length;hr++){rr=lr[hr];var ur=this.internal.pdfEscape,pr=this.internal.getEncryptor(tr.objId);switch(rr.type){case"reference":this.internal.write(" "+rr.object.objId+" 0 R ");break;case"text":var mr=this.internal.newAdditionalObject(),fr=this.internal.newAdditionalObject(),gr=this.internal.getEncryptor(mr.objId),yr=rr.title||"Note";ir="<</Type /Annot /Subtype /Text "+(nr="/Rect ["+sr(rr.bounds.x)+" "+or(rr.bounds.y+rr.bounds.h)+" "+sr(rr.bounds.x+rr.bounds.w)+" "+or(rr.bounds.y)+"] ")+"/Contents ("+ur(gr(rr.contents))+")",ir+=" /Popup "+fr.objId+" 0 R",ir+=" /P "+ar.objId+" 0 R",ir+=" /T ("+ur(gr(yr))+") >>",mr.content=ir;var vr=mr.objId+" 0 R";ir="<</Type /Annot /Subtype /Popup "+(nr="/Rect ["+sr(rr.bounds.x+30)+" "+or(rr.bounds.y+rr.bounds.h)+" "+sr(rr.bounds.x+rr.bounds.w+30)+" "+or(rr.bounds.y)+"] ")+" /Parent "+vr,rr.open&&(ir+=" /Open true"),ir+=" >>",fr.content=ir,this.internal.write(mr.objId,"0 R",fr.objId,"0 R");break;case"freetext":nr="/Rect ["+sr(rr.bounds.x)+" "+or(rr.bounds.y)+" "+sr(rr.bounds.x+rr.bounds.w)+" "+or(rr.bounds.y+rr.bounds.h)+"] ";var br=rr.color||"#000000";ir="<</Type /Annot /Subtype /FreeText "+nr+"/Contents ("+ur(pr(rr.contents))+")",ir+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+br+")",ir+=" /Border [0 0 0]",ir+=" >>",this.internal.write(ir);break;case"link":if(rr.options.name){var Sr=this.annotations._nameMap[rr.options.name];rr.options.pageNumber=Sr.page,rr.options.top=Sr.y}else rr.options.top||(rr.options.top=0);if(nr="/Rect ["+rr.finalBounds.x+" "+rr.finalBounds.y+" "+rr.finalBounds.w+" "+rr.finalBounds.h+"] ",ir="",rr.options.url)ir="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /A <</S /URI /URI ("+ur(pr(rr.options.url))+") >>";else if(rr.options.pageNumber)switch(ir="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(rr.options.pageNumber).objId+" 0 R",rr.options.magFactor=rr.options.magFactor||"XYZ",rr.options.magFactor){case"Fit":ir+=" /Fit]";break;case"FitH":ir+=" /FitH "+rr.options.top+"]";break;case"FitV":rr.options.left=rr.options.left||0,ir+=" /FitV "+rr.options.left+"]";break;case"XYZ":default:var jr=or(rr.options.top);rr.options.left=rr.options.left||0,rr.options.zoom===void 0&&(rr.options.zoom=0),ir+=" /XYZ "+rr.options.left+" "+jr+" "+rr.options.zoom+"]"}ir!=""&&(ir+=" >>",this.internal.write(ir))}}this.internal.write("]")}}]),er.createAnnotation=function(tr){var rr=this.internal.getCurrentPageInfo();switch(tr.type){case"link":this.link(tr.bounds.x,tr.bounds.y,tr.bounds.w,tr.bounds.h,tr);break;case"text":case"freetext":rr.pageContext.annotations.push(tr)}},er.link=function(tr,rr,nr,ir,sr){var or=this.internal.getCurrentPageInfo(),ar=this.internal.getCoordinateString,lr=this.internal.getVerticalCoordinateString;or.pageContext.annotations.push({finalBounds:{x:ar(tr),y:lr(rr),w:ar(tr+nr),h:lr(rr+ir)},options:sr,type:"link"})},er.textWithLink=function(tr,rr,nr,ir){var sr,or,ar=this.getTextWidth(tr),lr=this.internal.getLineHeight()/this.internal.scaleFactor;if(ir.maxWidth!==void 0){or=ir.maxWidth;var cr=this.splitTextToSize(tr,or).length;sr=Math.ceil(lr*cr)}else or=ar,sr=lr;return this.text(tr,rr,nr,ir),nr+=.2*lr,ir.align==="center"&&(rr-=ar/2),ir.align==="right"&&(rr-=ar),this.link(rr,nr-lr,or,sr,ir),ar},er.getTextWidth=function(tr){var rr=this.internal.getFontSize();return this.getStringUnitWidth(tr)*rr/this.internal.scaleFactor}}(E.API),function(er){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},tr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},rr={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},nr=[1570,1571,1573,1575];er.__arabicParser__={};var ir=er.__arabicParser__.isInArabicSubstitutionA=function(mr){return e[mr.charCodeAt(0)]!==void 0},sr=er.__arabicParser__.isArabicLetter=function(mr){return typeof mr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(mr)},or=er.__arabicParser__.isArabicEndLetter=function(mr){return sr(mr)&&ir(mr)&&e[mr.charCodeAt(0)].length<=2},ar=er.__arabicParser__.isArabicAlfLetter=function(mr){return sr(mr)&&nr.indexOf(mr.charCodeAt(0))>=0};er.__arabicParser__.arabicLetterHasIsolatedForm=function(mr){return sr(mr)&&ir(mr)&&e[mr.charCodeAt(0)].length>=1};var lr=er.__arabicParser__.arabicLetterHasFinalForm=function(mr){return sr(mr)&&ir(mr)&&e[mr.charCodeAt(0)].length>=2};er.__arabicParser__.arabicLetterHasInitialForm=function(mr){return sr(mr)&&ir(mr)&&e[mr.charCodeAt(0)].length>=3};var cr=er.__arabicParser__.arabicLetterHasMedialForm=function(mr){return sr(mr)&&ir(mr)&&e[mr.charCodeAt(0)].length==4},dr=er.__arabicParser__.resolveLigatures=function(mr){var fr=0,gr=tr,yr="",vr=0;for(fr=0;fr<mr.length;fr+=1)gr[mr.charCodeAt(fr)]!==void 0?(vr++,typeof(gr=gr[mr.charCodeAt(fr)])=="number"&&(yr+=String.fromCharCode(gr),gr=tr,vr=0),fr===mr.length-1&&(gr=tr,yr+=mr.charAt(fr-(vr-1)),fr-=vr-1,vr=0)):(gr=tr,yr+=mr.charAt(fr-vr),fr-=vr,vr=0);return yr};er.__arabicParser__.isArabicDiacritic=function(mr){return mr!==void 0&&rr[mr.charCodeAt(0)]!==void 0};var hr=er.__arabicParser__.getCorrectForm=function(mr,fr,gr){return sr(mr)?ir(mr)===!1?-1:!lr(mr)||!sr(fr)&&!sr(gr)||!sr(gr)&&or(fr)||or(mr)&&!sr(fr)||or(mr)&&ar(fr)||or(mr)&&or(fr)?0:cr(mr)&&sr(fr)&&!or(fr)&&sr(gr)&&lr(gr)?3:or(mr)||!sr(gr)?1:2:-1},ur=function(mr){var fr=0,gr=0,yr=0,vr="",br="",Sr="",jr=(mr=mr||"").split("\\s+"),Cr=[];for(fr=0;fr<jr.length;fr+=1){for(Cr.push(""),gr=0;gr<jr[fr].length;gr+=1)vr=jr[fr][gr],br=jr[fr][gr-1],Sr=jr[fr][gr+1],sr(vr)?(yr=hr(vr,br,Sr),Cr[fr]+=yr!==-1?String.fromCharCode(e[vr.charCodeAt(0)][yr]):vr):Cr[fr]+=vr;Cr[fr]=dr(Cr[fr])}return Cr.join(" ")},pr=er.__arabicParser__.processArabic=er.processArabic=function(){var mr,fr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,gr=[];if(Array.isArray(fr)){var yr=0;for(gr=[],yr=0;yr<fr.length;yr+=1)Array.isArray(fr[yr])?gr.push([ur(fr[yr][0]),fr[yr][1],fr[yr][2]]):gr.push([ur(fr[yr])]);mr=gr}else mr=ur(fr);return typeof arguments[0]=="string"?mr:(arguments[0].text=mr,arguments[0])};er.events.push(["preProcessText",pr])}(E.API),E.API.autoPrint=function(er){var e;switch((er=er||{}).variant=er.variant||"non-conform",er.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(er){var e=function(){var tr=void 0;Object.defineProperty(this,"pdf",{get:function(){return tr},set:function(or){tr=or}});var rr=150;Object.defineProperty(this,"width",{get:function(){return rr},set:function(or){rr=isNaN(or)||Number.isInteger(or)===!1||or<0?150:or,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=rr+1)}});var nr=300;Object.defineProperty(this,"height",{get:function(){return nr},set:function(or){nr=isNaN(or)||Number.isInteger(or)===!1||or<0?300:or,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nr+1)}});var ir=[];Object.defineProperty(this,"childNodes",{get:function(){return ir},set:function(or){ir=or}});var sr={};Object.defineProperty(this,"style",{get:function(){return sr},set:function(or){sr=or}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(tr,rr){var nr;if((tr=tr||"2d")!=="2d")return null;for(nr in rr)this.pdf.context2d.hasOwnProperty(nr)&&(this.pdf.context2d[nr]=rr[nr]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},er.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(er){var e={left:0,top:0,bottom:0,right:0},tr=!1,rr=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),nr.call(this))},nr=function(){this.internal.__cell__.lastCell=new ir,this.internal.__cell__.pages=1},ir=function(){var ar=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ar},set:function(mr){ar=mr}});var lr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lr},set:function(mr){lr=mr}});var cr=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return cr},set:function(mr){cr=mr}});var dr=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return dr},set:function(mr){dr=mr}});var hr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return hr},set:function(mr){hr=mr}});var ur=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ur},set:function(mr){ur=mr}});var pr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return pr},set:function(mr){pr=mr}}),this};ir.prototype.clone=function(){return new ir(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ir.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},er.setHeaderFunction=function(ar){return rr.call(this),this.internal.__cell__.headerFunction=typeof ar=="function"?ar:void 0,this},er.getTextDimensions=function(ar,lr){rr.call(this);var cr=(lr=lr||{}).fontSize||this.getFontSize(),dr=lr.font||this.getFont(),hr=lr.scaleFactor||this.internal.scaleFactor,ur=0,pr=0,mr=0,fr=this;if(!Array.isArray(ar)&&typeof ar!="string"){if(typeof ar!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ar=String(ar)}var gr=lr.maxWidth;gr>0?typeof ar=="string"?ar=this.splitTextToSize(ar,gr):Object.prototype.toString.call(ar)==="[object Array]"&&(ar=ar.reduce(function(vr,br){return vr.concat(fr.splitTextToSize(br,gr))},[])):ar=Array.isArray(ar)?ar:[ar];for(var yr=0;yr<ar.length;yr++)ur<(mr=this.getStringUnitWidth(ar[yr],{font:dr})*cr)&&(ur=mr);return ur!==0&&(pr=ar.length),{w:ur/=hr,h:Math.max((pr*cr*this.getLineHeightFactor()-cr*(this.getLineHeightFactor()-1))/hr,0)}},er.cellAddPage=function(){rr.call(this),this.addPage();var ar=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new ir(ar.left,ar.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var sr=er.cell=function(){var ar;ar=arguments[0]instanceof ir?arguments[0]:new ir(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),rr.call(this);var lr=this.internal.__cell__.lastCell,cr=this.internal.__cell__.padding,dr=this.internal.__cell__.margins||e,hr=this.internal.__cell__.tableHeaderRow,ur=this.internal.__cell__.printHeaders;return lr.lineNumber!==void 0&&(lr.lineNumber===ar.lineNumber?(ar.x=(lr.x||0)+(lr.width||0),ar.y=lr.y||0):lr.y+lr.height+ar.height+dr.bottom>this.getPageHeight()?(this.cellAddPage(),ar.y=dr.top,ur&&hr&&(this.printHeaderRow(ar.lineNumber,!0),ar.y+=hr[0].height)):ar.y=lr.y+lr.height||ar.y),ar.text[0]!==void 0&&(this.rect(ar.x,ar.y,ar.width,ar.height,tr===!0?"FD":void 0),ar.align==="right"?this.text(ar.text,ar.x+ar.width-cr,ar.y+cr,{align:"right",baseline:"top"}):ar.align==="center"?this.text(ar.text,ar.x+ar.width/2,ar.y+cr,{align:"center",baseline:"top",maxWidth:ar.width-cr-cr}):this.text(ar.text,ar.x+cr,ar.y+cr,{align:"left",baseline:"top",maxWidth:ar.width-cr-cr})),this.internal.__cell__.lastCell=ar,this};er.table=function(ar,lr,cr,dr,hr){if(rr.call(this),!cr)throw new Error("No data for PDF table.");var ur,pr,mr,fr,gr=[],yr=[],vr=[],br={},Sr={},jr=[],Cr=[],Pr=(hr=hr||{}).autoSize||!1,Rr=hr.printHeaders!==!1,Lr=hr.css&&hr.css["font-size"]!==void 0?16*hr.css["font-size"]:hr.fontSize||12,Ir=hr.margins||Object.assign({width:this.getPageWidth()},e),Nr=typeof hr.padding=="number"?hr.padding:3,Ar=hr.headerBackgroundColor||"#c8c8c8",Dr=hr.headerTextColor||"#000";if(nr.call(this),this.internal.__cell__.printHeaders=Rr,this.internal.__cell__.margins=Ir,this.internal.__cell__.table_font_size=Lr,this.internal.__cell__.padding=Nr,this.internal.__cell__.headerBackgroundColor=Ar,this.internal.__cell__.headerTextColor=Dr,this.setFontSize(Lr),dr==null)yr=gr=Object.keys(cr[0]),vr=gr.map(function(){return"left"});else if(Array.isArray(dr)&&_typeof(dr[0])==="object")for(gr=dr.map(function(Mr){return Mr.name}),yr=dr.map(function(Mr){return Mr.prompt||Mr.name||""}),vr=dr.map(function(Mr){return Mr.align||"left"}),ur=0;ur<dr.length;ur+=1)Sr[dr[ur].name]=dr[ur].width*(19.049976/25.4);else Array.isArray(dr)&&typeof dr[0]=="string"&&(yr=gr=dr,vr=gr.map(function(){return"left"}));if(Pr||Array.isArray(dr)&&typeof dr[0]=="string")for(ur=0;ur<gr.length;ur+=1){for(br[fr=gr[ur]]=cr.map(function(Mr){return Mr[fr]}),this.setFont(void 0,"bold"),jr.push(this.getTextDimensions(yr[ur],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),pr=br[fr],this.setFont(void 0,"normal"),mr=0;mr<pr.length;mr+=1)jr.push(this.getTextDimensions(pr[mr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Sr[fr]=Math.max.apply(null,jr)+Nr+Nr,jr=[]}if(Rr){var Tr={};for(ur=0;ur<gr.length;ur+=1)Tr[gr[ur]]={},Tr[gr[ur]].text=yr[ur],Tr[gr[ur]].align=vr[ur];var _r=or.call(this,Tr,Sr);Cr=gr.map(function(Mr){return new ir(ar,lr,Sr[Mr],_r,Tr[Mr].text,void 0,Tr[Mr].align)}),this.setTableHeaderRow(Cr),this.printHeaderRow(1,!1)}var wr=dr.reduce(function(Mr,zr){return Mr[zr.name]=zr.align,Mr},{});for(ur=0;ur<cr.length;ur+=1){"rowStart"in hr&&hr.rowStart instanceof Function&&hr.rowStart({row:ur,data:cr[ur]},this);var Er=or.call(this,cr[ur],Sr);for(mr=0;mr<gr.length;mr+=1){var xr=cr[ur][gr[mr]];"cellStart"in hr&&hr.cellStart instanceof Function&&hr.cellStart({row:ur,col:mr,data:xr},this),sr.call(this,new ir(ar,lr,Sr[gr[mr]],Er,xr,ur+2,wr[gr[mr]]))}}return this.internal.__cell__.table_x=ar,this.internal.__cell__.table_y=lr,this};var or=function(ar,lr){var cr=this.internal.__cell__.padding,dr=this.internal.__cell__.table_font_size,hr=this.internal.scaleFactor;return Object.keys(ar).map(function(ur){var pr=ar[ur];return this.splitTextToSize(pr.hasOwnProperty("text")?pr.text:pr,lr[ur]-cr-cr)},this).map(function(ur){return this.getLineHeightFactor()*ur.length*dr/hr+cr+cr},this).reduce(function(ur,pr){return Math.max(ur,pr)},0)};er.setTableHeaderRow=function(ar){rr.call(this),this.internal.__cell__.tableHeaderRow=ar},er.printHeaderRow=function(ar,lr){if(rr.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var cr;if(tr=!0,typeof this.internal.__cell__.headerFunction=="function"){var dr=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ir(dr[0],dr[1],dr[2],dr[3],void 0,-1)}this.setFont(void 0,"bold");for(var hr=[],ur=0;ur<this.internal.__cell__.tableHeaderRow.length;ur+=1){cr=this.internal.__cell__.tableHeaderRow[ur].clone(),lr&&(cr.y=this.internal.__cell__.margins.top||0,hr.push(cr)),cr.lineNumber=ar;var pr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),sr.call(this,cr),this.setTextColor(pr)}hr.length>0&&this.setTableHeaderRow(hr),this.setFont(void 0,"normal"),tr=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(er){var e=er.family.replace(/"|'/g,"").toLowerCase(),tr=function(ir){return Pt[ir=ir||"normal"]?ir:"normal"}(er.style),rr=function(ir){if(!ir)return 400;if(typeof ir=="number")return ir>=100&&ir<=900&&ir%100==0?ir:400;if(/^\d00$/.test(ir))return parseInt(ir);switch(ir){case"bold":return 700;case"normal":default:return 400}}(er.weight),nr=function(ir){return typeof It[ir=ir||"normal"]=="number"?ir:"normal"}(er.stretch);return{family:e,style:tr,weight:rr,stretch:nr,src:er.src||[],ref:er.ref||{name:e,style:[nr,tr,rr].join(" ")}}}function Ot(er,e,tr,rr){var nr;for(nr=tr;nr>=0&&nr<e.length;nr+=rr)if(er[e[nr]])return er[e[nr]];for(nr=tr;nr>=0&&nr<e.length;nr-=rr)if(er[e[nr]])return er[e[nr]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(er){return[er.stretch,er.style,er.weight,er.family].join(" ")}function qt(er,e,tr){for(var rr=(tr=tr||{}).defaultFontFamily||"times",nr=Object.assign({},Bt,tr.genericFontFamilies||{}),ir=null,sr=null,or=0;or<e.length;++or)if(nr[(ir=jt(e[or])).family]&&(ir.family=nr[ir.family]),er.hasOwnProperty(ir.family)){sr=er[ir.family];break}if(!(sr=sr||er[rr]))throw new Error("Could not find a font-family for the rule '"+Et(ir)+"' and default family '"+rr+"'.");if(sr=function(ar,lr){if(lr[ar])return lr[ar];var cr=It[ar],dr=cr<=It.normal?-1:1,hr=Ot(lr,kt,cr,dr);if(!hr)throw new Error("Could not find a matching font-stretch value for "+ar);return hr}(ir.stretch,sr),sr=function(ar,lr){if(lr[ar])return lr[ar];for(var cr=Pt[ar],dr=0;dr<cr.length;++dr)if(lr[cr[dr]])return lr[cr[dr]];throw new Error("Could not find a matching font-style for "+ar)}(ir.style,sr),!(sr=function(ar,lr){if(lr[ar])return lr[ar];if(ar===400&&lr[500])return lr[500];if(ar===500&&lr[400])return lr[400];var cr=Ct[ar],dr=Ot(lr,Ft,cr,ar<400?-1:1);if(!dr)throw new Error("Could not find a matching font-weight for value "+ar);return dr}(ir.weight,sr)))throw new Error("Failed to resolve a font for the rule '"+Et(ir)+"'.");return sr}function Dt(er){return er.trimLeft()}function Rt(er,e){for(var tr=0;tr<er.length;){if(er.charAt(tr)===e)return[er.substring(0,tr),er.substring(tr+1)];tr+=1}return null}function Tt(er){var e=er.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],er.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(er){var e,tr,rr,nr,ir,sr,or,ar,lr,cr=function(Or){return Or=Or||{},this.isStrokeTransparent=Or.isStrokeTransparent||!1,this.strokeOpacity=Or.strokeOpacity||1,this.strokeStyle=Or.strokeStyle||"#000000",this.fillStyle=Or.fillStyle||"#000000",this.isFillTransparent=Or.isFillTransparent||!1,this.fillOpacity=Or.fillOpacity||1,this.font=Or.font||"10px sans-serif",this.textBaseline=Or.textBaseline||"alphabetic",this.textAlign=Or.textAlign||"left",this.lineWidth=Or.lineWidth||1,this.lineJoin=Or.lineJoin||"miter",this.lineCap=Or.lineCap||"butt",this.path=Or.path||[],this.transform=Or.transform!==void 0?Or.transform.clone():new ar,this.globalCompositeOperation=Or.globalCompositeOperation||"normal",this.globalAlpha=Or.globalAlpha||1,this.clip_path=Or.clip_path||[],this.currentPoint=Or.currentPoint||new sr,this.miterLimit=Or.miterLimit||10,this.lastPoint=Or.lastPoint||new sr,this.lineDashOffset=Or.lineDashOffset||0,this.lineDash=Or.lineDash||[],this.margin=Or.margin||[0,0,0,0],this.prevPageLastElemOffset=Or.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Or.ignoreClearRect!="boolean"||Or.ignoreClearRect,this};er.events.push(["initialized",function(){this.context2d=new dr(this),e=this.internal.f2,tr=this.internal.getCoordinateString,rr=this.internal.getVerticalCoordinateString,nr=this.internal.getHorizontalCoordinate,ir=this.internal.getVerticalCoordinate,sr=this.internal.Point,or=this.internal.Rectangle,ar=this.internal.Matrix,lr=new cr}]);var dr=function(Or){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Br=Or;Object.defineProperty(this,"pdf",{get:function(){return Br}});var Ur=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ur},set:function(dn){Ur=!!dn}});var qr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return qr},set:function(dn){qr=!!dn}});var Vr=0;Object.defineProperty(this,"posX",{get:function(){return Vr},set:function(dn){isNaN(dn)||(Vr=dn)}});var Gr=0;Object.defineProperty(this,"posY",{get:function(){return Gr},set:function(dn){isNaN(dn)||(Gr=dn)}}),Object.defineProperty(this,"margin",{get:function(){return lr.margin},set:function(dn){var en;typeof dn=="number"?en=[dn,dn,dn,dn]:((en=new Array(4))[0]=dn[0],en[1]=dn.length>=2?dn[1]:en[0],en[2]=dn.length>=3?dn[2]:en[0],en[3]=dn.length>=4?dn[3]:en[1]),lr.margin=en}});var $r=!1;Object.defineProperty(this,"autoPaging",{get:function(){return $r},set:function(dn){$r=dn}});var Fr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fr},set:function(dn){Fr=dn}});var Kr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Kr},set:function(dn){Kr=dn}}),Object.defineProperty(this,"ctx",{get:function(){return lr},set:function(dn){dn instanceof cr&&(lr=dn)}}),Object.defineProperty(this,"path",{get:function(){return lr.path},set:function(dn){lr.path=dn}});var Zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zr},set:function(dn){Zr=dn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(dn){var en;en=hr(dn),this.ctx.fillStyle=en.style,this.ctx.isFillTransparent=en.a===0,this.ctx.fillOpacity=en.a,this.pdf.setFillColor(en.r,en.g,en.b,{a:en.a}),this.pdf.setTextColor(en.r,en.g,en.b,{a:en.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(dn){var en=hr(dn);this.ctx.strokeStyle=en.style,this.ctx.isStrokeTransparent=en.a===0,this.ctx.strokeOpacity=en.a,en.a===0?this.pdf.setDrawColor(255,255,255):(en.a,this.pdf.setDrawColor(en.r,en.g,en.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(dn){["butt","round","square"].indexOf(dn)!==-1&&(this.ctx.lineCap=dn,this.pdf.setLineCap(dn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(dn){isNaN(dn)||(this.ctx.lineWidth=dn,this.pdf.setLineWidth(dn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(dn){["bevel","round","miter"].indexOf(dn)!==-1&&(this.ctx.lineJoin=dn,this.pdf.setLineJoin(dn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(dn){isNaN(dn)||(this.ctx.miterLimit=dn,this.pdf.setMiterLimit(dn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(dn){this.ctx.textBaseline=dn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(dn){["right","end","center","left","start"].indexOf(dn)!==-1&&(this.ctx.textAlign=dn)}});var nn=null;function Qr(dn,en){if(nn===null){var an=function(tn){var sn=[];return Object.keys(tn).forEach(function(fn){tn[fn].forEach(function(pn){var yn=null;switch(pn){case"bold":yn={family:fn,weight:"bold"};break;case"italic":yn={family:fn,style:"italic"};break;case"bolditalic":yn={family:fn,weight:"bold",style:"italic"};break;case"":case"normal":yn={family:fn}}yn!==null&&(yn.ref={name:fn,style:pn},sn.push(yn))})}),sn}(dn.getFontList());nn=function(tn){for(var sn={},fn=0;fn<tn.length;++fn){var pn=jt(tn[fn]),yn=pn.family,Cn=pn.stretch,Rn=pn.style,En=pn.weight;sn[yn]=sn[yn]||{},sn[yn][Cn]=sn[yn][Cn]||{},sn[yn][Cn][Rn]=sn[yn][Cn][Rn]||{},sn[yn][Cn][Rn][En]=pn}return sn}(an.concat(en))}return nn}var cn=null;Object.defineProperty(this,"fontFaces",{get:function(){return cn},set:function(dn){nn=null,cn=dn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(dn){var en;if(this.ctx.font=dn,(en=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(dn))!==null){var an=en[1],tn=(en[2],en[3]),sn=en[4],fn=(en[5],en[6]),pn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(sn)[2];sn=Math.floor(pn==="px"?parseFloat(sn)*this.pdf.internal.scaleFactor:pn==="em"?parseFloat(sn)*this.pdf.getFontSize():parseFloat(sn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(sn);var yn=function(cs){var _s,qn,vs=[],fs=cs.trim();if(fs==="")return Wt;if(fs in Mt)return[Mt[fs]];for(;fs!=="";){switch(qn=null,_s=(fs=Dt(fs)).charAt(0)){case'"':case"'":qn=Rt(fs.substring(1),_s);break;default:qn=Tt(fs)}if(qn===null||(vs.push(qn[0]),(fs=Dt(qn[1]))!==""&&fs.charAt(0)!==","))return Wt;fs=fs.replace(/^,/,"")}return vs}(fn);if(this.fontFaces){var Cn=qt(Qr(this.pdf,this.fontFaces),yn.map(function(cs){return{family:cs,stretch:"normal",weight:tn,style:an}}));this.pdf.setFont(Cn.ref.name,Cn.ref.style)}else{var Rn="";(tn==="bold"||parseInt(tn,10)>=700||an==="bold")&&(Rn="bold"),an==="italic"&&(Rn+="italic"),Rn.length===0&&(Rn="normal");for(var En="",zn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bn=0;Bn<yn.length;Bn++){if(this.pdf.internal.getFont(yn[Bn],Rn,{noFallback:!0,disableWarning:!0})!==void 0){En=yn[Bn];break}if(Rn==="bolditalic"&&this.pdf.internal.getFont(yn[Bn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)En=yn[Bn],Rn="bold";else if(this.pdf.internal.getFont(yn[Bn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){En=yn[Bn],Rn="normal";break}}if(En===""){for(var rs=0;rs<yn.length;rs++)if(zn[yn[rs]]){En=zn[yn[rs]];break}}En=En===""?"Times":En,this.pdf.setFont(En,Rn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(dn){this.ctx.globalCompositeOperation=dn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(dn){this.ctx.globalAlpha=dn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(dn){this.ctx.lineDashOffset=dn,zr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(dn){this.ctx.lineDash=dn,zr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(dn){this.ctx.ignoreClearRect=!!dn}})};dr.prototype.setLineDash=function(Or){this.lineDash=Or},dr.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},dr.prototype.fill=function(){br.call(this,"fill",!1)},dr.prototype.stroke=function(){br.call(this,"stroke",!1)},dr.prototype.beginPath=function(){this.path=[{type:"begin"}]},dr.prototype.moveTo=function(Or,Br){if(isNaN(Or)||isNaN(Br))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ur=this.ctx.transform.applyToPoint(new sr(Or,Br));this.path.push({type:"mt",x:Ur.x,y:Ur.y}),this.ctx.lastPoint=new sr(Or,Br)},dr.prototype.closePath=function(){var Or=new sr(0,0),Br=0;for(Br=this.path.length-1;Br!==-1;Br--)if(this.path[Br].type==="begin"&&_typeof(this.path[Br+1])==="object"&&typeof this.path[Br+1].x=="number"){Or=new sr(this.path[Br+1].x,this.path[Br+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new sr(Or.x,Or.y)},dr.prototype.lineTo=function(Or,Br){if(isNaN(Or)||isNaN(Br))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ur=this.ctx.transform.applyToPoint(new sr(Or,Br));this.path.push({type:"lt",x:Ur.x,y:Ur.y}),this.ctx.lastPoint=new sr(Ur.x,Ur.y)},dr.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),br.call(this,null,!0)},dr.prototype.quadraticCurveTo=function(Or,Br,Ur,qr){if(isNaN(Ur)||isNaN(qr)||isNaN(Or)||isNaN(Br))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Vr=this.ctx.transform.applyToPoint(new sr(Ur,qr)),Gr=this.ctx.transform.applyToPoint(new sr(Or,Br));this.path.push({type:"qct",x1:Gr.x,y1:Gr.y,x:Vr.x,y:Vr.y}),this.ctx.lastPoint=new sr(Vr.x,Vr.y)},dr.prototype.bezierCurveTo=function(Or,Br,Ur,qr,Vr,Gr){if(isNaN(Vr)||isNaN(Gr)||isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var $r=this.ctx.transform.applyToPoint(new sr(Vr,Gr)),Fr=this.ctx.transform.applyToPoint(new sr(Or,Br)),Kr=this.ctx.transform.applyToPoint(new sr(Ur,qr));this.path.push({type:"bct",x1:Fr.x,y1:Fr.y,x2:Kr.x,y2:Kr.y,x:$r.x,y:$r.y}),this.ctx.lastPoint=new sr($r.x,$r.y)},dr.prototype.arc=function(Or,Br,Ur,qr,Vr,Gr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr)||isNaN(Vr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Gr=!!Gr,!this.ctx.transform.isIdentity){var $r=this.ctx.transform.applyToPoint(new sr(Or,Br));Or=$r.x,Br=$r.y;var Fr=this.ctx.transform.applyToPoint(new sr(0,Ur)),Kr=this.ctx.transform.applyToPoint(new sr(0,0));Ur=Math.sqrt(Math.pow(Fr.x-Kr.x,2)+Math.pow(Fr.y-Kr.y,2))}Math.abs(Vr-qr)>=2*Math.PI&&(qr=0,Vr=2*Math.PI),this.path.push({type:"arc",x:Or,y:Br,radius:Ur,startAngle:qr,endAngle:Vr,counterclockwise:Gr})},dr.prototype.arcTo=function(Or,Br,Ur,qr,Vr){throw new Error("arcTo not implemented.")},dr.prototype.rect=function(Or,Br,Ur,qr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Or,Br),this.lineTo(Or+Ur,Br),this.lineTo(Or+Ur,Br+qr),this.lineTo(Or,Br+qr),this.lineTo(Or,Br),this.lineTo(Or+Ur,Br),this.lineTo(Or,Br)},dr.prototype.fillRect=function(Or,Br,Ur,qr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ur.call(this)){var Vr={};this.lineCap!=="butt"&&(Vr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Vr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Or,Br,Ur,qr),this.fill(),Vr.hasOwnProperty("lineCap")&&(this.lineCap=Vr.lineCap),Vr.hasOwnProperty("lineJoin")&&(this.lineJoin=Vr.lineJoin)}},dr.prototype.strokeRect=function(Or,Br,Ur,qr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");pr.call(this)||(this.beginPath(),this.rect(Or,Br,Ur,qr),this.stroke())},dr.prototype.clearRect=function(Or,Br,Ur,qr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Or,Br,Ur,qr))},dr.prototype.save=function(Or){Or=typeof Or!="boolean"||Or;for(var Br=this.pdf.internal.getCurrentPageInfo().pageNumber,Ur=0;Ur<this.pdf.internal.getNumberOfPages();Ur++)this.pdf.setPage(Ur+1),this.pdf.internal.out("q");if(this.pdf.setPage(Br),Or){this.ctx.fontSize=this.pdf.internal.getFontSize();var qr=new cr(this.ctx);this.ctxStack.push(this.ctx),this.ctx=qr}},dr.prototype.restore=function(Or){Or=typeof Or!="boolean"||Or;for(var Br=this.pdf.internal.getCurrentPageInfo().pageNumber,Ur=0;Ur<this.pdf.internal.getNumberOfPages();Ur++)this.pdf.setPage(Ur+1),this.pdf.internal.out("Q");this.pdf.setPage(Br),Or&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},dr.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var hr=function(Or){var Br,Ur,qr,Vr;if(Or.isCanvasGradient===!0&&(Or=Or.getColor()),!Or)return{r:0,g:0,b:0,a:0,style:Or};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Or))Br=0,Ur=0,qr=0,Vr=0;else{var Gr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Or);if(Gr!==null)Br=parseInt(Gr[1]),Ur=parseInt(Gr[2]),qr=parseInt(Gr[3]),Vr=1;else if((Gr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Or))!==null)Br=parseInt(Gr[1]),Ur=parseInt(Gr[2]),qr=parseInt(Gr[3]),Vr=parseFloat(Gr[4]);else{if(Vr=1,typeof Or=="string"&&Or.charAt(0)!=="#"){var $r=new f(Or);Or=$r.ok?$r.toHex():"#000000"}Or.length===4?(Br=Or.substring(1,2),Br+=Br,Ur=Or.substring(2,3),Ur+=Ur,qr=Or.substring(3,4),qr+=qr):(Br=Or.substring(1,3),Ur=Or.substring(3,5),qr=Or.substring(5,7)),Br=parseInt(Br,16),Ur=parseInt(Ur,16),qr=parseInt(qr,16)}}return{r:Br,g:Ur,b:qr,a:Vr,style:Or}},ur=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},pr=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};dr.prototype.fillText=function(Or,Br,Ur,qr){if(isNaN(Br)||isNaN(Ur)||typeof Or!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(qr=isNaN(qr)?void 0:qr,!ur.call(this)){var Vr=Er(this.ctx.transform.rotation),Gr=this.ctx.transform.scaleX;Nr.call(this,{text:Or,x:Br,y:Ur,scale:Gr,angle:Vr,align:this.textAlign,maxWidth:qr})}},dr.prototype.strokeText=function(Or,Br,Ur,qr){if(isNaN(Br)||isNaN(Ur)||typeof Or!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!pr.call(this)){qr=isNaN(qr)?void 0:qr;var Vr=Er(this.ctx.transform.rotation),Gr=this.ctx.transform.scaleX;Nr.call(this,{text:Or,x:Br,y:Ur,scale:Gr,renderingMode:"stroke",angle:Vr,align:this.textAlign,maxWidth:qr})}},dr.prototype.measureText=function(Or){if(typeof Or!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Br=this.pdf,Ur=this.pdf.internal.scaleFactor,qr=Br.internal.getFontSize(),Vr=Br.getStringUnitWidth(Or)*qr/Br.internal.scaleFactor,Gr=function($r){var Fr=($r=$r||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Fr}}),this};return new Gr({width:Vr*=Math.round(96*Ur/72*1e4)/1e4})},dr.prototype.scale=function(Or,Br){if(isNaN(Or)||isNaN(Br))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ur=new ar(Or,0,0,Br,0,0);this.ctx.transform=this.ctx.transform.multiply(Ur)},dr.prototype.rotate=function(Or){if(isNaN(Or))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Br=new ar(Math.cos(Or),Math.sin(Or),-Math.sin(Or),Math.cos(Or),0,0);this.ctx.transform=this.ctx.transform.multiply(Br)},dr.prototype.translate=function(Or,Br){if(isNaN(Or)||isNaN(Br))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ur=new ar(1,0,0,1,Or,Br);this.ctx.transform=this.ctx.transform.multiply(Ur)},dr.prototype.transform=function(Or,Br,Ur,qr,Vr,Gr){if(isNaN(Or)||isNaN(Br)||isNaN(Ur)||isNaN(qr)||isNaN(Vr)||isNaN(Gr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var $r=new ar(Or,Br,Ur,qr,Vr,Gr);this.ctx.transform=this.ctx.transform.multiply($r)},dr.prototype.setTransform=function(Or,Br,Ur,qr,Vr,Gr){Or=isNaN(Or)?1:Or,Br=isNaN(Br)?0:Br,Ur=isNaN(Ur)?0:Ur,qr=isNaN(qr)?1:qr,Vr=isNaN(Vr)?0:Vr,Gr=isNaN(Gr)?0:Gr,this.ctx.transform=new ar(Or,Br,Ur,qr,Vr,Gr)};var mr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};dr.prototype.drawImage=function(Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr){var Zr=this.pdf.getImageProperties(Or),nn=1,Qr=1,cn=1,dn=1;qr!==void 0&&Fr!==void 0&&(cn=Fr/qr,dn=Kr/Vr,nn=Zr.width/qr*Fr/qr,Qr=Zr.height/Vr*Kr/Vr),Gr===void 0&&(Gr=Br,$r=Ur,Br=0,Ur=0),qr!==void 0&&Fr===void 0&&(Fr=qr,Kr=Vr),qr===void 0&&Fr===void 0&&(Fr=Zr.width,Kr=Zr.height);for(var en,an=this.ctx.transform.decompose(),tn=Er(an.rotate.shx),sn=new ar,fn=(sn=(sn=(sn=sn.multiply(an.translate)).multiply(an.skew)).multiply(an.scale)).applyToRectangle(new or(Gr-Br*cn,$r-Ur*dn,qr*nn,Vr*Qr)),pn=fr.call(this,fn),yn=[],Cn=0;Cn<pn.length;Cn+=1)yn.indexOf(pn[Cn])===-1&&yn.push(pn[Cn]);if(vr(yn),this.autoPaging)for(var Rn=yn[0],En=yn[yn.length-1],zn=Rn;zn<En+1;zn++){this.pdf.setPage(zn);var Bn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rs=zn===1?this.posY+this.margin[0]:this.margin[0],cs=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_s=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qn=zn===1?0:cs+(zn-2)*_s;if(this.ctx.clip_path.length!==0){var vs=this.path;en=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(en,this.posX+this.margin[3],-qn+rs+this.ctx.prevPageLastElemOffset),Sr.call(this,"fill",!0),this.path=vs}var fs=JSON.parse(JSON.stringify(fn));fs=yr([fs],this.posX+this.margin[3],-qn+rs+this.ctx.prevPageLastElemOffset)[0];var xs=(zn>Rn||zn<En)&&mr.call(this);xs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bn,_s,null).clip().discardPath()),this.pdf.addImage(Or,"JPEG",fs.x,fs.y,fs.w,fs.h,null,null,tn),xs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Or,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,tn)};var fr=function(Or,Br,Ur){var qr=[];Br=Br||this.pdf.internal.pageSize.width,Ur=Ur||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Vr=this.posY+this.ctx.prevPageLastElemOffset;switch(Or.type){default:case"mt":case"lt":qr.push(Math.floor((Or.y+Vr)/Ur)+1);break;case"arc":qr.push(Math.floor((Or.y+Vr-Or.radius)/Ur)+1),qr.push(Math.floor((Or.y+Vr+Or.radius)/Ur)+1);break;case"qct":var Gr=xr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Or.x1,Or.y1,Or.x,Or.y);qr.push(Math.floor((Gr.y+Vr)/Ur)+1),qr.push(Math.floor((Gr.y+Gr.h+Vr)/Ur)+1);break;case"bct":var $r=Mr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Or.x1,Or.y1,Or.x2,Or.y2,Or.x,Or.y);qr.push(Math.floor(($r.y+Vr)/Ur)+1),qr.push(Math.floor(($r.y+$r.h+Vr)/Ur)+1);break;case"rect":qr.push(Math.floor((Or.y+Vr)/Ur)+1),qr.push(Math.floor((Or.y+Or.h+Vr)/Ur)+1)}for(var Fr=0;Fr<qr.length;Fr+=1)for(;this.pdf.internal.getNumberOfPages()<qr[Fr];)gr.call(this);return qr},gr=function(){var Or=this.fillStyle,Br=this.strokeStyle,Ur=this.font,qr=this.lineCap,Vr=this.lineWidth,Gr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Or,this.strokeStyle=Br,this.font=Ur,this.lineCap=qr,this.lineWidth=Vr,this.lineJoin=Gr},yr=function(Or,Br,Ur){for(var qr=0;qr<Or.length;qr++)switch(Or[qr].type){case"bct":Or[qr].x2+=Br,Or[qr].y2+=Ur;case"qct":Or[qr].x1+=Br,Or[qr].y1+=Ur;case"mt":case"lt":case"arc":default:Or[qr].x+=Br,Or[qr].y+=Ur}return Or},vr=function(Or){return Or.sort(function(Br,Ur){return Br-Ur})},br=function(Or,Br){for(var Ur,qr,Vr=this.fillStyle,Gr=this.strokeStyle,$r=this.lineCap,Fr=this.lineWidth,Kr=Math.abs(Fr*this.ctx.transform.scaleX),Zr=this.lineJoin,nn=JSON.parse(JSON.stringify(this.path)),Qr=JSON.parse(JSON.stringify(this.path)),cn=[],dn=0;dn<Qr.length;dn++)if(Qr[dn].x!==void 0)for(var en=fr.call(this,Qr[dn]),an=0;an<en.length;an+=1)cn.indexOf(en[an])===-1&&cn.push(en[an]);for(var tn=0;tn<cn.length;tn++)for(;this.pdf.internal.getNumberOfPages()<cn[tn];)gr.call(this);if(vr(cn),this.autoPaging)for(var sn=cn[0],fn=cn[cn.length-1],pn=sn;pn<fn+1;pn++){this.pdf.setPage(pn),this.fillStyle=Vr,this.strokeStyle=Gr,this.lineCap=$r,this.lineWidth=Kr,this.lineJoin=Zr;var yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Cn=pn===1?this.posY+this.margin[0]:this.margin[0],Rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zn=pn===1?0:Rn+(pn-2)*En;if(this.ctx.clip_path.length!==0){var Bn=this.path;Ur=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(Ur,this.posX+this.margin[3],-zn+Cn+this.ctx.prevPageLastElemOffset),Sr.call(this,Or,!0),this.path=Bn}if(qr=JSON.parse(JSON.stringify(nn)),this.path=yr(qr,this.posX+this.margin[3],-zn+Cn+this.ctx.prevPageLastElemOffset),Br===!1||pn===0){var rs=(pn>sn||pn<fn)&&mr.call(this);rs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yn,En,null).clip().discardPath()),Sr.call(this,Or,Br),rs&&this.pdf.restoreGraphicsState()}this.lineWidth=Fr}else this.lineWidth=Kr,Sr.call(this,Or,Br),this.lineWidth=Fr;this.path=nn},Sr=function(Or,Br){if((Or!=="stroke"||Br||!pr.call(this))&&(Or==="stroke"||Br||!ur.call(this))){for(var Ur,qr,Vr=[],Gr=this.path,$r=0;$r<Gr.length;$r++){var Fr=Gr[$r];switch(Fr.type){case"begin":Vr.push({begin:!0});break;case"close":Vr.push({close:!0});break;case"mt":Vr.push({start:Fr,deltas:[],abs:[]});break;case"lt":var Kr=Vr.length;if(Gr[$r-1]&&!isNaN(Gr[$r-1].x)&&(Ur=[Fr.x-Gr[$r-1].x,Fr.y-Gr[$r-1].y],Kr>0)){for(;Kr>=0;Kr--)if(Vr[Kr-1].close!==!0&&Vr[Kr-1].begin!==!0){Vr[Kr-1].deltas.push(Ur),Vr[Kr-1].abs.push(Fr);break}}break;case"bct":Ur=[Fr.x1-Gr[$r-1].x,Fr.y1-Gr[$r-1].y,Fr.x2-Gr[$r-1].x,Fr.y2-Gr[$r-1].y,Fr.x-Gr[$r-1].x,Fr.y-Gr[$r-1].y],Vr[Vr.length-1].deltas.push(Ur);break;case"qct":var Zr=Gr[$r-1].x+2/3*(Fr.x1-Gr[$r-1].x),nn=Gr[$r-1].y+2/3*(Fr.y1-Gr[$r-1].y),Qr=Fr.x+2/3*(Fr.x1-Fr.x),cn=Fr.y+2/3*(Fr.y1-Fr.y),dn=Fr.x,en=Fr.y;Ur=[Zr-Gr[$r-1].x,nn-Gr[$r-1].y,Qr-Gr[$r-1].x,cn-Gr[$r-1].y,dn-Gr[$r-1].x,en-Gr[$r-1].y],Vr[Vr.length-1].deltas.push(Ur);break;case"arc":Vr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Vr[Vr.length-1].abs)&&Vr[Vr.length-1].abs.push(Fr)}}qr=Br?null:Or==="stroke"?"stroke":"fill";for(var an=!1,tn=0;tn<Vr.length;tn++)if(Vr[tn].arc)for(var sn=Vr[tn].abs,fn=0;fn<sn.length;fn++){var pn=sn[fn];pn.type==="arc"?Pr.call(this,pn.x,pn.y,pn.radius,pn.startAngle,pn.endAngle,pn.counterclockwise,void 0,Br,!an):Ar.call(this,pn.x,pn.y),an=!0}else if(Vr[tn].close===!0)this.pdf.internal.out("h"),an=!1;else if(Vr[tn].begin!==!0){var yn=Vr[tn].start.x,Cn=Vr[tn].start.y;Dr.call(this,Vr[tn].deltas,yn,Cn),an=!0}qr&&Rr.call(this,qr),Br&&Lr.call(this)}},jr=function(Or){var Br=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ur=Br*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Or-Ur;case"top":return Or+Br-Ur;case"hanging":return Or+Br-2*Ur;case"middle":return Or+Br/2-Ur;case"ideographic":return Or;case"alphabetic":default:return Or}},Cr=function(Or){return Or+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};dr.prototype.createLinearGradient=function(){var Or=function(){};return Or.colorStops=[],Or.addColorStop=function(Br,Ur){this.colorStops.push([Br,Ur])},Or.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Or.isCanvasGradient=!0,Or},dr.prototype.createPattern=function(){return this.createLinearGradient()},dr.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Pr=function(Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr){for(var Zr=_r.call(this,Ur,qr,Vr,Gr),nn=0;nn<Zr.length;nn++){var Qr=Zr[nn];nn===0&&(Kr?Ir.call(this,Qr.x1+Or,Qr.y1+Br):Ar.call(this,Qr.x1+Or,Qr.y1+Br)),Tr.call(this,Or,Br,Qr.x2,Qr.y2,Qr.x3,Qr.y3,Qr.x4,Qr.y4)}Fr?Lr.call(this):Rr.call(this,$r)},Rr=function(Or){switch(Or){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Lr=function(){this.pdf.clip(),this.pdf.discardPath()},Ir=function(Or,Br){this.pdf.internal.out(tr(Or)+" "+rr(Br)+" m")},Nr=function(Or){var Br;switch(Or.align){case"right":case"end":Br="right";break;case"center":Br="center";break;case"left":case"start":default:Br="left"}var Ur=this.pdf.getTextDimensions(Or.text),qr=jr.call(this,Or.y),Vr=Cr.call(this,qr)-Ur.h,Gr=this.ctx.transform.applyToPoint(new sr(Or.x,qr)),$r=this.ctx.transform.decompose(),Fr=new ar;Fr=(Fr=(Fr=Fr.multiply($r.translate)).multiply($r.skew)).multiply($r.scale);for(var Kr,Zr,nn,Qr=this.ctx.transform.applyToRectangle(new or(Or.x,qr,Ur.w,Ur.h)),cn=Fr.applyToRectangle(new or(Or.x,Vr,Ur.w,Ur.h)),dn=fr.call(this,cn),en=[],an=0;an<dn.length;an+=1)en.indexOf(dn[an])===-1&&en.push(dn[an]);if(vr(en),this.autoPaging)for(var tn=en[0],sn=en[en.length-1],fn=tn;fn<sn+1;fn++){this.pdf.setPage(fn);var pn=fn===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Cn=this.pdf.internal.pageSize.height-this.margin[2],Rn=Cn-this.margin[0],En=this.pdf.internal.pageSize.width-this.margin[1],zn=En-this.margin[3],Bn=fn===1?0:yn+(fn-2)*Rn;if(this.ctx.clip_path.length!==0){var rs=this.path;Kr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(Kr,this.posX+this.margin[3],-1*Bn+pn),Sr.call(this,"fill",!0),this.path=rs}var cs=yr([JSON.parse(JSON.stringify(cn))],this.posX+this.margin[3],-Bn+pn+this.ctx.prevPageLastElemOffset)[0];Or.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*Or.scale),nn=this.lineWidth,this.lineWidth=nn*Or.scale);var _s=this.autoPaging!=="text";if(_s||cs.y+cs.h<=Cn){if(_s||cs.y>=pn&&cs.x<=En){var qn=_s?Or.text:this.pdf.splitTextToSize(Or.text,Or.maxWidth||En-cs.x)[0],vs=yr([JSON.parse(JSON.stringify(Qr))],this.posX+this.margin[3],-Bn+pn+this.ctx.prevPageLastElemOffset)[0],fs=_s&&(fn>tn||fn<sn)&&mr.call(this);fs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,Rn,null).clip().discardPath()),this.pdf.text(qn,vs.x,vs.y,{angle:Or.angle,align:Br,renderingMode:Or.renderingMode}),fs&&this.pdf.restoreGraphicsState()}}else cs.y<Cn&&(this.ctx.prevPageLastElemOffset+=Cn-cs.y);Or.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=nn)}else Or.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*Or.scale),nn=this.lineWidth,this.lineWidth=nn*Or.scale),this.pdf.text(Or.text,Gr.x+this.posX,Gr.y+this.posY,{angle:Or.angle,align:Br,renderingMode:Or.renderingMode,maxWidth:Or.maxWidth}),Or.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=nn)},Ar=function(Or,Br,Ur,qr){Ur=Ur||0,qr=qr||0,this.pdf.internal.out(tr(Or+Ur)+" "+rr(Br+qr)+" l")},Dr=function(Or,Br,Ur){return this.pdf.lines(Or,Br,Ur,null,null)},Tr=function(Or,Br,Ur,qr,Vr,Gr,$r,Fr){this.pdf.internal.out([e(nr(Ur+Or)),e(ir(qr+Br)),e(nr(Vr+Or)),e(ir(Gr+Br)),e(nr($r+Or)),e(ir(Fr+Br)),"c"].join(" "))},_r=function(Or,Br,Ur,qr){for(var Vr=2*Math.PI,Gr=Math.PI/2;Br>Ur;)Br-=Vr;var $r=Math.abs(Ur-Br);$r<Vr&&qr&&($r=Vr-$r);for(var Fr=[],Kr=qr?-1:1,Zr=Br;$r>1e-5;){var nn=Zr+Kr*Math.min($r,Gr);Fr.push(wr.call(this,Or,Zr,nn)),$r-=Math.abs(nn-Zr),Zr=nn}return Fr},wr=function(Or,Br,Ur){var qr=(Ur-Br)/2,Vr=Or*Math.cos(qr),Gr=Or*Math.sin(qr),$r=Vr,Fr=-Gr,Kr=$r*$r+Fr*Fr,Zr=Kr+$r*Vr+Fr*Gr,nn=4/3*(Math.sqrt(2*Kr*Zr)-Zr)/($r*Gr-Fr*Vr),Qr=$r-nn*Fr,cn=Fr+nn*$r,dn=Qr,en=-cn,an=qr+Br,tn=Math.cos(an),sn=Math.sin(an);return{x1:Or*Math.cos(Br),y1:Or*Math.sin(Br),x2:Qr*tn-cn*sn,y2:Qr*sn+cn*tn,x3:dn*tn-en*sn,y3:dn*sn+en*tn,x4:Or*Math.cos(Ur),y4:Or*Math.sin(Ur)}},Er=function(Or){return 180*Or/Math.PI},xr=function(Or,Br,Ur,qr,Vr,Gr){var $r=Or+.5*(Ur-Or),Fr=Br+.5*(qr-Br),Kr=Vr+.5*(Ur-Vr),Zr=Gr+.5*(qr-Gr),nn=Math.min(Or,Vr,$r,Kr),Qr=Math.max(Or,Vr,$r,Kr),cn=Math.min(Br,Gr,Fr,Zr),dn=Math.max(Br,Gr,Fr,Zr);return new or(nn,cn,Qr-nn,dn-cn)},Mr=function(Or,Br,Ur,qr,Vr,Gr,$r,Fr){var Kr,Zr,nn,Qr,cn,dn,en,an,tn,sn,fn,pn,yn,Cn,Rn=Ur-Or,En=qr-Br,zn=Vr-Ur,Bn=Gr-qr,rs=$r-Vr,cs=Fr-Gr;for(Zr=0;Zr<41;Zr++)tn=(en=(nn=Or+(Kr=Zr/40)*Rn)+Kr*((cn=Ur+Kr*zn)-nn))+Kr*(cn+Kr*(Vr+Kr*rs-cn)-en),sn=(an=(Qr=Br+Kr*En)+Kr*((dn=qr+Kr*Bn)-Qr))+Kr*(dn+Kr*(Gr+Kr*cs-dn)-an),Zr==0?(fn=tn,pn=sn,yn=tn,Cn=sn):(fn=Math.min(fn,tn),pn=Math.min(pn,sn),yn=Math.max(yn,tn),Cn=Math.max(Cn,sn));return new or(Math.round(fn),Math.round(pn),Math.round(yn-fn),Math.round(Cn-pn))},zr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Or,Br,Ur=(Or=this.ctx.lineDash,Br=this.ctx.lineDashOffset,JSON.stringify({lineDash:Or,lineDashOffset:Br}));this.prevLineDash!==Ur&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ur)}}})(E.API),function(er){var e=function(ir){var sr,or,ar,lr,cr,dr,hr,ur,pr,mr;for(or=[],ar=0,lr=(ir+=sr="\0\0\0\0".slice(ir.length%4||4)).length;lr>ar;ar+=4)(cr=(ir.charCodeAt(ar)<<24)+(ir.charCodeAt(ar+1)<<16)+(ir.charCodeAt(ar+2)<<8)+ir.charCodeAt(ar+3))!==0?(dr=(cr=((cr=((cr=((cr=(cr-(mr=cr%85))/85)-(pr=cr%85))/85)-(ur=cr%85))/85)-(hr=cr%85))/85)%85,or.push(dr+33,hr+33,ur+33,pr+33,mr+33)):or.push(122);return function(fr,gr){for(var yr=gr;yr>0;yr--)fr.pop()}(or,sr.length),String.fromCharCode.apply(String,or)+"~>"},tr=function(ir){var sr,or,ar,lr,cr,dr=String,hr="length",ur=255,pr="charCodeAt",mr="slice",fr="replace";for(ir[mr](-2),ir=ir[mr](0,-2)[fr](/\s/g,"")[fr]("z","!!!!!"),ar=[],lr=0,cr=(ir+=sr="uuuuu"[mr](ir[hr]%5||5))[hr];cr>lr;lr+=5)or=52200625*(ir[pr](lr)-33)+614125*(ir[pr](lr+1)-33)+7225*(ir[pr](lr+2)-33)+85*(ir[pr](lr+3)-33)+(ir[pr](lr+4)-33),ar.push(ur&or>>24,ur&or>>16,ur&or>>8,ur&or);return function(gr,yr){for(var vr=yr;vr>0;vr--)gr.pop()}(ar,sr[hr]),dr.fromCharCode.apply(dr,ar)},rr=function(ir){var sr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ir=ir.replace(/\s/g,"")).indexOf(">")!==-1&&(ir=ir.substr(0,ir.indexOf(">"))),ir.length%2&&(ir+="0"),sr.test(ir)===!1)return"";for(var or="",ar=0;ar<ir.length;ar+=2)or+=String.fromCharCode("0x"+(ir[ar]+ir[ar+1]));return or},nr=function(ir){for(var sr=new Uint8Array(ir.length),or=ir.length;or--;)sr[or]=ir.charCodeAt(or);return ir=(sr=zlibSync(sr)).reduce(function(ar,lr){return ar+String.fromCharCode(lr)},"")};er.processDataByFilters=function(ir,sr){var or=0,ar=ir||"",lr=[];for(typeof(sr=sr||[])=="string"&&(sr=[sr]),or=0;or<sr.length;or+=1)switch(sr[or]){case"ASCII85Decode":case"/ASCII85Decode":ar=tr(ar),lr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ar=e(ar),lr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ar=rr(ar),lr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ar=ar.split("").map(function(cr){return("0"+cr.charCodeAt().toString(16)).slice(-2)}).join("")+">",lr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ar=nr(ar),lr.push("/FlateDecode");break;default:throw new Error('The filter: "'+sr[or]+'" is not implemented')}return{data:ar,reverseChain:lr.reverse().join(" ")}}}(E.API),function(er){er.loadFile=function(e,tr,rr){return function(nr,ir,sr){ir=ir!==!1,sr=typeof sr=="function"?sr:function(){};var or=void 0;try{or=function(ar,lr,cr){var dr=new XMLHttpRequest,hr=0,ur=function(pr){var mr=pr.length,fr=[],gr=String.fromCharCode;for(hr=0;hr<mr;hr+=1)fr.push(gr(255&pr.charCodeAt(hr)));return fr.join("")};if(dr.open("GET",ar,!lr),dr.overrideMimeType("text/plain; charset=x-user-defined"),lr===!1&&(dr.onload=function(){dr.status===200?cr(ur(this.responseText)):cr(void 0)}),dr.send(null),lr&&dr.status===200)return ur(dr.responseText)}(nr,ir,sr)}catch{}return or}(e,tr,rr)},er.loadImageFile=er.loadFile}(E.API),function(er){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load html2canvas: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}function tr(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load dompurify: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}var rr=function(sr){var or=_typeof(sr);return or==="undefined"?"undefined":or==="string"||sr instanceof String?"string":or==="number"||sr instanceof Number?"number":or==="function"||sr instanceof Function?"function":sr&&sr.constructor===Array?"array":sr&&sr.nodeType===1?"element":or==="object"?"object":"unknown"},nr=function(sr,or){var ar=document.createElement(sr);for(var lr in or.className&&(ar.className=or.className),or.innerHTML&&or.dompurify&&(ar.innerHTML=or.dompurify.sanitize(or.innerHTML)),or.style)ar.style[lr]=or.style[lr];return ar},ir=function sr(or){var ar=Object.assign(sr.convert(Promise.resolve()),JSON.parse(JSON.stringify(sr.template))),lr=sr.convert(Promise.resolve(),ar);return lr=(lr=lr.setProgress(1,sr,1,[sr])).set(or)};(ir.prototype=Object.create(Promise.prototype)).constructor=ir,ir.convert=function(sr,or){return sr.__proto__=or||ir.prototype,sr},ir.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ir.prototype.from=function(sr,or){return this.then(function(){switch(or=or||function(ar){switch(rr(ar)){case"string":return"string";case"element":return ar.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(sr)){case"string":return this.then(tr).then(function(ar){return this.set({src:nr("div",{innerHTML:sr,dompurify:ar})})});case"element":return this.set({src:sr});case"canvas":return this.set({canvas:sr});case"img":return this.set({img:sr});default:return this.error("Unknown source type.")}})},ir.prototype.to=function(sr){switch(sr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ir.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var sr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},or=function ar(lr,cr){for(var dr=lr.nodeType===3?document.createTextNode(lr.nodeValue):lr.cloneNode(!1),hr=lr.firstChild;hr;hr=hr.nextSibling)cr!==!0&&hr.nodeType===1&&hr.nodeName==="SCRIPT"||dr.appendChild(ar(hr,cr));return lr.nodeType===1&&(lr.nodeName==="CANVAS"?(dr.width=lr.width,dr.height=lr.height,dr.getContext("2d").drawImage(lr,0,0)):lr.nodeName!=="TEXTAREA"&&lr.nodeName!=="SELECT"||(dr.value=lr.value),dr.addEventListener("load",function(){dr.scrollTop=lr.scrollTop,dr.scrollLeft=lr.scrollLeft},!0)),dr}(this.prop.src,this.opt.html2canvas.javascriptEnabled);or.tagName==="BODY"&&(sr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nr("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nr("div",{className:"html2pdf__container",style:sr}),this.prop.container.appendChild(or),this.prop.container.firstChild.appendChild(nr("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ir.prototype.toCanvas=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(e).then(function(or){var ar=Object.assign({},this.opt.html2canvas);return delete ar.onrendered,or(this.prop.container,ar)}).then(function(or){(this.opt.html2canvas.onrendered||function(){})(or),this.prop.canvas=or,document.body.removeChild(this.prop.overlay)})},ir.prototype.toContext2d=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(e).then(function(or){var ar=this.opt.jsPDF,lr=this.opt.fontFaces,cr=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,dr=Object.assign({async:!0,allowTaint:!0,scale:cr,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete dr.onrendered,ar.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ar.context2d.posX=this.opt.x,ar.context2d.posY=this.opt.y,ar.context2d.margin=this.opt.margin,ar.context2d.fontFaces=lr,lr)for(var hr=0;hr<lr.length;++hr){var ur=lr[hr],pr=ur.src.find(function(mr){return mr.format==="truetype"});pr&&ar.addFont(pr.url,ur.ref.name,ur.ref.style)}return dr.windowHeight=dr.windowHeight||0,dr.windowHeight=dr.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):dr.windowHeight,ar.context2d.save(!0),or(this.prop.container,dr)}).then(function(or){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(or),this.prop.canvas=or,document.body.removeChild(this.prop.overlay)})},ir.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var sr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=sr})},ir.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ir.prototype.output=function(sr,or,ar){return(ar=ar||"pdf").toLowerCase()==="img"||ar.toLowerCase()==="image"?this.outputImg(sr,or):this.outputPdf(sr,or)},ir.prototype.outputPdf=function(sr,or){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(sr,or)})},ir.prototype.outputImg=function(sr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(sr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+sr+'" is not supported.'}})},ir.prototype.save=function(sr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(sr?{filename:sr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ir.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ir.prototype.set=function(sr){if(rr(sr)!=="object")return this;var or=Object.keys(sr||{}).map(function(ar){if(ar in ir.template.prop)return function(){this.prop[ar]=sr[ar]};switch(ar){case"margin":return this.setMargin.bind(this,sr.margin);case"jsPDF":return function(){return this.opt.jsPDF=sr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,sr.pageSize);default:return function(){this.opt[ar]=sr[ar]}}},this);return this.then(function(){return this.thenList(or)})},ir.prototype.get=function(sr,or){return this.then(function(){var ar=sr in ir.template.prop?this.prop[sr]:this.opt[sr];return or?or(ar):ar})},ir.prototype.setMargin=function(sr){return this.then(function(){switch(rr(sr)){case"number":sr=[sr,sr,sr,sr];case"array":if(sr.length===2&&(sr=[sr[0],sr[1],sr[0],sr[1]]),sr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=sr}).then(this.setPageSize)},ir.prototype.setPageSize=function(sr){function or(ar,lr){return Math.floor(ar*lr/72*96)}return this.then(function(){(sr=sr||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(sr.inner={width:sr.width-this.opt.margin[1]-this.opt.margin[3],height:sr.height-this.opt.margin[0]-this.opt.margin[2]},sr.inner.px={width:or(sr.inner.width,sr.k),height:or(sr.inner.height,sr.k)},sr.inner.ratio=sr.inner.height/sr.inner.width),this.prop.pageSize=sr})},ir.prototype.setProgress=function(sr,or,ar,lr){return sr!=null&&(this.progress.val=sr),or!=null&&(this.progress.state=or),ar!=null&&(this.progress.n=ar),lr!=null&&(this.progress.stack=lr),this.progress.ratio=this.progress.val/this.progress.state,this},ir.prototype.updateProgress=function(sr,or,ar,lr){return this.setProgress(sr?this.progress.val+sr:null,or||null,ar?this.progress.n+ar:null,lr?this.progress.stack.concat(lr):null)},ir.prototype.then=function(sr,or){var ar=this;return this.thenCore(sr,or,function(lr,cr){return ar.updateProgress(null,null,1,[lr]),Promise.prototype.then.call(this,function(dr){return ar.updateProgress(null,lr),dr}).then(lr,cr).then(function(dr){return ar.updateProgress(1),dr})})},ir.prototype.thenCore=function(sr,or,ar){ar=ar||Promise.prototype.then,sr&&(sr=sr.bind(this)),or&&(or=or.bind(this));var lr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ir.convert(Object.assign({},this),Promise.prototype),cr=ar.call(lr,sr,or);return ir.convert(cr,this.__proto__)},ir.prototype.thenExternal=function(sr,or){return Promise.prototype.then.call(this,sr,or)},ir.prototype.thenList=function(sr){var or=this;return sr.forEach(function(ar){or=or.thenCore(ar)}),or},ir.prototype.catch=function(sr){sr&&(sr=sr.bind(this));var or=Promise.prototype.catch.call(this,sr);return ir.convert(or,this)},ir.prototype.catchExternal=function(sr){return Promise.prototype.catch.call(this,sr)},ir.prototype.error=function(sr){return this.then(function(){throw new Error(sr)})},ir.prototype.using=ir.prototype.set,ir.prototype.saveAs=ir.prototype.save,ir.prototype.export=ir.prototype.output,ir.prototype.run=ir.prototype.then,E.getPageSize=function(sr,or,ar){if(_typeof(sr)==="object"){var lr=sr;sr=lr.orientation,or=lr.unit||or,ar=lr.format||ar}or=or||"mm",ar=ar||"a4",sr=(""+(sr||"P")).toLowerCase();var cr,dr=(""+ar).toLowerCase(),hr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(or){case"pt":cr=1;break;case"mm":cr=72/25.4;break;case"cm":cr=72/2.54;break;case"in":cr=72;break;case"px":cr=.75;break;case"pc":case"em":cr=12;break;case"ex":cr=6;break;default:throw"Invalid unit: "+or}var ur,pr=0,mr=0;if(hr.hasOwnProperty(dr))pr=hr[dr][1]/cr,mr=hr[dr][0]/cr;else try{pr=ar[1],mr=ar[0]}catch{throw new Error("Invalid format: "+ar)}if(sr==="p"||sr==="portrait")sr="p",mr>pr&&(ur=mr,mr=pr,pr=ur);else{if(sr!=="l"&&sr!=="landscape")throw"Invalid orientation: "+sr;sr="l",pr>mr&&(ur=mr,mr=pr,pr=ur)}return{width:mr,height:pr,unit:or,k:cr,orientation:sr}},er.html=function(sr,or){(or=or||{}).callback=or.callback||function(){},or.html2canvas=or.html2canvas||{},or.html2canvas.canvas=or.html2canvas.canvas||this.canvas,or.jsPDF=or.jsPDF||this,or.fontFaces=or.fontFaces?or.fontFaces.map(jt):null;var ar=new ir(or);return or.worker?ar:ar.from(sr).doCallback()}}(E.API),E.API.addJS=function(er){return Ht=er,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(er){var e;er.events.push(["postPutResources",function(){var tr=this,rr=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var nr=tr.outline.render().split(/\r\n/),ir=0;ir<nr.length;ir++){var sr=nr[ir],or=rr.exec(sr);if(or!=null){var ar=or[1];tr.internal.newObjectDeferredBegin(ar,!1)}tr.internal.write(sr)}if(this.outline.createNamedDestinations){var lr=this.internal.pages.length,cr=[];for(ir=0;ir<lr;ir++){var dr=tr.internal.newObject();cr.push(dr);var hr=tr.internal.getPageInfo(ir+1);tr.internal.write("<< /D["+hr.objId+" 0 R /XYZ null null null]>> endobj")}var ur=tr.internal.newObject();for(tr.internal.write("<< /Names [ "),ir=0;ir<cr.length;ir++)tr.internal.write("(page_"+(ir+1)+")"+cr[ir]+" 0 R");tr.internal.write(" ] >>","endobj"),e=tr.internal.newObject(),tr.internal.write("<< /Dests "+ur+" 0 R"),tr.internal.write(">>","endobj")}}]),er.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),er.events.push(["initialized",function(){var tr=this;tr.outline={createNamedDestinations:!1,root:{children:[]}},tr.outline.add=function(rr,nr,ir){var sr={title:nr,options:ir,children:[]};return rr==null&&(rr=this.root),rr.children.push(sr),sr},tr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=tr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},tr.outline.genIds_r=function(rr){rr.id=tr.internal.newObjectDeferred();for(var nr=0;nr<rr.children.length;nr++)this.genIds_r(rr.children[nr])},tr.outline.renderRoot=function(rr){this.objStart(rr),this.line("/Type /Outlines"),rr.children.length>0&&(this.line("/First "+this.makeRef(rr.children[0])),this.line("/Last "+this.makeRef(rr.children[rr.children.length-1]))),this.line("/Count "+this.count_r({count:0},rr)),this.objEnd()},tr.outline.renderItems=function(rr){for(var nr=this.ctx.pdf.internal.getVerticalCoordinateString,ir=0;ir<rr.children.length;ir++){var sr=rr.children[ir];this.objStart(sr),this.line("/Title "+this.makeString(sr.title)),this.line("/Parent "+this.makeRef(rr)),ir>0&&this.line("/Prev "+this.makeRef(rr.children[ir-1])),ir<rr.children.length-1&&this.line("/Next "+this.makeRef(rr.children[ir+1])),sr.children.length>0&&(this.line("/First "+this.makeRef(sr.children[0])),this.line("/Last "+this.makeRef(sr.children[sr.children.length-1])));var or=this.count=this.count_r({count:0},sr);if(or>0&&this.line("/Count "+or),sr.options&&sr.options.pageNumber){var ar=tr.internal.getPageInfo(sr.options.pageNumber);this.line("/Dest ["+ar.objId+" 0 R /XYZ 0 "+nr(0)+" 0]")}this.objEnd()}for(var lr=0;lr<rr.children.length;lr++)this.renderItems(rr.children[lr])},tr.outline.line=function(rr){this.ctx.val+=rr+`\r
`},tr.outline.makeRef=function(rr){return rr.id+" 0 R"},tr.outline.makeString=function(rr){return"("+tr.internal.pdfEscape(rr)+")"},tr.outline.objStart=function(rr){this.ctx.val+=`\r
`+rr.id+` 0 obj\r
<<\r
`},tr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},tr.outline.count_r=function(rr,nr){for(var ir=0;ir<nr.children.length;ir++)rr.count++,this.count_r(rr,nr.children[ir]);return rr.count}}])}(E.API),function(er){var e=[192,193,194,195,196,197,198,199];er.processJPEG=function(tr,rr,nr,ir,sr,or){var ar,lr=this.decode.DCT_DECODE,cr=null;if(typeof tr=="string"||this.__addimage__.isArrayBuffer(tr)||this.__addimage__.isArrayBufferView(tr)){switch(tr=sr||tr,tr=this.__addimage__.isArrayBuffer(tr)?new Uint8Array(tr):tr,(ar=function(dr){for(var hr,ur=256*dr.charCodeAt(4)+dr.charCodeAt(5),pr=dr.length,mr={width:0,height:0,numcomponents:1},fr=4;fr<pr;fr+=2){if(fr+=ur,e.indexOf(dr.charCodeAt(fr+1))!==-1){hr=256*dr.charCodeAt(fr+5)+dr.charCodeAt(fr+6),mr={width:256*dr.charCodeAt(fr+7)+dr.charCodeAt(fr+8),height:hr,numcomponents:dr.charCodeAt(fr+9)};break}ur=256*dr.charCodeAt(fr+2)+dr.charCodeAt(fr+3)}return mr}(tr=this.__addimage__.isArrayBufferView(tr)?this.__addimage__.arrayBufferToBinaryString(tr):tr)).numcomponents){case 1:or=this.color_spaces.DEVICE_GRAY;break;case 4:or=this.color_spaces.DEVICE_CMYK;break;case 3:or=this.color_spaces.DEVICE_RGB}cr={data:tr,width:ar.width,height:ar.height,colorSpace:or,bitsPerComponent:8,filter:lr,index:rr,alias:nr}}return cr}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var er,e,tr;function rr(ir){var sr,or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr;for(this.data=ir,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},dr=null;;){switch(sr=this.readUInt32(),pr=(function(){var br,Sr;for(Sr=[],br=0;br<4;++br)Sr.push(String.fromCharCode(this.data[this.pos++]));return Sr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(sr);break;case"fcTL":dr&&this.animation.frames.push(dr),this.pos+=4,dr={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},cr=this.readUInt16(),lr=this.readUInt16()||100,dr.delay=1e3*cr/lr,dr.disposeOp=this.data[this.pos++],dr.blendOp=this.data[this.pos++],dr.data=[];break;case"IDAT":case"fdAT":for(pr==="fdAT"&&(this.pos+=4,sr-=4),ir=(dr!=null?dr.data:void 0)||this.imgData,gr=0;0<=sr?gr<sr:gr>sr;0<=sr?++gr:--gr)ir.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(ar=this.palette.length/3,this.transparency.indexed=this.read(sr),this.transparency.indexed.length>ar)throw new Error("More transparent colors than palette size");if((mr=ar-this.transparency.indexed.length)>0)for(yr=0;0<=mr?yr<mr:yr>mr;0<=mr?++yr:--yr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(sr)[0];break;case 2:this.transparency.rgb=this.read(sr)}break;case"tEXt":hr=(fr=this.read(sr)).indexOf(0),ur=String.fromCharCode.apply(String,fr.slice(0,hr)),this.text[ur]=String.fromCharCode.apply(String,fr.slice(hr+1));break;case"IEND":return dr&&this.animation.frames.push(dr),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(vr=this.colorType)===4||vr===6,or=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*or,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=sr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}rr.prototype.read=function(ir){var sr,or;for(or=[],sr=0;0<=ir?sr<ir:sr>ir;0<=ir?++sr:--sr)or.push(this.data[this.pos++]);return or},rr.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.decodePixels=function(ir){var sr=this.pixelBitlength/8,or=new Uint8Array(this.width*this.height*sr),ar=0,lr=this;if(ir==null&&(ir=this.imgData),ir.length===0)return new Uint8Array(0);function cr(dr,hr,ur,pr){var mr,fr,gr,yr,vr,br,Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr,Mr=Math.ceil((lr.width-dr)/ur),zr=Math.ceil((lr.height-hr)/pr),Or=lr.width==Mr&&lr.height==zr;for(Nr=sr*Mr,Lr=Or?or:new Uint8Array(Nr*zr),br=ir.length,Ir=0,fr=0;Ir<zr&&ar<br;){switch(ir[ar++]){case 0:for(yr=Tr=0;Tr<Nr;yr=Tr+=1)Lr[fr++]=ir[ar++];break;case 1:for(yr=_r=0;_r<Nr;yr=_r+=1)mr=ir[ar++],vr=yr<sr?0:Lr[fr-sr],Lr[fr++]=(mr+vr)%256;break;case 2:for(yr=wr=0;wr<Nr;yr=wr+=1)mr=ir[ar++],gr=(yr-yr%sr)/sr,Ar=Ir&&Lr[(Ir-1)*Nr+gr*sr+yr%sr],Lr[fr++]=(Ar+mr)%256;break;case 3:for(yr=Er=0;Er<Nr;yr=Er+=1)mr=ir[ar++],gr=(yr-yr%sr)/sr,vr=yr<sr?0:Lr[fr-sr],Ar=Ir&&Lr[(Ir-1)*Nr+gr*sr+yr%sr],Lr[fr++]=(mr+Math.floor((vr+Ar)/2))%256;break;case 4:for(yr=xr=0;xr<Nr;yr=xr+=1)mr=ir[ar++],gr=(yr-yr%sr)/sr,vr=yr<sr?0:Lr[fr-sr],Ir===0?Ar=Dr=0:(Ar=Lr[(Ir-1)*Nr+gr*sr+yr%sr],Dr=gr&&Lr[(Ir-1)*Nr+(gr-1)*sr+yr%sr]),Sr=vr+Ar-Dr,jr=Math.abs(Sr-vr),Pr=Math.abs(Sr-Ar),Rr=Math.abs(Sr-Dr),Cr=jr<=Pr&&jr<=Rr?vr:Pr<=Rr?Ar:Dr,Lr[fr++]=(mr+Cr)%256;break;default:throw new Error("Invalid filter algorithm: "+ir[ar-1])}if(!Or){var Br=((hr+Ir*pr)*lr.width+dr)*sr,Ur=Ir*Nr;for(yr=0;yr<Mr;yr+=1){for(var qr=0;qr<sr;qr+=1)or[Br++]=Lr[Ur++];Br+=(ur-1)*sr}}Ir++}}return ir=unzlibSync(ir),lr.interlaceMethod==1?(cr(0,0,8,8),cr(4,0,8,8),cr(0,4,4,8),cr(2,0,4,4),cr(0,2,2,4),cr(1,0,2,2),cr(0,1,1,2)):cr(0,0,1,1),or},rr.prototype.decodePalette=function(){var ir,sr,or,ar,lr,cr,dr,hr,ur;for(or=this.palette,cr=this.transparency.indexed||[],lr=new Uint8Array((cr.length||0)+or.length),ar=0,ir=0,sr=dr=0,hr=or.length;dr<hr;sr=dr+=3)lr[ar++]=or[sr],lr[ar++]=or[sr+1],lr[ar++]=or[sr+2],lr[ar++]=(ur=cr[ir++])!=null?ur:255;return lr},rr.prototype.copyToImageData=function(ir,sr){var or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr;if(ar=this.colors,mr=null,or=this.hasAlphaChannel,this.palette.length&&(mr=(gr=this._decodedPalette)!=null?gr:this._decodedPalette=this.decodePalette(),ar=4,or=!0),pr=(lr=ir.data||ir).length,dr=mr||sr,cr=hr=0,ar===1)for(;cr<pr;)ur=mr?4*sr[cr/4]:hr,fr=dr[ur++],lr[cr++]=fr,lr[cr++]=fr,lr[cr++]=fr,lr[cr++]=or?dr[ur++]:255,hr=ur;else for(;cr<pr;)ur=mr?4*sr[cr/4]:hr,lr[cr++]=dr[ur++],lr[cr++]=dr[ur++],lr[cr++]=dr[ur++],lr[cr++]=or?dr[ur++]:255,hr=ur},rr.prototype.decode=function(){var ir;return ir=new Uint8Array(this.width*this.height*4),this.copyToImageData(ir,this.decodePixels()),ir};var nr=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),tr=e.getContext("2d")}catch{return!1}return!0}return!1};return nr(),er=function(ir){var sr;if(nr()===!0)return tr.width=ir.width,tr.height=ir.height,tr.clearRect(0,0,ir.width,ir.height),tr.putImageData(ir,0,0),(sr=new Image).src=e.toDataURL(),sr;throw new Error("This method requires a Browser with Canvas-capability.")},rr.prototype.decodeFrames=function(ir){var sr,or,ar,lr,cr,dr,hr,ur;if(this.animation){for(ur=[],or=cr=0,dr=(hr=this.animation.frames).length;cr<dr;or=++cr)sr=hr[or],ar=ir.createImageData(sr.width,sr.height),lr=this.decodePixels(new Uint8Array(sr.data)),this.copyToImageData(ar,lr),sr.imageData=ar,ur.push(sr.image=er(ar));return ur}},rr.prototype.renderFrame=function(ir,sr){var or,ar,lr;return or=(ar=this.animation.frames)[sr],lr=ar[sr-1],sr===0&&ir.clearRect(0,0,this.width,this.height),(lr!=null?lr.disposeOp:void 0)===1?ir.clearRect(lr.xOffset,lr.yOffset,lr.width,lr.height):(lr!=null?lr.disposeOp:void 0)===2&&ir.putImageData(lr.imageData,lr.xOffset,lr.yOffset),or.blendOp===0&&ir.clearRect(or.xOffset,or.yOffset,or.width,or.height),ir.drawImage(or.image,or.xOffset,or.yOffset)},rr.prototype.animate=function(ir){var sr,or,ar,lr,cr,dr,hr=this;return or=0,dr=this.animation,lr=dr.numFrames,ar=dr.frames,cr=dr.numPlays,(sr=function(){var ur,pr;if(ur=or++%lr,pr=ar[ur],hr.renderFrame(ir,ur),lr>1&&or/lr<cr)return hr.animation._timeout=setTimeout(sr,pr.delay)})()},rr.prototype.stopAnimation=function(){var ir;return clearTimeout((ir=this.animation)!=null?ir._timeout:void 0)},rr.prototype.render=function(ir){var sr,or;return ir._png&&ir._png.stopAnimation(),ir._png=this,ir.width=this.width,ir.height=this.height,sr=ir.getContext("2d"),this.animation?(this.decodeFrames(sr),this.animate(sr)):(or=sr.createImageData(this.width,this.height),this.copyToImageData(or,this.decodePixels()),sr.putImageData(or,0,0))},rr}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(er){var e=0;if(er[e++]!==71||er[e++]!==73||er[e++]!==70||er[e++]!==56||(er[e++]+1&253)!=56||er[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var tr=er[e++]|er[e++]<<8,rr=er[e++]|er[e++]<<8,nr=er[e++],ir=nr>>7,sr=1<<(7&nr)+1;er[e++],er[e++];var or=null,ar=null;ir&&(or=e,ar=sr,e+=3*sr);var lr=!0,cr=[],dr=0,hr=null,ur=0,pr=null;for(this.width=tr,this.height=rr;lr&&e<er.length;)switch(er[e++]){case 33:switch(er[e++]){case 255:if(er[e]!==11||er[e+1]==78&&er[e+2]==69&&er[e+3]==84&&er[e+4]==83&&er[e+5]==67&&er[e+6]==65&&er[e+7]==80&&er[e+8]==69&&er[e+9]==50&&er[e+10]==46&&er[e+11]==48&&er[e+12]==3&&er[e+13]==1&&er[e+16]==0)e+=14,pr=er[e++]|er[e++]<<8,e++;else for(e+=12;;){if(!((Ir=er[e++])>=0))throw Error("Invalid block size");if(Ir===0)break;e+=Ir}break;case 249:if(er[e++]!==4||er[e+4]!==0)throw new Error("Invalid graphics extension block.");var mr=er[e++];dr=er[e++]|er[e++]<<8,hr=er[e++],!(1&mr)&&(hr=null),ur=mr>>2&7,e++;break;case 254:for(;;){if(!((Ir=er[e++])>=0))throw Error("Invalid block size");if(Ir===0)break;e+=Ir}break;default:throw new Error("Unknown graphic control label: 0x"+er[e-1].toString(16))}break;case 44:var fr=er[e++]|er[e++]<<8,gr=er[e++]|er[e++]<<8,yr=er[e++]|er[e++]<<8,vr=er[e++]|er[e++]<<8,br=er[e++],Sr=br>>6&1,jr=1<<(7&br)+1,Cr=or,Pr=ar,Rr=!1;br>>7&&(Rr=!0,Cr=e,Pr=jr,e+=3*jr);var Lr=e;for(e++;;){var Ir;if(!((Ir=er[e++])>=0))throw Error("Invalid block size");if(Ir===0)break;e+=Ir}cr.push({x:fr,y:gr,width:yr,height:vr,has_local_palette:Rr,palette_offset:Cr,palette_size:Pr,data_offset:Lr,data_length:e-Lr,transparent_index:hr,interlaced:!!Sr,delay:dr,disposal:ur});break;case 59:lr=!1;break;default:throw new Error("Unknown gif block: 0x"+er[e-1].toString(16))}this.numFrames=function(){return cr.length},this.loopCount=function(){return pr},this.frameInfo=function(Nr){if(Nr<0||Nr>=cr.length)throw new Error("Frame index out of range.");return cr[Nr]},this.decodeAndBlitFrameBGRA=function(Nr,Ar){var Dr=this.frameInfo(Nr),Tr=Dr.width*Dr.height,_r=new Uint8Array(Tr);$t(er,Dr.data_offset,_r,Tr);var wr=Dr.palette_offset,Er=Dr.transparent_index;Er===null&&(Er=256);var xr=Dr.width,Mr=tr-xr,zr=xr,Or=4*(Dr.y*tr+Dr.x),Br=4*((Dr.y+Dr.height)*tr+Dr.x),Ur=Or,qr=4*Mr;Dr.interlaced===!0&&(qr+=4*tr*7);for(var Vr=8,Gr=0,$r=_r.length;Gr<$r;++Gr){var Fr=_r[Gr];if(zr===0&&(zr=xr,(Ur+=qr)>=Br&&(qr=4*Mr+4*tr*(Vr-1),Ur=Or+(xr+Mr)*(Vr<<1),Vr>>=1)),Fr===Er)Ur+=4;else{var Kr=er[wr+3*Fr],Zr=er[wr+3*Fr+1],nn=er[wr+3*Fr+2];Ar[Ur++]=nn,Ar[Ur++]=Zr,Ar[Ur++]=Kr,Ar[Ur++]=255}--zr}},this.decodeAndBlitFrameRGBA=function(Nr,Ar){var Dr=this.frameInfo(Nr),Tr=Dr.width*Dr.height,_r=new Uint8Array(Tr);$t(er,Dr.data_offset,_r,Tr);var wr=Dr.palette_offset,Er=Dr.transparent_index;Er===null&&(Er=256);var xr=Dr.width,Mr=tr-xr,zr=xr,Or=4*(Dr.y*tr+Dr.x),Br=4*((Dr.y+Dr.height)*tr+Dr.x),Ur=Or,qr=4*Mr;Dr.interlaced===!0&&(qr+=4*tr*7);for(var Vr=8,Gr=0,$r=_r.length;Gr<$r;++Gr){var Fr=_r[Gr];if(zr===0&&(zr=xr,(Ur+=qr)>=Br&&(qr=4*Mr+4*tr*(Vr-1),Ur=Or+(xr+Mr)*(Vr<<1),Vr>>=1)),Fr===Er)Ur+=4;else{var Kr=er[wr+3*Fr],Zr=er[wr+3*Fr+1],nn=er[wr+3*Fr+2];Ar[Ur++]=Kr,Ar[Ur++]=Zr,Ar[Ur++]=nn,Ar[Ur++]=255}--zr}}}function $t(er,e,tr,rr){for(var nr=er[e++],ir=1<<nr,sr=ir+1,or=sr+1,ar=nr+1,lr=(1<<ar)-1,cr=0,dr=0,hr=0,ur=er[e++],pr=new Int32Array(4096),mr=null;;){for(;cr<16&&ur!==0;)dr|=er[e++]<<cr,cr+=8,ur===1?ur=er[e++]:--ur;if(cr<ar)break;var fr=dr&lr;if(dr>>=ar,cr-=ar,fr!==ir){if(fr===sr)break;for(var gr=fr<or?fr:mr,yr=0,vr=gr;vr>ir;)vr=pr[vr]>>8,++yr;var br=vr;if(hr+yr+(gr!==fr?1:0)>rr)return void a.log("Warning, gif stream longer than expected.");tr[hr++]=br;var Sr=hr+=yr;for(gr!==fr&&(tr[hr++]=br),vr=gr;yr--;)vr=pr[vr],tr[--Sr]=255&vr,vr>>=8;mr!==null&&or<4096&&(pr[or++]=mr<<8|br,or>=lr+1&&ar<12&&(++ar,lr=lr<<1|1)),mr=fr}else or=sr+1,lr=(1<<(ar=nr+1))-1,mr=null}return hr!==rr&&a.log("Warning, gif stream shorter than expected."),tr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(er){var e,tr,rr,nr,ir,sr=Math.floor,or=new Array(64),ar=new Array(64),lr=new Array(64),cr=new Array(64),dr=new Array(65535),hr=new Array(65535),ur=new Array(64),pr=new Array(64),mr=[],fr=0,gr=7,yr=new Array(64),vr=new Array(64),br=new Array(64),Sr=new Array(256),jr=new Array(2048),Cr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Pr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Rr=[0,1,2,3,4,5,6,7,8,9,10,11],Lr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ir=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Nr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ar=[0,1,2,3,4,5,6,7,8,9,10,11],Dr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _r(Or,Br){for(var Ur=0,qr=0,Vr=new Array,Gr=1;Gr<=16;Gr++){for(var $r=1;$r<=Or[Gr];$r++)Vr[Br[qr]]=[],Vr[Br[qr]][0]=Ur,Vr[Br[qr]][1]=Gr,qr++,Ur++;Ur*=2}return Vr}function wr(Or){for(var Br=Or[0],Ur=Or[1]-1;Ur>=0;)Br&1<<Ur&&(fr|=1<<gr),Ur--,--gr<0&&(fr==255?(Er(255),Er(0)):Er(fr),gr=7,fr=0)}function Er(Or){mr.push(Or)}function xr(Or){Er(Or>>8&255),Er(255&Or)}function Mr(Or,Br,Ur,qr,Vr){for(var Gr,$r=Vr[0],Fr=Vr[240],Kr=function(sn,fn){var pn,yn,Cn,Rn,En,zn,Bn,rs,cs,_s,qn=0;for(cs=0;cs<8;++cs){pn=sn[qn],yn=sn[qn+1],Cn=sn[qn+2],Rn=sn[qn+3],En=sn[qn+4],zn=sn[qn+5],Bn=sn[qn+6];var vs=pn+(rs=sn[qn+7]),fs=pn-rs,xs=yn+Bn,Vn=yn-Bn,On=Cn+zn,Mn=Cn-zn,ds=Rn+En,In=Rn-En,ss=vs+ds,bn=vs-ds,$n=xs+On,Un=xs-On;sn[qn]=ss+$n,sn[qn+4]=ss-$n;var Kn=.707106781*(Un+bn);sn[qn+2]=bn+Kn,sn[qn+6]=bn-Kn;var hs=.382683433*((ss=In+Mn)-(Un=Vn+fs)),ps=.5411961*ss+hs,An=1.306562965*Un+hs,xn=.707106781*($n=Mn+Vn),jn=fs+xn,Ln=fs-xn;sn[qn+5]=Ln+ps,sn[qn+3]=Ln-ps,sn[qn+1]=jn+An,sn[qn+7]=jn-An,qn+=8}for(qn=0,cs=0;cs<8;++cs){pn=sn[qn],yn=sn[qn+8],Cn=sn[qn+16],Rn=sn[qn+24],En=sn[qn+32],zn=sn[qn+40],Bn=sn[qn+48];var Yn=pn+(rs=sn[qn+56]),Jn=pn-rs,Sn=yn+Bn,Dn=yn-Bn,Wn=Cn+zn,_i=Cn-zn,Cs=Rn+En,us=Rn-En,ws=Yn+Cs,Ps=Yn-Cs,Ts=Sn+Wn,Ls=Sn-Wn;sn[qn]=ws+Ts,sn[qn+32]=ws-Ts;var Os=.707106781*(Ls+Ps);sn[qn+16]=Ps+Os,sn[qn+48]=Ps-Os;var zs=.382683433*((ws=us+_i)-(Ls=Dn+Jn)),qs=.5411961*ws+zs,Ys=1.306562965*Ls+zs,$a=.707106781*(Ts=_i+Dn),eo=Jn+$a,mo=Jn-$a;sn[qn+40]=mo+qs,sn[qn+24]=mo-qs,sn[qn+8]=eo+Ys,sn[qn+56]=eo-Ys,qn++}for(cs=0;cs<64;++cs)_s=sn[cs]*fn[cs],ur[cs]=_s>0?_s+.5|0:_s-.5|0;return ur}(Or,Br),Zr=0;Zr<64;++Zr)pr[Cr[Zr]]=Kr[Zr];var nn=pr[0]-Ur;Ur=pr[0],nn==0?wr(qr[0]):(wr(qr[hr[Gr=32767+nn]]),wr(dr[Gr]));for(var Qr=63;Qr>0&&pr[Qr]==0;)Qr--;if(Qr==0)return wr($r),Ur;for(var cn,dn=1;dn<=Qr;){for(var en=dn;pr[dn]==0&&dn<=Qr;)++dn;var an=dn-en;if(an>=16){cn=an>>4;for(var tn=1;tn<=cn;++tn)wr(Fr);an&=15}Gr=32767+pr[dn],wr(Vr[(an<<4)+hr[Gr]]),wr(dr[Gr]),dn++}return Qr!=63&&wr($r),Ur}function zr(Or){Or=Math.min(Math.max(Or,1),100),ir!=Or&&(function(Br){for(var Ur=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],qr=0;qr<64;qr++){var Vr=sr((Ur[qr]*Br+50)/100);Vr=Math.min(Math.max(Vr,1),255),or[Cr[qr]]=Vr}for(var Gr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],$r=0;$r<64;$r++){var Fr=sr((Gr[$r]*Br+50)/100);Fr=Math.min(Math.max(Fr,1),255),ar[Cr[$r]]=Fr}for(var Kr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zr=0,nn=0;nn<8;nn++)for(var Qr=0;Qr<8;Qr++)lr[Zr]=1/(or[Cr[Zr]]*Kr[nn]*Kr[Qr]*8),cr[Zr]=1/(ar[Cr[Zr]]*Kr[nn]*Kr[Qr]*8),Zr++}(Or<50?Math.floor(5e3/Or):Math.floor(200-2*Or)),ir=Or)}this.encode=function(Or,Br){Br&&zr(Br),mr=new Array,fr=0,gr=7,xr(65496),xr(65504),xr(16),Er(74),Er(70),Er(73),Er(70),Er(0),Er(1),Er(1),Er(0),xr(1),xr(1),Er(0),Er(0),function(){xr(65499),xr(132),Er(0);for(var yn=0;yn<64;yn++)Er(or[yn]);Er(1);for(var Cn=0;Cn<64;Cn++)Er(ar[Cn])}(),function(yn,Cn){xr(65472),xr(17),Er(8),xr(Cn),xr(yn),Er(3),Er(1),Er(17),Er(0),Er(2),Er(17),Er(1),Er(3),Er(17),Er(1)}(Or.width,Or.height),function(){xr(65476),xr(418),Er(0);for(var yn=0;yn<16;yn++)Er(Pr[yn+1]);for(var Cn=0;Cn<=11;Cn++)Er(Rr[Cn]);Er(16);for(var Rn=0;Rn<16;Rn++)Er(Lr[Rn+1]);for(var En=0;En<=161;En++)Er(Ir[En]);Er(1);for(var zn=0;zn<16;zn++)Er(Nr[zn+1]);for(var Bn=0;Bn<=11;Bn++)Er(Ar[Bn]);Er(17);for(var rs=0;rs<16;rs++)Er(Dr[rs+1]);for(var cs=0;cs<=161;cs++)Er(Tr[cs])}(),xr(65498),xr(12),Er(3),Er(1),Er(0),Er(2),Er(17),Er(3),Er(17),Er(0),Er(63),Er(0);var Ur=0,qr=0,Vr=0;fr=0,gr=7,this.encode.displayName="_encode_";for(var Gr,$r,Fr,Kr,Zr,nn,Qr,cn,dn,en=Or.data,an=Or.width,tn=Or.height,sn=4*an,fn=0;fn<tn;){for(Gr=0;Gr<sn;){for(Zr=sn*fn+Gr,Qr=-1,cn=0,dn=0;dn<64;dn++)nn=Zr+(cn=dn>>3)*sn+(Qr=4*(7&dn)),fn+cn>=tn&&(nn-=sn*(fn+1+cn-tn)),Gr+Qr>=sn&&(nn-=Gr+Qr-sn+4),$r=en[nn++],Fr=en[nn++],Kr=en[nn++],yr[dn]=(jr[$r]+jr[Fr+256>>0]+jr[Kr+512>>0]>>16)-128,vr[dn]=(jr[$r+768>>0]+jr[Fr+1024>>0]+jr[Kr+1280>>0]>>16)-128,br[dn]=(jr[$r+1280>>0]+jr[Fr+1536>>0]+jr[Kr+1792>>0]>>16)-128;Ur=Mr(yr,lr,Ur,e,rr),qr=Mr(vr,cr,qr,tr,nr),Vr=Mr(br,cr,Vr,tr,nr),Gr+=32}fn+=8}if(gr>=0){var pn=[];pn[1]=gr+1,pn[0]=(1<<gr+1)-1,wr(pn)}return xr(65497),new Uint8Array(mr)},er=er||50,function(){for(var Or=String.fromCharCode,Br=0;Br<256;Br++)Sr[Br]=Or(Br)}(),e=_r(Pr,Rr),tr=_r(Nr,Ar),rr=_r(Lr,Ir),nr=_r(Dr,Tr),function(){for(var Or=1,Br=2,Ur=1;Ur<=15;Ur++){for(var qr=Or;qr<Br;qr++)hr[32767+qr]=Ur,dr[32767+qr]=[],dr[32767+qr][1]=Ur,dr[32767+qr][0]=qr;for(var Vr=-(Br-1);Vr<=-Or;Vr++)hr[32767+Vr]=Ur,dr[32767+Vr]=[],dr[32767+Vr][1]=Ur,dr[32767+Vr][0]=Br-1+Vr;Or<<=1,Br<<=1}}(),function(){for(var Or=0;Or<256;Or++)jr[Or]=19595*Or,jr[Or+256>>0]=38470*Or,jr[Or+512>>0]=7471*Or+32768,jr[Or+768>>0]=-11059*Or,jr[Or+1024>>0]=-21709*Or,jr[Or+1280>>0]=32768*Or+8421375,jr[Or+1536>>0]=-27439*Or,jr[Or+1792>>0]=-5329*Or}(),zr(er)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(er,e){if(this.pos=0,this.buffer=er,this.datav=new DataView(er.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(er){function e(Pr){if(!Pr)throw Error("assert :P")}function tr(Pr,Rr,Lr){for(var Ir=0;4>Ir;Ir++)if(Pr[Rr+Ir]!=Lr.charCodeAt(Ir))return!0;return!1}function rr(Pr,Rr,Lr,Ir,Nr){for(var Ar=0;Ar<Nr;Ar++)Pr[Rr+Ar]=Lr[Ir+Ar]}function nr(Pr,Rr,Lr,Ir){for(var Nr=0;Nr<Ir;Nr++)Pr[Rr+Nr]=Lr}function ir(Pr){return new Int32Array(Pr)}function sr(Pr,Rr){for(var Lr=[],Ir=0;Ir<Pr;Ir++)Lr.push(new Rr);return Lr}function or(Pr,Rr){var Lr=[];return function Ir(Nr,Ar,Dr){for(var Tr=Dr[Ar],_r=0;_r<Tr&&(Nr.push(Dr.length>Ar+1?[]:new Rr),!(Dr.length<Ar+1));_r++)Ir(Nr[_r],Ar+1,Dr)}(Lr,0,Pr),Lr}var ar=function(){var Pr=this;function Rr(Wr,Xr){for(var Jr=1<<Xr-1>>>0;Wr&Jr;)Jr>>>=1;return Jr?(Wr&Jr-1)+Jr:Wr}function Lr(Wr,Xr,Jr,un,gn){e(!(un%Jr));do Wr[Xr+(un-=Jr)]=gn;while(0<un)}function Ir(Wr,Xr,Jr,un,gn){if(e(2328>=gn),512>=gn)var vn=ir(512);else if((vn=ir(gn))==null)return 0;return function(wn,Tn,kn,Nn,Zn,ms){var gs,os,js=Tn,Ss=1<<kn,Qn=ir(16),es=ir(16);for(e(Zn!=0),e(Nn!=null),e(wn!=null),e(0<kn),os=0;os<Zn;++os){if(15<Nn[os])return 0;++Qn[Nn[os]]}if(Qn[0]==Zn)return 0;for(es[1]=0,gs=1;15>gs;++gs){if(Qn[gs]>1<<gs)return 0;es[gs+1]=es[gs]+Qn[gs]}for(os=0;os<Zn;++os)gs=Nn[os],0<Nn[os]&&(ms[es[gs]++]=os);if(es[15]==1)return(Nn=new Nr).g=0,Nn.value=ms[0],Lr(wn,js,1,Ss,Nn),Ss;var ks,Ms=-1,Is=Ss-1,Ws=0,Bs=1,Gs=1,Us=1<<kn;for(os=0,gs=1,Zn=2;gs<=kn;++gs,Zn<<=1){if(Bs+=Gs<<=1,0>(Gs-=Qn[gs]))return 0;for(;0<Qn[gs];--Qn[gs])(Nn=new Nr).g=gs,Nn.value=ms[os++],Lr(wn,js+Ws,Zn,Us,Nn),Ws=Rr(Ws,gs)}for(gs=kn+1,Zn=2;15>=gs;++gs,Zn<<=1){if(Bs+=Gs<<=1,0>(Gs-=Qn[gs]))return 0;for(;0<Qn[gs];--Qn[gs]){if(Nn=new Nr,(Ws&Is)!=Ms){for(js+=Us,ks=1<<(Ms=gs)-kn;15>Ms&&!(0>=(ks-=Qn[Ms]));)++Ms,ks<<=1;Ss+=Us=1<<(ks=Ms-kn),wn[Tn+(Ms=Ws&Is)].g=ks+kn,wn[Tn+Ms].value=js-Tn-Ms}Nn.g=gs-kn,Nn.value=ms[os++],Lr(wn,js+(Ws>>kn),Zn,Us,Nn),Ws=Rr(Ws,gs)}}return Bs!=2*es[15]-1?0:Ss}(Wr,Xr,Jr,un,gn,vn)}function Nr(){this.value=this.g=0}function Ar(){this.value=this.g=0}function Dr(){this.G=sr(5,Nr),this.H=ir(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=sr(Ho,Ar)}function Tr(Wr,Xr,Jr,un){e(Wr!=null),e(Xr!=null),e(2147483648>un),Wr.Ca=254,Wr.I=0,Wr.b=-8,Wr.Ka=0,Wr.oa=Xr,Wr.pa=Jr,Wr.Jd=Xr,Wr.Yc=Jr+un,Wr.Zc=4<=un?Jr+un-4+1:Jr,Gr(Wr)}function _r(Wr,Xr){for(var Jr=0;0<Xr--;)Jr|=Fr(Wr,128)<<Xr;return Jr}function wr(Wr,Xr){var Jr=_r(Wr,Xr);return $r(Wr)?-Jr:Jr}function Er(Wr,Xr,Jr,un){var gn,vn=0;for(e(Wr!=null),e(Xr!=null),e(4294967288>un),Wr.Sb=un,Wr.Ra=0,Wr.u=0,Wr.h=0,4<un&&(un=4),gn=0;gn<un;++gn)vn+=Xr[Jr+gn]<<8*gn;Wr.Ra=vn,Wr.bb=un,Wr.oa=Xr,Wr.pa=Jr}function xr(Wr){for(;8<=Wr.u&&Wr.bb<Wr.Sb;)Wr.Ra>>>=8,Wr.Ra+=Wr.oa[Wr.pa+Wr.bb]<<op-8>>>0,++Wr.bb,Wr.u-=8;Ur(Wr)&&(Wr.h=1,Wr.u=0)}function Mr(Wr,Xr){if(e(0<=Xr),!Wr.h&&Xr<=ap){var Jr=Br(Wr)&sp[Xr];return Wr.u+=Xr,xr(Wr),Jr}return Wr.h=1,Wr.u=0}function zr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Or(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Br(Wr){return Wr.Ra>>>(Wr.u&op-1)>>>0}function Ur(Wr){return e(Wr.bb<=Wr.Sb),Wr.h||Wr.bb==Wr.Sb&&Wr.u>op}function qr(Wr,Xr){Wr.u=Xr,Wr.h=Ur(Wr)}function Vr(Wr){Wr.u>=Sp&&(e(Wr.u>=Sp),xr(Wr))}function Gr(Wr){e(Wr!=null&&Wr.oa!=null),Wr.pa<Wr.Zc?(Wr.I=(Wr.oa[Wr.pa++]|Wr.I<<8)>>>0,Wr.b+=8):(e(Wr!=null&&Wr.oa!=null),Wr.pa<Wr.Yc?(Wr.b+=8,Wr.I=Wr.oa[Wr.pa++]|Wr.I<<8):Wr.Ka?Wr.b=0:(Wr.I<<=8,Wr.b+=8,Wr.Ka=1))}function $r(Wr){return _r(Wr,1)}function Fr(Wr,Xr){var Jr=Wr.Ca;0>Wr.b&&Gr(Wr);var un=Wr.b,gn=Jr*Xr>>>8,vn=(Wr.I>>>un>gn)+0;for(vn?(Jr-=gn,Wr.I-=gn+1<<un>>>0):Jr=gn+1,un=Jr,gn=0;256<=un;)gn+=8,un>>=8;return un=7^gn+wl[un],Wr.b-=un,Wr.Ca=(Jr<<un)-1,vn}function Kr(Wr,Xr,Jr){Wr[Xr+0]=Jr>>24&255,Wr[Xr+1]=Jr>>16&255,Wr[Xr+2]=Jr>>8&255,Wr[Xr+3]=Jr>>0&255}function Zr(Wr,Xr){return Wr[Xr+0]<<0|Wr[Xr+1]<<8}function nn(Wr,Xr){return Zr(Wr,Xr)|Wr[Xr+2]<<16}function Qr(Wr,Xr){return Zr(Wr,Xr)|Zr(Wr,Xr+2)<<16}function cn(Wr,Xr){var Jr=1<<Xr;return e(Wr!=null),e(0<Xr),Wr.X=ir(Jr),Wr.X==null?0:(Wr.Mb=32-Xr,Wr.Xa=Xr,1)}function dn(Wr,Xr){e(Wr!=null),e(Xr!=null),e(Wr.Xa==Xr.Xa),rr(Xr.X,0,Wr.X,0,1<<Xr.Xa)}function en(){this.X=[],this.Xa=this.Mb=0}function an(Wr,Xr,Jr,un){e(Jr!=null),e(un!=null);var gn=Jr[0],vn=un[0];return gn==0&&(gn=(Wr*vn+Xr/2)/Xr),vn==0&&(vn=(Xr*gn+Wr/2)/Wr),0>=gn||0>=vn?0:(Jr[0]=gn,un[0]=vn,1)}function tn(Wr,Xr){return Wr+(1<<Xr)-1>>>Xr}function sn(Wr,Xr){return((4278255360&Wr)+(4278255360&Xr)>>>0&4278255360)+((16711935&Wr)+(16711935&Xr)>>>0&16711935)>>>0}function fn(Wr,Xr){Pr[Xr]=function(Jr,un,gn,vn,wn,Tn,kn){var Nn;for(Nn=0;Nn<wn;++Nn){var Zn=Pr[Wr](Tn[kn+Nn-1],gn,vn+Nn);Tn[kn+Nn]=sn(Jr[un+Nn],Zn)}}}function pn(){this.ud=this.hd=this.jd=0}function yn(Wr,Xr){return((4278124286&(Wr^Xr))>>>1)+(Wr&Xr)>>>0}function Cn(Wr){return 0<=Wr&&256>Wr?Wr:0>Wr?0:255<Wr?255:void 0}function Rn(Wr,Xr){return Cn(Wr+(Wr-Xr+.5>>1))}function En(Wr,Xr,Jr){return Math.abs(Xr-Jr)-Math.abs(Wr-Jr)}function zn(Wr,Xr,Jr,un,gn,vn,wn){for(un=vn[wn-1],Jr=0;Jr<gn;++Jr)vn[wn+Jr]=un=sn(Wr[Xr+Jr],un)}function Bn(Wr,Xr,Jr,un,gn){var vn;for(vn=0;vn<Jr;++vn){var wn=Wr[Xr+vn],Tn=wn>>8&255,kn=16711935&(kn=(kn=16711935&wn)+((Tn<<16)+Tn));un[gn+vn]=(4278255360&wn)+kn>>>0}}function rs(Wr,Xr){Xr.jd=Wr>>0&255,Xr.hd=Wr>>8&255,Xr.ud=Wr>>16&255}function cs(Wr,Xr,Jr,un,gn,vn){var wn;for(wn=0;wn<un;++wn){var Tn=Xr[Jr+wn],kn=Tn>>>8,Nn=Tn,Zn=255&(Zn=(Zn=Tn>>>16)+((Wr.jd<<24>>24)*(kn<<24>>24)>>>5));Nn=255&(Nn=(Nn=Nn+((Wr.hd<<24>>24)*(kn<<24>>24)>>>5))+((Wr.ud<<24>>24)*(Zn<<24>>24)>>>5)),gn[vn+wn]=(4278255360&Tn)+(Zn<<16)+Nn}}function _s(Wr,Xr,Jr,un,gn){Pr[Xr]=function(vn,wn,Tn,kn,Nn,Zn,ms,gs,os){for(kn=ms;kn<gs;++kn)for(ms=0;ms<os;++ms)Nn[Zn++]=gn(Tn[un(vn[wn++])])},Pr[Wr]=function(vn,wn,Tn,kn,Nn,Zn,ms){var gs=8>>vn.b,os=vn.Ea,js=vn.K[0],Ss=vn.w;if(8>gs)for(vn=(1<<vn.b)-1,Ss=(1<<gs)-1;wn<Tn;++wn){var Qn,es=0;for(Qn=0;Qn<os;++Qn)Qn&vn||(es=un(kn[Nn++])),Zn[ms++]=gn(js[es&Ss]),es>>=gs}else Pr["VP8LMapColor"+Jr](kn,Nn,js,Ss,Zn,ms,wn,Tn,os)}}function qn(Wr,Xr,Jr,un,gn){for(Jr=Xr+Jr;Xr<Jr;){var vn=Wr[Xr++];un[gn++]=vn>>16&255,un[gn++]=vn>>8&255,un[gn++]=vn>>0&255}}function vs(Wr,Xr,Jr,un,gn){for(Jr=Xr+Jr;Xr<Jr;){var vn=Wr[Xr++];un[gn++]=vn>>16&255,un[gn++]=vn>>8&255,un[gn++]=vn>>0&255,un[gn++]=vn>>24&255}}function fs(Wr,Xr,Jr,un,gn){for(Jr=Xr+Jr;Xr<Jr;){var vn=(wn=Wr[Xr++])>>16&240|wn>>12&15,wn=wn>>0&240|wn>>28&15;un[gn++]=vn,un[gn++]=wn}}function xs(Wr,Xr,Jr,un,gn){for(Jr=Xr+Jr;Xr<Jr;){var vn=(wn=Wr[Xr++])>>16&248|wn>>13&7,wn=wn>>5&224|wn>>3&31;un[gn++]=vn,un[gn++]=wn}}function Vn(Wr,Xr,Jr,un,gn){for(Jr=Xr+Jr;Xr<Jr;){var vn=Wr[Xr++];un[gn++]=vn>>0&255,un[gn++]=vn>>8&255,un[gn++]=vn>>16&255}}function On(Wr,Xr,Jr,un,gn,vn){if(vn==0)for(Jr=Xr+Jr;Xr<Jr;)Kr(un,((vn=Wr[Xr++])[0]>>24|vn[1]>>8&65280|vn[2]<<8&16711680|vn[3]<<24)>>>0),gn+=32;else rr(un,gn,Wr,Xr,Jr)}function Mn(Wr,Xr){Pr[Xr][0]=Pr[Wr+"0"],Pr[Xr][1]=Pr[Wr+"1"],Pr[Xr][2]=Pr[Wr+"2"],Pr[Xr][3]=Pr[Wr+"3"],Pr[Xr][4]=Pr[Wr+"4"],Pr[Xr][5]=Pr[Wr+"5"],Pr[Xr][6]=Pr[Wr+"6"],Pr[Xr][7]=Pr[Wr+"7"],Pr[Xr][8]=Pr[Wr+"8"],Pr[Xr][9]=Pr[Wr+"9"],Pr[Xr][10]=Pr[Wr+"10"],Pr[Xr][11]=Pr[Wr+"11"],Pr[Xr][12]=Pr[Wr+"12"],Pr[Xr][13]=Pr[Wr+"13"],Pr[Xr][14]=Pr[Wr+"0"],Pr[Xr][15]=Pr[Wr+"0"]}function ds(Wr){return Wr==jm||Wr==Nm||Wr==tm||Wr==Om}function In(){this.eb=[],this.size=this.A=this.fb=0}function ss(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new In,this.f.kb=new ss,this.sd=null}function $n(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kn(Wr){return alert("todo:WebPSamplerProcessPlane"),Wr.T}function hs(Wr,Xr){var Jr=Wr.T,un=Xr.ba.f.RGBA,gn=un.eb,vn=un.fb+Wr.ka*un.A,wn=Ul[Xr.ba.S],Tn=Wr.y,kn=Wr.O,Nn=Wr.f,Zn=Wr.N,ms=Wr.ea,gs=Wr.W,os=Xr.cc,js=Xr.dc,Ss=Xr.Mc,Qn=Xr.Nc,es=Wr.ka,ks=Wr.ka+Wr.T,Ms=Wr.U,Is=Ms+1>>1;for(es==0?wn(Tn,kn,null,null,Nn,Zn,ms,gs,Nn,Zn,ms,gs,gn,vn,null,null,Ms):(wn(Xr.ec,Xr.fc,Tn,kn,os,js,Ss,Qn,Nn,Zn,ms,gs,gn,vn-un.A,gn,vn,Ms),++Jr);es+2<ks;es+=2)os=Nn,js=Zn,Ss=ms,Qn=gs,Zn+=Wr.Rc,gs+=Wr.Rc,vn+=2*un.A,wn(Tn,(kn+=2*Wr.fa)-Wr.fa,Tn,kn,os,js,Ss,Qn,Nn,Zn,ms,gs,gn,vn-un.A,gn,vn,Ms);return kn+=Wr.fa,Wr.j+ks<Wr.o?(rr(Xr.ec,Xr.fc,Tn,kn,Ms),rr(Xr.cc,Xr.dc,Nn,Zn,Is),rr(Xr.Mc,Xr.Nc,ms,gs,Is),Jr--):1&ks||wn(Tn,kn,null,null,Nn,Zn,ms,gs,Nn,Zn,ms,gs,gn,vn+un.A,null,null,Ms),Jr}function ps(Wr,Xr,Jr){var un=Wr.F,gn=[Wr.J];if(un!=null){var vn=Wr.U,wn=Xr.ba.S,Tn=wn==em||wn==tm;Xr=Xr.ba.f.RGBA;var kn=[0],Nn=Wr.ka;kn[0]=Wr.T,Wr.Kb&&(Nn==0?--kn[0]:(--Nn,gn[0]-=Wr.width),Wr.j+Wr.ka+Wr.T==Wr.o&&(kn[0]=Wr.o-Wr.j-Nn));var Zn=Xr.eb;Nn=Xr.fb+Nn*Xr.A,Wr=So(un,gn[0],Wr.width,vn,kn,Zn,Nn+(Tn?0:3),Xr.A),e(Jr==kn),Wr&&ds(wn)&&Bl(Zn,Nn,Tn,vn,kn,Xr.A)}return 0}function An(Wr){var Xr=Wr.ma,Jr=Xr.ba.S,un=11>Jr,gn=Jr==Qp||Jr==Jp||Jr==em||Jr==Im||Jr==12||ds(Jr);if(Xr.memory=null,Xr.Ib=null,Xr.Jb=null,Xr.Nd=null,!wp(Xr.Oa,Wr,gn?11:12))return 0;if(gn&&ds(Jr)&&Ds(),Wr.da)alert("todo:use_scaling");else{if(un){if(Xr.Ib=Kn,Wr.Kb){if(Jr=Wr.U+1>>1,Xr.memory=ir(Wr.U+2*Jr),Xr.memory==null)return 0;Xr.ec=Xr.memory,Xr.fc=0,Xr.cc=Xr.ec,Xr.dc=Xr.fc+Wr.U,Xr.Mc=Xr.cc,Xr.Nc=Xr.dc+Jr,Xr.Ib=hs,Ds()}}else alert("todo:EmitYUV");gn&&(Xr.Jb=ps,un&&as())}if(un&&!L0){for(Wr=0;256>Wr;++Wr)tv[Wr]=89858*(Wr-128)+nm>>rm,iv[Wr]=-22014*(Wr-128)+nm,nv[Wr]=-45773*(Wr-128),rv[Wr]=113618*(Wr-128)+nm>>rm;for(Wr=Ip;Wr<Lm;++Wr)Xr=76283*(Wr-16)+nm>>rm,sv[Wr-Ip]=po(Xr,255),av[Wr-Ip]=po(Xr+8>>4,15);L0=1}return 1}function xn(Wr){var Xr=Wr.ma,Jr=Wr.U,un=Wr.T;return e(!(1&Wr.ka)),0>=Jr||0>=un?0:(Jr=Xr.Ib(Wr,Xr),Xr.Jb!=null&&Xr.Jb(Wr,Xr,Jr),Xr.Dc+=Jr,1)}function jn(Wr){Wr.ma.memory=null}function Ln(Wr,Xr,Jr,un){return Mr(Wr,8)!=47?0:(Xr[0]=Mr(Wr,14)+1,Jr[0]=Mr(Wr,14)+1,un[0]=Mr(Wr,1),Mr(Wr,3)!=0?0:!Wr.h)}function Yn(Wr,Xr){if(4>Wr)return Wr+1;var Jr=Wr-2>>1;return(2+(1&Wr)<<Jr)+Mr(Xr,Jr)+1}function Jn(Wr,Xr){return 120<Xr?Xr-120:1<=(Jr=((Jr=Vy[Xr-1])>>4)*Wr+(8-(15&Jr)))?Jr:1;var Jr}function Sn(Wr,Xr,Jr){var un=Br(Jr),gn=Wr[Xr+=255&un].g-8;return 0<gn&&(qr(Jr,Jr.u+8),un=Br(Jr),Xr+=Wr[Xr].value,Xr+=un&(1<<gn)-1),qr(Jr,Jr.u+Wr[Xr].g),Wr[Xr].value}function Dn(Wr,Xr,Jr){return Jr.g+=Wr.g,Jr.value+=Wr.value<<Xr>>>0,e(8>=Jr.g),Wr.g}function Wn(Wr,Xr,Jr){var un=Wr.xc;return e((Xr=un==0?0:Wr.vc[Wr.md*(Jr>>un)+(Xr>>un)])<Wr.Wb),Wr.Ya[Xr]}function _i(Wr,Xr,Jr,un){var gn=Wr.ab,vn=Wr.c*Xr,wn=Wr.C;Xr=wn+Xr;var Tn=Jr,kn=un;for(un=Wr.Ta,Jr=Wr.Ua;0<gn--;){var Nn=Wr.gc[gn],Zn=wn,ms=Xr,gs=Tn,os=kn,js=(kn=un,Tn=Jr,Nn.Ea);switch(e(Zn<ms),e(ms<=Nn.nc),Nn.hc){case 2:Hp(gs,os,(ms-Zn)*js,kn,Tn);break;case 0:var Ss=Zn,Qn=ms,es=kn,ks=Tn,Ms=(Us=Nn).Ea;Ss==0&&(km(gs,os,null,null,1,es,ks),zn(gs,os+1,0,0,Ms-1,es,ks+1),os+=Ms,ks+=Ms,++Ss);for(var Is=1<<Us.b,Ws=Is-1,Bs=tn(Ms,Us.b),Gs=Us.K,Us=Us.w+(Ss>>Us.b)*Bs;Ss<Qn;){var uo=Gs,vo=Us,lo=1;for(Ap(gs,os,es,ks-Ms,1,es,ks);lo<Ms;){var oo=(lo&~Ws)+Is;oo>Ms&&(oo=Ms),(0,ju[uo[vo++]>>8&15])(gs,os+ +lo,es,ks+lo-Ms,oo-lo,es,ks+lo),lo=oo}os+=Ms,ks+=Ms,++Ss&Ws||(Us+=Bs)}ms!=Nn.nc&&rr(kn,Tn-js,kn,Tn+(ms-Zn-1)*js,js);break;case 1:for(js=gs,Qn=os,Ms=(gs=Nn.Ea)-(ks=gs&~(es=(os=1<<Nn.b)-1)),Ss=tn(gs,Nn.b),Is=Nn.K,Nn=Nn.w+(Zn>>Nn.b)*Ss;Zn<ms;){for(Ws=Is,Bs=Nn,Gs=new pn,Us=Qn+ks,uo=Qn+gs;Qn<Us;)rs(Ws[Bs++],Gs),Yu(Gs,js,Qn,os,kn,Tn),Qn+=os,Tn+=os;Qn<uo&&(rs(Ws[Bs++],Gs),Yu(Gs,js,Qn,Ms,kn,Tn),Qn+=Ms,Tn+=Ms),++Zn&es||(Nn+=Ss)}break;case 3:if(gs==kn&&os==Tn&&0<Nn.b){for(Qn=kn,gs=js=Tn+(ms-Zn)*js-(ks=(ms-Zn)*tn(Nn.Ea,Nn.b)),os=kn,es=Tn,Ss=[],ks=(Ms=ks)-1;0<=ks;--ks)Ss[ks]=os[es+ks];for(ks=Ms-1;0<=ks;--ks)Qn[gs+ks]=Ss[ks];Ll(Nn,Zn,ms,kn,js,kn,Tn)}else Ll(Nn,Zn,ms,gs,os,kn,Tn)}Tn=un,kn=Jr}kn!=Jr&&rr(un,Jr,Tn,kn,vn)}function Cs(Wr,Xr){var Jr=Wr.V,un=Wr.Ba+Wr.c*Wr.C,gn=Xr-Wr.C;if(e(Xr<=Wr.l.o),e(16>=gn),0<gn){var vn=Wr.l,wn=Wr.Ta,Tn=Wr.Ua,kn=vn.width;if(_i(Wr,gn,Jr,un),gn=Tn=[Tn],e((Jr=Wr.C)<(un=Xr)),e(vn.v<vn.va),un>vn.o&&(un=vn.o),Jr<vn.j){var Nn=vn.j-Jr;Jr=vn.j,gn[0]+=Nn*kn}if(Jr>=un?Jr=0:(gn[0]+=4*vn.v,vn.ka=Jr-vn.j,vn.U=vn.va-vn.v,vn.T=un-Jr,Jr=1),Jr){if(Tn=Tn[0],11>(Jr=Wr.ca).S){var Zn=Jr.f.RGBA,ms=(un=Jr.S,gn=vn.U,vn=vn.T,Nn=Zn.eb,Zn.A),gs=vn;for(Zn=Zn.fb+Wr.Ma*Zn.A;0<gs--;){var os=wn,js=Tn,Ss=gn,Qn=Nn,es=Zn;switch(un){case Zp:El(os,js,Ss,Qn,es);break;case Qp:Qo(os,js,Ss,Qn,es);break;case jm:Qo(os,js,Ss,Qn,es),Bl(Qn,es,0,Ss,1,0);break;case C0:fu(os,js,Ss,Qn,es);break;case Jp:On(os,js,Ss,Qn,es,1);break;case Nm:On(os,js,Ss,Qn,es,1),Bl(Qn,es,0,Ss,1,0);break;case em:On(os,js,Ss,Qn,es,0);break;case tm:On(os,js,Ss,Qn,es,0),Bl(Qn,es,1,Ss,1,0);break;case Im:Nu(os,js,Ss,Qn,es);break;case Om:Nu(os,js,Ss,Qn,es),Eo(Qn,es,Ss,1,0);break;case k0:hu(os,js,Ss,Qn,es);break;default:e(0)}Tn+=kn,Zn+=ms}Wr.Ma+=vn}else alert("todo:EmitRescaledRowsYUVA");e(Wr.Ma<=Jr.height)}}Wr.C=Xr,e(Wr.C<=Wr.i)}function us(Wr){var Xr;if(0<Wr.ua)return 0;for(Xr=0;Xr<Wr.Wb;++Xr){var Jr=Wr.Ya[Xr].G,un=Wr.Ya[Xr].H;if(0<Jr[1][un[1]+0].g||0<Jr[2][un[2]+0].g||0<Jr[3][un[3]+0].g)return 0}return 1}function ws(Wr,Xr,Jr,un,gn,vn){if(Wr.Z!=0){var wn=Wr.qd,Tn=Wr.rd;for(e(Lu[Wr.Z]!=null);Xr<Jr;++Xr)Lu[Wr.Z](wn,Tn,un,gn,un,gn,vn),wn=un,Tn=gn,gn+=vn;Wr.qd=wn,Wr.rd=Tn}}function Ps(Wr,Xr){var Jr=Wr.l.ma,un=Jr.Z==0||Jr.Z==1?Wr.l.j:Wr.C;if(un=Wr.C<un?un:Wr.C,e(Xr<=Wr.l.o),Xr>un){var gn=Wr.l.width,vn=Jr.ca,wn=Jr.tb+gn*un,Tn=Wr.V,kn=Wr.Ba+Wr.c*un,Nn=Wr.gc;e(Wr.ab==1),e(Nn[0].hc==3),qp(Nn[0],un,Xr,Tn,kn,vn,wn),ws(Jr,un,Xr,vn,wn,gn)}Wr.C=Wr.Ma=Xr}function Ts(Wr,Xr,Jr,un,gn,vn,wn){var Tn=Wr.$/un,kn=Wr.$%un,Nn=Wr.m,Zn=Wr.s,ms=Jr+Wr.$,gs=ms;gn=Jr+un*gn;var os=Jr+un*vn,js=280+Zn.ua,Ss=Wr.Pb?Tn:16777216,Qn=0<Zn.ua?Zn.Wa:null,es=Zn.wc,ks=ms<os?Wn(Zn,kn,Tn):null;e(Wr.C<vn),e(os<=gn);var Ms=!1;e:for(;;){for(;Ms||ms<os;){var Is=0;if(Tn>=Ss){var Ws=ms-Jr;e((Ss=Wr).Pb),Ss.wd=Ss.m,Ss.xd=Ws,0<Ss.s.ua&&dn(Ss.s.Wa,Ss.s.vb),Ss=Tn+zy}if(kn&es||(ks=Wn(Zn,kn,Tn)),e(ks!=null),ks.Qb&&(Xr[ms]=ks.qb,Ms=!0),!Ms)if(Vr(Nn),ks.jc){Is=Nn,Ws=Xr;var Bs=ms,Gs=ks.pd[Br(Is)&Ho-1];e(ks.jc),256>Gs.g?(qr(Is,Is.u+Gs.g),Ws[Bs]=Gs.value,Is=0):(qr(Is,Is.u+Gs.g-256),e(256<=Gs.value),Is=Gs.value),Is==0&&(Ms=!0)}else Is=Sn(ks.G[0],ks.H[0],Nn);if(Nn.h)break;if(Ms||256>Is){if(!Ms)if(ks.nd)Xr[ms]=(ks.qb|Is<<8)>>>0;else{if(Vr(Nn),Ms=Sn(ks.G[1],ks.H[1],Nn),Vr(Nn),Ws=Sn(ks.G[2],ks.H[2],Nn),Bs=Sn(ks.G[3],ks.H[3],Nn),Nn.h)break;Xr[ms]=(Bs<<24|Ms<<16|Is<<8|Ws)>>>0}if(Ms=!1,++ms,++kn>=un&&(kn=0,++Tn,wn!=null&&Tn<=vn&&!(Tn%16)&&wn(Wr,Tn),Qn!=null))for(;gs<ms;)Is=Xr[gs++],Qn.X[(506832829*Is&4294967295)>>>Qn.Mb]=Is}else if(280>Is){if(Is=Yn(Is-256,Nn),Ws=Sn(ks.G[4],ks.H[4],Nn),Vr(Nn),Ws=Jn(un,Ws=Yn(Ws,Nn)),Nn.h)break;if(ms-Jr<Ws||gn-ms<Is)break e;for(Bs=0;Bs<Is;++Bs)Xr[ms+Bs]=Xr[ms+Bs-Ws];for(ms+=Is,kn+=Is;kn>=un;)kn-=un,++Tn,wn!=null&&Tn<=vn&&!(Tn%16)&&wn(Wr,Tn);if(e(ms<=gn),kn&es&&(ks=Wn(Zn,kn,Tn)),Qn!=null)for(;gs<ms;)Is=Xr[gs++],Qn.X[(506832829*Is&4294967295)>>>Qn.Mb]=Is}else{if(!(Is<js))break e;for(Ms=Is-280,e(Qn!=null);gs<ms;)Is=Xr[gs++],Qn.X[(506832829*Is&4294967295)>>>Qn.Mb]=Is;Is=ms,e(!(Ms>>>(Ws=Qn).Xa)),Xr[Is]=Ws.X[Ms],Ms=!0}Ms||e(Nn.h==Ur(Nn))}if(Wr.Pb&&Nn.h&&ms<gn)e(Wr.m.h),Wr.a=5,Wr.m=Wr.wd,Wr.$=Wr.xd,0<Wr.s.ua&&dn(Wr.s.vb,Wr.s.Wa);else{if(Nn.h)break e;wn!=null&&wn(Wr,Tn>vn?vn:Tn),Wr.a=0,Wr.$=ms-Jr}return 1}return Wr.a=3,0}function Ls(Wr){e(Wr!=null),Wr.vc=null,Wr.yc=null,Wr.Ya=null;var Xr=Wr.Wa;Xr!=null&&(Xr.X=null),Wr.vb=null,e(Wr!=null)}function Os(){var Wr=new np;return Wr==null?null:(Wr.a=0,Wr.xb=j0,Mn("Predictor","VP8LPredictors"),Mn("Predictor","VP8LPredictors_C"),Mn("PredictorAdd","VP8LPredictorsAdd"),Mn("PredictorAdd","VP8LPredictorsAdd_C"),Hp=Bn,Yu=cs,El=qn,Qo=vs,Nu=fs,hu=xs,fu=Vn,Pr.VP8LMapColor32b=lp,Pr.VP8LMapColor8b=Kp,Wr)}function zs(Wr,Xr,Jr,un,gn){var vn=1,wn=[Wr],Tn=[Xr],kn=un.m,Nn=un.s,Zn=null,ms=0;e:for(;;){if(Jr)for(;vn&&Mr(kn,1);){var gs=wn,os=Tn,js=un,Ss=1,Qn=js.m,es=js.gc[js.ab],ks=Mr(Qn,2);if(js.Oc&1<<ks)vn=0;else{switch(js.Oc|=1<<ks,es.hc=ks,es.Ea=gs[0],es.nc=os[0],es.K=[null],++js.ab,e(4>=js.ab),ks){case 0:case 1:es.b=Mr(Qn,3)+2,Ss=zs(tn(es.Ea,es.b),tn(es.nc,es.b),0,js,es.K),es.K=es.K[0];break;case 3:var Ms,Is=Mr(Qn,8)+1,Ws=16<Is?0:4<Is?1:2<Is?2:3;if(gs[0]=tn(es.Ea,Ws),es.b=Ws,Ms=Ss=zs(Is,1,0,js,es.K)){var Bs,Gs=Is,Us=es,uo=1<<(8>>Us.b),vo=ir(uo);if(vo==null)Ms=0;else{var lo=Us.K[0],oo=Us.w;for(vo[0]=Us.K[0][0],Bs=1;Bs<1*Gs;++Bs)vo[Bs]=sn(lo[oo+Bs],vo[Bs-1]);for(;Bs<4*uo;++Bs)vo[Bs]=0;Us.K[0]=null,Us.K[0]=vo,Ms=1}}Ss=Ms;break;case 2:break;default:e(0)}vn=Ss}}if(wn=wn[0],Tn=Tn[0],vn&&Mr(kn,1)&&!(vn=1<=(ms=Mr(kn,4))&&11>=ms)){un.a=3;break e}var wo;if(wo=vn)t:{var _o,xa,Oo,Sl=un,Mo=wn,Al=Tn,bo=ms,Il=Jr,Nl=Sl.m,Bo=Sl.s,qo=[null],yl=1,zl=0,ou=Uy[bo];r:for(;;){if(Il&&Mr(Nl,1)){var Vo=Mr(Nl,3)+2,yu=tn(Mo,Vo),_h=tn(Al,Vo),fp=yu*_h;if(!zs(yu,_h,0,Sl,qo))break r;for(qo=qo[0],Bo.xc=Vo,_o=0;_o<fp;++_o){var Fu=qo[_o]>>8&65535;qo[_o]=Fu,Fu>=yl&&(yl=Fu+1)}}if(Nl.h)break r;for(xa=0;5>xa;++xa){var Ro=R0[xa];!xa&&0<bo&&(Ro+=1<<bo),zl<Ro&&(zl=Ro)}var Fm=sr(yl*ou,Nr),B0=yl,V0=sr(B0,Dr);if(V0==null)var sm=null;else e(65536>=B0),sm=V0;var jp=ir(zl);if(sm==null||jp==null||Fm==null){Sl.a=1;break r}var am=Fm;for(_o=Oo=0;_o<yl;++_o){var _c=sm[_o],pp=_c.G,mp=_c.H,U0=0,om=1,z0=0;for(xa=0;5>xa;++xa){Ro=R0[xa],pp[xa]=am,mp[xa]=Oo,!xa&&0<bo&&(Ro+=1<<bo);i:{var lm,$m=Ro,cm=Sl,Np=jp,cv=am,uv=Oo,Bm=0,$u=cm.m,dv=Mr($u,1);if(nr(Np,0,0,$m),dv){var hv=Mr($u,1)+1,fv=Mr($u,1),W0=Mr($u,fv==0?1:8);Np[W0]=1,hv==2&&(Np[W0=Mr($u,8)]=1);var um=1}else{var H0=ir(19),q0=Mr($u,4)+4;if(19<q0){cm.a=3;var dm=0;break i}for(lm=0;lm<q0;++lm)H0[By[lm]]=Mr($u,3);var Vm=void 0,Op=void 0,K0=cm,pv=H0,hm=$m,G0=Np,Um=0,Bu=K0.m,X0=8,Y0=sr(128,Nr);n:for(;Ir(Y0,0,7,pv,19);){if(Mr(Bu,1)){var mv=2+2*Mr(Bu,3);if((Vm=2+Mr(Bu,mv))>hm)break n}else Vm=hm;for(Op=0;Op<hm&&Vm--;){Vr(Bu);var Z0=Y0[0+(127&Br(Bu))];qr(Bu,Bu.u+Z0.g);var gp=Z0.value;if(16>gp)G0[Op++]=gp,gp!=0&&(X0=gp);else{var gv=gp==16,Q0=gp-16,yv=Fy[Q0],J0=Mr(Bu,Ly[Q0])+yv;if(Op+J0>hm)break n;for(var vv=gv?X0:0;0<J0--;)G0[Op++]=vv}}Um=1;break n}Um||(K0.a=3),um=Um}(um=um&&!$u.h)&&(Bm=Ir(cv,uv,8,Np,$m)),um&&Bm!=0?dm=Bm:(cm.a=3,dm=0)}if(dm==0)break r;if(om&&$y[xa]==1&&(om=am[Oo].g==0),U0+=am[Oo].g,Oo+=dm,3>=xa){var Mp,zm=jp[0];for(Mp=1;Mp<Ro;++Mp)jp[Mp]>zm&&(zm=jp[Mp]);z0+=zm}}if(_c.nd=om,_c.Qb=0,om&&(_c.qb=(pp[3][mp[3]+0].value<<24|pp[1][mp[1]+0].value<<16|pp[2][mp[2]+0].value)>>>0,U0==0&&256>pp[0][mp[0]+0].value&&(_c.Qb=1,_c.qb+=pp[0][mp[0]+0].value<<8)),_c.jc=!_c.Qb&&6>z0,_c.jc){var fm,vu=_c;for(fm=0;fm<Ho;++fm){var Vu=fm,Uu=vu.pd[Vu],pm=vu.G[0][vu.H[0]+Vu];256<=pm.value?(Uu.g=pm.g+256,Uu.value=pm.value):(Uu.g=0,Uu.value=0,Vu>>=Dn(pm,8,Uu),Vu>>=Dn(vu.G[1][vu.H[1]+Vu],16,Uu),Vu>>=Dn(vu.G[2][vu.H[2]+Vu],0,Uu),Dn(vu.G[3][vu.H[3]+Vu],24,Uu))}}}Bo.vc=qo,Bo.Wb=yl,Bo.Ya=sm,Bo.yc=Fm,wo=1;break t}wo=0}if(!(vn=wo)){un.a=3;break e}if(0<ms){if(Nn.ua=1<<ms,!cn(Nn.Wa,ms)){un.a=1,vn=0;break e}}else Nn.ua=0;var Wm=un,ey=wn,bv=Tn,Hm=Wm.s,qm=Hm.xc;if(Wm.c=ey,Wm.i=bv,Hm.md=tn(ey,qm),Hm.wc=qm==0?-1:(1<<qm)-1,Jr){un.xb=Yy;break e}if((Zn=ir(wn*Tn))==null){un.a=1,vn=0;break e}vn=(vn=Ts(un,Zn,0,wn,Tn,Tn,null))&&!kn.h;break e}return vn?(gn!=null?gn[0]=Zn:(e(Zn==null),e(Jr)),un.$=0,Jr||Ls(Nn)):Ls(Nn),vn}function qs(Wr,Xr){var Jr=Wr.c*Wr.i,un=Jr+Xr+16*Xr;return e(Wr.c<=Xr),Wr.V=ir(un),Wr.V==null?(Wr.Ta=null,Wr.Ua=0,Wr.a=1,0):(Wr.Ta=Wr.V,Wr.Ua=Wr.Ba+Jr+Xr,1)}function Ys(Wr,Xr){var Jr=Wr.C,un=Xr-Jr,gn=Wr.V,vn=Wr.Ba+Wr.c*Jr;for(e(Xr<=Wr.l.o);0<un;){var wn=16<un?16:un,Tn=Wr.l.ma,kn=Wr.l.width,Nn=kn*wn,Zn=Tn.ca,ms=Tn.tb+kn*Jr,gs=Wr.Ta,os=Wr.Ua;_i(Wr,wn,gn,vn),No(gs,os,Zn,ms,Nn),ws(Tn,Jr,Jr+wn,Zn,ms,kn),un-=wn,gn+=wn*Wr.c,Jr+=wn}e(Jr==Xr),Wr.C=Wr.Ma=Xr}function $a(){this.ub=this.yd=this.td=this.Rb=0}function eo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mo(){this.Fb=this.Bb=this.Cb=0,this.Zb=ir(4),this.Lb=ir(4)}function _n(){this.Yb=function(){var Wr=[];return function Xr(Jr,un,gn){for(var vn=gn[un],wn=0;wn<vn&&(Jr.push(gn.length>un+1?[]:0),!(gn.length<un+1));wn++)Xr(Jr[wn],un+1,gn)}(Wr,0,[3,11]),Wr}()}function Hn(){this.jb=ir(3),this.Wc=or([4,8],_n),this.Xc=or([4,17],_n)}function bs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ir(4),this.od=new ir(4)}function Es(){this.ld=this.La=this.dd=this.tc=0}function $s(){this.Na=this.la=0}function Rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ns(){this.ad=ir(384),this.Za=0,this.Ob=ir(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ba(){this.uc=this.M=this.Nb=0,this.wa=Array(new Es),this.Y=0,this.ya=Array(new Ns),this.aa=0,this.l=new Hs}function Zs(){this.y=ir(16),this.f=ir(8),this.ea=ir(8)}function Qs(){this.cb=this.a=0,this.sc="",this.m=new zr,this.Od=new $a,this.Kc=new eo,this.ed=new bs,this.Qa=new mo,this.Ic=this.$c=this.Aa=0,this.D=new ba,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=sr(8,zr),this.ia=0,this.pb=sr(4,Rs),this.Pa=new Hn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zs),this.Hd=0,this.rb=Array(new $s),this.sb=0,this.wa=Array(new Es),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ns),this.L=this.aa=0,this.gd=or([4,2],Es),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function no(){var Wr=new Qs;return Wr!=null&&(Wr.a=0,Wr.sc="OK",Wr.cb=0,Wr.Xb=0,Rp||(Rp=Ao)),Wr}function Ks(Wr,Xr,Jr){return Wr.a==0&&(Wr.a=Xr,Wr.sc=Jr,Wr.cb=0),0}function io(Wr,Xr,Jr){return 3<=Jr&&Wr[Xr+0]==157&&Wr[Xr+1]==1&&Wr[Xr+2]==42}function co(Wr,Xr){if(Wr==null)return 0;if(Wr.a=0,Wr.sc="OK",Xr==null)return Ks(Wr,2,"null VP8Io passed to VP8GetHeaders()");var Jr=Xr.data,un=Xr.w,gn=Xr.ha;if(4>gn)return Ks(Wr,7,"Truncated header.");var vn=Jr[un+0]|Jr[un+1]<<8|Jr[un+2]<<16,wn=Wr.Od;if(wn.Rb=!(1&vn),wn.td=vn>>1&7,wn.yd=vn>>4&1,wn.ub=vn>>5,3<wn.td)return Ks(Wr,3,"Incorrect keyframe parameters.");if(!wn.yd)return Ks(Wr,4,"Frame not displayable.");un+=3,gn-=3;var Tn=Wr.Kc;if(wn.Rb){if(7>gn)return Ks(Wr,7,"cannot parse picture header");if(!io(Jr,un,gn))return Ks(Wr,3,"Bad code word");Tn.c=16383&(Jr[un+4]<<8|Jr[un+3]),Tn.Td=Jr[un+4]>>6,Tn.i=16383&(Jr[un+6]<<8|Jr[un+5]),Tn.Ud=Jr[un+6]>>6,un+=7,gn-=7,Wr.za=Tn.c+15>>4,Wr.Ub=Tn.i+15>>4,Xr.width=Tn.c,Xr.height=Tn.i,Xr.Da=0,Xr.j=0,Xr.v=0,Xr.va=Xr.width,Xr.o=Xr.height,Xr.da=0,Xr.ib=Xr.width,Xr.hb=Xr.height,Xr.U=Xr.width,Xr.T=Xr.height,nr((vn=Wr.Pa).jb,0,255,vn.jb.length),e((vn=Wr.Qa)!=null),vn.Cb=0,vn.Bb=0,vn.Fb=1,nr(vn.Zb,0,0,vn.Zb.length),nr(vn.Lb,0,0,vn.Lb)}if(wn.ub>gn)return Ks(Wr,7,"bad partition length");Tr(vn=Wr.m,Jr,un,wn.ub),un+=wn.ub,gn-=wn.ub,wn.Rb&&(Tn.Ld=$r(vn),Tn.Kd=$r(vn)),Tn=Wr.Qa;var kn,Nn=Wr.Pa;if(e(vn!=null),e(Tn!=null),Tn.Cb=$r(vn),Tn.Cb){if(Tn.Bb=$r(vn),$r(vn)){for(Tn.Fb=$r(vn),kn=0;4>kn;++kn)Tn.Zb[kn]=$r(vn)?wr(vn,7):0;for(kn=0;4>kn;++kn)Tn.Lb[kn]=$r(vn)?wr(vn,6):0}if(Tn.Bb)for(kn=0;3>kn;++kn)Nn.jb[kn]=$r(vn)?_r(vn,8):255}else Tn.Bb=0;if(vn.Ka)return Ks(Wr,3,"cannot parse segment header");if((Tn=Wr.ed).zd=$r(vn),Tn.Tb=_r(vn,6),Tn.wb=_r(vn,3),Tn.Pc=$r(vn),Tn.Pc&&$r(vn)){for(Nn=0;4>Nn;++Nn)$r(vn)&&(Tn.vd[Nn]=wr(vn,6));for(Nn=0;4>Nn;++Nn)$r(vn)&&(Tn.od[Nn]=wr(vn,6))}if(Wr.L=Tn.Tb==0?0:Tn.zd?1:2,vn.Ka)return Ks(Wr,3,"cannot parse filter header");var Zn=gn;if(gn=kn=un,un=kn+Zn,Tn=Zn,Wr.Xb=(1<<_r(Wr.m,2))-1,Zn<3*(Nn=Wr.Xb))Jr=7;else{for(kn+=3*Nn,Tn-=3*Nn,Zn=0;Zn<Nn;++Zn){var ms=Jr[gn+0]|Jr[gn+1]<<8|Jr[gn+2]<<16;ms>Tn&&(ms=Tn),Tr(Wr.Jc[+Zn],Jr,kn,ms),kn+=ms,Tn-=ms,gn+=3}Tr(Wr.Jc[+Nn],Jr,kn,Tn),Jr=kn<un?0:5}if(Jr!=0)return Ks(Wr,Jr,"cannot parse partitions");for(Jr=_r(kn=Wr.m,7),gn=$r(kn)?wr(kn,4):0,un=$r(kn)?wr(kn,4):0,Tn=$r(kn)?wr(kn,4):0,Nn=$r(kn)?wr(kn,4):0,kn=$r(kn)?wr(kn,4):0,Zn=Wr.Qa,ms=0;4>ms;++ms){if(Zn.Cb){var gs=Zn.Zb[ms];Zn.Fb||(gs+=Jr)}else{if(0<ms){Wr.pb[ms]=Wr.pb[0];continue}gs=Jr}var os=Wr.pb[ms];os.Sc[0]=Mm[po(gs+gn,127)],os.Sc[1]=Dm[po(gs+0,127)],os.Eb[0]=2*Mm[po(gs+un,127)],os.Eb[1]=101581*Dm[po(gs+Tn,127)]>>16,8>os.Eb[1]&&(os.Eb[1]=8),os.Qc[0]=Mm[po(gs+Nn,117)],os.Qc[1]=Dm[po(gs+kn,127)],os.lc=gs+kn}if(!wn.Rb)return Ks(Wr,4,"Not a key frame.");for($r(vn),wn=Wr.Pa,Jr=0;4>Jr;++Jr){for(gn=0;8>gn;++gn)for(un=0;3>un;++un)for(Tn=0;11>Tn;++Tn)Nn=Fr(vn,Gy[Jr][gn][un][Tn])?_r(vn,8):qy[Jr][gn][un][Tn],wn.Wc[Jr][gn].Yb[un][Tn]=Nn;for(gn=0;17>gn;++gn)wn.Xc[Jr][gn]=wn.Wc[Jr][Xy[gn]]}return Wr.kc=$r(vn),Wr.kc&&(Wr.Bd=_r(vn,8)),Wr.cb=1}function Ao(Wr,Xr,Jr,un,gn,vn,wn){var Tn=Xr[gn].Yb[Jr];for(Jr=0;16>gn;++gn){if(!Fr(Wr,Tn[Jr+0]))return gn;for(;!Fr(Wr,Tn[Jr+1]);)if(Tn=Xr[++gn].Yb[0],Jr=0,gn==16)return 16;var kn=Xr[gn+1].Yb;if(Fr(Wr,Tn[Jr+2])){var Nn=Wr,Zn=0;if(Fr(Nn,(gs=Tn)[(ms=Jr)+3]))if(Fr(Nn,gs[ms+6])){for(Tn=0,ms=2*(Zn=Fr(Nn,gs[ms+8]))+(gs=Fr(Nn,gs[ms+9+Zn])),Zn=0,gs=Wy[ms];gs[Tn];++Tn)Zn+=Zn+Fr(Nn,gs[Tn]);Zn+=3+(8<<ms)}else Fr(Nn,gs[ms+7])?(Zn=7+2*Fr(Nn,165),Zn+=Fr(Nn,145)):Zn=5+Fr(Nn,159);else Zn=Fr(Nn,gs[ms+4])?3+Fr(Nn,gs[ms+5]):2;Tn=kn[2]}else Zn=1,Tn=kn[1];kn=wn+Hy[gn],0>(Nn=Wr).b&&Gr(Nn);var ms,gs=Nn.b,os=(ms=Nn.Ca>>1)-(Nn.I>>gs)>>31;--Nn.b,Nn.Ca+=os,Nn.Ca|=1,Nn.I-=(ms+1&os)<<gs,vn[kn]=((Zn^os)-os)*un[(0<gn)+0]}return 16}function Po(Wr){var Xr=Wr.rb[Wr.sb-1];Xr.la=0,Xr.Na=0,nr(Wr.zc,0,0,Wr.zc.length),Wr.ja=0}function Fo(Wr,Xr){if(Wr==null)return 0;if(Xr==null)return Ks(Wr,2,"NULL VP8Io parameter in VP8Decode().");if(!Wr.cb&&!co(Wr,Xr))return 0;if(e(Wr.cb),Xr.ac==null||Xr.ac(Xr)){Xr.ob&&(Wr.L=0);var Jr=im[Wr.L];if(Wr.L==2?(Wr.yb=0,Wr.zb=0):(Wr.yb=Xr.v-Jr>>4,Wr.zb=Xr.j-Jr>>4,0>Wr.yb&&(Wr.yb=0),0>Wr.zb&&(Wr.zb=0)),Wr.Va=Xr.o+15+Jr>>4,Wr.Hb=Xr.va+15+Jr>>4,Wr.Hb>Wr.za&&(Wr.Hb=Wr.za),Wr.Va>Wr.Ub&&(Wr.Va=Wr.Ub),0<Wr.L){var un=Wr.ed;for(Jr=0;4>Jr;++Jr){var gn;if(Wr.Qa.Cb){var vn=Wr.Qa.Lb[Jr];Wr.Qa.Fb||(vn+=un.Tb)}else vn=un.Tb;for(gn=0;1>=gn;++gn){var wn=Wr.gd[Jr][gn],Tn=vn;if(un.Pc&&(Tn+=un.vd[0],gn&&(Tn+=un.od[0])),0<(Tn=0>Tn?0:63<Tn?63:Tn)){var kn=Tn;0<un.wb&&(kn=4<un.wb?kn>>2:kn>>1)>9-un.wb&&(kn=9-un.wb),1>kn&&(kn=1),wn.dd=kn,wn.tc=2*Tn+kn,wn.ld=40<=Tn?2:15<=Tn?1:0}else wn.tc=0;wn.La=gn}}}Jr=0}else Ks(Wr,6,"Frame setup failed"),Jr=Wr.a;if(Jr=Jr==0){if(Jr){Wr.$c=0,0<Wr.Aa||(Wr.Ic=lv);e:{Jr=Wr.Ic,un=4*(kn=Wr.za);var Nn=32*kn,Zn=kn+1,ms=0<Wr.L?kn*(0<Wr.Aa?2:1):0,gs=(Wr.Aa==2?2:1)*kn;if((wn=un+832+(gn=3*(16*Jr+im[Wr.L])/2*Nn)+(vn=Wr.Fa!=null&&0<Wr.Fa.length?Wr.Kc.c*Wr.Kc.i:0))!=wn)Jr=0;else{if(wn>Wr.Vb){if(Wr.Vb=0,Wr.Ec=ir(wn),Wr.Fc=0,Wr.Ec==null){Jr=Ks(Wr,1,"no memory during frame initialization.");break e}Wr.Vb=wn}wn=Wr.Ec,Tn=Wr.Fc,Wr.Ac=wn,Wr.Bc=Tn,Tn+=un,Wr.Gd=sr(Nn,Zs),Wr.Hd=0,Wr.rb=sr(Zn+1,$s),Wr.sb=1,Wr.wa=ms?sr(ms,Es):null,Wr.Y=0,Wr.D.Nb=0,Wr.D.wa=Wr.wa,Wr.D.Y=Wr.Y,0<Wr.Aa&&(Wr.D.Y+=kn),e(!0),Wr.oc=wn,Wr.pc=Tn,Tn+=832,Wr.ya=sr(gs,Ns),Wr.aa=0,Wr.D.ya=Wr.ya,Wr.D.aa=Wr.aa,Wr.Aa==2&&(Wr.D.aa+=kn),Wr.R=16*kn,Wr.B=8*kn,kn=(Nn=im[Wr.L])*Wr.R,Nn=Nn/2*Wr.B,Wr.sa=wn,Wr.ta=Tn+kn,Wr.qa=Wr.sa,Wr.ra=Wr.ta+16*Jr*Wr.R+Nn,Wr.Ha=Wr.qa,Wr.Ia=Wr.ra+8*Jr*Wr.B+Nn,Wr.$c=0,Tn+=gn,Wr.mb=vn?wn:null,Wr.nb=vn?Tn:null,e(Tn+vn<=Wr.Fc+Wr.Vb),Po(Wr),nr(Wr.Ac,Wr.Bc,0,un),Jr=1}}if(Jr){if(Xr.ka=0,Xr.y=Wr.sa,Xr.O=Wr.ta,Xr.f=Wr.qa,Xr.N=Wr.ra,Xr.ea=Wr.Ha,Xr.Vd=Wr.Ia,Xr.fa=Wr.R,Xr.Rc=Wr.B,Xr.F=null,Xr.J=0,!Xp){for(Jr=-255;255>=Jr;++Jr)Lo[255+Jr]=0>Jr?-Jr:Jr;for(Jr=-1020;1020>=Jr;++Jr)mu[1020+Jr]=-128>Jr?-128:127<Jr?127:Jr;for(Jr=-112;112>=Jr;++Jr)kp[112+Jr]=-16>Jr?-16:15<Jr?15:Jr;for(Jr=-255;510>=Jr;++Jr)hp[255+Jr]=0>Jr?0:255<Jr?255:Jr;Xp=1}cp=To,pu=ga,Pp=Ko,Jo=so,Fl=_l,jo=ro,up=Su,Gp=Yl,Tp=Pu,Zu=Xu,Qu=Au,Ou=cu,Ju=Tu,dp=nu,_d=lu,Mu=Cl,Cp=Do,$l=rp,Jl[0]=Dl,Jl[1]=xl,Jl[2]=Zo,Jl[3]=tu,Jl[4]=ep,Jl[5]=_u,Jl[6]=Pl,Jl[7]=zu,Jl[8]=wu,Jl[9]=xu,Du[0]=Yo,Du[1]=eu,Du[2]=$o,Du[3]=Uo,Du[4]=yo,Du[5]=Kl,Du[6]=Ml,gu[0]=Xl,gu[1]=Ol,gu[2]=tp,gu[3]=Gl,gu[4]=fo,gu[5]=Wu,gu[6]=Hu,Jr=1}else Jr=0}Jr&&(Jr=function(os,js){for(os.M=0;os.M<os.Va;++os.M){var Ss,Qn=os.Jc[os.M&os.Xb],es=os.m,ks=os;for(Ss=0;Ss<ks.za;++Ss){var Ms=es,Is=ks,Ws=Is.Ac,Bs=Is.Bc+4*Ss,Gs=Is.zc,Us=Is.ya[Is.aa+Ss];if(Is.Qa.Bb?Us.$b=Fr(Ms,Is.Pa.jb[0])?2+Fr(Ms,Is.Pa.jb[2]):Fr(Ms,Is.Pa.jb[1]):Us.$b=0,Is.kc&&(Us.Ad=Fr(Ms,Is.Bd)),Us.Za=!Fr(Ms,145)+0,Us.Za){var uo=Us.Ob,vo=0;for(Is=0;4>Is;++Is){var lo,oo=Gs[0+Is];for(lo=0;4>lo;++lo){oo=Ky[Ws[Bs+lo]][oo];for(var wo=I0[Fr(Ms,oo[0])];0<wo;)wo=I0[2*wo+Fr(Ms,oo[wo])];oo=-wo,Ws[Bs+lo]=oo}rr(uo,vo,Ws,Bs,4),vo+=4,Gs[0+Is]=oo}}else oo=Fr(Ms,156)?Fr(Ms,128)?1:3:Fr(Ms,163)?2:0,Us.Ob[0]=oo,nr(Ws,Bs,oo,4),nr(Gs,0,oo,4);Us.Dd=Fr(Ms,142)?Fr(Ms,114)?Fr(Ms,183)?1:3:2:0}if(ks.m.Ka)return Ks(os,7,"Premature end-of-partition0 encountered.");for(;os.ja<os.za;++os.ja){if(ks=Qn,Ms=(es=os).rb[es.sb-1],Ws=es.rb[es.sb+es.ja],Ss=es.ya[es.aa+es.ja],Bs=es.kc?Ss.Ad:0)Ms.la=Ws.la=0,Ss.Za||(Ms.Na=Ws.Na=0),Ss.Hc=0,Ss.Gc=0,Ss.ia=0;else{var _o,xa;if(Ms=Ws,Ws=ks,Bs=es.Pa.Xc,Gs=es.ya[es.aa+es.ja],Us=es.pb[Gs.$b],Is=Gs.ad,uo=0,vo=es.rb[es.sb-1],oo=lo=0,nr(Is,uo,0,384),Gs.Za)var Oo=0,Sl=Bs[3];else{wo=ir(16);var Mo=Ms.Na+vo.Na;if(Mo=Rp(Ws,Bs[1],Mo,Us.Eb,0,wo,0),Ms.Na=vo.Na=(0<Mo)+0,1<Mo)cp(wo,0,Is,uo);else{var Al=wo[0]+3>>3;for(wo=0;256>wo;wo+=16)Is[uo+wo]=Al}Oo=1,Sl=Bs[0]}var bo=15&Ms.la,Il=15&vo.la;for(wo=0;4>wo;++wo){var Nl=1&Il;for(Al=xa=0;4>Al;++Al)bo=bo>>1|(Nl=(Mo=Rp(Ws,Sl,Mo=Nl+(1&bo),Us.Sc,Oo,Is,uo))>Oo)<<7,xa=xa<<2|(3<Mo?3:1<Mo?2:Is[uo+0]!=0),uo+=16;bo>>=4,Il=Il>>1|Nl<<7,lo=(lo<<8|xa)>>>0}for(Sl=bo,Oo=Il>>4,_o=0;4>_o;_o+=2){for(xa=0,bo=Ms.la>>4+_o,Il=vo.la>>4+_o,wo=0;2>wo;++wo){for(Nl=1&Il,Al=0;2>Al;++Al)Mo=Nl+(1&bo),bo=bo>>1|(Nl=0<(Mo=Rp(Ws,Bs[2],Mo,Us.Qc,0,Is,uo)))<<3,xa=xa<<2|(3<Mo?3:1<Mo?2:Is[uo+0]!=0),uo+=16;bo>>=2,Il=Il>>1|Nl<<5}oo|=xa<<4*_o,Sl|=bo<<4<<_o,Oo|=(240&Il)<<_o}Ms.la=Sl,vo.la=Oo,Gs.Hc=lo,Gs.Gc=oo,Gs.ia=43690&oo?0:Us.ia,Bs=!(lo|oo)}if(0<es.L&&(es.wa[es.Y+es.ja]=es.gd[Ss.$b][Ss.Za],es.wa[es.Y+es.ja].La|=!Bs),ks.Ka)return Ks(os,7,"Premature end-of-file encountered.")}if(Po(os),es=js,ks=1,Ss=(Qn=os).D,Ms=0<Qn.L&&Qn.M>=Qn.zb&&Qn.M<=Qn.Va,Qn.Aa==0)e:{if(Ss.M=Qn.M,Ss.uc=Ms,su(Qn,Ss),ks=1,Ss=(xa=Qn.D).Nb,Ms=(oo=im[Qn.L])*Qn.R,Ws=oo/2*Qn.B,wo=16*Ss*Qn.R,Al=8*Ss*Qn.B,Bs=Qn.sa,Gs=Qn.ta-Ms+wo,Us=Qn.qa,Is=Qn.ra-Ws+Al,uo=Qn.Ha,vo=Qn.Ia-Ws+Al,Il=(bo=xa.M)==0,lo=bo>=Qn.Va-1,Qn.Aa==2&&su(Qn,xa),xa.uc)for(Nl=(Mo=Qn).D.M,e(Mo.D.uc),xa=Mo.yb;xa<Mo.Hb;++xa){Oo=xa,Sl=Nl;var Bo=(qo=(Ro=Mo).D).Nb;_o=Ro.R;var qo=qo.wa[qo.Y+Oo],yl=Ro.sa,zl=Ro.ta+16*Bo*_o+16*Oo,ou=qo.dd,Vo=qo.tc;if(Vo!=0)if(e(3<=Vo),Ro.L==1)0<Oo&&Mu(yl,zl,_o,Vo+4),qo.La&&$l(yl,zl,_o,Vo),0<Sl&&_d(yl,zl,_o,Vo+4),qo.La&&Cp(yl,zl,_o,Vo);else{var yu=Ro.B,_h=Ro.qa,fp=Ro.ra+8*Bo*yu+8*Oo,Fu=Ro.Ha,Ro=Ro.Ia+8*Bo*yu+8*Oo;Bo=qo.ld,0<Oo&&(Gp(yl,zl,_o,Vo+4,ou,Bo),Zu(_h,fp,Fu,Ro,yu,Vo+4,ou,Bo)),qo.La&&(Ou(yl,zl,_o,Vo,ou,Bo),dp(_h,fp,Fu,Ro,yu,Vo,ou,Bo)),0<Sl&&(up(yl,zl,_o,Vo+4,ou,Bo),Tp(_h,fp,Fu,Ro,yu,Vo+4,ou,Bo)),qo.La&&(Qu(yl,zl,_o,Vo,ou,Bo),Ju(_h,fp,Fu,Ro,yu,Vo,ou,Bo))}}if(Qn.ia&&alert("todo:DitherRow"),es.put!=null){if(xa=16*bo,bo=16*(bo+1),Il?(es.y=Qn.sa,es.O=Qn.ta+wo,es.f=Qn.qa,es.N=Qn.ra+Al,es.ea=Qn.Ha,es.W=Qn.Ia+Al):(xa-=oo,es.y=Bs,es.O=Gs,es.f=Us,es.N=Is,es.ea=uo,es.W=vo),lo||(bo-=oo),bo>es.o&&(bo=es.o),es.F=null,es.J=null,Qn.Fa!=null&&0<Qn.Fa.length&&xa<bo&&(es.J=Iu(Qn,es,xa,bo-xa),es.F=Qn.mb,es.F==null&&es.F.length==0)){ks=Ks(Qn,3,"Could not decode alpha data.");break e}xa<es.j&&(oo=es.j-xa,xa=es.j,e(!(1&oo)),es.O+=Qn.R*oo,es.N+=Qn.B*(oo>>1),es.W+=Qn.B*(oo>>1),es.F!=null&&(es.J+=es.width*oo)),xa<bo&&(es.O+=es.v,es.N+=es.v>>1,es.W+=es.v>>1,es.F!=null&&(es.J+=es.v),es.ka=xa-es.j,es.U=es.va-es.v,es.T=bo-xa,ks=es.put(es))}Ss+1!=Qn.Ic||lo||(rr(Qn.sa,Qn.ta-Ms,Bs,Gs+16*Qn.R,Ms),rr(Qn.qa,Qn.ra-Ws,Us,Is+8*Qn.B,Ws),rr(Qn.Ha,Qn.Ia-Ws,uo,vo+8*Qn.B,Ws))}if(!ks)return Ks(os,6,"Output aborted.")}return 1}(Wr,Xr)),Xr.bc!=null&&Xr.bc(Xr),Jr&=1}return Jr?(Wr.cb=0,Jr):0}function Co(Wr,Xr,Jr,un,gn){gn=Wr[Xr+Jr+32*un]+(gn>>3),Wr[Xr+Jr+32*un]=-256&gn?0>gn?0:255:gn}function Xo(Wr,Xr,Jr,un,gn,vn){Co(Wr,Xr,0,Jr,un+gn),Co(Wr,Xr,1,Jr,un+vn),Co(Wr,Xr,2,Jr,un-vn),Co(Wr,Xr,3,Jr,un-gn)}function go(Wr){return(20091*Wr>>16)+Wr}function ko(Wr,Xr,Jr,un){var gn,vn=0,wn=ir(16);for(gn=0;4>gn;++gn){var Tn=Wr[Xr+0]+Wr[Xr+8],kn=Wr[Xr+0]-Wr[Xr+8],Nn=(35468*Wr[Xr+4]>>16)-go(Wr[Xr+12]),Zn=go(Wr[Xr+4])+(35468*Wr[Xr+12]>>16);wn[vn+0]=Tn+Zn,wn[vn+1]=kn+Nn,wn[vn+2]=kn-Nn,wn[vn+3]=Tn-Zn,vn+=4,Xr++}for(gn=vn=0;4>gn;++gn)Tn=(Wr=wn[vn+0]+4)+wn[vn+8],kn=Wr-wn[vn+8],Nn=(35468*wn[vn+4]>>16)-go(wn[vn+12]),Co(Jr,un,0,0,Tn+(Zn=go(wn[vn+4])+(35468*wn[vn+12]>>16))),Co(Jr,un,1,0,kn+Nn),Co(Jr,un,2,0,kn-Nn),Co(Jr,un,3,0,Tn-Zn),vn++,un+=32}function ro(Wr,Xr,Jr,un){var gn=Wr[Xr+0]+4,vn=35468*Wr[Xr+4]>>16,wn=go(Wr[Xr+4]),Tn=35468*Wr[Xr+1]>>16;Xo(Jr,un,0,gn+wn,Wr=go(Wr[Xr+1]),Tn),Xo(Jr,un,1,gn+vn,Wr,Tn),Xo(Jr,un,2,gn-vn,Wr,Tn),Xo(Jr,un,3,gn-wn,Wr,Tn)}function ga(Wr,Xr,Jr,un,gn){ko(Wr,Xr,Jr,un),gn&&ko(Wr,Xr+16,Jr,un+4)}function Ko(Wr,Xr,Jr,un){pu(Wr,Xr+0,Jr,un,1),pu(Wr,Xr+32,Jr,un+128,1)}function so(Wr,Xr,Jr,un){var gn;for(Wr=Wr[Xr+0]+4,gn=0;4>gn;++gn)for(Xr=0;4>Xr;++Xr)Co(Jr,un,Xr,gn,Wr)}function _l(Wr,Xr,Jr,un){Wr[Xr+0]&&Jo(Wr,Xr+0,Jr,un),Wr[Xr+16]&&Jo(Wr,Xr+16,Jr,un+4),Wr[Xr+32]&&Jo(Wr,Xr+32,Jr,un+128),Wr[Xr+48]&&Jo(Wr,Xr+48,Jr,un+128+4)}function To(Wr,Xr,Jr,un){var gn,vn=ir(16);for(gn=0;4>gn;++gn){var wn=Wr[Xr+0+gn]+Wr[Xr+12+gn],Tn=Wr[Xr+4+gn]+Wr[Xr+8+gn],kn=Wr[Xr+4+gn]-Wr[Xr+8+gn],Nn=Wr[Xr+0+gn]-Wr[Xr+12+gn];vn[0+gn]=wn+Tn,vn[8+gn]=wn-Tn,vn[4+gn]=Nn+kn,vn[12+gn]=Nn-kn}for(gn=0;4>gn;++gn)wn=(Wr=vn[0+4*gn]+3)+vn[3+4*gn],Tn=vn[1+4*gn]+vn[2+4*gn],kn=vn[1+4*gn]-vn[2+4*gn],Nn=Wr-vn[3+4*gn],Jr[un+0]=wn+Tn>>3,Jr[un+16]=Nn+kn>>3,Jr[un+32]=wn-Tn>>3,Jr[un+48]=Nn-kn>>3,un+=64}function Io(Wr,Xr,Jr){var un,gn=Xr-32,vn=Rl,wn=255-Wr[gn-1];for(un=0;un<Jr;++un){var Tn,kn=vn,Nn=wn+Wr[Xr-1];for(Tn=0;Tn<Jr;++Tn)Wr[Xr+Tn]=kn[Nn+Wr[gn+Tn]];Xr+=32}}function xl(Wr,Xr){Io(Wr,Xr,4)}function Ol(Wr,Xr){Io(Wr,Xr,8)}function eu(Wr,Xr){Io(Wr,Xr,16)}function $o(Wr,Xr){var Jr;for(Jr=0;16>Jr;++Jr)rr(Wr,Xr+32*Jr,Wr,Xr-32,16)}function Uo(Wr,Xr){var Jr;for(Jr=16;0<Jr;--Jr)nr(Wr,Xr,Wr[Xr-1],16),Xr+=32}function Hl(Wr,Xr,Jr){var un;for(un=0;16>un;++un)nr(Xr,Jr+32*un,Wr,16)}function Yo(Wr,Xr){var Jr,un=16;for(Jr=0;16>Jr;++Jr)un+=Wr[Xr-1+32*Jr]+Wr[Xr+Jr-32];Hl(un>>5,Wr,Xr)}function yo(Wr,Xr){var Jr,un=8;for(Jr=0;16>Jr;++Jr)un+=Wr[Xr-1+32*Jr];Hl(un>>4,Wr,Xr)}function Kl(Wr,Xr){var Jr,un=8;for(Jr=0;16>Jr;++Jr)un+=Wr[Xr+Jr-32];Hl(un>>4,Wr,Xr)}function Ml(Wr,Xr){Hl(128,Wr,Xr)}function Xs(Wr,Xr,Jr){return Wr+2*Xr+Jr+2>>2}function Zo(Wr,Xr){var Jr,un=Xr-32;for(un=new Uint8Array([Xs(Wr[un-1],Wr[un+0],Wr[un+1]),Xs(Wr[un+0],Wr[un+1],Wr[un+2]),Xs(Wr[un+1],Wr[un+2],Wr[un+3]),Xs(Wr[un+2],Wr[un+3],Wr[un+4])]),Jr=0;4>Jr;++Jr)rr(Wr,Xr+32*Jr,un,0,un.length)}function tu(Wr,Xr){var Jr=Wr[Xr-1],un=Wr[Xr-1+32],gn=Wr[Xr-1+64],vn=Wr[Xr-1+96];Kr(Wr,Xr+0,16843009*Xs(Wr[Xr-1-32],Jr,un)),Kr(Wr,Xr+32,16843009*Xs(Jr,un,gn)),Kr(Wr,Xr+64,16843009*Xs(un,gn,vn)),Kr(Wr,Xr+96,16843009*Xs(gn,vn,vn))}function Dl(Wr,Xr){var Jr,un=4;for(Jr=0;4>Jr;++Jr)un+=Wr[Xr+Jr-32]+Wr[Xr-1+32*Jr];for(un>>=3,Jr=0;4>Jr;++Jr)nr(Wr,Xr+32*Jr,un,4)}function ep(Wr,Xr){var Jr=Wr[Xr-1+0],un=Wr[Xr-1+32],gn=Wr[Xr-1+64],vn=Wr[Xr-1-32],wn=Wr[Xr+0-32],Tn=Wr[Xr+1-32],kn=Wr[Xr+2-32],Nn=Wr[Xr+3-32];Wr[Xr+0+96]=Xs(un,gn,Wr[Xr-1+96]),Wr[Xr+1+96]=Wr[Xr+0+64]=Xs(Jr,un,gn),Wr[Xr+2+96]=Wr[Xr+1+64]=Wr[Xr+0+32]=Xs(vn,Jr,un),Wr[Xr+3+96]=Wr[Xr+2+64]=Wr[Xr+1+32]=Wr[Xr+0+0]=Xs(wn,vn,Jr),Wr[Xr+3+64]=Wr[Xr+2+32]=Wr[Xr+1+0]=Xs(Tn,wn,vn),Wr[Xr+3+32]=Wr[Xr+2+0]=Xs(kn,Tn,wn),Wr[Xr+3+0]=Xs(Nn,kn,Tn)}function Pl(Wr,Xr){var Jr=Wr[Xr+1-32],un=Wr[Xr+2-32],gn=Wr[Xr+3-32],vn=Wr[Xr+4-32],wn=Wr[Xr+5-32],Tn=Wr[Xr+6-32],kn=Wr[Xr+7-32];Wr[Xr+0+0]=Xs(Wr[Xr+0-32],Jr,un),Wr[Xr+1+0]=Wr[Xr+0+32]=Xs(Jr,un,gn),Wr[Xr+2+0]=Wr[Xr+1+32]=Wr[Xr+0+64]=Xs(un,gn,vn),Wr[Xr+3+0]=Wr[Xr+2+32]=Wr[Xr+1+64]=Wr[Xr+0+96]=Xs(gn,vn,wn),Wr[Xr+3+32]=Wr[Xr+2+64]=Wr[Xr+1+96]=Xs(vn,wn,Tn),Wr[Xr+3+64]=Wr[Xr+2+96]=Xs(wn,Tn,kn),Wr[Xr+3+96]=Xs(Tn,kn,kn)}function _u(Wr,Xr){var Jr=Wr[Xr-1+0],un=Wr[Xr-1+32],gn=Wr[Xr-1+64],vn=Wr[Xr-1-32],wn=Wr[Xr+0-32],Tn=Wr[Xr+1-32],kn=Wr[Xr+2-32],Nn=Wr[Xr+3-32];Wr[Xr+0+0]=Wr[Xr+1+64]=vn+wn+1>>1,Wr[Xr+1+0]=Wr[Xr+2+64]=wn+Tn+1>>1,Wr[Xr+2+0]=Wr[Xr+3+64]=Tn+kn+1>>1,Wr[Xr+3+0]=kn+Nn+1>>1,Wr[Xr+0+96]=Xs(gn,un,Jr),Wr[Xr+0+64]=Xs(un,Jr,vn),Wr[Xr+0+32]=Wr[Xr+1+96]=Xs(Jr,vn,wn),Wr[Xr+1+32]=Wr[Xr+2+96]=Xs(vn,wn,Tn),Wr[Xr+2+32]=Wr[Xr+3+96]=Xs(wn,Tn,kn),Wr[Xr+3+32]=Xs(Tn,kn,Nn)}function zu(Wr,Xr){var Jr=Wr[Xr+0-32],un=Wr[Xr+1-32],gn=Wr[Xr+2-32],vn=Wr[Xr+3-32],wn=Wr[Xr+4-32],Tn=Wr[Xr+5-32],kn=Wr[Xr+6-32],Nn=Wr[Xr+7-32];Wr[Xr+0+0]=Jr+un+1>>1,Wr[Xr+1+0]=Wr[Xr+0+64]=un+gn+1>>1,Wr[Xr+2+0]=Wr[Xr+1+64]=gn+vn+1>>1,Wr[Xr+3+0]=Wr[Xr+2+64]=vn+wn+1>>1,Wr[Xr+0+32]=Xs(Jr,un,gn),Wr[Xr+1+32]=Wr[Xr+0+96]=Xs(un,gn,vn),Wr[Xr+2+32]=Wr[Xr+1+96]=Xs(gn,vn,wn),Wr[Xr+3+32]=Wr[Xr+2+96]=Xs(vn,wn,Tn),Wr[Xr+3+64]=Xs(wn,Tn,kn),Wr[Xr+3+96]=Xs(Tn,kn,Nn)}function xu(Wr,Xr){var Jr=Wr[Xr-1+0],un=Wr[Xr-1+32],gn=Wr[Xr-1+64],vn=Wr[Xr-1+96];Wr[Xr+0+0]=Jr+un+1>>1,Wr[Xr+2+0]=Wr[Xr+0+32]=un+gn+1>>1,Wr[Xr+2+32]=Wr[Xr+0+64]=gn+vn+1>>1,Wr[Xr+1+0]=Xs(Jr,un,gn),Wr[Xr+3+0]=Wr[Xr+1+32]=Xs(un,gn,vn),Wr[Xr+3+32]=Wr[Xr+1+64]=Xs(gn,vn,vn),Wr[Xr+3+64]=Wr[Xr+2+64]=Wr[Xr+0+96]=Wr[Xr+1+96]=Wr[Xr+2+96]=Wr[Xr+3+96]=vn}function wu(Wr,Xr){var Jr=Wr[Xr-1+0],un=Wr[Xr-1+32],gn=Wr[Xr-1+64],vn=Wr[Xr-1+96],wn=Wr[Xr-1-32],Tn=Wr[Xr+0-32],kn=Wr[Xr+1-32],Nn=Wr[Xr+2-32];Wr[Xr+0+0]=Wr[Xr+2+32]=Jr+wn+1>>1,Wr[Xr+0+32]=Wr[Xr+2+64]=un+Jr+1>>1,Wr[Xr+0+64]=Wr[Xr+2+96]=gn+un+1>>1,Wr[Xr+0+96]=vn+gn+1>>1,Wr[Xr+3+0]=Xs(Tn,kn,Nn),Wr[Xr+2+0]=Xs(wn,Tn,kn),Wr[Xr+1+0]=Wr[Xr+3+32]=Xs(Jr,wn,Tn),Wr[Xr+1+32]=Wr[Xr+3+64]=Xs(un,Jr,wn),Wr[Xr+1+64]=Wr[Xr+3+96]=Xs(gn,un,Jr),Wr[Xr+1+96]=Xs(vn,gn,un)}function tp(Wr,Xr){var Jr;for(Jr=0;8>Jr;++Jr)rr(Wr,Xr+32*Jr,Wr,Xr-32,8)}function Gl(Wr,Xr){var Jr;for(Jr=0;8>Jr;++Jr)nr(Wr,Xr,Wr[Xr-1],8),Xr+=32}function Tl(Wr,Xr,Jr){var un;for(un=0;8>un;++un)nr(Xr,Jr+32*un,Wr,8)}function Xl(Wr,Xr){var Jr,un=8;for(Jr=0;8>Jr;++Jr)un+=Wr[Xr+Jr-32]+Wr[Xr-1+32*Jr];Tl(un>>4,Wr,Xr)}function Wu(Wr,Xr){var Jr,un=4;for(Jr=0;8>Jr;++Jr)un+=Wr[Xr+Jr-32];Tl(un>>3,Wr,Xr)}function fo(Wr,Xr){var Jr,un=4;for(Jr=0;8>Jr;++Jr)un+=Wr[Xr-1+32*Jr];Tl(un>>3,Wr,Xr)}function Hu(Wr,Xr){Tl(128,Wr,Xr)}function Eu(Wr,Xr,Jr){var un=Wr[Xr-Jr],gn=Wr[Xr+0],vn=3*(gn-un)+Rm[1020+Wr[Xr-2*Jr]-Wr[Xr+Jr]],wn=Yp[112+(vn+4>>3)];Wr[Xr-Jr]=Rl[255+un+Yp[112+(vn+3>>3)]],Wr[Xr+0]=Rl[255+gn-wn]}function qu(Wr,Xr,Jr,un){var gn=Wr[Xr+0],vn=Wr[Xr+Jr];return Vl[255+Wr[Xr-2*Jr]-Wr[Xr-Jr]]>un||Vl[255+vn-gn]>un}function Ku(Wr,Xr,Jr,un){return 4*Vl[255+Wr[Xr-Jr]-Wr[Xr+0]]+Vl[255+Wr[Xr-2*Jr]-Wr[Xr+Jr]]<=un}function Gu(Wr,Xr,Jr,un,gn){var vn=Wr[Xr-3*Jr],wn=Wr[Xr-2*Jr],Tn=Wr[Xr-Jr],kn=Wr[Xr+0],Nn=Wr[Xr+Jr],Zn=Wr[Xr+2*Jr],ms=Wr[Xr+3*Jr];return 4*Vl[255+Tn-kn]+Vl[255+wn-Nn]>un?0:Vl[255+Wr[Xr-4*Jr]-vn]<=gn&&Vl[255+vn-wn]<=gn&&Vl[255+wn-Tn]<=gn&&Vl[255+ms-Zn]<=gn&&Vl[255+Zn-Nn]<=gn&&Vl[255+Nn-kn]<=gn}function lu(Wr,Xr,Jr,un){var gn=2*un+1;for(un=0;16>un;++un)Ku(Wr,Xr+un,Jr,gn)&&Eu(Wr,Xr+un,Jr)}function Cl(Wr,Xr,Jr,un){var gn=2*un+1;for(un=0;16>un;++un)Ku(Wr,Xr+un*Jr,1,gn)&&Eu(Wr,Xr+un*Jr,1)}function Do(Wr,Xr,Jr,un){var gn;for(gn=3;0<gn;--gn)lu(Wr,Xr+=4*Jr,Jr,un)}function rp(Wr,Xr,Jr,un){var gn;for(gn=3;0<gn;--gn)Cl(Wr,Xr+=4,Jr,un)}function ru(Wr,Xr,Jr,un,gn,vn,wn,Tn){for(vn=2*vn+1;0<gn--;){if(Gu(Wr,Xr,Jr,vn,wn))if(qu(Wr,Xr,Jr,Tn))Eu(Wr,Xr,Jr);else{var kn=Wr,Nn=Xr,Zn=Jr,ms=kn[Nn-2*Zn],gs=kn[Nn-Zn],os=kn[Nn+0],js=kn[Nn+Zn],Ss=kn[Nn+2*Zn],Qn=27*(ks=Rm[1020+3*(os-gs)+Rm[1020+ms-js]])+63>>7,es=18*ks+63>>7,ks=9*ks+63>>7;kn[Nn-3*Zn]=Rl[255+kn[Nn-3*Zn]+ks],kn[Nn-2*Zn]=Rl[255+ms+es],kn[Nn-Zn]=Rl[255+gs+Qn],kn[Nn+0]=Rl[255+os-Qn],kn[Nn+Zn]=Rl[255+js-es],kn[Nn+2*Zn]=Rl[255+Ss-ks]}Xr+=un}}function zo(Wr,Xr,Jr,un,gn,vn,wn,Tn){for(vn=2*vn+1;0<gn--;){if(Gu(Wr,Xr,Jr,vn,wn))if(qu(Wr,Xr,Jr,Tn))Eu(Wr,Xr,Jr);else{var kn=Wr,Nn=Xr,Zn=Jr,ms=kn[Nn-Zn],gs=kn[Nn+0],os=kn[Nn+Zn],js=Yp[112+((Ss=3*(gs-ms))+4>>3)],Ss=Yp[112+(Ss+3>>3)],Qn=js+1>>1;kn[Nn-2*Zn]=Rl[255+kn[Nn-2*Zn]+Qn],kn[Nn-Zn]=Rl[255+ms+Ss],kn[Nn+0]=Rl[255+gs-js],kn[Nn+Zn]=Rl[255+os-Qn]}Xr+=un}}function Su(Wr,Xr,Jr,un,gn,vn){ru(Wr,Xr,Jr,1,16,un,gn,vn)}function Yl(Wr,Xr,Jr,un,gn,vn){ru(Wr,Xr,1,Jr,16,un,gn,vn)}function Au(Wr,Xr,Jr,un,gn,vn){var wn;for(wn=3;0<wn;--wn)zo(Wr,Xr+=4*Jr,Jr,1,16,un,gn,vn)}function cu(Wr,Xr,Jr,un,gn,vn){var wn;for(wn=3;0<wn;--wn)zo(Wr,Xr+=4,1,Jr,16,un,gn,vn)}function Pu(Wr,Xr,Jr,un,gn,vn,wn,Tn){ru(Wr,Xr,gn,1,8,vn,wn,Tn),ru(Jr,un,gn,1,8,vn,wn,Tn)}function Xu(Wr,Xr,Jr,un,gn,vn,wn,Tn){ru(Wr,Xr,1,gn,8,vn,wn,Tn),ru(Jr,un,1,gn,8,vn,wn,Tn)}function Tu(Wr,Xr,Jr,un,gn,vn,wn,Tn){zo(Wr,Xr+4*gn,gn,1,8,vn,wn,Tn),zo(Jr,un+4*gn,gn,1,8,vn,wn,Tn)}function nu(Wr,Xr,Jr,un,gn,vn,wn,Tn){zo(Wr,Xr+4,1,gn,8,vn,wn,Tn),zo(Jr,un+4,1,gn,8,vn,wn,Tn)}function uu(){this.ba=new bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function du(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ku(){this.ua=0,this.Wa=new en,this.vb=new en,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Dr,this.yc=new Nr}function np(){this.xb=this.a=0,this.l=new Hs,this.ca=new bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Or,this.Pb=0,this.wd=new Or,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ku,this.ab=0,this.gc=sr(4,du),this.Oc=0}function Zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function iu(Wr,Xr,Jr,un,gn,vn,wn){for(Wr=Wr==null?0:Wr[Xr+0],Xr=0;Xr<wn;++Xr)gn[vn+Xr]=Wr+Jr[un+Xr]&255,Wr=gn[vn+Xr]}function Ru(Wr,Xr,Jr,un,gn,vn,wn){var Tn;if(Wr==null)iu(null,null,Jr,un,gn,vn,wn);else for(Tn=0;Tn<wn;++Tn)gn[vn+Tn]=Wr[Xr+Tn]+Jr[un+Tn]&255}function Go(Wr,Xr,Jr,un,gn,vn,wn){if(Wr==null)iu(null,null,Jr,un,gn,vn,wn);else{var Tn,kn=Wr[Xr+0],Nn=kn,Zn=kn;for(Tn=0;Tn<wn;++Tn)Nn=Zn+(kn=Wr[Xr+Tn])-Nn,Zn=Jr[un+Tn]+(-256&Nn?0>Nn?0:255:Nn)&255,Nn=kn,gn[vn+Tn]=Zn}}function Iu(Wr,Xr,Jr,un){var gn=Xr.width,vn=Xr.o;if(e(Wr!=null&&Xr!=null),0>Jr||0>=un||Jr+un>vn)return null;if(!Wr.Cc){if(Wr.ga==null){var wn;if(Wr.ga=new Zl,(wn=Wr.ga==null)||(wn=Xr.width*Xr.o,e(Wr.Gb.length==0),Wr.Gb=ir(wn),Wr.Uc=0,Wr.Gb==null?wn=0:(Wr.mb=Wr.Gb,Wr.nb=Wr.Uc,Wr.rc=null,wn=1),wn=!wn),!wn){wn=Wr.ga;var Tn=Wr.Fa,kn=Wr.P,Nn=Wr.qc,Zn=Wr.mb,ms=Wr.nb,gs=kn+1,os=Nn-1,js=wn.l;if(e(Tn!=null&&Zn!=null&&Xr!=null),Lu[0]=null,Lu[1]=iu,Lu[2]=Ru,Lu[3]=Go,wn.ca=Zn,wn.tb=ms,wn.c=Xr.width,wn.i=Xr.height,e(0<wn.c&&0<wn.i),1>=Nn)Xr=0;else if(wn.$a=Tn[kn+0]>>0&3,wn.Z=Tn[kn+0]>>2&3,wn.Lc=Tn[kn+0]>>4&3,kn=Tn[kn+0]>>6&3,0>wn.$a||1<wn.$a||4<=wn.Z||1<wn.Lc||kn)Xr=0;else if(js.put=xn,js.ac=An,js.bc=jn,js.ma=wn,js.width=Xr.width,js.height=Xr.height,js.Da=Xr.Da,js.v=Xr.v,js.va=Xr.va,js.j=Xr.j,js.o=Xr.o,wn.$a)e:{e(wn.$a==1),Xr=Os();t:for(;;){if(Xr==null){Xr=0;break e}if(e(wn!=null),wn.mc=Xr,Xr.c=wn.c,Xr.i=wn.i,Xr.l=wn.l,Xr.l.ma=wn,Xr.l.width=wn.c,Xr.l.height=wn.i,Xr.a=0,Er(Xr.m,Tn,gs,os),!zs(wn.c,wn.i,1,Xr,null)||(Xr.ab==1&&Xr.gc[0].hc==3&&us(Xr.s)?(wn.ic=1,Tn=Xr.c*Xr.i,Xr.Ta=null,Xr.Ua=0,Xr.V=ir(Tn),Xr.Ba=0,Xr.V==null?(Xr.a=1,Xr=0):Xr=1):(wn.ic=0,Xr=qs(Xr,wn.c)),!Xr))break t;Xr=1;break e}wn.mc=null,Xr=0}else Xr=os>=wn.c*wn.i;wn=!Xr}if(wn)return null;Wr.ga.Lc!=1?Wr.Ga=0:un=vn-Jr}e(Wr.ga!=null),e(Jr+un<=vn);e:{if(Xr=(Tn=Wr.ga).c,vn=Tn.l.o,Tn.$a==0){if(gs=Wr.rc,os=Wr.Vc,js=Wr.Fa,kn=Wr.P+1+Jr*Xr,Nn=Wr.mb,Zn=Wr.nb+Jr*Xr,e(kn<=Wr.P+Wr.qc),Tn.Z!=0)for(e(Lu[Tn.Z]!=null),wn=0;wn<un;++wn)Lu[Tn.Z](gs,os,js,kn,Nn,Zn,Xr),gs=Nn,os=Zn,Zn+=Xr,kn+=Xr;else for(wn=0;wn<un;++wn)rr(Nn,Zn,js,kn,Xr),gs=Nn,os=Zn,Zn+=Xr,kn+=Xr;Wr.rc=gs,Wr.Vc=os}else{if(e(Tn.mc!=null),Xr=Jr+un,e((wn=Tn.mc)!=null),e(Xr<=wn.i),wn.C>=Xr)Xr=1;else if(Tn.ic||as(),Tn.ic){Tn=wn.V,gs=wn.Ba,os=wn.c;var Ss=wn.i,Qn=(js=1,kn=wn.$/os,Nn=wn.$%os,Zn=wn.m,ms=wn.s,wn.$),es=os*Ss,ks=os*Xr,Ms=ms.wc,Is=Qn<ks?Wn(ms,Nn,kn):null;e(Qn<=es),e(Xr<=Ss),e(us(ms));t:for(;;){for(;!Zn.h&&Qn<ks;){if(Nn&Ms||(Is=Wn(ms,Nn,kn)),e(Is!=null),Vr(Zn),256>(Ss=Sn(Is.G[0],Is.H[0],Zn)))Tn[gs+Qn]=Ss,++Qn,++Nn>=os&&(Nn=0,++kn<=Xr&&!(kn%16)&&Ps(wn,kn));else{if(!(280>Ss)){js=0;break t}Ss=Yn(Ss-256,Zn);var Ws,Bs=Sn(Is.G[4],Is.H[4],Zn);if(Vr(Zn),!(Qn>=(Bs=Jn(os,Bs=Yn(Bs,Zn)))&&es-Qn>=Ss)){js=0;break t}for(Ws=0;Ws<Ss;++Ws)Tn[gs+Qn+Ws]=Tn[gs+Qn+Ws-Bs];for(Qn+=Ss,Nn+=Ss;Nn>=os;)Nn-=os,++kn<=Xr&&!(kn%16)&&Ps(wn,kn);Qn<ks&&Nn&Ms&&(Is=Wn(ms,Nn,kn))}e(Zn.h==Ur(Zn))}Ps(wn,kn>Xr?Xr:kn);break t}!js||Zn.h&&Qn<es?(js=0,wn.a=Zn.h?5:3):wn.$=Qn,Xr=js}else Xr=Ts(wn,wn.V,wn.Ba,wn.c,wn.i,Xr,Ys);if(!Xr){un=0;break e}}Jr+un>=vn&&(Wr.Cc=1),un=1}if(!un)return null;if(Wr.Cc&&((un=Wr.ga)!=null&&(un.mc=null),Wr.ga=null,0<Wr.Ga))return alert("todo:WebPDequantizeLevels"),null}return Wr.nb+Jr*gn}function Yr(Wr,Xr,Jr,un,gn,vn){for(;0<gn--;){var wn,Tn=Wr,kn=Xr+(Jr?1:0),Nn=Wr,Zn=Xr+(Jr?0:3);for(wn=0;wn<un;++wn){var ms=Nn[Zn+4*wn];ms!=255&&(ms*=32897,Tn[kn+4*wn+0]=Tn[kn+4*wn+0]*ms>>23,Tn[kn+4*wn+1]=Tn[kn+4*wn+1]*ms>>23,Tn[kn+4*wn+2]=Tn[kn+4*wn+2]*ms>>23)}Xr+=vn}}function mn(Wr,Xr,Jr,un,gn){for(;0<un--;){var vn;for(vn=0;vn<Jr;++vn){var wn=Wr[Xr+2*vn+0],Tn=15&(Nn=Wr[Xr+2*vn+1]),kn=4369*Tn,Nn=(240&Nn|Nn>>4)*kn>>16;Wr[Xr+2*vn+0]=(240&wn|wn>>4)*kn>>16&240|(15&wn|wn<<4)*kn>>16>>4&15,Wr[Xr+2*vn+1]=240&Nn|Tn}Xr+=gn}}function Fn(Wr,Xr,Jr,un,gn,vn,wn,Tn){var kn,Nn,Zn=255;for(Nn=0;Nn<gn;++Nn){for(kn=0;kn<un;++kn){var ms=Wr[Xr+kn];vn[wn+4*kn]=ms,Zn&=ms}Xr+=Jr,wn+=Tn}return Zn!=255}function Gn(Wr,Xr,Jr,un,gn){var vn;for(vn=0;vn<gn;++vn)Jr[un+vn]=Wr[Xr+vn]>>8}function as(){Bl=Yr,Eo=mn,So=Fn,No=Gn}function As(Wr,Xr,Jr){Pr[Wr]=function(un,gn,vn,wn,Tn,kn,Nn,Zn,ms,gs,os,js,Ss,Qn,es,ks,Ms){var Is,Ws=Ms-1>>1,Bs=Tn[kn+0]|Nn[Zn+0]<<16,Gs=ms[gs+0]|os[js+0]<<16;e(un!=null);var Us=3*Bs+Gs+131074>>2;for(Xr(un[gn+0],255&Us,Us>>16,Ss,Qn),vn!=null&&(Us=3*Gs+Bs+131074>>2,Xr(vn[wn+0],255&Us,Us>>16,es,ks)),Is=1;Is<=Ws;++Is){var uo=Tn[kn+Is]|Nn[Zn+Is]<<16,vo=ms[gs+Is]|os[js+Is]<<16,lo=Bs+uo+Gs+vo+524296,oo=lo+2*(uo+Gs)>>3;Us=oo+Bs>>1,Bs=(lo=lo+2*(Bs+vo)>>3)+uo>>1,Xr(un[gn+2*Is-1],255&Us,Us>>16,Ss,Qn+(2*Is-1)*Jr),Xr(un[gn+2*Is-0],255&Bs,Bs>>16,Ss,Qn+(2*Is-0)*Jr),vn!=null&&(Us=lo+Gs>>1,Bs=oo+vo>>1,Xr(vn[wn+2*Is-1],255&Us,Us>>16,es,ks+(2*Is-1)*Jr),Xr(vn[wn+2*Is+0],255&Bs,Bs>>16,es,ks+(2*Is+0)*Jr)),Bs=uo,Gs=vo}1&Ms||(Us=3*Bs+Gs+131074>>2,Xr(un[gn+Ms-1],255&Us,Us>>16,Ss,Qn+(Ms-1)*Jr),vn!=null&&(Us=3*Gs+Bs+131074>>2,Xr(vn[wn+Ms-1],255&Us,Us>>16,es,ks+(Ms-1)*Jr)))}}function Ds(){Ul[Zp]=Zy,Ul[Qp]=N0,Ul[C0]=Qy,Ul[Jp]=O0,Ul[em]=M0,Ul[Im]=D0,Ul[k0]=Jy,Ul[jm]=N0,Ul[Nm]=O0,Ul[tm]=M0,Ul[Om]=D0}function Vs(Wr){return Wr&-16384?0>Wr?0:255:Wr>>ev}function Hr(Wr,Xr){return Vs((19077*Wr>>8)+(26149*Xr>>8)-14234)}function rn(Wr,Xr,Jr){return Vs((19077*Wr>>8)-(6419*Xr>>8)-(13320*Jr>>8)+8708)}function hn(Wr,Xr){return Vs((19077*Wr>>8)+(33050*Xr>>8)-17685)}function Pn(Wr,Xr,Jr,un,gn){un[gn+0]=Hr(Wr,Jr),un[gn+1]=rn(Wr,Xr,Jr),un[gn+2]=hn(Wr,Xr)}function ts(Wr,Xr,Jr,un,gn){un[gn+0]=hn(Wr,Xr),un[gn+1]=rn(Wr,Xr,Jr),un[gn+2]=Hr(Wr,Jr)}function ys(Wr,Xr,Jr,un,gn){var vn=rn(Wr,Xr,Jr);Xr=vn<<3&224|hn(Wr,Xr)>>3,un[gn+0]=248&Hr(Wr,Jr)|vn>>5,un[gn+1]=Xr}function Fs(Wr,Xr,Jr,un,gn){var vn=240&hn(Wr,Xr)|15;un[gn+0]=240&Hr(Wr,Jr)|rn(Wr,Xr,Jr)>>4,un[gn+1]=vn}function Js(Wr,Xr,Jr,un,gn){un[gn+0]=255,Pn(Wr,Xr,Jr,un,gn+1)}function ao(Wr,Xr,Jr,un,gn){ts(Wr,Xr,Jr,un,gn),un[gn+3]=255}function na(Wr,Xr,Jr,un,gn){Pn(Wr,Xr,Jr,un,gn),un[gn+3]=255}function po(Wr,Xr){return 0>Wr?0:Wr>Xr?Xr:Wr}function xo(Wr,Xr,Jr){Pr[Wr]=function(un,gn,vn,wn,Tn,kn,Nn,Zn,ms){for(var gs=Zn+(-2&ms)*Jr;Zn!=gs;)Xr(un[gn+0],vn[wn+0],Tn[kn+0],Nn,Zn),Xr(un[gn+1],vn[wn+0],Tn[kn+0],Nn,Zn+Jr),gn+=2,++wn,++kn,Zn+=2*Jr;1&ms&&Xr(un[gn+0],vn[wn+0],Tn[kn+0],Nn,Zn)}}function Ql(Wr,Xr,Jr){return Jr==0?Wr==0?Xr==0?6:5:Xr==0?4:0:Jr}function Wo(Wr,Xr,Jr,un,gn){switch(Wr>>>30){case 3:pu(Xr,Jr,un,gn,0);break;case 2:jo(Xr,Jr,un,gn);break;case 1:Jo(Xr,Jr,un,gn)}}function su(Wr,Xr){var Jr,un,gn=Xr.M,vn=Xr.Nb,wn=Wr.oc,Tn=Wr.pc+40,kn=Wr.oc,Nn=Wr.pc+584,Zn=Wr.oc,ms=Wr.pc+600;for(Jr=0;16>Jr;++Jr)wn[Tn+32*Jr-1]=129;for(Jr=0;8>Jr;++Jr)kn[Nn+32*Jr-1]=129,Zn[ms+32*Jr-1]=129;for(0<gn?wn[Tn-1-32]=kn[Nn-1-32]=Zn[ms-1-32]=129:(nr(wn,Tn-32-1,127,21),nr(kn,Nn-32-1,127,9),nr(Zn,ms-32-1,127,9)),un=0;un<Wr.za;++un){var gs=Xr.ya[Xr.aa+un];if(0<un){for(Jr=-1;16>Jr;++Jr)rr(wn,Tn+32*Jr-4,wn,Tn+32*Jr+12,4);for(Jr=-1;8>Jr;++Jr)rr(kn,Nn+32*Jr-4,kn,Nn+32*Jr+4,4),rr(Zn,ms+32*Jr-4,Zn,ms+32*Jr+4,4)}var os=Wr.Gd,js=Wr.Hd+un,Ss=gs.ad,Qn=gs.Hc;if(0<gn&&(rr(wn,Tn-32,os[js].y,0,16),rr(kn,Nn-32,os[js].f,0,8),rr(Zn,ms-32,os[js].ea,0,8)),gs.Za){var es=wn,ks=Tn-32+16;for(0<gn&&(un>=Wr.za-1?nr(es,ks,os[js].y[15],4):rr(es,ks,os[js+1].y,0,4)),Jr=0;4>Jr;Jr++)es[ks+128+Jr]=es[ks+256+Jr]=es[ks+384+Jr]=es[ks+0+Jr];for(Jr=0;16>Jr;++Jr,Qn<<=2)es=wn,ks=Tn+F0[Jr],Jl[gs.Ob[Jr]](es,ks),Wo(Qn,Ss,16*+Jr,es,ks)}else if(es=Ql(un,gn,gs.Ob[0]),Du[es](wn,Tn),Qn!=0)for(Jr=0;16>Jr;++Jr,Qn<<=2)Wo(Qn,Ss,16*+Jr,wn,Tn+F0[Jr]);for(Jr=gs.Gc,es=Ql(un,gn,gs.Dd),gu[es](kn,Nn),gu[es](Zn,ms),Qn=Ss,es=kn,ks=Nn,255&(gs=Jr>>0)&&(170&gs?Pp(Qn,256,es,ks):Fl(Qn,256,es,ks)),gs=Zn,Qn=ms,255&(Jr>>=8)&&(170&Jr?Pp(Ss,320,gs,Qn):Fl(Ss,320,gs,Qn)),gn<Wr.Ub-1&&(rr(os[js].y,0,wn,Tn+480,16),rr(os[js].f,0,kn,Nn+224,8),rr(os[js].ea,0,Zn,ms+224,8)),Jr=8*vn*Wr.B,os=Wr.sa,js=Wr.ta+16*un+16*vn*Wr.R,Ss=Wr.qa,gs=Wr.ra+8*un+Jr,Qn=Wr.Ha,es=Wr.Ia+8*un+Jr,Jr=0;16>Jr;++Jr)rr(os,js+Jr*Wr.R,wn,Tn+32*Jr,16);for(Jr=0;8>Jr;++Jr)rr(Ss,gs+Jr*Wr.B,kn,Nn+32*Jr,8),rr(Qn,es+Jr*Wr.B,Zn,ms+32*Jr,8)}}function au(Wr,Xr,Jr,un,gn,vn,wn,Tn,kn){var Nn=[0],Zn=[0],ms=0,gs=kn!=null?kn.kd:0,os=kn??new Cu;if(Wr==null||12>Jr)return 7;os.data=Wr,os.w=Xr,os.ha=Jr,Xr=[Xr],Jr=[Jr],os.gb=[os.gb];e:{var js=Xr,Ss=Jr,Qn=os.gb;if(e(Wr!=null),e(Ss!=null),e(Qn!=null),Qn[0]=0,12<=Ss[0]&&!tr(Wr,js[0],"RIFF")){if(tr(Wr,js[0]+8,"WEBP")){Qn=3;break e}var es=Qr(Wr,js[0]+4);if(12>es||4294967286<es){Qn=3;break e}if(gs&&es>Ss[0]-8){Qn=7;break e}Qn[0]=es,js[0]+=12,Ss[0]-=12}Qn=0}if(Qn!=0)return Qn;for(es=0<os.gb[0],Jr=Jr[0];;){e:{var ks=Wr;Ss=Xr,Qn=Jr;var Ms=Nn,Is=Zn,Ws=js=[0];if((Us=ms=[ms])[0]=0,8>Qn[0])Qn=7;else{if(!tr(ks,Ss[0],"VP8X")){if(Qr(ks,Ss[0]+4)!=10){Qn=3;break e}if(18>Qn[0]){Qn=7;break e}var Bs=Qr(ks,Ss[0]+8),Gs=1+nn(ks,Ss[0]+12);if(2147483648<=Gs*(ks=1+nn(ks,Ss[0]+15))){Qn=3;break e}Ws!=null&&(Ws[0]=Bs),Ms!=null&&(Ms[0]=Gs),Is!=null&&(Is[0]=ks),Ss[0]+=18,Qn[0]-=18,Us[0]=1}Qn=0}}if(ms=ms[0],js=js[0],Qn!=0)return Qn;if(Ss=!!(2&js),!es&&ms)return 3;if(vn!=null&&(vn[0]=!!(16&js)),wn!=null&&(wn[0]=Ss),Tn!=null&&(Tn[0]=0),wn=Nn[0],js=Zn[0],ms&&Ss&&kn==null){Qn=0;break}if(4>Jr){Qn=7;break}if(es&&ms||!es&&!ms&&!tr(Wr,Xr[0],"ALPH")){Jr=[Jr],os.na=[os.na],os.P=[os.P],os.Sa=[os.Sa];e:{Bs=Wr,Qn=Xr,es=Jr;var Us=os.gb;Ms=os.na,Is=os.P,Ws=os.Sa,Gs=22,e(Bs!=null),e(es!=null),ks=Qn[0];var uo=es[0];for(e(Ms!=null),e(Ws!=null),Ms[0]=null,Is[0]=null,Ws[0]=0;;){if(Qn[0]=ks,es[0]=uo,8>uo){Qn=7;break e}var vo=Qr(Bs,ks+4);if(4294967286<vo){Qn=3;break e}var lo=8+vo+1&-2;if(Gs+=lo,0<Us&&Gs>Us){Qn=3;break e}if(!tr(Bs,ks,"VP8 ")||!tr(Bs,ks,"VP8L")){Qn=0;break e}if(uo[0]<lo){Qn=7;break e}tr(Bs,ks,"ALPH")||(Ms[0]=Bs,Is[0]=ks+8,Ws[0]=vo),ks+=lo,uo-=lo}}if(Jr=Jr[0],os.na=os.na[0],os.P=os.P[0],os.Sa=os.Sa[0],Qn!=0)break}Jr=[Jr],os.Ja=[os.Ja],os.xa=[os.xa];e:if(Us=Wr,Qn=Xr,es=Jr,Ms=os.gb[0],Is=os.Ja,Ws=os.xa,Bs=Qn[0],ks=!tr(Us,Bs,"VP8 "),Gs=!tr(Us,Bs,"VP8L"),e(Us!=null),e(es!=null),e(Is!=null),e(Ws!=null),8>es[0])Qn=7;else{if(ks||Gs){if(Us=Qr(Us,Bs+4),12<=Ms&&Us>Ms-12){Qn=3;break e}if(gs&&Us>es[0]-8){Qn=7;break e}Is[0]=Us,Qn[0]+=8,es[0]-=8,Ws[0]=Gs}else Ws[0]=5<=es[0]&&Us[Bs+0]==47&&!(Us[Bs+4]>>5),Is[0]=es[0];Qn=0}if(Jr=Jr[0],os.Ja=os.Ja[0],os.xa=os.xa[0],Xr=Xr[0],Qn!=0)break;if(4294967286<os.Ja)return 3;if(Tn==null||Ss||(Tn[0]=os.xa?2:1),wn=[wn],js=[js],os.xa){if(5>Jr){Qn=7;break}Tn=wn,gs=js,Ss=vn,Wr==null||5>Jr?Wr=0:5<=Jr&&Wr[Xr+0]==47&&!(Wr[Xr+4]>>5)?(es=[0],Us=[0],Ms=[0],Er(Is=new Or,Wr,Xr,Jr),Ln(Is,es,Us,Ms)?(Tn!=null&&(Tn[0]=es[0]),gs!=null&&(gs[0]=Us[0]),Ss!=null&&(Ss[0]=Ms[0]),Wr=1):Wr=0):Wr=0}else{if(10>Jr){Qn=7;break}Tn=js,Wr==null||10>Jr||!io(Wr,Xr+3,Jr-3)?Wr=0:(gs=Wr[Xr+0]|Wr[Xr+1]<<8|Wr[Xr+2]<<16,Ss=16383&(Wr[Xr+7]<<8|Wr[Xr+6]),Wr=16383&(Wr[Xr+9]<<8|Wr[Xr+8]),1&gs||3<(gs>>1&7)||!(gs>>4&1)||gs>>5>=os.Ja||!Ss||!Wr?Wr=0:(wn&&(wn[0]=Ss),Tn&&(Tn[0]=Wr),Wr=1))}if(!Wr||(wn=wn[0],js=js[0],ms&&(Nn[0]!=wn||Zn[0]!=js)))return 3;kn!=null&&(kn[0]=os,kn.offset=Xr-kn.w,e(4294967286>Xr-kn.w),e(kn.offset==kn.ha-Jr));break}return Qn==0||Qn==7&&ms&&kn==null?(vn!=null&&(vn[0]|=os.na!=null&&0<os.na.length),un!=null&&(un[0]=wn),gn!=null&&(gn[0]=js),0):Qn}function wp(Wr,Xr,Jr){var un=Xr.width,gn=Xr.height,vn=0,wn=0,Tn=un,kn=gn;if(Xr.Da=Wr!=null&&0<Wr.Da,Xr.Da&&(Tn=Wr.cd,kn=Wr.bd,vn=Wr.v,wn=Wr.j,11>Jr||(vn&=-2,wn&=-2),0>vn||0>wn||0>=Tn||0>=kn||vn+Tn>un||wn+kn>gn))return 0;if(Xr.v=vn,Xr.j=wn,Xr.va=vn+Tn,Xr.o=wn+kn,Xr.U=Tn,Xr.T=kn,Xr.da=Wr!=null&&0<Wr.da,Xr.da){if(!an(Tn,kn,Jr=[Wr.ib],vn=[Wr.hb]))return 0;Xr.ib=Jr[0],Xr.hb=vn[0]}return Xr.ob=Wr!=null&&Wr.ob,Xr.Kb=Wr==null||!Wr.Sd,Xr.da&&(Xr.ob=Xr.ib<3*un/4&&Xr.hb<3*gn/4,Xr.Kb=0),1}function Ep(Wr){if(Wr==null)return 2;if(11>Wr.S){var Xr=Wr.f.RGBA;Xr.fb+=(Wr.height-1)*Xr.A,Xr.A=-Xr.A}else Xr=Wr.f.kb,Wr=Wr.height,Xr.O+=(Wr-1)*Xr.fa,Xr.fa=-Xr.fa,Xr.N+=(Wr-1>>1)*Xr.Ab,Xr.Ab=-Xr.Ab,Xr.W+=(Wr-1>>1)*Xr.Db,Xr.Db=-Xr.Db,Xr.F!=null&&(Xr.J+=(Wr-1)*Xr.lb,Xr.lb=-Xr.lb);return 0}function ip(Wr,Xr,Jr,un){if(un==null||0>=Wr||0>=Xr)return 2;if(Jr!=null){if(Jr.Da){var gn=Jr.cd,vn=Jr.bd,wn=-2&Jr.v,Tn=-2&Jr.j;if(0>wn||0>Tn||0>=gn||0>=vn||wn+gn>Wr||Tn+vn>Xr)return 2;Wr=gn,Xr=vn}if(Jr.da){if(!an(Wr,Xr,gn=[Jr.ib],vn=[Jr.hb]))return 2;Wr=gn[0],Xr=vn[0]}}un.width=Wr,un.height=Xr;e:{var kn=un.width,Nn=un.height;if(Wr=un.S,0>=kn||0>=Nn||!(Wr>=Zp&&13>Wr))Wr=2;else{if(0>=un.Rd&&un.sd==null){wn=vn=gn=Xr=0;var Zn=(Tn=kn*$0[Wr])*Nn;if(11>Wr||(vn=(Nn+1)/2*(Xr=(kn+1)/2),Wr==12&&(wn=(gn=kn)*Nn)),(Nn=ir(Zn+2*vn+wn))==null){Wr=1;break e}un.sd=Nn,11>Wr?((kn=un.f.RGBA).eb=Nn,kn.fb=0,kn.A=Tn,kn.size=Zn):((kn=un.f.kb).y=Nn,kn.O=0,kn.fa=Tn,kn.Fd=Zn,kn.f=Nn,kn.N=0+Zn,kn.Ab=Xr,kn.Cd=vn,kn.ea=Nn,kn.W=0+Zn+vn,kn.Db=Xr,kn.Ed=vn,Wr==12&&(kn.F=Nn,kn.J=0+Zn+2*vn),kn.Tc=wn,kn.lb=gn)}if(Xr=1,gn=un.S,vn=un.width,wn=un.height,gn>=Zp&&13>gn)if(11>gn)Wr=un.f.RGBA,Xr&=(Tn=Math.abs(Wr.A))*(wn-1)+vn<=Wr.size,Xr&=Tn>=vn*$0[gn],Xr&=Wr.eb!=null;else{Wr=un.f.kb,Tn=(vn+1)/2,Zn=(wn+1)/2,kn=Math.abs(Wr.fa),Nn=Math.abs(Wr.Ab);var ms=Math.abs(Wr.Db),gs=Math.abs(Wr.lb),os=gs*(wn-1)+vn;Xr&=kn*(wn-1)+vn<=Wr.Fd,Xr&=Nn*(Zn-1)+Tn<=Wr.Cd,Xr=(Xr&=ms*(Zn-1)+Tn<=Wr.Ed)&kn>=vn&Nn>=Tn&ms>=Tn,Xr&=Wr.y!=null,Xr&=Wr.f!=null,Xr&=Wr.ea!=null,gn==12&&(Xr&=gs>=vn,Xr&=os<=Wr.Tc,Xr&=Wr.F!=null)}else Xr=0;Wr=Xr?0:2}}return Wr!=0||Jr!=null&&Jr.fd&&(Wr=Ep(un)),Wr}var Ho=64,sp=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ap=24,op=32,Sp=8,wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fn("Predictor0","PredictorAdd0"),Pr.Predictor0=function(){return 4278190080},Pr.Predictor1=function(Wr){return Wr},Pr.Predictor2=function(Wr,Xr,Jr){return Xr[Jr+0]},Pr.Predictor3=function(Wr,Xr,Jr){return Xr[Jr+1]},Pr.Predictor4=function(Wr,Xr,Jr){return Xr[Jr-1]},Pr.Predictor5=function(Wr,Xr,Jr){return yn(yn(Wr,Xr[Jr+1]),Xr[Jr+0])},Pr.Predictor6=function(Wr,Xr,Jr){return yn(Wr,Xr[Jr-1])},Pr.Predictor7=function(Wr,Xr,Jr){return yn(Wr,Xr[Jr+0])},Pr.Predictor8=function(Wr,Xr,Jr){return yn(Xr[Jr-1],Xr[Jr+0])},Pr.Predictor9=function(Wr,Xr,Jr){return yn(Xr[Jr+0],Xr[Jr+1])},Pr.Predictor10=function(Wr,Xr,Jr){return yn(yn(Wr,Xr[Jr-1]),yn(Xr[Jr+0],Xr[Jr+1]))},Pr.Predictor11=function(Wr,Xr,Jr){var un=Xr[Jr+0];return 0>=En(un>>24&255,Wr>>24&255,(Xr=Xr[Jr-1])>>24&255)+En(un>>16&255,Wr>>16&255,Xr>>16&255)+En(un>>8&255,Wr>>8&255,Xr>>8&255)+En(255&un,255&Wr,255&Xr)?un:Wr},Pr.Predictor12=function(Wr,Xr,Jr){var un=Xr[Jr+0];return(Cn((Wr>>24&255)+(un>>24&255)-((Xr=Xr[Jr-1])>>24&255))<<24|Cn((Wr>>16&255)+(un>>16&255)-(Xr>>16&255))<<16|Cn((Wr>>8&255)+(un>>8&255)-(Xr>>8&255))<<8|Cn((255&Wr)+(255&un)-(255&Xr)))>>>0},Pr.Predictor13=function(Wr,Xr,Jr){var un=Xr[Jr-1];return(Rn((Wr=yn(Wr,Xr[Jr+0]))>>24&255,un>>24&255)<<24|Rn(Wr>>16&255,un>>16&255)<<16|Rn(Wr>>8&255,un>>8&255)<<8|Rn(Wr>>0&255,un>>0&255))>>>0};var km=Pr.PredictorAdd0;Pr.PredictorAdd1=zn,fn("Predictor2","PredictorAdd2"),fn("Predictor3","PredictorAdd3"),fn("Predictor4","PredictorAdd4"),fn("Predictor5","PredictorAdd5"),fn("Predictor6","PredictorAdd6"),fn("Predictor7","PredictorAdd7"),fn("Predictor8","PredictorAdd8"),fn("Predictor9","PredictorAdd9"),fn("Predictor10","PredictorAdd10"),fn("Predictor11","PredictorAdd11"),fn("Predictor12","PredictorAdd12"),fn("Predictor13","PredictorAdd13");var Ap=Pr.PredictorAdd2;_s("ColorIndexInverseTransform","MapARGB","32b",function(Wr){return Wr>>8&255},function(Wr){return Wr}),_s("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Wr){return Wr},function(Wr){return Wr>>8&255});var Hp,Ll=Pr.ColorIndexInverseTransform,lp=Pr.MapARGB,qp=Pr.VP8LColorIndexInverseTransformAlpha,Kp=Pr.MapAlpha,ju=Pr.VP8LPredictorsAdd=[];ju.length=16,(Pr.VP8LPredictors=[]).length=16,(Pr.VP8LPredictorsAdd_C=[]).length=16,(Pr.VP8LPredictors_C=[]).length=16;var Yu,El,Qo,Nu,hu,fu,cp,pu,jo,Pp,Jo,Fl,up,Gp,Tp,Zu,Qu,Ou,Ju,dp,_d,Mu,Cp,$l,Bl,Eo,So,No,Lo=ir(511),mu=ir(2041),kp=ir(225),hp=ir(767),Xp=0,Rm=mu,Yp=kp,Rl=hp,Vl=Lo,Zp=0,Qp=1,C0=2,Jp=3,em=4,Im=5,k0=6,jm=7,Nm=8,tm=9,Om=10,Ly=[2,3,7],Fy=[3,3,11],R0=[280,256,256,256,40],$y=[0,1,1,1,0],By=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zy=8,Mm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rp=null,Wy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],I0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ky=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Du=[],Jl=[],gu=[],Yy=1,j0=2,Lu=[],Ul=[];As("UpsampleRgbLinePair",Pn,3),As("UpsampleBgrLinePair",ts,3),As("UpsampleRgbaLinePair",na,4),As("UpsampleBgraLinePair",ao,4),As("UpsampleArgbLinePair",Js,4),As("UpsampleRgba4444LinePair",Fs,2),As("UpsampleRgb565LinePair",ys,2);var Zy=Pr.UpsampleRgbLinePair,Qy=Pr.UpsampleBgrLinePair,N0=Pr.UpsampleRgbaLinePair,O0=Pr.UpsampleBgraLinePair,M0=Pr.UpsampleArgbLinePair,D0=Pr.UpsampleRgba4444LinePair,Jy=Pr.UpsampleRgb565LinePair,rm=16,nm=1<<rm-1,Ip=-227,Lm=482,ev=6,L0=0,tv=ir(256),rv=ir(256),nv=ir(256),iv=ir(256),sv=ir(Lm-Ip),av=ir(Lm-Ip);xo("YuvToRgbRow",Pn,3),xo("YuvToBgrRow",ts,3),xo("YuvToRgbaRow",na,4),xo("YuvToBgraRow",ao,4),xo("YuvToArgbRow",Js,4),xo("YuvToRgba4444Row",Fs,2),xo("YuvToRgb565Row",ys,2);var F0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],im=[0,2,8],ov=[8,7,6,4,4,2,2,2,1,1,1,1],lv=1;this.WebPDecodeRGBA=function(Wr,Xr,Jr,un,gn){var vn=Qp,wn=new uu,Tn=new bn;wn.ba=Tn,Tn.S=vn,Tn.width=[Tn.width],Tn.height=[Tn.height];var kn=Tn.width,Nn=Tn.height,Zn=new $n;if(Zn==null||Wr==null)var ms=2;else e(Zn!=null),ms=au(Wr,Xr,Jr,Zn.width,Zn.height,Zn.Pd,Zn.Qd,Zn.format,null);if(ms!=0?kn=0:(kn!=null&&(kn[0]=Zn.width[0]),Nn!=null&&(Nn[0]=Zn.height[0]),kn=1),kn){Tn.width=Tn.width[0],Tn.height=Tn.height[0],un!=null&&(un[0]=Tn.width),gn!=null&&(gn[0]=Tn.height);e:{if(un=new Hs,(gn=new Cu).data=Wr,gn.w=Xr,gn.ha=Jr,gn.kd=1,Xr=[0],e(gn!=null),((Wr=au(gn.data,gn.w,gn.ha,null,null,null,Xr,null,gn))==0||Wr==7)&&Xr[0]&&(Wr=4),(Xr=Wr)==0){if(e(wn!=null),un.data=gn.data,un.w=gn.w+gn.offset,un.ha=gn.ha-gn.offset,un.put=xn,un.ac=An,un.bc=jn,un.ma=wn,gn.xa){if((Wr=Os())==null){wn=1;break e}if(function(gs,os){var js=[0],Ss=[0],Qn=[0];t:for(;;){if(gs==null)return 0;if(os==null)return gs.a=2,0;if(gs.l=os,gs.a=0,Er(gs.m,os.data,os.w,os.ha),!Ln(gs.m,js,Ss,Qn)){gs.a=3;break t}if(gs.xb=j0,os.width=js[0],os.height=Ss[0],!zs(js[0],Ss[0],1,gs,null))break t;return 1}return e(gs.a!=0),0}(Wr,un)){if(un=(Xr=ip(un.width,un.height,wn.Oa,wn.ba))==0){t:{un=Wr;r:for(;;){if(un==null){un=0;break t}if(e(un.s.yc!=null),e(un.s.Ya!=null),e(0<un.s.Wb),e((Jr=un.l)!=null),e((gn=Jr.ma)!=null),un.xb!=0){if(un.ca=gn.ba,un.tb=gn.tb,e(un.ca!=null),!wp(gn.Oa,Jr,Jp)){un.a=2;break r}if(!qs(un,Jr.width)||Jr.da)break r;if((Jr.da||ds(un.ca.S))&&as(),11>un.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),un.ca.f.kb.F!=null&&as()),un.Pb&&0<un.s.ua&&un.s.vb.X==null&&!cn(un.s.vb,un.s.Wa.Xa)){un.a=1;break r}un.xb=0}if(!Ts(un,un.V,un.Ba,un.c,un.i,Jr.o,Cs))break r;gn.Dc=un.Ma,un=1;break t}e(un.a!=0),un=0}un=!un}un&&(Xr=Wr.a)}else Xr=Wr.a}else{if((Wr=new no)==null){wn=1;break e}if(Wr.Fa=gn.na,Wr.P=gn.P,Wr.qc=gn.Sa,co(Wr,un)){if((Xr=ip(un.width,un.height,wn.Oa,wn.ba))==0){if(Wr.Aa=0,Jr=wn.Oa,e((gn=Wr)!=null),Jr!=null){if(0<(kn=0>(kn=Jr.Md)?0:100<kn?255:255*kn/100)){for(Nn=Zn=0;4>Nn;++Nn)12>(ms=gn.pb[Nn]).lc&&(ms.ia=kn*ov[0>ms.lc?0:ms.lc]>>3),Zn|=ms.ia;Zn&&(alert("todo:VP8InitRandom"),gn.ia=1)}gn.Ga=Jr.Id,100<gn.Ga?gn.Ga=100:0>gn.Ga&&(gn.Ga=0)}Fo(Wr,un)||(Xr=Wr.a)}}else Xr=Wr.a}Xr==0&&wn.Oa!=null&&wn.Oa.fd&&(Xr=Ep(wn.ba))}wn=Xr}vn=wn!=0?null:11>vn?Tn.f.RGBA.eb:Tn.f.kb.y}else vn=null;return vn};var $0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function lr(Pr,Rr){for(var Lr="",Ir=0;Ir<4;Ir++)Lr+=String.fromCharCode(Pr[Rr++]);return Lr}function cr(Pr,Rr){return(Pr[Rr+0]<<0|Pr[Rr+1]<<8|Pr[Rr+2]<<16)>>>0}function dr(Pr,Rr){return(Pr[Rr+0]<<0|Pr[Rr+1]<<8|Pr[Rr+2]<<16|Pr[Rr+3]<<24)>>>0}new ar;var hr=[0],ur=[0],pr=[],mr=new ar,fr=er,gr=function(Pr,Rr){var Lr={},Ir=0,Nr=!1,Ar=0,Dr=0;if(Lr.frames=[],!function(Br,Ur,qr,Vr){for(var Gr=0;Gr<Vr;Gr++)if(Br[Ur+Gr]!=qr.charCodeAt(Gr))return!0;return!1}(Pr,Rr,"RIFF",4)){var Tr,_r;for(dr(Pr,Rr+=4),Rr+=8;Rr<Pr.length;){var wr=lr(Pr,Rr),Er=dr(Pr,Rr+=4);Rr+=4;var xr=Er+(1&Er);switch(wr){case"VP8 ":case"VP8L":Lr.frames[Ir]===void 0&&(Lr.frames[Ir]={}),(Or=Lr.frames[Ir]).src_off=Nr?Dr:Rr-8,Or.src_size=Ar+Er+8,Ir++,Nr&&(Nr=!1,Ar=0,Dr=0);break;case"VP8X":(Or=Lr.header={}).feature_flags=Pr[Rr];var Mr=Rr+4;Or.canvas_width=1+cr(Pr,Mr),Mr+=3,Or.canvas_height=1+cr(Pr,Mr),Mr+=3;break;case"ALPH":Nr=!0,Ar=xr+8,Dr=Rr-8;break;case"ANIM":(Or=Lr.header).bgcolor=dr(Pr,Rr),Mr=Rr+4,Or.loop_count=(Tr=Pr)[(_r=Mr)+0]<<0|Tr[_r+1]<<8,Mr+=2;break;case"ANMF":var zr,Or;(Or=Lr.frames[Ir]={}).offset_x=2*cr(Pr,Rr),Rr+=3,Or.offset_y=2*cr(Pr,Rr),Rr+=3,Or.width=1+cr(Pr,Rr),Rr+=3,Or.height=1+cr(Pr,Rr),Rr+=3,Or.duration=cr(Pr,Rr),Rr+=3,zr=Pr[Rr++],Or.dispose=1&zr,Or.blend=zr>>1&1}wr!="ANMF"&&(Rr+=xr)}return Lr}}(fr,0);gr.response=fr,gr.rgbaoutput=!0,gr.dataurl=!1;var yr=gr.header?gr.header:null,vr=gr.frames?gr.frames:null;if(yr){yr.loop_counter=yr.loop_count,hr=[yr.canvas_height],ur=[yr.canvas_width];for(var br=0;br<vr.length&&vr[br].blend!=0;br++);}var Sr=vr[0],jr=mr.WebPDecodeRGBA(fr,Sr.src_off,Sr.src_size,ur,hr);Sr.rgba=jr,Sr.imgwidth=ur[0],Sr.imgheight=hr[0];for(var Cr=0;Cr<ur[0]*hr[0]*4;Cr++)pr[Cr]=jr[Cr];return this.width=ur,this.height=hr,this.data=pr,this}(function(er){var e=function(){return typeof zlibSync=="function"},tr=function(hr,ur,pr,mr){var fr=4,gr=sr;switch(mr){case er.image_compression.FAST:fr=1,gr=ir;break;case er.image_compression.MEDIUM:fr=6,gr=or;break;case er.image_compression.SLOW:fr=9,gr=ar}hr=rr(hr,ur,pr,gr);var yr=zlibSync(hr,{level:fr});return er.__addimage__.arrayBufferToBinaryString(yr)},rr=function(hr,ur,pr,mr){for(var fr,gr,yr,vr=hr.length/ur,br=new Uint8Array(hr.length+vr),Sr=cr(),jr=0;jr<vr;jr+=1){if(yr=jr*ur,fr=hr.subarray(yr,yr+ur),mr)br.set(mr(fr,pr,gr),yr+jr);else{for(var Cr,Pr=Sr.length,Rr=[];Cr<Pr;Cr+=1)Rr[Cr]=Sr[Cr](fr,pr,gr);var Lr=dr(Rr.concat());br.set(Rr[Lr],yr+jr)}gr=fr}return br},nr=function(hr){var ur=Array.apply([],hr);return ur.unshift(0),ur},ir=function(hr,ur){var pr,mr=[],fr=hr.length;mr[0]=1;for(var gr=0;gr<fr;gr+=1)pr=hr[gr-ur]||0,mr[gr+1]=hr[gr]-pr+256&255;return mr},sr=function(hr,ur,pr){var mr,fr=[],gr=hr.length;fr[0]=2;for(var yr=0;yr<gr;yr+=1)mr=pr&&pr[yr]||0,fr[yr+1]=hr[yr]-mr+256&255;return fr},or=function(hr,ur,pr){var mr,fr,gr=[],yr=hr.length;gr[0]=3;for(var vr=0;vr<yr;vr+=1)mr=hr[vr-ur]||0,fr=pr&&pr[vr]||0,gr[vr+1]=hr[vr]+256-(mr+fr>>>1)&255;return gr},ar=function(hr,ur,pr){var mr,fr,gr,yr,vr=[],br=hr.length;vr[0]=4;for(var Sr=0;Sr<br;Sr+=1)mr=hr[Sr-ur]||0,fr=pr&&pr[Sr]||0,gr=pr&&pr[Sr-ur]||0,yr=lr(mr,fr,gr),vr[Sr+1]=hr[Sr]-yr+256&255;return vr},lr=function(hr,ur,pr){if(hr===ur&&ur===pr)return hr;var mr=Math.abs(ur-pr),fr=Math.abs(hr-pr),gr=Math.abs(hr+ur-pr-pr);return mr<=fr&&mr<=gr?hr:fr<=gr?ur:pr},cr=function(){return[nr,ir,sr,or,ar]},dr=function(hr){var ur=hr.map(function(pr){return pr.reduce(function(mr,fr){return mr+Math.abs(fr)},0)});return ur.indexOf(Math.min.apply(null,ur))};er.processPNG=function(hr,ur,pr,mr){var fr,gr,yr,vr,br,Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar,Dr,Tr=this.decode.FLATE_DECODE,_r="";if(this.__addimage__.isArrayBuffer(hr)&&(hr=new Uint8Array(hr)),this.__addimage__.isArrayBufferView(hr)){if(hr=(yr=new Kt(hr)).imgData,gr=yr.bits,fr=yr.colorSpace,br=yr.colors,[4,6].indexOf(yr.colorType)!==-1){if(yr.bits===8){Pr=(Cr=yr.pixelBitlength==32?new Uint32Array(yr.decodePixels().buffer):yr.pixelBitlength==16?new Uint16Array(yr.decodePixels().buffer):new Uint8Array(yr.decodePixels().buffer)).length,Lr=new Uint8Array(Pr*yr.colors),Rr=new Uint8Array(Pr);var wr,Er=yr.pixelBitlength-yr.bits;for(Ar=0,Dr=0;Ar<Pr;Ar++){for(Nr=Cr[Ar],wr=0;wr<Er;)Lr[Dr++]=Nr>>>wr&255,wr+=yr.bits;Rr[Ar]=Nr>>>wr&255}}if(yr.bits===16){Pr=(Cr=new Uint32Array(yr.decodePixels().buffer)).length,Lr=new Uint8Array(Pr*(32/yr.pixelBitlength)*yr.colors),Rr=new Uint8Array(Pr*(32/yr.pixelBitlength)),Ir=yr.colors>1,Ar=0,Dr=0;for(var xr=0;Ar<Pr;)Nr=Cr[Ar++],Lr[Dr++]=Nr>>>0&255,Ir&&(Lr[Dr++]=Nr>>>16&255,Nr=Cr[Ar++],Lr[Dr++]=Nr>>>0&255),Rr[xr++]=Nr>>>16&255;gr=8}mr!==er.image_compression.NONE&&e()?(hr=tr(Lr,yr.width*yr.colors,yr.colors,mr),jr=tr(Rr,yr.width,1,mr)):(hr=Lr,jr=Rr,Tr=void 0)}if(yr.colorType===3&&(fr=this.color_spaces.INDEXED,Sr=yr.palette,yr.transparency.indexed)){var Mr=yr.transparency.indexed,zr=0;for(Ar=0,Pr=Mr.length;Ar<Pr;++Ar)zr+=Mr[Ar];if((zr/=255)===Pr-1&&Mr.indexOf(0)!==-1)vr=[Mr.indexOf(0)];else if(zr!==Pr){for(Cr=yr.decodePixels(),Rr=new Uint8Array(Cr.length),Ar=0,Pr=Cr.length;Ar<Pr;Ar++)Rr[Ar]=Mr[Cr[Ar]];jr=tr(Rr,yr.width,1)}}var Or=function(Br){var Ur;switch(Br){case er.image_compression.FAST:Ur=11;break;case er.image_compression.MEDIUM:Ur=13;break;case er.image_compression.SLOW:Ur=14;break;default:Ur=12}return Ur}(mr);return Tr===this.decode.FLATE_DECODE&&(_r="/Predictor "+Or+" "),_r+="/Colors "+br+" /BitsPerComponent "+gr+" /Columns "+yr.width,(this.__addimage__.isArrayBuffer(hr)||this.__addimage__.isArrayBufferView(hr))&&(hr=this.__addimage__.arrayBufferToBinaryString(hr)),(jr&&this.__addimage__.isArrayBuffer(jr)||this.__addimage__.isArrayBufferView(jr))&&(jr=this.__addimage__.arrayBufferToBinaryString(jr)),{alias:pr,data:hr,index:ur,filter:Tr,decodeParameters:_r,transparency:vr,palette:Sr,sMask:jr,predictor:Or,width:yr.width,height:yr.height,bitsPerComponent:gr,colorSpace:fr}}}})(E.API),function(er){er.processGIF89A=function(e,tr,rr,nr){var ir=new Zt(e),sr=ir.width,or=ir.height,ar=[];ir.decodeAndBlitFrameRGBA(0,ar);var lr={data:ar,width:sr,height:or},cr=new Qt(100).encode(lr,100);return er.processJPEG.call(this,cr,tr,rr,nr)},er.processGIF87A=er.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var er=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(er);for(var e=0;e<er;e++){var tr=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:nr,green:rr,blue:tr,quad:ir}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var er="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[er]()}catch(tr){a.log("bit decode error:"+tr)}},te.prototype.bit1=function(){var er,e=Math.ceil(this.width/8),tr=e%4;for(er=this.height-1;er>=0;er--){for(var rr=this.bottom_up?er:this.height-1-er,nr=0;nr<e;nr++)for(var ir=this.datav.getUint8(this.pos++,!0),sr=rr*this.width*4+8*nr*4,or=0;or<8&&8*nr+or<this.width;or++){var ar=this.palette[ir>>7-or&1];this.data[sr+4*or]=ar.blue,this.data[sr+4*or+1]=ar.green,this.data[sr+4*or+2]=ar.red,this.data[sr+4*or+3]=255}tr!==0&&(this.pos+=4-tr)}},te.prototype.bit4=function(){for(var er=Math.ceil(this.width/2),e=er%4,tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<er;nr++){var ir=this.datav.getUint8(this.pos++,!0),sr=rr*this.width*4+2*nr*4,or=ir>>4,ar=15&ir,lr=this.palette[or];if(this.data[sr]=lr.blue,this.data[sr+1]=lr.green,this.data[sr+2]=lr.red,this.data[sr+3]=255,2*nr+1>=this.width)break;lr=this.palette[ar],this.data[sr+4]=lr.blue,this.data[sr+4+1]=lr.green,this.data[sr+4+2]=lr.red,this.data[sr+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var er=this.width%4,e=this.height-1;e>=0;e--){for(var tr=this.bottom_up?e:this.height-1-e,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),ir=tr*this.width*4+4*rr;if(nr<this.palette.length){var sr=this.palette[nr];this.data[ir]=sr.red,this.data[ir+1]=sr.green,this.data[ir+2]=sr.blue,this.data[ir+3]=255}else this.data[ir]=255,this.data[ir+1]=255,this.data[ir+2]=255,this.data[ir+3]=255}er!==0&&(this.pos+=4-er)}},te.prototype.bit15=function(){for(var er=this.width%3,e=parseInt("11111",2),tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<this.width;nr++){var ir=this.datav.getUint16(this.pos,!0);this.pos+=2;var sr=(ir&e)/e*255|0,or=(ir>>5&e)/e*255|0,ar=(ir>>10&e)/e*255|0,lr=ir>>15?255:0,cr=rr*this.width*4+4*nr;this.data[cr]=ar,this.data[cr+1]=or,this.data[cr+2]=sr,this.data[cr+3]=lr}this.pos+=er}},te.prototype.bit16=function(){for(var er=this.width%3,e=parseInt("11111",2),tr=parseInt("111111",2),rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,ir=0;ir<this.width;ir++){var sr=this.datav.getUint16(this.pos,!0);this.pos+=2;var or=(sr&e)/e*255|0,ar=(sr>>5&tr)/tr*255|0,lr=(sr>>11)/e*255|0,cr=nr*this.width*4+4*ir;this.data[cr]=lr,this.data[cr+1]=ar,this.data[cr+2]=or,this.data[cr+3]=255}this.pos+=er}},te.prototype.bit24=function(){for(var er=this.height-1;er>=0;er--){for(var e=this.bottom_up?er:this.height-1-er,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),sr=e*this.width*4+4*tr;this.data[sr]=ir,this.data[sr+1]=nr,this.data[sr+2]=rr,this.data[sr+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var er=this.height-1;er>=0;er--)for(var e=this.bottom_up?er:this.height-1-er,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0),or=e*this.width*4+4*tr;this.data[or]=ir,this.data[or+1]=nr,this.data[or+2]=rr,this.data[or+3]=sr}},te.prototype.getData=function(){return this.data},function(er){er.processBMP=function(e,tr,rr,nr){var ir=new te(e,!1),sr=ir.width,or=ir.height,ar={data:ir.getData(),width:sr,height:or},lr=new Qt(100).encode(ar,100);return er.processJPEG.call(this,lr,tr,rr,nr)}}(E.API),ee.prototype.getData=function(){return this.data},function(er){er.processWEBP=function(e,tr,rr,nr){var ir=new ee(e),sr=ir.width,or=ir.height,ar={data:ir.getData(),width:sr,height:or},lr=new Qt(100).encode(ar,100);return er.processJPEG.call(this,lr,tr,rr,nr)}}(E.API),E.API.processRGBA=function(er,e,tr){for(var rr=er.data,nr=rr.length,ir=new Uint8Array(nr/4*3),sr=new Uint8Array(nr/4),or=0,ar=0,lr=0;lr<nr;lr+=4){var cr=rr[lr],dr=rr[lr+1],hr=rr[lr+2],ur=rr[lr+3];ir[or++]=cr,ir[or++]=dr,ir[or++]=hr,sr[ar++]=ur}var pr=this.__addimage__.arrayBufferToBinaryString(ir);return{alpha:this.__addimage__.arrayBufferToBinaryString(sr),data:pr,index:e,alias:tr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:er.width,height:er.height}},E.API.setLanguage=function(er){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[er]!==void 0&&(this.internal.languageSettings.languageCode=er,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(er,e){var tr,rr,nr=(e=e||{}).font||this.internal.getFont(),ir=e.fontSize||this.internal.getFontSize(),sr=e.charSpace||this.internal.getCharSpace(),or=e.widths?e.widths:nr.metadata.Unicode.widths,ar=or.fof?or.fof:1,lr=e.kerning?e.kerning:nr.metadata.Unicode.kerning,cr=lr.fof?lr.fof:1,dr=e.doKerning!==!1,hr=0,ur=er.length,pr=0,mr=or[0]||ar,fr=[];for(tr=0;tr<ur;tr++)rr=er.charCodeAt(tr),typeof nr.metadata.widthOfString=="function"?fr.push((nr.metadata.widthOfGlyph(nr.metadata.characterToGlyph(rr))+sr*(1e3/ir)||0)/1e3):(hr=dr&&_typeof(lr[rr])==="object"&&!isNaN(parseInt(lr[rr][pr],10))?lr[rr][pr]/cr:0,fr.push((or[rr]||mr)/ar+hr)),pr=rr;return fr},Yt=Vt.getStringUnitWidth=function(er,e){var tr=(e=e||{}).fontSize||this.internal.getFontSize(),rr=e.font||this.internal.getFont(),nr=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(er=Vt.processArabic(er)),typeof rr.metadata.widthOfString=="function"?rr.metadata.widthOfString(er,tr,nr)/tr:Gt.apply(this,arguments).reduce(function(ir,sr){return ir+sr},0)},Jt=function(er,e,tr,rr){for(var nr=[],ir=0,sr=er.length,or=0;ir!==sr&&or+e[ir]<tr;)or+=e[ir],ir++;nr.push(er.slice(0,ir));var ar=ir;for(or=0;ir!==sr;)or+e[ir]>rr&&(nr.push(er.slice(ar,ir)),or=0,ar=ir),or+=e[ir],ir++;return ar!==ir&&nr.push(er.slice(ar,ir)),nr},Xt=function(er,e,tr){tr||(tr={});var rr,nr,ir,sr,or,ar,lr,cr=[],dr=[cr],hr=tr.textIndent||0,ur=0,pr=0,mr=er.split(" "),fr=Gt.apply(this,[" ",tr])[0];if(ar=tr.lineIndent===-1?mr[0].length+2:tr.lineIndent||0){var gr=Array(ar).join(" "),yr=[];mr.map(function(br){(br=br.split(/\s*\n/)).length>1?yr=yr.concat(br.map(function(Sr,jr){return(jr&&Sr.length?`
`:"")+Sr})):yr.push(br[0])}),mr=yr,ar=Yt.apply(this,[gr,tr])}for(ir=0,sr=mr.length;ir<sr;ir++){var vr=0;if(rr=mr[ir],ar&&rr[0]==`
`&&(rr=rr.substr(1),vr=1),hr+ur+(pr=(nr=Gt.apply(this,[rr,tr])).reduce(function(br,Sr){return br+Sr},0))>e||vr){if(pr>e){for(or=Jt.apply(this,[rr,nr,e-(hr+ur),e]),cr.push(or.shift()),cr=[or.pop()];or.length;)dr.push([or.shift()]);pr=nr.slice(rr.length-(cr[0]?cr[0].length:0)).reduce(function(br,Sr){return br+Sr},0)}else cr=[rr];dr.push(cr),hr=pr+ar,ur=fr}else cr.push(rr),hr+=ur+pr,ur=fr}return lr=ar?function(br,Sr){return(Sr?gr:"")+br.join(" ")}:function(br){return br.join(" ")},dr.map(lr)},Vt.splitTextToSize=function(er,e,tr){var rr,nr=(tr=tr||{}).fontSize||this.internal.getFontSize(),ir=(function(cr){if(cr.widths&&cr.kerning)return{widths:cr.widths,kerning:cr.kerning};var dr=this.internal.getFont(cr.fontName,cr.fontStyle);return dr.metadata.Unicode?{widths:dr.metadata.Unicode.widths||{0:1},kerning:dr.metadata.Unicode.kerning||{}}:{font:dr.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,tr);rr=Array.isArray(er)?er:String(er).split(/\r?\n/);var sr=1*this.internal.scaleFactor*e/nr;ir.textIndent=tr.textIndent?1*tr.textIndent*this.internal.scaleFactor/nr:0,ir.lineIndent=tr.lineIndent;var or,ar,lr=[];for(or=0,ar=rr.length;or<ar;or++)lr=lr.concat(Xt.apply(this,[rr[or],sr,ir]));return lr},function(er){er.__fontmetrics__=er.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",tr={},rr={},nr=0;nr<e.length;nr++)tr[e[nr]]="0123456789abcdef"[nr],rr["0123456789abcdef"[nr]]=e[nr];var ir=function(dr){return"0x"+parseInt(dr,10).toString(16)},sr=er.__fontmetrics__.compress=function(dr){var hr,ur,pr,mr,fr=["{"];for(var gr in dr){if(hr=dr[gr],isNaN(parseInt(gr,10))?ur="'"+gr+"'":(gr=parseInt(gr,10),ur=(ur=ir(gr).slice(2)).slice(0,-1)+rr[ur.slice(-1)]),typeof hr=="number")hr<0?(pr=ir(hr).slice(3),mr="-"):(pr=ir(hr).slice(2),mr=""),pr=mr+pr.slice(0,-1)+rr[pr.slice(-1)];else{if(_typeof(hr)!=="object")throw new Error("Don't know what to do with value type "+_typeof(hr)+".");pr=sr(hr)}fr.push(ur+pr)}return fr.push("}"),fr.join("")},or=er.__fontmetrics__.uncompress=function(dr){if(typeof dr!="string")throw new Error("Invalid argument passed to uncompress.");for(var hr,ur,pr,mr,fr={},gr=1,yr=fr,vr=[],br="",Sr="",jr=dr.length-1,Cr=1;Cr<jr;Cr+=1)(mr=dr[Cr])=="'"?hr?(pr=hr.join(""),hr=void 0):hr=[]:hr?hr.push(mr):mr=="{"?(vr.push([yr,pr]),yr={},pr=void 0):mr=="}"?((ur=vr.pop())[0][ur[1]]=yr,pr=void 0,yr=ur[0]):mr=="-"?gr=-1:pr===void 0?tr.hasOwnProperty(mr)?(br+=tr[mr],pr=parseInt(br,16)*gr,gr=1,br=""):br+=mr:tr.hasOwnProperty(mr)?(Sr+=tr[mr],yr[pr]=parseInt(Sr,16)*gr,gr=1,pr=void 0,Sr=""):Sr+=mr;return fr},ar={codePages:["WinAnsiEncoding"],WinAnsiEncoding:or("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},lr={Unicode:{Courier:ar,"Courier-Bold":ar,"Courier-BoldOblique":ar,"Courier-Oblique":ar,Helvetica:ar,"Helvetica-Bold":ar,"Helvetica-BoldOblique":ar,"Helvetica-Oblique":ar,"Times-Roman":ar,"Times-Bold":ar,"Times-BoldItalic":ar,"Times-Italic":ar}},cr={Unicode:{"Courier-Oblique":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":or("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":or("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":or("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:or("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:or("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":or("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:or("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":or("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":or("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":or("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};er.events.push(["addFont",function(dr){var hr=dr.font,ur=cr.Unicode[hr.postScriptName];ur&&(hr.metadata.Unicode={},hr.metadata.Unicode.widths=ur.widths,hr.metadata.Unicode.kerning=ur.kerning);var pr=lr.Unicode[hr.postScriptName];pr&&(hr.metadata.Unicode.encoding=pr,hr.encoding=pr.codePages[0])}])}(E.API),function(er){var e=function(tr){for(var rr=tr.length,nr=new Uint8Array(rr),ir=0;ir<rr;ir++)nr[ir]=tr.charCodeAt(ir);return nr};er.API.events.push(["addFont",function(tr){var rr=void 0,nr=tr.font,ir=tr.instance;if(!nr.isStandardFont){if(ir===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");if(typeof(rr=ir.existsFileInVFS(nr.postScriptName)===!1?ir.loadFile(nr.postScriptName):ir.getFileFromVFS(nr.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");(function(sr,or){or=/^\x00\x01\x00\x00/.test(or)?e(or):e(u(or)),sr.metadata=er.API.TTFFont.open(or),sr.metadata.Unicode=sr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},sr.metadata.glyIdsUsed=[0]})(nr,rr)}}])}(E),function(er){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-I3Y7_q3p.js"),[])).catch(function(tr){return Promise.reject(new Error("Could not load canvg: "+tr))}).then(function(tr){return tr.default?tr.default:tr})}E.API.addSvgAsImage=function(tr,rr,nr,ir,sr,or,ar,lr){if(isNaN(rr)||isNaN(nr))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ir)||isNaN(sr))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var cr=document.createElement("canvas");cr.width=ir,cr.height=sr;var dr=cr.getContext("2d");dr.fillStyle="#fff",dr.fillRect(0,0,cr.width,cr.height);var hr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ur=this;return e().then(function(pr){return pr.fromString(dr,tr,hr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(pr){return pr.render(hr)}).then(function(){ur.addImage(cr.toDataURL("image/jpeg",1),rr,nr,ir,sr,ar,lr)})}}(),E.API.putTotalPages=function(er){var e,tr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(er,"g"),tr=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(er,this.internal.getFont()),"g"),tr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var rr=1;rr<=this.internal.getNumberOfPages();rr++)for(var nr=0;nr<this.internal.pages[rr].length;nr++)this.internal.pages[rr][nr]=this.internal.pages[rr][nr].replace(e,tr);return this},E.API.viewerPreferences=function(er,e){var tr;er=er||{},e=e||!1;var rr,nr,ir,sr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},or=Object.keys(sr),ar=[],lr=0,cr=0,dr=0;function hr(pr,mr){var fr,gr=!1;for(fr=0;fr<pr.length;fr+=1)pr[fr]===mr&&(gr=!0);return gr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(sr)),this.internal.viewerpreferences.isSubscribed=!1),tr=this.internal.viewerpreferences.configuration,er==="reset"||e===!0){var ur=or.length;for(dr=0;dr<ur;dr+=1)tr[or[dr]].value=tr[or[dr]].defaultValue,tr[or[dr]].explicitSet=!1}if(_typeof(er)==="object"){for(nr in er)if(ir=er[nr],hr(or,nr)&&ir!==void 0){if(tr[nr].type==="boolean"&&typeof ir=="boolean")tr[nr].value=ir;else if(tr[nr].type==="name"&&hr(tr[nr].valueSet,ir))tr[nr].value=ir;else if(tr[nr].type==="integer"&&Number.isInteger(ir))tr[nr].value=ir;else if(tr[nr].type==="array"){for(lr=0;lr<ir.length;lr+=1)if(rr=!0,ir[lr].length===1&&typeof ir[lr][0]=="number")ar.push(String(ir[lr]-1));else if(ir[lr].length>1){for(cr=0;cr<ir[lr].length;cr+=1)typeof ir[lr][cr]!="number"&&(rr=!1);rr===!0&&ar.push([ir[lr][0]-1,ir[lr][1]-1].join(" "))}tr[nr].value="["+ar.join(" ")+"]"}else tr[nr].value=tr[nr].defaultValue;tr[nr].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var pr,mr=[];for(pr in tr)tr[pr].explicitSet===!0&&(tr[pr].type==="name"?mr.push("/"+pr+" /"+tr[pr].value):mr.push("/"+pr+" "+tr[pr].value));mr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+mr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=tr,this},function(er){var e=function(){var rr='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',nr=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ir=unescape(encodeURIComponent(rr)),sr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),or=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ar=unescape(encodeURIComponent("</x:xmpmeta>")),lr=ir.length+sr.length+or.length+nr.length+ar.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+lr+" >>"),this.internal.write("stream"),this.internal.write(nr+ir+sr+or+ar),this.internal.write("endstream"),this.internal.write("endobj")},tr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};er.addMetadata=function(rr,nr){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:rr,namespaceuri:nr||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",tr),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(er){var e=er.API,tr=e.pdfEscape16=function(ir,sr){for(var or,ar=sr.metadata.Unicode.widths,lr=["","0","00","000","0000"],cr=[""],dr=0,hr=ir.length;dr<hr;++dr){if(or=sr.metadata.characterToGlyph(ir.charCodeAt(dr)),sr.metadata.glyIdsUsed.push(or),sr.metadata.toUnicode[or]=ir.charCodeAt(dr),ar.indexOf(or)==-1&&(ar.push(or),ar.push([parseInt(sr.metadata.widthOfGlyph(or),10)])),or=="0")return cr.join("");or=or.toString(16),cr.push(lr[4-or.length],or)}return cr.join("")},rr=function(ir){var sr,or,ar,lr,cr,dr,hr;for(cr=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ar=[],dr=0,hr=(or=Object.keys(ir).sort(function(ur,pr){return ur-pr})).length;dr<hr;dr++)sr=or[dr],ar.length>=100&&(cr+=`
`+ar.length+` beginbfchar
`+ar.join(`
`)+`
endbfchar`,ar=[]),ir[sr]!==void 0&&ir[sr]!==null&&typeof ir[sr].toString=="function"&&(lr=("0000"+ir[sr].toString(16)).slice(-4),sr=("0000"+(+sr).toString(16)).slice(-4),ar.push("<"+sr+"><"+lr+">"));return ar.length&&(cr+=`
`+ar.length+` beginbfchar
`+ar.join(`
`)+`
endbfchar
`),cr+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(ir){(function(sr){var or=sr.font,ar=sr.out,lr=sr.newObject,cr=sr.putStream;if(or.metadata instanceof er.API.TTFFont&&or.encoding==="Identity-H"){for(var dr=or.metadata.Unicode.widths,hr=or.metadata.subset.encode(or.metadata.glyIdsUsed,1),ur="",pr=0;pr<hr.length;pr++)ur+=String.fromCharCode(hr[pr]);var mr=lr();cr({data:ur,addLength1:!0,objectId:mr}),ar("endobj");var fr=lr();cr({data:rr(or.metadata.toUnicode),addLength1:!0,objectId:fr}),ar("endobj");var gr=lr();ar("<<"),ar("/Type /FontDescriptor"),ar("/FontName /"+F(or.fontName)),ar("/FontFile2 "+mr+" 0 R"),ar("/FontBBox "+er.API.PDFObject.convert(or.metadata.bbox)),ar("/Flags "+or.metadata.flags),ar("/StemV "+or.metadata.stemV),ar("/ItalicAngle "+or.metadata.italicAngle),ar("/Ascent "+or.metadata.ascender),ar("/Descent "+or.metadata.decender),ar("/CapHeight "+or.metadata.capHeight),ar(">>"),ar("endobj");var yr=lr();ar("<<"),ar("/Type /Font"),ar("/BaseFont /"+F(or.fontName)),ar("/FontDescriptor "+gr+" 0 R"),ar("/W "+er.API.PDFObject.convert(dr)),ar("/CIDToGIDMap /Identity"),ar("/DW 1000"),ar("/Subtype /CIDFontType2"),ar("/CIDSystemInfo"),ar("<<"),ar("/Supplement 0"),ar("/Registry (Adobe)"),ar("/Ordering ("+or.encoding+")"),ar(">>"),ar(">>"),ar("endobj"),or.objectNumber=lr(),ar("<<"),ar("/Type /Font"),ar("/Subtype /Type0"),ar("/ToUnicode "+fr+" 0 R"),ar("/BaseFont /"+F(or.fontName)),ar("/Encoding /"+or.encoding),ar("/DescendantFonts ["+yr+" 0 R]"),ar(">>"),ar("endobj"),or.isAlreadyPutted=!0}})(ir)}]),e.events.push(["putFont",function(ir){(function(sr){var or=sr.font,ar=sr.out,lr=sr.newObject,cr=sr.putStream;if(or.metadata instanceof er.API.TTFFont&&or.encoding==="WinAnsiEncoding"){for(var dr=or.metadata.rawData,hr="",ur=0;ur<dr.length;ur++)hr+=String.fromCharCode(dr[ur]);var pr=lr();cr({data:hr,addLength1:!0,objectId:pr}),ar("endobj");var mr=lr();cr({data:rr(or.metadata.toUnicode),addLength1:!0,objectId:mr}),ar("endobj");var fr=lr();ar("<<"),ar("/Descent "+or.metadata.decender),ar("/CapHeight "+or.metadata.capHeight),ar("/StemV "+or.metadata.stemV),ar("/Type /FontDescriptor"),ar("/FontFile2 "+pr+" 0 R"),ar("/Flags 96"),ar("/FontBBox "+er.API.PDFObject.convert(or.metadata.bbox)),ar("/FontName /"+F(or.fontName)),ar("/ItalicAngle "+or.metadata.italicAngle),ar("/Ascent "+or.metadata.ascender),ar(">>"),ar("endobj"),or.objectNumber=lr();for(var gr=0;gr<or.metadata.hmtx.widths.length;gr++)or.metadata.hmtx.widths[gr]=parseInt(or.metadata.hmtx.widths[gr]*(1e3/or.metadata.head.unitsPerEm));ar("<</Subtype/TrueType/Type/Font/ToUnicode "+mr+" 0 R/BaseFont/"+F(or.fontName)+"/FontDescriptor "+fr+" 0 R/Encoding/"+or.encoding+" /FirstChar 29 /LastChar 255 /Widths "+er.API.PDFObject.convert(or.metadata.hmtx.widths)+">>"),ar("endobj"),or.isAlreadyPutted=!0}})(ir)}]);var nr=function(ir){var sr,or=ir.text||"",ar=ir.x,lr=ir.y,cr=ir.options||{},dr=ir.mutex||{},hr=dr.pdfEscape,ur=dr.activeFontKey,pr=dr.fonts,mr=ur,fr="",gr=0,yr="",vr=pr[mr].encoding;if(pr[mr].encoding!=="Identity-H")return{text:or,x:ar,y:lr,options:cr,mutex:dr};for(yr=or,mr=ur,Array.isArray(or)&&(yr=or[0]),gr=0;gr<yr.length;gr+=1)pr[mr].metadata.hasOwnProperty("cmap")&&(sr=pr[mr].metadata.cmap.unicode.codeMap[yr[gr].charCodeAt(0)]),sr||yr[gr].charCodeAt(0)<256&&pr[mr].metadata.hasOwnProperty("Unicode")?fr+=yr[gr]:fr+="";var br="";return parseInt(mr.slice(1))<14||vr==="WinAnsiEncoding"?br=hr(fr,mr).split("").map(function(Sr){return Sr.charCodeAt(0).toString(16)}).join(""):vr==="Identity-H"&&(br=tr(fr,pr[mr])),dr.isHex=!0,{text:br,x:ar,y:lr,options:cr,mutex:dr}};e.events.push(["postProcessText",function(ir){var sr=ir.text||"",or=[],ar={text:sr,x:ir.x,y:ir.y,options:ir.options,mutex:ir.mutex};if(Array.isArray(sr)){var lr=0;for(lr=0;lr<sr.length;lr+=1)Array.isArray(sr[lr])&&sr[lr].length===3?or.push([nr(Object.assign({},ar,{text:sr[lr][0]})).text,sr[lr][1],sr[lr][2]]):or.push(nr(Object.assign({},ar,{text:sr[lr]})).text);ir.text=or}else ir.text=nr(Object.assign({},ar,{text:sr})).text}])}(E),function(er){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};er.existsFileInVFS=function(tr){return e.call(this),this.internal.vFS[tr]!==void 0},er.addFileToVFS=function(tr,rr){return e.call(this),this.internal.vFS[tr]=rr,this},er.getFileFromVFS=function(tr){return e.call(this),this.internal.vFS[tr]!==void 0?this.internal.vFS[tr]:null}}(E.API),function(er){er.__bidiEngine__=er.prototype.__bidiEngine__=function(rr){var nr,ir,sr,or,ar,lr,cr,dr=e,hr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ur=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],pr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},mr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},fr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),yr=!1,vr=0;this.__bidiEngine__={};var br=function(Ir){var Nr=Ir.charCodeAt(),Ar=Nr>>8,Dr=mr[Ar];return Dr!==void 0?dr[256*Dr+(255&Nr)]:Ar===252||Ar===253?"AL":gr.test(Ar)?"L":Ar===8?"R":"N"},Sr=function(Ir){for(var Nr,Ar=0;Ar<Ir.length;Ar++){if((Nr=br(Ir.charAt(Ar)))==="L")return!1;if(Nr==="R")return!0}return!1},jr=function(Ir,Nr,Ar,Dr){var Tr,_r,wr,Er,xr=Nr[Dr];switch(xr){case"L":case"R":yr=!1;break;case"N":case"AN":break;case"EN":yr&&(xr="AN");break;case"AL":yr=!0,xr="R";break;case"WS":xr="N";break;case"CS":Dr<1||Dr+1>=Nr.length||(Tr=Ar[Dr-1])!=="EN"&&Tr!=="AN"||(_r=Nr[Dr+1])!=="EN"&&_r!=="AN"?xr="N":yr&&(_r="AN"),xr=_r===Tr?_r:"N";break;case"ES":xr=(Tr=Dr>0?Ar[Dr-1]:"B")==="EN"&&Dr+1<Nr.length&&Nr[Dr+1]==="EN"?"EN":"N";break;case"ET":if(Dr>0&&Ar[Dr-1]==="EN"){xr="EN";break}if(yr){xr="N";break}for(wr=Dr+1,Er=Nr.length;wr<Er&&Nr[wr]==="ET";)wr++;xr=wr<Er&&Nr[wr]==="EN"?"EN":"N";break;case"NSM":if(sr&&!or){for(Er=Nr.length,wr=Dr+1;wr<Er&&Nr[wr]==="NSM";)wr++;if(wr<Er){var Mr=Ir[Dr],zr=Mr>=1425&&Mr<=2303||Mr===64286;if(Tr=Nr[wr],zr&&(Tr==="R"||Tr==="AL")){xr="R";break}}}xr=Dr<1||(Tr=Nr[Dr-1])==="B"?"N":Ar[Dr-1];break;case"B":yr=!1,nr=!0,xr=vr;break;case"S":ir=!0,xr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":yr=!1;break;case"BN":xr="N"}return xr},Cr=function(Ir,Nr,Ar){var Dr=Ir.split("");return Ar&&Pr(Dr,Ar,{hiLevel:vr}),Dr.reverse(),Nr&&Nr.reverse(),Dr.join("")},Pr=function(Ir,Nr,Ar){var Dr,Tr,_r,wr,Er,xr=-1,Mr=Ir.length,zr=0,Or=[],Br=vr?ur:hr,Ur=[];for(yr=!1,nr=!1,ir=!1,Tr=0;Tr<Mr;Tr++)Ur[Tr]=br(Ir[Tr]);for(_r=0;_r<Mr;_r++){if(Er=zr,Or[_r]=jr(Ir,Ur,Or,_r),Dr=240&(zr=Br[Er][pr[Or[_r]]]),zr&=15,Nr[_r]=wr=Br[zr][5],Dr>0)if(Dr===16){for(Tr=xr;Tr<_r;Tr++)Nr[Tr]=1;xr=-1}else xr=-1;if(Br[zr][6])xr===-1&&(xr=_r);else if(xr>-1){for(Tr=xr;Tr<_r;Tr++)Nr[Tr]=wr;xr=-1}Ur[_r]==="B"&&(Nr[_r]=0),Ar.hiLevel|=wr}ir&&function(qr,Vr,Gr){for(var $r=0;$r<Gr;$r++)if(qr[$r]==="S"){Vr[$r]=vr;for(var Fr=$r-1;Fr>=0&&qr[Fr]==="WS";Fr--)Vr[Fr]=vr}}(Ur,Nr,Mr)},Rr=function(Ir,Nr,Ar,Dr,Tr){if(!(Tr.hiLevel<Ir)){if(Ir===1&&vr===1&&!nr)return Nr.reverse(),void(Ar&&Ar.reverse());for(var _r,wr,Er,xr,Mr=Nr.length,zr=0;zr<Mr;){if(Dr[zr]>=Ir){for(Er=zr+1;Er<Mr&&Dr[Er]>=Ir;)Er++;for(xr=zr,wr=Er-1;xr<wr;xr++,wr--)_r=Nr[xr],Nr[xr]=Nr[wr],Nr[wr]=_r,Ar&&(_r=Ar[xr],Ar[xr]=Ar[wr],Ar[wr]=_r);zr=Er}zr++}}},Lr=function(Ir,Nr,Ar){var Dr=Ir.split(""),Tr={hiLevel:vr};return Ar||(Ar=[]),Pr(Dr,Ar,Tr),function(_r,wr,Er){if(Er.hiLevel!==0&&cr)for(var xr,Mr=0;Mr<_r.length;Mr++)wr[Mr]===1&&(xr=fr.indexOf(_r[Mr]))>=0&&(_r[Mr]=fr[xr+1])}(Dr,Ar,Tr),Rr(2,Dr,Nr,Ar,Tr),Rr(1,Dr,Nr,Ar,Tr),Dr.join("")};return this.__bidiEngine__.doBidiReorder=function(Ir,Nr,Ar){if(function(Tr,_r){if(_r)for(var wr=0;wr<Tr.length;wr++)_r[wr]=wr;or===void 0&&(or=Sr(Tr)),lr===void 0&&(lr=Sr(Tr))}(Ir,Nr),sr||!ar||lr)if(sr&&ar&&or^lr)vr=or?1:0,Ir=Cr(Ir,Nr,Ar);else if(!sr&&ar&&lr)vr=or?1:0,Ir=Lr(Ir,Nr,Ar),Ir=Cr(Ir,Nr);else if(!sr||or||ar||lr){if(sr&&!ar&&or^lr)Ir=Cr(Ir,Nr),or?(vr=0,Ir=Lr(Ir,Nr,Ar)):(vr=1,Ir=Lr(Ir,Nr,Ar),Ir=Cr(Ir,Nr));else if(sr&&or&&!ar&&lr)vr=1,Ir=Lr(Ir,Nr,Ar),Ir=Cr(Ir,Nr);else if(!sr&&!ar&&or^lr){var Dr=cr;or?(vr=1,Ir=Lr(Ir,Nr,Ar),vr=0,cr=!1,Ir=Lr(Ir,Nr,Ar),cr=Dr):(vr=0,Ir=Lr(Ir,Nr,Ar),Ir=Cr(Ir,Nr),vr=1,cr=!1,Ir=Lr(Ir,Nr,Ar),cr=Dr,Ir=Cr(Ir,Nr))}}else vr=0,Ir=Lr(Ir,Nr,Ar);else vr=or?1:0,Ir=Lr(Ir,Nr,Ar);return Ir},this.__bidiEngine__.setOptions=function(Ir){Ir&&(sr=Ir.isInputVisual,ar=Ir.isOutputVisual,or=Ir.isInputRtl,lr=Ir.isOutputRtl,cr=Ir.isSymmetricSwapping)},this.__bidiEngine__.setOptions(rr),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],tr=new er.__bidiEngine__({isInputVisual:!0});er.API.events.push(["postProcessText",function(rr){var nr=rr.text,ir=(rr.x,rr.y,rr.options||{}),sr=(rr.mutex,ir.lang,[]);if(ir.isInputVisual=typeof ir.isInputVisual!="boolean"||ir.isInputVisual,tr.setOptions(ir),Object.prototype.toString.call(nr)==="[object Array]"){var or=0;for(sr=[],or=0;or<nr.length;or+=1)Object.prototype.toString.call(nr[or])==="[object Array]"?sr.push([tr.doBidiReorder(nr[or][0]),nr[or][1],nr[or][2]]):sr.push([tr.doBidiReorder(nr[or])]);rr.text=sr}else rr.text=tr.doBidiReorder(nr);tr.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function er(e){var tr;if(this.rawData=e,tr=this.contents=new ne(e),this.contents.pos=4,tr.readString(4)==="ttcf")throw new Error("TTCF not supported.");tr.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return er.open=function(e){return new er(e)},er.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},er.prototype.registerTTF=function(){var e,tr,rr,nr,ir;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var sr,or,ar,lr;for(lr=[],sr=0,or=(ar=this.bbox).length;sr<or;sr++)e=ar[sr],lr.push(Math.round(e*this.scaleFactor));return lr}).call(this),this.stemV=0,this.post.exists?(rr=255&(nr=this.post.italic_angle),32768&(tr=nr>>16)&&(tr=-(1+(65535^tr))),this.italicAngle=+(tr+"."+rr)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ir=this.familyClass)===1||ir===2||ir===3||ir===4||ir===5||ir===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},er.prototype.characterToGlyph=function(e){var tr;return((tr=this.cmap.unicode)!=null?tr.codeMap[e]:void 0)||0},er.prototype.widthOfGlyph=function(e){var tr;return tr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*tr},er.prototype.widthOfString=function(e,tr,rr){var nr,ir,sr,or;for(sr=0,ir=0,or=(e=""+e).length;0<=or?ir<or:ir>or;ir=0<=or?++ir:--ir)nr=e.charCodeAt(ir),sr+=this.widthOfGlyph(this.characterToGlyph(nr))+rr*(1e3/tr)||0;return sr*(tr/1e3)},er.prototype.lineHeight=function(e,tr){var rr;return tr==null&&(tr=!1),rr=tr?this.lineGap:0,(this.ascender+rr-this.decender)/1e3*e},er}();var re,ne=function(){function er(e){this.data=e??[],this.pos=0,this.length=this.data.length}return er.prototype.readByte=function(){return this.data[this.pos++]},er.prototype.writeByte=function(e){return this.data[this.pos++]=e},er.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},er.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},er.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},er.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},er.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},er.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},er.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},er.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},er.prototype.readString=function(e){var tr,rr;for(rr=[],tr=0;0<=e?tr<e:tr>e;tr=0<=e?++tr:--tr)rr[tr]=String.fromCharCode(this.readByte());return rr.join("")},er.prototype.writeString=function(e){var tr,rr,nr;for(nr=[],tr=0,rr=e.length;0<=rr?tr<rr:tr>rr;tr=0<=rr?++tr:--tr)nr.push(this.writeByte(e.charCodeAt(tr)));return nr},er.prototype.readShort=function(){return this.readInt16()},er.prototype.writeShort=function(e){return this.writeInt16(e)},er.prototype.readLongLong=function(){var e,tr,rr,nr,ir,sr,or,ar;return e=this.readByte(),tr=this.readByte(),rr=this.readByte(),nr=this.readByte(),ir=this.readByte(),sr=this.readByte(),or=this.readByte(),ar=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^tr)+1099511627776*(255^rr)+4294967296*(255^nr)+16777216*(255^ir)+65536*(255^sr)+256*(255^or)+(255^ar)+1):72057594037927940*e+281474976710656*tr+1099511627776*rr+4294967296*nr+16777216*ir+65536*sr+256*or+ar},er.prototype.writeLongLong=function(e){var tr,rr;return tr=Math.floor(e/4294967296),rr=4294967295&e,this.writeByte(tr>>24&255),this.writeByte(tr>>16&255),this.writeByte(tr>>8&255),this.writeByte(255&tr),this.writeByte(rr>>24&255),this.writeByte(rr>>16&255),this.writeByte(rr>>8&255),this.writeByte(255&rr)},er.prototype.readInt=function(){return this.readInt32()},er.prototype.writeInt=function(e){return this.writeInt32(e)},er.prototype.read=function(e){var tr,rr;for(tr=[],rr=0;0<=e?rr<e:rr>e;rr=0<=e?++rr:--rr)tr.push(this.readByte());return tr},er.prototype.write=function(e){var tr,rr,nr,ir;for(ir=[],rr=0,nr=e.length;rr<nr;rr++)tr=e[rr],ir.push(this.writeByte(tr));return ir},er}(),ie=function(){var er;function e(tr){var rr,nr,ir;for(this.scalarType=tr.readInt(),this.tableCount=tr.readShort(),this.searchRange=tr.readShort(),this.entrySelector=tr.readShort(),this.rangeShift=tr.readShort(),this.tables={},nr=0,ir=this.tableCount;0<=ir?nr<ir:nr>ir;nr=0<=ir?++nr:--nr)rr={tag:tr.readString(4),checksum:tr.readInt(),offset:tr.readInt(),length:tr.readInt()},this.tables[rr.tag]=rr}return e.prototype.encode=function(tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr,ur,pr,mr;for(mr in ur=Object.keys(tr).length,ar=Math.log(2),dr=16*Math.floor(Math.log(ur)/ar),sr=Math.floor(dr/ar),cr=16*ur-dr,(nr=new ne).writeInt(this.scalarType),nr.writeShort(ur),nr.writeShort(dr),nr.writeShort(sr),nr.writeShort(cr),ir=16*ur,lr=nr.pos+ir,or=null,pr=[],tr)for(hr=tr[mr],nr.writeString(mr),nr.writeInt(er(hr)),nr.writeInt(lr),nr.writeInt(hr.length),pr=pr.concat(hr),mr==="head"&&(or=lr),lr+=hr.length;lr%4;)pr.push(0),lr++;return nr.write(pr),rr=2981146554-er(nr.data),nr.pos=or+8,nr.writeUInt32(rr),nr.data},er=function(tr){var rr,nr,ir,sr;for(tr=ve.call(tr);tr.length%4;)tr.push(0);for(ir=new ne(tr),nr=0,rr=0,sr=tr.length;rr<sr;rr=rr+=4)nr+=ir.readUInt32();return 4294967295&nr},e}(),ae={}.hasOwnProperty,oe=function(er,e){for(var tr in e)ae.call(e,tr)&&(er[tr]=e[tr]);function rr(){this.constructor=er}return rr.prototype=e.prototype,er.prototype=new rr,er.__super__=e.prototype,er};re=function(){function er(e){var tr;this.file=e,tr=this.file.directory.tables[this.tag],this.exists=!!tr,tr&&(this.offset=tr.offset,this.length=tr.length,this.parse(this.file.contents))}return er.prototype.parse=function(){},er.prototype.encode=function(){},er.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},er}();var se=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.revision=tr.readInt(),this.checkSumAdjustment=tr.readInt(),this.magicNumber=tr.readInt(),this.flags=tr.readShort(),this.unitsPerEm=tr.readShort(),this.created=tr.readLongLong(),this.modified=tr.readLongLong(),this.xMin=tr.readShort(),this.yMin=tr.readShort(),this.xMax=tr.readShort(),this.yMax=tr.readShort(),this.macStyle=tr.readShort(),this.lowestRecPPEM=tr.readShort(),this.fontDirectionHint=tr.readShort(),this.indexToLocFormat=tr.readShort(),this.glyphDataFormat=tr.readShort()},e.prototype.encode=function(tr){var rr;return(rr=new ne).writeInt(this.version),rr.writeInt(this.revision),rr.writeInt(this.checkSumAdjustment),rr.writeInt(this.magicNumber),rr.writeShort(this.flags),rr.writeShort(this.unitsPerEm),rr.writeLongLong(this.created),rr.writeLongLong(this.modified),rr.writeShort(this.xMin),rr.writeShort(this.yMin),rr.writeShort(this.xMax),rr.writeShort(this.yMax),rr.writeShort(this.macStyle),rr.writeShort(this.lowestRecPPEM),rr.writeShort(this.fontDirectionHint),rr.writeShort(tr),rr.writeShort(this.glyphDataFormat),rr.data},e}(),ce=function(){function er(e,tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=tr+e.readInt(),dr=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ar=0;ar<256;++ar)this.codeMap[ar]=e.readByte();break;case 4:for(ur=e.readUInt16(),hr=ur/2,e.pos+=6,ir=function(){var br,Sr;for(Sr=[],ar=br=0;0<=hr?br<hr:br>hr;ar=0<=hr?++br:--br)Sr.push(e.readUInt16());return Sr}(),e.pos+=2,mr=function(){var br,Sr;for(Sr=[],ar=br=0;0<=hr?br<hr:br>hr;ar=0<=hr?++br:--br)Sr.push(e.readUInt16());return Sr}(),lr=function(){var br,Sr;for(Sr=[],ar=br=0;0<=hr?br<hr:br>hr;ar=0<=hr?++br:--br)Sr.push(e.readUInt16());return Sr}(),cr=function(){var br,Sr;for(Sr=[],ar=br=0;0<=hr?br<hr:br>hr;ar=0<=hr?++br:--br)Sr.push(e.readUInt16());return Sr}(),nr=(this.length-e.pos+this.offset)/2,or=function(){var br,Sr;for(Sr=[],ar=br=0;0<=nr?br<nr:br>nr;ar=0<=nr?++br:--br)Sr.push(e.readUInt16());return Sr}(),ar=gr=0,vr=ir.length;gr<vr;ar=++gr)for(fr=ir[ar],rr=yr=pr=mr[ar];pr<=fr?yr<=fr:yr>=fr;rr=pr<=fr?++yr:--yr)cr[ar]===0?sr=rr+lr[ar]:(sr=or[cr[ar]/2+(rr-pr)-(hr-ar)]||0)!==0&&(sr+=lr[ar]),this.codeMap[rr]=65535&sr}e.pos=dr}return er.encode=function(e,tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr,yr,vr,br,Sr,jr,Cr,Pr,Rr,Lr,Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr,Mr,zr,Or,Br,Ur,qr,Vr,Gr,$r,Fr,Kr,Zr,nn;switch(Dr=new ne,sr=Object.keys(e).sort(function(Qr,cn){return Qr-cn}),tr){case"macroman":for(mr=0,fr=function(){var Qr=[];for(pr=0;pr<256;++pr)Qr.push(0);return Qr}(),yr={0:0},ir={},Tr=0,xr=sr.length;Tr<xr;Tr++)yr[Fr=e[nr=sr[Tr]]]==null&&(yr[Fr]=++mr),ir[nr]={old:e[nr],new:yr[e[nr]]},fr[nr]=yr[e[nr]];return Dr.writeUInt16(1),Dr.writeUInt16(0),Dr.writeUInt32(12),Dr.writeUInt16(0),Dr.writeUInt16(262),Dr.writeUInt16(0),Dr.write(fr),{charMap:ir,subtable:Dr.data,maxGlyphID:mr+1};case"unicode":for(Nr=[],dr=[],vr=0,yr={},rr={},gr=lr=null,_r=0,Mr=sr.length;_r<Mr;_r++)yr[Sr=e[nr=sr[_r]]]==null&&(yr[Sr]=++vr),rr[nr]={old:Sr,new:yr[Sr]},or=yr[Sr]-nr,gr!=null&&or===lr||(gr&&dr.push(gr),Nr.push(nr),lr=or),gr=nr;for(gr&&dr.push(gr),dr.push(65535),Nr.push(65535),Lr=2*(Rr=Nr.length),Pr=2*Math.pow(Math.log(Rr)/Math.LN2,2),hr=Math.log(Pr/2)/Math.LN2,Cr=2*Rr-Pr,ar=[],jr=[],ur=[],pr=wr=0,zr=Nr.length;wr<zr;pr=++wr){if(Ir=Nr[pr],cr=dr[pr],Ir===65535){ar.push(0),jr.push(0);break}if(Ir-(Ar=rr[Ir].new)>=32768)for(ar.push(0),jr.push(2*(ur.length+Rr-pr)),nr=Er=Ir;Ir<=cr?Er<=cr:Er>=cr;nr=Ir<=cr?++Er:--Er)ur.push(rr[nr].new);else ar.push(Ar-Ir),jr.push(0)}for(Dr.writeUInt16(3),Dr.writeUInt16(1),Dr.writeUInt32(12),Dr.writeUInt16(4),Dr.writeUInt16(16+8*Rr+2*ur.length),Dr.writeUInt16(0),Dr.writeUInt16(Lr),Dr.writeUInt16(Pr),Dr.writeUInt16(hr),Dr.writeUInt16(Cr),Gr=0,Or=dr.length;Gr<Or;Gr++)nr=dr[Gr],Dr.writeUInt16(nr);for(Dr.writeUInt16(0),$r=0,Br=Nr.length;$r<Br;$r++)nr=Nr[$r],Dr.writeUInt16(nr);for(Kr=0,Ur=ar.length;Kr<Ur;Kr++)or=ar[Kr],Dr.writeUInt16(or);for(Zr=0,qr=jr.length;Zr<qr;Zr++)br=jr[Zr],Dr.writeUInt16(br);for(nn=0,Vr=ur.length;nn<Vr;nn++)mr=ur[nn],Dr.writeUInt16(mr);return{charMap:rr,subtable:Dr.data,maxGlyphID:vr+1}}},er}(),ue=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(tr){var rr,nr,ir;for(tr.pos=this.offset,this.version=tr.readUInt16(),ir=tr.readUInt16(),this.tables=[],this.unicode=null,nr=0;0<=ir?nr<ir:nr>ir;nr=0<=ir?++nr:--nr)rr=new ce(tr,this.offset),this.tables.push(rr),rr.isUnicode&&this.unicode==null&&(this.unicode=rr);return!0},e.encode=function(tr,rr){var nr,ir;return rr==null&&(rr="macroman"),nr=ce.encode(tr,rr),(ir=new ne).writeUInt16(0),ir.writeUInt16(1),nr.table=ir.data.concat(nr.subtable),nr},e}(),he=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.ascender=tr.readShort(),this.decender=tr.readShort(),this.lineGap=tr.readShort(),this.advanceWidthMax=tr.readShort(),this.minLeftSideBearing=tr.readShort(),this.minRightSideBearing=tr.readShort(),this.xMaxExtent=tr.readShort(),this.caretSlopeRise=tr.readShort(),this.caretSlopeRun=tr.readShort(),this.caretOffset=tr.readShort(),tr.pos+=8,this.metricDataFormat=tr.readShort(),this.numberOfMetrics=tr.readUInt16()},e}(),le=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(tr){if(tr.pos=this.offset,this.version=tr.readUInt16(),this.averageCharWidth=tr.readShort(),this.weightClass=tr.readUInt16(),this.widthClass=tr.readUInt16(),this.type=tr.readShort(),this.ySubscriptXSize=tr.readShort(),this.ySubscriptYSize=tr.readShort(),this.ySubscriptXOffset=tr.readShort(),this.ySubscriptYOffset=tr.readShort(),this.ySuperscriptXSize=tr.readShort(),this.ySuperscriptYSize=tr.readShort(),this.ySuperscriptXOffset=tr.readShort(),this.ySuperscriptYOffset=tr.readShort(),this.yStrikeoutSize=tr.readShort(),this.yStrikeoutPosition=tr.readShort(),this.familyClass=tr.readShort(),this.panose=function(){var rr,nr;for(nr=[],rr=0;rr<10;++rr)nr.push(tr.readByte());return nr}(),this.charRange=function(){var rr,nr;for(nr=[],rr=0;rr<4;++rr)nr.push(tr.readInt());return nr}(),this.vendorID=tr.readString(4),this.selection=tr.readShort(),this.firstCharIndex=tr.readShort(),this.lastCharIndex=tr.readShort(),this.version>0&&(this.ascent=tr.readShort(),this.descent=tr.readShort(),this.lineGap=tr.readShort(),this.winAscent=tr.readShort(),this.winDescent=tr.readShort(),this.codePageRange=function(){var rr,nr;for(nr=[],rr=0;rr<2;rr=++rr)nr.push(tr.readInt());return nr}(),this.version>1))return this.xHeight=tr.readShort(),this.capHeight=tr.readShort(),this.defaultChar=tr.readShort(),this.breakChar=tr.readShort(),this.maxContext=tr.readShort()},e}(),fe=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(tr){var rr,nr,ir;switch(tr.pos=this.offset,this.format=tr.readInt(),this.italicAngle=tr.readInt(),this.underlinePosition=tr.readShort(),this.underlineThickness=tr.readShort(),this.isFixedPitch=tr.readInt(),this.minMemType42=tr.readInt(),this.maxMemType42=tr.readInt(),this.minMemType1=tr.readInt(),this.maxMemType1=tr.readInt(),this.format){case 65536:break;case 131072:var sr;for(nr=tr.readUInt16(),this.glyphNameIndex=[],sr=0;0<=nr?sr<nr:sr>nr;sr=0<=nr?++sr:--sr)this.glyphNameIndex.push(tr.readUInt16());for(this.names=[],ir=[];tr.pos<this.offset+this.length;)rr=tr.readByte(),ir.push(this.names.push(tr.readString(rr)));return ir;case 151552:return nr=tr.readUInt16(),this.offsets=tr.read(nr);case 196608:break;case 262144:return this.map=(function(){var or,ar,lr;for(lr=[],sr=or=0,ar=this.file.maxp.numGlyphs;0<=ar?or<ar:or>ar;sr=0<=ar?++or:--or)lr.push(tr.readUInt32());return lr}).call(this)}},e}(),de=function(er,e){this.raw=er,this.length=er.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr,ur;for(tr.pos=this.offset,tr.readShort(),rr=tr.readShort(),ar=tr.readShort(),nr=[],sr=0;0<=rr?sr<rr:sr>rr;sr=0<=rr?++sr:--sr)nr.push({platformID:tr.readShort(),encodingID:tr.readShort(),languageID:tr.readShort(),nameID:tr.readShort(),length:tr.readShort(),offset:this.offset+ar+tr.readShort()});for(lr={},sr=dr=0,hr=nr.length;dr<hr;sr=++dr)ir=nr[sr],tr.pos=ir.offset,cr=tr.readString(ir.length),or=new de(cr,ir),lr[ur=ir.nameID]==null&&(lr[ur]=[]),lr[ir.nameID].push(or);this.strings=lr,this.copyright=lr[0],this.fontFamily=lr[1],this.fontSubfamily=lr[2],this.uniqueSubfamily=lr[3],this.fontName=lr[4],this.version=lr[5];try{this.postscriptName=lr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=lr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=lr[7],this.manufacturer=lr[8],this.designer=lr[9],this.description=lr[10],this.vendorUrl=lr[11],this.designerUrl=lr[12],this.license=lr[13],this.licenseUrl=lr[14],this.preferredFamily=lr[15],this.preferredSubfamily=lr[17],this.compatibleFull=lr[18],this.sampleText=lr[19]},e}(),ge=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.numGlyphs=tr.readUInt16(),this.maxPoints=tr.readUInt16(),this.maxContours=tr.readUInt16(),this.maxCompositePoints=tr.readUInt16(),this.maxComponentContours=tr.readUInt16(),this.maxZones=tr.readUInt16(),this.maxTwilightPoints=tr.readUInt16(),this.maxStorage=tr.readUInt16(),this.maxFunctionDefs=tr.readUInt16(),this.maxInstructionDefs=tr.readUInt16(),this.maxStackElements=tr.readUInt16(),this.maxSizeOfInstructions=tr.readUInt16(),this.maxComponentElements=tr.readUInt16(),this.maxComponentDepth=tr.readUInt16()},e}(),me=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(tr){var rr,nr,ir,sr,or,ar,lr;for(tr.pos=this.offset,this.metrics=[],rr=0,ar=this.file.hhea.numberOfMetrics;0<=ar?rr<ar:rr>ar;rr=0<=ar?++rr:--rr)this.metrics.push({advance:tr.readUInt16(),lsb:tr.readInt16()});for(ir=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var cr,dr;for(dr=[],rr=cr=0;0<=ir?cr<ir:cr>ir;rr=0<=ir?++cr:--cr)dr.push(tr.readInt16());return dr}(),this.widths=(function(){var cr,dr,hr,ur;for(ur=[],cr=0,dr=(hr=this.metrics).length;cr<dr;cr++)sr=hr[cr],ur.push(sr.advance);return ur}).call(this),nr=this.widths[this.widths.length-1],lr=[],rr=or=0;0<=ir?or<ir:or>ir;rr=0<=ir?++or:--or)lr.push(this.widths.push(nr));return lr},e.prototype.forGlyph=function(tr){return tr in this.metrics?this.metrics[tr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[tr-this.metrics.length]}},e}(),ve=[].slice,be=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr;return tr in this.cache?this.cache[tr]:(sr=this.file.loca,rr=this.file.contents,nr=sr.indexOf(tr),(ir=sr.lengthOf(tr))===0?this.cache[tr]=null:(rr.pos=this.offset+nr,or=(ar=new ne(rr.read(ir))).readShort(),cr=ar.readShort(),hr=ar.readShort(),lr=ar.readShort(),dr=ar.readShort(),this.cache[tr]=or===-1?new we(ar,cr,hr,lr,dr):new ye(ar,or,cr,hr,lr,dr),this.cache[tr]))},e.prototype.encode=function(tr,rr,nr){var ir,sr,or,ar,lr;for(or=[],sr=[],ar=0,lr=rr.length;ar<lr;ar++)ir=tr[rr[ar]],sr.push(or.length),ir&&(or=or.concat(ir.encode(nr)));return sr.push(or.length),{table:or,offsets:sr}},e}(),ye=function(){function er(e,tr,rr,nr,ir,sr){this.raw=e,this.numberOfContours=tr,this.xMin=rr,this.yMin=nr,this.xMax=ir,this.yMax=sr,this.compound=!1}return er.prototype.encode=function(){return this.raw.data},er}(),we=function(){function er(e,tr,rr,nr,ir){var sr,or;for(this.raw=e,this.xMin=tr,this.yMin=rr,this.xMax=nr,this.yMax=ir,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],sr=this.raw;or=sr.readShort(),this.glyphOffsets.push(sr.pos),this.glyphIDs.push(sr.readUInt16()),32&or;)sr.pos+=1&or?4:2,128&or?sr.pos+=8:64&or?sr.pos+=4:8&or&&(sr.pos+=2)}return er.prototype.encode=function(){var e,tr,rr;for(tr=new ne(ve.call(this.raw.data)),e=0,rr=this.glyphIDs.length;e<rr;++e)tr.pos=this.glyphOffsets[e];return tr.data},er}(),Ne=function(er){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(tr){var rr,nr;return tr.pos=this.offset,rr=this.file.head.indexToLocFormat,this.offsets=rr===0?(function(){var ir,sr;for(sr=[],nr=0,ir=this.length;nr<ir;nr+=2)sr.push(2*tr.readUInt16());return sr}).call(this):(function(){var ir,sr;for(sr=[],nr=0,ir=this.length;nr<ir;nr+=4)sr.push(tr.readUInt32());return sr}).call(this)},e.prototype.indexOf=function(tr){return this.offsets[tr]},e.prototype.lengthOf=function(tr){return this.offsets[tr+1]-this.offsets[tr]},e.prototype.encode=function(tr,rr){for(var nr=new Uint32Array(this.offsets.length),ir=0,sr=0,or=0;or<nr.length;++or)if(nr[or]=ir,sr<rr.length&&rr[sr]==or){++sr,nr[or]=ir;var ar=this.offsets[or],lr=this.offsets[or+1]-ar;lr>0&&(ir+=lr)}for(var cr=new Array(4*nr.length),dr=0;dr<nr.length;++dr)cr[4*dr+3]=255&nr[dr],cr[4*dr+2]=(65280&nr[dr])>>8,cr[4*dr+1]=(16711680&nr[dr])>>16,cr[4*dr]=(4278190080&nr[dr])>>24;return cr},e}(),Le=function(){function er(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return er.prototype.generateCmap=function(){var e,tr,rr,nr,ir;for(tr in nr=this.font.cmap.tables[0].codeMap,e={},ir=this.subset)rr=ir[tr],e[tr]=nr[rr];return e},er.prototype.glyphsFor=function(e){var tr,rr,nr,ir,sr,or,ar;for(nr={},sr=0,or=e.length;sr<or;sr++)nr[ir=e[sr]]=this.font.glyf.glyphFor(ir);for(ir in tr=[],nr)(rr=nr[ir])!=null&&rr.compound&&tr.push.apply(tr,rr.glyphIDs);if(tr.length>0)for(ir in ar=this.glyphsFor(tr))rr=ar[ir],nr[ir]=rr;return nr},er.prototype.encode=function(e,tr){var rr,nr,ir,sr,or,ar,lr,cr,dr,hr,ur,pr,mr,fr,gr;for(nr in rr=ue.encode(this.generateCmap(),"unicode"),sr=this.glyphsFor(e),ur={0:0},gr=rr.charMap)ur[(ar=gr[nr]).old]=ar.new;for(pr in hr=rr.maxGlyphID,sr)pr in ur||(ur[pr]=hr++);return cr=function(yr){var vr,br;for(vr in br={},yr)br[yr[vr]]=vr;return br}(ur),dr=Object.keys(cr).sort(function(yr,vr){return yr-vr}),mr=function(){var yr,vr,br;for(br=[],yr=0,vr=dr.length;yr<vr;yr++)or=dr[yr],br.push(cr[or]);return br}(),ir=this.font.glyf.encode(sr,mr,ur),lr=this.font.loca.encode(ir.offsets,mr),fr={cmap:this.font.cmap.raw(),glyf:ir.table,loca:lr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(tr)},this.font.os2.exists&&(fr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(fr)},er}();E.API.PDFObject=function(){var er;function e(){}return er=function(tr,rr){return(Array(rr+1).join("0")+tr).slice(-rr)},e.convert=function(tr){var rr,nr,ir,sr;if(Array.isArray(tr))return"["+function(){var or,ar,lr;for(lr=[],or=0,ar=tr.length;or<ar;or++)rr=tr[or],lr.push(e.convert(rr));return lr}().join(" ")+"]";if(typeof tr=="string")return"/"+tr;if(tr!=null&&tr.isString)return"("+tr+")";if(tr instanceof Date)return"(D:"+er(tr.getUTCFullYear(),4)+er(tr.getUTCMonth(),2)+er(tr.getUTCDate(),2)+er(tr.getUTCHours(),2)+er(tr.getUTCMinutes(),2)+er(tr.getUTCSeconds(),2)+"Z)";if({}.toString.call(tr)==="[object Object]"){for(nr in ir=["<<"],tr)sr=tr[nr],ir.push("/"+nr+" "+e.convert(sr));return ir.push(">>"),ir.join(`
`)}return""+tr},e}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At,AcroFormButton:mt,AcroFormCheckBox:wt,AcroFormChoiceField:ft,AcroFormComboBox:pt,AcroFormEditBox:gt,AcroFormListBox:dt,AcroFormPasswordField:Lt,AcroFormPushButton:vt,AcroFormRadioButton:bt,AcroFormTextField:Nt,GState:j,ShadingPattern:B,TilingPattern:M,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"}));var jspdf_plugin_autotable={exports:{}};const require$$0=getAugmentedNamespace(jspdf_es_min);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(er,e){(function(rr,nr){er.exports=nr(function(){try{return require$$0}catch{}}())})(typeof globalThis<"u"?globalThis:typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:commonjsGlobal$2,function(tr){return function(){var rr={172:function(or,ar){var lr=this&&this.__extends||function(){var hr=function(ur,pr){return hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mr,fr){mr.__proto__=fr}||function(mr,fr){for(var gr in fr)Object.prototype.hasOwnProperty.call(fr,gr)&&(mr[gr]=fr[gr])},hr(ur,pr)};return function(ur,pr){if(typeof pr!="function"&&pr!==null)throw new TypeError("Class extends value "+String(pr)+" is not a constructor or null");hr(ur,pr);function mr(){this.constructor=ur}ur.prototype=pr===null?Object.create(pr):(mr.prototype=pr.prototype,new mr)}}();Object.defineProperty(ar,"__esModule",{value:!0}),ar.CellHookData=ar.HookData=void 0;var cr=function(){function hr(ur,pr,mr){this.table=pr,this.pageNumber=pr.pageNumber,this.pageCount=this.pageNumber,this.settings=pr.settings,this.cursor=mr,this.doc=ur.getDocument()}return hr}();ar.HookData=cr;var dr=function(hr){lr(ur,hr);function ur(pr,mr,fr,gr,yr,vr){var br=hr.call(this,pr,mr,vr)||this;return br.cell=fr,br.row=gr,br.column=yr,br.section=gr.section,br}return ur}(cr);ar.CellHookData=dr},340:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0});var cr=lr(4),dr=lr(136),hr=lr(744),ur=lr(776),pr=lr(664),mr=lr(972);function fr(gr){gr.API.autoTable=function(){for(var yr=[],vr=0;vr<arguments.length;vr++)yr[vr]=arguments[vr];var br;yr.length===1?br=yr[0]:(console.error("Use of deprecated autoTable initiation"),br=yr[2]||{},br.columns=yr[0],br.body=yr[1]);var Sr=(0,ur.parseInput)(this,br),jr=(0,mr.createTable)(this,Sr);return(0,pr.drawTable)(this,jr),this},gr.API.lastAutoTable=!1,gr.API.previousAutoTable=!1,gr.API.autoTable.previous=!1,gr.API.autoTableText=function(yr,vr,br,Sr){(0,dr.default)(yr,vr,br,Sr,this)},gr.API.autoTableSetDefaults=function(yr){return hr.DocHandler.setDefaults(yr,this),this},gr.autoTableSetDefaults=function(yr,vr){hr.DocHandler.setDefaults(yr,vr)},gr.API.autoTableHtmlToJson=function(yr,vr){var br;if(vr===void 0&&(vr=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Sr=new hr.DocHandler(this),jr=(0,cr.parseHtml)(Sr,yr,window,vr,!1),Cr=jr.head,Pr=jr.body,Rr=((br=Cr[0])===null||br===void 0?void 0:br.map(function(Lr){return Lr.content}))||[];return{columns:Rr,rows:Pr,data:Pr}},gr.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var yr=this.lastAutoTable;return yr&&yr.finalY?yr.finalY:0},gr.API.autoTableAddPageContent=function(yr){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),gr.API.autoTable.globalDefaults||(gr.API.autoTable.globalDefaults={}),gr.API.autoTable.globalDefaults.addPageContent=yr,this},gr.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}ar.default=fr},136:function(or,ar){Object.defineProperty(ar,"__esModule",{value:!0});function lr(cr,dr,hr,ur,pr){ur=ur||{};var mr=1.15,fr=pr.internal.scaleFactor,gr=pr.internal.getFontSize()/fr,yr=pr.getLineHeightFactor?pr.getLineHeightFactor():mr,vr=gr*yr,br=/\r\n|\r|\n/g,Sr="",jr=1;if((ur.valign==="middle"||ur.valign==="bottom"||ur.halign==="center"||ur.halign==="right")&&(Sr=typeof cr=="string"?cr.split(br):cr,jr=Sr.length||1),hr+=gr*(2-mr),ur.valign==="middle"?hr-=jr/2*vr:ur.valign==="bottom"&&(hr-=jr*vr),ur.halign==="center"||ur.halign==="right"){var Cr=gr;if(ur.halign==="center"&&(Cr*=.5),Sr&&jr>=1){for(var Pr=0;Pr<Sr.length;Pr++)pr.text(Sr[Pr],dr-pr.getStringUnitWidth(Sr[Pr])*Cr,hr),hr+=vr;return pr}dr-=pr.getStringUnitWidth(cr)*Cr}return ur.halign==="justify"?pr.text(cr,dr,hr,{maxWidth:ur.maxWidth||100,align:"justify"}):pr.text(cr,dr,hr),pr}ar.default=lr},420:function(or,ar){Object.defineProperty(ar,"__esModule",{value:!0}),ar.getPageAvailableWidth=ar.parseSpacing=ar.getFillStyle=ar.addTableBorder=ar.getStringWidth=void 0;function lr(pr,mr,fr){fr.applyStyles(mr,!0);var gr=Array.isArray(pr)?pr:[pr],yr=gr.map(function(vr){return fr.getTextWidth(vr)}).reduce(function(vr,br){return Math.max(vr,br)},0);return yr}ar.getStringWidth=lr;function cr(pr,mr,fr,gr){var yr=mr.settings.tableLineWidth,vr=mr.settings.tableLineColor;pr.applyStyles({lineWidth:yr,lineColor:vr});var br=dr(yr,!1);br&&pr.rect(fr.x,fr.y,mr.getWidth(pr.pageSize().width),gr.y-fr.y,br)}ar.addTableBorder=cr;function dr(pr,mr){var fr=pr>0,gr=mr||mr===0;return fr&&gr?"DF":fr?"S":gr?"F":null}ar.getFillStyle=dr;function hr(pr,mr){var fr,gr,yr,vr;if(pr=pr||mr,Array.isArray(pr)){if(pr.length>=4)return{top:pr[0],right:pr[1],bottom:pr[2],left:pr[3]};if(pr.length===3)return{top:pr[0],right:pr[1],bottom:pr[2],left:pr[1]};if(pr.length===2)return{top:pr[0],right:pr[1],bottom:pr[0],left:pr[1]};pr.length===1?pr=pr[0]:pr=mr}return typeof pr=="object"?(typeof pr.vertical=="number"&&(pr.top=pr.vertical,pr.bottom=pr.vertical),typeof pr.horizontal=="number"&&(pr.right=pr.horizontal,pr.left=pr.horizontal),{left:(fr=pr.left)!==null&&fr!==void 0?fr:mr,top:(gr=pr.top)!==null&&gr!==void 0?gr:mr,right:(yr=pr.right)!==null&&yr!==void 0?yr:mr,bottom:(vr=pr.bottom)!==null&&vr!==void 0?vr:mr}):(typeof pr!="number"&&(pr=mr),{top:pr,right:pr,bottom:pr,left:pr})}ar.parseSpacing=hr;function ur(pr,mr){var fr=hr(mr.settings.margin,0);return pr.pageSize().width-(fr.left+fr.right)}ar.getPageAvailableWidth=ur},796:function(or,ar){var lr=this&&this.__extends||function(){var ur=function(pr,mr){return ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fr,gr){fr.__proto__=gr}||function(fr,gr){for(var yr in gr)Object.prototype.hasOwnProperty.call(gr,yr)&&(fr[yr]=gr[yr])},ur(pr,mr)};return function(pr,mr){if(typeof mr!="function"&&mr!==null)throw new TypeError("Class extends value "+String(mr)+" is not a constructor or null");ur(pr,mr);function fr(){this.constructor=pr}pr.prototype=mr===null?Object.create(mr):(fr.prototype=mr.prototype,new fr)}}();Object.defineProperty(ar,"__esModule",{value:!0}),ar.getTheme=ar.defaultStyles=ar.HtmlRowInput=void 0;var cr=function(ur){lr(pr,ur);function pr(mr){var fr=ur.call(this)||this;return fr._element=mr,fr}return pr}(Array);ar.HtmlRowInput=cr;function dr(ur){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/ur,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}ar.defaultStyles=dr;function hr(ur){var pr={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return pr[ur]}ar.getTheme=hr},903:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseCss=void 0;var cr=lr(420);function dr(fr,gr,yr,vr,br){var Sr={},jr=1.3333333333333333,Cr=ur(gr,function(xr){return br.getComputedStyle(xr).backgroundColor});Cr!=null&&(Sr.fillColor=Cr);var Pr=ur(gr,function(xr){return br.getComputedStyle(xr).color});Pr!=null&&(Sr.textColor=Pr);var Rr=mr(vr,yr);Rr&&(Sr.cellPadding=Rr);var Lr="borderTopColor",Ir=jr*yr,Nr=vr.borderTopWidth;if(vr.borderBottomWidth===Nr&&vr.borderRightWidth===Nr&&vr.borderLeftWidth===Nr){var Ar=(parseFloat(Nr)||0)/Ir;Ar&&(Sr.lineWidth=Ar)}else Sr.lineWidth={top:(parseFloat(vr.borderTopWidth)||0)/Ir,right:(parseFloat(vr.borderRightWidth)||0)/Ir,bottom:(parseFloat(vr.borderBottomWidth)||0)/Ir,left:(parseFloat(vr.borderLeftWidth)||0)/Ir},Sr.lineWidth.top||(Sr.lineWidth.right?Lr="borderRightColor":Sr.lineWidth.bottom?Lr="borderBottomColor":Sr.lineWidth.left&&(Lr="borderLeftColor"));var Dr=ur(gr,function(xr){return br.getComputedStyle(xr)[Lr]});Dr!=null&&(Sr.lineColor=Dr);var Tr=["left","right","center","justify"];Tr.indexOf(vr.textAlign)!==-1&&(Sr.halign=vr.textAlign),Tr=["middle","bottom","top"],Tr.indexOf(vr.verticalAlign)!==-1&&(Sr.valign=vr.verticalAlign);var _r=parseInt(vr.fontSize||"");isNaN(_r)||(Sr.fontSize=_r/jr);var wr=hr(vr);wr&&(Sr.fontStyle=wr);var Er=(vr.fontFamily||"").toLowerCase();return fr.indexOf(Er)!==-1&&(Sr.font=Er),Sr}ar.parseCss=dr;function hr(fr){var gr="";return(fr.fontWeight==="bold"||fr.fontWeight==="bolder"||parseInt(fr.fontWeight)>=700)&&(gr="bold"),(fr.fontStyle==="italic"||fr.fontStyle==="oblique")&&(gr+="italic"),gr}function ur(fr,gr){var yr=pr(fr,gr);if(!yr)return null;var vr=yr.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!vr||!Array.isArray(vr))return null;var br=[parseInt(vr[1]),parseInt(vr[2]),parseInt(vr[3])],Sr=parseInt(vr[4]);return Sr===0||isNaN(br[0])||isNaN(br[1])||isNaN(br[2])?null:br}function pr(fr,gr){var yr=gr(fr);return yr==="rgba(0, 0, 0, 0)"||yr==="transparent"||yr==="initial"||yr==="inherit"?fr.parentElement==null?null:pr(fr.parentElement,gr):yr}function mr(fr,gr){var yr=[fr.paddingTop,fr.paddingRight,fr.paddingBottom,fr.paddingLeft],vr=96/(72/gr),br=(parseInt(fr.lineHeight)-parseInt(fr.fontSize))/gr/2,Sr=yr.map(function(Cr){return parseInt(Cr||"0")/vr}),jr=(0,cr.parseSpacing)(Sr,0);return br>jr.top&&(jr.top=br),br>jr.bottom&&(jr.bottom=br),jr}},744:function(or,ar){Object.defineProperty(ar,"__esModule",{value:!0}),ar.DocHandler=void 0;var lr={},cr=function(){function dr(hr){this.jsPDFDocument=hr,this.userStyles={textColor:hr.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:hr.internal.getFontSize(),fontStyle:hr.internal.getFont().fontStyle,font:hr.internal.getFont().fontName,lineWidth:hr.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:hr.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return dr.setDefaults=function(hr,ur){ur===void 0&&(ur=null),ur?ur.__autoTableDocumentDefaults=hr:lr=hr},dr.unifyColor=function(hr){return Array.isArray(hr)?hr:typeof hr=="number"?[hr,hr,hr]:typeof hr=="string"?[hr]:null},dr.prototype.applyStyles=function(hr,ur){var pr,mr,fr;ur===void 0&&(ur=!1),hr.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(hr.fontStyle);var gr=this.jsPDFDocument.internal.getFont(),yr=gr.fontStyle,vr=gr.fontName;if(hr.font&&(vr=hr.font),hr.fontStyle){yr=hr.fontStyle;var br=this.getFontList()[vr];br&&br.indexOf(yr)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(br[0]),yr=br[0])}if(this.jsPDFDocument.setFont(vr,yr),hr.fontSize&&this.jsPDFDocument.setFontSize(hr.fontSize),!ur){var Sr=dr.unifyColor(hr.fillColor);Sr&&(pr=this.jsPDFDocument).setFillColor.apply(pr,Sr),Sr=dr.unifyColor(hr.textColor),Sr&&(mr=this.jsPDFDocument).setTextColor.apply(mr,Sr),Sr=dr.unifyColor(hr.lineColor),Sr&&(fr=this.jsPDFDocument).setDrawColor.apply(fr,Sr),typeof hr.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(hr.lineWidth)}},dr.prototype.splitTextToSize=function(hr,ur,pr){return this.jsPDFDocument.splitTextToSize(hr,ur,pr)},dr.prototype.rect=function(hr,ur,pr,mr,fr){return this.jsPDFDocument.rect(hr,ur,pr,mr,fr)},dr.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},dr.prototype.getTextWidth=function(hr){return this.jsPDFDocument.getTextWidth(hr)},dr.prototype.getDocument=function(){return this.jsPDFDocument},dr.prototype.setPage=function(hr){this.jsPDFDocument.setPage(hr)},dr.prototype.addPage=function(){return this.jsPDFDocument.addPage()},dr.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},dr.prototype.getGlobalOptions=function(){return lr||{}},dr.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},dr.prototype.pageSize=function(){var hr=this.jsPDFDocument.internal.pageSize;return hr.width==null&&(hr={width:hr.getWidth(),height:hr.getHeight()}),hr},dr.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},dr.prototype.getLineHeightFactor=function(){var hr=this.jsPDFDocument;return hr.getLineHeightFactor?hr.getLineHeightFactor():1.15},dr.prototype.getLineHeight=function(hr){return hr/this.scaleFactor()*this.getLineHeightFactor()},dr.prototype.pageNumber=function(){var hr=this.jsPDFDocument.internal.getCurrentPageInfo();return hr?hr.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},dr}();ar.DocHandler=cr},4:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseHtml=void 0;var cr=lr(903),dr=lr(796);function hr(mr,fr,gr,yr,vr){var br,Sr;yr===void 0&&(yr=!1),vr===void 0&&(vr=!1);var jr;typeof fr=="string"?jr=gr.document.querySelector(fr):jr=fr;var Cr=Object.keys(mr.getFontList()),Pr=mr.scaleFactor(),Rr=[],Lr=[],Ir=[];if(!jr)return console.error("Html table could not be found with input: ",fr),{head:Rr,body:Lr,foot:Ir};for(var Nr=0;Nr<jr.rows.length;Nr++){var Ar=jr.rows[Nr],Dr=(Sr=(br=Ar==null?void 0:Ar.parentElement)===null||br===void 0?void 0:br.tagName)===null||Sr===void 0?void 0:Sr.toLowerCase(),Tr=ur(Cr,Pr,gr,Ar,yr,vr);Tr&&(Dr==="thead"?Rr.push(Tr):Dr==="tfoot"?Ir.push(Tr):Lr.push(Tr))}return{head:Rr,body:Lr,foot:Ir}}ar.parseHtml=hr;function ur(mr,fr,gr,yr,vr,br){for(var Sr=new dr.HtmlRowInput(yr),jr=0;jr<yr.cells.length;jr++){var Cr=yr.cells[jr],Pr=gr.getComputedStyle(Cr);if(vr||Pr.display!=="none"){var Rr=void 0;br&&(Rr=(0,cr.parseCss)(mr,Cr,fr,Pr,gr)),Sr.push({rowSpan:Cr.rowSpan,colSpan:Cr.colSpan,styles:Rr,_element:Cr,content:pr(Cr)})}}var Lr=gr.getComputedStyle(yr);if(Sr.length>0&&(vr||Lr.display!=="none"))return Sr}function pr(mr){var fr=mr.cloneNode(!0);return fr.innerHTML=fr.innerHTML.replace(/\n/g,"").replace(/ +/g," "),fr.innerHTML=fr.innerHTML.split(/<br.*?>/).map(function(gr){return gr.trim()}).join(`
`),fr.innerText||fr.textContent||""}},776:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.parseInput=void 0;var cr=lr(4),dr=lr(356),hr=lr(420),ur=lr(744),pr=lr(792);function mr(jr,Cr){var Pr=new ur.DocHandler(jr),Rr=Pr.getDocumentOptions(),Lr=Pr.getGlobalOptions();(0,pr.default)(Pr,Lr,Rr,Cr);var Ir=(0,dr.assign)({},Lr,Rr,Cr),Nr;typeof window<"u"&&(Nr=window);var Ar=fr(Lr,Rr,Cr),Dr=gr(Lr,Rr,Cr),Tr=yr(Pr,Ir),_r=br(Pr,Ir,Nr);return{id:Cr.tableId,content:_r,hooks:Dr,styles:Ar,settings:Tr}}ar.parseInput=mr;function fr(jr,Cr,Pr){for(var Rr={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Lr=function(Dr){if(Dr==="columnStyles"){var Tr=jr[Dr],_r=Cr[Dr],wr=Pr[Dr];Rr.columnStyles=(0,dr.assign)({},Tr,_r,wr)}else{var Er=[jr,Cr,Pr],xr=Er.map(function(Mr){return Mr[Dr]||{}});Rr[Dr]=(0,dr.assign)({},xr[0],xr[1],xr[2])}},Ir=0,Nr=Object.keys(Rr);Ir<Nr.length;Ir++){var Ar=Nr[Ir];Lr(Ar)}return Rr}function gr(jr,Cr,Pr){for(var Rr=[jr,Cr,Pr],Lr={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Ir=0,Nr=Rr;Ir<Nr.length;Ir++){var Ar=Nr[Ir];Ar.didParseCell&&Lr.didParseCell.push(Ar.didParseCell),Ar.willDrawCell&&Lr.willDrawCell.push(Ar.willDrawCell),Ar.didDrawCell&&Lr.didDrawCell.push(Ar.didDrawCell),Ar.willDrawPage&&Lr.willDrawPage.push(Ar.willDrawPage),Ar.didDrawPage&&Lr.didDrawPage.push(Ar.didDrawPage)}return Lr}function yr(jr,Cr){var Pr,Rr,Lr,Ir,Nr,Ar,Dr,Tr,_r,wr,Er,xr,Mr=(0,hr.parseSpacing)(Cr.margin,40/jr.scaleFactor()),zr=(Pr=vr(jr,Cr.startY))!==null&&Pr!==void 0?Pr:Mr.top,Or;Cr.showFoot===!0?Or="everyPage":Cr.showFoot===!1?Or="never":Or=(Rr=Cr.showFoot)!==null&&Rr!==void 0?Rr:"everyPage";var Br;Cr.showHead===!0?Br="everyPage":Cr.showHead===!1?Br="never":Br=(Lr=Cr.showHead)!==null&&Lr!==void 0?Lr:"everyPage";var Ur=(Ir=Cr.useCss)!==null&&Ir!==void 0?Ir:!1,qr=Cr.theme||(Ur?"plain":"striped"),Vr=!!Cr.horizontalPageBreak,Gr=(Nr=Cr.horizontalPageBreakRepeat)!==null&&Nr!==void 0?Nr:null;return{includeHiddenHtml:(Ar=Cr.includeHiddenHtml)!==null&&Ar!==void 0?Ar:!1,useCss:Ur,theme:qr,startY:zr,margin:Mr,pageBreak:(Dr=Cr.pageBreak)!==null&&Dr!==void 0?Dr:"auto",rowPageBreak:(Tr=Cr.rowPageBreak)!==null&&Tr!==void 0?Tr:"auto",tableWidth:(_r=Cr.tableWidth)!==null&&_r!==void 0?_r:"auto",showHead:Br,showFoot:Or,tableLineWidth:(wr=Cr.tableLineWidth)!==null&&wr!==void 0?wr:0,tableLineColor:(Er=Cr.tableLineColor)!==null&&Er!==void 0?Er:200,horizontalPageBreak:Vr,horizontalPageBreakRepeat:Gr,horizontalPageBreakBehaviour:(xr=Cr.horizontalPageBreakBehaviour)!==null&&xr!==void 0?xr:"afterAllRows"}}function vr(jr,Cr){var Pr=jr.getLastAutoTable(),Rr=jr.scaleFactor(),Lr=jr.pageNumber(),Ir=!1;if(Pr&&Pr.startPageNumber){var Nr=Pr.startPageNumber+Pr.pageNumber-1;Ir=Nr===Lr}return typeof Cr=="number"?Cr:(Cr==null||Cr===!1)&&Ir&&(Pr==null?void 0:Pr.finalY)!=null?Pr.finalY+20/Rr:null}function br(jr,Cr,Pr){var Rr=Cr.head||[],Lr=Cr.body||[],Ir=Cr.foot||[];if(Cr.html){var Nr=Cr.includeHiddenHtml;if(Pr){var Ar=(0,cr.parseHtml)(jr,Cr.html,Pr,Nr,Cr.useCss)||{};Rr=Ar.head||Rr,Lr=Ar.body||Rr,Ir=Ar.foot||Rr}else console.error("Cannot parse html in non browser environment")}var Dr=Cr.columns||Sr(Rr,Lr,Ir);return{columns:Dr,head:Rr,body:Lr,foot:Ir}}function Sr(jr,Cr,Pr){var Rr=jr[0]||Cr[0]||Pr[0]||[],Lr=[];return Object.keys(Rr).filter(function(Ir){return Ir!=="_element"}).forEach(function(Ir){var Nr=1,Ar;Array.isArray(Rr)?Ar=Rr[parseInt(Ir)]:Ar=Rr[Ir],typeof Ar=="object"&&!Array.isArray(Ar)&&(Nr=(Ar==null?void 0:Ar.colSpan)||1);for(var Dr=0;Dr<Nr;Dr++){var Tr=void 0;Array.isArray(Rr)?Tr=Lr.length:Tr=Ir+(Dr>0?"_".concat(Dr):"");var _r={dataKey:Tr};Lr.push(_r)}}),Lr}},792:function(or,ar){Object.defineProperty(ar,"__esModule",{value:!0});function lr(dr,hr,ur,pr){for(var mr=function(vr){vr&&typeof vr!="object"&&console.error("The options parameter should be of type object, is: "+typeof vr),typeof vr.extendWidth<"u"&&(vr.tableWidth=vr.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof vr.margins<"u"&&(typeof vr.margin>"u"&&(vr.margin=vr.margins),console.error("Use of deprecated option: margins, use margin instead.")),vr.startY&&typeof vr.startY!="number"&&(console.error("Invalid value for startY option",vr.startY),delete vr.startY),!vr.didDrawPage&&(vr.afterPageContent||vr.beforePageContent||vr.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),vr.didDrawPage=function(Ir){dr.applyStyles(dr.userStyles),vr.beforePageContent&&vr.beforePageContent(Ir),dr.applyStyles(dr.userStyles),vr.afterPageContent&&vr.afterPageContent(Ir),dr.applyStyles(dr.userStyles),vr.afterPageAdd&&Ir.pageNumber>1&&Ir.afterPageAdd(Ir),dr.applyStyles(dr.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Ir){vr[Ir]&&console.error('The "'.concat(Ir,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Ir){var Nr=Ir[0],Ar=Ir[1];vr[Ar]&&(console.error("Use of deprecated option ".concat(Ar,". Use ").concat(Nr," instead")),vr[Nr]=vr[Ar])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Ir){var Nr=typeof Ir=="string"?Ir:Ir[0],Ar=typeof Ir=="string"?Ir:Ir[1];typeof vr[Nr]<"u"&&(typeof vr.styles[Ar]>"u"&&(vr.styles[Ar]=vr[Nr]),console.error("Use of deprecated option: "+Nr+", use the style "+Ar+" instead."))});for(var br=0,Sr=["styles","bodyStyles","headStyles","footStyles"];br<Sr.length;br++){var jr=Sr[br];cr(vr[jr]||{})}for(var Cr=vr.columnStyles||{},Pr=0,Rr=Object.keys(Cr);Pr<Rr.length;Pr++){var Lr=Rr[Pr];cr(Cr[Lr]||{})}},fr=0,gr=[hr,ur,pr];fr<gr.length;fr++){var yr=gr[fr];mr(yr)}}ar.default=lr;function cr(dr){dr.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),dr.minCellHeight||(dr.minCellHeight=dr.rowHeight)):dr.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),dr.cellWidth||(dr.cellWidth=dr.columnWidth))}},260:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.Column=ar.Cell=ar.Row=ar.Table=void 0;var cr=lr(796),dr=lr(172),hr=lr(420),ur=function(){function gr(yr,vr){this.pageNumber=1,this.pageCount=1,this.id=yr.id,this.settings=yr.settings,this.styles=yr.styles,this.hooks=yr.hooks,this.columns=vr.columns,this.head=vr.head,this.body=vr.body,this.foot=vr.foot}return gr.prototype.getHeadHeight=function(yr){return this.head.reduce(function(vr,br){return vr+br.getMaxCellHeight(yr)},0)},gr.prototype.getFootHeight=function(yr){return this.foot.reduce(function(vr,br){return vr+br.getMaxCellHeight(yr)},0)},gr.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},gr.prototype.callCellHooks=function(yr,vr,br,Sr,jr,Cr){for(var Pr=0,Rr=vr;Pr<Rr.length;Pr++){var Lr=Rr[Pr],Ir=new dr.CellHookData(yr,this,br,Sr,jr,Cr),Nr=Lr(Ir)===!1;if(br.text=Array.isArray(br.text)?br.text:[br.text],Nr)return!1}return!0},gr.prototype.callEndPageHooks=function(yr,vr){yr.applyStyles(yr.userStyles);for(var br=0,Sr=this.hooks.didDrawPage;br<Sr.length;br++){var jr=Sr[br];jr(new dr.HookData(yr,this,vr))}},gr.prototype.callWillDrawPageHooks=function(yr,vr){for(var br=0,Sr=this.hooks.willDrawPage;br<Sr.length;br++){var jr=Sr[br];jr(new dr.HookData(yr,this,vr))}},gr.prototype.getWidth=function(yr){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var vr=this.columns.reduce(function(Sr,jr){return Sr+jr.wrappedWidth},0);return vr}else{var br=this.settings.margin;return yr-br.left-br.right}},gr}();ar.Table=ur;var pr=function(){function gr(yr,vr,br,Sr,jr){jr===void 0&&(jr=!1),this.height=0,this.raw=yr,yr instanceof cr.HtmlRowInput&&(this.raw=yr._element,this.element=yr._element),this.index=vr,this.section=br,this.cells=Sr,this.spansMultiplePages=jr}return gr.prototype.getMaxCellHeight=function(yr){var vr=this;return yr.reduce(function(br,Sr){var jr;return Math.max(br,((jr=vr.cells[Sr.index])===null||jr===void 0?void 0:jr.height)||0)},0)},gr.prototype.hasRowSpan=function(yr){var vr=this;return yr.filter(function(br){var Sr=vr.cells[br.index];return Sr?Sr.rowSpan>1:!1}).length>0},gr.prototype.canEntireRowFit=function(yr,vr){return this.getMaxCellHeight(vr)<=yr},gr.prototype.getMinimumRowHeight=function(yr,vr){var br=this;return yr.reduce(function(Sr,jr){var Cr=br.cells[jr.index];if(!Cr)return 0;var Pr=vr.getLineHeight(Cr.styles.fontSize),Rr=Cr.padding("vertical"),Lr=Rr+Pr;return Lr>Sr?Lr:Sr},0)},gr}();ar.Row=pr;var mr=function(){function gr(yr,vr,br){var Sr,jr;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=vr,this.section=br,this.raw=yr;var Cr=yr;yr!=null&&typeof yr=="object"&&!Array.isArray(yr)?(this.rowSpan=yr.rowSpan||1,this.colSpan=yr.colSpan||1,Cr=(jr=(Sr=yr.content)!==null&&Sr!==void 0?Sr:yr.title)!==null&&jr!==void 0?jr:yr,yr._element&&(this.raw=yr._element)):(this.rowSpan=1,this.colSpan=1);var Pr=Cr!=null?""+Cr:"",Rr=/\r\n|\r|\n/g;this.text=Pr.split(Rr)}return gr.prototype.getTextPos=function(){var yr;if(this.styles.valign==="top")yr=this.y+this.padding("top");else if(this.styles.valign==="bottom")yr=this.y+this.height-this.padding("bottom");else{var vr=this.height-this.padding("vertical");yr=this.y+vr/2+this.padding("top")}var br;if(this.styles.halign==="right")br=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Sr=this.width-this.padding("horizontal");br=this.x+Sr/2+this.padding("left")}else br=this.x+this.padding("left");return{x:br,y:yr}},gr.prototype.getContentHeight=function(yr,vr){vr===void 0&&(vr=1.15);var br=Array.isArray(this.text)?this.text.length:1,Sr=this.styles.fontSize/yr*vr,jr=br*Sr+this.padding("vertical");return Math.max(jr,this.styles.minCellHeight)},gr.prototype.padding=function(yr){var vr=(0,hr.parseSpacing)(this.styles.cellPadding,0);return yr==="vertical"?vr.top+vr.bottom:yr==="horizontal"?vr.left+vr.right:vr[yr]},gr}();ar.Cell=mr;var fr=function(){function gr(yr,vr,br){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=yr,this.raw=vr,this.index=br}return gr.prototype.getMaxCustomCellWidth=function(yr){for(var vr=0,br=0,Sr=yr.allRows();br<Sr.length;br++){var jr=Sr[br],Cr=jr.cells[this.index];Cr&&typeof Cr.styles.cellWidth=="number"&&(vr=Math.max(vr,Cr.styles.cellWidth))}return vr},gr}();ar.Column=fr},356:function(or,ar){Object.defineProperty(ar,"__esModule",{value:!0}),ar.assign=void 0;function lr(cr,dr,hr,ur,pr){if(cr==null)throw new TypeError("Cannot convert undefined or null to object");for(var mr=Object(cr),fr=1;fr<arguments.length;fr++){var gr=arguments[fr];if(gr!=null)for(var yr in gr)Object.prototype.hasOwnProperty.call(gr,yr)&&(mr[yr]=gr[yr])}return mr}ar.assign=lr},972:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.createTable=void 0;var cr=lr(744),dr=lr(260),hr=lr(324),ur=lr(796),pr=lr(356);function mr(jr,Cr){var Pr=new cr.DocHandler(jr),Rr=fr(Cr,Pr.scaleFactor()),Lr=new dr.Table(Cr,Rr);return(0,hr.calculateWidths)(Pr,Lr),Pr.applyStyles(Pr.userStyles),Lr}ar.createTable=mr;function fr(jr,Cr){var Pr=jr.content,Rr=br(Pr.columns);if(Pr.head.length===0){var Lr=yr(Rr,"head");Lr&&Pr.head.push(Lr)}if(Pr.foot.length===0){var Lr=yr(Rr,"foot");Lr&&Pr.foot.push(Lr)}var Ir=jr.settings.theme,Nr=jr.styles;return{columns:Rr,head:gr("head",Pr.head,Rr,Nr,Ir,Cr),body:gr("body",Pr.body,Rr,Nr,Ir,Cr),foot:gr("foot",Pr.foot,Rr,Nr,Ir,Cr)}}function gr(jr,Cr,Pr,Rr,Lr,Ir){var Nr={},Ar=Cr.map(function(Dr,Tr){for(var _r=0,wr={},Er=0,xr=0,Mr=0,zr=Pr;Mr<zr.length;Mr++){var Or=zr[Mr];if(Nr[Or.index]==null||Nr[Or.index].left===0)if(xr===0){var Br=void 0;Array.isArray(Dr)?Br=Dr[Or.index-Er-_r]:Br=Dr[Or.dataKey];var Ur={};typeof Br=="object"&&!Array.isArray(Br)&&(Ur=(Br==null?void 0:Br.styles)||{});var qr=Sr(jr,Or,Tr,Lr,Rr,Ir,Ur),Vr=new dr.Cell(Br,qr,jr);wr[Or.dataKey]=Vr,wr[Or.index]=Vr,xr=Vr.colSpan-1,Nr[Or.index]={left:Vr.rowSpan-1,times:xr}}else xr--,Er++;else Nr[Or.index].left--,xr=Nr[Or.index].times,_r++}return new dr.Row(Dr,Tr,jr,wr)});return Ar}function yr(jr,Cr){var Pr={};return jr.forEach(function(Rr){if(Rr.raw!=null){var Lr=vr(Cr,Rr.raw);Lr!=null&&(Pr[Rr.dataKey]=Lr)}}),Object.keys(Pr).length>0?Pr:null}function vr(jr,Cr){if(jr==="head"){if(typeof Cr=="object")return Cr.header||Cr.title||null;if(typeof Cr=="string"||typeof Cr=="number")return Cr}else if(jr==="foot"&&typeof Cr=="object")return Cr.footer;return null}function br(jr){return jr.map(function(Cr,Pr){var Rr,Lr,Ir;return typeof Cr=="object"?Ir=(Lr=(Rr=Cr.dataKey)!==null&&Rr!==void 0?Rr:Cr.key)!==null&&Lr!==void 0?Lr:Pr:Ir=Pr,new dr.Column(Ir,Cr,Pr)})}function Sr(jr,Cr,Pr,Rr,Lr,Ir,Nr){var Ar=(0,ur.getTheme)(Rr),Dr;jr==="head"?Dr=Lr.headStyles:jr==="body"?Dr=Lr.bodyStyles:jr==="foot"&&(Dr=Lr.footStyles);var Tr=(0,pr.assign)({},Ar.table,Ar[jr],Lr.styles,Dr),_r=Lr.columnStyles[Cr.dataKey]||Lr.columnStyles[Cr.index]||{},wr=jr==="body"?_r:{},Er=jr==="body"&&Pr%2===0?(0,pr.assign)({},Ar.alternateRow,Lr.alternateRowStyles):{},xr=(0,ur.defaultStyles)(Ir),Mr=(0,pr.assign)({},xr,Tr,Er,wr);return(0,pr.assign)(Mr,Nr)}},664:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.addPage=ar.drawTable=void 0;var cr=lr(420),dr=lr(260),hr=lr(744),ur=lr(356),pr=lr(136),mr=lr(224);function fr(_r,wr){var Er=wr.settings,xr=Er.startY,Mr=Er.margin,zr={x:Mr.left,y:xr},Or=wr.getHeadHeight(wr.columns)+wr.getFootHeight(wr.columns),Br=xr+Mr.bottom+Or;if(Er.pageBreak==="avoid"){var Ur=wr.body,qr=Ur.reduce(function($r,Fr){return $r+Fr.height},0);Br+=qr}var Vr=new hr.DocHandler(_r);(Er.pageBreak==="always"||Er.startY!=null&&Br>Vr.pageSize().height)&&(Tr(Vr),zr.y=Mr.top),wr.callWillDrawPageHooks(Vr,zr);var Gr=(0,ur.assign)({},zr);wr.startPageNumber=Vr.pageNumber(),Er.horizontalPageBreak?gr(Vr,wr,Gr,zr):(Vr.applyStyles(Vr.userStyles),(Er.showHead==="firstPage"||Er.showHead==="everyPage")&&wr.head.forEach(function($r){return Lr(Vr,wr,$r,zr,wr.columns)}),Vr.applyStyles(Vr.userStyles),wr.body.forEach(function($r,Fr){var Kr=Fr===wr.body.length-1;Rr(Vr,wr,$r,Kr,Gr,zr,wr.columns)}),Vr.applyStyles(Vr.userStyles),(Er.showFoot==="lastPage"||Er.showFoot==="everyPage")&&wr.foot.forEach(function($r){return Lr(Vr,wr,$r,zr,wr.columns)})),(0,cr.addTableBorder)(Vr,wr,Gr,zr),wr.callEndPageHooks(Vr,zr),wr.finalY=zr.y,_r.lastAutoTable=wr,_r.previousAutoTable=wr,_r.autoTable&&(_r.autoTable.previous=wr),Vr.applyStyles(Vr.userStyles)}ar.drawTable=fr;function gr(_r,wr,Er,xr){var Mr=(0,mr.calculateAllColumnsCanFitInPage)(_r,wr),zr=wr.settings;if(zr.horizontalPageBreakBehaviour==="afterAllRows")Mr.forEach(function(qr,Vr){_r.applyStyles(_r.userStyles),Vr>0?Dr(_r,wr,Er,xr,qr.columns,!0):yr(_r,wr,xr,qr.columns),vr(_r,wr,Er,xr,qr.columns),Sr(_r,wr,xr,qr.columns)});else for(var Or=-1,Br=Mr[0],Ur=function(){var qr=Or;if(Br){_r.applyStyles(_r.userStyles);var Vr=Br.columns;Or>=0?Dr(_r,wr,Er,xr,Vr,!0):yr(_r,wr,xr,Vr),qr=br(_r,wr,Or+1,xr,Vr),Sr(_r,wr,xr,Vr)}var Gr=qr-Or;Mr.slice(1).forEach(function($r){_r.applyStyles(_r.userStyles),Dr(_r,wr,Er,xr,$r.columns,!0),br(_r,wr,Or+1,xr,$r.columns,Gr),Sr(_r,wr,xr,$r.columns)}),Or=qr};Or<wr.body.length-1;)Ur()}function yr(_r,wr,Er,xr){var Mr=wr.settings;_r.applyStyles(_r.userStyles),(Mr.showHead==="firstPage"||Mr.showHead==="everyPage")&&wr.head.forEach(function(zr){return Lr(_r,wr,zr,Er,xr)})}function vr(_r,wr,Er,xr,Mr){_r.applyStyles(_r.userStyles),wr.body.forEach(function(zr,Or){var Br=Or===wr.body.length-1;Rr(_r,wr,zr,Br,Er,xr,Mr)})}function br(_r,wr,Er,xr,Mr,zr){_r.applyStyles(_r.userStyles),zr=zr??wr.body.length;var Or=Math.min(Er+zr,wr.body.length),Br=-1;return wr.body.slice(Er,Or).forEach(function(Ur,qr){var Vr=Er+qr===wr.body.length-1,Gr=Ar(_r,wr,Vr,xr);Ur.canEntireRowFit(Gr,Mr)&&(Lr(_r,wr,Ur,xr,Mr),Br=Er+qr)}),Br}function Sr(_r,wr,Er,xr){var Mr=wr.settings;_r.applyStyles(_r.userStyles),(Mr.showFoot==="lastPage"||Mr.showFoot==="everyPage")&&wr.foot.forEach(function(zr){return Lr(_r,wr,zr,Er,xr)})}function jr(_r,wr,Er){var xr=Er.getLineHeight(_r.styles.fontSize),Mr=_r.padding("vertical"),zr=Math.floor((wr-Mr)/xr);return Math.max(0,zr)}function Cr(_r,wr,Er,xr){var Mr={};_r.spansMultiplePages=!0,_r.height=0;for(var zr=0,Or=0,Br=Er.columns;Or<Br.length;Or++){var Ur=Br[Or],qr=_r.cells[Ur.index];if(qr){Array.isArray(qr.text)||(qr.text=[qr.text]);var Vr=new dr.Cell(qr.raw,qr.styles,qr.section);Vr=(0,ur.assign)(Vr,qr),Vr.text=[];var Gr=jr(qr,wr,xr);qr.text.length>Gr&&(Vr.text=qr.text.splice(Gr,qr.text.length));var $r=xr.scaleFactor(),Fr=xr.getLineHeightFactor();qr.contentHeight=qr.getContentHeight($r,Fr),qr.contentHeight>=wr&&(qr.contentHeight=wr,Vr.styles.minCellHeight-=wr),qr.contentHeight>_r.height&&(_r.height=qr.contentHeight),Vr.contentHeight=Vr.getContentHeight($r,Fr),Vr.contentHeight>zr&&(zr=Vr.contentHeight),Mr[Ur.index]=Vr}}var Kr=new dr.Row(_r.raw,-1,_r.section,Mr,!0);Kr.height=zr;for(var Zr=0,nn=Er.columns;Zr<nn.length;Zr++){var Ur=nn[Zr],Vr=Kr.cells[Ur.index];Vr&&(Vr.height=Kr.height);var qr=_r.cells[Ur.index];qr&&(qr.height=_r.height)}return Kr}function Pr(_r,wr,Er,xr){var Mr=_r.pageSize().height,zr=xr.settings.margin,Or=zr.top+zr.bottom,Br=Mr-Or;wr.section==="body"&&(Br-=xr.getHeadHeight(xr.columns)+xr.getFootHeight(xr.columns));var Ur=wr.getMinimumRowHeight(xr.columns,_r),qr=Ur<Er;if(Ur>Br)return console.error("Will not be able to print row ".concat(wr.index," correctly since it's minimum height is larger than page height")),!0;if(!qr)return!1;var Vr=wr.hasRowSpan(xr.columns),Gr=wr.getMaxCellHeight(xr.columns)>Br;return Gr?(Vr&&console.error("The content of row ".concat(wr.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Vr||xr.settings.rowPageBreak==="avoid")}function Rr(_r,wr,Er,xr,Mr,zr,Or){var Br=Ar(_r,wr,xr,zr);if(Er.canEntireRowFit(Br,Or))Lr(_r,wr,Er,zr,Or);else if(Pr(_r,Er,Br,wr)){var Ur=Cr(Er,Br,wr,_r);Lr(_r,wr,Er,zr,Or),Dr(_r,wr,Mr,zr,Or),Rr(_r,wr,Ur,xr,Mr,zr,Or)}else Dr(_r,wr,Mr,zr,Or),Rr(_r,wr,Er,xr,Mr,zr,Or)}function Lr(_r,wr,Er,xr,Mr){xr.x=wr.settings.margin.left;for(var zr=0,Or=Mr;zr<Or.length;zr++){var Br=Or[zr],Ur=Er.cells[Br.index];if(!Ur){xr.x+=Br.width;continue}_r.applyStyles(Ur.styles),Ur.x=xr.x,Ur.y=xr.y;var qr=wr.callCellHooks(_r,wr.hooks.willDrawCell,Ur,Er,Br,xr);if(qr===!1){xr.x+=Br.width;continue}Ir(_r,Ur,xr);var Vr=Ur.getTextPos();(0,pr.default)(Ur.text,Vr.x,Vr.y,{halign:Ur.styles.halign,valign:Ur.styles.valign,maxWidth:Math.ceil(Ur.width-Ur.padding("left")-Ur.padding("right"))},_r.getDocument()),wr.callCellHooks(_r,wr.hooks.didDrawCell,Ur,Er,Br,xr),xr.x+=Br.width}xr.y+=Er.height}function Ir(_r,wr,Er){var xr=wr.styles;if(_r.getDocument().setFillColor(_r.getDocument().getFillColor()),typeof xr.lineWidth=="number"){var Mr=(0,cr.getFillStyle)(xr.lineWidth,xr.fillColor);Mr&&_r.rect(wr.x,Er.y,wr.width,wr.height,Mr)}else typeof xr.lineWidth=="object"&&(xr.fillColor&&_r.rect(wr.x,Er.y,wr.width,wr.height,"F"),Nr(_r,wr,Er,xr.lineWidth))}function Nr(_r,wr,Er,xr){var Mr,zr,Or,Br;xr.top&&(Mr=Er.x,zr=Er.y,Or=Er.x+wr.width,Br=Er.y,xr.right&&(Or+=.5*xr.right),xr.left&&(Mr-=.5*xr.left),Ur(xr.top,Mr,zr,Or,Br)),xr.bottom&&(Mr=Er.x,zr=Er.y+wr.height,Or=Er.x+wr.width,Br=Er.y+wr.height,xr.right&&(Or+=.5*xr.right),xr.left&&(Mr-=.5*xr.left),Ur(xr.bottom,Mr,zr,Or,Br)),xr.left&&(Mr=Er.x,zr=Er.y,Or=Er.x,Br=Er.y+wr.height,xr.top&&(zr-=.5*xr.top),xr.bottom&&(Br+=.5*xr.bottom),Ur(xr.left,Mr,zr,Or,Br)),xr.right&&(Mr=Er.x+wr.width,zr=Er.y,Or=Er.x+wr.width,Br=Er.y+wr.height,xr.top&&(zr-=.5*xr.top),xr.bottom&&(Br+=.5*xr.bottom),Ur(xr.right,Mr,zr,Or,Br));function Ur(qr,Vr,Gr,$r,Fr){_r.getDocument().setLineWidth(qr),_r.getDocument().line(Vr,Gr,$r,Fr,"S")}}function Ar(_r,wr,Er,xr){var Mr=wr.settings.margin.bottom,zr=wr.settings.showFoot;return(zr==="everyPage"||zr==="lastPage"&&Er)&&(Mr+=wr.getFootHeight(wr.columns)),_r.pageSize().height-xr.y-Mr}function Dr(_r,wr,Er,xr,Mr,zr){Mr===void 0&&(Mr=[]),zr===void 0&&(zr=!1),_r.applyStyles(_r.userStyles),wr.settings.showFoot==="everyPage"&&!zr&&wr.foot.forEach(function(Br){return Lr(_r,wr,Br,xr,Mr)}),wr.callEndPageHooks(_r,xr);var Or=wr.settings.margin;(0,cr.addTableBorder)(_r,wr,Er,xr),Tr(_r),wr.pageNumber++,wr.pageCount++,xr.x=Or.left,xr.y=Or.top,Er.y=Or.top,wr.callWillDrawPageHooks(_r,xr),wr.settings.showHead==="everyPage"&&(wr.head.forEach(function(Br){return Lr(_r,wr,Br,xr,Mr)}),_r.applyStyles(_r.userStyles))}ar.addPage=Dr;function Tr(_r){var wr=_r.pageNumber();_r.setPage(wr+1);var Er=_r.pageNumber();return Er===wr?(_r.addPage(),!0):!1}},224:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.calculateAllColumnsCanFitInPage=void 0;var cr=lr(420);function dr(ur,pr,mr){var fr;mr===void 0&&(mr={});var gr=(0,cr.getPageAvailableWidth)(ur,pr),yr=new Map,vr=[],br=[],Sr=[];pr.settings.horizontalPageBreakRepeat,Array.isArray(pr.settings.horizontalPageBreakRepeat)?Sr=pr.settings.horizontalPageBreakRepeat:(typeof pr.settings.horizontalPageBreakRepeat=="string"||typeof pr.settings.horizontalPageBreakRepeat=="number")&&(Sr=[pr.settings.horizontalPageBreakRepeat]),Sr.forEach(function(Rr){var Lr=pr.columns.find(function(Ir){return Ir.dataKey===Rr||Ir.index===Rr});Lr&&!yr.has(Lr.index)&&(yr.set(Lr.index,!0),vr.push(Lr.index),br.push(pr.columns[Lr.index]),gr-=Lr.wrappedWidth)});for(var jr=!0,Cr=(fr=mr==null?void 0:mr.start)!==null&&fr!==void 0?fr:0;Cr<pr.columns.length;){if(yr.has(Cr)){Cr++;continue}var Pr=pr.columns[Cr].wrappedWidth;if(jr||gr>=Pr)jr=!1,vr.push(Cr),br.push(pr.columns[Cr]),gr-=Pr;else break;Cr++}return{colIndexes:vr,columns:br,lastIndex:Cr-1}}function hr(ur,pr){for(var mr=[],fr=0;fr<pr.columns.length;fr++){var gr=dr(ur,pr,{start:fr});gr.columns.length&&(mr.push(gr),fr=gr.lastIndex)}return mr}ar.calculateAllColumnsCanFitInPage=hr},324:function(or,ar,lr){Object.defineProperty(ar,"__esModule",{value:!0}),ar.ellipsize=ar.resizeColumns=ar.calculateWidths=void 0;var cr=lr(420);function dr(vr,br){hr(vr,br);var Sr=[],jr=0;br.columns.forEach(function(Pr){var Rr=Pr.getMaxCustomCellWidth(br);Rr?Pr.width=Rr:(Pr.width=Pr.wrappedWidth,Sr.push(Pr)),jr+=Pr.width});var Cr=br.getWidth(vr.pageSize().width)-jr;Cr&&(Cr=ur(Sr,Cr,function(Pr){return Math.max(Pr.minReadableWidth,Pr.minWidth)})),Cr&&(Cr=ur(Sr,Cr,function(Pr){return Pr.minWidth})),Cr=Math.abs(Cr),!br.settings.horizontalPageBreak&&Cr>.1/vr.scaleFactor()&&(Cr=Cr<1?Cr:Math.round(Cr),console.warn("Of the table content, ".concat(Cr," units width could not fit page"))),mr(br),fr(br,vr),pr(br)}ar.calculateWidths=dr;function hr(vr,br){var Sr=vr.scaleFactor(),jr=br.settings.horizontalPageBreak,Cr=(0,cr.getPageAvailableWidth)(vr,br);br.allRows().forEach(function(Pr){for(var Rr=0,Lr=br.columns;Rr<Lr.length;Rr++){var Ir=Lr[Rr],Nr=Pr.cells[Ir.index];if(Nr){var Ar=br.hooks.didParseCell;br.callCellHooks(vr,Ar,Nr,Pr,Ir,null);var Dr=Nr.padding("horizontal");Nr.contentWidth=(0,cr.getStringWidth)(Nr.text,Nr.styles,vr)+Dr;var Tr=(0,cr.getStringWidth)(Nr.text.join(" ").split(/[^\S\u00A0]+/),Nr.styles,vr);if(Nr.minReadableWidth=Tr+Nr.padding("horizontal"),typeof Nr.styles.cellWidth=="number")Nr.minWidth=Nr.styles.cellWidth,Nr.wrappedWidth=Nr.styles.cellWidth;else if(Nr.styles.cellWidth==="wrap"||jr===!0)Nr.contentWidth>Cr?(Nr.minWidth=Cr,Nr.wrappedWidth=Cr):(Nr.minWidth=Nr.contentWidth,Nr.wrappedWidth=Nr.contentWidth);else{var _r=10/Sr;Nr.minWidth=Nr.styles.minCellWidth||_r,Nr.wrappedWidth=Nr.contentWidth,Nr.minWidth>Nr.wrappedWidth&&(Nr.wrappedWidth=Nr.minWidth)}}}}),br.allRows().forEach(function(Pr){for(var Rr=0,Lr=br.columns;Rr<Lr.length;Rr++){var Ir=Lr[Rr],Nr=Pr.cells[Ir.index];if(Nr&&Nr.colSpan===1)Ir.wrappedWidth=Math.max(Ir.wrappedWidth,Nr.wrappedWidth),Ir.minWidth=Math.max(Ir.minWidth,Nr.minWidth),Ir.minReadableWidth=Math.max(Ir.minReadableWidth,Nr.minReadableWidth);else{var Ar=br.styles.columnStyles[Ir.dataKey]||br.styles.columnStyles[Ir.index]||{},Dr=Ar.cellWidth||Ar.minCellWidth;Dr&&typeof Dr=="number"&&(Ir.minWidth=Dr,Ir.wrappedWidth=Dr)}Nr&&(Nr.colSpan>1&&!Ir.minWidth&&(Ir.minWidth=Nr.minWidth),Nr.colSpan>1&&!Ir.wrappedWidth&&(Ir.wrappedWidth=Nr.minWidth))}})}function ur(vr,br,Sr){for(var jr=br,Cr=vr.reduce(function(_r,wr){return _r+wr.wrappedWidth},0),Pr=0;Pr<vr.length;Pr++){var Rr=vr[Pr],Lr=Rr.wrappedWidth/Cr,Ir=jr*Lr,Nr=Rr.width+Ir,Ar=Sr(Rr),Dr=Nr<Ar?Ar:Nr;br-=Dr-Rr.width,Rr.width=Dr}if(br=Math.round(br*1e10)/1e10,br){var Tr=vr.filter(function(_r){return br<0?_r.width>Sr(_r):!0});Tr.length&&(br=ur(Tr,br,Sr))}return br}ar.resizeColumns=ur;function pr(vr){for(var br={},Sr=1,jr=vr.allRows(),Cr=0;Cr<jr.length;Cr++)for(var Pr=jr[Cr],Rr=0,Lr=vr.columns;Rr<Lr.length;Rr++){var Ir=Lr[Rr],Nr=br[Ir.index];if(Sr>1)Sr--,delete Pr.cells[Ir.index];else if(Nr)Nr.cell.height+=Pr.height,Sr=Nr.cell.colSpan,delete Pr.cells[Ir.index],Nr.left--,Nr.left<=1&&delete br[Ir.index];else{var Ar=Pr.cells[Ir.index];if(!Ar)continue;if(Ar.height=Pr.height,Ar.rowSpan>1){var Dr=jr.length-Cr,Tr=Ar.rowSpan>Dr?Dr:Ar.rowSpan;br[Ir.index]={cell:Ar,left:Tr,row:Pr}}}}}function mr(vr){for(var br=vr.allRows(),Sr=0;Sr<br.length;Sr++)for(var jr=br[Sr],Cr=null,Pr=0,Rr=0,Lr=0;Lr<vr.columns.length;Lr++){var Ir=vr.columns[Lr];if(Rr-=1,Rr>1&&vr.columns[Lr+1])Pr+=Ir.width,delete jr.cells[Ir.index];else if(Cr){var Nr=Cr;delete jr.cells[Ir.index],Cr=null,Nr.width=Ir.width+Pr}else{var Nr=jr.cells[Ir.index];if(!Nr)continue;if(Rr=Nr.colSpan,Pr=0,Nr.colSpan>1){Cr=Nr,Pr+=Ir.width;continue}Nr.width=Ir.width+Pr}}}function fr(vr,br){for(var Sr={count:0,height:0},jr=0,Cr=vr.allRows();jr<Cr.length;jr++){for(var Pr=Cr[jr],Rr=0,Lr=vr.columns;Rr<Lr.length;Rr++){var Ir=Lr[Rr],Nr=Pr.cells[Ir.index];if(Nr){br.applyStyles(Nr.styles,!0);var Ar=Nr.width-Nr.padding("horizontal");if(Nr.styles.overflow==="linebreak")Nr.text=br.splitTextToSize(Nr.text,Ar+1/br.scaleFactor(),{fontSize:Nr.styles.fontSize});else if(Nr.styles.overflow==="ellipsize")Nr.text=gr(Nr.text,Ar,Nr.styles,br,"...");else if(Nr.styles.overflow==="hidden")Nr.text=gr(Nr.text,Ar,Nr.styles,br,"");else if(typeof Nr.styles.overflow=="function"){var Dr=Nr.styles.overflow(Nr.text,Ar);typeof Dr=="string"?Nr.text=[Dr]:Nr.text=Dr}Nr.contentHeight=Nr.getContentHeight(br.scaleFactor(),br.getLineHeightFactor());var Tr=Nr.contentHeight/Nr.rowSpan;Nr.rowSpan>1&&Sr.count*Sr.height<Tr*Nr.rowSpan?Sr={height:Tr,count:Nr.rowSpan}:Sr&&Sr.count>0&&Sr.height>Tr&&(Tr=Sr.height),Tr>Pr.height&&(Pr.height=Tr)}}Sr.count--}}function gr(vr,br,Sr,jr,Cr){return vr.map(function(Pr){return yr(Pr,br,Sr,jr,Cr)})}ar.ellipsize=gr;function yr(vr,br,Sr,jr,Cr){var Pr=1e4*jr.scaleFactor();if(br=Math.ceil(br*Pr)/Pr,br>=(0,cr.getStringWidth)(vr,Sr,jr))return vr;for(;br<(0,cr.getStringWidth)(vr+Cr,Sr,jr)&&!(vr.length<=1);)vr=vr.substring(0,vr.length-1);return vr.trim()+Cr}},964:function(or){if(typeof tr>"u"){var ar=new Error("Cannot find module 'undefined'");throw ar.code="MODULE_NOT_FOUND",ar}or.exports=tr}},nr={};function ir(or){var ar=nr[or];if(ar!==void 0)return ar.exports;var lr=nr[or]={exports:{}};return rr[or].call(lr.exports,lr,lr.exports,ir),lr.exports}var sr={};return function(){var or=sr;Object.defineProperty(or,"__esModule",{value:!0}),or.Cell=or.Column=or.Row=or.Table=or.CellHookData=or.__drawTable=or.__createTable=or.applyPlugin=void 0;var ar=ir(340),lr=ir(776),cr=ir(664),dr=ir(972),hr=ir(260);Object.defineProperty(or,"Table",{enumerable:!0,get:function(){return hr.Table}});var ur=ir(172);Object.defineProperty(or,"CellHookData",{enumerable:!0,get:function(){return ur.CellHookData}});var pr=ir(260);Object.defineProperty(or,"Cell",{enumerable:!0,get:function(){return pr.Cell}}),Object.defineProperty(or,"Column",{enumerable:!0,get:function(){return pr.Column}}),Object.defineProperty(or,"Row",{enumerable:!0,get:function(){return pr.Row}});function mr(br){(0,ar.default)(br)}or.applyPlugin=mr;function fr(br,Sr){var jr=(0,lr.parseInput)(br,Sr),Cr=(0,dr.createTable)(br,jr);(0,cr.drawTable)(br,Cr)}function gr(br,Sr){var jr=(0,lr.parseInput)(br,Sr);return(0,dr.createTable)(br,jr)}or.__createTable=gr;function yr(br,Sr){(0,cr.drawTable)(br,Sr)}or.__drawTable=yr;try{var vr=ir(964);vr.jsPDF&&(vr=vr.jsPDF),mr(vr)}catch{}or.default=fr}(),sr}()})})(jspdf_plugin_autotable);var jspdf_plugin_autotableExports=jspdf_plugin_autotable.exports;const autoTable=getDefaultExportFromCjs(jspdf_plugin_autotableExports);function formatNumber(er){return Number.isInteger(er)?er.toLocaleString("es-CL"):er.toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})}const COLORS={primary:"FF1E40AF",primaryLight:"FFDBEAFE",success:"FF22C55E",danger:"FFEF4444",dangerLight:"FFFEE2E2",gray:"FF6B7280",grayLight:"FFF3F4F6",white:"FFFFFFFF"};async function exportToExcelSimple(er,e){const tr=new ExcelJS.Workbook;tr.creator="Baader 200 App",tr.created=new Date;const rr=tr.addWorksheet("Repuestos"),nr=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Total Solicitado (USD)",key:"totalSolicitadoUSD",width:18},{header:"Stock en Bodega",key:"stockBodega",width:15},{header:"Total Stock (USD)",key:"totalStockUSD",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16},{header:"Tags",key:"tags",width:25}];rr.columns=nr,er.forEach(or=>{var cr;const ar={codigoSAP:or.codigoSAP,codigoBaader:or.codigoBaader,descripcion:or.textoBreve,cantidadSolicitada:or.cantidadSolicitada,totalSolicitadoUSD:or.valorUnitario*or.cantidadSolicitada,stockBodega:or.cantidadStockBodega,totalStockUSD:or.valorUnitario*(or.cantidadStockBodega||0),valorUnitario:or.valorUnitario,total:or.total,tags:((cr=or.tags)==null?void 0:cr.join(", "))||""},lr=rr.addRow(ar);lr.getCell("valorUnitario").numFmt='"$"#,##0.00',lr.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',lr.getCell("totalStockUSD").numFmt='"$"#,##0.00',lr.getCell("total").numFmt='"$"#,##0.00'});const ir=await tr.xlsx.writeBuffer(),sr=new Blob([ir],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});FileSaver_minExports.saveAs(sr,`${e}.xlsx`)}async function exportToExcel(er,e={formato:"completo"},tr="repuestos_baader_200"){if(e.formato==="simple")return exportToExcelSimple(er,tr);const{incluirResumen:rr=!0,incluirSinStock:nr=!0,incluirPorTags:ir=!0,incluirEstilos:sr=!0}=e,or=new ExcelJS.Workbook;or.creator="Baader 200 App",or.created=new Date;const ar=or.addWorksheet("Detalle Repuestos",{views:[{state:"frozen",xSplit:0,ySplit:1}]}),lr=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Total Solicitado (USD)",key:"totalSolicitadoUSD",width:18},{header:"Stock en Bodega",key:"stockBodega",width:15},{header:"Total Stock (USD)",key:"totalStockUSD",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16}];lr.push({header:"Tags",key:"tags",width:25},{header:"lt. Act. Inventario",key:"ultimaAct",width:16},{header:"Img Manual",key:"imgManual",width:10},{header:"Fotos Reales",key:"fotosReales",width:11}),ar.columns=lr;const cr=lr.length;if(sr){const mr=ar.getRow(1);mr.font={bold:!0,color:{argb:COLORS.white}},mr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primary}},mr.alignment={vertical:"middle",horizontal:"center"},mr.height=25}er.forEach((mr,fr)=>{var vr;const gr={codigoSAP:mr.codigoSAP,codigoBaader:mr.codigoBaader,descripcion:mr.textoBreve,cantidadSolicitada:mr.cantidadSolicitada,totalSolicitadoUSD:mr.valorUnitario*mr.cantidadSolicitada,stockBodega:mr.cantidadStockBodega,totalStockUSD:mr.valorUnitario*(mr.cantidadStockBodega||0),valorUnitario:mr.valorUnitario,total:mr.total,tags:((vr=mr.tags)==null?void 0:vr.length)>0?mr.tags.join(", "):null,ultimaAct:mr.fechaUltimaActualizacionInventario?new Date(mr.fechaUltimaActualizacionInventario).toLocaleDateString("es-CL"):null,imgManual:mr.imagenesManual.length,fotosReales:mr.fotosReales.length},yr=ar.addRow(gr);if(sr){fr%2===1&&(yr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}});const br=yr.getCell("stockBodega");mr.cantidadStockBodega===0?(br.font={bold:!0,color:{argb:COLORS.danger}},br.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}}):br.font={bold:!0,color:{argb:COLORS.success}}}yr.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',yr.getCell("totalStockUSD").numFmt='"$"#,##0.00',yr.getCell("valorUnitario").numFmt='"$"#,##0.00',yr.getCell("total").numFmt='"$"#,##0.00'});const dr={codigoSAP:null,codigoBaader:null,descripcion:"TOTALES",cantidadSolicitada:{formula:`SUM(D2:D${er.length+1})`},totalSolicitadoUSD:{formula:`SUM(E2:E${er.length+1})`},stockBodega:{formula:`SUM(F2:F${er.length+1})`},totalStockUSD:{formula:`SUM(G2:G${er.length+1})`},valorUnitario:null,total:{formula:`SUM(I2:I${er.length+1})`},tags:null,ultimaAct:null,imgManual:{formula:`SUM(L2:L${er.length+1})`},fotosReales:{formula:`SUM(M2:M${er.length+1})`}},hr=ar.addRow(dr);if(sr&&(hr.font={bold:!0},hr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}}),hr.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',hr.getCell("totalStockUSD").numFmt='"$"#,##0.00',hr.getCell("total").numFmt='"$"#,##0.00',ar.autoFilter={from:{row:1,column:1},to:{row:er.length+1,column:cr}},sr&&ar.eachRow(mr=>{mr.eachCell(fr=>{fr.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),rr){const mr=or.addWorksheet(" Dashboard"),fr=er.length,gr=er.reduce((Qr,cn)=>Qr+cn.cantidadSolicitada,0),yr=er.reduce((Qr,cn)=>Qr+cn.cantidadStockBodega,0),vr=er.reduce((Qr,cn)=>Qr+cn.total,0),br=er.filter(Qr=>Qr.cantidadStockBodega>0).length,Sr=er.filter(Qr=>Qr.cantidadStockBodega===0).length,jr=er.filter(Qr=>Qr.imagenesManual.length>0).length,Cr=er.filter(Qr=>Qr.fotosReales.length>0).length,Pr=fr>0?vr/fr:0,Rr=fr>0?yr/fr:0,Lr=fr>0?br/fr*100:0,Ir=fr>0?Sr/fr*100:0,Nr=new Set;er.forEach(Qr=>{var cn;return(cn=Qr.tags)==null?void 0:cn.forEach(dn=>Nr.add(dn))}),mr.getColumn(1).width=3,mr.getColumn(2).width=22,mr.getColumn(3).width=18,mr.getColumn(4).width=3,mr.getColumn(5).width=22,mr.getColumn(6).width=18,mr.getColumn(7).width=3,mr.getColumn(8).width=22,mr.getColumn(9).width=18,mr.mergeCells("B2:I2");const Ar=mr.getCell("B2");Ar.value=" DASHBOARD - Repuestos Baader 200",Ar.font={bold:!0,size:20,color:{argb:COLORS.primary}},Ar.alignment={horizontal:"center",vertical:"middle"},mr.getRow(2).height=35,mr.mergeCells("B3:I3");const Dr=mr.getCell("B3");Dr.value=`Generado: ${new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,Dr.font={size:11,color:{argb:COLORS.gray}},Dr.alignment={horizontal:"center"};const Tr=(Qr,cn,dn,en,an)=>{const tn=mr.getCell(`${Qr}5`);tn.value=cn,tn.font={size:10,color:{argb:COLORS.gray}},tn.alignment={horizontal:"center"};const sn=mr.getCell(`${Qr}6`);en==="currency"?(sn.value=dn,sn.numFmt='"USD "$#,##0.00'):en==="percent"?(sn.value=dn/100,sn.numFmt="0.0%"):en==="number"?(sn.value=dn,sn.numFmt="#,##0"):sn.value=dn,sn.font={bold:!0,size:24,color:{argb:an}},sn.alignment={horizontal:"center",vertical:"middle"},mr.getRow(6).height=40};mr.mergeCells("B5:C5"),mr.mergeCells("B6:C6"),Tr("B"," TOTAL REPUESTOS",fr,"number",COLORS.primary),mr.mergeCells("E5:F5"),mr.mergeCells("E6:F6"),Tr("E"," VALOR TOTAL",vr,"currency",COLORS.success),mr.mergeCells("H5:I5"),mr.mergeCells("H6:I6"),Tr("H"," SIN STOCK",Sr,"number",COLORS.danger),mr.mergeCells("B9:C9");const _r=mr.getCell("B9");_r.value=" MTRICAS PRINCIPALES",_r.font={bold:!0,size:12,color:{argb:COLORS.primary}},_r.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},[["Cant. Solicitada Total",gr,"#,##0"],["Stock Bodega Total",yr,"#,##0"],["Valor Promedio/Item",Pr,'"$"#,##0.00'],["Stock Promedio/Item",Rr,"0.0"],["% Con Stock",Lr/100,"0.0%"],["% Sin Stock",Ir/100,"0.0%"]].forEach((Qr,cn)=>{const dn=10+cn;mr.getCell(`B${dn}`).value=Qr[0],mr.getCell(`B${dn}`).font={size:10};const en=mr.getCell(`C${dn}`);en.value=Qr[1],en.numFmt=Qr[2],en.font={bold:!0},en.alignment={horizontal:"right"},cn%2===0&&(mr.getCell(`B${dn}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),mr.mergeCells("E9:F9");const Er=mr.getCell("E9");Er.value=" DOCUMENTACIN",Er.font={bold:!0,size:12,color:{argb:COLORS.primary}},Er.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},[["Con Imagen Manual",jr,fr],["Sin Imagen Manual",fr-jr,fr],["Con Fotos Reales",Cr,fr],["Sin Fotos Reales",fr-Cr,fr],["Total Imgenes Manual",er.reduce((Qr,cn)=>Qr+cn.imagenesManual.length,0),null],["Total Fotos Reales",er.reduce((Qr,cn)=>Qr+cn.fotosReales.length,0),null]].forEach((Qr,cn)=>{const dn=10+cn;mr.getCell(`E${dn}`).value=Qr[0],mr.getCell(`E${dn}`).font={size:10};const en=mr.getCell(`F${dn}`);Qr[2],en.value=Qr[1],en.numFmt="#,##0",en.font={bold:!0},en.alignment={horizontal:"right"},cn%2===0&&(mr.getCell(`E${dn}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),mr.mergeCells("H9:I9");const Mr=mr.getCell("H9");Mr.value=" DISTRIBUCIN POR TAGS",Mr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Mr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},Array.from(Nr).slice(0,6).map(Qr=>{const cn=er.filter(dn=>{var en;return(en=dn.tags)==null?void 0:en.includes(Qr)}).length;return[Qr,cn]}).forEach((Qr,cn)=>{const dn=10+cn;mr.getCell(`H${dn}`).value=Qr[0],mr.getCell(`H${dn}`).font={size:10};const en=mr.getCell(`I${dn}`);en.value=Qr[1],en.numFmt="#,##0",en.font={bold:!0},en.alignment={horizontal:"right"},cn%2===0&&(mr.getCell(`H${dn}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),mr.mergeCells("B18:I18");const Or=mr.getCell("B18");Or.value=" COBERTURA DE STOCK",Or.font={bold:!0,size:12,color:{argb:COLORS.primary}};const Br=50,Ur=Math.round(Lr/100*Br),qr=Br-Ur,Vr="".repeat(Ur)+"".repeat(qr);mr.mergeCells("B19:I19");const Gr=mr.getCell("B19");Gr.value=Vr,Gr.font={size:14,color:{argb:Lr>=50?COLORS.success:COLORS.danger}},Gr.alignment={horizontal:"center"},mr.mergeCells("B20:I20");const $r=mr.getCell("B20");$r.value=`${br} con stock (${Lr.toFixed(1)}%) | ${Sr} sin stock (${Ir.toFixed(1)}%)`,$r.font={size:10,color:{argb:COLORS.gray}},$r.alignment={horizontal:"center"},mr.mergeCells("B22:F22");const Fr=mr.getCell("B22");Fr.value=" TOP 5 REPUESTOS MS COSTOSOS",Fr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Fr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}};const Kr=[...er].sort((Qr,cn)=>cn.total-Qr.total).slice(0,5);["#","Cdigo","Descripcin","Cant.","Total USD"].forEach((Qr,cn)=>{const dn=["B","C","D","E","F"],en=mr.getCell(`${dn[cn]}23`);en.value=Qr,en.font={bold:!0,size:9,color:{argb:COLORS.white}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.gray}},en.alignment={horizontal:"center"}}),Kr.forEach((Qr,cn)=>{const dn=24+cn;mr.getCell(`B${dn}`).value=cn+1,mr.getCell(`C${dn}`).value=Qr.codigoSAP||Qr.codigoBaader,mr.getCell(`D${dn}`).value=Qr.textoBreve.substring(0,30)+(Qr.textoBreve.length>30?"...":""),mr.getCell(`E${dn}`).value=Qr.cantidadSolicitada;const en=mr.getCell(`F${dn}`);en.value=Qr.total,en.numFmt='"$"#,##0.00',en.font={bold:!0,color:{argb:COLORS.success}},cn%2===0&&["B","C","D","E","F"].forEach(an=>{mr.getCell(`${an}${dn}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}}})}),mr.mergeCells("H22:I22");const Zr=mr.getCell("H22");Zr.value=" RESUMEN RPIDO",Zr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Zr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}};const nn=[["Repuestos Totales",fr],["Valor Total",vr],["Urgentes (sin stock)",Sr],["Con documentacin",jr+Cr],["Tags utilizados",Nr.size]];if(["Concepto","Valor"].forEach((Qr,cn)=>{const dn=["H","I"],en=mr.getCell(`${dn[cn]}23`);en.value=Qr,en.font={bold:!0,size:9,color:{argb:COLORS.white}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.gray}},en.alignment={horizontal:"center"}}),nn.forEach((Qr,cn)=>{const dn=24+cn;mr.getCell(`H${dn}`).value=Qr[0],mr.getCell(`H${dn}`).font={size:10};const en=mr.getCell(`I${dn}`);en.value=Qr[1],cn===1?en.numFmt='"$"#,##0.00':en.numFmt="#,##0",en.font={bold:!0},en.alignment={horizontal:"right"},cn%2===0&&(mr.getCell(`H${dn}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},en.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),sr)for(let Qr=9;Qr<=15;Qr++)["B","C","E","F","H","I"].forEach(cn=>{const dn=mr.getCell(`${cn}${Qr}`);dn.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}if(nr){const mr=er.filter(fr=>fr.cantidadStockBodega===0);if(mr.length>0){const fr=or.addWorksheet("Sin Stock",{views:[{state:"frozen",xSplit:0,ySplit:1}]});if(fr.columns=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16},{header:"Tags",key:"tags",width:25}],sr){const yr=fr.getRow(1);yr.font={bold:!0,color:{argb:COLORS.white}},yr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.danger}},yr.alignment={vertical:"middle",horizontal:"center"}}mr.forEach((yr,vr)=>{var Sr;const br=fr.addRow({codigoSAP:yr.codigoSAP,codigoBaader:yr.codigoBaader,descripcion:yr.textoBreve,cantidadSolicitada:yr.cantidadSolicitada,valorUnitario:yr.valorUnitario,total:yr.total,tags:((Sr=yr.tags)==null?void 0:Sr.length)>0?yr.tags.join(", "):null});br.getCell("valorUnitario").numFmt='"$"#,##0.00',br.getCell("total").numFmt='"$"#,##0.00',sr&&vr%2===1&&(br.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}})});const gr=fr.addRow({codigoSAP:null,codigoBaader:null,descripcion:`TOTAL (${mr.length} repuestos)`,cantidadSolicitada:mr.reduce((yr,vr)=>yr+vr.cantidadSolicitada,0),valorUnitario:null,total:mr.reduce((yr,vr)=>yr+vr.total,0),tags:null});sr&&(gr.font={bold:!0},gr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}}),gr.getCell("total").numFmt='"$"#,##0.00'}}if(ir){const mr=new Set;if(er.forEach(fr=>{var gr;return(gr=fr.tags)==null?void 0:gr.forEach(yr=>mr.add(yr))}),mr.size>0){const fr=or.addWorksheet("Por Tags");if(fr.columns=[{header:"Tag",key:"tag",width:25},{header:"Cantidad Repuestos",key:"cantidad",width:18},{header:"Cant. Solicitada",key:"cantSolicitada",width:15},{header:"Stock Total",key:"stockTotal",width:12},{header:"Valor Total (USD)",key:"valorTotal",width:16}],sr){const gr=fr.getRow(1);gr.font={bold:!0,color:{argb:COLORS.white}},gr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primary}},gr.alignment={vertical:"middle",horizontal:"center"}}Array.from(mr).sort().forEach((gr,yr)=>{const vr=er.filter(Sr=>{var jr;return(jr=Sr.tags)==null?void 0:jr.includes(gr)}),br=fr.addRow({tag:gr,cantidad:vr.length,cantSolicitada:vr.reduce((Sr,jr)=>Sr+jr.cantidadSolicitada,0),stockTotal:vr.reduce((Sr,jr)=>Sr+jr.cantidadStockBodega,0),valorTotal:vr.reduce((Sr,jr)=>Sr+jr.total,0)});br.getCell("valorTotal").numFmt='"$"#,##0.00',sr&&yr%2===1&&(br.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),fr.autoFilter={from:{row:1,column:1},to:{row:mr.size+1,column:5}}}}const ur=await or.xlsx.writeBuffer(),pr=new Blob([ur],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});FileSaver_minExports.saveAs(pr,`${tr}.xlsx`)}async function exportToPDF(er,e={},tr){const{includeCharts:rr=!0,filename:nr="repuestos_baader_200"}=e,ir=new E("p","mm","a4"),sr=ir.internal.pageSize.getWidth(),or=ir.internal.pageSize.getHeight(),ar=8,lr=sr-2*ar,cr=await preloadImagesWithDimensions(er);console.log("Imgenes cargadas:",cr.size),ir.setFontSize(16),ir.setFont("helvetica","bold"),ir.setTextColor(30,64,175),ir.text("Repuestos Baader 200",sr/2,20,{align:"center"}),ir.setFontSize(10),ir.setFont("helvetica","normal"),ir.setTextColor(100,100,100),ir.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,sr/2,28,{align:"center"});const dr=er.reduce((br,Sr)=>br+Sr.cantidadSolicitada,0),hr=er.reduce((br,Sr)=>br+Sr.cantidadStockBodega,0),ur=er.reduce((br,Sr)=>br+Sr.total,0),pr=er.filter(br=>br.imagenesManual.length>0).length,mr=er.filter(br=>br.fotosReales.length>0).length,fr=er.filter(br=>br.cantidadStockBodega>0).length,gr=er.length-fr;let yr=38;if(rr){const br=ar+5,Sr=38,jr=35,Cr=40;ir.setFontSize(9),ir.setFont("helvetica","bold"),ir.setTextColor(60,60,60),ir.text("Cantidad vs Stock",br+jr,Sr-3,{align:"center"});const Pr=Math.max(dr,hr,1),Rr=dr/Pr*Cr,Lr=hr/Pr*Cr;ir.setFillColor(59,130,246),ir.roundedRect(br,Sr+Cr-Rr,15,Rr,1,1,"F"),ir.setFontSize(7),ir.setTextColor(59,130,246),ir.text(dr.toString(),br+7.5,Sr+Cr-Rr-2,{align:"center"}),ir.setFillColor(34,197,94),ir.roundedRect(br+20,Sr+Cr-Lr,15,Lr,1,1,"F"),ir.setTextColor(34,197,94),ir.text(hr.toString(),br+27.5,Sr+Cr-Lr-2,{align:"center"}),ir.setFontSize(6),ir.setTextColor(80,80,80),ir.text("Solicitada",br+7.5,Sr+Cr+5,{align:"center"}),ir.text("Stock",br+27.5,Sr+Cr+5,{align:"center"});const Ir=sr/2,Nr=Sr+20,Ar=18;ir.setFontSize(9),ir.setFont("helvetica","bold"),ir.setTextColor(60,60,60),ir.text("Documentacin",Ir,Sr-3,{align:"center"});const Dr=er.length;if(Dr>0){const Er=pr-er.filter(qr=>qr.imagenesManual.length>0&&qr.fotosReales.length>0).length,xr=mr-er.filter(qr=>qr.imagenesManual.length>0&&qr.fotosReales.length>0).length,Mr=er.filter(qr=>qr.imagenesManual.length>0&&qr.fotosReales.length>0).length,zr=er.length-pr-xr;let Or=-Math.PI/2;const Br=[{value:Mr,color:[34,197,94],label:"Ambas"},{value:Er,color:[59,130,246],label:"Manual"},{value:xr,color:[168,85,247],label:"Real"},{value:Math.max(0,zr),color:[209,213,219],label:"Sin img"}].filter(qr=>qr.value>0);Br.forEach(qr=>{const Vr=qr.value/Dr*2*Math.PI,Gr=Or+Vr;ir.setFillColor(qr.color[0],qr.color[1],qr.color[2]);const $r=30,Fr=[[Ir,Nr]];for(let Zr=0;Zr<=$r;Zr++){const nn=Or+Vr*Zr/$r;Fr.push([Ir+Math.cos(nn)*Ar,Nr+Math.sin(nn)*Ar])}Fr.push([Ir,Nr]),ir.setDrawColor(255,255,255),ir.setLineWidth(.5);let Kr=`${Fr[0][0]} ${Fr[0][1]} m`;for(let Zr=1;Zr<Fr.length;Zr++)Kr+=` ${Fr[Zr][0]} ${Fr[Zr][1]} l`;for(let Zr=0;Zr<$r;Zr++){const nn=Or+Vr*Zr/$r,Qr=Or+Vr*(Zr+1)/$r;ir.triangle(Ir,Nr,Ir+Math.cos(nn)*Ar,Nr+Math.sin(nn)*Ar,Ir+Math.cos(Qr)*Ar,Nr+Math.sin(Qr)*Ar,"F")}Or=Gr});let Ur=Sr+Cr+3;ir.setFontSize(6),Br.forEach((qr,Vr)=>{const Gr=Ir-20+Vr%2*25,$r=Ur+Math.floor(Vr/2)*6;ir.setFillColor(qr.color[0],qr.color[1],qr.color[2]),ir.rect(Gr,$r-2,3,3,"F"),ir.setTextColor(80,80,80),ir.text(`${qr.label}: ${qr.value}`,Gr+4,$r,{align:"left"})})}const Tr=sr-ar-45;ir.setFontSize(9),ir.setFont("helvetica","bold"),ir.setTextColor(60,60,60),ir.text("Disponibilidad",Tr+20,Sr-3,{align:"center"});const _r=er.length>0?fr/er.length*100:0,wr=Sr+5;ir.setFillColor(229,231,235),ir.roundedRect(Tr,wr,40,8,2,2,"F"),ir.setFillColor(34,197,94),ir.roundedRect(Tr,wr,40*(_r/100),8,2,2,"F"),ir.setFontSize(7),ir.setFont("helvetica","bold"),ir.setTextColor(255,255,255),_r>20&&ir.text(`${Math.round(_r)}%`,Tr+20,wr+5.5,{align:"center"}),ir.setFontSize(6),ir.setTextColor(34,197,94),ir.text(`${fr} con stock`,Tr+20,wr+14,{align:"center"}),ir.setTextColor(239,68,68),ir.text(`${gr} sin stock`,Tr+20,wr+19,{align:"center"}),ir.setFillColor(30,64,175),ir.roundedRect(Tr,wr+26,40,14,2,2,"F"),ir.setFontSize(7),ir.setFont("helvetica","bold"),ir.setTextColor(255,255,255),ir.text("VALOR TOTAL",Tr+20,wr+32,{align:"center"}),ir.setFontSize(8),ir.text(`$${ur.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,Tr+20,wr+38,{align:"center"}),yr=Sr+Cr+20}ir.setFontSize(10),ir.setFont("helvetica","bold"),ir.setTextColor(30,64,175),ir.text("Resumen",sr/2,yr,{align:"center"}),autoTable(ir,{startY:yr+5,head:[["Concepto","Valor"]],body:[["Total Repuestos",er.length.toString()],["Cant. Solicitada Total",dr.toString()],["Stock Bodega Total",hr.toString()],["Valor Total (USD)",`$${ur.toLocaleString("en-US",{minimumFractionDigits:2})}`],["Con Imgenes Manual",`${pr} (${Math.round(pr/er.length*100)}%)`],["Con Fotos Reales",`${mr} (${Math.round(mr/er.length*100)}%)`]],theme:"striped",headStyles:{fillColor:[30,64,175]},margin:{left:ar+30,right:ar+30},styles:{fontSize:9}}),ir.addPage(),ir.setFontSize(12),ir.setFont("helvetica","bold"),ir.setTextColor(30,64,175),ir.text("Detalle de Repuestos",sr/2,12,{align:"center"}),ir.setFontSize(8),ir.setFont("helvetica","normal"),ir.setTextColor(100,100,100),ir.text(`${er.length} repuestos`,sr/2,17,{align:"center"});let vr=22;for(let br=0;br<er.length;br++){const Sr=er[br],jr=[...Sr.imagenesManual,...Sr.fotosReales],Cr=jr.length>0,Pr=Cr?42:26;vr+Pr>or-10&&(ir.addPage(),vr=10);const Rr=Cr?lr*.35:lr,Lr=ar+Rr,Ir=lr-Rr;ir.setDrawColor(200,200,200),ir.setFillColor(255,255,255),ir.roundedRect(ar,vr,lr,Pr,1,1,"FD");const Nr=ar+2;let Ar=vr+5;ir.setFontSize(9),ir.setFont("helvetica","bold"),ir.setTextColor(30,64,175),ir.text(`N Parte Manual: ${Sr.codigoBaader||"-"}`,Nr,Ar),Ar+=4,ir.setFontSize(6),ir.setFont("helvetica","bold"),ir.setTextColor(80,80,80),ir.text("Cd. SAP: ",Nr,Ar),ir.setFont("helvetica","normal"),ir.text(Sr.codigoSAP||"-",Nr+ir.getTextWidth("Cd. SAP: "),Ar),Ar+=4,ir.setFontSize(6),ir.setTextColor(50,50,50);const Dr=Rr-4,Tr=ir.splitTextToSize(Sr.textoBreve||"",Dr);ir.text(Tr.slice(0,2),Nr,Ar),Ar+=Math.min(Tr.length,2)*2.5+2,ir.setFontSize(6),ir.setFont("helvetica","bold"),ir.setTextColor(80,80,80),ir.text("Cantidad: ",Nr,Ar),ir.setFont("helvetica","normal"),ir.text(`${Sr.cantidadSolicitada}`,Nr+ir.getTextWidth("Cantidad: "),Ar),Ar+=3,ir.setFont("helvetica","bold"),ir.text("V. Unitario: ",Nr,Ar),ir.setFont("helvetica","normal"),ir.text(`$${formatNumber(Sr.valorUnitario)}`,Nr+ir.getTextWidth("V. Unitario: "),Ar),Ar+=3,ir.setFont("helvetica","bold"),ir.text("Total: ",Nr,Ar),ir.setFont("helvetica","normal"),ir.text(`$${formatNumber(Sr.total)}`,Nr+ir.getTextWidth("Total: "),Ar);const _r=Nr+28;ir.setFont("helvetica","bold"),ir.text("Stock: ",_r,Ar);const wr=Sr.cantidadStockBodega>0?[0,130,0]:[180,0,0];if(ir.setTextColor(wr[0],wr[1],wr[2]),ir.setFont("helvetica","bold"),ir.text(`${Sr.cantidadStockBodega}`,_r+ir.getTextWidth("Stock: "),Ar),Cr){const xr=Lr+2,Mr=Ir-2*2,zr=Pr-2*2,Or=vr+2;if(jr.length===1){const Br=Math.min(Mr*.85,zr-4),Ur=cr.get(jr[0].url),{w:qr,h:Vr}=calculateFitDimensions(Ur,Br,Br),Gr=xr+(Mr-qr)/2,$r=Or+(zr-Vr)/2-1;drawImageWithAspectRatio(ir,cr,jr[0].url,Gr,$r,qr,Vr),ir.setFontSize(4),ir.setTextColor(130,130,130),ir.setFont("helvetica","normal");const Fr=jr[0].tipo==="manual"?"Manual":"Real";ir.text(Fr,Gr+qr/2,$r+Vr+2.5,{align:"center"})}else{const Ur=Math.min((Mr-3)/2-2,zr-6),qr=cr.get(jr[0].url),Vr=jr[1]?cr.get(jr[1].url):null,Gr=calculateFitDimensions(qr,Ur,Ur),$r=Vr?calculateFitDimensions(Vr,Ur,Ur):Gr,Fr=Gr.w+$r.w+3,Kr=xr+(Mr-Fr)/2,Zr=Math.max(Gr.h,$r.h),nn=Or+(zr-Zr-4)/2,Qr=nn+(Zr-Gr.h)/2;if(drawImageWithAspectRatio(ir,cr,jr[0].url,Kr,Qr,Gr.w,Gr.h),ir.setFontSize(4),ir.setTextColor(130,130,130),ir.setFont("helvetica","normal"),ir.text(jr[0].tipo==="manual"?"Manual":"Real",Kr+Gr.w/2,Qr+Gr.h+2.5,{align:"center"}),jr[1]){const cn=Kr+Gr.w+3,dn=nn+(Zr-$r.h)/2;drawImageWithAspectRatio(ir,cr,jr[1].url,cn,dn,$r.w,$r.h),ir.text(jr[1].tipo==="manual"?"Manual":"Real",cn+$r.w/2,dn+$r.h+2.5,{align:"center"})}jr.length>2&&(ir.setFontSize(5),ir.setTextColor(100,100,100),ir.text(`+${jr.length-2}`,xr+Mr-5,vr+Pr-2))}}20+Math.round(br/er.length*75),vr+=Pr+2}ir.save(`${nr}.pdf`)}function calculateFitDimensions(er,e,tr){if(!er)return{w:e,h:tr};const rr=er.width/er.height;let nr=e,ir=e/rr;return ir>tr&&(ir=tr,nr=tr*rr),{w:nr,h:ir}}function drawImageWithAspectRatio(er,e,tr,rr,nr,ir,sr){const or=e.get(tr);if(or)try{const ar=or.base64.includes("image/png")?"PNG":"JPEG";er.addImage(or.base64,ar,rr,nr,ir,sr);return}catch(ar){console.error("Error agregando imagen al PDF:",ar)}er.setFillColor(245,245,245),er.setDrawColor(220,220,220),er.roundedRect(rr,nr,ir,sr,1,1,"FD"),er.setFontSize(5),er.setTextColor(180,180,180),er.text("Sin img",rr+ir/2,nr+sr/2+1,{align:"center"})}const PDFViewer=reactExports.lazy(()=>__vitePreload(()=>import("./PDFViewer-Cr7H0D_X.js"),__vite__mapDeps([0,1])).then(er=>({default:er.PDFViewer}))),PDFMarkerEditor=reactExports.lazy(()=>__vitePreload(()=>import("./PDFMarkerEditor-DCjrxmL0.js"),__vite__mapDeps([2,1])).then(er=>({default:er.PDFMarkerEditor}))),PDFLoadingFallback=()=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-10 h-10 text-primary-600 animate-spin mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando visor de PDF..."})]})});function Dashboard(){const{user:er,signOut:e}=useAuth(),{repuestos:tr,loading:rr,createRepuesto:nr,updateRepuesto:ir,deleteRepuesto:sr,getHistorial:or,importRepuestos:ar,renameTag:lr,deleteTag:cr}=useRepuestos(),{uploadImage:dr,getManualURL:hr}=useStorage(),{lastSelectedRepuestoId:ur,setLastSelectedRepuesto:pr}=useLocalStorage(),{toasts:mr,removeToast:fr,success:gr,error:yr}=useToast(),{toggleTheme:vr,isDark:br}=useTheme(),[Sr,jr]=reactExports.useState(null),[Cr,Pr]=reactExports.useState(null),[Rr,Lr]=reactExports.useState(null),[Ir,Nr]=reactExports.useState(null),[Ar,Dr]=reactExports.useState(!1),[Tr,_r]=reactExports.useState("create"),[wr,Er]=reactExports.useState("hidden"),[xr,Mr]=reactExports.useState("manual"),[zr,Or]=reactExports.useState(null),[Br,Ur]=reactExports.useState(),[qr,Vr]=reactExports.useState(),[Gr,$r]=reactExports.useState(null),Fr=usePDFPreloader(zr,3e3),[Kr,Zr]=reactExports.useState(!1),[nn,Qr]=reactExports.useState(!1),[cn,dn]=reactExports.useState(!1),[en,an]=reactExports.useState(!1),[tn,sn]=reactExports.useState("repuestos"),[fn,pn]=reactExports.useState([]),[yn,Cn]=reactExports.useState(!1),[Rn,En]=reactExports.useState(!0),[zn,Bn]=reactExports.useState(!1),[rs,cs]=reactExports.useState("completo"),[_s,qn]=reactExports.useState(!0),[vs,fs]=reactExports.useState(!0),[xs,Vn]=reactExports.useState(!0),[On,Mn]=reactExports.useState(!0),[ds,In]=reactExports.useState(!1),[ss,bn]=reactExports.useState(!1),[$n,Un]=reactExports.useState(!1);reactExports.useEffect(()=>{hr().then(_n=>{_n&&Or(_n)})},[hr]),reactExports.useEffect(()=>{Fr.isReady&&Fr.pdf&&zr&&(setGlobalPDFCache(zr,Fr.pdf,Fr.textContent),console.log("[Dashboard] PDF manual guardado en cache global "))},[Fr.isReady,Fr.pdf,Fr.textContent,zr]),reactExports.useEffect(()=>{if(ur&&tr.length>0&&!Sr){const _n=tr.find(Hn=>Hn.id===ur);_n&&(jr(_n),Er("gallery"))}},[ur,tr,Sr]),reactExports.useEffect(()=>{pr((Sr==null?void 0:Sr.id)||null)},[Sr,pr]),reactExports.useEffect(()=>{const _n=Hn=>{const bs=document.activeElement;(bs==null?void 0:bs.tagName)==="INPUT"||(bs==null?void 0:bs.tagName)==="TEXTAREA"||((Hn.ctrlKey||Hn.metaKey)&&Hn.key==="n"&&(Hn.preventDefault(),hs()),(Hn.ctrlKey||Hn.metaKey)&&Hn.key==="e"&&(Hn.preventDefault(),Os()),(Hn.ctrlKey||Hn.metaKey)&&Hn.key==="p"&&(Hn.preventDefault(),qs()),(Hn.ctrlKey||Hn.metaKey)&&Hn.key==="m"&&(Hn.preventDefault(),Er(wr==="pdf"?"hidden":"pdf")),Hn.key==="Escape"&&(Ar?Dr(!1):zn?Bn(!1):yn?Cn(!1):ds?In(!1):wr!=="hidden"&&Er("hidden")))};return window.addEventListener("keydown",_n),()=>window.removeEventListener("keydown",_n)},[wr,Ar,zn,yn,ds]);const Kn=_n=>{jr(_n),_n?(Er("gallery"),Mr("manual")):Er("hidden")},hs=()=>{Pr(null),_r("create"),Dr(!0)},ps=_n=>{Pr(_n),_r("edit"),Dr(!0)},An=async _n=>{try{Tr==="edit"&&Cr?(await ir(Cr.id,_n,Cr),gr("Repuesto actualizado correctamente")):(await nr(_n),gr("Repuesto creado correctamente")),Dr(!1)}catch(Hn){throw yr("Error al guardar el repuesto"),Hn}},xn=_n=>{Lr(_n)},jn=async()=>{if(Rr){Qr(!0);try{await sr(Rr.id),gr("Repuesto eliminado"),(Sr==null?void 0:Sr.id)===Rr.id&&(jr(null),Er("hidden"))}catch{yr("Error al eliminar el repuesto")}finally{Qr(!1),Lr(null)}}},Ln=_n=>{if(jr(_n),Er("pdf"),_n.vinculosManual&&_n.vinculosManual.length>0){const Hn=_n.vinculosManual[0];Ur(Hn.pagina),Vr(Hn)}else Ur(void 0),Vr(void 0)},Yn=_n=>{jr(_n),Er("gallery"),Mr("real")},Jn=(_n,Hn)=>{$r(_n),jr(_n),Dn(Hn||null),Er("marker-editor")},[Sn,Dn]=reactExports.useState(null),Wn=async _n=>{if(!Gr)return;const Hn=Gr.vinculosManual||[];if(Sn){const bs=Hn.map(Es=>Es.id===Sn.id?{..._n,id:Sn.id}:Es);await ir(Gr.id,{vinculosManual:bs}),gr("Marcador actualizado correctamente"),Vr({..._n,id:Sn.id})}else{const bs={..._n,id:Date.now().toString()};await ir(Gr.id,{vinculosManual:[...Hn,bs]}),gr("Marcador guardado - Ahora puedes ver este repuesto en el manual"),Vr(bs)}Er("pdf"),$r(null),Dn(null),Ur(_n.pagina)},_i=async(_n,Hn)=>{const Es=(_n.vinculosManual||[]).filter($s=>$s.id!==Hn);await ir(_n.id,{vinculosManual:Es}),gr("Marcador eliminado"),Vr(void 0)},Cs=_n=>{Nr(_n)},us=async(_n,Hn,bs)=>{const Es=await dr(_n,Hn,bs),$s=tr.find(Rs=>Rs.id===Hn);if($s){const Rs=bs==="manual"?$s.imagenesManual:$s.fotosReales,Ns=[...Rs,{...Es,orden:Rs.length}];await ir(Hn,{[bs==="manual"?"imagenesManual":"fotosReales"]:Ns}),gr("Imagen agregada correctamente")}return Es},ws=async(_n,Hn)=>{const bs=Hn.tipo,$s=(bs==="manual"?_n.imagenesManual:_n.fotosReales).filter(Rs=>Rs.id!==Hn.id);await ir(_n.id,{[bs==="manual"?"imagenesManual":"fotosReales"]:$s}),gr("Imagen eliminada")},Ps=async(_n,Hn)=>{const bs=Hn.tipo,$s=(bs==="manual"?_n.imagenesManual:_n.fotosReales).map(Rs=>({...Rs,esPrincipal:Rs.id===Hn.id}));await ir(_n.id,{[bs==="manual"?"imagenesManual":"fotosReales"]:$s})},Ts=async(_n,Hn)=>{var Es;const bs=((Es=Hn[0])==null?void 0:Es.tipo)||"manual";await ir(_n.id,{[bs==="manual"?"imagenesManual":"fotosReales"]:Hn})},Ls=reactExports.useCallback(async(_n,Hn)=>{if(!Sr)return;const Es=await(await fetch(_n)).blob(),$s=new File([Es],`manual_page_${Hn}.png`,{type:"image/png"});await us($s,Sr.id,"manual");const Rs=Sr.vinculosManual||[];await ir(Sr.id,{vinculosManual:[...Rs,{id:Date.now().toString(),pagina:Hn,forma:"rectangulo",color:"rgba(239, 68, 68, 0.4)",descripcion:`Pgina ${Hn}`}]}),gr(`Captura de pgina ${Hn} guardada`)},[Sr,ir,gr]),Os=()=>{Bn(!0)},zs=()=>{const _n=fn.length>0?fn:tr;exportToExcel(_n,{formato:rs,incluirResumen:_s,incluirSinStock:vs,incluirPorTags:xs,incluirEstilos:On}),gr(`Excel exportado con ${_n.length} repuestos (formato ${rs==="simple"?"simple":"completo"})`),Bn(!1)},qs=()=>{Cn(!0)},Ys=()=>{const _n=fn.length>0?fn:tr;exportToPDF(_n,{includeCharts:Rn}),gr(`PDF exportado con ${_n.length} repuestos`),Cn(!1)},$a=async _n=>{try{await ar(_n),gr(`${_n.length} repuestos importados correctamente`)}catch(Hn){throw yr("Error al importar repuestos"),Hn}},eo=()=>{bn(!0);try{const _n={version:APP_VERSION,fecha:new Date().toISOString(),totalRepuestos:tr.length,repuestos:tr.map($s=>({...$s,id:$s.id}))},Hn=new Blob([JSON.stringify(_n,null,2)],{type:"application/json"}),bs=URL.createObjectURL(Hn),Es=document.createElement("a");Es.href=bs,Es.download=`baader200_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Es),Es.click(),document.body.removeChild(Es),URL.revokeObjectURL(bs),gr(`Backup exportado: ${tr.length} repuestos`),In(!1)}catch{yr("Error al crear backup")}finally{bn(!1)}},mo=async _n=>{var bs;const Hn=(bs=_n.target.files)==null?void 0:bs[0];if(Hn){bn(!0);try{const Es=await Hn.text(),$s=JSON.parse(Es);if(!$s.repuestos||!Array.isArray($s.repuestos))throw new Error("Formato de backup invlido");const Rs=$s.repuestos.map(Ns=>({codigoSAP:Ns.codigoSAP||"",codigoBaader:Ns.codigoBaader||"",textoBreve:Ns.textoBreve||"",descripcion:Ns.descripcion||"",nombreManual:Ns.nombreManual||"",cantidadSolicitada:Ns.cantidadSolicitada||0,cantidadStockBodega:Ns.cantidadStockBodega||0,valorUnitario:Ns.valorUnitario||0,tags:Ns.tags||[],vinculosManual:Ns.vinculosManual||[],imagenesManual:Ns.imagenesManual||[],fotosReales:Ns.fotosReales||[]}));await ar(Rs),gr(`Backup restaurado: ${Rs.length} repuestos importados`),In(!1)}catch{yr("Error al restaurar backup: archivo invlido")}finally{bn(!1),_n.target.value=""}}};return rr?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"spinner mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando repuestos..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors",children:[jsxRuntimeExports.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg flex items-center gap-2",children:["Baader 200",jsxRuntimeExports.jsxs("span",{className:"text-xs font-normal bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded-full",children:["v",APP_VERSION]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gestin de Repuestos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>{Er(wr==="pdf"?"hidden":"pdf")},icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),className:"relative",children:["Manual",Fr.isReady?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Manual precargado - apertura instantnea"}):Fr.loading?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-500 rounded-full animate-pulse",title:"Precargando manual..."}):null]}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:Os,icon:jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-4 h-4"}),children:"Excel"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:qs,icon:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),children:"PDF"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>In(!0),icon:jsxRuntimeExports.jsx(Database,{className:"w-4 h-4"}),title:"Backup/Restore datos",children:"Backup"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>Un(!0),icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"}),title:"Ver reportes y anlisis",children:"Reportes"}),tr.length===0&&jsxRuntimeExports.jsx(Button,{variant:"primary",size:"sm",onClick:()=>dn(!0),icon:jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),children:"Importar"}),jsxRuntimeExports.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-700"}),jsxRuntimeExports.jsx("button",{onClick:vr,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors",title:br?"Cambiar a modo claro":"Cambiar a modo oscuro",children:br?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsx("span",{children:er==null?void 0:er.email}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",title:"Cerrar sesin",children:jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>Zr(!0),children:jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})})]})}),Kr&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Zr(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-xl animate-slideInRight",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Men"}),jsxRuntimeExports.jsx("button",{onClick:()=>Zr(!1),children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{Er("pdf"),Zr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Ver Manual"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Os(),Zr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Exportar Excel"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{qs(),Zr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Exportar PDF"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{In(!0),Zr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsx("span",{children:"Backup/Restore"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Un(!0),Zr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsx("span",{children:"Reportes y Anlisis"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{vr()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[br?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5 text-yellow-500"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:br?"Modo claro":"Modo oscuro"})]}),jsxRuntimeExports.jsx("hr",{className:"my-4 dark:border-gray-700"}),jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:er==null?void 0:er.email}),jsxRuntimeExports.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Cerrar sesin"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{sn("repuestos"),wr==="hidden"&&Er("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${tn==="repuestos"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),"Repuestos"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{sn("stats"),Er("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${tn==="stats"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"}),"Estadsticas"]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex overflow-hidden",children:tn==="stats"?jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsx(StatsPanel,{repuestos:tr})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:`
                flex-1 min-w-0 overflow-hidden
                ${wr!=="hidden"?"hidden md:block md:w-1/2 lg:w-3/5":"w-full"}
              `,children:jsxRuntimeExports.jsx(RepuestosTable,{repuestos:tr,selectedRepuesto:Sr,onSelect:Kn,onEdit:ps,onDelete:xn,onViewManual:Ln,onViewPhotos:Yn,onViewHistory:Cs,onAddNew:hs,onMarkInManual:Jn,getHistorial:or,onManageTags:()=>an(!0),onFilteredChange:pn,compactMode:wr!=="hidden"})}),wr!=="hidden"&&jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-l border-gray-200 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Er("gallery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${wr==="gallery"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(Image$1,{className:"w-4 h-4"}),"Imgenes"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Er("pdf"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${wr==="pdf"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Manual"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Er("hidden"),className:"md:hidden px-3 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),wr==="gallery"&&Sr&&jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Mr("manual"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${xr==="manual"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Del Manual (",Sr.imagenesManual.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Mr("real"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${xr==="real"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Fotos Reales (",Sr.fotosReales.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:wr==="gallery"?jsxRuntimeExports.jsx(ImageGallery,{repuesto:Sr,tipo:xr,onUpload:us,onDelete:ws,onSetPrimary:Ps,onUpdateOrder:Ts}):wr==="marker-editor"&&Gr&&zr?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PDFLoadingFallback,{}),children:jsxRuntimeExports.jsx(PDFMarkerEditor,{pdfUrl:zr,repuestoId:Gr.id,repuestoDescripcion:Gr.descripcion||Gr.textoBreve,existingMarker:Sn||void 0,onSave:Wn,onCancel:()=>{Er("pdf"),$r(null),Dn(null)},repuestos:tr,onSelectRepuesto:_n=>{$r(_n),jr(_n)}})}):jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PDFLoadingFallback,{}),children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:zr,targetPage:Br,marker:qr,onCapture:Sr?Ls:void 0,onEditMarker:Sr?_n=>Jn(Sr,_n):void 0,onDeleteMarker:Sr?_n=>_i(Sr,_n.id):void 0,onAddMarker:Sr?()=>Jn(Sr):void 0,preloadedPDF:Fr.pdf,preloadedText:Fr.textContent})})})]})]})})]}),jsxRuntimeExports.jsx(RepuestoForm,{isOpen:Ar,onClose:()=>Dr(!1),onSave:An,repuesto:Cr}),jsxRuntimeExports.jsx(HistorialModal,{isOpen:!!Ir,onClose:()=>Nr(null),repuesto:Ir,getHistorial:or}),jsxRuntimeExports.jsx(DeleteConfirmModal,{isOpen:!!Rr,onClose:()=>Lr(null),onConfirm:jn,repuesto:Rr,loading:nn}),jsxRuntimeExports.jsx(ImportModal,{isOpen:cn,onClose:()=>dn(!1),onImport:$a}),jsxRuntimeExports.jsx(TagManagerModal,{isOpen:en,onClose:()=>an(!1),repuestos:tr,onRenameTag:lr,onDeleteTag:cr}),yn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Cn(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-primary-600"}),"Exportar PDF"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Cn(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se exportarn ",fn.length>0?fn.length:tr.length," repuestos"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Rn,onChange:_n=>En(_n.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:"Incluir grficos"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Barras, circular e indicadores en el resumen"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Cn(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{onClick:Ys,className:"px-4 py-2 text-sm text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Exportar"]})]})]})}),zn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Bn(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-5 h-5 text-green-600"}),"Exportar Excel"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Bn(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Se exportarn ",fn.length>0?fn.length:tr.length," repuestos"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de exportacin"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>cs("simple"),className:`p-3 rounded-lg border-2 text-left transition-all ${rs==="simple"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800",children:"Simple"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Solo datos, 1 hoja"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>cs("completo"),className:`p-3 rounded-lg border-2 text-left transition-all ${rs==="completo"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800",children:"Completo"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Estilos, mltiples hojas"})]})]})]}),rs==="completo"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opciones avanzadas"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:On,onChange:_n=>Mn(_n.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Incluir estilos"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Colores, bordes y formato condicional"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_s,onChange:_n=>qn(_n.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Hoja de resumen"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Estadsticas y totales generales"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:vs,onChange:_n=>fs(_n.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Sin Stock"'}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Lista de repuestos con stock en 0"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xs,onChange:_n=>Vn(_n.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Por Tags"'}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Resumen agrupado por etiquetas"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Bn(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{onClick:zs,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Exportar Excel"]})]})]})}),ds&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>In(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-primary-600"}),"Backup / Restore"]}),jsxRuntimeExports.jsx("button",{onClick:()=>In(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(HardDriveDownload,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-blue-800",children:"Exportar Backup"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Descarga todos los datos en formato JSON (",tr.length," repuestos)"]}),jsxRuntimeExports.jsxs("button",{onClick:eo,disabled:ss,className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[ss?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Descargar Backup"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(HardDriveUpload,{className:"w-8 h-8 text-amber-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-amber-800",children:"Restaurar Backup"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Importar datos desde un archivo JSON de backup"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-500 mt-1",children:" Se agregarn nuevos repuestos (no reemplaza existentes)"}),jsxRuntimeExports.jsxs("label",{className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors inline-flex items-center gap-2 cursor-pointer disabled:opacity-50",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".json",onChange:mo,disabled:ss,className:"hidden"}),ss?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Seleccionar archivo"]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"px-5 py-3 border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Versin actual: ",APP_VERSION,"  ",tr.length," repuestos en la base de datos"]})})]})}),jsxRuntimeExports.jsx(ReportsModal,{isOpen:$n,onClose:()=>Un(!1),repuestos:fn.length>0?fn:tr}),jsxRuntimeExports.jsx(ToastContainer,{toasts:mr,onRemove:fr})]})}function AppContent(){const{user:er,loading:e}=useAuth();return e?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"spinner mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):er?jsxRuntimeExports.jsx(Dashboard,{}):jsxRuntimeExports.jsx(LoginForm,{})}function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(AppContent,{})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$3.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{ChevronLeft as C,LoaderCircle as L,MapPin as M,Plus as P,Search as S,Trash2 as T,X$1 as X,ZoomIn as Z,_typeof as _,ChevronRight as a,Camera as b,createLucideIcon as c,Save as d,commonjsGlobal$2 as e,getDefaultExportFromCjs as f,getGlobalPDFCache as g,jsxRuntimeExports as j,pdfExports as p,reactExports as r};
