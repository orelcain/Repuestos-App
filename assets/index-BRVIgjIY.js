const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PDFViewer-D9QVRcxg.js","assets/pdf-qJW9oGvZ.js","assets/PDFMarkerEditor-DlFoiDIZ.js"])))=>i.map(i=>d[i]);
var _U=Object.defineProperty;var SU=(e,t,r)=>t in e?_U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ew=(e,t,r)=>SU(e,typeof t!="symbol"?t+"":t,r);function kU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var S9={exports:{}},zy={},k9={exports:{}},Er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=Symbol.for("react.element"),EU=Symbol.for("react.portal"),CU=Symbol.for("react.fragment"),TU=Symbol.for("react.strict_mode"),PU=Symbol.for("react.profiler"),NU=Symbol.for("react.provider"),IU=Symbol.for("react.context"),OU=Symbol.for("react.forward_ref"),jU=Symbol.for("react.suspense"),MU=Symbol.for("react.memo"),RU=Symbol.for("react.lazy"),fk=Symbol.iterator;function LU(e){return e===null||typeof e!="object"?null:(e=fk&&e[fk]||e["@@iterator"],typeof e=="function"?e:null)}var A9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E9=Object.assign,C9={};function Od(e,t,r){this.props=e,this.context=t,this.refs=C9,this.updater=r||A9}Od.prototype.isReactComponent={};Od.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T9(){}T9.prototype=Od.prototype;function y3(e,t,r){this.props=e,this.context=t,this.refs=C9,this.updater=r||A9}var b3=y3.prototype=new T9;b3.constructor=y3;E9(b3,Od.prototype);b3.isPureReactComponent=!0;var hk=Array.isArray,P9=Object.prototype.hasOwnProperty,w3={current:null},N9={key:!0,ref:!0,__self:!0,__source:!0};function I9(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)P9.call(t,n)&&!N9.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:u0,type:e,key:a,ref:s,props:i,_owner:w3.current}}function DU(e,t){return{$$typeof:u0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x3(e){return typeof e=="object"&&e!==null&&e.$$typeof===u0}function FU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dk=/\/+/g;function tw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FU(""+e.key):t.toString(36)}function T1(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case u0:case EU:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+tw(s,0):n,hk(i)?(r="",e!=null&&(r=e.replace(dk,"$&/")+"/"),T1(i,t,r,"",function(u){return u})):i!=null&&(x3(i)&&(i=DU(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",hk(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+tw(a,o);s+=T1(a,t,r,l,i)}else if(l=LU(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+tw(a,o++),s+=T1(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tg(e,t,r){if(e==null)return e;var n=[],i=0;return T1(e,n,"","",function(a){return t.call(r,a,i++)}),n}function BU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pa={current:null},P1={transition:null},zU={ReactCurrentDispatcher:Pa,ReactCurrentBatchConfig:P1,ReactCurrentOwner:w3};function O9(){throw Error("act(...) is not supported in production builds of React.")}Er.Children={map:Tg,forEach:function(e,t,r){Tg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tg(e,function(){t++}),t},toArray:function(e){return Tg(e,function(t){return t})||[]},only:function(e){if(!x3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Er.Component=Od;Er.Fragment=CU;Er.Profiler=PU;Er.PureComponent=y3;Er.StrictMode=TU;Er.Suspense=jU;Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zU;Er.act=O9;Er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=E9({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=w3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)P9.call(t,l)&&!N9.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:u0,type:e.type,key:i,ref:a,props:n,_owner:s}};Er.createContext=function(e){return e={$$typeof:IU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NU,_context:e},e.Consumer=e};Er.createElement=I9;Er.createFactory=function(e){var t=I9.bind(null,e);return t.type=e,t};Er.createRef=function(){return{current:null}};Er.forwardRef=function(e){return{$$typeof:OU,render:e}};Er.isValidElement=x3;Er.lazy=function(e){return{$$typeof:RU,_payload:{_status:-1,_result:e},_init:BU}};Er.memo=function(e,t){return{$$typeof:MU,type:e,compare:t===void 0?null:t}};Er.startTransition=function(e){var t=P1.transition;P1.transition={};try{e()}finally{P1.transition=t}};Er.unstable_act=O9;Er.useCallback=function(e,t){return Pa.current.useCallback(e,t)};Er.useContext=function(e){return Pa.current.useContext(e)};Er.useDebugValue=function(){};Er.useDeferredValue=function(e){return Pa.current.useDeferredValue(e)};Er.useEffect=function(e,t){return Pa.current.useEffect(e,t)};Er.useId=function(){return Pa.current.useId()};Er.useImperativeHandle=function(e,t,r){return Pa.current.useImperativeHandle(e,t,r)};Er.useInsertionEffect=function(e,t){return Pa.current.useInsertionEffect(e,t)};Er.useLayoutEffect=function(e,t){return Pa.current.useLayoutEffect(e,t)};Er.useMemo=function(e,t){return Pa.current.useMemo(e,t)};Er.useReducer=function(e,t,r){return Pa.current.useReducer(e,t,r)};Er.useRef=function(e){return Pa.current.useRef(e)};Er.useState=function(e){return Pa.current.useState(e)};Er.useSyncExternalStore=function(e,t,r){return Pa.current.useSyncExternalStore(e,t,r)};Er.useTransition=function(){return Pa.current.useTransition()};Er.version="18.3.1";k9.exports=Er;var Y=k9.exports;const Il=yo(Y),UU=kU({__proto__:null,default:Il},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VU=Y,$U=Symbol.for("react.element"),qU=Symbol.for("react.fragment"),HU=Object.prototype.hasOwnProperty,WU=VU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KU={key:!0,ref:!0,__self:!0,__source:!0};function j9(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)HU.call(t,n)&&!KU.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:$U,type:e,key:a,ref:s,props:i,_owner:WU.current}}zy.Fragment=qU;zy.jsx=j9;zy.jsxs=j9;S9.exports=zy;var q=S9.exports,M5={},M9={exports:{}},ps={},R9={exports:{}},L9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,k){var N=_.length;_.push(k);e:for(;0<N;){var $=N-1>>>1,R=_[$];if(0<i(R,k))_[$]=k,_[N]=R,N=$;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var k=_[0],N=_.pop();if(N!==k){_[0]=N;e:for(var $=0,R=_.length,H=R>>>1;$<H;){var K=2*($+1)-1,J=_[K],V=K+1,Z=_[V];if(0>i(J,N))V<R&&0>i(Z,J)?(_[$]=Z,_[V]=N,$=V):(_[$]=J,_[K]=N,$=K);else if(V<R&&0>i(Z,N))_[$]=Z,_[V]=N,$=V;else break e}}return k}function i(_,k){var N=_.sortIndex-k.sortIndex;return N!==0?N:_.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=_)n(u),k.sortIndex=k.expirationTime,t(l,k);else break;k=r(u)}}function x(_){if(g=!1,b(_),!m)if(r(l)!==null)m=!0,w(C);else{var k=r(u);k!==null&&S(x,k.startTime-_)}}function C(_,k){m=!1,g&&(g=!1,v(T),T=-1),d=!0;var N=h;try{for(b(k),f=r(l);f!==null&&(!(f.expirationTime>k)||_&&!L());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var R=$(f.expirationTime<=k);k=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),b(k)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var K=r(u);K!==null&&S(x,K.startTime-k),H=!1}return H}finally{f=null,h=N,d=!1}}var O=!1,I=null,T=-1,M=5,B=-1;function L(){return!(e.unstable_now()-B<M)}function P(){if(I!==null){var _=e.unstable_now();B=_;var k=!0;try{k=I(!0,_)}finally{k?A():(O=!1,I=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,E=j.port2;j.port1.onmessage=P,A=function(){E.postMessage(null)}}else A=function(){p(P,0)};function w(_){I=_,O||(O=!0,A())}function S(_,k){T=p(function(){_(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,w(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var N=h;h=k;try{return _()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var N=h;h=_;try{return k()}finally{h=N}},e.unstable_scheduleCallback=function(_,k,N){var $=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?$+N:$):N=$,_){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=N+R,_={id:c++,callback:k,priorityLevel:_,startTime:N,expirationTime:R,sortIndex:-1},N>$?(_.sortIndex=N,t(u,_),r(l)===null&&_===r(u)&&(g?(v(T),T=-1):g=!0,S(x,N-$))):(_.sortIndex=R,t(l,_),m||d||(m=!0,w(C))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var k=h;return function(){var N=h;h=k;try{return _.apply(this,arguments)}finally{h=N}}}})(L9);R9.exports=L9;var GU=R9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU=Y,fs=GU;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D9=new Set,mm={};function Wf(e,t){ud(e,t),ud(e+"Capture",t)}function ud(e,t){for(mm[e]=t,e=0;e<t.length;e++)D9.add(t[e])}var Ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R5=Object.prototype.hasOwnProperty,YU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pk={},mk={};function ZU(e){return R5.call(mk,e)?!0:R5.call(pk,e)?!1:YU.test(e)?mk[e]=!0:(pk[e]=!0,!1)}function QU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JU(e,t,r,n){if(t===null||typeof t>"u"||QU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Na(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wi[e]=new Na(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wi[t]=new Na(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wi[e]=new Na(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wi[e]=new Na(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wi[e]=new Na(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wi[e]=new Na(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wi[e]=new Na(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wi[e]=new Na(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wi[e]=new Na(e,5,!1,e.toLowerCase(),null,!1,!1)});var _3=/[\-:]([a-z])/g;function S3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_3,S3);Wi[t]=new Na(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_3,S3);Wi[t]=new Na(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_3,S3);Wi[t]=new Na(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wi[e]=new Na(e,1,!1,e.toLowerCase(),null,!1,!1)});Wi.xlinkHref=new Na("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wi[e]=new Na(e,1,!1,e.toLowerCase(),null,!0,!0)});function k3(e,t,r,n){var i=Wi.hasOwnProperty(t)?Wi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JU(t,r,i,n)&&(r=null),n||i===null?ZU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gl=XU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pg=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),A3=Symbol.for("react.strict_mode"),L5=Symbol.for("react.profiler"),F9=Symbol.for("react.provider"),B9=Symbol.for("react.context"),E3=Symbol.for("react.forward_ref"),D5=Symbol.for("react.suspense"),F5=Symbol.for("react.suspense_list"),C3=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),z9=Symbol.for("react.offscreen"),gk=Symbol.iterator;function hp(e){return e===null||typeof e!="object"?null:(e=gk&&e[gk]||e["@@iterator"],typeof e=="function"?e:null)}var On=Object.assign,rw;function Rp(e){if(rw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rw=t&&t[1]||""}return`
`+rw+e}var nw=!1;function iw(e,t){if(!e||nw)return"";nw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{nw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rp(e):""}function eV(e){switch(e.tag){case 5:return Rp(e.type);case 16:return Rp("Lazy");case 13:return Rp("Suspense");case 19:return Rp("SuspenseList");case 0:case 2:case 15:return e=iw(e.type,!1),e;case 11:return e=iw(e.type.render,!1),e;case 1:return e=iw(e.type,!0),e;default:return""}}function B5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lh:return"Fragment";case Rh:return"Portal";case L5:return"Profiler";case A3:return"StrictMode";case D5:return"Suspense";case F5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B9:return(e.displayName||"Context")+".Consumer";case F9:return(e._context.displayName||"Context")+".Provider";case E3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C3:return t=e.displayName||null,t!==null?t:B5(e.type)||"Memo";case Nu:t=e._payload,e=e._init;try{return B5(e(t))}catch{}}return null}function tV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B5(t);case 8:return t===A3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rV(e){var t=U9(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ng(e){e._valueTracker||(e._valueTracker=rV(e))}function V9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U9(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function iv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z5(e,t){var r=t.checked;return On({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=fc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $9(e,t){t=t.checked,t!=null&&k3(e,"checked",t,!1)}function U5(e,t){$9(e,t);var r=fc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V5(e,t.type,r):t.hasOwnProperty("defaultValue")&&V5(e,t.type,fc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function V5(e,t,r){(t!=="number"||iv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Lp=Array.isArray;function Yh(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+fc(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return On({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Lp(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fc(r)}}function q9(e,t){var r=fc(t.value),n=fc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ig,W9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ig=Ig||document.createElement("div"),Ig.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ig.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nV=["Webkit","ms","Moz","O"];Object.keys(Gp).forEach(function(e){nV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gp[t]=Gp[e]})});function K9(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gp.hasOwnProperty(e)&&Gp[e]?(""+t).trim():t+"px"}function G9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=K9(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var iV=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H5(e,t){if(t){if(iV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function W5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K5=null;function T3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G5=null,Zh=null,Qh=null;function xk(e){if(e=h0(e)){if(typeof G5!="function")throw Error(St(280));var t=e.stateNode;t&&(t=Hy(t),G5(e.stateNode,e.type,t))}}function X9(e){Zh?Qh?Qh.push(e):Qh=[e]:Zh=e}function Y9(){if(Zh){var e=Zh,t=Qh;if(Qh=Zh=null,xk(e),t)for(e=0;e<t.length;e++)xk(t[e])}}function Z9(e,t){return e(t)}function Q9(){}var aw=!1;function J9(e,t,r){if(aw)return e(t,r);aw=!0;try{return Z9(e,t,r)}finally{aw=!1,(Zh!==null||Qh!==null)&&(Q9(),Y9())}}function vm(e,t){var r=e.stateNode;if(r===null)return null;var n=Hy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var X5=!1;if(Ol)try{var dp={};Object.defineProperty(dp,"passive",{get:function(){X5=!0}}),window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{X5=!1}function aV(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Xp=!1,av=null,sv=!1,Y5=null,sV={onError:function(e){Xp=!0,av=e}};function oV(e,t,r,n,i,a,s,o,l){Xp=!1,av=null,aV.apply(sV,arguments)}function lV(e,t,r,n,i,a,s,o,l){if(oV.apply(this,arguments),Xp){if(Xp){var u=av;Xp=!1,av=null}else throw Error(St(198));sv||(sv=!0,Y5=u)}}function Kf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _k(e){if(Kf(e)!==e)throw Error(St(188))}function uV(e){var t=e.alternate;if(!t){if(t=Kf(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return _k(i),e;if(a===n)return _k(i),t;a=a.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function tN(e){return e=uV(e),e!==null?rN(e):null}function rN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rN(e);if(t!==null)return t;e=e.sibling}return null}var nN=fs.unstable_scheduleCallback,Sk=fs.unstable_cancelCallback,cV=fs.unstable_shouldYield,fV=fs.unstable_requestPaint,Yn=fs.unstable_now,hV=fs.unstable_getCurrentPriorityLevel,P3=fs.unstable_ImmediatePriority,iN=fs.unstable_UserBlockingPriority,ov=fs.unstable_NormalPriority,dV=fs.unstable_LowPriority,aN=fs.unstable_IdlePriority,Uy=null,zo=null;function pV(e){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(Uy,e,void 0,(e.current.flags&128)===128)}catch{}}var uo=Math.clz32?Math.clz32:vV,mV=Math.log,gV=Math.LN2;function vV(e){return e>>>=0,e===0?32:31-(mV(e)/gV|0)|0}var Og=64,jg=4194304;function Dp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Dp(o):(a&=s,a!==0&&(n=Dp(a)))}else s=r&~i,s!==0?n=Dp(s):a!==0&&(n=Dp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-uo(t),i=1<<r,n|=e[r],t&=~i;return n}function yV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bV(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-uo(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=yV(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Z5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sN(){var e=Og;return Og<<=1,!(Og&4194240)&&(Og=64),e}function sw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function c0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-uo(t),e[t]=r}function wV(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-uo(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function N3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-uo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Zr=0;function oN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lN,I3,uN,cN,fN,Q5=!1,Mg=[],Xu=null,Yu=null,Zu=null,ym=new Map,bm=new Map,Mu=[],xV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kk(e,t){switch(e){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":ym.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bm.delete(t.pointerId)}}function pp(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=h0(t),t!==null&&I3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _V(e,t,r,n,i){switch(t){case"focusin":return Xu=pp(Xu,e,t,r,n,i),!0;case"dragenter":return Yu=pp(Yu,e,t,r,n,i),!0;case"mouseover":return Zu=pp(Zu,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ym.set(a,pp(ym.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bm.set(a,pp(bm.get(a)||null,e,t,r,n,i)),!0}return!1}function hN(e){var t=rf(e.target);if(t!==null){var r=Kf(t);if(r!==null){if(t=r.tag,t===13){if(t=eN(r),t!==null){e.blockedOn=t,fN(e.priority,function(){uN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function N1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=J5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);K5=n,r.target.dispatchEvent(n),K5=null}else return t=h0(r),t!==null&&I3(t),e.blockedOn=r,!1;t.shift()}return!0}function Ak(e,t,r){N1(e)&&r.delete(t)}function SV(){Q5=!1,Xu!==null&&N1(Xu)&&(Xu=null),Yu!==null&&N1(Yu)&&(Yu=null),Zu!==null&&N1(Zu)&&(Zu=null),ym.forEach(Ak),bm.forEach(Ak)}function mp(e,t){e.blockedOn===t&&(e.blockedOn=null,Q5||(Q5=!0,fs.unstable_scheduleCallback(fs.unstable_NormalPriority,SV)))}function wm(e){function t(i){return mp(i,e)}if(0<Mg.length){mp(Mg[0],e);for(var r=1;r<Mg.length;r++){var n=Mg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xu!==null&&mp(Xu,e),Yu!==null&&mp(Yu,e),Zu!==null&&mp(Zu,e),ym.forEach(t),bm.forEach(t),r=0;r<Mu.length;r++)n=Mu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mu.length&&(r=Mu[0],r.blockedOn===null);)hN(r),r.blockedOn===null&&Mu.shift()}var Jh=Gl.ReactCurrentBatchConfig,uv=!0;function kV(e,t,r,n){var i=Zr,a=Jh.transition;Jh.transition=null;try{Zr=1,O3(e,t,r,n)}finally{Zr=i,Jh.transition=a}}function AV(e,t,r,n){var i=Zr,a=Jh.transition;Jh.transition=null;try{Zr=4,O3(e,t,r,n)}finally{Zr=i,Jh.transition=a}}function O3(e,t,r,n){if(uv){var i=J5(e,t,r,n);if(i===null)gw(e,t,n,cv,r),kk(e,n);else if(_V(i,e,t,r,n))n.stopPropagation();else if(kk(e,n),t&4&&-1<xV.indexOf(e)){for(;i!==null;){var a=h0(i);if(a!==null&&lN(a),a=J5(e,t,r,n),a===null&&gw(e,t,n,cv,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else gw(e,t,n,null,r)}}var cv=null;function J5(e,t,r,n){if(cv=null,e=T3(n),e=rf(e),e!==null)if(t=Kf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cv=e,null}function dN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hV()){case P3:return 1;case iN:return 4;case ov:case dV:return 16;case aN:return 536870912;default:return 16}default:return 16}}var qu=null,j3=null,I1=null;function pN(){if(I1)return I1;var e,t=j3,r=t.length,n,i="value"in qu?qu.value:qu.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return I1=i.slice(e,1<n?1-n:void 0)}function O1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rg(){return!0}function Ek(){return!1}function ms(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rg:Ek,this.isPropagationStopped=Ek,this}return On(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),t}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M3=ms(jd),f0=On({},jd,{view:0,detail:0}),EV=ms(f0),ow,lw,gp,Vy=On({},f0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gp&&(gp&&e.type==="mousemove"?(ow=e.screenX-gp.screenX,lw=e.screenY-gp.screenY):lw=ow=0,gp=e),ow)},movementY:function(e){return"movementY"in e?e.movementY:lw}}),Ck=ms(Vy),CV=On({},Vy,{dataTransfer:0}),TV=ms(CV),PV=On({},f0,{relatedTarget:0}),uw=ms(PV),NV=On({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),IV=ms(NV),OV=On({},jd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jV=ms(OV),MV=On({},jd,{data:0}),Tk=ms(MV),RV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DV[e])?!!t[e]:!1}function R3(){return FV}var BV=On({},f0,{key:function(e){if(e.key){var t=RV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=O1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R3,charCode:function(e){return e.type==="keypress"?O1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?O1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zV=ms(BV),UV=On({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pk=ms(UV),VV=On({},f0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R3}),$V=ms(VV),qV=On({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),HV=ms(qV),WV=On({},Vy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KV=ms(WV),GV=[9,13,27,32],L3=Ol&&"CompositionEvent"in window,Yp=null;Ol&&"documentMode"in document&&(Yp=document.documentMode);var XV=Ol&&"TextEvent"in window&&!Yp,mN=Ol&&(!L3||Yp&&8<Yp&&11>=Yp),Nk=" ",Ik=!1;function gN(e,t){switch(e){case"keyup":return GV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dh=!1;function YV(e,t){switch(e){case"compositionend":return vN(t);case"keypress":return t.which!==32?null:(Ik=!0,Nk);case"textInput":return e=t.data,e===Nk&&Ik?null:e;default:return null}}function ZV(e,t){if(Dh)return e==="compositionend"||!L3&&gN(e,t)?(e=pN(),I1=j3=qu=null,Dh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mN&&t.locale!=="ko"?null:t.data;default:return null}}var QV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ok(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QV[e.type]:t==="textarea"}function yN(e,t,r,n){X9(n),t=fv(t,"onChange"),0<t.length&&(r=new M3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zp=null,xm=null;function JV(e){PN(e,0)}function $y(e){var t=zh(e);if(V9(t))return e}function e$(e,t){if(e==="change")return t}var bN=!1;if(Ol){var cw;if(Ol){var fw="oninput"in document;if(!fw){var jk=document.createElement("div");jk.setAttribute("oninput","return;"),fw=typeof jk.oninput=="function"}cw=fw}else cw=!1;bN=cw&&(!document.documentMode||9<document.documentMode)}function Mk(){Zp&&(Zp.detachEvent("onpropertychange",wN),xm=Zp=null)}function wN(e){if(e.propertyName==="value"&&$y(xm)){var t=[];yN(t,xm,e,T3(e)),J9(JV,t)}}function t$(e,t,r){e==="focusin"?(Mk(),Zp=t,xm=r,Zp.attachEvent("onpropertychange",wN)):e==="focusout"&&Mk()}function r$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $y(xm)}function n$(e,t){if(e==="click")return $y(t)}function i$(e,t){if(e==="input"||e==="change")return $y(t)}function a$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ho=typeof Object.is=="function"?Object.is:a$;function _m(e,t){if(ho(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!R5.call(t,i)||!ho(e[i],t[i]))return!1}return!0}function Rk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lk(e,t){var r=Rk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rk(r)}}function xN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _N(){for(var e=window,t=iv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=iv(e.document)}return t}function D3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s$(e){var t=_N(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xN(r.ownerDocument.documentElement,r)){if(n!==null&&D3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Lk(r,a);var s=Lk(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o$=Ol&&"documentMode"in document&&11>=document.documentMode,Fh=null,ex=null,Qp=null,tx=!1;function Dk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tx||Fh==null||Fh!==iv(n)||(n=Fh,"selectionStart"in n&&D3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qp&&_m(Qp,n)||(Qp=n,n=fv(ex,"onSelect"),0<n.length&&(t=new M3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fh)))}function Lg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bh={animationend:Lg("Animation","AnimationEnd"),animationiteration:Lg("Animation","AnimationIteration"),animationstart:Lg("Animation","AnimationStart"),transitionend:Lg("Transition","TransitionEnd")},hw={},SN={};Ol&&(SN=document.createElement("div").style,"AnimationEvent"in window||(delete Bh.animationend.animation,delete Bh.animationiteration.animation,delete Bh.animationstart.animation),"TransitionEvent"in window||delete Bh.transitionend.transition);function qy(e){if(hw[e])return hw[e];if(!Bh[e])return e;var t=Bh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in SN)return hw[e]=t[r];return e}var kN=qy("animationend"),AN=qy("animationiteration"),EN=qy("animationstart"),CN=qy("transitionend"),TN=new Map,Fk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(e,t){TN.set(e,t),Wf(t,[e])}for(var dw=0;dw<Fk.length;dw++){var pw=Fk[dw],l$=pw.toLowerCase(),u$=pw[0].toUpperCase()+pw.slice(1);Ac(l$,"on"+u$)}Ac(kN,"onAnimationEnd");Ac(AN,"onAnimationIteration");Ac(EN,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(CN,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);Wf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fp));function Bk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lV(n,t,void 0,e),e.currentTarget=null}function PN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Bk(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Bk(i,o,u),a=l}}}if(sv)throw e=Y5,sv=!1,Y5=null,e}function gn(e,t){var r=t[sx];r===void 0&&(r=t[sx]=new Set);var n=e+"__bubble";r.has(n)||(NN(t,e,2,!1),r.add(n))}function mw(e,t,r){var n=0;t&&(n|=4),NN(r,e,n,t)}var Dg="_reactListening"+Math.random().toString(36).slice(2);function Sm(e){if(!e[Dg]){e[Dg]=!0,D9.forEach(function(r){r!=="selectionchange"&&(c$.has(r)||mw(r,!1,e),mw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dg]||(t[Dg]=!0,mw("selectionchange",!1,t))}}function NN(e,t,r,n){switch(dN(t)){case 1:var i=kV;break;case 4:i=AV;break;default:i=O3}r=i.bind(null,t,r,e),i=void 0,!X5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function gw(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=rf(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}J9(function(){var u=a,c=T3(r),f=[];e:{var h=TN.get(e);if(h!==void 0){var d=M3,m=e;switch(e){case"keypress":if(O1(r)===0)break e;case"keydown":case"keyup":d=zV;break;case"focusin":m="focus",d=uw;break;case"focusout":m="blur",d=uw;break;case"beforeblur":case"afterblur":d=uw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Ck;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=TV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=$V;break;case kN:case AN:case EN:d=IV;break;case CN:d=HV;break;case"scroll":d=EV;break;case"wheel":d=KV;break;case"copy":case"cut":case"paste":d=jV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Pk}var g=(t&4)!==0,p=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=vm(y,v),x!=null&&g.push(km(y,x,b)))),p)break;y=y.return}0<g.length&&(h=new d(h,m,null,r,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==K5&&(m=r.relatedTarget||r.fromElement)&&(rf(m)||m[jl]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=u,m=m?rf(m):null,m!==null&&(p=Kf(m),m!==p||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(g=Ck,x="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Pk,x="onPointerLeave",v="onPointerEnter",y="pointer"),p=d==null?h:zh(d),b=m==null?h:zh(m),h=new g(x,y+"leave",d,r,c),h.target=p,h.relatedTarget=b,x=null,rf(c)===u&&(g=new g(v,y+"enter",m,r,c),g.target=b,g.relatedTarget=p,x=g),p=x,d&&m)t:{for(g=d,v=m,y=0,b=g;b;b=wh(b))y++;for(b=0,x=v;x;x=wh(x))b++;for(;0<y-b;)g=wh(g),y--;for(;0<b-y;)v=wh(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=wh(g),v=wh(v)}g=null}else g=null;d!==null&&zk(f,h,d,g,!1),m!==null&&p!==null&&zk(f,p,m,g,!0)}}e:{if(h=u?zh(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var C=e$;else if(Ok(h))if(bN)C=i$;else{C=r$;var O=t$}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=n$);if(C&&(C=C(e,u))){yN(f,C,r,c);break e}O&&O(e,h,u),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&V5(h,"number",h.value)}switch(O=u?zh(u):window,e){case"focusin":(Ok(O)||O.contentEditable==="true")&&(Fh=O,ex=u,Qp=null);break;case"focusout":Qp=ex=Fh=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,Dk(f,r,c);break;case"selectionchange":if(o$)break;case"keydown":case"keyup":Dk(f,r,c)}var I;if(L3)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Dh?gN(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(mN&&r.locale!=="ko"&&(Dh||T!=="onCompositionStart"?T==="onCompositionEnd"&&Dh&&(I=pN()):(qu=c,j3="value"in qu?qu.value:qu.textContent,Dh=!0)),O=fv(u,T),0<O.length&&(T=new Tk(T,e,null,r,c),f.push({event:T,listeners:O}),I?T.data=I:(I=vN(r),I!==null&&(T.data=I)))),(I=XV?YV(e,r):ZV(e,r))&&(u=fv(u,"onBeforeInput"),0<u.length&&(c=new Tk("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=I))}PN(f,t)})}function km(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fv(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vm(e,r),a!=null&&n.unshift(km(e,a,i)),a=vm(e,t),a!=null&&n.push(km(e,a,i))),e=e.return}return n}function wh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zk(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=vm(r,a),l!=null&&s.unshift(km(r,l,o))):i||(l=vm(r,a),l!=null&&s.push(km(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var f$=/\r\n?/g,h$=/\u0000|\uFFFD/g;function Uk(e){return(typeof e=="string"?e:""+e).replace(f$,`
`).replace(h$,"")}function Fg(e,t,r){if(t=Uk(t),Uk(e)!==t&&r)throw Error(St(425))}function hv(){}var rx=null,nx=null;function ix(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ax=typeof setTimeout=="function"?setTimeout:void 0,d$=typeof clearTimeout=="function"?clearTimeout:void 0,Vk=typeof Promise=="function"?Promise:void 0,p$=typeof queueMicrotask=="function"?queueMicrotask:typeof Vk<"u"?function(e){return Vk.resolve(null).then(e).catch(m$)}:ax;function m$(e){setTimeout(function(){throw e})}function vw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wm(t)}function Qu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $k(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Md=Math.random().toString(36).slice(2),Lo="__reactFiber$"+Md,Am="__reactProps$"+Md,jl="__reactContainer$"+Md,sx="__reactEvents$"+Md,g$="__reactListeners$"+Md,v$="__reactHandles$"+Md;function rf(e){var t=e[Lo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jl]||r[Lo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$k(e);e!==null;){if(r=e[Lo])return r;e=$k(e)}return t}e=r,r=e.parentNode}return null}function h0(e){return e=e[Lo]||e[jl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function Hy(e){return e[Am]||null}var ox=[],Uh=-1;function Ec(e){return{current:e}}function wn(e){0>Uh||(e.current=ox[Uh],ox[Uh]=null,Uh--)}function hn(e,t){Uh++,ox[Uh]=e.current,e.current=t}var hc={},fa=Ec(hc),Va=Ec(!1),Ef=hc;function cd(e,t){var r=e.type.contextTypes;if(!r)return hc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $a(e){return e=e.childContextTypes,e!=null}function dv(){wn(Va),wn(fa)}function qk(e,t,r){if(fa.current!==hc)throw Error(St(168));hn(fa,t),hn(Va,r)}function IN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(St(108,tV(e)||"Unknown",i));return On({},r,n)}function pv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hc,Ef=fa.current,hn(fa,e),hn(Va,Va.current),!0}function Hk(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=IN(e,t,Ef),n.__reactInternalMemoizedMergedChildContext=e,wn(Va),wn(fa),hn(fa,e)):wn(Va),hn(Va,r)}var pl=null,Wy=!1,yw=!1;function ON(e){pl===null?pl=[e]:pl.push(e)}function y$(e){Wy=!0,ON(e)}function Cc(){if(!yw&&pl!==null){yw=!0;var e=0,t=Zr;try{var r=pl;for(Zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pl=null,Wy=!1}catch(i){throw pl!==null&&(pl=pl.slice(e+1)),nN(P3,Cc),i}finally{Zr=t,yw=!1}}return null}var Vh=[],$h=0,mv=null,gv=0,Is=[],Os=0,Cf=null,yl=1,bl="";function Xc(e,t){Vh[$h++]=gv,Vh[$h++]=mv,mv=e,gv=t}function jN(e,t,r){Is[Os++]=yl,Is[Os++]=bl,Is[Os++]=Cf,Cf=e;var n=yl;e=bl;var i=32-uo(n)-1;n&=~(1<<i),r+=1;var a=32-uo(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,yl=1<<32-uo(t)+i|r<<i|n,bl=a+e}else yl=1<<a|r<<i|n,bl=e}function F3(e){e.return!==null&&(Xc(e,1),jN(e,1,0))}function B3(e){for(;e===mv;)mv=Vh[--$h],Vh[$h]=null,gv=Vh[--$h],Vh[$h]=null;for(;e===Cf;)Cf=Is[--Os],Is[Os]=null,bl=Is[--Os],Is[Os]=null,yl=Is[--Os],Is[Os]=null}var ls=null,ns=null,kn=!1,io=null;function MN(e,t){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ls=e,ns=Qu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ls=e,ns=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cf!==null?{id:yl,overflow:bl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ls=e,ns=null,!0):!1;default:return!1}}function lx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ux(e){if(kn){var t=ns;if(t){var r=t;if(!Wk(e,t)){if(lx(e))throw Error(St(418));t=Qu(r.nextSibling);var n=ls;t&&Wk(e,t)?MN(n,r):(e.flags=e.flags&-4097|2,kn=!1,ls=e)}}else{if(lx(e))throw Error(St(418));e.flags=e.flags&-4097|2,kn=!1,ls=e}}}function Kk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ls=e}function Bg(e){if(e!==ls)return!1;if(!kn)return Kk(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ix(e.type,e.memoizedProps)),t&&(t=ns)){if(lx(e))throw RN(),Error(St(418));for(;t;)MN(e,t),t=Qu(t.nextSibling)}if(Kk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ns=Qu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ns=null}}else ns=ls?Qu(e.stateNode.nextSibling):null;return!0}function RN(){for(var e=ns;e;)e=Qu(e.nextSibling)}function fd(){ns=ls=null,kn=!1}function z3(e){io===null?io=[e]:io.push(e)}var b$=Gl.ReactCurrentBatchConfig;function vp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function zg(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gk(e){var t=e._init;return t(e._payload)}function LN(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=rc(v,y),v.index=0,v.sibling=null,v}function a(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,x){return y===null||y.tag!==6?(y=Aw(b,v.mode,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,x){var C=b.type;return C===Lh?c(v,y,b.props.children,x,b.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nu&&Gk(C)===y.type)?(x=i(y,b.props),x.ref=vp(v,y,b),x.return=v,x):(x=B1(b.type,b.key,b.props,null,v.mode,x),x.ref=vp(v,y,b),x.return=v,x)}function u(v,y,b,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Ew(b,v.mode,x),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function c(v,y,b,x,C){return y===null||y.tag!==7?(y=df(b,v.mode,x,C),y.return=v,y):(y=i(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Aw(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pg:return b=B1(y.type,y.key,y.props,null,v.mode,b),b.ref=vp(v,null,y),b.return=v,b;case Rh:return y=Ew(y,v.mode,b),y.return=v,y;case Nu:var x=y._init;return f(v,x(y._payload),b)}if(Lp(y)||hp(y))return y=df(y,v.mode,b,null),y.return=v,y;zg(v,y)}return null}function h(v,y,b,x){var C=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pg:return b.key===C?l(v,y,b,x):null;case Rh:return b.key===C?u(v,y,b,x):null;case Nu:return C=b._init,h(v,y,C(b._payload),x)}if(Lp(b)||hp(b))return C!==null?null:c(v,y,b,x,null);zg(v,b)}return null}function d(v,y,b,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,o(y,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pg:return v=v.get(x.key===null?b:x.key)||null,l(y,v,x,C);case Rh:return v=v.get(x.key===null?b:x.key)||null,u(y,v,x,C);case Nu:var O=x._init;return d(v,y,b,O(x._payload),C)}if(Lp(x)||hp(x))return v=v.get(b)||null,c(y,v,x,C,null);zg(y,x)}return null}function m(v,y,b,x){for(var C=null,O=null,I=y,T=y=0,M=null;I!==null&&T<b.length;T++){I.index>T?(M=I,I=null):M=I.sibling;var B=h(v,I,b[T],x);if(B===null){I===null&&(I=M);break}e&&I&&B.alternate===null&&t(v,I),y=a(B,y,T),O===null?C=B:O.sibling=B,O=B,I=M}if(T===b.length)return r(v,I),kn&&Xc(v,T),C;if(I===null){for(;T<b.length;T++)I=f(v,b[T],x),I!==null&&(y=a(I,y,T),O===null?C=I:O.sibling=I,O=I);return kn&&Xc(v,T),C}for(I=n(v,I);T<b.length;T++)M=d(I,v,T,b[T],x),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?T:M.key),y=a(M,y,T),O===null?C=M:O.sibling=M,O=M);return e&&I.forEach(function(L){return t(v,L)}),kn&&Xc(v,T),C}function g(v,y,b,x){var C=hp(b);if(typeof C!="function")throw Error(St(150));if(b=C.call(b),b==null)throw Error(St(151));for(var O=C=null,I=y,T=y=0,M=null,B=b.next();I!==null&&!B.done;T++,B=b.next()){I.index>T?(M=I,I=null):M=I.sibling;var L=h(v,I,B.value,x);if(L===null){I===null&&(I=M);break}e&&I&&L.alternate===null&&t(v,I),y=a(L,y,T),O===null?C=L:O.sibling=L,O=L,I=M}if(B.done)return r(v,I),kn&&Xc(v,T),C;if(I===null){for(;!B.done;T++,B=b.next())B=f(v,B.value,x),B!==null&&(y=a(B,y,T),O===null?C=B:O.sibling=B,O=B);return kn&&Xc(v,T),C}for(I=n(v,I);!B.done;T++,B=b.next())B=d(I,v,T,B.value,x),B!==null&&(e&&B.alternate!==null&&I.delete(B.key===null?T:B.key),y=a(B,y,T),O===null?C=B:O.sibling=B,O=B);return e&&I.forEach(function(P){return t(v,P)}),kn&&Xc(v,T),C}function p(v,y,b,x){if(typeof b=="object"&&b!==null&&b.type===Lh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pg:e:{for(var C=b.key,O=y;O!==null;){if(O.key===C){if(C=b.type,C===Lh){if(O.tag===7){r(v,O.sibling),y=i(O,b.props.children),y.return=v,v=y;break e}}else if(O.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nu&&Gk(C)===O.type){r(v,O.sibling),y=i(O,b.props),y.ref=vp(v,O,b),y.return=v,v=y;break e}r(v,O);break}else t(v,O);O=O.sibling}b.type===Lh?(y=df(b.props.children,v.mode,x,b.key),y.return=v,v=y):(x=B1(b.type,b.key,b.props,null,v.mode,x),x.ref=vp(v,y,b),x.return=v,v=x)}return s(v);case Rh:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Ew(b,v.mode,x),y.return=v,v=y}return s(v);case Nu:return O=b._init,p(v,y,O(b._payload),x)}if(Lp(b))return m(v,y,b,x);if(hp(b))return g(v,y,b,x);zg(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,b),y.return=v,v=y):(r(v,y),y=Aw(b,v.mode,x),y.return=v,v=y),s(v)):r(v,y)}return p}var hd=LN(!0),DN=LN(!1),vv=Ec(null),yv=null,qh=null,U3=null;function V3(){U3=qh=yv=null}function $3(e){var t=vv.current;wn(vv),e._currentValue=t}function cx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ed(e,t){yv=e,U3=qh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(za=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(U3!==e)if(e={context:e,memoizedValue:t,next:null},qh===null){if(yv===null)throw Error(St(308));qh=e,yv.dependencies={lanes:0,firstContext:e}}else qh=qh.next=e;return t}var nf=null;function q3(e){nf===null?nf=[e]:nf.push(e)}function FN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,q3(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ml(e,n)}function Ml(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Iu=!1;function H3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function El(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ju(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Mr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ml(e,r)}return i=n.interleaved,i===null?(t.next=t,q3(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ml(e,r)}function j1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}function Xk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bv(e,t,r,n){var i=e.updateQueue;Iu=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,d=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,d=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=On({},f,h);break e;case 2:Iu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Pf|=s,e.lanes=s,e.memoizedState=f}}function Yk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var d0={},Uo=Ec(d0),Em=Ec(d0),Cm=Ec(d0);function af(e){if(e===d0)throw Error(St(174));return e}function W3(e,t){switch(hn(Cm,t),hn(Em,e),hn(Uo,d0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:q5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=q5(t,e)}wn(Uo),hn(Uo,t)}function dd(){wn(Uo),wn(Em),wn(Cm)}function zN(e){af(Cm.current);var t=af(Uo.current),r=q5(t,e.type);t!==r&&(hn(Em,e),hn(Uo,r))}function K3(e){Em.current===e&&(wn(Uo),wn(Em))}var Nn=Ec(0);function wv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bw=[];function G3(){for(var e=0;e<bw.length;e++)bw[e]._workInProgressVersionPrimary=null;bw.length=0}var M1=Gl.ReactCurrentDispatcher,ww=Gl.ReactCurrentBatchConfig,Tf=0,In=null,hi=null,Ti=null,xv=!1,Jp=!1,Tm=0,w$=0;function Yi(){throw Error(St(321))}function X3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ho(e[r],t[r]))return!1;return!0}function Y3(e,t,r,n,i,a){if(Tf=a,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M1.current=e===null||e.memoizedState===null?k$:A$,e=r(n,i),Jp){a=0;do{if(Jp=!1,Tm=0,25<=a)throw Error(St(301));a+=1,Ti=hi=null,t.updateQueue=null,M1.current=E$,e=r(n,i)}while(Jp)}if(M1.current=_v,t=hi!==null&&hi.next!==null,Tf=0,Ti=hi=In=null,xv=!1,t)throw Error(St(300));return e}function Z3(){var e=Tm!==0;return Tm=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?In.memoizedState=Ti=e:Ti=Ti.next=e,Ti}function Fs(){if(hi===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=hi.next;var t=Ti===null?In.memoizedState:Ti.next;if(t!==null)Ti=t,hi=e;else{if(e===null)throw Error(St(310));hi=e,e={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},Ti===null?In.memoizedState=Ti=e:Ti=Ti.next=e}return Ti}function Pm(e,t){return typeof t=="function"?t(e):t}function xw(e){var t=Fs(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=hi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Tf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,In.lanes|=c,Pf|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,ho(n,t.memoizedState)||(za=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,In.lanes|=a,Pf|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _w(e){var t=Fs(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ho(a,t.memoizedState)||(za=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function UN(){}function VN(e,t){var r=In,n=Fs(),i=t(),a=!ho(n.memoizedState,i);if(a&&(n.memoizedState=i,za=!0),n=n.queue,Q3(HN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ti!==null&&Ti.memoizedState.tag&1){if(r.flags|=2048,Nm(9,qN.bind(null,r,n,i,t),void 0,null),Ii===null)throw Error(St(349));Tf&30||$N(r,t,i)}return i}function $N(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qN(e,t,r,n){t.value=r,t.getSnapshot=n,WN(t)&&KN(e)}function HN(e,t,r){return r(function(){WN(t)&&KN(e)})}function WN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ho(e,r)}catch{return!0}}function KN(e){var t=Ml(e,1);t!==null&&co(t,e,1,-1)}function Zk(e){var t=Mo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:e},t.queue=e,e=e.dispatch=S$.bind(null,In,e),[t.memoizedState,e]}function Nm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GN(){return Fs().memoizedState}function R1(e,t,r,n){var i=Mo();In.flags|=e,i.memoizedState=Nm(1|t,r,void 0,n===void 0?null:n)}function Ky(e,t,r,n){var i=Fs();n=n===void 0?null:n;var a=void 0;if(hi!==null){var s=hi.memoizedState;if(a=s.destroy,n!==null&&X3(n,s.deps)){i.memoizedState=Nm(t,r,a,n);return}}In.flags|=e,i.memoizedState=Nm(1|t,r,a,n)}function Qk(e,t){return R1(8390656,8,e,t)}function Q3(e,t){return Ky(2048,8,e,t)}function XN(e,t){return Ky(4,2,e,t)}function YN(e,t){return Ky(4,4,e,t)}function ZN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function QN(e,t,r){return r=r!=null?r.concat([e]):null,Ky(4,4,ZN.bind(null,t,e),r)}function J3(){}function JN(e,t){var r=Fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&X3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eI(e,t){var r=Fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&X3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tI(e,t,r){return Tf&21?(ho(r,t)||(r=sN(),In.lanes|=r,Pf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,za=!0),e.memoizedState=r)}function x$(e,t){var r=Zr;Zr=r!==0&&4>r?r:4,e(!0);var n=ww.transition;ww.transition={};try{e(!1),t()}finally{Zr=r,ww.transition=n}}function rI(){return Fs().memoizedState}function _$(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nI(e))iI(t,r);else if(r=FN(e,t,r,n),r!==null){var i=ka();co(r,e,n,i),aI(r,t,n)}}function S$(e,t,r){var n=tc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nI(e))iI(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ho(o,s)){var l=t.interleaved;l===null?(i.next=i,q3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=FN(e,t,i,n),r!==null&&(i=ka(),co(r,e,n,i),aI(r,t,n))}}function nI(e){var t=e.alternate;return e===In||t!==null&&t===In}function iI(e,t){Jp=xv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}var _v={readContext:Ds,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},k$={readContext:Ds,useCallback:function(e,t){return Mo().memoizedState=[e,t===void 0?null:t],e},useContext:Ds,useEffect:Qk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,R1(4194308,4,ZN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return R1(4194308,4,e,t)},useInsertionEffect:function(e,t){return R1(4,2,e,t)},useMemo:function(e,t){var r=Mo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_$.bind(null,In,e),[n.memoizedState,e]},useRef:function(e){var t=Mo();return e={current:e},t.memoizedState=e},useState:Zk,useDebugValue:J3,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=Zk(!1),t=e[0];return e=x$.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=In,i=Mo();if(kn){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),Ii===null)throw Error(St(349));Tf&30||$N(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Qk(HN.bind(null,n,a,e),[e]),n.flags|=2048,Nm(9,qN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Mo(),t=Ii.identifierPrefix;if(kn){var r=bl,n=yl;r=(n&~(1<<32-uo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A$={readContext:Ds,useCallback:JN,useContext:Ds,useEffect:Q3,useImperativeHandle:QN,useInsertionEffect:XN,useLayoutEffect:YN,useMemo:eI,useReducer:xw,useRef:GN,useState:function(){return xw(Pm)},useDebugValue:J3,useDeferredValue:function(e){var t=Fs();return tI(t,hi.memoizedState,e)},useTransition:function(){var e=xw(Pm)[0],t=Fs().memoizedState;return[e,t]},useMutableSource:UN,useSyncExternalStore:VN,useId:rI,unstable_isNewReconciler:!1},E$={readContext:Ds,useCallback:JN,useContext:Ds,useEffect:Q3,useImperativeHandle:QN,useInsertionEffect:XN,useLayoutEffect:YN,useMemo:eI,useReducer:_w,useRef:GN,useState:function(){return _w(Pm)},useDebugValue:J3,useDeferredValue:function(e){var t=Fs();return hi===null?t.memoizedState=e:tI(t,hi.memoizedState,e)},useTransition:function(){var e=_w(Pm)[0],t=Fs().memoizedState;return[e,t]},useMutableSource:UN,useSyncExternalStore:VN,useId:rI,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){t=On({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:On({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gy={isMounted:function(e){return(e=e._reactInternals)?Kf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ka(),i=tc(e),a=El(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ju(e,a,i),t!==null&&(co(t,e,i,n),j1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ka(),i=tc(e),a=El(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ju(e,a,i),t!==null&&(co(t,e,i,n),j1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ka(),n=tc(e),i=El(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ju(e,i,n),t!==null&&(co(t,e,n,r),j1(t,e,n))}};function Jk(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!_m(r,n)||!_m(i,a):!0}function sI(e,t,r){var n=!1,i=hc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ds(a):(i=$a(t)?Ef:fa.current,n=t.contextTypes,a=(n=n!=null)?cd(e,i):hc),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function eA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gy.enqueueReplaceState(t,t.state,null)}function hx(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},H3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ds(a):(a=$a(t)?Ef:fa.current,i.context=cd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(fx(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gy.enqueueReplaceState(i,i.state,null),bv(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pd(e,t){try{var r="",n=t;do r+=eV(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Sw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C$=typeof WeakMap=="function"?WeakMap:Map;function oI(e,t,r){r=El(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kv||(kv=!0,Sx=n),dx(e,t)},r}function lI(e,t,r){r=El(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){dx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){dx(e,t),typeof n!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function tA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=U$.bind(null,e,t,r),t.then(e,e))}function rA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nA(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=El(-1,1),t.tag=2,Ju(r,t,1))),r.lanes|=1),e)}var T$=Gl.ReactCurrentOwner,za=!1;function xa(e,t,r,n){t.child=e===null?DN(t,null,r,n):hd(t,e.child,r,n)}function iA(e,t,r,n,i){r=r.render;var a=t.ref;return ed(t,i),n=Y3(e,t,r,n,a,i),r=Z3(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rl(e,t,i)):(kn&&r&&F3(t),t.flags|=1,xa(e,t,n,i),t.child)}function aA(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!o4(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,uI(e,t,a,n,i)):(e=B1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:_m,r(s,n)&&e.ref===t.ref)return Rl(e,t,i)}return t.flags|=1,e=rc(a,n),e.ref=t.ref,e.return=t,t.child=e}function uI(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(_m(a,n)&&e.ref===t.ref)if(za=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(za=!0);else return t.lanes=e.lanes,Rl(e,t,i)}return px(e,t,r,n,i)}function cI(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Wh,es),es|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(Wh,es),es|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,hn(Wh,es),es|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,hn(Wh,es),es|=n;return xa(e,t,i,r),t.child}function fI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function px(e,t,r,n,i){var a=$a(r)?Ef:fa.current;return a=cd(t,a),ed(t,i),r=Y3(e,t,r,n,a,i),n=Z3(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rl(e,t,i)):(kn&&n&&F3(t),t.flags|=1,xa(e,t,r,i),t.child)}function sA(e,t,r,n,i){if($a(r)){var a=!0;pv(t)}else a=!1;if(ed(t,i),t.stateNode===null)L1(e,t),sI(t,r,n),hx(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ds(u):(u=$a(r)?Ef:fa.current,u=cd(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&eA(t,s,n,u),Iu=!1;var h=t.memoizedState;s.state=h,bv(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Va.current||Iu?(typeof c=="function"&&(fx(t,r,c,n),l=t.memoizedState),(o=Iu||Jk(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,BN(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ds(l):(l=$a(r)?Ef:fa.current,l=cd(t,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&eA(t,s,n,l),Iu=!1,h=t.memoizedState,s.state=h,bv(t,n,s,i);var m=t.memoizedState;o!==f||h!==m||Va.current||Iu?(typeof d=="function"&&(fx(t,r,d,n),m=t.memoizedState),(u=Iu||Jk(t,r,u,n,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return mx(e,t,r,n,a,i)}function mx(e,t,r,n,i,a){fI(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Hk(t,r,!1),Rl(e,t,a);n=t.stateNode,T$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=hd(t,e.child,null,a),t.child=hd(t,null,o,a)):xa(e,t,o,a),t.memoizedState=n.state,i&&Hk(t,r,!0),t.child}function hI(e){var t=e.stateNode;t.pendingContext?qk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qk(e,t.context,!1),W3(e,t.containerInfo)}function oA(e,t,r,n,i){return fd(),z3(i),t.flags|=256,xa(e,t,r,n),t.child}var gx={dehydrated:null,treeContext:null,retryLane:0};function vx(e){return{baseLanes:e,cachePool:null,transitions:null}}function dI(e,t,r){var n=t.pendingProps,i=Nn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hn(Nn,i&1),e===null)return ux(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Zy(s,n,0,null),e=df(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=vx(r),t.memoizedState=gx,e):e4(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return P$(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=rc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rc(o,a):(a=df(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?vx(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=gx,n}return a=e.child,e=a.sibling,n=rc(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function e4(e,t){return t=Zy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ug(e,t,r,n){return n!==null&&z3(n),hd(t,e.child,null,r),e=e4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P$(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Sw(Error(St(422))),Ug(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Zy({mode:"visible",children:n.children},i,0,null),a=df(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&hd(t,e.child,null,s),t.child.memoizedState=vx(s),t.memoizedState=gx,a);if(!(t.mode&1))return Ug(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(St(419)),n=Sw(a,n,void 0),Ug(e,t,s,n)}if(o=(s&e.childLanes)!==0,za||o){if(n=Ii,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ml(e,i),co(n,e,i,-1))}return s4(),n=Sw(Error(St(421))),Ug(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=V$.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ns=Qu(i.nextSibling),ls=t,kn=!0,io=null,e!==null&&(Is[Os++]=yl,Is[Os++]=bl,Is[Os++]=Cf,yl=e.id,bl=e.overflow,Cf=t),t=e4(t,n.children),t.flags|=4096,t)}function lA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cx(e.return,t,r)}function kw(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function pI(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(xa(e,t,n.children,r),n=Nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lA(e,r,t);else if(e.tag===19)lA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hn(Nn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&wv(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),kw(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wv(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}kw(t,!0,r,null,a);break;case"together":kw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function L1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=rc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N$(e,t,r){switch(t.tag){case 3:hI(t),fd();break;case 5:zN(t);break;case 1:$a(t.type)&&pv(t);break;case 4:W3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;hn(vv,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hn(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?dI(e,t,r):(hn(Nn,Nn.current&1),e=Rl(e,t,r),e!==null?e.sibling:null);hn(Nn,Nn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pI(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,cI(e,t,r)}return Rl(e,t,r)}var mI,yx,gI,vI;mI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yx=function(){};gI=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,af(Uo.current);var a=null;switch(r){case"input":i=z5(e,i),n=z5(e,n),a=[];break;case"select":i=On({},i,{value:void 0}),n=On({},n,{value:void 0}),a=[];break;case"textarea":i=$5(e,i),n=$5(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hv)}H5(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};vI=function(e,t,r,n){r!==n&&(t.flags|=4)};function yp(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function I$(e,t,r){var n=t.pendingProps;switch(B3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zi(t),null;case 1:return $a(t.type)&&dv(),Zi(t),null;case 3:return n=t.stateNode,dd(),wn(Va),wn(fa),G3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,io!==null&&(Ex(io),io=null))),yx(e,t),Zi(t),null;case 5:K3(t);var i=af(Cm.current);if(r=t.type,e!==null&&t.stateNode!=null)gI(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return Zi(t),null}if(e=af(Uo.current),Bg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Lo]=t,n[Am]=a,e=(t.mode&1)!==0,r){case"dialog":gn("cancel",n),gn("close",n);break;case"iframe":case"object":case"embed":gn("load",n);break;case"video":case"audio":for(i=0;i<Fp.length;i++)gn(Fp[i],n);break;case"source":gn("error",n);break;case"img":case"image":case"link":gn("error",n),gn("load",n);break;case"details":gn("toggle",n);break;case"input":vk(n,a),gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},gn("invalid",n);break;case"textarea":bk(n,a),gn("invalid",n)}H5(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Fg(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Fg(n.textContent,o,e),i=["children",""+o]):mm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&gn("scroll",n)}switch(r){case"input":Ng(n),yk(n,a,!0);break;case"textarea":Ng(n),wk(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hv)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H9(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Lo]=t,e[Am]=n,mI(e,t,!1,!1),t.stateNode=e;e:{switch(s=W5(r,n),r){case"dialog":gn("cancel",e),gn("close",e),i=n;break;case"iframe":case"object":case"embed":gn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Fp.length;i++)gn(Fp[i],e);i=n;break;case"source":gn("error",e),i=n;break;case"img":case"image":case"link":gn("error",e),gn("load",e),i=n;break;case"details":gn("toggle",e),i=n;break;case"input":vk(e,n),i=z5(e,n),gn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=On({},n,{value:void 0}),gn("invalid",e);break;case"textarea":bk(e,n),i=$5(e,n),gn("invalid",e);break;default:i=n}H5(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?G9(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W9(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&gm(e,l):typeof l=="number"&&gm(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&gn("scroll",e):l!=null&&k3(e,a,l,s))}switch(r){case"input":Ng(e),yk(e,n,!1);break;case"textarea":Ng(e),wk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fc(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yh(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zi(t),null;case 6:if(e&&t.stateNode!=null)vI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=af(Cm.current),af(Uo.current),Bg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Lo]=t,(a=n.nodeValue!==r)&&(e=ls,e!==null))switch(e.tag){case 3:Fg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Lo]=t,t.stateNode=n}return Zi(t),null;case 13:if(wn(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&ns!==null&&t.mode&1&&!(t.flags&128))RN(),fd(),t.flags|=98560,a=!1;else if(a=Bg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(St(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(St(317));a[Lo]=t}else fd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zi(t),a=!1}else io!==null&&(Ex(io),io=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?mi===0&&(mi=3):s4())),t.updateQueue!==null&&(t.flags|=4),Zi(t),null);case 4:return dd(),yx(e,t),e===null&&Sm(t.stateNode.containerInfo),Zi(t),null;case 10:return $3(t.type._context),Zi(t),null;case 17:return $a(t.type)&&dv(),Zi(t),null;case 19:if(wn(Nn),a=t.memoizedState,a===null)return Zi(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)yp(a,!1);else{if(mi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=wv(e),s!==null){for(t.flags|=128,yp(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(Nn,Nn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Yn()>md&&(t.flags|=128,n=!0,yp(a,!1),t.lanes=4194304)}else{if(!n)if(e=wv(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!kn)return Zi(t),null}else 2*Yn()-a.renderingStartTime>md&&r!==1073741824&&(t.flags|=128,n=!0,yp(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Yn(),t.sibling=null,r=Nn.current,hn(Nn,n?r&1|2:r&1),t):(Zi(t),null);case 22:case 23:return a4(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?es&1073741824&&(Zi(t),t.subtreeFlags&6&&(t.flags|=8192)):Zi(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function O$(e,t){switch(B3(t),t.tag){case 1:return $a(t.type)&&dv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dd(),wn(Va),wn(fa),G3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return K3(t),null;case 13:if(wn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));fd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Nn),null;case 4:return dd(),null;case 10:return $3(t.type._context),null;case 22:case 23:return a4(),null;case 24:return null;default:return null}}var Vg=!1,sa=!1,j$=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Hh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Un(e,t,n)}else r.current=null}function bx(e,t,r){try{r()}catch(n){Un(e,t,n)}}var uA=!1;function M$(e,t){if(rx=uv,e=_N(),D3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++c===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(nx={focusedElem:e,selectionRange:r},uv=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){t=Bt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,p=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),p);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(x){Un(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}return m=uA,uA=!1,m}function em(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&bx(t,r,a)}i=i.next}while(i!==n)}}function Xy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yI(e){var t=e.alternate;t!==null&&(e.alternate=null,yI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lo],delete t[Am],delete t[sx],delete t[g$],delete t[v$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bI(e){return e.tag===5||e.tag===3||e.tag===4}function cA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hv));else if(n!==4&&(e=e.child,e!==null))for(xx(e,t,r),e=e.sibling;e!==null;)xx(e,t,r),e=e.sibling}function _x(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_x(e,t,r),e=e.sibling;e!==null;)_x(e,t,r),e=e.sibling}var zi=null,no=!1;function Au(e,t,r){for(r=r.child;r!==null;)wI(e,t,r),r=r.sibling}function wI(e,t,r){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(Uy,r)}catch{}switch(r.tag){case 5:sa||Hh(r,t);case 6:var n=zi,i=no;zi=null,Au(e,t,r),zi=n,no=i,zi!==null&&(no?(e=zi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zi.removeChild(r.stateNode));break;case 18:zi!==null&&(no?(e=zi,r=r.stateNode,e.nodeType===8?vw(e.parentNode,r):e.nodeType===1&&vw(e,r),wm(e)):vw(zi,r.stateNode));break;case 4:n=zi,i=no,zi=r.stateNode.containerInfo,no=!0,Au(e,t,r),zi=n,no=i;break;case 0:case 11:case 14:case 15:if(!sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&bx(r,t,s),i=i.next}while(i!==n)}Au(e,t,r);break;case 1:if(!sa&&(Hh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Un(r,t,o)}Au(e,t,r);break;case 21:Au(e,t,r);break;case 22:r.mode&1?(sa=(n=sa)||r.memoizedState!==null,Au(e,t,r),sa=n):Au(e,t,r);break;default:Au(e,t,r)}}function fA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new j$),t.forEach(function(n){var i=$$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:zi=o.stateNode,no=!1;break e;case 3:zi=o.stateNode.containerInfo,no=!0;break e;case 4:zi=o.stateNode.containerInfo,no=!0;break e}o=o.return}if(zi===null)throw Error(St(160));wI(a,s,i),zi=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Un(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xI(t,e),t=t.sibling}function xI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qs(t,e),No(e),n&4){try{em(3,e,e.return),Xy(3,e)}catch(g){Un(e,e.return,g)}try{em(5,e,e.return)}catch(g){Un(e,e.return,g)}}break;case 1:Qs(t,e),No(e),n&512&&r!==null&&Hh(r,r.return);break;case 5:if(Qs(t,e),No(e),n&512&&r!==null&&Hh(r,r.return),e.flags&32){var i=e.stateNode;try{gm(i,"")}catch(g){Un(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&$9(i,a),W5(o,s);var u=W5(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?G9(i,f):c==="dangerouslySetInnerHTML"?W9(i,f):c==="children"?gm(i,f):k3(i,c,f,u)}switch(o){case"input":U5(i,a);break;case"textarea":q9(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Yh(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Yh(i,!!a.multiple,a.defaultValue,!0):Yh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Am]=a}catch(g){Un(e,e.return,g)}}break;case 6:if(Qs(t,e),No(e),n&4){if(e.stateNode===null)throw Error(St(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Un(e,e.return,g)}}break;case 3:if(Qs(t,e),No(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wm(t.containerInfo)}catch(g){Un(e,e.return,g)}break;case 4:Qs(t,e),No(e);break;case 13:Qs(t,e),No(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(n4=Yn())),n&4&&fA(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(sa=(u=sa)||c,Qs(t,e),sa=u):Qs(t,e),No(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Bt=e,c=e.child;c!==null;){for(f=Bt=c;Bt!==null;){switch(h=Bt,d=h.child,h.tag){case 0:case 11:case 14:case 15:em(4,h,h.return);break;case 1:Hh(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Un(n,r,g)}}break;case 5:Hh(h,h.return);break;case 22:if(h.memoizedState!==null){dA(f);continue}}d!==null?(d.return=h,Bt=d):dA(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=K9("display",s))}catch(g){Un(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Un(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qs(t,e),No(e),n&4&&fA(e);break;case 21:break;default:Qs(t,e),No(e)}}function No(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bI(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gm(i,""),n.flags&=-33);var a=cA(e);_x(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=cA(e);xx(e,o,s);break;default:throw Error(St(161))}}catch(l){Un(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R$(e,t,r){Bt=e,_I(e)}function _I(e,t,r){for(var n=(e.mode&1)!==0;Bt!==null;){var i=Bt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Vg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sa;o=Vg;var u=sa;if(Vg=s,(sa=l)&&!u)for(Bt=i;Bt!==null;)s=Bt,l=s.child,s.tag===22&&s.memoizedState!==null?pA(i):l!==null?(l.return=s,Bt=l):pA(i);for(;a!==null;)Bt=a,_I(a),a=a.sibling;Bt=i,Vg=o,sa=u}hA(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Bt=a):hA(e)}}function hA(e){for(;Bt!==null;){var t=Bt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sa||Xy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Yk(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yk(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&wm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}sa||t.flags&512&&wx(t)}catch(h){Un(t,t.return,h)}}if(t===e){Bt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Bt=r;break}Bt=t.return}}function dA(e){for(;Bt!==null;){var t=Bt;if(t===e){Bt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Bt=r;break}Bt=t.return}}function pA(e){for(;Bt!==null;){var t=Bt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xy(4,t)}catch(l){Un(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Un(t,i,l)}}var a=t.return;try{wx(t)}catch(l){Un(t,a,l)}break;case 5:var s=t.return;try{wx(t)}catch(l){Un(t,s,l)}}}catch(l){Un(t,t.return,l)}if(t===e){Bt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Bt=o;break}Bt=t.return}}var L$=Math.ceil,Sv=Gl.ReactCurrentDispatcher,t4=Gl.ReactCurrentOwner,Ls=Gl.ReactCurrentBatchConfig,Mr=0,Ii=null,ii=null,qi=0,es=0,Wh=Ec(0),mi=0,Im=null,Pf=0,Yy=0,r4=0,tm=null,Da=null,n4=0,md=1/0,dl=null,kv=!1,Sx=null,ec=null,$g=!1,Hu=null,Av=0,rm=0,kx=null,D1=-1,F1=0;function ka(){return Mr&6?Yn():D1!==-1?D1:D1=Yn()}function tc(e){return e.mode&1?Mr&2&&qi!==0?qi&-qi:b$.transition!==null?(F1===0&&(F1=sN()),F1):(e=Zr,e!==0||(e=window.event,e=e===void 0?16:dN(e.type)),e):1}function co(e,t,r,n){if(50<rm)throw rm=0,kx=null,Error(St(185));c0(e,r,n),(!(Mr&2)||e!==Ii)&&(e===Ii&&(!(Mr&2)&&(Yy|=r),mi===4&&Ru(e,qi)),qa(e,n),r===1&&Mr===0&&!(t.mode&1)&&(md=Yn()+500,Wy&&Cc()))}function qa(e,t){var r=e.callbackNode;bV(e,t);var n=lv(e,e===Ii?qi:0);if(n===0)r!==null&&Sk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sk(r),t===1)e.tag===0?y$(mA.bind(null,e)):ON(mA.bind(null,e)),p$(function(){!(Mr&6)&&Cc()}),r=null;else{switch(oN(n)){case 1:r=P3;break;case 4:r=iN;break;case 16:r=ov;break;case 536870912:r=aN;break;default:r=ov}r=NI(r,SI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SI(e,t){if(D1=-1,F1=0,Mr&6)throw Error(St(327));var r=e.callbackNode;if(td()&&e.callbackNode!==r)return null;var n=lv(e,e===Ii?qi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ev(e,n);else{t=n;var i=Mr;Mr|=2;var a=AI();(Ii!==e||qi!==t)&&(dl=null,md=Yn()+500,hf(e,t));do try{B$();break}catch(o){kI(e,o)}while(!0);V3(),Sv.current=a,Mr=i,ii!==null?t=0:(Ii=null,qi=0,t=mi)}if(t!==0){if(t===2&&(i=Z5(e),i!==0&&(n=i,t=Ax(e,i))),t===1)throw r=Im,hf(e,0),Ru(e,n),qa(e,Yn()),r;if(t===6)Ru(e,n);else{if(i=e.current.alternate,!(n&30)&&!D$(i)&&(t=Ev(e,n),t===2&&(a=Z5(e),a!==0&&(n=a,t=Ax(e,a))),t===1))throw r=Im,hf(e,0),Ru(e,n),qa(e,Yn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:Yc(e,Da,dl);break;case 3:if(Ru(e,n),(n&130023424)===n&&(t=n4+500-Yn(),10<t)){if(lv(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ka(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ax(Yc.bind(null,e,Da,dl),t);break}Yc(e,Da,dl);break;case 4:if(Ru(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-uo(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*L$(n/1960))-n,10<n){e.timeoutHandle=ax(Yc.bind(null,e,Da,dl),n);break}Yc(e,Da,dl);break;case 5:Yc(e,Da,dl);break;default:throw Error(St(329))}}}return qa(e,Yn()),e.callbackNode===r?SI.bind(null,e):null}function Ax(e,t){var r=tm;return e.current.memoizedState.isDehydrated&&(hf(e,t).flags|=256),e=Ev(e,t),e!==2&&(t=Da,Da=r,t!==null&&Ex(t)),e}function Ex(e){Da===null?Da=e:Da.push.apply(Da,e)}function D$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ho(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t){for(t&=~r4,t&=~Yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-uo(t),n=1<<r;e[r]=-1,t&=~n}}function mA(e){if(Mr&6)throw Error(St(327));td();var t=lv(e,0);if(!(t&1))return qa(e,Yn()),null;var r=Ev(e,t);if(e.tag!==0&&r===2){var n=Z5(e);n!==0&&(t=n,r=Ax(e,n))}if(r===1)throw r=Im,hf(e,0),Ru(e,t),qa(e,Yn()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yc(e,Da,dl),qa(e,Yn()),null}function i4(e,t){var r=Mr;Mr|=1;try{return e(t)}finally{Mr=r,Mr===0&&(md=Yn()+500,Wy&&Cc())}}function Nf(e){Hu!==null&&Hu.tag===0&&!(Mr&6)&&td();var t=Mr;Mr|=1;var r=Ls.transition,n=Zr;try{if(Ls.transition=null,Zr=1,e)return e()}finally{Zr=n,Ls.transition=r,Mr=t,!(Mr&6)&&Cc()}}function a4(){es=Wh.current,wn(Wh)}function hf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d$(r)),ii!==null)for(r=ii.return;r!==null;){var n=r;switch(B3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dv();break;case 3:dd(),wn(Va),wn(fa),G3();break;case 5:K3(n);break;case 4:dd();break;case 13:wn(Nn);break;case 19:wn(Nn);break;case 10:$3(n.type._context);break;case 22:case 23:a4()}r=r.return}if(Ii=e,ii=e=rc(e.current,null),qi=es=t,mi=0,Im=null,r4=Yy=Pf=0,Da=tm=null,nf!==null){for(t=0;t<nf.length;t++)if(r=nf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}nf=null}return e}function kI(e,t){do{var r=ii;try{if(V3(),M1.current=_v,xv){for(var n=In.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xv=!1}if(Tf=0,Ti=hi=In=null,Jp=!1,Tm=0,t4.current=null,r===null||r.return===null){mi=1,Im=t,ii=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=qi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=rA(s);if(d!==null){d.flags&=-257,nA(d,s,o,a,t),d.mode&1&&tA(a,u,t),t=d,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){tA(a,u,t),s4();break e}l=Error(St(426))}}else if(kn&&o.mode&1){var p=rA(s);if(p!==null){!(p.flags&65536)&&(p.flags|=256),nA(p,s,o,a,t),z3(pd(l,o));break e}}a=l=pd(l,o),mi!==4&&(mi=2),tm===null?tm=[a]:tm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=oI(a,l,t);Xk(a,v);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ec===null||!ec.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=lI(a,o,t);Xk(a,x);break e}}a=a.return}while(a!==null)}CI(r)}catch(C){t=C,ii===r&&r!==null&&(ii=r=r.return);continue}break}while(!0)}function AI(){var e=Sv.current;return Sv.current=_v,e===null?_v:e}function s4(){(mi===0||mi===3||mi===2)&&(mi=4),Ii===null||!(Pf&268435455)&&!(Yy&268435455)||Ru(Ii,qi)}function Ev(e,t){var r=Mr;Mr|=2;var n=AI();(Ii!==e||qi!==t)&&(dl=null,hf(e,t));do try{F$();break}catch(i){kI(e,i)}while(!0);if(V3(),Mr=r,Sv.current=n,ii!==null)throw Error(St(261));return Ii=null,qi=0,mi}function F$(){for(;ii!==null;)EI(ii)}function B$(){for(;ii!==null&&!cV();)EI(ii)}function EI(e){var t=PI(e.alternate,e,es);e.memoizedProps=e.pendingProps,t===null?CI(e):ii=t,t4.current=null}function CI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=O$(r,t),r!==null){r.flags&=32767,ii=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mi=6,ii=null;return}}else if(r=I$(r,t,es),r!==null){ii=r;return}if(t=t.sibling,t!==null){ii=t;return}ii=t=e}while(t!==null);mi===0&&(mi=5)}function Yc(e,t,r){var n=Zr,i=Ls.transition;try{Ls.transition=null,Zr=1,z$(e,t,r,n)}finally{Ls.transition=i,Zr=n}return null}function z$(e,t,r,n){do td();while(Hu!==null);if(Mr&6)throw Error(St(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(wV(e,a),e===Ii&&(ii=Ii=null,qi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$g||($g=!0,NI(ov,function(){return td(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ls.transition,Ls.transition=null;var s=Zr;Zr=1;var o=Mr;Mr|=4,t4.current=null,M$(e,r),xI(r,e),s$(nx),uv=!!rx,nx=rx=null,e.current=r,R$(r),fV(),Mr=o,Zr=s,Ls.transition=a}else e.current=r;if($g&&($g=!1,Hu=e,Av=i),a=e.pendingLanes,a===0&&(ec=null),pV(r.stateNode),qa(e,Yn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(kv)throw kv=!1,e=Sx,Sx=null,e;return Av&1&&e.tag!==0&&td(),a=e.pendingLanes,a&1?e===kx?rm++:(rm=0,kx=e):rm=0,Cc(),null}function td(){if(Hu!==null){var e=oN(Av),t=Ls.transition,r=Zr;try{if(Ls.transition=null,Zr=16>e?16:e,Hu===null)var n=!1;else{if(e=Hu,Hu=null,Av=0,Mr&6)throw Error(St(331));var i=Mr;for(Mr|=4,Bt=e.current;Bt!==null;){var a=Bt,s=a.child;if(Bt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Bt=u;Bt!==null;){var c=Bt;switch(c.tag){case 0:case 11:case 15:em(8,c,a)}var f=c.child;if(f!==null)f.return=c,Bt=f;else for(;Bt!==null;){c=Bt;var h=c.sibling,d=c.return;if(yI(c),c===u){Bt=null;break}if(h!==null){h.return=d,Bt=h;break}Bt=d}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Bt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Bt=s;else e:for(;Bt!==null;){if(a=Bt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:em(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Bt=v;break e}Bt=a.return}}var y=e.current;for(Bt=y;Bt!==null;){s=Bt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Bt=b;else e:for(s=y;Bt!==null;){if(o=Bt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xy(9,o)}}catch(C){Un(o,o.return,C)}if(o===s){Bt=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Bt=x;break e}Bt=o.return}}if(Mr=i,Cc(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(Uy,e)}catch{}n=!0}return n}finally{Zr=r,Ls.transition=t}}return!1}function gA(e,t,r){t=pd(r,t),t=oI(e,t,1),e=Ju(e,t,1),t=ka(),e!==null&&(c0(e,1,t),qa(e,t))}function Un(e,t,r){if(e.tag===3)gA(e,e,r);else for(;t!==null;){if(t.tag===3){gA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ec===null||!ec.has(n))){e=pd(r,e),e=lI(t,e,1),t=Ju(t,e,1),e=ka(),t!==null&&(c0(t,1,e),qa(t,e));break}}t=t.return}}function U$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ka(),e.pingedLanes|=e.suspendedLanes&r,Ii===e&&(qi&r)===r&&(mi===4||mi===3&&(qi&130023424)===qi&&500>Yn()-n4?hf(e,0):r4|=r),qa(e,t)}function TI(e,t){t===0&&(e.mode&1?(t=jg,jg<<=1,!(jg&130023424)&&(jg=4194304)):t=1);var r=ka();e=Ml(e,t),e!==null&&(c0(e,t,r),qa(e,r))}function V$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),TI(e,r)}function $$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),TI(e,r)}var PI;PI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Va.current)za=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return za=!1,N$(e,t,r);za=!!(e.flags&131072)}else za=!1,kn&&t.flags&1048576&&jN(t,gv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;L1(e,t),e=t.pendingProps;var i=cd(t,fa.current);ed(t,r),i=Y3(null,t,n,e,i,r);var a=Z3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$a(n)?(a=!0,pv(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H3(t),i.updater=Gy,t.stateNode=i,i._reactInternals=t,hx(t,n,e,r),t=mx(null,t,n,!0,a,r)):(t.tag=0,kn&&a&&F3(t),xa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(L1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=H$(n),e=to(n,e),i){case 0:t=px(null,t,n,e,r);break e;case 1:t=sA(null,t,n,e,r);break e;case 11:t=iA(null,t,n,e,r);break e;case 14:t=aA(null,t,n,to(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),px(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),sA(e,t,n,i,r);case 3:e:{if(hI(t),e===null)throw Error(St(387));n=t.pendingProps,a=t.memoizedState,i=a.element,BN(e,t),bv(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=pd(Error(St(423)),t),t=oA(e,t,n,r,i);break e}else if(n!==i){i=pd(Error(St(424)),t),t=oA(e,t,n,r,i);break e}else for(ns=Qu(t.stateNode.containerInfo.firstChild),ls=t,kn=!0,io=null,r=DN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fd(),n===i){t=Rl(e,t,r);break e}xa(e,t,n,r)}t=t.child}return t;case 5:return zN(t),e===null&&ux(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,ix(n,i)?s=null:a!==null&&ix(n,a)&&(t.flags|=32),fI(e,t),xa(e,t,s,r),t.child;case 6:return e===null&&ux(t),null;case 13:return dI(e,t,r);case 4:return W3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hd(t,null,n,r):xa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),iA(e,t,n,i,r);case 7:return xa(e,t,t.pendingProps,r),t.child;case 8:return xa(e,t,t.pendingProps.children,r),t.child;case 12:return xa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,hn(vv,n._currentValue),n._currentValue=s,a!==null)if(ho(a.value,s)){if(a.children===i.children&&!Va.current){t=Rl(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=El(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),cx(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(St(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),cx(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}xa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ed(t,r),i=Ds(i),n=n(i),t.flags|=1,xa(e,t,n,r),t.child;case 14:return n=t.type,i=to(n,t.pendingProps),i=to(n.type,i),aA(e,t,n,i,r);case 15:return uI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),L1(e,t),t.tag=1,$a(n)?(e=!0,pv(t)):e=!1,ed(t,r),sI(t,n,i),hx(t,n,i,r),mx(null,t,n,!0,e,r);case 19:return pI(e,t,r);case 22:return cI(e,t,r)}throw Error(St(156,t.tag))};function NI(e,t){return nN(e,t)}function q$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,r,n){return new q$(e,t,r,n)}function o4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H$(e){if(typeof e=="function")return o4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E3)return 11;if(e===C3)return 14}return 2}function rc(e,t){var r=e.alternate;return r===null?(r=js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function B1(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")o4(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lh:return df(r.children,i,a,t);case A3:s=8,i|=8;break;case L5:return e=js(12,r,t,i|2),e.elementType=L5,e.lanes=a,e;case D5:return e=js(13,r,t,i),e.elementType=D5,e.lanes=a,e;case F5:return e=js(19,r,t,i),e.elementType=F5,e.lanes=a,e;case z9:return Zy(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F9:s=10;break e;case B9:s=9;break e;case E3:s=11;break e;case C3:s=14;break e;case Nu:s=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=js(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function df(e,t,r,n){return e=js(7,e,n,t),e.lanes=r,e}function Zy(e,t,r,n){return e=js(22,e,n,t),e.elementType=z9,e.lanes=r,e.stateNode={isHidden:!1},e}function Aw(e,t,r){return e=js(6,e,null,t),e.lanes=r,e}function Ew(e,t,r){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sw(0),this.expirationTimes=sw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l4(e,t,r,n,i,a,s,o,l){return e=new W$(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=js(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},H3(a),e}function K$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function II(e){if(!e)return hc;e=e._reactInternals;e:{if(Kf(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($a(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if($a(r))return IN(e,r,t)}return t}function OI(e,t,r,n,i,a,s,o,l){return e=l4(r,n,!0,e,i,a,s,o,l),e.context=II(null),r=e.current,n=ka(),i=tc(r),a=El(n,i),a.callback=t??null,Ju(r,a,i),e.current.lanes=i,c0(e,i,n),qa(e,n),e}function Qy(e,t,r,n){var i=t.current,a=ka(),s=tc(i);return r=II(r),t.context===null?t.context=r:t.pendingContext=r,t=El(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ju(i,t,s),e!==null&&(co(e,i,s,a),j1(e,i,s)),s}function Cv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function u4(e,t){vA(e,t),(e=e.alternate)&&vA(e,t)}function G$(){return null}var jI=typeof reportError=="function"?reportError:function(e){console.error(e)};function c4(e){this._internalRoot=e}Jy.prototype.render=c4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));Qy(e,t,null,null)};Jy.prototype.unmount=c4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nf(function(){Qy(null,e,null,null)}),t[jl]=null}};function Jy(e){this._internalRoot=e}Jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=cN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mu.length&&t!==0&&t<Mu[r].priority;r++);Mu.splice(r,0,e),r===0&&hN(e)}};function f4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yA(){}function X$(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Cv(s);a.call(u)}}var s=OI(t,n,e,0,null,!1,!1,"",yA);return e._reactRootContainer=s,e[jl]=s.current,Sm(e.nodeType===8?e.parentNode:e),Nf(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Cv(l);o.call(u)}}var l=l4(e,0,!1,null,null,!1,!1,"",yA);return e._reactRootContainer=l,e[jl]=l.current,Sm(e.nodeType===8?e.parentNode:e),Nf(function(){Qy(t,l,r,n)}),l}function tb(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Cv(s);o.call(l)}}Qy(t,s,e,i)}else s=X$(r,t,e,i,n);return Cv(s)}lN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dp(t.pendingLanes);r!==0&&(N3(t,r|1),qa(t,Yn()),!(Mr&6)&&(md=Yn()+500,Cc()))}break;case 13:Nf(function(){var n=Ml(e,1);if(n!==null){var i=ka();co(n,e,1,i)}}),u4(e,1)}};I3=function(e){if(e.tag===13){var t=Ml(e,134217728);if(t!==null){var r=ka();co(t,e,134217728,r)}u4(e,134217728)}};uN=function(e){if(e.tag===13){var t=tc(e),r=Ml(e,t);if(r!==null){var n=ka();co(r,e,t,n)}u4(e,t)}};cN=function(){return Zr};fN=function(e,t){var r=Zr;try{return Zr=e,t()}finally{Zr=r}};G5=function(e,t,r){switch(t){case"input":if(U5(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Hy(n);if(!i)throw Error(St(90));V9(n),U5(n,i)}}}break;case"textarea":q9(e,r);break;case"select":t=r.value,t!=null&&Yh(e,!!r.multiple,t,!1)}};Z9=i4;Q9=Nf;var Y$={usingClientEntryPoint:!1,Events:[h0,zh,Hy,X9,Y9,i4]},bp={findFiberByHostInstance:rf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z$={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tN(e),e===null?null:e.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||G$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{Uy=qg.inject(Z$),zo=qg}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$;ps.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f4(t))throw Error(St(200));return K$(e,t,null,r)};ps.createRoot=function(e,t){if(!f4(e))throw Error(St(299));var r=!1,n="",i=jI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=l4(e,1,!1,null,null,r,!1,n,i),e[jl]=t.current,Sm(e.nodeType===8?e.parentNode:e),new c4(t)};ps.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=tN(t),e=e===null?null:e.stateNode,e};ps.flushSync=function(e){return Nf(e)};ps.hydrate=function(e,t,r){if(!eb(t))throw Error(St(200));return tb(null,e,t,!0,r)};ps.hydrateRoot=function(e,t,r){if(!f4(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=jI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=OI(t,null,e,1,r??null,i,!1,a,s),e[jl]=t.current,Sm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Jy(t)};ps.render=function(e,t,r){if(!eb(t))throw Error(St(200));return tb(null,e,t,!1,r)};ps.unmountComponentAtNode=function(e){if(!eb(e))throw Error(St(40));return e._reactRootContainer?(Nf(function(){tb(null,null,e,!1,function(){e._reactRootContainer=null,e[jl]=null})}),!0):!1};ps.unstable_batchedUpdates=i4;ps.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eb(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return tb(e,t,r,!1,n)};ps.version="18.3.1-next-f1338f8080-20240426";function MI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MI)}catch(e){console.error(e)}}MI(),M9.exports=ps;var rb=M9.exports,bA=rb;M5.createRoot=bA.createRoot,M5.hydrateRoot=bA.hydrateRoot;var wA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},Q$=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},LI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let h=(o&15)<<2|u>>6,d=u&63;l||(d=64,s||(h=64)),n.push(r[c],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(RI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Q$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new J$;const h=a<<2|o>>4;if(n.push(h),u!==64){const d=o<<4&240|u>>2;if(n.push(d),f!==64){const m=u<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class J$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eq=function(e){const t=RI(e);return LI.encodeByteArray(t,!0)},Tv=function(e){return eq(e).replace(/\./g,"")},DI=function(e){try{return LI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=()=>tq().__FIREBASE_DEFAULTS__,nq=()=>{if(typeof process>"u"||typeof wA>"u")return;const e=wA.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iq=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&DI(e[1]);return t&&JSON.parse(t)},nb=()=>{try{return rq()||nq()||iq()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},FI=e=>{var t,r;return(r=(t=nb())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},BI=e=>{const t=FI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},zI=()=>{var e;return(e=nb())===null||e===void 0?void 0:e.config},UI=e=>{var t;return(t=nb())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tv(JSON.stringify(r)),Tv(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())}function oq(){var e;const t=(e=nb())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uq(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fq(){const e=ha();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hq(){return!oq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dq(){try{return typeof indexedDB=="object"}catch{return!1}}function pq(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq="FirebaseError";class Jo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=mq,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p0.prototype.create)}}class p0{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?gq(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Jo(i,o,n)}}function gq(e,t){return e.replace(vq,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const vq=/\{\$([^}]+)}/g;function yq(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pv(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(xA(a)&&xA(s)){if(!Pv(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function xA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Bp(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function zp(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function bq(e,t){const r=new wq(e,t);return r.subscribe.bind(r)}class wq{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");xq(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=Cw),i.error===void 0&&(i.error=Cw),i.complete===void 0&&(i.complete=Cw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xq(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Cw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){return e&&e._delegate?e._delegate:e}class dc{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _q=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new aq;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kq(t))try{this.getOrInitializeService({instanceIdentifier:Zc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Zc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zc){return this.instances.has(t)}getOptions(t=Zc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Sq(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Zc){return this.component?this.component.multipleInstances?t:Zc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sq(e){return e===Zc?void 0:e}function kq(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new _q(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nr||(Nr={}));const Eq={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},Cq=Nr.INFO,Tq={[Nr.DEBUG]:"log",[Nr.VERBOSE]:"log",[Nr.INFO]:"info",[Nr.WARN]:"warn",[Nr.ERROR]:"error"},Pq=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Tq[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class h4{constructor(t){this.name=t,this._logLevel=Cq,this._logHandler=Pq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Eq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...t),this._logHandler(this,Nr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...t),this._logHandler(this,Nr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...t),this._logHandler(this,Nr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...t),this._logHandler(this,Nr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...t),this._logHandler(this,Nr.ERROR,...t)}}const Nq=(e,t)=>t.some(r=>e instanceof r);let _A,SA;function Iq(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oq(){return SA||(SA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $I=new WeakMap,Cx=new WeakMap,qI=new WeakMap,Tw=new WeakMap,d4=new WeakMap;function jq(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(nc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&$I.set(r,e)}).catch(()=>{}),d4.set(t,e),t}function Mq(e){if(Cx.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Cx.set(e,t)}let Tx={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Cx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qI.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rq(e){Tx=e(Tx)}function Lq(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Pw(this),t,...r);return qI.set(n,t.sort?t.sort():[t]),nc(n)}:Oq().includes(e)?function(...t){return e.apply(Pw(this),t),nc($I.get(this))}:function(...t){return nc(e.apply(Pw(this),t))}}function Dq(e){return typeof e=="function"?Lq(e):(e instanceof IDBTransaction&&Mq(e),Nq(e,Iq())?new Proxy(e,Tx):e)}function nc(e){if(e instanceof IDBRequest)return jq(e);if(Tw.has(e))return Tw.get(e);const t=Dq(e);return t!==e&&(Tw.set(e,t),d4.set(t,e)),t}const Pw=e=>d4.get(e);function Fq(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=nc(s);return n&&s.addEventListener("upgradeneeded",l=>{n(nc(s.result),l.oldVersion,l.newVersion,nc(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Bq=["get","getKey","getAll","getAllKeys","count"],zq=["put","add","delete","clear"],Nw=new Map;function kA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Nw.get(t))return Nw.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=zq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Bq.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Nw.set(t,a),a}Rq(e=>({...e,get:(t,r,n)=>kA(t,r)||e.get(t,r,n),has:(t,r)=>!!kA(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Vq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Vq(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Px="@firebase/app",AA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new h4("@firebase/app"),$q="@firebase/app-compat",qq="@firebase/analytics-compat",Hq="@firebase/analytics",Wq="@firebase/app-check-compat",Kq="@firebase/app-check",Gq="@firebase/auth",Xq="@firebase/auth-compat",Yq="@firebase/database",Zq="@firebase/data-connect",Qq="@firebase/database-compat",Jq="@firebase/functions",eH="@firebase/functions-compat",tH="@firebase/installations",rH="@firebase/installations-compat",nH="@firebase/messaging",iH="@firebase/messaging-compat",aH="@firebase/performance",sH="@firebase/performance-compat",oH="@firebase/remote-config",lH="@firebase/remote-config-compat",uH="@firebase/storage",cH="@firebase/storage-compat",fH="@firebase/firestore",hH="@firebase/vertexai-preview",dH="@firebase/firestore-compat",pH="firebase",mH="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="[DEFAULT]",gH={[Px]:"fire-core",[$q]:"fire-core-compat",[Hq]:"fire-analytics",[qq]:"fire-analytics-compat",[Kq]:"fire-app-check",[Wq]:"fire-app-check-compat",[Gq]:"fire-auth",[Xq]:"fire-auth-compat",[Yq]:"fire-rtdb",[Zq]:"fire-data-connect",[Qq]:"fire-rtdb-compat",[Jq]:"fire-fn",[eH]:"fire-fn-compat",[tH]:"fire-iid",[rH]:"fire-iid-compat",[nH]:"fire-fcm",[iH]:"fire-fcm-compat",[aH]:"fire-perf",[sH]:"fire-perf-compat",[oH]:"fire-rc",[lH]:"fire-rc-compat",[uH]:"fire-gcs",[cH]:"fire-gcs-compat",[fH]:"fire-fst",[dH]:"fire-fst-compat",[hH]:"fire-vertex","fire-js":"fire-js",[pH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map,vH=new Map,Ix=new Map;function EA(e,t){try{e.container.addComponent(t)}catch(r){Ll.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function If(e){const t=e.name;if(Ix.has(t))return Ll.debug(`There were multiple attempts to register component ${t}.`),!1;Ix.set(t,e);for(const r of Nv.values())EA(r,e);for(const r of vH.values())EA(r,e);return!0}function ib(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function wl(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ic=new p0("app","Firebase",yH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=mH;function HI(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Nx,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw ic.create("bad-app-name",{appName:String(i)});if(r||(r=zI()),!r)throw ic.create("no-options");const a=Nv.get(i);if(a){if(Pv(r,a.options)&&Pv(n,a.config))return a;throw ic.create("duplicate-app",{appName:i})}const s=new Aq(i);for(const l of Ix.values())s.addComponent(l);const o=new bH(r,n,s);return Nv.set(i,o),o}function p4(e=Nx){const t=Nv.get(e);if(!t&&e===Nx&&zI())return HI();if(!t)throw ic.create("no-app",{appName:e});return t}function Vo(e,t,r){var n;let i=(n=gH[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${t}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ll.warn(o.join(" "));return}If(new dc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="firebase-heartbeat-database",xH=1,Om="firebase-heartbeat-store";let Iw=null;function WI(){return Iw||(Iw=Fq(wH,xH,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Om)}catch(r){console.warn(r)}}}}).catch(e=>{throw ic.create("idb-open",{originalErrorMessage:e.message})})),Iw}async function _H(e){try{const r=(await WI()).transaction(Om),n=await r.objectStore(Om).get(KI(e));return await r.done,n}catch(t){if(t instanceof Jo)Ll.warn(t.message);else{const r=ic.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ll.warn(r.message)}}}async function CA(e,t){try{const n=(await WI()).transaction(Om,"readwrite");await n.objectStore(Om).put(t,KI(e)),await n.done}catch(r){if(r instanceof Jo)Ll.warn(r.message);else{const n=ic.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ll.warn(n.message)}}}function KI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=1024,kH=30*24*60*60*1e3;class AH{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new CH(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=TA();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=kH}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ll.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=TA(),{heartbeatsToSend:n,unsentEntries:i}=EH(this._heartbeatsCache.heartbeats),a=Tv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ll.warn(r),""}}}function TA(){return new Date().toISOString().substring(0,10)}function EH(e,t=SH){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),PA(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),PA(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class CH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dq()?pq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _H(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CA(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CA(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function PA(e){return Tv(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(e){If(new dc("platform-logger",t=>new Uq(t),"PRIVATE")),If(new dc("heartbeat",t=>new AH(t),"PRIVATE")),Vo(Px,AA,e),Vo(Px,AA,"esm2017"),Vo("fire-js","")}TH("");function m4(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function GI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PH=GI,XI=new p0("auth","Firebase",GI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new h4("@firebase/auth");function NH(e,...t){Iv.logLevel<=Nr.WARN&&Iv.warn(`Auth (${Gf}): ${e}`,...t)}function z1(e,...t){Iv.logLevel<=Nr.ERROR&&Iv.error(`Auth (${Gf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e,...t){throw g4(e,...t)}function $o(e,...t){return g4(e,...t)}function YI(e,t,r){const n=Object.assign(Object.assign({},PH()),{[t]:r});return new p0("auth","Firebase",n).create(t,{appName:e.name})}function ac(e){return YI(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g4(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return XI.create(e,...t)}function or(e,t,...r){if(!e)throw g4(t,...r)}function xl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw z1(t),new Error(t)}function Dl(e,t){e||xl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function IH(){return NA()==="http:"||NA()==="https:"}function NA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IH()||uq()||"connection"in navigator)?navigator.onLine:!0}function jH(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,r){this.shortDelay=t,this.longDelay=r,Dl(r>t,"Short delay should be less than long delay!"),this.isMobile=sq()||cq()}get(){return OH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(e,t){Dl(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new g0(3e4,6e4);function Xf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Tc(e,t,r,n,i={}){return QI(e,i,async()=>{let a={},s={};n&&(t==="GET"?s=n:a={body:JSON.stringify(n)});const o=m0(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return lq()||(u.referrerPolicy="no-referrer"),ZI.fetch()(JI(e,e.config.apiHost,r,o),u)})}async function QI(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},MH),t);try{const i=new DH(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Hg(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hg(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hg(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hg(e,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YI(e,c,u);po(e,c)}}catch(i){if(i instanceof Jo)throw i;po(e,"network-request-failed",{message:String(i)})}}async function ab(e,t,r,n,i={}){const a=await Tc(e,t,r,n,i);return"mfaPendingCredential"in a&&po(e,"multi-factor-auth-required",{_serverResponse:a}),a}function JI(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?v4(e.config,i):`${e.config.apiScheme}://${i}`}function LH(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DH{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n($o(this.auth,"network-request-failed")),RH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hg(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=$o(e,t,n);return i.customData._tokenResponse=r,i}function IA(e){return e!==void 0&&e.enterprise!==void 0}class FH{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return LH(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function BH(e,t){return Tc(e,"GET","/v2/recaptchaConfig",Xf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(e,t){return Tc(e,"POST","/v1/accounts:delete",t)}async function eO(e,t){return Tc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UH(e,t=!1){const r=dn(e),n=await r.getIdToken(t),i=y4(n);or(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:nm(Ow(i.auth_time)),issuedAtTime:nm(Ow(i.iat)),expirationTime:nm(Ow(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ow(e){return Number(e)*1e3}function y4(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return z1("JWT malformed, contained fewer than 3 sections"),null;try{const i=DI(r);return i?JSON.parse(i):(z1("Failed to decode base64 JWT payload"),null)}catch(i){return z1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function OA(e){const t=y4(e);return or(t,"internal-error"),or(typeof t.exp<"u","internal-error"),or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Jo&&VH(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function VH({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=nm(this.lastLoginAt),this.creationTime=nm(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(e){var t;const r=e.auth,n=await e.getIdToken(),i=await jm(e,eO(r,{idToken:n}));or(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?tO(a.providerUserInfo):[],o=HH(e.providerData,s),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new jx(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function qH(e){const t=dn(e);await Ov(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HH(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function tO(e){return e.map(t=>{var{providerId:r}=t,n=m4(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(e,t){const r=await QI(e,{},async()=>{const n=m0({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=JI(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ZI.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function KH(e,t){return Tc(e,"POST","/v2/accounts:revokeToken",Xf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){or(t.idToken,"internal-error"),or(typeof t.idToken<"u","internal-error"),or(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){or(t.length!==0,"internal-error");const r=OA(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await WH(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new rd;return n&&(or(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),i&&(or(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(or(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new rd,this.toJSON())}_performRefresh(){return xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e,t){or(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _l{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=m4(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $H(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await jm(this,this.stsTokenManager.getToken(this.auth,t));return or(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return UH(this,t)}reload(){return qH(this)}_assign(t){this!==t&&(or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new _l(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Ov(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wl(this.auth.app))return Promise.reject(ac(this.auth));const t=await this.getIdToken();return await jm(this,zH(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,s,o,l,u,c;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,d=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(s=r.photoURL)!==null&&s!==void 0?s:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,p=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=r.createdAt)!==null&&u!==void 0?u:void 0,y=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:x,isAnonymous:C,providerData:O,stsTokenManager:I}=r;or(b&&I,t,"internal-error");const T=rd.fromJSON(this.name,I);or(typeof b=="string",t,"internal-error"),Eu(f,t.name),Eu(h,t.name),or(typeof x=="boolean",t,"internal-error"),or(typeof C=="boolean",t,"internal-error"),Eu(d,t.name),Eu(m,t.name),Eu(g,t.name),Eu(p,t.name),Eu(v,t.name),Eu(y,t.name);const M=new _l({uid:b,auth:t,email:h,emailVerified:x,displayName:f,isAnonymous:C,photoURL:m,phoneNumber:d,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:y});return O&&Array.isArray(O)&&(M.providerData=O.map(B=>Object.assign({},B))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(t,r,n=!1){const i=new rd;i.updateFromServerResponse(r);const a=new _l({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Ov(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];or(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?tO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new rd;o.updateFromIdToken(n);const l=new _l({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Map;function Sl(e){Dl(e instanceof Function,"Expected a class definition");let t=jA.get(e);return t?(Dl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}rO.type="NONE";const MA=rO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e,t,r){return`firebase:${e}:${t}:${r}`}class nd{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=U1(this.userKey,i.apiKey,a),this.fullPersistenceKey=U1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?_l._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new nd(Sl(MA),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Sl(MA);const s=U1(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const c=await u._get(s);if(c){const f=_l._fromJSON(t,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new nd(a,t,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new nd(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sO(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nO(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lO(t))return"Blackberry";if(uO(t))return"Webos";if(iO(t))return"Safari";if((t.includes("chrome/")||aO(t))&&!t.includes("edge/"))return"Chrome";if(oO(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function nO(e=ha()){return/firefox\//i.test(e)}function iO(e=ha()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aO(e=ha()){return/crios\//i.test(e)}function sO(e=ha()){return/iemobile/i.test(e)}function oO(e=ha()){return/android/i.test(e)}function lO(e=ha()){return/blackberry/i.test(e)}function uO(e=ha()){return/webos/i.test(e)}function b4(e=ha()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function GH(e=ha()){var t;return b4(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function XH(){return fq()&&document.documentMode===10}function cO(e=ha()){return b4(e)||oO(e)||uO(e)||lO(e)||/windows phone/i.test(e)||sO(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(e,t=[]){let r;switch(e){case"Browser":r=RA(ha());break;case"Worker":r=`${RA(ha())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(e,t={}){return Tc(e,"GET","/v2/passwordPolicy",Xf(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=6;class JH{constructor(t){var r,n,i,a;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:QH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LA(this),this.idTokenSubscription=new LA(this),this.beforeStateQueue=new YH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Sl(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await nd.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await eO(this,{idToken:t}),n=await _l._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(wl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Ov(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jH()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wl(this.app))return Promise.reject(ac(this));const r=t?dn(t):null;return r&&or(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wl(this.app)?Promise.reject(ac(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wl(this.app)?Promise.reject(ac(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZH(this),r=new JH(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new p0("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await KH(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Sl(t)||this._popupRedirectResolver;or(r,this,"argument-error"),this.redirectPersistenceManager=await nd.create(this,[Sl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&NH(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Rd(e){return dn(e)}class LA{constructor(t){this.auth=t,this.observer=null,this.addObserver=bq(r=>this.observer=r)}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tW(e){sb=e}function hO(e){return sb.loadJS(e)}function rW(){return sb.recaptchaEnterpriseScript}function nW(){return sb.gapiScript}function iW(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const aW="recaptcha-enterprise",sW="NO_RECAPTCHA";class oW{constructor(t){this.type=aW,this.auth=Rd(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{BH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new FH(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;IA(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(sW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&IA(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rW();l.length!==0&&(l+=o),hO(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function DA(e,t,r,n=!1){const i=new oW(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},t);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function FA(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await DA(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await DA(e,t,r,r==="getOobCode");return n(e,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(e,t){const r=ib(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Pv(a,t??{}))return i;po(i,"already-initialized")}return r.initialize({options:t})}function uW(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Sl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function cW(e,t,r){const n=Rd(e);or(n._canInitEmulator,n,"emulator-config-failed"),or(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=dO(t),{host:s,port:o}=fW(t),l=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),hW()}function dO(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fW(e){const t=dO(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:BA(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:BA(s)}}}function BA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function hW(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return xl("not implemented")}_getIdTokenResponse(t){return xl("not implemented")}_linkToIdToken(t,r){return xl("not implemented")}_getReauthenticationResolver(t){return xl("not implemented")}}async function dW(e,t){return Tc(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(e,t){return ab(e,"POST","/v1/accounts:signInWithPassword",Xf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mW(e,t){return ab(e,"POST","/v1/accounts:signInWithEmailLink",Xf(e,t))}async function gW(e,t){return ab(e,"POST","/v1/accounts:signInWithEmailLink",Xf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends w4{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Mm(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Mm(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FA(t,r,"signInWithPassword",pW);case"emailLink":return mW(t,{email:this._email,oobCode:this._password});default:po(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FA(t,n,"signUpPassword",dW);case"emailLink":return gW(t,{idToken:r,email:this._email,oobCode:this._password});default:po(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(e,t){return ab(e,"POST","/v1/accounts:signInWithIdp",Xf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="http://localhost";class Of extends w4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Of(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):po("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=m4(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Of(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return id(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,id(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,id(t,r)}buildRequest(){const t={requestUri:vW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=m0(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bW(e){const t=Bp(zp(e)).link,r=t?Bp(zp(t)).deep_link_id:null,n=Bp(zp(e)).deep_link_id;return(n?Bp(zp(n)).link:null)||n||r||t||e}class x4{constructor(t){var r,n,i,a,s,o;const l=Bp(zp(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,f=yW((i=l.mode)!==null&&i!==void 0?i:null);or(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const r=bW(t);try{return new x4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.providerId=Ld.PROVIDER_ID}static credential(t,r){return Mm._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=x4.parseLink(r);return or(n,"argument-error"),Mm._fromEmailAndCode(t,n.code,n.tenantId)}}Ld.PROVIDER_ID="password";Ld.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ld.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends pO{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends v0{constructor(){super("facebook.com")}static credential(t){return Of._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lu.credentialFromTaggedObject(t)}static credentialFromError(t){return Lu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lu.credential(t.oauthAccessToken)}catch{return null}}}Lu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends v0{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Of._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Du.credentialFromTaggedObject(t)}static credentialFromError(t){return Du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Du.credential(r,n)}catch{return null}}}Du.GOOGLE_SIGN_IN_METHOD="google.com";Du.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends v0{constructor(){super("github.com")}static credential(t){return Of._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fu.credentialFromTaggedObject(t)}static credentialFromError(t){return Fu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fu.credential(t.oauthAccessToken)}catch{return null}}}Fu.GITHUB_SIGN_IN_METHOD="github.com";Fu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends v0{constructor(){super("twitter.com")}static credential(t,r){return Of._fromParams({providerId:Bu.PROVIDER_ID,signInMethod:Bu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Bu.credentialFromTaggedObject(t)}static credentialFromError(t){return Bu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Bu.credential(r,n)}catch{return null}}}Bu.TWITTER_SIGN_IN_METHOD="twitter.com";Bu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await _l._fromIdTokenResponse(t,n,i),s=zA(n);return new gd({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=zA(n);return new gd({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function zA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Jo{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,jv.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new jv(t,r,n,i)}}function mO(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jv._fromErrorAndOperation(e,a,t,n):a})}async function wW(e,t,r=!1){const n=await jm(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return gd._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(e,t,r=!1){const{auth:n}=e;if(wl(n.app))return Promise.reject(ac(n));const i="reauthenticate";try{const a=await jm(e,mO(n,i,t,e),r);or(a.idToken,n,"internal-error");const s=y4(a.idToken);or(s,n,"internal-error");const{sub:o}=s;return or(e.uid===o,n,"user-mismatch"),gd._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&po(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(e,t,r=!1){if(wl(e.app))return Promise.reject(ac(e));const n="signIn",i=await mO(e,n,t),a=await gd._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function _W(e,t){return gO(Rd(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(e){const t=Rd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function kW(e,t,r){return wl(e.app)?Promise.reject(ac(e)):_W(dn(e),Ld.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&SW(e),n})}function AW(e,t,r,n){return dn(e).onIdTokenChanged(t,r,n)}function EW(e,t,r){return dn(e).beforeAuthStateChanged(t,r)}function CW(e,t,r,n){return dn(e).onAuthStateChanged(t,r,n)}function TW(e){return dn(e).signOut()}const Mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mv,"1"),this.storage.removeItem(Mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=1e3,NW=10;class yO extends vO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);XH()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,NW):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},PW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}yO.type="LOCAL";const IW=yO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO extends vO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}bO.type="SESSION";const wO=bO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new ob(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),l=await OW(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ob.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=_4("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}function MW(e){qo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){return typeof qo().WorkerGlobalScope<"u"&&typeof qo().importScripts=="function"}async function RW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LW(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function DW(){return xO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="firebaseLocalStorageDb",FW=1,Rv="firebaseLocalStorage",SO="fbase_key";class y0{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function lb(e,t){return e.transaction([Rv],t?"readwrite":"readonly").objectStore(Rv)}function BW(){const e=indexedDB.deleteDatabase(_O);return new y0(e).toPromise()}function Mx(){const e=indexedDB.open(_O,FW);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Rv,{keyPath:SO})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Rv)?t(n):(n.close(),await BW(),t(await Mx()))})})}async function UA(e,t,r){const n=lb(e,!0).put({[SO]:t,value:r});return new y0(n).toPromise()}async function zW(e,t){const r=lb(e,!1).get(t),n=await new y0(r).toPromise();return n===void 0?null:n.value}function VA(e,t){const r=lb(e,!0).delete(t);return new y0(r).toPromise()}const UW=800,VW=3;class kO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mx(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>VW)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ob._getInstance(DW()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await RW(),!this.activeServiceWorker)return;this.sender=new jW(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mx();return await UA(t,Mv,"1"),await VA(t,Mv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>UA(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>zW(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=lb(i,!1).getAll();return new y0(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kO.type="LOCAL";const $W=kO;new g0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(e,t){return t?Sl(t):(or(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4 extends w4{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return id(t,this._buildIdpRequest())}_linkToIdToken(t,r){return id(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return id(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function HW(e){return gO(e.auth,new S4(e),e.bypassAuthState)}function WW(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),xW(r,new S4(e),e.bypassAuthState)}async function KW(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),wW(r,new S4(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HW;case"linkViaPopup":case"linkViaRedirect":return KW;case"reauthViaPopup":case"reauthViaRedirect":return WW;default:po(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new g0(2e3,1e4);class Kh extends AO{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Kh.currentPopupAction&&Kh.currentPopupAction.cancel(),Kh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return or(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=_4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject($o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GW.get())};t()}}Kh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="pendingRedirect",V1=new Map;class YW extends AO{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=V1.get(this.auth._key());if(!t){try{const n=await ZW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}V1.set(this.auth._key(),t)}return this.bypassAuthState||V1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZW(e,t){const r=eK(t),n=JW(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function QW(e,t){V1.set(e._key(),t)}function JW(e){return Sl(e._redirectPersistence)}function eK(e){return U1(XW,e.config.apiKey,e.name)}async function tK(e,t,r=!1){if(wl(e.app))return Promise.reject(ac(e));const n=Rd(e),i=qW(n,t),s=await new YW(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=10*60*1e3;class nK{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iK(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!EO(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError($o(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rK&&this.cachedEventUids.clear(),this.cachedEventUids.has($A(t))}saveEventToCache(t){this.cachedEventUids.add($A(t)),this.lastProcessedEventTime=Date.now()}}function $A(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function EO({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function iK(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EO(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aK(e,t={}){return Tc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oK=/^https?/;async function lK(e){if(e.config.emulator)return;const{authorizedDomains:t}=await aK(e);for(const r of t)try{if(uK(r))return}catch{}po(e,"unauthorized-domain")}function uK(e){const t=Ox(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!oK.test(r))return!1;if(sK.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new g0(3e4,6e4);function qA(){const e=qo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function fK(e){return new Promise((t,r)=>{var n,i,a;function s(){qA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qA(),r($o(e,"network-request-failed"))},timeout:cK.get()})}if(!((i=(n=qo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=qo().gapi)===null||a===void 0)&&a.load)s();else{const o=iW("iframefcb");return qo()[o]=()=>{gapi.load?s():r($o(e,"network-request-failed"))},hO(`${nW()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw $1=null,t})}let $1=null;function hK(e){return $1=$1||fK(e),$1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=new g0(5e3,15e3),pK="__/auth/iframe",mK="emulator/auth/iframe",gK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yK(e){const t=e.config;or(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?v4(t,mK):`https://${e.config.authDomain}/${pK}`,n={apiKey:t.apiKey,appName:e.name,v:Gf},i=vK.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${m0(n).slice(1)}`}async function bK(e){const t=await hK(e),r=qo().gapi;return or(r,e,"internal-error"),t.open({where:document.body,url:yK(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gK,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=$o(e,"network-request-failed"),o=qo().setTimeout(()=>{a(s)},dK.get());function l(){qo().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xK=500,_K=600,SK="_blank",kK="http://localhost";class HA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AK(e,t,r,n=xK,i=_K){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},wK),{width:n.toString(),height:i.toString(),top:a,left:s}),u=ha().toLowerCase();r&&(o=aO(u)?SK:r),nO(u)&&(t=t||kK,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[d,m])=>`${h}${d}=${m},`,"");if(GH(u)&&o!=="_self")return EK(t||"",o),new HA(null);const f=window.open(t||"",o,c);or(f,e,"popup-blocked");try{f.focus()}catch{}return new HA(f)}function EK(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK="__/auth/handler",TK="emulator/auth/handler",PK=encodeURIComponent("fac");async function WA(e,t,r,n,i,a){or(e.config.authDomain,e,"auth-domain-config-required"),or(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Gf,eventId:i};if(t instanceof pO){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",yq(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof v0){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${PK}=${encodeURIComponent(l)}`:"";return`${NK(e)}?${m0(o).slice(1)}${u}`}function NK({config:e}){return e.emulator?v4(e,TK):`https://${e.authDomain}/${CK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="webStorageSupport";class IK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wO,this._completeRedirectFn=tK,this._overrideRedirectResult=QW}async _openPopup(t,r,n,i){var a;Dl((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await WA(t,r,n,Ox(),i);return AK(t,s,_4())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await WA(t,r,n,Ox(),i);return MW(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Dl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await bK(t),n=new nK(t);return r.register("authEvent",i=>(or(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(jw,{type:jw},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jw];s!==void 0&&r(!!s),po(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=lK(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return cO()||iO()||b4()}}const OK=IK;var KA="@firebase/auth",GA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RK(e){If(new dc("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;or(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fO(e)},u=new eW(n,i,a,l);return uW(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),If(new dc("auth-internal",t=>{const r=Rd(t.getProvider("auth").getImmediate());return(n=>new jK(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(KA,GA,MK(e)),Vo(KA,GA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=5*60,DK=UI("authIdTokenMaxAge")||LK;let XA=null;const FK=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>DK)return;const i=r==null?void 0:r.token;XA!==i&&(XA=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BK(e=p4()){const t=ib(e,"auth");if(t.isInitialized())return t.getImmediate();const r=lW(e,{popupRedirectResolver:OK,persistence:[$W,IW,wO]}),n=UI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=FK(a.toString());EW(r,s,()=>s(r.currentUser)),AW(r,o=>s(o))}}const i=FI("auth");return i&&cW(r,`http://${i}`),r}function zK(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}tW({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=$o("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",zK().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RK("Browser");var UK="firebase",VK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(UK,VK,"app");var YA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pf,CO;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,T){function M(){}M.prototype=T.prototype,I.D=T.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(B,L,P){for(var A=Array(arguments.length-2),j=2;j<arguments.length;j++)A[j-2]=arguments[j];return T.prototype[L].apply(B,A)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,M){M||(M=0);var B=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)B[L]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(L=0;16>L;++L)B[L]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;T=I.g[0],M=I.g[1],L=I.g[2];var P=I.g[3],A=T+(P^M&(L^P))+B[0]+3614090360&4294967295;T=M+(A<<7&4294967295|A>>>25),A=P+(L^T&(M^L))+B[1]+3905402710&4294967295,P=T+(A<<12&4294967295|A>>>20),A=L+(M^P&(T^M))+B[2]+606105819&4294967295,L=P+(A<<17&4294967295|A>>>15),A=M+(T^L&(P^T))+B[3]+3250441966&4294967295,M=L+(A<<22&4294967295|A>>>10),A=T+(P^M&(L^P))+B[4]+4118548399&4294967295,T=M+(A<<7&4294967295|A>>>25),A=P+(L^T&(M^L))+B[5]+1200080426&4294967295,P=T+(A<<12&4294967295|A>>>20),A=L+(M^P&(T^M))+B[6]+2821735955&4294967295,L=P+(A<<17&4294967295|A>>>15),A=M+(T^L&(P^T))+B[7]+4249261313&4294967295,M=L+(A<<22&4294967295|A>>>10),A=T+(P^M&(L^P))+B[8]+1770035416&4294967295,T=M+(A<<7&4294967295|A>>>25),A=P+(L^T&(M^L))+B[9]+2336552879&4294967295,P=T+(A<<12&4294967295|A>>>20),A=L+(M^P&(T^M))+B[10]+4294925233&4294967295,L=P+(A<<17&4294967295|A>>>15),A=M+(T^L&(P^T))+B[11]+2304563134&4294967295,M=L+(A<<22&4294967295|A>>>10),A=T+(P^M&(L^P))+B[12]+1804603682&4294967295,T=M+(A<<7&4294967295|A>>>25),A=P+(L^T&(M^L))+B[13]+4254626195&4294967295,P=T+(A<<12&4294967295|A>>>20),A=L+(M^P&(T^M))+B[14]+2792965006&4294967295,L=P+(A<<17&4294967295|A>>>15),A=M+(T^L&(P^T))+B[15]+1236535329&4294967295,M=L+(A<<22&4294967295|A>>>10),A=T+(L^P&(M^L))+B[1]+4129170786&4294967295,T=M+(A<<5&4294967295|A>>>27),A=P+(M^L&(T^M))+B[6]+3225465664&4294967295,P=T+(A<<9&4294967295|A>>>23),A=L+(T^M&(P^T))+B[11]+643717713&4294967295,L=P+(A<<14&4294967295|A>>>18),A=M+(P^T&(L^P))+B[0]+3921069994&4294967295,M=L+(A<<20&4294967295|A>>>12),A=T+(L^P&(M^L))+B[5]+3593408605&4294967295,T=M+(A<<5&4294967295|A>>>27),A=P+(M^L&(T^M))+B[10]+38016083&4294967295,P=T+(A<<9&4294967295|A>>>23),A=L+(T^M&(P^T))+B[15]+3634488961&4294967295,L=P+(A<<14&4294967295|A>>>18),A=M+(P^T&(L^P))+B[4]+3889429448&4294967295,M=L+(A<<20&4294967295|A>>>12),A=T+(L^P&(M^L))+B[9]+568446438&4294967295,T=M+(A<<5&4294967295|A>>>27),A=P+(M^L&(T^M))+B[14]+3275163606&4294967295,P=T+(A<<9&4294967295|A>>>23),A=L+(T^M&(P^T))+B[3]+4107603335&4294967295,L=P+(A<<14&4294967295|A>>>18),A=M+(P^T&(L^P))+B[8]+1163531501&4294967295,M=L+(A<<20&4294967295|A>>>12),A=T+(L^P&(M^L))+B[13]+2850285829&4294967295,T=M+(A<<5&4294967295|A>>>27),A=P+(M^L&(T^M))+B[2]+4243563512&4294967295,P=T+(A<<9&4294967295|A>>>23),A=L+(T^M&(P^T))+B[7]+1735328473&4294967295,L=P+(A<<14&4294967295|A>>>18),A=M+(P^T&(L^P))+B[12]+2368359562&4294967295,M=L+(A<<20&4294967295|A>>>12),A=T+(M^L^P)+B[5]+4294588738&4294967295,T=M+(A<<4&4294967295|A>>>28),A=P+(T^M^L)+B[8]+2272392833&4294967295,P=T+(A<<11&4294967295|A>>>21),A=L+(P^T^M)+B[11]+1839030562&4294967295,L=P+(A<<16&4294967295|A>>>16),A=M+(L^P^T)+B[14]+4259657740&4294967295,M=L+(A<<23&4294967295|A>>>9),A=T+(M^L^P)+B[1]+2763975236&4294967295,T=M+(A<<4&4294967295|A>>>28),A=P+(T^M^L)+B[4]+1272893353&4294967295,P=T+(A<<11&4294967295|A>>>21),A=L+(P^T^M)+B[7]+4139469664&4294967295,L=P+(A<<16&4294967295|A>>>16),A=M+(L^P^T)+B[10]+3200236656&4294967295,M=L+(A<<23&4294967295|A>>>9),A=T+(M^L^P)+B[13]+681279174&4294967295,T=M+(A<<4&4294967295|A>>>28),A=P+(T^M^L)+B[0]+3936430074&4294967295,P=T+(A<<11&4294967295|A>>>21),A=L+(P^T^M)+B[3]+3572445317&4294967295,L=P+(A<<16&4294967295|A>>>16),A=M+(L^P^T)+B[6]+76029189&4294967295,M=L+(A<<23&4294967295|A>>>9),A=T+(M^L^P)+B[9]+3654602809&4294967295,T=M+(A<<4&4294967295|A>>>28),A=P+(T^M^L)+B[12]+3873151461&4294967295,P=T+(A<<11&4294967295|A>>>21),A=L+(P^T^M)+B[15]+530742520&4294967295,L=P+(A<<16&4294967295|A>>>16),A=M+(L^P^T)+B[2]+3299628645&4294967295,M=L+(A<<23&4294967295|A>>>9),A=T+(L^(M|~P))+B[0]+4096336452&4294967295,T=M+(A<<6&4294967295|A>>>26),A=P+(M^(T|~L))+B[7]+1126891415&4294967295,P=T+(A<<10&4294967295|A>>>22),A=L+(T^(P|~M))+B[14]+2878612391&4294967295,L=P+(A<<15&4294967295|A>>>17),A=M+(P^(L|~T))+B[5]+4237533241&4294967295,M=L+(A<<21&4294967295|A>>>11),A=T+(L^(M|~P))+B[12]+1700485571&4294967295,T=M+(A<<6&4294967295|A>>>26),A=P+(M^(T|~L))+B[3]+2399980690&4294967295,P=T+(A<<10&4294967295|A>>>22),A=L+(T^(P|~M))+B[10]+4293915773&4294967295,L=P+(A<<15&4294967295|A>>>17),A=M+(P^(L|~T))+B[1]+2240044497&4294967295,M=L+(A<<21&4294967295|A>>>11),A=T+(L^(M|~P))+B[8]+1873313359&4294967295,T=M+(A<<6&4294967295|A>>>26),A=P+(M^(T|~L))+B[15]+4264355552&4294967295,P=T+(A<<10&4294967295|A>>>22),A=L+(T^(P|~M))+B[6]+2734768916&4294967295,L=P+(A<<15&4294967295|A>>>17),A=M+(P^(L|~T))+B[13]+1309151649&4294967295,M=L+(A<<21&4294967295|A>>>11),A=T+(L^(M|~P))+B[4]+4149444226&4294967295,T=M+(A<<6&4294967295|A>>>26),A=P+(M^(T|~L))+B[11]+3174756917&4294967295,P=T+(A<<10&4294967295|A>>>22),A=L+(T^(P|~M))+B[2]+718787259&4294967295,L=P+(A<<15&4294967295|A>>>17),A=M+(P^(L|~T))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+P&4294967295}n.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var M=T-this.blockSize,B=this.B,L=this.h,P=0;P<T;){if(L==0)for(;P<=M;)i(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<T;)if(B[L++]=I.charCodeAt(P++),L==this.blockSize){i(this,B),L=0;break}}else for(;P<T;)if(B[L++]=I[P++],L==this.blockSize){i(this,B),L=0;break}}this.h=L,this.o+=T},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var M=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=M&255,M/=256;for(this.u(I),I=Array(16),T=M=0;4>T;++T)for(var B=0;32>B;B+=8)I[M++]=this.g[T]>>>B&255;return I};function a(I,T){var M=o;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=T(I)}function s(I,T){this.h=T;for(var M=[],B=!0,L=I.length-1;0<=L;L--){var P=I[L]|0;B&&P==T||(M[L]=P,B=!1)}this.g=M}var o={};function l(I){return-128<=I&&128>I?a(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return p(u(-I));for(var T=[],M=1,B=0;I>=M;B++)T[B]=I/M|0,M*=4294967296;return new s(T,0)}function c(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return p(c(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(T,8)),B=f,L=0;L<I.length;L+=8){var P=Math.min(8,I.length-L),A=parseInt(I.substring(L,L+P),T);8>P?(P=u(Math.pow(T,P)),B=B.j(P).add(u(A))):(B=B.j(M),B=B.add(u(A)))}return B}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(g(this))return-p(this).m();for(var I=0,T=1,M=0;M<this.g.length;M++){var B=this.i(M);I+=(0<=B?B:4294967296+B)*T,T*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(g(this))return"-"+p(this).toString(I);for(var T=u(Math.pow(I,6)),M=this,B="";;){var L=x(M,T).g;M=v(M,L.j(T));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=L,m(M))return P+B;for(;6>P.length;)P="0"+P;B=P+B}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function g(I){return I.h==-1}e.l=function(I){return I=v(this,I),g(I)?-1:m(I)?0:1};function p(I){for(var T=I.g.length,M=[],B=0;B<T;B++)M[B]=~I.g[B];return new s(M,~I.h).add(h)}e.abs=function(){return g(this)?p(this):this},e.add=function(I){for(var T=Math.max(this.g.length,I.g.length),M=[],B=0,L=0;L<=T;L++){var P=B+(this.i(L)&65535)+(I.i(L)&65535),A=(P>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);B=A>>>16,P&=65535,A&=65535,M[L]=A<<16|P}return new s(M,M[M.length-1]&-2147483648?-1:0)};function v(I,T){return I.add(p(T))}e.j=function(I){if(m(this)||m(I))return f;if(g(this))return g(I)?p(this).j(p(I)):p(p(this).j(I));if(g(I))return p(this.j(p(I)));if(0>this.l(d)&&0>I.l(d))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,M=[],B=0;B<2*T;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var L=0;L<I.g.length;L++){var P=this.i(B)>>>16,A=this.i(B)&65535,j=I.i(L)>>>16,E=I.i(L)&65535;M[2*B+2*L]+=A*E,y(M,2*B+2*L),M[2*B+2*L+1]+=P*E,y(M,2*B+2*L+1),M[2*B+2*L+1]+=A*j,y(M,2*B+2*L+1),M[2*B+2*L+2]+=P*j,y(M,2*B+2*L+2)}for(B=0;B<T;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=T;B<2*T;B++)M[B]=0;return new s(M,0)};function y(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function b(I,T){this.g=I,this.h=T}function x(I,T){if(m(T))throw Error("division by zero");if(m(I))return new b(f,f);if(g(I))return T=x(p(I),T),new b(p(T.g),p(T.h));if(g(T))return T=x(I,p(T)),new b(p(T.g),T.h);if(30<I.g.length){if(g(I)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var M=h,B=T;0>=B.l(I);)M=C(M),B=C(B);var L=O(M,1),P=O(B,1);for(B=O(B,2),M=O(M,2);!m(B);){var A=P.add(B);0>=A.l(I)&&(L=L.add(M),P=A),B=O(B,1),M=O(M,1)}return T=v(I,L.j(T)),new b(L,T)}for(L=f;0<=I.l(T);){for(M=Math.max(1,Math.floor(I.m()/T.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),P=u(M),A=P.j(T);g(A)||0<A.l(I);)M-=B,P=u(M),A=P.j(T);m(P)&&(P=h),L=L.add(P),I=v(I,A)}return new b(L,I)}e.A=function(I){return x(this,I).h},e.and=function(I){for(var T=Math.max(this.g.length,I.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)&I.i(B);return new s(M,this.h&I.h)},e.or=function(I){for(var T=Math.max(this.g.length,I.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)|I.i(B);return new s(M,this.h|I.h)},e.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)^I.i(B);return new s(M,this.h^I.h)};function C(I){for(var T=I.g.length+1,M=[],B=0;B<T;B++)M[B]=I.i(B)<<1|I.i(B-1)>>>31;return new s(M,I.h)}function O(I,T){var M=T>>5;T%=32;for(var B=I.g.length-M,L=[],P=0;P<B;P++)L[P]=0<T?I.i(P+M)>>>T|I.i(P+M+1)<<32-T:I.i(P+M);return new s(L,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CO=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,pf=s}).apply(typeof YA<"u"?YA:typeof self<"u"?self:typeof window<"u"?window:{});var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TO,Up,PO,q1,Rx,NO,IO,OO;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(U,ee,ne){return U==Array.prototype||U==Object.prototype||(U[ee]=ne.value),U};function r(U){U=[typeof globalThis=="object"&&globalThis,U,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wg=="object"&&Wg];for(var ee=0;ee<U.length;++ee){var ne=U[ee];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}var n=r(this);function i(U,ee){if(ee)e:{var ne=n;U=U.split(".");for(var me=0;me<U.length-1;me++){var Me=U[me];if(!(Me in ne))break e;ne=ne[Me]}U=U[U.length-1],me=ne[U],ee=ee(me),ee!=me&&ee!=null&&t(ne,U,{configurable:!0,writable:!0,value:ee})}}function a(U,ee){U instanceof String&&(U+="");var ne=0,me=!1,Me={next:function(){if(!me&&ne<U.length){var ze=ne++;return{value:ee(ze,U[ze]),done:!1}}return me=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}i("Array.prototype.values",function(U){return U||function(){return a(this,function(ee,ne){return ne})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(U){var ee=typeof U;return ee=ee!="object"?ee:U?Array.isArray(U)?"array":ee:"null",ee=="array"||ee=="object"&&typeof U.length=="number"}function u(U){var ee=typeof U;return ee=="object"&&U!=null||ee=="function"}function c(U,ee,ne){return U.call.apply(U.bind,arguments)}function f(U,ee,ne){if(!U)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,me),U.apply(ee,Me)}}return function(){return U.apply(ee,arguments)}}function h(U,ee,ne){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function d(U,ee){var ne=Array.prototype.slice.call(arguments,1);return function(){var me=ne.slice();return me.push.apply(me,arguments),U.apply(this,me)}}function m(U,ee){function ne(){}ne.prototype=ee.prototype,U.aa=ee.prototype,U.prototype=new ne,U.prototype.constructor=U,U.Qb=function(me,Me,ze){for(var gt=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)gt[fr-2]=arguments[fr];return ee.prototype[Me].apply(me,gt)}}function g(U){const ee=U.length;if(0<ee){const ne=Array(ee);for(let me=0;me<ee;me++)ne[me]=U[me];return ne}return[]}function p(U,ee){for(let ne=1;ne<arguments.length;ne++){const me=arguments[ne];if(l(me)){const Me=U.length||0,ze=me.length||0;U.length=Me+ze;for(let gt=0;gt<ze;gt++)U[Me+gt]=me[gt]}else U.push(me)}}class v{constructor(ee,ne){this.i=ee,this.j=ne,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function y(U){return/^[\s\xa0]*$/.test(U)}function b(){var U=o.navigator;return U&&(U=U.userAgent)?U:""}function x(U){return x[" "](U),U}x[" "]=function(){};var C=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(U,ee,ne){for(const me in U)ee.call(ne,U[me],me,U)}function I(U,ee){for(const ne in U)ee.call(void 0,U[ne],ne,U)}function T(U){const ee={};for(const ne in U)ee[ne]=U[ne];return ee}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(U,ee){let ne,me;for(let Me=1;Me<arguments.length;Me++){me=arguments[Me];for(ne in me)U[ne]=me[ne];for(let ze=0;ze<M.length;ze++)ne=M[ze],Object.prototype.hasOwnProperty.call(me,ne)&&(U[ne]=me[ne])}}function L(U){var ee=1;U=U.split(":");const ne=[];for(;0<ee&&U.length;)ne.push(U.shift()),ee--;return U.length&&ne.push(U.join(":")),ne}function P(U){o.setTimeout(()=>{throw U},0)}function A(){var U=k;let ee=null;return U.g&&(ee=U.g,U.g=U.g.next,U.g||(U.h=null),ee.next=null),ee}class j{constructor(){this.h=this.g=null}add(ee,ne){const me=E.get();me.set(ee,ne),this.h?this.h.next=me:this.g=me,this.h=me}}var E=new v(()=>new w,U=>U.reset());class w{constructor(){this.next=this.g=this.h=null}set(ee,ne){this.h=ee,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let S,_=!1,k=new j,N=()=>{const U=o.Promise.resolve(void 0);S=()=>{U.then($)}};var $=()=>{for(var U;U=A();){try{U.h.call(U.g)}catch(ne){P(ne)}var ee=E;ee.j(U),100>ee.h&&(ee.h++,U.next=ee.g,ee.g=U)}_=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(U,ee){this.type=U,this.g=this.target=ee,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var U=!1,ee=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const ne=()=>{};o.addEventListener("test",ne,ee),o.removeEventListener("test",ne,ee)}catch{}return U}();function J(U,ee){if(H.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U){var ne=this.type=U.type,me=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;if(this.target=U.target||U.srcElement,this.g=ee,ee=U.relatedTarget){if(C){e:{try{x(ee.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(ee=null)}}else ne=="mouseover"?ee=U.fromElement:ne=="mouseout"&&(ee=U.toElement);this.relatedTarget=ee,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType=typeof U.pointerType=="string"?U.pointerType:V[U.pointerType]||"",this.state=U.state,this.i=U,U.defaultPrevented&&J.aa.h.call(this)}}m(J,H);var V={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),z=0;function D(U,ee,ne,me,Me){this.listener=U,this.proxy=null,this.src=ee,this.type=ne,this.capture=!!me,this.ha=Me,this.key=++z,this.da=this.fa=!1}function G(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function te(U){this.src=U,this.g={},this.h=0}te.prototype.add=function(U,ee,ne,me,Me){var ze=U.toString();U=this.g[ze],U||(U=this.g[ze]=[],this.h++);var gt=se(U,ee,me,Me);return-1<gt?(ee=U[gt],ne||(ee.fa=!1)):(ee=new D(ee,this.src,ze,!!me,Me),ee.fa=ne,U.push(ee)),ee};function ae(U,ee){var ne=ee.type;if(ne in U.g){var me=U.g[ne],Me=Array.prototype.indexOf.call(me,ee,void 0),ze;(ze=0<=Me)&&Array.prototype.splice.call(me,Me,1),ze&&(G(ee),U.g[ne].length==0&&(delete U.g[ne],U.h--))}}function se(U,ee,ne,me){for(var Me=0;Me<U.length;++Me){var ze=U[Me];if(!ze.da&&ze.listener==ee&&ze.capture==!!ne&&ze.ha==me)return Me}return-1}var le="closure_lm_"+(1e6*Math.random()|0),fe={};function ie(U,ee,ne,me,Me){if(Array.isArray(ee)){for(var ze=0;ze<ee.length;ze++)ie(U,ee[ze],ne,me,Me);return null}return ne=Ue(ne),U&&U[Z]?U.K(ee,ne,u(me)?!!me.capture:!1,Me):oe(U,ee,ne,!1,me,Me)}function oe(U,ee,ne,me,Me,ze){if(!ee)throw Error("Invalid event type");var gt=u(Me)?!!Me.capture:!!Me,fr=Pe(U);if(fr||(U[le]=fr=new te(U)),ne=fr.add(ee,ne,me,gt,ze),ne.proxy)return ne;if(me=be(),ne.proxy=me,me.src=U,me.listener=ne,U.addEventListener)K||(Me=gt),Me===void 0&&(Me=!1),U.addEventListener(ee.toString(),me,Me);else if(U.attachEvent)U.attachEvent(Se(ee.toString()),me);else if(U.addListener&&U.removeListener)U.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return ne}function be(){function U(ne){return ee.call(U.src,U.listener,ne)}const ee=Ae;return U}function ve(U,ee,ne,me,Me){if(Array.isArray(ee))for(var ze=0;ze<ee.length;ze++)ve(U,ee[ze],ne,me,Me);else me=u(me)?!!me.capture:!!me,ne=Ue(ne),U&&U[Z]?(U=U.i,ee=String(ee).toString(),ee in U.g&&(ze=U.g[ee],ne=se(ze,ne,me,Me),-1<ne&&(G(ze[ne]),Array.prototype.splice.call(ze,ne,1),ze.length==0&&(delete U.g[ee],U.h--)))):U&&(U=Pe(U))&&(ee=U.g[ee.toString()],U=-1,ee&&(U=se(ee,ne,me,Me)),(ne=-1<U?ee[U]:null)&&we(ne))}function we(U){if(typeof U!="number"&&U&&!U.da){var ee=U.src;if(ee&&ee[Z])ae(ee.i,U);else{var ne=U.type,me=U.proxy;ee.removeEventListener?ee.removeEventListener(ne,me,U.capture):ee.detachEvent?ee.detachEvent(Se(ne),me):ee.addListener&&ee.removeListener&&ee.removeListener(me),(ne=Pe(ee))?(ae(ne,U),ne.h==0&&(ne.src=null,ee[le]=null)):G(U)}}}function Se(U){return U in fe?fe[U]:fe[U]="on"+U}function Ae(U,ee){if(U.da)U=!0;else{ee=new J(ee,this);var ne=U.listener,me=U.ha||U.src;U.fa&&we(U),U=ne.call(me,ee)}return U}function Pe(U){return U=U[le],U instanceof te?U:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(U){return typeof U=="function"?U:(U[Re]||(U[Re]=function(ee){return U.handleEvent(ee)}),U[Re])}function We(){R.call(this),this.i=new te(this),this.M=this,this.F=null}m(We,R),We.prototype[Z]=!0,We.prototype.removeEventListener=function(U,ee,ne,me){ve(this,U,ee,ne,me)};function Ke(U,ee){var ne,me=U.F;if(me)for(ne=[];me;me=me.F)ne.push(me);if(U=U.M,me=ee.type||ee,typeof ee=="string")ee=new H(ee,U);else if(ee instanceof H)ee.target=ee.target||U;else{var Me=ee;ee=new H(me,U),B(ee,Me)}if(Me=!0,ne)for(var ze=ne.length-1;0<=ze;ze--){var gt=ee.g=ne[ze];Me=Qe(gt,me,!0,ee)&&Me}if(gt=ee.g=U,Me=Qe(gt,me,!0,ee)&&Me,Me=Qe(gt,me,!1,ee)&&Me,ne)for(ze=0;ze<ne.length;ze++)gt=ee.g=ne[ze],Me=Qe(gt,me,!1,ee)&&Me}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var U=this.i,ee;for(ee in U.g){for(var ne=U.g[ee],me=0;me<ne.length;me++)G(ne[me]);delete U.g[ee],U.h--}}this.F=null},We.prototype.K=function(U,ee,ne,me){return this.i.add(String(U),ee,!1,ne,me)},We.prototype.L=function(U,ee,ne,me){return this.i.add(String(U),ee,!0,ne,me)};function Qe(U,ee,ne,me){if(ee=U.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var Me=!0,ze=0;ze<ee.length;++ze){var gt=ee[ze];if(gt&&!gt.da&&gt.capture==ne){var fr=gt.listener,Cr=gt.ha||gt.src;gt.fa&&ae(U.i,gt),Me=fr.call(Cr,me)!==!1&&Me}}return Me&&!me.defaultPrevented}function rt(U,ee,ne){if(typeof U=="function")ne&&(U=h(U,ne));else if(U&&typeof U.handleEvent=="function")U=h(U.handleEvent,U);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:o.setTimeout(U,ee||0)}function dt(U){U.g=rt(()=>{U.g=null,U.i&&(U.i=!1,dt(U))},U.l);const ee=U.h;U.h=null,U.m.apply(null,ee)}class Ge extends R{constructor(ee,ne){super(),this.m=ee,this.l=ne,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(U){R.call(this),this.h=U,this.g={}}m(Et,R);var et=[];function ut(U){O(U.g,function(ee,ne){this.g.hasOwnProperty(ne)&&we(ee)},U),U.g={}}Et.prototype.N=function(){Et.aa.N.call(this),ut(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=o.JSON.stringify,xt=o.JSON.parse,wt=class{stringify(U){return o.JSON.stringify(U,void 0)}parse(U){return o.JSON.parse(U,void 0)}};function _e(){}_e.prototype.h=null;function kt(U){return U.h||(U.h=U.i())}function Je(){}var at={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){H.call(this,"d")}m(pt,H);function Ve(){H.call(this,"c")}m(Ve,H);var yt={},Ct=null;function jt(){return Ct=Ct||new We}yt.La="serverreachability";function Xt(U){H.call(this,yt.La,U)}m(Xt,H);function ar(U){const ee=jt();Ke(ee,new Xt(ee))}yt.STAT_EVENT="statevent";function Ut(U,ee){H.call(this,yt.STAT_EVENT,U),this.stat=ee}m(Ut,H);function vt(U){const ee=jt();Ke(ee,new Ut(ee,U))}yt.Ma="timingevent";function ur(U,ee){H.call(this,yt.Ma,U),this.size=ee}m(ur,H);function Ft(U,ee){if(typeof U!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){U()},ee)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Oe(U,ee,ne,me,Me,ze){U.info(function(){if(U.g)if(ze)for(var gt="",fr=ze.split("&"),Cr=0;Cr<fr.length;Cr++){var hr=fr[Cr].split("=");if(1<hr.length){var $r=hr[0];hr=hr[1];var tn=$r.split("_");gt=2<=tn.length&&tn[1]=="type"?gt+($r+"="+hr+"&"):gt+($r+"=redacted&")}}else gt=null;else gt=ze;return"XMLHTTP REQ ("+me+") [attempt "+Me+"]: "+ee+`
`+ne+`
`+gt})}function He(U,ee,ne,me,Me,ze,gt){U.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+Me+"]: "+ee+`
`+ne+`
`+ze+" "+gt})}function ft(U,ee,ne,me){U.info(function(){return"XMLHTTP TEXT ("+ee+"): "+_t(U,ne)+(me?" "+me:"")})}function qt(U,ee){U.info(function(){return"TIMEOUT: "+ee})}Ee.prototype.info=function(){};function _t(U,ee){if(!U.g)return ee;if(!ee)return null;try{var ne=JSON.parse(ee);if(ne){for(U=0;U<ne.length;U++)if(Array.isArray(ne[U])){var me=ne[U];if(!(2>me.length)){var Me=me[1];if(Array.isArray(Me)&&!(1>Me.length)){var ze=Me[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(var gt=1;gt<Me.length;gt++)Me[gt]=""}}}}return ot(ne)}catch{return ee}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},It;function Ht(){}m(Ht,_e),Ht.prototype.g=function(){return new XMLHttpRequest},Ht.prototype.i=function(){return{}},It=new Ht;function Ot(U,ee,ne,me){this.j=U,this.i=ee,this.l=ne,this.R=me||1,this.U=new Et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zt}function Zt(){this.i=null,this.g="",this.h=!1}var Sr={},wr={};function Rr(U,ee,ne){U.L=1,U.v=Ia(Dn(ee)),U.m=ne,U.P=!0,Br(U,null)}function Br(U,ee){U.F=Date.now(),Ce(U),U.A=Dn(U.v);var ne=U.A,me=U.R;Array.isArray(me)||(me=[String(me)]),rr(ne.i,"t",me),U.C=0,ne=U.j.J,U.h=new Zt,U.g=ue(U.j,ne?ee:null,!U.m),0<U.O&&(U.M=new Ge(h(U.Y,U,U.g),U.O)),ee=U.U,ne=U.g,me=U.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(et[0]=Me.toString()),Me=et);for(var ze=0;ze<Me.length;ze++){var gt=ie(ne,Me[ze],me||ee.handleEvent,!1,ee.h||ee);if(!gt)break;ee.g[gt.key]=gt}ee=U.H?T(U.H):{},U.m?(U.u||(U.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.A,U.u,U.m,ee)):(U.u="GET",U.g.ea(U.A,U.u,null,ee)),ar(),Oe(U.i,U.u,U.A,U.l,U.R,U.m)}Ot.prototype.ca=function(U){U=U.target;const ee=this.M;ee&&ci(U)==3?ee.j():this.Y(U)},Ot.prototype.Y=function(U){try{if(U==this.g)e:{const tn=ci(this.g);var ee=this.g.Ba();const Xs=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||tn!=4||ee==7||(ee==8||0>=Xs?ar(3):ar(2)),Xe(this);var ne=this.g.Z();this.X=ne;t:if(on(this)){var me=ah(this.g);U="";var Me=me.length,ze=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nt(this),At(this);var gt="";break t}this.h.i=new o.TextDecoder}for(ee=0;ee<Me;ee++)this.h.h=!0,U+=this.h.i.decode(me[ee],{stream:!(ze&&ee==Me-1)});me.length=0,this.h.g+=U,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=ne==200,He(this.i,this.u,this.A,this.l,this.R,tn,ne),this.o){if(this.T&&!this.K){t:{if(this.g){var fr,Cr=this.g;if((fr=Cr.g?Cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(fr)){var hr=fr;break t}}hr=null}if(ne=hr)ft(this.i,this.l,ne,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ct(this,ne);else{this.o=!1,this.s=3,vt(12),nt(this),At(this);break e}}if(this.P){ne=!0;let Li;for(;!this.J&&this.C<gt.length;)if(Li=de(this,gt),Li==wr){tn==4&&(this.s=4,vt(14),ne=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(Li==Sr){this.s=4,vt(15),ft(this.i,this.l,gt,"[Invalid Chunk]"),ne=!1;break}else ft(this.i,this.l,Li,null),ct(this,Li);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||gt.length!=0||this.h.h||(this.s=1,vt(16),ne=!1),this.o=this.o&&ne,!ne)ft(this.i,this.l,gt,"[Invalid Chunked Response]"),nt(this),At(this);else if(0<gt.length&&!this.W){this.W=!0;var $r=this.j;$r.g==this&&$r.ba&&!$r.M&&($r.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),fu($r),$r.M=!0,vt(11))}}else ft(this.i,this.l,gt,null),ct(this,gt);tn==4&&nt(this),this.o&&!this.J&&(tn==4?Eo(this.j,this):(this.o=!1,Ce(this)))}else ko(this.g),ne==400&&0<gt.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),nt(this),At(this)}}}catch{}finally{}};function on(U){return U.g?U.u=="GET"&&U.L!=2&&U.j.Ca:!1}function de(U,ee){var ne=U.C,me=ee.indexOf(`
`,ne);return me==-1?wr:(ne=Number(ee.substring(ne,me)),isNaN(ne)?Sr:(me+=1,me+ne>ee.length?wr:(ee=ee.slice(me,me+ne),U.C=me+ne,ee)))}Ot.prototype.cancel=function(){this.J=!0,nt(this)};function Ce(U){U.S=Date.now()+U.I,qe(U,U.I)}function qe(U,ee){if(U.B!=null)throw Error("WatchDog timer not null");U.B=Ft(h(U.ba,U),ee)}function Xe(U){U.B&&(o.clearTimeout(U.B),U.B=null)}Ot.prototype.ba=function(){this.B=null;const U=Date.now();0<=U-this.S?(qt(this.i,this.A),this.L!=2&&(ar(),vt(17)),nt(this),this.s=2,At(this)):qe(this,this.S-U)};function At(U){U.j.G==0||U.J||Eo(U.j,U)}function nt(U){Xe(U);var ee=U.M;ee&&typeof ee.ma=="function"&&ee.ma(),U.M=null,ut(U.U),U.g&&(ee=U.g,U.g=null,ee.abort(),ee.ma())}function ct(U,ee){try{var ne=U.j;if(ne.G!=0&&(ne.g==U||_r(ne.h,U))){if(!U.K&&_r(ne.h,U)&&ne.G==3){try{var me=ne.Da.g.parse(ee)}catch{me=null}if(Array.isArray(me)&&me.length==3){var Me=me;if(Me[0]==0){e:if(!ne.u){if(ne.g)if(ne.g.F+3e3<U.F)Gs(ne),ou(ne);else break e;il(ne),vt(18)}}else ne.za=Me[1],0<ne.za-ne.T&&37500>Me[2]&&ne.F&&ne.v==0&&!ne.C&&(ne.C=Ft(h(ne.Za,ne),6e3));if(1>=Kt(ne.h)&&ne.ca){try{ne.ca()}catch{}ne.ca=void 0}}else Xi(ne,11)}else if((U.K||ne.g==U)&&Gs(ne),!y(ee))for(Me=ne.Da.g.parse(ee),ee=0;ee<Me.length;ee++){let hr=Me[ee];if(ne.T=hr[0],hr=hr[1],ne.G==2)if(hr[0]=="c"){ne.K=hr[1],ne.ia=hr[2];const $r=hr[3];$r!=null&&(ne.la=$r,ne.j.info("VER="+ne.la));const tn=hr[4];tn!=null&&(ne.Aa=tn,ne.j.info("SVER="+ne.Aa));const Xs=hr[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(me=1.5*Xs,ne.L=me,ne.j.info("backChannelRequestTimeoutMs_="+me)),me=ne;const Li=U.g;if(Li){const Co=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var ze=me.h;ze.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(ze.j=ze.l,ze.g=new Set,ze.h&&(Qt(ze,ze.h),ze.h=null))}if(me.D){const To=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(me.ya=To,Ar(me.I,me.D,To))}}ne.G=3,ne.l&&ne.l.ua(),ne.ba&&(ne.R=Date.now()-U.F,ne.j.info("Handshake RTT: "+ne.R+"ms")),me=ne;var gt=U;if(me.qa=X(me,me.J?me.ia:null,me.W),gt.K){kr(me.h,gt);var fr=gt,Cr=me.L;Cr&&(fr.I=Cr),fr.B&&(Xe(fr),Ce(fr)),me.g=gt}else cu(me);0<ne.i.length&&lu(ne)}else hr[0]!="stop"&&hr[0]!="close"||Xi(ne,7);else ne.G==3&&(hr[0]=="stop"||hr[0]=="close"?hr[0]=="stop"?Xi(ne,7):Ks(ne):hr[0]!="noop"&&ne.l&&ne.l.ta(hr),ne.v=0)}}ar(4)}catch{}}var yr=class{constructor(U,ee){this.g=U,this.map=ee}};function nr(U){this.l=U||10,o.PerformanceNavigationTiming?(U=o.performance.getEntriesByType("navigation"),U=0<U.length&&(U[0].nextHopProtocol=="hq"||U[0].nextHopProtocol=="h2")):U=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(U){return U.h?!0:U.g?U.g.size>=U.j:!1}function Kt(U){return U.h?1:U.g?U.g.size:0}function _r(U,ee){return U.h?U.h==ee:U.g?U.g.has(ee):!1}function Qt(U,ee){U.g?U.g.add(ee):U.h=ee}function kr(U,ee){U.h&&U.h==ee?U.h=null:U.g&&U.g.has(ee)&&U.g.delete(ee)}nr.prototype.cancel=function(){if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const U of this.g.values())U.cancel();this.g.clear()}};function zr(U){if(U.h!=null)return U.i.concat(U.h.D);if(U.g!=null&&U.g.size!==0){let ee=U.i;for(const ne of U.g.values())ee=ee.concat(ne.D);return ee}return g(U.i)}function mn(U){if(U.V&&typeof U.V=="function")return U.V();if(typeof Map<"u"&&U instanceof Map||typeof Set<"u"&&U instanceof Set)return Array.from(U.values());if(typeof U=="string")return U.split("");if(l(U)){for(var ee=[],ne=U.length,me=0;me<ne;me++)ee.push(U[me]);return ee}ee=[],ne=0;for(me in U)ee[ne++]=U[me];return ee}function Tn(U){if(U.na&&typeof U.na=="function")return U.na();if(!U.V||typeof U.V!="function"){if(typeof Map<"u"&&U instanceof Map)return Array.from(U.keys());if(!(typeof Set<"u"&&U instanceof Set)){if(l(U)||typeof U=="string"){var ee=[];U=U.length;for(var ne=0;ne<U;ne++)ee.push(ne);return ee}ee=[],ne=0;for(const me in U)ee[ne++]=me;return ee}}}function wi(U,ee){if(U.forEach&&typeof U.forEach=="function")U.forEach(ee,void 0);else if(l(U)||typeof U=="string")Array.prototype.forEach.call(U,ee,void 0);else for(var ne=Tn(U),me=mn(U),Me=me.length,ze=0;ze<Me;ze++)ee.call(void 0,me[ze],ne&&ne[ze],U)}var Ln=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(U,ee){if(U){U=U.split("&");for(var ne=0;ne<U.length;ne++){var me=U[ne].indexOf("="),Me=null;if(0<=me){var ze=U[ne].substring(0,me);Me=U[ne].substring(me+1)}else ze=U[ne];ee(ze,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Hr(U){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,U instanceof Hr){this.h=U.h,xr(this,U.j),this.o=U.o,this.g=U.g,vr(this,U.s),this.l=U.l;var ee=U.i,ne=new ma;ne.i=ee.i,ee.g&&(ne.g=new Map(ee.g),ne.h=ee.h),Gi(this,ne),this.m=U.m}else U&&(ee=String(U).match(Ln))?(this.h=!1,xr(this,ee[1]||"",!0),this.o=Pn(ee[2]||""),this.g=Pn(ee[3]||"",!0),vr(this,ee[4]),this.l=Pn(ee[5]||"",!0),Gi(this,ee[6]||"",!0),this.m=Pn(ee[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Hr.prototype.toString=function(){var U=[],ee=this.j;ee&&U.push(Hn(ee,gs,!0),":");var ne=this.g;return(ne||ee=="file")&&(U.push("//"),(ee=this.o)&&U.push(Hn(ee,gs,!0),"@"),U.push(encodeURIComponent(String(ne)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ne=this.s,ne!=null&&U.push(":",String(ne))),(ne=this.l)&&(this.g&&ne.charAt(0)!="/"&&U.push("/"),U.push(Hn(ne,ne.charAt(0)=="/"?xi:_o,!0))),(ne=this.i.toString())&&U.push("?",ne),(ne=this.m)&&U.push("#",Hn(ne,$s)),U.join("")};function Dn(U){return new Hr(U)}function xr(U,ee,ne){U.j=ne?Pn(ee,!0):ee,U.j&&(U.j=U.j.replace(/:$/,""))}function vr(U,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);U.s=ee}else U.s=null}function Gi(U,ee,ne){ee instanceof ma?(U.i=ee,So(U.i,U.h)):(ne||(ee=Hn(ee,Mi)),U.i=new ma(ee,U.h))}function Ar(U,ee,ne){U.i.set(ee,ne)}function Ia(U){return Ar(U,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),U}function Pn(U,ee){return U?ee?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function Hn(U,ee,ne){return typeof U=="string"?(U=encodeURI(U).replace(ee,Oa),ne&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function Oa(U){return U=U.charCodeAt(0),"%"+(U>>4&15).toString(16)+(U&15).toString(16)}var gs=/[#\/\?@]/g,_o=/[#\?:]/g,xi=/[#\?]/g,Mi=/[#\?@]/g,$s=/#/g;function ma(U,ee){this.h=this.g=null,this.i=U||null,this.j=!!ee}function Wr(U){U.g||(U.g=new Map,U.h=0,U.i&&pa(U.i,function(ee,ne){U.add(decodeURIComponent(ee.replace(/\+/g," ")),ne)}))}e=ma.prototype,e.add=function(U,ee){Wr(this),this.i=null,U=ga(this,U);var ne=this.g.get(U);return ne||this.g.set(U,ne=[]),ne.push(ee),this.h+=1,this};function qs(U,ee){Wr(U),ee=ga(U,ee),U.g.has(ee)&&(U.i=null,U.h-=U.g.get(ee).length,U.g.delete(ee))}function vs(U,ee){return Wr(U),ee=ga(U,ee),U.g.has(ee)}e.forEach=function(U,ee){Wr(this),this.g.forEach(function(ne,me){ne.forEach(function(Me){U.call(ee,Me,me,this)},this)},this)},e.na=function(){Wr(this);const U=Array.from(this.g.values()),ee=Array.from(this.g.keys()),ne=[];for(let me=0;me<ee.length;me++){const Me=U[me];for(let ze=0;ze<Me.length;ze++)ne.push(ee[me])}return ne},e.V=function(U){Wr(this);let ee=[];if(typeof U=="string")vs(this,U)&&(ee=ee.concat(this.g.get(ga(this,U))));else{U=Array.from(this.g.values());for(let ne=0;ne<U.length;ne++)ee=ee.concat(U[ne])}return ee},e.set=function(U,ee){return Wr(this),this.i=null,U=ga(this,U),vs(this,U)&&(this.h-=this.g.get(U).length),this.g.set(U,[ee]),this.h+=1,this},e.get=function(U,ee){return U?(U=this.V(U),0<U.length?String(U[0]):ee):ee};function rr(U,ee,ne){qs(U,ee),0<ne.length&&(U.i=null,U.g.set(ga(U,ee),g(ne)),U.h+=ne.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],ee=Array.from(this.g.keys());for(var ne=0;ne<ee.length;ne++){var me=ee[ne];const ze=encodeURIComponent(String(me)),gt=this.V(me);for(me=0;me<gt.length;me++){var Me=ze;gt[me]!==""&&(Me+="="+encodeURIComponent(String(gt[me]))),U.push(Me)}}return this.i=U.join("&")};function ga(U,ee){return ee=String(ee),U.j&&(ee=ee.toLowerCase()),ee}function So(U,ee){ee&&!U.j&&(Wr(U),U.i=null,U.g.forEach(function(ne,me){var Me=me.toLowerCase();me!=Me&&(qs(this,me),rr(this,Me,ne))},U)),U.j=ee}function ys(U,ee){const ne=new Ee;if(o.Image){const me=new Image;me.onload=d(Ga,ne,"TestLoadImage: loaded",!0,ee,me),me.onerror=d(Ga,ne,"TestLoadImage: error",!1,ee,me),me.onabort=d(Ga,ne,"TestLoadImage: abort",!1,ee,me),me.ontimeout=d(Ga,ne,"TestLoadImage: timeout",!1,ee,me),o.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=U}else ee(!1)}function nh(U,ee){const ne=new Ee,me=new AbortController,Me=setTimeout(()=>{me.abort(),Ga(ne,"TestPingServer: timeout",!1,ee)},1e4);fetch(U,{signal:me.signal}).then(ze=>{clearTimeout(Me),ze.ok?Ga(ne,"TestPingServer: ok",!0,ee):Ga(ne,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(Me),Ga(ne,"TestPingServer: error",!1,ee)})}function Ga(U,ee,ne,me,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),me(ne)}catch{}}function ru(){this.g=new wt}function Rc(U,ee,ne){const me=ne||"";try{wi(U,function(Me,ze){let gt=Me;u(Me)&&(gt=ot(Me)),ee.push(me+ze+"="+encodeURIComponent(gt))})}catch(Me){throw ee.push(me+"type="+encodeURIComponent("_badmap")),Me}}function nu(U){this.l=U.Ub||null,this.j=U.eb||!1}m(nu,_e),nu.prototype.g=function(){return new iu(this.l,this.j)},nu.prototype.i=function(U){return function(){return U}}({});function iu(U,ee){We.call(this),this.D=U,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(iu,We),e=iu.prototype,e.open=function(U,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=U,this.A=ee,this.readyState=1,Xa(this)},e.send=function(U){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};U&&(ee.body=U),(this.D||o).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},e.Sa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")U.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else U.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(U){U.j.read().then(U.Pa.bind(U)).catch(U.ga.bind(U))}e.Pa=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var ee=U.value?U.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!U.done}))&&(this.response=this.responseText+=ee)}U.done?Hs(this):Xa(this),this.readyState==3&&ih(this)}},e.Ra=function(U){this.g&&(this.response=this.responseText=U,Hs(this))},e.Qa=function(U){this.g&&(this.response=U,Hs(this))},e.ga=function(){this.g&&Hs(this)};function Hs(U){U.readyState=4,U.l=null,U.j=null,U.v=null,Xa(U)}e.setRequestHeader=function(U,ee){this.u.append(U,ee)},e.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],ee=this.h.entries();for(var ne=ee.next();!ne.done;)ne=ne.value,U.push(ne[0]+": "+ne[1]),ne=ee.next();return U.join(`\r
`)};function Xa(U){U.onreadystatechange&&U.onreadystatechange.call(U)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(U){this.m=U?"include":"same-origin"}});function Ws(U){let ee="";return O(U,function(ne,me){ee+=me,ee+=":",ee+=ne,ee+=`\r
`}),ee}function Lc(U,ee,ne){e:{for(me in ne){var me=!1;break e}me=!0}me||(ne=Ws(ne),typeof U=="string"?ne!=null&&encodeURIComponent(String(ne)):Ar(U,ee,ne))}function Vr(U){We.call(this),this.headers=new Map,this.o=U||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Vr,We);var Dc=/^https?$/i,au=["POST","PUT"];e=Vr.prototype,e.Ha=function(U){this.J=U},e.ea=function(U,ee,ne,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);ee=ee?ee.toUpperCase():"GET",this.D=U,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():It.g(),this.v=this.o?kt(this.o):kt(It),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(ee,String(U),!0),this.B=!1}catch(ze){Fc(this,ze);return}if(U=ne||"",ne=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var Me in me)ne.set(Me,me[Me]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const ze of me.keys())ne.set(ze,me.get(ze));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(ne.keys()).find(ze=>ze.toLowerCase()=="content-type"),Me=o.FormData&&U instanceof o.FormData,!(0<=Array.prototype.indexOf.call(au,ee,void 0))||me||Me||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ze,gt]of ne)this.g.setRequestHeader(ze,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(U),this.u=!1}catch(ze){Fc(this,ze)}};function Fc(U,ee){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=ee,U.m=5,Bc(U),tl(U)}function Bc(U){U.A||(U.A=!0,Ke(U,"complete"),Ke(U,"error"))}e.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=U||7,Ke(this,"complete"),Ke(this,"abort"),tl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),Vr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zc(this):this.bb())},e.bb=function(){zc(this)};function zc(U){if(U.h&&typeof s<"u"&&(!U.v[1]||ci(U)!=4||U.Z()!=2)){if(U.u&&ci(U)==4)rt(U.Ea,0,U);else if(Ke(U,"readystatechange"),ci(U)==4){U.h=!1;try{const gt=U.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var ne;if(!(ne=ee)){var me;if(me=gt===0){var Me=String(U.D).match(Ln)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),me=!Dc.test(Me?Me.toLowerCase():"")}ne=me}if(ne)Ke(U,"complete"),Ke(U,"success");else{U.m=6;try{var ze=2<ci(U)?U.g.statusText:""}catch{ze=""}U.l=ze+" ["+U.Z()+"]",Bc(U)}}finally{tl(U)}}}}function tl(U,ee){if(U.g){Ya(U);const ne=U.g,me=U.v[0]?()=>{}:null;U.g=null,U.v=null,ee||Ke(U,"ready");try{ne.onreadystatechange=me}catch{}}}function Ya(U){U.I&&(o.clearTimeout(U.I),U.I=null)}e.isActive=function(){return!!this.g};function ci(U){return U.g?U.g.readyState:0}e.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(U){if(this.g){var ee=this.g.responseText;return U&&ee.indexOf(U)==0&&(ee=ee.substring(U.length)),xt(ee)}};function ah(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.H){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function ko(U){const ee={};U=(U.g&&2<=ci(U)&&U.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<U.length;me++){if(y(U[me]))continue;var ne=L(U[me]);const Me=ne[0];if(ne=ne[1],typeof ne!="string")continue;ne=ne.trim();const ze=ee[Me]||[];ee[Me]=ze,ze.push(ne)}I(ee,function(me){return me.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(U,ee,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[U]||ee}function su(U){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ri("failFast",!1,U),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ri("baseRetryDelayMs",5e3,U),this.cb=Ri("retryDelaySeedMs",1e4,U),this.Wa=Ri("forwardChannelMaxRetries",2,U),this.wa=Ri("forwardChannelRequestTimeoutMs",2e4,U),this.pa=U&&U.xmlHttpFactory||void 0,this.Xa=U&&U.Tb||void 0,this.Ca=U&&U.useFetchStreams||!1,this.L=void 0,this.J=U&&U.supportsCrossDomainXhr||!1,this.K="",this.h=new nr(U&&U.concurrentRequestLimit),this.Da=new ru,this.P=U&&U.fastHandshake||!1,this.O=U&&U.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=U&&U.Rb||!1,U&&U.xa&&this.j.xa(),U&&U.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&U&&U.detectBufferingProxy||!1,this.ja=void 0,U&&U.longPollingTimeout&&0<U.longPollingTimeout&&(this.ja=U.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=su.prototype,e.la=8,e.G=1,e.connect=function(U,ee,ne,me){vt(0),this.W=U,this.H=ee||{},ne&&me!==void 0&&(this.H.OSID=ne,this.H.OAID=me),this.F=this.X,this.I=X(this,null,this.W),lu(this)};function Ks(U){if(rl(U),U.G==3){var ee=U.U++,ne=Dn(U.I);if(Ar(ne,"SID",U.K),Ar(ne,"RID",ee),Ar(ne,"TYPE","terminate"),Ao(U,ne),ee=new Ot(U,U.j,ee),ee.L=2,ee.v=Ia(Dn(ne)),ne=!1,o.navigator&&o.navigator.sendBeacon)try{ne=o.navigator.sendBeacon(ee.v.toString(),"")}catch{}!ne&&o.Image&&(new Image().src=ee.v,ne=!0),ne||(ee.g=ue(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),Ce(ee)}du(U)}function ou(U){U.g&&(fu(U),U.g.cancel(),U.g=null)}function rl(U){ou(U),U.u&&(o.clearTimeout(U.u),U.u=null),Gs(U),U.h.cancel(),U.s&&(typeof U.s=="number"&&o.clearTimeout(U.s),U.s=null)}function lu(U){if(!lr(U.h)&&!U.s){U.s=!0;var ee=U.Ga;S||N(),_||(S(),_=!0),k.add(ee,U),U.B=0}}function Uc(U,ee){return Kt(U.h)>=U.h.j-(U.s?1:0)?!1:U.s?(U.i=ee.D.concat(U.i),!0):U.G==1||U.G==2||U.B>=(U.Va?0:U.Wa)?!1:(U.s=Ft(h(U.Ga,U,ee),hu(U,U.B)),U.B++,!0)}e.Ga=function(U){if(this.s)if(this.s=null,this.G==1){if(!U){this.U=Math.floor(1e5*Math.random()),U=this.U++;const Me=new Ot(this,this.j,U);let ze=this.o;if(this.S&&(ze?(ze=T(ze),B(ze,this.S)):ze=this.S),this.m!==null||this.O||(Me.H=ze,ze=null),this.P)e:{for(var ee=0,ne=0;ne<this.i.length;ne++){t:{var me=this.i[ne];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(ee+=me,4096<ee){ee=ne;break e}if(ee===4096||ne===this.i.length-1){ee=ne+1;break e}}ee=1e3}else ee=1e3;ee=nl(this,Me,ee),ne=Dn(this.I),Ar(ne,"RID",U),Ar(ne,"CVER",22),this.D&&Ar(ne,"X-HTTP-Session-Id",this.D),Ao(this,ne),ze&&(this.O?ee="headers="+encodeURIComponent(String(Ws(ze)))+"&"+ee:this.m&&Lc(ne,this.m,ze)),Qt(this.h,Me),this.Ua&&Ar(ne,"TYPE","init"),this.P?(Ar(ne,"$req",ee),Ar(ne,"SID","null"),Me.T=!0,Rr(Me,ne,null)):Rr(Me,ne,ee),this.G=2}}else this.G==3&&(U?uu(this,U):this.i.length==0||lr(this.h)||uu(this))};function uu(U,ee){var ne;ee?ne=ee.l:ne=U.U++;const me=Dn(U.I);Ar(me,"SID",U.K),Ar(me,"RID",ne),Ar(me,"AID",U.T),Ao(U,me),U.m&&U.o&&Lc(me,U.m,U.o),ne=new Ot(U,U.j,ne,U.B+1),U.m===null&&(ne.H=U.o),ee&&(U.i=ee.D.concat(U.i)),ee=nl(U,ne,1e3),ne.I=Math.round(.5*U.wa)+Math.round(.5*U.wa*Math.random()),Qt(U.h,ne),Rr(ne,me,ee)}function Ao(U,ee){U.H&&O(U.H,function(ne,me){Ar(ee,me,ne)}),U.l&&wi({},function(ne,me){Ar(ee,me,ne)})}function nl(U,ee,ne){ne=Math.min(U.i.length,ne);var me=U.l?h(U.l.Na,U.l,U):null;e:{var Me=U.i;let ze=-1;for(;;){const gt=["count="+ne];ze==-1?0<ne?(ze=Me[0].g,gt.push("ofs="+ze)):ze=0:gt.push("ofs="+ze);let fr=!0;for(let Cr=0;Cr<ne;Cr++){let hr=Me[Cr].g;const $r=Me[Cr].map;if(hr-=ze,0>hr)ze=Math.max(0,Me[Cr].g-100),fr=!1;else try{Rc($r,gt,"req"+hr+"_")}catch{me&&me($r)}}if(fr){me=gt.join("&");break e}}}return U=U.i.splice(0,ne),ee.D=U,me}function cu(U){if(!U.g&&!U.u){U.Y=1;var ee=U.Fa;S||N(),_||(S(),_=!0),k.add(ee,U),U.v=0}}function il(U){return U.g||U.u||3<=U.v?!1:(U.Y++,U.u=Ft(h(U.Fa,U),hu(U,U.v)),U.v++,!0)}e.Fa=function(){if(this.u=null,sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var U=2*this.R;this.j.info("BP detection timer enabled: "+U),this.A=Ft(h(this.ab,this),U)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ou(this),sh(this))};function fu(U){U.A!=null&&(o.clearTimeout(U.A),U.A=null)}function sh(U){U.g=new Ot(U,U.j,"rpc",U.Y),U.m===null&&(U.g.H=U.o),U.g.O=0;var ee=Dn(U.qa);Ar(ee,"RID","rpc"),Ar(ee,"SID",U.K),Ar(ee,"AID",U.T),Ar(ee,"CI",U.F?"0":"1"),!U.F&&U.ja&&Ar(ee,"TO",U.ja),Ar(ee,"TYPE","xmlhttp"),Ao(U,ee),U.m&&U.o&&Lc(ee,U.m,U.o),U.L&&(U.g.I=U.L);var ne=U.g;U=U.ia,ne.L=1,ne.v=Ia(Dn(ee)),ne.m=null,ne.P=!0,Br(ne,U)}e.Za=function(){this.C!=null&&(this.C=null,ou(this),il(this),vt(19))};function Gs(U){U.C!=null&&(o.clearTimeout(U.C),U.C=null)}function Eo(U,ee){var ne=null;if(U.g==ee){Gs(U),fu(U),U.g=null;var me=2}else if(_r(U.h,ee))ne=ee.D,kr(U.h,ee),me=1;else return;if(U.G!=0){if(ee.o)if(me==1){ne=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var Me=U.B;me=jt(),Ke(me,new ur(me,ne)),lu(U)}else cu(U);else if(Me=ee.s,Me==3||Me==0&&0<ee.X||!(me==1&&Uc(U,ee)||me==2&&il(U)))switch(ne&&0<ne.length&&(ee=U.h,ee.i=ee.i.concat(ne)),Me){case 1:Xi(U,5);break;case 4:Xi(U,10);break;case 3:Xi(U,6);break;default:Xi(U,2)}}}function hu(U,ee){let ne=U.Ta+Math.floor(Math.random()*U.cb);return U.isActive()||(ne*=2),ne*ee}function Xi(U,ee){if(U.j.info("Error code "+ee),ee==2){var ne=h(U.fb,U),me=U.Xa;const Me=!me;me=new Hr(me||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xr(me,"https"),Ia(me),Me?ys(me.toString(),ne):nh(me.toString(),ne)}else vt(2);U.G=0,U.l&&U.l.sa(ee),du(U),rl(U)}e.fb=function(U){U?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function du(U){if(U.G=0,U.ka=[],U.l){const ee=zr(U.h);(ee.length!=0||U.i.length!=0)&&(p(U.ka,ee),p(U.ka,U.i),U.h.i.length=0,g(U.i),U.i.length=0),U.l.ra()}}function X(U,ee,ne){var me=ne instanceof Hr?Dn(ne):new Hr(ne);if(me.g!="")ee&&(me.g=ee+"."+me.g),vr(me,me.s);else{var Me=o.location;me=Me.protocol,ee=ee?ee+"."+Me.hostname:Me.hostname,Me=+Me.port;var ze=new Hr(null);me&&xr(ze,me),ee&&(ze.g=ee),Me&&vr(ze,Me),ne&&(ze.l=ne),me=ze}return ne=U.D,ee=U.ya,ne&&ee&&Ar(me,ne,ee),Ar(me,"VER",U.la),Ao(U,me),me}function ue(U,ee,ne){if(ee&&!U.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=U.Ca&&!U.pa?new Vr(new nu({eb:ne})):new Vr(U.pa),ee.Ha(U.J),ee}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ke(){}e=ke.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Te(){}Te.prototype.g=function(U,ee){return new Le(U,ee)};function Le(U,ee){We.call(this),this.g=new su(ee),this.l=U,this.h=ee&&ee.messageUrlParams||null,U=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(U?U["X-WebChannel-Content-Type"]=ee.messageContentType:U={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(U?U["X-WebChannel-Client-Profile"]=ee.va:U={"X-WebChannel-Client-Profile":ee.va}),this.g.S=U,(U=ee&&ee.Sb)&&!y(U)&&(this.g.m=U),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!y(ee)&&(this.g.D=ee,U=this.h,U!==null&&ee in U&&(U=this.h,ee in U&&delete U[ee])),this.j=new Pt(this)}m(Le,We),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){Ks(this.g)},Le.prototype.o=function(U){var ee=this.g;if(typeof U=="string"){var ne={};ne.__data__=U,U=ne}else this.u&&(ne={},ne.__data__=ot(U),U=ne);ee.i.push(new yr(ee.Ya++,U)),ee.G==3&&lu(ee)},Le.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Le.aa.N.call(this)};function Ze(U){pt.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var ee=U.__sm__;if(ee){e:{for(const ne in ee){U=ne;break e}U=void 0}(this.i=U)&&(U=this.i,ee=ee!==null&&U in ee?ee[U]:void 0),this.data=ee}else this.data=U}m(Ze,pt);function mt(){Ve.call(this),this.status=1}m(mt,Ve);function Pt(U){this.g=U}m(Pt,ke),Pt.prototype.ua=function(){Ke(this.g,"a")},Pt.prototype.ta=function(U){Ke(this.g,new Ze(U))},Pt.prototype.sa=function(U){Ke(this.g,new mt)},Pt.prototype.ra=function(){Ke(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,OO=function(){return new Te},IO=function(){return jt()},NO=yt,Rx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,q1=Lt,Mt.COMPLETE="complete",PO=Mt,Je.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",We.prototype.listen=We.prototype.K,Up=Je,Vr.prototype.listenOnce=Vr.prototype.L,Vr.prototype.getLastError=Vr.prototype.Ka,Vr.prototype.getLastErrorCode=Vr.prototype.Ba,Vr.prototype.getStatus=Vr.prototype.Z,Vr.prototype.getResponseJson=Vr.prototype.Oa,Vr.prototype.getResponseText=Vr.prototype.oa,Vr.prototype.send=Vr.prototype.ea,Vr.prototype.setWithCredentials=Vr.prototype.Ha,TO=Vr}).apply(typeof Wg<"u"?Wg:typeof self<"u"?self:typeof window<"u"?window:{});const ZA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new h4("@firebase/firestore");function wp(){return jf.logLevel}function Gt(e,...t){if(jf.logLevel<=Nr.DEBUG){const r=t.map(k4);jf.debug(`Firestore (${Dd}): ${e}`,...r)}}function Fl(e,...t){if(jf.logLevel<=Nr.ERROR){const r=t.map(k4);jf.error(`Firestore (${Dd}): ${e}`,...r)}}function vd(e,...t){if(jf.logLevel<=Nr.WARN){const r=t.map(k4);jf.warn(`Firestore (${Dd}): ${e}`,...r)}}function k4(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e="Unexpected state"){const t=`FIRESTORE (${Dd}) INTERNAL ASSERTION FAILED: `+e;throw Fl(t),new Error(t)}function Qr(e,t){e||cr()}function gr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Jo{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(aa.UNAUTHENTICATED))}shutdown(){}}class qK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class HK{constructor(t){this.t=t,this.currentUser=aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Qr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new sc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new sc,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sc)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Qr(typeof n.accessToken=="string"),new jO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qr(t===null||typeof t=="string"),new aa(t)}}class WK{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=aa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KK{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new WK(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GK{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XK{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Qr(this.o===void 0);const n=a=>{a.error!=null&&Gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Gt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{Gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Qr(typeof r.token=="string"),this.R=r.token,new GK(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=YK(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function Lr(e,t){return e<t?-1:e>t?1:0}function yd(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qr.fromMillis(Date.now())}static fromDate(t){return qr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new qr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Lr(this.nanoseconds,t.nanoseconds):Lr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mr(t)}static min(){return new mr(new qr(0,0))}static max(){return new mr(new qr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,r,n){r===void 0?r=0:r>t.length&&cr(),n===void 0?n=t.length-r:n>t.length-r&&cr(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Rm.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Rm?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class yn extends Rm{construct(t,r,n){return new yn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Dt(lt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new yn(r)}static emptyPath(){return new yn([])}}const ZK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Rm{construct(t,r,n){return new $i(t,r,n)}static isValidIdentifier(t){return ZK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Dt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Dt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Dt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new Dt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(r)}static emptyPath(){return new $i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.path=t}static fromPath(t){return new Jt(yn.fromString(t))}static fromName(t){return new Jt(yn.fromString(t).popFirst(5))}static empty(){return new Jt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return yn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Jt(new yn(t.slice()))}}function QK(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=mr.fromTimestamp(n===1e9?new qr(r+1,0):new qr(r,n));return new pc(i,Jt.empty(),t)}function JK(e){return new pc(e.readTime,e.key,-1)}class pc{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new pc(mr.min(),Jt.empty(),-1)}static max(){return new pc(mr.max(),Jt.empty(),-1)}}function eG(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Jt.comparator(e.documentKey,t.documentKey),r!==0?r:Lr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(e){if(e.code!==lt.FAILED_PRECONDITION||e.message!==tG)throw e;Gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new bt((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.reject(r)}static resolve(t){return new bt((r,n)=>{r(t)})}static reject(t){return new bt((r,n)=>{n(t)})}static waitFor(t){return new bt((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=bt.resolve(!1);for(const n of t)r=r.next(i=>i?bt.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new bt((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new bt((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function nG(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function w0(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}A4.oe=-1;function ub(e){return e==null}function Lv(e){return e===0&&1/e==-1/0}function iG(e){return typeof e=="number"&&Number.isInteger(e)&&!Lv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function RO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,r){this.comparator=t,this.root=r||Vi.EMPTY}insert(t,r){return new jn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(t){return new jn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kg(this.root,t,this.comparator,!0)}}class Kg{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vi{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Vi.RED,this.left=i??Vi.EMPTY,this.right=a??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Vi(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Vi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cr();const t=this.left.check();if(t!==this.right.check())throw cr();return t+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1;Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw cr()}get value(){throw cr()}get color(){throw cr()}get left(){throw cr()}get right(){throw cr()}copy(t,r,n,i,a){return this}insert(t,r,n){return new Vi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.comparator=t,this.data=new jn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new JA(this.data.getIterator())}getIteratorFrom(t){return new JA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Hi)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Hi(this.comparator);return r.data=t,r}}class JA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new is([])}unionWith(t){let r=new Hi($i.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new is(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return yd(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new LO("Invalid base64 string: "+a):a}}(t);return new Ki(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new Ki(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const aG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(e){if(Qr(!!e),typeof e=="string"){let t=0;const r=aG.exec(e);if(Qr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Xn(e.seconds),nanos:Xn(e.nanos)}}function Xn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mf(e){return typeof e=="string"?Ki.fromBase64String(e):Ki.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function C4(e){const t=e.mapValue.fields.__previous_value__;return E4(t)?C4(t):t}function Lm(e){const t=mc(e.mapValue.fields.__local_write_time__.timestampValue);return new qr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(t,r,n,i,a,s,o,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Dm{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Dm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Dm&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg={mapValue:{}};function Rf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?E4(e)?4:lG(e)?9007199254740991:oG(e)?10:11:cr()}function Xo(e,t){if(e===t)return!0;const r=Rf(e);if(r!==Rf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lm(e).isEqual(Lm(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=mc(i.timestampValue),o=mc(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Mf(i.bytesValue).isEqual(Mf(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return Xn(i.geoPointValue.latitude)===Xn(a.geoPointValue.latitude)&&Xn(i.geoPointValue.longitude)===Xn(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xn(i.integerValue)===Xn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Xn(i.doubleValue),o=Xn(a.doubleValue);return s===o?Lv(s)===Lv(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return yd(e.arrayValue.values||[],t.arrayValue.values||[],Xo);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(QA(s)!==QA(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Xo(s[l],o[l])))return!1;return!0}(e,t);default:return cr()}}function Fm(e,t){return(e.values||[]).find(r=>Xo(r,t))!==void 0}function bd(e,t){if(e===t)return 0;const r=Rf(e),n=Rf(t);if(r!==n)return Lr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lr(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Xn(a.integerValue||a.doubleValue),l=Xn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return eE(e.timestampValue,t.timestampValue);case 4:return eE(Lm(e),Lm(t));case 5:return Lr(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Mf(a),l=Mf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Lr(o[u],l[u]);if(c!==0)return c}return Lr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=Lr(Xn(a.latitude),Xn(s.latitude));return o!==0?o:Lr(Xn(a.longitude),Xn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return tE(e.arrayValue,t.arrayValue);case 10:return function(a,s){var o,l,u,c;const f=a.fields||{},h=s.fields||{},d=(o=f.value)===null||o===void 0?void 0:o.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Lr(((u=d==null?void 0:d.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:tE(d,m)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===Gg.mapValue&&s===Gg.mapValue)return 0;if(a===Gg.mapValue)return 1;if(s===Gg.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Lr(l[f],c[f]);if(h!==0)return h;const d=bd(o[l[f]],u[c[f]]);if(d!==0)return d}return Lr(l.length,c.length)}(e.mapValue,t.mapValue);default:throw cr()}}function eE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lr(e,t);const r=mc(e),n=mc(t),i=Lr(r.seconds,n.seconds);return i!==0?i:Lr(r.nanos,n.nanos)}function tE(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=bd(r[i],n[i]);if(a)return a}return Lr(r.length,n.length)}function wd(e){return Lx(e)}function Lx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=mc(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Mf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Jt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Lx(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Lx(r.fields[s])}`;return i+"}"}(e.mapValue):cr()}function rE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dx(e){return!!e&&"integerValue"in e}function T4(e){return!!e&&"arrayValue"in e}function nE(e){return!!e&&"nullValue"in e}function iE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function H1(e){return!!e&&"mapValue"in e}function oG(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function im(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=im(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=im(e.arrayValue.values[r]);return t}return Object.assign({},e)}function lG(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.value=t}static empty(){return new Ba({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!H1(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=im(r)}setAll(t){let r=$i.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=im(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());H1(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Xo(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];H1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Yf(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Ba(im(this.value))}}function DO(e){const t=[];return Yf(e.fields,(r,n)=>{const i=new $i([r]);if(H1(n)){const a=DO(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new is(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new oa(t,0,mr.min(),mr.min(),mr.min(),Ba.empty(),0)}static newFoundDocument(t,r,n,i){return new oa(t,1,r,mr.min(),n,i,0)}static newNoDocument(t,r){return new oa(t,2,r,mr.min(),mr.min(),Ba.empty(),0)}static newUnknownDocument(t,r){return new oa(t,3,r,mr.min(),mr.min(),Ba.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(mr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ba.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.position=t,this.inclusive=r}}function aE(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=Jt.comparator(Jt.fromName(s.referenceValue),r.key):n=bd(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function sE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Xo(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,r="asc"){this.field=t,this.dir=r}}function uG(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FO=class{};class ai extends FO{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new fG(t,r,n):r==="array-contains"?new pG(t,n):r==="in"?new mG(t,n):r==="not-in"?new gG(t,n):r==="array-contains-any"?new vG(t,n):new ai(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new hG(t,n):new dG(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(bd(r,this.value)):r!==null&&Rf(this.value)===Rf(r)&&this.matchesComparison(bd(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return cr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mo extends FO{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new mo(t,r)}matches(t){return BO(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BO(e){return e.op==="and"}function zO(e){return cG(e)&&BO(e)}function cG(e){for(const t of e.filters)if(t instanceof mo)return!1;return!0}function Fx(e){if(e instanceof ai)return e.field.canonicalString()+e.op.toString()+wd(e.value);if(zO(e))return e.filters.map(t=>Fx(t)).join(",");{const t=e.filters.map(r=>Fx(r)).join(",");return`${e.op}(${t})`}}function UO(e,t){return e instanceof ai?function(n,i){return i instanceof ai&&n.op===i.op&&n.field.isEqual(i.field)&&Xo(n.value,i.value)}(e,t):e instanceof mo?function(n,i){return i instanceof mo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&UO(s,i.filters[o]),!0):!1}(e,t):void cr()}function VO(e){return e instanceof ai?function(r){return`${r.field.canonicalString()} ${r.op} ${wd(r.value)}`}(e):e instanceof mo?function(r){return r.op.toString()+" {"+r.getFilters().map(VO).join(" ,")+"}"}(e):"Filter"}class fG extends ai{constructor(t,r,n){super(t,r,n),this.key=Jt.fromName(n.referenceValue)}matches(t){const r=Jt.comparator(t.key,this.key);return this.matchesComparison(r)}}class hG extends ai{constructor(t,r){super(t,"in",r),this.keys=$O("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class dG extends ai{constructor(t,r){super(t,"not-in",r),this.keys=$O("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function $O(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Jt.fromName(n.referenceValue))}class pG extends ai{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return T4(r)&&Fm(r.arrayValue,this.value)}}class mG extends ai{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Fm(this.value.arrayValue,r)}}class gG extends ai{constructor(t,r){super(t,"not-in",r)}matches(t){if(Fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Fm(this.value.arrayValue,r)}}class vG extends ai{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!T4(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Fm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function oE(e,t=null,r=[],n=[],i=null,a=null,s=null){return new yG(e,t,r,n,i,a,s)}function P4(e){const t=gr(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Fx(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),ub(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>wd(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>wd(n)).join(",")),t.ue=r}return t.ue}function N4(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!uG(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!UO(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sE(e.startAt,t.startAt)&&sE(e.endAt,t.endAt)}function Bx(e){return Jt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bG(e,t,r,n,i,a,s,o){return new Fd(e,t,r,n,i,a,s,o)}function I4(e){return new Fd(e)}function lE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function qO(e){return e.collectionGroup!==null}function am(e){const t=gr(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Hi($i.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new Bm(a,n))}),r.has($i.keyField().canonicalString())||t.ce.push(new Bm($i.keyField(),n))}return t.ce}function Ho(e){const t=gr(e);return t.le||(t.le=wG(t,am(e))),t.le}function wG(e,t){if(e.limitType==="F")return oE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bm(i.field,a)});const r=e.endAt?new Dv(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Dv(e.startAt.position,e.startAt.inclusive):null;return oE(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function zx(e,t){const r=e.filters.concat([t]);return new Fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Ux(e,t,r){return new Fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function cb(e,t){return N4(Ho(e),Ho(t))&&e.limitType===t.limitType}function HO(e){return`${P4(Ho(e))}|lt:${e.limitType}`}function Ph(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>VO(i)).join(", ")}]`),ub(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>wd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>wd(i)).join(",")),`Target(${n})`}(Ho(e))}; limitType=${e.limitType})`}function fb(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Jt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of am(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=aE(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,am(n),i)||n.endAt&&!function(s,o,l){const u=aE(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,am(n),i))}(e,t)}function xG(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WO(e){return(t,r)=>{let n=!1;for(const i of am(e)){const a=_G(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function _G(e,t,r){const n=e.field.isKeyField()?Jt.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?bd(l,u):cr()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return cr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Yf(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return RO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new jn(Jt.comparator);function Bl(){return SG}const KO=new jn(Jt.comparator);function Vp(...e){let t=KO;for(const r of e)t=t.insert(r.key,r);return t}function GO(e){let t=KO;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function sf(){return sm()}function XO(){return sm()}function sm(){return new Bd(e=>e.toString(),(e,t)=>e.isEqual(t))}const kG=new jn(Jt.comparator),AG=new Hi(Jt.comparator);function Pr(...e){let t=AG;for(const r of e)t=t.add(r);return t}const EG=new Hi(Lr);function CG(){return EG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lv(t)?"-0":t}}function YO(e){return{integerValue:""+e}}function TG(e,t){return iG(t)?YO(t):O4(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._=void 0}}function PG(e,t,r){return e instanceof Fv?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&E4(a)&&(a=C4(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,t):e instanceof zm?QO(e,t):e instanceof Um?JO(e,t):function(i,a){const s=ZO(i,a),o=uE(s)+uE(i.Pe);return Dx(s)&&Dx(i.Pe)?YO(o):O4(i.serializer,o)}(e,t)}function NG(e,t,r){return e instanceof zm?QO(e,t):e instanceof Um?JO(e,t):r}function ZO(e,t){return e instanceof Bv?function(n){return Dx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Fv extends hb{}class zm extends hb{constructor(t){super(),this.elements=t}}function QO(e,t){const r=ej(t);for(const n of e.elements)r.some(i=>Xo(i,n))||r.push(n);return{arrayValue:{values:r}}}class Um extends hb{constructor(t){super(),this.elements=t}}function JO(e,t){let r=ej(t);for(const n of e.elements)r=r.filter(i=>!Xo(i,n));return{arrayValue:{values:r}}}class Bv extends hb{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function uE(e){return Xn(e.integerValue||e.doubleValue)}function ej(e){return T4(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function IG(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof zm&&i instanceof zm||n instanceof Um&&i instanceof Um?yd(n.elements,i.elements,Xo):n instanceof Bv&&i instanceof Bv?Xo(n.Pe,i.Pe):n instanceof Fv&&i instanceof Fv}(e.transform,t.transform)}class OG{constructor(t,r){this.version=t,this.transformResults=r}}class Aa{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Aa}static exists(t){return new Aa(void 0,t)}static updateTime(t){return new Aa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function W1(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class db{}function tj(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new pb(e.key,Aa.none()):new x0(e.key,e.data,Aa.none());{const r=e.data,n=Ba.empty();let i=new Hi($i.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Pc(e.key,n,new is(i.toArray()),Aa.none())}}function jG(e,t,r){e instanceof x0?function(i,a,s){const o=i.value.clone(),l=fE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Pc?function(i,a,s){if(!W1(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=fE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(rj(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function om(e,t,r,n){return e instanceof x0?function(a,s,o,l){if(!W1(a.precondition,s))return o;const u=a.value.clone(),c=hE(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Pc?function(a,s,o,l){if(!W1(a.precondition,s))return o;const u=hE(a.fieldTransforms,l,s),c=s.data;return c.setAll(rj(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return W1(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function MG(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=ZO(n.transform,i||null);a!=null&&(r===null&&(r=Ba.empty()),r.set(n.field,a))}return r||null}function cE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yd(n,i,(a,s)=>IG(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class x0 extends db{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pc extends db{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rj(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function fE(e,t,r){const n=new Map;Qr(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,NG(s,o,r[i]))}return n}function hE(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,PG(a,s,t))}return n}class pb extends db{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RG extends db{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&jG(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=om(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=om(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=XO();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=tj(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(mr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Pr())}isEqual(t){return this.batchId===t.batchId&&yd(this.mutations,t.mutations,(r,n)=>cE(r,n))&&yd(this.baseMutations,t.baseMutations,(r,n)=>cE(r,n))}}class j4{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Qr(t.mutations.length===n.length);let i=function(){return kG}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new j4(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri,Ir;function BG(e){switch(e){default:return cr();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function nj(e){if(e===void 0)return Fl("GRPC error has no .code"),lt.UNKNOWN;switch(e){case ri.OK:return lt.OK;case ri.CANCELLED:return lt.CANCELLED;case ri.UNKNOWN:return lt.UNKNOWN;case ri.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case ri.INTERNAL:return lt.INTERNAL;case ri.UNAVAILABLE:return lt.UNAVAILABLE;case ri.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case ri.NOT_FOUND:return lt.NOT_FOUND;case ri.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case ri.ABORTED:return lt.ABORTED;case ri.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case ri.DATA_LOSS:return lt.DATA_LOSS;default:return cr()}}(Ir=ri||(ri={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new pf([4294967295,4294967295],0);function dE(e){const t=zG().encode(e),r=new CO;return r.update(t),new Uint8Array(r.digest())}function pE(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new pf([r,n],0),new pf([i,a],0)]}class M4{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new $p(`Invalid padding: ${r}`);if(n<0)throw new $p(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new $p(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new $p(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=pf.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(pf.fromNumber(n)));return i.compare(UG)===1&&(i=new pf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=dE(t),[n,i]=pE(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new M4(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const r=dE(t),[n,i]=pE(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class $p extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,_0.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new mb(mr.min(),i,new jn(Lr),Bl(),Pr())}}class _0{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new _0(n,r,Pr(),Pr(),Pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class ij{constructor(t,r){this.targetId=t,this.me=r}}class aj{constructor(t,r,n=Ki.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class mE{constructor(){this.fe=0,this.ge=vE(),this.pe=Ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Pr(),r=Pr(),n=Pr();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:cr()}}),new _0(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=vE()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Qr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VG{constructor(t){this.Le=t,this.Be=new Map,this.ke=Bl(),this.qe=gE(),this.Qe=new jn(Lr)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:cr()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(Bx(a))if(n===0){const s=new Jt(a.path);this.Ue(r,s,oa.newNoDocument(s,mr.min()))}else Qr(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(t),l=o?this.Xe(o,t,s):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Mf(n).toUint8Array()}catch(l){if(l instanceof LO)return vd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new M4(s,i,a)}catch(l){return vd(l instanceof $p?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Bx(o.target)){const l=new Jt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,oa.newNoDocument(l,t))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=Pr();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(t));const i=new mb(t,r,this.Qe,this.ke,n);return this.ke=Bl(),this.qe=gE(),this.Qe=new jn(Lr),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new mE,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Hi(Lr),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||Gt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new mE),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function gE(){return new jn(Jt.comparator)}function vE(){return new jn(Jt.comparator)}const $G={asc:"ASCENDING",desc:"DESCENDING"},qG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HG={and:"AND",or:"OR"};class WG{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Vx(e,t){return e.useProto3Json||ub(t)?t:{value:t}}function zv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sj(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KG(e,t){return zv(e,t.toTimestamp())}function Wo(e){return Qr(!!e),mr.fromTimestamp(function(r){const n=mc(r);return new qr(n.seconds,n.nanos)}(e))}function R4(e,t){return $x(e,t).canonicalString()}function $x(e,t){const r=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function oj(e){const t=yn.fromString(e);return Qr(hj(t)),t}function qx(e,t){return R4(e.databaseId,t.path)}function Mw(e,t){const r=oj(t);if(r.get(1)!==e.databaseId.projectId)throw new Dt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Dt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Jt(uj(r))}function lj(e,t){return R4(e.databaseId,t)}function GG(e){const t=oj(e);return t.length===4?yn.emptyPath():uj(t)}function Hx(e){return new yn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uj(e){return Qr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yE(e,t,r){return{name:qx(e,t),fields:r.value.mapValue.fields}}function XG(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:cr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Qr(c===void 0||typeof c=="string"),Ki.fromBase64String(c||"")):(Qr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ki.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?lt.UNKNOWN:nj(u.code);return new Dt(c,u.message||"")}(s);r=new aj(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=Mw(e,n.document.name),a=Wo(n.document.updateTime),s=n.document.createTime?Wo(n.document.createTime):mr.min(),o=new Ba({mapValue:{fields:n.document.fields}}),l=oa.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new K1(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=Mw(e,n.document),a=n.readTime?Wo(n.readTime):mr.min(),s=oa.newNoDocument(i,a),o=n.removedTargetIds||[];r=new K1([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=Mw(e,n.document),a=n.removedTargetIds||[];r=new K1([],a,i,null)}else{if(!("filter"in t))return cr();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new FG(i,a),o=n.targetId;r=new ij(o,s)}}return r}function YG(e,t){let r;if(t instanceof x0)r={update:yE(e,t.key,t.value)};else if(t instanceof pb)r={delete:qx(e,t.key)};else if(t instanceof Pc)r={update:yE(e,t.key,t.data),updateMask:aX(t.fieldMask)};else{if(!(t instanceof RG))return cr();r={verify:qx(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Fv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Um)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bv)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw cr()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KG(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:cr()}(e,t.precondition)),r}function ZG(e,t){return e&&e.length>0?(Qr(t!==void 0),e.map(r=>function(i,a){let s=i.updateTime?Wo(i.updateTime):Wo(a);return s.isEqual(mr.min())&&(s=Wo(a)),new OG(s,i.transformResults||[])}(r,t))):[]}function QG(e,t){return{documents:[lj(e,t.path)]}}function JG(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=lj(e,i);const a=function(u){if(u.length!==0)return fj(mo.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Nh(h.field),direction:rX(h.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Vx(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function eX(e){let t=GG(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Qr(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(f){const h=cj(f);return h instanceof mo&&zO(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(m){return new Bm(Ih(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,ub(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new Dv(d,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,d=f.values||[];return new Dv(d,h)}(r.endAt)),bG(t,i,s,a,o,"F",l,u)}function tX(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cr()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function cj(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ih(r.unaryFilter.field);return ai.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ih(r.unaryFilter.field);return ai.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ih(r.unaryFilter.field);return ai.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ih(r.unaryFilter.field);return ai.create(s,"!=",{nullValue:"NULL_VALUE"});default:return cr()}}(e):e.fieldFilter!==void 0?function(r){return ai.create(Ih(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cr()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return mo.create(r.compositeFilter.filters.map(n=>cj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return cr()}}(r.compositeFilter.op))}(e):cr()}function rX(e){return $G[e]}function nX(e){return qG[e]}function iX(e){return HG[e]}function Nh(e){return{fieldPath:e.canonicalString()}}function Ih(e){return $i.fromServerFormat(e.fieldPath)}function fj(e){return e instanceof ai?function(r){if(r.op==="=="){if(iE(r.value))return{unaryFilter:{field:Nh(r.field),op:"IS_NAN"}};if(nE(r.value))return{unaryFilter:{field:Nh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(iE(r.value))return{unaryFilter:{field:Nh(r.field),op:"IS_NOT_NAN"}};if(nE(r.value))return{unaryFilter:{field:Nh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(r.field),op:nX(r.op),value:r.value}}}(e):e instanceof mo?function(r){const n=r.getFilters().map(i=>fj(i));return n.length===1?n[0]:{compositeFilter:{op:iX(r.op),filters:n}}}(e):cr()}function aX(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function hj(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,r,n,i,a=mr.min(),s=mr.min(),o=Ki.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Wu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(t){this.ct=t}}function oX(e){const t=eX({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ux(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.un=new uX}addToCollectionParentIndex(t,r){return this.un.add(r),bt.resolve()}getCollectionParents(t,r){return bt.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return bt.resolve()}deleteFieldIndex(t,r){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,r){return bt.resolve()}getDocumentsMatchingTarget(t,r){return bt.resolve(null)}getIndexType(t,r){return bt.resolve(0)}getFieldIndexes(t,r){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,r){return bt.resolve(pc.min())}getMinOffsetFromCollectionGroup(t,r){return bt.resolve(pc.min())}updateCollectionGroup(t,r,n){return bt.resolve()}updateIndexEntries(t,r){return bt.resolve()}}class uX{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Hi(yn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Hi(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new xd(0)}static kn(){return new xd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.changes=new Bd(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,oa.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?bt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&om(n.mutation,i,is.empty(),qr.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Pr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Pr()){const i=sf();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=Vp();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=sf();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Pr()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=Bl();const s=sm(),o=function(){return sm()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Pc)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),om(c.mutation,u,c.mutation.getFieldMask(),qr.now())):s.set(u.key,is.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>{var f;return o.set(u,new fX(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=sm();let i=new jn((s,o)=>s-o),a=Pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||is.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||Pr()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=XO();c.forEach(h=>{if(!a.has(h)){const d=tj(r.get(h),n.get(h));d!==null&&f.set(h,d),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return bt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return Jt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):qO(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):bt.resolve(sf());let o=-1,l=a;return s.next(u=>bt.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?bt.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,Pr())).next(c=>({batchId:o,changes:GO(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Jt(r)).next(n=>{let i=Vp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=Vp();return this.indexManager.getCollectionParents(t,a).next(o=>bt.forEach(o,l=>{const u=function(f,h){return new Fd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,oa.newInvalidDocument(c)))});let o=Vp();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&om(c.mutation,u,is.empty(),qr.now()),fb(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return bt.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Wo(i.createTime)}}(r)),bt.resolve()}getNamedQuery(t,r){return bt.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:oX(i.bundledQuery),readTime:Wo(i.readTime)}}(r)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.overlays=new jn(Jt.comparator),this.Ir=new Map}getOverlay(t,r){return bt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=sf();return bt.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),bt.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),bt.resolve()}getOverlaysForCollection(t,r,n){const i=sf(),a=r.length+1,s=new Jt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return bt.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new jn((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=sf(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=sf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return bt.resolve(o)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new DG(r,n));let a=this.Ir.get(r);a===void 0&&(a=Pr(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(){this.sessionToken=Ki.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Tr=new Hi(Ei.Er),this.dr=new Hi(Ei.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new Ei(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new Ei(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new Jt(new yn([])),n=new Ei(r,t),i=new Ei(r,t+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new Jt(new yn([])),n=new Ei(r,t),i=new Ei(r,t+1);let a=Pr();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Ei(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ei{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return Jt.comparator(t.key,r.key)||Lr(t.wr,r.wr)}static Ar(t,r){return Lr(t.wr,r.wr)||Jt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Hi(Ei.Er)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new LG(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new Ei(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return bt.resolve(s)}lookupMutationBatch(t,r){return bt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ei(r,0),i=new Ei(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const o=this.Dr(s.wr);a.push(o)}),bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Hi(Lr);return r.forEach(i=>{const a=new Ei(i,0),s=new Ei(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{n=n.add(o.wr)})}),bt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;Jt.isDocumentKey(a)||(a=a.child(""));const s=new Ei(new Jt(a),0);let o=new Hi(Lr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),bt.resolve(this.Cr(o))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Qr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return bt.forEach(r.mutations,i=>{const a=new Ei(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new Ei(r,0),i=this.br.firstAfterOrEqual(n);return bt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(t){this.Mr=t,this.docs=function(){return new jn(Jt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return bt.resolve(n?n.document.mutableCopy():oa.newInvalidDocument(r))}getEntries(t,r){let n=Bl();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():oa.newInvalidDocument(i))}),bt.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Bl();const s=r.path,o=new Jt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||eG(JK(c),n)<=0||(i.has(c.key)||fb(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return bt.resolve(a)}getAllFromCollectionGroup(t,r,n,i){cr()}Or(t,r){return bt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new yX(this)}getSize(t){return bt.resolve(this.size)}}class yX extends cX{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),bt.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(t){this.persistence=t,this.Nr=new Bd(r=>P4(r),N4),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new L4,this.targetCount=0,this.kr=xd.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),bt.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new xd(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,bt.resolve()}updateTargetData(t,r){return this.Kn(r),bt.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),bt.waitFor(a).next(()=>i)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return bt.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),bt.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),bt.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),bt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return bt.resolve(n)}containsKey(t,r){return bt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(t,r){this.qr={},this.overlays={},this.Qr=new A4(0),this.Kr=!1,this.Kr=!0,this.$r=new mX,this.referenceDelegate=t(this),this.Ur=new bX(this),this.indexManager=new lX,this.remoteDocumentCache=function(i){return new vX(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new sX(r),this.Gr=new dX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new pX,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new gX(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){Gt("MemoryPersistence","Starting transaction:",t);const i=new xX(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return bt.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class xX extends rG{constructor(t){super(),this.currentSequenceNumber=t}}class D4{constructor(t){this.persistence=t,this.Jr=new L4,this.Yr=null}static Zr(t){return new D4(t)}get Xr(){if(this.Yr)return this.Yr;throw cr()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),bt.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),bt.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),bt.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Xr,n=>{const i=Jt.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,mr.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return bt.or([()=>bt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=Pr(),i=Pr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new F4(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hq()?8:nG(ha())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new _X;return this.Xi(t,r,s).next(o=>{if(a.result=o,this.zi)return this.es(t,r,s,o.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(wp()<=Nr.DEBUG&&Gt("QueryEngine","SDK will not create cache indexes for query:",Ph(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),bt.resolve()):(wp()<=Nr.DEBUG&&Gt("QueryEngine","Query:",Ph(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(wp()<=Nr.DEBUG&&Gt("QueryEngine","The SDK decides to create cache indexes for query:",Ph(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ho(r))):bt.resolve())}Yi(t,r){if(lE(r))return bt.resolve(null);let n=Ho(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ux(r,null,"F"),n=Ho(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=Pr(...a);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,s,l.readTime)?this.Yi(t,Ux(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return lE(r)||i.isEqual(mr.min())?bt.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?bt.resolve(null):(wp()<=Nr.DEBUG&&Gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ph(r)),this.rs(t,s,r,QK(i,-1)).next(o=>o))})}ts(t,r){let n=new Hi(WO(t));return r.forEach((i,a)=>{fb(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return wp()<=Nr.DEBUG&&Gt("QueryEngine","Using full collection scan to execute query:",Ph(r)),this.Ji.getDocumentsMatchingQuery(t,r,pc.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new jn(Lr),this._s=new Bd(a=>P4(a),N4),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hX(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function AX(e,t,r,n){return new kX(e,t,r,n)}async function dj(e,t){const r=gr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Pr();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function EX(e,t){const r=gr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let d=bt.resolve();return h.forEach(m=>{d=d.next(()=>c.getEntry(l,m)).next(g=>{const p=u.docVersions.get(m);Qr(p!==null),g.version.compareTo(p)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Pr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function pj(e){const t=gr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function CX(e,t){const r=gr(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,f)));let d=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(Ki.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,n)),i=i.insert(f,d),function(g,p,v){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,d,c)&&o.push(r.Ur.updateTargetData(a,d))});let l=Bl(),u=Pr();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(TX(a,s,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(mr.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return bt.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function TX(e,t,r){let n=Pr(),i=Pr();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=Bl();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(mr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Gt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function PX(e,t){const r=gr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function NX(e,t){const r=gr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,bt.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Wu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function Wx(e,t,r){const n=gr(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!w0(s))throw s;Gt("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function bE(e,t,r){const n=gr(e);let i=mr.min(),a=Pr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=gr(l),h=f._s.get(c);return h!==void 0?bt.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(n,s,Ho(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,t,r?i:mr.min(),r?a:Pr())).next(o=>(IX(n,xG(t),o),{documents:o,Ts:a})))}function IX(e,t,r){let n=e.us.get(t)||mr.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class wE{constructor(){this.activeTargetIds=CG()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OX{constructor(){this.so=new wE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new wE,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=null;function Rw(){return Xg===null?Xg=function(){return 268435456+Math.round(2147483648*Math.random())}():Xg++,"0x"+Xg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="WebChannelConnection";class LX extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const o=Rw(),l=this.xo(r,n.toUriEncodedString());Gt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(r,l,u,i).then(c=>(Gt("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw vd("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,s,o){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dd}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=MX[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=Rw();return new Promise((s,o)=>{const l=new TO;l.setWithCredentials(!0),l.listenOnce(PO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case q1.NO_ERROR:const c=l.getResponseJson();Gt(Qi,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),s(c);break;case q1.TIMEOUT:Gt(Qi,`RPC '${t}' ${a} timed out`),o(new Dt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case q1.HTTP_ERROR:const f=l.getStatus();if(Gt(Qi,`RPC '${t}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const m=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(v)>=0?v:lt.UNKNOWN}(d.status);o(new Dt(m,d.message))}else o(new Dt(lt.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Dt(lt.UNAVAILABLE,"Connection failed."));break;default:cr()}}finally{Gt(Qi,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);Gt(Qi,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=Rw(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=OO(),o=IO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");Gt(Qi,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,d=!1;const m=new RX({Io:p=>{d?Gt(Qi,`Not sending because RPC '${t}' stream ${i} is closed:`,p):(h||(Gt(Qi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),Gt(Qi,`RPC '${t}' stream ${i} sending:`,p),f.send(p))},To:()=>f.close()}),g=(p,v,y)=>{p.listen(v,b=>{try{y(b)}catch(x){setTimeout(()=>{throw x},0)}})};return g(f,Up.EventType.OPEN,()=>{d||(Gt(Qi,`RPC '${t}' stream ${i} transport opened.`),m.yo())}),g(f,Up.EventType.CLOSE,()=>{d||(d=!0,Gt(Qi,`RPC '${t}' stream ${i} transport closed`),m.So())}),g(f,Up.EventType.ERROR,p=>{d||(d=!0,vd(Qi,`RPC '${t}' stream ${i} transport errored:`,p),m.So(new Dt(lt.UNAVAILABLE,"The operation could not be completed")))}),g(f,Up.EventType.MESSAGE,p=>{var v;if(!d){const y=p.data[0];Qr(!!y);const b=y,x=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(x){Gt(Qi,`RPC '${t}' stream ${i} received error:`,x);const C=x.status;let O=function(M){const B=ri[M];if(B!==void 0)return nj(B)}(C),I=x.message;O===void 0&&(O=lt.INTERNAL,I="Unknown error status: "+C+" with message "+x.message),d=!0,m.So(new Dt(O,I)),f.close()}else Gt(Qi,`RPC '${t}' stream ${i} received:`,y),m.bo(y)}}),g(o,NO.STAT_EVENT,p=>{p.stat===Rx.PROXY?Gt(Qi,`RPC '${t}' stream ${i} detected buffering proxy`):p.stat===Rx.NOPROXY&&Gt(Qi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Lw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e){return new WG(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(t,r,n,i,a,s,o,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mj(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===lt.RESOURCE_EXHAUSTED?(Fl(r.toString()),Fl("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new Dt(lt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Gt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(Gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DX extends gj{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=XG(this.serializer,t),n=function(a){if(!("targetChange"in a))return mr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?mr.min():s.readTime?Wo(s.readTime):mr.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=Hx(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Bx(l)?{documents:QG(a,l)}:{query:JG(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sj(a,s.resumeToken);const u=Vx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(mr.min())>0){o.readTime=zv(a,s.snapshotVersion.toTimestamp());const u=Vx(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=tX(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=Hx(this.serializer),r.removeTarget=t,this.a_(r)}}class FX extends gj{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return Qr(!!t.streamToken),this.lastStreamToken=t.streamToken,Qr(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Qr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=ZG(t.writeResults,t.commitTime),n=Wo(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=Hx(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>YG(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Dt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(t,$x(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dt(lt.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,$x(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Dt(lt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zX{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fl(r),this.D_=!1):Gt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Zf(this)&&(Gt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=gr(l);u.L_.add(4),await S0(u),u.q_.set("Unknown"),u.L_.delete(4),await vb(u)}(this))})}),this.q_=new zX(n,i)}}async function vb(e){if(Zf(e))for(const t of e.B_)await t(!0)}async function S0(e){for(const t of e.B_)await t(!1)}function vj(e,t){const r=gr(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),V4(r)?U4(r):zd(r).r_()&&z4(r,t))}function B4(e,t){const r=gr(e),n=zd(r);r.N_.delete(t),n.r_()&&yj(r,t),r.N_.size===0&&(n.r_()?n.o_():Zf(r)&&r.q_.set("Unknown"))}function z4(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}zd(e).A_(t)}function yj(e,t){e.Q_.xe(t),zd(e).R_(t)}function U4(e){e.Q_=new VG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),zd(e).start(),e.q_.v_()}function V4(e){return Zf(e)&&!zd(e).n_()&&e.N_.size>0}function Zf(e){return gr(e).L_.size===0}function bj(e){e.Q_=void 0}async function VX(e){e.q_.set("Online")}async function $X(e){e.N_.forEach((t,r)=>{z4(e,t)})}async function qX(e,t){bj(e),V4(e)?(e.q_.M_(t),U4(e)):e.q_.set("Unknown")}async function HX(e,t,r){if(e.q_.set("Online"),t instanceof aj&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(e,t)}catch(n){Gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Uv(e,n)}else if(t instanceof K1?e.Q_.Ke(t):t instanceof ij?e.Q_.He(t):e.Q_.We(t),!r.isEqual(mr.min()))try{const n=await pj(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Ki.EMPTY_BYTE_STRING,c.snapshotVersion)),yj(a,l);const f=new Wu(c.target,l,u,c.sequenceNumber);z4(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Gt("RemoteStore","Failed to raise snapshot:",n),await Uv(e,n)}}async function Uv(e,t,r){if(!w0(t))throw t;e.L_.add(1),await S0(e),e.q_.set("Offline"),r||(r=()=>pj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Gt("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await vb(e)})}function wj(e,t){return t().catch(r=>Uv(e,r,t))}async function yb(e){const t=gr(e),r=gc(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;WX(t);)try{const i=await PX(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,KX(t,i)}catch(i){await Uv(t,i)}xj(t)&&_j(t)}function WX(e){return Zf(e)&&e.O_.length<10}function KX(e,t){e.O_.push(t);const r=gc(e);r.r_()&&r.V_&&r.m_(t.mutations)}function xj(e){return Zf(e)&&!gc(e).n_()&&e.O_.length>0}function _j(e){gc(e).start()}async function GX(e){gc(e).p_()}async function XX(e){const t=gc(e);for(const r of e.O_)t.m_(r.mutations)}async function YX(e,t,r){const n=e.O_.shift(),i=j4.from(n,t,r);await wj(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await yb(e)}async function ZX(e,t){t&&gc(e).V_&&await async function(n,i){if(function(s){return BG(s)&&s!==lt.ABORTED}(i.code)){const a=n.O_.shift();gc(n).s_(),await wj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await yb(n)}}(e,t),xj(e)&&_j(e)}async function _E(e,t){const r=gr(e);r.asyncQueue.verifyOperationInProgress(),Gt("RemoteStore","RemoteStore received new credentials");const n=Zf(r);r.L_.add(3),await S0(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await vb(r)}async function QX(e,t){const r=gr(e);t?(r.L_.delete(2),await vb(r)):t||(r.L_.add(2),await S0(r),r.q_.set("Unknown"))}function zd(e){return e.K_||(e.K_=function(r,n,i){const a=gr(r);return a.w_(),new DX(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:VX.bind(null,e),Ro:$X.bind(null,e),mo:qX.bind(null,e),d_:HX.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),V4(e)?U4(e):e.q_.set("Unknown")):(await e.K_.stop(),bj(e))})),e.K_}function gc(e){return e.U_||(e.U_=function(r,n,i){const a=gr(r);return a.w_(),new FX(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GX.bind(null,e),mo:ZX.bind(null,e),f_:XX.bind(null,e),g_:YX.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await yb(e)):(await e.U_.stop(),e.O_.length>0&&(Gt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new $4(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Dt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q4(e,t){if(Fl("AsyncQueue",`${t}: ${e}`),w0(e))return new Dt(lt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.comparator=t?(r,n)=>t(r,n)||Jt.comparator(r.key,n.key):(r,n)=>Jt.comparator(r.key,n.key),this.keyedMap=Vp(),this.sortedSet=new jn(this.comparator)}static emptySet(t){return new ad(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ad)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ad;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.W_=new jn(Jt.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):cr():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class _d{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new _d(t,r,ad.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class eY{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=gr(r),a=i.queries;i.queries=kE(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Dt(lt.ABORTED,"Firestore shutting down"))}}function kE(){return new Bd(e=>HO(e),cb)}async function Sj(e,t){const r=gr(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new JX,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=q4(s,`Initialization of query '${Ph(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&H4(r)}async function kj(e,t){const r=gr(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(t);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function tY(e,t){const r=gr(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(n=!0);s.z_=i}}n&&H4(r)}function rY(e,t,r){const n=gr(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function H4(e){e.Y_.forEach(t=>{t.next()})}var Kx,AE;(AE=Kx||(Kx={})).ea="default",AE.Cache="cache";class Aj{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new _d(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=_d.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Kx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(t){this.key=t}}class Cj{constructor(t){this.key=t}}class nY{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pr(),this.mutatedKeys=Pr(),this.Aa=WO(t),this.Ra=new ad(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new SE,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),d=fb(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;h&&d?h.data.isEqual(d.data)?m!==g&&(n.track({type:3,doc:d}),p=!0):this.ga(h,d)||(n.track({type:2,doc:d}),p=!0,(l&&this.Aa(d,l)>0||u&&this.Aa(d,u)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),p=!0):h&&!d&&(n.track({type:1,doc:h}),p=!0,(l||u)&&(o=!0)),p&&(d?(s=s.add(d),a=g?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((c,f)=>function(d,m){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cr()}};return g(d)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new _d(this.query,t.Ra,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new SE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Pr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new Cj(n))}),this.da.forEach(n=>{t.has(n)||r.push(new Ej(n))}),r}ba(t){this.Ta=t.Ts,this.da=Pr();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return _d.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iY{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class aY{constructor(t){this.key=t,this.va=!1}}class sY{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Bd(o=>HO(o),cb),this.Ma=new Map,this.xa=new Set,this.Oa=new jn(Jt.comparator),this.Na=new Map,this.La=new L4,this.Ba={},this.ka=new Map,this.qa=xd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oY(e,t,r=!0){const n=jj(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Tj(n,t,r,!0),i}async function lY(e,t){const r=jj(e);await Tj(r,t,!0,!1)}async function Tj(e,t,r,n){const i=await NX(e.localStore,Ho(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await uY(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&vj(e.remoteStore,i),o}async function uY(e,t,r,n,i){e.Ka=(f,h,d)=>async function(g,p,v,y){let b=p.view.ma(v);b.ns&&(b=await bE(g.localStore,p.query,!1).then(({documents:I})=>p.view.ma(I,b)));const x=y&&y.targetChanges.get(p.targetId),C=y&&y.targetMismatches.get(p.targetId)!=null,O=p.view.applyChanges(b,g.isPrimaryClient,x,C);return CE(g,p.targetId,O.wa),O.snapshot}(e,f,h,d);const a=await bE(e.localStore,t,!0),s=new nY(t,a.Ts),o=s.ma(a.documents),l=_0.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);CE(e,r,u.wa);const c=new iY(t,r,s);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function cY(e,t,r){const n=gr(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!cb(s,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Wx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&B4(n.remoteStore,i.targetId),Gx(n,i.targetId)}).catch(b0)):(Gx(n,i.targetId),await Wx(n.localStore,i.targetId,!0))}async function fY(e,t){const r=gr(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),B4(r.remoteStore,n.targetId))}async function hY(e,t,r){const n=bY(e);try{const i=await function(s,o){const l=gr(s),u=qr.now(),c=o.reduce((d,m)=>d.add(m.key),Pr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Bl(),g=Pr();return l.cs.getEntries(d,c).next(p=>{m=p,m.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,m)).next(p=>{f=p;const v=[];for(const y of o){const b=MG(y,f.get(y.key).overlayedDocument);b!=null&&v.push(new Pc(y.key,b,DO(b.value.mapValue),Aa.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,v,o)}).next(p=>{h=p;const v=p.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(d,p.batchId,v)})}).then(()=>({batchId:h.batchId,changes:GO(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new jn(Lr)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,r),await k0(n,i.changes),await yb(n.remoteStore)}catch(i){const a=q4(i,"Failed to persist write");r.reject(a)}}async function Pj(e,t){const r=gr(e);try{const n=await CX(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(Qr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Qr(s.va):i.removedDocuments.size>0&&(Qr(s.va),s.va=!1))}),await k0(r,n,t)}catch(n){await b0(n)}}function EE(e,t,r){const n=gr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const o=s.view.Z_(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=gr(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(o)&&(u=!0)}),u&&H4(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function dY(e,t,r){const n=gr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let s=new jn(Jt.comparator);s=s.insert(a,oa.newNoDocument(a,mr.min()));const o=Pr().add(a),l=new mb(mr.min(),new Map,new jn(Lr),s,o);await Pj(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),W4(n)}else await Wx(n.localStore,t,!1).then(()=>Gx(n,t,r)).catch(b0)}async function pY(e,t){const r=gr(e),n=t.batch.batchId;try{const i=await EX(r.localStore,t);Ij(r,n,null),Nj(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await k0(r,i)}catch(i){await b0(i)}}async function mY(e,t,r){const n=gr(e);try{const i=await function(s,o){const l=gr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Qr(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);Ij(n,t,r),Nj(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await k0(n,i)}catch(i){await b0(i)}}function Nj(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function Ij(e,t,r){const n=gr(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function Gx(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||Oj(e,n)})}function Oj(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(B4(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),W4(e))}function CE(e,t,r){for(const n of r)n instanceof Ej?(e.La.addReference(n.key,t),gY(e,n)):n instanceof Cj?(Gt("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||Oj(e,n.key)):cr()}function gY(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(Gt("SyncEngine","New document in limbo: "+r),e.xa.add(n),W4(e))}function W4(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new Jt(yn.fromString(t)),n=e.qa.next();e.Na.set(n,new aY(r)),e.Oa=e.Oa.insert(r,n),vj(e.remoteStore,new Wu(Ho(I4(r.path)),n,"TargetPurposeLimboResolution",A4.oe))}}async function k0(e,t,r){const n=gr(e),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{s.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=F4.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,u){const c=gr(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>bt.forEach(u,h=>bt.forEach(h.$i,d=>c.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>bt.forEach(h.Ui,d=>c.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!w0(f))throw f;Gt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const d=c.os.get(h),m=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(n.localStore,a))}async function vY(e,t){const r=gr(e);if(!r.currentUser.isEqual(t)){Gt("SyncEngine","User change. New user:",t.toKey());const n=await dj(r.localStore,t);r.currentUser=t,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new Dt(lt.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await k0(r,n.hs)}}function yY(e,t){const r=gr(e),n=r.Na.get(t);if(n&&n.va)return Pr().add(n.key);{let i=Pr();const a=r.Ma.get(t);if(!a)return i;for(const s of a){const o=r.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function jj(e){const t=gr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dY.bind(null,t),t.Ca.d_=tY.bind(null,t.eventManager),t.Ca.$a=rY.bind(null,t.eventManager),t}function bY(e){const t=gr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mY.bind(null,t),t}class Vv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gb(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return AX(this.persistence,new SX,t.initialUser,this.serializer)}Ga(t){return new wX(D4.Zr,this.serializer)}Wa(t){return new OX}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vv.provider={build:()=>new Vv};class Xx{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>EE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vY.bind(null,this.syncEngine),await QX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eY}()}createDatastore(t){const r=gb(t.databaseInfo.databaseId),n=function(a){return new LX(a)}(t.databaseInfo);return function(a,s,o,l){return new BX(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new UX(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>EE(this.syncEngine,r,0),function(){return xE.D()?new xE:new jX}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const f=new sY(i,a,s,o,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=gr(i);Gt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await S0(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Xx.provider={build:()=>new Xx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Fl("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=aa.UNAUTHENTICATED,this.clientId=MO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Gt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Gt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=q4(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Dw(e,t){e.asyncQueue.verifyOperationInProgress(),Gt("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await dj(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function TE(e,t){e.asyncQueue.verifyOperationInProgress();const r=await xY(e);Gt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>_E(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>_E(t.remoteStore,i)),e._onlineComponents=t}async function xY(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dw(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===lt.FAILED_PRECONDITION||i.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;vd("Error using user provided cache. Falling back to memory cache: "+r),await Dw(e,new Vv)}}else Gt("FirestoreClient","Using default OfflineComponentProvider"),await Dw(e,new Vv);return e._offlineComponents}async function Rj(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gt("FirestoreClient","Using user provided OnlineComponentProvider"),await TE(e,e._uninitializedComponentsProvider._online)):(Gt("FirestoreClient","Using default OnlineComponentProvider"),await TE(e,new Xx))),e._onlineComponents}function _Y(e){return Rj(e).then(t=>t.syncEngine)}async function Yx(e){const t=await Rj(e),r=t.eventManager;return r.onListen=oY.bind(null,t.syncEngine),r.onUnlisten=cY.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=lY.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=fY.bind(null,t.syncEngine),r}function SY(e,t,r={}){const n=new sc;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new Mj({next:h=>{c.Za(),s.enqueueAndForget(()=>kj(a,f)),h.fromCache&&l.source==="server"?u.reject(new Dt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Aj(o,c,{includeMetadataChanges:!0,_a:!0});return Sj(a,f)}(await Yx(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(e,t,r){if(!r)throw new Dt(lt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kY(e,t,r,n){if(t===!0&&n===!0)throw new Dt(lt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function NE(e){if(!Jt.isDocumentKey(e))throw new Dt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function IE(e){if(Jt.isDocumentKey(e))throw new Dt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":cr()}function us(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bb(e);throw new Dt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Dt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Dt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lj((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wb{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Dt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $K;switch(n.type){case"firstParty":return new KK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Dt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=PE.get(r);n&&(Gt("ComponentProvider","Removing Datastore"),PE.delete(r),n.terminate())}(this),Promise.resolve()}}function AY(e,t,r,n={}){var i;const a=(e=us(e,wb))._getSettings(),s=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&vd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=aa.MOCK_USER;else{o=VI(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Dt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new aa(u)}e._authCredentials=new qK(new jO(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Nc(this.firestore,t,this._query)}}class Ea{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ea(this.firestore,t,this._key)}}class oc extends Nc{constructor(t,r,n){super(t,r,I4(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ea(this.firestore,null,new Jt(t))}withConverter(t){return new oc(this.firestore,t,this._path)}}function xh(e,t,...r){if(e=dn(e),Dj("collection","path",t),e instanceof wb){const n=yn.fromString(t,...r);return IE(n),new oc(e,null,n)}{if(!(e instanceof Ea||e instanceof oc))throw new Dt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return IE(n),new oc(e.firestore,null,n)}}function zu(e,t,...r){if(e=dn(e),arguments.length===1&&(t=MO.newId()),Dj("doc","path",t),e instanceof wb){const n=yn.fromString(t,...r);return NE(n),new Ea(e,null,new Jt(n))}{if(!(e instanceof Ea||e instanceof oc))throw new Dt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return NE(n),new Ea(e.firestore,e instanceof oc?e.converter:null,new Jt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new mj(this,"async_queue_retry"),this.Vu=()=>{const n=Lw();n&&Gt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=Lw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=Lw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new sc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!w0(t))throw t;Gt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw Fl("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=$4.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&cr()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function ME(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class zl extends wb{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new jE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function EY(e,t){const r=typeof e=="object"?e:p4(),n=typeof e=="string"?e:"(default)",i=ib(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=BI("firestore");a&&AY(i,...a)}return i}function xb(e){if(e._terminated)throw new Dt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CY(e),e._firestoreClient}function CY(e){var t,r,n;const i=e._freezeSettings(),a=function(o,l,u,c){return new sG(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Lj(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new wY(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Sd(Ki.fromBase64String(t))}catch(r){throw new Dt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Sd(Ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Dt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Dt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Dt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lr(this._lat,t._lat)||Lr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=/^__.*__$/;class PY{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Pc(t,this.data,this.fieldMask,r,this.fieldTransforms):new x0(t,this.data,r,this.fieldTransforms)}}class Fj{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Pc(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Bj(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cr()}}class Y4{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Y4(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return $v(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(Bj(this.Cu)&&TY.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class NY{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||gb(t)}Qu(t,r,n,i=!1){return new Y4({Cu:t,methodName:r,qu:n,path:$i.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E0(e){const t=e._freezeSettings(),r=gb(e._databaseId);return new NY(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Z4(e,t,r,n,i,a={}){const s=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);Q4("Data must be an object, but it was:",s,n);const o=Vj(n,s);let l,u;if(a.merge)l=new is(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=Zx(t,f,r);if(!s.contains(h))throw new Dt(lt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qj(c,h)||c.push(h)}l=new is(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new PY(new Ba(o),l,u)}class _b extends K4{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _b}}function zj(e,t,r,n){const i=e.Qu(1,t,r);Q4("Data must be an object, but it was:",i,n);const a=[],s=Ba.empty();Yf(n,(l,u)=>{const c=J4(t,l,r);u=dn(u);const f=i.Nu(c);if(u instanceof _b)a.push(c);else{const h=C0(u,f);h!=null&&(a.push(c),s.set(c,h))}});const o=new is(a);return new Fj(s,o,i.fieldTransforms)}function Uj(e,t,r,n,i,a){const s=e.Qu(1,t,r),o=[Zx(t,n,r)],l=[i];if(a.length%2!=0)throw new Dt(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Zx(t,a[h])),l.push(a[h+1]);const u=[],c=Ba.empty();for(let h=o.length-1;h>=0;--h)if(!qj(u,o[h])){const d=o[h];let m=l[h];m=dn(m);const g=s.Nu(d);if(m instanceof _b)u.push(d);else{const p=C0(m,g);p!=null&&(u.push(d),c.set(d,p))}}const f=new is(u);return new Fj(c,f,s.fieldTransforms)}function IY(e,t,r,n=!1){return C0(r,e.Qu(n?4:3,t))}function C0(e,t){if($j(e=dn(e)))return Q4("Unsupported field value:",t,e),Vj(e,t);if(e instanceof K4)return function(n,i){if(!Bj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=C0(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return TG(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=qr.fromDate(n);return{timestampValue:zv(i.serializer,a)}}if(n instanceof qr){const a=new qr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zv(i.serializer,a)}}if(n instanceof G4)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sd)return{bytesValue:sj(i.serializer,n._byteString)};if(n instanceof Ea){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:R4(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof X4)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return O4(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${bb(n)}`)}(e,t)}function Vj(e,t){const r={};return RO(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yf(e,(n,i)=>{const a=C0(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function $j(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qr||e instanceof G4||e instanceof Sd||e instanceof Ea||e instanceof K4||e instanceof X4)}function Q4(e,t,r){if(!$j(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=bb(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function Zx(e,t,r){if((t=dn(t))instanceof A0)return t._internalPath;if(typeof t=="string")return J4(e,t);throw $v("Field path arguments must be of type string or ",e,!1,void 0,r)}const OY=new RegExp("[~\\*/\\[\\]]");function J4(e,t,r){if(t.search(OY)>=0)throw $v(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new A0(...t.split("."))._internalPath}catch{throw $v(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function $v(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new Dt(lt.INVALID_ARGUMENT,o+e+l)}function qj(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ea(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(e6("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class jY extends Hj{data(){return super.data()}}function e6(e,t){return typeof t=="string"?J4(e,t):t instanceof A0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Dt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t6{}class Kj extends t6{}function RE(e,t,...r){let n=[];t instanceof t6&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof n6).length,o=a.filter(l=>l instanceof r6).length;if(s>1||s>0&&o>0)throw new Dt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class r6 extends Kj{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new r6(t,r,n)}_apply(t){const r=this._parse(t);return Gj(t._query,r),new Nc(t.firestore,t.converter,zx(t._query,r))}_parse(t){const r=E0(t.firestore);return function(a,s,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Dt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){FE(f,c);const d=[];for(const m of f)d.push(DE(l,a,m));h={arrayValue:{values:d}}}else h=DE(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||FE(f,c),h=IY(o,s,f,c==="in"||c==="not-in");return ai.create(u,c,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class n6 extends t6{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new n6(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:mo.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)Gj(s,l),s=zx(s,l)}(t._query,r),new Nc(t.firestore,t.converter,zx(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i6 extends Kj{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new i6(t,r)}_apply(t){const r=function(i,a,s){if(i.startAt!==null)throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bm(a,s)}(t._query,this._field,this._direction);return new Nc(t.firestore,t.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Fd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function LE(e,t="asc"){const r=t,n=e6("orderBy",e);return i6._create(n,r)}function DE(e,t,r){if(typeof(r=dn(r))=="string"){if(r==="")throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qO(t)&&r.indexOf("/")!==-1)throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(yn.fromString(r));if(!Jt.isDocumentKey(n))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return rE(e,new Jt(n))}if(r instanceof Ea)return rE(e,r._key);throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bb(r)}.`)}function FE(e,t){if(!Array.isArray(e)||e.length===0)throw new Dt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Gj(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Dt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Dt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class MY{convertValue(t,r="none"){switch(Rf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Mf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw cr()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Yf(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Xn(s.doubleValue));return new X4(a)}convertGeoPoint(t){return new G4(Xn(t.latitude),Xn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=C4(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Lm(t));default:return null}}convertTimestamp(t){const r=mc(t);return new qr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=yn.fromString(t);Qr(hj(n));const i=new Dm(n.get(1),n.get(3)),a=new Jt(n.popFirst(5));return i.isEqual(r)||Fl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xj extends Hj{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new G1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(e6("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class G1 extends Xj{data(t={}){return super.data(t)}}class Yj{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new qp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new G1(this._firestore,this._userDataWriter,n.key,n,new qp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Dt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new G1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new G1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:RY(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function RY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cr()}}class s6 extends MY{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sd(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ea(this.firestore,null,r)}}function BE(e){e=us(e,Nc);const t=us(e.firestore,zl),r=xb(t),n=new s6(t);return Wj(e._query),SY(r,e._query).then(i=>new Yj(t,n,e,i))}function zE(e,t,r){e=us(e,Ea);const n=us(e.firestore,zl),i=a6(e.converter,t,r);return T0(n,[Z4(E0(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Aa.none())])}function LY(e,t,r,...n){e=us(e,Ea);const i=us(e.firestore,zl),a=E0(i);let s;return s=typeof(t=dn(t))=="string"||t instanceof A0?Uj(a,"updateDoc",e._key,t,r,n):zj(a,"updateDoc",e._key,t),T0(i,[s.toMutation(e._key,Aa.exists(!0))])}function DY(e){return T0(us(e.firestore,zl),[new pb(e._key,Aa.none())])}function UE(e,t){const r=us(e.firestore,zl),n=zu(e),i=a6(e.converter,t);return T0(r,[Z4(E0(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Aa.exists(!1))]).then(()=>n)}function Zj(e,...t){var r,n,i;e=dn(e);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ME(t[s])||(a=t[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ME(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(e instanceof Ea)u=us(e.firestore,zl),c=I4(e._key.path),l={next:f=>{t[s]&&t[s](FY(u,e,f))},error:t[s+1],complete:t[s+2]};else{const f=us(e,Nc);u=us(f.firestore,zl),c=f._query;const h=new s6(u);l={next:d=>{t[s]&&t[s](new Yj(u,h,f,d))},error:t[s+1],complete:t[s+2]},Wj(e._query)}return function(h,d,m,g){const p=new Mj(g),v=new Aj(d,p,m);return h.asyncQueue.enqueueAndForget(async()=>Sj(await Yx(h),v)),()=>{p.Za(),h.asyncQueue.enqueueAndForget(async()=>kj(await Yx(h),v))}}(xb(u),c,o,l)}function T0(e,t){return function(n,i){const a=new sc;return n.asyncQueue.enqueueAndForget(async()=>hY(await _Y(n),i,a)),a.promise}(xb(e),t)}function FY(e,t,r){const n=r.docs.get(t._key),i=new s6(e);return new Xj(e,i,t._key,n,new qp(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=E0(t)}set(t,r,n){this._verifyNotCommitted();const i=Fw(t,this._firestore),a=a6(i.converter,r,n),s=Z4(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Aa.none())),this}update(t,r,n,...i){this._verifyNotCommitted();const a=Fw(t,this._firestore);let s;return s=typeof(r=dn(r))=="string"||r instanceof A0?Uj(this._dataReader,"WriteBatch.update",a._key,r,n,i):zj(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Aa.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Fw(t,this._firestore);return this._mutations=this._mutations.concat(new pb(r._key,Aa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fw(e,t){if((e=dn(e)).firestore!==t)throw new Dt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(e){return xb(e=us(e,zl)),new BY(e,t=>T0(e,t))}(function(t,r=!0){(function(i){Dd=i})(Gf),If(new dc("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new zl(new HK(n.getProvider("auth-internal")),new XK(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Dt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(u.options.projectId,c)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Vo(ZA,"4.7.3",t),Vo(ZA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="firebasestorage.googleapis.com",Jj="storageBucket",zY=2*60*1e3,UY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Jo{constructor(t,r,n=0){super(Bw(t),`Firebase Storage: ${r} (${Bw(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Bw(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $n;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function Bw(e){return"storage/"+e}function o6(){const e="An unknown error occurred, please check the error payload for server response.";return new qn($n.UNKNOWN,e)}function VY(e){return new qn($n.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function $Y(e){return new qn($n.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qY(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qn($n.UNAUTHENTICATED,e)}function HY(){return new qn($n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WY(e){return new qn($n.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function KY(){return new qn($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GY(){return new qn($n.CANCELED,"User canceled the upload/download.")}function XY(e){return new qn($n.INVALID_URL,"Invalid URL '"+e+"'.")}function YY(e){return new qn($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function ZY(){return new qn($n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jj+"' property when initializing the app?")}function QY(){return new qn($n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JY(){return new qn($n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eZ(e){return new qn($n.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qx(e){return new qn($n.INVALID_ARGUMENT,e)}function eM(){return new qn($n.APP_DELETED,"The Firebase app was deleted.")}function tZ(e){return new qn($n.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lm(e,t){return new qn($n.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function xp(e){throw new qn($n.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=as.makeFromUrl(t,r)}catch{return new as(t,"")}if(n.path==="")return n;throw YY(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===Qj?"(?:storage.googleapis.com|storage.cloud.google.com)":r,p="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${p}`,"i"),b=[{regex:o,indices:l,postModify:a},{regex:d,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<b.length;x++){const C=b[x],O=C.regex.exec(t);if(O){const I=O[C.indices.bucket];let T=O[C.indices.path];T||(T=""),n=new as(I,T),C.postModify(n);break}}if(n==null)throw XY(t);return n}}class rZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let u=!1;function c(...p){u||(u=!0,t.apply(null,p))}function f(p){i=setTimeout(()=>{i=null,e(d,l())},p)}function h(){a&&clearTimeout(a)}function d(p,...v){if(u){h();return}if(p){h(),c.call(null,p,...v);return}if(l()||s){h(),c.call(null,p,...v);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,f(b)}let m=!1;function g(p){m||(m=!0,h(),!u&&(i!==null?(p||(o=2),clearTimeout(i),f(0)):p||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,g(!0)},r),g}function iZ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(e){return e!==void 0}function sZ(e){return typeof e=="object"&&!Array.isArray(e)}function l6(e){return typeof e=="string"||e instanceof String}function VE(e){return u6()&&e instanceof Blob}function u6(){return typeof Blob<"u"}function $E(e,t,r,n){if(n<t)throw Qx(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw Qx(`Invalid value for '${e}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function tM(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var mf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mf||(mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(t,r,n,i,a,s,o,l,u,c,f,h=!0){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,m)=>{this.resolve_=d,this.reject_=m,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new Zg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===mf.NO_ERROR,l=a.getStatus();if(!o||oZ(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===mf.ABORT;n(!1,new Zg(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Zg(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());aZ(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=o6();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?eM():GY();s(l)}else{const l=KY();s(l)}};this.canceled_?r(!1,new Zg(!1,null,!0)):this.backoffId_=nZ(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zg{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function uZ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function cZ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fZ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hZ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function dZ(e,t,r,n,i,a,s=!0){const o=tM(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return fZ(u,t),uZ(u,r),cZ(u,a),hZ(u,n),new lZ(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mZ(...e){const t=pZ();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(u6())return new Blob(e);throw new qn($n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gZ(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(e){if(typeof atob>"u")throw eZ("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zw{constructor(t,r){this.data=t,this.contentType=r||null}}function yZ(e,t){switch(e){case Do.RAW:return new zw(rM(t));case Do.BASE64:case Do.BASE64URL:return new zw(nM(e,t));case Do.DATA_URL:return new zw(wZ(t),xZ(t))}throw o6()}function rM(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function bZ(e){let t;try{t=decodeURIComponent(e)}catch{throw lm(Do.DATA_URL,"Malformed data URL.")}return rM(t)}function nM(e,t){switch(e){case Do.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw lm(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Do.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw lm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=vZ(t)}catch(i){throw i.message.includes("polyfill")?i:lm(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class iM{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw lm(Do.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=_Z(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function wZ(e){const t=new iM(e);return t.base64?nM(Do.BASE64,t.rest):bZ(t.rest)}function xZ(e){return new iM(e).contentType}function _Z(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,r){let n=0,i="";VE(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(VE(this.data_)){const n=this.data_,i=gZ(n,t,r);return i===null?null:new Uu(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Uu(n,!0)}}static getBlob(...t){if(u6()){const r=t.map(n=>n instanceof Uu?n.data_:n);return new Uu(mZ.apply(null,r))}else{const r=t.map(s=>l6(s)?yZ(Do.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Uu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e){let t;try{t=JSON.parse(e)}catch{return null}return sZ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function kZ(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function sM(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(e,t){return t}class wa{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||AZ}}let Qg=null;function EZ(e){return!l6(e)||e.length<2?e:sM(e)}function oM(){if(Qg)return Qg;const e=[];e.push(new wa("bucket")),e.push(new wa("generation")),e.push(new wa("metageneration")),e.push(new wa("name","fullPath",!0));function t(a,s){return EZ(s)}const r=new wa("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new wa("size");return i.xform=n,e.push(i),e.push(new wa("timeCreated")),e.push(new wa("updated")),e.push(new wa("md5Hash",null,!0)),e.push(new wa("cacheControl",null,!0)),e.push(new wa("contentDisposition",null,!0)),e.push(new wa("contentEncoding",null,!0)),e.push(new wa("contentLanguage",null,!0)),e.push(new wa("contentType",null,!0)),e.push(new wa("metadata","customMetadata",!0)),Qg=e,Qg}function CZ(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new as(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function TZ(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return CZ(n,e),n}function lM(e,t,r){const n=aM(t);return n===null?null:TZ(e,n,r)}function PZ(e,t,r,n){const i=aM(t);if(i===null||!l6(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const c=e.bucket,f=e.fullPath,h="/b/"+s(c)+"/o/"+s(f),d=Sb(h,r,n),m=tM({alt:"media",token:u});return d+m})[0]}function NZ(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class c6{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(e){if(!e)throw o6()}function IZ(e,t){function r(n,i){const a=lM(e,i,t);return uM(a!==null),a}return r}function OZ(e,t){function r(n,i){const a=lM(e,i,t);return uM(a!==null),PZ(a,i,e.host,e._protocol)}return r}function cM(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=HY():i=qY():r.getStatus()===402?i=$Y(e.bucket):r.getStatus()===403?i=WY(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function fM(e){const t=cM(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=VY(e.path)),a.serverResponse=i.serverResponse,a}return r}function jZ(e,t,r){const n=t.fullServerUrl(),i=Sb(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new c6(i,a,OZ(e,r),s);return o.errorHandler=fM(t),o}function MZ(e,t){const r=t.fullServerUrl(),n=Sb(r,e.host,e._protocol),i="DELETE",a=e.maxOperationRetryTime;function s(l,u){}const o=new c6(n,i,s,a);return o.successCodes=[200,204],o.errorHandler=fM(t),o}function RZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function LZ(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=RZ(null,t)),n}function DZ(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let x=0;x<2;x++)b=b+Math.random().toString().slice(2);return b}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const u=LZ(t,n,i),c=NZ(u,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",d=Uu.getBlob(f,n,h);if(d===null)throw QY();const m={name:u.fullPath},g=Sb(a,e.host,e._protocol),p="POST",v=e.maxUploadRetryTime,y=new c6(g,p,IZ(e,r),v);return y.urlParams=m,y.headers=s,y.body=d.uploadData(),y.errorHandler=cM(t),y}class FZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i){if(this.sent_)throw xp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class BZ extends FZ{initXhr(){this.xhr_.responseType="text"}}function f6(){return new BZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,r){this._service=t,r instanceof as?this._location=r:this._location=as.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Lf(t,r)}get root(){const t=new as(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sM(this._location.path)}get storage(){return this._service}get parent(){const t=SZ(this._location.path);if(t===null)return null;const r=new as(this._location.bucket,t);return new Lf(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw tZ(t)}}function zZ(e,t,r){e._throwIfRoot("uploadBytes");const n=DZ(e.storage,e._location,oM(),new Uu(t,!0),r);return e.storage.makeRequestWithTokens(n,f6).then(i=>({metadata:i,ref:e}))}function UZ(e){e._throwIfRoot("getDownloadURL");const t=jZ(e.storage,e._location,oM());return e.storage.makeRequestWithTokens(t,f6).then(r=>{if(r===null)throw JY();return r})}function VZ(e){e._throwIfRoot("deleteObject");const t=MZ(e.storage,e._location);return e.storage.makeRequestWithTokens(t,f6)}function $Z(e,t){const r=kZ(e._location.path,t),n=new as(e._location.bucket,r);return new Lf(e.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(e){return/^[A-Za-z]+:\/\//.test(e)}function HZ(e,t){return new Lf(e,t)}function hM(e,t){if(e instanceof h6){const r=e;if(r._bucket==null)throw ZY();const n=new Lf(r,r._bucket);return t!=null?hM(n,t):n}else return t!==void 0?$Z(e,t):e}function WZ(e,t){if(t&&qZ(t)){if(e instanceof h6)return HZ(e,t);throw Qx("To use ref(service, url), the first argument must be a Storage instance.")}else return hM(e,t)}function qE(e,t){const r=t==null?void 0:t[Jj];return r==null?null:as.makeFromBucketSpec(r,e)}function KZ(e,t,r,n={}){e.host=`${t}:${r}`,e._protocol="http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:VI(i,e.app.options.projectId))}class h6{constructor(t,r,n,i,a){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Qj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zY,this._maxUploadRetryTime=UY,this._requests=new Set,i!=null?this._bucket=as.makeFromBucketSpec(i,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,t):this._bucket=qE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$E("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$E("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Lf(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new rZ(eM());{const s=dZ(t,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const HE="@firebase/storage",WE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="storage";function KE(e,t,r){return e=dn(e),zZ(e,t,r)}function Uw(e){return e=dn(e),UZ(e)}function GZ(e){return e=dn(e),VZ(e)}function Jg(e,t){return e=dn(e),WZ(e,t)}function XZ(e=p4(),t){e=dn(e);const n=ib(e,dM).getImmediate({identifier:t}),i=BI("storage");return i&&YZ(n,...i),n}function YZ(e,t,r,n={}){KZ(e,t,r,n)}function ZZ(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new h6(r,n,i,t,Gf)}function QZ(){If(new dc(dM,ZZ,"PUBLIC").setMultipleInstances(!0)),Vo(HE,WE,""),Vo(HE,WE,"esm2017")}QZ();const JZ={apiKey:"AIzaSyAQNZionq01KS9F6O5m03ybWueO6SFuPPU",authDomain:"app-inventario-repuestos.firebaseapp.com",projectId:"app-inventario-repuestos",storageBucket:"app-inventario-repuestos.firebasestorage.app",messagingSenderId:"14780417870",appId:"1:14780417870:web:28269ae58be0f9d72fc01f"},d6=HI(JZ),Vw=BK(d6),na=EY(d6),e1=XZ(d6),pM=Y.createContext(null);function eQ({children:e}){const[t,r]=Y.useState(null),[n,i]=Y.useState(!0);Y.useEffect(()=>{const o=CW(Vw,l=>{r(l),i(!1)});return()=>o()},[]);const a=async(o,l)=>{try{await kW(Vw,o,l)}catch(u){throw console.error("Error al iniciar sesin:",u),u}},s=async()=>{try{await TW(Vw)}catch(o){throw console.error("Error al cerrar sesin:",o),o}};return q.jsx(pM.Provider,{value:{user:t,loading:n,signIn:a,signOut:s},children:e})}function p6(){const e=Y.useContext(pM);if(!e)throw new Error("useAuth debe usarse dentro de AuthProvider");return e}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=Y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>Y.createElement("svg",{ref:l,...rQ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:mM("lucide",i),...o},[...s.map(([u,c])=>Y.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(e,t)=>{const r=Y.forwardRef(({className:n,...i},a)=>Y.createElement(nQ,{ref:a,iconNode:t,className:mM(`lucide-${tQ(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=Yt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=Yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Yt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Yt("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Yt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=Yt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=Yt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=Yt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=Yt("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Yt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Yt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=Yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=Yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=Yt("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=Yt("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=Yt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Yt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=Yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=Yt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Yt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=Yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Yt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Yt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=Yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=Yt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Yt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=Yt("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Yt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=Yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Yt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=Yt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=Yt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function TQ(){const{signIn:e}=p6(),[t,r]=Y.useState(""),[n,i]=Y.useState(""),[a,s]=Y.useState(""),[o,l]=Y.useState(!1),u=async c=>{c.preventDefault(),s(""),l(!0);try{await e(t,n)}catch(f){s("Credenciales invlidas. Verifica tu email y contrasea."),console.error(f)}finally{l(!1)}};return q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4",children:q.jsxs("div",{className:"w-full max-w-md",children:[q.jsxs("div",{className:"text-center mb-8",children:[q.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-xl mb-4",children:q.jsx("span",{className:"text-2xl font-bold text-white",children:"B"})}),q.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Baader 200"}),q.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de Repuestos"})]}),q.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:q.jsxs("form",{onSubmit:u,className:"space-y-6",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),q.jsx("input",{type:"email",value:t,onChange:c=>r(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@ejemplo.com",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),q.jsx("input",{type:"password",value:n,onChange:c=>i(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"",required:!0})]}),a&&q.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:a}),q.jsxs("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?q.jsx(Cl,{className:"w-5 h-5 animate-spin"}):q.jsx(vQ,{className:"w-5 h-5"}),o?"Ingresando...":"Ingresar"]})]})}),q.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Acceso exclusivo para administradores"})]})})}const PQ="modulepreload",NQ=function(e){return"/Baader-200-Repuestos-app/"+e},t7={},qm=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=NQ(l),l in t7)return;t7[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":PQ,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},Io="repuestosBaader200";function IQ(){const[e,t]=Y.useState([]),[r,n]=Y.useState(!0),[i,a]=Y.useState(null);Y.useEffect(()=>{const m=RE(xh(na,Io),LE("codigoSAP")),g=Zj(m,p=>{const v=p.docs.map(y=>{var b,x,C;return{id:y.id,...y.data(),createdAt:((b=y.data().createdAt)==null?void 0:b.toDate())||new Date,updatedAt:((x=y.data().updatedAt)==null?void 0:x.toDate())||new Date,fechaUltimaActualizacionInventario:((C=y.data().fechaUltimaActualizacionInventario)==null?void 0:C.toDate())||null}});t(v),n(!1)},p=>{console.error("Error al obtener repuestos:",p),a(p.message),n(!1)});return()=>g()},[]);const s=async(m,g,p,v)=>{try{await UE(xh(na,Io,m,"historial"),{campo:g,valorAnterior:p,valorNuevo:v,fecha:qr.now()})}catch(y){console.error("Error al agregar historial:",y)}},o=Y.useCallback(async m=>{try{const g={...m,total:m.cantidadSolicitada*m.valorUnitario,fechaUltimaActualizacionInventario:m.cantidadStockBodega>0?qr.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:qr.now(),updatedAt:qr.now()},p=await UE(xh(na,Io),g);return await s(p.id,"creacion",null,JSON.stringify(m)),p.id}catch(g){throw console.error("Error al crear repuesto:",g),g}},[]),l=Y.useCallback(async(m,g,p)=>{try{const v={...g,updatedAt:qr.now()};if(g.cantidadSolicitada!==void 0||g.valorUnitario!==void 0){const y=g.cantidadSolicitada??(p==null?void 0:p.cantidadSolicitada)??0,b=g.valorUnitario??(p==null?void 0:p.valorUnitario)??0;v.total=y*b}if(g.cantidadStockBodega!==void 0&&(v.fechaUltimaActualizacionInventario=qr.now()),await LY(zu(na,Io,m),v),p)for(const y of Object.keys(g))g[y]!==p[y]&&await s(m,y,p[y],g[y])}catch(v){throw console.error("Error al actualizar repuesto:",v),v}},[]),u=Y.useCallback(async m=>{try{const g=xh(na,Io,m,"historial"),p=await BE(g),v=Yg(na);p.docs.forEach(y=>{v.delete(y.ref)}),await v.commit(),await DY(zu(na,Io,m))}catch(g){throw console.error("Error al eliminar repuesto:",g),g}},[]),c=Y.useCallback(async m=>{try{const g=RE(xh(na,Io,m,"historial"),LE("fecha","desc"));return(await BE(g)).docs.map(v=>{var y;return{id:v.id,repuestoId:m,...v.data(),fecha:((y=v.data().fecha)==null?void 0:y.toDate())||new Date}})}catch(g){return console.error("Error al obtener historial:",g),[]}},[]),f=Y.useCallback(async m=>{try{const g=Yg(na);for(const p of m){const v=zu(xh(na,Io));g.set(v,{...p,total:p.cantidadSolicitada*p.valorUnitario,fechaUltimaActualizacionInventario:p.cantidadStockBodega>0?qr.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:qr.now(),updatedAt:qr.now()})}await g.commit()}catch(g){throw console.error("Error al importar repuestos:",g),g}},[]),h=Y.useCallback(async(m,g)=>{var p;try{const v=Yg(na);let y=0;for(const b of e)if((p=b.tags)!=null&&p.includes(m)){const x=b.tags.map(C=>C===m?g:C);v.update(zu(na,Io,b.id),{tags:x,updatedAt:qr.now()}),y++}return y>0&&await v.commit(),y}catch(v){throw console.error("Error al renombrar tag:",v),v}},[e]),d=Y.useCallback(async m=>{var g;try{const p=Yg(na);let v=0;for(const y of e)if((g=y.tags)!=null&&g.includes(m)){const b=y.tags.filter(x=>x!==m);p.update(zu(na,Io,y.id),{tags:b,updatedAt:qr.now()}),v++}return v>0&&await p.commit(),v}catch(p){throw console.error("Error al eliminar tag:",p),p}},[e]);return{repuestos:e,loading:r,error:i,createRepuesto:o,updateRepuesto:l,deleteRepuesto:u,getHistorial:c,importRepuestos:f,renameTag:h,deleteTag:d}}function OQ(){const[e,t]=Y.useState(!1),[r,n]=Y.useState(0),i=Y.useCallback(async(l,u,c)=>{t(!0),n(0);try{const f=Date.now(),h=`${f}_${l.name}`,d=`repuestos/${u}/${c}/${h}`,m=Jg(e1,d);await KE(m,l),n(100);const g=await Uw(m);return{id:`${f}`,url:g,descripcion:"",orden:0,esPrincipal:!1,tipo:c,createdAt:new Date}}catch(f){throw console.error("Error al subir imagen:",f),f}finally{t(!1),n(0)}},[]),a=Y.useCallback(async l=>{try{const u=Jg(e1,l);await GZ(u)}catch(u){console.error("Error al eliminar imagen:",u)}},[]),s=Y.useCallback(async l=>{t(!0),n(0);try{const c=Jg(e1,"manual/BAADER 200 nparte y materiales.pdf");return await KE(c,l),n(100),await Uw(c)}catch(u){throw console.error("Error al subir PDF:",u),u}finally{t(!1),n(0)}},[]),o=Y.useCallback(async()=>{try{const u=Jg(e1,"manual/BAADER 200 nparte y materiales.pdf");return await Uw(u)}catch(l){return console.error("Manual no encontrado:",l),null}},[]);return{uploading:e,progress:r,uploadImage:i,deleteImage:a,uploadManualPDF:s,getManualURL:o}}const r7="baader_app_state";function jQ(){const[e,t]=Y.useState({lastSelectedRepuestoId:null});Y.useEffect(()=>{try{const i=localStorage.getItem(r7);i&&t(JSON.parse(i))}catch(i){console.error("Error al cargar estado local:",i)}},[]);const r=Y.useCallback(i=>{t(a=>{const s={...a,lastSelectedRepuestoId:i};return localStorage.setItem(r7,JSON.stringify(s)),s})},[]),n=Y.useCallback(()=>e.lastSelectedRepuestoId,[e.lastSelectedRepuestoId]);return{lastSelectedRepuestoId:e.lastSelectedRepuestoId,setLastSelectedRepuesto:r,getLastSelectedRepuesto:n}}function MQ(){const[e,t]=Y.useState([]),r=Y.useCallback((l,u="info",c=3e3)=>{const f=`toast_${Date.now()}`,h={id:f,message:l,type:u,duration:c};return t(d=>[...d,h]),c>0&&setTimeout(()=>{t(d=>d.filter(m=>m.id!==f))},c),f},[]),n=Y.useCallback(l=>{t(u=>u.filter(c=>c.id!==l))},[]),i=Y.useCallback(l=>r(l,"success"),[r]),a=Y.useCallback(l=>r(l,"error",5e3),[r]),s=Y.useCallback(l=>r(l,"warning"),[r]),o=Y.useCallback(l=>r(l,"info"),[r]);return{toasts:e,addToast:r,removeToast:n,success:i,error:a,warning:s,info:o}}const n7="dolar_cache",RQ=1e3*60*60;function m6(){const[e,t]=Y.useState({valor:0,fecha:"",loading:!0,error:null,lastUpdate:null}),r=Y.useCallback(()=>{try{const o=localStorage.getItem(n7);if(o){const l=JSON.parse(o);if(Date.now()-l.timestamp<RQ)return l}}catch(o){console.error("Error loading dolar cache:",o)}return null},[]),n=Y.useCallback((o,l)=>{try{const u={valor:o,fecha:l,timestamp:Date.now()};localStorage.setItem(n7,JSON.stringify(u))}catch(u){console.error("Error saving dolar cache:",u)}},[]),i=Y.useCallback(async(o=!1)=>{if(!o){const l=r();if(l){t({valor:l.valor,fecha:l.fecha,loading:!1,error:null,lastUpdate:new Date(l.timestamp)});return}}t(l=>({...l,loading:!0,error:null}));try{const l=await fetch("https://mindicador.cl/api/dolar");if(!l.ok)throw new Error(`Error HTTP: ${l.status}`);const u=await l.json();if(u.dolar&&u.dolar.valor){const c=u.dolar.valor,f=u.dolar.fecha;n(c,f),t({valor:c,fecha:f,loading:!1,error:null,lastUpdate:new Date})}else throw new Error("Respuesta invlida de la API")}catch(l){console.error("Error fetching dolar:",l);const u=r();t(u?{valor:u.valor,fecha:u.fecha,loading:!1,error:"Usando valor en cach (sin conexin)",lastUpdate:new Date(u.timestamp)}:{valor:0,fecha:"",loading:!1,error:l instanceof Error?l.message:"Error desconocido",lastUpdate:null})}},[r,n]);Y.useEffect(()=>{i()},[i]);const a=Y.useCallback(o=>!e.valor||e.valor===0?0:Math.round(o*e.valor),[e.valor]),s=Y.useCallback(o=>o.toLocaleString("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}),[]);return{...e,refresh:()=>i(!0),convertToClp:a,formatClp:s}}const Ww="baader_theme";function LQ(){const[e,t]=Y.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem(Ww);if(a==="light"||a==="dark")return a;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});Y.useEffect(()=>{const a=document.documentElement;e==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem(Ww,e)},[e]),Y.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),s=o=>{localStorage.getItem(Ww)||t(o.matches?"dark":"light")};return a.addEventListener("change",s),()=>a.removeEventListener("change",s)},[]);const r=Y.useCallback(a=>{t(a)},[]),n=Y.useCallback(()=>{t(a=>a==="light"?"dark":"light")},[]);return{theme:e,setTheme:r,toggleTheme:n,isDark:e==="dark"}}const Kw="2.6.2",Gw=[{key:"codigoSAP",label:"Cdigo SAP",visible:!0,required:!0,group:"general",order:0},{key:"codigoBaader",label:"Nmero Parte Manual",visible:!0,group:"general",order:1},{key:"textoBreve",label:"Descripcin SAP",visible:!0,group:"general",order:2},{key:"descripcion",label:"Descripcin Extendida",visible:!0,group:"general",order:3},{key:"nombreManual",label:"Nombre Manual",visible:!0,group:"general",order:4},{key:"cantidadSolicitada",label:"Cantidad Solicitada",visible:!0,group:"solicitada",order:5},{key:"totalSolicitadoUSD",label:"Total Solicitado USD",visible:!0,group:"solicitada",order:6},{key:"totalSolicitadoCLP",label:"Total Solicitado CLP",visible:!1,group:"solicitada",order:7},{key:"cantidadStockBodega",label:"Stock en Bodega",visible:!0,group:"stock",order:8},{key:"totalStockUSD",label:"Total Stock USD",visible:!1,group:"stock",order:9},{key:"totalStockCLP",label:"Total Stock CLP",visible:!1,group:"stock",order:10},{key:"valorUnitario",label:"Valor Unitario",visible:!0,group:"general",order:11},{key:"totalUSD",label:"Total General USD",visible:!1,group:"general",order:12},{key:"totalCLP",label:"Total General CLP",visible:!1,group:"general",order:13},{key:"acciones",label:"Acciones",visible:!0,required:!0,group:"general",order:14}],i7="table_columns_config";function DQ(){const[e,t]=Y.useState(()=>{try{const u=localStorage.getItem(i7);if(u){const c=JSON.parse(u);return Gw.map(f=>{const h=c.find(d=>d.key===f.key);return h?{...f,visible:h.visible}:f})}}catch(u){console.error("Error loading column config:",u)}return Gw});Y.useEffect(()=>{try{localStorage.setItem(i7,JSON.stringify(e))}catch(u){console.error("Error saving column config:",u)}},[e]);const r=Y.useCallback(u=>{t(c=>c.map(f=>f.key===u&&!f.required?{...f,visible:!f.visible}:f))},[]),n=Y.useCallback(()=>{t(u=>u.map(c=>({...c,visible:!0})))},[]),i=Y.useCallback(()=>{t(Gw)},[]),a=Y.useCallback(u=>{const c=e.find(f=>f.key===u);return c?c.visible:!0},[e]),s=Y.useCallback((u,c)=>{t(f=>{const h=[...f],[d]=h.splice(u,1);return h.splice(c,0,d),h.map((m,g)=>({...m,order:g}))})},[]),o=e.filter(u=>u.visible),l=Y.useCallback(u=>e.find(c=>c.key===u),[e]);return{columns:e,visibleColumns:o,toggleColumn:r,showAllColumns:n,resetColumns:i,isColumnVisible:a,reorderColumns:s,getColumn:l}}const t1=15;function FQ({isOpen:e,onClose:t,campo:r,historial:n}){if(!e)return null;const i=n.filter(a=>a.campo===r);return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:q.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:a=>a.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[q.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Historial de ",r==="cantidadSolicitada"?"Cantidad Solicitada":"Stock Bodega"]}),q.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsx("div",{className:"p-5 max-h-96 overflow-y-auto",children:i.length===0?q.jsx("p",{className:"text-gray-500 text-center py-8",children:"Sin cambios registrados"}):q.jsx("div",{className:"space-y-3",children:i.map((a,s)=>q.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[q.jsxs("div",{className:"flex items-center justify-between mb-2",children:[q.jsx("span",{className:"text-sm font-medium text-gray-600",children:new Date(a.fecha).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),q.jsx("span",{className:"text-xs text-gray-400",children:new Date(a.fecha).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),q.jsxs("div",{className:"flex items-center gap-2 text-base",children:[q.jsx("span",{className:"text-red-500 line-through",children:a.valorAnterior??0}),q.jsx("span",{className:"text-gray-400",children:""}),q.jsx("span",{className:"text-green-600 font-semibold",children:a.valorNuevo??0})]})]},s))})})]})})}function BQ({repuestos:e,selectedRepuesto:t,onSelect:r,onEdit:n,onDelete:i,onViewManual:a,onViewPhotos:s,onViewHistory:o,onAddNew:l,onMarkInManual:u,getHistorial:c,onManageTags:f,onFilteredChange:h}){const[d,m]=Y.useState(""),[g,p]=Y.useState(1),[v,y]=Y.useState(null),[b,x]=Y.useState([]),[C,O]=Y.useState("OR"),[I,T]=Y.useState(!1),[M,B]=Y.useState(!1),[L,P]=Y.useState(!1),[A,j]=Y.useState(null),[E,w]=Y.useState(""),[S,_]=Y.useState(""),[k,N]=Y.useState(!1),[$,R]=Y.useState("codigoSAP"),[H,K]=Y.useState("asc"),{columns:J,toggleColumn:V,resetColumns:Z,isColumnVisible:z,reorderColumns:D,getColumn:G}=DQ(),[te,ae]=Y.useState(null),[se,le]=Y.useState(null),[fe,ie]=Y.useState({isOpen:!1,campo:"",historial:[]}),oe=_e=>{const kt=G(_e),Je="px-4 py-4 font-semibold text-xs uppercase tracking-wide transition-colors cursor-move select-none";if(!kt)return Je+" text-gray-600";let at="";return kt.group==="solicitada"?at="bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-200 hover:bg-blue-200 dark:hover:bg-blue-800/40":kt.group==="stock"?at="bg-green-100 dark:bg-green-900/30 text-green-900 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800/40":at="bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",te===_e&&(at+=" opacity-50"),se===_e&&(at+=" ring-2 ring-primary-500"),`${Je} ${at}`},be=_e=>{ae(_e)},ve=(_e,kt)=>{_e.preventDefault(),le(kt)},we=(_e,kt)=>{if(_e.preventDefault(),!te||te===kt){ae(null),le(null);return}const Je=J.findIndex(pt=>pt.key===te),at=J.findIndex(pt=>pt.key===kt);Je!==-1&&at!==-1&&D(Je,at),ae(null),le(null)},Se=()=>{ae(null),le(null)},Ae=Y.useMemo(()=>{let _e=e;if(d.trim()){const at=d.toLowerCase();_e=_e.filter(pt=>{var Ve,yt,Ct,jt,Xt;return((Ve=pt.codigoSAP)==null?void 0:Ve.toLowerCase().includes(at))||((yt=pt.textoBreve)==null?void 0:yt.toLowerCase().includes(at))||((Ct=pt.descripcion)==null?void 0:Ct.toLowerCase().includes(at))||((jt=pt.nombreManual)==null?void 0:jt.toLowerCase().includes(at))||((Xt=pt.codigoBaader)==null?void 0:Xt.toLowerCase().includes(at))})}b.length>0&&(C==="AND"?_e=_e.filter(at=>b.every(pt=>{var Ve;return(Ve=at.tags)==null?void 0:Ve.includes(pt)})):_e=_e.filter(at=>b.some(pt=>{var Ve;return(Ve=at.tags)==null?void 0:Ve.includes(pt)}))),L&&(_e=_e.filter(at=>!at.cantidadStockBodega||at.cantidadStockBodega===0)),A!==null&&(_e=_e.filter(at=>{const pt=at.vinculosManual&&at.vinculosManual.length>0;return A?pt:!pt}));const kt=parseFloat(E)||0,Je=parseFloat(S)||1/0;return(kt>0||Je<1/0)&&(_e=_e.filter(at=>{const pt=at.total||0;return pt>=kt&&pt<=Je})),_e=[..._e].sort((at,pt)=>{let Ve="",yt="";switch($){case"codigoSAP":Ve=at.codigoSAP||"",yt=pt.codigoSAP||"";break;case"codigoBaader":Ve=at.codigoBaader||"",yt=pt.codigoBaader||"";break;case"textoBreve":Ve=at.textoBreve||"",yt=pt.textoBreve||"";break;case"descripcion":Ve=at.descripcion||"",yt=pt.descripcion||"";break;case"nombreManual":Ve=at.nombreManual||"",yt=pt.nombreManual||"";break;case"cantidadSolicitada":Ve=at.cantidadSolicitada||0,yt=pt.cantidadSolicitada||0;break;case"cantidadStockBodega":Ve=at.cantidadStockBodega||0,yt=pt.cantidadStockBodega||0;break;case"valorUnitario":Ve=at.valorUnitario||0,yt=pt.valorUnitario||0;break;case"totalUSD":Ve=at.total||0,yt=pt.total||0;break;default:Ve=at.codigoSAP||"",yt=pt.codigoSAP||""}if(typeof Ve=="string"&&typeof yt=="string"){const Ct=Ve.localeCompare(yt,"es",{numeric:!0});return H==="asc"?Ct:-Ct}else{const Ct=Ve-yt;return H==="asc"?Ct:-Ct}}),_e},[e,d,b,C,L,A,E,S,$,H]),Pe=_e=>{$===_e?K(H==="asc"?"desc":"asc"):(R(_e),K("asc"))},Re=({column:_e})=>$!==_e?q.jsx(gM,{className:"w-3 h-3 text-gray-300"}):H==="asc"?q.jsx(sQ,{className:"w-3 h-3 text-primary-600"}):q.jsx(iQ,{className:"w-3 h-3 text-primary-600"}),Ue=Math.ceil(Ae.length/t1),We=(g-1)*t1,Ke=Ae.slice(We,We+t1);Y.useEffect(()=>{p(1)},[d,b,C,L,A,E,S,$,H]),Y.useEffect(()=>{h==null||h(Ae)},[Ae,h]);const Qe=async(_e,kt)=>{try{await navigator.clipboard.writeText(_e),y(kt),setTimeout(()=>y(null),2e3)}catch(Je){console.error("Error al copiar:",Je)}},rt=async(_e,kt)=>{if(c)try{const Je=await c(_e.id);ie({isOpen:!0,campo:kt,historial:Je})}catch(Je){console.error("Error al cargar historial:",Je)}},dt=e.filter(_e=>!_e.vinculosManual||_e.vinculosManual.length===0).length,Ge=Y.useMemo(()=>{const _e=new Set;return e.forEach(kt=>{var Je;return(Je=kt.tags)==null?void 0:Je.forEach(at=>_e.add(at))}),Array.from(_e)},[e]),{valor:Et,loading:et,formatClp:ut,convertToClp:ot}=m6(),xt=Y.useMemo(()=>{const _e=Ae.reduce((pt,Ve)=>pt+(Ve.cantidadSolicitada||0),0),kt=Ae.reduce((pt,Ve)=>pt+(Ve.cantidadStockBodega||0),0),Je=Ae.reduce((pt,Ve)=>pt+(Ve.total||0),0),at=ot(Je);return{totalSolicitado:_e,totalBodega:kt,totalUSD:Je,totalCLP:at}},[Ae,ot]),wt=_e=>{if(!z(_e))return null;const kt=G(_e);if(!kt)return null;const Je=["codigoSAP","codigoBaader","textoBreve","descripcion","nombreManual","cantidadSolicitada","cantidadStockBodega","valorUnitario","totalUSD"].includes(_e),at=["cantidadSolicitada","cantidadStockBodega","acciones"].includes(_e)?"center":["valorUnitario","totalUSD","totalCLP","totalSolicitadoUSD","totalSolicitadoCLP","totalStockUSD","totalStockCLP"].includes(_e)?"right":"left";return q.jsx("th",{draggable:!0,onDragStart:()=>be(_e),onDragOver:pt=>ve(pt,_e),onDrop:pt=>we(pt,_e),onDragEnd:Se,className:`${oe(_e)} text-${at}`,onClick:Je?()=>Pe(_e):void 0,children:q.jsxs("div",{className:`flex items-center gap-1 ${at==="center"?"justify-center":at==="right"?"justify-end":""}`,children:[kt.label,Je&&q.jsx(Re,{column:_e})]})},_e)};return q.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 transition-colors",children:[q.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-3",children:[q.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[q.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[q.jsx(Tl,{className:"w-6 h-6 text-primary-600"}),"Repuestos",q.jsxs("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:["(",Ae.length," de ",e.length,")"]})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsxs("div",{className:"relative",children:[q.jsxs("button",{onClick:()=>T(!I),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${b.length>0?"border-primary-500 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"}`,children:[q.jsx(_M,{className:"w-4 h-4"}),q.jsx("span",{className:"hidden sm:inline text-sm",children:b.length>0?`${b.length} tag${b.length>1?"s":""}`:"Filtrar"}),b.length>0&&q.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-200 dark:bg-primary-800 text-primary-800 dark:text-primary-200 rounded text-xs font-medium",children:C})]}),I&&q.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-20",children:[q.jsxs("div",{className:"p-3 border-b border-gray-100",children:[q.jsxs("div",{className:"flex items-center justify-between mb-2",children:[q.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Modo de filtrado"}),q.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[q.jsx("button",{onClick:()=>O("OR"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${C==="OR"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra repuestos que tengan CUALQUIERA de los tags",children:"OR"}),q.jsx("button",{onClick:()=>O("AND"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${C==="AND"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra solo repuestos que tengan TODOS los tags",children:"AND"})]})]}),q.jsx("p",{className:"text-xs text-gray-400",children:C==="OR"?"Muestra si tiene cualquier tag seleccionado":"Muestra solo si tiene todos los tags"})]}),q.jsx("div",{className:"p-2 border-b border-gray-100",children:q.jsxs("button",{onClick:()=>{x([])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center justify-between ${b.length===0?"bg-gray-50 text-gray-400":"text-gray-600 hover:bg-gray-50"}`,disabled:b.length===0,children:[q.jsx("span",{children:"Todos los repuestos"}),b.length>0&&q.jsx(Pi,{className:"w-4 h-4 text-gray-400"})]})}),q.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:Ge.map(_e=>{const kt=b.includes(_e),Je=e.filter(at=>{var pt;return(pt=at.tags)==null?void 0:pt.includes(_e)}).length;return q.jsxs("button",{onClick:()=>{x(kt?b.filter(at=>at!==_e):[...b,_e])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${kt?"bg-primary-50 text-primary-700":"hover:bg-gray-50"}`,children:[q.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${kt?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:kt&&q.jsx(Ns,{className:"w-3 h-3 text-white"})}),q.jsx(gf,{className:"w-3 h-3 flex-shrink-0"}),q.jsx("span",{className:"flex-1 truncate",children:_e}),q.jsxs("span",{className:"text-xs text-gray-400",children:["(",Je,")"]})]},_e)})}),f&&q.jsx("div",{className:"p-2 border-t border-gray-100",children:q.jsxs("button",{onClick:()=>{T(!1),f()},className:"w-full px-3 py-2 text-left text-sm text-primary-600 hover:bg-primary-50 rounded flex items-center gap-2",children:[q.jsx(kQ,{className:"w-3 h-3"}),"Gestionar Tags"]})})]})]}),q.jsxs("button",{onClick:()=>P(!L),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${L?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:bg-gray-50 text-gray-600"}`,title:L?"Mostrando sin stock":"Filtrar sin stock",children:[q.jsx(P0,{className:"w-4 h-4"}),q.jsx("span",{className:"hidden sm:inline text-sm",children:"Sin Stock"})]}),q.jsxs("div",{className:"relative hidden lg:block",children:[q.jsx("button",{onClick:()=>B(!M),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${M?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Configurar columnas",children:q.jsx(cQ,{className:"w-4 h-4"})}),M&&q.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[q.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[q.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Columnas visibles"}),q.jsx("button",{onClick:Z,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Restaurar por defecto",children:q.jsx(xQ,{className:"w-4 h-4"})})]}),q.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:J.map(_e=>q.jsxs("button",{onClick:()=>!_e.required&&V(_e.key),className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${_e.required?"text-gray-400 cursor-not-allowed":_e.visible?"text-gray-700 hover:bg-gray-50":"text-gray-400 hover:bg-gray-50"}`,disabled:_e.required,children:[_e.visible?q.jsx(hQ,{className:"w-4 h-4 text-green-500"}):q.jsx(fQ,{className:"w-4 h-4 text-gray-400"}),q.jsx("span",{className:_e.visible?"":"line-through",children:_e.label}),_e.required&&q.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:"requerido"})]},_e.key))})]})]}),q.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white text-base font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[q.jsx(kb,{className:"w-5 h-5"}),q.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})]})]}),q.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[q.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300",children:[q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Solicitado"}),q.jsx("div",{className:"text-lg font-bold text-blue-600",children:xt.totalSolicitado.toLocaleString()})]}),q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"En Bodega"}),q.jsx("div",{className:`text-lg font-bold ${xt.totalBodega>0?"text-green-600":"text-gray-400"}`,children:xt.totalBodega.toLocaleString()})]}),q.jsxs("button",{onClick:()=>P(!L),className:`text-center cursor-pointer rounded-lg px-2 py-1 transition-colors ${L?"bg-red-100":"hover:bg-red-50"}`,title:"Click para filtrar",children:[q.jsx("div",{className:"text-xs text-red-500 uppercase",children:"Sin Stock"}),q.jsx("div",{className:"text-lg font-bold text-red-600",children:Ae.filter(_e=>!_e.cantidadStockBodega||_e.cantidadStockBodega===0).length})]})]}),q.jsxs("div",{className:"flex items-center gap-4",children:[q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total USD"}),q.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["$",xt.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),Et>0&&q.jsxs("div",{className:"text-center",children:[q.jsxs("div",{className:"text-xs text-gray-500 uppercase flex items-center gap-1 justify-center",children:["Total CLP",q.jsxs("span",{className:"text-[10px] text-gray-400",children:["(@",Et.toFixed(0),")"]})]}),q.jsx("div",{className:"text-lg font-bold text-green-700",children:ut(xt.totalCLP)})]})]}),et&&q.jsx(wQ,{className:"w-4 h-4 text-gray-400 animate-spin ml-auto"})]}),q.jsxs("div",{className:"flex gap-2",children:[q.jsxs("div",{className:"relative flex-1",children:[q.jsx(SQ,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),q.jsx("input",{type:"text",value:d,onChange:_e=>m(_e.target.value),placeholder:"Buscar por cdigo SAP, Baader o descripcin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),q.jsx("button",{onClick:()=>N(!k),className:`flex items-center gap-2 px-4 py-3 border rounded-xl transition-colors ${k||A!==null||E||S?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Filtros avanzados",children:q.jsx(JE,{className:"w-5 h-5"})})]}),k&&q.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 space-y-4",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[q.jsx(JE,{className:"w-4 h-4"}),"Filtros Avanzados"]}),q.jsx("button",{onClick:()=>{j(null),w(""),_("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar filtros"})]}),q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[q.jsxs("div",{children:[q.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[q.jsx(vM,{className:"w-3 h-3 inline mr-1"}),"Marcador en Manual"]}),q.jsxs("div",{className:"flex gap-1",children:[q.jsx("button",{onClick:()=>j(null),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${A===null?"bg-primary-100 border-primary-500 text-primary-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),q.jsx("button",{onClick:()=>j(!0),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${A===!0?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Con marcador"}),q.jsx("button",{onClick:()=>j(!1),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${A===!1?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Sin marcador"})]})]}),q.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[q.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[q.jsx(Vm,{className:"w-3 h-3 inline mr-1"}),"Rango de Precio (USD)"]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("input",{type:"number",value:E,onChange:_e=>w(_e.target.value),placeholder:"Mnimo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),q.jsx("span",{className:"text-gray-400",children:"-"}),q.jsx("input",{type:"number",value:S,onChange:_e=>_(_e.target.value),placeholder:"Mximo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})]}),b.length>0&&q.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[q.jsxs("span",{className:"text-sm text-gray-500",children:["Filtrado por (",C,"):"]}),b.map(_e=>q.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[q.jsx(gf,{className:"w-3 h-3"}),_e,q.jsx("button",{onClick:()=>x(b.filter(kt=>kt!==_e)),className:"ml-1 hover:text-primary-900",children:q.jsx(Pi,{className:"w-4 h-4"})})]},_e)),q.jsx("button",{onClick:()=>x([]),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Limpiar filtros"})]}),dt>0&&b.length===0&&q.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:[q.jsx(qw,{className:"w-5 h-5"}),q.jsxs("span",{children:[dt," repuestos sin ubicacin en el manual"]})]})]}),q.jsxs("div",{className:"flex-1 overflow-auto hidden lg:block",children:[q.jsxs("table",{className:"w-full",children:[q.jsx("thead",{className:"sticky top-0",children:q.jsxs("tr",{children:[z("codigoSAP")&&wt("codigoSAP"),z("codigoBaader")&&wt("codigoBaader"),z("textoBreve")&&wt("textoBreve"),z("descripcion")&&wt("descripcion"),z("nombreManual")&&wt("nombreManual"),z("cantidadSolicitada")&&wt("cantidadSolicitada"),z("totalSolicitadoUSD")&&wt("totalSolicitadoUSD"),z("totalSolicitadoCLP")&&wt("totalSolicitadoCLP"),z("cantidadStockBodega")&&wt("cantidadStockBodega"),z("totalStockUSD")&&wt("totalStockUSD"),z("totalStockCLP")&&wt("totalStockCLP"),z("valorUnitario")&&wt("valorUnitario"),z("totalUSD")&&wt("totalUSD"),z("totalCLP")&&wt("totalCLP"),z("acciones")&&wt("acciones")]})}),q.jsx("tbody",{children:Ke.map(_e=>{var Je,at,pt;const kt=_e.vinculosManual&&_e.vinculosManual.length>0;return q.jsxs("tr",{onClick:()=>r((t==null?void 0:t.id)===_e.id?null:_e),className:`
                    border-b border-gray-100 cursor-pointer transition-colors
                    ${(t==null?void 0:t.id)===_e.id?"bg-primary-50 border-primary-200":"hover:bg-gray-50"}
                  `,children:[z("codigoSAP")&&q.jsx("td",{className:"px-4 py-4",children:q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"font-mono text-sm bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-gray-800",children:_e.codigoSAP}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.codigoSAP,`sap-${_e.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo SAP",children:v===`sap-${_e.id}`?q.jsx(Ns,{className:"w-4 h-4 text-green-500"}):q.jsx(Gc,{className:"w-4 h-4"})})]})}),z("codigoBaader")&&q.jsx("td",{className:"px-4 py-4",children:q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:_e.codigoBaader}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.codigoBaader,`baader-${_e.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo Baader",children:v===`baader-${_e.id}`?q.jsx(Ns,{className:"w-4 h-4 text-green-500"}):q.jsx(Gc,{className:"w-4 h-4"})})]})}),z("textoBreve")&&q.jsx("td",{className:"px-4 py-4",children:q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("span",{className:"text-sm text-gray-800 truncate max-w-[150px]",title:_e.textoBreve,children:_e.textoBreve}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.textoBreve,`sap-${_e.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:v===`sap-${_e.id}`?q.jsx(Ns,{className:"w-3 h-3 text-green-500"}):q.jsx(Gc,{className:"w-3 h-3"})})]})}),z("descripcion")&&q.jsx("td",{className:"px-4 py-4",children:q.jsxs("div",{className:"space-y-1",children:[q.jsxs("div",{className:"flex items-center gap-1",children:[_e.descripcion?q.jsxs(q.Fragment,{children:[q.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:_e.descripcion,children:_e.descripcion}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.descripcion,`desc-${_e.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:v===`desc-${_e.id}`?q.jsx(Ns,{className:"w-3 h-3 text-green-500"}):q.jsx(Gc,{className:"w-3 h-3"})})]}):q.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"}),!kt&&u&&q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),u(_e)},className:"flex-shrink-0 p-1 rounded bg-amber-100 text-amber-600 hover:bg-amber-200 transition-colors",title:"Marcar ubicacin en manual",children:q.jsx(qw,{className:"w-3 h-3"})})]}),_e.tags&&_e.tags.length>0&&q.jsxs("div",{className:"flex flex-wrap gap-1",children:[_e.tags.slice(0,2).map(Ve=>q.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded text-[10px] font-medium",children:Ve.length>12?Ve.substring(0,12)+"...":Ve},Ve)),_e.tags.length>2&&q.jsxs("span",{className:"text-[10px] text-gray-400",children:["+",_e.tags.length-2]})]})]})}),z("nombreManual")&&q.jsx("td",{className:"px-4 py-4",children:_e.nombreManual?q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:_e.nombreManual,children:_e.nombreManual}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.nombreManual||"",`manual-${_e.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:v===`manual-${_e.id}`?q.jsx(Ns,{className:"w-3 h-3 text-green-500"}):q.jsx(Gc,{className:"w-3 h-3"})})]}):q.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),z("cantidadSolicitada")&&q.jsx("td",{className:"px-4 py-4 text-center",children:q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),rt(_e,"cantidadSolicitada")},className:"text-base font-semibold px-3 py-1.5 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"Ver historial de cambios",children:_e.cantidadSolicitada})}),z("totalSolicitadoUSD")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["$",(_e.valorUnitario*_e.cantidadSolicitada).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),z("totalSolicitadoCLP")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsx("span",{className:"text-sm font-semibold text-green-600",children:ut(_e.valorUnitario*_e.cantidadSolicitada*(Et||900))})}),z("cantidadStockBodega")&&q.jsx("td",{className:"px-4 py-4 text-center",children:q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),rt(_e,"cantidadStockBodega")},className:`
                        px-3 py-1.5 rounded-lg text-sm font-semibold transition-colors
                        ${_e.cantidadStockBodega>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}
                      `,title:"Ver historial de cambios",children:_e.cantidadStockBodega})}),z("totalStockUSD")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsxs("span",{className:"text-sm font-medium text-purple-600",children:["$",(_e.valorUnitario*(_e.cantidadStockBodega||0)).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),z("totalStockCLP")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsx("span",{className:"text-sm font-medium text-amber-600",children:ut(_e.valorUnitario*(_e.cantidadStockBodega||0)*(Et||900))})}),z("valorUnitario")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsxs("span",{className:"text-base text-gray-600 font-medium",children:["$",((Je=_e.valorUnitario)==null?void 0:Je.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),z("totalUSD")&&q.jsx("td",{className:"px-4 py-4 text-right",children:q.jsxs("span",{className:"text-base font-bold text-gray-800",children:["$",((at=_e.total)==null?void 0:at.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),z("totalCLP")&&q.jsx("td",{className:"px-4 py-4 text-right",children:et?q.jsx("span",{className:"text-xs text-gray-400",children:"..."}):Et>0?q.jsx("span",{className:"text-sm font-medium text-green-700",children:ut(ot(_e.total||0))}):q.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),z("acciones")&&q.jsx("td",{className:"px-4 py-4",children:q.jsxs("div",{className:"flex items-center justify-center gap-1",children:[q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),a(_e)},className:`p-2 rounded-lg transition-colors ${kt?"hover:bg-primary-100 text-primary-600":"hover:bg-gray-100 text-gray-400"}`,title:kt?"Ver en manual":"Ir al manual",children:q.jsx(Hv,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),s(_e)},className:`p-2 rounded-lg transition-colors ${((pt=_e.fotosReales)==null?void 0:pt.length)>0?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-300"}`,title:"Fotos reales",children:q.jsx(XE,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),o(_e)},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors",title:"Ver historial completo",children:q.jsx(YE,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),n(_e)},className:"p-2 rounded-lg hover:bg-blue-50 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:q.jsx(Jx,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),i(_e)},className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",children:q.jsx($m,{className:"w-5 h-5"})})]})})]},_e.id)})})]}),Ae.length===0&&q.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[q.jsx(Tl,{className:"w-16 h-16 mb-4 opacity-40"}),q.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),d&&q.jsx("button",{onClick:()=>m(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),q.jsxs("div",{className:"flex-1 overflow-auto lg:hidden",children:[q.jsx("div",{className:"p-3 space-y-3",children:Ke.map(_e=>{var Je,at,pt;const kt=_e.vinculosManual&&_e.vinculosManual.length>0;return q.jsxs("div",{onClick:()=>r((t==null?void 0:t.id)===_e.id?null:_e),className:`
                  bg-white rounded-xl border-2 p-4 cursor-pointer transition-all
                  ${(t==null?void 0:t.id)===_e.id?"border-primary-500 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow"}
                `,children:[q.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[q.jsxs("div",{className:"flex-1 min-w-0",children:[q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[q.jsx("span",{className:"text-xs font-medium text-gray-500",children:"SAP:"}),q.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-0.5 rounded font-semibold text-gray-800",children:_e.codigoSAP}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.codigoSAP,`sap-m-${_e.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:v===`sap-m-${_e.id}`?q.jsx(Ns,{className:"w-3.5 h-3.5 text-green-500"}):q.jsx(Gc,{className:"w-3.5 h-3.5"})})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Baader:"}),q.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:_e.codigoBaader}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Qe(_e.codigoBaader,`baader-m-${_e.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:v===`baader-m-${_e.id}`?q.jsx(Ns,{className:"w-3.5 h-3.5 text-green-500"}):q.jsx(Gc,{className:"w-3.5 h-3.5"})})]})]}),!kt&&u&&q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),u(_e)},className:"p-2 rounded-lg bg-amber-100 text-amber-600",title:"Marcar en manual",children:q.jsx(qw,{className:"w-4 h-4"})})]}),q.jsxs("div",{className:"space-y-2 mb-3",children:[_e.textoBreve&&q.jsxs("div",{className:"flex items-start gap-2",children:[q.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"SAP:"}),q.jsx("span",{className:"text-sm text-gray-700 line-clamp-1 flex-1",children:_e.textoBreve})]}),_e.descripcion&&q.jsxs("div",{className:"flex items-start gap-2",children:[q.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Extendida:"}),q.jsx("span",{className:"text-sm text-gray-600 line-clamp-2 flex-1",children:_e.descripcion})]}),_e.nombreManual&&q.jsxs("div",{className:"flex items-start gap-2",children:[q.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Manual:"}),q.jsx("span",{className:"text-sm text-gray-600 line-clamp-1 flex-1",children:_e.nombreManual})]}),!_e.textoBreve&&!_e.descripcion&&!_e.nombreManual&&q.jsx("p",{className:"text-sm text-gray-400 italic",children:"Sin descripcin"})]}),_e.tags&&_e.tags.length>0&&q.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:_e.tags.map(Ve=>q.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-xs font-medium",children:Ve},Ve))}),q.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[q.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[q.jsx("span",{className:"text-xs text-gray-500 block",children:"Cant. Solicitada"}),q.jsx("span",{className:"text-lg font-bold text-gray-800",children:_e.cantidadSolicitada})]}),q.jsxs("div",{className:`rounded-lg p-2 ${_e.cantidadStockBodega>0?"bg-green-50":"bg-gray-50"}`,children:[q.jsx("span",{className:"text-xs text-gray-500 block",children:"Stock Bodega"}),q.jsx("span",{className:`text-lg font-bold ${_e.cantidadStockBodega>0?"text-green-700":"text-gray-500"}`,children:_e.cantidadStockBodega})]}),q.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[q.jsx("span",{className:"text-xs text-gray-500 block",children:"V. Unitario"}),q.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["$",((Je=_e.valorUnitario)==null?void 0:Je.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]}),q.jsxs("div",{className:"bg-primary-50 rounded-lg p-2",children:[q.jsx("span",{className:"text-xs text-gray-500 block",children:"Total USD"}),q.jsxs("span",{className:"text-sm font-bold text-primary-700",children:["$",((at=_e.total)==null?void 0:at.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]})]}),q.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),a(_e)},className:`p-2 rounded-lg ${kt?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,title:"Ver en manual",children:q.jsx(Hv,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),s(_e)},className:`p-2 rounded-lg ${((pt=_e.fotosReales)==null?void 0:pt.length)>0?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-300"}`,title:"Fotos",children:q.jsx(XE,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),o(_e)},className:"p-2 rounded-lg bg-gray-100 text-gray-500",title:"Historial",children:q.jsx(YE,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),n(_e)},className:"p-2 rounded-lg bg-blue-50 text-blue-600",title:"Editar",children:q.jsx(Jx,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),i(_e)},className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Eliminar",children:q.jsx($m,{className:"w-5 h-5"})})]})]})]},_e.id)})}),Ae.length===0&&q.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[q.jsx(Tl,{className:"w-16 h-16 mb-4 opacity-40"}),q.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),d&&q.jsx("button",{onClick:()=>m(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),Ue>1&&q.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[q.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Mostrando ",We+1,"-",Math.min(We+t1,Ae.length)," de ",Ae.length]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("button",{onClick:()=>p(_e=>Math.max(1,_e-1)),disabled:g===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q.jsx(yM,{className:"w-5 h-5"})}),q.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ue)},(_e,kt)=>{let Je;return Ue<=5||g<=3?Je=kt+1:g>=Ue-2?Je=Ue-4+kt:Je=g-2+kt,q.jsx("button",{onClick:()=>p(Je),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${g===Je?"bg-primary-600 text-white":"hover:bg-white border border-gray-300"}`,children:Je},Je)})}),q.jsx("button",{onClick:()=>p(_e=>Math.min(Ue,_e+1)),disabled:g===Ue,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q.jsx(bM,{className:"w-5 h-5"})})]})]}),q.jsx(FQ,{isOpen:fe.isOpen,onClose:()=>ie({...fe,isOpen:!1}),campo:fe.campo,historial:fe.historial})]})}const Sh=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo","Repuestos varios","Preventivo mensual"],a7="settings/tags";function kM(){const[e,t]=Y.useState(Sh),[r,n]=Y.useState(!0),[i,a]=Y.useState(null);Y.useEffect(()=>{const f=zu(na,a7),h=Zj(f,d=>{if(d.exists()){const m=d.data();t(m.tags||Sh)}else zE(f,{tags:Sh,updatedAt:new Date}).catch(console.error),t(Sh);n(!1)},d=>{console.error("Error al obtener tags:",d),a(d.message),n(!1),t(Sh)});return()=>h()},[]);const s=Y.useCallback(async f=>{try{const h=zu(na,a7);return await zE(h,{tags:f,updatedAt:new Date}),!0}catch(h){return console.error("Error al guardar tags:",h),a(h.message),!1}},[]),o=Y.useCallback(async f=>{const h=f.trim();if(!h||e.includes(h))return!1;const d=[...e,h].sort((m,g)=>m.localeCompare(g,"es",{sensitivity:"base"}));return await s(d)},[e,s]),l=Y.useCallback(async f=>{const h=e.filter(d=>d!==f);return await s(h)},[e,s]),u=Y.useCallback(async(f,h)=>{const d=h.trim();if(!d||e.includes(d)&&d!==f)return!1;const m=e.map(g=>g===f?d:g).sort((g,p)=>g.localeCompare(p,"es",{sensitivity:"base"}));return await s(m)},[e,s]),c=Y.useCallback(async f=>{const h=f.map(m=>m.trim()).filter(m=>m&&!e.includes(m));if(h.length===0)return!0;const d=[...e,...h].sort((m,g)=>m.localeCompare(g,"es",{sensitivity:"base"}));return await s(d)},[e,s]);return{tags:e,loading:r,error:i,addTag:o,removeTag:l,renameTag:u,addMultipleTags:c,saveTags:s,DEFAULT_TAGS:Sh}}function N0({isOpen:e,onClose:t,children:r,title:n,size:i="md"}){const a=Y.useRef(null);Y.useEffect(()=>{const u=c=>{c.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[e,t]);const s=Y.useCallback(u=>{a.current=u.target},[]),o=Y.useCallback(u=>{if(a.current!==u.target)return;const c=window.getSelection();c&&c.toString().trim().length>0||t()},[t]);if(!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4 md:mx-8"};return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onMouseDown:s,onClick:o,children:q.jsxs("div",{className:`
          modal-content bg-white rounded-lg shadow-xl w-full ${l[i]}
          max-h-[90vh] overflow-hidden flex flex-col animate-slideIn
          md:rounded-lg md:max-h-[85vh]
        `,onClick:u=>u.stopPropagation(),onMouseDown:u=>u.stopPropagation(),children:[n&&q.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[q.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:n}),q.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5 text-gray-500"})})]}),q.jsx("div",{className:"flex-1 overflow-auto p-6",children:r})]})})}function zQ({toasts:e,onRemove:t}){return e.length===0?null:q.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:e.map(r=>q.jsx(UQ,{toast:r,onRemove:t},r.id))})}function UQ({toast:e,onRemove:t}){const r={success:q.jsx(qv,{className:"w-5 h-5 text-green-500"}),error:q.jsx(uQ,{className:"w-5 h-5 text-red-500"}),warning:q.jsx(P0,{className:"w-5 h-5 text-yellow-500"}),info:q.jsx(gQ,{className:"w-5 h-5 text-blue-500"})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return q.jsxs("div",{className:`
        toast flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg
        ${n[e.type]}
      `,children:[r[e.type],q.jsx("p",{className:"flex-1 text-sm text-gray-700",children:e.message}),q.jsx("button",{onClick:()=>t(e.id),className:"p-1 rounded hover:bg-black/5 transition-colors",children:q.jsx(Pi,{className:"w-4 h-4 text-gray-400"})})]})}function Fa({children:e,variant:t="primary",size:r="md",loading:n=!1,icon:i,className:a="",disabled:s,...o}){const l="inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return q.jsxs("button",{className:`${l} ${u[t]} ${c[r]} ${a}`,disabled:s||n,...o,children:[n?q.jsx(Cl,{className:"w-4 h-4 animate-spin"}):i||null,e]})}const Pu=Y.forwardRef(({label:e,error:t,helperText:r,className:n="",...i},a)=>q.jsxs("div",{className:"w-full",children:[e&&q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),q.jsx("input",{ref:a,className:`
            w-full px-3 py-2 border rounded-lg text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            ${t?"border-red-300 bg-red-50":"border-gray-300 bg-white"}
            ${n}
          `,...i}),t&&q.jsx("p",{className:"mt-1 text-xs text-red-500",children:t}),r&&!t&&q.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r})]}));Pu.displayName="Input";function VQ({isOpen:e,onClose:t,onSave:r,repuesto:n}){const{tags:i,addTag:a}=kM(),[s,o]=Y.useState(!1),[l,u]=Y.useState({codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]}),[c,f]=Y.useState(!1),[h,d]=Y.useState("");Y.useEffect(()=>{u(n?{codigoSAP:n.codigoSAP,textoBreve:n.textoBreve,descripcion:n.descripcion||"",nombreManual:n.nombreManual||"",codigoBaader:n.codigoBaader,cantidadSolicitada:n.cantidadSolicitada,valorUnitario:n.valorUnitario,cantidadStockBodega:n.cantidadStockBodega,tags:n.tags||[]}:{codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]})},[n,e]);const m=async x=>{x.preventDefault(),o(!0);try{await r(l),t()}catch(C){console.error("Error al guardar:",C)}finally{o(!1)}},g=(x,C)=>{u(O=>({...O,[x]:C}))},p=x=>{if(!x.trim())return;const C=x.trim(),O=l.tags||[];O.includes(C)||(u(I=>({...I,tags:[...O,C]})),i.includes(C)||a(C)),d(""),f(!1)},v=x=>{u(C=>({...C,tags:(C.tags||[]).filter(O=>O!==x)}))},y=i.filter(x=>!(l.tags||[]).includes(x)),b=l.cantidadSolicitada*l.valorUnitario;return q.jsx(N0,{isOpen:e,onClose:t,title:n?"Editar Repuesto":"Nuevo Repuesto",size:"lg",children:q.jsxs("form",{onSubmit:m,className:"space-y-6",children:[q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q.jsx(Pu,{label:"Cdigo SAP",value:l.codigoSAP,onChange:x=>g("codigoSAP",x.target.value),placeholder:"Ej: 10038163",required:!0}),q.jsx(Pu,{label:"Cdigo Baader",value:l.codigoBaader,onChange:x=>g("codigoBaader",x.target.value),placeholder:"Ej: 200.1234",required:!0})]}),q.jsx(Pu,{label:"Descripcin SAP (Texto Breve)",value:l.textoBreve,onChange:x=>g("textoBreve",x.target.value),placeholder:"Descripcin del repuesto segn SAP",required:!0}),q.jsx(Pu,{label:"Nombre segn Manual (opcional)",value:l.nombreManual||"",onChange:x=>g("nombreManual",x.target.value),placeholder:"Nombre del repuesto segn el manual Baader"}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin Extendida (opcional)"}),q.jsx("textarea",{value:l.descripcion||"",onChange:x=>g("descripcion",x.target.value),placeholder:"Notas adicionales, observaciones o detalles importantes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",rows:2})]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[q.jsx(Pu,{label:"Cantidad Solicitada",type:"number",min:"0",value:l.cantidadSolicitada,onChange:x=>g("cantidadSolicitada",parseInt(x.target.value)||0),required:!0}),q.jsx(Pu,{label:"Valor Unitario (USD)",type:"number",min:"0",step:"0.01",value:l.valorUnitario,onChange:x=>g("valorUnitario",parseFloat(x.target.value)||0),required:!0}),q.jsx(Pu,{label:"Stock Bodega",type:"number",min:"0",value:l.cantidadStockBodega,onChange:x=>g("cantidadStockBodega",parseInt(x.target.value)||0)})]}),q.jsxs("div",{className:"space-y-3",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[q.jsx(gf,{className:"w-4 h-4"}),"Tags / Etiquetas"]}),q.jsxs("button",{type:"button",onClick:()=>f(!c),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[q.jsx(kb,{className:"w-4 h-4"}),"Agregar tag"]})]}),q.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:(l.tags||[]).length===0?q.jsx("span",{className:"text-sm text-gray-400 italic",children:"Sin tags asignados"}):(l.tags||[]).map(x=>q.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[x,q.jsx("button",{type:"button",onClick:()=>v(x),className:"hover:text-primary-900 transition-colors",children:q.jsx(Pi,{className:"w-4 h-4"})})]},x))}),c&&q.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Tags predefinidos:"}),q.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.map(x=>q.jsx("button",{type:"button",onClick:()=>p(x),className:"px-3 py-1 bg-white border border-gray-300 rounded-full text-sm hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-colors",children:x},x)),y.length===0&&q.jsx("span",{className:"text-xs text-gray-400 italic",children:"Todos los tags predefinidos ya estn asignados"})]})]}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("input",{type:"text",value:h,onChange:x=>d(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),p(h))},placeholder:"Crear tag personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),q.jsx("button",{type:"button",onClick:()=>p(h),disabled:!h.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Agregar"})]})]})]}),q.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("span",{className:"text-gray-600",children:"Total:"}),q.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["$",b.toLocaleString("en-US",{minimumFractionDigits:2})]})]})}),q.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[q.jsx(Fa,{type:"button",variant:"secondary",onClick:t,children:"Cancelar"}),q.jsx(Fa,{type:"submit",loading:s,icon:q.jsx(_Q,{className:"w-4 h-4"}),children:n?"Guardar Cambios":"Crear Repuesto"})]})]})})}function $Q({isOpen:e,onClose:t,repuesto:r,getHistorial:n}){const[i,a]=Y.useState([]),[s,o]=Y.useState(!1);Y.useEffect(()=>{e&&r&&(o(!0),n(r.id).then(a).finally(()=>o(!1)))},[e,r,n]);const l=Y.useMemo(()=>{const g=new Map;return i.forEach(p=>{const v=new Date(p.fecha).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"});g.has(v)||g.set(v,[]),g.get(v).push(p)}),Array.from(g.entries()).map(([p,v])=>({fecha:p,items:v.sort((y,b)=>new Date(b.fecha).getTime()-new Date(y.fecha).getTime())}))},[i]),u=g=>new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit"}).format(g),c=g=>({codigoSAP:"Cdigo SAP",textoBreve:"Descripcin SAP",descripcion:"Descripcin Extendida",nombreManual:"Nombre Manual",codigoBaader:"Cdigo Baader",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",total:"Total",tags:"Tags",creacion:"Creacin"})[g]||g,f=g=>{switch(g){case"cantidadSolicitada":case"cantidadStockBodega":return q.jsx(Tl,{className:"w-4 h-4"});case"valorUnitario":case"total":return q.jsx(Vm,{className:"w-4 h-4"});case"codigoSAP":case"codigoBaader":return q.jsx(mQ,{className:"w-4 h-4"});case"creacion":return q.jsx(lQ,{className:"w-4 h-4"});default:return q.jsx(Hv,{className:"w-4 h-4"})}},h=g=>{switch(g){case"cantidadSolicitada":return"bg-blue-100 text-blue-700 border-blue-200";case"cantidadStockBodega":return"bg-green-100 text-green-700 border-green-200";case"valorUnitario":case"total":return"bg-amber-100 text-amber-700 border-amber-200";case"creacion":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},d=g=>{if(!["cantidadSolicitada","cantidadStockBodega","valorUnitario","total"].includes(g.campo))return null;const v=Number(g.valorAnterior)||0,y=Number(g.valorNuevo)||0;return y>v?q.jsx(Wv,{className:"w-3 h-3 text-green-500"}):y<v?q.jsx(EQ,{className:"w-3 h-3 text-red-500"}):q.jsx(bQ,{className:"w-3 h-3 text-gray-400"})},m=(g,p)=>{if(p==null||p==="")return"-";if(g==="valorUnitario"||g==="total"){const v=Number(p);return isNaN(v)?String(p):`$${v.toLocaleString("en-US",{minimumFractionDigits:2})}`}return String(p)};return q.jsxs(N0,{isOpen:e,onClose:t,title:"Historial de Cambios",size:"lg",children:[r&&q.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:q.jsx(Tl,{className:"w-5 h-5 text-primary-600"})}),q.jsxs("div",{children:[q.jsx("div",{className:"font-mono font-semibold text-gray-800",children:r.codigoBaader}),q.jsx("div",{className:"text-sm text-gray-500",children:r.textoBreve||r.descripcion})]})]})}),s?q.jsx("div",{className:"flex items-center justify-center py-12",children:q.jsx("div",{className:"spinner"})}):i.length===0?q.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[q.jsx(xM,{className:"w-16 h-16 mb-4 opacity-30"}),q.jsx("p",{className:"text-lg font-medium",children:"No hay cambios registrados"}),q.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Los cambios aparecern aqu cuando edites este repuesto"})]}):q.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:l.map(g=>q.jsxs("div",{children:[q.jsx("div",{className:"sticky top-0 bg-white py-2 z-10",children:q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("div",{className:"flex-1 h-px bg-gray-200"}),q.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2",children:g.fecha}),q.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})}),q.jsxs("div",{className:"relative pl-6",children:[q.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),q.jsx("div",{className:"space-y-3",children:g.items.map(p=>q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:`absolute -left-4 top-3 w-3 h-3 rounded-full border-2 bg-white ${p.campo==="creacion"?"border-purple-500":"border-primary-500"}`}),q.jsxs("div",{className:`rounded-lg border p-3 ${h(p.campo)}`,children:[q.jsxs("div",{className:"flex items-start justify-between mb-2",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[f(p.campo),q.jsx("span",{className:"font-medium text-sm",children:c(p.campo)}),d(p)]}),q.jsx("span",{className:"text-xs opacity-70",children:u(p.fecha)})]}),p.campo==="creacion"?q.jsx("div",{className:"text-sm",children:"Repuesto creado"}):q.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[q.jsx("span",{className:"px-2 py-0.5 bg-white/50 rounded line-through opacity-70",children:m(p.campo,p.valorAnterior)}),q.jsx(aQ,{className:"w-4 h-4 opacity-50"}),q.jsx("span",{className:"px-2 py-0.5 bg-white/70 rounded font-medium",children:m(p.campo,p.valorNuevo)})]})]})]},p.id))})]})]},g.fecha))}),i.length>0&&q.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:q.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[i.length," cambio",i.length!==1?"s":""," registrado",i.length!==1?"s":""]})})]})}function qQ({isOpen:e,onClose:t,onConfirm:r,repuesto:n,loading:i}){return q.jsx(N0,{isOpen:e,onClose:t,size:"sm",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:q.jsx(P0,{className:"w-6 h-6 text-red-600"})}),q.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Eliminar repuesto?"}),q.jsx("p",{className:"text-gray-600 mb-2",children:"Ests por eliminar el repuesto:"}),q.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[q.jsx("p",{className:"font-mono text-sm text-primary-600",children:n==null?void 0:n.codigoBaader}),q.jsx("p",{className:"text-sm text-gray-700 truncate",children:n==null?void 0:n.textoBreve})]}),q.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer."}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx(Fa,{variant:"secondary",onClick:t,className:"flex-1",children:"Cancelar"}),q.jsx(Fa,{variant:"danger",onClick:r,loading:i,icon:q.jsx($m,{className:"w-4 h-4"}),className:"flex-1",children:"Eliminar"})]})]})})}function HQ({isOpen:e,onClose:t,repuestos:r,onRenameTag:n,onDeleteTag:i}){const{tags:a,addTag:s,removeTag:o,renameTag:l,loading:u,addMultipleTags:c}=kM(),[f,h]=Y.useState(null),[d,m]=Y.useState(""),[g,p]=Y.useState(null),[v,y]=Y.useState(!1),[b,x]=Y.useState(null),[C,O]=Y.useState(""),[I,T]=Y.useState(!1),M=Y.useMemo(()=>{const _=new Map;return r.forEach(k=>{var N;(N=k.tags)==null||N.forEach($=>{_.set($,(_.get($)||0)+1)})}),Array.from(_.entries()).map(([k,N])=>({name:k,count:N})).sort((k,N)=>k.name.localeCompare(N.name))},[r]);Y.useEffect(()=>{if(e&&!u&&M.length>0){const k=M.map(N=>N.name).filter(N=>!a.includes(N));k.length>0&&(console.log("Sincronizando tags faltantes:",k),c(k))}},[e,u,M,a,c]);const B=_=>{h(_),m(_),x(null)},L=()=>{h(null),m("")},P=async()=>{if(!f||!d.trim())return;const _=d.trim();if(_===f){L();return}const k=M.some($=>$.name.toLowerCase()===_.toLowerCase()&&$.name!==f),N=a.some($=>$.toLowerCase()===_.toLowerCase()&&$!==f);if(k||N){x({type:"error",text:"Ya existe un tag con ese nombre"});return}y(!0);try{await l(f,_);const $=M.find(R=>R.name===f);if($&&$.count>0){const R=await n(f,_);x({type:"success",text:`Tag renombrado en ${R} repuesto(s)`})}else x({type:"success",text:"Tag actualizado"});L()}catch{x({type:"error",text:"Error al renombrar el tag"})}finally{y(!1)}},A=_=>{p(_),x(null)},j=()=>{p(null)},E=async()=>{if(g){y(!0);try{await o(g);const _=M.find(k=>k.name===g);if(_&&_.count>0){const k=await i(g);x({type:"success",text:`Tag eliminado de ${k} repuesto(s)`})}else x({type:"success",text:"Tag eliminado"});p(null)}catch{x({type:"error",text:"Error al eliminar el tag"})}finally{y(!1)}}},w=async()=>{const _=C.trim();if(!_)return;const k=M.some($=>$.name.toLowerCase()===_.toLowerCase()),N=a.some($=>$.toLowerCase()===_.toLowerCase());if(k||N){x({type:"error",text:"Ya existe un tag con ese nombre"});return}y(!0);try{await s(_),O(""),T(!1),x({type:"success",text:"Tag agregado exitosamente"})}catch{x({type:"error",text:"Error al agregar el tag"})}finally{y(!1)}};if(!e)return null;const S=(_,k)=>f===_?q.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[q.jsx("input",{type:"text",value:d,onChange:N=>m(N.target.value),className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&P(),N.key==="Escape"&&L()}}),q.jsx("button",{onClick:()=>P(),disabled:v,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Guardar",children:q.jsx(Ns,{className:"w-4 h-4"})}),q.jsx("button",{onClick:L,disabled:v,className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:q.jsx(Pi,{className:"w-4 h-4"})})]}):g===_?q.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[q.jsx(P0,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),q.jsxs("span",{className:"text-sm text-gray-700",children:['Eliminar "',_,'"?']}),k!==null&&k>0&&q.jsxs("span",{className:"text-xs text-amber-600",children:["(se quitar de ",k," repuesto",k!==1?"s":"",")"]}),q.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[q.jsx("button",{onClick:()=>E(),disabled:v,className:"px-3 py-1.5 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Eliminar"}),q.jsx("button",{onClick:j,disabled:v,className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"})]})]}):q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx(gf,{className:"w-4 h-4 text-primary-500"}),q.jsx("span",{className:"font-medium text-gray-800",children:_}),k!==null&&q.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[k," repuesto",k!==1?"s":""]})]}),q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsx("button",{onClick:()=>B(_),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar",children:q.jsx(Jx,{className:"w-4 h-4"})}),q.jsx("button",{onClick:()=>A(_),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar",children:q.jsx($m,{className:"w-4 h-4"})})]})]});return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:_=>{var k;_.target===_.currentTarget&&!((k=window.getSelection())!=null&&k.toString())&&t()},children:q.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onMouseDown:_=>_.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:q.jsx(gf,{className:"w-5 h-5 text-primary-600"})}),q.jsxs("div",{children:[q.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gestor de Tags"}),q.jsxs("p",{className:"text-xs text-gray-500",children:[a.length," tags disponibles  ",M.reduce((_,k)=>_+k.count,0)," asignaciones"]})]})]}),q.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5 text-gray-500"})})]}),b&&q.jsx("div",{className:`px-5 py-3 flex-shrink-0 ${b.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:b.text}),q.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:q.jsxs("div",{className:"space-y-4",children:[I?q.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary-50 rounded-lg border border-primary-200",children:[q.jsx("input",{type:"text",value:C,onChange:_=>O(_.target.value),placeholder:"Nombre del nuevo tag...",className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:_=>{_.key==="Enter"&&w(),_.key==="Escape"&&(T(!1),O(""))}}),q.jsx("button",{onClick:w,disabled:v||!C.trim(),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Guardar",children:q.jsx(Ns,{className:"w-4 h-4"})}),q.jsx("button",{onClick:()=>{T(!1),O("")},className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:q.jsx(Pi,{className:"w-4 h-4"})})]}):q.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",children:[q.jsx(kb,{className:"w-4 h-4"}),"Agregar nuevo tag"]}),u?q.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando tags..."}):a.length===0?q.jsxs("div",{className:"text-center py-8 text-gray-500",children:[q.jsx(gf,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),q.jsx("p",{children:"No hay tags disponibles"}),q.jsx("p",{className:"text-sm",children:"Agrega tags para organizar tus repuestos"})]}):q.jsx("div",{className:"space-y-2",children:a.map(_=>{const k=M.find(N=>N.name===_);return q.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${k?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:S(_,(k==null?void 0:k.count)??null)},_)})})]})}),q.jsx("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:q.jsx("p",{className:"text-xs text-gray-500",children:" Los tags con fondo azul estn asignados a repuestos. Puedes editar o eliminar cualquier tag."})})]})})}const s7=[{label:"Mxima",value:.95,description:"Sin prdida visible, mayor tamao"},{label:"Alta",value:.85,description:"Excelente calidad, buen balance"},{label:"Media",value:.7,description:"Buena calidad, archivo ms pequeo"},{label:"Baja",value:.5,description:"Calidad aceptable, muy comprimido"},{label:"Mnima",value:.3,description:"Solo para previsualizaciones"}];async function o7(e,t=.85,r=1920,n=1920){return new Promise((i,a)=>{const s=new Image,o=document.createElement("canvas"),l=o.getContext("2d");s.onload=()=>{let{width:c,height:f}=s;if(c>r&&(f=f*r/c,c=r),f>n&&(c=c*n/f,f=n),o.width=c,o.height=f,!l){a(new Error("No se pudo crear contexto de canvas"));return}l.drawImage(s,0,0,c,f),o.toBlob(h=>{if(!h){a(new Error("No se pudo convertir la imagen"));return}const d=e.name.replace(/\.[^.]+$/,""),m=new File([h],`${d}.webp`,{type:"image/webp",lastModified:Date.now()});i(m)},"image/webp",t)},s.onerror=()=>{a(new Error("Error al cargar la imagen"))};const u=new FileReader;u.onload=c=>{var f;s.src=(f=c.target)==null?void 0:f.result},u.onerror=()=>a(new Error("Error al leer el archivo")),u.readAsDataURL(e)})}function l7(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}async function WQ(e){return e?new Promise(t=>{const r=new Image;r.crossOrigin="anonymous";const n=setTimeout(()=>{console.warn("Timeout cargando imagen:",e.substring(0,50)+"..."),t(null)},15e3);r.onload=()=>{clearTimeout(n);try{const i=r.naturalWidth||r.width||200,a=r.naturalHeight||r.height||200;if(i===0||a===0){console.warn("Imagen con dimensiones 0"),t(null);return}const s=document.createElement("canvas");s.width=i,s.height=a;const o=s.getContext("2d");if(o){o.drawImage(r,0,0);const l=s.toDataURL("image/jpeg",.85);t({base64:l,width:i,height:a})}else console.warn("No se pudo obtener context 2d"),t(null)}catch(i){console.error("Error en canvas:",i),t(null)}},r.onerror=i=>{clearTimeout(n),console.warn("Error cargando imagen (onerror):",i),KQ(e).then(t)},r.src=e}):(console.warn("URL vaca proporcionada"),null)}async function KQ(e){try{const t=await fetch(e,{mode:"cors",credentials:"omit"});if(!t.ok)return console.warn("Fetch failed:",t.status),null;const r=await t.blob();return new Promise(n=>{const i=new FileReader;i.onloadend=()=>{const a=i.result,s=new Image;s.onload=()=>{n({base64:a,width:s.naturalWidth||200,height:s.naturalHeight||200})},s.onerror=()=>n({base64:a,width:200,height:200}),s.src=a},i.onerror=()=>n(null),i.readAsDataURL(r)})}catch(t){return console.error("Error en fetch:",t),null}}async function GQ(e){const t=new Map,r=new Set;for(const o of e){for(const l of o.imagenesManual)l.url&&r.add(l.url);for(const l of o.fotosReales)l.url&&r.add(l.url)}console.log("URLs de imgenes encontradas:",r.size);const n=Array.from(r),i=3;let a=0,s=0;for(let o=0;o<n.length;o+=i){const l=n.slice(o,o+i),u=await Promise.all(l.map(async c=>{console.log("Procesando imagen:",c.substring(0,60)+"...");const f=await WQ(c);return f?(console.log(` Imagen OK (${f.width}x${f.height})`),a++):(console.log(" Imagen fall"),s++),{url:c,data:f}}));for(const{url:c,data:f}of u)f&&t.set(c,f)}return console.log(`Imgenes convertidas: ${a} xito, ${s} fallos`),t}function XQ({isOpen:e,onClose:t,file:r,onConfirm:n}){const[i,a]=Y.useState(s7[1]),[s,o]=Y.useState(null),[l,u]=Y.useState(0),[c,f]=Y.useState(0),[h,d]=Y.useState(!1),[m,g]=Y.useState(!1);Y.useEffect(()=>{if(!r||!e)return;u(r.size);const y=new FileReader;y.onload=b=>{var x;o((x=b.target)==null?void 0:x.result)},y.readAsDataURL(r)},[r,e]),Y.useEffect(()=>{if(!r||!e)return;(async()=>{g(!0);try{const b=await o7(r,i.value);f(b.size)}catch(b){console.error("Error estimando tamao:",b),f(0)}finally{g(!1)}})()},[r,i,e]);const p=async()=>{if(r){d(!0);try{const y=await o7(r,i.value);n(y),t()}catch(y){console.error("Error optimizando imagen:",y)}finally{d(!1)}}},v=l>0&&c>0?Math.round((1-c/l)*100):0;return!e||!r?null:q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:q.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",onClick:y=>y.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-primary-50 to-white",children:[q.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[q.jsx(SM,{className:"w-5 h-5 text-primary-600"}),"Optimizar Imagen"]}),q.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsx("div",{className:"p-4 bg-gray-100 flex justify-center",children:s?q.jsx("img",{src:s,alt:"Preview",className:"max-h-40 max-w-full object-contain rounded-lg shadow"}):q.jsx("div",{className:"h-40 w-40 bg-gray-200 rounded-lg flex items-center justify-center",children:q.jsx(Cl,{className:"w-8 h-8 animate-spin text-gray-400"})})}),q.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-200",children:[q.jsxs("div",{className:"flex items-center justify-between text-sm",children:[q.jsx("span",{className:"text-gray-600",children:"Archivo original:"}),q.jsx("span",{className:"font-medium text-gray-800",children:r.name})]}),q.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[q.jsx("span",{className:"text-gray-600",children:"Tamao original:"}),q.jsx("span",{className:"font-medium text-gray-800",children:l7(l)})]})]}),q.jsxs("div",{className:"p-5",children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecciona la calidad de compresin:"}),q.jsx("div",{className:"space-y-2",children:s7.map(y=>q.jsxs("button",{onClick:()=>a(y),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${i.value===y.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[q.jsx("div",{className:"flex items-center justify-between",children:q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${i.value===y.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:i.value===y.value&&q.jsx(Ns,{className:"w-3 h-3 text-white"})}),q.jsxs("div",{children:[q.jsx("span",{className:"font-medium text-gray-800",children:y.label}),q.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Math.round(y.value*100),"%)"]})]})]})}),q.jsx("p",{className:"text-xs text-gray-500 ml-8 mt-1",children:y.description})]},y.value))})]}),q.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-200",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsx("span",{className:"text-sm text-gray-600",children:"Tamao final (WebP):"}),m?q.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q.jsx(Cl,{className:"w-4 h-4 animate-spin text-gray-400"}),q.jsx("span",{className:"text-sm text-gray-500",children:"Calculando..."})]}):q.jsx("p",{className:"text-lg font-bold text-green-600",children:l7(c)})]}),!m&&v>0&&q.jsxs("div",{className:"text-right",children:[q.jsx("span",{className:"text-sm text-gray-600",children:"Ahorro:"}),q.jsxs("p",{className:"text-lg font-bold text-green-600",children:[v,"%"]})]})]})}),q.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex gap-3",children:[q.jsx("button",{onClick:t,disabled:h,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),q.jsx("button",{onClick:p,disabled:h||m,className:"flex-1 px-4 py-2.5 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2",children:h?q.jsxs(q.Fragment,{children:[q.jsx(Cl,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):q.jsxs(q.Fragment,{children:[q.jsx(Ns,{className:"w-4 h-4"}),"Subir Optimizada"]})})]})]})})}var Ms=function(e,t){return Number(e.toFixed(t))},YQ=function(e,t){return t},xn=function(e,t,r){r&&typeof r=="function"&&r(e,t)},ZQ=function(e){return-Math.cos(e*Math.PI)/2+.5},QQ=function(e){return e},JQ=function(e){return e*e},eJ=function(e){return e*(2-e)},tJ=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},rJ=function(e){return e*e*e},nJ=function(e){return--e*e*e+1},iJ=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},aJ=function(e){return e*e*e*e},sJ=function(e){return 1- --e*e*e*e},oJ=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},lJ=function(e){return e*e*e*e*e},uJ=function(e){return 1+--e*e*e*e*e},cJ=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},AM={easeOut:ZQ,linear:QQ,easeInQuad:JQ,easeOutQuad:eJ,easeInOutQuad:tJ,easeInCubic:rJ,easeOutCubic:nJ,easeInOutCubic:iJ,easeInQuart:aJ,easeOutQuart:sJ,easeInOutQuart:oJ,easeInQuint:lJ,easeOutQuint:uJ,easeInOutQuint:cJ},EM=function(e){typeof e=="number"&&cancelAnimationFrame(e)},ao=function(e){e.mounted&&(EM(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function CM(e,t,r,n){if(e.mounted){var i=new Date().getTime(),a=1;ao(e),e.animation=function(){if(!e.mounted)return EM(e.animation);var s=new Date().getTime()-i,o=s/r,l=AM[t],u=l(o);s>=r?(n(a),e.animation=null):e.animation&&(n(u),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function fJ(e){var t=e.scale,r=e.positionX,n=e.positionY;return!(Number.isNaN(t)||Number.isNaN(r)||Number.isNaN(n))}function Ic(e,t,r,n){var i=fJ(t);if(!(!e.mounted||!i)){var a=e.setTransformState,s=e.transformState,o=s.scale,l=s.positionX,u=s.positionY,c=t.scale-o,f=t.positionX-l,h=t.positionY-u;r===0?a(t.scale,t.positionX,t.positionY):CM(e,n,r,function(d){var m=o+c*d,g=l+f*d,p=u+h*d;a(m,g,p)})}}function hJ(e,t,r){var n=e.offsetWidth,i=e.offsetHeight,a=t.offsetWidth,s=t.offsetHeight,o=a*r,l=s*r,u=n-o,c=i-l;return{wrapperWidth:n,wrapperHeight:i,newContentWidth:o,newDiffWidth:u,newContentHeight:l,newDiffHeight:c}}var dJ=function(e,t,r,n,i,a,s){var o=e>t?r*(s?1:.5):0,l=n>i?a*(s?1:.5):0,u=e-t-o,c=o,f=n-i-l,h=l;return{minPositionX:u,maxPositionX:c,minPositionY:f,maxPositionY:h}},g6=function(e,t){var r=e.wrapperComponent,n=e.contentComponent,i=e.setup.centerZoomedOut;if(!r||!n)throw new Error("Components are not mounted");var a=hJ(r,n,t),s=a.wrapperWidth,o=a.wrapperHeight,l=a.newContentWidth,u=a.newDiffWidth,c=a.newContentHeight,f=a.newDiffHeight,h=dJ(s,l,u,o,c,f,!!i);return h},e_=function(e,t,r,n){return n?e<t?Ms(t,2):e>r?Ms(r,2):Ms(e,2):Ms(e,2)},vf=function(e,t){var r=g6(e,t);return e.bounds=r,r};function I0(e,t,r,n,i,a,s){var o=r.minPositionX,l=r.minPositionY,u=r.maxPositionX,c=r.maxPositionY,f=0,h=0;s&&(f=i,h=a);var d=e_(e,o-f,u+f,n),m=e_(t,l-h,c+h,n);return{x:d,y:m}}function Ab(e,t,r,n,i,a){var s=e.transformState,o=s.scale,l=s.positionX,u=s.positionY,c=n-o;if(typeof t!="number"||typeof r!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:u};var f=l-t*c,h=u-r*c,d=I0(f,h,i,a,0,0,null);return d}function O0(e,t,r,n,i){var a=i?n:0,s=t-a;return!Number.isNaN(r)&&e>=r?r:!Number.isNaN(t)&&e<=s?s:e}var u7=function(e,t){var r=e.setup.panning.excluded,n=e.isInitialized,i=e.wrapperComponent,a=t.target,s="shadowRoot"in a&&"composedPath"in t,o=s?t.composedPath().some(function(c){return c instanceof Element?i==null?void 0:i.contains(c):!1}):i==null?void 0:i.contains(a),l=n&&a&&o;if(!l)return!1;var u=Eb(a,r);return!u},c7=function(e){var t=e.isInitialized,r=e.isPanning,n=e.setup,i=n.panning.disabled,a=t&&r&&!i;return!!a},pJ=function(e,t){var r=e.transformState,n=r.positionX,i=r.positionY;e.isPanning=!0;var a=t.clientX,s=t.clientY;e.startCoords={x:a-n,y:s-i}},mJ=function(e,t){var r=t.touches,n=e.transformState,i=n.positionX,a=n.positionY;e.isPanning=!0;var s=r.length===1;if(s){var o=r[0].clientX,l=r[0].clientY;e.startCoords={x:o-i,y:l-a}}};function gJ(e){var t=e.transformState,r=t.positionX,n=t.positionY,i=t.scale,a=e.setup,s=a.disabled,o=a.limitToBounds,l=a.centerZoomedOut,u=e.wrapperComponent;if(!(s||!u||!e.bounds)){var c=e.bounds,f=c.maxPositionX,h=c.minPositionX,d=c.maxPositionY,m=c.minPositionY,g=r>f||r<h,p=n>d||n<m,v=r>f?u.offsetWidth:e.setup.minPositionX||0,y=n>d?u.offsetHeight:e.setup.minPositionY||0,b=Ab(e,v,y,i,e.bounds,o||l),x=b.x,C=b.y;return{scale:i,positionX:g?x:r,positionY:p?C:n}}}function TM(e,t,r,n,i){var a=e.setup.limitToBounds,s=e.wrapperComponent,o=e.bounds,l=e.transformState,u=l.scale,c=l.positionX,f=l.positionY;if(!(s===null||o===null||t===c&&r===f)){var h=I0(t,r,o,a,n,i,s),d=h.x,m=h.y;e.setTransformState(u,d,m)}}var vJ=function(e,t,r){var n=e.startCoords,i=e.transformState,a=e.setup.panning,s=a.lockAxisX,o=a.lockAxisY,l=i.positionX,u=i.positionY;if(!n)return{x:l,y:u};var c=t-n.x,f=r-n.y,h=s?l:c,d=o?u:f;return{x:h,y:d}},vc=function(e,t){var r=e.setup,n=e.transformState,i=n.scale,a=r.minScale,s=r.disablePadding;return t>0&&i>=a&&!s?t:0},yJ=function(e){var t=e.mounted,r=e.setup,n=r.disabled,i=r.velocityAnimation,a=e.transformState.scale,s=i.disabled,o=!s||a>1||!n||t;return!!o},bJ=function(e){var t=e.mounted,r=e.velocity,n=e.bounds,i=e.setup,a=i.disabled,s=i.velocityAnimation,o=e.transformState.scale,l=s.disabled,u=!l||o>1||!a||t;return!(!u||!r||!n)};function wJ(e,t){var r=e.setup.velocityAnimation,n=r.equalToMove,i=r.animationTime,a=r.sensitivity;return n?i*t*a:i}function f7(e,t,r,n,i,a,s,o,l,u){if(i){if(t>s&&r>s){var c=s+(e-s)*u;return c>l?l:c<s?s:c}if(t<a&&r<a){var c=a+(e-a)*u;return c<o?o:c>a?a:c}}return n?t:e_(e,a,s,i)}function xJ(e,t){var r=1;return t?Math.min(r,e.offsetWidth/window.innerWidth):r}function _J(e,t){var r=yJ(e);if(r){var n=e.lastMousePosition,i=e.velocityTime,a=e.setup,s=e.wrapperComponent,o=a.velocityAnimation.equalToMove,l=Date.now();if(n&&i&&s){var u=xJ(s,o),c=t.x-n.x,f=t.y-n.y,h=c/u,d=f/u,m=l-i,g=c*c+f*f,p=Math.sqrt(g)/m;e.velocity={velocityX:h,velocityY:d,total:p}}e.lastMousePosition=t,e.velocityTime=l}}function SJ(e){var t=e.velocity,r=e.bounds,n=e.setup,i=e.wrapperComponent,a=bJ(e);if(!(!a||!t||!r||!i)){var s=t.velocityX,o=t.velocityY,l=t.total,u=r.maxPositionX,c=r.minPositionX,f=r.maxPositionY,h=r.minPositionY,d=n.limitToBounds,m=n.alignmentAnimation,g=n.zoomAnimation,p=n.panning,v=p.lockAxisY,y=p.lockAxisX,b=g.animationType,x=m.sizeX,C=m.sizeY,O=m.velocityAlignmentTime,I=O,T=wJ(e,l),M=Math.max(T,I),B=vc(e,x),L=vc(e,C),P=B*i.offsetWidth/100,A=L*i.offsetHeight/100,j=u+P,E=c-P,w=f+A,S=h-A,_=e.transformState,k=new Date().getTime();CM(e,b,M,function(N){var $=e.transformState,R=$.scale,H=$.positionX,K=$.positionY,J=new Date().getTime()-k,V=J/I,Z=AM[m.animationType],z=1-Z(Math.min(1,V)),D=1-N,G=H+s*D,te=K+o*D,ae=f7(G,_.positionX,H,y,d,c,u,E,j,z),se=f7(te,_.positionY,K,v,d,h,f,S,w,z);(H!==G||K!==te)&&e.setTransformState(R,ae,se)})}}function h7(e,t){var r=e.transformState.scale;ao(e),vf(e,r),window.TouchEvent!==void 0&&t instanceof TouchEvent?mJ(e,t):pJ(e,t)}function v6(e,t){var r=e.transformState.scale,n=e.setup,i=n.minScale,a=n.alignmentAnimation,s=a.disabled,o=a.sizeX,l=a.sizeY,u=a.animationTime,c=a.animationType,f=s||r<i||!o&&!l;if(!f){var h=gJ(e);h&&Ic(e,h,t??u,c)}}function d7(e,t,r){var n=e.startCoords,i=e.setup,a=i.alignmentAnimation,s=a.sizeX,o=a.sizeY;if(n){var l=vJ(e,t,r),u=l.x,c=l.y,f=vc(e,s),h=vc(e,o);_J(e,{x:u,y:c}),TM(e,u,c,f,h)}}function kJ(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,r=e.velocity,n=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=n==null?void 0:n.getBoundingClientRect(),s=i==null?void 0:i.getBoundingClientRect(),o=(a==null?void 0:a.width)||0,l=(a==null?void 0:a.height)||0,u=(s==null?void 0:s.width)||0,c=(s==null?void 0:s.height)||0,f=o<u||l<c,h=!t&&r&&(r==null?void 0:r.total)>.1&&f;h?SJ(e):v6(e)}}function y6(e,t,r,n){var i=e.setup,a=i.minScale,s=i.maxScale,o=i.limitToBounds,l=O0(Ms(t,2),a,s,0,!1),u=vf(e,l),c=Ab(e,r,n,l,u,o),f=c.x,h=c.y;return{scale:l,positionX:f,positionY:h}}function PM(e,t,r){var n=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.minScale,o=a.limitToBounds,l=a.zoomAnimation,u=l.disabled,c=l.animationTime,f=l.animationType,h=u||n>=s;if((n>=1||o)&&v6(e),!(h||!i||!e.mounted)){var d=t||i.offsetWidth/2,m=r||i.offsetHeight/2,g=y6(e,s,d,m);g&&Ic(e,g,c,f)}}var lc=function(){return lc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},lc.apply(this,arguments)};function p7(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var r1={scale:1,positionX:0,positionY:0},_p={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},t_={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},NM=function(e){var t,r,n,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:r1.scale,scale:(r=e.initialScale)!==null&&r!==void 0?r:r1.scale,positionX:(n=e.initialPositionX)!==null&&n!==void 0?n:r1.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:r1.positionY}},m7=function(e){var t=lc({},_p);return Object.keys(e).forEach(function(r){var n=typeof e[r]<"u",i=typeof _p[r]<"u";if(i&&n){var a=Object.prototype.toString.call(_p[r]),s=a==="[object Object]",o=a==="[object Array]";s?t[r]=lc(lc({},_p[r]),e[r]):o?t[r]=p7(p7([],_p[r],!0),e[r]):t[r]=e[r]}}),t},IM=function(e,t,r){var n=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.maxScale,o=a.minScale,l=a.zoomAnimation,u=a.smooth,c=l.size;if(!i)throw new Error("Wrapper is not mounted");var f=u?n*Math.exp(t*r):n+t*r,h=O0(Ms(f,3),o,s,c,!1);return h};function OM(e,t,r,n,i){var a=e.wrapperComponent,s=e.transformState,o=s.scale,l=s.positionX,u=s.positionY;if(!a)return console.error("No WrapperComponent found");var c=a.offsetWidth,f=a.offsetHeight,h=(c/2-l)/o,d=(f/2-u)/o,m=IM(e,t,r),g=y6(e,m,h,d);if(!g)return console.error("Error during zoom event. New transformation state was not calculated.");Ic(e,g,n,i)}function jM(e,t,r,n){var i=e.setup,a=e.wrapperComponent,s=i.limitToBounds,o=NM(e.props),l=e.transformState,u=l.scale,c=l.positionX,f=l.positionY;if(a){var h=g6(e,o.scale),d=I0(o.positionX,o.positionY,h,s,0,0,a),m={scale:o.scale,positionX:d.x,positionY:d.y};u===o.scale&&c===o.positionX&&f===o.positionY||(n==null||n(),Ic(e,m,t,r))}}function AJ(e,t,r,n){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=r.getBoundingClientRect(),o=a.x*n.scale,l=a.y*n.scale;return{x:(i.x-s.x+o)/n.scale,y:(i.y-s.y+l)/n.scale}}function EJ(e,t,r){var n=e.wrapperComponent,i=e.contentComponent,a=e.transformState,s=e.setup,o=s.limitToBounds,l=s.minScale,u=s.maxScale;if(!n||!i)return a;var c=n.getBoundingClientRect(),f=t.getBoundingClientRect(),h=AJ(t,n,i,a),d=h.x,m=h.y,g=f.width/a.scale,p=f.height/a.scale,v=n.offsetWidth/g,y=n.offsetHeight/p,b=O0(r||Math.min(v,y),l,u,0,!1),x=(c.width-g*b)/2,C=(c.height-p*b)/2,O=(c.left-d)*b+x,I=(c.top-m)*b+C,T=g6(e,b),M=I0(O,I,T,o,0,0,n),B=M.x,L=M.y;return{positionX:B,positionY:L,scale:b}}var CJ=function(e){return function(t,r,n){t===void 0&&(t=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),OM(e,1,t,r,n)}},TJ=function(e){return function(t,r,n){t===void 0&&(t=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),OM(e,-1,t,r,n)}},PJ=function(e){return function(t,r,n,i,a){i===void 0&&(i=300),a===void 0&&(a="easeOut");var s=e.transformState,o=s.positionX,l=s.positionY,u=s.scale,c=e.wrapperComponent,f=e.contentComponent,h=e.setup.disabled;if(!(h||!c||!f)){var d={positionX:Number.isNaN(t)?o:t,positionY:Number.isNaN(r)?l:r,scale:Number.isNaN(n)?u:n};Ic(e,d,i,a)}}},NJ=function(e){return function(t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut"),jM(e,t,r)}},IJ=function(e){return function(t,r,n){r===void 0&&(r=200),n===void 0&&(n="easeOut");var i=e.transformState,a=e.wrapperComponent,s=e.contentComponent;if(a&&s){var o=MM(t||i.scale,a,s);Ic(e,o,r,n)}}},OJ=function(e){return function(t,r,n,i){n===void 0&&(n=600),i===void 0&&(i="easeOut"),ao(e);var a=e.wrapperComponent,s=typeof t=="string"?document.getElementById(t):t;if(a&&s&&a.contains(s)){var o=EJ(e,s,r);Ic(e,o,n,i)}}},r_=function(e){return{instance:e,zoomIn:CJ(e),zoomOut:TJ(e),setTransform:PJ(e),resetTransform:NJ(e),centerView:IJ(e),zoomToElement:OJ(e)}},jJ=function(e){return{instance:e,state:e.transformState}},cn=function(e){var t={};return Object.assign(t,jJ(e)),Object.assign(t,r_(e)),t},Xw=!1;function Yw(){try{var e={get passive(){return Xw=!0,!1}};return e}catch{return Xw=!1,Xw}}var n1=".".concat(t_.wrapperClass),Eb=function(e,t){return t.some(function(r){return e.matches("".concat(n1," ").concat(r,", ").concat(n1," .").concat(r,", ").concat(n1," ").concat(r," *, ").concat(n1," .").concat(r," *"))})},n_=function(e){e&&clearTimeout(e)},MJ=function(e,t,r){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(r,")")},MM=function(e,t,r){var n=r.offsetWidth*e,i=r.offsetHeight*e,a=(t.offsetWidth-n)/2,s=(t.offsetHeight-i)/2;return{scale:e,positionX:a,positionY:s}};function RJ(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var LJ=function(e,t){var r=e.setup.wheel,n=r.disabled,i=r.wheelDisabled,a=r.touchPadDisabled,s=r.excluded,o=e.isInitialized,l=e.isPanning,u=t.target,c=o&&!l&&!n&&u;if(!c||i&&!t.ctrlKey||a&&t.ctrlKey)return!1;var f=Eb(u,s);return!f},DJ=function(e){return e?e.deltaY<0?1:-1:0};function FJ(e,t){var r=DJ(e),n=YQ(t,r);return n}function RM(e,t,r){var n=t.getBoundingClientRect(),i=0,a=0;if("clientX"in e)i=(e.clientX-n.left)/r,a=(e.clientY-n.top)/r;else{var s=e.touches[0];i=(s.clientX-n.left)/r,a=(s.clientY-n.top)/r}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var BJ=function(e,t,r,n,i){var a=e.transformState.scale,s=e.wrapperComponent,o=e.setup,l=o.maxScale,u=o.minScale,c=o.zoomAnimation,f=o.disablePadding,h=c.size,d=c.disabled;if(!s)throw new Error("Wrapper is not mounted");var m=a+t*r,g=n?!1:!d,p=O0(Ms(m,3),u,l,h,g&&!f);return p},zJ=function(e,t){var r=e.previousWheelEvent,n=e.transformState.scale,i=e.setup,a=i.maxScale,s=i.minScale;return r?n<a||n>s||Math.sign(r.deltaY)!==Math.sign(t.deltaY)||r.deltaY>0&&r.deltaY<t.deltaY||r.deltaY<0&&r.deltaY>t.deltaY||Math.sign(r.deltaY)!==Math.sign(t.deltaY):!1},UJ=function(e,t){var r=e.setup.pinch,n=r.disabled,i=r.excluded,a=e.isInitialized,s=t.target,o=a&&!n&&s;if(!o)return!1;var l=Eb(s,i);return!l},VJ=function(e){var t=e.setup.pinch.disabled,r=e.isInitialized,n=e.pinchStartDistance,i=r&&!t&&n;return!!i},$J=function(e,t,r){var n=r.getBoundingClientRect(),i=e.touches,a=Ms(i[0].clientX-n.left,5),s=Ms(i[0].clientY-n.top,5),o=Ms(i[1].clientX-n.left,5),l=Ms(i[1].clientY-n.top,5);return{x:(a+o)/2/t,y:(s+l)/2/t}},LM=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},qJ=function(e,t){var r=e.pinchStartScale,n=e.pinchStartDistance,i=e.setup,a=i.maxScale,s=i.minScale,o=i.zoomAnimation,l=i.disablePadding,u=o.size,c=o.disabled;if(!r||n===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var f=t/n,h=f*r;return O0(Ms(h,2),s,a,u,!c&&!l)},HJ=160,WJ=100,KJ=function(e,t){var r=e.props,n=r.onWheelStart,i=r.onZoomStart;e.wheelStopEventTimer||(ao(e),xn(cn(e),t,n),xn(cn(e),t,i))},GJ=function(e,t){var r=e.props,n=r.onWheel,i=r.onZoom,a=e.contentComponent,s=e.setup,o=e.transformState,l=o.scale,u=s.limitToBounds,c=s.centerZoomedOut,f=s.zoomAnimation,h=s.wheel,d=s.disablePadding,m=s.smooth,g=f.size,p=f.disabled,v=h.step,y=h.smoothStep;if(!a)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var b=FJ(t,null),x=m?y*Math.abs(t.deltaY):v,C=BJ(e,b,x,!t.ctrlKey);if(l!==C){var O=vf(e,C),I=RM(t,a,l),T=p||g===0||c||d,M=u&&T,B=Ab(e,I.x,I.y,C,O,M),L=B.x,P=B.y;e.previousWheelEvent=t,e.setTransformState(C,L,P),xn(cn(e),t,n),xn(cn(e),t,i)}},XJ=function(e,t){var r=e.props,n=r.onWheelStop,i=r.onZoomStop;n_(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(PM(e,t.x,t.y),e.wheelAnimationTimer=null)},WJ);var a=zJ(e,t);a&&(n_(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,xn(cn(e),t,n),xn(cn(e),t,i))},HJ))},DM=function(e){for(var t=0,r=0,n=0;n<2;n+=1)t+=e.touches[n].clientX,r+=e.touches[n].clientY;var i=t/2,a=r/2;return{x:i,y:a}},YJ=function(e,t){var r=LM(t);e.pinchStartDistance=r,e.lastDistance=r,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var n=DM(t);e.pinchLastCenterX=n.x,e.pinchLastCenterY=n.y,ao(e)},ZJ=function(e,t){var r=e.contentComponent,n=e.pinchStartDistance,i=e.wrapperComponent,a=e.transformState.scale,s=e.setup,o=s.limitToBounds,l=s.centerZoomedOut,u=s.zoomAnimation,c=s.alignmentAnimation,f=u.disabled,h=u.size;if(!(n===null||!r)){var d=$J(t,a,r);if(!(!Number.isFinite(d.x)||!Number.isFinite(d.y))){var m=LM(t),g=qJ(e,m),p=DM(t),v=p.x-(e.pinchLastCenterX||0),y=p.y-(e.pinchLastCenterY||0);if(!(g===a&&v===0&&y===0)){e.pinchLastCenterX=p.x,e.pinchLastCenterY=p.y;var b=vf(e,g),x=f||h===0||l,C=o&&x,O=Ab(e,d.x,d.y,g,b,C),I=O.x,T=O.y;e.pinchMidpoint=d,e.lastDistance=m;var M=c.sizeX,B=c.sizeY,L=vc(e,M),P=vc(e,B),A=I+v,j=T+y,E=I0(A,j,b,o,L,P,i),w=E.x,S=E.y;e.setTransformState(g,w,S)}}}},QJ=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,PM(e,t==null?void 0:t.x,t==null?void 0:t.y)},FM=function(e,t){var r=e.props.onZoomStop,n=e.setup.doubleClick.animationTime;n_(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,xn(cn(e),t,r)},n)},JJ=function(e,t){var r=e.props,n=r.onZoomStart,i=r.onZoom,a=e.setup.doubleClick,s=a.animationTime,o=a.animationType;xn(cn(e),t,n),jM(e,s,o,function(){return xn(cn(e),t,i)}),FM(e,t)};function eee(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function tee(e,t){var r=e.setup,n=e.doubleClickStopEventTimer,i=e.transformState,a=e.contentComponent,s=i.scale,o=e.props,l=o.onZoomStart,u=o.onZoom,c=r.doubleClick,f=c.disabled,h=c.mode,d=c.step,m=c.animationTime,g=c.animationType;if(!f&&!n){if(h==="reset")return JJ(e,t);if(!a)return console.error("No ContentComponent found");var p=eee(h,e.transformState.scale),v=IM(e,p,d);if(s!==v){xn(cn(e),t,l);var y=RM(t,a,s),b=y6(e,v,y.x,y.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");xn(cn(e),t,u),Ic(e,b,m,g),FM(e,t)}}}var ree=function(e,t){var r=e.isInitialized,n=e.setup,i=e.wrapperComponent,a=n.doubleClick,s=a.disabled,o=a.excluded,l=t.target,u=i==null?void 0:i.contains(l),c=r&&l&&u&&!s;if(!c)return!1;var f=Eb(l,o);return!f},nee=function(){function e(t){var r=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){r.initializeWindowEvents()},this.unmount=function(){r.cleanupWindowEvents()},this.update=function(n){r.props=n,vf(r,r.transformState.scale),r.setup=m7(n)},this.initializeWindowEvents=function(){var n,i,a=Yw(),s=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,o=s==null?void 0:s.defaultView;(i=r.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",r.onWheelPanning,a),o==null||o.addEventListener("mousedown",r.onPanningStart,a),o==null||o.addEventListener("mousemove",r.onPanning,a),o==null||o.addEventListener("mouseup",r.onPanningStop,a),s==null||s.addEventListener("mouseleave",r.clearPanning,a),o==null||o.addEventListener("keyup",r.setKeyUnPressed,a),o==null||o.addEventListener("keydown",r.setKeyPressed,a)},this.cleanupWindowEvents=function(){var n,i,a=Yw(),s=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,o=s==null?void 0:s.defaultView;o==null||o.removeEventListener("mousedown",r.onPanningStart,a),o==null||o.removeEventListener("mousemove",r.onPanning,a),o==null||o.removeEventListener("mouseup",r.onPanningStop,a),s==null||s.removeEventListener("mouseleave",r.clearPanning,a),o==null||o.removeEventListener("keyup",r.setKeyUnPressed,a),o==null||o.removeEventListener("keydown",r.setKeyPressed,a),document.removeEventListener("mouseleave",r.clearPanning,a),ao(r),(i=r.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(n){var i=Yw();n.addEventListener("wheel",r.onWheelZoom,i),n.addEventListener("dblclick",r.onDoubleClick,i),n.addEventListener("touchstart",r.onTouchPanningStart,i),n.addEventListener("touchmove",r.onTouchPanning,i),n.addEventListener("touchend",r.onTouchPanningStop,i)},this.handleInitialize=function(n,i){var a=!1,s=r.setup.centerOnInit,o=function(l,u){for(var c=0,f=l;c<f.length;c++){var h=f[c];if(h.target===u)return!0}return!1};r.applyTransformation(),r.onInitCallbacks.forEach(function(l){l(cn(r))}),r.observer=new ResizeObserver(function(l){if(o(l,n)||o(l,i))if(s&&!a){var u=i.offsetWidth,c=i.offsetHeight;(u>0||c>0)&&(a=!0,r.setCenter())}else ao(r),vf(r,r.transformState.scale),v6(r,0)}),r.observer.observe(n),r.observer.observe(i)},this.onWheelZoom=function(n){var i=r.setup.disabled;if(!i){var a=LJ(r,n);if(a){var s=r.isPressingKeys(r.setup.wheel.activationKeys);s&&(KJ(r,n),GJ(r,n),XJ(r,n))}}},this.onWheelPanning=function(n){var i=r.setup,a=i.disabled,s=i.wheel,o=i.panning;if(!(!r.wrapperComponent||!r.contentComponent||a||!s.wheelDisabled||o.disabled||!o.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=r.transformState,u=l.positionX,c=l.positionY,f=u-n.deltaX,h=c-n.deltaY,d=o.lockAxisX?u:f,m=o.lockAxisY?c:h,g=r.setup.alignmentAnimation,p=g.sizeX,v=g.sizeY,y=vc(r,p),b=vc(r,v);d===u&&m===c||TM(r,d,m,y,b)}},this.onPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var s=u7(r,n);if(s){var o=r.isPressingKeys(r.setup.panning.activationKeys);o&&(n.button===0&&!r.setup.panning.allowLeftClickPan||n.button===1&&!r.setup.panning.allowMiddleClickPan||n.button===2&&!r.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),ao(r),h7(r,n),xn(cn(r),n,a)))}}},this.onPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(!i){var s=c7(r);if(s){var o=r.isPressingKeys(r.setup.panning.activationKeys);o&&(n.preventDefault(),n.stopPropagation(),d7(r,n.clientX,n.clientY),xn(cn(r),n,a))}}},this.onPanningStop=function(n){var i=r.props.onPanningStop;r.isPanning&&(kJ(r),xn(cn(r),n,i))},this.onPinchStart=function(n){var i=r.setup.disabled,a=r.props,s=a.onPinchingStart,o=a.onZoomStart;if(!i){var l=UJ(r,n);l&&(YJ(r,n),ao(r),xn(cn(r),n,s),xn(cn(r),n,o))}},this.onPinch=function(n){var i=r.setup.disabled,a=r.props,s=a.onPinching,o=a.onZoom;if(!i){var l=VJ(r);l&&(n.preventDefault(),n.stopPropagation(),ZJ(r,n),xn(cn(r),n,s),xn(cn(r),n,o))}},this.onPinchStop=function(n){var i=r.props,a=i.onPinchingStop,s=i.onZoomStop;r.pinchStartScale&&(QJ(r),xn(cn(r),n,a),xn(cn(r),n,s))},this.onTouchPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var s=u7(r,n);if(s){var o=r.lastTouch&&+new Date-r.lastTouch<200&&n.touches.length===1;if(!o){r.lastTouch=+new Date,ao(r);var l=n.touches,u=l.length===1,c=l.length===2;u&&(ao(r),h7(r,n),xn(cn(r),n,a)),c&&r.onPinchStart(n)}}}},this.onTouchPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(r.isPanning&&n.touches.length===1){if(i)return;var s=c7(r);if(!s)return;n.preventDefault(),n.stopPropagation();var o=n.touches[0];d7(r,o.clientX,o.clientY),xn(cn(r),n,a)}else n.touches.length>1&&r.onPinch(n)},this.onTouchPanningStop=function(n){r.onPanningStop(n),r.onPinchStop(n)},this.onDoubleClick=function(n){var i=r.setup.disabled;if(!i){var a=ree(r,n);a&&tee(r,n)}},this.clearPanning=function(n){r.isPanning&&r.onPanningStop(n)},this.setKeyPressed=function(n){r.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){r.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(i){return r.pressedKeys[i]}):!0},this.setTransformState=function(n,i,a){var s=r.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(i)&&!Number.isNaN(a)){n!==r.transformState.scale&&(r.transformState.previousScale=r.transformState.scale,r.transformState.scale=n),r.transformState.positionX=i,r.transformState.positionY=a,r.applyTransformation();var o=cn(r);r.onChangeCallbacks.forEach(function(l){return l(o)}),xn(o,{scale:n,positionX:i,positionY:a},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(r.wrapperComponent&&r.contentComponent){var n=MM(r.transformState.scale,r.wrapperComponent,r.contentComponent);r.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,i,a){return r.props.customTransform?r.props.customTransform(n,i,a):MJ(n,i,a)},this.applyTransformation=function(){if(!(!r.mounted||!r.contentComponent)){var n=r.transformState,i=n.scale,a=n.positionX,s=n.positionY,o=r.handleTransformStyles(a,s,i);r.contentComponent.style.transform=o}},this.getContext=function(){return cn(r)},this.onChange=function(n){return r.onChangeCallbacks.has(n)||r.onChangeCallbacks.add(n),function(){r.onChangeCallbacks.delete(n)}},this.onInit=function(n){return r.onInitCallbacks.has(n)||r.onInitCallbacks.add(n),function(){r.onInitCallbacks.delete(n)}},this.init=function(n,i){r.cleanupWindowEvents(),r.wrapperComponent=n,r.contentComponent=i,vf(r,r.transformState.scale),r.handleInitializeWrapperEvents(n),r.handleInitialize(n,i),r.initializeWindowEvents(),r.isInitialized=!0;var a=cn(r);xn(a,void 0,r.props.onInit)},this.props=t,this.setup=m7(this.props),this.transformState=NM(this.props)}return e}(),b6=Il.createContext(null),iee=function(e,t){return typeof e=="function"?e(t):e},aee=Il.forwardRef(function(e,t){var r=Y.useRef(new nee(e)).current,n=iee(e.children,r_(r));return Y.useImperativeHandle(t,function(){return r_(r)},[r]),Y.useEffect(function(){r.update(e)},[r,e]),Il.createElement(b6.Provider,{value:r},n)});Il.forwardRef(function(e,t){var r=Y.useRef(null),n=Y.useContext(b6);return Y.useEffect(function(){return n.onChange(function(i){if(r.current){var a=0,s=0;r.current.style.transform=n.handleTransformStyles(a,s,1/i.instance.transformState.scale)}})},[n]),Il.createElement("div",lc({},e,{ref:RJ([r,t])}))});function see(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var oee=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,g7={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};see(oee);var lee=function(e){var t=e.children,r=e.wrapperClass,n=r===void 0?"":r,i=e.contentClass,a=i===void 0?"":i,s=e.wrapperStyle,o=e.contentStyle,l=e.wrapperProps,u=l===void 0?{}:l,c=e.contentProps,f=c===void 0?{}:c,h=Y.useContext(b6),d=h.init,m=h.cleanupWindowEvents,g=Y.useRef(null),p=Y.useRef(null);return Y.useEffect(function(){var v=g.current,y=p.current;return v!==null&&y!==null&&d&&(d==null||d(v,y)),function(){m==null||m()}},[]),Il.createElement("div",lc({},u,{ref:g,className:"".concat(t_.wrapperClass," ").concat(g7.wrapper," ").concat(n),style:s}),Il.createElement("div",lc({},f,{ref:p,className:"".concat(t_.contentClass," ").concat(g7.content," ").concat(a),style:o}),t))};function uee({repuesto:e,tipo:t,onUpload:r,onDelete:n,onSetPrimary:i}){var M,B,L,P,A;const[a,s]=Y.useState(0),[o,l]=Y.useState(null),[u,c]=Y.useState(!1),[f,h]=Y.useState([]),[d,m]=Y.useState(0),[g,p]=Y.useState(!1),v=Y.useRef(null),b=[...(t==="manual"?e==null?void 0:e.imagenesManual:e==null?void 0:e.fotosReales)||[]].sort((j,E)=>j.orden-E.orden),x=async j=>{const E=j.target.files;if(!E||!e||E.length===0)return;const w=Array.from(E);h(w),m(0),p(!0),v.current&&(v.current.value="")},C=async j=>{if(e){c(!0);try{await r(j,e.id,t),d<f.length-1?(m(E=>E+1),p(!0)):(h([]),m(0))}catch(E){console.error("Error al subir imagen:",E)}finally{c(!1)}}},O=()=>{p(!1),d<f.length-1?(m(j=>j+1),setTimeout(()=>p(!0),100)):(h([]),m(0))},I=()=>{s(j=>j>0?j-1:b.length-1)},T=()=>{s(j=>j<b.length-1?j+1:0)};return e?q.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg border border-gray-200 overflow-hidden animate-slideInRight",children:[q.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsx("h3",{className:"font-semibold text-gray-800",children:t==="manual"?"Imgenes del Manual":"Fotos Reales"}),q.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[e.codigoBaader," - ",e.textoBreve.substring(0,30),"..."]})]}),q.jsx(Fa,{size:"sm",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},loading:u,icon:q.jsx(kb,{className:"w-4 h-4"}),children:"Agregar"}),q.jsx("input",{ref:v,type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden"})]})}),q.jsx("div",{className:"flex-1 flex flex-col",children:b.length===0?q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 missing-image-indicator cursor-pointer",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},children:[q.jsx(Kv,{className:"w-12 h-12 text-amber-500 mb-3"}),q.jsx("p",{className:"text-amber-700 font-medium mb-1",children:"Sin imgenes"}),q.jsxs("p",{className:"text-sm text-amber-600 text-center",children:["Haz clic para agregar ",t==="manual"?"imgenes del manual":"fotos reales"]})]}):q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"relative flex-1 bg-gray-100 flex items-center justify-center min-h-[200px]",children:[q.jsx("img",{src:(M=b[a])==null?void 0:M.url,alt:((B=b[a])==null?void 0:B.descripcion)||"Imagen del repuesto",className:"max-w-full max-h-full object-contain cursor-zoom-in",onClick:()=>l(b[a])}),b.length>1&&q.jsxs(q.Fragment,{children:[q.jsx("button",{onClick:I,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:q.jsx(yM,{className:"w-5 h-5"})}),q.jsx("button",{onClick:T,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:q.jsx(bM,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[a+1," / ",b.length]}),q.jsx("button",{onClick:()=>l(b[a]),className:"absolute top-2 right-2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:q.jsx(CQ,{className:"w-4 h-4"})}),((L=b[a])==null?void 0:L.esPrincipal)&&q.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs rounded-full flex items-center gap-1",children:[q.jsx(Hw,{className:"w-3 h-3 fill-current"}),"Principal"]})]}),q.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:q.jsx("div",{className:"flex gap-2 overflow-x-auto carousel-container pb-1",children:b.map((j,E)=>q.jsxs("div",{className:`
                      relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer
                      border-2 transition-all carousel-item
                      ${E===a?"border-primary-500":"border-transparent hover:border-gray-300"}
                    `,onClick:()=>s(E),children:[q.jsx("img",{src:j.url,alt:"",className:"w-full h-full object-cover"}),j.esPrincipal&&q.jsx(Hw,{className:"absolute top-1 right-1 w-3 h-3 text-yellow-400 fill-current"})]},j.id))})}),q.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2",children:[q.jsxs("button",{onClick:()=>e&&i(e,b[a]),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${(P=b[a])!=null&&P.esPrincipal?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(A=b[a])!=null&&A.esPrincipal?q.jsx(Hw,{className:"w-4 h-4 fill-current"}):q.jsx(AQ,{className:"w-4 h-4"}),"Principal"]}),q.jsxs("button",{onClick:()=>e&&n(e,b[a]),className:"flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-red-100 text-red-600 hover:bg-red-200 transition-colors ml-auto",children:[q.jsx($m,{className:"w-4 h-4"}),"Eliminar"]})]})]})}),q.jsx(N0,{isOpen:!!o,onClose:()=>l(null),size:"full",children:q.jsxs("div",{className:"relative w-full h-[70vh]",children:[q.jsx("button",{onClick:()=>l(null),className:"absolute top-2 right-2 z-10 p-2 bg-white rounded-full shadow hover:bg-gray-100",children:q.jsx(Pi,{className:"w-5 h-5"})}),o&&q.jsx(aee,{children:q.jsx(lee,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:q.jsx("img",{src:o.url,alt:o.descripcion,className:"max-w-full max-h-full object-contain"})})}),q.jsx("p",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-gray-500 bg-white/80 px-3 py-1 rounded",children:"Usa el scroll para hacer zoom"})]})}),q.jsx(XQ,{isOpen:g,onClose:O,file:f[d]||null,onConfirm:C})]}):null}function i1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BM={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,a){function s(u,c){if(!i[u]){if(!n[u]){var f=typeof i1=="function"&&i1;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(m){return s(n[u][1][m]||m)},d,d.exports,r,n,i,a)}return i[u].exports}for(var o=typeof i1=="function"&&i1,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(r,n,i){const a=r("fs"),s=r("fast-csv"),o=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),u=r("dayjs").extend(o).extend(l),c=r("../utils/stream-buf"),{fs:{exists:f}}=r("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,m){if(m=m||{},!await f(d))throw new Error("File not found: "+d);const g=a.createReadStream(d),p=await this.read(g,m);return g.close(),p}read(d,m){return m=m||{},new Promise((g,p)=>{const v=this.workbook.addWorksheet(m.sheetName),y=m.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=m.map||function(C){if(C==="")return null;const O=Number(C);if(!Number.isNaN(O)&&O!==1/0)return O;const I=y.reduce((M,B)=>{if(M)return M;const L=u(C,B,!0);return L.isValid()?L:null},null);if(I)return new Date(I.valueOf());const T=h[C];return T!==void 0?T:C},x=s.parse(m.parserOptions).on("data",C=>{v.addRow(C.map(b))}).on("end",()=>{x.emit("worksheet",v)});x.on("worksheet",g).on("error",p),d.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,m){return new Promise((g,p)=>{m=m||{};const v=this.workbook.getWorksheet(m.sheetName||m.sheetId),y=s.format(m.formatterOptions);d.on("finish",()=>{g()}),y.on("error",p),y.pipe(d);const{dateFormat:b,dateUTC:x}=m,C=m.map||(T=>{if(T){if(T.text||T.hyperlink)return T.hyperlink||T.text||"";if(T.formula||T.result)return T.result||"";if(T instanceof Date)return b?x?u.utc(T).format(b):u(T).format(b):x?u.utc(T).format():u(T).format();if(T.error)return T.error;if(typeof T=="object")return JSON.stringify(T)}return T}),O=m.includeEmptyRows===void 0||m.includeEmptyRows;let I=1;v&&v.eachRow((T,M)=>{if(O)for(;I++<M-1;)y.write([]);const{values:B}=T;B.shift(),y.write(B.map(C)),I=M}),y.end()})}writeFile(d,m){const g={encoding:(m=m||{}).encoding||"utf8"},p=a.createWriteStream(d,g);return this.write(p,m)}async writeBuffer(d){const m=new c;return await this.write(m,d),m.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const a=r("../utils/col-cache");class s{constructor(l,u){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,u)if(typeof u=="string"){const f=a.decodeAddress(u);this.nativeCol=f.col+c,this.nativeColOff=0,this.nativeRow=f.row+c,this.nativeRowOff=0}else u.nativeCol!==void 0?(this.nativeCol=u.nativeCol||0,this.nativeColOff=u.nativeColOff||0,this.nativeRow=u.nativeRow||0,this.nativeRowOff=u.nativeRowOff||0):u.col!==void 0?(this.col=u.col+c,this.row=u.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(r,n,i){const a=r("../utils/col-cache"),s=r("../utils/under-dash"),o=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),u=r("./note");class c{constructor(d,m,g){if(!d||!m)throw new Error("A Cell needs a Row");this._row=d,this._column=m,a.validateAddress(g),this._address=g,this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,m.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,m,g){const p=d&&d.numFmt||m&&m.numFmt;p&&(g.numFmt=p);const v=d&&d.font||m&&m.font;v&&(g.font=v);const y=d&&d.alignment||m&&m.alignment;y&&(g.alignment=y);const b=d&&d.border||m&&m.border;b&&(g.border=b);const x=d&&d.fill||m&&m.fill;x&&(g.fill=x);const C=d&&d.protection||m&&m.protection;return C&&(g.protection=C),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,m){this._value.release(),this._value=f.create(c.Types.Merge,this,d),m||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new u(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=f.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:m}=this.workbook;m.removeAllNames(this.fullAddress),d.forEach(g=>{m.addEx(this.fullAddress,g)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=u.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=o.ValueType;const f={getType:h=>h==null?c.Types.Null:h instanceof String||typeof h=="string"?c.Types.String:typeof h=="number"?c.Types.Number:typeof h=="boolean"?c.Types.Boolean:h instanceof Date?c.Types.Date:h.text&&h.hyperlink?c.Types.Hyperlink:h.formula||h.sharedFormula?c.Types.Formula:h.richText?c.Types.RichText:h.sharedString?c.Types.SharedString:h.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(h){this.model={address:h.address,type:c.Types.Null}}get value(){return null}set value(h){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},m=g=>{const p=h[g];p&&(d[g]=p)};return m("formula"),m("result"),m("ref"),m("shareType"),m("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return c.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof c?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,m){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(d,m)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const a=r("../utils/under-dash"),s=r("./enums"),o=r("../utils/col-cache");class l{constructor(c,f,h){this._worksheet=c,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&a.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,f){const h=this.number;f||(f=c,c=null),this._worksheet.eachRow(c,(d,m)=>{f(d.getCell(h),m)})}get values(){const c=[];return this.eachCell((f,h)=>{f&&f.type!==s.ValueType.Null&&(c[h]=f.value)}),c}set values(c){if(!c)return;const f=this.number;let h=0;c.hasOwnProperty("0")&&(h=1),c.forEach((d,m)=>{this._worksheet.getCell(m+h,f).value=d})}_applyStyle(c,f){return this.style[c]=f,this.eachCell(h=>{h[c]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const f=[];let h=null;return c&&c.forEach((d,m)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=m+1:(h={min:m+1,max:m+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(c,f){const h=[];let d=1,m=0;for(f=(f=f||[]).sort(function(g,p){return g.min-p.min});m<f.length;){const g=f[m++];for(;d<g.min;)h.push(new l(c,d++));for(;d<=g.max;)h.push(new l(c,d++,g))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(r,n,i){const a=r("../utils/under-dash"),s=r("../utils/col-cache"),o=r("../utils/cell-matrix"),l=r("./range"),u=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new o)}add(c,f){const h=s.decodeEx(c);this.addEx(h,f)}addEx(c,f){const h=this.getMatrix(f);if(c.top)for(let d=c.left;d<=c.right;d++)for(let m=c.top;m<=c.bottom;m++){const g={sheetName:c.sheetName,address:s.n2l(d)+m,row:m,col:d};h.addCellEx(g)}else h.addCellEx(c)}remove(c,f){const h=s.decodeEx(c);this.removeEx(h,f)}removeEx(c,f){this.getMatrix(f).removeCellEx(c)}removeAllNames(c){a.each(this.matrixMap,f=>{f.removeCellEx(c)})}forEach(c){a.each(this.matrixMap,(f,h)=>{f.forEach(d=>{c(h,d)})})}getNames(c){return this.getNamesEx(s.decodeEx(c))}getNamesEx(c){return a.map(this.matrixMap,(f,h)=>f.findCellEx(c)&&h).filter(Boolean)}_explore(c,f){f.mark=!1;const{sheetName:h}=f,d=new l(f.row,f.col,f.row,f.col,h);let m,g;function p(y,b){const x=c.findCellAt(h,y,f.col);return!(!x||!x.mark)&&(d[b]=y,x.mark=!1,!0)}for(g=f.row-1;p(g,"top");g--);for(g=f.row+1;p(g,"bottom");g++);function v(y,b){const x=[];for(g=d.top;g<=d.bottom;g++){const C=c.findCellAt(h,g,y);if(!C||!C.mark)return!1;x.push(C)}d[b]=y;for(let C=0;C<x.length;C++)x[C].mark=!1;return!0}for(m=f.col-1;v(m,"left");m--);for(m=f.col+1;v(m,"right");m++);return d}getRanges(c,f){return(f=f||this.matrixMap[c])?(f.forEach(h=>{h.mark=!0}),{name:c,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,f){c.forEachInSheet(f,(h,d,m)=>{h&&(h.row===d&&h.col===m||(h.row=d,h.col=m,h.address=s.n2l(m)+d))})}spliceRows(c,f,h,d){a.each(this.matrixMap,m=>{m.spliceRows(c,f,h,d),this.normaliseMatrix(m,c)})}spliceColumns(c,f,h,d){a.each(this.matrixMap,m=>{m.spliceColumns(c,f,h,d),this.normaliseMatrix(m,c)})}get model(){return a.map(this.matrixMap,(c,f)=>this.getRanges(f,c)).filter(c=>c.ranges.length)}set model(c){const f=this.matrixMap={};c.forEach(h=>{const d=f[h.name]=new o;h.ranges.forEach(m=>{u.test(m.split("!").pop()||"")&&d.addCell(m)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const a=r("../utils/col-cache"),s=r("./anchor");n.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:u,range:c,hyperlinks:f}=o;if(this.type=l,this.imageId=u,l==="image")if(typeof c=="string"){const h=a.decode(c);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:f||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const a=r("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:u}=l,{texts:c}=u;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=u}static fromModel(l){const u=new s;return u.model=l,u}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(r,n,i){const a=r("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,u,c,f,h){if(arguments.length<4){const d=a.decodeAddress(l),m=a.decodeAddress(u);this.model={top:Math.min(d.row,m.row),left:Math.min(d.col,m.col),bottom:Math.max(d.row,m.row),right:Math.max(d.col,m.col),sheetName:c},this.setTLBR(d.row,d.col,m.row,m.col,h)}else this.model={top:Math.min(l,c),left:Math.min(u,f),bottom:Math.max(l,c),right:Math.max(u,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const u=l[0];if(u instanceof s)this.model={top:u.model.top,left:u.model.left,bottom:u.model.bottom,right:u.model.right,sheetName:u.sheetName};else if(u instanceof Array)this.decode(u);else if(u.top&&u.left&&u.bottom&&u.right)this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName};else{const c=a.decodeEx(u);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,u,c,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||u<this.left)&&(this.left=u),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:u,number:c}=l;u&&this.expand(c,u.min,c,u.max)}}expandToAddress(l){const u=a.decodeEx(l);this.expand(u.row,u.col,u.row,u.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const u=a.decodeEx(l);return this.containsEx(u)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let u=this.left;u<=this.right;u++)for(let c=this.top;c<=this.bottom;c++)l(a.encodeAddress(c,u),c,u)}}n.exports=s},{"../utils/col-cache":19}],11:[function(r,n,i){const a=r("../utils/under-dash"),s=r("./enums"),o=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(u,c){this._worksheet=u,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(u){return this._cells[u-1]}getCellEx(u){let c=this._cells[u.col-1];if(!c){const f=this._worksheet.getColumn(u.col);c=new l(this,f,u.address),this._cells[u.col-1]=c}return c}getCell(u){if(typeof u=="string"){const c=this._worksheet.getColumnKey(u);u=c?c.number:o.l2n(u)}return this._cells[u-1]||this.getCellEx({address:o.encodeAddress(this._number,u),row:this._number,col:u})}splice(u,c){const f=u+c;for(var h=arguments.length,d=new Array(h>2?h-2:0),m=2;m<h;m++)d[m-2]=arguments[m];const g=d.length-c,p=this._cells.length;let v,y,b;if(g<0)for(v=u+d.length;v<=p;v++)b=this._cells[v-1],y=this._cells[v-g-1],y?(b=this.getCell(v),b.value=y.value,b.style=y.style,b._comment=y._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(g>0)for(v=p;v>=f;v--)y=this._cells[v-1],y?(b=this.getCell(v+g),b.value=y.value,b.style=y.style,b._comment=y._comment):this._cells[v+g-1]=void 0;for(v=0;v<d.length;v++)b=this.getCell(u+v),b.value=d[v],b.style={},b._comment=void 0}eachCell(u,c){if(c||(c=u,u=null),u&&u.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)c(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==s.ValueType.Null&&c(f,h+1)})}addPageBreak(u,c){const f=this._worksheet,h=Math.max(0,u-1)||0,d=Math.max(0,c-1)||16838,m={id:this._number,max:d,man:1};h&&(m.min=h),f.rowBreaks.push(m)}get values(){const u=[];return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&(u[c.col]=c.value)}),u}set values(u){if(this._cells=[],u)if(u instanceof Array){let c=0;u.hasOwnProperty("0")&&(c=1),u.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+c),row:this._number,col:h+c}).value=f)})}else this._worksheet.eachColumnKey((c,f)=>{u[f]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=u[f])})}get hasValues(){return a.some(this._cells,u=>u&&u.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let u=0;return this.eachCell(()=>{u++}),u}get dimensions(){let u=0,c=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!u||u>f.col)&&(u=f.col),c<f.col&&(c=f.col))}),u>0?{min:u,max:c}:null}_applyStyle(u,c){return this.style[u]=c,this._cells.forEach(f=>{f&&(f[u]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const u=[];let c=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!c||c>h.col)&&(c=h.col),f<h.col&&(f=h.col),u.push(d))}}),this.height||u.length?{cells:u,number:this.number,min:c,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(u){if(u.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],u.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=o.decodeAddress(f.address);else if(c){const{row:d}=c,m=c.col+1;h={row:d,col:m,address:o.encodeAddress(d,m),$col$row:`$${o.n2l(m)}$${d}`}}c=h,this.getCellEx(h).model=f;break}}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const a=r("../utils/col-cache");class s{constructor(l,u,c){this.table=l,this.column=u,this.index=c}_set(l,u){this.table.cacheState(),this.column[l]=u}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,p,v)=>{g[p]===void 0&&(g[p]=v)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const u=(g,p)=>{if(!g)throw new Error(p)};u(o.ref,"Table must have ref"),u(o.columns,"Table must have column definitions"),u(o.rows,"Table must have row definitions"),o.tl=a.decodeAddress(o.ref);const{row:c,col:f}=o.tl;u(c>0,"Table must be on valid row"),u(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:m}=this;o.autoFilterRef=a.encode(c,f,c+d-1,f+h-1),o.tableRef=a.encode(c,f,c+m-1,f+h-1),o.columns.forEach((g,p)=>{u(g.name,`Column ${p} must have a name`),p===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(d,m)=>{m&&Object.keys(m).forEach(g=>{d[g]=m[g]})},{worksheet:l,table:u}=this,{row:c,col:f}=u.tl;let h=0;if(u.headerRow){const d=l.getRow(c+h++);u.columns.forEach((m,g)=>{const{style:p,name:v}=m,y=d.getCell(f+g);y.value=v,o(y,p)})}if(u.rows.forEach(d=>{const m=l.getRow(c+h++);d.forEach((g,p)=>{const v=m.getCell(f+p);v.value=g,o(v,u.columns[p].style)})}),u.totalsRow){const d=l.getRow(c+h++);u.columns.forEach((m,g)=>{const p=d.getCell(f+g);if(g===0)p.value=m.totalsRowLabel;else{const v=this.getFormula(m);p.value=v?{formula:m.totalsRowFormula,result:m.totalsRowResult}:null}o(p,m.style)})}}load(o){const{table:l}=this,{row:u,col:c}=l.tl;let f=0;if(l.headerRow){const h=o.getRow(u+f++);l.columns.forEach((d,m)=>{h.getCell(c+m).value=d.name})}if(l.rows.forEach(h=>{const d=o.getRow(u+f++);h.forEach((m,g)=>{d.getCell(c+g).value=m})}),l.totalsRow){const h=o.getRow(u+f++);l.columns.forEach((d,m)=>{const g=h.getCell(c+m);m===0?g.value=d.totalsRowLabel:this.getFormula(d)&&(g.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(o.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=0;c<this._cache.width;c++)u.getCell(o.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const u=this.worksheet.getRow(o.row+l);for(let c=this.width;c<this._cache.width;c++)u.getCell(o.col+c).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new s(this,l,o)}addColumn(o,l,u){this.cacheState(),u===void 0?(this.table.columns.push(o),this.table.rows.forEach((c,f)=>{c.push(l[f])})):(this.table.columns.splice(u,0,o),this.table.rows.forEach((c,f)=>{c.splice(u,0,l[f])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(u=>{u.splice(o,l)})}_assign(o,l,u){this.cacheState(),o[l]=u}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(r,n,i){const a=r("./worksheet"),s=r("./defined-names"),o=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}addWorksheet(u,c){const f=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const h=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),d=Object.assign({},c,{id:f,name:u,orderNo:h+1,workbook:this}),m=new a(d);return this._worksheets[f]=m,m}removeWorksheetEx(u){delete this._worksheets[u.id]}removeWorksheet(u){const c=this.getWorksheet(u);c&&c.destroy()}getWorksheet(u){return u===void 0?this._worksheets.find(Boolean):typeof u=="number"?this._worksheets[u]:typeof u=="string"?this._worksheets.find(c=>c&&c.name===u):void 0}get worksheets(){return this._worksheets.slice(1).sort((u,c)=>u.orderNo-c.orderNo).filter(Boolean)}eachSheet(u){this.worksheets.forEach(c=>{u(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(u){const c=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),c}getImage(u){return this.media[u]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(u=>u.model),sheets:this.worksheets.map(u=>u.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(u){this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(c=>{const{id:f,name:h,state:d}=c,m=u.sheets&&u.sheets.findIndex(g=>g.id===f);(this._worksheets[f]=new a({id:f,name:h,orderNo:m,state:d,workbook:this})).model=c}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const a=r("../utils/under-dash"),s=r("../utils/col-cache"),o=r("./range"),l=r("./row"),u=r("./column"),c=r("./enums"),f=r("./image"),h=r("./table"),d=r("./data-validations"),m=r("../utils/encryptor"),{copyStyle:g}=r("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new d,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new o;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&p.expand(v.number,y.min,v.number,y.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,x)=>{const C=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(b,C)},0);let v=1;const y=this._columns=[];p.forEach(b=>{const x=new u(this,v++,!1);y.push(x),x.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,v){this._keys[p]=v}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){a.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const v=this._keys[p];if(v)return v;p=s.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let v=this._columns.length+1;for(;v<=p;)this._columns.push(new u(this,v++))}return this._columns[p-1]}spliceColumns(p,v){const y=this._rows.length;for(var b=arguments.length,x=new Array(b>2?b-2:0),C=2;C<b;C++)x[C-2]=arguments[C];if(x.length>0)for(let M=0;M<y;M++){const B=[p,v];x.forEach(P=>{B.push(P[M]||null)});const L=this.getRow(M+1);L.splice.apply(L,B)}else this._rows.forEach(M=>{M&&M.splice(p,v)});const O=x.length-v,I=p+v,T=this._columns.length;if(O<0)for(let M=p+x.length;M<=T;M++)this.getColumn(M).defn=this.getColumn(M-O).defn;else if(O>0)for(let M=T;M>=I;M--)this.getColumn(M+O).defn=this.getColumn(M).defn;for(let M=p;M<p+x.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,v,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(v=>{p=Math.max(p,v.cellCount)}),p}get actualColumnCount(){const p=[];let v=0;return this.eachRow(y=>{y.eachCell(b=>{let{col:x}=b;p[x]||(p[x]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const p=this._rows;let v=p.length;for(;v>0&&p[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,v){return this._rows.slice(p-1,p-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let v=this._rows[p-1];return v||(v=this._rows[p-1]=new l(this,p)),v}getRows(p,v){if(v<1)return;const y=[];for(let b=p;b<p+v;b++)y.push(this.getRow(b));return y}addRow(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,b=this.getRow(y);return b.values=p,this._setStyleOption(y,v[0]==="i"?v:"n"),b}addRows(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return p.forEach(b=>{y.push(this.addRow(b,v))}),y}insertRow(p,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,v),this._setStyleOption(p,y),this.getRow(p)}insertRows(p,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...v),y!=="n")for(let b=0;b<v.length;b++)y[0]==="o"&&this.findRow(v.length+p+b)!==void 0?this._copyStyle(v.length+p+b,p+b,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,y[1]==="+");return this.getRows(p,v.length)}_setStyleOption(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,v[1]==="+")}_copyStyle(p,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(p),x=this.getRow(v);x.style=g(b.style),b.eachCell({includeEmpty:y},(C,O)=>{x.getCell(O).style=g(C.style)}),x.height=b.height}duplicateRow(p,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[p-1],x=new Array(v).fill(b.values);this.spliceRows(p+1,y?0:v,...x);for(let C=0;C<v;C++){const O=this._rows[p+C];O.style=b.style,O.height=b.height,b.eachCell({includeEmpty:!0},(I,T)=>{O.getCell(T).style=I.style})}}spliceRows(p,v){const y=p+v;for(var b=arguments.length,x=new Array(b>2?b-2:0),C=2;C<b;C++)x[C-2]=arguments[C];const O=x.length,I=O-v,T=this._rows.length;let M,B;if(I<0)for(p===T&&(this._rows[T-1]=void 0),M=y;M<=T;M++)if(B=this._rows[M-1],B){const L=this.getRow(M+I);L.values=B.values,L.style=B.style,L.height=B.height,B.eachCell({includeEmpty:!0},(P,A)=>{L.getCell(A).style=P.style}),this._rows[M-1]=void 0}else this._rows[M+I-1]=void 0;else if(I>0)for(M=T;M>=y;M--)if(B=this._rows[M-1],B){const L=this.getRow(M+I);L.values=B.values,L.style=B.style,L.height=B.height,B.eachCell({includeEmpty:!0},(P,A)=>{if(L.getCell(A).style=P.style,P._value.constructor.name==="MergeValue"){const j=this.getRow(P._row._number+O).getCell(A),E=P._value._master,w=this.getRow(E._row._number+O).getCell(E._column._number);j.merge(w)}})}else this._rows[M+I-1]=void 0;for(M=0;M<O;M++){const L=this.getRow(p+M);L.style={},L.values=x[M]}this.workbook.definedNames.spliceRows(this.name,p,v,O)}eachRow(p,v){if(v||(v=p,p=void 0),p&&p.includeEmpty){const y=this._rows.length;for(let b=1;b<=y;b++)v(this.getRow(b),b)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const p=[];return this._rows.forEach(v=>{v&&(p[v.number]=v.values)}),p}findCell(p,v){const y=s.getAddress(p,v),b=this._rows[y.row-1];return b?b.findCell(y.col):void 0}getCell(p,v){const y=s.getAddress(p,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,v){a.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});const y=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let x=p.left;x<=p.right;x++)(b>p.top||x>p.left)&&this.getCell(b,x).merge(y,v);this._merges[y.address]=p}_unMergeMaster(p){const v=this._merges[p.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let b=v.left;b<=v.right;b++)this.getCell(y,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);for(let x=b.top;x<=b.bottom;x++)for(let C=b.left;C<=b.right;C++){const O=this.findCell(x,C);O&&(O.type===c.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(p,v,y){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const x=s.decode(p),{top:C,left:O,bottom:I,right:T}=x,M=T-O+1,B=s.encodeAddress(C,O),L=b==="shared";let P;P=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(j,E)=>y[j-C][E-O]:(j,E)=>y[(j-C)*M+(E-O)]:()=>{};let A=!0;for(let j=C;j<=I;j++)for(let E=O;E<=T;E++)A?(this.getCell(j,E).value={shareType:b,formula:v,ref:p,result:P(j,E)},A=!1):this.getCell(j,E).value=L?{sharedFormula:B,result:P(j,E)}:P(j,E)}addImage(p,v){const y={type:"image",imageId:p,range:v};this._media.push(new f(this,y))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const v={type:"background",imageId:p};this._media.push(new f(this,v))}getBackgroundImageId(){const p=this._media.find(v=>v.type==="background");return p&&p.imageId}protect(p,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=m.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=m.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!p&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(p){const v=new h(this,p);return this.tables[p.name]=v,v}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=u.toModel(this.columns);const v=p.rows=[],y=p.dimensions=new o;return this._rows.forEach(b=>{const x=b&&b.model;x&&(y.expand(x.number,x.min,x.number,x.max),v.push(x))}),p.merges=[],a.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(p){a.each(p.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(p){this.name=p.name,this._columns=u.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new d(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(v=>new f(this,v)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((v,y)=>{const b=new h;return b.model=y,v[y.name]=b,v},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const a={Workbook:r("./doc/workbook")},s=r("./doc/enums");Object.keys(s).forEach(o=>{a[o]=s[o]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(r,n,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=r("buffer");i.stringToBuffer=function(o){return typeof o!="string"?o:a?s.from(a.encode(o).buffer):s.from(o)}},{buffer:220}],18:[function(r,n,i){const a=r("./under-dash"),s=r("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(s.decodeEx(o))}getCell(o){return this.findCellEx(s.decodeEx(o),!0)}findCell(o){return this.findCellEx(s.decodeEx(o),!1)}findCellAt(o,l,u){const c=this.sheets[o],f=c&&c[l];return f&&f[u]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let u=o.left;u<=o.right;u++)this.getCellAt(o.sheetName,l,u);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const u=this.findSheet(o,l),c=this.findSheetRow(u,o,l);return this.findRowCell(c,o,l)}getCellAt(o,l,u){const c=this.sheets[o]||(this.sheets[o]=[]),f=c[l]||(c[l]=[]);return f[u]||(f[u]={sheetName:o,address:s.n2l(u)+l,row:l,col:u})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const u=this.findSheetRow(l,o);u&&delete u[o.col]}forEachInSheet(o,l){const u=this.sheets[o];u&&u.forEach((c,f)=>{c&&c.forEach((h,d)=>{h&&l(h,f,d)})})}forEach(o){a.each(this.sheets,(l,u)=>{this.forEachInSheet(u,o)})}map(o){const l=[];return this.forEach(u=>{l.push(o(u))}),l}findSheet(o,l){const u=o.sheetName;return this.sheets[u]?this.sheets[u]:l?this.sheets[u]=[]:void 0}findSheetRow(o,l,u){const{row:c}=l;return o&&o[c]?o[c]:u?o[c]=[]:void 0}findRowCell(o,l,u){const{col:c}=l;return o&&o[c]?o[c]:u?o[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,u,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push([]);f.splice(l,u,...h)}}spliceColumns(o,l,u,c){const f=this.sheets[o];if(f){const h=[];for(let d=0;d<c;d++)h.push(null);a.each(f,d=>{d.splice(l,u,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,u,c,f,h,d=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(d=27;d<=702;)u=d-27,c=u%26,f=Math.floor(u/26),l=this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(d=703;d<=16384;)u=d-703,c=u%26,f=Math.floor(u/26)%26,h=Math.floor(u/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[c],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!a.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let u=!1,c="",f=0,h=!1,d="",m=0;for(let p,v=0;v<o.length;v++)if(p=o.charCodeAt(v),!h&&p>=65&&p<=90)u=!0,c+=o[v],f=26*f+p-64;else if(p>=48&&p<=57)h=!0,d+=o[v],m=10*m+p-48;else if(h&&u&&p!==36)break;if(u){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else f=void 0;h||(m=void 0);const g={address:o=c+d,col:f,row:m,$col$row:`$${c}$${d}`};return f<=100&&m<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const u=this.n2l(l)+o;return this.decodeAddress(u)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const u=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),f={top:Math.min(u.row,c.row),left:Math.min(u.col,c.col),bottom:Math.max(u.row,c.row),right:Math.max(u.col,c.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),u=l[1]||l[2],c=l[3],f=c.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),m=this.decodeAddress(f[1]);const g=Math.min(d.row,m.row),p=Math.min(d.col,m.col),v=Math.max(d.row,m.row),y=Math.max(d.col,m.col);return d=this.n2l(p)+g,m=this.n2l(y)+v,{top:g,left:p,bottom:v,right:y,sheetName:u,tl:{address:d,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:u},br:{address:m,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:u},dimensions:`${d}:${m}`}}if(c.startsWith("#"))return u?{sheetName:u,error:c}:{error:c};const h=this.decodeAddress(c);return u?{sheetName:u,...h}:h},encodeAddress:(o,l)=>s.n2l(l)+o,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[u,c,,f,h]=o,[d,m]=l;return d>=u&&d<=f&&m>=c&&m<=h}};n.exports=s},{}],20:[function(r,n,i){const a=(o,l)=>({...o,...l.reduce((u,c)=>(o[c]&&(u[c]={...o[c]}),u),{})}),s=function(o,l,u){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[u]&&(l[u]=a(o[u],c))};i.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const u={...o};return s(o,u,"font",["color"]),s(o,u,"alignment"),s(o,u,"protection"),o.border&&(s(o,u,"border"),s(o.border,u.border,"top",["color"]),s(o.border,u.border,"left",["color"]),s(o.border,u.border,"bottom",["color"]),s(o.border,u.border,"right",["color"]),s(o.border,u.border,"diagonal",["color"])),o.fill&&(s(o,u,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(u.fill.stops=o.fill.stops.map(c=>a(c,["color"])))),u}},{}],21:[function(r,n,i){(function(a){(function(){const s=r("crypto"),o={hash(l){const u=s.createHash(l);for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return u.update(a.concat(f)),u.digest()},convertPasswordToHash(l,u,c,f){if(u=u.toLowerCase(),s.getHashes().indexOf(u)<0)throw new Error(`Hash algorithm '${u}' not supported!`);const h=a.from(l,"utf16le");let d=this.hash(u,a.from(c,"base64"),h);for(let m=0;m<f;m++){const g=a.alloc(4);g.writeUInt32LE(m,0),d=this.hash(u,d,g)}return d.toString("base64")},randomBytes:l=>s.randomBytes(l)};n.exports=o}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:a}=r("saxes"),{PassThrough:s}=r("readable-stream"),{bufferToString:o}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const u=new a;let c;u.on("error",h=>{c=h});let f=[];u.on("opentag",h=>f.push({eventType:"opentag",value:h})),u.on("text",h=>f.push({eventType:"text",value:h})),u.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(u.write(o(h)),c)throw c;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const a=r("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,u,c){const f=a.decode(u),h=a.decode(c);return l.replace(s,(d,m,g,p,v)=>{if(v)return d;const y=o.exec(p);if(y){const b=y[1],x=y[2].toUpperCase(),C=y[3],O=y[4];if(x.length>3||x.length===3&&x>"XFD")return d;let I=a.l2n(x),T=parseInt(O,10);return b||(I+=h.col-f.col),C||(T+=h.row-f.row),(m||"")+(b||"")+a.n2l(I)+(C||"")+T}return d})}}},{"./col-cache":19}],24:[function(r,n,i){(function(a,s){(function(){const o=r("readable-stream"),l=r("./utils"),u=r("./string-buf");class c{constructor(p,v){this._data=p,this._encoding=v}get length(){return this.toBuffer().length}copy(p,v,y,b){return this.toBuffer().copy(p,v,y,b)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,y,b){return this._data._buf.copy(p,v,y,b)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,y,b){this._data.copy(p,v,y,b)}toBuffer(){return this._data}}class d{constructor(p){this.size=p,this.buffer=s.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let v;return p===0?null:p===void 0||p>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=s.alloc(p),this.buffer.copy(v,0,this.iRead,p),this.iRead+=p,v)}write(p,v,y){const b=Math.min(y,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,v,v+b),this.iWrite+=b,b}}const m=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(m,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new d(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(p){return new Promise(v=>{p.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let p=0;const v=g.length;for(;p<v;)p+=this._getWritableBuffer().write(g,p,v-p)},async write(g,p,v){let y;if(p instanceof Function&&(v=p,p="utf8"),v=v||l.nop,g instanceof u)y=new f(g);else if(g instanceof s)y=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new c(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),a.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,v){const y=b=>{b?v(b):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};g?this.write(g,p,y):y()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(g);g-=y.length,p.push(y),v.eod&&v.full&&this.buffers.shift()}return s.concat(p)}return p=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],s.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=m}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(a){(function(){n.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let o=2*this._buf.length;for(;o<s;)o*=2;const l=a.alloc(o);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let o=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+s.length),o=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=o}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:a}=Object.prototype,s=/["&<>]/,o={each:function(l,u){l&&(Array.isArray(l)?l.forEach(u):Object.keys(l).forEach(c=>{u(l[c],c)}))},some:function(l,u){return!!l&&(Array.isArray(l)?l.some(u):Object.keys(l).some(c=>u(l[c],c)))},every:function(l,u){return!l||(Array.isArray(l)?l.every(u):Object.keys(l).every(c=>u(l[c],c)))},map:function(l,u){return l?Array.isArray(l)?l.map(u):Object.keys(l).map(c=>u(l[c],c)):[]},keyBy:(l,u)=>l.reduce((c,f)=>(c[f[u]]=f,c),{}),isEqual:function(l,u){const c=typeof l,f=typeof u,h=Array.isArray(l),d=Array.isArray(u);let m;if(c!==f)return!1;switch(typeof l){case"object":if(h||d)return!(!h||!d)&&l.length===u.length&&l.every((g,p)=>{const v=u[p];return o.isEqual(g,v)});if(l===null||u===null)return l===u;if(m=Object.keys(l),Object.keys(u).length!==m.length)return!1;for(const g of m)if(!u.hasOwnProperty(g))return!1;return o.every(l,(g,p)=>{const v=u[p];return o.isEqual(g,v)});default:return l===u}},escapeHtml(l){const u=s.exec(l);if(!u)return l;let c="",f="",h=0,d=u.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(c+=l.substring(h,d)),h=d+1,c+=f}return h!==d?c+l.substring(h,d):c},strcmp:(l,u)=>l<u?-1:l>u?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:u}=arguments;let c,f,h;function d(m,g){c=l[g],h=Array.isArray(m),o.isObject(m)||h?(h?(h=!1,f=c&&Array.isArray(c)?c:[]):f=c&&o.isObject(c)?c:{},l[g]=o.deepMerge(f,m)):o.isUndefined(m)||(l[g]=m)}for(let m=0;m<u;m++)o.each(arguments[m],d);return l}};n.exports=o},{}],27:[function(r,n,i){(function(a,s){(function(){const o=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,u={nop(){},promiseImmediate:c=>new Promise(f=>{a.setImmediate?s(()=>{f(c)}):setTimeout(()=>{f(c)},1)}),inherits:function(c,f,h,d){c.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(h,g))});const m={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{m[g]=Object.getOwnPropertyDescriptor(d,g)}),c.prototype=Object.create(f.prototype,m)},dateToExcel:(c,f)=>25569+c.getTime()/864e5-(f?1462:0),excelToDate(c,f){const h=Math.round(24*(c-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(c){const f=c.lastIndexOf("/");return{path:c.substring(0,f),name:c.substring(f+1)}},getRelsPath(c){const f=u.parsePath(c);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(c){const f=l.exec(c);if(!f)return c;let h="",d="",m=0,g=f.index;for(;g<c.length;g++){const p=c.charCodeAt(g);switch(p){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){d="";break}continue}m!==g&&(h+=c.substring(m,g)),m=g+1,d&&(h+=d)}return m!==g?h+c.substring(m,g):h},xmlDecode:c=>c.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(c){const f=parseInt(c,10);return Number.isNaN(f)?0:f},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(f=>{o.access(c,o.constants.F_OK,h=>{f(!h)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=u}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const a=r("./under-dash"),s=r("./utils");function o(c,f,h){c.push(` ${f}="${s.xmlEncode(h.toString())}"`)}function l(c,f){if(f){const h=[];a.each(f,(d,m)=>{d!==void 0&&o(h,m,d)}),c.push(h.join(""))}}class u{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,m=this._xml;d&&this.open&&m.push(">"),this._stack.push(f),m.push("<"),m.push(f),l(m,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}u.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=u},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(a){(function(){const s=r("events"),o=r("jszip"),l=r("./stream-buf"),{stringToBuffer:u}=r("./browser-buffer-encode");class c extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=u(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:c}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const a=r("../../utils/parse-sax"),s=r("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(u){}parseText(u){}parseClose(u){}reconcile(u,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(u=>{u instanceof o?u.reset():u.xform&&u.xform.reset()})}mergeModel(u){this.model=Object.assign(this.model||{},u)}async parse(u){for await(const c of u)for(const{eventType:f,value:h}of c)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(u){return this.parse(a(u))}get xml(){return this.toXml(this.model)}toXml(u){const c=new s;return this.render(c,u),c.xml}static toAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u.toString()}static toStringAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toStringValue(u,c){return u===void 0?c:u}static toBoolAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(u===void 0){if(f)return c}else if(f||u!==c)return u?"1":"0"}static toBoolValue(u,c){return u===void 0?c:u==="1"}static toIntAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toIntValue(u,c){return u===void 0?c:parseInt(u,10)}static toFloatAttribute(u,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(u,c,f)}static toFloatValue(u,c){return u===void 0?c:parseFloat(u)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const a=r("../base-xform"),s=r("../../../utils/col-cache");function o(u){try{return s.decodeEx(u),!0}catch{return!1}}function l(u){const c=[];let f=!1,h="";return u.split(",").forEach(d=>{if(!d)return;const m=(d.match(/'/g)||[]).length;if(!m)return void(f?h+=d+",":o(d)&&c.push(d));const g=m%2==0;!f&&g&&o(d)?c.push(d):f&&!g?(f=!1,o(h+d)&&c.push(h+d),h=""):(f=!0,h+=d+",")}),c}n.exports=class extends a{render(u,c){u.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),u.writeText(c.ranges.join(",")),u.closeNode()}parseOpen(u){switch(u.name){case"definedName":return this._parsedName=u.attributes.name,this._parsedLocalSheetId=u.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(u){this._parsedText.push(u)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const a=r("../../../utils/utils"),s=r("../base-xform");n.exports=class extends s{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:a.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const o=this.model={},l=function(c,f,h){const d=f!==void 0?o[c]=f:h;d!==void 0&&(o[c]=d)},u=function(c,f,h){const d=f!==void 0?o[c]=parseInt(f,10):h;d!==void 0&&(o[c]=d)};return u("x",s.attributes.xWindow,0),u("y",s.attributes.yWindow,0),u("width",s.attributes.windowWidth,25e3),u("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),u("activeTab",s.attributes.activeTab,void 0),u("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),l=r("../base-xform"),u=r("../static-xform"),c=r("../list-xform"),f=r("./defined-name-xform"),h=r("./sheet-xform"),d=r("./workbook-view-xform"),m=r("./workbook-properties-xform"),g=r("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new m,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new h}),definedNames:new c({tag:"definedNames",count:!1,childXform:new f}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const b=[];let x=0;y.sheets.forEach(C=>{if(C.pageSetup&&C.pageSetup.printArea&&C.pageSetup.printArea.split("&&").forEach(O=>{const I=O.split(":"),T={name:"_xlnm.Print_Area",ranges:[`'${C.name}'!$${I[0]}:$${I[1]}`],localSheetId:x};b.push(T)}),C.pageSetup&&(C.pageSetup.printTitlesRow||C.pageSetup.printTitlesColumn)){const O=[];if(C.pageSetup.printTitlesColumn){const T=C.pageSetup.printTitlesColumn.split(":");O.push(`'${C.name}'!$${T[0]}:$${T[1]}`)}if(C.pageSetup.printTitlesRow){const T=C.pageSetup.printTitlesRow.split(":");O.push(`'${C.name}'!$${T[0]}:$${T[1]}`)}const I={name:"_xlnm.Print_Titles",ranges:O,localSheetId:x};b.push(I)}x++}),b.length&&(y.definedNames=y.definedNames.concat(b)),(y.media||[]).forEach((C,O)=>{C.name=C.type+(O+1)})}render(y,b){y.openXml(o.StdDocAttributes),y.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,b.properties),this.map.bookViews.render(y,b.views),this.map.sheets.render(y,b.sheets),this.map.definedNames.render(y,b.definedNames),this.map.calcPr.render(y,b.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const b=(y.workbookRels||[]).reduce((T,M)=>(T[M.Id]=M,T),{}),x=[];let C,O=0;(y.sheets||[]).forEach(T=>{const M=b[T.rId];M&&(C=y.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],C&&(C.name=T.name,C.id=T.id,C.state=T.state,x[O++]=C))});const I=[];a.each(y.definedNames,T=>{if(T.name==="_xlnm.Print_Area"){if(C=x[T.localSheetId],C){C.pageSetup||(C.pageSetup={});const M=s.decodeEx(T.ranges[0]);C.pageSetup.printArea=C.pageSetup.printArea?`${C.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(T.name==="_xlnm.Print_Titles"){if(C=x[T.localSheetId],C){C.pageSetup||(C.pageSetup={});const M=T.ranges.join(","),B=/\$/g,L=/\$\d+:\$\d+/,P=M.match(L);if(P&&P.length){const E=P[0];C.pageSetup.printTitlesRow=E.replace(B,"")}const A=/\$[A-Z]+:\$[A-Z]+/,j=M.match(A);if(j&&j.length){const E=j[0];C.pageSetup.printTitlesColumn=E.replace(B,"")}}}else I.push(T)}),y.definedNames=I,y.media.forEach((T,M)=>{T.index=M})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const a=r("../strings/rich-text-xform"),s=r("../../../utils/utils"),o=r("../base-xform"),l=n.exports=function(u){this.model=u};s.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(u,c){c=c||this.model,u.openNode("comment",{ref:c.ref,authorId:0}),u.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(f=>{this.richTextXform.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"comment":return this.model={type:"note",note:{texts:[]},...u.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../../../utils/utils"),o=r("../base-xform"),l=r("./comment-xform"),u=n.exports=function(){this.map={comment:new l}};s.inherits(u,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,f){f=f||this.model,c.openXml(a.StdDocAttributes),c.openNode("comments",u.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const o=Math.floor(s.left),l=Math.floor(68*(s.left-o)),u=Math.floor(s.top),c=Math.floor(18*(s.top-u)),f=Math.floor(s.right),h=Math.floor(68*(s.right-f)),d=Math.floor(s.bottom);return[o,l,u,c,f,h,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const o=s.col,l=Math.max(s.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(s,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const a=r("../base-xform"),s=r("./vml-anchor-xform"),o=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,f){const{protection:h,editAs:d}=f.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,u),this.map["x:SizeWithCells"].render(c,d,u),this.map["x:Anchor"].render(c,f),this.map["x:Locked"].render(c,h.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,h.lockText),c.leafNode("x:Row",null,f.refAddress.row-1),c.leafNode("x:Column",null,f.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(c).length;this.model.editAs=u[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(c,f){c.openXml(a.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(c,h,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,f){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const a=r("../base-xform"),s=r("./vml-textbox-xform"),o=r("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new o}}get tag(){return"v:shape"}render(c,f,h){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,f),this.map["x:ClientData"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(u,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,o,l){return`${parseFloat(s)*o.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(s,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:u}=o.note&&o.note.margins;Array.isArray(u)&&(u=u.map(c=>this.conversionUnit(c,10,"mm")).join(",")),u&&(l.inset=u)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const a=r("./base-xform");n.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,o){this.model[s]=o.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,o.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),u=r("./app-titles-of-parts-xform");class c extends s{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new u}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("Properties",c.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform");class o extends s{render(u,c){u.openXml(a.StdDocAttributes),u.openNode("Types",o.PROPERTY_ATTRIBUTES);const f={};(c.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,u.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),u.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),u.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),u.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;u.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),u.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),u.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&u.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(h=>{u.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(h=>{u.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(u.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(h=>{let{commentName:d}=h;u.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),u.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),u.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),u.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("../simple/date-xform"),l=r("../simple/string-xform"),u=r("../simple/integer-xform");class c extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{render(s,o){s.leafNode("Relationship",o)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new o}}render(c,f){f=f||this._values,c.openXml(a.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,o){if(s&&s.rId){const l=o.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const u=l[1],c=o.mediaIndex[u];return o.media[c]}}}}},{"../base-xform":32}],57:[function(r,n,i){const a=r("../base-xform"),s=r("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(s,o){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const a=r("../base-xform"),s=r("./hlink-click-xform"),o=r("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,u){l.openNode(this.tag,{id:u.index,name:"Picture "+u.index}),this.map["a:hlinkClick"].render(l,u),this.map["a:extLst"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const a=r("../base-xform"),s=r("../simple/integer-xform");n.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const a=r("../../../utils/col-cache"),s=r("../../../utils/xml-stream"),o=r("../base-xform"),l=r("./two-cell-anchor-xform"),u=r("./one-cell-anchor-xform");class c extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new u}}prepare(h){h.anchors.forEach((d,m)=>{d.anchorType=function(g){return(typeof g.range=="string"?a.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:m})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(s.StdDocAttributes),h.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(m=>{this.map[m.anchorType].render(h,m)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(m=>{m.br?this.map["xdr:twoCellAnchor"].reconcile(m,d):this.map["xdr:oneCellAnchor"].reconcile(m,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,o){s.openNode(this.tag);const l=Math.floor(9525*o.width),u=Math.floor(9525*o.height);s.addAttribute("cx",l),s.addAttribute("cy",u),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,o){o.hyperlinks&&o.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const a=r("../base-xform"),s=r("./c-nv-pr-xform"),o=r("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,u){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,u),this.map["xdr:cNvPicPr"].render(l,u),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const a=r("./base-cell-anchor-xform"),s=r("../static-xform"),o=r("./cell-position-xform"),l=r("./ext-xform"),u=r("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,f){this.map["xdr:pic"].prepare(c.picture,f)}render(c,f){c.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,f.range.tl),this.map["xdr:ext"].render(c,f.range.ext),this.map["xdr:pic"].render(c,f.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,f){c.medium=this.reconcilePicture(c.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const a=r("../base-xform"),s=r("../static-xform"),o=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),u=r("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new s(u)}}get tag(){return"xdr:pic"}prepare(c,f){c.index=f.index+1}render(c,f){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,f),this.map["xdr:blipFill"].render(c,f),this.map["xdr:spPr"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const a=r("./base-cell-anchor-xform"),s=r("../static-xform"),o=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(u,c){this.map["xdr:pic"].prepare(u.picture,c)}render(u,c){u.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,c.range.tl),this.map["xdr:to"].render(u,c.range.br),this.map["xdr:pic"].render(u,c.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,c){u.medium=this.reconcilePicture(u.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const a=r("./base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,o){const{childXform:l}=this;s&&s.forEach((u,c)=>{o.index=c,l.prepare(u,o)})}render(s,o){if(this.always||o&&o.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((u,c)=>{l.render(s,u,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,o){if(s){const{childXform:l}=this;s.forEach(u=>{l.reconcile(u,o)})}}}},{"./base-xform":32}],72:[function(r,n,i){const a=r("../../../utils/col-cache"),s=r("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const u=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},c=u(l.from),f=u(l.to);c&&f&&o.leafNode("autoFilter",{ref:`${c}:${f}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const a=r("../../../utils/utils"),s=r("../base-xform"),o=r("../../../doc/range"),l=r("../../../doc/enums"),u=r("../strings/rich-text-xform");function c(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new u}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},function(m){switch(m.type){case l.ValueType.Formula:return c(m.result);default:return m.type}}(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const m=h.formulae[f.sharedFormula];if(!m)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);m.si===void 0?(m.shareType="shared",m.si=h.siFormulae++,m.range=new o(m.address,f.address)):m.range&&m.range.expandToAddress(f.address),f.si=m.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(c(h.result)){case l.ValueType.Null:f.leafNode("f",d,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&a.isDateFmt(d.numFmt)&&(f.type=l.ValueType.Date,f.value=a.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&d&&a.isDateFmt(d.numFmt)&&(f.result=a.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const m=h.hyperlinkMap[f.address];m&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=m);const g=h.commentsMap&&h.commentsMap[f.address];g&&(f.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,o){s.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(s){let{attributes:o}=s;this.model={iconSet:o.iconSet,iconId:a.toIntValue(o.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:a}=r("uuid"),s=r("../../base-xform"),o=r("../../composite-xform"),l=r("./databar-ext-xform"),u=r("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new u}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${a()}}`.toUpperCase())}render(d,m){if(f.isExt(m))switch(m.type){case"dataBar":this.renderDataBar(d,m);break;case"iconSet":this.renderIconSet(d,m)}}renderDataBar(d,m){d.openNode(this.tag,{type:"dataBar",id:m.x14Id}),this.databarXform.render(d,m),d.closeNode()}renderIconSet(d,m){d.openNode(this.tag,{type:"iconSet",priority:m.priority,id:m.x14Id||`{${a()}}`}),this.iconSetXform.render(d,m),d.closeNode()}createNewModel(d){let{attributes:m}=d;return{type:m.type,x14Id:m.id,priority:s.toIntValue(m.priority)}}onParserClose(d,m){Object.assign(this.model,m.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const a=r("../../composite-xform"),s=r("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const a=r("../../composite-xform"),s=r("./sqref-ext-xform"),o=r("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,u){l.rules.forEach(c=>{this.cfRule.prepare(c,u)})}render(l,u){u.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),u.rules.filter(o.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,u.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,u){switch(l){case"xm:sqref":this.model.ref=u.model;break;case"x14:cfRule":this.model.rules.push(u.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const a=r("../../composite-xform"),s=r("./cf-rule-ext-xform"),o=r("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(u=>u.rules.some(s.isExt))),l.hasExtContent}prepare(l,u){l.forEach(c=>{this.cfXform.prepare(c,u)})}render(l,u){this.hasContent(u)&&(l.openNode(this.tag),u.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,u){this.model.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const a=r("../../base-xform"),s=r("../../composite-xform"),o=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(u){return!u.gradient}get tag(){return"x14:dataBar"}render(u,c){u.openNode(this.tag,{minLength:a.toIntAttribute(c.minLength,0,!0),maxLength:a.toIntAttribute(c.maxLength,100,!0),border:a.toBoolAttribute(c.border,!1),gradient:a.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(c.axisPosition,"auto"),direction:a.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),this.borderColorXform.render(u,c.borderColor),this.negativeBorderColorXform.render(u,c.negativeBorderColor),this.negativeFillColorXform.render(u,c.negativeFillColor),this.axisColorXform.render(u,c.axisColor),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],minLength:a.toIntValue(c.minLength,0),maxLength:a.toIntValue(c.maxLength,100),border:a.toBoolValue(c.border,!1),gradient:a.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(c.axisPosition,"auto"),direction:a.toStringValue(c.direction,"leftToRight")}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const a=r("../../base-xform"),s=r("../../composite-xform"),o=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(u,c){u.openNode(this.tag,{iconSet:a.toStringAttribute(c.iconSet),reverse:a.toBoolAttribute(c.reverse,!1),showValue:a.toBoolAttribute(c.showValue,!0),custom:a.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(f=>{this.cfvoXform.render(u,f)}),c.icons&&c.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(u,f)}),u.closeNode()}createNewModel(u){let{attributes:c}=u;return{cfvo:[],iconSet:a.toStringValue(c.iconSet,"3TrafficLights"),reverse:a.toBoolValue(c.reverse,!1),showValue:a.toBoolValue(c.showValue,!0)}}onParserClose(u,c){const[,f]=u.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const a=r("../../base-xform"),s=r("../../composite-xform"),o=r("../../../../doc/range"),l=r("./databar-xform"),u=r("./ext-lst-ref-xform"),c=r("./formula-xform"),f=r("./color-scale-xform"),h=r("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},m=p=>{const{type:v,operator:y}=p;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class g extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new u,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!d[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(b=>{this.formulaXform.render(v,b)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:a.toBoolAttribute(y.percent,!1),bottom:a.toBoolAttribute(y.bottom,!1),rank:a.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:a.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){g.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:a.toStringAttribute(y.operator,"containsText")});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const C=new o(x.ref),{tl:O}=C;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const C=new o(x.ref),{tl:O}=C;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...m(y),dxfId:a.toIntValue(y.dxfId),priority:a.toIntValue(y.priority),timePeriod:y.timePeriod,percent:a.toBoolValue(y.percent),bottom:a.toBoolValue(y.bottom),rank:a.toIntValue(y.rank),aboveAverage:a.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(s,o){s.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const a=r("../../composite-xform"),s=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),u.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const a=r("../../composite-xform"),s=r("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(s.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(u=>{s.isPrimitive(u)&&(u.ref=l.ref,this.map.cfRule.render(o,u))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const a=r("../../base-xform"),s=r("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let u=o.reduce((c,f)=>Math.max(c,...f.rules.map(h=>h.priority||0)),1);o.forEach(c=>{c.rules.forEach(f=>{f.priority||(f.priority=u++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(o,l){l.forEach(u=>{this.cfXform.render(o,u)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(u=>{u.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const a=r("../../composite-xform"),s=r("../../style/color-xform"),o=r("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,u){l.openNode(this.tag),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,u.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,u){switch(l){case"cfvo":this.model.cfvo.push(u.model);break;case"color":this.model.color=u.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const a=r("../../base-xform"),s=r("../../composite-xform");class o extends a{get tag(){return"x14:id"}render(c,f){c.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(c,f){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,f.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(u,c){u.openNode(this.tag),this.map.ext.render(u,c),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const a=r("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(s,o){s.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const a=r("../../base-xform"),s=r("../../composite-xform"),o=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,u){l.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0)}),u.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:u}=l;return{iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse),showValue:a.toBoolValue(u.showValue),cfvo:[]}}onParserClose(l,u){this.model[l].push(u.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const a=r("../../../utils/utils"),s=r("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(o,l){const u=l.styles.addStyleModel(o.style||{});u&&(o.styleId=u)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),a.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),a.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../../../utils/utils"),o=r("../../../utils/col-cache"),l=r("../base-xform"),u=r("../../../doc/range");function c(h,d,m,g){const p=d[m];p!==void 0?h[m]=p:g!==void 0&&(h[m]=g)}function f(h,d,m,g){const p=d[m];p!==void 0&&(h[m]=s.parseBoolean(p))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,d){const m=function(g){const p=a.map(g,(b,x)=>({address:x,dataValidation:b,marked:!1})).sort((b,x)=>a.strcmp(b.address,x.address)),v=a.keyBy(p,"address"),y=(b,x,C)=>{for(let O=0;O<x;O++){const I=o.encodeAddress(b.row+O,C);if(!g[I]||!a.isEqual(g[b.address],g[I]))return!1}return!0};return p.map(b=>{if(!b.marked){const x=o.decodeEx(b.address);if(x.dimensions)return v[x.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let C=1,O=o.encodeAddress(x.row+C,x.col);for(;g[O]&&a.isEqual(b.dataValidation,g[O]);)C++,O=o.encodeAddress(x.row+C,x.col);let I=1;for(;y(x,C,x.col+I);)I++;for(let T=0;T<C;T++)for(let M=0;M<I;M++)O=o.encodeAddress(x.row+T,x.col+M),v[O].marked=!0;if(C>1||I>1){const T=x.row+(C-1),M=x.col+(I-1);return{...b.dataValidation,sqref:`${b.address}:${o.encodeAddress(T,M)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(d);m.length&&(h.openNode("dataValidations",{count:m.length}),m.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,v)=>{h.openNode("formula"+(v+1)),g.type==="date"?h.writeText(s.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,h.attributes,"operator","between")}return c(d,h.attributes,"promptTitle"),c(d,h.attributes,"prompt"),c(d,h.attributes,"errorStyle"),c(d,h.attributes,"errorTitle"),c(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new u(d).forEachAddress(m=>{this.model[m]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(s,o){o&&s.leafNode("dimension",{ref:o})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const a=r("../composite-xform"),s=r("./cf-ext/conditional-formattings-ext-xform");class o extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(u){return this.conditionalFormattings.hasContent(u.conditionalFormattings)}prepare(u,c){this.conditionalFormattings.prepare(u.conditionalFormattings,c)}render(u,c){u.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(u,c.conditionalFormattings),u.closeNode()}createNewModel(){return{}}onParserClose(u,c){this.model[u]=c.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,u){this.ext.prepare(l,u)}hasContent(l){return this.ext.hasContent(l)}render(l,u){this.hasContent(u)&&(l.openNode("extLst"),this.ext.render(l,u),l.closeNode())}createNewModel(){return{}}onParserClose(l,u){Object.assign(this.model,u.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(s,o){if(o){s.addRollback();let l=!1;s.openNode("headerFooter"),o.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(s.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(s.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(s.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(s.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(s.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(s.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(s,o){this.isInternalLink(o)?s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):s.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(s,o){s.leafNode("mergeCell",{ref:o})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../../../doc/range"),o=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{const c=`${u.master}:${u.address}`;this.merges[u.master]=new s(c)}}get mergeCells(){return a.map(this.merges,u=>u.range)}reconcile(u,c){a.each(u,f=>{const h=o.decode(f);for(let d=h.top;d<=h.bottom;d++){const m=c[d-1];for(let g=h.left;g<=h.right;g++){const p=m.cells[g-1];p?p.type===l.ValueType.Merge&&(p.master=h.tl):m.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(d,g)}}}})}getMasterAddress(u){const c=this.hash[u];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const a=r("../base-xform"),s=o=>o!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(o,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:s(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:s(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(s,o){s.leafNode("brk",o)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(o,l){if(l){const u={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(u,c=>c!==void 0)&&o.leafNode(this.tag,u)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,o){return!(!o||!o.fitToPage)&&(s.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../base-xform");function o(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function u(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function c(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:u(h.cellComments),errors:c(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};a.some(d,m=>m!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../base-xform");function o(l){return l?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(l,u){if(u){const c={headings:o(u.showRowColHeaders),gridLines:o(u.showGridLines),horizontalCentered:o(u.horizontalCentered),verticalCentered:o(u.verticalCentered)};a.some(c,f=>f!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const a=r("./page-breaks-xform"),s=r("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:u}=this;l.forEach(c=>{u.render(o,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const a=r("../base-xform"),s=r("../../../utils/utils"),o=r("./cell-xform");n.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,u){const c=u.styles.addStyleModel(l.style);c&&(l.styleId=c);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,u)})}render(l,u,c){l.openNode("row"),l.addAttribute("r",u.number),u.height&&(l.addAttribute("ht",u.height),l.addAttribute("customHeight","1")),u.hidden&&l.addAttribute("hidden","1"),u.min>0&&u.max>0&&u.min<=u.max&&l.addAttribute("spans",`${u.min}:${u.max}`),u.styleId&&(l.addAttribute("s",u.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;u.cells.forEach(h=>{f.render(l,h,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const u=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:u[0],max:u[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,u){l.style=l.styleId?u.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(f=>{c.reconcile(f,u)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(o,l){if(l){const u={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(u.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(u.customHeight="1"),a.some(u,c=>c!==void 0)&&o.leafNode("sheetFormatPr",u)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const a=r("../base-xform"),s=r("../style/color-xform"),o=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(u,c){if(c){u.addRollback(),u.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(u,c.tabColor)||f,f=this.map.pageSetUpPr.render(u,c.pageSetup)||f,f=this.map.outlinePr.render(u,c.outlineProperties)||f,f?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag?(this.reset(),!0):!!this.map[u.name]&&(this.parser=this.map[u.name],this.parser.parseOpen(u),!0)}parseText(u){return!!this.parser&&(this.parser.parseText(u),!0)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../base-xform");function o(u,c){return u?c:void 0}function l(u,c){return u===c||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(u,c){if(c){const f={sheet:o(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:o(c.formatCells,"0"),formatColumns:o(c.formatColumns,"0"),formatRows:o(c.formatRows,"0"),insertColumns:o(c.insertColumns,"0"),insertRows:o(c.insertRows,"0"),insertHyperlinks:o(c.insertHyperlinks,"0"),deleteColumns:o(c.deleteColumns,"0"),deleteRows:o(c.deleteRows,"0"),sort:o(c.sort,"0"),autoFilter:o(c.autoFilter,"0"),pivotTables:o(c.pivotTables,"0")};c.sheet&&(f.algorithmName=c.algorithmName,f.hashValue=c.hashValue,f.saltValue=c.saltValue,f.spinCount=c.spinCount,f.objects=o(c.objects===!1,"1"),f.scenarios=o(c.scenarios===!1,"1")),a.some(f,h=>h!==void 0)&&u.leafNode(this.tag,f)}}parseOpen(u){switch(u.name){case this.tag:return this.model={sheet:l(u.attributes.sheet,"1"),objects:u.attributes.objects!=="1"&&void 0,scenarios:u.attributes.scenarios!=="1"&&void 0,selectLockedCells:u.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:u.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(u.attributes.formatCells,"0"),formatColumns:l(u.attributes.formatColumns,"0"),formatRows:l(u.attributes.formatRows,"0"),insertColumns:l(u.attributes.insertColumns,"0"),insertRows:l(u.attributes.insertRows,"0"),insertHyperlinks:l(u.attributes.insertHyperlinks,"0"),deleteColumns:l(u.attributes.deleteColumns,"0"),deleteRows:l(u.attributes.deleteRows,"0"),sort:l(u.attributes.sort,"0"),autoFilter:l(u.attributes.autoFilter,"0"),pivotTables:l(u.attributes.pivotTables,"0")},u.attributes.algorithmName&&(this.model.algorithmName=u.attributes.algorithmName,this.model.hashValue=u.attributes.hashValue,this.model.saltValue=u.attributes.saltValue,this.model.spinCount=parseInt(u.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const a=r("../../../utils/col-cache"),s=r("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,u){l.openNode("sheetView",{workbookViewId:u.workbookViewId||0});const c=function(g,p,v){v&&l.addAttribute(g,p)};let f,h,d,m;switch(c("rightToLeft","1",u.rightToLeft===!0),c("tabSelected","1",u.tabSelected),c("showRuler","0",u.showRuler===!1),c("showRowColHeaders","0",u.showRowColHeaders===!1),c("showGridLines","0",u.showGridLines===!1),c("zoomScale",u.zoomScale,u.zoomScale),c("zoomScaleNormal",u.zoomScaleNormal,u.zoomScaleNormal),c("view",u.style,u.style),u.state){case"frozen":h=u.xSplit||0,d=u.ySplit||0,f=u.topLeftCell||a.getAddress(d+1,h+1).address,m=(u.xSplit&&u.ySplit?"bottomRight":u.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:f,activePane:m,state:"frozen"}),l.leafNode("selection",{pane:m,activeCell:u.activeCell,sqref:u.activeCell});break;case"split":u.activePane==="topLeft"&&(u.activePane=void 0),l.leafNode("pane",{xSplit:u.xSplit||void 0,ySplit:u.ySplit||void 0,topLeftCell:u.topLeftCell,activePane:u.activePane}),l.leafNode("selection",{pane:u.activePane,activeCell:u.activeCell,sqref:u.activeCell});break;case"normal":u.activeCell&&l.leafNode("selection",{activeCell:u.activeCell,sqref:u.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const u=l.attributes.pane||"topLeft";return this.selections[u]={pane:u,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let u,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(u.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)):(u=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(u.activeCell=c.activeCell),this.sheetView.style&&(u.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(s,o){o&&s.leafNode(this.tag,{"r:id":o.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),l=r("../../rel-type"),u=r("./merges"),c=r("../base-xform"),f=r("../list-xform"),h=r("./row-xform"),d=r("./col-xform"),m=r("./dimension-xform"),g=r("./hyperlink-xform"),p=r("./merge-cell-xform"),v=r("./data-validations-xform"),y=r("./sheet-properties-xform"),b=r("./sheet-format-properties-xform"),x=r("./sheet-view-xform"),C=r("./sheet-protection-xform"),O=r("./page-margins-xform"),I=r("./page-setup-xform"),T=r("./print-options-xform"),M=r("./auto-filter-xform"),B=r("./picture-xform"),L=r("./drawing-xform"),P=r("./table-part-xform"),A=r("./row-breaks-xform"),j=r("./header-footer-xform"),E=r("./cf/conditional-formattings-xform"),w=r("./ext-lst-xform"),S=(k,N)=>{if(!N||!N.length)return k;if(!k||!k.length)return N;const $={},R={};return k.forEach(H=>{$[H.ref]=H,H.rules.forEach(K=>{const{x14Id:J}=K;J&&(R[J]=K)})}),N.forEach(H=>{H.rules.forEach(K=>{const J=R[K.x14Id];J?((V,Z)=>{Object.keys(Z).forEach(z=>{const D=V[z],G=Z[z];D===void 0&&G!==void 0&&(V[z]=G)})})(J,K):$[H.ref]?$[H.ref].rules.push(K):k.push({ref:H.ref,rules:[K]})})}),k};class _ extends c{constructor(N){super();const{maxRows:$,maxCols:R,ignoreNodes:H}=N||{};this.ignoreNodes=H||[],this.map={sheetPr:new y,dimension:new m,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new b,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:R}),maxItems:$}),autoFilter:new M,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new A,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new O,dataValidations:new v,pageSetup:new I,headerFooter:new j,printOptions:new T,picture:new B,drawing:new L,sheetProtection:new C,tableParts:new f({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new E,extLst:new w}}prepare(N,$){$.merges=new u,N.hyperlinks=$.hyperlinks=[],N.comments=$.comments=[],$.formulae={},$.siFormulae=0,this.map.cols.prepare(N.cols,$),this.map.sheetData.prepare(N.rows,$),this.map.conditionalFormatting.prepare(N.conditionalFormattings,$),N.mergeCells=$.merges.mergeCells;const R=N.rels=[];function H(V){return"rId"+(V.length+1)}if(N.hyperlinks.forEach(V=>{const Z=H(R);V.rId=Z,R.push({Id:Z,Type:l.Hyperlink,Target:V.target,TargetMode:"External"})}),N.comments.length>0){const V={Id:H(R),Type:l.Comments,Target:`../comments${N.id}.xml`};R.push(V);const Z={Id:H(R),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${N.id}.vml`};R.push(Z),N.comments.forEach(z=>{z.refAddress=s.decodeAddress(z.ref)}),$.commentRefs.push({commentName:"comments"+N.id,vmlDrawing:"vmlDrawing"+N.id})}const K=[];let J;N.media.forEach(V=>{if(V.type==="background"){const Z=H(R);J=$.media[V.imageId],R.push({Id:Z,Type:l.Image,Target:`../media/${J.name}.${J.extension}`}),N.background={rId:Z},N.image=$.media[V.imageId]}else if(V.type==="image"){let{drawing:Z}=N;J=$.media[V.imageId],Z||(Z=N.drawing={rId:H(R),name:"drawing"+ ++$.drawingsCount,anchors:[],rels:[]},$.drawings.push(Z),R.push({Id:Z.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Z.name}.xml`}));let z=this.preImageId===V.imageId?K[V.imageId]:K[Z.rels.length];z||(z=H(Z.rels),K[Z.rels.length]=z,Z.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const D={picture:{rId:z},range:V.range};if(V.hyperlinks&&V.hyperlinks.hyperlink){const G=H(Z.rels);K[Z.rels.length]=G,D.picture.hyperlinks={tooltip:V.hyperlinks.tooltip,rId:G},Z.rels.push({Id:G,Type:l.Hyperlink,Target:V.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=V.imageId,Z.anchors.push(D)}}),N.tables.forEach(V=>{const Z=H(R);V.rId=Z,R.push({Id:Z,Type:l.Table,Target:"../tables/"+V.target}),V.columns.forEach(z=>{const{style:D}=z;D&&(z.dxfId=$.styles.addDxfStyle(D))})}),this.map.extLst.prepare(N,$)}render(N,$){N.openXml(o.StdDocAttributes),N.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);const R=$.properties?{defaultRowHeight:$.properties.defaultRowHeight,dyDescent:$.properties.dyDescent,outlineLevelCol:$.properties.outlineLevelCol,outlineLevelRow:$.properties.outlineLevelRow}:void 0;$.properties&&$.properties.defaultColWidth&&(R.defaultColWidth=$.properties.defaultColWidth);const H={outlineProperties:$.properties&&$.properties.outlineProperties,tabColor:$.properties&&$.properties.tabColor,pageSetup:$.pageSetup&&$.pageSetup.fitToPage?{fitToPage:$.pageSetup.fitToPage}:void 0},K=$.pageSetup&&$.pageSetup.margins,J={showRowColHeaders:$.pageSetup&&$.pageSetup.showRowColHeaders,showGridLines:$.pageSetup&&$.pageSetup.showGridLines,horizontalCentered:$.pageSetup&&$.pageSetup.horizontalCentered,verticalCentered:$.pageSetup&&$.pageSetup.verticalCentered},V=$.sheetProtection;this.map.sheetPr.render(N,H),this.map.dimension.render(N,$.dimensions),this.map.sheetViews.render(N,$.views),this.map.sheetFormatPr.render(N,R),this.map.cols.render(N,$.cols),this.map.sheetData.render(N,$.rows),this.map.sheetProtection.render(N,V),this.map.autoFilter.render(N,$.autoFilter),this.map.mergeCells.render(N,$.mergeCells),this.map.conditionalFormatting.render(N,$.conditionalFormattings),this.map.dataValidations.render(N,$.dataValidations),this.map.hyperlinks.render(N,$.hyperlinks),this.map.printOptions.render(N,J),this.map.pageMargins.render(N,K),this.map.pageSetup.render(N,$.pageSetup),this.map.headerFooter.render(N,$.headerFooter),this.map.rowBreaks.render(N,$.rowBreaks),this.map.drawing.render(N,$.drawing),this.map.picture.render(N,$.background),this.map.tableParts.render(N,$.tables),this.map.extLst.render(N,$),$.rels&&$.rels.forEach(Z=>{Z.Type===l.VmlDrawing&&N.leafNode("legacyDrawing",{"r:id":Z.Id})}),N.closeNode()}parseOpen(N){return this.parser?(this.parser.parseOpen(N),!0):N.name==="worksheet"?(a.each(this.map,$=>{$.reset()}),!0):(this.map[N.name]&&!this.ignoreNodes.includes(N.name)&&(this.parser=this.map[N.name],this.parser.parseOpen(N)),!0)}parseText(N){this.parser&&this.parser.parseText(N)}parseClose(N){if(this.parser)return this.parser.parseClose(N)||(this.parser=void 0),!0;switch(N){case"worksheet":{const $=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&($.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&($.outlineProperties=this.map.sheetPr.model.outlineProperties);const R={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},H=Object.assign(R,this.map.pageSetup.model,this.map.printOptions.model),K=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:$,views:this.map.sheetViews.model,pageSetup:H,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:K},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(N,$){const R=(N.relationships||[]).reduce((K,J)=>{if(K[J.Id]=J,J.Type===l.Comments&&(N.comments=$.comments[J.Target].comments),J.Type===l.VmlDrawing&&N.comments&&N.comments.length){const V=$.vmlDrawings[J.Target].comments;N.comments.forEach((Z,z)=>{Z.note=Object.assign({},Z.note,V[z])})}return K},{});if($.commentsMap=(N.comments||[]).reduce((K,J)=>(J.ref&&(K[J.ref]=J),K),{}),$.hyperlinkMap=(N.hyperlinks||[]).reduce((K,J)=>(J.rId&&(K[J.address]=R[J.rId].Target),K),{}),$.formulae={},N.rows=N.rows&&N.rows.filter(Boolean)||[],N.rows.forEach(K=>{K.cells=K.cells&&K.cells.filter(Boolean)||[]}),this.map.cols.reconcile(N.cols,$),this.map.sheetData.reconcile(N.rows,$),this.map.conditionalFormatting.reconcile(N.conditionalFormattings,$),N.media=[],N.drawing){const K=R[N.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(K){const J=K[1];$.drawings[J].anchors.forEach(V=>{if(V.medium){const Z={type:"image",imageId:V.medium.index,range:V.range,hyperlinks:V.picture.hyperlinks};N.media.push(Z)}})}}const H=N.background&&R[N.background.rId];if(H){const K=H.Target.split("/media/")[1],J=$.mediaIndex&&$.mediaIndex[K];J!==void 0&&N.media.push({type:"background",imageId:J})}N.tables=(N.tables||[]).map(K=>{const J=R[K.rId];return $.tables[J.Target]}),delete N.relationships,delete N.hyperlinks,delete N.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,o){o&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=s.parse||function(o){return new Date(o)}}render(s,o){o&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(o)):s.writeText(this._format(o)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,o){(o||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,o){o!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,o):s.writeText(o),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const a=r("./base-xform"),s=r("../../utils/xml-stream");n.exports=class extends a{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new s;(function u(c,f){c.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{u(c,h)}),f.t&&c.writeText(f.t),c.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const a=r("./text-xform"),s=r("./rich-text-xform"),o=r("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(l,u){if(l.openNode(this.tag,{sb:u.sb||0,eb:u.eb||0}),u&&u.hasOwnProperty("richText")&&u.richText){const{r:c}=this.map;u.richText.forEach(f=>{c.render(l,f)})}else u&&this.map.t.render(l,u.text);l.closeNode()}parseOpen(l){const{name:u}=l;return this.parser?(this.parser.parseOpen(l),!0):u===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const a=r("./text-xform"),s=r("../style/font-xform"),o=r("../base-xform");class l extends o{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(c,f){f=f||this.model,c.openNode("r"),f.font&&this.fontXform.render(c,f.font),this.textXform.render(c,f.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const a=r("./text-xform"),s=r("./rich-text-xform"),o=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(u){super(),this.model=u,this.map={r:new s,t:new a,rPh:new o}}get tag(){return"si"}render(u,c){u.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(f=>{this.map.r.render(u,f)}):this.map.t.render(u,""):c!=null&&this.map.t.render(u,c),u.closeNode()}parseOpen(u){const{name:c}=u;return this.parser?(this.parser.parseOpen(u),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("./shared-string-xform");n.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let u=this.hash[l];return u===void 0&&(u=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}addRichText(l){const u=this.sharedStringXform.toXml(l);let c=this.rich[u];return c===void 0&&(c=this.rich[u]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,u){u=u||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.count,uniqueCount:u.values.length});const c=this.sharedStringXform;u.values.forEach(f=>{c.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"t"}render(s,o){s.openNode("t"),/^\s|\n|\s$/.test(o)&&s.addAttribute("xml:space","preserve"),s.writeText(o),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const a=r("../../../doc/enums"),s=r("../../../utils/utils"),o=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=s.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=s.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},u={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const f=Math.round(c);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(c){const f=s.validInt(c);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends o{get tag(){return"alignment"}render(c,f){c.addRollback(),c.openNode("alignment");let h=!1;function d(m,g){g&&(c.addAttribute(m,g),h=!0)}d("horizontal",l.horizontal(f.horizontal)),d("vertical",l.vertical(f.vertical)),d("wrapText",!!l.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",l.indent(f.indent)),d("textRotation",u.toXml(f.textRotation)),d("readingOrder",l.readingOrder(f.readingOrder)),c.closeNode(),h?c.commit():c.rollback()}parseOpen(c){const f={};let h=!1;function d(m,g,p){m&&(f[g]=p,h=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",s.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",u.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const a=r("../base-xform"),s=r("../../../utils/utils"),o=r("./color-xform");class l extends a{constructor(c){super(),this.name=c,this.map={color:new o}}get tag(){return this.name}render(c,f,h){const d=f&&f.color||h||this.defaultColor;c.openNode(this.name),f&&f.style&&(c.addAttribute("style",f.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:f}=c.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((u,c)=>(u[c]=!0,u),{}),n.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(u,c){const{color:f}=c;function h(d,m){d&&!d.color&&c.color&&(d={...d,color:c.color}),m.render(u,d,f)}u.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&u.addAttribute("diagonalUp","1"),c.diagonal.down&&u.addAttribute("diagonalDown","1")),h(c.left,this.map.left),h(c.right,this.map.right),h(c.top,this.map.top),h(c.bottom,this.map.bottom),h(c.diagonal,this.map.diagonal),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(u.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(u.attributes.diagonalDown),!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;if(u==="border"){const c=this.model={},f=function(h,d,m){d&&(m&&Object.assign(d,m),c[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,o){return!!o&&(s.openNode(this.name),o.argb?s.addAttribute("rgb",o.argb):o.theme!==void 0?(s.addAttribute("theme",o.theme),o.tint!==void 0&&s.addAttribute("tint",o.tint)):o.indexed!==void 0?s.addAttribute("indexed",o.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const a=r("../base-xform"),s=r("./alignment-xform"),o=r("./border-xform"),l=r("./fill-xform"),u=r("./font-xform"),c=r("./numfmt-xform"),f=r("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new o,fill:new l,font:new u,numFmt:new c,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const m={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,m)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const a=r("../base-xform"),s=r("./color-xform");class o extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const m=this.map.stop;d.stops.forEach(g=>{m.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new u}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return c.validPatternValues[h]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),c.StopXform=o,c.PatternFillXform=l,c.GradientFillXform=u,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const a=r("./color-xform"),s=r("../simple/boolean-xform"),o=r("../simple/integer-xform"),l=r("../simple/string-xform"),u=r("./underline-xform"),c=r("../../../utils/under-dash"),f=r("../base-xform");class h extends f{constructor(m){super(),this.options=m||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(m,g){const{map:p}=this;m.openNode(this.options.tagName),c.each(this.map,(v,y)=>{p[y].xform.render(m,g[v.prop])}),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;if(this.map[m.name])return this.parser=this.map[m.name].xform,this.parser.parseOpen(m);switch(m.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser&&!this.parser.parseClose(m)){const g=this.map[m];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(m){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const a=r("../../../utils/under-dash"),s=r("../../defaultnumformats"),o=r("../base-xform"),l=function(){const c={};return a.each(s,(f,h)=>{f.f&&(c[f.f]=parseInt(h,10))}),c}();class u extends o{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}u.getDefaultFmtId=function(c){return l[c]},u.getDefaultFmtCode=function(c){return s[c]&&s[c].f},n.exports=u},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const a=r("../base-xform"),s={boolean:(o,l)=>o===void 0?l:o};n.exports=class extends a{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let u=!1;function c(f,h){h!==void 0&&(o.addAttribute(f,h),u=!0)}c("locked",s.boolean(l.locked,!0)?void 0:"0"),c("hidden",s.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),u?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},u=!l.locked||l.hidden;this.model=u?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const a=r("../base-xform"),s=r("./alignment-xform"),o=r("./protection-xform");n.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new o}}get tag(){return"xf"}render(l,u){l.openNode("xf",{numFmtId:u.numFmtId||0,fontId:u.fontId||0,fillId:u.fillId||0,borderId:u.borderId||0}),this.xfId&&l.addAttribute("xfId",u.xfId||0),u.numFmtId&&l.addAttribute("applyNumberFormat","1"),u.fontId&&l.addAttribute("applyFont","1"),u.fillId&&l.addAttribute("applyFill","1"),u.borderId&&l.addAttribute("applyBorder","1"),u.alignment&&l.addAttribute("applyAlignment","1"),u.protection&&l.addAttribute("applyProtection","1"),u.alignment&&this.map.alignment.render(l,u.alignment),u.protection&&this.map.protection.render(l,u.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const a=r("../../../doc/enums"),s=r("../../../utils/xml-stream"),o=r("../base-xform"),l=r("../static-xform"),u=r("../list-xform"),c=r("./font-xform"),f=r("./fill-xform"),h=r("./border-xform"),d=r("./numfmt-xform"),m=r("./style-xform"),g=r("./dxf-xform");class p extends o{constructor(y){super(),this.map={numFmts:new u({tag:"numFmts",count:!0,childXform:new d}),fonts:new u({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new u({tag:"fills",count:!0,childXform:new f}),borders:new u({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new u({tag:"cellStyleXfs",count:!0,childXform:new m}),cellXfs:new u({tag:"cellXfs",count:!0,childXform:new m({xfId:!0})}),dxfs:new u({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new d,font:new c,fill:new f,border:new h,style:new m({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,b){b=b||this.model,y.openXml(s.StdDocAttributes),y.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(y.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(x=>{y.writeXml(x)}),y.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(x=>{y.writeXml(x)}),y.closeNode(),y.openNode("fills",{count:b.fills.length}),b.fills.forEach(x=>{y.writeXml(x)}),y.closeNode(),y.openNode("borders",{count:b.borders.length}),b.borders.forEach(x=>{y.writeXml(x)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(x=>{y.writeXml(x)}),y.closeNode()):(this.map.numFmts.render(y,b.numFmts),this.map.fonts.render(y,b.fonts),this.map.fills.render(y,b.fills),this.map.borders.render(y,b.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,b.styles)),p.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,b.dxfs),p.STATIC_XFORMS.tableStyles.render(y),p.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const b=(x,C)=>{C.model&&C.model.length&&(this.model[x]=C.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const x=this.index.numFmt;this.model.numFmts.forEach(C=>{x[C.id]=C.formatCode})}return!1}default:return!0}}addStyleModel(y,b){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const x={};if(b=b||a.ValueType.Number,y.numFmt)x.numFmtId=this._addNumFmtStr(y.numFmt);else switch(b){case a.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(x.fontId=this._addFont(y.font)),y.border&&(x.borderId=this._addBorder(y.border)),y.fill&&(x.fillId=this._addFill(y.fill)),y.alignment&&(x.alignment=y.alignment),y.protection&&(x.protection=y.protection);const C=this._addStyle(x);return this.weakMap&&this.weakMap.set(y,C),C}getStyleModel(y){const b=this.model.styles[y];if(!b)return null;let x=this.index.model[y];if(x)return x;if(x=this.index.model[y]={},b.numFmtId){const O=this.index.numFmt[b.numFmtId]||d.getDefaultFmtCode(b.numFmtId);O&&(x.numFmt=O)}function C(O,I,T){if(T||T===0){const M=I[T];M&&(x[O]=M)}}return C("font",this.model.fonts,b.fontId),C("border",this.model.borders,b.borderId),C("fill",this.model.fills,b.fillId),b.alignment&&(x.alignment=b.alignment),b.protection&&(x.protection=b.protection),x}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const b=this.map.style.toXml(y);let x=this.index.style[b];return x===void 0&&(x=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),x}_addNumFmtStr(y){let b=d.getDefaultFmtId(y);if(b!==void 0||(b=this.index.numFmt[y],b!==void 0))return b;b=this.index.numFmt[y]=164+this.model.numFmts.length;const x=this.map.numFmt.toXml({id:b,formatCode:y});return this.model.numFmts.push(x),b}_addFont(y){const b=this.map.font.toXml(y);let x=this.index.font[b];return x===void 0&&(x=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),x}_addBorder(y){const b=this.map.border.toXml(y);let x=this.index.border[b];return x===void 0&&(x=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),x}_addFill(y){const b=this.map.fill.toXml(y);let x=this.index.fill[b];return x===void 0&&(x=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),x}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const a=r("../base-xform");class s extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,u){if((u=u||this.model)===!0)l.leafNode("u");else{const c=s.Attributes[u];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(r,n,i){const a=r("../base-xform"),s=r("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,u)=>{this.map.filterColumn.prepare(l,{index:u})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(u=>{this.map.filterColumn.render(o,u)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(s,o){s.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const a=r("../base-xform"),s=r("../list-xform"),o=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(u,c){u.colId=c.index.toString()}render(u,c){return c.customFilters?(u.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(u,c.customFilters),u.closeNode(),!0):(u.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{attributes:c}=u;switch(u.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(s,o){s.leafNode(this.tag,{val:o.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(s,o){s.id=o.index+1}render(s,o){return s.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const a=r("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,o){return s.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:o}=s;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const a=r("../../../utils/xml-stream"),s=r("../base-xform"),o=r("../list-xform"),l=r("./auto-filter-xform"),u=r("./table-column-xform"),c=r("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new u}),tableStyleInfo:new c}}prepare(d,m){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,m)}get tag(){return"table"}render(d,m){d.openXml(a.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:m.id,name:m.name,displayName:m.displayName||m.name,ref:m.tableRef,totalsRowCount:m.totalsRow?"1":void 0,totalsRowShown:m.totalsRow?void 0:"1",headerRowCount:m.headerRow?"1":"0"}),this.map.autoFilter.render(d,m),this.map.tableColumns.render(d,m.columns),this.map.tableStyleInfo.render(d,m.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:m,attributes:g}=d;switch(m){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((m,g)=>{this.model.columns[g].filterButton=m.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,m){d.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=m.styles.getDxfStyle(g.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(a,s){(function(){const o=r("fs"),l=r("jszip"),{PassThrough:u}=r("readable-stream"),c=r("../utils/zip-stream"),f=r("../utils/stream-buf"),h=r("../utils/utils"),d=r("../utils/xml-stream"),{bufferToString:m}=r("../utils/browser-buffer-decode"),g=r("./xform/style/styles-xform"),p=r("./xform/core/core-xform"),v=r("./xform/strings/shared-strings-xform"),y=r("./xform/core/relationships-xform"),b=r("./xform/core/content-types-xform"),x=r("./xform/core/app-xform"),C=r("./xform/book/workbook-xform"),O=r("./xform/sheet/worksheet-xform"),I=r("./xform/drawing/drawing-xform"),T=r("./xform/table/table-xform"),M=r("./xform/comment/comments-xform"),B=r("./xform/comment/vml-notes-xform"),L=r("./xml/theme1");class P{constructor(j){this.workbook=j}async readFile(j,E){if(!await h.fs.exists(j))throw new Error("File not found: "+j);const w=o.createReadStream(j);try{const S=await this.read(w,E);return w.close(),S}catch(S){throw w.close(),S}}parseRels(j){return new y().parseStream(j)}parseWorkbook(j){return new C().parseStream(j)}parseSharedStrings(j){return new v().parseStream(j)}reconcile(j,E){const w=new C,S=new O(E),_=new I,k=new T;w.reconcile(j);const N={media:j.media,mediaIndex:j.mediaIndex};Object.keys(j.drawings).forEach(H=>{const K=j.drawings[H],J=j.drawingRels[H];J&&(N.rels=J.reduce((V,Z)=>(V[Z.Id]=Z,V),{}),(K.anchors||[]).forEach(V=>{const Z=V.picture&&V.picture.hyperlinks;Z&&N.rels[Z.rId]&&(Z.hyperlink=N.rels[Z.rId].Target,delete Z.rId)}),_.reconcile(K,N))});const $={styles:j.styles};Object.values(j.tables).forEach(H=>{k.reconcile(H,$)});const R={styles:j.styles,sharedStrings:j.sharedStrings,media:j.media,mediaIndex:j.mediaIndex,date1904:j.properties&&j.properties.date1904,drawings:j.drawings,comments:j.comments,tables:j.tables,vmlDrawings:j.vmlDrawings};j.worksheets.forEach(H=>{H.relationships=j.worksheetRels[H.sheetNo],S.reconcile(H,R)}),delete j.worksheetHash,delete j.worksheetRels,delete j.globalRels,delete j.sharedStrings,delete j.workbookRels,delete j.sheetDefs,delete j.styles,delete j.mediaIndex,delete j.drawings,delete j.drawingRels,delete j.vmlDrawings}async _processWorksheetEntry(j,E,w,S,_){const k=new O(S),N=await k.parseStream(j);N.sheetNo=w,E.worksheetHash[_]=N,E.worksheets.push(N)}async _processCommentEntry(j,E,w){const S=new M,_=await S.parseStream(j);E.comments[`../${w}.xml`]=_}async _processTableEntry(j,E,w){const S=new T,_=await S.parseStream(j);E.tables[`../tables/${w}.xml`]=_}async _processWorksheetRelsEntry(j,E,w){const S=new y,_=await S.parseStream(j);E.worksheetRels[w]=_}async _processMediaEntry(j,E,w){const S=w.lastIndexOf(".");if(S>=1){const _=w.substr(S+1),k=w.substr(0,S);await new Promise((N,$)=>{const R=new f;R.on("finish",()=>{E.mediaIndex[w]=E.media.length,E.mediaIndex[k]=E.media.length;const H={type:"image",name:k,extension:_,buffer:R.toBuffer()};E.media.push(H),N()}),j.on("error",H=>{$(H)}),j.pipe(R)})}}async _processDrawingEntry(j,E,w){const S=new I,_=await S.parseStream(j);E.drawings[w]=_}async _processDrawingRelsEntry(j,E,w){const S=new y,_=await S.parseStream(j);E.drawingRels[w]=_}async _processVmlDrawingEntry(j,E,w){const S=new B,_=await S.parseStream(j);E.vmlDrawings[`../drawings/${w}.vml`]=_}async _processThemeEntry(j,E,w){await new Promise((S,_)=>{const k=new f;j.on("error",_),k.on("error",_),k.on("finish",()=>{E.themes[w]=k.read().toString(),S()}),j.pipe(k)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(j,E){!j[Symbol.asyncIterator]&&j.pipe&&(j=j.pipe(new u));const w=[];for await(const S of j)w.push(S);return this.load(s.concat(w),E)}async load(j,E){let w;w=E&&E.base64?s.from(j.toString(),"base64"):j;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await l.loadAsync(w);for(const k of Object.values(_.files))if(!k.dir){let N,$=k.name;if($[0]==="/"&&($=$.substr(1)),$.match(/xl\/media\//)||$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))N=new u,N.write(await k.async("nodebuffer"));else{let R;N=new u({writableObjectMode:!0,readableObjectMode:!0}),R=a.browser?m(await k.async("nodebuffer")):await k.async("string");const H=16384;for(let K=0;K<R.length;K+=H)N.write(R.substring(K,K+H))}switch(N.end(),$){case"_rels/.rels":S.globalRels=await this.parseRels(N);break;case"xl/workbook.xml":{const R=await this.parseWorkbook(N);S.sheets=R.sheets,S.definedNames=R.definedNames,S.views=R.views,S.properties=R.properties,S.calcProperties=R.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(N);break;case"xl/sharedStrings.xml":S.sharedStrings=new v,await S.sharedStrings.parseStream(N);break;case"xl/styles.xml":S.styles=new g,await S.styles.parseStream(N);break;case"docProps/app.xml":{const R=new x,H=await R.parseStream(N);S.company=H.company,S.manager=H.manager;break}case"docProps/core.xml":{const R=new p,H=await R.parseStream(N);Object.assign(S,H);break}default:{let R=$.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(R){await this._processWorksheetEntry(N,S,R[1],E,$);break}if(R=$.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),R){await this._processWorksheetRelsEntry(N,S,R[1]);break}if(R=$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),R){await this._processThemeEntry(N,S,R[1]);break}if(R=$.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),R){await this._processMediaEntry(N,S,R[1]);break}if(R=$.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),R){await this._processDrawingEntry(N,S,R[1]);break}if(R=$.match(/xl\/(comments\d+)[.]xml/),R){await this._processCommentEntry(N,S,R[1]);break}if(R=$.match(/xl\/tables\/(table\d+)[.]xml/),R){await this._processTableEntry(N,S,R[1]);break}if(R=$.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),R){await this._processDrawingRelsEntry(N,S,R[1]);break}if(R=$.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),R){await this._processVmlDrawingEntry(N,S,R[1]);break}}}}return this.reconcile(S,E),this.workbook.model=S,this.workbook}async addMedia(j,E){await Promise.all(E.media.map(async w=>{if(w.type==="image"){const S=`xl/media/${w.name}.${w.extension}`;if(w.filename){const _=await function(k,N){return new Promise(($,R)=>{o.readFile(k,N,(H,K)=>{H?R(H):$(K)})})}(w.filename);return j.append(_,{name:S})}if(w.buffer)return j.append(w.buffer,{name:S});if(w.base64){const _=w.base64,k=_.substring(_.indexOf(",")+1);return j.append(k,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(j,E){const w=new I,S=new y;E.worksheets.forEach(_=>{const{drawing:k}=_;if(k){w.prepare(k,{});let N=w.toXml(k);j.append(N,{name:`xl/drawings/${k.name}.xml`}),N=S.toXml(k.rels),j.append(N,{name:`xl/drawings/_rels/${k.name}.xml.rels`})}})}addTables(j,E){const w=new T;E.worksheets.forEach(S=>{const{tables:_}=S;_.forEach(k=>{w.prepare(k,{});const N=w.toXml(k);j.append(N,{name:"xl/tables/"+k.target})})})}async addContentTypes(j,E){const w=new b().toXml(E);j.append(w,{name:"[Content_Types].xml"})}async addApp(j,E){const w=new x().toXml(E);j.append(w,{name:"docProps/app.xml"})}async addCore(j,E){const w=new p;j.append(w.toXml(E),{name:"docProps/core.xml"})}async addThemes(j,E){const w=E.themes||{theme1:L};Object.keys(w).forEach(S=>{const _=w[S],k=`xl/theme/${S}.xml`;j.append(_,{name:k})})}async addOfficeRels(j){const E=new y().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);j.append(E,{name:"_rels/.rels"})}async addWorkbookRels(j,E){let w=1;const S=[{Id:"rId"+w++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&S.push({Id:"rId"+w++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(k=>{k.rId="rId"+w++,S.push({Id:k.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${k.id}.xml`})});const _=new y().toXml(S);j.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(j,E){E.sharedStrings&&E.sharedStrings.count&&j.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(j,E){const{xml:w}=E.styles;w&&j.append(w,{name:"xl/styles.xml"})}async addWorkbook(j,E){const w=new C;j.append(w.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(j,E){const w=new O,S=new y,_=new M,k=new B;E.worksheets.forEach(N=>{let $=new d;w.render($,N),j.append($.xml,{name:`xl/worksheets/sheet${N.id}.xml`}),N.rels&&N.rels.length&&($=new d,S.render($,N.rels),j.append($.xml,{name:`xl/worksheets/_rels/sheet${N.id}.xml.rels`})),N.comments.length>0&&($=new d,_.render($,N),j.append($.xml,{name:`xl/comments${N.id}.xml`}),$=new d,k.render($,N),j.append($.xml,{name:`xl/drawings/vmlDrawing${N.id}.vml`}))})}_finalize(j){return new Promise((E,w)=>{j.on("finish",()=>{E(this)}),j.on("error",w),j.finalize()})}prepareModel(j,E){j.creator=j.creator||"ExcelJS",j.lastModifiedBy=j.lastModifiedBy||"ExcelJS",j.created=j.created||new Date,j.modified=j.modified||new Date,j.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,j.useStyles=E.useStyles===void 0||E.useStyles,j.sharedStrings=new v,j.styles=j.useStyles?new g(!0):new g.Mock;const w=new C,S=new O;w.prepare(j);const _={sharedStrings:j.sharedStrings,styles:j.styles,date1904:j.properties.date1904,drawingsCount:0,media:j.media};_.drawings=j.drawings=[],_.commentRefs=j.commentRefs=[];let k=0;j.tables=[],j.worksheets.forEach(N=>{N.tables.forEach($=>{k++,$.target=`table${k}.xml`,$.id=k,j.tables.push($)}),S.prepare(N,_)})}async write(j,E){E=E||{};const{model:w}=this.workbook,S=new c.ZipWriter(E.zip);return S.pipe(j),this.prepareModel(w,E),await this.addContentTypes(S,w),await this.addOfficeRels(S,w),await this.addWorkbookRels(S,w),await this.addWorksheets(S,w),await this.addSharedStrings(S,w),await this.addDrawings(S,w),await this.addTables(S,w),await Promise.all([this.addThemes(S,w),this.addStyles(S,w)]),await this.addMedia(S,w),await Promise.all([this.addApp(S,w),this.addCore(S,w)]),await this.addWorkbook(S,w),this._finalize(S)}writeFile(j,E){const w=o.createWriteStream(j);return new Promise((S,_)=>{w.on("finish",()=>{S()}),w.on("error",k=>{_(k)}),this.write(w,E).then(()=>{w.end()}).catch(k=>{_(k)})})}async writeBuffer(j){const E=new f;return await this.write(E,j),E.read()}}P.RelType=r("./rel-type"),n.exports=P}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=r("stream"),o=r("./formatter");class l extends s.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new o.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(m,g)=>m?(d=!0,h(m)):(g&&g.forEach(p=>{this.push(a.from(p,"utf8"))}),d=!0,h()))}catch(m){if(d)throw m;h(m)}}_flush(c){this.rowFormatter.finish((f,h)=>f?c(f):(h&&h.forEach(d=>{this.push(a.from(d,"utf8"))}),c()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=a(r("lodash.isboolean")),o=a(r("lodash.isnil")),l=a(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(u){this._headers=null,this.formatterOptions=u,u.headers!==null&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");const c=`[${u.delimiter}${l.default(u.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(u){this._headers=u}shouldQuote(u,c){const f=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[u]:this._headers!==null&&f[this._headers[u]]}format(u,c,f){const h=(""+(o.default(u)?"":u)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,f)?this.quoteField(h):h}quoteField(u){const{quote:c}=this.formatterOptions;return`${c}${u}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=a(r("lodash.isfunction")),o=a(r("lodash.isequal")),l=r("./FieldFormatter"),u=r("../types");class c{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return c.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return u.isSyncTransform(h)?(d,m)=>{let g=null;try{g=h(d)}catch(p){return m(p)}return m(null,g)}:(d,m)=>{h(d,m)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(h)}format(h,d){this.callTransformer(h,(m,g)=>{if(m)return d(m);if(!h)return d(null);const p=[];if(g){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const b=this.gatherColumns(g);p.push(this.formatColumns(b,!1))}}return d(null,p)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=c.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?c.isRowHashArray(h)?this.headers.map((d,m)=>{const g=h[m];return g?g[1]:""}):c.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,m)=>h[m]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const m=h.map((p,v)=>this.fieldFormatter.format(p,v,d)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,m].join(""):m}}i.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(a){(function(){var s=Object.create?function(v,y,b,x){x===void 0&&(x=b),Object.defineProperty(v,x,{enumerable:!0,get:function(){return y[b]}})}:function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]},o=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var b in v)b!=="default"&&Object.prototype.hasOwnProperty.call(v,b)&&s(y,v,b);return o(y,v),y},u=function(v,y){for(var b in v)b==="default"||Object.prototype.hasOwnProperty.call(y,b)||s(y,v,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const c=r("util"),f=r("stream"),h=l(r("fs")),d=r("./FormatterOptions"),m=r("./CsvFormatterStream");u(r("./types"),i);var g=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=v=>new m.CsvFormatterStream(new d.FormatterOptions(v)),i.write=(v,y)=>{const b=i.format(y),x=c.promisify((C,O)=>{b.write(C,void 0,O)});return v.reduce((C,O)=>C.then(()=>x(O)),Promise.resolve()).then(()=>b.end()).catch(C=>{b.emit("error",C)}),b},i.writeToStream=(v,y,b)=>i.write(y,b).pipe(v),i.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],x=new f.Writable({write(C,O,I){b.push(C),I()}});return new Promise((C,O)=>{x.on("error",O).on("finish",()=>C(a.concat(b))),i.write(v,y).pipe(x)})},i.writeToString=(v,y)=>i.writeToBuffer(v,y).then(b=>b.toString()),i.writeToPath=(v,y,b)=>{const x=h.createWriteStream(v,{encoding:"utf8"});return i.write(y,b).pipe(x)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(r,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=r("string_decoder"),o=r("stream"),l=r("./transforms"),u=r("./parser");class c extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new u.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,m=new Array(d>1?d-1:0),g=1;g<d;g++)m[g-1]=arguments[g];return super.emit(h,...m)}_transform(h,d,m){if(this.hasHitRowLimit)return m();const g=c.wrapDoneCallback(m);try{const{lines:p}=this,v=p+this.decoder.write(h),y=this.parse(v,!0);return this.processRows(y,g)}catch(p){return g(p)}}_flush(h){const d=c.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const m=this.lines+this.decoder.end(),g=this.parse(m,!1);return this.processRows(g,d)}catch(m){return d(m)}}parse(h,d){if(!h)return[];const{line:m,rows:g}=this.parser.parse(h,d);return this.lines=m,g}processRows(h,d){const m=h.length,g=p=>{const v=x=>x?d(x):p%100!=0?g(p+1):void a(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=m||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=h[p];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(y,(x,C)=>{if(x)return this.rowCount-=1,v(x);if(!C)return v(new Error("expected transform result"));if(C.isValid){if(C.row)return this.pushRow(C.row,v)}else this.emit("data-invalid",C.row,b,C.reason);return v()})};g(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(m,g)=>m?d(m):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(m){d(m)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(m){d(m)}}static wrapDoneCallback(h){let d=!1;return function(m){if(m){if(d)throw m;return d=!0,void h(m)}for(var g=arguments.length,p=new Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];h(...p)}}}i.CsvParserStream=c}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=a(r("lodash.escaperegexp")),o=a(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var u;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(u=this.escape)!==null&&u!==void 0?u:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var a=Object.create?function(g,p,v,y){y===void 0&&(y=v),Object.defineProperty(g,y,{enumerable:!0,get:function(){return p[v]}})}:function(g,p,v,y){y===void 0&&(y=v),g[y]=p[v]},s=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},o=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&a(p,g,v);return s(p,g),p},l=function(g,p){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(p,v)||a(p,g,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const u=o(r("fs")),c=r("stream"),f=r("./ParserOptions"),h=r("./CsvParserStream");l(r("./types"),i);var d=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var m=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return m.ParserOptions}}),i.parse=g=>new h.CsvParserStream(new f.ParserOptions(g)),i.parseStream=(g,p)=>g.pipe(new h.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return u.createReadStream(g).pipe(new h.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(g,p)=>{const v=new c.Readable;return v.push(g),v.push(null),v.pipe(new h.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=r("./Scanner"),s=r("./RowParser"),o=r("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,f){const h=new a.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(c){const f=[];let h=!0;for(;h;)h=this.parseRow(c,f);return{line:c.line,rows:f}}parseWithComments(c){const{parserOptions:f}=this,h=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(o.Token.isTokenComment(d,f)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:h};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:h};c.truncateToCursor()}else if(!this.parseRow(c,h))break;return{line:c.line,rows:h}}parseRow(c,f){if(!c.nextNonSpaceToken)return!1;const h=this.rowParser.parse(c);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=r("./column"),s=r("./Token");i.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new a.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:u}=o,c=o,f=[];let h=this.getStartToken(c,f);for(;h;){if(s.Token.isTokenRowDelimiter(h))return c.advancePastToken(h),!c.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,l)&&u?null:(c.truncateToCursor(),f);if(!this.shouldSkipColumnParse(c,h,f)){const d=this.columnParser.parse(c);if(d===null)return null;f.push(d)}h=c.nextNonSpaceToken}return u?null:(c.truncateToCursor(),f)}getStartToken(o,l){const u=o.nextNonSpaceToken;return u!==null&&s.Token.isTokenDelimiter(u,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):u}shouldSkipColumnParse(o,l,u){const{parserOptions:c}=this;if(s.Token.isTokenDelimiter(l,c)){o.advancePastToken(l);const f=o.nextCharacterToken;if(!o.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,c))return u.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=r("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const u=l.exec(o);if(u==null)return null;const c=u[1],f=this.cursor+(u.index||0);return new a.Token({token:c,startCursor:f,endCursor:f+c.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new a.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=s.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=r("./NonQuotedColumnParser"),s=r("./QuotedColumnParser"),o=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:u}=l;return u!==null&&o.Token.isTokenQuote(u,this.parserOptions)?(l.advanceToToken(u),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=r("./ColumnFormatter"),s=r("../Token");i.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,u=[];let c=o.nextCharacterToken;for(;c&&!s.Token.isTokenDelimiter(c,l)&&!s.Token.isTokenRowDelimiter(c);c=o.nextCharacterToken)u.push(c.token),o.advancePastToken(c);return this.columnFormatter.format(u.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=r("./ColumnFormatter"),s=r("../Token");i.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new a.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:u,col:c}=this.gatherDataBetweenQuotes(o);if(!u){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),c}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let u=!1,c=!1;const f=[];let h=o.nextCharacterToken;for(;!c&&h!==null;h=o.nextCharacterToken){const d=s.Token.isTokenQuote(h,l);if(!u&&d)u=!0;else if(u)if(s.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const m=o.nextCharacterToken;m!==null&&(s.Token.isTokenQuote(m,l)||s.Token.isTokenEscapeCharacter(m,l))?(f.push(m.token),h=m):d?c=!0:f.push(h.token)}else d?c=!0:f.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:c}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:u}=o;if(u){const c=s.Token.isTokenDelimiter(u,l),f=s.Token.isTokenRowDelimiter(u);if(!c&&!f){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${u.token}'. at '${h}`)}o.advanceToToken(u)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var o=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var o=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var u=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return u.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=a(r("lodash.isundefined")),o=a(r("lodash.isfunction")),l=a(r("lodash.uniq")),u=a(r("lodash.groupby"));i.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):o.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,f){return this.shouldMapRow(c)?f(null,this.processRow(c)):f(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&c.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return f.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const f={},{headers:h,headersLength:d}=this;for(let m=0;m<d;m+=1){const g=h[m];if(!s.default(g)){const p=c[m];s.default(p)?f[g]="":f[g]=p}}return f}setHeaders(c){var f;const h=c.filter(d=>!!d);if(l.default(h).length!==h.length){const d=u.default(h),m=Object.keys(d).filter(g=>d[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(m))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=a(r("lodash.isfunction")),o=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return o.isSyncTransform(c)?(f,h)=>{let d=null;try{d=c(f)}catch(m){return h(m)}return h(null,d)}:c}static createValidator(c){return o.isSyncValidate(c)?(f,h)=>{h(null,{row:f,isValid:c(f)})}:(f,h)=>{c(f,(d,m,g)=>d?h(d):h(null,m?{row:f,isValid:m,reason:g}:{row:f,isValid:!1,reason:g}))}}set rowTransform(c){if(!s.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!s.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,f){return this.callTransformer(c,(h,d)=>h?f(h):d?this.callValidator(d,(m,g)=>m?f(m):g&&!g.isValid?f(null,{row:d,isValid:!1,reason:g.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(c,f){return this._rowTransform?this._rowTransform(c,f):f(null,c)}callValidator(c,f){return this._rowValidator?this._rowValidator(c,f):f(null,{row:c,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(r,n,i){const a=i;a.bignum=r("bn.js"),a.define=r("./asn1/api").define,a.base=r("./asn1/base"),a.constants=r("./asn1/constants"),a.decoders=r("./asn1/decoders"),a.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const a=r("./encoders"),s=r("./decoders"),o=r("inherits");function l(u,c){this.name=u,this.body=c,this.decoders={},this.encoders={}}i.define=function(u,c){return new l(u,c)},l.prototype._createNamed=function(u){const c=this.name;function f(h){this._initNamed(h,c)}return o(f,u),f.prototype._initNamed=function(h,d){u.call(this,h,d)},new f(this)},l.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(s[u])),this.decoders[u]},l.prototype.decode=function(u,c,f){return this._getDecoder(c).decode(u,f)},l.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(a[u])),this.encoders[u]},l.prototype.encode=function(u,c,f){return this._getEncoder(c).encode(u,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const a=r("inherits"),s=r("../base/reporter").Reporter,o=r("safer-buffer").Buffer;function l(c,f){s.call(this,f),o.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function u(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return u.isEncoderBuffer(h)||(h=new u(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=o.byteLength(c);else{if(!o.isBuffer(c))return f.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}a(l,s),i.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&o.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(c){const f=new l(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,s.prototype.restore.call(this,c.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+c,this.offset+=c,h},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},i.EncoderBuffer=u,u.isEncoderBuffer=function(c){return c instanceof u?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},u.prototype.join=function(c,f){return c||(c=o.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(c,f),f+=h.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):o.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const a=i;a.Reporter=r("./reporter").Reporter,a.DecoderBuffer=r("./buffer").DecoderBuffer,a.EncoderBuffer=r("./buffer").EncoderBuffer,a.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const a=r("../base/reporter").Reporter,s=r("../base/buffer").EncoderBuffer,o=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function f(d,m,g){const p={};this._baseState=p,p.name=g,p.enc=d,p.parent=m||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,m={};h.forEach(function(p){m[p]=d[p]});const g=new this.constructor(m.parent);return g._baseState=m,g},f.prototype._wrap=function(){const d=this._baseState;c.forEach(function(m){this[m]=function(){const g=new this.constructor(this);return d.children.push(g),g[m].apply(g,arguments)}},this)},f.prototype._init=function(d){const m=this._baseState;l(m.parent===null),d.call(this),m.children=m.children.filter(function(g){return g._baseState.parent===this},this),l.equal(m.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const m=this._baseState,g=d.filter(function(p){return p instanceof this.constructor},this);d=d.filter(function(p){return!(p instanceof this.constructor)},this),g.length!==0&&(l(m.children===null),m.children=g,g.forEach(function(p){p._baseState.parent=this},this)),d.length!==0&&(l(m.args===null),m.args=d,m.reverseArgs=d.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const v={};return Object.keys(p).forEach(function(y){y==(0|y)&&(y|=0);const b=p[y];v[b]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){f.prototype[d]=function(){const m=this._baseState;throw new Error(d+" not implemented for encoding: "+m.enc)}}),u.forEach(function(d){f.prototype[d]=function(){const m=this._baseState,g=Array.prototype.slice.call(arguments);return l(m.tag===null),m.tag=d,this._useArgs(g),this}}),f.prototype.use=function(d){l(d);const m=this._baseState;return l(m.use===null),m.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const m=this._baseState;return l(m.default===null),m.default=d,m.optional=!0,this},f.prototype.explicit=function(d){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.explicit=d,this},f.prototype.implicit=function(d){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,m=Array.prototype.slice.call(arguments);return d.obj=!0,m.length!==0&&this._useArgs(m),this},f.prototype.key=function(d){const m=this._baseState;return l(m.key===null),m.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const m=this._baseState;return l(m.choice===null),m.choice=d,this._useArgs(Object.keys(d).map(function(g){return d[g]})),this},f.prototype.contains=function(d){const m=this._baseState;return l(m.use===null),m.contains=d,this},f.prototype._decode=function(d,m){const g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,m));let p,v=g.default,y=!0,b=null;if(g.key!==null&&(b=d.enterKey(g.key)),g.optional){let x=null;if(g.explicit!==null?x=g.explicit:g.implicit!==null?x=g.implicit:g.tag!==null&&(x=g.tag),x!==null||g.any){if(y=this._peekTag(d,x,g.any),d.isError(y))return y}else{const C=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m),y=!0}catch{y=!1}d.restore(C)}}if(g.obj&&y&&(p=d.enterObject()),y){if(g.explicit!==null){const C=this._decodeTag(d,g.explicit);if(d.isError(C))return C;d=C}const x=d.offset;if(g.use===null&&g.choice===null){let C;g.any&&(C=d.save());const O=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(O))return O;g.any?v=d.raw(C):d=O}if(m&&m.track&&g.tag!==null&&m.track(d.path(),x,d.length,"tagged"),m&&m.track&&g.tag!==null&&m.track(d.path(),d.offset,d.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m)),d.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(C){C._decode(d,m)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const C=new o(v);v=this._getUse(g.contains,d._reporterState.obj)._decode(C,m)}}return g.obj&&y&&(v=d.leaveObject(p)),g.key===null||v===null&&y!==!0?b!==null&&d.exitKey(b):d.leaveKey(b,g.key,v),v},f.prototype._decodeGeneric=function(d,m,g){const p=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(m,d,p.args[0],g):/str$/.test(d)?this._decodeStr(m,d,g):d==="objid"&&p.args?this._decodeObjid(m,p.args[0],p.args[1],g):d==="objid"?this._decodeObjid(m,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(m,d,g):d==="null_"?this._decodeNull(m,g):d==="bool"?this._decodeBool(m,g):d==="objDesc"?this._decodeStr(m,d,g):d==="int"||d==="enum"?this._decodeInt(m,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+d)},f.prototype._getUse=function(d,m){const g=this._baseState;return g.useDecoder=this._use(d,m),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},f.prototype._decodeChoice=function(d,m){const g=this._baseState;let p=null,v=!1;return Object.keys(g.choice).some(function(y){const b=d.save(),x=g.choice[y];try{const C=x._decode(d,m);if(d.isError(C))return!1;p={type:y,value:C},v=!0}catch{return d.restore(b),!1}return!0},this),v?p:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},f.prototype._encode=function(d,m,g){const p=this._baseState;if(p.default!==null&&p.default===d)return;const v=this._encodeValue(d,m,g);return v===void 0||this._skipDefault(v,m,g)?void 0:v},f.prototype._encodeValue=function(d,m,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(d,m||new a);let v=null;if(this.reporter=m,p.optional&&d===void 0){if(p.default===null)return;d=p.default}let y=null,b=!1;if(p.any)v=this._createEncoderBuffer(d);else if(p.choice)v=this._encodeChoice(d,m);else if(p.contains)y=this._getUse(p.contains,g)._encode(d,m),b=!0;else if(p.children)y=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,m,d);if(x._baseState.key===null)return m.error("Child should have a key");const C=m.enterKey(x._baseState.key);if(typeof d!="object")return m.error("Child expected, but input is not object");const O=x._encode(d[x._baseState.key],m,d);return m.leaveKey(C),O},this).filter(function(x){return x}),y=this._createEncoderBuffer(y);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return m.error("Too many args for : "+p.tag);if(!Array.isArray(d))return m.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(C){const O=this._baseState;return this._getUse(O.args[0],d)._encode(C,m)},x))}else p.use!==null?v=this._getUse(p.use,g)._encode(d,m):(y=this._encodePrimitive(p.tag,d),b=!0);if(!p.any&&p.choice===null){const x=p.implicit!==null?p.implicit:p.tag,C=p.implicit===null?"universal":"context";x===null?p.use===null&&m.error("Tag could be omitted only for .use()"):p.use===null&&(v=this._encodeComposite(x,b,C,y))}return p.explicit!==null&&(v=this._encodeComposite(p.explicit,!1,"context",v)),v},f.prototype._encodeChoice=function(d,m){const g=this._baseState,p=g.choice[d.type];return p||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(d.value,m)},f.prototype._encodePrimitive=function(d,m){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(m,d);if(d==="objid"&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(m,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(m,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(m,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(m);if(d==="objDesc")return this._encodeStr(m,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const a=r("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,u){this.path=l,this.rethrow(u)}i.Reporter=s,s.prototype.isError=function(l){return l instanceof o},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const u=this._reporterState;u.obj=l.obj,u.path=u.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const u=this._reporterState;u.path=u.path.slice(0,l-1)},s.prototype.leaveKey=function(l,u,c){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[u]=c)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,u=l.obj;return l.obj={},u},s.prototype.leaveObject=function(l){const u=this._reporterState,c=u.obj;return u.obj=l,c},s.prototype.error=function(l){let u;const c=this._reporterState,f=l instanceof o;if(u=f?l:new o(c.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw u;return f||c.errors.push(u),u},s.prototype.wrapResult=function(l){const u=this._reporterState;return u.options.partial?{result:this.isError(l)?null:l,errors:u.errors}:l},a(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},{inherits:440}],176:[function(r,n,i){function a(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(r,n,i){const a=i;a._reverse=function(s){const o={};return Object.keys(s).forEach(function(l){(0|l)==l&&(l|=0);const u=s[l];o[u]=l}),o},a.der=r("./der")},{"./der":176}],178:[function(r,n,i){const a=r("inherits"),s=r("bn.js"),o=r("../base/buffer").DecoderBuffer,l=r("../base/node"),u=r("../constants/der");function c(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new f,this.tree._init(m.body)}function f(m){l.call(this,"der",m)}function h(m,g){let p=m.readUInt8(g);if(m.isError(p))return p;const v=u.tagClass[p>>6],y=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=m.readUInt8(g),m.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:v,primitive:y,tag:p,tagStr:u.tag[p]}}function d(m,g,p){let v=m.readUInt8(p);if(m.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return m.error("length octect is too long");v=0;for(let b=0;b<y;b++){v<<=8;const x=m.readUInt8(p);if(m.isError(x))return x;v|=x}return v}n.exports=c,c.prototype.decode=function(m,g){return o.isDecoderBuffer(m)||(m=new o(m,g)),this.tree._decode(m,g)},a(f,l),f.prototype._peekTag=function(m,g,p){if(m.isEmpty())return!1;const v=m.save(),y=h(m,'Failed to peek tag: "'+g+'"');return m.isError(y)?y:(m.restore(v),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||p)},f.prototype._decodeTag=function(m,g,p){const v=h(m,'Failed to decode tag of "'+g+'"');if(m.isError(v))return v;let y=d(m,v.primitive,'Failed to get length of "'+g+'"');if(m.isError(y))return y;if(!p&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return m.error('Failed to match tag: "'+g+'"');if(v.primitive||y!==null)return m.skip(y,'Failed to match body of: "'+g+'"');const b=m.save(),x=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(x)?x:(y=m.offset-b.offset,m.restore(b),m.skip(y,'Failed to match body of: "'+g+'"'))},f.prototype._skipUntilEnd=function(m,g){for(;;){const p=h(m,g);if(m.isError(p))return p;const v=d(m,p.primitive,g);if(m.isError(v))return v;let y;if(y=p.primitive||v!==null?m.skip(v):this._skipUntilEnd(m,g),m.isError(y))return y;if(p.tagStr==="end")break}},f.prototype._decodeList=function(m,g,p,v){const y=[];for(;!m.isEmpty();){const b=this._peekTag(m,"end");if(m.isError(b))return b;const x=p.decode(m,"der",v);if(m.isError(x)&&b)break;y.push(x)}return y},f.prototype._decodeStr=function(m,g){if(g==="bitstr"){const p=m.readUInt8();return m.isError(p)?p:{unused:p,data:m.raw()}}if(g==="bmpstr"){const p=m.raw();if(p.length%2==1)return m.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<p.length/2;y++)v+=String.fromCharCode(p.readUInt16BE(2*y));return v}if(g==="numstr"){const p=m.raw().toString("ascii");return this._isNumstr(p)?p:m.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return m.raw();if(g==="printstr"){const p=m.raw().toString("ascii");return this._isPrintstr(p)?p:m.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?m.raw().toString():m.error("Decoding of string type: "+g+" unsupported")},f.prototype._decodeObjid=function(m,g,p){let v;const y=[];let b=0,x=0;for(;!m.isEmpty();)x=m.readUInt8(),b<<=7,b|=127&x,!(128&x)&&(y.push(b),b=0);128&x&&y.push(b);const C=y[0]/40|0,O=y[0]%40;if(v=p?y:[C,O].concat(y.slice(1)),g){let I=g[v.join(" ")];I===void 0&&(I=g[v.join(".")]),I!==void 0&&(v=I)}return v},f.prototype._decodeTime=function(m,g){const p=m.raw().toString();let v,y,b,x,C,O;if(g==="gentime")v=0|p.slice(0,4),y=0|p.slice(4,6),b=0|p.slice(6,8),x=0|p.slice(8,10),C=0|p.slice(10,12),O=0|p.slice(12,14);else{if(g!=="utctime")return m.error("Decoding "+g+" time is not supported yet");v=0|p.slice(0,2),y=0|p.slice(2,4),b=0|p.slice(4,6),x=0|p.slice(6,8),C=0|p.slice(8,10),O=0|p.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,b,x,C,O,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(m){const g=m.readUInt8();return m.isError(g)?g:g!==0},f.prototype._decodeInt=function(m,g){const p=m.raw();let v=new s(p);return g&&(v=g[v.toString(10)]||v),v},f.prototype._use=function(m,g){return typeof m=="function"&&(m=m(g)),m._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const a=i;a.der=r("./der"),a.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const a=r("inherits"),s=r("safer-buffer").Buffer,o=r("./der");function l(u){o.call(this,u),this.enc="pem"}a(l,o),n.exports=l,l.prototype.decode=function(u,c){const f=u.toString().split(/[\r\n]+/g),h=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let m=-1,g=-1;for(let y=0;y<f.length;y++){const b=f[y].match(d);if(b!==null&&b[2]===h){if(m!==-1){if(b[1]!=="END")break;g=y;break}if(b[1]!=="BEGIN")break;m=y}}if(m===-1||g===-1)throw new Error("PEM section not found for: "+h);const p=f.slice(m+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const v=s.from(p,"base64");return o.prototype.decode.call(this,v,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const a=r("inherits"),s=r("safer-buffer").Buffer,o=r("../base/node"),l=r("../constants/der");function u(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){o.call(this,"der",h)}function f(h){return h<10?"0"+h:h}n.exports=u,u.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},a(c,o),c.prototype._encodeComposite=function(h,d,m,g){const p=function(b,x,C,O){let I;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))I=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return O.error("Unknown tag: "+b);I=b}return I>=31?O.error("Multi-octet tag encoding unsupported"):(x||(I|=32),I|=l.tagClassByName[C||"universal"]<<6,I)}(h,d,m,this.reporter);if(g.length<128){const b=s.alloc(2);return b[0]=p,b[1]=g.length,this._createEncoderBuffer([b,g])}let v=1;for(let b=g.length;b>=256;b>>=8)v++;const y=s.alloc(2+v);y[0]=p,y[1]=128|v;for(let b=1+v,x=g.length;x>0;b--,x>>=8)y[b]=255&x;return this._createEncoderBuffer([y,g])},c.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const m=s.alloc(2*h.length);for(let g=0;g<h.length;g++)m.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(m)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(h,d,m){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!m){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let y=0;y<h.length;y++){let b=h[y];for(g++;b>=128;b>>=7)g++}const p=s.alloc(g);let v=p.length-1;for(let y=h.length-1;y>=0;y--){let b=h[y];for(p[v--]=127&b;(b>>=7)>0;)p[v--]=128|127&b}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(h,d){let m;const g=new Date(h);return d==="gentime"?m=[f(g.getUTCFullYear()),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?m=[f(g.getUTCFullYear()%100),f(g.getUTCMonth()+1),f(g.getUTCDate()),f(g.getUTCHours()),f(g.getUTCMinutes()),f(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(m,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!s.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=s.from(p)}if(s.isBuffer(h)){let p=h.length;h.length===0&&p++;const v=s.alloc(p);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let m=1;for(let p=h;p>=256;p>>=8)m++;const g=new Array(m);for(let p=g.length-1;p>=0;p--)g[p]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(s.from(g))},c.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},c.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},c.prototype._skipDefault=function(h,d,m){const g=this._baseState;let p;if(g.default===null)return!1;const v=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,d,m).join()),v.length!==g.defaultBuffer.length)return!1;for(p=0;p<v.length;p++)if(v[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const a=i;a.der=r("./der"),a.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const a=r("inherits"),s=r("./der");function o(l){s.call(this,l),this.enc="pem"}a(o,s),n.exports=o,o.prototype.encode=function(l,u){const c=s.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+u.label+"-----"];for(let h=0;h<c.length;h+=64)f.push(c.slice(h,h+64));return f.push("-----END "+u.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(a,s){function o(A,j){if(!A)throw new Error(j||"Assertion failed")}function l(A,j){A.super_=j;var E=function(){};E.prototype=j.prototype,A.prototype=new E,A.prototype.constructor=A}function u(A,j,E){if(u.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(j!=="le"&&j!=="be"||(E=j,j=10),this._init(A||0,j||10,E||"be"))}var c;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(A,j){var E=A.charCodeAt(j);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function h(A,j,E){var w=f(A,E);return E-1>=j&&(w|=f(A,E-1)<<4),w}function d(A,j,E,w){for(var S=0,_=Math.min(A.length,E),k=j;k<_;k++){var N=A.charCodeAt(k)-48;S*=w,S+=N>=49?N-49+10:N>=17?N-17+10:N}return S}u.isBN=function(A){return A instanceof u||A!==null&&typeof A=="object"&&A.constructor.wordSize===u.wordSize&&Array.isArray(A.words)},u.max=function(A,j){return A.cmp(j)>0?A:j},u.min=function(A,j){return A.cmp(j)<0?A:j},u.prototype._init=function(A,j,E){if(typeof A=="number")return this._initNumber(A,j,E);if(typeof A=="object")return this._initArray(A,j,E);j==="hex"&&(j=16),o(j===(0|j)&&j>=2&&j<=36);var w=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<A.length&&(j===16?this._parseHex(A,w,E):(this._parseBase(A,j,w),E==="le"&&this._initArray(this.toArray(),j,E)))},u.prototype._initNumber=function(A,j,E){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),j,E)},u.prototype._initArray=function(A,j,E){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,_,k=0;if(E==="be")for(w=A.length-1,S=0;w>=0;w-=3)_=A[w]|A[w-1]<<8|A[w-2]<<16,this.words[S]|=_<<k&67108863,this.words[S+1]=_>>>26-k&67108863,(k+=24)>=26&&(k-=26,S++);else if(E==="le")for(w=0,S=0;w<A.length;w+=3)_=A[w]|A[w+1]<<8|A[w+2]<<16,this.words[S]|=_<<k&67108863,this.words[S+1]=_>>>26-k&67108863,(k+=24)>=26&&(k-=26,S++);return this.strip()},u.prototype._parseHex=function(A,j,E){this.length=Math.ceil((A.length-j)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,_=0,k=0;if(E==="be")for(w=A.length-1;w>=j;w-=2)S=h(A,j,w)<<_,this.words[k]|=67108863&S,_>=18?(_-=18,k+=1,this.words[k]|=S>>>26):_+=8;else for(w=(A.length-j)%2==0?j+1:j;w<A.length;w+=2)S=h(A,j,w)<<_,this.words[k]|=67108863&S,_>=18?(_-=18,k+=1,this.words[k]|=S>>>26):_+=8;this.strip()},u.prototype._parseBase=function(A,j,E){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=j)w++;w--,S=S/j|0;for(var _=A.length-E,k=_%w,N=Math.min(_,_-k)+E,$=0,R=E;R<N;R+=w)$=d(A,R,R+w,j),this.imuln(S),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(k!==0){var H=1;for($=d(A,R,A.length,j),R=0;R<k;R++)H*=j;this.imuln(H),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},u.prototype.copy=function(A){A.words=new Array(this.length);for(var j=0;j<this.length;j++)A.words[j]=this.words[j];A.length=this.length,A.negative=this.negative,A.red=this.red},u.prototype.clone=function(){var A=new u(null);return this.copy(A),A},u.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(A,j,E){E.negative=j.negative^A.negative;var w=A.length+j.length|0;E.length=w,w=w-1|0;var S=0|A.words[0],_=0|j.words[0],k=S*_,N=67108863&k,$=k/67108864|0;E.words[0]=N;for(var R=1;R<w;R++){for(var H=$>>>26,K=67108863&$,J=Math.min(R,j.length-1),V=Math.max(0,R-A.length+1);V<=J;V++){var Z=R-V|0;H+=(k=(S=0|A.words[Z])*(_=0|j.words[V])+K)/67108864|0,K=67108863&k}E.words[R]=0|K,$=0|H}return $!==0?E.words[R]=0|$:E.length--,E.strip()}u.prototype.toString=function(A,j){var E;if(j=0|j||1,(A=A||10)===16||A==="hex"){E="";for(var w=0,S=0,_=0;_<this.length;_++){var k=this.words[_],N=(16777215&(k<<w|S)).toString(16);E=(S=k>>>24-w&16777215)!==0||_!==this.length-1?m[6-N.length]+N+E:N+E,(w+=2)>=26&&(w-=26,_--)}for(S!==0&&(E=S.toString(16)+E);E.length%j!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(A===(0|A)&&A>=2&&A<=36){var $=g[A],R=p[A];E="";var H=this.clone();for(H.negative=0;!H.isZero();){var K=H.modn(R).toString(A);E=(H=H.idivn(R)).isZero()?K+E:m[$-K.length]+K+E}for(this.isZero()&&(E="0"+E);E.length%j!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(A,j){return o(c!==void 0),this.toArrayLike(c,A,j)},u.prototype.toArray=function(A,j){return this.toArrayLike(Array,A,j)},u.prototype.toArrayLike=function(A,j,E){var w=this.byteLength(),S=E||Math.max(1,w);o(w<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0"),this.strip();var _,k,N=j==="le",$=new A(S),R=this.clone();if(N){for(k=0;!R.isZero();k++)_=R.andln(255),R.iushrn(8),$[k]=_;for(;k<S;k++)$[k]=0}else{for(k=0;k<S-w;k++)$[k]=0;for(k=0;!R.isZero();k++)_=R.andln(255),R.iushrn(8),$[S-k-1]=_}return $},Math.clz32?u.prototype._countBits=function(A){return 32-Math.clz32(A)}:u.prototype._countBits=function(A){var j=A,E=0;return j>=4096&&(E+=13,j>>>=13),j>=64&&(E+=7,j>>>=7),j>=8&&(E+=4,j>>>=4),j>=2&&(E+=2,j>>>=2),E+j},u.prototype._zeroBits=function(A){if(A===0)return 26;var j=A,E=0;return!(8191&j)&&(E+=13,j>>>=13),!(127&j)&&(E+=7,j>>>=7),!(15&j)&&(E+=4,j>>>=4),!(3&j)&&(E+=2,j>>>=2),!(1&j)&&E++,E},u.prototype.bitLength=function(){var A=this.words[this.length-1],j=this._countBits(A);return 26*(this.length-1)+j},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,j=0;j<this.length;j++){var E=this._zeroBits(this.words[j]);if(A+=E,E!==26)break}return A},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},u.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var j=0;j<A.length;j++)this.words[j]=this.words[j]|A.words[j];return this.strip()},u.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},u.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},u.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},u.prototype.iuand=function(A){var j;j=this.length>A.length?A:this;for(var E=0;E<j.length;E++)this.words[E]=this.words[E]&A.words[E];return this.length=j.length,this.strip()},u.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},u.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},u.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},u.prototype.iuxor=function(A){var j,E;this.length>A.length?(j=this,E=A):(j=A,E=this);for(var w=0;w<E.length;w++)this.words[w]=j.words[w]^E.words[w];if(this!==j)for(;w<j.length;w++)this.words[w]=j.words[w];return this.length=j.length,this.strip()},u.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},u.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},u.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},u.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var j=0|Math.ceil(A/26),E=A%26;this._expand(j),E>0&&j--;for(var w=0;w<j;w++)this.words[w]=67108863&~this.words[w];return E>0&&(this.words[w]=~this.words[w]&67108863>>26-E),this.strip()},u.prototype.notn=function(A){return this.clone().inotn(A)},u.prototype.setn=function(A,j){o(typeof A=="number"&&A>=0);var E=A/26|0,w=A%26;return this._expand(E+1),this.words[E]=j?this.words[E]|1<<w:this.words[E]&~(1<<w),this.strip()},u.prototype.iadd=function(A){var j,E,w;if(this.negative!==0&&A.negative===0)return this.negative=0,j=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,j=this.isub(A),A.negative=1,j._normSign();this.length>A.length?(E=this,w=A):(E=A,w=this);for(var S=0,_=0;_<w.length;_++)j=(0|E.words[_])+(0|w.words[_])+S,this.words[_]=67108863&j,S=j>>>26;for(;S!==0&&_<E.length;_++)j=(0|E.words[_])+S,this.words[_]=67108863&j,S=j>>>26;if(this.length=E.length,S!==0)this.words[this.length]=S,this.length++;else if(E!==this)for(;_<E.length;_++)this.words[_]=E.words[_];return this},u.prototype.add=function(A){var j;return A.negative!==0&&this.negative===0?(A.negative=0,j=this.sub(A),A.negative^=1,j):A.negative===0&&this.negative!==0?(this.negative=0,j=A.sub(this),this.negative=1,j):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},u.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var j=this.iadd(A);return A.negative=1,j._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var E,w,S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(E=this,w=A):(E=A,w=this);for(var _=0,k=0;k<w.length;k++)_=(j=(0|E.words[k])-(0|w.words[k])+_)>>26,this.words[k]=67108863&j;for(;_!==0&&k<E.length;k++)_=(j=(0|E.words[k])+_)>>26,this.words[k]=67108863&j;if(_===0&&k<E.length&&E!==this)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=Math.max(this.length,k),E!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(A){return this.clone().isub(A)};var y=function(A,j,E){var w,S,_,k=A.words,N=j.words,$=E.words,R=0,H=0|k[0],K=8191&H,J=H>>>13,V=0|k[1],Z=8191&V,z=V>>>13,D=0|k[2],G=8191&D,te=D>>>13,ae=0|k[3],se=8191&ae,le=ae>>>13,fe=0|k[4],ie=8191&fe,oe=fe>>>13,be=0|k[5],ve=8191&be,we=be>>>13,Se=0|k[6],Ae=8191&Se,Pe=Se>>>13,Re=0|k[7],Ue=8191&Re,We=Re>>>13,Ke=0|k[8],Qe=8191&Ke,rt=Ke>>>13,dt=0|k[9],Ge=8191&dt,Et=dt>>>13,et=0|N[0],ut=8191&et,ot=et>>>13,xt=0|N[1],wt=8191&xt,_e=xt>>>13,kt=0|N[2],Je=8191&kt,at=kt>>>13,pt=0|N[3],Ve=8191&pt,yt=pt>>>13,Ct=0|N[4],jt=8191&Ct,Xt=Ct>>>13,ar=0|N[5],Ut=8191&ar,vt=ar>>>13,ur=0|N[6],Ft=8191&ur,Ee=ur>>>13,Oe=0|N[7],He=8191&Oe,ft=Oe>>>13,qt=0|N[8],_t=8191&qt,Lt=qt>>>13,Mt=0|N[9],It=8191&Mt,Ht=Mt>>>13;E.negative=A.negative^j.negative,E.length=19;var Ot=(R+(w=Math.imul(K,ut))|0)+((8191&(S=(S=Math.imul(K,ot))+Math.imul(J,ut)|0))<<13)|0;R=((_=Math.imul(J,ot))+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,w=Math.imul(Z,ut),S=(S=Math.imul(Z,ot))+Math.imul(z,ut)|0,_=Math.imul(z,ot);var Zt=(R+(w=w+Math.imul(K,wt)|0)|0)+((8191&(S=(S=S+Math.imul(K,_e)|0)+Math.imul(J,wt)|0))<<13)|0;R=((_=_+Math.imul(J,_e)|0)+(S>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,w=Math.imul(G,ut),S=(S=Math.imul(G,ot))+Math.imul(te,ut)|0,_=Math.imul(te,ot),w=w+Math.imul(Z,wt)|0,S=(S=S+Math.imul(Z,_e)|0)+Math.imul(z,wt)|0,_=_+Math.imul(z,_e)|0;var Sr=(R+(w=w+Math.imul(K,Je)|0)|0)+((8191&(S=(S=S+Math.imul(K,at)|0)+Math.imul(J,Je)|0))<<13)|0;R=((_=_+Math.imul(J,at)|0)+(S>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,w=Math.imul(se,ut),S=(S=Math.imul(se,ot))+Math.imul(le,ut)|0,_=Math.imul(le,ot),w=w+Math.imul(G,wt)|0,S=(S=S+Math.imul(G,_e)|0)+Math.imul(te,wt)|0,_=_+Math.imul(te,_e)|0,w=w+Math.imul(Z,Je)|0,S=(S=S+Math.imul(Z,at)|0)+Math.imul(z,Je)|0,_=_+Math.imul(z,at)|0;var wr=(R+(w=w+Math.imul(K,Ve)|0)|0)+((8191&(S=(S=S+Math.imul(K,yt)|0)+Math.imul(J,Ve)|0))<<13)|0;R=((_=_+Math.imul(J,yt)|0)+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,w=Math.imul(ie,ut),S=(S=Math.imul(ie,ot))+Math.imul(oe,ut)|0,_=Math.imul(oe,ot),w=w+Math.imul(se,wt)|0,S=(S=S+Math.imul(se,_e)|0)+Math.imul(le,wt)|0,_=_+Math.imul(le,_e)|0,w=w+Math.imul(G,Je)|0,S=(S=S+Math.imul(G,at)|0)+Math.imul(te,Je)|0,_=_+Math.imul(te,at)|0,w=w+Math.imul(Z,Ve)|0,S=(S=S+Math.imul(Z,yt)|0)+Math.imul(z,Ve)|0,_=_+Math.imul(z,yt)|0;var Rr=(R+(w=w+Math.imul(K,jt)|0)|0)+((8191&(S=(S=S+Math.imul(K,Xt)|0)+Math.imul(J,jt)|0))<<13)|0;R=((_=_+Math.imul(J,Xt)|0)+(S>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(ve,ut),S=(S=Math.imul(ve,ot))+Math.imul(we,ut)|0,_=Math.imul(we,ot),w=w+Math.imul(ie,wt)|0,S=(S=S+Math.imul(ie,_e)|0)+Math.imul(oe,wt)|0,_=_+Math.imul(oe,_e)|0,w=w+Math.imul(se,Je)|0,S=(S=S+Math.imul(se,at)|0)+Math.imul(le,Je)|0,_=_+Math.imul(le,at)|0,w=w+Math.imul(G,Ve)|0,S=(S=S+Math.imul(G,yt)|0)+Math.imul(te,Ve)|0,_=_+Math.imul(te,yt)|0,w=w+Math.imul(Z,jt)|0,S=(S=S+Math.imul(Z,Xt)|0)+Math.imul(z,jt)|0,_=_+Math.imul(z,Xt)|0;var Br=(R+(w=w+Math.imul(K,Ut)|0)|0)+((8191&(S=(S=S+Math.imul(K,vt)|0)+Math.imul(J,Ut)|0))<<13)|0;R=((_=_+Math.imul(J,vt)|0)+(S>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(Ae,ut),S=(S=Math.imul(Ae,ot))+Math.imul(Pe,ut)|0,_=Math.imul(Pe,ot),w=w+Math.imul(ve,wt)|0,S=(S=S+Math.imul(ve,_e)|0)+Math.imul(we,wt)|0,_=_+Math.imul(we,_e)|0,w=w+Math.imul(ie,Je)|0,S=(S=S+Math.imul(ie,at)|0)+Math.imul(oe,Je)|0,_=_+Math.imul(oe,at)|0,w=w+Math.imul(se,Ve)|0,S=(S=S+Math.imul(se,yt)|0)+Math.imul(le,Ve)|0,_=_+Math.imul(le,yt)|0,w=w+Math.imul(G,jt)|0,S=(S=S+Math.imul(G,Xt)|0)+Math.imul(te,jt)|0,_=_+Math.imul(te,Xt)|0,w=w+Math.imul(Z,Ut)|0,S=(S=S+Math.imul(Z,vt)|0)+Math.imul(z,Ut)|0,_=_+Math.imul(z,vt)|0;var on=(R+(w=w+Math.imul(K,Ft)|0)|0)+((8191&(S=(S=S+Math.imul(K,Ee)|0)+Math.imul(J,Ft)|0))<<13)|0;R=((_=_+Math.imul(J,Ee)|0)+(S>>>13)|0)+(on>>>26)|0,on&=67108863,w=Math.imul(Ue,ut),S=(S=Math.imul(Ue,ot))+Math.imul(We,ut)|0,_=Math.imul(We,ot),w=w+Math.imul(Ae,wt)|0,S=(S=S+Math.imul(Ae,_e)|0)+Math.imul(Pe,wt)|0,_=_+Math.imul(Pe,_e)|0,w=w+Math.imul(ve,Je)|0,S=(S=S+Math.imul(ve,at)|0)+Math.imul(we,Je)|0,_=_+Math.imul(we,at)|0,w=w+Math.imul(ie,Ve)|0,S=(S=S+Math.imul(ie,yt)|0)+Math.imul(oe,Ve)|0,_=_+Math.imul(oe,yt)|0,w=w+Math.imul(se,jt)|0,S=(S=S+Math.imul(se,Xt)|0)+Math.imul(le,jt)|0,_=_+Math.imul(le,Xt)|0,w=w+Math.imul(G,Ut)|0,S=(S=S+Math.imul(G,vt)|0)+Math.imul(te,Ut)|0,_=_+Math.imul(te,vt)|0,w=w+Math.imul(Z,Ft)|0,S=(S=S+Math.imul(Z,Ee)|0)+Math.imul(z,Ft)|0,_=_+Math.imul(z,Ee)|0;var de=(R+(w=w+Math.imul(K,He)|0)|0)+((8191&(S=(S=S+Math.imul(K,ft)|0)+Math.imul(J,He)|0))<<13)|0;R=((_=_+Math.imul(J,ft)|0)+(S>>>13)|0)+(de>>>26)|0,de&=67108863,w=Math.imul(Qe,ut),S=(S=Math.imul(Qe,ot))+Math.imul(rt,ut)|0,_=Math.imul(rt,ot),w=w+Math.imul(Ue,wt)|0,S=(S=S+Math.imul(Ue,_e)|0)+Math.imul(We,wt)|0,_=_+Math.imul(We,_e)|0,w=w+Math.imul(Ae,Je)|0,S=(S=S+Math.imul(Ae,at)|0)+Math.imul(Pe,Je)|0,_=_+Math.imul(Pe,at)|0,w=w+Math.imul(ve,Ve)|0,S=(S=S+Math.imul(ve,yt)|0)+Math.imul(we,Ve)|0,_=_+Math.imul(we,yt)|0,w=w+Math.imul(ie,jt)|0,S=(S=S+Math.imul(ie,Xt)|0)+Math.imul(oe,jt)|0,_=_+Math.imul(oe,Xt)|0,w=w+Math.imul(se,Ut)|0,S=(S=S+Math.imul(se,vt)|0)+Math.imul(le,Ut)|0,_=_+Math.imul(le,vt)|0,w=w+Math.imul(G,Ft)|0,S=(S=S+Math.imul(G,Ee)|0)+Math.imul(te,Ft)|0,_=_+Math.imul(te,Ee)|0,w=w+Math.imul(Z,He)|0,S=(S=S+Math.imul(Z,ft)|0)+Math.imul(z,He)|0,_=_+Math.imul(z,ft)|0;var Ce=(R+(w=w+Math.imul(K,_t)|0)|0)+((8191&(S=(S=S+Math.imul(K,Lt)|0)+Math.imul(J,_t)|0))<<13)|0;R=((_=_+Math.imul(J,Lt)|0)+(S>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,w=Math.imul(Ge,ut),S=(S=Math.imul(Ge,ot))+Math.imul(Et,ut)|0,_=Math.imul(Et,ot),w=w+Math.imul(Qe,wt)|0,S=(S=S+Math.imul(Qe,_e)|0)+Math.imul(rt,wt)|0,_=_+Math.imul(rt,_e)|0,w=w+Math.imul(Ue,Je)|0,S=(S=S+Math.imul(Ue,at)|0)+Math.imul(We,Je)|0,_=_+Math.imul(We,at)|0,w=w+Math.imul(Ae,Ve)|0,S=(S=S+Math.imul(Ae,yt)|0)+Math.imul(Pe,Ve)|0,_=_+Math.imul(Pe,yt)|0,w=w+Math.imul(ve,jt)|0,S=(S=S+Math.imul(ve,Xt)|0)+Math.imul(we,jt)|0,_=_+Math.imul(we,Xt)|0,w=w+Math.imul(ie,Ut)|0,S=(S=S+Math.imul(ie,vt)|0)+Math.imul(oe,Ut)|0,_=_+Math.imul(oe,vt)|0,w=w+Math.imul(se,Ft)|0,S=(S=S+Math.imul(se,Ee)|0)+Math.imul(le,Ft)|0,_=_+Math.imul(le,Ee)|0,w=w+Math.imul(G,He)|0,S=(S=S+Math.imul(G,ft)|0)+Math.imul(te,He)|0,_=_+Math.imul(te,ft)|0,w=w+Math.imul(Z,_t)|0,S=(S=S+Math.imul(Z,Lt)|0)+Math.imul(z,_t)|0,_=_+Math.imul(z,Lt)|0;var qe=(R+(w=w+Math.imul(K,It)|0)|0)+((8191&(S=(S=S+Math.imul(K,Ht)|0)+Math.imul(J,It)|0))<<13)|0;R=((_=_+Math.imul(J,Ht)|0)+(S>>>13)|0)+(qe>>>26)|0,qe&=67108863,w=Math.imul(Ge,wt),S=(S=Math.imul(Ge,_e))+Math.imul(Et,wt)|0,_=Math.imul(Et,_e),w=w+Math.imul(Qe,Je)|0,S=(S=S+Math.imul(Qe,at)|0)+Math.imul(rt,Je)|0,_=_+Math.imul(rt,at)|0,w=w+Math.imul(Ue,Ve)|0,S=(S=S+Math.imul(Ue,yt)|0)+Math.imul(We,Ve)|0,_=_+Math.imul(We,yt)|0,w=w+Math.imul(Ae,jt)|0,S=(S=S+Math.imul(Ae,Xt)|0)+Math.imul(Pe,jt)|0,_=_+Math.imul(Pe,Xt)|0,w=w+Math.imul(ve,Ut)|0,S=(S=S+Math.imul(ve,vt)|0)+Math.imul(we,Ut)|0,_=_+Math.imul(we,vt)|0,w=w+Math.imul(ie,Ft)|0,S=(S=S+Math.imul(ie,Ee)|0)+Math.imul(oe,Ft)|0,_=_+Math.imul(oe,Ee)|0,w=w+Math.imul(se,He)|0,S=(S=S+Math.imul(se,ft)|0)+Math.imul(le,He)|0,_=_+Math.imul(le,ft)|0,w=w+Math.imul(G,_t)|0,S=(S=S+Math.imul(G,Lt)|0)+Math.imul(te,_t)|0,_=_+Math.imul(te,Lt)|0;var Xe=(R+(w=w+Math.imul(Z,It)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ht)|0)+Math.imul(z,It)|0))<<13)|0;R=((_=_+Math.imul(z,Ht)|0)+(S>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,w=Math.imul(Ge,Je),S=(S=Math.imul(Ge,at))+Math.imul(Et,Je)|0,_=Math.imul(Et,at),w=w+Math.imul(Qe,Ve)|0,S=(S=S+Math.imul(Qe,yt)|0)+Math.imul(rt,Ve)|0,_=_+Math.imul(rt,yt)|0,w=w+Math.imul(Ue,jt)|0,S=(S=S+Math.imul(Ue,Xt)|0)+Math.imul(We,jt)|0,_=_+Math.imul(We,Xt)|0,w=w+Math.imul(Ae,Ut)|0,S=(S=S+Math.imul(Ae,vt)|0)+Math.imul(Pe,Ut)|0,_=_+Math.imul(Pe,vt)|0,w=w+Math.imul(ve,Ft)|0,S=(S=S+Math.imul(ve,Ee)|0)+Math.imul(we,Ft)|0,_=_+Math.imul(we,Ee)|0,w=w+Math.imul(ie,He)|0,S=(S=S+Math.imul(ie,ft)|0)+Math.imul(oe,He)|0,_=_+Math.imul(oe,ft)|0,w=w+Math.imul(se,_t)|0,S=(S=S+Math.imul(se,Lt)|0)+Math.imul(le,_t)|0,_=_+Math.imul(le,Lt)|0;var At=(R+(w=w+Math.imul(G,It)|0)|0)+((8191&(S=(S=S+Math.imul(G,Ht)|0)+Math.imul(te,It)|0))<<13)|0;R=((_=_+Math.imul(te,Ht)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Ge,Ve),S=(S=Math.imul(Ge,yt))+Math.imul(Et,Ve)|0,_=Math.imul(Et,yt),w=w+Math.imul(Qe,jt)|0,S=(S=S+Math.imul(Qe,Xt)|0)+Math.imul(rt,jt)|0,_=_+Math.imul(rt,Xt)|0,w=w+Math.imul(Ue,Ut)|0,S=(S=S+Math.imul(Ue,vt)|0)+Math.imul(We,Ut)|0,_=_+Math.imul(We,vt)|0,w=w+Math.imul(Ae,Ft)|0,S=(S=S+Math.imul(Ae,Ee)|0)+Math.imul(Pe,Ft)|0,_=_+Math.imul(Pe,Ee)|0,w=w+Math.imul(ve,He)|0,S=(S=S+Math.imul(ve,ft)|0)+Math.imul(we,He)|0,_=_+Math.imul(we,ft)|0,w=w+Math.imul(ie,_t)|0,S=(S=S+Math.imul(ie,Lt)|0)+Math.imul(oe,_t)|0,_=_+Math.imul(oe,Lt)|0;var nt=(R+(w=w+Math.imul(se,It)|0)|0)+((8191&(S=(S=S+Math.imul(se,Ht)|0)+Math.imul(le,It)|0))<<13)|0;R=((_=_+Math.imul(le,Ht)|0)+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(Ge,jt),S=(S=Math.imul(Ge,Xt))+Math.imul(Et,jt)|0,_=Math.imul(Et,Xt),w=w+Math.imul(Qe,Ut)|0,S=(S=S+Math.imul(Qe,vt)|0)+Math.imul(rt,Ut)|0,_=_+Math.imul(rt,vt)|0,w=w+Math.imul(Ue,Ft)|0,S=(S=S+Math.imul(Ue,Ee)|0)+Math.imul(We,Ft)|0,_=_+Math.imul(We,Ee)|0,w=w+Math.imul(Ae,He)|0,S=(S=S+Math.imul(Ae,ft)|0)+Math.imul(Pe,He)|0,_=_+Math.imul(Pe,ft)|0,w=w+Math.imul(ve,_t)|0,S=(S=S+Math.imul(ve,Lt)|0)+Math.imul(we,_t)|0,_=_+Math.imul(we,Lt)|0;var ct=(R+(w=w+Math.imul(ie,It)|0)|0)+((8191&(S=(S=S+Math.imul(ie,Ht)|0)+Math.imul(oe,It)|0))<<13)|0;R=((_=_+Math.imul(oe,Ht)|0)+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(Ge,Ut),S=(S=Math.imul(Ge,vt))+Math.imul(Et,Ut)|0,_=Math.imul(Et,vt),w=w+Math.imul(Qe,Ft)|0,S=(S=S+Math.imul(Qe,Ee)|0)+Math.imul(rt,Ft)|0,_=_+Math.imul(rt,Ee)|0,w=w+Math.imul(Ue,He)|0,S=(S=S+Math.imul(Ue,ft)|0)+Math.imul(We,He)|0,_=_+Math.imul(We,ft)|0,w=w+Math.imul(Ae,_t)|0,S=(S=S+Math.imul(Ae,Lt)|0)+Math.imul(Pe,_t)|0,_=_+Math.imul(Pe,Lt)|0;var yr=(R+(w=w+Math.imul(ve,It)|0)|0)+((8191&(S=(S=S+Math.imul(ve,Ht)|0)+Math.imul(we,It)|0))<<13)|0;R=((_=_+Math.imul(we,Ht)|0)+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(Ge,Ft),S=(S=Math.imul(Ge,Ee))+Math.imul(Et,Ft)|0,_=Math.imul(Et,Ee),w=w+Math.imul(Qe,He)|0,S=(S=S+Math.imul(Qe,ft)|0)+Math.imul(rt,He)|0,_=_+Math.imul(rt,ft)|0,w=w+Math.imul(Ue,_t)|0,S=(S=S+Math.imul(Ue,Lt)|0)+Math.imul(We,_t)|0,_=_+Math.imul(We,Lt)|0;var nr=(R+(w=w+Math.imul(Ae,It)|0)|0)+((8191&(S=(S=S+Math.imul(Ae,Ht)|0)+Math.imul(Pe,It)|0))<<13)|0;R=((_=_+Math.imul(Pe,Ht)|0)+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(Ge,He),S=(S=Math.imul(Ge,ft))+Math.imul(Et,He)|0,_=Math.imul(Et,ft),w=w+Math.imul(Qe,_t)|0,S=(S=S+Math.imul(Qe,Lt)|0)+Math.imul(rt,_t)|0,_=_+Math.imul(rt,Lt)|0;var lr=(R+(w=w+Math.imul(Ue,It)|0)|0)+((8191&(S=(S=S+Math.imul(Ue,Ht)|0)+Math.imul(We,It)|0))<<13)|0;R=((_=_+Math.imul(We,Ht)|0)+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,w=Math.imul(Ge,_t),S=(S=Math.imul(Ge,Lt))+Math.imul(Et,_t)|0,_=Math.imul(Et,Lt);var Kt=(R+(w=w+Math.imul(Qe,It)|0)|0)+((8191&(S=(S=S+Math.imul(Qe,Ht)|0)+Math.imul(rt,It)|0))<<13)|0;R=((_=_+Math.imul(rt,Ht)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863;var _r=(R+(w=Math.imul(Ge,It))|0)+((8191&(S=(S=Math.imul(Ge,Ht))+Math.imul(Et,It)|0))<<13)|0;return R=((_=Math.imul(Et,Ht))+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,$[0]=Ot,$[1]=Zt,$[2]=Sr,$[3]=wr,$[4]=Rr,$[5]=Br,$[6]=on,$[7]=de,$[8]=Ce,$[9]=qe,$[10]=Xe,$[11]=At,$[12]=nt,$[13]=ct,$[14]=yr,$[15]=nr,$[16]=lr,$[17]=Kt,$[18]=_r,R!==0&&($[19]=R,E.length++),E};function b(A,j,E){return new x().mulp(A,j,E)}function x(A,j){this.x=A,this.y=j}Math.imul||(y=v),u.prototype.mulTo=function(A,j){var E=this.length+A.length;return this.length===10&&A.length===10?y(this,A,j):E<63?v(this,A,j):E<1024?function(w,S,_){_.negative=S.negative^w.negative,_.length=w.length+S.length;for(var k=0,N=0,$=0;$<_.length-1;$++){var R=N;N=0;for(var H=67108863&k,K=Math.min($,S.length-1),J=Math.max(0,$-w.length+1);J<=K;J++){var V=$-J,Z=(0|w.words[V])*(0|S.words[J]),z=67108863&Z;H=67108863&(z=z+H|0),N+=(R=(R=R+(Z/67108864|0)|0)+(z>>>26)|0)>>>26,R&=67108863}_.words[$]=H,k=R,R=N}return k!==0?_.words[$]=k:_.length--,_.strip()}(this,A,j):b(this,A,j)},x.prototype.makeRBT=function(A){for(var j=new Array(A),E=u.prototype._countBits(A)-1,w=0;w<A;w++)j[w]=this.revBin(w,E,A);return j},x.prototype.revBin=function(A,j,E){if(A===0||A===E-1)return A;for(var w=0,S=0;S<j;S++)w|=(1&A)<<j-S-1,A>>=1;return w},x.prototype.permute=function(A,j,E,w,S,_){for(var k=0;k<_;k++)w[k]=j[A[k]],S[k]=E[A[k]]},x.prototype.transform=function(A,j,E,w,S,_){this.permute(_,A,j,E,w,S);for(var k=1;k<S;k<<=1)for(var N=k<<1,$=Math.cos(2*Math.PI/N),R=Math.sin(2*Math.PI/N),H=0;H<S;H+=N)for(var K=$,J=R,V=0;V<k;V++){var Z=E[H+V],z=w[H+V],D=E[H+V+k],G=w[H+V+k],te=K*D-J*G;G=K*G+J*D,D=te,E[H+V]=Z+D,w[H+V]=z+G,E[H+V+k]=Z-D,w[H+V+k]=z-G,V!==N&&(te=$*K-R*J,J=$*J+R*K,K=te)}},x.prototype.guessLen13b=function(A,j){var E=1|Math.max(j,A),w=1&E,S=0;for(E=E/2|0;E;E>>>=1)S++;return 1<<S+1+w},x.prototype.conjugate=function(A,j,E){if(!(E<=1))for(var w=0;w<E/2;w++){var S=A[w];A[w]=A[E-w-1],A[E-w-1]=S,S=j[w],j[w]=-j[E-w-1],j[E-w-1]=-S}},x.prototype.normalize13b=function(A,j){for(var E=0,w=0;w<j/2;w++){var S=8192*Math.round(A[2*w+1]/j)+Math.round(A[2*w]/j)+E;A[w]=67108863&S,E=S<67108864?0:S/67108864|0}return A},x.prototype.convert13b=function(A,j,E,w){for(var S=0,_=0;_<j;_++)S+=0|A[_],E[2*_]=8191&S,S>>>=13,E[2*_+1]=8191&S,S>>>=13;for(_=2*j;_<w;++_)E[_]=0;o(S===0),o((-8192&S)==0)},x.prototype.stub=function(A){for(var j=new Array(A),E=0;E<A;E++)j[E]=0;return j},x.prototype.mulp=function(A,j,E){var w=2*this.guessLen13b(A.length,j.length),S=this.makeRBT(w),_=this.stub(w),k=new Array(w),N=new Array(w),$=new Array(w),R=new Array(w),H=new Array(w),K=new Array(w),J=E.words;J.length=w,this.convert13b(A.words,A.length,k,w),this.convert13b(j.words,j.length,R,w),this.transform(k,_,N,$,w,S),this.transform(R,_,H,K,w,S);for(var V=0;V<w;V++){var Z=N[V]*H[V]-$[V]*K[V];$[V]=N[V]*K[V]+$[V]*H[V],N[V]=Z}return this.conjugate(N,$,w),this.transform(N,$,J,_,w,S),this.conjugate(J,_,w),this.normalize13b(J,w),E.negative=A.negative^j.negative,E.length=A.length+j.length,E.strip()},u.prototype.mul=function(A){var j=new u(null);return j.words=new Array(this.length+A.length),this.mulTo(A,j)},u.prototype.mulf=function(A){var j=new u(null);return j.words=new Array(this.length+A.length),b(this,A,j)},u.prototype.imul=function(A){return this.clone().mulTo(A,this)},u.prototype.imuln=function(A){o(typeof A=="number"),o(A<67108864);for(var j=0,E=0;E<this.length;E++){var w=(0|this.words[E])*A,S=(67108863&w)+(67108863&j);j>>=26,j+=w/67108864|0,j+=S>>>26,this.words[E]=67108863&S}return j!==0&&(this.words[E]=j,this.length++),this},u.prototype.muln=function(A){return this.clone().imuln(A)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(A){var j=function(_){for(var k=new Array(_.bitLength()),N=0;N<k.length;N++){var $=N/26|0,R=N%26;k[N]=(_.words[$]&1<<R)>>>R}return k}(A);if(j.length===0)return new u(1);for(var E=this,w=0;w<j.length&&j[w]===0;w++,E=E.sqr());if(++w<j.length)for(var S=E.sqr();w<j.length;w++,S=S.sqr())j[w]!==0&&(E=E.mul(S));return E},u.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var j,E=A%26,w=(A-E)/26,S=67108863>>>26-E<<26-E;if(E!==0){var _=0;for(j=0;j<this.length;j++){var k=this.words[j]&S,N=(0|this.words[j])-k<<E;this.words[j]=N|_,_=k>>>26-E}_&&(this.words[j]=_,this.length++)}if(w!==0){for(j=this.length-1;j>=0;j--)this.words[j+w]=this.words[j];for(j=0;j<w;j++)this.words[j]=0;this.length+=w}return this.strip()},u.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},u.prototype.iushrn=function(A,j,E){var w;o(typeof A=="number"&&A>=0),w=j?(j-j%26)/26:0;var S=A%26,_=Math.min((A-S)/26,this.length),k=67108863^67108863>>>S<<S,N=E;if(w-=_,w=Math.max(0,w),N){for(var $=0;$<_;$++)N.words[$]=this.words[$];N.length=_}if(_!==0)if(this.length>_)for(this.length-=_,$=0;$<this.length;$++)this.words[$]=this.words[$+_];else this.words[0]=0,this.length=1;var R=0;for($=this.length-1;$>=0&&(R!==0||$>=w);$--){var H=0|this.words[$];this.words[$]=R<<26-S|H>>>S,R=H&k}return N&&R!==0&&(N.words[N.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(A,j,E){return o(this.negative===0),this.iushrn(A,j,E)},u.prototype.shln=function(A){return this.clone().ishln(A)},u.prototype.ushln=function(A){return this.clone().iushln(A)},u.prototype.shrn=function(A){return this.clone().ishrn(A)},u.prototype.ushrn=function(A){return this.clone().iushrn(A)},u.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var j=A%26,E=(A-j)/26,w=1<<j;return!(this.length<=E)&&!!(this.words[E]&w)},u.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var j=A%26,E=(A-j)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(j!==0&&E++,this.length=Math.min(E,this.length),j!==0){var w=67108863^67108863>>>j<<j;this.words[this.length-1]&=w}return this.strip()},u.prototype.maskn=function(A){return this.clone().imaskn(A)},u.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},u.prototype._iaddn=function(A){this.words[0]+=A;for(var j=0;j<this.length&&this.words[j]>=67108864;j++)this.words[j]-=67108864,j===this.length-1?this.words[j+1]=1:this.words[j+1]++;return this.length=Math.max(this.length,j+1),this},u.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var j=0;j<this.length&&this.words[j]<0;j++)this.words[j]+=67108864,this.words[j+1]-=1;return this.strip()},u.prototype.addn=function(A){return this.clone().iaddn(A)},u.prototype.subn=function(A){return this.clone().isubn(A)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(A,j,E){var w,S,_=A.length+E;this._expand(_);var k=0;for(w=0;w<A.length;w++){S=(0|this.words[w+E])+k;var N=(0|A.words[w])*j;k=((S-=67108863&N)>>26)-(N/67108864|0),this.words[w+E]=67108863&S}for(;w<this.length-E;w++)k=(S=(0|this.words[w+E])+k)>>26,this.words[w+E]=67108863&S;if(k===0)return this.strip();for(o(k===-1),k=0,w=0;w<this.length;w++)k=(S=-(0|this.words[w])+k)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},u.prototype._wordDiv=function(A,j){var E=(this.length,A.length),w=this.clone(),S=A,_=0|S.words[S.length-1];(E=26-this._countBits(_))!==0&&(S=S.ushln(E),w.iushln(E),_=0|S.words[S.length-1]);var k,N=w.length-S.length;if(j!=="mod"){(k=new u(null)).length=N+1,k.words=new Array(k.length);for(var $=0;$<k.length;$++)k.words[$]=0}var R=w.clone()._ishlnsubmul(S,1,N);R.negative===0&&(w=R,k&&(k.words[N]=1));for(var H=N-1;H>=0;H--){var K=67108864*(0|w.words[S.length+H])+(0|w.words[S.length+H-1]);for(K=Math.min(K/_|0,67108863),w._ishlnsubmul(S,K,H);w.negative!==0;)K--,w.negative=0,w._ishlnsubmul(S,1,H),w.isZero()||(w.negative^=1);k&&(k.words[H]=K)}return k&&k.strip(),w.strip(),j!=="div"&&E!==0&&w.iushrn(E),{div:k||null,mod:w}},u.prototype.divmod=function(A,j,E){return o(!A.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&A.negative===0?(_=this.neg().divmod(A,j),j!=="mod"&&(w=_.div.neg()),j!=="div"&&(S=_.mod.neg(),E&&S.negative!==0&&S.iadd(A)),{div:w,mod:S}):this.negative===0&&A.negative!==0?(_=this.divmod(A.neg(),j),j!=="mod"&&(w=_.div.neg()),{div:w,mod:_.mod}):this.negative&A.negative?(_=this.neg().divmod(A.neg(),j),j!=="div"&&(S=_.mod.neg(),E&&S.negative!==0&&S.isub(A)),{div:_.div,mod:S}):A.length>this.length||this.cmp(A)<0?{div:new u(0),mod:this}:A.length===1?j==="div"?{div:this.divn(A.words[0]),mod:null}:j==="mod"?{div:null,mod:new u(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new u(this.modn(A.words[0]))}:this._wordDiv(A,j);var w,S,_},u.prototype.div=function(A){return this.divmod(A,"div",!1).div},u.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},u.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},u.prototype.divRound=function(A){var j=this.divmod(A);if(j.mod.isZero())return j.div;var E=j.div.negative!==0?j.mod.isub(A):j.mod,w=A.ushrn(1),S=A.andln(1),_=E.cmp(w);return _<0||S===1&&_===0?j.div:j.div.negative!==0?j.div.isubn(1):j.div.iaddn(1)},u.prototype.modn=function(A){o(A<=67108863);for(var j=(1<<26)%A,E=0,w=this.length-1;w>=0;w--)E=(j*E+(0|this.words[w]))%A;return E},u.prototype.idivn=function(A){o(A<=67108863);for(var j=0,E=this.length-1;E>=0;E--){var w=(0|this.words[E])+67108864*j;this.words[E]=w/A|0,j=w%A}return this.strip()},u.prototype.divn=function(A){return this.clone().idivn(A)},u.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var j=this,E=A.clone();j=j.negative!==0?j.umod(A):j.clone();for(var w=new u(1),S=new u(0),_=new u(0),k=new u(1),N=0;j.isEven()&&E.isEven();)j.iushrn(1),E.iushrn(1),++N;for(var $=E.clone(),R=j.clone();!j.isZero();){for(var H=0,K=1;!(j.words[0]&K)&&H<26;++H,K<<=1);if(H>0)for(j.iushrn(H);H-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd($),S.isub(R)),w.iushrn(1),S.iushrn(1);for(var J=0,V=1;!(E.words[0]&V)&&J<26;++J,V<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd($),k.isub(R)),_.iushrn(1),k.iushrn(1);j.cmp(E)>=0?(j.isub(E),w.isub(_),S.isub(k)):(E.isub(j),_.isub(w),k.isub(S))}return{a:_,b:k,gcd:E.iushln(N)}},u.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var j=this,E=A.clone();j=j.negative!==0?j.umod(A):j.clone();for(var w,S=new u(1),_=new u(0),k=E.clone();j.cmpn(1)>0&&E.cmpn(1)>0;){for(var N=0,$=1;!(j.words[0]&$)&&N<26;++N,$<<=1);if(N>0)for(j.iushrn(N);N-- >0;)S.isOdd()&&S.iadd(k),S.iushrn(1);for(var R=0,H=1;!(E.words[0]&H)&&R<26;++R,H<<=1);if(R>0)for(E.iushrn(R);R-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);j.cmp(E)>=0?(j.isub(E),S.isub(_)):(E.isub(j),_.isub(S))}return(w=j.cmpn(1)===0?S:_).cmpn(0)<0&&w.iadd(A),w},u.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var j=this.clone(),E=A.clone();j.negative=0,E.negative=0;for(var w=0;j.isEven()&&E.isEven();w++)j.iushrn(1),E.iushrn(1);for(;;){for(;j.isEven();)j.iushrn(1);for(;E.isEven();)E.iushrn(1);var S=j.cmp(E);if(S<0){var _=j;j=E,E=_}else if(S===0||E.cmpn(1)===0)break;j.isub(E)}return E.iushln(w)},u.prototype.invm=function(A){return this.egcd(A).a.umod(A)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(A){return this.words[0]&A},u.prototype.bincn=function(A){o(typeof A=="number");var j=A%26,E=(A-j)/26,w=1<<j;if(this.length<=E)return this._expand(E+1),this.words[E]|=w,this;for(var S=w,_=E;S!==0&&_<this.length;_++){var k=0|this.words[_];S=(k+=S)>>>26,k&=67108863,this.words[_]=k}return S!==0&&(this.words[_]=S,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(A){var j,E=A<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)j=1;else{E&&(A=-A),o(A<=67108863,"Number is too big");var w=0|this.words[0];j=w===A?0:w<A?-1:1}return this.negative!==0?0|-j:j},u.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var j=this.ucmp(A);return this.negative!==0?0|-j:j},u.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var j=0,E=this.length-1;E>=0;E--){var w=0|this.words[E],S=0|A.words[E];if(w!==S){w<S?j=-1:w>S&&(j=1);break}}return j},u.prototype.gtn=function(A){return this.cmpn(A)===1},u.prototype.gt=function(A){return this.cmp(A)===1},u.prototype.gten=function(A){return this.cmpn(A)>=0},u.prototype.gte=function(A){return this.cmp(A)>=0},u.prototype.ltn=function(A){return this.cmpn(A)===-1},u.prototype.lt=function(A){return this.cmp(A)===-1},u.prototype.lten=function(A){return this.cmpn(A)<=0},u.prototype.lte=function(A){return this.cmp(A)<=0},u.prototype.eqn=function(A){return this.cmpn(A)===0},u.prototype.eq=function(A){return this.cmp(A)===0},u.red=function(A){return new L(A)},u.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(A){return this.red=A,this},u.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},u.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},u.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},u.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},u.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},u.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},u.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},u.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var C={k256:null,p224:null,p192:null,p25519:null};function O(A,j){this.name=A,this.p=new u(j,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function L(A){if(typeof A=="string"){var j=u._prime(A);this.m=j.p,this.prime=j}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function P(A){L.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var A=new u(null);return A.words=new Array(Math.ceil(this.n/13)),A},O.prototype.ireduce=function(A){var j,E=A;do this.split(E,this.tmp),j=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(j>this.n);var w=j<this.n?-1:E.ucmp(this.p);return w===0?(E.words[0]=0,E.length=1):w>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},O.prototype.split=function(A,j){A.iushrn(this.n,0,j)},O.prototype.imulK=function(A){return A.imul(this.k)},l(I,O),I.prototype.split=function(A,j){for(var E=Math.min(A.length,9),w=0;w<E;w++)j.words[w]=A.words[w];if(j.length=E,A.length<=9)return A.words[0]=0,void(A.length=1);var S=A.words[9];for(j.words[j.length++]=4194303&S,w=10;w<A.length;w++){var _=0|A.words[w];A.words[w-10]=(4194303&_)<<4|S>>>22,S=_}S>>>=22,A.words[w-10]=S,S===0&&A.length>10?A.length-=10:A.length-=9},I.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var j=0,E=0;E<A.length;E++){var w=0|A.words[E];j+=977*w,A.words[E]=67108863&j,j=64*w+(j/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(T,O),l(M,O),l(B,O),B.prototype.imulK=function(A){for(var j=0,E=0;E<A.length;E++){var w=19*(0|A.words[E])+j,S=67108863&w;w>>>=26,A.words[E]=S,j=w}return j!==0&&(A.words[A.length++]=j),A},u._prime=function(A){if(C[A])return C[A];var j;if(A==="k256")j=new I;else if(A==="p224")j=new T;else if(A==="p192")j=new M;else{if(A!=="p25519")throw new Error("Unknown prime "+A);j=new B}return C[A]=j,j},L.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},L.prototype._verify2=function(A,j){o((A.negative|j.negative)==0,"red works only with positives"),o(A.red&&A.red===j.red,"red works only with red numbers")},L.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},L.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},L.prototype.add=function(A,j){this._verify2(A,j);var E=A.add(j);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},L.prototype.iadd=function(A,j){this._verify2(A,j);var E=A.iadd(j);return E.cmp(this.m)>=0&&E.isub(this.m),E},L.prototype.sub=function(A,j){this._verify2(A,j);var E=A.sub(j);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},L.prototype.isub=function(A,j){this._verify2(A,j);var E=A.isub(j);return E.cmpn(0)<0&&E.iadd(this.m),E},L.prototype.shl=function(A,j){return this._verify1(A),this.imod(A.ushln(j))},L.prototype.imul=function(A,j){return this._verify2(A,j),this.imod(A.imul(j))},L.prototype.mul=function(A,j){return this._verify2(A,j),this.imod(A.mul(j))},L.prototype.isqr=function(A){return this.imul(A,A.clone())},L.prototype.sqr=function(A){return this.mul(A,A)},L.prototype.sqrt=function(A){if(A.isZero())return A.clone();var j=this.m.andln(3);if(o(j%2==1),j===3){var E=this.m.add(new u(1)).iushrn(2);return this.pow(A,E)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);o(!w.isZero());var _=new u(1).toRed(this),k=_.redNeg(),N=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new u(2*$*$).toRed(this);this.pow($,N).cmp(k)!==0;)$.redIAdd(k);for(var R=this.pow($,w),H=this.pow(A,w.addn(1).iushrn(1)),K=this.pow(A,w),J=S;K.cmp(_)!==0;){for(var V=K,Z=0;V.cmp(_)!==0;Z++)V=V.redSqr();o(Z<J);var z=this.pow(R,new u(1).iushln(J-Z-1));H=H.redMul(z),R=z.redSqr(),K=K.redMul(R),J=Z}return H},L.prototype.invm=function(A){var j=A._invmp(this.m);return j.negative!==0?(j.negative=0,this.imod(j).redNeg()):this.imod(j)},L.prototype.pow=function(A,j){if(j.isZero())return new u(1).toRed(this);if(j.cmpn(1)===0)return A.clone();var E=new Array(16);E[0]=new u(1).toRed(this),E[1]=A;for(var w=2;w<E.length;w++)E[w]=this.mul(E[w-1],A);var S=E[0],_=0,k=0,N=j.bitLength()%26;for(N===0&&(N=26),w=j.length-1;w>=0;w--){for(var $=j.words[w],R=N-1;R>=0;R--){var H=$>>R&1;S!==E[0]&&(S=this.sqr(S)),H!==0||_!==0?(_<<=1,_|=H,(++k===4||w===0&&R===0)&&(S=this.mul(S,E[_]),k=0,_=0)):k=0}N=26}return S},L.prototype.convertTo=function(A){var j=A.umod(this.m);return j===A?j.clone():j},L.prototype.convertFrom=function(A){var j=A.clone();return j.red=null,j},u.mont=function(A){return new P(A)},l(P,L),P.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},P.prototype.convertFrom=function(A){var j=this.imod(A.mul(this.rinv));return j.red=null,j},P.prototype.imul=function(A,j){if(A.isZero()||j.isZero())return A.words[0]=0,A.length=1,A;var E=A.imul(j),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=E.isub(w).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},P.prototype.mul=function(A,j){if(A.isZero()||j.isZero())return new u(0)._forceRed(this);var E=A.mul(j),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=E.isub(w).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},P.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(d){var m=f(d),g=m[0],p=m[1];return 3*(g+p)/4-p},i.toByteArray=function(d){var m,g,p=f(d),v=p[0],y=p[1],b=new o(function(O,I,T){return 3*(I+T)/4-T}(0,v,y)),x=0,C=y>0?v-4:v;for(g=0;g<C;g+=4)m=s[d.charCodeAt(g)]<<18|s[d.charCodeAt(g+1)]<<12|s[d.charCodeAt(g+2)]<<6|s[d.charCodeAt(g+3)],b[x++]=m>>16&255,b[x++]=m>>8&255,b[x++]=255&m;return y===2&&(m=s[d.charCodeAt(g)]<<2|s[d.charCodeAt(g+1)]>>4,b[x++]=255&m),y===1&&(m=s[d.charCodeAt(g)]<<10|s[d.charCodeAt(g+1)]<<4|s[d.charCodeAt(g+2)]>>2,b[x++]=m>>8&255,b[x++]=255&m),b},i.fromByteArray=function(d){for(var m,g=d.length,p=g%3,v=[],y=0,b=g-p;y<b;y+=16383)v.push(h(d,y,y+16383>b?b:y+16383));return p===1?(m=d[g-1],v.push(a[m>>2]+a[m<<4&63]+"==")):p===2&&(m=(d[g-2]<<8)+d[g-1],v.push(a[m>>10]+a[m>>4&63]+a[m<<2&63]+"=")),v.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)a[u]=l[u],s[l.charCodeAt(u)]=u;function f(d){var m=d.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");return g===-1&&(g=m),[g,g===m?0:4-g%4]}function h(d,m,g){for(var p,v,y=[],b=m;b<g;b+=3)p=(d[b]<<16&16711680)+(d[b+1]<<8&65280)+(255&d[b+2]),y.push(a[(v=p)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return y.join("")}s[45]=62,s[95]=63},{}],186:[function(r,n,i){(function(a,s){function o(E,w){if(!E)throw new Error(w||"Assertion failed")}function l(E,w){E.super_=w;var S=function(){};S.prototype=w.prototype,E.prototype=new S,E.prototype.constructor=E}function u(E,w,S){if(u.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(w!=="le"&&w!=="be"||(S=w,w=10),this._init(E||0,w||10,S||"be"))}var c;typeof a=="object"?a.exports=u:(void 0).BN=u,u.BN=u,u.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(E,w){var S=E.charCodeAt(w);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void o(!1,"Invalid character in "+E)}function h(E,w,S){var _=f(E,S);return S-1>=w&&(_|=f(E,S-1)<<4),_}function d(E,w,S,_){for(var k=0,N=0,$=Math.min(E.length,S),R=w;R<$;R++){var H=E.charCodeAt(R)-48;k*=_,N=H>=49?H-49+10:H>=17?H-17+10:H,o(H>=0&&N<_,"Invalid character"),k+=N}return k}function m(E,w){E.words=w.words,E.length=w.length,E.negative=w.negative,E.red=w.red}if(u.isBN=function(E){return E instanceof u||E!==null&&typeof E=="object"&&E.constructor.wordSize===u.wordSize&&Array.isArray(E.words)},u.max=function(E,w){return E.cmp(w)>0?E:w},u.min=function(E,w){return E.cmp(w)<0?E:w},u.prototype._init=function(E,w,S){if(typeof E=="number")return this._initNumber(E,w,S);if(typeof E=="object")return this._initArray(E,w,S);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var _=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<E.length&&(w===16?this._parseHex(E,_,S):(this._parseBase(E,w,_),S==="le"&&this._initArray(this.toArray(),w,S)))},u.prototype._initNumber=function(E,w,S){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(o(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},u.prototype._initArray=function(E,w,S){if(o(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,N,$=0;if(S==="be")for(_=E.length-1,k=0;_>=0;_-=3)N=E[_]|E[_-1]<<8|E[_-2]<<16,this.words[k]|=N<<$&67108863,this.words[k+1]=N>>>26-$&67108863,($+=24)>=26&&($-=26,k++);else if(S==="le")for(_=0,k=0;_<E.length;_+=3)N=E[_]|E[_+1]<<8|E[_+2]<<16,this.words[k]|=N<<$&67108863,this.words[k+1]=N>>>26-$&67108863,($+=24)>=26&&($-=26,k++);return this._strip()},u.prototype._parseHex=function(E,w,S){this.length=Math.ceil((E.length-w)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,N=0,$=0;if(S==="be")for(_=E.length-1;_>=w;_-=2)k=h(E,w,_)<<N,this.words[$]|=67108863&k,N>=18?(N-=18,$+=1,this.words[$]|=k>>>26):N+=8;else for(_=(E.length-w)%2==0?w+1:w;_<E.length;_+=2)k=h(E,w,_)<<N,this.words[$]|=67108863&k,N>=18?(N-=18,$+=1,this.words[$]|=k>>>26):N+=8;this._strip()},u.prototype._parseBase=function(E,w,S){this.words=[0],this.length=1;for(var _=0,k=1;k<=67108863;k*=w)_++;_--,k=k/w|0;for(var N=E.length-S,$=N%_,R=Math.min(N,N-$)+S,H=0,K=S;K<R;K+=_)H=d(E,K,K+_,w),this.imuln(k),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if($!==0){var J=1;for(H=d(E,K,E.length,w),K=0;K<$;K++)J*=w;this.imuln(J),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},u.prototype.copy=function(E){E.words=new Array(this.length);for(var w=0;w<this.length;w++)E.words[w]=this.words[w];E.length=this.length,E.negative=this.negative,E.red=this.red},u.prototype._move=function(E){m(E,this)},u.prototype.clone=function(){var E=new u(null);return this.copy(E),E},u.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{u.prototype.inspect=g}else u.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(E,w){var S;if(w=0|w||1,(E=E||10)===16||E==="hex"){S="";for(var _=0,k=0,N=0;N<this.length;N++){var $=this.words[N],R=(16777215&($<<_|k)).toString(16);k=$>>>24-_&16777215,(_+=2)>=26&&(_-=26,N--),S=k!==0||N!==this.length-1?p[6-R.length]+R+S:R+S}for(k!==0&&(S=k.toString(16)+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(E===(0|E)&&E>=2&&E<=36){var H=v[E],K=y[E];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var V=J.modrn(K).toString(E);S=(J=J.idivn(K)).isZero()?V+S:p[H-V.length]+V+S}for(this.isZero()&&(S="0"+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},u.prototype.toJSON=function(){return this.toString(16,2)},c&&(u.prototype.toBuffer=function(E,w){return this.toArrayLike(c,E,w)}),u.prototype.toArray=function(E,w){return this.toArrayLike(Array,E,w)};function b(E,w,S){S.negative=w.negative^E.negative;var _=E.length+w.length|0;S.length=_,_=_-1|0;var k=0|E.words[0],N=0|w.words[0],$=k*N,R=67108863&$,H=$/67108864|0;S.words[0]=R;for(var K=1;K<_;K++){for(var J=H>>>26,V=67108863&H,Z=Math.min(K,w.length-1),z=Math.max(0,K-E.length+1);z<=Z;z++){var D=K-z|0;J+=($=(k=0|E.words[D])*(N=0|w.words[z])+V)/67108864|0,V=67108863&$}S.words[K]=0|V,H=0|J}return H!==0?S.words[K]=0|H:S.length--,S._strip()}u.prototype.toArrayLike=function(E,w,S){this._strip();var _=this.byteLength(),k=S||Math.max(1,_);o(_<=k,"byte array longer than desired length"),o(k>0,"Requested array length <= 0");var N=function($,R){return $.allocUnsafe?$.allocUnsafe(R):new $(R)}(E,k);return this["_toArrayLike"+(w==="le"?"LE":"BE")](N,_),N},u.prototype._toArrayLikeLE=function(E,w){for(var S=0,_=0,k=0,N=0;k<this.length;k++){var $=this.words[k]<<N|_;E[S++]=255&$,S<E.length&&(E[S++]=$>>8&255),S<E.length&&(E[S++]=$>>16&255),N===6?(S<E.length&&(E[S++]=$>>24&255),_=0,N=0):(_=$>>>24,N+=2)}if(S<E.length)for(E[S++]=_;S<E.length;)E[S++]=0},u.prototype._toArrayLikeBE=function(E,w){for(var S=E.length-1,_=0,k=0,N=0;k<this.length;k++){var $=this.words[k]<<N|_;E[S--]=255&$,S>=0&&(E[S--]=$>>8&255),S>=0&&(E[S--]=$>>16&255),N===6?(S>=0&&(E[S--]=$>>24&255),_=0,N=0):(_=$>>>24,N+=2)}if(S>=0)for(E[S--]=_;S>=0;)E[S--]=0},Math.clz32?u.prototype._countBits=function(E){return 32-Math.clz32(E)}:u.prototype._countBits=function(E){var w=E,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},u.prototype._zeroBits=function(E){if(E===0)return 26;var w=E,S=0;return!(8191&w)&&(S+=13,w>>>=13),!(127&w)&&(S+=7,w>>>=7),!(15&w)&&(S+=4,w>>>=4),!(3&w)&&(S+=2,w>>>=2),!(1&w)&&S++,S},u.prototype.bitLength=function(){var E=this.words[this.length-1],w=this._countBits(E);return 26*(this.length-1)+w},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(E+=S,S!==26)break}return E},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},u.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var w=0;w<E.length;w++)this.words[w]=this.words[w]|E.words[w];return this._strip()},u.prototype.ior=function(E){return o((this.negative|E.negative)==0),this.iuor(E)},u.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},u.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},u.prototype.iuand=function(E){var w;w=this.length>E.length?E:this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&E.words[S];return this.length=w.length,this._strip()},u.prototype.iand=function(E){return o((this.negative|E.negative)==0),this.iuand(E)},u.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},u.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},u.prototype.iuxor=function(E){var w,S;this.length>E.length?(w=this,S=E):(w=E,S=this);for(var _=0;_<S.length;_++)this.words[_]=w.words[_]^S.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this._strip()},u.prototype.ixor=function(E){return o((this.negative|E.negative)==0),this.iuxor(E)},u.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},u.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},u.prototype.inotn=function(E){o(typeof E=="number"&&E>=0);var w=0|Math.ceil(E/26),S=E%26;this._expand(w),S>0&&w--;for(var _=0;_<w;_++)this.words[_]=67108863&~this.words[_];return S>0&&(this.words[_]=~this.words[_]&67108863>>26-S),this._strip()},u.prototype.notn=function(E){return this.clone().inotn(E)},u.prototype.setn=function(E,w){o(typeof E=="number"&&E>=0);var S=E/26|0,_=E%26;return this._expand(S+1),this.words[S]=w?this.words[S]|1<<_:this.words[S]&~(1<<_),this._strip()},u.prototype.iadd=function(E){var w,S,_;if(this.negative!==0&&E.negative===0)return this.negative=0,w=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,w=this.isub(E),E.negative=1,w._normSign();this.length>E.length?(S=this,_=E):(S=E,_=this);for(var k=0,N=0;N<_.length;N++)w=(0|S.words[N])+(0|_.words[N])+k,this.words[N]=67108863&w,k=w>>>26;for(;k!==0&&N<S.length;N++)w=(0|S.words[N])+k,this.words[N]=67108863&w,k=w>>>26;if(this.length=S.length,k!==0)this.words[this.length]=k,this.length++;else if(S!==this)for(;N<S.length;N++)this.words[N]=S.words[N];return this},u.prototype.add=function(E){var w;return E.negative!==0&&this.negative===0?(E.negative=0,w=this.sub(E),E.negative^=1,w):E.negative===0&&this.negative!==0?(this.negative=0,w=E.sub(this),this.negative=1,w):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},u.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var w=this.iadd(E);return E.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var S,_,k=this.cmp(E);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(S=this,_=E):(S=E,_=this);for(var N=0,$=0;$<_.length;$++)N=(w=(0|S.words[$])-(0|_.words[$])+N)>>26,this.words[$]=67108863&w;for(;N!==0&&$<S.length;$++)N=(w=(0|S.words[$])+N)>>26,this.words[$]=67108863&w;if(N===0&&$<S.length&&S!==this)for(;$<S.length;$++)this.words[$]=S.words[$];return this.length=Math.max(this.length,$),S!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(E){return this.clone().isub(E)};var x=function(E,w,S){var _,k,N,$=E.words,R=w.words,H=S.words,K=0,J=0|$[0],V=8191&J,Z=J>>>13,z=0|$[1],D=8191&z,G=z>>>13,te=0|$[2],ae=8191&te,se=te>>>13,le=0|$[3],fe=8191&le,ie=le>>>13,oe=0|$[4],be=8191&oe,ve=oe>>>13,we=0|$[5],Se=8191&we,Ae=we>>>13,Pe=0|$[6],Re=8191&Pe,Ue=Pe>>>13,We=0|$[7],Ke=8191&We,Qe=We>>>13,rt=0|$[8],dt=8191&rt,Ge=rt>>>13,Et=0|$[9],et=8191&Et,ut=Et>>>13,ot=0|R[0],xt=8191&ot,wt=ot>>>13,_e=0|R[1],kt=8191&_e,Je=_e>>>13,at=0|R[2],pt=8191&at,Ve=at>>>13,yt=0|R[3],Ct=8191&yt,jt=yt>>>13,Xt=0|R[4],ar=8191&Xt,Ut=Xt>>>13,vt=0|R[5],ur=8191&vt,Ft=vt>>>13,Ee=0|R[6],Oe=8191&Ee,He=Ee>>>13,ft=0|R[7],qt=8191&ft,_t=ft>>>13,Lt=0|R[8],Mt=8191&Lt,It=Lt>>>13,Ht=0|R[9],Ot=8191&Ht,Zt=Ht>>>13;S.negative=E.negative^w.negative,S.length=19;var Sr=(K+(_=Math.imul(V,xt))|0)+((8191&(k=(k=Math.imul(V,wt))+Math.imul(Z,xt)|0))<<13)|0;K=((N=Math.imul(Z,wt))+(k>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,_=Math.imul(D,xt),k=(k=Math.imul(D,wt))+Math.imul(G,xt)|0,N=Math.imul(G,wt);var wr=(K+(_=_+Math.imul(V,kt)|0)|0)+((8191&(k=(k=k+Math.imul(V,Je)|0)+Math.imul(Z,kt)|0))<<13)|0;K=((N=N+Math.imul(Z,Je)|0)+(k>>>13)|0)+(wr>>>26)|0,wr&=67108863,_=Math.imul(ae,xt),k=(k=Math.imul(ae,wt))+Math.imul(se,xt)|0,N=Math.imul(se,wt),_=_+Math.imul(D,kt)|0,k=(k=k+Math.imul(D,Je)|0)+Math.imul(G,kt)|0,N=N+Math.imul(G,Je)|0;var Rr=(K+(_=_+Math.imul(V,pt)|0)|0)+((8191&(k=(k=k+Math.imul(V,Ve)|0)+Math.imul(Z,pt)|0))<<13)|0;K=((N=N+Math.imul(Z,Ve)|0)+(k>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,_=Math.imul(fe,xt),k=(k=Math.imul(fe,wt))+Math.imul(ie,xt)|0,N=Math.imul(ie,wt),_=_+Math.imul(ae,kt)|0,k=(k=k+Math.imul(ae,Je)|0)+Math.imul(se,kt)|0,N=N+Math.imul(se,Je)|0,_=_+Math.imul(D,pt)|0,k=(k=k+Math.imul(D,Ve)|0)+Math.imul(G,pt)|0,N=N+Math.imul(G,Ve)|0;var Br=(K+(_=_+Math.imul(V,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(V,jt)|0)+Math.imul(Z,Ct)|0))<<13)|0;K=((N=N+Math.imul(Z,jt)|0)+(k>>>13)|0)+(Br>>>26)|0,Br&=67108863,_=Math.imul(be,xt),k=(k=Math.imul(be,wt))+Math.imul(ve,xt)|0,N=Math.imul(ve,wt),_=_+Math.imul(fe,kt)|0,k=(k=k+Math.imul(fe,Je)|0)+Math.imul(ie,kt)|0,N=N+Math.imul(ie,Je)|0,_=_+Math.imul(ae,pt)|0,k=(k=k+Math.imul(ae,Ve)|0)+Math.imul(se,pt)|0,N=N+Math.imul(se,Ve)|0,_=_+Math.imul(D,Ct)|0,k=(k=k+Math.imul(D,jt)|0)+Math.imul(G,Ct)|0,N=N+Math.imul(G,jt)|0;var on=(K+(_=_+Math.imul(V,ar)|0)|0)+((8191&(k=(k=k+Math.imul(V,Ut)|0)+Math.imul(Z,ar)|0))<<13)|0;K=((N=N+Math.imul(Z,Ut)|0)+(k>>>13)|0)+(on>>>26)|0,on&=67108863,_=Math.imul(Se,xt),k=(k=Math.imul(Se,wt))+Math.imul(Ae,xt)|0,N=Math.imul(Ae,wt),_=_+Math.imul(be,kt)|0,k=(k=k+Math.imul(be,Je)|0)+Math.imul(ve,kt)|0,N=N+Math.imul(ve,Je)|0,_=_+Math.imul(fe,pt)|0,k=(k=k+Math.imul(fe,Ve)|0)+Math.imul(ie,pt)|0,N=N+Math.imul(ie,Ve)|0,_=_+Math.imul(ae,Ct)|0,k=(k=k+Math.imul(ae,jt)|0)+Math.imul(se,Ct)|0,N=N+Math.imul(se,jt)|0,_=_+Math.imul(D,ar)|0,k=(k=k+Math.imul(D,Ut)|0)+Math.imul(G,ar)|0,N=N+Math.imul(G,Ut)|0;var de=(K+(_=_+Math.imul(V,ur)|0)|0)+((8191&(k=(k=k+Math.imul(V,Ft)|0)+Math.imul(Z,ur)|0))<<13)|0;K=((N=N+Math.imul(Z,Ft)|0)+(k>>>13)|0)+(de>>>26)|0,de&=67108863,_=Math.imul(Re,xt),k=(k=Math.imul(Re,wt))+Math.imul(Ue,xt)|0,N=Math.imul(Ue,wt),_=_+Math.imul(Se,kt)|0,k=(k=k+Math.imul(Se,Je)|0)+Math.imul(Ae,kt)|0,N=N+Math.imul(Ae,Je)|0,_=_+Math.imul(be,pt)|0,k=(k=k+Math.imul(be,Ve)|0)+Math.imul(ve,pt)|0,N=N+Math.imul(ve,Ve)|0,_=_+Math.imul(fe,Ct)|0,k=(k=k+Math.imul(fe,jt)|0)+Math.imul(ie,Ct)|0,N=N+Math.imul(ie,jt)|0,_=_+Math.imul(ae,ar)|0,k=(k=k+Math.imul(ae,Ut)|0)+Math.imul(se,ar)|0,N=N+Math.imul(se,Ut)|0,_=_+Math.imul(D,ur)|0,k=(k=k+Math.imul(D,Ft)|0)+Math.imul(G,ur)|0,N=N+Math.imul(G,Ft)|0;var Ce=(K+(_=_+Math.imul(V,Oe)|0)|0)+((8191&(k=(k=k+Math.imul(V,He)|0)+Math.imul(Z,Oe)|0))<<13)|0;K=((N=N+Math.imul(Z,He)|0)+(k>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,_=Math.imul(Ke,xt),k=(k=Math.imul(Ke,wt))+Math.imul(Qe,xt)|0,N=Math.imul(Qe,wt),_=_+Math.imul(Re,kt)|0,k=(k=k+Math.imul(Re,Je)|0)+Math.imul(Ue,kt)|0,N=N+Math.imul(Ue,Je)|0,_=_+Math.imul(Se,pt)|0,k=(k=k+Math.imul(Se,Ve)|0)+Math.imul(Ae,pt)|0,N=N+Math.imul(Ae,Ve)|0,_=_+Math.imul(be,Ct)|0,k=(k=k+Math.imul(be,jt)|0)+Math.imul(ve,Ct)|0,N=N+Math.imul(ve,jt)|0,_=_+Math.imul(fe,ar)|0,k=(k=k+Math.imul(fe,Ut)|0)+Math.imul(ie,ar)|0,N=N+Math.imul(ie,Ut)|0,_=_+Math.imul(ae,ur)|0,k=(k=k+Math.imul(ae,Ft)|0)+Math.imul(se,ur)|0,N=N+Math.imul(se,Ft)|0,_=_+Math.imul(D,Oe)|0,k=(k=k+Math.imul(D,He)|0)+Math.imul(G,Oe)|0,N=N+Math.imul(G,He)|0;var qe=(K+(_=_+Math.imul(V,qt)|0)|0)+((8191&(k=(k=k+Math.imul(V,_t)|0)+Math.imul(Z,qt)|0))<<13)|0;K=((N=N+Math.imul(Z,_t)|0)+(k>>>13)|0)+(qe>>>26)|0,qe&=67108863,_=Math.imul(dt,xt),k=(k=Math.imul(dt,wt))+Math.imul(Ge,xt)|0,N=Math.imul(Ge,wt),_=_+Math.imul(Ke,kt)|0,k=(k=k+Math.imul(Ke,Je)|0)+Math.imul(Qe,kt)|0,N=N+Math.imul(Qe,Je)|0,_=_+Math.imul(Re,pt)|0,k=(k=k+Math.imul(Re,Ve)|0)+Math.imul(Ue,pt)|0,N=N+Math.imul(Ue,Ve)|0,_=_+Math.imul(Se,Ct)|0,k=(k=k+Math.imul(Se,jt)|0)+Math.imul(Ae,Ct)|0,N=N+Math.imul(Ae,jt)|0,_=_+Math.imul(be,ar)|0,k=(k=k+Math.imul(be,Ut)|0)+Math.imul(ve,ar)|0,N=N+Math.imul(ve,Ut)|0,_=_+Math.imul(fe,ur)|0,k=(k=k+Math.imul(fe,Ft)|0)+Math.imul(ie,ur)|0,N=N+Math.imul(ie,Ft)|0,_=_+Math.imul(ae,Oe)|0,k=(k=k+Math.imul(ae,He)|0)+Math.imul(se,Oe)|0,N=N+Math.imul(se,He)|0,_=_+Math.imul(D,qt)|0,k=(k=k+Math.imul(D,_t)|0)+Math.imul(G,qt)|0,N=N+Math.imul(G,_t)|0;var Xe=(K+(_=_+Math.imul(V,Mt)|0)|0)+((8191&(k=(k=k+Math.imul(V,It)|0)+Math.imul(Z,Mt)|0))<<13)|0;K=((N=N+Math.imul(Z,It)|0)+(k>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,_=Math.imul(et,xt),k=(k=Math.imul(et,wt))+Math.imul(ut,xt)|0,N=Math.imul(ut,wt),_=_+Math.imul(dt,kt)|0,k=(k=k+Math.imul(dt,Je)|0)+Math.imul(Ge,kt)|0,N=N+Math.imul(Ge,Je)|0,_=_+Math.imul(Ke,pt)|0,k=(k=k+Math.imul(Ke,Ve)|0)+Math.imul(Qe,pt)|0,N=N+Math.imul(Qe,Ve)|0,_=_+Math.imul(Re,Ct)|0,k=(k=k+Math.imul(Re,jt)|0)+Math.imul(Ue,Ct)|0,N=N+Math.imul(Ue,jt)|0,_=_+Math.imul(Se,ar)|0,k=(k=k+Math.imul(Se,Ut)|0)+Math.imul(Ae,ar)|0,N=N+Math.imul(Ae,Ut)|0,_=_+Math.imul(be,ur)|0,k=(k=k+Math.imul(be,Ft)|0)+Math.imul(ve,ur)|0,N=N+Math.imul(ve,Ft)|0,_=_+Math.imul(fe,Oe)|0,k=(k=k+Math.imul(fe,He)|0)+Math.imul(ie,Oe)|0,N=N+Math.imul(ie,He)|0,_=_+Math.imul(ae,qt)|0,k=(k=k+Math.imul(ae,_t)|0)+Math.imul(se,qt)|0,N=N+Math.imul(se,_t)|0,_=_+Math.imul(D,Mt)|0,k=(k=k+Math.imul(D,It)|0)+Math.imul(G,Mt)|0,N=N+Math.imul(G,It)|0;var At=(K+(_=_+Math.imul(V,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(V,Zt)|0)+Math.imul(Z,Ot)|0))<<13)|0;K=((N=N+Math.imul(Z,Zt)|0)+(k>>>13)|0)+(At>>>26)|0,At&=67108863,_=Math.imul(et,kt),k=(k=Math.imul(et,Je))+Math.imul(ut,kt)|0,N=Math.imul(ut,Je),_=_+Math.imul(dt,pt)|0,k=(k=k+Math.imul(dt,Ve)|0)+Math.imul(Ge,pt)|0,N=N+Math.imul(Ge,Ve)|0,_=_+Math.imul(Ke,Ct)|0,k=(k=k+Math.imul(Ke,jt)|0)+Math.imul(Qe,Ct)|0,N=N+Math.imul(Qe,jt)|0,_=_+Math.imul(Re,ar)|0,k=(k=k+Math.imul(Re,Ut)|0)+Math.imul(Ue,ar)|0,N=N+Math.imul(Ue,Ut)|0,_=_+Math.imul(Se,ur)|0,k=(k=k+Math.imul(Se,Ft)|0)+Math.imul(Ae,ur)|0,N=N+Math.imul(Ae,Ft)|0,_=_+Math.imul(be,Oe)|0,k=(k=k+Math.imul(be,He)|0)+Math.imul(ve,Oe)|0,N=N+Math.imul(ve,He)|0,_=_+Math.imul(fe,qt)|0,k=(k=k+Math.imul(fe,_t)|0)+Math.imul(ie,qt)|0,N=N+Math.imul(ie,_t)|0,_=_+Math.imul(ae,Mt)|0,k=(k=k+Math.imul(ae,It)|0)+Math.imul(se,Mt)|0,N=N+Math.imul(se,It)|0;var nt=(K+(_=_+Math.imul(D,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(D,Zt)|0)+Math.imul(G,Ot)|0))<<13)|0;K=((N=N+Math.imul(G,Zt)|0)+(k>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(et,pt),k=(k=Math.imul(et,Ve))+Math.imul(ut,pt)|0,N=Math.imul(ut,Ve),_=_+Math.imul(dt,Ct)|0,k=(k=k+Math.imul(dt,jt)|0)+Math.imul(Ge,Ct)|0,N=N+Math.imul(Ge,jt)|0,_=_+Math.imul(Ke,ar)|0,k=(k=k+Math.imul(Ke,Ut)|0)+Math.imul(Qe,ar)|0,N=N+Math.imul(Qe,Ut)|0,_=_+Math.imul(Re,ur)|0,k=(k=k+Math.imul(Re,Ft)|0)+Math.imul(Ue,ur)|0,N=N+Math.imul(Ue,Ft)|0,_=_+Math.imul(Se,Oe)|0,k=(k=k+Math.imul(Se,He)|0)+Math.imul(Ae,Oe)|0,N=N+Math.imul(Ae,He)|0,_=_+Math.imul(be,qt)|0,k=(k=k+Math.imul(be,_t)|0)+Math.imul(ve,qt)|0,N=N+Math.imul(ve,_t)|0,_=_+Math.imul(fe,Mt)|0,k=(k=k+Math.imul(fe,It)|0)+Math.imul(ie,Mt)|0,N=N+Math.imul(ie,It)|0;var ct=(K+(_=_+Math.imul(ae,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(ae,Zt)|0)+Math.imul(se,Ot)|0))<<13)|0;K=((N=N+Math.imul(se,Zt)|0)+(k>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(et,Ct),k=(k=Math.imul(et,jt))+Math.imul(ut,Ct)|0,N=Math.imul(ut,jt),_=_+Math.imul(dt,ar)|0,k=(k=k+Math.imul(dt,Ut)|0)+Math.imul(Ge,ar)|0,N=N+Math.imul(Ge,Ut)|0,_=_+Math.imul(Ke,ur)|0,k=(k=k+Math.imul(Ke,Ft)|0)+Math.imul(Qe,ur)|0,N=N+Math.imul(Qe,Ft)|0,_=_+Math.imul(Re,Oe)|0,k=(k=k+Math.imul(Re,He)|0)+Math.imul(Ue,Oe)|0,N=N+Math.imul(Ue,He)|0,_=_+Math.imul(Se,qt)|0,k=(k=k+Math.imul(Se,_t)|0)+Math.imul(Ae,qt)|0,N=N+Math.imul(Ae,_t)|0,_=_+Math.imul(be,Mt)|0,k=(k=k+Math.imul(be,It)|0)+Math.imul(ve,Mt)|0,N=N+Math.imul(ve,It)|0;var yr=(K+(_=_+Math.imul(fe,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(fe,Zt)|0)+Math.imul(ie,Ot)|0))<<13)|0;K=((N=N+Math.imul(ie,Zt)|0)+(k>>>13)|0)+(yr>>>26)|0,yr&=67108863,_=Math.imul(et,ar),k=(k=Math.imul(et,Ut))+Math.imul(ut,ar)|0,N=Math.imul(ut,Ut),_=_+Math.imul(dt,ur)|0,k=(k=k+Math.imul(dt,Ft)|0)+Math.imul(Ge,ur)|0,N=N+Math.imul(Ge,Ft)|0,_=_+Math.imul(Ke,Oe)|0,k=(k=k+Math.imul(Ke,He)|0)+Math.imul(Qe,Oe)|0,N=N+Math.imul(Qe,He)|0,_=_+Math.imul(Re,qt)|0,k=(k=k+Math.imul(Re,_t)|0)+Math.imul(Ue,qt)|0,N=N+Math.imul(Ue,_t)|0,_=_+Math.imul(Se,Mt)|0,k=(k=k+Math.imul(Se,It)|0)+Math.imul(Ae,Mt)|0,N=N+Math.imul(Ae,It)|0;var nr=(K+(_=_+Math.imul(be,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(be,Zt)|0)+Math.imul(ve,Ot)|0))<<13)|0;K=((N=N+Math.imul(ve,Zt)|0)+(k>>>13)|0)+(nr>>>26)|0,nr&=67108863,_=Math.imul(et,ur),k=(k=Math.imul(et,Ft))+Math.imul(ut,ur)|0,N=Math.imul(ut,Ft),_=_+Math.imul(dt,Oe)|0,k=(k=k+Math.imul(dt,He)|0)+Math.imul(Ge,Oe)|0,N=N+Math.imul(Ge,He)|0,_=_+Math.imul(Ke,qt)|0,k=(k=k+Math.imul(Ke,_t)|0)+Math.imul(Qe,qt)|0,N=N+Math.imul(Qe,_t)|0,_=_+Math.imul(Re,Mt)|0,k=(k=k+Math.imul(Re,It)|0)+Math.imul(Ue,Mt)|0,N=N+Math.imul(Ue,It)|0;var lr=(K+(_=_+Math.imul(Se,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(Se,Zt)|0)+Math.imul(Ae,Ot)|0))<<13)|0;K=((N=N+Math.imul(Ae,Zt)|0)+(k>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(et,Oe),k=(k=Math.imul(et,He))+Math.imul(ut,Oe)|0,N=Math.imul(ut,He),_=_+Math.imul(dt,qt)|0,k=(k=k+Math.imul(dt,_t)|0)+Math.imul(Ge,qt)|0,N=N+Math.imul(Ge,_t)|0,_=_+Math.imul(Ke,Mt)|0,k=(k=k+Math.imul(Ke,It)|0)+Math.imul(Qe,Mt)|0,N=N+Math.imul(Qe,It)|0;var Kt=(K+(_=_+Math.imul(Re,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(Re,Zt)|0)+Math.imul(Ue,Ot)|0))<<13)|0;K=((N=N+Math.imul(Ue,Zt)|0)+(k>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,_=Math.imul(et,qt),k=(k=Math.imul(et,_t))+Math.imul(ut,qt)|0,N=Math.imul(ut,_t),_=_+Math.imul(dt,Mt)|0,k=(k=k+Math.imul(dt,It)|0)+Math.imul(Ge,Mt)|0,N=N+Math.imul(Ge,It)|0;var _r=(K+(_=_+Math.imul(Ke,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(Ke,Zt)|0)+Math.imul(Qe,Ot)|0))<<13)|0;K=((N=N+Math.imul(Qe,Zt)|0)+(k>>>13)|0)+(_r>>>26)|0,_r&=67108863,_=Math.imul(et,Mt),k=(k=Math.imul(et,It))+Math.imul(ut,Mt)|0,N=Math.imul(ut,It);var Qt=(K+(_=_+Math.imul(dt,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(dt,Zt)|0)+Math.imul(Ge,Ot)|0))<<13)|0;K=((N=N+Math.imul(Ge,Zt)|0)+(k>>>13)|0)+(Qt>>>26)|0,Qt&=67108863;var kr=(K+(_=Math.imul(et,Ot))|0)+((8191&(k=(k=Math.imul(et,Zt))+Math.imul(ut,Ot)|0))<<13)|0;return K=((N=Math.imul(ut,Zt))+(k>>>13)|0)+(kr>>>26)|0,kr&=67108863,H[0]=Sr,H[1]=wr,H[2]=Rr,H[3]=Br,H[4]=on,H[5]=de,H[6]=Ce,H[7]=qe,H[8]=Xe,H[9]=At,H[10]=nt,H[11]=ct,H[12]=yr,H[13]=nr,H[14]=lr,H[15]=Kt,H[16]=_r,H[17]=Qt,H[18]=kr,K!==0&&(H[19]=K,S.length++),S};function C(E,w,S){S.negative=w.negative^E.negative,S.length=E.length+w.length;for(var _=0,k=0,N=0;N<S.length-1;N++){var $=k;k=0;for(var R=67108863&_,H=Math.min(N,w.length-1),K=Math.max(0,N-E.length+1);K<=H;K++){var J=N-K,V=(0|E.words[J])*(0|w.words[K]),Z=67108863&V;R=67108863&(Z=Z+R|0),k+=($=($=$+(V/67108864|0)|0)+(Z>>>26)|0)>>>26,$&=67108863}S.words[N]=R,_=$,$=k}return _!==0?S.words[N]=_:S.length--,S._strip()}function O(E,w,S){return C(E,w,S)}Math.imul||(x=b),u.prototype.mulTo=function(E,w){var S=this.length+E.length;return this.length===10&&E.length===10?x(this,E,w):S<63?b(this,E,w):S<1024?C(this,E,w):O(this,E,w)},u.prototype.mul=function(E){var w=new u(null);return w.words=new Array(this.length+E.length),this.mulTo(E,w)},u.prototype.mulf=function(E){var w=new u(null);return w.words=new Array(this.length+E.length),O(this,E,w)},u.prototype.imul=function(E){return this.clone().mulTo(E,this)},u.prototype.imuln=function(E){var w=E<0;w&&(E=-E),o(typeof E=="number"),o(E<67108864);for(var S=0,_=0;_<this.length;_++){var k=(0|this.words[_])*E,N=(67108863&k)+(67108863&S);S>>=26,S+=k/67108864|0,S+=N>>>26,this.words[_]=67108863&N}return S!==0&&(this.words[_]=S,this.length++),w?this.ineg():this},u.prototype.muln=function(E){return this.clone().imuln(E)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(E){var w=function(N){for(var $=new Array(N.bitLength()),R=0;R<$.length;R++){var H=R/26|0,K=R%26;$[R]=N.words[H]>>>K&1}return $}(E);if(w.length===0)return new u(1);for(var S=this,_=0;_<w.length&&w[_]===0;_++,S=S.sqr());if(++_<w.length)for(var k=S.sqr();_<w.length;_++,k=k.sqr())w[_]!==0&&(S=S.mul(k));return S},u.prototype.iushln=function(E){o(typeof E=="number"&&E>=0);var w,S=E%26,_=(E-S)/26,k=67108863>>>26-S<<26-S;if(S!==0){var N=0;for(w=0;w<this.length;w++){var $=this.words[w]&k,R=(0|this.words[w])-$<<S;this.words[w]=R|N,N=$>>>26-S}N&&(this.words[w]=N,this.length++)}if(_!==0){for(w=this.length-1;w>=0;w--)this.words[w+_]=this.words[w];for(w=0;w<_;w++)this.words[w]=0;this.length+=_}return this._strip()},u.prototype.ishln=function(E){return o(this.negative===0),this.iushln(E)},u.prototype.iushrn=function(E,w,S){var _;o(typeof E=="number"&&E>=0),_=w?(w-w%26)/26:0;var k=E%26,N=Math.min((E-k)/26,this.length),$=67108863^67108863>>>k<<k,R=S;if(_-=N,_=Math.max(0,_),R){for(var H=0;H<N;H++)R.words[H]=this.words[H];R.length=N}if(N!==0)if(this.length>N)for(this.length-=N,H=0;H<this.length;H++)this.words[H]=this.words[H+N];else this.words[0]=0,this.length=1;var K=0;for(H=this.length-1;H>=0&&(K!==0||H>=_);H--){var J=0|this.words[H];this.words[H]=K<<26-k|J>>>k,K=J&$}return R&&K!==0&&(R.words[R.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(E,w,S){return o(this.negative===0),this.iushrn(E,w,S)},u.prototype.shln=function(E){return this.clone().ishln(E)},u.prototype.ushln=function(E){return this.clone().iushln(E)},u.prototype.shrn=function(E){return this.clone().ishrn(E)},u.prototype.ushrn=function(E){return this.clone().iushrn(E)},u.prototype.testn=function(E){o(typeof E=="number"&&E>=0);var w=E%26,S=(E-w)/26,_=1<<w;return!(this.length<=S)&&!!(this.words[S]&_)},u.prototype.imaskn=function(E){o(typeof E=="number"&&E>=0);var w=E%26,S=(E-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this._strip()},u.prototype.maskn=function(E){return this.clone().imaskn(E)},u.prototype.iaddn=function(E){return o(typeof E=="number"),o(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},u.prototype._iaddn=function(E){this.words[0]+=E;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},u.prototype.isubn=function(E){if(o(typeof E=="number"),o(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},u.prototype.addn=function(E){return this.clone().iaddn(E)},u.prototype.subn=function(E){return this.clone().isubn(E)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(E,w,S){var _,k,N=E.length+S;this._expand(N);var $=0;for(_=0;_<E.length;_++){k=(0|this.words[_+S])+$;var R=(0|E.words[_])*w;$=((k-=67108863&R)>>26)-(R/67108864|0),this.words[_+S]=67108863&k}for(;_<this.length-S;_++)$=(k=(0|this.words[_+S])+$)>>26,this.words[_+S]=67108863&k;if($===0)return this._strip();for(o($===-1),$=0,_=0;_<this.length;_++)$=(k=-(0|this.words[_])+$)>>26,this.words[_]=67108863&k;return this.negative=1,this._strip()},u.prototype._wordDiv=function(E,w){var S=(this.length,E.length),_=this.clone(),k=E,N=0|k.words[k.length-1];(S=26-this._countBits(N))!==0&&(k=k.ushln(S),_.iushln(S),N=0|k.words[k.length-1]);var $,R=_.length-k.length;if(w!=="mod"){($=new u(null)).length=R+1,$.words=new Array($.length);for(var H=0;H<$.length;H++)$.words[H]=0}var K=_.clone()._ishlnsubmul(k,1,R);K.negative===0&&(_=K,$&&($.words[R]=1));for(var J=R-1;J>=0;J--){var V=67108864*(0|_.words[k.length+J])+(0|_.words[k.length+J-1]);for(V=Math.min(V/N|0,67108863),_._ishlnsubmul(k,V,J);_.negative!==0;)V--,_.negative=0,_._ishlnsubmul(k,1,J),_.isZero()||(_.negative^=1);$&&($.words[J]=V)}return $&&$._strip(),_._strip(),w!=="div"&&S!==0&&_.iushrn(S),{div:$||null,mod:_}},u.prototype.divmod=function(E,w,S){return o(!E.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:this.negative!==0&&E.negative===0?(N=this.neg().divmod(E,w),w!=="mod"&&(_=N.div.neg()),w!=="div"&&(k=N.mod.neg(),S&&k.negative!==0&&k.iadd(E)),{div:_,mod:k}):this.negative===0&&E.negative!==0?(N=this.divmod(E.neg(),w),w!=="mod"&&(_=N.div.neg()),{div:_,mod:N.mod}):this.negative&E.negative?(N=this.neg().divmod(E.neg(),w),w!=="div"&&(k=N.mod.neg(),S&&k.negative!==0&&k.isub(E)),{div:N.div,mod:k}):E.length>this.length||this.cmp(E)<0?{div:new u(0),mod:this}:E.length===1?w==="div"?{div:this.divn(E.words[0]),mod:null}:w==="mod"?{div:null,mod:new u(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new u(this.modrn(E.words[0]))}:this._wordDiv(E,w);var _,k,N},u.prototype.div=function(E){return this.divmod(E,"div",!1).div},u.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},u.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},u.prototype.divRound=function(E){var w=this.divmod(E);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(E):w.mod,_=E.ushrn(1),k=E.andln(1),N=S.cmp(_);return N<0||k===1&&N===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},u.prototype.modrn=function(E){var w=E<0;w&&(E=-E),o(E<=67108863);for(var S=(1<<26)%E,_=0,k=this.length-1;k>=0;k--)_=(S*_+(0|this.words[k]))%E;return w?-_:_},u.prototype.modn=function(E){return this.modrn(E)},u.prototype.idivn=function(E){var w=E<0;w&&(E=-E),o(E<=67108863);for(var S=0,_=this.length-1;_>=0;_--){var k=(0|this.words[_])+67108864*S;this.words[_]=k/E|0,S=k%E}return this._strip(),w?this.ineg():this},u.prototype.divn=function(E){return this.clone().idivn(E)},u.prototype.egcd=function(E){o(E.negative===0),o(!E.isZero());var w=this,S=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var _=new u(1),k=new u(0),N=new u(0),$=new u(1),R=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++R;for(var H=S.clone(),K=w.clone();!w.isZero();){for(var J=0,V=1;!(w.words[0]&V)&&J<26;++J,V<<=1);if(J>0)for(w.iushrn(J);J-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(H),k.isub(K)),_.iushrn(1),k.iushrn(1);for(var Z=0,z=1;!(S.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)(N.isOdd()||$.isOdd())&&(N.iadd(H),$.isub(K)),N.iushrn(1),$.iushrn(1);w.cmp(S)>=0?(w.isub(S),_.isub(N),k.isub($)):(S.isub(w),N.isub(_),$.isub(k))}return{a:N,b:$,gcd:S.iushln(R)}},u.prototype._invmp=function(E){o(E.negative===0),o(!E.isZero());var w=this,S=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var _,k=new u(1),N=new u(0),$=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var R=0,H=1;!(w.words[0]&H)&&R<26;++R,H<<=1);if(R>0)for(w.iushrn(R);R-- >0;)k.isOdd()&&k.iadd($),k.iushrn(1);for(var K=0,J=1;!(S.words[0]&J)&&K<26;++K,J<<=1);if(K>0)for(S.iushrn(K);K-- >0;)N.isOdd()&&N.iadd($),N.iushrn(1);w.cmp(S)>=0?(w.isub(S),k.isub(N)):(S.isub(w),N.isub(k))}return(_=w.cmpn(1)===0?k:N).cmpn(0)<0&&_.iadd(E),_},u.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var w=this.clone(),S=E.clone();w.negative=0,S.negative=0;for(var _=0;w.isEven()&&S.isEven();_++)w.iushrn(1),S.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var k=w.cmp(S);if(k<0){var N=w;w=S,S=N}else if(k===0||S.cmpn(1)===0)break;w.isub(S)}return S.iushln(_)},u.prototype.invm=function(E){return this.egcd(E).a.umod(E)},u.prototype.isEven=function(){return(1&this.words[0])==0},u.prototype.isOdd=function(){return(1&this.words[0])==1},u.prototype.andln=function(E){return this.words[0]&E},u.prototype.bincn=function(E){o(typeof E=="number");var w=E%26,S=(E-w)/26,_=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=_,this;for(var k=_,N=S;k!==0&&N<this.length;N++){var $=0|this.words[N];k=($+=k)>>>26,$&=67108863,this.words[N]=$}return k!==0&&(this.words[N]=k,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(E){var w,S=E<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)w=1;else{S&&(E=-E),o(E<=67108863,"Number is too big");var _=0|this.words[0];w=_===E?0:_<E?-1:1}return this.negative!==0?0|-w:w},u.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var w=this.ucmp(E);return this.negative!==0?0|-w:w},u.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var _=0|this.words[S],k=0|E.words[S];if(_!==k){_<k?w=-1:_>k&&(w=1);break}}return w},u.prototype.gtn=function(E){return this.cmpn(E)===1},u.prototype.gt=function(E){return this.cmp(E)===1},u.prototype.gten=function(E){return this.cmpn(E)>=0},u.prototype.gte=function(E){return this.cmp(E)>=0},u.prototype.ltn=function(E){return this.cmpn(E)===-1},u.prototype.lt=function(E){return this.cmp(E)===-1},u.prototype.lten=function(E){return this.cmpn(E)<=0},u.prototype.lte=function(E){return this.cmp(E)<=0},u.prototype.eqn=function(E){return this.cmpn(E)===0},u.prototype.eq=function(E){return this.cmp(E)===0},u.red=function(E){return new A(E)},u.prototype.toRed=function(E){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(E){return this.red=E,this},u.prototype.forceRed=function(E){return o(!this.red,"Already a number in reduction context"),this._forceRed(E)},u.prototype.redAdd=function(E){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},u.prototype.redIAdd=function(E){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},u.prototype.redSub=function(E){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},u.prototype.redISub=function(E){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},u.prototype.redShl=function(E){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},u.prototype.redMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},u.prototype.redIMul=function(E){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(E){return o(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var I={k256:null,p224:null,p192:null,p25519:null};function T(E,w){this.name=E,this.p=new u(w,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(E){if(typeof E=="string"){var w=u._prime(E);this.m=w.p,this.prime=w}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function j(E){A.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var E=new u(null);return E.words=new Array(Math.ceil(this.n/13)),E},T.prototype.ireduce=function(E){var w,S=E;do this.split(S,this.tmp),w=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(w>this.n);var _=w<this.n?-1:S.ucmp(this.p);return _===0?(S.words[0]=0,S.length=1):_>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},T.prototype.split=function(E,w){E.iushrn(this.n,0,w)},T.prototype.imulK=function(E){return E.imul(this.k)},l(M,T),M.prototype.split=function(E,w){for(var S=Math.min(E.length,9),_=0;_<S;_++)w.words[_]=E.words[_];if(w.length=S,E.length<=9)return E.words[0]=0,void(E.length=1);var k=E.words[9];for(w.words[w.length++]=4194303&k,_=10;_<E.length;_++){var N=0|E.words[_];E.words[_-10]=(4194303&N)<<4|k>>>22,k=N}k>>>=22,E.words[_-10]=k,k===0&&E.length>10?E.length-=10:E.length-=9},M.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var w=0,S=0;S<E.length;S++){var _=0|E.words[S];w+=977*_,E.words[S]=67108863&w,w=64*_+(w/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(B,T),l(L,T),l(P,T),P.prototype.imulK=function(E){for(var w=0,S=0;S<E.length;S++){var _=19*(0|E.words[S])+w,k=67108863&_;_>>>=26,E.words[S]=k,w=_}return w!==0&&(E.words[E.length++]=w),E},u._prime=function(E){if(I[E])return I[E];var w;if(E==="k256")w=new M;else if(E==="p224")w=new B;else if(E==="p192")w=new L;else{if(E!=="p25519")throw new Error("Unknown prime "+E);w=new P}return I[E]=w,w},A.prototype._verify1=function(E){o(E.negative===0,"red works only with positives"),o(E.red,"red works only with red numbers")},A.prototype._verify2=function(E,w){o((E.negative|w.negative)==0,"red works only with positives"),o(E.red&&E.red===w.red,"red works only with red numbers")},A.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(m(E,E.umod(this.m)._forceRed(this)),E)},A.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},A.prototype.add=function(E,w){this._verify2(E,w);var S=E.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},A.prototype.iadd=function(E,w){this._verify2(E,w);var S=E.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},A.prototype.sub=function(E,w){this._verify2(E,w);var S=E.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},A.prototype.isub=function(E,w){this._verify2(E,w);var S=E.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},A.prototype.shl=function(E,w){return this._verify1(E),this.imod(E.ushln(w))},A.prototype.imul=function(E,w){return this._verify2(E,w),this.imod(E.imul(w))},A.prototype.mul=function(E,w){return this._verify2(E,w),this.imod(E.mul(w))},A.prototype.isqr=function(E){return this.imul(E,E.clone())},A.prototype.sqr=function(E){return this.mul(E,E)},A.prototype.sqrt=function(E){if(E.isZero())return E.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var S=this.m.add(new u(1)).iushrn(2);return this.pow(E,S)}for(var _=this.m.subn(1),k=0;!_.isZero()&&_.andln(1)===0;)k++,_.iushrn(1);o(!_.isZero());var N=new u(1).toRed(this),$=N.redNeg(),R=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new u(2*H*H).toRed(this);this.pow(H,R).cmp($)!==0;)H.redIAdd($);for(var K=this.pow(H,_),J=this.pow(E,_.addn(1).iushrn(1)),V=this.pow(E,_),Z=k;V.cmp(N)!==0;){for(var z=V,D=0;z.cmp(N)!==0;D++)z=z.redSqr();o(D<Z);var G=this.pow(K,new u(1).iushln(Z-D-1));J=J.redMul(G),K=G.redSqr(),V=V.redMul(K),Z=D}return J},A.prototype.invm=function(E){var w=E._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},A.prototype.pow=function(E,w){if(w.isZero())return new u(1).toRed(this);if(w.cmpn(1)===0)return E.clone();var S=new Array(16);S[0]=new u(1).toRed(this),S[1]=E;for(var _=2;_<S.length;_++)S[_]=this.mul(S[_-1],E);var k=S[0],N=0,$=0,R=w.bitLength()%26;for(R===0&&(R=26),_=w.length-1;_>=0;_--){for(var H=w.words[_],K=R-1;K>=0;K--){var J=H>>K&1;k!==S[0]&&(k=this.sqr(k)),J!==0||N!==0?(N<<=1,N|=J,(++$===4||_===0&&K===0)&&(k=this.mul(k,S[N]),$=0,N=0)):$=0}R=26}return k},A.prototype.convertTo=function(E){var w=E.umod(this.m);return w===E?w.clone():w},A.prototype.convertFrom=function(E){var w=E.clone();return w.red=null,w},u.mont=function(E){return new j(E)},l(j,A),j.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},j.prototype.convertFrom=function(E){var w=this.imod(E.mul(this.rinv));return w.red=null,w},j.prototype.imul=function(E,w){if(E.isZero()||w.isZero())return E.words[0]=0,E.length=1,E;var S=E.imul(w),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=S.isub(_).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},j.prototype.mul=function(E,w){if(E.isZero()||w.isZero())return new u(0)._forceRed(this);var S=E.mul(w),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=S.isub(_).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},j.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var a;function s(l){this.rand=l}if(n.exports=function(l){return a||(a=new s(null)),a.generate(l)},n.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var u=new Uint8Array(l),c=0;c<u.length;c++)u[c]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var u=new Uint8Array(l);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var a=r("safe-buffer").Buffer;function s(h){a.isBuffer(h)||(h=a.from(h));for(var d=h.length/4|0,m=new Array(d),g=0;g<d;g++)m[g]=h.readUInt32BE(4*g);return m}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,d,m,g,p){for(var v,y,b,x,C=m[0],O=m[1],I=m[2],T=m[3],M=h[0]^d[0],B=h[1]^d[1],L=h[2]^d[2],P=h[3]^d[3],A=4,j=1;j<p;j++)v=C[M>>>24]^O[B>>>16&255]^I[L>>>8&255]^T[255&P]^d[A++],y=C[B>>>24]^O[L>>>16&255]^I[P>>>8&255]^T[255&M]^d[A++],b=C[L>>>24]^O[P>>>16&255]^I[M>>>8&255]^T[255&B]^d[A++],x=C[P>>>24]^O[M>>>16&255]^I[B>>>8&255]^T[255&L]^d[A++],M=v,B=y,L=b,P=x;return v=(g[M>>>24]<<24|g[B>>>16&255]<<16|g[L>>>8&255]<<8|g[255&P])^d[A++],y=(g[B>>>24]<<24|g[L>>>16&255]<<16|g[P>>>8&255]<<8|g[255&M])^d[A++],b=(g[L>>>24]<<24|g[P>>>16&255]<<16|g[M>>>8&255]<<8|g[255&B])^d[A++],x=(g[P>>>24]<<24|g[M>>>16&255]<<16|g[B>>>8&255]<<8|g[255&L])^d[A++],[v>>>=0,y>>>=0,b>>>=0,x>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var m=[],g=[],p=[[],[],[],[]],v=[[],[],[],[]],y=0,b=0,x=0;x<256;++x){var C=b^b<<1^b<<2^b<<3^b<<4;C=C>>>8^255&C^99,m[y]=C,g[C]=y;var O=h[y],I=h[O],T=h[I],M=257*h[C]^16843008*C;p[0][y]=M<<24|M>>>8,p[1][y]=M<<16|M>>>16,p[2][y]=M<<8|M>>>24,p[3][y]=M,M=16843009*T^65537*I^257*O^16843008*y,v[0][C]=M<<24|M>>>8,v[1][C]=M<<16|M>>>16,v[2][C]=M<<8|M>>>24,v[3][C]=M,y===0?y=b=1:(y=O^h[h[h[T^O]]],b^=h[h[b]])}return{SBOX:m,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:v}}();function f(h){this._key=s(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,m=d+6,g=4*(m+1),p=[],v=0;v<d;v++)p[v]=h[v];for(v=d;v<g;v++){var y=p[v-1];v%d==0?(y=y<<8|y>>>24,y=c.SBOX[y>>>24]<<24|c.SBOX[y>>>16&255]<<16|c.SBOX[y>>>8&255]<<8|c.SBOX[255&y],y^=u[v/d|0]<<24):d>6&&v%d==4&&(y=c.SBOX[y>>>24]<<24|c.SBOX[y>>>16&255]<<16|c.SBOX[y>>>8&255]<<8|c.SBOX[255&y]),p[v]=p[v-d]^y}for(var b=[],x=0;x<g;x++){var C=g-x,O=p[C-(x%4?0:4)];b[x]=x<4||C<=4?O:c.INV_SUB_MIX[0][c.SBOX[O>>>24]]^c.INV_SUB_MIX[1][c.SBOX[O>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[O>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&O]]}this._nRounds=m,this._keySchedule=p,this._invKeySchedule=b},f.prototype.encryptBlockRaw=function(h){return l(h=s(h),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),m=a.allocUnsafe(16);return m.writeUInt32BE(d[0],0),m.writeUInt32BE(d[1],4),m.writeUInt32BE(d[2],8),m.writeUInt32BE(d[3],12),m},f.prototype.decryptBlock=function(h){var d=(h=s(h))[1];h[1]=h[3],h[3]=d;var m=l(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),g=a.allocUnsafe(16);return g.writeUInt32BE(m[0],0),g.writeUInt32BE(m[3],4),g.writeUInt32BE(m[2],8),g.writeUInt32BE(m[1],12),g},f.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(r,n,i){var a=r("./aes"),s=r("safe-buffer").Buffer,o=r("cipher-base"),l=r("inherits"),u=r("./ghash"),c=r("buffer-xor"),f=r("./incr32");function h(d,m,g,p){o.call(this);var v=s.alloc(4,0);this._cipher=new a.AES(m);var y=this._cipher.encryptBlock(v);this._ghash=new u(y),g=function(b,x,C){if(x.length===12)return b._finID=s.concat([x,s.from([0,0,0,1])]),s.concat([x,s.from([0,0,0,2])]);var O=new u(C),I=x.length,T=I%16;O.update(x),T&&(T=16-T,O.update(s.alloc(T,0))),O.update(s.alloc(8,0));var M=8*I,B=s.alloc(8);B.writeUIntBE(M,0,8),O.update(B),b._finID=O.state;var L=s.from(b._finID);return f(L),L}(this,g,y),this._prev=s.from(g),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(d){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=s.alloc(m,0),this._ghash.update(m))}this._called=!0;var g=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(g),this._len+=d.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(m,g){var p=0;m.length!==g.length&&p++;for(var v=Math.min(m.length,g.length),y=0;y<v;++y)p+=m[y]^g[y];return p}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var a=r("./encrypter"),s=r("./decrypter"),o=r("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var a=r("./authCipher"),s=r("safe-buffer").Buffer,o=r("./modes"),l=r("./streamCipher"),u=r("cipher-base"),c=r("./aes"),f=r("evp_bytestokey");function h(g,p,v){u.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(p),this._prev=s.from(v),this._mode=g,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function m(g,p,v){var y=o[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=s.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof p=="string"&&(p=s.from(p)),p.length!==y.key/8)throw new TypeError("invalid key length "+p.length);return y.type==="stream"?new l(y.module,p,v,!0):y.type==="auth"?new a(y.module,p,v,!0):new h(y.module,p,v)}r("inherits")(h,u),h.prototype._update=function(g){var p,v;this._cache.add(g);for(var y=[];p=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,p),y.push(v);return s.concat(y)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(p){var v=p[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(p[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return p.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=s.concat([this.cache,g])},d.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,p){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=f(p,!1,v.key,v.iv);return m(g,y.key,y.iv)},i.createDecipheriv=m},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var a=r("./modes"),s=r("./authCipher"),o=r("safe-buffer").Buffer,l=r("./streamCipher"),u=r("cipher-base"),c=r("./aes"),f=r("evp_bytestokey");function h(p,v,y){u.call(this),this._cache=new m,this._cipher=new c.AES(v),this._prev=o.from(y),this._mode=p,this._autopadding=!0}r("inherits")(h,u),h.prototype._update=function(p){var v,y;this._cache.add(p);for(var b=[];v=this._cache.get();)y=this._mode.encrypt(this,v),b.push(y);return o.concat(b)};var d=o.alloc(16,16);function m(){this.cache=o.allocUnsafe(0)}function g(p,v,y){var b=a[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==b.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=o.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);return b.type==="stream"?new l(b.module,v,y):b.type==="auth"?new s(b.module,v,y):new h(b.module,v,y)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},m.prototype.add=function(p){this.cache=o.concat([this.cache,p])},m.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},m.prototype.flush=function(){for(var p=16-this.cache.length,v=o.allocUnsafe(p),y=-1;++y<p;)v.writeUInt8(p,y);return o.concat([this.cache,v])},i.createCipheriv=g,i.createCipher=function(p,v){var y=a[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=f(v,!1,y.key,y.iv);return g(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var a=r("safe-buffer").Buffer,s=a.alloc(16,0);function o(u){var c=a.allocUnsafe(16);return c.writeUInt32BE(u[0]>>>0,0),c.writeUInt32BE(u[1]>>>0,4),c.writeUInt32BE(u[2]>>>0,8),c.writeUInt32BE(u[3]>>>0,12),c}function l(u){this.h=u,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(u){for(var c=-1;++c<u.length;)this.state[c]^=u[c];this._multiply()},l.prototype._multiply=function(){for(var u,c,f,h=[(u=this.h).readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)],d=[0,0,0,0],m=-1;++m<128;){for(this.state[~~(m/8)]&1<<7-m%8&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,c=3;c>0;c--)h[c]=h[c]>>>1|(1&h[c-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=o(d)},l.prototype.update=function(u){var c;for(this.cache=a.concat([this.cache,u]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(u,c){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(o([0,u,0,c])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(a){for(var s,o=a.length;o--;){if((s=a.readUInt8(o))!==255){s++,a.writeUInt8(s,o);break}a.writeUInt8(0,o)}}},{}],196:[function(r,n,i){var a=r("buffer-xor");i.encrypt=function(s,o){var l=a(o,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},i.decrypt=function(s,o){var l=s._prev;s._prev=o;var u=s._cipher.decryptBlock(o);return a(u,l)}},{"buffer-xor":219}],197:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("buffer-xor");function o(l,u,c){var f=u.length,h=s(u,l._cache);return l._cache=l._cache.slice(f),l._prev=a.concat([l._prev,c?u:h]),h}i.encrypt=function(l,u,c){for(var f,h=a.allocUnsafe(0);u.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=u.length)){h=a.concat([h,o(l,u,c)]);break}f=l._cache.length,h=a.concat([h,o(l,u.slice(0,f),c)]),u=u.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var a=r("safe-buffer").Buffer;function s(l,u,c){for(var f,h,d=-1,m=0;++d<8;)f=u&1<<7-d?128:0,m+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>d%8,l._prev=o(l._prev,c?f:h);return m}function o(l,u){var c=l.length,f=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([u])]);++f<c;)h[f]=l[f]<<1|l[f+1]>>7;return h}i.encrypt=function(l,u,c){for(var f=u.length,h=a.allocUnsafe(f),d=-1;++d<f;)h[d]=s(l,u[d],c);return h}},{"safe-buffer":494}],199:[function(r,n,i){var a=r("safe-buffer").Buffer;function s(o,l,u){var c=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=a.concat([o._prev.slice(1),a.from([u?l:c])]),c}i.encrypt=function(o,l,u){for(var c=l.length,f=a.allocUnsafe(c),h=-1;++h<c;)f[h]=s(o,l[h],u);return f}},{"safe-buffer":494}],200:[function(r,n,i){var a=r("buffer-xor"),s=r("safe-buffer").Buffer,o=r("../incr32");function l(u){var c=u._cipher.encryptBlockRaw(u._prev);return o(u._prev),c}i.encrypt=function(u,c){var f=Math.ceil(c.length/16),h=u._cache.length;u._cache=s.concat([u._cache,s.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var m=l(u),g=h+16*d;u._cache.writeUInt32BE(m[0],g+0),u._cache.writeUInt32BE(m[1],g+4),u._cache.writeUInt32BE(m[2],g+8),u._cache.writeUInt32BE(m[3],g+12)}var p=u._cache.slice(0,c.length);return u._cache=u._cache.slice(c.length),a(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(a,s){return a._cipher.encryptBlock(s)},i.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(r,n,i){var a={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},s=r("./list.json");for(var o in s)s[o].module=a[s[o].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(a){(function(){var s=r("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,u){for(;l._cache.length<u.length;)l._cache=a.concat([l._cache,o(l)]);var c=l._cache.slice(0,u.length);return l._cache=l._cache.slice(u.length),s(u,c)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var a=r("./aes"),s=r("safe-buffer").Buffer,o=r("cipher-base");function l(u,c,f,h){o.call(this),this._cipher=new a.AES(c),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=u}r("inherits")(l,o),l.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var a=r("browserify-des"),s=r("browserify-aes/browser"),o=r("browserify-aes/modes"),l=r("browserify-des/modes"),u=r("evp_bytestokey");function c(h,d,m){if(h=h.toLowerCase(),o[h])return s.createCipheriv(h,d,m);if(l[h])return new a({key:d,iv:m,mode:h});throw new TypeError("invalid suite type")}function f(h,d,m){if(h=h.toLowerCase(),o[h])return s.createDecipheriv(h,d,m);if(l[h])return new a({key:d,iv:m,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,d){var m,g;if(h=h.toLowerCase(),o[h])m=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,g=l[h].iv}var p=u(d,!1,m,g);return c(h,p.key,p.iv)},i.createCipheriv=i.Cipheriv=c,i.createDecipher=i.Decipher=function(h,d){var m,g;if(h=h.toLowerCase(),o[h])m=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,g=l[h].iv}var p=u(d,!1,m,g);return f(h,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var a=r("cipher-base"),s=r("des.js"),o=r("inherits"),l=r("safe-buffer").Buffer,u={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(f){a.call(this);var h,d=f.mode.toLowerCase(),m=u[d];h=f.decrypt?"decrypt":"encrypt";var g=f.key;l.isBuffer(g)||(g=l.from(g)),d!=="des-ede"&&d!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var p=f.iv;l.isBuffer(p)||(p=l.from(p)),this._des=m.create({key:g,iv:p,type:h})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],n.exports=c,o(c,a),c.prototype._update=function(f){return l.from(this._des.update(f))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(a){(function(){var s=r("bn.js"),o=r("randombytes");function l(c){var f,h=c.modulus.byteLength();do f=new s(o(h));while(f.cmp(c.modulus)>=0||!f.umod(c.prime1)||!f.umod(c.prime2));return f}function u(c,f){var h=function(I){var T=l(I);return{blinder:T.toRed(s.mont(I.modulus)).redPow(new s(I.publicExponent)).fromRed(),unblinder:T.invm(I.modulus)}}(f),d=f.modulus.byteLength(),m=new s(c).mul(h.blinder).umod(f.modulus),g=m.toRed(s.mont(f.prime1)),p=m.toRed(s.mont(f.prime2)),v=f.coefficient,y=f.prime1,b=f.prime2,x=g.redPow(f.exponent1).fromRed(),C=p.redPow(f.exponent2).fromRed(),O=x.isub(C).imul(v).umod(y).imul(b);return C.iadd(O).imul(h.unblinder).umod(f.modulus).toArrayLike(a,"be",d)}u.getr=l,n.exports=u}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("create-hash"),o=r("readable-stream"),l=r("inherits"),u=r("./sign"),c=r("./verify"),f=r("./algorithms.json");function h(p){o.Writable.call(this);var v=f[p];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function d(p){o.Writable.call(this);var v=f[p];if(!v)throw new Error("Unknown message digest");this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function m(p){return new h(p)}function g(p){return new d(p)}Object.keys(f).forEach(function(p){f[p].id=a.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]}),l(h,o.Writable),h.prototype._write=function(p,v,y){this._hash.update(p),y()},h.prototype.update=function(p,v){return typeof p=="string"&&(p=a.from(p,v)),this._hash.update(p),this},h.prototype.sign=function(p,v){this.end();var y=this._hash.digest(),b=u(y,p,this._hashType,this._signType,this._tag);return v?b.toString(v):b},l(d,o.Writable),d.prototype._write=function(p,v,y){this._hash.update(p),y()},d.prototype.update=function(p,v){return typeof p=="string"&&(p=a.from(p,v)),this._hash.update(p),this},d.prototype.verify=function(p,v,y){typeof v=="string"&&(v=a.from(v,y)),this.end();var b=this._hash.digest();return c(v,b,p,this._signType,this._tag)},n.exports={Sign:m,Verify:g,createSign:m,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("create-hmac"),o=r("browserify-rsa"),l=r("elliptic").ec,u=r("bn.js"),c=r("parse-asn1"),f=r("./curves.json");function h(p,v,y,b){if((p=a.from(p.toArray())).length<v.byteLength()){var x=a.alloc(v.byteLength()-p.length);p=a.concat([x,p])}var C=y.length,O=function(M,B){M=(M=d(M,B)).mod(B);var L=a.from(M.toArray());if(L.length<B.byteLength()){var P=a.alloc(B.byteLength()-L.length);L=a.concat([P,L])}return L}(y,v),I=a.alloc(C);I.fill(1);var T=a.alloc(C);return T=s(b,T).update(I).update(a.from([0])).update(p).update(O).digest(),I=s(b,T).update(I).digest(),{k:T=s(b,T).update(I).update(a.from([1])).update(p).update(O).digest(),v:I=s(b,T).update(I).digest()}}function d(p,v){var y=new u(p),b=(p.length<<3)-v.bitLength();return b>0&&y.ishrn(b),y}function m(p,v,y){var b,x;do{for(b=a.alloc(0);8*b.length<p.bitLength();)v.v=s(y,v.k).update(v.v).digest(),b=a.concat([b,v.v]);x=d(b,p),v.k=s(y,v.k).update(v.v).update(a.from([0])).digest(),v.v=s(y,v.k).update(v.v).digest()}while(x.cmp(p)!==-1);return x}function g(p,v,y,b){return p.toRed(u.mont(y)).redPow(v).fromRed().mod(b)}n.exports=function(p,v,y,b,x){var C=c(v);if(C.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,B){var L=f[B.curve.join(".")];if(!L)throw new Error("unknown curve "+B.curve.join("."));var P=new l(L).keyFromPrivate(B.privateKey).sign(M);return a.from(P.toDER())}(p,C)}if(C.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(M,B,L){for(var P,A=B.params.priv_key,j=B.params.p,E=B.params.q,w=B.params.g,S=new u(0),_=d(M,E).mod(E),k=!1,N=h(A,E,M,L);k===!1;)P=m(E,N,L),S=g(w,P,j,E),(k=P.invm(E).imul(_.add(A.mul(S))).mod(E)).cmpn(0)===0&&(k=!1,S=new u(0));return function($,R){$=$.toArray(),R=R.toArray(),128&$[0]&&($=[0].concat($)),128&R[0]&&(R=[0].concat(R));var H=[48,$.length+R.length+4,2,$.length];return H=H.concat($,[2,R.length],R),a.from(H)}(S,k)}(p,C,y)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=a.concat([x,p]);for(var O=C.modulus.byteLength(),I=[0,1];p.length+I.length+1<O;)I.push(255);I.push(0);for(var T=-1;++T<p.length;)I.push(p[T]);return o(I,C)},n.exports.getKey=h,n.exports.makeKey=m},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("bn.js"),o=r("elliptic").ec,l=r("parse-asn1"),u=r("./curves.json");function c(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(f,h,d,m,g){var p=l(d);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return function(I,T,M){var B=u[M.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var L=new o(B),P=M.data.subjectPrivateKey.data;return L.verify(T,I,P)}(f,h,p)}if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return function(I,T,M){var B=M.data.p,L=M.data.q,P=M.data.g,A=M.data.pub_key,j=l.signature.decode(I,"der"),E=j.s,w=j.r;c(E,L),c(w,L);var S=s.mont(B),_=E.invm(L);return P.toRed(S).redPow(new s(T).mul(_).mod(L)).fromRed().mul(A.toRed(S).redPow(w.mul(_).mod(L)).fromRed()).mod(B).mod(L).cmp(w)===0}(f,h,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([g,h]);for(var v=p.modulus.byteLength(),y=[1],b=0;h.length+y.length+2<v;)y.push(255),b++;y.push(0);for(var x=-1;++x<h.length;)y.push(h[x]);y=a.from(y);var C=s.mont(p.modulus);f=(f=new s(f).toRed(C)).redPow(new s(p.publicExponent)),f=a.from(f.fromRed().toArray());var O=b<8?1:0;for(v=Math.min(f.length,y.length),f.length!==y.length&&(O=1),x=-1;++x<v;)O|=f[x]^y[x];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var a=r("buffer"),s=a.Buffer;function o(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(o(a,i),i.Buffer=l),o(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],218:[function(r,n,i){var a=r("safe-buffer").Buffer,s=a.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(p){var v;switch(this.encoding=function(y){var b=function(x){if(!x)return"utf8";for(var C;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(C)return;x=(""+x).toLowerCase(),C=!0}}(y);if(typeof b!="string"&&(a.isEncoding===s||!s(y)))throw new Error("Unknown encoding: "+y);return b||y}(p),this.encoding){case"utf16le":this.text=c,this.end=f,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=h,this.end=d,v=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function u(p){var v=this.lastTotal-this.lastNeed,y=function(b,x,C){if((192&x[0])!=128)return b.lastNeed=0,"";if(b.lastNeed>1&&x.length>1){if((192&x[1])!=128)return b.lastNeed=1,"";if(b.lastNeed>2&&x.length>2&&(192&x[2])!=128)return b.lastNeed=2,""}}(this,p);return y!==void 0?y:this.lastNeed<=p.length?(p.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,v,0,p.length),void(this.lastNeed-=p.length))}function c(p,v){if((p.length-v)%2==0){var y=p.toString("utf16le",v);if(y){var b=y.charCodeAt(y.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",v,p.length-1)}function f(p){var v=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(p,v){var y=(p.length-v)%3;return y===0?p.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",v,p.length-y))}function d(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function m(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}i.StringDecoder=o,o.prototype.write=function(p){if(p.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(p))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?v?v+this.text(p,y):this.text(p,y):v||""},o.prototype.end=function(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+"":v},o.prototype.text=function(p,v){var y=function(x,C,O){var I=C.length-1;if(I<O)return 0;var T=l(C[I]);return T>=0?(T>0&&(x.lastNeed=T-1),T):--I<O||T===-2?0:(T=l(C[I]))>=0?(T>0&&(x.lastNeed=T-2),T):--I<O||T===-2?0:(T=l(C[I]))>=0?(T>0&&(T===2?T=0:x.lastNeed=T-3),T):0}(this,p,v);if(!this.lastNeed)return p.toString("utf8",v);this.lastTotal=y;var b=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",v,b)},o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(a){(function(){n.exports=function(s,o){for(var l=Math.min(s.length,o.length),u=new a(l),c=0;c<l;++c)u[c]=s[c]^o[c];return u}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(a){(function(){var s=r("base64-js"),o=r("ieee754");i.Buffer=u,i.SlowBuffer=function(z){return+z!=z&&(z=0),u.alloc(+z)},i.INSPECT_MAX_BYTES=50;function l(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var D=new Uint8Array(z);return D.__proto__=u.prototype,D}function u(z,D,G){if(typeof z=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return c(z,D,G)}function c(z,D,G){if(typeof z=="string")return function(se,le){if(typeof le=="string"&&le!==""||(le="utf8"),!u.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var fe=0|g(se,le),ie=l(fe),oe=ie.write(se,le);return oe!==fe&&(ie=ie.slice(0,oe)),ie}(z,D);if(ArrayBuffer.isView(z))return d(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(V(z,ArrayBuffer)||z&&V(z.buffer,ArrayBuffer))return function(se,le,fe){if(le<0||se.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<le+(fe||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=le===void 0&&fe===void 0?new Uint8Array(se):fe===void 0?new Uint8Array(se,le):new Uint8Array(se,le,fe),ie.__proto__=u.prototype,ie}(z,D,G);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var te=z.valueOf&&z.valueOf();if(te!=null&&te!==z)return u.from(te,D,G);var ae=function(se){if(u.isBuffer(se)){var le=0|m(se.length),fe=l(le);return fe.length===0||se.copy(fe,0,0,le),fe}if(se.length!==void 0)return typeof se.length!="number"||Z(se.length)?l(0):d(se);if(se.type==="Buffer"&&Array.isArray(se.data))return d(se.data)}(z);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return u.from(z[Symbol.toPrimitive]("string"),D,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function h(z){return f(z),l(z<0?0:0|m(z))}function d(z){for(var D=z.length<0?0:0|m(z.length),G=l(D),te=0;te<D;te+=1)G[te]=255&z[te];return G}function m(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function g(z,D){if(u.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||V(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var G=z.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&G===0)return 0;for(var ae=!1;;)switch(D){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return H(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return K(z).length;default:if(ae)return te?-1:H(z).length;D=(""+D).toLowerCase(),ae=!0}}function p(z,D,G){var te=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(D>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return j(this,D,G);case"utf8":case"utf-8":return L(this,D,G);case"ascii":return P(this,D,G);case"latin1":case"binary":return A(this,D,G);case"base64":return B(this,D,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,D,G);default:if(te)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),te=!0}}function v(z,D,G){var te=z[D];z[D]=z[G],z[G]=te}function y(z,D,G,te,ae){if(z.length===0)return-1;if(typeof G=="string"?(te=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Z(G=+G)&&(G=ae?0:z.length-1),G<0&&(G=z.length+G),G>=z.length){if(ae)return-1;G=z.length-1}else if(G<0){if(!ae)return-1;G=0}if(typeof D=="string"&&(D=u.from(D,te)),u.isBuffer(D))return D.length===0?-1:b(z,D,G,te,ae);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(z,D,G):Uint8Array.prototype.lastIndexOf.call(z,D,G):b(z,[D],G,te,ae);throw new TypeError("val must be string, number or Buffer")}function b(z,D,G,te,ae){var se,le=1,fe=z.length,ie=D.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(z.length<2||D.length<2)return-1;le=2,fe/=2,ie/=2,G/=2}function oe(Se,Ae){return le===1?Se[Ae]:Se.readUInt16BE(Ae*le)}if(ae){var be=-1;for(se=G;se<fe;se++)if(oe(z,se)===oe(D,be===-1?0:se-be)){if(be===-1&&(be=se),se-be+1===ie)return be*le}else be!==-1&&(se-=se-be),be=-1}else for(G+ie>fe&&(G=fe-ie),se=G;se>=0;se--){for(var ve=!0,we=0;we<ie;we++)if(oe(z,se+we)!==oe(D,we)){ve=!1;break}if(ve)return se}return-1}function x(z,D,G,te){G=Number(G)||0;var ae=z.length-G;te?(te=Number(te))>ae&&(te=ae):te=ae;var se=D.length;te>se/2&&(te=se/2);for(var le=0;le<te;++le){var fe=parseInt(D.substr(2*le,2),16);if(Z(fe))return le;z[G+le]=fe}return le}function C(z,D,G,te){return J(H(D,z.length-G),z,G,te)}function O(z,D,G,te){return J(function(ae){for(var se=[],le=0;le<ae.length;++le)se.push(255&ae.charCodeAt(le));return se}(D),z,G,te)}function I(z,D,G,te){return O(z,D,G,te)}function T(z,D,G,te){return J(K(D),z,G,te)}function M(z,D,G,te){return J(function(ae,se){for(var le,fe,ie,oe=[],be=0;be<ae.length&&!((se-=2)<0);++be)le=ae.charCodeAt(be),fe=le>>8,ie=le%256,oe.push(ie),oe.push(fe);return oe}(D,z.length-G),z,G,te)}function B(z,D,G){return D===0&&G===z.length?s.fromByteArray(z):s.fromByteArray(z.slice(D,G))}function L(z,D,G){G=Math.min(z.length,G);for(var te=[],ae=D;ae<G;){var se,le,fe,ie,oe=z[ae],be=null,ve=oe>239?4:oe>223?3:oe>191?2:1;if(ae+ve<=G)switch(ve){case 1:oe<128&&(be=oe);break;case 2:(192&(se=z[ae+1]))==128&&(ie=(31&oe)<<6|63&se)>127&&(be=ie);break;case 3:se=z[ae+1],le=z[ae+2],(192&se)==128&&(192&le)==128&&(ie=(15&oe)<<12|(63&se)<<6|63&le)>2047&&(ie<55296||ie>57343)&&(be=ie);break;case 4:se=z[ae+1],le=z[ae+2],fe=z[ae+3],(192&se)==128&&(192&le)==128&&(192&fe)==128&&(ie=(15&oe)<<18|(63&se)<<12|(63&le)<<6|63&fe)>65535&&ie<1114112&&(be=ie)}be===null?(be=65533,ve=1):be>65535&&(be-=65536,te.push(be>>>10&1023|55296),be=56320|1023&be),te.push(be),ae+=ve}return function(we){var Se=we.length;if(Se<=4096)return String.fromCharCode.apply(String,we);for(var Ae="",Pe=0;Pe<Se;)Ae+=String.fromCharCode.apply(String,we.slice(Pe,Pe+=4096));return Ae}(te)}i.kMaxLength=2147483647,u.TYPED_ARRAY_SUPPORT=function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(z,D,G){return c(z,D,G)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(z,D,G){return function(te,ae,se){return f(te),te<=0?l(te):ae!==void 0?typeof se=="string"?l(te).fill(ae,se):l(te).fill(ae):l(te)}(z,D,G)},u.allocUnsafe=function(z){return h(z)},u.allocUnsafeSlow=function(z){return h(z)},u.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==u.prototype},u.compare=function(z,D){if(V(z,Uint8Array)&&(z=u.from(z,z.offset,z.byteLength)),V(D,Uint8Array)&&(D=u.from(D,D.offset,D.byteLength)),!u.isBuffer(z)||!u.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===D)return 0;for(var G=z.length,te=D.length,ae=0,se=Math.min(G,te);ae<se;++ae)if(z[ae]!==D[ae]){G=z[ae],te=D[ae];break}return G<te?-1:te<G?1:0},u.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(z,D){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return u.alloc(0);var G;if(D===void 0)for(D=0,G=0;G<z.length;++G)D+=z[G].length;var te=u.allocUnsafe(D),ae=0;for(G=0;G<z.length;++G){var se=z[G];if(V(se,Uint8Array)&&(se=u.from(se)),!u.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(te,ae),ae+=se.length}return te},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<z;D+=2)v(this,D,D+1);return this},u.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<z;D+=4)v(this,D,D+3),v(this,D+1,D+2);return this},u.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<z;D+=8)v(this,D,D+7),v(this,D+1,D+6),v(this,D+2,D+5),v(this,D+3,D+4);return this},u.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?L(this,0,z):p.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(z){if(!u.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||u.compare(this,z)===0},u.prototype.inspect=function(){var z="",D=i.INSPECT_MAX_BYTES;return z=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(z+=" ... "),"<Buffer "+z+">"},u.prototype.compare=function(z,D,G,te,ae){if(V(z,Uint8Array)&&(z=u.from(z,z.offset,z.byteLength)),!u.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(D===void 0&&(D=0),G===void 0&&(G=z?z.length:0),te===void 0&&(te=0),ae===void 0&&(ae=this.length),D<0||G>z.length||te<0||ae>this.length)throw new RangeError("out of range index");if(te>=ae&&D>=G)return 0;if(te>=ae)return-1;if(D>=G)return 1;if(this===z)return 0;for(var se=(ae>>>=0)-(te>>>=0),le=(G>>>=0)-(D>>>=0),fe=Math.min(se,le),ie=this.slice(te,ae),oe=z.slice(D,G),be=0;be<fe;++be)if(ie[be]!==oe[be]){se=ie[be],le=oe[be];break}return se<le?-1:le<se?1:0},u.prototype.includes=function(z,D,G){return this.indexOf(z,D,G)!==-1},u.prototype.indexOf=function(z,D,G){return y(this,z,D,G,!0)},u.prototype.lastIndexOf=function(z,D,G){return y(this,z,D,G,!1)},u.prototype.write=function(z,D,G,te){if(D===void 0)te="utf8",G=this.length,D=0;else if(G===void 0&&typeof D=="string")te=D,G=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(G)?(G>>>=0,te===void 0&&(te="utf8")):(te=G,G=void 0)}var ae=this.length-D;if((G===void 0||G>ae)&&(G=ae),z.length>0&&(G<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var se=!1;;)switch(te){case"hex":return x(this,z,D,G);case"utf8":case"utf-8":return C(this,z,D,G);case"ascii":return O(this,z,D,G);case"latin1":case"binary":return I(this,z,D,G);case"base64":return T(this,z,D,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,z,D,G);default:if(se)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),se=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(z,D,G){var te="";G=Math.min(z.length,G);for(var ae=D;ae<G;++ae)te+=String.fromCharCode(127&z[ae]);return te}function A(z,D,G){var te="";G=Math.min(z.length,G);for(var ae=D;ae<G;++ae)te+=String.fromCharCode(z[ae]);return te}function j(z,D,G){var te=z.length;(!D||D<0)&&(D=0),(!G||G<0||G>te)&&(G=te);for(var ae="",se=D;se<G;++se)ae+=R(z[se]);return ae}function E(z,D,G){for(var te=z.slice(D,G),ae="",se=0;se<te.length;se+=2)ae+=String.fromCharCode(te[se]+256*te[se+1]);return ae}function w(z,D,G){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+D>G)throw new RangeError("Trying to access beyond buffer length")}function S(z,D,G,te,ae,se){if(!u.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ae||D<se)throw new RangeError('"value" argument is out of bounds');if(G+te>z.length)throw new RangeError("Index out of range")}function _(z,D,G,te,ae,se){if(G+te>z.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function k(z,D,G,te,ae){return D=+D,G>>>=0,ae||_(z,0,G,4),o.write(z,D,G,te,23,4),G+4}function N(z,D,G,te,ae){return D=+D,G>>>=0,ae||_(z,0,G,8),o.write(z,D,G,te,52,8),G+8}u.prototype.slice=function(z,D){var G=this.length;(z=~~z)<0?(z+=G)<0&&(z=0):z>G&&(z=G),(D=D===void 0?G:~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),D<z&&(D=z);var te=this.subarray(z,D);return te.__proto__=u.prototype,te},u.prototype.readUIntLE=function(z,D,G){z>>>=0,D>>>=0,G||w(z,D,this.length);for(var te=this[z],ae=1,se=0;++se<D&&(ae*=256);)te+=this[z+se]*ae;return te},u.prototype.readUIntBE=function(z,D,G){z>>>=0,D>>>=0,G||w(z,D,this.length);for(var te=this[z+--D],ae=1;D>0&&(ae*=256);)te+=this[z+--D]*ae;return te},u.prototype.readUInt8=function(z,D){return z>>>=0,D||w(z,1,this.length),this[z]},u.prototype.readUInt16LE=function(z,D){return z>>>=0,D||w(z,2,this.length),this[z]|this[z+1]<<8},u.prototype.readUInt16BE=function(z,D){return z>>>=0,D||w(z,2,this.length),this[z]<<8|this[z+1]},u.prototype.readUInt32LE=function(z,D){return z>>>=0,D||w(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},u.prototype.readUInt32BE=function(z,D){return z>>>=0,D||w(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},u.prototype.readIntLE=function(z,D,G){z>>>=0,D>>>=0,G||w(z,D,this.length);for(var te=this[z],ae=1,se=0;++se<D&&(ae*=256);)te+=this[z+se]*ae;return te>=(ae*=128)&&(te-=Math.pow(2,8*D)),te},u.prototype.readIntBE=function(z,D,G){z>>>=0,D>>>=0,G||w(z,D,this.length);for(var te=D,ae=1,se=this[z+--te];te>0&&(ae*=256);)se+=this[z+--te]*ae;return se>=(ae*=128)&&(se-=Math.pow(2,8*D)),se},u.prototype.readInt8=function(z,D){return z>>>=0,D||w(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},u.prototype.readInt16LE=function(z,D){z>>>=0,D||w(z,2,this.length);var G=this[z]|this[z+1]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt16BE=function(z,D){z>>>=0,D||w(z,2,this.length);var G=this[z+1]|this[z]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt32LE=function(z,D){return z>>>=0,D||w(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},u.prototype.readInt32BE=function(z,D){return z>>>=0,D||w(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},u.prototype.readFloatLE=function(z,D){return z>>>=0,D||w(z,4,this.length),o.read(this,z,!0,23,4)},u.prototype.readFloatBE=function(z,D){return z>>>=0,D||w(z,4,this.length),o.read(this,z,!1,23,4)},u.prototype.readDoubleLE=function(z,D){return z>>>=0,D||w(z,8,this.length),o.read(this,z,!0,52,8)},u.prototype.readDoubleBE=function(z,D){return z>>>=0,D||w(z,8,this.length),o.read(this,z,!1,52,8)},u.prototype.writeUIntLE=function(z,D,G,te){z=+z,D>>>=0,G>>>=0,te||S(this,z,D,G,Math.pow(2,8*G)-1,0);var ae=1,se=0;for(this[D]=255&z;++se<G&&(ae*=256);)this[D+se]=z/ae&255;return D+G},u.prototype.writeUIntBE=function(z,D,G,te){z=+z,D>>>=0,G>>>=0,te||S(this,z,D,G,Math.pow(2,8*G)-1,0);var ae=G-1,se=1;for(this[D+ae]=255&z;--ae>=0&&(se*=256);)this[D+ae]=z/se&255;return D+G},u.prototype.writeUInt8=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,1,255,0),this[D]=255&z,D+1},u.prototype.writeUInt16LE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,2,65535,0),this[D]=255&z,this[D+1]=z>>>8,D+2},u.prototype.writeUInt16BE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,2,65535,0),this[D]=z>>>8,this[D+1]=255&z,D+2},u.prototype.writeUInt32LE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,4,4294967295,0),this[D+3]=z>>>24,this[D+2]=z>>>16,this[D+1]=z>>>8,this[D]=255&z,D+4},u.prototype.writeUInt32BE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,4,4294967295,0),this[D]=z>>>24,this[D+1]=z>>>16,this[D+2]=z>>>8,this[D+3]=255&z,D+4},u.prototype.writeIntLE=function(z,D,G,te){if(z=+z,D>>>=0,!te){var ae=Math.pow(2,8*G-1);S(this,z,D,G,ae-1,-ae)}var se=0,le=1,fe=0;for(this[D]=255&z;++se<G&&(le*=256);)z<0&&fe===0&&this[D+se-1]!==0&&(fe=1),this[D+se]=(z/le>>0)-fe&255;return D+G},u.prototype.writeIntBE=function(z,D,G,te){if(z=+z,D>>>=0,!te){var ae=Math.pow(2,8*G-1);S(this,z,D,G,ae-1,-ae)}var se=G-1,le=1,fe=0;for(this[D+se]=255&z;--se>=0&&(le*=256);)z<0&&fe===0&&this[D+se+1]!==0&&(fe=1),this[D+se]=(z/le>>0)-fe&255;return D+G},u.prototype.writeInt8=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,1,127,-128),z<0&&(z=255+z+1),this[D]=255&z,D+1},u.prototype.writeInt16LE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,2,32767,-32768),this[D]=255&z,this[D+1]=z>>>8,D+2},u.prototype.writeInt16BE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,2,32767,-32768),this[D]=z>>>8,this[D+1]=255&z,D+2},u.prototype.writeInt32LE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,4,2147483647,-2147483648),this[D]=255&z,this[D+1]=z>>>8,this[D+2]=z>>>16,this[D+3]=z>>>24,D+4},u.prototype.writeInt32BE=function(z,D,G){return z=+z,D>>>=0,G||S(this,z,D,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[D]=z>>>24,this[D+1]=z>>>16,this[D+2]=z>>>8,this[D+3]=255&z,D+4},u.prototype.writeFloatLE=function(z,D,G){return k(this,z,D,!0,G)},u.prototype.writeFloatBE=function(z,D,G){return k(this,z,D,!1,G)},u.prototype.writeDoubleLE=function(z,D,G){return N(this,z,D,!0,G)},u.prototype.writeDoubleBE=function(z,D,G){return N(this,z,D,!1,G)},u.prototype.copy=function(z,D,G,te){if(!u.isBuffer(z))throw new TypeError("argument should be a Buffer");if(G||(G=0),te||te===0||(te=this.length),D>=z.length&&(D=z.length),D||(D=0),te>0&&te<G&&(te=G),te===G||z.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),z.length-D<te-G&&(te=z.length-D+G);var ae=te-G;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,G,te);else if(this===z&&G<D&&D<te)for(var se=ae-1;se>=0;--se)z[se+D]=this[se+G];else Uint8Array.prototype.set.call(z,this.subarray(G,te),D);return ae},u.prototype.fill=function(z,D,G,te){if(typeof z=="string"){if(typeof D=="string"?(te=D,D=0,G=this.length):typeof G=="string"&&(te=G,G=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!u.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(z.length===1){var ae=z.charCodeAt(0);(te==="utf8"&&ae<128||te==="latin1")&&(z=ae)}}else typeof z=="number"&&(z&=255);if(D<0||this.length<D||this.length<G)throw new RangeError("Out of range index");if(G<=D)return this;var se;if(D>>>=0,G=G===void 0?this.length:G>>>0,z||(z=0),typeof z=="number")for(se=D;se<G;++se)this[se]=z;else{var le=u.isBuffer(z)?z:u.from(z,te),fe=le.length;if(fe===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(se=0;se<G-D;++se)this[se+D]=le[se%fe]}return this};var $=/[^+/0-9A-Za-z-_]/g;function R(z){return z<16?"0"+z.toString(16):z.toString(16)}function H(z,D){var G;D=D||1/0;for(var te=z.length,ae=null,se=[],le=0;le<te;++le){if((G=z.charCodeAt(le))>55295&&G<57344){if(!ae){if(G>56319){(D-=3)>-1&&se.push(239,191,189);continue}if(le+1===te){(D-=3)>-1&&se.push(239,191,189);continue}ae=G;continue}if(G<56320){(D-=3)>-1&&se.push(239,191,189),ae=G;continue}G=65536+(ae-55296<<10|G-56320)}else ae&&(D-=3)>-1&&se.push(239,191,189);if(ae=null,G<128){if((D-=1)<0)break;se.push(G)}else if(G<2048){if((D-=2)<0)break;se.push(G>>6|192,63&G|128)}else if(G<65536){if((D-=3)<0)break;se.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;se.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return se}function K(z){return s.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace($,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(z))}function J(z,D,G,te){for(var ae=0;ae<te&&!(ae+G>=D.length||ae>=z.length);++ae)D[ae+G]=z[ae];return ae}function V(z,D){return z instanceof D||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===D.name}function Z(z){return z!=z}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("stream").Transform,o=r("string_decoder").StringDecoder;function l(u){s.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,s),l.prototype.update=function(u,c,f){typeof u=="string"&&(u=a.from(u,c));var h=this._update(u);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(u,c,f){var h;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(d){h=d}finally{f(h)}},l.prototype._flush=function(u){var c;try{this.push(this.__final())}catch(f){c=f}u(c)},l.prototype._finalOrDigest=function(u){var c=this.__final()||a.alloc(0);return u&&(c=this._toString(c,u,!0)),c},l.prototype._toString=function(u,c,f){if(this._decoder||(this._decoder=new o(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var h=this._decoder.write(u);return f&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var a=r("../internals/is-callable"),s=r("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var a=r("../internals/is-constructor"),s=r("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var a=r("../internals/is-callable"),s=String,o=TypeError;n.exports=function(l){if(typeof l=="object"||a(l))return l;throw new o("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var a=r("../internals/well-known-symbol"),s=r("../internals/object-create"),o=r("../internals/object-define-property").f,l=a("unscopables"),u=Array.prototype;u[l]===void 0&&o(u,l,{configurable:!0,value:s(null)}),n.exports=function(c){u[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var a=r("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(o,l){if(a(l,o))return o;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var a=r("../internals/is-object"),s=String,o=TypeError;n.exports=function(l){if(a(l))return l;throw new o(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var a=r("../internals/to-indexed-object"),s=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),l=function(u){return function(c,f,h){var d,m=a(c),g=o(m),p=s(h,g);if(u&&f!=f){for(;g>p;)if((d=m[p++])!=d)return!0}else for(;g>p;p++)if((u||p in m)&&m[p]===f)return u||p||0;return!u&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var a=r("../internals/function-bind-context"),s=r("../internals/function-uncurry-this"),o=r("../internals/indexed-object"),l=r("../internals/to-object"),u=r("../internals/length-of-array-like"),c=r("../internals/array-species-create"),f=s([].push),h=function(d){var m=d===1,g=d===2,p=d===3,v=d===4,y=d===6,b=d===7,x=d===5||y;return function(C,O,I,T){for(var M,B,L=l(C),P=o(L),A=a(O,I),j=u(P),E=0,w=T||c,S=m?w(C,j):g||b?w(C,0):void 0;j>E;E++)if((x||E in P)&&(B=A(M=P[E],E,L),d))if(m)S[E]=B;else if(B)switch(d){case 3:return!0;case 5:return M;case 6:return E;case 2:f(S,M)}else switch(d){case 4:return!1;case 7:f(S,M)}return y?-1:p||v?v:S}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var a=r("../internals/to-absolute-index"),s=r("../internals/length-of-array-like"),o=r("../internals/create-property"),l=Array,u=Math.max;n.exports=function(c,f,h){for(var d=s(c),m=a(f,d),g=a(h===void 0?d:h,d),p=l(u(g-m,0)),v=0;m<g;m++,v++)o(p,v,c[m]);return p.length=v,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var a=r("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var a=r("../internals/is-array"),s=r("../internals/is-constructor"),o=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),u=Array;n.exports=function(c){var f;return a(c)&&(f=c.constructor,(s(f)&&(f===u||a(f.prototype))||o(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?u:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var a=r("../internals/array-species-constructor");n.exports=function(s,o){return new(a(s))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var a=r("../internals/well-known-symbol")("iterator"),s=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){s=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(u,c){try{if(!c&&!s)return!1}catch{return!1}var f=!1;try{var h={};h[a]=function(){return{next:function(){return{done:f=!0}}}},u(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=a({}.toString),o=a("".slice);n.exports=function(l){return o(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var a=r("../internals/to-string-tag-support"),s=r("../internals/is-callable"),o=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),u=Object,c=o(function(){return arguments}())==="Arguments";n.exports=a?o:function(f){var h,d,m;return f===void 0?"Undefined":f===null?"Null":typeof(d=function(g,p){try{return g[p]}catch{}}(h=u(f),l))=="string"?d:c?o(h):(m=o(h))==="Object"&&s(h.callee)?"Arguments":m}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var a=r("../internals/has-own-property"),s=r("../internals/own-keys"),o=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(u,c,f){for(var h=s(c),d=l.f,m=o.f,g=0;g<h.length;g++){var p=h[g];a(u,p)||f&&a(f,p)||d(u,p,m(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var a=r("../internals/well-known-symbol")("match");n.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[a]=!1,"/./"[s](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var a=r("../internals/fails");n.exports=!a(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=a?function(l,u,c){return s.f(l,u,o(1,c))}:function(l,u,c){return l[u]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(r,n,i){var a=r("../internals/to-property-key"),s=r("../internals/object-define-property"),o=r("../internals/create-property-descriptor");n.exports=function(l,u,c){var f=a(u);f in l?s.f(l,f,o(0,c)):l[f]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var a=r("../internals/make-built-in"),s=r("../internals/object-define-property");n.exports=function(o,l,u){return u.get&&a(u.get,l,{getter:!0}),u.set&&a(u.set,l,{setter:!0}),s.f(o,l,u)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var a=r("../internals/is-callable"),s=r("../internals/object-define-property"),o=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(u,c,f,h){h||(h={});var d=h.enumerable,m=h.name!==void 0?h.name:c;if(a(f)&&o(f,m,h),h.global)d?u[c]=f:l(c,f);else{try{h.unsafe?u[c]&&(d=!0):delete u[c]}catch{}d?u[c]=f:s.f(u,c,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return u}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var a=r("../internals/global"),s=Object.defineProperty;n.exports=function(o,l){try{s(a,o,{value:l,configurable:!0,writable:!0})}catch{a[o]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var a=r("../internals/fails");n.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,n,i){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/is-object"),o=a.document,l=s(o)&&s(o.createElement);n.exports=function(u){return l?o.createElement(u):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var a=r("../internals/engine-is-deno"),s=r("../internals/engine-is-node");n.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var a=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var a=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/classof-raw");n.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var a=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var a,s,o=r("../internals/global"),l=r("../internals/engine-user-agent"),u=o.process,c=o.Deno,f=u&&u.versions||c&&c.version,h=f&&f.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(s=+a[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/object-get-own-property-descriptor").f,o=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),u=r("../internals/define-global-property"),c=r("../internals/copy-constructor-properties"),f=r("../internals/is-forced");n.exports=function(h,d){var m,g,p,v,y,b=h.target,x=h.global,C=h.stat;if(m=x?a:C?a[b]||u(b,{}):(a[b]||{}).prototype)for(g in d){if(v=d[g],p=h.dontCallGetSet?(y=s(m,g))&&y.value:m[g],!f(x?g:b+(C?".":"#")+g,h.forced)&&p!==void 0){if(typeof v==typeof p)continue;c(v,p)}(h.sham||p&&p.sham)&&o(v,"sham",!0),l(m,g,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(r,n,i){var a=r("../internals/function-bind-native"),s=Function.prototype,o=s.apply,l=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var a=r("../internals/function-uncurry-this-clause"),s=r("../internals/a-callable"),o=r("../internals/function-bind-native"),l=a(a.bind);n.exports=function(u,c){return s(u),c===void 0?u:o?l(u,c):function(){return u.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var a=r("../internals/fails");n.exports=!a(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,n,i){var a=r("../internals/function-bind-native"),s=Function.prototype.call;n.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/has-own-property"),o=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,u=s(o,"name"),c=u&&(function(){}).name==="something",f=u&&(!a||a&&l(o,"name").configurable);n.exports={EXISTS:u,PROPER:c,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/a-callable");n.exports=function(o,l,u){try{return a(s(Object.getOwnPropertyDescriptor(o,l)[u]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var a=r("../internals/classof-raw"),s=r("../internals/function-uncurry-this");n.exports=function(o){if(a(o)==="Function")return s(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var a=r("../internals/function-bind-native"),s=Function.prototype,o=s.call,l=a&&s.bind.bind(o,o);n.exports=a?l:function(u){return function(){return o.apply(u,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/is-callable"),o=function(l){return s(l)?l:void 0};n.exports=function(l,u){return arguments.length<2?o(a[l]):a[l]&&a[l][u]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var a=r("../internals/classof"),s=r("../internals/get-method"),o=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),u=r("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!o(c))return s(c,u)||s(c,"@@iterator")||l[a(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var a=r("../internals/function-call"),s=r("../internals/a-callable"),o=r("../internals/an-object"),l=r("../internals/try-to-string"),u=r("../internals/get-iterator-method"),c=TypeError;n.exports=function(f,h){var d=arguments.length<2?u(f):h;if(s(d))return o(a(d,f));throw new c(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/is-array"),o=r("../internals/is-callable"),l=r("../internals/classof-raw"),u=r("../internals/to-string"),c=a([].push);n.exports=function(f){if(o(f))return f;if(s(f)){for(var h=f.length,d=[],m=0;m<h;m++){var g=f[m];typeof g=="string"?c(d,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||c(d,u(g))}var p=d.length,v=!0;return function(y,b){if(v)return v=!1,b;if(s(this))return b;for(var x=0;x<p;x++)if(d[x]===y)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var a=r("../internals/a-callable"),s=r("../internals/is-null-or-undefined");n.exports=function(o,l){var u=o[l];return s(u)?void 0:a(u)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(a){(function(){var s=function(o){return o&&o.Math===Math&&o};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/to-object"),o=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,u){return o(s(l),u)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(r,n,i){var a=r("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/fails"),o=r("../internals/document-create-element");n.exports=!a&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/fails"),o=r("../internals/classof-raw"),l=Object,u=a("".split);n.exports=s(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return o(c)==="String"?u(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/is-callable"),o=r("../internals/shared-store"),l=a(Function.toString);s(o.inspectSource)||(o.inspectSource=function(u){return l(u)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var a,s,o,l=r("../internals/weak-map-basic-detection"),u=r("../internals/global"),c=r("../internals/is-object"),f=r("../internals/create-non-enumerable-property"),h=r("../internals/has-own-property"),d=r("../internals/shared-store"),m=r("../internals/shared-key"),g=r("../internals/hidden-keys"),p=u.TypeError,v=u.WeakMap;if(l||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,a=function(x,C){if(y.has(x))throw new p("Object already initialized");return C.facade=x,y.set(x,C),C},s=function(x){return y.get(x)||{}},o=function(x){return y.has(x)}}else{var b=m("state");g[b]=!0,a=function(x,C){if(h(x,b))throw new p("Object already initialized");return C.facade=x,f(x,b,C),C},s=function(x){return h(x,b)?x[b]:{}},o=function(x){return h(x,b)}}n.exports={set:a,get:s,has:o,enforce:function(x){return o(x)?s(x):a(x,{})},getterFor:function(x){return function(C){var O;if(!c(C)||(O=s(C)).type!==x)throw new p("Incompatible receiver, "+x+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var a=r("../internals/well-known-symbol"),s=r("../internals/iterators"),o=a("iterator"),l=Array.prototype;n.exports=function(u){return u!==void 0&&(s.Array===u||l[o]===u)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var a=r("../internals/classof-raw");n.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var a=r("../internals/document-all"),s=a.all;n.exports=a.IS_HTMLDDA?function(o){return typeof o=="function"||o===s}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/fails"),o=r("../internals/is-callable"),l=r("../internals/classof"),u=r("../internals/get-built-in"),c=r("../internals/inspect-source"),f=function(){},h=[],d=u("Reflect","construct"),m=/^\s*(?:class|function)\b/,g=a(m.exec),p=!m.test(f),v=function(b){if(!o(b))return!1;try{return d(f,h,b),!0}catch{return!1}},y=function(b){if(!o(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(m,c(b))}catch{return!0}};y.sham=!0,n.exports=!d||s(function(){var b;return v(v.call)||!v(Object)||!v(function(){b=!0})||b})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var a=r("../internals/fails"),s=r("../internals/is-callable"),o=/#|\.prototype\./,l=function(d,m){var g=c[u(d)];return g===h||g!==f&&(s(m)?a(m):!!m)},u=l.normalize=function(d){return String(d).replace(o,".").toLowerCase()},c=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(a){return a==null}},{}],289:[function(r,n,i){var a=r("../internals/is-callable"),s=r("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===o}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var a=r("../internals/is-object"),s=r("../internals/classof-raw"),o=r("../internals/well-known-symbol")("match");n.exports=function(l){var u;return a(l)&&((u=l[o])!==void 0?!!u:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var a=r("../internals/get-built-in"),s=r("../internals/is-callable"),o=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),u=Object;n.exports=l?function(c){return typeof c=="symbol"}:function(c){var f=a("Symbol");return s(f)&&o(f.prototype,u(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var a=r("../internals/function-bind-context"),s=r("../internals/function-call"),o=r("../internals/an-object"),l=r("../internals/try-to-string"),u=r("../internals/is-array-iterator-method"),c=r("../internals/length-of-array-like"),f=r("../internals/object-is-prototype-of"),h=r("../internals/get-iterator"),d=r("../internals/get-iterator-method"),m=r("../internals/iterator-close"),g=TypeError,p=function(y,b){this.stopped=y,this.result=b},v=p.prototype;n.exports=function(y,b,x){var C,O,I,T,M,B,L,P=x&&x.that,A=!(!x||!x.AS_ENTRIES),j=!(!x||!x.IS_RECORD),E=!(!x||!x.IS_ITERATOR),w=!(!x||!x.INTERRUPTED),S=a(b,P),_=function(N){return C&&m(C,"normal",N),new p(!0,N)},k=function(N){return A?(o(N),w?S(N[0],N[1],_):S(N[0],N[1])):w?S(N,_):S(N)};if(j)C=y.iterator;else if(E)C=y;else{if(!(O=d(y)))throw new g(l(y)+" is not iterable");if(u(O)){for(I=0,T=c(y);T>I;I++)if((M=k(y[I]))&&f(v,M))return M;return new p(!1)}C=h(y,O)}for(B=j?y.next:C.next;!(L=s(B,C)).done;){try{M=k(L.value)}catch(N){m(C,"throw",N)}if(typeof M=="object"&&M&&f(v,M))return M}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var a=r("../internals/function-call"),s=r("../internals/an-object"),o=r("../internals/get-method");n.exports=function(l,u,c){var f,h;s(l);try{if(!(f=o(l,"return"))){if(u==="throw")throw c;return c}f=a(f,l)}catch(d){h=!0,f=d}if(u==="throw")throw c;if(h)throw f;return s(f),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var a=r("../internals/iterators-core").IteratorPrototype,s=r("../internals/object-create"),o=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),u=r("../internals/iterators"),c=function(){return this};n.exports=function(f,h,d,m){var g=h+" Iterator";return f.prototype=s(a,{next:o(+!m,d)}),l(f,g,!1,!0),u[g]=c,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-call"),o=r("../internals/is-pure"),l=r("../internals/function-name"),u=r("../internals/is-callable"),c=r("../internals/iterator-create-constructor"),f=r("../internals/object-get-prototype-of"),h=r("../internals/object-set-prototype-of"),d=r("../internals/set-to-string-tag"),m=r("../internals/create-non-enumerable-property"),g=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),v=r("../internals/iterators"),y=r("../internals/iterators-core"),b=l.PROPER,x=l.CONFIGURABLE,C=y.IteratorPrototype,O=y.BUGGY_SAFARI_ITERATORS,I=p("iterator"),T=function(){return this};n.exports=function(M,B,L,P,A,j,E){c(L,B,P);var w,S,_,k=function(V){if(V===A&&K)return K;if(!O&&V&&V in R)return R[V];switch(V){case"keys":case"values":case"entries":return function(){return new L(this,V)}}return function(){return new L(this)}},N=B+" Iterator",$=!1,R=M.prototype,H=R[I]||R["@@iterator"]||A&&R[A],K=!O&&H||k(A),J=B==="Array"&&R.entries||H;if(J&&(w=f(J.call(new M)))!==Object.prototype&&w.next&&(o||f(w)===C||(h?h(w,C):u(w[I])||g(w,I,T)),d(w,N,!0,!0),o&&(v[N]=T)),b&&A==="values"&&H&&H.name!=="values"&&(!o&&x?m(R,"name","values"):($=!0,K=function(){return s(H,this)})),A)if(S={values:k("values"),keys:j?K:k("keys"),entries:k("entries")},E)for(_ in S)(O||$||!(_ in R))&&g(R,_,S[_]);else a({target:B,proto:!0,forced:O||$},S);return o&&!E||R[I]===K||g(R,I,K,{name:A}),v[B]=K,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var a,s,o,l=r("../internals/fails"),u=r("../internals/is-callable"),c=r("../internals/is-object"),f=r("../internals/object-create"),h=r("../internals/object-get-prototype-of"),d=r("../internals/define-built-in"),m=r("../internals/well-known-symbol"),g=r("../internals/is-pure"),p=m("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(s=h(h(o)))!==Object.prototype&&(a=s):v=!0),!c(a)||l(function(){var y={};return a[p].call(y)!==y})?a={}:g&&(a=f(a)),u(a[p])||d(a,p,function(){return this}),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var a=r("../internals/to-length");n.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/fails"),o=r("../internals/is-callable"),l=r("../internals/has-own-property"),u=r("../internals/descriptors"),c=r("../internals/function-name").CONFIGURABLE,f=r("../internals/inspect-source"),h=r("../internals/internal-state"),d=h.enforce,m=h.get,g=String,p=Object.defineProperty,v=a("".slice),y=a("".replace),b=a([].join),x=u&&!s(function(){return p(function(){},"length",{value:8}).length!==8}),C=String(String).split("String"),O=n.exports=function(I,T,M){v(g(T),0,7)==="Symbol("&&(T="["+y(g(T),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(T="get "+T),M&&M.setter&&(T="set "+T),(!l(I,"name")||c&&I.name!==T)&&(u?p(I,"name",{value:T,configurable:!0}):I.name=T),x&&M&&l(M,"arity")&&I.length!==M.arity&&p(I,"length",{value:M.arity});try{M&&l(M,"constructor")&&M.constructor?u&&p(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch{}var B=d(I);return l(B,"source")||(B.source=b(C,typeof T=="string"?T:"")),I};Function.prototype.toString=O(function(){return o(this)&&m(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var a=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(o){var l=+o;return(l>0?s:a)(l)}},{}],302:[function(r,n,i){var a,s,o,l,u,c=r("../internals/global"),f=r("../internals/function-bind-context"),h=r("../internals/object-get-own-property-descriptor").f,d=r("../internals/task").set,m=r("../internals/queue"),g=r("../internals/engine-is-ios"),p=r("../internals/engine-is-ios-pebble"),v=r("../internals/engine-is-webos-webkit"),y=r("../internals/engine-is-node"),b=c.MutationObserver||c.WebKitMutationObserver,x=c.document,C=c.process,O=c.Promise,I=h(c,"queueMicrotask"),T=I&&I.value;if(!T){var M=new m,B=function(){var L,P;for(y&&(L=C.domain)&&L.exit();P=M.get();)try{P()}catch(A){throw M.head&&a(),A}L&&L.enter()};g||y||v||!b||!x?!p&&O&&O.resolve?((l=O.resolve(void 0)).constructor=O,u=f(l.then,l),a=function(){u(B)}):y?a=function(){C.nextTick(B)}:(d=f(d,c),a=function(){d(B)}):(s=!0,o=x.createTextNode(""),new b(B).observe(o,{characterData:!0}),a=function(){o.data=s=!s}),T=function(L){M.head||a(),M.add(L)}}n.exports=T},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var a=r("../internals/a-callable"),s=TypeError,o=function(l){var u,c;this.promise=new l(function(f,h){if(u!==void 0||c!==void 0)throw new s("Bad Promise constructor");u=f,c=h}),this.resolve=a(u),this.reject=a(c)};n.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var a=r("../internals/is-regexp"),s=TypeError;n.exports=function(o){if(a(o))throw new s("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/function-uncurry-this"),o=r("../internals/function-call"),l=r("../internals/fails"),u=r("../internals/object-keys"),c=r("../internals/object-get-own-property-symbols"),f=r("../internals/object-property-is-enumerable"),h=r("../internals/to-object"),d=r("../internals/indexed-object"),m=Object.assign,g=Object.defineProperty,p=s([].concat);n.exports=!m||l(function(){if(a&&m({b:1},m(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},b=Symbol("assign detection");return v[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){y[x]=x}),m({},v)[b]!==7||u(m({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var b=h(v),x=arguments.length,C=1,O=c.f,I=f.f;x>C;)for(var T,M=d(arguments[C++]),B=O?p(u(M),O(M)):u(M),L=B.length,P=0;L>P;)T=B[P++],a&&!o(I,M,T)||(b[T]=M[T]);return b}:m},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var a,s=r("../internals/an-object"),o=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),u=r("../internals/hidden-keys"),c=r("../internals/html"),f=r("../internals/document-create-element"),h=r("../internals/shared-key"),d=h("IE_PROTO"),m=function(){},g=function(y){return"<script>"+y+"<\/script>"},p=function(y){y.write(g("")),y.close();var b=y.parentWindow.Object;return y=null,b},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var y,b;v=typeof document<"u"?document.domain&&a?p(a):((b=f("iframe")).style.display="none",c.appendChild(b),b.src="javascript:",(y=b.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):p(a);for(var x=l.length;x--;)delete v.prototype[l[x]];return v()};u[d]=!0,n.exports=Object.create||function(y,b){var x;return y!==null?(m.prototype=s(y),x=new m,m.prototype=null,x[d]=y):x=v(),b===void 0?x:o.f(x,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/v8-prototype-define-bug"),o=r("../internals/object-define-property"),l=r("../internals/an-object"),u=r("../internals/to-indexed-object"),c=r("../internals/object-keys");i.f=a&&!s?Object.defineProperties:function(f,h){l(f);for(var d,m=u(h),g=c(h),p=g.length,v=0;p>v;)o.f(f,d=g[v++],m[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/ie8-dom-define"),o=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),u=r("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=a?o?function(d,m,g){if(l(d),m=u(m),l(g),typeof d=="function"&&m==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=h(d,m);p&&p.writable&&(d[m]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return f(d,m,g)}:f:function(d,m,g){if(l(d),m=u(m),l(g),s)try{return f(d,m,g)}catch{}if("get"in g||"set"in g)throw new c("Accessors not supported");return"value"in g&&(d[m]=g.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/function-call"),o=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),u=r("../internals/to-indexed-object"),c=r("../internals/to-property-key"),f=r("../internals/has-own-property"),h=r("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=a?d:function(m,g){if(m=u(m),g=c(g),h)try{return d(m,g)}catch{}if(f(m,g))return l(!s(o.f,m,g),m[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var a=r("../internals/classof-raw"),s=r("../internals/to-indexed-object"),o=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return u&&a(c)==="Window"?function(f){try{return o(f)}catch{return l(u)}}(c):o(s(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var a=r("../internals/object-keys-internal"),s=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var a=r("../internals/has-own-property"),s=r("../internals/is-callable"),o=r("../internals/to-object"),l=r("../internals/shared-key"),u=r("../internals/correct-prototype-getter"),c=l("IE_PROTO"),f=Object,h=f.prototype;n.exports=u?f.getPrototypeOf:function(d){var m=o(d);if(a(m,c))return m[c];var g=m.constructor;return s(g)&&m instanceof g?g.prototype:m instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var a=r("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=r("../internals/has-own-property"),o=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,u=r("../internals/hidden-keys"),c=a([].push);n.exports=function(f,h){var d,m=o(f),g=0,p=[];for(d in m)!s(u,d)&&s(m,d)&&c(p,d);for(;h.length>g;)s(m,d=h[g++])&&(~l(p,d)||c(p,d));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var a=r("../internals/object-keys-internal"),s=r("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return a(o,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!a.call({1:2},1);i.f=o?function(l){var u=s(this,l);return!!u&&u.enumerable}:a},{}],318:[function(r,n,i){var a=r("../internals/function-uncurry-this-accessor"),s=r("../internals/an-object"),o=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,c={};try{(l=a(Object.prototype,"__proto__","set"))(c,[]),u=c instanceof Array}catch{}return function(f,h){return s(f),o(h),u?l(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/fails"),o=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),u=r("../internals/object-keys"),c=r("../internals/to-indexed-object"),f=o(r("../internals/object-property-is-enumerable").f),h=o([].push),d=a&&s(function(){var g=Object.create(null);return g[2]=2,!f(g,2)}),m=function(g){return function(p){for(var v,y=c(p),b=u(y),x=d&&l(y)===null,C=b.length,O=0,I=[];C>O;)v=b[O++],a&&!(x?v in y:f(y,v))||h(I,g?[v,y[v]]:y[v]);return I}};n.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var a=r("../internals/function-call"),s=r("../internals/is-callable"),o=r("../internals/is-object"),l=TypeError;n.exports=function(u,c){var f,h;if(c==="string"&&s(f=u.toString)&&!o(h=a(f,u))||s(f=u.valueOf)&&!o(h=a(f,u))||c!=="string"&&s(f=u.toString)&&!o(h=a(f,u)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var a=r("../internals/get-built-in"),s=r("../internals/function-uncurry-this"),o=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),u=r("../internals/an-object"),c=s([].concat);n.exports=a("Reflect","ownKeys")||function(f){var h=o.f(u(f)),d=l.f;return d?c(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var a=r("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/promise-native-constructor"),o=r("../internals/is-callable"),l=r("../internals/is-forced"),u=r("../internals/inspect-source"),c=r("../internals/well-known-symbol"),f=r("../internals/engine-is-browser"),h=r("../internals/engine-is-deno"),d=r("../internals/is-pure"),m=r("../internals/engine-v8-version"),g=s&&s.prototype,p=c("species"),v=!1,y=o(a.PromiseRejectionEvent),b=l("Promise",function(){var x=u(s),C=x!==String(s);if(!C&&m===66||d&&(!g.catch||!g.finally))return!0;if(!m||m<51||!/native code/.test(x)){var O=new s(function(T){T(1)}),I=function(T){T(function(){},function(){})};if((O.constructor={})[p]=I,!(v=O.then(function(){})instanceof I))return!0}return!C&&(f||h)&&!y});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var a=r("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(r,n,i){var a=r("../internals/an-object"),s=r("../internals/is-object"),o=r("../internals/new-promise-capability");n.exports=function(l,u){if(a(l),s(u)&&u.constructor===l)return u;var c=o.f(l);return(0,c.resolve)(u),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var a=r("../internals/promise-native-constructor"),s=r("../internals/check-correctness-of-iteration"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!s(function(l){a.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var o={item:s,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=a},{}],329:[function(r,n,i){var a=r("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(o){if(a(o))throw new s("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var a=r("../internals/get-built-in"),s=r("../internals/define-built-in-accessor"),o=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),u=o("species");n.exports=function(c){var f=a(c);l&&f&&!f[u]&&s(f,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var a=r("../internals/object-define-property").f,s=r("../internals/has-own-property"),o=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,u,c){l&&!c&&(l=l.prototype),l&&!s(l,o)&&a(l,o,{configurable:!0,value:u})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var a=r("../internals/shared"),s=r("../internals/uid"),o=a("keys");n.exports=function(l){return o[l]||(o[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/define-global-property"),o=a["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var a=r("../internals/is-pure"),s=r("../internals/shared-store");(n.exports=function(o,l){return s[o]||(s[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var a=r("../internals/an-object"),s=r("../internals/a-constructor"),o=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(u,c){var f,h=a(u).constructor;return h===void 0||o(f=a(h)[l])?c:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var a=r("../internals/engine-v8-version"),s=r("../internals/fails"),o=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var a=r("../internals/function-call"),s=r("../internals/get-built-in"),o=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var u=s("Symbol"),c=u&&u.prototype,f=c&&c.valueOf,h=o("toPrimitive");c&&!c[h]&&l(c,h,function(d){return a(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var a=r("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var a,s,o,l,u=r("../internals/global"),c=r("../internals/function-apply"),f=r("../internals/function-bind-context"),h=r("../internals/is-callable"),d=r("../internals/has-own-property"),m=r("../internals/fails"),g=r("../internals/html"),p=r("../internals/array-slice"),v=r("../internals/document-create-element"),y=r("../internals/validate-arguments-length"),b=r("../internals/engine-is-ios"),x=r("../internals/engine-is-node"),C=u.setImmediate,O=u.clearImmediate,I=u.process,T=u.Dispatch,M=u.Function,B=u.MessageChannel,L=u.String,P=0,A={};m(function(){a=u.location});var j=function(_){if(d(A,_)){var k=A[_];delete A[_],k()}},E=function(_){return function(){j(_)}},w=function(_){j(_.data)},S=function(_){u.postMessage(L(_),a.protocol+"//"+a.host)};C&&O||(C=function(_){y(arguments.length,1);var k=h(_)?_:M(_),N=p(arguments,1);return A[++P]=function(){c(k,void 0,N)},s(P),P},O=function(_){delete A[_]},x?s=function(_){I.nextTick(E(_))}:T&&T.now?s=function(_){T.now(E(_))}:B&&!b?(l=(o=new B).port2,o.port1.onmessage=w,s=f(l.postMessage,l)):u.addEventListener&&h(u.postMessage)&&!u.importScripts&&a&&a.protocol!=="file:"&&!m(S)?(s=S,u.addEventListener("message",w,!1)):s="onreadystatechange"in v("script")?function(_){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),j(_)}}:function(_){setTimeout(E(_),0)}),n.exports={set:C,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var a=r("../internals/to-integer-or-infinity"),s=Math.max,o=Math.min;n.exports=function(l,u){var c=a(l);return c<0?s(c+u,0):o(c,u)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var a=r("../internals/indexed-object"),s=r("../internals/require-object-coercible");n.exports=function(o){return a(s(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var a=r("../internals/math-trunc");n.exports=function(s){var o=+s;return o!=o||o===0?0:a(o)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var a=r("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(o){return o>0?s(a(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var a=r("../internals/require-object-coercible"),s=Object;n.exports=function(o){return s(a(o))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var a=r("../internals/function-call"),s=r("../internals/is-object"),o=r("../internals/is-symbol"),l=r("../internals/get-method"),u=r("../internals/ordinary-to-primitive"),c=r("../internals/well-known-symbol"),f=TypeError,h=c("toPrimitive");n.exports=function(d,m){if(!s(d)||o(d))return d;var g,p=l(d,h);if(p){if(m===void 0&&(m="default"),g=a(p,d,m),!s(g)||o(g))return g;throw new f("Can't convert object to primitive value")}return m===void 0&&(m="number"),u(d,m)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var a=r("../internals/to-primitive"),s=r("../internals/is-symbol");n.exports=function(o){var l=a(o,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var a={};a[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var a=r("../internals/classof"),s=String;n.exports=function(o){if(a(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(o)}},{"../internals/classof":236}],349:[function(r,n,i){var a=String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(r,n,i){var a=r("../internals/function-uncurry-this"),s=0,o=Math.random(),l=a(1 .toString);n.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+l(++s+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var a=r("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var a=r("../internals/descriptors"),s=r("../internals/fails");n.exports=a&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var a=TypeError;n.exports=function(s,o){if(s<o)throw new a("Not enough arguments");return s}},{}],354:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/is-callable"),o=a.WeakMap;n.exports=s(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var a=r("../internals/path"),s=r("../internals/has-own-property"),o=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(u){var c=a.Symbol||(a.Symbol={});s(c,u)||l(c,u,{value:o.f(u)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var a=r("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var a=r("../internals/global"),s=r("../internals/shared"),o=r("../internals/has-own-property"),l=r("../internals/uid"),u=r("../internals/symbol-constructor-detection"),c=r("../internals/use-symbol-as-uid"),f=a.Symbol,h=s("wks"),d=c?f.for||f:f&&f.withoutSetter||l;n.exports=function(m){return o(h,m)||(h[m]=u&&o(f,m)?f[m]:d("Symbol."+m)),h[m]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/array-iteration").findIndex,o=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/array-iteration").find,o=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),a({target:"Array",proto:!0,forced:l},{find:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/array-includes").includes,o=r("../internals/fails"),l=r("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var a=r("../internals/to-indexed-object"),s=r("../internals/add-to-unscopables"),o=r("../internals/iterators"),l=r("../internals/internal-state"),u=r("../internals/object-define-property").f,c=r("../internals/iterator-define"),f=r("../internals/create-iter-result-object"),h=r("../internals/is-pure"),d=r("../internals/descriptors"),m=l.set,g=l.getterFor("Array Iterator");n.exports=c(Array,"Array",function(v,y){m(this,{type:"Array Iterator",target:a(v),index:0,kind:y})},function(){var v=g(this),y=v.target,b=v.kind,x=v.index++;if(!y||x>=y.length)return v.target=void 0,f(void 0,!0);switch(b){case"keys":return f(x,!1);case"values":return f(y[x],!1)}return f([x,y[x]],!1)},"values");var p=o.Arguments=o.Array;if(s("keys"),s("values"),s("entries"),!h&&d&&p.name!=="values")try{u(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/get-built-in"),o=r("../internals/function-apply"),l=r("../internals/function-call"),u=r("../internals/function-uncurry-this"),c=r("../internals/fails"),f=r("../internals/is-callable"),h=r("../internals/is-symbol"),d=r("../internals/array-slice"),m=r("../internals/get-json-replacer-function"),g=r("../internals/symbol-constructor-detection"),p=String,v=s("JSON","stringify"),y=u(/./.exec),b=u("".charAt),x=u("".charCodeAt),C=u("".replace),O=u(1 .toString),I=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,B=!g||c(function(){var j=s("Symbol")("stringify detection");return v([j])!=="[null]"||v({a:j})!=="{}"||v(Object(j))!=="{}"}),L=c(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),P=function(j,E){var w=d(arguments),S=m(E);if(f(S)||j!==void 0&&!h(j))return w[1]=function(_,k){if(f(S)&&(k=l(S,this,p(_),k)),!h(k))return k},o(v,null,w)},A=function(j,E,w){var S=b(w,E-1),_=b(w,E+1);return y(T,j)&&!y(M,_)||y(M,j)&&!y(T,S)?"\\u"+O(x(j,0),16):j};v&&a({target:"JSON",stat:!0,arity:3,forced:B||L},{stringify:function(j,E,w){var S=d(arguments),_=o(B?P:v,null,S);return L&&typeof _=="string"?C(_,I,A):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/symbol-constructor-detection"),o=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),u=r("../internals/to-object");a({target:"Object",stat:!0,forced:!s||o(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var f=l.f;return f?f(u(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/to-object"),o=r("../internals/object-keys");a({target:"Object",stat:!0,forced:r("../internals/fails")(function(){o(1)})},{keys:function(l){return o(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(o){return s(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-call"),o=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),u=r("../internals/perform"),c=r("../internals/iterate");a({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=l.f(h),m=d.resolve,g=d.reject,p=u(function(){var v=o(h.resolve),y=[],b=0,x=1;c(f,function(C){var O=b++,I=!1;x++,s(v,h,C).then(function(T){I||(I=!0,y[O]=T,--x||m(y))},g)}),--x||m(y)});return p.error&&g(p.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/is-pure"),o=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),u=r("../internals/get-built-in"),c=r("../internals/is-callable"),f=r("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(m){return this.then(void 0,m)}}),!s&&c(l)){var d=u("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var a,s,o,l=r("../internals/export"),u=r("../internals/is-pure"),c=r("../internals/engine-is-node"),f=r("../internals/global"),h=r("../internals/function-call"),d=r("../internals/define-built-in"),m=r("../internals/object-set-prototype-of"),g=r("../internals/set-to-string-tag"),p=r("../internals/set-species"),v=r("../internals/a-callable"),y=r("../internals/is-callable"),b=r("../internals/is-object"),x=r("../internals/an-instance"),C=r("../internals/species-constructor"),O=r("../internals/task").set,I=r("../internals/microtask"),T=r("../internals/host-report-errors"),M=r("../internals/perform"),B=r("../internals/queue"),L=r("../internals/internal-state"),P=r("../internals/promise-native-constructor"),A=r("../internals/promise-constructor-detection"),j=r("../internals/new-promise-capability"),E=A.CONSTRUCTOR,w=A.REJECTION_EVENT,S=A.SUBCLASSING,_=L.getterFor("Promise"),k=L.set,N=P&&P.prototype,$=P,R=N,H=f.TypeError,K=f.document,J=f.process,V=j.f,Z=V,z=!!(K&&K.createEvent&&f.dispatchEvent),D=function(ve){var we;return!(!b(ve)||!y(we=ve.then))&&we},G=function(ve,we){var Se,Ae,Pe,Re=we.value,Ue=we.state===1,We=Ue?ve.ok:ve.fail,Ke=ve.resolve,Qe=ve.reject,rt=ve.domain;try{We?(Ue||(we.rejection===2&&fe(we),we.rejection=1),We===!0?Se=Re:(rt&&rt.enter(),Se=We(Re),rt&&(rt.exit(),Pe=!0)),Se===ve.promise?Qe(new H("Promise-chain cycle")):(Ae=D(Se))?h(Ae,Se,Ke,Qe):Ke(Se)):Qe(Re)}catch(dt){rt&&!Pe&&rt.exit(),Qe(dt)}},te=function(ve,we){ve.notified||(ve.notified=!0,I(function(){for(var Se,Ae=ve.reactions;Se=Ae.get();)G(Se,ve);ve.notified=!1,we&&!ve.rejection&&se(ve)}))},ae=function(ve,we,Se){var Ae,Pe;z?((Ae=K.createEvent("Event")).promise=we,Ae.reason=Se,Ae.initEvent(ve,!1,!0),f.dispatchEvent(Ae)):Ae={promise:we,reason:Se},!w&&(Pe=f["on"+ve])?Pe(Ae):ve==="unhandledrejection"&&T("Unhandled promise rejection",Se)},se=function(ve){h(O,f,function(){var we,Se=ve.facade,Ae=ve.value;if(le(ve)&&(we=M(function(){c?J.emit("unhandledRejection",Ae,Se):ae("unhandledrejection",Se,Ae)}),ve.rejection=c||le(ve)?2:1,we.error))throw we.value})},le=function(ve){return ve.rejection!==1&&!ve.parent},fe=function(ve){h(O,f,function(){var we=ve.facade;c?J.emit("rejectionHandled",we):ae("rejectionhandled",we,ve.value)})},ie=function(ve,we,Se){return function(Ae){ve(we,Ae,Se)}},oe=function(ve,we,Se){ve.done||(ve.done=!0,Se&&(ve=Se),ve.value=we,ve.state=2,te(ve,!0))},be=function(ve,we,Se){if(!ve.done){ve.done=!0,Se&&(ve=Se);try{if(ve.facade===we)throw new H("Promise can't be resolved itself");var Ae=D(we);Ae?I(function(){var Pe={done:!1};try{h(Ae,we,ie(be,Pe,ve),ie(oe,Pe,ve))}catch(Re){oe(Pe,Re,ve)}}):(ve.value=we,ve.state=1,te(ve,!1))}catch(Pe){oe({done:!1},Pe,ve)}}};if(E&&(R=($=function(ve){x(this,R),v(ve),h(a,this);var we=_(this);try{ve(ie(be,we),ie(oe,we))}catch(Se){oe(we,Se)}}).prototype,(a=function(ve){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=d(R,"then",function(ve,we){var Se=_(this),Ae=V(C(this,$));return Se.parent=!0,Ae.ok=!y(ve)||ve,Ae.fail=y(we)&&we,Ae.domain=c?J.domain:void 0,Se.state===0?Se.reactions.add(Ae):I(function(){G(Ae,Se)}),Ae.promise}),s=function(){var ve=new a,we=_(ve);this.promise=ve,this.resolve=ie(be,we),this.reject=ie(oe,we)},j.f=V=function(ve){return ve===$||ve===void 0?new s(ve):Z(ve)},!u&&y(P)&&N!==Object.prototype)){o=N.then,S||d(N,"then",function(ve,we){var Se=this;return new $(function(Ae,Pe){h(o,Se,Ae,Pe)}).then(ve,we)},{unsafe:!0});try{delete N.constructor}catch{}m&&m(N,R)}l({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:$}),g($,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/is-pure"),o=r("../internals/promise-native-constructor"),l=r("../internals/fails"),u=r("../internals/get-built-in"),c=r("../internals/is-callable"),f=r("../internals/species-constructor"),h=r("../internals/promise-resolve"),d=r("../internals/define-built-in"),m=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){m.finally.call({then:function(){}},function(){})})},{finally:function(p){var v=f(this,u("Promise")),y=c(p);return this.then(y?function(b){return h(v,p()).then(function(){return b})}:p,y?function(b){return h(v,p()).then(function(){throw b})}:p)}}),!s&&c(o)){var g=u("Promise").prototype.finally;m.finally!==g&&d(m,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-call"),o=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),u=r("../internals/perform"),c=r("../internals/iterate");a({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=l.f(h),m=d.reject,g=u(function(){var p=o(h.resolve);c(f,function(v){s(p,h,v).then(d.resolve,m)})});return g.error&&m(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-call"),o=r("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var u=o.f(this);return s(u.reject,void 0,l),u.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/get-built-in"),o=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),u=r("../internals/promise-constructor-detection").CONSTRUCTOR,c=r("../internals/promise-resolve"),f=s("Promise"),h=o&&!u;a({target:"Promise",stat:!0,forced:o||u},{resolve:function(d){return c(h&&this===f?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-uncurry-this"),o=r("../internals/to-absolute-index"),l=RangeError,u=String.fromCharCode,c=String.fromCodePoint,f=s([].join);a({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(h){for(var d,m=[],g=arguments.length,p=0;g>p;){if(d=+arguments[p++],o(d,1114111)!==d)throw new l(d+" is not a valid code point");m[p]=d<65536?u(d):u(55296+((d-=65536)>>10),d%1024+56320)}return f(m,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/function-uncurry-this"),o=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),u=r("../internals/to-string"),c=r("../internals/correct-is-regexp-logic"),f=s("".indexOf);a({target:"String",proto:!0,forced:!c("includes")},{includes:function(h){return!!~f(u(l(this)),u(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/global"),o=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),u=r("../internals/is-pure"),c=r("../internals/descriptors"),f=r("../internals/symbol-constructor-detection"),h=r("../internals/fails"),d=r("../internals/has-own-property"),m=r("../internals/object-is-prototype-of"),g=r("../internals/an-object"),p=r("../internals/to-indexed-object"),v=r("../internals/to-property-key"),y=r("../internals/to-string"),b=r("../internals/create-property-descriptor"),x=r("../internals/object-create"),C=r("../internals/object-keys"),O=r("../internals/object-get-own-property-names"),I=r("../internals/object-get-own-property-names-external"),T=r("../internals/object-get-own-property-symbols"),M=r("../internals/object-get-own-property-descriptor"),B=r("../internals/object-define-property"),L=r("../internals/object-define-properties"),P=r("../internals/object-property-is-enumerable"),A=r("../internals/define-built-in"),j=r("../internals/define-built-in-accessor"),E=r("../internals/shared"),w=r("../internals/shared-key"),S=r("../internals/hidden-keys"),_=r("../internals/uid"),k=r("../internals/well-known-symbol"),N=r("../internals/well-known-symbol-wrapped"),$=r("../internals/well-known-symbol-define"),R=r("../internals/symbol-define-to-primitive"),H=r("../internals/set-to-string-tag"),K=r("../internals/internal-state"),J=r("../internals/array-iteration").forEach,V=w("hidden"),Z=K.set,z=K.getterFor("Symbol"),D=Object.prototype,G=s.Symbol,te=G&&G.prototype,ae=s.RangeError,se=s.TypeError,le=s.QObject,fe=M.f,ie=B.f,oe=I.f,be=P.f,ve=l([].push),we=E("symbols"),Se=E("op-symbols"),Ae=E("wks"),Pe=!le||!le.prototype||!le.prototype.findChild,Re=function(et,ut,ot){var xt=fe(D,ut);xt&&delete D[ut],ie(et,ut,ot),xt&&et!==D&&ie(D,ut,xt)},Ue=c&&h(function(){return x(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a!==7})?Re:ie,We=function(et,ut){var ot=we[et]=x(te);return Z(ot,{type:"Symbol",tag:et,description:ut}),c||(ot.description=ut),ot},Ke=function(et,ut,ot){et===D&&Ke(Se,ut,ot),g(et);var xt=v(ut);return g(ot),d(we,xt)?(ot.enumerable?(d(et,V)&&et[V][xt]&&(et[V][xt]=!1),ot=x(ot,{enumerable:b(0,!1)})):(d(et,V)||ie(et,V,b(1,{})),et[V][xt]=!0),Ue(et,xt,ot)):ie(et,xt,ot)},Qe=function(et,ut){g(et);var ot=p(ut),xt=C(ot).concat(Et(ot));return J(xt,function(wt){c&&!o(rt,ot,wt)||Ke(et,wt,ot[wt])}),et},rt=function(et){var ut=v(et),ot=o(be,this,ut);return!(this===D&&d(we,ut)&&!d(Se,ut))&&(!(ot||!d(this,ut)||!d(we,ut)||d(this,V)&&this[V][ut])||ot)},dt=function(et,ut){var ot=p(et),xt=v(ut);if(ot!==D||!d(we,xt)||d(Se,xt)){var wt=fe(ot,xt);return!wt||!d(we,xt)||d(ot,V)&&ot[V][xt]||(wt.enumerable=!0),wt}},Ge=function(et){var ut=oe(p(et)),ot=[];return J(ut,function(xt){d(we,xt)||d(S,xt)||ve(ot,xt)}),ot},Et=function(et){var ut=et===D,ot=oe(ut?Se:p(et)),xt=[];return J(ot,function(wt){!d(we,wt)||ut&&!d(D,wt)||ve(xt,we[wt])}),xt};f||(A(te=(G=function(){if(m(te,this))throw new se("Symbol is not a constructor");var et=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,ut=_(et),ot=function(xt){this===D&&o(ot,Se,xt),d(this,V)&&d(this[V],ut)&&(this[V][ut]=!1);var wt=b(1,xt);try{Ue(this,ut,wt)}catch(_e){if(!(_e instanceof ae))throw _e;Re(this,ut,wt)}};return c&&Pe&&Ue(D,ut,{configurable:!0,set:ot}),We(ut,et)}).prototype,"toString",function(){return z(this).tag}),A(G,"withoutSetter",function(et){return We(_(et),et)}),P.f=rt,B.f=Ke,L.f=Qe,M.f=dt,O.f=I.f=Ge,T.f=Et,N.f=function(et){return We(k(et),et)},c&&(j(te,"description",{configurable:!0,get:function(){return z(this).description}}),u||A(D,"propertyIsEnumerable",rt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:G}),J(C(Ae),function(et){$(et)}),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){Pe=!0},useSimple:function(){Pe=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(et,ut){return ut===void 0?x(et):Qe(x(et),ut)},defineProperty:Ke,defineProperties:Qe,getOwnPropertyDescriptor:dt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ge}),R(),H(G,"Symbol"),S[V]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/get-built-in"),o=r("../internals/has-own-property"),l=r("../internals/to-string"),u=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),f=u("string-to-symbol-registry"),h=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!c},{for:function(d){var m=l(d);if(o(f,m))return f[m];var g=s("Symbol")(m);return f[m]=g,h[g]=m,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var a=r("../internals/export"),s=r("../internals/has-own-property"),o=r("../internals/is-symbol"),l=r("../internals/try-to-string"),u=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),f=u("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!c},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(s(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function a(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return a(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return a(s)==="[object Date]"},i.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(a){(function(){var s=r("elliptic"),o=r("bn.js");n.exports=function(f){return new u(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function u(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(f,h,d){Array.isArray(f)||(f=f.toArray());var m=new a(f);if(d&&m.length<d){var g=new a(d-m.length);g.fill(0),m=a.concat([g,m])}return h?m.toString(h):m}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,u.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},u.prototype.computeSecret=function(f,h,d){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),c(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},u.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,f)},u.prototype.getPrivateKey=function(f){return c(this.keys.getPrivate(),f)},u.prototype.setPublicKey=function(f,h){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),this.keys._importPublic(f),this},u.prototype.setPrivateKey=function(f,h){h=h||"utf8",a.isBuffer(f)||(f=new a(f,h));var d=new o(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var a=r("inherits"),s=r("md5.js"),o=r("ripemd160"),l=r("sha.js"),u=r("cipher-base");function c(f){u.call(this,"digest"),this._hash=f}a(c,u),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new o:new c(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var a=r("md5.js");n.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(r,n,i){var a=r("inherits"),s=r("./legacy"),o=r("cipher-base"),l=r("safe-buffer").Buffer,u=r("create-hash/md5"),c=r("ripemd160"),f=r("sha.js"),h=l.alloc(128);function d(m,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var p=m==="sha512"||m==="sha384"?128:64;this._alg=m,this._key=g,g.length>p?g=(m==="rmd160"?new c:f(m)).update(g).digest():g.length<p&&(g=l.concat([g,h],p));for(var v=this._ipad=l.allocUnsafe(p),y=this._opad=l.allocUnsafe(p),b=0;b<p;b++)v[b]=54^g[b],y[b]=92^g[b];this._hash=m==="rmd160"?new c:f(m),this._hash.update(v)}a(d,o),d.prototype._update=function(m){this._hash.update(m)},d.prototype._final=function(){var m=this._hash.digest();return(this._alg==="rmd160"?new c:f(this._alg)).update(this._opad).update(m).digest()},n.exports=function(m,g){return(m=m.toLowerCase())==="rmd160"||m==="ripemd160"?new d("rmd160",g):m==="md5"?new s(u,g):new d(m,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var a=r("inherits"),s=r("safe-buffer").Buffer,o=r("cipher-base"),l=s.alloc(128);function u(c,f){o.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=s.concat([f,l],64));for(var h=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),m=0;m<64;m++)h[m]=54^f[m],d[m]=92^f[m];this._hash=[h]}a(u,o),u.prototype._update=function(c){this._hash.push(c)},u.prototype._final=function(){var c=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,c]))},n.exports=u},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var a=r("browserify-sign/algos"),s=Object.keys(a),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return o};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var u=r("browserify-cipher");i.Cipher=u.Cipher,i.createCipher=u.createCipher,i.Cipheriv=u.Cipheriv,i.createCipheriv=u.createCipheriv,i.Decipher=u.Decipher,i.createDecipher=u.createDecipher,i.Decipheriv=u.Decipheriv,i.createDecipheriv=u.createDecipheriv,i.getCiphers=u.getCiphers,i.listCiphers=u.listCiphers;var c=r("diffie-hellman");i.DiffieHellmanGroup=c.DiffieHellmanGroup,i.createDiffieHellmanGroup=c.createDiffieHellmanGroup,i.getDiffieHellman=c.getDiffieHellman,i.createDiffieHellman=c.createDiffieHellman,i.DiffieHellman=c.DiffieHellman;var f=r("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=r("create-ecdh");var h=r("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var d=r("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,function(){var a=6e4,s=36e5,o="millisecond",l="second",u="minute",c="hour",f="day",h="week",d="month",m="quarter",g="year",p="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var S=["th","st","nd","rd"],_=w%100;return"["+w+(S[(_-20)%10]||S[_]||S[0])+"]"}},C=function(w,S,_){var k=String(w);return!k||k.length>=S?w:""+Array(S+1-k.length).join(_)+w},O={s:C,z:function(w){var S=-w.utcOffset(),_=Math.abs(S),k=Math.floor(_/60),N=_%60;return(S<=0?"+":"-")+C(k,2,"0")+":"+C(N,2,"0")},m:function w(S,_){if(S.date()<_.date())return-w(_,S);var k=12*(_.year()-S.year())+(_.month()-S.month()),N=S.clone().add(k,d),$=_-N<0,R=S.clone().add(k+($?-1:1),d);return+(-(k+(_-N)/($?N-R:R-N))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:d,y:g,w:h,d:f,D:p,h:c,m:u,s:l,ms:o,Q:m}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},I="en",T={};T[I]=x;var M="$isDayjsObject",B=function(w){return w instanceof j||!(!w||!w[M])},L=function w(S,_,k){var N;if(!S)return I;if(typeof S=="string"){var $=S.toLowerCase();T[$]&&(N=$),_&&(T[$]=_,N=$);var R=S.split("-");if(!N&&R.length>1)return w(R[0])}else{var H=S.name;T[H]=S,N=H}return!k&&N&&(I=N),N||!k&&I},P=function(w,S){if(B(w))return w.clone();var _=typeof S=="object"?S:{};return _.date=w,_.args=arguments,new j(_)},A=O;A.l=L,A.i=B,A.w=function(w,S){return P(w,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var j=function(){function w(_){this.$L=L(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[M]=!0}var S=w.prototype;return S.parse=function(_){this.$d=function(k){var N=k.date,$=k.utc;if(N===null)return new Date(NaN);if(A.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var R=N.match(y);if(R){var H=R[2]-1||0,K=(R[7]||"0").substring(0,3);return $?new Date(Date.UTC(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,K)):new Date(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,K)}}return new Date(N)}(_),this.init()},S.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},S.$utils=function(){return A},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(_,k){var N=P(_);return this.startOf(k)<=N&&N<=this.endOf(k)},S.isAfter=function(_,k){return P(_)<this.startOf(k)},S.isBefore=function(_,k){return this.endOf(k)<P(_)},S.$g=function(_,k,N){return A.u(_)?this[k]:this.set(N,_)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(_,k){var N=this,$=!!A.u(k)||k,R=A.p(_),H=function(te,ae){var se=A.w(N.$u?Date.UTC(N.$y,ae,te):new Date(N.$y,ae,te),N);return $?se:se.endOf(f)},K=function(te,ae){return A.w(N.toDate()[te].apply(N.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(ae)),N)},J=this.$W,V=this.$M,Z=this.$D,z="set"+(this.$u?"UTC":"");switch(R){case g:return $?H(1,0):H(31,11);case d:return $?H(1,V):H(0,V+1);case h:var D=this.$locale().weekStart||0,G=(J<D?J+7:J)-D;return H($?Z-G:Z+(6-G),V);case f:case p:return K(z+"Hours",0);case c:return K(z+"Minutes",1);case u:return K(z+"Seconds",2);case l:return K(z+"Milliseconds",3);default:return this.clone()}},S.endOf=function(_){return this.startOf(_,!1)},S.$set=function(_,k){var N,$=A.p(_),R="set"+(this.$u?"UTC":""),H=(N={},N[f]=R+"Date",N[p]=R+"Date",N[d]=R+"Month",N[g]=R+"FullYear",N[c]=R+"Hours",N[u]=R+"Minutes",N[l]=R+"Seconds",N[o]=R+"Milliseconds",N)[$],K=$===f?this.$D+(k-this.$W):k;if($===d||$===g){var J=this.clone().set(p,1);J.$d[H](K),J.init(),this.$d=J.set(p,Math.min(this.$D,J.daysInMonth())).$d}else H&&this.$d[H](K);return this.init(),this},S.set=function(_,k){return this.clone().$set(_,k)},S.get=function(_){return this[A.p(_)]()},S.add=function(_,k){var N,$=this;_=Number(_);var R=A.p(k),H=function(V){var Z=P($);return A.w(Z.date(Z.date()+Math.round(V*_)),$)};if(R===d)return this.set(d,this.$M+_);if(R===g)return this.set(g,this.$y+_);if(R===f)return H(1);if(R===h)return H(7);var K=(N={},N[u]=a,N[c]=s,N[l]=1e3,N)[R]||1,J=this.$d.getTime()+_*K;return A.w(J,this)},S.subtract=function(_,k){return this.add(-1*_,k)},S.format=function(_){var k=this,N=this.$locale();if(!this.isValid())return N.invalidDate||v;var $=_||"YYYY-MM-DDTHH:mm:ssZ",R=A.z(this),H=this.$H,K=this.$m,J=this.$M,V=N.weekdays,Z=N.months,z=N.meridiem,D=function(ae,se,le,fe){return ae&&(ae[se]||ae(k,$))||le[se].slice(0,fe)},G=function(ae){return A.s(H%12||12,ae,"0")},te=z||function(ae,se,le){var fe=ae<12?"AM":"PM";return le?fe.toLowerCase():fe};return $.replace(b,function(ae,se){return se||function(le){switch(le){case"YY":return String(k.$y).slice(-2);case"YYYY":return A.s(k.$y,4,"0");case"M":return J+1;case"MM":return A.s(J+1,2,"0");case"MMM":return D(N.monthsShort,J,Z,3);case"MMMM":return D(Z,J);case"D":return k.$D;case"DD":return A.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return D(N.weekdaysMin,k.$W,V,2);case"ddd":return D(N.weekdaysShort,k.$W,V,3);case"dddd":return V[k.$W];case"H":return String(H);case"HH":return A.s(H,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return te(H,K,!0);case"A":return te(H,K,!1);case"m":return String(K);case"mm":return A.s(K,2,"0");case"s":return String(k.$s);case"ss":return A.s(k.$s,2,"0");case"SSS":return A.s(k.$ms,3,"0");case"Z":return R}return null}(ae)||R.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(_,k,N){var $,R=this,H=A.p(k),K=P(_),J=(K.utcOffset()-this.utcOffset())*a,V=this-K,Z=function(){return A.m(R,K)};switch(H){case g:$=Z()/12;break;case d:$=Z();break;case m:$=Z()/3;break;case h:$=(V-J)/6048e5;break;case f:$=(V-J)/864e5;break;case c:$=V/s;break;case u:$=V/a;break;case l:$=V/1e3;break;default:$=V}return N?$:A.a($)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return T[this.$L]},S.locale=function(_,k){if(!_)return this.$L;var N=this.clone(),$=L(_,k,!0);return $&&(N.$L=$),N},S.clone=function(){return A.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},w}(),E=j.prototype;return P.prototype=E,[["$ms",o],["$s",l],["$m",u],["$H",c],["$W",f],["$M",d],["$y",g],["$D",p]].forEach(function(w){E[w[1]]=function(S){return this.$g(S,w[0],w[1])}}),P.extend=function(w,S){return w.$i||(w(S,j,P),w.$i=!0),P},P.locale=L,P.isDayjs=B,P.unix=function(w){return P(1e3*w)},P.en=T[I],P.Ls=T,P.p={},P})},{}],392:[function(r,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,c={},f=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(b){this[y]=+b}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),C=60*x[1]+(+x[2]||0);return C===0?0:x[0]==="+"?-C:C}(y)}],m=function(y){var b=c[y];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(y,b){var x,C=c.meridiem;if(C){for(var O=1;O<=24;O+=1)if(y.indexOf(C(O,0,b))>-1){x=O>12;break}}else x=y===(b?"pm":"PM");return x},p={A:[u,function(y){this.afternoon=g(y,!1)}],a:[u,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[u,function(y){var b=c.ordinal,x=y.match(/\d+/);if(this.day=x[0],b)for(var C=1;C<=31;C+=1)b(C).replace(/\[|\]/g,"")===y&&(this.day=C)}],M:[l,h("month")],MM:[o,h("month")],MMM:[u,function(y){var b=m("months"),x=(m("monthsShort")||b.map(function(C){return C.slice(0,3)})).indexOf(y)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[u,function(y){var b=m("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(y){this.year=f(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function v(y){var b,x;b=y,x=c&&c.formats;for(var C=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,A,j){var E=j&&j.toUpperCase();return A||x[j]||a[j]||x[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,S,_){return S||_.slice(1)})})).match(s),O=C.length,I=0;I<O;I+=1){var T=C[I],M=p[T],B=M&&M[0],L=M&&M[1];C[I]=L?{regex:B,parser:L}:T.replace(/^\[|\]$/g,"")}return function(P){for(var A={},j=0,E=0;j<O;j+=1){var w=C[j];if(typeof w=="string")E+=w.length;else{var S=w.regex,_=w.parser,k=P.slice(E),N=S.exec(k)[0];_.call(A,N),P=P.replace(N,"")}}return function($){var R=$.afternoon;if(R!==void 0){var H=$.hours;R?H<12&&($.hours+=12):H===12&&($.hours=0),delete $.afternoon}}(A),A}}return function(y,b,x){x.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var C=b.prototype,O=C.parse;C.parse=function(I){var T=I.date,M=I.utc,B=I.args;this.$u=M;var L=B[1];if(typeof L=="string"){var P=B[2]===!0,A=B[3]===!0,j=P||A,E=B[2];A&&(E=B[2]),c=this.$locale(),!P&&E&&(c=x.Ls[E]),this.$d=function(k,N,$){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*k);var R=v(N)(k),H=R.year,K=R.month,J=R.day,V=R.hours,Z=R.minutes,z=R.seconds,D=R.milliseconds,G=R.zone,te=new Date,ae=J||(H||K?1:te.getDate()),se=H||te.getFullYear(),le=0;H&&!K||(le=K>0?K-1:te.getMonth());var fe=V||0,ie=Z||0,oe=z||0,be=D||0;return G?new Date(Date.UTC(se,le,ae,fe,ie,oe,be+60*G.offset*1e3)):$?new Date(Date.UTC(se,le,ae,fe,ie,oe,be)):new Date(se,le,ae,fe,ie,oe,be)}catch{return new Date("")}}(T,L,M),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),j&&T!=this.format(L)&&(this.$d=new Date("")),c={}}else if(L instanceof Array)for(var w=L.length,S=1;S<=w;S+=1){B[1]=L[S-1];var _=x.apply(this,B);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}S===w&&(this.$d=new Date(""))}else O.call(this,I)}}})},{}],393:[function(r,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,u,c){var f=u.prototype;c.utc=function(y){var b={date:y,utc:!0,args:arguments};return new u(b)},f.utc=function(y){var b=c(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),a):b},f.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var d=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var m=f.utcOffset;f.utcOffset=function(y,b){var x=this.$utils().u;if(x(y))return this.$u?0:x(this.$offset)?m.call(this):this.$offset;if(typeof y=="string"&&(y=function(T){T===void 0&&(T="");var M=T.match(s);if(!M)return null;var B=(""+M[0]).match(o)||["-",0,0],L=B[0],P=60*+B[1]+ +B[2];return P===0?0:L==="+"?P:-P}(y))===null)return this;var C=Math.abs(y)<=16?60*y:y,O=this;if(b)return O.$offset=C,O.$u=y===0,O;if(y!==0){var I=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(C+I,a)).$offset=C,O.$x.$localOffset=I}else O=this.utc();return O};var g=f.format;f.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,b)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=f.diff;f.diff=function(y,b,x){if(y&&this.$u===y.$u)return v.call(this,y,b,x);var C=this.local(),O=c(y).local();return v.call(C,O,b,x)}}})},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var a=r("minimalistic-assert"),s=r("inherits"),o={};function l(u){a.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=u[c]}i.instantiate=function(u){function c(m){u.call(this,m),this._cbcInit()}s(c,u);for(var f=Object.keys(o),h=0;h<f.length;h++){var d=f[h];c.prototype[d]=o[d]}return c.create=function(m){return new c(m)},c},o._cbcInit=function(){var u=new l(this.options.iv);this._cbcState=u},o._update=function(u,c,f,h){var d=this._cbcState,m=this.constructor.super_.prototype,g=d.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=u[c+p];for(m._update.call(this,g,0,f,h),p=0;p<this.blockSize;p++)g[p]=f[h+p]}else{for(m._update.call(this,u,c,f,h),p=0;p<this.blockSize;p++)f[h+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=u[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var a=r("minimalistic-assert");function s(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},s.prototype._buffer=function(o,l){for(var u=Math.min(this.buffer.length-this.bufferOff,o.length-l),c=0;c<u;c++)this.buffer[this.bufferOff+c]=o[l+c];return this.bufferOff+=u,u},s.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(o){var l=0,u=0,c=(this.bufferOff+o.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,f,u),u+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return f},s.prototype._updateDecrypt=function(o){for(var l=0,u=0,c=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(o,l),u+=this._flushBuffer(f,u);return l+=this._buffer(o,l),f},s.prototype.final=function(o){var l,u;return o&&(l=this.update(o)),u=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(u):u},s.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},s.prototype._unpad=function(o){return o},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(r,n,i){var a=r("minimalistic-assert"),s=r("inherits"),o=r("./utils"),l=r("./cipher");function u(){this.tmp=new Array(2),this.keys=null}function c(h){l.call(this,h);var d=new u;this._desState=d,this.deriveKeys(d,h.key)}s(c,l),n.exports=c,c.create=function(h){return new c(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(h,d){h.keys=new Array(32),a.equal(d.length,this.blockSize,"Invalid key length");var m=o.readUInt32BE(d,0),g=o.readUInt32BE(d,4);o.pc1(m,g,h.tmp,0),m=h.tmp[0],g=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var v=f[p>>>1];m=o.r28shl(m,v),g=o.r28shl(g,v),o.pc2(m,g,h.keys,p)}},c.prototype._update=function(h,d,m,g){var p=this._desState,v=o.readUInt32BE(h,d),y=o.readUInt32BE(h,d+4);o.ip(v,y,p.tmp,0),v=p.tmp[0],y=p.tmp[1],this.type==="encrypt"?this._encrypt(p,v,y,p.tmp,0):this._decrypt(p,v,y,p.tmp,0),v=p.tmp[0],y=p.tmp[1],o.writeUInt32BE(m,v,g),o.writeUInt32BE(m,y,g+4)},c.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var m=h.length-d,g=d;g<h.length;g++)h[g]=m;return!0},c.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],m=h.length-d;m<h.length;m++)a.equal(h[m],d);return h.slice(0,h.length-d)},c.prototype._encrypt=function(h,d,m,g,p){for(var v=d,y=m,b=0;b<h.keys.length;b+=2){var x=h.keys[b],C=h.keys[b+1];o.expand(y,h.tmp,0),x^=h.tmp[0],C^=h.tmp[1];var O=o.substitute(x,C),I=y;y=(v^o.permute(O))>>>0,v=I}o.rip(y,v,g,p)},c.prototype._decrypt=function(h,d,m,g,p){for(var v=m,y=d,b=h.keys.length-2;b>=0;b-=2){var x=h.keys[b],C=h.keys[b+1];o.expand(v,h.tmp,0),x^=h.tmp[0],C^=h.tmp[1];var O=o.substitute(x,C),I=v;v=(y^o.permute(O))>>>0,y=I}o.rip(v,y,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var a=r("minimalistic-assert"),s=r("inherits"),o=r("./cipher"),l=r("./des");function u(f,h){a.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),m=h.slice(8,16),g=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:m}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:m}),l.create({type:"decrypt",key:d})]}function c(f){o.call(this,f);var h=new u(this.type,this.options.key);this._edeState=h}s(c,o),n.exports=c,c.create=function(f){return new c(f)},c.prototype._update=function(f,h,d,m){var g=this._edeState;g.ciphers[0]._update(f,h,d,m),g.ciphers[1]._update(d,m,d,m),g.ciphers[2]._update(d,m,d,m)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,u){return(l[0+u]<<24|l[1+u]<<16|l[2+u]<<8|l[3+u])>>>0},i.writeUInt32BE=function(l,u,c){l[0+c]=u>>>24,l[1+c]=u>>>16&255,l[2+c]=u>>>8&255,l[3+c]=255&u},i.ip=function(l,u,c,f){for(var h=0,d=0,m=6;m>=0;m-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>>g+m&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+m&1}for(m=6;m>=0;m-=2){for(g=1;g<=25;g+=8)d<<=1,d|=u>>>g+m&1;for(g=1;g<=25;g+=8)d<<=1,d|=l>>>g+m&1}c[f+0]=h>>>0,c[f+1]=d>>>0},i.rip=function(l,u,c,f){for(var h=0,d=0,m=0;m<4;m++)for(var g=24;g>=0;g-=8)h<<=1,h|=u>>>g+m&1,h<<=1,h|=l>>>g+m&1;for(m=4;m<8;m++)for(g=24;g>=0;g-=8)d<<=1,d|=u>>>g+m&1,d<<=1,d|=l>>>g+m&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.pc1=function(l,u,c,f){for(var h=0,d=0,m=7;m>=5;m--){for(var g=0;g<=24;g+=8)h<<=1,h|=u>>g+m&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+m&1}for(g=0;g<=24;g+=8)h<<=1,h|=u>>g+m&1;for(m=1;m<=3;m++){for(g=0;g<=24;g+=8)d<<=1,d|=u>>g+m&1;for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+m&1}for(g=0;g<=24;g+=8)d<<=1,d|=l>>g+m&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.r28shl=function(l,u){return l<<u&268435455|l>>>28-u};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,u,c,f){for(var h=0,d=0,m=a.length>>>1,g=0;g<m;g++)h<<=1,h|=l>>>a[g]&1;for(g=m;g<a.length;g++)d<<=1,d|=u>>>a[g]&1;c[f+0]=h>>>0,c[f+1]=d>>>0},i.expand=function(l,u,c){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=l>>>d&63;for(d=11;d>=3;d-=4)h|=l>>>d&63,h<<=6;h|=(31&l)<<1|l>>>31,u[c+0]=f>>>0,u[c+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,u){for(var c=0,f=0;f<4;f++)c<<=4,c|=s[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)c<<=4,c|=s[256+64*f+(u>>>18-6*f&63)];return c>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var u=0,c=0;c<o.length;c++)u<<=1,u|=l>>>o[c]&1;return u>>>0},i.padSplit=function(l,u,c){for(var f=l.toString(2);f.length<u;)f="0"+f;for(var h=[],d=0;d<u;d+=c)h.push(f.slice(d,d+c));return h.join(" ")}},{}],400:[function(r,n,i){(function(a){(function(){var s=r("./lib/generatePrime"),o=r("./lib/primes.json"),l=r("./lib/dh"),u={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(c){var f=new a(o[c].prime,"hex"),h=new a(o[c].gen,"hex");return new l(f,h)},i.createDiffieHellman=i.DiffieHellman=function c(f,h,d,m){return a.isBuffer(h)||u[h]===void 0?c(f,"binary",h,d):(h=h||"binary",m=m||"binary",d=d||new a([2]),a.isBuffer(d)||(d=new a(d,m)),typeof f=="number"?new l(s(f,d),d,!0):(a.isBuffer(f)||(f=new a(f,h)),new l(f,d,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(a){(function(){var s=r("bn.js"),o=new(r("miller-rabin")),l=new s(24),u=new s(11),c=new s(10),f=new s(3),h=new s(7),d=r("./generatePrime"),m=r("randombytes");function g(x,C){return C=C||"utf8",a.isBuffer(x)||(x=new a(x,C)),this._pub=new s(x),this}function p(x,C){return C=C||"utf8",a.isBuffer(x)||(x=new a(x,C)),this._priv=new s(x),this}n.exports=y;var v={};function y(x,C,O){this.setGenerator(C),this.__prime=new s(x),this._prime=s.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function b(x,C){var O=new a(x.toArray());return C?O.toString(C):O}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,C){var O=C.toString("hex"),I=[O,x.toString(16)].join("_");if(I in v)return v[I];var T,M=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!o.test(x))return M+=1,M+=O==="02"||O==="05"?8:4,v[I]=M,M;switch(o.test(x.shrn(1))||(M+=2),O){case"02":x.mod(l).cmp(u)&&(M+=8);break;case"05":(T=x.mod(c)).cmp(f)&&T.cmp(h)&&(M+=8);break;default:M+=4}return v[I]=M,M}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new s(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(x){var C=(x=(x=new s(x)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new a(C.toArray()),I=this.getPrime();if(O.length<I.length){var T=new a(I.length-O.length);T.fill(0),O=a.concat([T,O])}return O},y.prototype.getPublicKey=function(x){return b(this._pub,x)},y.prototype.getPrivateKey=function(x){return b(this._priv,x)},y.prototype.getPrime=function(x){return b(this.__prime,x)},y.prototype.getGenerator=function(x){return b(this._gen,x)},y.prototype.setGenerator=function(x,C){return C=C||"utf8",a.isBuffer(x)||(x=new a(x,C)),this.__gen=x,this._gen=new s(x),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var a=r("randombytes");n.exports=x,x.simpleSieve=y,x.fermatTest=b;var s=r("bn.js"),o=new s(24),l=new(r("miller-rabin")),u=new s(1),c=new s(2),f=new s(5),h=(new s(16),new s(8),new s(10)),d=new s(3),m=(new s(7),new s(11)),g=new s(4),p=(new s(12),null);function v(){if(p!==null)return p;var C=[];C[0]=2;for(var O=1,I=3;I<1048576;I+=2){for(var T=Math.ceil(Math.sqrt(I)),M=0;M<O&&C[M]<=T&&I%C[M]!=0;M++);O!==M&&C[M]<=T||(C[O++]=I)}return p=C,C}function y(C){for(var O=v(),I=0;I<O.length;I++)if(C.modn(O[I])===0)return C.cmpn(O[I])===0;return!0}function b(C){var O=s.mont(C);return c.toRed(O).redPow(C.subn(1)).fromRed().cmpn(1)===0}function x(C,O){if(C<16)return new s(O===2||O===5?[140,123]:[140,39]);var I,T;for(O=new s(O);;){for(I=new s(a(Math.ceil(C/8)));I.bitLength()>C;)I.ishrn(1);if(I.isEven()&&I.iadd(u),I.testn(1)||I.iadd(c),O.cmp(c)){if(!O.cmp(f))for(;I.mod(h).cmp(d);)I.iadd(g)}else for(;I.mod(o).cmp(m);)I.iadd(g);if(y(T=I.shrn(1))&&y(I)&&b(T)&&b(I)&&l.test(T)&&l.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var a=i;a.version=r("../package.json").version,a.utils=r("./elliptic/utils"),a.rand=r("brorand"),a.curve=r("./elliptic/curve"),a.curves=r("./elliptic/curves"),a.ec=r("./elliptic/ec"),a.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var a=r("bn.js"),s=r("../utils"),o=s.getNAF,l=s.getJSF,u=s.assert;function c(h,d){this.type=h,this.p=new a(d.p,16),this.red=d.prime?a.red(d.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=d.n&&new a(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(h,d){u(h.precomputed);var m=h._getDoubles(),g=o(d,1,this._bitLength),p=(1<<m.step+1)-(m.step%2==0?2:1);p/=3;var v,y,b=[];for(v=0;v<g.length;v+=m.step){y=0;for(var x=v+m.step-1;x>=v;x--)y=(y<<1)+g[x];b.push(y)}for(var C=this.jpoint(null,null,null),O=this.jpoint(null,null,null),I=p;I>0;I--){for(v=0;v<b.length;v++)(y=b[v])===I?O=O.mixedAdd(m.points[v]):y===-I&&(O=O.mixedAdd(m.points[v].neg()));C=C.add(O)}return C.toP()},c.prototype._wnafMul=function(h,d){var m=4,g=h._getNAFPoints(m);m=g.wnd;for(var p=g.points,v=o(d,m,this._bitLength),y=this.jpoint(null,null,null),b=v.length-1;b>=0;b--){for(var x=0;b>=0&&v[b]===0;b--)x++;if(b>=0&&x++,y=y.dblp(x),b<0)break;var C=v[b];u(C!==0),y=h.type==="affine"?C>0?y.mixedAdd(p[C-1>>1]):y.mixedAdd(p[-C-1>>1].neg()):C>0?y.add(p[C-1>>1]):y.add(p[-C-1>>1].neg())}return h.type==="affine"?y.toP():y},c.prototype._wnafMulAdd=function(h,d,m,g,p){var v,y,b,x=this._wnafT1,C=this._wnafT2,O=this._wnafT3,I=0;for(v=0;v<g;v++){var T=(b=d[v])._getNAFPoints(h);x[v]=T.wnd,C[v]=T.points}for(v=g-1;v>=1;v-=2){var M=v-1,B=v;if(x[M]===1&&x[B]===1){var L=[d[M],null,null,d[B]];d[M].y.cmp(d[B].y)===0?(L[1]=d[M].add(d[B]),L[2]=d[M].toJ().mixedAdd(d[B].neg())):d[M].y.cmp(d[B].y.redNeg())===0?(L[1]=d[M].toJ().mixedAdd(d[B]),L[2]=d[M].add(d[B].neg())):(L[1]=d[M].toJ().mixedAdd(d[B]),L[2]=d[M].toJ().mixedAdd(d[B].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],A=l(m[M],m[B]);for(I=Math.max(A[0].length,I),O[M]=new Array(I),O[B]=new Array(I),y=0;y<I;y++){var j=0|A[0][y],E=0|A[1][y];O[M][y]=P[3*(j+1)+(E+1)],O[B][y]=0,C[M]=L}}else O[M]=o(m[M],x[M],this._bitLength),O[B]=o(m[B],x[B],this._bitLength),I=Math.max(O[M].length,I),I=Math.max(O[B].length,I)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(v=I;v>=0;v--){for(var _=0;v>=0;){var k=!0;for(y=0;y<g;y++)S[y]=0|O[y][v],S[y]!==0&&(k=!1);if(!k)break;_++,v--}if(v>=0&&_++,w=w.dblp(_),v<0)break;for(y=0;y<g;y++){var N=S[y];N!==0&&(N>0?b=C[y][N-1>>1]:N<0&&(b=C[y][-N-1>>1].neg()),w=b.type==="affine"?w.mixedAdd(b):w.add(b))}}for(v=0;v<g;v++)C[v]=null;return p?w:w.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(h,d){h=s.toArray(h,d);var m=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*m)return h[0]===6?u(h[h.length-1]%2==0):h[0]===7&&u(h[h.length-1]%2==1),this.point(h.slice(1,1+m),h.slice(1+m,1+2*m));if((h[0]===2||h[0]===3)&&h.length-1===m)return this.pointFromX(h.slice(1,1+m),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),m=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return s.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],g=this,p=0;p<d;p+=h){for(var v=0;v<h;v++)g=g.dbl();m.push(g)}return{step:h,points:m}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],m=(1<<h)-1,g=m===1?null:this.dbl(),p=1;p<m;p++)d[p]=d[p-1].add(g);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,m=0;m<h;m++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var a=r("../utils"),s=r("bn.js"),o=r("inherits"),l=r("./base"),u=a.assert;function c(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,m,g,p){l.BasePoint.call(this,h,"projective"),d===null&&m===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(m,16),this.z=g?new s(g,16):this.curve.one,this.t=p&&new s(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,l),n.exports=c,c.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},c.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},c.prototype.jpoint=function(h,d,m,g){return this.point(h,d,m,g)},c.prototype.pointFromX=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),g=this.c2.redSub(this.a.redMul(m)),p=this.one.redSub(this.c2.redMul(this.d).redMul(m)),v=g.redMul(p.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(d&&!b||!d&&b)&&(y=y.redNeg()),this.point(h,y)},c.prototype.pointFromY=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),g=m.redSub(this.c2),p=m.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(p.redInvm());if(v.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,h)},c.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),m=h.y.redSqr(),g=d.redMul(this.a).redAdd(m),p=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(m)));return g.cmp(p)===0},o(f,l.BasePoint),c.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},c.prototype.point=function(h,d,m,g){return new f(this,h,d,m,g)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var g=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),v=g.redAdd(d),y=v.redSub(m),b=g.redSub(d),x=p.redMul(y),C=v.redMul(b),O=p.redMul(b),I=y.redMul(v);return this.curve.point(x,C,I,O)},f.prototype._projDbl=function(){var h,d,m,g,p,v,y=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var C=(g=this.curve._mulA(b)).redAdd(x);this.zOne?(h=y.redSub(b).redSub(x).redMul(C.redSub(this.curve.two)),d=C.redMul(g.redSub(x)),m=C.redSqr().redSub(C).redSub(C)):(p=this.z.redSqr(),v=C.redSub(p).redISub(p),h=y.redSub(b).redISub(x).redMul(v),d=C.redMul(g.redSub(x)),m=C.redMul(v))}else g=b.redAdd(x),p=this.curve._mulC(this.z).redSqr(),v=g.redSub(p).redSub(p),h=this.curve._mulC(y.redISub(g)).redMul(v),d=this.curve._mulC(g).redMul(b.redISub(x)),m=g.redMul(v);return this.curve.point(h,d,m)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),m=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),v=m.redSub(d),y=p.redSub(g),b=p.redAdd(g),x=m.redAdd(d),C=v.redMul(y),O=b.redMul(x),I=v.redMul(x),T=y.redMul(b);return this.curve.point(C,O,T,I)},f.prototype._projAdd=function(h){var d,m,g=this.z.redMul(h.z),p=g.redSqr(),v=this.x.redMul(h.x),y=this.y.redMul(h.y),b=this.curve.d.redMul(v).redMul(y),x=p.redSub(b),C=p.redAdd(b),O=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(y),I=g.redMul(x).redMul(O);return this.curve.twisted?(d=g.redMul(C).redMul(y.redSub(this.curve._mulA(v))),m=x.redMul(C)):(d=g.redMul(C).redMul(y.redSub(v)),m=this.curve._mulC(x).redMul(C)),this.curve.point(I,d,m)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,m){return this.curve._wnafMulAdd(1,[this,d],[h,m],2,!1)},f.prototype.jmulAdd=function(h,d,m){return this.curve._wnafMulAdd(1,[this,d],[h,m],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var m=h.clone(),g=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var a=i;a.base=r("./base"),a.short=r("./short"),a.mont=r("./mont"),a.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var a=r("bn.js"),s=r("inherits"),o=r("./base"),l=r("../utils");function u(f){o.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(f,h,d){o.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(u,o),n.exports=u,u.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),m=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return m.redSqrt().redSqr().cmp(m)===0},s(c,o.BasePoint),u.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},u.prototype.point=function(f,h){return new c(this,f,h)},u.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(f,h){return new c(f,h[0],h[1]||f.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),m=f.redMul(h),g=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(m,g)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),m=this.x.redSub(this.z),g=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(d),v=g.redMul(m),y=h.z.redMul(p.redAdd(v).redSqr()),b=h.x.redMul(p.redISub(v).redSqr());return this.curve.point(y,b)},c.prototype.mul=function(f){for(var h=f.clone(),d=this,m=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(d=d.diffAdd(m,this),m=m.dbl()):(m=d.diffAdd(m,this),d=d.dbl());return m},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var a=r("../utils"),s=r("bn.js"),o=r("inherits"),l=r("./base"),u=a.assert;function c(d){l.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,m,g,p){l.BasePoint.call(this,d,"affine"),m===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(m,16),this.y=new s(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,m,g,p){l.BasePoint.call(this,d,"jacobian"),m===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(m,16),this.y=new s(g,16),this.z=new s(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,l),n.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var m,g;if(d.beta)m=new s(d.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);m=(m=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(d.lambda)g=new s(d.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(m))===0?g=v[0]:(g=v[1],u(this.g.mul(g).x.cmp(this.g.x.redMul(m))===0))}return{beta:m,lambda:g,basis:d.basis?d.basis.map(function(y){return{a:new s(y.a,16),b:new s(y.b,16)}}):this._getEndoBasis(g)}}},c.prototype._getEndoRoots=function(d){var m=d===this.p?this.red:s.mont(d),g=new s(2).toRed(m).redInvm(),p=g.redNeg(),v=new s(3).toRed(m).redNeg().redSqrt().redMul(g);return[p.redAdd(v).fromRed(),p.redSub(v).fromRed()]},c.prototype._getEndoBasis=function(d){for(var m,g,p,v,y,b,x,C,O,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=d,M=this.n.clone(),B=new s(1),L=new s(0),P=new s(0),A=new s(1),j=0;T.cmpn(0)!==0;){var E=M.div(T);C=M.sub(E.mul(T)),O=P.sub(E.mul(B));var w=A.sub(E.mul(L));if(!p&&C.cmp(I)<0)m=x.neg(),g=B,p=C.neg(),v=O;else if(p&&++j==2)break;x=C,M=T,T=C,P=B,B=O,A=L,L=w}y=C.neg(),b=O;var S=p.sqr().add(v.sqr());return y.sqr().add(b.sqr()).cmp(S)>=0&&(y=m,b=g),p.negative&&(p=p.neg(),v=v.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:p,b:v},{a:y,b}]},c.prototype._endoSplit=function(d){var m=this.endo.basis,g=m[0],p=m[1],v=p.b.mul(d).divRound(this.n),y=g.b.neg().mul(d).divRound(this.n),b=v.mul(g.a),x=y.mul(p.a),C=v.mul(g.b),O=y.mul(p.b);return{k1:d.sub(b).sub(x),k2:C.add(O).neg()}},c.prototype.pointFromX=function(d,m){(d=new s(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=p.fromRed().isOdd();return(m&&!v||!m&&v)&&(p=p.redNeg()),this.point(d,p)},c.prototype.validate=function(d){if(d.inf)return!0;var m=d.x,g=d.y,p=this.a.redMul(m),v=m.redSqr().redMul(m).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,m,g){for(var p=this._endoWnafT1,v=this._endoWnafT2,y=0;y<d.length;y++){var b=this._endoSplit(m[y]),x=d[y],C=x._getBeta();b.k1.negative&&(b.k1.ineg(),x=x.neg(!0)),b.k2.negative&&(b.k2.ineg(),C=C.neg(!0)),p[2*y]=x,p[2*y+1]=C,v[2*y]=b.k1,v[2*y+1]=b.k2}for(var O=this._wnafMulAdd(1,p,v,2*y,g),I=0;I<2*y;I++)p[I]=null,v[I]=null;return O},o(f,l.BasePoint),c.prototype.point=function(d,m,g){return new f(this,d,m,g)},c.prototype.pointFromJSON=function(d,m){return f.fromJSON(this,d,m)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,p=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};d.beta=m,m.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(p)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(p)}}}return m}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,m,g){typeof m=="string"&&(m=JSON.parse(m));var p=d.point(m[0],m[1],g);if(!m[2])return p;function v(b){return d.point(b[0],b[1],g)}var y=m[2];return p.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[p].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[p].concat(y.naf.points.map(v))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var m=this.y.redSub(d.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(d.x).redInvm()));var g=m.redSqr().redISub(this.x).redISub(d.x),p=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,g=this.x.redSqr(),p=d.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(m).redMul(p),y=v.redSqr().redISub(this.x.redAdd(this.x)),b=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,m,g){var p=[this,m],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,v):this.curve._wnafMulAdd(1,p,v,2)},f.prototype.jmulAdd=function(d,m,g){var p=[this,m],v=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,v,!0):this.curve._wnafMulAdd(1,p,v,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,p=function(v){return v.neg()};m.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return m},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),c.prototype.jpoint=function(d,m,g){return new h(this,d,m,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),m=d.redSqr(),g=this.x.redMul(m),p=this.y.redMul(m).redMul(d);return this.curve.point(g,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var m=d.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(m),v=d.x.redMul(g),y=this.y.redMul(m.redMul(d.z)),b=d.y.redMul(g.redMul(this.z)),x=p.redSub(v),C=y.redSub(b);if(x.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=x.redSqr(),I=O.redMul(x),T=p.redMul(O),M=C.redSqr().redIAdd(I).redISub(T).redISub(T),B=C.redMul(T.redISub(M)).redISub(y.redMul(I)),L=this.z.redMul(d.z).redMul(x);return this.curve.jpoint(M,B,L)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var m=this.z.redSqr(),g=this.x,p=d.x.redMul(m),v=this.y,y=d.y.redMul(m).redMul(this.z),b=g.redSub(p),x=v.redSub(y);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=b.redSqr(),O=C.redMul(b),I=g.redMul(C),T=x.redSqr().redIAdd(O).redISub(I).redISub(I),M=x.redMul(I.redISub(T)).redISub(v.redMul(O)),B=this.z.redMul(b);return this.curve.jpoint(T,M,B)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var g=this;for(m=0;m<d;m++)g=g.dbl();return g}var p=this.curve.a,v=this.curve.tinv,y=this.x,b=this.y,x=this.z,C=x.redSqr().redSqr(),O=b.redAdd(b);for(m=0;m<d;m++){var I=y.redSqr(),T=O.redSqr(),M=T.redSqr(),B=I.redAdd(I).redIAdd(I).redIAdd(p.redMul(C)),L=y.redMul(T),P=B.redSqr().redISub(L.redAdd(L)),A=L.redISub(P),j=B.redMul(A);j=j.redIAdd(j).redISub(M);var E=O.redMul(x);m+1<d&&(C=C.redMul(M)),y=P,x=E,O=j}return this.curve.jpoint(y,O.redMul(v),x)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,m,g;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(p).redISub(y);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p),C=x.redSqr().redISub(b).redISub(b),O=y.redIAdd(y);O=(O=O.redIAdd(O)).redIAdd(O),d=C,m=x.redMul(b.redISub(C)).redISub(O),g=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),T=this.y.redSqr(),M=T.redSqr(),B=this.x.redAdd(T).redSqr().redISub(I).redISub(M);B=B.redIAdd(B);var L=I.redAdd(I).redIAdd(I),P=L.redSqr(),A=M.redIAdd(M);A=(A=A.redIAdd(A)).redIAdd(A),d=P.redISub(B).redISub(B),m=L.redMul(B.redISub(d)).redISub(A),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(d,m,g)},h.prototype._threeDbl=function(){var d,m,g;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(p).redISub(y);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),C=x.redSqr().redISub(b).redISub(b);d=C;var O=y.redIAdd(y);O=(O=O.redIAdd(O)).redIAdd(O),m=x.redMul(b.redISub(C)).redISub(O),g=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),T=this.y.redSqr(),M=this.x.redMul(T),B=this.x.redSub(I).redMul(this.x.redAdd(I));B=B.redAdd(B).redIAdd(B);var L=M.redIAdd(M),P=(L=L.redIAdd(L)).redAdd(L);d=B.redSqr().redISub(P),g=this.y.redAdd(this.z).redSqr().redISub(T).redISub(I);var A=T.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),m=B.redMul(L.redISub(d)).redISub(A)}return this.curve.jpoint(d,m,g)},h.prototype._dbl=function(){var d=this.curve.a,m=this.x,g=this.y,p=this.z,v=p.redSqr().redSqr(),y=m.redSqr(),b=g.redSqr(),x=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(v)),C=m.redAdd(m),O=(C=C.redIAdd(C)).redMul(b),I=x.redSqr().redISub(O.redAdd(O)),T=O.redISub(I),M=b.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var B=x.redMul(T).redISub(M),L=g.redAdd(g).redMul(p);return this.curve.jpoint(I,B,L)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),m=this.y.redSqr(),g=this.z.redSqr(),p=m.redSqr(),v=d.redAdd(d).redIAdd(d),y=v.redSqr(),b=this.x.redAdd(m).redSqr().redISub(d).redISub(p),x=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(y)).redSqr(),C=p.redIAdd(p);C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C);var O=v.redIAdd(b).redSqr().redISub(y).redISub(x).redISub(C),I=m.redMul(O);I=(I=I.redIAdd(I)).redIAdd(I);var T=this.x.redMul(x).redISub(I);T=(T=T.redIAdd(T)).redIAdd(T);var M=this.y.redMul(O.redMul(C.redISub(O)).redISub(b.redMul(x)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var B=this.z.redAdd(b).redSqr().redISub(g).redISub(x);return this.curve.jpoint(T,M,B)},h.prototype.mul=function(d,m){return d=new s(d,m),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var m=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(m)).cmpn(0)!==0)return!1;var p=m.redMul(this.z),v=g.redMul(d.z);return this.y.redMul(v).redISub(d.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(d){var m=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(m);if(this.x.cmp(g)===0)return!0;for(var p=d.clone(),v=this.curve.redN.redMul(m);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var a,s=i,o=r("hash.js"),l=r("./curve"),u=r("./utils").assert;function c(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var m=new c(d);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:m}),m}})}s.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=r("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var a=r("bn.js"),s=r("hmac-drbg"),o=r("../utils"),l=r("../curves"),u=r("brorand"),c=o.assert,f=r("./key"),h=r("./signature");function d(m){if(!(this instanceof d))return new d(m);typeof m=="string"&&(c(Object.prototype.hasOwnProperty.call(l,m),"Unknown curve "+m),m=l[m]),m instanceof l.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}n.exports=d,d.prototype.keyPair=function(m){return new f(this,m)},d.prototype.keyFromPrivate=function(m,g){return f.fromPrivate(this,m,g)},d.prototype.keyFromPublic=function(m,g){return f.fromPublic(this,m,g)},d.prototype.genKeyPair=function(m){m||(m={});for(var g=new s({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||u(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),v=this.n.sub(new a(2));;){var y=new a(g.generate(p));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(m,g){var p=8*m.byteLength()-this.n.bitLength();return p>0&&(m=m.ushrn(p)),!g&&m.cmp(this.n)>=0?m.sub(this.n):m},d.prototype.sign=function(m,g,p,v){typeof p=="object"&&(v=p,p=null),v||(v={}),g=this.keyFromPrivate(g,p),m=this._truncateToN(new a(m,16));for(var y=this.n.byteLength(),b=g.getPrivate().toArray("be",y),x=m.toArray("be",y),C=new s({hash:this.hash,entropy:b,nonce:x,pers:v.pers,persEnc:v.persEnc||"utf8"}),O=this.n.sub(new a(1)),I=0;;I++){var T=v.k?v.k(I):new a(C.generate(this.n.byteLength()));if(!((T=this._truncateToN(T,!0)).cmpn(1)<=0||T.cmp(O)>=0)){var M=this.g.mul(T);if(!M.isInfinity()){var B=M.getX(),L=B.umod(this.n);if(L.cmpn(0)!==0){var P=T.invm(this.n).mul(L.mul(g.getPrivate()).iadd(m));if((P=P.umod(this.n)).cmpn(0)!==0){var A=(M.getY().isOdd()?1:0)|(B.cmp(L)!==0?2:0);return v.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),A^=1),new h({r:L,s:P,recoveryParam:A})}}}}}},d.prototype.verify=function(m,g,p,v){m=this._truncateToN(new a(m,16)),p=this.keyFromPublic(p,v);var y=(g=new h(g,"hex")).r,b=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var x,C=b.invm(this.n),O=C.mul(m).umod(this.n),I=C.mul(y).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(O,p.getPublic(),I)).isInfinity()&&x.eqXToP(y):!(x=this.g.mulAdd(O,p.getPublic(),I)).isInfinity()&&x.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(m,g,p,v){c((3&p)===p,"The recovery param is more than two bits"),g=new h(g,v);var y=this.n,b=new a(m),x=g.r,C=g.s,O=1&p,I=p>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");x=I?this.curve.pointFromX(x.add(this.curve.n),O):this.curve.pointFromX(x,O);var T=g.r.invm(y),M=y.sub(b).mul(T).umod(y),B=C.mul(T).umod(y);return this.g.mulAdd(M,x,B)},d.prototype.getKeyRecoveryParam=function(m,g,p,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(m,g,y)}catch{continue}if(b.eq(p))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var a=r("bn.js"),s=r("../utils").assert;function o(l,u){this.ec=l,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}n.exports=o,o.fromPublic=function(l,u,c){return u instanceof o?u:new o(l,{pub:u,pubEnc:c})},o.fromPrivate=function(l,u,c){return u instanceof o?u:new o(l,{priv:u,privEnc:c})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,u){return typeof l=="string"&&(u=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),u?this.pub.encode(u,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,u){this.priv=new a(l,u||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,u){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,u)},o.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,u,c){return this.ec.sign(l,this,u,c)},o.prototype.verify=function(l,u){return this.ec.verify(l,u,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var a=r("bn.js"),s=r("../utils"),o=s.assert;function l(d,m){if(d instanceof l)return d;this._importDER(d,m)||(o(d.r&&d.s,"Signature without r or s"),this.r=new a(d.r,16),this.s=new a(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function u(){this.place=0}function c(d,m){var g=d[m.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var v=0,y=0,b=m.place;y<p;y++,b++)v<<=8,v|=d[b],v>>>=0;return!(v<=127)&&(m.place=b,v)}function f(d){for(var m=0,g=d.length-1;!d[m]&&!(128&d[m+1])&&m<g;)m++;return m===0?d:d.slice(m)}function h(d,m){if(m<128)d.push(m);else{var g=1+(Math.log(m)/Math.LN2>>>3);for(d.push(128|g);--g;)d.push(m>>>(g<<3)&255);d.push(m)}}n.exports=l,l.prototype._importDER=function(d,m){d=s.toArray(d,m);var g=new u;if(d[g.place++]!==48)return!1;var p=c(d,g);if(p===!1||p+g.place!==d.length||d[g.place++]!==2)return!1;var v=c(d,g);if(v===!1)return!1;var y=d.slice(g.place,v+g.place);if(g.place+=v,d[g.place++]!==2)return!1;var b=c(d,g);if(b===!1||d.length!==b+g.place)return!1;var x=d.slice(g.place,b+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new a(y),this.s=new a(x),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var m=this.r.toArray(),g=this.s.toArray();for(128&m[0]&&(m=[0].concat(m)),128&g[0]&&(g=[0].concat(g)),m=f(m),g=f(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];h(p,m.length),(p=p.concat(m)).push(2),h(p,g.length);var v=p.concat(g),y=[48];return h(y,v.length),y=y.concat(v),s.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var a=r("hash.js"),s=r("../curves"),o=r("../utils"),l=o.assert,u=o.parseBytes,c=r("./key"),f=r("./signature");function h(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=a.sha512}n.exports=h,h.prototype.sign=function(d,m){d=u(d);var g=this.keyFromSecret(m),p=this.hashInt(g.messagePrefix(),d),v=this.g.mul(p),y=this.encodePoint(v),b=this.hashInt(y,g.pubBytes(),d).mul(g.priv()),x=p.add(b).umod(this.curve.n);return this.makeSignature({R:v,S:x,Rencoded:y})},h.prototype.verify=function(d,m,g){d=u(d),m=this.makeSignature(m);var p=this.keyFromPublic(g),v=this.hashInt(m.Rencoded(),p.pubBytes(),d),y=this.g.mul(m.S());return m.R().add(p.pub().mul(v)).eq(y)},h.prototype.hashInt=function(){for(var d=this.hash(),m=0;m<arguments.length;m++)d.update(arguments[m]);return o.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var m=d.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=d.getX().isOdd()?128:0,m},h.prototype.decodePoint=function(d){var m=(d=o.parseBytes(d)).length-1,g=d.slice(0,m).concat(-129&d[m]),p=(128&d[m])!=0,v=o.intFromLE(g);return this.curve.pointFromY(v,p)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return o.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var a=r("../utils"),s=a.assert,o=a.parseBytes,l=a.cachedProperty;function u(c,f){this.eddsa=c,this._secret=o(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=o(f.pub)}u.fromPublic=function(c,f){return f instanceof u?f:new u(c,{pub:f})},u.fromSecret=function(c,f){return f instanceof u?f:new u(c,{secret:f})},u.prototype.secret=function(){return this._secret},l(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(u,"privBytes",function(){var c=this.eddsa,f=this.hash(),h=c.encodingLength-1,d=f.slice(0,c.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d}),l(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(c){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},u.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},u.prototype.getSecret=function(c){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),c)},u.prototype.getPublic=function(c){return a.encode(this.pubBytes(),c)},n.exports=u},{"../utils":419}],417:[function(r,n,i){var a=r("bn.js"),s=r("../utils"),o=s.assert,l=s.cachedProperty,u=s.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=u(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var a=i,s=r("bn.js"),o=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");a.assert=o,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(u,c,f){var h=new Array(Math.max(u.bitLength(),f)+1);h.fill(0);for(var d=1<<c+1,m=u.clone(),g=0;g<h.length;g++){var p,v=m.andln(d-1);m.isOdd()?(p=v>(d>>1)-1?(d>>1)-v:v,m.isubn(p)):p=0,h[g]=p,m.iushrn(1)}return h},a.getJSF=function(u,c){var f=[[],[]];u=u.clone(),c=c.clone();for(var h,d=0,m=0;u.cmpn(-d)>0||c.cmpn(-m)>0;){var g,p,v=u.andln(3)+d&3,y=c.andln(3)+m&3;v===3&&(v=-1),y===3&&(y=-1),g=1&v?(h=u.andln(7)+d&7)!==3&&h!==5||y!==2?v:-v:0,f[0].push(g),p=1&y?(h=c.andln(7)+m&7)!==3&&h!==5||v!==2?y:-y:0,f[1].push(p),2*d===g+1&&(d=1-d),2*m===p+1&&(m=1-m),u.iushrn(1),c.iushrn(1)}return f},a.cachedProperty=function(u,c,f){var h="_"+c;u.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},a.parseBytes=function(u){return typeof u=="string"?a.toArray(u,"hex"):u},a.intFromLE=function(u){return new s(u,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var a=Object.create||function(T){var M=function(){};return M.prototype=T,new M},s=Object.keys||function(T){var M=[];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&M.push(B);return B},o=Function.prototype.bind||function(T){var M=this;return function(){return M.apply(T,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var u,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),u=f.x===0}catch{u=!1}function h(T){return T._maxListeners===void 0?l.defaultMaxListeners:T._maxListeners}function d(T,M,B){if(M)T.call(B);else for(var L=T.length,P=I(T,L),A=0;A<L;++A)P[A].call(B)}function m(T,M,B,L){if(M)T.call(B,L);else for(var P=T.length,A=I(T,P),j=0;j<P;++j)A[j].call(B,L)}function g(T,M,B,L,P){if(M)T.call(B,L,P);else for(var A=T.length,j=I(T,A),E=0;E<A;++E)j[E].call(B,L,P)}function p(T,M,B,L,P,A){if(M)T.call(B,L,P,A);else for(var j=T.length,E=I(T,j),w=0;w<j;++w)E[w].call(B,L,P,A)}function v(T,M,B,L){if(M)T.apply(B,L);else for(var P=T.length,A=I(T,P),j=0;j<P;++j)A[j].apply(B,L)}function y(T,M,B,L){var P,A,j;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((A=T._events)?(A.newListener&&(T.emit("newListener",M,B.listener?B.listener:B),A=T._events),j=A[M]):(A=T._events=a(null),T._eventsCount=0),j){if(typeof j=="function"?j=A[M]=L?[B,j]:[j,B]:L?j.unshift(B):j.push(B),!j.warned&&(P=h(T))&&P>0&&j.length>P){j.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+j.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=T,E.type=M,E.count=j.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else j=A[M]=B,++T._eventsCount;return T}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),M=0;M<T.length;++M)T[M]=arguments[M];this.listener.apply(this.target,T)}}function x(T,M,B){var L={fired:!1,wrapFn:void 0,target:T,type:M,listener:B},P=o.call(b,L);return P.listener=B,L.wrapFn=P,P}function C(T,M,B){var L=T._events;if(!L)return[];var P=L[M];return P?typeof P=="function"?B?[P.listener||P]:[P]:B?function(A){for(var j=new Array(A.length),E=0;E<j.length;++E)j[E]=A[E].listener||A[E];return j}(P):I(P,P.length):[]}function O(T){var M=this._events;if(M){var B=M[T];if(typeof B=="function")return 1;if(B)return B.length}return 0}function I(T,M){for(var B=new Array(M),L=0;L<M;++L)B[L]=T[L];return B}u?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(T){if(typeof T!="number"||T<0||T!=T)throw new TypeError('"defaultMaxListeners" must be a positive number');c=T}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||isNaN(T))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=T,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(T){var M,B,L,P,A,j,E=T==="error";if(j=this._events)E=E&&j.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var w=new Error('Unhandled "error" event. ('+M+")");throw w.context=M,w}if(!(B=j[T]))return!1;var S=typeof B=="function";switch(L=arguments.length){case 1:d(B,S,this);break;case 2:m(B,S,this,arguments[1]);break;case 3:g(B,S,this,arguments[1],arguments[2]);break;case 4:p(B,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(L-1),A=1;A<L;A++)P[A-1]=arguments[A];v(B,S,this,P)}return!0},l.prototype.addListener=function(T,M){return y(this,T,M,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(T,M){return y(this,T,M,!0)},l.prototype.once=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(T,x(this,T,M)),this},l.prototype.prependOnceListener=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(T,x(this,T,M)),this},l.prototype.removeListener=function(T,M){var B,L,P,A,j;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!(L=this._events))return this;if(!(B=L[T]))return this;if(B===M||B.listener===M)--this._eventsCount==0?this._events=a(null):(delete L[T],L.removeListener&&this.emit("removeListener",T,B.listener||M));else if(typeof B!="function"){for(P=-1,A=B.length-1;A>=0;A--)if(B[A]===M||B[A].listener===M){j=B[A].listener,P=A;break}if(P<0)return this;P===0?B.shift():function(E,w){for(var S=w,_=S+1,k=E.length;_<k;S+=1,_+=1)E[S]=E[_];E.pop()}(B,P),B.length===1&&(L[T]=B[0]),L.removeListener&&this.emit("removeListener",T,j||M)}return this},l.prototype.removeAllListeners=function(T){var M,B,L;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):B[T]&&(--this._eventsCount==0?this._events=a(null):delete B[T]),this;if(arguments.length===0){var P,A=s(B);for(L=0;L<A.length;++L)(P=A[L])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(M=B[T])=="function")this.removeListener(T,M);else if(M)for(L=M.length-1;L>=0;L--)this.removeListener(T,M[L]);return this},l.prototype.listeners=function(T){return C(this,T,!0)},l.prototype.rawListeners=function(T){return C(this,T,!1)},l.listenerCount=function(T,M){return typeof T.listenerCount=="function"?T.listenerCount(M):O.call(T,M)},l.prototype.listenerCount=O,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("md5.js");n.exports=function(o,l,u,c){if(a.isBuffer(o)||(o=a.from(o,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,h=a.alloc(f),d=a.alloc(c||0),m=a.alloc(0);f>0||c>0;){var g=new s;g.update(m),g.update(o),l&&g.update(l),m=g.digest();var p=0;if(f>0){var v=h.length-f;p=Math.min(f,m.length),m.copy(h,v,0,p),f-=p}if(p<m.length&&c>0){var y=d.length-c,b=Math.min(c,m.length-p);m.copy(d,y,p,p+b),c-=b}}return m.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("readable-stream").Transform;function o(l){s.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(o,s),o.prototype._transform=function(l,u,c){var f=null;try{this.update(l,u)}catch(h){f=h}c(f)},o.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(c){u=c}l(u)},o.prototype.update=function(l,u){if(function(g,p){if(!a.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,u));for(var c=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)c[this._blockOffset++]=l[f++];for(var d=0,m=8*l.length;m>0;++d)this._length[d]+=m,(m=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*m);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return u},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var a=i;a.utils=r("./hash/utils"),a.common=r("./hash/common"),a.sha=r("./hash/sha"),a.ripemd=r("./hash/ripemd"),a.hmac=r("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var a=r("./utils"),s=r("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=o,o.prototype.update=function(l,u){if(l=a.toArray(l,u),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-c,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,u=this._delta8,c=u-(l+this.padLength)%u,f=new Array(c+this.padLength);f[0]=128;for(var h=1;h<c;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var a=r("./utils"),s=r("minimalistic-assert");function o(l,u,c){if(!(this instanceof o))return new o(l,u,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(u,c))}n.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var u=l.length;u<this.blockSize;u++)l.push(0);for(u=0;u<l.length;u++)l[u]^=54;for(this.inner=new this.Hash().update(l),u=0;u<l.length;u++)l[u]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,u){return this.inner.update(l,u),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var a=r("./utils"),s=r("./common"),o=a.rotl32,l=a.sum32,u=a.sum32_3,c=a.sum32_4,f=s.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(x,C,O,I){return x<=15?C^O^I:x<=31?C&O|~C&I:x<=47?(C|~O)^I:x<=63?C&I|O&~I:C^(O|~I)}function m(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function g(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}a.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(x,C){for(var O=this.h[0],I=this.h[1],T=this.h[2],M=this.h[3],B=this.h[4],L=O,P=I,A=T,j=M,E=B,w=0;w<80;w++){var S=l(o(c(O,d(w,I,T,M),x[p[w]+C],m(w)),y[w]),B);O=B,B=M,M=o(T,10),T=I,I=S,S=l(o(c(L,d(79-w,P,A,j),x[v[w]+C],g(w)),b[w]),E),L=E,E=j,j=o(A,10),A=P,P=S}S=u(this.h[1],T,j),this.h[1]=u(this.h[2],M,E),this.h[2]=u(this.h[3],B,L),this.h[3]=u(this.h[4],O,P),this.h[4]=u(this.h[0],I,A),this.h[0]=S},h.prototype._digest=function(x){return x==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var a=r("../utils"),s=r("../common"),o=r("./common"),l=a.rotl32,u=a.sum32,c=a.sum32_5,f=o.ft_1,h=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(m,h),n.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(g,p){for(var v=this.W,y=0;y<16;y++)v[y]=g[p+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var b=this.h[0],x=this.h[1],C=this.h[2],O=this.h[3],I=this.h[4];for(y=0;y<v.length;y++){var T=~~(y/20),M=c(l(b,5),f(T,x,C,O),I,v[y],d[T]);I=O,O=C,C=l(x,30),x=b,b=M}this.h[0]=u(this.h[0],b),this.h[1]=u(this.h[1],x),this.h[2]=u(this.h[2],C),this.h[3]=u(this.h[3],O),this.h[4]=u(this.h[4],I)},m.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var a=r("../utils"),s=r("./256");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(o,s),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var a=r("../utils"),s=r("../common"),o=r("./common"),l=r("minimalistic-assert"),u=a.sum32,c=a.sum32_4,f=a.sum32_5,h=o.ch32,d=o.maj32,m=o.s0_256,g=o.s1_256,p=o.g0_256,v=o.g1_256,y=s.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}a.inherits(x,y),n.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(C,O){for(var I=this.W,T=0;T<16;T++)I[T]=C[O+T];for(;T<I.length;T++)I[T]=c(v(I[T-2]),I[T-7],p(I[T-15]),I[T-16]);var M=this.h[0],B=this.h[1],L=this.h[2],P=this.h[3],A=this.h[4],j=this.h[5],E=this.h[6],w=this.h[7];for(l(this.k.length===I.length),T=0;T<I.length;T++){var S=f(w,g(A),h(A,j,E),this.k[T],I[T]),_=u(m(M),d(M,B,L));w=E,E=j,j=A,A=u(P,S),P=L,L=B,B=M,M=u(S,_)}this.h[0]=u(this.h[0],M),this.h[1]=u(this.h[1],B),this.h[2]=u(this.h[2],L),this.h[3]=u(this.h[3],P),this.h[4]=u(this.h[4],A),this.h[5]=u(this.h[5],j),this.h[6]=u(this.h[6],E),this.h[7]=u(this.h[7],w)},x.prototype._digest=function(C){return C==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var a=r("../utils"),s=r("./512");function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(o,s),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var a=r("../utils"),s=r("../common"),o=r("minimalistic-assert"),l=a.rotr64_hi,u=a.rotr64_lo,c=a.shr64_hi,f=a.shr64_lo,h=a.sum64,d=a.sum64_hi,m=a.sum64_lo,g=a.sum64_4_hi,p=a.sum64_4_lo,v=a.sum64_5_hi,y=a.sum64_5_lo,b=s.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function O(_,k,N,$,R){var H=_&N^~_&R;return H<0&&(H+=4294967296),H}function I(_,k,N,$,R,H){var K=k&$^~k&H;return K<0&&(K+=4294967296),K}function T(_,k,N,$,R){var H=_&N^_&R^N&R;return H<0&&(H+=4294967296),H}function M(_,k,N,$,R,H){var K=k&$^k&H^$&H;return K<0&&(K+=4294967296),K}function B(_,k){var N=l(_,k,28)^l(k,_,2)^l(k,_,7);return N<0&&(N+=4294967296),N}function L(_,k){var N=u(_,k,28)^u(k,_,2)^u(k,_,7);return N<0&&(N+=4294967296),N}function P(_,k){var N=l(_,k,14)^l(_,k,18)^l(k,_,9);return N<0&&(N+=4294967296),N}function A(_,k){var N=u(_,k,14)^u(_,k,18)^u(k,_,9);return N<0&&(N+=4294967296),N}function j(_,k){var N=l(_,k,1)^l(_,k,8)^c(_,k,7);return N<0&&(N+=4294967296),N}function E(_,k){var N=u(_,k,1)^u(_,k,8)^f(_,k,7);return N<0&&(N+=4294967296),N}function w(_,k){var N=l(_,k,19)^l(k,_,29)^c(_,k,6);return N<0&&(N+=4294967296),N}function S(_,k){var N=u(_,k,19)^u(k,_,29)^f(_,k,6);return N<0&&(N+=4294967296),N}a.inherits(C,b),n.exports=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(_,k){for(var N=this.W,$=0;$<32;$++)N[$]=_[k+$];for(;$<N.length;$+=2){var R=w(N[$-4],N[$-3]),H=S(N[$-4],N[$-3]),K=N[$-14],J=N[$-13],V=j(N[$-30],N[$-29]),Z=E(N[$-30],N[$-29]),z=N[$-32],D=N[$-31];N[$]=g(R,H,K,J,V,Z,z,D),N[$+1]=p(R,H,K,J,V,Z,z,D)}},C.prototype._update=function(_,k){this._prepareBlock(_,k);var N=this.W,$=this.h[0],R=this.h[1],H=this.h[2],K=this.h[3],J=this.h[4],V=this.h[5],Z=this.h[6],z=this.h[7],D=this.h[8],G=this.h[9],te=this.h[10],ae=this.h[11],se=this.h[12],le=this.h[13],fe=this.h[14],ie=this.h[15];o(this.k.length===N.length);for(var oe=0;oe<N.length;oe+=2){var be=fe,ve=ie,we=P(D,G),Se=A(D,G),Ae=O(D,G,te,ae,se),Pe=I(D,G,te,ae,se,le),Re=this.k[oe],Ue=this.k[oe+1],We=N[oe],Ke=N[oe+1],Qe=v(be,ve,we,Se,Ae,Pe,Re,Ue,We,Ke),rt=y(be,ve,we,Se,Ae,Pe,Re,Ue,We,Ke);be=B($,R),ve=L($,R),we=T($,R,H,K,J),Se=M($,R,H,K,J,V);var dt=d(be,ve,we,Se),Ge=m(be,ve,we,Se);fe=se,ie=le,se=te,le=ae,te=D,ae=G,D=d(Z,z,Qe,rt),G=m(z,z,Qe,rt),Z=J,z=V,J=H,V=K,H=$,K=R,$=d(Qe,rt,dt,Ge),R=m(Qe,rt,dt,Ge)}h(this.h,0,$,R),h(this.h,2,H,K),h(this.h,4,J,V),h(this.h,6,Z,z),h(this.h,8,D,G),h(this.h,10,te,ae),h(this.h,12,se,le),h(this.h,14,fe,ie)},C.prototype._digest=function(_){return _==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var a=r("../utils").rotr32;function s(u,c,f){return u&c^~u&f}function o(u,c,f){return u&c^u&f^c&f}function l(u,c,f){return u^c^f}i.ft_1=function(u,c,f,h){return u===0?s(c,f,h):u===1||u===3?l(c,f,h):u===2?o(c,f,h):void 0},i.ch32=s,i.maj32=o,i.p32=l,i.s0_256=function(u){return a(u,2)^a(u,13)^a(u,22)},i.s1_256=function(u){return a(u,6)^a(u,11)^a(u,25)},i.g0_256=function(u){return a(u,7)^a(u,18)^u>>>3},i.g1_256=function(u){return a(u,17)^a(u,19)^u>>>10}},{"../utils":437}],437:[function(r,n,i){var a=r("minimalistic-assert"),s=r("inherits");function o(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function u(f){return f.length===1?"0"+f:f}function c(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=s,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),g=0;g<f.length;g+=2)d.push(parseInt(f[g]+f[g+1],16))}else for(var m=0,g=0;g<f.length;g++){var p=f.charCodeAt(g);p<128?d[m++]=p:p<2048?(d[m++]=p>>6|192,d[m++]=63&p|128):o(f,g)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++g)),d[m++]=p>>18|240,d[m++]=p>>12&63|128,d[m++]=p>>6&63|128,d[m++]=63&p|128):(d[m++]=p>>12|224,d[m++]=p>>6&63|128,d[m++]=63&p|128)}else for(g=0;g<f.length;g++)d[g]=0|f[g];return d},i.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=u(f[d].toString(16));return h},i.htonl=l,i.toHex32=function(f,h){for(var d="",m=0;m<f.length;m++){var g=f[m];h==="little"&&(g=l(g)),d+=c(g.toString(16))}return d},i.zero2=u,i.zero8=c,i.join32=function(f,h,d,m){var g=d-h;a(g%4==0);for(var p=new Array(g/4),v=0,y=h;v<p.length;v++,y+=4){var b;b=m==="big"?f[y]<<24|f[y+1]<<16|f[y+2]<<8|f[y+3]:f[y+3]<<24|f[y+2]<<16|f[y+1]<<8|f[y],p[v]=b>>>0}return p},i.split32=function(f,h){for(var d=new Array(4*f.length),m=0,g=0;m<f.length;m++,g+=4){var p=f[m];h==="big"?(d[g]=p>>>24,d[g+1]=p>>>16&255,d[g+2]=p>>>8&255,d[g+3]=255&p):(d[g+3]=p>>>24,d[g+2]=p>>>16&255,d[g+1]=p>>>8&255,d[g]=255&p)}return d},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,d){return f+h+d>>>0},i.sum32_4=function(f,h,d,m){return f+h+d+m>>>0},i.sum32_5=function(f,h,d,m,g){return f+h+d+m+g>>>0},i.sum64=function(f,h,d,m){var g=f[h],p=m+f[h+1]>>>0,v=(p<m?1:0)+d+g;f[h]=v>>>0,f[h+1]=p},i.sum64_hi=function(f,h,d,m){return(h+m>>>0<h?1:0)+f+d>>>0},i.sum64_lo=function(f,h,d,m){return h+m>>>0},i.sum64_4_hi=function(f,h,d,m,g,p,v,y){var b=0,x=h;return b+=(x=x+m>>>0)<h?1:0,b+=(x=x+p>>>0)<p?1:0,f+d+g+v+(b+=(x=x+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(f,h,d,m,g,p,v,y){return h+m+p+y>>>0},i.sum64_5_hi=function(f,h,d,m,g,p,v,y,b,x){var C=0,O=h;return C+=(O=O+m>>>0)<h?1:0,C+=(O=O+p>>>0)<p?1:0,C+=(O=O+y>>>0)<y?1:0,f+d+g+v+b+(C+=(O=O+x>>>0)<x?1:0)>>>0},i.sum64_5_lo=function(f,h,d,m,g,p,v,y,b,x){return h+m+p+y+x>>>0},i.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},i.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},i.shr64_hi=function(f,h,d){return f>>>d},i.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var a=r("hash.js"),s=r("minimalistic-crypto-utils"),o=r("minimalistic-assert");function l(u){if(!(this instanceof l))return new l(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=s.toArray(u.entropy,u.entropyEnc||"hex"),f=s.toArray(u.nonce,u.nonceEnc||"hex"),h=s.toArray(u.pers,u.persEnc||"hex");o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}n.exports=l,l.prototype._init=function(u,c,f){var h=u.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(u){var c=this._hmac().update(this.V).update([0]);u&&(c=c.update(u)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(u,c,f,h){typeof c!="string"&&(h=f,f=c,c=null),u=s.toArray(u,c),f=s.toArray(f,h),o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},l.prototype.generate=function(u,c,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(h=f,f=c,c=null),f&&(f=s.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<u;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var m=d.slice(0,u);return this._update(f),this._reseed++,s.encode(m,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,s,o,l,u){var c,f,h=8*u-l-1,d=(1<<h)-1,m=d>>1,g=-7,p=o?u-1:0,v=o?-1:1,y=a[s+p];for(p+=v,c=y&(1<<-g)-1,y>>=-g,g+=h;g>0;c=256*c+a[s+p],p+=v,g-=8);for(f=c&(1<<-g)-1,c>>=-g,g+=l;g>0;f=256*f+a[s+p],p+=v,g-=8);if(c===0)c=1-m;else{if(c===d)return f?NaN:1/0*(y?-1:1);f+=Math.pow(2,l),c-=m}return(y?-1:1)*f*Math.pow(2,c-l)},i.write=function(a,s,o,l,u,c){var f,h,d,m=8*c-u-1,g=(1<<m)-1,p=g>>1,v=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:c-1,b=l?1:-1,x=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,f=g):(f=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-f))<1&&(f--,d*=2),(s+=f+p>=1?v/d:v*Math.pow(2,1-p))*d>=2&&(f++,d/=2),f+p>=g?(h=0,f=g):f+p>=1?(h=(s*d-1)*Math.pow(2,u),f+=p):(h=s*Math.pow(2,p-1)*Math.pow(2,u),f=0));u>=8;a[o+y]=255&h,y+=b,h/=256,u-=8);for(f=f<<u|h,m+=u;m>0;a[o+y]=255&f,y+=b,f/=256,m-=8);a[o+y-b]|=128*x}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,s){if(s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}}},{}],441:[function(r,n,i){(function(a,s,o,l,u,c,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(m,g,p){function v(x,C){if(!g[x]){if(!m[x]){var O=typeof r=="function"&&r;if(!C&&O)return O(x,!0);if(y)return y(x,!0);var I=new Error("Cannot find module '"+x+"'");throw I.code="MODULE_NOT_FOUND",I}var T=g[x]={exports:{}};m[x][0].call(T.exports,function(M){return v(m[x][1][M]||M)},T,T.exports,d,m,g,p)}return g[x].exports}for(var y=typeof r=="function"&&r,b=0;b<p.length;b++)v(p[b]);return v}({1:[function(d,m,g){var p=d("./utils"),v=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(b){for(var x,C,O,I,T,M,B,L=[],P=0,A=b.length,j=A,E=p.getTypeOf(b)!=="string";P<b.length;)j=A-P,O=E?(x=b[P++],C=P<A?b[P++]:0,P<A?b[P++]:0):(x=b.charCodeAt(P++),C=P<A?b.charCodeAt(P++):0,P<A?b.charCodeAt(P++):0),I=x>>2,T=(3&x)<<4|C>>4,M=1<j?(15&C)<<2|O>>6:64,B=2<j?63&O:64,L.push(y.charAt(I)+y.charAt(T)+y.charAt(M)+y.charAt(B));return L.join("")},g.decode=function(b){var x,C,O,I,T,M,B=0,L=0,P="data:";if(b.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var A,j=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===y.charAt(64)&&j--,b.charAt(b.length-2)===y.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=v.uint8array?new Uint8Array(0|j):new Array(0|j);B<b.length;)x=y.indexOf(b.charAt(B++))<<2|(I=y.indexOf(b.charAt(B++)))>>4,C=(15&I)<<4|(T=y.indexOf(b.charAt(B++)))>>2,O=(3&T)<<6|(M=y.indexOf(b.charAt(B++))),A[L++]=x,T!==64&&(A[L++]=C),M!==64&&(A[L++]=O);return A}},{"./support":30,"./utils":32}],2:[function(d,m,g){var p=d("./external"),v=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),b=d("./stream/DataLengthProbe");function x(C,O,I,T,M){this.compressedSize=C,this.uncompressedSize=O,this.crc32=I,this.compression=T,this.compressedContent=M}x.prototype={getContentWorker:function(){var C=new v(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),O=this;return C.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),C},getCompressedWorker:function(){return new v(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(C,O,I){return C.pipe(new y).pipe(new b("uncompressedSize")).pipe(O.compressWorker(I)).pipe(new b("compressedSize")).withStreamInfo("compression",O)},m.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,m,g){var p=d("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,m,g){var p=d("./utils"),v=function(){for(var y,b=[],x=0;x<256;x++){y=x;for(var C=0;C<8;C++)y=1&y?3988292384^y>>>1:y>>>1;b[x]=y}return b}();m.exports=function(y,b){return y!==void 0&&y.length?p.getTypeOf(y)!=="string"?function(x,C,O,I){var T=v,M=0+O;x^=-1;for(var B=0;B<M;B++)x=x>>>8^T[255&(x^C[B])];return-1^x}(0|b,y,y.length):function(x,C,O,I){var T=v,M=0+O;x^=-1;for(var B=0;B<M;B++)x=x>>>8^T[255&(x^C.charCodeAt(B))];return-1^x}(0|b,y,y.length):0}},{"./utils":32}],5:[function(d,m,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(d,m,g){var p;p=typeof Promise<"u"?Promise:d("lie"),m.exports={Promise:p}},{lie:37}],7:[function(d,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=d("pako"),y=d("./utils"),b=d("./stream/GenericWorker"),x=p?"uint8array":"array";function C(O,I){b.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=I,this.meta={}}g.magic="\b\0",y.inherits(C,b),C.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(x,O.data),!1)},C.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},C.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},C.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(I){O.push({data:I,meta:O.meta})}},g.compressWorker=function(O){return new C("Deflate",O)},g.uncompressWorker=function(){return new C("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,m,g){function p(T,M){var B,L="";for(B=0;B<M;B++)L+=String.fromCharCode(255&T),T>>>=8;return L}function v(T,M,B,L,P,A){var j,E,w=T.file,S=T.compression,_=A!==x.utf8encode,k=y.transformTo("string",A(w.name)),N=y.transformTo("string",x.utf8encode(w.name)),$=w.comment,R=y.transformTo("string",A($)),H=y.transformTo("string",x.utf8encode($)),K=N.length!==w.name.length,J=H.length!==$.length,V="",Z="",z="",D=w.dir,G=w.date,te={crc32:0,compressedSize:0,uncompressedSize:0};M&&!B||(te.crc32=T.crc32,te.compressedSize=T.compressedSize,te.uncompressedSize=T.uncompressedSize);var ae=0;M&&(ae|=8),_||!K&&!J||(ae|=2048);var se=0,le=0;D&&(se|=16),P==="UNIX"?(le=798,se|=function(ie,oe){var be=ie;return ie||(be=oe?16893:33204),(65535&be)<<16}(w.unixPermissions,D)):(le=20,se|=function(ie){return 63&(ie||0)}(w.dosPermissions)),j=G.getUTCHours(),j<<=6,j|=G.getUTCMinutes(),j<<=5,j|=G.getUTCSeconds()/2,E=G.getUTCFullYear()-1980,E<<=4,E|=G.getUTCMonth()+1,E<<=5,E|=G.getUTCDate(),K&&(Z=p(1,1)+p(C(k),4)+N,V+="up"+p(Z.length,2)+Z),J&&(z=p(1,1)+p(C(R),4)+H,V+="uc"+p(z.length,2)+z);var fe="";return fe+=`
\0`,fe+=p(ae,2),fe+=S.magic,fe+=p(j,2),fe+=p(E,2),fe+=p(te.crc32,4),fe+=p(te.compressedSize,4),fe+=p(te.uncompressedSize,4),fe+=p(k.length,2),fe+=p(V.length,2),{fileRecord:O.LOCAL_FILE_HEADER+fe+k+V,dirRecord:O.CENTRAL_FILE_HEADER+p(le,2)+fe+p(R.length,2)+"\0\0\0\0"+p(se,4)+p(L,4)+k+V+R}}var y=d("../utils"),b=d("../stream/GenericWorker"),x=d("../utf8"),C=d("../crc32"),O=d("../signature");function I(T,M,B,L){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=B,this.encodeFileName=L,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(I,b),I.prototype.push=function(T){var M=T.meta.percent||0,B=this.entriesCount,L=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,b.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:B?(M+100*(B-L-1))/B:100}}))},I.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var M=this.streamFiles&&!T.file.dir;if(M){var B=v(T,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},I.prototype.closedSource=function(T){this.accumulate=!1;var M=this.streamFiles&&!T.file.dir,B=v(T,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),M)this.push({data:function(L){return O.DATA_DESCRIPTOR+p(L.crc32,4)+p(L.compressedSize,4)+p(L.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},I.prototype.flush=function(){for(var T=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var B=this.bytesWritten-T,L=function(P,A,j,E,w){var S=y.transformTo("string",w(E));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(P,2)+p(P,2)+p(A,4)+p(j,4)+p(S.length,2)+S}(this.dirRecords.length,B,T,this.zipComment,this.encodeFileName);this.push({data:L,meta:{percent:100}})},I.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},I.prototype.registerPrevious=function(T){this._sources.push(T);var M=this;return T.on("data",function(B){M.processChunk(B)}),T.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),T.on("error",function(B){M.error(B)}),this},I.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},I.prototype.error=function(T){var M=this._sources;if(!b.prototype.error.call(this,T))return!1;for(var B=0;B<M.length;B++)try{M[B].error(T)}catch{}return!0},I.prototype.lock=function(){b.prototype.lock.call(this);for(var T=this._sources,M=0;M<T.length;M++)T[M].lock()},m.exports=I},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,m,g){var p=d("../compressions"),v=d("./ZipFileWorker");g.generateWorker=function(y,b,x){var C=new v(b.streamFiles,x,b.platform,b.encodeFileName),O=0;try{y.forEach(function(I,T){O++;var M=function(A,j){var E=A||j,w=p[E];if(!w)throw new Error(E+" is not a valid compression method !");return w}(T.options.compression,b.compression),B=T.options.compressionOptions||b.compressionOptions||{},L=T.dir,P=T.date;T._compressWorker(M,B).withStreamInfo("file",{name:I,dir:L,date:P,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(C)}),C.entriesCount=O}catch(I){C.error(I)}return C}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,m,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new p;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(p.prototype=d("./object")).loadAsync=d("./load"),p.support=d("./support"),p.defaults=d("./defaults"),p.version="3.10.1",p.loadAsync=function(v,y){return new p().loadAsync(v,y)},p.external=d("./external"),m.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,m,g){var p=d("./utils"),v=d("./external"),y=d("./utf8"),b=d("./zipEntries"),x=d("./stream/Crc32Probe"),C=d("./nodejsUtils");function O(I){return new v.Promise(function(T,M){var B=I.decompressed.getContentWorker().pipe(new x);B.on("error",function(L){M(L)}).on("end",function(){B.streamInfo.crc32!==I.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}m.exports=function(I,T){var M=this;return T=p.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),C.isNode&&C.isStream(I)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",I,!0,T.optimizedBinaryString,T.base64).then(function(B){var L=new b(T);return L.load(B),L}).then(function(B){var L=[v.Promise.resolve(B)],P=B.files;if(T.checkCRC32)for(var A=0;A<P.length;A++)L.push(O(P[A]));return v.Promise.all(L)}).then(function(B){for(var L=B.shift(),P=L.files,A=0;A<P.length;A++){var j=P[A],E=j.fileNameStr,w=p.resolve(j.fileNameStr);M.file(w,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:T.createFolders}),j.dir||(M.file(w).unsafeOriginalName=E)}return L.zipComment.length&&(M.comment=L.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,m,g){var p=d("../utils"),v=d("../stream/GenericWorker");function y(b,x){v.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(x)}p.inherits(y,v),y.prototype._bindStream=function(b){var x=this;(this._stream=b).pause(),b.on("data",function(C){x.push({data:C,meta:{percent:0}})}).on("error",function(C){x.isPaused?this.generatedError=C:x.error(C)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,m,g){var p=d("readable-stream").Readable;function v(y,b,x){p.call(this,b),this._helper=y;var C=this;y.on("data",function(O,I){C.push(O)||C._helper.pause(),x&&x(I)}).on("error",function(O){C.emit("error",O)}).on("end",function(){C.push(null)})}d("../utils").inherits(v,p),v.prototype._read=function(){this._helper.resume()},m.exports=v},{"../utils":32,"readable-stream":16}],14:[function(d,m,g){m.exports={isNode:o!==void 0,newBufferFrom:function(p,v){if(o.from&&o.from!==Uint8Array.from)return o.from(p,v);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new o(p,v)},allocBuffer:function(p){if(o.alloc)return o.alloc(p);var v=new o(p);return v.fill(0),v},isBuffer:function(p){return o.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(d,m,g){function p(w,S,_){var k,N=y.getTypeOf(S),$=y.extend(_||{},C);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(w=P(w)),$.createFolders&&(k=L(w))&&A.call(this,k,!0);var R=N==="string"&&$.binary===!1&&$.base64===!1;_&&_.binary!==void 0||($.binary=!R),(S instanceof O&&S.uncompressedSize===0||$.dir||!S||S.length===0)&&($.base64=!1,$.binary=!0,S="",$.compression="STORE",N="string");var H;H=S instanceof O||S instanceof b?S:M.isNode&&M.isStream(S)?new B(w,S):y.prepareContent(w,S,$.binary,$.optimizedBinaryString,$.base64);var K=new I(w,H,$);this.files[w]=K}var v=d("./utf8"),y=d("./utils"),b=d("./stream/GenericWorker"),x=d("./stream/StreamHelper"),C=d("./defaults"),O=d("./compressedObject"),I=d("./zipObject"),T=d("./generate"),M=d("./nodejsUtils"),B=d("./nodejs/NodejsStreamInputAdapter"),L=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},P=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},A=function(w,S){return S=S!==void 0?S:C.createFolders,w=P(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function j(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,_,k;for(S in this.files)k=this.files[S],(_=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(_,k)},filter:function(w){var S=[];return this.forEach(function(_,k){w(_,k)&&S.push(k)}),S},file:function(w,S,_){if(arguments.length!==1)return w=this.root+w,p.call(this,w,S,_),this;if(j(w)){var k=w;return this.filter(function($,R){return!R.dir&&k.test($)})}var N=this.files[this.root+w];return N&&!N.dir?N:null},folder:function(w){if(!w)return this;if(j(w))return this.filter(function(N,$){return $.dir&&w.test(N)});var S=this.root+w,_=A.call(this,S),k=this.clone();return k.root=_.name,k},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var _=this.filter(function(N,$){return $.name.slice(0,w.length)===w}),k=0;k<_.length;k++)delete this.files[_[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,_={};try{if((_=y.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");y.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var k=_.comment||this.comment||"";S=T.generateWorker(this,_,k)}catch(N){(S=new b("error")).error(N)}return new x(S,_.type||"string",_.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};m.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,m,g){m.exports=d("stream")},{stream:void 0}],17:[function(d,m,g){var p=d("./DataReader");function v(y){p.call(this,y);for(var b=0;b<this.data.length;b++)y[b]=255&y[b]}d("../utils").inherits(v,p),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var b=y.charCodeAt(0),x=y.charCodeAt(1),C=y.charCodeAt(2),O=y.charCodeAt(3),I=this.length-4;0<=I;--I)if(this.data[I]===b&&this.data[I+1]===x&&this.data[I+2]===C&&this.data[I+3]===O)return I-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var b=y.charCodeAt(0),x=y.charCodeAt(1),C=y.charCodeAt(2),O=y.charCodeAt(3),I=this.readData(4);return b===I[0]&&x===I[1]&&C===I[2]&&O===I[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./DataReader":18}],18:[function(d,m,g){var p=d("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var b,x=0;for(this.checkOffset(y),b=this.index+y-1;b>=this.index;b--)x=(x<<8)+this.byteAt(b);return this.index+=y,x},readString:function(y){return p.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},m.exports=v},{"../utils":32}],19:[function(d,m,g){var p=d("./Uint8ArrayReader");function v(y){p.call(this,y)}d("../utils").inherits(v,p),v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,m,g){var p=d("./DataReader");function v(y){p.call(this,y)}d("../utils").inherits(v,p),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./DataReader":18}],21:[function(d,m,g){var p=d("./ArrayReader");function v(y){p.call(this,y)}d("../utils").inherits(v,p),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(d,m,g){var p=d("../utils"),v=d("../support"),y=d("./ArrayReader"),b=d("./StringReader"),x=d("./NodeBufferReader"),C=d("./Uint8ArrayReader");m.exports=function(O){var I=p.getTypeOf(O);return p.checkSupport(I),I!=="string"||v.uint8array?I==="nodebuffer"?new x(O):v.uint8array?new C(p.transformTo("uint8array",O)):new y(p.transformTo("array",O)):new b(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,m,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,m,g){var p=d("./GenericWorker"),v=d("../utils");function y(b){p.call(this,"ConvertWorker to "+b),this.destType=b}v.inherits(y,p),y.prototype.processChunk=function(b){this.push({data:v.transformTo(this.destType,b.data),meta:b.meta})},m.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,m,g){var p=d("./GenericWorker"),v=d("../crc32");function y(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,p),y.prototype.processChunk=function(b){this.streamInfo.crc32=v(b.data,this.streamInfo.crc32||0),this.push(b)},m.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,m,g){var p=d("../utils"),v=d("./GenericWorker");function y(b){v.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(y,v),y.prototype.processChunk=function(b){if(b){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+b.data.length}v.prototype.processChunk.call(this,b)},m.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,m,g){var p=d("../utils"),v=d("./GenericWorker");function y(b){v.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(C){x.dataIsReady=!0,x.data=C,x.max=C&&C.length||0,x.type=p.getTypeOf(C),x.isPaused||x._tickAndRepeat()},function(C){x.error(C)})}p.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,x);break;case"uint8array":b=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":b=this.data.slice(this.index,x)}return this.index=x,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,m,g){function p(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var b=0;b<this._listeners[v].length;b++)this._listeners[v][b].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(b){y.processChunk(b)}),v.on("end",function(){y.end()}),v.on("error",function(b){y.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},m.exports=p},{}],29:[function(d,m,g){var p=d("../utils"),v=d("./ConvertWorker"),y=d("./GenericWorker"),b=d("../base64"),x=d("../support"),C=d("../external"),O=null;if(x.nodestream)try{O=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function I(T,M,B){var L=M;switch(M){case"blob":case"arraybuffer":L="uint8array";break;case"base64":L="string"}try{this._internalType=L,this._outputType=M,this._mimeType=B,p.checkSupport(L),this._worker=T.pipe(new v(L)),T.lock()}catch(P){this._worker=new y("error"),this._worker.error(P)}}I.prototype={accumulate:function(T){return function(M,B){return new C.Promise(function(L,P){var A=[],j=M._internalType,E=M._outputType,w=M._mimeType;M.on("data",function(S,_){A.push(S),B&&B(_)}).on("error",function(S){A=[],P(S)}).on("end",function(){try{var S=function(_,k,N){switch(_){case"blob":return p.newBlob(p.transformTo("arraybuffer",k),N);case"base64":return b.encode(k);default:return p.transformTo(_,k)}}(E,function(_,k){var N,$=0,R=null,H=0;for(N=0;N<k.length;N++)H+=k[N].length;switch(_){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(R=new Uint8Array(H),N=0;N<k.length;N++)R.set(k[N],$),$+=k[N].length;return R;case"nodebuffer":return o.concat(k);default:throw new Error("concat : unsupported type '"+_+"'")}}(j,A),w);L(S)}catch(_){P(_)}A=[]}).resume()})}(this,T)},on:function(T,M){var B=this;return T==="data"?this._worker.on(T,function(L){M.call(B,L.data,L.meta)}):this._worker.on(T,function(){p.delay(M,arguments,B)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},T)}},m.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,m,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(p),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!d("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(d,m,g){for(var p=d("./utils"),v=d("./support"),y=d("./nodejsUtils"),b=d("./stream/GenericWorker"),x=new Array(256),C=0;C<256;C++)x[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function O(){b.call(this,"utf-8 decode"),this.leftOver=null}function I(){b.call(this,"utf-8 encode")}x[254]=x[254]=1,g.utf8encode=function(T){return v.nodebuffer?y.newBufferFrom(T,"utf-8"):function(M){var B,L,P,A,j,E=M.length,w=0;for(A=0;A<E;A++)(64512&(L=M.charCodeAt(A)))==55296&&A+1<E&&(64512&(P=M.charCodeAt(A+1)))==56320&&(L=65536+(L-55296<<10)+(P-56320),A++),w+=L<128?1:L<2048?2:L<65536?3:4;for(B=v.uint8array?new Uint8Array(w):new Array(w),A=j=0;j<w;A++)(64512&(L=M.charCodeAt(A)))==55296&&A+1<E&&(64512&(P=M.charCodeAt(A+1)))==56320&&(L=65536+(L-55296<<10)+(P-56320),A++),L<128?B[j++]=L:(L<2048?B[j++]=192|L>>>6:(L<65536?B[j++]=224|L>>>12:(B[j++]=240|L>>>18,B[j++]=128|L>>>12&63),B[j++]=128|L>>>6&63),B[j++]=128|63&L);return B}(T)},g.utf8decode=function(T){return v.nodebuffer?p.transformTo("nodebuffer",T).toString("utf-8"):function(M){var B,L,P,A,j=M.length,E=new Array(2*j);for(B=L=0;B<j;)if((P=M[B++])<128)E[L++]=P;else if(4<(A=x[P]))E[L++]=65533,B+=A-1;else{for(P&=A===2?31:A===3?15:7;1<A&&B<j;)P=P<<6|63&M[B++],A--;1<A?E[L++]=65533:P<65536?E[L++]=P:(P-=65536,E[L++]=55296|P>>10&1023,E[L++]=56320|1023&P)}return E.length!==L&&(E.subarray?E=E.subarray(0,L):E.length=L),p.applyFromCharCode(E)}(T=p.transformTo(v.uint8array?"uint8array":"array",T))},p.inherits(O,b),O.prototype.processChunk=function(T){var M=p.transformTo(v.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var B=M;(M=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),M.set(B,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var L=function(A,j){var E;for((j=j||A.length)>A.length&&(j=A.length),E=j-1;0<=E&&(192&A[E])==128;)E--;return E<0||E===0?j:E+x[A[E]]>j?E:j}(M),P=M;L!==M.length&&(v.uint8array?(P=M.subarray(0,L),this.leftOver=M.subarray(L,M.length)):(P=M.slice(0,L),this.leftOver=M.slice(L,M.length))),this.push({data:g.utf8decode(P),meta:T.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=O,p.inherits(I,b),I.prototype.processChunk=function(T){this.push({data:g.utf8encode(T.data),meta:T.meta})},g.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,m,g){var p=d("./support"),v=d("./base64"),y=d("./nodejsUtils"),b=d("./external");function x(B){return B}function C(B,L){for(var P=0;P<B.length;++P)L[P]=255&B.charCodeAt(P);return L}d("setimmediate"),g.newBlob=function(B,L){g.checkSupport("blob");try{return new Blob([B],{type:L})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(B),P.getBlob(L)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(B,L,P){var A=[],j=0,E=B.length;if(E<=P)return String.fromCharCode.apply(null,B);for(;j<E;)L==="array"||L==="nodebuffer"?A.push(String.fromCharCode.apply(null,B.slice(j,Math.min(j+P,E)))):A.push(String.fromCharCode.apply(null,B.subarray(j,Math.min(j+P,E)))),j+=P;return A.join("")},stringifyByChar:function(B){for(var L="",P=0;P<B.length;P++)L+=String.fromCharCode(B[P]);return L},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function I(B){var L=65536,P=g.getTypeOf(B),A=!0;if(P==="uint8array"?A=O.applyCanBeUsed.uint8array:P==="nodebuffer"&&(A=O.applyCanBeUsed.nodebuffer),A)for(;1<L;)try{return O.stringifyByChunk(B,P,L)}catch{L=Math.floor(L/2)}return O.stringifyByChar(B)}function T(B,L){for(var P=0;P<B.length;P++)L[P]=B[P];return L}g.applyFromCharCode=I;var M={};M.string={string:x,array:function(B){return C(B,new Array(B.length))},arraybuffer:function(B){return M.string.uint8array(B).buffer},uint8array:function(B){return C(B,new Uint8Array(B.length))},nodebuffer:function(B){return C(B,y.allocBuffer(B.length))}},M.array={string:I,array:x,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return y.newBufferFrom(B)}},M.arraybuffer={string:function(B){return I(new Uint8Array(B))},array:function(B){return T(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:x,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return y.newBufferFrom(new Uint8Array(B))}},M.uint8array={string:I,array:function(B){return T(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:x,nodebuffer:function(B){return y.newBufferFrom(B)}},M.nodebuffer={string:I,array:function(B){return T(B,new Array(B.length))},arraybuffer:function(B){return M.nodebuffer.uint8array(B).buffer},uint8array:function(B){return T(B,new Uint8Array(B.length))},nodebuffer:x},g.transformTo=function(B,L){if(L=L||"",!B)return L;g.checkSupport(B);var P=g.getTypeOf(L);return M[P][B](L)},g.resolve=function(B){for(var L=B.split("/"),P=[],A=0;A<L.length;A++){var j=L[A];j==="."||j===""&&A!==0&&A!==L.length-1||(j===".."?P.pop():P.push(j))}return P.join("/")},g.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":p.nodebuffer&&y.isBuffer(B)?"nodebuffer":p.uint8array&&B instanceof Uint8Array?"uint8array":p.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(B){if(!p[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(B){var L,P,A="";for(P=0;P<(B||"").length;P++)A+="\\x"+((L=B.charCodeAt(P))<16?"0":"")+L.toString(16).toUpperCase();return A},g.delay=function(B,L,P){h(function(){B.apply(P||null,L||[])})},g.inherits=function(B,L){function P(){}P.prototype=L.prototype,B.prototype=new P},g.extend=function(){var B,L,P={};for(B=0;B<arguments.length;B++)for(L in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],L)&&P[L]===void 0&&(P[L]=arguments[B][L]);return P},g.prepareContent=function(B,L,P,A,j){return b.Promise.resolve(L).then(function(E){return p.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new b.Promise(function(w,S){var _=new FileReader;_.onload=function(k){w(k.target.result)},_.onerror=function(k){S(k.target.error)},_.readAsArrayBuffer(E)}):E}).then(function(E){var w=g.getTypeOf(E);return w?(w==="arraybuffer"?E=g.transformTo("uint8array",E):w==="string"&&(j?E=v.decode(E):P&&A!==!0&&(E=function(S){return C(S,p.uint8array?new Uint8Array(S.length):new Array(S.length))}(E))),E):b.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,m,g){var p=d("./reader/readerFor"),v=d("./utils"),y=d("./signature"),b=d("./zipEntry"),x=d("./support");function C(O){this.files=[],this.loadOptions=O}C.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(I)+", expected "+v.pretty(O)+")")}},isSignature:function(O,I){var T=this.reader.index;this.reader.setIndex(O);var M=this.reader.readString(4)===I;return this.reader.setIndex(T),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),I=x.uint8array?"uint8array":"array",T=v.transformTo(I,O);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,I,T,M=this.zip64EndOfCentralSize-44;0<M;)O=this.reader.readInt(2),I=this.reader.readInt(4),T=this.reader.readData(I),this.zip64ExtensibleData[O]={id:O,length:I,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,I;for(O=0;O<this.files.length;O++)I=this.files[O],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(O=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var I=O;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var M=I-T;if(0<M)this.isSignature(I,y.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(O){this.reader=p(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=C},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,m,g){var p=d("./reader/readerFor"),v=d("./utils"),y=d("./compressedObject"),b=d("./crc32"),x=d("./utf8"),C=d("./compressions"),O=d("./support");function I(T,M){this.options=T,this.loadOptions=M}I.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var M,B;if(T.skip(22),this.fileNameLength=T.readInt(2),B=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=function(L){for(var P in C)if(Object.prototype.hasOwnProperty.call(C,P)&&C[P].magic===L)return C[P];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,M,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var M=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(M),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=p(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var M,B,L,P=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<P;)M=T.readInt(2),B=T.readInt(2),L=T.readData(B),this.extraFields[M]={id:M,length:B,value:L};T.setIndex(P)},handleUTF8:function(){var T=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var B=v.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var L=this.findExtraFieldUnicodeComment();if(L!==null)this.fileCommentStr=L;else{var P=v.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileName)!==M.readInt(4)?null:x.utf8decode(M.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileComment)!==M.readInt(4)?null:x.utf8decode(M.readData(T.length-5))}return null}},m.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,m,g){function p(M,B,L){this.name=M,this.dir=L.dir,this.date=L.date,this.comment=L.comment,this.unixPermissions=L.unixPermissions,this.dosPermissions=L.dosPermissions,this._data=B,this._dataBinary=L.binary,this.options={compression:L.compression,compressionOptions:L.compressionOptions}}var v=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),b=d("./utf8"),x=d("./compressedObject"),C=d("./stream/GenericWorker");p.prototype={internalStream:function(M){var B=null,L="string";try{if(!M)throw new Error("No output type specified.");var P=(L=M.toLowerCase())==="string"||L==="text";L!=="binarystring"&&L!=="text"||(L="string"),B=this._decompressWorker();var A=!this._dataBinary;A&&!P&&(B=B.pipe(new b.Utf8EncodeWorker)),!A&&P&&(B=B.pipe(new b.Utf8DecodeWorker))}catch(j){(B=new C("error")).error(j)}return new v(B,L,"")},async:function(M,B){return this.internalStream(M).accumulate(B)},nodeStream:function(M,B){return this.internalStream(M||"nodebuffer").toNodejsStream(B)},_compressWorker:function(M,B){if(this._data instanceof x&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var L=this._decompressWorker();return this._dataBinary||(L=L.pipe(new b.Utf8EncodeWorker)),x.createWorkerFrom(L,M,B)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof C?this._data:new y(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],I=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<O.length;T++)p.prototype[O[T]]=I;m.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,m,g){(function(p){var v,y,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var x=0,C=new b(M),O=p.document.createTextNode("");C.observe(O,{characterData:!0}),v=function(){O.data=x=++x%2}}else if(p.setImmediate||p.MessageChannel===void 0)v="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var B=p.document.createElement("script");B.onreadystatechange=function(){M(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},p.document.documentElement.appendChild(B)}:function(){setTimeout(M,0)};else{var I=new p.MessageChannel;I.port1.onmessage=M,v=function(){I.port2.postMessage(0)}}var T=[];function M(){var B,L;y=!0;for(var P=T.length;P;){for(L=T,T=[],B=-1;++B<P;)L[B]();P=T.length}y=!1}m.exports=function(B){T.push(B)!==1||y||v()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,m,g){var p=d("immediate");function v(){}var y={},b=["REJECTED"],x=["FULFILLED"],C=["PENDING"];function O(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,P!==v&&B(this,P)}function I(P,A,j){this.promise=P,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function T(P,A,j){p(function(){var E;try{E=A(j)}catch(w){return y.reject(P,w)}E===P?y.reject(P,new TypeError("Cannot resolve promise with itself")):y.resolve(P,E)})}function M(P){var A=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof A=="function")return function(){A.apply(P,arguments)}}function B(P,A){var j=!1;function E(_){j||(j=!0,y.reject(P,_))}function w(_){j||(j=!0,y.resolve(P,_))}var S=L(function(){A(w,E)});S.status==="error"&&E(S.value)}function L(P,A){var j={};try{j.value=P(A),j.status="success"}catch(E){j.status="error",j.value=E}return j}(m.exports=O).prototype.finally=function(P){if(typeof P!="function")return this;var A=this.constructor;return this.then(function(j){return A.resolve(P()).then(function(){return j})},function(j){return A.resolve(P()).then(function(){throw j})})},O.prototype.catch=function(P){return this.then(null,P)},O.prototype.then=function(P,A){if(typeof P!="function"&&this.state===x||typeof A!="function"&&this.state===b)return this;var j=new this.constructor(v);return this.state!==C?T(j,this.state===x?P:A,this.outcome):this.queue.push(new I(j,P,A)),j},I.prototype.callFulfilled=function(P){y.resolve(this.promise,P)},I.prototype.otherCallFulfilled=function(P){T(this.promise,this.onFulfilled,P)},I.prototype.callRejected=function(P){y.reject(this.promise,P)},I.prototype.otherCallRejected=function(P){T(this.promise,this.onRejected,P)},y.resolve=function(P,A){var j=L(M,A);if(j.status==="error")return y.reject(P,j.value);var E=j.value;if(E)B(P,E);else{P.state=x,P.outcome=A;for(var w=-1,S=P.queue.length;++w<S;)P.queue[w].callFulfilled(A)}return P},y.reject=function(P,A){P.state=b,P.outcome=A;for(var j=-1,E=P.queue.length;++j<E;)P.queue[j].callRejected(A);return P},O.resolve=function(P){return P instanceof this?P:y.resolve(new this(v),P)},O.reject=function(P){var A=new this(v);return y.reject(A,P)},O.all=function(P){var A=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=P.length,E=!1;if(!j)return this.resolve([]);for(var w=new Array(j),S=0,_=-1,k=new this(v);++_<j;)N(P[_],_);return k;function N($,R){A.resolve($).then(function(H){w[R]=H,++S!==j||E||(E=!0,y.resolve(k,w))},function(H){E||(E=!0,y.reject(k,H))})}},O.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=P.length,j=!1;if(!A)return this.resolve([]);for(var E,w=-1,S=new this(v);++w<A;)E=P[w],this.resolve(E).then(function(_){j||(j=!0,y.resolve(S,_))},function(_){j||(j=!0,y.reject(S,_))});return S}},{immediate:36}],38:[function(d,m,g){var p={};(0,d("./lib/utils/common").assign)(p,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),m.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,m,g){var p=d("./zlib/deflate"),v=d("./utils/common"),y=d("./utils/strings"),b=d("./zlib/messages"),x=d("./zlib/zstream"),C=Object.prototype.toString;function O(T){if(!(this instanceof O))return new O(T);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},T||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var B=p.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(B!==0)throw new Error(b[B]);if(M.header&&p.deflateSetHeader(this.strm,M.header),M.dictionary){var L;if(L=typeof M.dictionary=="string"?y.string2buf(M.dictionary):C.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(B=p.deflateSetDictionary(this.strm,L))!==0)throw new Error(b[B]);this._dict_set=!0}}function I(T,M){var B=new O(M);if(B.push(T,!0),B.err)throw B.msg||b[B.err];return B.result}O.prototype.push=function(T,M){var B,L,P=this.strm,A=this.options.chunkSize;if(this.ended)return!1;L=M===~~M?M:M===!0?4:0,typeof T=="string"?P.input=y.string2buf(T):C.call(T)==="[object ArrayBuffer]"?P.input=new Uint8Array(T):P.input=T,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new v.Buf8(A),P.next_out=0,P.avail_out=A),(B=p.deflate(P,L))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(P.output,P.next_out))):this.onData(v.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&B!==1);return L===4?(B=p.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):L!==2||(this.onEnd(0),!(P.avail_out=0))},O.prototype.onData=function(T){this.chunks.push(T)},O.prototype.onEnd=function(T){T===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},g.Deflate=O,g.deflate=I,g.deflateRaw=function(T,M){return(M=M||{}).raw=!0,I(T,M)},g.gzip=function(T,M){return(M=M||{}).gzip=!0,I(T,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,m,g){var p=d("./zlib/inflate"),v=d("./utils/common"),y=d("./utils/strings"),b=d("./zlib/constants"),x=d("./zlib/messages"),C=d("./zlib/zstream"),O=d("./zlib/gzheader"),I=Object.prototype.toString;function T(B){if(!(this instanceof T))return new T(B);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},B||{});var L=this.options;L.raw&&0<=L.windowBits&&L.windowBits<16&&(L.windowBits=-L.windowBits,L.windowBits===0&&(L.windowBits=-15)),!(0<=L.windowBits&&L.windowBits<16)||B&&B.windowBits||(L.windowBits+=32),15<L.windowBits&&L.windowBits<48&&!(15&L.windowBits)&&(L.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var P=p.inflateInit2(this.strm,L.windowBits);if(P!==b.Z_OK)throw new Error(x[P]);this.header=new O,p.inflateGetHeader(this.strm,this.header)}function M(B,L){var P=new T(L);if(P.push(B,!0),P.err)throw P.msg||x[P.err];return P.result}T.prototype.push=function(B,L){var P,A,j,E,w,S,_=this.strm,k=this.options.chunkSize,N=this.options.dictionary,$=!1;if(this.ended)return!1;A=L===~~L?L:L===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof B=="string"?_.input=y.binstring2buf(B):I.call(B)==="[object ArrayBuffer]"?_.input=new Uint8Array(B):_.input=B,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new v.Buf8(k),_.next_out=0,_.avail_out=k),(P=p.inflate(_,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&N&&(S=typeof N=="string"?y.string2buf(N):I.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,P=p.inflateSetDictionary(this.strm,S)),P===b.Z_BUF_ERROR&&$===!0&&(P=b.Z_OK,$=!1),P!==b.Z_STREAM_END&&P!==b.Z_OK)return this.onEnd(P),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&P!==b.Z_STREAM_END&&(_.avail_in!==0||A!==b.Z_FINISH&&A!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=y.utf8border(_.output,_.next_out),E=_.next_out-j,w=y.buf2string(_.output,j),_.next_out=E,_.avail_out=k-E,E&&v.arraySet(_.output,_.output,j,E,0),this.onData(w)):this.onData(v.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&($=!0)}while((0<_.avail_in||_.avail_out===0)&&P!==b.Z_STREAM_END);return P===b.Z_STREAM_END&&(A=b.Z_FINISH),A===b.Z_FINISH?(P=p.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===b.Z_OK):A!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(_.avail_out=0))},T.prototype.onData=function(B){this.chunks.push(B)},T.prototype.onEnd=function(B){B===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},g.Inflate=T,g.inflate=M,g.inflateRaw=function(B,L){return(L=L||{}).raw=!0,M(B,L)},g.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(b){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var C=x.shift();if(C){if(typeof C!="object")throw new TypeError(C+"must be non-object");for(var O in C)C.hasOwnProperty(O)&&(b[O]=C[O])}}return b},g.shrinkBuf=function(b,x){return b.length===x?b:b.subarray?b.subarray(0,x):(b.length=x,b)};var v={arraySet:function(b,x,C,O,I){if(x.subarray&&b.subarray)b.set(x.subarray(C,C+O),I);else for(var T=0;T<O;T++)b[I+T]=x[C+T]},flattenChunks:function(b){var x,C,O,I,T,M;for(x=O=0,C=b.length;x<C;x++)O+=b[x].length;for(M=new Uint8Array(O),x=I=0,C=b.length;x<C;x++)T=b[x],M.set(T,I),I+=T.length;return M}},y={arraySet:function(b,x,C,O,I){for(var T=0;T<O;T++)b[I+T]=x[C+T]},flattenChunks:function(b){return[].concat.apply([],b)}};g.setTyped=function(b){b?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(p)},{}],42:[function(d,m,g){var p=d("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var b=new p.Buf8(256),x=0;x<256;x++)b[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function C(O,I){if(I<65537&&(O.subarray&&y||!O.subarray&&v))return String.fromCharCode.apply(null,p.shrinkBuf(O,I));for(var T="",M=0;M<I;M++)T+=String.fromCharCode(O[M]);return T}b[254]=b[254]=1,g.string2buf=function(O){var I,T,M,B,L,P=O.length,A=0;for(B=0;B<P;B++)(64512&(T=O.charCodeAt(B)))==55296&&B+1<P&&(64512&(M=O.charCodeAt(B+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),B++),A+=T<128?1:T<2048?2:T<65536?3:4;for(I=new p.Buf8(A),B=L=0;L<A;B++)(64512&(T=O.charCodeAt(B)))==55296&&B+1<P&&(64512&(M=O.charCodeAt(B+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),B++),T<128?I[L++]=T:(T<2048?I[L++]=192|T>>>6:(T<65536?I[L++]=224|T>>>12:(I[L++]=240|T>>>18,I[L++]=128|T>>>12&63),I[L++]=128|T>>>6&63),I[L++]=128|63&T);return I},g.buf2binstring=function(O){return C(O,O.length)},g.binstring2buf=function(O){for(var I=new p.Buf8(O.length),T=0,M=I.length;T<M;T++)I[T]=O.charCodeAt(T);return I},g.buf2string=function(O,I){var T,M,B,L,P=I||O.length,A=new Array(2*P);for(T=M=0;T<P;)if((B=O[T++])<128)A[M++]=B;else if(4<(L=b[B]))A[M++]=65533,T+=L-1;else{for(B&=L===2?31:L===3?15:7;1<L&&T<P;)B=B<<6|63&O[T++],L--;1<L?A[M++]=65533:B<65536?A[M++]=B:(B-=65536,A[M++]=55296|B>>10&1023,A[M++]=56320|1023&B)}return C(A,M)},g.utf8border=function(O,I){var T;for((I=I||O.length)>O.length&&(I=O.length),T=I-1;0<=T&&(192&O[T])==128;)T--;return T<0||T===0?I:T+b[O[T]]>I?T:I}},{"./common":41}],43:[function(d,m,g){m.exports=function(p,v,y,b){for(var x=65535&p|0,C=p>>>16&65535|0,O=0;y!==0;){for(y-=O=2e3<y?2e3:y;C=C+(x=x+v[b++]|0)|0,--O;);x%=65521,C%=65521}return x|C<<16|0}},{}],44:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,m,g){var p=function(){for(var v,y=[],b=0;b<256;b++){v=b;for(var x=0;x<8;x++)v=1&v?3988292384^v>>>1:v>>>1;y[b]=v}return y}();m.exports=function(v,y,b,x){var C=p,O=x+b;v^=-1;for(var I=x;I<O;I++)v=v>>>8^C[255&(v^y[I])];return-1^v}},{}],46:[function(d,m,g){var p,v=d("../utils/common"),y=d("./trees"),b=d("./adler32"),x=d("./crc32"),C=d("./messages"),O=-2,I=258,T=262,M=113;function B(V,Z){return V.msg=C[Z],Z}function L(V){return(V<<1)-(4<V?9:0)}function P(V){for(var Z=V.length;0<=--Z;)V[Z]=0}function A(V){var Z=V.state,z=Z.pending;z>V.avail_out&&(z=V.avail_out),z!==0&&(v.arraySet(V.output,Z.pending_buf,Z.pending_out,z,V.next_out),V.next_out+=z,Z.pending_out+=z,V.total_out+=z,V.avail_out-=z,Z.pending-=z,Z.pending===0&&(Z.pending_out=0))}function j(V,Z){y._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Z),V.block_start=V.strstart,A(V.strm)}function E(V,Z){V.pending_buf[V.pending++]=Z}function w(V,Z){V.pending_buf[V.pending++]=Z>>>8&255,V.pending_buf[V.pending++]=255&Z}function S(V,Z){var z,D,G=V.max_chain_length,te=V.strstart,ae=V.prev_length,se=V.nice_match,le=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,fe=V.window,ie=V.w_mask,oe=V.prev,be=V.strstart+I,ve=fe[te+ae-1],we=fe[te+ae];V.prev_length>=V.good_match&&(G>>=2),se>V.lookahead&&(se=V.lookahead);do if(fe[(z=Z)+ae]===we&&fe[z+ae-1]===ve&&fe[z]===fe[te]&&fe[++z]===fe[te+1]){te+=2,z++;do;while(fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&fe[++te]===fe[++z]&&te<be);if(D=I-(be-te),te=be-I,ae<D){if(V.match_start=Z,se<=(ae=D))break;ve=fe[te+ae-1],we=fe[te+ae]}}while((Z=oe[Z&ie])>le&&--G!=0);return ae<=V.lookahead?ae:V.lookahead}function _(V){var Z,z,D,G,te,ae,se,le,fe,ie,oe=V.w_size;do{if(G=V.window_size-V.lookahead-V.strstart,V.strstart>=oe+(oe-T)){for(v.arraySet(V.window,V.window,oe,oe,0),V.match_start-=oe,V.strstart-=oe,V.block_start-=oe,Z=z=V.hash_size;D=V.head[--Z],V.head[Z]=oe<=D?D-oe:0,--z;);for(Z=z=oe;D=V.prev[--Z],V.prev[Z]=oe<=D?D-oe:0,--z;);G+=oe}if(V.strm.avail_in===0)break;if(ae=V.strm,se=V.window,le=V.strstart+V.lookahead,ie=void 0,(fe=G)<(ie=ae.avail_in)&&(ie=fe),z=ie===0?0:(ae.avail_in-=ie,v.arraySet(se,ae.input,ae.next_in,ie,le),ae.state.wrap===1?ae.adler=b(ae.adler,se,ie,le):ae.state.wrap===2&&(ae.adler=x(ae.adler,se,ie,le)),ae.next_in+=ie,ae.total_in+=ie,ie),V.lookahead+=z,V.lookahead+V.insert>=3)for(te=V.strstart-V.insert,V.ins_h=V.window[te],V.ins_h=(V.ins_h<<V.hash_shift^V.window[te+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[te+3-1])&V.hash_mask,V.prev[te&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=te,te++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function k(V,Z){for(var z,D;;){if(V.lookahead<T){if(_(V),V.lookahead<T&&Z===0)return 1;if(V.lookahead===0)break}if(z=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),z!==0&&V.strstart-z<=V.w_size-T&&(V.match_length=S(V,z)),V.match_length>=3)if(D=y._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else D=y._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(D&&(j(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,Z===4?(j(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?1:2}function N(V,Z){for(var z,D,G;;){if(V.lookahead<T){if(_(V),V.lookahead<T&&Z===0)return 1;if(V.lookahead===0)break}if(z=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,z!==0&&V.prev_length<V.max_lazy_match&&V.strstart-z<=V.w_size-T&&(V.match_length=S(V,z),V.match_length<=5&&(V.strategy===1||V.match_length===3&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(G=V.strstart+V.lookahead-3,D=y._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=G&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=2,V.strstart++,D&&(j(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((D=y._tr_tally(V,0,V.window[V.strstart-1]))&&j(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(D=y._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,Z===4?(j(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?1:2}function $(V,Z,z,D,G){this.good_length=V,this.max_lazy=Z,this.nice_length=z,this.max_chain=D,this.func=G}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(V){var Z;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(Z=V.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:M,V.adler=Z.wrap===2?0:1,Z.last_flush=0,y._tr_init(Z),0):B(V,O)}function K(V){var Z=H(V);return Z===0&&function(z){z.window_size=2*z.w_size,P(z.head),z.max_lazy_match=p[z.level].max_lazy,z.good_match=p[z.level].good_length,z.nice_match=p[z.level].nice_length,z.max_chain_length=p[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0}(V.state),Z}function J(V,Z,z,D,G,te){if(!V)return O;var ae=1;if(Z===-1&&(Z=6),D<0?(ae=0,D=-D):15<D&&(ae=2,D-=16),G<1||9<G||z!==8||D<8||15<D||Z<0||9<Z||te<0||4<te)return B(V,O);D===8&&(D=9);var se=new R;return(V.state=se).strm=V,se.wrap=ae,se.gzhead=null,se.w_bits=D,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=G+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+3-1)/3),se.window=new v.Buf8(2*se.w_size),se.head=new v.Buf16(se.hash_size),se.prev=new v.Buf16(se.w_size),se.lit_bufsize=1<<G+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new v.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=Z,se.strategy=te,se.method=z,K(V)}p=[new $(0,0,0,0,function(V,Z){var z=65535;for(z>V.pending_buf_size-5&&(z=V.pending_buf_size-5);;){if(V.lookahead<=1){if(_(V),V.lookahead===0&&Z===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var D=V.block_start+z;if((V.strstart===0||V.strstart>=D)&&(V.lookahead=V.strstart-D,V.strstart=D,j(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(j(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,Z===4?(j(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(j(V,!1),V.strm.avail_out),1)}),new $(4,4,8,4,k),new $(4,5,16,8,k),new $(4,6,32,32,k),new $(4,4,16,16,N),new $(8,16,32,32,N),new $(8,16,128,128,N),new $(8,32,128,256,N),new $(32,128,258,1024,N),new $(32,258,258,4096,N)],g.deflateInit=function(V,Z){return J(V,Z,8,15,8,0)},g.deflateInit2=J,g.deflateReset=K,g.deflateResetKeep=H,g.deflateSetHeader=function(V,Z){return V&&V.state?V.state.wrap!==2?O:(V.state.gzhead=Z,0):O},g.deflate=function(V,Z){var z,D,G,te;if(!V||!V.state||5<Z||Z<0)return V?B(V,O):O;if(D=V.state,!V.output||!V.input&&V.avail_in!==0||D.status===666&&Z!==4)return B(V,V.avail_out===0?-5:O);if(D.strm=V,z=D.last_flush,D.last_flush=Z,D.status===42)if(D.wrap===2)V.adler=0,E(D,31),E(D,139),E(D,8),D.gzhead?(E(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),E(D,255&D.gzhead.time),E(D,D.gzhead.time>>8&255),E(D,D.gzhead.time>>16&255),E(D,D.gzhead.time>>24&255),E(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),E(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(E(D,255&D.gzhead.extra.length),E(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(V.adler=x(V.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(E(D,0),E(D,0),E(D,0),E(D,0),E(D,0),E(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),E(D,3),D.status=M);else{var ae=8+(D.w_bits-8<<4)<<8;ae|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(ae|=32),ae+=31-ae%31,D.status=M,w(D,ae),D.strstart!==0&&(w(D,V.adler>>>16),w(D,65535&V.adler)),V.adler=1}if(D.status===69)if(D.gzhead.extra){for(G=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),A(V),G=D.pending,D.pending!==D.pending_buf_size));)E(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){G=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),A(V),G=D.pending,D.pending===D.pending_buf_size)){te=1;break}te=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,E(D,te)}while(te!==0);D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),te===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){G=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),A(V),G=D.pending,D.pending===D.pending_buf_size)){te=1;break}te=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,E(D,te)}while(te!==0);D.gzhead.hcrc&&D.pending>G&&(V.adler=x(V.adler,D.pending_buf,D.pending-G,G)),te===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&A(V),D.pending+2<=D.pending_buf_size&&(E(D,255&V.adler),E(D,V.adler>>8&255),V.adler=0,D.status=M)):D.status=M),D.pending!==0){if(A(V),V.avail_out===0)return D.last_flush=-1,0}else if(V.avail_in===0&&L(Z)<=L(z)&&Z!==4)return B(V,-5);if(D.status===666&&V.avail_in!==0)return B(V,-5);if(V.avail_in!==0||D.lookahead!==0||Z!==0&&D.status!==666){var se=D.strategy===2?function(le,fe){for(var ie;;){if(le.lookahead===0&&(_(le),le.lookahead===0)){if(fe===0)return 1;break}if(le.match_length=0,ie=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,ie&&(j(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,fe===4?(j(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(j(le,!1),le.strm.avail_out===0)?1:2}(D,Z):D.strategy===3?function(le,fe){for(var ie,oe,be,ve,we=le.window;;){if(le.lookahead<=I){if(_(le),le.lookahead<=I&&fe===0)return 1;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=3&&0<le.strstart&&(oe=we[be=le.strstart-1])===we[++be]&&oe===we[++be]&&oe===we[++be]){ve=le.strstart+I;do;while(oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&oe===we[++be]&&be<ve);le.match_length=I-(ve-be),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=3?(ie=y._tr_tally(le,1,le.match_length-3),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(ie=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),ie&&(j(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,fe===4?(j(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(j(le,!1),le.strm.avail_out===0)?1:2}(D,Z):p[D.level].func(D,Z);if(se!==3&&se!==4||(D.status=666),se===1||se===3)return V.avail_out===0&&(D.last_flush=-1),0;if(se===2&&(Z===1?y._tr_align(D):Z!==5&&(y._tr_stored_block(D,0,0,!1),Z===3&&(P(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),A(V),V.avail_out===0))return D.last_flush=-1,0}return Z!==4?0:D.wrap<=0?1:(D.wrap===2?(E(D,255&V.adler),E(D,V.adler>>8&255),E(D,V.adler>>16&255),E(D,V.adler>>24&255),E(D,255&V.total_in),E(D,V.total_in>>8&255),E(D,V.total_in>>16&255),E(D,V.total_in>>24&255)):(w(D,V.adler>>>16),w(D,65535&V.adler)),A(V),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},g.deflateEnd=function(V){var Z;return V&&V.state?(Z=V.state.status)!==42&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==M&&Z!==666?B(V,O):(V.state=null,Z===M?B(V,-3):0):O},g.deflateSetDictionary=function(V,Z){var z,D,G,te,ae,se,le,fe,ie=Z.length;if(!V||!V.state||(te=(z=V.state).wrap)===2||te===1&&z.status!==42||z.lookahead)return O;for(te===1&&(V.adler=b(V.adler,Z,ie,0)),z.wrap=0,ie>=z.w_size&&(te===0&&(P(z.head),z.strstart=0,z.block_start=0,z.insert=0),fe=new v.Buf8(z.w_size),v.arraySet(fe,Z,ie-z.w_size,z.w_size,0),Z=fe,ie=z.w_size),ae=V.avail_in,se=V.next_in,le=V.input,V.avail_in=ie,V.next_in=0,V.input=Z,_(z);z.lookahead>=3;){for(D=z.strstart,G=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[D+3-1])&z.hash_mask,z.prev[D&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=D,D++,--G;);z.strstart=D,z.lookahead=2,_(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,V.next_in=se,V.input=le,V.avail_in=ae,z.wrap=te,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,m,g){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,m,g){m.exports=function(p,v){var y,b,x,C,O,I,T,M,B,L,P,A,j,E,w,S,_,k,N,$,R,H,K,J,V;y=p.state,b=p.next_in,J=p.input,x=b+(p.avail_in-5),C=p.next_out,V=p.output,O=C-(v-p.avail_out),I=C+(p.avail_out-257),T=y.dmax,M=y.wsize,B=y.whave,L=y.wnext,P=y.window,A=y.hold,j=y.bits,E=y.lencode,w=y.distcode,S=(1<<y.lenbits)-1,_=(1<<y.distbits)-1;e:do{j<15&&(A+=J[b++]<<j,j+=8,A+=J[b++]<<j,j+=8),k=E[A&S];t:for(;;){if(A>>>=N=k>>>24,j-=N,(N=k>>>16&255)==0)V[C++]=65535&k;else{if(!(16&N)){if(!(64&N)){k=E[(65535&k)+(A&(1<<N)-1)];continue t}if(32&N){y.mode=12;break e}p.msg="invalid literal/length code",y.mode=30;break e}$=65535&k,(N&=15)&&(j<N&&(A+=J[b++]<<j,j+=8),$+=A&(1<<N)-1,A>>>=N,j-=N),j<15&&(A+=J[b++]<<j,j+=8,A+=J[b++]<<j,j+=8),k=w[A&_];r:for(;;){if(A>>>=N=k>>>24,j-=N,!(16&(N=k>>>16&255))){if(!(64&N)){k=w[(65535&k)+(A&(1<<N)-1)];continue r}p.msg="invalid distance code",y.mode=30;break e}if(R=65535&k,j<(N&=15)&&(A+=J[b++]<<j,(j+=8)<N&&(A+=J[b++]<<j,j+=8)),T<(R+=A&(1<<N)-1)){p.msg="invalid distance too far back",y.mode=30;break e}if(A>>>=N,j-=N,(N=C-O)<R){if(B<(N=R-N)&&y.sane){p.msg="invalid distance too far back",y.mode=30;break e}if(K=P,(H=0)===L){if(H+=M-N,N<$){for($-=N;V[C++]=P[H++],--N;);H=C-R,K=V}}else if(L<N){if(H+=M+L-N,(N-=L)<$){for($-=N;V[C++]=P[H++],--N;);if(H=0,L<$){for($-=N=L;V[C++]=P[H++],--N;);H=C-R,K=V}}}else if(H+=L-N,N<$){for($-=N;V[C++]=P[H++],--N;);H=C-R,K=V}for(;2<$;)V[C++]=K[H++],V[C++]=K[H++],V[C++]=K[H++],$-=3;$&&(V[C++]=K[H++],1<$&&(V[C++]=K[H++]))}else{for(H=C-R;V[C++]=V[H++],V[C++]=V[H++],V[C++]=V[H++],2<($-=3););$&&(V[C++]=V[H++],1<$&&(V[C++]=V[H++]))}break}}break}}while(b<x&&C<I);b-=$=j>>3,A&=(1<<(j-=$<<3))-1,p.next_in=b,p.next_out=C,p.avail_in=b<x?x-b+5:5-(b-x),p.avail_out=C<I?I-C+257:257-(C-I),y.hold=A,y.bits=j}},{}],49:[function(d,m,g){var p=d("../utils/common"),v=d("./adler32"),y=d("./crc32"),b=d("./inffast"),x=d("./inftrees"),C=-2;function O(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(S){var _;return S&&S.state?(_=S.state,S.total_in=S.total_out=_.total=0,S.msg="",_.wrap&&(S.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new p.Buf32(852),_.distcode=_.distdyn=new p.Buf32(592),_.sane=1,_.back=-1,0):C}function M(S){var _;return S&&S.state?((_=S.state).wsize=0,_.whave=0,_.wnext=0,T(S)):C}function B(S,_){var k,N;return S&&S.state?(N=S.state,_<0?(k=0,_=-_):(k=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?C:(N.window!==null&&N.wbits!==_&&(N.window=null),N.wrap=k,N.wbits=_,M(S))):C}function L(S,_){var k,N;return S?(N=new I,(S.state=N).window=null,(k=B(S,_))!==0&&(S.state=null),k):C}var P,A,j=!0;function E(S){if(j){var _;for(P=new p.Buf32(512),A=new p.Buf32(32),_=0;_<144;)S.lens[_++]=8;for(;_<256;)S.lens[_++]=9;for(;_<280;)S.lens[_++]=7;for(;_<288;)S.lens[_++]=8;for(x(1,S.lens,0,288,P,0,S.work,{bits:9}),_=0;_<32;)S.lens[_++]=5;x(2,S.lens,0,32,A,0,S.work,{bits:5}),j=!1}S.lencode=P,S.lenbits=9,S.distcode=A,S.distbits=5}function w(S,_,k,N){var $,R=S.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new p.Buf8(R.wsize)),N>=R.wsize?(p.arraySet(R.window,_,k-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(N<($=R.wsize-R.wnext)&&($=N),p.arraySet(R.window,_,k-N,$,R.wnext),(N-=$)?(p.arraySet(R.window,_,k-N,N,0),R.wnext=N,R.whave=R.wsize):(R.wnext+=$,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=$))),0}g.inflateReset=M,g.inflateReset2=B,g.inflateResetKeep=T,g.inflateInit=function(S){return L(S,15)},g.inflateInit2=L,g.inflate=function(S,_){var k,N,$,R,H,K,J,V,Z,z,D,G,te,ae,se,le,fe,ie,oe,be,ve,we,Se,Ae,Pe=0,Re=new p.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return C;(k=S.state).mode===12&&(k.mode=13),H=S.next_out,$=S.output,J=S.avail_out,R=S.next_in,N=S.input,K=S.avail_in,V=k.hold,Z=k.bits,z=K,D=J,we=0;e:for(;;)switch(k.mode){case 1:if(k.wrap===0){k.mode=13;break}for(;Z<16;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(2&k.wrap&&V===35615){Re[k.check=0]=255&V,Re[1]=V>>>8&255,k.check=y(k.check,Re,2,0),Z=V=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&V)<<8)+(V>>8))%31){S.msg="incorrect header check",k.mode=30;break}if((15&V)!=8){S.msg="unknown compression method",k.mode=30;break}if(Z-=4,ve=8+(15&(V>>>=4)),k.wbits===0)k.wbits=ve;else if(ve>k.wbits){S.msg="invalid window size",k.mode=30;break}k.dmax=1<<ve,S.adler=k.check=1,k.mode=512&V?10:12,Z=V=0;break;case 2:for(;Z<16;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(k.flags=V,(255&k.flags)!=8){S.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){S.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=V>>8&1),512&k.flags&&(Re[0]=255&V,Re[1]=V>>>8&255,k.check=y(k.check,Re,2,0)),Z=V=0,k.mode=3;case 3:for(;Z<32;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.head&&(k.head.time=V),512&k.flags&&(Re[0]=255&V,Re[1]=V>>>8&255,Re[2]=V>>>16&255,Re[3]=V>>>24&255,k.check=y(k.check,Re,4,0)),Z=V=0,k.mode=4;case 4:for(;Z<16;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.head&&(k.head.xflags=255&V,k.head.os=V>>8),512&k.flags&&(Re[0]=255&V,Re[1]=V>>>8&255,k.check=y(k.check,Re,2,0)),Z=V=0,k.mode=5;case 5:if(1024&k.flags){for(;Z<16;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.length=V,k.head&&(k.head.extra_len=V),512&k.flags&&(Re[0]=255&V,Re[1]=V>>>8&255,k.check=y(k.check,Re,2,0)),Z=V=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(K<(G=k.length)&&(G=K),G&&(k.head&&(ve=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),p.arraySet(k.head.extra,N,R,G,ve)),512&k.flags&&(k.check=y(k.check,N,G,R)),K-=G,R+=G,k.length-=G),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(K===0)break e;for(G=0;ve=N[R+G++],k.head&&ve&&k.length<65536&&(k.head.name+=String.fromCharCode(ve)),ve&&G<K;);if(512&k.flags&&(k.check=y(k.check,N,G,R)),K-=G,R+=G,ve)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(K===0)break e;for(G=0;ve=N[R+G++],k.head&&ve&&k.length<65536&&(k.head.comment+=String.fromCharCode(ve)),ve&&G<K;);if(512&k.flags&&(k.check=y(k.check,N,G,R)),K-=G,R+=G,ve)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;Z<16;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(V!==(65535&k.check)){S.msg="header crc mismatch",k.mode=30;break}Z=V=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),S.adler=k.check=0,k.mode=12;break;case 10:for(;Z<32;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}S.adler=k.check=O(V),Z=V=0,k.mode=11;case 11:if(k.havedict===0)return S.next_out=H,S.avail_out=J,S.next_in=R,S.avail_in=K,k.hold=V,k.bits=Z,2;S.adler=k.check=1,k.mode=12;case 12:if(_===5||_===6)break e;case 13:if(k.last){V>>>=7&Z,Z-=7&Z,k.mode=27;break}for(;Z<3;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}switch(k.last=1&V,Z-=1,3&(V>>>=1)){case 0:k.mode=14;break;case 1:if(E(k),k.mode=20,_!==6)break;V>>>=2,Z-=2;break e;case 2:k.mode=17;break;case 3:S.msg="invalid block type",k.mode=30}V>>>=2,Z-=2;break;case 14:for(V>>>=7&Z,Z-=7&Z;Z<32;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if((65535&V)!=(V>>>16^65535)){S.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&V,Z=V=0,k.mode=15,_===6)break e;case 15:k.mode=16;case 16:if(G=k.length){if(K<G&&(G=K),J<G&&(G=J),G===0)break e;p.arraySet($,N,R,G,H),K-=G,R+=G,J-=G,H+=G,k.length-=G;break}k.mode=12;break;case 17:for(;Z<14;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(k.nlen=257+(31&V),V>>>=5,Z-=5,k.ndist=1+(31&V),V>>>=5,Z-=5,k.ncode=4+(15&V),V>>>=4,Z-=4,286<k.nlen||30<k.ndist){S.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;Z<3;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.lens[Ue[k.have++]]=7&V,V>>>=3,Z-=3}for(;k.have<19;)k.lens[Ue[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Se={bits:k.lenbits},we=x(0,k.lens,0,19,k.lencode,0,k.work,Se),k.lenbits=Se.bits,we){S.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;le=(Pe=k.lencode[V&(1<<k.lenbits)-1])>>>16&255,fe=65535&Pe,!((se=Pe>>>24)<=Z);){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(fe<16)V>>>=se,Z-=se,k.lens[k.have++]=fe;else{if(fe===16){for(Ae=se+2;Z<Ae;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(V>>>=se,Z-=se,k.have===0){S.msg="invalid bit length repeat",k.mode=30;break}ve=k.lens[k.have-1],G=3+(3&V),V>>>=2,Z-=2}else if(fe===17){for(Ae=se+3;Z<Ae;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}Z-=se,ve=0,G=3+(7&(V>>>=se)),V>>>=3,Z-=3}else{for(Ae=se+7;Z<Ae;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}Z-=se,ve=0,G=11+(127&(V>>>=se)),V>>>=7,Z-=7}if(k.have+G>k.nlen+k.ndist){S.msg="invalid bit length repeat",k.mode=30;break}for(;G--;)k.lens[k.have++]=ve}}if(k.mode===30)break;if(k.lens[256]===0){S.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Se={bits:k.lenbits},we=x(1,k.lens,0,k.nlen,k.lencode,0,k.work,Se),k.lenbits=Se.bits,we){S.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Se={bits:k.distbits},we=x(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Se),k.distbits=Se.bits,we){S.msg="invalid distances set",k.mode=30;break}if(k.mode=20,_===6)break e;case 20:k.mode=21;case 21:if(6<=K&&258<=J){S.next_out=H,S.avail_out=J,S.next_in=R,S.avail_in=K,k.hold=V,k.bits=Z,b(S,D),H=S.next_out,$=S.output,J=S.avail_out,R=S.next_in,N=S.input,K=S.avail_in,V=k.hold,Z=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;le=(Pe=k.lencode[V&(1<<k.lenbits)-1])>>>16&255,fe=65535&Pe,!((se=Pe>>>24)<=Z);){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(le&&!(240&le)){for(ie=se,oe=le,be=fe;le=(Pe=k.lencode[be+((V&(1<<ie+oe)-1)>>ie)])>>>16&255,fe=65535&Pe,!(ie+(se=Pe>>>24)<=Z);){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}V>>>=ie,Z-=ie,k.back+=ie}if(V>>>=se,Z-=se,k.back+=se,k.length=fe,le===0){k.mode=26;break}if(32&le){k.back=-1,k.mode=12;break}if(64&le){S.msg="invalid literal/length code",k.mode=30;break}k.extra=15&le,k.mode=22;case 22:if(k.extra){for(Ae=k.extra;Z<Ae;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.length+=V&(1<<k.extra)-1,V>>>=k.extra,Z-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;le=(Pe=k.distcode[V&(1<<k.distbits)-1])>>>16&255,fe=65535&Pe,!((se=Pe>>>24)<=Z);){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(!(240&le)){for(ie=se,oe=le,be=fe;le=(Pe=k.distcode[be+((V&(1<<ie+oe)-1)>>ie)])>>>16&255,fe=65535&Pe,!(ie+(se=Pe>>>24)<=Z);){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}V>>>=ie,Z-=ie,k.back+=ie}if(V>>>=se,Z-=se,k.back+=se,64&le){S.msg="invalid distance code",k.mode=30;break}k.offset=fe,k.extra=15&le,k.mode=24;case 24:if(k.extra){for(Ae=k.extra;Z<Ae;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}k.offset+=V&(1<<k.extra)-1,V>>>=k.extra,Z-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){S.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(J===0)break e;if(G=D-J,k.offset>G){if((G=k.offset-G)>k.whave&&k.sane){S.msg="invalid distance too far back",k.mode=30;break}te=G>k.wnext?(G-=k.wnext,k.wsize-G):k.wnext-G,G>k.length&&(G=k.length),ae=k.window}else ae=$,te=H-k.offset,G=k.length;for(J<G&&(G=J),J-=G,k.length-=G;$[H++]=ae[te++],--G;);k.length===0&&(k.mode=21);break;case 26:if(J===0)break e;$[H++]=k.length,J--,k.mode=21;break;case 27:if(k.wrap){for(;Z<32;){if(K===0)break e;K--,V|=N[R++]<<Z,Z+=8}if(D-=J,S.total_out+=D,k.total+=D,D&&(S.adler=k.check=k.flags?y(k.check,$,D,H-D):v(k.check,$,D,H-D)),D=J,(k.flags?V:O(V))!==k.check){S.msg="incorrect data check",k.mode=30;break}Z=V=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;Z<32;){if(K===0)break e;K--,V+=N[R++]<<Z,Z+=8}if(V!==(4294967295&k.total)){S.msg="incorrect length check",k.mode=30;break}Z=V=0}k.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return C}return S.next_out=H,S.avail_out=J,S.next_in=R,S.avail_in=K,k.hold=V,k.bits=Z,(k.wsize||D!==S.avail_out&&k.mode<30&&(k.mode<27||_!==4))&&w(S,S.output,S.next_out,D-S.avail_out)?(k.mode=31,-4):(z-=S.avail_in,D-=S.avail_out,S.total_in+=z,S.total_out+=D,k.total+=D,k.wrap&&D&&(S.adler=k.check=k.flags?y(k.check,$,D,S.next_out-D):v(k.check,$,D,S.next_out-D)),S.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(z==0&&D===0||_===4)&&we===0&&(we=-5),we)},g.inflateEnd=function(S){if(!S||!S.state)return C;var _=S.state;return _.window&&(_.window=null),S.state=null,0},g.inflateGetHeader=function(S,_){var k;return S&&S.state&&2&(k=S.state).wrap?((k.head=_).done=!1,0):C},g.inflateSetDictionary=function(S,_){var k,N=_.length;return S&&S.state?(k=S.state).wrap!==0&&k.mode!==11?C:k.mode===11&&v(1,_,N,0)!==k.check?-3:w(S,_,N,N)?(k.mode=31,-4):(k.havedict=1,0):C},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,m,g){var p=d("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(C,O,I,T,M,B,L,P){var A,j,E,w,S,_,k,N,$,R=P.bits,H=0,K=0,J=0,V=0,Z=0,z=0,D=0,G=0,te=0,ae=0,se=null,le=0,fe=new p.Buf16(16),ie=new p.Buf16(16),oe=null,be=0;for(H=0;H<=15;H++)fe[H]=0;for(K=0;K<T;K++)fe[O[I+K]]++;for(Z=R,V=15;1<=V&&fe[V]===0;V--);if(V<Z&&(Z=V),V===0)return M[B++]=20971520,M[B++]=20971520,P.bits=1,0;for(J=1;J<V&&fe[J]===0;J++);for(Z<J&&(Z=J),H=G=1;H<=15;H++)if(G<<=1,(G-=fe[H])<0)return-1;if(0<G&&(C===0||V!==1))return-1;for(ie[1]=0,H=1;H<15;H++)ie[H+1]=ie[H]+fe[H];for(K=0;K<T;K++)O[I+K]!==0&&(L[ie[O[I+K]]++]=K);if(_=C===0?(se=oe=L,19):C===1?(se=v,le-=257,oe=y,be-=257,256):(se=b,oe=x,-1),H=J,S=B,D=K=ae=0,E=-1,w=(te=1<<(z=Z))-1,C===1&&852<te||C===2&&592<te)return 1;for(;;){for(k=H-D,$=L[K]<_?(N=0,L[K]):L[K]>_?(N=oe[be+L[K]],se[le+L[K]]):(N=96,0),A=1<<H-D,J=j=1<<z;M[S+(ae>>D)+(j-=A)]=k<<24|N<<16|$|0,j!==0;);for(A=1<<H-1;ae&A;)A>>=1;if(A!==0?(ae&=A-1,ae+=A):ae=0,K++,--fe[H]==0){if(H===V)break;H=O[I+L[K]]}if(Z<H&&(ae&w)!==E){for(D===0&&(D=Z),S+=J,G=1<<(z=H-D);z+D<V&&!((G-=fe[z+D])<=0);)z++,G<<=1;if(te+=1<<z,C===1&&852<te||C===2&&592<te)return 1;M[E=ae&w]=Z<<24|z<<16|S-B|0}}return ae!==0&&(M[S+ae]=H-D<<24|64<<16|0),P.bits=Z,0}},{"../utils/common":41}],51:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,m,g){var p=d("../utils/common");function v(oe){for(var be=oe.length;0<=--be;)oe[be]=0}var y=256,b=286,x=30,C=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);v(B);var L=new Array(60);v(L);var P=new Array(512);v(P);var A=new Array(256);v(A);var j=new Array(29);v(j);var E,w,S,_=new Array(x);function k(oe,be,ve,we,Se){this.static_tree=oe,this.extra_bits=be,this.extra_base=ve,this.elems=we,this.max_length=Se,this.has_stree=oe&&oe.length}function N(oe,be){this.dyn_tree=oe,this.max_code=0,this.stat_desc=be}function $(oe){return oe<256?P[oe]:P[256+(oe>>>7)]}function R(oe,be){oe.pending_buf[oe.pending++]=255&be,oe.pending_buf[oe.pending++]=be>>>8&255}function H(oe,be,ve){oe.bi_valid>16-ve?(oe.bi_buf|=be<<oe.bi_valid&65535,R(oe,oe.bi_buf),oe.bi_buf=be>>16-oe.bi_valid,oe.bi_valid+=ve-16):(oe.bi_buf|=be<<oe.bi_valid&65535,oe.bi_valid+=ve)}function K(oe,be,ve){H(oe,ve[2*be],ve[2*be+1])}function J(oe,be){for(var ve=0;ve|=1&oe,oe>>>=1,ve<<=1,0<--be;);return ve>>>1}function V(oe,be,ve){var we,Se,Ae=new Array(16),Pe=0;for(we=1;we<=C;we++)Ae[we]=Pe=Pe+ve[we-1]<<1;for(Se=0;Se<=be;Se++){var Re=oe[2*Se+1];Re!==0&&(oe[2*Se]=J(Ae[Re]++,Re))}}function Z(oe){var be;for(be=0;be<b;be++)oe.dyn_ltree[2*be]=0;for(be=0;be<x;be++)oe.dyn_dtree[2*be]=0;for(be=0;be<19;be++)oe.bl_tree[2*be]=0;oe.dyn_ltree[512]=1,oe.opt_len=oe.static_len=0,oe.last_lit=oe.matches=0}function z(oe){8<oe.bi_valid?R(oe,oe.bi_buf):0<oe.bi_valid&&(oe.pending_buf[oe.pending++]=oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0}function D(oe,be,ve,we){var Se=2*be,Ae=2*ve;return oe[Se]<oe[Ae]||oe[Se]===oe[Ae]&&we[be]<=we[ve]}function G(oe,be,ve){for(var we=oe.heap[ve],Se=ve<<1;Se<=oe.heap_len&&(Se<oe.heap_len&&D(be,oe.heap[Se+1],oe.heap[Se],oe.depth)&&Se++,!D(be,we,oe.heap[Se],oe.depth));)oe.heap[ve]=oe.heap[Se],ve=Se,Se<<=1;oe.heap[ve]=we}function te(oe,be,ve){var we,Se,Ae,Pe,Re=0;if(oe.last_lit!==0)for(;we=oe.pending_buf[oe.d_buf+2*Re]<<8|oe.pending_buf[oe.d_buf+2*Re+1],Se=oe.pending_buf[oe.l_buf+Re],Re++,we===0?K(oe,Se,be):(K(oe,(Ae=A[Se])+y+1,be),(Pe=O[Ae])!==0&&H(oe,Se-=j[Ae],Pe),K(oe,Ae=$(--we),ve),(Pe=I[Ae])!==0&&H(oe,we-=_[Ae],Pe)),Re<oe.last_lit;);K(oe,256,be)}function ae(oe,be){var ve,we,Se,Ae=be.dyn_tree,Pe=be.stat_desc.static_tree,Re=be.stat_desc.has_stree,Ue=be.stat_desc.elems,We=-1;for(oe.heap_len=0,oe.heap_max=573,ve=0;ve<Ue;ve++)Ae[2*ve]!==0?(oe.heap[++oe.heap_len]=We=ve,oe.depth[ve]=0):Ae[2*ve+1]=0;for(;oe.heap_len<2;)Ae[2*(Se=oe.heap[++oe.heap_len]=We<2?++We:0)]=1,oe.depth[Se]=0,oe.opt_len--,Re&&(oe.static_len-=Pe[2*Se+1]);for(be.max_code=We,ve=oe.heap_len>>1;1<=ve;ve--)G(oe,Ae,ve);for(Se=Ue;ve=oe.heap[1],oe.heap[1]=oe.heap[oe.heap_len--],G(oe,Ae,1),we=oe.heap[1],oe.heap[--oe.heap_max]=ve,oe.heap[--oe.heap_max]=we,Ae[2*Se]=Ae[2*ve]+Ae[2*we],oe.depth[Se]=(oe.depth[ve]>=oe.depth[we]?oe.depth[ve]:oe.depth[we])+1,Ae[2*ve+1]=Ae[2*we+1]=Se,oe.heap[1]=Se++,G(oe,Ae,1),2<=oe.heap_len;);oe.heap[--oe.heap_max]=oe.heap[1],function(Ke,Qe){var rt,dt,Ge,Et,et,ut,ot=Qe.dyn_tree,xt=Qe.max_code,wt=Qe.stat_desc.static_tree,_e=Qe.stat_desc.has_stree,kt=Qe.stat_desc.extra_bits,Je=Qe.stat_desc.extra_base,at=Qe.stat_desc.max_length,pt=0;for(Et=0;Et<=C;Et++)Ke.bl_count[Et]=0;for(ot[2*Ke.heap[Ke.heap_max]+1]=0,rt=Ke.heap_max+1;rt<573;rt++)at<(Et=ot[2*ot[2*(dt=Ke.heap[rt])+1]+1]+1)&&(Et=at,pt++),ot[2*dt+1]=Et,xt<dt||(Ke.bl_count[Et]++,et=0,Je<=dt&&(et=kt[dt-Je]),ut=ot[2*dt],Ke.opt_len+=ut*(Et+et),_e&&(Ke.static_len+=ut*(wt[2*dt+1]+et)));if(pt!==0){do{for(Et=at-1;Ke.bl_count[Et]===0;)Et--;Ke.bl_count[Et]--,Ke.bl_count[Et+1]+=2,Ke.bl_count[at]--,pt-=2}while(0<pt);for(Et=at;Et!==0;Et--)for(dt=Ke.bl_count[Et];dt!==0;)xt<(Ge=Ke.heap[--rt])||(ot[2*Ge+1]!==Et&&(Ke.opt_len+=(Et-ot[2*Ge+1])*ot[2*Ge],ot[2*Ge+1]=Et),dt--)}}(oe,be),V(Ae,We,oe.bl_count)}function se(oe,be,ve){var we,Se,Ae=-1,Pe=be[1],Re=0,Ue=7,We=4;for(Pe===0&&(Ue=138,We=3),be[2*(ve+1)+1]=65535,we=0;we<=ve;we++)Se=Pe,Pe=be[2*(we+1)+1],++Re<Ue&&Se===Pe||(Re<We?oe.bl_tree[2*Se]+=Re:Se!==0?(Se!==Ae&&oe.bl_tree[2*Se]++,oe.bl_tree[32]++):Re<=10?oe.bl_tree[34]++:oe.bl_tree[36]++,Ae=Se,We=(Re=0)===Pe?(Ue=138,3):Se===Pe?(Ue=6,3):(Ue=7,4))}function le(oe,be,ve){var we,Se,Ae=-1,Pe=be[1],Re=0,Ue=7,We=4;for(Pe===0&&(Ue=138,We=3),we=0;we<=ve;we++)if(Se=Pe,Pe=be[2*(we+1)+1],!(++Re<Ue&&Se===Pe)){if(Re<We)for(;K(oe,Se,oe.bl_tree),--Re!=0;);else Se!==0?(Se!==Ae&&(K(oe,Se,oe.bl_tree),Re--),K(oe,16,oe.bl_tree),H(oe,Re-3,2)):Re<=10?(K(oe,17,oe.bl_tree),H(oe,Re-3,3)):(K(oe,18,oe.bl_tree),H(oe,Re-11,7));Ae=Se,We=(Re=0)===Pe?(Ue=138,3):Se===Pe?(Ue=6,3):(Ue=7,4)}}v(_);var fe=!1;function ie(oe,be,ve,we){H(oe,0+(we?1:0),3),function(Se,Ae,Pe,Re){z(Se),R(Se,Pe),R(Se,~Pe),p.arraySet(Se.pending_buf,Se.window,Ae,Pe,Se.pending),Se.pending+=Pe}(oe,be,ve)}g._tr_init=function(oe){fe||(function(){var be,ve,we,Se,Ae,Pe=new Array(16);for(Se=we=0;Se<28;Se++)for(j[Se]=we,be=0;be<1<<O[Se];be++)A[we++]=Se;for(A[we-1]=Se,Se=Ae=0;Se<16;Se++)for(_[Se]=Ae,be=0;be<1<<I[Se];be++)P[Ae++]=Se;for(Ae>>=7;Se<x;Se++)for(_[Se]=Ae<<7,be=0;be<1<<I[Se]-7;be++)P[256+Ae++]=Se;for(ve=0;ve<=C;ve++)Pe[ve]=0;for(be=0;be<=143;)B[2*be+1]=8,be++,Pe[8]++;for(;be<=255;)B[2*be+1]=9,be++,Pe[9]++;for(;be<=279;)B[2*be+1]=7,be++,Pe[7]++;for(;be<=287;)B[2*be+1]=8,be++,Pe[8]++;for(V(B,287,Pe),be=0;be<x;be++)L[2*be+1]=5,L[2*be]=J(be,5);E=new k(B,O,257,b,C),w=new k(L,I,0,x,C),S=new k(new Array(0),T,0,19,7)}(),fe=!0),oe.l_desc=new N(oe.dyn_ltree,E),oe.d_desc=new N(oe.dyn_dtree,w),oe.bl_desc=new N(oe.bl_tree,S),oe.bi_buf=0,oe.bi_valid=0,Z(oe)},g._tr_stored_block=ie,g._tr_flush_block=function(oe,be,ve,we){var Se,Ae,Pe=0;0<oe.level?(oe.strm.data_type===2&&(oe.strm.data_type=function(Re){var Ue,We=4093624447;for(Ue=0;Ue<=31;Ue++,We>>>=1)if(1&We&&Re.dyn_ltree[2*Ue]!==0)return 0;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return 1;for(Ue=32;Ue<y;Ue++)if(Re.dyn_ltree[2*Ue]!==0)return 1;return 0}(oe)),ae(oe,oe.l_desc),ae(oe,oe.d_desc),Pe=function(Re){var Ue;for(se(Re,Re.dyn_ltree,Re.l_desc.max_code),se(Re,Re.dyn_dtree,Re.d_desc.max_code),ae(Re,Re.bl_desc),Ue=18;3<=Ue&&Re.bl_tree[2*M[Ue]+1]===0;Ue--);return Re.opt_len+=3*(Ue+1)+5+5+4,Ue}(oe),Se=oe.opt_len+3+7>>>3,(Ae=oe.static_len+3+7>>>3)<=Se&&(Se=Ae)):Se=Ae=ve+5,ve+4<=Se&&be!==-1?ie(oe,be,ve,we):oe.strategy===4||Ae===Se?(H(oe,2+(we?1:0),3),te(oe,B,L)):(H(oe,4+(we?1:0),3),function(Re,Ue,We,Ke){var Qe;for(H(Re,Ue-257,5),H(Re,We-1,5),H(Re,Ke-4,4),Qe=0;Qe<Ke;Qe++)H(Re,Re.bl_tree[2*M[Qe]+1],3);le(Re,Re.dyn_ltree,Ue-1),le(Re,Re.dyn_dtree,We-1)}(oe,oe.l_desc.max_code+1,oe.d_desc.max_code+1,Pe+1),te(oe,oe.dyn_ltree,oe.dyn_dtree)),Z(oe),we&&z(oe)},g._tr_tally=function(oe,be,ve){return oe.pending_buf[oe.d_buf+2*oe.last_lit]=be>>>8&255,oe.pending_buf[oe.d_buf+2*oe.last_lit+1]=255&be,oe.pending_buf[oe.l_buf+oe.last_lit]=255&ve,oe.last_lit++,be===0?oe.dyn_ltree[2*ve]++:(oe.matches++,be--,oe.dyn_ltree[2*(A[ve]+y+1)]++,oe.dyn_dtree[2*$(be)]++),oe.last_lit===oe.lit_bufsize-1},g._tr_align=function(oe){H(oe,2,3),K(oe,256,B),function(be){be.bi_valid===16?(R(be,be.bi_buf),be.bi_buf=0,be.bi_valid=0):8<=be.bi_valid&&(be.pending_buf[be.pending++]=255&be.bi_buf,be.bi_buf>>=8,be.bi_valid-=8)}(oe)}},{"../utils/common":41}],53:[function(d,m,g){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,m,g){(function(p){(function(v,y){if(!v.setImmediate){var b,x,C,O,I=1,T={},M=!1,B=v.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(v);L=L&&L.setTimeout?L:v,b={}.toString.call(v.process)==="[object process]"?function(E){a.nextTick(function(){A(E)})}:function(){if(v.postMessage&&!v.importScripts){var E=!0,w=v.onmessage;return v.onmessage=function(){E=!1},v.postMessage("","*"),v.onmessage=w,E}}()?(O="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",j,!1):v.attachEvent("onmessage",j),function(E){v.postMessage(O+E,"*")}):v.MessageChannel?((C=new MessageChannel).port1.onmessage=function(E){A(E.data)},function(E){C.port2.postMessage(E)}):B&&"onreadystatechange"in B.createElement("script")?(x=B.documentElement,function(E){var w=B.createElement("script");w.onreadystatechange=function(){A(E),w.onreadystatechange=null,x.removeChild(w),w=null},x.appendChild(w)}):function(E){setTimeout(A,0,E)},L.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var _={callback:E,args:w};return T[I]=_,b(I),I++},L.clearImmediate=P}function P(E){delete T[E]}function A(E){if(M)setTimeout(A,0,E);else{var w=T[E];if(w){M=!0;try{(function(S){var _=S.callback,k=S.args;switch(k.length){case 0:_();break;case 1:_(k[0]);break;case 2:_(k[0],k[1]);break;case 3:_(k[0],k[1],k[2]);break;default:_.apply(void 0,k)}})(w)}finally{P(E),M=!1}}}}function j(E){E.source===v&&typeof E.data=="string"&&E.data.indexOf(O)===0&&A(+E.data.slice(O.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,o=RegExp(s.source),l=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype.toString,h=c.Symbol,d=h?h.prototype:void 0,m=d?d.toString:void 0;function g(p){if(typeof p=="string")return p;if(function(y){return typeof y=="symbol"||function(b){return!!b&&typeof b=="object"}(y)&&f.call(y)=="[object Symbol]"}(p))return m?m.call(p):"";var v=p+"";return v=="0"&&1/p==-1/0?"-0":v}n.exports=function(p){var v;return(p=(v=p)==null?"":g(v))&&o.test(p)?p.replace(s,"\\$&"):p}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[u]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof a=="object"&&a&&a.Object===Object&&a,b=typeof self=="object"&&self&&self.Object===Object&&self,x=y||b||Function("return this")(),C=typeof i=="object"&&i&&!i.nodeType&&i,O=C&&typeof n=="object"&&n&&!n.nodeType&&n,I=O&&O.exports===C&&y.process,T=function(){try{return I&&I.binding("util")}catch{}}(),M=T&&T.isTypedArray;function B(de,Ce,qe,Xe){for(var At=-1,nt=de?de.length:0;++At<nt;){var ct=de[At];Ce(Xe,ct,qe(ct),de)}return Xe}function L(de,Ce){for(var qe=-1,Xe=de?de.length:0;++qe<Xe;)if(Ce(de[qe],qe,de))return!0;return!1}function P(de){var Ce=!1;if(de!=null&&typeof de.toString!="function")try{Ce=!!(de+"")}catch{}return Ce}function A(de){var Ce=-1,qe=Array(de.size);return de.forEach(function(Xe,At){qe[++Ce]=[At,Xe]}),qe}function j(de){var Ce=-1,qe=Array(de.size);return de.forEach(function(Xe){qe[++Ce]=Xe}),qe}var E,w,S,_=Array.prototype,k=Function.prototype,N=Object.prototype,$=x["__core-js_shared__"],R=(E=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",H=k.toString,K=N.hasOwnProperty,J=N.toString,V=RegExp("^"+H.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=x.Symbol,z=x.Uint8Array,D=N.propertyIsEnumerable,G=_.splice,te=(w=Object.keys,S=Object,function(de){return w(S(de))}),ae=jt(x,"DataView"),se=jt(x,"Map"),le=jt(x,"Promise"),fe=jt(x,"Set"),ie=jt(x,"WeakMap"),oe=jt(Object,"create"),be=Oe(ae),ve=Oe(se),we=Oe(le),Se=Oe(fe),Ae=Oe(ie),Pe=Z?Z.prototype:void 0,Re=Pe?Pe.valueOf:void 0,Ue=Pe?Pe.toString:void 0;function We(de){var Ce=-1,qe=de?de.length:0;for(this.clear();++Ce<qe;){var Xe=de[Ce];this.set(Xe[0],Xe[1])}}function Ke(de){var Ce=-1,qe=de?de.length:0;for(this.clear();++Ce<qe;){var Xe=de[Ce];this.set(Xe[0],Xe[1])}}function Qe(de){var Ce=-1,qe=de?de.length:0;for(this.clear();++Ce<qe;){var Xe=de[Ce];this.set(Xe[0],Xe[1])}}function rt(de){var Ce=-1,qe=de?de.length:0;for(this.__data__=new Qe;++Ce<qe;)this.add(de[Ce])}function dt(de){this.__data__=new Ke(de)}function Ge(de,Ce){var qe=Mt(de)||Lt(de)?function(ct,yr){for(var nr=-1,lr=Array(ct);++nr<ct;)lr[nr]=yr(nr);return lr}(de.length,String):[],Xe=qe.length,At=!!Xe;for(var nt in de)!K.call(de,nt)||At&&(nt=="length"||ar(nt,Xe))||qe.push(nt);return qe}function Et(de,Ce){for(var qe=de.length;qe--;)if(_t(de[qe][0],Ce))return qe;return-1}function et(de,Ce,qe,Xe){return ot(de,function(At,nt,ct){Ce(Xe,At,qe(At),ct)}),Xe}We.prototype.clear=function(){this.__data__=oe?oe(null):{}},We.prototype.delete=function(de){return this.has(de)&&delete this.__data__[de]},We.prototype.get=function(de){var Ce=this.__data__;if(oe){var qe=Ce[de];return qe==="__lodash_hash_undefined__"?void 0:qe}return K.call(Ce,de)?Ce[de]:void 0},We.prototype.has=function(de){var Ce=this.__data__;return oe?Ce[de]!==void 0:K.call(Ce,de)},We.prototype.set=function(de,Ce){return this.__data__[de]=oe&&Ce===void 0?"__lodash_hash_undefined__":Ce,this},Ke.prototype.clear=function(){this.__data__=[]},Ke.prototype.delete=function(de){var Ce=this.__data__,qe=Et(Ce,de);return!(qe<0)&&(qe==Ce.length-1?Ce.pop():G.call(Ce,qe,1),!0)},Ke.prototype.get=function(de){var Ce=this.__data__,qe=Et(Ce,de);return qe<0?void 0:Ce[qe][1]},Ke.prototype.has=function(de){return Et(this.__data__,de)>-1},Ke.prototype.set=function(de,Ce){var qe=this.__data__,Xe=Et(qe,de);return Xe<0?qe.push([de,Ce]):qe[Xe][1]=Ce,this},Qe.prototype.clear=function(){this.__data__={hash:new We,map:new(se||Ke),string:new We}},Qe.prototype.delete=function(de){return Ct(this,de).delete(de)},Qe.prototype.get=function(de){return Ct(this,de).get(de)},Qe.prototype.has=function(de){return Ct(this,de).has(de)},Qe.prototype.set=function(de,Ce){return Ct(this,de).set(de,Ce),this},rt.prototype.add=rt.prototype.push=function(de){return this.__data__.set(de,"__lodash_hash_undefined__"),this},rt.prototype.has=function(de){return this.__data__.has(de)},dt.prototype.clear=function(){this.__data__=new Ke},dt.prototype.delete=function(de){return this.__data__.delete(de)},dt.prototype.get=function(de){return this.__data__.get(de)},dt.prototype.has=function(de){return this.__data__.has(de)},dt.prototype.set=function(de,Ce){var qe=this.__data__;if(qe instanceof Ke){var Xe=qe.__data__;if(!se||Xe.length<199)return Xe.push([de,Ce]),this;qe=this.__data__=new Qe(Xe)}return qe.set(de,Ce),this};var ut,ot=(ut=function(de,Ce){return de&&xt(de,Ce,Br)},function(de,Ce){if(de==null)return de;if(!It(de))return ut(de,Ce);for(var qe=de.length,Xe=-1,At=Object(de);++Xe<qe&&Ce(At[Xe],Xe,At)!==!1;);return de}),xt=function(de){return function(Ce,qe,Xe){for(var At=-1,nt=Object(Ce),ct=Xe(Ce),yr=ct.length;yr--;){var nr=ct[++At];if(qe(nt[nr],nr,nt)===!1)break}return Ce}}();function wt(de,Ce){for(var qe=0,Xe=(Ce=Ut(Ce,de)?[Ce]:Ve(Ce)).length;de!=null&&qe<Xe;)de=de[Ee(Ce[qe++])];return qe&&qe==Xe?de:void 0}function _e(de,Ce){return de!=null&&Ce in Object(de)}function kt(de,Ce,qe,Xe,At){return de===Ce||(de==null||Ce==null||!Zt(de)&&!Sr(Ce)?de!=de&&Ce!=Ce:function(nt,ct,yr,nr,lr,Kt){var _r=Mt(nt),Qt=Mt(ct),kr="[object Array]",zr="[object Array]";_r||(kr=(kr=Xt(nt))==s?l:kr),Qt||(zr=(zr=Xt(ct))==s?l:zr);var mn=kr==l&&!P(nt),Tn=zr==l&&!P(ct),wi=kr==zr;if(wi&&!mn)return Kt||(Kt=new dt),_r||Rr(nt)?yt(nt,ct,yr,nr,lr,Kt):function(xr,vr,Gi,Ar,Ia,Pn,Hn){switch(Gi){case"[object DataView]":if(xr.byteLength!=vr.byteLength||xr.byteOffset!=vr.byteOffset)return!1;xr=xr.buffer,vr=vr.buffer;case"[object ArrayBuffer]":return!(xr.byteLength!=vr.byteLength||!Ar(new z(xr),new z(vr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _t(+xr,+vr);case"[object Error]":return xr.name==vr.name&&xr.message==vr.message;case"[object RegExp]":case"[object String]":return xr==vr+"";case o:var Oa=A;case u:var gs=2&Pn;if(Oa||(Oa=j),xr.size!=vr.size&&!gs)return!1;var _o=Hn.get(xr);if(_o)return _o==vr;Pn|=1,Hn.set(xr,vr);var xi=yt(Oa(xr),Oa(vr),Ar,Ia,Pn,Hn);return Hn.delete(xr),xi;case"[object Symbol]":if(Re)return Re.call(xr)==Re.call(vr)}return!1}(nt,ct,kr,yr,nr,lr,Kt);if(!(2&lr)){var Ln=mn&&K.call(nt,"__wrapped__"),pa=Tn&&K.call(ct,"__wrapped__");if(Ln||pa){var Hr=Ln?nt.value():nt,Dn=pa?ct.value():ct;return Kt||(Kt=new dt),yr(Hr,Dn,nr,lr,Kt)}}return wi?(Kt||(Kt=new dt),function(xr,vr,Gi,Ar,Ia,Pn){var Hn=2&Ia,Oa=Br(xr),gs=Oa.length,_o=Br(vr).length;if(gs!=_o&&!Hn)return!1;for(var xi=gs;xi--;){var Mi=Oa[xi];if(!(Hn?Mi in vr:K.call(vr,Mi)))return!1}var $s=Pn.get(xr);if($s&&Pn.get(vr))return $s==vr;var ma=!0;Pn.set(xr,vr),Pn.set(vr,xr);for(var Wr=Hn;++xi<gs;){Mi=Oa[xi];var qs=xr[Mi],vs=vr[Mi];if(Ar)var rr=Hn?Ar(vs,qs,Mi,vr,xr,Pn):Ar(qs,vs,Mi,xr,vr,Pn);if(!(rr===void 0?qs===vs||Gi(qs,vs,Ar,Ia,Pn):rr)){ma=!1;break}Wr||(Wr=Mi=="constructor")}if(ma&&!Wr){var ga=xr.constructor,So=vr.constructor;ga==So||!("constructor"in xr)||!("constructor"in vr)||typeof ga=="function"&&ga instanceof ga&&typeof So=="function"&&So instanceof So||(ma=!1)}return Pn.delete(xr),Pn.delete(vr),ma}(nt,ct,yr,nr,lr,Kt)):!1}(de,Ce,kt,qe,Xe,At))}function Je(de){return!(!Zt(de)||function(Ce){return!!R&&R in Ce}(de))&&(Ht(de)||P(de)?V:g).test(Oe(de))}function at(de){return typeof de=="function"?de:de==null?on:typeof de=="object"?Mt(de)?function(Xe,At){return Ut(Xe)&&vt(At)?ur(Ee(Xe),At):function(nt){var ct=function(yr,nr,lr){var Kt=yr==null?void 0:wt(yr,nr);return Kt===void 0?lr:Kt}(nt,Xe);return ct===void 0&&ct===At?function(yr,nr){return yr!=null&&function(lr,Kt,_r){Kt=Ut(Kt,lr)?[Kt]:Ve(Kt);for(var Qt,kr=-1,zr=Kt.length;++kr<zr;){var mn=Ee(Kt[kr]);if(!(Qt=lr!=null&&_r(lr,mn)))break;lr=lr[mn]}return Qt||!!(zr=lr?lr.length:0)&&Ot(zr)&&ar(mn,zr)&&(Mt(lr)||Lt(lr))}(yr,nr,_e)}(nt,Xe):kt(At,ct,void 0,3)}}(de[0],de[1]):function(Xe){var At=function(nt){for(var ct=Br(nt),yr=ct.length;yr--;){var nr=ct[yr],lr=nt[nr];ct[yr]=[nr,lr,vt(lr)]}return ct}(Xe);return At.length==1&&At[0][2]?ur(At[0][0],At[0][1]):function(nt){return nt===Xe||function(ct,yr,nr,lr){var Kt=nr.length,_r=Kt;if(ct==null)return!_r;for(ct=Object(ct);Kt--;){var Qt=nr[Kt];if(Qt[2]?Qt[1]!==ct[Qt[0]]:!(Qt[0]in ct))return!1}for(;++Kt<_r;){var kr=(Qt=nr[Kt])[0],zr=ct[kr],mn=Qt[1];if(Qt[2]){if(zr===void 0&&!(kr in ct))return!1}else{var Tn=new dt,wi;if(!(wi===void 0?kt(mn,zr,lr,3,Tn):wi))return!1}}return!0}(nt,Xe,At)}}(de):Ut(Ce=de)?(qe=Ee(Ce),function(Xe){return Xe==null?void 0:Xe[qe]}):function(Xe){return function(At){return wt(At,Xe)}}(Ce);var Ce,qe}function pt(de){if(qe=(Ce=de)&&Ce.constructor,Xe=typeof qe=="function"&&qe.prototype||N,Ce!==Xe)return te(de);var Ce,qe,Xe,At=[];for(var nt in Object(de))K.call(de,nt)&&nt!="constructor"&&At.push(nt);return At}function Ve(de){return Mt(de)?de:Ft(de)}function yt(de,Ce,qe,Xe,At,nt){var ct=2&At,yr=de.length,nr=Ce.length;if(yr!=nr&&!(ct&&nr>yr))return!1;var lr=nt.get(de);if(lr&&nt.get(Ce))return lr==Ce;var Kt=-1,_r=!0,Qt=1&At?new rt:void 0;for(nt.set(de,Ce),nt.set(Ce,de);++Kt<yr;){var kr=de[Kt],zr=Ce[Kt];if(Xe)var mn=ct?Xe(zr,kr,Kt,Ce,de,nt):Xe(kr,zr,Kt,de,Ce,nt);if(mn!==void 0){if(mn)continue;_r=!1;break}if(Qt){if(!L(Ce,function(Tn,wi){if(!Qt.has(wi)&&(kr===Tn||qe(kr,Tn,Xe,At,nt)))return Qt.add(wi)})){_r=!1;break}}else if(kr!==zr&&!qe(kr,zr,Xe,At,nt)){_r=!1;break}}return nt.delete(de),nt.delete(Ce),_r}function Ct(de,Ce){var qe,Xe,At=de.__data__;return((Xe=typeof(qe=Ce))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?qe!=="__proto__":qe===null)?At[typeof Ce=="string"?"string":"hash"]:At.map}function jt(de,Ce){var qe=function(Xe,At){return Xe==null?void 0:Xe[At]}(de,Ce);return Je(qe)?qe:void 0}var Xt=function(de){return J.call(de)};function ar(de,Ce){return!!(Ce=Ce??9007199254740991)&&(typeof de=="number"||p.test(de))&&de>-1&&de%1==0&&de<Ce}function Ut(de,Ce){if(Mt(de))return!1;var qe=typeof de;return!(qe!="number"&&qe!="symbol"&&qe!="boolean"&&de!=null&&!wr(de))||f.test(de)||!c.test(de)||Ce!=null&&de in Object(Ce)}function vt(de){return de==de&&!Zt(de)}function ur(de,Ce){return function(qe){return qe!=null&&qe[de]===Ce&&(Ce!==void 0||de in Object(qe))}}(ae&&Xt(new ae(new ArrayBuffer(1)))!="[object DataView]"||se&&Xt(new se)!=o||le&&Xt(le.resolve())!="[object Promise]"||fe&&Xt(new fe)!=u||ie&&Xt(new ie)!="[object WeakMap]")&&(Xt=function(de){var Ce=J.call(de),qe=Ce==l?de.constructor:void 0,Xe=qe?Oe(qe):void 0;if(Xe)switch(Xe){case be:return"[object DataView]";case ve:return o;case we:return"[object Promise]";case Se:return u;case Ae:return"[object WeakMap]"}return Ce});var Ft=qt(function(de){var Ce;de=(Ce=de)==null?"":function(Xe){if(typeof Xe=="string")return Xe;if(wr(Xe))return Ue?Ue.call(Xe):"";var At=Xe+"";return At=="0"&&1/Xe==-1/0?"-0":At}(Ce);var qe=[];return h.test(de)&&qe.push(""),de.replace(d,function(Xe,At,nt,ct){qe.push(nt?ct.replace(m,"$1"):At||Xe)}),qe});function Ee(de){if(typeof de=="string"||wr(de))return de;var Ce=de+"";return Ce=="0"&&1/de==-1/0?"-0":Ce}function Oe(de){if(de!=null){try{return H.call(de)}catch{}try{return de+""}catch{}}return""}var He,ft=(He=function(de,Ce,qe){K.call(de,qe)?de[qe].push(Ce):de[qe]=[Ce]},function(de,Ce){var qe=Mt(de)?B:et,Xe={};return qe(de,He,at(Ce),Xe)});function qt(de,Ce){if(typeof de!="function"||Ce&&typeof Ce!="function")throw new TypeError("Expected a function");var qe=function(){var Xe=arguments,At=Ce?Ce.apply(this,Xe):Xe[0],nt=qe.cache;if(nt.has(At))return nt.get(At);var ct=de.apply(this,Xe);return qe.cache=nt.set(At,ct),ct};return qe.cache=new(qt.Cache||Qe),qe}function _t(de,Ce){return de===Ce||de!=de&&Ce!=Ce}function Lt(de){return function(Ce){return Sr(Ce)&&It(Ce)}(de)&&K.call(de,"callee")&&(!D.call(de,"callee")||J.call(de)==s)}qt.Cache=Qe;var Mt=Array.isArray;function It(de){return de!=null&&Ot(de.length)&&!Ht(de)}function Ht(de){var Ce=Zt(de)?J.call(de):"";return Ce=="[object Function]"||Ce=="[object GeneratorFunction]"}function Ot(de){return typeof de=="number"&&de>-1&&de%1==0&&de<=9007199254740991}function Zt(de){var Ce=typeof de;return!!de&&(Ce=="object"||Ce=="function")}function Sr(de){return!!de&&typeof de=="object"}function wr(de){return typeof de=="symbol"||Sr(de)&&J.call(de)=="[object Symbol]"}var Rr=M?function(de){return function(Ce){return de(Ce)}}(M):function(de){return Sr(de)&&Ot(de.length)&&!!v[J.call(de)]};function Br(de){return It(de)?Ge(de):pt(de)}function on(de){return de}n.exports=ft}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var a=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(o){return!!o&&typeof o=="object"}(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(a){(function(){var s="[object Arguments]",o="[object Map]",l="[object Object]",u="[object Set]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[u]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof a=="object"&&a&&a.Object===Object&&a,m=typeof self=="object"&&self&&self.Object===Object&&self,g=d||m||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,v=p&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===p,b=y&&d.process,x=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),C=x&&x.isTypedArray;function O(Ee,Oe){for(var He=-1,ft=Ee==null?0:Ee.length;++He<ft;)if(Oe(Ee[He],He,Ee))return!0;return!1}function I(Ee){var Oe=-1,He=Array(Ee.size);return Ee.forEach(function(ft,qt){He[++Oe]=[qt,ft]}),He}function T(Ee){var Oe=-1,He=Array(Ee.size);return Ee.forEach(function(ft){He[++Oe]=ft}),He}var M,B,L,P=Array.prototype,A=Function.prototype,j=Object.prototype,E=g["__core-js_shared__"],w=A.toString,S=j.hasOwnProperty,_=(M=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",k=j.toString,N=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=y?g.Buffer:void 0,R=g.Symbol,H=g.Uint8Array,K=j.propertyIsEnumerable,J=P.splice,V=R?R.toStringTag:void 0,Z=Object.getOwnPropertySymbols,z=$?$.isBuffer:void 0,D=(B=Object.keys,L=Object,function(Ee){return B(L(Ee))}),G=_e(g,"DataView"),te=_e(g,"Map"),ae=_e(g,"Promise"),se=_e(g,"Set"),le=_e(g,"WeakMap"),fe=_e(Object,"create"),ie=pt(G),oe=pt(te),be=pt(ae),ve=pt(se),we=pt(le),Se=R?R.prototype:void 0,Ae=Se?Se.valueOf:void 0;function Pe(Ee){var Oe=-1,He=Ee==null?0:Ee.length;for(this.clear();++Oe<He;){var ft=Ee[Oe];this.set(ft[0],ft[1])}}function Re(Ee){var Oe=-1,He=Ee==null?0:Ee.length;for(this.clear();++Oe<He;){var ft=Ee[Oe];this.set(ft[0],ft[1])}}function Ue(Ee){var Oe=-1,He=Ee==null?0:Ee.length;for(this.clear();++Oe<He;){var ft=Ee[Oe];this.set(ft[0],ft[1])}}function We(Ee){var Oe=-1,He=Ee==null?0:Ee.length;for(this.__data__=new Ue;++Oe<He;)this.add(Ee[Oe])}function Ke(Ee){var Oe=this.__data__=new Re(Ee);this.size=Oe.size}function Qe(Ee,Oe){var He=Ct(Ee),ft=!He&&yt(Ee),qt=!He&&!ft&&jt(Ee),_t=!He&&!ft&&!qt&&ur(Ee),Lt=He||ft||qt||_t,Mt=Lt?function(Ot,Zt){for(var Sr=-1,wr=Array(Ot);++Sr<Ot;)wr[Sr]=Zt(Sr);return wr}(Ee.length,String):[],It=Mt.length;for(var Ht in Ee)!S.call(Ee,Ht)||Lt&&(Ht=="length"||qt&&(Ht=="offset"||Ht=="parent")||_t&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||at(Ht,It))||Mt.push(Ht);return Mt}function rt(Ee,Oe){for(var He=Ee.length;He--;)if(Ve(Ee[He][0],Oe))return He;return-1}function dt(Ee){return Ee==null?Ee===void 0?"[object Undefined]":"[object Null]":V&&V in Object(Ee)?function(Oe){var He=S.call(Oe,V),ft=Oe[V];try{Oe[V]=void 0;var qt=!0}catch{}var _t=k.call(Oe);return qt&&(He?Oe[V]=ft:delete Oe[V]),_t}(Ee):function(Oe){return k.call(Oe)}(Ee)}function Ge(Ee){return vt(Ee)&&dt(Ee)==s}function Et(Ee,Oe,He,ft,qt){return Ee===Oe||(Ee==null||Oe==null||!vt(Ee)&&!vt(Oe)?Ee!=Ee&&Oe!=Oe:function(_t,Lt,Mt,It,Ht,Ot){var Zt=Ct(_t),Sr=Ct(Lt),wr=Zt?"[object Array]":Je(_t),Rr=Sr?"[object Array]":Je(Lt),Br=(wr=wr==s?l:wr)==l,on=(Rr=Rr==s?l:Rr)==l,de=wr==Rr;if(de&&jt(_t)){if(!jt(Lt))return!1;Zt=!0,Br=!1}if(de&&!Br)return Ot||(Ot=new Ke),Zt||ur(_t)?ot(_t,Lt,Mt,It,Ht,Ot):function(nt,ct,yr,nr,lr,Kt,_r){switch(yr){case"[object DataView]":if(nt.byteLength!=ct.byteLength||nt.byteOffset!=ct.byteOffset)return!1;nt=nt.buffer,ct=ct.buffer;case"[object ArrayBuffer]":return!(nt.byteLength!=ct.byteLength||!Kt(new H(nt),new H(ct)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ve(+nt,+ct);case"[object Error]":return nt.name==ct.name&&nt.message==ct.message;case"[object RegExp]":case"[object String]":return nt==ct+"";case o:var Qt=I;case u:var kr=1&nr;if(Qt||(Qt=T),nt.size!=ct.size&&!kr)return!1;var zr=_r.get(nt);if(zr)return zr==ct;nr|=2,_r.set(nt,ct);var mn=ot(Qt(nt),Qt(ct),nr,lr,Kt,_r);return _r.delete(nt),mn;case"[object Symbol]":if(Ae)return Ae.call(nt)==Ae.call(ct)}return!1}(_t,Lt,wr,Mt,It,Ht,Ot);if(!(1&Mt)){var Ce=Br&&S.call(_t,"__wrapped__"),qe=on&&S.call(Lt,"__wrapped__");if(Ce||qe){var Xe=Ce?_t.value():_t,At=qe?Lt.value():Lt;return Ot||(Ot=new Ke),Ht(Xe,At,Mt,It,Ot)}}return de?(Ot||(Ot=new Ke),function(nt,ct,yr,nr,lr,Kt){var _r=1&yr,Qt=xt(nt),kr=Qt.length,zr=xt(ct).length;if(kr!=zr&&!_r)return!1;for(var mn=kr;mn--;){var Tn=Qt[mn];if(!(_r?Tn in ct:S.call(ct,Tn)))return!1}var wi=Kt.get(nt);if(wi&&Kt.get(ct))return wi==ct;var Ln=!0;Kt.set(nt,ct),Kt.set(ct,nt);for(var pa=_r;++mn<kr;){Tn=Qt[mn];var Hr=nt[Tn],Dn=ct[Tn];if(nr)var xr=_r?nr(Dn,Hr,Tn,ct,nt,Kt):nr(Hr,Dn,Tn,nt,ct,Kt);if(!(xr===void 0?Hr===Dn||lr(Hr,Dn,yr,nr,Kt):xr)){Ln=!1;break}pa||(pa=Tn=="constructor")}if(Ln&&!pa){var vr=nt.constructor,Gi=ct.constructor;vr==Gi||!("constructor"in nt)||!("constructor"in ct)||typeof vr=="function"&&vr instanceof vr&&typeof Gi=="function"&&Gi instanceof Gi||(Ln=!1)}return Kt.delete(nt),Kt.delete(ct),Ln}(_t,Lt,Mt,It,Ht,Ot)):!1}(Ee,Oe,He,ft,Et,qt))}function et(Ee){return!(!Ut(Ee)||function(Oe){return!!_&&_ in Oe}(Ee))&&(Xt(Ee)?N:c).test(pt(Ee))}function ut(Ee){if(He=(Oe=Ee)&&Oe.constructor,ft=typeof He=="function"&&He.prototype||j,Oe!==ft)return D(Ee);var Oe,He,ft,qt=[];for(var _t in Object(Ee))S.call(Ee,_t)&&_t!="constructor"&&qt.push(_t);return qt}function ot(Ee,Oe,He,ft,qt,_t){var Lt=1&He,Mt=Ee.length,It=Oe.length;if(Mt!=It&&!(Lt&&It>Mt))return!1;var Ht=_t.get(Ee);if(Ht&&_t.get(Oe))return Ht==Oe;var Ot=-1,Zt=!0,Sr=2&He?new We:void 0;for(_t.set(Ee,Oe),_t.set(Oe,Ee);++Ot<Mt;){var wr=Ee[Ot],Rr=Oe[Ot];if(ft)var Br=Lt?ft(Rr,wr,Ot,Oe,Ee,_t):ft(wr,Rr,Ot,Ee,Oe,_t);if(Br!==void 0){if(Br)continue;Zt=!1;break}if(Sr){if(!O(Oe,function(on,de){if(Ce=de,!Sr.has(Ce)&&(wr===on||qt(wr,on,He,ft,_t)))return Sr.push(de);var Ce})){Zt=!1;break}}else if(wr!==Rr&&!qt(wr,Rr,He,ft,_t)){Zt=!1;break}}return _t.delete(Ee),_t.delete(Oe),Zt}function xt(Ee){return function(Oe,He,ft){var qt=He(Oe);return Ct(Oe)?qt:function(_t,Lt){for(var Mt=-1,It=Lt.length,Ht=_t.length;++Mt<It;)_t[Ht+Mt]=Lt[Mt];return _t}(qt,ft(Oe))}(Ee,Ft,kt)}function wt(Ee,Oe){var He,ft,qt=Ee.__data__;return((ft=typeof(He=Oe))=="string"||ft=="number"||ft=="symbol"||ft=="boolean"?He!=="__proto__":He===null)?qt[typeof Oe=="string"?"string":"hash"]:qt.map}function _e(Ee,Oe){var He=function(ft,qt){return ft==null?void 0:ft[qt]}(Ee,Oe);return et(He)?He:void 0}Pe.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},Pe.prototype.delete=function(Ee){var Oe=this.has(Ee)&&delete this.__data__[Ee];return this.size-=Oe?1:0,Oe},Pe.prototype.get=function(Ee){var Oe=this.__data__;if(fe){var He=Oe[Ee];return He==="__lodash_hash_undefined__"?void 0:He}return S.call(Oe,Ee)?Oe[Ee]:void 0},Pe.prototype.has=function(Ee){var Oe=this.__data__;return fe?Oe[Ee]!==void 0:S.call(Oe,Ee)},Pe.prototype.set=function(Ee,Oe){var He=this.__data__;return this.size+=this.has(Ee)?0:1,He[Ee]=fe&&Oe===void 0?"__lodash_hash_undefined__":Oe,this},Re.prototype.clear=function(){this.__data__=[],this.size=0},Re.prototype.delete=function(Ee){var Oe=this.__data__,He=rt(Oe,Ee);return!(He<0)&&(He==Oe.length-1?Oe.pop():J.call(Oe,He,1),--this.size,!0)},Re.prototype.get=function(Ee){var Oe=this.__data__,He=rt(Oe,Ee);return He<0?void 0:Oe[He][1]},Re.prototype.has=function(Ee){return rt(this.__data__,Ee)>-1},Re.prototype.set=function(Ee,Oe){var He=this.__data__,ft=rt(He,Ee);return ft<0?(++this.size,He.push([Ee,Oe])):He[ft][1]=Oe,this},Ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Pe,map:new(te||Re),string:new Pe}},Ue.prototype.delete=function(Ee){var Oe=wt(this,Ee).delete(Ee);return this.size-=Oe?1:0,Oe},Ue.prototype.get=function(Ee){return wt(this,Ee).get(Ee)},Ue.prototype.has=function(Ee){return wt(this,Ee).has(Ee)},Ue.prototype.set=function(Ee,Oe){var He=wt(this,Ee),ft=He.size;return He.set(Ee,Oe),this.size+=He.size==ft?0:1,this},We.prototype.add=We.prototype.push=function(Ee){return this.__data__.set(Ee,"__lodash_hash_undefined__"),this},We.prototype.has=function(Ee){return this.__data__.has(Ee)},Ke.prototype.clear=function(){this.__data__=new Re,this.size=0},Ke.prototype.delete=function(Ee){var Oe=this.__data__,He=Oe.delete(Ee);return this.size=Oe.size,He},Ke.prototype.get=function(Ee){return this.__data__.get(Ee)},Ke.prototype.has=function(Ee){return this.__data__.has(Ee)},Ke.prototype.set=function(Ee,Oe){var He=this.__data__;if(He instanceof Re){var ft=He.__data__;if(!te||ft.length<199)return ft.push([Ee,Oe]),this.size=++He.size,this;He=this.__data__=new Ue(ft)}return He.set(Ee,Oe),this.size=He.size,this};var kt=Z?function(Ee){return Ee==null?[]:(Ee=Object(Ee),function(Oe,He){for(var ft=-1,qt=Oe==null?0:Oe.length,_t=0,Lt=[];++ft<qt;){var Mt=Oe[ft];He(Mt,ft,Oe)&&(Lt[_t++]=Mt)}return Lt}(Z(Ee),function(Oe){return K.call(Ee,Oe)}))}:function(){return[]},Je=dt;function at(Ee,Oe){return!!(Oe=Oe??9007199254740991)&&(typeof Ee=="number"||f.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<Oe}function pt(Ee){if(Ee!=null){try{return w.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function Ve(Ee,Oe){return Ee===Oe||Ee!=Ee&&Oe!=Oe}(G&&Je(new G(new ArrayBuffer(1)))!="[object DataView]"||te&&Je(new te)!=o||ae&&Je(ae.resolve())!="[object Promise]"||se&&Je(new se)!=u||le&&Je(new le)!="[object WeakMap]")&&(Je=function(Ee){var Oe=dt(Ee),He=Oe==l?Ee.constructor:void 0,ft=He?pt(He):"";if(ft)switch(ft){case ie:return"[object DataView]";case oe:return o;case be:return"[object Promise]";case ve:return u;case we:return"[object WeakMap]"}return Oe});var yt=Ge(function(){return arguments}())?Ge:function(Ee){return vt(Ee)&&S.call(Ee,"callee")&&!K.call(Ee,"callee")},Ct=Array.isArray,jt=z||function(){return!1};function Xt(Ee){if(!Ut(Ee))return!1;var Oe=dt(Ee);return Oe=="[object Function]"||Oe=="[object GeneratorFunction]"||Oe=="[object AsyncFunction]"||Oe=="[object Proxy]"}function ar(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}function Ut(Ee){var Oe=typeof Ee;return Ee!=null&&(Oe=="object"||Oe=="function")}function vt(Ee){return Ee!=null&&typeof Ee=="object"}var ur=C?function(Ee){return function(Oe){return Ee(Oe)}}(C):function(Ee){return vt(Ee)&&ar(Ee.length)&&!!h[dt(Ee)]};function Ft(Ee){return(Oe=Ee)!=null&&ar(Oe.length)&&!Xt(Oe)?Qe(Ee):ut(Ee);var Oe}n.exports=function(Ee,Oe){return Et(Ee,Oe)}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,l=s||o||Function("return this")(),u=Object.prototype,c=u.hasOwnProperty,f=u.toString,h=l.Symbol,d=h?h.toStringTag:void 0;function m(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?function(p){var v=c.call(p,d),y=p[d];try{p[d]=void 0;var b=!0}catch{}var x=f.call(p);return b&&(v?p[d]=y:delete p[d]),x}(g):function(p){return f.call(p)}(g)}n.exports=function(g){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(g))return!1;var p=m(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(a){return a==null}},{}],448:[function(r,n,i){n.exports=function(a){return a===void 0}},{}],449:[function(r,n,i){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,o=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,u=o||l||Function("return this")();function c(R,H){return!!(R&&R.length)&&function(K,J,V){if(J!=J)return function(D,G,te,ae){for(var se=D.length,le=te+-1;++le<se;)if(G(D[le],le,D))return le;return-1}(K,f,V);for(var Z=V-1,z=K.length;++Z<z;)if(K[Z]===J)return Z;return-1}(R,H,0)>-1}function f(R){return R!=R}function h(R,H){return R.has(H)}function d(R){var H=-1,K=Array(R.size);return R.forEach(function(J){K[++H]=J}),K}var m,g=Array.prototype,p=Function.prototype,v=Object.prototype,y=u["__core-js_shared__"],b=(m=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",x=p.toString,C=v.hasOwnProperty,O=v.toString,I=RegExp("^"+x.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=g.splice,M=N(u,"Map"),B=N(u,"Set"),L=N(Object,"create");function P(R){var H=-1,K=R?R.length:0;for(this.clear();++H<K;){var J=R[H];this.set(J[0],J[1])}}function A(R){var H=-1,K=R?R.length:0;for(this.clear();++H<K;){var J=R[H];this.set(J[0],J[1])}}function j(R){var H=-1,K=R?R.length:0;for(this.clear();++H<K;){var J=R[H];this.set(J[0],J[1])}}function E(R){var H=-1,K=R?R.length:0;for(this.__data__=new j;++H<K;)this.add(R[H])}function w(R,H){for(var K,J,V=R.length;V--;)if((K=R[V][0])===(J=H)||K!=K&&J!=J)return V;return-1}function S(R){return!(!$(R)||(H=R,b&&b in H))&&(function(K){var J=$(K)?O.call(K):"";return J=="[object Function]"||J=="[object GeneratorFunction]"}(R)||function(K){var J=!1;if(K!=null&&typeof K.toString!="function")try{J=!!(K+"")}catch{}return J}(R)?I:s).test(function(K){if(K!=null){try{return x.call(K)}catch{}try{return K+""}catch{}}return""}(R));var H}P.prototype.clear=function(){this.__data__=L?L(null):{}},P.prototype.delete=function(R){return this.has(R)&&delete this.__data__[R]},P.prototype.get=function(R){var H=this.__data__;if(L){var K=H[R];return K==="__lodash_hash_undefined__"?void 0:K}return C.call(H,R)?H[R]:void 0},P.prototype.has=function(R){var H=this.__data__;return L?H[R]!==void 0:C.call(H,R)},P.prototype.set=function(R,H){return this.__data__[R]=L&&H===void 0?"__lodash_hash_undefined__":H,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(R){var H=this.__data__,K=w(H,R);return!(K<0)&&(K==H.length-1?H.pop():T.call(H,K,1),!0)},A.prototype.get=function(R){var H=this.__data__,K=w(H,R);return K<0?void 0:H[K][1]},A.prototype.has=function(R){return w(this.__data__,R)>-1},A.prototype.set=function(R,H){var K=this.__data__,J=w(K,R);return J<0?K.push([R,H]):K[J][1]=H,this},j.prototype.clear=function(){this.__data__={hash:new P,map:new(M||A),string:new P}},j.prototype.delete=function(R){return k(this,R).delete(R)},j.prototype.get=function(R){return k(this,R).get(R)},j.prototype.has=function(R){return k(this,R).has(R)},j.prototype.set=function(R,H){return k(this,R).set(R,H),this},E.prototype.add=E.prototype.push=function(R){return this.__data__.set(R,"__lodash_hash_undefined__"),this},E.prototype.has=function(R){return this.__data__.has(R)};var _=B&&1/d(new B([,-0]))[1]==1/0?function(R){return new B(R)}:function(){};function k(R,H){var K,J,V=R.__data__;return((J=typeof(K=H))=="string"||J=="number"||J=="symbol"||J=="boolean"?K!=="__proto__":K===null)?V[typeof H=="string"?"string":"hash"]:V.map}function N(R,H){var K=function(J,V){return J==null?void 0:J[V]}(R,H);return S(K)?K:void 0}function $(R){var H=typeof R;return!!R&&(H=="object"||H=="function")}n.exports=function(R){return R&&R.length?function(H,K,J){var V=-1,Z=c,z=H.length,D=!0,G=[],te=G;if(z>=200){var ae=_(H);if(ae)return d(ae);D=!1,Z=h,te=new E}else te=G;e:for(;++V<z;){var se=H[V],le=se;if(se=se!==0?se:0,D&&le==le){for(var fe=te.length;fe--;)if(te[fe]===le)continue e;G.push(se)}else Z(te,le,J)||(te!==G&&te.push(le),G.push(se))}return G}(R):[]}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var a=r("inherits"),s=r("hash-base"),o=r("safe-buffer").Buffer,l=new Array(16);function u(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(g,p){return g<<p|g>>>32-p}function f(g,p,v,y,b,x,C){return c(g+(p&v|~p&y)+b+x|0,C)+p|0}function h(g,p,v,y,b,x,C){return c(g+(p&y|v&~y)+b+x|0,C)+p|0}function d(g,p,v,y,b,x,C){return c(g+(p^v^y)+b+x|0,C)+p|0}function m(g,p,v,y,b,x,C){return c(g+(v^(p|~y))+b+x|0,C)+p|0}a(u,s),u.prototype._update=function(){for(var g=l,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var v=this._a,y=this._b,b=this._c,x=this._d;v=f(v,y,b,x,g[0],3614090360,7),x=f(x,v,y,b,g[1],3905402710,12),b=f(b,x,v,y,g[2],606105819,17),y=f(y,b,x,v,g[3],3250441966,22),v=f(v,y,b,x,g[4],4118548399,7),x=f(x,v,y,b,g[5],1200080426,12),b=f(b,x,v,y,g[6],2821735955,17),y=f(y,b,x,v,g[7],4249261313,22),v=f(v,y,b,x,g[8],1770035416,7),x=f(x,v,y,b,g[9],2336552879,12),b=f(b,x,v,y,g[10],4294925233,17),y=f(y,b,x,v,g[11],2304563134,22),v=f(v,y,b,x,g[12],1804603682,7),x=f(x,v,y,b,g[13],4254626195,12),b=f(b,x,v,y,g[14],2792965006,17),v=h(v,y=f(y,b,x,v,g[15],1236535329,22),b,x,g[1],4129170786,5),x=h(x,v,y,b,g[6],3225465664,9),b=h(b,x,v,y,g[11],643717713,14),y=h(y,b,x,v,g[0],3921069994,20),v=h(v,y,b,x,g[5],3593408605,5),x=h(x,v,y,b,g[10],38016083,9),b=h(b,x,v,y,g[15],3634488961,14),y=h(y,b,x,v,g[4],3889429448,20),v=h(v,y,b,x,g[9],568446438,5),x=h(x,v,y,b,g[14],3275163606,9),b=h(b,x,v,y,g[3],4107603335,14),y=h(y,b,x,v,g[8],1163531501,20),v=h(v,y,b,x,g[13],2850285829,5),x=h(x,v,y,b,g[2],4243563512,9),b=h(b,x,v,y,g[7],1735328473,14),v=d(v,y=h(y,b,x,v,g[12],2368359562,20),b,x,g[5],4294588738,4),x=d(x,v,y,b,g[8],2272392833,11),b=d(b,x,v,y,g[11],1839030562,16),y=d(y,b,x,v,g[14],4259657740,23),v=d(v,y,b,x,g[1],2763975236,4),x=d(x,v,y,b,g[4],1272893353,11),b=d(b,x,v,y,g[7],4139469664,16),y=d(y,b,x,v,g[10],3200236656,23),v=d(v,y,b,x,g[13],681279174,4),x=d(x,v,y,b,g[0],3936430074,11),b=d(b,x,v,y,g[3],3572445317,16),y=d(y,b,x,v,g[6],76029189,23),v=d(v,y,b,x,g[9],3654602809,4),x=d(x,v,y,b,g[12],3873151461,11),b=d(b,x,v,y,g[15],530742520,16),v=m(v,y=d(y,b,x,v,g[2],3299628645,23),b,x,g[0],4096336452,6),x=m(x,v,y,b,g[7],1126891415,10),b=m(b,x,v,y,g[14],2878612391,15),y=m(y,b,x,v,g[5],4237533241,21),v=m(v,y,b,x,g[12],1700485571,6),x=m(x,v,y,b,g[3],2399980690,10),b=m(b,x,v,y,g[10],4293915773,15),y=m(y,b,x,v,g[1],2240044497,21),v=m(v,y,b,x,g[8],1873313359,6),x=m(x,v,y,b,g[15],4264355552,10),b=m(b,x,v,y,g[6],2734768916,15),y=m(y,b,x,v,g[13],1309151649,21),v=m(v,y,b,x,g[4],4149444226,6),x=m(x,v,y,b,g[11],3174756917,10),b=m(b,x,v,y,g[2],718787259,15),y=m(y,b,x,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+b|0,this._d=this._d+x|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=u},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var a=r("bn.js"),s=r("brorand");function o(l){this.rand=l||new s.Rand}n.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var u=l.bitLength(),c=Math.ceil(u/8);do var f=new a(this.rand.generate(c));while(f.cmp(l)>=0);return f},o.prototype._randrange=function(l,u){var c=u.sub(l);return l.add(this._randbelow(c))},o.prototype.test=function(l,u,c){var f=l.bitLength(),h=a.mont(l),d=new a(1).toRed(h);u||(u=Math.max(1,f/48|0));for(var m=l.subn(1),g=0;!m.testn(g);g++);for(var p=l.shrn(g),v=m.toRed(h);u>0;u--){var y=this._randrange(new a(2),m);c&&c(y);var b=y.toRed(h).redPow(p);if(b.cmp(d)!==0&&b.cmp(v)!==0){for(var x=1;x<g;x++){if((b=b.redSqr()).cmp(d)===0)return!1;if(b.cmp(v)===0)break}if(x===g)return!1}}return!0},o.prototype.getDivisor=function(l,u){var c=l.bitLength(),f=a.mont(l),h=new a(1).toRed(f);u||(u=Math.max(1,c/48|0));for(var d=l.subn(1),m=0;!d.testn(m);m++);for(var g=l.shrn(m),p=d.toRed(f);u>0;u--){var v=this._randrange(new a(2),d),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var b=v.toRed(f).redPow(g);if(b.cmp(h)!==0&&b.cmp(p)!==0){for(var x=1;x<m;x++){if((b=b.redSqr()).cmp(h)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(p)===0)break}if(x===m)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function a(s,o){if(!s)throw new Error(o||"Assertion failed")}n.exports=a,a.equal=function(s,o,l){if(s!=o)throw new Error(l||"Assertion failed: "+s+" != "+o)}},{}],454:[function(r,n,i){var a=i;function s(l){return l.length===1?"0"+l:l}function o(l){for(var u="",c=0;c<l.length;c++)u+=s(l[c].toString(16));return u}a.toArray=function(l,u){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)c[f]=0|l[f];return c}if(u==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)c.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),d=h>>8,m=255&h;d?c.push(d,m):c.push(m)}return c},a.zero2=s,a.toHex=o,a.encode=function(l,u){return u==="hex"?o(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var a=r("asn1.js");i.certificate=r("./certificate");var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=s;var o=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=o;var l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});i.PrivateKey=c;var f=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=a.define("DSAparam",function(){this.int()});var d=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=d;var m=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var a=r("asn1.js"),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=a.define("RelativeDistinguishedName",function(){this.setof(o)}),f=a.define("RDNSequence",function(){this.seqof(c)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),d=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),m=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),p=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(r,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),u=r("browserify-aes"),c=r("safe-buffer").Buffer;n.exports=function(f,h){var d,m=f.toString(),g=m.match(a);if(g){var p="aes"+g[1],v=c.from(g[2],"hex"),y=c.from(g[3].replace(/[\r\n]/g,""),"base64"),b=l(h,v.slice(0,8),parseInt(g[1],10)).key,x=[],C=u.createDecipheriv(p,b,v);x.push(C.update(y)),x.push(C.final()),d=c.concat(x)}else{var O=m.match(o);d=c.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:m.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var a=r("./asn1"),s=r("./aesid.json"),o=r("./fixProc"),l=r("browserify-aes"),u=r("pbkdf2"),c=r("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||c.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=c.from(h));var m,g,p=o(h,d),v=p.tag,y=p.data;switch(v){case"CERTIFICATE":g=a.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(y,"der")),m=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"ENCRYPTED PRIVATE KEY":y=function(b,x){var C=b.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),I=s[b.algorithm.decrypt.cipher.algo.join(".")],T=b.algorithm.decrypt.cipher.iv,M=b.subjectPrivateKey,B=parseInt(I.split("-")[1],10)/8,L=u.pbkdf2Sync(x,C,O,B,"sha1"),P=l.createDecipheriv(I,L,T),A=[];return A.push(P.update(M)),A.push(P.final()),c.concat(A)}(y=a.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(m=(g=a.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=a.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(a){(function(){var s,o,l=r("safe-buffer").Buffer,u=r("./precondition"),c=r("./default-encoding"),f=r("./sync"),h=r("./to-buffer"),d=a.crypto&&a.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return o||(o=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(y,b,x,C,O){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(I){return d.deriveBits({name:"PBKDF2",salt:b,iterations:x,hash:{name:O}},I,C<<3)}).then(function(I){return l.from(I)})}n.exports=function(y,b,x,C,O,I){typeof O=="function"&&(I=O,O=void 0);var T=m[(O=O||"sha1").toLowerCase()];if(T&&typeof a.Promise=="function"){if(u(x,C),y=h(y,c,"Password"),b=h(b,c,"Salt"),typeof I!="function")throw new Error("No callback provided to pbkdf2");(function(M,B){M.then(function(L){p()(function(){B(null,L)})},function(L){p()(function(){B(L)})})})(function(M){if(a.process&&!a.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(g[M]!==void 0)return g[M];var B=v(s=s||l.alloc(8),s,10,128,M).then(function(){return!0}).catch(function(){return!1});return g[M]=B,B}(T).then(function(M){return M?v(y,b,x,C,T):f(y,b,x,C,O)}),I)}else p()(function(){var M;try{M=f(y,b,x,C,O)}catch(B){return I(B)}I(null,M)})}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(a,s){(function(){var o;s.process&&s.process.browser?o="utf-8":s.process&&s.process.version?o=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var a=Math.pow(2,30)-1;n.exports=function(s,o){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>a||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var a=r("create-hash/md5"),s=r("ripemd160"),o=r("sha.js"),l=r("safe-buffer").Buffer,u=r("./precondition"),c=r("./default-encoding"),f=r("./to-buffer"),h=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(g,p,v){var y=function(T){function M(B){return o(T).update(B).digest()}return T==="rmd160"||T==="ripemd160"?function(B){return new s().update(B).digest()}:T==="md5"?a:M}(g),b=g==="sha512"||g==="sha384"?128:64;p.length>b?p=y(p):p.length<b&&(p=l.concat([p,h],b));for(var x=l.allocUnsafe(b+d[g]),C=l.allocUnsafe(b+d[g]),O=0;O<b;O++)x[O]=54^p[O],C[O]=92^p[O];var I=l.allocUnsafe(b+v+4);x.copy(I,0,0,b),this.ipad1=I,this.ipad2=x,this.opad=C,this.alg=g,this.blocksize=b,this.hash=y,this.size=d[g]}m.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,p,v,y,b){u(v,y);var x=new m(b=b||"sha1",g=f(g,c,"Password"),(p=f(p,c,"Salt")).length),C=l.allocUnsafe(y),O=l.allocUnsafe(p.length+4);p.copy(O,0,0,p.length);for(var I=0,T=d[b],M=Math.ceil(y/T),B=1;B<=M;B++){O.writeUInt32BE(B,p.length);for(var L=x.run(O,x.ipad1),P=L,A=1;A<v;A++){P=x.run(P,x.ipad2);for(var j=0;j<T;j++)L[j]^=P[j]}L.copy(C,I),I+=T}return C}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var a=r("safe-buffer").Buffer;n.exports=function(s,o,l){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,o);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,o,l,u){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var c,f,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick(function(){s.call(null,o)});case 3:return a.nextTick(function(){s.call(null,o,l)});case 4:return a.nextTick(function(){s.call(null,o,l,u)});default:for(c=new Array(h-1),f=0;f<c.length;)c[f++]=arguments[f];return a.nextTick(function(){s.apply(null,c)})}}}:n.exports=a}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var a,s,o=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(b){if(a===setTimeout)return setTimeout(b,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(b,0);try{return a(b,0)}catch{try{return a.call(null,b,0)}catch{return a.call(this,b,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{s=typeof clearTimeout=="function"?clearTimeout:u}catch{s=u}})();var f,h=[],d=!1,m=-1;function g(){d&&f&&(d=!1,f.length?h=f.concat(h):m=-1,h.length&&p())}function p(){if(!d){var b=c(g);d=!0;for(var x=h.length;x;){for(f=h,h=[];++m<x;)f&&f[m].run();m=-1,x=h.length}f=null,d=!1,function(C){if(s===clearTimeout)return clearTimeout(C);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(C);try{s(C)}catch{try{return s.call(null,C)}catch{return s.call(this,C)}}}(b)}}function v(b,x){this.fun=b,this.array=x}function y(){}o.nextTick=function(b){var x=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)x[C-1]=arguments[C];h.push(new v(b,x)),h.length!==1||d||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(a,s){return i.publicEncrypt(a,s,!0)},i.publicDecrypt=function(a,s){return i.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var a=r("create-hash"),s=r("safe-buffer").Buffer;function o(l){var u=s.allocUnsafe(4);return u.writeUInt32BE(l,0),u}n.exports=function(l,u){for(var c,f=s.alloc(0),h=0;f.length<u;)c=o(h++),f=s.concat([f,a("sha1").update(l).update(c).digest()]);return f.slice(0,u)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var a=r("parse-asn1"),s=r("./mgf"),o=r("./xor"),l=r("bn.js"),u=r("browserify-rsa"),c=r("create-hash"),f=r("./withPublic"),h=r("safe-buffer").Buffer;n.exports=function(d,m,g){var p;p=d.padding?d.padding:g?1:4;var v,y=a(d),b=y.modulus.byteLength();if(m.length>b||new l(m).cmp(y.modulus)>=0)throw new Error("decryption error");v=g?f(new l(m),y):u(m,y);var x=h.alloc(b-v.length);if(v=h.concat([x,v],b),p===4)return function(C,O){var I=C.modulus.byteLength(),T=c("sha1").update(h.alloc(0)).digest(),M=T.length;if(O[0]!==0)throw new Error("decryption error");var B=O.slice(1,M+1),L=O.slice(M+1),P=o(B,s(L,M)),A=o(L,s(P,I-M-1));if(function(E,w){E=h.from(E),w=h.from(w);var S=0,_=E.length;E.length!==w.length&&(S++,_=Math.min(E.length,w.length));for(var k=-1;++k<_;)S+=E[k]^w[k];return S}(T,A.slice(0,M)))throw new Error("decryption error");for(var j=M;A[j]===0;)j++;if(A[j++]!==1)throw new Error("decryption error");return A.slice(j)}(y,v);if(p===1)return function(C,O,I){for(var T=O.slice(0,2),M=2,B=0;O[M++]!==0;)if(M>=O.length){B++;break}var L=O.slice(2,M-1);if((T.toString("hex")!=="0002"&&!I||T.toString("hex")!=="0001"&&I)&&B++,L.length<8&&B++,B)throw new Error("decryption error");return O.slice(M)}(0,v,g);if(p===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var a=r("parse-asn1"),s=r("randombytes"),o=r("create-hash"),l=r("./mgf"),u=r("./xor"),c=r("bn.js"),f=r("./withPublic"),h=r("browserify-rsa"),d=r("safe-buffer").Buffer;n.exports=function(m,g,p){var v;v=m.padding?m.padding:p?1:4;var y,b=a(m);if(v===4)y=function(x,C){var O=x.modulus.byteLength(),I=C.length,T=o("sha1").update(d.alloc(0)).digest(),M=T.length,B=2*M;if(I>O-B-2)throw new Error("message too long");var L=d.alloc(O-I-B-2),P=O-M-1,A=s(M),j=u(d.concat([T,L,d.alloc(1,1),C],P),l(A,P)),E=u(A,l(j,M));return new c(d.concat([d.alloc(1),E,j],O))}(b,g);else if(v===1)y=function(x,C,O){var I,T=C.length,M=x.modulus.byteLength();if(T>M-11)throw new Error("message too long");return I=O?d.alloc(M-T-3,255):function(B){for(var L,P=d.allocUnsafe(B),A=0,j=s(2*B),E=0;A<B;)E===j.length&&(j=s(2*B),E=0),(L=j[E++])&&(P[A++]=L);return P}(M-T-3),new c(d.concat([d.from([0,O?1:2]),I,d.alloc(1),C],M))}(b,g,p);else{if(v!==3)throw new Error("unknown padding");if((y=new c(g)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?h(y,b):f(y,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var a=r("bn.js"),s=r("safe-buffer").Buffer;n.exports=function(o,l){return s.from(o.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(a,s){for(var o=a.length,l=-1;++l<o;)a[l]^=s[l];return a}},{}],475:[function(r,n,i){(function(a,s){(function(){var o=r("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?n.exports=function(u,c){if(u>4294967295)throw new RangeError("requested too many random bytes");var f=o.allocUnsafe(u);if(u>0)if(u>65536)for(var h=0;h<u;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof c=="function"?a.nextTick(function(){c(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(a,s){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),u=r("randombytes"),c=l.Buffer,f=l.kMaxLength,h=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function m(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>d||v<0)throw new TypeError("offset must be a uint32");if(v>f||v>y)throw new RangeError("offset out of range")}function g(v,y,b){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>d||v<0)throw new TypeError("size must be a uint32");if(v+y>b||v>f)throw new RangeError("buffer too small")}function p(v,y,b,x){if(a.browser){var C=v.buffer,O=new Uint8Array(C,y,b);return h.getRandomValues(O),x?void a.nextTick(function(){x(null,v)}):v}if(!x)return u(b).copy(v,y),v;u(b,function(I,T){if(I)return x(I);T.copy(v,y),x(null,v)})}h&&h.getRandomValues||!a.browser?(i.randomFill=function(v,y,b,x){if(!(c.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")x=y,y=0,b=v.length;else if(typeof b=="function")x=b,b=v.length-y;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return m(y,v.length),g(b,y,v.length),p(v,y,b,x)},i.randomFillSync=function(v,y,b){if(y===void 0&&(y=0),!(c.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(y,v.length),b===void 0&&(b=v.length-y),g(b,y,v.length),p(v,y,b)}):(i.randomFill=o,i.randomFillSync=o)}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var a={};function s(l,u,c){c||(c=Error);var f=function(h){var d,m;function g(p,v,y){return h.call(this,function(b,x,C){return typeof u=="string"?u:u(b,x,C)}(p,v,y))||this}return m=h,(d=g).prototype=Object.create(m.prototype),d.prototype.constructor=d,d.__proto__=m,g}(c);f.prototype.name=c.name,f.prototype.code=l,a[l]=f}function o(l,u){if(Array.isArray(l)){var c=l.length;return l=l.map(function(f){return String(f)}),c>2?"one of ".concat(u," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}return"of ".concat(u," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(l,u,c){var f,h,d;if(typeof u=="string"&&(h="not ",u.substr(0,h.length)===h)?(f="must not be",u=u.replace(/^not /,"")):f="must be",function(g,p,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-p.length,v)===p}(l," argument"))d="The ".concat(l," ").concat(f," ").concat(o(u,"type"));else{var m=function(g,p,v){return typeof v!="number"&&(v=0),!(v+p.length>g.length)&&g.indexOf(p,v)!==-1}(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(m," ").concat(f," ").concat(o(u,"type"))}return d+=". Received type ".concat(typeof c)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(r,n,i){(function(a){(function(){var s=Object.keys||function(g){var p=[];for(var v in g)p.push(v);return p};n.exports=h;var o=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(h,o);for(var u=s(l.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||a.nextTick(m,this)}function m(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=s;var a=r("./_stream_transform");function s(o){if(!(this instanceof s))return new s(o);a.call(this,o)}r("inherits")(s,a),s.prototype._transform=function(o,l,u){u(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(a,s){(function(){var o;n.exports=P,P.ReadableState=L,r("events").EventEmitter;var l=function(z,D){return z.listeners(D).length},u=r("./internal/streams/stream"),c=r("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=r("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var m,g,p,v=r("./internal/streams/buffer_list"),y=r("./internal/streams/destroy"),b=r("./internal/streams/state").getHighWaterMark,x=r("../errors").codes,C=x.ERR_INVALID_ARG_TYPE,O=x.ERR_STREAM_PUSH_AFTER_EOF,I=x.ERR_METHOD_NOT_IMPLEMENTED,T=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(P,u);var M=y.errorOrDestroy,B=["error","close","destroy","pause","resume"];function L(z,D,G){o=o||r("./_stream_duplex"),z=z||{},typeof G!="boolean"&&(G=D instanceof o),this.objectMode=!!z.objectMode,G&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=b(this,z,"readableHighWaterMark",G),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(m||(m=r("string_decoder/").StringDecoder),this.decoder=new m(z.encoding),this.encoding=z.encoding)}function P(z){if(o=o||r("./_stream_duplex"),!(this instanceof P))return new P(z);var D=this instanceof o;this._readableState=new L(z,this,D),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),u.call(this)}function A(z,D,G,te,ae){h("readableAddChunk",D);var se,le=z._readableState;if(D===null)le.reading=!1,function(fe,ie){if(h("onEofChunk"),!ie.ended){if(ie.decoder){var oe=ie.decoder.end();oe&&oe.length&&(ie.buffer.push(oe),ie.length+=ie.objectMode?1:oe.length)}ie.ended=!0,ie.sync?w(fe):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,S(fe)))}}(z,le);else if(ae||(se=function(fe,ie){var oe;be=ie,c.isBuffer(be)||be instanceof f||typeof ie=="string"||ie===void 0||fe.objectMode||(oe=new C("chunk",["string","Buffer","Uint8Array"],ie));var be;return oe}(le,D)),se)M(z,se);else if(le.objectMode||D&&D.length>0)if(typeof D=="string"||le.objectMode||Object.getPrototypeOf(D)===c.prototype||(D=function(fe){return c.from(fe)}(D)),te)le.endEmitted?M(z,new T):j(z,le,D,!0);else if(le.ended)M(z,new O);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!G?(D=le.decoder.write(D),le.objectMode||D.length!==0?j(z,le,D,!1):_(z,le)):j(z,le,D,!1)}else te||(le.reading=!1,_(z,le));return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function j(z,D,G,te){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,z.emit("data",G)):(D.length+=D.objectMode?1:G.length,te?D.buffer.unshift(G):D.buffer.push(G),D.needReadable&&w(z)),_(z,D)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(z,D){D(z)},P.prototype.push=function(z,D){var G,te=this._readableState;return te.objectMode?G=!0:typeof z=="string"&&((D=D||te.defaultEncoding)!==te.encoding&&(z=c.from(z,D),D=""),G=!0),A(this,z,D,!1,G)},P.prototype.unshift=function(z){return A(this,z,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(z){m||(m=r("string_decoder/").StringDecoder);var D=new m(z);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,te="";G!==null;)te+=D.write(G.data),G=G.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};function E(z,D){return z<=0||D.length===0&&D.ended?0:D.objectMode?1:z!=z?D.flowing&&D.length?D.buffer.head.data.length:D.length:(z>D.highWaterMark&&(D.highWaterMark=function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(z)),z<=D.length?z:D.ended?D.length:(D.needReadable=!0,0))}function w(z){var D=z._readableState;h("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(h("emitReadable",D.flowing),D.emittedReadable=!0,a.nextTick(S,z))}function S(z){var D=z._readableState;h("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(z.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,H(z)}function _(z,D){D.readingMore||(D.readingMore=!0,a.nextTick(k,z,D))}function k(z,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var G=D.length;if(h("maybeReadMore read 0"),z.read(0),G===D.length)break}D.readingMore=!1}function N(z){var D=z._readableState;D.readableListening=z.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:z.listenerCount("data")>0&&z.resume()}function $(z){h("readable nexttick read 0"),z.read(0)}function R(z,D){h("resume",D.reading),D.reading||z.read(0),D.resumeScheduled=!1,z.emit("resume"),H(z),D.flowing&&!D.reading&&z.read(0)}function H(z){var D=z._readableState;for(h("flow",D.flowing);D.flowing&&z.read()!==null;);}function K(z,D){return D.length===0?null:(D.objectMode?G=D.buffer.shift():!z||z>=D.length?(G=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):G=D.buffer.consume(z,D.decoder),G);var G}function J(z){var D=z._readableState;h("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,a.nextTick(V,D,z))}function V(z,D){if(h("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,D.readable=!1,D.emit("end"),z.autoDestroy)){var G=D._writableState;(!G||G.autoDestroy&&G.finished)&&D.destroy()}}function Z(z,D){for(var G=0,te=z.length;G<te;G++)if(z[G]===D)return G;return-1}P.prototype.read=function(z){h("read",z),z=parseInt(z,10);var D=this._readableState,G=z;if(z!==0&&(D.emittedReadable=!1),z===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return h("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?J(this):w(this),null;if((z=E(z,D))===0&&D.ended)return D.length===0&&J(this),null;var te,ae=D.needReadable;return h("need readable",ae),(D.length===0||D.length-z<D.highWaterMark)&&h("length less than watermark",ae=!0),D.ended||D.reading?h("reading or ended",ae=!1):ae&&(h("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(z=E(G,D))),(te=z>0?K(z,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,z=0):(D.length-=z,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),G!==z&&D.ended&&J(this)),te!==null&&this.emit("data",te),te},P.prototype._read=function(z){M(this,new I("_read()"))},P.prototype.pipe=function(z,D){var G=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=z;break;case 1:te.pipes=[te.pipes,z];break;default:te.pipes.push(z)}te.pipesCount+=1,h("pipe count=%d opts=%j",te.pipesCount,D);var ae=(!D||D.end!==!1)&&z!==a.stdout&&z!==a.stderr?le:Se;function se(Ae,Pe){h("onunpipe"),Ae===G&&Pe&&Pe.hasUnpiped===!1&&(Pe.hasUnpiped=!0,h("cleanup"),z.removeListener("close",ve),z.removeListener("finish",we),z.removeListener("drain",fe),z.removeListener("error",be),z.removeListener("unpipe",se),G.removeListener("end",le),G.removeListener("end",Se),G.removeListener("data",oe),ie=!0,!te.awaitDrain||z._writableState&&!z._writableState.needDrain||fe())}function le(){h("onend"),z.end()}te.endEmitted?a.nextTick(ae):G.once("end",ae),z.on("unpipe",se);var fe=function(Ae){return function(){var Pe=Ae._readableState;h("pipeOnDrain",Pe.awaitDrain),Pe.awaitDrain&&Pe.awaitDrain--,Pe.awaitDrain===0&&l(Ae,"data")&&(Pe.flowing=!0,H(Ae))}}(G);z.on("drain",fe);var ie=!1;function oe(Ae){h("ondata");var Pe=z.write(Ae);h("dest.write",Pe),Pe===!1&&((te.pipesCount===1&&te.pipes===z||te.pipesCount>1&&Z(te.pipes,z)!==-1)&&!ie&&(h("false write response, pause",te.awaitDrain),te.awaitDrain++),G.pause())}function be(Ae){h("onerror",Ae),Se(),z.removeListener("error",be),l(z,"error")===0&&M(z,Ae)}function ve(){z.removeListener("finish",we),Se()}function we(){h("onfinish"),z.removeListener("close",ve),Se()}function Se(){h("unpipe"),G.unpipe(z)}return G.on("data",oe),function(Ae,Pe,Re){if(typeof Ae.prependListener=="function")return Ae.prependListener(Pe,Re);Ae._events&&Ae._events[Pe]?Array.isArray(Ae._events[Pe])?Ae._events[Pe].unshift(Re):Ae._events[Pe]=[Re,Ae._events[Pe]]:Ae.on(Pe,Re)}(z,"error",be),z.once("close",ve),z.once("finish",we),z.emit("pipe",G),te.flowing||(h("pipe resume"),G.resume()),z},P.prototype.unpipe=function(z){var D=this._readableState,G={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return z&&z!==D.pipes||(z||(z=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,z&&z.emit("unpipe",this,G)),this;if(!z){var te=D.pipes,ae=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var se=0;se<ae;se++)te[se].emit("unpipe",this,{hasUnpiped:!1});return this}var le=Z(D.pipes,z);return le===-1||(D.pipes.splice(le,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),z.emit("unpipe",this,G)),this},P.prototype.on=function(z,D){var G=u.prototype.on.call(this,z,D),te=this._readableState;return z==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):z==="readable"&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,h("on readable",te.length,te.reading),te.length?w(this):te.reading||a.nextTick($,this))),G},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(z,D){var G=u.prototype.removeListener.call(this,z,D);return z==="readable"&&a.nextTick(N,this),G},P.prototype.removeAllListeners=function(z){var D=u.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||a.nextTick(N,this),D},P.prototype.resume=function(){var z=this._readableState;return z.flowing||(h("resume"),z.flowing=!z.readableListening,function(D,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(R,D,G))}(this,z)),z.paused=!1,this},P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(z){var D=this,G=this._readableState,te=!1;for(var ae in z.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var le=G.decoder.end();le&&le.length&&D.push(le)}D.push(null)}),z.on("data",function(le){h("wrapped data"),G.decoder&&(le=G.decoder.write(le)),G.objectMode&&le==null||(G.objectMode||le&&le.length)&&(D.push(le)||(te=!0,z.pause()))}),z)this[ae]===void 0&&typeof z[ae]=="function"&&(this[ae]=function(le){return function(){return z[le].apply(z,arguments)}}(ae));for(var se=0;se<B.length;se++)z.on(B[se],this.emit.bind(this,B[se]));return this._read=function(le){h("wrapped _read",le),te&&(te=!1,z.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=r("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),P._fromList=K,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(z,D){return p===void 0&&(p=r("./internal/streams/from")),p(P,z,D)})}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=h;var a=r("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,o=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,c=r("./_stream_duplex");function f(g,p){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,p!=null&&this.push(p),y(g);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);c.call(this,g),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",d)}function d(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(p,v){m(g,p,v)})}function m(g,p,v){if(p)return g.emit("error",p);if(v!=null&&g.push(v),g._writableState.length)throw new u;if(g._transformState.transforming)throw new l;return g.push(null)}r("inherits")(h,c),h.prototype.push=function(g,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,g,p)},h.prototype._transform=function(g,p,v){v(new s("_transform()"))},h.prototype._write=function(g,p,v){var y=this._transformState;if(y.writecb=v,y.writechunk=g,y.writeencoding=p,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},h.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(g,p){c.prototype._destroy.call(this,g,function(v){p(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(a,s){(function(){function o(k){var N=this;this.next=null,this.entry=null,this.finish=function(){(function($,R,H){var K=$.entry;for($.entry=null;K;){var J=K.callback;R.pendingcb--,J(H),K=K.next}R.corkedRequestsFree.next=$})(N,k)}}var l;n.exports=P,P.WritableState=L;var u={deprecate:r("util-deprecate")},c=r("./internal/streams/stream"),f=r("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,m=r("./internal/streams/destroy"),g=r("./internal/streams/state").getHighWaterMark,p=r("../errors").codes,v=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,C=p.ERR_STREAM_DESTROYED,O=p.ERR_STREAM_NULL_VALUES,I=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,M=m.errorOrDestroy;function B(){}function L(k,N,$){l=l||r("./_stream_duplex"),k=k||{},typeof $!="boolean"&&($=N instanceof l),this.objectMode=!!k.objectMode,$&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=g(this,k,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=k.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(K,J){var V=K._writableState,Z=V.sync,z=V.writecb;if(typeof z!="function")throw new b;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(V),J)(function(G,te,ae,se,le){--te.pendingcb,ae?(a.nextTick(le,se),a.nextTick(_,G,te),G._writableState.errorEmitted=!0,M(G,se)):(le(se),G._writableState.errorEmitted=!0,M(G,se),_(G,te))})(K,V,Z,J,z);else{var D=w(V)||K.destroyed;D||V.corked||V.bufferProcessing||!V.bufferedRequest||E(K,V),Z?a.nextTick(j,K,V,D,z):j(K,V,D,z)}})(N,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(k){var N=this instanceof(l=l||r("./_stream_duplex"));if(!N&&!d.call(P,this))return new P(k);this._writableState=new L(k,this,N),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),c.call(this)}function A(k,N,$,R,H,K,J){N.writelen=R,N.writecb=J,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new C("write")):$?k._writev(H,N.onwrite):k._write(H,K,N.onwrite),N.sync=!1}function j(k,N,$,R){$||function(H,K){K.length===0&&K.needDrain&&(K.needDrain=!1,H.emit("drain"))}(k,N),N.pendingcb--,R(),_(k,N)}function E(k,N){N.bufferProcessing=!0;var $=N.bufferedRequest;if(k._writev&&$&&$.next){var R=N.bufferedRequestCount,H=new Array(R),K=N.corkedRequestsFree;K.entry=$;for(var J=0,V=!0;$;)H[J]=$,$.isBuf||(V=!1),$=$.next,J+=1;H.allBuffers=V,A(k,N,!0,N.length,H,"",K.finish),N.pendingcb++,N.lastBufferedRequest=null,K.next?(N.corkedRequestsFree=K.next,K.next=null):N.corkedRequestsFree=new o(N),N.bufferedRequestCount=0}else{for(;$;){var Z=$.chunk,z=$.encoding,D=$.callback;if(A(k,N,!1,N.objectMode?1:Z.length,Z,z,D),$=$.next,N.bufferedRequestCount--,N.writing)break}$===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=$,N.bufferProcessing=!1}function w(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function S(k,N){k._final(function($){N.pendingcb--,$&&M(k,$),N.prefinished=!0,k.emit("prefinish"),_(k,N)})}function _(k,N){var $=w(N);if($&&(function(H,K){K.prefinished||K.finalCalled||(typeof H._final!="function"||K.destroyed?(K.prefinished=!0,H.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,a.nextTick(S,H,K)))}(k,N),N.pendingcb===0&&(N.finished=!0,k.emit("finish"),N.autoDestroy))){var R=k._readableState;(!R||R.autoDestroy&&R.endEmitted)&&k.destroy()}return $}r("inherits")(P,c),L.prototype.getBuffer=function(){for(var k=this.bufferedRequest,N=[];k;)N.push(k),k=k.next;return N},function(){try{Object.defineProperty(L.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(k){return!!d.call(this,k)||this===P&&k&&k._writableState instanceof L}})):d=function(k){return k instanceof this},P.prototype.pipe=function(){M(this,new x)},P.prototype.write=function(k,N,$){var R,H=this._writableState,K=!1,J=!H.objectMode&&(R=k,f.isBuffer(R)||R instanceof h);return J&&!f.isBuffer(k)&&(k=function(V){return f.from(V)}(k)),typeof N=="function"&&($=N,N=null),J?N="buffer":N||(N=H.defaultEncoding),typeof $!="function"&&($=B),H.ending?function(V,Z){var z=new I;M(V,z),a.nextTick(Z,z)}(this,$):(J||function(V,Z,z,D){var G;return z===null?G=new O:typeof z=="string"||Z.objectMode||(G=new v("chunk",["string","Buffer"],z)),!G||(M(V,G),a.nextTick(D,G),!1)}(this,H,k,$))&&(H.pendingcb++,K=function(V,Z,z,D,G,te){if(!z){var ae=function(ie,oe,be){return ie.objectMode||ie.decodeStrings===!1||typeof oe!="string"||(oe=f.from(oe,be)),oe}(Z,D,G);D!==ae&&(z=!0,G="buffer",D=ae)}var se=Z.objectMode?1:D.length;Z.length+=se;var le=Z.length<Z.highWaterMark;if(le||(Z.needDrain=!0),Z.writing||Z.corked){var fe=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:D,encoding:G,isBuf:z,callback:te,next:null},fe?fe.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else A(V,Z,!1,se,D,G,te);return le}(this,H,J,k,N,$)),K},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,k.writing||k.corked||k.bufferProcessing||!k.bufferedRequest||E(this,k))},P.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new T(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(k,N,$){$(new y("_write()"))},P.prototype._writev=null,P.prototype.end=function(k,N,$){var R=this._writableState;return typeof k=="function"?($=k,k=null,N=null):typeof N=="function"&&($=N,N=null),k!=null&&this.write(k,N),R.corked&&(R.corked=1,this.uncork()),R.ending||function(H,K,J){K.ending=!0,_(H,K),J&&(K.finished?a.nextTick(J):H.once("finish",J)),K.ended=!0,H.writable=!1}(this,R,$),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(k,N){N(k)}}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(a){(function(){var s;function o(C,O,I){return(O=function(T){var M=function(B,L){if(typeof B!="object"||B===null)return B;var P=B[Symbol.toPrimitive];if(P!==void 0){var A=P.call(B,L);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(B)}(T,"string");return typeof M=="symbol"?M:String(M)}(O))in C?Object.defineProperty(C,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[O]=I,C}var l=r("./end-of-stream"),u=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),m=Symbol("handlePromise"),g=Symbol("stream");function p(C,O){return{value:C,done:O}}function v(C){var O=C[u];if(O!==null){var I=C[g].read();I!==null&&(C[d]=null,C[u]=null,C[c]=null,O(p(I,!1)))}}function y(C){a.nextTick(v,C)}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((o(s={get stream(){return this[g]},next:function(){var C=this,O=this[f];if(O!==null)return Promise.reject(O);if(this[h])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise(function(B,L){a.nextTick(function(){C[f]?L(C[f]):B(p(void 0,!0))})});var I,T=this[d];if(T)I=new Promise(function(B,L){return function(P,A){B.then(function(){L[h]?P(p(void 0,!0)):L[m](P,A)},A)}}(T,this));else{var M=this[g].read();if(M!==null)return Promise.resolve(p(M,!1));I=new Promise(this[m])}return this[d]=I,I}},Symbol.asyncIterator,function(){return this}),o(s,"return",function(){var C=this;return new Promise(function(O,I){C[g].destroy(null,function(T){T?I(T):O(p(void 0,!0))})})}),s),b);n.exports=function(C){var O,I=Object.create(x,(o(O={},g,{value:C,writable:!0}),o(O,u,{value:null,writable:!0}),o(O,c,{value:null,writable:!0}),o(O,f,{value:null,writable:!0}),o(O,h,{value:C._readableState.endEmitted,writable:!0}),o(O,m,{value:function(T,M){var B=I[g].read();B?(I[d]=null,I[u]=null,I[c]=null,T(p(B,!1))):(I[u]=T,I[c]=M)},writable:!0}),O));return I[d]=null,l(C,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=I[c];return M!==null&&(I[d]=null,I[u]=null,I[c]=null,M(T)),void(I[f]=T)}var B=I[u];B!==null&&(I[d]=null,I[u]=null,I[c]=null,B(p(void 0,!0))),I[h]=!0}),C.on("readable",y.bind(null,I)),I}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function a(d,m){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(d);m&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,p)}return g}function s(d){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?a(Object(g),!0).forEach(function(p){o(d,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(p){Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(g,p))})}return d}function o(d,m,g){return(m=u(m))in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function l(d,m){for(var g=0;g<m.length;g++){var p=m[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,u(p.key),p)}}function u(d){var m=function(g,p){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var y=v.call(g,p);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)}(d,"string");return typeof m=="symbol"?m:String(m)}var c=r("buffer").Buffer,f=r("util").inspect,h=f&&f.custom||"inspect";n.exports=function(){function d(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var m,g;return m=d,(g=[{key:"push",value:function(p){var v={data:p,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(p){var v={data:p,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=p+v.data;return y}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var v,y,b,x=c.allocUnsafe(p>>>0),C=this.head,O=0;C;)v=C.data,y=x,b=O,c.prototype.copy.call(v,y,b),O+=C.data.length,C=C.next;return x}},{key:"consume",value:function(p,v){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):y=p===this.head.data.length?this.shift():v?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var v=this.head,y=1,b=v.data;for(p-=b.length;v=v.next;){var x=v.data,C=p>x.length?x.length:p;if(C===x.length?b+=x:b+=x.slice(0,p),(p-=C)==0){C===x.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=x.slice(C));break}++y}return this.length-=y,b}},{key:"_getBuffer",value:function(p){var v=c.allocUnsafe(p),y=this.head,b=1;for(y.data.copy(v),p-=y.data.length;y=y.next;){var x=y.data,C=p>x.length?x.length:p;if(x.copy(v,v.length-p,0,C),(p-=C)==0){C===x.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=x.slice(C));break}++b}return this.length-=b,v}},{key:h,value:function(p,v){return f(this,s(s({},v),{},{depth:0,customInspect:!1}))}}])&&l(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(r,n,i){(function(a){(function(){function s(u,c){l(u,c),o(u)}function o(u){u._writableState&&!u._writableState.emitClose||u._readableState&&!u._readableState.emitClose||u.emit("close")}function l(u,c){u.emit("error",c)}n.exports={destroy:function(u,c){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,u)):a.nextTick(l,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(m){!c&&m?f._writableState?f._writableState.errorEmitted?a.nextTick(o,f):(f._writableState.errorEmitted=!0,a.nextTick(s,f,m)):a.nextTick(s,f,m):c?(a.nextTick(o,f),c(m)):a.nextTick(o,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(u,c){var f=u._readableState,h=u._writableState;f&&f.autoDestroy||h&&h.autoDestroy?u.destroy(c):u.emit("error",c)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var a=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function o(l,u,c){if(typeof u=="function")return o(l,null,u);u||(u={}),c=function(C){var O=!1;return function(){if(!O){O=!0;for(var I=arguments.length,T=new Array(I),M=0;M<I;M++)T[M]=arguments[M];C.apply(this,T)}}}(c||s);var f=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,d=function(){l.writable||g()},m=l._writableState&&l._writableState.finished,g=function(){h=!1,m=!0,f||c.call(l)},p=l._readableState&&l._readableState.endEmitted,v=function(){f=!1,p=!0,h||c.call(l)},y=function(C){c.call(l,C)},b=function(){var C;return f&&!p?(l._readableState&&l._readableState.ended||(C=new a),c.call(l,C)):h&&!m?(l._writableState&&l._writableState.ended||(C=new a),c.call(l,C)):void 0},x=function(){l.req.on("finish",g)};return function(C){return C.setHeader&&typeof C.abort=="function"}(l)?(l.on("complete",g),l.on("abort",b),l.req?x():l.on("request",x)):h&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",v),l.on("finish",g),u.error!==!1&&l.on("error",y),l.on("close",b),function(){l.removeListener("complete",g),l.removeListener("abort",b),l.removeListener("request",x),l.req&&l.req.removeListener("finish",g),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var a,s=r("../../../errors").codes,o=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function u(m){if(m)throw m}function c(m,g,p,v){v=function(x){var C=!1;return function(){C||(C=!0,x.apply(void 0,arguments))}}(v);var y=!1;m.on("close",function(){y=!0}),a===void 0&&(a=r("./end-of-stream")),a(m,{readable:g,writable:p},function(x){if(x)return v(x);y=!0,v()});var b=!1;return function(x){if(!y&&!b)return b=!0,function(C){return C.setHeader&&typeof C.abort=="function"}(m)?m.abort():typeof m.destroy=="function"?m.destroy():void v(x||new l("pipe"))}}function f(m){m()}function h(m,g){return m.pipe(g)}function d(m){return m.length?typeof m[m.length-1]!="function"?u:m.pop():u}n.exports=function(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var v,y=d(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var b=g.map(function(x,C){var O=C<g.length-1;return c(x,O,C>0,function(I){v||(v=I),I&&b.forEach(f),O||(b.forEach(f),y(v))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var a=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,o,l,u){var c=function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}(o,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new a(u?l:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var a=function(s){var o=Object.prototype,l=o.hasOwnProperty,u=Object.defineProperty||function(_,k,N){_[k]=N.value},c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function m(_,k,N){return Object.defineProperty(_,k,{value:N,enumerable:!0,configurable:!0,writable:!0}),_[k]}try{m({},"")}catch{m=function(k,N,$){return k[N]=$}}function g(_,k,N,$){var R=k&&k.prototype instanceof y?k:y,H=Object.create(R.prototype),K=new E($||[]);return u(H,"_invoke",{value:L(_,N,K)}),H}function p(_,k,N){try{return{type:"normal",arg:_.call(k,N)}}catch($){return{type:"throw",arg:$}}}s.wrap=g;var v={};function y(){}function b(){}function x(){}var C={};m(C,f,function(){return this});var O=Object.getPrototypeOf,I=O&&O(O(w([])));I&&I!==o&&l.call(I,f)&&(C=I);var T=x.prototype=y.prototype=Object.create(C);function M(_){["next","throw","return"].forEach(function(k){m(_,k,function(N){return this._invoke(k,N)})})}function B(_,k){var N;u(this,"_invoke",{value:function($,R){function H(){return new k(function(K,J){(function V(Z,z,D,G){var te=p(_[Z],_,z);if(te.type!=="throw"){var ae=te.arg,se=ae.value;return se&&typeof se=="object"&&l.call(se,"__await")?k.resolve(se.__await).then(function(le){V("next",le,D,G)},function(le){V("throw",le,D,G)}):k.resolve(se).then(function(le){ae.value=le,D(ae)},function(le){return V("throw",le,D,G)})}G(te.arg)})($,R,K,J)})}return N=N?N.then(H,H):H()}})}function L(_,k,N){var $="suspendedStart";return function(R,H){if($==="executing")throw new Error("Generator is already running");if($==="completed"){if(R==="throw")throw H;return S()}for(N.method=R,N.arg=H;;){var K=N.delegate;if(K){var J=P(K,N);if(J){if(J===v)continue;return J}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if($==="suspendedStart")throw $="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);$="executing";var V=p(_,k,N);if(V.type==="normal"){if($=N.done?"completed":"suspendedYield",V.arg===v)continue;return{value:V.arg,done:N.done}}V.type==="throw"&&($="completed",N.method="throw",N.arg=V.arg)}}}function P(_,k){var N=k.method,$=_.iterator[N];if($===void 0)return k.delegate=null,N==="throw"&&_.iterator.return&&(k.method="return",k.arg=void 0,P(_,k),k.method==="throw")||N!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+N+"' method")),v;var R=p($,_.iterator,k.arg);if(R.type==="throw")return k.method="throw",k.arg=R.arg,k.delegate=null,v;var H=R.arg;return H?H.done?(k[_.resultName]=H.value,k.next=_.nextLoc,k.method!=="return"&&(k.method="next",k.arg=void 0),k.delegate=null,v):H:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,v)}function A(_){var k={tryLoc:_[0]};1 in _&&(k.catchLoc=_[1]),2 in _&&(k.finallyLoc=_[2],k.afterLoc=_[3]),this.tryEntries.push(k)}function j(_){var k=_.completion||{};k.type="normal",delete k.arg,_.completion=k}function E(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(A,this),this.reset(!0)}function w(_){if(_){var k=_[f];if(k)return k.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var N=-1,$=function R(){for(;++N<_.length;)if(l.call(_,N))return R.value=_[N],R.done=!1,R;return R.value=void 0,R.done=!0,R};return $.next=$}}return{next:S}}function S(){return{value:void 0,done:!0}}return b.prototype=x,u(T,"constructor",{value:x,configurable:!0}),u(x,"constructor",{value:b,configurable:!0}),b.displayName=m(x,d,"GeneratorFunction"),s.isGeneratorFunction=function(_){var k=typeof _=="function"&&_.constructor;return!!k&&(k===b||(k.displayName||k.name)==="GeneratorFunction")},s.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,x):(_.__proto__=x,m(_,d,"GeneratorFunction")),_.prototype=Object.create(T),_},s.awrap=function(_){return{__await:_}},M(B.prototype),m(B.prototype,h,function(){return this}),s.AsyncIterator=B,s.async=function(_,k,N,$,R){R===void 0&&(R=Promise);var H=new B(g(_,k,N,$),R);return s.isGeneratorFunction(k)?H:H.next().then(function(K){return K.done?K.value:H.next()})},M(T),m(T,d,"Generator"),m(T,f,function(){return this}),m(T,"toString",function(){return"[object Generator]"}),s.keys=function(_){var k=Object(_),N=[];for(var $ in k)N.push($);return N.reverse(),function R(){for(;N.length;){var H=N.pop();if(H in k)return R.value=H,R.done=!1,R}return R.done=!0,R}},s.values=w,E.prototype={constructor:E,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!_)for(var k in this)k.charAt(0)==="t"&&l.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var k=this;function N(V,Z){return H.type="throw",H.arg=_,k.next=V,Z&&(k.method="next",k.arg=void 0),!!Z}for(var $=this.tryEntries.length-1;$>=0;--$){var R=this.tryEntries[$],H=R.completion;if(R.tryLoc==="root")return N("end");if(R.tryLoc<=this.prev){var K=l.call(R,"catchLoc"),J=l.call(R,"finallyLoc");if(K&&J){if(this.prev<R.catchLoc)return N(R.catchLoc,!0);if(this.prev<R.finallyLoc)return N(R.finallyLoc)}else if(K){if(this.prev<R.catchLoc)return N(R.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return N(R.finallyLoc)}}}},abrupt:function(_,k){for(var N=this.tryEntries.length-1;N>=0;--N){var $=this.tryEntries[N];if($.tryLoc<=this.prev&&l.call($,"finallyLoc")&&this.prev<$.finallyLoc){var R=$;break}}R&&(_==="break"||_==="continue")&&R.tryLoc<=k&&k<=R.finallyLoc&&(R=null);var H=R?R.completion:{};return H.type=_,H.arg=k,R?(this.method="next",this.next=R.finallyLoc,v):this.complete(H)},complete:function(_,k){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&k&&(this.next=k),v},finish:function(_){for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k];if(N.finallyLoc===_)return this.complete(N.completion,N.afterLoc),j(N),v}},catch:function(_){for(var k=this.tryEntries.length-1;k>=0;--k){var N=this.tryEntries[k];if(N.tryLoc===_){var $=N.completion;if($.type==="throw"){var R=$.arg;j(N)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(_,k,N){return this.delegate={iterator:w(_),resultName:k,nextLoc:N},this.method==="next"&&(this.arg=void 0),v}},s}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(r,n,i){var a=r("buffer").Buffer,s=r("inherits"),o=r("hash-base"),l=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(O,I){return O<<I|O>>>32-I}function v(O,I,T,M,B,L,P,A){return p(O+(I^T^M)+L+P|0,A)+B|0}function y(O,I,T,M,B,L,P,A){return p(O+(I&T|~I&M)+L+P|0,A)+B|0}function b(O,I,T,M,B,L,P,A){return p(O+((I|~T)^M)+L+P|0,A)+B|0}function x(O,I,T,M,B,L,P,A){return p(O+(I&M|T&~M)+L+P|0,A)+B|0}function C(O,I,T,M,B,L,P,A){return p(O+(I^(T|~M))+L+P|0,A)+B|0}s(g,o),g.prototype._update=function(){for(var O=l,I=0;I<16;++I)O[I]=this._block.readInt32LE(4*I);for(var T=0|this._a,M=0|this._b,B=0|this._c,L=0|this._d,P=0|this._e,A=0|this._a,j=0|this._b,E=0|this._c,w=0|this._d,S=0|this._e,_=0;_<80;_+=1){var k,N;_<16?(k=v(T,M,B,L,P,O[u[_]],d[0],f[_]),N=C(A,j,E,w,S,O[c[_]],m[0],h[_])):_<32?(k=y(T,M,B,L,P,O[u[_]],d[1],f[_]),N=x(A,j,E,w,S,O[c[_]],m[1],h[_])):_<48?(k=b(T,M,B,L,P,O[u[_]],d[2],f[_]),N=b(A,j,E,w,S,O[c[_]],m[2],h[_])):_<64?(k=x(T,M,B,L,P,O[u[_]],d[3],f[_]),N=y(A,j,E,w,S,O[c[_]],m[3],h[_])):(k=C(T,M,B,L,P,O[u[_]],d[4],f[_]),N=v(A,j,E,w,S,O[c[_]],m[4],h[_])),T=P,P=L,L=p(B,10),B=M,M=k,A=S,S=w,w=p(E,10),E=j,j=N}var $=this._b+B+w|0;this._b=this._c+L+S|0,this._c=this._d+P+A|0,this._d=this._e+T+j|0,this._e=this._a+M+E|0,this._a=$},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=a.alloc?a.alloc(20):new a(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=r("buffer"),s=a.Buffer;function o(u,c){for(var f in u)c[f]=u[f]}function l(u,c,f){return s(u,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(o(a,i),i.Buffer=l),l.prototype=Object.create(s.prototype),o(s,l),l.from=function(u,c,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return s(u,c,f)},l.alloc=function(u,c,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=s(u);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(u)}},{buffer:220}],495:[function(r,n,i){(function(a){(function(){var s,o=r("buffer"),l=o.Buffer,u={};for(s in o)o.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(u[s]=o[s]);var c=u.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(c[s]=l[s]);if(u.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,d)}),c.alloc||(c.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var m=l(f);return h&&h.length!==0?typeof d=="string"?m.fill(h,d):m.fill(h):m.fill(0),m}),!u.kStringMaxLength)try{u.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}u.constants||(u.constants={MAX_LENGTH:u.kMaxLength},u.kStringMaxLength&&(u.constants.MAX_STRING_LENGTH=u.kStringMaxLength)),n.exports=u}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const a=r("xmlchars/xml/1.0/ed5"),s=r("xmlchars/xml/1.1/ed2"),o=r("xmlchars/xmlns/1.0/ed3");var l=a.isS,u=a.isChar,c=a.isNameStartChar,f=a.isNameChar,h=a.S_LIST,d=a.NAME_RE,m=s.isChar,g=o.isNCNameStartChar,p=o.isNCNameChar,v=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:y,xmlns:b},C={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=w=>w===34||w===39,I=[34,39],T=[...I,91,62],M=[...I,60,93],B=[61,63,...h],L=[...h,62,38,60];function P(w,S,_){switch(S){case"xml":_!==y&&w.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":_!==b&&w.fail(`xmlns prefix must be bound to ${b}.`)}switch(_){case b:w.fail(S===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case y:switch(S){case"xml":break;case"":w.fail(`the default namespace may not be set to ${_}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const A=w=>v.test(w),j=w=>d.test(w);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=g,this.nameCheck=p,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);const _=this.opt.additionalNamespaces;_!=null&&(function(k,N){for(const $ of Object.keys(N))P(k,$,N[$])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=c,this.nameCheck=f,this.isName=j,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(C),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,S){this[E[w]]=S}off(w){this[E[w]]=void 0}makeError(w){var S;let _=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+w)}fail(w){const S=this.makeError(w),_=this.errorHandler;if(_===void 0)throw S;return _(S),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;w===null?(S=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let _=w.length;const k=w.charCodeAt(_-1);!S&&(k===13||k>=55296&&k<=56319)&&(this.carriedFromPrevious=w[_-1],_--,w=w.slice(0,_));const{stateTable:N}=this;for(this.chunk=w,this.i=0;this.i<_;)N[this.state].call(this);return this.chunkPosition+=_,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const _=w.charCodeAt(S);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const k=65536+1024*(_-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,k>1114111&&this.fail("disallowed character."),k}getCode11(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const _=w.charCodeAt(S);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const N=w.charCodeAt(S+1);N!==10&&N!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const k=65536+1024*(_-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,k>1114111&&this.fail("disallowed character."),k}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:S}=this;const{chunk:_}=this;for(;;){const k=this.getCode(),N=k===-2,$=N?10:k;if($===-1||w.includes($))return this.text+=_.slice(S,this.prevI),$;N&&(this.text+=_.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(w){let{i:S}=this;const{chunk:_}=this;for(;;){let k=this.getCode();switch(k){case-2:this.text+=_.slice(S,this.prevI)+`
`,S=this.i,k=10;break;case-1:return this.text+=_.slice(S),!1}if(k===w)return this.text+=_.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:w,i:S}=this;for(;;){const _=this.getCode();if(_===-1)return this.name+=w.slice(S),-1;if(!f(_))return this.name+=w.slice(S,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=m,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,S=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const S=this.captureTo(T);switch(S){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:O(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(M);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:O(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=w;this.text+=w,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:_}=this,k=this.entity+S.slice(w,this.prevI);let N;this.state=_,k===""?(this.fail("empty entity name."),N="&;"):(N=this.parseEntity(k),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=N);break e}case-1:this.entity+=S.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(c(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const S=this.getCodeNorm();S===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const S=this.getCodeNorm();switch(S){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:S}=this;for(;;){const _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=w.slice(S));if(!this.nameCheck(_)){this.piTarget+=w.slice(S,this.prevI);const k=_===63;k||l(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=k?33:27):this.state=k?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const S=this.getCodeNorm();if(S===62){const{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(B);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(O(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const _=S;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const S=this.captureNameChars();if(S===-1)return;const _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:l(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(c(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():c(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();O(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:S}=this;let{i:_}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+S.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=S.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(_))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:c(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(L);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:S}=this;const{chunk:_,textHandler:k}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,k!==void 0){const{text:N}=this,$=_.slice(w,this.prevI);N.length!==0?(k(N+$),this.text=""):$.length!==0&&k($)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=_.slice(w,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:k!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i,S=0;break;case-1:k!==void 0&&(this.text+=_.slice(w));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:w}=this;const{chunk:S,textHandler:_}=this;let k=!1;e:for(;;){const N=this.getCode();switch(N){case 60:if(this.state=15,_!==void 0){const{text:$}=this,R=S.slice(w,this.prevI);$.length!==0?(_($+R),this.text=""):R.length!==0&&_(R)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=S.slice(w,this.prevI)),k=!0;break e;case-2:_!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i;break;case-1:_!==void 0&&(this.text+=S.slice(w));break e;default:l(N)||(k=!0)}}k&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,S){var _;const{prefix:k,local:N}=this.qname(w),$={name:w,prefix:k,local:N,value:S};if(this.attribList.push($),(_=this.attributeHandler)===null||_===void 0||_.call(this,$),k==="xmlns"){const R=S.trim();this.currentXMLVersion==="1.0"&&R===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[N]=R,P(this,N,R)}else if(w==="xmlns"){const R=S.trim();this.topNS[""]=R,P(this,"",R)}}pushAttribPlain(w,S){var _;const k={name:w,value:S};this.attribList.push(k),(_=this.attributeHandler)===null||_===void 0||_.call(this,k)}end(){var w,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:_}=this;for(;_.length>0;){const N=_.pop();this.fail("unclosed tag: "+N.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:k}=this;return k.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,k),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(w){var S,_;let k=this.topNS[w];if(k!==void 0)return k;const{tags:N}=this;for(let $=N.length-1;$>=0;$--)if(k=N[$].ns[w],k!==void 0)return k;return k=this.ns[w],k!==void 0?k:(_=(S=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(S,w)}qname(w){const S=w.indexOf(":");if(S===-1)return{prefix:"",local:w};const _=w.slice(S+1),k=w.slice(0,S);return(k===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:k,local:_}}processAttribsNS(){var w;const{attribList:S}=this,_=this.tag;{const{prefix:$,local:R}=this.qname(_.name);_.prefix=$,_.local=R;const H=_.uri=(w=this.resolve($))!==null&&w!==void 0?w:"";$!==""&&($==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),H===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify($)}.`),_.uri=$))}if(S.length===0)return;const{attributes:k}=_,N=new Set;for(const $ of S){const{name:R,prefix:H,local:K}=$;let J,V;H===""?(J=R==="xmlns"?b:"",V=R):(J=this.resolve(H),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(H)}.`),J=H),V=`{${J}}${K}`),N.has(V)&&this.fail(`duplicate attribute: ${V}.`),N.add(V),$.uri=J,k[R]=$}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,S=this.tag.attributes;for(const{name:_,value:k}of w)S[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),S[_]=k;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:S}=this,_=this.tag;_.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,_),S.push(_),this.state=13,this.name=""}openSelfClosingTag(){var w,S,_;this.processAttribs();const{tags:k}=this,N=this.tag;N.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,N),(S=this.closeTagHandler)===null||S===void 0||S.call(this,N),(this.tag=(_=k[k.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const _=this.closeTagHandler;let k=w.length;for(;k-- >0;){const N=this.tag=w.pop();if(this.topNS=N.ns,_==null||_(N),N.name===S)break;this.fail("unexpected close tag.")}k===0?this.closedRoot=!0:k<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(w){if(w[0]!=="#"){const _=this.ENTITIES[w];return _!==void 0?_:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let S=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?S=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(S=parseInt(w.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var a=r("safe-buffer").Buffer;function s(o,l){this._block=a.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}s.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=a.from(o,l));for(var u=this._block,c=this._blockSize,f=o.length,h=this._len,d=0;d<f;){for(var m=h%c,g=Math.min(f-d,c-m),p=0;p<g;p++)u[m+p]=o[d+p];d+=g,(h+=g)%c==0&&this._update(u)}return this._len+=f,this},s.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=8*this._len;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var c=(4294967295&u)>>>0,f=(u-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(r,n,i){var a=n.exports=function(s){s=s.toLowerCase();var o=a[s];if(!o)throw new Error(s+" is not supported (we accept pull requests)");return new o};a.sha=r("./sha"),a.sha1=r("./sha1"),a.sha224=r("./sha224"),a.sha256=r("./sha256"),a.sha384=r("./sha384"),a.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var a=r("inherits"),s=r("./hash"),o=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,m,g,p){return d===0?m&g|~m&p:d===2?m&g|m&p|g&p:m^g^p}a(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var m,g=this._w,p=0|this._a,v=0|this._b,y=0|this._c,b=0|this._d,x=0|this._e,C=0;C<16;++C)g[C]=d.readInt32BE(4*C);for(;C<80;++C)g[C]=g[C-3]^g[C-8]^g[C-14]^g[C-16];for(var O=0;O<80;++O){var I=~~(O/20),T=0|((m=p)<<5|m>>>27)+h(I,v,y,b)+x+g[O]+l[I];x=b,b=y,y=f(v),v=p,p=T}this._a=p+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=x+this._e|0},c.prototype._hash=function(){var d=o.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var a=r("inherits"),s=r("./hash"),o=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(m){return m<<5|m>>>27}function h(m){return m<<30|m>>>2}function d(m,g,p,v){return m===0?g&p|~g&v:m===2?g&p|g&v|p&v:g^p^v}a(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(m){for(var g,p=this._w,v=0|this._a,y=0|this._b,b=0|this._c,x=0|this._d,C=0|this._e,O=0;O<16;++O)p[O]=m.readInt32BE(4*O);for(;O<80;++O)p[O]=(g=p[O-3]^p[O-8]^p[O-14]^p[O-16])<<1|g>>>31;for(var I=0;I<80;++I){var T=~~(I/20),M=f(v)+d(T,y,b,x)+C+p[I]+l[T]|0;C=x,x=b,b=h(y),y=v,v=M}this._a=v+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=C+this._e|0},c.prototype._hash=function(){var m=o.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var a=r("inherits"),s=r("./sha256"),o=r("./hash"),l=r("safe-buffer").Buffer,u=new Array(64);function c(){this.init(),this._w=u,o.call(this,64,56)}a(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var a=r("inherits"),s=r("./hash"),o=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function c(){this.init(),this._w=u,s.call(this,64,56)}function f(p,v,y){return y^p&(v^y)}function h(p,v,y){return p&v|y&(p|v)}function d(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function m(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}a(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var v,y=this._w,b=0|this._a,x=0|this._b,C=0|this._c,O=0|this._d,I=0|this._e,T=0|this._f,M=0|this._g,B=0|this._h,L=0;L<16;++L)y[L]=p.readInt32BE(4*L);for(;L<64;++L)y[L]=0|(((v=y[L-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[L-7]+g(y[L-15])+y[L-16];for(var P=0;P<64;++P){var A=B+m(I)+f(I,T,M)+l[P]+y[P]|0,j=d(b)+h(b,x,C)|0;B=M,M=T,T=I,I=O+A|0,O=C,C=x,x=b,b=A+j|0}this._a=b+this._a|0,this._b=x+this._b|0,this._c=C+this._c|0,this._d=O+this._d|0,this._e=I+this._e|0,this._f=T+this._f|0,this._g=M+this._g|0,this._h=B+this._h|0},c.prototype._hash=function(){var p=o.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var a=r("inherits"),s=r("./sha512"),o=r("./hash"),l=r("safe-buffer").Buffer,u=new Array(160);function c(){this.init(),this._w=u,o.call(this,128,112)}a(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=l.allocUnsafe(48);function h(d,m,g){f.writeInt32BE(d,g),f.writeInt32BE(m,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var a=r("inherits"),s=r("./hash"),o=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function c(){this.init(),this._w=u,s.call(this,128,112)}function f(x,C,O){return O^x&(C^O)}function h(x,C,O){return x&C|O&(x|C)}function d(x,C){return(x>>>28|C<<4)^(C>>>2|x<<30)^(C>>>7|x<<25)}function m(x,C){return(x>>>14|C<<18)^(x>>>18|C<<14)^(C>>>9|x<<23)}function g(x,C){return(x>>>1|C<<31)^(x>>>8|C<<24)^x>>>7}function p(x,C){return(x>>>1|C<<31)^(x>>>8|C<<24)^(x>>>7|C<<25)}function v(x,C){return(x>>>19|C<<13)^(C>>>29|x<<3)^x>>>6}function y(x,C){return(x>>>19|C<<13)^(C>>>29|x<<3)^(x>>>6|C<<26)}function b(x,C){return x>>>0<C>>>0?1:0}a(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(x){for(var C=this._w,O=0|this._ah,I=0|this._bh,T=0|this._ch,M=0|this._dh,B=0|this._eh,L=0|this._fh,P=0|this._gh,A=0|this._hh,j=0|this._al,E=0|this._bl,w=0|this._cl,S=0|this._dl,_=0|this._el,k=0|this._fl,N=0|this._gl,$=0|this._hl,R=0;R<32;R+=2)C[R]=x.readInt32BE(4*R),C[R+1]=x.readInt32BE(4*R+4);for(;R<160;R+=2){var H=C[R-30],K=C[R-30+1],J=g(H,K),V=p(K,H),Z=v(H=C[R-4],K=C[R-4+1]),z=y(K,H),D=C[R-14],G=C[R-14+1],te=C[R-32],ae=C[R-32+1],se=V+G|0,le=J+D+b(se,V)|0;le=(le=le+Z+b(se=se+z|0,z)|0)+te+b(se=se+ae|0,ae)|0,C[R]=le,C[R+1]=se}for(var fe=0;fe<160;fe+=2){le=C[fe],se=C[fe+1];var ie=h(O,I,T),oe=h(j,E,w),be=d(O,j),ve=d(j,O),we=m(B,_),Se=m(_,B),Ae=l[fe],Pe=l[fe+1],Re=f(B,L,P),Ue=f(_,k,N),We=$+Se|0,Ke=A+we+b(We,$)|0;Ke=(Ke=(Ke=Ke+Re+b(We=We+Ue|0,Ue)|0)+Ae+b(We=We+Pe|0,Pe)|0)+le+b(We=We+se|0,se)|0;var Qe=ve+oe|0,rt=be+ie+b(Qe,ve)|0;A=P,$=N,P=L,N=k,L=B,k=_,B=M+Ke+b(_=S+We|0,S)|0,M=T,S=w,T=I,w=E,I=O,E=j,O=Ke+rt+b(j=We+Qe|0,We)|0}this._al=this._al+j|0,this._bl=this._bl+E|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+_|0,this._fl=this._fl+k|0,this._gl=this._gl+N|0,this._hl=this._hl+$|0,this._ah=this._ah+O+b(this._al,j)|0,this._bh=this._bh+I+b(this._bl,E)|0,this._ch=this._ch+T+b(this._cl,w)|0,this._dh=this._dh+M+b(this._dl,S)|0,this._eh=this._eh+B+b(this._el,_)|0,this._fh=this._fh+L+b(this._fl,k)|0,this._gh=this._gh+P+b(this._gl,N)|0,this._hh=this._hh+A+b(this._hl,$)|0},c.prototype._hash=function(){var x=o.allocUnsafe(64);function C(O,I,T){x.writeInt32BE(O,T),x.writeInt32BE(I,T+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),x},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=s;var a=r("events").EventEmitter;function s(){a.call(this)}r("inherits")(s,a),s.Readable=r("readable-stream/readable.js"),s.Writable=r("readable-stream/writable.js"),s.Duplex=r("readable-stream/duplex.js"),s.Transform=r("readable-stream/transform.js"),s.PassThrough=r("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(o,l){var u=this;function c(v){o.writable&&o.write(v)===!1&&u.pause&&u.pause()}function f(){u.readable&&u.resume&&u.resume()}u.on("data",c),o.on("drain",f),o._isStdio||l&&l.end===!1||(u.on("end",d),u.on("close",m));var h=!1;function d(){h||(h=!0,o.end())}function m(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){if(p(),a.listenerCount(this,"error")===0)throw v}function p(){u.removeListener("data",c),o.removeListener("drain",f),u.removeListener("end",d),u.removeListener("close",m),u.removeListener("error",g),o.removeListener("error",g),u.removeListener("end",p),u.removeListener("close",p),o.removeListener("close",p)}return u.on("error",g),o.on("error",g),u.on("end",p),u.on("close",p),o.on("close",p),o.emit("pipe",u),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var a={}.toString;n.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var a=r("process-nextick-args"),s=Object.keys||function(p){var v=[];for(var y in p)v.push(y);return v};n.exports=d;var o=Object.create(r("core-util-is"));o.inherits=r("inherits");var l=r("./_stream_readable"),u=r("./_stream_writable");o.inherits(d,l);for(var c=s(u.prototype),f=0;f<c.length;f++){var h=c[f];d.prototype[h]||(d.prototype[h]=u.prototype[h])}function d(p){if(!(this instanceof d))return new d(p);l.call(this,p),u.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||a.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),d.prototype._destroy=function(p,v){this.push(null),this.end(),a.nextTick(v,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=o;var a=r("./_stream_transform"),s=Object.create(r("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);a.call(this,l)}s.inherits=r("inherits"),s.inherits(o,a),o.prototype._transform=function(l,u,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(a,s){(function(){var o=r("process-nextick-args");n.exports=O;var l,u=r("isarray");O.ReadableState=C,r("events").EventEmitter;var c=function($,R){return $.listeners(R).length},f=r("./internal/streams/stream"),h=r("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m=Object.create(r("core-util-is"));m.inherits=r("inherits");var g=r("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var v,y=r("./internal/streams/BufferList"),b=r("./internal/streams/destroy");m.inherits(O,f);var x=["error","close","destroy","pause","resume"];function C($,R){$=$||{};var H=R instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!$.objectMode,H&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var K=$.highWaterMark,J=$.readableHighWaterMark,V=this.objectMode?16:16384;this.highWaterMark=K||K===0?K:H&&(J||J===0)?J:V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(v||(v=r("string_decoder/").StringDecoder),this.decoder=new v($.encoding),this.encoding=$.encoding)}function O($){if(l=l||r("./_stream_duplex"),!(this instanceof O))return new O($);this._readableState=new C($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),f.call(this)}function I($,R,H,K,J){var V,Z=$._readableState;return R===null?(Z.reading=!1,function(z,D){if(!D.ended){if(D.decoder){var G=D.decoder.end();G&&G.length&&(D.buffer.push(G),D.length+=D.objectMode?1:G.length)}D.ended=!0,B(z)}}($,Z)):(J||(V=function(z,D){var G;te=D,h.isBuffer(te)||te instanceof d||typeof D=="string"||D===void 0||z.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var te;return G}(Z,R)),V?$.emit("error",V):Z.objectMode||R&&R.length>0?(typeof R=="string"||Z.objectMode||Object.getPrototypeOf(R)===h.prototype||(R=function(z){return h.from(z)}(R)),K?Z.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):T($,Z,R,!0):Z.ended?$.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!H?(R=Z.decoder.write(R),Z.objectMode||R.length!==0?T($,Z,R,!1):P($,Z)):T($,Z,R,!1))):K||(Z.reading=!1)),function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}(Z)}function T($,R,H,K){R.flowing&&R.length===0&&!R.sync?($.emit("data",H),$.read(0)):(R.length+=R.objectMode?1:H.length,K?R.buffer.unshift(H):R.buffer.push(H),R.needReadable&&B($)),P($,R)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),O.prototype.destroy=b.destroy,O.prototype._undestroy=b.undestroy,O.prototype._destroy=function($,R){this.push(null),R($)},O.prototype.push=function($,R){var H,K=this._readableState;return K.objectMode?H=!0:typeof $=="string"&&((R=R||K.defaultEncoding)!==K.encoding&&($=h.from($,R),R=""),H=!0),I(this,$,R,!1,H)},O.prototype.unshift=function($){return I(this,$,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function($){return v||(v=r("string_decoder/").StringDecoder),this._readableState.decoder=new v($),this._readableState.encoding=$,this};function M($,R){return $<=0||R.length===0&&R.ended?0:R.objectMode?1:$!=$?R.flowing&&R.length?R.buffer.head.data.length:R.length:($>R.highWaterMark&&(R.highWaterMark=function(H){return H>=8388608?H=8388608:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}($)),$<=R.length?$:R.ended?R.length:(R.needReadable=!0,0))}function B($){var R=$._readableState;R.needReadable=!1,R.emittedReadable||(p("emitReadable",R.flowing),R.emittedReadable=!0,R.sync?o.nextTick(L,$):L($))}function L($){p("emit readable"),$.emit("readable"),w($)}function P($,R){R.readingMore||(R.readingMore=!0,o.nextTick(A,$,R))}function A($,R){for(var H=R.length;!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark&&(p("maybeReadMore read 0"),$.read(0),H!==R.length);)H=R.length;R.readingMore=!1}function j($){p("readable nexttick read 0"),$.read(0)}function E($,R){R.reading||(p("resume read 0"),$.read(0)),R.resumeScheduled=!1,R.awaitDrain=0,$.emit("resume"),w($),R.flowing&&!R.reading&&$.read(0)}function w($){var R=$._readableState;for(p("flow",R.flowing);R.flowing&&$.read()!==null;);}function S($,R){return R.length===0?null:(R.objectMode?H=R.buffer.shift():!$||$>=R.length?(H=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.head.data:R.buffer.concat(R.length),R.buffer.clear()):H=function(K,J,V){var Z;return K<J.head.data.length?(Z=J.head.data.slice(0,K),J.head.data=J.head.data.slice(K)):Z=K===J.head.data.length?J.shift():V?function(z,D){var G=D.head,te=1,ae=G.data;for(z-=ae.length;G=G.next;){var se=G.data,le=z>se.length?se.length:z;if(le===se.length?ae+=se:ae+=se.slice(0,z),(z-=le)===0){le===se.length?(++te,G.next?D.head=G.next:D.head=D.tail=null):(D.head=G,G.data=se.slice(le));break}++te}return D.length-=te,ae}(K,J):function(z,D){var G=h.allocUnsafe(z),te=D.head,ae=1;for(te.data.copy(G),z-=te.data.length;te=te.next;){var se=te.data,le=z>se.length?se.length:z;if(se.copy(G,G.length-z,0,le),(z-=le)===0){le===se.length?(++ae,te.next?D.head=te.next:D.head=D.tail=null):(D.head=te,te.data=se.slice(le));break}++ae}return D.length-=ae,G}(K,J),Z}($,R.buffer,R.decoder),H);var H}function _($){var R=$._readableState;if(R.length>0)throw new Error('"endReadable()" called on non-empty stream');R.endEmitted||(R.ended=!0,o.nextTick(k,R,$))}function k($,R){$.endEmitted||$.length!==0||($.endEmitted=!0,R.readable=!1,R.emit("end"))}function N($,R){for(var H=0,K=$.length;H<K;H++)if($[H]===R)return H;return-1}O.prototype.read=function($){p("read",$),$=parseInt($,10);var R=this._readableState,H=$;if($!==0&&(R.emittedReadable=!1),$===0&&R.needReadable&&(R.length>=R.highWaterMark||R.ended))return p("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?_(this):B(this),null;if(($=M($,R))===0&&R.ended)return R.length===0&&_(this),null;var K,J=R.needReadable;return p("need readable",J),(R.length===0||R.length-$<R.highWaterMark)&&p("length less than watermark",J=!0),R.ended||R.reading?p("reading or ended",J=!1):J&&(p("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||($=M(H,R))),(K=$>0?S($,R):null)===null?(R.needReadable=!0,$=0):R.length-=$,R.length===0&&(R.ended||(R.needReadable=!0),H!==$&&R.ended&&_(this)),K!==null&&this.emit("data",K),K},O.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function($,R){var H=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=$;break;case 1:K.pipes=[K.pipes,$];break;default:K.pipes.push($)}K.pipesCount+=1,p("pipe count=%d opts=%j",K.pipesCount,R);var J=(!R||R.end!==!1)&&$!==a.stdout&&$!==a.stderr?Z:fe;function V(ie,oe){p("onunpipe"),ie===H&&oe&&oe.hasUnpiped===!1&&(oe.hasUnpiped=!0,p("cleanup"),$.removeListener("close",se),$.removeListener("finish",le),$.removeListener("drain",z),$.removeListener("error",ae),$.removeListener("unpipe",V),H.removeListener("end",Z),H.removeListener("end",fe),H.removeListener("data",te),D=!0,!K.awaitDrain||$._writableState&&!$._writableState.needDrain||z())}function Z(){p("onend"),$.end()}K.endEmitted?o.nextTick(J):H.once("end",J),$.on("unpipe",V);var z=function(ie){return function(){var oe=ie._readableState;p("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&c(ie,"data")&&(oe.flowing=!0,w(ie))}}(H);$.on("drain",z);var D=!1,G=!1;function te(ie){p("ondata"),G=!1,$.write(ie)!==!1||G||((K.pipesCount===1&&K.pipes===$||K.pipesCount>1&&N(K.pipes,$)!==-1)&&!D&&(p("false write response, pause",K.awaitDrain),K.awaitDrain++,G=!0),H.pause())}function ae(ie){p("onerror",ie),fe(),$.removeListener("error",ae),c($,"error")===0&&$.emit("error",ie)}function se(){$.removeListener("finish",le),fe()}function le(){p("onfinish"),$.removeListener("close",se),fe()}function fe(){p("unpipe"),H.unpipe($)}return H.on("data",te),function(ie,oe,be){if(typeof ie.prependListener=="function")return ie.prependListener(oe,be);ie._events&&ie._events[oe]?u(ie._events[oe])?ie._events[oe].unshift(be):ie._events[oe]=[be,ie._events[oe]]:ie.on(oe,be)}($,"error",ae),$.once("close",se),$.once("finish",le),$.emit("pipe",H),K.flowing||(p("pipe resume"),H.resume()),$},O.prototype.unpipe=function($){var R=this._readableState,H={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return $&&$!==R.pipes||($||($=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,$&&$.emit("unpipe",this,H)),this;if(!$){var K=R.pipes,J=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var V=0;V<J;V++)K[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=N(R.pipes,$);return Z===-1||(R.pipes.splice(Z,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),$.emit("unpipe",this,H)),this},O.prototype.on=function($,R){var H=f.prototype.on.call(this,$,R);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var K=this._readableState;K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&B(this):o.nextTick(j,this))}return H},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var $=this._readableState;return $.flowing||(p("resume"),$.flowing=!0,function(R,H){H.resumeScheduled||(H.resumeScheduled=!0,o.nextTick(E,R,H))}(this,$)),this},O.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function($){var R=this,H=this._readableState,K=!1;for(var J in $.on("end",function(){if(p("wrapped end"),H.decoder&&!H.ended){var Z=H.decoder.end();Z&&Z.length&&R.push(Z)}R.push(null)}),$.on("data",function(Z){p("wrapped data"),H.decoder&&(Z=H.decoder.write(Z)),H.objectMode&&Z==null||(H.objectMode||Z&&Z.length)&&(R.push(Z)||(K=!0,$.pause()))}),$)this[J]===void 0&&typeof $[J]=="function"&&(this[J]=function(Z){return function(){return $[Z].apply($,arguments)}}(J));for(var V=0;V<x.length;V++)$.on(x[V],this.emit.bind(this,x[V]));return this._read=function(Z){p("wrapped _read",Z),K&&(K=!1,$.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=S}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var a=r("./_stream_duplex"),s=Object.create(r("core-util-is"));function o(f,h){var d=this._transformState;d.transforming=!1;var m=d.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);a.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"?this._flush(function(h,d){c(f,h,d)}):c(this,null,null)}function c(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=r("inherits"),s.inherits(l,a),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,d){var m=this._transformState;if(m.writecb=d,m.writechunk=f,m.writeencoding=h,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var d=this;a.prototype._destroy.call(this,f,function(m){h(m),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(a,s,o){(function(){var l=r("process-nextick-args");function u(P){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(j,E,w){var S=j.entry;for(j.entry=null;S;){var _=S.callback;E.pendingcb--,_(w),S=S.next}E.corkedRequestsFree.next=j})(A,P)}}n.exports=C;var c,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?o:l.nextTick;C.WritableState=x;var h=Object.create(r("core-util-is"));h.inherits=r("inherits");var d={deprecate:r("util-deprecate")},m=r("./internal/streams/stream"),g=r("safe-buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=r("./internal/streams/destroy");function b(){}function x(P,A){c=c||r("./_stream_duplex"),P=P||{};var j=A instanceof c;this.objectMode=!!P.objectMode,j&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var E=P.highWaterMark,w=P.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:j&&(w||w===0)?w:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=P.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(N,$){var R=N._writableState,H=R.sync,K=R.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(R),$)(function(V,Z,z,D,G){--Z.pendingcb,z?(l.nextTick(G,D),l.nextTick(L,V,Z),V._writableState.errorEmitted=!0,V.emit("error",D)):(G(D),V._writableState.errorEmitted=!0,V.emit("error",D),L(V,Z))})(N,R,H,$,K);else{var J=M(R);J||R.corked||R.bufferProcessing||!R.bufferedRequest||T(N,R),H?f(I,N,R,J,K):I(N,R,J,K)}})(A,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function C(P){if(c=c||r("./_stream_duplex"),!(v.call(C,this)||this instanceof c))return new C(P);this._writableState=new x(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),m.call(this)}function O(P,A,j,E,w,S,_){A.writelen=E,A.writecb=_,A.writing=!0,A.sync=!0,j?P._writev(w,A.onwrite):P._write(w,S,A.onwrite),A.sync=!1}function I(P,A,j,E){j||function(w,S){S.length===0&&S.needDrain&&(S.needDrain=!1,w.emit("drain"))}(P,A),A.pendingcb--,E(),L(P,A)}function T(P,A){A.bufferProcessing=!0;var j=A.bufferedRequest;if(P._writev&&j&&j.next){var E=A.bufferedRequestCount,w=new Array(E),S=A.corkedRequestsFree;S.entry=j;for(var _=0,k=!0;j;)w[_]=j,j.isBuf||(k=!1),j=j.next,_+=1;w.allBuffers=k,O(P,A,!0,A.length,w,"",S.finish),A.pendingcb++,A.lastBufferedRequest=null,S.next?(A.corkedRequestsFree=S.next,S.next=null):A.corkedRequestsFree=new u(A),A.bufferedRequestCount=0}else{for(;j;){var N=j.chunk,$=j.encoding,R=j.callback;if(O(P,A,!1,A.objectMode?1:N.length,N,$,R),j=j.next,A.bufferedRequestCount--,A.writing)break}j===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=j,A.bufferProcessing=!1}function M(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function B(P,A){P._final(function(j){A.pendingcb--,j&&P.emit("error",j),A.prefinished=!0,P.emit("prefinish"),L(P,A)})}function L(P,A){var j=M(A);return j&&(function(E,w){w.prefinished||w.finalCalled||(typeof E._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(B,E,w)):(w.prefinished=!0,E.emit("prefinish")))}(P,A),A.pendingcb===0&&(A.finished=!0,P.emit("finish"))),j}h.inherits(C,m),x.prototype.getBuffer=function(){for(var P=this.bufferedRequest,A=[];P;)A.push(P),P=P.next;return A},function(){try{Object.defineProperty(x.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(P){return!!v.call(this,P)||this===C&&P&&P._writableState instanceof x}})):v=function(P){return P instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(P,A,j){var E,w=this._writableState,S=!1,_=!w.objectMode&&(E=P,g.isBuffer(E)||E instanceof p);return _&&!g.isBuffer(P)&&(P=function(k){return g.from(k)}(P)),typeof A=="function"&&(j=A,A=null),_?A="buffer":A||(A=w.defaultEncoding),typeof j!="function"&&(j=b),w.ended?function(k,N){var $=new Error("write after end");k.emit("error",$),l.nextTick(N,$)}(this,j):(_||function(k,N,$,R){var H=!0,K=!1;return $===null?K=new TypeError("May not write null values to stream"):typeof $=="string"||$===void 0||N.objectMode||(K=new TypeError("Invalid non-string/buffer chunk")),K&&(k.emit("error",K),l.nextTick(R,K),H=!1),H}(this,w,P,j))&&(w.pendingcb++,S=function(k,N,$,R,H,K){if(!$){var J=function(D,G,te){return D.objectMode||D.decodeStrings===!1||typeof G!="string"||(G=g.from(G,te)),G}(N,R,H);R!==J&&($=!0,H="buffer",R=J)}var V=N.objectMode?1:R.length;N.length+=V;var Z=N.length<N.highWaterMark;if(Z||(N.needDrain=!0),N.writing||N.corked){var z=N.lastBufferedRequest;N.lastBufferedRequest={chunk:R,encoding:H,isBuf:$,callback:K,next:null},z?z.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else O(k,N,!1,V,R,H,K);return Z}(this,w,_,P,A,j)),S},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||T(this,P))},C.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(P,A,j){j(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(P,A,j){var E=this._writableState;typeof P=="function"?(j=P,P=null,A=null):typeof A=="function"&&(j=A,A=null),P!=null&&this.write(P,A),E.corked&&(E.corked=1,this.uncork()),E.ending||function(w,S,_){S.ending=!0,L(w,S),_&&(S.finished?l.nextTick(_):w.once("finish",_)),S.ended=!0,w.writable=!1}(this,E,j)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),C.prototype.destroy=y.destroy,C.prototype._undestroy=y.undestroy,C.prototype._destroy=function(P,A){this.end(),A(P)}}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var a=r("safe-buffer").Buffer,s=r("util");n.exports=function(){function o(){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},o.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,c=""+u.data;u=u.next;)c+=l+u.data;return c},o.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var u,c,f,h=a.allocUnsafe(l>>>0),d=this.head,m=0;d;)u=d.data,c=h,f=m,u.copy(c,f),m+=d.data.length,d=d.next;return h},o}(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var o=s.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var a=r("process-nextick-args");function s(o,l){o.emit("error",l)}n.exports={destroy:function(o,l){var u=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,o)):a.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,a.nextTick(s,u,h)):a.nextTick(s,u,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(a,s){(function(){var o=r("process/browser.js").nextTick,l=Function.prototype.apply,u=Array.prototype.slice,c={},f=0;function h(d,m){this._id=d,this._clearFn=m}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,m){clearTimeout(d._idleTimeoutId),d._idleTimeout=m},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var m=d._idleTimeout;m>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},m))},i.setImmediate=typeof a=="function"?a:function(d){var m=f++,g=!(arguments.length<2)&&u.call(arguments,1);return c[m]=!0,o(function(){c[m]&&(g?d.apply(null,g):d.call(null),i.clearImmediate(m))}),m},i.clearImmediate=typeof s=="function"?s:function(d){delete c[d]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(a){(function(){function s(o){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(o,l){if(s("noDeprecation"))return o;var u=!1;return function(){if(!u){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),u=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var o=function(){};o.prototype=s.prototype,a.prototype=new o,a.prototype.constructor=a}},{}],526:[function(r,n,i){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(r,n,i){(function(a,s){(function(){var o=/%[sdj%]/g;i.format=function(w){if(!x(w)){for(var S=[],_=0;_<arguments.length;_++)S.push(c(arguments[_]));return S.join(" ")}_=1;for(var k=arguments,N=k.length,$=String(w).replace(o,function(H){if(H==="%%")return"%";if(_>=N)return H;switch(H){case"%s":return String(k[_++]);case"%d":return Number(k[_++]);case"%j":try{return JSON.stringify(k[_++])}catch{return"[Circular]"}default:return H}}),R=k[_];_<N;R=k[++_])y(R)||!I(R)?$+=" "+R:$+=" "+c(R);return $},i.deprecate=function(w,S){if(C(s.process))return function(){return i.deprecate(w,S).apply(this,arguments)};if(a.noDeprecation===!0)return w;var _=!1;return function(){if(!_){if(a.throwDeprecation)throw new Error(S);a.traceDeprecation?console.trace(S):console.error(S),_=!0}return w.apply(this,arguments)}};var l,u={};function c(w,S){var _={seen:[],stylize:h};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),v(S)?_.showHidden=S:S&&i._extend(_,S),C(_.showHidden)&&(_.showHidden=!1),C(_.depth)&&(_.depth=2),C(_.colors)&&(_.colors=!1),C(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=f),d(_,w,_.depth)}function f(w,S){var _=c.styles[S];return _?"\x1B["+c.colors[_][0]+"m"+w+"\x1B["+c.colors[_][1]+"m":w}function h(w,S){return w}function d(w,S,_){if(w.customInspect&&S&&B(S.inspect)&&S.inspect!==i.inspect&&(!S.constructor||S.constructor.prototype!==S)){var k=S.inspect(_,w);return x(k)||(k=d(w,k,_)),k}var N=function(z,D){if(C(D))return z.stylize("undefined","undefined");if(x(D)){var G="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(G,"string")}if(b(D))return z.stylize(""+D,"number");if(v(D))return z.stylize(""+D,"boolean");if(y(D))return z.stylize("null","null")}(w,S);if(N)return N;var $=Object.keys(S),R=function(z){var D={};return z.forEach(function(G,te){D[G]=!0}),D}($);if(w.showHidden&&($=Object.getOwnPropertyNames(S)),M(S)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return m(S);if($.length===0){if(B(S)){var H=S.name?": "+S.name:"";return w.stylize("[Function"+H+"]","special")}if(O(S))return w.stylize(RegExp.prototype.toString.call(S),"regexp");if(T(S))return w.stylize(Date.prototype.toString.call(S),"date");if(M(S))return m(S)}var K,J="",V=!1,Z=["{","}"];return p(S)&&(V=!0,Z=["[","]"]),B(S)&&(J=" [Function"+(S.name?": "+S.name:"")+"]"),O(S)&&(J=" "+RegExp.prototype.toString.call(S)),T(S)&&(J=" "+Date.prototype.toUTCString.call(S)),M(S)&&(J=" "+m(S)),$.length!==0||V&&S.length!=0?_<0?O(S)?w.stylize(RegExp.prototype.toString.call(S),"regexp"):w.stylize("[Object]","special"):(w.seen.push(S),K=V?function(z,D,G,te,ae){for(var se=[],le=0,fe=D.length;le<fe;++le)E(D,String(le))?se.push(g(z,D,G,te,String(le),!0)):se.push("");return ae.forEach(function(ie){ie.match(/^\d+$/)||se.push(g(z,D,G,te,ie,!0))}),se}(w,S,_,R,$):$.map(function(z){return g(w,S,_,R,z,V)}),w.seen.pop(),function(z,D,G){return z.reduce(function(te,ae){return ae.indexOf(`
`)>=0,te+ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+(D===""?"":D+`
 `)+" "+z.join(`,
  `)+" "+G[1]:G[0]+D+" "+z.join(", ")+" "+G[1]}(K,J,Z)):Z[0]+J+Z[1]}function m(w){return"["+Error.prototype.toString.call(w)+"]"}function g(w,S,_,k,N,$){var R,H,K;if((K=Object.getOwnPropertyDescriptor(S,N)||{value:S[N]}).get?H=K.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):K.set&&(H=w.stylize("[Setter]","special")),E(k,N)||(R="["+N+"]"),H||(w.seen.indexOf(K.value)<0?(H=y(_)?d(w,K.value,null):d(w,K.value,_-1)).indexOf(`
`)>-1&&(H=$?H.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+H.split(`
`).map(function(J){return"   "+J}).join(`
`)):H=w.stylize("[Circular]","special")),C(R)){if($&&N.match(/^\d+$/))return H;(R=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.substr(1,R.length-2),R=w.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=w.stylize(R,"string"))}return R+": "+H}function p(w){return Array.isArray(w)}function v(w){return typeof w=="boolean"}function y(w){return w===null}function b(w){return typeof w=="number"}function x(w){return typeof w=="string"}function C(w){return w===void 0}function O(w){return I(w)&&L(w)==="[object RegExp]"}function I(w){return typeof w=="object"&&w!==null}function T(w){return I(w)&&L(w)==="[object Date]"}function M(w){return I(w)&&(L(w)==="[object Error]"||w instanceof Error)}function B(w){return typeof w=="function"}function L(w){return Object.prototype.toString.call(w)}function P(w){return w<10?"0"+w.toString(10):w.toString(10)}i.debuglog=function(w){if(C(l)&&(l=a.env.NODE_DEBUG||""),w=w.toUpperCase(),!u[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var S=a.pid;u[w]=function(){var _=i.format.apply(i,arguments);console.error("%s %d: %s",w,S,_)}}else u[w]=function(){};return u[w]},i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=v,i.isNull=y,i.isNullOrUndefined=function(w){return w==null},i.isNumber=b,i.isString=x,i.isSymbol=function(w){return typeof w=="symbol"},i.isUndefined=C,i.isRegExp=O,i.isObject=I,i.isDate=T,i.isError=M,i.isFunction=B,i.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},i.isBuffer=r("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var w=new Date,S=[P(w.getHours()),P(w.getMinutes()),P(w.getSeconds())].join(":");return[w.getDate(),A[w.getMonth()],S].join(" ")}function E(w,S){return Object.prototype.hasOwnProperty.call(w,S)}i.log=function(){console.log("%s - %s",j(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(w,S){if(!S||!I(S))return w;for(var _=Object.keys(S),k=_.length;k--;)w[_[k]]=S[_[k]];return w}}).call(this)}).call(this,r("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var a=m(r("./v1.js")),s=m(r("./v3.js")),o=m(r("./v4.js")),l=m(r("./v5.js")),u=m(r("./nil.js")),c=m(r("./version.js")),f=m(r("./validate.js")),h=m(r("./stringify.js")),d=m(r("./parse.js"));function m(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function a(d){return 14+(d+64>>>9<<4)+1}function s(d,m){const g=(65535&d)+(65535&m);return(d>>16)+(m>>16)+(g>>16)<<16|65535&g}function o(d,m,g,p,v,y){return s((b=s(s(m,d),s(p,y)))<<(x=v)|b>>>32-x,g);var b,x}function l(d,m,g,p,v,y,b){return o(m&g|~m&p,d,m,v,y,b)}function u(d,m,g,p,v,y,b){return o(m&p|g&~p,d,m,v,y,b)}function c(d,m,g,p,v,y,b){return o(m^g^p,d,m,v,y,b)}function f(d,m,g,p,v,y,b){return o(g^(m|~p),d,m,v,y,b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(d){if(typeof d=="string"){const m=unescape(encodeURIComponent(d));d=new Uint8Array(m.length);for(let g=0;g<m.length;++g)d[g]=m.charCodeAt(g)}return function(m){const g=[],p=32*m.length;for(let v=0;v<p;v+=8){const y=m[v>>5]>>>v%32&255,b=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(b)}return g}(function(m,g){m[g>>5]|=128<<g%32,m[a(g)-1]=g;let p=1732584193,v=-271733879,y=-1732584194,b=271733878;for(let x=0;x<m.length;x+=16){const C=p,O=v,I=y,T=b;p=l(p,v,y,b,m[x],7,-680876936),b=l(b,p,v,y,m[x+1],12,-389564586),y=l(y,b,p,v,m[x+2],17,606105819),v=l(v,y,b,p,m[x+3],22,-1044525330),p=l(p,v,y,b,m[x+4],7,-176418897),b=l(b,p,v,y,m[x+5],12,1200080426),y=l(y,b,p,v,m[x+6],17,-1473231341),v=l(v,y,b,p,m[x+7],22,-45705983),p=l(p,v,y,b,m[x+8],7,1770035416),b=l(b,p,v,y,m[x+9],12,-1958414417),y=l(y,b,p,v,m[x+10],17,-42063),v=l(v,y,b,p,m[x+11],22,-1990404162),p=l(p,v,y,b,m[x+12],7,1804603682),b=l(b,p,v,y,m[x+13],12,-40341101),y=l(y,b,p,v,m[x+14],17,-1502002290),v=l(v,y,b,p,m[x+15],22,1236535329),p=u(p,v,y,b,m[x+1],5,-165796510),b=u(b,p,v,y,m[x+6],9,-1069501632),y=u(y,b,p,v,m[x+11],14,643717713),v=u(v,y,b,p,m[x],20,-373897302),p=u(p,v,y,b,m[x+5],5,-701558691),b=u(b,p,v,y,m[x+10],9,38016083),y=u(y,b,p,v,m[x+15],14,-660478335),v=u(v,y,b,p,m[x+4],20,-405537848),p=u(p,v,y,b,m[x+9],5,568446438),b=u(b,p,v,y,m[x+14],9,-1019803690),y=u(y,b,p,v,m[x+3],14,-187363961),v=u(v,y,b,p,m[x+8],20,1163531501),p=u(p,v,y,b,m[x+13],5,-1444681467),b=u(b,p,v,y,m[x+2],9,-51403784),y=u(y,b,p,v,m[x+7],14,1735328473),v=u(v,y,b,p,m[x+12],20,-1926607734),p=c(p,v,y,b,m[x+5],4,-378558),b=c(b,p,v,y,m[x+8],11,-2022574463),y=c(y,b,p,v,m[x+11],16,1839030562),v=c(v,y,b,p,m[x+14],23,-35309556),p=c(p,v,y,b,m[x+1],4,-1530992060),b=c(b,p,v,y,m[x+4],11,1272893353),y=c(y,b,p,v,m[x+7],16,-155497632),v=c(v,y,b,p,m[x+10],23,-1094730640),p=c(p,v,y,b,m[x+13],4,681279174),b=c(b,p,v,y,m[x],11,-358537222),y=c(y,b,p,v,m[x+3],16,-722521979),v=c(v,y,b,p,m[x+6],23,76029189),p=c(p,v,y,b,m[x+9],4,-640364487),b=c(b,p,v,y,m[x+12],11,-421815835),y=c(y,b,p,v,m[x+15],16,530742520),v=c(v,y,b,p,m[x+2],23,-995338651),p=f(p,v,y,b,m[x],6,-198630844),b=f(b,p,v,y,m[x+7],10,1126891415),y=f(y,b,p,v,m[x+14],15,-1416354905),v=f(v,y,b,p,m[x+5],21,-57434055),p=f(p,v,y,b,m[x+12],6,1700485571),b=f(b,p,v,y,m[x+3],10,-1894986606),y=f(y,b,p,v,m[x+10],15,-1051523),v=f(v,y,b,p,m[x+1],21,-2054922799),p=f(p,v,y,b,m[x+8],6,1873313359),b=f(b,p,v,y,m[x+15],10,-30611744),y=f(y,b,p,v,m[x+6],15,-1560198380),v=f(v,y,b,p,m[x+13],21,1309151649),p=f(p,v,y,b,m[x+4],6,-145523070),b=f(b,p,v,y,m[x+11],10,-1120210379),y=f(y,b,p,v,m[x+2],15,718787259),v=f(v,y,b,p,m[x+9],21,-343485551),p=s(p,C),v=s(v,O),y=s(y,I),b=s(b,T)}return[p,v,y,b]}(function(m){if(m.length===0)return[];const g=8*m.length,p=new Uint32Array(a(g));for(let v=0;v<g;v+=8)p[v>>5]|=(255&m[v/8])<<v%32;return p}(d),8*d.length))};i.default=h},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=r("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let u;const c=new Uint8Array(16);return c[0]=(u=parseInt(l.slice(0,8),16))>>>24,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c[4]=(u=parseInt(l.slice(9,13),16))>>>8,c[5]=255&u,c[6]=(u=parseInt(l.slice(14,18),16))>>>8,c[7]=255&u,c[8]=(u=parseInt(l.slice(19,23),16))>>>8,c[9]=255&u,c[10]=(u=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=u/4294967296&255,c[12]=u>>>24&255,c[13]=u>>>16&255,c[14]=u>>>8&255,c[15]=255&u,c};i.default=o},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(r,n,i){function a(l,u,c,f){switch(l){case 0:return u&c^~u&f;case 1:return u^c^f;case 2:return u&c^u&f^c&f;case 3:return u^c^f}}function s(l,u){return l<<u|l>>>32-u}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=function(l){const u=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const m=unescape(encodeURIComponent(l));l=[];for(let g=0;g<m.length;++g)l.push(m.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let m=0;m<h;++m){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=l[64*m+4*p]<<24|l[64*m+4*p+1]<<16|l[64*m+4*p+2]<<8|l[64*m+4*p+3];d[m]=g}d[h-1][14]=8*(l.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(l.length-1)&4294967295;for(let m=0;m<h;++m){const g=new Uint32Array(80);for(let C=0;C<16;++C)g[C]=d[m][C];for(let C=16;C<80;++C)g[C]=s(g[C-3]^g[C-8]^g[C-14]^g[C-16],1);let p=c[0],v=c[1],y=c[2],b=c[3],x=c[4];for(let C=0;C<80;++C){const O=Math.floor(C/20),I=s(p,5)+a(O,v,y,b)+x+u[O]+g[C]>>>0;x=b,b=y,y=s(v,30)>>>0,v=p,p=I}c[0]=c[0]+p>>>0,c[1]=c[1]+v>>>0,c[2]=c[2]+y>>>0,c[3]=c[3]+b>>>0,c[4]=c[4]+x>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};i.default=o},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=r("./validate.js"))&&a.__esModule?a:{default:a};const o=[];for(let u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var l=function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(o[u[c+0]]+o[u[c+1]]+o[u[c+2]]+o[u[c+3]]+"-"+o[u[c+4]]+o[u[c+5]]+"-"+o[u[c+6]]+o[u[c+7]]+"-"+o[u[c+8]]+o[u[c+9]]+"-"+o[u[c+10]]+o[u[c+11]]+o[u[c+12]]+o[u[c+13]]+o[u[c+14]]+o[u[c+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(r("./rng.js")),s=o(r("./stringify.js"));function o(d){return d&&d.__esModule?d:{default:d}}let l,u,c=0,f=0;var h=function(d,m,g){let p=m&&g||0;const v=m||new Array(16);let y=(d=d||{}).node||l,b=d.clockseq!==void 0?d.clockseq:u;if(y==null||b==null){const M=d.random||(d.rng||a.default)();y==null&&(y=l=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),b==null&&(b=u=16383&(M[6]<<8|M[7]))}let x=d.msecs!==void 0?d.msecs:Date.now(),C=d.nsecs!==void 0?d.nsecs:f+1;const O=x-c+(C-f)/1e4;if(O<0&&d.clockseq===void 0&&(b=b+1&16383),(O<0||x>c)&&d.nsecs===void 0&&(C=0),C>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=x,f=C,u=b,x+=122192928e5;const I=(1e4*(268435455&x)+C)%4294967296;v[p++]=I>>>24&255,v[p++]=I>>>16&255,v[p++]=I>>>8&255,v[p++]=255&I;const T=x/4294967296*1e4&268435455;v[p++]=T>>>8&255,v[p++]=255&T,v[p++]=T>>>24&15|16,v[p++]=T>>>16&255,v[p++]=b>>>8|128,v[p++]=255&b;for(let M=0;M<6;++M)v[p+M]=y[M];return m||(0,s.default)(v)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(r("./v35.js")),s=o(r("./md5.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v3",48,s.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,f,h){function d(m,g,p,v){if(typeof m=="string"&&(m=function(b){b=unescape(encodeURIComponent(b));const x=[];for(let C=0;C<b.length;++C)x.push(b.charCodeAt(C));return x}(m)),typeof g=="string"&&(g=(0,s.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+m.length);if(y.set(g),y.set(m,g.length),y=h(y),y[6]=15&y[6]|f,y[8]=63&y[8]|128,p){v=v||0;for(let b=0;b<16;++b)p[v+b]=y[b];return p}return(0,a.default)(y)}try{d.name=c}catch{}return d.DNS=l,d.URL=u,d},i.URL=i.DNS=void 0;var a=o(r("./stringify.js")),s=o(r("./parse.js"));function o(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=u},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(r("./rng.js")),s=o(r("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=function(u,c,f){const h=(u=u||{}).random||(u.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,c){f=f||0;for(let d=0;d<16;++d)c[f+d]=h[d];return c}return(0,s.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=o(r("./v35.js")),s=o(r("./sha1.js"));function o(u){return u&&u.__esModule?u:{default:u}}var l=(0,a.default)("v5",80,s.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=r("./regex.js"))&&a.__esModule?a:{default:a},o=function(l){return typeof l=="string"&&s.default.test(l)};i.default=o},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=r("./validate.js"))&&a.__esModule?a:{default:a},o=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=o},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(BM);var cee=BM.exports;const w6=yo(cee);function fee({isOpen:e,onClose:t,onImport:r}){const[n,i]=Y.useState(null),[a,s]=Y.useState([]),[o,l]=Y.useState(!1),[u,c]=Y.useState(!1),[f,h]=Y.useState(null),d=Y.useRef(null),m=async b=>{l(!0),h(null);try{const x=await b.arrayBuffer(),C=new w6.Workbook;await C.xlsx.load(x);const O=C.worksheets[0];if(!O)throw new Error("No se encontr ninguna hoja en el archivo");const I=[];O.getRow(1).eachCell((M,B)=>{I[B]=String(M.value||"").trim()});const T=[];O.eachRow((M,B)=>{if(B===1)return;const L={};M.eachCell((A,j)=>{const E=I[j];E&&(L[E]=A.value)});const P={codigoSAP:String(L["Cdigo SAP"]||L["CODIGO SAP"]||L.Material||""),textoBreve:String(L["Texto Breve"]||L["TEXTO BREVE"]||L.Descripcin||L.Descripcion||""),codigoBaader:String(L["Cdigo Baader"]||L["CODIGO BAADER"]||L["Cdigo proveedor"]||L["N Parte"]||""),cantidadSolicitada:Number(L.Cantidad||L["Cant."]||L["Cantidad Solicitada"]||0),valorUnitario:Number(L["Valor Unitario"]||L.Precio||L["Valor Unit."]||L.USD||0),cantidadStockBodega:Number(L.Stock||L["Stock Bodega"]||0)};(P.codigoSAP||P.codigoBaader)&&T.push(P)}),s(T),i(b)}catch(x){console.error("Error al parsear Excel:",x),h("Error al leer el archivo Excel. Verifica que el formato sea correcto.")}finally{l(!1)}},g=b=>{var C;const x=(C=b.target.files)==null?void 0:C[0];x&&m(x)},p=b=>{b.preventDefault();const x=b.dataTransfer.files[0];x&&(x.name.endsWith(".xlsx")||x.name.endsWith(".xls"))?m(x):h("Por favor selecciona un archivo Excel (.xlsx o .xls)")},v=async()=>{if(a.length!==0){c(!0);try{await r(a),t(),i(null),s([])}catch{h("Error al importar los datos")}finally{c(!1)}}},y=()=>{i(null),s([]),h(null),d.current&&(d.current.value="")};return q.jsx(N0,{isOpen:e,onClose:t,title:"Importar Repuestos desde Excel",size:"xl",children:q.jsxs("div",{className:"space-y-6",children:[!n&&q.jsxs("div",{onDrop:p,onDragOver:b=>b.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var b;return(b=d.current)==null?void 0:b.click()},children:[q.jsx("input",{ref:d,type:"file",accept:".xlsx,.xls",onChange:g,className:"hidden"}),o?q.jsx(Cl,{className:"w-12 h-12 mx-auto text-primary-600 animate-spin"}):q.jsxs(q.Fragment,{children:[q.jsx(X1,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),q.jsx("p",{className:"text-gray-600 mb-2",children:"Arrastra tu archivo Excel aqu o haz clic para seleccionar"}),q.jsx("p",{className:"text-sm text-gray-400",children:"Formatos aceptados: .xlsx, .xls"})]})]}),f&&q.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[q.jsx(wM,{className:"w-5 h-5 flex-shrink-0"}),q.jsx("p",{children:f})]}),a.length>0&&q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[q.jsx(qv,{className:"w-5 h-5"}),q.jsxs("span",{className:"font-medium",children:[a.length," repuestos encontrados"]})]}),q.jsx(Fa,{variant:"ghost",size:"sm",onClick:y,children:"Cambiar archivo"})]}),q.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-200 rounded-lg",children:[q.jsxs("table",{className:"w-full text-sm",children:[q.jsx("thead",{className:"bg-gray-50 sticky top-0",children:q.jsxs("tr",{children:[q.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"SAP"}),q.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Baader"}),q.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Descripcin"}),q.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Cant."}),q.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"USD"})]})}),q.jsx("tbody",{children:a.slice(0,20).map((b,x)=>q.jsxs("tr",{className:"border-t border-gray-100",children:[q.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:b.codigoSAP}),q.jsx("td",{className:"px-3 py-2 font-mono text-xs text-primary-600",children:b.codigoBaader}),q.jsx("td",{className:"px-3 py-2 truncate max-w-[200px]",children:b.textoBreve}),q.jsx("td",{className:"px-3 py-2 text-right",children:b.cantidadSolicitada}),q.jsxs("td",{className:"px-3 py-2 text-right",children:["$",b.valorUnitario.toFixed(2)]})]},x))})]}),a.length>20&&q.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50 border-t",children:["... y ",a.length-20," ms"]})]}),q.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[q.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Mapeo de columnas detectado:"}),q.jsxs("ul",{className:"text-blue-700 space-y-1",children:[q.jsx("li",{children:' Cdigo SAP: "Cdigo SAP", "Material"'}),q.jsx("li",{children:' Cdigo Baader: "Cdigo Baader", "Cdigo proveedor", "N Parte"'}),q.jsx("li",{children:' Descripcin: "Texto Breve", "Descripcin"'}),q.jsx("li",{children:' Cantidad: "Cantidad", "Cant."'}),q.jsx("li",{children:' Valor: "Valor Unitario", "Precio", "USD"'})]})]})]}),q.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[q.jsx(Fa,{variant:"secondary",onClick:t,children:"Cancelar"}),q.jsxs(Fa,{onClick:v,disabled:a.length===0,loading:u,icon:q.jsx(Kv,{className:"w-4 h-4"}),children:["Importar ",a.length," repuestos"]})]})]})})}const v7=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo","Repuestos varios","Preventivo mensual"];function hee({repuestos:e}){const[t,r]=Y.useState(null),[n,i]=Y.useState("valorTotal"),[a,s]=Y.useState("desc"),[o,l]=Y.useState(10),u=Y.useMemo(()=>t?e.filter(y=>{var b;return(b=y.tags)==null?void 0:b.includes(t)}):e,[e,t]),c=Y.useMemo(()=>{const y=u.reduce((P,A)=>P+(A.total||0),0),b=u.reduce((P,A)=>P+(A.cantidadSolicitada||0),0),x=u.reduce((P,A)=>P+(A.cantidadStockBodega||0),0),C=u.length>0?u.reduce((P,A)=>P+(A.valorUnitario||0),0)/u.length:0,O=Math.max(...u.map(P=>P.valorUnitario||0)),I=Math.min(...u.filter(P=>P.valorUnitario>0).map(P=>P.valorUnitario)),T=u.filter(P=>P.cantidadStockBodega>0).length,M=u.filter(P=>P.cantidadStockBodega===0).length,B=u.filter(P=>{var A,j;return(((A=P.imagenesManual)==null?void 0:A.length)||0)>0||(((j=P.fotosReales)==null?void 0:j.length)||0)>0}).length,L=u.filter(P=>{var A;return(((A=P.vinculosManual)==null?void 0:A.length)||0)>0}).length;return{totalSolicitado:y,totalUnidades:b,totalStock:x,promedioValorUnitario:C,maxValorUnitario:O,minValorUnitario:I,conStock:T,sinStock:M,conImagenes:B,conMarcador:L,total:u.length}},[u]),f=Y.useMemo(()=>{const y=new Map;return e.forEach(b=>{(b.tags||[]).forEach(x=>{const C=y.get(x)||{count:0,total:0,unidades:0};y.set(x,{count:C.count+1,total:C.total+(b.total||0),unidades:C.unidades+(b.cantidadSolicitada||0)})})}),Array.from(y.entries()).map(([b,x])=>({tag:b,...x})).sort((b,x)=>x.total-b.total)},[e]),h=Y.useMemo(()=>[...u].sort((b,x)=>{let C=0,O=0;switch(n){case"valorTotal":C=b.total||0,O=x.total||0;break;case"valorUnitario":C=b.valorUnitario||0,O=x.valorUnitario||0;break;case"cantidad":C=b.cantidadSolicitada||0,O=x.cantidadSolicitada||0;break;case"stock":C=b.cantidadStockBodega||0,O=x.cantidadStockBodega||0;break}return a==="desc"?O-C:C-O}).slice(0,o),[u,n,a,o]),d=Y.useMemo(()=>{const y=new Set;return e.forEach(b=>{var x;return(x=b.tags)==null?void 0:x.forEach(C=>y.add(C))}),[...v7,...Array.from(y).filter(b=>!v7.includes(b))]},[e]),m=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),g=y=>new Intl.NumberFormat("es-CL").format(y),p=(y,b)=>b>0?Math.max(5,y/b*100):0,v=Math.max(...h.map(y=>y.total||0));return q.jsxs("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[q.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:q.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:q.jsx(sd,{className:"w-6 h-6 text-primary-600"})}),q.jsxs("div",{children:[q.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Estadsticas"}),q.jsx("p",{className:"text-sm text-gray-500",children:t?`Filtrado: ${t}`:"Todos los repuestos"})]})]}),q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx(_M,{className:"w-4 h-4 text-gray-400"}),q.jsxs("select",{value:t||"",onChange:y=>r(y.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[q.jsx("option",{value:"",children:"Todos los tags"}),d.map(y=>q.jsx("option",{value:y,children:y},y))]}),t&&q.jsx("button",{onClick:()=>r(null),className:"p-2 text-gray-400 hover:text-gray-600",children:q.jsx(Pi,{className:"w-4 h-4"})})]})]})}),q.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[q.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:q.jsx(Vm,{className:"w-5 h-5 text-green-600"})}),q.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Solicitado"})]}),q.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m(c.totalSolicitado)}),q.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"})]}),q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[q.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:q.jsx(Tl,{className:"w-5 h-5 text-blue-600"})}),q.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unidades Solicitadas"})]}),q.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.totalUnidades)}),q.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.total," tems diferentes"]})]}),q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[q.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:q.jsx(qv,{className:"w-5 h-5 text-purple-600"})}),q.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Stock en Bodega"})]}),q.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.totalStock)}),q.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.conStock," tems con stock"]})]}),q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[q.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:q.jsx(Wv,{className:"w-5 h-5 text-amber-600"})}),q.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Promedio Unitario"})]}),q.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m(c.promedioValorUnitario)}),q.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Rango: ",m(c.minValorUnitario)," - ",m(c.maxValorUnitario)]})]})]}),q.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[q.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:q.jsx(qv,{className:"w-5 h-5 text-green-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conStock}),q.jsx("p",{className:"text-xs text-gray-500",children:"Con stock"})]})]}),q.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:q.jsx(wM,{className:"w-5 h-5 text-red-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.sinStock}),q.jsx("p",{className:"text-xs text-gray-500",children:"Sin stock"})]})]}),q.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:q.jsx(oQ,{className:"w-5 h-5 text-blue-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conImagenes}),q.jsx("p",{className:"text-xs text-gray-500",children:"Con imgenes"})]})]}),q.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:q.jsx(xM,{className:"w-5 h-5 text-amber-600"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conMarcador}),q.jsx("p",{className:"text-xs text-gray-500",children:"Marcados en PDF"})]})]})]}),f.length>0&&q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[q.jsx(gf,{className:"w-5 h-5 text-primary-600"}),q.jsx("h3",{className:"font-semibold text-gray-800",children:"Distribucin por Tags"})]}),q.jsx("div",{className:"space-y-3",children:f.map(({tag:y,count:b,total:x})=>{var C;return q.jsxs("div",{className:"group",children:[q.jsxs("div",{className:"flex items-center justify-between mb-1",children:[q.jsx("button",{onClick:()=>r(t===y?null:y),className:`text-sm font-medium hover:text-primary-600 transition-colors ${t===y?"text-primary-600":"text-gray-700"}`,children:y}),q.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[q.jsxs("span",{className:"text-gray-500",children:[b," tems"]}),q.jsx("span",{className:"font-semibold text-gray-900",children:m(x)})]})]}),q.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:q.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all group-hover:bg-primary-600",style:{width:`${p(x,((C=f[0])==null?void 0:C.total)||1)}%`}})})]},y)})})]}),q.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[q.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-4",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx(Wv,{className:"w-5 h-5 text-primary-600"}),q.jsx("h3",{className:"font-semibold text-gray-800",children:"Top Repuestos"})]}),q.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[q.jsxs("select",{value:n,onChange:y=>i(y.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[q.jsx("option",{value:"valorTotal",children:"Por Valor Total"}),q.jsx("option",{value:"valorUnitario",children:"Por Valor Unitario"}),q.jsx("option",{value:"cantidad",children:"Por Cantidad"}),q.jsx("option",{value:"stock",children:"Por Stock"})]}),q.jsx("button",{onClick:()=>s(a==="desc"?"asc":"desc"),className:`p-2 rounded-lg border border-gray-300 hover:bg-gray-50 ${a==="desc"?"text-primary-600":"text-gray-400"}`,title:a==="desc"?"Mayor a menor":"Menor a mayor",children:q.jsx(gM,{className:"w-4 h-4"})}),q.jsxs("select",{value:o,onChange:y=>l(Number(y.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[q.jsx("option",{value:5,children:"Top 5"}),q.jsx("option",{value:10,children:"Top 10"}),q.jsx("option",{value:20,children:"Top 20"}),q.jsx("option",{value:50,children:"Top 50"}),q.jsx("option",{value:9999,children:"Todos"})]})]})]}),q.jsx("div",{className:"space-y-3",children:h.map((y,b)=>{const x=n==="valorTotal"?y.total:n==="valorUnitario"?y.valorUnitario:n==="cantidad"?y.cantidadSolicitada:y.cantidadStockBodega;return q.jsxs("div",{className:"group",children:[q.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[q.jsx("span",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                      ${b<3?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-500"}
                    `,children:b+1}),q.jsx("div",{className:"flex-1 min-w-0",children:q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:y.codigoSAP}),q.jsx("span",{className:"text-sm text-gray-800 truncate",children:y.descripcion||y.textoBreve})]})}),q.jsxs("div",{className:"text-right",children:[q.jsx("p",{className:"text-sm font-bold text-gray-900",children:n==="cantidad"||n==="stock"?g(x||0):m(x||0)}),q.jsxs("p",{className:"text-xs text-gray-400",children:[n==="valorTotal"&&`${y.cantidadSolicitada} unid.`,n==="valorUnitario"&&`Total: ${m(y.total||0)}`,n==="cantidad"&&m(y.total||0),n==="stock"&&`Solicitado: ${y.cantidadSolicitada}`]})]})]}),q.jsx("div",{className:"ml-9 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:q.jsx("div",{className:`h-full rounded-full transition-all ${b===0?"bg-primary-600":b===1?"bg-primary-500":b===2?"bg-primary-400":"bg-primary-300"}`,style:{width:`${p(x||0,v)}%`}})})]},y.id)})})]}),q.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[q.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Resumen Rpido"}),q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[q.jsxs("div",{children:[q.jsx("p",{className:"text-primary-200",children:"Inversin total en repuestos"}),q.jsx("p",{className:"text-2xl font-bold",children:m(c.totalSolicitado)})]}),q.jsxs("div",{children:[q.jsx("p",{className:"text-primary-200",children:"Repuesto ms costoso (unit.)"}),q.jsx("p",{className:"text-2xl font-bold",children:m(c.maxValorUnitario)})]}),q.jsxs("div",{children:[q.jsx("p",{className:"text-primary-200",children:"Cobertura de stock"}),q.jsxs("p",{className:"text-2xl font-bold",children:[c.total>0?Math.round(c.conStock/c.total*100):0,"%"]})]})]})]})]})]})}function zM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=zM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=zM(e))&&(n&&(n+=" "),n+=t);return n}var dee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function x6(e){if(typeof e!="string")return!1;var t=dee;return t.includes(e)}var pee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mee=new Set(pee);function UM(e){return typeof e!="string"?!1:mee.has(e)}function VM(e){return typeof e=="string"&&e.startsWith("data-")}function hs(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UM(r)||VM(r))&&(t[r]=e[r]);return t}function Df(e){if(e==null)return null;if(Y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return hs(t)}return typeof e=="object"&&!Array.isArray(e)?hs(e):null}function Ca(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UM(r)||VM(r)||x6(r))&&(t[r]=e[r]);return t}function gee(e){return e==null?null:Y.isValidElement(e)?Ca(e.props):typeof e=="object"&&!Array.isArray(e)?Ca(e):null}var vee=["children","width","height","viewBox","className","style","title","desc"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function yee(e,t){if(e==null)return{};var r,n,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _6=Y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=yee(e,vee),f=a||{width:n,height:i,x:0,y:0},h=Dr("recharts-surface",s);return Y.createElement("svg",i_({},Ca(c),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),Y.createElement("title",null,l),Y.createElement("desc",null,u),r)}),wee=["children","className"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}function xee(e,t){if(e==null)return{};var r,n,i=_ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oi=Y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=xee(e,wee),a=Dr("recharts-layer",n);return Y.createElement("g",a_({className:a},Ca(i),{ref:t}),r)}),$M=Y.createContext(null),See=()=>Y.useContext($M);function fn(e){return function(){return e}}const qM=Math.cos,Gv=Math.sin,bo=Math.sqrt,Xv=Math.PI,Cb=2*Xv,s_=Math.PI,o_=2*s_,Qc=1e-6,kee=o_-Qc;function HM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Aee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Eee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HM:Aee(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,f=o-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Qc)if(!(Math.abs(f*l-u*c)>Qc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,m=i-o,g=l*l+u*u,p=d*d+m*m,v=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((s_-Math.acos((g+h-p)/(2*v*y)))/2),x=b/y,C=b/v;Math.abs(x-1)>Qc&&this._append`L${t+x*c},${r+x*f}`,this._append`A${a},${a},0,0,${+(f*d>c*m)},${this._x1=t+C*l},${this._y1=r+C*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qc||Math.abs(this._y1-c)>Qc)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%o_+o_),h>kee?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:h>Qc&&this._append`A${n},${n},0,${+(h>=s_)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function S6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Eee(t)}function k6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WM(e){this._context=e}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tb(e){return new WM(e)}function KM(e){return e[0]}function GM(e){return e[1]}function XM(e,t){var r=fn(!0),n=null,i=Tb,a=null,s=S6(o);e=typeof e=="function"?e:e===void 0?KM:fn(e),t=typeof t=="function"?t:t===void 0?GM:fn(t);function o(l){var u,c=(l=k6(l)).length,f,h=!1,d;for(n==null&&(a=i(d=s())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(d)return a=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:fn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:fn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:fn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function a1(e,t,r){var n=null,i=fn(!0),a=null,s=Tb,o=null,l=S6(u);e=typeof e=="function"?e:e===void 0?KM:fn(+e),t=typeof t=="function"?t:fn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?GM:fn(+r);function u(f){var h,d,m,g=(f=k6(f)).length,p,v=!1,y,b=new Array(g),x=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(p=f[h],h,f))===v)if(v=!v)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=d;--m)o.point(b[m],x[m]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+e(p,h,f),x[h]=+t(p,h,f),o.point(n?+n(p,h,f):b[h],r?+r(p,h,f):x[h]))}if(y)return o=null,y+""||null}function c(){return XM().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:fn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:fn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:fn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:fn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:fn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:fn(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:fn(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class YM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Cee(e){return new YM(e,!0)}function Tee(e){return new YM(e,!1)}const A6={draw(e,t){const r=bo(t/Xv);e.moveTo(r,0),e.arc(0,0,r,0,Cb)}},Pee={draw(e,t){const r=bo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ZM=bo(1/3),Nee=ZM*2,Iee={draw(e,t){const r=bo(t/Nee),n=r*ZM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Oee={draw(e,t){const r=bo(t),n=-r/2;e.rect(n,n,r,r)}},jee=.8908130915292852,QM=Gv(Xv/10)/Gv(7*Xv/10),Mee=Gv(Cb/10)*QM,Ree=-qM(Cb/10)*QM,Lee={draw(e,t){const r=bo(t*jee),n=Mee*r,i=Ree*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Cb*a/5,o=qM(s),l=Gv(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},Zw=bo(3),Dee={draw(e,t){const r=-bo(t/(Zw*3));e.moveTo(0,r*2),e.lineTo(-Zw*r,-r),e.lineTo(Zw*r,-r),e.closePath()}},Es=-.5,Cs=bo(3)/2,l_=1/bo(12),Fee=(l_/2+1)*3,Bee={draw(e,t){const r=bo(t/Fee),n=r/2,i=r*l_,a=n,s=r*l_+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Es*n-Cs*i,Cs*n+Es*i),e.lineTo(Es*a-Cs*s,Cs*a+Es*s),e.lineTo(Es*o-Cs*l,Cs*o+Es*l),e.lineTo(Es*n+Cs*i,Es*i-Cs*n),e.lineTo(Es*a+Cs*s,Es*s-Cs*a),e.lineTo(Es*o+Cs*l,Es*l-Cs*o),e.closePath()}};function zee(e,t){let r=null,n=S6(i);e=typeof e=="function"?e:fn(e||A6),t=typeof t=="function"?t:fn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:fn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:fn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Yv(){}function Zv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function JM(e){this._context=e}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uee(e){return new JM(e)}function eR(e){this._context=e}eR.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vee(e){return new eR(e)}function tR(e){this._context=e}tR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ee(e){return new tR(e)}function rR(e){this._context=e}rR.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qee(e){return new rR(e)}function y7(e){return e<0?-1:1}function b7(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(y7(a)+y7(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function w7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qw(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Qv(e){this._context=e}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qw(this,this._t0,w7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qw(this,w7(this,r=b7(this,e,t)),r);break;default:Qw(this,this._t0,r=b7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nR(e){this._context=new iR(e)}(nR.prototype=Object.create(Qv.prototype)).point=function(e,t){Qv.prototype.point.call(this,t,e)};function iR(e){this._context=e}iR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Hee(e){return new Qv(e)}function Wee(e){return new nR(e)}function aR(e){this._context=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=x7(e),i=x7(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x7(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kee(e){return new aR(e)}function Pb(e,t){this._context=e,this._t=t}Pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Gee(e){return new Pb(e,.5)}function Xee(e){return new Pb(e,0)}function Yee(e){return new Pb(e,1)}function Ff(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function u_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Zee(e,t){return e[t]}function Qee(e){const t=[];return t.key=e,t}function Jee(){var e=fn([]),t=u_,r=Ff,n=Zee;function i(a){var s=Array.from(e.apply(this,arguments),Qee),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,c=k6(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:fn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:fn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?u_:typeof a=="function"?a:fn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ff,i):r},i}function ete(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Ff(e,t)}}function tte(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ff(e,t)}}function rte(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[n][1]||0,h=c[n-1][1]||0,d=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],p=g[n][1]||0,v=g[n-1][1]||0;d+=p-v}l+=f,u+=d*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ff(e,t)}}var Nb={},sR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(sR);var E6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(E6);var Ib={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ib);var Ob={},oR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(oR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oR,r=Ib;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(Ob);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sR,r=E6,n=Ib,i=Ob;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})(Nb);var nte=Nb.get;const Bf=yo(nte);var ite=4;function Ku(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ite,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function zn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Ku(o)+a:i+a},"")}var Ni=e=>e===0?0:e>0?1:-1,go=e=>typeof e=="number"&&e!=+e,Ul=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$t=e=>(typeof e=="number"||e instanceof Number)&&!go(e),Yo=e=>$t(e)||typeof e=="string",ate=0,Hm=e=>{var t=++ate;return"".concat(e||"").concat(t)},ca=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(t)&&typeof t!="string")return n;var a;if(Ul(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return go(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},lR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Sn(e,t,r){return $t(e)&&$t(t)?Ku(e+r*(t-e)):t}function uR(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Bf(n,t))===r)}var En=e=>e===null||typeof e>"u",j0=e=>En(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ste(e){return e!=null}function M0(){}var ote=["type","size","sizeType"];function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(null,arguments)}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(n){lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fte(e,t){if(e==null)return{};var r,n,i=hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cR={symbolCircle:A6,symbolCross:Pee,symbolDiamond:Iee,symbolSquare:Oee,symbolStar:Lee,symbolTriangle:Dee,symbolWye:Bee},dte=Math.PI/180,pte=e=>{var t="symbol".concat(j0(e));return cR[t]||A6},mte=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dte;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},gte=(e,t)=>{cR["symbol".concat(j0(e))]=t},C6=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=fte(e,ote),a=S7(S7({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=pte(s),d=zee().type(h).size(mte(r,n,s)),m=d();if(m!==null)return m},{className:l,cx:u,cy:c}=a,f=Ca(a);return $t(u)&&$t(c)&&$t(r)?Y.createElement("path",c_({},f,{className:Dr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};C6.registerSymbol=gte;var fR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,T6=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{x6(i)&&(n[i]=a=>r[i](r,a))}),n},vte=(e,t,r)=>n=>(e(t,r,n),null),R0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];x6(i)&&typeof a=="function"&&(n||(n={}),n[i]=vte(a,t,r))}),n};function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(e,t){var r=yte({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function A7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(r),!0).forEach(function(n){Ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t,r){return(t=kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps=32,Ete={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Cte(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Ps/2,a=Ps/6,s=Ps/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ps,y2:i,className:"recharts-legend-icon"})}if(l==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ps,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return Y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ps/8,"h").concat(Ps,"v").concat(Ps*3/4,"h").concat(-Ps,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(t.legendIcon)){var c=_te({},t);return delete c.legendIcon,Y.cloneElement(t.legendIcon,c)}return Y.createElement(C6,{fill:o,cx:i,cy:i,size:Ps,sizeType:"diameter",type:l})}function Tte(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ps,height:Ps},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var h=c.formatter||i,d=Dr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?a:c.color,g=h?h(c.value,c,f):c.value;return Y.createElement("li",Jv({className:d,style:l,key:"legend-item-".concat(f)},R0(e,c,f)),Y.createElement(_6,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(g," legend icon")},Y.createElement(Cte,{data:c,iconType:s,inactiveColor:a})),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}var Pte=e=>{var t=ui(e,Ete),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:a},Y.createElement(Tte,Jv({},t,{payload:r})))},hR={},dR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(dR);var P6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(P6);var pR={},jb={},mR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(mR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mR;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(jb);var gR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(gR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jb,r=gR;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(pR);var vR={},yR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb;function r(n){return function(i){return t.get(i,n)}}e.property=r})(yR);var bR={},N6={},wR={},I6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(I6);var O6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(O6);var j6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(j6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6,r=O6,n=j6;function i(c,f,h){return typeof h!="function"?i(c,f,()=>{}):a(c,f,function d(m,g,p,v,y,b){const x=h(m,g,p,v,y,b);return x!==void 0?!!x:a(m,g,d,b)},new Map)}function a(c,f,h,d){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,h,d);case"function":return Object.keys(f).length>0?a(c,{...f},h,d):n.eq(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:n.eq(c,f)}}function s(c,f,h,d){if(f==null)return!0;if(Array.isArray(f))return l(c,f,h,d);if(f instanceof Map)return o(c,f,h,d);if(f instanceof Set)return u(c,f,h,d);const m=Object.keys(f);if(c==null||r.isPrimitive(c))return m.length===0;if(m.length===0)return!0;if(d!=null&&d.has(f))return d.get(f)===c;d==null||d.set(f,c);try{for(let g=0;g<m.length;g++){const p=m[g];if(!r.isPrimitive(c)&&!(p in c)||f[p]===void 0&&c[p]!==void 0||f[p]===null&&c[p]!==null||!h(c[p],f[p],p,c,f,d))return!1}return!0}finally{d==null||d.delete(f)}}function o(c,f,h,d){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[m,g]of f.entries()){const p=c.get(m);if(h(p,g,m,c,f,d)===!1)return!1}return!0}function l(c,f,h,d){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const m=new Set;for(let g=0;g<f.length;g++){const p=f[g];let v=!1;for(let y=0;y<c.length;y++){if(m.has(y))continue;const b=c[y];let x=!1;if(h(b,p,g,c,f,d)&&(x=!0),x){m.add(y),v=!0;break}}if(!v)return!1}return!0}function u(c,f,h,d){return f.size===0?!0:c instanceof Set?l([...c],[...f],h,d):!1}e.isMatchWith=i,e.isSetMatch=u})(wR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wR;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(N6);var xR={},M6={},_R={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_R);var R6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(R6);var L6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",h="[object ArrayBuffer]",d="[object Object]",m="[object Error]",g="[object DataView]",p="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",x="[object BigUint64Array]",C="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",T="[object BigInt64Array]",M="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=x,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=M,e.float64ArrayTag=B,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=I,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=n,e.objectTag=d,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=p,e.uint8ClampedArrayTag=v})(L6);var SR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(SR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R,r=R6,n=L6,i=O6,a=SR;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,h,d=new Map,m=void 0){const g=m==null?void 0:m(c,f,h,d);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(d.has(c))return d.get(c);if(Array.isArray(c)){const p=new Array(c.length);d.set(c,p);for(let v=0;v<c.length;v++)p[v]=o(c[v],v,h,d,m);return Object.hasOwn(c,"index")&&(p.index=c.index),Object.hasOwn(c,"input")&&(p.input=c.input),p}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const p=new RegExp(c.source,c.flags);return p.lastIndex=c.lastIndex,p}if(c instanceof Map){const p=new Map;d.set(c,p);for(const[v,y]of c)p.set(v,o(y,v,h,d,m));return p}if(c instanceof Set){const p=new Set;d.set(c,p);for(const v of c)p.add(o(v,void 0,h,d,m));return p}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const p=new(Object.getPrototypeOf(c)).constructor(c.length);d.set(c,p);for(let v=0;v<c.length;v++)p[v]=o(c[v],v,h,d,m);return p}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const p=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return d.set(c,p),l(p,c,h,d,m),p}if(typeof File<"u"&&c instanceof File){const p=new File([c],c.name,{type:c.type});return d.set(c,p),l(p,c,h,d,m),p}if(typeof Blob<"u"&&c instanceof Blob){const p=new Blob([c],{type:c.type});return d.set(c,p),l(p,c,h,d,m),p}if(c instanceof Error){const p=new c.constructor;return d.set(c,p),p.message=c.message,p.name=c.name,p.stack=c.stack,p.cause=c.cause,l(p,c,h,d,m),p}if(c instanceof Boolean){const p=new Boolean(c.valueOf());return d.set(c,p),l(p,c,h,d,m),p}if(c instanceof Number){const p=new Number(c.valueOf());return d.set(c,p),l(p,c,h,d,m),p}if(c instanceof String){const p=new String(c.valueOf());return d.set(c,p),l(p,c,h,d,m),p}if(typeof c=="object"&&u(c)){const p=Object.create(Object.getPrototypeOf(c));return d.set(c,p),l(p,c,h,d,m),p}return c}function l(c,f,h=c,d,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let p=0;p<g.length;p++){const v=g[p],y=Object.getOwnPropertyDescriptor(c,v);(y==null||y.writable)&&(c[v]=o(f[v],v,h,d,m))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(M6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N6,r=xR;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(bR);var kR={},AR={},ER={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6,r=L6;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(ER);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ER;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(AR);var CR={},D6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(D6);var TR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R6;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(TR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E6,r=D6,n=TR,i=Ob;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(CR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N6,r=Ib,n=AR,i=Nb,a=CR;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(kR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P6,r=yR,n=bR,i=kR;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(vR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dR,r=P6,n=pR,i=vR;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(hR);var Nte=hR.uniqBy;const E7=yo(Nte);function PR(e,t,r){return t===!0?E7(e,r):typeof t=="function"?E7(e,t):e}var NR={exports:{}},IR={},OR={exports:{}},jR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=Y;function Ite(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ote=typeof Object.is=="function"?Object.is:Ite,jte=kd.useState,Mte=kd.useEffect,Rte=kd.useLayoutEffect,Lte=kd.useDebugValue;function Dte(e,t){var r=t(),n=jte({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Rte(function(){i.value=r,i.getSnapshot=t,Jw(i)&&a({inst:i})},[e,r,t]),Mte(function(){return Jw(i)&&a({inst:i}),e(function(){Jw(i)&&a({inst:i})})},[e]),Lte(r),r}function Jw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ote(e,r)}catch{return!0}}function Fte(e,t){return t()}var Bte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fte:Dte;jR.useSyncExternalStore=kd.useSyncExternalStore!==void 0?kd.useSyncExternalStore:Bte;OR.exports=jR;var zte=OR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Y,Ute=zte;function Vte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $te=typeof Object.is=="function"?Object.is:Vte,qte=Ute.useSyncExternalStore,Hte=Mb.useRef,Wte=Mb.useEffect,Kte=Mb.useMemo,Gte=Mb.useDebugValue;IR.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Hte(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Kte(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var m=s.value;if(i(m,d))return f=m}return f=d}if(m=f,$te(c,d))return m;var g=n(d);return i!==void 0&&i(m,g)?(c=d,m):(c=d,f=g)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=qte(e,a[0],a[1]);return Wte(function(){s.hasValue=!0,s.value=o},[o]),Gte(o),o};NR.exports=IR;var Xte=NR.exports,F6=Y.createContext(null),Yte=e=>e,pn=()=>{var e=Y.useContext(F6);return e?e.store.dispatch:Yte},Y1=()=>{},Zte=()=>Y1,Qte=(e,t)=>e===t;function Wt(e){var t=Y.useContext(F6);return Xte.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zte,t?t.store.getState:Y1,t?t.store.getState:Y1,t?e:Y1,Qte)}function Jte(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ere(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function tre(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var C7=e=>Array.isArray(e)?e:[e];function rre(e){const t=Array.isArray(e[0])?e[0]:e;return tre(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nre(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var ire=class{constructor(e){this.value=e}deref(){return this.value}},are=typeof WeakRef<"u"?WeakRef:ire,sre=0,T7=1;function s1(){return{s:sre,v:void 0,o:null,p:null}}function MR(e,t={}){let r=s1();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,d=l;h<d;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const p=g.get(m);p===void 0?(o=s1(),g.set(m,o)):o=p}else{let g=o.p;g===null&&(o.p=g=new Map);const p=g.get(m);p===void 0?(o=s1(),g.set(m,o)):o=p}}const u=o;let c;if(o.s===T7)c=o.v;else if(c=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new are(c):c}return u.s=T7,u.v=c,c}return s.clearCache=()=>{r=s1(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function ore(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Jte(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:d=MR,argsMemoizeOptions:m=[]}=c,g=C7(h),p=C7(m),v=rre(i),y=f(function(){return a++,u.apply(null,arguments)},...g),b=d(function(){s++;const C=nre(v,arguments);return o=y.apply(null,C),o},...p);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:d})};return Object.assign(n,{withTypes:()=>n}),n}var $e=ore(MR),lre=Object.assign((e,t=$e)=>{ere(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>lre}),RR={},LR={},DR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(DR);var FR={},B6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(B6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(FR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DR,r=FR,n=Ob;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(d=>String(d));const u=(d,m)=>{let g=d;for(let p=0;p<m.length&&g!=null;++p)g=g[m[p]];return g},c=(d,m)=>m==null||d==null?m:typeof d=="object"&&"key"in d?Object.hasOwn(m,d.key)?m[d.key]:u(m,d.path):typeof d=="function"?d(m):Array.isArray(d)?u(m,d):typeof m=="object"?m[d]:m,f=s.map(d=>(Array.isArray(d)&&d.length===1&&(d=d[0]),d==null||typeof d=="function"||Array.isArray(d)||r.isKey(d)?d:{key:d,path:n.toPath(d)}));return a.map(d=>({original:d,criteria:f.map(m=>c(m,d))})).slice().sort((d,m)=>{for(let g=0;g<f.length;g++){const p=t.compareValues(d.criteria[g],m.criteria[g],o[g]);if(p!==0)return p}return 0}).map(d=>d.original)}e.orderBy=i})(LR);var BR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(BR);var z6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D6,r=jb,n=I6,i=j6;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(z6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR,r=BR,n=z6;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(RR);var ure=RR.sortBy;const Rb=yo(ure);var zR=e=>e.legend.settings,cre=e=>e.legend.size,fre=e=>e.legend.payload,hre=$e([fre,zR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Rb(n,r):n});function dre(){return Wt(hre)}var o1=1;function UR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=Y.useState({height:0,left:0,top:0,width:0}),n=Y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>o1||Math.abs(s.left-t.left)>o1||Math.abs(s.top-t.top)>o1||Math.abs(s.width-t.width)>o1)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pre=typeof Symbol=="function"&&Symbol.observable||"@@observable",P7=pre,e5=()=>Math.random().toString(36).substring(7).split("").join("."),mre={INIT:`@@redux/INIT${e5()}`,REPLACE:`@@redux/REPLACE${e5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e5()}`},ey=mre;function U6(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VR(e,t,r){if(typeof e!="function")throw new Error(Bi(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bi(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bi(1));return r(VR)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((p,v)=>{s.set(v,p)}))}function c(){if(l)throw new Error(Bi(3));return i}function f(p){if(typeof p!="function")throw new Error(Bi(4));if(l)throw new Error(Bi(5));let v=!0;u();const y=o++;return s.set(y,p),function(){if(v){if(l)throw new Error(Bi(6));v=!1,u(),s.delete(y),a=null}}}function h(p){if(!U6(p))throw new Error(Bi(7));if(typeof p.type>"u")throw new Error(Bi(8));if(typeof p.type!="string")throw new Error(Bi(17));if(l)throw new Error(Bi(9));try{l=!0,i=n(i,p)}finally{l=!1}return(a=s).forEach(y=>{y()}),p}function d(p){if(typeof p!="function")throw new Error(Bi(10));n=p,h({type:ey.REPLACE})}function m(){const p=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Bi(11));function y(){const x=v;x.next&&x.next(c())}return y(),{unsubscribe:p(y)}},[P7](){return this}}}return h({type:ey.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:d,[P7]:m}}function gre(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ey.INIT})>"u")throw new Error(Bi(12));if(typeof r(void 0,{type:ey.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bi(13))})}function $R(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{gre(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const f=n[c],h=r[f],d=s[f],m=h(d,o);if(typeof m>"u")throw o&&o.type,new Error(Bi(14));u[f]=m,l=l||m!==d}return l=l||n.length!==Object.keys(s).length,l?u:s}}function ty(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function vre(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Bi(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=ty(...o)(i.dispatch),{...i,dispatch:a}}}function qR(e){return U6(e)&&"type"in e&&typeof e.type=="string"}var HR=Symbol.for("immer-nothing"),N7=Symbol.for("immer-draftable"),Ta=Symbol.for("immer-state");function so(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ss=Object,Ad=ss.getPrototypeOf,ry="constructor",Lb="prototype",f_="configurable",ny="enumerable",Z1="writable",Wm="value",Vl=e=>!!e&&!!e[Ta];function vo(e){var t;return e?WR(e)||Db(e)||!!e[N7]||!!((t=e[ry])!=null&&t[N7])||Fb(e)||Bb(e):!1}var yre=ss[Lb][ry].toString(),I7=new WeakMap;function WR(e){if(!e||!V6(e))return!1;const t=Ad(e);if(t===null||t===ss[Lb])return!0;const r=ss.hasOwnProperty.call(t,ry)&&t[ry];if(r===Object)return!0;if(!Oh(r))return!1;let n=I7.get(r);return n===void 0&&(n=Function.toString.call(r),I7.set(r,n)),n===yre}function L0(e,t,r=!0){D0(e)===0?(r?Reflect.ownKeys(e):ss.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function D0(e){const t=e[Ta];return t?t.type_:Db(e)?1:Fb(e)?2:Bb(e)?3:0}var O7=(e,t,r=D0(e))=>r===2?e.has(t):ss[Lb].hasOwnProperty.call(e,t),h_=(e,t,r=D0(e))=>r===2?e.get(t):e[t],iy=(e,t,r,n=D0(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function bre(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Db=Array.isArray,Fb=e=>e instanceof Map,Bb=e=>e instanceof Set,V6=e=>typeof e=="object",Oh=e=>typeof e=="function",t5=e=>typeof e=="boolean";function wre(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ml=e=>e.copy_||e.base_,$6=e=>e.modified_?e.copy_:e.base_;function d_(e,t){if(Fb(e))return new Map(e);if(Bb(e))return new Set(e);if(Db(e))return Array[Lb].slice.call(e);const r=WR(e);if(t===!0||t==="class_only"&&!r){const n=ss.getOwnPropertyDescriptors(e);delete n[Ta];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Z1]===!1&&(o[Z1]=!0,o[f_]=!0),(o.get||o.set)&&(n[s]={[f_]:!0,[Z1]:!0,[ny]:o[ny],[Wm]:e[s]})}return ss.create(Ad(e),n)}else{const n=Ad(e);if(n!==null&&r)return{...e};const i=ss.create(n);return ss.assign(i,e)}}function q6(e,t=!1){return zb(e)||Vl(e)||!vo(e)||(D0(e)>1&&ss.defineProperties(e,{set:l1,add:l1,clear:l1,delete:l1}),ss.freeze(e),t&&L0(e,(r,n)=>{q6(n,!0)},!1)),e}function xre(){so(2)}var l1={[Wm]:xre};function zb(e){return e===null||!V6(e)?!0:ss.isFrozen(e)}var ay="MapSet",p_="Patches",j7="ArrayMethods",KR={};function zf(e){const t=KR[e];return t||so(0,e),t}var M7=e=>!!KR[e],Km,GR=()=>Km,_re=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:M7(ay)?zf(ay):void 0,arrayMethodsPlugin_:M7(j7)?zf(j7):void 0});function R7(e,t){t&&(e.patchPlugin_=zf(p_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function m_(e){g_(e),e.drafts_.forEach(Sre),e.drafts_=null}function g_(e){e===Km&&(Km=e.parent_)}var L7=e=>Km=_re(Km,e);function Sre(e){const t=e[Ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D7(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ta].modified_&&(m_(t),so(4)),vo(e)&&(e=F7(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Ta].base_,e,t)}else e=F7(t,r);return kre(t,e,!0),m_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HR?e:void 0}function F7(e,t){if(zb(t))return t;const r=t[Ta];if(!r)return H6(t,e.handledSet_,e);if(!Ub(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);ZR(r,e)}return r.copy_}function kre(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&q6(t,r)}function XR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ub=(e,t)=>e.scope_===t,Are=[];function YR(e,t,r,n){const i=ml(e),a=e.type_;if(n!==void 0&&h_(i,n,a)===t){iy(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;L0(i,(l,u)=>{if(Vl(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??Are;for(const o of s)iy(i,o,r,a)}function Ere(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ub(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=$6(a);YR(e,a.draft_??a,s,r),ZR(a,i)})}function ZR(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}XR(e)}}function Cre(e,t,r){const{scope_:n}=e;if(Vl(r)){const i=r[Ta];Ub(i,n)&&i.callbacks_.push(function(){Q1(e);const s=$6(i);YR(e,r,s,t)})}else vo(r)&&e.callbacks_.push(function(){const a=ml(e);h_(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&H6(h_(e.copy_,t,e.type_),n.handledSet_,n)})}function H6(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Vl(e)||t.has(e)||!vo(e)||zb(e)||(t.add(e),L0(e,(n,i)=>{if(Vl(i)){const a=i[Ta];if(Ub(a,r)){const s=$6(a);iy(e,n,s,e.type_),XR(a)}}else vo(i)&&H6(i,t,r)})),e}function Tre(e,t){const r=Db(e),n={type_:r?1:0,scope_:t?t.scope_:GR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=W6;r&&(i=[n],a=Gm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var W6={get(e,t){if(t===Ta)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=ml(e);if(!O7(i,t,e.type_))return Pre(e,i,t);const a=i[t];if(e.finalized_||!vo(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&wre(t))return a;if(a===r5(e.base_,t)){Q1(e);const s=e.type_===1?+t:t,o=y_(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in ml(e)},ownKeys(e){return Reflect.ownKeys(ml(e))},set(e,t,r){const n=QR(ml(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=r5(ml(e),t),a=i==null?void 0:i[Ta];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(bre(r,i)&&(r!==void 0||O7(e.base_,t,e.type_)))return!0;Q1(e),v_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Cre(e,t,r)),!0},deleteProperty(e,t){return Q1(e),r5(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),v_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ml(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Z1]:!0,[f_]:e.type_!==1||t!=="length",[ny]:n[ny],[Wm]:r[t]}},defineProperty(){so(11)},getPrototypeOf(e){return Ad(e.base_)},setPrototypeOf(){so(12)}},Gm={};L0(W6,(e,t)=>{Gm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Gm.deleteProperty=function(e,t){return Gm.set.call(this,e,t,void 0)};Gm.set=function(e,t,r){return W6.set.call(this,e[0],t,r,e[0])};function r5(e,t){const r=e[Ta];return(r?ml(r):e)[t]}function Pre(e,t,r){var i;const n=QR(t,r);return n?Wm in n?n[Wm]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function QR(e,t){if(!(t in e))return;let r=Ad(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ad(r)}}function v_(e){e.modified_||(e.modified_=!0,e.parent_&&v_(e.parent_))}function Q1(e){e.copy_||(e.assigned_=new Map,e.copy_=d_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Oh(r)&&!Oh(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,f=>n.call(this,f,...c))}}Oh(n)||so(6),i!==void 0&&!Oh(i)&&so(7);let a;if(vo(r)){const s=L7(this),o=y_(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?m_(s):g_(s)}return R7(s,i),D7(a,s)}else if(!r||!V6(r)){if(a=n(r),a===void 0&&(a=r),a===HR&&(a=void 0),this.autoFreeze_&&q6(a,!0),i){const s=[],o=[];zf(p_).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else so(1,r)},this.produceWithPatches=(r,n)=>{if(Oh(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},t5(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),t5(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),t5(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){vo(t)||so(8),Vl(t)&&(t=fo(t));const r=L7(this),n=y_(r,t,void 0);return n[Ta].isManual_=!0,g_(r),n}finishDraft(t,r){const n=t&&t[Ta];(!n||!n.isManual_)&&so(9);const{scope_:i}=n;return R7(i,r),D7(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=zf(p_).applyPatches_;return Vl(t)?i(t,r):this.produce(t,a=>i(a,r))}};function y_(e,t,r,n){const[i,a]=Fb(t)?zf(ay).proxyMap_(t,r):Bb(t)?zf(ay).proxySet_(t,r):Tre(t,r);return((r==null?void 0:r.scope_)??GR()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?Ere(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function fo(e){return Vl(e)||so(10,e),JR(e)}function JR(e){if(!vo(e)||zb(e))return e;const t=e[Ta];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=d_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=d_(e,!0);return L0(r,(i,a)=>{iy(r,i,JR(a))},n),t&&(t.finalized_=!1),r}var Ire=new Nre,eL=Ire.produce;function tL(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var Ore=tL(),jre=tL,Mre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ty:ty.apply(null,arguments)};function Bs(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(cs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>qR(n)&&n.type===e,r}var rL=class Hp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hp.prototype)}static get[Symbol.species](){return Hp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hp(...t[0].concat(this)):new Hp(...t.concat(this))}};function B7(e){return vo(e)?eL(e,()=>{}):e}function u1(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Rre(e){return typeof e=="boolean"}var Lre=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new rL;return r&&(Rre(r)?s.push(Ore):s.push(jre(r.extraArgument))),s},nL="RTK_autoBatch",_n=()=>e=>({payload:e,meta:{[nL]:!0}}),z7=e=>t=>{setTimeout(t,e)},iL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z7(10):e.type==="callback"?e.queueNotification:z7(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const f=()=>i&&c(),h=n.subscribe(f);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[nL]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},Dre=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new rL(e);return n&&i.push(iL(typeof n=="object"?n:void 0)),i};function Fre(e){const t=Lre(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(U6(r))o=$R(r);else throw new Error(cs(1));let l;typeof n=="function"?l=n(t):l=t();let u=ty;i&&(u=Mre({trace:!1,...typeof i=="object"&&i}));const c=vre(...l),f=Dre(c);let h=typeof s=="function"?s(f):f();const d=u(...h);return VR(o,a,d)}function aL(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(cs(28));if(o in t)throw new Error(cs(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function Bre(e){return typeof e=="function"}function zre(e,t){let[r,n,i]=aL(t),a;if(Bre(e))a=()=>B7(e());else{const o=B7(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(Vl(c)){const d=f(c,l);return d===void 0?c:d}else{if(vo(c))return eL(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return s.getInitialState=a,s}var Ure="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vre=(e=21)=>{let t="",r=e;for(;r--;)t+=Ure[Math.random()*64|0];return t},$re=Symbol.for("rtk-slice-createasyncthunk");function qre(e,t){return`${e}/${t}`}function Hre({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$re];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(cs(11));const o=(typeof i.reducers=="function"?i.reducers(Kre()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(x,C){const O=typeof x=="string"?x:x.type;if(!O)throw new Error(cs(12));if(O in u.sliceCaseReducersByType)throw new Error(cs(13));return u.sliceCaseReducersByType[O]=C,c},addMatcher(x,C){return u.sliceMatchers.push({matcher:x,reducer:C}),c},exposeAction(x,C){return u.actionCreators[x]=C,c},exposeCaseReducer(x,C){return u.sliceCaseReducersByName[x]=C,c}};l.forEach(x=>{const C=o[x],O={reducerName:x,type:qre(a,x),createNotation:typeof i.reducers=="function"};Xre(C)?Zre(O,C,c,t):Gre(O,C,c)});function f(){const[x={},C=[],O=void 0]=typeof i.extraReducers=="function"?aL(i.extraReducers):[i.extraReducers],I={...x,...u.sliceCaseReducersByType};return zre(i.initialState,T=>{for(let M in I)T.addCase(M,I[M]);for(let M of u.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of C)T.addMatcher(M.matcher,M.reducer);O&&T.addDefaultCase(O)})}const h=x=>x,d=new Map,m=new WeakMap;let g;function p(x,C){return g||(g=f()),g(x,C)}function v(){return g||(g=f()),g.getInitialState()}function y(x,C=!1){function O(T){let M=T[x];return typeof M>"u"&&C&&(M=u1(m,O,v)),M}function I(T=h){const M=u1(d,C,()=>new WeakMap);return u1(M,T,()=>{const B={};for(const[L,P]of Object.entries(i.selectors??{}))B[L]=Wre(P,T,()=>u1(m,T,v),C);return B})}return{reducerPath:x,getSelectors:I,get selectors(){return I(O)},selectSlice:O}}const b={name:a,reducer:p,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(s),injectInto(x,{reducerPath:C,...O}={}){const I=C??s;return x.inject({reducerPath:I,reducer:p},O),{...b,...y(I,!0)}}};return b}}function Wre(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Ha=Hre();function Kre(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Gre({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Yre(n))throw new Error(cs(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Bs(e,s):Bs(e))}function Xre(e){return e._reducerDefinitionType==="asyncThunk"}function Yre(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Zre({type:e,reducerName:t},r,n,i){if(!i)throw new Error(cs(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,f=i(e,a,c);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||c1,pending:o||c1,rejected:l||c1,settled:u||c1})}function c1(){}var Qre="task",sL="listener",oL="completed",K6="cancelled",Jre=`task-${K6}`,ene=`task-${oL}`,b_=`${sL}-${K6}`,tne=`${sL}-${oL}`,Vb=class{constructor(e){ew(this,"name","TaskAbortError");ew(this,"message");this.code=e,this.message=`${Qre} ${K6} (reason: ${e})`}},G6=(e,t)=>{if(typeof e!="function")throw new TypeError(cs(32))},sy=()=>{},lL=(e,t=sy)=>(e.catch(t),e),uL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yf=e=>{if(e.aborted)throw new Vb(e.reason)};function cL(e,t){let r=sy;return new Promise((n,i)=>{const a=()=>i(new Vb(e.reason));if(e.aborted){a();return}r=uL(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=sy})}var rne=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Vb?"cancelled":"rejected",error:r}}finally{t==null||t()}},oy=e=>t=>lL(cL(e,t).then(r=>(yf(e),r))),fL=e=>{const t=oy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:od}=Object,U7={},$b="listenerMiddleware",nne=(e,t)=>{const r=n=>uL(e,()=>n.abort(e.reason));return(n,i)=>{G6(n);const a=new AbortController;r(a);const s=rne(async()=>{yf(e),yf(a.signal);const o=await n({pause:oy(a.signal),delay:fL(a.signal),signal:a.signal});return yf(a.signal),o},()=>a.abort(ene));return i!=null&&i.autoJoin&&t.push(s.catch(sy)),{result:oy(e)(s),cancel(){a.abort(Jre)}}}},ine=(e,t)=>{const r=async(n,i)=>{yf(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await cL(t,Promise.race(o));return yf(t),l}finally{a()}};return(n,i)=>lL(r(n,i))},hL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Bs(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(cs(21));return G6(a),{predicate:i,type:t,effect:a}},dL=od(e=>{const{type:t,predicate:r,effect:n}=hL(e);return{id:Vre(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cs(22))}}},{withTypes:()=>dL}),V7=(e,t)=>{const{type:r,effect:n,predicate:i}=hL(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},w_=e=>{e.pending.forEach(t=>{t.abort(b_)})},ane=(e,t)=>()=>{for(const r of t.keys())w_(r);e.clear()},$7=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},pL=od(Bs(`${$b}/add`),{withTypes:()=>pL}),sne=Bs(`${$b}/removeAll`),mL=od(Bs(`${$b}/remove`),{withTypes:()=>mL}),one=(...e)=>{console.error(`${$b}/error`,...e)},F0=(e={})=>{const t=new Map,r=new Map,n=d=>{const m=r.get(d)??0;r.set(d,m+1)},i=d=>{const m=r.get(d)??1;m===1?r.delete(d):r.set(d,m-1)},{extra:a,onError:s=one}=e;G6(s);const o=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),m=>{d.unsubscribe(),m!=null&&m.cancelActive&&w_(d)}),l=d=>{const m=V7(t,d)??dL(d);return o(m)};od(l,{withTypes:()=>l});const u=d=>{const m=V7(t,d);return m&&(m.unsubscribe(),d.cancelActive&&w_(m)),!!m};od(u,{withTypes:()=>u});const c=async(d,m,g,p)=>{const v=new AbortController,y=ine(l,v.signal),b=[];try{d.pending.add(v),n(d),await Promise.resolve(d.effect(m,od({},g,{getOriginalState:p,condition:(x,C)=>y(x,C).then(Boolean),take:y,delay:fL(v.signal),pause:oy(v.signal),extra:a,signal:v.signal,fork:nne(v.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,C,O)=>{x!==v&&(x.abort(b_),O.delete(x))})},cancel:()=>{v.abort(b_),d.pending.delete(v)},throwIfCancelled:()=>{yf(v.signal)}})))}catch(x){x instanceof Vb||$7(s,x,{raisedBy:"effect"})}finally{await Promise.all(b),v.abort(tne),i(d),d.pending.delete(v)}},f=ane(t,r);return{middleware:d=>m=>g=>{if(!qR(g))return m(g);if(pL.match(g))return l(g.payload);if(sne.match(g)){f();return}if(mL.match(g))return u(g.payload);let p=d.getState();const v=()=>{if(p===U7)throw new Error(cs(23));return p};let y;try{if(y=m(g),t.size>0){const b=d.getState(),x=Array.from(t.values());for(const C of x){let O=!1;try{O=C.predicate(g,b,p)}catch(I){O=!1,$7(s,I,{raisedBy:"predicate"})}O&&c(C,g,d,v)}}}finally{p=U7}return y},startListening:l,stopListening:u,clearListeners:f}};function cs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gL=Ha({name:"chartLayout",initialState:lne,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:une,setLayout:cne,setChartSize:fne,setScale:hne}=gL.actions,dne=gL.reducer;function vL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Mn(e){return Number.isFinite(e)}function Zo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(r),!0).forEach(function(n){pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function en(e,t,r){return En(e)||En(t)?r:Yo(t)?Bf(e,t,r):typeof t=="function"?t(e):r}var vne=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&$t(e[a]))return Gh(Gh({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&$t(e[s]))return Gh(Gh({},e),{},{[s]:e[s]+(i||0)})}return e},Oc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yL=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},bL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:h,axisType:d}=e;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=d==="angleAxis"&&a&&a.length>=2?Ni(a[0]-a[1])*2*g:g,f||h){var p=(f||h||[]).map((v,y)=>{var b=n?n.indexOf(v):v;return{coordinate:s(b)+g,value:v,offset:g,index:y}});return p.filter(v=>!go(v.coordinate))}return l&&u?u.map((v,y)=>({coordinate:s(v)+g,value:v,index:y,offset:g})):s.ticks&&c!=null?s.ticks(c).map((v,y)=>({coordinate:s(v)+g,value:v,offset:g,index:y})):s.domain().map((v,y)=>({coordinate:s(v)+g,value:n?n[v]:v,index:y,offset:g}))},H7=1e-4,yne=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-H7,a=Math.max(n[0],n[1])+H7,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},bne=(e,t)=>{if(!t||t.length!==2||!$t(t[0])||!$t(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!$t(e[0])||e[0]<r)&&(i[0]=r),(!$t(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wne=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],h=go(c)?f:c;h>=0?(u[0]=a,u[1]=a+h,a=c):(u[0]=s,u[1]=s+h,s=c)}}}},xne=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=go(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},_ne={sign:wne,expand:ete,none:Ff,silhouette:tte,wiggle:rte,positive:xne},Sne=(e,t,r)=>{var n,i=(n=_ne[r])!==null&&n!==void 0?n:Ff,a=Jee().keys(t).value((o,l)=>Number(en(o,l,0))).order(u_).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=en(e[c],t[l],0);Array.isArray(f)&&f.length===2&&$t(f[0])&&$t(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function kne(e){return e==null?void 0:String(e)}function W7(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!En(i[t.dataKey])){var o=uR(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=en(i,En(s)?t.dataKey:s);return En(l)?null:t.scale(l)}var K7=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=en(a,t.dataKey,t.scale.domain()[s]);return En(o)?null:t.scale(o)-i/2+n},Ane=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Ene=e=>{var t=e.flat(2).filter($t);return[Math.min(...t),Math.max(...t)]},Cne=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Tne=(e,t,r)=>{if(e!=null)return Cne(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=vL(u,t,r),f=Ene(c);return!Mn(f[0])||!Mn(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},G7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ed=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Rb(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Y7(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Gh(Gh({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ud(e,t){if(e)return String(e);if(typeof t=="string")return t}var Pne=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Nne=(e,t)=>t==="centric"?e.angle:e.radius,Xl=e=>e.layout.width,Yl=e=>e.layout.height,Ine=e=>e.layout.scale,wL=e=>e.layout.margin,qb=$e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hb=$e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xL="data-recharts-item-index",_L="data-recharts-item-id",B0=60;function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(r),!0).forEach(function(n){One(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function One(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rne=e=>e.brush.height;function Lne(e){var t=Hb(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:B0;return r+i}return r},0)}function Dne(e){var t=Hb(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:B0;return r+i}return r},0)}function Fne(e){var t=qb(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Bne(e){var t=qb(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var gi=$e([Xl,Yl,wL,Rne,Lne,Dne,Fne,Bne,zR,cre],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=f1(f1({},f),c),d=h.bottom;h.bottom+=n,h=vne(h,l,u);var m=e-h.left-h.right,g=t-h.top-h.bottom;return f1(f1({brushBottom:d},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),zne=$e(gi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),X6=$e(Xl,Yl,(e,t)=>({x:0,y:0,width:e,height:t})),Une=Y.createContext(null),da=()=>Y.useContext(Une)!=null,Wb=e=>e.brush,Kb=$e([Wb,gi,wL],(e,t,r)=>({height:e.height,x:$t(e.x)?e.x:t.left,y:$t(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:$t(e.width)?e.width:t.width})),SL={},kL={},AL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),g()};let h=null;const d=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),s=void 0,o=null},p=()=>{c()},v=function(...y){if(i!=null&&i.aborted)return;s=this,o=y;const b=h==null;d(),l&&b&&c()};return v.schedule=d,v.cancel=g,v.flush=p,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(AL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AL;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const h=t.debounce(function(...g){c=n.apply(this,g),f=null},i,{edges:u}),d=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,g),c)},m=()=>(h.flush(),c);return d.cancel=h.cancel,d.flush=m,d}e.debounce=r})(kL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kL;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(SL);var Vne=SL.throttle;const $ne=yo(Vne);var ly=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},EL=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Ul(n)?e:Number(n),l=Ul(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},qne={width:0,height:0,overflow:"visible"},Hne={width:0,overflowX:"visible"},Wne={height:0,overflowY:"visible"},Kne={},Gne=e=>{var{width:t,height:r}=e,n=Ul(t),i=Ul(r);return n&&i?qne:n?Hne:i?Wne:Kne};function Xne(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(null,arguments)}function Q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q7(Object(r),!0).forEach(function(n){Yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yne(e,t,r){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=Qne(e,"string");return typeof t=="symbol"?t:t+""}function Qne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CL=Y.createContext({width:-1,height:-1});function Jne(e){return Zo(e.width)&&Zo(e.height)}function TL(e){var{children:t,width:r,height:n}=e,i=Y.useMemo(()=>({width:r,height:n}),[r,n]);return Jne(i)?Y.createElement(CL.Provider,{value:i},t):null}var Y6=()=>Y.useContext(CL),eie=Y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:f,className:h,onResize:d,style:m={}}=e,g=Y.useRef(null),p=Y.useRef();p.current=d,Y.useImperativeHandle(t,()=>g.current);var[v,y]=Y.useState({containerWidth:n.width,containerHeight:n.height}),b=Y.useCallback((T,M)=>{y(B=>{var L=Math.round(T),P=Math.round(M);return B.containerWidth===L&&B.containerHeight===P?B:{containerWidth:L,containerHeight:P}})},[]);Y.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return M0;var T=P=>{var A,{width:j,height:E}=P[0].contentRect;b(j,E),(A=p.current)===null||A===void 0||A.call(p,j,E)};c>0&&(T=$ne(T,c,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),{width:B,height:L}=g.current.getBoundingClientRect();return b(B,L),M.observe(g.current),()=>{M.disconnect()}},[b,c]);var{containerWidth:x,containerHeight:C}=v;ly(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:I}=EL(x,C,{width:i,height:a,aspect:r,maxHeight:l});return ly(O!=null&&O>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,I,i,a,s,o,r),Y.createElement("div",{id:f?"".concat(f):void 0,className:Dr("recharts-responsive-container",h),style:J7(J7({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},Y.createElement("div",{style:Gne({width:i,height:a})},Y.createElement(TL,{width:O,height:I},u)))}),Sp=Y.forwardRef((e,t)=>{var r=Y6();if(Zo(r.width)&&Zo(r.height))return e.children;var{width:n,height:i}=Xne({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=EL(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return $t(a)&&$t(s)?Y.createElement(TL,{width:a,height:s},e.children):Y.createElement(eie,x_({},e,{width:n,height:i,ref:t}))});function PL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Gb=()=>{var e,t=da(),r=Wt(zne),n=Wt(Kb),i=(e=Wt(Wb))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},tie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NL=()=>{var e;return(e=Wt(gi))!==null&&e!==void 0?e:tie},Z6=()=>Wt(Xl),Q6=()=>Wt(Yl),rie=()=>Wt(e=>e.layout.margin),Or=e=>e.layout.layoutType,Vd=()=>Wt(Or),nie=()=>{var e=Vd();return e!==void 0},Xb=e=>{var t=pn(),r=da(),{width:n,height:i}=e,a=Y6(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),Y.useEffect(()=>{!r&&Zo(s)&&Zo(o)&&t(fne({width:s,height:o}))},[t,r,s,o]),null},IL=Symbol.for("immer-nothing"),eC=Symbol.for("immer-draftable"),ds=Symbol.for("immer-state");function oo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xm=Object.getPrototypeOf;function Cd(e){return!!e&&!!e[ds]}function Uf(e){var t;return e?OL(e)||Array.isArray(e)||!!e[eC]||!!((t=e.constructor)!=null&&t[eC])||z0(e)||Zb(e):!1}var iie=Object.prototype.constructor.toString(),tC=new WeakMap;function OL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tC.get(r);return n===void 0&&(n=Function.toString.call(r),tC.set(r,n)),n===iie}function uy(e,t,r=!0){Yb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Yb(e){const t=e[ds];return t?t.type_:Array.isArray(e)?1:z0(e)?2:Zb(e)?3:0}function __(e,t){return Yb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jL(e,t,r){const n=Yb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function aie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function z0(e){return e instanceof Map}function Zb(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function S_(e,t){if(z0(e))return new Map(e);if(Zb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ds];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Xm(e),n)}else{const n=Xm(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function J6(e,t=!1){return Qb(e)||Cd(e)||!Uf(e)||(Yb(e)>1&&Object.defineProperties(e,{set:h1,add:h1,clear:h1,delete:h1}),Object.freeze(e),t&&Object.values(e).forEach(r=>J6(r,!0))),e}function sie(){oo(2)}var h1={value:sie};function Qb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var oie={};function Vf(e){const t=oie[e];return t||oo(0,e),t}var Ym;function ML(){return Ym}function lie(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rC(e,t){t&&(Vf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function k_(e){A_(e),e.drafts_.forEach(uie),e.drafts_=null}function A_(e){e===Ym&&(Ym=e.parent_)}function nC(e){return Ym=lie(Ym,e)}function uie(e){const t=e[ds];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ds].modified_&&(k_(t),oo(4)),Uf(e)&&(e=cy(t,e),t.parent_||fy(t,e)),t.patches_&&Vf("Patches").generateReplacementPatches_(r[ds].base_,e,t.patches_,t.inversePatches_)):e=cy(t,r,[]),k_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IL?e:void 0}function cy(e,t,r){if(Qb(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[ds];if(!i)return uy(t,(a,s)=>aC(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return fy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),uy(s,(l,u)=>aC(e,i,a,l,u,r,o),n),fy(e,a,!1),r&&e.patches_&&Vf("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function aC(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Qb(i);if(!(o&&!s)){if(Cd(i)){const l=a&&t&&t.type_!==3&&!__(t.assigned_,n)?a.concat(n):void 0,u=cy(e,i,l);if(jL(r,n,u),Cd(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Uf(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;cy(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(z0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&fy(e,i)}}}function fy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&J6(t,r)}function cie(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ML(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=eS;r&&(i=[n],a=Zm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var eS={get(e,t){if(t===ds)return e;const r=Jc(e);if(!__(r,t))return fie(e,r,t);const n=r[t];return e.finalized_||!Uf(n)?n:n===n5(e.base_,t)?(i5(e),e.copy_[t]=C_(n,e)):n},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,r){const n=RL(Jc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=n5(Jc(e),t),a=i==null?void 0:i[ds];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(aie(r,i)&&(r!==void 0||__(e.base_,t)))return!0;i5(e),E_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return n5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,i5(e),E_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){oo(11)},getPrototypeOf(e){return Xm(e.base_)},setPrototypeOf(){oo(12)}},Zm={};uy(eS,(e,t)=>{Zm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zm.deleteProperty=function(e,t){return Zm.set.call(this,e,t,void 0)};Zm.set=function(e,t,r){return eS.set.call(this,e[0],t,r,e[0])};function n5(e,t){const r=e[ds];return(r?Jc(r):e)[t]}function fie(e,t,r){var i;const n=RL(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function RL(e,t){if(!(t in e))return;let r=Xm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Xm(r)}}function E_(e){e.modified_||(e.modified_=!0,e.parent_&&E_(e.parent_))}function i5(e){e.copy_||(e.copy_=S_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&oo(6),n!==void 0&&typeof n!="function"&&oo(7);let i;if(Uf(t)){const a=nC(this),s=C_(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?k_(a):A_(a)}return rC(a,n),iC(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===IL&&(i=void 0),this.autoFreeze_&&J6(i,!0),n){const a=[],s=[];Vf("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else oo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Uf(e)||oo(8),Cd(e)&&(e=die(e));const t=nC(this),r=C_(e,void 0);return r[ds].isManual_=!0,A_(t),r}finishDraft(e,t){const r=e&&e[ds];(!r||!r.isManual_)&&oo(9);const{scope_:n}=r;return rC(n,t),iC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Vf("Patches").applyPatches_;return Cd(e)?n(e,t):this.produce(e,i=>n(i,t))}};function C_(e,t){const r=z0(e)?Vf("MapSet").proxyMap_(e,t):Zb(e)?Vf("MapSet").proxySet_(e,t):cie(e,t);return(t?t.scope_:ML()).drafts_.push(r),r}function die(e){return Cd(e)||oo(10,e),LL(e)}function LL(e){if(!Uf(e)||Qb(e))return e;const t=e[ds];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=S_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=S_(e,!0);return uy(r,(i,a)=>{jL(r,i,LL(a))},n),t&&(t.finalized_=!1),r}var pie=new hie;pie.produce;var mie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DL=Ha({name:"legend",initialState:mie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_n()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:_n()},removeLegendPayload:{reducer(e,t){var r=fo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:_n()}}}),{setLegendSize:sC,setLegendSettings:gie,addLegendPayload:FL,replaceLegendPayload:BL,removeLegendPayload:zL}=DL.actions,vie=DL.reducer,yie=["contextPayload"];function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){bie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bie(e,t,r){return(t=wie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=xie(e,"string");return typeof t=="symbol"?t:t+""}function xie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ie(e,t){if(e==null)return{};var r,n,i=Sie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kie(e){return e.value}function Aie(e){var{contextPayload:t}=e,r=_ie(e,yie),n=PR(t,e.payloadUniqBy,kie),i=Td(Td({},r),{},{payload:n});return Y.isValidElement(e.content)?Y.cloneElement(e.content,i):typeof e.content=="function"?Y.createElement(e.content,i):Y.createElement(Pte,i)}function Eie(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Td(Td({},u),c)}function Cie(e){var t=pn();return Y.useEffect(()=>{t(gie(e))},[t,e]),null}function Tie(e){var t=pn();return Y.useEffect(()=>(t(sC(e)),()=>{t(sC({width:0,height:0}))}),[t,e]),null}function Pie(e,t,r,n){return e==="vertical"&&$t(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Nie={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function P_(e){var t=ui(e,Nie),r=dre(),n=See(),i=rie(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=UR([r]),f=Z6(),h=Q6();if(f==null||h==null)return null;var d=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),m=Pie(t.layout,s,a,d),g=l?o:Td(Td({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||s||"auto"},Eie(o,t,i,f,h,u)),o),p=l??n;if(p==null||r==null)return null;var v=Y.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},Y.createElement(Cie,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&Y.createElement(Tie,{width:u.width,height:u.height}),Y.createElement(Aie,T_({},t,m,{margin:i,chartWidth:f,chartHeight:h,contextPayload:r})));return rb.createPortal(v,p)}P_.displayName="Legend";function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(null,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mie(e){return Array.isArray(e)&&Yo(e[0])&&Yo(e[1])?e.join(" ~ "):e}var Rie=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:h=!1}=e,d=()=>{if(a&&a.length){var C={padding:0,margin:0},O=(o?Rb(a,o):a).map((I,T)=>{if(I.type==="none")return null;var M=I.formatter||s||Mie,{value:B,name:L}=I,P=B,A=L;if(M){var j=M(B,L,I,T,a);if(Array.isArray(j))[P,A]=j;else if(j!=null)P=j;else return null}var E=a5({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:E},Yo(A)?Y.createElement("span",{className:"recharts-tooltip-item-name"},A):null,Yo(A)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},P),Y.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:C},O)}return null},m=a5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=a5({margin:0},i),p=!En(c),v=p?c:"",y=Dr("recharts-default-tooltip",l),b=Dr("recharts-tooltip-label",u);p&&f&&a!==void 0&&a!==null&&(v=f(c,a));var x=h?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",N_({className:y,style:m},x),Y.createElement("p",{className:b,style:g},Y.isValidElement(v)?v:"".concat(v)),d())},kp="recharts-tooltip-wrapper",Lie={visibility:"hidden"};function Die(e){var{coordinate:t,translateX:r,translateY:n}=e;return Dr(kp,{["".concat(kp,"-right")]:$t(r)&&t&&$t(t.x)&&r>=t.x,["".concat(kp,"-left")]:$t(r)&&t&&$t(t.x)&&r<t.x,["".concat(kp,"-bottom")]:$t(n)&&t&&$t(t.y)&&n>=t.y,["".concat(kp,"-top")]:$t(n)&&t&&$t(t.y)&&n<t.y})}function uC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&$t(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?c:f;var h=l[n];if(h==null)return 0;if(s[n]){var d=c,m=h;return d<m?Math.max(f,h):Math.max(c,h)}if(u==null)return 0;var g=f+o,p=h+u;return g>p?Math.max(c,h):Math.max(f,h)}function Fie(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Bie(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,f;return s.height>0&&s.width>0&&r?(c=uC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=uC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Fie({translateX:c,translateY:f,useTranslate3d:o})):u=Lie,{cssProperties:u,cssClasses:Die({translateX:c,translateY:f,coordinate:r})}}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){I_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I_(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vie extends Y.PureComponent{constructor(){super(...arguments),I_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),I_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:h,viewBox:d,wrapperStyle:m,lastBoundingBox:g,innerRef:p,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=Bie({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:d}),x=v?{}:d1(d1({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=d1(d1({},x),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return Y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:C,ref:p},a)}}var UL=()=>{var e;return(e=Wt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(null,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){$ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ie(e,t,r){return(t=qie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Hie(e,"string");return typeof t=="symbol"?t:t+""}function Hie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dC={curveBasisClosed:Vee,curveBasisOpen:$ee,curveBasis:Uee,curveBumpX:Cee,curveBumpY:Tee,curveLinearClosed:qee,curveLinear:Tb,curveMonotoneX:Hee,curveMonotoneY:Wee,curveNatural:Kee,curveStep:Gee,curveStepAfter:Yee,curveStepBefore:Xee},hy=e=>Mn(e.x)&&Mn(e.y),pC=e=>e.base!=null&&hy(e.base)&&hy(e),Ap=e=>e.x,Ep=e=>e.y,Wie=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(j0(e));return(r==="curveMonotone"||r==="curveBump")&&t?dC["".concat(r).concat(t==="vertical"?"Y":"X")]:dC[r]||Tb},Kie=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=Wie(t,i),o=a?r.filter(hy):r,l;if(Array.isArray(n)){var u=r.map((d,m)=>hC(hC({},d),{},{base:n[m]}));i==="vertical"?l=a1().y(Ep).x1(Ap).x0(d=>d.base.x):l=a1().x(Ap).y1(Ep).y0(d=>d.base.y);var c=l.defined(pC).curve(s),f=a?u.filter(pC):u;return c(f)}i==="vertical"&&$t(n)?l=a1().y(Ep).x1(Ap).x0(n):$t(n)?l=a1().x(Ap).y1(Ep).y0(n):l=XM().x(Ap).y(Ep);var h=l.defined(hy).curve(s);return h(o)},tS=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Vd();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?Kie(s):n;return Y.createElement("path",O_({},hs(e),T6(e),{className:Dr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},Gie=["x","y","top","left","width","height","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){Yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jie(e,t){if(e==null)return{};var r,n,i=eae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tae=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),rae=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Jie(e,Gie),u=Xie({x:t,y:r,top:n,left:i,width:a,height:s},l);return!$t(t)||!$t(r)||!$t(a)||!$t(s)||!$t(n)||!$t(i)?null:Y.createElement("path",j_({},Ca(u),{className:Dr("recharts-cross",o),d:tae(t,r,a,s,n,i)}))};function nae(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){iae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t,r){return(t=aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),VL=(e,t,r)=>e.map(n=>"".concat(oae(n)," ").concat(t,"ms ").concat(r)).join(","),lae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Qm=(e,t)=>Object.keys(t).reduce((r,n)=>vC(vC({},r),{},{[n]:e(n,t[n])}),{});function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return(t=cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=(e,t,r)=>e+(t-e)*r,M_=e=>{var{from:t,to:r}=e;return t!==r},$L=(e,t,r)=>{var n=Qm((i,a)=>{if(M_(a)){var[s,o]=e(a.from,a.to,a.velocity);return di(di({},a),{},{from:s,velocity:o})}return a},t);return r<1?Qm((i,a)=>M_(a)&&n[i]!=null?di(di({},a),{},{velocity:dy(a.velocity,n[i].velocity,r),from:dy(a.from,n[i].from,r)}):a,t):$L(e,n,r-1)};function hae(e,t,r,n,i,a){var s,o=n.reduce((h,d)=>di(di({},h),{},{[d]:{from:e[d],velocity:0,to:t[d]}}),{}),l=()=>Qm((h,d)=>d.from,o),u=()=>!Object.values(o).filter(M_).length,c=null,f=h=>{s||(s=h);var d=h-s,m=d/r.dt;o=$L(r,o,m),i(di(di(di({},e),t),l())),s=h,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var h;(h=c)===null||h===void 0||h()})}function dae(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>{var d=e[h],m=t[h];return d==null||m==null?f:di(di({},f),{},{[h]:[d,m]})},{}),u,c=f=>{u||(u=f);var h=(f-u)/n,d=Qm((g,p)=>dy(...p,r(h)),l);if(a(di(di(di({},e),t),d)),h<1)o=s.setTimeout(c);else{var m=Qm((g,p)=>dy(...p,r(1)),l);a(di(di(di({},e),t),m))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const pae=(e,t,r,n,i,a)=>{var s=lae(e,t);return r==null?()=>(i(di(di({},e),t)),()=>{}):r.isStepper===!0?hae(e,t,r,s,i,a):dae(e,t,r,n,s,i,a)};var py=1e-4,qL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bC=(e,t)=>r=>{var n=qL(e,t);return HL(n,r)},mae=(e,t)=>r=>{var n=qL(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return HL(i,r)},gae=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},vae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=gae(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},yae=(e,t,r,n)=>{var i=bC(e,r),a=bC(t,n),s=mae(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,h=0;h<8;++h){var d=i(f)-c,m=s(f);if(Math.abs(d-c)<py||m<py)return a(f);f=o(f-d/m)}return a(f)};return l.isStepper=!1,l},wC=function(){return yae(...vae(...arguments))},bae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,f=l+(u-c)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<py&&Math.abs(f)<py?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},wae=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wC(e);case"spring":return bae();default:if(e.split("(")[0]==="cubic-bezier")return wC(e)}return typeof e=="function"?e:null};function xae(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class _ae{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sae(){return xae(new _ae)}var kae=Y.createContext(Sae);function Aae(e,t){var r=Y.useContext(kae);return Y.useMemo(()=>t??r(e),[e,t,r])}var Eae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jb={isSsr:Eae()},Cae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xC={t:0},s5={t:1};function U0(e){var t=ui(e,Cae),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!Jb.isSsr:r,f=Aae(t.animationId,t.animationManager),[h,d]=Y.useState(c?xC:s5),m=Y.useRef(null);return Y.useEffect(()=>{c||d(s5)},[c]),Y.useEffect(()=>{if(!c||!n)return M0;var g=pae(xC,s5,wae(a),i,d,f.getTimeoutController()),p=()=>{m.current=g()};return f.start([l,s,p,i,o]),()=>{f.stop(),m.current&&m.current(),o()}},[c,n,i,a,s,l,o,f]),u(h.t)}function V0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=Y.useRef(Hm(t)),n=Y.useRef(e);return n.current!==e&&(r.current=Hm(t),n.current=e),r.current}var Tae=["radius"],Pae=["radius"],_C,SC,kC,AC,EC,CC,TC,PC,NC,IC;function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function MC(e,t){if(e==null)return{};var r,n,i=jae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RC=(e,t,r,n,i)=>{var a=Ku(r),s=Ku(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],d=0,m=4;d<m;d++)h[d]=i[d]>o?o:i[d];f=zn(_C||(_C=Oo(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=zn(SC||(SC=Oo(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),f+=zn(kC||(kC=Oo(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=zn(AC||(AC=Oo(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+l*h[1])),f+=zn(EC||(EC=Oo(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(f+=zn(CC||(CC=Oo(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-u*h[2],t+n)),f+=zn(TC||(TC=Oo(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=zn(PC||(PC=Oo(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=zn(NC||(NC=Oo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,c,e+u*g,t,e+r-u*g,t,g,g,c,e+r,t+l*g,e+r,t+n-l*g,g,g,c,e+r-u*g,t+n,e+u*g,t+n,g,g,c,e,t+n-l*g)}else f=zn(IC||(IC=Oo(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},LC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WL=e=>{var t=ui(e,LC),r=Y.useRef(null),[n,i]=Y.useState(-1);Y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:h,animationBegin:d,isAnimationActive:m,isUpdateAnimationActive:g}=t,p=Y.useRef(o),v=Y.useRef(l),y=Y.useRef(a),b=Y.useRef(s),x=Y.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),C=V0(x,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Dr("recharts-rectangle",c);if(!g){var I=Ca(t),{radius:T}=I,M=MC(I,Tae);return Y.createElement("path",my({},M,{x:Ku(a),y:Ku(s),width:Ku(o),height:Ku(l),radius:typeof u=="number"?u:void 0,className:O,d:RC(a,s,o,l,u)}))}var B=p.current,L=v.current,P=y.current,A=b.current,j="0px ".concat(n===-1?1:n,"px"),E="".concat(n,"px 0px"),w=VL(["strokeDasharray"],h,typeof f=="string"?f:LC.animationEasing);return Y.createElement(U0,{animationId:C,key:C,canBegin:n>0,duration:h,easing:f,isActive:g,begin:d},S=>{var _=Sn(B,o,S),k=Sn(L,l,S),N=Sn(P,a,S),$=Sn(A,s,S);r.current&&(p.current=_,v.current=k,y.current=N,b.current=$);var R;m?S>0?R={transition:w,strokeDasharray:E}:R={strokeDasharray:j}:R={strokeDasharray:E};var H=Ca(t),{radius:K}=H,J=MC(H,Pae);return Y.createElement("path",my({},J,{radius:typeof u=="number"?u:void 0,className:O,d:RC(N,$,_,k,u),ref:r,style:jC(jC({},R),t.style)}))})};function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return(t=Rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=Lae(e,"string");return typeof t=="symbol"?t:t+""}function Lae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=Math.PI/180,Dae=e=>e*180/Math.PI,si=(e,t,r,n)=>({x:e+Math.cos(-gy*n)*r,y:t+Math.sin(-gy*n)*r}),KL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fae=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},Bae=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=Fae({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:Dae(l),angleInRadian:l}},zae=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Uae=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},Vae=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=Bae({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=zae(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?FC(FC({},t),{},{radius:i,angle:Uae(c,t)}):null};function GL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=si(t,r,n,i),o=si(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var BC,zC,UC,VC,$C,qC,HC;function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(null,arguments)}function of(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $ae=(e,t)=>{var r=Ni(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},p1=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/gy,f=l?i:i+a*c,h=si(t,r,u,f),d=si(t,r,n,f),m=l?i-a*c:i,g=si(t,r,u*Math.cos(c*gy),m);return{center:h,circleTangency:d,lineTangency:g,theta:c}},XL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=$ae(a,s),l=a+o,u=si(t,r,i,a),c=si(t,r,i,l),f=zn(BC||(BC=of(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(n>0){var h=si(t,r,n,a),d=si(t,r,n,l);f+=zn(zC||(zC=of(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),d.x,d.y,n,n,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=zn(UC||(UC=of(["L ",","," Z"])),t,r);return f},qae=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=Ni(u-l),{circleTangency:f,lineTangency:h,theta:d}=p1({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:p}=p1({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-u):Math.abs(l-u)-d-p;if(v<0)return s?zn(VC||(VC=of(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):XL({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var y=zn($C||($C=of(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),f.x,f.y,i,i,+(v>180),+(c<0),m.x,m.y,a,a,+(c<0),g.x,g.y);if(n>0){var{circleTangency:b,lineTangency:x,theta:C}=p1({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:I,theta:T}=p1({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),M=o?Math.abs(l-u):Math.abs(l-u)-C-T;if(M<0&&a===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=zn(qC||(qC=of(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,a,a,+(c<0),O.x,O.y,n,n,+(M>180),+(c>0),b.x,b.y,a,a,+(c<0),x.x,x.y)}else y+=zn(HC||(HC=of(["L",",","Z"])),t,r);return y},Hae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YL=e=>{var t=ui(e,Hae),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var h=Dr("recharts-sector",f),d=a-i,m=ca(s,d,0,!0),g;return m>0&&Math.abs(u-c)<360?g=qae({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,d/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):g=XL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),Y.createElement("path",R_({},Ca(t),{className:h,d:g}))};function Wae(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(fR(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=si(n,i,a,o),u=si(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return GL(t)}}var ZL={},QL={},JL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(JL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JL;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(QL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z6,r=QL;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(ZL);var Kae=ZL.range;const eD=yo(Kae);function uc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rS(e){let t,r,n;e.length!==2?(t=uc,r=(o,l)=>uc(e(o),l),n=(o,l)=>e(o)-l):(t=e===uc||e===Gae?e:Xae,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Xae(){return 0}function tD(e){return e===null?NaN:+e}function*Yae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Zae=rS(uc),$0=Zae.right;rS(tD).center;class WC extends Map{constructor(t,r=ese){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(KC(this,t))}has(t){return super.has(KC(this,t))}set(t,r){return super.set(Qae(this,t),r)}delete(t){return super.delete(Jae(this,t))}}function KC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Jae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ese(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tse(e=uc){if(e===uc)return rD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rse=Math.sqrt(50),nse=Math.sqrt(10),ise=Math.sqrt(2);function vy(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=rse?10:a>=nse?5:a>=ise?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?vy(e,t,r*2):[o,l,u]}function L_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?vy(t,e,r):vy(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function D_(e,t,r){return t=+t,e=+e,r=+r,vy(e,t,r)[2]}function F_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?D_(t,e,r):D_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function GC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?rD:tse(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),d=Math.max(r,Math.floor(t-u*f/l+h)),m=Math.min(n,Math.floor(t+(l-u)*f/l+h));nD(e,t,d,m,i)}const a=e[t];let s=r,o=n;for(Cp(e,r,t),i(e[n],a)>0&&Cp(e,r,n);s<o;){for(Cp(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Cp(e,r,o):(++o,Cp(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Cp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ase(e,t,r){if(e=Float64Array.from(Yae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return XC(e);if(t>=1)return GC(e);var n,i=(n-1)*t,a=Math.floor(i),s=GC(nD(e,a).subarray(0,a+1)),o=XC(e.subarray(a+1));return s+(o-s)*(i-a)}}function sse(e,t,r=tD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function ose(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const B_=Symbol("implicit");function nS(){var e=new WC,t=[],r=[],n=B_;function i(a){let s=e.get(a);if(s===void 0){if(n!==B_)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new WC;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nS(t,r).unknown(n)},Us.apply(i,arguments),i}function iS(){var e=nS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,d=i<n,m=d?i:n,g=d?n:i;a=(g-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*c,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var p=ose(h).map(function(v){return m+a*v});return r(d?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return iS(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Us.apply(f(),arguments)}function iD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iD(t())},e}function lse(){return iD(iS.apply(null,arguments).paddingInner(1))}function aS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function q0(){}var Jm=.7,yy=1/Jm,ld="\\s*([+-]?\\d+)\\s*",e0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",use=/^#([0-9a-f]{3,8})$/,cse=new RegExp(`^rgb\\(${ld},${ld},${ld}\\)$`),fse=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),hse=new RegExp(`^rgba\\(${ld},${ld},${ld},${e0}\\)$`),dse=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${e0}\\)$`),pse=new RegExp(`^hsl\\(${e0},${Ko},${Ko}\\)$`),mse=new RegExp(`^hsla\\(${e0},${Ko},${Ko},${e0}\\)$`),YC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aS(q0,t0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZC,formatHex:ZC,formatHex8:gse,formatHsl:vse,formatRgb:QC,toString:QC});function ZC(){return this.rgb().formatHex()}function gse(){return this.rgb().formatHex8()}function vse(){return sD(this).formatHsl()}function QC(){return this.rgb().formatRgb()}function t0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=use.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?JC(t):r===3?new Ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?m1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?m1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cse.exec(e))?new Ua(t[1],t[2],t[3],1):(t=fse.exec(e))?new Ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hse.exec(e))?m1(t[1],t[2],t[3],t[4]):(t=dse.exec(e))?m1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pse.exec(e))?rT(t[1],t[2]/100,t[3]/100,1):(t=mse.exec(e))?rT(t[1],t[2]/100,t[3]/100,t[4]):YC.hasOwnProperty(e)?JC(YC[e]):e==="transparent"?new Ua(NaN,NaN,NaN,0):null}function JC(e){return new Ua(e>>16&255,e>>8&255,e&255,1)}function m1(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ua(e,t,r,n)}function yse(e){return e instanceof q0||(e=t0(e)),e?(e=e.rgb(),new Ua(e.r,e.g,e.b,e.opacity)):new Ua}function z_(e,t,r,n){return arguments.length===1?yse(e):new Ua(e,t,r,n??1)}function Ua(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}aS(Ua,z_,aD(q0,{brighter(e){return e=e==null?yy:Math.pow(yy,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ua(bf(this.r),bf(this.g),bf(this.b),by(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eT,formatHex:eT,formatHex8:bse,formatRgb:tT,toString:tT}));function eT(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}`}function bse(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}${lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function tT(){const e=by(this.opacity);return`${e===1?"rgb(":"rgba("}${bf(this.r)}, ${bf(this.g)}, ${bf(this.b)}${e===1?")":`, ${e})`}`}function by(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lf(e){return e=bf(e),(e<16?"0":"")+e.toString(16)}function rT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new lo(e,t,r,n)}function sD(e){if(e instanceof lo)return new lo(e.h,e.s,e.l,e.opacity);if(e instanceof q0||(e=t0(e)),!e)return new lo;if(e instanceof lo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new lo(s,o,l,e.opacity)}function wse(e,t,r,n){return arguments.length===1?sD(e):new lo(e,t,r,n??1)}function lo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}aS(lo,wse,aD(q0,{brighter(e){return e=e==null?yy:Math.pow(yy,e),new lo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new lo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ua(o5(e>=240?e-240:e+120,i,n),o5(e,i,n),o5(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new lo(nT(this.h),g1(this.s),g1(this.l),by(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=by(this.opacity);return`${e===1?"hsl(":"hsla("}${nT(this.h)}, ${g1(this.s)*100}%, ${g1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nT(e){return e=(e||0)%360,e<0?e+360:e}function g1(e){return Math.max(0,Math.min(1,e||0))}function o5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sS=e=>()=>e;function xse(e,t){return function(r){return e+r*t}}function _se(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sse(e){return(e=+e)==1?oD:function(t,r){return r-t?_se(t,r,e):sS(isNaN(t)?r:t)}}function oD(e,t){var r=t-e;return r?xse(e,r):sS(isNaN(e)?t:e)}const iT=function e(t){var r=Sse(t);function n(i,a){var s=r((i=z_(i)).r,(a=z_(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=oD(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function kse(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Ase(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ese(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=$d(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Cse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Tse(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$d(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var U_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l5=new RegExp(U_.source,"g");function Pse(e){return function(){return e}}function Nse(e){return function(t){return e(t)+""}}function Ise(e,t){var r=U_.lastIndex=l5.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=U_.exec(e))&&(i=l5.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:wy(n,i)})),r=l5.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Nse(l[0].x):Pse(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function $d(e,t){var r=typeof t,n;return t==null||r==="boolean"?sS(t):(r==="number"?wy:r==="string"?(n=t0(t))?(t=n,iT):Ise:t instanceof t0?iT:t instanceof Date?Cse:Ase(t)?kse:Array.isArray(t)?Ese:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tse:wy)(e,t)}function oS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ose(e,t){t===void 0&&(t=e,e=$d);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function jse(e){return function(){return e}}function xy(e){return+e}var aT=[0,1];function Sa(e){return e}function V_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:jse(isNaN(t)?NaN:.5)}function Mse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rse(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=V_(i,n),a=r(s,a)):(n=V_(n,i),a=r(a,s)),function(o){return a(n(o))}}function Lse(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=V_(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=$0(e,o,1,n)-1;return a[l](i[l](o))}}function H0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function e2(){var e=aT,t=aT,r=$d,n,i,a,s=Sa,o,l,u;function c(){var h=Math.min(e.length,t.length);return s!==Sa&&(s=Mse(e[0],e[h-1])),o=h>2?Lse:Rse,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),wy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,xy),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=oS,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Sa,c()):s!==Sa},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return n=h,i=d,c()}}function lS(){return e2()(Sa,Sa)}function Dse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _y(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pd(e){return e=_y(Math.abs(e)),e?e[1]:NaN}function Fse(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Bse(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r0(e){if(!(t=zse.exec(e)))throw new Error("invalid format: "+e);var t;return new uS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}r0.prototype=uS.prototype;function uS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Use(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var lD;function Vse(e,t){var r=_y(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(lD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_y(e,Math.max(0,t+a-1))[0]}function sT(e,t){var r=_y(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sT(e*100,t),r:sT,s:Vse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lT(e){return e}var uT=Array.prototype.map,cT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $se(e){var t=e.grouping===void 0||e.thousands===void 0?lT:Fse(uT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lT:Bse(uT.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=r0(f);var h=f.fill,d=f.align,m=f.sign,g=f.symbol,p=f.zero,v=f.width,y=f.comma,b=f.precision,x=f.trim,C=f.type;C==="n"?(y=!0,C="g"):oT[C]||(b===void 0&&(b=12),x=!0,C="g"),(p||h==="0"&&d==="=")&&(p=!0,h="0",d="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=g==="$"?n:/[%p]/.test(C)?s:"",T=oT[C],M=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function B(L){var P=O,A=I,j,E,w;if(C==="c")A=T(L)+A,L="";else{L=+L;var S=L<0||1/L<0;if(L=isNaN(L)?l:T(Math.abs(L),b),x&&(L=Use(L)),S&&+L==0&&m!=="+"&&(S=!1),P=(S?m==="("?m:o:m==="-"||m==="("?"":m)+P,A=(C==="s"?cT[8+lD/3]:"")+A+(S&&m==="("?")":""),M){for(j=-1,E=L.length;++j<E;)if(w=L.charCodeAt(j),48>w||w>57){A=(w===46?i+L.slice(j+1):L.slice(j))+A,L=L.slice(0,j);break}}}y&&!p&&(L=t(L,1/0));var _=P.length+L.length+A.length,k=_<v?new Array(v-_+1).join(h):"";switch(y&&p&&(L=t(k+L,k.length?v-A.length:1/0),k=""),d){case"<":L=P+L+A+k;break;case"=":L=P+k+L+A;break;case"^":L=k.slice(0,_=k.length>>1)+P+L+A+k.slice(_);break;default:L=k+P+L+A;break}return a(L)}return B.toString=function(){return f+""},B}function c(f,h){var d=u((f=r0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Pd(h)/3)))*3,g=Math.pow(10,-m),p=cT[8+m/3];return function(v){return d(g*v)+p}}return{format:u,formatPrefix:c}}var v1,cS,uD;qse({thousands:",",grouping:[3],currency:["$",""]});function qse(e){return v1=$se(e),cS=v1.format,uD=v1.formatPrefix,v1}function Hse(e){return Math.max(0,-Pd(Math.abs(e)))}function Wse(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)))*3-Pd(Math.abs(e)))}function Kse(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pd(t)-Pd(e))+1}function cD(e,t,r,n){var i=F_(e,t,r),a;switch(n=r0(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Wse(i,s))&&(n.precision=a),uD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Kse(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Hse(i))&&(n.precision=a-(n.type==="%")*2);break}}return cS(n)}function jc(e){var t=e.domain;return e.ticks=function(r){var n=t();return L_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return cD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=D_(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function fD(){var e=lS();return e.copy=function(){return H0(e,fD())},Us.apply(e,arguments),jc(e)}function hD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,xy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hD(e).unknown(t)},e=arguments.length?Array.from(e,xy):[0,1],jc(r)}function dD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function fT(e){return Math.log(e)}function hT(e){return Math.exp(e)}function Gse(e){return-Math.log(-e)}function Xse(e){return-Math.exp(-e)}function Yse(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zse(e){return e===10?Yse:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dT(e){return(t,r)=>-e(-t,r)}function fS(e){const t=e(fT,hT),r=t.domain;let n=10,i,a;function s(){return i=Qse(n),a=Zse(n),r()[0]<0?(i=dT(i),a=dT(a),e(Gse,Xse)):e(fT,hT),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),m,g;const p=o==null?10:+o;let v=[];if(!(n%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>c)break;v.push(g)}}else for(;h<=d;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>c)break;v.push(g)}v.length*2<p&&(v=L_(u,c,p))}else v=L_(h,d,Math.min(d-h,p)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=r0(l)).precision==null&&(l.trim=!0),l=cS(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},t.nice=()=>r(dD(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function pD(){const e=fS(e2()).domain([1,10]);return e.copy=()=>H0(e,pD()).base(e.base()),Us.apply(e,arguments),e}function pT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hS(e){var t=1,r=e(pT(t),mT(t));return r.constant=function(n){return arguments.length?e(pT(t=+n),mT(t)):t},jc(r)}function mD(){var e=hS(e2());return e.copy=function(){return H0(e,mD()).constant(e.constant())},Us.apply(e,arguments)}function gT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eoe(e){return e<0?-e*e:e*e}function dS(e){var t=e(Sa,Sa),r=1;function n(){return r===1?e(Sa,Sa):r===.5?e(Jse,eoe):e(gT(r),gT(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},jc(t)}function pS(){var e=dS(e2());return e.copy=function(){return H0(e,pS()).exponent(e.exponent())},Us.apply(e,arguments),e}function toe(){return pS.apply(null,arguments).exponent(.5)}function vT(e){return Math.sign(e)*e*e}function roe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gD(){var e=lS(),t=[0,1],r=!1,n;function i(a){var s=roe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(vT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,xy)).map(vT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Us.apply(i,arguments),jc(i)}function vD(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=sse(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[$0(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(uc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return vD().domain(e).range(t).unknown(n)},Us.apply(a,arguments)}function yD(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[$0(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return yD().domain([e,t]).range(i).unknown(a)},Us.apply(jc(s),arguments)}function bD(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[$0(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bD().domain(e).range(t).unknown(r)},Us.apply(i,arguments)}const u5=new Date,c5=new Date;function vi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>vi(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(u5.setTime(+a),c5.setTime(+s),e(u5),e(c5),Math.floor(r(u5,c5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Sy=vi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sy);Sy.range;const kl=1e3,Rs=kl*60,Al=Rs*60,$l=Al*24,mS=$l*7,yT=$l*30,f5=$l*365,uf=vi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCSeconds());uf.range;const gS=vi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());gS.range;const vS=vi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());vS.range;const yS=vi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getHours());yS.range;const bS=vi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCHours());bS.range;const W0=vi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/$l,e=>e.getDate()-1);W0.range;const t2=vi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>e.getUTCDate()-1);t2.range;const wD=vi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>Math.floor(e/$l));wD.range;function Qf(e){return vi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/mS)}const r2=Qf(0),ky=Qf(1),noe=Qf(2),ioe=Qf(3),Nd=Qf(4),aoe=Qf(5),soe=Qf(6);r2.range;ky.range;noe.range;ioe.range;Nd.range;aoe.range;soe.range;function Jf(e){return vi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mS)}const n2=Jf(0),Ay=Jf(1),ooe=Jf(2),loe=Jf(3),Id=Jf(4),uoe=Jf(5),coe=Jf(6);n2.range;Ay.range;ooe.range;loe.range;Id.range;uoe.range;coe.range;const wS=vi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wS.range;const xS=vi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xS.range;const ql=vi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ql.range;const Hl=vi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hl.range;function xD(e,t,r,n,i,a){const s=[[uf,1,kl],[uf,5,5*kl],[uf,15,15*kl],[uf,30,30*kl],[a,1,Rs],[a,5,5*Rs],[a,15,15*Rs],[a,30,30*Rs],[i,1,Al],[i,3,3*Al],[i,6,6*Al],[i,12,12*Al],[n,1,$l],[n,2,2*$l],[r,1,mS],[t,1,yT],[t,3,3*yT],[e,1,f5]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),m=d?d.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,d=rS(([,,p])=>p).right(s,h);if(d===s.length)return e.every(F_(u/f5,c/f5,f));if(d===0)return Sy.every(Math.max(F_(u,c,f),1));const[m,g]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return m.every(g)}return[o,l]}const[foe,hoe]=xD(Hl,xS,n2,wD,bS,vS),[doe,poe]=xD(ql,wS,r2,W0,yS,gS);function h5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function d5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function moe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Pp(i),c=Np(i),f=Pp(a),h=Np(a),d=Pp(s),m=Np(s),g=Pp(o),p=Np(o),v=Pp(l),y=Np(l),b={a:S,A:_,b:k,B:N,c:null,d:kT,e:kT,f:Foe,g:Goe,G:Yoe,H:Roe,I:Loe,j:Doe,L:_D,m:Boe,M:zoe,p:$,q:R,Q:CT,s:TT,S:Uoe,u:Voe,U:$oe,V:qoe,w:Hoe,W:Woe,x:null,X:null,y:Koe,Y:Xoe,Z:Zoe,"%":ET},x={a:H,A:K,b:J,B:V,c:null,d:AT,e:AT,f:tle,g:fle,G:dle,H:Qoe,I:Joe,j:ele,L:kD,m:rle,M:nle,p:Z,q:z,Q:CT,s:TT,S:ile,u:ale,U:sle,V:ole,w:lle,W:ule,x:null,X:null,y:cle,Y:hle,Z:ple,"%":ET},C={a:B,A:L,b:P,B:A,c:j,d:_T,e:_T,f:Ioe,g:xT,G:wT,H:ST,I:ST,j:Coe,L:Noe,m:Eoe,M:Toe,p:M,q:Aoe,Q:joe,s:Moe,S:Poe,u:woe,U:xoe,V:_oe,w:boe,W:Soe,x:E,X:w,y:xT,Y:wT,Z:koe,"%":Ooe};b.x=O(r,b),b.X=O(n,b),b.c=O(t,b),x.x=O(r,x),x.X=O(n,x),x.c=O(t,x);function O(D,G){return function(te){var ae=[],se=-1,le=0,fe=D.length,ie,oe,be;for(te instanceof Date||(te=new Date(+te));++se<fe;)D.charCodeAt(se)===37&&(ae.push(D.slice(le,se)),(oe=bT[ie=D.charAt(++se)])!=null?ie=D.charAt(++se):oe=ie==="e"?" ":"0",(be=G[ie])&&(ie=be(te,oe)),ae.push(ie),le=se+1);return ae.push(D.slice(le,se)),ae.join("")}}function I(D,G){return function(te){var ae=Tp(1900,void 0,1),se=T(ae,D,te+="",0),le,fe;if(se!=te.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(G&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(le=d5(Tp(ae.y,0,1)),fe=le.getUTCDay(),le=fe>4||fe===0?Ay.ceil(le):Ay(le),le=t2.offset(le,(ae.V-1)*7),ae.y=le.getUTCFullYear(),ae.m=le.getUTCMonth(),ae.d=le.getUTCDate()+(ae.w+6)%7):(le=h5(Tp(ae.y,0,1)),fe=le.getDay(),le=fe>4||fe===0?ky.ceil(le):ky(le),le=W0.offset(le,(ae.V-1)*7),ae.y=le.getFullYear(),ae.m=le.getMonth(),ae.d=le.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),fe="Z"in ae?d5(Tp(ae.y,0,1)).getUTCDay():h5(Tp(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(fe+5)%7:ae.w+ae.U*7-(fe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,d5(ae)):h5(ae)}}function T(D,G,te,ae){for(var se=0,le=G.length,fe=te.length,ie,oe;se<le;){if(ae>=fe)return-1;if(ie=G.charCodeAt(se++),ie===37){if(ie=G.charAt(se++),oe=C[ie in bT?G.charAt(se++):ie],!oe||(ae=oe(D,te,ae))<0)return-1}else if(ie!=te.charCodeAt(ae++))return-1}return ae}function M(D,G,te){var ae=u.exec(G.slice(te));return ae?(D.p=c.get(ae[0].toLowerCase()),te+ae[0].length):-1}function B(D,G,te){var ae=d.exec(G.slice(te));return ae?(D.w=m.get(ae[0].toLowerCase()),te+ae[0].length):-1}function L(D,G,te){var ae=f.exec(G.slice(te));return ae?(D.w=h.get(ae[0].toLowerCase()),te+ae[0].length):-1}function P(D,G,te){var ae=v.exec(G.slice(te));return ae?(D.m=y.get(ae[0].toLowerCase()),te+ae[0].length):-1}function A(D,G,te){var ae=g.exec(G.slice(te));return ae?(D.m=p.get(ae[0].toLowerCase()),te+ae[0].length):-1}function j(D,G,te){return T(D,t,G,te)}function E(D,G,te){return T(D,r,G,te)}function w(D,G,te){return T(D,n,G,te)}function S(D){return s[D.getDay()]}function _(D){return a[D.getDay()]}function k(D){return l[D.getMonth()]}function N(D){return o[D.getMonth()]}function $(D){return i[+(D.getHours()>=12)]}function R(D){return 1+~~(D.getMonth()/3)}function H(D){return s[D.getUTCDay()]}function K(D){return a[D.getUTCDay()]}function J(D){return l[D.getUTCMonth()]}function V(D){return o[D.getUTCMonth()]}function Z(D){return i[+(D.getUTCHours()>=12)]}function z(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=O(D+="",b);return G.toString=function(){return D},G},parse:function(D){var G=I(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=O(D+="",x);return G.toString=function(){return D},G},utcParse:function(D){var G=I(D+="",!0);return G.toString=function(){return D},G}}}var bT={"-":"",_:" ",0:"0"},ji=/^\s*\d+/,goe=/^%/,voe=/[\\^$*+?|[\]().{}]/g;function Fr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function yoe(e){return e.replace(voe,"\\$&")}function Pp(e){return new RegExp("^(?:"+e.map(yoe).join("|")+")","i")}function Np(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function boe(e,t,r){var n=ji.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function woe(e,t,r){var n=ji.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xoe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _oe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Soe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wT(e,t,r){var n=ji.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xT(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function koe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Aoe(e,t,r){var n=ji.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Eoe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _T(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Coe(e,t,r){var n=ji.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ST(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Toe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Poe(e,t,r){var n=ji.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Noe(e,t,r){var n=ji.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ioe(e,t,r){var n=ji.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ooe(e,t,r){var n=goe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function joe(e,t,r){var n=ji.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Moe(e,t,r){var n=ji.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kT(e,t){return Fr(e.getDate(),t,2)}function Roe(e,t){return Fr(e.getHours(),t,2)}function Loe(e,t){return Fr(e.getHours()%12||12,t,2)}function Doe(e,t){return Fr(1+W0.count(ql(e),e),t,3)}function _D(e,t){return Fr(e.getMilliseconds(),t,3)}function Foe(e,t){return _D(e,t)+"000"}function Boe(e,t){return Fr(e.getMonth()+1,t,2)}function zoe(e,t){return Fr(e.getMinutes(),t,2)}function Uoe(e,t){return Fr(e.getSeconds(),t,2)}function Voe(e){var t=e.getDay();return t===0?7:t}function $oe(e,t){return Fr(r2.count(ql(e)-1,e),t,2)}function SD(e){var t=e.getDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function qoe(e,t){return e=SD(e),Fr(Nd.count(ql(e),e)+(ql(e).getDay()===4),t,2)}function Hoe(e){return e.getDay()}function Woe(e,t){return Fr(ky.count(ql(e)-1,e),t,2)}function Koe(e,t){return Fr(e.getFullYear()%100,t,2)}function Goe(e,t){return e=SD(e),Fr(e.getFullYear()%100,t,2)}function Xoe(e,t){return Fr(e.getFullYear()%1e4,t,4)}function Yoe(e,t){var r=e.getDay();return e=r>=4||r===0?Nd(e):Nd.ceil(e),Fr(e.getFullYear()%1e4,t,4)}function Zoe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fr(t/60|0,"0",2)+Fr(t%60,"0",2)}function AT(e,t){return Fr(e.getUTCDate(),t,2)}function Qoe(e,t){return Fr(e.getUTCHours(),t,2)}function Joe(e,t){return Fr(e.getUTCHours()%12||12,t,2)}function ele(e,t){return Fr(1+t2.count(Hl(e),e),t,3)}function kD(e,t){return Fr(e.getUTCMilliseconds(),t,3)}function tle(e,t){return kD(e,t)+"000"}function rle(e,t){return Fr(e.getUTCMonth()+1,t,2)}function nle(e,t){return Fr(e.getUTCMinutes(),t,2)}function ile(e,t){return Fr(e.getUTCSeconds(),t,2)}function ale(e){var t=e.getUTCDay();return t===0?7:t}function sle(e,t){return Fr(n2.count(Hl(e)-1,e),t,2)}function AD(e){var t=e.getUTCDay();return t>=4||t===0?Id(e):Id.ceil(e)}function ole(e,t){return e=AD(e),Fr(Id.count(Hl(e),e)+(Hl(e).getUTCDay()===4),t,2)}function lle(e){return e.getUTCDay()}function ule(e,t){return Fr(Ay.count(Hl(e)-1,e),t,2)}function cle(e,t){return Fr(e.getUTCFullYear()%100,t,2)}function fle(e,t){return e=AD(e),Fr(e.getUTCFullYear()%100,t,2)}function hle(e,t){return Fr(e.getUTCFullYear()%1e4,t,4)}function dle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Id(e):Id.ceil(e),Fr(e.getUTCFullYear()%1e4,t,4)}function ple(){return"+0000"}function ET(){return"%"}function CT(e){return+e}function TT(e){return Math.floor(+e/1e3)}var kh,ED,CD;mle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mle(e){return kh=moe(e),ED=kh.format,kh.parse,CD=kh.utcFormat,kh.utcParse,kh}function gle(e){return new Date(e)}function vle(e){return e instanceof Date?+e:+new Date(+e)}function _S(e,t,r,n,i,a,s,o,l,u){var c=lS(),f=c.invert,h=c.domain,d=u(".%L"),m=u(":%S"),g=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),x=u("%Y");function C(O){return(l(O)<O?d:o(O)<O?m:s(O)<O?g:a(O)<O?p:n(O)<O?i(O)<O?v:y:r(O)<O?b:x)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?h(Array.from(O,vle)):h().map(gle)},c.ticks=function(O){var I=h();return e(I[0],I[I.length-1],O??10)},c.tickFormat=function(O,I){return I==null?C:u(I)},c.nice=function(O){var I=h();return(!O||typeof O.range!="function")&&(O=t(I[0],I[I.length-1],O??10)),O?h(dD(I,O)):c},c.copy=function(){return H0(c,_S(e,t,r,n,i,a,s,o,l,u))},c}function yle(){return Us.apply(_S(doe,poe,ql,wS,r2,W0,yS,gS,uf,ED).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ble(){return Us.apply(_S(foe,hoe,Hl,xS,n2,t2,bS,vS,uf,CD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i2(){var e=0,t=1,r,n,i,a,s=Sa,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var d,m;return arguments.length?([d,m]=h,s=f(d,m),u):[s(0),s(1)]}}return u.range=c($d),u.rangeRound=c(oS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Mc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TD(){var e=jc(i2()(Sa));return e.copy=function(){return Mc(e,TD())},Zl.apply(e,arguments)}function PD(){var e=fS(i2()).domain([1,10]);return e.copy=function(){return Mc(e,PD()).base(e.base())},Zl.apply(e,arguments)}function ND(){var e=hS(i2());return e.copy=function(){return Mc(e,ND()).constant(e.constant())},Zl.apply(e,arguments)}function SS(){var e=dS(i2());return e.copy=function(){return Mc(e,SS()).exponent(e.exponent())},Zl.apply(e,arguments)}function wle(){return SS.apply(null,arguments).exponent(.5)}function ID(){var e=[],t=Sa;function r(n){if(n!=null&&!isNaN(n=+n))return t(($0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(uc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ase(e,a/n))},r.copy=function(){return ID(t).domain(e)},Zl.apply(r,arguments)}function a2(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=Sa,c,f=!1,h;function d(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d):[e,t,r]},d.clamp=function(g){return arguments.length?(f=!!g,d):f},d.interpolator=function(g){return arguments.length?(u=g,d):u};function m(g){return function(p){var v,y,b;return arguments.length?([v,y,b]=p,u=Ose(g,[v,y,b]),d):[u(0),u(.5),u(1)]}}return d.range=m($d),d.rangeRound=m(oS),d.unknown=function(g){return arguments.length?(h=g,d):h},function(g){return c=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d}}function OD(){var e=jc(a2()(Sa));return e.copy=function(){return Mc(e,OD())},Zl.apply(e,arguments)}function jD(){var e=fS(a2()).domain([.1,1,10]);return e.copy=function(){return Mc(e,jD()).base(e.base())},Zl.apply(e,arguments)}function MD(){var e=hS(a2());return e.copy=function(){return Mc(e,MD()).constant(e.constant())},Zl.apply(e,arguments)}function kS(){var e=dS(a2());return e.copy=function(){return Mc(e,kS()).exponent(e.exponent())},Zl.apply(e,arguments)}function xle(){return kS.apply(null,arguments).exponent(.5)}const Wp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iS,scaleDiverging:OD,scaleDivergingLog:jD,scaleDivergingPow:kS,scaleDivergingSqrt:xle,scaleDivergingSymlog:MD,scaleIdentity:hD,scaleImplicit:B_,scaleLinear:fD,scaleLog:pD,scaleOrdinal:nS,scalePoint:lse,scalePow:pS,scaleQuantile:vD,scaleQuantize:yD,scaleRadial:gD,scaleSequential:TD,scaleSequentialLog:PD,scaleSequentialPow:SS,scaleSequentialQuantile:ID,scaleSequentialSqrt:wle,scaleSequentialSymlog:ND,scaleSqrt:toe,scaleSymlog:mD,scaleThreshold:bD,scaleTime:yle,scaleUtc:ble,tickFormat:cD},Symbol.toStringTag,{value:"Module"}));var Ql=e=>e.chartData,s2=$e([Ql],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),AS=(e,t,r,n)=>n?s2(e):Ql(e),_le=(e,t,r)=>r?s2(e):Ql(e);function yc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Mn(t)&&Mn(r))return!0}return!1}function PT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function RD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Mn(r))i=r;else if(typeof r=="function")return;if(Mn(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(yc(s))return s}}function Sle(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(yc(n))return PT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if($t(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&G7.test(i)){var l=G7.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if($t(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&X7.test(a)){var c=X7.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(yc(h))return t==null?h:PT(h,t,r)}}}var qd=1e9,kle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CS,An=!0,zs="[DecimalError] ",wf=zs+"Invalid argument: ",ES=zs+"Exponent out of range: ",Hd=Math.floor,ef=Math.pow,Ale=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,Ci=1e7,vn=7,LD=9007199254740991,Ey=Hd(LD/vn),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return Pl(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return an(Pl(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return li(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rs))throw Error(zs+"NaN");if(r.s<1)throw Error(zs+(r.s?"NaN":"-Infinity"));return r.eq(rs)?new n(0):(An=!1,t=Pl(n0(r,a),n0(e,a),a),An=!0,an(t,i))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BD(t,e):DD(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zs+"NaN");return r.s?(An=!1,t=Pl(r,e,0,1).times(e),An=!0,r.minus(t)):an(new n(r),i)};zt.naturalExponential=zt.exp=function(){return FD(this)};zt.naturalLogarithm=zt.ln=function(){return n0(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DD(t,e):BD(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wf+e);if(t=li(i)+1,n=i.d.length-1,r=n*vn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(zs+"NaN")}for(e=li(o),An=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Fo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Hd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Pl(o,a,s+2)).times(.5),Fo(a.d).slice(0,s)===(t=Fo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(an(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return An=!0,an(n,r)};zt.times=zt.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,f=c.constructor,h=c.d,d=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=d.length,l<u&&(a=h,h=d,d=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+d[n]*h[i-n-1]+t,a[i--]=o%Ci|0,t=o/Ci|0;a[i]=(a[i]+t)%Ci|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,An?an(e,f.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qo(e,0,qd),t===void 0?t=n.rounding:Qo(t,0,8),an(r,e+li(r)+1,t))};zt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=$f(n,!0):(Qo(e,0,qd),t===void 0?t=i.rounding:Qo(t,0,8),n=an(new i(n),e+1,t),r=$f(n,!0,e+1)),r};zt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?$f(i):(Qo(e,0,qd),t===void 0?t=a.rounding:Qo(t,0,8),n=an(new a(i),e+li(i)+1,t),r=$f(n.abs(),!1,e+li(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return an(new t(e),li(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(rs);if(o=new l(o),!o.s){if(e.s<1)throw Error(zs+"Infinity");return o}if(o.eq(rs))return o;if(n=l.precision,e.eq(rs))return an(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=LD){for(i=new l(rs),t=Math.ceil(n/vn+4),An=!1;r%2&&(i=i.times(o),IT(i.d,t)),r=Hd(r/2),r!==0;)o=o.times(o),IT(o.d,t);return An=!0,e.s<0?new l(rs).div(i):an(i,n)}}else if(a<0)throw Error(zs+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,An=!1,i=e.times(n0(o,n+u)),An=!0,i=FD(i),i.s=a,i};zt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=li(i),n=$f(i,r<=a.toExpNeg||r>=a.toExpPos)):(Qo(e,1,qd),t===void 0?t=a.rounding:Qo(t,0,8),i=an(new a(i),e,t),r=li(i),n=$f(i,e<=r||r<=a.toExpNeg,e)),n};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qo(e,1,qd),t===void 0?t=n.rounding:Qo(t,0,8)),an(new n(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=li(e),r=e.constructor;return $f(e,t<=r.toExpNeg||t>=r.toExpPos)};function DD(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),An?an(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/vn),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Ci|0,l[a]%=Ci;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,An?an(t,f):t}function Qo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wf+e)}function Fo(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=vn-n.length,r&&(a+=Ou(r)),a+=n;s=e[t],n=s+"",r=vn-n.length,r&&(a+=Ou(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Pl=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ci|0,s=a/Ci|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ci+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,f,h,d,m,g,p,v,y,b,x,C,O,I,T,M=n.constructor,B=n.s==i.s?1:-1,L=n.d,P=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(zs+"Division by zero");for(l=n.e-i.e,I=P.length,C=L.length,d=new M(B),m=d.d=[],u=0;P[u]==(L[u]||0);)++u;if(P[u]>(L[u]||0)&&--l,a==null?y=a=M.precision:s?y=a+(li(n)-li(i))+1:y=a,y<0)return new M(0);if(y=y/vn+2|0,u=0,I==1)for(c=0,P=P[0],y++;(u<C||c)&&y--;u++)b=c*Ci+(L[u]||0),m[u]=b/P|0,c=b%P|0;else{for(c=Ci/(P[0]+1)|0,c>1&&(P=e(P,c),L=e(L,c),I=P.length,C=L.length),x=I,g=L.slice(0,I),p=g.length;p<I;)g[p++]=0;T=P.slice(),T.unshift(0),O=P[0],P[1]>=Ci/2&&++O;do c=0,o=t(P,g,I,p),o<0?(v=g[0],I!=p&&(v=v*Ci+(g[1]||0)),c=v/O|0,c>1?(c>=Ci&&(c=Ci-1),f=e(P,c),h=f.length,p=g.length,o=t(f,g,h,p),o==1&&(c--,r(f,I<h?T:P,h))):(c==0&&(o=c=1),f=P.slice()),h=f.length,h<p&&f.unshift(0),r(g,f,p),o==-1&&(p=g.length,o=t(P,g,I,p),o<1&&(c++,r(g,I<p?T:P,p))),p=g.length):o===0&&(c++,g=[0]),m[u++]=c,o&&g[0]?g[p++]=L[x]||0:(g=[L[x]],p=1);while((x++<C||g[0]!==void 0)&&y--)}return m[0]||m.shift(),d.e=l,an(d,s?a+li(d)+1:a)}}();function FD(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(li(e)>16)throw Error(ES+li(e));if(!e.s)return new c(rs);for(An=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(ef(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(rs),c.precision=o;;){if(i=an(i.times(e),o),r=r.times(++l),s=a.plus(Pl(i,r,o)),Fo(s.d).slice(0,o)===Fo(a.d).slice(0,o)){for(;u--;)a=an(a.times(a),o);return c.precision=f,t==null?(An=!0,an(a,f)):a}a=s}}function li(e){for(var t=e.e*vn,r=e.d[0];r>=10;r/=10)t++;return t}function p5(e,t,r){if(t>e.LN10.sd())throw An=!0,r&&(e.precision=r),Error(zs+"LN10 precision limit exceeded");return an(new e(e.LN10),t)}function Ou(e){for(var t="";e--;)t+="0";return t}function n0(e,t){var r,n,i,a,s,o,l,u,c,f=1,h=10,d=e,m=d.d,g=d.constructor,p=g.precision;if(d.s<1)throw Error(zs+(d.s?"NaN":"-Infinity"));if(d.eq(rs))return new g(0);if(t==null?(An=!1,u=p):u=t,d.eq(10))return t==null&&(An=!0),p5(g,u);if(u+=h,g.precision=u,r=Fo(m),n=r.charAt(0),a=li(d),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Fo(d.d),n=r.charAt(0),f++;a=li(d),n>1?(d=new g("0."+r),a++):d=new g(n+"."+r.slice(1))}else return l=p5(g,u+2,p).times(a+""),d=n0(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=p,t==null?(An=!0,an(d,p)):d;for(o=s=d=Pl(d.minus(rs),d.plus(rs),u),c=an(d.times(d),u),i=3;;){if(s=an(s.times(c),u),l=o.plus(Pl(s,new g(i),u)),Fo(l.d).slice(0,u)===Fo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(p5(g,u+2,p).times(a+""))),o=Pl(o,new g(f),u),g.precision=p,t==null?(An=!0,an(o,p)):o;o=l,i+=2}}function NT(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Hd(r/vn),e.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=vn;n<i;)e.d.push(+t.slice(n,n+=vn));t=t.slice(n),n=vn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),An&&(e.e>Ey||e.e<-Ey))throw Error(ES+r)}else e.s=0,e.e=0,e.d=[0];return e}function an(e,t,r){var n,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=vn,i=t,u=f[c=0];else{if(c=Math.ceil((n+1)/vn),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;n%=vn,i=n-vn+s}if(r!==void 0&&(a=ef(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/ef(10,s-i):0:f[c-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=li(e),f.length=1,t=t-a-1,f[0]=ef(10,(vn-t%vn)%vn),e.e=Hd(-t/vn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=ef(10,vn-n),f[c]=i>0?(u/ef(10,s-i)%ef(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ci&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=Ci)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(An&&(e.e>Ey||e.e<-Ey))throw Error(ES+li(e));return e}function BD(e,t){var r,n,i,a,s,o,l,u,c,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),An?an(t,d):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(d/vn),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ci-1;--l[a],l[i]+=Ci}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,An?an(t,d):t):new h(0)}function $f(e,t,r){var n,i=li(e),a=Fo(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ou(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ou(-i-1)+a,r&&(n=r-s)>0&&(a+=Ou(n))):i>=s?(a+=Ou(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ou(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ou(n))),e.s<0?"-"+a:a}function IT(e,t){if(e.length>t)return e.length=t,!0}function zD(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return NT(s,a.toString())}else if(typeof a!="string")throw Error(wf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Ale.test(a))NT(s,a);else throw Error(wf+a)}if(i.prototype=zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zD,i.config=i.set=Ele,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Ele(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,r,n,i=["precision",1,qd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Hd(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wf+r+": "+n);return this}var CS=zD(kle);rs=new CS(1);const Xr=CS;var Cle=e=>e,UD={},VD=e=>e===UD,OT=e=>function t(){return arguments.length===0||arguments.length===1&&VD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$D=(e,t)=>e===1?t:OT(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==UD).length;return a>=e?t(...n):$D(e-a,OT(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>VD(c)?o.shift():c);return t(...u,...o)}))}),Tle=e=>$D(e.length,e),$_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Ple=Tle((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Nle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Cle;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function qD(e){var t;return e===0?t=1:t=Math.floor(new Xr(e).abs().log(10).toNumber())+1,t}function HD(e,t,r){for(var n=new Xr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var WD=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},KD=(e,t,r)=>{if(e.lte(0))return new Xr(0);var n=qD(e.toNumber()),i=new Xr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Xr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new Xr(l.toNumber()):new Xr(Math.ceil(l.toNumber()))},Ile=(e,t,r)=>{var n=new Xr(1),i=new Xr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Xr(10).pow(qD(e)-1),i=new Xr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xr(Math.floor(e)))}else e===0?i=new Xr(Math.floor((t-1)/2)):r||(i=new Xr(Math.floor(e)));var s=Math.floor((t-1)/2),o=Nle(Ple(l=>i.add(new Xr(l-s).mul(n)).toNumber()),$_);return o(0,t)},GD=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Xr(0),tickMin:new Xr(0),tickMax:new Xr(0)};var s=KD(new Xr(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Xr(0):(o=new Xr(t).add(r).div(2),o=o.sub(new Xr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Xr(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?GD(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new Xr(l).mul(s)),tickMax:o.add(new Xr(u).mul(s))})},Ole=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=WD([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...$_(0,i-1).map(()=>1/0)]:[...$_(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return Ile(o,i,a);var{step:c,tickMin:f,tickMax:h}=GD(o,l,s,a,0),d=HD(f,h.add(new Xr(.1).mul(c)),c);return r>n?d.reverse():d},jle=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=WD([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=KD(new Xr(o).sub(s).div(l-1),a,0),c=[...HD(new Xr(s),new Xr(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),n>i?c.reverse():c},XD=e=>e.rootProps.maxBarSize,Mle=e=>e.rootProps.barGap,YD=e=>e.rootProps.barCategoryGap,Rle=e=>e.rootProps.barSize,K0=e=>e.rootProps.stackOffset,ZD=e=>e.rootProps.reverseStackOrder,TS=e=>e.options.chartName,PS=e=>e.rootProps.syncId,QD=e=>e.rootProps.syncMethod,NS=e=>e.options.eventEmitter,oi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ts={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},o2=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Lle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:gl.reversed,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:gl.type,unit:void 0},Dle={allowDataOverflow:ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:ts.tickCount,ticks:void 0,type:ts.type,unit:void 0},Fle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ble={allowDataOverflow:ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:ts.tickCount,ticks:void 0,type:"category",unit:void 0},IS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Fle:Lle,OS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ble:Dle,l2=e=>e.polarOptions,jS=$e([Xl,Yl,gi],KL),JD=$e([l2,jS],(e,t)=>{if(e!=null)return ca(e.innerRadius,t,0)}),eF=$e([l2,jS],(e,t)=>{if(e!=null)return ca(e.outerRadius,t,t*.8)}),zle=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tF=$e([l2],zle);$e([IS,tF],o2);var rF=$e([jS,JD,eF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$e([OS,rF],o2);var nF=$e([Or,l2,JD,eF,Xl,Yl],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:ca(s,i,i/2),cy:ca(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Cn=(e,t)=>t,G0=(e,t,r)=>r;function MS(e){return e==null?void 0:e.id}function iF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=MS(o);u.forEach((f,h)=>{var d=a==null||i?h:String(en(f,a,null)),m=en(f,o.dataKey,0),g;s.has(d)?g=s.get(d):g={},Object.assign(g,{[c]:m}),s.set(d,g)})}}),Array.from(s.values())}function u2(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var c2=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function f2(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Ule(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yi=e=>{var t=Or(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Wd=e=>e.tooltip.settings.axisId;function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vle(e,t,r){return(t=$le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $le(e){var t=qle(e,"string");return typeof t=="symbol"?t:t+""}function qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q_=[0,"auto"],ki={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aF=(e,t)=>e.cartesianAxis.xAxis[t],Jl=(e,t)=>{var r=aF(e,t);return r??ki},Ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:q_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:B0},sF=(e,t)=>e.cartesianAxis.yAxis[t],eu=(e,t)=>{var r=sF(e,t);return r??Ai},Hle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Hle},Rn=(e,t,r)=>{switch(t){case"xAxis":return Jl(e,r);case"yAxis":return eu(e,r);case"zAxis":return RS(e,r);case"angleAxis":return IS(e,r);case"radiusAxis":return OS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wle=(e,t,r)=>{switch(t){case"xAxis":return Jl(e,r);case"yAxis":return eu(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},X0=(e,t,r)=>{switch(t){case"xAxis":return Jl(e,r);case"yAxis":return eu(e,r);case"angleAxis":return IS(e,r);case"radiusAxis":return OS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function LS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var h2=e=>e.graphicalItems.cartesianItems,Kle=$e([Cn,G0],LS),DS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Y0=$e([h2,Rn,Kle],DS,{memoizeOptions:{resultEqualityCheck:f2}}),lF=$e([Y0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(u2)),uF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Gle=$e([Y0],uF),FS=e=>e.map(t=>t.data).filter(Boolean).flat(1),Xle=$e([Y0],FS,{memoizeOptions:{resultEqualityCheck:f2}}),BS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},zS=$e([Xle,AS],BS),US=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:en(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:en(i,n)}))):e.map(n=>({value:n})),d2=$e([zS,Rn,Y0],US);function cF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function J1(e){if(Yo(e)||e instanceof Date){var t=Number(e);if(Mn(t))return t}}function MT(e){if(Array.isArray(e)){var t=[J1(e[0]),J1(e[1])];return yc(t)?t:void 0}var r=J1(e);if(r!=null)return[r,r]}function Wl(e){return e.map(J1).filter(ste)}function Yle(e,t,r){return!r||typeof t!="number"||go(t)?[]:r.length?Wl(r.flatMap(n=>{var i=en(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Mn(a)||!Mn(s)))return[t-a,t+s]})):[]}var bi=e=>{var t=yi(e),r=Wd(e);return X0(e,t,r)},Z0=$e([bi],e=>e==null?void 0:e.dataKey),Zle=$e([lF,AS,bi],iF),fF=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(MS);return[o,{stackedData:Sne(e,c,r),graphicalItems:u}]}))},H_=$e([Zle,lF,K0,ZD],fF),hF=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=Tne(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Qle=$e([Rn],e=>e.allowDataOverflow),VS=e=>{var t;if(e==null||!("domain"in e))return q_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Wl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:q_},$S=$e([Rn],VS),qS=$e([$S,Qle],RD),Jle=$e([H_,Ql,Cn,qS],hF,{memoizeOptions:{resultEqualityCheck:c2}}),p2=e=>e.errorBars,eue=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cF(r,n)),Ty=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},HS=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(v=>cF(i,v)),h=en(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),d=Yle(o,h,f);if(d.length>=2){var m=Math.min(...d),g=Math.max(...d);(a==null||m<a)&&(a=m),(s==null||g>s)&&(s=g)}var p=MT(h);p!=null&&(a=a==null?p[0]:Math.min(a,p[0]),s=s==null?p[1]:Math.max(s,p[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=MT(en(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Mn(a)&&Mn(s))return[a,s]},tue=$e([zS,Rn,Gle,p2,Cn],HS,{memoizeOptions:{resultEqualityCheck:c2}});function rue(e){var{value:t}=e;if(Yo(t)||t instanceof Date)return t}var nue=(e,t,r)=>{var n=e.map(rue).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&lR(n))?eD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dF=e=>e.referenceElements.dots,Kd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),iue=$e([dF,Cn,G0],Kd),pF=e=>e.referenceElements.areas,aue=$e([pF,Cn,G0],Kd),mF=e=>e.referenceElements.lines,sue=$e([mF,Cn,G0],Kd),gF=(e,t)=>{if(e!=null){var r=Wl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},oue=$e(iue,Cn,gF),vF=(e,t)=>{if(e!=null){var r=Wl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lue=$e([aue,Cn],vF);function uue(e){var t;if(e.x!=null)return Wl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Wl(r)}function cue(e){var t;if(e.y!=null)return Wl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Wl(r)}var yF=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?uue(n):cue(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},fue=$e([sue,Cn],yF),hue=$e(oue,fue,lue,(e,t,r)=>Ty(e,r,t)),WS=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Ty(n,a,i):Ty(a,i);return Sle(t,u,e.allowDataOverflow)},due=$e([Rn,$S,qS,Jle,tue,hue,Or,Cn],WS,{memoizeOptions:{resultEqualityCheck:c2}}),pue=[0,1],KS=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Oc(t,a);if(u&&o==null){var c;return eD(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?nue(n,e,u):i==="expand"?pue:s}},GS=$e([Rn,Or,zS,d2,K0,Cn,due],KS),bF=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(j0(a));return o in Wp?o:"point"}}},Gd=$e([Rn,Or,oF,TS,Cn],bF);function mue(e){if(e!=null){if(e in Wp)return Wp[e]();var t="scale".concat(j0(e));if(t in Wp)return Wp[t]()}}function XS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=mue(t);if(i!=null){var a=i.domain(r).range(n);return yne(a),a}}}var YS=(e,t,r)=>{var n=VS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yc(e))return Ole(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yc(e))return jle(e,t.tickCount,t.allowDecimals)}},ZS=$e([GS,X0,Gd],YS),QS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yc(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},gue=$e([Rn,GS,ZS,Cn],QS),vue=$e(d2,Rn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Wl(e.map(f=>f.value))).sort((f,h)=>f-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/s}}),wF=$e(vue,Or,YD,gi,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Mn(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ca(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),yue=(e,t,r)=>{var n=Jl(e,t);return n==null||typeof n.padding!="string"?0:wF(e,"xAxis",t,r,n.padding)},bue=(e,t,r)=>{var n=eu(e,t);return n==null||typeof n.padding!="string"?0:wF(e,"yAxis",t,r,n.padding)},wue=$e(Jl,yue,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),xue=$e(eu,bue,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),_ue=$e([gi,wue,Kb,Wb,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Sue=$e([gi,Or,xue,Kb,Wb,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Q0=(e,t,r,n)=>{var i;switch(t){case"xAxis":return _ue(e,r,n);case"yAxis":return Sue(e,r,n);case"zAxis":return(i=RS(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return tF(e);case"radiusAxis":return rF(e,r);default:return}},xF=$e([Rn,Q0],o2),m2=$e([Rn,Gd,gue,xF],XS);$e([Y0,p2,Cn],eue);function _F(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var g2=(e,t)=>t,v2=(e,t,r)=>r,kue=$e(qb,g2,v2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_F)),Aue=$e(Hb,g2,v2,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_F)),SF=(e,t)=>({width:e.width,height:t.height}),Eue=(e,t)=>{var r=typeof t.width=="number"?t.width:B0;return{width:r,height:e.height}},kF=$e(gi,Jl,SF),Cue=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Tue=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Pue=$e(Yl,gi,kue,g2,v2,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=SF(t,o);s==null&&(s=Cue(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),Nue=$e(Xl,gi,Aue,g2,v2,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=Eue(t,o);s==null&&(s=Tue(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),Iue=(e,t)=>{var r=Jl(e,t);if(r!=null)return Pue(e,r.orientation,r.mirror)},Oue=$e([gi,Jl,Iue,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jue=(e,t)=>{var r=eu(e,t);if(r!=null)return Nue(e,r.orientation,r.mirror)},Mue=$e([gi,eu,jue,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),AF=$e(gi,eu,(e,t)=>{var r=typeof t.width=="number"?t.width:B0;return{width:r,height:e.height}}),RT=(e,t,r)=>{switch(t){case"xAxis":return kF(e,r).width;case"yAxis":return AF(e,r).height;default:return}},EF=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Oc(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&lR(l))return l}},JS=$e([Or,d2,Rn,Cn],EF),CF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Oc(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},e8=$e([Or,d2,X0,Cn],CF),LT=$e([Or,Wle,Gd,m2,JS,e8,Q0,ZS,Cn],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=Oc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),Rue=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=Oc(e,l),{type:c,ticks:f,tickCount:h}=t,d=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/d:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Ni(a[0]-a[1])*2*m:m;var g=f||i;if(g){var p=g.map((v,y)=>{var b=s?s.indexOf(v):v;return{index:y,coordinate:n(b)+m,value:v,offset:m}});return p.filter(v=>Mn(v.coordinate))}return u&&o?o.map((v,y)=>({coordinate:n(v)+m,value:v,index:y,offset:m})).filter(v=>Mn(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+m,value:v,offset:m})):n.domain().map((v,y)=>({coordinate:n(v)+m,value:s?s[v]:v,index:y,offset:m}))}},TF=$e([Or,X0,Gd,m2,ZS,Q0,JS,e8,Cn],Rue),Lue=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Oc(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ni(n[0]-n[1])*2*u:u,o&&a?a.map((c,f)=>({coordinate:r(c)+u,value:c,index:f,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,f)=>({coordinate:r(c)+u,value:i?i[c]:c,index:f,offset:u}))}},bc=$e([Or,X0,m2,Q0,JS,e8,Cn],Lue),wc=$e(Rn,m2,(e,t)=>{if(!(e==null||t==null))return Cy(Cy({},e),{},{scale:t})}),Due=$e([Rn,Gd,GS,xF],XS);$e((e,t,r)=>RS(e,r),Due,(e,t)=>{if(!(e==null||t==null))return Cy(Cy({},e),{},{scale:t})});var Fue=$e([Or,qb,Hb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PF=e=>e.options.defaultTooltipEventType,NF=e=>e.options.validateTooltipEventTypes;function IF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function t8(e,t){var r=PF(e),n=NF(e);return IF(t,r,n)}function Bue(e){return Wt(t=>t8(t,e))}var OF=(e,t)=>{var r,n=Number(t);if(!(go(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},zue=e=>e.tooltip.settings,Vu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Uue={itemInteraction:{click:Vu,hover:Vu},axisInteraction:{click:Vu,hover:Vu},keyboardInteraction:Vu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jF=Ha({name:"tooltip",initialState:Uue,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_n()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:_n()},removeTooltipEntrySettings:{reducer(e,t){var r=fo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:_n()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Vue,replaceTooltipEntrySettings:$ue,removeTooltipEntrySettings:que,setTooltipSettingsState:Hue,setActiveMouseOverItemIndex:MF,mouseLeaveItem:Wue,mouseLeaveChart:RF,setActiveClickItemIndex:Kue,setMouseOverAxisIndex:LF,setMouseClickAxisIndex:Gue,setSyncInteraction:W_,setKeyboardInteraction:K_}=jF.actions,Xue=jF.reducer;function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yue(e,t,r){return(t=Zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zue(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jue(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ece(e){return e.index!=null}var DF=(e,t,r,n)=>{if(t==null)return Vu;var i=Jue(e,t,r);if(i==null)return Vu;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ece(i)){if(a)return y1(y1({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return y1(y1({},Vu),{},{coordinate:i.coordinate})};function tce(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function rce(e,t){var r=tce(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function nce(e,t,r){if(r==null||t==null)return!0;var n=en(e,t);return n==null||!yc(r)?!0:rce(n,r)}var r8=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Mn(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||nce(u,r,n)?String(l):null},FF=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},BF=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},J0=e=>e.options.tooltipPayloadSearcher,Xd=e=>e.tooltip;function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return(t=ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oce(e,t){return e??t}var zF=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,f=[];return e.reduce((h,d)=>{var m,{dataDefinedOnItem:g,settings:p}=d,v=oce(g,o),y=Array.isArray(v)?vL(v,u,c):v,b=(m=p==null?void 0:p.dataKey)!==null&&m!==void 0?m:n,x=p==null?void 0:p.nameKey,C;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&s==="axis"?C=uR(y,n,i):C=a(y,t,l,x),Array.isArray(C))C.forEach(I=>{var T=BT(BT({},p),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});h.push(Y7({tooltipEntrySettings:T,dataKey:I.dataKey,payload:I.payload,value:en(I.payload,I.dataKey),name:I.name}))});else{var O;h.push(Y7({tooltipEntrySettings:p,dataKey:b,payload:C,value:en(C,b),name:(O=en(C,x))!==null&&O!==void 0?O:p==null?void 0:p.name}))}return h},f)}},n8=$e([bi,Or,oF,TS,yi],bF),lce=$e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uce=$e([yi,Wd],LS),Yd=$e([lce,bi,uce],DS,{memoizeOptions:{resultEqualityCheck:f2}}),cce=$e([Yd],e=>e.filter(u2)),fce=$e([Yd],FS,{memoizeOptions:{resultEqualityCheck:f2}}),Zd=$e([fce,Ql],BS),hce=$e([cce,Ql,bi],iF),i8=$e([Zd,bi,Yd],US),UF=$e([bi],VS),dce=$e([bi],e=>e.allowDataOverflow),VF=$e([UF,dce],RD),pce=$e([Yd],e=>e.filter(u2)),mce=$e([hce,pce,K0,ZD],fF),gce=$e([mce,Ql,yi,VF],hF),vce=$e([Yd],uF),yce=$e([Zd,bi,vce,p2,yi],HS,{memoizeOptions:{resultEqualityCheck:c2}}),bce=$e([dF,yi,Wd],Kd),wce=$e([bce,yi],gF),xce=$e([pF,yi,Wd],Kd),_ce=$e([xce,yi],vF),Sce=$e([mF,yi,Wd],Kd),kce=$e([Sce,yi],yF),Ace=$e([wce,kce,_ce],Ty),Ece=$e([bi,UF,VF,gce,yce,Ace,Or,yi],WS),eg=$e([bi,Or,Zd,i8,K0,yi,Ece],KS),Cce=$e([eg,bi,n8],YS),Tce=$e([bi,eg,Cce,yi],QS),$F=e=>{var t=yi(e),r=Wd(e),n=!1;return Q0(e,t,r,n)},qF=$e([bi,$F],o2),HF=$e([bi,n8,Tce,qF],XS),Pce=$e([Or,i8,bi,yi],EF),Nce=$e([Or,i8,bi,yi],CF),Ice=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=Oc(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ni(i[0]-i[1])*2*f:f,u&&s?s.map((h,d)=>({coordinate:n(h)+f,value:h,index:d,offset:f})):n.domain().map((h,d)=>({coordinate:n(h)+f,value:a?a[h]:h,index:d,offset:f}))}}},tu=$e([Or,bi,n8,HF,$F,Pce,Nce,yi],Ice),a8=$e([PF,NF,zue],(e,t,r)=>IF(r.shared,e,t)),WF=e=>e.tooltip.settings.trigger,s8=e=>e.tooltip.settings.defaultIndex,tg=$e([Xd,a8,WF,s8],DF),xc=$e([tg,Zd,Z0,eg],r8),KF=$e([tu,xc],OF),o8=$e([tg],e=>{if(e)return e.dataKey}),Oce=$e([tg],e=>{if(e)return e.graphicalItemId}),GF=$e([Xd,a8,WF,s8],BF),jce=$e([Xl,Yl,Or,gi,tu,s8,GF,J0],FF),Mce=$e([tg,jce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Rce=$e([tg],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Lce=$e([GF,xc,Ql,Z0,KF,J0,a8],zF),Dce=$e([Lce],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){Fce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=zce(e,"string");return typeof t=="symbol"?t:t+""}function zce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uce=()=>Wt(bi),Vce=()=>{var e=Uce(),t=Wt(tu),r=Wt(HF);return Ed(!e||!r?void 0:UT(UT({},e),{},{scale:r}),t)};function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){$ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ce(e,t,r){return(t=qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wce=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Kce=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Ah(Ah(Ah({},n),si(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Ah(Ah(Ah({},n),si(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Gce(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var XF=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,h,d=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,m=(c=r[o])===null||c===void 0?void 0:c.coordinate,g=o>=s-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[o+1])===null||h===void 0?void 0:h.coordinate,p=void 0;if(!(d==null||m==null||g==null))if(Ni(m-d)!==Ni(g-m)){var v=[];if(Ni(g-m)===Ni(i[1]-i[0])){p=g;var y=m+i[1]-i[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{p=d;var b=g+i[1]-i[0];v[0]=Math.min(m,(b+m)/2),v[1]=Math.max(m,(b+m)/2)}var x=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){var C;return(C=r[o])===null||C===void 0?void 0:C.index}}else{var O=Math.min(d,g),I=Math.max(d,g);if(e>(O+m)/2&&e<=(I+m)/2){var T;return(T=r[o])===null||T===void 0?void 0:T.index}}}else if(t)for(var M=0;M<s;M++){var B=t[M];if(B!=null){var L=t[M+1],P=t[M-1];if(M===0&&L!=null&&e<=(B.coordinate+L.coordinate)/2||M===s-1&&P!=null&&e>(B.coordinate+P.coordinate)/2||M>0&&M<s-1&&P!=null&&L!=null&&e>(B.coordinate+P.coordinate)/2&&e<=(B.coordinate+L.coordinate)/2)return B.index}}return-1},Xce=()=>Wt(TS),l8=(e,t)=>t,YF=(e,t,r)=>r,u8=(e,t,r,n)=>n,Yce=$e(tu,e=>Rb(e,t=>t.coordinate)),c8=$e([Xd,l8,YF,u8],DF),f8=$e([c8,Zd,Z0,eg],r8),Zce=(e,t,r)=>{if(t!=null){var n=Xd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ZF=$e([Xd,l8,YF,u8],BF),Py=$e([Xl,Yl,Or,gi,tu,u8,ZF,J0],FF),Qce=$e([c8,Py],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),QF=$e([tu,f8],OF),Jce=$e([ZF,f8,Ql,Z0,QF,J0,l8],zF),efe=$e([c8,f8],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),tfe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&Gce(e,s)){var o=Pne(e,t),l=XF(o,a,i,r,n),u=Wce(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},rfe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=Vae(e,r);if(o){var l=Nne(o,t),u=XF(l,s,a,n,i),c=Kce(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},nfe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?tfe(e,t,n,i,a,s,o):rfe(e,t,r,n,i,a,s)},ife=$e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),afe=$e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(oi)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Ule}});function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sfe(e,t,r){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ofe(e){var t=lfe(e,"string");return typeof t=="symbol"?t:t+""}function lfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ufe={},cfe={zIndexMap:Object.values(oi).reduce((e,t)=>qT(qT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ufe)},ffe=new Set(Object.values(oi));function hfe(e){return ffe.has(e)}var JF=Ha({name:"zIndex",initialState:cfe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_n()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!hfe(r)&&delete e.zIndexMap[r])},prepare:_n()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:_n()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:_n()}}}),{registerZIndexPortal:dfe,unregisterZIndexPortal:pfe,registerZIndexPortalElement:mfe,unregisterZIndexPortalElement:gfe}=JF.actions,vfe=JF.reducer;function Wa(e){var{zIndex:t,children:r}=e,n=nie(),i=n&&t!==void 0&&t!==0,a=da(),s=pn();Y.useLayoutEffect(()=>i?(s(dfe({zIndex:t})),()=>{s(pfe({zIndex:t}))}):M0,[s,t,i]);var o=Wt(l=>ife(l,t,a));return i?o?rb.createPortal(r,o):null:r}function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G_.apply(null,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){yfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yfe(e,t,r){return(t=bfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bfe(e){var t=wfe(e,"string");return typeof t=="symbol"?t:t+""}function wfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xfe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return Y.isValidElement(t)?Y.cloneElement(t,n):Y.createElement(r,n)}function _fe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=r,h=n,d=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var m,g,p;if(c==="ScatterChart")m=f,g=rae,p=oi.cursorLine;else if(c==="BarChart")m=nae(o,f,a,s),g=WL,p=oi.cursorRectangle;else if(o==="radial"&&fR(f)){var{cx:v,cy:y,radius:b,startAngle:x,endAngle:C}=GL(f);m={cx:v,cy:y,startAngle:x,endAngle:C,innerRadius:b,outerRadius:b},g=YL,p=oi.cursorLine}else m={points:Wae(o,f,a)},g=tS,p=oi.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,I=b1(b1(b1(b1({stroke:"#ccc",pointerEvents:"none"},a),m),Df(l)),{},{payload:h,payloadIndex:d,className:Dr("recharts-tooltip-cursor",O)});return Y.createElement(Wa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:p},Y.createElement(xfe,{cursor:l,cursorComp:g,cursorProps:I}))}function Sfe(e){var t=Vce(),r=NL(),n=Vd(),i=Xce();return t==null||r==null||n==null||i==null?null:Y.createElement(_fe,G_({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var eB=Y.createContext(null),kfe=()=>Y.useContext(eB),tB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,h,d,m){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],v=arguments.length,y,b;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,f),!0;case 4:return p.fn.call(p.context,c,f,h),!0;case 5:return p.fn.call(p.context,c,f,h,d),!0;case 6:return p.fn.call(p.context,c,f,h,d,m),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];p.fn.apply(p.context,y)}else{var x=p.length,C;for(b=0;b<x;b++)switch(p[b].once&&this.removeListener(u,p[b].fn,void 0,!0),v){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,c);break;case 3:p[b].fn.call(p[b].context,c,f);break;case 4:p[b].fn.call(p[b].context,c,f,h);break;default:if(!y)for(C=1,y=new Array(v-1);C<v;C++)y[C-1]=arguments[C];p[b].fn.apply(p[b].context,y)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,h){var d=r?r+u:u;if(!this._events[d])return this;if(!c)return s(this,d),this;var m=this._events[d];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&s(this,d);else{for(var g=0,p=[],v=m.length;g<v;g++)(m[g].fn!==c||h&&!m[g].once||f&&m[g].context!==f)&&p.push(m[g]);p.length?this._events[d]=p.length===1?p[0]:p:s(this,d)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(tB);var Afe=tB.exports;const Efe=yo(Afe);var i0=new Efe,X_="recharts.syncEvent.tooltip",WT="recharts.syncEvent.brush";function h8(e,t){if(t){var r=Number.parseInt(t,10);if(!go(r))return e==null?void 0:e[r]}}var Cfe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rB=Ha({name:"options",initialState:Cfe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tfe=rB.reducer,{createEventEmitter:Pfe}=rB.actions;function Nfe(e){return e.tooltip.syncInteraction}var Ife={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nB=Ha({name:"chartData",initialState:Ife,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:KT,setDataStartEndIndexes:Ofe,setComputedData:Cye}=nB.actions,jfe=nB.reducer,Mfe=["x","y"];function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){Rfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rfe(e,t,r){return(t=Lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lfe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ffe(e,t){if(e==null)return{};var r,n,i=Bfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zfe(){var e=Wt(PS),t=Wt(NS),r=pn(),n=Wt(QD),i=Wt(tu),a=Vd(),s=Gb(),o=Wt(l=>l.rootProps.className);Y.useEffect(()=>{if(e==null)return M0;var l=(u,c,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var d=c.payload.coordinate,{x:m,y:g}=d,p=Ffe(d,Mfe),{x:v,y,width:b,height:x}=c.payload.sourceViewBox,C=Eh(Eh({},p),{},{x:s.x+(b?(m-v)/b:0)*s.width,y:s.y+(x?(g-y)/x:0)*s.height});r(Eh(Eh({},c),{},{payload:Eh(Eh({},c.payload),{},{coordinate:C})}))}else r(c);return}if(i!=null){var O;if(typeof n=="function"){var I={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},T=n(i,I);O=i[T]}else n==="value"&&(O=i.find(w=>String(w.value)===c.payload.label));var{coordinate:M}=c.payload;if(O==null||c.payload.active===!1||M==null||s==null){r(W_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:L}=M,P=Math.min(B,s.x+s.width),A=Math.min(L,s.y+s.height),j={x:a==="horizontal"?O.coordinate:P,y:a==="horizontal"?A:O.coordinate},E=W_({active:c.payload.active,coordinate:j,dataKey:c.payload.dataKey,index:String(O.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(E)}}};return i0.on(X_,l),()=>{i0.off(X_,l)}},[o,r,t,e,n,i,a,s])}function Ufe(){var e=Wt(PS),t=Wt(NS),r=pn();Y.useEffect(()=>{if(e==null)return M0;var n=(i,a,s)=>{t!==s&&e===i&&r(Ofe(a))};return i0.on(WT,n),()=>{i0.off(WT,n)}},[r,t,e])}function Vfe(){var e=pn();Y.useEffect(()=>{e(Pfe())},[e]),zfe(),Ufe()}function $fe(e,t,r,n,i,a){var s=Wt(d=>Zce(d,e,t)),o=Wt(NS),l=Wt(PS),u=Wt(QD),c=Wt(Nfe),f=c==null?void 0:c.active,h=Gb();Y.useEffect(()=>{if(!f&&l!=null&&o!=null){var d=W_({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});i0.emit(X_,l,d,o)}},[f,r,s,i,n,o,l,u,a,h])}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){qfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qfe(e,t,r){return(t=Hfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hfe(e){var t=Wfe(e,"string");return typeof t=="symbol"?t:t+""}function Wfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kfe(e){return e.dataKey}function Gfe(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(Rie,t)}var ZT=[],Xfe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ip(e){var t,r,n=ui(e,Xfe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:d,reverseDirection:m,useTranslate3d:g,wrapperStyle:p,cursor:v,shared:y,trigger:b,defaultIndex:x,portal:C,axisId:O}=n,I=pn(),T=typeof x=="number"?String(x):x;Y.useEffect(()=>{I(Hue({shared:y,trigger:b,axisId:O,active:i,defaultIndex:T}))},[I,y,b,O,i,T]);var M=Gb(),B=UL(),L=Bue(y),{activeIndex:P,isActive:A}=(t=Wt(Z=>efe(Z,L,b,T)))!==null&&t!==void 0?t:{},j=Wt(Z=>Jce(Z,L,b,T)),E=Wt(Z=>QF(Z,L,b,T)),w=Wt(Z=>Qce(Z,L,b,T)),S=j,_=kfe(),k=(r=i??A)!==null&&r!==void 0?r:!1,[N,$]=UR([S,k]),R=L==="axis"?E:void 0;$fe(L,b,w,R,P,k);var H=C??_;if(H==null||M==null||L==null)return null;var K=S??ZT;k||(K=ZT),u&&K.length&&(K=PR(K.filter(Z=>Z.value!=null&&(Z.hide!==!0||n.includeHidden)),h,Kfe));var J=K.length>0,V=Y.createElement(Vie,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:k,coordinate:w,hasPayload:J,offset:f,position:d,reverseDirection:m,useTranslate3d:g,viewBox:M,wrapperStyle:p,lastBoundingBox:N,innerRef:$,hasPortalFromProps:!!C},Gfe(l,YT(YT({},n),{},{payload:K,label:R,active:k,activeIndex:P,coordinate:w,accessibilityLayer:B})));return Y.createElement(Y.Fragment,null,rb.createPortal(V,H),k&&Y.createElement(Sfe,{cursor:v,tooltipEventType:L,coordinate:w,payload:K,index:P}))}var xf=e=>null;xf.displayName="Cell";function Yfe(e,t,r){return(t=Zfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zfe(e){var t=Qfe(e,"string");return typeof t=="symbol"?t:t+""}function Qfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jfe{constructor(t){Yfe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ehe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){the(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function the(e,t,r){return(t=rhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rhe(e){var t=nhe(e,"string");return typeof t=="symbol"?t:t+""}function nhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ihe={cacheSize:2e3,enableCache:!0},iB=ehe({},ihe),JT=new Jfe(iB.cacheSize),ahe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eP="recharts_measurement_span";function she(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var tP=(e,t)=>{try{var r=document.getElementById(eP);r||(r=document.createElement("span"),r.setAttribute("id",eP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ahe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},um=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jb.isSsr)return{width:0,height:0};if(!iB.enableCache)return tP(t,r);var n=she(t,r),i=JT.get(n);if(i)return i;var a=tP(t,r);return JT.set(n,a),a},aB;function ohe(e,t,r){return(t=lhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lhe(e){var t=uhe(e,"string");return typeof t=="symbol"?t:t+""}function uhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,che=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hhe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dhe=["cm","mm","pt","pc","in","Q","px"];function phe(e){return dhe.includes(e)}var Xh="NaN";function mhe(e,t){return e*hhe[t]}class Ui{static parse(t){var r,[,n,i]=(r=fhe.exec(t))!==null&&r!==void 0?r:[];return n==null?Ui.NaN:new Ui(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,go(t)&&(this.unit=""),r!==""&&!che.test(r)&&(this.num=NaN,this.unit=""),phe(r)&&(this.num=mhe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ui(NaN,""):new Ui(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ui(NaN,""):new Ui(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ui(NaN,""):new Ui(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ui(NaN,""):new Ui(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return go(this.num)}}aB=Ui;ohe(Ui,"NaN",new aB(NaN,""));function sB(e){if(e==null||e.includes(Xh))return Xh;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=rP.exec(t))!==null&&r!==void 0?r:[],s=Ui.parse(n??""),o=Ui.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Xh;t=t.replace(rP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,h]=(u=nP.exec(t))!==null&&u!==void 0?u:[],d=Ui.parse(c??""),m=Ui.parse(h??""),g=f==="+"?d.add(m):d.subtract(m);if(g.isNaN())return Xh;t=t.replace(nP,g.toString())}return t}var iP=/\(([^()]*)\)/;function ghe(e){for(var t=e,r;(r=iP.exec(t))!=null;){var[,n]=r;t=t.replace(iP,sB(n))}return t}function vhe(e){var t=e.replace(/\s+/g,"");return t=ghe(t),t=sB(t),t}function yhe(e){try{return vhe(e)}catch{return Xh}}function m5(e){var t=yhe(e.slice(5,-1));return t===Xh?"":t}var bhe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],whe=["dx","dy","angle","className","breakAll"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(null,arguments)}function aP(e,t){if(e==null)return{};var r,n,i=xhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oB=/[ \f\n\r\t\v\u2028\u2029]+/,lB=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];En(t)||(r?i=t.toString().split(""):i=t.toString().split(oB));var a=i.map(o=>({word:o,width:um(o,n).width})),s=r?0:um("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function _he(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uB=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),cB=e=>e.reduce((t,r)=>t.width>r.width?t:r),She="",sP=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=lB({breakAll:r,style:n,children:l+She});if(!u)return[!1,[]];var c=uB(u.wordsWithComputedWidth,a,s,o),f=c.length>i||cB(c).width>Number(a);return[f,c]},khe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=$t(a),c=String(s),f=uB(t,n,r,i);if(!u||i)return f;var h=f.length>a||cB(f).width>Number(n);if(!h)return f;for(var d=0,m=c.length-1,g=0,p;d<=m&&g<=c.length-1;){var v=Math.floor((d+m)/2),y=v-1,[b,x]=sP(c,y,l,o,a,n,r,i),[C]=sP(c,v,l,o,a,n,r,i);if(!b&&!C&&(d=v+1),b&&C&&(m=v-1),!b&&C){p=x;break}g++}return p||f},oP=e=>{var t=En(e)?[]:e.toString().split(oB);return[{words:t,width:void 0}]},Ahe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Jb.isSsr){var o,l,u=lB({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return oP(n);return khe({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return oP(n)},fB="#808080",Ehe={angle:0,breakAll:!1,capHeight:"0.71em",fill:fB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},y2=Y.forwardRef((e,t)=>{var r=ui(e,Ehe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,f=aP(r,bhe),h=Y.useMemo(()=>Ahe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:d,dy:m,angle:g,className:p,breakAll:v}=f,y=aP(f,whe);if(!Yo(n)||!Yo(i)||h.length===0)return null;var b=Number(n)+($t(d)?d:0),x=Number(i)+($t(m)?m:0);if(!Mn(b)||!Mn(x))return null;var C;switch(c){case"start":C=m5("calc(".concat(s,")"));break;case"middle":C=m5("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=m5("calc(".concat(h.length-1," * -").concat(a,")"));break}var O=[];if(l){var I=h[0].width,{width:T}=f;O.push("scale(".concat($t(T)&&$t(I)?T/I:1,")"))}return g&&O.push("rotate(".concat(g,", ").concat(b,", ").concat(x,")")),O.length&&(y.transform=O.join(" ")),Y.createElement("text",Y_({},Ca(y),{ref:t,x:b,y:x,className:Dr("recharts-text",p),textAnchor:u,fill:o.includes("url")?fB:o}),h.map((M,B)=>{var L=M.words.join(v?"":" ");return Y.createElement("tspan",{x:b,dy:B===0?C:a,key:"".concat(L,"-").concat(B)},L)}))});y2.displayName="Text";var Che=["labelRef"],The=["content"];function lP(e,t){if(e==null)return{};var r,n,i=Phe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Nhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nhe(e,t,r){return(t=Ihe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ihe(e){var t=Ohe(e,"string");return typeof t=="symbol"?t:t+""}function Ohe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(null,arguments)}var hB=Y.createContext(null),jhe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=Y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return Y.createElement(hB.Provider,{value:l},o)},dB=()=>{var e=Y.useContext(hB),t=Gb();return e||PL(t)},Mhe=Y.createContext(null),Rhe=()=>{var e=Y.useContext(Mhe),t=Wt(nF);return e||t},Lhe=e=>{var{value:t,formatter:r}=e,n=En(e.children)?t:e.children;return typeof r=="function"?r(n):n},d8=e=>e!=null&&typeof e=="function",Dhe=(e,t)=>{var r=Ni(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Fhe=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h,clockWise:d}=i,m=(u+c)/2,g=Dhe(f,h),p=g>=0?1:-1,v,y;switch(t){case"insideStart":v=f+p*a,y=d;break;case"insideEnd":v=h-p*a,y=!d;break;case"end":v=h+p*a,y=d;break;default:throw new Error("Unsupported position ".concat(t))}y=g<=0?y:!y;var b=si(o,l,m,v),x=si(o,l,m,v+(y?1:-1)*359),C="M".concat(b.x,",").concat(b.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(y?0:1,`,
    `).concat(x.x,",").concat(x.y),O=En(e.id)?Hm("recharts-radial-line-"):e.id;return Y.createElement("text",vl({},n,{dominantBaseline:"central",className:Dr("recharts-radial-bar-label",s)}),Y.createElement("defs",null,Y.createElement("path",{id:O,d:C})),Y.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Bhe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:f}=si(n,i,s+t,u);return{x:c,y:f,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:d,y:m}=si(n,i,h,u);return{x:d,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Z_=e=>"cx"in e&&$t(e.cx),zhe=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Z_(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,f=s,h=s+(l-u)/2,d=(f+h)/2,m=(l+u)/2,g=f+l/2,p=c>=0?1:-1,v=p*n,y=p>0?"end":"start",b=p>0?"start":"end",x=l>=0?1:-1,C=x*n,O=x>0?"end":"start",I=x>0?"start":"end";if(i==="top"){var T={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:y};return Gn(Gn({},T),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var M={x:h+u/2,y:o+c+v,textAnchor:"middle",verticalAnchor:b};return Gn(Gn({},M),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var B={x:d-C,y:o+c/2,textAnchor:O,verticalAnchor:"middle"};return Gn(Gn({},B),a?{width:Math.max(B.x-a.x,0),height:c}:{})}if(i==="right"){var L={x:d+m+C,y:o+c/2,textAnchor:I,verticalAnchor:"middle"};return Gn(Gn({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:c}:{})}var P=a?{width:m,height:c}:{};return i==="insideLeft"?Gn({x:d+C,y:o+c/2,textAnchor:I,verticalAnchor:"middle"},P):i==="insideRight"?Gn({x:d+m-C,y:o+c/2,textAnchor:O,verticalAnchor:"middle"},P):i==="insideTop"?Gn({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?Gn({x:h+u/2,y:o+c-v,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Gn({x:f+C,y:o+v,textAnchor:I,verticalAnchor:b},P):i==="insideTopRight"?Gn({x:f+l-C,y:o+v,textAnchor:O,verticalAnchor:b},P):i==="insideBottomLeft"?Gn({x:h+C,y:o+c-v,textAnchor:I,verticalAnchor:y},P):i==="insideBottomRight"?Gn({x:h+u-C,y:o+c-v,textAnchor:O,verticalAnchor:y},P):i&&typeof i=="object"&&($t(i.x)||Ul(i.x))&&($t(i.y)||Ul(i.y))?Gn({x:s+ca(i.x,m),y:o+ca(i.y,c),textAnchor:"end",verticalAnchor:"end"},P):Gn({x:g,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Uhe={angle:0,offset:5,zIndex:oi.label,position:"middle",textBreakAll:!1};function ju(e){var t=ui(e,Uhe),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=Rhe(),f=dB(),h=n==="center"?f:c??f,d,m,g;if(r==null?d=h:Z_(r)?d=r:d=PL(r),!d||En(i)&&En(a)&&!Y.isValidElement(s)&&typeof s!="function")return null;var p=Gn(Gn({},t),{},{viewBox:d});if(Y.isValidElement(s)){var{labelRef:v}=p,y=lP(p,Che);return Y.cloneElement(s,y)}if(typeof s=="function"){var{content:b}=p,x=lP(p,The);if(m=Y.createElement(s,x),Y.isValidElement(m))return m}else m=Lhe(t);var C=Ca(t);if(Z_(d)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Fhe(t,n,m,C,d);g=Bhe(d,t.offset,t.position)}else g=zhe(t,d);return Y.createElement(Wa,{zIndex:t.zIndex},Y.createElement(y2,vl({ref:u,className:Dr("recharts-label",o)},C,g,{textAnchor:_he(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),m))}ju.displayName="Label";var Vhe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?Y.createElement(ju,vl({key:"label-implicit"},n)):Yo(e)?Y.createElement(ju,vl({key:"label-implicit",value:e},n)):Y.isValidElement(e)?e.type===ju?Y.cloneElement(e,Gn({key:"label-implicit"},n)):Y.createElement(ju,vl({key:"label-implicit",content:e},n)):d8(e)?Y.createElement(ju,vl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?Y.createElement(ju,vl({},e,{key:"label-implicit"},n)):null};function $he(e){var{label:t,labelRef:r}=e,n=dB();return Vhe(t,n,r)||null}var pB={},mB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(mB);var gB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mB,r=gB,n=jb;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(pB);var qhe=pB.last;const Hhe=yo(qhe);var Whe=["valueAccessor"],Khe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function cP(e,t){if(e==null)return{};var r,n,i=Ghe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ghe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xhe=e=>Array.isArray(e.value)?Hhe(e.value):e.value,vB=Y.createContext(void 0),yB=vB.Provider,bB=Y.createContext(void 0),Yhe=bB.Provider;function Zhe(){return Y.useContext(vB)}function Qhe(){return Y.useContext(bB)}function ev(e){var{valueAccessor:t=Xhe}=e,r=cP(e,Whe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=cP(r,Khe),u=Zhe(),c=Qhe(),f=u||c;return!f||!f.length?null:Y.createElement(Wa,{zIndex:o??oi.label},Y.createElement(Oi,{className:"recharts-label-list"},f.map((h,d)=>{var m,g=En(n)?t(h,d):en(h&&h.payload,n),p=En(a)?{}:{id:"".concat(a,"-").concat(d)};return Y.createElement(ju,Ny({key:"label-".concat(d)},Ca(h),l,p,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:d,zIndex:0}))})))}ev.displayName="LabelList";function p8(e){var{label:t}=e;return t?t===!0?Y.createElement(ev,{key:"labelList-implicit"}):Y.isValidElement(t)||d8(t)?Y.createElement(ev,{key:"labelList-implicit",content:t}):typeof t=="object"?Y.createElement(ev,Ny({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q_.apply(null,arguments)}var wB=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Dr("recharts-dot",i);return $t(t)&&$t(r)&&$t(n)?Y.createElement("circle",Q_({},hs(e),T6(e),{className:a,cx:t,cy:r,r:n})):null},xB=e=>e.graphicalItems.polarItems,Jhe=$e([Cn,G0],LS),b2=$e([xB,Rn,Jhe],DS),ede=$e([b2],FS),w2=$e([ede,s2],BS),tde=$e([w2,Rn,b2],US);$e([w2,Rn,b2],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=en(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:en(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var fP=()=>{},rde=$e([w2,Rn,b2,p2,Cn],HS),nde=$e([Rn,$S,qS,fP,rde,fP,Or,Cn],WS),_B=$e([Rn,Or,w2,tde,K0,Cn,nde],KS),ide=$e([_B,Rn,Gd],YS);$e([Rn,_B,ide,Cn],QS);var ade={radiusAxis:{},angleAxis:{}},SB=Ha({name:"polarAxis",initialState:ade,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tye,removeRadiusAxis:Pye,addAngleAxis:Nye,removeAngleAxis:Iye}=SB.actions,sde=SB.reducer;function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){ode(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ode(e,t,r){return(t=lde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lde(e){var t=ude(e,"string");return typeof t=="symbol"?t:t+""}function ude(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cde=(e,t)=>t,m8=$e([xB,cde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),fde=[],g8=(e,t,r)=>(r==null?void 0:r.length)===0?fde:r,kB=$e([s2,m8,g8],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>dP(dP({},t.presentationProps),a.props))),i!=null)return i}}),hde=$e([kB,m8,g8],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=en(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Ud(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),dde=$e([kB,m8,g8,gi],(e,t,r,n)=>{if(!(t==null||e==null))return dpe({offset:n,pieSettings:t,displayedData:e,cells:r})}),AB={exports:{}},sn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8=Symbol.for("react.transitional.element"),y8=Symbol.for("react.portal"),x2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),S2=Symbol.for("react.profiler"),k2=Symbol.for("react.consumer"),A2=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),T2=Symbol.for("react.suspense_list"),P2=Symbol.for("react.memo"),N2=Symbol.for("react.lazy"),pde=Symbol.for("react.view_transition"),mde=Symbol.for("react.client.reference");function Vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case v8:switch(e=e.type,e){case x2:case S2:case _2:case C2:case T2:case pde:return e;default:switch(e=e&&e.$$typeof,e){case A2:case E2:case N2:case P2:return e;case k2:return e;default:return t}}case y8:return t}}}sn.ContextConsumer=k2;sn.ContextProvider=A2;sn.Element=v8;sn.ForwardRef=E2;sn.Fragment=x2;sn.Lazy=N2;sn.Memo=P2;sn.Portal=y8;sn.Profiler=S2;sn.StrictMode=_2;sn.Suspense=C2;sn.SuspenseList=T2;sn.isContextConsumer=function(e){return Vs(e)===k2};sn.isContextProvider=function(e){return Vs(e)===A2};sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===v8};sn.isForwardRef=function(e){return Vs(e)===E2};sn.isFragment=function(e){return Vs(e)===x2};sn.isLazy=function(e){return Vs(e)===N2};sn.isMemo=function(e){return Vs(e)===P2};sn.isPortal=function(e){return Vs(e)===y8};sn.isProfiler=function(e){return Vs(e)===S2};sn.isStrictMode=function(e){return Vs(e)===_2};sn.isSuspense=function(e){return Vs(e)===C2};sn.isSuspenseList=function(e){return Vs(e)===T2};sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x2||e===S2||e===_2||e===C2||e===T2||typeof e=="object"&&e!==null&&(e.$$typeof===N2||e.$$typeof===P2||e.$$typeof===A2||e.$$typeof===k2||e.$$typeof===E2||e.$$typeof===mde||e.getModuleId!==void 0)};sn.typeOf=Vs;AB.exports=sn;var gde=AB.exports,pP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mP=null,g5=null,EB=e=>{if(e===mP&&Array.isArray(g5))return g5;var t=[];return Y.Children.forEach(e,r=>{En(r)||(gde.isFragment(r)?t=t.concat(EB(r.props.children)):t.push(r))}),g5=t,mP=e,t};function b8(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>pP(i)):n=[pP(t)],EB(e).forEach(i=>{var a=Bf(i,"type.displayName")||Bf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var CB=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,TB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(TB);var vde=TB.isPlainObject;const yde=yo(vde);var gP,vP,yP,bP,wP;function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){bde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bde(e,t,r){return(t=wde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Op(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SP=(e,t,r,n,i)=>{var a=r-n,s;return s=zn(gP||(gP=Op(["M ",",",""])),e,t),s+=zn(vP||(vP=Op(["L ",",",""])),e+r,t),s+=zn(yP||(yP=Op(["L ",",",""])),e+r-a/2,t+i),s+=zn(bP||(bP=Op(["L ",",",""])),e+r-a/2-n,t+i),s+=zn(wP||(wP=Op(["L ",","," Z"])),e,t),s},_de={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sde=e=>{var t=ui(e,_de),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,h=Y.useRef(null),[d,m]=Y.useState(-1),g=Y.useRef(i),p=Y.useRef(a),v=Y.useRef(s),y=Y.useRef(r),b=Y.useRef(n),x=V0(e,"trapezoid-");if(Y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var j=h.current.getTotalLength();j&&m(j)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Dr("recharts-trapezoid",o);if(!f)return Y.createElement("g",null,Y.createElement("path",Iy({},Ca(t),{className:C,d:SP(r,n,i,a,s)})));var O=g.current,I=p.current,T=v.current,M=y.current,B=b.current,L="0px ".concat(d===-1?1:d,"px"),P="".concat(d,"px 0px"),A=VL(["strokeDasharray"],u,l);return Y.createElement(U0,{animationId:x,key:x,canBegin:d>0,duration:u,easing:l,isActive:f,begin:c},j=>{var E=Sn(O,i,j),w=Sn(I,a,j),S=Sn(T,s,j),_=Sn(M,r,j),k=Sn(B,n,j);h.current&&(g.current=E,p.current=w,v.current=S,y.current=_,b.current=k);var N=j>0?{transition:A,strokeDasharray:P}:{strokeDasharray:L};return Y.createElement("path",Iy({},Ca(t),{className:C,d:SP(_,k,E,w,S),ref:h,style:_P(_P({},N),t.style)}))})},kde=["option","shapeType","activeClassName"];function Ade(e,t){if(e==null)return{};var r,n,i=Ede(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ede(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){Cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cde(e,t,r){return(t=Tde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=Pde(e,"string");return typeof t=="symbol"?t:t+""}function Pde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nde(e,t){return Oy(Oy({},t),e)}function Ide(e,t){return e==="symbols"}function AP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return Y.createElement(WL,r);case"trapezoid":return Y.createElement(Sde,r);case"sector":return Y.createElement(YL,r);case"symbols":if(Ide(t))return Y.createElement(C6,r);break;case"curve":return Y.createElement(tS,r);default:return null}}function Ode(e){return Y.isValidElement(e)?e.props:e}function w8(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Ade(e,kde),a;if(Y.isValidElement(t))a=Y.cloneElement(t,Oy(Oy({},i),Ode(t)));else if(typeof t=="function")a=t(i,i.index);else if(yde(t)&&typeof t!="boolean"){var s=Nde(t,i);a=Y.createElement(AP,{shapeType:r,elementProps:s})}else{var o=i;a=Y.createElement(AP,{shapeType:r,elementProps:o})}return i.isActive?Y.createElement(Oi,{className:n},a):a}var x8=(e,t,r)=>{var n=pn();return(i,a)=>s=>{e==null||e(i,a,s),n(MF({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},_8=e=>{var t=pn();return(r,n)=>i=>{e==null||e(r,n,i),t(Wue())}},S8=(e,t,r)=>{var n=pn();return(i,a)=>s=>{e==null||e(i,a,s),n(Kue({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function k8(e){var{tooltipEntrySettings:t}=e,r=pn(),n=da(),i=Y.useRef(null);return Y.useLayoutEffect(()=>{n||(i.current===null?r(Vue(t)):i.current!==t&&r($ue({prev:i.current,next:t})),i.current=t)},[t,r,n]),Y.useLayoutEffect(()=>()=>{i.current&&(r(que(i.current)),i.current=null)},[r]),null}function PB(e){var{legendPayload:t}=e,r=pn(),n=da(),i=Y.useRef(null);return Y.useLayoutEffect(()=>{n||(i.current===null?r(FL(t)):i.current!==t&&r(BL({prev:i.current,next:t})),i.current=t)},[r,n,t]),Y.useLayoutEffect(()=>()=>{i.current&&(r(zL(i.current)),i.current=null)},[r]),null}function jde(e){var{legendPayload:t}=e,r=pn(),n=Wt(Or),i=Y.useRef(null);return Y.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(FL(t)):i.current!==t&&r(BL({prev:i.current,next:t})),i.current=t)},[r,n,t]),Y.useLayoutEffect(()=>()=>{i.current&&(r(zL(i.current)),i.current=null)},[r]),null}var v5,Mde=()=>{var[e]=Y.useState(()=>Hm("uid-"));return e},Rde=(v5=UU.useId)!==null&&v5!==void 0?v5:Mde;function Lde(e,t){var r=Rde();return t||(e?"".concat(e,"-").concat(r):r)}var Dde=Y.createContext(void 0),A8=e=>{var{id:t,type:r,children:n}=e,i=Lde("recharts-".concat(r),t);return Y.createElement(Dde.Provider,{value:i},n(i))},Fde={cartesianItems:[],polarItems:[]},NB=Ha({name:"graphicalItems",initialState:Fde,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_n()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:_n()},removeCartesianGraphicalItem:{reducer(e,t){var r=fo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:_n()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_n()},removePolarGraphicalItem:{reducer(e,t){var r=fo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:_n()}}}),{addCartesianGraphicalItem:Bde,replaceCartesianGraphicalItem:zde,removeCartesianGraphicalItem:Ude,addPolarGraphicalItem:Vde,removePolarGraphicalItem:$de}=NB.actions,qde=NB.reducer,Hde=e=>{var t=pn(),r=Y.useRef(null);return Y.useLayoutEffect(()=>{r.current===null?t(Bde(e)):r.current!==e&&t(zde({prev:r.current,next:e})),r.current=e},[t,e]),Y.useLayoutEffect(()=>()=>{r.current&&(t(Ude(r.current)),r.current=null)},[t]),null},IB=Y.memo(Hde);function Wde(e){var t=pn();return Y.useLayoutEffect(()=>(t(Vde(e)),()=>{t($de(e))}),[t,e]),null}var Kde=["key"],Gde=["onMouseEnter","onClick","onMouseLeave"],Xde=["id"],Yde=["id"];function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){Zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zde(e,t,r){return(t=Qde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qde(e){var t=Jde(e,"string");return typeof t=="symbol"?t:t+""}function Jde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(null,arguments)}function I2(e,t){if(e==null)return{};var r,n,i=epe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function epe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tpe(e){var t=Y.useMemo(()=>b8(e.children,xf),[e.children]),r=Wt(n=>hde(n,e.id,t));return r==null?null:Y.createElement(jde,{legendPayload:r})}var rpe=Y.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Ud(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:c}};return Y.createElement(k8,{tooltipEntrySettings:f})}),npe=(e,t)=>e>t?"start":e<t?"end":"middle",ipe=(e,t,r)=>ca(typeof t=="function"?t(e):t,r,r*.8),ape=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=KL(a,s),l=i+ca(e.cx,a,a/2),u=n+ca(e.cy,s,s/2),c=ca(e.innerRadius,o,0),f=ipe(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:h}},spe=(e,t)=>{var r=Ni(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function ope(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var lpe=(e,t)=>{if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Dr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=I2(t,Kde);return Y.createElement(tS,_c({},i,{type:"linear",className:r}))},upe=(e,t,r)=>{if(Y.isValidElement(e))return Y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),Y.isValidElement(n)))return n;var i=Dr("recharts-pie-label-text",ope(e));return Y.createElement(y2,_c({},t,{alignmentBaseline:"middle",className:i}),n)};function cpe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=hs(r),l=Df(i),u=Df(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,d)=>{var m=(h.startAngle+h.endAngle)/2,g=si(h.cx,h.cy,h.outerRadius+c,m),p=Vn(Vn(Vn(Vn({},o),h),{},{stroke:"none"},l),{},{index:d,textAnchor:npe(g.x,h.cx)},g),v=Vn(Vn(Vn(Vn({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:d,points:[si(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return Y.createElement(Wa,{zIndex:oi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(d)},Y.createElement(Oi,null,a&&lpe(a,v),upe(i,p,en(h,s))))});return Y.createElement(Oi,{className:"recharts-pie-labels"},f)}function fpe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?Y.createElement(p8,{label:i}):Y.createElement(cpe,{sectors:t,props:r,showLabels:n})}function hpe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=Wt(xc),l=Wt(o8),u=Wt(Oce),{onMouseEnter:c,onClick:f,onMouseLeave:h}=i,d=I2(i,Gde),m=x8(c,i.dataKey,s),g=_8(h),p=S8(f,i.dataKey,s);return t==null||t.length===0?null:Y.createElement(Y.Fragment,null,t.map((v,y)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var b=u==null||u===s,x=String(y)===o&&(l==null||i.dataKey===l)&&b,C=o?n:null,O=r&&x?r:C,I=Vn(Vn({},v),{},{stroke:v.stroke,tabIndex:-1,[xL]:y,[_L]:s});return Y.createElement(Oi,_c({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},R0(d,v,y),{onMouseEnter:m(v,y),onMouseLeave:g(v,y),onClick:p(v,y)}),Y.createElement(w8,_c({option:a??O,index:y,shapeType:"sector",isActive:x},I)))}))}function dpe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=r,h=Math.abs(r.minAngle),d=spe(o,l),m=Math.abs(d),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,p=n.filter(O=>en(O,u,0)!==0).length,v=(m>=360?p:p-1)*g,y=m-p*h-v,b=n.reduce((O,I)=>{var T=en(I,u,0);return O+($t(T)?T:0)},0),x;if(b>0){var C;x=n.map((O,I)=>{var T=en(O,u,0),M=en(O,c,I),B=ape(r,a,O),L=($t(T)?T:0)/b,P,A=Vn(Vn({},O),i&&i[I]&&i[I].props);I?P=C.endAngle+Ni(d)*g*(T!==0?1:0):P=o;var j=P+Ni(d)*((T!==0?h:0)+L*y),E=(P+j)/2,w=(B.innerRadius+B.outerRadius)/2,S=[{name:M,value:T,payload:A,dataKey:u,type:f,graphicalItemId:r.id}],_=si(B.cx,B.cy,w,E);return C=Vn(Vn(Vn(Vn({},r.presentationProps),{},{percent:L,cornerRadius:typeof s=="string"?parseFloat(s):s,name:M,tooltipPayload:S,midAngle:E,middleRadius:w,tooltipPosition:_},A),B),{},{value:T,dataKey:u,startAngle:P,endAngle:j,payload:A,paddingAngle:Ni(d)*g}),C})}return x}function ppe(e){var{showLabels:t,sectors:r,children:n}=e,i=Y.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return Y.createElement(Yhe,{value:t?i:void 0},n)}function mpe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:h}=t,d=V0(t,"recharts-pie-"),m=r.current,[g,p]=Y.useState(!1),v=Y.useCallback(()=>{typeof h=="function"&&h(),p(!1)},[h]),y=Y.useCallback(()=>{typeof f=="function"&&f(),p(!0)},[f]);return Y.createElement(ppe,{showLabels:!g,sectors:i},Y.createElement(U0,{animationId:d,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:v,key:d},b=>{var x=[],C=i&&i[0],O=C==null?void 0:C.startAngle;return i==null||i.forEach((I,T)=>{var M=m&&m[T],B=T>0?Bf(I,"paddingAngle",0):0;if(M){var L=Sn(M.endAngle-M.startAngle,I.endAngle-I.startAngle,b),P=Vn(Vn({},I),{},{startAngle:O+B,endAngle:O+L+B});x.push(P),O=P.endAngle}else{var{endAngle:A,startAngle:j}=I,E=Sn(0,A-j,b),w=Vn(Vn({},I),{},{startAngle:O+B,endAngle:O+E+B});x.push(w),O=w.endAngle}}),r.current=x,Y.createElement(Oi,null,Y.createElement(hpe,{sectors:x,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),Y.createElement(fpe,{showLabels:!g,sectors:i,props:t}),t.children)}var gpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:oi.area};function vpe(e){var{id:t}=e,r=I2(e,Xde),{hide:n,className:i,rootTabIndex:a}=e,s=Y.useMemo(()=>b8(e.children,xf),[e.children]),o=Wt(c=>dde(c,t,s)),l=Y.useRef(null),u=Dr("recharts-pie",i);return n||o==null?(l.current=null,Y.createElement(Oi,{tabIndex:a,className:u})):Y.createElement(Wa,{zIndex:e.zIndex},Y.createElement(rpe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),Y.createElement(Oi,{tabIndex:a,className:u},Y.createElement(mpe,{props:Vn(Vn({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function J_(e){var t=ui(e,gpe),{id:r}=t,n=I2(t,Yde),i=hs(n);return Y.createElement(A8,{id:r,type:"pie"},a=>Y.createElement(Y.Fragment,null,Y.createElement(Wde,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),Y.createElement(tpe,_c({},n,{id:a})),Y.createElement(vpe,_c({},n,{id:a}))))}J_.displayName="Pie";var ype=["points"];function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){bpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bpe(e,t,r){return(t=wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wpe(e){var t=xpe(e,"string");return typeof t=="symbol"?t:t+""}function xpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function _pe(e,t){if(e==null)return{};var r,n,i=Spe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Spe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kpe(e){var{option:t,dotProps:r,className:n}=e;if(Y.isValidElement(t))return Y.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Dr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=_pe(a,ype);return Y.createElement(wB,jy({},o,{className:i}))}function Ape(e,t){return e==null?!1:t?!0:e.length===1}function Epe(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=oi.scatter}=e;if(!Ape(t,r))return null;var c=CB(r),f=gee(r),h=t.map((m,g)=>{var p,v,y=y5(y5(y5({r:3},s),f),{},{index:g,cx:(p=m.x)!==null&&p!==void 0?p:void 0,cy:(v=m.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:m.value,payload:m.payload,points:t});return Y.createElement(kpe,{key:"dot-".concat(g),option:r,dotProps:y,className:i})}),d={};return o&&l!=null&&(d.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),Y.createElement(Wa,{zIndex:u},Y.createElement(Oi,jy({className:n},d),h))}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Cpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cpe(e,t,r){return(t=Tpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tpe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OB=0,Npe={xAxis:{},yAxis:{},zAxis:{}},jB=Ha({name:"cartesianAxis",initialState:Npe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_n()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:_n()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_n()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_n()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:_n()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_n()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_n()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:_n()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_n()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=PP(PP({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:Ipe,replaceXAxis:Ope,removeXAxis:jpe,addYAxis:Mpe,replaceYAxis:Rpe,removeYAxis:Lpe,addZAxis:Oye,replaceZAxis:jye,removeZAxis:Mye,updateYAxisWidth:Dpe}=jB.actions,Fpe=jB.reducer,Bpe=$e([gi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),zpe=$e([Bpe,Xl,Yl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),E8=()=>Wt(zpe),Upe=()=>Wt(Dce);function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Vpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vpe(e,t,r){return(t=$pe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $pe(e){var t=qpe(e,"string");return typeof t=="symbol"?t:t+""}function qpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hpe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=b5(b5(b5({},o),Df(i)),T6(i)),u;return Y.isValidElement(i)?u=Y.cloneElement(i,l):typeof i=="function"?u=i(l):u=Y.createElement(wB,l),Y.createElement(Oi,{className:"recharts-active-dot",clipPath:s},u)};function Wpe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=oi.activeDot}=e,o=Wt(xc),l=Upe();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return En(u)?null:Y.createElement(Wa,{zIndex:s},Y.createElement(Hpe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var IP=(e,t,r)=>{var n=r??e;if(!En(n))return ca(n,t,0)},Kpe=(e,t,r)=>{var n={},i=e.filter(u2),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,f]=u,h=f.map(m=>m.dataKey),d=IP(t,r,f[0].barSize);return{stackId:c,dataKeys:h,barSize:d}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),f=IP(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]};function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){Gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gpe(e,t,r){return(t=Xpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xpe(e){var t=Ype(e,"string");return typeof t=="symbol"?t:t+""}function Ype(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=ca(e,r,0,!0),o,l=[];if(Mn(n[0].barSize)){var u=!1,c=r/a,f=n.reduce((v,y)=>v+(y.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&c>0&&(u=!0,c*=.9,f=a*c);var h=(r-f)/2>>0,d={offset:h-s,size:0};o=n.reduce((v,y)=>{var b,x={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:d.offset+d.size+s,size:u?c:(b=y.barSize)!==null&&b!==void 0?b:0}},C=[...v,x];return d=C[C.length-1].position,C},l)}else{var m=ca(t,r,0,!0);r-2*m-(a-1)*s<=0&&(s=0);var g=(r-2*m-(a-1)*s)/a;g>1&&(g>>=0);var p=Mn(i)?Math.min(g,i):g;o=n.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m+(g+s)*b+(g-p)/2,size:p}}],l)}return o}}var Qpe=(e,t,r,n,i,a,s)=>{var o=En(s)?t:s,l=Zpe(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>w1(w1({},u),{},{position:w1(w1({},u.position),{},{offset:u.position.offset-i/2})}))),l},Jpe=(e,t)=>{var r=MS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}};function eme(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Mn(e.zIndex)?e.zIndex:t}var MB=e=>{var{chartData:t}=e,r=pn(),n=da();return Y.useEffect(()=>n?()=>{}:(r(KT(t)),()=>{r(KT(void 0))}),[t,r,n]),null},jP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RB=Ha({name:"brush",initialState:jP,reducers:{setBrushSettings(e,t){return t.payload==null?jP:t.payload}}}),{setBrushSettings:Rye}=RB.actions,tme=RB.reducer;function rme(e,t,r){return(t=nme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nme(e){var t=ime(e,"string");return typeof t=="symbol"?t:t+""}function ime(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class C8{static create(t){return new C8(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}rme(C8,"EPS",1e-4);function ame(e){return(e%180+180)%180}var sme=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ame(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},ome={dots:[],areas:[],lines:[]},LB=Ha({name:"referenceElements",initialState:ome,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lye,removeDot:Dye,addArea:Fye,removeArea:Bye,addLine:zye,removeLine:Uye}=LB.actions,lme=LB.reducer,ume=Y.createContext(void 0),cme=e=>{var{children:t}=e,[r]=Y.useState("".concat(Hm("recharts"),"-clip")),n=E8();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return Y.createElement(ume.Provider,{value:r},Y.createElement("defs",null,Y.createElement("clipPath",{id:r},Y.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function DB(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function fme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sme(n,r)}function hme(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function a0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function dme(e,t){return DB(e,t+1)}function pme(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:DB(n,u)};var g=l,p,v=()=>(p===void 0&&(p=r(m,g)),p),y=m.coordinate,b=l===0||a0(e,y,v,c,o);b||(l=0,c=s,u+=1),b&&(c=y+e*(v()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function mme(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,h=!0,d=function(){var y=n[m],b=m,x,C=()=>(x===void 0&&(x=r(y,b)),x),O=y.coordinate,I=m===c||a0(e,O,C,f,l);if(!I)return h=!1,1;I&&(f=O+e*(C()/2+i))},m=c;m<s&&!d();m+=u);if(h){for(var g=[],p=c;p<s;p+=u)g.push(n[p]);return g}}return[]}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return(t=vme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vme(e){var t=yme(e,"string");return typeof t=="symbol"?t:t+""}function yme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bme(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var d=a[h],m,g=()=>(m===void 0&&(m=r(d,h)),m);if(h===s-1){var p=e*(d.coordinate+e*g()/2-l);a[h]=d=ia(ia({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate})}else a[h]=d=ia(ia({},d),{},{tickCoord:d.coordinate});if(d.tickCoord!=null){var v=a0(e,d.tickCoord,g,o,l);v&&(l=d.tickCoord-e*(g()/2+i),a[h]=ia(ia({},d),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function wme(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],f=r(c,o-1),h=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=ia(ia({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var d=a0(e,c.tickCoord,()=>f,l,u);d&&(u=c.tickCoord-e*(f/2+i),s[o-1]=ia(ia({},c),{},{isShow:!0}))}}for(var m=a?o-1:o,g=function(y){var b=s[y],x,C=()=>(x===void 0&&(x=r(b,y)),x);if(y===0){var O=e*(b.coordinate-e*C()/2-l);s[y]=b=ia(ia({},b),{},{tickCoord:O<0?b.coordinate-O*e:b.coordinate})}else s[y]=b=ia(ia({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var I=a0(e,b.tickCoord,C,l,u);I&&(l=b.tickCoord+e*(C()/2+i),s[y]=ia(ia({},b),{},{isShow:!0}))}},p=0;p<m;p++)g(p);return s}function T8(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!n)return[];if($t(l)||Jb.isSsr){var h;return(h=dme(i,$t(l)?l:0))!==null&&h!==void 0?h:[]}var d=[],m=o==="top"||o==="bottom"?"width":"height",g=c&&m==="width"?um(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=(b,x)=>{var C=typeof u=="function"?u(b.value,x):b.value;return m==="width"?fme(um(C,{fontSize:t,letterSpacing:r}),g,f):um(C,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Ni(i[1].coordinate-i[0].coordinate):1,y=hme(a,v,m);return l==="equidistantPreserveStart"?pme(v,y,p,i,s):l==="equidistantPreserveEnd"?mme(v,y,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=wme(v,y,p,i,s,l==="preserveStartEnd"):d=bme(v,y,p,i,s),d.filter(b=>b.isShow))}var xme=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},_me=["axisLine","width","height","className","hide","ticks","axisType"];function Sme(e,t){if(e==null)return{};var r,n,i=kme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){Ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t,r){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:oi.axis};function Tme(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=ni(ni(ni({},l),hs(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=ni(ni({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=ni(ni({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return Y.createElement("line",qf({},u,{className:Dr("recharts-cartesian-axis-line",Bf(o,"className"))}))}function Pme(e,t,r,n,i,a,s,o,l){var u,c,f,h,d,m,g=o?-1:1,p=e.tickSize||s,v=$t(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!o*i,f=h-g*p,m=f-g*l,d=v;break;case"left":f=h=e.coordinate,c=t+ +!o*n,u=c-g*p,d=u-g*l,m=v;break;case"right":f=h=e.coordinate,c=t+ +o*n,u=c+g*p,d=u+g*l,m=v;break;default:u=c=e.coordinate,h=r+ +o*i,f=h+g*p,m=f+g*l,d=v;break}return{line:{x1:u,y1:f,x2:c,y2:h},tick:{x:d,y:m}}}function Nme(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ime(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ome(e){var{option:t,tickProps:r,value:n}=e,i,a=Dr(r.className,"recharts-cartesian-axis-tick-value");if(Y.isValidElement(t))i=Y.cloneElement(t,ni(ni({},r),{},{className:a}));else if(typeof t=="function")i=t(ni(ni({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Dr(s,t==null?void 0:t.className)),i=Y.createElement(y2,qf({},r,{className:s}),n)}return i}var jme=Y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:h,y:d,width:m,height:g,tickSize:p,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:x,events:C,axisType:O}=e,I=T8(ni(ni({},x),{},{ticks:r}),y,b),T=Nme(c,f),M=Ime(c,f),B=hs(x),L=Df(n),P={};typeof i=="object"&&(P=i);var A=ni(ni({},B),{},{fill:"none"},P),j=I.map(S=>ni({entry:S},Pme(S,h,d,m,g,c,p,f,v))),E=j.map(S=>{var{entry:_,line:k}=S;return Y.createElement(Oi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},i&&Y.createElement("line",qf({},A,k,{className:Dr("recharts-cartesian-axis-tick-line",Bf(i,"className"))})))}),w=j.map((S,_)=>{var{entry:k,tick:N}=S,$=ni(ni(ni(ni({textAnchor:T,verticalAnchor:M},B),{},{stroke:"none",fill:a},L),N),{},{index:_,payload:k,visibleTicksCount:I.length,tickFormatter:s,padding:l},u);return Y.createElement(Oi,qf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},R0(C,k,_)),n&&Y.createElement(Ome,{option:n,tickProps:$,value:"".concat(typeof s=="function"?s(k.value,_):k.value).concat(o||"")}))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},w.length>0&&Y.createElement(Wa,{zIndex:oi.label},Y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},w)),E.length>0&&Y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},E))}),Mme=Y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Sme(e,_me),[c,f]=Y.useState(""),[h,d]=Y.useState(""),m=Y.useRef(null);Y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var p;return xme({ticks:m.current,label:(p=e.labelRef)===null||p===void 0?void 0:p.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=Y.useCallback(p=>{if(p){var v=p.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=v;var y=v[0];if(y){var b=window.getComputedStyle(y),x=b.fontSize,C=b.letterSpacing;(x!==c||C!==h)&&(f(x),d(C))}}},[c,h]);return s||n!=null&&n<=0||i!=null&&i<=0?null:Y.createElement(Wa,{zIndex:e.zIndex},Y.createElement(Oi,{className:Dr("recharts-cartesian-axis",a)},Y.createElement(Tme,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:hs(e)}),Y.createElement(jme,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),Y.createElement(jhe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},Y.createElement($he,{label:e.label,labelRef:e.labelRef}),e.children)))}),P8=Y.forwardRef((e,t)=>{var r=ui(e,Nl);return Y.createElement(Mme,qf({},r,{ref:t}))});P8.displayName="CartesianAxis";var Rme=["x1","y1","x2","y2","key"],Lme=["offset"],Dme=["xAxisId","yAxisId"],Fme=["xAxisId","yAxisId"];function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Bme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bme(e,t,r){return(t=zme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zme(e){var t=Ume(e,"string");return typeof t=="symbol"?t:t+""}function Ume(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function My(e,t){if(e==null)return{};var r,n,i=Vme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $me=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return Y.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FB(e){var{option:t,lineItemProps:r}=e,n;if(Y.isValidElement(t))n=Y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=My(r,Rme),f=(i=hs(c))!==null&&i!==void 0?i:{},{offset:h}=f,d=My(f,Lme);n=Y.createElement("line",cf({},d,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function qme(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=My(e,Dme),l=i.map((u,c)=>{var f=la(la({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return Y.createElement(FB,{key:"line-".concat(c),option:n,lineItemProps:f})});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Hme(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=My(e,Fme),l=i.map((u,c)=>{var f=la(la({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return Y.createElement(FB,{option:n,lineItemProps:f,key:"line-".concat(c)})});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wme(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var d=!u[h+1],m=d?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%t.length;return Y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Kme(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var c=u.map((f,h)=>{var d=!u[h+1],m=d?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%r.length;return Y.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Gme=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return yL(T8(la(la(la({},Nl),r),{},{ticks:bL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Xme=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return yL(T8(la(la(la({},Nl),r),{},{ticks:bL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Yme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:oi.grid};function tv(e){var t=Z6(),r=Q6(),n=NL(),i=la(la({},ui(e,Yme)),{},{x:$t(e.x)?e.x:n.left,y:$t(e.y)?e.y:n.top,width:$t(e.width)?e.width:n.width,height:$t(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:h,verticalValues:d}=i,m=da(),g=Wt(M=>LT(M,"xAxis",a,m)),p=Wt(M=>LT(M,"yAxis",s,m));if(!Zo(u)||!Zo(c)||!$t(o)||!$t(l))return null;var v=i.verticalCoordinatesGenerator||Gme,y=i.horizontalCoordinatesGenerator||Xme,{horizontalPoints:b,verticalPoints:x}=i;if((!b||!b.length)&&typeof y=="function"){var C=h&&h.length,O=y({yAxis:p?la(la({},p),{},{ticks:C?h:p.ticks}):void 0,width:t??u,height:r??c,offset:n},C?!0:f);ly(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(b=O)}if((!x||!x.length)&&typeof v=="function"){var I=d&&d.length,T=v({xAxis:g?la(la({},g),{},{ticks:I?d:g.ticks}):void 0,width:t??u,height:r??c,offset:n},I?!0:f);ly(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(x=T)}return Y.createElement(Wa,{zIndex:i.zIndex},Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement($me,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),Y.createElement(Wme,cf({},i,{horizontalPoints:b})),Y.createElement(Kme,cf({},i,{verticalPoints:x})),Y.createElement(qme,cf({},i,{offset:n,horizontalPoints:b,xAxis:g,yAxis:p})),Y.createElement(Hme,cf({},i,{offset:n,verticalPoints:x,xAxis:g,yAxis:p}))))}tv.displayName="CartesianGrid";var Zme={},BB=Ha({name:"errorBars",initialState:Zme,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Vye,replaceErrorBar:$ye,removeErrorBar:qye}=BB.actions,Qme=BB.reducer,Jme=["children"];function e0e(e,t){if(e==null)return{};var r,n,i=t0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},n0e=Y.createContext(r0e);function zB(e){var{children:t}=e,r=e0e(e,Jme);return Y.createElement(n0e.Provider,{value:r},t)}function N8(e,t){var r,n,i=Wt(u=>Jl(u,e)),a=Wt(u=>eu(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ki.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Ai.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function UB(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=E8(),{needClipX:a,needClipY:s,needClip:o}=N8(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return Y.createElement("clipPath",{id:"clipPath-".concat(n)},Y.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}var VB=(e,t,r,n)=>wc(e,"xAxis",t,n),$B=(e,t,r,n)=>bc(e,"xAxis",t,n),qB=(e,t,r,n)=>wc(e,"yAxis",r,n),HB=(e,t,r,n)=>bc(e,"yAxis",r,n),i0e=$e([Or,VB,qB,$B,HB],(e,t,r,n,i)=>Oc(e,"xAxis")?Ed(t,n,!1):Ed(r,i,!1)),a0e=(e,t,r,n,i)=>i;function s0e(e){return e.type==="line"}var o0e=$e([h2,a0e],(e,t)=>e.filter(s0e).find(r=>r.id===t)),l0e=$e([Or,VB,qB,$B,HB,o0e,i0e,AS],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,d;if(h!=null&&h.length>0?d=h:d=l==null?void 0:l.slice(u,c+1),d!=null)return J0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:d})}});function u0e(e){var t=Df(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var c0e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=Y;function f0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h0e=typeof Object.is=="function"?Object.is:f0e,d0e=rg.useSyncExternalStore,p0e=rg.useRef,m0e=rg.useEffect,g0e=rg.useMemo,v0e=rg.useDebugValue;c0e.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=p0e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=g0e(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var m=s.value;if(i(m,d))return f=m}return f=d}if(m=f,h0e(c,d))return m;var g=n(d);return i!==void 0&&i(m,g)?(c=d,m):(c=d,f=g)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=d0e(e,a[0],a[1]);return m0e(function(){s.hasValue=!0,s.value=o},[o]),v0e(o),o};function y0e(e){e()}function b0e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y0e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var DP={notify(){},get:()=>[]};function w0e(e,t){let r,n=DP,i=0,a=!1;function s(g){c();const p=n.subscribe(g);let v=!1;return()=>{v||(v=!0,p(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=b0e())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=DP)}function h(){a||(a=!0,c())}function d(){a&&(a=!1,f())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:d,getListeners:()=>n};return m}var x0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_0e=x0e(),S0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",k0e=S0e(),A0e=()=>_0e||k0e?Y.useLayoutEffect:Y.useEffect,E0e=A0e();function FP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function C0e(e,t){if(FP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!FP(e[r[i]],t[r[i]]))return!1;return!0}var w5=Symbol.for("react-redux-context"),x5=typeof globalThis<"u"?globalThis:{};function T0e(){if(!Y.createContext)return{};const e=x5[w5]??(x5[w5]=new Map);let t=e.get(Y.createContext);return t||(t=Y.createContext(null),e.set(Y.createContext,t)),t}var P0e=T0e();function N0e(e){const{children:t,context:r,serverState:n,store:i}=e,a=Y.useMemo(()=>{const l=w0e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=Y.useMemo(()=>i.getState(),[i]);E0e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||P0e;return Y.createElement(o.Provider,{value:a},t)}var I0e=N0e,O0e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function j0e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function O2(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(O0e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!C0e(e[n],t[n]))return!1}else if(!j0e(e[n],t[n]))return!1;return!0}var M0e=["id"],R0e=["type","layout","connectNulls","needClip","shape"],L0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){D0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D0e(e,t,r){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F0e(e){var t=B0e(e,"string");return typeof t=="symbol"?t:t+""}function B0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I8(e,t){if(e==null)return{};var r,n,i=z0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function z0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ud(r,t),payload:e}]},V0e=Y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ud(s,t),hide:o,type:u,color:n,unit:l,graphicalItemId:c}};return Y.createElement(k8,{tooltipEntrySettings:f})}),WB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function $0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var q0e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return WB(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>a){o=[...r.slice(0,l),a-u];break}var c=o.length%2===0?[0,s]:[s];return[...$0e(r,i),...o,...c].map(f=>"".concat(f,"px")).join(", ")};function H0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,l=I8(n,M0e),u=hs(l);return Y.createElement(Epe,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function W0e(e){var{showLabels:t,children:r,points:n}=e,i=Y.useMemo(()=>n==null?void 0:n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ro(Ro({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return Y.createElement(yB,{value:t?i:void 0},r)}function zP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:c}=a,f=I8(a,R0e),h=Ro(Ro({},Ca(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return Y.createElement(Y.Fragment,null,(n==null?void 0:n.length)>1&&Y.createElement(w8,s0({shapeType:"curve",option:c},h,{pathRef:r})),Y.createElement(H0e,{points:n,clipPathId:t,props:a}))}function K0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function G0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,animateNewValues:h,width:d,height:m,onAnimationEnd:g,onAnimationStart:p}=r,v=i.current,y=V0(s,"recharts-line-"),b=Y.useRef(y),[x,C]=Y.useState(!1),O=!x,I=Y.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),T=Y.useCallback(()=>{typeof p=="function"&&p(),C(!0)},[p]),M=K0e(n.current),B=Y.useRef(0);b.current!==y&&(B.current=a.current,b.current=y);var L=B.current;return Y.createElement(W0e,{points:s,showLabels:O},r.children,Y.createElement(U0,{animationId:y,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:I,onAnimationStart:T,key:y},P=>{var A=Sn(L,M+L,P),j=Math.min(A,M),E;if(l)if(o){var w="".concat(o).split(/[,\s]+/gim).map(k=>parseFloat(k));E=q0e(j,M,w)}else E=WB(M,j);else E=o==null?void 0:String(o);if(P>0&&M>0&&(i.current=s,a.current=Math.max(a.current,j)),v){var S=v.length/s.length,_=P===1?s:s.map((k,N)=>{var $=Math.floor(N*S);if(v[$]){var R=v[$];return Ro(Ro({},k),{},{x:Sn(R.x,k.x,P),y:Sn(R.y,k.y,P)})}return h?Ro(Ro({},k),{},{x:Sn(d*2,k.x,P),y:Sn(m/2,k.y,P)}):Ro(Ro({},k),{},{x:k.x,y:k.y})});return i.current=_,Y.createElement(zP,{props:r,points:_,clipPathId:t,pathRef:n,strokeDasharray:E})}return Y.createElement(zP,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:E})}),Y.createElement(p8,{label:r.label}))}function X0e(e){var{clipPathId:t,props:r}=e,n=Y.useRef(null),i=Y.useRef(0),a=Y.useRef(null);return Y.createElement(G0e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var Y0e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:en(e.payload,t)}};class Z0e extends Y.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:c,id:f,needClip:h,zIndex:d}=this.props;if(t)return null;var m=Dr("recharts-line",i),g=f,{r:p,strokeWidth:v}=u0e(r),y=CB(r),b=p*2+v,x=h?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return Y.createElement(Wa,{zIndex:d},Y.createElement(Oi,{className:m},h&&Y.createElement("defs",null,Y.createElement(UB,{clipPathId:g,xAxisId:a,yAxisId:s}),!y&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(g)},Y.createElement("rect",{x:l-b/2,y:o-b/2,width:u+b,height:c+b}))),Y.createElement(zB,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:Y0e,errorBarOffset:0},Y.createElement(X0e,{props:this.props,clipPathId:g}))),Y.createElement(Wpe,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:x}))}}var KB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:oi.line,type:"linear"};function Q0e(e){var t=ui(e,KB),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:f,legendType:h,xAxisId:d,yAxisId:m,id:g}=t,p=I8(t,L0e),{needClip:v}=N8(d,m),y=E8(),b=Vd(),x=da(),C=Wt(B=>l0e(B,d,m,x,g));if(b!=="horizontal"&&b!=="vertical"||C==null||y==null)return null;var{height:O,width:I,x:T,y:M}=y;return Y.createElement(Z0e,s0({},p,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:c,hide:u,label:f,legendType:h,xAxisId:d,yAxisId:m,points:C,layout:b,height:O,width:I,left:T,top:M,needClip:v}))}function J0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,c)=>{var f=en(u,s);if(t==="horizontal"){var h=W7({axis:r,ticks:i,bandSize:o,entry:u,index:c}),d=En(f)?null:n.scale(f);return{x:h,y:d,value:f,payload:u}}var m=En(f)?null:r.scale(f),g=W7({axis:n,ticks:a,bandSize:o,entry:u,index:c});return m==null||g==null?null:{x:m,y:g,value:f,payload:u}}).filter(Boolean)}function ege(e){var t=ui(e,KB),r=da();return Y.createElement(A8,{id:t.id,type:"line"},n=>Y.createElement(Y.Fragment,null,Y.createElement(PB,{legendPayload:U0e(t)}),Y.createElement(V0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),Y.createElement(IB,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),Y.createElement(Q0e,s0({},t,{id:n}))))}var GB=Y.memo(ege,O2);GB.displayName="Line";function eh(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:OB}function th(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:OB}var tge="Invariant failed";function rge(e,t){throw new Error(tge)}function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(null,arguments)}function Ry(e){return Y.createElement(w8,e3({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var nge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if($t(t))return t;var a=$t(n)||En(n);return a?t(n,i):(a||rge(),r)}},ige=(e,t,r)=>r,age=(e,t)=>t,ng=$e([h2,age],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),sge=$e([ng],e=>e==null?void 0:e.maxBarSize),oge=(e,t,r,n)=>n,lge=$e([Or,h2,eh,th,ige],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),uge=(e,t,r)=>{var n=Or(e),i=eh(e,t),a=th(e,t);if(!(i==null||a==null))return n==="horizontal"?H_(e,"yAxis",a,r):H_(e,"xAxis",i,r)},cge=(e,t)=>{var r=Or(e),n=eh(e,t),i=th(e,t);if(!(n==null||i==null))return r==="horizontal"?RT(e,"xAxis",n):RT(e,"yAxis",i)},fge=$e([lge,Rle,cge],Kpe),hge=(e,t,r)=>{var n,i,a=ng(e,t);if(a!=null){var s=eh(e,t),o=th(e,t);if(!(s==null||o==null)){var l=Or(e),u=XD(e),{maxBarSize:c}=a,f=En(c)?u:c,h,d;return l==="horizontal"?(h=wc(e,"xAxis",s,r),d=bc(e,"xAxis",s,r)):(h=wc(e,"yAxis",o,r),d=bc(e,"yAxis",o,r)),(n=(i=Ed(h,d,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0}}},XB=(e,t,r)=>{var n=Or(e),i=eh(e,t),a=th(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=wc(e,"xAxis",i,r),o=bc(e,"xAxis",i,r)):(s=wc(e,"yAxis",a,r),o=bc(e,"yAxis",a,r)),Ed(s,o)}},dge=$e([fge,XD,Mle,YD,hge,XB,sge],Qpe),pge=(e,t,r)=>{var n=eh(e,t);if(n!=null)return wc(e,"xAxis",n,r)},mge=(e,t,r)=>{var n=th(e,t);if(n!=null)return wc(e,"yAxis",n,r)},gge=(e,t,r)=>{var n=eh(e,t);if(n!=null)return bc(e,"xAxis",n,r)},vge=(e,t,r)=>{var n=th(e,t);if(n!=null)return bc(e,"yAxis",n,r)},yge=$e([dge,ng],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),bge=$e([uge,ng],Jpe),wge=$e([gi,X6,pge,mge,gge,vge,yge,Or,_le,XB,bge,ng,oge],(e,t,r,n,i,a,s,o,l,u,c,f,h)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:p}=f,v;if(p!=null&&p.length>0?v=p:v=d==null?void 0:d.slice(m,g+1),v!=null)return Xge({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:v,offset:e,cells:h,dataStartIndex:m})}}),xge=["index"];function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(null,arguments)}function _ge(e,t){if(e==null)return{};var r,n,i=Sge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YB=Y.createContext(void 0),kge=e=>{var t=Y.useContext(YB);if(t!=null)return t.stackId;if(e!=null)return kne(e)},Age=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Ege=e=>{var t=Y.useContext(YB);if(t!=null){var{stackId:r}=t;return"url(#".concat(Age(r,e),")")}},Cge=e=>{var{index:t}=e,r=_ge(e,xge),n=Ege(t);return Y.createElement(Oi,t3({className:"recharts-bar-stack-layer",clipPath:n},r))},Tge=["onMouseEnter","onMouseLeave","onClick"],Pge=["value","background","tooltipPosition"],Nge=["id"],Ige=["onMouseEnter","onClick","onMouseLeave"];function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(null,arguments)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){Oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oge(e,t,r){return(t=jge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jge(e){var t=Mge(e,"string");return typeof t=="symbol"?t:t+""}function Mge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(e,t){if(e==null)return{};var r,n,i=Rge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lge=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ud(r,t),payload:e}]},Dge=Y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Ud(a,t),hide:s,type:l,color:i,unit:o,graphicalItemId:u}};return Y.createElement(k8,{tooltipEntrySettings:c})});function Fge(e){var t=Wt(xc),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Ly(a,Tge),c=x8(s,n,a.id),f=_8(o),h=S8(l,n,a.id);if(!i||r==null)return null;var d=Df(i);return Y.createElement(Wa,{zIndex:eme(i,oi.barBackground)},r.map((m,g)=>{var{value:p,background:v,tooltipPosition:y}=m,b=Ly(m,Pge);if(!v)return null;var x=c(m,g),C=f(m,g),O=h(m,g),I=_a(_a(_a(_a(_a({option:i,isActive:String(g)===t},b),{},{fill:"#eee"},v),d),R0(u,m,g)),{},{onMouseEnter:x,onMouseLeave:C,onClick:O,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return Y.createElement(Ry,Kl({key:"background-bar-".concat(g)},I))}))}function Bge(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return _a(_a({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return Y.createElement(yB,{value:t?i:void 0},r)}function zge(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=Wt(xc),l=Wt(o8),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?Y.createElement(Wa,{zIndex:oi.activeBar},Y.createElement(Ry,Kl({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):Y.createElement(Ry,Kl({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function Uge(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return Y.createElement(Ry,Kl({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Vge(e){var t,{data:r,props:n}=e,i=(t=hs(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Ly(i,Nge),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:f,onMouseLeave:h}=n,d=Ly(n,Ige),m=x8(c,l,a),g=_8(h),p=S8(f,l,a);return r?Y.createElement(Y.Fragment,null,r.map((v,y)=>Y.createElement(Cge,Kl({index:y,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y),className:"recharts-bar-rectangle"},R0(d,v,y),{onMouseEnter:m(v,y),onMouseLeave:g(v,y),onClick:p(v,y)}),u?Y.createElement(zge,{shape:o,activeBar:u,baseProps:s,entry:v,index:y,dataKey:l}):Y.createElement(Uge,{shape:o,baseProps:s,entry:v,index:y,dataKey:l})))):null}function $ge(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=r.current,h=V0(t,"recharts-bar-"),[d,m]=Y.useState(!1),g=!d,p=Y.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),v=Y.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return Y.createElement(Bge,{showLabels:g,rects:n},Y.createElement(U0,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:p,onAnimationStart:v,key:h},y=>{var b=y===1?n:n==null?void 0:n.map((x,C)=>{var O=f&&f[C];if(O)return _a(_a({},x),{},{x:Sn(O.x,x.x,y),y:Sn(O.y,x.y,y),width:Sn(O.width,x.width,y),height:Sn(O.height,x.height,y)});if(i==="horizontal"){var I=Sn(0,x.height,y),T=Sn(x.stackedBarStart,x.y,y);return _a(_a({},x),{},{y:T,height:I})}var M=Sn(0,x.width,y),B=Sn(x.stackedBarStart,x.x,y);return _a(_a({},x),{},{width:M,x:B})});return y>0&&(r.current=b??null),b==null?null:Y.createElement(Oi,null,Y.createElement(Vge,{props:t,data:b}))}),Y.createElement(p8,{label:t.label}),t.children)}function qge(e){var t=Y.useRef(null);return Y.createElement($ge,{previousRectanglesRef:t,props:e})}var ZB=0,Hge=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:en(e,t)}};class Wge extends Y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Dr("recharts-bar",i),f=u;return Y.createElement(Oi,{className:c,id:u},o&&Y.createElement("defs",null,Y.createElement(UB,{clipPathId:f,xAxisId:a,yAxisId:s})),Y.createElement(Oi,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},Y.createElement(Fge,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),Y.createElement(qge,this.props)))}}var Kge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZB,xAxisId:0,yAxisId:0,zIndex:oi.bar};function Gge(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=N8(t,r),h=Vd(),d=da(),m=b8(e.children,xf),g=Wt(y=>wge(y,e.id,d,m));if(h!=="vertical"&&h!=="horizontal")return null;var p,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?p=0:p=h==="vertical"?v.height/2:v.width/2,Y.createElement(zB,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Hge,errorBarOffset:p},Y.createElement(Wge,Kl({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Xge(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:h,cells:d,parentViewBox:m,dataStartIndex:g}=e,p=t==="horizontal"?o:s,v=c?p.scale.domain():null,y=Ane({numericAxis:p}),b=p.scale(y);return f.map((x,C)=>{var O,I,T,M,B,L;if(c){var P=c[C+g];if(P==null)return null;O=bne(P,v)}else O=en(x,r),Array.isArray(O)||(O=[y,O]);var A=nge(n,ZB)(O[1],C);if(t==="horizontal"){var j,[E,w]=[o.scale(O[0]),o.scale(O[1])];I=K7({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:x,index:C}),T=(j=w??E)!==null&&j!==void 0?j:void 0,M=i.size;var S=E-w;if(B=go(S)?0:S,L={x:I,y:h.top,width:M,height:h.height},Math.abs(A)>0&&Math.abs(B)<Math.abs(A)){var _=Ni(B||A)*(Math.abs(A)-Math.abs(B));T-=_,B+=_}}else{var[k,N]=[s.scale(O[0]),s.scale(O[1])];if(I=k,T=K7({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:x,index:C}),M=N-k,B=i.size,L={x:h.left,y:T,width:h.width,height:B},Math.abs(A)>0&&Math.abs(M)<Math.abs(A)){var $=Ni(M||A)*(Math.abs(A)-Math.abs(M));M+=$}}if(I==null||T==null||M==null||B==null)return null;var R=_a(_a({},x),{},{stackedBarStart:b,x:I,y:T,width:M,height:B,value:c?O:O[1],payload:x,background:L,tooltipPosition:{x:I+M/2,y:T+B/2},parentViewBox:m},d&&d[C]&&d[C].props);return R}).filter(Boolean)}function Yge(e){var t=ui(e,Kge),r=kge(t.stackId),n=da();return Y.createElement(A8,{id:t.id,type:"bar"},i=>Y.createElement(Y.Fragment,null,Y.createElement(PB,{legendPayload:Lge(t)}),Y.createElement(Dge,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),Y.createElement(IB,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),Y.createElement(Wa,{zIndex:t.zIndex},Y.createElement(Gge,Kl({},t,{id:i})))))}var Kp=Y.memo(Yge,O2);Kp.displayName="Bar";var Zge=["domain","range"],Qge=["domain","range"];function VP(e,t){if(e==null)return{};var r,n,i=Jge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $P(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function QB(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=VP(e,Zge),{domain:a,range:s}=t,o=VP(t,Qge);return!$P(r,a)||!$P(n,s)?!1:O2(i,o)}var e1e=["dangerouslySetInnerHTML","ticks","scale"],t1e=["id","scale"];function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(null,arguments)}function qP(e,t){if(e==null)return{};var r,n,i=r1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n1e(e){var t=pn(),r=Y.useRef(null);return Y.useLayoutEffect(()=>{r.current===null?t(Ipe(e)):r.current!==e&&t(Ope({prev:r.current,next:e})),r.current=e},[e,t]),Y.useLayoutEffect(()=>()=>{r.current&&(t(jpe(r.current)),r.current=null)},[t]),null}var i1e=e=>{var{xAxisId:t,className:r}=e,n=Wt(X6),i=da(),a="xAxis",s=Wt(v=>TF(v,a,t,i)),o=Wt(v=>kF(v,t)),l=Wt(v=>Oue(v,t)),u=Wt(v=>aF(v,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:h}=e,d=qP(e,e1e),{id:m,scale:g}=u,p=qP(u,t1e);return Y.createElement(P8,r3({},d,p,{x:l.x,y:l.y,width:o.width,height:o.height,className:Dr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},a1e={allowDataOverflow:ki.allowDataOverflow,allowDecimals:ki.allowDecimals,allowDuplicatedCategory:ki.allowDuplicatedCategory,angle:ki.angle,axisLine:Nl.axisLine,height:ki.height,hide:!1,includeHidden:ki.includeHidden,interval:ki.interval,minTickGap:ki.minTickGap,mirror:ki.mirror,orientation:ki.orientation,padding:ki.padding,reversed:ki.reversed,scale:ki.scale,tick:ki.tick,tickCount:ki.tickCount,tickLine:Nl.tickLine,tickSize:Nl.tickSize,type:ki.type,xAxisId:0},s1e=e=>{var t=ui(e,a1e);return Y.createElement(Y.Fragment,null,Y.createElement(n1e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),Y.createElement(i1e,t))},rv=Y.memo(s1e,QB);rv.displayName="XAxis";var o1e=["dangerouslySetInnerHTML","ticks","scale"],l1e=["id","scale"];function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(null,arguments)}function HP(e,t){if(e==null)return{};var r,n,i=u1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function c1e(e){var t=pn(),r=Y.useRef(null);return Y.useLayoutEffect(()=>{r.current===null?t(Mpe(e)):r.current!==e&&t(Rpe({prev:r.current,next:e})),r.current=e},[e,t]),Y.useLayoutEffect(()=>()=>{r.current&&(t(Lpe(r.current)),r.current=null)},[t]),null}var f1e=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=Y.useRef(null),s=Y.useRef(null),o=Wt(X6),l=da(),u=pn(),c="yAxis",f=Wt(O=>AF(O,t)),h=Wt(O=>Mue(O,t)),d=Wt(O=>TF(O,c,t,l)),m=Wt(O=>sF(O,t));if(Y.useLayoutEffect(()=>{if(!(n!=="auto"||!f||d8(i)||Y.isValidElement(i)||m==null)){var O=a.current;if(O){var I=O.getCalculatedWidth();Math.round(f.width)!==Math.round(I)&&u(Dpe({id:t,width:I}))}}},[d,f,u,i,t,n,m]),f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:p,scale:v}=e,y=HP(e,o1e),{id:b,scale:x}=m,C=HP(m,l1e);return Y.createElement(P8,n3({},y,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Dr("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:d,axisType:c}))},h1e={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:Ai.allowDecimals,allowDuplicatedCategory:Ai.allowDuplicatedCategory,angle:Ai.angle,axisLine:Nl.axisLine,hide:!1,includeHidden:Ai.includeHidden,interval:Ai.interval,minTickGap:Ai.minTickGap,mirror:Ai.mirror,orientation:Ai.orientation,padding:Ai.padding,reversed:Ai.reversed,scale:Ai.scale,tick:Ai.tick,tickCount:Ai.tickCount,tickLine:Nl.tickLine,tickSize:Nl.tickSize,type:Ai.type,width:Ai.width,yAxisId:0},d1e=e=>{var t=ui(e,h1e);return Y.createElement(Y.Fragment,null,Y.createElement(c1e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),Y.createElement(f1e,t))},nv=Y.memo(d1e,QB);nv.displayName="YAxis";var p1e=(e,t)=>t,O8=$e([p1e,Or,nF,yi,qF,tu,Yce,gi],nfe),j8=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},JB=Bs("mouseClick"),ez=F0();ez.startListening({actionCreator:JB,effect:(e,t)=>{var r=e.payload,n=O8(t.getState(),j8(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Gue({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var i3=Bs("mouseMove"),tz=F0(),x1=null;tz.startListening({actionCreator:i3,effect:(e,t)=>{var r=e.payload;x1!==null&&cancelAnimationFrame(x1);var n=j8(r);x1=requestAnimationFrame(()=>{var i=t.getState(),a=t8(i,i.tooltip.settings.shared);if(a==="axis"){var s=O8(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(LF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(RF())}x1=null})}});function m1e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rz=Ha({name:"rootProps",initialState:WP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:WP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),g1e=rz.reducer,{updateOptions:v1e}=rz.actions,nz=Ha({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:y1e}=nz.actions,b1e=nz.reducer,iz=Bs("keyDown"),az=Bs("focus"),M8=F0();M8.startListening({actionCreator:iz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=r8(i,Zd(r),Z0(r),eg(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=tu(r);if(a==="Enter"){var u=Py(r,"axis","hover",String(i.index));t.dispatch(K_({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Fue(r),f=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,d=o+h*f;if(!(l==null||d>=l.length||d<0)){var m=Py(r,"axis","hover",String(d));t.dispatch(K_({active:!0,activeIndex:d.toString(),activeCoordinate:m}))}}}}}});M8.startListening({actionCreator:az,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Py(r,"axis","hover",String(a));t.dispatch(K_({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ts=Bs("externalEvent"),sz=F0(),_5=new Map;sz.startListening({actionCreator:Ts,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=_5.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Mce(o),activeDataKey:o8(o),activeIndex:xc(o),activeLabel:KF(o),activeTooltipIndex:xc(o),isTooltipActive:Rce(o)};r(l,n)}finally{_5.delete(i)}});_5.set(i,s)}}});var w1e=$e([Xd],e=>e.tooltipItemPayloads),x1e=$e([w1e,J0,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),oz=Bs("touchMove"),lz=F0();lz.startListening({actionCreator:oz,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=t8(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=O8(n,j8({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(LF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(xL),f=(o=u.getAttribute(_L))!==null&&o!==void 0?o:void 0,h=Yd(n).find(g=>g.id===f);if(c==null||h==null||f==null)return;var{dataKey:d}=h,m=x1e(n,c,f);t.dispatch(MF({activeDataKey:d,activeIndex:c,activeCoordinate:m,activeGraphicalItemId:f}))}}}});var _1e=$R({brush:tme,cartesianAxis:Fpe,chartData:jfe,errorBars:Qme,graphicalItems:qde,layout:dne,legend:vie,options:Tfe,polarAxis:sde,polarOptions:b1e,referenceElements:lme,rootProps:g1e,tooltip:Xue,zIndex:vfe}),S1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Fre({reducer:_1e,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([ez.middleware,tz.middleware,M8.middleware,sz.middleware,lz.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(iL({type:"raf"}))},devTools:{serialize:{replacer:m1e},name:"recharts-".concat(r)}})};function uz(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=da(),a=Y.useRef(null);if(i)return r;a.current==null&&(a.current=S1e(t,n));var s=F6;return Y.createElement(I0e,{context:s,store:a.current},r)}function k1e(e){var{layout:t,margin:r}=e,n=pn(),i=da();return Y.useEffect(()=>{i||(n(cne(t)),n(une(r)))},[n,i,t,r]),null}var cz=Y.memo(k1e,O2);function fz(e){var t=pn();return Y.useEffect(()=>{t(v1e(e))},[t,e]),null}function KP(e){var{zIndex:t,isPanorama:r}=e,n=Y.useRef(null),i=pn();return Y.useLayoutEffect(()=>(n.current&&i(mfe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(gfe({zIndex:t,isPanorama:r}))}),[i,t,r]),Y.createElement("g",{tabIndex:-1,ref:n})}function GP(e){var{children:t,isPanorama:r}=e,n=Wt(afe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return Y.createElement(Y.Fragment,null,i.map(s=>Y.createElement(KP,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>Y.createElement(KP,{key:s,zIndex:s,isPanorama:r})))}var A1e=["children"];function E1e(e,t){if(e==null)return{};var r,n,i=C1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}var T1e={width:"100%",height:"100%",display:"block"},P1e=Y.forwardRef((e,t)=>{var r=Z6(),n=Q6(),i=UL();if(!Zo(r)||!Zo(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),Y.createElement(_6,Dy({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:T1e,ref:t}),a)}),N1e=e=>{var{children:t}=e,r=Wt(Kb);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return Y.createElement(_6,{width:n,height:i,x:s,y:a},t)},XP=Y.forwardRef((e,t)=>{var{children:r}=e,n=E1e(e,A1e),i=da();return i?Y.createElement(N1e,null,Y.createElement(GP,{isPanorama:!0},r)):Y.createElement(P1e,Dy({ref:t},n),Y.createElement(GP,{isPanorama:!1},r))});function I1e(){var e=pn(),[t,r]=Y.useState(null),n=Wt(Ine);return Y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Mn(a)&&a!==n&&e(hne(a))}},[t,e,n]),r}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(null,arguments)}var L1e=()=>(Vfe(),null);function Fy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var D1e=Y.forwardRef((e,t)=>{var r,n,i=Y.useRef(null),[a,s]=Y.useState({containerWidth:Fy((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Fy((n=e.style)===null||n===void 0?void 0:n.height)}),o=Y.useCallback((u,c)=>{s(f=>{var h=Math.round(u),d=Math.round(c);return f.containerWidth===h&&f.containerHeight===d?f:{containerWidth:h,containerHeight:d}})},[]),l=Y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var h=m=>{var{width:g,height:p}=m[0].contentRect;o(g,p)},d=new ResizeObserver(h);d.observe(u),i.current=d}},[t,o]);return Y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),Y.createElement(Y.Fragment,null,Y.createElement(Xb,{width:a.containerWidth,height:a.containerHeight}),Y.createElement("div",Hf({ref:l},e)))}),F1e=Y.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=Y.useState({containerWidth:Fy(r),containerHeight:Fy(n)}),s=Y.useCallback((l,u)=>{a(c=>{var f=Math.round(l),h=Math.round(u);return c.containerWidth===f&&c.containerHeight===h?c:{containerWidth:f,containerHeight:h}})},[]),o=Y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return Y.createElement(Y.Fragment,null,Y.createElement(Xb,{width:i.containerWidth,height:i.containerHeight}),Y.createElement("div",Hf({ref:o},e)))}),B1e=Y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Y.createElement(Y.Fragment,null,Y.createElement(Xb,{width:r,height:n}),Y.createElement("div",Hf({ref:t},e)))}),z1e=Y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ul(r)||Ul(n)?Y.createElement(F1e,Hf({},e,{ref:t})):Y.createElement(B1e,Hf({},e,{ref:t}))});function U1e(e){return e===!0?D1e:z1e}var V1e=Y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:h,onTouchEnd:d,onTouchMove:m,onTouchStart:g,style:p,width:v,responsive:y,dispatchTouchEvents:b=!0}=e,x=Y.useRef(null),C=pn(),[O,I]=Y.useState(null),[T,M]=Y.useState(null),B=I1e(),L=Y6(),P=(L==null?void 0:L.width)>0?L.width:v,A=(L==null?void 0:L.height)>0?L.height:i,j=Y.useCallback(D=>{B(D),typeof t=="function"&&t(D),I(D),M(D),D!=null&&(x.current=D)},[B,t,I,M]),E=Y.useCallback(D=>{C(JB(D)),C(Ts({handler:a,reactEvent:D}))},[C,a]),w=Y.useCallback(D=>{C(i3(D)),C(Ts({handler:u,reactEvent:D}))},[C,u]),S=Y.useCallback(D=>{C(RF()),C(Ts({handler:c,reactEvent:D}))},[C,c]),_=Y.useCallback(D=>{C(i3(D)),C(Ts({handler:f,reactEvent:D}))},[C,f]),k=Y.useCallback(()=>{C(az())},[C]),N=Y.useCallback(D=>{C(iz(D.key))},[C]),$=Y.useCallback(D=>{C(Ts({handler:s,reactEvent:D}))},[C,s]),R=Y.useCallback(D=>{C(Ts({handler:o,reactEvent:D}))},[C,o]),H=Y.useCallback(D=>{C(Ts({handler:l,reactEvent:D}))},[C,l]),K=Y.useCallback(D=>{C(Ts({handler:h,reactEvent:D}))},[C,h]),J=Y.useCallback(D=>{C(Ts({handler:g,reactEvent:D}))},[C,g]),V=Y.useCallback(D=>{b&&C(oz(D)),C(Ts({handler:m,reactEvent:D}))},[C,b,m]),Z=Y.useCallback(D=>{C(Ts({handler:d,reactEvent:D}))},[C,d]),z=U1e(y);return Y.createElement(eB.Provider,{value:O},Y.createElement($M.Provider,{value:T},Y.createElement(z,{width:P??(p==null?void 0:p.width),height:A??(p==null?void 0:p.height),className:Dr("recharts-wrapper",n),style:O1e({position:"relative",cursor:"default",width:P,height:A},p),onClick:E,onContextMenu:$,onDoubleClick:R,onFocus:k,onKeyDown:N,onMouseDown:H,onMouseEnter:w,onMouseLeave:S,onMouseMove:_,onMouseUp:K,onTouchEnd:Z,onTouchMove:V,onTouchStart:J,ref:j},Y.createElement(L1e,null),r)))}),$1e=["width","height","responsive","children","className","style","compact","title","desc"];function q1e(e,t){if(e==null)return{};var r,n,i=H1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function H1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hz=Y.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=q1e(e,$1e),h=hs(f);return l?Y.createElement(Y.Fragment,null,Y.createElement(Xb,{width:r,height:n}),Y.createElement(XP,{otherAttributes:h,title:u,desc:c},a)):Y.createElement(V1e,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},Y.createElement(XP,{otherAttributes:h,title:u,desc:c,ref:t},Y.createElement(cme,null,a)))});function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(null,arguments)}var W1e={top:5,right:5,bottom:5,left:5},K1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:W1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},dz=Y.forwardRef(function(t,r){var n,i=ui(t.categoricalChartProps,K1e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return Y.createElement(uz,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},Y.createElement(MB,{chartData:u.data}),Y.createElement(cz,{layout:i.layout,margin:i.margin}),Y.createElement(fz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),Y.createElement(hz,a3({},i,{ref:r})))}),G1e=["axis","item"],ZP=Y.forwardRef((e,t)=>Y.createElement(dz,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:G1e,tooltipPayloadSearcher:h8,categoricalChartProps:e,ref:t}));function X1e(e){var t=pn();return Y.useEffect(()=>{t(y1e(e))},[t,e]),null}var Y1e=["layout"];function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3.apply(null,arguments)}function Z1e(e,t){if(e==null)return{};var r,n,i=Q1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J1e={top:5,right:5,bottom:5,left:5},pz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:J1e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eve=Y.forwardRef(function(t,r){var n,i=ui(t.categoricalChartProps,pz),{layout:a}=i,s=Z1e(i,Y1e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return Y.createElement(uz,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},Y.createElement(MB,{chartData:i.data}),Y.createElement(cz,{layout:a,margin:i.margin}),Y.createElement(fz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),Y.createElement(X1e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),Y.createElement(hz,s3({},s,{ref:r})))});function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){tve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tve(e,t,r){return(t=rve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rve(e){var t=nve(e,"string");return typeof t=="symbol"?t:t+""}function nve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ive=["item"],ave=JP(JP({},pz),{},{layout:"centric",startAngle:0,endAngle:360}),e9=Y.forwardRef((e,t)=>{var r=ui(e,ave);return Y.createElement(eve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ive,tooltipPayloadSearcher:h8,categoricalChartProps:r,ref:t})}),sve=["axis"],ove=Y.forwardRef((e,t)=>Y.createElement(dz,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sve,tooltipPayloadSearcher:h8,categoricalChartProps:e,ref:t}));const _1=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"];function lve(e){return Y.useMemo(()=>{const t=e.reduce((f,h)=>f+(h.total||0),0),r=e.filter(f=>(f.cantidadStockBodega||0)===0).length,n=e.filter(f=>f.vinculosManual&&f.vinculosManual.length>0).length,i=e.filter(f=>f.cantidadStockBodega===0).length,a=e.length>0?t/e.length:0,o=[{min:0,max:100,label:"$0-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1e3,label:"$500-1K"},{min:1e3,max:5e3,label:"$1K-5K"},{min:5e3,max:1e4,label:"$5K-10K"},{min:1e4,max:1/0,label:"+$10K"}].map((f,h)=>({name:f.label,value:e.filter(d=>(d.total||0)>=f.min&&(d.total||0)<f.max).length,fill:_1[h%_1.length]})).filter(f=>f.value>0),l=[...e].sort((f,h)=>(h.total||0)-(f.total||0)).slice(0,10).map(f=>({name:f.codigoSAP.substring(0,10),valor:f.total||0,stock:f.cantidadStockBodega||0})),u=[...e].map(f=>({name:f.codigoSAP.substring(0,8),solicitado:f.cantidadSolicitada,stock:f.cantidadStockBodega||0,diferencia:f.cantidadSolicitada-(f.cantidadStockBodega||0)})).sort((f,h)=>h.diferencia-f.diferencia).slice(0,15).map(({name:f,solicitado:h,stock:d})=>({name:f,solicitado:h,stock:d})),c=[{min:0,max:10,label:"$0-10"},{min:10,max:50,label:"$10-50"},{min:50,max:100,label:"$50-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1/0,label:"+$500"}].map((f,h)=>({rango:f.label,cantidad:e.filter(d=>d.valorUnitario>=f.min&&d.valorUnitario<f.max).length,fill:_1[h%_1.length]})).filter(f=>f.cantidad>0);return{distribucionValor:o,topPorValor:l,stockVsSolicitado:u,rangosPrecios:c,totales:{totalRepuestos:e.length,totalUSD:t,sinStock:r,conMarcador:n,stockCero:i,promedioValor:a}}},[e])}function uve({isOpen:e,onClose:t,repuestos:r}){const[n,i]=Y.useState("resumen"),a=lve(r),{valor:s,formatClp:o}=m6();if(!e)return null;const l=[{id:"resumen",label:"Resumen",icon:q.jsx(sd,{className:"w-4 h-4"})},{id:"valor",label:"Por Valor",icon:q.jsx(Vm,{className:"w-4 h-4"})},{id:"stock",label:"Stock",icon:q.jsx(Tl,{className:"w-4 h-4"})},{id:"precios",label:"Precios",icon:q.jsx(Wv,{className:"w-4 h-4"})}];return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:t,children:q.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",onClick:u=>u.stopPropagation(),children:[q.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[q.jsxs("div",{children:[q.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[q.jsx(sd,{className:"w-6 h-6 text-primary-600"}),"Reportes y Anlisis"]}),q.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.length," repuestos analizados"]})]}),q.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5 text-gray-500"})})]}),q.jsx("div",{className:"px-6 border-b border-gray-200 dark:border-gray-700",children:q.jsx("div",{className:"flex gap-1",children:l.map(u=>q.jsxs("button",{onClick:()=>i(u.id),className:`
                  flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors
                  ${n===u.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}
                `,children:[u.icon,u.label]},u.id))})}),q.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n==="resumen"&&q.jsxs("div",{className:"space-y-6",children:[q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[q.jsx(S1,{icon:q.jsx(Tl,{className:"w-5 h-5"}),label:"Total Repuestos",value:a.totales.totalRepuestos,color:"blue"}),q.jsx(S1,{icon:q.jsx(Vm,{className:"w-5 h-5"}),label:"Total USD",value:`$${a.totales.totalUSD.toLocaleString("es-CL",{maximumFractionDigits:0})}`,subValue:o(a.totales.totalUSD*(s||900)),color:"green"}),q.jsx(S1,{icon:q.jsx(P0,{className:"w-5 h-5"}),label:"Sin Stock",value:a.totales.sinStock,subValue:`${(a.totales.sinStock/a.totales.totalRepuestos*100).toFixed(1)}%`,color:"red"}),q.jsx(S1,{icon:q.jsx(vM,{className:"w-5 h-5"}),label:"Con Marcador",value:a.totales.conMarcador,subValue:`${(a.totales.conMarcador/a.totales.totalRepuestos*100).toFixed(1)}%`,color:"purple"})]}),q.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin por Rango de Valor Total"}),q.jsx("div",{className:"h-64",children:q.jsx(Sp,{width:"100%",height:"100%",children:q.jsxs(e9,{children:[q.jsx(J_,{data:a.distribucionValor,cx:"50%",cy:"50%",outerRadius:80,innerRadius:40,paddingAngle:2,dataKey:"value",label:({name:u,percent:c})=>`${u} (${((c||0)*100).toFixed(0)}%)`,labelLine:!1,children:a.distribucionValor.map((u,c)=>q.jsx(xf,{fill:u.fill},`cell-${c}`))}),q.jsx(Ip,{})]})})})]}),q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Repuestos por Precio Unitario"}),q.jsx("div",{className:"h-64",children:q.jsx(Sp,{width:"100%",height:"100%",children:q.jsxs(ZP,{data:a.rangosPrecios,children:[q.jsx(tv,{strokeDasharray:"3 3",opacity:.3}),q.jsx(rv,{dataKey:"rango",tick:{fontSize:11}}),q.jsx(nv,{tick:{fontSize:11}}),q.jsx(Ip,{}),q.jsx(Kp,{dataKey:"cantidad",name:"Cantidad",radius:[4,4,0,0],children:a.rangosPrecios.map((u,c)=>q.jsx(xf,{fill:u.fill},`cell-${c}`))})]})})})]})]})]}),n==="valor"&&q.jsxs("div",{className:"space-y-6",children:[q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Top 10 Repuestos por Valor Total USD"}),q.jsx("div",{className:"h-80",children:q.jsx(Sp,{width:"100%",height:"100%",children:q.jsxs(ove,{data:a.topPorValor,layout:"vertical",children:[q.jsx(tv,{strokeDasharray:"3 3",opacity:.3}),q.jsx(rv,{type:"number",tick:{fontSize:11}}),q.jsx(nv,{dataKey:"name",type:"category",width:80,tick:{fontSize:10}}),q.jsx(Ip,{formatter:u=>[`$${(u||0).toLocaleString("es-CL",{maximumFractionDigits:2})}`,"Valor"]}),q.jsx(P_,{}),q.jsx(Kp,{dataKey:"valor",name:"Valor USD",fill:"#3b82f6",radius:[0,4,4,0]}),q.jsx(GB,{dataKey:"stock",name:"Stock",stroke:"#10b981",strokeWidth:2})]})})})]}),q.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 overflow-x-auto",children:q.jsxs("table",{className:"w-full text-sm",children:[q.jsx("thead",{children:q.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400",children:[q.jsx("th",{className:"pb-2",children:"#"}),q.jsx("th",{className:"pb-2",children:"Cdigo"}),q.jsx("th",{className:"pb-2 text-right",children:"Valor USD"}),q.jsx("th",{className:"pb-2 text-right",children:"Stock"})]})}),q.jsx("tbody",{children:a.topPorValor.map((u,c)=>q.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-600",children:[q.jsx("td",{className:"py-2 text-gray-400",children:c+1}),q.jsx("td",{className:"py-2 font-mono font-medium dark:text-gray-200",children:u.name}),q.jsxs("td",{className:"py-2 text-right text-green-600 dark:text-green-400",children:["$",u.valor.toLocaleString("es-CL",{maximumFractionDigits:2})]}),q.jsx("td",{className:"py-2 text-right dark:text-gray-200",children:u.stock})]},c))})]})})]}),n==="stock"&&q.jsxs("div",{className:"space-y-6",children:[q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Cantidad Solicitada vs Stock Disponible"}),q.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Top 15 con mayor diferencia entre solicitado y stock"}),q.jsx("div",{className:"h-96",children:q.jsx(Sp,{width:"100%",height:"100%",children:q.jsxs(ZP,{data:a.stockVsSolicitado,layout:"vertical",children:[q.jsx(tv,{strokeDasharray:"3 3",opacity:.3}),q.jsx(rv,{type:"number",tick:{fontSize:11}}),q.jsx(nv,{dataKey:"name",type:"category",width:70,tick:{fontSize:10}}),q.jsx(Ip,{}),q.jsx(P_,{}),q.jsx(Kp,{dataKey:"solicitado",name:"Solicitado",fill:"#f59e0b",radius:[0,4,4,0]}),q.jsx(Kp,{dataKey:"stock",name:"Stock",fill:"#10b981",radius:[0,4,4,0]})]})})})]}),q.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[q.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-xl p-4 text-center",children:[q.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:a.totales.stockCero}),q.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Stock en cero"})]}),q.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-4 text-center",children:[q.jsx("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:r.filter(u=>(u.cantidadStockBodega||0)<u.cantidadSolicitada).length}),q.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Stock insuficiente"})]}),q.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-4 text-center",children:[q.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.filter(u=>(u.cantidadStockBodega||0)>=u.cantidadSolicitada).length}),q.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Stock suficiente"})]})]})]}),n==="precios"&&q.jsx("div",{className:"space-y-6",children:q.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Estadsticas de Precios"}),q.jsxs("div",{className:"space-y-3 mt-4",children:[q.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[q.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Promedio por repuesto"}),q.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",a.totales.promedioValor.toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),q.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[q.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms alto"}),q.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["$",Math.max(...r.map(u=>u.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),q.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[q.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms bajo"}),q.jsxs("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:["$",Math.min(...r.filter(u=>(u.total||0)>0).map(u=>u.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),q.jsxs("div",{className:"flex justify-between py-2",children:[q.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Tipo de cambio"}),q.jsxs("span",{className:"font-semibold dark:text-gray-200",children:["$",(s==null?void 0:s.toLocaleString("es-CL"))||"N/A"," CLP"]})]})]})]}),q.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[q.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin de Precios Unitarios"}),q.jsx("div",{className:"h-52",children:q.jsx(Sp,{width:"100%",height:"100%",children:q.jsxs(e9,{children:[q.jsx(J_,{data:a.rangosPrecios,cx:"50%",cy:"50%",outerRadius:70,innerRadius:30,paddingAngle:2,dataKey:"cantidad",label:({name:u})=>u,labelLine:!1,children:a.rangosPrecios.map((u,c)=>q.jsx(xf,{fill:u.fill},`cell-${c}`))}),q.jsx(Ip,{})]})})})]})]})})]})]})})}function S1({icon:e,label:t,value:r,subValue:n,color:i}){const a={blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400"};return q.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm",children:q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:`p-2 rounded-lg ${a[i]}`,children:e}),q.jsxs("div",{children:[q.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t}),q.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:r}),n&&q.jsx("p",{className:"text-xs text-gray-400",children:n})]})]})})}var mz={exports:{}};(function(e,t){(function(r,n){n()})(dr,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){l(h.response,c,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof dr=="object"&&dr.global===dr?dr:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,f){var h=s.URL||s.webkitURL,d=document.createElement("a");c=c||u.name||"download",d.download=c,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?a(d):i(d.href)?n(u,c,f):a(d,d.target="_blank")):(d.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){a(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),c);else if(i(u))n(u,c,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){a(h)})}}:function(u,c,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,f);var d=u.type==="application/octet-stream",m=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||d&&m||o)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var b=p.result;b=g?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},p.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,y=v.createObjectURL(u);h?h.location=y:location.href=y,h=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(mz);var gz=mz.exports;function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}var ua=Uint8Array,os=Uint16Array,R8=Int32Array,j2=new ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M2=new ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o3=new ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vz=function(e,t){for(var r=new os(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new R8(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},yz=vz(j2,2),bz=yz.b,l3=yz.r;bz[28]=258,l3[258]=28;var wz=vz(M2,0),cve=wz.b,t9=wz.r,u3=new os(32768);for(var bn=0;bn<32768;++bn){var Cu=(bn&43690)>>1|(bn&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,u3[bn]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var Go=function(e,t,r){for(var n=e.length,i=0,a=new os(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new os(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new os(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],f=s[e[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)o[u3[f]>>l]=u}else for(o=new os(n),i=0;i<n;++i)e[i]&&(o[i]=u3[s[e[i]-1]++]>>15-e[i]);return o},Sc=new ua(288);for(var bn=0;bn<144;++bn)Sc[bn]=8;for(var bn=144;bn<256;++bn)Sc[bn]=9;for(var bn=256;bn<280;++bn)Sc[bn]=7;for(var bn=280;bn<288;++bn)Sc[bn]=8;var o0=new ua(32);for(var bn=0;bn<32;++bn)o0[bn]=5;var fve=Go(Sc,9,0),hve=Go(Sc,9,1),dve=Go(o0,5,0),pve=Go(o0,5,1),S5=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Js=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},k5=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},L8=function(e){return(e+7)/8|0},xz=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ua(e.subarray(t,r))},mve=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ro=function(e,t,r){var n=new Error(t||mve[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ro),!r)throw n;return n},gve=function(e,t,r,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return r||new ua(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new ua(i*3));var u=function(te){var ae=r.length;if(te>ae){var se=new ua(Math.max(ae*2,te));se.set(r),r=se}},c=t.f||0,f=t.p||0,h=t.b||0,d=t.l,m=t.d,g=t.m,p=t.n,v=i*8;do{if(!d){c=Js(e,f,1);var y=Js(e,f+1,3);if(f+=3,y)if(y==1)d=hve,m=pve,g=9,p=5;else if(y==2){var O=Js(e,f,31)+257,I=Js(e,f+10,15)+4,T=O+Js(e,f+5,31)+1;f+=14;for(var M=new ua(T),B=new ua(19),L=0;L<I;++L)B[o3[L]]=Js(e,f+L*3,7);f+=I*3;for(var P=S5(B),A=(1<<P)-1,j=Go(B,P,1),L=0;L<T;){var E=j[Js(e,f,A)];f+=E&15;var b=E>>4;if(b<16)M[L++]=b;else{var w=0,S=0;for(b==16?(S=3+Js(e,f,3),f+=2,w=M[L-1]):b==17?(S=3+Js(e,f,7),f+=3):b==18&&(S=11+Js(e,f,127),f+=7);S--;)M[L++]=w}}var _=M.subarray(0,O),k=M.subarray(O);g=S5(_),p=S5(k),d=Go(_,g,1),m=Go(k,p,1)}else ro(1);else{var b=L8(f)+4,x=e[b-4]|e[b-3]<<8,C=b+x;if(C>i){l&&ro(0);break}o&&u(h+x),r.set(e.subarray(b,C),h),t.b=h+=x,t.p=f=C*8,t.f=c;continue}if(f>v){l&&ro(0);break}}o&&u(h+131072);for(var N=(1<<g)-1,$=(1<<p)-1,R=f;;R=f){var w=d[k5(e,f)&N],H=w>>4;if(f+=w&15,f>v){l&&ro(0);break}if(w||ro(2),H<256)r[h++]=H;else if(H==256){R=f,d=null;break}else{var K=H-254;if(H>264){var L=H-257,J=j2[L];K=Js(e,f,(1<<J)-1)+bz[L],f+=J}var V=m[k5(e,f)&$],Z=V>>4;V||ro(3),f+=V&15;var k=cve[Z];if(Z>3){var J=M2[Z];k+=k5(e,f)&(1<<J)-1,f+=J}if(f>v){l&&ro(0);break}o&&u(h+131072);var z=h+K;if(h<k){var D=a-k,G=Math.min(k,z);for(D+h<0&&ro(3);h<G;++h)r[h]=n[D+h]}for(;h<z;++h)r[h]=r[h-k]}}t.l=d,t.p=R,t.b=h,t.f=c,d&&(c=1,t.m=g,t.d=m,t.n=p)}while(!c);return h!=r.length&&s?xz(r,0,h):r.subarray(0,h)},hl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},jp=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},A5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:Sz,l:0};if(i==1){var s=new ua(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,O){return C.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var d=new os(h+1),m=c3(r[c-1],d,0);if(m>t){var n=0,g=0,p=m-t,v=1<<p;for(a.sort(function(O,I){return d[I.s]-d[O.s]||O.f-I.f});n<i;++n){var y=a[n].s;if(d[y]>t)g+=v-(1<<m-d[y]),d[y]=t;else break}for(g>>=p;g>0;){var b=a[n].s;d[b]<t?g-=1<<t-d[b]++-1:++n}for(;n>=0&&g;--n){var x=a[n].s;d[x]==t&&(--d[x],++g)}m=t}return{t:new ua(d),l:m}},c3=function(e,t,r){return e.s==-1?Math.max(c3(e.l,t,r+1),c3(e.r,t,r+1)):t[e.s]=r},r9=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new os(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Mp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},_z=function(e,t,r){var n=r.length,i=L8(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},n9=function(e,t,r,n,i,a,s,o,l,u,c){hl(t,c++,r),++i[256];for(var f=A5(i,15),h=f.t,d=f.l,m=A5(a,15),g=m.t,p=m.l,v=r9(h),y=v.c,b=v.n,x=r9(g),C=x.c,O=x.n,I=new os(19),T=0;T<y.length;++T)++I[y[T]&31];for(var T=0;T<C.length;++T)++I[C[T]&31];for(var M=A5(I,7),B=M.t,L=M.l,P=19;P>4&&!B[o3[P-1]];--P);var A=u+5<<3,j=Mp(i,Sc)+Mp(a,o0)+s,E=Mp(i,h)+Mp(a,g)+s+14+3*P+Mp(I,B)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&A<=j&&A<=E)return _z(t,c,e.subarray(l,l+u));var w,S,_,k;if(hl(t,c,1+(E<j)),c+=2,E<j){w=Go(h,d,0),S=h,_=Go(g,p,0),k=g;var N=Go(B,L,0);hl(t,c,b-257),hl(t,c+5,O-1),hl(t,c+10,P-4),c+=14;for(var T=0;T<P;++T)hl(t,c+3*T,B[o3[T]]);c+=3*P;for(var $=[y,C],R=0;R<2;++R)for(var H=$[R],T=0;T<H.length;++T){var K=H[T]&31;hl(t,c,N[K]),c+=B[K],K>15&&(hl(t,c,H[T]>>5&127),c+=H[T]>>12)}}else w=fve,S=Sc,_=dve,k=o0;for(var T=0;T<o;++T){var J=n[T];if(J>255){var K=J>>18&31;jp(t,c,w[K+257]),c+=S[K+257],K>7&&(hl(t,c,J>>23&31),c+=j2[K]);var V=J&31;jp(t,c,_[V]),c+=k[V],V>3&&(jp(t,c,J>>5&8191),c+=M2[V])}else jp(t,c,w[J]),c+=S[J]}return jp(t,c,w[256]),c+S[256]},vve=new R8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sz=new ua(0),yve=function(e,t,r,n,i,a){var s=a.z||e.length,o=new ua(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var f=vve[t-1],h=f>>13,d=f&8191,m=(1<<r)-1,g=a.p||new os(32768),p=a.h||new os(m+1),v=Math.ceil(r/3),y=2*v,b=function(le){return(e[le]^e[le+1]<<v^e[le+2]<<y)&m},x=new R8(25e3),C=new os(288),O=new os(32),I=0,T=0,M=a.i||0,B=0,L=a.w||0,P=0;M+2<s;++M){var A=b(M),j=M&32767,E=p[A];if(g[j]=E,p[A]=j,L<=M){var w=s-M;if((I>7e3||B>24576)&&(w>423||!u)){c=n9(e,l,0,x,C,O,T,B,P,M-P,c),B=I=T=0,P=M;for(var S=0;S<286;++S)C[S]=0;for(var S=0;S<30;++S)O[S]=0}var _=2,k=0,N=d,$=j-E&32767;if(w>2&&A==b(M-$))for(var R=Math.min(h,w)-1,H=Math.min(32767,M),K=Math.min(258,w);$<=H&&--N&&j!=E;){if(e[M+_]==e[M+_-$]){for(var J=0;J<K&&e[M+J]==e[M+J-$];++J);if(J>_){if(_=J,k=$,J>R)break;for(var V=Math.min($,J-2),Z=0,S=0;S<V;++S){var z=M-$+S&32767,D=g[z],G=z-D&32767;G>Z&&(Z=G,E=z)}}}j=E,E=g[j],$+=j-E&32767}if(k){x[B++]=268435456|l3[_]<<18|t9[k];var te=l3[_]&31,ae=t9[k]&31;T+=j2[te]+M2[ae],++C[257+te],++O[ae],L=M+_,++I}else x[B++]=e[M],++C[e[M]]}}for(M=Math.max(M,L);M<s;++M)x[B++]=e[M],++C[e[M]];c=n9(e,l,u,x,C,O,T,B,P,M-P,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=p,a.p=g,a.i=M,a.w=L)}else{for(var M=a.w||0;M<s+u;M+=65535){var se=M+65535;se>=s&&(l[c/8|0]=u,se=s),c=_z(l,c+1,e.subarray(M,se))}a.i=s}return xz(o,0,n+L8(c)+i)},kz=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},bve=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new ua(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return yve(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},Az=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},wve=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=kz();i.p(t.dictionary),Az(e,2,i.d())}},xve=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ro(6,"invalid zlib data"),(e[1]>>5&1)==1&&ro(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function f3(e,t){t||(t={});var r=kz();r.p(e);var n=bve(e,t,t.dictionary?6:2,4);return wve(n,t),Az(n,n.length-4,r.d()),n}function _ve(e,t){return gve(e.subarray(xve(e),-4),{i:2},t,t)}var Sve=typeof TextDecoder<"u"&&new TextDecoder,kve=0;try{Sve.decode(Sz,{stream:!0}),kve=1}catch{}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function E5(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var nn={log:E5,warn:function(e){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):E5.call(null,arguments))},error:function(e){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):E5(e))}};function C5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){tf(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function i9(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function k1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var cm,h3,tf=ir.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ir.URL||ir.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?i9(i.href)?C5(e,t,r):k1(i,i.target="_blank"):k1(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){k1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(i9(e))C5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){k1(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Yr(a)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return C5(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(ir.HTMLElement)||ir.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(e)}else{var l=ir.URL||ir.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Ez(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T5(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Ji(r,n,i,a,t[0],7,-680876936),a=Ji(a,r,n,i,t[1],12,-389564586),i=Ji(i,a,r,n,t[2],17,606105819),n=Ji(n,i,a,r,t[3],22,-1044525330),r=Ji(r,n,i,a,t[4],7,-176418897),a=Ji(a,r,n,i,t[5],12,1200080426),i=Ji(i,a,r,n,t[6],17,-1473231341),n=Ji(n,i,a,r,t[7],22,-45705983),r=Ji(r,n,i,a,t[8],7,1770035416),a=Ji(a,r,n,i,t[9],12,-1958414417),i=Ji(i,a,r,n,t[10],17,-42063),n=Ji(n,i,a,r,t[11],22,-1990404162),r=Ji(r,n,i,a,t[12],7,1804603682),a=Ji(a,r,n,i,t[13],12,-40341101),i=Ji(i,a,r,n,t[14],17,-1502002290),r=ea(r,n=Ji(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ea(a,r,n,i,t[6],9,-1069501632),i=ea(i,a,r,n,t[11],14,643717713),n=ea(n,i,a,r,t[0],20,-373897302),r=ea(r,n,i,a,t[5],5,-701558691),a=ea(a,r,n,i,t[10],9,38016083),i=ea(i,a,r,n,t[15],14,-660478335),n=ea(n,i,a,r,t[4],20,-405537848),r=ea(r,n,i,a,t[9],5,568446438),a=ea(a,r,n,i,t[14],9,-1019803690),i=ea(i,a,r,n,t[3],14,-187363961),n=ea(n,i,a,r,t[8],20,1163531501),r=ea(r,n,i,a,t[13],5,-1444681467),a=ea(a,r,n,i,t[2],9,-51403784),i=ea(i,a,r,n,t[7],14,1735328473),r=ta(r,n=ea(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ta(a,r,n,i,t[8],11,-2022574463),i=ta(i,a,r,n,t[11],16,1839030562),n=ta(n,i,a,r,t[14],23,-35309556),r=ta(r,n,i,a,t[1],4,-1530992060),a=ta(a,r,n,i,t[4],11,1272893353),i=ta(i,a,r,n,t[7],16,-155497632),n=ta(n,i,a,r,t[10],23,-1094730640),r=ta(r,n,i,a,t[13],4,681279174),a=ta(a,r,n,i,t[0],11,-358537222),i=ta(i,a,r,n,t[3],16,-722521979),n=ta(n,i,a,r,t[6],23,76029189),r=ta(r,n,i,a,t[9],4,-640364487),a=ta(a,r,n,i,t[12],11,-421815835),i=ta(i,a,r,n,t[15],16,530742520),r=ra(r,n=ta(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ra(a,r,n,i,t[7],10,1126891415),i=ra(i,a,r,n,t[14],15,-1416354905),n=ra(n,i,a,r,t[5],21,-57434055),r=ra(r,n,i,a,t[12],6,1700485571),a=ra(a,r,n,i,t[3],10,-1894986606),i=ra(i,a,r,n,t[10],15,-1051523),n=ra(n,i,a,r,t[1],21,-2054922799),r=ra(r,n,i,a,t[8],6,1873313359),a=ra(a,r,n,i,t[15],10,-30611744),i=ra(i,a,r,n,t[6],15,-1560198380),n=ra(n,i,a,r,t[13],21,1309151649),r=ra(r,n,i,a,t[4],6,-145523070),a=ra(a,r,n,i,t[11],10,-1120210379),i=ra(i,a,r,n,t[2],15,718787259),n=ra(n,i,a,r,t[9],21,-343485551),e[0]=Gu(r,e[0]),e[1]=Gu(n,e[1]),e[2]=Gu(i,e[2]),e[3]=Gu(a,e[3])}function R2(e,t,r,n,i,a){return t=Gu(Gu(t,e),Gu(n,a)),Gu(t<<i|t>>>32-i,r)}function Ji(e,t,r,n,i,a,s){return R2(t&r|~t&n,e,t,i,a,s)}function ea(e,t,r,n,i,a,s){return R2(t&n|r&~n,e,t,i,a,s)}function ta(e,t,r,n,i,a,s){return R2(t^r^n,e,t,i,a,s)}function ra(e,t,r,n,i,a,s){return R2(r^(t|~n),e,t,i,a,s)}function Cz(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)T5(n,Ave(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(T5(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,T5(n,i),n}function Ave(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}cm=ir.atob.bind(ir),h3=ir.btoa.bind(ir);var a9="0123456789abcdef".split("");function Eve(e){for(var t="",r=0;r<4;r++)t+=a9[e>>8*r+4&15]+a9[e>>8*r&15];return t}function Cve(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function d3(e){return Cz(e).map(Cve).join("")}var Tve=function(e){for(var t=0;t<e.length;t++)e[t]=Eve(e[t]);return e.join("")}(Cz("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gu(e,t){if(Tve){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function p3(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+s.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=e,n=o}else o=n;var f=t.length,h=0,d=0,m="";for(l=0;l<f;l++)d=(d+(c=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=c,s=o[(o[h]+o[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s9={print:4,modify:8,copy:16,"annot-forms":32};function jh(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(s9.perm!==void 0)throw new Error("Invalid permission: "+o);i+=s9[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=d3(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=p3(this.encryptionKey,this.padding)}function Mh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function o9(e){if(Yr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){ir.console&&nn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function l0(e){if(!(this instanceof l0))return new l0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Tz(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $u(e,t,r,n,i){if(!(this instanceof $u))return new $u(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Tz.call(this,n,i)}function ff(e,t,r,n,i){if(!(this instanceof ff))return new ff(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Tz.call(this,n,i)}function tr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",c=null;Yr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=o9;var m="1.3",g=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(X){m=X};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return p};var v=d.__private__.getPageFormat=function(X){return p[X]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function x(){this.saveGraphicsState(),ie(new vt(Ge,0,0,-Ge,0,Xi()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",b=y.ADVANCED}function C(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var O=d.__private__.combineFontStyleAndFontWeight=function(X,ue){if(X=="bold"&&ue=="normal"||X=="bold"&&ue==400||X=="normal"&&ue=="italic"||X=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(X=ue==400||ue==="normal"?X==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||X!=="normal"?(ue==700?"bold":ue)+""+X:"bold"),X};d.advancedAPI=function(X){var ue=b===y.COMPAT;return ue&&x.call(this),typeof X!="function"||(X(this),ue&&C.call(this)),this},d.compatAPI=function(X){var ue=b===y.ADVANCED;return ue&&C.call(this),typeof X!="function"||(X(this),ue&&x.call(this)),this},d.isAdvancedAPI=function(){return b===y.ADVANCED};var I,T=function(X){if(b!==y.ADVANCED)throw new Error(X+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=d.roundToPrecision=d.__private__.roundToPrecision=function(X,ue){var ke=t||ue;if(isNaN(X)||isNaN(ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return X.toFixed(ke).replace(/0+$/,"")};I=d.hpf=d.__private__.hpf=typeof l=="number"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return M(X,l)}:l==="smart"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return M(X,X>-1&&X<1?16:5)}:function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return M(X,16)};var B=d.f2=d.__private__.f2=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f2");return M(X,2)},L=d.__private__.f3=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f3");return M(X,3)},P=d.scale=d.__private__.scale=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?X*Ge:b===y.ADVANCED?X:void 0},A=function(X){return b===y.COMPAT?Xi()-X:b===y.ADVANCED?X:void 0},j=function(X){return P(A(X))};d.__private__.setPrecision=d.setPrecision=function(X){typeof parseInt(X,10)=="number"&&(t=parseInt(X,10))};var E,w="00000000000000000000000000000000",S=d.__private__.getFileId=function(){return w},_=d.__private__.setFileId=function(X){return w=X!==void 0&&/^[a-fA-F0-9]{32}$/.test(X)?X.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Wr=new jh(c.userPermissions,c.userPassword,c.ownerPassword,w)),w};d.setFileId=function(X){return _(X),this},d.getFileId=function(){return S()};var k=d.__private__.convertDateToPDFDate=function(X){var ue=X.getTimezoneOffset(),ke=ue<0?"+":"-",Te=Math.floor(Math.abs(ue/60)),Le=Math.abs(ue%60),Ze=[ke,K(Te),"'",K(Le),"'"].join("");return["D:",X.getFullYear(),K(X.getMonth()+1),K(X.getDate()),K(X.getHours()),K(X.getMinutes()),K(X.getSeconds()),Ze].join("")},N=d.__private__.convertPDFDateToDate=function(X){var ue=parseInt(X.substr(2,4),10),ke=parseInt(X.substr(6,2),10)-1,Te=parseInt(X.substr(8,2),10),Le=parseInt(X.substr(10,2),10),Ze=parseInt(X.substr(12,2),10),mt=parseInt(X.substr(14,2),10);return new Date(ue,ke,Te,Le,Ze,mt,0)},$=d.__private__.setCreationDate=function(X){var ue;if(X===void 0&&(X=new Date),X instanceof Date)ue=k(X);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(X))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=X}return E=ue},R=d.__private__.getCreationDate=function(X){var ue=E;return X==="jsDate"&&(ue=N(E)),ue};d.setCreationDate=function(X){return $(X),this},d.getCreationDate=function(X){return R(X)};var H,K=d.__private__.padd2=function(X){return("0"+parseInt(X)).slice(-2)},J=d.__private__.padd2Hex=function(X){return("00"+(X=X.toString())).substr(X.length)},V=0,Z=[],z=[],D=0,G=[],te=[],ae=!1,se=z,le=function(){V=0,D=0,z=[],Z=[],G=[],_t=He(),Lt=He()};d.__private__.setCustomOutputDestination=function(X){ae=!0,se=X};var fe=function(X){ae||(se=X)};d.__private__.resetCustomOutputDestination=function(){ae=!1,se=z};var ie=d.__private__.out=function(X){return X=X.toString(),D+=X.length+1,se.push(X),se},oe=d.__private__.write=function(X){return ie(arguments.length===1?X.toString():Array.prototype.join.call(arguments," "))},be=d.__private__.getArrayBuffer=function(X){for(var ue=X.length,ke=new ArrayBuffer(ue),Te=new Uint8Array(ke);ue--;)Te[ue]=X.charCodeAt(ue);return ke},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ve};var we=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(X){return we=b===y.ADVANCED?X/Ge:X,this};var Se,Ae=d.__private__.getFontSize=d.getFontSize=function(){return b===y.COMPAT?we:we*Ge},Pe=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(X){return Pe=X,this},d.__private__.getR2L=d.getR2L=function(){return Pe};var Re,Ue=d.__private__.setZoomMode=function(X){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(X))Se=X;else if(isNaN(X)){if(ue.indexOf(X)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+X+'" is not recognized.');Se=X}else Se=parseInt(X,10)};d.__private__.getZoomMode=function(){return Se};var We,Ke=d.__private__.setPageMode=function(X){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(X)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+X+'" is not recognized.');Re=X};d.__private__.getPageMode=function(){return Re};var Qe=d.__private__.setLayoutMode=function(X){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(X)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+X+'" is not recognized.');We=X};d.__private__.getLayoutMode=function(){return We},d.__private__.setDisplayMode=d.setDisplayMode=function(X,ue,ke){return Ue(X),Qe(ue),Ke(ke),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(X){if(Object.keys(rt).indexOf(X)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[X]},d.__private__.getDocumentProperties=function(){return rt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(X){for(var ue in rt)rt.hasOwnProperty(ue)&&X[ue]&&(rt[ue]=X[ue]);return this},d.__private__.setDocumentProperty=function(X,ue){if(Object.keys(rt).indexOf(X)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[X]=ue};var dt,Ge,Et,et,ut,ot={},xt={},wt=[],_e={},kt={},Je={},at={},pt=null,Ve=0,yt=[],Ct=new o9(d),jt=e.hotfixes||[],Xt={},ar={},Ut=[],vt=function X(ue,ke,Te,Le,Ze,mt){if(!(this instanceof X))return new X(ue,ke,Te,Le,Ze,mt);isNaN(ue)&&(ue=1),isNaN(ke)&&(ke=0),isNaN(Te)&&(Te=0),isNaN(Le)&&(Le=1),isNaN(Ze)&&(Ze=0),isNaN(mt)&&(mt=0),this._matrix=[ue,ke,Te,Le,Ze,mt]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(X){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(X)},vt.prototype.multiply=function(X){var ue=X.sx*this.sx+X.shy*this.shx,ke=X.sx*this.shy+X.shy*this.sy,Te=X.shx*this.sx+X.sy*this.shx,Le=X.shx*this.shy+X.sy*this.sy,Ze=X.tx*this.sx+X.ty*this.shx+this.tx,mt=X.tx*this.shy+X.ty*this.sy+this.ty;return new vt(ue,ke,Te,Le,Ze,mt)},vt.prototype.decompose=function(){var X=this.sx,ue=this.shy,ke=this.shx,Te=this.sy,Le=this.tx,Ze=this.ty,mt=Math.sqrt(X*X+ue*ue),Pt=(X/=mt)*ke+(ue/=mt)*Te;ke-=X*Pt,Te-=ue*Pt;var U=Math.sqrt(ke*ke+Te*Te);return Pt/=U,X*(Te/=U)<ue*(ke/=U)&&(X=-X,ue=-ue,Pt=-Pt,mt=-mt),{scale:new vt(mt,0,0,U,0,0),translate:new vt(1,0,0,1,Le,Ze),rotate:new vt(X,ue,-ue,X,0,0),skew:new vt(1,0,Pt,1,0,0)}},vt.prototype.toString=function(X){return this.join(" ")},vt.prototype.inversed=function(){var X=this.sx,ue=this.shy,ke=this.shx,Te=this.sy,Le=this.tx,Ze=this.ty,mt=1/(X*Te-ue*ke),Pt=Te*mt,U=-ue*mt,ee=-ke*mt,ne=X*mt;return new vt(Pt,U,ee,ne,-Pt*Le-ee*Ze,-U*Le-ne*Ze)},vt.prototype.applyToPoint=function(X){var ue=X.x*this.sx+X.y*this.shx+this.tx,ke=X.x*this.shy+X.y*this.sy+this.ty;return new nl(ue,ke)},vt.prototype.applyToRectangle=function(X){var ue=this.applyToPoint(X),ke=this.applyToPoint(new nl(X.x+X.w,X.y+X.h));return new cu(ue.x,ue.y,ke.x-ue.x,ke.y-ue.y)},vt.prototype.clone=function(){var X=this.sx,ue=this.shy,ke=this.shx,Te=this.sy,Le=this.tx,Ze=this.ty;return new vt(X,ue,ke,Te,Le,Ze)},d.Matrix=vt;var ur=d.matrixMult=function(X,ue){return ue.multiply(X)},Ft=new vt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ft;var Ee=function(X,ue){if(!kt[X]){var ke=(ue instanceof $u?"Sh":"P")+(Object.keys(_e).length+1).toString(10);ue.id=ke,kt[X]=ke,_e[ke]=ue,Ct.publish("addPattern",ue)}};d.ShadingPattern=$u,d.TilingPattern=ff,d.addShadingPattern=function(X,ue){return T("addShadingPattern()"),Ee(X,ue),this},d.beginTilingPattern=function(X){T("beginTilingPattern()"),fu(X.boundingBox[0],X.boundingBox[1],X.boundingBox[2]-X.boundingBox[0],X.boundingBox[3]-X.boundingBox[1],X.matrix)},d.endTilingPattern=function(X,ue){T("endTilingPattern()"),ue.stream=te[H].join(`
`),Ee(X,ue),Ct.publish("endTilingPattern",ue),Ut.pop().restore()};var Oe=d.__private__.newObject=function(){var X=He();return ft(X,!0),X},He=d.__private__.newObjectDeferred=function(){return V++,Z[V]=function(){return D},V},ft=function(X,ue){return ue=typeof ue=="boolean"&&ue,Z[X]=D,ue&&ie(X+" 0 obj"),X},qt=d.__private__.newAdditionalObject=function(){var X={objId:He(),content:""};return G.push(X),X},_t=He(),Lt=He(),Mt=d.__private__.decodeColorString=function(X){var ue=X.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var ke=parseFloat(ue[0]);ue=[ke,ke,ke,"r"]}for(var Te="#",Le=0;Le<3;Le++)Te+=("0"+Math.floor(255*parseFloat(ue[Le])).toString(16)).slice(-2);return Te},It=d.__private__.encodeColorString=function(X){var ue;typeof X=="string"&&(X={ch1:X});var ke=X.ch1,Te=X.ch2,Le=X.ch3,Ze=X.ch4,mt=X.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ke=="string"&&ke.charAt(0)!=="#"){var Pt=new Ez(ke);if(Pt.ok)ke=Pt.toHex();else if(!/^\d*\.?\d*$/.test(ke))throw new Error('Invalid color "'+ke+'" passed to jsPDF.encodeColorString.')}if(typeof ke=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ke)&&(ke="#"+ke[1]+ke[1]+ke[2]+ke[2]+ke[3]+ke[3]),typeof ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ke)){var U=parseInt(ke.substr(1),16);ke=U>>16&255,Te=U>>8&255,Le=255&U}if(Te===void 0||Ze===void 0&&ke===Te&&Te===Le)if(typeof ke=="string")ue=ke+" "+mt[0];else switch(X.precision){case 2:ue=B(ke/255)+" "+mt[0];break;case 3:default:ue=L(ke/255)+" "+mt[0]}else if(Ze===void 0||Yr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return ue=["1.","1.","1.",mt[1]].join(" ");if(typeof ke=="string")ue=[ke,Te,Le,mt[1]].join(" ");else switch(X.precision){case 2:ue=[B(ke/255),B(Te/255),B(Le/255),mt[1]].join(" ");break;default:case 3:ue=[L(ke/255),L(Te/255),L(Le/255),mt[1]].join(" ")}}else if(typeof ke=="string")ue=[ke,Te,Le,Ze,mt[2]].join(" ");else switch(X.precision){case 2:ue=[B(ke),B(Te),B(Le),B(Ze),mt[2]].join(" ");break;case 3:default:ue=[L(ke),L(Te),L(Le),L(Ze),mt[2]].join(" ")}return ue},Ht=d.__private__.getFilters=function(){return s},Ot=d.__private__.putStream=function(X){var ue=(X=X||{}).data||"",ke=X.filters||Ht(),Te=X.alreadyAppliedFilters||[],Le=X.addLength1||!1,Ze=ue.length,mt=X.objectId,Pt=function(fr){return fr};if(c!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Pt=Wr.encryptor(mt,0));var U={};ke===!0&&(ke=["FlateEncode"]);var ee=X.additionalKeyValues||[],ne=(U=tr.API.processDataByFilters!==void 0?tr.API.processDataByFilters(ue,ke):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(U.data.length!==0&&(ee.push({key:"Length",value:U.data.length}),Le===!0&&ee.push({key:"Length1",value:Ze})),ne.length!=0)if(ne.split("/").length-1==1)ee.push({key:"Filter",value:ne});else{ee.push({key:"Filter",value:"["+ne+"]"});for(var me=0;me<ee.length;me+=1)if(ee[me].key==="DecodeParms"){for(var Me=[],ze=0;ze<U.reverseChain.split("/").length-1;ze+=1)Me.push("null");Me.push(ee[me].value),ee[me].value="["+Me.join(" ")+"]"}}ie("<<");for(var gt=0;gt<ee.length;gt++)ie("/"+ee[gt].key+" "+ee[gt].value);ie(">>"),U.data.length!==0&&(ie("stream"),ie(Pt(U.data)),ie("endstream"))},Zt=d.__private__.putPage=function(X){var ue=X.number,ke=X.data,Te=X.objId,Le=X.contentsObjId;ft(Te,!0),ie("<</Type /Page"),ie("/Parent "+X.rootDictionaryObjId+" 0 R"),ie("/Resources "+X.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(I(X.mediaBox.bottomLeftX))+" "+parseFloat(I(X.mediaBox.bottomLeftY))+" "+I(X.mediaBox.topRightX)+" "+I(X.mediaBox.topRightY)+"]"),X.cropBox!==null&&ie("/CropBox ["+I(X.cropBox.bottomLeftX)+" "+I(X.cropBox.bottomLeftY)+" "+I(X.cropBox.topRightX)+" "+I(X.cropBox.topRightY)+"]"),X.bleedBox!==null&&ie("/BleedBox ["+I(X.bleedBox.bottomLeftX)+" "+I(X.bleedBox.bottomLeftY)+" "+I(X.bleedBox.topRightX)+" "+I(X.bleedBox.topRightY)+"]"),X.trimBox!==null&&ie("/TrimBox ["+I(X.trimBox.bottomLeftX)+" "+I(X.trimBox.bottomLeftY)+" "+I(X.trimBox.topRightX)+" "+I(X.trimBox.topRightY)+"]"),X.artBox!==null&&ie("/ArtBox ["+I(X.artBox.bottomLeftX)+" "+I(X.artBox.bottomLeftY)+" "+I(X.artBox.topRightX)+" "+I(X.artBox.topRightY)+"]"),typeof X.userUnit=="number"&&X.userUnit!==1&&ie("/UserUnit "+X.userUnit),Ct.publish("putPage",{objId:Te,pageContext:yt[ue],pageNumber:ue,page:ke}),ie("/Contents "+Le+" 0 R"),ie(">>"),ie("endobj");var Ze=ke.join(`
`);return b===y.ADVANCED&&(Ze+=`
Q`),ft(Le,!0),Ot({data:Ze,filters:Ht(),objectId:Le}),ie("endobj"),Te},Sr=d.__private__.putPages=function(){var X,ue,ke=[];for(X=1;X<=Ve;X++)yt[X].objId=He(),yt[X].contentsObjId=He();for(X=1;X<=Ve;X++)ke.push(Zt({number:X,data:te[X],objId:yt[X].objId,contentsObjId:yt[X].contentsObjId,mediaBox:yt[X].mediaBox,cropBox:yt[X].cropBox,bleedBox:yt[X].bleedBox,trimBox:yt[X].trimBox,artBox:yt[X].artBox,userUnit:yt[X].userUnit,rootDictionaryObjId:_t,resourceDictionaryObjId:Lt}));ft(_t,!0),ie("<</Type /Pages");var Te="/Kids [";for(ue=0;ue<Ve;ue++)Te+=ke[ue]+" 0 R ";ie(Te+"]"),ie("/Count "+Ve),ie(">>"),ie("endobj"),Ct.publish("postPutPages")},wr=function(X){Ct.publish("putFont",{font:X,out:ie,newObject:Oe,putStream:Ot}),X.isAlreadyPutted!==!0&&(X.objectNumber=Oe(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Mh(X.postScriptName)),ie("/Subtype /Type1"),typeof X.encoding=="string"&&ie("/Encoding /"+X.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Rr=function(){for(var X in ot)ot.hasOwnProperty(X)&&(f===!1||f===!0&&h.hasOwnProperty(X))&&wr(ot[X])},Br=function(X){X.objectNumber=Oe();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[I(X.x),I(X.y),I(X.x+X.width),I(X.y+X.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+X.matrix.toString()+"]"});var ke=X.pages[1].join(`
`);Ot({data:ke,additionalKeyValues:ue,objectId:X.objectNumber}),ie("endobj")},on=function(){for(var X in Xt)Xt.hasOwnProperty(X)&&Br(Xt[X])},de=function(X,ue){var ke,Te=[],Le=1/(ue-1);for(ke=0;ke<1;ke+=Le)Te.push(ke);if(Te.push(1),X[0].offset!=0){var Ze={offset:0,color:X[0].color};X.unshift(Ze)}if(X[X.length-1].offset!=1){var mt={offset:1,color:X[X.length-1].color};X.push(mt)}for(var Pt="",U=0,ee=0;ee<Te.length;ee++){for(ke=Te[ee];ke>X[U+1].offset;)U++;var ne=X[U].offset,me=(ke-ne)/(X[U+1].offset-ne),Me=X[U].color,ze=X[U+1].color;Pt+=J(Math.round((1-me)*Me[0]+me*ze[0]).toString(16))+J(Math.round((1-me)*Me[1]+me*ze[1]).toString(16))+J(Math.round((1-me)*Me[2]+me*ze[2]).toString(16))}return Pt.trim()},Ce=function(X,ue){ue||(ue=21);var ke=Oe(),Te=de(X.colors,ue),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+ue+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ot({data:Te,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ke}),ie("endobj"),X.objectNumber=Oe(),ie("<< /ShadingType "+X.type),ie("/ColorSpace /DeviceRGB");var Ze="/Coords ["+I(parseFloat(X.coords[0]))+" "+I(parseFloat(X.coords[1]))+" ";X.type===2?Ze+=I(parseFloat(X.coords[2]))+" "+I(parseFloat(X.coords[3])):Ze+=I(parseFloat(X.coords[2]))+" "+I(parseFloat(X.coords[3]))+" "+I(parseFloat(X.coords[4]))+" "+I(parseFloat(X.coords[5])),ie(Ze+="]"),X.matrix&&ie("/Matrix ["+X.matrix.toString()+"]"),ie("/Function "+ke+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},qe=function(X,ue){var ke=He(),Te=Oe();ue.push({resourcesOid:ke,objectOid:Te}),X.objectNumber=Te;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+X.boundingBox.map(I).join(" ")+"]"}),Le.push({key:"XStep",value:I(X.xStep)}),Le.push({key:"YStep",value:I(X.yStep)}),Le.push({key:"Resources",value:ke+" 0 R"}),X.matrix&&Le.push({key:"Matrix",value:"["+X.matrix.toString()+"]"}),Ot({data:X.stream,additionalKeyValues:Le,objectId:X.objectNumber}),ie("endobj")},Xe=function(X){var ue;for(ue in _e)_e.hasOwnProperty(ue)&&(_e[ue]instanceof $u?Ce(_e[ue]):_e[ue]instanceof ff&&qe(_e[ue],X))},At=function(X){for(var ue in X.objectNumber=Oe(),ie("<<"),X)switch(ue){case"opacity":ie("/ca "+B(X[ue]));break;case"stroke-opacity":ie("/CA "+B(X[ue]))}ie(">>"),ie("endobj")},nt=function(){var X;for(X in Je)Je.hasOwnProperty(X)&&At(Je[X])},ct=function(){for(var X in ie("/XObject <<"),Xt)Xt.hasOwnProperty(X)&&Xt[X].objectNumber>=0&&ie("/"+X+" "+Xt[X].objectNumber+" 0 R");Ct.publish("putXobjectDict"),ie(">>")},yr=function(){Wr.oid=Oe(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Wr.v),ie("/R "+Wr.r),ie("/U <"+Wr.toHexString(Wr.U)+">"),ie("/O <"+Wr.toHexString(Wr.O)+">"),ie("/P "+Wr.P),ie(">>"),ie("endobj")},nr=function(){for(var X in ie("/Font <<"),ot)ot.hasOwnProperty(X)&&(f===!1||f===!0&&h.hasOwnProperty(X))&&ie("/"+X+" "+ot[X].objectNumber+" 0 R");ie(">>")},lr=function(){if(Object.keys(_e).length>0){for(var X in ie("/Shading <<"),_e)_e.hasOwnProperty(X)&&_e[X]instanceof $u&&_e[X].objectNumber>=0&&ie("/"+X+" "+_e[X].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),ie(">>")}},Kt=function(X){if(Object.keys(_e).length>0){for(var ue in ie("/Pattern <<"),_e)_e.hasOwnProperty(ue)&&_e[ue]instanceof d.TilingPattern&&_e[ue].objectNumber>=0&&_e[ue].objectNumber<X&&ie("/"+ue+" "+_e[ue].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),ie(">>")}},_r=function(){if(Object.keys(Je).length>0){var X;for(X in ie("/ExtGState <<"),Je)Je.hasOwnProperty(X)&&Je[X].objectNumber>=0&&ie("/"+X+" "+Je[X].objectNumber+" 0 R");Ct.publish("putGStateDict"),ie(">>")}},Qt=function(X){ft(X.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),nr(),lr(),Kt(X.objectOid),_r(),ct(),ie(">>"),ie("endobj")},kr=function(){var X=[];Rr(),nt(),on(),Xe(X),Ct.publish("putResources"),X.forEach(Qt),Qt({resourcesOid:Lt,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},zr=function(){Ct.publish("putAdditionalObjects");for(var X=0;X<G.length;X++){var ue=G[X];ft(ue.objId,!0),ie(ue.content),ie("endobj")}Ct.publish("postPutAdditionalObjects")},mn=function(X){xt[X.fontName]=xt[X.fontName]||{},xt[X.fontName][X.fontStyle]=X.id},Tn=function(X,ue,ke,Te,Le){var Ze={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:X,fontName:ue,fontStyle:ke,encoding:Te,isStandardFont:Le||!1,metadata:{}};return Ct.publish("addFont",{font:Ze,instance:this}),ot[Ze.id]=Ze,mn(Ze),Ze.id},wi=function(X){for(var ue=0,ke=ve.length;ue<ke;ue++){var Te=Tn.call(this,X[ue][0],X[ue][1],X[ue][2],ve[ue][3],!0);f===!1&&(h[Te]=!0);var Le=X[ue][0].split("-");mn({id:Te,fontName:Le[0],fontStyle:Le[1]||""})}Ct.publish("addFonts",{fonts:ot,dictionary:xt})},Ln=function(X){return X.foo=function(){try{return X.apply(this,arguments)}catch(Te){var ue=Te.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var ke="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+Te.message;if(!ir.console)throw new Error(ke);ir.console.error(ke,Te),ir.alert&&alert(ke)}},X.foo.bar=X,X.foo},pa=function(X,ue){var ke,Te,Le,Ze,mt,Pt,U,ee,ne;if(Le=(ue=ue||{}).sourceEncoding||"Unicode",mt=ue.outputEncoding,(ue.autoencode||mt)&&ot[dt].metadata&&ot[dt].metadata[Le]&&ot[dt].metadata[Le].encoding&&(Ze=ot[dt].metadata[Le].encoding,!mt&&ot[dt].encoding&&(mt=ot[dt].encoding),!mt&&Ze.codePages&&(mt=Ze.codePages[0]),typeof mt=="string"&&(mt=Ze[mt]),mt)){for(U=!1,Pt=[],ke=0,Te=X.length;ke<Te;ke++)(ee=mt[X.charCodeAt(ke)])?Pt.push(String.fromCharCode(ee)):Pt.push(X[ke]),Pt[ke].charCodeAt(0)>>8&&(U=!0);X=Pt.join("")}for(ke=X.length;U===void 0&&ke!==0;)X.charCodeAt(ke-1)>>8&&(U=!0),ke--;if(!U)return X;for(Pt=ue.noBOM?[]:[254,255],ke=0,Te=X.length;ke<Te;ke++){if((ne=(ee=X.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+X+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(ne),Pt.push(ee-(ne<<8))}return String.fromCharCode.apply(void 0,Pt)},Hr=d.__private__.pdfEscape=d.pdfEscape=function(X,ue){return pa(X,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dn=d.__private__.beginPage=function(X){te[++Ve]=[],yt[Ve]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(X[0]),topRightY:Number(X[1])}},Gi(Ve),fe(te[H])},xr=function(X,ue){var ke,Te,Le;switch(r=ue||r,typeof X=="string"&&(ke=v(X.toLowerCase()),Array.isArray(ke)&&(Te=ke[0],Le=ke[1])),Array.isArray(X)&&(Te=X[0]*Ge,Le=X[1]*Ge),isNaN(Te)&&(Te=i[0],Le=i[1]),(Te>14400||Le>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Le=Math.min(14400,Le)),i=[Te,Le],r.substr(0,1)){case"l":Le>Te&&(i=[Le,Te]);break;case"p":Te>Le&&(i=[Le,Te])}Dn(i),Fc(Dc),ie(Ri),Uc!==0&&ie(Uc+" J"),uu!==0&&ie(uu+" j"),Ct.publish("addPage",{pageNumber:Ve})},vr=function(X){X>0&&X<=Ve&&(te.splice(X,1),yt.splice(X,1),Ve--,H>Ve&&(H=Ve),this.setPage(H))},Gi=function(X){X>0&&X<=Ve&&(H=X)},Ar=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return te.length-1},Ia=function(X,ue,ke){var Te,Le=void 0;return ke=ke||{},X=X!==void 0?X:ot[dt].fontName,ue=ue!==void 0?ue:ot[dt].fontStyle,Te=X.toLowerCase(),xt[Te]!==void 0&&xt[Te][ue]!==void 0?Le=xt[Te][ue]:xt[X]!==void 0&&xt[X][ue]!==void 0?Le=xt[X][ue]:ke.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+X+"', '"+ue+"'. Refer to getFontList() for available fonts."),Le||ke.noFallback||(Le=xt.times[ue])==null&&(Le=xt.times.normal),Le},Pn=d.__private__.putInfo=function(){var X=Oe(),ue=function(Te){return Te};for(var ke in c!==null&&(ue=Wr.encryptor(X,0)),ie("<<"),ie("/Producer ("+Hr(ue("jsPDF "+tr.version))+")"),rt)rt.hasOwnProperty(ke)&&rt[ke]&&ie("/"+ke.substr(0,1).toUpperCase()+ke.substr(1)+" ("+Hr(ue(rt[ke]))+")");ie("/CreationDate ("+Hr(ue(E))+")"),ie(">>"),ie("endobj")},Hn=d.__private__.putCatalog=function(X){var ue=(X=X||{}).rootDictionaryObjId||_t;switch(Oe(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+ue+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ke=""+Se;ke.substr(ke.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+B(Se)+"]")}switch(We||(We="continuous"),We){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Re&&ie("/PageMode /"+Re),Ct.publish("putCatalog"),ie(">>"),ie("endobj")},Oa=d.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(V+1)),ie("/Root "+V+" 0 R"),ie("/Info "+(V-1)+" 0 R"),c!==null&&ie("/Encrypt "+Wr.oid+" 0 R"),ie("/ID [ <"+w+"> <"+w+"> ]"),ie(">>")},gs=d.__private__.putHeader=function(){ie("%PDF-"+m),ie("%")},_o=d.__private__.putXRef=function(){var X="0000000000";ie("xref"),ie("0 "+(V+1)),ie("0000000000 65535 f ");for(var ue=1;ue<=V;ue++)typeof Z[ue]=="function"?ie((X+Z[ue]()).slice(-10)+" 00000 n "):Z[ue]!==void 0?ie((X+Z[ue]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},xi=d.__private__.buildDocument=function(){le(),fe(z),Ct.publish("buildDocument"),gs(),Sr(),zr(),kr(),c!==null&&yr(),Pn(),Hn();var X=D;return _o(),Oa(),ie("startxref"),ie(""+X),ie("%%EOF"),fe(te[H]),z.join(`
`)},Mi=d.__private__.getBlob=function(X){return new Blob([be(X)],{type:"application/pdf"})},$s=d.output=d.__private__.output=Ln(function(X,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",X){case void 0:return xi();case"save":d.save(ue.filename);break;case"arraybuffer":return be(xi());case"blob":return Mi(xi());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(Mi(xi()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ke="",Te=xi();try{ke=h3(Te)}catch{ke=h3(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ue.filename+";base64,"+ke;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(Le=ue.pdfObjectUrl,Ze="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Pt=ir.open();return Pt!==null&&Pt.document.write(mt),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var U='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',ee=ir.open();if(ee!==null){ee.document.write(U);var ne=this;ee.document.documentElement.querySelector("#pdfViewer").onload=function(){ee.document.title=ue.filename,ee.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ne.output("bloburl"))}}return ee}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Me=ir.open();if(Me!==null&&(Me.document.write(me),Me.document.title=ue.filename),Me||typeof safari>"u")return Me;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",ue);default:return null}}),ma=function(X){return Array.isArray(jt)===!0&&jt.indexOf(X)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=ma("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var Wr=null;$(),_();var qs=function(X){return c!==null?Wr.encryptor(X,0):function(ue){return ue}},vs=d.__private__.getPageInfo=d.getPageInfo=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[X].objId,pageNumber:X,pageContext:yt[X]}},rr=d.__private__.getPageInfoByObjId=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in yt)if(yt[ue].objId===X)break;return vs(ue)},ga=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:yt[H].objId,pageNumber:H,pageContext:yt[H]}};d.addPage=function(){return xr.apply(this,arguments),this},d.setPage=function(){return Gi.apply(this,arguments),fe.call(this,te[H]),this},d.insertPage=function(X){return this.addPage(),this.movePage(H,X),this},d.movePage=function(X,ue){var ke,Te;if(X>ue){ke=te[X],Te=yt[X];for(var Le=X;Le>ue;Le--)te[Le]=te[Le-1],yt[Le]=yt[Le-1];te[ue]=ke,yt[ue]=Te,this.setPage(ue)}else if(X<ue){ke=te[X],Te=yt[X];for(var Ze=X;Ze<ue;Ze++)te[Ze]=te[Ze+1],yt[Ze]=yt[Ze+1];te[ue]=ke,yt[ue]=Te,this.setPage(ue)}return this},d.deletePage=function(){return vr.apply(this,arguments),this},d.__private__.text=d.text=function(X,ue,ke,Te,Le){var Ze,mt,Pt,U,ee,ne,me,Me,ze,gt=(Te=Te||{}).scope||this;if(typeof X=="number"&&typeof ue=="number"&&(typeof ke=="string"||Array.isArray(ke))){var fr=ke;ke=ue,ue=X,X=fr}if(arguments[3]instanceof vt?(T("The transform parameter of text() with a Matrix value"),ze=Le):(Pt=arguments[4],U=arguments[5],Yr(me=arguments[3])==="object"&&me!==null||(typeof Pt=="string"&&(U=Pt,Pt=null),typeof me=="string"&&(U=me,me=null),typeof me=="number"&&(Pt=me,me=null),Te={flags:me,angle:Pt,align:U})),isNaN(ue)||isNaN(ke)||X==null)throw new Error("Invalid arguments passed to jsPDF.text");if(X.length===0)return gt;var Cr="",hr=!1,$r=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Vr,tn=gt.internal.scaleFactor;function Xs(ln){return ln=ln.split("	").join(Array(Te.TabLen||9).join(" ")),Hr(ln,me)}function Li(ln){for(var un,Kn=ln.concat(),fi=[],ll=Kn.length;ll--;)typeof(un=Kn.shift())=="string"?fi.push(un):Array.isArray(ln)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?fi.push(un[0]):fi.push([un[0],un[1],un[2]]);return fi}function Co(ln,un){var Kn;if(typeof ln=="string")Kn=un(ln)[0];else if(Array.isArray(ln)){for(var fi,ll,ap=ln.concat(),mh=[],lg=ap.length;lg--;)typeof(fi=ap.shift())=="string"?mh.push(un(fi)[0]):Array.isArray(fi)&&typeof fi[0]=="string"&&(ll=un(fi[0],fi[1],fi[2]),mh.push([ll[0],ll[1],ll[2]]));Kn=mh}return Kn}var To=!1,Qd=!0;if(typeof X=="string")To=!0;else if(Array.isArray(X)){var Jd=X.concat();mt=[];for(var oh,Di=Jd.length;Di--;)(typeof(oh=Jd.shift())!="string"||Array.isArray(oh)&&typeof oh[0]!="string")&&(Qd=!1);To=Qd}if(To===!1)throw new Error('Type of text must be string or Array. "'+X+'" is not recognized.');typeof X=="string"&&(X=X.match(/[\r?\n]/)?X.split(/\r\n|\r|\n/g):[X]);var lh=we/gt.internal.scaleFactor,uh=lh*($r-1);switch(Te.baseline){case"bottom":ke-=uh;break;case"top":ke+=lh-uh;break;case"hanging":ke+=lh-2*uh;break;case"middle":ke+=lh/2-uh}if((ne=Te.maxWidth||0)>0&&(typeof X=="string"?X=gt.splitTextToSize(X,ne):Object.prototype.toString.call(X)==="[object Array]"&&(X=X.reduce(function(ln,un){return ln.concat(gt.splitTextToSize(un,ne))},[]))),Ze={text:X,x:ue,y:ke,options:Te,mutex:{pdfEscape:Hr,activeFontKey:dt,fonts:ot,activeFontSize:we}},Ct.publish("preProcessText",Ze),X=Ze.text,Pt=(Te=Ze.options).angle,!(ze instanceof vt)&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Te.rotationDirection===0&&(Pt=-Pt),b===y.ADVANCED&&(Pt=-Pt);var ch=Math.cos(Pt),ep=Math.sin(Pt);ze=new vt(ch,ep,-ep,ch,0,0)}else Pt&&Pt instanceof vt&&(ze=Pt);b!==y.ADVANCED||ze||(ze=Ft),(ee=Te.charSpace||rl)!==void 0&&(Cr+=I(P(ee))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Me=Te.horizontalScale)!==void 0&&(Cr+=I(100*Me)+` Tz
`),Te.lang;var ja=-1,L2=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,tp=gt.internal.getCurrentPageInfo().pageContext;switch(L2){case 0:case!1:case"fill":ja=0;break;case 1:case!0:case"stroke":ja=1;break;case 2:case"fillThenStroke":ja=2;break;case 3:case"invisible":ja=3;break;case 4:case"fillAndAddForClipping":ja=4;break;case 5:case"strokeAndAddPathForClipping":ja=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ja=6;break;case 7:case"addToPathForClipping":ja=7}var ig=tp.usedRenderingMode!==void 0?tp.usedRenderingMode:-1;ja!==-1?Cr+=ja+` Tr
`:ig!==-1&&(Cr+=`0 Tr
`),ja!==-1&&(tp.usedRenderingMode=ja),U=Te.align||"left";var bs,fh=we*$r,ag=gt.internal.pageSize.getWidth(),sg=ot[dt];ee=Te.charSpace||rl,ne=Te.maxWidth||0,me=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var pu=[],Vc=function(ln){return gt.getStringUnitWidth(ln,{font:sg,charSpace:ee,fontSize:we,doKerning:!1})*we/tn};if(Object.prototype.toString.call(X)==="[object Array]"){var Ma;mt=Li(X),U!=="left"&&(bs=mt.map(Vc));var va,mu=0;if(U==="right"){ue-=bs[0],X=[],Di=mt.length;for(var al=0;al<Di;al++)al===0?(va=Ya(ue),Ma=ci(ke)):(va=P(mu-bs[al]),Ma=-fh),X.push([mt[al],va,Ma]),mu=bs[al]}else if(U==="center"){ue-=bs[0]/2,X=[],Di=mt.length;for(var sl=0;sl<Di;sl++)sl===0?(va=Ya(ue),Ma=ci(ke)):(va=P((mu-bs[sl])/2),Ma=-fh),X.push([mt[sl],va,Ma]),mu=bs[sl]}else if(U==="left"){X=[],Di=mt.length;for(var hh=0;hh<Di;hh++)X.push(mt[hh])}else if(U==="justify"&&sg.encoding==="Identity-H"){X=[],Di=mt.length,ne=ne!==0?ne:ag;for(var ol=0,Wn=0;Wn<Di;Wn++)if(Ma=Wn===0?ci(ke):-fh,va=Wn===0?Ya(ue):ol,Wn<Di-1){var rp=P((ne-bs[Wn])/(mt[Wn].split(" ").length-1)),ya=mt[Wn].split(" ");X.push([ya[0]+" ",va,Ma]),ol=0;for(var ws=1;ws<ya.length;ws++){var dh=(Vc(ya[ws-1]+" "+ya[ws])-Vc(ya[ws]))*tn+rp;ws==ya.length-1?X.push([ya[ws],dh,0]):X.push([ya[ws]+" ",dh,0]),ol-=dh}}else X.push([mt[Wn],va,Ma]);X.push(["",ol,0])}else{if(U!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(X=[],Di=mt.length,ne=ne!==0?ne:ag,Wn=0;Wn<Di;Wn++)Ma=Wn===0?ci(ke):-fh,va=Wn===0?Ya(ue):0,Wn<Di-1?pu.push(I(P((ne-bs[Wn])/(mt[Wn].split(" ").length-1)))):pu.push(0),X.push([mt[Wn],va,Ma])}}var og=typeof Te.R2L=="boolean"?Te.R2L:Pe;og===!0&&(X=Co(X,function(ln,un,Kn){return[ln.split("").reverse().join(""),un,Kn]})),Ze={text:X,x:ue,y:ke,options:Te,mutex:{pdfEscape:Hr,activeFontKey:dt,fonts:ot,activeFontSize:we}},Ct.publish("postProcessText",Ze),X=Ze.text,hr=Ze.mutex.isHex||!1;var np=ot[dt].encoding;np!=="WinAnsiEncoding"&&np!=="StandardEncoding"||(X=Co(X,function(ln,un,Kn){return[Xs(ln),un,Kn]})),mt=Li(X),X=[];for(var $c,qc,gu,Hc=0,ph=1,Wc=Array.isArray(mt[0])?ph:Hc,vu="",ip=function(ln,un,Kn){var fi="";return Kn instanceof vt?(Kn=typeof Te.angle=="number"?ur(Kn,new vt(1,0,0,1,ln,un)):ur(new vt(1,0,0,1,ln,un),Kn),b===y.ADVANCED&&(Kn=ur(new vt(1,0,0,-1,0,0),Kn)),fi=Kn.join(" ")+` Tm
`):fi=I(ln)+" "+I(un)+` Td
`,fi},xs=0;xs<mt.length;xs++){switch(vu="",Wc){case ph:gu=(hr?"<":"(")+mt[xs][0]+(hr?">":")"),$c=parseFloat(mt[xs][1]),qc=parseFloat(mt[xs][2]);break;case Hc:gu=(hr?"<":"(")+mt[xs]+(hr?">":")"),$c=Ya(ue),qc=ci(ke)}pu!==void 0&&pu[xs]!==void 0&&(vu=pu[xs]+` Tw
`),xs===0?X.push(vu+ip($c,qc,ze)+gu):Wc===Hc?X.push(vu+gu):Wc===ph&&X.push(vu+ip($c,qc,ze)+gu)}X=Wc===Hc?X.join(` Tj
T* `):X.join(` Tj
`),X+=` Tj
`;var _s=`BT
/`;return _s+=dt+" "+we+` Tf
`,_s+=I(we*$r)+` TL
`,_s+=Ks+`
`,_s+=Cr,_s+=X,ie(_s+="ET"),h[dt]=!0,gt};var So=d.__private__.clip=d.clip=function(X){return ie(X==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return So("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ie("n"),this};var ys=d.__private__.isValidStyle=function(X){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(X)!==-1&&(ue=!0),ue};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(X){return ys(X)&&(u=X),this};var nh=d.__private__.getStyle=d.getStyle=function(X){var ue=u;switch(X){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=X}return ue},Ga=d.close=function(){return ie("h"),this};d.stroke=function(){return ie("S"),this},d.fill=function(X){return ru("f",X),this},d.fillEvenOdd=function(X){return ru("f*",X),this},d.fillStroke=function(X){return ru("B",X),this},d.fillStrokeEvenOdd=function(X){return ru("B*",X),this};var ru=function(X,ue){Yr(ue)==="object"?iu(ue,X):ie(X)},Rc=function(X){X===null||b===y.ADVANCED&&X===void 0||(X=nh(X),ie(X))};function nu(X,ue,ke,Te,Le){var Ze=new ff(ue||this.boundingBox,ke||this.xStep,Te||this.yStep,this.gState,Le||this.matrix);Ze.stream=this.stream;var mt=X+"$$"+this.cloneIndex+++"$$";return Ee(mt,Ze),Ze}var iu=function(X,ue){var ke=kt[X.key],Te=_e[ke];if(Te instanceof $u)ie("q"),ie(ih(ue)),Te.gState&&d.setGState(Te.gState),ie(X.matrix.toString()+" cm"),ie("/"+ke+" sh"),ie("Q");else if(Te instanceof ff){var Le=new vt(1,0,0,-1,0,Xi());X.matrix&&(Le=Le.multiply(X.matrix||Ft),ke=nu.call(Te,X.key,X.boundingBox,X.xStep,X.yStep,Le).id),ie("q"),ie("/Pattern cs"),ie("/"+ke+" scn"),Te.gState&&d.setGState(Te.gState),ie(ue),ie("Q")}},ih=function(X){switch(X){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Hs=d.moveTo=function(X,ue){return ie(I(P(X))+" "+I(j(ue))+" m"),this},Xa=d.lineTo=function(X,ue){return ie(I(P(X))+" "+I(j(ue))+" l"),this},Ws=d.curveTo=function(X,ue,ke,Te,Le,Ze){return ie([I(P(X)),I(j(ue)),I(P(ke)),I(j(Te)),I(P(Le)),I(j(Ze)),"c"].join(" ")),this};d.__private__.line=d.line=function(X,ue,ke,Te,Le){if(isNaN(X)||isNaN(ue)||isNaN(ke)||isNaN(Te)||!ys(Le))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[ke-X,Te-ue]],X,ue,[1,1],Le||"S"):this.lines([[ke-X,Te-ue]],X,ue,[1,1]).stroke()},d.__private__.lines=d.lines=function(X,ue,ke,Te,Le,Ze){var mt,Pt,U,ee,ne,me,Me,ze,gt,fr,Cr,hr;if(typeof X=="number"&&(hr=ke,ke=ue,ue=X,X=hr),Te=Te||[1,1],Ze=Ze||!1,isNaN(ue)||isNaN(ke)||!Array.isArray(X)||!Array.isArray(Te)||!ys(Le)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hs(ue,ke),mt=Te[0],Pt=Te[1],ee=X.length,fr=ue,Cr=ke,U=0;U<ee;U++)(ne=X[U]).length===2?(fr=ne[0]*mt+fr,Cr=ne[1]*Pt+Cr,Xa(fr,Cr)):(me=ne[0]*mt+fr,Me=ne[1]*Pt+Cr,ze=ne[2]*mt+fr,gt=ne[3]*Pt+Cr,fr=ne[4]*mt+fr,Cr=ne[5]*Pt+Cr,Ws(me,Me,ze,gt,fr,Cr));return Ze&&Ga(),Rc(Le),this},d.path=function(X){for(var ue=0;ue<X.length;ue++){var ke=X[ue],Te=ke.c;switch(ke.op){case"m":Hs(Te[0],Te[1]);break;case"l":Xa(Te[0],Te[1]);break;case"c":Ws.apply(this,Te);break;case"h":Ga()}}return this},d.__private__.rect=d.rect=function(X,ue,ke,Te,Le){if(isNaN(X)||isNaN(ue)||isNaN(ke)||isNaN(Te)||!ys(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Te=-Te),ie([I(P(X)),I(j(ue)),I(P(ke)),I(P(Te)),"re"].join(" ")),Rc(Le),this},d.__private__.triangle=d.triangle=function(X,ue,ke,Te,Le,Ze,mt){if(isNaN(X)||isNaN(ue)||isNaN(ke)||isNaN(Te)||isNaN(Le)||isNaN(Ze)||!ys(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ke-X,Te-ue],[Le-ke,Ze-Te],[X-Le,ue-Ze]],X,ue,[1,1],mt,!0),this},d.__private__.roundedRect=d.roundedRect=function(X,ue,ke,Te,Le,Ze,mt){if(isNaN(X)||isNaN(ue)||isNaN(ke)||isNaN(Te)||isNaN(Le)||isNaN(Ze)||!ys(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ke),Ze=Math.min(Ze,.5*Te),this.lines([[ke-2*Le,0],[Le*Pt,0,Le,Ze-Ze*Pt,Le,Ze],[0,Te-2*Ze],[0,Ze*Pt,-Le*Pt,Ze,-Le,Ze],[2*Le-ke,0],[-Le*Pt,0,-Le,-Ze*Pt,-Le,-Ze],[0,2*Ze-Te],[0,-Ze*Pt,Le*Pt,-Ze,Le,-Ze]],X+Le,ue,[1,1],mt,!0),this},d.__private__.ellipse=d.ellipse=function(X,ue,ke,Te,Le){if(isNaN(X)||isNaN(ue)||isNaN(ke)||isNaN(Te)||!ys(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*ke,mt=4/3*(Math.SQRT2-1)*Te;return Hs(X+ke,ue),Ws(X+ke,ue-mt,X+Ze,ue-Te,X,ue-Te),Ws(X-Ze,ue-Te,X-ke,ue-mt,X-ke,ue),Ws(X-ke,ue+mt,X-Ze,ue+Te,X,ue+Te),Ws(X+Ze,ue+Te,X+ke,ue+mt,X+ke,ue),Rc(Le),this},d.__private__.circle=d.circle=function(X,ue,ke,Te){if(isNaN(X)||isNaN(ue)||isNaN(ke)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(X,ue,ke,ke,Te)},d.setFont=function(X,ue,ke){return ke&&(ue=O(ue,ke)),dt=Ia(X,ue,{disableWarning:!1}),this};var Lc=d.__private__.getFont=d.getFont=function(){return ot[Ia.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var X,ue,ke={};for(X in xt)if(xt.hasOwnProperty(X))for(ue in ke[X]=[],xt[X])xt[X].hasOwnProperty(ue)&&ke[X].push(ue);return ke},d.addFont=function(X,ue,ke,Te,Le){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(ke=O(ke,Te)),Le=Le||"Identity-H",Tn.call(this,X,ue,ke,Le)};var Vr,Dc=e.lineWidth||.200025,au=d.__private__.getLineWidth=d.getLineWidth=function(){return Dc},Fc=d.__private__.setLineWidth=d.setLineWidth=function(X){return Dc=X,ie(I(P(X))+" w"),this};d.__private__.setLineDash=tr.API.setLineDash=tr.API.setLineDashPattern=function(X,ue){if(X=X||[],ue=ue||0,isNaN(ue)||!Array.isArray(X))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return X=X.map(function(ke){return I(P(ke))}).join(" "),ue=I(P(ue)),ie("["+X+"] "+ue+" d"),this};var Bc=d.__private__.getLineHeight=d.getLineHeight=function(){return we*Vr};d.__private__.getLineHeight=d.getLineHeight=function(){return we*Vr};var zc=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(X){return typeof(X=X||1.15)=="number"&&(Vr=X),this},tl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Vr};zc(e.lineHeight);var Ya=d.__private__.getHorizontalCoordinate=function(X){return P(X)},ci=d.__private__.getVerticalCoordinate=function(X){return b===y.ADVANCED?X:yt[H].mediaBox.topRightY-yt[H].mediaBox.bottomLeftY-P(X)},ah=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(X){return I(Ya(X))},ko=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(X){return I(ci(X))},Ri=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Mt(Ri)},d.__private__.setStrokeColor=d.setDrawColor=function(X,ue,ke,Te){return Ri=It({ch1:X,ch2:ue,ch3:ke,ch4:Te,pdfColorType:"draw",precision:2}),ie(Ri),this};var su=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Mt(su)},d.__private__.setFillColor=d.setFillColor=function(X,ue,ke,Te){return su=It({ch1:X,ch2:ue,ch3:ke,ch4:Te,pdfColorType:"fill",precision:2}),ie(su),this};var Ks=e.textColor||"0 g",ou=d.__private__.getTextColor=d.getTextColor=function(){return Mt(Ks)};d.__private__.setTextColor=d.setTextColor=function(X,ue,ke,Te){return Ks=It({ch1:X,ch2:ue,ch3:ke,ch4:Te,pdfColorType:"text",precision:3}),this};var rl=e.charSpace,lu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(rl||0)};d.__private__.setCharSpace=d.setCharSpace=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rl=X,this};var Uc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(X){var ue=d.CapJoinStyles[X];if(ue===void 0)throw new Error("Line cap style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=ue,ie(ue+" J"),this};var uu=0;d.__private__.setLineJoin=d.setLineJoin=function(X){var ue=d.CapJoinStyles[X];if(ue===void 0)throw new Error("Line join style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=ue,ie(ue+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(X){if(X=X||0,isNaN(X))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(I(P(X))+" M"),this},d.GState=l0,d.setGState=function(X){(X=typeof X=="string"?Je[at[X]]:Ao(null,X)).equals(pt)||(ie("/"+X.id+" gs"),pt=X)};var Ao=function(X,ue){if(!X||!at[X]){var ke=!1;for(var Te in Je)if(Je.hasOwnProperty(Te)&&Je[Te].equals(ue)){ke=!0;break}if(ke)ue=Je[Te];else{var Le="GS"+(Object.keys(Je).length+1).toString(10);Je[Le]=ue,ue.id=Le}return X&&(at[X]=ue.id),Ct.publish("addGState",ue),ue}};d.addGState=function(X,ue){return Ao(X,ue),this},d.saveGraphicsState=function(){return ie("q"),wt.push({key:dt,size:we,color:Ks}),this},d.restoreGraphicsState=function(){ie("Q");var X=wt.pop();return dt=X.key,we=X.size,Ks=X.color,pt=null,this},d.setCurrentTransformationMatrix=function(X){return ie(X.toString()+" cm"),this},d.comment=function(X){return ie("#"+X),this};var nl=function(X,ue){var ke=X||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ke},set:function(Ze){isNaN(Ze)||(ke=parseFloat(Ze))}});var Te=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Ze){isNaN(Ze)||(Te=parseFloat(Ze))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Ze){Le=Ze.toString()}}),this},cu=function(X,ue,ke,Te){nl.call(this,X,ue),this.type="rect";var Le=ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(mt){isNaN(mt)||(Le=parseFloat(mt))}});var Ze=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(mt){isNaN(mt)||(Ze=parseFloat(mt))}}),this},il=function(){this.page=Ve,this.currentPage=H,this.pages=te.slice(0),this.pagesContext=yt.slice(0),this.x=Et,this.y=et,this.matrix=ut,this.width=Eo(H),this.height=Xi(H),this.outputDestination=se,this.id="",this.objectNumber=-1};il.prototype.restore=function(){Ve=this.page,H=this.currentPage,yt=this.pagesContext,te=this.pages,Et=this.x,et=this.y,ut=this.matrix,hu(H,this.width),du(H,this.height),se=this.outputDestination};var fu=function(X,ue,ke,Te,Le){Ut.push(new il),Ve=H=0,te=[],Et=X,et=ue,ut=Le,Dn([ke,Te])},sh=function(X){if(ar[X])Ut.pop().restore();else{var ue=new il,ke="Xo"+(Object.keys(Xt).length+1).toString(10);ue.id=ke,ar[X]=ke,Xt[ke]=ue,Ct.publish("addFormObject",ue),Ut.pop().restore()}};for(var Gs in d.beginFormObject=function(X,ue,ke,Te,Le){return fu(X,ue,ke,Te,Le),this},d.endFormObject=function(X){return sh(X),this},d.doFormObject=function(X,ue){var ke=Xt[ar[X]];return ie("q"),ie(ue.toString()+" cm"),ie("/"+ke.id+" Do"),ie("Q"),this},d.getFormObject=function(X){var ue=Xt[ar[X]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},d.save=function(X,ue){return X=X||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(tf(Mi(xi()),X),typeof tf.unload=="function"&&ir.setTimeout&&setTimeout(tf.unload,911),this):new Promise(function(ke,Te){try{var Le=tf(Mi(xi()),X);typeof tf.unload=="function"&&ir.setTimeout&&setTimeout(tf.unload,911),ke(Le)}catch(Ze){Te(Ze.message)}})},tr.API)tr.API.hasOwnProperty(Gs)&&(Gs==="events"&&tr.API.events.length?function(X,ue){var ke,Te,Le;for(Le=ue.length-1;Le!==-1;Le--)ke=ue[Le][0],Te=ue[Le][1],X.subscribe.apply(X,[ke].concat(typeof Te=="function"?[Te]:Te))}(Ct,tr.API.events):d[Gs]=tr.API[Gs]);var Eo=d.getPageWidth=function(X){return(yt[X=X||H].mediaBox.topRightX-yt[X].mediaBox.bottomLeftX)/Ge},hu=d.setPageWidth=function(X,ue){yt[X].mediaBox.topRightX=ue*Ge+yt[X].mediaBox.bottomLeftX},Xi=d.getPageHeight=function(X){return(yt[X=X||H].mediaBox.topRightY-yt[X].mediaBox.bottomLeftY)/Ge},du=d.setPageHeight=function(X,ue){yt[X].mediaBox.topRightY=ue*Ge+yt[X].mediaBox.bottomLeftY};return d.internal={pdfEscape:Hr,getStyle:nh,getFont:Lc,getFontSize:Ae,getCharSpace:lu,getTextColor:ou,getLineHeight:Bc,getLineHeightFactor:tl,getLineWidth:au,write:oe,getHorizontalCoordinate:Ya,getVerticalCoordinate:ci,getCoordinateString:ah,getVerticalCoordinateString:ko,collections:{},newObject:Oe,newAdditionalObject:qt,newObjectDeferred:He,newObjectDeferredBegin:ft,getFilters:Ht,putStream:Ot,events:Ct,scaleFactor:Ge,pageSize:{getWidth:function(){return Eo(H)},setWidth:function(X){hu(H,X)},getHeight:function(){return Xi(H)},setHeight:function(X){du(H,X)}},encryptionOptions:c,encryption:Wr,getEncryptor:qs,output:$s,getNumberOfPages:Ar,pages:te,out:ie,f2:B,f3:L,getPageInfo:vs,getPageInfoByObjId:rr,getCurrentPageInfo:ga,getPDFVersion:g,Point:nl,Rectangle:cu,Matrix:vt,hasHotfix:ma},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Eo(H)},set:function(X){hu(H,X)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Xi(H)},set:function(X){du(H,X)},enumerable:!0,configurable:!0}),wi.call(d,ve),dt="F1",xr(i,r),Ct.publish("initialized"),d}jh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},jh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},jh.prototype.processOwnerPassword=function(e,t){return p3(d3(t).substr(0,5),e)},jh.prototype.encryptor=function(e,t){var r=d3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return p3(r,n)}},l0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yr(e)!==Yr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tr.API={events:[]},tr.version="2.5.2";var Bn=tr.API,D8=1,rh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ch=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pr=function(e){return e.toFixed(2)},Tu=function(e){return e.toFixed(5)};Bn.__acroform__={};var Ka=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},l9=function(e){return e*D8},jo=function(e){var t=new Nz,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pr(n)),Number(pr(r))],t},Pve=Bn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Nve=Bn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Ive=Bn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Zn=Bn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ive(e,t-1)},Qn=Bn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pve(e,t-1)},Jn=Bn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Nve(e,t-1)},Ove=Bn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(pr(l.lowerLeft_X)),Number(pr(l.lowerLeft_Y)),Number(pr(l.upperRight_X)),Number(pr(l.upperRight_Y))]},jve=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=m3(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+pr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=jo(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},m3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var a=r,s=Vt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Vt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(L,P,A){if(L+1<i.length){var j=P+" "+i[L+1][0];return A1(j,e,A).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,f=A1("3",e,a).height,h=e.multiline?s-a:(s-f)/2,d=h+=2,m=0,g=0,p=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+A1(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var x=!1;if(i[b].length!==1&&p!==i[b].length-1){if((f+2)*(y+2)+2>s)continue e;v+=i[b][p],x=!0,g=b,b--}else{v=(v+=i[b][p]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(b),O=l(C,v,a),I=b>=i.length-1;if(O&&!I){v+=" ",p=0;continue}if(O||I){if(I)g=C;else if(e.multiline&&(f+2)*(y+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>s)continue e;g=C}}for(var T="",M=m;M<=g;M++){var B=i[M];if(e.multiline){if(M===g){T+=B[p]+" ",p=(p+1)%B.length;continue}if(M===m){T+=B[B.length-1]+" ";continue}}T+=B[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,c=A1(T,e,a).width,e.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}t+=pr(u)+" "+pr(d)+` Td
`,t+="("+rh(T)+`) Tj
`,t+=-pr(u)+` 0 Td
`,d=-(a+2),c=0,m=x?g:g+1,y++,v=""}break}return n.text=t,n.fontSize=a,n},A1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Mve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rve=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Lve=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),Yr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},Dve=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(wo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Mve)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Iz,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Rve(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=Ove(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Vt.createDefaultAppearanceStream(o),Yr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=jve(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var m=d[s];typeof m=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,o)),f+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&Lve(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Pz=Bn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Yr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+rh(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P5=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+rh(n(e))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Pz(i,this.objId,this.scope)}):i instanceof Bo?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var Nz=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ka(Nz,Bo);var Iz=function(){Bo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+rh(r(e))+")"}},set:function(r){e=r}})};Ka(Iz,Bo);var wo=function e(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(t,3)},set:function(v){v?this.F=Qn(t,3):this.F=Jn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof By)return;a="FieldObject"+e.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+rh(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/D8:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof By||this instanceof cc))return P5(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof pi?h:P5(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof pi?v:v.substr(0,1)==="("?Ch(v.substr(1,v.length-2)):Ch(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?Ch(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof pi?"/"+v:v}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof pi?d:P5(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=this instanceof pi?v:v.substr(0,1)==="("?Ch(v.substr(1,v.length-2)):Ch(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?Ch(d.substr(1,d.length-1)):d},set:function(v){v=v.toString(),d=this instanceof pi?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(v){v?this.Ff=Qn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(v){v?this.Ff=Qn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(v){v?this.Ff=Qn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');p=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(p){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Ka(wo,Bo);var _f=function(){wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pz(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(r){r?this.Ff=Qn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(r){r?(this.Ff=Qn(this.Ff,20),t.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(r){r?this.Ff=Qn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(r){r?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(r){r?this.Ff=Qn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ka(_f,wo);var Sf=function(){_f.call(this),this.fontName="helvetica",this.combo=!1};Ka(Sf,_f);var kf=function(){Sf.call(this),this.combo=!0};Ka(kf,Sf);var fm=function(){kf.call(this),this.edit=!0};Ka(fm,kf);var pi=function(){wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(r){r?this.Ff=Qn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(r){r?this.Ff=Qn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(r){r?this.Ff=Qn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(r){r?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+rh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Yr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ka(pi,wo);var hm=function(){pi.call(this),this.pushButton=!0};Ka(hm,pi);var Af=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ka(Af,pi);var By=function(){var e,t;wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+rh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Yr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ka(By,wo),Af.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Af.prototype.createOption=function(e){var t=new By;return t.Parent=this,t.optionName=e,this.Kids.push(t),Fve.call(this.scope,t),t};var dm=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};Ka(dm,pi);var cc=function(){wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(t){t?this.Ff=Qn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(t){t?this.Ff=Qn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(t){t?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(t){t?this.Ff=Qn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(t){t?this.Ff=Qn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(t){t?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ka(cc,wo);var pm=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(e){e?this.Ff=Qn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};Ka(pm,cc);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=m3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+pr(Vt.internal.getWidth(e))+" "+pr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+pr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=jo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Vt.internal.getHeight(e),s=Vt.internal.getWidth(e),o=m3(e,e.caption);return i.push("1 g"),i.push("0 0 "+pr(s)+" "+pr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pr(s-1)+" "+pr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+pr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(Vt.internal.getWidth(e))+" "+pr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=jo(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Vt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Tu(Vt.internal.getWidth(e)/2)+" "+Tu(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Vt.internal.Bezier_C).toFixed(5)),s=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Tu(Vt.internal.getWidth(e)/2)+" "+Tu(Vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Tu(Vt.internal.getWidth(e)/2)+" "+Tu(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Tu(Vt.internal.getWidth(e)/2)+" "+Tu(Vt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=jo(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+pr(Vt.internal.getWidth(e)-2)+" "+pr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pr(n.x1.x)+" "+pr(n.x1.y)+" m"),r.push(pr(n.x2.x)+" "+pr(n.x2.y)+" l"),r.push(pr(n.x4.x)+" "+pr(n.x4.y)+" m"),r.push(pr(n.x3.x)+" "+pr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+pr(Vt.internal.getWidth(e))+" "+pr(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pr(Vt.internal.getWidth(e)-2)+" "+pr(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pr(r.x1.x)+" "+pr(r.x1.y)+" m"),n.push(pr(r.x2.x)+" "+pr(r.x2.y)+" l"),n.push(pr(r.x4.x)+" "+pr(r.x4.y)+" m"),n.push(pr(r.x3.x)+" "+pr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=jo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(Vt.internal.getWidth(e))+" "+pr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return Yr(e)==="object"&&(t=l9(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return Yr(e)==="object"&&(t=l9(e.Rect[3])),t};var Fve=Bn.addField=function(e){if(Dve(this,e),!(e instanceof wo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=_f,Bn.AcroFormListBox=Sf,Bn.AcroFormComboBox=kf,Bn.AcroFormEditBox=fm,Bn.AcroFormButton=pi,Bn.AcroFormPushButton=hm,Bn.AcroFormRadioButton=Af,Bn.AcroFormCheckBox=dm,Bn.AcroFormTextField=cc,Bn.AcroFormPasswordField=pm,Bn.AcroFormAppearance=Vt,Bn.AcroForm={ChoiceField:_f,ListBox:Sf,ComboBox:kf,EditBox:fm,Button:pi,PushButton:hm,RadioButton:Af,CheckBox:dm,TextField:cc,PasswordField:pm,Appearance:Vt},tr.AcroForm={ChoiceField:_f,ListBox:Sf,ComboBox:kf,EditBox:fm,Button:pi,PushButton:hm,RadioButton:Af,CheckBox:dm,TextField:cc,PasswordField:pm,Appearance:Vt};var Bve=tr.AcroForm;function Oz(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(L,P){var A,j,E,w,S,_=t;if((P=P||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(O(L))for(S in r)for(E=r[S],A=0;A<E.length;A+=1){for(w=!0,j=0;j<E[A].length;j+=1)if(E[A][j]!==void 0&&E[A][j]!==L[j]){w=!1;break}if(w===!0){_=S;break}}else for(S in r)for(E=r[S],A=0;A<E.length;A+=1){for(w=!0,j=0;j<E[A].length;j+=1)if(E[A][j]!==void 0&&E[A][j]!==L.charCodeAt(j)){w=!1;break}if(w===!0){_=S;break}}return _===t&&P!==t&&(_=P),_},i=function L(P){for(var A=this.internal.write,j=this.internal.putStream,E=(0,this.internal.getFilters)();E.indexOf("FlateEncode")!==-1;)E.splice(E.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:P.width}),w.push({key:"Height",value:P.height}),P.colorSpace===p.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===p.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var S="",_=0,k=P.transparency.length;_<k;_++)S+=P.transparency[_]+" "+P.transparency[_]+" ";w.push({key:"Mask",value:"["+S+"]"})}P.sMask!==void 0&&w.push({key:"SMask",value:P.objectId+1+" 0 R"});var N=P.filter!==void 0?["/"+P.filter]:void 0;if(j({data:P.data,additionalKeyValues:w,alreadyAppliedFilters:N,objectId:P.objectId}),A("endobj"),"sMask"in P&&P.sMask!==void 0){var $="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,R={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:$,data:P.sMask};"filter"in P&&(R.filter=P.filter),L.call(this,R)}if(P.colorSpace===p.INDEXED){var H=this.internal.newObject();j({data:T(new Uint8Array(P.palette)),objectId:H}),A("endobj")}},a=function(){var L=this.internal.collections.addImage_images;for(var P in L)i.call(this,L[P])},s=function(){var L,P=this.internal.collections.addImage_images,A=this.internal.write;for(var j in P)A("/I"+(L=P[j]).index,L.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var L=this.internal.collections.addImage_images;return o.call(this),L},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(L){return typeof e["process"+L.toUpperCase()]=="function"},f=function(L){return Yr(L)==="object"&&L.nodeType===1},h=function(L,P){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var A=""+L.getAttribute("src");if(A.indexOf("data:image/")===0)return cm(unescape(A).split("base64,").pop());var j=e.loadFile(A,!0);if(j!==void 0)return j}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var E;switch(P){case"PNG":E="image/png";break;case"WEBP":E="image/webp";break;case"JPEG":case"JPG":default:E="image/jpeg"}return cm(L.toDataURL(E,1).split("base64,").pop())}},d=function(L){var P=this.internal.collections.addImage_images;if(P){for(var A in P)if(L===P[A].alias)return P[A]}},m=function(L,P,A){return L||P||(L=-96,P=-96),L<0&&(L=-1*A.width*72/L/this.internal.scaleFactor),P<0&&(P=-1*A.height*72/P/this.internal.scaleFactor),L===0&&(L=P*A.width/A.height),P===0&&(P=L*A.height/A.width),[L,P]},g=function(L,P,A,j,E,w){var S=m.call(this,A,j,E),_=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString,N=l.call(this);if(A=S[0],j=S[1],N[E.index]=E,w){w*=Math.PI/180;var $=Math.cos(w),R=Math.sin(w),H=function(J){return J.toFixed(4)},K=[H($),H(R),H(-1*R),H($),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,_(L),k(P+j),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([_(A),"0","0",_(j),"0","0","cm"].join(" "))):this.internal.write([_(A),"0","0",_(j),_(L),k(P+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+E.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(L){var P,A,j=0;if(typeof L=="string")for(A=L.length,P=0;P<A;P++)j=(j<<5)-j+L.charCodeAt(P),j|=0;else if(O(L))for(A=L.byteLength/2,P=0;P<A;P++)j=(j<<5)-j+L[P],j|=0;return j},b=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var P=!0;return L.length===0&&(P=!1),L.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(P=!1),P},x=e.__addimage__.extractImageFromDataUrl=function(L){var P=(L=L||"").split("base64,"),A=null;if(P.length===2){var j=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(j)&&(A={mimeType:j[1],charset:j[2],data:P[1]})}return A},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return C()&&L instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(L){return C()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},I=e.__addimage__.binaryStringToUint8Array=function(L){for(var P=L.length,A=new Uint8Array(P),j=0;j<P;j++)A[j]=L.charCodeAt(j);return A},T=e.__addimage__.arrayBufferToBinaryString=function(L){for(var P="",A=O(L)?L:new Uint8Array(L),j=0;j<A.length;j+=8192)P+=String.fromCharCode.apply(null,A.subarray(j,j+8192));return P};e.addImage=function(){var L,P,A,j,E,w,S,_,k;if(typeof arguments[1]=="number"?(P=t,A=arguments[1],j=arguments[2],E=arguments[3],w=arguments[4],S=arguments[5],_=arguments[6],k=arguments[7]):(P=arguments[1],A=arguments[2],j=arguments[3],E=arguments[4],w=arguments[5],S=arguments[6],_=arguments[7],k=arguments[8]),Yr(L=arguments[0])==="object"&&!f(L)&&"imageData"in L){var N=L;L=N.imageData,P=N.format||P||t,A=N.x||A||0,j=N.y||j||0,E=N.w||N.width||E,w=N.h||N.height||w,S=N.alias||S,_=N.compression||_,k=N.rotation||N.angle||k}var $=this.internal.getFilters();if(_===void 0&&$.indexOf("FlateEncode")!==-1&&(_="SLOW"),isNaN(A)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=M.call(this,L,P,S,_);return g.call(this,A,j,E,w,R,k),this};var M=function(L,P,A,j){var E,w,S;if(typeof L=="string"&&n(L)===t){L=unescape(L);var _=B(L,!1);(_!==""||(_=e.loadFile(L,!0))!==void 0)&&(L=_)}if(f(L)&&(L=h(L,P)),P=n(L,P),!c(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((S=A)==null||S.length===0)&&(A=function(k){return typeof k=="string"||O(k)?y(k):O(k.data)?y(k.data):null}(L)),(E=d.call(this,A))||(C()&&(L instanceof Uint8Array||P==="RGBA"||(w=L,L=I(L))),E=this["process"+P.toUpperCase()](L,u.call(this),A,function(k){return k&&typeof k=="string"&&(k=k.toUpperCase()),k in e.image_compression?k:v.NONE}(j),w)),!E)throw new Error("An unknown error occurred whilst processing the image.");return E},B=e.__addimage__.convertBase64ToBinaryString=function(L,P){var A;P=typeof P!="boolean"||P;var j,E="";if(typeof L=="string"){j=(A=x(L))!==null?A.data:L;try{E=cm(j)}catch(w){if(P)throw b(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return E};e.getImageProperties=function(L){var P,A,j="";if(f(L)&&(L=h(L)),typeof L=="string"&&n(L)===t&&((j=B(L,!1))===""&&(j=e.loadFile(L)||""),L=j),A=n(L),!c(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(!C()||L instanceof Uint8Array||(L=I(L)),!(P=this["process"+A.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=A,P}})(tr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(v(n.contents))+")",a+=" /Popup "+p.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+d(v(y))+") >>",g.content=a;var b=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",p.content=a,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var x=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(r,o).length;s=Math.ceil(u*c)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&a(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var p=0,v=r,y="",b=0;for(p=0;p<g.length;p+=1)v[g.charCodeAt(p)]!==void 0?(b++,typeof(v=v[g.charCodeAt(p)])=="number"&&(y+=String.fromCharCode(v),v=r,b=0),p===g.length-1&&(v=r,y+=g.charAt(p-(b-1)),p-=b-1,b=0)):(v=r,y+=g.charAt(p-b),p-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,p,v){return s(g)?a(g)===!1?-1:!u(g)||!s(p)&&!s(v)||!s(v)&&o(p)||o(g)&&!s(p)||o(g)&&l(p)||o(g)&&o(p)?0:c(g)&&s(p)&&!o(p)&&s(v)&&u(v)?3:o(g)||!s(v)?1:2:-1},d=function(g){var p=0,v=0,y=0,b="",x="",C="",O=(g=g||"").split("\\s+"),I=[];for(p=0;p<O.length;p+=1){for(I.push(""),v=0;v<O[p].length;v+=1)b=O[p][v],x=O[p][v-1],C=O[p][v+1],s(b)?(y=h(b,x,C),I[p]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):I[p]+=b;I[p]=f(I[p])}return I.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(p)){var y=0;for(v=[],y=0;y<p.length;y+=1)Array.isArray(p[y])?v.push([d(p[y][0]),p[y][1],p[y][2]]):v.push([d(p[y])]);g=v}else g=d(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(tr.API),tr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,d=0,m=0,g=0,p=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,x){return b.concat(p.splitTextToSize(x,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(g=this.getStringUnitWidth(l[y],{font:f})*c)&&(d=g);return d!==0&&(m=l.length),{w:d/=h,h:Math.max((m*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,f,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var d,m,g,p,v=[],y=[],b=[],x={},C={},O=[],I=[],T=(h=h||{}).autoSize||!1,M=h.printHeaders!==!1,B=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,L=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,A=h.headerBackgroundColor||"#c8c8c8",j=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=j,this.setFontSize(B),f==null)y=v=Object.keys(c[0]),b=v.map(function(){return"left"});else if(Array.isArray(f)&&Yr(f[0])==="object")for(v=f.map(function(N){return N.name}),y=f.map(function(N){return N.prompt||N.name||""}),b=f.map(function(N){return N.align||"left"}),d=0;d<f.length;d+=1)C[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,b=v.map(function(){return"left"}));if(T||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<v.length;d+=1){for(x[p=v[d]]=c.map(function(N){return N[p]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=x[p],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)O.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[p]=Math.max.apply(null,O)+P+P,O=[]}if(M){var E={};for(d=0;d<v.length;d+=1)E[v[d]]={},E[v[d]].text=y[d],E[v[d]].align=b[d];var w=o.call(this,E,C);I=v.map(function(N){return new a(l,u,C[N],w,E[N].text,void 0,E[N].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var S=f.reduce(function(N,$){return N[$.name]=$.align,N},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var _=o.call(this,c[d],C);for(g=0;g<v.length;g+=1){var k=c[d][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:g,data:k},this),s.call(this,new a(l,u,C[v[g]],_,k,d+2,S[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+c+c},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(tr.API);var jz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g3=Oz(Mz),Rz=[100,200,300,400,500,600,700,800,900],zve=Oz(Rz);function v3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return jz[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof g3[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function u9(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Uve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function f9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Vve(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Uve,r.genericFontFamilies||{}),a=null,s=null,o=0;o<t.length;++o)if(i[(a=v3(t[o])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+f9(a)+"' and default family '"+n+"'.");if(s=function(l,u){if(u[l])return u[l];var c=g3[l],f=c<=g3.normal?-1:1,h=u9(u,Mz,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,s),s=function(l,u){if(u[l])return u[l];for(var c=jz[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,s),!(s=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=zve[l],f=u9(u,Rz,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+f9(a)+"'.");return s}function h9(e){return e.trimLeft()}function $ve(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function qve(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var E1,d9,p9,N5=["times"];(function(e){var t,r,n,i,a,s,o,l,u,c=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=R;Object.defineProperty(this,"pdf",{get:function(){return H}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(fe){K=!!fe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(fe){J=!!fe}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(fe){isNaN(fe)||(V=fe)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(fe){isNaN(fe)||(Z=fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(fe){var ie;typeof fe=="number"?ie=[fe,fe,fe,fe]:((ie=new Array(4))[0]=fe[0],ie[1]=fe.length>=2?fe[1]:ie[0],ie[2]=fe.length>=3?fe[2]:ie[0],ie[3]=fe.length>=4?fe[3]:ie[1]),u.margin=ie}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(fe){z=fe}});var D=0;Object.defineProperty(this,"lastBreak",{get:function(){return D},set:function(fe){D=fe}});var G=[];Object.defineProperty(this,"pageBreaks",{get:function(){return G},set:function(fe){G=fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(fe){fe instanceof c&&(u=fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(fe){u.path=fe}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(fe){te=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ie;ie=h(fe),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ie=h(fe);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var ae=null;function se(fe,ie){if(ae===null){var oe=function(be){var ve=[];return Object.keys(be).forEach(function(we){be[we].forEach(function(Se){var Ae=null;switch(Se){case"bold":Ae={family:we,weight:"bold"};break;case"italic":Ae={family:we,style:"italic"};break;case"bolditalic":Ae={family:we,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:we}}Ae!==null&&(Ae.ref={name:we,style:Se},ve.push(Ae))})}),ve}(fe.getFontList());ae=function(be){for(var ve={},we=0;we<be.length;++we){var Se=v3(be[we]),Ae=Se.family,Pe=Se.stretch,Re=Se.style,Ue=Se.weight;ve[Ae]=ve[Ae]||{},ve[Ae][Pe]=ve[Ae][Pe]||{},ve[Ae][Pe][Re]=ve[Ae][Pe][Re]||{},ve[Ae][Pe][Re][Ue]=Se}return ve}(oe.concat(ie))}return ae}var le=null;Object.defineProperty(this,"fontFaces",{get:function(){return le},set:function(fe){ae=null,le=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ie;if(this.ctx.font=fe,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var oe=ie[1],be=(ie[2],ie[3]),ve=ie[4],we=(ie[5],ie[6]),Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Se==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Ae=function(rt){var dt,Ge,Et=[],et=rt.trim();if(et==="")return N5;if(et in c9)return[c9[et]];for(;et!=="";){switch(Ge=null,dt=(et=h9(et)).charAt(0)){case'"':case"'":Ge=$ve(et.substring(1),dt);break;default:Ge=qve(et)}if(Ge===null||(Et.push(Ge[0]),(et=h9(Ge[1]))!==""&&et.charAt(0)!==","))return N5;et=et.replace(/^,/,"")}return Et}(we);if(this.fontFaces){var Pe=Vve(se(this.pdf,this.fontFaces),Ae.map(function(rt){return{family:rt,stretch:"normal",weight:be,style:oe}}));this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Re="";(be==="bold"||parseInt(be,10)>=700||oe==="bold")&&(Re="bold"),oe==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Ue="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<Ae.length;Ke++){if(this.pdf.internal.getFont(Ae[Ke],Re,{noFallback:!0,disableWarning:!0})!==void 0){Ue=Ae[Ke];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(Ae[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=Ae[Ke],Re="bold";else if(this.pdf.internal.getFont(Ae[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=Ae[Ke],Re="normal";break}}if(Ue===""){for(var Qe=0;Qe<Ae.length;Qe++)if(We[Ae[Qe]]){Ue=We[Ae[Qe]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){x.call(this,"fill",!1)},f.prototype.stroke=function(){x.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,H){if(isNaN(R)||isNaN(H))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(R,H));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(R,H)},f.prototype.closePath=function(){var R=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Yr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){R=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.lineTo=function(R,H){if(isNaN(R)||isNaN(H))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(R,H));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,H,K,J){if(isNaN(K)||isNaN(J)||isNaN(R)||isNaN(H))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new s(K,J)),Z=this.ctx.transform.applyToPoint(new s(R,H));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.bezierCurveTo=function(R,H,K,J,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new s(V,Z)),D=this.ctx.transform.applyToPoint(new s(R,H)),G=this.ctx.transform.applyToPoint(new s(K,J));this.path.push({type:"bct",x1:D.x,y1:D.y,x2:G.x,y2:G.y,x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.arc=function(R,H,K,J,V,Z){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J)||isNaN(V))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new s(R,H));R=z.x,H=z.y;var D=this.ctx.transform.applyToPoint(new s(0,K)),G=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(D.x-G.x,2)+Math.pow(D.y-G.y,2))}Math.abs(V-J)>=2*Math.PI&&(J=0,V=2*Math.PI),this.path.push({type:"arc",x:R,y:H,radius:K,startAngle:J,endAngle:V,counterclockwise:Z})},f.prototype.arcTo=function(R,H,K,J,V){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,H,K,J){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,H),this.lineTo(R+K,H),this.lineTo(R+K,H+J),this.lineTo(R,H+J),this.lineTo(R,H),this.lineTo(R+K,H),this.lineTo(R,H)},f.prototype.fillRect=function(R,H,K,J){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,H,K,J),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},f.prototype.strokeRect=function(R,H,K,J){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,H,K,J),this.stroke())},f.prototype.clearRect=function(R,H,K,J){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,H,K,J))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(H),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var H,K,J,V;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))H=0,K=0,J=0,V=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Z!==null)H=parseInt(Z[1]),K=parseInt(Z[2]),J=parseInt(Z[3]),V=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)H=parseInt(Z[1]),K=parseInt(Z[2]),J=parseInt(Z[3]),V=parseFloat(Z[4]);else{if(V=1,typeof R=="string"&&R.charAt(0)!=="#"){var z=new Ez(R);R=z.ok?z.toHex():"#000000"}R.length===4?(H=R.substring(1,2),H+=H,K=R.substring(2,3),K+=K,J=R.substring(3,4),J+=J):(H=R.substring(1,3),K=R.substring(3,5),J=R.substring(5,7)),H=parseInt(H,16),K=parseInt(K,16),J=parseInt(J,16)}}return{r:H,g:K,b:J,a:V,style:R}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,H,K,J){if(isNaN(H)||isNaN(K)||typeof R!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!d.call(this)){var V=_(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:R,x:H,y:K,scale:Z,angle:V,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(R,H,K,J){if(isNaN(H)||isNaN(K)||typeof R!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){J=isNaN(J)?void 0:J;var V=_(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:R,x:H,y:K,scale:Z,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(R){if(typeof R!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,K=this.pdf.internal.scaleFactor,J=H.internal.getFontSize(),V=H.getStringUnitWidth(R)*J/H.internal.scaleFactor,Z=function(z){var D=(z=z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return D}}),this};return new Z({width:V*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(R,H){if(isNaN(R)||isNaN(H))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(R,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(R){if(isNaN(R))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(R,H){if(isNaN(R)||isNaN(H))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,R,H);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(R,H,K,J,V,Z){if(isNaN(R)||isNaN(H)||isNaN(K)||isNaN(J)||isNaN(V)||isNaN(Z))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new l(R,H,K,J,V,Z);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.setTransform=function(R,H,K,J,V,Z){R=isNaN(R)?1:R,H=isNaN(H)?0:H,K=isNaN(K)?0:K,J=isNaN(J)?1:J,V=isNaN(V)?0:V,Z=isNaN(Z)?0:Z,this.ctx.transform=new l(R,H,K,J,V,Z)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,H,K,J,V,Z,z,D,G){var te=this.pdf.getImageProperties(R),ae=1,se=1,le=1,fe=1;J!==void 0&&D!==void 0&&(le=D/J,fe=G/V,ae=te.width/J*D/J,se=te.height/V*G/V),Z===void 0&&(Z=H,z=K,H=0,K=0),J!==void 0&&D===void 0&&(D=J,G=V),J===void 0&&D===void 0&&(D=te.width,G=te.height);for(var ie,oe=this.ctx.transform.decompose(),be=_(oe.rotate.shx),ve=new l,we=(ve=(ve=(ve=ve.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale)).applyToRectangle(new o(Z-H*le,z-K*fe,J*ae,V*se)),Se=p.call(this,we),Ae=[],Pe=0;Pe<Se.length;Pe+=1)Ae.indexOf(Se[Pe])===-1&&Ae.push(Se[Pe]);if(b(Ae),this.autoPaging)for(var Re=Ae[0],Ue=Ae[Ae.length-1],We=Re;We<Ue+1;We++){this.pdf.setPage(We);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=We===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=We===1?0:rt+(We-2)*dt;if(this.ctx.clip_path.length!==0){var Et=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ie,this.posX+this.margin[3],-Ge+Qe+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Et}var et=JSON.parse(JSON.stringify(we));et=y([et],this.posX+this.margin[3],-Ge+Qe+this.ctx.prevPageLastElemOffset)[0];var ut=(We>Re||We<Ue)&&g.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,dt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",et.x,et.y,et.w,et.h,null,null,be),ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",we.x,we.y,we.w,we.h,null,null,be)};var p=function(R,H,K){var J=[];H=H||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":J.push(Math.floor((R.y+V)/K)+1);break;case"arc":J.push(Math.floor((R.y+V-R.radius)/K)+1),J.push(Math.floor((R.y+V+R.radius)/K)+1);break;case"qct":var Z=k(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);J.push(Math.floor((Z.y+V)/K)+1),J.push(Math.floor((Z.y+Z.h+V)/K)+1);break;case"bct":var z=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);J.push(Math.floor((z.y+V)/K)+1),J.push(Math.floor((z.y+z.h+V)/K)+1);break;case"rect":J.push(Math.floor((R.y+V)/K)+1),J.push(Math.floor((R.y+R.h+V)/K)+1)}for(var D=0;D<J.length;D+=1)for(;this.pdf.internal.getNumberOfPages()<J[D];)v.call(this);return J},v=function(){var R=this.fillStyle,H=this.strokeStyle,K=this.font,J=this.lineCap,V=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=H,this.font=K,this.lineCap=J,this.lineWidth=V,this.lineJoin=Z},y=function(R,H,K){for(var J=0;J<R.length;J++)switch(R[J].type){case"bct":R[J].x2+=H,R[J].y2+=K;case"qct":R[J].x1+=H,R[J].y1+=K;case"mt":case"lt":case"arc":default:R[J].x+=H,R[J].y+=K}return R},b=function(R){return R.sort(function(H,K){return H-K})},x=function(R,H){for(var K,J,V=this.fillStyle,Z=this.strokeStyle,z=this.lineCap,D=this.lineWidth,G=Math.abs(D*this.ctx.transform.scaleX),te=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),se=JSON.parse(JSON.stringify(this.path)),le=[],fe=0;fe<se.length;fe++)if(se[fe].x!==void 0)for(var ie=p.call(this,se[fe]),oe=0;oe<ie.length;oe+=1)le.indexOf(ie[oe])===-1&&le.push(ie[oe]);for(var be=0;be<le.length;be++)for(;this.pdf.internal.getNumberOfPages()<le[be];)v.call(this);if(b(le),this.autoPaging)for(var ve=le[0],we=le[le.length-1],Se=ve;Se<we+1;Se++){this.pdf.setPage(Se),this.fillStyle=V,this.strokeStyle=Z,this.lineCap=z,this.lineWidth=G,this.lineJoin=te;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Se===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Se===1?0:Re+(Se-2)*Ue;if(this.ctx.clip_path.length!==0){var Ke=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-We+Pe+this.ctx.prevPageLastElemOffset),C.call(this,R,!0),this.path=Ke}if(J=JSON.parse(JSON.stringify(ae)),this.path=y(J,this.posX+this.margin[3],-We+Pe+this.ctx.prevPageLastElemOffset),H===!1||Se===0){var Qe=(Se>ve||Se<we)&&g.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,Ue,null).clip().discardPath()),C.call(this,R,H),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=D}else this.lineWidth=G,C.call(this,R,H),this.lineWidth=D;this.path=ae},C=function(R,H){if((R!=="stroke"||H||!m.call(this))&&(R==="stroke"||H||!d.call(this))){for(var K,J,V=[],Z=this.path,z=0;z<Z.length;z++){var D=Z[z];switch(D.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:D,deltas:[],abs:[]});break;case"lt":var G=V.length;if(Z[z-1]&&!isNaN(Z[z-1].x)&&(K=[D.x-Z[z-1].x,D.y-Z[z-1].y],G>0)){for(;G>=0;G--)if(V[G-1].close!==!0&&V[G-1].begin!==!0){V[G-1].deltas.push(K),V[G-1].abs.push(D);break}}break;case"bct":K=[D.x1-Z[z-1].x,D.y1-Z[z-1].y,D.x2-Z[z-1].x,D.y2-Z[z-1].y,D.x-Z[z-1].x,D.y-Z[z-1].y],V[V.length-1].deltas.push(K);break;case"qct":var te=Z[z-1].x+2/3*(D.x1-Z[z-1].x),ae=Z[z-1].y+2/3*(D.y1-Z[z-1].y),se=D.x+2/3*(D.x1-D.x),le=D.y+2/3*(D.y1-D.y),fe=D.x,ie=D.y;K=[te-Z[z-1].x,ae-Z[z-1].y,se-Z[z-1].x,le-Z[z-1].y,fe-Z[z-1].x,ie-Z[z-1].y],V[V.length-1].deltas.push(K);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(D)}}J=H?null:R==="stroke"?"stroke":"fill";for(var oe=!1,be=0;be<V.length;be++)if(V[be].arc)for(var ve=V[be].abs,we=0;we<ve.length;we++){var Se=ve[we];Se.type==="arc"?T.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,H,!oe):A.call(this,Se.x,Se.y),oe=!0}else if(V[be].close===!0)this.pdf.internal.out("h"),oe=!1;else if(V[be].begin!==!0){var Ae=V[be].start.x,Pe=V[be].start.y;j.call(this,V[be].deltas,Ae,Pe),oe=!0}J&&M.call(this,J),H&&B.call(this)}},O=function(R){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-K;case"top":return R+H-K;case"hanging":return R+H-2*K;case"middle":return R+H/2-K;case"ideographic":return R;case"alphabetic":default:return R}},I=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(H,K){this.colorStops.push([H,K])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(R,H,K,J,V,Z,z,D,G){for(var te=w.call(this,K,J,V,Z),ae=0;ae<te.length;ae++){var se=te[ae];ae===0&&(G?L.call(this,se.x1+R,se.y1+H):A.call(this,se.x1+R,se.y1+H)),E.call(this,R,H,se.x2,se.y2,se.x3,se.y3,se.x4,se.y4)}D?B.call(this):M.call(this,z)},M=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(R,H){this.pdf.internal.out(r(R)+" "+n(H)+" m")},P=function(R){var H;switch(R.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var K=this.pdf.getTextDimensions(R.text),J=O.call(this,R.y),V=I.call(this,J)-K.h,Z=this.ctx.transform.applyToPoint(new s(R.x,J)),z=this.ctx.transform.decompose(),D=new l;D=(D=(D=D.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var G,te,ae,se=this.ctx.transform.applyToRectangle(new o(R.x,J,K.w,K.h)),le=D.applyToRectangle(new o(R.x,V,K.w,K.h)),fe=p.call(this,le),ie=[],oe=0;oe<fe.length;oe+=1)ie.indexOf(fe[oe])===-1&&ie.push(fe[oe]);if(b(ie),this.autoPaging)for(var be=ie[0],ve=ie[ie.length-1],we=be;we<ve+1;we++){this.pdf.setPage(we);var Se=we===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],Re=Pe-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],We=Ue-this.margin[3],Ke=we===1?0:Ae+(we-2)*Re;if(this.ctx.clip_path.length!==0){var Qe=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-1*Ke+Se),C.call(this,"fill",!0),this.path=Qe}var rt=y([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-Ke+Se+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale);var dt=this.autoPaging!=="text";if(dt||rt.y+rt.h<=Pe){if(dt||rt.y>=Se&&rt.x<=Ue){var Ge=dt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ue-rt.x)[0],Et=y([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Ke+Se+this.ctx.prevPageLastElemOffset)[0],et=dt&&(we>be||we<ve)&&g.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Re,null).clip().discardPath()),this.pdf.text(Ge,Et.x,Et.y,{angle:R.angle,align:H,renderingMode:R.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else rt.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-rt.y);R.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ae)}else R.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale),this.pdf.text(R.text,Z.x+this.posX,Z.y+this.posY,{angle:R.angle,align:H,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ae)},A=function(R,H,K,J){K=K||0,J=J||0,this.pdf.internal.out(r(R+K)+" "+n(H+J)+" l")},j=function(R,H,K){return this.pdf.lines(R,H,K,null,null)},E=function(R,H,K,J,V,Z,z,D){this.pdf.internal.out([t(i(K+R)),t(a(J+H)),t(i(V+R)),t(a(Z+H)),t(i(z+R)),t(a(D+H)),"c"].join(" "))},w=function(R,H,K,J){for(var V=2*Math.PI,Z=Math.PI/2;H>K;)H-=V;var z=Math.abs(K-H);z<V&&J&&(z=V-z);for(var D=[],G=J?-1:1,te=H;z>1e-5;){var ae=te+G*Math.min(z,Z);D.push(S.call(this,R,te,ae)),z-=Math.abs(ae-te),te=ae}return D},S=function(R,H,K){var J=(K-H)/2,V=R*Math.cos(J),Z=R*Math.sin(J),z=V,D=-Z,G=z*z+D*D,te=G+z*V+D*Z,ae=4/3*(Math.sqrt(2*G*te)-te)/(z*Z-D*V),se=z-ae*D,le=D+ae*z,fe=se,ie=-le,oe=J+H,be=Math.cos(oe),ve=Math.sin(oe);return{x1:R*Math.cos(H),y1:R*Math.sin(H),x2:se*be-le*ve,y2:se*ve+le*be,x3:fe*be-ie*ve,y3:fe*ve+ie*be,x4:R*Math.cos(K),y4:R*Math.sin(K)}},_=function(R){return 180*R/Math.PI},k=function(R,H,K,J,V,Z){var z=R+.5*(K-R),D=H+.5*(J-H),G=V+.5*(K-V),te=Z+.5*(J-Z),ae=Math.min(R,V,z,G),se=Math.max(R,V,z,G),le=Math.min(H,Z,D,te),fe=Math.max(H,Z,D,te);return new o(ae,le,se-ae,fe-le)},N=function(R,H,K,J,V,Z,z,D){var G,te,ae,se,le,fe,ie,oe,be,ve,we,Se,Ae,Pe,Re=K-R,Ue=J-H,We=V-K,Ke=Z-J,Qe=z-V,rt=D-Z;for(te=0;te<41;te++)be=(ie=(ae=R+(G=te/40)*Re)+G*((le=K+G*We)-ae))+G*(le+G*(V+G*Qe-le)-ie),ve=(oe=(se=H+G*Ue)+G*((fe=J+G*Ke)-se))+G*(fe+G*(Z+G*rt-fe)-oe),te==0?(we=be,Se=ve,Ae=be,Pe=ve):(we=Math.min(we,be),Se=Math.min(Se,ve),Ae=Math.max(Ae,be),Pe=Math.max(Pe,ve));return new o(Math.round(we),Math.round(Se),Math.round(Ae-we),Math.round(Pe-Se))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,H,K=(R=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:H}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(tr.API),function(e){var t=function(a){var s,o,l,u,c,f,h,d,m,g;for(o=[],l=0,u=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(g=c%85))/85)-(m=c%85))/85)-(d=c%85))/85)-(h=c%85))/85)%85,o.push(f+33,h+33,d+33,m+33,g+33)):o.push(122);return function(p,v){for(var y=v;y>0;y--)p.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var s,o,l,u,c,f=String,h="length",d=255,m="charCodeAt",g="slice",p="replace";for(a[g](-2),a=a[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),l=[],u=0,c=(a+=s="uuuuu"[g](a[h]%5||5))[h];c>u;u+=5)o=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(v,y){for(var b=y;b>0;b--)v.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var o="",l=0;l<a.length;l+=2)o+=String.fromCharCode("0x"+(a[l]+a[l+1]));return o},i=function(a){for(var s=new Uint8Array(a.length),o=a.length;o--;)s[o]=a.charCodeAt(o);return a=(s=f3(s)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,s){var o=0,l=a||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(tr.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,c){var f=new XMLHttpRequest,h=0,d=function(m){var g=m.length,p=[],v=String.fromCharCode;for(h=0;h<g;h+=1)p.push(v(255&m.charCodeAt(h)));return p.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(d(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return d(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(tr.API),function(e){function t(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):qm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):qm(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Yr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(s,o){var l=document.createElement(s);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},a=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,o){return s.__proto__=o||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var d=u[h],m=d.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},a.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(s,o){return this.then(function(){var l=s in a.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(s=s||tr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,o,l,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,o,l,u){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,s,o);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},a.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},a.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return a.convert(o,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,tr.getPageSize=function(s,o,l){if(Yr(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var d,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/c,g=h[f][0]/c;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",g>m&&(d=g,g=m,m=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(d=g,g=m,m=d)}return{width:g,height:m,unit:o,k:c,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(v3):null;var l=new a(o);return o.worker?l:l.from(s).doCallback()}}(tr.API),tr.API.addJS=function(e){return p9=e,this.internal.events.subscribe("postPutResources",function(){E1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(E1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),d9=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){E1!==void 0&&d9!==void 0&&this.internal.out("/Names <</JavaScript "+E1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=r.internal.newObject();c.push(f);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(tr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},p=4;p<m;p+=2){if(p+=d,t.indexOf(f.charCodeAt(p+1))!==-1){h=256*f.charCodeAt(p+5)+f.charCodeAt(p+6),g={width:256*f.charCodeAt(p+7)+f.charCodeAt(p+8),height:h,numcomponents:f.charCodeAt(p+9)};break}d=256*f.charCodeAt(p+2)+f.charCodeAt(p+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(tr.API);var Th,C1,m9,g9,v9,Hve=function(){var e,t,r;function n(a){var s,o,l,u,c,f,h,d,m,g,p,v,y,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var x,C;for(C=[],x=0;x<4;++x)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),a=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(p=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,p.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,p.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,o;for(o=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,d,m){var g,p,v,y,b,x,C,O,I,T,M,B,L,P,A,j,E,w,S,_,k,N=Math.ceil((u.width-f)/d),$=Math.ceil((u.height-h)/m),R=u.width==N&&u.height==$;for(P=s*N,B=R?o:new Uint8Array(P*$),x=a.length,L=0,p=0;L<$&&l<x;){switch(a[l++]){case 0:for(y=E=0;E<P;y=E+=1)B[p++]=a[l++];break;case 1:for(y=w=0;w<P;y=w+=1)g=a[l++],b=y<s?0:B[p-s],B[p++]=(g+b)%256;break;case 2:for(y=S=0;S<P;y=S+=1)g=a[l++],v=(y-y%s)/s,A=L&&B[(L-1)*P+v*s+y%s],B[p++]=(A+g)%256;break;case 3:for(y=_=0;_<P;y=_+=1)g=a[l++],v=(y-y%s)/s,b=y<s?0:B[p-s],A=L&&B[(L-1)*P+v*s+y%s],B[p++]=(g+Math.floor((b+A)/2))%256;break;case 4:for(y=k=0;k<P;y=k+=1)g=a[l++],v=(y-y%s)/s,b=y<s?0:B[p-s],L===0?A=j=0:(A=B[(L-1)*P+v*s+y%s],j=v&&B[(L-1)*P+(v-1)*s+y%s]),C=b+A-j,O=Math.abs(C-b),T=Math.abs(C-A),M=Math.abs(C-j),I=O<=T&&O<=M?b:T<=M?A:j,B[p++]=(g+I)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!R){var H=((h+L*m)*u.width+f)*s,K=L*P;for(y=0;y<N;y+=1){for(var J=0;J<s;J+=1)o[H++]=B[K++];H+=(d-1)*s}}L++}}return a=_ve(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var a,s,o,l,u,c,f,h,d;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,a=0,s=f=0,h=o.length;f<h;s=f+=3)u[l++]=o[s],u[l++]=o[s+1],u[l++]=o[s+2],u[l++]=(d=c[a++])!=null?d:255;return u},n.prototype.copyToImageData=function(a,s){var o,l,u,c,f,h,d,m,g,p,v;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(u=a.data||a).length,f=g||s,c=h=0,l===1)for(;c<m;)d=g?4*s[c/4]:h,p=f[d++],u[c++]=p,u[c++]=p,u[c++]=p,u[c++]=o?f[d++]:255,h=d;else for(;c<m;)d=g?4*s[c/4]:h,u[c++]=f[d++],u[c++]=f[d++],u[c++]=f[d++],u[c++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(ir)==="[object Window]"){try{t=ir.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,o,l,u,c,f,h,d;if(this.animation){for(d=[],o=c=0,f=(h=this.animation.frames).length;c<f;o=++c)s=h[o],l=a.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,u),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(a,s){var o,l,u;return o=(l=this.animation.frames)[s],u=l[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var s,o,l,u,c,f,h=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(s=function(){var d,m;if(d=o++%u,m=l[d],h.renderFrame(a,d),u>1&&o/u<c)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Wve(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var u=!0,c=[],f=0,h=null,d=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),d=g>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],C=x>>6&1,O=1<<(7&x)+1,I=o,T=l,M=!1;x>>7&&(M=!0,I=t,T=O,t+=3*O);var B=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}c.push({x:p,y:v,width:y,height:b,has_local_palette:M,palette_offset:I,palette_size:T,data_offset:B,data_length:t-B,transparent_index:h,interlaced:!!C,delay:f,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return m},this.frameInfo=function(P){if(P<0||P>=c.length)throw new Error("Frame index out of range.");return c[P]},this.decodeAndBlitFrameBGRA=function(P,A){var j=this.frameInfo(P),E=j.width*j.height,w=new Uint8Array(E);y9(e,j.data_offset,w,E);var S=j.palette_offset,_=j.transparent_index;_===null&&(_=256);var k=j.width,N=r-k,$=k,R=4*(j.y*r+j.x),H=4*((j.y+j.height)*r+j.x),K=R,J=4*N;j.interlaced===!0&&(J+=4*r*7);for(var V=8,Z=0,z=w.length;Z<z;++Z){var D=w[Z];if($===0&&($=k,(K+=J)>=H&&(J=4*N+4*r*(V-1),K=R+(k+N)*(V<<1),V>>=1)),D===_)K+=4;else{var G=e[S+3*D],te=e[S+3*D+1],ae=e[S+3*D+2];A[K++]=ae,A[K++]=te,A[K++]=G,A[K++]=255}--$}},this.decodeAndBlitFrameRGBA=function(P,A){var j=this.frameInfo(P),E=j.width*j.height,w=new Uint8Array(E);y9(e,j.data_offset,w,E);var S=j.palette_offset,_=j.transparent_index;_===null&&(_=256);var k=j.width,N=r-k,$=k,R=4*(j.y*r+j.x),H=4*((j.y+j.height)*r+j.x),K=R,J=4*N;j.interlaced===!0&&(J+=4*r*7);for(var V=8,Z=0,z=w.length;Z<z;++Z){var D=w[Z];if($===0&&($=k,(K+=J)>=H&&(J=4*N+4*r*(V-1),K=R+(k+N)*(V<<1),V>>=1)),D===_)K+=4;else{var G=e[S+3*D],te=e[S+3*D+1],ae=e[S+3*D+2];A[K++]=G,A[K++]=te,A[K++]=ae,A[K++]=255}--$}}}function y9(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,d=e[t++],m=new Int32Array(4096),g=null;;){for(;c<16&&d!==0;)f|=e[t++]<<c,c+=8,d===1?d=e[t++]:--d;if(c<l)break;var p=f&u;if(f>>=l,c-=l,p!==a){if(p===s)break;for(var v=p<o?p:g,y=0,b=v;b>a;)b=m[b]>>8,++y;var x=b;if(h+y+(v!==p?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[h++]=x;var C=h+=y;for(v!==p&&(r[h++]=x),b=v;y--;)b=m[b],r[--C]=255&b,b>>=8;g!==null&&o<4096&&(m[o++]=g<<8|x,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=p}else o=s+1,u=(1<<(l=i+1))-1,g=null}return h!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function I5(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),g=[],p=0,v=7,y=new Array(64),b=new Array(64),x=new Array(64),C=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(R,H){for(var K=0,J=0,V=new Array,Z=1;Z<=16;Z++){for(var z=1;z<=R[Z];z++)V[H[J]]=[],V[H[J]][0]=K,V[H[J]][1]=Z,J++,K++;K*=2}return V}function S(R){for(var H=R[0],K=R[1]-1;K>=0;)H&1<<K&&(p|=1<<v),K--,--v<0&&(p==255?(_(255),_(0)):_(p),v=7,p=0)}function _(R){g.push(R)}function k(R){_(R>>8&255),_(255&R)}function N(R,H,K,J,V){for(var Z,z=V[0],D=V[240],G=function(ve,we){var Se,Ae,Pe,Re,Ue,We,Ke,Qe,rt,dt,Ge=0;for(rt=0;rt<8;++rt){Se=ve[Ge],Ae=ve[Ge+1],Pe=ve[Ge+2],Re=ve[Ge+3],Ue=ve[Ge+4],We=ve[Ge+5],Ke=ve[Ge+6];var Et=Se+(Qe=ve[Ge+7]),et=Se-Qe,ut=Ae+Ke,ot=Ae-Ke,xt=Pe+We,wt=Pe-We,_e=Re+Ue,kt=Re-Ue,Je=Et+_e,at=Et-_e,pt=ut+xt,Ve=ut-xt;ve[Ge]=Je+pt,ve[Ge+4]=Je-pt;var yt=.707106781*(Ve+at);ve[Ge+2]=at+yt,ve[Ge+6]=at-yt;var Ct=.382683433*((Je=kt+wt)-(Ve=ot+et)),jt=.5411961*Je+Ct,Xt=1.306562965*Ve+Ct,ar=.707106781*(pt=wt+ot),Ut=et+ar,vt=et-ar;ve[Ge+5]=vt+jt,ve[Ge+3]=vt-jt,ve[Ge+1]=Ut+Xt,ve[Ge+7]=Ut-Xt,Ge+=8}for(Ge=0,rt=0;rt<8;++rt){Se=ve[Ge],Ae=ve[Ge+8],Pe=ve[Ge+16],Re=ve[Ge+24],Ue=ve[Ge+32],We=ve[Ge+40],Ke=ve[Ge+48];var ur=Se+(Qe=ve[Ge+56]),Ft=Se-Qe,Ee=Ae+Ke,Oe=Ae-Ke,He=Pe+We,ft=Pe-We,qt=Re+Ue,_t=Re-Ue,Lt=ur+qt,Mt=ur-qt,It=Ee+He,Ht=Ee-He;ve[Ge]=Lt+It,ve[Ge+32]=Lt-It;var Ot=.707106781*(Ht+Mt);ve[Ge+16]=Mt+Ot,ve[Ge+48]=Mt-Ot;var Zt=.382683433*((Lt=_t+ft)-(Ht=Oe+Ft)),Sr=.5411961*Lt+Zt,wr=1.306562965*Ht+Zt,Rr=.707106781*(It=ft+Oe),Br=Ft+Rr,on=Ft-Rr;ve[Ge+40]=on+Sr,ve[Ge+24]=on-Sr,ve[Ge+8]=Br+wr,ve[Ge+56]=Br-wr,Ge++}for(rt=0;rt<64;++rt)dt=ve[rt]*we[rt],d[rt]=dt>0?dt+.5|0:dt-.5|0;return d}(R,H),te=0;te<64;++te)m[I[te]]=G[te];var ae=m[0]-K;K=m[0],ae==0?S(J[0]):(S(J[h[Z=32767+ae]]),S(f[Z]));for(var se=63;se>0&&m[se]==0;)se--;if(se==0)return S(z),K;for(var le,fe=1;fe<=se;){for(var ie=fe;m[fe]==0&&fe<=se;)++fe;var oe=fe-ie;if(oe>=16){le=oe>>4;for(var be=1;be<=le;++be)S(D);oe&=15}Z=32767+m[fe],S(V[(oe<<4)+h[Z]]),S(f[Z]),fe++}return se!=63&&S(z),K}function $(R){R=Math.min(Math.max(R,1),100),a!=R&&(function(H){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var V=s((K[J]*H+50)/100);V=Math.min(Math.max(V,1),255),o[I[J]]=V}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var D=s((Z[z]*H+50)/100);D=Math.min(Math.max(D,1),255),l[I[z]]=D}for(var G=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,ae=0;ae<8;ae++)for(var se=0;se<8;se++)u[te]=1/(o[I[te]]*G[ae]*G[se]*8),c[te]=1/(l[I[te]]*G[ae]*G[se]*8),te++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,H){H&&$(H),g=new Array,p=0,v=7,k(65496),k(65504),k(16),_(74),_(70),_(73),_(70),_(0),_(1),_(1),_(0),k(1),k(1),_(0),_(0),function(){k(65499),k(132),_(0);for(var Ae=0;Ae<64;Ae++)_(o[Ae]);_(1);for(var Pe=0;Pe<64;Pe++)_(l[Pe])}(),function(Ae,Pe){k(65472),k(17),_(8),k(Pe),k(Ae),_(3),_(1),_(17),_(0),_(2),_(17),_(1),_(3),_(17),_(1)}(R.width,R.height),function(){k(65476),k(418),_(0);for(var Ae=0;Ae<16;Ae++)_(T[Ae+1]);for(var Pe=0;Pe<=11;Pe++)_(M[Pe]);_(16);for(var Re=0;Re<16;Re++)_(B[Re+1]);for(var Ue=0;Ue<=161;Ue++)_(L[Ue]);_(1);for(var We=0;We<16;We++)_(P[We+1]);for(var Ke=0;Ke<=11;Ke++)_(A[Ke]);_(17);for(var Qe=0;Qe<16;Qe++)_(j[Qe+1]);for(var rt=0;rt<=161;rt++)_(E[rt])}(),k(65498),k(12),_(3),_(1),_(0),_(2),_(17),_(3),_(17),_(0),_(63),_(0);var K=0,J=0,V=0;p=0,v=7,this.encode.displayName="_encode_";for(var Z,z,D,G,te,ae,se,le,fe,ie=R.data,oe=R.width,be=R.height,ve=4*oe,we=0;we<be;){for(Z=0;Z<ve;){for(te=ve*we+Z,se=-1,le=0,fe=0;fe<64;fe++)ae=te+(le=fe>>3)*ve+(se=4*(7&fe)),we+le>=be&&(ae-=ve*(we+1+le-be)),Z+se>=ve&&(ae-=Z+se-ve+4),z=ie[ae++],D=ie[ae++],G=ie[ae++],y[fe]=(O[z]+O[D+256>>0]+O[G+512>>0]>>16)-128,b[fe]=(O[z+768>>0]+O[D+1024>>0]+O[G+1280>>0]>>16)-128,x[fe]=(O[z+1280>>0]+O[D+1536>>0]+O[G+1792>>0]>>16)-128;K=N(y,u,K,t,n),J=N(b,c,J,r,i),V=N(x,c,V,r,i),Z+=32}we+=8}if(v>=0){var Se=[];Se[1]=v+1,Se[0]=(1<<v+1)-1,S(Se)}return k(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,H=0;H<256;H++)C[H]=R(H)}(),t=w(T,M),r=w(P,A),n=w(B,L),i=w(j,E),function(){for(var R=1,H=2,K=1;K<=15;K++){for(var J=R;J<H;J++)h[32767+J]=K,f[32767+J]=[],f[32767+J][1]=K,f[32767+J][0]=J;for(var V=-(H-1);V<=-R;V++)h[32767+V]=K,f[32767+V]=[],f[32767+V][1]=K,f[32767+V][0]=H-1+V;R<<=1,H<<=1}}(),function(){for(var R=0;R<256;R++)O[R]=19595*R,O[R+256>>0]=38470*R,O[R+512>>0]=7471*R+32768,O[R+768>>0]=-11059*R,O[R+1024>>0]=-21709*R,O[R+1280>>0]=32768*R+8421375,O[R+1536>>0]=-27439*R,O[R+1792>>0]=-5329*R}(),$(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b9(e){function t(T){if(!T)throw Error("assert :P")}function r(T,M,B){for(var L=0;4>L;L++)if(T[M+L]!=B.charCodeAt(L))return!0;return!1}function n(T,M,B,L,P){for(var A=0;A<P;A++)T[M+A]=B[L+A]}function i(T,M,B,L){for(var P=0;P<L;P++)T[M+P]=B}function a(T){return new Int32Array(T)}function s(T,M){for(var B=[],L=0;L<T;L++)B.push(new M);return B}function o(T,M){var B=[];return function L(P,A,j){for(var E=j[A],w=0;w<E&&(P.push(j.length>A+1?[]:new M),!(j.length<A+1));w++)L(P[w],A+1,j)}(B,0,T),B}var l=function(){var T=this;function M(F,W){for(var Q=1<<W-1>>>0;F&Q;)Q>>>=1;return Q?(F&Q-1)+Q:F}function B(F,W,Q,re,ce){t(!(re%Q));do F[W+(re-=Q)]=ce;while(0<re)}function L(F,W,Q,re,ce){if(t(2328>=ce),512>=ce)var he=a(512);else if((he=a(ce))==null)return 0;return function(pe,ge,ye,xe,Ne,Fe){var Be,De,st=ge,Ye=1<<ye,Ie=a(16),je=a(16);for(t(Ne!=0),t(xe!=null),t(pe!=null),t(0<ye),De=0;De<Ne;++De){if(15<xe[De])return 0;++Ie[xe[De]]}if(Ie[0]==Ne)return 0;for(je[1]=0,Be=1;15>Be;++Be){if(Ie[Be]>1<<Be)return 0;je[Be+1]=je[Be]+Ie[Be]}for(De=0;De<Ne;++De)Be=xe[De],0<xe[De]&&(Fe[je[Be]++]=De);if(je[15]==1)return(xe=new P).g=0,xe.value=Fe[0],B(pe,st,1,Ye,xe),Ye;var tt,ht=-1,it=Ye-1,Rt=0,Tt=1,er=1,Nt=1<<ye;for(De=0,Be=1,Ne=2;Be<=ye;++Be,Ne<<=1){if(Tt+=er<<=1,0>(er-=Ie[Be]))return 0;for(;0<Ie[Be];--Ie[Be])(xe=new P).g=Be,xe.value=Fe[De++],B(pe,st+Rt,Ne,Nt,xe),Rt=M(Rt,Be)}for(Be=ye+1,Ne=2;15>=Be;++Be,Ne<<=1){if(Tt+=er<<=1,0>(er-=Ie[Be]))return 0;for(;0<Ie[Be];--Ie[Be]){if(xe=new P,(Rt&it)!=ht){for(st+=Nt,tt=1<<(ht=Be)-ye;15>ht&&!(0>=(tt-=Ie[ht]));)++ht,tt<<=1;Ye+=Nt=1<<(tt=ht-ye),pe[ge+(ht=Rt&it)].g=tt+ye,pe[ge+ht].value=st-ge-ht}xe.g=Be-ye,xe.value=Fe[De++],B(pe,st+(Rt>>ye),Ne,Nt,xe),Rt=M(Rt,Be)}}return Tt!=2*je[15]-1?0:Ye}(F,W,Q,re,ce,he)}function P(){this.value=this.g=0}function A(){this.value=this.g=0}function j(){this.G=s(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Di,A)}function E(F,W,Q,re){t(F!=null),t(W!=null),t(2147483648>re),F.Ca=254,F.I=0,F.b=-8,F.Ka=0,F.oa=W,F.pa=Q,F.Jd=W,F.Yc=Q+re,F.Zc=4<=re?Q+re-4+1:Q,Z(F)}function w(F,W){for(var Q=0;0<W--;)Q|=D(F,128)<<W;return Q}function S(F,W){var Q=w(F,W);return z(F)?-Q:Q}function _(F,W,Q,re){var ce,he=0;for(t(F!=null),t(W!=null),t(4294967288>re),F.Sb=re,F.Ra=0,F.u=0,F.h=0,4<re&&(re=4),ce=0;ce<re;++ce)he+=W[Q+ce]<<8*ce;F.Ra=he,F.bb=re,F.oa=W,F.pa=Q}function k(F){for(;8<=F.u&&F.bb<F.Sb;)F.Ra>>>=8,F.Ra+=F.oa[F.pa+F.bb]<<ch-8>>>0,++F.bb,F.u-=8;K(F)&&(F.h=1,F.u=0)}function N(F,W){if(t(0<=W),!F.h&&W<=uh){var Q=H(F)&lh[W];return F.u+=W,k(F),Q}return F.h=1,F.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(F){return F.Ra>>>(F.u&ch-1)>>>0}function K(F){return t(F.bb<=F.Sb),F.h||F.bb==F.Sb&&F.u>ch}function J(F,W){F.u=W,F.h=K(F)}function V(F){F.u>=ep&&(t(F.u>=ep),k(F))}function Z(F){t(F!=null&&F.oa!=null),F.pa<F.Zc?(F.I=(F.oa[F.pa++]|F.I<<8)>>>0,F.b+=8):(t(F!=null&&F.oa!=null),F.pa<F.Yc?(F.b+=8,F.I=F.oa[F.pa++]|F.I<<8):F.Ka?F.b=0:(F.I<<=8,F.b+=8,F.Ka=1))}function z(F){return w(F,1)}function D(F,W){var Q=F.Ca;0>F.b&&Z(F);var re=F.b,ce=Q*W>>>8,he=(F.I>>>re>ce)+0;for(he?(Q-=ce,F.I-=ce+1<<re>>>0):Q=ce+1,re=Q,ce=0;256<=re;)ce+=8,re>>=8;return re=7^ce+ja[re],F.b-=re,F.Ca=(Q<<re)-1,he}function G(F,W,Q){F[W+0]=Q>>24&255,F[W+1]=Q>>16&255,F[W+2]=Q>>8&255,F[W+3]=Q>>0&255}function te(F,W){return F[W+0]<<0|F[W+1]<<8}function ae(F,W){return te(F,W)|F[W+2]<<16}function se(F,W){return te(F,W)|te(F,W+2)<<16}function le(F,W){var Q=1<<W;return t(F!=null),t(0<W),F.X=a(Q),F.X==null?0:(F.Mb=32-W,F.Xa=W,1)}function fe(F,W){t(F!=null),t(W!=null),t(F.Xa==W.Xa),n(W.X,0,F.X,0,1<<W.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function oe(F,W,Q,re){t(Q!=null),t(re!=null);var ce=Q[0],he=re[0];return ce==0&&(ce=(F*he+W/2)/W),he==0&&(he=(W*ce+F/2)/F),0>=ce||0>=he?0:(Q[0]=ce,re[0]=he,1)}function be(F,W){return F+(1<<W)-1>>>W}function ve(F,W){return((4278255360&F)+(4278255360&W)>>>0&4278255360)+((16711935&F)+(16711935&W)>>>0&16711935)>>>0}function we(F,W){T[W]=function(Q,re,ce,he,pe,ge,ye){var xe;for(xe=0;xe<pe;++xe){var Ne=T[F](ge[ye+xe-1],ce,he+xe);ge[ye+xe]=ve(Q[re+xe],Ne)}}}function Se(){this.ud=this.hd=this.jd=0}function Ae(F,W){return((4278124286&(F^W))>>>1)+(F&W)>>>0}function Pe(F){return 0<=F&&256>F?F:0>F?0:255<F?255:void 0}function Re(F,W){return Pe(F+(F-W+.5>>1))}function Ue(F,W,Q){return Math.abs(W-Q)-Math.abs(F-Q)}function We(F,W,Q,re,ce,he,pe){for(re=he[pe-1],Q=0;Q<ce;++Q)he[pe+Q]=re=ve(F[W+Q],re)}function Ke(F,W,Q,re,ce){var he;for(he=0;he<Q;++he){var pe=F[W+he],ge=pe>>8&255,ye=16711935&(ye=(ye=16711935&pe)+((ge<<16)+ge));re[ce+he]=(4278255360&pe)+ye>>>0}}function Qe(F,W){W.jd=F>>0&255,W.hd=F>>8&255,W.ud=F>>16&255}function rt(F,W,Q,re,ce,he){var pe;for(pe=0;pe<re;++pe){var ge=W[Q+pe],ye=ge>>>8,xe=ge,Ne=255&(Ne=(Ne=ge>>>16)+((F.jd<<24>>24)*(ye<<24>>24)>>>5));xe=255&(xe=(xe=xe+((F.hd<<24>>24)*(ye<<24>>24)>>>5))+((F.ud<<24>>24)*(Ne<<24>>24)>>>5)),ce[he+pe]=(4278255360&ge)+(Ne<<16)+xe}}function dt(F,W,Q,re,ce){T[W]=function(he,pe,ge,ye,xe,Ne,Fe,Be,De){for(ye=Fe;ye<Be;++ye)for(Fe=0;Fe<De;++Fe)xe[Ne++]=ce(ge[re(he[pe++])])},T[F]=function(he,pe,ge,ye,xe,Ne,Fe){var Be=8>>he.b,De=he.Ea,st=he.K[0],Ye=he.w;if(8>Be)for(he=(1<<he.b)-1,Ye=(1<<Be)-1;pe<ge;++pe){var Ie,je=0;for(Ie=0;Ie<De;++Ie)Ie&he||(je=re(ye[xe++])),Ne[Fe++]=ce(st[je&Ye]),je>>=Be}else T["VP8LMapColor"+Q](ye,xe,st,Ye,Ne,Fe,pe,ge,De)}}function Ge(F,W,Q,re,ce){for(Q=W+Q;W<Q;){var he=F[W++];re[ce++]=he>>16&255,re[ce++]=he>>8&255,re[ce++]=he>>0&255}}function Et(F,W,Q,re,ce){for(Q=W+Q;W<Q;){var he=F[W++];re[ce++]=he>>16&255,re[ce++]=he>>8&255,re[ce++]=he>>0&255,re[ce++]=he>>24&255}}function et(F,W,Q,re,ce){for(Q=W+Q;W<Q;){var he=(pe=F[W++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;re[ce++]=he,re[ce++]=pe}}function ut(F,W,Q,re,ce){for(Q=W+Q;W<Q;){var he=(pe=F[W++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;re[ce++]=he,re[ce++]=pe}}function ot(F,W,Q,re,ce){for(Q=W+Q;W<Q;){var he=F[W++];re[ce++]=he>>0&255,re[ce++]=he>>8&255,re[ce++]=he>>16&255}}function xt(F,W,Q,re,ce,he){if(he==0)for(Q=W+Q;W<Q;)G(re,((he=F[W++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ce+=32;else n(re,ce,F,W,Q)}function wt(F,W){T[W][0]=T[F+"0"],T[W][1]=T[F+"1"],T[W][2]=T[F+"2"],T[W][3]=T[F+"3"],T[W][4]=T[F+"4"],T[W][5]=T[F+"5"],T[W][6]=T[F+"6"],T[W][7]=T[F+"7"],T[W][8]=T[F+"8"],T[W][9]=T[F+"9"],T[W][10]=T[F+"10"],T[W][11]=T[F+"11"],T[W][12]=T[F+"12"],T[W][13]=T[F+"13"],T[W][14]=T[F+"0"],T[W][15]=T[F+"0"]}function _e(F){return F==B2||F==z2||F==pg||F==U2}function kt(){this.eb=[],this.size=this.A=this.fb=0}function Je(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kt,this.f.kb=new Je,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ve(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(F){return alert("todo:WebPSamplerProcessPlane"),F.T}function Ct(F,W){var Q=F.T,re=W.ba.f.RGBA,ce=re.eb,he=re.fb+F.ka*re.A,pe=ks[W.ba.S],ge=F.y,ye=F.O,xe=F.f,Ne=F.N,Fe=F.ea,Be=F.W,De=W.cc,st=W.dc,Ye=W.Mc,Ie=W.Nc,je=F.ka,tt=F.ka+F.T,ht=F.U,it=ht+1>>1;for(je==0?pe(ge,ye,null,null,xe,Ne,Fe,Be,xe,Ne,Fe,Be,ce,he,null,null,ht):(pe(W.ec,W.fc,ge,ye,De,st,Ye,Ie,xe,Ne,Fe,Be,ce,he-re.A,ce,he,ht),++Q);je+2<tt;je+=2)De=xe,st=Ne,Ye=Fe,Ie=Be,Ne+=F.Rc,Be+=F.Rc,he+=2*re.A,pe(ge,(ye+=2*F.fa)-F.fa,ge,ye,De,st,Ye,Ie,xe,Ne,Fe,Be,ce,he-re.A,ce,he,ht);return ye+=F.fa,F.j+tt<F.o?(n(W.ec,W.fc,ge,ye,ht),n(W.cc,W.dc,xe,Ne,it),n(W.Mc,W.Nc,Fe,Be,it),Q--):1&tt||pe(ge,ye,null,null,xe,Ne,Fe,Be,xe,Ne,Fe,Be,ce,he+re.A,null,null,ht),Q}function jt(F,W,Q){var re=F.F,ce=[F.J];if(re!=null){var he=F.U,pe=W.ba.S,ge=pe==dg||pe==pg;W=W.ba.f.RGBA;var ye=[0],xe=F.ka;ye[0]=F.T,F.Kb&&(xe==0?--ye[0]:(--xe,ce[0]-=F.width),F.j+F.ka+F.T==F.o&&(ye[0]=F.o-F.j-xe));var Ne=W.eb;xe=W.fb+xe*W.A,F=un(re,ce[0],F.width,he,ye,Ne,xe+(ge?0:3),W.A),t(Q==ye),F&&_e(pe)&&_s(Ne,xe,ge,he,ye,W.A)}return 0}function Xt(F){var W=F.ma,Q=W.ba.S,re=11>Q,ce=Q==fg||Q==hg||Q==dg||Q==F2||Q==12||_e(Q);if(W.memory=null,W.Ib=null,W.Jb=null,W.Nd=null,!Qd(W.Oa,F,ce?11:12))return 0;if(ce&&_e(Q)&&mt(),F.da)alert("todo:use_scaling");else{if(re){if(W.Ib=yt,F.Kb){if(Q=F.U+1>>1,W.memory=a(F.U+2*Q),W.memory==null)return 0;W.ec=W.memory,W.fc=0,W.cc=W.ec,W.dc=W.fc+F.U,W.Mc=W.cc,W.Nc=W.dc+Q,W.Ib=Ct,mt()}}else alert("todo:EmitYUV");ce&&(W.Jb=jt,re&&Le())}if(re&&!K8){for(F=0;256>F;++F)nU[F]=89858*(F-128)+gg>>mg,sU[F]=-22014*(F-128)+gg,aU[F]=-45773*(F-128),iU[F]=113618*(F-128)+gg>>mg;for(F=op;F<q2;++F)W=76283*(F-16)+gg>>mg,oU[F-op]=$r(W,255),lU[F-op]=$r(W+8>>4,15);K8=1}return 1}function ar(F){var W=F.ma,Q=F.U,re=F.T;return t(!(1&F.ka)),0>=Q||0>=re?0:(Q=W.Ib(F,W),W.Jb!=null&&W.Jb(F,W,Q),W.Dc+=Q,1)}function Ut(F){F.ma.memory=null}function vt(F,W,Q,re){return N(F,8)!=47?0:(W[0]=N(F,14)+1,Q[0]=N(F,14)+1,re[0]=N(F,1),N(F,3)!=0?0:!F.h)}function ur(F,W){if(4>F)return F+1;var Q=F-2>>1;return(2+(1&F)<<Q)+N(W,Q)+1}function Ft(F,W){return 120<W?W-120:1<=(Q=((Q=$z[W-1])>>4)*F+(8-(15&Q)))?Q:1;var Q}function Ee(F,W,Q){var re=H(Q),ce=F[W+=255&re].g-8;return 0<ce&&(J(Q,Q.u+8),re=H(Q),W+=F[W].value,W+=re&(1<<ce)-1),J(Q,Q.u+F[W].g),F[W].value}function Oe(F,W,Q){return Q.g+=F.g,Q.value+=F.value<<W>>>0,t(8>=Q.g),F.g}function He(F,W,Q){var re=F.xc;return t((W=re==0?0:F.vc[F.md*(Q>>re)+(W>>re)])<F.Wb),F.Ya[W]}function ft(F,W,Q,re){var ce=F.ab,he=F.c*W,pe=F.C;W=pe+W;var ge=Q,ye=re;for(re=F.Ta,Q=F.Ua;0<ce--;){var xe=F.gc[ce],Ne=pe,Fe=W,Be=ge,De=ye,st=(ye=re,ge=Q,xe.Ea);switch(t(Ne<Fe),t(Fe<=xe.nc),xe.hc){case 2:ig(Be,De,(Fe-Ne)*st,ye,ge);break;case 0:var Ye=Ne,Ie=Fe,je=ye,tt=ge,ht=(Nt=xe).Ea;Ye==0&&(L2(Be,De,null,null,1,je,tt),We(Be,De+1,0,0,ht-1,je,tt+1),De+=ht,tt+=ht,++Ye);for(var it=1<<Nt.b,Rt=it-1,Tt=be(ht,Nt.b),er=Nt.K,Nt=Nt.w+(Ye>>Nt.b)*Tt;Ye<Ie;){var Ur=er,Kr=Nt,jr=1;for(tp(Be,De,je,tt-ht,1,je,tt);jr<ht;){var Tr=(jr&~Rt)+it;Tr>ht&&(Tr=ht),(0,pu[Ur[Kr++]>>8&15])(Be,De+ +jr,je,tt+jr-ht,Tr-jr,je,tt+jr),jr=Tr}De+=ht,tt+=ht,++Ye&Rt||(Nt+=Tt)}Fe!=xe.nc&&n(ye,ge-st,ye,ge+(Fe-Ne-1)*st,st);break;case 1:for(st=Be,Ie=De,ht=(Be=xe.Ea)-(tt=Be&~(je=(De=1<<xe.b)-1)),Ye=be(Be,xe.b),it=xe.K,xe=xe.w+(Ne>>xe.b)*Ye;Ne<Fe;){for(Rt=it,Tt=xe,er=new Se,Nt=Ie+tt,Ur=Ie+Be;Ie<Nt;)Qe(Rt[Tt++],er),Vc(er,st,Ie,De,ye,ge),Ie+=De,ge+=De;Ie<Ur&&(Qe(Rt[Tt++],er),Vc(er,st,Ie,ht,ye,ge),Ie+=ht,ge+=ht),++Ne&je||(xe+=Ye)}break;case 3:if(Be==ye&&De==ge&&0<xe.b){for(Ie=ye,Be=st=ge+(Fe-Ne)*st-(tt=(Fe-Ne)*be(xe.Ea,xe.b)),De=ye,je=ge,Ye=[],tt=(ht=tt)-1;0<=tt;--tt)Ye[tt]=De[je+tt];for(tt=ht-1;0<=tt;--tt)Ie[Be+tt]=Ye[tt];bs(xe,Ne,Fe,ye,st,ye,ge)}else bs(xe,Ne,Fe,Be,De,ye,ge)}ge=re,ye=Q}ye!=Q&&n(re,Q,ge,ye,he)}function qt(F,W){var Q=F.V,re=F.Ba+F.c*F.C,ce=W-F.C;if(t(W<=F.l.o),t(16>=ce),0<ce){var he=F.l,pe=F.Ta,ge=F.Ua,ye=he.width;if(ft(F,ce,Q,re),ce=ge=[ge],t((Q=F.C)<(re=W)),t(he.v<he.va),re>he.o&&(re=he.o),Q<he.j){var xe=he.j-Q;Q=he.j,ce[0]+=xe*ye}if(Q>=re?Q=0:(ce[0]+=4*he.v,he.ka=Q-he.j,he.U=he.va-he.v,he.T=re-Q,Q=1),Q){if(ge=ge[0],11>(Q=F.ca).S){var Ne=Q.f.RGBA,Fe=(re=Q.S,ce=he.U,he=he.T,xe=Ne.eb,Ne.A),Be=he;for(Ne=Ne.fb+F.Ma*Ne.A;0<Be--;){var De=pe,st=ge,Ye=ce,Ie=xe,je=Ne;switch(re){case cg:Ma(De,st,Ye,Ie,je);break;case fg:va(De,st,Ye,Ie,je);break;case B2:va(De,st,Ye,Ie,je),_s(Ie,je,0,Ye,1,0);break;case F8:sl(De,st,Ye,Ie,je);break;case hg:xt(De,st,Ye,Ie,je,1);break;case z2:xt(De,st,Ye,Ie,je,1),_s(Ie,je,0,Ye,1,0);break;case dg:xt(De,st,Ye,Ie,je,0);break;case pg:xt(De,st,Ye,Ie,je,0),_s(Ie,je,1,Ye,1,0);break;case F2:mu(De,st,Ye,Ie,je);break;case U2:mu(De,st,Ye,Ie,je),ln(Ie,je,Ye,1,0);break;case B8:al(De,st,Ye,Ie,je);break;default:t(0)}ge+=ye,Ne+=Fe}F.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(F.Ma<=Q.height)}}F.C=W,t(F.C<=F.i)}function _t(F){var W;if(0<F.ua)return 0;for(W=0;W<F.Wb;++W){var Q=F.Ya[W].G,re=F.Ya[W].H;if(0<Q[1][re[1]+0].g||0<Q[2][re[2]+0].g||0<Q[3][re[3]+0].g)return 0}return 1}function Lt(F,W,Q,re,ce,he){if(F.Z!=0){var pe=F.qd,ge=F.rd;for(t(bu[F.Z]!=null);W<Q;++W)bu[F.Z](pe,ge,re,ce,re,ce,he),pe=re,ge=ce,ce+=he;F.qd=pe,F.rd=ge}}function Mt(F,W){var Q=F.l.ma,re=Q.Z==0||Q.Z==1?F.l.j:F.C;if(re=F.C<re?re:F.C,t(W<=F.l.o),W>re){var ce=F.l.width,he=Q.ca,pe=Q.tb+ce*re,ge=F.V,ye=F.Ba+F.c*re,xe=F.gc;t(F.ab==1),t(xe[0].hc==3),ag(xe[0],re,W,ge,ye,he,pe),Lt(Q,re,W,he,pe,ce)}F.C=F.Ma=W}function It(F,W,Q,re,ce,he,pe){var ge=F.$/re,ye=F.$%re,xe=F.m,Ne=F.s,Fe=Q+F.$,Be=Fe;ce=Q+re*ce;var De=Q+re*he,st=280+Ne.ua,Ye=F.Pb?ge:16777216,Ie=0<Ne.ua?Ne.Wa:null,je=Ne.wc,tt=Fe<De?He(Ne,ye,ge):null;t(F.C<he),t(De<=ce);var ht=!1;e:for(;;){for(;ht||Fe<De;){var it=0;if(ge>=Ye){var Rt=Fe-Q;t((Ye=F).Pb),Ye.wd=Ye.m,Ye.xd=Rt,0<Ye.s.ua&&fe(Ye.s.Wa,Ye.s.vb),Ye=ge+Hz}if(ye&je||(tt=He(Ne,ye,ge)),t(tt!=null),tt.Qb&&(W[Fe]=tt.qb,ht=!0),!ht)if(V(xe),tt.jc){it=xe,Rt=W;var Tt=Fe,er=tt.pd[H(it)&Di-1];t(tt.jc),256>er.g?(J(it,it.u+er.g),Rt[Tt]=er.value,it=0):(J(it,it.u+er.g-256),t(256<=er.value),it=er.value),it==0&&(ht=!0)}else it=Ee(tt.G[0],tt.H[0],xe);if(xe.h)break;if(ht||256>it){if(!ht)if(tt.nd)W[Fe]=(tt.qb|it<<8)>>>0;else{if(V(xe),ht=Ee(tt.G[1],tt.H[1],xe),V(xe),Rt=Ee(tt.G[2],tt.H[2],xe),Tt=Ee(tt.G[3],tt.H[3],xe),xe.h)break;W[Fe]=(Tt<<24|ht<<16|it<<8|Rt)>>>0}if(ht=!1,++Fe,++ye>=re&&(ye=0,++ge,pe!=null&&ge<=he&&!(ge%16)&&pe(F,ge),Ie!=null))for(;Be<Fe;)it=W[Be++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else if(280>it){if(it=ur(it-256,xe),Rt=Ee(tt.G[4],tt.H[4],xe),V(xe),Rt=Ft(re,Rt=ur(Rt,xe)),xe.h)break;if(Fe-Q<Rt||ce-Fe<it)break e;for(Tt=0;Tt<it;++Tt)W[Fe+Tt]=W[Fe+Tt-Rt];for(Fe+=it,ye+=it;ye>=re;)ye-=re,++ge,pe!=null&&ge<=he&&!(ge%16)&&pe(F,ge);if(t(Fe<=ce),ye&je&&(tt=He(Ne,ye,ge)),Ie!=null)for(;Be<Fe;)it=W[Be++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else{if(!(it<st))break e;for(ht=it-280,t(Ie!=null);Be<Fe;)it=W[Be++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it;it=Fe,t(!(ht>>>(Rt=Ie).Xa)),W[it]=Rt.X[ht],ht=!0}ht||t(xe.h==K(xe))}if(F.Pb&&xe.h&&Fe<ce)t(F.m.h),F.a=5,F.m=F.wd,F.$=F.xd,0<F.s.ua&&fe(F.s.vb,F.s.Wa);else{if(xe.h)break e;pe!=null&&pe(F,ge>he?he:ge),F.a=0,F.$=Fe-Q}return 1}return F.a=3,0}function Ht(F){t(F!=null),F.vc=null,F.yc=null,F.Ya=null;var W=F.Wa;W!=null&&(W.X=null),F.vb=null,t(F!=null)}function Ot(){var F=new sh;return F==null?null:(F.a=0,F.xb=V8,wt("Predictor","VP8LPredictors"),wt("Predictor","VP8LPredictors_C"),wt("PredictorAdd","VP8LPredictorsAdd"),wt("PredictorAdd","VP8LPredictorsAdd_C"),ig=Ke,Vc=rt,Ma=Ge,va=Et,mu=et,al=ut,sl=ot,T.VP8LMapColor32b=fh,T.VP8LMapColor8b=sg,F)}function Zt(F,W,Q,re,ce){var he=1,pe=[F],ge=[W],ye=re.m,xe=re.s,Ne=null,Fe=0;e:for(;;){if(Q)for(;he&&N(ye,1);){var Be=pe,De=ge,st=re,Ye=1,Ie=st.m,je=st.gc[st.ab],tt=N(Ie,2);if(st.Oc&1<<tt)he=0;else{switch(st.Oc|=1<<tt,je.hc=tt,je.Ea=Be[0],je.nc=De[0],je.K=[null],++st.ab,t(4>=st.ab),tt){case 0:case 1:je.b=N(Ie,3)+2,Ye=Zt(be(je.Ea,je.b),be(je.nc,je.b),0,st,je.K),je.K=je.K[0];break;case 3:var ht,it=N(Ie,8)+1,Rt=16<it?0:4<it?1:2<it?2:3;if(Be[0]=be(je.Ea,Rt),je.b=Rt,ht=Ye=Zt(it,1,0,st,je.K)){var Tt,er=it,Nt=je,Ur=1<<(8>>Nt.b),Kr=a(Ur);if(Kr==null)ht=0;else{var jr=Nt.K[0],Tr=Nt.w;for(Kr[0]=Nt.K[0][0],Tt=1;Tt<1*er;++Tt)Kr[Tt]=ve(jr[Tr+Tt],Kr[Tt-1]);for(;Tt<4*Ur;++Tt)Kr[Tt]=0;Nt.K[0]=null,Nt.K[0]=Kr,ht=1}}Ye=ht;break;case 2:break;default:t(0)}he=Ye}}if(pe=pe[0],ge=ge[0],he&&N(ye,1)&&!(he=1<=(Fe=N(ye,4))&&11>=Fe)){re.a=3;break e}var rn;if(rn=he)t:{var Jr,br,ei,Ra=re,ti=pe,La=ge,Gr=Fe,Qa=Q,Ja=Ra.m,_i=Ra.s,Fi=[null],ba=1,As=0,Po=qz[Gr];r:for(;;){if(Qa&&N(Ja,1)){var Si=N(Ja,3)+2,cl=be(ti,Si),Kc=be(La,Si),gh=cl*Kc;if(!Zt(cl,Kc,0,Ra,Fi))break r;for(Fi=Fi[0],_i.xc=Si,Jr=0;Jr<gh;++Jr){var wu=Fi[Jr]>>8&65535;Fi[Jr]=wu,wu>=ba&&(ba=wu+1)}}if(Ja.h)break r;for(br=0;5>br;++br){var Fn=z8[br];!br&&0<Gr&&(Fn+=1<<Gr),As<Fn&&(As=Fn)}var H2=s(ba*Po,P),Y8=ba,Z8=s(Y8,j);if(Z8==null)var yg=null;else t(65536>=Y8),yg=Z8;var lp=a(As);if(yg==null||lp==null||H2==null){Ra.a=1;break r}var bg=H2;for(Jr=ei=0;Jr<ba;++Jr){var Zs=yg[Jr],vh=Zs.G,yh=Zs.H,Q8=0,wg=1,J8=0;for(br=0;5>br;++br){Fn=z8[br],vh[br]=bg,yh[br]=ei,!br&&0<Gr&&(Fn+=1<<Gr);i:{var xg,W2=Fn,_g=Ra,up=lp,fU=bg,hU=ei,K2=0,xu=_g.m,dU=N(xu,1);if(i(up,0,0,W2),dU){var pU=N(xu,1)+1,mU=N(xu,1),ek=N(xu,mU==0?1:8);up[ek]=1,pU==2&&(up[ek=N(xu,8)]=1);var Sg=1}else{var tk=a(19),rk=N(xu,4)+4;if(19<rk){_g.a=3;var kg=0;break i}for(xg=0;xg<rk;++xg)tk[Vz[xg]]=N(xu,3);var G2=void 0,cp=void 0,nk=_g,gU=tk,Ag=W2,ik=up,X2=0,_u=nk.m,ak=8,sk=s(128,P);n:for(;L(sk,0,7,gU,19);){if(N(_u,1)){var vU=2+2*N(_u,3);if((G2=2+N(_u,vU))>Ag)break n}else G2=Ag;for(cp=0;cp<Ag&&G2--;){V(_u);var ok=sk[0+(127&H(_u))];J(_u,_u.u+ok.g);var bh=ok.value;if(16>bh)ik[cp++]=bh,bh!=0&&(ak=bh);else{var yU=bh==16,lk=bh-16,bU=zz[lk],uk=N(_u,Bz[lk])+bU;if(cp+uk>Ag)break n;for(var wU=yU?ak:0;0<uk--;)ik[cp++]=wU}}X2=1;break n}X2||(nk.a=3),Sg=X2}(Sg=Sg&&!xu.h)&&(K2=L(fU,hU,8,up,W2)),Sg&&K2!=0?kg=K2:(_g.a=3,kg=0)}if(kg==0)break r;if(wg&&Uz[br]==1&&(wg=bg[ei].g==0),Q8+=bg[ei].g,ei+=kg,3>=br){var fp,Y2=lp[0];for(fp=1;fp<Fn;++fp)lp[fp]>Y2&&(Y2=lp[fp]);J8+=Y2}}if(Zs.nd=wg,Zs.Qb=0,wg&&(Zs.qb=(vh[3][yh[3]+0].value<<24|vh[1][yh[1]+0].value<<16|vh[2][yh[2]+0].value)>>>0,Q8==0&&256>vh[0][yh[0]+0].value&&(Zs.Qb=1,Zs.qb+=vh[0][yh[0]+0].value<<8)),Zs.jc=!Zs.Qb&&6>J8,Zs.jc){var Eg,fl=Zs;for(Eg=0;Eg<Di;++Eg){var Su=Eg,ku=fl.pd[Su],Cg=fl.G[0][fl.H[0]+Su];256<=Cg.value?(ku.g=Cg.g+256,ku.value=Cg.value):(ku.g=0,ku.value=0,Su>>=Oe(Cg,8,ku),Su>>=Oe(fl.G[1][fl.H[1]+Su],16,ku),Su>>=Oe(fl.G[2][fl.H[2]+Su],0,ku),Oe(fl.G[3][fl.H[3]+Su],24,ku))}}}_i.vc=Fi,_i.Wb=ba,_i.Ya=yg,_i.yc=H2,rn=1;break t}rn=0}if(!(he=rn)){re.a=3;break e}if(0<Fe){if(xe.ua=1<<Fe,!le(xe.Wa,Fe)){re.a=1,he=0;break e}}else xe.ua=0;var Z2=re,ck=pe,xU=ge,Q2=Z2.s,J2=Q2.xc;if(Z2.c=ck,Z2.i=xU,Q2.md=be(ck,J2),Q2.wc=J2==0?-1:(1<<J2)-1,Q){re.xb=Qz;break e}if((Ne=a(pe*ge))==null){re.a=1,he=0;break e}he=(he=It(re,Ne,0,pe,ge,ge,null))&&!ye.h;break e}return he?(ce!=null?ce[0]=Ne:(t(Ne==null),t(Q)),re.$=0,Q||Ht(xe)):Ht(xe),he}function Sr(F,W){var Q=F.c*F.i,re=Q+W+16*W;return t(F.c<=W),F.V=a(re),F.V==null?(F.Ta=null,F.Ua=0,F.a=1,0):(F.Ta=F.V,F.Ua=F.Ba+Q+W,1)}function wr(F,W){var Q=F.C,re=W-Q,ce=F.V,he=F.Ba+F.c*Q;for(t(W<=F.l.o);0<re;){var pe=16<re?16:re,ge=F.l.ma,ye=F.l.width,xe=ye*pe,Ne=ge.ca,Fe=ge.tb+ye*Q,Be=F.Ta,De=F.Ua;ft(F,pe,ce,he),Kn(Be,De,Ne,Fe,xe),Lt(ge,Q,Q+pe,Ne,Fe,ye),re-=pe,ce+=pe*F.c,Q+=pe}t(Q==W),F.C=F.Ma=W}function Rr(){this.ub=this.yd=this.td=this.Rb=0}function Br(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function on(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function de(){this.Yb=function(){var F=[];return function W(Q,re,ce){for(var he=ce[re],pe=0;pe<he&&(Q.push(ce.length>re+1?[]:0),!(ce.length<re+1));pe++)W(Q[pe],re+1,ce)}(F,0,[3,11]),F}()}function Ce(){this.jb=a(3),this.Wc=o([4,8],de),this.Xc=o([4,17],de)}function qe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Xe(){this.ld=this.La=this.dd=this.tc=0}function At(){this.Na=this.la=0}function nt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ct(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xe),this.Y=0,this.ya=Array(new ct),this.aa=0,this.l=new Kt}function nr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function lr(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Rr,this.Kc=new Br,this.ed=new qe,this.Qa=new on,this.Ic=this.$c=this.Aa=0,this.D=new yr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,nt),this.Pa=new Ce,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nr),this.Hd=0,this.rb=Array(new At),this.sb=0,this.wa=Array(new Xe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ct),this.L=this.aa=0,this.gd=o([4,2],Xe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _r(){var F=new lr;return F!=null&&(F.a=0,F.sc="OK",F.cb=0,F.Xb=0,sp||(sp=mn)),F}function Qt(F,W,Q){return F.a==0&&(F.a=W,F.sc=Q,F.cb=0),0}function kr(F,W,Q){return 3<=Q&&F[W+0]==157&&F[W+1]==1&&F[W+2]==42}function zr(F,W){if(F==null)return 0;if(F.a=0,F.sc="OK",W==null)return Qt(F,2,"null VP8Io passed to VP8GetHeaders()");var Q=W.data,re=W.w,ce=W.ha;if(4>ce)return Qt(F,7,"Truncated header.");var he=Q[re+0]|Q[re+1]<<8|Q[re+2]<<16,pe=F.Od;if(pe.Rb=!(1&he),pe.td=he>>1&7,pe.yd=he>>4&1,pe.ub=he>>5,3<pe.td)return Qt(F,3,"Incorrect keyframe parameters.");if(!pe.yd)return Qt(F,4,"Frame not displayable.");re+=3,ce-=3;var ge=F.Kc;if(pe.Rb){if(7>ce)return Qt(F,7,"cannot parse picture header");if(!kr(Q,re,ce))return Qt(F,3,"Bad code word");ge.c=16383&(Q[re+4]<<8|Q[re+3]),ge.Td=Q[re+4]>>6,ge.i=16383&(Q[re+6]<<8|Q[re+5]),ge.Ud=Q[re+6]>>6,re+=7,ce-=7,F.za=ge.c+15>>4,F.Ub=ge.i+15>>4,W.width=ge.c,W.height=ge.i,W.Da=0,W.j=0,W.v=0,W.va=W.width,W.o=W.height,W.da=0,W.ib=W.width,W.hb=W.height,W.U=W.width,W.T=W.height,i((he=F.Pa).jb,0,255,he.jb.length),t((he=F.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,i(he.Zb,0,0,he.Zb.length),i(he.Lb,0,0,he.Lb)}if(pe.ub>ce)return Qt(F,7,"bad partition length");E(he=F.m,Q,re,pe.ub),re+=pe.ub,ce-=pe.ub,pe.Rb&&(ge.Ld=z(he),ge.Kd=z(he)),ge=F.Qa;var ye,xe=F.Pa;if(t(he!=null),t(ge!=null),ge.Cb=z(he),ge.Cb){if(ge.Bb=z(he),z(he)){for(ge.Fb=z(he),ye=0;4>ye;++ye)ge.Zb[ye]=z(he)?S(he,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=z(he)?S(he,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)xe.jb[ye]=z(he)?w(he,8):255}else ge.Bb=0;if(he.Ka)return Qt(F,3,"cannot parse segment header");if((ge=F.ed).zd=z(he),ge.Tb=w(he,6),ge.wb=w(he,3),ge.Pc=z(he),ge.Pc&&z(he)){for(xe=0;4>xe;++xe)z(he)&&(ge.vd[xe]=S(he,6));for(xe=0;4>xe;++xe)z(he)&&(ge.od[xe]=S(he,6))}if(F.L=ge.Tb==0?0:ge.zd?1:2,he.Ka)return Qt(F,3,"cannot parse filter header");var Ne=ce;if(ce=ye=re,re=ye+Ne,ge=Ne,F.Xb=(1<<w(F.m,2))-1,Ne<3*(xe=F.Xb))Q=7;else{for(ye+=3*xe,ge-=3*xe,Ne=0;Ne<xe;++Ne){var Fe=Q[ce+0]|Q[ce+1]<<8|Q[ce+2]<<16;Fe>ge&&(Fe=ge),E(F.Jc[+Ne],Q,ye,Fe),ye+=Fe,ge-=Fe,ce+=3}E(F.Jc[+xe],Q,ye,ge),Q=ye<re?0:5}if(Q!=0)return Qt(F,Q,"cannot parse partitions");for(Q=w(ye=F.m,7),ce=z(ye)?S(ye,4):0,re=z(ye)?S(ye,4):0,ge=z(ye)?S(ye,4):0,xe=z(ye)?S(ye,4):0,ye=z(ye)?S(ye,4):0,Ne=F.Qa,Fe=0;4>Fe;++Fe){if(Ne.Cb){var Be=Ne.Zb[Fe];Ne.Fb||(Be+=Q)}else{if(0<Fe){F.pb[Fe]=F.pb[0];continue}Be=Q}var De=F.pb[Fe];De.Sc[0]=V2[$r(Be+ce,127)],De.Sc[1]=$2[$r(Be+0,127)],De.Eb[0]=2*V2[$r(Be+re,127)],De.Eb[1]=101581*$2[$r(Be+ge,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=V2[$r(Be+xe,117)],De.Qc[1]=$2[$r(Be+ye,127)],De.lc=Be+ye}if(!pe.Rb)return Qt(F,4,"Not a key frame.");for(z(he),pe=F.Pa,Q=0;4>Q;++Q){for(ce=0;8>ce;++ce)for(re=0;3>re;++re)for(ge=0;11>ge;++ge)xe=D(he,Yz[Q][ce][re][ge])?w(he,8):Gz[Q][ce][re][ge],pe.Wc[Q][ce].Yb[re][ge]=xe;for(ce=0;17>ce;++ce)pe.Xc[Q][ce]=pe.Wc[Q][Zz[ce]]}return F.kc=z(he),F.kc&&(F.Bd=w(he,8)),F.cb=1}function mn(F,W,Q,re,ce,he,pe){var ge=W[ce].Yb[Q];for(Q=0;16>ce;++ce){if(!D(F,ge[Q+0]))return ce;for(;!D(F,ge[Q+1]);)if(ge=W[++ce].Yb[0],Q=0,ce==16)return 16;var ye=W[ce+1].Yb;if(D(F,ge[Q+2])){var xe=F,Ne=0;if(D(xe,(Be=ge)[(Fe=Q)+3]))if(D(xe,Be[Fe+6])){for(ge=0,Fe=2*(Ne=D(xe,Be[Fe+8]))+(Be=D(xe,Be[Fe+9+Ne])),Ne=0,Be=Wz[Fe];Be[ge];++ge)Ne+=Ne+D(xe,Be[ge]);Ne+=3+(8<<Fe)}else D(xe,Be[Fe+7])?(Ne=7+2*D(xe,165),Ne+=D(xe,145)):Ne=5+D(xe,159);else Ne=D(xe,Be[Fe+4])?3+D(xe,Be[Fe+5]):2;ge=ye[2]}else Ne=1,ge=ye[1];ye=pe+Kz[ce],0>(xe=F).b&&Z(xe);var Fe,Be=xe.b,De=(Fe=xe.Ca>>1)-(xe.I>>Be)>>31;--xe.b,xe.Ca+=De,xe.Ca|=1,xe.I-=(Fe+1&De)<<Be,he[ye]=((Ne^De)-De)*re[(0<ce)+0]}return 16}function Tn(F){var W=F.rb[F.sb-1];W.la=0,W.Na=0,i(F.zc,0,0,F.zc.length),F.ja=0}function wi(F,W){if(F==null)return 0;if(W==null)return Qt(F,2,"NULL VP8Io parameter in VP8Decode().");if(!F.cb&&!zr(F,W))return 0;if(t(F.cb),W.ac==null||W.ac(W)){W.ob&&(F.L=0);var Q=vg[F.L];if(F.L==2?(F.yb=0,F.zb=0):(F.yb=W.v-Q>>4,F.zb=W.j-Q>>4,0>F.yb&&(F.yb=0),0>F.zb&&(F.zb=0)),F.Va=W.o+15+Q>>4,F.Hb=W.va+15+Q>>4,F.Hb>F.za&&(F.Hb=F.za),F.Va>F.Ub&&(F.Va=F.Ub),0<F.L){var re=F.ed;for(Q=0;4>Q;++Q){var ce;if(F.Qa.Cb){var he=F.Qa.Lb[Q];F.Qa.Fb||(he+=re.Tb)}else he=re.Tb;for(ce=0;1>=ce;++ce){var pe=F.gd[Q][ce],ge=he;if(re.Pc&&(ge+=re.vd[0],ce&&(ge+=re.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<re.wb&&(ye=4<re.wb?ye>>2:ye>>1)>9-re.wb&&(ye=9-re.wb),1>ye&&(ye=1),pe.dd=ye,pe.tc=2*ge+ye,pe.ld=40<=ge?2:15<=ge?1:0}else pe.tc=0;pe.La=ce}}}Q=0}else Qt(F,6,"Frame setup failed"),Q=F.a;if(Q=Q==0){if(Q){F.$c=0,0<F.Aa||(F.Ic=cU);e:{Q=F.Ic,re=4*(ye=F.za);var xe=32*ye,Ne=ye+1,Fe=0<F.L?ye*(0<F.Aa?2:1):0,Be=(F.Aa==2?2:1)*ye;if((pe=re+832+(ce=3*(16*Q+vg[F.L])/2*xe)+(he=F.Fa!=null&&0<F.Fa.length?F.Kc.c*F.Kc.i:0))!=pe)Q=0;else{if(pe>F.Vb){if(F.Vb=0,F.Ec=a(pe),F.Fc=0,F.Ec==null){Q=Qt(F,1,"no memory during frame initialization.");break e}F.Vb=pe}pe=F.Ec,ge=F.Fc,F.Ac=pe,F.Bc=ge,ge+=re,F.Gd=s(xe,nr),F.Hd=0,F.rb=s(Ne+1,At),F.sb=1,F.wa=Fe?s(Fe,Xe):null,F.Y=0,F.D.Nb=0,F.D.wa=F.wa,F.D.Y=F.Y,0<F.Aa&&(F.D.Y+=ye),t(!0),F.oc=pe,F.pc=ge,ge+=832,F.ya=s(Be,ct),F.aa=0,F.D.ya=F.ya,F.D.aa=F.aa,F.Aa==2&&(F.D.aa+=ye),F.R=16*ye,F.B=8*ye,ye=(xe=vg[F.L])*F.R,xe=xe/2*F.B,F.sa=pe,F.ta=ge+ye,F.qa=F.sa,F.ra=F.ta+16*Q*F.R+xe,F.Ha=F.qa,F.Ia=F.ra+8*Q*F.B+xe,F.$c=0,ge+=ce,F.mb=he?pe:null,F.nb=he?ge:null,t(ge+he<=F.Fc+F.Vb),Tn(F),i(F.Ac,F.Bc,0,re),Q=1}}if(Q){if(W.ka=0,W.y=F.sa,W.O=F.ta,W.f=F.qa,W.N=F.ra,W.ea=F.Ha,W.Vd=F.Ia,W.fa=F.R,W.Rc=F.B,W.F=null,W.J=0,!lg){for(Q=-255;255>=Q;++Q)fi[255+Q]=0>Q?-Q:Q;for(Q=-1020;1020>=Q;++Q)ll[1020+Q]=-128>Q?-128:127<Q?127:Q;for(Q=-112;112>=Q;++Q)ap[112+Q]=-16>Q?-16:15<Q?15:Q;for(Q=-255;510>=Q;++Q)mh[255+Q]=0>Q?0:255<Q?255:Q;lg=1}hh=Pn,ol=vr,rp=Gi,ya=Ar,ws=Ia,Wn=xr,dh=su,og=Ks,np=lu,$c=Uc,qc=ou,gu=rl,Hc=uu,ph=Ao,Wc=tl,vu=Ya,ip=ci,xs=ah,Ys[0]=ys,Ys[1]=Oa,Ys[2]=ga,Ys[3]=So,Ys[4]=nh,Ys[5]=ru,Ys[6]=Ga,Ys[7]=Rc,Ys[8]=iu,Ys[9]=nu,yu[0]=ma,yu[1]=_o,yu[2]=xi,yu[3]=Mi,yu[4]=Wr,yu[5]=qs,yu[6]=vs,ul[0]=Ws,ul[1]=gs,ul[2]=ih,ul[3]=Hs,ul[4]=Vr,ul[5]=Lc,ul[6]=Dc,Q=1}else Q=0}Q&&(Q=function(De,st){for(De.M=0;De.M<De.Va;++De.M){var Ye,Ie=De.Jc[De.M&De.Xb],je=De.m,tt=De;for(Ye=0;Ye<tt.za;++Ye){var ht=je,it=tt,Rt=it.Ac,Tt=it.Bc+4*Ye,er=it.zc,Nt=it.ya[it.aa+Ye];if(it.Qa.Bb?Nt.$b=D(ht,it.Pa.jb[0])?2+D(ht,it.Pa.jb[2]):D(ht,it.Pa.jb[1]):Nt.$b=0,it.kc&&(Nt.Ad=D(ht,it.Bd)),Nt.Za=!D(ht,145)+0,Nt.Za){var Ur=Nt.Ob,Kr=0;for(it=0;4>it;++it){var jr,Tr=er[0+it];for(jr=0;4>jr;++jr){Tr=Xz[Rt[Tt+jr]][Tr];for(var rn=U8[D(ht,Tr[0])];0<rn;)rn=U8[2*rn+D(ht,Tr[rn])];Tr=-rn,Rt[Tt+jr]=Tr}n(Ur,Kr,Rt,Tt,4),Kr+=4,er[0+it]=Tr}}else Tr=D(ht,156)?D(ht,128)?1:3:D(ht,163)?2:0,Nt.Ob[0]=Tr,i(Rt,Tt,Tr,4),i(er,0,Tr,4);Nt.Dd=D(ht,142)?D(ht,114)?D(ht,183)?1:3:2:0}if(tt.m.Ka)return Qt(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(tt=Ie,ht=(je=De).rb[je.sb-1],Rt=je.rb[je.sb+je.ja],Ye=je.ya[je.aa+je.ja],Tt=je.kc?Ye.Ad:0)ht.la=Rt.la=0,Ye.Za||(ht.Na=Rt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Jr,br;if(ht=Rt,Rt=tt,Tt=je.Pa.Xc,er=je.ya[je.aa+je.ja],Nt=je.pb[er.$b],it=er.ad,Ur=0,Kr=je.rb[je.sb-1],Tr=jr=0,i(it,Ur,0,384),er.Za)var ei=0,Ra=Tt[3];else{rn=a(16);var ti=ht.Na+Kr.Na;if(ti=sp(Rt,Tt[1],ti,Nt.Eb,0,rn,0),ht.Na=Kr.Na=(0<ti)+0,1<ti)hh(rn,0,it,Ur);else{var La=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)it[Ur+rn]=La}ei=1,Ra=Tt[0]}var Gr=15&ht.la,Qa=15&Kr.la;for(rn=0;4>rn;++rn){var Ja=1&Qa;for(La=br=0;4>La;++La)Gr=Gr>>1|(Ja=(ti=sp(Rt,Ra,ti=Ja+(1&Gr),Nt.Sc,ei,it,Ur))>ei)<<7,br=br<<2|(3<ti?3:1<ti?2:it[Ur+0]!=0),Ur+=16;Gr>>=4,Qa=Qa>>1|Ja<<7,jr=(jr<<8|br)>>>0}for(Ra=Gr,ei=Qa>>4,Jr=0;4>Jr;Jr+=2){for(br=0,Gr=ht.la>>4+Jr,Qa=Kr.la>>4+Jr,rn=0;2>rn;++rn){for(Ja=1&Qa,La=0;2>La;++La)ti=Ja+(1&Gr),Gr=Gr>>1|(Ja=0<(ti=sp(Rt,Tt[2],ti,Nt.Qc,0,it,Ur)))<<3,br=br<<2|(3<ti?3:1<ti?2:it[Ur+0]!=0),Ur+=16;Gr>>=2,Qa=Qa>>1|Ja<<5}Tr|=br<<4*Jr,Ra|=Gr<<4<<Jr,ei|=(240&Qa)<<Jr}ht.la=Ra,Kr.la=ei,er.Hc=jr,er.Gc=Tr,er.ia=43690&Tr?0:Nt.ia,Tt=!(jr|Tr)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[Ye.$b][Ye.Za],je.wa[je.Y+je.ja].La|=!Tt),tt.Ka)return Qt(De,7,"Premature end-of-file encountered.")}if(Tn(De),je=st,tt=1,Ye=(Ie=De).D,ht=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Ye.M=Ie.M,Ye.uc=ht,Co(Ie,Ye),tt=1,Ye=(br=Ie.D).Nb,ht=(Tr=vg[Ie.L])*Ie.R,Rt=Tr/2*Ie.B,rn=16*Ye*Ie.R,La=8*Ye*Ie.B,Tt=Ie.sa,er=Ie.ta-ht+rn,Nt=Ie.qa,it=Ie.ra-Rt+La,Ur=Ie.Ha,Kr=Ie.Ia-Rt+La,Qa=(Gr=br.M)==0,jr=Gr>=Ie.Va-1,Ie.Aa==2&&Co(Ie,br),br.uc)for(Ja=(ti=Ie).D.M,t(ti.D.uc),br=ti.yb;br<ti.Hb;++br){ei=br,Ra=Ja;var _i=(Fi=(Fn=ti).D).Nb;Jr=Fn.R;var Fi=Fi.wa[Fi.Y+ei],ba=Fn.sa,As=Fn.ta+16*_i*Jr+16*ei,Po=Fi.dd,Si=Fi.tc;if(Si!=0)if(t(3<=Si),Fn.L==1)0<ei&&vu(ba,As,Jr,Si+4),Fi.La&&xs(ba,As,Jr,Si),0<Ra&&Wc(ba,As,Jr,Si+4),Fi.La&&ip(ba,As,Jr,Si);else{var cl=Fn.B,Kc=Fn.qa,gh=Fn.ra+8*_i*cl+8*ei,wu=Fn.Ha,Fn=Fn.Ia+8*_i*cl+8*ei;_i=Fi.ld,0<ei&&(og(ba,As,Jr,Si+4,Po,_i),$c(Kc,gh,wu,Fn,cl,Si+4,Po,_i)),Fi.La&&(gu(ba,As,Jr,Si,Po,_i),ph(Kc,gh,wu,Fn,cl,Si,Po,_i)),0<Ra&&(dh(ba,As,Jr,Si+4,Po,_i),np(Kc,gh,wu,Fn,cl,Si+4,Po,_i)),Fi.La&&(qc(ba,As,Jr,Si,Po,_i),Hc(Kc,gh,wu,Fn,cl,Si,Po,_i))}}if(Ie.ia&&alert("todo:DitherRow"),je.put!=null){if(br=16*Gr,Gr=16*(Gr+1),Qa?(je.y=Ie.sa,je.O=Ie.ta+rn,je.f=Ie.qa,je.N=Ie.ra+La,je.ea=Ie.Ha,je.W=Ie.Ia+La):(br-=Tr,je.y=Tt,je.O=er,je.f=Nt,je.N=it,je.ea=Ur,je.W=Kr),jr||(Gr-=Tr),Gr>je.o&&(Gr=je.o),je.F=null,je.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&br<Gr&&(je.J=du(Ie,je,br,Gr-br),je.F=Ie.mb,je.F==null&&je.F.length==0)){tt=Qt(Ie,3,"Could not decode alpha data.");break e}br<je.j&&(Tr=je.j-br,br=je.j,t(!(1&Tr)),je.O+=Ie.R*Tr,je.N+=Ie.B*(Tr>>1),je.W+=Ie.B*(Tr>>1),je.F!=null&&(je.J+=je.width*Tr)),br<Gr&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=br-je.j,je.U=je.va-je.v,je.T=Gr-br,tt=je.put(je))}Ye+1!=Ie.Ic||jr||(n(Ie.sa,Ie.ta-ht,Tt,er+16*Ie.R,ht),n(Ie.qa,Ie.ra-Rt,Nt,it+8*Ie.B,Rt),n(Ie.Ha,Ie.Ia-Rt,Ur,Kr+8*Ie.B,Rt))}if(!tt)return Qt(De,6,"Output aborted.")}return 1}(F,W)),W.bc!=null&&W.bc(W),Q&=1}return Q?(F.cb=0,Q):0}function Ln(F,W,Q,re,ce){ce=F[W+Q+32*re]+(ce>>3),F[W+Q+32*re]=-256&ce?0>ce?0:255:ce}function pa(F,W,Q,re,ce,he){Ln(F,W,0,Q,re+ce),Ln(F,W,1,Q,re+he),Ln(F,W,2,Q,re-he),Ln(F,W,3,Q,re-ce)}function Hr(F){return(20091*F>>16)+F}function Dn(F,W,Q,re){var ce,he=0,pe=a(16);for(ce=0;4>ce;++ce){var ge=F[W+0]+F[W+8],ye=F[W+0]-F[W+8],xe=(35468*F[W+4]>>16)-Hr(F[W+12]),Ne=Hr(F[W+4])+(35468*F[W+12]>>16);pe[he+0]=ge+Ne,pe[he+1]=ye+xe,pe[he+2]=ye-xe,pe[he+3]=ge-Ne,he+=4,W++}for(ce=he=0;4>ce;++ce)ge=(F=pe[he+0]+4)+pe[he+8],ye=F-pe[he+8],xe=(35468*pe[he+4]>>16)-Hr(pe[he+12]),Ln(Q,re,0,0,ge+(Ne=Hr(pe[he+4])+(35468*pe[he+12]>>16))),Ln(Q,re,1,0,ye+xe),Ln(Q,re,2,0,ye-xe),Ln(Q,re,3,0,ge-Ne),he++,re+=32}function xr(F,W,Q,re){var ce=F[W+0]+4,he=35468*F[W+4]>>16,pe=Hr(F[W+4]),ge=35468*F[W+1]>>16;pa(Q,re,0,ce+pe,F=Hr(F[W+1]),ge),pa(Q,re,1,ce+he,F,ge),pa(Q,re,2,ce-he,F,ge),pa(Q,re,3,ce-pe,F,ge)}function vr(F,W,Q,re,ce){Dn(F,W,Q,re),ce&&Dn(F,W+16,Q,re+4)}function Gi(F,W,Q,re){ol(F,W+0,Q,re,1),ol(F,W+32,Q,re+128,1)}function Ar(F,W,Q,re){var ce;for(F=F[W+0]+4,ce=0;4>ce;++ce)for(W=0;4>W;++W)Ln(Q,re,W,ce,F)}function Ia(F,W,Q,re){F[W+0]&&ya(F,W+0,Q,re),F[W+16]&&ya(F,W+16,Q,re+4),F[W+32]&&ya(F,W+32,Q,re+128),F[W+48]&&ya(F,W+48,Q,re+128+4)}function Pn(F,W,Q,re){var ce,he=a(16);for(ce=0;4>ce;++ce){var pe=F[W+0+ce]+F[W+12+ce],ge=F[W+4+ce]+F[W+8+ce],ye=F[W+4+ce]-F[W+8+ce],xe=F[W+0+ce]-F[W+12+ce];he[0+ce]=pe+ge,he[8+ce]=pe-ge,he[4+ce]=xe+ye,he[12+ce]=xe-ye}for(ce=0;4>ce;++ce)pe=(F=he[0+4*ce]+3)+he[3+4*ce],ge=he[1+4*ce]+he[2+4*ce],ye=he[1+4*ce]-he[2+4*ce],xe=F-he[3+4*ce],Q[re+0]=pe+ge>>3,Q[re+16]=xe+ye>>3,Q[re+32]=pe-ge>>3,Q[re+48]=xe-ye>>3,re+=64}function Hn(F,W,Q){var re,ce=W-32,he=Za,pe=255-F[ce-1];for(re=0;re<Q;++re){var ge,ye=he,xe=pe+F[W-1];for(ge=0;ge<Q;++ge)F[W+ge]=ye[xe+F[ce+ge]];W+=32}}function Oa(F,W){Hn(F,W,4)}function gs(F,W){Hn(F,W,8)}function _o(F,W){Hn(F,W,16)}function xi(F,W){var Q;for(Q=0;16>Q;++Q)n(F,W+32*Q,F,W-32,16)}function Mi(F,W){var Q;for(Q=16;0<Q;--Q)i(F,W,F[W-1],16),W+=32}function $s(F,W,Q){var re;for(re=0;16>re;++re)i(W,Q+32*re,F,16)}function ma(F,W){var Q,re=16;for(Q=0;16>Q;++Q)re+=F[W-1+32*Q]+F[W+Q-32];$s(re>>5,F,W)}function Wr(F,W){var Q,re=8;for(Q=0;16>Q;++Q)re+=F[W-1+32*Q];$s(re>>4,F,W)}function qs(F,W){var Q,re=8;for(Q=0;16>Q;++Q)re+=F[W+Q-32];$s(re>>4,F,W)}function vs(F,W){$s(128,F,W)}function rr(F,W,Q){return F+2*W+Q+2>>2}function ga(F,W){var Q,re=W-32;for(re=new Uint8Array([rr(F[re-1],F[re+0],F[re+1]),rr(F[re+0],F[re+1],F[re+2]),rr(F[re+1],F[re+2],F[re+3]),rr(F[re+2],F[re+3],F[re+4])]),Q=0;4>Q;++Q)n(F,W+32*Q,re,0,re.length)}function So(F,W){var Q=F[W-1],re=F[W-1+32],ce=F[W-1+64],he=F[W-1+96];G(F,W+0,16843009*rr(F[W-1-32],Q,re)),G(F,W+32,16843009*rr(Q,re,ce)),G(F,W+64,16843009*rr(re,ce,he)),G(F,W+96,16843009*rr(ce,he,he))}function ys(F,W){var Q,re=4;for(Q=0;4>Q;++Q)re+=F[W+Q-32]+F[W-1+32*Q];for(re>>=3,Q=0;4>Q;++Q)i(F,W+32*Q,re,4)}function nh(F,W){var Q=F[W-1+0],re=F[W-1+32],ce=F[W-1+64],he=F[W-1-32],pe=F[W+0-32],ge=F[W+1-32],ye=F[W+2-32],xe=F[W+3-32];F[W+0+96]=rr(re,ce,F[W-1+96]),F[W+1+96]=F[W+0+64]=rr(Q,re,ce),F[W+2+96]=F[W+1+64]=F[W+0+32]=rr(he,Q,re),F[W+3+96]=F[W+2+64]=F[W+1+32]=F[W+0+0]=rr(pe,he,Q),F[W+3+64]=F[W+2+32]=F[W+1+0]=rr(ge,pe,he),F[W+3+32]=F[W+2+0]=rr(ye,ge,pe),F[W+3+0]=rr(xe,ye,ge)}function Ga(F,W){var Q=F[W+1-32],re=F[W+2-32],ce=F[W+3-32],he=F[W+4-32],pe=F[W+5-32],ge=F[W+6-32],ye=F[W+7-32];F[W+0+0]=rr(F[W+0-32],Q,re),F[W+1+0]=F[W+0+32]=rr(Q,re,ce),F[W+2+0]=F[W+1+32]=F[W+0+64]=rr(re,ce,he),F[W+3+0]=F[W+2+32]=F[W+1+64]=F[W+0+96]=rr(ce,he,pe),F[W+3+32]=F[W+2+64]=F[W+1+96]=rr(he,pe,ge),F[W+3+64]=F[W+2+96]=rr(pe,ge,ye),F[W+3+96]=rr(ge,ye,ye)}function ru(F,W){var Q=F[W-1+0],re=F[W-1+32],ce=F[W-1+64],he=F[W-1-32],pe=F[W+0-32],ge=F[W+1-32],ye=F[W+2-32],xe=F[W+3-32];F[W+0+0]=F[W+1+64]=he+pe+1>>1,F[W+1+0]=F[W+2+64]=pe+ge+1>>1,F[W+2+0]=F[W+3+64]=ge+ye+1>>1,F[W+3+0]=ye+xe+1>>1,F[W+0+96]=rr(ce,re,Q),F[W+0+64]=rr(re,Q,he),F[W+0+32]=F[W+1+96]=rr(Q,he,pe),F[W+1+32]=F[W+2+96]=rr(he,pe,ge),F[W+2+32]=F[W+3+96]=rr(pe,ge,ye),F[W+3+32]=rr(ge,ye,xe)}function Rc(F,W){var Q=F[W+0-32],re=F[W+1-32],ce=F[W+2-32],he=F[W+3-32],pe=F[W+4-32],ge=F[W+5-32],ye=F[W+6-32],xe=F[W+7-32];F[W+0+0]=Q+re+1>>1,F[W+1+0]=F[W+0+64]=re+ce+1>>1,F[W+2+0]=F[W+1+64]=ce+he+1>>1,F[W+3+0]=F[W+2+64]=he+pe+1>>1,F[W+0+32]=rr(Q,re,ce),F[W+1+32]=F[W+0+96]=rr(re,ce,he),F[W+2+32]=F[W+1+96]=rr(ce,he,pe),F[W+3+32]=F[W+2+96]=rr(he,pe,ge),F[W+3+64]=rr(pe,ge,ye),F[W+3+96]=rr(ge,ye,xe)}function nu(F,W){var Q=F[W-1+0],re=F[W-1+32],ce=F[W-1+64],he=F[W-1+96];F[W+0+0]=Q+re+1>>1,F[W+2+0]=F[W+0+32]=re+ce+1>>1,F[W+2+32]=F[W+0+64]=ce+he+1>>1,F[W+1+0]=rr(Q,re,ce),F[W+3+0]=F[W+1+32]=rr(re,ce,he),F[W+3+32]=F[W+1+64]=rr(ce,he,he),F[W+3+64]=F[W+2+64]=F[W+0+96]=F[W+1+96]=F[W+2+96]=F[W+3+96]=he}function iu(F,W){var Q=F[W-1+0],re=F[W-1+32],ce=F[W-1+64],he=F[W-1+96],pe=F[W-1-32],ge=F[W+0-32],ye=F[W+1-32],xe=F[W+2-32];F[W+0+0]=F[W+2+32]=Q+pe+1>>1,F[W+0+32]=F[W+2+64]=re+Q+1>>1,F[W+0+64]=F[W+2+96]=ce+re+1>>1,F[W+0+96]=he+ce+1>>1,F[W+3+0]=rr(ge,ye,xe),F[W+2+0]=rr(pe,ge,ye),F[W+1+0]=F[W+3+32]=rr(Q,pe,ge),F[W+1+32]=F[W+3+64]=rr(re,Q,pe),F[W+1+64]=F[W+3+96]=rr(ce,re,Q),F[W+1+96]=rr(he,ce,re)}function ih(F,W){var Q;for(Q=0;8>Q;++Q)n(F,W+32*Q,F,W-32,8)}function Hs(F,W){var Q;for(Q=0;8>Q;++Q)i(F,W,F[W-1],8),W+=32}function Xa(F,W,Q){var re;for(re=0;8>re;++re)i(W,Q+32*re,F,8)}function Ws(F,W){var Q,re=8;for(Q=0;8>Q;++Q)re+=F[W+Q-32]+F[W-1+32*Q];Xa(re>>4,F,W)}function Lc(F,W){var Q,re=4;for(Q=0;8>Q;++Q)re+=F[W+Q-32];Xa(re>>3,F,W)}function Vr(F,W){var Q,re=4;for(Q=0;8>Q;++Q)re+=F[W-1+32*Q];Xa(re>>3,F,W)}function Dc(F,W){Xa(128,F,W)}function au(F,W,Q){var re=F[W-Q],ce=F[W+0],he=3*(ce-re)+D2[1020+F[W-2*Q]-F[W+Q]],pe=ug[112+(he+4>>3)];F[W-Q]=Za[255+re+ug[112+(he+3>>3)]],F[W+0]=Za[255+ce-pe]}function Fc(F,W,Q,re){var ce=F[W+0],he=F[W+Q];return Ss[255+F[W-2*Q]-F[W-Q]]>re||Ss[255+he-ce]>re}function Bc(F,W,Q,re){return 4*Ss[255+F[W-Q]-F[W+0]]+Ss[255+F[W-2*Q]-F[W+Q]]<=re}function zc(F,W,Q,re,ce){var he=F[W-3*Q],pe=F[W-2*Q],ge=F[W-Q],ye=F[W+0],xe=F[W+Q],Ne=F[W+2*Q],Fe=F[W+3*Q];return 4*Ss[255+ge-ye]+Ss[255+pe-xe]>re?0:Ss[255+F[W-4*Q]-he]<=ce&&Ss[255+he-pe]<=ce&&Ss[255+pe-ge]<=ce&&Ss[255+Fe-Ne]<=ce&&Ss[255+Ne-xe]<=ce&&Ss[255+xe-ye]<=ce}function tl(F,W,Q,re){var ce=2*re+1;for(re=0;16>re;++re)Bc(F,W+re,Q,ce)&&au(F,W+re,Q)}function Ya(F,W,Q,re){var ce=2*re+1;for(re=0;16>re;++re)Bc(F,W+re*Q,1,ce)&&au(F,W+re*Q,1)}function ci(F,W,Q,re){var ce;for(ce=3;0<ce;--ce)tl(F,W+=4*Q,Q,re)}function ah(F,W,Q,re){var ce;for(ce=3;0<ce;--ce)Ya(F,W+=4,Q,re)}function ko(F,W,Q,re,ce,he,pe,ge){for(he=2*he+1;0<ce--;){if(zc(F,W,Q,he,pe))if(Fc(F,W,Q,ge))au(F,W,Q);else{var ye=F,xe=W,Ne=Q,Fe=ye[xe-2*Ne],Be=ye[xe-Ne],De=ye[xe+0],st=ye[xe+Ne],Ye=ye[xe+2*Ne],Ie=27*(tt=D2[1020+3*(De-Be)+D2[1020+Fe-st]])+63>>7,je=18*tt+63>>7,tt=9*tt+63>>7;ye[xe-3*Ne]=Za[255+ye[xe-3*Ne]+tt],ye[xe-2*Ne]=Za[255+Fe+je],ye[xe-Ne]=Za[255+Be+Ie],ye[xe+0]=Za[255+De-Ie],ye[xe+Ne]=Za[255+st-je],ye[xe+2*Ne]=Za[255+Ye-tt]}W+=re}}function Ri(F,W,Q,re,ce,he,pe,ge){for(he=2*he+1;0<ce--;){if(zc(F,W,Q,he,pe))if(Fc(F,W,Q,ge))au(F,W,Q);else{var ye=F,xe=W,Ne=Q,Fe=ye[xe-Ne],Be=ye[xe+0],De=ye[xe+Ne],st=ug[112+((Ye=3*(Be-Fe))+4>>3)],Ye=ug[112+(Ye+3>>3)],Ie=st+1>>1;ye[xe-2*Ne]=Za[255+ye[xe-2*Ne]+Ie],ye[xe-Ne]=Za[255+Fe+Ye],ye[xe+0]=Za[255+Be-st],ye[xe+Ne]=Za[255+De-Ie]}W+=re}}function su(F,W,Q,re,ce,he){ko(F,W,Q,1,16,re,ce,he)}function Ks(F,W,Q,re,ce,he){ko(F,W,1,Q,16,re,ce,he)}function ou(F,W,Q,re,ce,he){var pe;for(pe=3;0<pe;--pe)Ri(F,W+=4*Q,Q,1,16,re,ce,he)}function rl(F,W,Q,re,ce,he){var pe;for(pe=3;0<pe;--pe)Ri(F,W+=4,1,Q,16,re,ce,he)}function lu(F,W,Q,re,ce,he,pe,ge){ko(F,W,ce,1,8,he,pe,ge),ko(Q,re,ce,1,8,he,pe,ge)}function Uc(F,W,Q,re,ce,he,pe,ge){ko(F,W,1,ce,8,he,pe,ge),ko(Q,re,1,ce,8,he,pe,ge)}function uu(F,W,Q,re,ce,he,pe,ge){Ri(F,W+4*ce,ce,1,8,he,pe,ge),Ri(Q,re+4*ce,ce,1,8,he,pe,ge)}function Ao(F,W,Q,re,ce,he,pe,ge){Ri(F,W+4,1,ce,8,he,pe,ge),Ri(Q,re+4,1,ce,8,he,pe,ge)}function nl(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ve,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function cu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function il(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fu(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new P}function sh(){this.xb=this.a=0,this.l=new Kt,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fu,this.ab=0,this.gc=s(4,il),this.Oc=0}function Gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Eo(F,W,Q,re,ce,he,pe){for(F=F==null?0:F[W+0],W=0;W<pe;++W)ce[he+W]=F+Q[re+W]&255,F=ce[he+W]}function hu(F,W,Q,re,ce,he,pe){var ge;if(F==null)Eo(null,null,Q,re,ce,he,pe);else for(ge=0;ge<pe;++ge)ce[he+ge]=F[W+ge]+Q[re+ge]&255}function Xi(F,W,Q,re,ce,he,pe){if(F==null)Eo(null,null,Q,re,ce,he,pe);else{var ge,ye=F[W+0],xe=ye,Ne=ye;for(ge=0;ge<pe;++ge)xe=Ne+(ye=F[W+ge])-xe,Ne=Q[re+ge]+(-256&xe?0>xe?0:255:xe)&255,xe=ye,ce[he+ge]=Ne}}function du(F,W,Q,re){var ce=W.width,he=W.o;if(t(F!=null&&W!=null),0>Q||0>=re||Q+re>he)return null;if(!F.Cc){if(F.ga==null){var pe;if(F.ga=new Gs,(pe=F.ga==null)||(pe=W.width*W.o,t(F.Gb.length==0),F.Gb=a(pe),F.Uc=0,F.Gb==null?pe=0:(F.mb=F.Gb,F.nb=F.Uc,F.rc=null,pe=1),pe=!pe),!pe){pe=F.ga;var ge=F.Fa,ye=F.P,xe=F.qc,Ne=F.mb,Fe=F.nb,Be=ye+1,De=xe-1,st=pe.l;if(t(ge!=null&&Ne!=null&&W!=null),bu[0]=null,bu[1]=Eo,bu[2]=hu,bu[3]=Xi,pe.ca=Ne,pe.tb=Fe,pe.c=W.width,pe.i=W.height,t(0<pe.c&&0<pe.i),1>=xe)W=0;else if(pe.$a=ge[ye+0]>>0&3,pe.Z=ge[ye+0]>>2&3,pe.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||ye)W=0;else if(st.put=ar,st.ac=Xt,st.bc=Ut,st.ma=pe,st.width=W.width,st.height=W.height,st.Da=W.Da,st.v=W.v,st.va=W.va,st.j=W.j,st.o=W.o,pe.$a)e:{t(pe.$a==1),W=Ot();t:for(;;){if(W==null){W=0;break e}if(t(pe!=null),pe.mc=W,W.c=pe.c,W.i=pe.i,W.l=pe.l,W.l.ma=pe,W.l.width=pe.c,W.l.height=pe.i,W.a=0,_(W.m,ge,Be,De),!Zt(pe.c,pe.i,1,W,null)||(W.ab==1&&W.gc[0].hc==3&&_t(W.s)?(pe.ic=1,ge=W.c*W.i,W.Ta=null,W.Ua=0,W.V=a(ge),W.Ba=0,W.V==null?(W.a=1,W=0):W=1):(pe.ic=0,W=Sr(W,pe.c)),!W))break t;W=1;break e}pe.mc=null,W=0}else W=De>=pe.c*pe.i;pe=!W}if(pe)return null;F.ga.Lc!=1?F.Ga=0:re=he-Q}t(F.ga!=null),t(Q+re<=he);e:{if(W=(ge=F.ga).c,he=ge.l.o,ge.$a==0){if(Be=F.rc,De=F.Vc,st=F.Fa,ye=F.P+1+Q*W,xe=F.mb,Ne=F.nb+Q*W,t(ye<=F.P+F.qc),ge.Z!=0)for(t(bu[ge.Z]!=null),pe=0;pe<re;++pe)bu[ge.Z](Be,De,st,ye,xe,Ne,W),Be=xe,De=Ne,Ne+=W,ye+=W;else for(pe=0;pe<re;++pe)n(xe,Ne,st,ye,W),Be=xe,De=Ne,Ne+=W,ye+=W;F.rc=Be,F.Vc=De}else{if(t(ge.mc!=null),W=Q+re,t((pe=ge.mc)!=null),t(W<=pe.i),pe.C>=W)W=1;else if(ge.ic||Le(),ge.ic){ge=pe.V,Be=pe.Ba,De=pe.c;var Ye=pe.i,Ie=(st=1,ye=pe.$/De,xe=pe.$%De,Ne=pe.m,Fe=pe.s,pe.$),je=De*Ye,tt=De*W,ht=Fe.wc,it=Ie<tt?He(Fe,xe,ye):null;t(Ie<=je),t(W<=Ye),t(_t(Fe));t:for(;;){for(;!Ne.h&&Ie<tt;){if(xe&ht||(it=He(Fe,xe,ye)),t(it!=null),V(Ne),256>(Ye=Ee(it.G[0],it.H[0],Ne)))ge[Be+Ie]=Ye,++Ie,++xe>=De&&(xe=0,++ye<=W&&!(ye%16)&&Mt(pe,ye));else{if(!(280>Ye)){st=0;break t}Ye=ur(Ye-256,Ne);var Rt,Tt=Ee(it.G[4],it.H[4],Ne);if(V(Ne),!(Ie>=(Tt=Ft(De,Tt=ur(Tt,Ne)))&&je-Ie>=Ye)){st=0;break t}for(Rt=0;Rt<Ye;++Rt)ge[Be+Ie+Rt]=ge[Be+Ie+Rt-Tt];for(Ie+=Ye,xe+=Ye;xe>=De;)xe-=De,++ye<=W&&!(ye%16)&&Mt(pe,ye);Ie<tt&&xe&ht&&(it=He(Fe,xe,ye))}t(Ne.h==K(Ne))}Mt(pe,ye>W?W:ye);break t}!st||Ne.h&&Ie<je?(st=0,pe.a=Ne.h?5:3):pe.$=Ie,W=st}else W=It(pe,pe.V,pe.Ba,pe.c,pe.i,W,wr);if(!W){re=0;break e}}Q+re>=he&&(F.Cc=1),re=1}if(!re)return null;if(F.Cc&&((re=F.ga)!=null&&(re.mc=null),F.ga=null,0<F.Ga))return alert("todo:WebPDequantizeLevels"),null}return F.nb+Q*ce}function X(F,W,Q,re,ce,he){for(;0<ce--;){var pe,ge=F,ye=W+(Q?1:0),xe=F,Ne=W+(Q?0:3);for(pe=0;pe<re;++pe){var Fe=xe[Ne+4*pe];Fe!=255&&(Fe*=32897,ge[ye+4*pe+0]=ge[ye+4*pe+0]*Fe>>23,ge[ye+4*pe+1]=ge[ye+4*pe+1]*Fe>>23,ge[ye+4*pe+2]=ge[ye+4*pe+2]*Fe>>23)}W+=he}}function ue(F,W,Q,re,ce){for(;0<re--;){var he;for(he=0;he<Q;++he){var pe=F[W+2*he+0],ge=15&(xe=F[W+2*he+1]),ye=4369*ge,xe=(240&xe|xe>>4)*ye>>16;F[W+2*he+0]=(240&pe|pe>>4)*ye>>16&240|(15&pe|pe<<4)*ye>>16>>4&15,F[W+2*he+1]=240&xe|ge}W+=ce}}function ke(F,W,Q,re,ce,he,pe,ge){var ye,xe,Ne=255;for(xe=0;xe<ce;++xe){for(ye=0;ye<re;++ye){var Fe=F[W+ye];he[pe+4*ye]=Fe,Ne&=Fe}W+=Q,pe+=ge}return Ne!=255}function Te(F,W,Q,re,ce){var he;for(he=0;he<ce;++he)Q[re+he]=F[W+he]>>8}function Le(){_s=X,ln=ue,un=ke,Kn=Te}function Ze(F,W,Q){T[F]=function(re,ce,he,pe,ge,ye,xe,Ne,Fe,Be,De,st,Ye,Ie,je,tt,ht){var it,Rt=ht-1>>1,Tt=ge[ye+0]|xe[Ne+0]<<16,er=Fe[Be+0]|De[st+0]<<16;t(re!=null);var Nt=3*Tt+er+131074>>2;for(W(re[ce+0],255&Nt,Nt>>16,Ye,Ie),he!=null&&(Nt=3*er+Tt+131074>>2,W(he[pe+0],255&Nt,Nt>>16,je,tt)),it=1;it<=Rt;++it){var Ur=ge[ye+it]|xe[Ne+it]<<16,Kr=Fe[Be+it]|De[st+it]<<16,jr=Tt+Ur+er+Kr+524296,Tr=jr+2*(Ur+er)>>3;Nt=Tr+Tt>>1,Tt=(jr=jr+2*(Tt+Kr)>>3)+Ur>>1,W(re[ce+2*it-1],255&Nt,Nt>>16,Ye,Ie+(2*it-1)*Q),W(re[ce+2*it-0],255&Tt,Tt>>16,Ye,Ie+(2*it-0)*Q),he!=null&&(Nt=jr+er>>1,Tt=Tr+Kr>>1,W(he[pe+2*it-1],255&Nt,Nt>>16,je,tt+(2*it-1)*Q),W(he[pe+2*it+0],255&Tt,Tt>>16,je,tt+(2*it+0)*Q)),Tt=Ur,er=Kr}1&ht||(Nt=3*Tt+er+131074>>2,W(re[ce+ht-1],255&Nt,Nt>>16,Ye,Ie+(ht-1)*Q),he!=null&&(Nt=3*er+Tt+131074>>2,W(he[pe+ht-1],255&Nt,Nt>>16,je,tt+(ht-1)*Q)))}}function mt(){ks[cg]=Jz,ks[fg]=$8,ks[F8]=eU,ks[hg]=q8,ks[dg]=H8,ks[F2]=W8,ks[B8]=tU,ks[B2]=$8,ks[z2]=q8,ks[pg]=H8,ks[U2]=W8}function Pt(F){return F&-16384?0>F?0:255:F>>rU}function U(F,W){return Pt((19077*F>>8)+(26149*W>>8)-14234)}function ee(F,W,Q){return Pt((19077*F>>8)-(6419*W>>8)-(13320*Q>>8)+8708)}function ne(F,W){return Pt((19077*F>>8)+(33050*W>>8)-17685)}function me(F,W,Q,re,ce){re[ce+0]=U(F,Q),re[ce+1]=ee(F,W,Q),re[ce+2]=ne(F,W)}function Me(F,W,Q,re,ce){re[ce+0]=ne(F,W),re[ce+1]=ee(F,W,Q),re[ce+2]=U(F,Q)}function ze(F,W,Q,re,ce){var he=ee(F,W,Q);W=he<<3&224|ne(F,W)>>3,re[ce+0]=248&U(F,Q)|he>>5,re[ce+1]=W}function gt(F,W,Q,re,ce){var he=240&ne(F,W)|15;re[ce+0]=240&U(F,Q)|ee(F,W,Q)>>4,re[ce+1]=he}function fr(F,W,Q,re,ce){re[ce+0]=255,me(F,W,Q,re,ce+1)}function Cr(F,W,Q,re,ce){Me(F,W,Q,re,ce),re[ce+3]=255}function hr(F,W,Q,re,ce){me(F,W,Q,re,ce),re[ce+3]=255}function $r(F,W){return 0>F?0:F>W?W:F}function tn(F,W,Q){T[F]=function(re,ce,he,pe,ge,ye,xe,Ne,Fe){for(var Be=Ne+(-2&Fe)*Q;Ne!=Be;)W(re[ce+0],he[pe+0],ge[ye+0],xe,Ne),W(re[ce+1],he[pe+0],ge[ye+0],xe,Ne+Q),ce+=2,++pe,++ye,Ne+=2*Q;1&Fe&&W(re[ce+0],he[pe+0],ge[ye+0],xe,Ne)}}function Xs(F,W,Q){return Q==0?F==0?W==0?6:5:W==0?4:0:Q}function Li(F,W,Q,re,ce){switch(F>>>30){case 3:ol(W,Q,re,ce,0);break;case 2:Wn(W,Q,re,ce);break;case 1:ya(W,Q,re,ce)}}function Co(F,W){var Q,re,ce=W.M,he=W.Nb,pe=F.oc,ge=F.pc+40,ye=F.oc,xe=F.pc+584,Ne=F.oc,Fe=F.pc+600;for(Q=0;16>Q;++Q)pe[ge+32*Q-1]=129;for(Q=0;8>Q;++Q)ye[xe+32*Q-1]=129,Ne[Fe+32*Q-1]=129;for(0<ce?pe[ge-1-32]=ye[xe-1-32]=Ne[Fe-1-32]=129:(i(pe,ge-32-1,127,21),i(ye,xe-32-1,127,9),i(Ne,Fe-32-1,127,9)),re=0;re<F.za;++re){var Be=W.ya[W.aa+re];if(0<re){for(Q=-1;16>Q;++Q)n(pe,ge+32*Q-4,pe,ge+32*Q+12,4);for(Q=-1;8>Q;++Q)n(ye,xe+32*Q-4,ye,xe+32*Q+4,4),n(Ne,Fe+32*Q-4,Ne,Fe+32*Q+4,4)}var De=F.Gd,st=F.Hd+re,Ye=Be.ad,Ie=Be.Hc;if(0<ce&&(n(pe,ge-32,De[st].y,0,16),n(ye,xe-32,De[st].f,0,8),n(Ne,Fe-32,De[st].ea,0,8)),Be.Za){var je=pe,tt=ge-32+16;for(0<ce&&(re>=F.za-1?i(je,tt,De[st].y[15],4):n(je,tt,De[st+1].y,0,4)),Q=0;4>Q;Q++)je[tt+128+Q]=je[tt+256+Q]=je[tt+384+Q]=je[tt+0+Q];for(Q=0;16>Q;++Q,Ie<<=2)je=pe,tt=ge+G8[Q],Ys[Be.Ob[Q]](je,tt),Li(Ie,Ye,16*+Q,je,tt)}else if(je=Xs(re,ce,Be.Ob[0]),yu[je](pe,ge),Ie!=0)for(Q=0;16>Q;++Q,Ie<<=2)Li(Ie,Ye,16*+Q,pe,ge+G8[Q]);for(Q=Be.Gc,je=Xs(re,ce,Be.Dd),ul[je](ye,xe),ul[je](Ne,Fe),Ie=Ye,je=ye,tt=xe,255&(Be=Q>>0)&&(170&Be?rp(Ie,256,je,tt):ws(Ie,256,je,tt)),Be=Ne,Ie=Fe,255&(Q>>=8)&&(170&Q?rp(Ye,320,Be,Ie):ws(Ye,320,Be,Ie)),ce<F.Ub-1&&(n(De[st].y,0,pe,ge+480,16),n(De[st].f,0,ye,xe+224,8),n(De[st].ea,0,Ne,Fe+224,8)),Q=8*he*F.B,De=F.sa,st=F.ta+16*re+16*he*F.R,Ye=F.qa,Be=F.ra+8*re+Q,Ie=F.Ha,je=F.Ia+8*re+Q,Q=0;16>Q;++Q)n(De,st+Q*F.R,pe,ge+32*Q,16);for(Q=0;8>Q;++Q)n(Ye,Be+Q*F.B,ye,xe+32*Q,8),n(Ie,je+Q*F.B,Ne,Fe+32*Q,8)}}function To(F,W,Q,re,ce,he,pe,ge,ye){var xe=[0],Ne=[0],Fe=0,Be=ye!=null?ye.kd:0,De=ye??new cu;if(F==null||12>Q)return 7;De.data=F,De.w=W,De.ha=Q,W=[W],Q=[Q],De.gb=[De.gb];e:{var st=W,Ye=Q,Ie=De.gb;if(t(F!=null),t(Ye!=null),t(Ie!=null),Ie[0]=0,12<=Ye[0]&&!r(F,st[0],"RIFF")){if(r(F,st[0]+8,"WEBP")){Ie=3;break e}var je=se(F,st[0]+4);if(12>je||4294967286<je){Ie=3;break e}if(Be&&je>Ye[0]-8){Ie=7;break e}Ie[0]=je,st[0]+=12,Ye[0]-=12}Ie=0}if(Ie!=0)return Ie;for(je=0<De.gb[0],Q=Q[0];;){e:{var tt=F;Ye=W,Ie=Q;var ht=xe,it=Ne,Rt=st=[0];if((Nt=Fe=[Fe])[0]=0,8>Ie[0])Ie=7;else{if(!r(tt,Ye[0],"VP8X")){if(se(tt,Ye[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Tt=se(tt,Ye[0]+8),er=1+ae(tt,Ye[0]+12);if(2147483648<=er*(tt=1+ae(tt,Ye[0]+15))){Ie=3;break e}Rt!=null&&(Rt[0]=Tt),ht!=null&&(ht[0]=er),it!=null&&(it[0]=tt),Ye[0]+=18,Ie[0]-=18,Nt[0]=1}Ie=0}}if(Fe=Fe[0],st=st[0],Ie!=0)return Ie;if(Ye=!!(2&st),!je&&Fe)return 3;if(he!=null&&(he[0]=!!(16&st)),pe!=null&&(pe[0]=Ye),ge!=null&&(ge[0]=0),pe=xe[0],st=Ne[0],Fe&&Ye&&ye==null){Ie=0;break}if(4>Q){Ie=7;break}if(je&&Fe||!je&&!Fe&&!r(F,W[0],"ALPH")){Q=[Q],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Tt=F,Ie=W,je=Q;var Nt=De.gb;ht=De.na,it=De.P,Rt=De.Sa,er=22,t(Tt!=null),t(je!=null),tt=Ie[0];var Ur=je[0];for(t(ht!=null),t(Rt!=null),ht[0]=null,it[0]=null,Rt[0]=0;;){if(Ie[0]=tt,je[0]=Ur,8>Ur){Ie=7;break e}var Kr=se(Tt,tt+4);if(4294967286<Kr){Ie=3;break e}var jr=8+Kr+1&-2;if(er+=jr,0<Nt&&er>Nt){Ie=3;break e}if(!r(Tt,tt,"VP8 ")||!r(Tt,tt,"VP8L")){Ie=0;break e}if(Ur[0]<jr){Ie=7;break e}r(Tt,tt,"ALPH")||(ht[0]=Tt,it[0]=tt+8,Rt[0]=Kr),tt+=jr,Ur-=jr}}if(Q=Q[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Ie!=0)break}Q=[Q],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Nt=F,Ie=W,je=Q,ht=De.gb[0],it=De.Ja,Rt=De.xa,Tt=Ie[0],tt=!r(Nt,Tt,"VP8 "),er=!r(Nt,Tt,"VP8L"),t(Nt!=null),t(je!=null),t(it!=null),t(Rt!=null),8>je[0])Ie=7;else{if(tt||er){if(Nt=se(Nt,Tt+4),12<=ht&&Nt>ht-12){Ie=3;break e}if(Be&&Nt>je[0]-8){Ie=7;break e}it[0]=Nt,Ie[0]+=8,je[0]-=8,Rt[0]=er}else Rt[0]=5<=je[0]&&Nt[Tt+0]==47&&!(Nt[Tt+4]>>5),it[0]=je[0];Ie=0}if(Q=Q[0],De.Ja=De.Ja[0],De.xa=De.xa[0],W=W[0],Ie!=0)break;if(4294967286<De.Ja)return 3;if(ge==null||Ye||(ge[0]=De.xa?2:1),pe=[pe],st=[st],De.xa){if(5>Q){Ie=7;break}ge=pe,Be=st,Ye=he,F==null||5>Q?F=0:5<=Q&&F[W+0]==47&&!(F[W+4]>>5)?(je=[0],Nt=[0],ht=[0],_(it=new R,F,W,Q),vt(it,je,Nt,ht)?(ge!=null&&(ge[0]=je[0]),Be!=null&&(Be[0]=Nt[0]),Ye!=null&&(Ye[0]=ht[0]),F=1):F=0):F=0}else{if(10>Q){Ie=7;break}ge=st,F==null||10>Q||!kr(F,W+3,Q-3)?F=0:(Be=F[W+0]|F[W+1]<<8|F[W+2]<<16,Ye=16383&(F[W+7]<<8|F[W+6]),F=16383&(F[W+9]<<8|F[W+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=De.Ja||!Ye||!F?F=0:(pe&&(pe[0]=Ye),ge&&(ge[0]=F),F=1))}if(!F||(pe=pe[0],st=st[0],Fe&&(xe[0]!=pe||Ne[0]!=st)))return 3;ye!=null&&(ye[0]=De,ye.offset=W-ye.w,t(4294967286>W-ye.w),t(ye.offset==ye.ha-Q));break}return Ie==0||Ie==7&&Fe&&ye==null?(he!=null&&(he[0]|=De.na!=null&&0<De.na.length),re!=null&&(re[0]=pe),ce!=null&&(ce[0]=st),0):Ie}function Qd(F,W,Q){var re=W.width,ce=W.height,he=0,pe=0,ge=re,ye=ce;if(W.Da=F!=null&&0<F.Da,W.Da&&(ge=F.cd,ye=F.bd,he=F.v,pe=F.j,11>Q||(he&=-2,pe&=-2),0>he||0>pe||0>=ge||0>=ye||he+ge>re||pe+ye>ce))return 0;if(W.v=he,W.j=pe,W.va=he+ge,W.o=pe+ye,W.U=ge,W.T=ye,W.da=F!=null&&0<F.da,W.da){if(!oe(ge,ye,Q=[F.ib],he=[F.hb]))return 0;W.ib=Q[0],W.hb=he[0]}return W.ob=F!=null&&F.ob,W.Kb=F==null||!F.Sd,W.da&&(W.ob=W.ib<3*re/4&&W.hb<3*ce/4,W.Kb=0),1}function Jd(F){if(F==null)return 2;if(11>F.S){var W=F.f.RGBA;W.fb+=(F.height-1)*W.A,W.A=-W.A}else W=F.f.kb,F=F.height,W.O+=(F-1)*W.fa,W.fa=-W.fa,W.N+=(F-1>>1)*W.Ab,W.Ab=-W.Ab,W.W+=(F-1>>1)*W.Db,W.Db=-W.Db,W.F!=null&&(W.J+=(F-1)*W.lb,W.lb=-W.lb);return 0}function oh(F,W,Q,re){if(re==null||0>=F||0>=W)return 2;if(Q!=null){if(Q.Da){var ce=Q.cd,he=Q.bd,pe=-2&Q.v,ge=-2&Q.j;if(0>pe||0>ge||0>=ce||0>=he||pe+ce>F||ge+he>W)return 2;F=ce,W=he}if(Q.da){if(!oe(F,W,ce=[Q.ib],he=[Q.hb]))return 2;F=ce[0],W=he[0]}}re.width=F,re.height=W;e:{var ye=re.width,xe=re.height;if(F=re.S,0>=ye||0>=xe||!(F>=cg&&13>F))F=2;else{if(0>=re.Rd&&re.sd==null){pe=he=ce=W=0;var Ne=(ge=ye*X8[F])*xe;if(11>F||(he=(xe+1)/2*(W=(ye+1)/2),F==12&&(pe=(ce=ye)*xe)),(xe=a(Ne+2*he+pe))==null){F=1;break e}re.sd=xe,11>F?((ye=re.f.RGBA).eb=xe,ye.fb=0,ye.A=ge,ye.size=Ne):((ye=re.f.kb).y=xe,ye.O=0,ye.fa=ge,ye.Fd=Ne,ye.f=xe,ye.N=0+Ne,ye.Ab=W,ye.Cd=he,ye.ea=xe,ye.W=0+Ne+he,ye.Db=W,ye.Ed=he,F==12&&(ye.F=xe,ye.J=0+Ne+2*he),ye.Tc=pe,ye.lb=ce)}if(W=1,ce=re.S,he=re.width,pe=re.height,ce>=cg&&13>ce)if(11>ce)F=re.f.RGBA,W&=(ge=Math.abs(F.A))*(pe-1)+he<=F.size,W&=ge>=he*X8[ce],W&=F.eb!=null;else{F=re.f.kb,ge=(he+1)/2,Ne=(pe+1)/2,ye=Math.abs(F.fa),xe=Math.abs(F.Ab);var Fe=Math.abs(F.Db),Be=Math.abs(F.lb),De=Be*(pe-1)+he;W&=ye*(pe-1)+he<=F.Fd,W&=xe*(Ne-1)+ge<=F.Cd,W=(W&=Fe*(Ne-1)+ge<=F.Ed)&ye>=he&xe>=ge&Fe>=ge,W&=F.y!=null,W&=F.f!=null,W&=F.ea!=null,ce==12&&(W&=Be>=he,W&=De<=F.Tc,W&=F.F!=null)}else W=0;F=W?0:2}}return F!=0||Q!=null&&Q.fd&&(F=Jd(re)),F}var Di=64,lh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uh=24,ch=32,ep=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(F){return F},T.Predictor2=function(F,W,Q){return W[Q+0]},T.Predictor3=function(F,W,Q){return W[Q+1]},T.Predictor4=function(F,W,Q){return W[Q-1]},T.Predictor5=function(F,W,Q){return Ae(Ae(F,W[Q+1]),W[Q+0])},T.Predictor6=function(F,W,Q){return Ae(F,W[Q-1])},T.Predictor7=function(F,W,Q){return Ae(F,W[Q+0])},T.Predictor8=function(F,W,Q){return Ae(W[Q-1],W[Q+0])},T.Predictor9=function(F,W,Q){return Ae(W[Q+0],W[Q+1])},T.Predictor10=function(F,W,Q){return Ae(Ae(F,W[Q-1]),Ae(W[Q+0],W[Q+1]))},T.Predictor11=function(F,W,Q){var re=W[Q+0];return 0>=Ue(re>>24&255,F>>24&255,(W=W[Q-1])>>24&255)+Ue(re>>16&255,F>>16&255,W>>16&255)+Ue(re>>8&255,F>>8&255,W>>8&255)+Ue(255&re,255&F,255&W)?re:F},T.Predictor12=function(F,W,Q){var re=W[Q+0];return(Pe((F>>24&255)+(re>>24&255)-((W=W[Q-1])>>24&255))<<24|Pe((F>>16&255)+(re>>16&255)-(W>>16&255))<<16|Pe((F>>8&255)+(re>>8&255)-(W>>8&255))<<8|Pe((255&F)+(255&re)-(255&W)))>>>0},T.Predictor13=function(F,W,Q){var re=W[Q-1];return(Re((F=Ae(F,W[Q+0]))>>24&255,re>>24&255)<<24|Re(F>>16&255,re>>16&255)<<16|Re(F>>8&255,re>>8&255)<<8|Re(F>>0&255,re>>0&255))>>>0};var L2=T.PredictorAdd0;T.PredictorAdd1=We,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var tp=T.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(F){return F>>8&255},function(F){return F}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(F){return F},function(F){return F>>8&255});var ig,bs=T.ColorIndexInverseTransform,fh=T.MapARGB,ag=T.VP8LColorIndexInverseTransformAlpha,sg=T.MapAlpha,pu=T.VP8LPredictorsAdd=[];pu.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Vc,Ma,va,mu,al,sl,hh,ol,Wn,rp,ya,ws,dh,og,np,$c,qc,gu,Hc,ph,Wc,vu,ip,xs,_s,ln,un,Kn,fi=a(511),ll=a(2041),ap=a(225),mh=a(767),lg=0,D2=ll,ug=ap,Za=mh,Ss=fi,cg=0,fg=1,F8=2,hg=3,dg=4,F2=5,B8=6,B2=7,z2=8,pg=9,U2=10,Bz=[2,3,7],zz=[3,3,11],z8=[280,256,256,256,40],Uz=[0,1,1,1,0],Vz=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$z=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qz=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hz=8,V2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sp=null,Wz=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kz=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U8=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gz=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xz=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yz=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zz=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yu=[],Ys=[],ul=[],Qz=1,V8=2,bu=[],ks=[];Ze("UpsampleRgbLinePair",me,3),Ze("UpsampleBgrLinePair",Me,3),Ze("UpsampleRgbaLinePair",hr,4),Ze("UpsampleBgraLinePair",Cr,4),Ze("UpsampleArgbLinePair",fr,4),Ze("UpsampleRgba4444LinePair",gt,2),Ze("UpsampleRgb565LinePair",ze,2);var Jz=T.UpsampleRgbLinePair,eU=T.UpsampleBgrLinePair,$8=T.UpsampleRgbaLinePair,q8=T.UpsampleBgraLinePair,H8=T.UpsampleArgbLinePair,W8=T.UpsampleRgba4444LinePair,tU=T.UpsampleRgb565LinePair,mg=16,gg=1<<mg-1,op=-227,q2=482,rU=6,K8=0,nU=a(256),iU=a(256),aU=a(256),sU=a(256),oU=a(q2-op),lU=a(q2-op);tn("YuvToRgbRow",me,3),tn("YuvToBgrRow",Me,3),tn("YuvToRgbaRow",hr,4),tn("YuvToBgraRow",Cr,4),tn("YuvToArgbRow",fr,4),tn("YuvToRgba4444Row",gt,2),tn("YuvToRgb565Row",ze,2);var G8=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vg=[0,2,8],uU=[8,7,6,4,4,2,2,2,1,1,1,1],cU=1;this.WebPDecodeRGBA=function(F,W,Q,re,ce){var he=fg,pe=new nl,ge=new at;pe.ba=ge,ge.S=he,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,xe=ge.height,Ne=new pt;if(Ne==null||F==null)var Fe=2;else t(Ne!=null),Fe=To(F,W,Q,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Fe!=0?ye=0:(ye!=null&&(ye[0]=Ne.width[0]),xe!=null&&(xe[0]=Ne.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],re!=null&&(re[0]=ge.width),ce!=null&&(ce[0]=ge.height);e:{if(re=new Kt,(ce=new cu).data=F,ce.w=W,ce.ha=Q,ce.kd=1,W=[0],t(ce!=null),((F=To(ce.data,ce.w,ce.ha,null,null,null,W,null,ce))==0||F==7)&&W[0]&&(F=4),(W=F)==0){if(t(pe!=null),re.data=ce.data,re.w=ce.w+ce.offset,re.ha=ce.ha-ce.offset,re.put=ar,re.ac=Xt,re.bc=Ut,re.ma=pe,ce.xa){if((F=Ot())==null){pe=1;break e}if(function(Be,De){var st=[0],Ye=[0],Ie=[0];t:for(;;){if(Be==null)return 0;if(De==null)return Be.a=2,0;if(Be.l=De,Be.a=0,_(Be.m,De.data,De.w,De.ha),!vt(Be.m,st,Ye,Ie)){Be.a=3;break t}if(Be.xb=V8,De.width=st[0],De.height=Ye[0],!Zt(st[0],Ye[0],1,Be,null))break t;return 1}return t(Be.a!=0),0}(F,re)){if(re=(W=oh(re.width,re.height,pe.Oa,pe.ba))==0){t:{re=F;r:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((Q=re.l)!=null),t((ce=Q.ma)!=null),re.xb!=0){if(re.ca=ce.ba,re.tb=ce.tb,t(re.ca!=null),!Qd(ce.Oa,Q,hg)){re.a=2;break r}if(!Sr(re,Q.width)||Q.da)break r;if((Q.da||_e(re.ca.S))&&Le(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&Le()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!le(re.s.vb,re.s.Wa.Xa)){re.a=1;break r}re.xb=0}if(!It(re,re.V,re.Ba,re.c,re.i,Q.o,qt))break r;ce.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(W=F.a)}else W=F.a}else{if((F=new _r)==null){pe=1;break e}if(F.Fa=ce.na,F.P=ce.P,F.qc=ce.Sa,zr(F,re)){if((W=oh(re.width,re.height,pe.Oa,pe.ba))==0){if(F.Aa=0,Q=pe.Oa,t((ce=F)!=null),Q!=null){if(0<(ye=0>(ye=Q.Md)?0:100<ye?255:255*ye/100)){for(xe=Ne=0;4>xe;++xe)12>(Fe=ce.pb[xe]).lc&&(Fe.ia=ye*uU[0>Fe.lc?0:Fe.lc]>>3),Ne|=Fe.ia;Ne&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=Q.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}wi(F,re)||(W=F.a)}}else W=F.a}W==0&&pe.Oa!=null&&pe.Oa.fd&&(W=Jd(pe.ba))}pe=W}he=pe!=0?null:11>he?ge.f.RGBA.eb:ge.f.kb.y}else he=null;return he};var X8=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,M){for(var B="",L=0;L<4;L++)B+=String.fromCharCode(T[M++]);return B}function c(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16)>>>0}function f(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16|T[M+3]<<24)>>>0}new l;var h=[0],d=[0],m=[],g=new l,p=e,v=function(T,M){var B={},L=0,P=!1,A=0,j=0;if(B.frames=[],!function(H,K,J,V){for(var Z=0;Z<V;Z++)if(H[K+Z]!=J.charCodeAt(Z))return!0;return!1}(T,M,"RIFF",4)){var E,w;for(f(T,M+=4),M+=8;M<T.length;){var S=u(T,M),_=f(T,M+=4);M+=4;var k=_+(1&_);switch(S){case"VP8 ":case"VP8L":B.frames[L]===void 0&&(B.frames[L]={}),(R=B.frames[L]).src_off=P?j:M-8,R.src_size=A+_+8,L++,P&&(P=!1,A=0,j=0);break;case"VP8X":(R=B.header={}).feature_flags=T[M];var N=M+4;R.canvas_width=1+c(T,N),N+=3,R.canvas_height=1+c(T,N),N+=3;break;case"ALPH":P=!0,A=k+8,j=M-8;break;case"ANIM":(R=B.header).bgcolor=f(T,M),N=M+4,R.loop_count=(E=T)[(w=N)+0]<<0|E[w+1]<<8,N+=2;break;case"ANMF":var $,R;(R=B.frames[L]={}).offset_x=2*c(T,M),M+=3,R.offset_y=2*c(T,M),M+=3,R.width=1+c(T,M),M+=3,R.height=1+c(T,M),M+=3,R.duration=c(T,M),M+=3,$=T[M++],R.dispose=1&$,R.blend=$>>1&1}S!="ANMF"&&(M+=k)}return B}}(p,0);v.response=p,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],d=[y.canvas_width];for(var x=0;x<b.length&&b[x].blend!=0;x++);}var C=b[0],O=g.WebPDecodeRGBA(p,C.src_off,C.src_size,d,h);C.rgba=O,C.imgwidth=d[0],C.imgheight=h[0];for(var I=0;I<d[0]*h[0]*4;I++)m[I]=O[I];return this.width=d,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof f3=="function"},r=function(h,d,m,g){var p=4,v=s;switch(g){case e.image_compression.FAST:p=1,v=a;break;case e.image_compression.MEDIUM:p=6,v=o;break;case e.image_compression.SLOW:p=9,v=l}h=n(h,d,m,v);var y=f3(h,{level:p});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,d,m,g){for(var p,v,y,b=h.length/d,x=new Uint8Array(h.length+b),C=c(),O=0;O<b;O+=1){if(y=O*d,p=h.subarray(y,y+d),g)x.set(g(p,m,v),y+O);else{for(var I,T=C.length,M=[];I<T;I+=1)M[I]=C[I](p,m,v);var B=f(M.concat());x.set(M[B],y+O)}v=p}return x},i=function(h){var d=Array.apply([],h);return d.unshift(0),d},a=function(h,d){var m,g=[],p=h.length;g[0]=1;for(var v=0;v<p;v+=1)m=h[v-d]||0,g[v+1]=h[v]-m+256&255;return g},s=function(h,d,m){var g,p=[],v=h.length;p[0]=2;for(var y=0;y<v;y+=1)g=m&&m[y]||0,p[y+1]=h[y]-g+256&255;return p},o=function(h,d,m){var g,p,v=[],y=h.length;v[0]=3;for(var b=0;b<y;b+=1)g=h[b-d]||0,p=m&&m[b]||0,v[b+1]=h[b]+256-(g+p>>>1)&255;return v},l=function(h,d,m){var g,p,v,y,b=[],x=h.length;b[0]=4;for(var C=0;C<x;C+=1)g=h[C-d]||0,p=m&&m[C]||0,v=m&&m[C-d]||0,y=u(g,p,v),b[C+1]=h[C]-y+256&255;return b},u=function(h,d,m){if(h===d&&d===m)return h;var g=Math.abs(d-m),p=Math.abs(h-m),v=Math.abs(h+d-m-m);return g<=p&&g<=v?h:p<=v?d:m},c=function(){return[i,a,s,o,l]},f=function(h){var d=h.map(function(m){return m.reduce(function(g,p){return g+Math.abs(p)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,m,g){var p,v,y,b,x,C,O,I,T,M,B,L,P,A,j,E=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new Hve(h)).imgData,v=y.bits,p=y.colorSpace,x=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){T=(I=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,B=new Uint8Array(T*y.colors),M=new Uint8Array(T);var S,_=y.pixelBitlength-y.bits;for(A=0,j=0;A<T;A++){for(P=I[A],S=0;S<_;)B[j++]=P>>>S&255,S+=y.bits;M[A]=P>>>S&255}}if(y.bits===16){T=(I=new Uint32Array(y.decodePixels().buffer)).length,B=new Uint8Array(T*(32/y.pixelBitlength)*y.colors),M=new Uint8Array(T*(32/y.pixelBitlength)),L=y.colors>1,A=0,j=0;for(var k=0;A<T;)P=I[A++],B[j++]=P>>>0&255,L&&(B[j++]=P>>>16&255,P=I[A++],B[j++]=P>>>0&255),M[k++]=P>>>16&255;v=8}g!==e.image_compression.NONE&&t()?(h=r(B,y.width*y.colors,y.colors,g),O=r(M,y.width,1,g)):(h=B,O=M,E=void 0)}if(y.colorType===3&&(p=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var N=y.transparency.indexed,$=0;for(A=0,T=N.length;A<T;++A)$+=N[A];if(($/=255)===T-1&&N.indexOf(0)!==-1)b=[N.indexOf(0)];else if($!==T){for(I=y.decodePixels(),M=new Uint8Array(I.length),A=0,T=I.length;A<T;A++)M[A]=N[I[A]];O=r(M,y.width,1)}}var R=function(H){var K;switch(H){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(g);return E===this.decode.FLATE_DECODE&&(w="/Predictor "+R+" "),w+="/Colors "+x+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:m,data:h,index:d,filter:E,decodeParameters:w,transparency:b,palette:C,sMask:O,predictor:R,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:p}}}})(tr.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new Wve(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},c=new I5(100).encode(u,100);return e.processJPEG.call(this,c,r,n,i)},e.processGIF87A=e.processGIF89A}(tr.API),eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nn.log("bit decode error:"+r)}},eo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},eo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},eo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},eo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=u}this.pos+=e}},eo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},eo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},eo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},eo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new eo(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new I5(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(tr.API),b9.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new b9(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new I5(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(tr.API),tr.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],h=n[u+2],d=n[u+3];a[o++]=c,a[o++]=f,a[o++]=h,s[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Th=tr.API,C1=Th.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,d=e.length,m=0,g=o[0]||l,p=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?p.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(h=f&&Yr(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/c:0,p.push((o[n]||g)/l+h)),m=n;return p},m9=Th.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Th.processArabic&&(e=Th.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:C1.apply(this,arguments).reduce(function(a,s){return a+s},0)},g9=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},v9=function(e,t,r){r||(r={});var n,i,a,s,o,l,u,c=[],f=[c],h=r.textIndent||0,d=0,m=0,g=e.split(" "),p=C1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(x){(x=x.split(/\s*\n/)).length>1?y=y.concat(x.map(function(C,O){return(O&&C.length?`
`:"")+C})):y.push(x[0])}),g=y,l=m9.apply(this,[v,r])}for(a=0,s=g.length;a<s;a++){var b=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+d+(m=(i=C1.apply(this,[n,r])).reduce(function(x,C){return x+C},0))>t||b){if(m>t){for(o=g9.apply(this,[n,i,t-(h+d),t]),c.push(o.shift()),c=[o.pop()];o.length;)f.push([o.shift()]);m=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(x,C){return x+C},0)}else c=[n];f.push(c),h=m+l,d=p}else c.push(n),h+=d+m,d=p}return u=l?function(x,C){return(C?v:"")+x.join(" ")}:function(x){return x.join(" ")},f.map(u)},Th.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(v9.apply(this,[n[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,m,g,p=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?d="'"+v+"'":(v=parseInt(v,10),d=(d=a(v).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(m=a(h).slice(3),g="-"):(m=a(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(Yr(h)!=="object")throw new Error("Don't know what to do with value type "+Yr(h)+".");m=s(h)}p.push(d+m)}return p.push("}"),p.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,g,p={},v=1,y=p,b=[],x="",C="",O=f.length-1,I=1;I<O;I+=1)(g=f[I])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([y,m]),y={},m=void 0):g=="}"?((d=b.pop())[0][d[1]]=y,m=void 0,y=d[0]):g=="-"?v=-1:m===void 0?r.hasOwnProperty(g)?(x+=r[g],m=parseInt(x,16)*v,v=1,x=""):x+=g:r.hasOwnProperty(g)?(C+=r[g],y[m]=parseInt(C,16)*v,v=1,m=void 0,C=""):C+=g;return p},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=c.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(tr.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(cm(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(tr),function(e){function t(){return(ir.canvg?Promise.resolve(ir.canvg):qm(()=>import("./index.es-DAwQGcVp.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tr.API.addSvgAsImage=function(r,n,i,a,s,o,l,u){if(isNaN(n)||isNaN(i))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,i,a,s,l,u)})}}(),tr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},tr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,c=0,f=0;function h(m,g){var p,v=!1;for(p=0;p<m.length;p+=1)m[p]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Yr(e)==="object"){for(i in e)if(a=e[i],h(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&h(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tr.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(a){var s,o,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(a).sort(function(d,m){return d-m})).length;f<h;f++)s=o[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var g=u();c({data:d,addLength1:!0,objectId:g}),l("endobj");var p=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Mh(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Mh(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+p+" 0 R"),l("/BaseFont /"+Mh(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,c=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var m=u();c({data:h,addLength1:!0,objectId:m}),l("endobj");var g=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var p=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Mh(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Mh(o.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,d=f.activeFontKey,m=f.fonts,g=d,p="",v=0,y="",b=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:f};for(y=o,g=d,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),s||y[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?p+=y[v]:p+="";var x="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?x=h(p,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(x=r(p,m[g])),f.isHex=!0,{text:x,x:l,y:u,options:c,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(tr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,c,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var x=function(L){var P=L.charCodeAt(),A=P>>8,j=g[A];return j!==void 0?f[256*j+(255&P)]:A===252||A===253?"AL":v.test(A)?"L":A===8?"R":"N"},C=function(L){for(var P,A=0;A<L.length;A++){if((P=x(L.charAt(A)))==="L")return!1;if(P==="R")return!0}return!1},O=function(L,P,A,j){var E,w,S,_,k=P[j];switch(k){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(k="AN");break;case"AL":y=!0,k="R";break;case"WS":k="N";break;case"CS":j<1||j+1>=P.length||(E=A[j-1])!=="EN"&&E!=="AN"||(w=P[j+1])!=="EN"&&w!=="AN"?k="N":y&&(w="AN"),k=w===E?w:"N";break;case"ES":k=(E=j>0?A[j-1]:"B")==="EN"&&j+1<P.length&&P[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&A[j-1]==="EN"){k="EN";break}if(y){k="N";break}for(S=j+1,_=P.length;S<_&&P[S]==="ET";)S++;k=S<_&&P[S]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(_=P.length,S=j+1;S<_&&P[S]==="NSM";)S++;if(S<_){var N=L[j],$=N>=1425&&N<=2303||N===64286;if(E=P[S],$&&(E==="R"||E==="AL")){k="R";break}}}k=j<1||(E=P[j-1])==="B"?"N":A[j-1];break;case"B":y=!1,i=!0,k=b;break;case"S":a=!0,k="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":k="N"}return k},I=function(L,P,A){var j=L.split("");return A&&T(j,A,{hiLevel:b}),j.reverse(),P&&P.reverse(),j.join("")},T=function(L,P,A){var j,E,w,S,_,k=-1,N=L.length,$=0,R=[],H=b?d:h,K=[];for(y=!1,i=!1,a=!1,E=0;E<N;E++)K[E]=x(L[E]);for(w=0;w<N;w++){if(_=$,R[w]=O(L,K,R,w),j=240&($=H[_][m[R[w]]]),$&=15,P[w]=S=H[$][5],j>0)if(j===16){for(E=k;E<w;E++)P[E]=1;k=-1}else k=-1;if(H[$][6])k===-1&&(k=w);else if(k>-1){for(E=k;E<w;E++)P[E]=S;k=-1}K[w]==="B"&&(P[w]=0),A.hiLevel|=S}a&&function(J,V,Z){for(var z=0;z<Z;z++)if(J[z]==="S"){V[z]=b;for(var D=z-1;D>=0&&J[D]==="WS";D--)V[D]=b}}(K,P,N)},M=function(L,P,A,j,E){if(!(E.hiLevel<L)){if(L===1&&b===1&&!i)return P.reverse(),void(A&&A.reverse());for(var w,S,_,k,N=P.length,$=0;$<N;){if(j[$]>=L){for(_=$+1;_<N&&j[_]>=L;)_++;for(k=$,S=_-1;k<S;k++,S--)w=P[k],P[k]=P[S],P[S]=w,A&&(w=A[k],A[k]=A[S],A[S]=w);$=_}$++}}},B=function(L,P,A){var j=L.split(""),E={hiLevel:b};return A||(A=[]),T(j,A,E),function(w,S,_){if(_.hiLevel!==0&&c)for(var k,N=0;N<w.length;N++)S[N]===1&&(k=p.indexOf(w[N]))>=0&&(w[N]=p[k+1])}(j,A,E),M(2,j,P,A,E),M(1,j,P,A,E),j.join("")};return this.__bidiEngine__.doBidiReorder=function(L,P,A){if(function(E,w){if(w)for(var S=0;S<E.length;S++)w[S]=S;o===void 0&&(o=C(E)),u===void 0&&(u=C(E))}(L,P),s||!l||u)if(s&&l&&o^u)b=o?1:0,L=I(L,P,A);else if(!s&&l&&u)b=o?1:0,L=B(L,P,A),L=I(L,P);else if(!s||o||l||u){if(s&&!l&&o^u)L=I(L,P),o?(b=0,L=B(L,P,A)):(b=1,L=B(L,P,A),L=I(L,P));else if(s&&o&&!l&&u)b=1,L=B(L,P,A),L=I(L,P);else if(!s&&!l&&o^u){var j=c;o?(b=1,L=B(L,P,A),b=0,c=!1,L=B(L,P,A),c=j):(b=0,L=B(L,P,A),L=I(L,P),b=1,c=!1,L=B(L,P,A),c=j,L=I(L,P))}}else b=0,L=B(L,P,A);else b=o?1:0,L=B(L,P,A);return L},this.__bidiEngine__.setOptions=function(L){L&&(s=L.isInputVisual,l=L.isOutputVisual,o=L.isInputRtl,u=L.isOutputRtl,c=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),s=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tr),tr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new oye(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Kve(this.contents),this.head=new Xve(this),this.name=new eye(this),this.cmap=new Lz(this),this.toUnicode={},this.hhea=new Yve(this),this.maxp=new tye(this),this.hmtx=new rye(this),this.post=new Qve(this),this.os2=new Zve(this),this.loca=new sye(this),this.glyf=new nye(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var xo,kc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Kve=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,u,c,f,h,d,m,g;for(g in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),c=16*d-f,(i=new kc).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(s),i.writeShort(c),a=16*d,u=i.pos+a,o=null,m=[],r)for(h=r[g],i.writeString(g),i.writeInt(e(h)),i.writeInt(u),i.writeInt(h.length),m=m.concat(h),g==="head"&&(o=u),u+=h.length;u%4;)m.push(0),u++;return i.write(m),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=Dz.call(r);r.length%4;)r.push(0);for(a=new kc(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Gve={}.hasOwnProperty,el=function(e,t){for(var r in t)Gve.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};xo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Xve=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new kc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),w9=function(){function e(t,r){var n,i,a,s,o,l,u,c,f,h,d,m,g,p,v,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,a=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),t.pos+=2,g=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),u=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),c=function(){var x,C;for(C=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)C.push(t.readUInt16());return C}(),i=(this.length-t.pos+this.offset)/2,o=function(){var x,C;for(C=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)C.push(t.readUInt16());return C}(),l=v=0,b=a.length;v<b;l=++v)for(p=a[l],n=y=m=g[l];m<=p?y<=p:y>=p;n=m<=p?++y:--y)c[l]===0?s=n+u[l]:(s=o[c[l]/2+(n-m)-(h-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,u,c,f,h,d,m,g,p,v,y,b,x,C,O,I,T,M,B,L,P,A,j,E,w,S,_,k,N,$,R,H,K,J,V,Z,z,D,G,te,ae;switch(j=new kc,s=Object.keys(t).sort(function(se,le){return se-le}),r){case"macroman":for(g=0,p=function(){var se=[];for(m=0;m<256;++m)se.push(0);return se}(),y={0:0},a={},E=0,k=s.length;E<k;E++)y[D=t[i=s[E]]]==null&&(y[D]=++g),a[i]={old:t[i],new:y[t[i]]},p[i]=y[t[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(p),{charMap:a,subtable:j.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],b=0,y={},n={},v=u=null,w=0,N=s.length;w<N;w++)y[C=t[i=s[w]]]==null&&(y[C]=++b),n[i]={old:C,new:y[C]},o=y[C]-i,v!=null&&o===u||(v&&f.push(v),P.push(i),u=o),v=i;for(v&&f.push(v),f.push(65535),P.push(65535),B=2*(M=P.length),T=2*Math.pow(Math.log(M)/Math.LN2,2),h=Math.log(T/2)/Math.LN2,I=2*M-T,l=[],O=[],d=[],m=S=0,$=P.length;S<$;m=++S){if(L=P[m],c=f[m],L===65535){l.push(0),O.push(0);break}if(L-(A=n[L].new)>=32768)for(l.push(0),O.push(2*(d.length+M-m)),i=_=L;L<=c?_<=c:_>=c;i=L<=c?++_:--_)d.push(n[i].new);else l.push(A-L),O.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*M+2*d.length),j.writeUInt16(0),j.writeUInt16(B),j.writeUInt16(T),j.writeUInt16(h),j.writeUInt16(I),Z=0,R=f.length;Z<R;Z++)i=f[Z],j.writeUInt16(i);for(j.writeUInt16(0),z=0,H=P.length;z<H;z++)i=P[z],j.writeUInt16(i);for(G=0,K=l.length;G<K;G++)o=l[G],j.writeUInt16(o);for(te=0,J=O.length;te<J;te++)x=O[te],j.writeUInt16(x);for(ae=0,V=d.length;ae<V;ae++)g=d[ae],j.writeUInt16(g);return{charMap:n,subtable:j.data,maxGlyphID:b+1}}},e}(),Lz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new w9(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=w9.encode(r,n),(a=new kc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),Yve=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Zve=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Qve=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(i=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),Jve=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},eye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,s,o,l,u,c,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},s=f=0,h=i.length;f<h;s=++f)a=i[s],r.pos=a.offset,c=r.readString(a.length),o=new Jve(c,a),u[d=a.nameID]==null&&(u[d]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),tye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),rye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,s,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],n=c=0;0<=a?c<a:c>a;n=0<=a?++c:--c)f.push(r.readInt16());return f}(),this.widths=(function(){var c,f,h,d;for(d=[],c=0,f=(h=this.metrics).length;c<f;c++)s=h[c],d.push(s.advance);return d}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Dz=[].slice,nye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,s,o,l,u,c,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(r),(a=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new kc(n.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new aye(l,c,h,u,f):new iye(l,o,c,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,s,o,l,u;for(o=[],s=[],l=0,u=n.length;l<u;l++)a=r[n[l]],s.push(o.length),a&&(o=o.concat(a.encode(i)));return s.push(o.length),{table:o,offsets:s}},t}(),iye=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),aye=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new kc(Dz.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),sye=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return el(t,xo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<i.length;++o)if(i[o]=a,s<n.length&&n[s]==o){++s,i[o]=a;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},t}(),oye=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,u,c,f,h,d,m,g,p,v;for(i in n=Lz.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},v=n.charMap)d[(l=v[i]).old]=l.new;for(m in h=n.maxGlyphID,s)m in d||(d[m]=h++);return c=function(y){var b,x;for(b in x={},y)x[y[b]]=b;return x}(d),f=Object.keys(c).sort(function(y,b){return y-b}),g=function(){var y,b,x;for(x=[],y=0,b=f.length;y<b;y++)o=f[y],x.push(c[o]);return x}(),a=this.font.glyf.encode(s,g,d),u=this.font.loca.encode(a.offsets,g),p={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();tr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();const lye=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Bve,AcroFormAppearance:Vt,AcroFormButton:pi,AcroFormCheckBox:dm,AcroFormChoiceField:_f,AcroFormComboBox:kf,AcroFormEditBox:fm,AcroFormListBox:Sf,AcroFormPasswordField:pm,AcroFormPushButton:hm,AcroFormRadioButton:Af,AcroFormTextField:cc,GState:l0,ShadingPattern:$u,TilingPattern:ff,default:tr,jsPDF:tr},Symbol.toStringTag,{value:"Module"}));var Fz={exports:{}};const uye=AU(lye);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,i){e.exports=i(function(){try{return uye}catch{}}())})(typeof globalThis<"u"?globalThis:typeof dr<"u"?dr:typeof window<"u"?window:typeof self<"u"?self:dr,function(r){return function(){var n={172:function(o,l){var u=this&&this.__extends||function(){var h=function(d,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(g[v]=p[v])},h(d,m)};return function(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(d,m);function g(){this.constructor=d}d.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(d,m,g){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=g,this.doc=d.getDocument()}return h}();l.HookData=c;var f=function(h){u(d,h);function d(m,g,p,v,y,b){var x=h.call(this,m,g,b)||this;return x.cell=p,x.row=v,x.column=y,x.section=v.section,x}return d}(c);l.CellHookData=f},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),d=u(776),m=u(664),g=u(972);function p(v){v.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var x;y.length===1?x=y[0]:(console.error("Use of deprecated autoTable initiation"),x=y[2]||{},x.columns=y[0],x.body=y[1]);var C=(0,d.parseInput)(this,x),O=(0,g.createTable)(this,C);return(0,m.drawTable)(this,O),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(y,b,x,C){(0,f.default)(y,b,x,C,this)},v.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},v.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},v.API.autoTableHtmlToJson=function(y,b){var x;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),O=(0,c.parseHtml)(C,y,window,b,!1),I=O.head,T=O.body,M=((x=I[0])===null||x===void 0?void 0:x.map(function(B){return B.content}))||[];return{columns:M,rows:T,data:T}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},v.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=y,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=p},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,d,m){d=d||{};var g=1.15,p=m.internal.scaleFactor,v=m.internal.getFontSize()/p,y=m.getLineHeightFactor?m.getLineHeightFactor():g,b=v*y,x=/\r\n|\r|\n/g,C="",O=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(C=typeof c=="string"?c.split(x):c,O=C.length||1),h+=v*(2-g),d.valign==="middle"?h-=O/2*b:d.valign==="bottom"&&(h-=O*b),d.halign==="center"||d.halign==="right"){var I=v;if(d.halign==="center"&&(I*=.5),C&&O>=1){for(var T=0;T<C.length;T++)m.text(C[T],f-m.getStringUnitWidth(C[T])*I,h),h+=b;return m}f-=m.getStringUnitWidth(c)*I}return d.halign==="justify"?m.text(c,f,h,{maxWidth:d.maxWidth||100,align:"justify"}):m.text(c,f,h),m}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(m,g,p){p.applyStyles(g,!0);var v=Array.isArray(m)?m:[m],y=v.map(function(b){return p.getTextWidth(b)}).reduce(function(b,x){return Math.max(b,x)},0);return y}l.getStringWidth=u;function c(m,g,p,v){var y=g.settings.tableLineWidth,b=g.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:b});var x=f(y,!1);x&&m.rect(p.x,p.y,g.getWidth(m.pageSize().width),v.y-p.y,x)}l.addTableBorder=c;function f(m,g){var p=m>0,v=g||g===0;return p&&v?"DF":p?"S":v?"F":null}l.getFillStyle=f;function h(m,g){var p,v,y,b;if(m=m||g,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=g}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(p=m.left)!==null&&p!==void 0?p:g,top:(v=m.top)!==null&&v!==void 0?v:g,right:(y=m.right)!==null&&y!==void 0?y:g,bottom:(b=m.bottom)!==null&&b!==void 0?b:g}):(typeof m!="number"&&(m=g),{top:m,right:m,bottom:m,left:m})}l.parseSpacing=h;function d(m,g){var p=h(g.settings.margin,0);return m.pageSize().width-(p.left+p.right)}l.getPageAvailableWidth=d},796:function(o,l){var u=this&&this.__extends||function(){var d=function(m,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(p[y]=v[y])},d(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(m,g);function p(){this.constructor=m}m.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(d){u(m,d);function m(g){var p=d.call(this)||this;return p._element=g,p}return m}(Array);l.HtmlRowInput=c;function f(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(d){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[d]}l.getTheme=h},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(p,v,y,b,x){var C={},O=1.3333333333333333,I=d(v,function(k){return x.getComputedStyle(k).backgroundColor});I!=null&&(C.fillColor=I);var T=d(v,function(k){return x.getComputedStyle(k).color});T!=null&&(C.textColor=T);var M=g(b,y);M&&(C.cellPadding=M);var B="borderTopColor",L=O*y,P=b.borderTopWidth;if(b.borderBottomWidth===P&&b.borderRightWidth===P&&b.borderLeftWidth===P){var A=(parseFloat(P)||0)/L;A&&(C.lineWidth=A)}else C.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/L,right:(parseFloat(b.borderRightWidth)||0)/L,bottom:(parseFloat(b.borderBottomWidth)||0)/L,left:(parseFloat(b.borderLeftWidth)||0)/L},C.lineWidth.top||(C.lineWidth.right?B="borderRightColor":C.lineWidth.bottom?B="borderBottomColor":C.lineWidth.left&&(B="borderLeftColor"));var j=d(v,function(k){return x.getComputedStyle(k)[B]});j!=null&&(C.lineColor=j);var E=["left","right","center","justify"];E.indexOf(b.textAlign)!==-1&&(C.halign=b.textAlign),E=["middle","bottom","top"],E.indexOf(b.verticalAlign)!==-1&&(C.valign=b.verticalAlign);var w=parseInt(b.fontSize||"");isNaN(w)||(C.fontSize=w/O);var S=h(b);S&&(C.fontStyle=S);var _=(b.fontFamily||"").toLowerCase();return p.indexOf(_)!==-1&&(C.font=_),C}l.parseCss=f;function h(p){var v="";return(p.fontWeight==="bold"||p.fontWeight==="bolder"||parseInt(p.fontWeight)>=700)&&(v="bold"),(p.fontStyle==="italic"||p.fontStyle==="oblique")&&(v+="italic"),v}function d(p,v){var y=m(p,v);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var x=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],C=parseInt(b[4]);return C===0||isNaN(x[0])||isNaN(x[1])||isNaN(x[2])?null:x}function m(p,v){var y=v(p);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?p.parentElement==null?null:m(p.parentElement,v):y}function g(p,v){var y=[p.paddingTop,p.paddingRight,p.paddingBottom,p.paddingLeft],b=96/(72/v),x=(parseInt(p.lineHeight)-parseInt(p.fontSize))/v/2,C=y.map(function(I){return parseInt(I||"0")/b}),O=(0,c.parseSpacing)(C,0);return x>O.top&&(O.top=x),x>O.bottom&&(O.bottom=x),O}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,d){var m,g,p;d===void 0&&(d=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),y=v.fontStyle,b=v.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var x=this.getFontList()[b];x&&x.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(x[0]),y=x[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!d){var C=f.unifyColor(h.fillColor);C&&(m=this.jsPDFDocument).setFillColor.apply(m,C),C=f.unifyColor(h.textColor),C&&(g=this.jsPDFDocument).setTextColor.apply(g,C),C=f.unifyColor(h.lineColor),C&&(p=this.jsPDFDocument).setDrawColor.apply(p,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,d,m){return this.jsPDFDocument.splitTextToSize(h,d,m)},f.prototype.rect=function(h,d,m,g,p){return this.jsPDFDocument.rect(h,d,m,g,p)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(g,p,v,y,b){var x,C;y===void 0&&(y=!1),b===void 0&&(b=!1);var O;typeof p=="string"?O=v.document.querySelector(p):O=p;var I=Object.keys(g.getFontList()),T=g.scaleFactor(),M=[],B=[],L=[];if(!O)return console.error("Html table could not be found with input: ",p),{head:M,body:B,foot:L};for(var P=0;P<O.rows.length;P++){var A=O.rows[P],j=(C=(x=A==null?void 0:A.parentElement)===null||x===void 0?void 0:x.tagName)===null||C===void 0?void 0:C.toLowerCase(),E=d(I,T,v,A,y,b);E&&(j==="thead"?M.push(E):j==="tfoot"?L.push(E):B.push(E))}return{head:M,body:B,foot:L}}l.parseHtml=h;function d(g,p,v,y,b,x){for(var C=new f.HtmlRowInput(y),O=0;O<y.cells.length;O++){var I=y.cells[O],T=v.getComputedStyle(I);if(b||T.display!=="none"){var M=void 0;x&&(M=(0,c.parseCss)(g,I,p,T,v)),C.push({rowSpan:I.rowSpan,colSpan:I.colSpan,styles:M,_element:I,content:m(I)})}}var B=v.getComputedStyle(y);if(C.length>0&&(b||B.display!=="none"))return C}function m(g){var p=g.cloneNode(!0);return p.innerHTML=p.innerHTML.replace(/\n/g,"").replace(/ +/g," "),p.innerHTML=p.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),p.innerText||p.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),d=u(744),m=u(792);function g(O,I){var T=new d.DocHandler(O),M=T.getDocumentOptions(),B=T.getGlobalOptions();(0,m.default)(T,B,M,I);var L=(0,f.assign)({},B,M,I),P;typeof window<"u"&&(P=window);var A=p(B,M,I),j=v(B,M,I),E=y(T,L),w=x(T,L,P);return{id:I.tableId,content:w,hooks:j,styles:A,settings:E}}l.parseInput=g;function p(O,I,T){for(var M={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(j){if(j==="columnStyles"){var E=O[j],w=I[j],S=T[j];M.columnStyles=(0,f.assign)({},E,w,S)}else{var _=[O,I,T],k=_.map(function(N){return N[j]||{}});M[j]=(0,f.assign)({},k[0],k[1],k[2])}},L=0,P=Object.keys(M);L<P.length;L++){var A=P[L];B(A)}return M}function v(O,I,T){for(var M=[O,I,T],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},L=0,P=M;L<P.length;L++){var A=P[L];A.didParseCell&&B.didParseCell.push(A.didParseCell),A.willDrawCell&&B.willDrawCell.push(A.willDrawCell),A.didDrawCell&&B.didDrawCell.push(A.didDrawCell),A.willDrawPage&&B.willDrawPage.push(A.willDrawPage),A.didDrawPage&&B.didDrawPage.push(A.didDrawPage)}return B}function y(O,I){var T,M,B,L,P,A,j,E,w,S,_,k,N=(0,h.parseSpacing)(I.margin,40/O.scaleFactor()),$=(T=b(O,I.startY))!==null&&T!==void 0?T:N.top,R;I.showFoot===!0?R="everyPage":I.showFoot===!1?R="never":R=(M=I.showFoot)!==null&&M!==void 0?M:"everyPage";var H;I.showHead===!0?H="everyPage":I.showHead===!1?H="never":H=(B=I.showHead)!==null&&B!==void 0?B:"everyPage";var K=(L=I.useCss)!==null&&L!==void 0?L:!1,J=I.theme||(K?"plain":"striped"),V=!!I.horizontalPageBreak,Z=(P=I.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(A=I.includeHiddenHtml)!==null&&A!==void 0?A:!1,useCss:K,theme:J,startY:$,margin:N,pageBreak:(j=I.pageBreak)!==null&&j!==void 0?j:"auto",rowPageBreak:(E=I.rowPageBreak)!==null&&E!==void 0?E:"auto",tableWidth:(w=I.tableWidth)!==null&&w!==void 0?w:"auto",showHead:H,showFoot:R,tableLineWidth:(S=I.tableLineWidth)!==null&&S!==void 0?S:0,tableLineColor:(_=I.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:V,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(k=I.horizontalPageBreakBehaviour)!==null&&k!==void 0?k:"afterAllRows"}}function b(O,I){var T=O.getLastAutoTable(),M=O.scaleFactor(),B=O.pageNumber(),L=!1;if(T&&T.startPageNumber){var P=T.startPageNumber+T.pageNumber-1;L=P===B}return typeof I=="number"?I:(I==null||I===!1)&&L&&(T==null?void 0:T.finalY)!=null?T.finalY+20/M:null}function x(O,I,T){var M=I.head||[],B=I.body||[],L=I.foot||[];if(I.html){var P=I.includeHiddenHtml;if(T){var A=(0,c.parseHtml)(O,I.html,T,P,I.useCss)||{};M=A.head||M,B=A.body||M,L=A.foot||M}else console.error("Cannot parse html in non browser environment")}var j=I.columns||C(M,B,L);return{columns:j,head:M,body:B,foot:L}}function C(O,I,T){var M=O[0]||I[0]||T[0]||[],B=[];return Object.keys(M).filter(function(L){return L!=="_element"}).forEach(function(L){var P=1,A;Array.isArray(M)?A=M[parseInt(L)]:A=M[L],typeof A=="object"&&!Array.isArray(A)&&(P=(A==null?void 0:A.colSpan)||1);for(var j=0;j<P;j++){var E=void 0;Array.isArray(M)?E=B.length:E=L+(j>0?"_".concat(j):"");var w={dataKey:E};B.push(w)}}),B}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,d,m){for(var g=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(L){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(L),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(L),f.applyStyles(f.userStyles),b.afterPageAdd&&L.pageNumber>1&&L.afterPageAdd(L),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(L){b[L]&&console.error('The "'.concat(L,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(L){var P=L[0],A=L[1];b[A]&&(console.error("Use of deprecated option ".concat(A,". Use ").concat(P," instead")),b[P]=b[A])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(L){var P=typeof L=="string"?L:L[0],A=typeof L=="string"?L:L[1];typeof b[P]<"u"&&(typeof b.styles[A]>"u"&&(b.styles[A]=b[P]),console.error("Use of deprecated option: "+P+", use the style "+A+" instead."))});for(var x=0,C=["styles","bodyStyles","headStyles","footStyles"];x<C.length;x++){var O=C[x];c(b[O]||{})}for(var I=b.columnStyles||{},T=0,M=Object.keys(I);T<M.length;T++){var B=M[T];c(I[B]||{})}},p=0,v=[h,d,m];p<v.length;p++){var y=v[p];g(y)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),d=function(){function v(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return v.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,x){return b+x.getMaxCellHeight(y)},0)},v.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,x){return b+x.getMaxCellHeight(y)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(y,b,x,C,O,I){for(var T=0,M=b;T<M.length;T++){var B=M[T],L=new f.CellHookData(y,this,x,C,O,I),P=B(L)===!1;if(x.text=Array.isArray(x.text)?x.text:[x.text],P)return!1}return!0},v.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var x=0,C=this.hooks.didDrawPage;x<C.length;x++){var O=C[x];O(new f.HookData(y,this,b))}},v.prototype.callWillDrawPageHooks=function(y,b){for(var x=0,C=this.hooks.willDrawPage;x<C.length;x++){var O=C[x];O(new f.HookData(y,this,b))}},v.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(C,O){return C+O.wrappedWidth},0);return b}else{var x=this.settings.margin;return y-x.left-x.right}},v}();l.Table=d;var m=function(){function v(y,b,x,C,O){O===void 0&&(O=!1),this.height=0,this.raw=y,y instanceof c.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=x,this.cells=C,this.spansMultiplePages=O}return v.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(x,C){var O;return Math.max(x,((O=b.cells[C.index])===null||O===void 0?void 0:O.height)||0)},0)},v.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(x){var C=b.cells[x.index];return C?C.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},v.prototype.getMinimumRowHeight=function(y,b){var x=this;return y.reduce(function(C,O){var I=x.cells[O.index];if(!I)return 0;var T=b.getLineHeight(I.styles.fontSize),M=I.padding("vertical"),B=M+T;return B>C?B:C},0)},v}();l.Row=m;var g=function(){function v(y,b,x){var C,O;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=x,this.raw=y;var I=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,I=(O=(C=y.content)!==null&&C!==void 0?C:y.title)!==null&&O!==void 0?O:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var T=I!=null?""+I:"",M=/\r\n|\r|\n/g;this.text=T.split(M)}return v.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var x;if(this.styles.halign==="right")x=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");x=this.x+C/2+this.padding("left")}else x=this.x+this.padding("left");return{x,y}},v.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var x=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/y*b,O=x*C+this.padding("vertical");return Math.max(O,this.styles.minCellHeight)},v.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},v}();l.Cell=g;var p=function(){function v(y,b,x){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=x}return v.prototype.getMaxCustomCellWidth=function(y){for(var b=0,x=0,C=y.allRows();x<C.length;x++){var O=C[x],I=O.cells[this.index];I&&typeof I.styles.cellWidth=="number"&&(b=Math.max(b,I.styles.cellWidth))}return b},v}();l.Column=p},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,d,m){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),p=1;p<arguments.length;p++){var v=arguments[p];if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])}return g}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),d=u(796),m=u(356);function g(O,I){var T=new c.DocHandler(O),M=p(I,T.scaleFactor()),B=new f.Table(I,M);return(0,h.calculateWidths)(T,B),T.applyStyles(T.userStyles),B}l.createTable=g;function p(O,I){var T=O.content,M=x(T.columns);if(T.head.length===0){var B=y(M,"head");B&&T.head.push(B)}if(T.foot.length===0){var B=y(M,"foot");B&&T.foot.push(B)}var L=O.settings.theme,P=O.styles;return{columns:M,head:v("head",T.head,M,P,L,I),body:v("body",T.body,M,P,L,I),foot:v("foot",T.foot,M,P,L,I)}}function v(O,I,T,M,B,L){var P={},A=I.map(function(j,E){for(var w=0,S={},_=0,k=0,N=0,$=T;N<$.length;N++){var R=$[N];if(P[R.index]==null||P[R.index].left===0)if(k===0){var H=void 0;Array.isArray(j)?H=j[R.index-_-w]:H=j[R.dataKey];var K={};typeof H=="object"&&!Array.isArray(H)&&(K=(H==null?void 0:H.styles)||{});var J=C(O,R,E,B,M,L,K),V=new f.Cell(H,J,O);S[R.dataKey]=V,S[R.index]=V,k=V.colSpan-1,P[R.index]={left:V.rowSpan-1,times:k}}else k--,_++;else P[R.index].left--,k=P[R.index].times,w++}return new f.Row(j,E,O,S)});return A}function y(O,I){var T={};return O.forEach(function(M){if(M.raw!=null){var B=b(I,M.raw);B!=null&&(T[M.dataKey]=B)}}),Object.keys(T).length>0?T:null}function b(O,I){if(O==="head"){if(typeof I=="object")return I.header||I.title||null;if(typeof I=="string"||typeof I=="number")return I}else if(O==="foot"&&typeof I=="object")return I.footer;return null}function x(O){return O.map(function(I,T){var M,B,L;return typeof I=="object"?L=(B=(M=I.dataKey)!==null&&M!==void 0?M:I.key)!==null&&B!==void 0?B:T:L=T,new f.Column(L,I,T)})}function C(O,I,T,M,B,L,P){var A=(0,d.getTheme)(M),j;O==="head"?j=B.headStyles:O==="body"?j=B.bodyStyles:O==="foot"&&(j=B.footStyles);var E=(0,m.assign)({},A.table,A[O],B.styles,j),w=B.columnStyles[I.dataKey]||B.columnStyles[I.index]||{},S=O==="body"?w:{},_=O==="body"&&T%2===0?(0,m.assign)({},A.alternateRow,B.alternateRowStyles):{},k=(0,d.defaultStyles)(L),N=(0,m.assign)({},k,E,_,S);return(0,m.assign)(N,P)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),d=u(356),m=u(136),g=u(224);function p(w,S){var _=S.settings,k=_.startY,N=_.margin,$={x:N.left,y:k},R=S.getHeadHeight(S.columns)+S.getFootHeight(S.columns),H=k+N.bottom+R;if(_.pageBreak==="avoid"){var K=S.body,J=K.reduce(function(z,D){return z+D.height},0);H+=J}var V=new h.DocHandler(w);(_.pageBreak==="always"||_.startY!=null&&H>V.pageSize().height)&&(E(V),$.y=N.top),S.callWillDrawPageHooks(V,$);var Z=(0,d.assign)({},$);S.startPageNumber=V.pageNumber(),_.horizontalPageBreak?v(V,S,Z,$):(V.applyStyles(V.userStyles),(_.showHead==="firstPage"||_.showHead==="everyPage")&&S.head.forEach(function(z){return B(V,S,z,$,S.columns)}),V.applyStyles(V.userStyles),S.body.forEach(function(z,D){var G=D===S.body.length-1;M(V,S,z,G,Z,$,S.columns)}),V.applyStyles(V.userStyles),(_.showFoot==="lastPage"||_.showFoot==="everyPage")&&S.foot.forEach(function(z){return B(V,S,z,$,S.columns)})),(0,c.addTableBorder)(V,S,Z,$),S.callEndPageHooks(V,$),S.finalY=$.y,w.lastAutoTable=S,w.previousAutoTable=S,w.autoTable&&(w.autoTable.previous=S),V.applyStyles(V.userStyles)}l.drawTable=p;function v(w,S,_,k){var N=(0,g.calculateAllColumnsCanFitInPage)(w,S),$=S.settings;if($.horizontalPageBreakBehaviour==="afterAllRows")N.forEach(function(J,V){w.applyStyles(w.userStyles),V>0?j(w,S,_,k,J.columns,!0):y(w,S,k,J.columns),b(w,S,_,k,J.columns),C(w,S,k,J.columns)});else for(var R=-1,H=N[0],K=function(){var J=R;if(H){w.applyStyles(w.userStyles);var V=H.columns;R>=0?j(w,S,_,k,V,!0):y(w,S,k,V),J=x(w,S,R+1,k,V),C(w,S,k,V)}var Z=J-R;N.slice(1).forEach(function(z){w.applyStyles(w.userStyles),j(w,S,_,k,z.columns,!0),x(w,S,R+1,k,z.columns,Z),C(w,S,k,z.columns)}),R=J};R<S.body.length-1;)K()}function y(w,S,_,k){var N=S.settings;w.applyStyles(w.userStyles),(N.showHead==="firstPage"||N.showHead==="everyPage")&&S.head.forEach(function($){return B(w,S,$,_,k)})}function b(w,S,_,k,N){w.applyStyles(w.userStyles),S.body.forEach(function($,R){var H=R===S.body.length-1;M(w,S,$,H,_,k,N)})}function x(w,S,_,k,N,$){w.applyStyles(w.userStyles),$=$??S.body.length;var R=Math.min(_+$,S.body.length),H=-1;return S.body.slice(_,R).forEach(function(K,J){var V=_+J===S.body.length-1,Z=A(w,S,V,k);K.canEntireRowFit(Z,N)&&(B(w,S,K,k,N),H=_+J)}),H}function C(w,S,_,k){var N=S.settings;w.applyStyles(w.userStyles),(N.showFoot==="lastPage"||N.showFoot==="everyPage")&&S.foot.forEach(function($){return B(w,S,$,_,k)})}function O(w,S,_){var k=_.getLineHeight(w.styles.fontSize),N=w.padding("vertical"),$=Math.floor((S-N)/k);return Math.max(0,$)}function I(w,S,_,k){var N={};w.spansMultiplePages=!0,w.height=0;for(var $=0,R=0,H=_.columns;R<H.length;R++){var K=H[R],J=w.cells[K.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var V=new f.Cell(J.raw,J.styles,J.section);V=(0,d.assign)(V,J),V.text=[];var Z=O(J,S,k);J.text.length>Z&&(V.text=J.text.splice(Z,J.text.length));var z=k.scaleFactor(),D=k.getLineHeightFactor();J.contentHeight=J.getContentHeight(z,D),J.contentHeight>=S&&(J.contentHeight=S,V.styles.minCellHeight-=S),J.contentHeight>w.height&&(w.height=J.contentHeight),V.contentHeight=V.getContentHeight(z,D),V.contentHeight>$&&($=V.contentHeight),N[K.index]=V}}var G=new f.Row(w.raw,-1,w.section,N,!0);G.height=$;for(var te=0,ae=_.columns;te<ae.length;te++){var K=ae[te],V=G.cells[K.index];V&&(V.height=G.height);var J=w.cells[K.index];J&&(J.height=w.height)}return G}function T(w,S,_,k){var N=w.pageSize().height,$=k.settings.margin,R=$.top+$.bottom,H=N-R;S.section==="body"&&(H-=k.getHeadHeight(k.columns)+k.getFootHeight(k.columns));var K=S.getMinimumRowHeight(k.columns,w),J=K<_;if(K>H)return console.error("Will not be able to print row ".concat(S.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var V=S.hasRowSpan(k.columns),Z=S.getMaxCellHeight(k.columns)>H;return Z?(V&&console.error("The content of row ".concat(S.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(V||k.settings.rowPageBreak==="avoid")}function M(w,S,_,k,N,$,R){var H=A(w,S,k,$);if(_.canEntireRowFit(H,R))B(w,S,_,$,R);else if(T(w,_,H,S)){var K=I(_,H,S,w);B(w,S,_,$,R),j(w,S,N,$,R),M(w,S,K,k,N,$,R)}else j(w,S,N,$,R),M(w,S,_,k,N,$,R)}function B(w,S,_,k,N){k.x=S.settings.margin.left;for(var $=0,R=N;$<R.length;$++){var H=R[$],K=_.cells[H.index];if(!K){k.x+=H.width;continue}w.applyStyles(K.styles),K.x=k.x,K.y=k.y;var J=S.callCellHooks(w,S.hooks.willDrawCell,K,_,H,k);if(J===!1){k.x+=H.width;continue}L(w,K,k);var V=K.getTextPos();(0,m.default)(K.text,V.x,V.y,{halign:K.styles.halign,valign:K.styles.valign,maxWidth:Math.ceil(K.width-K.padding("left")-K.padding("right"))},w.getDocument()),S.callCellHooks(w,S.hooks.didDrawCell,K,_,H,k),k.x+=H.width}k.y+=_.height}function L(w,S,_){var k=S.styles;if(w.getDocument().setFillColor(w.getDocument().getFillColor()),typeof k.lineWidth=="number"){var N=(0,c.getFillStyle)(k.lineWidth,k.fillColor);N&&w.rect(S.x,_.y,S.width,S.height,N)}else typeof k.lineWidth=="object"&&(k.fillColor&&w.rect(S.x,_.y,S.width,S.height,"F"),P(w,S,_,k.lineWidth))}function P(w,S,_,k){var N,$,R,H;k.top&&(N=_.x,$=_.y,R=_.x+S.width,H=_.y,k.right&&(R+=.5*k.right),k.left&&(N-=.5*k.left),K(k.top,N,$,R,H)),k.bottom&&(N=_.x,$=_.y+S.height,R=_.x+S.width,H=_.y+S.height,k.right&&(R+=.5*k.right),k.left&&(N-=.5*k.left),K(k.bottom,N,$,R,H)),k.left&&(N=_.x,$=_.y,R=_.x,H=_.y+S.height,k.top&&($-=.5*k.top),k.bottom&&(H+=.5*k.bottom),K(k.left,N,$,R,H)),k.right&&(N=_.x+S.width,$=_.y,R=_.x+S.width,H=_.y+S.height,k.top&&($-=.5*k.top),k.bottom&&(H+=.5*k.bottom),K(k.right,N,$,R,H));function K(J,V,Z,z,D){w.getDocument().setLineWidth(J),w.getDocument().line(V,Z,z,D,"S")}}function A(w,S,_,k){var N=S.settings.margin.bottom,$=S.settings.showFoot;return($==="everyPage"||$==="lastPage"&&_)&&(N+=S.getFootHeight(S.columns)),w.pageSize().height-k.y-N}function j(w,S,_,k,N,$){N===void 0&&(N=[]),$===void 0&&($=!1),w.applyStyles(w.userStyles),S.settings.showFoot==="everyPage"&&!$&&S.foot.forEach(function(H){return B(w,S,H,k,N)}),S.callEndPageHooks(w,k);var R=S.settings.margin;(0,c.addTableBorder)(w,S,_,k),E(w),S.pageNumber++,S.pageCount++,k.x=R.left,k.y=R.top,_.y=R.top,S.callWillDrawPageHooks(w,k),S.settings.showHead==="everyPage"&&(S.head.forEach(function(H){return B(w,S,H,k,N)}),w.applyStyles(w.userStyles))}l.addPage=j;function E(w){var S=w.pageNumber();w.setPage(S+1);var _=w.pageNumber();return _===S?(w.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(d,m,g){var p;g===void 0&&(g={});var v=(0,c.getPageAvailableWidth)(d,m),y=new Map,b=[],x=[],C=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?C=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(C=[m.settings.horizontalPageBreakRepeat]),C.forEach(function(M){var B=m.columns.find(function(L){return L.dataKey===M||L.index===M});B&&!y.has(B.index)&&(y.set(B.index,!0),b.push(B.index),x.push(m.columns[B.index]),v-=B.wrappedWidth)});for(var O=!0,I=(p=g==null?void 0:g.start)!==null&&p!==void 0?p:0;I<m.columns.length;){if(y.has(I)){I++;continue}var T=m.columns[I].wrappedWidth;if(O||v>=T)O=!1,b.push(I),x.push(m.columns[I]),v-=T;else break;I++}return{colIndexes:b,columns:x,lastIndex:I-1}}function h(d,m){for(var g=[],p=0;p<m.columns.length;p++){var v=f(d,m,{start:p});v.columns.length&&(g.push(v),p=v.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=h},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(b,x){h(b,x);var C=[],O=0;x.columns.forEach(function(T){var M=T.getMaxCustomCellWidth(x);M?T.width=M:(T.width=T.wrappedWidth,C.push(T)),O+=T.width});var I=x.getWidth(b.pageSize().width)-O;I&&(I=d(C,I,function(T){return Math.max(T.minReadableWidth,T.minWidth)})),I&&(I=d(C,I,function(T){return T.minWidth})),I=Math.abs(I),!x.settings.horizontalPageBreak&&I>.1/b.scaleFactor()&&(I=I<1?I:Math.round(I),console.warn("Of the table content, ".concat(I," units width could not fit page"))),g(x),p(x,b),m(x)}l.calculateWidths=f;function h(b,x){var C=b.scaleFactor(),O=x.settings.horizontalPageBreak,I=(0,c.getPageAvailableWidth)(b,x);x.allRows().forEach(function(T){for(var M=0,B=x.columns;M<B.length;M++){var L=B[M],P=T.cells[L.index];if(P){var A=x.hooks.didParseCell;x.callCellHooks(b,A,P,T,L,null);var j=P.padding("horizontal");P.contentWidth=(0,c.getStringWidth)(P.text,P.styles,b)+j;var E=(0,c.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,b);if(P.minReadableWidth=E+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||O===!0)P.contentWidth>I?(P.minWidth=I,P.wrappedWidth=I):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var w=10/C;P.minWidth=P.styles.minCellWidth||w,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),x.allRows().forEach(function(T){for(var M=0,B=x.columns;M<B.length;M++){var L=B[M],P=T.cells[L.index];if(P&&P.colSpan===1)L.wrappedWidth=Math.max(L.wrappedWidth,P.wrappedWidth),L.minWidth=Math.max(L.minWidth,P.minWidth),L.minReadableWidth=Math.max(L.minReadableWidth,P.minReadableWidth);else{var A=x.styles.columnStyles[L.dataKey]||x.styles.columnStyles[L.index]||{},j=A.cellWidth||A.minCellWidth;j&&typeof j=="number"&&(L.minWidth=j,L.wrappedWidth=j)}P&&(P.colSpan>1&&!L.minWidth&&(L.minWidth=P.minWidth),P.colSpan>1&&!L.wrappedWidth&&(L.wrappedWidth=P.minWidth))}})}function d(b,x,C){for(var O=x,I=b.reduce(function(w,S){return w+S.wrappedWidth},0),T=0;T<b.length;T++){var M=b[T],B=M.wrappedWidth/I,L=O*B,P=M.width+L,A=C(M),j=P<A?A:P;x-=j-M.width,M.width=j}if(x=Math.round(x*1e10)/1e10,x){var E=b.filter(function(w){return x<0?w.width>C(w):!0});E.length&&(x=d(E,x,C))}return x}l.resizeColumns=d;function m(b){for(var x={},C=1,O=b.allRows(),I=0;I<O.length;I++)for(var T=O[I],M=0,B=b.columns;M<B.length;M++){var L=B[M],P=x[L.index];if(C>1)C--,delete T.cells[L.index];else if(P)P.cell.height+=T.height,C=P.cell.colSpan,delete T.cells[L.index],P.left--,P.left<=1&&delete x[L.index];else{var A=T.cells[L.index];if(!A)continue;if(A.height=T.height,A.rowSpan>1){var j=O.length-I,E=A.rowSpan>j?j:A.rowSpan;x[L.index]={cell:A,left:E,row:T}}}}}function g(b){for(var x=b.allRows(),C=0;C<x.length;C++)for(var O=x[C],I=null,T=0,M=0,B=0;B<b.columns.length;B++){var L=b.columns[B];if(M-=1,M>1&&b.columns[B+1])T+=L.width,delete O.cells[L.index];else if(I){var P=I;delete O.cells[L.index],I=null,P.width=L.width+T}else{var P=O.cells[L.index];if(!P)continue;if(M=P.colSpan,T=0,P.colSpan>1){I=P,T+=L.width;continue}P.width=L.width+T}}}function p(b,x){for(var C={count:0,height:0},O=0,I=b.allRows();O<I.length;O++){for(var T=I[O],M=0,B=b.columns;M<B.length;M++){var L=B[M],P=T.cells[L.index];if(P){x.applyStyles(P.styles,!0);var A=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=x.splitTextToSize(P.text,A+1/x.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=v(P.text,A,P.styles,x,"...");else if(P.styles.overflow==="hidden")P.text=v(P.text,A,P.styles,x,"");else if(typeof P.styles.overflow=="function"){var j=P.styles.overflow(P.text,A);typeof j=="string"?P.text=[j]:P.text=j}P.contentHeight=P.getContentHeight(x.scaleFactor(),x.getLineHeightFactor());var E=P.contentHeight/P.rowSpan;P.rowSpan>1&&C.count*C.height<E*P.rowSpan?C={height:E,count:P.rowSpan}:C&&C.count>0&&C.height>E&&(E=C.height),E>T.height&&(T.height=E)}}C.count--}}function v(b,x,C,O,I){return b.map(function(T){return y(T,x,C,O,I)})}l.ellipsize=v;function y(b,x,C,O,I){var T=1e4*O.scaleFactor();if(x=Math.ceil(x*T)/T,x>=(0,c.getStringWidth)(b,C,O))return b;for(;x<(0,c.getStringWidth)(b+I,C,O)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+I}},964:function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o].call(u.exports,u,u.exports,a),u.exports}var s={};return function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return h.Table}});var d=a(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var m=a(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return m.Row}});function g(x){(0,l.default)(x)}o.applyPlugin=g;function p(x,C){var O=(0,u.parseInput)(x,C),I=(0,f.createTable)(x,O);(0,c.drawTable)(x,I)}function v(x,C){var O=(0,u.parseInput)(x,C);return(0,f.createTable)(x,O)}o.__createTable=v;function y(x,C){(0,c.drawTable)(x,C)}o.__drawTable=y;try{var b=a(964);b.jsPDF&&(b=b.jsPDF),g(b)}catch{}o.default=p}(),s}()})})(Fz);var cye=Fz.exports;const fye=yo(cye);function x9(e){return Number.isInteger(e)?e.toLocaleString("es-CL"):e.toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})}const sr={primary:"FF1E40AF",primaryLight:"FFDBEAFE",success:"FF22C55E",danger:"FFEF4444",dangerLight:"FFFEE2E2",gray:"FF6B7280",grayLight:"FFF3F4F6",white:"FFFFFFFF"};async function hye(e,t,r){const n=new w6.Workbook;n.creator="Baader 200 App",n.created=new Date;const i=n.addWorksheet("Repuestos"),a=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Total Solicitado (USD)",key:"totalSolicitadoUSD",width:18},{header:"Stock en Bodega",key:"stockBodega",width:15},{header:"Total Stock (USD)",key:"totalStockUSD",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16}];r&&r>0&&(a.splice(5,0,{header:`Total Solicitado (CLP) @${r.toFixed(0)}`,key:"totalSolicitadoCLP",width:20}),a.splice(8,0,{header:`Total Stock (CLP) @${r.toFixed(0)}`,key:"totalStockCLP",width:18}),a.push({header:`Total General (CLP) @${r.toFixed(0)}`,key:"totalCLP",width:20})),a.push({header:"Tags",key:"tags",width:25}),i.columns=a,e.forEach(l=>{var f;const u={codigoSAP:l.codigoSAP,codigoBaader:l.codigoBaader,descripcion:l.textoBreve,cantidadSolicitada:l.cantidadSolicitada,totalSolicitadoUSD:l.valorUnitario*l.cantidadSolicitada,stockBodega:l.cantidadStockBodega,totalStockUSD:l.valorUnitario*(l.cantidadStockBodega||0),valorUnitario:l.valorUnitario,total:l.total,tags:((f=l.tags)==null?void 0:f.join(", "))||""};r&&r>0&&(u.totalSolicitadoCLP=Math.round(l.valorUnitario*l.cantidadSolicitada*r),u.totalStockCLP=Math.round(l.valorUnitario*(l.cantidadStockBodega||0)*r),u.totalCLP=Math.round((l.total||0)*r));const c=i.addRow(u);c.getCell("valorUnitario").numFmt='"$"#,##0.00',c.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',c.getCell("totalStockUSD").numFmt='"$"#,##0.00',c.getCell("total").numFmt='"$"#,##0.00',r&&r>0&&(c.getCell("totalSolicitadoCLP").numFmt='"$"#,##0',c.getCell("totalStockCLP").numFmt='"$"#,##0',c.getCell("totalCLP").numFmt='"$"#,##0')});const s=await n.xlsx.writeBuffer(),o=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});gz.saveAs(o,`${t}.xlsx`)}async function dye(e,t={formato:"completo"},r="repuestos_baader_200"){if(t.formato==="simple")return hye(e,r,t.tipoCambio);const{incluirResumen:n=!0,incluirSinStock:i=!0,incluirPorTags:a=!0,incluirEstilos:s=!0,tipoCambio:o}=t,l=new w6.Workbook;l.creator="Baader 200 App",l.created=new Date;const u=l.addWorksheet("Detalle Repuestos",{views:[{state:"frozen",xSplit:0,ySplit:1}]}),c=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Total Solicitado (USD)",key:"totalSolicitadoUSD",width:18},{header:"Stock en Bodega",key:"stockBodega",width:15},{header:"Total Stock (USD)",key:"totalStockUSD",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16}];o&&o>0&&(c.splice(5,0,{header:`Total Solicitado (CLP) @${o.toFixed(0)}`,key:"totalSolicitadoCLP",width:20}),c.splice(8,0,{header:`Total Stock (CLP) @${o.toFixed(0)}`,key:"totalStockCLP",width:18}),c.push({header:`Total General (CLP) @${o.toFixed(0)}`,key:"totalCLP",width:20})),c.push({header:"Tags",key:"tags",width:25},{header:"lt. Act. Inventario",key:"ultimaAct",width:16},{header:"Img Manual",key:"imgManual",width:10},{header:"Fotos Reales",key:"fotosReales",width:11}),u.columns=c;const f=c.length;if(s){const p=u.getRow(1);p.font={bold:!0,color:{argb:sr.white}},p.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primary}},p.alignment={vertical:"middle",horizontal:"center"},p.height=25}e.forEach((p,v)=>{var x;const y={codigoSAP:p.codigoSAP,codigoBaader:p.codigoBaader,descripcion:p.textoBreve,cantidadSolicitada:p.cantidadSolicitada,totalSolicitadoUSD:p.valorUnitario*p.cantidadSolicitada,stockBodega:p.cantidadStockBodega,totalStockUSD:p.valorUnitario*(p.cantidadStockBodega||0),valorUnitario:p.valorUnitario,total:p.total,tags:((x=p.tags)==null?void 0:x.length)>0?p.tags.join(", "):null,ultimaAct:p.fechaUltimaActualizacionInventario?new Date(p.fechaUltimaActualizacionInventario).toLocaleDateString("es-CL"):null,imgManual:p.imagenesManual.length,fotosReales:p.fotosReales.length};o&&o>0&&(y.totalSolicitadoCLP=Math.round(p.valorUnitario*p.cantidadSolicitada*o),y.totalStockCLP=Math.round(p.valorUnitario*(p.cantidadStockBodega||0)*o),y.totalCLP=Math.round((p.total||0)*o));const b=u.addRow(y);if(s){v%2===1&&(b.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}});const C=b.getCell("stockBodega");p.cantidadStockBodega===0?(C.font={bold:!0,color:{argb:sr.danger}},C.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}}):C.font={bold:!0,color:{argb:sr.success}}}b.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',b.getCell("totalStockUSD").numFmt='"$"#,##0.00',b.getCell("valorUnitario").numFmt='"$"#,##0.00',b.getCell("total").numFmt='"$"#,##0.00',o&&o>0&&(b.getCell("totalSolicitadoCLP").numFmt='"$"#,##0',b.getCell("totalStockCLP").numFmt='"$"#,##0',b.getCell("totalCLP").numFmt='"$"#,##0')});const h={codigoSAP:null,codigoBaader:null,descripcion:"TOTALES",cantidadSolicitada:{formula:`SUM(D2:D${e.length+1})`},totalSolicitadoUSD:{formula:`SUM(E2:E${e.length+1})`},stockBodega:{formula:`SUM(F2:F${e.length+1})`},totalStockUSD:{formula:`SUM(G2:G${e.length+1})`},valorUnitario:null,total:{formula:`SUM(H2:H${e.length+1})`},tags:null,ultimaAct:null};o&&o>0?(h.totalSolicitadoCLP={formula:`SUM(I2:I${e.length+1})`},h.totalStockCLP={formula:`SUM(J2:J${e.length+1})`},h.totalCLP={formula:`SUM(K2:K${e.length+1})`},h.imgManual={formula:`SUM(N2:N${e.length+1})`},h.fotosReales={formula:`SUM(O2:O${e.length+1})`}):(h.imgManual={formula:`SUM(L2:L${e.length+1})`},h.fotosReales={formula:`SUM(M2:M${e.length+1})`});const d=u.addRow(h);if(s&&(d.font={bold:!0},d.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}}),d.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',d.getCell("totalStockUSD").numFmt='"$"#,##0.00',d.getCell("total").numFmt='"$"#,##0.00',o&&o>0&&(d.getCell("totalSolicitadoCLP").numFmt='"$"#,##0',d.getCell("totalStockCLP").numFmt='"$"#,##0',d.getCell("totalCLP").numFmt='"$"#,##0'),u.autoFilter={from:{row:1,column:1},to:{row:e.length+1,column:f}},s&&u.eachRow(p=>{p.eachCell(v=>{v.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),n){const p=l.addWorksheet(" Dashboard"),v=e.length,y=e.reduce((le,fe)=>le+fe.cantidadSolicitada,0),b=e.reduce((le,fe)=>le+fe.cantidadStockBodega,0),x=e.reduce((le,fe)=>le+fe.total,0),C=e.filter(le=>le.cantidadStockBodega>0).length,O=e.filter(le=>le.cantidadStockBodega===0).length,I=e.filter(le=>le.imagenesManual.length>0).length,T=e.filter(le=>le.fotosReales.length>0).length,M=v>0?x/v:0,B=v>0?b/v:0,L=v>0?C/v*100:0,P=v>0?O/v*100:0,A=new Set;e.forEach(le=>{var fe;return(fe=le.tags)==null?void 0:fe.forEach(ie=>A.add(ie))}),p.getColumn(1).width=3,p.getColumn(2).width=22,p.getColumn(3).width=18,p.getColumn(4).width=3,p.getColumn(5).width=22,p.getColumn(6).width=18,p.getColumn(7).width=3,p.getColumn(8).width=22,p.getColumn(9).width=18,p.mergeCells("B2:I2");const j=p.getCell("B2");j.value=" DASHBOARD - Repuestos Baader 200",j.font={bold:!0,size:20,color:{argb:sr.primary}},j.alignment={horizontal:"center",vertical:"middle"},p.getRow(2).height=35,p.mergeCells("B3:I3");const E=p.getCell("B3");E.value=`Generado: ${new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,E.font={size:11,color:{argb:sr.gray}},E.alignment={horizontal:"center"};const w=(le,fe,ie,oe,be)=>{const ve=p.getCell(`${le}5`);ve.value=fe,ve.font={size:10,color:{argb:sr.gray}},ve.alignment={horizontal:"center"};const we=p.getCell(`${le}6`);oe==="currency"?(we.value=ie,we.numFmt='"USD "$#,##0.00'):oe==="percent"?(we.value=ie/100,we.numFmt="0.0%"):oe==="number"?(we.value=ie,we.numFmt="#,##0"):we.value=ie,we.font={bold:!0,size:24,color:{argb:be}},we.alignment={horizontal:"center",vertical:"middle"},p.getRow(6).height=40};p.mergeCells("B5:C5"),p.mergeCells("B6:C6"),w("B"," TOTAL REPUESTOS",v,"number",sr.primary),p.mergeCells("E5:F5"),p.mergeCells("E6:F6"),w("E"," VALOR TOTAL",x,"currency",sr.success),p.mergeCells("H5:I5"),p.mergeCells("H6:I6"),w("H"," SIN STOCK",O,"number",sr.danger),p.mergeCells("B9:C9");const S=p.getCell("B9");S.value=" MTRICAS PRINCIPALES",S.font={bold:!0,size:12,color:{argb:sr.primary}},S.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},[["Cant. Solicitada Total",y,"#,##0"],["Stock Bodega Total",b,"#,##0"],["Valor Promedio/Item",M,'"$"#,##0.00'],["Stock Promedio/Item",B,"0.0"],["% Con Stock",L/100,"0.0%"],["% Sin Stock",P/100,"0.0%"]].forEach((le,fe)=>{const ie=10+fe;p.getCell(`B${ie}`).value=le[0],p.getCell(`B${ie}`).font={size:10};const oe=p.getCell(`C${ie}`);oe.value=le[1],oe.numFmt=le[2],oe.font={bold:!0},oe.alignment={horizontal:"right"},fe%2===0&&(p.getCell(`B${ie}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("E9:F9");const k=p.getCell("E9");k.value=" DOCUMENTACIN",k.font={bold:!0,size:12,color:{argb:sr.primary}},k.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},[["Con Imagen Manual",I,v],["Sin Imagen Manual",v-I,v],["Con Fotos Reales",T,v],["Sin Fotos Reales",v-T,v],["Total Imgenes Manual",e.reduce((le,fe)=>le+fe.imagenesManual.length,0),null],["Total Fotos Reales",e.reduce((le,fe)=>le+fe.fotosReales.length,0),null]].forEach((le,fe)=>{const ie=10+fe;p.getCell(`E${ie}`).value=le[0],p.getCell(`E${ie}`).font={size:10};const oe=p.getCell(`F${ie}`);le[2],oe.value=le[1],oe.numFmt="#,##0",oe.font={bold:!0},oe.alignment={horizontal:"right"},fe%2===0&&(p.getCell(`E${ie}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("H9:I9");const $=p.getCell("H9");$.value=" DISTRIBUCIN POR TAGS",$.font={bold:!0,size:12,color:{argb:sr.primary}},$.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},Array.from(A).slice(0,6).map(le=>{const fe=e.filter(ie=>{var oe;return(oe=ie.tags)==null?void 0:oe.includes(le)}).length;return[le,fe]}).forEach((le,fe)=>{const ie=10+fe;p.getCell(`H${ie}`).value=le[0],p.getCell(`H${ie}`).font={size:10};const oe=p.getCell(`I${ie}`);oe.value=le[1],oe.numFmt="#,##0",oe.font={bold:!0},oe.alignment={horizontal:"right"},fe%2===0&&(p.getCell(`H${ie}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("B18:I18");const H=p.getCell("B18");H.value=" COBERTURA DE STOCK",H.font={bold:!0,size:12,color:{argb:sr.primary}};const K=50,J=Math.round(L/100*K),V=K-J,Z="".repeat(J)+"".repeat(V);p.mergeCells("B19:I19");const z=p.getCell("B19");z.value=Z,z.font={size:14,color:{argb:L>=50?sr.success:sr.danger}},z.alignment={horizontal:"center"},p.mergeCells("B20:I20");const D=p.getCell("B20");D.value=`${C} con stock (${L.toFixed(1)}%) | ${O} sin stock (${P.toFixed(1)}%)`,D.font={size:10,color:{argb:sr.gray}},D.alignment={horizontal:"center"},p.mergeCells("B22:F22");const G=p.getCell("B22");G.value=" TOP 5 REPUESTOS MS COSTOSOS",G.font={bold:!0,size:12,color:{argb:sr.primary}},G.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}};const te=[...e].sort((le,fe)=>fe.total-le.total).slice(0,5);["#","Cdigo","Descripcin","Cant.","Total USD"].forEach((le,fe)=>{const ie=["B","C","D","E","F"],oe=p.getCell(`${ie[fe]}23`);oe.value=le,oe.font={bold:!0,size:9,color:{argb:sr.white}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.gray}},oe.alignment={horizontal:"center"}}),te.forEach((le,fe)=>{const ie=24+fe;p.getCell(`B${ie}`).value=fe+1,p.getCell(`C${ie}`).value=le.codigoSAP||le.codigoBaader,p.getCell(`D${ie}`).value=le.textoBreve.substring(0,30)+(le.textoBreve.length>30?"...":""),p.getCell(`E${ie}`).value=le.cantidadSolicitada;const oe=p.getCell(`F${ie}`);oe.value=le.total,oe.numFmt='"$"#,##0.00',oe.font={bold:!0,color:{argb:sr.success}},fe%2===0&&["B","C","D","E","F"].forEach(be=>{p.getCell(`${be}${ie}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}}})}),p.mergeCells("H22:I22");const ae=p.getCell("H22");ae.value=" RESUMEN RPIDO",ae.font={bold:!0,size:12,color:{argb:sr.primary}},ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}};const se=[["Repuestos Totales",v],["Valor Total",x],["Urgentes (sin stock)",O],["Con documentacin",I+T],["Tags utilizados",A.size]];if(["Concepto","Valor"].forEach((le,fe)=>{const ie=["H","I"],oe=p.getCell(`${ie[fe]}23`);oe.value=le,oe.font={bold:!0,size:9,color:{argb:sr.white}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.gray}},oe.alignment={horizontal:"center"}}),se.forEach((le,fe)=>{const ie=24+fe;p.getCell(`H${ie}`).value=le[0],p.getCell(`H${ie}`).font={size:10};const oe=p.getCell(`I${ie}`);oe.value=le[1],fe===1?oe.numFmt='"$"#,##0.00':oe.numFmt="#,##0",oe.font={bold:!0},oe.alignment={horizontal:"right"},fe%2===0&&(p.getCell(`H${ie}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),s)for(let le=9;le<=15;le++)["B","C","E","F","H","I"].forEach(fe=>{const ie=p.getCell(`${fe}${le}`);ie.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}if(i){const p=e.filter(v=>v.cantidadStockBodega===0);if(p.length>0){const v=l.addWorksheet("Sin Stock",{views:[{state:"frozen",xSplit:0,ySplit:1}]});if(v.columns=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:"Cantidad Solicitada",key:"cantidadSolicitada",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16},{header:"Tags",key:"tags",width:25}],s){const b=v.getRow(1);b.font={bold:!0,color:{argb:sr.white}},b.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.danger}},b.alignment={vertical:"middle",horizontal:"center"}}p.forEach((b,x)=>{var O;const C=v.addRow({codigoSAP:b.codigoSAP,codigoBaader:b.codigoBaader,descripcion:b.textoBreve,cantidadSolicitada:b.cantidadSolicitada,valorUnitario:b.valorUnitario,total:b.total,tags:((O=b.tags)==null?void 0:O.length)>0?b.tags.join(", "):null});C.getCell("valorUnitario").numFmt='"$"#,##0.00',C.getCell("total").numFmt='"$"#,##0.00',s&&x%2===1&&(C.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}})});const y=v.addRow({codigoSAP:null,codigoBaader:null,descripcion:`TOTAL (${p.length} repuestos)`,cantidadSolicitada:p.reduce((b,x)=>b+x.cantidadSolicitada,0),valorUnitario:null,total:p.reduce((b,x)=>b+x.total,0),tags:null});s&&(y.font={bold:!0},y.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}}),y.getCell("total").numFmt='"$"#,##0.00'}}if(a){const p=new Set;if(e.forEach(v=>{var y;return(y=v.tags)==null?void 0:y.forEach(b=>p.add(b))}),p.size>0){const v=l.addWorksheet("Por Tags");if(v.columns=[{header:"Tag",key:"tag",width:25},{header:"Cantidad Repuestos",key:"cantidad",width:18},{header:"Cant. Solicitada",key:"cantSolicitada",width:15},{header:"Stock Total",key:"stockTotal",width:12},{header:"Valor Total (USD)",key:"valorTotal",width:16}],s){const y=v.getRow(1);y.font={bold:!0,color:{argb:sr.white}},y.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primary}},y.alignment={vertical:"middle",horizontal:"center"}}Array.from(p).sort().forEach((y,b)=>{const x=e.filter(O=>{var I;return(I=O.tags)==null?void 0:I.includes(y)}),C=v.addRow({tag:y,cantidad:x.length,cantSolicitada:x.reduce((O,I)=>O+I.cantidadSolicitada,0),stockTotal:x.reduce((O,I)=>O+I.cantidadStockBodega,0),valorTotal:x.reduce((O,I)=>O+I.total,0)});C.getCell("valorTotal").numFmt='"$"#,##0.00',s&&b%2===1&&(C.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),v.autoFilter={from:{row:1,column:1},to:{row:p.size+1,column:5}}}}const m=await l.xlsx.writeBuffer(),g=new Blob([m],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});gz.saveAs(g,`${r}.xlsx`)}async function pye(e,t={},r){const{includeCharts:n=!0,filename:i="repuestos_baader_200"}=t,a=new tr("p","mm","a4"),s=a.internal.pageSize.getWidth(),o=a.internal.pageSize.getHeight(),l=8,u=s-2*l,c=await GQ(e);console.log("Imgenes cargadas:",c.size),a.setFontSize(16),a.setFont("helvetica","bold"),a.setTextColor(30,64,175),a.text("Repuestos Baader 200",s/2,20,{align:"center"}),a.setFontSize(10),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,s/2,28,{align:"center"});const f=e.reduce((x,C)=>x+C.cantidadSolicitada,0),h=e.reduce((x,C)=>x+C.cantidadStockBodega,0),d=e.reduce((x,C)=>x+C.total,0),m=e.filter(x=>x.imagenesManual.length>0).length,g=e.filter(x=>x.fotosReales.length>0).length,p=e.filter(x=>x.cantidadStockBodega>0).length,v=e.length-p;let y=38;if(n){const x=l+5,C=38,O=35,I=40;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(60,60,60),a.text("Cantidad vs Stock",x+O,C-3,{align:"center"});const T=Math.max(f,h,1),M=f/T*I,B=h/T*I;a.setFillColor(59,130,246),a.roundedRect(x,C+I-M,15,M,1,1,"F"),a.setFontSize(7),a.setTextColor(59,130,246),a.text(f.toString(),x+7.5,C+I-M-2,{align:"center"}),a.setFillColor(34,197,94),a.roundedRect(x+20,C+I-B,15,B,1,1,"F"),a.setTextColor(34,197,94),a.text(h.toString(),x+27.5,C+I-B-2,{align:"center"}),a.setFontSize(6),a.setTextColor(80,80,80),a.text("Solicitada",x+7.5,C+I+5,{align:"center"}),a.text("Stock",x+27.5,C+I+5,{align:"center"});const L=s/2,P=C+20,A=18;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(60,60,60),a.text("Documentacin",L,C-3,{align:"center"});const j=e.length;if(j>0){const _=m-e.filter(J=>J.imagenesManual.length>0&&J.fotosReales.length>0).length,k=g-e.filter(J=>J.imagenesManual.length>0&&J.fotosReales.length>0).length,N=e.filter(J=>J.imagenesManual.length>0&&J.fotosReales.length>0).length,$=e.length-m-k;let R=-Math.PI/2;const H=[{value:N,color:[34,197,94],label:"Ambas"},{value:_,color:[59,130,246],label:"Manual"},{value:k,color:[168,85,247],label:"Real"},{value:Math.max(0,$),color:[209,213,219],label:"Sin img"}].filter(J=>J.value>0);H.forEach(J=>{const V=J.value/j*2*Math.PI,Z=R+V;a.setFillColor(J.color[0],J.color[1],J.color[2]);const z=30,D=[[L,P]];for(let te=0;te<=z;te++){const ae=R+V*te/z;D.push([L+Math.cos(ae)*A,P+Math.sin(ae)*A])}D.push([L,P]),a.setDrawColor(255,255,255),a.setLineWidth(.5);let G=`${D[0][0]} ${D[0][1]} m`;for(let te=1;te<D.length;te++)G+=` ${D[te][0]} ${D[te][1]} l`;for(let te=0;te<z;te++){const ae=R+V*te/z,se=R+V*(te+1)/z;a.triangle(L,P,L+Math.cos(ae)*A,P+Math.sin(ae)*A,L+Math.cos(se)*A,P+Math.sin(se)*A,"F")}R=Z});let K=C+I+3;a.setFontSize(6),H.forEach((J,V)=>{const Z=L-20+V%2*25,z=K+Math.floor(V/2)*6;a.setFillColor(J.color[0],J.color[1],J.color[2]),a.rect(Z,z-2,3,3,"F"),a.setTextColor(80,80,80),a.text(`${J.label}: ${J.value}`,Z+4,z,{align:"left"})})}const E=s-l-45;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(60,60,60),a.text("Disponibilidad",E+20,C-3,{align:"center"});const w=e.length>0?p/e.length*100:0,S=C+5;a.setFillColor(229,231,235),a.roundedRect(E,S,40,8,2,2,"F"),a.setFillColor(34,197,94),a.roundedRect(E,S,40*(w/100),8,2,2,"F"),a.setFontSize(7),a.setFont("helvetica","bold"),a.setTextColor(255,255,255),w>20&&a.text(`${Math.round(w)}%`,E+20,S+5.5,{align:"center"}),a.setFontSize(6),a.setTextColor(34,197,94),a.text(`${p} con stock`,E+20,S+14,{align:"center"}),a.setTextColor(239,68,68),a.text(`${v} sin stock`,E+20,S+19,{align:"center"}),a.setFillColor(30,64,175),a.roundedRect(E,S+26,40,14,2,2,"F"),a.setFontSize(7),a.setFont("helvetica","bold"),a.setTextColor(255,255,255),a.text("VALOR TOTAL",E+20,S+32,{align:"center"}),a.setFontSize(8),a.text(`$${d.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,E+20,S+38,{align:"center"}),y=C+I+20}a.setFontSize(10),a.setFont("helvetica","bold"),a.setTextColor(30,64,175),a.text("Resumen",s/2,y,{align:"center"}),fye(a,{startY:y+5,head:[["Concepto","Valor"]],body:[["Total Repuestos",e.length.toString()],["Cant. Solicitada Total",f.toString()],["Stock Bodega Total",h.toString()],["Valor Total (USD)",`$${d.toLocaleString("en-US",{minimumFractionDigits:2})}`],["Con Imgenes Manual",`${m} (${Math.round(m/e.length*100)}%)`],["Con Fotos Reales",`${g} (${Math.round(g/e.length*100)}%)`]],theme:"striped",headStyles:{fillColor:[30,64,175]},margin:{left:l+30,right:l+30},styles:{fontSize:9}}),a.addPage(),a.setFontSize(12),a.setFont("helvetica","bold"),a.setTextColor(30,64,175),a.text("Detalle de Repuestos",s/2,12,{align:"center"}),a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(100,100,100),a.text(`${e.length} repuestos`,s/2,17,{align:"center"});let b=22;for(let x=0;x<e.length;x++){const C=e[x],O=[...C.imagenesManual,...C.fotosReales],I=O.length>0,T=I?42:26;b+T>o-10&&(a.addPage(),b=10);const M=I?u*.35:u,B=l+M,L=u-M;a.setDrawColor(200,200,200),a.setFillColor(255,255,255),a.roundedRect(l,b,u,T,1,1,"FD");const P=l+2;let A=b+5;a.setFontSize(9),a.setFont("helvetica","bold"),a.setTextColor(30,64,175),a.text(`N Parte Manual: ${C.codigoBaader||"-"}`,P,A),A+=4,a.setFontSize(6),a.setFont("helvetica","bold"),a.setTextColor(80,80,80),a.text("Cd. SAP: ",P,A),a.setFont("helvetica","normal"),a.text(C.codigoSAP||"-",P+a.getTextWidth("Cd. SAP: "),A),A+=4,a.setFontSize(6),a.setTextColor(50,50,50);const j=M-4,E=a.splitTextToSize(C.textoBreve||"",j);a.text(E.slice(0,2),P,A),A+=Math.min(E.length,2)*2.5+2,a.setFontSize(6),a.setFont("helvetica","bold"),a.setTextColor(80,80,80),a.text("Cantidad: ",P,A),a.setFont("helvetica","normal"),a.text(`${C.cantidadSolicitada}`,P+a.getTextWidth("Cantidad: "),A),A+=3,a.setFont("helvetica","bold"),a.text("V. Unitario: ",P,A),a.setFont("helvetica","normal"),a.text(`$${x9(C.valorUnitario)}`,P+a.getTextWidth("V. Unitario: "),A),A+=3,a.setFont("helvetica","bold"),a.text("Total: ",P,A),a.setFont("helvetica","normal"),a.text(`$${x9(C.total)}`,P+a.getTextWidth("Total: "),A);const w=P+28;a.setFont("helvetica","bold"),a.text("Stock: ",w,A);const S=C.cantidadStockBodega>0?[0,130,0]:[180,0,0];if(a.setTextColor(S[0],S[1],S[2]),a.setFont("helvetica","bold"),a.text(`${C.cantidadStockBodega}`,w+a.getTextWidth("Stock: "),A),I){const k=B+2,N=L-2*2,$=T-2*2,R=b+2;if(O.length===1){const H=Math.min(N*.85,$-4),K=c.get(O[0].url),{w:J,h:V}=O5(K,H,H),Z=k+(N-J)/2,z=R+($-V)/2-1;j5(a,c,O[0].url,Z,z,J,V),a.setFontSize(4),a.setTextColor(130,130,130),a.setFont("helvetica","normal");const D=O[0].tipo==="manual"?"Manual":"Real";a.text(D,Z+J/2,z+V+2.5,{align:"center"})}else{const K=Math.min((N-3)/2-2,$-6),J=c.get(O[0].url),V=O[1]?c.get(O[1].url):null,Z=O5(J,K,K),z=V?O5(V,K,K):Z,D=Z.w+z.w+3,G=k+(N-D)/2,te=Math.max(Z.h,z.h),ae=R+($-te-4)/2,se=ae+(te-Z.h)/2;if(j5(a,c,O[0].url,G,se,Z.w,Z.h),a.setFontSize(4),a.setTextColor(130,130,130),a.setFont("helvetica","normal"),a.text(O[0].tipo==="manual"?"Manual":"Real",G+Z.w/2,se+Z.h+2.5,{align:"center"}),O[1]){const le=G+Z.w+3,fe=ae+(te-z.h)/2;j5(a,c,O[1].url,le,fe,z.w,z.h),a.text(O[1].tipo==="manual"?"Manual":"Real",le+z.w/2,fe+z.h+2.5,{align:"center"})}O.length>2&&(a.setFontSize(5),a.setTextColor(100,100,100),a.text(`+${O.length-2}`,k+N-5,b+T-2))}}20+Math.round(x/e.length*75),b+=T+2}a.save(`${i}.pdf`)}function O5(e,t,r){if(!e)return{w:t,h:r};const n=e.width/e.height;let i=t,a=t/n;return a>r&&(a=r,i=r*n),{w:i,h:a}}function j5(e,t,r,n,i,a,s){const o=t.get(r);if(o)try{const l=o.base64.includes("image/png")?"PNG":"JPEG";e.addImage(o.base64,l,n,i,a,s);return}catch(l){console.error("Error agregando imagen al PDF:",l)}e.setFillColor(245,245,245),e.setDrawColor(220,220,220),e.roundedRect(n,i,a,s,1,1,"FD"),e.setFontSize(5),e.setTextColor(180,180,180),e.text("Sin img",n+a/2,i+s/2+1,{align:"center"})}const mye=Y.lazy(()=>qm(()=>import("./PDFViewer-D9QVRcxg.js"),__vite__mapDeps([0,1])).then(e=>({default:e.PDFViewer}))),gye=Y.lazy(()=>qm(()=>import("./PDFMarkerEditor-DlFoiDIZ.js"),__vite__mapDeps([2,1])).then(e=>({default:e.PDFMarkerEditor}))),_9=()=>q.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:q.jsxs("div",{className:"text-center",children:[q.jsx(Cl,{className:"w-10 h-10 text-primary-600 animate-spin mx-auto mb-3"}),q.jsx("p",{className:"text-gray-600",children:"Cargando visor de PDF..."})]})});function vye(){const{user:e,signOut:t}=p6(),{repuestos:r,loading:n,createRepuesto:i,updateRepuesto:a,deleteRepuesto:s,getHistorial:o,importRepuestos:l,renameTag:u,deleteTag:c}=IQ(),{uploadImage:f,getManualURL:h}=OQ(),{lastSelectedRepuestoId:d,setLastSelectedRepuesto:m}=jQ(),{toasts:g,removeToast:p,success:v,error:y}=MQ(),{valor:b}=m6(),{toggleTheme:x,isDark:C}=LQ(),[O,I]=Y.useState(null),[T,M]=Y.useState(null),[B,L]=Y.useState(null),[P,A]=Y.useState(null),[j,E]=Y.useState(!1),[w,S]=Y.useState("create"),[_,k]=Y.useState("hidden"),[N,$]=Y.useState("manual"),[R,H]=Y.useState(null),[K,J]=Y.useState(),[V,Z]=Y.useState(),[z,D]=Y.useState(null),[G,te]=Y.useState(!1),[ae,se]=Y.useState(!1),[le,fe]=Y.useState(!1),[ie,oe]=Y.useState(!1),[be,ve]=Y.useState("repuestos"),[we,Se]=Y.useState([]),[Ae,Pe]=Y.useState(!1),[Re,Ue]=Y.useState(!0),[We,Ke]=Y.useState(!1),[Qe,rt]=Y.useState("completo"),[dt,Ge]=Y.useState(!0),[Et,et]=Y.useState(!0),[ut,ot]=Y.useState(!0),[xt,wt]=Y.useState(!0),[_e,kt]=Y.useState(!1),[Je,at]=Y.useState(!1),[pt,Ve]=Y.useState(!1);Y.useEffect(()=>{h().then(de=>{de&&H(de)})},[h]),Y.useEffect(()=>{if(d&&r.length>0&&!O){const de=r.find(Ce=>Ce.id===d);de&&(I(de),k("gallery"))}},[d,r,O]),Y.useEffect(()=>{m((O==null?void 0:O.id)||null)},[O,m]),Y.useEffect(()=>{const de=Ce=>{const qe=document.activeElement;(qe==null?void 0:qe.tagName)==="INPUT"||(qe==null?void 0:qe.tagName)==="TEXTAREA"||((Ce.ctrlKey||Ce.metaKey)&&Ce.key==="n"&&(Ce.preventDefault(),Ct()),(Ce.ctrlKey||Ce.metaKey)&&Ce.key==="e"&&(Ce.preventDefault(),Ot()),(Ce.ctrlKey||Ce.metaKey)&&Ce.key==="p"&&(Ce.preventDefault(),Sr()),(Ce.ctrlKey||Ce.metaKey)&&Ce.key==="m"&&(Ce.preventDefault(),k(_==="pdf"?"hidden":"pdf")),Ce.key==="Escape"&&(j?E(!1):We?Ke(!1):Ae?Pe(!1):_e?kt(!1):_!=="hidden"&&k("hidden")))};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[_,j,We,Ae,_e]);const yt=de=>{I(de),de?(k("gallery"),$("manual")):k("hidden")},Ct=()=>{M(null),S("create"),E(!0)},jt=de=>{M(de),S("edit"),E(!0)},Xt=async de=>{try{w==="edit"&&T?(await a(T.id,de,T),v("Repuesto actualizado correctamente")):(await i(de),v("Repuesto creado correctamente")),E(!1)}catch(Ce){throw y("Error al guardar el repuesto"),Ce}},ar=de=>{L(de)},Ut=async()=>{if(B){se(!0);try{await s(B.id),v("Repuesto eliminado"),(O==null?void 0:O.id)===B.id&&(I(null),k("hidden"))}catch{y("Error al eliminar el repuesto")}finally{se(!1),L(null)}}},vt=de=>{if(I(de),k("pdf"),de.vinculosManual&&de.vinculosManual.length>0){const Ce=de.vinculosManual[0];J(Ce.pagina),Z(Ce)}else J(void 0),Z(void 0)},ur=de=>{I(de),k("gallery"),$("real")},Ft=(de,Ce)=>{D(de),I(de),Oe(Ce||null),k("marker-editor")},[Ee,Oe]=Y.useState(null),He=async de=>{if(!z)return;const Ce=z.vinculosManual||[];if(Ee){const qe=Ce.map(Xe=>Xe.id===Ee.id?{...de,id:Ee.id}:Xe);await a(z.id,{vinculosManual:qe}),v("Marcador actualizado correctamente"),Z({...de,id:Ee.id})}else{const qe={...de,id:Date.now().toString()};await a(z.id,{vinculosManual:[...Ce,qe]}),v("Marcador guardado - Ahora puedes ver este repuesto en el manual"),Z(qe)}k("pdf"),D(null),Oe(null),J(de.pagina)},ft=async(de,Ce)=>{const Xe=(de.vinculosManual||[]).filter(At=>At.id!==Ce);await a(de.id,{vinculosManual:Xe}),v("Marcador eliminado"),Z(void 0)},qt=de=>{A(de)},_t=async(de,Ce,qe)=>{const Xe=await f(de,Ce,qe),At=r.find(nt=>nt.id===Ce);if(At){const nt=qe==="manual"?At.imagenesManual:At.fotosReales,ct=[...nt,{...Xe,orden:nt.length}];await a(Ce,{[qe==="manual"?"imagenesManual":"fotosReales"]:ct}),v("Imagen agregada correctamente")}return Xe},Lt=async(de,Ce)=>{const qe=Ce.tipo,At=(qe==="manual"?de.imagenesManual:de.fotosReales).filter(nt=>nt.id!==Ce.id);await a(de.id,{[qe==="manual"?"imagenesManual":"fotosReales"]:At}),v("Imagen eliminada")},Mt=async(de,Ce)=>{const qe=Ce.tipo,At=(qe==="manual"?de.imagenesManual:de.fotosReales).map(nt=>({...nt,esPrincipal:nt.id===Ce.id}));await a(de.id,{[qe==="manual"?"imagenesManual":"fotosReales"]:At})},It=async(de,Ce)=>{var Xe;const qe=((Xe=Ce[0])==null?void 0:Xe.tipo)||"manual";await a(de.id,{[qe==="manual"?"imagenesManual":"fotosReales"]:Ce})},Ht=Y.useCallback(async(de,Ce)=>{if(!O)return;const Xe=await(await fetch(de)).blob(),At=new File([Xe],`manual_page_${Ce}.png`,{type:"image/png"});await _t(At,O.id,"manual");const nt=O.vinculosManual||[];await a(O.id,{vinculosManual:[...nt,{id:Date.now().toString(),pagina:Ce,forma:"rectangulo",color:"rgba(239, 68, 68, 0.4)",descripcion:`Pgina ${Ce}`}]}),v(`Captura de pgina ${Ce} guardada`)},[O,a,v]),Ot=()=>{Ke(!0)},Zt=()=>{const de=we.length>0?we:r;dye(de,{formato:Qe,incluirResumen:dt,incluirSinStock:Et,incluirPorTags:ut,incluirEstilos:xt,tipoCambio:b>0?b:void 0}),v(`Excel exportado con ${de.length} repuestos (formato ${Qe==="simple"?"simple":"completo"})`),Ke(!1)},Sr=()=>{Pe(!0)},wr=()=>{const de=we.length>0?we:r;pye(de,{includeCharts:Re}),v(`PDF exportado con ${de.length} repuestos`),Pe(!1)},Rr=async de=>{try{await l(de),v(`${de.length} repuestos importados correctamente`)}catch(Ce){throw y("Error al importar repuestos"),Ce}},Br=()=>{at(!0);try{const de={version:Kw,fecha:new Date().toISOString(),totalRepuestos:r.length,repuestos:r.map(At=>({...At,id:At.id}))},Ce=new Blob([JSON.stringify(de,null,2)],{type:"application/json"}),qe=URL.createObjectURL(Ce),Xe=document.createElement("a");Xe.href=qe,Xe.download=`baader200_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),URL.revokeObjectURL(qe),v(`Backup exportado: ${r.length} repuestos`),kt(!1)}catch{y("Error al crear backup")}finally{at(!1)}},on=async de=>{var qe;const Ce=(qe=de.target.files)==null?void 0:qe[0];if(Ce){at(!0);try{const Xe=await Ce.text(),At=JSON.parse(Xe);if(!At.repuestos||!Array.isArray(At.repuestos))throw new Error("Formato de backup invlido");const nt=At.repuestos.map(ct=>({codigoSAP:ct.codigoSAP||"",codigoBaader:ct.codigoBaader||"",textoBreve:ct.textoBreve||"",descripcion:ct.descripcion||"",nombreManual:ct.nombreManual||"",cantidadSolicitada:ct.cantidadSolicitada||0,cantidadStockBodega:ct.cantidadStockBodega||0,valorUnitario:ct.valorUnitario||0,tags:ct.tags||[],vinculosManual:ct.vinculosManual||[],imagenesManual:ct.imagenesManual||[],fotosReales:ct.fotosReales||[]}));await l(nt),v(`Backup restaurado: ${nt.length} repuestos importados`),kt(!1)}catch{y("Error al restaurar backup: archivo invlido")}finally{at(!1),de.target.value=""}}};return n?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"spinner mx-auto mb-4"}),q.jsx("p",{className:"text-gray-600",children:"Cargando repuestos..."})]})}):q.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors",children:[q.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:q.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),q.jsxs("div",{children:[q.jsxs("h1",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg flex items-center gap-2",children:["Baader 200",q.jsxs("span",{className:"text-xs font-normal bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded-full",children:["v",Kw]})]}),q.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gestin de Repuestos"})]})]}),q.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[q.jsx(Fa,{variant:"ghost",size:"sm",onClick:()=>{k(_==="pdf"?"hidden":"pdf")},icon:q.jsx(GE,{className:"w-4 h-4"}),children:"Manual"}),q.jsx(Fa,{variant:"secondary",size:"sm",onClick:Ot,icon:q.jsx(X1,{className:"w-4 h-4"}),children:"Excel"}),q.jsx(Fa,{variant:"secondary",size:"sm",onClick:Sr,icon:q.jsx(_h,{className:"w-4 h-4"}),children:"PDF"}),q.jsx(Fa,{variant:"ghost",size:"sm",onClick:()=>kt(!0),icon:q.jsx($w,{className:"w-4 h-4"}),title:"Backup/Restore datos",children:"Backup"}),q.jsx(Fa,{variant:"secondary",size:"sm",onClick:()=>Ve(!0),icon:q.jsx(sd,{className:"w-4 h-4"}),title:"Ver reportes y anlisis",children:"Reportes"}),r.length===0&&q.jsx(Fa,{variant:"primary",size:"sm",onClick:()=>fe(!0),icon:q.jsx(Kv,{className:"w-4 h-4"}),children:"Importar"}),q.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-700"}),q.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors",title:C?"Cambiar a modo claro":"Cambiar a modo oscuro",children:C?q.jsx(e7,{className:"w-5 h-5"}):q.jsx(QE,{className:"w-5 h-5"})}),q.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[q.jsx("span",{children:e==null?void 0:e.email}),q.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",title:"Cerrar sesin",children:q.jsx(ZE,{className:"w-4 h-4"})})]})]}),q.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>te(!0),children:q.jsx(yQ,{className:"w-6 h-6"})})]})}),G&&q.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[q.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>te(!1)}),q.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-xl animate-slideInRight",children:[q.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[q.jsx("span",{className:"font-semibold",children:"Men"}),q.jsx("button",{onClick:()=>te(!1),children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"p-4 space-y-2",children:[q.jsxs("button",{onClick:()=>{k("pdf"),te(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[q.jsx(GE,{className:"w-5 h-5 text-gray-500"}),q.jsx("span",{children:"Ver Manual"})]}),q.jsxs("button",{onClick:()=>{Ot(),te(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[q.jsx(X1,{className:"w-5 h-5 text-gray-500"}),q.jsx("span",{children:"Exportar Excel"})]}),q.jsxs("button",{onClick:()=>{Sr(),te(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[q.jsx(_h,{className:"w-5 h-5 text-gray-500"}),q.jsx("span",{children:"Exportar PDF"})]}),q.jsxs("button",{onClick:()=>{kt(!0),te(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[q.jsx($w,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),q.jsx("span",{children:"Backup/Restore"})]}),q.jsxs("button",{onClick:()=>{Ve(!0),te(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[q.jsx(sd,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),q.jsx("span",{children:"Reportes y Anlisis"})]}),q.jsxs("button",{onClick:()=>{x()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[C?q.jsx(e7,{className:"w-5 h-5 text-yellow-500"}):q.jsx(QE,{className:"w-5 h-5 text-gray-500"}),q.jsx("span",{children:C?"Modo claro":"Modo oscuro"})]}),q.jsx("hr",{className:"my-4 dark:border-gray-700"}),q.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:e==null?void 0:e.email}),q.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-red-600 dark:text-red-400",children:[q.jsx(ZE,{className:"w-5 h-5"}),q.jsx("span",{children:"Cerrar sesin"})]})]})]})]}),q.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[q.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4",children:q.jsxs("div",{className:"flex items-center gap-1",children:[q.jsxs("button",{onClick:()=>{ve("repuestos"),_==="hidden"&&k("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${be==="repuestos"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[q.jsx(Tl,{className:"w-4 h-4"}),"Repuestos"]}),q.jsxs("button",{onClick:()=>{ve("stats"),k("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${be==="stats"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[q.jsx(sd,{className:"w-4 h-4"}),"Estadsticas"]})]})}),q.jsx("div",{className:"flex-1 flex overflow-hidden",children:be==="stats"?q.jsx("div",{className:"flex-1 overflow-hidden",children:q.jsx(hee,{repuestos:r})}):q.jsxs(q.Fragment,{children:[q.jsx("div",{className:`
                flex-1 min-w-0 overflow-hidden
                ${_!=="hidden"?"hidden md:block md:w-1/2 lg:w-3/5":"w-full"}
              `,children:q.jsx(BQ,{repuestos:r,selectedRepuesto:O,onSelect:yt,onEdit:jt,onDelete:ar,onViewManual:vt,onViewPhotos:ur,onViewHistory:qt,onAddNew:Ct,onMarkInManual:Ft,getHistorial:o,onManageTags:()=>oe(!0),onFilteredChange:Se})}),_!=="hidden"&&q.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-l border-gray-200 flex flex-col",children:[q.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[q.jsxs("button",{onClick:()=>k("gallery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${_==="gallery"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[q.jsx(SM,{className:"w-4 h-4"}),"Imgenes"]}),q.jsxs("button",{onClick:()=>k("pdf"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${_==="pdf"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[q.jsx(Hv,{className:"w-4 h-4"}),"Manual"]}),q.jsx("button",{onClick:()=>k("hidden"),className:"md:hidden px-3 text-gray-400 hover:text-gray-600",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),_==="gallery"&&O&&q.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[q.jsxs("button",{onClick:()=>$("manual"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${N==="manual"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Del Manual (",O.imagenesManual.length,")"]}),q.jsxs("button",{onClick:()=>$("real"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${N==="real"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Fotos Reales (",O.fotosReales.length,")"]})]}),q.jsx("div",{className:"flex-1 overflow-hidden",children:_==="gallery"?q.jsx(uee,{repuesto:O,tipo:N,onUpload:_t,onDelete:Lt,onSetPrimary:Mt,onUpdateOrder:It}):_==="marker-editor"&&z&&R?q.jsx(Y.Suspense,{fallback:q.jsx(_9,{}),children:q.jsx(gye,{pdfUrl:R,repuestoId:z.id,repuestoDescripcion:z.descripcion||z.textoBreve,existingMarker:Ee||void 0,onSave:He,onCancel:()=>{k("pdf"),D(null),Oe(null)},repuestos:r,onSelectRepuesto:de=>{D(de),I(de)}})}):q.jsx(Y.Suspense,{fallback:q.jsx(_9,{}),children:q.jsx(mye,{pdfUrl:R,targetPage:K,marker:V,onCapture:O?Ht:void 0,onEditMarker:O?de=>Ft(O,de):void 0,onDeleteMarker:O?de=>ft(O,de.id):void 0,onAddMarker:O?()=>Ft(O):void 0})})})]})]})})]}),q.jsx(VQ,{isOpen:j,onClose:()=>E(!1),onSave:Xt,repuesto:T}),q.jsx($Q,{isOpen:!!P,onClose:()=>A(null),repuesto:P,getHistorial:o}),q.jsx(qQ,{isOpen:!!B,onClose:()=>L(null),onConfirm:Ut,repuesto:B,loading:ae}),q.jsx(fee,{isOpen:le,onClose:()=>fe(!1),onImport:Rr}),q.jsx(HQ,{isOpen:ie,onClose:()=>oe(!1),repuestos:r,onRenameTag:u,onDeleteTag:c}),Ae&&q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Pe(!1),children:q.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",onClick:de=>de.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[q.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[q.jsx(_h,{className:"w-5 h-5 text-primary-600"}),"Exportar PDF"]}),q.jsx("button",{onClick:()=>Pe(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"p-5",children:[q.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se exportarn ",we.length>0?we.length:r.length," repuestos"]}),q.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[q.jsx("input",{type:"checkbox",checked:Re,onChange:de=>Ue(de.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),q.jsxs("div",{children:[q.jsx("span",{className:"font-medium text-gray-800",children:"Incluir grficos"}),q.jsx("p",{className:"text-xs text-gray-500",children:"Barras, circular e indicadores en el resumen"})]})]})]}),q.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[q.jsx("button",{onClick:()=>Pe(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),q.jsxs("button",{onClick:wr,className:"px-4 py-2 text-sm text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[q.jsx(_h,{className:"w-4 h-4"}),"Exportar"]})]})]})}),We&&q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Ke(!1),children:q.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:de=>de.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[q.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[q.jsx(X1,{className:"w-5 h-5 text-green-600"}),"Exportar Excel"]}),q.jsx("button",{onClick:()=>Ke(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"p-5 space-y-4",children:[q.jsxs("p",{className:"text-sm text-gray-600",children:["Se exportarn ",we.length>0?we.length:r.length," repuestos"]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de exportacin"}),q.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[q.jsxs("button",{onClick:()=>rt("simple"),className:`p-3 rounded-lg border-2 text-left transition-all ${Qe==="simple"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[q.jsx("div",{className:"font-medium text-gray-800",children:"Simple"}),q.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Solo datos, 1 hoja"})]}),q.jsxs("button",{onClick:()=>rt("completo"),className:`p-3 rounded-lg border-2 text-left transition-all ${Qe==="completo"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[q.jsx("div",{className:"font-medium text-gray-800",children:"Completo"}),q.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Estilos, mltiples hojas"})]})]})]}),Qe==="completo"&&q.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opciones avanzadas"}),q.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[q.jsx("input",{type:"checkbox",checked:xt,onChange:de=>wt(de.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),q.jsxs("div",{children:[q.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Incluir estilos"}),q.jsx("p",{className:"text-xs text-gray-500",children:"Colores, bordes y formato condicional"})]})]}),q.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[q.jsx("input",{type:"checkbox",checked:dt,onChange:de=>Ge(de.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),q.jsxs("div",{children:[q.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Hoja de resumen"}),q.jsx("p",{className:"text-xs text-gray-500",children:"Estadsticas y totales generales"})]})]}),q.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[q.jsx("input",{type:"checkbox",checked:Et,onChange:de=>et(de.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),q.jsxs("div",{children:[q.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Sin Stock"'}),q.jsx("p",{className:"text-xs text-gray-500",children:"Lista de repuestos con stock en 0"})]})]}),q.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[q.jsx("input",{type:"checkbox",checked:ut,onChange:de=>ot(de.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),q.jsxs("div",{children:[q.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Por Tags"'}),q.jsx("p",{className:"text-xs text-gray-500",children:"Resumen agrupado por etiquetas"})]})]})]})]}),q.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[q.jsx("button",{onClick:()=>Ke(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),q.jsxs("button",{onClick:Zt,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center gap-2",children:[q.jsx(_h,{className:"w-4 h-4"}),"Exportar Excel"]})]})]})}),_e&&q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>kt(!1),children:q.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",onClick:de=>de.stopPropagation(),children:[q.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[q.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[q.jsx($w,{className:"w-5 h-5 text-primary-600"}),"Backup / Restore"]}),q.jsx("button",{onClick:()=>kt(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:q.jsx(Pi,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"p-5 space-y-4",children:[q.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:q.jsxs("div",{className:"flex items-start gap-3",children:[q.jsx(dQ,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),q.jsxs("div",{className:"flex-1",children:[q.jsx("h4",{className:"font-semibold text-blue-800",children:"Exportar Backup"}),q.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Descarga todos los datos en formato JSON (",r.length," repuestos)"]}),q.jsxs("button",{onClick:Br,disabled:Je,className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[Je?q.jsx(Cl,{className:"w-4 h-4 animate-spin"}):q.jsx(_h,{className:"w-4 h-4"}),"Descargar Backup"]})]})]})}),q.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:q.jsxs("div",{className:"flex items-start gap-3",children:[q.jsx(pQ,{className:"w-8 h-8 text-amber-600 flex-shrink-0"}),q.jsxs("div",{className:"flex-1",children:[q.jsx("h4",{className:"font-semibold text-amber-800",children:"Restaurar Backup"}),q.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Importar datos desde un archivo JSON de backup"}),q.jsx("p",{className:"text-xs text-amber-500 mt-1",children:" Se agregarn nuevos repuestos (no reemplaza existentes)"}),q.jsxs("label",{className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors inline-flex items-center gap-2 cursor-pointer disabled:opacity-50",children:[q.jsx("input",{type:"file",accept:".json",onChange:on,disabled:Je,className:"hidden"}),Je?q.jsx(Cl,{className:"w-4 h-4 animate-spin"}):q.jsx(Kv,{className:"w-4 h-4"}),"Seleccionar archivo"]})]})]})})]}),q.jsx("div",{className:"px-5 py-3 border-t border-gray-200 bg-gray-50",children:q.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Versin actual: ",Kw,"  ",r.length," repuestos en la base de datos"]})})]})}),q.jsx(uve,{isOpen:pt,onClose:()=>Ve(!1),repuestos:we.length>0?we:r}),q.jsx(zQ,{toasts:g,onRemove:p})]})}function yye(){const{user:e,loading:t}=p6();return t?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:q.jsxs("div",{className:"text-center",children:[q.jsx("div",{className:"spinner mx-auto mb-4"}),q.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):e?q.jsx(vye,{}):q.jsx(TQ,{})}function bye(){return q.jsx(eQ,{children:q.jsx(yye,{})})}M5.createRoot(document.getElementById("root")).render(q.jsx(Il.StrictMode,{children:q.jsx(bye,{})}));export{yM as C,Cl as L,qw as M,kb as P,SQ as S,$m as T,Pi as X,CQ as Z,Yr as _,bM as a,XE as b,Yt as c,_Q as d,i1 as e,dr as f,AU as g,yo as h,q as j,Y as r};
