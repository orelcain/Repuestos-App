import{c as Y,r as a,j as e,L as je,C as Ne,a as ve,S as V,Z as Ce,b as Oe,X as qe,M as se,T as Se,P as Ae}from"./index-BtUEzWgG.js";import{p as ke,Z as Te}from"./pdf-CpWRdDjQ.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=Y("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=Y("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);ke.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function Ge({pdfUrl:X,targetPage:w,marker:c,onCapture:Z,onEditMarker:B,onDeleteMarker:H,onAddMarker:Q}){var we;const z=a.useRef(null),g=a.useRef(null),G=a.useRef(null),ae=a.useRef(null),T=typeof window<"u"&&(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window||navigator.maxTouchPoints>0),[j,Fe]=a.useState(null),[o,y]=a.useState(1),[f,Le]=a.useState(0),[m,U]=a.useState(T?.5:1),[J,_]=a.useState(!0),[ne,re]=a.useState(null),[k,W]=a.useState(!1),[le,ce]=a.useState(""),[ee,ie]=a.useState(!1),O=a.useRef(null),oe=a.useRef(T?.5:1),[b,he]=a.useState(""),[h,q]=a.useState([]),[v,F]=a.useState(-1),[A,de]=a.useState(!1),[E,I]=a.useState(!1),[te,$]=a.useState([]),[K,Me]=a.useState(new Map),D=a.useRef(null);a.useEffect(()=>{X&&(_(!0),re(null),ke.getDocument(X).promise.then(t=>{Fe(t),Le(t.numPages),_(!1),ze(t)}).catch(t=>{console.error("Error al cargar PDF:",t),re("No se pudo cargar el manual PDF"),_(!1)}))},[X]);const ze=async t=>{const s=new Map;for(let n=1;n<=t.numPages;n++)try{const x=(await(await t.getPage(n)).getTextContent()).items.filter(l=>"str"in l&&"transform"in l).map(l=>({str:l.str,transform:l.transform}));let i="",r=-1;for(const l of x){const p=l.transform[4];r!==-1&&p-r>10&&(i+=" "),i+=l.str,r=p+l.str.length*5}s.set(n,{text:i,items:x})}catch(d){console.error(`Error cargando texto de pÃ¡gina ${n}:`,d)}Me(s)};a.useEffect(()=>{const t=s=>{(s.ctrlKey||s.metaKey)&&s.key==="f"&&(s.preventDefault(),I(!0)),s.key==="Escape"&&E&&I(!1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[E]),a.useEffect(()=>{w&&w>0&&f>0&&w<=f&&y(w)},[w,f]),a.useEffect(()=>{!J&&j&&w&&w>0&&w<=f&&y(w)},[J,j,w,f]);const xe=a.useCallback(async t=>{var s,n;if(!(!j||!z.current))try{const d=await j.getPage(t),u=z.current,x=u.getContext("2d");if(!x)return;const i=d.getViewport({scale:m});if(u.height=i.height,u.width=i.width,g.current&&(g.current.height=i.height,g.current.width=i.width),await d.render({canvasContext:x,viewport:i}).promise,c&&c.pagina===t&&c.coordenadas&&g.current){const r=g.current.getContext("2d");if(r){r.clearRect(0,0,g.current.width,g.current.height);const{x:l,y:p,width:C,height:S}=c.coordenadas,R=l<=1&&p<=1&&C<=1&&S<=1;let N,P,L,M;if(R?(N=l*i.width,P=p*i.height,L=C*i.width,M=S*i.height):(N=l*m,P=p*m,L=C*m,M=S*m),r.fillStyle=c.color||"rgba(239, 68, 68, 0.4)",c.forma==="circulo"){const He=N+L/2,We=P+M/2;r.beginPath(),r.ellipse(He,We,L/2,M/2,0,0,2*Math.PI),r.fill(),c.sinBorde||(r.strokeStyle=((s=c.color)==null?void 0:s.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.stroke())}else r.fillRect(N,P,L,M),c.sinBorde||(r.strokeStyle=((n=c.color)==null?void 0:n.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.strokeRect(N,P,L,M))}}else if(g.current){const r=g.current.getContext("2d");r&&r.clearRect(0,0,g.current.width,g.current.height)}}catch(d){console.error("Error al renderizar pÃ¡gina:",d)}},[j,m,c]);a.useEffect(()=>{xe(o)},[o,xe]),a.useEffect(()=>{const t=ae.current;if(!t||!j)return;let s=null,n=0;const d=100,u=x=>{const i=t.scrollHeight>t.clientHeight,r=t.scrollTop<=0,l=t.scrollTop+t.clientHeight>=t.scrollHeight-5;i&&!r&&!l||(r&&x.deltaY<0&&o>1?(x.preventDefault(),n+=Math.abs(x.deltaY),n>=d&&(y(p=>p-1),n=0,setTimeout(()=>{t&&(t.scrollTop=t.scrollHeight)},100))):l&&x.deltaY>0&&o<f&&(x.preventDefault(),n+=Math.abs(x.deltaY),n>=d&&(y(p=>p+1),n=0,setTimeout(()=>{t&&(t.scrollTop=0)},100))),s&&clearTimeout(s),s=setTimeout(()=>{n=0},200))};return t.addEventListener("wheel",u,{passive:!1}),()=>{t.removeEventListener("wheel",u),s&&clearTimeout(s)}},[j,o,f]);const ue=()=>{o>1&&y(t=>t-1)},ge=()=>{o<f&&y(t=>t+1)},me=()=>U(t=>Math.min(t+.25,3)),pe=()=>U(t=>Math.max(t-.25,.25)),Ie=a.useCallback(t=>{if(t.touches.length===2){const s=t.touches[0],n=t.touches[1],d=Math.hypot(n.clientX-s.clientX,n.clientY-s.clientY);O.current=d,oe.current=m}},[m]),$e=a.useCallback(t=>{if(t.touches.length===2&&O.current!==null){t.preventDefault();const s=t.touches[0],n=t.touches[1],u=Math.hypot(n.clientX-s.clientX,n.clientY-s.clientY)/O.current,x=Math.min(Math.max(oe.current*u,.25),3);U(x)}},[]),De=a.useCallback(()=>{O.current=null},[]),fe=()=>{const t=parseInt(le);!isNaN(t)&&t>=1&&t<=f&&(y(t),ce(""))},ye=a.useCallback(t=>{if(!t.trim()||t.length<1){q([]),F(-1),$([]);return}de(!0);const s=[],n=t.toLowerCase().trim(),d=n.replace(/\s+/g,"");K.forEach((u,x)=>{const i=u.text.toLowerCase(),r=i.replace(/\s+/g,"");let l=!1,p=0;if(i.includes(n)&&(l=!0,p=(i.match(new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),!l&&d.length>=2&&r.includes(d)&&(l=!0,p=(r.match(new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),l){const C=i.indexOf(n)!==-1?i.indexOf(n):r.indexOf(d),S=Math.max(0,C-30),R=Math.min(u.text.length,C+t.length+30),N=(S>0?"...":"")+u.text.substring(S,R)+(R<u.text.length?"...":"");s.push({pageNum:x,text:N,matches:p})}}),s.sort((u,x)=>x.matches-u.matches),q(s),F(s.length>0?0:-1),de(!1),s.length>0&&y(s[0].pageNum)},[K]);a.useEffect(()=>(D.current&&clearTimeout(D.current),b.length>=1?D.current=setTimeout(()=>{ye(b)},150):(q([]),$([])),()=>{D.current&&clearTimeout(D.current)}),[b,ye]),a.useEffect(()=>{if(!g.current||!j||!b.trim()){$([]);return}(async()=>{if(!K.get(o))return;const n=await j.getPage(o),d=n.getViewport({scale:m}),u=await n.getTextContent(),x=b.toLowerCase().trim(),i=[];u.items.forEach(r=>{if(!("str"in r)||!("transform"in r))return;const l=r;if(l.str.toLowerCase().includes(x)){const[,,,,p,C]=l.transform,S=l.width||l.str.length*8,R=l.height||12,N=p*m,P=d.height-C*m-R*m;i.push({x:N,y:P,width:S*m,height:R*m*1.2})}}),$(i)})()},[o,b,j,m,K]),a.useEffect(()=>{if(!g.current)return;const t=g.current.getContext("2d");t&&((!c||c.pagina!==o)&&t.clearRect(0,0,g.current.width,g.current.height),te.length>0&&(t.fillStyle="rgba(255, 255, 0, 0.4)",t.strokeStyle="rgba(255, 200, 0, 0.8)",t.lineWidth=2,te.forEach(s=>{t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height)})))},[te,c,o]);const Ye=()=>{if(h.length===0)return;const t=(v+1)%h.length;F(t),y(h[t].pageNum)},Xe=()=>{if(h.length===0)return;const t=v<=0?h.length-1:v-1;F(t),y(h[t].pageNum)},Be=()=>{if(!z.current||!Z)return;const t=z.current.toDataURL("image/png");Z(t,o),ie(!1)},be=()=>{if(T)W(t=>!t);else{if(!G.current)return;if(document.fullscreenElement){const t=document;t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen(),W(!1)}else{const t=G.current;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),W(!0)}}};return a.useEffect(()=>{const t=()=>{T||W(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}},[T]),X?J?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100",children:[e.jsx(je,{className:"w-8 h-8 text-primary-600 animate-spin mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Cargando manual..."})]}):ne?e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-red-500",children:e.jsx("p",{children:ne})}):e.jsxs("div",{ref:G,className:`h-full flex flex-col bg-gray-800 ${k&&T?"fixed inset-0 z-[9999] w-screen h-screen":""}`,children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 py-2 bg-gray-900 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ue,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ne,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm",children:[o," / ",f]}),e.jsx("button",{onClick:ge,disabled:o>=f,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ve,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:le,onChange:t=>ce(t.target.value),onKeyDown:t=>t.key==="Enter"&&fe(),placeholder:"PÃ¡g.",className:"w-16 px-2 py-1 text-sm bg-gray-700 rounded border border-gray-600 text-white placeholder-gray-400",min:"1",max:f}),e.jsx("button",{onClick:fe,className:"p-2 rounded hover:bg-gray-700",title:"Ir a pÃ¡gina",children:e.jsx(V,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:pe,className:"p-2 rounded hover:bg-gray-700",title:"Alejar",children:e.jsx(Te,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm w-12 text-center",children:[Math.round(m*100),"%"]}),e.jsx("button",{onClick:me,className:"p-2 rounded hover:bg-gray-700",title:"Acercar",children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),e.jsx("button",{onClick:()=>I(!E),className:`p-2 rounded transition-colors ${E?"bg-primary-600":"hover:bg-gray-700"}`,title:"Buscar texto en PDF (Ctrl+F)",children:e.jsx(V,{className:"w-5 h-5"})}),Z&&e.jsx("button",{onClick:()=>ie(!ee),className:`p-2 rounded transition-colors ${ee?"bg-primary-600":"hover:bg-gray-700"}`,title:"Capturar imagen",children:e.jsx(Oe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:be,className:"p-2 rounded hover:bg-gray-700",title:k?"Salir de pantalla completa":"Pantalla completa",children:k?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(Ee,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"lg:hidden flex flex-col bg-gray-900 text-white",children:e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:ue,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Ne,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm font-medium px-2",children:[o," / ",f]}),e.jsx("button",{onClick:ge,disabled:o>=f,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(ve,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:pe,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(Te,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(m*100),"%"]}),e.jsx("button",{onClick:me,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),e.jsx("button",{onClick:()=>I(!E),className:`p-2 rounded transition-colors ${E?"bg-primary-600 text-white":"hover:bg-gray-700"}`,title:"Buscar en PDF",children:e.jsx(V,{className:"w-5 h-5"})}),e.jsx("button",{onClick:be,className:`p-2.5 rounded-lg transition-colors ${k?"bg-primary-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,title:k?"Salir":"Pantalla completa",children:k?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(Ee,{className:"w-5 h-5"})})]})]})}),E&&e.jsxs("div",{className:"px-4 py-3 bg-gray-800 border-b border-gray-700 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(V,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:t=>he(t.target.value),placeholder:"Buscar en el PDF... (ej: 200, 1-0201, Baader)",className:"w-full pl-10 pr-4 py-2.5 text-sm bg-gray-700 rounded-l-lg border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0}),A&&e.jsx(je,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400 animate-spin"})]}),b&&!A&&e.jsx("div",{className:`px-3 py-2.5 text-sm border-y border-gray-600 ${h.length>0?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:h.length>0?`${h.length} pÃ¡g${h.length>1?"s":""}`:"0"}),h.length>0&&e.jsxs("div",{className:"flex border border-gray-600 border-l-0 rounded-r-lg overflow-hidden",children:[e.jsx("button",{onClick:Xe,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white border-r border-gray-600",title:"Anterior (â†‘)",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Ye,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white",title:"Siguiente (â†“)",children:e.jsx(Ke,{className:"w-4 h-4"})})]}),!h.length&&b&&!A&&e.jsx("div",{className:"px-3 py-2.5 bg-gray-700 rounded-r-lg border border-l-0 border-gray-600",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"})})]}),b&&h.length>0&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("span",{children:["ðŸ“„ ",h.length," pÃ¡gina",h.length>1?"s":""," con resultados"]}),e.jsx("span",{className:"text-yellow-400",children:"ðŸ” Resaltado activo"})]}),h.map((t,s)=>e.jsxs("button",{onClick:()=>{F(s),y(t.pageNum)},className:`w-full text-left px-3 py-2 text-sm border-b border-gray-700 last:border-b-0 transition-colors ${s===v?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:["PÃ¡gina ",t.pageNum]}),t.matches>1&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${s===v?"bg-primary-700":"bg-gray-600"}`,children:[t.matches," coincidencias"]})]}),e.jsx("p",{className:"text-xs mt-1 opacity-70 truncate",children:t.text})]},`${t.pageNum}-${s}`))]}),b&&h.length===0&&!A&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 p-4 text-center",children:[e.jsxs("p",{className:"text-yellow-400 text-sm",children:['âš ï¸ No se encontrÃ³ "',b,'"']}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Prueba con otro tÃ©rmino o revisa la ortografÃ­a"})]})]}),e.jsx("button",{onClick:()=>{I(!1),he(""),q([]),F(-1),$([])},className:"p-2 text-gray-400 hover:text-white rounded hover:bg-gray-700",title:"Cerrar bÃºsqueda (Esc)",children:e.jsx(qe,{className:"w-5 h-5"})})]}),h.length>0&&v>=0&&e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-400",children:["Resultado ",v+1," de ",h.length," â€¢ PÃ¡gina ",(we=h[v])==null?void 0:we.pageNum]}),e.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-400/40 border border-yellow-500 rounded-sm"}),"Texto resaltado en amarillo"]})]})]}),ee&&e.jsxs("div",{className:"px-4 py-2 bg-primary-600 text-white text-sm flex items-center justify-between",children:[e.jsx("span",{children:"Modo captura activo - La pÃ¡gina actual serÃ¡ capturada como imagen"}),e.jsxs("button",{onClick:Be,className:"px-4 py-1 bg-white text-primary-600 rounded font-medium hover:bg-gray-100",children:["Capturar pÃ¡gina ",o]})]}),(c||Q)&&e.jsx("div",{className:"px-4 py-2 bg-gray-700 text-white text-sm flex items-center justify-between",children:c&&c.pagina===o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-green-400 font-medium",children:"Marcador en esta pÃ¡gina"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[B&&e.jsxs("button",{onClick:()=>B(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),"Editar"]}),H&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&H(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),"Eliminar"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400",children:["Marcador en pÃ¡gina ",c.pagina]}),e.jsx("button",{onClick:()=>y(c.pagina),className:"px-2 py-0.5 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700",children:"Ir al marcador"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[B&&e.jsxs("button",{onClick:()=>B(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),"Editar"]}),H&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&H(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),"Eliminar"]})]})]}):Q?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:"Sin marcador"})]}),e.jsxs("button",{onClick:Q,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 flex items-center gap-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),"Agregar marcador"]})]}):null}),e.jsx("div",{ref:ae,className:"flex-1 overflow-auto pdf-container flex items-start justify-center p-4 touch-pan-x touch-pan-y",onTouchStart:Ie,onTouchMove:$e,onTouchEnd:De,style:{touchAction:"pan-x pan-y"},children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:z,className:"pdf-page bg-white shadow-lg",style:{maxWidth:"100%"}}),e.jsx("canvas",{ref:g,className:"absolute top-0 left-0 pointer-events-none"})]})}),e.jsx("div",{className:"px-4 py-1 bg-gray-900 text-gray-400 text-xs text-center",children:T?e.jsx("span",{children:"ðŸ“± Pellizca para zoom â€¢ Desliza para navegar"}):e.jsx("span",{children:"ðŸ’¡ Usa la rueda del ratÃ³n para navegar entre pÃ¡ginas"})})]}):e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-gray-500",children:e.jsx("p",{children:"Selecciona un repuesto para ver el manual"})})}export{Ge as PDFViewer};
