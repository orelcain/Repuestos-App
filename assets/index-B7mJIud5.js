const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PDFViewer-DqF0JHXM.js","assets/zoom-out-BIKrt_a-.js","assets/PDFMarkerEditor-BxoJPV1T.js"])))=>i.map(i=>d[i]);
var bv=Object.defineProperty;var J0=tr=>{throw TypeError(tr)};var vv=(tr,er,rr)=>er in tr?bv(tr,er,{enumerable:!0,configurable:!0,writable:!0,value:rr}):tr[er]=rr;var Ao=(tr,er,rr)=>vv(tr,typeof er!="symbol"?er+"":er,rr),Hm=(tr,er,rr)=>er.has(tr)||J0("Cannot "+rr);var cn=(tr,er,rr)=>(Hm(tr,er,"read from private field"),rr?rr.call(tr):er.get(tr)),ba=(tr,er,rr)=>er.has(tr)?J0("Cannot add the same private member more than once"):er instanceof WeakSet?er.add(tr):er.set(tr,rr),ts=(tr,er,rr,nr)=>(Hm(tr,er,"write to private field"),nr?nr.call(tr,rr):er.set(tr,rr),rr),Yn=(tr,er,rr)=>(Hm(tr,er,"access private method"),rr);var $p=(tr,er,rr,nr)=>({set _(ir){ts(tr,er,ir,rr)},get _(){return cn(tr,er,nr)}});(function(){const er=document.createElement("link").relList;if(er&&er.supports&&er.supports("modulepreload"))return;for(const ir of document.querySelectorAll('link[rel="modulepreload"]'))nr(ir);new MutationObserver(ir=>{for(const ar of ir)if(ar.type==="childList")for(const sr of ar.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&nr(sr)}).observe(document,{childList:!0,subtree:!0});function rr(ir){const ar={};return ir.integrity&&(ar.integrity=ir.integrity),ir.referrerPolicy&&(ar.referrerPolicy=ir.referrerPolicy),ir.crossOrigin==="use-credentials"?ar.credentials="include":ir.crossOrigin==="anonymous"?ar.credentials="omit":ar.credentials="same-origin",ar}function nr(ir){if(ir.ep)return;ir.ep=!0;const ar=rr(ir);fetch(ir.href,ar)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}function getAugmentedNamespace(tr){if(tr.__esModule)return tr;var er=tr.default;if(typeof er=="function"){var rr=function nr(){return this instanceof nr?Reflect.construct(er,arguments,this.constructor):er.apply(this,arguments)};rr.prototype=er.prototype}else rr={};return Object.defineProperty(rr,"__esModule",{value:!0}),Object.keys(tr).forEach(function(nr){var ir=Object.getOwnPropertyDescriptor(tr,nr);Object.defineProperty(rr,nr,ir.get?ir:{enumerable:!0,get:function(){return tr[nr]}})}),rr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(tr){return tr===null||typeof tr!="object"?null:(tr=z$2&&tr[z$2]||tr["@@iterator"],typeof tr=="function"?tr:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(tr,er,rr){this.props=tr,this.context=er,this.refs=D$3,this.updater=rr||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(tr,er){if(typeof tr!="object"&&typeof tr!="function"&&tr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tr,er,"setState")};E$2.prototype.forceUpdate=function(tr){this.updater.enqueueForceUpdate(this,tr,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(tr,er,rr){this.props=tr,this.context=er,this.refs=D$3,this.updater=rr||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$3(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(tr,er,rr){var nr,ir={},ar=null,sr=null;if(er!=null)for(nr in er.ref!==void 0&&(sr=er.ref),er.key!==void 0&&(ar=""+er.key),er)J$1.call(er,nr)&&!L$2.hasOwnProperty(nr)&&(ir[nr]=er[nr]);var lr=arguments.length-2;if(lr===1)ir.children=rr;else if(1<lr){for(var or=Array(lr),cr=0;cr<lr;cr++)or[cr]=arguments[cr+2];ir.children=or}if(tr&&tr.defaultProps)for(nr in lr=tr.defaultProps,lr)ir[nr]===void 0&&(ir[nr]=lr[nr]);return{$$typeof:l$3,type:tr,key:ar,ref:sr,props:ir,_owner:K$2.current}}function N$2(tr,er){return{$$typeof:l$3,type:tr.type,key:er,ref:tr.ref,props:tr.props,_owner:tr._owner}}function O$2(tr){return typeof tr=="object"&&tr!==null&&tr.$$typeof===l$3}function escape$1(tr){var er={"=":"=0",":":"=2"};return"$"+tr.replace(/[=:]/g,function(rr){return er[rr]})}var P$3=/\/+/g;function Q$2(tr,er){return typeof tr=="object"&&tr!==null&&tr.key!=null?escape$1(""+tr.key):er.toString(36)}function R$2(tr,er,rr,nr,ir){var ar=typeof tr;(ar==="undefined"||ar==="boolean")&&(tr=null);var sr=!1;if(tr===null)sr=!0;else switch(ar){case"string":case"number":sr=!0;break;case"object":switch(tr.$$typeof){case l$3:case n$3:sr=!0}}if(sr)return sr=tr,ir=ir(sr),tr=nr===""?"."+Q$2(sr,0):nr,I$2(ir)?(rr="",tr!=null&&(rr=tr.replace(P$3,"$&/")+"/"),R$2(ir,er,rr,"",function(cr){return cr})):ir!=null&&(O$2(ir)&&(ir=N$2(ir,rr+(!ir.key||sr&&sr.key===ir.key?"":(""+ir.key).replace(P$3,"$&/")+"/")+tr)),er.push(ir)),1;if(sr=0,nr=nr===""?".":nr+":",I$2(tr))for(var lr=0;lr<tr.length;lr++){ar=tr[lr];var or=nr+Q$2(ar,lr);sr+=R$2(ar,er,rr,or,ir)}else if(or=A$2(tr),typeof or=="function")for(tr=or.call(tr),lr=0;!(ar=tr.next()).done;)ar=ar.value,or=nr+Q$2(ar,lr++),sr+=R$2(ar,er,rr,or,ir);else if(ar==="object")throw er=String(tr),Error("Objects are not valid as a React child (found: "+(er==="[object Object]"?"object with keys {"+Object.keys(tr).join(", ")+"}":er)+"). If you meant to render a collection of children, use an array instead.");return sr}function S$3(tr,er,rr){if(tr==null)return tr;var nr=[],ir=0;return R$2(tr,nr,"","",function(ar){return er.call(rr,ar,ir++)}),nr}function T$2(tr){if(tr._status===-1){var er=tr._result;er=er(),er.then(function(rr){(tr._status===0||tr._status===-1)&&(tr._status=1,tr._result=rr)},function(rr){(tr._status===0||tr._status===-1)&&(tr._status=2,tr._result=rr)}),tr._status===-1&&(tr._status=0,tr._result=er)}if(tr._status===1)return tr._result.default;throw tr._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(tr,er,rr){S$3(tr,function(){er.apply(this,arguments)},rr)},count:function(tr){var er=0;return S$3(tr,function(){er++}),er},toArray:function(tr){return S$3(tr,function(er){return er})||[]},only:function(tr){if(!O$2(tr))throw Error("React.Children.only expected to receive a single React element child.");return tr}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(tr,er,rr){if(tr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tr+".");var nr=C$3({},tr.props),ir=tr.key,ar=tr.ref,sr=tr._owner;if(er!=null){if(er.ref!==void 0&&(ar=er.ref,sr=K$2.current),er.key!==void 0&&(ir=""+er.key),tr.type&&tr.type.defaultProps)var lr=tr.type.defaultProps;for(or in er)J$1.call(er,or)&&!L$2.hasOwnProperty(or)&&(nr[or]=er[or]===void 0&&lr!==void 0?lr[or]:er[or])}var or=arguments.length-2;if(or===1)nr.children=rr;else if(1<or){lr=Array(or);for(var cr=0;cr<or;cr++)lr[cr]=arguments[cr+2];nr.children=lr}return{$$typeof:l$3,type:tr.type,key:ir,ref:ar,props:nr,_owner:sr}};react_production_min.createContext=function(tr){return tr={$$typeof:u$2,_currentValue:tr,_currentValue2:tr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tr.Provider={$$typeof:t$1,_context:tr},tr.Consumer=tr};react_production_min.createElement=M$2;react_production_min.createFactory=function(tr){var er=M$2.bind(null,tr);return er.type=tr,er};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tr){return{$$typeof:v$4,render:tr}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(tr){return{$$typeof:y$2,_payload:{_status:-1,_result:tr},_init:T$2}};react_production_min.memo=function(tr,er){return{$$typeof:x$3,type:tr,compare:er===void 0?null:er}};react_production_min.startTransition=function(tr){var er=V$2.transition;V$2.transition={};try{tr()}finally{V$2.transition=er}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(tr,er){return U$2.current.useCallback(tr,er)};react_production_min.useContext=function(tr){return U$2.current.useContext(tr)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tr){return U$2.current.useDeferredValue(tr)};react_production_min.useEffect=function(tr,er){return U$2.current.useEffect(tr,er)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(tr,er,rr){return U$2.current.useImperativeHandle(tr,er,rr)};react_production_min.useInsertionEffect=function(tr,er){return U$2.current.useInsertionEffect(tr,er)};react_production_min.useLayoutEffect=function(tr,er){return U$2.current.useLayoutEffect(tr,er)};react_production_min.useMemo=function(tr,er){return U$2.current.useMemo(tr,er)};react_production_min.useReducer=function(tr,er,rr){return U$2.current.useReducer(tr,er,rr)};react_production_min.useRef=function(tr){return U$2.current.useRef(tr)};react_production_min.useState=function(tr){return U$2.current.useState(tr)};react_production_min.useSyncExternalStore=function(tr,er,rr){return U$2.current.useSyncExternalStore(tr,er,rr)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(tr,er,rr){var nr,ir={},ar=null,sr=null;rr!==void 0&&(ar=""+rr),er.key!==void 0&&(ar=""+er.key),er.ref!==void 0&&(sr=er.ref);for(nr in er)m$3.call(er,nr)&&!p$3.hasOwnProperty(nr)&&(ir[nr]=er[nr]);if(tr&&tr.defaultProps)for(nr in er=tr.defaultProps,er)ir[nr]===void 0&&(ir[nr]=er[nr]);return{$$typeof:k$3,type:tr,key:ar,ref:sr,props:ir,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tr){function er(Ar,Sr){var Dr=Ar.length;Ar.push(Sr);e:for(;0<Dr;){var Wr=Dr-1>>>1,$r=Ar[Wr];if(0<ir($r,Sr))Ar[Wr]=Sr,Ar[Dr]=$r,Dr=Wr;else break e}}function rr(Ar){return Ar.length===0?null:Ar[0]}function nr(Ar){if(Ar.length===0)return null;var Sr=Ar[0],Dr=Ar.pop();if(Dr!==Sr){Ar[0]=Dr;e:for(var Wr=0,$r=Ar.length,Vr=$r>>>1;Wr<Vr;){var zr=2*(Wr+1)-1,Gr=Ar[zr],Fr=zr+1,Xr=Ar[Fr];if(0>ir(Gr,Dr))Fr<$r&&0>ir(Xr,Gr)?(Ar[Wr]=Xr,Ar[Fr]=Dr,Wr=Fr):(Ar[Wr]=Gr,Ar[zr]=Dr,Wr=zr);else if(Fr<$r&&0>ir(Xr,Dr))Ar[Wr]=Xr,Ar[Fr]=Dr,Wr=Fr;else break e}}return Sr}function ir(Ar,Sr){var Dr=Ar.sortIndex-Sr.sortIndex;return Dr!==0?Dr:Ar.id-Sr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ar=performance;tr.unstable_now=function(){return ar.now()}}else{var sr=Date,lr=sr.now();tr.unstable_now=function(){return sr.now()-lr}}var or=[],cr=[],ur=1,dr=null,hr=3,fr=!1,mr=!1,br=!1,pr=typeof setTimeout=="function"?setTimeout:null,gr=typeof clearTimeout=="function"?clearTimeout:null,yr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vr(Ar){for(var Sr=rr(cr);Sr!==null;){if(Sr.callback===null)nr(cr);else if(Sr.startTime<=Ar)nr(cr),Sr.sortIndex=Sr.expirationTime,er(or,Sr);else break;Sr=rr(cr)}}function _r(Ar){if(br=!1,vr(Ar),!mr)if(rr(or)!==null)mr=!0,wr(xr);else{var Sr=rr(cr);Sr!==null&&Er(_r,Sr.startTime-Ar)}}function xr(Ar,Sr){mr=!1,br&&(br=!1,gr(Tr),Tr=-1),fr=!0;var Dr=hr;try{for(vr(Sr),dr=rr(or);dr!==null&&(!(dr.expirationTime>Sr)||Ar&&!Nr());){var Wr=dr.callback;if(typeof Wr=="function"){dr.callback=null,hr=dr.priorityLevel;var $r=Wr(dr.expirationTime<=Sr);Sr=tr.unstable_now(),typeof $r=="function"?dr.callback=$r:dr===rr(or)&&nr(or),vr(Sr)}else nr(or);dr=rr(or)}if(dr!==null)var Vr=!0;else{var zr=rr(cr);zr!==null&&Er(_r,zr.startTime-Sr),Vr=!1}return Vr}finally{dr=null,hr=Dr,fr=!1}}var Rr=!1,Cr=null,Tr=-1,Ir=5,Lr=-1;function Nr(){return!(tr.unstable_now()-Lr<Ir)}function Or(){if(Cr!==null){var Ar=tr.unstable_now();Lr=Ar;var Sr=!0;try{Sr=Cr(!0,Ar)}finally{Sr?Pr():(Rr=!1,Cr=null)}}else Rr=!1}var Pr;if(typeof yr=="function")Pr=function(){yr(Or)};else if(typeof MessageChannel<"u"){var Mr=new MessageChannel,jr=Mr.port2;Mr.port1.onmessage=Or,Pr=function(){jr.postMessage(null)}}else Pr=function(){pr(Or,0)};function wr(Ar){Cr=Ar,Rr||(Rr=!0,Pr())}function Er(Ar,Sr){Tr=pr(function(){Ar(tr.unstable_now())},Sr)}tr.unstable_IdlePriority=5,tr.unstable_ImmediatePriority=1,tr.unstable_LowPriority=4,tr.unstable_NormalPriority=3,tr.unstable_Profiling=null,tr.unstable_UserBlockingPriority=2,tr.unstable_cancelCallback=function(Ar){Ar.callback=null},tr.unstable_continueExecution=function(){mr||fr||(mr=!0,wr(xr))},tr.unstable_forceFrameRate=function(Ar){0>Ar||125<Ar?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ir=0<Ar?Math.floor(1e3/Ar):5},tr.unstable_getCurrentPriorityLevel=function(){return hr},tr.unstable_getFirstCallbackNode=function(){return rr(or)},tr.unstable_next=function(Ar){switch(hr){case 1:case 2:case 3:var Sr=3;break;default:Sr=hr}var Dr=hr;hr=Sr;try{return Ar()}finally{hr=Dr}},tr.unstable_pauseExecution=function(){},tr.unstable_requestPaint=function(){},tr.unstable_runWithPriority=function(Ar,Sr){switch(Ar){case 1:case 2:case 3:case 4:case 5:break;default:Ar=3}var Dr=hr;hr=Ar;try{return Sr()}finally{hr=Dr}},tr.unstable_scheduleCallback=function(Ar,Sr,Dr){var Wr=tr.unstable_now();switch(typeof Dr=="object"&&Dr!==null?(Dr=Dr.delay,Dr=typeof Dr=="number"&&0<Dr?Wr+Dr:Wr):Dr=Wr,Ar){case 1:var $r=-1;break;case 2:$r=250;break;case 5:$r=1073741823;break;case 4:$r=1e4;break;default:$r=5e3}return $r=Dr+$r,Ar={id:ur++,callback:Sr,priorityLevel:Ar,startTime:Dr,expirationTime:$r,sortIndex:-1},Dr>Wr?(Ar.sortIndex=Dr,er(cr,Ar),rr(or)===null&&Ar===rr(cr)&&(br?(gr(Tr),Tr=-1):br=!0,Er(_r,Dr-Wr))):(Ar.sortIndex=$r,er(or,Ar),mr||fr||(mr=!0,wr(xr))),Ar},tr.unstable_shouldYield=Nr,tr.unstable_wrapCallback=function(Ar){var Sr=hr;return function(){var Dr=hr;hr=Sr;try{return Ar.apply(this,arguments)}finally{hr=Dr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(tr){for(var er="https://reactjs.org/docs/error-decoder.html?invariant="+tr,rr=1;rr<arguments.length;rr++)er+="&args[]="+encodeURIComponent(arguments[rr]);return"Minified React error #"+tr+"; visit "+er+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tr,er){ha(tr,er),ha(tr+"Capture",er)}function ha(tr,er){for(ea[tr]=er,tr=0;tr<er.length;tr++)da.add(er[tr])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tr){return ja.call(ma,tr)?!0:ja.call(la,tr)?!1:ka$1.test(tr)?ma[tr]=!0:(la[tr]=!0,!1)}function pa(tr,er,rr,nr){if(rr!==null&&rr.type===0)return!1;switch(typeof er){case"function":case"symbol":return!0;case"boolean":return nr?!1:rr!==null?!rr.acceptsBooleans:(tr=tr.toLowerCase().slice(0,5),tr!=="data-"&&tr!=="aria-");default:return!1}}function qa(tr,er,rr,nr){if(er===null||typeof er>"u"||pa(tr,er,rr,nr))return!0;if(nr)return!1;if(rr!==null)switch(rr.type){case 3:return!er;case 4:return er===!1;case 5:return isNaN(er);case 6:return isNaN(er)||1>er}return!1}function v$3(tr,er,rr,nr,ir,ar,sr){this.acceptsBooleans=er===2||er===3||er===4,this.attributeName=nr,this.attributeNamespace=ir,this.mustUseProperty=rr,this.propertyName=tr,this.type=er,this.sanitizeURL=ar,this.removeEmptyString=sr}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tr){z$1[tr]=new v$3(tr,0,!1,tr,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tr){var er=tr[0];z$1[er]=new v$3(er,1,!1,tr[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tr){z$1[tr]=new v$3(tr,2,!1,tr.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tr){z$1[tr]=new v$3(tr,2,!1,tr,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tr){z$1[tr]=new v$3(tr,3,!1,tr.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tr){z$1[tr]=new v$3(tr,3,!0,tr,null,!1,!1)});["capture","download"].forEach(function(tr){z$1[tr]=new v$3(tr,4,!1,tr,null,!1,!1)});["cols","rows","size","span"].forEach(function(tr){z$1[tr]=new v$3(tr,6,!1,tr,null,!1,!1)});["rowSpan","start"].forEach(function(tr){z$1[tr]=new v$3(tr,5,!1,tr.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tr){return tr[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tr){var er=tr.replace(ra,sa);z$1[er]=new v$3(er,1,!1,tr,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tr){var er=tr.replace(ra,sa);z$1[er]=new v$3(er,1,!1,tr,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tr){var er=tr.replace(ra,sa);z$1[er]=new v$3(er,1,!1,tr,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tr){z$1[tr]=new v$3(tr,1,!1,tr.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tr){z$1[tr]=new v$3(tr,1,!1,tr.toLowerCase(),null,!0,!0)});function ta(tr,er,rr,nr){var ir=z$1.hasOwnProperty(er)?z$1[er]:null;(ir!==null?ir.type!==0:nr||!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(qa(er,rr,ir,nr)&&(rr=null),nr||ir===null?oa(er)&&(rr===null?tr.removeAttribute(er):tr.setAttribute(er,""+rr)):ir.mustUseProperty?tr[ir.propertyName]=rr===null?ir.type===3?!1:"":rr:(er=ir.attributeName,nr=ir.attributeNamespace,rr===null?tr.removeAttribute(er):(ir=ir.type,rr=ir===3||ir===4&&rr===!0?"":""+rr,nr?tr.setAttributeNS(nr,er,rr):tr.setAttribute(er,rr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tr){return tr===null||typeof tr!="object"?null:(tr=Ja&&tr[Ja]||tr["@@iterator"],typeof tr=="function"?tr:null)}var A$1=Object.assign,La;function Ma(tr){if(La===void 0)try{throw Error()}catch(rr){var er=rr.stack.trim().match(/\n( *(at )?)/);La=er&&er[1]||""}return`
`+La+tr}var Na=!1;function Oa(tr,er){if(!tr||Na)return"";Na=!0;var rr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(er)if(er=function(){throw Error()},Object.defineProperty(er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(er,[])}catch(cr){var nr=cr}Reflect.construct(tr,[],er)}else{try{er.call()}catch(cr){nr=cr}tr.call(er.prototype)}else{try{throw Error()}catch(cr){nr=cr}tr()}}catch(cr){if(cr&&nr&&typeof cr.stack=="string"){for(var ir=cr.stack.split(`
`),ar=nr.stack.split(`
`),sr=ir.length-1,lr=ar.length-1;1<=sr&&0<=lr&&ir[sr]!==ar[lr];)lr--;for(;1<=sr&&0<=lr;sr--,lr--)if(ir[sr]!==ar[lr]){if(sr!==1||lr!==1)do if(sr--,lr--,0>lr||ir[sr]!==ar[lr]){var or=`
`+ir[sr].replace(" at new "," at ");return tr.displayName&&or.includes("<anonymous>")&&(or=or.replace("<anonymous>",tr.displayName)),or}while(1<=sr&&0<=lr);break}}}finally{Na=!1,Error.prepareStackTrace=rr}return(tr=tr?tr.displayName||tr.name:"")?Ma(tr):""}function Pa(tr){switch(tr.tag){case 5:return Ma(tr.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tr=Oa(tr.type,!1),tr;case 11:return tr=Oa(tr.type.render,!1),tr;case 1:return tr=Oa(tr.type,!0),tr;default:return""}}function Qa(tr){if(tr==null)return null;if(typeof tr=="function")return tr.displayName||tr.name||null;if(typeof tr=="string")return tr;switch(tr){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tr=="object")switch(tr.$$typeof){case Ca:return(tr.displayName||"Context")+".Consumer";case Ba:return(tr._context.displayName||"Context")+".Provider";case Da:var er=tr.render;return tr=tr.displayName,tr||(tr=er.displayName||er.name||"",tr=tr!==""?"ForwardRef("+tr+")":"ForwardRef"),tr;case Ga:return er=tr.displayName||null,er!==null?er:Qa(tr.type)||"Memo";case Ha:er=tr._payload,tr=tr._init;try{return Qa(tr(er))}catch{}}return null}function Ra(tr){var er=tr.type;switch(tr.tag){case 24:return"Cache";case 9:return(er.displayName||"Context")+".Consumer";case 10:return(er._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tr=er.render,tr=tr.displayName||tr.name||"",er.displayName||(tr!==""?"ForwardRef("+tr+")":"ForwardRef");case 7:return"Fragment";case 5:return er;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(er);case 8:return er===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er}return null}function Sa(tr){switch(typeof tr){case"boolean":case"number":case"string":case"undefined":return tr;case"object":return tr;default:return""}}function Ta(tr){var er=tr.type;return(tr=tr.nodeName)&&tr.toLowerCase()==="input"&&(er==="checkbox"||er==="radio")}function Ua(tr){var er=Ta(tr)?"checked":"value",rr=Object.getOwnPropertyDescriptor(tr.constructor.prototype,er),nr=""+tr[er];if(!tr.hasOwnProperty(er)&&typeof rr<"u"&&typeof rr.get=="function"&&typeof rr.set=="function"){var ir=rr.get,ar=rr.set;return Object.defineProperty(tr,er,{configurable:!0,get:function(){return ir.call(this)},set:function(sr){nr=""+sr,ar.call(this,sr)}}),Object.defineProperty(tr,er,{enumerable:rr.enumerable}),{getValue:function(){return nr},setValue:function(sr){nr=""+sr},stopTracking:function(){tr._valueTracker=null,delete tr[er]}}}}function Va(tr){tr._valueTracker||(tr._valueTracker=Ua(tr))}function Wa(tr){if(!tr)return!1;var er=tr._valueTracker;if(!er)return!0;var rr=er.getValue(),nr="";return tr&&(nr=Ta(tr)?tr.checked?"true":"false":tr.value),tr=nr,tr!==rr?(er.setValue(tr),!0):!1}function Xa(tr){if(tr=tr||(typeof document<"u"?document:void 0),typeof tr>"u")return null;try{return tr.activeElement||tr.body}catch{return tr.body}}function Ya(tr,er){var rr=er.checked;return A$1({},er,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rr??tr._wrapperState.initialChecked})}function Za(tr,er){var rr=er.defaultValue==null?"":er.defaultValue,nr=er.checked!=null?er.checked:er.defaultChecked;rr=Sa(er.value!=null?er.value:rr),tr._wrapperState={initialChecked:nr,initialValue:rr,controlled:er.type==="checkbox"||er.type==="radio"?er.checked!=null:er.value!=null}}function ab(tr,er){er=er.checked,er!=null&&ta(tr,"checked",er,!1)}function bb(tr,er){ab(tr,er);var rr=Sa(er.value),nr=er.type;if(rr!=null)nr==="number"?(rr===0&&tr.value===""||tr.value!=rr)&&(tr.value=""+rr):tr.value!==""+rr&&(tr.value=""+rr);else if(nr==="submit"||nr==="reset"){tr.removeAttribute("value");return}er.hasOwnProperty("value")?cb(tr,er.type,rr):er.hasOwnProperty("defaultValue")&&cb(tr,er.type,Sa(er.defaultValue)),er.checked==null&&er.defaultChecked!=null&&(tr.defaultChecked=!!er.defaultChecked)}function db$1(tr,er,rr){if(er.hasOwnProperty("value")||er.hasOwnProperty("defaultValue")){var nr=er.type;if(!(nr!=="submit"&&nr!=="reset"||er.value!==void 0&&er.value!==null))return;er=""+tr._wrapperState.initialValue,rr||er===tr.value||(tr.value=er),tr.defaultValue=er}rr=tr.name,rr!==""&&(tr.name=""),tr.defaultChecked=!!tr._wrapperState.initialChecked,rr!==""&&(tr.name=rr)}function cb(tr,er,rr){(er!=="number"||Xa(tr.ownerDocument)!==tr)&&(rr==null?tr.defaultValue=""+tr._wrapperState.initialValue:tr.defaultValue!==""+rr&&(tr.defaultValue=""+rr))}var eb=Array.isArray;function fb(tr,er,rr,nr){if(tr=tr.options,er){er={};for(var ir=0;ir<rr.length;ir++)er["$"+rr[ir]]=!0;for(rr=0;rr<tr.length;rr++)ir=er.hasOwnProperty("$"+tr[rr].value),tr[rr].selected!==ir&&(tr[rr].selected=ir),ir&&nr&&(tr[rr].defaultSelected=!0)}else{for(rr=""+Sa(rr),er=null,ir=0;ir<tr.length;ir++){if(tr[ir].value===rr){tr[ir].selected=!0,nr&&(tr[ir].defaultSelected=!0);return}er!==null||tr[ir].disabled||(er=tr[ir])}er!==null&&(er.selected=!0)}}function gb(tr,er){if(er.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},er,{value:void 0,defaultValue:void 0,children:""+tr._wrapperState.initialValue})}function hb(tr,er){var rr=er.value;if(rr==null){if(rr=er.children,er=er.defaultValue,rr!=null){if(er!=null)throw Error(p$2(92));if(eb(rr)){if(1<rr.length)throw Error(p$2(93));rr=rr[0]}er=rr}er==null&&(er=""),rr=er}tr._wrapperState={initialValue:Sa(rr)}}function ib(tr,er){var rr=Sa(er.value),nr=Sa(er.defaultValue);rr!=null&&(rr=""+rr,rr!==tr.value&&(tr.value=rr),er.defaultValue==null&&tr.defaultValue!==rr&&(tr.defaultValue=rr)),nr!=null&&(tr.defaultValue=""+nr)}function jb(tr){var er=tr.textContent;er===tr._wrapperState.initialValue&&er!==""&&er!==null&&(tr.value=er)}function kb(tr){switch(tr){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tr,er){return tr==null||tr==="http://www.w3.org/1999/xhtml"?kb(er):tr==="http://www.w3.org/2000/svg"&&er==="foreignObject"?"http://www.w3.org/1999/xhtml":tr}var mb,nb=function(tr){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(er,rr,nr,ir){MSApp.execUnsafeLocalFunction(function(){return tr(er,rr,nr,ir)})}:tr}(function(tr,er){if(tr.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tr)tr.innerHTML=er;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+er.valueOf().toString()+"</svg>",er=mb.firstChild;tr.firstChild;)tr.removeChild(tr.firstChild);for(;er.firstChild;)tr.appendChild(er.firstChild)}});function ob(tr,er){if(er){var rr=tr.firstChild;if(rr&&rr===tr.lastChild&&rr.nodeType===3){rr.nodeValue=er;return}}tr.textContent=er}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tr){qb.forEach(function(er){er=er+tr.charAt(0).toUpperCase()+tr.substring(1),pb[er]=pb[tr]})});function rb(tr,er,rr){return er==null||typeof er=="boolean"||er===""?"":rr||typeof er!="number"||er===0||pb.hasOwnProperty(tr)&&pb[tr]?(""+er).trim():er+"px"}function sb(tr,er){tr=tr.style;for(var rr in er)if(er.hasOwnProperty(rr)){var nr=rr.indexOf("--")===0,ir=rb(rr,er[rr],nr);rr==="float"&&(rr="cssFloat"),nr?tr.setProperty(rr,ir):tr[rr]=ir}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tr,er){if(er){if(tb[tr]&&(er.children!=null||er.dangerouslySetInnerHTML!=null))throw Error(p$2(137,tr));if(er.dangerouslySetInnerHTML!=null){if(er.children!=null)throw Error(p$2(60));if(typeof er.dangerouslySetInnerHTML!="object"||!("__html"in er.dangerouslySetInnerHTML))throw Error(p$2(61))}if(er.style!=null&&typeof er.style!="object")throw Error(p$2(62))}}function vb(tr,er){if(tr.indexOf("-")===-1)return typeof er.is=="string";switch(tr){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tr){return tr=tr.target||tr.srcElement||window,tr.correspondingUseElement&&(tr=tr.correspondingUseElement),tr.nodeType===3?tr.parentNode:tr}var yb=null,zb=null,Ab=null;function Bb(tr){if(tr=Cb(tr)){if(typeof yb!="function")throw Error(p$2(280));var er=tr.stateNode;er&&(er=Db(er),yb(tr.stateNode,tr.type,er))}}function Eb(tr){zb?Ab?Ab.push(tr):Ab=[tr]:zb=tr}function Fb(){if(zb){var tr=zb,er=Ab;if(Ab=zb=null,Bb(tr),er)for(tr=0;tr<er.length;tr++)Bb(er[tr])}}function Gb(tr,er){return tr(er)}function Hb(){}var Ib=!1;function Jb(tr,er,rr){if(Ib)return tr(er,rr);Ib=!0;try{return Gb(tr,er,rr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(tr,er){var rr=tr.stateNode;if(rr===null)return null;var nr=Db(rr);if(nr===null)return null;rr=nr[er];e:switch(er){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nr=!nr.disabled)||(tr=tr.type,nr=!(tr==="button"||tr==="input"||tr==="select"||tr==="textarea")),tr=!nr;break e;default:tr=!1}if(tr)return null;if(rr&&typeof rr!="function")throw Error(p$2(231,er,typeof rr));return rr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tr,er,rr,nr,ir,ar,sr,lr,or){var cr=Array.prototype.slice.call(arguments,3);try{er.apply(rr,cr)}catch(ur){this.onError(ur)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tr){Ob=!0,Pb=tr}};function Tb(tr,er,rr,nr,ir,ar,sr,lr,or){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tr,er,rr,nr,ir,ar,sr,lr,or){if(Tb.apply(this,arguments),Ob){if(Ob){var cr=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=cr)}}function Vb(tr){var er=tr,rr=tr;if(tr.alternate)for(;er.return;)er=er.return;else{tr=er;do er=tr,er.flags&4098&&(rr=er.return),tr=er.return;while(tr)}return er.tag===3?rr:null}function Wb(tr){if(tr.tag===13){var er=tr.memoizedState;if(er===null&&(tr=tr.alternate,tr!==null&&(er=tr.memoizedState)),er!==null)return er.dehydrated}return null}function Xb(tr){if(Vb(tr)!==tr)throw Error(p$2(188))}function Yb(tr){var er=tr.alternate;if(!er){if(er=Vb(tr),er===null)throw Error(p$2(188));return er!==tr?null:tr}for(var rr=tr,nr=er;;){var ir=rr.return;if(ir===null)break;var ar=ir.alternate;if(ar===null){if(nr=ir.return,nr!==null){rr=nr;continue}break}if(ir.child===ar.child){for(ar=ir.child;ar;){if(ar===rr)return Xb(ir),tr;if(ar===nr)return Xb(ir),er;ar=ar.sibling}throw Error(p$2(188))}if(rr.return!==nr.return)rr=ir,nr=ar;else{for(var sr=!1,lr=ir.child;lr;){if(lr===rr){sr=!0,rr=ir,nr=ar;break}if(lr===nr){sr=!0,nr=ir,rr=ar;break}lr=lr.sibling}if(!sr){for(lr=ar.child;lr;){if(lr===rr){sr=!0,rr=ar,nr=ir;break}if(lr===nr){sr=!0,nr=ar,rr=ir;break}lr=lr.sibling}if(!sr)throw Error(p$2(189))}}if(rr.alternate!==nr)throw Error(p$2(190))}if(rr.tag!==3)throw Error(p$2(188));return rr.stateNode.current===rr?tr:er}function Zb(tr){return tr=Yb(tr),tr!==null?$b(tr):null}function $b(tr){if(tr.tag===5||tr.tag===6)return tr;for(tr=tr.child;tr!==null;){var er=$b(tr);if(er!==null)return er;tr=tr.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(tr){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,tr,void 0,(tr.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tr){return tr>>>=0,tr===0?32:31-(pc(tr)/qc|0)|0}var rc=64,sc=4194304;function tc(tr){switch(tr&-tr){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tr&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tr&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tr}}function uc(tr,er){var rr=tr.pendingLanes;if(rr===0)return 0;var nr=0,ir=tr.suspendedLanes,ar=tr.pingedLanes,sr=rr&268435455;if(sr!==0){var lr=sr&~ir;lr!==0?nr=tc(lr):(ar&=sr,ar!==0&&(nr=tc(ar)))}else sr=rr&~ir,sr!==0?nr=tc(sr):ar!==0&&(nr=tc(ar));if(nr===0)return 0;if(er!==0&&er!==nr&&!(er&ir)&&(ir=nr&-nr,ar=er&-er,ir>=ar||ir===16&&(ar&4194240)!==0))return er;if(nr&4&&(nr|=rr&16),er=tr.entangledLanes,er!==0)for(tr=tr.entanglements,er&=nr;0<er;)rr=31-oc(er),ir=1<<rr,nr|=tr[rr],er&=~ir;return nr}function vc(tr,er){switch(tr){case 1:case 2:case 4:return er+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tr,er){for(var rr=tr.suspendedLanes,nr=tr.pingedLanes,ir=tr.expirationTimes,ar=tr.pendingLanes;0<ar;){var sr=31-oc(ar),lr=1<<sr,or=ir[sr];or===-1?(!(lr&rr)||lr&nr)&&(ir[sr]=vc(lr,er)):or<=er&&(tr.expiredLanes|=lr),ar&=~lr}}function xc(tr){return tr=tr.pendingLanes&-1073741825,tr!==0?tr:tr&1073741824?1073741824:0}function yc(){var tr=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tr}function zc(tr){for(var er=[],rr=0;31>rr;rr++)er.push(tr);return er}function Ac(tr,er,rr){tr.pendingLanes|=er,er!==536870912&&(tr.suspendedLanes=0,tr.pingedLanes=0),tr=tr.eventTimes,er=31-oc(er),tr[er]=rr}function Bc(tr,er){var rr=tr.pendingLanes&~er;tr.pendingLanes=er,tr.suspendedLanes=0,tr.pingedLanes=0,tr.expiredLanes&=er,tr.mutableReadLanes&=er,tr.entangledLanes&=er,er=tr.entanglements;var nr=tr.eventTimes;for(tr=tr.expirationTimes;0<rr;){var ir=31-oc(rr),ar=1<<ir;er[ir]=0,nr[ir]=-1,tr[ir]=-1,rr&=~ar}}function Cc(tr,er){var rr=tr.entangledLanes|=er;for(tr=tr.entanglements;rr;){var nr=31-oc(rr),ir=1<<nr;ir&er|tr[nr]&er&&(tr[nr]|=er),rr&=~ir}}var C$2=0;function Dc(tr){return tr&=-tr,1<tr?4<tr?tr&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tr,er){switch(tr){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(er.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(er.pointerId)}}function Tc(tr,er,rr,nr,ir,ar){return tr===null||tr.nativeEvent!==ar?(tr={blockedOn:er,domEventName:rr,eventSystemFlags:nr,nativeEvent:ar,targetContainers:[ir]},er!==null&&(er=Cb(er),er!==null&&Fc(er)),tr):(tr.eventSystemFlags|=nr,er=tr.targetContainers,ir!==null&&er.indexOf(ir)===-1&&er.push(ir),tr)}function Uc(tr,er,rr,nr,ir){switch(er){case"focusin":return Lc=Tc(Lc,tr,er,rr,nr,ir),!0;case"dragenter":return Mc=Tc(Mc,tr,er,rr,nr,ir),!0;case"mouseover":return Nc=Tc(Nc,tr,er,rr,nr,ir),!0;case"pointerover":var ar=ir.pointerId;return Oc.set(ar,Tc(Oc.get(ar)||null,tr,er,rr,nr,ir)),!0;case"gotpointercapture":return ar=ir.pointerId,Pc.set(ar,Tc(Pc.get(ar)||null,tr,er,rr,nr,ir)),!0}return!1}function Vc(tr){var er=Wc(tr.target);if(er!==null){var rr=Vb(er);if(rr!==null){if(er=rr.tag,er===13){if(er=Wb(rr),er!==null){tr.blockedOn=er,Ic(tr.priority,function(){Gc(rr)});return}}else if(er===3&&rr.stateNode.current.memoizedState.isDehydrated){tr.blockedOn=rr.tag===3?rr.stateNode.containerInfo:null;return}}}tr.blockedOn=null}function Xc(tr){if(tr.blockedOn!==null)return!1;for(var er=tr.targetContainers;0<er.length;){var rr=Yc(tr.domEventName,tr.eventSystemFlags,er[0],tr.nativeEvent);if(rr===null){rr=tr.nativeEvent;var nr=new rr.constructor(rr.type,rr);wb=nr,rr.target.dispatchEvent(nr),wb=null}else return er=Cb(rr),er!==null&&Fc(er),tr.blockedOn=rr,!1;er.shift()}return!0}function Zc(tr,er,rr){Xc(tr)&&rr.delete(er)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tr,er){tr.blockedOn===er&&(tr.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tr){function er(ir){return ad(ir,tr)}if(0<Kc.length){ad(Kc[0],tr);for(var rr=1;rr<Kc.length;rr++){var nr=Kc[rr];nr.blockedOn===tr&&(nr.blockedOn=null)}}for(Lc!==null&&ad(Lc,tr),Mc!==null&&ad(Mc,tr),Nc!==null&&ad(Nc,tr),Oc.forEach(er),Pc.forEach(er),rr=0;rr<Qc.length;rr++)nr=Qc[rr],nr.blockedOn===tr&&(nr.blockedOn=null);for(;0<Qc.length&&(rr=Qc[0],rr.blockedOn===null);)Vc(rr),rr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tr,er,rr,nr){var ir=C$2,ar=cd.transition;cd.transition=null;try{C$2=1,fd$1(tr,er,rr,nr)}finally{C$2=ir,cd.transition=ar}}function gd(tr,er,rr,nr){var ir=C$2,ar=cd.transition;cd.transition=null;try{C$2=4,fd$1(tr,er,rr,nr)}finally{C$2=ir,cd.transition=ar}}function fd$1(tr,er,rr,nr){if(dd){var ir=Yc(tr,er,rr,nr);if(ir===null)hd(tr,er,nr,id,rr),Sc(tr,nr);else if(Uc(ir,tr,er,rr,nr))nr.stopPropagation();else if(Sc(tr,nr),er&4&&-1<Rc.indexOf(tr)){for(;ir!==null;){var ar=Cb(ir);if(ar!==null&&Ec(ar),ar=Yc(tr,er,rr,nr),ar===null&&hd(tr,er,nr,id,rr),ar===ir)break;ir=ar}ir!==null&&nr.stopPropagation()}else hd(tr,er,nr,null,rr)}}var id=null;function Yc(tr,er,rr,nr){if(id=null,tr=xb(nr),tr=Wc(tr),tr!==null)if(er=Vb(tr),er===null)tr=null;else if(rr=er.tag,rr===13){if(tr=Wb(er),tr!==null)return tr;tr=null}else if(rr===3){if(er.stateNode.current.memoizedState.isDehydrated)return er.tag===3?er.stateNode.containerInfo:null;tr=null}else er!==tr&&(tr=null);return id=tr,null}function jd(tr){switch(tr){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tr,er=ld,rr=er.length,nr,ir="value"in kd?kd.value:kd.textContent,ar=ir.length;for(tr=0;tr<rr&&er[tr]===ir[tr];tr++);var sr=rr-tr;for(nr=1;nr<=sr&&er[rr-nr]===ir[ar-nr];nr++);return md=ir.slice(tr,1<nr?1-nr:void 0)}function od(tr){var er=tr.keyCode;return"charCode"in tr?(tr=tr.charCode,tr===0&&er===13&&(tr=13)):tr=er,tr===10&&(tr=13),32<=tr||tr===13?tr:0}function pd(){return!0}function qd(){return!1}function rd(tr){function er(rr,nr,ir,ar,sr){this._reactName=rr,this._targetInst=ir,this.type=nr,this.nativeEvent=ar,this.target=sr,this.currentTarget=null;for(var lr in tr)tr.hasOwnProperty(lr)&&(rr=tr[lr],this[lr]=rr?rr(ar):ar[lr]);return this.isDefaultPrevented=(ar.defaultPrevented!=null?ar.defaultPrevented:ar.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(er.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rr=this.nativeEvent;rr&&(rr.preventDefault?rr.preventDefault():typeof rr.returnValue!="unknown"&&(rr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rr=this.nativeEvent;rr&&(rr.stopPropagation?rr.stopPropagation():typeof rr.cancelBubble!="unknown"&&(rr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),er}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tr){return tr.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tr){return tr.relatedTarget===void 0?tr.fromElement===tr.srcElement?tr.toElement:tr.fromElement:tr.relatedTarget},movementX:function(tr){return"movementX"in tr?tr.movementX:(tr!==yd&&(yd&&tr.type==="mousemove"?(wd=tr.screenX-yd.screenX,xd=tr.screenY-yd.screenY):xd=wd=0,yd=tr),wd)},movementY:function(tr){return"movementY"in tr?tr.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(tr){return"clipboardData"in tr?tr.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tr){var er=this.nativeEvent;return er.getModifierState?er.getModifierState(tr):(tr=Od[tr])?!!er[tr]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(tr){if(tr.key){var er=Md[tr.key]||tr.key;if(er!=="Unidentified")return er}return tr.type==="keypress"?(tr=od(tr),tr===13?"Enter":String.fromCharCode(tr)):tr.type==="keydown"||tr.type==="keyup"?Nd[tr.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tr){return tr.type==="keypress"?od(tr):0},keyCode:function(tr){return tr.type==="keydown"||tr.type==="keyup"?tr.keyCode:0},which:function(tr){return tr.type==="keypress"?od(tr):tr.type==="keydown"||tr.type==="keyup"?tr.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(tr){return"deltaX"in tr?tr.deltaX:"wheelDeltaX"in tr?-tr.wheelDeltaX:0},deltaY:function(tr){return"deltaY"in tr?tr.deltaY:"wheelDeltaY"in tr?-tr.wheelDeltaY:"wheelDelta"in tr?-tr.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$2=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=" ",fe$2=!1;function ge$2(tr,er){switch(tr){case"keyup":return $d.indexOf(er.keyCode)!==-1;case"keydown":return er.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(tr){return tr=tr.detail,typeof tr=="object"&&"data"in tr?tr.data:null}var ie$1=!1;function je(tr,er){switch(tr){case"compositionend":return he$2(er);case"keypress":return er.which!==32?null:(fe$2=!0,ee$1);case"textInput":return tr=er.data,tr===ee$1&&fe$2?null:tr;default:return null}}function ke(tr,er){if(ie$1)return tr==="compositionend"||!ae$2&&ge$2(tr,er)?(tr=nd(),md=ld=kd=null,ie$1=!1,tr):null;switch(tr){case"paste":return null;case"keypress":if(!(er.ctrlKey||er.altKey||er.metaKey)||er.ctrlKey&&er.altKey){if(er.char&&1<er.char.length)return er.char;if(er.which)return String.fromCharCode(er.which)}return null;case"compositionend":return de$2&&er.locale!=="ko"?null:er.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(tr){var er=tr&&tr.nodeName&&tr.nodeName.toLowerCase();return er==="input"?!!le$2[tr.type]:er==="textarea"}function ne$2(tr,er,rr,nr){Eb(nr),er=oe$2(er,"onChange"),0<er.length&&(rr=new td$1("onChange","change",null,rr,nr),tr.push({event:rr,listeners:er}))}var pe$2=null,qe=null;function re$3(tr){se$1(tr,0)}function te$1(tr){var er=ue$2(tr);if(Wa(er))return tr}function ve$1(tr,er){if(tr==="change")return er}var we$2=!1;if(ia){var xe;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe=ye$2}else xe=!1;we$2=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$2&&(pe$2.detachEvent("onpropertychange",Be),qe=pe$2=null)}function Be(tr){if(tr.propertyName==="value"&&te$1(qe)){var er=[];ne$2(er,qe,tr,xb(tr)),Jb(re$3,er)}}function Ce(tr,er,rr){tr==="focusin"?(Ae(),pe$2=er,qe=rr,pe$2.attachEvent("onpropertychange",Be)):tr==="focusout"&&Ae()}function De$1(tr){if(tr==="selectionchange"||tr==="keyup"||tr==="keydown")return te$1(qe)}function Ee$1(tr,er){if(tr==="click")return te$1(er)}function Fe(tr,er){if(tr==="input"||tr==="change")return te$1(er)}function Ge(tr,er){return tr===er&&(tr!==0||1/tr===1/er)||tr!==tr&&er!==er}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(tr,er){if(He(tr,er))return!0;if(typeof tr!="object"||tr===null||typeof er!="object"||er===null)return!1;var rr=Object.keys(tr),nr=Object.keys(er);if(rr.length!==nr.length)return!1;for(nr=0;nr<rr.length;nr++){var ir=rr[nr];if(!ja.call(er,ir)||!He(tr[ir],er[ir]))return!1}return!0}function Je(tr){for(;tr&&tr.firstChild;)tr=tr.firstChild;return tr}function Ke(tr,er){var rr=Je(tr);tr=0;for(var nr;rr;){if(rr.nodeType===3){if(nr=tr+rr.textContent.length,tr<=er&&nr>=er)return{node:rr,offset:er-tr};tr=nr}e:{for(;rr;){if(rr.nextSibling){rr=rr.nextSibling;break e}rr=rr.parentNode}rr=void 0}rr=Je(rr)}}function Le$1(tr,er){return tr&&er?tr===er?!0:tr&&tr.nodeType===3?!1:er&&er.nodeType===3?Le$1(tr,er.parentNode):"contains"in tr?tr.contains(er):tr.compareDocumentPosition?!!(tr.compareDocumentPosition(er)&16):!1:!1}function Me(){for(var tr=window,er=Xa();er instanceof tr.HTMLIFrameElement;){try{var rr=typeof er.contentWindow.location.href=="string"}catch{rr=!1}if(rr)tr=er.contentWindow;else break;er=Xa(tr.document)}return er}function Ne$1(tr){var er=tr&&tr.nodeName&&tr.nodeName.toLowerCase();return er&&(er==="input"&&(tr.type==="text"||tr.type==="search"||tr.type==="tel"||tr.type==="url"||tr.type==="password")||er==="textarea"||tr.contentEditable==="true")}function Oe(tr){var er=Me(),rr=tr.focusedElem,nr=tr.selectionRange;if(er!==rr&&rr&&rr.ownerDocument&&Le$1(rr.ownerDocument.documentElement,rr)){if(nr!==null&&Ne$1(rr)){if(er=nr.start,tr=nr.end,tr===void 0&&(tr=er),"selectionStart"in rr)rr.selectionStart=er,rr.selectionEnd=Math.min(tr,rr.value.length);else if(tr=(er=rr.ownerDocument||document)&&er.defaultView||window,tr.getSelection){tr=tr.getSelection();var ir=rr.textContent.length,ar=Math.min(nr.start,ir);nr=nr.end===void 0?ar:Math.min(nr.end,ir),!tr.extend&&ar>nr&&(ir=nr,nr=ar,ar=ir),ir=Ke(rr,ar);var sr=Ke(rr,nr);ir&&sr&&(tr.rangeCount!==1||tr.anchorNode!==ir.node||tr.anchorOffset!==ir.offset||tr.focusNode!==sr.node||tr.focusOffset!==sr.offset)&&(er=er.createRange(),er.setStart(ir.node,ir.offset),tr.removeAllRanges(),ar>nr?(tr.addRange(er),tr.extend(sr.node,sr.offset)):(er.setEnd(sr.node,sr.offset),tr.addRange(er)))}}for(er=[],tr=rr;tr=tr.parentNode;)tr.nodeType===1&&er.push({element:tr,left:tr.scrollLeft,top:tr.scrollTop});for(typeof rr.focus=="function"&&rr.focus(),rr=0;rr<er.length;rr++)tr=er[rr],tr.element.scrollLeft=tr.left,tr.element.scrollTop=tr.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(tr,er,rr){var nr=rr.window===rr?rr.document:rr.nodeType===9?rr:rr.ownerDocument;Te$1||Qe==null||Qe!==Xa(nr)||(nr=Qe,"selectionStart"in nr&&Ne$1(nr)?nr={start:nr.selectionStart,end:nr.selectionEnd}:(nr=(nr.ownerDocument&&nr.ownerDocument.defaultView||window).getSelection(),nr={anchorNode:nr.anchorNode,anchorOffset:nr.anchorOffset,focusNode:nr.focusNode,focusOffset:nr.focusOffset}),Se&&Ie$1(Se,nr)||(Se=nr,nr=oe$2(Re,"onSelect"),0<nr.length&&(er=new td$1("onSelect","select",null,er,rr),tr.push({event:er,listeners:nr}),er.target=Qe)))}function Ve(tr,er){var rr={};return rr[tr.toLowerCase()]=er.toLowerCase(),rr["Webkit"+tr]="webkit"+er,rr["Moz"+tr]="moz"+er,rr}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(tr){if(Xe[tr])return Xe[tr];if(!We[tr])return tr;var er=We[tr],rr;for(rr in er)if(er.hasOwnProperty(rr)&&rr in Ye)return Xe[tr]=er[rr];return tr}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tr,er){df.set(tr,er),fa(er,[tr])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tr,er,rr){var nr=tr.type||"unknown-event";tr.currentTarget=rr,Ub(nr,er,void 0,tr),tr.currentTarget=null}function se$1(tr,er){er=(er&4)!==0;for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],ir=nr.event;nr=nr.listeners;e:{var ar=void 0;if(er)for(var sr=nr.length-1;0<=sr;sr--){var lr=nr[sr],or=lr.instance,cr=lr.currentTarget;if(lr=lr.listener,or!==ar&&ir.isPropagationStopped())break e;nf(ir,lr,cr),ar=or}else for(sr=0;sr<nr.length;sr++){if(lr=nr[sr],or=lr.instance,cr=lr.currentTarget,lr=lr.listener,or!==ar&&ir.isPropagationStopped())break e;nf(ir,lr,cr),ar=or}}}if(Qb)throw tr=Rb,Qb=!1,Rb=null,tr}function D$2(tr,er){var rr=er[of];rr===void 0&&(rr=er[of]=new Set);var nr=tr+"__bubble";rr.has(nr)||(pf(er,tr,2,!1),rr.add(nr))}function qf(tr,er,rr){var nr=0;er&&(nr|=4),pf(rr,tr,nr,er)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tr){if(!tr[rf]){tr[rf]=!0,da.forEach(function(rr){rr!=="selectionchange"&&(mf.has(rr)||qf(rr,!1,tr),qf(rr,!0,tr))});var er=tr.nodeType===9?tr:tr.ownerDocument;er===null||er[rf]||(er[rf]=!0,qf("selectionchange",!1,er))}}function pf(tr,er,rr,nr){switch(jd(er)){case 1:var ir=ed;break;case 4:ir=gd;break;default:ir=fd$1}rr=ir.bind(null,er,rr,tr),ir=void 0,!Lb||er!=="touchstart"&&er!=="touchmove"&&er!=="wheel"||(ir=!0),nr?ir!==void 0?tr.addEventListener(er,rr,{capture:!0,passive:ir}):tr.addEventListener(er,rr,!0):ir!==void 0?tr.addEventListener(er,rr,{passive:ir}):tr.addEventListener(er,rr,!1)}function hd(tr,er,rr,nr,ir){var ar=nr;if(!(er&1)&&!(er&2)&&nr!==null)e:for(;;){if(nr===null)return;var sr=nr.tag;if(sr===3||sr===4){var lr=nr.stateNode.containerInfo;if(lr===ir||lr.nodeType===8&&lr.parentNode===ir)break;if(sr===4)for(sr=nr.return;sr!==null;){var or=sr.tag;if((or===3||or===4)&&(or=sr.stateNode.containerInfo,or===ir||or.nodeType===8&&or.parentNode===ir))return;sr=sr.return}for(;lr!==null;){if(sr=Wc(lr),sr===null)return;if(or=sr.tag,or===5||or===6){nr=ar=sr;continue e}lr=lr.parentNode}}nr=nr.return}Jb(function(){var cr=ar,ur=xb(rr),dr=[];e:{var hr=df.get(tr);if(hr!==void 0){var fr=td$1,mr=tr;switch(tr){case"keypress":if(od(rr)===0)break e;case"keydown":case"keyup":fr=Rd;break;case"focusin":mr="focus",fr=Fd;break;case"focusout":mr="blur",fr=Fd;break;case"beforeblur":case"afterblur":fr=Fd;break;case"click":if(rr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fr=Vd;break;case $e:case af:case bf:fr=Hd;break;case cf:fr=Xd;break;case"scroll":fr=vd;break;case"wheel":fr=Zd;break;case"copy":case"cut":case"paste":fr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fr=Td}var br=(er&4)!==0,pr=!br&&tr==="scroll",gr=br?hr!==null?hr+"Capture":null:hr;br=[];for(var yr=cr,vr;yr!==null;){vr=yr;var _r=vr.stateNode;if(vr.tag===5&&_r!==null&&(vr=_r,gr!==null&&(_r=Kb(yr,gr),_r!=null&&br.push(tf(yr,_r,vr)))),pr)break;yr=yr.return}0<br.length&&(hr=new fr(hr,mr,null,rr,ur),dr.push({event:hr,listeners:br}))}}if(!(er&7)){e:{if(hr=tr==="mouseover"||tr==="pointerover",fr=tr==="mouseout"||tr==="pointerout",hr&&rr!==wb&&(mr=rr.relatedTarget||rr.fromElement)&&(Wc(mr)||mr[uf]))break e;if((fr||hr)&&(hr=ur.window===ur?ur:(hr=ur.ownerDocument)?hr.defaultView||hr.parentWindow:window,fr?(mr=rr.relatedTarget||rr.toElement,fr=cr,mr=mr?Wc(mr):null,mr!==null&&(pr=Vb(mr),mr!==pr||mr.tag!==5&&mr.tag!==6)&&(mr=null)):(fr=null,mr=cr),fr!==mr)){if(br=Bd,_r="onMouseLeave",gr="onMouseEnter",yr="mouse",(tr==="pointerout"||tr==="pointerover")&&(br=Td,_r="onPointerLeave",gr="onPointerEnter",yr="pointer"),pr=fr==null?hr:ue$2(fr),vr=mr==null?hr:ue$2(mr),hr=new br(_r,yr+"leave",fr,rr,ur),hr.target=pr,hr.relatedTarget=vr,_r=null,Wc(ur)===cr&&(br=new br(gr,yr+"enter",mr,rr,ur),br.target=vr,br.relatedTarget=pr,_r=br),pr=_r,fr&&mr)t:{for(br=fr,gr=mr,yr=0,vr=br;vr;vr=vf(vr))yr++;for(vr=0,_r=gr;_r;_r=vf(_r))vr++;for(;0<yr-vr;)br=vf(br),yr--;for(;0<vr-yr;)gr=vf(gr),vr--;for(;yr--;){if(br===gr||gr!==null&&br===gr.alternate)break t;br=vf(br),gr=vf(gr)}br=null}else br=null;fr!==null&&wf(dr,hr,fr,br,!1),mr!==null&&pr!==null&&wf(dr,pr,mr,br,!0)}}e:{if(hr=cr?ue$2(cr):window,fr=hr.nodeName&&hr.nodeName.toLowerCase(),fr==="select"||fr==="input"&&hr.type==="file")var xr=ve$1;else if(me$2(hr))if(we$2)xr=Fe;else{xr=De$1;var Rr=Ce}else(fr=hr.nodeName)&&fr.toLowerCase()==="input"&&(hr.type==="checkbox"||hr.type==="radio")&&(xr=Ee$1);if(xr&&(xr=xr(tr,cr))){ne$2(dr,xr,rr,ur);break e}Rr&&Rr(tr,hr,cr),tr==="focusout"&&(Rr=hr._wrapperState)&&Rr.controlled&&hr.type==="number"&&cb(hr,"number",hr.value)}switch(Rr=cr?ue$2(cr):window,tr){case"focusin":(me$2(Rr)||Rr.contentEditable==="true")&&(Qe=Rr,Re=cr,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(dr,rr,ur);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(dr,rr,ur)}var Cr;if(ae$2)e:{switch(tr){case"compositionstart":var Tr="onCompositionStart";break e;case"compositionend":Tr="onCompositionEnd";break e;case"compositionupdate":Tr="onCompositionUpdate";break e}Tr=void 0}else ie$1?ge$2(tr,rr)&&(Tr="onCompositionEnd"):tr==="keydown"&&rr.keyCode===229&&(Tr="onCompositionStart");Tr&&(de$2&&rr.locale!=="ko"&&(ie$1||Tr!=="onCompositionStart"?Tr==="onCompositionEnd"&&ie$1&&(Cr=nd()):(kd=ur,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Rr=oe$2(cr,Tr),0<Rr.length&&(Tr=new Ld(Tr,tr,null,rr,ur),dr.push({event:Tr,listeners:Rr}),Cr?Tr.data=Cr:(Cr=he$2(rr),Cr!==null&&(Tr.data=Cr)))),(Cr=ce$2?je(tr,rr):ke(tr,rr))&&(cr=oe$2(cr,"onBeforeInput"),0<cr.length&&(ur=new Ld("onBeforeInput","beforeinput",null,rr,ur),dr.push({event:ur,listeners:cr}),ur.data=Cr))}se$1(dr,er)})}function tf(tr,er,rr){return{instance:tr,listener:er,currentTarget:rr}}function oe$2(tr,er){for(var rr=er+"Capture",nr=[];tr!==null;){var ir=tr,ar=ir.stateNode;ir.tag===5&&ar!==null&&(ir=ar,ar=Kb(tr,rr),ar!=null&&nr.unshift(tf(tr,ar,ir)),ar=Kb(tr,er),ar!=null&&nr.push(tf(tr,ar,ir))),tr=tr.return}return nr}function vf(tr){if(tr===null)return null;do tr=tr.return;while(tr&&tr.tag!==5);return tr||null}function wf(tr,er,rr,nr,ir){for(var ar=er._reactName,sr=[];rr!==null&&rr!==nr;){var lr=rr,or=lr.alternate,cr=lr.stateNode;if(or!==null&&or===nr)break;lr.tag===5&&cr!==null&&(lr=cr,ir?(or=Kb(rr,ar),or!=null&&sr.unshift(tf(rr,or,lr))):ir||(or=Kb(rr,ar),or!=null&&sr.push(tf(rr,or,lr)))),rr=rr.return}sr.length!==0&&tr.push({event:er,listeners:sr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tr){return(typeof tr=="string"?tr:""+tr).replace(xf,`
`).replace(yf,"")}function Af(tr,er,rr){if(er=zf(er),zf(tr)!==er&&rr)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(tr,er){return tr==="textarea"||tr==="noscript"||typeof er.children=="string"||typeof er.children=="number"||typeof er.dangerouslySetInnerHTML=="object"&&er.dangerouslySetInnerHTML!==null&&er.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tr){return Hf.resolve(null).then(tr).catch(If)}:Ff;function If(tr){setTimeout(function(){throw tr})}function Kf(tr,er){var rr=er,nr=0;do{var ir=rr.nextSibling;if(tr.removeChild(rr),ir&&ir.nodeType===8)if(rr=ir.data,rr==="/$"){if(nr===0){tr.removeChild(ir),bd(er);return}nr--}else rr!=="$"&&rr!=="$?"&&rr!=="$!"||nr++;rr=ir}while(rr);bd(er)}function Lf(tr){for(;tr!=null;tr=tr.nextSibling){var er=tr.nodeType;if(er===1||er===3)break;if(er===8){if(er=tr.data,er==="$"||er==="$!"||er==="$?")break;if(er==="/$")return null}}return tr}function Mf(tr){tr=tr.previousSibling;for(var er=0;tr;){if(tr.nodeType===8){var rr=tr.data;if(rr==="$"||rr==="$!"||rr==="$?"){if(er===0)return tr;er--}else rr==="/$"&&er++}tr=tr.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tr){var er=tr[Of];if(er)return er;for(var rr=tr.parentNode;rr;){if(er=rr[uf]||rr[Of]){if(rr=er.alternate,er.child!==null||rr!==null&&rr.child!==null)for(tr=Mf(tr);tr!==null;){if(rr=tr[Of])return rr;tr=Mf(tr)}return er}tr=rr,rr=tr.parentNode}return null}function Cb(tr){return tr=tr[Of]||tr[uf],!tr||tr.tag!==5&&tr.tag!==6&&tr.tag!==13&&tr.tag!==3?null:tr}function ue$2(tr){if(tr.tag===5||tr.tag===6)return tr.stateNode;throw Error(p$2(33))}function Db(tr){return tr[Pf]||null}var Sf=[],Tf=-1;function Uf(tr){return{current:tr}}function E$1(tr){0>Tf||(tr.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(tr,er){Tf++,Sf[Tf]=tr.current,tr.current=er}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tr,er){var rr=tr.type.contextTypes;if(!rr)return Vf;var nr=tr.stateNode;if(nr&&nr.__reactInternalMemoizedUnmaskedChildContext===er)return nr.__reactInternalMemoizedMaskedChildContext;var ir={},ar;for(ar in rr)ir[ar]=er[ar];return nr&&(tr=tr.stateNode,tr.__reactInternalMemoizedUnmaskedChildContext=er,tr.__reactInternalMemoizedMaskedChildContext=ir),ir}function Zf(tr){return tr=tr.childContextTypes,tr!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(tr,er,rr){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,er),G$1(Wf,rr)}function bg(tr,er,rr){var nr=tr.stateNode;if(er=er.childContextTypes,typeof nr.getChildContext!="function")return rr;nr=nr.getChildContext();for(var ir in nr)if(!(ir in er))throw Error(p$2(108,Ra(tr)||"Unknown",ir));return A$1({},rr,nr)}function cg(tr){return tr=(tr=tr.stateNode)&&tr.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,tr),G$1(Wf,Wf.current),!0}function dg(tr,er,rr){var nr=tr.stateNode;if(!nr)throw Error(p$2(169));rr?(tr=bg(tr,er,Xf),nr.__reactInternalMemoizedMergedChildContext=tr,E$1(Wf),E$1(H$1),G$1(H$1,tr)):E$1(Wf),G$1(Wf,rr)}var eg=null,fg=!1,gg=!1;function hg(tr){eg===null?eg=[tr]:eg.push(tr)}function ig(tr){fg=!0,hg(tr)}function jg(){if(!gg&&eg!==null){gg=!0;var tr=0,er=C$2;try{var rr=eg;for(C$2=1;tr<rr.length;tr++){var nr=rr[tr];do nr=nr(!0);while(nr!==null)}eg=null,fg=!1}catch(ir){throw eg!==null&&(eg=eg.slice(tr+1)),ac(fc,jg),ir}finally{C$2=er,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tr,er){kg[lg++]=ng,kg[lg++]=mg,mg=tr,ng=er}function ug(tr,er,rr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tr;var nr=rg;tr=sg;var ir=32-oc(nr)-1;nr&=~(1<<ir),rr+=1;var ar=32-oc(er)+ir;if(30<ar){var sr=ir-ir%5;ar=(nr&(1<<sr)-1).toString(32),nr>>=sr,ir-=sr,rg=1<<32-oc(er)+ir|rr<<ir|nr,sg=ar+tr}else rg=1<<ar|rr<<ir|nr,sg=tr}function vg(tr){tr.return!==null&&(tg(tr,1),ug(tr,1,0))}function wg(tr){for(;tr===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tr===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(tr,er){var rr=Bg(5,null,null,0);rr.elementType="DELETED",rr.stateNode=er,rr.return=tr,er=tr.deletions,er===null?(tr.deletions=[rr],tr.flags|=16):er.push(rr)}function Cg(tr,er){switch(tr.tag){case 5:var rr=tr.type;return er=er.nodeType!==1||rr.toLowerCase()!==er.nodeName.toLowerCase()?null:er,er!==null?(tr.stateNode=er,xg=tr,yg=Lf(er.firstChild),!0):!1;case 6:return er=tr.pendingProps===""||er.nodeType!==3?null:er,er!==null?(tr.stateNode=er,xg=tr,yg=null,!0):!1;case 13:return er=er.nodeType!==8?null:er,er!==null?(rr=qg!==null?{id:rg,overflow:sg}:null,tr.memoizedState={dehydrated:er,treeContext:rr,retryLane:1073741824},rr=Bg(18,null,null,0),rr.stateNode=er,rr.return=tr,tr.child=rr,xg=tr,yg=null,!0):!1;default:return!1}}function Dg(tr){return(tr.mode&1)!==0&&(tr.flags&128)===0}function Eg(tr){if(I$1){var er=yg;if(er){var rr=er;if(!Cg(tr,er)){if(Dg(tr))throw Error(p$2(418));er=Lf(rr.nextSibling);var nr=xg;er&&Cg(tr,er)?Ag(nr,rr):(tr.flags=tr.flags&-4097|2,I$1=!1,xg=tr)}}else{if(Dg(tr))throw Error(p$2(418));tr.flags=tr.flags&-4097|2,I$1=!1,xg=tr}}}function Fg(tr){for(tr=tr.return;tr!==null&&tr.tag!==5&&tr.tag!==3&&tr.tag!==13;)tr=tr.return;xg=tr}function Gg(tr){if(tr!==xg)return!1;if(!I$1)return Fg(tr),I$1=!0,!1;var er;if((er=tr.tag!==3)&&!(er=tr.tag!==5)&&(er=tr.type,er=er!=="head"&&er!=="body"&&!Ef(tr.type,tr.memoizedProps)),er&&(er=yg)){if(Dg(tr))throw Hg(),Error(p$2(418));for(;er;)Ag(tr,er),er=Lf(er.nextSibling)}if(Fg(tr),tr.tag===13){if(tr=tr.memoizedState,tr=tr!==null?tr.dehydrated:null,!tr)throw Error(p$2(317));e:{for(tr=tr.nextSibling,er=0;tr;){if(tr.nodeType===8){var rr=tr.data;if(rr==="/$"){if(er===0){yg=Lf(tr.nextSibling);break e}er--}else rr!=="$"&&rr!=="$!"&&rr!=="$?"||er++}tr=tr.nextSibling}yg=null}}else yg=xg?Lf(tr.stateNode.nextSibling):null;return!0}function Hg(){for(var tr=yg;tr;)tr=Lf(tr.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(tr){zg===null?zg=[tr]:zg.push(tr)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tr,er,rr){if(tr=rr.ref,tr!==null&&typeof tr!="function"&&typeof tr!="object"){if(rr._owner){if(rr=rr._owner,rr){if(rr.tag!==1)throw Error(p$2(309));var nr=rr.stateNode}if(!nr)throw Error(p$2(147,tr));var ir=nr,ar=""+tr;return er!==null&&er.ref!==null&&typeof er.ref=="function"&&er.ref._stringRef===ar?er.ref:(er=function(sr){var lr=ir.refs;sr===null?delete lr[ar]:lr[ar]=sr},er._stringRef=ar,er)}if(typeof tr!="string")throw Error(p$2(284));if(!rr._owner)throw Error(p$2(290,tr))}return tr}function Mg(tr,er){throw tr=Object.prototype.toString.call(er),Error(p$2(31,tr==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":tr))}function Ng(tr){var er=tr._init;return er(tr._payload)}function Og(tr){function er(gr,yr){if(tr){var vr=gr.deletions;vr===null?(gr.deletions=[yr],gr.flags|=16):vr.push(yr)}}function rr(gr,yr){if(!tr)return null;for(;yr!==null;)er(gr,yr),yr=yr.sibling;return null}function nr(gr,yr){for(gr=new Map;yr!==null;)yr.key!==null?gr.set(yr.key,yr):gr.set(yr.index,yr),yr=yr.sibling;return gr}function ir(gr,yr){return gr=Pg(gr,yr),gr.index=0,gr.sibling=null,gr}function ar(gr,yr,vr){return gr.index=vr,tr?(vr=gr.alternate,vr!==null?(vr=vr.index,vr<yr?(gr.flags|=2,yr):vr):(gr.flags|=2,yr)):(gr.flags|=1048576,yr)}function sr(gr){return tr&&gr.alternate===null&&(gr.flags|=2),gr}function lr(gr,yr,vr,_r){return yr===null||yr.tag!==6?(yr=Qg(vr,gr.mode,_r),yr.return=gr,yr):(yr=ir(yr,vr),yr.return=gr,yr)}function or(gr,yr,vr,_r){var xr=vr.type;return xr===ya?ur(gr,yr,vr.props.children,_r,vr.key):yr!==null&&(yr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&Ng(xr)===yr.type)?(_r=ir(yr,vr.props),_r.ref=Lg(gr,yr,vr),_r.return=gr,_r):(_r=Rg(vr.type,vr.key,vr.props,null,gr.mode,_r),_r.ref=Lg(gr,yr,vr),_r.return=gr,_r)}function cr(gr,yr,vr,_r){return yr===null||yr.tag!==4||yr.stateNode.containerInfo!==vr.containerInfo||yr.stateNode.implementation!==vr.implementation?(yr=Sg(vr,gr.mode,_r),yr.return=gr,yr):(yr=ir(yr,vr.children||[]),yr.return=gr,yr)}function ur(gr,yr,vr,_r,xr){return yr===null||yr.tag!==7?(yr=Tg(vr,gr.mode,_r,xr),yr.return=gr,yr):(yr=ir(yr,vr),yr.return=gr,yr)}function dr(gr,yr,vr){if(typeof yr=="string"&&yr!==""||typeof yr=="number")return yr=Qg(""+yr,gr.mode,vr),yr.return=gr,yr;if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:return vr=Rg(yr.type,yr.key,yr.props,null,gr.mode,vr),vr.ref=Lg(gr,null,yr),vr.return=gr,vr;case wa:return yr=Sg(yr,gr.mode,vr),yr.return=gr,yr;case Ha:var _r=yr._init;return dr(gr,_r(yr._payload),vr)}if(eb(yr)||Ka(yr))return yr=Tg(yr,gr.mode,vr,null),yr.return=gr,yr;Mg(gr,yr)}return null}function hr(gr,yr,vr,_r){var xr=yr!==null?yr.key:null;if(typeof vr=="string"&&vr!==""||typeof vr=="number")return xr!==null?null:lr(gr,yr,""+vr,_r);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return vr.key===xr?or(gr,yr,vr,_r):null;case wa:return vr.key===xr?cr(gr,yr,vr,_r):null;case Ha:return xr=vr._init,hr(gr,yr,xr(vr._payload),_r)}if(eb(vr)||Ka(vr))return xr!==null?null:ur(gr,yr,vr,_r,null);Mg(gr,vr)}return null}function fr(gr,yr,vr,_r,xr){if(typeof _r=="string"&&_r!==""||typeof _r=="number")return gr=gr.get(vr)||null,lr(yr,gr,""+_r,xr);if(typeof _r=="object"&&_r!==null){switch(_r.$$typeof){case va:return gr=gr.get(_r.key===null?vr:_r.key)||null,or(yr,gr,_r,xr);case wa:return gr=gr.get(_r.key===null?vr:_r.key)||null,cr(yr,gr,_r,xr);case Ha:var Rr=_r._init;return fr(gr,yr,vr,Rr(_r._payload),xr)}if(eb(_r)||Ka(_r))return gr=gr.get(vr)||null,ur(yr,gr,_r,xr,null);Mg(yr,_r)}return null}function mr(gr,yr,vr,_r){for(var xr=null,Rr=null,Cr=yr,Tr=yr=0,Ir=null;Cr!==null&&Tr<vr.length;Tr++){Cr.index>Tr?(Ir=Cr,Cr=null):Ir=Cr.sibling;var Lr=hr(gr,Cr,vr[Tr],_r);if(Lr===null){Cr===null&&(Cr=Ir);break}tr&&Cr&&Lr.alternate===null&&er(gr,Cr),yr=ar(Lr,yr,Tr),Rr===null?xr=Lr:Rr.sibling=Lr,Rr=Lr,Cr=Ir}if(Tr===vr.length)return rr(gr,Cr),I$1&&tg(gr,Tr),xr;if(Cr===null){for(;Tr<vr.length;Tr++)Cr=dr(gr,vr[Tr],_r),Cr!==null&&(yr=ar(Cr,yr,Tr),Rr===null?xr=Cr:Rr.sibling=Cr,Rr=Cr);return I$1&&tg(gr,Tr),xr}for(Cr=nr(gr,Cr);Tr<vr.length;Tr++)Ir=fr(Cr,gr,Tr,vr[Tr],_r),Ir!==null&&(tr&&Ir.alternate!==null&&Cr.delete(Ir.key===null?Tr:Ir.key),yr=ar(Ir,yr,Tr),Rr===null?xr=Ir:Rr.sibling=Ir,Rr=Ir);return tr&&Cr.forEach(function(Nr){return er(gr,Nr)}),I$1&&tg(gr,Tr),xr}function br(gr,yr,vr,_r){var xr=Ka(vr);if(typeof xr!="function")throw Error(p$2(150));if(vr=xr.call(vr),vr==null)throw Error(p$2(151));for(var Rr=xr=null,Cr=yr,Tr=yr=0,Ir=null,Lr=vr.next();Cr!==null&&!Lr.done;Tr++,Lr=vr.next()){Cr.index>Tr?(Ir=Cr,Cr=null):Ir=Cr.sibling;var Nr=hr(gr,Cr,Lr.value,_r);if(Nr===null){Cr===null&&(Cr=Ir);break}tr&&Cr&&Nr.alternate===null&&er(gr,Cr),yr=ar(Nr,yr,Tr),Rr===null?xr=Nr:Rr.sibling=Nr,Rr=Nr,Cr=Ir}if(Lr.done)return rr(gr,Cr),I$1&&tg(gr,Tr),xr;if(Cr===null){for(;!Lr.done;Tr++,Lr=vr.next())Lr=dr(gr,Lr.value,_r),Lr!==null&&(yr=ar(Lr,yr,Tr),Rr===null?xr=Lr:Rr.sibling=Lr,Rr=Lr);return I$1&&tg(gr,Tr),xr}for(Cr=nr(gr,Cr);!Lr.done;Tr++,Lr=vr.next())Lr=fr(Cr,gr,Tr,Lr.value,_r),Lr!==null&&(tr&&Lr.alternate!==null&&Cr.delete(Lr.key===null?Tr:Lr.key),yr=ar(Lr,yr,Tr),Rr===null?xr=Lr:Rr.sibling=Lr,Rr=Lr);return tr&&Cr.forEach(function(Or){return er(gr,Or)}),I$1&&tg(gr,Tr),xr}function pr(gr,yr,vr,_r){if(typeof vr=="object"&&vr!==null&&vr.type===ya&&vr.key===null&&(vr=vr.props.children),typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:e:{for(var xr=vr.key,Rr=yr;Rr!==null;){if(Rr.key===xr){if(xr=vr.type,xr===ya){if(Rr.tag===7){rr(gr,Rr.sibling),yr=ir(Rr,vr.props.children),yr.return=gr,gr=yr;break e}}else if(Rr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&Ng(xr)===Rr.type){rr(gr,Rr.sibling),yr=ir(Rr,vr.props),yr.ref=Lg(gr,Rr,vr),yr.return=gr,gr=yr;break e}rr(gr,Rr);break}else er(gr,Rr);Rr=Rr.sibling}vr.type===ya?(yr=Tg(vr.props.children,gr.mode,_r,vr.key),yr.return=gr,gr=yr):(_r=Rg(vr.type,vr.key,vr.props,null,gr.mode,_r),_r.ref=Lg(gr,yr,vr),_r.return=gr,gr=_r)}return sr(gr);case wa:e:{for(Rr=vr.key;yr!==null;){if(yr.key===Rr)if(yr.tag===4&&yr.stateNode.containerInfo===vr.containerInfo&&yr.stateNode.implementation===vr.implementation){rr(gr,yr.sibling),yr=ir(yr,vr.children||[]),yr.return=gr,gr=yr;break e}else{rr(gr,yr);break}else er(gr,yr);yr=yr.sibling}yr=Sg(vr,gr.mode,_r),yr.return=gr,gr=yr}return sr(gr);case Ha:return Rr=vr._init,pr(gr,yr,Rr(vr._payload),_r)}if(eb(vr))return mr(gr,yr,vr,_r);if(Ka(vr))return br(gr,yr,vr,_r);Mg(gr,vr)}return typeof vr=="string"&&vr!==""||typeof vr=="number"?(vr=""+vr,yr!==null&&yr.tag===6?(rr(gr,yr.sibling),yr=ir(yr,vr),yr.return=gr,gr=yr):(rr(gr,yr),yr=Qg(vr,gr.mode,_r),yr.return=gr,gr=yr),sr(gr)):rr(gr,yr)}return pr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(tr){var er=Wg.current;E$1(Wg),tr._currentValue=er}function bh(tr,er,rr){for(;tr!==null;){var nr=tr.alternate;if((tr.childLanes&er)!==er?(tr.childLanes|=er,nr!==null&&(nr.childLanes|=er)):nr!==null&&(nr.childLanes&er)!==er&&(nr.childLanes|=er),tr===rr)break;tr=tr.return}}function ch(tr,er){Xg=tr,Zg=Yg=null,tr=tr.dependencies,tr!==null&&tr.firstContext!==null&&(tr.lanes&er&&(dh=!0),tr.firstContext=null)}function eh(tr){var er=tr._currentValue;if(Zg!==tr)if(tr={context:tr,memoizedValue:er,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=tr,Xg.dependencies={lanes:0,firstContext:tr}}else Yg=Yg.next=tr;return er}var fh=null;function gh(tr){fh===null?fh=[tr]:fh.push(tr)}function hh(tr,er,rr,nr){var ir=er.interleaved;return ir===null?(rr.next=rr,gh(er)):(rr.next=ir.next,ir.next=rr),er.interleaved=rr,ih(tr,nr)}function ih(tr,er){tr.lanes|=er;var rr=tr.alternate;for(rr!==null&&(rr.lanes|=er),rr=tr,tr=tr.return;tr!==null;)tr.childLanes|=er,rr=tr.alternate,rr!==null&&(rr.childLanes|=er),rr=tr,tr=tr.return;return rr.tag===3?rr.stateNode:null}var jh=!1;function kh(tr){tr.updateQueue={baseState:tr.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(tr,er){tr=tr.updateQueue,er.updateQueue===tr&&(er.updateQueue={baseState:tr.baseState,firstBaseUpdate:tr.firstBaseUpdate,lastBaseUpdate:tr.lastBaseUpdate,shared:tr.shared,effects:tr.effects})}function mh(tr,er){return{eventTime:tr,lane:er,tag:0,payload:null,callback:null,next:null}}function nh(tr,er,rr){var nr=tr.updateQueue;if(nr===null)return null;if(nr=nr.shared,K$1&2){var ir=nr.pending;return ir===null?er.next=er:(er.next=ir.next,ir.next=er),nr.pending=er,ih(tr,rr)}return ir=nr.interleaved,ir===null?(er.next=er,gh(nr)):(er.next=ir.next,ir.next=er),nr.interleaved=er,ih(tr,rr)}function oh(tr,er,rr){if(er=er.updateQueue,er!==null&&(er=er.shared,(rr&4194240)!==0)){var nr=er.lanes;nr&=tr.pendingLanes,rr|=nr,er.lanes=rr,Cc(tr,rr)}}function ph(tr,er){var rr=tr.updateQueue,nr=tr.alternate;if(nr!==null&&(nr=nr.updateQueue,rr===nr)){var ir=null,ar=null;if(rr=rr.firstBaseUpdate,rr!==null){do{var sr={eventTime:rr.eventTime,lane:rr.lane,tag:rr.tag,payload:rr.payload,callback:rr.callback,next:null};ar===null?ir=ar=sr:ar=ar.next=sr,rr=rr.next}while(rr!==null);ar===null?ir=ar=er:ar=ar.next=er}else ir=ar=er;rr={baseState:nr.baseState,firstBaseUpdate:ir,lastBaseUpdate:ar,shared:nr.shared,effects:nr.effects},tr.updateQueue=rr;return}tr=rr.lastBaseUpdate,tr===null?rr.firstBaseUpdate=er:tr.next=er,rr.lastBaseUpdate=er}function qh(tr,er,rr,nr){var ir=tr.updateQueue;jh=!1;var ar=ir.firstBaseUpdate,sr=ir.lastBaseUpdate,lr=ir.shared.pending;if(lr!==null){ir.shared.pending=null;var or=lr,cr=or.next;or.next=null,sr===null?ar=cr:sr.next=cr,sr=or;var ur=tr.alternate;ur!==null&&(ur=ur.updateQueue,lr=ur.lastBaseUpdate,lr!==sr&&(lr===null?ur.firstBaseUpdate=cr:lr.next=cr,ur.lastBaseUpdate=or))}if(ar!==null){var dr=ir.baseState;sr=0,ur=cr=or=null,lr=ar;do{var hr=lr.lane,fr=lr.eventTime;if((nr&hr)===hr){ur!==null&&(ur=ur.next={eventTime:fr,lane:0,tag:lr.tag,payload:lr.payload,callback:lr.callback,next:null});e:{var mr=tr,br=lr;switch(hr=er,fr=rr,br.tag){case 1:if(mr=br.payload,typeof mr=="function"){dr=mr.call(fr,dr,hr);break e}dr=mr;break e;case 3:mr.flags=mr.flags&-65537|128;case 0:if(mr=br.payload,hr=typeof mr=="function"?mr.call(fr,dr,hr):mr,hr==null)break e;dr=A$1({},dr,hr);break e;case 2:jh=!0}}lr.callback!==null&&lr.lane!==0&&(tr.flags|=64,hr=ir.effects,hr===null?ir.effects=[lr]:hr.push(lr))}else fr={eventTime:fr,lane:hr,tag:lr.tag,payload:lr.payload,callback:lr.callback,next:null},ur===null?(cr=ur=fr,or=dr):ur=ur.next=fr,sr|=hr;if(lr=lr.next,lr===null){if(lr=ir.shared.pending,lr===null)break;hr=lr,lr=hr.next,hr.next=null,ir.lastBaseUpdate=hr,ir.shared.pending=null}}while(!0);if(ur===null&&(or=dr),ir.baseState=or,ir.firstBaseUpdate=cr,ir.lastBaseUpdate=ur,er=ir.shared.interleaved,er!==null){ir=er;do sr|=ir.lane,ir=ir.next;while(ir!==er)}else ar===null&&(ir.shared.lanes=0);rh|=sr,tr.lanes=sr,tr.memoizedState=dr}}function sh(tr,er,rr){if(tr=er.effects,er.effects=null,tr!==null)for(er=0;er<tr.length;er++){var nr=tr[er],ir=nr.callback;if(ir!==null){if(nr.callback=null,nr=rr,typeof ir!="function")throw Error(p$2(191,ir));ir.call(nr)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(tr){if(tr===th)throw Error(p$2(174));return tr}function yh(tr,er){switch(G$1(wh,er),G$1(vh,tr),G$1(uh,th),tr=er.nodeType,tr){case 9:case 11:er=(er=er.documentElement)?er.namespaceURI:lb(null,"");break;default:tr=tr===8?er.parentNode:er,er=tr.namespaceURI||null,tr=tr.tagName,er=lb(er,tr)}E$1(uh),G$1(uh,er)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(tr){xh(wh.current);var er=xh(uh.current),rr=lb(er,tr.type);er!==rr&&(G$1(vh,tr),G$1(uh,rr))}function Bh(tr){vh.current===tr&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(tr){for(var er=tr;er!==null;){if(er.tag===13){var rr=er.memoizedState;if(rr!==null&&(rr=rr.dehydrated,rr===null||rr.data==="$?"||rr.data==="$!"))return er}else if(er.tag===19&&er.memoizedProps.revealOrder!==void 0){if(er.flags&128)return er}else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===tr)break;for(;er.sibling===null;){if(er.return===null||er.return===tr)return null;er=er.return}er.sibling.return=er.return,er=er.sibling}return null}var Dh=[];function Eh(){for(var tr=0;tr<Dh.length;tr++)Dh[tr]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(tr,er){if(er===null)return!1;for(var rr=0;rr<er.length&&rr<tr.length;rr++)if(!He(tr[rr],er[rr]))return!1;return!0}function Nh(tr,er,rr,nr,ir,ar){if(Hh=ar,M$1=er,er.memoizedState=null,er.updateQueue=null,er.lanes=0,Fh.current=tr===null||tr.memoizedState===null?Oh:Ph,tr=rr(nr,ir),Jh){ar=0;do{if(Jh=!1,Kh=0,25<=ar)throw Error(p$2(301));ar+=1,O$1=N$1=null,er.updateQueue=null,Fh.current=Qh,tr=rr(nr,ir)}while(Jh)}if(Fh.current=Rh,er=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,er)throw Error(p$2(300));return tr}function Sh(){var tr=Kh!==0;return Kh=0,tr}function Th(){var tr={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=tr:O$1=O$1.next=tr,O$1}function Uh(){if(N$1===null){var tr=M$1.alternate;tr=tr!==null?tr.memoizedState:null}else tr=N$1.next;var er=O$1===null?M$1.memoizedState:O$1.next;if(er!==null)O$1=er,N$1=tr;else{if(tr===null)throw Error(p$2(310));N$1=tr,tr={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=tr:O$1=O$1.next=tr}return O$1}function Vh(tr,er){return typeof er=="function"?er(tr):er}function Wh(tr){var er=Uh(),rr=er.queue;if(rr===null)throw Error(p$2(311));rr.lastRenderedReducer=tr;var nr=N$1,ir=nr.baseQueue,ar=rr.pending;if(ar!==null){if(ir!==null){var sr=ir.next;ir.next=ar.next,ar.next=sr}nr.baseQueue=ir=ar,rr.pending=null}if(ir!==null){ar=ir.next,nr=nr.baseState;var lr=sr=null,or=null,cr=ar;do{var ur=cr.lane;if((Hh&ur)===ur)or!==null&&(or=or.next={lane:0,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null}),nr=cr.hasEagerState?cr.eagerState:tr(nr,cr.action);else{var dr={lane:ur,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null};or===null?(lr=or=dr,sr=nr):or=or.next=dr,M$1.lanes|=ur,rh|=ur}cr=cr.next}while(cr!==null&&cr!==ar);or===null?sr=nr:or.next=lr,He(nr,er.memoizedState)||(dh=!0),er.memoizedState=nr,er.baseState=sr,er.baseQueue=or,rr.lastRenderedState=nr}if(tr=rr.interleaved,tr!==null){ir=tr;do ar=ir.lane,M$1.lanes|=ar,rh|=ar,ir=ir.next;while(ir!==tr)}else ir===null&&(rr.lanes=0);return[er.memoizedState,rr.dispatch]}function Xh(tr){var er=Uh(),rr=er.queue;if(rr===null)throw Error(p$2(311));rr.lastRenderedReducer=tr;var nr=rr.dispatch,ir=rr.pending,ar=er.memoizedState;if(ir!==null){rr.pending=null;var sr=ir=ir.next;do ar=tr(ar,sr.action),sr=sr.next;while(sr!==ir);He(ar,er.memoizedState)||(dh=!0),er.memoizedState=ar,er.baseQueue===null&&(er.baseState=ar),rr.lastRenderedState=ar}return[ar,nr]}function Yh(){}function Zh(tr,er){var rr=M$1,nr=Uh(),ir=er(),ar=!He(nr.memoizedState,ir);if(ar&&(nr.memoizedState=ir,dh=!0),nr=nr.queue,$h(ai.bind(null,rr,nr,tr),[tr]),nr.getSnapshot!==er||ar||O$1!==null&&O$1.memoizedState.tag&1){if(rr.flags|=2048,bi(9,ci.bind(null,rr,nr,ir,er),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(rr,er,ir)}return ir}function di(tr,er,rr){tr.flags|=16384,tr={getSnapshot:er,value:rr},er=M$1.updateQueue,er===null?(er={lastEffect:null,stores:null},M$1.updateQueue=er,er.stores=[tr]):(rr=er.stores,rr===null?er.stores=[tr]:rr.push(tr))}function ci(tr,er,rr,nr){er.value=rr,er.getSnapshot=nr,ei(er)&&fi(tr)}function ai(tr,er,rr){return rr(function(){ei(er)&&fi(tr)})}function ei(tr){var er=tr.getSnapshot;tr=tr.value;try{var rr=er();return!He(tr,rr)}catch{return!0}}function fi(tr){var er=ih(tr,1);er!==null&&gi(er,tr,1,-1)}function hi(tr){var er=Th();return typeof tr=="function"&&(tr=tr()),er.memoizedState=er.baseState=tr,tr={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:tr},er.queue=tr,tr=tr.dispatch=ii.bind(null,M$1,tr),[er.memoizedState,tr]}function bi(tr,er,rr,nr){return tr={tag:tr,create:er,destroy:rr,deps:nr,next:null},er=M$1.updateQueue,er===null?(er={lastEffect:null,stores:null},M$1.updateQueue=er,er.lastEffect=tr.next=tr):(rr=er.lastEffect,rr===null?er.lastEffect=tr.next=tr:(nr=rr.next,rr.next=tr,tr.next=nr,er.lastEffect=tr)),tr}function ji(){return Uh().memoizedState}function ki(tr,er,rr,nr){var ir=Th();M$1.flags|=tr,ir.memoizedState=bi(1|er,rr,void 0,nr===void 0?null:nr)}function li(tr,er,rr,nr){var ir=Uh();nr=nr===void 0?null:nr;var ar=void 0;if(N$1!==null){var sr=N$1.memoizedState;if(ar=sr.destroy,nr!==null&&Mh(nr,sr.deps)){ir.memoizedState=bi(er,rr,ar,nr);return}}M$1.flags|=tr,ir.memoizedState=bi(1|er,rr,ar,nr)}function mi(tr,er){return ki(8390656,8,tr,er)}function $h(tr,er){return li(2048,8,tr,er)}function ni(tr,er){return li(4,2,tr,er)}function oi(tr,er){return li(4,4,tr,er)}function pi$2(tr,er){if(typeof er=="function")return tr=tr(),er(tr),function(){er(null)};if(er!=null)return tr=tr(),er.current=tr,function(){er.current=null}}function qi(tr,er,rr){return rr=rr!=null?rr.concat([tr]):null,li(4,4,pi$2.bind(null,er,tr),rr)}function ri(){}function si(tr,er){var rr=Uh();er=er===void 0?null:er;var nr=rr.memoizedState;return nr!==null&&er!==null&&Mh(er,nr[1])?nr[0]:(rr.memoizedState=[tr,er],tr)}function ti(tr,er){var rr=Uh();er=er===void 0?null:er;var nr=rr.memoizedState;return nr!==null&&er!==null&&Mh(er,nr[1])?nr[0]:(tr=tr(),rr.memoizedState=[tr,er],tr)}function ui(tr,er,rr){return Hh&21?(He(rr,er)||(rr=yc(),M$1.lanes|=rr,rh|=rr,tr.baseState=!0),er):(tr.baseState&&(tr.baseState=!1,dh=!0),tr.memoizedState=rr)}function vi(tr,er){var rr=C$2;C$2=rr!==0&&4>rr?rr:4,tr(!0);var nr=Gh.transition;Gh.transition={};try{tr(!1),er()}finally{C$2=rr,Gh.transition=nr}}function wi(){return Uh().memoizedState}function xi(tr,er,rr){var nr=yi(tr);if(rr={lane:nr,action:rr,hasEagerState:!1,eagerState:null,next:null},zi(tr))Ai(er,rr);else if(rr=hh(tr,er,rr,nr),rr!==null){var ir=R$1();gi(rr,tr,nr,ir),Bi(rr,er,nr)}}function ii(tr,er,rr){var nr=yi(tr),ir={lane:nr,action:rr,hasEagerState:!1,eagerState:null,next:null};if(zi(tr))Ai(er,ir);else{var ar=tr.alternate;if(tr.lanes===0&&(ar===null||ar.lanes===0)&&(ar=er.lastRenderedReducer,ar!==null))try{var sr=er.lastRenderedState,lr=ar(sr,rr);if(ir.hasEagerState=!0,ir.eagerState=lr,He(lr,sr)){var or=er.interleaved;or===null?(ir.next=ir,gh(er)):(ir.next=or.next,or.next=ir),er.interleaved=ir;return}}catch{}finally{}rr=hh(tr,er,ir,nr),rr!==null&&(ir=R$1(),gi(rr,tr,nr,ir),Bi(rr,er,nr))}}function zi(tr){var er=tr.alternate;return tr===M$1||er!==null&&er===M$1}function Ai(tr,er){Jh=Ih=!0;var rr=tr.pending;rr===null?er.next=er:(er.next=rr.next,rr.next=er),tr.pending=er}function Bi(tr,er,rr){if(rr&4194240){var nr=er.lanes;nr&=tr.pendingLanes,rr|=nr,er.lanes=rr,Cc(tr,rr)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(tr,er){return Th().memoizedState=[tr,er===void 0?null:er],tr},useContext:eh,useEffect:mi,useImperativeHandle:function(tr,er,rr){return rr=rr!=null?rr.concat([tr]):null,ki(4194308,4,pi$2.bind(null,er,tr),rr)},useLayoutEffect:function(tr,er){return ki(4194308,4,tr,er)},useInsertionEffect:function(tr,er){return ki(4,2,tr,er)},useMemo:function(tr,er){var rr=Th();return er=er===void 0?null:er,tr=tr(),rr.memoizedState=[tr,er],tr},useReducer:function(tr,er,rr){var nr=Th();return er=rr!==void 0?rr(er):er,nr.memoizedState=nr.baseState=er,tr={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:er},nr.queue=tr,tr=tr.dispatch=xi.bind(null,M$1,tr),[nr.memoizedState,tr]},useRef:function(tr){var er=Th();return tr={current:tr},er.memoizedState=tr},useState:hi,useDebugValue:ri,useDeferredValue:function(tr){return Th().memoizedState=tr},useTransition:function(){var tr=hi(!1),er=tr[0];return tr=vi.bind(null,tr[1]),Th().memoizedState=tr,[er,tr]},useMutableSource:function(){},useSyncExternalStore:function(tr,er,rr){var nr=M$1,ir=Th();if(I$1){if(rr===void 0)throw Error(p$2(407));rr=rr()}else{if(rr=er(),Q$1===null)throw Error(p$2(349));Hh&30||di(nr,er,rr)}ir.memoizedState=rr;var ar={value:rr,getSnapshot:er};return ir.queue=ar,mi(ai.bind(null,nr,ar,tr),[tr]),nr.flags|=2048,bi(9,ci.bind(null,nr,ar,rr,er),void 0,null),rr},useId:function(){var tr=Th(),er=Q$1.identifierPrefix;if(I$1){var rr=sg,nr=rg;rr=(nr&~(1<<32-oc(nr)-1)).toString(32)+rr,er=":"+er+"R"+rr,rr=Kh++,0<rr&&(er+="H"+rr.toString(32)),er+=":"}else rr=Lh++,er=":"+er+"r"+rr.toString(32)+":";return tr.memoizedState=er},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(tr){var er=Uh();return ui(er,N$1.memoizedState,tr)},useTransition:function(){var tr=Wh(Vh)[0],er=Uh().memoizedState;return[tr,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(tr){var er=Uh();return N$1===null?er.memoizedState=tr:ui(er,N$1.memoizedState,tr)},useTransition:function(){var tr=Xh(Vh)[0],er=Uh().memoizedState;return[tr,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(tr,er){if(tr&&tr.defaultProps){er=A$1({},er),tr=tr.defaultProps;for(var rr in tr)er[rr]===void 0&&(er[rr]=tr[rr]);return er}return er}function Di(tr,er,rr,nr){er=tr.memoizedState,rr=rr(nr,er),rr=rr==null?er:A$1({},er,rr),tr.memoizedState=rr,tr.lanes===0&&(tr.updateQueue.baseState=rr)}var Ei={isMounted:function(tr){return(tr=tr._reactInternals)?Vb(tr)===tr:!1},enqueueSetState:function(tr,er,rr){tr=tr._reactInternals;var nr=R$1(),ir=yi(tr),ar=mh(nr,ir);ar.payload=er,rr!=null&&(ar.callback=rr),er=nh(tr,ar,ir),er!==null&&(gi(er,tr,ir,nr),oh(er,tr,ir))},enqueueReplaceState:function(tr,er,rr){tr=tr._reactInternals;var nr=R$1(),ir=yi(tr),ar=mh(nr,ir);ar.tag=1,ar.payload=er,rr!=null&&(ar.callback=rr),er=nh(tr,ar,ir),er!==null&&(gi(er,tr,ir,nr),oh(er,tr,ir))},enqueueForceUpdate:function(tr,er){tr=tr._reactInternals;var rr=R$1(),nr=yi(tr),ir=mh(rr,nr);ir.tag=2,er!=null&&(ir.callback=er),er=nh(tr,ir,nr),er!==null&&(gi(er,tr,nr,rr),oh(er,tr,nr))}};function Fi(tr,er,rr,nr,ir,ar,sr){return tr=tr.stateNode,typeof tr.shouldComponentUpdate=="function"?tr.shouldComponentUpdate(nr,ar,sr):er.prototype&&er.prototype.isPureReactComponent?!Ie$1(rr,nr)||!Ie$1(ir,ar):!0}function Gi(tr,er,rr){var nr=!1,ir=Vf,ar=er.contextType;return typeof ar=="object"&&ar!==null?ar=eh(ar):(ir=Zf(er)?Xf:H$1.current,nr=er.contextTypes,ar=(nr=nr!=null)?Yf(tr,ir):Vf),er=new er(rr,ar),tr.memoizedState=er.state!==null&&er.state!==void 0?er.state:null,er.updater=Ei,tr.stateNode=er,er._reactInternals=tr,nr&&(tr=tr.stateNode,tr.__reactInternalMemoizedUnmaskedChildContext=ir,tr.__reactInternalMemoizedMaskedChildContext=ar),er}function Hi(tr,er,rr,nr){tr=er.state,typeof er.componentWillReceiveProps=="function"&&er.componentWillReceiveProps(rr,nr),typeof er.UNSAFE_componentWillReceiveProps=="function"&&er.UNSAFE_componentWillReceiveProps(rr,nr),er.state!==tr&&Ei.enqueueReplaceState(er,er.state,null)}function Ii(tr,er,rr,nr){var ir=tr.stateNode;ir.props=rr,ir.state=tr.memoizedState,ir.refs={},kh(tr);var ar=er.contextType;typeof ar=="object"&&ar!==null?ir.context=eh(ar):(ar=Zf(er)?Xf:H$1.current,ir.context=Yf(tr,ar)),ir.state=tr.memoizedState,ar=er.getDerivedStateFromProps,typeof ar=="function"&&(Di(tr,er,ar,rr),ir.state=tr.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof ir.getSnapshotBeforeUpdate=="function"||typeof ir.UNSAFE_componentWillMount!="function"&&typeof ir.componentWillMount!="function"||(er=ir.state,typeof ir.componentWillMount=="function"&&ir.componentWillMount(),typeof ir.UNSAFE_componentWillMount=="function"&&ir.UNSAFE_componentWillMount(),er!==ir.state&&Ei.enqueueReplaceState(ir,ir.state,null),qh(tr,rr,ir,nr),ir.state=tr.memoizedState),typeof ir.componentDidMount=="function"&&(tr.flags|=4194308)}function Ji(tr,er){try{var rr="",nr=er;do rr+=Pa(nr),nr=nr.return;while(nr);var ir=rr}catch(ar){ir=`
Error generating stack: `+ar.message+`
`+ar.stack}return{value:tr,source:er,stack:ir,digest:null}}function Ki(tr,er,rr){return{value:tr,source:null,stack:rr??null,digest:er??null}}function Li(tr,er){try{console.error(er.value)}catch(rr){setTimeout(function(){throw rr})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(tr,er,rr){rr=mh(-1,rr),rr.tag=3,rr.payload={element:null};var nr=er.value;return rr.callback=function(){Oi||(Oi=!0,Pi=nr),Li(tr,er)},rr}function Qi(tr,er,rr){rr=mh(-1,rr),rr.tag=3;var nr=tr.type.getDerivedStateFromError;if(typeof nr=="function"){var ir=er.value;rr.payload=function(){return nr(ir)},rr.callback=function(){Li(tr,er)}}var ar=tr.stateNode;return ar!==null&&typeof ar.componentDidCatch=="function"&&(rr.callback=function(){Li(tr,er),typeof nr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var sr=er.stack;this.componentDidCatch(er.value,{componentStack:sr!==null?sr:""})}),rr}function Si(tr,er,rr){var nr=tr.pingCache;if(nr===null){nr=tr.pingCache=new Mi;var ir=new Set;nr.set(er,ir)}else ir=nr.get(er),ir===void 0&&(ir=new Set,nr.set(er,ir));ir.has(rr)||(ir.add(rr),tr=Ti.bind(null,tr,er,rr),er.then(tr,tr))}function Ui(tr){do{var er;if((er=tr.tag===13)&&(er=tr.memoizedState,er=er!==null?er.dehydrated!==null:!0),er)return tr;tr=tr.return}while(tr!==null);return null}function Vi(tr,er,rr,nr,ir){return tr.mode&1?(tr.flags|=65536,tr.lanes=ir,tr):(tr===er?tr.flags|=65536:(tr.flags|=128,rr.flags|=131072,rr.flags&=-52805,rr.tag===1&&(rr.alternate===null?rr.tag=17:(er=mh(-1,1),er.tag=2,nh(rr,er,1))),rr.lanes|=1),tr)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(tr,er,rr,nr){er.child=tr===null?Vg(er,null,rr,nr):Ug(er,tr.child,rr,nr)}function Yi(tr,er,rr,nr,ir){rr=rr.render;var ar=er.ref;return ch(er,ir),nr=Nh(tr,er,rr,nr,ar,ir),rr=Sh(),tr!==null&&!dh?(er.updateQueue=tr.updateQueue,er.flags&=-2053,tr.lanes&=~ir,Zi(tr,er,ir)):(I$1&&rr&&vg(er),er.flags|=1,Xi(tr,er,nr,ir),er.child)}function $i(tr,er,rr,nr,ir){if(tr===null){var ar=rr.type;return typeof ar=="function"&&!aj(ar)&&ar.defaultProps===void 0&&rr.compare===null&&rr.defaultProps===void 0?(er.tag=15,er.type=ar,bj(tr,er,ar,nr,ir)):(tr=Rg(rr.type,null,nr,er,er.mode,ir),tr.ref=er.ref,tr.return=er,er.child=tr)}if(ar=tr.child,!(tr.lanes&ir)){var sr=ar.memoizedProps;if(rr=rr.compare,rr=rr!==null?rr:Ie$1,rr(sr,nr)&&tr.ref===er.ref)return Zi(tr,er,ir)}return er.flags|=1,tr=Pg(ar,nr),tr.ref=er.ref,tr.return=er,er.child=tr}function bj(tr,er,rr,nr,ir){if(tr!==null){var ar=tr.memoizedProps;if(Ie$1(ar,nr)&&tr.ref===er.ref)if(dh=!1,er.pendingProps=nr=ar,(tr.lanes&ir)!==0)tr.flags&131072&&(dh=!0);else return er.lanes=tr.lanes,Zi(tr,er,ir)}return cj(tr,er,rr,nr,ir)}function dj(tr,er,rr){var nr=er.pendingProps,ir=nr.children,ar=tr!==null?tr.memoizedState:null;if(nr.mode==="hidden")if(!(er.mode&1))er.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=rr;else{if(!(rr&1073741824))return tr=ar!==null?ar.baseLanes|rr:rr,er.lanes=er.childLanes=1073741824,er.memoizedState={baseLanes:tr,cachePool:null,transitions:null},er.updateQueue=null,G$1(ej,fj),fj|=tr,null;er.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr=ar!==null?ar.baseLanes:rr,G$1(ej,fj),fj|=nr}else ar!==null?(nr=ar.baseLanes|rr,er.memoizedState=null):nr=rr,G$1(ej,fj),fj|=nr;return Xi(tr,er,ir,rr),er.child}function gj(tr,er){var rr=er.ref;(tr===null&&rr!==null||tr!==null&&tr.ref!==rr)&&(er.flags|=512,er.flags|=2097152)}function cj(tr,er,rr,nr,ir){var ar=Zf(rr)?Xf:H$1.current;return ar=Yf(er,ar),ch(er,ir),rr=Nh(tr,er,rr,nr,ar,ir),nr=Sh(),tr!==null&&!dh?(er.updateQueue=tr.updateQueue,er.flags&=-2053,tr.lanes&=~ir,Zi(tr,er,ir)):(I$1&&nr&&vg(er),er.flags|=1,Xi(tr,er,rr,ir),er.child)}function hj(tr,er,rr,nr,ir){if(Zf(rr)){var ar=!0;cg(er)}else ar=!1;if(ch(er,ir),er.stateNode===null)ij(tr,er),Gi(er,rr,nr),Ii(er,rr,nr,ir),nr=!0;else if(tr===null){var sr=er.stateNode,lr=er.memoizedProps;sr.props=lr;var or=sr.context,cr=rr.contextType;typeof cr=="object"&&cr!==null?cr=eh(cr):(cr=Zf(rr)?Xf:H$1.current,cr=Yf(er,cr));var ur=rr.getDerivedStateFromProps,dr=typeof ur=="function"||typeof sr.getSnapshotBeforeUpdate=="function";dr||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(lr!==nr||or!==cr)&&Hi(er,sr,nr,cr),jh=!1;var hr=er.memoizedState;sr.state=hr,qh(er,nr,sr,ir),or=er.memoizedState,lr!==nr||hr!==or||Wf.current||jh?(typeof ur=="function"&&(Di(er,rr,ur,nr),or=er.memoizedState),(lr=jh||Fi(er,rr,lr,nr,hr,or,cr))?(dr||typeof sr.UNSAFE_componentWillMount!="function"&&typeof sr.componentWillMount!="function"||(typeof sr.componentWillMount=="function"&&sr.componentWillMount(),typeof sr.UNSAFE_componentWillMount=="function"&&sr.UNSAFE_componentWillMount()),typeof sr.componentDidMount=="function"&&(er.flags|=4194308)):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),er.memoizedProps=nr,er.memoizedState=or),sr.props=nr,sr.state=or,sr.context=cr,nr=lr):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),nr=!1)}else{sr=er.stateNode,lh(tr,er),lr=er.memoizedProps,cr=er.type===er.elementType?lr:Ci(er.type,lr),sr.props=cr,dr=er.pendingProps,hr=sr.context,or=rr.contextType,typeof or=="object"&&or!==null?or=eh(or):(or=Zf(rr)?Xf:H$1.current,or=Yf(er,or));var fr=rr.getDerivedStateFromProps;(ur=typeof fr=="function"||typeof sr.getSnapshotBeforeUpdate=="function")||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(lr!==dr||hr!==or)&&Hi(er,sr,nr,or),jh=!1,hr=er.memoizedState,sr.state=hr,qh(er,nr,sr,ir);var mr=er.memoizedState;lr!==dr||hr!==mr||Wf.current||jh?(typeof fr=="function"&&(Di(er,rr,fr,nr),mr=er.memoizedState),(cr=jh||Fi(er,rr,cr,nr,hr,mr,or)||!1)?(ur||typeof sr.UNSAFE_componentWillUpdate!="function"&&typeof sr.componentWillUpdate!="function"||(typeof sr.componentWillUpdate=="function"&&sr.componentWillUpdate(nr,mr,or),typeof sr.UNSAFE_componentWillUpdate=="function"&&sr.UNSAFE_componentWillUpdate(nr,mr,or)),typeof sr.componentDidUpdate=="function"&&(er.flags|=4),typeof sr.getSnapshotBeforeUpdate=="function"&&(er.flags|=1024)):(typeof sr.componentDidUpdate!="function"||lr===tr.memoizedProps&&hr===tr.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||lr===tr.memoizedProps&&hr===tr.memoizedState||(er.flags|=1024),er.memoizedProps=nr,er.memoizedState=mr),sr.props=nr,sr.state=mr,sr.context=or,nr=cr):(typeof sr.componentDidUpdate!="function"||lr===tr.memoizedProps&&hr===tr.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||lr===tr.memoizedProps&&hr===tr.memoizedState||(er.flags|=1024),nr=!1)}return jj(tr,er,rr,nr,ar,ir)}function jj(tr,er,rr,nr,ir,ar){gj(tr,er);var sr=(er.flags&128)!==0;if(!nr&&!sr)return ir&&dg(er,rr,!1),Zi(tr,er,ar);nr=er.stateNode,Wi.current=er;var lr=sr&&typeof rr.getDerivedStateFromError!="function"?null:nr.render();return er.flags|=1,tr!==null&&sr?(er.child=Ug(er,tr.child,null,ar),er.child=Ug(er,null,lr,ar)):Xi(tr,er,lr,ar),er.memoizedState=nr.state,ir&&dg(er,rr,!0),er.child}function kj(tr){var er=tr.stateNode;er.pendingContext?ag(tr,er.pendingContext,er.pendingContext!==er.context):er.context&&ag(tr,er.context,!1),yh(tr,er.containerInfo)}function lj(tr,er,rr,nr,ir){return Ig(),Jg(ir),er.flags|=256,Xi(tr,er,rr,nr),er.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(tr){return{baseLanes:tr,cachePool:null,transitions:null}}function oj(tr,er,rr){var nr=er.pendingProps,ir=L$1.current,ar=!1,sr=(er.flags&128)!==0,lr;if((lr=sr)||(lr=tr!==null&&tr.memoizedState===null?!1:(ir&2)!==0),lr?(ar=!0,er.flags&=-129):(tr===null||tr.memoizedState!==null)&&(ir|=1),G$1(L$1,ir&1),tr===null)return Eg(er),tr=er.memoizedState,tr!==null&&(tr=tr.dehydrated,tr!==null)?(er.mode&1?tr.data==="$!"?er.lanes=8:er.lanes=1073741824:er.lanes=1,null):(sr=nr.children,tr=nr.fallback,ar?(nr=er.mode,ar=er.child,sr={mode:"hidden",children:sr},!(nr&1)&&ar!==null?(ar.childLanes=0,ar.pendingProps=sr):ar=pj(sr,nr,0,null),tr=Tg(tr,nr,rr,null),ar.return=er,tr.return=er,ar.sibling=tr,er.child=ar,er.child.memoizedState=nj(rr),er.memoizedState=mj,tr):qj(er,sr));if(ir=tr.memoizedState,ir!==null&&(lr=ir.dehydrated,lr!==null))return rj(tr,er,sr,nr,lr,ir,rr);if(ar){ar=nr.fallback,sr=er.mode,ir=tr.child,lr=ir.sibling;var or={mode:"hidden",children:nr.children};return!(sr&1)&&er.child!==ir?(nr=er.child,nr.childLanes=0,nr.pendingProps=or,er.deletions=null):(nr=Pg(ir,or),nr.subtreeFlags=ir.subtreeFlags&14680064),lr!==null?ar=Pg(lr,ar):(ar=Tg(ar,sr,rr,null),ar.flags|=2),ar.return=er,nr.return=er,nr.sibling=ar,er.child=nr,nr=ar,ar=er.child,sr=tr.child.memoizedState,sr=sr===null?nj(rr):{baseLanes:sr.baseLanes|rr,cachePool:null,transitions:sr.transitions},ar.memoizedState=sr,ar.childLanes=tr.childLanes&~rr,er.memoizedState=mj,nr}return ar=tr.child,tr=ar.sibling,nr=Pg(ar,{mode:"visible",children:nr.children}),!(er.mode&1)&&(nr.lanes=rr),nr.return=er,nr.sibling=null,tr!==null&&(rr=er.deletions,rr===null?(er.deletions=[tr],er.flags|=16):rr.push(tr)),er.child=nr,er.memoizedState=null,nr}function qj(tr,er){return er=pj({mode:"visible",children:er},tr.mode,0,null),er.return=tr,tr.child=er}function sj(tr,er,rr,nr){return nr!==null&&Jg(nr),Ug(er,tr.child,null,rr),tr=qj(er,er.pendingProps.children),tr.flags|=2,er.memoizedState=null,tr}function rj(tr,er,rr,nr,ir,ar,sr){if(rr)return er.flags&256?(er.flags&=-257,nr=Ki(Error(p$2(422))),sj(tr,er,sr,nr)):er.memoizedState!==null?(er.child=tr.child,er.flags|=128,null):(ar=nr.fallback,ir=er.mode,nr=pj({mode:"visible",children:nr.children},ir,0,null),ar=Tg(ar,ir,sr,null),ar.flags|=2,nr.return=er,ar.return=er,nr.sibling=ar,er.child=nr,er.mode&1&&Ug(er,tr.child,null,sr),er.child.memoizedState=nj(sr),er.memoizedState=mj,ar);if(!(er.mode&1))return sj(tr,er,sr,null);if(ir.data==="$!"){if(nr=ir.nextSibling&&ir.nextSibling.dataset,nr)var lr=nr.dgst;return nr=lr,ar=Error(p$2(419)),nr=Ki(ar,nr,void 0),sj(tr,er,sr,nr)}if(lr=(sr&tr.childLanes)!==0,dh||lr){if(nr=Q$1,nr!==null){switch(sr&-sr){case 4:ir=2;break;case 16:ir=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ir=32;break;case 536870912:ir=268435456;break;default:ir=0}ir=ir&(nr.suspendedLanes|sr)?0:ir,ir!==0&&ir!==ar.retryLane&&(ar.retryLane=ir,ih(tr,ir),gi(nr,tr,ir,-1))}return tj(),nr=Ki(Error(p$2(421))),sj(tr,er,sr,nr)}return ir.data==="$?"?(er.flags|=128,er.child=tr.child,er=uj.bind(null,tr),ir._reactRetry=er,null):(tr=ar.treeContext,yg=Lf(ir.nextSibling),xg=er,I$1=!0,zg=null,tr!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tr.id,sg=tr.overflow,qg=er),er=qj(er,nr.children),er.flags|=4096,er)}function vj(tr,er,rr){tr.lanes|=er;var nr=tr.alternate;nr!==null&&(nr.lanes|=er),bh(tr.return,er,rr)}function wj(tr,er,rr,nr,ir){var ar=tr.memoizedState;ar===null?tr.memoizedState={isBackwards:er,rendering:null,renderingStartTime:0,last:nr,tail:rr,tailMode:ir}:(ar.isBackwards=er,ar.rendering=null,ar.renderingStartTime=0,ar.last=nr,ar.tail=rr,ar.tailMode=ir)}function xj(tr,er,rr){var nr=er.pendingProps,ir=nr.revealOrder,ar=nr.tail;if(Xi(tr,er,nr.children,rr),nr=L$1.current,nr&2)nr=nr&1|2,er.flags|=128;else{if(tr!==null&&tr.flags&128)e:for(tr=er.child;tr!==null;){if(tr.tag===13)tr.memoizedState!==null&&vj(tr,rr,er);else if(tr.tag===19)vj(tr,rr,er);else if(tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===er)break e;for(;tr.sibling===null;){if(tr.return===null||tr.return===er)break e;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}nr&=1}if(G$1(L$1,nr),!(er.mode&1))er.memoizedState=null;else switch(ir){case"forwards":for(rr=er.child,ir=null;rr!==null;)tr=rr.alternate,tr!==null&&Ch(tr)===null&&(ir=rr),rr=rr.sibling;rr=ir,rr===null?(ir=er.child,er.child=null):(ir=rr.sibling,rr.sibling=null),wj(er,!1,ir,rr,ar);break;case"backwards":for(rr=null,ir=er.child,er.child=null;ir!==null;){if(tr=ir.alternate,tr!==null&&Ch(tr)===null){er.child=ir;break}tr=ir.sibling,ir.sibling=rr,rr=ir,ir=tr}wj(er,!0,rr,null,ar);break;case"together":wj(er,!1,null,null,void 0);break;default:er.memoizedState=null}return er.child}function ij(tr,er){!(er.mode&1)&&tr!==null&&(tr.alternate=null,er.alternate=null,er.flags|=2)}function Zi(tr,er,rr){if(tr!==null&&(er.dependencies=tr.dependencies),rh|=er.lanes,!(rr&er.childLanes))return null;if(tr!==null&&er.child!==tr.child)throw Error(p$2(153));if(er.child!==null){for(tr=er.child,rr=Pg(tr,tr.pendingProps),er.child=rr,rr.return=er;tr.sibling!==null;)tr=tr.sibling,rr=rr.sibling=Pg(tr,tr.pendingProps),rr.return=er;rr.sibling=null}return er.child}function yj(tr,er,rr){switch(er.tag){case 3:kj(er),Ig();break;case 5:Ah(er);break;case 1:Zf(er.type)&&cg(er);break;case 4:yh(er,er.stateNode.containerInfo);break;case 10:var nr=er.type._context,ir=er.memoizedProps.value;G$1(Wg,nr._currentValue),nr._currentValue=ir;break;case 13:if(nr=er.memoizedState,nr!==null)return nr.dehydrated!==null?(G$1(L$1,L$1.current&1),er.flags|=128,null):rr&er.child.childLanes?oj(tr,er,rr):(G$1(L$1,L$1.current&1),tr=Zi(tr,er,rr),tr!==null?tr.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(nr=(rr&er.childLanes)!==0,tr.flags&128){if(nr)return xj(tr,er,rr);er.flags|=128}if(ir=er.memoizedState,ir!==null&&(ir.rendering=null,ir.tail=null,ir.lastEffect=null),G$1(L$1,L$1.current),nr)break;return null;case 22:case 23:return er.lanes=0,dj(tr,er,rr)}return Zi(tr,er,rr)}var zj,Aj,Bj,Cj;zj=function(tr,er){for(var rr=er.child;rr!==null;){if(rr.tag===5||rr.tag===6)tr.appendChild(rr.stateNode);else if(rr.tag!==4&&rr.child!==null){rr.child.return=rr,rr=rr.child;continue}if(rr===er)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===er)return;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}};Aj=function(){};Bj=function(tr,er,rr,nr){var ir=tr.memoizedProps;if(ir!==nr){tr=er.stateNode,xh(uh.current);var ar=null;switch(rr){case"input":ir=Ya(tr,ir),nr=Ya(tr,nr),ar=[];break;case"select":ir=A$1({},ir,{value:void 0}),nr=A$1({},nr,{value:void 0}),ar=[];break;case"textarea":ir=gb(tr,ir),nr=gb(tr,nr),ar=[];break;default:typeof ir.onClick!="function"&&typeof nr.onClick=="function"&&(tr.onclick=Bf)}ub(rr,nr);var sr;rr=null;for(cr in ir)if(!nr.hasOwnProperty(cr)&&ir.hasOwnProperty(cr)&&ir[cr]!=null)if(cr==="style"){var lr=ir[cr];for(sr in lr)lr.hasOwnProperty(sr)&&(rr||(rr={}),rr[sr]="")}else cr!=="dangerouslySetInnerHTML"&&cr!=="children"&&cr!=="suppressContentEditableWarning"&&cr!=="suppressHydrationWarning"&&cr!=="autoFocus"&&(ea.hasOwnProperty(cr)?ar||(ar=[]):(ar=ar||[]).push(cr,null));for(cr in nr){var or=nr[cr];if(lr=ir!=null?ir[cr]:void 0,nr.hasOwnProperty(cr)&&or!==lr&&(or!=null||lr!=null))if(cr==="style")if(lr){for(sr in lr)!lr.hasOwnProperty(sr)||or&&or.hasOwnProperty(sr)||(rr||(rr={}),rr[sr]="");for(sr in or)or.hasOwnProperty(sr)&&lr[sr]!==or[sr]&&(rr||(rr={}),rr[sr]=or[sr])}else rr||(ar||(ar=[]),ar.push(cr,rr)),rr=or;else cr==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,lr=lr?lr.__html:void 0,or!=null&&lr!==or&&(ar=ar||[]).push(cr,or)):cr==="children"?typeof or!="string"&&typeof or!="number"||(ar=ar||[]).push(cr,""+or):cr!=="suppressContentEditableWarning"&&cr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(cr)?(or!=null&&cr==="onScroll"&&D$2("scroll",tr),ar||lr===or||(ar=[])):(ar=ar||[]).push(cr,or))}rr&&(ar=ar||[]).push("style",rr);var cr=ar;(er.updateQueue=cr)&&(er.flags|=4)}};Cj=function(tr,er,rr,nr){rr!==nr&&(er.flags|=4)};function Dj(tr,er){if(!I$1)switch(tr.tailMode){case"hidden":er=tr.tail;for(var rr=null;er!==null;)er.alternate!==null&&(rr=er),er=er.sibling;rr===null?tr.tail=null:rr.sibling=null;break;case"collapsed":rr=tr.tail;for(var nr=null;rr!==null;)rr.alternate!==null&&(nr=rr),rr=rr.sibling;nr===null?er||tr.tail===null?tr.tail=null:tr.tail.sibling=null:nr.sibling=null}}function S$2(tr){var er=tr.alternate!==null&&tr.alternate.child===tr.child,rr=0,nr=0;if(er)for(var ir=tr.child;ir!==null;)rr|=ir.lanes|ir.childLanes,nr|=ir.subtreeFlags&14680064,nr|=ir.flags&14680064,ir.return=tr,ir=ir.sibling;else for(ir=tr.child;ir!==null;)rr|=ir.lanes|ir.childLanes,nr|=ir.subtreeFlags,nr|=ir.flags,ir.return=tr,ir=ir.sibling;return tr.subtreeFlags|=nr,tr.childLanes=rr,er}function Ej(tr,er,rr){var nr=er.pendingProps;switch(wg(er),er.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(er),null;case 1:return Zf(er.type)&&$f(),S$2(er),null;case 3:return nr=er.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),nr.pendingContext&&(nr.context=nr.pendingContext,nr.pendingContext=null),(tr===null||tr.child===null)&&(Gg(er)?er.flags|=4:tr===null||tr.memoizedState.isDehydrated&&!(er.flags&256)||(er.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(tr,er),S$2(er),null;case 5:Bh(er);var ir=xh(wh.current);if(rr=er.type,tr!==null&&er.stateNode!=null)Bj(tr,er,rr,nr,ir),tr.ref!==er.ref&&(er.flags|=512,er.flags|=2097152);else{if(!nr){if(er.stateNode===null)throw Error(p$2(166));return S$2(er),null}if(tr=xh(uh.current),Gg(er)){nr=er.stateNode,rr=er.type;var ar=er.memoizedProps;switch(nr[Of]=er,nr[Pf]=ar,tr=(er.mode&1)!==0,rr){case"dialog":D$2("cancel",nr),D$2("close",nr);break;case"iframe":case"object":case"embed":D$2("load",nr);break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$2(lf[ir],nr);break;case"source":D$2("error",nr);break;case"img":case"image":case"link":D$2("error",nr),D$2("load",nr);break;case"details":D$2("toggle",nr);break;case"input":Za(nr,ar),D$2("invalid",nr);break;case"select":nr._wrapperState={wasMultiple:!!ar.multiple},D$2("invalid",nr);break;case"textarea":hb(nr,ar),D$2("invalid",nr)}ub(rr,ar),ir=null;for(var sr in ar)if(ar.hasOwnProperty(sr)){var lr=ar[sr];sr==="children"?typeof lr=="string"?nr.textContent!==lr&&(ar.suppressHydrationWarning!==!0&&Af(nr.textContent,lr,tr),ir=["children",lr]):typeof lr=="number"&&nr.textContent!==""+lr&&(ar.suppressHydrationWarning!==!0&&Af(nr.textContent,lr,tr),ir=["children",""+lr]):ea.hasOwnProperty(sr)&&lr!=null&&sr==="onScroll"&&D$2("scroll",nr)}switch(rr){case"input":Va(nr),db$1(nr,ar,!0);break;case"textarea":Va(nr),jb(nr);break;case"select":case"option":break;default:typeof ar.onClick=="function"&&(nr.onclick=Bf)}nr=ir,er.updateQueue=nr,nr!==null&&(er.flags|=4)}else{sr=ir.nodeType===9?ir:ir.ownerDocument,tr==="http://www.w3.org/1999/xhtml"&&(tr=kb(rr)),tr==="http://www.w3.org/1999/xhtml"?rr==="script"?(tr=sr.createElement("div"),tr.innerHTML="<script><\/script>",tr=tr.removeChild(tr.firstChild)):typeof nr.is=="string"?tr=sr.createElement(rr,{is:nr.is}):(tr=sr.createElement(rr),rr==="select"&&(sr=tr,nr.multiple?sr.multiple=!0:nr.size&&(sr.size=nr.size))):tr=sr.createElementNS(tr,rr),tr[Of]=er,tr[Pf]=nr,zj(tr,er,!1,!1),er.stateNode=tr;e:{switch(sr=vb(rr,nr),rr){case"dialog":D$2("cancel",tr),D$2("close",tr),ir=nr;break;case"iframe":case"object":case"embed":D$2("load",tr),ir=nr;break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$2(lf[ir],tr);ir=nr;break;case"source":D$2("error",tr),ir=nr;break;case"img":case"image":case"link":D$2("error",tr),D$2("load",tr),ir=nr;break;case"details":D$2("toggle",tr),ir=nr;break;case"input":Za(tr,nr),ir=Ya(tr,nr),D$2("invalid",tr);break;case"option":ir=nr;break;case"select":tr._wrapperState={wasMultiple:!!nr.multiple},ir=A$1({},nr,{value:void 0}),D$2("invalid",tr);break;case"textarea":hb(tr,nr),ir=gb(tr,nr),D$2("invalid",tr);break;default:ir=nr}ub(rr,ir),lr=ir;for(ar in lr)if(lr.hasOwnProperty(ar)){var or=lr[ar];ar==="style"?sb(tr,or):ar==="dangerouslySetInnerHTML"?(or=or?or.__html:void 0,or!=null&&nb(tr,or)):ar==="children"?typeof or=="string"?(rr!=="textarea"||or!=="")&&ob(tr,or):typeof or=="number"&&ob(tr,""+or):ar!=="suppressContentEditableWarning"&&ar!=="suppressHydrationWarning"&&ar!=="autoFocus"&&(ea.hasOwnProperty(ar)?or!=null&&ar==="onScroll"&&D$2("scroll",tr):or!=null&&ta(tr,ar,or,sr))}switch(rr){case"input":Va(tr),db$1(tr,nr,!1);break;case"textarea":Va(tr),jb(tr);break;case"option":nr.value!=null&&tr.setAttribute("value",""+Sa(nr.value));break;case"select":tr.multiple=!!nr.multiple,ar=nr.value,ar!=null?fb(tr,!!nr.multiple,ar,!1):nr.defaultValue!=null&&fb(tr,!!nr.multiple,nr.defaultValue,!0);break;default:typeof ir.onClick=="function"&&(tr.onclick=Bf)}switch(rr){case"button":case"input":case"select":case"textarea":nr=!!nr.autoFocus;break e;case"img":nr=!0;break e;default:nr=!1}}nr&&(er.flags|=4)}er.ref!==null&&(er.flags|=512,er.flags|=2097152)}return S$2(er),null;case 6:if(tr&&er.stateNode!=null)Cj(tr,er,tr.memoizedProps,nr);else{if(typeof nr!="string"&&er.stateNode===null)throw Error(p$2(166));if(rr=xh(wh.current),xh(uh.current),Gg(er)){if(nr=er.stateNode,rr=er.memoizedProps,nr[Of]=er,(ar=nr.nodeValue!==rr)&&(tr=xg,tr!==null))switch(tr.tag){case 3:Af(nr.nodeValue,rr,(tr.mode&1)!==0);break;case 5:tr.memoizedProps.suppressHydrationWarning!==!0&&Af(nr.nodeValue,rr,(tr.mode&1)!==0)}ar&&(er.flags|=4)}else nr=(rr.nodeType===9?rr:rr.ownerDocument).createTextNode(nr),nr[Of]=er,er.stateNode=nr}return S$2(er),null;case 13:if(E$1(L$1),nr=er.memoizedState,tr===null||tr.memoizedState!==null&&tr.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&er.mode&1&&!(er.flags&128))Hg(),Ig(),er.flags|=98560,ar=!1;else if(ar=Gg(er),nr!==null&&nr.dehydrated!==null){if(tr===null){if(!ar)throw Error(p$2(318));if(ar=er.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(p$2(317));ar[Of]=er}else Ig(),!(er.flags&128)&&(er.memoizedState=null),er.flags|=4;S$2(er),ar=!1}else zg!==null&&(Fj(zg),zg=null),ar=!0;if(!ar)return er.flags&65536?er:null}return er.flags&128?(er.lanes=rr,er):(nr=nr!==null,nr!==(tr!==null&&tr.memoizedState!==null)&&nr&&(er.child.flags|=8192,er.mode&1&&(tr===null||L$1.current&1?T$1===0&&(T$1=3):tj())),er.updateQueue!==null&&(er.flags|=4),S$2(er),null);case 4:return zh(),Aj(tr,er),tr===null&&sf(er.stateNode.containerInfo),S$2(er),null;case 10:return ah(er.type._context),S$2(er),null;case 17:return Zf(er.type)&&$f(),S$2(er),null;case 19:if(E$1(L$1),ar=er.memoizedState,ar===null)return S$2(er),null;if(nr=(er.flags&128)!==0,sr=ar.rendering,sr===null)if(nr)Dj(ar,!1);else{if(T$1!==0||tr!==null&&tr.flags&128)for(tr=er.child;tr!==null;){if(sr=Ch(tr),sr!==null){for(er.flags|=128,Dj(ar,!1),nr=sr.updateQueue,nr!==null&&(er.updateQueue=nr,er.flags|=4),er.subtreeFlags=0,nr=rr,rr=er.child;rr!==null;)ar=rr,tr=nr,ar.flags&=14680066,sr=ar.alternate,sr===null?(ar.childLanes=0,ar.lanes=tr,ar.child=null,ar.subtreeFlags=0,ar.memoizedProps=null,ar.memoizedState=null,ar.updateQueue=null,ar.dependencies=null,ar.stateNode=null):(ar.childLanes=sr.childLanes,ar.lanes=sr.lanes,ar.child=sr.child,ar.subtreeFlags=0,ar.deletions=null,ar.memoizedProps=sr.memoizedProps,ar.memoizedState=sr.memoizedState,ar.updateQueue=sr.updateQueue,ar.type=sr.type,tr=sr.dependencies,ar.dependencies=tr===null?null:{lanes:tr.lanes,firstContext:tr.firstContext}),rr=rr.sibling;return G$1(L$1,L$1.current&1|2),er.child}tr=tr.sibling}ar.tail!==null&&B$1()>Gj&&(er.flags|=128,nr=!0,Dj(ar,!1),er.lanes=4194304)}else{if(!nr)if(tr=Ch(sr),tr!==null){if(er.flags|=128,nr=!0,rr=tr.updateQueue,rr!==null&&(er.updateQueue=rr,er.flags|=4),Dj(ar,!0),ar.tail===null&&ar.tailMode==="hidden"&&!sr.alternate&&!I$1)return S$2(er),null}else 2*B$1()-ar.renderingStartTime>Gj&&rr!==1073741824&&(er.flags|=128,nr=!0,Dj(ar,!1),er.lanes=4194304);ar.isBackwards?(sr.sibling=er.child,er.child=sr):(rr=ar.last,rr!==null?rr.sibling=sr:er.child=sr,ar.last=sr)}return ar.tail!==null?(er=ar.tail,ar.rendering=er,ar.tail=er.sibling,ar.renderingStartTime=B$1(),er.sibling=null,rr=L$1.current,G$1(L$1,nr?rr&1|2:rr&1),er):(S$2(er),null);case 22:case 23:return Hj(),nr=er.memoizedState!==null,tr!==null&&tr.memoizedState!==null!==nr&&(er.flags|=8192),nr&&er.mode&1?fj&1073741824&&(S$2(er),er.subtreeFlags&6&&(er.flags|=8192)):S$2(er),null;case 24:return null;case 25:return null}throw Error(p$2(156,er.tag))}function Ij(tr,er){switch(wg(er),er.tag){case 1:return Zf(er.type)&&$f(),tr=er.flags,tr&65536?(er.flags=tr&-65537|128,er):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),tr=er.flags,tr&65536&&!(tr&128)?(er.flags=tr&-65537|128,er):null;case 5:return Bh(er),null;case 13:if(E$1(L$1),tr=er.memoizedState,tr!==null&&tr.dehydrated!==null){if(er.alternate===null)throw Error(p$2(340));Ig()}return tr=er.flags,tr&65536?(er.flags=tr&-65537|128,er):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(er.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(tr,er){var rr=tr.ref;if(rr!==null)if(typeof rr=="function")try{rr(null)}catch(nr){W$1(tr,er,nr)}else rr.current=null}function Mj(tr,er,rr){try{rr()}catch(nr){W$1(tr,er,nr)}}var Nj=!1;function Oj(tr,er){if(Cf=dd,tr=Me(),Ne$1(tr)){if("selectionStart"in tr)var rr={start:tr.selectionStart,end:tr.selectionEnd};else e:{rr=(rr=tr.ownerDocument)&&rr.defaultView||window;var nr=rr.getSelection&&rr.getSelection();if(nr&&nr.rangeCount!==0){rr=nr.anchorNode;var ir=nr.anchorOffset,ar=nr.focusNode;nr=nr.focusOffset;try{rr.nodeType,ar.nodeType}catch{rr=null;break e}var sr=0,lr=-1,or=-1,cr=0,ur=0,dr=tr,hr=null;t:for(;;){for(var fr;dr!==rr||ir!==0&&dr.nodeType!==3||(lr=sr+ir),dr!==ar||nr!==0&&dr.nodeType!==3||(or=sr+nr),dr.nodeType===3&&(sr+=dr.nodeValue.length),(fr=dr.firstChild)!==null;)hr=dr,dr=fr;for(;;){if(dr===tr)break t;if(hr===rr&&++cr===ir&&(lr=sr),hr===ar&&++ur===nr&&(or=sr),(fr=dr.nextSibling)!==null)break;dr=hr,hr=dr.parentNode}dr=fr}rr=lr===-1||or===-1?null:{start:lr,end:or}}else rr=null}rr=rr||{start:0,end:0}}else rr=null;for(Df={focusedElem:tr,selectionRange:rr},dd=!1,V$1=er;V$1!==null;)if(er=V$1,tr=er.child,(er.subtreeFlags&1028)!==0&&tr!==null)tr.return=er,V$1=tr;else for(;V$1!==null;){er=V$1;try{var mr=er.alternate;if(er.flags&1024)switch(er.tag){case 0:case 11:case 15:break;case 1:if(mr!==null){var br=mr.memoizedProps,pr=mr.memoizedState,gr=er.stateNode,yr=gr.getSnapshotBeforeUpdate(er.elementType===er.type?br:Ci(er.type,br),pr);gr.__reactInternalSnapshotBeforeUpdate=yr}break;case 3:var vr=er.stateNode.containerInfo;vr.nodeType===1?vr.textContent="":vr.nodeType===9&&vr.documentElement&&vr.removeChild(vr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(_r){W$1(er,er.return,_r)}if(tr=er.sibling,tr!==null){tr.return=er.return,V$1=tr;break}V$1=er.return}return mr=Nj,Nj=!1,mr}function Pj(tr,er,rr){var nr=er.updateQueue;if(nr=nr!==null?nr.lastEffect:null,nr!==null){var ir=nr=nr.next;do{if((ir.tag&tr)===tr){var ar=ir.destroy;ir.destroy=void 0,ar!==void 0&&Mj(er,rr,ar)}ir=ir.next}while(ir!==nr)}}function Qj(tr,er){if(er=er.updateQueue,er=er!==null?er.lastEffect:null,er!==null){var rr=er=er.next;do{if((rr.tag&tr)===tr){var nr=rr.create;rr.destroy=nr()}rr=rr.next}while(rr!==er)}}function Rj(tr){var er=tr.ref;if(er!==null){var rr=tr.stateNode;switch(tr.tag){case 5:tr=rr;break;default:tr=rr}typeof er=="function"?er(tr):er.current=tr}}function Sj(tr){var er=tr.alternate;er!==null&&(tr.alternate=null,Sj(er)),tr.child=null,tr.deletions=null,tr.sibling=null,tr.tag===5&&(er=tr.stateNode,er!==null&&(delete er[Of],delete er[Pf],delete er[of],delete er[Qf],delete er[Rf])),tr.stateNode=null,tr.return=null,tr.dependencies=null,tr.memoizedProps=null,tr.memoizedState=null,tr.pendingProps=null,tr.stateNode=null,tr.updateQueue=null}function Tj(tr){return tr.tag===5||tr.tag===3||tr.tag===4}function Uj(tr){e:for(;;){for(;tr.sibling===null;){if(tr.return===null||Tj(tr.return))return null;tr=tr.return}for(tr.sibling.return=tr.return,tr=tr.sibling;tr.tag!==5&&tr.tag!==6&&tr.tag!==18;){if(tr.flags&2||tr.child===null||tr.tag===4)continue e;tr.child.return=tr,tr=tr.child}if(!(tr.flags&2))return tr.stateNode}}function Vj(tr,er,rr){var nr=tr.tag;if(nr===5||nr===6)tr=tr.stateNode,er?rr.nodeType===8?rr.parentNode.insertBefore(tr,er):rr.insertBefore(tr,er):(rr.nodeType===8?(er=rr.parentNode,er.insertBefore(tr,rr)):(er=rr,er.appendChild(tr)),rr=rr._reactRootContainer,rr!=null||er.onclick!==null||(er.onclick=Bf));else if(nr!==4&&(tr=tr.child,tr!==null))for(Vj(tr,er,rr),tr=tr.sibling;tr!==null;)Vj(tr,er,rr),tr=tr.sibling}function Wj(tr,er,rr){var nr=tr.tag;if(nr===5||nr===6)tr=tr.stateNode,er?rr.insertBefore(tr,er):rr.appendChild(tr);else if(nr!==4&&(tr=tr.child,tr!==null))for(Wj(tr,er,rr),tr=tr.sibling;tr!==null;)Wj(tr,er,rr),tr=tr.sibling}var X$2=null,Xj=!1;function Yj(tr,er,rr){for(rr=rr.child;rr!==null;)Zj(tr,er,rr),rr=rr.sibling}function Zj(tr,er,rr){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,rr)}catch{}switch(rr.tag){case 5:U$1||Lj(rr,er);case 6:var nr=X$2,ir=Xj;X$2=null,Yj(tr,er,rr),X$2=nr,Xj=ir,X$2!==null&&(Xj?(tr=X$2,rr=rr.stateNode,tr.nodeType===8?tr.parentNode.removeChild(rr):tr.removeChild(rr)):X$2.removeChild(rr.stateNode));break;case 18:X$2!==null&&(Xj?(tr=X$2,rr=rr.stateNode,tr.nodeType===8?Kf(tr.parentNode,rr):tr.nodeType===1&&Kf(tr,rr),bd(tr)):Kf(X$2,rr.stateNode));break;case 4:nr=X$2,ir=Xj,X$2=rr.stateNode.containerInfo,Xj=!0,Yj(tr,er,rr),X$2=nr,Xj=ir;break;case 0:case 11:case 14:case 15:if(!U$1&&(nr=rr.updateQueue,nr!==null&&(nr=nr.lastEffect,nr!==null))){ir=nr=nr.next;do{var ar=ir,sr=ar.destroy;ar=ar.tag,sr!==void 0&&(ar&2||ar&4)&&Mj(rr,er,sr),ir=ir.next}while(ir!==nr)}Yj(tr,er,rr);break;case 1:if(!U$1&&(Lj(rr,er),nr=rr.stateNode,typeof nr.componentWillUnmount=="function"))try{nr.props=rr.memoizedProps,nr.state=rr.memoizedState,nr.componentWillUnmount()}catch(lr){W$1(rr,er,lr)}Yj(tr,er,rr);break;case 21:Yj(tr,er,rr);break;case 22:rr.mode&1?(U$1=(nr=U$1)||rr.memoizedState!==null,Yj(tr,er,rr),U$1=nr):Yj(tr,er,rr);break;default:Yj(tr,er,rr)}}function ak(tr){var er=tr.updateQueue;if(er!==null){tr.updateQueue=null;var rr=tr.stateNode;rr===null&&(rr=tr.stateNode=new Kj),er.forEach(function(nr){var ir=bk.bind(null,tr,nr);rr.has(nr)||(rr.add(nr),nr.then(ir,ir))})}}function ck(tr,er){var rr=er.deletions;if(rr!==null)for(var nr=0;nr<rr.length;nr++){var ir=rr[nr];try{var ar=tr,sr=er,lr=sr;e:for(;lr!==null;){switch(lr.tag){case 5:X$2=lr.stateNode,Xj=!1;break e;case 3:X$2=lr.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=lr.stateNode.containerInfo,Xj=!0;break e}lr=lr.return}if(X$2===null)throw Error(p$2(160));Zj(ar,sr,ir),X$2=null,Xj=!1;var or=ir.alternate;or!==null&&(or.return=null),ir.return=null}catch(cr){W$1(ir,er,cr)}}if(er.subtreeFlags&12854)for(er=er.child;er!==null;)dk(er,tr),er=er.sibling}function dk(tr,er){var rr=tr.alternate,nr=tr.flags;switch(tr.tag){case 0:case 11:case 14:case 15:if(ck(er,tr),ek(tr),nr&4){try{Pj(3,tr,tr.return),Qj(3,tr)}catch(br){W$1(tr,tr.return,br)}try{Pj(5,tr,tr.return)}catch(br){W$1(tr,tr.return,br)}}break;case 1:ck(er,tr),ek(tr),nr&512&&rr!==null&&Lj(rr,rr.return);break;case 5:if(ck(er,tr),ek(tr),nr&512&&rr!==null&&Lj(rr,rr.return),tr.flags&32){var ir=tr.stateNode;try{ob(ir,"")}catch(br){W$1(tr,tr.return,br)}}if(nr&4&&(ir=tr.stateNode,ir!=null)){var ar=tr.memoizedProps,sr=rr!==null?rr.memoizedProps:ar,lr=tr.type,or=tr.updateQueue;if(tr.updateQueue=null,or!==null)try{lr==="input"&&ar.type==="radio"&&ar.name!=null&&ab(ir,ar),vb(lr,sr);var cr=vb(lr,ar);for(sr=0;sr<or.length;sr+=2){var ur=or[sr],dr=or[sr+1];ur==="style"?sb(ir,dr):ur==="dangerouslySetInnerHTML"?nb(ir,dr):ur==="children"?ob(ir,dr):ta(ir,ur,dr,cr)}switch(lr){case"input":bb(ir,ar);break;case"textarea":ib(ir,ar);break;case"select":var hr=ir._wrapperState.wasMultiple;ir._wrapperState.wasMultiple=!!ar.multiple;var fr=ar.value;fr!=null?fb(ir,!!ar.multiple,fr,!1):hr!==!!ar.multiple&&(ar.defaultValue!=null?fb(ir,!!ar.multiple,ar.defaultValue,!0):fb(ir,!!ar.multiple,ar.multiple?[]:"",!1))}ir[Pf]=ar}catch(br){W$1(tr,tr.return,br)}}break;case 6:if(ck(er,tr),ek(tr),nr&4){if(tr.stateNode===null)throw Error(p$2(162));ir=tr.stateNode,ar=tr.memoizedProps;try{ir.nodeValue=ar}catch(br){W$1(tr,tr.return,br)}}break;case 3:if(ck(er,tr),ek(tr),nr&4&&rr!==null&&rr.memoizedState.isDehydrated)try{bd(er.containerInfo)}catch(br){W$1(tr,tr.return,br)}break;case 4:ck(er,tr),ek(tr);break;case 13:ck(er,tr),ek(tr),ir=tr.child,ir.flags&8192&&(ar=ir.memoizedState!==null,ir.stateNode.isHidden=ar,!ar||ir.alternate!==null&&ir.alternate.memoizedState!==null||(fk=B$1())),nr&4&&ak(tr);break;case 22:if(ur=rr!==null&&rr.memoizedState!==null,tr.mode&1?(U$1=(cr=U$1)||ur,ck(er,tr),U$1=cr):ck(er,tr),ek(tr),nr&8192){if(cr=tr.memoizedState!==null,(tr.stateNode.isHidden=cr)&&!ur&&tr.mode&1)for(V$1=tr,ur=tr.child;ur!==null;){for(dr=V$1=ur;V$1!==null;){switch(hr=V$1,fr=hr.child,hr.tag){case 0:case 11:case 14:case 15:Pj(4,hr,hr.return);break;case 1:Lj(hr,hr.return);var mr=hr.stateNode;if(typeof mr.componentWillUnmount=="function"){nr=hr,rr=hr.return;try{er=nr,mr.props=er.memoizedProps,mr.state=er.memoizedState,mr.componentWillUnmount()}catch(br){W$1(nr,rr,br)}}break;case 5:Lj(hr,hr.return);break;case 22:if(hr.memoizedState!==null){gk(dr);continue}}fr!==null?(fr.return=hr,V$1=fr):gk(dr)}ur=ur.sibling}e:for(ur=null,dr=tr;;){if(dr.tag===5){if(ur===null){ur=dr;try{ir=dr.stateNode,cr?(ar=ir.style,typeof ar.setProperty=="function"?ar.setProperty("display","none","important"):ar.display="none"):(lr=dr.stateNode,or=dr.memoizedProps.style,sr=or!=null&&or.hasOwnProperty("display")?or.display:null,lr.style.display=rb("display",sr))}catch(br){W$1(tr,tr.return,br)}}}else if(dr.tag===6){if(ur===null)try{dr.stateNode.nodeValue=cr?"":dr.memoizedProps}catch(br){W$1(tr,tr.return,br)}}else if((dr.tag!==22&&dr.tag!==23||dr.memoizedState===null||dr===tr)&&dr.child!==null){dr.child.return=dr,dr=dr.child;continue}if(dr===tr)break e;for(;dr.sibling===null;){if(dr.return===null||dr.return===tr)break e;ur===dr&&(ur=null),dr=dr.return}ur===dr&&(ur=null),dr.sibling.return=dr.return,dr=dr.sibling}}break;case 19:ck(er,tr),ek(tr),nr&4&&ak(tr);break;case 21:break;default:ck(er,tr),ek(tr)}}function ek(tr){var er=tr.flags;if(er&2){try{e:{for(var rr=tr.return;rr!==null;){if(Tj(rr)){var nr=rr;break e}rr=rr.return}throw Error(p$2(160))}switch(nr.tag){case 5:var ir=nr.stateNode;nr.flags&32&&(ob(ir,""),nr.flags&=-33);var ar=Uj(tr);Wj(tr,ar,ir);break;case 3:case 4:var sr=nr.stateNode.containerInfo,lr=Uj(tr);Vj(tr,lr,sr);break;default:throw Error(p$2(161))}}catch(or){W$1(tr,tr.return,or)}tr.flags&=-3}er&4096&&(tr.flags&=-4097)}function hk(tr,er,rr){V$1=tr,ik(tr)}function ik(tr,er,rr){for(var nr=(tr.mode&1)!==0;V$1!==null;){var ir=V$1,ar=ir.child;if(ir.tag===22&&nr){var sr=ir.memoizedState!==null||Jj;if(!sr){var lr=ir.alternate,or=lr!==null&&lr.memoizedState!==null||U$1;lr=Jj;var cr=U$1;if(Jj=sr,(U$1=or)&&!cr)for(V$1=ir;V$1!==null;)sr=V$1,or=sr.child,sr.tag===22&&sr.memoizedState!==null?jk(ir):or!==null?(or.return=sr,V$1=or):jk(ir);for(;ar!==null;)V$1=ar,ik(ar),ar=ar.sibling;V$1=ir,Jj=lr,U$1=cr}kk(tr)}else ir.subtreeFlags&8772&&ar!==null?(ar.return=ir,V$1=ar):kk(tr)}}function kk(tr){for(;V$1!==null;){var er=V$1;if(er.flags&8772){var rr=er.alternate;try{if(er.flags&8772)switch(er.tag){case 0:case 11:case 15:U$1||Qj(5,er);break;case 1:var nr=er.stateNode;if(er.flags&4&&!U$1)if(rr===null)nr.componentDidMount();else{var ir=er.elementType===er.type?rr.memoizedProps:Ci(er.type,rr.memoizedProps);nr.componentDidUpdate(ir,rr.memoizedState,nr.__reactInternalSnapshotBeforeUpdate)}var ar=er.updateQueue;ar!==null&&sh(er,ar,nr);break;case 3:var sr=er.updateQueue;if(sr!==null){if(rr=null,er.child!==null)switch(er.child.tag){case 5:rr=er.child.stateNode;break;case 1:rr=er.child.stateNode}sh(er,sr,rr)}break;case 5:var lr=er.stateNode;if(rr===null&&er.flags&4){rr=lr;var or=er.memoizedProps;switch(er.type){case"button":case"input":case"select":case"textarea":or.autoFocus&&rr.focus();break;case"img":or.src&&(rr.src=or.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(er.memoizedState===null){var cr=er.alternate;if(cr!==null){var ur=cr.memoizedState;if(ur!==null){var dr=ur.dehydrated;dr!==null&&bd(dr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||er.flags&512&&Rj(er)}catch(hr){W$1(er,er.return,hr)}}if(er===tr){V$1=null;break}if(rr=er.sibling,rr!==null){rr.return=er.return,V$1=rr;break}V$1=er.return}}function gk(tr){for(;V$1!==null;){var er=V$1;if(er===tr){V$1=null;break}var rr=er.sibling;if(rr!==null){rr.return=er.return,V$1=rr;break}V$1=er.return}}function jk(tr){for(;V$1!==null;){var er=V$1;try{switch(er.tag){case 0:case 11:case 15:var rr=er.return;try{Qj(4,er)}catch(or){W$1(er,rr,or)}break;case 1:var nr=er.stateNode;if(typeof nr.componentDidMount=="function"){var ir=er.return;try{nr.componentDidMount()}catch(or){W$1(er,ir,or)}}var ar=er.return;try{Rj(er)}catch(or){W$1(er,ar,or)}break;case 5:var sr=er.return;try{Rj(er)}catch(or){W$1(er,sr,or)}}}catch(or){W$1(er,er.return,or)}if(er===tr){V$1=null;break}var lr=er.sibling;if(lr!==null){lr.return=er.return,V$1=lr;break}V$1=er.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(tr){return tr.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(tr=C$2,tr!==0||(tr=window.event,tr=tr===void 0?16:jd(tr.type)),tr):1}function gi(tr,er,rr,nr){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(tr,rr,nr),(!(K$1&2)||tr!==Q$1)&&(tr===Q$1&&(!(K$1&2)&&(qk|=rr),T$1===4&&Ck(tr,Z$1)),Dk(tr,nr),rr===1&&K$1===0&&!(er.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(tr,er){var rr=tr.callbackNode;wc(tr,er);var nr=uc(tr,tr===Q$1?Z$1:0);if(nr===0)rr!==null&&bc(rr),tr.callbackNode=null,tr.callbackPriority=0;else if(er=nr&-nr,tr.callbackPriority!==er){if(rr!=null&&bc(rr),er===1)tr.tag===0?ig(Ek.bind(null,tr)):hg(Ek.bind(null,tr)),Jf(function(){!(K$1&6)&&jg()}),rr=null;else{switch(Dc(nr)){case 1:rr=fc;break;case 4:rr=gc;break;case 16:rr=hc;break;case 536870912:rr=jc;break;default:rr=hc}rr=Fk(rr,Gk.bind(null,tr))}tr.callbackPriority=er,tr.callbackNode=rr}}function Gk(tr,er){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var rr=tr.callbackNode;if(Hk()&&tr.callbackNode!==rr)return null;var nr=uc(tr,tr===Q$1?Z$1:0);if(nr===0)return null;if(nr&30||nr&tr.expiredLanes||er)er=Ik(tr,nr);else{er=nr;var ir=K$1;K$1|=2;var ar=Jk();(Q$1!==tr||Z$1!==er)&&(uk=null,Gj=B$1()+500,Kk(tr,er));do try{Lk();break}catch(lr){Mk(tr,lr)}while(!0);$g(),mk.current=ar,K$1=ir,Y$1!==null?er=0:(Q$1=null,Z$1=0,er=T$1)}if(er!==0){if(er===2&&(ir=xc(tr),ir!==0&&(nr=ir,er=Nk(tr,ir))),er===1)throw rr=pk,Kk(tr,0),Ck(tr,nr),Dk(tr,B$1()),rr;if(er===6)Ck(tr,nr);else{if(ir=tr.current.alternate,!(nr&30)&&!Ok(ir)&&(er=Ik(tr,nr),er===2&&(ar=xc(tr),ar!==0&&(nr=ar,er=Nk(tr,ar))),er===1))throw rr=pk,Kk(tr,0),Ck(tr,nr),Dk(tr,B$1()),rr;switch(tr.finishedWork=ir,tr.finishedLanes=nr,er){case 0:case 1:throw Error(p$2(345));case 2:Pk(tr,tk,uk);break;case 3:if(Ck(tr,nr),(nr&130023424)===nr&&(er=fk+500-B$1(),10<er)){if(uc(tr,0)!==0)break;if(ir=tr.suspendedLanes,(ir&nr)!==nr){R$1(),tr.pingedLanes|=tr.suspendedLanes&ir;break}tr.timeoutHandle=Ff(Pk.bind(null,tr,tk,uk),er);break}Pk(tr,tk,uk);break;case 4:if(Ck(tr,nr),(nr&4194240)===nr)break;for(er=tr.eventTimes,ir=-1;0<nr;){var sr=31-oc(nr);ar=1<<sr,sr=er[sr],sr>ir&&(ir=sr),nr&=~ar}if(nr=ir,nr=B$1()-nr,nr=(120>nr?120:480>nr?480:1080>nr?1080:1920>nr?1920:3e3>nr?3e3:4320>nr?4320:1960*lk(nr/1960))-nr,10<nr){tr.timeoutHandle=Ff(Pk.bind(null,tr,tk,uk),nr);break}Pk(tr,tk,uk);break;case 5:Pk(tr,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(tr,B$1()),tr.callbackNode===rr?Gk.bind(null,tr):null}function Nk(tr,er){var rr=sk;return tr.current.memoizedState.isDehydrated&&(Kk(tr,er).flags|=256),tr=Ik(tr,er),tr!==2&&(er=tk,tk=rr,er!==null&&Fj(er)),tr}function Fj(tr){tk===null?tk=tr:tk.push.apply(tk,tr)}function Ok(tr){for(var er=tr;;){if(er.flags&16384){var rr=er.updateQueue;if(rr!==null&&(rr=rr.stores,rr!==null))for(var nr=0;nr<rr.length;nr++){var ir=rr[nr],ar=ir.getSnapshot;ir=ir.value;try{if(!He(ar(),ir))return!1}catch{return!1}}}if(rr=er.child,er.subtreeFlags&16384&&rr!==null)rr.return=er,er=rr;else{if(er===tr)break;for(;er.sibling===null;){if(er.return===null||er.return===tr)return!0;er=er.return}er.sibling.return=er.return,er=er.sibling}}return!0}function Ck(tr,er){for(er&=~rk,er&=~qk,tr.suspendedLanes|=er,tr.pingedLanes&=~er,tr=tr.expirationTimes;0<er;){var rr=31-oc(er),nr=1<<rr;tr[rr]=-1,er&=~nr}}function Ek(tr){if(K$1&6)throw Error(p$2(327));Hk();var er=uc(tr,0);if(!(er&1))return Dk(tr,B$1()),null;var rr=Ik(tr,er);if(tr.tag!==0&&rr===2){var nr=xc(tr);nr!==0&&(er=nr,rr=Nk(tr,nr))}if(rr===1)throw rr=pk,Kk(tr,0),Ck(tr,er),Dk(tr,B$1()),rr;if(rr===6)throw Error(p$2(345));return tr.finishedWork=tr.current.alternate,tr.finishedLanes=er,Pk(tr,tk,uk),Dk(tr,B$1()),null}function Qk(tr,er){var rr=K$1;K$1|=1;try{return tr(er)}finally{K$1=rr,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(tr){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var er=K$1;K$1|=1;var rr=ok.transition,nr=C$2;try{if(ok.transition=null,C$2=1,tr)return tr()}finally{C$2=nr,ok.transition=rr,K$1=er,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(tr,er){tr.finishedWork=null,tr.finishedLanes=0;var rr=tr.timeoutHandle;if(rr!==-1&&(tr.timeoutHandle=-1,Gf(rr)),Y$1!==null)for(rr=Y$1.return;rr!==null;){var nr=rr;switch(wg(nr),nr.tag){case 1:nr=nr.type.childContextTypes,nr!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(nr);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(nr.type._context);break;case 22:case 23:Hj()}rr=rr.return}if(Q$1=tr,Y$1=tr=Pg(tr.current,null),Z$1=fj=er,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(er=0;er<fh.length;er++)if(rr=fh[er],nr=rr.interleaved,nr!==null){rr.interleaved=null;var ir=nr.next,ar=rr.pending;if(ar!==null){var sr=ar.next;ar.next=ir,nr.next=sr}rr.pending=nr}fh=null}return tr}function Mk(tr,er){do{var rr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nr=M$1.memoizedState;nr!==null;){var ir=nr.queue;ir!==null&&(ir.pending=null),nr=nr.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,rr===null||rr.return===null){T$1=1,pk=er,Y$1=null;break}e:{var ar=tr,sr=rr.return,lr=rr,or=er;if(er=Z$1,lr.flags|=32768,or!==null&&typeof or=="object"&&typeof or.then=="function"){var cr=or,ur=lr,dr=ur.tag;if(!(ur.mode&1)&&(dr===0||dr===11||dr===15)){var hr=ur.alternate;hr?(ur.updateQueue=hr.updateQueue,ur.memoizedState=hr.memoizedState,ur.lanes=hr.lanes):(ur.updateQueue=null,ur.memoizedState=null)}var fr=Ui(sr);if(fr!==null){fr.flags&=-257,Vi(fr,sr,lr,ar,er),fr.mode&1&&Si(ar,cr,er),er=fr,or=cr;var mr=er.updateQueue;if(mr===null){var br=new Set;br.add(or),er.updateQueue=br}else mr.add(or);break e}else{if(!(er&1)){Si(ar,cr,er),tj();break e}or=Error(p$2(426))}}else if(I$1&&lr.mode&1){var pr=Ui(sr);if(pr!==null){!(pr.flags&65536)&&(pr.flags|=256),Vi(pr,sr,lr,ar,er),Jg(Ji(or,lr));break e}}ar=or=Ji(or,lr),T$1!==4&&(T$1=2),sk===null?sk=[ar]:sk.push(ar),ar=sr;do{switch(ar.tag){case 3:ar.flags|=65536,er&=-er,ar.lanes|=er;var gr=Ni(ar,or,er);ph(ar,gr);break e;case 1:lr=or;var yr=ar.type,vr=ar.stateNode;if(!(ar.flags&128)&&(typeof yr.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(Ri===null||!Ri.has(vr)))){ar.flags|=65536,er&=-er,ar.lanes|=er;var _r=Qi(ar,lr,er);ph(ar,_r);break e}}ar=ar.return}while(ar!==null)}Sk(rr)}catch(xr){er=xr,Y$1===rr&&rr!==null&&(Y$1=rr=rr.return);continue}break}while(!0)}function Jk(){var tr=mk.current;return mk.current=Rh,tr===null?Rh:tr}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(tr,er){var rr=K$1;K$1|=2;var nr=Jk();(Q$1!==tr||Z$1!==er)&&(uk=null,Kk(tr,er));do try{Tk();break}catch(ir){Mk(tr,ir)}while(!0);if($g(),K$1=rr,mk.current=nr,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(tr){var er=Vk(tr.alternate,tr,fj);tr.memoizedProps=tr.pendingProps,er===null?Sk(tr):Y$1=er,nk.current=null}function Sk(tr){var er=tr;do{var rr=er.alternate;if(tr=er.return,er.flags&32768){if(rr=Ij(rr,er),rr!==null){rr.flags&=32767,Y$1=rr;return}if(tr!==null)tr.flags|=32768,tr.subtreeFlags=0,tr.deletions=null;else{T$1=6,Y$1=null;return}}else if(rr=Ej(rr,er,fj),rr!==null){Y$1=rr;return}if(er=er.sibling,er!==null){Y$1=er;return}Y$1=er=tr}while(er!==null);T$1===0&&(T$1=5)}function Pk(tr,er,rr){var nr=C$2,ir=ok.transition;try{ok.transition=null,C$2=1,Wk(tr,er,rr,nr)}finally{ok.transition=ir,C$2=nr}return null}function Wk(tr,er,rr,nr){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));rr=tr.finishedWork;var ir=tr.finishedLanes;if(rr===null)return null;if(tr.finishedWork=null,tr.finishedLanes=0,rr===tr.current)throw Error(p$2(177));tr.callbackNode=null,tr.callbackPriority=0;var ar=rr.lanes|rr.childLanes;if(Bc(tr,ar),tr===Q$1&&(Y$1=Q$1=null,Z$1=0),!(rr.subtreeFlags&2064)&&!(rr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ar=(rr.flags&15990)!==0,rr.subtreeFlags&15990||ar){ar=ok.transition,ok.transition=null;var sr=C$2;C$2=1;var lr=K$1;K$1|=4,nk.current=null,Oj(tr,rr),dk(rr,tr),Oe(Df),dd=!!Cf,Df=Cf=null,tr.current=rr,hk(rr),dc(),K$1=lr,C$2=sr,ok.transition=ar}else tr.current=rr;if(vk&&(vk=!1,wk=tr,xk=ir),ar=tr.pendingLanes,ar===0&&(Ri=null),mc(rr.stateNode),Dk(tr,B$1()),er!==null)for(nr=tr.onRecoverableError,rr=0;rr<er.length;rr++)ir=er[rr],nr(ir.value,{componentStack:ir.stack,digest:ir.digest});if(Oi)throw Oi=!1,tr=Pi,Pi=null,tr;return xk&1&&tr.tag!==0&&Hk(),ar=tr.pendingLanes,ar&1?tr===zk?yk++:(yk=0,zk=tr):yk=0,jg(),null}function Hk(){if(wk!==null){var tr=Dc(xk),er=ok.transition,rr=C$2;try{if(ok.transition=null,C$2=16>tr?16:tr,wk===null)var nr=!1;else{if(tr=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var ir=K$1;for(K$1|=4,V$1=tr.current;V$1!==null;){var ar=V$1,sr=ar.child;if(V$1.flags&16){var lr=ar.deletions;if(lr!==null){for(var or=0;or<lr.length;or++){var cr=lr[or];for(V$1=cr;V$1!==null;){var ur=V$1;switch(ur.tag){case 0:case 11:case 15:Pj(8,ur,ar)}var dr=ur.child;if(dr!==null)dr.return=ur,V$1=dr;else for(;V$1!==null;){ur=V$1;var hr=ur.sibling,fr=ur.return;if(Sj(ur),ur===cr){V$1=null;break}if(hr!==null){hr.return=fr,V$1=hr;break}V$1=fr}}}var mr=ar.alternate;if(mr!==null){var br=mr.child;if(br!==null){mr.child=null;do{var pr=br.sibling;br.sibling=null,br=pr}while(br!==null)}}V$1=ar}}if(ar.subtreeFlags&2064&&sr!==null)sr.return=ar,V$1=sr;else e:for(;V$1!==null;){if(ar=V$1,ar.flags&2048)switch(ar.tag){case 0:case 11:case 15:Pj(9,ar,ar.return)}var gr=ar.sibling;if(gr!==null){gr.return=ar.return,V$1=gr;break e}V$1=ar.return}}var yr=tr.current;for(V$1=yr;V$1!==null;){sr=V$1;var vr=sr.child;if(sr.subtreeFlags&2064&&vr!==null)vr.return=sr,V$1=vr;else e:for(sr=yr;V$1!==null;){if(lr=V$1,lr.flags&2048)try{switch(lr.tag){case 0:case 11:case 15:Qj(9,lr)}}catch(xr){W$1(lr,lr.return,xr)}if(lr===sr){V$1=null;break e}var _r=lr.sibling;if(_r!==null){_r.return=lr.return,V$1=_r;break e}V$1=lr.return}}if(K$1=ir,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,tr)}catch{}nr=!0}return nr}finally{C$2=rr,ok.transition=er}}return!1}function Xk(tr,er,rr){er=Ji(rr,er),er=Ni(tr,er,1),tr=nh(tr,er,1),er=R$1(),tr!==null&&(Ac(tr,1,er),Dk(tr,er))}function W$1(tr,er,rr){if(tr.tag===3)Xk(tr,tr,rr);else for(;er!==null;){if(er.tag===3){Xk(er,tr,rr);break}else if(er.tag===1){var nr=er.stateNode;if(typeof er.type.getDerivedStateFromError=="function"||typeof nr.componentDidCatch=="function"&&(Ri===null||!Ri.has(nr))){tr=Ji(rr,tr),tr=Qi(er,tr,1),er=nh(er,tr,1),tr=R$1(),er!==null&&(Ac(er,1,tr),Dk(er,tr));break}}er=er.return}}function Ti(tr,er,rr){var nr=tr.pingCache;nr!==null&&nr.delete(er),er=R$1(),tr.pingedLanes|=tr.suspendedLanes&rr,Q$1===tr&&(Z$1&rr)===rr&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(tr,0):rk|=rr),Dk(tr,er)}function Yk(tr,er){er===0&&(tr.mode&1?(er=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):er=1);var rr=R$1();tr=ih(tr,er),tr!==null&&(Ac(tr,er,rr),Dk(tr,rr))}function uj(tr){var er=tr.memoizedState,rr=0;er!==null&&(rr=er.retryLane),Yk(tr,rr)}function bk(tr,er){var rr=0;switch(tr.tag){case 13:var nr=tr.stateNode,ir=tr.memoizedState;ir!==null&&(rr=ir.retryLane);break;case 19:nr=tr.stateNode;break;default:throw Error(p$2(314))}nr!==null&&nr.delete(er),Yk(tr,rr)}var Vk;Vk=function(tr,er,rr){if(tr!==null)if(tr.memoizedProps!==er.pendingProps||Wf.current)dh=!0;else{if(!(tr.lanes&rr)&&!(er.flags&128))return dh=!1,yj(tr,er,rr);dh=!!(tr.flags&131072)}else dh=!1,I$1&&er.flags&1048576&&ug(er,ng,er.index);switch(er.lanes=0,er.tag){case 2:var nr=er.type;ij(tr,er),tr=er.pendingProps;var ir=Yf(er,H$1.current);ch(er,rr),ir=Nh(null,er,nr,tr,ir,rr);var ar=Sh();return er.flags|=1,typeof ir=="object"&&ir!==null&&typeof ir.render=="function"&&ir.$$typeof===void 0?(er.tag=1,er.memoizedState=null,er.updateQueue=null,Zf(nr)?(ar=!0,cg(er)):ar=!1,er.memoizedState=ir.state!==null&&ir.state!==void 0?ir.state:null,kh(er),ir.updater=Ei,er.stateNode=ir,ir._reactInternals=er,Ii(er,nr,tr,rr),er=jj(null,er,nr,!0,ar,rr)):(er.tag=0,I$1&&ar&&vg(er),Xi(null,er,ir,rr),er=er.child),er;case 16:nr=er.elementType;e:{switch(ij(tr,er),tr=er.pendingProps,ir=nr._init,nr=ir(nr._payload),er.type=nr,ir=er.tag=Zk(nr),tr=Ci(nr,tr),ir){case 0:er=cj(null,er,nr,tr,rr);break e;case 1:er=hj(null,er,nr,tr,rr);break e;case 11:er=Yi(null,er,nr,tr,rr);break e;case 14:er=$i(null,er,nr,Ci(nr.type,tr),rr);break e}throw Error(p$2(306,nr,""))}return er;case 0:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),cj(tr,er,nr,ir,rr);case 1:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),hj(tr,er,nr,ir,rr);case 3:e:{if(kj(er),tr===null)throw Error(p$2(387));nr=er.pendingProps,ar=er.memoizedState,ir=ar.element,lh(tr,er),qh(er,nr,null,rr);var sr=er.memoizedState;if(nr=sr.element,ar.isDehydrated)if(ar={element:nr,isDehydrated:!1,cache:sr.cache,pendingSuspenseBoundaries:sr.pendingSuspenseBoundaries,transitions:sr.transitions},er.updateQueue.baseState=ar,er.memoizedState=ar,er.flags&256){ir=Ji(Error(p$2(423)),er),er=lj(tr,er,nr,rr,ir);break e}else if(nr!==ir){ir=Ji(Error(p$2(424)),er),er=lj(tr,er,nr,rr,ir);break e}else for(yg=Lf(er.stateNode.containerInfo.firstChild),xg=er,I$1=!0,zg=null,rr=Vg(er,null,nr,rr),er.child=rr;rr;)rr.flags=rr.flags&-3|4096,rr=rr.sibling;else{if(Ig(),nr===ir){er=Zi(tr,er,rr);break e}Xi(tr,er,nr,rr)}er=er.child}return er;case 5:return Ah(er),tr===null&&Eg(er),nr=er.type,ir=er.pendingProps,ar=tr!==null?tr.memoizedProps:null,sr=ir.children,Ef(nr,ir)?sr=null:ar!==null&&Ef(nr,ar)&&(er.flags|=32),gj(tr,er),Xi(tr,er,sr,rr),er.child;case 6:return tr===null&&Eg(er),null;case 13:return oj(tr,er,rr);case 4:return yh(er,er.stateNode.containerInfo),nr=er.pendingProps,tr===null?er.child=Ug(er,null,nr,rr):Xi(tr,er,nr,rr),er.child;case 11:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),Yi(tr,er,nr,ir,rr);case 7:return Xi(tr,er,er.pendingProps,rr),er.child;case 8:return Xi(tr,er,er.pendingProps.children,rr),er.child;case 12:return Xi(tr,er,er.pendingProps.children,rr),er.child;case 10:e:{if(nr=er.type._context,ir=er.pendingProps,ar=er.memoizedProps,sr=ir.value,G$1(Wg,nr._currentValue),nr._currentValue=sr,ar!==null)if(He(ar.value,sr)){if(ar.children===ir.children&&!Wf.current){er=Zi(tr,er,rr);break e}}else for(ar=er.child,ar!==null&&(ar.return=er);ar!==null;){var lr=ar.dependencies;if(lr!==null){sr=ar.child;for(var or=lr.firstContext;or!==null;){if(or.context===nr){if(ar.tag===1){or=mh(-1,rr&-rr),or.tag=2;var cr=ar.updateQueue;if(cr!==null){cr=cr.shared;var ur=cr.pending;ur===null?or.next=or:(or.next=ur.next,ur.next=or),cr.pending=or}}ar.lanes|=rr,or=ar.alternate,or!==null&&(or.lanes|=rr),bh(ar.return,rr,er),lr.lanes|=rr;break}or=or.next}}else if(ar.tag===10)sr=ar.type===er.type?null:ar.child;else if(ar.tag===18){if(sr=ar.return,sr===null)throw Error(p$2(341));sr.lanes|=rr,lr=sr.alternate,lr!==null&&(lr.lanes|=rr),bh(sr,rr,er),sr=ar.sibling}else sr=ar.child;if(sr!==null)sr.return=ar;else for(sr=ar;sr!==null;){if(sr===er){sr=null;break}if(ar=sr.sibling,ar!==null){ar.return=sr.return,sr=ar;break}sr=sr.return}ar=sr}Xi(tr,er,ir.children,rr),er=er.child}return er;case 9:return ir=er.type,nr=er.pendingProps.children,ch(er,rr),ir=eh(ir),nr=nr(ir),er.flags|=1,Xi(tr,er,nr,rr),er.child;case 14:return nr=er.type,ir=Ci(nr,er.pendingProps),ir=Ci(nr.type,ir),$i(tr,er,nr,ir,rr);case 15:return bj(tr,er,er.type,er.pendingProps,rr);case 17:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),ij(tr,er),er.tag=1,Zf(nr)?(tr=!0,cg(er)):tr=!1,ch(er,rr),Gi(er,nr,ir),Ii(er,nr,ir,rr),jj(null,er,nr,!0,tr,rr);case 19:return xj(tr,er,rr);case 22:return dj(tr,er,rr)}throw Error(p$2(156,er.tag))};function Fk(tr,er){return ac(tr,er)}function $k(tr,er,rr,nr){this.tag=tr,this.key=rr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=er,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tr,er,rr,nr){return new $k(tr,er,rr,nr)}function aj(tr){return tr=tr.prototype,!(!tr||!tr.isReactComponent)}function Zk(tr){if(typeof tr=="function")return aj(tr)?1:0;if(tr!=null){if(tr=tr.$$typeof,tr===Da)return 11;if(tr===Ga)return 14}return 2}function Pg(tr,er){var rr=tr.alternate;return rr===null?(rr=Bg(tr.tag,er,tr.key,tr.mode),rr.elementType=tr.elementType,rr.type=tr.type,rr.stateNode=tr.stateNode,rr.alternate=tr,tr.alternate=rr):(rr.pendingProps=er,rr.type=tr.type,rr.flags=0,rr.subtreeFlags=0,rr.deletions=null),rr.flags=tr.flags&14680064,rr.childLanes=tr.childLanes,rr.lanes=tr.lanes,rr.child=tr.child,rr.memoizedProps=tr.memoizedProps,rr.memoizedState=tr.memoizedState,rr.updateQueue=tr.updateQueue,er=tr.dependencies,rr.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext},rr.sibling=tr.sibling,rr.index=tr.index,rr.ref=tr.ref,rr}function Rg(tr,er,rr,nr,ir,ar){var sr=2;if(nr=tr,typeof tr=="function")aj(tr)&&(sr=1);else if(typeof tr=="string")sr=5;else e:switch(tr){case ya:return Tg(rr.children,ir,ar,er);case za:sr=8,ir|=8;break;case Aa:return tr=Bg(12,rr,er,ir|2),tr.elementType=Aa,tr.lanes=ar,tr;case Ea:return tr=Bg(13,rr,er,ir),tr.elementType=Ea,tr.lanes=ar,tr;case Fa:return tr=Bg(19,rr,er,ir),tr.elementType=Fa,tr.lanes=ar,tr;case Ia:return pj(rr,ir,ar,er);default:if(typeof tr=="object"&&tr!==null)switch(tr.$$typeof){case Ba:sr=10;break e;case Ca:sr=9;break e;case Da:sr=11;break e;case Ga:sr=14;break e;case Ha:sr=16,nr=null;break e}throw Error(p$2(130,tr==null?tr:typeof tr,""))}return er=Bg(sr,rr,er,ir),er.elementType=tr,er.type=nr,er.lanes=ar,er}function Tg(tr,er,rr,nr){return tr=Bg(7,tr,nr,er),tr.lanes=rr,tr}function pj(tr,er,rr,nr){return tr=Bg(22,tr,nr,er),tr.elementType=Ia,tr.lanes=rr,tr.stateNode={isHidden:!1},tr}function Qg(tr,er,rr){return tr=Bg(6,tr,null,er),tr.lanes=rr,tr}function Sg(tr,er,rr){return er=Bg(4,tr.children!==null?tr.children:[],tr.key,er),er.lanes=rr,er.stateNode={containerInfo:tr.containerInfo,pendingChildren:null,implementation:tr.implementation},er}function al(tr,er,rr,nr,ir){this.tag=er,this.containerInfo=tr,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nr,this.onRecoverableError=ir,this.mutableSourceEagerHydrationData=null}function bl(tr,er,rr,nr,ir,ar,sr,lr,or){return tr=new al(tr,er,rr,lr,or),er===1?(er=1,ar===!0&&(er|=8)):er=0,ar=Bg(3,null,null,er),tr.current=ar,ar.stateNode=tr,ar.memoizedState={element:nr,isDehydrated:rr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ar),tr}function cl(tr,er,rr){var nr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nr==null?null:""+nr,children:tr,containerInfo:er,implementation:rr}}function dl(tr){if(!tr)return Vf;tr=tr._reactInternals;e:{if(Vb(tr)!==tr||tr.tag!==1)throw Error(p$2(170));var er=tr;do{switch(er.tag){case 3:er=er.stateNode.context;break e;case 1:if(Zf(er.type)){er=er.stateNode.__reactInternalMemoizedMergedChildContext;break e}}er=er.return}while(er!==null);throw Error(p$2(171))}if(tr.tag===1){var rr=tr.type;if(Zf(rr))return bg(tr,rr,er)}return er}function el(tr,er,rr,nr,ir,ar,sr,lr,or){return tr=bl(rr,nr,!0,tr,ir,ar,sr,lr,or),tr.context=dl(null),rr=tr.current,nr=R$1(),ir=yi(rr),ar=mh(nr,ir),ar.callback=er??null,nh(rr,ar,ir),tr.current.lanes=ir,Ac(tr,ir,nr),Dk(tr,nr),tr}function fl$1(tr,er,rr,nr){var ir=er.current,ar=R$1(),sr=yi(ir);return rr=dl(rr),er.context===null?er.context=rr:er.pendingContext=rr,er=mh(ar,sr),er.payload={element:tr},nr=nr===void 0?null:nr,nr!==null&&(er.callback=nr),tr=nh(ir,er,sr),tr!==null&&(gi(tr,ir,sr,ar),oh(tr,ir,sr)),sr}function gl(tr){if(tr=tr.current,!tr.child)return null;switch(tr.child.tag){case 5:return tr.child.stateNode;default:return tr.child.stateNode}}function hl(tr,er){if(tr=tr.memoizedState,tr!==null&&tr.dehydrated!==null){var rr=tr.retryLane;tr.retryLane=rr!==0&&rr<er?rr:er}}function il(tr,er){hl(tr,er),(tr=tr.alternate)&&hl(tr,er)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(tr){console.error(tr)};function ll(tr){this._internalRoot=tr}ml.prototype.render=ll.prototype.render=function(tr){var er=this._internalRoot;if(er===null)throw Error(p$2(409));fl$1(tr,er,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var tr=this._internalRoot;if(tr!==null){this._internalRoot=null;var er=tr.containerInfo;Rk(function(){fl$1(null,tr,null,null)}),er[uf]=null}};function ml(tr){this._internalRoot=tr}ml.prototype.unstable_scheduleHydration=function(tr){if(tr){var er=Hc();tr={blockedOn:null,target:tr,priority:er};for(var rr=0;rr<Qc.length&&er!==0&&er<Qc[rr].priority;rr++);Qc.splice(rr,0,tr),rr===0&&Vc(tr)}};function nl(tr){return!(!tr||tr.nodeType!==1&&tr.nodeType!==9&&tr.nodeType!==11)}function ol(tr){return!(!tr||tr.nodeType!==1&&tr.nodeType!==9&&tr.nodeType!==11&&(tr.nodeType!==8||tr.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(tr,er,rr,nr,ir){if(ir){if(typeof nr=="function"){var ar=nr;nr=function(){var cr=gl(sr);ar.call(cr)}}var sr=el(er,nr,tr,0,null,!1,!1,"",pl);return tr._reactRootContainer=sr,tr[uf]=sr.current,sf(tr.nodeType===8?tr.parentNode:tr),Rk(),sr}for(;ir=tr.lastChild;)tr.removeChild(ir);if(typeof nr=="function"){var lr=nr;nr=function(){var cr=gl(or);lr.call(cr)}}var or=bl(tr,0,!1,null,null,!1,!1,"",pl);return tr._reactRootContainer=or,tr[uf]=or.current,sf(tr.nodeType===8?tr.parentNode:tr),Rk(function(){fl$1(er,or,rr,nr)}),or}function rl(tr,er,rr,nr,ir){var ar=rr._reactRootContainer;if(ar){var sr=ar;if(typeof ir=="function"){var lr=ir;ir=function(){var or=gl(sr);lr.call(or)}}fl$1(er,sr,tr,ir)}else sr=ql(rr,er,tr,ir,nr);return gl(sr)}Ec=function(tr){switch(tr.tag){case 3:var er=tr.stateNode;if(er.current.memoizedState.isDehydrated){var rr=tc(er.pendingLanes);rr!==0&&(Cc(er,rr|1),Dk(er,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var nr=ih(tr,1);if(nr!==null){var ir=R$1();gi(nr,tr,1,ir)}}),il(tr,1)}};Fc=function(tr){if(tr.tag===13){var er=ih(tr,134217728);if(er!==null){var rr=R$1();gi(er,tr,134217728,rr)}il(tr,134217728)}};Gc=function(tr){if(tr.tag===13){var er=yi(tr),rr=ih(tr,er);if(rr!==null){var nr=R$1();gi(rr,tr,er,nr)}il(tr,er)}};Hc=function(){return C$2};Ic=function(tr,er){var rr=C$2;try{return C$2=tr,er()}finally{C$2=rr}};yb=function(tr,er,rr){switch(er){case"input":if(bb(tr,rr),er=rr.name,rr.type==="radio"&&er!=null){for(rr=tr;rr.parentNode;)rr=rr.parentNode;for(rr=rr.querySelectorAll("input[name="+JSON.stringify(""+er)+'][type="radio"]'),er=0;er<rr.length;er++){var nr=rr[er];if(nr!==tr&&nr.form===tr.form){var ir=Db(nr);if(!ir)throw Error(p$2(90));Wa(nr),bb(nr,ir)}}}break;case"textarea":ib(tr,rr);break;case"select":er=rr.value,er!=null&&fb(tr,!!rr.multiple,er,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tr){return tr=Zb(tr),tr===null?null:tr.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(tr,er){var rr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(er))throw Error(p$2(200));return cl(tr,er,null,rr)};reactDom_production_min.createRoot=function(tr,er){if(!nl(tr))throw Error(p$2(299));var rr=!1,nr="",ir=kl;return er!=null&&(er.unstable_strictMode===!0&&(rr=!0),er.identifierPrefix!==void 0&&(nr=er.identifierPrefix),er.onRecoverableError!==void 0&&(ir=er.onRecoverableError)),er=bl(tr,1,!1,null,null,rr,!1,nr,ir),tr[uf]=er.current,sf(tr.nodeType===8?tr.parentNode:tr),new ll(er)};reactDom_production_min.findDOMNode=function(tr){if(tr==null)return null;if(tr.nodeType===1)return tr;var er=tr._reactInternals;if(er===void 0)throw typeof tr.render=="function"?Error(p$2(188)):(tr=Object.keys(tr).join(","),Error(p$2(268,tr)));return tr=Zb(er),tr=tr===null?null:tr.stateNode,tr};reactDom_production_min.flushSync=function(tr){return Rk(tr)};reactDom_production_min.hydrate=function(tr,er,rr){if(!ol(er))throw Error(p$2(200));return rl(null,tr,er,!0,rr)};reactDom_production_min.hydrateRoot=function(tr,er,rr){if(!nl(tr))throw Error(p$2(405));var nr=rr!=null&&rr.hydratedSources||null,ir=!1,ar="",sr=kl;if(rr!=null&&(rr.unstable_strictMode===!0&&(ir=!0),rr.identifierPrefix!==void 0&&(ar=rr.identifierPrefix),rr.onRecoverableError!==void 0&&(sr=rr.onRecoverableError)),er=el(er,null,tr,1,rr??null,ir,!1,ar,sr),tr[uf]=er.current,sf(tr),nr)for(tr=0;tr<nr.length;tr++)rr=nr[tr],ir=rr._getVersion,ir=ir(rr._source),er.mutableSourceEagerHydrationData==null?er.mutableSourceEagerHydrationData=[rr,ir]:er.mutableSourceEagerHydrationData.push(rr,ir);return new ml(er)};reactDom_production_min.render=function(tr,er,rr){if(!ol(er))throw Error(p$2(200));return rl(null,tr,er,!1,rr)};reactDom_production_min.unmountComponentAtNode=function(tr){if(!ol(tr))throw Error(p$2(40));return tr._reactRootContainer?(Rk(function(){rl(null,null,tr,!1,function(){tr._reactRootContainer=null,tr[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tr,er,rr,nr){if(!ol(rr))throw Error(p$2(200));if(tr==null||tr._reactInternals===void 0)throw Error(p$2(38));return rl(tr,er,rr,!1,nr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tr){console.error(tr)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(tr){const er=[];let rr=0;for(let nr=0;nr<tr.length;nr++){let ir=tr.charCodeAt(nr);ir<128?er[rr++]=ir:ir<2048?(er[rr++]=ir>>6|192,er[rr++]=ir&63|128):(ir&64512)===55296&&nr+1<tr.length&&(tr.charCodeAt(nr+1)&64512)===56320?(ir=65536+((ir&1023)<<10)+(tr.charCodeAt(++nr)&1023),er[rr++]=ir>>18|240,er[rr++]=ir>>12&63|128,er[rr++]=ir>>6&63|128,er[rr++]=ir&63|128):(er[rr++]=ir>>12|224,er[rr++]=ir>>6&63|128,er[rr++]=ir&63|128)}return er},byteArrayToString=function(tr){const er=[];let rr=0,nr=0;for(;rr<tr.length;){const ir=tr[rr++];if(ir<128)er[nr++]=String.fromCharCode(ir);else if(ir>191&&ir<224){const ar=tr[rr++];er[nr++]=String.fromCharCode((ir&31)<<6|ar&63)}else if(ir>239&&ir<365){const ar=tr[rr++],sr=tr[rr++],lr=tr[rr++],or=((ir&7)<<18|(ar&63)<<12|(sr&63)<<6|lr&63)-65536;er[nr++]=String.fromCharCode(55296+(or>>10)),er[nr++]=String.fromCharCode(56320+(or&1023))}else{const ar=tr[rr++],sr=tr[rr++];er[nr++]=String.fromCharCode((ir&15)<<12|(ar&63)<<6|sr&63)}}return er.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(tr,er){if(!Array.isArray(tr))throw Error("encodeByteArray takes an array as a parameter");this.init_();const rr=er?this.byteToCharMapWebSafe_:this.byteToCharMap_,nr=[];for(let ir=0;ir<tr.length;ir+=3){const ar=tr[ir],sr=ir+1<tr.length,lr=sr?tr[ir+1]:0,or=ir+2<tr.length,cr=or?tr[ir+2]:0,ur=ar>>2,dr=(ar&3)<<4|lr>>4;let hr=(lr&15)<<2|cr>>6,fr=cr&63;or||(fr=64,sr||(hr=64)),nr.push(rr[ur],rr[dr],rr[hr],rr[fr])}return nr.join("")},encodeString(tr,er){return this.HAS_NATIVE_SUPPORT&&!er?btoa(tr):this.encodeByteArray(stringToByteArray$1(tr),er)},decodeString(tr,er){return this.HAS_NATIVE_SUPPORT&&!er?atob(tr):byteArrayToString(this.decodeStringToByteArray(tr,er))},decodeStringToByteArray(tr,er){this.init_();const rr=er?this.charToByteMapWebSafe_:this.charToByteMap_,nr=[];for(let ir=0;ir<tr.length;){const ar=rr[tr.charAt(ir++)],lr=ir<tr.length?rr[tr.charAt(ir)]:0;++ir;const cr=ir<tr.length?rr[tr.charAt(ir)]:64;++ir;const dr=ir<tr.length?rr[tr.charAt(ir)]:64;if(++ir,ar==null||lr==null||cr==null||dr==null)throw new DecodeBase64StringError;const hr=ar<<2|lr>>4;if(nr.push(hr),cr!==64){const fr=lr<<4&240|cr>>2;if(nr.push(fr),dr!==64){const mr=cr<<6&192|dr;nr.push(mr)}}}return nr},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let tr=0;tr<this.ENCODED_VALS.length;tr++)this.byteToCharMap_[tr]=this.ENCODED_VALS.charAt(tr),this.charToByteMap_[this.byteToCharMap_[tr]]=tr,this.byteToCharMapWebSafe_[tr]=this.ENCODED_VALS_WEBSAFE.charAt(tr),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[tr]]=tr,tr>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(tr)]=tr,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(tr)]=tr)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(tr){const er=stringToByteArray$1(tr);return base64.encodeByteArray(er,!0)},base64urlEncodeWithoutPadding=function(tr){return base64Encode(tr).replace(/\./g,"")},base64Decode=function(tr){try{return base64.decodeString(tr,!0)}catch(er){console.error("base64Decode failed: ",er)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const tr=define_process_env_default.__FIREBASE_DEFAULTS__;if(tr)return JSON.parse(tr)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let tr;try{tr=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const er=tr&&base64Decode(tr[1]);return er&&JSON.parse(er)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(tr){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${tr}`);return}},getDefaultEmulatorHost=tr=>{var er,rr;return(rr=(er=getDefaults())===null||er===void 0?void 0:er.emulatorHosts)===null||rr===void 0?void 0:rr[tr]},getDefaultEmulatorHostnameAndPort=tr=>{const er=getDefaultEmulatorHost(tr);if(!er)return;const rr=er.lastIndexOf(":");if(rr<=0||rr+1===er.length)throw new Error(`Invalid host ${er} with no separate hostname and port!`);const nr=parseInt(er.substring(rr+1),10);return er[0]==="["?[er.substring(1,rr-1),nr]:[er.substring(0,rr),nr]},getDefaultAppConfig=()=>{var tr;return(tr=getDefaults())===null||tr===void 0?void 0:tr.config},getExperimentalSetting=tr=>{var er;return(er=getDefaults())===null||er===void 0?void 0:er[`_${tr}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((er,rr)=>{this.resolve=er,this.reject=rr})}wrapCallback(er){return(rr,nr)=>{rr?this.reject(rr):this.resolve(nr),typeof er=="function"&&(this.promise.catch(()=>{}),er.length===1?er(rr):er(rr,nr))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(tr,er){if(tr.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rr={alg:"none",type:"JWT"},nr=er||"demo-project",ir=tr.iat||0,ar=tr.sub||tr.user_id;if(!ar)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const sr=Object.assign({iss:`https://securetoken.google.com/${nr}`,aud:nr,iat:ir,exp:ir+3600,auth_time:ir,sub:ar,user_id:ar,firebase:{sign_in_provider:"custom",identities:{}}},tr);return[base64urlEncodeWithoutPadding(JSON.stringify(rr)),base64urlEncodeWithoutPadding(JSON.stringify(sr)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var tr;const er=(tr=getDefaults())===null||tr===void 0?void 0:tr.forceEnvironment;if(er==="node")return!0;if(er==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const tr=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof tr=="object"&&tr.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const tr=getUA();return tr.indexOf("MSIE ")>=0||tr.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((tr,er)=>{try{let rr=!0;const nr="validate-browser-context-for-indexeddb-analytics-module",ir=self.indexedDB.open(nr);ir.onsuccess=()=>{ir.result.close(),rr||self.indexedDB.deleteDatabase(nr),tr(!0)},ir.onupgradeneeded=()=>{rr=!1},ir.onerror=()=>{var ar;er(((ar=ir.error)===null||ar===void 0?void 0:ar.message)||"")}}catch(rr){er(rr)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(er,rr,nr){super(rr),this.code=er,this.customData=nr,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(er,rr,nr){this.service=er,this.serviceName=rr,this.errors=nr}create(er,...rr){const nr=rr[0]||{},ir=`${this.service}/${er}`,ar=this.errors[er],sr=ar?replaceTemplate(ar,nr):"Error",lr=`${this.serviceName}: ${sr} (${ir}).`;return new FirebaseError(ir,lr,nr)}}function replaceTemplate(tr,er){return tr.replace(PATTERN,(rr,nr)=>{const ir=er[nr];return ir!=null?String(ir):`<${nr}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(tr){for(const er in tr)if(Object.prototype.hasOwnProperty.call(tr,er))return!1;return!0}function deepEqual$1(tr,er){if(tr===er)return!0;const rr=Object.keys(tr),nr=Object.keys(er);for(const ir of rr){if(!nr.includes(ir))return!1;const ar=tr[ir],sr=er[ir];if(isObject$9(ar)&&isObject$9(sr)){if(!deepEqual$1(ar,sr))return!1}else if(ar!==sr)return!1}for(const ir of nr)if(!rr.includes(ir))return!1;return!0}function isObject$9(tr){return tr!==null&&typeof tr=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(tr){const er=[];for(const[rr,nr]of Object.entries(tr))Array.isArray(nr)?nr.forEach(ir=>{er.push(encodeURIComponent(rr)+"="+encodeURIComponent(ir))}):er.push(encodeURIComponent(rr)+"="+encodeURIComponent(nr));return er.length?"&"+er.join("&"):""}function querystringDecode(tr){const er={};return tr.replace(/^\?/,"").split("&").forEach(nr=>{if(nr){const[ir,ar]=nr.split("=");er[decodeURIComponent(ir)]=decodeURIComponent(ar)}}),er}function extractQuerystring(tr){const er=tr.indexOf("?");if(!er)return"";const rr=tr.indexOf("#",er);return tr.substring(er,rr>0?rr:void 0)}function createSubscribe(tr,er){const rr=new ObserverProxy(tr,er);return rr.subscribe.bind(rr)}class ObserverProxy{constructor(er,rr){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=rr,this.task.then(()=>{er(this)}).catch(nr=>{this.error(nr)})}next(er){this.forEachObserver(rr=>{rr.next(er)})}error(er){this.forEachObserver(rr=>{rr.error(er)}),this.close(er)}complete(){this.forEachObserver(er=>{er.complete()}),this.close()}subscribe(er,rr,nr){let ir;if(er===void 0&&rr===void 0&&nr===void 0)throw new Error("Missing Observer.");implementsAnyMethods(er,["next","error","complete"])?ir=er:ir={next:er,error:rr,complete:nr},ir.next===void 0&&(ir.next=noop$3),ir.error===void 0&&(ir.error=noop$3),ir.complete===void 0&&(ir.complete=noop$3);const ar=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ir.error(this.finalError):ir.complete()}catch{}}),this.observers.push(ir),ar}unsubscribeOne(er){this.observers===void 0||this.observers[er]===void 0||(delete this.observers[er],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(er){if(!this.finalized)for(let rr=0;rr<this.observers.length;rr++)this.sendOne(rr,er)}sendOne(er,rr){this.task.then(()=>{if(this.observers!==void 0&&this.observers[er]!==void 0)try{rr(this.observers[er])}catch(nr){typeof console<"u"&&console.error&&console.error(nr)}})}close(er){this.finalized||(this.finalized=!0,er!==void 0&&(this.finalError=er),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(tr,er){if(typeof tr!="object"||tr===null)return!1;for(const rr of er)if(rr in tr&&typeof tr[rr]=="function")return!0;return!1}function noop$3(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(tr){return tr&&tr._delegate?tr._delegate:tr}class Component{constructor(er,rr,nr){this.name=er,this.instanceFactory=rr,this.type=nr,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(er){return this.instantiationMode=er,this}setMultipleInstances(er){return this.multipleInstances=er,this}setServiceProps(er){return this.serviceProps=er,this}setInstanceCreatedCallback(er){return this.onInstanceCreated=er,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(er,rr){this.name=er,this.container=rr,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(er){const rr=this.normalizeInstanceIdentifier(er);if(!this.instancesDeferred.has(rr)){const nr=new Deferred;if(this.instancesDeferred.set(rr,nr),this.isInitialized(rr)||this.shouldAutoInitialize())try{const ir=this.getOrInitializeService({instanceIdentifier:rr});ir&&nr.resolve(ir)}catch{}}return this.instancesDeferred.get(rr).promise}getImmediate(er){var rr;const nr=this.normalizeInstanceIdentifier(er==null?void 0:er.identifier),ir=(rr=er==null?void 0:er.optional)!==null&&rr!==void 0?rr:!1;if(this.isInitialized(nr)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:nr})}catch(ar){if(ir)return null;throw ar}else{if(ir)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(er){if(er.name!==this.name)throw Error(`Mismatching Component ${er.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=er,!!this.shouldAutoInitialize()){if(isComponentEager(er))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[rr,nr]of this.instancesDeferred.entries()){const ir=this.normalizeInstanceIdentifier(rr);try{const ar=this.getOrInitializeService({instanceIdentifier:ir});nr.resolve(ar)}catch{}}}}clearInstance(er=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(er),this.instancesOptions.delete(er),this.instances.delete(er)}async delete(){const er=Array.from(this.instances.values());await Promise.all([...er.filter(rr=>"INTERNAL"in rr).map(rr=>rr.INTERNAL.delete()),...er.filter(rr=>"_delete"in rr).map(rr=>rr._delete())])}isComponentSet(){return this.component!=null}isInitialized(er=DEFAULT_ENTRY_NAME$1){return this.instances.has(er)}getOptions(er=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(er)||{}}initialize(er={}){const{options:rr={}}=er,nr=this.normalizeInstanceIdentifier(er.instanceIdentifier);if(this.isInitialized(nr))throw Error(`${this.name}(${nr}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ir=this.getOrInitializeService({instanceIdentifier:nr,options:rr});for(const[ar,sr]of this.instancesDeferred.entries()){const lr=this.normalizeInstanceIdentifier(ar);nr===lr&&sr.resolve(ir)}return ir}onInit(er,rr){var nr;const ir=this.normalizeInstanceIdentifier(rr),ar=(nr=this.onInitCallbacks.get(ir))!==null&&nr!==void 0?nr:new Set;ar.add(er),this.onInitCallbacks.set(ir,ar);const sr=this.instances.get(ir);return sr&&er(sr,ir),()=>{ar.delete(er)}}invokeOnInitCallbacks(er,rr){const nr=this.onInitCallbacks.get(rr);if(nr)for(const ir of nr)try{ir(er,rr)}catch{}}getOrInitializeService({instanceIdentifier:er,options:rr={}}){let nr=this.instances.get(er);if(!nr&&this.component&&(nr=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(er),options:rr}),this.instances.set(er,nr),this.instancesOptions.set(er,rr),this.invokeOnInitCallbacks(nr,er),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,er,nr)}catch{}return nr||null}normalizeInstanceIdentifier(er=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?er:DEFAULT_ENTRY_NAME$1:er}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(tr){return tr===DEFAULT_ENTRY_NAME$1?void 0:tr}function isComponentEager(tr){return tr.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(er){this.name=er,this.providers=new Map}addComponent(er){const rr=this.getProvider(er.name);if(rr.isComponentSet())throw new Error(`Component ${er.name} has already been registered with ${this.name}`);rr.setComponent(er)}addOrOverwriteComponent(er){this.getProvider(er.name).isComponentSet()&&this.providers.delete(er.name),this.addComponent(er)}getProvider(er){if(this.providers.has(er))return this.providers.get(er);const rr=new Provider(er,this);return this.providers.set(er,rr),rr}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(tr){tr[tr.DEBUG=0]="DEBUG",tr[tr.VERBOSE=1]="VERBOSE",tr[tr.INFO=2]="INFO",tr[tr.WARN=3]="WARN",tr[tr.ERROR=4]="ERROR",tr[tr.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(tr,er,...rr)=>{if(er<tr.logLevel)return;const nr=new Date().toISOString(),ir=ConsoleMethod[er];if(ir)console[ir](`[${nr}]  ${tr.name}:`,...rr);else throw new Error(`Attempted to log a message with an invalid logType (value: ${er})`)};class Logger{constructor(er){this.name=er,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(er){if(!(er in LogLevel))throw new TypeError(`Invalid value "${er}" assigned to \`logLevel\``);this._logLevel=er}setLogLevel(er){this._logLevel=typeof er=="string"?levelStringToEnum[er]:er}get logHandler(){return this._logHandler}set logHandler(er){if(typeof er!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=er}get userLogHandler(){return this._userLogHandler}set userLogHandler(er){this._userLogHandler=er}debug(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...er),this._logHandler(this,LogLevel.DEBUG,...er)}log(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...er),this._logHandler(this,LogLevel.VERBOSE,...er)}info(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...er),this._logHandler(this,LogLevel.INFO,...er)}warn(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...er),this._logHandler(this,LogLevel.WARN,...er)}error(...er){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...er),this._logHandler(this,LogLevel.ERROR,...er)}}const instanceOfAny=(tr,er)=>er.some(rr=>tr instanceof rr);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(tr){const er=new Promise((rr,nr)=>{const ir=()=>{tr.removeEventListener("success",ar),tr.removeEventListener("error",sr)},ar=()=>{rr(wrap(tr.result)),ir()},sr=()=>{nr(tr.error),ir()};tr.addEventListener("success",ar),tr.addEventListener("error",sr)});return er.then(rr=>{rr instanceof IDBCursor&&cursorRequestMap.set(rr,tr)}).catch(()=>{}),reverseTransformCache.set(er,tr),er}function cacheDonePromiseForTransaction(tr){if(transactionDoneMap.has(tr))return;const er=new Promise((rr,nr)=>{const ir=()=>{tr.removeEventListener("complete",ar),tr.removeEventListener("error",sr),tr.removeEventListener("abort",sr)},ar=()=>{rr(),ir()},sr=()=>{nr(tr.error||new DOMException("AbortError","AbortError")),ir()};tr.addEventListener("complete",ar),tr.addEventListener("error",sr),tr.addEventListener("abort",sr)});transactionDoneMap.set(tr,er)}let idbProxyTraps={get(tr,er,rr){if(tr instanceof IDBTransaction){if(er==="done")return transactionDoneMap.get(tr);if(er==="objectStoreNames")return tr.objectStoreNames||transactionStoreNamesMap.get(tr);if(er==="store")return rr.objectStoreNames[1]?void 0:rr.objectStore(rr.objectStoreNames[0])}return wrap(tr[er])},set(tr,er,rr){return tr[er]=rr,!0},has(tr,er){return tr instanceof IDBTransaction&&(er==="done"||er==="store")?!0:er in tr}};function replaceTraps(tr){idbProxyTraps=tr(idbProxyTraps)}function wrapFunction(tr){return tr===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(er,...rr){const nr=tr.call(unwrap(this),er,...rr);return transactionStoreNamesMap.set(nr,er.sort?er.sort():[er]),wrap(nr)}:getCursorAdvanceMethods().includes(tr)?function(...er){return tr.apply(unwrap(this),er),wrap(cursorRequestMap.get(this))}:function(...er){return wrap(tr.apply(unwrap(this),er))}}function transformCachableValue(tr){return typeof tr=="function"?wrapFunction(tr):(tr instanceof IDBTransaction&&cacheDonePromiseForTransaction(tr),instanceOfAny(tr,getIdbProxyableTypes())?new Proxy(tr,idbProxyTraps):tr)}function wrap(tr){if(tr instanceof IDBRequest)return promisifyRequest(tr);if(transformCache.has(tr))return transformCache.get(tr);const er=transformCachableValue(tr);return er!==tr&&(transformCache.set(tr,er),reverseTransformCache.set(er,tr)),er}const unwrap=tr=>reverseTransformCache.get(tr);function openDB(tr,er,{blocked:rr,upgrade:nr,blocking:ir,terminated:ar}={}){const sr=indexedDB.open(tr,er),lr=wrap(sr);return nr&&sr.addEventListener("upgradeneeded",or=>{nr(wrap(sr.result),or.oldVersion,or.newVersion,wrap(sr.transaction),or)}),rr&&sr.addEventListener("blocked",or=>rr(or.oldVersion,or.newVersion,or)),lr.then(or=>{ar&&or.addEventListener("close",()=>ar()),ir&&or.addEventListener("versionchange",cr=>ir(cr.oldVersion,cr.newVersion,cr))}).catch(()=>{}),lr}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(tr,er){if(!(tr instanceof IDBDatabase&&!(er in tr)&&typeof er=="string"))return;if(cachedMethods.get(er))return cachedMethods.get(er);const rr=er.replace(/FromIndex$/,""),nr=er!==rr,ir=writeMethods.includes(rr);if(!(rr in(nr?IDBIndex:IDBObjectStore).prototype)||!(ir||readMethods.includes(rr)))return;const ar=async function(sr,...lr){const or=this.transaction(sr,ir?"readwrite":"readonly");let cr=or.store;return nr&&(cr=cr.index(lr.shift())),(await Promise.all([cr[rr](...lr),ir&&or.done]))[0]};return cachedMethods.set(er,ar),ar}replaceTraps(tr=>({...tr,get:(er,rr,nr)=>getMethod(er,rr)||tr.get(er,rr,nr),has:(er,rr)=>!!getMethod(er,rr)||tr.has(er,rr)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(er){this.container=er}getPlatformInfoString(){return this.container.getProviders().map(rr=>{if(isVersionServiceProvider(rr)){const nr=rr.getImmediate();return`${nr.library}/${nr.version}`}else return null}).filter(rr=>rr).join(" ")}}function isVersionServiceProvider(tr){const er=tr.getComponent();return(er==null?void 0:er.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(tr,er){try{tr.container.addComponent(er)}catch(rr){logger.debug(`Component ${er.name} failed to register with FirebaseApp ${tr.name}`,rr)}}function _registerComponent(tr){const er=tr.name;if(_components.has(er))return logger.debug(`There were multiple attempts to register component ${er}.`),!1;_components.set(er,tr);for(const rr of _apps.values())_addComponent(rr,tr);for(const rr of _serverApps.values())_addComponent(rr,tr);return!0}function _getProvider(tr,er){const rr=tr.container.getProvider("heartbeat").getImmediate({optional:!0});return rr&&rr.triggerHeartbeat(),tr.container.getProvider(er)}function _isFirebaseServerApp(tr){return tr.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(er,rr,nr){this._isDeleted=!1,this._options=Object.assign({},er),this._config=Object.assign({},rr),this._name=rr.name,this._automaticDataCollectionEnabled=rr.automaticDataCollectionEnabled,this._container=nr,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(er){this.checkDestroyed(),this._automaticDataCollectionEnabled=er}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(er){this._isDeleted=er}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(tr,er={}){let rr=tr;typeof er!="object"&&(er={name:er});const nr=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},er),ir=nr.name;if(typeof ir!="string"||!ir)throw ERROR_FACTORY.create("bad-app-name",{appName:String(ir)});if(rr||(rr=getDefaultAppConfig()),!rr)throw ERROR_FACTORY.create("no-options");const ar=_apps.get(ir);if(ar){if(deepEqual$1(rr,ar.options)&&deepEqual$1(nr,ar.config))return ar;throw ERROR_FACTORY.create("duplicate-app",{appName:ir})}const sr=new ComponentContainer(ir);for(const or of _components.values())sr.addComponent(or);const lr=new FirebaseAppImpl(rr,nr,sr);return _apps.set(ir,lr),lr}function getApp(tr=DEFAULT_ENTRY_NAME){const er=_apps.get(tr);if(!er&&tr===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!er)throw ERROR_FACTORY.create("no-app",{appName:tr});return er}function registerVersion(tr,er,rr){var nr;let ir=(nr=PLATFORM_LOG_STRING[tr])!==null&&nr!==void 0?nr:tr;rr&&(ir+=`-${rr}`);const ar=ir.match(/\s|\//),sr=er.match(/\s|\//);if(ar||sr){const lr=[`Unable to register library "${ir}" with version "${er}":`];ar&&lr.push(`library name "${ir}" contains illegal characters (whitespace or "/")`),ar&&sr&&lr.push("and"),sr&&lr.push(`version name "${er}" contains illegal characters (whitespace or "/")`),logger.warn(lr.join(" "));return}_registerComponent(new Component(`${ir}-version`,()=>({library:ir,version:er}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(tr,er)=>{switch(er){case 0:try{tr.createObjectStore(STORE_NAME)}catch(rr){console.warn(rr)}}}}).catch(tr=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:tr.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(tr){try{const rr=(await getDbPromise()).transaction(STORE_NAME),nr=await rr.objectStore(STORE_NAME).get(computeKey(tr));return await rr.done,nr}catch(er){if(er instanceof FirebaseError)logger.warn(er.message);else{const rr=ERROR_FACTORY.create("idb-get",{originalErrorMessage:er==null?void 0:er.message});logger.warn(rr.message)}}}async function writeHeartbeatsToIndexedDB(tr,er){try{const nr=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await nr.objectStore(STORE_NAME).put(er,computeKey(tr)),await nr.done}catch(rr){if(rr instanceof FirebaseError)logger.warn(rr.message);else{const nr=ERROR_FACTORY.create("idb-set",{originalErrorMessage:rr==null?void 0:rr.message});logger.warn(nr.message)}}}function computeKey(tr){return`${tr.name}!${tr.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(er){this.container=er,this._heartbeatsCache=null;const rr=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(rr),this._heartbeatsCachePromise=this._storage.read().then(nr=>(this._heartbeatsCache=nr,nr))}async triggerHeartbeat(){var er,rr;try{const ir=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ar=getUTCDateString();return((er=this._heartbeatsCache)===null||er===void 0?void 0:er.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((rr=this._heartbeatsCache)===null||rr===void 0?void 0:rr.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===ar||this._heartbeatsCache.heartbeats.some(sr=>sr.date===ar)?void 0:(this._heartbeatsCache.heartbeats.push({date:ar,agent:ir}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(sr=>{const lr=new Date(sr.date).valueOf();return Date.now()-lr<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(nr){logger.warn(nr)}}async getHeartbeatsHeader(){var er;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((er=this._heartbeatsCache)===null||er===void 0?void 0:er.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const rr=getUTCDateString(),{heartbeatsToSend:nr,unsentEntries:ir}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),ar=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:nr}));return this._heartbeatsCache.lastSentHeartbeatDate=rr,ir.length>0?(this._heartbeatsCache.heartbeats=ir,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ar}catch(rr){return logger.warn(rr),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(tr,er=MAX_HEADER_BYTES){const rr=[];let nr=tr.slice();for(const ir of tr){const ar=rr.find(sr=>sr.agent===ir.agent);if(ar){if(ar.dates.push(ir.date),countBytes(rr)>er){ar.dates.pop();break}}else if(rr.push({agent:ir.agent,dates:[ir.date]}),countBytes(rr)>er){rr.pop();break}nr=nr.slice(1)}return{heartbeatsToSend:rr,unsentEntries:nr}}class HeartbeatStorageImpl{constructor(er){this.app=er,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const rr=await readHeartbeatsFromIndexedDB(this.app);return rr!=null&&rr.heartbeats?rr:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(er){var rr;if(await this._canUseIndexedDBPromise){const ir=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(rr=er.lastSentHeartbeatDate)!==null&&rr!==void 0?rr:ir.lastSentHeartbeatDate,heartbeats:er.heartbeats})}else return}async add(er){var rr;if(await this._canUseIndexedDBPromise){const ir=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(rr=er.lastSentHeartbeatDate)!==null&&rr!==void 0?rr:ir.lastSentHeartbeatDate,heartbeats:[...ir.heartbeats,...er.heartbeats]})}else return}}function countBytes(tr){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:tr})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(tr){_registerComponent(new Component("platform-logger",er=>new PlatformLoggerServiceImpl(er),"PRIVATE")),_registerComponent(new Component("heartbeat",er=>new HeartbeatServiceImpl(er),"PRIVATE")),registerVersion(name$q,version$1$1,tr),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(tr,er){var rr={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&er.indexOf(nr)<0&&(rr[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)er.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(rr[nr[ir]]=tr[nr[ir]]);return rr}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(tr,...er){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${tr}`,...er)}function _logError(tr,...er){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${tr}`,...er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(tr,...er){throw createErrorInternal(tr,...er)}function _createError(tr,...er){return createErrorInternal(tr,...er)}function _errorWithCustomMessage(tr,er,rr){const nr=Object.assign(Object.assign({},prodErrorMap()),{[er]:rr});return new ErrorFactory("auth","Firebase",nr).create(er,{appName:tr.name})}function _serverAppCurrentUserOperationNotSupportedError(tr){return _errorWithCustomMessage(tr,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(tr,...er){if(typeof tr!="string"){const rr=er[0],nr=[...er.slice(1)];return nr[0]&&(nr[0].appName=tr.name),tr._errorFactory.create(rr,...nr)}return _DEFAULT_AUTH_ERROR_FACTORY.create(tr,...er)}function _assert(tr,er,...rr){if(!tr)throw createErrorInternal(er,...rr)}function debugFail(tr){const er="INTERNAL ASSERTION FAILED: "+tr;throw _logError(er),new Error(er)}function debugAssert(tr,er){tr||debugFail(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var tr;return typeof self<"u"&&((tr=self.location)===null||tr===void 0?void 0:tr.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var tr;return typeof self<"u"&&((tr=self.location)===null||tr===void 0?void 0:tr.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const tr=navigator;return tr.languages&&tr.languages[0]||tr.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(er,rr){this.shortDelay=er,this.longDelay=rr,debugAssert(rr>er,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(tr,er){debugAssert(tr.emulator,"Emulator should always be set here");const{url:rr}=tr.emulator;return er?`${rr}${er.startsWith("/")?er.slice(1):er}`:rr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(er,rr,nr){this.fetchImpl=er,rr&&(this.headersImpl=rr),nr&&(this.responseImpl=nr)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(tr,er){return tr.tenantId&&!er.tenantId?Object.assign(Object.assign({},er),{tenantId:tr.tenantId}):er}async function _performApiRequest(tr,er,rr,nr,ir={}){return _performFetchWithErrorHandling(tr,ir,async()=>{let ar={},sr={};nr&&(er==="GET"?sr=nr:ar={body:JSON.stringify(nr)});const lr=querystring(Object.assign({key:tr.config.apiKey},sr)).slice(1),or=await tr._getAdditionalHeaders();or["Content-Type"]="application/json",tr.languageCode&&(or["X-Firebase-Locale"]=tr.languageCode);const cr=Object.assign({method:er,headers:or},ar);return isCloudflareWorker()||(cr.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(tr,tr.config.apiHost,rr,lr),cr)})}async function _performFetchWithErrorHandling(tr,er,rr){tr._canInitEmulator=!1;const nr=Object.assign(Object.assign({},SERVER_ERROR_MAP),er);try{const ir=new NetworkTimeout(tr),ar=await Promise.race([rr(),ir.promise]);ir.clearNetworkTimeout();const sr=await ar.json();if("needConfirmation"in sr)throw _makeTaggedError(tr,"account-exists-with-different-credential",sr);if(ar.ok&&!("errorMessage"in sr))return sr;{const lr=ar.ok?sr.errorMessage:sr.error.message,[or,cr]=lr.split(" : ");if(or==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(tr,"credential-already-in-use",sr);if(or==="EMAIL_EXISTS")throw _makeTaggedError(tr,"email-already-in-use",sr);if(or==="USER_DISABLED")throw _makeTaggedError(tr,"user-disabled",sr);const ur=nr[or]||or.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw _errorWithCustomMessage(tr,ur,cr);_fail(tr,ur)}}catch(ir){if(ir instanceof FirebaseError)throw ir;_fail(tr,"network-request-failed",{message:String(ir)})}}async function _performSignInRequest(tr,er,rr,nr,ir={}){const ar=await _performApiRequest(tr,er,rr,nr,ir);return"mfaPendingCredential"in ar&&_fail(tr,"multi-factor-auth-required",{_serverResponse:ar}),ar}function _getFinalTarget(tr,er,rr,nr){const ir=`${er}${rr}?${nr}`;return tr.config.emulator?_emulatorUrl(tr.config,ir):`${tr.config.apiScheme}://${ir}`}function _parseEnforcementState(tr){switch(tr){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(er){this.auth=er,this.timer=null,this.promise=new Promise((rr,nr)=>{this.timer=setTimeout(()=>nr(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(tr,er,rr){const nr={appName:tr.name};rr.email&&(nr.email=rr.email),rr.phoneNumber&&(nr.phoneNumber=rr.phoneNumber);const ir=_createError(tr,er,nr);return ir.customData._tokenResponse=rr,ir}function isEnterprise(tr){return tr!==void 0&&tr.enterprise!==void 0}class RecaptchaConfig{constructor(er){if(this.siteKey="",this.recaptchaEnforcementState=[],er.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=er.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=er.recaptchaEnforcementState}getProviderEnforcementState(er){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const rr of this.recaptchaEnforcementState)if(rr.provider&&rr.provider===er)return _parseEnforcementState(rr.enforcementState);return null}isProviderEnabled(er){return this.getProviderEnforcementState(er)==="ENFORCE"||this.getProviderEnforcementState(er)==="AUDIT"}}async function getRecaptchaConfig(tr,er){return _performApiRequest(tr,"GET","/v2/recaptchaConfig",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(tr,er){return _performApiRequest(tr,"POST","/v1/accounts:delete",er)}async function getAccountInfo(tr,er){return _performApiRequest(tr,"POST","/v1/accounts:lookup",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(tr){if(tr)try{const er=new Date(Number(tr));if(!isNaN(er.getTime()))return er.toUTCString()}catch{}}async function getIdTokenResult(tr,er=!1){const rr=getModularInstance(tr),nr=await rr.getIdToken(er),ir=_parseToken(nr);_assert(ir&&ir.exp&&ir.auth_time&&ir.iat,rr.auth,"internal-error");const ar=typeof ir.firebase=="object"?ir.firebase:void 0,sr=ar==null?void 0:ar.sign_in_provider;return{claims:ir,token:nr,authTime:utcTimestampToDateString(secondsStringToMilliseconds(ir.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(ir.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(ir.exp)),signInProvider:sr||null,signInSecondFactor:(ar==null?void 0:ar.sign_in_second_factor)||null}}function secondsStringToMilliseconds(tr){return Number(tr)*1e3}function _parseToken(tr){const[er,rr,nr]=tr.split(".");if(er===void 0||rr===void 0||nr===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const ir=base64Decode(rr);return ir?JSON.parse(ir):(_logError("Failed to decode base64 JWT payload"),null)}catch(ir){return _logError("Caught error parsing JWT payload as JSON",ir==null?void 0:ir.toString()),null}}function _tokenExpiresIn(tr){const er=_parseToken(tr);return _assert(er,"internal-error"),_assert(typeof er.exp<"u","internal-error"),_assert(typeof er.iat<"u","internal-error"),Number(er.exp)-Number(er.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(tr,er,rr=!1){if(rr)return er;try{return await er}catch(nr){throw nr instanceof FirebaseError&&isUserInvalidated(nr)&&tr.auth.currentUser===tr&&await tr.auth.signOut(),nr}}function isUserInvalidated({code:tr}){return tr==="auth/user-disabled"||tr==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(er){this.user=er,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(er){var rr;if(er){const nr=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),nr}else{this.errorBackoff=3e4;const ir=((rr=this.user.stsTokenManager.expirationTime)!==null&&rr!==void 0?rr:0)-Date.now()-3e5;return Math.max(0,ir)}}schedule(er=!1){if(!this.isRunning)return;const rr=this.getInterval(er);this.timerId=setTimeout(async()=>{await this.iteration()},rr)}async iteration(){try{await this.user.getIdToken(!0)}catch(er){(er==null?void 0:er.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(er,rr){this.createdAt=er,this.lastLoginAt=rr,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(er){this.createdAt=er.createdAt,this.lastLoginAt=er.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(tr){var er;const rr=tr.auth,nr=await tr.getIdToken(),ir=await _logoutIfInvalidated(tr,getAccountInfo(rr,{idToken:nr}));_assert(ir==null?void 0:ir.users.length,rr,"internal-error");const ar=ir.users[0];tr._notifyReloadListener(ar);const sr=!((er=ar.providerUserInfo)===null||er===void 0)&&er.length?extractProviderData(ar.providerUserInfo):[],lr=mergeProviderData(tr.providerData,sr),or=tr.isAnonymous,cr=!(tr.email&&ar.passwordHash)&&!(lr!=null&&lr.length),ur=or?cr:!1,dr={uid:ar.localId,displayName:ar.displayName||null,photoURL:ar.photoUrl||null,email:ar.email||null,emailVerified:ar.emailVerified||!1,phoneNumber:ar.phoneNumber||null,tenantId:ar.tenantId||null,providerData:lr,metadata:new UserMetadata(ar.createdAt,ar.lastLoginAt),isAnonymous:ur};Object.assign(tr,dr)}async function reload(tr){const er=getModularInstance(tr);await _reloadWithoutSaving(er),await er.auth._persistUserIfCurrent(er),er.auth._notifyListenersIfCurrent(er)}function mergeProviderData(tr,er){return[...tr.filter(nr=>!er.some(ir=>ir.providerId===nr.providerId)),...er]}function extractProviderData(tr){return tr.map(er=>{var{providerId:rr}=er,nr=__rest(er,["providerId"]);return{providerId:rr,uid:nr.rawId||"",displayName:nr.displayName||null,email:nr.email||null,phoneNumber:nr.phoneNumber||null,photoURL:nr.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(tr,er){const rr=await _performFetchWithErrorHandling(tr,{},async()=>{const nr=querystring({grant_type:"refresh_token",refresh_token:er}).slice(1),{tokenApiHost:ir,apiKey:ar}=tr.config,sr=_getFinalTarget(tr,ir,"/v1/token",`key=${ar}`),lr=await tr._getAdditionalHeaders();return lr["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(sr,{method:"POST",headers:lr,body:nr})});return{accessToken:rr.access_token,expiresIn:rr.expires_in,refreshToken:rr.refresh_token}}async function revokeToken(tr,er){return _performApiRequest(tr,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(er){_assert(er.idToken,"internal-error"),_assert(typeof er.idToken<"u","internal-error"),_assert(typeof er.refreshToken<"u","internal-error");const rr="expiresIn"in er&&typeof er.expiresIn<"u"?Number(er.expiresIn):_tokenExpiresIn(er.idToken);this.updateTokensAndExpiration(er.idToken,er.refreshToken,rr)}updateFromIdToken(er){_assert(er.length!==0,"internal-error");const rr=_tokenExpiresIn(er);this.updateTokensAndExpiration(er,null,rr)}async getToken(er,rr=!1){return!rr&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,er,"user-token-expired"),this.refreshToken?(await this.refresh(er,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(er,rr){const{accessToken:nr,refreshToken:ir,expiresIn:ar}=await requestStsToken(er,rr);this.updateTokensAndExpiration(nr,ir,Number(ar))}updateTokensAndExpiration(er,rr,nr){this.refreshToken=rr||null,this.accessToken=er||null,this.expirationTime=Date.now()+nr*1e3}static fromJSON(er,rr){const{refreshToken:nr,accessToken:ir,expirationTime:ar}=rr,sr=new StsTokenManager;return nr&&(_assert(typeof nr=="string","internal-error",{appName:er}),sr.refreshToken=nr),ir&&(_assert(typeof ir=="string","internal-error",{appName:er}),sr.accessToken=ir),ar&&(_assert(typeof ar=="number","internal-error",{appName:er}),sr.expirationTime=ar),sr}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(er){this.accessToken=er.accessToken,this.refreshToken=er.refreshToken,this.expirationTime=er.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(tr,er){_assert(typeof tr=="string"||typeof tr>"u","internal-error",{appName:er})}class UserImpl{constructor(er){var{uid:rr,auth:nr,stsTokenManager:ir}=er,ar=__rest(er,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=rr,this.auth=nr,this.stsTokenManager=ir,this.accessToken=ir.accessToken,this.displayName=ar.displayName||null,this.email=ar.email||null,this.emailVerified=ar.emailVerified||!1,this.phoneNumber=ar.phoneNumber||null,this.photoURL=ar.photoURL||null,this.isAnonymous=ar.isAnonymous||!1,this.tenantId=ar.tenantId||null,this.providerData=ar.providerData?[...ar.providerData]:[],this.metadata=new UserMetadata(ar.createdAt||void 0,ar.lastLoginAt||void 0)}async getIdToken(er){const rr=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,er));return _assert(rr,this.auth,"internal-error"),this.accessToken!==rr&&(this.accessToken=rr,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),rr}getIdTokenResult(er){return getIdTokenResult(this,er)}reload(){return reload(this)}_assign(er){this!==er&&(_assert(this.uid===er.uid,this.auth,"internal-error"),this.displayName=er.displayName,this.photoURL=er.photoURL,this.email=er.email,this.emailVerified=er.emailVerified,this.phoneNumber=er.phoneNumber,this.isAnonymous=er.isAnonymous,this.tenantId=er.tenantId,this.providerData=er.providerData.map(rr=>Object.assign({},rr)),this.metadata._copy(er.metadata),this.stsTokenManager._assign(er.stsTokenManager))}_clone(er){const rr=new UserImpl(Object.assign(Object.assign({},this),{auth:er,stsTokenManager:this.stsTokenManager._clone()}));return rr.metadata._copy(this.metadata),rr}_onReload(er){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=er,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(er){this.reloadListener?this.reloadListener(er):this.reloadUserInfo=er}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(er,rr=!1){let nr=!1;er.idToken&&er.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(er),nr=!0),rr&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),nr&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const er=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:er})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(er=>Object.assign({},er)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(er,rr){var nr,ir,ar,sr,lr,or,cr,ur;const dr=(nr=rr.displayName)!==null&&nr!==void 0?nr:void 0,hr=(ir=rr.email)!==null&&ir!==void 0?ir:void 0,fr=(ar=rr.phoneNumber)!==null&&ar!==void 0?ar:void 0,mr=(sr=rr.photoURL)!==null&&sr!==void 0?sr:void 0,br=(lr=rr.tenantId)!==null&&lr!==void 0?lr:void 0,pr=(or=rr._redirectEventId)!==null&&or!==void 0?or:void 0,gr=(cr=rr.createdAt)!==null&&cr!==void 0?cr:void 0,yr=(ur=rr.lastLoginAt)!==null&&ur!==void 0?ur:void 0,{uid:vr,emailVerified:_r,isAnonymous:xr,providerData:Rr,stsTokenManager:Cr}=rr;_assert(vr&&Cr,er,"internal-error");const Tr=StsTokenManager.fromJSON(this.name,Cr);_assert(typeof vr=="string",er,"internal-error"),assertStringOrUndefined(dr,er.name),assertStringOrUndefined(hr,er.name),_assert(typeof _r=="boolean",er,"internal-error"),_assert(typeof xr=="boolean",er,"internal-error"),assertStringOrUndefined(fr,er.name),assertStringOrUndefined(mr,er.name),assertStringOrUndefined(br,er.name),assertStringOrUndefined(pr,er.name),assertStringOrUndefined(gr,er.name),assertStringOrUndefined(yr,er.name);const Ir=new UserImpl({uid:vr,auth:er,email:hr,emailVerified:_r,displayName:dr,isAnonymous:xr,photoURL:mr,phoneNumber:fr,tenantId:br,stsTokenManager:Tr,createdAt:gr,lastLoginAt:yr});return Rr&&Array.isArray(Rr)&&(Ir.providerData=Rr.map(Lr=>Object.assign({},Lr))),pr&&(Ir._redirectEventId=pr),Ir}static async _fromIdTokenResponse(er,rr,nr=!1){const ir=new StsTokenManager;ir.updateFromServerResponse(rr);const ar=new UserImpl({uid:rr.localId,auth:er,stsTokenManager:ir,isAnonymous:nr});return await _reloadWithoutSaving(ar),ar}static async _fromGetAccountInfoResponse(er,rr,nr){const ir=rr.users[0];_assert(ir.localId!==void 0,"internal-error");const ar=ir.providerUserInfo!==void 0?extractProviderData(ir.providerUserInfo):[],sr=!(ir.email&&ir.passwordHash)&&!(ar!=null&&ar.length),lr=new StsTokenManager;lr.updateFromIdToken(nr);const or=new UserImpl({uid:ir.localId,auth:er,stsTokenManager:lr,isAnonymous:sr}),cr={uid:ir.localId,displayName:ir.displayName||null,photoURL:ir.photoUrl||null,email:ir.email||null,emailVerified:ir.emailVerified||!1,phoneNumber:ir.phoneNumber||null,tenantId:ir.tenantId||null,providerData:ar,metadata:new UserMetadata(ir.createdAt,ir.lastLoginAt),isAnonymous:!(ir.email&&ir.passwordHash)&&!(ar!=null&&ar.length)};return Object.assign(or,cr),or}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(tr){debugAssert(tr instanceof Function,"Expected a class definition");let er=instanceCache.get(tr);return er?(debugAssert(er instanceof tr,"Instance stored in cache mismatched with class"),er):(er=new tr,instanceCache.set(tr,er),er)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(er,rr){this.storage[er]=rr}async _get(er){const rr=this.storage[er];return rr===void 0?null:rr}async _remove(er){delete this.storage[er]}_addListener(er,rr){}_removeListener(er,rr){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(tr,er,rr){return`firebase:${tr}:${er}:${rr}`}class PersistenceUserManager{constructor(er,rr,nr){this.persistence=er,this.auth=rr,this.userKey=nr;const{config:ir,name:ar}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,ir.apiKey,ar),this.fullPersistenceKey=_persistenceKeyName("persistence",ir.apiKey,ar),this.boundEventHandler=rr._onStorageEvent.bind(rr),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(er){return this.persistence._set(this.fullUserKey,er.toJSON())}async getCurrentUser(){const er=await this.persistence._get(this.fullUserKey);return er?UserImpl._fromJSON(this.auth,er):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(er){if(this.persistence===er)return;const rr=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=er,rr)return this.setCurrentUser(rr)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(er,rr,nr="authUser"){if(!rr.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),er,nr);const ir=(await Promise.all(rr.map(async cr=>{if(await cr._isAvailable())return cr}))).filter(cr=>cr);let ar=ir[0]||_getInstance(inMemoryPersistence);const sr=_persistenceKeyName(nr,er.config.apiKey,er.name);let lr=null;for(const cr of rr)try{const ur=await cr._get(sr);if(ur){const dr=UserImpl._fromJSON(er,ur);cr!==ar&&(lr=dr),ar=cr;break}}catch{}const or=ir.filter(cr=>cr._shouldAllowMigration);return!ar._shouldAllowMigration||!or.length?new PersistenceUserManager(ar,er,nr):(ar=or[0],lr&&await ar._set(sr,lr.toJSON()),await Promise.all(rr.map(async cr=>{if(cr!==ar)try{await cr._remove(sr)}catch{}})),new PersistenceUserManager(ar,er,nr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(tr){const er=tr.toLowerCase();if(er.includes("opera/")||er.includes("opr/")||er.includes("opios/"))return"Opera";if(_isIEMobile(er))return"IEMobile";if(er.includes("msie")||er.includes("trident/"))return"IE";if(er.includes("edge/"))return"Edge";if(_isFirefox(er))return"Firefox";if(er.includes("silk/"))return"Silk";if(_isBlackBerry(er))return"Blackberry";if(_isWebOS(er))return"Webos";if(_isSafari(er))return"Safari";if((er.includes("chrome/")||_isChromeIOS(er))&&!er.includes("edge/"))return"Chrome";if(_isAndroid(er))return"Android";{const rr=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,nr=tr.match(rr);if((nr==null?void 0:nr.length)===2)return nr[1]}return"Other"}function _isFirefox(tr=getUA()){return/firefox\//i.test(tr)}function _isSafari(tr=getUA()){const er=tr.toLowerCase();return er.includes("safari/")&&!er.includes("chrome/")&&!er.includes("crios/")&&!er.includes("android")}function _isChromeIOS(tr=getUA()){return/crios\//i.test(tr)}function _isIEMobile(tr=getUA()){return/iemobile/i.test(tr)}function _isAndroid(tr=getUA()){return/android/i.test(tr)}function _isBlackBerry(tr=getUA()){return/blackberry/i.test(tr)}function _isWebOS(tr=getUA()){return/webos/i.test(tr)}function _isIOS(tr=getUA()){return/iphone|ipad|ipod/i.test(tr)||/macintosh/i.test(tr)&&/mobile/i.test(tr)}function _isIOSStandalone(tr=getUA()){var er;return _isIOS(tr)&&!!(!((er=window.navigator)===null||er===void 0)&&er.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(tr=getUA()){return _isIOS(tr)||_isAndroid(tr)||_isWebOS(tr)||_isBlackBerry(tr)||/windows phone/i.test(tr)||_isIEMobile(tr)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(tr,er=[]){let rr;switch(tr){case"Browser":rr=_getBrowserName(getUA());break;case"Worker":rr=`${_getBrowserName(getUA())}-${tr}`;break;default:rr=tr}const nr=er.length?er.join(","):"FirebaseCore-web";return`${rr}/JsCore/${SDK_VERSION}/${nr}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(er){this.auth=er,this.queue=[]}pushCallback(er,rr){const nr=ar=>new Promise((sr,lr)=>{try{const or=er(ar);sr(or)}catch(or){lr(or)}});nr.onAbort=rr,this.queue.push(nr);const ir=this.queue.length-1;return()=>{this.queue[ir]=()=>Promise.resolve()}}async runMiddleware(er){if(this.auth.currentUser===er)return;const rr=[];try{for(const nr of this.queue)await nr(er),nr.onAbort&&rr.push(nr.onAbort)}catch(nr){rr.reverse();for(const ir of rr)try{ir()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:nr==null?void 0:nr.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(tr,er={}){return _performApiRequest(tr,"GET","/v2/passwordPolicy",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(er){var rr,nr,ir,ar;const sr=er.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(rr=sr.minPasswordLength)!==null&&rr!==void 0?rr:MINIMUM_MIN_PASSWORD_LENGTH,sr.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=sr.maxPasswordLength),sr.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=sr.containsLowercaseCharacter),sr.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=sr.containsUppercaseCharacter),sr.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=sr.containsNumericCharacter),sr.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=sr.containsNonAlphanumericCharacter),this.enforcementState=er.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(ir=(nr=er.allowedNonAlphanumericCharacters)===null||nr===void 0?void 0:nr.join(""))!==null&&ir!==void 0?ir:"",this.forceUpgradeOnSignin=(ar=er.forceUpgradeOnSignin)!==null&&ar!==void 0?ar:!1,this.schemaVersion=er.schemaVersion}validatePassword(er){var rr,nr,ir,ar,sr,lr;const or={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(er,or),this.validatePasswordCharacterOptions(er,or),or.isValid&&(or.isValid=(rr=or.meetsMinPasswordLength)!==null&&rr!==void 0?rr:!0),or.isValid&&(or.isValid=(nr=or.meetsMaxPasswordLength)!==null&&nr!==void 0?nr:!0),or.isValid&&(or.isValid=(ir=or.containsLowercaseLetter)!==null&&ir!==void 0?ir:!0),or.isValid&&(or.isValid=(ar=or.containsUppercaseLetter)!==null&&ar!==void 0?ar:!0),or.isValid&&(or.isValid=(sr=or.containsNumericCharacter)!==null&&sr!==void 0?sr:!0),or.isValid&&(or.isValid=(lr=or.containsNonAlphanumericCharacter)!==null&&lr!==void 0?lr:!0),or}validatePasswordLengthOptions(er,rr){const nr=this.customStrengthOptions.minPasswordLength,ir=this.customStrengthOptions.maxPasswordLength;nr&&(rr.meetsMinPasswordLength=er.length>=nr),ir&&(rr.meetsMaxPasswordLength=er.length<=ir)}validatePasswordCharacterOptions(er,rr){this.updatePasswordCharacterOptionsStatuses(rr,!1,!1,!1,!1);let nr;for(let ir=0;ir<er.length;ir++)nr=er.charAt(ir),this.updatePasswordCharacterOptionsStatuses(rr,nr>="a"&&nr<="z",nr>="A"&&nr<="Z",nr>="0"&&nr<="9",this.allowedNonAlphanumericCharacters.includes(nr))}updatePasswordCharacterOptionsStatuses(er,rr,nr,ir,ar){this.customStrengthOptions.containsLowercaseLetter&&(er.containsLowercaseLetter||(er.containsLowercaseLetter=rr)),this.customStrengthOptions.containsUppercaseLetter&&(er.containsUppercaseLetter||(er.containsUppercaseLetter=nr)),this.customStrengthOptions.containsNumericCharacter&&(er.containsNumericCharacter||(er.containsNumericCharacter=ir)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(er.containsNonAlphanumericCharacter||(er.containsNonAlphanumericCharacter=ar))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(er,rr,nr,ir){this.app=er,this.heartbeatServiceProvider=rr,this.appCheckServiceProvider=nr,this.config=ir,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=er.name,this.clientVersion=ir.sdkClientVersion}_initializeWithPersistence(er,rr){return rr&&(this._popupRedirectResolver=_getInstance(rr)),this._initializationPromise=this.queue(async()=>{var nr,ir;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,er),!this._deleted)){if(!((nr=this._popupRedirectResolver)===null||nr===void 0)&&nr._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(rr),this.lastNotifiedUid=((ir=this.currentUser)===null||ir===void 0?void 0:ir.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const er=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!er)){if(this.currentUser&&er&&this.currentUser.uid===er.uid){this._currentUser._assign(er),await this.currentUser.getIdToken();return}await this._updateCurrentUser(er,!0)}}async initializeCurrentUserFromIdToken(er){try{const rr=await getAccountInfo(this,{idToken:er}),nr=await UserImpl._fromGetAccountInfoResponse(this,rr,er);await this.directlySetCurrentUser(nr)}catch(rr){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",rr),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(er){var rr;if(_isFirebaseServerApp(this.app)){const sr=this.app.settings.authIdToken;return sr?new Promise(lr=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(sr).then(lr,lr))}):this.directlySetCurrentUser(null)}const nr=await this.assertedPersistence.getCurrentUser();let ir=nr,ar=!1;if(er&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const sr=(rr=this.redirectUser)===null||rr===void 0?void 0:rr._redirectEventId,lr=ir==null?void 0:ir._redirectEventId,or=await this.tryRedirectSignIn(er);(!sr||sr===lr)&&(or!=null&&or.user)&&(ir=or.user,ar=!0)}if(!ir)return this.directlySetCurrentUser(null);if(!ir._redirectEventId){if(ar)try{await this.beforeStateQueue.runMiddleware(ir)}catch(sr){ir=nr,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(sr))}return ir?this.reloadAndSetCurrentUserOrClear(ir):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===ir._redirectEventId?this.directlySetCurrentUser(ir):this.reloadAndSetCurrentUserOrClear(ir)}async tryRedirectSignIn(er){let rr=null;try{rr=await this._popupRedirectResolver._completeRedirectFn(this,er,!0)}catch{await this._setRedirectUser(null)}return rr}async reloadAndSetCurrentUserOrClear(er){try{await _reloadWithoutSaving(er)}catch(rr){if((rr==null?void 0:rr.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(er)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(er){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const rr=er?getModularInstance(er):null;return rr&&_assert(rr.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(rr&&rr._clone(this))}async _updateCurrentUser(er,rr=!1){if(!this._deleted)return er&&_assert(this.tenantId===er.tenantId,this,"tenant-id-mismatch"),rr||await this.beforeStateQueue.runMiddleware(er),this.queue(async()=>{await this.directlySetCurrentUser(er),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(er){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(er))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(er){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const rr=this._getPasswordPolicyInternal();return rr.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):rr.validatePassword(er)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const er=await _getPasswordPolicy(this),rr=new PasswordPolicyImpl(er);this.tenantId===null?this._projectPasswordPolicy=rr:this._tenantPasswordPolicies[this.tenantId]=rr}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(er){this._errorFactory=new ErrorFactory("auth","Firebase",er())}onAuthStateChanged(er,rr,nr){return this.registerStateListener(this.authStateSubscription,er,rr,nr)}beforeAuthStateChanged(er,rr){return this.beforeStateQueue.pushCallback(er,rr)}onIdTokenChanged(er,rr,nr){return this.registerStateListener(this.idTokenSubscription,er,rr,nr)}authStateReady(){return new Promise((er,rr)=>{if(this.currentUser)er();else{const nr=this.onAuthStateChanged(()=>{nr(),er()},rr)}})}async revokeAccessToken(er){if(this.currentUser){const rr=await this.currentUser.getIdToken(),nr={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:er,idToken:rr};this.tenantId!=null&&(nr.tenantId=this.tenantId),await revokeToken(this,nr)}}toJSON(){var er;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(er=this._currentUser)===null||er===void 0?void 0:er.toJSON()}}async _setRedirectUser(er,rr){const nr=await this.getOrInitRedirectPersistenceManager(rr);return er===null?nr.removeCurrentUser():nr.setCurrentUser(er)}async getOrInitRedirectPersistenceManager(er){if(!this.redirectPersistenceManager){const rr=er&&_getInstance(er)||this._popupRedirectResolver;_assert(rr,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(rr._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(er){var rr,nr;return this._isInitialized&&await this.queue(async()=>{}),((rr=this._currentUser)===null||rr===void 0?void 0:rr._redirectEventId)===er?this._currentUser:((nr=this.redirectUser)===null||nr===void 0?void 0:nr._redirectEventId)===er?this.redirectUser:null}async _persistUserIfCurrent(er){if(er===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(er))}_notifyListenersIfCurrent(er){er===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var er,rr;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const nr=(rr=(er=this.currentUser)===null||er===void 0?void 0:er.uid)!==null&&rr!==void 0?rr:null;this.lastNotifiedUid!==nr&&(this.lastNotifiedUid=nr,this.authStateSubscription.next(this.currentUser))}registerStateListener(er,rr,nr,ir){if(this._deleted)return()=>{};const ar=typeof rr=="function"?rr:rr.next.bind(rr);let sr=!1;const lr=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(lr,this,"internal-error"),lr.then(()=>{sr||ar(this.currentUser)}),typeof rr=="function"){const or=er.addObserver(rr,nr,ir);return()=>{sr=!0,or()}}else{const or=er.addObserver(rr);return()=>{sr=!0,or()}}}async directlySetCurrentUser(er){this.currentUser&&this.currentUser!==er&&this._currentUser._stopProactiveRefresh(),er&&this.isProactiveRefreshEnabled&&er._startProactiveRefresh(),this.currentUser=er,er?await this.assertedPersistence.setCurrentUser(er):await this.assertedPersistence.removeCurrentUser()}queue(er){return this.operations=this.operations.then(er,er),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(er){!er||this.frameworks.includes(er)||(this.frameworks.push(er),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var er;const rr={"X-Client-Version":this.clientVersion};this.app.options.appId&&(rr["X-Firebase-gmpid"]=this.app.options.appId);const nr=await((er=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||er===void 0?void 0:er.getHeartbeatsHeader());nr&&(rr["X-Firebase-Client"]=nr);const ir=await this._getAppCheckToken();return ir&&(rr["X-Firebase-AppCheck"]=ir),rr}async _getAppCheckToken(){var er;const rr=await((er=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||er===void 0?void 0:er.getToken());return rr!=null&&rr.error&&_logWarn(`Error while retrieving App Check token: ${rr.error}`),rr==null?void 0:rr.token}}function _castAuth(tr){return getModularInstance(tr)}class Subscription{constructor(er){this.auth=er,this.observer=null,this.addObserver=createSubscribe(rr=>this.observer=rr)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(tr){externalJSProvider=tr}function _loadJS(tr){return externalJSProvider.loadJS(tr)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(tr){return`__${tr}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(er){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(er)}async verify(er="verify",rr=!1){async function nr(ar){if(!rr){if(ar.tenantId==null&&ar._agentRecaptchaConfig!=null)return ar._agentRecaptchaConfig.siteKey;if(ar.tenantId!=null&&ar._tenantRecaptchaConfigs[ar.tenantId]!==void 0)return ar._tenantRecaptchaConfigs[ar.tenantId].siteKey}return new Promise(async(sr,lr)=>{getRecaptchaConfig(ar,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(or=>{if(or.recaptchaKey===void 0)lr(new Error("recaptcha Enterprise site key undefined"));else{const cr=new RecaptchaConfig(or);return ar.tenantId==null?ar._agentRecaptchaConfig=cr:ar._tenantRecaptchaConfigs[ar.tenantId]=cr,sr(cr.siteKey)}}).catch(or=>{lr(or)})})}function ir(ar,sr,lr){const or=window.grecaptcha;isEnterprise(or)?or.enterprise.ready(()=>{or.enterprise.execute(ar,{action:er}).then(cr=>{sr(cr)}).catch(()=>{sr(FAKE_TOKEN)})}):lr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ar,sr)=>{nr(this.auth).then(lr=>{if(!rr&&isEnterprise(window.grecaptcha))ir(lr,ar,sr);else{if(typeof window>"u"){sr(new Error("RecaptchaVerifier is only supported in browser"));return}let or=_recaptchaEnterpriseScriptUrl();or.length!==0&&(or+=lr),_loadJS(or).then(()=>{ir(lr,ar,sr)}).catch(cr=>{sr(cr)})}}).catch(lr=>{sr(lr)})})}}async function injectRecaptchaFields(tr,er,rr,nr=!1){const ir=new RecaptchaEnterpriseVerifier(tr);let ar;try{ar=await ir.verify(rr)}catch{ar=await ir.verify(rr,!0)}const sr=Object.assign({},er);return nr?Object.assign(sr,{captchaResp:ar}):Object.assign(sr,{captchaResponse:ar}),Object.assign(sr,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(sr,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),sr}async function handleRecaptchaFlow(tr,er,rr,nr){var ir;if(!((ir=tr._getRecaptchaConfig())===null||ir===void 0)&&ir.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ar=await injectRecaptchaFields(tr,er,rr,rr==="getOobCode");return nr(tr,ar)}else return nr(tr,er).catch(async ar=>{if(ar.code==="auth/missing-recaptcha-token"){console.log(`${rr} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const sr=await injectRecaptchaFields(tr,er,rr,rr==="getOobCode");return nr(tr,sr)}else return Promise.reject(ar)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(tr,er){const rr=_getProvider(tr,"auth");if(rr.isInitialized()){const ir=rr.getImmediate(),ar=rr.getOptions();if(deepEqual$1(ar,er??{}))return ir;_fail(ir,"already-initialized")}return rr.initialize({options:er})}function _initializeAuthInstance(tr,er){const rr=(er==null?void 0:er.persistence)||[],nr=(Array.isArray(rr)?rr:[rr]).map(_getInstance);er!=null&&er.errorMap&&tr._updateErrorMap(er.errorMap),tr._initializeWithPersistence(nr,er==null?void 0:er.popupRedirectResolver)}function connectAuthEmulator(tr,er,rr){const nr=_castAuth(tr);_assert(nr._canInitEmulator,nr,"emulator-config-failed"),_assert(/^https?:\/\//.test(er),nr,"invalid-emulator-scheme");const ir=!1,ar=extractProtocol(er),{host:sr,port:lr}=extractHostAndPort(er),or=lr===null?"":`:${lr}`;nr.config.emulator={url:`${ar}//${sr}${or}/`},nr.settings.appVerificationDisabledForTesting=!0,nr.emulatorConfig=Object.freeze({host:sr,port:lr,protocol:ar.replace(":",""),options:Object.freeze({disableWarnings:ir})}),emitEmulatorWarning()}function extractProtocol(tr){const er=tr.indexOf(":");return er<0?"":tr.substr(0,er+1)}function extractHostAndPort(tr){const er=extractProtocol(tr),rr=/(\/\/)?([^?#/]+)/.exec(tr.substr(er.length));if(!rr)return{host:"",port:null};const nr=rr[2].split("@").pop()||"",ir=/^(\[[^\]]+\])(:|$)/.exec(nr);if(ir){const ar=ir[1];return{host:ar,port:parsePort(nr.substr(ar.length+1))}}else{const[ar,sr]=nr.split(":");return{host:ar,port:parsePort(sr)}}}function parsePort(tr){if(!tr)return null;const er=Number(tr);return isNaN(er)?null:er}function emitEmulatorWarning(){function tr(){const er=document.createElement("p"),rr=er.style;er.innerText="Running in emulator mode. Do not use with production credentials.",rr.position="fixed",rr.width="100%",rr.backgroundColor="#ffffff",rr.border=".1em solid #000000",rr.color="#b50000",rr.bottom="0px",rr.left="0px",rr.margin="0px",rr.zIndex="10000",rr.textAlign="center",er.classList.add("firebase-emulator-warning"),document.body.appendChild(er)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",tr):tr())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(er,rr){this.providerId=er,this.signInMethod=rr}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(er){return debugFail("not implemented")}_linkToIdToken(er,rr){return debugFail("not implemented")}_getReauthenticationResolver(er){return debugFail("not implemented")}}async function linkEmailPassword(tr,er){return _performApiRequest(tr,"POST","/v1/accounts:signUp",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(tr,er){return _performSignInRequest(tr,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(tr,er){return _performSignInRequest(tr,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(tr,er))}async function signInWithEmailLinkForLinking(tr,er){return _performSignInRequest(tr,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(er,rr,nr,ir=null){super("password",nr),this._email=er,this._password=rr,this._tenantId=ir}static _fromEmailAndPassword(er,rr){return new EmailAuthCredential(er,rr,"password")}static _fromEmailAndCode(er,rr,nr=null){return new EmailAuthCredential(er,rr,"emailLink",nr)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(er){const rr=typeof er=="string"?JSON.parse(er):er;if(rr!=null&&rr.email&&(rr!=null&&rr.password)){if(rr.signInMethod==="password")return this._fromEmailAndPassword(rr.email,rr.password);if(rr.signInMethod==="emailLink")return this._fromEmailAndCode(rr.email,rr.password,rr.tenantId)}return null}async _getIdTokenResponse(er){switch(this.signInMethod){case"password":const rr={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(er,rr,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(er,{email:this._email,oobCode:this._password});default:_fail(er,"internal-error")}}async _linkToIdToken(er,rr){switch(this.signInMethod){case"password":const nr={idToken:rr,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(er,nr,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(er,{idToken:rr,email:this._email,oobCode:this._password});default:_fail(er,"internal-error")}}_getReauthenticationResolver(er){return this._getIdTokenResponse(er)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(tr,er){return _performSignInRequest(tr,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(tr,er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(er){const rr=new OAuthCredential(er.providerId,er.signInMethod);return er.idToken||er.accessToken?(er.idToken&&(rr.idToken=er.idToken),er.accessToken&&(rr.accessToken=er.accessToken),er.nonce&&!er.pendingToken&&(rr.nonce=er.nonce),er.pendingToken&&(rr.pendingToken=er.pendingToken)):er.oauthToken&&er.oauthTokenSecret?(rr.accessToken=er.oauthToken,rr.secret=er.oauthTokenSecret):_fail("argument-error"),rr}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(er){const rr=typeof er=="string"?JSON.parse(er):er,{providerId:nr,signInMethod:ir}=rr,ar=__rest(rr,["providerId","signInMethod"]);if(!nr||!ir)return null;const sr=new OAuthCredential(nr,ir);return sr.idToken=ar.idToken||void 0,sr.accessToken=ar.accessToken||void 0,sr.secret=ar.secret,sr.nonce=ar.nonce,sr.pendingToken=ar.pendingToken||null,sr}_getIdTokenResponse(er){const rr=this.buildRequest();return signInWithIdp(er,rr)}_linkToIdToken(er,rr){const nr=this.buildRequest();return nr.idToken=rr,signInWithIdp(er,nr)}_getReauthenticationResolver(er){const rr=this.buildRequest();return rr.autoCreate=!1,signInWithIdp(er,rr)}buildRequest(){const er={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)er.pendingToken=this.pendingToken;else{const rr={};this.idToken&&(rr.id_token=this.idToken),this.accessToken&&(rr.access_token=this.accessToken),this.secret&&(rr.oauth_token_secret=this.secret),rr.providerId=this.providerId,this.nonce&&!this.pendingToken&&(rr.nonce=this.nonce),er.postBody=querystring(rr)}return er}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(tr){switch(tr){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(tr){const er=querystringDecode(extractQuerystring(tr)).link,rr=er?querystringDecode(extractQuerystring(er)).deep_link_id:null,nr=querystringDecode(extractQuerystring(tr)).deep_link_id;return(nr?querystringDecode(extractQuerystring(nr)).link:null)||nr||rr||er||tr}class ActionCodeURL{constructor(er){var rr,nr,ir,ar,sr,lr;const or=querystringDecode(extractQuerystring(er)),cr=(rr=or.apiKey)!==null&&rr!==void 0?rr:null,ur=(nr=or.oobCode)!==null&&nr!==void 0?nr:null,dr=parseMode((ir=or.mode)!==null&&ir!==void 0?ir:null);_assert(cr&&ur&&dr,"argument-error"),this.apiKey=cr,this.operation=dr,this.code=ur,this.continueUrl=(ar=or.continueUrl)!==null&&ar!==void 0?ar:null,this.languageCode=(sr=or.languageCode)!==null&&sr!==void 0?sr:null,this.tenantId=(lr=or.tenantId)!==null&&lr!==void 0?lr:null}static parseLink(er){const rr=parseDeepLink(er);try{return new ActionCodeURL(rr)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(er,rr){return EmailAuthCredential._fromEmailAndPassword(er,rr)}static credentialWithLink(er,rr){const nr=ActionCodeURL.parseLink(rr);return _assert(nr,"argument-error"),EmailAuthCredential._fromEmailAndCode(er,nr.code,nr.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(er){this.providerId=er,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(er){this.defaultLanguageCode=er}setCustomParameters(er){return this.customParameters=er,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(er){return this.scopes.includes(er)||this.scopes.push(er),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(er){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return FacebookAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return FacebookAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(er.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(er,rr){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:er,accessToken:rr})}static credentialFromResult(er){return GoogleAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GoogleAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;const{oauthIdToken:rr,oauthAccessToken:nr}=er;if(!rr&&!nr)return null;try{return GoogleAuthProvider.credential(rr,nr)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(er){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return GithubAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GithubAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return GithubAuthProvider.credential(er.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(er,rr){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:er,oauthTokenSecret:rr})}static credentialFromResult(er){return TwitterAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return TwitterAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;const{oauthAccessToken:rr,oauthTokenSecret:nr}=er;if(!rr||!nr)return null;try{return TwitterAuthProvider.credential(rr,nr)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(er){this.user=er.user,this.providerId=er.providerId,this._tokenResponse=er._tokenResponse,this.operationType=er.operationType}static async _fromIdTokenResponse(er,rr,nr,ir=!1){const ar=await UserImpl._fromIdTokenResponse(er,nr,ir),sr=providerIdForResponse(nr);return new UserCredentialImpl({user:ar,providerId:sr,_tokenResponse:nr,operationType:rr})}static async _forOperation(er,rr,nr){await er._updateTokensIfNecessary(nr,!0);const ir=providerIdForResponse(nr);return new UserCredentialImpl({user:er,providerId:ir,_tokenResponse:nr,operationType:rr})}}function providerIdForResponse(tr){return tr.providerId?tr.providerId:"phoneNumber"in tr?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(er,rr,nr,ir){var ar;super(rr.code,rr.message),this.operationType=nr,this.user=ir,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:er.name,tenantId:(ar=er.tenantId)!==null&&ar!==void 0?ar:void 0,_serverResponse:rr.customData._serverResponse,operationType:nr}}static _fromErrorAndOperation(er,rr,nr,ir){return new MultiFactorError(er,rr,nr,ir)}}function _processCredentialSavingMfaContextIfNecessary(tr,er,rr,nr){return(er==="reauthenticate"?rr._getReauthenticationResolver(tr):rr._getIdTokenResponse(tr)).catch(ar=>{throw ar.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(tr,ar,er,nr):ar})}async function _link$1(tr,er,rr=!1){const nr=await _logoutIfInvalidated(tr,er._linkToIdToken(tr.auth,await tr.getIdToken()),rr);return UserCredentialImpl._forOperation(tr,"link",nr)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(tr,er,rr=!1){const{auth:nr}=tr;if(_isFirebaseServerApp(nr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(nr));const ir="reauthenticate";try{const ar=await _logoutIfInvalidated(tr,_processCredentialSavingMfaContextIfNecessary(nr,ir,er,tr),rr);_assert(ar.idToken,nr,"internal-error");const sr=_parseToken(ar.idToken);_assert(sr,nr,"internal-error");const{sub:lr}=sr;return _assert(tr.uid===lr,nr,"user-mismatch"),UserCredentialImpl._forOperation(tr,ir,ar)}catch(ar){throw(ar==null?void 0:ar.code)==="auth/user-not-found"&&_fail(nr,"user-mismatch"),ar}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(tr,er,rr=!1){if(_isFirebaseServerApp(tr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(tr));const nr="signIn",ir=await _processCredentialSavingMfaContextIfNecessary(tr,nr,er),ar=await UserCredentialImpl._fromIdTokenResponse(tr,nr,ir);return rr||await tr._updateCurrentUser(ar.user),ar}async function signInWithCredential(tr,er){return _signInWithCredential(_castAuth(tr),er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(tr){const er=_castAuth(tr);er._getPasswordPolicyInternal()&&await er._updatePasswordPolicy()}function signInWithEmailAndPassword(tr,er,rr){return _isFirebaseServerApp(tr.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(tr)):signInWithCredential(getModularInstance(tr),EmailAuthProvider.credential(er,rr)).catch(async nr=>{throw nr.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(tr),nr})}function onIdTokenChanged(tr,er,rr,nr){return getModularInstance(tr).onIdTokenChanged(er,rr,nr)}function beforeAuthStateChanged(tr,er,rr){return getModularInstance(tr).beforeAuthStateChanged(er,rr)}function onAuthStateChanged(tr,er,rr,nr){return getModularInstance(tr).onAuthStateChanged(er,rr,nr)}function signOut(tr){return getModularInstance(tr).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(er,rr){this.storageRetriever=er,this.type=rr}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(er,rr){return this.storage.setItem(er,JSON.stringify(rr)),Promise.resolve()}_get(er){const rr=this.storage.getItem(er);return Promise.resolve(rr?JSON.parse(rr):null)}_remove(er){return this.storage.removeItem(er),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(er,rr)=>this.onStorageEvent(er,rr),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(er){for(const rr of Object.keys(this.listeners)){const nr=this.storage.getItem(rr),ir=this.localCache[rr];nr!==ir&&er(rr,ir,nr)}}onStorageEvent(er,rr=!1){if(!er.key){this.forAllChangedKeys((sr,lr,or)=>{this.notifyListeners(sr,or)});return}const nr=er.key;rr?this.detachListener():this.stopPolling();const ir=()=>{const sr=this.storage.getItem(nr);!rr&&this.localCache[nr]===sr||this.notifyListeners(nr,sr)},ar=this.storage.getItem(nr);_isIE10()&&ar!==er.newValue&&er.newValue!==er.oldValue?setTimeout(ir,IE10_LOCAL_STORAGE_SYNC_DELAY):ir()}notifyListeners(er,rr){this.localCache[er]=rr;const nr=this.listeners[er];if(nr)for(const ir of Array.from(nr))ir(rr&&JSON.parse(rr))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((er,rr,nr)=>{this.onStorageEvent(new StorageEvent("storage",{key:er,oldValue:rr,newValue:nr}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(er,rr){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[er]||(this.listeners[er]=new Set,this.localCache[er]=this.storage.getItem(er)),this.listeners[er].add(rr)}_removeListener(er,rr){this.listeners[er]&&(this.listeners[er].delete(rr),this.listeners[er].size===0&&delete this.listeners[er]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(er,rr){await super._set(er,rr),this.localCache[er]=JSON.stringify(rr)}async _get(er){const rr=await super._get(er);return this.localCache[er]=JSON.stringify(rr),rr}async _remove(er){await super._remove(er),delete this.localCache[er]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(er,rr){}_removeListener(er,rr){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(tr){return Promise.all(tr.map(async er=>{try{return{fulfilled:!0,value:await er}}catch(rr){return{fulfilled:!1,reason:rr}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(er){this.eventTarget=er,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(er){const rr=this.receivers.find(ir=>ir.isListeningto(er));if(rr)return rr;const nr=new Receiver(er);return this.receivers.push(nr),nr}isListeningto(er){return this.eventTarget===er}async handleEvent(er){const rr=er,{eventId:nr,eventType:ir,data:ar}=rr.data,sr=this.handlersMap[ir];if(!(sr!=null&&sr.size))return;rr.ports[0].postMessage({status:"ack",eventId:nr,eventType:ir});const lr=Array.from(sr).map(async cr=>cr(rr.origin,ar)),or=await _allSettled(lr);rr.ports[0].postMessage({status:"done",eventId:nr,eventType:ir,response:or})}_subscribe(er,rr){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[er]||(this.handlersMap[er]=new Set),this.handlersMap[er].add(rr)}_unsubscribe(er,rr){this.handlersMap[er]&&rr&&this.handlersMap[er].delete(rr),(!rr||this.handlersMap[er].size===0)&&delete this.handlersMap[er],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(tr="",er=10){let rr="";for(let nr=0;nr<er;nr++)rr+=Math.floor(Math.random()*10);return tr+rr}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(er){this.target=er,this.handlers=new Set}removeMessageHandler(er){er.messageChannel&&(er.messageChannel.port1.removeEventListener("message",er.onMessage),er.messageChannel.port1.close()),this.handlers.delete(er)}async _send(er,rr,nr=50){const ir=typeof MessageChannel<"u"?new MessageChannel:null;if(!ir)throw new Error("connection_unavailable");let ar,sr;return new Promise((lr,or)=>{const cr=_generateEventId("",20);ir.port1.start();const ur=setTimeout(()=>{or(new Error("unsupported_event"))},nr);sr={messageChannel:ir,onMessage(dr){const hr=dr;if(hr.data.eventId===cr)switch(hr.data.status){case"ack":clearTimeout(ur),ar=setTimeout(()=>{or(new Error("timeout"))},3e3);break;case"done":clearTimeout(ar),lr(hr.data.response);break;default:clearTimeout(ur),clearTimeout(ar),or(new Error("invalid_response"));break}}},this.handlers.add(sr),ir.port1.addEventListener("message",sr.onMessage),this.target.postMessage({eventType:er,eventId:cr,data:rr},[ir.port2])}).finally(()=>{sr&&this.removeMessageHandler(sr)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(tr){_window().location.href=tr}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var tr;return((tr=navigator==null?void 0:navigator.serviceWorker)===null||tr===void 0?void 0:tr.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(er){this.request=er}toPromise(){return new Promise((er,rr)=>{this.request.addEventListener("success",()=>{er(this.request.result)}),this.request.addEventListener("error",()=>{rr(this.request.error)})})}}function getObjectStore(tr,er){return tr.transaction([DB_OBJECTSTORE_NAME],er?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const tr=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(tr).toPromise()}function _openDatabase(){const tr=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((er,rr)=>{tr.addEventListener("error",()=>{rr(tr.error)}),tr.addEventListener("upgradeneeded",()=>{const nr=tr.result;try{nr.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(ir){rr(ir)}}),tr.addEventListener("success",async()=>{const nr=tr.result;nr.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?er(nr):(nr.close(),await _deleteDatabase(),er(await _openDatabase()))})})}async function _putObject(tr,er,rr){const nr=getObjectStore(tr,!0).put({[DB_DATA_KEYPATH]:er,value:rr});return new DBPromise(nr).toPromise()}async function getObject(tr,er){const rr=getObjectStore(tr,!1).get(er),nr=await new DBPromise(rr).toPromise();return nr===void 0?null:nr.value}function _deleteObject(tr,er){const rr=getObjectStore(tr,!0).delete(er);return new DBPromise(rr).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(er){let rr=0;for(;;)try{const nr=await this._openDb();return await er(nr)}catch(nr){if(rr++>_TRANSACTION_RETRY_COUNT)throw nr;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(er,rr)=>({keyProcessed:(await this._poll()).includes(rr.key)})),this.receiver._subscribe("ping",async(er,rr)=>["keyChanged"])}async initializeSender(){var er,rr;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const nr=await this.sender._send("ping",{},800);nr&&!((er=nr[0])===null||er===void 0)&&er.fulfilled&&!((rr=nr[0])===null||rr===void 0)&&rr.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(er){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:er},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const er=await _openDatabase();return await _putObject(er,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(er,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(er){this.pendingWrites++;try{await er()}finally{this.pendingWrites--}}async _set(er,rr){return this._withPendingWrite(async()=>(await this._withRetries(nr=>_putObject(nr,er,rr)),this.localCache[er]=rr,this.notifyServiceWorker(er)))}async _get(er){const rr=await this._withRetries(nr=>getObject(nr,er));return this.localCache[er]=rr,rr}async _remove(er){return this._withPendingWrite(async()=>(await this._withRetries(rr=>_deleteObject(rr,er)),delete this.localCache[er],this.notifyServiceWorker(er)))}async _poll(){const er=await this._withRetries(ir=>{const ar=getObjectStore(ir,!1).getAll();return new DBPromise(ar).toPromise()});if(!er)return[];if(this.pendingWrites!==0)return[];const rr=[],nr=new Set;if(er.length!==0)for(const{fbase_key:ir,value:ar}of er)nr.add(ir),JSON.stringify(this.localCache[ir])!==JSON.stringify(ar)&&(this.notifyListeners(ir,ar),rr.push(ir));for(const ir of Object.keys(this.localCache))this.localCache[ir]&&!nr.has(ir)&&(this.notifyListeners(ir,null),rr.push(ir));return rr}notifyListeners(er,rr){this.localCache[er]=rr;const nr=this.listeners[er];if(nr)for(const ir of Array.from(nr))ir(rr)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(er,rr){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[er]||(this.listeners[er]=new Set,this._get(er)),this.listeners[er].add(rr)}_removeListener(er,rr){this.listeners[er]&&(this.listeners[er].delete(rr),this.listeners[er].size===0&&delete this.listeners[er]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(tr,er){return er?_getInstance(er):(_assert(tr._popupRedirectResolver,tr,"argument-error"),tr._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(er){super("custom","custom"),this.params=er}_getIdTokenResponse(er){return signInWithIdp(er,this._buildIdpRequest())}_linkToIdToken(er,rr){return signInWithIdp(er,this._buildIdpRequest(rr))}_getReauthenticationResolver(er){return signInWithIdp(er,this._buildIdpRequest())}_buildIdpRequest(er){const rr={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return er&&(rr.idToken=er),rr}}function _signIn(tr){return _signInWithCredential(tr.auth,new IdpCredential(tr),tr.bypassAuthState)}function _reauth(tr){const{auth:er,user:rr}=tr;return _assert(rr,er,"internal-error"),_reauthenticate(rr,new IdpCredential(tr),tr.bypassAuthState)}async function _link(tr){const{auth:er,user:rr}=tr;return _assert(rr,er,"internal-error"),_link$1(rr,new IdpCredential(tr),tr.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(er,rr,nr,ir,ar=!1){this.auth=er,this.resolver=nr,this.user=ir,this.bypassAuthState=ar,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(rr)?rr:[rr]}execute(){return new Promise(async(er,rr)=>{this.pendingPromise={resolve:er,reject:rr};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(nr){this.reject(nr)}})}async onAuthEvent(er){const{urlResponse:rr,sessionId:nr,postBody:ir,tenantId:ar,error:sr,type:lr}=er;if(sr){this.reject(sr);return}const or={auth:this.auth,requestUri:rr,sessionId:nr,tenantId:ar||void 0,postBody:ir||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(lr)(or))}catch(cr){this.reject(cr)}}onError(er){this.reject(er)}getIdpTask(er){switch(er){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(er){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(er),this.unregisterAndCleanUp()}reject(er){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(er),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(er,rr,nr,ir,ar){super(er,rr,ir,ar),this.provider=nr,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const er=await this.execute();return _assert(er,this.auth,"internal-error"),er}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const er=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],er),this.authWindow.associatedEvent=er,this.resolver._originValidation(this.auth).catch(rr=>{this.reject(rr)}),this.resolver._isIframeWebStorageSupported(this.auth,rr=>{rr||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var er;return((er=this.authWindow)===null||er===void 0?void 0:er.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const er=()=>{var rr,nr;if(!((nr=(rr=this.authWindow)===null||rr===void 0?void 0:rr.window)===null||nr===void 0)&&nr.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(er,_POLL_WINDOW_CLOSE_TIMEOUT.get())};er()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(er,rr,nr=!1){super(er,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],rr,void 0,nr),this.eventId=null}async execute(){let er=redirectOutcomeMap.get(this.auth._key());if(!er){try{const nr=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;er=()=>Promise.resolve(nr)}catch(rr){er=()=>Promise.reject(rr)}redirectOutcomeMap.set(this.auth._key(),er)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),er()}async onAuthEvent(er){if(er.type==="signInViaRedirect")return super.onAuthEvent(er);if(er.type==="unknown"){this.resolve(null);return}if(er.eventId){const rr=await this.auth._redirectUserForId(er.eventId);if(rr)return this.user=rr,super.onAuthEvent(er);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(tr,er){const rr=pendingRedirectKey(er),nr=resolverPersistence(tr);if(!await nr._isAvailable())return!1;const ir=await nr._get(rr)==="true";return await nr._remove(rr),ir}function _overrideRedirectResult(tr,er){redirectOutcomeMap.set(tr._key(),er)}function resolverPersistence(tr){return _getInstance(tr._redirectPersistence)}function pendingRedirectKey(tr){return _persistenceKeyName(PENDING_REDIRECT_KEY,tr.config.apiKey,tr.name)}async function _getRedirectResult(tr,er,rr=!1){if(_isFirebaseServerApp(tr.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(tr));const nr=_castAuth(tr),ir=_withDefaultResolver(nr,er),sr=await new RedirectAction(nr,ir,rr).execute();return sr&&!rr&&(delete sr.user._redirectEventId,await nr._persistUserIfCurrent(sr.user),await nr._setRedirectUser(null,er)),sr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(er){this.auth=er,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(er){this.consumers.add(er),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,er)&&(this.sendToConsumer(this.queuedRedirectEvent,er),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(er){this.consumers.delete(er)}onEvent(er){if(this.hasEventBeenHandled(er))return!1;let rr=!1;return this.consumers.forEach(nr=>{this.isEventForConsumer(er,nr)&&(rr=!0,this.sendToConsumer(er,nr),this.saveEventToCache(er))}),this.hasHandledPotentialRedirect||!isRedirectEvent(er)||(this.hasHandledPotentialRedirect=!0,rr||(this.queuedRedirectEvent=er,rr=!0)),rr}sendToConsumer(er,rr){var nr;if(er.error&&!isNullRedirectEvent(er)){const ir=((nr=er.error.code)===null||nr===void 0?void 0:nr.split("auth/")[1])||"internal-error";rr.onError(_createError(this.auth,ir))}else rr.onAuthEvent(er)}isEventForConsumer(er,rr){const nr=rr.eventId===null||!!er.eventId&&er.eventId===rr.eventId;return rr.filter.includes(er.type)&&nr}hasEventBeenHandled(er){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(er))}saveEventToCache(er){this.cachedEventUids.add(eventUid(er)),this.lastProcessedEventTime=Date.now()}}function eventUid(tr){return[tr.type,tr.eventId,tr.sessionId,tr.tenantId].filter(er=>er).join("-")}function isNullRedirectEvent({type:tr,error:er}){return tr==="unknown"&&(er==null?void 0:er.code)==="auth/no-auth-event"}function isRedirectEvent(tr){switch(tr.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(tr);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(tr,er={}){return _performApiRequest(tr,"GET","/v1/projects",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(tr){if(tr.config.emulator)return;const{authorizedDomains:er}=await _getProjectConfig(tr);for(const rr of er)try{if(matchDomain(rr))return}catch{}_fail(tr,"unauthorized-domain")}function matchDomain(tr){const er=_getCurrentUrl(),{protocol:rr,hostname:nr}=new URL(er);if(tr.startsWith("chrome-extension://")){const sr=new URL(tr);return sr.hostname===""&&nr===""?rr==="chrome-extension:"&&tr.replace("chrome-extension://","")===er.replace("chrome-extension://",""):rr==="chrome-extension:"&&sr.hostname===nr}if(!HTTP_REGEX.test(rr))return!1;if(IP_ADDRESS_REGEX.test(tr))return nr===tr;const ir=tr.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ir+"|"+ir+")$","i").test(nr)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const tr=_window().___jsl;if(tr!=null&&tr.H){for(const er of Object.keys(tr.H))if(tr.H[er].r=tr.H[er].r||[],tr.H[er].L=tr.H[er].L||[],tr.H[er].r=[...tr.H[er].L],tr.CP)for(let rr=0;rr<tr.CP.length;rr++)tr.CP[rr]=null}}function loadGapi(tr){return new Promise((er,rr)=>{var nr,ir,ar;function sr(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{er(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),rr(_createError(tr,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((ir=(nr=_window().gapi)===null||nr===void 0?void 0:nr.iframes)===null||ir===void 0)&&ir.Iframe)er(gapi.iframes.getContext());else if(!((ar=_window().gapi)===null||ar===void 0)&&ar.load)sr();else{const lr=_generateCallbackName("iframefcb");return _window()[lr]=()=>{gapi.load?sr():rr(_createError(tr,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${lr}`).catch(or=>rr(or))}}).catch(er=>{throw cachedGApiLoader=null,er})}let cachedGApiLoader=null;function _loadGapi(tr){return cachedGApiLoader=cachedGApiLoader||loadGapi(tr),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(tr){const er=tr.config;_assert(er.authDomain,tr,"auth-domain-config-required");const rr=er.emulator?_emulatorUrl(er,EMULATED_IFRAME_PATH):`https://${tr.config.authDomain}/${IFRAME_PATH}`,nr={apiKey:er.apiKey,appName:tr.name,v:SDK_VERSION},ir=EID_FROM_APIHOST.get(tr.config.apiHost);ir&&(nr.eid=ir);const ar=tr._getFrameworks();return ar.length&&(nr.fw=ar.join(",")),`${rr}?${querystring(nr).slice(1)}`}async function _openIframe(tr){const er=await _loadGapi(tr),rr=_window().gapi;return _assert(rr,tr,"internal-error"),er.open({where:document.body,url:getIframeUrl(tr),messageHandlersFilter:rr.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},nr=>new Promise(async(ir,ar)=>{await nr.restyle({setHideOnLeave:!1});const sr=_createError(tr,"network-request-failed"),lr=_window().setTimeout(()=>{ar(sr)},PING_TIMEOUT.get());function or(){_window().clearTimeout(lr),ir(nr)}nr.ping(or).then(or,()=>{ar(sr)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(er){this.window=er,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(tr,er,rr,nr=DEFAULT_WIDTH,ir=DEFAULT_HEIGHT){const ar=Math.max((window.screen.availHeight-ir)/2,0).toString(),sr=Math.max((window.screen.availWidth-nr)/2,0).toString();let lr="";const or=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:nr.toString(),height:ir.toString(),top:ar,left:sr}),cr=getUA().toLowerCase();rr&&(lr=_isChromeIOS(cr)?TARGET_BLANK:rr),_isFirefox(cr)&&(er=er||FIREFOX_EMPTY_URL,or.scrollbars="yes");const ur=Object.entries(or).reduce((hr,[fr,mr])=>`${hr}${fr}=${mr},`,"");if(_isIOSStandalone(cr)&&lr!=="_self")return openAsNewWindowIOS(er||"",lr),new AuthPopup(null);const dr=window.open(er||"",lr,ur);_assert(dr,tr,"popup-blocked");try{dr.focus()}catch{}return new AuthPopup(dr)}function openAsNewWindowIOS(tr,er){const rr=document.createElement("a");rr.href=tr,rr.target=er;const nr=document.createEvent("MouseEvent");nr.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),rr.dispatchEvent(nr)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(tr,er,rr,nr,ir,ar){_assert(tr.config.authDomain,tr,"auth-domain-config-required"),_assert(tr.config.apiKey,tr,"invalid-api-key");const sr={apiKey:tr.config.apiKey,appName:tr.name,authType:rr,redirectUrl:nr,v:SDK_VERSION,eventId:ir};if(er instanceof FederatedAuthProvider){er.setDefaultLanguage(tr.languageCode),sr.providerId=er.providerId||"",isEmpty$1(er.getCustomParameters())||(sr.customParameters=JSON.stringify(er.getCustomParameters()));for(const[ur,dr]of Object.entries({}))sr[ur]=dr}if(er instanceof BaseOAuthProvider){const ur=er.getScopes().filter(dr=>dr!=="");ur.length>0&&(sr.scopes=ur.join(","))}tr.tenantId&&(sr.tid=tr.tenantId);const lr=sr;for(const ur of Object.keys(lr))lr[ur]===void 0&&delete lr[ur];const or=await tr._getAppCheckToken(),cr=or?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(or)}`:"";return`${getHandlerBase(tr)}?${querystring(lr).slice(1)}${cr}`}function getHandlerBase({config:tr}){return tr.emulator?_emulatorUrl(tr,EMULATOR_WIDGET_PATH):`https://${tr.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(er,rr,nr,ir){var ar;debugAssert((ar=this.eventManagers[er._key()])===null||ar===void 0?void 0:ar.manager,"_initialize() not called before _openPopup()");const sr=await _getRedirectUrl(er,rr,nr,_getCurrentUrl(),ir);return _open(er,sr,_generateEventId())}async _openRedirect(er,rr,nr,ir){await this._originValidation(er);const ar=await _getRedirectUrl(er,rr,nr,_getCurrentUrl(),ir);return _setWindowLocation(ar),new Promise(()=>{})}_initialize(er){const rr=er._key();if(this.eventManagers[rr]){const{manager:ir,promise:ar}=this.eventManagers[rr];return ir?Promise.resolve(ir):(debugAssert(ar,"If manager is not set, promise should be"),ar)}const nr=this.initAndGetManager(er);return this.eventManagers[rr]={promise:nr},nr.catch(()=>{delete this.eventManagers[rr]}),nr}async initAndGetManager(er){const rr=await _openIframe(er),nr=new AuthEventManager(er);return rr.register("authEvent",ir=>(_assert(ir==null?void 0:ir.authEvent,er,"invalid-auth-event"),{status:nr.onEvent(ir.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[er._key()]={manager:nr},this.iframes[er._key()]=rr,nr}_isIframeWebStorageSupported(er,rr){this.iframes[er._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},ir=>{var ar;const sr=(ar=ir==null?void 0:ir[0])===null||ar===void 0?void 0:ar[WEB_STORAGE_SUPPORT_KEY];sr!==void 0&&rr(!!sr),_fail(er,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(er){const rr=er._key();return this.originValidationPromises[rr]||(this.originValidationPromises[rr]=_validateOrigin(er)),this.originValidationPromises[rr]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(er){this.auth=er,this.internalListeners=new Map}getUid(){var er;return this.assertAuthConfigured(),((er=this.auth.currentUser)===null||er===void 0?void 0:er.uid)||null}async getToken(er){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(er)}:null}addAuthTokenListener(er){if(this.assertAuthConfigured(),this.internalListeners.has(er))return;const rr=this.auth.onIdTokenChanged(nr=>{er((nr==null?void 0:nr.stsTokenManager.accessToken)||null)});this.internalListeners.set(er,rr),this.updateProactiveRefresh()}removeAuthTokenListener(er){this.assertAuthConfigured();const rr=this.internalListeners.get(er);rr&&(this.internalListeners.delete(er),rr(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(tr){switch(tr){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(tr){_registerComponent(new Component("auth",(er,{options:rr})=>{const nr=er.getProvider("app").getImmediate(),ir=er.getProvider("heartbeat"),ar=er.getProvider("app-check-internal"),{apiKey:sr,authDomain:lr}=nr.options;_assert(sr&&!sr.includes(":"),"invalid-api-key",{appName:nr.name});const or={apiKey:sr,authDomain:lr,clientPlatform:tr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(tr)},cr=new AuthImpl(nr,ir,ar,or);return _initializeAuthInstance(cr,rr),cr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((er,rr,nr)=>{er.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",er=>{const rr=_castAuth(er.getProvider("auth").getImmediate());return(nr=>new AuthInterop(nr))(rr)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(tr)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=tr=>async er=>{const rr=er&&await er.getIdTokenResult(),nr=rr&&(new Date().getTime()-Date.parse(rr.issuedAtTime))/1e3;if(nr&&nr>authIdTokenMaxAge)return;const ir=rr==null?void 0:rr.token;lastPostedIdToken!==ir&&(lastPostedIdToken=ir,await fetch(tr,{method:ir?"POST":"DELETE",headers:ir?{Authorization:`Bearer ${ir}`}:{}}))};function getAuth(tr=getApp()){const er=_getProvider(tr,"auth");if(er.isInitialized())return er.getImmediate();const rr=initializeAuth(tr,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),nr=getExperimentalSetting("authTokenSyncURL");if(nr&&typeof isSecureContext=="boolean"&&isSecureContext){const ar=new URL(nr,location.origin);if(location.origin===ar.origin){const sr=mintCookieFactory(ar.toString());beforeAuthStateChanged(rr,sr,()=>sr(rr.currentUser)),onIdTokenChanged(rr,lr=>sr(lr))}}const ir=getDefaultEmulatorHost("auth");return ir&&connectAuthEmulator(rr,`http://${ir}`),rr}function getScriptParentElement(){var tr,er;return(er=(tr=document.getElementsByTagName("head"))===null||tr===void 0?void 0:tr[0])!==null&&er!==void 0?er:document}_setExternalJSProvider({loadJS(tr){return new Promise((er,rr)=>{const nr=document.createElement("script");nr.setAttribute("src",tr),nr.onload=er,nr.onerror=ir=>{const ar=_createError("internal-error");ar.customData=ir,rr(ar)},nr.type="text/javascript",nr.charset="UTF-8",getScriptParentElement().appendChild(nr)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var tr;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function er(Cr,Tr){function Ir(){}Ir.prototype=Tr.prototype,Cr.D=Tr.prototype,Cr.prototype=new Ir,Cr.prototype.constructor=Cr,Cr.C=function(Lr,Nr,Or){for(var Pr=Array(arguments.length-2),Mr=2;Mr<arguments.length;Mr++)Pr[Mr-2]=arguments[Mr];return Tr.prototype[Nr].apply(Lr,Pr)}}function rr(){this.blockSize=-1}function nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}er(nr,rr),nr.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function ir(Cr,Tr,Ir){Ir||(Ir=0);var Lr=Array(16);if(typeof Tr=="string")for(var Nr=0;16>Nr;++Nr)Lr[Nr]=Tr.charCodeAt(Ir++)|Tr.charCodeAt(Ir++)<<8|Tr.charCodeAt(Ir++)<<16|Tr.charCodeAt(Ir++)<<24;else for(Nr=0;16>Nr;++Nr)Lr[Nr]=Tr[Ir++]|Tr[Ir++]<<8|Tr[Ir++]<<16|Tr[Ir++]<<24;Tr=Cr.g[0],Ir=Cr.g[1],Nr=Cr.g[2];var Or=Cr.g[3],Pr=Tr+(Or^Ir&(Nr^Or))+Lr[0]+3614090360&4294967295;Tr=Ir+(Pr<<7&4294967295|Pr>>>25),Pr=Or+(Nr^Tr&(Ir^Nr))+Lr[1]+3905402710&4294967295,Or=Tr+(Pr<<12&4294967295|Pr>>>20),Pr=Nr+(Ir^Or&(Tr^Ir))+Lr[2]+606105819&4294967295,Nr=Or+(Pr<<17&4294967295|Pr>>>15),Pr=Ir+(Tr^Nr&(Or^Tr))+Lr[3]+3250441966&4294967295,Ir=Nr+(Pr<<22&4294967295|Pr>>>10),Pr=Tr+(Or^Ir&(Nr^Or))+Lr[4]+4118548399&4294967295,Tr=Ir+(Pr<<7&4294967295|Pr>>>25),Pr=Or+(Nr^Tr&(Ir^Nr))+Lr[5]+1200080426&4294967295,Or=Tr+(Pr<<12&4294967295|Pr>>>20),Pr=Nr+(Ir^Or&(Tr^Ir))+Lr[6]+2821735955&4294967295,Nr=Or+(Pr<<17&4294967295|Pr>>>15),Pr=Ir+(Tr^Nr&(Or^Tr))+Lr[7]+4249261313&4294967295,Ir=Nr+(Pr<<22&4294967295|Pr>>>10),Pr=Tr+(Or^Ir&(Nr^Or))+Lr[8]+1770035416&4294967295,Tr=Ir+(Pr<<7&4294967295|Pr>>>25),Pr=Or+(Nr^Tr&(Ir^Nr))+Lr[9]+2336552879&4294967295,Or=Tr+(Pr<<12&4294967295|Pr>>>20),Pr=Nr+(Ir^Or&(Tr^Ir))+Lr[10]+4294925233&4294967295,Nr=Or+(Pr<<17&4294967295|Pr>>>15),Pr=Ir+(Tr^Nr&(Or^Tr))+Lr[11]+2304563134&4294967295,Ir=Nr+(Pr<<22&4294967295|Pr>>>10),Pr=Tr+(Or^Ir&(Nr^Or))+Lr[12]+1804603682&4294967295,Tr=Ir+(Pr<<7&4294967295|Pr>>>25),Pr=Or+(Nr^Tr&(Ir^Nr))+Lr[13]+4254626195&4294967295,Or=Tr+(Pr<<12&4294967295|Pr>>>20),Pr=Nr+(Ir^Or&(Tr^Ir))+Lr[14]+2792965006&4294967295,Nr=Or+(Pr<<17&4294967295|Pr>>>15),Pr=Ir+(Tr^Nr&(Or^Tr))+Lr[15]+1236535329&4294967295,Ir=Nr+(Pr<<22&4294967295|Pr>>>10),Pr=Tr+(Nr^Or&(Ir^Nr))+Lr[1]+4129170786&4294967295,Tr=Ir+(Pr<<5&4294967295|Pr>>>27),Pr=Or+(Ir^Nr&(Tr^Ir))+Lr[6]+3225465664&4294967295,Or=Tr+(Pr<<9&4294967295|Pr>>>23),Pr=Nr+(Tr^Ir&(Or^Tr))+Lr[11]+643717713&4294967295,Nr=Or+(Pr<<14&4294967295|Pr>>>18),Pr=Ir+(Or^Tr&(Nr^Or))+Lr[0]+3921069994&4294967295,Ir=Nr+(Pr<<20&4294967295|Pr>>>12),Pr=Tr+(Nr^Or&(Ir^Nr))+Lr[5]+3593408605&4294967295,Tr=Ir+(Pr<<5&4294967295|Pr>>>27),Pr=Or+(Ir^Nr&(Tr^Ir))+Lr[10]+38016083&4294967295,Or=Tr+(Pr<<9&4294967295|Pr>>>23),Pr=Nr+(Tr^Ir&(Or^Tr))+Lr[15]+3634488961&4294967295,Nr=Or+(Pr<<14&4294967295|Pr>>>18),Pr=Ir+(Or^Tr&(Nr^Or))+Lr[4]+3889429448&4294967295,Ir=Nr+(Pr<<20&4294967295|Pr>>>12),Pr=Tr+(Nr^Or&(Ir^Nr))+Lr[9]+568446438&4294967295,Tr=Ir+(Pr<<5&4294967295|Pr>>>27),Pr=Or+(Ir^Nr&(Tr^Ir))+Lr[14]+3275163606&4294967295,Or=Tr+(Pr<<9&4294967295|Pr>>>23),Pr=Nr+(Tr^Ir&(Or^Tr))+Lr[3]+4107603335&4294967295,Nr=Or+(Pr<<14&4294967295|Pr>>>18),Pr=Ir+(Or^Tr&(Nr^Or))+Lr[8]+1163531501&4294967295,Ir=Nr+(Pr<<20&4294967295|Pr>>>12),Pr=Tr+(Nr^Or&(Ir^Nr))+Lr[13]+2850285829&4294967295,Tr=Ir+(Pr<<5&4294967295|Pr>>>27),Pr=Or+(Ir^Nr&(Tr^Ir))+Lr[2]+4243563512&4294967295,Or=Tr+(Pr<<9&4294967295|Pr>>>23),Pr=Nr+(Tr^Ir&(Or^Tr))+Lr[7]+1735328473&4294967295,Nr=Or+(Pr<<14&4294967295|Pr>>>18),Pr=Ir+(Or^Tr&(Nr^Or))+Lr[12]+2368359562&4294967295,Ir=Nr+(Pr<<20&4294967295|Pr>>>12),Pr=Tr+(Ir^Nr^Or)+Lr[5]+4294588738&4294967295,Tr=Ir+(Pr<<4&4294967295|Pr>>>28),Pr=Or+(Tr^Ir^Nr)+Lr[8]+2272392833&4294967295,Or=Tr+(Pr<<11&4294967295|Pr>>>21),Pr=Nr+(Or^Tr^Ir)+Lr[11]+1839030562&4294967295,Nr=Or+(Pr<<16&4294967295|Pr>>>16),Pr=Ir+(Nr^Or^Tr)+Lr[14]+4259657740&4294967295,Ir=Nr+(Pr<<23&4294967295|Pr>>>9),Pr=Tr+(Ir^Nr^Or)+Lr[1]+2763975236&4294967295,Tr=Ir+(Pr<<4&4294967295|Pr>>>28),Pr=Or+(Tr^Ir^Nr)+Lr[4]+1272893353&4294967295,Or=Tr+(Pr<<11&4294967295|Pr>>>21),Pr=Nr+(Or^Tr^Ir)+Lr[7]+4139469664&4294967295,Nr=Or+(Pr<<16&4294967295|Pr>>>16),Pr=Ir+(Nr^Or^Tr)+Lr[10]+3200236656&4294967295,Ir=Nr+(Pr<<23&4294967295|Pr>>>9),Pr=Tr+(Ir^Nr^Or)+Lr[13]+681279174&4294967295,Tr=Ir+(Pr<<4&4294967295|Pr>>>28),Pr=Or+(Tr^Ir^Nr)+Lr[0]+3936430074&4294967295,Or=Tr+(Pr<<11&4294967295|Pr>>>21),Pr=Nr+(Or^Tr^Ir)+Lr[3]+3572445317&4294967295,Nr=Or+(Pr<<16&4294967295|Pr>>>16),Pr=Ir+(Nr^Or^Tr)+Lr[6]+76029189&4294967295,Ir=Nr+(Pr<<23&4294967295|Pr>>>9),Pr=Tr+(Ir^Nr^Or)+Lr[9]+3654602809&4294967295,Tr=Ir+(Pr<<4&4294967295|Pr>>>28),Pr=Or+(Tr^Ir^Nr)+Lr[12]+3873151461&4294967295,Or=Tr+(Pr<<11&4294967295|Pr>>>21),Pr=Nr+(Or^Tr^Ir)+Lr[15]+530742520&4294967295,Nr=Or+(Pr<<16&4294967295|Pr>>>16),Pr=Ir+(Nr^Or^Tr)+Lr[2]+3299628645&4294967295,Ir=Nr+(Pr<<23&4294967295|Pr>>>9),Pr=Tr+(Nr^(Ir|~Or))+Lr[0]+4096336452&4294967295,Tr=Ir+(Pr<<6&4294967295|Pr>>>26),Pr=Or+(Ir^(Tr|~Nr))+Lr[7]+1126891415&4294967295,Or=Tr+(Pr<<10&4294967295|Pr>>>22),Pr=Nr+(Tr^(Or|~Ir))+Lr[14]+2878612391&4294967295,Nr=Or+(Pr<<15&4294967295|Pr>>>17),Pr=Ir+(Or^(Nr|~Tr))+Lr[5]+4237533241&4294967295,Ir=Nr+(Pr<<21&4294967295|Pr>>>11),Pr=Tr+(Nr^(Ir|~Or))+Lr[12]+1700485571&4294967295,Tr=Ir+(Pr<<6&4294967295|Pr>>>26),Pr=Or+(Ir^(Tr|~Nr))+Lr[3]+2399980690&4294967295,Or=Tr+(Pr<<10&4294967295|Pr>>>22),Pr=Nr+(Tr^(Or|~Ir))+Lr[10]+4293915773&4294967295,Nr=Or+(Pr<<15&4294967295|Pr>>>17),Pr=Ir+(Or^(Nr|~Tr))+Lr[1]+2240044497&4294967295,Ir=Nr+(Pr<<21&4294967295|Pr>>>11),Pr=Tr+(Nr^(Ir|~Or))+Lr[8]+1873313359&4294967295,Tr=Ir+(Pr<<6&4294967295|Pr>>>26),Pr=Or+(Ir^(Tr|~Nr))+Lr[15]+4264355552&4294967295,Or=Tr+(Pr<<10&4294967295|Pr>>>22),Pr=Nr+(Tr^(Or|~Ir))+Lr[6]+2734768916&4294967295,Nr=Or+(Pr<<15&4294967295|Pr>>>17),Pr=Ir+(Or^(Nr|~Tr))+Lr[13]+1309151649&4294967295,Ir=Nr+(Pr<<21&4294967295|Pr>>>11),Pr=Tr+(Nr^(Ir|~Or))+Lr[4]+4149444226&4294967295,Tr=Ir+(Pr<<6&4294967295|Pr>>>26),Pr=Or+(Ir^(Tr|~Nr))+Lr[11]+3174756917&4294967295,Or=Tr+(Pr<<10&4294967295|Pr>>>22),Pr=Nr+(Tr^(Or|~Ir))+Lr[2]+718787259&4294967295,Nr=Or+(Pr<<15&4294967295|Pr>>>17),Pr=Ir+(Or^(Nr|~Tr))+Lr[9]+3951481745&4294967295,Cr.g[0]=Cr.g[0]+Tr&4294967295,Cr.g[1]=Cr.g[1]+(Nr+(Pr<<21&4294967295|Pr>>>11))&4294967295,Cr.g[2]=Cr.g[2]+Nr&4294967295,Cr.g[3]=Cr.g[3]+Or&4294967295}nr.prototype.u=function(Cr,Tr){Tr===void 0&&(Tr=Cr.length);for(var Ir=Tr-this.blockSize,Lr=this.B,Nr=this.h,Or=0;Or<Tr;){if(Nr==0)for(;Or<=Ir;)ir(this,Cr,Or),Or+=this.blockSize;if(typeof Cr=="string"){for(;Or<Tr;)if(Lr[Nr++]=Cr.charCodeAt(Or++),Nr==this.blockSize){ir(this,Lr),Nr=0;break}}else for(;Or<Tr;)if(Lr[Nr++]=Cr[Or++],Nr==this.blockSize){ir(this,Lr),Nr=0;break}}this.h=Nr,this.o+=Tr},nr.prototype.v=function(){var Cr=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Cr[0]=128;for(var Tr=1;Tr<Cr.length-8;++Tr)Cr[Tr]=0;var Ir=8*this.o;for(Tr=Cr.length-8;Tr<Cr.length;++Tr)Cr[Tr]=Ir&255,Ir/=256;for(this.u(Cr),Cr=Array(16),Tr=Ir=0;4>Tr;++Tr)for(var Lr=0;32>Lr;Lr+=8)Cr[Ir++]=this.g[Tr]>>>Lr&255;return Cr};function ar(Cr,Tr){var Ir=lr;return Object.prototype.hasOwnProperty.call(Ir,Cr)?Ir[Cr]:Ir[Cr]=Tr(Cr)}function sr(Cr,Tr){this.h=Tr;for(var Ir=[],Lr=!0,Nr=Cr.length-1;0<=Nr;Nr--){var Or=Cr[Nr]|0;Lr&&Or==Tr||(Ir[Nr]=Or,Lr=!1)}this.g=Ir}var lr={};function or(Cr){return-128<=Cr&&128>Cr?ar(Cr,function(Tr){return new sr([Tr|0],0>Tr?-1:0)}):new sr([Cr|0],0>Cr?-1:0)}function cr(Cr){if(isNaN(Cr)||!isFinite(Cr))return dr;if(0>Cr)return pr(cr(-Cr));for(var Tr=[],Ir=1,Lr=0;Cr>=Ir;Lr++)Tr[Lr]=Cr/Ir|0,Ir*=4294967296;return new sr(Tr,0)}function ur(Cr,Tr){if(Cr.length==0)throw Error("number format error: empty string");if(Tr=Tr||10,2>Tr||36<Tr)throw Error("radix out of range: "+Tr);if(Cr.charAt(0)=="-")return pr(ur(Cr.substring(1),Tr));if(0<=Cr.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ir=cr(Math.pow(Tr,8)),Lr=dr,Nr=0;Nr<Cr.length;Nr+=8){var Or=Math.min(8,Cr.length-Nr),Pr=parseInt(Cr.substring(Nr,Nr+Or),Tr);8>Or?(Or=cr(Math.pow(Tr,Or)),Lr=Lr.j(Or).add(cr(Pr))):(Lr=Lr.j(Ir),Lr=Lr.add(cr(Pr)))}return Lr}var dr=or(0),hr=or(1),fr=or(16777216);tr=sr.prototype,tr.m=function(){if(br(this))return-pr(this).m();for(var Cr=0,Tr=1,Ir=0;Ir<this.g.length;Ir++){var Lr=this.i(Ir);Cr+=(0<=Lr?Lr:4294967296+Lr)*Tr,Tr*=4294967296}return Cr},tr.toString=function(Cr){if(Cr=Cr||10,2>Cr||36<Cr)throw Error("radix out of range: "+Cr);if(mr(this))return"0";if(br(this))return"-"+pr(this).toString(Cr);for(var Tr=cr(Math.pow(Cr,6)),Ir=this,Lr="";;){var Nr=_r(Ir,Tr).g;Ir=gr(Ir,Nr.j(Tr));var Or=((0<Ir.g.length?Ir.g[0]:Ir.h)>>>0).toString(Cr);if(Ir=Nr,mr(Ir))return Or+Lr;for(;6>Or.length;)Or="0"+Or;Lr=Or+Lr}},tr.i=function(Cr){return 0>Cr?0:Cr<this.g.length?this.g[Cr]:this.h};function mr(Cr){if(Cr.h!=0)return!1;for(var Tr=0;Tr<Cr.g.length;Tr++)if(Cr.g[Tr]!=0)return!1;return!0}function br(Cr){return Cr.h==-1}tr.l=function(Cr){return Cr=gr(this,Cr),br(Cr)?-1:mr(Cr)?0:1};function pr(Cr){for(var Tr=Cr.g.length,Ir=[],Lr=0;Lr<Tr;Lr++)Ir[Lr]=~Cr.g[Lr];return new sr(Ir,~Cr.h).add(hr)}tr.abs=function(){return br(this)?pr(this):this},tr.add=function(Cr){for(var Tr=Math.max(this.g.length,Cr.g.length),Ir=[],Lr=0,Nr=0;Nr<=Tr;Nr++){var Or=Lr+(this.i(Nr)&65535)+(Cr.i(Nr)&65535),Pr=(Or>>>16)+(this.i(Nr)>>>16)+(Cr.i(Nr)>>>16);Lr=Pr>>>16,Or&=65535,Pr&=65535,Ir[Nr]=Pr<<16|Or}return new sr(Ir,Ir[Ir.length-1]&-2147483648?-1:0)};function gr(Cr,Tr){return Cr.add(pr(Tr))}tr.j=function(Cr){if(mr(this)||mr(Cr))return dr;if(br(this))return br(Cr)?pr(this).j(pr(Cr)):pr(pr(this).j(Cr));if(br(Cr))return pr(this.j(pr(Cr)));if(0>this.l(fr)&&0>Cr.l(fr))return cr(this.m()*Cr.m());for(var Tr=this.g.length+Cr.g.length,Ir=[],Lr=0;Lr<2*Tr;Lr++)Ir[Lr]=0;for(Lr=0;Lr<this.g.length;Lr++)for(var Nr=0;Nr<Cr.g.length;Nr++){var Or=this.i(Lr)>>>16,Pr=this.i(Lr)&65535,Mr=Cr.i(Nr)>>>16,jr=Cr.i(Nr)&65535;Ir[2*Lr+2*Nr]+=Pr*jr,yr(Ir,2*Lr+2*Nr),Ir[2*Lr+2*Nr+1]+=Or*jr,yr(Ir,2*Lr+2*Nr+1),Ir[2*Lr+2*Nr+1]+=Pr*Mr,yr(Ir,2*Lr+2*Nr+1),Ir[2*Lr+2*Nr+2]+=Or*Mr,yr(Ir,2*Lr+2*Nr+2)}for(Lr=0;Lr<Tr;Lr++)Ir[Lr]=Ir[2*Lr+1]<<16|Ir[2*Lr];for(Lr=Tr;Lr<2*Tr;Lr++)Ir[Lr]=0;return new sr(Ir,0)};function yr(Cr,Tr){for(;(Cr[Tr]&65535)!=Cr[Tr];)Cr[Tr+1]+=Cr[Tr]>>>16,Cr[Tr]&=65535,Tr++}function vr(Cr,Tr){this.g=Cr,this.h=Tr}function _r(Cr,Tr){if(mr(Tr))throw Error("division by zero");if(mr(Cr))return new vr(dr,dr);if(br(Cr))return Tr=_r(pr(Cr),Tr),new vr(pr(Tr.g),pr(Tr.h));if(br(Tr))return Tr=_r(Cr,pr(Tr)),new vr(pr(Tr.g),Tr.h);if(30<Cr.g.length){if(br(Cr)||br(Tr))throw Error("slowDivide_ only works with positive integers.");for(var Ir=hr,Lr=Tr;0>=Lr.l(Cr);)Ir=xr(Ir),Lr=xr(Lr);var Nr=Rr(Ir,1),Or=Rr(Lr,1);for(Lr=Rr(Lr,2),Ir=Rr(Ir,2);!mr(Lr);){var Pr=Or.add(Lr);0>=Pr.l(Cr)&&(Nr=Nr.add(Ir),Or=Pr),Lr=Rr(Lr,1),Ir=Rr(Ir,1)}return Tr=gr(Cr,Nr.j(Tr)),new vr(Nr,Tr)}for(Nr=dr;0<=Cr.l(Tr);){for(Ir=Math.max(1,Math.floor(Cr.m()/Tr.m())),Lr=Math.ceil(Math.log(Ir)/Math.LN2),Lr=48>=Lr?1:Math.pow(2,Lr-48),Or=cr(Ir),Pr=Or.j(Tr);br(Pr)||0<Pr.l(Cr);)Ir-=Lr,Or=cr(Ir),Pr=Or.j(Tr);mr(Or)&&(Or=hr),Nr=Nr.add(Or),Cr=gr(Cr,Pr)}return new vr(Nr,Cr)}tr.A=function(Cr){return _r(this,Cr).h},tr.and=function(Cr){for(var Tr=Math.max(this.g.length,Cr.g.length),Ir=[],Lr=0;Lr<Tr;Lr++)Ir[Lr]=this.i(Lr)&Cr.i(Lr);return new sr(Ir,this.h&Cr.h)},tr.or=function(Cr){for(var Tr=Math.max(this.g.length,Cr.g.length),Ir=[],Lr=0;Lr<Tr;Lr++)Ir[Lr]=this.i(Lr)|Cr.i(Lr);return new sr(Ir,this.h|Cr.h)},tr.xor=function(Cr){for(var Tr=Math.max(this.g.length,Cr.g.length),Ir=[],Lr=0;Lr<Tr;Lr++)Ir[Lr]=this.i(Lr)^Cr.i(Lr);return new sr(Ir,this.h^Cr.h)};function xr(Cr){for(var Tr=Cr.g.length+1,Ir=[],Lr=0;Lr<Tr;Lr++)Ir[Lr]=Cr.i(Lr)<<1|Cr.i(Lr-1)>>>31;return new sr(Ir,Cr.h)}function Rr(Cr,Tr){var Ir=Tr>>5;Tr%=32;for(var Lr=Cr.g.length-Ir,Nr=[],Or=0;Or<Lr;Or++)Nr[Or]=0<Tr?Cr.i(Or+Ir)>>>Tr|Cr.i(Or+Ir+1)<<32-Tr:Cr.i(Or+Ir);return new sr(Nr,Cr.h)}nr.prototype.digest=nr.prototype.v,nr.prototype.reset=nr.prototype.s,nr.prototype.update=nr.prototype.u,Md5=nr,sr.prototype.add=sr.prototype.add,sr.prototype.multiply=sr.prototype.j,sr.prototype.modulo=sr.prototype.A,sr.prototype.compare=sr.prototype.l,sr.prototype.toNumber=sr.prototype.m,sr.prototype.toString=sr.prototype.toString,sr.prototype.getBits=sr.prototype.i,sr.fromNumber=cr,sr.fromString=ur,Integer=sr}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var tr,er=typeof Object.defineProperties=="function"?Object.defineProperty:function(qr,an,pn){return qr==Array.prototype||qr==Object.prototype||(qr[an]=pn.value),qr};function rr(qr){qr=[typeof globalThis=="object"&&globalThis,qr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var an=0;an<qr.length;++an){var pn=qr[an];if(pn&&pn.Math==Math)return pn}throw Error("Cannot find global object")}var nr=rr(this);function ir(qr,an){if(an)e:{var pn=nr;qr=qr.split(".");for(var Tn=0;Tn<qr.length-1;Tn++){var ga=qr[Tn];if(!(ga in pn))break e;pn=pn[ga]}qr=qr[qr.length-1],Tn=pn[qr],an=an(Tn),an!=Tn&&an!=null&&er(pn,qr,{configurable:!0,writable:!0,value:an})}}function ar(qr,an){qr instanceof String&&(qr+="");var pn=0,Tn=!1,ga={next:function(){if(!Tn&&pn<qr.length){var hs=pn++;return{value:an(hs,qr[hs]),done:!1}}return Tn=!0,{done:!0,value:void 0}}};return ga[Symbol.iterator]=function(){return ga},ga}ir("Array.prototype.values",function(qr){return qr||function(){return ar(this,function(an,pn){return pn})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var sr=sr||{},lr=this||self;function or(qr){var an=typeof qr;return an=an!="object"?an:qr?Array.isArray(qr)?"array":an:"null",an=="array"||an=="object"&&typeof qr.length=="number"}function cr(qr){var an=typeof qr;return an=="object"&&qr!=null||an=="function"}function ur(qr,an,pn){return qr.call.apply(qr.bind,arguments)}function dr(qr,an,pn){if(!qr)throw Error();if(2<arguments.length){var Tn=Array.prototype.slice.call(arguments,2);return function(){var ga=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ga,Tn),qr.apply(an,ga)}}return function(){return qr.apply(an,arguments)}}function hr(qr,an,pn){return hr=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ur:dr,hr.apply(null,arguments)}function fr(qr,an){var pn=Array.prototype.slice.call(arguments,1);return function(){var Tn=pn.slice();return Tn.push.apply(Tn,arguments),qr.apply(this,Tn)}}function mr(qr,an){function pn(){}pn.prototype=an.prototype,qr.aa=an.prototype,qr.prototype=new pn,qr.prototype.constructor=qr,qr.Qb=function(Tn,ga,hs){for(var Ns=Array(arguments.length-2),eo=2;eo<arguments.length;eo++)Ns[eo-2]=arguments[eo];return an.prototype[ga].apply(Tn,Ns)}}function br(qr){const an=qr.length;if(0<an){const pn=Array(an);for(let Tn=0;Tn<an;Tn++)pn[Tn]=qr[Tn];return pn}return[]}function pr(qr,an){for(let pn=1;pn<arguments.length;pn++){const Tn=arguments[pn];if(or(Tn)){const ga=qr.length||0,hs=Tn.length||0;qr.length=ga+hs;for(let Ns=0;Ns<hs;Ns++)qr[ga+Ns]=Tn[Ns]}else qr.push(Tn)}}class gr{constructor(an,pn){this.i=an,this.j=pn,this.h=0,this.g=null}get(){let an;return 0<this.h?(this.h--,an=this.g,this.g=an.next,an.next=null):an=this.i(),an}}function yr(qr){return/^[\s\xa0]*$/.test(qr)}function vr(){var qr=lr.navigator;return qr&&(qr=qr.userAgent)?qr:""}function _r(qr){return _r[" "](qr),qr}_r[" "]=function(){};var xr=vr().indexOf("Gecko")!=-1&&!(vr().toLowerCase().indexOf("webkit")!=-1&&vr().indexOf("Edge")==-1)&&!(vr().indexOf("Trident")!=-1||vr().indexOf("MSIE")!=-1)&&vr().indexOf("Edge")==-1;function Rr(qr,an,pn){for(const Tn in qr)an.call(pn,qr[Tn],Tn,qr)}function Cr(qr,an){for(const pn in qr)an.call(void 0,qr[pn],pn,qr)}function Tr(qr){const an={};for(const pn in qr)an[pn]=qr[pn];return an}const Ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(qr,an){let pn,Tn;for(let ga=1;ga<arguments.length;ga++){Tn=arguments[ga];for(pn in Tn)qr[pn]=Tn[pn];for(let hs=0;hs<Ir.length;hs++)pn=Ir[hs],Object.prototype.hasOwnProperty.call(Tn,pn)&&(qr[pn]=Tn[pn])}}function Nr(qr){var an=1;qr=qr.split(":");const pn=[];for(;0<an&&qr.length;)pn.push(qr.shift()),an--;return qr.length&&pn.push(qr.join(":")),pn}function Or(qr){lr.setTimeout(()=>{throw qr},0)}function Pr(){var qr=Sr;let an=null;return qr.g&&(an=qr.g,qr.g=qr.g.next,qr.g||(qr.h=null),an.next=null),an}class Mr{constructor(){this.h=this.g=null}add(an,pn){const Tn=jr.get();Tn.set(an,pn),this.h?this.h.next=Tn:this.g=Tn,this.h=Tn}}var jr=new gr(()=>new wr,qr=>qr.reset());class wr{constructor(){this.next=this.g=this.h=null}set(an,pn){this.h=an,this.g=pn,this.next=null}reset(){this.next=this.g=this.h=null}}let Er,Ar=!1,Sr=new Mr,Dr=()=>{const qr=lr.Promise.resolve(void 0);Er=()=>{qr.then(Wr)}};var Wr=()=>{for(var qr;qr=Pr();){try{qr.h.call(qr.g)}catch(pn){Or(pn)}var an=jr;an.j(qr),100>an.h&&(an.h++,qr.next=an.g,an.g=qr)}Ar=!1};function $r(){this.s=this.s,this.C=this.C}$r.prototype.s=!1,$r.prototype.ma=function(){this.s||(this.s=!0,this.N())},$r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Vr(qr,an){this.type=qr,this.g=this.target=an,this.defaultPrevented=!1}Vr.prototype.h=function(){this.defaultPrevented=!0};var zr=function(){if(!lr.addEventListener||!Object.defineProperty)return!1;var qr=!1,an=Object.defineProperty({},"passive",{get:function(){qr=!0}});try{const pn=()=>{};lr.addEventListener("test",pn,an),lr.removeEventListener("test",pn,an)}catch{}return qr}();function Gr(qr,an){if(Vr.call(this,qr?qr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,qr){var pn=this.type=qr.type,Tn=qr.changedTouches&&qr.changedTouches.length?qr.changedTouches[0]:null;if(this.target=qr.target||qr.srcElement,this.g=an,an=qr.relatedTarget){if(xr){e:{try{_r(an.nodeName);var ga=!0;break e}catch{}ga=!1}ga||(an=null)}}else pn=="mouseover"?an=qr.fromElement:pn=="mouseout"&&(an=qr.toElement);this.relatedTarget=an,Tn?(this.clientX=Tn.clientX!==void 0?Tn.clientX:Tn.pageX,this.clientY=Tn.clientY!==void 0?Tn.clientY:Tn.pageY,this.screenX=Tn.screenX||0,this.screenY=Tn.screenY||0):(this.clientX=qr.clientX!==void 0?qr.clientX:qr.pageX,this.clientY=qr.clientY!==void 0?qr.clientY:qr.pageY,this.screenX=qr.screenX||0,this.screenY=qr.screenY||0),this.button=qr.button,this.key=qr.key||"",this.ctrlKey=qr.ctrlKey,this.altKey=qr.altKey,this.shiftKey=qr.shiftKey,this.metaKey=qr.metaKey,this.pointerId=qr.pointerId||0,this.pointerType=typeof qr.pointerType=="string"?qr.pointerType:Fr[qr.pointerType]||"",this.state=qr.state,this.i=qr,qr.defaultPrevented&&Gr.aa.h.call(this)}}mr(Gr,Vr);var Fr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.aa.h.call(this);var qr=this.i;qr.preventDefault?qr.preventDefault():qr.returnValue=!1};var Xr="closure_listenable_"+(1e6*Math.random()|0),Ur=0;function Br(qr,an,pn,Tn,ga){this.listener=qr,this.proxy=null,this.src=an,this.type=pn,this.capture=!!Tn,this.ha=ga,this.key=++Ur,this.da=this.fa=!1}function Kr(qr){qr.da=!0,qr.listener=null,qr.proxy=null,qr.src=null,qr.ha=null}function Zr(qr){this.src=qr,this.g={},this.h=0}Zr.prototype.add=function(qr,an,pn,Tn,ga){var hs=qr.toString();qr=this.g[hs],qr||(qr=this.g[hs]=[],this.h++);var Ns=sn(qr,an,Tn,ga);return-1<Ns?(an=qr[Ns],pn||(an.fa=!1)):(an=new Br(an,this.src,hs,!!Tn,ga),an.fa=pn,qr.push(an)),an};function tn(qr,an){var pn=an.type;if(pn in qr.g){var Tn=qr.g[pn],ga=Array.prototype.indexOf.call(Tn,an,void 0),hs;(hs=0<=ga)&&Array.prototype.splice.call(Tn,ga,1),hs&&(Kr(an),qr.g[pn].length==0&&(delete qr.g[pn],qr.h--))}}function sn(qr,an,pn,Tn){for(var ga=0;ga<qr.length;++ga){var hs=qr[ga];if(!hs.da&&hs.listener==an&&hs.capture==!!pn&&hs.ha==Tn)return ga}return-1}var un="closure_lm_"+(1e6*Math.random()|0),hn={};function Jr(qr,an,pn,Tn,ga){if(Array.isArray(an)){for(var hs=0;hs<an.length;hs++)Jr(qr,an[hs],pn,Tn,ga);return null}return pn=Sn(pn),qr&&qr[Xr]?qr.K(an,pn,cr(Tn)?!!Tn.capture:!1,ga):nn(qr,an,pn,!1,Tn,ga)}function nn(qr,an,pn,Tn,ga,hs){if(!an)throw Error("Invalid event type");var Ns=cr(ga)?!!ga.capture:!!ga,eo=Rn(qr);if(eo||(qr[un]=eo=new Zr(qr)),pn=eo.add(an,pn,Tn,Ns,hs),pn.proxy)return pn;if(Tn=rn(),pn.proxy=Tn,Tn.src=qr,Tn.listener=pn,qr.addEventListener)zr||(ga=Ns),ga===void 0&&(ga=!1),qr.addEventListener(an.toString(),Tn,ga);else if(qr.attachEvent)qr.attachEvent(mn(an.toString()),Tn);else if(qr.addListener&&qr.removeListener)qr.addListener(Tn);else throw Error("addEventListener and attachEvent are unavailable.");return pn}function rn(){function qr(pn){return an.call(qr.src,qr.listener,pn)}const an=yn;return qr}function on(qr,an,pn,Tn,ga){if(Array.isArray(an))for(var hs=0;hs<an.length;hs++)on(qr,an[hs],pn,Tn,ga);else Tn=cr(Tn)?!!Tn.capture:!!Tn,pn=Sn(pn),qr&&qr[Xr]?(qr=qr.i,an=String(an).toString(),an in qr.g&&(hs=qr.g[an],pn=sn(hs,pn,Tn,ga),-1<pn&&(Kr(hs[pn]),Array.prototype.splice.call(hs,pn,1),hs.length==0&&(delete qr.g[an],qr.h--)))):qr&&(qr=Rn(qr))&&(an=qr.g[an.toString()],qr=-1,an&&(qr=sn(an,pn,Tn,ga)),(pn=-1<qr?an[qr]:null)&&fn(pn))}function fn(qr){if(typeof qr!="number"&&qr&&!qr.da){var an=qr.src;if(an&&an[Xr])tn(an.i,qr);else{var pn=qr.type,Tn=qr.proxy;an.removeEventListener?an.removeEventListener(pn,Tn,qr.capture):an.detachEvent?an.detachEvent(mn(pn),Tn):an.addListener&&an.removeListener&&an.removeListener(Tn),(pn=Rn(an))?(tn(pn,qr),pn.h==0&&(pn.src=null,an[un]=null)):Kr(qr)}}}function mn(qr){return qr in hn?hn[qr]:hn[qr]="on"+qr}function yn(qr,an){if(qr.da)qr=!0;else{an=new Gr(an,this);var pn=qr.listener,Tn=qr.ha||qr.src;qr.fa&&fn(qr),qr=pn.call(Tn,an)}return qr}function Rn(qr){return qr=qr[un],qr instanceof Zr?qr:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(qr){return typeof qr=="function"?qr:(qr[In]||(qr[In]=function(an){return qr.handleEvent(an)}),qr[In])}function Dn(){$r.call(this),this.i=new Zr(this),this.M=this,this.F=null}mr(Dn,$r),Dn.prototype[Xr]=!0,Dn.prototype.removeEventListener=function(qr,an,pn,Tn){on(this,qr,an,pn,Tn)};function zn(qr,an){var pn,Tn=qr.F;if(Tn)for(pn=[];Tn;Tn=Tn.F)pn.push(Tn);if(qr=qr.M,Tn=an.type||an,typeof an=="string")an=new Vr(an,qr);else if(an instanceof Vr)an.target=an.target||qr;else{var ga=an;an=new Vr(Tn,qr),Lr(an,ga)}if(ga=!0,pn)for(var hs=pn.length-1;0<=hs;hs--){var Ns=an.g=pn[hs];ga=rs(Ns,Tn,!0,an)&&ga}if(Ns=an.g=qr,ga=rs(Ns,Tn,!0,an)&&ga,ga=rs(Ns,Tn,!1,an)&&ga,pn)for(hs=0;hs<pn.length;hs++)Ns=an.g=pn[hs],ga=rs(Ns,Tn,!1,an)&&ga}Dn.prototype.N=function(){if(Dn.aa.N.call(this),this.i){var qr=this.i,an;for(an in qr.g){for(var pn=qr.g[an],Tn=0;Tn<pn.length;Tn++)Kr(pn[Tn]);delete qr.g[an],qr.h--}}this.F=null},Dn.prototype.K=function(qr,an,pn,Tn){return this.i.add(String(qr),an,!1,pn,Tn)},Dn.prototype.L=function(qr,an,pn,Tn){return this.i.add(String(qr),an,!0,pn,Tn)};function rs(qr,an,pn,Tn){if(an=qr.i.g[String(an)],!an)return!0;an=an.concat();for(var ga=!0,hs=0;hs<an.length;++hs){var Ns=an[hs];if(Ns&&!Ns.da&&Ns.capture==pn){var eo=Ns.listener,co=Ns.ha||Ns.src;Ns.fa&&tn(qr.i,Ns),ga=eo.call(co,Tn)!==!1&&ga}}return ga&&!Tn.defaultPrevented}function ns(qr,an,pn){if(typeof qr=="function")pn&&(qr=hr(qr,pn));else if(qr&&typeof qr.handleEvent=="function")qr=hr(qr.handleEvent,qr);else throw Error("Invalid listener argument");return 2147483647<Number(an)?-1:lr.setTimeout(qr,an||0)}function fs(qr){qr.g=ns(()=>{qr.g=null,qr.i&&(qr.i=!1,fs(qr))},qr.l);const an=qr.h;qr.h=null,qr.m.apply(null,an)}class qn extends $r{constructor(an,pn){super(),this.m=an,this.l=pn,this.h=null,this.i=!1,this.g=null}j(an){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(lr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(qr){$r.call(this),this.h=qr,this.g={}}mr(ds,$r);var os=[];function gs(qr){Rr(qr.g,function(an,pn){this.g.hasOwnProperty(pn)&&fn(an)},qr),qr.g={}}ds.prototype.N=function(){ds.aa.N.call(this),gs(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=lr.JSON.stringify,Fn=lr.JSON.parse,Bn=class{stringify(qr){return lr.JSON.stringify(qr,void 0)}parse(qr){return lr.JSON.parse(qr,void 0)}};function ss(){}ss.prototype.h=null;function $s(qr){return qr.h||(qr.h=qr.i())}function vs(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){Vr.call(this,"d")}mr(Qn,Vr);function xa(){Vr.call(this,"c")}mr(xa,Vr);var as={},ms=null;function ls(){return ms=ms||new Dn}as.La="serverreachability";function An(qr){Vr.call(this,as.La,qr)}mr(An,Vr);function wn(qr){const an=ls();zn(an,new An(an))}as.STAT_EVENT="statevent";function Nn(qr,an){Vr.call(this,as.STAT_EVENT,qr),this.stat=an}mr(Nn,Vr);function $n(qr){const an=ls();zn(an,new Nn(an,qr))}as.Ma="timingevent";function Gn(qr,an){Vr.call(this,as.Ma,qr),this.size=an}mr(Gn,Vr);function gn(qr,an){if(typeof qr!="function")throw Error("Fn must not be null and must be a function");return lr.setTimeout(function(){qr()},an)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function jn(qr,an,pn,Tn,ga,hs){qr.info(function(){if(qr.g)if(hs)for(var Ns="",eo=hs.split("&"),co=0;co<eo.length;co++){var to=eo[co].split("=");if(1<to.length){var vo=to[0];to=to[1];var ko=vo.split("_");Ns=2<=ko.length&&ko[1]=="type"?Ns+(vo+"="+to+"&"):Ns+(vo+"=redacted&")}}else Ns=null;else Ns=hs;return"XMLHTTP REQ ("+Tn+") [attempt "+ga+"]: "+an+`
`+pn+`
`+Ns})}function On(qr,an,pn,Tn,ga,hs,Ns){qr.info(function(){return"XMLHTTP RESP ("+Tn+") [ attempt "+ga+"]: "+an+`
`+pn+`
`+hs+" "+Ns})}function Un(qr,an,pn,Tn){qr.info(function(){return"XMLHTTP TEXT ("+an+"): "+Kn(qr,pn)+(Tn?" "+Tn:"")})}function Hn(qr,an){qr.info(function(){return"TIMEOUT: "+an})}_n.prototype.info=function(){};function Kn(qr,an){if(!qr.g)return an;if(!an)return null;try{var pn=JSON.parse(an);if(pn){for(qr=0;qr<pn.length;qr++)if(Array.isArray(pn[qr])){var Tn=pn[qr];if(!(2>Tn.length)){var ga=Tn[1];if(Array.isArray(ga)&&!(1>ga.length)){var hs=ga[0];if(hs!="noop"&&hs!="stop"&&hs!="close")for(var Ns=1;Ns<ga.length;Ns++)ga[Ns]=""}}}}return Wn(pn)}catch{return an}}var _i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ys={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Cs(){}mr(Cs,ss),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},xs=new Cs;function Rs(qr,an,pn,Tn){this.j=qr,this.i=an,this.l=pn,this.R=Tn||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var Ws={},Xs={};function ro(qr,an,pn){qr.L=1,qr.v=Qo(Oo(an)),qr.m=pn,qr.P=!0,ao(qr,null)}function ao(qr,an){qr.F=Date.now(),is(qr),qr.A=Oo(qr.v);var pn=qr.A,Tn=qr.R;Array.isArray(Tn)||(Tn=[String(Tn)]),Ks(pn.i,"t",Tn),qr.C=0,pn=qr.j.J,qr.h=new Ls,qr.g=bn(qr.j,pn?an:null,!qr.m),0<qr.O&&(qr.M=new qn(hr(qr.Y,qr,qr.g),qr.O)),an=qr.U,pn=qr.g,Tn=qr.ca;var ga="readystatechange";Array.isArray(ga)||(ga&&(os[0]=ga.toString()),ga=os);for(var hs=0;hs<ga.length;hs++){var Ns=Jr(pn,ga[hs],Tn||an.handleEvent,!1,an.h||an);if(!Ns)break;an.g[Ns.key]=Ns}an=qr.H?Tr(qr.H):{},qr.m?(qr.u||(qr.u="POST"),an["Content-Type"]="application/x-www-form-urlencoded",qr.g.ea(qr.A,qr.u,qr.m,an)):(qr.u="GET",qr.g.ea(qr.A,qr.u,null,an)),wn(),jn(qr.i,qr.u,qr.A,qr.l,qr.R,qr.m)}Rs.prototype.ca=function(qr){qr=qr.target;const an=this.M;an&&Vo(qr)==3?an.j():this.Y(qr)},Rs.prototype.Y=function(qr){try{if(qr==this.g)e:{const ko=Vo(this.g);var an=this.g.Ba();const Zl=this.g.Z();if(!(3>ko)&&(ko!=3||this.g&&(this.h.h||this.g.oa()||tp(this.g)))){this.J||ko!=4||an==7||(an==8||0>=Zl?wn(3):wn(2)),As(this);var pn=this.g.Z();this.X=pn;t:if(_o(this)){var Tn=tp(this.g);qr="";var ga=Tn.length,hs=Vo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),Fs(this);var Ns="";break t}this.h.i=new lr.TextDecoder}for(an=0;an<ga;an++)this.h.h=!0,qr+=this.h.i.decode(Tn[an],{stream:!(hs&&an==ga-1)});Tn.length=0,this.h.g+=qr,this.C=0,Ns=this.h.g}else Ns=this.g.oa();if(this.o=pn==200,On(this.i,this.u,this.A,this.l,this.R,ko,pn),this.o){if(this.T&&!this.K){t:{if(this.g){var eo,co=this.g;if((eo=co.g?co.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(eo)){var to=eo;break t}}to=null}if(pn=to)Un(this.i,this.l,pn,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,pn);else{this.o=!1,this.s=3,$n(12),ks(this),Fs(this);break e}}if(this.P){pn=!0;let Ko;for(;!this.J&&this.C<Ns.length;)if(Ko=Ln(this,Ns),Ko==Xs){ko==4&&(this.s=4,$n(14),pn=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Ko==Ws){this.s=4,$n(15),Un(this.i,this.l,Ns,"[Invalid Chunk]"),pn=!1;break}else Un(this.i,this.l,Ko,null),Os(this,Ko);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ko!=4||Ns.length!=0||this.h.h||(this.s=1,$n(16),pn=!1),this.o=this.o&&pn,!pn)Un(this.i,this.l,Ns,"[Invalid Chunked Response]"),ks(this),Fs(this);else if(0<Ns.length&&!this.W){this.W=!0;var vo=this.j;vo.g==this&&vo.ba&&!vo.M&&(vo.j.info("Great, no buffering proxy detected. Bytes received: "+Ns.length),Ru(vo),vo.M=!0,$n(11))}}else Un(this.i,this.l,Ns,null),Os(this,Ns);ko==4&&ks(this),this.o&&!this.J&&(ko==4?nu(this.j,this):(this.o=!1,is(this)))}else tu(this.g),pn==400&&0<Ns.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),ks(this),Fs(this)}}}catch{}finally{}};function _o(qr){return qr.g?qr.u=="GET"&&qr.L!=2&&qr.j.Ca:!1}function Ln(qr,an){var pn=qr.C,Tn=an.indexOf(`
`,pn);return Tn==-1?Xs:(pn=Number(an.substring(pn,Tn)),isNaN(pn)?Ws:(Tn+=1,Tn+pn>an.length?Xs:(an=an.slice(Tn,Tn+pn),qr.C=Tn+pn,an)))}Rs.prototype.cancel=function(){this.J=!0,ks(this)};function is(qr){qr.S=Date.now()+qr.I,ws(qr,qr.I)}function ws(qr,an){if(qr.B!=null)throw Error("WatchDog timer not null");qr.B=gn(hr(qr.ba,qr),an)}function As(qr){qr.B&&(lr.clearTimeout(qr.B),qr.B=null)}Rs.prototype.ba=function(){this.B=null;const qr=Date.now();0<=qr-this.S?(Hn(this.i,this.A),this.L!=2&&(wn(),$n(17)),ks(this),this.s=2,Fs(this)):ws(this,this.S-qr)};function Fs(qr){qr.j.G==0||qr.J||nu(qr.j,qr)}function ks(qr){As(qr);var an=qr.M;an&&typeof an.ma=="function"&&an.ma(),qr.M=null,gs(qr.U),qr.g&&(an=qr.g,qr.g=null,an.abort(),an.ma())}function Os(qr,an){try{var pn=qr.j;if(pn.G!=0&&(pn.g==qr||so(pn.h,qr))){if(!qr.K&&so(pn.h,qr)&&pn.G==3){try{var Tn=pn.Da.g.parse(an)}catch{Tn=null}if(Array.isArray(Tn)&&Tn.length==3){var ga=Tn;if(ga[0]==0){e:if(!pn.u){if(pn.g)if(pn.g.F+3e3<qr.F)Ql(pn),Su(pn);else break e;uu(pn),$n(18)}}else pn.za=ga[1],0<pn.za-pn.T&&37500>ga[2]&&pn.F&&pn.v==0&&!pn.C&&(pn.C=gn(hr(pn.Za,pn),6e3));if(1>=Us(pn.h)&&pn.ca){try{pn.ca()}catch{}pn.ca=void 0}}else Zo(pn,11)}else if((qr.K||pn.g==qr)&&Ql(pn),!yr(an))for(ga=pn.Da.g.parse(an),an=0;an<ga.length;an++){let to=ga[an];if(pn.T=to[0],to=to[1],pn.G==2)if(to[0]=="c"){pn.K=to[1],pn.ia=to[2];const vo=to[3];vo!=null&&(pn.la=vo,pn.j.info("VER="+pn.la));const ko=to[4];ko!=null&&(pn.Aa=ko,pn.j.info("SVER="+pn.Aa));const Zl=to[5];Zl!=null&&typeof Zl=="number"&&0<Zl&&(Tn=1.5*Zl,pn.L=Tn,pn.j.info("backChannelRequestTimeoutMs_="+Tn)),Tn=pn;const Ko=qr.g;if(Ko){const iu=Ko.g?Ko.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var hs=Tn.h;hs.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(hs.j=hs.l,hs.g=new Set,hs.h&&(Hs(hs,hs.h),hs.h=null))}if(Tn.D){const au=Ko.g?Ko.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(Tn.ya=au,lo(Tn.I,Tn.D,au))}}pn.G=3,pn.l&&pn.l.ua(),pn.ba&&(pn.R=Date.now()-qr.F,pn.j.info("Handshake RTT: "+pn.R+"ms")),Tn=pn;var Ns=qr;if(Tn.qa=Qr(Tn,Tn.J?Tn.ia:null,Tn.W),Ns.K){oo(Tn.h,Ns);var eo=Ns,co=Tn.L;co&&(eo.I=co),eo.B&&(As(eo),is(eo)),Tn.g=Ns}else Pu(Tn);0<pn.i.length&&Au(pn)}else to[0]!="stop"&&to[0]!="close"||Zo(pn,7);else pn.G==3&&(to[0]=="stop"||to[0]=="close"?to[0]=="stop"?Zo(pn,7):Yl(pn):to[0]!="noop"&&pn.l&&pn.l.ta(to),pn.v=0)}}wn(4)}catch{}}var Js=class{constructor(qr,an){this.g=qr,this.map=an}};function qs(qr){this.l=qr||10,lr.PerformanceNavigationTiming?(qr=lr.performance.getEntriesByType("navigation"),qr=0<qr.length&&(qr[0].nextHopProtocol=="hq"||qr[0].nextHopProtocol=="h2")):qr=!!(lr.chrome&&lr.chrome.loadTimes&&lr.chrome.loadTimes()&&lr.chrome.loadTimes().wasFetchedViaSpdy),this.j=qr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(qr){return qr.h?!0:qr.g?qr.g.size>=qr.j:!1}function Us(qr){return qr.h?1:qr.g?qr.g.size:0}function so(qr,an){return qr.h?qr.h==an:qr.g?qr.g.has(an):!1}function Hs(qr,an){qr.g?qr.g.add(an):qr.h=an}function oo(qr,an){qr.h&&qr.h==an?qr.h=null:qr.g&&qr.g.has(an)&&qr.g.delete(an)}qs.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const qr of this.g.values())qr.cancel();this.g.clear()}};function ho(qr){if(qr.h!=null)return qr.i.concat(qr.h.D);if(qr.g!=null&&qr.g.size!==0){let an=qr.i;for(const pn of qr.g.values())an=an.concat(pn.D);return an}return br(qr.i)}function Po(qr){if(qr.V&&typeof qr.V=="function")return qr.V();if(typeof Map<"u"&&qr instanceof Map||typeof Set<"u"&&qr instanceof Set)return Array.from(qr.values());if(typeof qr=="string")return qr.split("");if(or(qr)){for(var an=[],pn=qr.length,Tn=0;Tn<pn;Tn++)an.push(qr[Tn]);return an}an=[],pn=0;for(Tn in qr)an[pn++]=qr[Tn];return an}function Ro(qr){if(qr.na&&typeof qr.na=="function")return qr.na();if(!qr.V||typeof qr.V!="function"){if(typeof Map<"u"&&qr instanceof Map)return Array.from(qr.keys());if(!(typeof Set<"u"&&qr instanceof Set)){if(or(qr)||typeof qr=="string"){var an=[];qr=qr.length;for(var pn=0;pn<qr;pn++)an.push(pn);return an}an=[],pn=0;for(const Tn in qr)an[pn++]=Tn;return an}}}function Lo(qr,an){if(qr.forEach&&typeof qr.forEach=="function")qr.forEach(an,void 0);else if(or(qr)||typeof qr=="string")Array.prototype.forEach.call(qr,an,void 0);else for(var pn=Ro(qr),Tn=Po(qr),ga=Tn.length,hs=0;hs<ga;hs++)an.call(void 0,Tn[hs],pn&&pn[hs],qr)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(qr,an){if(qr){qr=qr.split("&");for(var pn=0;pn<qr.length;pn++){var Tn=qr[pn].indexOf("="),ga=null;if(0<=Tn){var hs=qr[pn].substring(0,Tn);ga=qr[pn].substring(Tn+1)}else hs=qr[pn];an(hs,ga?decodeURIComponent(ga.replace(/\+/g," ")):"")}}}function go(qr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,qr instanceof go){this.h=qr.h,no(this,qr.j),this.o=qr.o,this.g=qr.g,Qs(this,qr.s),this.l=qr.l;var an=qr.i,pn=new Jo;pn.i=an.i,an.g&&(pn.g=new Map(an.g),pn.h=an.h),zo(this,pn),this.m=qr.m}else qr&&(an=String(qr).match(jo))?(this.h=!1,no(this,an[1]||"",!0),this.o=ps(an[2]||""),this.g=ps(an[3]||"",!0),Qs(this,an[4]),this.l=ps(an[5]||"",!0),zo(this,an[6]||"",!0),this.m=ps(an[7]||"")):(this.h=!1,this.i=new Jo(null,this.h))}go.prototype.toString=function(){var qr=[],an=this.j;an&&qr.push(js(an,Zs,!0),":");var pn=this.g;return(pn||an=="file")&&(qr.push("//"),(an=this.o)&&qr.push(js(an,Zs,!0),"@"),qr.push(encodeURIComponent(String(pn)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),pn=this.s,pn!=null&&qr.push(":",String(pn))),(pn=this.l)&&(this.g&&pn.charAt(0)!="/"&&qr.push("/"),qr.push(js(pn,pn.charAt(0)=="/"?fo:xo,!0))),(pn=this.i.toString())&&qr.push("?",pn),(pn=this.m)&&qr.push("#",js(pn,Hl)),qr.join("")};function Oo(qr){return new go(qr)}function no(qr,an,pn){qr.j=pn?ps(an,!0):an,qr.j&&(qr.j=qr.j.replace(/:$/,""))}function Qs(qr,an){if(an){if(an=Number(an),isNaN(an)||0>an)throw Error("Bad port number "+an);qr.s=an}else qr.s=null}function zo(qr,an,pn){an instanceof Jo?(qr.i=an,eu(qr.i,qr.h)):(pn||(an=js(an,mo)),qr.i=new Jo(an,qr.h))}function lo(qr,an,pn){qr.i.set(an,pn)}function Qo(qr){return lo(qr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),qr}function ps(qr,an){return qr?an?decodeURI(qr.replace(/%25/g,"%2525")):decodeURIComponent(qr):""}function js(qr,an,pn){return typeof qr=="string"?(qr=encodeURI(qr).replace(an,zs),pn&&(qr=qr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),qr):null}function zs(qr){return qr=qr.charCodeAt(0),"%"+(qr>>4&15).toString(16)+(qr&15).toString(16)}var Zs=/[#\/\?@]/g,xo=/[#\?:]/g,fo=/[#\?]/g,mo=/[#\?@]/g,Hl=/#/g;function Jo(qr,an){this.h=this.g=null,this.i=qr||null,this.j=!!an}function wo(qr){qr.g||(qr.g=new Map,qr.h=0,qr.i&&qo(qr.i,function(an,pn){qr.add(decodeURIComponent(an.replace(/\+/g," ")),pn)}))}tr=Jo.prototype,tr.add=function(qr,an){wo(this),this.i=null,qr=yl(this,qr);var pn=this.g.get(qr);return pn||this.g.set(qr,pn=[]),pn.push(an),this.h+=1,this};function Gl(qr,an){wo(qr),an=yl(qr,an),qr.g.has(an)&&(qr.i=null,qr.h-=qr.g.get(an).length,qr.g.delete(an))}function $l(qr,an){return wo(qr),an=yl(qr,an),qr.g.has(an)}tr.forEach=function(qr,an){wo(this),this.g.forEach(function(pn,Tn){pn.forEach(function(ga){qr.call(an,ga,Tn,this)},this)},this)},tr.na=function(){wo(this);const qr=Array.from(this.g.values()),an=Array.from(this.g.keys()),pn=[];for(let Tn=0;Tn<an.length;Tn++){const ga=qr[Tn];for(let hs=0;hs<ga.length;hs++)pn.push(an[Tn])}return pn},tr.V=function(qr){wo(this);let an=[];if(typeof qr=="string")$l(this,qr)&&(an=an.concat(this.g.get(yl(this,qr))));else{qr=Array.from(this.g.values());for(let pn=0;pn<qr.length;pn++)an=an.concat(qr[pn])}return an},tr.set=function(qr,an){return wo(this),this.i=null,qr=yl(this,qr),$l(this,qr)&&(this.h-=this.g.get(qr).length),this.g.set(qr,[an]),this.h+=1,this},tr.get=function(qr,an){return qr?(qr=this.V(qr),0<qr.length?String(qr[0]):an):an};function Ks(qr,an,pn){Gl(qr,an),0<pn.length&&(qr.i=null,qr.g.set(yl(qr,an),br(pn)),qr.h+=pn.length)}tr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const qr=[],an=Array.from(this.g.keys());for(var pn=0;pn<an.length;pn++){var Tn=an[pn];const hs=encodeURIComponent(String(Tn)),Ns=this.V(Tn);for(Tn=0;Tn<Ns.length;Tn++){var ga=hs;Ns[Tn]!==""&&(ga+="="+encodeURIComponent(String(Ns[Tn]))),qr.push(ga)}}return this.i=qr.join("&")};function yl(qr,an){return an=String(an),qr.j&&(an=an.toLowerCase()),an}function eu(qr,an){an&&!qr.j&&(wo(qr),qr.i=null,qr.g.forEach(function(pn,Tn){var ga=Tn.toLowerCase();Tn!=ga&&(Gl(this,Tn),Ks(this,ga,pn))},qr)),qr.j=an}function Ml(qr,an){const pn=new _n;if(lr.Image){const Tn=new Image;Tn.onload=fr(Pl,pn,"TestLoadImage: loaded",!0,an,Tn),Tn.onerror=fr(Pl,pn,"TestLoadImage: error",!1,an,Tn),Tn.onabort=fr(Pl,pn,"TestLoadImage: abort",!1,an,Tn),Tn.ontimeout=fr(Pl,pn,"TestLoadImage: timeout",!1,an,Tn),lr.setTimeout(function(){Tn.ontimeout&&Tn.ontimeout()},1e4),Tn.src=qr}else an(!1)}function _f(qr,an){const pn=new _n,Tn=new AbortController,ga=setTimeout(()=>{Tn.abort(),Pl(pn,"TestPingServer: timeout",!1,an)},1e4);fetch(qr,{signal:Tn.signal}).then(hs=>{clearTimeout(ga),hs.ok?Pl(pn,"TestPingServer: ok",!0,an):Pl(pn,"TestPingServer: server error",!1,an)}).catch(()=>{clearTimeout(ga),Pl(pn,"TestPingServer: error",!1,an)})}function Pl(qr,an,pn,Tn,ga){try{ga&&(ga.onload=null,ga.onerror=null,ga.onabort=null,ga.ontimeout=null),Tn(pn)}catch{}}function vu(){this.g=new Bn}function Uu(qr,an,pn){const Tn=pn||"";try{Lo(qr,function(ga,hs){let Ns=ga;cr(ga)&&(Ns=Wn(ga)),an.push(Tn+hs+"="+encodeURIComponent(Ns))})}catch(ga){throw an.push(Tn+"type="+encodeURIComponent("_badmap")),ga}}function _u(qr){this.l=qr.Ub||null,this.j=qr.eb||!1}mr(_u,ss),_u.prototype.g=function(){return new xu(this.l,this.j)},_u.prototype.i=function(qr){return function(){return qr}}({});function xu(qr,an){Dn.call(this),this.D=qr,this.o=an,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}mr(xu,Dn),tr=xu.prototype,tr.open=function(qr,an){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=qr,this.A=an,this.readyState=1,Rl(this)},tr.send=function(qr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const an={headers:this.u,method:this.B,credentials:this.m,cache:void 0};qr&&(an.body=qr),(this.D||lr).fetch(new Request(this.A,an)).then(this.Sa.bind(this),this.ga.bind(this))},tr.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},tr.Sa=function(qr){if(this.g&&(this.l=qr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=qr.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")qr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof lr.ReadableStream<"u"&&"body"in qr){if(this.j=qr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ep(this)}else qr.text().then(this.Ra.bind(this),this.ga.bind(this))};function ep(qr){qr.j.read().then(qr.Pa.bind(qr)).catch(qr.ga.bind(qr))}tr.Pa=function(qr){if(this.g){if(this.o&&qr.value)this.response.push(qr.value);else if(!this.o){var an=qr.value?qr.value:new Uint8Array(0);(an=this.v.decode(an,{stream:!qr.done}))&&(this.response=this.responseText+=an)}qr.done?Kl(this):Rl(this),this.readyState==3&&ep(this)}},tr.Ra=function(qr){this.g&&(this.response=this.responseText=qr,Kl(this))},tr.Qa=function(qr){this.g&&(this.response=qr,Kl(this))},tr.ga=function(){this.g&&Kl(this)};function Kl(qr){qr.readyState=4,qr.l=null,qr.j=null,qr.v=null,Rl(qr)}tr.setRequestHeader=function(qr,an){this.u.append(qr,an)},tr.getResponseHeader=function(qr){return this.h&&this.h.get(qr.toLowerCase())||""},tr.getAllResponseHeaders=function(){if(!this.h)return"";const qr=[],an=this.h.entries();for(var pn=an.next();!pn.done;)pn=pn.value,qr.push(pn[0]+": "+pn[1]),pn=an.next();return qr.join(`\r
`)};function Rl(qr){qr.onreadystatechange&&qr.onreadystatechange.call(qr)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(qr){this.m=qr?"include":"same-origin"}});function Xl(qr){let an="";return Rr(qr,function(pn,Tn){an+=Tn,an+=":",an+=pn,an+=`\r
`}),an}function zu(qr,an,pn){e:{for(Tn in pn){var Tn=!1;break e}Tn=!0}Tn||(pn=Xl(pn),typeof qr=="string"?pn!=null&&encodeURIComponent(String(pn)):lo(qr,an,pn))}function bo(qr){Dn.call(this),this.headers=new Map,this.o=qr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}mr(bo,Dn);var Wu=/^https?$/i,wu=["POST","PUT"];tr=bo.prototype,tr.Ha=function(qr){this.J=qr},tr.ea=function(qr,an,pn,Tn){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+qr);an=an?an.toUpperCase():"GET",this.D=qr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?$s(this.o):$s(xs),this.g.onreadystatechange=hr(this.Ea,this);try{this.B=!0,this.g.open(an,String(qr),!0),this.B=!1}catch(hs){Hu(this,hs);return}if(qr=pn||"",pn=new Map(this.headers),Tn)if(Object.getPrototypeOf(Tn)===Object.prototype)for(var ga in Tn)pn.set(ga,Tn[ga]);else if(typeof Tn.keys=="function"&&typeof Tn.get=="function")for(const hs of Tn.keys())pn.set(hs,Tn.get(hs));else throw Error("Unknown input type for opt_headers: "+String(Tn));Tn=Array.from(pn.keys()).find(hs=>hs.toLowerCase()=="content-type"),ga=lr.FormData&&qr instanceof lr.FormData,!(0<=Array.prototype.indexOf.call(wu,an,void 0))||Tn||ga||pn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[hs,Ns]of pn)this.g.setRequestHeader(hs,Ns);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cl(this),this.u=!0,this.g.send(qr),this.u=!1}catch(hs){Hu(this,hs)}};function Hu(qr,an){qr.h=!1,qr.g&&(qr.j=!0,qr.g.abort(),qr.j=!1),qr.l=an,qr.m=5,qu(qr),ou(qr)}function qu(qr){qr.A||(qr.A=!0,zn(qr,"complete"),zn(qr,"error"))}tr.abort=function(qr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=qr||7,zn(this,"complete"),zn(this,"abort"),ou(this))},tr.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),bo.aa.N.call(this)},tr.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},tr.bb=function(){Gu(this)};function Gu(qr){if(qr.h&&typeof sr<"u"&&(!qr.v[1]||Vo(qr)!=4||qr.Z()!=2)){if(qr.u&&Vo(qr)==4)ns(qr.Ea,0,qr);else if(zn(qr,"readystatechange"),Vo(qr)==4){qr.h=!1;try{const Ns=qr.Z();e:switch(Ns){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var an=!0;break e;default:an=!1}var pn;if(!(pn=an)){var Tn;if(Tn=Ns===0){var ga=String(qr.D).match(jo)[1]||null;!ga&&lr.self&&lr.self.location&&(ga=lr.self.location.protocol.slice(0,-1)),Tn=!Wu.test(ga?ga.toLowerCase():"")}pn=Tn}if(pn)zn(qr,"complete"),zn(qr,"success");else{qr.m=6;try{var hs=2<Vo(qr)?qr.g.statusText:""}catch{hs=""}qr.l=hs+" ["+qr.Z()+"]",qu(qr)}}finally{ou(qr)}}}}function ou(qr,an){if(qr.g){Cl(qr);const pn=qr.g,Tn=qr.v[0]?()=>{}:null;qr.g=null,qr.v=null,an||zn(qr,"ready");try{pn.onreadystatechange=Tn}catch{}}}function Cl(qr){qr.I&&(lr.clearTimeout(qr.I),qr.I=null)}tr.isActive=function(){return!!this.g};function Vo(qr){return qr.g?qr.g.readyState:0}tr.Z=function(){try{return 2<Vo(this)?this.g.status:-1}catch{return-1}},tr.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},tr.Oa=function(qr){if(this.g){var an=this.g.responseText;return qr&&an.indexOf(qr)==0&&(an=an.substring(qr.length)),Fn(an)}};function tp(qr){try{if(!qr.g)return null;if("response"in qr.g)return qr.g.response;switch(qr.H){case"":case"text":return qr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in qr.g)return qr.g.mozResponseArrayBuffer}return null}catch{return null}}function tu(qr){const an={};qr=(qr.g&&2<=Vo(qr)&&qr.g.getAllResponseHeaders()||"").split(`\r
`);for(let Tn=0;Tn<qr.length;Tn++){if(yr(qr[Tn]))continue;var pn=Nr(qr[Tn]);const ga=pn[0];if(pn=pn[1],typeof pn!="string")continue;pn=pn.trim();const hs=an[ga]||[];an[ga]=hs,hs.push(pn)}Cr(an,function(Tn){return Tn.join(", ")})}tr.Ba=function(){return this.m},tr.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(qr,an,pn){return pn&&pn.internalChannelParams&&pn.internalChannelParams[qr]||an}function Eu(qr){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,qr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,qr),this.cb=Go("retryDelaySeedMs",1e4,qr),this.Wa=Go("forwardChannelMaxRetries",2,qr),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,qr),this.pa=qr&&qr.xmlHttpFactory||void 0,this.Xa=qr&&qr.Tb||void 0,this.Ca=qr&&qr.useFetchStreams||!1,this.L=void 0,this.J=qr&&qr.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(qr&&qr.concurrentRequestLimit),this.Da=new vu,this.P=qr&&qr.fastHandshake||!1,this.O=qr&&qr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=qr&&qr.Rb||!1,qr&&qr.xa&&this.j.xa(),qr&&qr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&qr&&qr.detectBufferingProxy||!1,this.ja=void 0,qr&&qr.longPollingTimeout&&0<qr.longPollingTimeout&&(this.ja=qr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}tr=Eu.prototype,tr.la=8,tr.G=1,tr.connect=function(qr,an,pn,Tn){$n(0),this.W=qr,this.H=an||{},pn&&Tn!==void 0&&(this.H.OSID=pn,this.H.OAID=Tn),this.F=this.X,this.I=Qr(this,null,this.W),Au(this)};function Yl(qr){if(lu(qr),qr.G==3){var an=qr.U++,pn=Oo(qr.I);if(lo(pn,"SID",qr.K),lo(pn,"RID",an),lo(pn,"TYPE","terminate"),ru(qr,pn),an=new Rs(qr,qr.j,an),an.L=2,an.v=Qo(Oo(pn)),pn=!1,lr.navigator&&lr.navigator.sendBeacon)try{pn=lr.navigator.sendBeacon(an.v.toString(),"")}catch{}!pn&&lr.Image&&(new Image().src=an.v,pn=!0),pn||(an.g=bn(an.j,null),an.g.ea(an.v)),an.F=Date.now(),is(an)}Cu(qr)}function Su(qr){qr.g&&(Ru(qr),qr.g.cancel(),qr.g=null)}function lu(qr){Su(qr),qr.u&&(lr.clearTimeout(qr.u),qr.u=null),Ql(qr),qr.h.cancel(),qr.s&&(typeof qr.s=="number"&&lr.clearTimeout(qr.s),qr.s=null)}function Au(qr){if(!Ys(qr.h)&&!qr.s){qr.s=!0;var an=qr.Ga;Er||Dr(),Ar||(Er(),Ar=!0),Sr.add(an,qr),qr.B=0}}function Ku(qr,an){return Us(qr.h)>=qr.h.j-(qr.s?1:0)?!1:qr.s?(qr.i=an.D.concat(qr.i),!0):qr.G==1||qr.G==2||qr.B>=(qr.Va?0:qr.Wa)?!1:(qr.s=gn(hr(qr.Ga,qr,an),ku(qr,qr.B)),qr.B++,!0)}tr.Ga=function(qr){if(this.s)if(this.s=null,this.G==1){if(!qr){this.U=Math.floor(1e5*Math.random()),qr=this.U++;const ga=new Rs(this,this.j,qr);let hs=this.o;if(this.S&&(hs?(hs=Tr(hs),Lr(hs,this.S)):hs=this.S),this.m!==null||this.O||(ga.H=hs,hs=null),this.P)e:{for(var an=0,pn=0;pn<this.i.length;pn++){t:{var Tn=this.i[pn];if("__data__"in Tn.map&&(Tn=Tn.map.__data__,typeof Tn=="string")){Tn=Tn.length;break t}Tn=void 0}if(Tn===void 0)break;if(an+=Tn,4096<an){an=pn;break e}if(an===4096||pn===this.i.length-1){an=pn+1;break e}}an=1e3}else an=1e3;an=cu(this,ga,an),pn=Oo(this.I),lo(pn,"RID",qr),lo(pn,"CVER",22),this.D&&lo(pn,"X-HTTP-Session-Id",this.D),ru(this,pn),hs&&(this.O?an="headers="+encodeURIComponent(String(Xl(hs)))+"&"+an:this.m&&zu(pn,this.m,hs)),Hs(this.h,ga),this.Ua&&lo(pn,"TYPE","init"),this.P?(lo(pn,"$req",an),lo(pn,"SID","null"),ga.T=!0,ro(ga,pn,null)):ro(ga,pn,an),this.G=2}}else this.G==3&&(qr?Tu(this,qr):this.i.length==0||Ys(this.h)||Tu(this))};function Tu(qr,an){var pn;an?pn=an.l:pn=qr.U++;const Tn=Oo(qr.I);lo(Tn,"SID",qr.K),lo(Tn,"RID",pn),lo(Tn,"AID",qr.T),ru(qr,Tn),qr.m&&qr.o&&zu(Tn,qr.m,qr.o),pn=new Rs(qr,qr.j,pn,qr.B+1),qr.m===null&&(pn.H=qr.o),an&&(qr.i=an.D.concat(qr.i)),an=cu(qr,pn,1e3),pn.I=Math.round(.5*qr.wa)+Math.round(.5*qr.wa*Math.random()),Hs(qr.h,pn),ro(pn,Tn,an)}function ru(qr,an){qr.H&&Rr(qr.H,function(pn,Tn){lo(an,Tn,pn)}),qr.l&&Lo({},function(pn,Tn){lo(an,Tn,pn)})}function cu(qr,an,pn){pn=Math.min(qr.i.length,pn);var Tn=qr.l?hr(qr.l.Na,qr.l,qr):null;e:{var ga=qr.i;let hs=-1;for(;;){const Ns=["count="+pn];hs==-1?0<pn?(hs=ga[0].g,Ns.push("ofs="+hs)):hs=0:Ns.push("ofs="+hs);let eo=!0;for(let co=0;co<pn;co++){let to=ga[co].g;const vo=ga[co].map;if(to-=hs,0>to)hs=Math.max(0,ga[co].g-100),eo=!1;else try{Uu(vo,Ns,"req"+to+"_")}catch{Tn&&Tn(vo)}}if(eo){Tn=Ns.join("&");break e}}}return qr=qr.i.splice(0,pn),an.D=qr,Tn}function Pu(qr){if(!qr.g&&!qr.u){qr.Y=1;var an=qr.Fa;Er||Dr(),Ar||(Er(),Ar=!0),Sr.add(an,qr),qr.v=0}}function uu(qr){return qr.g||qr.u||3<=qr.v?!1:(qr.Y++,qr.u=gn(hr(qr.Fa,qr),ku(qr,qr.v)),qr.v++,!0)}tr.Fa=function(){if(this.u=null,rp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var qr=2*this.R;this.j.info("BP detection timer enabled: "+qr),this.A=gn(hr(this.ab,this),qr)}},tr.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),Su(this),rp(this))};function Ru(qr){qr.A!=null&&(lr.clearTimeout(qr.A),qr.A=null)}function rp(qr){qr.g=new Rs(qr,qr.j,"rpc",qr.Y),qr.m===null&&(qr.g.H=qr.o),qr.g.O=0;var an=Oo(qr.qa);lo(an,"RID","rpc"),lo(an,"SID",qr.K),lo(an,"AID",qr.T),lo(an,"CI",qr.F?"0":"1"),!qr.F&&qr.ja&&lo(an,"TO",qr.ja),lo(an,"TYPE","xmlhttp"),ru(qr,an),qr.m&&qr.o&&zu(an,qr.m,qr.o),qr.L&&(qr.g.I=qr.L);var pn=qr.g;qr=qr.ia,pn.L=1,pn.v=Qo(Oo(an)),pn.m=null,pn.P=!0,ao(pn,qr)}tr.Za=function(){this.C!=null&&(this.C=null,Su(this),uu(this),$n(19))};function Ql(qr){qr.C!=null&&(lr.clearTimeout(qr.C),qr.C=null)}function nu(qr,an){var pn=null;if(qr.g==an){Ql(qr),Ru(qr),qr.g=null;var Tn=2}else if(so(qr.h,an))pn=an.D,oo(qr.h,an),Tn=1;else return;if(qr.G!=0){if(an.o)if(Tn==1){pn=an.m?an.m.length:0,an=Date.now()-an.F;var ga=qr.B;Tn=ls(),zn(Tn,new Gn(Tn,pn)),Au(qr)}else Pu(qr);else if(ga=an.s,ga==3||ga==0&&0<an.X||!(Tn==1&&Ku(qr,an)||Tn==2&&uu(qr)))switch(pn&&0<pn.length&&(an=qr.h,an.i=an.i.concat(pn)),ga){case 1:Zo(qr,5);break;case 4:Zo(qr,10);break;case 3:Zo(qr,6);break;default:Zo(qr,2)}}}function ku(qr,an){let pn=qr.Ta+Math.floor(Math.random()*qr.cb);return qr.isActive()||(pn*=2),pn*an}function Zo(qr,an){if(qr.j.info("Error code "+an),an==2){var pn=hr(qr.fb,qr),Tn=qr.Xa;const ga=!Tn;Tn=new go(Tn||"//www.google.com/images/cleardot.gif"),lr.location&&lr.location.protocol=="http"||no(Tn,"https"),Qo(Tn),ga?Ml(Tn.toString(),pn):_f(Tn.toString(),pn)}else $n(2);qr.G=0,qr.l&&qr.l.sa(an),Cu(qr),lu(qr)}tr.fb=function(qr){qr?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function Cu(qr){if(qr.G=0,qr.ka=[],qr.l){const an=ho(qr.h);(an.length!=0||qr.i.length!=0)&&(pr(qr.ka,an),pr(qr.ka,qr.i),qr.h.i.length=0,br(qr.i),qr.i.length=0),qr.l.ra()}}function Qr(qr,an,pn){var Tn=pn instanceof go?Oo(pn):new go(pn);if(Tn.g!="")an&&(Tn.g=an+"."+Tn.g),Qs(Tn,Tn.s);else{var ga=lr.location;Tn=ga.protocol,an=an?an+"."+ga.hostname:ga.hostname,ga=+ga.port;var hs=new go(null);Tn&&no(hs,Tn),an&&(hs.g=an),ga&&Qs(hs,ga),pn&&(hs.l=pn),Tn=hs}return pn=qr.D,an=qr.ya,pn&&an&&lo(Tn,pn,an),lo(Tn,"VER",qr.la),ru(qr,Tn),Tn}function bn(qr,an,pn){if(an&&!qr.J)throw Error("Can't create secondary domain capable XhrIo object.");return an=qr.Ca&&!qr.pa?new bo(new _u({eb:pn})):new bo(qr.pa),an.Ha(qr.J),an}tr.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vn(){}tr=Vn.prototype,tr.ua=function(){},tr.ta=function(){},tr.sa=function(){},tr.ra=function(){},tr.isActive=function(){return!0},tr.Na=function(){};function Xn(){}Xn.prototype.g=function(qr,an){return new $a(qr,an)};function $a(qr,an){Dn.call(this),this.g=new Eu(an),this.l=qr,this.h=an&&an.messageUrlParams||null,qr=an&&an.messageHeaders||null,an&&an.clientProtocolHeaderRequired&&(qr?qr["X-Client-Protocol"]="webchannel":qr={"X-Client-Protocol":"webchannel"}),this.g.o=qr,qr=an&&an.initMessageHeaders||null,an&&an.messageContentType&&(qr?qr["X-WebChannel-Content-Type"]=an.messageContentType:qr={"X-WebChannel-Content-Type":an.messageContentType}),an&&an.va&&(qr?qr["X-WebChannel-Client-Profile"]=an.va:qr={"X-WebChannel-Client-Profile":an.va}),this.g.S=qr,(qr=an&&an.Sb)&&!yr(qr)&&(this.g.m=qr),this.v=an&&an.supportsCrossDomainXhr||!1,this.u=an&&an.sendRawJson||!1,(an=an&&an.httpSessionIdParam)&&!yr(an)&&(this.g.D=an,qr=this.h,qr!==null&&an in qr&&(qr=this.h,an in qr&&delete qr[an])),this.j=new Ds(this)}mr($a,Dn),$a.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$a.prototype.close=function(){Yl(this.g)},$a.prototype.o=function(qr){var an=this.g;if(typeof qr=="string"){var pn={};pn.__data__=qr,qr=pn}else this.u&&(pn={},pn.__data__=Wn(qr),qr=pn);an.i.push(new Js(an.Ya++,qr)),an.G==3&&Au(an)},$a.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,$a.aa.N.call(this)};function _s(qr){Qn.call(this),qr.__headers__&&(this.headers=qr.__headers__,this.statusCode=qr.__status__,delete qr.__headers__,delete qr.__status__);var an=qr.__sm__;if(an){e:{for(const pn in an){qr=pn;break e}qr=void 0}(this.i=qr)&&(qr=this.i,an=an!==null&&qr in an?an[qr]:void 0),this.data=an}else this.data=qr}mr(_s,Qn);function Is(){xa.call(this),this.status=1}mr(Is,xa);function Ds(qr){this.g=qr}mr(Ds,Vn),Ds.prototype.ua=function(){zn(this.g,"a")},Ds.prototype.ta=function(qr){zn(this.g,new _s(qr))},Ds.prototype.sa=function(qr){zn(this.g,new Is)},Ds.prototype.ra=function(){zn(this.g,"b")},Xn.prototype.createWebChannel=Xn.prototype.g,$a.prototype.send=$a.prototype.o,$a.prototype.open=$a.prototype.m,$a.prototype.close=$a.prototype.close,createWebChannelTransport=function(){return new Xn},getStatEventTarget=function(){return ls()},Event$1=as,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,ErrorCode$1=_i,ys.COMPLETE="complete",EventType=ys,vs.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Dn.prototype.listen=Dn.prototype.K,WebChannel=vs,bo.prototype.listenOnce=bo.prototype.L,bo.prototype.getLastError=bo.prototype.Ka,bo.prototype.getLastErrorCode=bo.prototype.Ba,bo.prototype.getStatus=bo.prototype.Z,bo.prototype.getResponseJson=bo.prototype.Oa,bo.prototype.getResponseText=bo.prototype.oa,bo.prototype.send=bo.prototype.ea,bo.prototype.setWithCredentials=bo.prototype.Ha,XhrIo=bo}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(er){this.uid=er}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(er){return er.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S$1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$2=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b$2.logLevel}function __PRIVATE_logDebug(tr,...er){if(b$2.logLevel<=LogLevel.DEBUG){const rr=er.map(__PRIVATE_argToString);b$2.debug(`Firestore (${S$1}): ${tr}`,...rr)}}function __PRIVATE_logError(tr,...er){if(b$2.logLevel<=LogLevel.ERROR){const rr=er.map(__PRIVATE_argToString);b$2.error(`Firestore (${S$1}): ${tr}`,...rr)}}function __PRIVATE_logWarn(tr,...er){if(b$2.logLevel<=LogLevel.WARN){const rr=er.map(__PRIVATE_argToString);b$2.warn(`Firestore (${S$1}): ${tr}`,...rr)}}function __PRIVATE_argToString(tr){if(typeof tr=="string")return tr;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(rr){return JSON.stringify(rr)}(tr)}catch{return tr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(tr="Unexpected state"){const er=`FIRESTORE (${S$1}) INTERNAL ASSERTION FAILED: `+tr;throw __PRIVATE_logError(er),new Error(er)}function __PRIVATE_hardAssert(tr,er){tr||fail()}function __PRIVATE_debugCast(tr,er){return tr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(er,rr){super(er,rr),this.code=er,this.message=rr,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((er,rr)=>{this.resolve=er,this.reject=rr})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(er,rr){this.user=rr,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${er}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(er,rr){er.enqueueRetryable(()=>rr(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(er){this.token=er,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(er,rr){this.changeListener=rr,er.enqueueRetryable(()=>rr(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(er){this.t=er,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(er,rr){__PRIVATE_hardAssert(this.o===void 0);let nr=this.i;const ir=or=>this.i!==nr?(nr=this.i,rr(or)):Promise.resolve();let ar=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),ar.resolve(),ar=new __PRIVATE_Deferred,er.enqueueRetryable(()=>ir(this.currentUser))};const sr=()=>{const or=ar;er.enqueueRetryable(async()=>{await or.promise,await ir(this.currentUser)})},lr=or=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=or,this.o&&(this.auth.addAuthTokenListener(this.o),sr())};this.t.onInit(or=>lr(or)),setTimeout(()=>{if(!this.auth){const or=this.t.getImmediate({optional:!0});or?lr(or):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),ar.resolve(),ar=new __PRIVATE_Deferred)}},0),sr()}getToken(){const er=this.i,rr=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(rr).then(nr=>this.i!==er?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):nr?(__PRIVATE_hardAssert(typeof nr.accessToken=="string"),new __PRIVATE_OAuthToken(nr.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const er=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(er===null||typeof er=="string"),new User(er)}}class __PRIVATE_FirstPartyToken{constructor(er,rr,nr){this.l=er,this.h=rr,this.P=nr,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const er=this.T();return er&&this.I.set("Authorization",er),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(er,rr,nr){this.l=er,this.h=rr,this.P=nr}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(er,rr){er.enqueueRetryable(()=>rr(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(er){this.value=er,this.type="AppCheck",this.headers=new Map,er&&er.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(er){this.A=er,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(er,rr){__PRIVATE_hardAssert(this.o===void 0);const nr=ar=>{ar.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${ar.error.message}`);const sr=ar.token!==this.R;return this.R=ar.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${sr?"new":"existing"} token.`),sr?rr(ar.token):Promise.resolve()};this.o=ar=>{er.enqueueRetryable(()=>nr(ar))};const ir=ar=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=ar,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(ar=>ir(ar)),setTimeout(()=>{if(!this.appCheck){const ar=this.A.getImmediate({optional:!0});ar?ir(ar):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const er=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(er).then(rr=>rr?(__PRIVATE_hardAssert(typeof rr.token=="string"),this.R=rr.token,new AppCheckToken(rr.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(tr){const er=typeof self<"u"&&(self.crypto||self.msCrypto),rr=new Uint8Array(tr);if(er&&typeof er.getRandomValues=="function")er.getRandomValues(rr);else for(let nr=0;nr<tr;nr++)rr[nr]=Math.floor(256*Math.random());return rr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",rr=Math.floor(256/er.length)*er.length;let nr="";for(;nr.length<20;){const ir=__PRIVATE_randomBytes(40);for(let ar=0;ar<ir.length;++ar)nr.length<20&&ir[ar]<rr&&(nr+=er.charAt(ir[ar]%er.length))}return nr}}function __PRIVATE_primitiveComparator(tr,er){return tr<er?-1:tr>er?1:0}function __PRIVATE_arrayEquals(tr,er,rr){return tr.length===er.length&&tr.every((nr,ir)=>rr(nr,er[ir]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(er,rr){if(this.seconds=er,this.nanoseconds=rr,rr<0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+rr);if(rr>=1e9)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+rr);if(er<-62135596800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+er);if(er>=253402300800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+er)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(er){return Timestamp.fromMillis(er.getTime())}static fromMillis(er){const rr=Math.floor(er/1e3),nr=Math.floor(1e6*(er-1e3*rr));return new Timestamp(rr,nr)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(er){return this.seconds===er.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,er.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,er.seconds)}isEqual(er){return er.seconds===this.seconds&&er.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const er=this.seconds- -62135596800;return String(er).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(er){this.timestamp=er}static fromTimestamp(er){return new SnapshotVersion(er)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(er){return this.timestamp._compareTo(er.timestamp)}isEqual(er){return this.timestamp.isEqual(er.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(er,rr,nr){rr===void 0?rr=0:rr>er.length&&fail(),nr===void 0?nr=er.length-rr:nr>er.length-rr&&fail(),this.segments=er,this.offset=rr,this.len=nr}get length(){return this.len}isEqual(er){return BasePath.comparator(this,er)===0}child(er){const rr=this.segments.slice(this.offset,this.limit());return er instanceof BasePath?er.forEach(nr=>{rr.push(nr)}):rr.push(er),this.construct(rr)}limit(){return this.offset+this.length}popFirst(er){return er=er===void 0?1:er,this.construct(this.segments,this.offset+er,this.length-er)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(er){return this.segments[this.offset+er]}isEmpty(){return this.length===0}isPrefixOf(er){if(er.length<this.length)return!1;for(let rr=0;rr<this.length;rr++)if(this.get(rr)!==er.get(rr))return!1;return!0}isImmediateParentOf(er){if(this.length+1!==er.length)return!1;for(let rr=0;rr<this.length;rr++)if(this.get(rr)!==er.get(rr))return!1;return!0}forEach(er){for(let rr=this.offset,nr=this.limit();rr<nr;rr++)er(this.segments[rr])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(er,rr){const nr=Math.min(er.length,rr.length);for(let ir=0;ir<nr;ir++){const ar=er.get(ir),sr=rr.get(ir);if(ar<sr)return-1;if(ar>sr)return 1}return er.length<rr.length?-1:er.length>rr.length?1:0}}class ResourcePath extends BasePath{construct(er,rr,nr){return new ResourcePath(er,rr,nr)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...er){const rr=[];for(const nr of er){if(nr.indexOf("//")>=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid segment (${nr}). Paths must not contain // in them.`);rr.push(...nr.split("/").filter(ir=>ir.length>0))}return new ResourcePath(rr)}static emptyPath(){return new ResourcePath([])}}const v$2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(er,rr,nr){return new FieldPath$1(er,rr,nr)}static isValidIdentifier(er){return v$2.test(er)}canonicalString(){return this.toArray().map(er=>(er=er.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(er)||(er="`"+er+"`"),er)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(er){const rr=[];let nr="",ir=0;const ar=()=>{if(nr.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid field path (${er}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);rr.push(nr),nr=""};let sr=!1;for(;ir<er.length;){const lr=er[ir];if(lr==="\\"){if(ir+1===er.length)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has trailing escape character: "+er);const or=er[ir+1];if(or!=="\\"&&or!=="."&&or!=="`")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+er);nr+=or,ir+=2}else lr==="`"?(sr=!sr,ir++):lr!=="."||sr?(nr+=lr,ir++):(ar(),ir++)}if(ar(),sr)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Unterminated ` in path: "+er);return new FieldPath$1(rr)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(er){this.path=er}static fromPath(er){return new DocumentKey(ResourcePath.fromString(er))}static fromName(er){return new DocumentKey(ResourcePath.fromString(er).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(er){return this.path.length>=2&&this.path.get(this.path.length-2)===er}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(er){return er!==null&&ResourcePath.comparator(this.path,er.path)===0}toString(){return this.path.toString()}static comparator(er,rr){return ResourcePath.comparator(er.path,rr.path)}static isDocumentKey(er){return er.length%2==0}static fromSegments(er){return new DocumentKey(new ResourcePath(er.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(tr,er){const rr=tr.toTimestamp().seconds,nr=tr.toTimestamp().nanoseconds+1,ir=SnapshotVersion.fromTimestamp(nr===1e9?new Timestamp(rr+1,0):new Timestamp(rr,nr));return new IndexOffset(ir,DocumentKey.empty(),er)}function __PRIVATE_newIndexOffsetFromDocument(tr){return new IndexOffset(tr.readTime,tr.key,-1)}class IndexOffset{constructor(er,rr,nr){this.readTime=er,this.documentKey=rr,this.largestBatchId=nr}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(tr,er){let rr=tr.readTime.compareTo(er.readTime);return rr!==0?rr:(rr=DocumentKey.comparator(tr.documentKey,er.documentKey),rr!==0?rr:__PRIVATE_primitiveComparator(tr.largestBatchId,er.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(er){this.onCommittedListeners.push(er)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(er=>er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(tr){if(tr.code!==D$1.FAILED_PRECONDITION||tr.message!==C$1)throw tr;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(er){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,er(rr=>{this.isDone=!0,this.result=rr,this.nextCallback&&this.nextCallback(rr)},rr=>{this.isDone=!0,this.error=rr,this.catchCallback&&this.catchCallback(rr)})}catch(er){return this.next(void 0,er)}next(er,rr){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(rr,this.error):this.wrapSuccess(er,this.result):new PersistencePromise((nr,ir)=>{this.nextCallback=ar=>{this.wrapSuccess(er,ar).next(nr,ir)},this.catchCallback=ar=>{this.wrapFailure(rr,ar).next(nr,ir)}})}toPromise(){return new Promise((er,rr)=>{this.next(er,rr)})}wrapUserFunction(er){try{const rr=er();return rr instanceof PersistencePromise?rr:PersistencePromise.resolve(rr)}catch(rr){return PersistencePromise.reject(rr)}}wrapSuccess(er,rr){return er?this.wrapUserFunction(()=>er(rr)):PersistencePromise.resolve(rr)}wrapFailure(er,rr){return er?this.wrapUserFunction(()=>er(rr)):PersistencePromise.reject(rr)}static resolve(er){return new PersistencePromise((rr,nr)=>{rr(er)})}static reject(er){return new PersistencePromise((rr,nr)=>{nr(er)})}static waitFor(er){return new PersistencePromise((rr,nr)=>{let ir=0,ar=0,sr=!1;er.forEach(lr=>{++ir,lr.next(()=>{++ar,sr&&ar===ir&&rr()},or=>nr(or))}),sr=!0,ar===ir&&rr()})}static or(er){let rr=PersistencePromise.resolve(!1);for(const nr of er)rr=rr.next(ir=>ir?PersistencePromise.resolve(ir):nr());return rr}static forEach(er,rr){const nr=[];return er.forEach((ir,ar)=>{nr.push(rr.call(this,ir,ar))}),this.waitFor(nr)}static mapArray(er,rr){return new PersistencePromise((nr,ir)=>{const ar=er.length,sr=new Array(ar);let lr=0;for(let or=0;or<ar;or++){const cr=or;rr(er[cr]).next(ur=>{sr[cr]=ur,++lr,lr===ar&&nr(sr)},ur=>ir(ur))}})}static doWhile(er,rr){return new PersistencePromise((nr,ir)=>{const ar=()=>{er()===!0?rr().next(()=>{ar()},ir):nr()};ar()})}}function __PRIVATE_getAndroidVersion(tr){const er=tr.match(/Android ([\d.]+)/i),rr=er?er[1].split(".").slice(0,2).join("."):"-1";return Number(rr)}function __PRIVATE_isIndexedDbTransactionError(tr){return tr.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(er,rr){this.previousValue=er,rr&&(rr.sequenceNumberHandler=nr=>this.ie(nr),this.se=nr=>rr.writeSequenceNumber(nr))}ie(er){return this.previousValue=Math.max(er,this.previousValue),this.previousValue}next(){const er=++this.previousValue;return this.se&&this.se(er),er}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(tr){return tr==null}function __PRIVATE_isNegativeZero(tr){return tr===0&&1/tr==-1/0}function isSafeInteger(tr){return typeof tr=="number"&&Number.isInteger(tr)&&!__PRIVATE_isNegativeZero(tr)&&tr<=Number.MAX_SAFE_INTEGER&&tr>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(tr){let er=0;for(const rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&er++;return er}function forEach(tr,er){for(const rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&er(rr,tr[rr])}function isEmpty(tr){for(const er in tr)if(Object.prototype.hasOwnProperty.call(tr,er))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(er,rr){this.comparator=er,this.root=rr||LLRBNode.EMPTY}insert(er,rr){return new SortedMap(this.comparator,this.root.insert(er,rr,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(er){return new SortedMap(this.comparator,this.root.remove(er,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(er){let rr=this.root;for(;!rr.isEmpty();){const nr=this.comparator(er,rr.key);if(nr===0)return rr.value;nr<0?rr=rr.left:nr>0&&(rr=rr.right)}return null}indexOf(er){let rr=0,nr=this.root;for(;!nr.isEmpty();){const ir=this.comparator(er,nr.key);if(ir===0)return rr+nr.left.size;ir<0?nr=nr.left:(rr+=nr.left.size+1,nr=nr.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(er){return this.root.inorderTraversal(er)}forEach(er){this.inorderTraversal((rr,nr)=>(er(rr,nr),!1))}toString(){const er=[];return this.inorderTraversal((rr,nr)=>(er.push(`${rr}:${nr}`),!1)),`{${er.join(", ")}}`}reverseTraversal(er){return this.root.reverseTraversal(er)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(er){return new SortedMapIterator(this.root,er,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(er){return new SortedMapIterator(this.root,er,this.comparator,!0)}}class SortedMapIterator{constructor(er,rr,nr,ir){this.isReverse=ir,this.nodeStack=[];let ar=1;for(;!er.isEmpty();)if(ar=rr?nr(er.key,rr):1,rr&&ir&&(ar*=-1),ar<0)er=this.isReverse?er.left:er.right;else{if(ar===0){this.nodeStack.push(er);break}this.nodeStack.push(er),er=this.isReverse?er.right:er.left}}getNext(){let er=this.nodeStack.pop();const rr={key:er.key,value:er.value};if(this.isReverse)for(er=er.left;!er.isEmpty();)this.nodeStack.push(er),er=er.right;else for(er=er.right;!er.isEmpty();)this.nodeStack.push(er),er=er.left;return rr}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const er=this.nodeStack[this.nodeStack.length-1];return{key:er.key,value:er.value}}}class LLRBNode{constructor(er,rr,nr,ir,ar){this.key=er,this.value=rr,this.color=nr??LLRBNode.RED,this.left=ir??LLRBNode.EMPTY,this.right=ar??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(er,rr,nr,ir,ar){return new LLRBNode(er??this.key,rr??this.value,nr??this.color,ir??this.left,ar??this.right)}isEmpty(){return!1}inorderTraversal(er){return this.left.inorderTraversal(er)||er(this.key,this.value)||this.right.inorderTraversal(er)}reverseTraversal(er){return this.right.reverseTraversal(er)||er(this.key,this.value)||this.left.reverseTraversal(er)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(er,rr,nr){let ir=this;const ar=nr(er,ir.key);return ir=ar<0?ir.copy(null,null,null,ir.left.insert(er,rr,nr),null):ar===0?ir.copy(null,rr,null,null,null):ir.copy(null,null,null,null,ir.right.insert(er,rr,nr)),ir.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let er=this;return er.left.isRed()||er.left.left.isRed()||(er=er.moveRedLeft()),er=er.copy(null,null,null,er.left.removeMin(),null),er.fixUp()}remove(er,rr){let nr,ir=this;if(rr(er,ir.key)<0)ir.left.isEmpty()||ir.left.isRed()||ir.left.left.isRed()||(ir=ir.moveRedLeft()),ir=ir.copy(null,null,null,ir.left.remove(er,rr),null);else{if(ir.left.isRed()&&(ir=ir.rotateRight()),ir.right.isEmpty()||ir.right.isRed()||ir.right.left.isRed()||(ir=ir.moveRedRight()),rr(er,ir.key)===0){if(ir.right.isEmpty())return LLRBNode.EMPTY;nr=ir.right.min(),ir=ir.copy(nr.key,nr.value,null,null,ir.right.removeMin())}ir=ir.copy(null,null,null,null,ir.right.remove(er,rr))}return ir.fixUp()}isRed(){return this.color}fixUp(){let er=this;return er.right.isRed()&&!er.left.isRed()&&(er=er.rotateLeft()),er.left.isRed()&&er.left.left.isRed()&&(er=er.rotateRight()),er.left.isRed()&&er.right.isRed()&&(er=er.colorFlip()),er}moveRedLeft(){let er=this.colorFlip();return er.right.left.isRed()&&(er=er.copy(null,null,null,null,er.right.rotateRight()),er=er.rotateLeft(),er=er.colorFlip()),er}moveRedRight(){let er=this.colorFlip();return er.left.left.isRed()&&(er=er.rotateRight(),er=er.colorFlip()),er}rotateLeft(){const er=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,er,null)}rotateRight(){const er=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,er)}colorFlip(){const er=this.left.copy(null,null,!this.left.color,null,null),rr=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,er,rr)}checkMaxDepth(){const er=this.check();return Math.pow(2,er)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const er=this.left.check();if(er!==this.right.check())throw fail();return er+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(er,rr,nr,ir,ar){return this}insert(er,rr,nr){return new LLRBNode(er,rr)}remove(er,rr){return this}isEmpty(){return!0}inorderTraversal(er){return!1}reverseTraversal(er){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(er){this.comparator=er,this.data=new SortedMap(this.comparator)}has(er){return this.data.get(er)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(er){return this.data.indexOf(er)}forEach(er){this.data.inorderTraversal((rr,nr)=>(er(rr),!1))}forEachInRange(er,rr){const nr=this.data.getIteratorFrom(er[0]);for(;nr.hasNext();){const ir=nr.getNext();if(this.comparator(ir.key,er[1])>=0)return;rr(ir.key)}}forEachWhile(er,rr){let nr;for(nr=rr!==void 0?this.data.getIteratorFrom(rr):this.data.getIterator();nr.hasNext();)if(!er(nr.getNext().key))return}firstAfterOrEqual(er){const rr=this.data.getIteratorFrom(er);return rr.hasNext()?rr.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(er){return new SortedSetIterator(this.data.getIteratorFrom(er))}add(er){return this.copy(this.data.remove(er).insert(er,!0))}delete(er){return this.has(er)?this.copy(this.data.remove(er)):this}isEmpty(){return this.data.isEmpty()}unionWith(er){let rr=this;return rr.size<er.size&&(rr=er,er=this),er.forEach(nr=>{rr=rr.add(nr)}),rr}isEqual(er){if(!(er instanceof SortedSet)||this.size!==er.size)return!1;const rr=this.data.getIterator(),nr=er.data.getIterator();for(;rr.hasNext();){const ir=rr.getNext().key,ar=nr.getNext().key;if(this.comparator(ir,ar)!==0)return!1}return!0}toArray(){const er=[];return this.forEach(rr=>{er.push(rr)}),er}toString(){const er=[];return this.forEach(rr=>er.push(rr)),"SortedSet("+er.toString()+")"}copy(er){const rr=new SortedSet(this.comparator);return rr.data=er,rr}}class SortedSetIterator{constructor(er){this.iter=er}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(er){this.fields=er,er.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(er){let rr=new SortedSet(FieldPath$1.comparator);for(const nr of this.fields)rr=rr.add(nr);for(const nr of er)rr=rr.add(nr);return new FieldMask(rr.toArray())}covers(er){for(const rr of this.fields)if(rr.isPrefixOf(er))return!0;return!1}isEqual(er){return __PRIVATE_arrayEquals(this.fields,er.fields,(rr,nr)=>rr.isEqual(nr))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(er){this.binaryString=er}static fromBase64String(er){const rr=function(ir){try{return atob(ir)}catch(ar){throw typeof DOMException<"u"&&ar instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+ar):ar}}(er);return new ByteString(rr)}static fromUint8Array(er){const rr=function(ir){let ar="";for(let sr=0;sr<ir.length;++sr)ar+=String.fromCharCode(ir[sr]);return ar}(er);return new ByteString(rr)}[Symbol.iterator](){let er=0;return{next:()=>er<this.binaryString.length?{value:this.binaryString.charCodeAt(er++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(rr){return btoa(rr)}(this.binaryString)}toUint8Array(){return function(rr){const nr=new Uint8Array(rr.length);for(let ir=0;ir<rr.length;ir++)nr[ir]=rr.charCodeAt(ir);return nr}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(er){return __PRIVATE_primitiveComparator(this.binaryString,er.binaryString)}isEqual(er){return this.binaryString===er.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(tr){if(__PRIVATE_hardAssert(!!tr),typeof tr=="string"){let er=0;const rr=ne$1.exec(tr);if(__PRIVATE_hardAssert(!!rr),rr[1]){let ir=rr[1];ir=(ir+"000000000").substr(0,9),er=Number(ir)}const nr=new Date(tr);return{seconds:Math.floor(nr.getTime()/1e3),nanos:er}}return{seconds:__PRIVATE_normalizeNumber(tr.seconds),nanos:__PRIVATE_normalizeNumber(tr.nanos)}}function __PRIVATE_normalizeNumber(tr){return typeof tr=="number"?tr:typeof tr=="string"?Number(tr):0}function __PRIVATE_normalizeByteString(tr){return typeof tr=="string"?ByteString.fromBase64String(tr):ByteString.fromUint8Array(tr)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(tr){var er,rr;return((rr=(((er=tr==null?void 0:tr.mapValue)===null||er===void 0?void 0:er.fields)||{}).__type__)===null||rr===void 0?void 0:rr.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(tr){const er=tr.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(er)?__PRIVATE_getPreviousValue(er):er}function __PRIVATE_getLocalWriteTime(tr){const er=__PRIVATE_normalizeTimestamp(tr.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(er.seconds,er.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(er,rr,nr,ir,ar,sr,lr,or,cr){this.databaseId=er,this.appId=rr,this.persistenceKey=nr,this.host=ir,this.ssl=ar,this.forceLongPolling=sr,this.autoDetectLongPolling=lr,this.longPollingOptions=or,this.useFetchStreams=cr}}class DatabaseId{constructor(er,rr){this.projectId=er,this.database=rr||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(er){return er instanceof DatabaseId&&er.projectId===this.projectId&&er.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$2={mapValue:{}};function __PRIVATE_typeOrder(tr){return"nullValue"in tr?0:"booleanValue"in tr?1:"integerValue"in tr||"doubleValue"in tr?2:"timestampValue"in tr?3:"stringValue"in tr?5:"bytesValue"in tr?6:"referenceValue"in tr?7:"geoPointValue"in tr?8:"arrayValue"in tr?9:"mapValue"in tr?__PRIVATE_isServerTimestamp(tr)?4:__PRIVATE_isMaxValue(tr)?9007199254740991:__PRIVATE_isVectorValue(tr)?10:11:fail()}function __PRIVATE_valueEquals(tr,er){if(tr===er)return!0;const rr=__PRIVATE_typeOrder(tr);if(rr!==__PRIVATE_typeOrder(er))return!1;switch(rr){case 0:case 9007199254740991:return!0;case 1:return tr.booleanValue===er.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(tr).isEqual(__PRIVATE_getLocalWriteTime(er));case 3:return function(ir,ar){if(typeof ir.timestampValue=="string"&&typeof ar.timestampValue=="string"&&ir.timestampValue.length===ar.timestampValue.length)return ir.timestampValue===ar.timestampValue;const sr=__PRIVATE_normalizeTimestamp(ir.timestampValue),lr=__PRIVATE_normalizeTimestamp(ar.timestampValue);return sr.seconds===lr.seconds&&sr.nanos===lr.nanos}(tr,er);case 5:return tr.stringValue===er.stringValue;case 6:return function(ir,ar){return __PRIVATE_normalizeByteString(ir.bytesValue).isEqual(__PRIVATE_normalizeByteString(ar.bytesValue))}(tr,er);case 7:return tr.referenceValue===er.referenceValue;case 8:return function(ir,ar){return __PRIVATE_normalizeNumber(ir.geoPointValue.latitude)===__PRIVATE_normalizeNumber(ar.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(ir.geoPointValue.longitude)===__PRIVATE_normalizeNumber(ar.geoPointValue.longitude)}(tr,er);case 2:return function(ir,ar){if("integerValue"in ir&&"integerValue"in ar)return __PRIVATE_normalizeNumber(ir.integerValue)===__PRIVATE_normalizeNumber(ar.integerValue);if("doubleValue"in ir&&"doubleValue"in ar){const sr=__PRIVATE_normalizeNumber(ir.doubleValue),lr=__PRIVATE_normalizeNumber(ar.doubleValue);return sr===lr?__PRIVATE_isNegativeZero(sr)===__PRIVATE_isNegativeZero(lr):isNaN(sr)&&isNaN(lr)}return!1}(tr,er);case 9:return __PRIVATE_arrayEquals(tr.arrayValue.values||[],er.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(ir,ar){const sr=ir.mapValue.fields||{},lr=ar.mapValue.fields||{};if(__PRIVATE_objectSize(sr)!==__PRIVATE_objectSize(lr))return!1;for(const or in sr)if(sr.hasOwnProperty(or)&&(lr[or]===void 0||!__PRIVATE_valueEquals(sr[or],lr[or])))return!1;return!0}(tr,er);default:return fail()}}function __PRIVATE_arrayValueContains(tr,er){return(tr.values||[]).find(rr=>__PRIVATE_valueEquals(rr,er))!==void 0}function __PRIVATE_valueCompare(tr,er){if(tr===er)return 0;const rr=__PRIVATE_typeOrder(tr),nr=__PRIVATE_typeOrder(er);if(rr!==nr)return __PRIVATE_primitiveComparator(rr,nr);switch(rr){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(tr.booleanValue,er.booleanValue);case 2:return function(ar,sr){const lr=__PRIVATE_normalizeNumber(ar.integerValue||ar.doubleValue),or=__PRIVATE_normalizeNumber(sr.integerValue||sr.doubleValue);return lr<or?-1:lr>or?1:lr===or?0:isNaN(lr)?isNaN(or)?0:-1:1}(tr,er);case 3:return __PRIVATE_compareTimestamps(tr.timestampValue,er.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(tr),__PRIVATE_getLocalWriteTime(er));case 5:return __PRIVATE_primitiveComparator(tr.stringValue,er.stringValue);case 6:return function(ar,sr){const lr=__PRIVATE_normalizeByteString(ar),or=__PRIVATE_normalizeByteString(sr);return lr.compareTo(or)}(tr.bytesValue,er.bytesValue);case 7:return function(ar,sr){const lr=ar.split("/"),or=sr.split("/");for(let cr=0;cr<lr.length&&cr<or.length;cr++){const ur=__PRIVATE_primitiveComparator(lr[cr],or[cr]);if(ur!==0)return ur}return __PRIVATE_primitiveComparator(lr.length,or.length)}(tr.referenceValue,er.referenceValue);case 8:return function(ar,sr){const lr=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ar.latitude),__PRIVATE_normalizeNumber(sr.latitude));return lr!==0?lr:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ar.longitude),__PRIVATE_normalizeNumber(sr.longitude))}(tr.geoPointValue,er.geoPointValue);case 9:return __PRIVATE_compareArrays(tr.arrayValue,er.arrayValue);case 10:return function(ar,sr){var lr,or,cr,ur;const dr=ar.fields||{},hr=sr.fields||{},fr=(lr=dr.value)===null||lr===void 0?void 0:lr.arrayValue,mr=(or=hr.value)===null||or===void 0?void 0:or.arrayValue,br=__PRIVATE_primitiveComparator(((cr=fr==null?void 0:fr.values)===null||cr===void 0?void 0:cr.length)||0,((ur=mr==null?void 0:mr.values)===null||ur===void 0?void 0:ur.length)||0);return br!==0?br:__PRIVATE_compareArrays(fr,mr)}(tr.mapValue,er.mapValue);case 11:return function(ar,sr){if(ar===re$2.mapValue&&sr===re$2.mapValue)return 0;if(ar===re$2.mapValue)return 1;if(sr===re$2.mapValue)return-1;const lr=ar.fields||{},or=Object.keys(lr),cr=sr.fields||{},ur=Object.keys(cr);or.sort(),ur.sort();for(let dr=0;dr<or.length&&dr<ur.length;++dr){const hr=__PRIVATE_primitiveComparator(or[dr],ur[dr]);if(hr!==0)return hr;const fr=__PRIVATE_valueCompare(lr[or[dr]],cr[ur[dr]]);if(fr!==0)return fr}return __PRIVATE_primitiveComparator(or.length,ur.length)}(tr.mapValue,er.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(tr,er){if(typeof tr=="string"&&typeof er=="string"&&tr.length===er.length)return __PRIVATE_primitiveComparator(tr,er);const rr=__PRIVATE_normalizeTimestamp(tr),nr=__PRIVATE_normalizeTimestamp(er),ir=__PRIVATE_primitiveComparator(rr.seconds,nr.seconds);return ir!==0?ir:__PRIVATE_primitiveComparator(rr.nanos,nr.nanos)}function __PRIVATE_compareArrays(tr,er){const rr=tr.values||[],nr=er.values||[];for(let ir=0;ir<rr.length&&ir<nr.length;++ir){const ar=__PRIVATE_valueCompare(rr[ir],nr[ir]);if(ar)return ar}return __PRIVATE_primitiveComparator(rr.length,nr.length)}function canonicalId(tr){return __PRIVATE_canonifyValue(tr)}function __PRIVATE_canonifyValue(tr){return"nullValue"in tr?"null":"booleanValue"in tr?""+tr.booleanValue:"integerValue"in tr?""+tr.integerValue:"doubleValue"in tr?""+tr.doubleValue:"timestampValue"in tr?function(rr){const nr=__PRIVATE_normalizeTimestamp(rr);return`time(${nr.seconds},${nr.nanos})`}(tr.timestampValue):"stringValue"in tr?tr.stringValue:"bytesValue"in tr?function(rr){return __PRIVATE_normalizeByteString(rr).toBase64()}(tr.bytesValue):"referenceValue"in tr?function(rr){return DocumentKey.fromName(rr).toString()}(tr.referenceValue):"geoPointValue"in tr?function(rr){return`geo(${rr.latitude},${rr.longitude})`}(tr.geoPointValue):"arrayValue"in tr?function(rr){let nr="[",ir=!0;for(const ar of rr.values||[])ir?ir=!1:nr+=",",nr+=__PRIVATE_canonifyValue(ar);return nr+"]"}(tr.arrayValue):"mapValue"in tr?function(rr){const nr=Object.keys(rr.fields||{}).sort();let ir="{",ar=!0;for(const sr of nr)ar?ar=!1:ir+=",",ir+=`${sr}:${__PRIVATE_canonifyValue(rr.fields[sr])}`;return ir+"}"}(tr.mapValue):fail()}function __PRIVATE_refValue(tr,er){return{referenceValue:`projects/${tr.projectId}/databases/${tr.database}/documents/${er.path.canonicalString()}`}}function isInteger(tr){return!!tr&&"integerValue"in tr}function isArray$f(tr){return!!tr&&"arrayValue"in tr}function __PRIVATE_isNullValue(tr){return!!tr&&"nullValue"in tr}function __PRIVATE_isNanValue(tr){return!!tr&&"doubleValue"in tr&&isNaN(Number(tr.doubleValue))}function __PRIVATE_isMapValue(tr){return!!tr&&"mapValue"in tr}function __PRIVATE_isVectorValue(tr){var er,rr;return((rr=(((er=tr==null?void 0:tr.mapValue)===null||er===void 0?void 0:er.fields)||{}).__type__)===null||rr===void 0?void 0:rr.stringValue)==="__vector__"}function __PRIVATE_deepClone(tr){if(tr.geoPointValue)return{geoPointValue:Object.assign({},tr.geoPointValue)};if(tr.timestampValue&&typeof tr.timestampValue=="object")return{timestampValue:Object.assign({},tr.timestampValue)};if(tr.mapValue){const er={mapValue:{fields:{}}};return forEach(tr.mapValue.fields,(rr,nr)=>er.mapValue.fields[rr]=__PRIVATE_deepClone(nr)),er}if(tr.arrayValue){const er={arrayValue:{values:[]}};for(let rr=0;rr<(tr.arrayValue.values||[]).length;++rr)er.arrayValue.values[rr]=__PRIVATE_deepClone(tr.arrayValue.values[rr]);return er}return Object.assign({},tr)}function __PRIVATE_isMaxValue(tr){return(((tr.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(er){this.value=er}static empty(){return new ObjectValue({mapValue:{}})}field(er){if(er.isEmpty())return this.value;{let rr=this.value;for(let nr=0;nr<er.length-1;++nr)if(rr=(rr.mapValue.fields||{})[er.get(nr)],!__PRIVATE_isMapValue(rr))return null;return rr=(rr.mapValue.fields||{})[er.lastSegment()],rr||null}}set(er,rr){this.getFieldsMap(er.popLast())[er.lastSegment()]=__PRIVATE_deepClone(rr)}setAll(er){let rr=FieldPath$1.emptyPath(),nr={},ir=[];er.forEach((sr,lr)=>{if(!rr.isImmediateParentOf(lr)){const or=this.getFieldsMap(rr);this.applyChanges(or,nr,ir),nr={},ir=[],rr=lr.popLast()}sr?nr[lr.lastSegment()]=__PRIVATE_deepClone(sr):ir.push(lr.lastSegment())});const ar=this.getFieldsMap(rr);this.applyChanges(ar,nr,ir)}delete(er){const rr=this.field(er.popLast());__PRIVATE_isMapValue(rr)&&rr.mapValue.fields&&delete rr.mapValue.fields[er.lastSegment()]}isEqual(er){return __PRIVATE_valueEquals(this.value,er.value)}getFieldsMap(er){let rr=this.value;rr.mapValue.fields||(rr.mapValue={fields:{}});for(let nr=0;nr<er.length;++nr){let ir=rr.mapValue.fields[er.get(nr)];__PRIVATE_isMapValue(ir)&&ir.mapValue.fields||(ir={mapValue:{fields:{}}},rr.mapValue.fields[er.get(nr)]=ir),rr=ir}return rr.mapValue.fields}applyChanges(er,rr,nr){forEach(rr,(ir,ar)=>er[ir]=ar);for(const ir of nr)delete er[ir]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(tr){const er=[];return forEach(tr.fields,(rr,nr)=>{const ir=new FieldPath$1([rr]);if(__PRIVATE_isMapValue(nr)){const ar=__PRIVATE_extractFieldMask(nr.mapValue).fields;if(ar.length===0)er.push(ir);else for(const sr of ar)er.push(ir.child(sr))}else er.push(ir)}),new FieldMask(er)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(er,rr,nr,ir,ar,sr,lr){this.key=er,this.documentType=rr,this.version=nr,this.readTime=ir,this.createTime=ar,this.data=sr,this.documentState=lr}static newInvalidDocument(er){return new MutableDocument(er,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(er,rr,nr,ir){return new MutableDocument(er,1,rr,SnapshotVersion.min(),nr,ir,0)}static newNoDocument(er,rr){return new MutableDocument(er,2,rr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(er,rr){return new MutableDocument(er,3,rr,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(er,rr){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=er),this.version=er,this.documentType=1,this.data=rr,this.documentState=0,this}convertToNoDocument(er){return this.version=er,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(er){return this.version=er,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(er){return this.readTime=er,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(er){return er instanceof MutableDocument&&this.key.isEqual(er.key)&&this.version.isEqual(er.version)&&this.documentType===er.documentType&&this.documentState===er.documentState&&this.data.isEqual(er.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(er,rr){this.position=er,this.inclusive=rr}}function __PRIVATE_boundCompareToDocument(tr,er,rr){let nr=0;for(let ir=0;ir<tr.position.length;ir++){const ar=er[ir],sr=tr.position[ir];if(ar.field.isKeyField()?nr=DocumentKey.comparator(DocumentKey.fromName(sr.referenceValue),rr.key):nr=__PRIVATE_valueCompare(sr,rr.data.field(ar.field)),ar.dir==="desc"&&(nr*=-1),nr!==0)break}return nr}function __PRIVATE_boundEquals(tr,er){if(tr===null)return er===null;if(er===null||tr.inclusive!==er.inclusive||tr.position.length!==er.position.length)return!1;for(let rr=0;rr<tr.position.length;rr++)if(!__PRIVATE_valueEquals(tr.position[rr],er.position[rr]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(er,rr="asc"){this.field=er,this.dir=rr}}function __PRIVATE_orderByEquals(tr,er){return tr.dir===er.dir&&tr.field.isEqual(er.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter$1=class{};class FieldFilter extends Filter$1{constructor(er,rr,nr){super(),this.field=er,this.op=rr,this.value=nr}static create(er,rr,nr){return er.isKeyField()?rr==="in"||rr==="not-in"?this.createKeyFieldInFilter(er,rr,nr):new __PRIVATE_KeyFieldFilter(er,rr,nr):rr==="array-contains"?new __PRIVATE_ArrayContainsFilter(er,nr):rr==="in"?new __PRIVATE_InFilter(er,nr):rr==="not-in"?new __PRIVATE_NotInFilter(er,nr):rr==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(er,nr):new FieldFilter(er,rr,nr)}static createKeyFieldInFilter(er,rr,nr){return rr==="in"?new __PRIVATE_KeyFieldInFilter(er,nr):new __PRIVATE_KeyFieldNotInFilter(er,nr)}matches(er){const rr=er.data.field(this.field);return this.op==="!="?rr!==null&&this.matchesComparison(__PRIVATE_valueCompare(rr,this.value)):rr!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(rr)&&this.matchesComparison(__PRIVATE_valueCompare(rr,this.value))}matchesComparison(er){switch(this.op){case"<":return er<0;case"<=":return er<=0;case"==":return er===0;case"!=":return er!==0;case">":return er>0;case">=":return er>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter$1{constructor(er,rr){super(),this.filters=er,this.op=rr,this.ae=null}static create(er,rr){return new CompositeFilter(er,rr)}matches(er){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(rr=>!rr.matches(er))===void 0:this.filters.find(rr=>rr.matches(er))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((er,rr)=>er.concat(rr.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(tr){return tr.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(tr){return __PRIVATE_compositeFilterIsFlat(tr)&&__PRIVATE_compositeFilterIsConjunction(tr)}function __PRIVATE_compositeFilterIsFlat(tr){for(const er of tr.filters)if(er instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(tr){if(tr instanceof FieldFilter)return tr.field.canonicalString()+tr.op.toString()+canonicalId(tr.value);if(__PRIVATE_compositeFilterIsFlatConjunction(tr))return tr.filters.map(er=>__PRIVATE_canonifyFilter(er)).join(",");{const er=tr.filters.map(rr=>__PRIVATE_canonifyFilter(rr)).join(",");return`${tr.op}(${er})`}}function __PRIVATE_filterEquals(tr,er){return tr instanceof FieldFilter?function(nr,ir){return ir instanceof FieldFilter&&nr.op===ir.op&&nr.field.isEqual(ir.field)&&__PRIVATE_valueEquals(nr.value,ir.value)}(tr,er):tr instanceof CompositeFilter?function(nr,ir){return ir instanceof CompositeFilter&&nr.op===ir.op&&nr.filters.length===ir.filters.length?nr.filters.reduce((ar,sr,lr)=>ar&&__PRIVATE_filterEquals(sr,ir.filters[lr]),!0):!1}(tr,er):void fail()}function __PRIVATE_stringifyFilter(tr){return tr instanceof FieldFilter?function(rr){return`${rr.field.canonicalString()} ${rr.op} ${canonicalId(rr.value)}`}(tr):tr instanceof CompositeFilter?function(rr){return rr.op.toString()+" {"+rr.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(tr):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(er,rr,nr){super(er,rr,nr),this.key=DocumentKey.fromName(nr.referenceValue)}matches(er){const rr=DocumentKey.comparator(er.key,this.key);return this.matchesComparison(rr)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(er,rr){super(er,"in",rr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",rr)}matches(er){return this.keys.some(rr=>rr.isEqual(er.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(er,rr){super(er,"not-in",rr),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",rr)}matches(er){return!this.keys.some(rr=>rr.isEqual(er.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(tr,er){var rr;return(((rr=er.arrayValue)===null||rr===void 0?void 0:rr.values)||[]).map(nr=>DocumentKey.fromName(nr.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(er,rr){super(er,"array-contains",rr)}matches(er){const rr=er.data.field(this.field);return isArray$f(rr)&&__PRIVATE_arrayValueContains(rr.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(er,rr){super(er,"in",rr)}matches(er){const rr=er.data.field(this.field);return rr!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,rr)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(er,rr){super(er,"not-in",rr)}matches(er){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const rr=er.data.field(this.field);return rr!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,rr)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(er,rr){super(er,"array-contains-any",rr)}matches(er){const rr=er.data.field(this.field);return!(!isArray$f(rr)||!rr.arrayValue.values)&&rr.arrayValue.values.some(nr=>__PRIVATE_arrayValueContains(this.value.arrayValue,nr))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(er,rr=null,nr=[],ir=[],ar=null,sr=null,lr=null){this.path=er,this.collectionGroup=rr,this.orderBy=nr,this.filters=ir,this.limit=ar,this.startAt=sr,this.endAt=lr,this.ue=null}}function __PRIVATE_newTarget(tr,er=null,rr=[],nr=[],ir=null,ar=null,sr=null){return new __PRIVATE_TargetImpl(tr,er,rr,nr,ir,ar,sr)}function __PRIVATE_canonifyTarget(tr){const er=__PRIVATE_debugCast(tr);if(er.ue===null){let rr=er.path.canonicalString();er.collectionGroup!==null&&(rr+="|cg:"+er.collectionGroup),rr+="|f:",rr+=er.filters.map(nr=>__PRIVATE_canonifyFilter(nr)).join(","),rr+="|ob:",rr+=er.orderBy.map(nr=>function(ar){return ar.field.canonicalString()+ar.dir}(nr)).join(","),__PRIVATE_isNullOrUndefined(er.limit)||(rr+="|l:",rr+=er.limit),er.startAt&&(rr+="|lb:",rr+=er.startAt.inclusive?"b:":"a:",rr+=er.startAt.position.map(nr=>canonicalId(nr)).join(",")),er.endAt&&(rr+="|ub:",rr+=er.endAt.inclusive?"a:":"b:",rr+=er.endAt.position.map(nr=>canonicalId(nr)).join(",")),er.ue=rr}return er.ue}function __PRIVATE_targetEquals(tr,er){if(tr.limit!==er.limit||tr.orderBy.length!==er.orderBy.length)return!1;for(let rr=0;rr<tr.orderBy.length;rr++)if(!__PRIVATE_orderByEquals(tr.orderBy[rr],er.orderBy[rr]))return!1;if(tr.filters.length!==er.filters.length)return!1;for(let rr=0;rr<tr.filters.length;rr++)if(!__PRIVATE_filterEquals(tr.filters[rr],er.filters[rr]))return!1;return tr.collectionGroup===er.collectionGroup&&!!tr.path.isEqual(er.path)&&!!__PRIVATE_boundEquals(tr.startAt,er.startAt)&&__PRIVATE_boundEquals(tr.endAt,er.endAt)}function __PRIVATE_targetIsDocumentTarget(tr){return DocumentKey.isDocumentKey(tr.path)&&tr.collectionGroup===null&&tr.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(er,rr=null,nr=[],ir=[],ar=null,sr="F",lr=null,or=null){this.path=er,this.collectionGroup=rr,this.explicitOrderBy=nr,this.filters=ir,this.limit=ar,this.limitType=sr,this.startAt=lr,this.endAt=or,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(tr,er,rr,nr,ir,ar,sr,lr){return new __PRIVATE_QueryImpl(tr,er,rr,nr,ir,ar,sr,lr)}function __PRIVATE_newQueryForPath(tr){return new __PRIVATE_QueryImpl(tr)}function __PRIVATE_queryMatchesAllDocuments(tr){return tr.filters.length===0&&tr.limit===null&&tr.startAt==null&&tr.endAt==null&&(tr.explicitOrderBy.length===0||tr.explicitOrderBy.length===1&&tr.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(tr){return tr.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(tr){const er=__PRIVATE_debugCast(tr);if(er.ce===null){er.ce=[];const rr=new Set;for(const ar of er.explicitOrderBy)er.ce.push(ar),rr.add(ar.field.canonicalString());const nr=er.explicitOrderBy.length>0?er.explicitOrderBy[er.explicitOrderBy.length-1].dir:"asc";(function(sr){let lr=new SortedSet(FieldPath$1.comparator);return sr.filters.forEach(or=>{or.getFlattenedFilters().forEach(cr=>{cr.isInequality()&&(lr=lr.add(cr.field))})}),lr})(er).forEach(ar=>{rr.has(ar.canonicalString())||ar.isKeyField()||er.ce.push(new OrderBy(ar,nr))}),rr.has(FieldPath$1.keyField().canonicalString())||er.ce.push(new OrderBy(FieldPath$1.keyField(),nr))}return er.ce}function __PRIVATE_queryToTarget(tr){const er=__PRIVATE_debugCast(tr);return er.le||(er.le=__PRIVATE__queryToTarget(er,__PRIVATE_queryNormalizedOrderBy(tr))),er.le}function __PRIVATE__queryToTarget(tr,er){if(tr.limitType==="F")return __PRIVATE_newTarget(tr.path,tr.collectionGroup,er,tr.filters,tr.limit,tr.startAt,tr.endAt);{er=er.map(ir=>{const ar=ir.dir==="desc"?"asc":"desc";return new OrderBy(ir.field,ar)});const rr=tr.endAt?new Bound(tr.endAt.position,tr.endAt.inclusive):null,nr=tr.startAt?new Bound(tr.startAt.position,tr.startAt.inclusive):null;return __PRIVATE_newTarget(tr.path,tr.collectionGroup,er,tr.filters,tr.limit,rr,nr)}}function __PRIVATE_queryWithAddedFilter(tr,er){const rr=tr.filters.concat([er]);return new __PRIVATE_QueryImpl(tr.path,tr.collectionGroup,tr.explicitOrderBy.slice(),rr,tr.limit,tr.limitType,tr.startAt,tr.endAt)}function __PRIVATE_queryWithLimit(tr,er,rr){return new __PRIVATE_QueryImpl(tr.path,tr.collectionGroup,tr.explicitOrderBy.slice(),tr.filters.slice(),er,rr,tr.startAt,tr.endAt)}function __PRIVATE_queryEquals(tr,er){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(tr),__PRIVATE_queryToTarget(er))&&tr.limitType===er.limitType}function __PRIVATE_canonifyQuery(tr){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(tr))}|lt:${tr.limitType}`}function __PRIVATE_stringifyQuery(tr){return`Query(target=${function(rr){let nr=rr.path.canonicalString();return rr.collectionGroup!==null&&(nr+=" collectionGroup="+rr.collectionGroup),rr.filters.length>0&&(nr+=`, filters: [${rr.filters.map(ir=>__PRIVATE_stringifyFilter(ir)).join(", ")}]`),__PRIVATE_isNullOrUndefined(rr.limit)||(nr+=", limit: "+rr.limit),rr.orderBy.length>0&&(nr+=`, orderBy: [${rr.orderBy.map(ir=>function(sr){return`${sr.field.canonicalString()} (${sr.dir})`}(ir)).join(", ")}]`),rr.startAt&&(nr+=", startAt: ",nr+=rr.startAt.inclusive?"b:":"a:",nr+=rr.startAt.position.map(ir=>canonicalId(ir)).join(",")),rr.endAt&&(nr+=", endAt: ",nr+=rr.endAt.inclusive?"a:":"b:",nr+=rr.endAt.position.map(ir=>canonicalId(ir)).join(",")),`Target(${nr})`}(__PRIVATE_queryToTarget(tr))}; limitType=${tr.limitType})`}function __PRIVATE_queryMatches(tr,er){return er.isFoundDocument()&&function(nr,ir){const ar=ir.key.path;return nr.collectionGroup!==null?ir.key.hasCollectionId(nr.collectionGroup)&&nr.path.isPrefixOf(ar):DocumentKey.isDocumentKey(nr.path)?nr.path.isEqual(ar):nr.path.isImmediateParentOf(ar)}(tr,er)&&function(nr,ir){for(const ar of __PRIVATE_queryNormalizedOrderBy(nr))if(!ar.field.isKeyField()&&ir.data.field(ar.field)===null)return!1;return!0}(tr,er)&&function(nr,ir){for(const ar of nr.filters)if(!ar.matches(ir))return!1;return!0}(tr,er)&&function(nr,ir){return!(nr.startAt&&!function(sr,lr,or){const cr=__PRIVATE_boundCompareToDocument(sr,lr,or);return sr.inclusive?cr<=0:cr<0}(nr.startAt,__PRIVATE_queryNormalizedOrderBy(nr),ir)||nr.endAt&&!function(sr,lr,or){const cr=__PRIVATE_boundCompareToDocument(sr,lr,or);return sr.inclusive?cr>=0:cr>0}(nr.endAt,__PRIVATE_queryNormalizedOrderBy(nr),ir))}(tr,er)}function __PRIVATE_queryCollectionGroup(tr){return tr.collectionGroup||(tr.path.length%2==1?tr.path.lastSegment():tr.path.get(tr.path.length-2))}function __PRIVATE_newQueryComparator(tr){return(er,rr)=>{let nr=!1;for(const ir of __PRIVATE_queryNormalizedOrderBy(tr)){const ar=__PRIVATE_compareDocs(ir,er,rr);if(ar!==0)return ar;nr=nr||ir.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(tr,er,rr){const nr=tr.field.isKeyField()?DocumentKey.comparator(er.key,rr.key):function(ar,sr,lr){const or=sr.data.field(ar),cr=lr.data.field(ar);return or!==null&&cr!==null?__PRIVATE_valueCompare(or,cr):fail()}(tr.field,er,rr);switch(tr.dir){case"asc":return nr;case"desc":return-1*nr;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(er,rr){this.mapKeyFn=er,this.equalsFn=rr,this.inner={},this.innerSize=0}get(er){const rr=this.mapKeyFn(er),nr=this.inner[rr];if(nr!==void 0){for(const[ir,ar]of nr)if(this.equalsFn(ir,er))return ar}}has(er){return this.get(er)!==void 0}set(er,rr){const nr=this.mapKeyFn(er),ir=this.inner[nr];if(ir===void 0)return this.inner[nr]=[[er,rr]],void this.innerSize++;for(let ar=0;ar<ir.length;ar++)if(this.equalsFn(ir[ar][0],er))return void(ir[ar]=[er,rr]);ir.push([er,rr]),this.innerSize++}delete(er){const rr=this.mapKeyFn(er),nr=this.inner[rr];if(nr===void 0)return!1;for(let ir=0;ir<nr.length;ir++)if(this.equalsFn(nr[ir][0],er))return nr.length===1?delete this.inner[rr]:nr.splice(ir,1),this.innerSize--,!0;return!1}forEach(er){forEach(this.inner,(rr,nr)=>{for(const[ir,ar]of nr)er(ir,ar)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe$1}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...tr){let er=_e;for(const rr of tr)er=er.insert(rr.key,rr);return er}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(tr){let er=_e;return tr.forEach((rr,nr)=>er=er.insert(rr,nr.overlayedDocument)),er}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(tr=>tr.toString(),(tr,er)=>tr.isEqual(er))}const ae$1=new SortedMap(DocumentKey.comparator),ue$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...tr){let er=ue$1;for(const rr of tr)er=er.add(rr);return er}const ce$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(tr,er){if(tr.useProto3Json){if(isNaN(er))return{doubleValue:"NaN"};if(er===1/0)return{doubleValue:"Infinity"};if(er===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(er)?"-0":er}}function __PRIVATE_toInteger(tr){return{integerValue:""+tr}}function toNumber$3(tr,er){return isSafeInteger(er)?__PRIVATE_toInteger(er):__PRIVATE_toDouble(tr,er)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(tr,er,rr){return tr instanceof __PRIVATE_ServerTimestampTransform?function(ir,ar){const sr={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:ir.seconds,nanos:ir.nanoseconds}}}};return ar&&__PRIVATE_isServerTimestamp(ar)&&(ar=__PRIVATE_getPreviousValue(ar)),ar&&(sr.fields.__previous_value__=ar),{mapValue:sr}}(rr,er):tr instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(tr,er):tr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(tr,er):function(ir,ar){const sr=__PRIVATE_computeTransformOperationBaseValue(ir,ar),lr=asNumber(sr)+asNumber(ir.Pe);return isInteger(sr)&&isInteger(ir.Pe)?__PRIVATE_toInteger(lr):__PRIVATE_toDouble(ir.serializer,lr)}(tr,er)}function __PRIVATE_applyTransformOperationToRemoteDocument(tr,er,rr){return tr instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(tr,er):tr instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(tr,er):rr}function __PRIVATE_computeTransformOperationBaseValue(tr,er){return tr instanceof __PRIVATE_NumericIncrementTransformOperation?function(nr){return isInteger(nr)||function(ar){return!!ar&&"doubleValue"in ar}(nr)}(er)?er:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(er){super(),this.elements=er}}function __PRIVATE_applyArrayUnionTransformOperation(tr,er){const rr=__PRIVATE_coercedFieldValuesArray(er);for(const nr of tr.elements)rr.some(ir=>__PRIVATE_valueEquals(ir,nr))||rr.push(nr);return{arrayValue:{values:rr}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(er){super(),this.elements=er}}function __PRIVATE_applyArrayRemoveTransformOperation(tr,er){let rr=__PRIVATE_coercedFieldValuesArray(er);for(const nr of tr.elements)rr=rr.filter(ir=>!__PRIVATE_valueEquals(ir,nr));return{arrayValue:{values:rr}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(er,rr){super(),this.serializer=er,this.Pe=rr}}function asNumber(tr){return __PRIVATE_normalizeNumber(tr.integerValue||tr.doubleValue)}function __PRIVATE_coercedFieldValuesArray(tr){return isArray$f(tr)&&tr.arrayValue.values?tr.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(tr,er){return tr.field.isEqual(er.field)&&function(nr,ir){return nr instanceof __PRIVATE_ArrayUnionTransformOperation&&ir instanceof __PRIVATE_ArrayUnionTransformOperation||nr instanceof __PRIVATE_ArrayRemoveTransformOperation&&ir instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(nr.elements,ir.elements,__PRIVATE_valueEquals):nr instanceof __PRIVATE_NumericIncrementTransformOperation&&ir instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(nr.Pe,ir.Pe):nr instanceof __PRIVATE_ServerTimestampTransform&&ir instanceof __PRIVATE_ServerTimestampTransform}(tr.transform,er.transform)}class MutationResult{constructor(er,rr){this.version=er,this.transformResults=rr}}class Precondition{constructor(er,rr){this.updateTime=er,this.exists=rr}static none(){return new Precondition}static exists(er){return new Precondition(void 0,er)}static updateTime(er){return new Precondition(er)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(er){return this.exists===er.exists&&(this.updateTime?!!er.updateTime&&this.updateTime.isEqual(er.updateTime):!er.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(tr,er){return tr.updateTime!==void 0?er.isFoundDocument()&&er.version.isEqual(tr.updateTime):tr.exists===void 0||tr.exists===er.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(tr,er){if(!tr.hasLocalMutations||er&&er.fields.length===0)return null;if(er===null)return tr.isNoDocument()?new __PRIVATE_DeleteMutation(tr.key,Precondition.none()):new __PRIVATE_SetMutation(tr.key,tr.data,Precondition.none());{const rr=tr.data,nr=ObjectValue.empty();let ir=new SortedSet(FieldPath$1.comparator);for(let ar of er.fields)if(!ir.has(ar)){let sr=rr.field(ar);sr===null&&ar.length>1&&(ar=ar.popLast(),sr=rr.field(ar)),sr===null?nr.delete(ar):nr.set(ar,sr),ir=ir.add(ar)}return new __PRIVATE_PatchMutation(tr.key,nr,new FieldMask(ir.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(tr,er,rr){tr instanceof __PRIVATE_SetMutation?function(ir,ar,sr){const lr=ir.value.clone(),or=__PRIVATE_serverTransformResults(ir.fieldTransforms,ar,sr.transformResults);lr.setAll(or),ar.convertToFoundDocument(sr.version,lr).setHasCommittedMutations()}(tr,er,rr):tr instanceof __PRIVATE_PatchMutation?function(ir,ar,sr){if(!__PRIVATE_preconditionIsValidForDocument(ir.precondition,ar))return void ar.convertToUnknownDocument(sr.version);const lr=__PRIVATE_serverTransformResults(ir.fieldTransforms,ar,sr.transformResults),or=ar.data;or.setAll(__PRIVATE_getPatch(ir)),or.setAll(lr),ar.convertToFoundDocument(sr.version,or).setHasCommittedMutations()}(tr,er,rr):function(ir,ar,sr){ar.convertToNoDocument(sr.version).setHasCommittedMutations()}(0,er,rr)}function __PRIVATE_mutationApplyToLocalView(tr,er,rr,nr){return tr instanceof __PRIVATE_SetMutation?function(ar,sr,lr,or){if(!__PRIVATE_preconditionIsValidForDocument(ar.precondition,sr))return lr;const cr=ar.value.clone(),ur=__PRIVATE_localTransformResults(ar.fieldTransforms,or,sr);return cr.setAll(ur),sr.convertToFoundDocument(sr.version,cr).setHasLocalMutations(),null}(tr,er,rr,nr):tr instanceof __PRIVATE_PatchMutation?function(ar,sr,lr,or){if(!__PRIVATE_preconditionIsValidForDocument(ar.precondition,sr))return lr;const cr=__PRIVATE_localTransformResults(ar.fieldTransforms,or,sr),ur=sr.data;return ur.setAll(__PRIVATE_getPatch(ar)),ur.setAll(cr),sr.convertToFoundDocument(sr.version,ur).setHasLocalMutations(),lr===null?null:lr.unionWith(ar.fieldMask.fields).unionWith(ar.fieldTransforms.map(dr=>dr.field))}(tr,er,rr,nr):function(ar,sr,lr){return __PRIVATE_preconditionIsValidForDocument(ar.precondition,sr)?(sr.convertToNoDocument(sr.version).setHasLocalMutations(),null):lr}(tr,er,rr)}function __PRIVATE_mutationExtractBaseValue(tr,er){let rr=null;for(const nr of tr.fieldTransforms){const ir=er.data.field(nr.field),ar=__PRIVATE_computeTransformOperationBaseValue(nr.transform,ir||null);ar!=null&&(rr===null&&(rr=ObjectValue.empty()),rr.set(nr.field,ar))}return rr||null}function __PRIVATE_mutationEquals(tr,er){return tr.type===er.type&&!!tr.key.isEqual(er.key)&&!!tr.precondition.isEqual(er.precondition)&&!!function(nr,ir){return nr===void 0&&ir===void 0||!(!nr||!ir)&&__PRIVATE_arrayEquals(nr,ir,(ar,sr)=>__PRIVATE_fieldTransformEquals(ar,sr))}(tr.fieldTransforms,er.fieldTransforms)&&(tr.type===0?tr.value.isEqual(er.value):tr.type!==1||tr.data.isEqual(er.data)&&tr.fieldMask.isEqual(er.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(er,rr,nr,ir=[]){super(),this.key=er,this.value=rr,this.precondition=nr,this.fieldTransforms=ir,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(er,rr,nr,ir,ar=[]){super(),this.key=er,this.data=rr,this.fieldMask=nr,this.precondition=ir,this.fieldTransforms=ar,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(tr){const er=new Map;return tr.fieldMask.fields.forEach(rr=>{if(!rr.isEmpty()){const nr=tr.data.field(rr);er.set(rr,nr)}}),er}function __PRIVATE_serverTransformResults(tr,er,rr){const nr=new Map;__PRIVATE_hardAssert(tr.length===rr.length);for(let ir=0;ir<rr.length;ir++){const ar=tr[ir],sr=ar.transform,lr=er.data.field(ar.field);nr.set(ar.field,__PRIVATE_applyTransformOperationToRemoteDocument(sr,lr,rr[ir]))}return nr}function __PRIVATE_localTransformResults(tr,er,rr){const nr=new Map;for(const ir of tr){const ar=ir.transform,sr=rr.data.field(ir.field);nr.set(ir.field,__PRIVATE_applyTransformOperationToLocalView(ar,sr,er))}return nr}class __PRIVATE_DeleteMutation extends Mutation{constructor(er,rr){super(),this.key=er,this.precondition=rr,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(er,rr){super(),this.key=er,this.precondition=rr,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(er,rr,nr,ir){this.batchId=er,this.localWriteTime=rr,this.baseMutations=nr,this.mutations=ir}applyToRemoteDocument(er,rr){const nr=rr.mutationResults;for(let ir=0;ir<this.mutations.length;ir++){const ar=this.mutations[ir];ar.key.isEqual(er.key)&&__PRIVATE_mutationApplyToRemoteDocument(ar,er,nr[ir])}}applyToLocalView(er,rr){for(const nr of this.baseMutations)nr.key.isEqual(er.key)&&(rr=__PRIVATE_mutationApplyToLocalView(nr,er,rr,this.localWriteTime));for(const nr of this.mutations)nr.key.isEqual(er.key)&&(rr=__PRIVATE_mutationApplyToLocalView(nr,er,rr,this.localWriteTime));return rr}applyToLocalDocumentSet(er,rr){const nr=__PRIVATE_newMutationMap();return this.mutations.forEach(ir=>{const ar=er.get(ir.key),sr=ar.overlayedDocument;let lr=this.applyToLocalView(sr,ar.mutatedFields);lr=rr.has(ir.key)?null:lr;const or=__PRIVATE_calculateOverlayMutation(sr,lr);or!==null&&nr.set(ir.key,or),sr.isValidDocument()||sr.convertToNoDocument(SnapshotVersion.min())}),nr}keys(){return this.mutations.reduce((er,rr)=>er.add(rr.key),__PRIVATE_documentKeySet())}isEqual(er){return this.batchId===er.batchId&&__PRIVATE_arrayEquals(this.mutations,er.mutations,(rr,nr)=>__PRIVATE_mutationEquals(rr,nr))&&__PRIVATE_arrayEquals(this.baseMutations,er.baseMutations,(rr,nr)=>__PRIVATE_mutationEquals(rr,nr))}}class MutationBatchResult{constructor(er,rr,nr,ir){this.batch=er,this.commitVersion=rr,this.mutationResults=nr,this.docVersions=ir}static from(er,rr,nr){__PRIVATE_hardAssert(er.mutations.length===nr.length);let ir=function(){return ae$1}();const ar=er.mutations;for(let sr=0;sr<ar.length;sr++)ir=ir.insert(ar[sr].key,nr[sr].version);return new MutationBatchResult(er,rr,nr,ir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(er,rr){this.largestBatchId=er,this.mutation=rr}getKey(){return this.mutation.key}isEqual(er){return er!==null&&this.mutation===er.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(er,rr){this.count=er,this.unchangedNames=rr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le$1,he$1;function __PRIVATE_isPermanentError(tr){switch(tr){default:return fail();case D$1.CANCELLED:case D$1.UNKNOWN:case D$1.DEADLINE_EXCEEDED:case D$1.RESOURCE_EXHAUSTED:case D$1.INTERNAL:case D$1.UNAVAILABLE:case D$1.UNAUTHENTICATED:return!1;case D$1.INVALID_ARGUMENT:case D$1.NOT_FOUND:case D$1.ALREADY_EXISTS:case D$1.PERMISSION_DENIED:case D$1.FAILED_PRECONDITION:case D$1.ABORTED:case D$1.OUT_OF_RANGE:case D$1.UNIMPLEMENTED:case D$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(tr){if(tr===void 0)return __PRIVATE_logError("GRPC error has no .code"),D$1.UNKNOWN;switch(tr){case le$1.OK:return D$1.OK;case le$1.CANCELLED:return D$1.CANCELLED;case le$1.UNKNOWN:return D$1.UNKNOWN;case le$1.DEADLINE_EXCEEDED:return D$1.DEADLINE_EXCEEDED;case le$1.RESOURCE_EXHAUSTED:return D$1.RESOURCE_EXHAUSTED;case le$1.INTERNAL:return D$1.INTERNAL;case le$1.UNAVAILABLE:return D$1.UNAVAILABLE;case le$1.UNAUTHENTICATED:return D$1.UNAUTHENTICATED;case le$1.INVALID_ARGUMENT:return D$1.INVALID_ARGUMENT;case le$1.NOT_FOUND:return D$1.NOT_FOUND;case le$1.ALREADY_EXISTS:return D$1.ALREADY_EXISTS;case le$1.PERMISSION_DENIED:return D$1.PERMISSION_DENIED;case le$1.FAILED_PRECONDITION:return D$1.FAILED_PRECONDITION;case le$1.ABORTED:return D$1.ABORTED;case le$1.OUT_OF_RANGE:return D$1.OUT_OF_RANGE;case le$1.UNIMPLEMENTED:return D$1.UNIMPLEMENTED;case le$1.DATA_LOSS:return D$1.DATA_LOSS;default:return fail()}}(he$1=le$1||(le$1={}))[he$1.OK=0]="OK",he$1[he$1.CANCELLED=1]="CANCELLED",he$1[he$1.UNKNOWN=2]="UNKNOWN",he$1[he$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he$1[he$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he$1[he$1.NOT_FOUND=5]="NOT_FOUND",he$1[he$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",he$1[he$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",he$1[he$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",he$1[he$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he$1[he$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he$1[he$1.ABORTED=10]="ABORTED",he$1[he$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",he$1[he$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",he$1[he$1.INTERNAL=13]="INTERNAL",he$1[he$1.UNAVAILABLE=14]="UNAVAILABLE",he$1[he$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(tr){const er=__PRIVATE_newTextEncoder().encode(tr),rr=new Md5;return rr.update(er),new Uint8Array(rr.digest())}function __PRIVATE_get64BitUints(tr){const er=new DataView(tr.buffer),rr=er.getUint32(0,!0),nr=er.getUint32(4,!0),ir=er.getUint32(8,!0),ar=er.getUint32(12,!0);return[new Integer([rr,nr],0),new Integer([ir,ar],0)]}class BloomFilter{constructor(er,rr,nr){if(this.bitmap=er,this.padding=rr,this.hashCount=nr,rr<0||rr>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${rr}`);if(nr<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${nr}`);if(er.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${nr}`);if(er.length===0&&rr!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${rr}`);this.Ie=8*er.length-rr,this.Te=Integer.fromNumber(this.Ie)}Ee(er,rr,nr){let ir=er.add(rr.multiply(Integer.fromNumber(nr)));return ir.compare(Ie)===1&&(ir=new Integer([ir.getBits(0),ir.getBits(1)],0)),ir.modulo(this.Te).toNumber()}de(er){return(this.bitmap[Math.floor(er/8)]&1<<er%8)!=0}mightContain(er){if(this.Ie===0)return!1;const rr=__PRIVATE_getMd5HashValue(er),[nr,ir]=__PRIVATE_get64BitUints(rr);for(let ar=0;ar<this.hashCount;ar++){const sr=this.Ee(nr,ir,ar);if(!this.de(sr))return!1}return!0}static create(er,rr,nr){const ir=er%8==0?0:8-er%8,ar=new Uint8Array(Math.ceil(er/8)),sr=new BloomFilter(ar,ir,rr);return nr.forEach(lr=>sr.insert(lr)),sr}insert(er){if(this.Ie===0)return;const rr=__PRIVATE_getMd5HashValue(er),[nr,ir]=__PRIVATE_get64BitUints(rr);for(let ar=0;ar<this.hashCount;ar++){const sr=this.Ee(nr,ir,ar);this.Ae(sr)}}Ae(er){const rr=Math.floor(er/8),nr=er%8;this.bitmap[rr]|=1<<nr}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(er,rr,nr,ir,ar){this.snapshotVersion=er,this.targetChanges=rr,this.targetMismatches=nr,this.documentUpdates=ir,this.resolvedLimboDocuments=ar}static createSynthesizedRemoteEventForCurrentChange(er,rr,nr){const ir=new Map;return ir.set(er,TargetChange.createSynthesizedTargetChangeForCurrentChange(er,rr,nr)),new RemoteEvent(SnapshotVersion.min(),ir,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(er,rr,nr,ir,ar){this.resumeToken=er,this.current=rr,this.addedDocuments=nr,this.modifiedDocuments=ir,this.removedDocuments=ar}static createSynthesizedTargetChangeForCurrentChange(er,rr,nr){return new TargetChange(nr,rr,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(er,rr,nr,ir){this.Re=er,this.removedTargetIds=rr,this.key=nr,this.Ve=ir}}class __PRIVATE_ExistenceFilterChange{constructor(er,rr){this.targetId=er,this.me=rr}}class __PRIVATE_WatchTargetChange{constructor(er,rr,nr=ByteString.EMPTY_BYTE_STRING,ir=null){this.state=er,this.targetIds=rr,this.resumeToken=nr,this.cause=ir}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(er){er.approximateByteSize()>0&&(this.we=!0,this.pe=er)}ve(){let er=__PRIVATE_documentKeySet(),rr=__PRIVATE_documentKeySet(),nr=__PRIVATE_documentKeySet();return this.ge.forEach((ir,ar)=>{switch(ar){case 0:er=er.add(ir);break;case 2:rr=rr.add(ir);break;case 1:nr=nr.add(ir);break;default:fail()}}),new TargetChange(this.pe,this.ye,er,rr,nr)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(er,rr){this.we=!0,this.ge=this.ge.insert(er,rr)}Me(er){this.we=!0,this.ge=this.ge.remove(er)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(er){this.Le=er,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(er){for(const rr of er.Re)er.Ve&&er.Ve.isFoundDocument()?this.$e(rr,er.Ve):this.Ue(rr,er.key,er.Ve);for(const rr of er.removedTargetIds)this.Ue(rr,er.key,er.Ve)}We(er){this.forEachTarget(er,rr=>{const nr=this.Ge(rr);switch(er.state){case 0:this.ze(rr)&&nr.De(er.resumeToken);break;case 1:nr.Oe(),nr.Se||nr.Ce(),nr.De(er.resumeToken);break;case 2:nr.Oe(),nr.Se||this.removeTarget(rr);break;case 3:this.ze(rr)&&(nr.Ne(),nr.De(er.resumeToken));break;case 4:this.ze(rr)&&(this.je(rr),nr.De(er.resumeToken));break;default:fail()}})}forEachTarget(er,rr){er.targetIds.length>0?er.targetIds.forEach(rr):this.Be.forEach((nr,ir)=>{this.ze(ir)&&rr(ir)})}He(er){const rr=er.targetId,nr=er.me.count,ir=this.Je(rr);if(ir){const ar=ir.target;if(__PRIVATE_targetIsDocumentTarget(ar))if(nr===0){const sr=new DocumentKey(ar.path);this.Ue(rr,sr,MutableDocument.newNoDocument(sr,SnapshotVersion.min()))}else __PRIVATE_hardAssert(nr===1);else{const sr=this.Ye(rr);if(sr!==nr){const lr=this.Ze(er),or=lr?this.Xe(lr,er,sr):1;if(or!==0){this.je(rr);const cr=or===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(rr,cr)}}}}}Ze(er){const rr=er.me.unchangedNames;if(!rr||!rr.bits)return null;const{bits:{bitmap:nr="",padding:ir=0},hashCount:ar=0}=rr;let sr,lr;try{sr=__PRIVATE_normalizeByteString(nr).toUint8Array()}catch(or){if(or instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+or.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw or}try{lr=new BloomFilter(sr,ir,ar)}catch(or){return __PRIVATE_logWarn(or instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",or),null}return lr.Ie===0?null:lr}Xe(er,rr,nr){return rr.me.count===nr-this.nt(er,rr.targetId)?0:2}nt(er,rr){const nr=this.Le.getRemoteKeysForTarget(rr);let ir=0;return nr.forEach(ar=>{const sr=this.Le.tt(),lr=`projects/${sr.projectId}/databases/${sr.database}/documents/${ar.path.canonicalString()}`;er.mightContain(lr)||(this.Ue(rr,ar,null),ir++)}),ir}rt(er){const rr=new Map;this.Be.forEach((ar,sr)=>{const lr=this.Je(sr);if(lr){if(ar.current&&__PRIVATE_targetIsDocumentTarget(lr.target)){const or=new DocumentKey(lr.target.path);this.ke.get(or)!==null||this.it(sr,or)||this.Ue(sr,or,MutableDocument.newNoDocument(or,er))}ar.be&&(rr.set(sr,ar.ve()),ar.Ce())}});let nr=__PRIVATE_documentKeySet();this.qe.forEach((ar,sr)=>{let lr=!0;sr.forEachWhile(or=>{const cr=this.Je(or);return!cr||cr.purpose==="TargetPurposeLimboResolution"||(lr=!1,!1)}),lr&&(nr=nr.add(ar))}),this.ke.forEach((ar,sr)=>sr.setReadTime(er));const ir=new RemoteEvent(er,rr,this.Qe,this.ke,nr);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),ir}$e(er,rr){if(!this.ze(er))return;const nr=this.it(er,rr.key)?2:0;this.Ge(er).Fe(rr.key,nr),this.ke=this.ke.insert(rr.key,rr),this.qe=this.qe.insert(rr.key,this.st(rr.key).add(er))}Ue(er,rr,nr){if(!this.ze(er))return;const ir=this.Ge(er);this.it(er,rr)?ir.Fe(rr,1):ir.Me(rr),this.qe=this.qe.insert(rr,this.st(rr).delete(er)),nr&&(this.ke=this.ke.insert(rr,nr))}removeTarget(er){this.Be.delete(er)}Ye(er){const rr=this.Ge(er).ve();return this.Le.getRemoteKeysForTarget(er).size+rr.addedDocuments.size-rr.removedDocuments.size}xe(er){this.Ge(er).xe()}Ge(er){let rr=this.Be.get(er);return rr||(rr=new __PRIVATE_TargetState,this.Be.set(er,rr)),rr}st(er){let rr=this.qe.get(er);return rr||(rr=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(er,rr)),rr}ze(er){const rr=this.Je(er)!==null;return rr||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",er),rr}Je(er){const rr=this.Be.get(er);return rr&&rr.Se?null:this.Le.ot(er)}je(er){this.Be.set(er,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(er).forEach(rr=>{this.Ue(er,rr,null)})}it(er,rr){return this.Le.getRemoteKeysForTarget(er).has(rr)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(er,rr){this.databaseId=er,this.useProto3Json=rr}}function __PRIVATE_toInt32Proto(tr,er){return tr.useProto3Json||__PRIVATE_isNullOrUndefined(er)?er:{value:er}}function toTimestamp(tr,er){return tr.useProto3Json?`${new Date(1e3*er.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+er.nanoseconds).slice(-9)}Z`:{seconds:""+er.seconds,nanos:er.nanoseconds}}function __PRIVATE_toBytes(tr,er){return tr.useProto3Json?er.toBase64():er.toUint8Array()}function __PRIVATE_toVersion(tr,er){return toTimestamp(tr,er.toTimestamp())}function __PRIVATE_fromVersion(tr){return __PRIVATE_hardAssert(!!tr),SnapshotVersion.fromTimestamp(function(rr){const nr=__PRIVATE_normalizeTimestamp(rr);return new Timestamp(nr.seconds,nr.nanos)}(tr))}function __PRIVATE_toResourceName(tr,er){return __PRIVATE_toResourcePath(tr,er).canonicalString()}function __PRIVATE_toResourcePath(tr,er){const rr=function(ir){return new ResourcePath(["projects",ir.projectId,"databases",ir.database])}(tr).child("documents");return er===void 0?rr:rr.child(er)}function __PRIVATE_fromResourceName(tr){const er=ResourcePath.fromString(tr);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(er)),er}function __PRIVATE_toName(tr,er){return __PRIVATE_toResourceName(tr.databaseId,er.path)}function fromName(tr,er){const rr=__PRIVATE_fromResourceName(er);if(rr.get(1)!==tr.databaseId.projectId)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+rr.get(1)+" vs "+tr.databaseId.projectId);if(rr.get(3)!==tr.databaseId.database)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+rr.get(3)+" vs "+tr.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(rr))}function __PRIVATE_toQueryPath(tr,er){return __PRIVATE_toResourceName(tr.databaseId,er)}function __PRIVATE_fromQueryPath(tr){const er=__PRIVATE_fromResourceName(tr);return er.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(er)}function __PRIVATE_getEncodedDatabaseId(tr){return new ResourcePath(["projects",tr.databaseId.projectId,"databases",tr.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(tr){return __PRIVATE_hardAssert(tr.length>4&&tr.get(4)==="documents"),tr.popFirst(5)}function __PRIVATE_toMutationDocument(tr,er,rr){return{name:__PRIVATE_toName(tr,er),fields:rr.value.mapValue.fields}}function __PRIVATE_fromWatchChange(tr,er){let rr;if("targetChange"in er){er.targetChange;const nr=function(cr){return cr==="NO_CHANGE"?0:cr==="ADD"?1:cr==="REMOVE"?2:cr==="CURRENT"?3:cr==="RESET"?4:fail()}(er.targetChange.targetChangeType||"NO_CHANGE"),ir=er.targetChange.targetIds||[],ar=function(cr,ur){return cr.useProto3Json?(__PRIVATE_hardAssert(ur===void 0||typeof ur=="string"),ByteString.fromBase64String(ur||"")):(__PRIVATE_hardAssert(ur===void 0||ur instanceof Buffer||ur instanceof Uint8Array),ByteString.fromUint8Array(ur||new Uint8Array))}(tr,er.targetChange.resumeToken),sr=er.targetChange.cause,lr=sr&&function(cr){const ur=cr.code===void 0?D$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(cr.code);return new FirestoreError(ur,cr.message||"")}(sr);rr=new __PRIVATE_WatchTargetChange(nr,ir,ar,lr||null)}else if("documentChange"in er){er.documentChange;const nr=er.documentChange;nr.document,nr.document.name,nr.document.updateTime;const ir=fromName(tr,nr.document.name),ar=__PRIVATE_fromVersion(nr.document.updateTime),sr=nr.document.createTime?__PRIVATE_fromVersion(nr.document.createTime):SnapshotVersion.min(),lr=new ObjectValue({mapValue:{fields:nr.document.fields}}),or=MutableDocument.newFoundDocument(ir,ar,sr,lr),cr=nr.targetIds||[],ur=nr.removedTargetIds||[];rr=new __PRIVATE_DocumentWatchChange(cr,ur,or.key,or)}else if("documentDelete"in er){er.documentDelete;const nr=er.documentDelete;nr.document;const ir=fromName(tr,nr.document),ar=nr.readTime?__PRIVATE_fromVersion(nr.readTime):SnapshotVersion.min(),sr=MutableDocument.newNoDocument(ir,ar),lr=nr.removedTargetIds||[];rr=new __PRIVATE_DocumentWatchChange([],lr,sr.key,sr)}else if("documentRemove"in er){er.documentRemove;const nr=er.documentRemove;nr.document;const ir=fromName(tr,nr.document),ar=nr.removedTargetIds||[];rr=new __PRIVATE_DocumentWatchChange([],ar,ir,null)}else{if(!("filter"in er))return fail();{er.filter;const nr=er.filter;nr.targetId;const{count:ir=0,unchangedNames:ar}=nr,sr=new ExistenceFilter(ir,ar),lr=nr.targetId;rr=new __PRIVATE_ExistenceFilterChange(lr,sr)}}return rr}function toMutation(tr,er){let rr;if(er instanceof __PRIVATE_SetMutation)rr={update:__PRIVATE_toMutationDocument(tr,er.key,er.value)};else if(er instanceof __PRIVATE_DeleteMutation)rr={delete:__PRIVATE_toName(tr,er.key)};else if(er instanceof __PRIVATE_PatchMutation)rr={update:__PRIVATE_toMutationDocument(tr,er.key,er.data),updateMask:__PRIVATE_toDocumentMask(er.fieldMask)};else{if(!(er instanceof __PRIVATE_VerifyMutation))return fail();rr={verify:__PRIVATE_toName(tr,er.key)}}return er.fieldTransforms.length>0&&(rr.updateTransforms=er.fieldTransforms.map(nr=>function(ar,sr){const lr=sr.transform;if(lr instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:sr.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(lr instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:sr.field.canonicalString(),appendMissingElements:{values:lr.elements}};if(lr instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:sr.field.canonicalString(),removeAllFromArray:{values:lr.elements}};if(lr instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:sr.field.canonicalString(),increment:lr.Pe};throw fail()}(0,nr))),er.precondition.isNone||(rr.currentDocument=function(ir,ar){return ar.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(ir,ar.updateTime)}:ar.exists!==void 0?{exists:ar.exists}:fail()}(tr,er.precondition)),rr}function __PRIVATE_fromWriteResults(tr,er){return tr&&tr.length>0?(__PRIVATE_hardAssert(er!==void 0),tr.map(rr=>function(ir,ar){let sr=ir.updateTime?__PRIVATE_fromVersion(ir.updateTime):__PRIVATE_fromVersion(ar);return sr.isEqual(SnapshotVersion.min())&&(sr=__PRIVATE_fromVersion(ar)),new MutationResult(sr,ir.transformResults||[])}(rr,er))):[]}function __PRIVATE_toDocumentsTarget(tr,er){return{documents:[__PRIVATE_toQueryPath(tr,er.path)]}}function __PRIVATE_toQueryTarget(tr,er){const rr={structuredQuery:{}},nr=er.path;let ir;er.collectionGroup!==null?(ir=nr,rr.structuredQuery.from=[{collectionId:er.collectionGroup,allDescendants:!0}]):(ir=nr.popLast(),rr.structuredQuery.from=[{collectionId:nr.lastSegment()}]),rr.parent=__PRIVATE_toQueryPath(tr,ir);const ar=function(cr){if(cr.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(cr,"and"))}(er.filters);ar&&(rr.structuredQuery.where=ar);const sr=function(cr){if(cr.length!==0)return cr.map(ur=>function(hr){return{field:__PRIVATE_toFieldPathReference(hr.field),direction:__PRIVATE_toDirection(hr.dir)}}(ur))}(er.orderBy);sr&&(rr.structuredQuery.orderBy=sr);const lr=__PRIVATE_toInt32Proto(tr,er.limit);return lr!==null&&(rr.structuredQuery.limit=lr),er.startAt&&(rr.structuredQuery.startAt=function(cr){return{before:cr.inclusive,values:cr.position}}(er.startAt)),er.endAt&&(rr.structuredQuery.endAt=function(cr){return{before:!cr.inclusive,values:cr.position}}(er.endAt)),{_t:rr,parent:ir}}function __PRIVATE_convertQueryTargetToQuery(tr){let er=__PRIVATE_fromQueryPath(tr.parent);const rr=tr.structuredQuery,nr=rr.from?rr.from.length:0;let ir=null;if(nr>0){__PRIVATE_hardAssert(nr===1);const ur=rr.from[0];ur.allDescendants?ir=ur.collectionId:er=er.child(ur.collectionId)}let ar=[];rr.where&&(ar=function(dr){const hr=__PRIVATE_fromFilter(dr);return hr instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(hr)?hr.getFilters():[hr]}(rr.where));let sr=[];rr.orderBy&&(sr=function(dr){return dr.map(hr=>function(mr){return new OrderBy(__PRIVATE_fromFieldPathReference(mr.field),function(pr){switch(pr){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(mr.direction))}(hr))}(rr.orderBy));let lr=null;rr.limit&&(lr=function(dr){let hr;return hr=typeof dr=="object"?dr.value:dr,__PRIVATE_isNullOrUndefined(hr)?null:hr}(rr.limit));let or=null;rr.startAt&&(or=function(dr){const hr=!!dr.before,fr=dr.values||[];return new Bound(fr,hr)}(rr.startAt));let cr=null;return rr.endAt&&(cr=function(dr){const hr=!dr.before,fr=dr.values||[];return new Bound(fr,hr)}(rr.endAt)),__PRIVATE_newQuery(er,ir,sr,ar,lr,"F",or,cr)}function __PRIVATE_toListenRequestLabels(tr,er){const rr=function(ir){switch(ir){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(er.purpose);return rr==null?null:{"goog-listen-tags":rr}}function __PRIVATE_fromFilter(tr){return tr.unaryFilter!==void 0?function(rr){switch(rr.unaryFilter.op){case"IS_NAN":const nr=__PRIVATE_fromFieldPathReference(rr.unaryFilter.field);return FieldFilter.create(nr,"==",{doubleValue:NaN});case"IS_NULL":const ir=__PRIVATE_fromFieldPathReference(rr.unaryFilter.field);return FieldFilter.create(ir,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const ar=__PRIVATE_fromFieldPathReference(rr.unaryFilter.field);return FieldFilter.create(ar,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const sr=__PRIVATE_fromFieldPathReference(rr.unaryFilter.field);return FieldFilter.create(sr,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(tr):tr.fieldFilter!==void 0?function(rr){return FieldFilter.create(__PRIVATE_fromFieldPathReference(rr.fieldFilter.field),function(ir){switch(ir){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(rr.fieldFilter.op),rr.fieldFilter.value)}(tr):tr.compositeFilter!==void 0?function(rr){return CompositeFilter.create(rr.compositeFilter.filters.map(nr=>__PRIVATE_fromFilter(nr)),function(ir){switch(ir){case"AND":return"and";case"OR":return"or";default:return fail()}}(rr.compositeFilter.op))}(tr):fail()}function __PRIVATE_toDirection(tr){return Te[tr]}function __PRIVATE_toOperatorName(tr){return Ee[tr]}function __PRIVATE_toCompositeOperatorName(tr){return de$1[tr]}function __PRIVATE_toFieldPathReference(tr){return{fieldPath:tr.canonicalString()}}function __PRIVATE_fromFieldPathReference(tr){return FieldPath$1.fromServerFormat(tr.fieldPath)}function __PRIVATE_toFilter(tr){return tr instanceof FieldFilter?function(rr){if(rr.op==="=="){if(__PRIVATE_isNanValue(rr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rr.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(rr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rr.field),op:"IS_NULL"}}}else if(rr.op==="!="){if(__PRIVATE_isNanValue(rr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rr.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(rr.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(rr.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(rr.field),op:__PRIVATE_toOperatorName(rr.op),value:rr.value}}}(tr):tr instanceof CompositeFilter?function(rr){const nr=rr.getFilters().map(ir=>__PRIVATE_toFilter(ir));return nr.length===1?nr[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(rr.op),filters:nr}}}(tr):fail()}function __PRIVATE_toDocumentMask(tr){const er=[];return tr.fields.forEach(rr=>er.push(rr.canonicalString())),{fieldPaths:er}}function __PRIVATE_isValidResourceName(tr){return tr.length>=4&&tr.get(0)==="projects"&&tr.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(er,rr,nr,ir,ar=SnapshotVersion.min(),sr=SnapshotVersion.min(),lr=ByteString.EMPTY_BYTE_STRING,or=null){this.target=er,this.targetId=rr,this.purpose=nr,this.sequenceNumber=ir,this.snapshotVersion=ar,this.lastLimboFreeSnapshotVersion=sr,this.resumeToken=lr,this.expectedCount=or}withSequenceNumber(er){return new TargetData(this.target,this.targetId,this.purpose,er,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(er,rr){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,rr,this.lastLimboFreeSnapshotVersion,er,null)}withExpectedCount(er){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,er)}withLastLimboFreeSnapshotVersion(er){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,er,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(er){this.ct=er}}function __PRIVATE_fromBundledQuery(tr){const er=__PRIVATE_convertQueryTargetToQuery({parent:tr.parent,structuredQuery:tr.structuredQuery});return tr.limitType==="LAST"?__PRIVATE_queryWithLimit(er,er.limit,"L"):er}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(er,rr){return this.un.add(rr),PersistencePromise.resolve()}getCollectionParents(er,rr){return PersistencePromise.resolve(this.un.getEntries(rr))}addFieldIndex(er,rr){return PersistencePromise.resolve()}deleteFieldIndex(er,rr){return PersistencePromise.resolve()}deleteAllFieldIndexes(er){return PersistencePromise.resolve()}createTargetIndexes(er,rr){return PersistencePromise.resolve()}getDocumentsMatchingTarget(er,rr){return PersistencePromise.resolve(null)}getIndexType(er,rr){return PersistencePromise.resolve(0)}getFieldIndexes(er,rr){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(er){return PersistencePromise.resolve(null)}getMinOffset(er,rr){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(er,rr){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(er,rr,nr){return PersistencePromise.resolve()}updateIndexEntries(er,rr){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(er){const rr=er.lastSegment(),nr=er.popLast(),ir=this.index[rr]||new SortedSet(ResourcePath.comparator),ar=!ir.has(nr);return this.index[rr]=ir.add(nr),ar}has(er){const rr=er.lastSegment(),nr=er.popLast(),ir=this.index[rr];return ir&&ir.has(nr)}getEntries(er){return(this.index[er]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(er){this.Ln=er}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(er=>er.toString(),(er,rr)=>er.isEqual(rr)),this.changesApplied=!1}addEntry(er){this.assertNotApplied(),this.changes.set(er.key,er)}removeEntry(er,rr){this.assertNotApplied(),this.changes.set(er,MutableDocument.newInvalidDocument(er).setReadTime(rr))}getEntry(er,rr){this.assertNotApplied();const nr=this.changes.get(rr);return nr!==void 0?PersistencePromise.resolve(nr):this.getFromCache(er,rr)}getEntries(er,rr){return this.getAllFromCache(er,rr)}apply(er){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(er)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(er,rr){this.overlayedDocument=er,this.mutatedFields=rr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(er,rr,nr,ir){this.remoteDocumentCache=er,this.mutationQueue=rr,this.documentOverlayCache=nr,this.indexManager=ir}getDocument(er,rr){let nr=null;return this.documentOverlayCache.getOverlay(er,rr).next(ir=>(nr=ir,this.remoteDocumentCache.getEntry(er,rr))).next(ir=>(nr!==null&&__PRIVATE_mutationApplyToLocalView(nr.mutation,ir,FieldMask.empty(),Timestamp.now()),ir))}getDocuments(er,rr){return this.remoteDocumentCache.getEntries(er,rr).next(nr=>this.getLocalViewOfDocuments(er,nr,__PRIVATE_documentKeySet()).next(()=>nr))}getLocalViewOfDocuments(er,rr,nr=__PRIVATE_documentKeySet()){const ir=__PRIVATE_newOverlayMap();return this.populateOverlays(er,ir,rr).next(()=>this.computeViews(er,rr,ir,nr).next(ar=>{let sr=documentMap();return ar.forEach((lr,or)=>{sr=sr.insert(lr,or.overlayedDocument)}),sr}))}getOverlayedDocuments(er,rr){const nr=__PRIVATE_newOverlayMap();return this.populateOverlays(er,nr,rr).next(()=>this.computeViews(er,rr,nr,__PRIVATE_documentKeySet()))}populateOverlays(er,rr,nr){const ir=[];return nr.forEach(ar=>{rr.has(ar)||ir.push(ar)}),this.documentOverlayCache.getOverlays(er,ir).next(ar=>{ar.forEach((sr,lr)=>{rr.set(sr,lr)})})}computeViews(er,rr,nr,ir){let ar=__PRIVATE_mutableDocumentMap();const sr=__PRIVATE_newDocumentKeyMap(),lr=function(){return __PRIVATE_newDocumentKeyMap()}();return rr.forEach((or,cr)=>{const ur=nr.get(cr.key);ir.has(cr.key)&&(ur===void 0||ur.mutation instanceof __PRIVATE_PatchMutation)?ar=ar.insert(cr.key,cr):ur!==void 0?(sr.set(cr.key,ur.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(ur.mutation,cr,ur.mutation.getFieldMask(),Timestamp.now())):sr.set(cr.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(er,ar).next(or=>(or.forEach((cr,ur)=>sr.set(cr,ur)),rr.forEach((cr,ur)=>{var dr;return lr.set(cr,new OverlayedDocument(ur,(dr=sr.get(cr))!==null&&dr!==void 0?dr:null))}),lr))}recalculateAndSaveOverlays(er,rr){const nr=__PRIVATE_newDocumentKeyMap();let ir=new SortedMap((sr,lr)=>sr-lr),ar=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(er,rr).next(sr=>{for(const lr of sr)lr.keys().forEach(or=>{const cr=rr.get(or);if(cr===null)return;let ur=nr.get(or)||FieldMask.empty();ur=lr.applyToLocalView(cr,ur),nr.set(or,ur);const dr=(ir.get(lr.batchId)||__PRIVATE_documentKeySet()).add(or);ir=ir.insert(lr.batchId,dr)})}).next(()=>{const sr=[],lr=ir.getReverseIterator();for(;lr.hasNext();){const or=lr.getNext(),cr=or.key,ur=or.value,dr=__PRIVATE_newMutationMap();ur.forEach(hr=>{if(!ar.has(hr)){const fr=__PRIVATE_calculateOverlayMutation(rr.get(hr),nr.get(hr));fr!==null&&dr.set(hr,fr),ar=ar.add(hr)}}),sr.push(this.documentOverlayCache.saveOverlays(er,cr,dr))}return PersistencePromise.waitFor(sr)}).next(()=>nr)}recalculateAndSaveOverlaysForDocumentKeys(er,rr){return this.remoteDocumentCache.getEntries(er,rr).next(nr=>this.recalculateAndSaveOverlays(er,nr))}getDocumentsMatchingQuery(er,rr,nr,ir){return function(sr){return DocumentKey.isDocumentKey(sr.path)&&sr.collectionGroup===null&&sr.filters.length===0}(rr)?this.getDocumentsMatchingDocumentQuery(er,rr.path):__PRIVATE_isCollectionGroupQuery(rr)?this.getDocumentsMatchingCollectionGroupQuery(er,rr,nr,ir):this.getDocumentsMatchingCollectionQuery(er,rr,nr,ir)}getNextDocuments(er,rr,nr,ir){return this.remoteDocumentCache.getAllFromCollectionGroup(er,rr,nr,ir).next(ar=>{const sr=ir-ar.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(er,rr,nr.largestBatchId,ir-ar.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let lr=-1,or=ar;return sr.next(cr=>PersistencePromise.forEach(cr,(ur,dr)=>(lr<dr.largestBatchId&&(lr=dr.largestBatchId),ar.get(ur)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(er,ur).next(hr=>{or=or.insert(ur,hr)}))).next(()=>this.populateOverlays(er,cr,ar)).next(()=>this.computeViews(er,or,cr,__PRIVATE_documentKeySet())).next(ur=>({batchId:lr,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ur)})))})}getDocumentsMatchingDocumentQuery(er,rr){return this.getDocument(er,new DocumentKey(rr)).next(nr=>{let ir=documentMap();return nr.isFoundDocument()&&(ir=ir.insert(nr.key,nr)),ir})}getDocumentsMatchingCollectionGroupQuery(er,rr,nr,ir){const ar=rr.collectionGroup;let sr=documentMap();return this.indexManager.getCollectionParents(er,ar).next(lr=>PersistencePromise.forEach(lr,or=>{const cr=function(dr,hr){return new __PRIVATE_QueryImpl(hr,null,dr.explicitOrderBy.slice(),dr.filters.slice(),dr.limit,dr.limitType,dr.startAt,dr.endAt)}(rr,or.child(ar));return this.getDocumentsMatchingCollectionQuery(er,cr,nr,ir).next(ur=>{ur.forEach((dr,hr)=>{sr=sr.insert(dr,hr)})})}).next(()=>sr))}getDocumentsMatchingCollectionQuery(er,rr,nr,ir){let ar;return this.documentOverlayCache.getOverlaysForCollection(er,rr.path,nr.largestBatchId).next(sr=>(ar=sr,this.remoteDocumentCache.getDocumentsMatchingQuery(er,rr,nr,ar,ir))).next(sr=>{ar.forEach((or,cr)=>{const ur=cr.getKey();sr.get(ur)===null&&(sr=sr.insert(ur,MutableDocument.newInvalidDocument(ur)))});let lr=documentMap();return sr.forEach((or,cr)=>{const ur=ar.get(or);ur!==void 0&&__PRIVATE_mutationApplyToLocalView(ur.mutation,cr,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(rr,cr)&&(lr=lr.insert(or,cr))}),lr})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(er){this.serializer=er,this.hr=new Map,this.Pr=new Map}getBundleMetadata(er,rr){return PersistencePromise.resolve(this.hr.get(rr))}saveBundleMetadata(er,rr){return this.hr.set(rr.id,function(ir){return{id:ir.id,version:ir.version,createTime:__PRIVATE_fromVersion(ir.createTime)}}(rr)),PersistencePromise.resolve()}getNamedQuery(er,rr){return PersistencePromise.resolve(this.Pr.get(rr))}saveNamedQuery(er,rr){return this.Pr.set(rr.name,function(ir){return{name:ir.name,query:__PRIVATE_fromBundledQuery(ir.bundledQuery),readTime:__PRIVATE_fromVersion(ir.readTime)}}(rr)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(er,rr){return PersistencePromise.resolve(this.overlays.get(rr))}getOverlays(er,rr){const nr=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(rr,ir=>this.getOverlay(er,ir).next(ar=>{ar!==null&&nr.set(ir,ar)})).next(()=>nr)}saveOverlays(er,rr,nr){return nr.forEach((ir,ar)=>{this.ht(er,rr,ar)}),PersistencePromise.resolve()}removeOverlaysForBatchId(er,rr,nr){const ir=this.Ir.get(nr);return ir!==void 0&&(ir.forEach(ar=>this.overlays=this.overlays.remove(ar)),this.Ir.delete(nr)),PersistencePromise.resolve()}getOverlaysForCollection(er,rr,nr){const ir=__PRIVATE_newOverlayMap(),ar=rr.length+1,sr=new DocumentKey(rr.child("")),lr=this.overlays.getIteratorFrom(sr);for(;lr.hasNext();){const or=lr.getNext().value,cr=or.getKey();if(!rr.isPrefixOf(cr.path))break;cr.path.length===ar&&or.largestBatchId>nr&&ir.set(or.getKey(),or)}return PersistencePromise.resolve(ir)}getOverlaysForCollectionGroup(er,rr,nr,ir){let ar=new SortedMap((cr,ur)=>cr-ur);const sr=this.overlays.getIterator();for(;sr.hasNext();){const cr=sr.getNext().value;if(cr.getKey().getCollectionGroup()===rr&&cr.largestBatchId>nr){let ur=ar.get(cr.largestBatchId);ur===null&&(ur=__PRIVATE_newOverlayMap(),ar=ar.insert(cr.largestBatchId,ur)),ur.set(cr.getKey(),cr)}}const lr=__PRIVATE_newOverlayMap(),or=ar.getIterator();for(;or.hasNext()&&(or.getNext().value.forEach((cr,ur)=>lr.set(cr,ur)),!(lr.size()>=ir)););return PersistencePromise.resolve(lr)}ht(er,rr,nr){const ir=this.overlays.get(nr.key);if(ir!==null){const sr=this.Ir.get(ir.largestBatchId).delete(nr.key);this.Ir.set(ir.largestBatchId,sr)}this.overlays=this.overlays.insert(nr.key,new Overlay(rr,nr));let ar=this.Ir.get(rr);ar===void 0&&(ar=__PRIVATE_documentKeySet(),this.Ir.set(rr,ar)),this.Ir.set(rr,ar.add(nr.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(er){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(er,rr){return this.sessionToken=rr,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(er,rr){const nr=new __PRIVATE_DocReference(er,rr);this.Tr=this.Tr.add(nr),this.dr=this.dr.add(nr)}Rr(er,rr){er.forEach(nr=>this.addReference(nr,rr))}removeReference(er,rr){this.Vr(new __PRIVATE_DocReference(er,rr))}mr(er,rr){er.forEach(nr=>this.removeReference(nr,rr))}gr(er){const rr=new DocumentKey(new ResourcePath([])),nr=new __PRIVATE_DocReference(rr,er),ir=new __PRIVATE_DocReference(rr,er+1),ar=[];return this.dr.forEachInRange([nr,ir],sr=>{this.Vr(sr),ar.push(sr.key)}),ar}pr(){this.Tr.forEach(er=>this.Vr(er))}Vr(er){this.Tr=this.Tr.delete(er),this.dr=this.dr.delete(er)}yr(er){const rr=new DocumentKey(new ResourcePath([])),nr=new __PRIVATE_DocReference(rr,er),ir=new __PRIVATE_DocReference(rr,er+1);let ar=__PRIVATE_documentKeySet();return this.dr.forEachInRange([nr,ir],sr=>{ar=ar.add(sr.key)}),ar}containsKey(er){const rr=new __PRIVATE_DocReference(er,0),nr=this.Tr.firstAfterOrEqual(rr);return nr!==null&&er.isEqual(nr.key)}}class __PRIVATE_DocReference{constructor(er,rr){this.key=er,this.wr=rr}static Er(er,rr){return DocumentKey.comparator(er.key,rr.key)||__PRIVATE_primitiveComparator(er.wr,rr.wr)}static Ar(er,rr){return __PRIVATE_primitiveComparator(er.wr,rr.wr)||DocumentKey.comparator(er.key,rr.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(er,rr){this.indexManager=er,this.referenceDelegate=rr,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(er){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(er,rr,nr,ir){const ar=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const sr=new MutationBatch(ar,rr,nr,ir);this.mutationQueue.push(sr);for(const lr of ir)this.br=this.br.add(new __PRIVATE_DocReference(lr.key,ar)),this.indexManager.addToCollectionParentIndex(er,lr.key.path.popLast());return PersistencePromise.resolve(sr)}lookupMutationBatch(er,rr){return PersistencePromise.resolve(this.Dr(rr))}getNextMutationBatchAfterBatchId(er,rr){const nr=rr+1,ir=this.vr(nr),ar=ir<0?0:ir;return PersistencePromise.resolve(this.mutationQueue.length>ar?this.mutationQueue[ar]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(er){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(er,rr){const nr=new __PRIVATE_DocReference(rr,0),ir=new __PRIVATE_DocReference(rr,Number.POSITIVE_INFINITY),ar=[];return this.br.forEachInRange([nr,ir],sr=>{const lr=this.Dr(sr.wr);ar.push(lr)}),PersistencePromise.resolve(ar)}getAllMutationBatchesAffectingDocumentKeys(er,rr){let nr=new SortedSet(__PRIVATE_primitiveComparator);return rr.forEach(ir=>{const ar=new __PRIVATE_DocReference(ir,0),sr=new __PRIVATE_DocReference(ir,Number.POSITIVE_INFINITY);this.br.forEachInRange([ar,sr],lr=>{nr=nr.add(lr.wr)})}),PersistencePromise.resolve(this.Cr(nr))}getAllMutationBatchesAffectingQuery(er,rr){const nr=rr.path,ir=nr.length+1;let ar=nr;DocumentKey.isDocumentKey(ar)||(ar=ar.child(""));const sr=new __PRIVATE_DocReference(new DocumentKey(ar),0);let lr=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(or=>{const cr=or.key.path;return!!nr.isPrefixOf(cr)&&(cr.length===ir&&(lr=lr.add(or.wr)),!0)},sr),PersistencePromise.resolve(this.Cr(lr))}Cr(er){const rr=[];return er.forEach(nr=>{const ir=this.Dr(nr);ir!==null&&rr.push(ir)}),rr}removeMutationBatch(er,rr){__PRIVATE_hardAssert(this.Fr(rr.batchId,"removed")===0),this.mutationQueue.shift();let nr=this.br;return PersistencePromise.forEach(rr.mutations,ir=>{const ar=new __PRIVATE_DocReference(ir.key,rr.batchId);return nr=nr.delete(ar),this.referenceDelegate.markPotentiallyOrphaned(er,ir.key)}).next(()=>{this.br=nr})}On(er){}containsKey(er,rr){const nr=new __PRIVATE_DocReference(rr,0),ir=this.br.firstAfterOrEqual(nr);return PersistencePromise.resolve(rr.isEqual(ir&&ir.key))}performConsistencyCheck(er){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(er,rr){return this.vr(er)}vr(er){return this.mutationQueue.length===0?0:er-this.mutationQueue[0].batchId}Dr(er){const rr=this.vr(er);return rr<0||rr>=this.mutationQueue.length?null:this.mutationQueue[rr]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(er){this.Mr=er,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(er){this.indexManager=er}addEntry(er,rr){const nr=rr.key,ir=this.docs.get(nr),ar=ir?ir.size:0,sr=this.Mr(rr);return this.docs=this.docs.insert(nr,{document:rr.mutableCopy(),size:sr}),this.size+=sr-ar,this.indexManager.addToCollectionParentIndex(er,nr.path.popLast())}removeEntry(er){const rr=this.docs.get(er);rr&&(this.docs=this.docs.remove(er),this.size-=rr.size)}getEntry(er,rr){const nr=this.docs.get(rr);return PersistencePromise.resolve(nr?nr.document.mutableCopy():MutableDocument.newInvalidDocument(rr))}getEntries(er,rr){let nr=__PRIVATE_mutableDocumentMap();return rr.forEach(ir=>{const ar=this.docs.get(ir);nr=nr.insert(ir,ar?ar.document.mutableCopy():MutableDocument.newInvalidDocument(ir))}),PersistencePromise.resolve(nr)}getDocumentsMatchingQuery(er,rr,nr,ir){let ar=__PRIVATE_mutableDocumentMap();const sr=rr.path,lr=new DocumentKey(sr.child("")),or=this.docs.getIteratorFrom(lr);for(;or.hasNext();){const{key:cr,value:{document:ur}}=or.getNext();if(!sr.isPrefixOf(cr.path))break;cr.path.length>sr.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(ur),nr)<=0||(ir.has(ur.key)||__PRIVATE_queryMatches(rr,ur))&&(ar=ar.insert(ur.key,ur.mutableCopy()))}return PersistencePromise.resolve(ar)}getAllFromCollectionGroup(er,rr,nr,ir){fail()}Or(er,rr){return PersistencePromise.forEach(this.docs,nr=>rr(nr))}newChangeBuffer(er){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(er){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(er){super(),this.cr=er}applyChanges(er){const rr=[];return this.changes.forEach((nr,ir)=>{ir.isValidDocument()?rr.push(this.cr.addEntry(er,ir)):this.cr.removeEntry(nr)}),PersistencePromise.waitFor(rr)}getFromCache(er,rr){return this.cr.getEntry(er,rr)}getAllFromCache(er,rr){return this.cr.getEntries(er,rr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(er){this.persistence=er,this.Nr=new ObjectMap(rr=>__PRIVATE_canonifyTarget(rr),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(er,rr){return this.Nr.forEach((nr,ir)=>rr(ir)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(er){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(er){return PersistencePromise.resolve(this.Lr)}allocateTargetId(er){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(er,rr,nr){return nr&&(this.lastRemoteSnapshotVersion=nr),rr>this.Lr&&(this.Lr=rr),PersistencePromise.resolve()}Kn(er){this.Nr.set(er.target,er);const rr=er.targetId;rr>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(rr),this.highestTargetId=rr),er.sequenceNumber>this.Lr&&(this.Lr=er.sequenceNumber)}addTargetData(er,rr){return this.Kn(rr),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(er,rr){return this.Kn(rr),PersistencePromise.resolve()}removeTargetData(er,rr){return this.Nr.delete(rr.target),this.Br.gr(rr.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(er,rr,nr){let ir=0;const ar=[];return this.Nr.forEach((sr,lr)=>{lr.sequenceNumber<=rr&&nr.get(lr.targetId)===null&&(this.Nr.delete(sr),ar.push(this.removeMatchingKeysForTargetId(er,lr.targetId)),ir++)}),PersistencePromise.waitFor(ar).next(()=>ir)}getTargetCount(er){return PersistencePromise.resolve(this.targetCount)}getTargetData(er,rr){const nr=this.Nr.get(rr)||null;return PersistencePromise.resolve(nr)}addMatchingKeys(er,rr,nr){return this.Br.Rr(rr,nr),PersistencePromise.resolve()}removeMatchingKeys(er,rr,nr){this.Br.mr(rr,nr);const ir=this.persistence.referenceDelegate,ar=[];return ir&&rr.forEach(sr=>{ar.push(ir.markPotentiallyOrphaned(er,sr))}),PersistencePromise.waitFor(ar)}removeMatchingKeysForTargetId(er,rr){return this.Br.gr(rr),PersistencePromise.resolve()}getMatchingKeysForTargetId(er,rr){const nr=this.Br.yr(rr);return PersistencePromise.resolve(nr)}containsKey(er,rr){return PersistencePromise.resolve(this.Br.containsKey(rr))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(er,rr){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=er(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(ir){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(ir)}(nr=>this.referenceDelegate.Wr(nr)),this.serializer=new __PRIVATE_LocalSerializer(rr),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(er){return this.indexManager}getDocumentOverlayCache(er){let rr=this.overlays[er.toKey()];return rr||(rr=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[er.toKey()]=rr),rr}getMutationQueue(er,rr){let nr=this.qr[er.toKey()];return nr||(nr=new __PRIVATE_MemoryMutationQueue(rr,this.referenceDelegate),this.qr[er.toKey()]=nr),nr}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(er,rr,nr){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",er);const ir=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),nr(ir).next(ar=>this.referenceDelegate.jr(ir).next(()=>ar)).toPromise().then(ar=>(ir.raiseOnCommittedEvent(),ar))}Hr(er,rr){return PersistencePromise.or(Object.values(this.qr).map(nr=>()=>nr.containsKey(er,rr)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(er){super(),this.currentSequenceNumber=er}}class __PRIVATE_MemoryEagerDelegate{constructor(er){this.persistence=er,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(er){return new __PRIVATE_MemoryEagerDelegate(er)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(er,rr,nr){return this.Jr.addReference(nr,rr),this.Xr.delete(nr.toString()),PersistencePromise.resolve()}removeReference(er,rr,nr){return this.Jr.removeReference(nr,rr),this.Xr.add(nr.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(er,rr){return this.Xr.add(rr.toString()),PersistencePromise.resolve()}removeTarget(er,rr){this.Jr.gr(rr.targetId).forEach(ir=>this.Xr.add(ir.toString()));const nr=this.persistence.getTargetCache();return nr.getMatchingKeysForTargetId(er,rr.targetId).next(ir=>{ir.forEach(ar=>this.Xr.add(ar.toString()))}).next(()=>nr.removeTargetData(er,rr))}zr(){this.Yr=new Set}jr(er){const rr=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,nr=>{const ir=DocumentKey.fromPath(nr);return this.ei(er,ir).next(ar=>{ar||rr.removeEntry(ir,SnapshotVersion.min())})}).next(()=>(this.Yr=null,rr.apply(er)))}updateLimboDocument(er,rr){return this.ei(er,rr).next(nr=>{nr?this.Xr.delete(rr.toString()):this.Xr.add(rr.toString())})}Wr(er){return 0}ei(er,rr){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(rr)),()=>this.persistence.getTargetCache().containsKey(er,rr),()=>this.persistence.Hr(er,rr)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(er,rr,nr,ir){this.targetId=er,this.fromCache=rr,this.$i=nr,this.Ui=ir}static Wi(er,rr){let nr=__PRIVATE_documentKeySet(),ir=__PRIVATE_documentKeySet();for(const ar of rr.docChanges)switch(ar.type){case 0:nr=nr.add(ar.doc.key);break;case 1:ir=ir.add(ar.doc.key)}return new __PRIVATE_LocalViewChanges(er,rr.fromCache,nr,ir)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(er){this._documentReadCount+=er}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(er,rr){this.Ji=er,this.indexManager=rr,this.Gi=!0}getDocumentsMatchingQuery(er,rr,nr,ir){const ar={result:null};return this.Yi(er,rr).next(sr=>{ar.result=sr}).next(()=>{if(!ar.result)return this.Zi(er,rr,ir,nr).next(sr=>{ar.result=sr})}).next(()=>{if(ar.result)return;const sr=new QueryContext;return this.Xi(er,rr,sr).next(lr=>{if(ar.result=lr,this.zi)return this.es(er,rr,sr,lr.size)})}).next(()=>ar.result)}es(er,rr,nr,ir){return nr.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(rr),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(rr),"scans",nr.documentReadCount,"local documents and returns",ir,"documents as results."),nr.documentReadCount>this.Hi*ir?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(rr),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(er,__PRIVATE_queryToTarget(rr))):PersistencePromise.resolve())}Yi(er,rr){if(__PRIVATE_queryMatchesAllDocuments(rr))return PersistencePromise.resolve(null);let nr=__PRIVATE_queryToTarget(rr);return this.indexManager.getIndexType(er,nr).next(ir=>ir===0?null:(rr.limit!==null&&ir===1&&(rr=__PRIVATE_queryWithLimit(rr,null,"F"),nr=__PRIVATE_queryToTarget(rr)),this.indexManager.getDocumentsMatchingTarget(er,nr).next(ar=>{const sr=__PRIVATE_documentKeySet(...ar);return this.Ji.getDocuments(er,sr).next(lr=>this.indexManager.getMinOffset(er,nr).next(or=>{const cr=this.ts(rr,lr);return this.ns(rr,cr,sr,or.readTime)?this.Yi(er,__PRIVATE_queryWithLimit(rr,null,"F")):this.rs(er,cr,rr,or)}))})))}Zi(er,rr,nr,ir){return __PRIVATE_queryMatchesAllDocuments(rr)||ir.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(er,nr).next(ar=>{const sr=this.ts(rr,ar);return this.ns(rr,sr,nr,ir)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",ir.toString(),__PRIVATE_stringifyQuery(rr)),this.rs(er,sr,rr,__PRIVATE_newIndexOffsetSuccessorFromReadTime(ir,-1)).next(lr=>lr))})}ts(er,rr){let nr=new SortedSet(__PRIVATE_newQueryComparator(er));return rr.forEach((ir,ar)=>{__PRIVATE_queryMatches(er,ar)&&(nr=nr.add(ar))}),nr}ns(er,rr,nr,ir){if(er.limit===null)return!1;if(nr.size!==rr.size)return!0;const ar=er.limitType==="F"?rr.last():rr.first();return!!ar&&(ar.hasPendingWrites||ar.version.compareTo(ir)>0)}Xi(er,rr,nr){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(rr)),this.Ji.getDocumentsMatchingQuery(er,rr,IndexOffset.min(),nr)}rs(er,rr,nr,ir){return this.Ji.getDocumentsMatchingQuery(er,nr,ir).next(ar=>(rr.forEach(sr=>{ar=ar.insert(sr.key,sr)}),ar))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(er,rr,nr,ir){this.persistence=er,this.ss=rr,this.serializer=ir,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(ar=>__PRIVATE_canonifyTarget(ar),__PRIVATE_targetEquals),this.us=new Map,this.cs=er.getRemoteDocumentCache(),this.Ur=er.getTargetCache(),this.Gr=er.getBundleCache(),this.ls(nr)}ls(er){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(er),this.indexManager=this.persistence.getIndexManager(er),this.mutationQueue=this.persistence.getMutationQueue(er,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(er){return this.persistence.runTransaction("Collect garbage","readwrite-primary",rr=>er.collect(rr,this.os))}}function __PRIVATE_newLocalStore(tr,er,rr,nr){return new __PRIVATE_LocalStoreImpl(tr,er,rr,nr)}async function __PRIVATE_localStoreHandleUserChange(tr,er){const rr=__PRIVATE_debugCast(tr);return await rr.persistence.runTransaction("Handle user change","readonly",nr=>{let ir;return rr.mutationQueue.getAllMutationBatches(nr).next(ar=>(ir=ar,rr.ls(er),rr.mutationQueue.getAllMutationBatches(nr))).next(ar=>{const sr=[],lr=[];let or=__PRIVATE_documentKeySet();for(const cr of ir){sr.push(cr.batchId);for(const ur of cr.mutations)or=or.add(ur.key)}for(const cr of ar){lr.push(cr.batchId);for(const ur of cr.mutations)or=or.add(ur.key)}return rr.localDocuments.getDocuments(nr,or).next(cr=>({hs:cr,removedBatchIds:sr,addedBatchIds:lr}))})})}function __PRIVATE_localStoreAcknowledgeBatch(tr,er){const rr=__PRIVATE_debugCast(tr);return rr.persistence.runTransaction("Acknowledge batch","readwrite-primary",nr=>{const ir=er.batch.keys(),ar=rr.cs.newChangeBuffer({trackRemovals:!0});return function(lr,or,cr,ur){const dr=cr.batch,hr=dr.keys();let fr=PersistencePromise.resolve();return hr.forEach(mr=>{fr=fr.next(()=>ur.getEntry(or,mr)).next(br=>{const pr=cr.docVersions.get(mr);__PRIVATE_hardAssert(pr!==null),br.version.compareTo(pr)<0&&(dr.applyToRemoteDocument(br,cr),br.isValidDocument()&&(br.setReadTime(cr.commitVersion),ur.addEntry(br)))})}),fr.next(()=>lr.mutationQueue.removeMutationBatch(or,dr))}(rr,nr,er,ar).next(()=>ar.apply(nr)).next(()=>rr.mutationQueue.performConsistencyCheck(nr)).next(()=>rr.documentOverlayCache.removeOverlaysForBatchId(nr,ir,er.batch.batchId)).next(()=>rr.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(nr,function(lr){let or=__PRIVATE_documentKeySet();for(let cr=0;cr<lr.mutationResults.length;++cr)lr.mutationResults[cr].transformResults.length>0&&(or=or.add(lr.batch.mutations[cr].key));return or}(er))).next(()=>rr.localDocuments.getDocuments(nr,ir))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(tr){const er=__PRIVATE_debugCast(tr);return er.persistence.runTransaction("Get last remote snapshot version","readonly",rr=>er.Ur.getLastRemoteSnapshotVersion(rr))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(tr,er){const rr=__PRIVATE_debugCast(tr),nr=er.snapshotVersion;let ir=rr.os;return rr.persistence.runTransaction("Apply remote event","readwrite-primary",ar=>{const sr=rr.cs.newChangeBuffer({trackRemovals:!0});ir=rr.os;const lr=[];er.targetChanges.forEach((ur,dr)=>{const hr=ir.get(dr);if(!hr)return;lr.push(rr.Ur.removeMatchingKeys(ar,ur.removedDocuments,dr).next(()=>rr.Ur.addMatchingKeys(ar,ur.addedDocuments,dr)));let fr=hr.withSequenceNumber(ar.currentSequenceNumber);er.targetMismatches.get(dr)!==null?fr=fr.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):ur.resumeToken.approximateByteSize()>0&&(fr=fr.withResumeToken(ur.resumeToken,nr)),ir=ir.insert(dr,fr),function(br,pr,gr){return br.resumeToken.approximateByteSize()===0||pr.snapshotVersion.toMicroseconds()-br.snapshotVersion.toMicroseconds()>=3e8?!0:gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0}(hr,fr,ur)&&lr.push(rr.Ur.updateTargetData(ar,fr))});let or=__PRIVATE_mutableDocumentMap(),cr=__PRIVATE_documentKeySet();if(er.documentUpdates.forEach(ur=>{er.resolvedLimboDocuments.has(ur)&&lr.push(rr.persistence.referenceDelegate.updateLimboDocument(ar,ur))}),lr.push(__PRIVATE_populateDocumentChangeBuffer(ar,sr,er.documentUpdates).next(ur=>{or=ur.Ps,cr=ur.Is})),!nr.isEqual(SnapshotVersion.min())){const ur=rr.Ur.getLastRemoteSnapshotVersion(ar).next(dr=>rr.Ur.setTargetsMetadata(ar,ar.currentSequenceNumber,nr));lr.push(ur)}return PersistencePromise.waitFor(lr).next(()=>sr.apply(ar)).next(()=>rr.localDocuments.getLocalViewOfDocuments(ar,or,cr)).next(()=>or)}).then(ar=>(rr.os=ir,ar))}function __PRIVATE_populateDocumentChangeBuffer(tr,er,rr){let nr=__PRIVATE_documentKeySet(),ir=__PRIVATE_documentKeySet();return rr.forEach(ar=>nr=nr.add(ar)),er.getEntries(tr,nr).next(ar=>{let sr=__PRIVATE_mutableDocumentMap();return rr.forEach((lr,or)=>{const cr=ar.get(lr);or.isFoundDocument()!==cr.isFoundDocument()&&(ir=ir.add(lr)),or.isNoDocument()&&or.version.isEqual(SnapshotVersion.min())?(er.removeEntry(lr,or.readTime),sr=sr.insert(lr,or)):!cr.isValidDocument()||or.version.compareTo(cr.version)>0||or.version.compareTo(cr.version)===0&&cr.hasPendingWrites?(er.addEntry(or),sr=sr.insert(lr,or)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",lr,". Current version:",cr.version," Watch version:",or.version)}),{Ps:sr,Is:ir}})}function __PRIVATE_localStoreGetNextMutationBatch(tr,er){const rr=__PRIVATE_debugCast(tr);return rr.persistence.runTransaction("Get next mutation batch","readonly",nr=>(er===void 0&&(er=-1),rr.mutationQueue.getNextMutationBatchAfterBatchId(nr,er)))}function __PRIVATE_localStoreAllocateTarget(tr,er){const rr=__PRIVATE_debugCast(tr);return rr.persistence.runTransaction("Allocate target","readwrite",nr=>{let ir;return rr.Ur.getTargetData(nr,er).next(ar=>ar?(ir=ar,PersistencePromise.resolve(ir)):rr.Ur.allocateTargetId(nr).next(sr=>(ir=new TargetData(er,sr,"TargetPurposeListen",nr.currentSequenceNumber),rr.Ur.addTargetData(nr,ir).next(()=>ir))))}).then(nr=>{const ir=rr.os.get(nr.targetId);return(ir===null||nr.snapshotVersion.compareTo(ir.snapshotVersion)>0)&&(rr.os=rr.os.insert(nr.targetId,nr),rr._s.set(er,nr.targetId)),nr})}async function __PRIVATE_localStoreReleaseTarget(tr,er,rr){const nr=__PRIVATE_debugCast(tr),ir=nr.os.get(er),ar=rr?"readwrite":"readwrite-primary";try{rr||await nr.persistence.runTransaction("Release target",ar,sr=>nr.persistence.referenceDelegate.removeTarget(sr,ir))}catch(sr){if(!__PRIVATE_isIndexedDbTransactionError(sr))throw sr;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${er}: ${sr}`)}nr.os=nr.os.remove(er),nr._s.delete(ir.target)}function __PRIVATE_localStoreExecuteQuery(tr,er,rr){const nr=__PRIVATE_debugCast(tr);let ir=SnapshotVersion.min(),ar=__PRIVATE_documentKeySet();return nr.persistence.runTransaction("Execute query","readwrite",sr=>function(or,cr,ur){const dr=__PRIVATE_debugCast(or),hr=dr._s.get(ur);return hr!==void 0?PersistencePromise.resolve(dr.os.get(hr)):dr.Ur.getTargetData(cr,ur)}(nr,sr,__PRIVATE_queryToTarget(er)).next(lr=>{if(lr)return ir=lr.lastLimboFreeSnapshotVersion,nr.Ur.getMatchingKeysForTargetId(sr,lr.targetId).next(or=>{ar=or})}).next(()=>nr.ss.getDocumentsMatchingQuery(sr,er,rr?ir:SnapshotVersion.min(),rr?ar:__PRIVATE_documentKeySet())).next(lr=>(__PRIVATE_setMaxReadTime(nr,__PRIVATE_queryCollectionGroup(er),lr),{documents:lr,Ts:ar})))}function __PRIVATE_setMaxReadTime(tr,er,rr){let nr=tr.us.get(er)||SnapshotVersion.min();rr.forEach((ir,ar)=>{ar.readTime.compareTo(nr)>0&&(nr=ar.readTime)}),tr.us.set(er,nr)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(er){this.activeTargetIds=this.activeTargetIds.add(er)}gs(er){this.activeTargetIds=this.activeTargetIds.delete(er)}Vs(){const er={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(er)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(er){}updateMutationState(er,rr,nr){}addLocalQueryTarget(er,rr=!0){return rr&&this.so.fs(er),this.oo[er]||"not-current"}updateQueryState(er,rr,nr){this.oo[er]=rr}removeLocalQueryTarget(er){this.so.gs(er)}isLocalQueryTarget(er){return this.so.activeTargetIds.has(er)}clearQueryState(er){delete this.oo[er]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(er){return this.so.activeTargetIds.has(er)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(er,rr,nr){}setOnlineState(er){}shutdown(){}writeSequenceNumber(er){}notifyBundleLoaded(er){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(er){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(er){this.ho.push(er)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const er of this.ho)er(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const er of this.ho)er(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me$1=null;function __PRIVATE_generateUniqueDebugId(){return me$1===null?me$1=function(){return 268435456+Math.round(2147483648*Math.random())}():me$1++,"0x"+me$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(er){this.Io=er.Io,this.To=er.To}Eo(er){this.Ao=er}Ro(er){this.Vo=er}mo(er){this.fo=er}onMessage(er){this.po=er}close(){this.To()}send(er){this.Io(er)}yo(){this.Ao()}wo(){this.Vo()}So(er){this.fo(er)}bo(er){this.po(er)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(rr){this.databaseInfo=rr,this.databaseId=rr.databaseId;const nr=rr.ssl?"https":"http",ir=encodeURIComponent(this.databaseId.projectId),ar=encodeURIComponent(this.databaseId.database);this.Do=nr+"://"+rr.host,this.vo=`projects/${ir}/databases/${ar}`,this.Co=this.databaseId.database==="(default)"?`project_id=${ir}`:`project_id=${ir}&database_id=${ar}`}get Fo(){return!1}Mo(rr,nr,ir,ar,sr){const lr=__PRIVATE_generateUniqueDebugId(),or=this.xo(rr,nr.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${rr}' ${lr}:`,or,ir);const cr={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(cr,ar,sr),this.No(rr,or,cr,ir).then(ur=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${rr}' ${lr}: `,ur),ur),ur=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${rr}' ${lr} failed with error: `,ur,"url: ",or,"request:",ir),ur})}Lo(rr,nr,ir,ar,sr,lr){return this.Mo(rr,nr,ir,ar,sr)}Oo(rr,nr,ir){rr["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S$1}(),rr["Content-Type"]="text/plain",this.databaseInfo.appId&&(rr["X-Firebase-GMPID"]=this.databaseInfo.appId),nr&&nr.headers.forEach((ar,sr)=>rr[sr]=ar),ir&&ir.headers.forEach((ar,sr)=>rr[sr]=ar)}xo(rr,nr){const ir=fe$1[rr];return`${this.Do}/v1/${nr}:${ir}`}terminate(){}}{constructor(er){super(er),this.forceLongPolling=er.forceLongPolling,this.autoDetectLongPolling=er.autoDetectLongPolling,this.useFetchStreams=er.useFetchStreams,this.longPollingOptions=er.longPollingOptions}No(er,rr,nr,ir){const ar=__PRIVATE_generateUniqueDebugId();return new Promise((sr,lr)=>{const or=new XhrIo;or.setWithCredentials(!0),or.listenOnce(EventType.COMPLETE,()=>{try{switch(or.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const ur=or.getResponseJson();__PRIVATE_logDebug(ge$1,`XHR for RPC '${er}' ${ar} received:`,JSON.stringify(ur)),sr(ur);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(ge$1,`RPC '${er}' ${ar} timed out`),lr(new FirestoreError(D$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const dr=or.getStatus();if(__PRIVATE_logDebug(ge$1,`RPC '${er}' ${ar} failed with status:`,dr,"response text:",or.getResponseText()),dr>0){let hr=or.getResponseJson();Array.isArray(hr)&&(hr=hr[0]);const fr=hr==null?void 0:hr.error;if(fr&&fr.status&&fr.message){const mr=function(pr){const gr=pr.toLowerCase().replace(/_/g,"-");return Object.values(D$1).indexOf(gr)>=0?gr:D$1.UNKNOWN}(fr.status);lr(new FirestoreError(mr,fr.message))}else lr(new FirestoreError(D$1.UNKNOWN,"Server responded with status "+or.getStatus()))}else lr(new FirestoreError(D$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge$1,`RPC '${er}' ${ar} completed.`)}});const cr=JSON.stringify(ir);__PRIVATE_logDebug(ge$1,`RPC '${er}' ${ar} sending request:`,ir),or.send(rr,"POST",cr,nr,15)})}Bo(er,rr,nr){const ir=__PRIVATE_generateUniqueDebugId(),ar=[this.Do,"/","google.firestore.v1.Firestore","/",er,"/channel"],sr=createWebChannelTransport(),lr=getStatEventTarget(),or={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},cr=this.longPollingOptions.timeoutSeconds;cr!==void 0&&(or.longPollingTimeout=Math.round(1e3*cr)),this.useFetchStreams&&(or.useFetchStreams=!0),this.Oo(or.initMessageHeaders,rr,nr),or.encodeInitMessageHeaders=!0;const ur=ar.join("");__PRIVATE_logDebug(ge$1,`Creating RPC '${er}' stream ${ir}: ${ur}`,or);const dr=sr.createWebChannel(ur,or);let hr=!1,fr=!1;const mr=new __PRIVATE_StreamBridge({Io:pr=>{fr?__PRIVATE_logDebug(ge$1,`Not sending because RPC '${er}' stream ${ir} is closed:`,pr):(hr||(__PRIVATE_logDebug(ge$1,`Opening RPC '${er}' stream ${ir} transport.`),dr.open(),hr=!0),__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} sending:`,pr),dr.send(pr))},To:()=>dr.close()}),br=(pr,gr,yr)=>{pr.listen(gr,vr=>{try{yr(vr)}catch(_r){setTimeout(()=>{throw _r},0)}})};return br(dr,WebChannel.EventType.OPEN,()=>{fr||(__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} transport opened.`),mr.yo())}),br(dr,WebChannel.EventType.CLOSE,()=>{fr||(fr=!0,__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} transport closed`),mr.So())}),br(dr,WebChannel.EventType.ERROR,pr=>{fr||(fr=!0,__PRIVATE_logWarn(ge$1,`RPC '${er}' stream ${ir} transport errored:`,pr),mr.So(new FirestoreError(D$1.UNAVAILABLE,"The operation could not be completed")))}),br(dr,WebChannel.EventType.MESSAGE,pr=>{var gr;if(!fr){const yr=pr.data[0];__PRIVATE_hardAssert(!!yr);const vr=yr,_r=vr.error||((gr=vr[0])===null||gr===void 0?void 0:gr.error);if(_r){__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} received error:`,_r);const xr=_r.status;let Rr=function(Ir){const Lr=le$1[Ir];if(Lr!==void 0)return __PRIVATE_mapCodeFromRpcCode(Lr)}(xr),Cr=_r.message;Rr===void 0&&(Rr=D$1.INTERNAL,Cr="Unknown error status: "+xr+" with message "+_r.message),fr=!0,mr.So(new FirestoreError(Rr,Cr)),dr.close()}else __PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} received:`,yr),mr.bo(yr)}}),br(lr,Event$1.STAT_EVENT,pr=>{pr.stat===Stat.PROXY?__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} detected buffering proxy`):pr.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge$1,`RPC '${er}' stream ${ir} detected no buffering proxy`)}),setTimeout(()=>{mr.wo()},0),mr}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(tr){return new JsonProtoSerializer(tr,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(er,rr,nr=1e3,ir=1.5,ar=6e4){this.ui=er,this.timerId=rr,this.ko=nr,this.qo=ir,this.Qo=ar,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(er){this.cancel();const rr=Math.floor(this.Ko+this.zo()),nr=Math.max(0,Date.now()-this.Uo),ir=Math.max(0,rr-nr);ir>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${ir} ms (base delay: ${this.Ko} ms, delay with jitter: ${rr} ms, last attempt: ${nr} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,ir,()=>(this.Uo=Date.now(),er())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(er,rr,nr,ir,ar,sr,lr,or){this.ui=er,this.Ho=nr,this.Jo=ir,this.connection=ar,this.authCredentialsProvider=sr,this.appCheckCredentialsProvider=lr,this.listener=or,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(er,rr)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(er){this.u_(),this.stream.send(er)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(er,rr){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,er!==4?this.t_.reset():rr&&rr.code===D$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(rr.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):rr&&rr.code===D$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=er,await this.listener.mo(rr)}l_(){}auth(){this.state=1;const er=this.h_(this.Yo),rr=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([nr,ir])=>{this.Yo===rr&&this.P_(nr,ir)},nr=>{er(()=>{const ir=new FirestoreError(D$1.UNKNOWN,"Fetching auth token failed: "+nr.message);return this.I_(ir)})})}P_(er,rr){const nr=this.h_(this.Yo);this.stream=this.T_(er,rr),this.stream.Eo(()=>{nr(()=>this.listener.Eo())}),this.stream.Ro(()=>{nr(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(ir=>{nr(()=>this.I_(ir))}),this.stream.onMessage(ir=>{nr(()=>++this.e_==1?this.E_(ir):this.onNext(ir))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(er){return __PRIVATE_logDebug("PersistentStream",`close with error: ${er}`),this.stream=null,this.close(4,er)}h_(er){return rr=>{this.ui.enqueueAndForget(()=>this.Yo===er?rr():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(er,rr,nr,ir,ar,sr){super(er,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",rr,nr,ir,sr),this.serializer=ar}T_(er,rr){return this.connection.Bo("Listen",er,rr)}E_(er){return this.onNext(er)}onNext(er){this.t_.reset();const rr=__PRIVATE_fromWatchChange(this.serializer,er),nr=function(ar){if(!("targetChange"in ar))return SnapshotVersion.min();const sr=ar.targetChange;return sr.targetIds&&sr.targetIds.length?SnapshotVersion.min():sr.readTime?__PRIVATE_fromVersion(sr.readTime):SnapshotVersion.min()}(er);return this.listener.d_(rr,nr)}A_(er){const rr={};rr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),rr.addTarget=function(ar,sr){let lr;const or=sr.target;if(lr=__PRIVATE_targetIsDocumentTarget(or)?{documents:__PRIVATE_toDocumentsTarget(ar,or)}:{query:__PRIVATE_toQueryTarget(ar,or)._t},lr.targetId=sr.targetId,sr.resumeToken.approximateByteSize()>0){lr.resumeToken=__PRIVATE_toBytes(ar,sr.resumeToken);const cr=__PRIVATE_toInt32Proto(ar,sr.expectedCount);cr!==null&&(lr.expectedCount=cr)}else if(sr.snapshotVersion.compareTo(SnapshotVersion.min())>0){lr.readTime=toTimestamp(ar,sr.snapshotVersion.toTimestamp());const cr=__PRIVATE_toInt32Proto(ar,sr.expectedCount);cr!==null&&(lr.expectedCount=cr)}return lr}(this.serializer,er);const nr=__PRIVATE_toListenRequestLabels(this.serializer,er);nr&&(rr.labels=nr),this.a_(rr)}R_(er){const rr={};rr.database=__PRIVATE_getEncodedDatabaseId(this.serializer),rr.removeTarget=er,this.a_(rr)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(er,rr,nr,ir,ar,sr){super(er,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",rr,nr,ir,sr),this.serializer=ar}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(er,rr){return this.connection.Bo("Write",er,rr)}E_(er){return __PRIVATE_hardAssert(!!er.streamToken),this.lastStreamToken=er.streamToken,__PRIVATE_hardAssert(!er.writeResults||er.writeResults.length===0),this.listener.f_()}onNext(er){__PRIVATE_hardAssert(!!er.streamToken),this.lastStreamToken=er.streamToken,this.t_.reset();const rr=__PRIVATE_fromWriteResults(er.writeResults,er.commitTime),nr=__PRIVATE_fromVersion(er.commitTime);return this.listener.g_(nr,rr)}p_(){const er={};er.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(er)}m_(er){const rr={streamToken:this.lastStreamToken,writes:er.map(nr=>toMutation(this.serializer,nr))};this.a_(rr)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(er,rr,nr,ir){super(),this.authCredentials=er,this.appCheckCredentials=rr,this.connection=nr,this.serializer=ir,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(er,rr,nr,ir){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ar,sr])=>this.connection.Mo(er,__PRIVATE_toResourcePath(rr,nr),ir,ar,sr)).catch(ar=>{throw ar.name==="FirebaseError"?(ar.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ar):new FirestoreError(D$1.UNKNOWN,ar.toString())})}Lo(er,rr,nr,ir,ar){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([sr,lr])=>this.connection.Lo(er,__PRIVATE_toResourcePath(rr,nr),ir,sr,lr,ar)).catch(sr=>{throw sr.name==="FirebaseError"?(sr.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),sr):new FirestoreError(D$1.UNKNOWN,sr.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(er,rr){this.asyncQueue=er,this.onlineStateHandler=rr,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(er){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${er.toString()}`),this.C_("Offline")))}set(er){this.x_(),this.S_=0,er==="Online"&&(this.D_=!1),this.C_(er)}C_(er){er!==this.state&&(this.state=er,this.onlineStateHandler(er))}F_(er){const rr=`Could not reach Cloud Firestore backend. ${er}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(rr),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",rr)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(er,rr,nr,ir,ar){this.localStore=er,this.datastore=rr,this.asyncQueue=nr,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=ar,this.k_._o(sr=>{nr.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(or){const cr=__PRIVATE_debugCast(or);cr.L_.add(4),await __PRIVATE_disableNetworkInternal(cr),cr.q_.set("Unknown"),cr.L_.delete(4),await __PRIVATE_enableNetworkInternal(cr)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(nr,ir)}}async function __PRIVATE_enableNetworkInternal(tr){if(__PRIVATE_canUseNetwork(tr))for(const er of tr.B_)await er(!0)}async function __PRIVATE_disableNetworkInternal(tr){for(const er of tr.B_)await er(!1)}function __PRIVATE_remoteStoreListen(tr,er){const rr=__PRIVATE_debugCast(tr);rr.N_.has(er.targetId)||(rr.N_.set(er.targetId,er),__PRIVATE_shouldStartWatchStream(rr)?__PRIVATE_startWatchStream(rr):__PRIVATE_ensureWatchStream(rr).r_()&&__PRIVATE_sendWatchRequest(rr,er))}function __PRIVATE_remoteStoreUnlisten(tr,er){const rr=__PRIVATE_debugCast(tr),nr=__PRIVATE_ensureWatchStream(rr);rr.N_.delete(er),nr.r_()&&__PRIVATE_sendUnwatchRequest(rr,er),rr.N_.size===0&&(nr.r_()?nr.o_():__PRIVATE_canUseNetwork(rr)&&rr.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(tr,er){if(tr.Q_.xe(er.targetId),er.resumeToken.approximateByteSize()>0||er.snapshotVersion.compareTo(SnapshotVersion.min())>0){const rr=tr.remoteSyncer.getRemoteKeysForTarget(er.targetId).size;er=er.withExpectedCount(rr)}__PRIVATE_ensureWatchStream(tr).A_(er)}function __PRIVATE_sendUnwatchRequest(tr,er){tr.Q_.xe(er),__PRIVATE_ensureWatchStream(tr).R_(er)}function __PRIVATE_startWatchStream(tr){tr.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:er=>tr.remoteSyncer.getRemoteKeysForTarget(er),ot:er=>tr.N_.get(er)||null,tt:()=>tr.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(tr).start(),tr.q_.v_()}function __PRIVATE_shouldStartWatchStream(tr){return __PRIVATE_canUseNetwork(tr)&&!__PRIVATE_ensureWatchStream(tr).n_()&&tr.N_.size>0}function __PRIVATE_canUseNetwork(tr){return __PRIVATE_debugCast(tr).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(tr){tr.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(tr){tr.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(tr){tr.N_.forEach((er,rr)=>{__PRIVATE_sendWatchRequest(tr,er)})}async function __PRIVATE_onWatchStreamClose(tr,er){__PRIVATE_cleanUpWatchStreamState(tr),__PRIVATE_shouldStartWatchStream(tr)?(tr.q_.M_(er),__PRIVATE_startWatchStream(tr)):tr.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(tr,er,rr){if(tr.q_.set("Online"),er instanceof __PRIVATE_WatchTargetChange&&er.state===2&&er.cause)try{await async function(ir,ar){const sr=ar.cause;for(const lr of ar.targetIds)ir.N_.has(lr)&&(await ir.remoteSyncer.rejectListen(lr,sr),ir.N_.delete(lr),ir.Q_.removeTarget(lr))}(tr,er)}catch(nr){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",er.targetIds.join(","),nr),await __PRIVATE_disableNetworkUntilRecovery(tr,nr)}else if(er instanceof __PRIVATE_DocumentWatchChange?tr.Q_.Ke(er):er instanceof __PRIVATE_ExistenceFilterChange?tr.Q_.He(er):tr.Q_.We(er),!rr.isEqual(SnapshotVersion.min()))try{const nr=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(tr.localStore);rr.compareTo(nr)>=0&&await function(ar,sr){const lr=ar.Q_.rt(sr);return lr.targetChanges.forEach((or,cr)=>{if(or.resumeToken.approximateByteSize()>0){const ur=ar.N_.get(cr);ur&&ar.N_.set(cr,ur.withResumeToken(or.resumeToken,sr))}}),lr.targetMismatches.forEach((or,cr)=>{const ur=ar.N_.get(or);if(!ur)return;ar.N_.set(or,ur.withResumeToken(ByteString.EMPTY_BYTE_STRING,ur.snapshotVersion)),__PRIVATE_sendUnwatchRequest(ar,or);const dr=new TargetData(ur.target,or,cr,ur.sequenceNumber);__PRIVATE_sendWatchRequest(ar,dr)}),ar.remoteSyncer.applyRemoteEvent(lr)}(tr,rr)}catch(nr){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",nr),await __PRIVATE_disableNetworkUntilRecovery(tr,nr)}}async function __PRIVATE_disableNetworkUntilRecovery(tr,er,rr){if(!__PRIVATE_isIndexedDbTransactionError(er))throw er;tr.L_.add(1),await __PRIVATE_disableNetworkInternal(tr),tr.q_.set("Offline"),rr||(rr=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(tr.localStore)),tr.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await rr(),tr.L_.delete(1),await __PRIVATE_enableNetworkInternal(tr)})}function __PRIVATE_executeWithRecovery(tr,er){return er().catch(rr=>__PRIVATE_disableNetworkUntilRecovery(tr,rr,er))}async function __PRIVATE_fillWritePipeline(tr){const er=__PRIVATE_debugCast(tr),rr=__PRIVATE_ensureWriteStream(er);let nr=er.O_.length>0?er.O_[er.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(er);)try{const ir=await __PRIVATE_localStoreGetNextMutationBatch(er.localStore,nr);if(ir===null){er.O_.length===0&&rr.o_();break}nr=ir.batchId,__PRIVATE_addToWritePipeline(er,ir)}catch(ir){await __PRIVATE_disableNetworkUntilRecovery(er,ir)}__PRIVATE_shouldStartWriteStream(er)&&__PRIVATE_startWriteStream(er)}function __PRIVATE_canAddToWritePipeline(tr){return __PRIVATE_canUseNetwork(tr)&&tr.O_.length<10}function __PRIVATE_addToWritePipeline(tr,er){tr.O_.push(er);const rr=__PRIVATE_ensureWriteStream(tr);rr.r_()&&rr.V_&&rr.m_(er.mutations)}function __PRIVATE_shouldStartWriteStream(tr){return __PRIVATE_canUseNetwork(tr)&&!__PRIVATE_ensureWriteStream(tr).n_()&&tr.O_.length>0}function __PRIVATE_startWriteStream(tr){__PRIVATE_ensureWriteStream(tr).start()}async function __PRIVATE_onWriteStreamOpen(tr){__PRIVATE_ensureWriteStream(tr).p_()}async function __PRIVATE_onWriteHandshakeComplete(tr){const er=__PRIVATE_ensureWriteStream(tr);for(const rr of tr.O_)er.m_(rr.mutations)}async function __PRIVATE_onMutationResult(tr,er,rr){const nr=tr.O_.shift(),ir=MutationBatchResult.from(nr,er,rr);await __PRIVATE_executeWithRecovery(tr,()=>tr.remoteSyncer.applySuccessfulWrite(ir)),await __PRIVATE_fillWritePipeline(tr)}async function __PRIVATE_onWriteStreamClose(tr,er){er&&__PRIVATE_ensureWriteStream(tr).V_&&await async function(nr,ir){if(function(sr){return __PRIVATE_isPermanentError(sr)&&sr!==D$1.ABORTED}(ir.code)){const ar=nr.O_.shift();__PRIVATE_ensureWriteStream(nr).s_(),await __PRIVATE_executeWithRecovery(nr,()=>nr.remoteSyncer.rejectFailedWrite(ar.batchId,ir)),await __PRIVATE_fillWritePipeline(nr)}}(tr,er),__PRIVATE_shouldStartWriteStream(tr)&&__PRIVATE_startWriteStream(tr)}async function __PRIVATE_remoteStoreHandleCredentialChange(tr,er){const rr=__PRIVATE_debugCast(tr);rr.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const nr=__PRIVATE_canUseNetwork(rr);rr.L_.add(3),await __PRIVATE_disableNetworkInternal(rr),nr&&rr.q_.set("Unknown"),await rr.remoteSyncer.handleCredentialChange(er),rr.L_.delete(3),await __PRIVATE_enableNetworkInternal(rr)}async function __PRIVATE_remoteStoreApplyPrimaryState(tr,er){const rr=__PRIVATE_debugCast(tr);er?(rr.L_.delete(2),await __PRIVATE_enableNetworkInternal(rr)):er||(rr.L_.add(2),await __PRIVATE_disableNetworkInternal(rr),rr.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(tr){return tr.K_||(tr.K_=function(rr,nr,ir){const ar=__PRIVATE_debugCast(rr);return ar.w_(),new __PRIVATE_PersistentListenStream(nr,ar.connection,ar.authCredentials,ar.appCheckCredentials,ar.serializer,ir)}(tr.datastore,tr.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,tr),Ro:__PRIVATE_onWatchStreamOpen.bind(null,tr),mo:__PRIVATE_onWatchStreamClose.bind(null,tr),d_:__PRIVATE_onWatchStreamChange.bind(null,tr)}),tr.B_.push(async er=>{er?(tr.K_.s_(),__PRIVATE_shouldStartWatchStream(tr)?__PRIVATE_startWatchStream(tr):tr.q_.set("Unknown")):(await tr.K_.stop(),__PRIVATE_cleanUpWatchStreamState(tr))})),tr.K_}function __PRIVATE_ensureWriteStream(tr){return tr.U_||(tr.U_=function(rr,nr,ir){const ar=__PRIVATE_debugCast(rr);return ar.w_(),new __PRIVATE_PersistentWriteStream(nr,ar.connection,ar.authCredentials,ar.appCheckCredentials,ar.serializer,ir)}(tr.datastore,tr.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,tr),mo:__PRIVATE_onWriteStreamClose.bind(null,tr),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,tr),g_:__PRIVATE_onMutationResult.bind(null,tr)}),tr.B_.push(async er=>{er?(tr.U_.s_(),await __PRIVATE_fillWritePipeline(tr)):(await tr.U_.stop(),tr.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${tr.O_.length} pending writes`),tr.O_=[]))})),tr.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(er,rr,nr,ir,ar){this.asyncQueue=er,this.timerId=rr,this.targetTimeMs=nr,this.op=ir,this.removalCallback=ar,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(sr=>{})}get promise(){return this.deferred.promise}static createAndSchedule(er,rr,nr,ir,ar){const sr=Date.now()+nr,lr=new DelayedOperation(er,rr,sr,ir,ar);return lr.start(nr),lr}start(er){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),er)}skipDelay(){return this.handleDelayElapsed()}cancel(er){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D$1.CANCELLED,"Operation cancelled"+(er?": "+er:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(er=>this.deferred.resolve(er))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(tr,er){if(__PRIVATE_logError("AsyncQueue",`${er}: ${tr}`),__PRIVATE_isIndexedDbTransactionError(tr))return new FirestoreError(D$1.UNAVAILABLE,`${er}: ${tr}`);throw tr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(er){this.comparator=er?(rr,nr)=>er(rr,nr)||DocumentKey.comparator(rr.key,nr.key):(rr,nr)=>DocumentKey.comparator(rr.key,nr.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(er){return new DocumentSet(er.comparator)}has(er){return this.keyedMap.get(er)!=null}get(er){return this.keyedMap.get(er)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(er){const rr=this.keyedMap.get(er);return rr?this.sortedSet.indexOf(rr):-1}get size(){return this.sortedSet.size}forEach(er){this.sortedSet.inorderTraversal((rr,nr)=>(er(rr),!1))}add(er){const rr=this.delete(er.key);return rr.copy(rr.keyedMap.insert(er.key,er),rr.sortedSet.insert(er,null))}delete(er){const rr=this.get(er);return rr?this.copy(this.keyedMap.remove(er),this.sortedSet.remove(rr)):this}isEqual(er){if(!(er instanceof DocumentSet)||this.size!==er.size)return!1;const rr=this.sortedSet.getIterator(),nr=er.sortedSet.getIterator();for(;rr.hasNext();){const ir=rr.getNext().key,ar=nr.getNext().key;if(!ir.isEqual(ar))return!1}return!0}toString(){const er=[];return this.forEach(rr=>{er.push(rr.toString())}),er.length===0?"DocumentSet ()":`DocumentSet (
  `+er.join(`  
`)+`
)`}copy(er,rr){const nr=new DocumentSet;return nr.comparator=this.comparator,nr.keyedMap=er,nr.sortedSet=rr,nr}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(er){const rr=er.doc.key,nr=this.W_.get(rr);nr?er.type!==0&&nr.type===3?this.W_=this.W_.insert(rr,er):er.type===3&&nr.type!==1?this.W_=this.W_.insert(rr,{type:nr.type,doc:er.doc}):er.type===2&&nr.type===2?this.W_=this.W_.insert(rr,{type:2,doc:er.doc}):er.type===2&&nr.type===0?this.W_=this.W_.insert(rr,{type:0,doc:er.doc}):er.type===1&&nr.type===0?this.W_=this.W_.remove(rr):er.type===1&&nr.type===2?this.W_=this.W_.insert(rr,{type:1,doc:nr.doc}):er.type===0&&nr.type===1?this.W_=this.W_.insert(rr,{type:2,doc:er.doc}):fail():this.W_=this.W_.insert(rr,er)}G_(){const er=[];return this.W_.inorderTraversal((rr,nr)=>{er.push(nr)}),er}}class ViewSnapshot{constructor(er,rr,nr,ir,ar,sr,lr,or,cr){this.query=er,this.docs=rr,this.oldDocs=nr,this.docChanges=ir,this.mutatedKeys=ar,this.fromCache=sr,this.syncStateChanged=lr,this.excludesMetadataChanges=or,this.hasCachedResults=cr}static fromInitialDocuments(er,rr,nr,ir,ar){const sr=[];return rr.forEach(lr=>{sr.push({type:0,doc:lr})}),new ViewSnapshot(er,rr,DocumentSet.emptySet(rr),sr,nr,ir,!0,!1,ar)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(er){if(!(this.fromCache===er.fromCache&&this.hasCachedResults===er.hasCachedResults&&this.syncStateChanged===er.syncStateChanged&&this.mutatedKeys.isEqual(er.mutatedKeys)&&__PRIVATE_queryEquals(this.query,er.query)&&this.docs.isEqual(er.docs)&&this.oldDocs.isEqual(er.oldDocs)))return!1;const rr=this.docChanges,nr=er.docChanges;if(rr.length!==nr.length)return!1;for(let ir=0;ir<rr.length;ir++)if(rr[ir].type!==nr[ir].type||!rr[ir].doc.isEqual(nr[ir].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(er=>er.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(rr,nr){const ir=__PRIVATE_debugCast(rr),ar=ir.queries;ir.queries=__PRIVATE_newQueriesObjectMap(),ar.forEach((sr,lr)=>{for(const or of lr.j_)or.onError(nr)})})(this,new FirestoreError(D$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(tr=>__PRIVATE_canonifyQuery(tr),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(tr,er){const rr=__PRIVATE_debugCast(tr);let nr=3;const ir=er.query;let ar=rr.queries.get(ir);ar?!ar.H_()&&er.J_()&&(nr=2):(ar=new __PRIVATE_QueryListenersInfo,nr=er.J_()?0:1);try{switch(nr){case 0:ar.z_=await rr.onListen(ir,!0);break;case 1:ar.z_=await rr.onListen(ir,!1);break;case 2:await rr.onFirstRemoteStoreListen(ir)}}catch(sr){const lr=__PRIVATE_wrapInUserErrorIfRecoverable(sr,`Initialization of query '${__PRIVATE_stringifyQuery(er.query)}' failed`);return void er.onError(lr)}rr.queries.set(ir,ar),ar.j_.push(er),er.Z_(rr.onlineState),ar.z_&&er.X_(ar.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(rr)}async function __PRIVATE_eventManagerUnlisten(tr,er){const rr=__PRIVATE_debugCast(tr),nr=er.query;let ir=3;const ar=rr.queries.get(nr);if(ar){const sr=ar.j_.indexOf(er);sr>=0&&(ar.j_.splice(sr,1),ar.j_.length===0?ir=er.J_()?0:1:!ar.H_()&&er.J_()&&(ir=2))}switch(ir){case 0:return rr.queries.delete(nr),rr.onUnlisten(nr,!0);case 1:return rr.queries.delete(nr),rr.onUnlisten(nr,!1);case 2:return rr.onLastRemoteStoreUnlisten(nr);default:return}}function __PRIVATE_eventManagerOnWatchChange(tr,er){const rr=__PRIVATE_debugCast(tr);let nr=!1;for(const ir of er){const ar=ir.query,sr=rr.queries.get(ar);if(sr){for(const lr of sr.j_)lr.X_(ir)&&(nr=!0);sr.z_=ir}}nr&&__PRIVATE_raiseSnapshotsInSyncEvent(rr)}function __PRIVATE_eventManagerOnWatchError(tr,er,rr){const nr=__PRIVATE_debugCast(tr),ir=nr.queries.get(er);if(ir)for(const ar of ir.j_)ar.onError(rr);nr.queries.delete(er)}function __PRIVATE_raiseSnapshotsInSyncEvent(tr){tr.Y_.forEach(er=>{er.next()})}var pe$1,ye$1;(ye$1=pe$1||(pe$1={})).ea="default",ye$1.Cache="cache";class __PRIVATE_QueryListener{constructor(er,rr,nr){this.query=er,this.ta=rr,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=nr||{}}X_(er){if(!this.options.includeMetadataChanges){const nr=[];for(const ir of er.docChanges)ir.type!==3&&nr.push(ir);er=new ViewSnapshot(er.query,er.docs,er.oldDocs,nr,er.mutatedKeys,er.fromCache,er.syncStateChanged,!0,er.hasCachedResults)}let rr=!1;return this.na?this.ia(er)&&(this.ta.next(er),rr=!0):this.sa(er,this.onlineState)&&(this.oa(er),rr=!0),this.ra=er,rr}onError(er){this.ta.error(er)}Z_(er){this.onlineState=er;let rr=!1;return this.ra&&!this.na&&this.sa(this.ra,er)&&(this.oa(this.ra),rr=!0),rr}sa(er,rr){if(!er.fromCache||!this.J_())return!0;const nr=rr!=="Offline";return(!this.options._a||!nr)&&(!er.docs.isEmpty()||er.hasCachedResults||rr==="Offline")}ia(er){if(er.docChanges.length>0)return!0;const rr=this.ra&&this.ra.hasPendingWrites!==er.hasPendingWrites;return!(!er.syncStateChanged&&!rr)&&this.options.includeMetadataChanges===!0}oa(er){er=ViewSnapshot.fromInitialDocuments(er.query,er.docs,er.mutatedKeys,er.fromCache,er.hasCachedResults),this.na=!0,this.ta.next(er)}J_(){return this.options.source!==pe$1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(er){this.key=er}}class __PRIVATE_RemovedLimboDocument{constructor(er){this.key=er}}class __PRIVATE_View{constructor(er,rr){this.query=er,this.Ta=rr,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(er),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(er,rr){const nr=rr?rr.fa:new __PRIVATE_DocumentChangeSet,ir=rr?rr.Ra:this.Ra;let ar=rr?rr.mutatedKeys:this.mutatedKeys,sr=ir,lr=!1;const or=this.query.limitType==="F"&&ir.size===this.query.limit?ir.last():null,cr=this.query.limitType==="L"&&ir.size===this.query.limit?ir.first():null;if(er.inorderTraversal((ur,dr)=>{const hr=ir.get(ur),fr=__PRIVATE_queryMatches(this.query,dr)?dr:null,mr=!!hr&&this.mutatedKeys.has(hr.key),br=!!fr&&(fr.hasLocalMutations||this.mutatedKeys.has(fr.key)&&fr.hasCommittedMutations);let pr=!1;hr&&fr?hr.data.isEqual(fr.data)?mr!==br&&(nr.track({type:3,doc:fr}),pr=!0):this.ga(hr,fr)||(nr.track({type:2,doc:fr}),pr=!0,(or&&this.Aa(fr,or)>0||cr&&this.Aa(fr,cr)<0)&&(lr=!0)):!hr&&fr?(nr.track({type:0,doc:fr}),pr=!0):hr&&!fr&&(nr.track({type:1,doc:hr}),pr=!0,(or||cr)&&(lr=!0)),pr&&(fr?(sr=sr.add(fr),ar=br?ar.add(ur):ar.delete(ur)):(sr=sr.delete(ur),ar=ar.delete(ur)))}),this.query.limit!==null)for(;sr.size>this.query.limit;){const ur=this.query.limitType==="F"?sr.last():sr.first();sr=sr.delete(ur.key),ar=ar.delete(ur.key),nr.track({type:1,doc:ur})}return{Ra:sr,fa:nr,ns:lr,mutatedKeys:ar}}ga(er,rr){return er.hasLocalMutations&&rr.hasCommittedMutations&&!rr.hasLocalMutations}applyChanges(er,rr,nr,ir){const ar=this.Ra;this.Ra=er.Ra,this.mutatedKeys=er.mutatedKeys;const sr=er.fa.G_();sr.sort((ur,dr)=>function(fr,mr){const br=pr=>{switch(pr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return br(fr)-br(mr)}(ur.type,dr.type)||this.Aa(ur.doc,dr.doc)),this.pa(nr),ir=ir!=null&&ir;const lr=rr&&!ir?this.ya():[],or=this.da.size===0&&this.current&&!ir?1:0,cr=or!==this.Ea;return this.Ea=or,sr.length!==0||cr?{snapshot:new ViewSnapshot(this.query,er.Ra,ar,sr,er.mutatedKeys,or===0,cr,!1,!!nr&&nr.resumeToken.approximateByteSize()>0),wa:lr}:{wa:lr}}Z_(er){return this.current&&er==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(er){return!this.Ta.has(er)&&!!this.Ra.has(er)&&!this.Ra.get(er).hasLocalMutations}pa(er){er&&(er.addedDocuments.forEach(rr=>this.Ta=this.Ta.add(rr)),er.modifiedDocuments.forEach(rr=>{}),er.removedDocuments.forEach(rr=>this.Ta=this.Ta.delete(rr)),this.current=er.current)}ya(){if(!this.current)return[];const er=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(nr=>{this.Sa(nr.key)&&(this.da=this.da.add(nr.key))});const rr=[];return er.forEach(nr=>{this.da.has(nr)||rr.push(new __PRIVATE_RemovedLimboDocument(nr))}),this.da.forEach(nr=>{er.has(nr)||rr.push(new __PRIVATE_AddedLimboDocument(nr))}),rr}ba(er){this.Ta=er.Ts,this.da=__PRIVATE_documentKeySet();const rr=this.ma(er.documents);return this.applyChanges(rr,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(er,rr,nr){this.query=er,this.targetId=rr,this.view=nr}}class LimboResolution{constructor(er){this.key=er,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(er,rr,nr,ir,ar,sr){this.localStore=er,this.remoteStore=rr,this.eventManager=nr,this.sharedClientState=ir,this.currentUser=ar,this.maxConcurrentLimboResolutions=sr,this.Ca={},this.Fa=new ObjectMap(lr=>__PRIVATE_canonifyQuery(lr),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(tr,er,rr=!0){const nr=__PRIVATE_ensureWatchCallbacks(tr);let ir;const ar=nr.Fa.get(er);return ar?(nr.sharedClientState.addLocalQueryTarget(ar.targetId),ir=ar.view.Da()):ir=await __PRIVATE_allocateTargetAndMaybeListen(nr,er,rr,!0),ir}async function __PRIVATE_triggerRemoteStoreListen(tr,er){const rr=__PRIVATE_ensureWatchCallbacks(tr);await __PRIVATE_allocateTargetAndMaybeListen(rr,er,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(tr,er,rr,nr){const ir=await __PRIVATE_localStoreAllocateTarget(tr.localStore,__PRIVATE_queryToTarget(er)),ar=ir.targetId,sr=tr.sharedClientState.addLocalQueryTarget(ar,rr);let lr;return nr&&(lr=await __PRIVATE_initializeViewAndComputeSnapshot(tr,er,ar,sr==="current",ir.resumeToken)),tr.isPrimaryClient&&rr&&__PRIVATE_remoteStoreListen(tr.remoteStore,ir),lr}async function __PRIVATE_initializeViewAndComputeSnapshot(tr,er,rr,nr,ir){tr.Ka=(dr,hr,fr)=>async function(br,pr,gr,yr){let vr=pr.view.ma(gr);vr.ns&&(vr=await __PRIVATE_localStoreExecuteQuery(br.localStore,pr.query,!1).then(({documents:Cr})=>pr.view.ma(Cr,vr)));const _r=yr&&yr.targetChanges.get(pr.targetId),xr=yr&&yr.targetMismatches.get(pr.targetId)!=null,Rr=pr.view.applyChanges(vr,br.isPrimaryClient,_r,xr);return __PRIVATE_updateTrackedLimbos(br,pr.targetId,Rr.wa),Rr.snapshot}(tr,dr,hr,fr);const ar=await __PRIVATE_localStoreExecuteQuery(tr.localStore,er,!0),sr=new __PRIVATE_View(er,ar.Ts),lr=sr.ma(ar.documents),or=TargetChange.createSynthesizedTargetChangeForCurrentChange(rr,nr&&tr.onlineState!=="Offline",ir),cr=sr.applyChanges(lr,tr.isPrimaryClient,or);__PRIVATE_updateTrackedLimbos(tr,rr,cr.wa);const ur=new __PRIVATE_QueryView(er,rr,sr);return tr.Fa.set(er,ur),tr.Ma.has(rr)?tr.Ma.get(rr).push(er):tr.Ma.set(rr,[er]),cr.snapshot}async function __PRIVATE_syncEngineUnlisten(tr,er,rr){const nr=__PRIVATE_debugCast(tr),ir=nr.Fa.get(er),ar=nr.Ma.get(ir.targetId);if(ar.length>1)return nr.Ma.set(ir.targetId,ar.filter(sr=>!__PRIVATE_queryEquals(sr,er))),void nr.Fa.delete(er);nr.isPrimaryClient?(nr.sharedClientState.removeLocalQueryTarget(ir.targetId),nr.sharedClientState.isActiveQueryTarget(ir.targetId)||await __PRIVATE_localStoreReleaseTarget(nr.localStore,ir.targetId,!1).then(()=>{nr.sharedClientState.clearQueryState(ir.targetId),rr&&__PRIVATE_remoteStoreUnlisten(nr.remoteStore,ir.targetId),__PRIVATE_removeAndCleanupTarget(nr,ir.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(nr,ir.targetId),await __PRIVATE_localStoreReleaseTarget(nr.localStore,ir.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(tr,er){const rr=__PRIVATE_debugCast(tr),nr=rr.Fa.get(er),ir=rr.Ma.get(nr.targetId);rr.isPrimaryClient&&ir.length===1&&(rr.sharedClientState.removeLocalQueryTarget(nr.targetId),__PRIVATE_remoteStoreUnlisten(rr.remoteStore,nr.targetId))}async function __PRIVATE_syncEngineWrite(tr,er,rr){const nr=__PRIVATE_syncEngineEnsureWriteCallbacks(tr);try{const ir=await function(sr,lr){const or=__PRIVATE_debugCast(sr),cr=Timestamp.now(),ur=lr.reduce((fr,mr)=>fr.add(mr.key),__PRIVATE_documentKeySet());let dr,hr;return or.persistence.runTransaction("Locally write mutations","readwrite",fr=>{let mr=__PRIVATE_mutableDocumentMap(),br=__PRIVATE_documentKeySet();return or.cs.getEntries(fr,ur).next(pr=>{mr=pr,mr.forEach((gr,yr)=>{yr.isValidDocument()||(br=br.add(gr))})}).next(()=>or.localDocuments.getOverlayedDocuments(fr,mr)).next(pr=>{dr=pr;const gr=[];for(const yr of lr){const vr=__PRIVATE_mutationExtractBaseValue(yr,dr.get(yr.key).overlayedDocument);vr!=null&&gr.push(new __PRIVATE_PatchMutation(yr.key,vr,__PRIVATE_extractFieldMask(vr.value.mapValue),Precondition.exists(!0)))}return or.mutationQueue.addMutationBatch(fr,cr,gr,lr)}).next(pr=>{hr=pr;const gr=pr.applyToLocalDocumentSet(dr,br);return or.documentOverlayCache.saveOverlays(fr,pr.batchId,gr)})}).then(()=>({batchId:hr.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(dr)}))}(nr.localStore,er);nr.sharedClientState.addPendingMutation(ir.batchId),function(sr,lr,or){let cr=sr.Ba[sr.currentUser.toKey()];cr||(cr=new SortedMap(__PRIVATE_primitiveComparator)),cr=cr.insert(lr,or),sr.Ba[sr.currentUser.toKey()]=cr}(nr,ir.batchId,rr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(nr,ir.changes),await __PRIVATE_fillWritePipeline(nr.remoteStore)}catch(ir){const ar=__PRIVATE_wrapInUserErrorIfRecoverable(ir,"Failed to persist write");rr.reject(ar)}}async function __PRIVATE_syncEngineApplyRemoteEvent(tr,er){const rr=__PRIVATE_debugCast(tr);try{const nr=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(rr.localStore,er);er.targetChanges.forEach((ir,ar)=>{const sr=rr.Na.get(ar);sr&&(__PRIVATE_hardAssert(ir.addedDocuments.size+ir.modifiedDocuments.size+ir.removedDocuments.size<=1),ir.addedDocuments.size>0?sr.va=!0:ir.modifiedDocuments.size>0?__PRIVATE_hardAssert(sr.va):ir.removedDocuments.size>0&&(__PRIVATE_hardAssert(sr.va),sr.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,nr,er)}catch(nr){await __PRIVATE_ignoreIfPrimaryLeaseLoss(nr)}}function __PRIVATE_syncEngineApplyOnlineStateChange(tr,er,rr){const nr=__PRIVATE_debugCast(tr);if(nr.isPrimaryClient&&rr===0||!nr.isPrimaryClient&&rr===1){const ir=[];nr.Fa.forEach((ar,sr)=>{const lr=sr.view.Z_(er);lr.snapshot&&ir.push(lr.snapshot)}),function(sr,lr){const or=__PRIVATE_debugCast(sr);or.onlineState=lr;let cr=!1;or.queries.forEach((ur,dr)=>{for(const hr of dr.j_)hr.Z_(lr)&&(cr=!0)}),cr&&__PRIVATE_raiseSnapshotsInSyncEvent(or)}(nr.eventManager,er),ir.length&&nr.Ca.d_(ir),nr.onlineState=er,nr.isPrimaryClient&&nr.sharedClientState.setOnlineState(er)}}async function __PRIVATE_syncEngineRejectListen(tr,er,rr){const nr=__PRIVATE_debugCast(tr);nr.sharedClientState.updateQueryState(er,"rejected",rr);const ir=nr.Na.get(er),ar=ir&&ir.key;if(ar){let sr=new SortedMap(DocumentKey.comparator);sr=sr.insert(ar,MutableDocument.newNoDocument(ar,SnapshotVersion.min()));const lr=__PRIVATE_documentKeySet().add(ar),or=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),sr,lr);await __PRIVATE_syncEngineApplyRemoteEvent(nr,or),nr.Oa=nr.Oa.remove(ar),nr.Na.delete(er),__PRIVATE_pumpEnqueuedLimboResolutions(nr)}else await __PRIVATE_localStoreReleaseTarget(nr.localStore,er,!1).then(()=>__PRIVATE_removeAndCleanupTarget(nr,er,rr)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(tr,er){const rr=__PRIVATE_debugCast(tr),nr=er.batch.batchId;try{const ir=await __PRIVATE_localStoreAcknowledgeBatch(rr.localStore,er);__PRIVATE_processUserCallback(rr,nr,null),__PRIVATE_triggerPendingWritesCallbacks(rr,nr),rr.sharedClientState.updateMutationState(nr,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,ir)}catch(ir){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ir)}}async function __PRIVATE_syncEngineRejectFailedWrite(tr,er,rr){const nr=__PRIVATE_debugCast(tr);try{const ir=await function(sr,lr){const or=__PRIVATE_debugCast(sr);return or.persistence.runTransaction("Reject batch","readwrite-primary",cr=>{let ur;return or.mutationQueue.lookupMutationBatch(cr,lr).next(dr=>(__PRIVATE_hardAssert(dr!==null),ur=dr.keys(),or.mutationQueue.removeMutationBatch(cr,dr))).next(()=>or.mutationQueue.performConsistencyCheck(cr)).next(()=>or.documentOverlayCache.removeOverlaysForBatchId(cr,ur,lr)).next(()=>or.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(cr,ur)).next(()=>or.localDocuments.getDocuments(cr,ur))})}(nr.localStore,er);__PRIVATE_processUserCallback(nr,er,rr),__PRIVATE_triggerPendingWritesCallbacks(nr,er),nr.sharedClientState.updateMutationState(er,"rejected",rr),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(nr,ir)}catch(ir){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ir)}}function __PRIVATE_triggerPendingWritesCallbacks(tr,er){(tr.ka.get(er)||[]).forEach(rr=>{rr.resolve()}),tr.ka.delete(er)}function __PRIVATE_processUserCallback(tr,er,rr){const nr=__PRIVATE_debugCast(tr);let ir=nr.Ba[nr.currentUser.toKey()];if(ir){const ar=ir.get(er);ar&&(rr?ar.reject(rr):ar.resolve(),ir=ir.remove(er)),nr.Ba[nr.currentUser.toKey()]=ir}}function __PRIVATE_removeAndCleanupTarget(tr,er,rr=null){tr.sharedClientState.removeLocalQueryTarget(er);for(const nr of tr.Ma.get(er))tr.Fa.delete(nr),rr&&tr.Ca.$a(nr,rr);tr.Ma.delete(er),tr.isPrimaryClient&&tr.La.gr(er).forEach(nr=>{tr.La.containsKey(nr)||__PRIVATE_removeLimboTarget(tr,nr)})}function __PRIVATE_removeLimboTarget(tr,er){tr.xa.delete(er.path.canonicalString());const rr=tr.Oa.get(er);rr!==null&&(__PRIVATE_remoteStoreUnlisten(tr.remoteStore,rr),tr.Oa=tr.Oa.remove(er),tr.Na.delete(rr),__PRIVATE_pumpEnqueuedLimboResolutions(tr))}function __PRIVATE_updateTrackedLimbos(tr,er,rr){for(const nr of rr)nr instanceof __PRIVATE_AddedLimboDocument?(tr.La.addReference(nr.key,er),__PRIVATE_trackLimboChange(tr,nr)):nr instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+nr.key),tr.La.removeReference(nr.key,er),tr.La.containsKey(nr.key)||__PRIVATE_removeLimboTarget(tr,nr.key)):fail()}function __PRIVATE_trackLimboChange(tr,er){const rr=er.key,nr=rr.path.canonicalString();tr.Oa.get(rr)||tr.xa.has(nr)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+rr),tr.xa.add(nr),__PRIVATE_pumpEnqueuedLimboResolutions(tr))}function __PRIVATE_pumpEnqueuedLimboResolutions(tr){for(;tr.xa.size>0&&tr.Oa.size<tr.maxConcurrentLimboResolutions;){const er=tr.xa.values().next().value;tr.xa.delete(er);const rr=new DocumentKey(ResourcePath.fromString(er)),nr=tr.qa.next();tr.Na.set(nr,new LimboResolution(rr)),tr.Oa=tr.Oa.insert(rr,nr),__PRIVATE_remoteStoreListen(tr.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(rr.path)),nr,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tr,er,rr){const nr=__PRIVATE_debugCast(tr),ir=[],ar=[],sr=[];nr.Fa.isEmpty()||(nr.Fa.forEach((lr,or)=>{sr.push(nr.Ka(or,er,rr).then(cr=>{var ur;if((cr||rr)&&nr.isPrimaryClient){const dr=cr?!cr.fromCache:(ur=rr==null?void 0:rr.targetChanges.get(or.targetId))===null||ur===void 0?void 0:ur.current;nr.sharedClientState.updateQueryState(or.targetId,dr?"current":"not-current")}if(cr){ir.push(cr);const dr=__PRIVATE_LocalViewChanges.Wi(or.targetId,cr);ar.push(dr)}}))}),await Promise.all(sr),nr.Ca.d_(ir),await async function(or,cr){const ur=__PRIVATE_debugCast(or);try{await ur.persistence.runTransaction("notifyLocalViewChanges","readwrite",dr=>PersistencePromise.forEach(cr,hr=>PersistencePromise.forEach(hr.$i,fr=>ur.persistence.referenceDelegate.addReference(dr,hr.targetId,fr)).next(()=>PersistencePromise.forEach(hr.Ui,fr=>ur.persistence.referenceDelegate.removeReference(dr,hr.targetId,fr)))))}catch(dr){if(!__PRIVATE_isIndexedDbTransactionError(dr))throw dr;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+dr)}for(const dr of cr){const hr=dr.targetId;if(!dr.fromCache){const fr=ur.os.get(hr),mr=fr.snapshotVersion,br=fr.withLastLimboFreeSnapshotVersion(mr);ur.os=ur.os.insert(hr,br)}}}(nr.localStore,ar))}async function __PRIVATE_syncEngineHandleCredentialChange(tr,er){const rr=__PRIVATE_debugCast(tr);if(!rr.currentUser.isEqual(er)){__PRIVATE_logDebug("SyncEngine","User change. New user:",er.toKey());const nr=await __PRIVATE_localStoreHandleUserChange(rr.localStore,er);rr.currentUser=er,function(ar,sr){ar.ka.forEach(lr=>{lr.forEach(or=>{or.reject(new FirestoreError(D$1.CANCELLED,sr))})}),ar.ka.clear()}(rr,"'waitForPendingWrites' promise is rejected due to a user change."),rr.sharedClientState.handleUserChange(er,nr.removedBatchIds,nr.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(rr,nr.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(tr,er){const rr=__PRIVATE_debugCast(tr),nr=rr.Na.get(er);if(nr&&nr.va)return __PRIVATE_documentKeySet().add(nr.key);{let ir=__PRIVATE_documentKeySet();const ar=rr.Ma.get(er);if(!ar)return ir;for(const sr of ar){const lr=rr.Fa.get(sr);ir=ir.unionWith(lr.view.Va)}return ir}}function __PRIVATE_ensureWatchCallbacks(tr){const er=__PRIVATE_debugCast(tr);return er.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,er),er.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,er),er.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,er),er.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,er.eventManager),er.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,er.eventManager),er}function __PRIVATE_syncEngineEnsureWriteCallbacks(tr){const er=__PRIVATE_debugCast(tr);return er.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,er),er.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,er),er}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(er){this.serializer=__PRIVATE_newSerializer(er.databaseInfo.databaseId),this.sharedClientState=this.Wa(er),this.persistence=this.Ga(er),await this.persistence.start(),this.localStore=this.za(er),this.gcScheduler=this.ja(er,this.localStore),this.indexBackfillerScheduler=this.Ha(er,this.localStore)}ja(er,rr){return null}Ha(er,rr){return null}za(er){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,er.initialUser,this.serializer)}Ga(er){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(er){return new __PRIVATE_MemorySharedClientState}async terminate(){var er,rr;(er=this.gcScheduler)===null||er===void 0||er.stop(),(rr=this.indexBackfillerScheduler)===null||rr===void 0||rr.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(er,rr){this.localStore||(this.localStore=er.localStore,this.sharedClientState=er.sharedClientState,this.datastore=this.createDatastore(rr),this.remoteStore=this.createRemoteStore(rr),this.eventManager=this.createEventManager(rr),this.syncEngine=this.createSyncEngine(rr,!er.synchronizeTabs),this.sharedClientState.onlineStateHandler=nr=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,nr,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(er){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(er){const rr=__PRIVATE_newSerializer(er.databaseInfo.databaseId),nr=function(ar){return new __PRIVATE_WebChannelConnection(ar)}(er.databaseInfo);return function(ar,sr,lr,or){return new __PRIVATE_DatastoreImpl(ar,sr,lr,or)}(er.authCredentials,er.appCheckCredentials,nr,rr)}createRemoteStore(er){return function(nr,ir,ar,sr,lr){return new __PRIVATE_RemoteStoreImpl(nr,ir,ar,sr,lr)}(this.localStore,this.datastore,er.asyncQueue,rr=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,rr,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(er,rr){return function(ir,ar,sr,lr,or,cr,ur){const dr=new __PRIVATE_SyncEngineImpl(ir,ar,sr,lr,or,cr);return ur&&(dr.Qa=!0),dr}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,er.initialUser,er.maxConcurrentLimboResolutions,rr)}async terminate(){var er,rr;await async function(ir){const ar=__PRIVATE_debugCast(ir);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),ar.L_.add(5),await __PRIVATE_disableNetworkInternal(ar),ar.k_.shutdown(),ar.q_.set("Unknown")}(this.remoteStore),(er=this.datastore)===null||er===void 0||er.terminate(),(rr=this.eventManager)===null||rr===void 0||rr.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(er){this.observer=er,this.muted=!1}next(er){this.muted||this.observer.next&&this.Ya(this.observer.next,er)}error(er){this.muted||(this.observer.error?this.Ya(this.observer.error,er):__PRIVATE_logError("Uncaught Error in snapshot listener:",er.toString()))}Za(){this.muted=!0}Ya(er,rr){setTimeout(()=>{this.muted||er(rr)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(er,rr,nr,ir,ar){this.authCredentials=er,this.appCheckCredentials=rr,this.asyncQueue=nr,this.databaseInfo=ir,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=ar,this.authCredentials.start(nr,async sr=>{__PRIVATE_logDebug("FirestoreClient","Received user=",sr.uid),await this.authCredentialListener(sr),this.user=sr}),this.appCheckCredentials.start(nr,sr=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",sr),this.appCheckCredentialListener(sr,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(er){this.authCredentialListener=er}setAppCheckTokenChangeListener(er){this.appCheckCredentialListener=er}terminate(){this.asyncQueue.enterRestrictedMode();const er=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),er.resolve()}catch(rr){const nr=__PRIVATE_wrapInUserErrorIfRecoverable(rr,"Failed to shutdown persistence");er.reject(nr)}}),er.promise}}async function __PRIVATE_setOfflineComponentProvider(tr,er){tr.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const rr=tr.configuration;await er.initialize(rr);let nr=rr.initialUser;tr.setCredentialChangeListener(async ir=>{nr.isEqual(ir)||(await __PRIVATE_localStoreHandleUserChange(er.localStore,ir),nr=ir)}),er.persistence.setDatabaseDeletedListener(()=>tr.terminate()),tr._offlineComponents=er}async function __PRIVATE_setOnlineComponentProvider(tr,er){tr.asyncQueue.verifyOperationInProgress();const rr=await __PRIVATE_ensureOfflineComponents(tr);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await er.initialize(rr,tr.configuration),tr.setCredentialChangeListener(nr=>__PRIVATE_remoteStoreHandleCredentialChange(er.remoteStore,nr)),tr.setAppCheckTokenChangeListener((nr,ir)=>__PRIVATE_remoteStoreHandleCredentialChange(er.remoteStore,ir)),tr._onlineComponents=er}async function __PRIVATE_ensureOfflineComponents(tr){if(!tr._offlineComponents)if(tr._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(tr,tr._uninitializedComponentsProvider._offline)}catch(er){const rr=er;if(!function(ir){return ir.name==="FirebaseError"?ir.code===D$1.FAILED_PRECONDITION||ir.code===D$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&ir instanceof DOMException)||ir.code===22||ir.code===20||ir.code===11}(rr))throw rr;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+rr),await __PRIVATE_setOfflineComponentProvider(tr,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(tr,new __PRIVATE_MemoryOfflineComponentProvider);return tr._offlineComponents}async function __PRIVATE_ensureOnlineComponents(tr){return tr._onlineComponents||(tr._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(tr,tr._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(tr,new OnlineComponentProvider))),tr._onlineComponents}function __PRIVATE_getSyncEngine(tr){return __PRIVATE_ensureOnlineComponents(tr).then(er=>er.syncEngine)}async function __PRIVATE_getEventManager(tr){const er=await __PRIVATE_ensureOnlineComponents(tr),rr=er.eventManager;return rr.onListen=__PRIVATE_syncEngineListen.bind(null,er.syncEngine),rr.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,er.syncEngine),rr.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,er.syncEngine),rr.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,er.syncEngine),rr}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(tr,er,rr={}){const nr=new __PRIVATE_Deferred;return tr.asyncQueue.enqueueAndForget(async()=>function(ar,sr,lr,or,cr){const ur=new __PRIVATE_AsyncObserver({next:hr=>{ur.Za(),sr.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(ar,dr)),hr.fromCache&&or.source==="server"?cr.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):cr.resolve(hr)},error:hr=>cr.reject(hr)}),dr=new __PRIVATE_QueryListener(lr,ur,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(ar,dr)}(await __PRIVATE_getEventManager(tr),tr.asyncQueue,er,rr,nr)),nr.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(tr){const er={};return tr.timeoutSeconds!==void 0&&(er.timeoutSeconds=tr.timeoutSeconds),er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we$1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(tr,er,rr){if(!rr)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${tr}() cannot be called with an empty ${er}.`)}function __PRIVATE_validateIsNotUsedTogether(tr,er,rr,nr){if(er===!0&&nr===!0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`${tr} and ${rr} cannot be used together.`)}function __PRIVATE_validateDocumentPath(tr){if(!DocumentKey.isDocumentKey(tr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${tr} has ${tr.length}.`)}function __PRIVATE_validateCollectionPath(tr){if(DocumentKey.isDocumentKey(tr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${tr} has ${tr.length}.`)}function __PRIVATE_valueDescription(tr){if(tr===void 0)return"undefined";if(tr===null)return"null";if(typeof tr=="string")return tr.length>20&&(tr=`${tr.substring(0,20)}...`),JSON.stringify(tr);if(typeof tr=="number"||typeof tr=="boolean")return""+tr;if(typeof tr=="object"){if(tr instanceof Array)return"an array";{const er=function(nr){return nr.constructor?nr.constructor.name:null}(tr);return er?`a custom ${er} object`:"an object"}}return typeof tr=="function"?"a function":fail()}function __PRIVATE_cast(tr,er){if("_delegate"in tr&&(tr=tr._delegate),!(tr instanceof er)){if(er.name===tr.constructor.name)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const rr=__PRIVATE_valueDescription(tr);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Expected type '${er.name}', but it was: ${rr}`)}}return tr}function __PRIVATE_validatePositiveNumber(tr,er){if(er<=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${tr}() requires a positive number, but it was: ${er}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(er){var rr,nr;if(er.host===void 0){if(er.ssl!==void 0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=er.host,this.ssl=(rr=er.ssl)===null||rr===void 0||rr;if(this.credentials=er.credentials,this.ignoreUndefinedProperties=!!er.ignoreUndefinedProperties,this.localCache=er.localCache,er.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(er.cacheSizeBytes!==-1&&er.cacheSizeBytes<1048576)throw new FirestoreError(D$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=er.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",er.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",er.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!er.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:er.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!er.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((nr=er.experimentalLongPollingOptions)!==null&&nr!==void 0?nr:{}),function(ar){if(ar.timeoutSeconds!==void 0){if(isNaN(ar.timeoutSeconds))throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ar.timeoutSeconds} (must not be NaN)`);if(ar.timeoutSeconds<5)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ar.timeoutSeconds} (minimum allowed value is 5)`);if(ar.timeoutSeconds>30)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${ar.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!er.useFetchStreams}isEqual(er){return this.host===er.host&&this.ssl===er.ssl&&this.credentials===er.credentials&&this.cacheSizeBytes===er.cacheSizeBytes&&this.experimentalForceLongPolling===er.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===er.experimentalAutoDetectLongPolling&&function(nr,ir){return nr.timeoutSeconds===ir.timeoutSeconds}(this.experimentalLongPollingOptions,er.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===er.ignoreUndefinedProperties&&this.useFetchStreams===er.useFetchStreams}}class Firestore$1{constructor(er,rr,nr,ir){this._authCredentials=er,this._appCheckCredentials=rr,this._databaseId=nr,this._app=ir,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(er){if(this._settingsFrozen)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(er),er.credentials!==void 0&&(this._authCredentials=function(nr){if(!nr)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(nr.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(nr.sessionIndex||"0",nr.iamToken||null,nr.authTokenFactory||null);case"provider":return nr.client;default:throw new FirestoreError(D$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(er.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(rr){const nr=we$1.get(rr);nr&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we$1.delete(rr),nr.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(tr,er,rr,nr={}){var ir;const ar=(tr=__PRIVATE_cast(tr,Firestore$1))._getSettings(),sr=`${er}:${rr}`;if(ar.host!=="firestore.googleapis.com"&&ar.host!==sr&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),tr._setSettings(Object.assign(Object.assign({},ar),{host:sr,ssl:!1})),nr.mockUserToken){let lr,or;if(typeof nr.mockUserToken=="string")lr=nr.mockUserToken,or=User.MOCK_USER;else{lr=createMockUserToken(nr.mockUserToken,(ir=tr._app)===null||ir===void 0?void 0:ir.options.projectId);const cr=nr.mockUserToken.sub||nr.mockUserToken.user_id;if(!cr)throw new FirestoreError(D$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");or=new User(cr)}tr._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(lr,or))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(er,rr,nr){this.converter=rr,this._query=nr,this.type="query",this.firestore=er}withConverter(er){return new Query(this.firestore,er,this._query)}}class DocumentReference{constructor(er,rr,nr){this.converter=rr,this._key=nr,this.type="document",this.firestore=er}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(er){return new DocumentReference(this.firestore,er,this._key)}}class CollectionReference extends Query{constructor(er,rr,nr){super(er,rr,__PRIVATE_newQueryForPath(nr)),this._path=nr,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const er=this._path.popLast();return er.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(er))}withConverter(er){return new CollectionReference(this.firestore,er,this._path)}}function collection(tr,er,...rr){if(tr=getModularInstance(tr),__PRIVATE_validateNonEmptyArgument("collection","path",er),tr instanceof Firestore$1){const nr=ResourcePath.fromString(er,...rr);return __PRIVATE_validateCollectionPath(nr),new CollectionReference(tr,null,nr)}{if(!(tr instanceof DocumentReference||tr instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const nr=tr._path.child(ResourcePath.fromString(er,...rr));return __PRIVATE_validateCollectionPath(nr),new CollectionReference(tr.firestore,null,nr)}}function collectionGroup(tr,er){if(tr=__PRIVATE_cast(tr,Firestore$1),__PRIVATE_validateNonEmptyArgument("collectionGroup","collection id",er),er.indexOf("/")>=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid collection ID '${er}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Query(tr,null,function(nr){return new __PRIVATE_QueryImpl(ResourcePath.emptyPath(),nr)}(er))}function doc(tr,er,...rr){if(tr=getModularInstance(tr),arguments.length===1&&(er=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",er),tr instanceof Firestore$1){const nr=ResourcePath.fromString(er,...rr);return __PRIVATE_validateDocumentPath(nr),new DocumentReference(tr,null,new DocumentKey(nr))}{if(!(tr instanceof DocumentReference||tr instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const nr=tr._path.child(ResourcePath.fromString(er,...rr));return __PRIVATE_validateDocumentPath(nr),new DocumentReference(tr.firestore,tr instanceof CollectionReference?tr.converter:null,new DocumentKey(nr))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(er=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const nr=getDocument();nr&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+nr.visibilityState),this.t_.jo()},this.mu=er;const rr=getDocument();rr&&typeof rr.addEventListener=="function"&&rr.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(er){this.enqueue(er)}enqueueAndForgetEvenWhileRestricted(er){this.fu(),this.gu(er)}enterRestrictedMode(er){if(!this.Iu){this.Iu=!0,this.Au=er||!1;const rr=getDocument();rr&&typeof rr.removeEventListener=="function"&&rr.removeEventListener("visibilitychange",this.Vu)}}enqueue(er){if(this.fu(),this.Iu)return new Promise(()=>{});const rr=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(er().then(rr.resolve,rr.reject),rr.promise)).then(()=>rr.promise)}enqueueRetryable(er){this.enqueueAndForget(()=>(this.Pu.push(er),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(er){if(!__PRIVATE_isIndexedDbTransactionError(er))throw er;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+er)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(er){const rr=this.mu.then(()=>(this.du=!0,er().catch(nr=>{this.Eu=nr,this.du=!1;const ir=function(sr){let lr=sr.message||"";return sr.stack&&(lr=sr.stack.includes(sr.message)?sr.stack:sr.message+`
`+sr.stack),lr}(nr);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",ir),nr}).then(nr=>(this.du=!1,nr))));return this.mu=rr,rr}enqueueAfterDelay(er,rr,nr){this.fu(),this.Ru.indexOf(er)>-1&&(rr=0);const ir=DelayedOperation.createAndSchedule(this,er,rr,nr,ar=>this.yu(ar));return this.Tu.push(ir),ir}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let er;do er=this.mu,await er;while(er!==this.mu)}Su(er){for(const rr of this.Tu)if(rr.timerId===er)return!0;return!1}bu(er){return this.wu().then(()=>{this.Tu.sort((rr,nr)=>rr.targetTimeMs-nr.targetTimeMs);for(const rr of this.Tu)if(rr.skipDelay(),er!=="all"&&rr.timerId===er)break;return this.wu()})}Du(er){this.Ru.push(er)}yu(er){const rr=this.Tu.indexOf(er);this.Tu.splice(rr,1)}}function __PRIVATE_isPartialObserver(tr){return function(rr,nr){if(typeof rr!="object"||rr===null)return!1;const ir=rr;for(const ar of nr)if(ar in ir&&typeof ir[ar]=="function")return!0;return!1}(tr,["next","error","complete"])}class Firestore extends Firestore$1{constructor(er,rr,nr,ir){super(er,rr,nr,ir),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(ir==null?void 0:ir.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const er=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(er),this._firestoreClient=void 0,await er}}}function getFirestore(tr,er){const rr=typeof tr=="object"?tr:getApp(),nr=typeof tr=="string"?tr:"(default)",ir=_getProvider(rr,"firestore").getImmediate({identifier:nr});if(!ir._initialized){const ar=getDefaultEmulatorHostnameAndPort("firestore");ar&&connectFirestoreEmulator(ir,...ar)}return ir}function ensureFirestoreConfigured(tr){if(tr._terminated)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.");return tr._firestoreClient||__PRIVATE_configureFirestore(tr),tr._firestoreClient}function __PRIVATE_configureFirestore(tr){var er,rr,nr;const ir=tr._freezeSettings(),ar=function(lr,or,cr,ur){return new DatabaseInfo(lr,or,cr,ur.host,ur.ssl,ur.experimentalForceLongPolling,ur.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(ur.experimentalLongPollingOptions),ur.useFetchStreams)}(tr._databaseId,((er=tr._app)===null||er===void 0?void 0:er.options.appId)||"",tr._persistenceKey,ir);tr._componentsProvider||!((rr=ir.localCache)===null||rr===void 0)&&rr._offlineComponentProvider&&(!((nr=ir.localCache)===null||nr===void 0)&&nr._onlineComponentProvider)&&(tr._componentsProvider={_offline:ir.localCache._offlineComponentProvider,_online:ir.localCache._onlineComponentProvider}),tr._firestoreClient=new FirestoreClient(tr._authCredentials,tr._appCheckCredentials,tr._queue,ar,tr._componentsProvider&&function(lr){const or=lr==null?void 0:lr._online.build();return{_offline:lr==null?void 0:lr._offline.build(or),_online:or}}(tr._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(er){this._byteString=er}static fromBase64String(er){try{return new Bytes(ByteString.fromBase64String(er))}catch(rr){throw new FirestoreError(D$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+rr)}}static fromUint8Array(er){return new Bytes(ByteString.fromUint8Array(er))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(er){return this._byteString.isEqual(er._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...er){for(let rr=0;rr<er.length;++rr)if(er[rr].length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(er)}isEqual(er){return this._internalPath.isEqual(er._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(er){this._methodName=er}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(er,rr){if(!isFinite(er)||er<-90||er>90)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+er);if(!isFinite(rr)||rr<-180||rr>180)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+rr);this._lat=er,this._long=rr}get latitude(){return this._lat}get longitude(){return this._long}isEqual(er){return this._lat===er._lat&&this._long===er._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(er){return __PRIVATE_primitiveComparator(this._lat,er._lat)||__PRIVATE_primitiveComparator(this._long,er._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(er){this._values=(er||[]).map(rr=>rr)}toArray(){return this._values.map(er=>er)}isEqual(er){return function(nr,ir){if(nr.length!==ir.length)return!1;for(let ar=0;ar<nr.length;++ar)if(nr[ar]!==ir[ar])return!1;return!0}(this._values,er._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be$1=/^__.*__$/;class ParsedSetData{constructor(er,rr,nr){this.data=er,this.fieldMask=rr,this.fieldTransforms=nr}toMutation(er,rr){return this.fieldMask!==null?new __PRIVATE_PatchMutation(er,this.data,this.fieldMask,rr,this.fieldTransforms):new __PRIVATE_SetMutation(er,this.data,rr,this.fieldTransforms)}}class ParsedUpdateData{constructor(er,rr,nr){this.data=er,this.fieldMask=rr,this.fieldTransforms=nr}toMutation(er,rr){return new __PRIVATE_PatchMutation(er,this.data,this.fieldMask,rr,this.fieldTransforms)}}function __PRIVATE_isWrite(tr){switch(tr){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(er,rr,nr,ir,ar,sr){this.settings=er,this.databaseId=rr,this.serializer=nr,this.ignoreUndefinedProperties=ir,ar===void 0&&this.vu(),this.fieldTransforms=ar||[],this.fieldMask=sr||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(er){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),er),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(er){var rr;const nr=(rr=this.path)===null||rr===void 0?void 0:rr.child(er),ir=this.Fu({path:nr,xu:!1});return ir.Ou(er),ir}Nu(er){var rr;const nr=(rr=this.path)===null||rr===void 0?void 0:rr.child(er),ir=this.Fu({path:nr,xu:!1});return ir.vu(),ir}Lu(er){return this.Fu({path:void 0,xu:!0})}Bu(er){return __PRIVATE_createError(er,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(er){return this.fieldMask.find(rr=>er.isPrefixOf(rr))!==void 0||this.fieldTransforms.find(rr=>er.isPrefixOf(rr.field))!==void 0}vu(){if(this.path)for(let er=0;er<this.path.length;er++)this.Ou(this.path.get(er))}Ou(er){if(er.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be$1.test(er))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(er,rr,nr){this.databaseId=er,this.ignoreUndefinedProperties=rr,this.serializer=nr||__PRIVATE_newSerializer(er)}Qu(er,rr,nr,ir=!1){return new __PRIVATE_ParseContextImpl({Cu:er,methodName:rr,qu:nr,path:FieldPath$1.emptyPath(),xu:!1,ku:ir},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(tr){const er=tr._freezeSettings(),rr=__PRIVATE_newSerializer(tr._databaseId);return new __PRIVATE_UserDataReader(tr._databaseId,!!er.ignoreUndefinedProperties,rr)}function __PRIVATE_parseSetData(tr,er,rr,nr,ir,ar={}){const sr=tr.Qu(ar.merge||ar.mergeFields?2:0,er,rr,ir);__PRIVATE_validatePlainObject("Data must be an object, but it was:",sr,nr);const lr=__PRIVATE_parseObject(nr,sr);let or,cr;if(ar.merge)or=new FieldMask(sr.fieldMask),cr=sr.fieldTransforms;else if(ar.mergeFields){const ur=[];for(const dr of ar.mergeFields){const hr=__PRIVATE_fieldPathFromArgument$1(er,dr,rr);if(!sr.contains(hr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Field '${hr}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(ur,hr)||ur.push(hr)}or=new FieldMask(ur),cr=sr.fieldTransforms.filter(dr=>or.covers(dr.field))}else or=null,cr=sr.fieldTransforms;return new ParsedSetData(new ObjectValue(lr),or,cr)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(er){if(er.Cu!==2)throw er.Cu===1?er.Bu(`${this._methodName}() can only appear at the top level of your update data`):er.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return er.fieldMask.push(er.path),null}isEqual(er){return er instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(tr,er,rr,nr){const ir=tr.Qu(1,er,rr);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ir,nr);const ar=[],sr=ObjectValue.empty();forEach(nr,(or,cr)=>{const ur=__PRIVATE_fieldPathFromDotSeparatedString(er,or,rr);cr=getModularInstance(cr);const dr=ir.Nu(ur);if(cr instanceof __PRIVATE_DeleteFieldValueImpl)ar.push(ur);else{const hr=__PRIVATE_parseData(cr,dr);hr!=null&&(ar.push(ur),sr.set(ur,hr))}});const lr=new FieldMask(ar);return new ParsedUpdateData(sr,lr,ir.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(tr,er,rr,nr,ir,ar){const sr=tr.Qu(1,er,rr),lr=[__PRIVATE_fieldPathFromArgument$1(er,nr,rr)],or=[ir];if(ar.length%2!=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${er}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let hr=0;hr<ar.length;hr+=2)lr.push(__PRIVATE_fieldPathFromArgument$1(er,ar[hr])),or.push(ar[hr+1]);const cr=[],ur=ObjectValue.empty();for(let hr=lr.length-1;hr>=0;--hr)if(!__PRIVATE_fieldMaskContains(cr,lr[hr])){const fr=lr[hr];let mr=or[hr];mr=getModularInstance(mr);const br=sr.Nu(fr);if(mr instanceof __PRIVATE_DeleteFieldValueImpl)cr.push(fr);else{const pr=__PRIVATE_parseData(mr,br);pr!=null&&(cr.push(fr),ur.set(fr,pr))}}const dr=new FieldMask(cr);return new ParsedUpdateData(ur,dr,sr.fieldTransforms)}function __PRIVATE_parseQueryValue(tr,er,rr,nr=!1){return __PRIVATE_parseData(rr,tr.Qu(nr?4:3,er))}function __PRIVATE_parseData(tr,er){if(__PRIVATE_looksLikeJsonObject(tr=getModularInstance(tr)))return __PRIVATE_validatePlainObject("Unsupported field value:",er,tr),__PRIVATE_parseObject(tr,er);if(tr instanceof FieldValue)return function(nr,ir){if(!__PRIVATE_isWrite(ir.Cu))throw ir.Bu(`${nr._methodName}() can only be used with update() and set()`);if(!ir.path)throw ir.Bu(`${nr._methodName}() is not currently supported inside arrays`);const ar=nr._toFieldTransform(ir);ar&&ir.fieldTransforms.push(ar)}(tr,er),null;if(tr===void 0&&er.ignoreUndefinedProperties)return null;if(er.path&&er.fieldMask.push(er.path),tr instanceof Array){if(er.settings.xu&&er.Cu!==4)throw er.Bu("Nested arrays are not supported");return function(nr,ir){const ar=[];let sr=0;for(const lr of nr){let or=__PRIVATE_parseData(lr,ir.Lu(sr));or==null&&(or={nullValue:"NULL_VALUE"}),ar.push(or),sr++}return{arrayValue:{values:ar}}}(tr,er)}return function(nr,ir){if((nr=getModularInstance(nr))===null)return{nullValue:"NULL_VALUE"};if(typeof nr=="number")return toNumber$3(ir.serializer,nr);if(typeof nr=="boolean")return{booleanValue:nr};if(typeof nr=="string")return{stringValue:nr};if(nr instanceof Date){const ar=Timestamp.fromDate(nr);return{timestampValue:toTimestamp(ir.serializer,ar)}}if(nr instanceof Timestamp){const ar=new Timestamp(nr.seconds,1e3*Math.floor(nr.nanoseconds/1e3));return{timestampValue:toTimestamp(ir.serializer,ar)}}if(nr instanceof GeoPoint)return{geoPointValue:{latitude:nr.latitude,longitude:nr.longitude}};if(nr instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(ir.serializer,nr._byteString)};if(nr instanceof DocumentReference){const ar=ir.databaseId,sr=nr.firestore._databaseId;if(!sr.isEqual(ar))throw ir.Bu(`Document reference is for database ${sr.projectId}/${sr.database} but should be for database ${ar.projectId}/${ar.database}`);return{referenceValue:__PRIVATE_toResourceName(nr.firestore._databaseId||ir.databaseId,nr._key.path)}}if(nr instanceof VectorValue)return function(sr,lr){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:sr.toArray().map(or=>{if(typeof or!="number")throw lr.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(lr.serializer,or)})}}}}}}(nr,ir);throw ir.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(nr)}`)}(tr,er)}function __PRIVATE_parseObject(tr,er){const rr={};return isEmpty(tr)?er.path&&er.path.length>0&&er.fieldMask.push(er.path):forEach(tr,(nr,ir)=>{const ar=__PRIVATE_parseData(ir,er.Mu(nr));ar!=null&&(rr[nr]=ar)}),{mapValue:{fields:rr}}}function __PRIVATE_looksLikeJsonObject(tr){return!(typeof tr!="object"||tr===null||tr instanceof Array||tr instanceof Date||tr instanceof Timestamp||tr instanceof GeoPoint||tr instanceof Bytes||tr instanceof DocumentReference||tr instanceof FieldValue||tr instanceof VectorValue)}function __PRIVATE_validatePlainObject(tr,er,rr){if(!__PRIVATE_looksLikeJsonObject(rr)||!function(ir){return typeof ir=="object"&&ir!==null&&(Object.getPrototypeOf(ir)===Object.prototype||Object.getPrototypeOf(ir)===null)}(rr)){const nr=__PRIVATE_valueDescription(rr);throw nr==="an object"?er.Bu(tr+" a custom object"):er.Bu(tr+" "+nr)}}function __PRIVATE_fieldPathFromArgument$1(tr,er,rr){if((er=getModularInstance(er))instanceof FieldPath)return er._internalPath;if(typeof er=="string")return __PRIVATE_fieldPathFromDotSeparatedString(tr,er);throw __PRIVATE_createError("Field path arguments must be of type string or ",tr,!1,void 0,rr)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(tr,er,rr){if(er.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${er}). Paths must not contain '~', '*', '/', '[', or ']'`,tr,!1,void 0,rr);try{return new FieldPath(...er.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${er}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,tr,!1,void 0,rr)}}function __PRIVATE_createError(tr,er,rr,nr,ir){const ar=nr&&!nr.isEmpty(),sr=ir!==void 0;let lr=`Function ${er}() called with invalid data`;rr&&(lr+=" (via `toFirestore()`)"),lr+=". ";let or="";return(ar||sr)&&(or+=" (found",ar&&(or+=` in field ${nr}`),sr&&(or+=` in document ${ir}`),or+=")"),new FirestoreError(D$1.INVALID_ARGUMENT,lr+tr+or)}function __PRIVATE_fieldMaskContains(tr,er){return tr.some(rr=>rr.isEqual(er))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(er,rr,nr,ir,ar){this._firestore=er,this._userDataWriter=rr,this._key=nr,this._document=ir,this._converter=ar}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const er=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(er)}return this._userDataWriter.convertValue(this._document.data.value)}}get(er){if(this._document){const rr=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",er));if(rr!==null)return this._userDataWriter.convertValue(rr)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(tr,er){return typeof er=="string"?__PRIVATE_fieldPathFromDotSeparatedString(tr,er):er instanceof FieldPath?er._internalPath:er._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(tr){if(tr.limitType==="L"&&tr.explicitOrderBy.length===0)throw new FirestoreError(D$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(tr,er,...rr){let nr=[];er instanceof AppliableConstraint&&nr.push(er),nr=nr.concat(rr),function(ar){const sr=ar.filter(or=>or instanceof QueryCompositeFilterConstraint).length,lr=ar.filter(or=>or instanceof QueryFieldFilterConstraint).length;if(sr>1||sr>0&&lr>0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(nr);for(const ir of nr)tr=ir._apply(tr);return tr}class QueryFieldFilterConstraint extends QueryConstraint{constructor(er,rr,nr){super(),this._field=er,this._op=rr,this._value=nr,this.type="where"}static _create(er,rr,nr){return new QueryFieldFilterConstraint(er,rr,nr)}_apply(er){const rr=this._parse(er);return __PRIVATE_validateNewFieldFilter(er._query,rr),new Query(er.firestore,er.converter,__PRIVATE_queryWithAddedFilter(er._query,rr))}_parse(er){const rr=__PRIVATE_newUserDataReader(er.firestore);return function(ar,sr,lr,or,cr,ur,dr){let hr;if(cr.isKeyField()){if(ur==="array-contains"||ur==="array-contains-any")throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ur}' queries on documentId().`);if(ur==="in"||ur==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(dr,ur);const fr=[];for(const mr of dr)fr.push(__PRIVATE_parseDocumentIdValue(or,ar,mr));hr={arrayValue:{values:fr}}}else hr=__PRIVATE_parseDocumentIdValue(or,ar,dr)}else ur!=="in"&&ur!=="not-in"&&ur!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(dr,ur),hr=__PRIVATE_parseQueryValue(lr,sr,dr,ur==="in"||ur==="not-in");return FieldFilter.create(cr,ur,hr)}(er._query,"where",rr,er.firestore._databaseId,this._field,this._op,this._value)}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(er,rr){super(),this.type=er,this._queryConstraints=rr}static _create(er,rr){return new QueryCompositeFilterConstraint(er,rr)}_parse(er){const rr=this._queryConstraints.map(nr=>nr._parse(er)).filter(nr=>nr.getFilters().length>0);return rr.length===1?rr[0]:CompositeFilter.create(rr,this._getOperator())}_apply(er){const rr=this._parse(er);return rr.getFilters().length===0?er:(function(ir,ar){let sr=ir;const lr=ar.getFlattenedFilters();for(const or of lr)__PRIVATE_validateNewFieldFilter(sr,or),sr=__PRIVATE_queryWithAddedFilter(sr,or)}(er._query,rr),new Query(er.firestore,er.converter,__PRIVATE_queryWithAddedFilter(er._query,rr)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(er,rr){super(),this._field=er,this._direction=rr,this.type="orderBy"}static _create(er,rr){return new QueryOrderByConstraint(er,rr)}_apply(er){const rr=function(ir,ar,sr){if(ir.startAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(ir.endAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(ar,sr)}(er._query,this._field,this._direction);return new Query(er.firestore,er.converter,function(ir,ar){const sr=ir.explicitOrderBy.concat([ar]);return new __PRIVATE_QueryImpl(ir.path,ir.collectionGroup,sr,ir.filters.slice(),ir.limit,ir.limitType,ir.startAt,ir.endAt)}(er._query,rr))}}function orderBy(tr,er="asc"){const rr=er,nr=__PRIVATE_fieldPathFromArgument("orderBy",tr);return QueryOrderByConstraint._create(nr,rr)}class QueryLimitConstraint extends QueryConstraint{constructor(er,rr,nr){super(),this.type=er,this._limit=rr,this._limitType=nr}static _create(er,rr,nr){return new QueryLimitConstraint(er,rr,nr)}_apply(er){return new Query(er.firestore,er.converter,__PRIVATE_queryWithLimit(er._query,this._limit,this._limitType))}}function limit(tr){return __PRIVATE_validatePositiveNumber("limit",tr),QueryLimitConstraint._create("limit",tr,"F")}function __PRIVATE_parseDocumentIdValue(tr,er,rr){if(typeof(rr=getModularInstance(rr))=="string"){if(rr==="")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(er)&&rr.indexOf("/")!==-1)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${rr}' contains a '/' character.`);const nr=er.path.child(ResourcePath.fromString(rr));if(!DocumentKey.isDocumentKey(nr))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${nr}' is not because it has an odd number of segments (${nr.length}).`);return __PRIVATE_refValue(tr,new DocumentKey(nr))}if(rr instanceof DocumentReference)return __PRIVATE_refValue(tr,rr._key);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(rr)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(tr,er){if(!Array.isArray(tr)||tr.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${er.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(tr,er){const rr=function(ir,ar){for(const sr of ir)for(const lr of sr.getFlattenedFilters())if(ar.indexOf(lr.op)>=0)return lr.op;return null}(tr.filters,function(ir){switch(ir){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(er.op));if(rr!==null)throw rr===er.op?new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${er.op.toString()}' filter.`):new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${er.op.toString()}' filters with '${rr.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(er,rr="none"){switch(__PRIVATE_typeOrder(er)){case 0:return null;case 1:return er.booleanValue;case 2:return __PRIVATE_normalizeNumber(er.integerValue||er.doubleValue);case 3:return this.convertTimestamp(er.timestampValue);case 4:return this.convertServerTimestamp(er,rr);case 5:return er.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(er.bytesValue));case 7:return this.convertReference(er.referenceValue);case 8:return this.convertGeoPoint(er.geoPointValue);case 9:return this.convertArray(er.arrayValue,rr);case 11:return this.convertObject(er.mapValue,rr);case 10:return this.convertVectorValue(er.mapValue);default:throw fail()}}convertObject(er,rr){return this.convertObjectMap(er.fields,rr)}convertObjectMap(er,rr="none"){const nr={};return forEach(er,(ir,ar)=>{nr[ir]=this.convertValue(ar,rr)}),nr}convertVectorValue(er){var rr,nr,ir;const ar=(ir=(nr=(rr=er.fields)===null||rr===void 0?void 0:rr.value.arrayValue)===null||nr===void 0?void 0:nr.values)===null||ir===void 0?void 0:ir.map(sr=>__PRIVATE_normalizeNumber(sr.doubleValue));return new VectorValue(ar)}convertGeoPoint(er){return new GeoPoint(__PRIVATE_normalizeNumber(er.latitude),__PRIVATE_normalizeNumber(er.longitude))}convertArray(er,rr){return(er.values||[]).map(nr=>this.convertValue(nr,rr))}convertServerTimestamp(er,rr){switch(rr){case"previous":const nr=__PRIVATE_getPreviousValue(er);return nr==null?null:this.convertValue(nr,rr);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(er));default:return null}}convertTimestamp(er){const rr=__PRIVATE_normalizeTimestamp(er);return new Timestamp(rr.seconds,rr.nanos)}convertDocumentKey(er,rr){const nr=ResourcePath.fromString(er);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(nr));const ir=new DatabaseId(nr.get(1),nr.get(3)),ar=new DocumentKey(nr.popFirst(5));return ir.isEqual(rr)||__PRIVATE_logError(`Document ${ar} contains a document reference within a different database (${ir.projectId}/${ir.database}) which is not supported. It will be treated as a reference in the current database (${rr.projectId}/${rr.database}) instead.`),ar}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(tr,er,rr){let nr;return nr=tr?rr&&(rr.merge||rr.mergeFields)?tr.toFirestore(er,rr):tr.toFirestore(er):er,nr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(er,rr){this.hasPendingWrites=er,this.fromCache=rr}isEqual(er){return this.hasPendingWrites===er.hasPendingWrites&&this.fromCache===er.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(er,rr,nr,ir,ar,sr){super(er,rr,nr,ir,sr),this._firestore=er,this._firestoreImpl=er,this.metadata=ar}exists(){return super.exists()}data(er={}){if(this._document){if(this._converter){const rr=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(rr,er)}return this._userDataWriter.convertValue(this._document.data.value,er.serverTimestamps)}}get(er,rr={}){if(this._document){const nr=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",er));if(nr!==null)return this._userDataWriter.convertValue(nr,rr.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(er={}){return super.data(er)}}class QuerySnapshot{constructor(er,rr,nr,ir){this._firestore=er,this._userDataWriter=rr,this._snapshot=ir,this.metadata=new SnapshotMetadata(ir.hasPendingWrites,ir.fromCache),this.query=nr}get docs(){const er=[];return this.forEach(rr=>er.push(rr)),er}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(er,rr){this._snapshot.docs.forEach(nr=>{er.call(rr,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,nr.key,nr,new SnapshotMetadata(this._snapshot.mutatedKeys.has(nr.key),this._snapshot.fromCache),this.query.converter))})}docChanges(er={}){const rr=!!er.includeMetadataChanges;if(rr&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===rr||(this._cachedChanges=function(ir,ar){if(ir._snapshot.oldDocs.isEmpty()){let sr=0;return ir._snapshot.docChanges.map(lr=>{const or=new QueryDocumentSnapshot(ir._firestore,ir._userDataWriter,lr.doc.key,lr.doc,new SnapshotMetadata(ir._snapshot.mutatedKeys.has(lr.doc.key),ir._snapshot.fromCache),ir.query.converter);return lr.doc,{type:"added",doc:or,oldIndex:-1,newIndex:sr++}})}{let sr=ir._snapshot.oldDocs;return ir._snapshot.docChanges.filter(lr=>ar||lr.type!==3).map(lr=>{const or=new QueryDocumentSnapshot(ir._firestore,ir._userDataWriter,lr.doc.key,lr.doc,new SnapshotMetadata(ir._snapshot.mutatedKeys.has(lr.doc.key),ir._snapshot.fromCache),ir.query.converter);let cr=-1,ur=-1;return lr.type!==0&&(cr=sr.indexOf(lr.doc.key),sr=sr.delete(lr.doc.key)),lr.type!==1&&(sr=sr.add(lr.doc),ur=sr.indexOf(lr.doc.key)),{type:__PRIVATE_resultChangeType(lr.type),doc:or,oldIndex:cr,newIndex:ur}})}}(this,rr),this._cachedChangesIncludeMetadataChanges=rr),this._cachedChanges}}function __PRIVATE_resultChangeType(tr){switch(tr){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(er){super(),this.firestore=er}convertBytes(er){return new Bytes(er)}convertReference(er){const rr=this.convertDocumentKey(er,this.firestore._databaseId);return new DocumentReference(this.firestore,null,rr)}}function getDocs(tr){tr=__PRIVATE_cast(tr,Query);const er=__PRIVATE_cast(tr.firestore,Firestore),rr=ensureFirestoreConfigured(er),nr=new __PRIVATE_ExpUserDataWriter(er);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(tr._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(rr,tr._query).then(ir=>new QuerySnapshot(er,nr,tr,ir))}function setDoc(tr,er,rr){tr=__PRIVATE_cast(tr,DocumentReference);const nr=__PRIVATE_cast(tr.firestore,Firestore),ir=__PRIVATE_applyFirestoreDataConverter(tr.converter,er,rr);return executeWrite(nr,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(nr),"setDoc",tr._key,ir,tr.converter!==null,rr).toMutation(tr._key,Precondition.none())])}function updateDoc(tr,er,rr,...nr){tr=__PRIVATE_cast(tr,DocumentReference);const ir=__PRIVATE_cast(tr.firestore,Firestore),ar=__PRIVATE_newUserDataReader(ir);let sr;return sr=typeof(er=getModularInstance(er))=="string"||er instanceof FieldPath?__PRIVATE_parseUpdateVarargs(ar,"updateDoc",tr._key,er,rr,nr):__PRIVATE_parseUpdateData(ar,"updateDoc",tr._key,er),executeWrite(ir,[sr.toMutation(tr._key,Precondition.exists(!0))])}function deleteDoc(tr){return executeWrite(__PRIVATE_cast(tr.firestore,Firestore),[new __PRIVATE_DeleteMutation(tr._key,Precondition.none())])}function addDoc(tr,er){const rr=__PRIVATE_cast(tr.firestore,Firestore),nr=doc(tr),ir=__PRIVATE_applyFirestoreDataConverter(tr.converter,er);return executeWrite(rr,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(tr.firestore),"addDoc",nr._key,ir,tr.converter!==null,{}).toMutation(nr._key,Precondition.exists(!1))]).then(()=>nr)}function onSnapshot(tr,...er){var rr,nr,ir;tr=getModularInstance(tr);let ar={includeMetadataChanges:!1,source:"default"},sr=0;typeof er[sr]!="object"||__PRIVATE_isPartialObserver(er[sr])||(ar=er[sr],sr++);const lr={includeMetadataChanges:ar.includeMetadataChanges,source:ar.source};if(__PRIVATE_isPartialObserver(er[sr])){const dr=er[sr];er[sr]=(rr=dr.next)===null||rr===void 0?void 0:rr.bind(dr),er[sr+1]=(nr=dr.error)===null||nr===void 0?void 0:nr.bind(dr),er[sr+2]=(ir=dr.complete)===null||ir===void 0?void 0:ir.bind(dr)}let or,cr,ur;if(tr instanceof DocumentReference)cr=__PRIVATE_cast(tr.firestore,Firestore),ur=__PRIVATE_newQueryForPath(tr._key.path),or={next:dr=>{er[sr]&&er[sr](__PRIVATE_convertToDocSnapshot(cr,tr,dr))},error:er[sr+1],complete:er[sr+2]};else{const dr=__PRIVATE_cast(tr,Query);cr=__PRIVATE_cast(dr.firestore,Firestore),ur=dr._query;const hr=new __PRIVATE_ExpUserDataWriter(cr);or={next:fr=>{er[sr]&&er[sr](new QuerySnapshot(cr,hr,dr,fr))},error:er[sr+1],complete:er[sr+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(tr._query)}return function(hr,fr,mr,br){const pr=new __PRIVATE_AsyncObserver(br),gr=new __PRIVATE_QueryListener(fr,pr,mr);return hr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(hr),gr)),()=>{pr.Za(),hr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(hr),gr))}}(ensureFirestoreConfigured(cr),ur,lr,or)}function executeWrite(tr,er){return function(nr,ir){const ar=new __PRIVATE_Deferred;return nr.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(nr),ir,ar)),ar.promise}(ensureFirestoreConfigured(tr),er)}function __PRIVATE_convertToDocSnapshot(tr,er,rr){const nr=rr.docs.get(er._key),ir=new __PRIVATE_ExpUserDataWriter(tr);return new DocumentSnapshot(tr,ir,er._key,nr,new SnapshotMetadata(rr.hasPendingWrites,rr.fromCache),er.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WriteBatch{constructor(er,rr){this._firestore=er,this._commitHandler=rr,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(er)}set(er,rr,nr){this._verifyNotCommitted();const ir=__PRIVATE_validateReference(er,this._firestore),ar=__PRIVATE_applyFirestoreDataConverter(ir.converter,rr,nr),sr=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",ir._key,ar,ir.converter!==null,nr);return this._mutations.push(sr.toMutation(ir._key,Precondition.none())),this}update(er,rr,nr,...ir){this._verifyNotCommitted();const ar=__PRIVATE_validateReference(er,this._firestore);let sr;return sr=typeof(rr=getModularInstance(rr))=="string"||rr instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",ar._key,rr,nr,ir):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",ar._key,rr),this._mutations.push(sr.toMutation(ar._key,Precondition.exists(!0))),this}delete(er){this._verifyNotCommitted();const rr=__PRIVATE_validateReference(er,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(rr._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(D$1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference(tr,er){if((tr=getModularInstance(tr)).firestore!==er)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return tr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeBatch(tr){return ensureFirestoreConfigured(tr=__PRIVATE_cast(tr,Firestore)),new WriteBatch(tr,er=>executeWrite(tr,er))}(function(er,rr=!0){(function(ir){S$1=ir})(SDK_VERSION),_registerComponent(new Component("firestore",(nr,{instanceIdentifier:ir,options:ar})=>{const sr=nr.getProvider("app").getImmediate(),lr=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(nr.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(nr.getProvider("app-check-internal")),function(cr,ur){if(!Object.prototype.hasOwnProperty.apply(cr.options,["projectId"]))throw new FirestoreError(D$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(cr.options.projectId,ur)}(sr,ir),sr);return ar=Object.assign({useFetchStreams:rr},ar),lr._setSettings(ar),lr},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$1,"4.7.3",er),registerVersion(w$1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(er,rr,nr=0){super(prependCode(er),`Firebase Storage: ${rr} (${prependCode(er)})`),this.status_=nr,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(er){this.status_=er}_codeEquals(er){return prependCode(er)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(er){this.customData.serverResponse=er,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(tr){tr.UNKNOWN="unknown",tr.OBJECT_NOT_FOUND="object-not-found",tr.BUCKET_NOT_FOUND="bucket-not-found",tr.PROJECT_NOT_FOUND="project-not-found",tr.QUOTA_EXCEEDED="quota-exceeded",tr.UNAUTHENTICATED="unauthenticated",tr.UNAUTHORIZED="unauthorized",tr.UNAUTHORIZED_APP="unauthorized-app",tr.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",tr.INVALID_CHECKSUM="invalid-checksum",tr.CANCELED="canceled",tr.INVALID_EVENT_NAME="invalid-event-name",tr.INVALID_URL="invalid-url",tr.INVALID_DEFAULT_BUCKET="invalid-default-bucket",tr.NO_DEFAULT_BUCKET="no-default-bucket",tr.CANNOT_SLICE_BLOB="cannot-slice-blob",tr.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",tr.NO_DOWNLOAD_URL="no-download-url",tr.INVALID_ARGUMENT="invalid-argument",tr.INVALID_ARGUMENT_COUNT="invalid-argument-count",tr.APP_DELETED="app-deleted",tr.INVALID_ROOT_OPERATION="invalid-root-operation",tr.INVALID_FORMAT="invalid-format",tr.INTERNAL_ERROR="internal-error",tr.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(tr){return"storage/"+tr}function unknown(){const tr="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,tr)}function objectNotFound(tr){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+tr+"' does not exist.")}function quotaExceeded(tr){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+tr+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const tr="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,tr)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(tr){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+tr+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(tr){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+tr+"'.")}function invalidDefaultBucket(tr){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+tr+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(tr){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${tr} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(tr){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,tr)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(tr){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+tr+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(tr,er){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+tr+"': "+er)}function internalError(tr){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+tr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(er,rr){this.bucket=er,this.path_=rr}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const er=encodeURIComponent;return"/b/"+er(this.bucket)+"/o/"+er(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(er,rr){let nr;try{nr=Location.makeFromUrl(er,rr)}catch{return new Location(er,"")}if(nr.path==="")return nr;throw invalidDefaultBucket(er)}static makeFromUrl(er,rr){let nr=null;const ir="([A-Za-z0-9.\\-_]+)";function ar(_r){_r.path.charAt(_r.path.length-1)==="/"&&(_r.path_=_r.path_.slice(0,-1))}const sr="(/(.*))?$",lr=new RegExp("^gs://"+ir+sr,"i"),or={bucket:1,path:3};function cr(_r){_r.path_=decodeURIComponent(_r.path)}const ur="v[A-Za-z0-9_]+",dr=rr.replace(/[.]/g,"\\."),hr="(/([^?#]*).*)?$",fr=new RegExp(`^https?://${dr}/${ur}/b/${ir}/o${hr}`,"i"),mr={bucket:1,path:3},br=rr===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":rr,pr="([^?#]*)",gr=new RegExp(`^https?://${br}/${ir}/${pr}`,"i"),vr=[{regex:lr,indices:or,postModify:ar},{regex:fr,indices:mr,postModify:cr},{regex:gr,indices:{bucket:1,path:2},postModify:cr}];for(let _r=0;_r<vr.length;_r++){const xr=vr[_r],Rr=xr.regex.exec(er);if(Rr){const Cr=Rr[xr.indices.bucket];let Tr=Rr[xr.indices.path];Tr||(Tr=""),nr=new Location(Cr,Tr),xr.postModify(nr);break}}if(nr==null)throw invalidUrl(er);return nr}}class FailRequest{constructor(er){this.promise_=Promise.reject(er)}getPromise(){return this.promise_}cancel(er=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(tr,er,rr){let nr=1,ir=null,ar=null,sr=!1,lr=0;function or(){return lr===2}let cr=!1;function ur(...pr){cr||(cr=!0,er.apply(null,pr))}function dr(pr){ir=setTimeout(()=>{ir=null,tr(fr,or())},pr)}function hr(){ar&&clearTimeout(ar)}function fr(pr,...gr){if(cr){hr();return}if(pr){hr(),ur.call(null,pr,...gr);return}if(or()||sr){hr(),ur.call(null,pr,...gr);return}nr<64&&(nr*=2);let vr;lr===1?(lr=2,vr=0):vr=(nr+Math.random())*1e3,dr(vr)}let mr=!1;function br(pr){mr||(mr=!0,hr(),!cr&&(ir!==null?(pr||(lr=2),clearTimeout(ir),dr(0)):pr||(lr=1)))}return dr(0),ar=setTimeout(()=>{sr=!0,br(!0)},rr),br}function stop(tr){tr(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(tr){return tr!==void 0}function isNonArrayObject(tr){return typeof tr=="object"&&!Array.isArray(tr)}function isString$2(tr){return typeof tr=="string"||tr instanceof String}function isNativeBlob(tr){return isNativeBlobDefined()&&tr instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(tr,er,rr,nr){if(nr<er)throw invalidArgument$1(`Invalid value for '${tr}'. Expected ${er} or greater.`);if(nr>rr)throw invalidArgument$1(`Invalid value for '${tr}'. Expected ${rr} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(tr,er,rr){let nr=er;return rr==null&&(nr=`https://${er}`),`${rr}://${nr}/v0${tr}`}function makeQueryString(tr){const er=encodeURIComponent;let rr="?";for(const nr in tr)if(tr.hasOwnProperty(nr)){const ir=er(nr)+"="+er(tr[nr]);rr=rr+ir+"&"}return rr=rr.slice(0,-1),rr}var ErrorCode;(function(tr){tr[tr.NO_ERROR=0]="NO_ERROR",tr[tr.NETWORK_ERROR=1]="NETWORK_ERROR",tr[tr.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(tr,er){const rr=tr>=500&&tr<600,ir=[408,429].indexOf(tr)!==-1,ar=er.indexOf(tr)!==-1;return rr||ir||ar}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(er,rr,nr,ir,ar,sr,lr,or,cr,ur,dr,hr=!0){this.url_=er,this.method_=rr,this.headers_=nr,this.body_=ir,this.successCodes_=ar,this.additionalRetryCodes_=sr,this.callback_=lr,this.errorCallback_=or,this.timeout_=cr,this.progressCallback_=ur,this.connectionFactory_=dr,this.retry=hr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,mr)=>{this.resolve_=fr,this.reject_=mr,this.start_()})}start_(){const er=(nr,ir)=>{if(ir){nr(!1,new RequestEndStatus(!1,null,!0));return}const ar=this.connectionFactory_();this.pendingConnection_=ar;const sr=lr=>{const or=lr.loaded,cr=lr.lengthComputable?lr.total:-1;this.progressCallback_!==null&&this.progressCallback_(or,cr)};this.progressCallback_!==null&&ar.addUploadProgressListener(sr),ar.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&ar.removeUploadProgressListener(sr),this.pendingConnection_=null;const lr=ar.getErrorCode()===ErrorCode.NO_ERROR,or=ar.getStatus();if(!lr||isRetryStatusCode(or,this.additionalRetryCodes_)&&this.retry){const ur=ar.getErrorCode()===ErrorCode.ABORT;nr(!1,new RequestEndStatus(!1,null,ur));return}const cr=this.successCodes_.indexOf(or)!==-1;nr(!0,new RequestEndStatus(cr,ar))})},rr=(nr,ir)=>{const ar=this.resolve_,sr=this.reject_,lr=ir.connection;if(ir.wasSuccessCode)try{const or=this.callback_(lr,lr.getResponse());isJustDef(or)?ar(or):ar()}catch(or){sr(or)}else if(lr!==null){const or=unknown();or.serverResponse=lr.getErrorText(),this.errorCallback_?sr(this.errorCallback_(lr,or)):sr(or)}else if(ir.canceled){const or=this.appDelete_?appDeleted():canceled();sr(or)}else{const or=retryLimitExceeded();sr(or)}};this.canceled_?rr(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(er,rr,this.timeout_)}getPromise(){return this.promise_}cancel(er){this.canceled_=!0,this.appDelete_=er||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(er,rr,nr){this.wasSuccessCode=er,this.connection=rr,this.canceled=!!nr}}function addAuthHeader_(tr,er){er!==null&&er.length>0&&(tr.Authorization="Firebase "+er)}function addVersionHeader_(tr,er){tr["X-Firebase-Storage-Version"]="webjs/"+(er??"AppManager")}function addGmpidHeader_(tr,er){er&&(tr["X-Firebase-GMPID"]=er)}function addAppCheckHeader_(tr,er){er!==null&&(tr["X-Firebase-AppCheck"]=er)}function makeRequest(tr,er,rr,nr,ir,ar,sr=!0){const lr=makeQueryString(tr.urlParams),or=tr.url+lr,cr=Object.assign({},tr.headers);return addGmpidHeader_(cr,er),addAuthHeader_(cr,rr),addVersionHeader_(cr,ar),addAppCheckHeader_(cr,nr),new NetworkRequest(or,tr.method,cr,tr.body,tr.successCodes,tr.additionalRetryCodes,tr.handler,tr.errorHandler,tr.timeout,tr.progressCallback,ir,sr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...tr){const er=getBlobBuilder();if(er!==void 0){const rr=new er;for(let nr=0;nr<tr.length;nr++)rr.append(tr[nr]);return rr.getBlob()}else{if(isNativeBlobDefined())return new Blob(tr);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(tr,er,rr){return tr.webkitSlice?tr.webkitSlice(er,rr):tr.mozSlice?tr.mozSlice(er,rr):tr.slice?tr.slice(er,rr):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(tr){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(tr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(er,rr){this.data=er,this.contentType=rr||null}}function dataFromString(tr,er){switch(tr){case StringFormat.RAW:return new StringData(utf8Bytes_(er));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(tr,er));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(er),dataURLContentType_(er))}throw unknown()}function utf8Bytes_(tr){const er=[];for(let rr=0;rr<tr.length;rr++){let nr=tr.charCodeAt(rr);if(nr<=127)er.push(nr);else if(nr<=2047)er.push(192|nr>>6,128|nr&63);else if((nr&64512)===55296)if(!(rr<tr.length-1&&(tr.charCodeAt(rr+1)&64512)===56320))er.push(239,191,189);else{const ar=nr,sr=tr.charCodeAt(++rr);nr=65536|(ar&1023)<<10|sr&1023,er.push(240|nr>>18,128|nr>>12&63,128|nr>>6&63,128|nr&63)}else(nr&64512)===56320?er.push(239,191,189):er.push(224|nr>>12,128|nr>>6&63,128|nr&63)}return new Uint8Array(er)}function percentEncodedBytes_(tr){let er;try{er=decodeURIComponent(tr)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(er)}function base64Bytes_(tr,er){switch(tr){case StringFormat.BASE64:{const ir=er.indexOf("-")!==-1,ar=er.indexOf("_")!==-1;if(ir||ar)throw invalidFormat(tr,"Invalid character '"+(ir?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const ir=er.indexOf("+")!==-1,ar=er.indexOf("/")!==-1;if(ir||ar)throw invalidFormat(tr,"Invalid character '"+(ir?"+":"/")+"' found: is it base64 encoded?");er=er.replace(/-/g,"+").replace(/_/g,"/");break}}let rr;try{rr=decodeBase64(er)}catch(ir){throw ir.message.includes("polyfill")?ir:invalidFormat(tr,"Invalid character found")}const nr=new Uint8Array(rr.length);for(let ir=0;ir<rr.length;ir++)nr[ir]=rr.charCodeAt(ir);return nr}class DataURLParts{constructor(er){this.base64=!1,this.contentType=null;const rr=er.match(/^data:([^,]+)?,/);if(rr===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const nr=rr[1]||null;nr!=null&&(this.base64=endsWith(nr,";base64"),this.contentType=this.base64?nr.substring(0,nr.length-7):nr),this.rest=er.substring(er.indexOf(",")+1)}}function dataURLBytes_(tr){const er=new DataURLParts(tr);return er.base64?base64Bytes_(StringFormat.BASE64,er.rest):percentEncodedBytes_(er.rest)}function dataURLContentType_(tr){return new DataURLParts(tr).contentType}function endsWith(tr,er){return tr.length>=er.length?tr.substring(tr.length-er.length)===er:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(er,rr){let nr=0,ir="";isNativeBlob(er)?(this.data_=er,nr=er.size,ir=er.type):er instanceof ArrayBuffer?(rr?this.data_=new Uint8Array(er):(this.data_=new Uint8Array(er.byteLength),this.data_.set(new Uint8Array(er))),nr=this.data_.length):er instanceof Uint8Array&&(rr?this.data_=er:(this.data_=new Uint8Array(er.length),this.data_.set(er)),nr=er.length),this.size_=nr,this.type_=ir}size(){return this.size_}type(){return this.type_}slice(er,rr){if(isNativeBlob(this.data_)){const nr=this.data_,ir=sliceBlob(nr,er,rr);return ir===null?null:new FbsBlob(ir)}else{const nr=new Uint8Array(this.data_.buffer,er,rr-er);return new FbsBlob(nr,!0)}}static getBlob(...er){if(isNativeBlobDefined()){const rr=er.map(nr=>nr instanceof FbsBlob?nr.data_:nr);return new FbsBlob(getBlob$1.apply(null,rr))}else{const rr=er.map(sr=>isString$2(sr)?dataFromString(StringFormat.RAW,sr).data:sr.data_);let nr=0;rr.forEach(sr=>{nr+=sr.byteLength});const ir=new Uint8Array(nr);let ar=0;return rr.forEach(sr=>{for(let lr=0;lr<sr.length;lr++)ir[ar++]=sr[lr]}),new FbsBlob(ir,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(tr){let er;try{er=JSON.parse(tr)}catch{return null}return isNonArrayObject(er)?er:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(tr){if(tr.length===0)return null;const er=tr.lastIndexOf("/");return er===-1?"":tr.slice(0,er)}function child(tr,er){const rr=er.split("/").filter(nr=>nr.length>0).join("/");return tr.length===0?rr:tr+"/"+rr}function lastComponent(tr){const er=tr.lastIndexOf("/",tr.length-2);return er===-1?tr:tr.slice(er+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(tr,er){return er}class Mapping{constructor(er,rr,nr,ir){this.server=er,this.local=rr||er,this.writable=!!nr,this.xform=ir||noXform_}}let mappings_=null;function xformPath(tr){return!isString$2(tr)||tr.length<2?tr:lastComponent(tr)}function getMappings(){if(mappings_)return mappings_;const tr=[];tr.push(new Mapping("bucket")),tr.push(new Mapping("generation")),tr.push(new Mapping("metageneration")),tr.push(new Mapping("name","fullPath",!0));function er(ar,sr){return xformPath(sr)}const rr=new Mapping("name");rr.xform=er,tr.push(rr);function nr(ar,sr){return sr!==void 0?Number(sr):sr}const ir=new Mapping("size");return ir.xform=nr,tr.push(ir),tr.push(new Mapping("timeCreated")),tr.push(new Mapping("updated")),tr.push(new Mapping("md5Hash",null,!0)),tr.push(new Mapping("cacheControl",null,!0)),tr.push(new Mapping("contentDisposition",null,!0)),tr.push(new Mapping("contentEncoding",null,!0)),tr.push(new Mapping("contentLanguage",null,!0)),tr.push(new Mapping("contentType",null,!0)),tr.push(new Mapping("metadata","customMetadata",!0)),mappings_=tr,mappings_}function addRef(tr,er){function rr(){const nr=tr.bucket,ir=tr.fullPath,ar=new Location(nr,ir);return er._makeStorageReference(ar)}Object.defineProperty(tr,"ref",{get:rr})}function fromResource(tr,er,rr){const nr={};nr.type="file";const ir=rr.length;for(let ar=0;ar<ir;ar++){const sr=rr[ar];nr[sr.local]=sr.xform(nr,er[sr.server])}return addRef(nr,tr),nr}function fromResourceString(tr,er,rr){const nr=jsonObjectOrNull(er);return nr===null?null:fromResource(tr,nr,rr)}function downloadUrlFromResourceString(tr,er,rr,nr){const ir=jsonObjectOrNull(er);if(ir===null||!isString$2(ir.downloadTokens))return null;const ar=ir.downloadTokens;if(ar.length===0)return null;const sr=encodeURIComponent;return ar.split(",").map(cr=>{const ur=tr.bucket,dr=tr.fullPath,hr="/b/"+sr(ur)+"/o/"+sr(dr),fr=makeUrl(hr,rr,nr),mr=makeQueryString({alt:"media",token:cr});return fr+mr})[0]}function toResourceString(tr,er){const rr={},nr=er.length;for(let ir=0;ir<nr;ir++){const ar=er[ir];ar.writable&&(rr[ar.server]=tr[ar.local])}return JSON.stringify(rr)}class RequestInfo{constructor(er,rr,nr,ir){this.url=er,this.method=rr,this.handler=nr,this.timeout=ir,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(tr){if(!tr)throw unknown()}function metadataHandler(tr,er){function rr(nr,ir){const ar=fromResourceString(tr,ir,er);return handlerCheck(ar!==null),ar}return rr}function downloadUrlHandler(tr,er){function rr(nr,ir){const ar=fromResourceString(tr,ir,er);return handlerCheck(ar!==null),downloadUrlFromResourceString(ar,ir,tr.host,tr._protocol)}return rr}function sharedErrorHandler(tr){function er(rr,nr){let ir;return rr.getStatus()===401?rr.getErrorText().includes("Firebase App Check token is invalid")?ir=unauthorizedApp():ir=unauthenticated():rr.getStatus()===402?ir=quotaExceeded(tr.bucket):rr.getStatus()===403?ir=unauthorized(tr.path):ir=nr,ir.status=rr.getStatus(),ir.serverResponse=nr.serverResponse,ir}return er}function objectErrorHandler(tr){const er=sharedErrorHandler(tr);function rr(nr,ir){let ar=er(nr,ir);return nr.getStatus()===404&&(ar=objectNotFound(tr.path)),ar.serverResponse=ir.serverResponse,ar}return rr}function getDownloadUrl(tr,er,rr){const nr=er.fullServerUrl(),ir=makeUrl(nr,tr.host,tr._protocol),ar="GET",sr=tr.maxOperationRetryTime,lr=new RequestInfo(ir,ar,downloadUrlHandler(tr,rr),sr);return lr.errorHandler=objectErrorHandler(er),lr}function deleteObject$2(tr,er){const rr=er.fullServerUrl(),nr=makeUrl(rr,tr.host,tr._protocol),ir="DELETE",ar=tr.maxOperationRetryTime;function sr(or,cr){}const lr=new RequestInfo(nr,ir,sr,ar);return lr.successCodes=[200,204],lr.errorHandler=objectErrorHandler(er),lr}function determineContentType_(tr,er){return tr&&tr.contentType||er&&er.type()||"application/octet-stream"}function metadataForUpload_(tr,er,rr){const nr=Object.assign({},rr);return nr.fullPath=tr.path,nr.size=er.size(),nr.contentType||(nr.contentType=determineContentType_(null,er)),nr}function multipartUpload(tr,er,rr,nr,ir){const ar=er.bucketOnlyServerUrl(),sr={"X-Goog-Upload-Protocol":"multipart"};function lr(){let vr="";for(let _r=0;_r<2;_r++)vr=vr+Math.random().toString().slice(2);return vr}const or=lr();sr["Content-Type"]="multipart/related; boundary="+or;const cr=metadataForUpload_(er,nr,ir),ur=toResourceString(cr,rr),dr="--"+or+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+ur+`\r
--`+or+`\r
Content-Type: `+cr.contentType+`\r
\r
`,hr=`\r
--`+or+"--",fr=FbsBlob.getBlob(dr,nr,hr);if(fr===null)throw cannotSliceBlob();const mr={name:cr.fullPath},br=makeUrl(ar,tr.host,tr._protocol),pr="POST",gr=tr.maxUploadRetryTime,yr=new RequestInfo(br,pr,metadataHandler(tr,rr),gr);return yr.urlParams=mr,yr.headers=sr,yr.body=fr.uploadData(),yr.errorHandler=sharedErrorHandler(er),yr}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(er=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,er()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,er()}),this.xhr_.addEventListener("load",()=>{er()})})}send(er,rr,nr,ir){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(rr,er,!0),ir!==void 0)for(const ar in ir)ir.hasOwnProperty(ar)&&this.xhr_.setRequestHeader(ar,ir[ar].toString());return nr!==void 0?this.xhr_.send(nr):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(er){return this.xhr_.getResponseHeader(er)}addUploadProgressListener(er){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",er)}removeUploadProgressListener(er){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",er)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(er,rr){this._service=er,rr instanceof Location?this._location=rr:this._location=Location.makeFromUrl(rr,er.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(er,rr){return new Reference(er,rr)}get root(){const er=new Location(this._location.bucket,"");return this._newRef(this._service,er)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const er=parent(this._location.path);if(er===null)return null;const rr=new Location(this._location.bucket,er);return new Reference(this._service,rr)}_throwIfRoot(er){if(this._location.path==="")throw invalidRootOperation(er)}}function uploadBytes$1(tr,er,rr){tr._throwIfRoot("uploadBytes");const nr=multipartUpload(tr.storage,tr._location,getMappings(),new FbsBlob(er,!0),rr);return tr.storage.makeRequestWithTokens(nr,newTextConnection).then(ir=>({metadata:ir,ref:tr}))}function getDownloadURL$1(tr){tr._throwIfRoot("getDownloadURL");const er=getDownloadUrl(tr.storage,tr._location,getMappings());return tr.storage.makeRequestWithTokens(er,newTextConnection).then(rr=>{if(rr===null)throw noDownloadURL();return rr})}function deleteObject$1(tr){tr._throwIfRoot("deleteObject");const er=deleteObject$2(tr.storage,tr._location);return tr.storage.makeRequestWithTokens(er,newTextConnection)}function _getChild$1(tr,er){const rr=child(tr._location.path,er),nr=new Location(tr._location.bucket,rr);return new Reference(tr.storage,nr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(tr){return/^[A-Za-z]+:\/\//.test(tr)}function refFromURL(tr,er){return new Reference(tr,er)}function refFromPath(tr,er){if(tr instanceof FirebaseStorageImpl){const rr=tr;if(rr._bucket==null)throw noDefaultBucket();const nr=new Reference(rr,rr._bucket);return er!=null?refFromPath(nr,er):nr}else return er!==void 0?_getChild$1(tr,er):tr}function ref$1(tr,er){if(er&&isUrl(er)){if(tr instanceof FirebaseStorageImpl)return refFromURL(tr,er);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(tr,er)}function extractBucket(tr,er){const rr=er==null?void 0:er[CONFIG_STORAGE_BUCKET_KEY];return rr==null?null:Location.makeFromBucketSpec(rr,tr)}function connectStorageEmulator$1(tr,er,rr,nr={}){tr.host=`${er}:${rr}`,tr._protocol="http";const{mockUserToken:ir}=nr;ir&&(tr._overrideAuthToken=typeof ir=="string"?ir:createMockUserToken(ir,tr.app.options.projectId))}class FirebaseStorageImpl{constructor(er,rr,nr,ir,ar){this.app=er,this._authProvider=rr,this._appCheckProvider=nr,this._url=ir,this._firebaseVersion=ar,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,ir!=null?this._bucket=Location.makeFromBucketSpec(ir,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(er){this._host=er,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,er):this._bucket=extractBucket(er,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(er){validateNumber("time",0,Number.POSITIVE_INFINITY,er),this._maxUploadRetryTime=er}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(er){validateNumber("time",0,Number.POSITIVE_INFINITY,er),this._maxOperationRetryTime=er}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const er=this._authProvider.getImmediate({optional:!0});if(er){const rr=await er.getToken();if(rr!==null)return rr.accessToken}return null}async _getAppCheckToken(){const er=this._appCheckProvider.getImmediate({optional:!0});return er?(await er.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(er=>er.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(er){return new Reference(this,er)}_makeRequest(er,rr,nr,ir,ar=!0){if(this._deleted)return new FailRequest(appDeleted());{const sr=makeRequest(er,this._appId,nr,ir,rr,this._firebaseVersion,ar);return this._requests.add(sr),sr.getPromise().then(()=>this._requests.delete(sr),()=>this._requests.delete(sr)),sr}}async makeRequestWithTokens(er,rr){const[nr,ir]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(er,rr,nr,ir).getPromise()}}const name="@firebase/storage",version="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(tr,er,rr){return tr=getModularInstance(tr),uploadBytes$1(tr,er,rr)}function getDownloadURL(tr){return tr=getModularInstance(tr),getDownloadURL$1(tr)}function deleteObject(tr){return tr=getModularInstance(tr),deleteObject$1(tr)}function ref(tr,er){return tr=getModularInstance(tr),ref$1(tr,er)}function getStorage(tr=getApp(),er){tr=getModularInstance(tr);const nr=_getProvider(tr,STORAGE_TYPE).getImmediate({identifier:er}),ir=getDefaultEmulatorHostnameAndPort("storage");return ir&&connectStorageEmulator(nr,...ir),nr}function connectStorageEmulator(tr,er,rr,nr={}){connectStorageEmulator$1(tr,er,rr,nr)}function factory(tr,{instanceIdentifier:er}){const rr=tr.getProvider("app").getImmediate(),nr=tr.getProvider("auth-internal"),ir=tr.getProvider("app-check-internal");return new FirebaseStorageImpl(rr,nr,ir,er,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAQNZionq01KS9F6O5m03ybWueO6SFuPPU",authDomain:"app-inventario-repuestos.firebaseapp.com",projectId:"app-inventario-repuestos",storageBucket:"app-inventario-repuestos.firebasestorage.app",messagingSenderId:"14780417870",appId:"1:14780417870:web:28269ae58be0f9d72fc01f"},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app),AuthContext=reactExports.createContext(null);function AuthProvider({children:tr}){const[er,rr]=reactExports.useState(null),[nr,ir]=reactExports.useState(!0);reactExports.useEffect(()=>{const lr=onAuthStateChanged(auth,or=>{rr(or),ir(!1)});return()=>lr()},[]);const ar=async(lr,or)=>{try{await signInWithEmailAndPassword(auth,lr,or)}catch(cr){throw console.error("Error al iniciar sesin:",cr),cr}},sr=async()=>{try{await signOut(auth)}catch(lr){throw console.error("Error al cerrar sesin:",lr),lr}};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:er,loading:nr,signIn:ar,signOut:sr},children:tr})}function useAuth(){const tr=reactExports.useContext(AuthContext);if(!tr)throw new Error("useAuth debe usarse dentro de AuthProvider");return tr}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=tr=>tr.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...tr)=>tr.filter((er,rr,nr)=>!!er&&er.trim()!==""&&nr.indexOf(er)===rr).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:tr="currentColor",size:er=24,strokeWidth:rr=2,absoluteStrokeWidth:nr,className:ir="",children:ar,iconNode:sr,...lr},or)=>reactExports.createElement("svg",{ref:or,...defaultAttributes,width:er,height:er,stroke:tr,strokeWidth:nr?Number(rr)*24/Number(er):rr,className:mergeClasses("lucide",ir),...lr},[...sr.map(([cr,ur])=>reactExports.createElement(cr,ur)),...Array.isArray(ar)?ar:[ar]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(tr,er)=>{const rr=reactExports.forwardRef(({className:nr,...ir},ar)=>reactExports.createElement(Icon,{ref:ar,iconNode:er,className:mergeClasses(`lucide-${toKebabCase(tr)}`,nr),...ir}));return rr.displayName=`${tr}`,rr};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowDown=createLucideIcon("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpDown=createLucideIcon("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUp=createLucideIcon("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookMarked=createLucideIcon("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartPie=createLucideIcon("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CirclePlus=createLucideIcon("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Columns2=createLucideIcon("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GitCompare=createLucideIcon("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDriveDownload=createLucideIcon("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDriveUpload=createLucideIcon("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash$2=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListPlus=createLucideIcon("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Percent=createLucideIcon("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Redo2=createLucideIcon("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SlidersHorizontal=createLucideIcon("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const StarOff=createLucideIcon("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Undo2=createLucideIcon("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function LoginForm(){const{signIn:tr}=useAuth(),[er,rr]=reactExports.useState(""),[nr,ir]=reactExports.useState(""),[ar,sr]=reactExports.useState(""),[lr,or]=reactExports.useState(!1),cr=async ur=>{ur.preventDefault(),sr(""),or(!0);try{await tr(er,nr)}catch(dr){sr("Credenciales invlidas. Verifica tu email y contrasea."),console.error(dr)}finally{or(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-xl mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white",children:"B"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Baader 200"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de Repuestos"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("form",{onSubmit:cr,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),jsxRuntimeExports.jsx("input",{type:"email",value:er,onChange:ur=>rr(ur.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@ejemplo.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),jsxRuntimeExports.jsx("input",{type:"password",value:nr,onChange:ur=>ir(ur.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"",required:!0})]}),ar&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:ar}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:lr,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[lr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsx(LogIn,{className:"w-5 h-5"}),lr?"Ingresando...":"Ingresar"]})]})}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Acceso exclusivo para administradores"})]})})}const scriptRel="modulepreload",assetsURL=function(tr){return"/Baader-200-Repuestos-app/"+tr},seen={},__vitePreload=function(er,rr,nr){let ir=Promise.resolve();if(rr&&rr.length>0){document.getElementsByTagName("link");const sr=document.querySelector("meta[property=csp-nonce]"),lr=(sr==null?void 0:sr.nonce)||(sr==null?void 0:sr.getAttribute("nonce"));ir=Promise.allSettled(rr.map(or=>{if(or=assetsURL(or),or in seen)return;seen[or]=!0;const cr=or.endsWith(".css"),ur=cr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${or}"]${ur}`))return;const dr=document.createElement("link");if(dr.rel=cr?"stylesheet":scriptRel,cr||(dr.as="script"),dr.crossOrigin="",dr.href=or,lr&&dr.setAttribute("nonce",lr),document.head.appendChild(dr),cr)return new Promise((hr,fr)=>{dr.addEventListener("load",hr),dr.addEventListener("error",()=>fr(new Error(`Unable to preload CSS for ${or}`)))})}))}function ar(sr){const lr=new Event("vite:preloadError",{cancelable:!0});if(lr.payload=sr,window.dispatchEvent(lr),!lr.defaultPrevented)throw sr}return ir.then(sr=>{for(const lr of sr||[])lr.status==="rejected"&&ar(lr.reason);return er().catch(ar)})},COLLECTION_NAME$2="repuestosBaader200";function useRepuestos(){const[tr,er]=reactExports.useState([]),[rr,nr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(null);reactExports.useEffect(()=>{const gr=query(collection(db,COLLECTION_NAME$2),orderBy("codigoSAP")),yr=onSnapshot(gr,vr=>{const _r=vr.docs.map(xr=>{var Rr,Cr,Tr;return{id:xr.id,...xr.data(),createdAt:((Rr=xr.data().createdAt)==null?void 0:Rr.toDate())||new Date,updatedAt:((Cr=xr.data().updatedAt)==null?void 0:Cr.toDate())||new Date,fechaUltimaActualizacionInventario:((Tr=xr.data().fechaUltimaActualizacionInventario)==null?void 0:Tr.toDate())||null}});er(_r),nr(!1)},vr=>{console.error("Error al obtener repuestos:",vr),ar(vr.message),nr(!1)});return()=>yr()},[]);const sr=async(gr,yr,vr,_r)=>{try{const xr=vr===void 0?null:vr,Rr=_r===void 0?null:_r;await addDoc(collection(db,COLLECTION_NAME$2,gr,"historial"),{campo:yr,valorAnterior:xr,valorNuevo:Rr,fecha:Timestamp.now()})}catch(xr){console.error("Error al agregar historial:",xr)}},lr=reactExports.useCallback(async gr=>{try{const yr={...gr,total:gr.cantidadSolicitada*gr.valorUnitario+gr.cantidadStockBodega*gr.valorUnitario,fechaUltimaActualizacionInventario:gr.cantidadStockBodega>0?Timestamp.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Timestamp.now(),updatedAt:Timestamp.now()},vr=await addDoc(collection(db,COLLECTION_NAME$2),yr);return await sr(vr.id,"creacion",null,JSON.stringify(gr)),vr.id}catch(yr){throw console.error("Error al crear repuesto:",yr),yr}},[]),or=reactExports.useCallback(async(gr,yr,vr)=>{try{const _r={...yr,updatedAt:Timestamp.now()};if(yr.cantidadSolicitada!==void 0||yr.valorUnitario!==void 0||yr.cantidadStockBodega!==void 0){const xr=yr.cantidadSolicitada??(vr==null?void 0:vr.cantidadSolicitada)??0,Rr=yr.cantidadStockBodega??(vr==null?void 0:vr.cantidadStockBodega)??0,Cr=yr.valorUnitario??(vr==null?void 0:vr.valorUnitario)??0;_r.total=xr*Cr+Rr*Cr}if(yr.cantidadStockBodega!==void 0&&(_r.fechaUltimaActualizacionInventario=Timestamp.now()),await updateDoc(doc(db,COLLECTION_NAME$2,gr),_r),vr)for(const xr of Object.keys(yr))yr[xr]!==vr[xr]&&await sr(gr,xr,vr[xr],yr[xr])}catch(_r){throw console.error("Error al actualizar repuesto:",_r),_r}},[]),cr=reactExports.useCallback(async gr=>{try{const yr=collection(db,COLLECTION_NAME$2,gr,"historial"),vr=await getDocs(yr),_r=writeBatch(db);vr.docs.forEach(xr=>{_r.delete(xr.ref)}),await _r.commit(),await deleteDoc(doc(db,COLLECTION_NAME$2,gr))}catch(yr){throw console.error("Error al eliminar repuesto:",yr),yr}},[]),ur=reactExports.useCallback(async gr=>{try{const yr=query(collection(db,COLLECTION_NAME$2,gr,"historial"),orderBy("fecha","desc"));return(await getDocs(yr)).docs.map(_r=>{var xr;return{id:_r.id,repuestoId:gr,..._r.data(),fecha:((xr=_r.data().fecha)==null?void 0:xr.toDate())||new Date}})}catch(yr){return console.error("Error al obtener historial:",yr),[]}},[]),dr=reactExports.useCallback(async gr=>{try{const yr=writeBatch(db);for(const vr of gr){const _r=doc(collection(db,COLLECTION_NAME$2));yr.set(_r,{...vr,total:vr.cantidadSolicitada*vr.valorUnitario,fechaUltimaActualizacionInventario:vr.cantidadStockBodega>0?Timestamp.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Timestamp.now(),updatedAt:Timestamp.now()})}await yr.commit()}catch(yr){throw console.error("Error al importar repuestos:",yr),yr}},[]),hr=reactExports.useCallback(async(gr,yr)=>{var vr;try{const _r=writeBatch(db);let xr=0;for(const Rr of tr)if((vr=Rr.tags)!=null&&vr.includes(gr)){const Cr=Rr.tags.map(Tr=>Tr===gr?yr:Tr);_r.update(doc(db,COLLECTION_NAME$2,Rr.id),{tags:Cr,updatedAt:Timestamp.now()}),xr++}return xr>0&&await _r.commit(),xr}catch(_r){throw console.error("Error al renombrar tag:",_r),_r}},[tr]),fr=reactExports.useCallback(async gr=>{var yr;try{const vr=writeBatch(db);let _r=0;for(const xr of tr)if((yr=xr.tags)!=null&&yr.includes(gr)){const Rr=xr.tags.filter(Cr=>Cr!==gr);vr.update(doc(db,COLLECTION_NAME$2,xr.id),{tags:Rr,updatedAt:Timestamp.now()}),_r++}return _r>0&&await vr.commit(),_r}catch(vr){throw console.error("Error al eliminar tag:",vr),vr}},[tr]),mr=reactExports.useCallback(async()=>{const gr="Cantidad Solicitada Dic 2025",yr="Stock en bodega Dic 2025";try{const vr=writeBatch(db);let _r=0,xr=0,Rr=0;const Cr=[];for(const Tr of tr){const Ir=[];let Lr=!1;const Nr=Tr.cantidadSolicitada||0,Or=Tr.cantidadStockBodega||0;Nr>0&&(Ir.push({nombre:gr,tipo:"solicitud",cantidad:Nr,fecha:new Date}),xr++,Lr=!0),Or>0&&(Ir.push({nombre:yr,tipo:"stock",cantidad:Or,fecha:new Date}),Rr++,Lr=!0),Nr>0&&Or>0&&Cr.push(`${Tr.codigoSAP} (Sol:${Nr}, Stock:${Or})`),Lr?(vr.update(doc(db,COLLECTION_NAME$2,Tr.id),{tags:Ir,updatedAt:Timestamp.now()}),_r++):Tr.tags&&Tr.tags.length>0&&vr.update(doc(db,COLLECTION_NAME$2,Tr.id),{tags:[],updatedAt:Timestamp.now()})}return await vr.commit(),Cr.length>0&&(console.log(" Repuestos con AMBAS cantidades:",Cr),alert(` Hay ${Cr.length} repuestos con AMBAS cantidades:
${Cr.join(`
`)}

Revisa la consola para ms detalles.`)),{migratedCount:_r,solicitudCount:xr,stockCount:Rr,conAmbos:Cr}}catch(vr){throw console.error("Error al migrar tags:",vr),vr}},[tr]),br=reactExports.useCallback(async()=>{try{let gr=0;const yr=[];for(const vr of tr)try{const _r=collection(db,COLLECTION_NAME$2,vr.id,"historial"),xr=query(_r,orderBy("fecha","desc")),Rr=await getDocs(xr);for(const Cr of Rr.docs){const Tr=Cr.data();if(Tr.campo==="tags"&&Tr.valorAnterior){let Ir=Tr.valorAnterior;if(typeof Ir=="string")try{Ir=JSON.parse(Ir)}catch{continue}if(Array.isArray(Ir)){await updateDoc(doc(db,COLLECTION_NAME$2,vr.id),{tags:Ir,updatedAt:Timestamp.now()}),gr++;break}}}}catch{yr.push(vr.codigoSAP)}return{restoredCount:gr,errors:yr}}catch(gr){throw console.error("Error al restaurar tags:",gr),gr}},[tr]),pr=reactExports.useCallback(async(gr,yr,vr,_r)=>{try{const xr=writeBatch(db);let Rr=0;const Cr=[];for(const Tr of gr){const Ir=tr.find(Mr=>Mr.codigoSAP===Tr);if(!Ir){Cr.push(Tr);continue}const Lr=Ir.tags||[];if(Lr.some(Mr=>typeof Mr=="string"?Mr===yr:Mr.nombre===yr))continue;const Or={nombre:yr,tipo:vr,cantidad:_r[Tr]||0,fecha:Timestamp.now()},Pr=[...Lr,Or];xr.update(doc(db,COLLECTION_NAME$2,Ir.id),{tags:Pr,updatedAt:Timestamp.now()}),Rr++}return Rr>0&&await xr.commit(),{addedCount:Rr,errors:Cr}}catch(xr){throw console.error("Error al agregar tag a repuestos:",xr),xr}},[tr]);return{repuestos:tr,loading:rr,error:ir,createRepuesto:lr,updateRepuesto:or,deleteRepuesto:cr,getHistorial:ur,importRepuestos:dr,renameTag:hr,deleteTag:fr,migrateTagsToNewSystem:mr,restoreTagsFromHistory:br,addTagToRepuestosByCodigo:pr}}function useStorage(){const[tr,er]=reactExports.useState(!1),[rr,nr]=reactExports.useState(0),ir=reactExports.useCallback(async(or,cr,ur)=>{er(!0),nr(0);try{const dr=Date.now(),hr=`${dr}_${or.name}`,fr=`repuestos/${cr}/${ur}/${hr}`,mr=ref(storage,fr);await uploadBytes(mr,or),nr(100);const br=await getDownloadURL(mr);return{id:`${dr}`,url:br,descripcion:"",orden:0,esPrincipal:!1,tipo:ur,createdAt:new Date}}catch(dr){throw console.error("Error al subir imagen:",dr),dr}finally{er(!1),nr(0)}},[]),ar=reactExports.useCallback(async or=>{try{const cr=ref(storage,or);await deleteObject(cr)}catch(cr){console.error("Error al eliminar imagen:",cr)}},[]),sr=reactExports.useCallback(async or=>{er(!0),nr(0);try{const ur=ref(storage,"manual/BAADER 200 nparte y materiales.pdf");return await uploadBytes(ur,or),nr(100),await getDownloadURL(ur)}catch(cr){throw console.error("Error al subir PDF:",cr),cr}finally{er(!1),nr(0)}},[]),lr=reactExports.useCallback(async()=>{try{const cr=ref(storage,"manual/BAADER 200 nparte y materiales.pdf");return await getDownloadURL(cr)}catch(or){return console.error("Manual no encontrado:",or),null}},[]);return{uploading:tr,progress:rr,uploadImage:ir,deleteImage:ar,uploadManualPDF:sr,getManualURL:lr}}const STORAGE_KEY$1="baader_app_state";function useLocalStorage(){const[tr,er]=reactExports.useState({lastSelectedRepuestoId:null});reactExports.useEffect(()=>{try{const ir=localStorage.getItem(STORAGE_KEY$1);ir&&er(JSON.parse(ir))}catch(ir){console.error("Error al cargar estado local:",ir)}},[]);const rr=reactExports.useCallback(ir=>{er(ar=>{const sr={...ar,lastSelectedRepuestoId:ir};return localStorage.setItem(STORAGE_KEY$1,JSON.stringify(sr)),sr})},[]),nr=reactExports.useCallback(()=>tr.lastSelectedRepuestoId,[tr.lastSelectedRepuestoId]);return{lastSelectedRepuestoId:tr.lastSelectedRepuestoId,setLastSelectedRepuesto:rr,getLastSelectedRepuesto:nr}}function useToast(){const[tr,er]=reactExports.useState([]),rr=reactExports.useCallback((or,cr="info",ur=3e3)=>{const dr=`toast_${Date.now()}`,hr={id:dr,message:or,type:cr,duration:ur};return er(fr=>[...fr,hr]),ur>0&&setTimeout(()=>{er(fr=>fr.filter(mr=>mr.id!==dr))},ur),dr},[]),nr=reactExports.useCallback(or=>{er(cr=>cr.filter(ur=>ur.id!==or))},[]),ir=reactExports.useCallback(or=>rr(or,"success"),[rr]),ar=reactExports.useCallback(or=>rr(or,"error",5e3),[rr]),sr=reactExports.useCallback(or=>rr(or,"warning"),[rr]),lr=reactExports.useCallback(or=>rr(or,"info"),[rr]);return{toasts:tr,addToast:rr,removeToast:nr,success:ir,error:ar,warning:sr,info:lr}}const THEME_KEY="baader_theme";function useTheme(){const[tr,er]=reactExports.useState(()=>{if(typeof window<"u"){const ar=localStorage.getItem(THEME_KEY);if(ar==="light"||ar==="dark")return ar;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});reactExports.useEffect(()=>{const ar=document.documentElement;tr==="dark"?ar.classList.add("dark"):ar.classList.remove("dark"),localStorage.setItem(THEME_KEY,tr)},[tr]),reactExports.useEffect(()=>{const ar=window.matchMedia("(prefers-color-scheme: dark)"),sr=lr=>{localStorage.getItem(THEME_KEY)||er(lr.matches?"dark":"light")};return ar.addEventListener("change",sr),()=>ar.removeEventListener("change",sr)},[]);const rr=reactExports.useCallback(ar=>{er(ar)},[]),nr=reactExports.useCallback(()=>{er(ar=>ar==="light"?"dark":"light")},[]);return{theme:tr,setTheme:rr,toggleTheme:nr,isDark:tr==="dark"}}const MAX_HISTORY_SIZE=50;function useUndoRedo(){const[tr,er]=reactExports.useState([]),[rr,nr]=reactExports.useState([]),ir=reactExports.useRef(!1),ar=reactExports.useCallback(fr=>{if(ir.current)return;const mr={...fr,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};er(br=>[mr,...br].slice(0,MAX_HISTORY_SIZE)),nr([])},[]),sr=reactExports.useCallback(()=>tr[0]||null,[tr]),lr=reactExports.useCallback(()=>{if(tr.length===0)return null;const[fr,...mr]=tr;return er(mr),nr(br=>[fr,...br].slice(0,MAX_HISTORY_SIZE)),fr},[tr]),or=reactExports.useCallback(()=>{if(rr.length===0)return null;const[fr,...mr]=rr;return nr(mr),er(br=>[fr,...br].slice(0,MAX_HISTORY_SIZE)),fr},[rr]),cr=reactExports.useCallback(()=>{ir.current=!0},[]),ur=reactExports.useCallback(()=>{ir.current=!1},[]),dr=reactExports.useCallback(()=>{er([]),nr([])},[]),hr=reactExports.useCallback(fr=>{var br;const mr=fr.repuestoCode||fr.repuestoId.slice(0,8);switch(fr.type){case"update":return`Editado ${fr.campo} en ${mr}`;case"create":return`Creado repuesto ${mr}`;case"delete":return`Eliminado repuesto ${mr}`;case"addTag":return`Tag agregado a ${mr}`;case"removeTag":return`Tag eliminado de ${mr}`;case"bulkUpdate":return`Actualizacin masiva (${((br=fr.affectedIds)==null?void 0:br.length)||0} items)`;default:return fr.description}},[]);return{undoStack:tr,redoStack:rr,canUndo:tr.length>0,canRedo:rr.length>0,recordAction:ar,peekUndo:sr,popUndo:lr,popRedo:or,startRestoring:cr,endRestoring:ur,clearHistory:dr,getActionDescription:hr}}function commonjsRequire(tr){throw new Error('Could not dynamically require "'+tr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(er,rr){module.exports=er.pdfjsLib=rr()})(globalThis,()=>(()=>{var __webpack_modules__=[,(tr,er)=>{var gs;Object.defineProperty(er,"__esModule",{value:!0}),er.VerbosityLevel=er.Util=er.UnknownErrorException=er.UnexpectedResponseException=er.TextRenderingMode=er.RenderingIntentFlag=er.PromiseCapability=er.PermissionFlag=er.PasswordResponses=er.PasswordException=er.PageActionEventType=er.OPS=er.MissingPDFException=er.MAX_IMAGE_SIZE_TO_CACHE=er.LINE_FACTOR=er.LINE_DESCENT_FACTOR=er.InvalidPDFException=er.ImageKind=er.IDENTITY_MATRIX=er.FormatError=er.FeatureTest=er.FONT_IDENTITY_MATRIX=er.DocumentActionEventType=er.CMapCompressionType=er.BaseException=er.BASELINE_FACTOR=er.AnnotationType=er.AnnotationReplyType=er.AnnotationPrefix=er.AnnotationMode=er.AnnotationFlag=er.AnnotationFieldFlag=er.AnnotationEditorType=er.AnnotationEditorPrefix=er.AnnotationEditorParamsType=er.AnnotationBorderStyleType=er.AnnotationActionEventType=er.AbortException=void 0,er.assert=Sr,er.bytesToString=Zr,er.createValidAbsoluteUrl=Wr,er.getModificationDate=zn,er.getUuid=ds,er.getVerbosityLevel=jr,er.info=wr,er.isArrayBuffer=Sn,er.isArrayEqual=Dn,er.isNodeJS=void 0,er.normalizeUnicode=qn,er.objectFromMap=hn,er.objectSize=un,er.setVerbosityLevel=Mr,er.shadow=$r,er.string32=sn,er.stringToBytes=tn,er.stringToPDFString=yn,er.stringToUTF8String=Rn,er.unreachable=Ar,er.utf8StringToString=In,er.warn=Er;const rr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");er.isNodeJS=rr;const nr=[1,0,0,1,0,0];er.IDENTITY_MATRIX=nr;const ir=[.001,0,0,.001,0,0];er.FONT_IDENTITY_MATRIX=ir;const ar=1e7;er.MAX_IMAGE_SIZE_TO_CACHE=ar;const sr=1.35;er.LINE_FACTOR=sr;const lr=.35;er.LINE_DESCENT_FACTOR=lr;const or=lr/sr;er.BASELINE_FACTOR=or;const cr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};er.RenderingIntentFlag=cr;const ur={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};er.AnnotationMode=ur;const dr="pdfjs_internal_editor_";er.AnnotationEditorPrefix=dr;const hr={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};er.AnnotationEditorType=hr;const fr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};er.AnnotationEditorParamsType=fr;const mr={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};er.PermissionFlag=mr;const br={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};er.TextRenderingMode=br;const pr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};er.ImageKind=pr;const gr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};er.AnnotationType=gr;const yr={GROUP:"Group",REPLY:"R"};er.AnnotationReplyType=yr;const vr={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};er.AnnotationFlag=vr;const _r={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};er.AnnotationFieldFlag=_r;const xr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};er.AnnotationBorderStyleType=xr;const Rr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};er.AnnotationActionEventType=Rr;const Cr={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};er.DocumentActionEventType=Cr;const Tr={O:"PageOpen",C:"PageClose"};er.PageActionEventType=Tr;const Ir={ERRORS:0,WARNINGS:1,INFOS:5};er.VerbosityLevel=Ir;const Lr={NONE:0,BINARY:1};er.CMapCompressionType=Lr;const Nr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};er.OPS=Nr;const Or={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};er.PasswordResponses=Or;let Pr=Ir.WARNINGS;function Mr(Wn){Number.isInteger(Wn)&&(Pr=Wn)}function jr(){return Pr}function wr(Wn){Pr>=Ir.INFOS&&console.log(`Info: ${Wn}`)}function Er(Wn){Pr>=Ir.WARNINGS&&console.log(`Warning: ${Wn}`)}function Ar(Wn){throw new Error(Wn)}function Sr(Wn,Fn){Wn||Ar(Fn)}function Dr(Wn){switch(Wn==null?void 0:Wn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Wr(Wn,Fn=null,Bn=null){if(!Wn)return null;try{if(Bn&&typeof Wn=="string"){if(Bn.addDefaultProtocol&&Wn.startsWith("www.")){const $s=Wn.match(/\./g);($s==null?void 0:$s.length)>=2&&(Wn=`http://${Wn}`)}if(Bn.tryConvertEncoding)try{Wn=Rn(Wn)}catch{}}const ss=Fn?new URL(Wn,Fn):new URL(Wn);if(Dr(ss))return ss}catch{}return null}function $r(Wn,Fn,Bn,ss=!1){return Object.defineProperty(Wn,Fn,{value:Bn,enumerable:!ss,configurable:!0,writable:!1}),Bn}const Vr=function(){function Fn(Bn,ss){this.constructor===Fn&&Ar("Cannot initialize BaseException."),this.message=Bn,this.name=ss}return Fn.prototype=new Error,Fn.constructor=Fn,Fn}();er.BaseException=Vr;class zr extends Vr{constructor(Fn,Bn){super(Fn,"PasswordException"),this.code=Bn}}er.PasswordException=zr;class Gr extends Vr{constructor(Fn,Bn){super(Fn,"UnknownErrorException"),this.details=Bn}}er.UnknownErrorException=Gr;class Fr extends Vr{constructor(Fn){super(Fn,"InvalidPDFException")}}er.InvalidPDFException=Fr;class Xr extends Vr{constructor(Fn){super(Fn,"MissingPDFException")}}er.MissingPDFException=Xr;class Ur extends Vr{constructor(Fn,Bn){super(Fn,"UnexpectedResponseException"),this.status=Bn}}er.UnexpectedResponseException=Ur;class Br extends Vr{constructor(Fn){super(Fn,"FormatError")}}er.FormatError=Br;class Kr extends Vr{constructor(Fn){super(Fn,"AbortException")}}er.AbortException=Kr;function Zr(Wn){(typeof Wn!="object"||(Wn==null?void 0:Wn.length)===void 0)&&Ar("Invalid argument for bytesToString");const Fn=Wn.length,Bn=8192;if(Fn<Bn)return String.fromCharCode.apply(null,Wn);const ss=[];for(let $s=0;$s<Fn;$s+=Bn){const vs=Math.min($s+Bn,Fn),kn=Wn.subarray($s,vs);ss.push(String.fromCharCode.apply(null,kn))}return ss.join("")}function tn(Wn){typeof Wn!="string"&&Ar("Invalid argument for stringToBytes");const Fn=Wn.length,Bn=new Uint8Array(Fn);for(let ss=0;ss<Fn;++ss)Bn[ss]=Wn.charCodeAt(ss)&255;return Bn}function sn(Wn){return String.fromCharCode(Wn>>24&255,Wn>>16&255,Wn>>8&255,Wn&255)}function un(Wn){return Object.keys(Wn).length}function hn(Wn){const Fn=Object.create(null);for(const[Bn,ss]of Wn)Fn[Bn]=ss;return Fn}function Jr(){const Wn=new Uint8Array(4);return Wn[0]=1,new Uint32Array(Wn.buffer,0,1)[0]===1}function nn(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return $r(this,"isLittleEndian",Jr())}static get isEvalSupported(){return $r(this,"isEvalSupported",nn())}static get isOffscreenCanvasSupported(){return $r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?$r(this,"platform",{isWin:!1,isMac:!1}):$r(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Fn,Bn;return $r(this,"isCSSRoundSupported",(Bn=(Fn=globalThis.CSS)==null?void 0:Fn.supports)==null?void 0:Bn.call(Fn,"width: round(1.5px, 1px)"))}}er.FeatureTest=rn;const on=[...Array(256).keys()].map(Wn=>Wn.toString(16).padStart(2,"0"));class fn{static makeHexColor(Fn,Bn,ss){return`#${on[Fn]}${on[Bn]}${on[ss]}`}static scaleMinMax(Fn,Bn){let ss;Fn[0]?(Fn[0]<0&&(ss=Bn[0],Bn[0]=Bn[1],Bn[1]=ss),Bn[0]*=Fn[0],Bn[1]*=Fn[0],Fn[3]<0&&(ss=Bn[2],Bn[2]=Bn[3],Bn[3]=ss),Bn[2]*=Fn[3],Bn[3]*=Fn[3]):(ss=Bn[0],Bn[0]=Bn[2],Bn[2]=ss,ss=Bn[1],Bn[1]=Bn[3],Bn[3]=ss,Fn[1]<0&&(ss=Bn[2],Bn[2]=Bn[3],Bn[3]=ss),Bn[2]*=Fn[1],Bn[3]*=Fn[1],Fn[2]<0&&(ss=Bn[0],Bn[0]=Bn[1],Bn[1]=ss),Bn[0]*=Fn[2],Bn[1]*=Fn[2]),Bn[0]+=Fn[4],Bn[1]+=Fn[4],Bn[2]+=Fn[5],Bn[3]+=Fn[5]}static transform(Fn,Bn){return[Fn[0]*Bn[0]+Fn[2]*Bn[1],Fn[1]*Bn[0]+Fn[3]*Bn[1],Fn[0]*Bn[2]+Fn[2]*Bn[3],Fn[1]*Bn[2]+Fn[3]*Bn[3],Fn[0]*Bn[4]+Fn[2]*Bn[5]+Fn[4],Fn[1]*Bn[4]+Fn[3]*Bn[5]+Fn[5]]}static applyTransform(Fn,Bn){const ss=Fn[0]*Bn[0]+Fn[1]*Bn[2]+Bn[4],$s=Fn[0]*Bn[1]+Fn[1]*Bn[3]+Bn[5];return[ss,$s]}static applyInverseTransform(Fn,Bn){const ss=Bn[0]*Bn[3]-Bn[1]*Bn[2],$s=(Fn[0]*Bn[3]-Fn[1]*Bn[2]+Bn[2]*Bn[5]-Bn[4]*Bn[3])/ss,vs=(-Fn[0]*Bn[1]+Fn[1]*Bn[0]+Bn[4]*Bn[1]-Bn[5]*Bn[0])/ss;return[$s,vs]}static getAxialAlignedBoundingBox(Fn,Bn){const ss=this.applyTransform(Fn,Bn),$s=this.applyTransform(Fn.slice(2,4),Bn),vs=this.applyTransform([Fn[0],Fn[3]],Bn),kn=this.applyTransform([Fn[2],Fn[1]],Bn);return[Math.min(ss[0],$s[0],vs[0],kn[0]),Math.min(ss[1],$s[1],vs[1],kn[1]),Math.max(ss[0],$s[0],vs[0],kn[0]),Math.max(ss[1],$s[1],vs[1],kn[1])]}static inverseTransform(Fn){const Bn=Fn[0]*Fn[3]-Fn[1]*Fn[2];return[Fn[3]/Bn,-Fn[1]/Bn,-Fn[2]/Bn,Fn[0]/Bn,(Fn[2]*Fn[5]-Fn[4]*Fn[3])/Bn,(Fn[4]*Fn[1]-Fn[5]*Fn[0])/Bn]}static singularValueDecompose2dScale(Fn){const Bn=[Fn[0],Fn[2],Fn[1],Fn[3]],ss=Fn[0]*Bn[0]+Fn[1]*Bn[2],$s=Fn[0]*Bn[1]+Fn[1]*Bn[3],vs=Fn[2]*Bn[0]+Fn[3]*Bn[2],kn=Fn[2]*Bn[1]+Fn[3]*Bn[3],Qn=(ss+kn)/2,xa=Math.sqrt((ss+kn)**2-4*(ss*kn-vs*$s))/2,as=Qn+xa||1,ms=Qn-xa||1;return[Math.sqrt(as),Math.sqrt(ms)]}static normalizeRect(Fn){const Bn=Fn.slice(0);return Fn[0]>Fn[2]&&(Bn[0]=Fn[2],Bn[2]=Fn[0]),Fn[1]>Fn[3]&&(Bn[1]=Fn[3],Bn[3]=Fn[1]),Bn}static intersect(Fn,Bn){const ss=Math.max(Math.min(Fn[0],Fn[2]),Math.min(Bn[0],Bn[2])),$s=Math.min(Math.max(Fn[0],Fn[2]),Math.max(Bn[0],Bn[2]));if(ss>$s)return null;const vs=Math.max(Math.min(Fn[1],Fn[3]),Math.min(Bn[1],Bn[3])),kn=Math.min(Math.max(Fn[1],Fn[3]),Math.max(Bn[1],Bn[3]));return vs>kn?null:[ss,vs,$s,kn]}static bezierBoundingBox(Fn,Bn,ss,$s,vs,kn,Qn,xa){const as=[],ms=[[],[]];let ls,An,wn,Nn,$n,Gn,gn,_n;for(let Hn=0;Hn<2;++Hn){if(Hn===0?(An=6*Fn-12*ss+6*vs,ls=-3*Fn+9*ss-9*vs+3*Qn,wn=3*ss-3*Fn):(An=6*Bn-12*$s+6*kn,ls=-3*Bn+9*$s-9*kn+3*xa,wn=3*$s-3*Bn),Math.abs(ls)<1e-12){if(Math.abs(An)<1e-12)continue;Nn=-wn/An,0<Nn&&Nn<1&&as.push(Nn);continue}gn=An*An-4*wn*ls,_n=Math.sqrt(gn),!(gn<0)&&($n=(-An+_n)/(2*ls),0<$n&&$n<1&&as.push($n),Gn=(-An-_n)/(2*ls),0<Gn&&Gn<1&&as.push(Gn))}let jn=as.length,On;const Un=jn;for(;jn--;)Nn=as[jn],On=1-Nn,ms[0][jn]=On*On*On*Fn+3*On*On*Nn*ss+3*On*Nn*Nn*vs+Nn*Nn*Nn*Qn,ms[1][jn]=On*On*On*Bn+3*On*On*Nn*$s+3*On*Nn*Nn*kn+Nn*Nn*Nn*xa;return ms[0][Un]=Fn,ms[1][Un]=Bn,ms[0][Un+1]=Qn,ms[1][Un+1]=xa,ms[0].length=ms[1].length=Un+2,[Math.min(...ms[0]),Math.min(...ms[1]),Math.max(...ms[0]),Math.max(...ms[1])]}}er.Util=fn;const mn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function yn(Wn){if(Wn[0]>=""){let Bn;if(Wn[0]===""&&Wn[1]===""?Bn="utf-16be":Wn[0]===""&&Wn[1]===""?Bn="utf-16le":Wn[0]===""&&Wn[1]===""&&Wn[2]===""&&(Bn="utf-8"),Bn)try{const ss=new TextDecoder(Bn,{fatal:!0}),$s=tn(Wn);return ss.decode($s)}catch(ss){Er(`stringToPDFString: "${ss}".`)}}const Fn=[];for(let Bn=0,ss=Wn.length;Bn<ss;Bn++){const $s=mn[Wn.charCodeAt(Bn)];Fn.push($s?String.fromCharCode($s):Wn.charAt(Bn))}return Fn.join("")}function Rn(Wn){return decodeURIComponent(escape(Wn))}function In(Wn){return unescape(encodeURIComponent(Wn))}function Sn(Wn){return typeof Wn=="object"&&(Wn==null?void 0:Wn.byteLength)!==void 0}function Dn(Wn,Fn){if(Wn.length!==Fn.length)return!1;for(let Bn=0,ss=Wn.length;Bn<ss;Bn++)if(Wn[Bn]!==Fn[Bn])return!1;return!0}function zn(Wn=new Date){return[Wn.getUTCFullYear().toString(),(Wn.getUTCMonth()+1).toString().padStart(2,"0"),Wn.getUTCDate().toString().padStart(2,"0"),Wn.getUTCHours().toString().padStart(2,"0"),Wn.getUTCMinutes().toString().padStart(2,"0"),Wn.getUTCSeconds().toString().padStart(2,"0")].join("")}class rs{constructor(){ba(this,gs,!1);this.promise=new Promise((Fn,Bn)=>{this.resolve=ss=>{ts(this,gs,!0),Fn(ss)},this.reject=ss=>{ts(this,gs,!0),Bn(ss)}})}get settled(){return cn(this,gs)}}gs=new WeakMap,er.PromiseCapability=rs;let ns=null,fs=null;function qn(Wn){return ns||(ns=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fs=new Map([["","t"]])),Wn.replaceAll(ns,(Fn,Bn,ss)=>Bn?Bn.normalize("NFKC"):fs.get(ss))}function ds(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Wn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Wn);else for(let Fn=0;Fn<32;Fn++)Wn[Fn]=Math.floor(Math.random()*255);return Zr(Wn)}const os="pdfjs_internal_id_";er.AnnotationPrefix=os},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var tr,rr,nr,ir,gp,fm,lr,or,cr,ur,dr,hr,fr,mr,br,pm,gr,yr,qm,_r,xr;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Cr){if(typeof Cr=="string"||Cr instanceof URL?Cr={url:Cr}:(0,_util.isArrayBuffer)(Cr)&&(Cr={data:Cr}),typeof Cr!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Cr.url&&!Cr.data&&!Cr.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Tr=new PDFDocumentLoadingTask,{docId:Ir}=Tr,Lr=Cr.url?getUrlProp(Cr.url):null,Nr=Cr.data?getDataProp(Cr.data):null,Or=Cr.httpHeaders||null,Pr=Cr.withCredentials===!0,Mr=Cr.password??null,jr=Cr.range instanceof PDFDataRangeTransport?Cr.range:null,wr=Number.isInteger(Cr.rangeChunkSize)&&Cr.rangeChunkSize>0?Cr.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Er=Cr.worker instanceof PDFWorker?Cr.worker:null;const Ar=Cr.verbosity,Sr=typeof Cr.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Cr.docBaseUrl)?Cr.docBaseUrl:null,Dr=typeof Cr.cMapUrl=="string"?Cr.cMapUrl:null,Wr=Cr.cMapPacked!==!1,$r=Cr.CMapReaderFactory||DefaultCMapReaderFactory,Vr=typeof Cr.standardFontDataUrl=="string"?Cr.standardFontDataUrl:null,zr=Cr.StandardFontDataFactory||DefaultStandardFontDataFactory,Gr=Cr.stopAtErrors!==!0,Fr=Number.isInteger(Cr.maxImageSize)&&Cr.maxImageSize>-1?Cr.maxImageSize:-1,Xr=Cr.isEvalSupported!==!1,Ur=typeof Cr.isOffscreenCanvasSupported=="boolean"?Cr.isOffscreenCanvasSupported:!_util.isNodeJS,Br=Number.isInteger(Cr.canvasMaxAreaInBytes)?Cr.canvasMaxAreaInBytes:-1,Kr=typeof Cr.disableFontFace=="boolean"?Cr.disableFontFace:_util.isNodeJS,Zr=Cr.fontExtraProperties===!0,tn=Cr.enableXfa===!0,sn=Cr.ownerDocument||globalThis.document,un=Cr.disableRange===!0,hn=Cr.disableStream===!0,Jr=Cr.disableAutoFetch===!0,nn=Cr.pdfBug===!0,rn=jr?jr.length:Cr.length??NaN,on=typeof Cr.useSystemFonts=="boolean"?Cr.useSystemFonts:!_util.isNodeJS&&!Kr,fn=typeof Cr.useWorkerFetch=="boolean"?Cr.useWorkerFetch:$r===_display_utils.DOMCMapReaderFactory&&zr===_display_utils.DOMStandardFontDataFactory&&Dr&&Vr&&(0,_display_utils.isValidFetchUrl)(Dr,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Vr,document.baseURI),mn=Cr.canvasFactory||new DefaultCanvasFactory({ownerDocument:sn}),yn=Cr.filterFactory||new DefaultFilterFactory({docId:Ir,ownerDocument:sn}),Rn=null;(0,_util.setVerbosityLevel)(Ar);const In={canvasFactory:mn,filterFactory:yn};if(fn||(In.cMapReaderFactory=new $r({baseUrl:Dr,isCompressed:Wr}),In.standardFontDataFactory=new zr({baseUrl:Vr})),!Er){const zn={verbosity:Ar,port:_worker_options.GlobalWorkerOptions.workerPort};Er=zn.port?PDFWorker.fromPort(zn):new PDFWorker(zn),Tr._worker=Er}const Sn={docId:Ir,apiVersion:"3.11.174",data:Nr,password:Mr,disableAutoFetch:Jr,rangeChunkSize:wr,length:rn,docBaseUrl:Sr,enableXfa:tn,evaluatorOptions:{maxImageSize:Fr,disableFontFace:Kr,ignoreErrors:Gr,isEvalSupported:Xr,isOffscreenCanvasSupported:Ur,canvasMaxAreaInBytes:Br,fontExtraProperties:Zr,useSystemFonts:on,cMapUrl:fn?Dr:null,standardFontDataUrl:fn?Vr:null}},Dn={ignoreErrors:Gr,isEvalSupported:Xr,disableFontFace:Kr,fontExtraProperties:Zr,enableXfa:tn,ownerDocument:sn,disableAutoFetch:Jr,pdfBug:nn,styleElement:Rn};return Er.promise.then(function(){if(Tr.destroyed)throw new Error("Loading aborted");const zn=_fetchDocument(Er,Sn),rs=new Promise(function(ns){let fs;jr?fs=new _transport_stream.PDFDataTransportStream({length:rn,initialData:jr.initialData,progressiveDone:jr.progressiveDone,contentDispositionFilename:jr.contentDispositionFilename,disableRange:un,disableStream:hn},jr):Nr||(fs=(ds=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ds):(0,_display_utils.isValidFetchUrl)(ds.url)?new _displayFetch_stream.PDFFetchStream(ds):new _displayNetwork.PDFNetworkStream(ds))({url:Lr,length:rn,httpHeaders:Or,withCredentials:Pr,rangeChunkSize:wr,disableRange:un,disableStream:hn})),ns(fs)});return Promise.all([zn,rs]).then(function([ns,fs]){if(Tr.destroyed)throw new Error("Loading aborted");const qn=new _message_handler.MessageHandler(Ir,ns,Er.port),ds=new WorkerTransport(qn,Tr,fs,Dn,In);Tr._transport=ds,qn.send("Ready",null)})}).catch(Tr._capability.reject),Tr}async function _fetchDocument(Cr,Tr){if(Cr.destroyed)throw new Error("Worker was destroyed");const Ir=await Cr.messageHandler.sendWithPromise("GetDocRequest",Tr,Tr.data?[Tr.data.buffer]:null);if(Cr.destroyed)throw new Error("Worker was destroyed");return Ir}function getUrlProp(Cr){if(Cr instanceof URL)return Cr.href;try{return new URL(Cr,window.location).href}catch{if(_util.isNodeJS&&typeof Cr=="string")return Cr}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Cr){if(_util.isNodeJS&&typeof Buffer<"u"&&Cr instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Cr instanceof Uint8Array&&Cr.byteLength===Cr.buffer.byteLength)return Cr;if(typeof Cr=="string")return(0,_util.stringToBytes)(Cr);if(typeof Cr=="object"&&!isNaN(Cr==null?void 0:Cr.length)||(0,_util.isArrayBuffer)(Cr))return new Uint8Array(Cr);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const er=class er{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${$p(er,tr)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Tr,Ir,Lr;this.destroyed=!0;try{(Tr=this._worker)!=null&&Tr.port&&(this._worker._pendingDestroy=!0),await((Ir=this._transport)==null?void 0:Ir.destroy())}catch(Nr){throw(Lr=this._worker)!=null&&Lr.port&&delete this._worker._pendingDestroy,Nr}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};tr=new WeakMap,ba(er,tr,0);let PDFDocumentLoadingTask=er;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Tr,Ir,Lr=!1,Nr=null){this.length=Tr,this.initialData=Ir,this.progressiveDone=Lr,this.contentDispositionFilename=Nr,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Tr){this._rangeListeners.push(Tr)}addProgressListener(Tr){this._progressListeners.push(Tr)}addProgressiveReadListener(Tr){this._progressiveReadListeners.push(Tr)}addProgressiveDoneListener(Tr){this._progressiveDoneListeners.push(Tr)}onDataRange(Tr,Ir){for(const Lr of this._rangeListeners)Lr(Tr,Ir)}onDataProgress(Tr,Ir){this._readyCapability.promise.then(()=>{for(const Lr of this._progressListeners)Lr(Tr,Ir)})}onDataProgressiveRead(Tr){this._readyCapability.promise.then(()=>{for(const Ir of this._progressiveReadListeners)Ir(Tr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Tr of this._progressiveDoneListeners)Tr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Tr,Ir){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Tr,Ir){this._pdfInfo=Tr,this._transport=Ir,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Lr=>{if(!Lr)return Lr;const Nr=[];for(const Or in Lr)Nr.push(...Lr[Or]);return Nr}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Tr){return this._transport.getPage(Tr)}getPageIndex(Tr){return this._transport.getPageIndex(Tr)}getDestinations(){return this._transport.getDestinations()}getDestination(Tr){return this._transport.getDestination(Tr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Tr=!1){return this._transport.startCleanup(Tr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Tr,Ir,Lr,Nr=!1){ba(this,ir);ba(this,rr,null);ba(this,nr,!1);this._pageIndex=Tr,this._pageInfo=Ir,this._transport=Lr,this._stats=Nr?new _display_utils.StatTimer:null,this._pdfBug=Nr,this.commonObjs=Lr.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Tr,rotation:Ir=this.rotate,offsetX:Lr=0,offsetY:Nr=0,dontFlip:Or=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Tr,rotation:Ir,offsetX:Lr,offsetY:Nr,dontFlip:Or})}getAnnotations({intent:Tr="display"}={}){const Ir=this._transport.getRenderingIntent(Tr);return this._transport.getAnnotations(this._pageIndex,Ir.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Tr;return((Tr=this._transport._htmlForXfa)==null?void 0:Tr.children[this._pageIndex])||null}render({canvasContext:Tr,viewport:Ir,intent:Lr="display",annotationMode:Nr=_util.AnnotationMode.ENABLE,transform:Or=null,background:Pr=null,optionalContentConfigPromise:Mr=null,annotationCanvasMap:jr=null,pageColors:wr=null,printAnnotationStorage:Er=null}){var zr,Gr;(zr=this._stats)==null||zr.time("Overall");const Ar=this._transport.getRenderingIntent(Lr,Nr,Er);ts(this,nr,!1),Yn(this,ir,fm).call(this),Mr||(Mr=this._transport.getOptionalContentConfig());let Sr=this._intentStates.get(Ar.cacheKey);Sr||(Sr=Object.create(null),this._intentStates.set(Ar.cacheKey,Sr)),Sr.streamReaderCancelTimeout&&(clearTimeout(Sr.streamReaderCancelTimeout),Sr.streamReaderCancelTimeout=null);const Dr=!!(Ar.renderingIntent&_util.RenderingIntentFlag.PRINT);Sr.displayReadyCapability||(Sr.displayReadyCapability=new _util.PromiseCapability,Sr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Gr=this._stats)==null||Gr.time("Page Request"),this._pumpOperatorList(Ar));const Wr=Fr=>{var Xr,Ur;Sr.renderTasks.delete($r),(this._maybeCleanupAfterRender||Dr)&&ts(this,nr,!0),Yn(this,ir,gp).call(this,!Dr),Fr?($r.capability.reject(Fr),this._abortOperatorList({intentState:Sr,reason:Fr instanceof Error?Fr:new Error(Fr)})):$r.capability.resolve(),(Xr=this._stats)==null||Xr.timeEnd("Rendering"),(Ur=this._stats)==null||Ur.timeEnd("Overall")},$r=new InternalRenderTask({callback:Wr,params:{canvasContext:Tr,viewport:Ir,transform:Or,background:Pr},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:jr,operatorList:Sr.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dr,pdfBug:this._pdfBug,pageColors:wr});(Sr.renderTasks||(Sr.renderTasks=new Set)).add($r);const Vr=$r.task;return Promise.all([Sr.displayReadyCapability.promise,Mr]).then(([Fr,Xr])=>{var Ur;if(this.destroyed){Wr();return}(Ur=this._stats)==null||Ur.time("Rendering"),$r.initializeGraphics({transparency:Fr,optionalContentConfig:Xr}),$r.operatorListChanged()}).catch(Wr),Vr}getOperatorList({intent:Tr="display",annotationMode:Ir=_util.AnnotationMode.ENABLE,printAnnotationStorage:Lr=null}={}){var jr;function Nr(){Pr.operatorList.lastChunk&&(Pr.opListReadCapability.resolve(Pr.operatorList),Pr.renderTasks.delete(Mr))}const Or=this._transport.getRenderingIntent(Tr,Ir,Lr,!0);let Pr=this._intentStates.get(Or.cacheKey);Pr||(Pr=Object.create(null),this._intentStates.set(Or.cacheKey,Pr));let Mr;return Pr.opListReadCapability||(Mr=Object.create(null),Mr.operatorListChanged=Nr,Pr.opListReadCapability=new _util.PromiseCapability,(Pr.renderTasks||(Pr.renderTasks=new Set)).add(Mr),Pr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jr=this._stats)==null||jr.time("Page Request"),this._pumpOperatorList(Or)),Pr.opListReadCapability.promise}streamTextContent({includeMarkedContent:Tr=!1,disableNormalization:Ir=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Tr===!0,disableNormalization:Ir===!0},{highWaterMark:100,size(Nr){return Nr.items.length}})}getTextContent(Tr={}){if(this._transport._htmlForXfa)return this.getXfa().then(Lr=>_xfa_text.XfaText.textContent(Lr));const Ir=this.streamTextContent(Tr);return new Promise(function(Lr,Nr){function Or(){Pr.read().then(function({value:jr,done:wr}){if(wr){Lr(Mr);return}Object.assign(Mr.styles,jr.styles),Mr.items.push(...jr.items),Or()},Nr)}const Pr=Ir.getReader(),Mr={items:[],styles:Object.create(null)};Or()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Tr=[];for(const Ir of this._intentStates.values())if(this._abortOperatorList({intentState:Ir,reason:new Error("Page was destroyed."),force:!0}),!Ir.opListReadCapability)for(const Lr of Ir.renderTasks)Tr.push(Lr.completed),Lr.cancel();return this.objs.clear(),ts(this,nr,!1),Yn(this,ir,fm).call(this),Promise.all(Tr)}cleanup(Tr=!1){ts(this,nr,!0);const Ir=Yn(this,ir,gp).call(this,!1);return Tr&&Ir&&this._stats&&(this._stats=new _display_utils.StatTimer),Ir}_startRenderPage(Tr,Ir){var Nr,Or;const Lr=this._intentStates.get(Ir);Lr&&((Nr=this._stats)==null||Nr.timeEnd("Page Request"),(Or=Lr.displayReadyCapability)==null||Or.resolve(Tr))}_renderPageChunk(Tr,Ir){for(let Lr=0,Nr=Tr.length;Lr<Nr;Lr++)Ir.operatorList.fnArray.push(Tr.fnArray[Lr]),Ir.operatorList.argsArray.push(Tr.argsArray[Lr]);Ir.operatorList.lastChunk=Tr.lastChunk,Ir.operatorList.separateAnnots=Tr.separateAnnots;for(const Lr of Ir.renderTasks)Lr.operatorListChanged();Tr.lastChunk&&Yn(this,ir,gp).call(this,!0)}_pumpOperatorList({renderingIntent:Tr,cacheKey:Ir,annotationStorageSerializable:Lr}){const{map:Nr,transfers:Or}=Lr,Mr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Tr,cacheKey:Ir,annotationStorage:Nr},Or).getReader(),jr=this._intentStates.get(Ir);jr.streamReader=Mr;const wr=()=>{Mr.read().then(({value:Er,done:Ar})=>{if(Ar){jr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Er,jr),wr())},Er=>{if(jr.streamReader=null,!this._transport.destroyed){if(jr.operatorList){jr.operatorList.lastChunk=!0;for(const Ar of jr.renderTasks)Ar.operatorListChanged();Yn(this,ir,gp).call(this,!0)}if(jr.displayReadyCapability)jr.displayReadyCapability.reject(Er);else if(jr.opListReadCapability)jr.opListReadCapability.reject(Er);else throw Er}})};wr()}_abortOperatorList({intentState:Tr,reason:Ir,force:Lr=!1}){if(Tr.streamReader){if(Tr.streamReaderCancelTimeout&&(clearTimeout(Tr.streamReaderCancelTimeout),Tr.streamReaderCancelTimeout=null),!Lr){if(Tr.renderTasks.size>0)return;if(Ir instanceof _display_utils.RenderingCancelledException){let Nr=RENDERING_CANCELLED_TIMEOUT;Ir.extraDelay>0&&Ir.extraDelay<1e3&&(Nr+=Ir.extraDelay),Tr.streamReaderCancelTimeout=setTimeout(()=>{Tr.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Tr,reason:Ir,force:!0})},Nr);return}}if(Tr.streamReader.cancel(new _util.AbortException(Ir.message)).catch(()=>{}),Tr.streamReader=null,!this._transport.destroyed){for(const[Nr,Or]of this._intentStates)if(Or===Tr){this._intentStates.delete(Nr);break}this.cleanup()}}}get stats(){return this._stats}}rr=new WeakMap,nr=new WeakMap,ir=new WeakSet,gp=function(Tr=!1){if(Yn(this,ir,fm).call(this),!cn(this,nr)||this.destroyed)return!1;if(Tr)return ts(this,rr,setTimeout(()=>{ts(this,rr,null),Yn(this,ir,gp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ir,operatorList:Lr}of this._intentStates.values())if(Ir.size>0||!Lr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ts(this,nr,!1),!0},fm=function(){cn(this,rr)&&(clearTimeout(cn(this,rr)),ts(this,rr,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ba(this,lr,new Set);ba(this,or,Promise.resolve())}postMessage(Tr,Ir){const Lr={data:structuredClone(Tr,Ir?{transfer:Ir}:null)};cn(this,or).then(()=>{for(const Nr of cn(this,lr))Nr.call(this,Lr)})}addEventListener(Tr,Ir){cn(this,lr).add(Ir)}removeEventListener(Tr,Ir){cn(this,lr).delete(Ir)}terminate(){cn(this,lr).clear()}}lr=new WeakMap,or=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Cr=(cr=document==null?void 0:document.currentScript)==null?void 0:cr.src;Cr&&(PDFWorkerUtil.fallbackWorkerSrc=Cr.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Cr,Tr){let Ir;try{if(Ir=new URL(Cr),!Ir.origin||Ir.origin==="null")return!1}catch{return!1}const Lr=new URL(Tr,Ir);return Ir.origin===Lr.origin},PDFWorkerUtil.createCDNWrapper=function(Cr){const Tr=`importScripts("${Cr}");`;return URL.createObjectURL(new Blob([Tr]))}}const _PDFWorker=class _PDFWorker{constructor({name:Cr=null,port:Tr=null,verbosity:Ir=(0,_util.getVerbosityLevel)()}={}){var Lr;if(this.name=Cr,this.destroyed=!1,this.verbosity=Ir,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Tr){if((Lr=cn(_PDFWorker,ur))!=null&&Lr.has(Tr))throw new Error("Cannot use more than one PDFWorker per port.");(cn(_PDFWorker,ur)||ts(_PDFWorker,ur,new WeakMap)).set(Tr,this),this._initializeFromPort(Tr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Cr){this._port=Cr,this._messageHandler=new _message_handler.MessageHandler("main","worker",Cr),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Cr}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Cr)||(Cr=PDFWorkerUtil.createCDNWrapper(new URL(Cr,window.location).href));const Tr=new Worker(Cr),Ir=new _message_handler.MessageHandler("main","worker",Tr),Lr=()=>{Tr.removeEventListener("error",Nr),Ir.destroy(),Tr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Nr=()=>{this._webWorker||Lr()};Tr.addEventListener("error",Nr),Ir.on("test",Pr=>{if(Tr.removeEventListener("error",Nr),this.destroyed){Lr();return}Pr?(this._messageHandler=Ir,this._port=Tr,this._webWorker=Tr,this._readyCapability.resolve(),Ir.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ir.destroy(),Tr.terminate())}),Ir.on("ready",Pr=>{if(Tr.removeEventListener("error",Nr),this.destroyed){Lr();return}try{Or()}catch{this._setupFakeWorker()}});const Or=()=>{const Pr=new Uint8Array;Ir.send("test",Pr,[Pr.buffer])};Or();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Cr=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Tr=new LoopbackPort;this._port=Tr;const Ir=`fake${PDFWorkerUtil.fakeWorkerId++}`,Lr=new _message_handler.MessageHandler(Ir+"_worker",Ir,Tr);Cr.setup(Lr,Tr);const Nr=new _message_handler.MessageHandler(Ir,Ir+"_worker",Tr);this._messageHandler=Nr,this._readyCapability.resolve(),Nr.send("configure",{verbosity:this.verbosity})}).catch(Cr=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Cr.message}".`))})}destroy(){var Cr;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Cr=cn(_PDFWorker,ur))==null||Cr.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Cr){var Ir;if(!(Cr!=null&&Cr.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Tr=(Ir=cn(this,ur))==null?void 0:Ir.get(Cr.port);if(Tr){if(Tr._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Tr}return new _PDFWorker(Cr)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Cr;try{return((Cr=globalThis.pdfjsWorker)==null?void 0:Cr.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};ur=new WeakMap,ba(_PDFWorker,ur);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(Tr,Ir,Lr,Nr,Or){ba(this,br);ba(this,dr,new Map);ba(this,hr,new Map);ba(this,fr,new Map);ba(this,mr,null);this.messageHandler=Tr,this.loadingTask=Ir,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Nr.ownerDocument,styleElement:Nr.styleElement}),this._params=Nr,this.canvasFactory=Or.canvasFactory,this.filterFactory=Or.filterFactory,this.cMapReaderFactory=Or.cMapReaderFactory,this.standardFontDataFactory=Or.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Lr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Tr,Ir=_util.AnnotationMode.ENABLE,Lr=null,Nr=!1){let Or=_util.RenderingIntentFlag.DISPLAY,Pr=_annotation_storage.SerializableEmpty;switch(Tr){case"any":Or=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Or=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Tr}`)}switch(Ir){case _util.AnnotationMode.DISABLE:Or+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Or+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Or+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Pr=(Or&_util.RenderingIntentFlag.PRINT&&Lr instanceof _annotation_storage.PrintAnnotationStorage?Lr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ir}`)}return Nr&&(Or+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Or,cacheKey:`${Or}_${Pr.hash}`,annotationStorageSerializable:Pr}}destroy(){var Lr;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Lr=cn(this,mr))==null||Lr.reject(new Error("Worker was destroyed during onPassword callback"));const Tr=[];for(const Nr of cn(this,hr).values())Tr.push(Nr._destroy());cn(this,hr).clear(),cn(this,fr).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ir=this.messageHandler.sendWithPromise("Terminate",null);return Tr.push(Ir),Promise.all(Tr).then(()=>{var Nr;this.commonObjs.clear(),this.fontLoader.clear(),cn(this,dr).clear(),this.filterFactory.destroy(),(Nr=this._networkStream)==null||Nr.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Tr,loadingTask:Ir}=this;Tr.on("GetReader",(Lr,Nr)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Or=>{this._lastProgress={loaded:Or.loaded,total:Or.total}},Nr.onPull=()=>{this._fullReader.read().then(function({value:Or,done:Pr}){if(Pr){Nr.close();return}(0,_util.assert)(Or instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Nr.enqueue(new Uint8Array(Or),1,[Or])}).catch(Or=>{Nr.error(Or)})},Nr.onCancel=Or=>{this._fullReader.cancel(Or),Nr.ready.catch(Pr=>{if(!this.destroyed)throw Pr})}}),Tr.on("ReaderHeadersReady",Lr=>{const Nr=new _util.PromiseCapability,Or=this._fullReader;return Or.headersReady.then(()=>{var Pr;(!Or.isStreamingSupported||!Or.isRangeSupported)&&(this._lastProgress&&((Pr=Ir.onProgress)==null||Pr.call(Ir,this._lastProgress)),Or.onProgress=Mr=>{var jr;(jr=Ir.onProgress)==null||jr.call(Ir,{loaded:Mr.loaded,total:Mr.total})}),Nr.resolve({isStreamingSupported:Or.isStreamingSupported,isRangeSupported:Or.isRangeSupported,contentLength:Or.contentLength})},Nr.reject),Nr.promise}),Tr.on("GetRangeReader",(Lr,Nr)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Or=this._networkStream.getRangeReader(Lr.begin,Lr.end);if(!Or){Nr.close();return}Nr.onPull=()=>{Or.read().then(function({value:Pr,done:Mr}){if(Mr){Nr.close();return}(0,_util.assert)(Pr instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Nr.enqueue(new Uint8Array(Pr),1,[Pr])}).catch(Pr=>{Nr.error(Pr)})},Nr.onCancel=Pr=>{Or.cancel(Pr),Nr.ready.catch(Mr=>{if(!this.destroyed)throw Mr})}}),Tr.on("GetDoc",({pdfInfo:Lr})=>{this._numPages=Lr.numPages,this._htmlForXfa=Lr.htmlForXfa,delete Lr.htmlForXfa,Ir._capability.resolve(new PDFDocumentProxy(Lr,this))}),Tr.on("DocException",function(Lr){let Nr;switch(Lr.name){case"PasswordException":Nr=new _util.PasswordException(Lr.message,Lr.code);break;case"InvalidPDFException":Nr=new _util.InvalidPDFException(Lr.message);break;case"MissingPDFException":Nr=new _util.MissingPDFException(Lr.message);break;case"UnexpectedResponseException":Nr=new _util.UnexpectedResponseException(Lr.message,Lr.status);break;case"UnknownErrorException":Nr=new _util.UnknownErrorException(Lr.message,Lr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ir._capability.reject(Nr)}),Tr.on("PasswordRequest",Lr=>{if(ts(this,mr,new _util.PromiseCapability),Ir.onPassword){const Nr=Or=>{Or instanceof Error?cn(this,mr).reject(Or):cn(this,mr).resolve({password:Or})};try{Ir.onPassword(Nr,Lr.code)}catch(Or){cn(this,mr).reject(Or)}}else cn(this,mr).reject(new _util.PasswordException(Lr.message,Lr.code));return cn(this,mr).promise}),Tr.on("DataLoaded",Lr=>{var Nr;(Nr=Ir.onProgress)==null||Nr.call(Ir,{loaded:Lr.length,total:Lr.length}),this.downloadInfoCapability.resolve(Lr)}),Tr.on("StartRenderPage",Lr=>{if(this.destroyed)return;cn(this,hr).get(Lr.pageIndex)._startRenderPage(Lr.transparency,Lr.cacheKey)}),Tr.on("commonobj",([Lr,Nr,Or])=>{var Pr;if(!this.destroyed&&!this.commonObjs.has(Lr))switch(Nr){case"Font":const Mr=this._params;if("error"in Or){const Er=Or.error;(0,_util.warn)(`Error during font loading: ${Er}`),this.commonObjs.resolve(Lr,Er);break}const jr=Mr.pdfBug&&((Pr=globalThis.FontInspector)!=null&&Pr.enabled)?(Er,Ar)=>globalThis.FontInspector.fontAdded(Er,Ar):null,wr=new _font_loader.FontFaceObject(Or,{isEvalSupported:Mr.isEvalSupported,disableFontFace:Mr.disableFontFace,ignoreErrors:Mr.ignoreErrors,inspectFont:jr});this.fontLoader.bind(wr).catch(Er=>Tr.sendWithPromise("FontFallback",{id:Lr})).finally(()=>{!Mr.fontExtraProperties&&wr.data&&(wr.data=null),this.commonObjs.resolve(Lr,wr)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Lr,Or);break;default:throw new Error(`Got unknown common object type ${Nr}`)}}),Tr.on("obj",([Lr,Nr,Or,Pr])=>{var jr;if(this.destroyed)return;const Mr=cn(this,hr).get(Nr);if(!Mr.objs.has(Lr))switch(Or){case"Image":if(Mr.objs.resolve(Lr,Pr),Pr){let wr;if(Pr.bitmap){const{width:Er,height:Ar}=Pr;wr=Er*Ar*4}else wr=((jr=Pr.data)==null?void 0:jr.length)||0;wr>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Mr._maybeCleanupAfterRender=!0)}break;case"Pattern":Mr.objs.resolve(Lr,Pr);break;default:throw new Error(`Got unknown object type ${Or}`)}}),Tr.on("DocProgress",Lr=>{var Nr;this.destroyed||(Nr=Ir.onProgress)==null||Nr.call(Ir,{loaded:Lr.loaded,total:Lr.total})}),Tr.on("FetchBuiltInCMap",Lr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Lr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Tr.on("FetchStandardFontData",Lr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Lr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Lr;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Tr,transfers:Ir}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Tr,filename:((Lr=this._fullReader)==null?void 0:Lr.filename)??null},Ir).finally(()=>{this.annotationStorage.resetModified()})}getPage(Tr){if(!Number.isInteger(Tr)||Tr<=0||Tr>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ir=Tr-1,Lr=cn(this,fr).get(Ir);if(Lr)return Lr;const Nr=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ir}).then(Or=>{if(this.destroyed)throw new Error("Transport destroyed");const Pr=new PDFPageProxy(Ir,Or,this,this._params.pdfBug);return cn(this,hr).set(Ir,Pr),Pr});return cn(this,fr).set(Ir,Nr),Nr}getPageIndex(Tr){return typeof Tr!="object"||Tr===null||!Number.isInteger(Tr.num)||Tr.num<0||!Number.isInteger(Tr.gen)||Tr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Tr.num,gen:Tr.gen})}getAnnotations(Tr,Ir){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Tr,intent:Ir})}getFieldObjects(){return Yn(this,br,pm).call(this,"GetFieldObjects")}hasJSActions(){return Yn(this,br,pm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Tr){return typeof Tr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Tr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Yn(this,br,pm).call(this,"GetDocJSActions")}getPageJSActions(Tr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Tr})}getStructTree(Tr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Tr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Tr=>new _optional_content_config.OptionalContentConfig(Tr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Tr="GetMetadata",Ir=cn(this,dr).get(Tr);if(Ir)return Ir;const Lr=this.messageHandler.sendWithPromise(Tr,null).then(Nr=>{var Or,Pr;return{info:Nr[0],metadata:Nr[1]?new _metadata.Metadata(Nr[1]):null,contentDispositionFilename:((Or=this._fullReader)==null?void 0:Or.filename)??null,contentLength:((Pr=this._fullReader)==null?void 0:Pr.contentLength)??null}});return cn(this,dr).set(Tr,Lr),Lr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Tr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ir of cn(this,hr).values())if(!Ir.cleanup())throw new Error(`startCleanup: Page ${Ir.pageNumber} is currently rendering.`);this.commonObjs.clear(),Tr||this.fontLoader.clear(),cn(this,dr).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Tr,enableXfa:Ir}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Tr,enableXfa:Ir})}}dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakSet,pm=function(Tr,Ir=null){const Lr=cn(this,dr).get(Tr);if(Lr)return Lr;const Nr=this.messageHandler.sendWithPromise(Tr,Ir);return cn(this,dr).set(Tr,Nr),Nr};class PDFObjects{constructor(){ba(this,yr);ba(this,gr,Object.create(null))}get(Tr,Ir=null){if(Ir){const Nr=Yn(this,yr,qm).call(this,Tr);return Nr.capability.promise.then(()=>Ir(Nr.data)),null}const Lr=cn(this,gr)[Tr];if(!(Lr!=null&&Lr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Tr}.`);return Lr.data}has(Tr){const Ir=cn(this,gr)[Tr];return(Ir==null?void 0:Ir.capability.settled)||!1}resolve(Tr,Ir=null){const Lr=Yn(this,yr,qm).call(this,Tr);Lr.data=Ir,Lr.capability.resolve()}clear(){var Tr;for(const Ir in cn(this,gr)){const{data:Lr}=cn(this,gr)[Ir];(Tr=Lr==null?void 0:Lr.bitmap)==null||Tr.close()}ts(this,gr,Object.create(null))}}gr=new WeakMap,yr=new WeakSet,qm=function(Tr){var Ir;return(Ir=cn(this,gr))[Tr]||(Ir[Tr]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Tr){ba(this,_r,null);ts(this,_r,Tr),this.onContinue=null}get promise(){return cn(this,_r).capability.promise}cancel(Tr=0){cn(this,_r).cancel(null,Tr)}get separateAnnots(){const{separateAnnots:Tr}=cn(this,_r).operatorList;if(!Tr)return!1;const{annotationCanvasMap:Ir}=cn(this,_r);return Tr.form||Tr.canvas&&(Ir==null?void 0:Ir.size)>0}}_r=new WeakMap,exports$1.RenderTask=RenderTask;const Rr=class Rr{constructor({callback:Tr,params:Ir,objs:Lr,commonObjs:Nr,annotationCanvasMap:Or,operatorList:Pr,pageIndex:Mr,canvasFactory:jr,filterFactory:wr,useRequestAnimationFrame:Er=!1,pdfBug:Ar=!1,pageColors:Sr=null}){this.callback=Tr,this.params=Ir,this.objs=Lr,this.commonObjs=Nr,this.annotationCanvasMap=Or,this.operatorListIdx=null,this.operatorList=Pr,this._pageIndex=Mr,this.canvasFactory=jr,this.filterFactory=wr,this._pdfBug=Ar,this.pageColors=Sr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Er===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ir.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Tr=!1,optionalContentConfig:Ir}){var Mr,jr;if(this.cancelled)return;if(this._canvas){if(cn(Rr,xr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");cn(Rr,xr).add(this._canvas)}this._pdfBug&&((Mr=globalThis.StepperManager)!=null&&Mr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Lr,viewport:Nr,transform:Or,background:Pr}=this.params;this.gfx=new _canvas.CanvasGraphics(Lr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ir},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Or,viewport:Nr,transparency:Tr,background:Pr}),this.operatorListIdx=0,this.graphicsReady=!0,(jr=this.graphicsReadyCallback)==null||jr.call(this)}cancel(Tr=null,Ir=0){var Lr;this.running=!1,this.cancelled=!0,(Lr=this.gfx)==null||Lr.endDrawing(),cn(Rr,xr).delete(this._canvas),this.callback(Tr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ir))}operatorListChanged(){var Tr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Tr=this.stepper)==null||Tr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),cn(Rr,xr).delete(this._canvas),this.callback())))}};xr=new WeakMap,ba(Rr,xr,new WeakSet);let InternalRenderTask=Rr;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(tr,er,rr)=>{var cr,ur,dr,ey,fr;Object.defineProperty(er,"__esModule",{value:!0}),er.SerializableEmpty=er.PrintAnnotationStorage=er.AnnotationStorage=void 0;var nr=rr(1),ir=rr(4),ar=rr(8);const sr=Object.freeze({map:null,hash:"",transfers:void 0});er.SerializableEmpty=sr;class lr{constructor(){ba(this,dr);ba(this,cr,!1);ba(this,ur,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(br,pr){const gr=cn(this,ur).get(br);return gr===void 0?pr:Object.assign(pr,gr)}getRawValue(br){return cn(this,ur).get(br)}remove(br){if(cn(this,ur).delete(br),cn(this,ur).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pr of cn(this,ur).values())if(pr instanceof ir.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(br,pr){const gr=cn(this,ur).get(br);let yr=!1;if(gr!==void 0)for(const[vr,_r]of Object.entries(pr))gr[vr]!==_r&&(yr=!0,gr[vr]=_r);else yr=!0,cn(this,ur).set(br,pr);yr&&Yn(this,dr,ey).call(this),pr instanceof ir.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pr.constructor._type)}has(br){return cn(this,ur).has(br)}getAll(){return cn(this,ur).size>0?(0,nr.objectFromMap)(cn(this,ur)):null}setAll(br){for(const[pr,gr]of Object.entries(br))this.setValue(pr,gr)}get size(){return cn(this,ur).size}resetModified(){cn(this,cr)&&(ts(this,cr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new or(this)}get serializable(){if(cn(this,ur).size===0)return sr;const br=new Map,pr=new ar.MurmurHash3_64,gr=[],yr=Object.create(null);let vr=!1;for(const[_r,xr]of cn(this,ur)){const Rr=xr instanceof ir.AnnotationEditor?xr.serialize(!1,yr):xr;Rr&&(br.set(_r,Rr),pr.update(`${_r}:${JSON.stringify(Rr)}`),vr||(vr=!!Rr.bitmap))}if(vr)for(const _r of br.values())_r.bitmap&&gr.push(_r.bitmap);return br.size>0?{map:br,hash:pr.hexdigest(),transfers:gr}:sr}}cr=new WeakMap,ur=new WeakMap,dr=new WeakSet,ey=function(){cn(this,cr)||(ts(this,cr,!0),typeof this.onSetModified=="function"&&this.onSetModified())},er.AnnotationStorage=lr;class or extends lr{constructor(pr){super();ba(this,fr);const{map:gr,hash:yr,transfers:vr}=pr.serializable,_r=structuredClone(gr,vr?{transfer:vr}:null);ts(this,fr,{map:_r,hash:yr,transfers:vr})}get print(){(0,nr.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return cn(this,fr)}}fr=new WeakMap,er.PrintAnnotationStorage=or},(tr,er,rr)=>{var or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr,_r,xr,Rr,Gm,Km,Ir,Xm,Ym,ty,ry,ny,Qm,iy;Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditor=void 0;var nr=rr(5),ir=rr(1),ar=rr(6);const Er=class Er{constructor(Sr){ba(this,Rr);ba(this,or,"");ba(this,cr,!1);ba(this,ur,null);ba(this,dr,null);ba(this,hr,null);ba(this,fr,!1);ba(this,mr,null);ba(this,br,this.focusin.bind(this));ba(this,pr,this.focusout.bind(this));ba(this,gr,!1);ba(this,yr,!1);ba(this,vr,!1);Ao(this,"_initialOptions",Object.create(null));Ao(this,"_uiManager",null);Ao(this,"_focusEventsAllowed",!0);Ao(this,"_l10nPromise",null);ba(this,_r,!1);ba(this,xr,Er._zIndex++);this.constructor===Er&&(0,ir.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Sr.parent,this.id=Sr.id,this.width=this.height=null,this.pageIndex=Sr.parent.pageIndex,this.name=Sr.name,this.div=null,this._uiManager=Sr.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Sr.isCentered,this._structTreeParentId=null;const{rotation:Dr,rawDims:{pageWidth:Wr,pageHeight:$r,pageX:Vr,pageY:zr}}=this.parent.viewport;this.rotation=Dr,this.pageRotation=(360+Dr-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Wr,$r],this.pageTranslation=[Vr,zr];const[Gr,Fr]=this.parentDimensions;this.x=Sr.x/Gr,this.y=Sr.y/Fr,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,ir.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Sr){const Dr=new lr({id:Sr.parent.getNextId(),parent:Sr.parent,uiManager:Sr._uiManager});Dr.annotationElementId=Sr.annotationElementId,Dr.deleted=!0,Dr._uiManager.addToAnnotationStorage(Dr)}static initialize(Sr,Dr=null){if(Er._l10nPromise||(Er._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map($r=>[$r,Sr.get($r)]))),Dr!=null&&Dr.strings)for(const $r of Dr.strings)Er._l10nPromise.set($r,Sr.get($r));if(Er._borderLineWidth!==-1)return;const Wr=getComputedStyle(document.documentElement);Er._borderLineWidth=parseFloat(Wr.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Sr,Dr){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Sr){return!1}static paste(Sr,Dr){(0,ir.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return cn(this,_r)}set _isDraggable(Sr){var Dr;ts(this,_r,Sr),(Dr=this.div)==null||Dr.classList.toggle("draggable",Sr)}center(){const[Sr,Dr]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Dr/(Sr*2),this.y+=this.width*Sr/(Dr*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Dr/(Sr*2),this.y-=this.width*Sr/(Dr*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Sr){this._uiManager.addCommands(Sr)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=cn(this,xr)}setParent(Sr){Sr!==null&&(this.pageIndex=Sr.pageIndex,this.pageDimensions=Sr.pageDimensions),this.parent=Sr}focusin(Sr){this._focusEventsAllowed&&(cn(this,gr)?ts(this,gr,!1):this.parent.setSelected(this))}focusout(Sr){var Wr;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Dr=Sr.relatedTarget;Dr!=null&&Dr.closest(`#${this.id}`)||(Sr.preventDefault(),(Wr=this.parent)!=null&&Wr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Sr,Dr,Wr,$r){const[Vr,zr]=this.parentDimensions;[Wr,$r]=this.screenToPageTranslation(Wr,$r),this.x=(Sr+Wr)/Vr,this.y=(Dr+$r)/zr,this.fixAndSetPosition()}translate(Sr,Dr){Yn(this,Rr,Gm).call(this,this.parentDimensions,Sr,Dr)}translateInPage(Sr,Dr){Yn(this,Rr,Gm).call(this,this.pageDimensions,Sr,Dr),this.div.scrollIntoView({block:"nearest"})}drag(Sr,Dr){const[Wr,$r]=this.parentDimensions;if(this.x+=Sr/Wr,this.y+=Dr/$r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Xr,y:Ur}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Xr,Ur)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Vr,y:zr}=this;const[Gr,Fr]=Yn(this,Rr,Km).call(this);Vr+=Gr,zr+=Fr,this.div.style.left=`${(100*Vr).toFixed(2)}%`,this.div.style.top=`${(100*zr).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Sr,Dr]=this.pageDimensions;let{x:Wr,y:$r,width:Vr,height:zr}=this;switch(Vr*=Sr,zr*=Dr,Wr*=Sr,$r*=Dr,this.rotation){case 0:Wr=Math.max(0,Math.min(Sr-Vr,Wr)),$r=Math.max(0,Math.min(Dr-zr,$r));break;case 90:Wr=Math.max(0,Math.min(Sr-zr,Wr)),$r=Math.min(Dr,Math.max(Vr,$r));break;case 180:Wr=Math.min(Sr,Math.max(Vr,Wr)),$r=Math.min(Dr,Math.max(zr,$r));break;case 270:Wr=Math.min(Sr,Math.max(zr,Wr)),$r=Math.max(0,Math.min(Dr-Vr,$r));break}this.x=Wr/=Sr,this.y=$r/=Dr;const[Gr,Fr]=Yn(this,Rr,Km).call(this);Wr+=Gr,$r+=Fr;const{style:Xr}=this.div;Xr.left=`${(100*Wr).toFixed(2)}%`,Xr.top=`${(100*$r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Sr,Dr){var Wr;return Yn(Wr=Er,Ir,Xm).call(Wr,Sr,Dr,this.parentRotation)}pageTranslationToScreen(Sr,Dr){var Wr;return Yn(Wr=Er,Ir,Xm).call(Wr,Sr,Dr,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Sr,pageDimensions:[Dr,Wr]}=this,$r=Dr*Sr,Vr=Wr*Sr;return ir.FeatureTest.isCSSRoundSupported?[Math.round($r),Math.round(Vr)]:[$r,Vr]}setDims(Sr,Dr){var Vr;const[Wr,$r]=this.parentDimensions;this.div.style.width=`${(100*Sr/Wr).toFixed(2)}%`,cn(this,fr)||(this.div.style.height=`${(100*Dr/$r).toFixed(2)}%`),(Vr=cn(this,ur))==null||Vr.classList.toggle("small",Sr<Er.SMALL_EDITOR_SIZE||Dr<Er.SMALL_EDITOR_SIZE)}fixDims(){const{style:Sr}=this.div,{height:Dr,width:Wr}=Sr,$r=Wr.endsWith("%"),Vr=!cn(this,fr)&&Dr.endsWith("%");if($r&&Vr)return;const[zr,Gr]=this.parentDimensions;$r||(Sr.width=`${(100*parseFloat(Wr)/zr).toFixed(2)}%`),!cn(this,fr)&&!Vr&&(Sr.height=`${(100*parseFloat(Dr)/Gr).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(cn(this,ur))return;const Sr=ts(this,ur,document.createElement("button"));Sr.className="altText";const Dr=await Er._l10nPromise.get("editor_alt_text_button_label");Sr.textContent=Dr,Sr.setAttribute("aria-label",Dr),Sr.tabIndex="0",Sr.addEventListener("contextmenu",ar.noContextMenu),Sr.addEventListener("pointerdown",Wr=>Wr.stopPropagation()),Sr.addEventListener("click",Wr=>{Wr.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Sr.addEventListener("keydown",Wr=>{Wr.target===Sr&&Wr.key==="Enter"&&(Wr.preventDefault(),this._uiManager.editAltText(this))}),Yn(this,Rr,Qm).call(this),this.div.append(Sr),Er.SMALL_EDITOR_SIZE||(Er.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Sr.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:cn(this,or),decorative:cn(this,cr)}}set altTextData({altText:Sr,decorative:Dr}){cn(this,or)===Sr&&cn(this,cr)===Dr||(ts(this,or,Sr),ts(this,cr,Dr),Yn(this,Rr,Qm).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",cn(this,br)),this.div.addEventListener("focusout",cn(this,pr));const[Sr,Dr]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Dr/Sr).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Sr/Dr).toFixed(2)}%`);const[Wr,$r]=this.getInitialTranslation();return this.translate(Wr,$r),(0,nr.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Sr){const{isMac:Dr}=ir.FeatureTest.platform;if(Sr.button!==0||Sr.ctrlKey&&Dr){Sr.preventDefault();return}ts(this,gr,!0),Yn(this,Rr,iy).call(this,Sr)}moveInDOM(){var Sr;(Sr=this.parent)==null||Sr.moveEditorInDOM(this)}_setParentAndPosition(Sr,Dr,Wr){Sr.changeParent(this),this.x=Dr,this.y=Wr,this.fixAndSetPosition()}getRect(Sr,Dr){const Wr=this.parentScale,[$r,Vr]=this.pageDimensions,[zr,Gr]=this.pageTranslation,Fr=Sr/Wr,Xr=Dr/Wr,Ur=this.x*$r,Br=this.y*Vr,Kr=this.width*$r,Zr=this.height*Vr;switch(this.rotation){case 0:return[Ur+Fr+zr,Vr-Br-Xr-Zr+Gr,Ur+Fr+Kr+zr,Vr-Br-Xr+Gr];case 90:return[Ur+Xr+zr,Vr-Br+Fr+Gr,Ur+Xr+Zr+zr,Vr-Br+Fr+Kr+Gr];case 180:return[Ur-Fr-Kr+zr,Vr-Br+Xr+Gr,Ur-Fr+zr,Vr-Br+Xr+Zr+Gr];case 270:return[Ur-Xr-Zr+zr,Vr-Br-Fr-Kr+Gr,Ur-Xr+zr,Vr-Br-Fr+Gr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Sr,Dr){const[Wr,$r,Vr,zr]=Sr,Gr=Vr-Wr,Fr=zr-$r;switch(this.rotation){case 0:return[Wr,Dr-zr,Gr,Fr];case 90:return[Wr,Dr-$r,Fr,Gr];case 180:return[Vr,Dr-$r,Gr,Fr];case 270:return[Vr,Dr-zr,Fr,Gr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ts(this,vr,!0)}disableEditMode(){ts(this,vr,!1)}isInEditMode(){return cn(this,vr)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Sr,Dr;(Sr=this.div)==null||Sr.addEventListener("focusin",cn(this,br)),(Dr=this.div)==null||Dr.addEventListener("focusout",cn(this,pr))}serialize(Sr=!1,Dr=null){(0,ir.unreachable)("An editor must be serializable")}static deserialize(Sr,Dr,Wr){const $r=new this.prototype.constructor({parent:Dr,id:Dr.getNextId(),uiManager:Wr});$r.rotation=Sr.rotation;const[Vr,zr]=$r.pageDimensions,[Gr,Fr,Xr,Ur]=$r.getRectInCurrentCoords(Sr.rect,zr);return $r.x=Gr/Vr,$r.y=Fr/zr,$r.width=Xr/Vr,$r.height=Ur/zr,$r}remove(){var Sr;this.div.removeEventListener("focusin",cn(this,br)),this.div.removeEventListener("focusout",cn(this,pr)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Sr=cn(this,ur))==null||Sr.remove(),ts(this,ur,null),ts(this,dr,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Yn(this,Rr,ty).call(this),cn(this,mr).classList.remove("hidden"))}select(){var Sr;this.makeResizable(),(Sr=this.div)==null||Sr.classList.add("selectedEditor")}unselect(){var Sr,Dr,Wr;(Sr=cn(this,mr))==null||Sr.classList.add("hidden"),(Dr=this.div)==null||Dr.classList.remove("selectedEditor"),(Wr=this.div)!=null&&Wr.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Sr,Dr){}disableEditing(){cn(this,ur)&&(cn(this,ur).hidden=!0)}enableEditing(){cn(this,ur)&&(cn(this,ur).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return cn(this,yr)}set isEditing(Sr){ts(this,yr,Sr),this.parent&&(Sr?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Sr,Dr){ts(this,fr,!0);const Wr=Sr/Dr,{style:$r}=this.div;$r.aspectRatio=Wr,$r.height="auto"}static get MIN_SIZE(){return 16}};or=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,_r=new WeakMap,xr=new WeakMap,Rr=new WeakSet,Gm=function([Sr,Dr],Wr,$r){[Wr,$r]=this.screenToPageTranslation(Wr,$r),this.x+=Wr/Sr,this.y+=$r/Dr,this.fixAndSetPosition()},Km=function(){const[Sr,Dr]=this.parentDimensions,{_borderLineWidth:Wr}=Er,$r=Wr/Sr,Vr=Wr/Dr;switch(this.rotation){case 90:return[-$r,Vr];case 180:return[$r,Vr];case 270:return[$r,-Vr];default:return[-$r,-Vr]}},Ir=new WeakSet,Xm=function(Sr,Dr,Wr){switch(Wr){case 90:return[Dr,-Sr];case 180:return[-Sr,-Dr];case 270:return[-Dr,Sr];default:return[Sr,Dr]}},Ym=function(Sr){switch(Sr){case 90:{const[Dr,Wr]=this.pageDimensions;return[0,-Dr/Wr,Wr/Dr,0]}case 180:return[-1,0,0,-1];case 270:{const[Dr,Wr]=this.pageDimensions;return[0,Dr/Wr,-Wr/Dr,0]}default:return[1,0,0,1]}},ty=function(){if(cn(this,mr))return;ts(this,mr,document.createElement("div")),cn(this,mr).classList.add("resizers");const Sr=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Sr.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Dr of Sr){const Wr=document.createElement("div");cn(this,mr).append(Wr),Wr.classList.add("resizer",Dr),Wr.addEventListener("pointerdown",Yn(this,Rr,ry).bind(this,Dr)),Wr.addEventListener("contextmenu",ar.noContextMenu)}this.div.prepend(cn(this,mr))},ry=function(Sr,Dr){Dr.preventDefault();const{isMac:Wr}=ir.FeatureTest.platform;if(Dr.button!==0||Dr.ctrlKey&&Wr)return;const $r=Yn(this,Rr,ny).bind(this,Sr),Vr=this._isDraggable;this._isDraggable=!1;const zr={passive:!0,capture:!0};window.addEventListener("pointermove",$r,zr);const Gr=this.x,Fr=this.y,Xr=this.width,Ur=this.height,Br=this.parent.div.style.cursor,Kr=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Dr.target).cursor;const Zr=()=>{this._isDraggable=Vr,window.removeEventListener("pointerup",Zr),window.removeEventListener("blur",Zr),window.removeEventListener("pointermove",$r,zr),this.parent.div.style.cursor=Br,this.div.style.cursor=Kr;const tn=this.x,sn=this.y,un=this.width,hn=this.height;tn===Gr&&sn===Fr&&un===Xr&&hn===Ur||this.addCommands({cmd:()=>{this.width=un,this.height=hn,this.x=tn,this.y=sn;const[Jr,nn]=this.parentDimensions;this.setDims(Jr*un,nn*hn),this.fixAndSetPosition()},undo:()=>{this.width=Xr,this.height=Ur,this.x=Gr,this.y=Fr;const[Jr,nn]=this.parentDimensions;this.setDims(Jr*Xr,nn*Ur),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Zr),window.addEventListener("blur",Zr)},ny=function(Sr,Dr){const[Wr,$r]=this.parentDimensions,Vr=this.x,zr=this.y,Gr=this.width,Fr=this.height,Xr=Er.MIN_SIZE/Wr,Ur=Er.MIN_SIZE/$r,Br=qn=>Math.round(qn*1e4)/1e4,Kr=Yn(this,Rr,Ym).call(this,this.rotation),Zr=(qn,ds)=>[Kr[0]*qn+Kr[2]*ds,Kr[1]*qn+Kr[3]*ds],tn=Yn(this,Rr,Ym).call(this,360-this.rotation),sn=(qn,ds)=>[tn[0]*qn+tn[2]*ds,tn[1]*qn+tn[3]*ds];let un,hn,Jr=!1,nn=!1;switch(Sr){case"topLeft":Jr=!0,un=(qn,ds)=>[0,0],hn=(qn,ds)=>[qn,ds];break;case"topMiddle":un=(qn,ds)=>[qn/2,0],hn=(qn,ds)=>[qn/2,ds];break;case"topRight":Jr=!0,un=(qn,ds)=>[qn,0],hn=(qn,ds)=>[0,ds];break;case"middleRight":nn=!0,un=(qn,ds)=>[qn,ds/2],hn=(qn,ds)=>[0,ds/2];break;case"bottomRight":Jr=!0,un=(qn,ds)=>[qn,ds],hn=(qn,ds)=>[0,0];break;case"bottomMiddle":un=(qn,ds)=>[qn/2,ds],hn=(qn,ds)=>[qn/2,0];break;case"bottomLeft":Jr=!0,un=(qn,ds)=>[0,ds],hn=(qn,ds)=>[qn,0];break;case"middleLeft":nn=!0,un=(qn,ds)=>[0,ds/2],hn=(qn,ds)=>[qn,ds/2];break}const rn=un(Gr,Fr),on=hn(Gr,Fr);let fn=Zr(...on);const mn=Br(Vr+fn[0]),yn=Br(zr+fn[1]);let Rn=1,In=1,[Sn,Dn]=this.screenToPageTranslation(Dr.movementX,Dr.movementY);if([Sn,Dn]=sn(Sn/Wr,Dn/$r),Jr){const qn=Math.hypot(Gr,Fr);Rn=In=Math.max(Math.min(Math.hypot(on[0]-rn[0]-Sn,on[1]-rn[1]-Dn)/qn,1/Gr,1/Fr),Xr/Gr,Ur/Fr)}else nn?Rn=Math.max(Xr,Math.min(1,Math.abs(on[0]-rn[0]-Sn)))/Gr:In=Math.max(Ur,Math.min(1,Math.abs(on[1]-rn[1]-Dn)))/Fr;const zn=Br(Gr*Rn),rs=Br(Fr*In);fn=Zr(...hn(zn,rs));const ns=mn-fn[0],fs=yn-fn[1];this.width=zn,this.height=rs,this.x=ns,this.y=fs,this.setDims(Wr*zn,$r*rs),this.fixAndSetPosition()},Qm=async function(){var Wr;const Sr=cn(this,ur);if(!Sr)return;if(!cn(this,or)&&!cn(this,cr)){Sr.classList.remove("done"),(Wr=cn(this,dr))==null||Wr.remove();return}Er._l10nPromise.get("editor_alt_text_edit_button_label").then($r=>{Sr.setAttribute("aria-label",$r)});let Dr=cn(this,dr);if(!Dr){ts(this,dr,Dr=document.createElement("span")),Dr.className="tooltip",Dr.setAttribute("role","tooltip");const $r=Dr.id=`alt-text-tooltip-${this.id}`;Sr.setAttribute("aria-describedby",$r);const Vr=100;Sr.addEventListener("mouseenter",()=>{ts(this,hr,setTimeout(()=>{ts(this,hr,null),cn(this,dr).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Vr))}),Sr.addEventListener("mouseleave",()=>{var zr;clearTimeout(cn(this,hr)),ts(this,hr,null),(zr=cn(this,dr))==null||zr.classList.remove("show")})}Sr.classList.add("done"),Dr.innerText=cn(this,cr)?await Er._l10nPromise.get("editor_alt_text_decorative_tooltip"):cn(this,or),Dr.parentNode||Sr.append(Dr)},iy=function(Sr){if(!this._isDraggable)return;const Dr=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Wr,$r;Dr&&(Wr={passive:!0,capture:!0},$r=zr=>{const[Gr,Fr]=this.screenToPageTranslation(zr.movementX,zr.movementY);this._uiManager.dragSelectedEditors(Gr,Fr)},window.addEventListener("pointermove",$r,Wr));const Vr=()=>{if(window.removeEventListener("pointerup",Vr),window.removeEventListener("blur",Vr),Dr&&window.removeEventListener("pointermove",$r,Wr),ts(this,gr,!1),!this._uiManager.endDragSession()){const{isMac:zr}=ir.FeatureTest.platform;Sr.ctrlKey&&!zr||Sr.shiftKey||Sr.metaKey&&zr?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Vr),window.addEventListener("blur",Vr)},ba(Er,Ir),Ao(Er,"_borderLineWidth",-1),Ao(Er,"_colorManager",new nr.ColorManager),Ao(Er,"_zIndex",1),Ao(Er,"SMALL_EDITOR_SIZE",0);let sr=Er;er.AnnotationEditor=sr;class lr extends sr{constructor(Sr){super(Sr),this.annotationElementId=Sr.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(tr,er,rr)=>{var fr,mr,br,pr,gr,Zm,_r,xr,Rr,Cr,Tr,ay,Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr,Dr,Wr,$r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr,tn,sn,un,hn,Jr,nn,rn,on,fn,mn,yn,Rn,In,Sn,sy,Jm,_g,mm,e0,r0,Wl,Mp,oy,ly,n0,Dp,i0;Object.defineProperty(er,"__esModule",{value:!0}),er.KeyboardManager=er.CommandManager=er.ColorManager=er.AnnotationEditorUIManager=void 0,er.bindEvents=ar,er.opacityToHex=sr;var nr=rr(1),ir=rr(6);function ar(vs,kn,Qn){for(const xa of Qn)kn.addEventListener(xa,vs[xa].bind(vs))}function sr(vs){return Math.round(Math.min(255,Math.max(1,255*vs))).toString(16).padStart(2,"0")}class lr{constructor(){ba(this,fr,0)}getId(){return`${nr.AnnotationEditorPrefix}${$p(this,fr)._++}`}}fr=new WeakMap;const vr=class vr{constructor(){ba(this,gr);ba(this,mr,(0,nr.getUuid)());ba(this,br,0);ba(this,pr,null)}static get _isSVGFittingCanvas(){const kn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',xa=new OffscreenCanvas(1,3).getContext("2d"),as=new Image;as.src=kn;const ms=as.decode().then(()=>(xa.drawImage(as,0,0,1,1,0,0,1,3),new Uint32Array(xa.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,nr.shadow)(this,"_isSVGFittingCanvas",ms)}async getFromFile(kn){const{lastModified:Qn,name:xa,size:as,type:ms}=kn;return Yn(this,gr,Zm).call(this,`${Qn}_${xa}_${as}_${ms}`,kn)}async getFromUrl(kn){return Yn(this,gr,Zm).call(this,kn,kn)}async getFromId(kn){cn(this,pr)||ts(this,pr,new Map);const Qn=cn(this,pr).get(kn);return Qn?Qn.bitmap?(Qn.refCounter+=1,Qn):Qn.file?this.getFromFile(Qn.file):this.getFromUrl(Qn.url):null}getSvgUrl(kn){const Qn=cn(this,pr).get(kn);return Qn!=null&&Qn.isSvg?Qn.svgUrl:null}deleteId(kn){cn(this,pr)||ts(this,pr,new Map);const Qn=cn(this,pr).get(kn);Qn&&(Qn.refCounter-=1,Qn.refCounter===0&&(Qn.bitmap=null))}isValidId(kn){return kn.startsWith(`image_${cn(this,mr)}_`)}};mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakSet,Zm=async function(kn,Qn){cn(this,pr)||ts(this,pr,new Map);let xa=cn(this,pr).get(kn);if(xa===null)return null;if(xa!=null&&xa.bitmap)return xa.refCounter+=1,xa;try{xa||(xa={bitmap:null,id:`image_${cn(this,mr)}_${$p(this,br)._++}`,refCounter:0,isSvg:!1});let as;if(typeof Qn=="string"){xa.url=Qn;const ms=await fetch(Qn);if(!ms.ok)throw new Error(ms.statusText);as=await ms.blob()}else as=xa.file=Qn;if(as.type==="image/svg+xml"){const ms=vr._isSVGFittingCanvas,ls=new FileReader,An=new Image,wn=new Promise((Nn,$n)=>{An.onload=()=>{xa.bitmap=An,xa.isSvg=!0,Nn()},ls.onload=async()=>{const Gn=xa.svgUrl=ls.result;An.src=await ms?`${Gn}#svgView(preserveAspectRatio(none))`:Gn},An.onerror=ls.onerror=$n});ls.readAsDataURL(as),await wn}else xa.bitmap=await createImageBitmap(as);xa.refCounter=1}catch(as){console.error(as),xa=null}return cn(this,pr).set(kn,xa),xa&&cn(this,pr).set(xa.id,xa),xa};let or=vr;class cr{constructor(kn=128){ba(this,_r,[]);ba(this,xr,!1);ba(this,Rr);ba(this,Cr,-1);ts(this,Rr,kn)}add({cmd:kn,undo:Qn,mustExec:xa,type:as=NaN,overwriteIfSameType:ms=!1,keepUndo:ls=!1}){if(xa&&kn(),cn(this,xr))return;const An={cmd:kn,undo:Qn,type:as};if(cn(this,Cr)===-1){cn(this,_r).length>0&&(cn(this,_r).length=0),ts(this,Cr,0),cn(this,_r).push(An);return}if(ms&&cn(this,_r)[cn(this,Cr)].type===as){ls&&(An.undo=cn(this,_r)[cn(this,Cr)].undo),cn(this,_r)[cn(this,Cr)]=An;return}const wn=cn(this,Cr)+1;wn===cn(this,Rr)?cn(this,_r).splice(0,1):(ts(this,Cr,wn),wn<cn(this,_r).length&&cn(this,_r).splice(wn)),cn(this,_r).push(An)}undo(){cn(this,Cr)!==-1&&(ts(this,xr,!0),cn(this,_r)[cn(this,Cr)].undo(),ts(this,xr,!1),ts(this,Cr,cn(this,Cr)-1))}redo(){cn(this,Cr)<cn(this,_r).length-1&&(ts(this,Cr,cn(this,Cr)+1),ts(this,xr,!0),cn(this,_r)[cn(this,Cr)].cmd(),ts(this,xr,!1))}hasSomethingToUndo(){return cn(this,Cr)!==-1}hasSomethingToRedo(){return cn(this,Cr)<cn(this,_r).length-1}destroy(){ts(this,_r,null)}}_r=new WeakMap,xr=new WeakMap,Rr=new WeakMap,Cr=new WeakMap,er.CommandManager=cr;class ur{constructor(kn){ba(this,Tr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Qn}=nr.FeatureTest.platform;for(const[xa,as,ms={}]of kn)for(const ls of xa){const An=ls.startsWith("mac+");Qn&&An?(this.callbacks.set(ls.slice(4),{callback:as,options:ms}),this.allKeys.add(ls.split("+").at(-1))):!Qn&&!An&&(this.callbacks.set(ls,{callback:as,options:ms}),this.allKeys.add(ls.split("+").at(-1)))}}exec(kn,Qn){if(!this.allKeys.has(Qn.key))return;const xa=this.callbacks.get(Yn(this,Tr,ay).call(this,Qn));if(!xa)return;const{callback:as,options:{bubbles:ms=!1,args:ls=[],checker:An=null}}=xa;An&&!An(kn,Qn)||(as.bind(kn,...ls)(),ms||(Qn.stopPropagation(),Qn.preventDefault()))}}Tr=new WeakSet,ay=function(kn){kn.altKey&&this.buffer.push("alt"),kn.ctrlKey&&this.buffer.push("ctrl"),kn.metaKey&&this.buffer.push("meta"),kn.shiftKey&&this.buffer.push("shift"),this.buffer.push(kn.key);const Qn=this.buffer.join("+");return this.buffer.length=0,Qn},er.KeyboardManager=ur;const Lr=class Lr{get _colors(){const kn=new Map([["CanvasText",null],["Canvas",null]]);return(0,ir.getColorValues)(kn),(0,nr.shadow)(this,"_colors",kn)}convert(kn){const Qn=(0,ir.getRGB)(kn);if(!window.matchMedia("(forced-colors: active)").matches)return Qn;for(const[xa,as]of this._colors)if(as.every((ms,ls)=>ms===Qn[ls]))return Lr._colorsMapping.get(xa);return Qn}getHexCode(kn){const Qn=this._colors.get(kn);return Qn?nr.Util.makeHexColor(...Qn):kn}};Ao(Lr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dr=Lr;er.ColorManager=dr;const $s=class $s{constructor(kn,Qn,xa,as,ms,ls){ba(this,Sn);ba(this,Nr,null);ba(this,Or,new Map);ba(this,Pr,new Map);ba(this,Mr,null);ba(this,jr,null);ba(this,wr,new cr);ba(this,Er,0);ba(this,Ar,new Set);ba(this,Sr,null);ba(this,Dr,null);ba(this,Wr,new Set);ba(this,$r,null);ba(this,Vr,new lr);ba(this,zr,!1);ba(this,Gr,!1);ba(this,Fr,null);ba(this,Xr,nr.AnnotationEditorType.NONE);ba(this,Ur,new Set);ba(this,Br,null);ba(this,Kr,this.blur.bind(this));ba(this,Zr,this.focus.bind(this));ba(this,tn,this.copy.bind(this));ba(this,sn,this.cut.bind(this));ba(this,un,this.paste.bind(this));ba(this,hn,this.keydown.bind(this));ba(this,Jr,this.onEditingAction.bind(this));ba(this,nn,this.onPageChanging.bind(this));ba(this,rn,this.onScaleChanging.bind(this));ba(this,on,this.onRotationChanging.bind(this));ba(this,fn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ba(this,mn,[0,0]);ba(this,yn,null);ba(this,Rn,null);ba(this,In,null);ts(this,Rn,kn),ts(this,In,Qn),ts(this,Mr,xa),this._eventBus=as,this._eventBus._on("editingaction",cn(this,Jr)),this._eventBus._on("pagechanging",cn(this,nn)),this._eventBus._on("scalechanging",cn(this,rn)),this._eventBus._on("rotationchanging",cn(this,on)),ts(this,jr,ms.annotationStorage),ts(this,$r,ms.filterFactory),ts(this,Br,ls),this.viewParameters={realScale:ir.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const kn=$s.prototype,Qn=ms=>{const{activeElement:ls}=document;return ls&&cn(ms,Rn).contains(ls)&&ms.hasSomethingToControl()},xa=this.TRANSLATE_SMALL,as=this.TRANSLATE_BIG;return(0,nr.shadow)(this,"_keyboardManager",new ur([[["ctrl+a","mac+meta+a"],kn.selectAll],[["ctrl+z","mac+meta+z"],kn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],kn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],kn.delete],[["Escape","mac+Escape"],kn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],kn.translateSelectedEditors,{args:[-xa,0],checker:Qn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],kn.translateSelectedEditors,{args:[-as,0],checker:Qn}],[["ArrowRight","mac+ArrowRight"],kn.translateSelectedEditors,{args:[xa,0],checker:Qn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],kn.translateSelectedEditors,{args:[as,0],checker:Qn}],[["ArrowUp","mac+ArrowUp"],kn.translateSelectedEditors,{args:[0,-xa],checker:Qn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],kn.translateSelectedEditors,{args:[0,-as],checker:Qn}],[["ArrowDown","mac+ArrowDown"],kn.translateSelectedEditors,{args:[0,xa],checker:Qn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],kn.translateSelectedEditors,{args:[0,as],checker:Qn}]]))}destroy(){Yn(this,Sn,mm).call(this),Yn(this,Sn,Jm).call(this),this._eventBus._off("editingaction",cn(this,Jr)),this._eventBus._off("pagechanging",cn(this,nn)),this._eventBus._off("scalechanging",cn(this,rn)),this._eventBus._off("rotationchanging",cn(this,on));for(const kn of cn(this,Pr).values())kn.destroy();cn(this,Pr).clear(),cn(this,Or).clear(),cn(this,Wr).clear(),ts(this,Nr,null),cn(this,Ur).clear(),cn(this,wr).destroy(),cn(this,Mr).destroy()}get hcmFilter(){return(0,nr.shadow)(this,"hcmFilter",cn(this,Br)?cn(this,$r).addHCMFilter(cn(this,Br).foreground,cn(this,Br).background):"none")}get direction(){return(0,nr.shadow)(this,"direction",getComputedStyle(cn(this,Rn)).direction)}editAltText(kn){var Qn;(Qn=cn(this,Mr))==null||Qn.editAltText(this,kn)}onPageChanging({pageNumber:kn}){ts(this,Er,kn-1)}focusMainContainer(){cn(this,Rn).focus()}findParent(kn,Qn){for(const xa of cn(this,Pr).values()){const{x:as,y:ms,width:ls,height:An}=xa.div.getBoundingClientRect();if(kn>=as&&kn<=as+ls&&Qn>=ms&&Qn<=ms+An)return xa}return null}disableUserSelect(kn=!1){cn(this,In).classList.toggle("noUserSelect",kn)}addShouldRescale(kn){cn(this,Wr).add(kn)}removeShouldRescale(kn){cn(this,Wr).delete(kn)}onScaleChanging({scale:kn}){this.commitOrRemove(),this.viewParameters.realScale=kn*ir.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Qn of cn(this,Wr))Qn.onScaleChanging()}onRotationChanging({pagesRotation:kn}){this.commitOrRemove(),this.viewParameters.rotation=kn}addToAnnotationStorage(kn){!kn.isEmpty()&&cn(this,jr)&&!cn(this,jr).has(kn.id)&&cn(this,jr).setValue(kn.id,kn)}blur(){if(!this.hasSelection)return;const{activeElement:kn}=document;for(const Qn of cn(this,Ur))if(Qn.div.contains(kn)){ts(this,Fr,[Qn,kn]),Qn._focusEventsAllowed=!1;break}}focus(){if(!cn(this,Fr))return;const[kn,Qn]=cn(this,Fr);ts(this,Fr,null),Qn.addEventListener("focusin",()=>{kn._focusEventsAllowed=!0},{once:!0}),Qn.focus()}addEditListeners(){Yn(this,Sn,_g).call(this),Yn(this,Sn,e0).call(this)}removeEditListeners(){Yn(this,Sn,mm).call(this),Yn(this,Sn,r0).call(this)}copy(kn){var xa;if(kn.preventDefault(),(xa=cn(this,Nr))==null||xa.commitOrRemove(),!this.hasSelection)return;const Qn=[];for(const as of cn(this,Ur)){const ms=as.serialize(!0);ms&&Qn.push(ms)}Qn.length!==0&&kn.clipboardData.setData("application/pdfjs",JSON.stringify(Qn))}cut(kn){this.copy(kn),this.delete()}paste(kn){kn.preventDefault();const{clipboardData:Qn}=kn;for(const ms of Qn.items)for(const ls of cn(this,Dr))if(ls.isHandlingMimeForPasting(ms.type)){ls.paste(ms,this.currentLayer);return}let xa=Qn.getData("application/pdfjs");if(!xa)return;try{xa=JSON.parse(xa)}catch(ms){(0,nr.warn)(`paste: "${ms.message}".`);return}if(!Array.isArray(xa))return;this.unselectAll();const as=this.currentLayer;try{const ms=[];for(const wn of xa){const Nn=as.deserialize(wn);if(!Nn)return;ms.push(Nn)}const ls=()=>{for(const wn of ms)Yn(this,Sn,n0).call(this,wn);Yn(this,Sn,i0).call(this,ms)},An=()=>{for(const wn of ms)wn.remove()};this.addCommands({cmd:ls,undo:An,mustExec:!0})}catch(ms){(0,nr.warn)(`paste: "${ms.message}".`)}}keydown(kn){var Qn;(Qn=this.getActive())!=null&&Qn.shouldGetKeyboardEvents()||$s._keyboardManager.exec(this,kn)}onEditingAction(kn){["undo","redo","delete","selectAll"].includes(kn.name)&&this[kn.name]()}setEditingState(kn){kn?(Yn(this,Sn,sy).call(this),Yn(this,Sn,_g).call(this),Yn(this,Sn,e0).call(this),Yn(this,Sn,Wl).call(this,{isEditing:cn(this,Xr)!==nr.AnnotationEditorType.NONE,isEmpty:Yn(this,Sn,Dp).call(this),hasSomethingToUndo:cn(this,wr).hasSomethingToUndo(),hasSomethingToRedo:cn(this,wr).hasSomethingToRedo(),hasSelectedEditor:!1})):(Yn(this,Sn,Jm).call(this),Yn(this,Sn,mm).call(this),Yn(this,Sn,r0).call(this),Yn(this,Sn,Wl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(kn){if(!cn(this,Dr)){ts(this,Dr,kn);for(const Qn of cn(this,Dr))Yn(this,Sn,Mp).call(this,Qn.defaultPropertiesToUpdate)}}getId(){return cn(this,Vr).getId()}get currentLayer(){return cn(this,Pr).get(cn(this,Er))}getLayer(kn){return cn(this,Pr).get(kn)}get currentPageIndex(){return cn(this,Er)}addLayer(kn){cn(this,Pr).set(kn.pageIndex,kn),cn(this,zr)?kn.enable():kn.disable()}removeLayer(kn){cn(this,Pr).delete(kn.pageIndex)}updateMode(kn,Qn=null){if(cn(this,Xr)!==kn){if(ts(this,Xr,kn),kn===nr.AnnotationEditorType.NONE){this.setEditingState(!1),Yn(this,Sn,ly).call(this);return}this.setEditingState(!0),Yn(this,Sn,oy).call(this),this.unselectAll();for(const xa of cn(this,Pr).values())xa.updateMode(kn);if(Qn){for(const xa of cn(this,Or).values())if(xa.annotationElementId===Qn){this.setSelected(xa),xa.enterInEditMode();break}}}}updateToolbar(kn){kn!==cn(this,Xr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:kn})}updateParams(kn,Qn){if(cn(this,Dr)){if(kn===nr.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(kn);return}for(const xa of cn(this,Ur))xa.updateParams(kn,Qn);for(const xa of cn(this,Dr))xa.updateDefaultParams(kn,Qn)}}enableWaiting(kn=!1){if(cn(this,Gr)!==kn){ts(this,Gr,kn);for(const Qn of cn(this,Pr).values())kn?Qn.disableClick():Qn.enableClick(),Qn.div.classList.toggle("waiting",kn)}}getEditors(kn){const Qn=[];for(const xa of cn(this,Or).values())xa.pageIndex===kn&&Qn.push(xa);return Qn}getEditor(kn){return cn(this,Or).get(kn)}addEditor(kn){cn(this,Or).set(kn.id,kn)}removeEditor(kn){var Qn;cn(this,Or).delete(kn.id),this.unselect(kn),(!kn.annotationElementId||!cn(this,Ar).has(kn.annotationElementId))&&((Qn=cn(this,jr))==null||Qn.remove(kn.id))}addDeletedAnnotationElement(kn){cn(this,Ar).add(kn.annotationElementId),kn.deleted=!0}isDeletedAnnotationElement(kn){return cn(this,Ar).has(kn)}removeDeletedAnnotationElement(kn){cn(this,Ar).delete(kn.annotationElementId),kn.deleted=!1}setActiveEditor(kn){cn(this,Nr)!==kn&&(ts(this,Nr,kn),kn&&Yn(this,Sn,Mp).call(this,kn.propertiesToUpdate))}toggleSelected(kn){if(cn(this,Ur).has(kn)){cn(this,Ur).delete(kn),kn.unselect(),Yn(this,Sn,Wl).call(this,{hasSelectedEditor:this.hasSelection});return}cn(this,Ur).add(kn),kn.select(),Yn(this,Sn,Mp).call(this,kn.propertiesToUpdate),Yn(this,Sn,Wl).call(this,{hasSelectedEditor:!0})}setSelected(kn){for(const Qn of cn(this,Ur))Qn!==kn&&Qn.unselect();cn(this,Ur).clear(),cn(this,Ur).add(kn),kn.select(),Yn(this,Sn,Mp).call(this,kn.propertiesToUpdate),Yn(this,Sn,Wl).call(this,{hasSelectedEditor:!0})}isSelected(kn){return cn(this,Ur).has(kn)}unselect(kn){kn.unselect(),cn(this,Ur).delete(kn),Yn(this,Sn,Wl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return cn(this,Ur).size!==0}undo(){cn(this,wr).undo(),Yn(this,Sn,Wl).call(this,{hasSomethingToUndo:cn(this,wr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Yn(this,Sn,Dp).call(this)})}redo(){cn(this,wr).redo(),Yn(this,Sn,Wl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:cn(this,wr).hasSomethingToRedo(),isEmpty:Yn(this,Sn,Dp).call(this)})}addCommands(kn){cn(this,wr).add(kn),Yn(this,Sn,Wl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Yn(this,Sn,Dp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const kn=[...cn(this,Ur)],Qn=()=>{for(const as of kn)as.remove()},xa=()=>{for(const as of kn)Yn(this,Sn,n0).call(this,as)};this.addCommands({cmd:Qn,undo:xa,mustExec:!0})}commitOrRemove(){var kn;(kn=cn(this,Nr))==null||kn.commitOrRemove()}hasSomethingToControl(){return cn(this,Nr)||this.hasSelection}selectAll(){for(const kn of cn(this,Ur))kn.commit();Yn(this,Sn,i0).call(this,cn(this,Or).values())}unselectAll(){if(cn(this,Nr)){cn(this,Nr).commitOrRemove();return}if(this.hasSelection){for(const kn of cn(this,Ur))kn.unselect();cn(this,Ur).clear(),Yn(this,Sn,Wl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(kn,Qn,xa=!1){if(xa||this.commitOrRemove(),!this.hasSelection)return;cn(this,mn)[0]+=kn,cn(this,mn)[1]+=Qn;const[as,ms]=cn(this,mn),ls=[...cn(this,Ur)],An=1e3;cn(this,yn)&&clearTimeout(cn(this,yn)),ts(this,yn,setTimeout(()=>{ts(this,yn,null),cn(this,mn)[0]=cn(this,mn)[1]=0,this.addCommands({cmd:()=>{for(const wn of ls)cn(this,Or).has(wn.id)&&wn.translateInPage(as,ms)},undo:()=>{for(const wn of ls)cn(this,Or).has(wn.id)&&wn.translateInPage(-as,-ms)},mustExec:!1})},An));for(const wn of ls)wn.translateInPage(kn,Qn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ts(this,Sr,new Map);for(const kn of cn(this,Ur))cn(this,Sr).set(kn,{savedX:kn.x,savedY:kn.y,savedPageIndex:kn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!cn(this,Sr))return!1;this.disableUserSelect(!1);const kn=cn(this,Sr);ts(this,Sr,null);let Qn=!1;for(const[{x:as,y:ms,pageIndex:ls},An]of kn)An.newX=as,An.newY=ms,An.newPageIndex=ls,Qn||(Qn=as!==An.savedX||ms!==An.savedY||ls!==An.savedPageIndex);if(!Qn)return!1;const xa=(as,ms,ls,An)=>{if(cn(this,Or).has(as.id)){const wn=cn(this,Pr).get(An);wn?as._setParentAndPosition(wn,ms,ls):(as.pageIndex=An,as.x=ms,as.y=ls)}};return this.addCommands({cmd:()=>{for(const[as,{newX:ms,newY:ls,newPageIndex:An}]of kn)xa(as,ms,ls,An)},undo:()=>{for(const[as,{savedX:ms,savedY:ls,savedPageIndex:An}]of kn)xa(as,ms,ls,An)},mustExec:!0}),!0}dragSelectedEditors(kn,Qn){if(cn(this,Sr))for(const xa of cn(this,Sr).keys())xa.drag(kn,Qn)}rebuild(kn){if(kn.parent===null){const Qn=this.getLayer(kn.pageIndex);Qn?(Qn.changeParent(kn),Qn.addOrRebuild(kn)):(this.addEditor(kn),this.addToAnnotationStorage(kn),kn.rebuild())}else kn.parent.addOrRebuild(kn)}isActive(kn){return cn(this,Nr)===kn}getActive(){return cn(this,Nr)}getMode(){return cn(this,Xr)}get imageManager(){return(0,nr.shadow)(this,"imageManager",new or)}};Nr=new WeakMap,Or=new WeakMap,Pr=new WeakMap,Mr=new WeakMap,jr=new WeakMap,wr=new WeakMap,Er=new WeakMap,Ar=new WeakMap,Sr=new WeakMap,Dr=new WeakMap,Wr=new WeakMap,$r=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Gr=new WeakMap,Fr=new WeakMap,Xr=new WeakMap,Ur=new WeakMap,Br=new WeakMap,Kr=new WeakMap,Zr=new WeakMap,tn=new WeakMap,sn=new WeakMap,un=new WeakMap,hn=new WeakMap,Jr=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,fn=new WeakMap,mn=new WeakMap,yn=new WeakMap,Rn=new WeakMap,In=new WeakMap,Sn=new WeakSet,sy=function(){window.addEventListener("focus",cn(this,Zr)),window.addEventListener("blur",cn(this,Kr))},Jm=function(){window.removeEventListener("focus",cn(this,Zr)),window.removeEventListener("blur",cn(this,Kr))},_g=function(){window.addEventListener("keydown",cn(this,hn),{capture:!0})},mm=function(){window.removeEventListener("keydown",cn(this,hn),{capture:!0})},e0=function(){document.addEventListener("copy",cn(this,tn)),document.addEventListener("cut",cn(this,sn)),document.addEventListener("paste",cn(this,un))},r0=function(){document.removeEventListener("copy",cn(this,tn)),document.removeEventListener("cut",cn(this,sn)),document.removeEventListener("paste",cn(this,un))},Wl=function(kn){Object.entries(kn).some(([xa,as])=>cn(this,fn)[xa]!==as)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(cn(this,fn),kn)})},Mp=function(kn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:kn})},oy=function(){if(!cn(this,zr)){ts(this,zr,!0);for(const kn of cn(this,Pr).values())kn.enable()}},ly=function(){if(this.unselectAll(),cn(this,zr)){ts(this,zr,!1);for(const kn of cn(this,Pr).values())kn.disable()}},n0=function(kn){const Qn=cn(this,Pr).get(kn.pageIndex);Qn?Qn.addOrRebuild(kn):this.addEditor(kn)},Dp=function(){if(cn(this,Or).size===0)return!0;if(cn(this,Or).size===1)for(const kn of cn(this,Or).values())return kn.isEmpty();return!1},i0=function(kn){cn(this,Ur).clear();for(const Qn of kn)Qn.isEmpty()||(cn(this,Ur).add(Qn),Qn.select());Yn(this,Sn,Wl).call(this,{hasSelectedEditor:!0})},Ao($s,"TRANSLATE_SMALL",1),Ao($s,"TRANSLATE_BIG",10);let hr=$s;er.AnnotationEditorUIManager=hr},(tr,er,rr)=>{var Er,Ar,Sr,Dr,Wr,$r,Vr,zr,Gr,Fr,Xr,Ur,yp,bp,a0,gm,ym,Lp,Fp;Object.defineProperty(er,"__esModule",{value:!0}),er.StatTimer=er.RenderingCancelledException=er.PixelsPerInch=er.PageViewport=er.PDFDateString=er.DOMStandardFontDataFactory=er.DOMSVGFactory=er.DOMFilterFactory=er.DOMCanvasFactory=er.DOMCMapReaderFactory=void 0,er.deprecated=Cr,er.getColorValues=Or,er.getCurrentTransform=Pr,er.getCurrentTransformInverse=Mr,er.getFilenameFromUrl=gr,er.getPdfFilenameFromUrl=yr,er.getRGB=Nr,er.getXfaPageViewport=Lr,er.isDataScheme=br,er.isPdfFile=pr,er.isValidFetchUrl=_r,er.loadScript=Rr,er.noContextMenu=xr,er.setLayerDimensions=jr;var nr=rr(7),ir=rr(1);const ar="http://www.w3.org/2000/svg",wr=class wr{};Ao(wr,"CSS",96),Ao(wr,"PDF",72),Ao(wr,"PDF_TO_CSS_UNITS",wr.CSS/wr.PDF);let sr=wr;er.PixelsPerInch=sr;class lr extends nr.BaseFilterFactory{constructor({docId:rn,ownerDocument:on=globalThis.document}={}){super();ba(this,Ur);ba(this,Er);ba(this,Ar);ba(this,Sr);ba(this,Dr);ba(this,Wr);ba(this,$r);ba(this,Vr);ba(this,zr);ba(this,Gr);ba(this,Fr);ba(this,Xr,0);ts(this,Sr,rn),ts(this,Dr,on)}addFilter(rn){if(!rn)return"none";let on=cn(this,Ur,yp).get(rn);if(on)return on;let fn,mn,yn,Rn;if(rn.length===1){const zn=rn[0],rs=new Array(256);for(let ns=0;ns<256;ns++)rs[ns]=zn[ns]/255;Rn=fn=mn=yn=rs.join(",")}else{const[zn,rs,ns]=rn,fs=new Array(256),qn=new Array(256),ds=new Array(256);for(let os=0;os<256;os++)fs[os]=zn[os]/255,qn[os]=rs[os]/255,ds[os]=ns[os]/255;fn=fs.join(","),mn=qn.join(","),yn=ds.join(","),Rn=`${fn}${mn}${yn}`}if(on=cn(this,Ur,yp).get(Rn),on)return cn(this,Ur,yp).set(rn,on),on;const In=`g_${cn(this,Sr)}_transfer_map_${$p(this,Xr)._++}`,Sn=`url(#${In})`;cn(this,Ur,yp).set(rn,Sn),cn(this,Ur,yp).set(Rn,Sn);const Dn=Yn(this,Ur,gm).call(this,In);return Yn(this,Ur,Lp).call(this,fn,mn,yn,Dn),Sn}addHCMFilter(rn,on){var rs;const fn=`${rn}-${on}`;if(cn(this,$r)===fn)return cn(this,Vr);if(ts(this,$r,fn),ts(this,Vr,"none"),(rs=cn(this,Wr))==null||rs.remove(),!rn||!on)return cn(this,Vr);const mn=Yn(this,Ur,Fp).call(this,rn);rn=ir.Util.makeHexColor(...mn);const yn=Yn(this,Ur,Fp).call(this,on);if(on=ir.Util.makeHexColor(...yn),cn(this,Ur,bp).style.color="",rn==="#000000"&&on==="#ffffff"||rn===on)return cn(this,Vr);const Rn=new Array(256);for(let ns=0;ns<=255;ns++){const fs=ns/255;Rn[ns]=fs<=.03928?fs/12.92:((fs+.055)/1.055)**2.4}const In=Rn.join(","),Sn=`g_${cn(this,Sr)}_hcm_filter`,Dn=ts(this,zr,Yn(this,Ur,gm).call(this,Sn));Yn(this,Ur,Lp).call(this,In,In,In,Dn),Yn(this,Ur,a0).call(this,Dn);const zn=(ns,fs)=>{const qn=mn[ns]/255,ds=yn[ns]/255,os=new Array(fs+1);for(let gs=0;gs<=fs;gs++)os[gs]=qn+gs/fs*(ds-qn);return os.join(",")};return Yn(this,Ur,Lp).call(this,zn(0,5),zn(1,5),zn(2,5),Dn),ts(this,Vr,`url(#${Sn})`),cn(this,Vr)}addHighlightHCMFilter(rn,on,fn,mn){var ds;const yn=`${rn}-${on}-${fn}-${mn}`;if(cn(this,Gr)===yn)return cn(this,Fr);if(ts(this,Gr,yn),ts(this,Fr,"none"),(ds=cn(this,zr))==null||ds.remove(),!rn||!on)return cn(this,Fr);const[Rn,In]=[rn,on].map(Yn(this,Ur,Fp).bind(this));let Sn=Math.round(.2126*Rn[0]+.7152*Rn[1]+.0722*Rn[2]),Dn=Math.round(.2126*In[0]+.7152*In[1]+.0722*In[2]),[zn,rs]=[fn,mn].map(Yn(this,Ur,Fp).bind(this));Dn<Sn&&([Sn,Dn,zn,rs]=[Dn,Sn,rs,zn]),cn(this,Ur,bp).style.color="";const ns=(os,gs,Wn)=>{const Fn=new Array(256),Bn=(Dn-Sn)/Wn,ss=os/255,$s=(gs-os)/(255*Wn);let vs=0;for(let kn=0;kn<=Wn;kn++){const Qn=Math.round(Sn+kn*Bn),xa=ss+kn*$s;for(let as=vs;as<=Qn;as++)Fn[as]=xa;vs=Qn+1}for(let kn=vs;kn<256;kn++)Fn[kn]=Fn[vs-1];return Fn.join(",")},fs=`g_${cn(this,Sr)}_hcm_highlight_filter`,qn=ts(this,zr,Yn(this,Ur,gm).call(this,fs));return Yn(this,Ur,a0).call(this,qn),Yn(this,Ur,Lp).call(this,ns(zn[0],rs[0],5),ns(zn[1],rs[1],5),ns(zn[2],rs[2],5),qn),ts(this,Fr,`url(#${fs})`),cn(this,Fr)}destroy(rn=!1){rn&&(cn(this,Vr)||cn(this,Fr))||(cn(this,Ar)&&(cn(this,Ar).parentNode.parentNode.remove(),ts(this,Ar,null)),cn(this,Er)&&(cn(this,Er).clear(),ts(this,Er,null)),ts(this,Xr,0))}}Er=new WeakMap,Ar=new WeakMap,Sr=new WeakMap,Dr=new WeakMap,Wr=new WeakMap,$r=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Gr=new WeakMap,Fr=new WeakMap,Xr=new WeakMap,Ur=new WeakSet,yp=function(){return cn(this,Er)||ts(this,Er,new Map)},bp=function(){if(!cn(this,Ar)){const rn=cn(this,Dr).createElement("div"),{style:on}=rn;on.visibility="hidden",on.contain="strict",on.width=on.height=0,on.position="absolute",on.top=on.left=0,on.zIndex=-1;const fn=cn(this,Dr).createElementNS(ar,"svg");fn.setAttribute("width",0),fn.setAttribute("height",0),ts(this,Ar,cn(this,Dr).createElementNS(ar,"defs")),rn.append(fn),fn.append(cn(this,Ar)),cn(this,Dr).body.append(rn)}return cn(this,Ar)},a0=function(rn){const on=cn(this,Dr).createElementNS(ar,"feColorMatrix");on.setAttribute("type","matrix"),on.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),rn.append(on)},gm=function(rn){const on=cn(this,Dr).createElementNS(ar,"filter");return on.setAttribute("color-interpolation-filters","sRGB"),on.setAttribute("id",rn),cn(this,Ur,bp).append(on),on},ym=function(rn,on,fn){const mn=cn(this,Dr).createElementNS(ar,on);mn.setAttribute("type","discrete"),mn.setAttribute("tableValues",fn),rn.append(mn)},Lp=function(rn,on,fn,mn){const yn=cn(this,Dr).createElementNS(ar,"feComponentTransfer");mn.append(yn),Yn(this,Ur,ym).call(this,yn,"feFuncR",rn),Yn(this,Ur,ym).call(this,yn,"feFuncG",on),Yn(this,Ur,ym).call(this,yn,"feFuncB",fn)},Fp=function(rn){return cn(this,Ur,bp).style.color=rn,Nr(getComputedStyle(cn(this,Ur,bp)).getPropertyValue("color"))},er.DOMFilterFactory=lr;class or extends nr.BaseCanvasFactory{constructor({ownerDocument:nn=globalThis.document}={}){super(),this._document=nn}_createCanvas(nn,rn){const on=this._document.createElement("canvas");return on.width=nn,on.height=rn,on}}er.DOMCanvasFactory=or;async function cr(Jr,nn=!1){if(_r(Jr,document.baseURI)){const rn=await fetch(Jr);if(!rn.ok)throw new Error(rn.statusText);return nn?new Uint8Array(await rn.arrayBuffer()):(0,ir.stringToBytes)(await rn.text())}return new Promise((rn,on)=>{const fn=new XMLHttpRequest;fn.open("GET",Jr,!0),nn&&(fn.responseType="arraybuffer"),fn.onreadystatechange=()=>{if(fn.readyState===XMLHttpRequest.DONE){if(fn.status===200||fn.status===0){let mn;if(nn&&fn.response?mn=new Uint8Array(fn.response):!nn&&fn.responseText&&(mn=(0,ir.stringToBytes)(fn.responseText)),mn){rn(mn);return}}on(new Error(fn.statusText))}},fn.send(null)})}class ur extends nr.BaseCMapReaderFactory{_fetchData(nn,rn){return cr(nn,this.isCompressed).then(on=>({cMapData:on,compressionType:rn}))}}er.DOMCMapReaderFactory=ur;class dr extends nr.BaseStandardFontDataFactory{_fetchData(nn){return cr(nn,!0)}}er.DOMStandardFontDataFactory=dr;class hr extends nr.BaseSVGFactory{_createSVG(nn){return document.createElementNS(ar,nn)}}er.DOMSVGFactory=hr;class fr{constructor({viewBox:nn,scale:rn,rotation:on,offsetX:fn=0,offsetY:mn=0,dontFlip:yn=!1}){this.viewBox=nn,this.scale=rn,this.rotation=on,this.offsetX=fn,this.offsetY=mn;const Rn=(nn[2]+nn[0])/2,In=(nn[3]+nn[1])/2;let Sn,Dn,zn,rs;switch(on%=360,on<0&&(on+=360),on){case 180:Sn=-1,Dn=0,zn=0,rs=1;break;case 90:Sn=0,Dn=1,zn=1,rs=0;break;case 270:Sn=0,Dn=-1,zn=-1,rs=0;break;case 0:Sn=1,Dn=0,zn=0,rs=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}yn&&(zn=-zn,rs=-rs);let ns,fs,qn,ds;Sn===0?(ns=Math.abs(In-nn[1])*rn+fn,fs=Math.abs(Rn-nn[0])*rn+mn,qn=(nn[3]-nn[1])*rn,ds=(nn[2]-nn[0])*rn):(ns=Math.abs(Rn-nn[0])*rn+fn,fs=Math.abs(In-nn[1])*rn+mn,qn=(nn[2]-nn[0])*rn,ds=(nn[3]-nn[1])*rn),this.transform=[Sn*rn,Dn*rn,zn*rn,rs*rn,ns-Sn*rn*Rn-zn*rn*In,fs-Dn*rn*Rn-rs*rn*In],this.width=qn,this.height=ds}get rawDims(){const{viewBox:nn}=this;return(0,ir.shadow)(this,"rawDims",{pageWidth:nn[2]-nn[0],pageHeight:nn[3]-nn[1],pageX:nn[0],pageY:nn[1]})}clone({scale:nn=this.scale,rotation:rn=this.rotation,offsetX:on=this.offsetX,offsetY:fn=this.offsetY,dontFlip:mn=!1}={}){return new fr({viewBox:this.viewBox.slice(),scale:nn,rotation:rn,offsetX:on,offsetY:fn,dontFlip:mn})}convertToViewportPoint(nn,rn){return ir.Util.applyTransform([nn,rn],this.transform)}convertToViewportRectangle(nn){const rn=ir.Util.applyTransform([nn[0],nn[1]],this.transform),on=ir.Util.applyTransform([nn[2],nn[3]],this.transform);return[rn[0],rn[1],on[0],on[1]]}convertToPdfPoint(nn,rn){return ir.Util.applyInverseTransform([nn,rn],this.transform)}}er.PageViewport=fr;class mr extends ir.BaseException{constructor(nn,rn=0){super(nn,"RenderingCancelledException"),this.extraDelay=rn}}er.RenderingCancelledException=mr;function br(Jr){const nn=Jr.length;let rn=0;for(;rn<nn&&Jr[rn].trim()==="";)rn++;return Jr.substring(rn,rn+5).toLowerCase()==="data:"}function pr(Jr){return typeof Jr=="string"&&/\.pdf$/i.test(Jr)}function gr(Jr,nn=!1){return nn||([Jr]=Jr.split(/[#?]/,1)),Jr.substring(Jr.lastIndexOf("/")+1)}function yr(Jr,nn="document.pdf"){if(typeof Jr!="string")return nn;if(br(Jr))return(0,ir.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),nn;const rn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,on=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,fn=rn.exec(Jr);let mn=on.exec(fn[1])||on.exec(fn[2])||on.exec(fn[3]);if(mn&&(mn=mn[0],mn.includes("%")))try{mn=on.exec(decodeURIComponent(mn))[0]}catch{}return mn||nn}class vr{constructor(){Ao(this,"started",Object.create(null));Ao(this,"times",[])}time(nn){nn in this.started&&(0,ir.warn)(`Timer is already running for ${nn}`),this.started[nn]=Date.now()}timeEnd(nn){nn in this.started||(0,ir.warn)(`Timer has not been started for ${nn}`),this.times.push({name:nn,start:this.started[nn],end:Date.now()}),delete this.started[nn]}toString(){const nn=[];let rn=0;for(const{name:on}of this.times)rn=Math.max(on.length,rn);for(const{name:on,start:fn,end:mn}of this.times)nn.push(`${on.padEnd(rn)} ${mn-fn}ms
`);return nn.join("")}}er.StatTimer=vr;function _r(Jr,nn){try{const{protocol:rn}=nn?new URL(Jr,nn):new URL(Jr);return rn==="http:"||rn==="https:"}catch{return!1}}function xr(Jr){Jr.preventDefault()}function Rr(Jr,nn=!1){return new Promise((rn,on)=>{const fn=document.createElement("script");fn.src=Jr,fn.onload=function(mn){nn&&fn.remove(),rn(mn)},fn.onerror=function(){on(new Error(`Cannot load script at: ${fn.src}`))},(document.head||document.documentElement).append(fn)})}function Cr(Jr){console.log("Deprecated API usage: "+Jr)}let Tr;class Ir{static toDateObject(nn){if(!nn||typeof nn!="string")return null;Tr||(Tr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const rn=Tr.exec(nn);if(!rn)return null;const on=parseInt(rn[1],10);let fn=parseInt(rn[2],10);fn=fn>=1&&fn<=12?fn-1:0;let mn=parseInt(rn[3],10);mn=mn>=1&&mn<=31?mn:1;let yn=parseInt(rn[4],10);yn=yn>=0&&yn<=23?yn:0;let Rn=parseInt(rn[5],10);Rn=Rn>=0&&Rn<=59?Rn:0;let In=parseInt(rn[6],10);In=In>=0&&In<=59?In:0;const Sn=rn[7]||"Z";let Dn=parseInt(rn[8],10);Dn=Dn>=0&&Dn<=23?Dn:0;let zn=parseInt(rn[9],10)||0;return zn=zn>=0&&zn<=59?zn:0,Sn==="-"?(yn+=Dn,Rn+=zn):Sn==="+"&&(yn-=Dn,Rn-=zn),new Date(Date.UTC(on,fn,mn,yn,Rn,In))}}er.PDFDateString=Ir;function Lr(Jr,{scale:nn=1,rotation:rn=0}){const{width:on,height:fn}=Jr.attributes.style,mn=[0,0,parseInt(on),parseInt(fn)];return new fr({viewBox:mn,scale:nn,rotation:rn})}function Nr(Jr){if(Jr.startsWith("#")){const nn=parseInt(Jr.slice(1),16);return[(nn&16711680)>>16,(nn&65280)>>8,nn&255]}return Jr.startsWith("rgb(")?Jr.slice(4,-1).split(",").map(nn=>parseInt(nn)):Jr.startsWith("rgba(")?Jr.slice(5,-1).split(",").map(nn=>parseInt(nn)).slice(0,3):((0,ir.warn)(`Not a valid color format: "${Jr}"`),[0,0,0])}function Or(Jr){const nn=document.createElement("span");nn.style.visibility="hidden",document.body.append(nn);for(const rn of Jr.keys()){nn.style.color=rn;const on=window.getComputedStyle(nn).color;Jr.set(rn,Nr(on))}nn.remove()}function Pr(Jr){const{a:nn,b:rn,c:on,d:fn,e:mn,f:yn}=Jr.getTransform();return[nn,rn,on,fn,mn,yn]}function Mr(Jr){const{a:nn,b:rn,c:on,d:fn,e:mn,f:yn}=Jr.getTransform().invertSelf();return[nn,rn,on,fn,mn,yn]}function jr(Jr,nn,rn=!1,on=!0){if(nn instanceof fr){const{pageWidth:fn,pageHeight:mn}=nn.rawDims,{style:yn}=Jr,Rn=ir.FeatureTest.isCSSRoundSupported,In=`var(--scale-factor) * ${fn}px`,Sn=`var(--scale-factor) * ${mn}px`,Dn=Rn?`round(${In}, 1px)`:`calc(${In})`,zn=Rn?`round(${Sn}, 1px)`:`calc(${Sn})`;!rn||nn.rotation%180===0?(yn.width=Dn,yn.height=zn):(yn.width=zn,yn.height=Dn)}on&&Jr.setAttribute("data-main-rotation",nn.rotation)}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.BaseStandardFontDataFactory=er.BaseSVGFactory=er.BaseFilterFactory=er.BaseCanvasFactory=er.BaseCMapReaderFactory=void 0;var nr=rr(1);class ir{constructor(){this.constructor===ir&&(0,nr.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(ur){return"none"}addHCMFilter(ur,dr){return"none"}addHighlightHCMFilter(ur,dr,hr,fr){return"none"}destroy(ur=!1){}}er.BaseFilterFactory=ir;class ar{constructor(){this.constructor===ar&&(0,nr.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ur,dr){if(ur<=0||dr<=0)throw new Error("Invalid canvas size");const hr=this._createCanvas(ur,dr);return{canvas:hr,context:hr.getContext("2d")}}reset(ur,dr,hr){if(!ur.canvas)throw new Error("Canvas is not specified");if(dr<=0||hr<=0)throw new Error("Invalid canvas size");ur.canvas.width=dr,ur.canvas.height=hr}destroy(ur){if(!ur.canvas)throw new Error("Canvas is not specified");ur.canvas.width=0,ur.canvas.height=0,ur.canvas=null,ur.context=null}_createCanvas(ur,dr){(0,nr.unreachable)("Abstract method `_createCanvas` called.")}}er.BaseCanvasFactory=ar;class sr{constructor({baseUrl:ur=null,isCompressed:dr=!0}){this.constructor===sr&&(0,nr.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ur,this.isCompressed=dr}async fetch({name:ur}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ur)throw new Error("CMap name must be specified.");const dr=this.baseUrl+ur+(this.isCompressed?".bcmap":""),hr=this.isCompressed?nr.CMapCompressionType.BINARY:nr.CMapCompressionType.NONE;return this._fetchData(dr,hr).catch(fr=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dr}`)})}_fetchData(ur,dr){(0,nr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseCMapReaderFactory=sr;class lr{constructor({baseUrl:ur=null}){this.constructor===lr&&(0,nr.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ur}async fetch({filename:ur}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ur)throw new Error("Font filename must be specified.");const dr=`${this.baseUrl}${ur}`;return this._fetchData(dr).catch(hr=>{throw new Error(`Unable to load font data at: ${dr}`)})}_fetchData(ur){(0,nr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseStandardFontDataFactory=lr;class or{constructor(){this.constructor===or&&(0,nr.unreachable)("Cannot initialize BaseSVGFactory.")}create(ur,dr,hr=!1){if(ur<=0||dr<=0)throw new Error("Invalid SVG dimensions");const fr=this._createSVG("svg:svg");return fr.setAttribute("version","1.1"),hr||(fr.setAttribute("width",`${ur}px`),fr.setAttribute("height",`${dr}px`)),fr.setAttribute("preserveAspectRatio","none"),fr.setAttribute("viewBox",`0 0 ${ur} ${dr}`),fr}createElement(ur){if(typeof ur!="string")throw new Error("Invalid SVG element type");return this._createSVG(ur)}_createSVG(ur){(0,nr.unreachable)("Abstract method `_createSVG` called.")}}er.BaseSVGFactory=or},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.MurmurHash3_64=void 0;var nr=rr(1);const ir=3285377520,ar=4294901760,sr=65535;class lr{constructor(cr){this.h1=cr?cr&4294967295:ir,this.h2=cr?cr&4294967295:ir}update(cr){let ur,dr;if(typeof cr=="string"){ur=new Uint8Array(cr.length*2),dr=0;for(let Cr=0,Tr=cr.length;Cr<Tr;Cr++){const Ir=cr.charCodeAt(Cr);Ir<=255?ur[dr++]=Ir:(ur[dr++]=Ir>>>8,ur[dr++]=Ir&255)}}else if((0,nr.isArrayBuffer)(cr))ur=cr.slice(),dr=ur.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const hr=dr>>2,fr=dr-hr*4,mr=new Uint32Array(ur.buffer,0,hr);let br=0,pr=0,gr=this.h1,yr=this.h2;const vr=3432918353,_r=461845907,xr=vr&sr,Rr=_r&sr;for(let Cr=0;Cr<hr;Cr++)Cr&1?(br=mr[Cr],br=br*vr&ar|br*xr&sr,br=br<<15|br>>>17,br=br*_r&ar|br*Rr&sr,gr^=br,gr=gr<<13|gr>>>19,gr=gr*5+3864292196):(pr=mr[Cr],pr=pr*vr&ar|pr*xr&sr,pr=pr<<15|pr>>>17,pr=pr*_r&ar|pr*Rr&sr,yr^=pr,yr=yr<<13|yr>>>19,yr=yr*5+3864292196);switch(br=0,fr){case 3:br^=ur[hr*4+2]<<16;case 2:br^=ur[hr*4+1]<<8;case 1:br^=ur[hr*4],br=br*vr&ar|br*xr&sr,br=br<<15|br>>>17,br=br*_r&ar|br*Rr&sr,hr&1?gr^=br:yr^=br}this.h1=gr,this.h2=yr}hexdigest(){let cr=this.h1,ur=this.h2;return cr^=ur>>>1,cr=cr*3981806797&ar|cr*36045&sr,ur=ur*4283543511&ar|((ur<<16|cr>>>16)*2950163797&ar)>>>16,cr^=ur>>>1,cr=cr*444984403&ar|cr*60499&sr,ur=ur*3301882366&ar|((ur<<16|cr>>>16)*3120437893&ar)>>>16,cr^=ur>>>1,(cr>>>0).toString(16).padStart(8,"0")+(ur>>>0).toString(16).padStart(8,"0")}}er.MurmurHash3_64=lr},(tr,er,rr)=>{var sr;Object.defineProperty(er,"__esModule",{value:!0}),er.FontLoader=er.FontFaceObject=void 0;var nr=rr(1);class ir{constructor({ownerDocument:or=globalThis.document,styleElement:cr=null}){ba(this,sr,new Set);this._document=or,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(or){this.nativeFontFaces.add(or),this._document.fonts.add(or)}removeNativeFontFace(or){this.nativeFontFaces.delete(or),this._document.fonts.delete(or)}insertRule(or){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const cr=this.styleElement.sheet;cr.insertRule(or,cr.cssRules.length)}clear(){for(const or of this.nativeFontFaces)this._document.fonts.delete(or);this.nativeFontFaces.clear(),cn(this,sr).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(or){if(!(!or||cn(this,sr).has(or.loadedName))){if((0,nr.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:cr,src:ur,style:dr}=or,hr=new FontFace(cr,ur,dr);this.addNativeFontFace(hr);try{await hr.load(),cn(this,sr).add(cr)}catch{(0,nr.warn)(`Cannot load system font: ${or.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(hr)}return}(0,nr.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(or){if(or.attached||or.missingFile&&!or.systemFontInfo)return;if(or.attached=!0,or.systemFontInfo){await this.loadSystemFont(or.systemFontInfo);return}if(this.isFontLoadingAPISupported){const ur=or.createNativeFontFace();if(ur){this.addNativeFontFace(ur);try{await ur.loaded}catch(dr){throw(0,nr.warn)(`Failed to load font '${ur.family}': '${dr}'.`),or.disableFontFace=!0,dr}}return}const cr=or.createFontFaceRule();if(cr){if(this.insertRule(cr),this.isSyncFontLoadingSupported)return;await new Promise(ur=>{const dr=this._queueLoadingCallback(ur);this._prepareFontLoadEvent(or,dr)})}}get isFontLoadingAPISupported(){var cr;const or=!!((cr=this._document)!=null&&cr.fonts);return(0,nr.shadow)(this,"isFontLoadingAPISupported",or)}get isSyncFontLoadingSupported(){let or=!1;return(nr.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(or=!0),(0,nr.shadow)(this,"isSyncFontLoadingSupported",or)}_queueLoadingCallback(or){function cr(){for((0,nr.assert)(!dr.done,"completeRequest() cannot be called twice."),dr.done=!0;ur.length>0&&ur[0].done;){const hr=ur.shift();setTimeout(hr.callback,0)}}const{loadingRequests:ur}=this,dr={done:!1,complete:cr,callback:or};return ur.push(dr),dr}get _loadTestFont(){const or=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,nr.shadow)(this,"_loadTestFont",or)}_prepareFontLoadEvent(or,cr){function ur(Nr,Or){return Nr.charCodeAt(Or)<<24|Nr.charCodeAt(Or+1)<<16|Nr.charCodeAt(Or+2)<<8|Nr.charCodeAt(Or+3)&255}function dr(Nr,Or,Pr,Mr){const jr=Nr.substring(0,Or),wr=Nr.substring(Or+Pr);return jr+Mr+wr}let hr,fr;const mr=this._document.createElement("canvas");mr.width=1,mr.height=1;const br=mr.getContext("2d");let pr=0;function gr(Nr,Or){if(++pr>30){(0,nr.warn)("Load test font never loaded."),Or();return}if(br.font="30px "+Nr,br.fillText(".",0,20),br.getImageData(0,0,1,1).data[3]>0){Or();return}setTimeout(gr.bind(null,Nr,Or))}const yr=`lt${Date.now()}${this.loadTestFontId++}`;let vr=this._loadTestFont;vr=dr(vr,976,yr.length,yr);const xr=16,Rr=1482184792;let Cr=ur(vr,xr);for(hr=0,fr=yr.length-3;hr<fr;hr+=4)Cr=Cr-Rr+ur(yr,hr)|0;hr<yr.length&&(Cr=Cr-Rr+ur(yr+"XXX",hr)|0),vr=dr(vr,xr,4,(0,nr.string32)(Cr));const Tr=`url(data:font/opentype;base64,${btoa(vr)});`,Ir=`@font-face {font-family:"${yr}";src:${Tr}}`;this.insertRule(Ir);const Lr=this._document.createElement("div");Lr.style.visibility="hidden",Lr.style.width=Lr.style.height="10px",Lr.style.position="absolute",Lr.style.top=Lr.style.left="0px";for(const Nr of[or.loadedName,yr]){const Or=this._document.createElement("span");Or.textContent="Hi",Or.style.fontFamily=Nr,Lr.append(Or)}this._document.body.append(Lr),gr(yr,()=>{Lr.remove(),cr.complete()})}}sr=new WeakMap,er.FontLoader=ir;class ar{constructor(or,{isEvalSupported:cr=!0,disableFontFace:ur=!1,ignoreErrors:dr=!1,inspectFont:hr=null}){this.compiledGlyphs=Object.create(null);for(const fr in or)this[fr]=or[fr];this.isEvalSupported=cr!==!1,this.disableFontFace=ur===!0,this.ignoreErrors=dr===!0,this._inspectFont=hr}createNativeFontFace(){var cr;if(!this.data||this.disableFontFace)return null;let or;if(!this.cssFontInfo)or=new FontFace(this.loadedName,this.data,{});else{const ur={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ur.style=`oblique ${this.cssFontInfo.italicAngle}deg`),or=new FontFace(this.cssFontInfo.fontFamily,this.data,ur)}return(cr=this._inspectFont)==null||cr.call(this,this),or}createFontFaceRule(){var dr;if(!this.data||this.disableFontFace)return null;const or=(0,nr.bytesToString)(this.data),cr=`url(data:${this.mimetype};base64,${btoa(or)});`;let ur;if(!this.cssFontInfo)ur=`@font-face {font-family:"${this.loadedName}";src:${cr}}`;else{let hr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(hr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ur=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${hr}src:${cr}}`}return(dr=this._inspectFont)==null||dr.call(this,this,cr),ur}getPathGenerator(or,cr){if(this.compiledGlyphs[cr]!==void 0)return this.compiledGlyphs[cr];let ur;try{ur=or.get(this.loadedName+"_path_"+cr)}catch(dr){if(!this.ignoreErrors)throw dr;return(0,nr.warn)(`getPathGenerator - ignoring character: "${dr}".`),this.compiledGlyphs[cr]=function(hr,fr){}}if(this.isEvalSupported&&nr.FeatureTest.isEvalSupported){const dr=[];for(const hr of ur){const fr=hr.args!==void 0?hr.args.join(","):"";dr.push("c.",hr.cmd,"(",fr,`);
`)}return this.compiledGlyphs[cr]=new Function("c","size",dr.join(""))}return this.compiledGlyphs[cr]=function(dr,hr){for(const fr of ur)fr.cmd==="scale"&&(fr.args=[hr,-hr]),dr[fr.cmd].apply(dr,fr.args)}}}er.FontFaceObject=ar},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.NodeStandardFontDataFactory=er.NodeFilterFactory=er.NodeCanvasFactory=er.NodeCMapReaderFactory=void 0;var nr=rr(7);rr(1);const ir=function(cr){return new Promise((ur,dr)=>{require$$5.readFile(cr,(fr,mr)=>{if(fr||!mr){dr(new Error(fr));return}ur(new Uint8Array(mr))})})};class ar extends nr.BaseFilterFactory{}er.NodeFilterFactory=ar;class sr extends nr.BaseCanvasFactory{_createCanvas(ur,dr){return require$$5.createCanvas(ur,dr)}}er.NodeCanvasFactory=sr;class lr extends nr.BaseCMapReaderFactory{_fetchData(ur,dr){return ir(ur).then(hr=>({cMapData:hr,compressionType:dr}))}}er.NodeCMapReaderFactory=lr;class or extends nr.BaseStandardFontDataFactory{_fetchData(ur){return ir(ur)}}er.NodeStandardFontDataFactory=or},(tr,er,rr)=>{var Ar,s0,o0;Object.defineProperty(er,"__esModule",{value:!0}),er.CanvasGraphics=void 0;var nr=rr(1),ir=rr(6),ar=rr(12),sr=rr(13);const lr=16,or=100,cr=4096,ur=15,dr=10,hr=1e3,fr=16;function mr($r,Vr){if($r._removeMirroring)throw new Error("Context is already forwarding operations.");$r.__originalSave=$r.save,$r.__originalRestore=$r.restore,$r.__originalRotate=$r.rotate,$r.__originalScale=$r.scale,$r.__originalTranslate=$r.translate,$r.__originalTransform=$r.transform,$r.__originalSetTransform=$r.setTransform,$r.__originalResetTransform=$r.resetTransform,$r.__originalClip=$r.clip,$r.__originalMoveTo=$r.moveTo,$r.__originalLineTo=$r.lineTo,$r.__originalBezierCurveTo=$r.bezierCurveTo,$r.__originalRect=$r.rect,$r.__originalClosePath=$r.closePath,$r.__originalBeginPath=$r.beginPath,$r._removeMirroring=()=>{$r.save=$r.__originalSave,$r.restore=$r.__originalRestore,$r.rotate=$r.__originalRotate,$r.scale=$r.__originalScale,$r.translate=$r.__originalTranslate,$r.transform=$r.__originalTransform,$r.setTransform=$r.__originalSetTransform,$r.resetTransform=$r.__originalResetTransform,$r.clip=$r.__originalClip,$r.moveTo=$r.__originalMoveTo,$r.lineTo=$r.__originalLineTo,$r.bezierCurveTo=$r.__originalBezierCurveTo,$r.rect=$r.__originalRect,$r.closePath=$r.__originalClosePath,$r.beginPath=$r.__originalBeginPath,delete $r._removeMirroring},$r.save=function(){Vr.save(),this.__originalSave()},$r.restore=function(){Vr.restore(),this.__originalRestore()},$r.translate=function(Gr,Fr){Vr.translate(Gr,Fr),this.__originalTranslate(Gr,Fr)},$r.scale=function(Gr,Fr){Vr.scale(Gr,Fr),this.__originalScale(Gr,Fr)},$r.transform=function(Gr,Fr,Xr,Ur,Br,Kr){Vr.transform(Gr,Fr,Xr,Ur,Br,Kr),this.__originalTransform(Gr,Fr,Xr,Ur,Br,Kr)},$r.setTransform=function(Gr,Fr,Xr,Ur,Br,Kr){Vr.setTransform(Gr,Fr,Xr,Ur,Br,Kr),this.__originalSetTransform(Gr,Fr,Xr,Ur,Br,Kr)},$r.resetTransform=function(){Vr.resetTransform(),this.__originalResetTransform()},$r.rotate=function(Gr){Vr.rotate(Gr),this.__originalRotate(Gr)},$r.clip=function(Gr){Vr.clip(Gr),this.__originalClip(Gr)},$r.moveTo=function(zr,Gr){Vr.moveTo(zr,Gr),this.__originalMoveTo(zr,Gr)},$r.lineTo=function(zr,Gr){Vr.lineTo(zr,Gr),this.__originalLineTo(zr,Gr)},$r.bezierCurveTo=function(zr,Gr,Fr,Xr,Ur,Br){Vr.bezierCurveTo(zr,Gr,Fr,Xr,Ur,Br),this.__originalBezierCurveTo(zr,Gr,Fr,Xr,Ur,Br)},$r.rect=function(zr,Gr,Fr,Xr){Vr.rect(zr,Gr,Fr,Xr),this.__originalRect(zr,Gr,Fr,Xr)},$r.closePath=function(){Vr.closePath(),this.__originalClosePath()},$r.beginPath=function(){Vr.beginPath(),this.__originalBeginPath()}}class br{constructor(Vr){this.canvasFactory=Vr,this.cache=Object.create(null)}getCanvas(Vr,zr,Gr){let Fr;return this.cache[Vr]!==void 0?(Fr=this.cache[Vr],this.canvasFactory.reset(Fr,zr,Gr)):(Fr=this.canvasFactory.create(zr,Gr),this.cache[Vr]=Fr),Fr}delete(Vr){delete this.cache[Vr]}clear(){for(const Vr in this.cache){const zr=this.cache[Vr];this.canvasFactory.destroy(zr),delete this.cache[Vr]}}}function pr($r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr){const[tn,sn,un,hn,Jr,nn]=(0,ir.getCurrentTransform)($r);if(sn===0&&un===0){const fn=Ur*tn+Jr,mn=Math.round(fn),yn=Br*hn+nn,Rn=Math.round(yn),In=(Ur+Kr)*tn+Jr,Sn=Math.abs(Math.round(In)-mn)||1,Dn=(Br+Zr)*hn+nn,zn=Math.abs(Math.round(Dn)-Rn)||1;return $r.setTransform(Math.sign(tn),0,0,Math.sign(hn),mn,Rn),$r.drawImage(Vr,zr,Gr,Fr,Xr,0,0,Sn,zn),$r.setTransform(tn,sn,un,hn,Jr,nn),[Sn,zn]}if(tn===0&&hn===0){const fn=Br*un+Jr,mn=Math.round(fn),yn=Ur*sn+nn,Rn=Math.round(yn),In=(Br+Zr)*un+Jr,Sn=Math.abs(Math.round(In)-mn)||1,Dn=(Ur+Kr)*sn+nn,zn=Math.abs(Math.round(Dn)-Rn)||1;return $r.setTransform(0,Math.sign(sn),Math.sign(un),0,mn,Rn),$r.drawImage(Vr,zr,Gr,Fr,Xr,0,0,zn,Sn),$r.setTransform(tn,sn,un,hn,Jr,nn),[zn,Sn]}$r.drawImage(Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr);const rn=Math.hypot(tn,sn),on=Math.hypot(un,hn);return[rn*Kr,on*Zr]}function gr($r){const{width:Vr,height:zr}=$r;if(Vr>hr||zr>hr)return null;const Gr=1e3,Fr=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Xr=Vr+1;let Ur=new Uint8Array(Xr*(zr+1)),Br,Kr,Zr;const tn=Vr+7&-8;let sn=new Uint8Array(tn*zr),un=0;for(const on of $r.data){let fn=128;for(;fn>0;)sn[un++]=on&fn?0:255,fn>>=1}let hn=0;for(un=0,sn[un]!==0&&(Ur[0]=1,++hn),Kr=1;Kr<Vr;Kr++)sn[un]!==sn[un+1]&&(Ur[Kr]=sn[un]?2:1,++hn),un++;for(sn[un]!==0&&(Ur[Kr]=2,++hn),Br=1;Br<zr;Br++){un=Br*tn,Zr=Br*Xr,sn[un-tn]!==sn[un]&&(Ur[Zr]=sn[un]?1:8,++hn);let on=(sn[un]?4:0)+(sn[un-tn]?8:0);for(Kr=1;Kr<Vr;Kr++)on=(on>>2)+(sn[un+1]?4:0)+(sn[un-tn+1]?8:0),Fr[on]&&(Ur[Zr+Kr]=Fr[on],++hn),un++;if(sn[un-tn]!==sn[un]&&(Ur[Zr+Kr]=sn[un]?2:4,++hn),hn>Gr)return null}for(un=tn*(zr-1),Zr=Br*Xr,sn[un]!==0&&(Ur[Zr]=8,++hn),Kr=1;Kr<Vr;Kr++)sn[un]!==sn[un+1]&&(Ur[Zr+Kr]=sn[un]?4:8,++hn),un++;if(sn[un]!==0&&(Ur[Zr+Kr]=4,++hn),hn>Gr)return null;const Jr=new Int32Array([0,Xr,-1,0,-Xr,0,0,0,1]),nn=new Path2D;for(Br=0;hn&&Br<=zr;Br++){let on=Br*Xr;const fn=on+Vr;for(;on<fn&&!Ur[on];)on++;if(on===fn)continue;nn.moveTo(on%Xr,Br);const mn=on;let yn=Ur[on];do{const Rn=Jr[yn];do on+=Rn;while(!Ur[on]);const In=Ur[on];In!==5&&In!==10?(yn=In,Ur[on]=0):(yn=In&51*yn>>4,Ur[on]&=yn>>2|yn<<2),nn.lineTo(on%Xr,on/Xr|0),Ur[on]||--hn}while(mn!==on);--Br}return sn=null,Ur=null,function(on){on.save(),on.scale(1/Vr,-1/zr),on.translate(0,-zr),on.fill(nn),on.beginPath(),on.restore()}}class yr{constructor(Vr,zr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=nr.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=nr.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=nr.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Vr,zr])}clone(){const Vr=Object.create(this);return Vr.clipBox=this.clipBox.slice(),Vr}setCurrentPoint(Vr,zr){this.x=Vr,this.y=zr}updatePathMinMax(Vr,zr,Gr){[zr,Gr]=nr.Util.applyTransform([zr,Gr],Vr),this.minX=Math.min(this.minX,zr),this.minY=Math.min(this.minY,Gr),this.maxX=Math.max(this.maxX,zr),this.maxY=Math.max(this.maxY,Gr)}updateRectMinMax(Vr,zr){const Gr=nr.Util.applyTransform(zr,Vr),Fr=nr.Util.applyTransform(zr.slice(2),Vr);this.minX=Math.min(this.minX,Gr[0],Fr[0]),this.minY=Math.min(this.minY,Gr[1],Fr[1]),this.maxX=Math.max(this.maxX,Gr[0],Fr[0]),this.maxY=Math.max(this.maxY,Gr[1],Fr[1])}updateScalingPathMinMax(Vr,zr){nr.Util.scaleMinMax(Vr,zr),this.minX=Math.min(this.minX,zr[0]),this.maxX=Math.max(this.maxX,zr[1]),this.minY=Math.min(this.minY,zr[2]),this.maxY=Math.max(this.maxY,zr[3])}updateCurvePathMinMax(Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr,tn){const sn=nr.Util.bezierBoundingBox(zr,Gr,Fr,Xr,Ur,Br,Kr,Zr);if(tn){tn[0]=Math.min(tn[0],sn[0],sn[2]),tn[1]=Math.max(tn[1],sn[0],sn[2]),tn[2]=Math.min(tn[2],sn[1],sn[3]),tn[3]=Math.max(tn[3],sn[1],sn[3]);return}this.updateRectMinMax(Vr,sn)}getPathBoundingBox(Vr=ar.PathType.FILL,zr=null){const Gr=[this.minX,this.minY,this.maxX,this.maxY];if(Vr===ar.PathType.STROKE){zr||(0,nr.unreachable)("Stroke bounding box must include transform.");const Fr=nr.Util.singularValueDecompose2dScale(zr),Xr=Fr[0]*this.lineWidth/2,Ur=Fr[1]*this.lineWidth/2;Gr[0]-=Xr,Gr[1]-=Ur,Gr[2]+=Xr,Gr[3]+=Ur}return Gr}updateClipFromPath(){const Vr=nr.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Vr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Vr){this.clipBox=Vr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Vr=ar.PathType.FILL,zr=null){return nr.Util.intersect(this.clipBox,this.getPathBoundingBox(Vr,zr))}}function vr($r,Vr){if(typeof ImageData<"u"&&Vr instanceof ImageData){$r.putImageData(Vr,0,0);return}const zr=Vr.height,Gr=Vr.width,Fr=zr%fr,Xr=(zr-Fr)/fr,Ur=Fr===0?Xr:Xr+1,Br=$r.createImageData(Gr,fr);let Kr=0,Zr;const tn=Vr.data,sn=Br.data;let un,hn,Jr,nn;if(Vr.kind===nr.ImageKind.GRAYSCALE_1BPP){const rn=tn.byteLength,on=new Uint32Array(sn.buffer,0,sn.byteLength>>2),fn=on.length,mn=Gr+7>>3,yn=4294967295,Rn=nr.FeatureTest.isLittleEndian?4278190080:255;for(un=0;un<Ur;un++){for(Jr=un<Xr?fr:Fr,Zr=0,hn=0;hn<Jr;hn++){const In=rn-Kr;let Sn=0;const Dn=In>mn?Gr:In*8-7,zn=Dn&-8;let rs=0,ns=0;for(;Sn<zn;Sn+=8)ns=tn[Kr++],on[Zr++]=ns&128?yn:Rn,on[Zr++]=ns&64?yn:Rn,on[Zr++]=ns&32?yn:Rn,on[Zr++]=ns&16?yn:Rn,on[Zr++]=ns&8?yn:Rn,on[Zr++]=ns&4?yn:Rn,on[Zr++]=ns&2?yn:Rn,on[Zr++]=ns&1?yn:Rn;for(;Sn<Dn;Sn++)rs===0&&(ns=tn[Kr++],rs=128),on[Zr++]=ns&rs?yn:Rn,rs>>=1}for(;Zr<fn;)on[Zr++]=0;$r.putImageData(Br,0,un*fr)}}else if(Vr.kind===nr.ImageKind.RGBA_32BPP){for(hn=0,nn=Gr*fr*4,un=0;un<Xr;un++)sn.set(tn.subarray(Kr,Kr+nn)),Kr+=nn,$r.putImageData(Br,0,hn),hn+=fr;un<Ur&&(nn=Gr*Fr*4,sn.set(tn.subarray(Kr,Kr+nn)),$r.putImageData(Br,0,hn))}else if(Vr.kind===nr.ImageKind.RGB_24BPP)for(Jr=fr,nn=Gr*Jr,un=0;un<Ur;un++){for(un>=Xr&&(Jr=Fr,nn=Gr*Jr),Zr=0,hn=nn;hn--;)sn[Zr++]=tn[Kr++],sn[Zr++]=tn[Kr++],sn[Zr++]=tn[Kr++],sn[Zr++]=255;$r.putImageData(Br,0,un*fr)}else throw new Error(`bad image kind: ${Vr.kind}`)}function _r($r,Vr){if(Vr.bitmap){$r.drawImage(Vr.bitmap,0,0);return}const zr=Vr.height,Gr=Vr.width,Fr=zr%fr,Xr=(zr-Fr)/fr,Ur=Fr===0?Xr:Xr+1,Br=$r.createImageData(Gr,fr);let Kr=0;const Zr=Vr.data,tn=Br.data;for(let sn=0;sn<Ur;sn++){const un=sn<Xr?fr:Fr;({srcPos:Kr}=(0,sr.convertBlackAndWhiteToRGBA)({src:Zr,srcPos:Kr,dest:tn,width:Gr,height:un,nonBlackColor:0})),$r.putImageData(Br,0,sn*fr)}}function xr($r,Vr){const zr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Gr of zr)$r[Gr]!==void 0&&(Vr[Gr]=$r[Gr]);$r.setLineDash!==void 0&&(Vr.setLineDash($r.getLineDash()),Vr.lineDashOffset=$r.lineDashOffset)}function Rr($r){if($r.strokeStyle=$r.fillStyle="#000000",$r.fillRule="nonzero",$r.globalAlpha=1,$r.lineWidth=1,$r.lineCap="butt",$r.lineJoin="miter",$r.miterLimit=10,$r.globalCompositeOperation="source-over",$r.font="10px sans-serif",$r.setLineDash!==void 0&&($r.setLineDash([]),$r.lineDashOffset=0),!nr.isNodeJS){const{filter:Vr}=$r;Vr!=="none"&&Vr!==""&&($r.filter="none")}}function Cr($r,Vr,zr,Gr){const Fr=$r.length;for(let Xr=3;Xr<Fr;Xr+=4){const Ur=$r[Xr];if(Ur===0)$r[Xr-3]=Vr,$r[Xr-2]=zr,$r[Xr-1]=Gr;else if(Ur<255){const Br=255-Ur;$r[Xr-3]=$r[Xr-3]*Ur+Vr*Br>>8,$r[Xr-2]=$r[Xr-2]*Ur+zr*Br>>8,$r[Xr-1]=$r[Xr-1]*Ur+Gr*Br>>8}}}function Tr($r,Vr,zr){const Gr=$r.length,Fr=1/255;for(let Xr=3;Xr<Gr;Xr+=4){const Ur=zr?zr[$r[Xr]]:$r[Xr];Vr[Xr]=Vr[Xr]*Ur*Fr|0}}function Ir($r,Vr,zr){const Gr=$r.length;for(let Fr=3;Fr<Gr;Fr+=4){const Xr=$r[Fr-3]*77+$r[Fr-2]*152+$r[Fr-1]*28;Vr[Fr]=zr?Vr[Fr]*zr[Xr>>8]>>8:Vr[Fr]*Xr>>16}}function Lr($r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr,tn){const sn=!!Xr,un=sn?Xr[0]:0,hn=sn?Xr[1]:0,Jr=sn?Xr[2]:0,nn=Fr==="Luminosity"?Ir:Tr,on=Math.min(Gr,Math.ceil(1048576/zr));for(let fn=0;fn<Gr;fn+=on){const mn=Math.min(on,Gr-fn),yn=$r.getImageData(Br-Zr,fn+(Kr-tn),zr,mn),Rn=Vr.getImageData(Br,fn+Kr,zr,mn);sn&&Cr(yn.data,un,hn,Jr),nn(yn.data,Rn.data,Ur),Vr.putImageData(Rn,Br,fn+Kr)}}function Nr($r,Vr,zr,Gr){const Fr=Gr[0],Xr=Gr[1],Ur=Gr[2]-Fr,Br=Gr[3]-Xr;Ur===0||Br===0||(Lr(Vr.context,zr,Ur,Br,Vr.subtype,Vr.backdrop,Vr.transferMap,Fr,Xr,Vr.offsetX,Vr.offsetY),$r.save(),$r.globalAlpha=1,$r.globalCompositeOperation="source-over",$r.setTransform(1,0,0,1,0,0),$r.drawImage(zr.canvas,0,0),$r.restore())}function Or($r,Vr){const zr=nr.Util.singularValueDecompose2dScale($r);zr[0]=Math.fround(zr[0]),zr[1]=Math.fround(zr[1]);const Gr=Math.fround((globalThis.devicePixelRatio||1)*ir.PixelsPerInch.PDF_TO_CSS_UNITS);return Vr!==void 0?Vr:zr[0]<=Gr||zr[1]<=Gr}const Pr=["butt","round","square"],Mr=["miter","round","bevel"],jr={},wr={},Wr=class Wr{constructor(Vr,zr,Gr,Fr,Xr,{optionalContentConfig:Ur,markedContentStack:Br=null},Kr,Zr){ba(this,Ar);this.ctx=Vr,this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=zr,this.objs=Gr,this.canvasFactory=Fr,this.filterFactory=Xr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Br||[],this.optionalContentConfig=Ur,this.cachedCanvases=new br(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Kr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Zr,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Vr,zr=null){return typeof Vr=="string"?Vr.startsWith("g_")?this.commonObjs.get(Vr):this.objs.get(Vr):zr}beginDrawing({transform:Vr,viewport:zr,transparency:Gr=!1,background:Fr=null}){const Xr=this.ctx.canvas.width,Ur=this.ctx.canvas.height,Br=this.ctx.fillStyle;if(this.ctx.fillStyle=Fr||"#ffffff",this.ctx.fillRect(0,0,Xr,Ur),this.ctx.fillStyle=Br,Gr){const Kr=this.cachedCanvases.getCanvas("transparent",Xr,Ur);this.compositeCtx=this.ctx,this.transparentCanvas=Kr.canvas,this.ctx=Kr.context,this.ctx.save(),this.ctx.transform(...(0,ir.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Rr(this.ctx),Vr&&(this.ctx.transform(...Vr),this.outputScaleX=Vr[0],this.outputScaleY=Vr[0]),this.ctx.transform(...zr.transform),this.viewportScale=zr.scale,this.baseTransform=(0,ir.getCurrentTransform)(this.ctx)}executeOperatorList(Vr,zr,Gr,Fr){const Xr=Vr.argsArray,Ur=Vr.fnArray;let Br=zr||0;const Kr=Xr.length;if(Kr===Br)return Br;const Zr=Kr-Br>dr&&typeof Gr=="function",tn=Zr?Date.now()+ur:0;let sn=0;const un=this.commonObjs,hn=this.objs;let Jr;for(;;){if(Fr!==void 0&&Br===Fr.nextBreakPoint)return Fr.breakIt(Br,Gr),Br;if(Jr=Ur[Br],Jr!==nr.OPS.dependency)this[Jr].apply(this,Xr[Br]);else for(const nn of Xr[Br]){const rn=nn.startsWith("g_")?un:hn;if(!rn.has(nn))return rn.get(nn,Gr),Br}if(Br++,Br===Kr)return Br;if(Zr&&++sn>dr){if(Date.now()>tn)return Gr(),Br;sn=0}}}endDrawing(){Yn(this,Ar,s0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Vr of this._cachedBitmapsMap.values()){for(const zr of Vr.values())typeof HTMLCanvasElement<"u"&&zr instanceof HTMLCanvasElement&&(zr.width=zr.height=0);Vr.clear()}this._cachedBitmapsMap.clear(),Yn(this,Ar,o0).call(this)}_scaleImage(Vr,zr){const Gr=Vr.width,Fr=Vr.height;let Xr=Math.max(Math.hypot(zr[0],zr[1]),1),Ur=Math.max(Math.hypot(zr[2],zr[3]),1),Br=Gr,Kr=Fr,Zr="prescale1",tn,sn;for(;Xr>2&&Br>1||Ur>2&&Kr>1;){let un=Br,hn=Kr;Xr>2&&Br>1&&(un=Br>=16384?Math.floor(Br/2)-1||1:Math.ceil(Br/2),Xr/=Br/un),Ur>2&&Kr>1&&(hn=Kr>=16384?Math.floor(Kr/2)-1||1:Math.ceil(Kr)/2,Ur/=Kr/hn),tn=this.cachedCanvases.getCanvas(Zr,un,hn),sn=tn.context,sn.clearRect(0,0,un,hn),sn.drawImage(Vr,0,0,Br,Kr,0,0,un,hn),Vr=tn.canvas,Br=un,Kr=hn,Zr=Zr==="prescale1"?"prescale2":"prescale1"}return{img:Vr,paintWidth:Br,paintHeight:Kr}}_createMaskCanvas(Vr){const zr=this.ctx,{width:Gr,height:Fr}=Vr,Xr=this.current.fillColor,Ur=this.current.patternFill,Br=(0,ir.getCurrentTransform)(zr);let Kr,Zr,tn,sn;if((Vr.bitmap||Vr.data)&&Vr.count>1){const Sn=Vr.bitmap||Vr.data.buffer;Zr=JSON.stringify(Ur?Br:[Br.slice(0,4),Xr]),Kr=this._cachedBitmapsMap.get(Sn),Kr||(Kr=new Map,this._cachedBitmapsMap.set(Sn,Kr));const Dn=Kr.get(Zr);if(Dn&&!Ur){const zn=Math.round(Math.min(Br[0],Br[2])+Br[4]),rs=Math.round(Math.min(Br[1],Br[3])+Br[5]);return{canvas:Dn,offsetX:zn,offsetY:rs}}tn=Dn}tn||(sn=this.cachedCanvases.getCanvas("maskCanvas",Gr,Fr),_r(sn.context,Vr));let un=nr.Util.transform(Br,[1/Gr,0,0,-1/Fr,0,0]);un=nr.Util.transform(un,[1,0,0,1,0,-Fr]);const hn=nr.Util.applyTransform([0,0],un),Jr=nr.Util.applyTransform([Gr,Fr],un),nn=nr.Util.normalizeRect([hn[0],hn[1],Jr[0],Jr[1]]),rn=Math.round(nn[2]-nn[0])||1,on=Math.round(nn[3]-nn[1])||1,fn=this.cachedCanvases.getCanvas("fillCanvas",rn,on),mn=fn.context,yn=Math.min(hn[0],Jr[0]),Rn=Math.min(hn[1],Jr[1]);mn.translate(-yn,-Rn),mn.transform(...un),tn||(tn=this._scaleImage(sn.canvas,(0,ir.getCurrentTransformInverse)(mn)),tn=tn.img,Kr&&Ur&&Kr.set(Zr,tn)),mn.imageSmoothingEnabled=Or((0,ir.getCurrentTransform)(mn),Vr.interpolate),pr(mn,tn,0,0,tn.width,tn.height,0,0,Gr,Fr),mn.globalCompositeOperation="source-in";const In=nr.Util.transform((0,ir.getCurrentTransformInverse)(mn),[1,0,0,1,-yn,-Rn]);return mn.fillStyle=Ur?Xr.getPattern(zr,this,In,ar.PathType.FILL):Xr,mn.fillRect(0,0,Gr,Fr),Kr&&!Ur&&(this.cachedCanvases.delete("fillCanvas"),Kr.set(Zr,fn.canvas)),{canvas:fn.canvas,offsetX:Math.round(yn),offsetY:Math.round(Rn)}}setLineWidth(Vr){Vr!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Vr,this.ctx.lineWidth=Vr}setLineCap(Vr){this.ctx.lineCap=Pr[Vr]}setLineJoin(Vr){this.ctx.lineJoin=Mr[Vr]}setMiterLimit(Vr){this.ctx.miterLimit=Vr}setDash(Vr,zr){const Gr=this.ctx;Gr.setLineDash!==void 0&&(Gr.setLineDash(Vr),Gr.lineDashOffset=zr)}setRenderingIntent(Vr){}setFlatness(Vr){}setGState(Vr){for(const[zr,Gr]of Vr)switch(zr){case"LW":this.setLineWidth(Gr);break;case"LC":this.setLineCap(Gr);break;case"LJ":this.setLineJoin(Gr);break;case"ML":this.setMiterLimit(Gr);break;case"D":this.setDash(Gr[0],Gr[1]);break;case"RI":this.setRenderingIntent(Gr);break;case"FL":this.setFlatness(Gr);break;case"Font":this.setFont(Gr[0],Gr[1]);break;case"CA":this.current.strokeAlpha=Gr;break;case"ca":this.current.fillAlpha=Gr,this.ctx.globalAlpha=Gr;break;case"BM":this.ctx.globalCompositeOperation=Gr;break;case"SMask":this.current.activeSMask=Gr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Gr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Vr=this.inSMaskMode;this.current.activeSMask&&!Vr?this.beginSMaskMode():!this.current.activeSMask&&Vr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Vr=this.ctx.canvas.width,zr=this.ctx.canvas.height,Gr="smaskGroupAt"+this.groupLevel,Fr=this.cachedCanvases.getCanvas(Gr,Vr,zr);this.suspendedCtx=this.ctx,this.ctx=Fr.context;const Xr=this.ctx;Xr.setTransform(...(0,ir.getCurrentTransform)(this.suspendedCtx)),xr(this.suspendedCtx,Xr),mr(Xr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Vr){if(!this.current.activeSMask)return;Vr?(Vr[0]=Math.floor(Vr[0]),Vr[1]=Math.floor(Vr[1]),Vr[2]=Math.ceil(Vr[2]),Vr[3]=Math.ceil(Vr[3])):Vr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const zr=this.current.activeSMask,Gr=this.suspendedCtx;Nr(Gr,zr,this.ctx,Vr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(xr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Vr=this.current;this.stateStack.push(Vr),this.current=Vr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),xr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Vr,zr,Gr,Fr,Xr,Ur){this.ctx.transform(Vr,zr,Gr,Fr,Xr,Ur),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Vr,zr,Gr){const Fr=this.ctx,Xr=this.current;let Ur=Xr.x,Br=Xr.y,Kr,Zr;const tn=(0,ir.getCurrentTransform)(Fr),sn=tn[0]===0&&tn[3]===0||tn[1]===0&&tn[2]===0,un=sn?Gr.slice(0):null;for(let hn=0,Jr=0,nn=Vr.length;hn<nn;hn++)switch(Vr[hn]|0){case nr.OPS.rectangle:Ur=zr[Jr++],Br=zr[Jr++];const rn=zr[Jr++],on=zr[Jr++],fn=Ur+rn,mn=Br+on;Fr.moveTo(Ur,Br),rn===0||on===0?Fr.lineTo(fn,mn):(Fr.lineTo(fn,Br),Fr.lineTo(fn,mn),Fr.lineTo(Ur,mn)),sn||Xr.updateRectMinMax(tn,[Ur,Br,fn,mn]),Fr.closePath();break;case nr.OPS.moveTo:Ur=zr[Jr++],Br=zr[Jr++],Fr.moveTo(Ur,Br),sn||Xr.updatePathMinMax(tn,Ur,Br);break;case nr.OPS.lineTo:Ur=zr[Jr++],Br=zr[Jr++],Fr.lineTo(Ur,Br),sn||Xr.updatePathMinMax(tn,Ur,Br);break;case nr.OPS.curveTo:Kr=Ur,Zr=Br,Ur=zr[Jr+4],Br=zr[Jr+5],Fr.bezierCurveTo(zr[Jr],zr[Jr+1],zr[Jr+2],zr[Jr+3],Ur,Br),Xr.updateCurvePathMinMax(tn,Kr,Zr,zr[Jr],zr[Jr+1],zr[Jr+2],zr[Jr+3],Ur,Br,un),Jr+=6;break;case nr.OPS.curveTo2:Kr=Ur,Zr=Br,Fr.bezierCurveTo(Ur,Br,zr[Jr],zr[Jr+1],zr[Jr+2],zr[Jr+3]),Xr.updateCurvePathMinMax(tn,Kr,Zr,Ur,Br,zr[Jr],zr[Jr+1],zr[Jr+2],zr[Jr+3],un),Ur=zr[Jr+2],Br=zr[Jr+3],Jr+=4;break;case nr.OPS.curveTo3:Kr=Ur,Zr=Br,Ur=zr[Jr+2],Br=zr[Jr+3],Fr.bezierCurveTo(zr[Jr],zr[Jr+1],Ur,Br,Ur,Br),Xr.updateCurvePathMinMax(tn,Kr,Zr,zr[Jr],zr[Jr+1],Ur,Br,Ur,Br,un),Jr+=4;break;case nr.OPS.closePath:Fr.closePath();break}sn&&Xr.updateScalingPathMinMax(tn,un),Xr.setCurrentPoint(Ur,Br)}closePath(){this.ctx.closePath()}stroke(Vr=!0){const zr=this.ctx,Gr=this.current.strokeColor;zr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Gr=="object"&&(Gr!=null&&Gr.getPattern)?(zr.save(),zr.strokeStyle=Gr.getPattern(zr,this,(0,ir.getCurrentTransformInverse)(zr),ar.PathType.STROKE),this.rescaleAndStroke(!1),zr.restore()):this.rescaleAndStroke(!0)),Vr&&this.consumePath(this.current.getClippedPathBoundingBox()),zr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Vr=!0){const zr=this.ctx,Gr=this.current.fillColor,Fr=this.current.patternFill;let Xr=!1;Fr&&(zr.save(),zr.fillStyle=Gr.getPattern(zr,this,(0,ir.getCurrentTransformInverse)(zr),ar.PathType.FILL),Xr=!0);const Ur=this.current.getClippedPathBoundingBox();this.contentVisible&&Ur!==null&&(this.pendingEOFill?(zr.fill("evenodd"),this.pendingEOFill=!1):zr.fill()),Xr&&zr.restore(),Vr&&this.consumePath(Ur)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jr}eoClip(){this.pendingClip=wr}beginText(){this.current.textMatrix=nr.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Vr=this.pendingTextPaths,zr=this.ctx;if(Vr===void 0){zr.beginPath();return}zr.save(),zr.beginPath();for(const Gr of Vr)zr.setTransform(...Gr.transform),zr.translate(Gr.x,Gr.y),Gr.addToPath(zr,Gr.fontSize);zr.restore(),zr.clip(),zr.beginPath(),delete this.pendingTextPaths}setCharSpacing(Vr){this.current.charSpacing=Vr}setWordSpacing(Vr){this.current.wordSpacing=Vr}setHScale(Vr){this.current.textHScale=Vr/100}setLeading(Vr){this.current.leading=-Vr}setFont(Vr,zr){var tn;const Gr=this.commonObjs.get(Vr),Fr=this.current;if(!Gr)throw new Error(`Can't find font for ${Vr}`);if(Fr.fontMatrix=Gr.fontMatrix||nr.FONT_IDENTITY_MATRIX,(Fr.fontMatrix[0]===0||Fr.fontMatrix[3]===0)&&(0,nr.warn)("Invalid font matrix for font "+Vr),zr<0?(zr=-zr,Fr.fontDirection=-1):Fr.fontDirection=1,this.current.font=Gr,this.current.fontSize=zr,Gr.isType3Font)return;const Xr=Gr.loadedName||"sans-serif",Ur=((tn=Gr.systemFontInfo)==null?void 0:tn.css)||`"${Xr}", ${Gr.fallbackName}`;let Br="normal";Gr.black?Br="900":Gr.bold&&(Br="bold");const Kr=Gr.italic?"italic":"normal";let Zr=zr;zr<lr?Zr=lr:zr>or&&(Zr=or),this.current.fontSizeScale=zr/Zr,this.ctx.font=`${Kr} ${Br} ${Zr}px ${Ur}`}setTextRenderingMode(Vr){this.current.textRenderingMode=Vr}setTextRise(Vr){this.current.textRise=Vr}moveText(Vr,zr){this.current.x=this.current.lineX+=Vr,this.current.y=this.current.lineY+=zr}setLeadingMoveText(Vr,zr){this.setLeading(-zr),this.moveText(Vr,zr)}setTextMatrix(Vr,zr,Gr,Fr,Xr,Ur){this.current.textMatrix=[Vr,zr,Gr,Fr,Xr,Ur],this.current.textMatrixScale=Math.hypot(Vr,zr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Vr,zr,Gr,Fr){const Xr=this.ctx,Ur=this.current,Br=Ur.font,Kr=Ur.textRenderingMode,Zr=Ur.fontSize/Ur.fontSizeScale,tn=Kr&nr.TextRenderingMode.FILL_STROKE_MASK,sn=!!(Kr&nr.TextRenderingMode.ADD_TO_PATH_FLAG),un=Ur.patternFill&&!Br.missingFile;let hn;(Br.disableFontFace||sn||un)&&(hn=Br.getPathGenerator(this.commonObjs,Vr)),Br.disableFontFace||un?(Xr.save(),Xr.translate(zr,Gr),Xr.beginPath(),hn(Xr,Zr),Fr&&Xr.setTransform(...Fr),(tn===nr.TextRenderingMode.FILL||tn===nr.TextRenderingMode.FILL_STROKE)&&Xr.fill(),(tn===nr.TextRenderingMode.STROKE||tn===nr.TextRenderingMode.FILL_STROKE)&&Xr.stroke(),Xr.restore()):((tn===nr.TextRenderingMode.FILL||tn===nr.TextRenderingMode.FILL_STROKE)&&Xr.fillText(Vr,zr,Gr),(tn===nr.TextRenderingMode.STROKE||tn===nr.TextRenderingMode.FILL_STROKE)&&Xr.strokeText(Vr,zr,Gr)),sn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ir.getCurrentTransform)(Xr),x:zr,y:Gr,fontSize:Zr,addToPath:hn})}get isFontSubpixelAAEnabled(){const{context:Vr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Vr.scale(1.5,1),Vr.fillText("I",0,10);const zr=Vr.getImageData(0,0,10,10).data;let Gr=!1;for(let Fr=3;Fr<zr.length;Fr+=4)if(zr[Fr]>0&&zr[Fr]<255){Gr=!0;break}return(0,nr.shadow)(this,"isFontSubpixelAAEnabled",Gr)}showText(Vr){const zr=this.current,Gr=zr.font;if(Gr.isType3Font)return this.showType3Text(Vr);const Fr=zr.fontSize;if(Fr===0)return;const Xr=this.ctx,Ur=zr.fontSizeScale,Br=zr.charSpacing,Kr=zr.wordSpacing,Zr=zr.fontDirection,tn=zr.textHScale*Zr,sn=Vr.length,un=Gr.vertical,hn=un?1:-1,Jr=Gr.defaultVMetrics,nn=Fr*zr.fontMatrix[0],rn=zr.textRenderingMode===nr.TextRenderingMode.FILL&&!Gr.disableFontFace&&!zr.patternFill;Xr.save(),Xr.transform(...zr.textMatrix),Xr.translate(zr.x,zr.y+zr.textRise),Zr>0?Xr.scale(tn,-1):Xr.scale(tn,1);let on;if(zr.patternFill){Xr.save();const In=zr.fillColor.getPattern(Xr,this,(0,ir.getCurrentTransformInverse)(Xr),ar.PathType.FILL);on=(0,ir.getCurrentTransform)(Xr),Xr.restore(),Xr.fillStyle=In}let fn=zr.lineWidth;const mn=zr.textMatrixScale;if(mn===0||fn===0){const In=zr.textRenderingMode&nr.TextRenderingMode.FILL_STROKE_MASK;(In===nr.TextRenderingMode.STROKE||In===nr.TextRenderingMode.FILL_STROKE)&&(fn=this.getSinglePixelWidth())}else fn/=mn;if(Ur!==1&&(Xr.scale(Ur,Ur),fn/=Ur),Xr.lineWidth=fn,Gr.isInvalidPDFjsFont){const In=[];let Sn=0;for(const Dn of Vr)In.push(Dn.unicode),Sn+=Dn.width;Xr.fillText(In.join(""),0,0),zr.x+=Sn*nn*tn,Xr.restore(),this.compose();return}let yn=0,Rn;for(Rn=0;Rn<sn;++Rn){const In=Vr[Rn];if(typeof In=="number"){yn+=hn*In*Fr/1e3;continue}let Sn=!1;const Dn=(In.isSpace?Kr:0)+Br,zn=In.fontChar,rs=In.accent;let ns,fs,qn=In.width;if(un){const os=In.vmetric||Jr,gs=-(In.vmetric?os[1]:qn*.5)*nn,Wn=os[2]*nn;qn=os?-os[0]:qn,ns=gs/Ur,fs=(yn+Wn)/Ur}else ns=yn/Ur,fs=0;if(Gr.remeasure&&qn>0){const os=Xr.measureText(zn).width*1e3/Fr*Ur;if(qn<os&&this.isFontSubpixelAAEnabled){const gs=qn/os;Sn=!0,Xr.save(),Xr.scale(gs,1),ns/=gs}else qn!==os&&(ns+=(qn-os)/2e3*Fr/Ur)}if(this.contentVisible&&(In.isInFont||Gr.missingFile)){if(rn&&!rs)Xr.fillText(zn,ns,fs);else if(this.paintChar(zn,ns,fs,on),rs){const os=ns+Fr*rs.offset.x/Ur,gs=fs-Fr*rs.offset.y/Ur;this.paintChar(rs.fontChar,os,gs,on)}}const ds=un?qn*nn-Dn*Zr:qn*nn+Dn*Zr;yn+=ds,Sn&&Xr.restore()}un?zr.y-=yn:zr.x+=yn*tn,Xr.restore(),this.compose()}showType3Text(Vr){const zr=this.ctx,Gr=this.current,Fr=Gr.font,Xr=Gr.fontSize,Ur=Gr.fontDirection,Br=Fr.vertical?1:-1,Kr=Gr.charSpacing,Zr=Gr.wordSpacing,tn=Gr.textHScale*Ur,sn=Gr.fontMatrix||nr.FONT_IDENTITY_MATRIX,un=Vr.length,hn=Gr.textRenderingMode===nr.TextRenderingMode.INVISIBLE;let Jr,nn,rn,on;if(!(hn||Xr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,zr.save(),zr.transform(...Gr.textMatrix),zr.translate(Gr.x,Gr.y),zr.scale(tn,Ur),Jr=0;Jr<un;++Jr){if(nn=Vr[Jr],typeof nn=="number"){on=Br*nn*Xr/1e3,this.ctx.translate(on,0),Gr.x+=on*tn;continue}const fn=(nn.isSpace?Zr:0)+Kr,mn=Fr.charProcOperatorList[nn.operatorListId];if(!mn){(0,nr.warn)(`Type3 character "${nn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=nn,this.save(),zr.scale(Xr,Xr),zr.transform(...sn),this.executeOperatorList(mn),this.restore()),rn=nr.Util.applyTransform([nn.width,0],sn)[0]*Xr+fn,zr.translate(rn,0),Gr.x+=rn*tn}zr.restore(),this.processingType3=null}}setCharWidth(Vr,zr){}setCharWidthAndBounds(Vr,zr,Gr,Fr,Xr,Ur){this.ctx.rect(Gr,Fr,Xr-Gr,Ur-Fr),this.ctx.clip(),this.endPath()}getColorN_Pattern(Vr){let zr;if(Vr[0]==="TilingPattern"){const Gr=Vr[1],Fr=this.baseTransform||(0,ir.getCurrentTransform)(this.ctx),Xr={createCanvasGraphics:Ur=>new Wr(Ur,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};zr=new ar.TilingPattern(Vr,Gr,this.ctx,Xr,Fr)}else zr=this._getPattern(Vr[1],Vr[2]);return zr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Vr,zr,Gr){const Fr=nr.Util.makeHexColor(Vr,zr,Gr);this.ctx.strokeStyle=Fr,this.current.strokeColor=Fr}setFillRGBColor(Vr,zr,Gr){const Fr=nr.Util.makeHexColor(Vr,zr,Gr);this.ctx.fillStyle=Fr,this.current.fillColor=Fr,this.current.patternFill=!1}_getPattern(Vr,zr=null){let Gr;return this.cachedPatterns.has(Vr)?Gr=this.cachedPatterns.get(Vr):(Gr=(0,ar.getShadingPattern)(this.getObject(Vr)),this.cachedPatterns.set(Vr,Gr)),zr&&(Gr.matrix=zr),Gr}shadingFill(Vr){if(!this.contentVisible)return;const zr=this.ctx;this.save();const Gr=this._getPattern(Vr);zr.fillStyle=Gr.getPattern(zr,this,(0,ir.getCurrentTransformInverse)(zr),ar.PathType.SHADING);const Fr=(0,ir.getCurrentTransformInverse)(zr);if(Fr){const{width:Xr,height:Ur}=zr.canvas,[Br,Kr,Zr,tn]=nr.Util.getAxialAlignedBoundingBox([0,0,Xr,Ur],Fr);this.ctx.fillRect(Br,Kr,Zr-Br,tn-Kr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,nr.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,nr.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Vr,zr){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Vr)&&Vr.length===6&&this.transform(...Vr),this.baseTransform=(0,ir.getCurrentTransform)(this.ctx),zr)){const Gr=zr[2]-zr[0],Fr=zr[3]-zr[1];this.ctx.rect(zr[0],zr[1],Gr,Fr),this.current.updateRectMinMax((0,ir.getCurrentTransform)(this.ctx),zr),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Vr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const zr=this.ctx;Vr.isolated||(0,nr.info)("TODO: Support non-isolated groups."),Vr.knockout&&(0,nr.warn)("Knockout groups not supported.");const Gr=(0,ir.getCurrentTransform)(zr);if(Vr.matrix&&zr.transform(...Vr.matrix),!Vr.bbox)throw new Error("Bounding box is required.");let Fr=nr.Util.getAxialAlignedBoundingBox(Vr.bbox,(0,ir.getCurrentTransform)(zr));const Xr=[0,0,zr.canvas.width,zr.canvas.height];Fr=nr.Util.intersect(Fr,Xr)||[0,0,0,0];const Ur=Math.floor(Fr[0]),Br=Math.floor(Fr[1]);let Kr=Math.max(Math.ceil(Fr[2])-Ur,1),Zr=Math.max(Math.ceil(Fr[3])-Br,1),tn=1,sn=1;Kr>cr&&(tn=Kr/cr,Kr=cr),Zr>cr&&(sn=Zr/cr,Zr=cr),this.current.startNewPathAndClipBox([0,0,Kr,Zr]);let un="groupAt"+this.groupLevel;Vr.smask&&(un+="_smask_"+this.smaskCounter++%2);const hn=this.cachedCanvases.getCanvas(un,Kr,Zr),Jr=hn.context;Jr.scale(1/tn,1/sn),Jr.translate(-Ur,-Br),Jr.transform(...Gr),Vr.smask?this.smaskStack.push({canvas:hn.canvas,context:Jr,offsetX:Ur,offsetY:Br,scaleX:tn,scaleY:sn,subtype:Vr.smask.subtype,backdrop:Vr.smask.backdrop,transferMap:Vr.smask.transferMap||null,startTransformInverse:null}):(zr.setTransform(1,0,0,1,0,0),zr.translate(Ur,Br),zr.scale(tn,sn),zr.save()),xr(zr,Jr),this.ctx=Jr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(zr),this.groupLevel++}endGroup(Vr){if(!this.contentVisible)return;this.groupLevel--;const zr=this.ctx,Gr=this.groupStack.pop();if(this.ctx=Gr,this.ctx.imageSmoothingEnabled=!1,Vr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Fr=(0,ir.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Fr);const Xr=nr.Util.getAxialAlignedBoundingBox([0,0,zr.canvas.width,zr.canvas.height],Fr);this.ctx.drawImage(zr.canvas,0,0),this.ctx.restore(),this.compose(Xr)}}beginAnnotation(Vr,zr,Gr,Fr,Xr){if(Yn(this,Ar,s0).call(this),Rr(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(zr)&&zr.length===4){const Ur=zr[2]-zr[0],Br=zr[3]-zr[1];if(Xr&&this.annotationCanvasMap){Gr=Gr.slice(),Gr[4]-=zr[0],Gr[5]-=zr[1],zr=zr.slice(),zr[0]=zr[1]=0,zr[2]=Ur,zr[3]=Br;const[Kr,Zr]=nr.Util.singularValueDecompose2dScale((0,ir.getCurrentTransform)(this.ctx)),{viewportScale:tn}=this,sn=Math.ceil(Ur*this.outputScaleX*tn),un=Math.ceil(Br*this.outputScaleY*tn);this.annotationCanvas=this.canvasFactory.create(sn,un);const{canvas:hn,context:Jr}=this.annotationCanvas;this.annotationCanvasMap.set(Vr,hn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Jr,this.ctx.save(),this.ctx.setTransform(Kr,0,0,-Zr,0,Br*Zr),Rr(this.ctx)}else Rr(this.ctx),this.ctx.rect(zr[0],zr[1],Ur,Br),this.ctx.clip(),this.endPath()}this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Gr),this.transform(...Fr)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Yn(this,Ar,o0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Vr){if(!this.contentVisible)return;const zr=Vr.count;Vr=this.getObject(Vr.data,Vr),Vr.count=zr;const Gr=this.ctx,Fr=this.processingType3;if(Fr&&(Fr.compiled===void 0&&(Fr.compiled=gr(Vr)),Fr.compiled)){Fr.compiled(Gr);return}const Xr=this._createMaskCanvas(Vr),Ur=Xr.canvas;Gr.save(),Gr.setTransform(1,0,0,1,0,0),Gr.drawImage(Ur,Xr.offsetX,Xr.offsetY),Gr.restore(),this.compose()}paintImageMaskXObjectRepeat(Vr,zr,Gr=0,Fr=0,Xr,Ur){if(!this.contentVisible)return;Vr=this.getObject(Vr.data,Vr);const Br=this.ctx;Br.save();const Kr=(0,ir.getCurrentTransform)(Br);Br.transform(zr,Gr,Fr,Xr,0,0);const Zr=this._createMaskCanvas(Vr);Br.setTransform(1,0,0,1,Zr.offsetX-Kr[4],Zr.offsetY-Kr[5]);for(let tn=0,sn=Ur.length;tn<sn;tn+=2){const un=nr.Util.transform(Kr,[zr,Gr,Fr,Xr,Ur[tn],Ur[tn+1]]),[hn,Jr]=nr.Util.applyTransform([0,0],un);Br.drawImage(Zr.canvas,hn,Jr)}Br.restore(),this.compose()}paintImageMaskXObjectGroup(Vr){if(!this.contentVisible)return;const zr=this.ctx,Gr=this.current.fillColor,Fr=this.current.patternFill;for(const Xr of Vr){const{data:Ur,width:Br,height:Kr,transform:Zr}=Xr,tn=this.cachedCanvases.getCanvas("maskCanvas",Br,Kr),sn=tn.context;sn.save();const un=this.getObject(Ur,Xr);_r(sn,un),sn.globalCompositeOperation="source-in",sn.fillStyle=Fr?Gr.getPattern(sn,this,(0,ir.getCurrentTransformInverse)(zr),ar.PathType.FILL):Gr,sn.fillRect(0,0,Br,Kr),sn.restore(),zr.save(),zr.transform(...Zr),zr.scale(1,-1),pr(zr,tn.canvas,0,0,Br,Kr,0,-1,1,1),zr.restore()}this.compose()}paintImageXObject(Vr){if(!this.contentVisible)return;const zr=this.getObject(Vr);if(!zr){(0,nr.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(zr)}paintImageXObjectRepeat(Vr,zr,Gr,Fr){if(!this.contentVisible)return;const Xr=this.getObject(Vr);if(!Xr){(0,nr.warn)("Dependent image isn't ready yet");return}const Ur=Xr.width,Br=Xr.height,Kr=[];for(let Zr=0,tn=Fr.length;Zr<tn;Zr+=2)Kr.push({transform:[zr,0,0,Gr,Fr[Zr],Fr[Zr+1]],x:0,y:0,w:Ur,h:Br});this.paintInlineImageXObjectGroup(Xr,Kr)}applyTransferMapsToCanvas(Vr){return this.current.transferMaps!=="none"&&(Vr.filter=this.current.transferMaps,Vr.drawImage(Vr.canvas,0,0),Vr.filter="none"),Vr.canvas}applyTransferMapsToBitmap(Vr){if(this.current.transferMaps==="none")return Vr.bitmap;const{bitmap:zr,width:Gr,height:Fr}=Vr,Xr=this.cachedCanvases.getCanvas("inlineImage",Gr,Fr),Ur=Xr.context;return Ur.filter=this.current.transferMaps,Ur.drawImage(zr,0,0),Ur.filter="none",Xr.canvas}paintInlineImageXObject(Vr){if(!this.contentVisible)return;const zr=Vr.width,Gr=Vr.height,Fr=this.ctx;if(this.save(),!nr.isNodeJS){const{filter:Br}=Fr;Br!=="none"&&Br!==""&&(Fr.filter="none")}Fr.scale(1/zr,-1/Gr);let Xr;if(Vr.bitmap)Xr=this.applyTransferMapsToBitmap(Vr);else if(typeof HTMLElement=="function"&&Vr instanceof HTMLElement||!Vr.data)Xr=Vr;else{const Kr=this.cachedCanvases.getCanvas("inlineImage",zr,Gr).context;vr(Kr,Vr),Xr=this.applyTransferMapsToCanvas(Kr)}const Ur=this._scaleImage(Xr,(0,ir.getCurrentTransformInverse)(Fr));Fr.imageSmoothingEnabled=Or((0,ir.getCurrentTransform)(Fr),Vr.interpolate),pr(Fr,Ur.img,0,0,Ur.paintWidth,Ur.paintHeight,0,-Gr,zr,Gr),this.compose(),this.restore()}paintInlineImageXObjectGroup(Vr,zr){if(!this.contentVisible)return;const Gr=this.ctx;let Fr;if(Vr.bitmap)Fr=Vr.bitmap;else{const Xr=Vr.width,Ur=Vr.height,Kr=this.cachedCanvases.getCanvas("inlineImage",Xr,Ur).context;vr(Kr,Vr),Fr=this.applyTransferMapsToCanvas(Kr)}for(const Xr of zr)Gr.save(),Gr.transform(...Xr.transform),Gr.scale(1,-1),pr(Gr,Fr,Xr.x,Xr.y,Xr.w,Xr.h,0,-1,1,1),Gr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Vr){}markPointProps(Vr,zr){}beginMarkedContent(Vr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Vr,zr){Vr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(zr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Vr){const zr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Vr);const Gr=this.ctx;this.pendingClip&&(zr||(this.pendingClip===wr?Gr.clip("evenodd"):Gr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Gr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Vr=(0,ir.getCurrentTransform)(this.ctx);if(Vr[1]===0&&Vr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Vr[0]),Math.abs(Vr[3]));else{const zr=Math.abs(Vr[0]*Vr[3]-Vr[2]*Vr[1]),Gr=Math.hypot(Vr[0],Vr[2]),Fr=Math.hypot(Vr[1],Vr[3]);this._cachedGetSinglePixelWidth=Math.max(Gr,Fr)/zr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Vr}=this.current,{a:zr,b:Gr,c:Fr,d:Xr}=this.ctx.getTransform();let Ur,Br;if(Gr===0&&Fr===0){const Kr=Math.abs(zr),Zr=Math.abs(Xr);if(Kr===Zr)if(Vr===0)Ur=Br=1/Kr;else{const tn=Kr*Vr;Ur=Br=tn<1?1/tn:1}else if(Vr===0)Ur=1/Kr,Br=1/Zr;else{const tn=Kr*Vr,sn=Zr*Vr;Ur=tn<1?1/tn:1,Br=sn<1?1/sn:1}}else{const Kr=Math.abs(zr*Xr-Gr*Fr),Zr=Math.hypot(zr,Gr),tn=Math.hypot(Fr,Xr);if(Vr===0)Ur=tn/Kr,Br=Zr/Kr;else{const sn=Vr*Kr;Ur=tn>sn?tn/sn:1,Br=Zr>sn?Zr/sn:1}}this._cachedScaleForStroking[0]=Ur,this._cachedScaleForStroking[1]=Br}return this._cachedScaleForStroking}rescaleAndStroke(Vr){const{ctx:zr}=this,{lineWidth:Gr}=this.current,[Fr,Xr]=this.getScaleForStroking();if(zr.lineWidth=Gr||1,Fr===1&&Xr===1){zr.stroke();return}const Ur=zr.getLineDash();if(Vr&&zr.save(),zr.scale(Fr,Xr),Ur.length>0){const Br=Math.max(Fr,Xr);zr.setLineDash(Ur.map(Kr=>Kr/Br)),zr.lineDashOffset/=Br}zr.stroke(),Vr&&zr.restore()}isContentVisible(){for(let Vr=this.markedContentStack.length-1;Vr>=0;Vr--)if(!this.markedContentStack[Vr].visible)return!1;return!0}};Ar=new WeakSet,s0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},o0=function(){if(this.pageColors){const Vr=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Vr!=="none"){const zr=this.ctx.filter;this.ctx.filter=Vr,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=zr}}};let Er=Wr;er.CanvasGraphics=Er;for(const $r in nr.OPS)Er.prototype[$r]!==void 0&&(Er.prototype[nr.OPS[$r]]=Er.prototype[$r])},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TilingPattern=er.PathType=void 0,er.getShadingPattern=fr;var nr=rr(1),ir=rr(6);const ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};er.PathType=ar;function sr(gr,yr){if(!yr)return;const vr=yr[2]-yr[0],_r=yr[3]-yr[1],xr=new Path2D;xr.rect(yr[0],yr[1],vr,_r),gr.clip(xr)}class lr{constructor(){this.constructor===lr&&(0,nr.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,nr.unreachable)("Abstract method `getPattern` called.")}}class or extends lr{constructor(yr){super(),this._type=yr[1],this._bbox=yr[2],this._colorStops=yr[3],this._p0=yr[4],this._p1=yr[5],this._r0=yr[6],this._r1=yr[7],this.matrix=null}_createGradient(yr){let vr;this._type==="axial"?vr=yr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(vr=yr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _r of this._colorStops)vr.addColorStop(_r[0],_r[1]);return vr}getPattern(yr,vr,_r,xr){let Rr;if(xr===ar.STROKE||xr===ar.FILL){const Cr=vr.current.getClippedPathBoundingBox(xr,(0,ir.getCurrentTransform)(yr))||[0,0,0,0],Tr=Math.ceil(Cr[2]-Cr[0])||1,Ir=Math.ceil(Cr[3]-Cr[1])||1,Lr=vr.cachedCanvases.getCanvas("pattern",Tr,Ir,!0),Nr=Lr.context;Nr.clearRect(0,0,Nr.canvas.width,Nr.canvas.height),Nr.beginPath(),Nr.rect(0,0,Nr.canvas.width,Nr.canvas.height),Nr.translate(-Cr[0],-Cr[1]),_r=nr.Util.transform(_r,[1,0,0,1,Cr[0],Cr[1]]),Nr.transform(...vr.baseTransform),this.matrix&&Nr.transform(...this.matrix),sr(Nr,this._bbox),Nr.fillStyle=this._createGradient(Nr),Nr.fill(),Rr=yr.createPattern(Lr.canvas,"no-repeat");const Or=new DOMMatrix(_r);Rr.setTransform(Or)}else sr(yr,this._bbox),Rr=this._createGradient(yr);return Rr}}function cr(gr,yr,vr,_r,xr,Rr,Cr,Tr){const Ir=yr.coords,Lr=yr.colors,Nr=gr.data,Or=gr.width*4;let Pr;Ir[vr+1]>Ir[_r+1]&&(Pr=vr,vr=_r,_r=Pr,Pr=Rr,Rr=Cr,Cr=Pr),Ir[_r+1]>Ir[xr+1]&&(Pr=_r,_r=xr,xr=Pr,Pr=Cr,Cr=Tr,Tr=Pr),Ir[vr+1]>Ir[_r+1]&&(Pr=vr,vr=_r,_r=Pr,Pr=Rr,Rr=Cr,Cr=Pr);const Mr=(Ir[vr]+yr.offsetX)*yr.scaleX,jr=(Ir[vr+1]+yr.offsetY)*yr.scaleY,wr=(Ir[_r]+yr.offsetX)*yr.scaleX,Er=(Ir[_r+1]+yr.offsetY)*yr.scaleY,Ar=(Ir[xr]+yr.offsetX)*yr.scaleX,Sr=(Ir[xr+1]+yr.offsetY)*yr.scaleY;if(jr>=Sr)return;const Dr=Lr[Rr],Wr=Lr[Rr+1],$r=Lr[Rr+2],Vr=Lr[Cr],zr=Lr[Cr+1],Gr=Lr[Cr+2],Fr=Lr[Tr],Xr=Lr[Tr+1],Ur=Lr[Tr+2],Br=Math.round(jr),Kr=Math.round(Sr);let Zr,tn,sn,un,hn,Jr,nn,rn;for(let on=Br;on<=Kr;on++){if(on<Er){const In=on<jr?0:(jr-on)/(jr-Er);Zr=Mr-(Mr-wr)*In,tn=Dr-(Dr-Vr)*In,sn=Wr-(Wr-zr)*In,un=$r-($r-Gr)*In}else{let In;on>Sr?In=1:Er===Sr?In=0:In=(Er-on)/(Er-Sr),Zr=wr-(wr-Ar)*In,tn=Vr-(Vr-Fr)*In,sn=zr-(zr-Xr)*In,un=Gr-(Gr-Ur)*In}let fn;on<jr?fn=0:on>Sr?fn=1:fn=(jr-on)/(jr-Sr),hn=Mr-(Mr-Ar)*fn,Jr=Dr-(Dr-Fr)*fn,nn=Wr-(Wr-Xr)*fn,rn=$r-($r-Ur)*fn;const mn=Math.round(Math.min(Zr,hn)),yn=Math.round(Math.max(Zr,hn));let Rn=Or*on+mn*4;for(let In=mn;In<=yn;In++)fn=(Zr-In)/(Zr-hn),fn<0?fn=0:fn>1&&(fn=1),Nr[Rn++]=tn-(tn-Jr)*fn|0,Nr[Rn++]=sn-(sn-nn)*fn|0,Nr[Rn++]=un-(un-rn)*fn|0,Nr[Rn++]=255}}function ur(gr,yr,vr){const _r=yr.coords,xr=yr.colors;let Rr,Cr;switch(yr.type){case"lattice":const Tr=yr.verticesPerRow,Ir=Math.floor(_r.length/Tr)-1,Lr=Tr-1;for(Rr=0;Rr<Ir;Rr++){let Nr=Rr*Tr;for(let Or=0;Or<Lr;Or++,Nr++)cr(gr,vr,_r[Nr],_r[Nr+1],_r[Nr+Tr],xr[Nr],xr[Nr+1],xr[Nr+Tr]),cr(gr,vr,_r[Nr+Tr+1],_r[Nr+1],_r[Nr+Tr],xr[Nr+Tr+1],xr[Nr+1],xr[Nr+Tr])}break;case"triangles":for(Rr=0,Cr=_r.length;Rr<Cr;Rr+=3)cr(gr,vr,_r[Rr],_r[Rr+1],_r[Rr+2],xr[Rr],xr[Rr+1],xr[Rr+2]);break;default:throw new Error("illegal figure")}}class dr extends lr{constructor(yr){super(),this._coords=yr[2],this._colors=yr[3],this._figures=yr[4],this._bounds=yr[5],this._bbox=yr[7],this._background=yr[8],this.matrix=null}_createMeshCanvas(yr,vr,_r){const Tr=Math.floor(this._bounds[0]),Ir=Math.floor(this._bounds[1]),Lr=Math.ceil(this._bounds[2])-Tr,Nr=Math.ceil(this._bounds[3])-Ir,Or=Math.min(Math.ceil(Math.abs(Lr*yr[0]*1.1)),3e3),Pr=Math.min(Math.ceil(Math.abs(Nr*yr[1]*1.1)),3e3),Mr=Lr/Or,jr=Nr/Pr,wr={coords:this._coords,colors:this._colors,offsetX:-Tr,offsetY:-Ir,scaleX:1/Mr,scaleY:1/jr},Er=Or+2*2,Ar=Pr+2*2,Sr=_r.getCanvas("mesh",Er,Ar,!1),Dr=Sr.context,Wr=Dr.createImageData(Or,Pr);if(vr){const Vr=Wr.data;for(let zr=0,Gr=Vr.length;zr<Gr;zr+=4)Vr[zr]=vr[0],Vr[zr+1]=vr[1],Vr[zr+2]=vr[2],Vr[zr+3]=255}for(const Vr of this._figures)ur(Wr,Vr,wr);return Dr.putImageData(Wr,2,2),{canvas:Sr.canvas,offsetX:Tr-2*Mr,offsetY:Ir-2*jr,scaleX:Mr,scaleY:jr}}getPattern(yr,vr,_r,xr){sr(yr,this._bbox);let Rr;if(xr===ar.SHADING)Rr=nr.Util.singularValueDecompose2dScale((0,ir.getCurrentTransform)(yr));else if(Rr=nr.Util.singularValueDecompose2dScale(vr.baseTransform),this.matrix){const Tr=nr.Util.singularValueDecompose2dScale(this.matrix);Rr=[Rr[0]*Tr[0],Rr[1]*Tr[1]]}const Cr=this._createMeshCanvas(Rr,xr===ar.SHADING?null:this._background,vr.cachedCanvases);return xr!==ar.SHADING&&(yr.setTransform(...vr.baseTransform),this.matrix&&yr.transform(...this.matrix)),yr.translate(Cr.offsetX,Cr.offsetY),yr.scale(Cr.scaleX,Cr.scaleY),yr.createPattern(Cr.canvas,"no-repeat")}}class hr extends lr{getPattern(){return"hotpink"}}function fr(gr){switch(gr[0]){case"RadialAxial":return new or(gr);case"Mesh":return new dr(gr);case"Dummy":return new hr}throw new Error(`Unknown IR type: ${gr[0]}`)}const mr={COLORED:1,UNCOLORED:2},pr=class pr{constructor(yr,vr,_r,xr,Rr){this.operatorList=yr[2],this.matrix=yr[3]||[1,0,0,1,0,0],this.bbox=yr[4],this.xstep=yr[5],this.ystep=yr[6],this.paintType=yr[7],this.tilingType=yr[8],this.color=vr,this.ctx=_r,this.canvasGraphicsFactory=xr,this.baseTransform=Rr}createPatternCanvas(yr){const vr=this.operatorList,_r=this.bbox,xr=this.xstep,Rr=this.ystep,Cr=this.paintType,Tr=this.tilingType,Ir=this.color,Lr=this.canvasGraphicsFactory;(0,nr.info)("TilingType: "+Tr);const Nr=_r[0],Or=_r[1],Pr=_r[2],Mr=_r[3],jr=nr.Util.singularValueDecompose2dScale(this.matrix),wr=nr.Util.singularValueDecompose2dScale(this.baseTransform),Er=[jr[0]*wr[0],jr[1]*wr[1]],Ar=this.getSizeAndScale(xr,this.ctx.canvas.width,Er[0]),Sr=this.getSizeAndScale(Rr,this.ctx.canvas.height,Er[1]),Dr=yr.cachedCanvases.getCanvas("pattern",Ar.size,Sr.size,!0),Wr=Dr.context,$r=Lr.createCanvasGraphics(Wr);$r.groupLevel=yr.groupLevel,this.setFillAndStrokeStyleToContext($r,Cr,Ir);let Vr=Nr,zr=Or,Gr=Pr,Fr=Mr;return Nr<0&&(Vr=0,Gr+=Math.abs(Nr)),Or<0&&(zr=0,Fr+=Math.abs(Or)),Wr.translate(-(Ar.scale*Vr),-(Sr.scale*zr)),$r.transform(Ar.scale,0,0,Sr.scale,0,0),Wr.save(),this.clipBbox($r,Vr,zr,Gr,Fr),$r.baseTransform=(0,ir.getCurrentTransform)($r.ctx),$r.executeOperatorList(vr),$r.endDrawing(),{canvas:Dr.canvas,scaleX:Ar.scale,scaleY:Sr.scale,offsetX:Vr,offsetY:zr}}getSizeAndScale(yr,vr,_r){yr=Math.abs(yr);const xr=Math.max(pr.MAX_PATTERN_SIZE,vr);let Rr=Math.ceil(yr*_r);return Rr>=xr?Rr=xr:_r=Rr/yr,{scale:_r,size:Rr}}clipBbox(yr,vr,_r,xr,Rr){const Cr=xr-vr,Tr=Rr-_r;yr.ctx.rect(vr,_r,Cr,Tr),yr.current.updateRectMinMax((0,ir.getCurrentTransform)(yr.ctx),[vr,_r,xr,Rr]),yr.clip(),yr.endPath()}setFillAndStrokeStyleToContext(yr,vr,_r){const xr=yr.ctx,Rr=yr.current;switch(vr){case mr.COLORED:const Cr=this.ctx;xr.fillStyle=Cr.fillStyle,xr.strokeStyle=Cr.strokeStyle,Rr.fillColor=Cr.fillStyle,Rr.strokeColor=Cr.strokeStyle;break;case mr.UNCOLORED:const Tr=nr.Util.makeHexColor(_r[0],_r[1],_r[2]);xr.fillStyle=Tr,xr.strokeStyle=Tr,Rr.fillColor=Tr,Rr.strokeColor=Tr;break;default:throw new nr.FormatError(`Unsupported paint type: ${vr}`)}}getPattern(yr,vr,_r,xr){let Rr=_r;xr!==ar.SHADING&&(Rr=nr.Util.transform(Rr,vr.baseTransform),this.matrix&&(Rr=nr.Util.transform(Rr,this.matrix)));const Cr=this.createPatternCanvas(vr);let Tr=new DOMMatrix(Rr);Tr=Tr.translate(Cr.offsetX,Cr.offsetY),Tr=Tr.scale(1/Cr.scaleX,1/Cr.scaleY);const Ir=yr.createPattern(Cr.canvas,"repeat");return Ir.setTransform(Tr),Ir}};Ao(pr,"MAX_PATTERN_SIZE",3e3);let br=pr;er.TilingPattern=br},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.convertBlackAndWhiteToRGBA=ar,er.convertToRGBA=ir,er.grayToRGBA=lr;var nr=rr(1);function ir(or){switch(or.kind){case nr.ImageKind.GRAYSCALE_1BPP:return ar(or);case nr.ImageKind.RGB_24BPP:return sr(or)}return null}function ar({src:or,srcPos:cr=0,dest:ur,width:dr,height:hr,nonBlackColor:fr=4294967295,inverseDecode:mr=!1}){const br=nr.FeatureTest.isLittleEndian?4278190080:255,[pr,gr]=mr?[fr,br]:[br,fr],yr=dr>>3,vr=dr&7,_r=or.length;ur=new Uint32Array(ur.buffer);let xr=0;for(let Rr=0;Rr<hr;Rr++){for(const Tr=cr+yr;cr<Tr;cr++){const Ir=cr<_r?or[cr]:255;ur[xr++]=Ir&128?gr:pr,ur[xr++]=Ir&64?gr:pr,ur[xr++]=Ir&32?gr:pr,ur[xr++]=Ir&16?gr:pr,ur[xr++]=Ir&8?gr:pr,ur[xr++]=Ir&4?gr:pr,ur[xr++]=Ir&2?gr:pr,ur[xr++]=Ir&1?gr:pr}if(vr===0)continue;const Cr=cr<_r?or[cr++]:255;for(let Tr=0;Tr<vr;Tr++)ur[xr++]=Cr&1<<7-Tr?gr:pr}return{srcPos:cr,destPos:xr}}function sr({src:or,srcPos:cr=0,dest:ur,destPos:dr=0,width:hr,height:fr}){let mr=0;const br=or.length>>2,pr=new Uint32Array(or.buffer,cr,br);if(nr.FeatureTest.isLittleEndian){for(;mr<br-2;mr+=3,dr+=4){const gr=pr[mr],yr=pr[mr+1],vr=pr[mr+2];ur[dr]=gr|4278190080,ur[dr+1]=gr>>>24|yr<<8|4278190080,ur[dr+2]=yr>>>16|vr<<16|4278190080,ur[dr+3]=vr>>>8|4278190080}for(let gr=mr*4,yr=or.length;gr<yr;gr+=3)ur[dr++]=or[gr]|or[gr+1]<<8|or[gr+2]<<16|4278190080}else{for(;mr<br-2;mr+=3,dr+=4){const gr=pr[mr],yr=pr[mr+1],vr=pr[mr+2];ur[dr]=gr|255,ur[dr+1]=gr<<24|yr>>>8|255,ur[dr+2]=yr<<16|vr>>>16|255,ur[dr+3]=vr<<8|255}for(let gr=mr*4,yr=or.length;gr<yr;gr+=3)ur[dr++]=or[gr]<<24|or[gr+1]<<16|or[gr+2]<<8|255}return{srcPos:cr,destPos:dr}}function lr(or,cr){if(nr.FeatureTest.isLittleEndian)for(let ur=0,dr=or.length;ur<dr;ur++)cr[ur]=or[ur]*65793|4278190080;else for(let ur=0,dr=or.length;ur<dr;ur++)cr[ur]=or[ur]*16843008|255}},(tr,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.GlobalWorkerOptions=void 0;const rr=Object.create(null);er.GlobalWorkerOptions=rr,rr.workerPort=null,rr.workerSrc=""},(tr,er,rr)=>{var or,cy,uy,bm;Object.defineProperty(er,"__esModule",{value:!0}),er.MessageHandler=void 0;var nr=rr(1);const ir={DATA:1,ERROR:2},ar={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sr(hr){switch(hr instanceof Error||typeof hr=="object"&&hr!==null||(0,nr.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),hr.name){case"AbortException":return new nr.AbortException(hr.message);case"MissingPDFException":return new nr.MissingPDFException(hr.message);case"PasswordException":return new nr.PasswordException(hr.message,hr.code);case"UnexpectedResponseException":return new nr.UnexpectedResponseException(hr.message,hr.status);case"UnknownErrorException":return new nr.UnknownErrorException(hr.message,hr.details);default:return new nr.UnknownErrorException(hr.message,hr.toString())}}class lr{constructor(fr,mr,br){ba(this,or);this.sourceName=fr,this.targetName=mr,this.comObj=br,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pr=>{const gr=pr.data;if(gr.targetName!==this.sourceName)return;if(gr.stream){Yn(this,or,uy).call(this,gr);return}if(gr.callback){const vr=gr.callbackId,_r=this.callbackCapabilities[vr];if(!_r)throw new Error(`Cannot resolve callback ${vr}`);if(delete this.callbackCapabilities[vr],gr.callback===ir.DATA)_r.resolve(gr.data);else if(gr.callback===ir.ERROR)_r.reject(sr(gr.reason));else throw new Error("Unexpected callback case");return}const yr=this.actionHandler[gr.action];if(!yr)throw new Error(`Unknown action from worker: ${gr.action}`);if(gr.callbackId){const vr=this.sourceName,_r=gr.sourceName;new Promise(function(xr){xr(yr(gr.data))}).then(function(xr){br.postMessage({sourceName:vr,targetName:_r,callback:ir.DATA,callbackId:gr.callbackId,data:xr})},function(xr){br.postMessage({sourceName:vr,targetName:_r,callback:ir.ERROR,callbackId:gr.callbackId,reason:sr(xr)})});return}if(gr.streamId){Yn(this,or,cy).call(this,gr);return}yr(gr.data)},br.addEventListener("message",this._onComObjOnMessage)}on(fr,mr){const br=this.actionHandler;if(br[fr])throw new Error(`There is already an actionName called "${fr}"`);br[fr]=mr}send(fr,mr,br){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:fr,data:mr},br)}sendWithPromise(fr,mr,br){const pr=this.callbackId++,gr=new nr.PromiseCapability;this.callbackCapabilities[pr]=gr;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:fr,callbackId:pr,data:mr},br)}catch(yr){gr.reject(yr)}return gr.promise}sendWithStream(fr,mr,br,pr){const gr=this.streamId++,yr=this.sourceName,vr=this.targetName,_r=this.comObj;return new ReadableStream({start:xr=>{const Rr=new nr.PromiseCapability;return this.streamControllers[gr]={controller:xr,startCall:Rr,pullCall:null,cancelCall:null,isClosed:!1},_r.postMessage({sourceName:yr,targetName:vr,action:fr,streamId:gr,data:mr,desiredSize:xr.desiredSize},pr),Rr.promise},pull:xr=>{const Rr=new nr.PromiseCapability;return this.streamControllers[gr].pullCall=Rr,_r.postMessage({sourceName:yr,targetName:vr,stream:ar.PULL,streamId:gr,desiredSize:xr.desiredSize}),Rr.promise},cancel:xr=>{(0,nr.assert)(xr instanceof Error,"cancel must have a valid reason");const Rr=new nr.PromiseCapability;return this.streamControllers[gr].cancelCall=Rr,this.streamControllers[gr].isClosed=!0,_r.postMessage({sourceName:yr,targetName:vr,stream:ar.CANCEL,streamId:gr,reason:sr(xr)}),Rr.promise}},br)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}or=new WeakSet,cy=function(fr){const mr=fr.streamId,br=this.sourceName,pr=fr.sourceName,gr=this.comObj,yr=this,vr=this.actionHandler[fr.action],_r={enqueue(xr,Rr=1,Cr){if(this.isCancelled)return;const Tr=this.desiredSize;this.desiredSize-=Rr,Tr>0&&this.desiredSize<=0&&(this.sinkCapability=new nr.PromiseCapability,this.ready=this.sinkCapability.promise),gr.postMessage({sourceName:br,targetName:pr,stream:ar.ENQUEUE,streamId:mr,chunk:xr},Cr)},close(){this.isCancelled||(this.isCancelled=!0,gr.postMessage({sourceName:br,targetName:pr,stream:ar.CLOSE,streamId:mr}),delete yr.streamSinks[mr])},error(xr){(0,nr.assert)(xr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,gr.postMessage({sourceName:br,targetName:pr,stream:ar.ERROR,streamId:mr,reason:sr(xr)}))},sinkCapability:new nr.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:fr.desiredSize,ready:null};_r.sinkCapability.resolve(),_r.ready=_r.sinkCapability.promise,this.streamSinks[mr]=_r,new Promise(function(xr){xr(vr(fr.data,_r))}).then(function(){gr.postMessage({sourceName:br,targetName:pr,stream:ar.START_COMPLETE,streamId:mr,success:!0})},function(xr){gr.postMessage({sourceName:br,targetName:pr,stream:ar.START_COMPLETE,streamId:mr,reason:sr(xr)})})},uy=function(fr){const mr=fr.streamId,br=this.sourceName,pr=fr.sourceName,gr=this.comObj,yr=this.streamControllers[mr],vr=this.streamSinks[mr];switch(fr.stream){case ar.START_COMPLETE:fr.success?yr.startCall.resolve():yr.startCall.reject(sr(fr.reason));break;case ar.PULL_COMPLETE:fr.success?yr.pullCall.resolve():yr.pullCall.reject(sr(fr.reason));break;case ar.PULL:if(!vr){gr.postMessage({sourceName:br,targetName:pr,stream:ar.PULL_COMPLETE,streamId:mr,success:!0});break}vr.desiredSize<=0&&fr.desiredSize>0&&vr.sinkCapability.resolve(),vr.desiredSize=fr.desiredSize,new Promise(function(_r){var xr;_r((xr=vr.onPull)==null?void 0:xr.call(vr))}).then(function(){gr.postMessage({sourceName:br,targetName:pr,stream:ar.PULL_COMPLETE,streamId:mr,success:!0})},function(_r){gr.postMessage({sourceName:br,targetName:pr,stream:ar.PULL_COMPLETE,streamId:mr,reason:sr(_r)})});break;case ar.ENQUEUE:if((0,nr.assert)(yr,"enqueue should have stream controller"),yr.isClosed)break;yr.controller.enqueue(fr.chunk);break;case ar.CLOSE:if((0,nr.assert)(yr,"close should have stream controller"),yr.isClosed)break;yr.isClosed=!0,yr.controller.close(),Yn(this,or,bm).call(this,yr,mr);break;case ar.ERROR:(0,nr.assert)(yr,"error should have stream controller"),yr.controller.error(sr(fr.reason)),Yn(this,or,bm).call(this,yr,mr);break;case ar.CANCEL_COMPLETE:fr.success?yr.cancelCall.resolve():yr.cancelCall.reject(sr(fr.reason)),Yn(this,or,bm).call(this,yr,mr);break;case ar.CANCEL:if(!vr)break;new Promise(function(_r){var xr;_r((xr=vr.onCancel)==null?void 0:xr.call(vr,sr(fr.reason)))}).then(function(){gr.postMessage({sourceName:br,targetName:pr,stream:ar.CANCEL_COMPLETE,streamId:mr,success:!0})},function(_r){gr.postMessage({sourceName:br,targetName:pr,stream:ar.CANCEL_COMPLETE,streamId:mr,reason:sr(_r)})}),vr.sinkCapability.reject(sr(fr.reason)),vr.isCancelled=!0,delete this.streamSinks[mr];break;default:throw new Error("Unexpected stream case")}},bm=async function(fr,mr){var br,pr,gr;await Promise.allSettled([(br=fr.startCall)==null?void 0:br.promise,(pr=fr.pullCall)==null?void 0:pr.promise,(gr=fr.cancelCall)==null?void 0:gr.promise]),delete this.streamControllers[mr]},er.MessageHandler=lr},(tr,er,rr)=>{var ar,sr;Object.defineProperty(er,"__esModule",{value:!0}),er.Metadata=void 0;var nr=rr(1);class ir{constructor({parsedData:or,rawData:cr}){ba(this,ar);ba(this,sr);ts(this,ar,or),ts(this,sr,cr)}getRaw(){return cn(this,sr)}get(or){return cn(this,ar).get(or)??null}getAll(){return(0,nr.objectFromMap)(cn(this,ar))}has(or){return cn(this,ar).has(or)}}ar=new WeakMap,sr=new WeakMap,er.Metadata=ir},(tr,er,rr)=>{var or,cr,ur,dr,hr,fr,l0;Object.defineProperty(er,"__esModule",{value:!0}),er.OptionalContentConfig=void 0;var nr=rr(1),ir=rr(8);const ar=Symbol("INTERNAL");class sr{constructor(pr,gr){ba(this,or,!0);this.name=pr,this.intent=gr}get visible(){return cn(this,or)}_setVisible(pr,gr){pr!==ar&&(0,nr.unreachable)("Internal method `_setVisible` called."),ts(this,or,gr)}}or=new WeakMap;class lr{constructor(pr){ba(this,fr);ba(this,cr,null);ba(this,ur,new Map);ba(this,dr,null);ba(this,hr,null);if(this.name=null,this.creator=null,pr!==null){this.name=pr.name,this.creator=pr.creator,ts(this,hr,pr.order);for(const gr of pr.groups)cn(this,ur).set(gr.id,new sr(gr.name,gr.intent));if(pr.baseState==="OFF")for(const gr of cn(this,ur).values())gr._setVisible(ar,!1);for(const gr of pr.on)cn(this,ur).get(gr)._setVisible(ar,!0);for(const gr of pr.off)cn(this,ur).get(gr)._setVisible(ar,!1);ts(this,dr,this.getHash())}}isVisible(pr){if(cn(this,ur).size===0)return!0;if(!pr)return(0,nr.warn)("Optional content group not defined."),!0;if(pr.type==="OCG")return cn(this,ur).has(pr.id)?cn(this,ur).get(pr.id).visible:((0,nr.warn)(`Optional content group not found: ${pr.id}`),!0);if(pr.type==="OCMD"){if(pr.expression)return Yn(this,fr,l0).call(this,pr.expression);if(!pr.policy||pr.policy==="AnyOn"){for(const gr of pr.ids){if(!cn(this,ur).has(gr))return(0,nr.warn)(`Optional content group not found: ${gr}`),!0;if(cn(this,ur).get(gr).visible)return!0}return!1}else if(pr.policy==="AllOn"){for(const gr of pr.ids){if(!cn(this,ur).has(gr))return(0,nr.warn)(`Optional content group not found: ${gr}`),!0;if(!cn(this,ur).get(gr).visible)return!1}return!0}else if(pr.policy==="AnyOff"){for(const gr of pr.ids){if(!cn(this,ur).has(gr))return(0,nr.warn)(`Optional content group not found: ${gr}`),!0;if(!cn(this,ur).get(gr).visible)return!0}return!1}else if(pr.policy==="AllOff"){for(const gr of pr.ids){if(!cn(this,ur).has(gr))return(0,nr.warn)(`Optional content group not found: ${gr}`),!0;if(cn(this,ur).get(gr).visible)return!1}return!0}return(0,nr.warn)(`Unknown optional content policy ${pr.policy}.`),!0}return(0,nr.warn)(`Unknown group type ${pr.type}.`),!0}setVisibility(pr,gr=!0){if(!cn(this,ur).has(pr)){(0,nr.warn)(`Optional content group not found: ${pr}`);return}cn(this,ur).get(pr)._setVisible(ar,!!gr),ts(this,cr,null)}get hasInitialVisibility(){return cn(this,dr)===null||this.getHash()===cn(this,dr)}getOrder(){return cn(this,ur).size?cn(this,hr)?cn(this,hr).slice():[...cn(this,ur).keys()]:null}getGroups(){return cn(this,ur).size>0?(0,nr.objectFromMap)(cn(this,ur)):null}getGroup(pr){return cn(this,ur).get(pr)||null}getHash(){if(cn(this,cr)!==null)return cn(this,cr);const pr=new ir.MurmurHash3_64;for(const[gr,yr]of cn(this,ur))pr.update(`${gr}:${yr.visible}`);return ts(this,cr,pr.hexdigest())}}cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakSet,l0=function(pr){const gr=pr.length;if(gr<2)return!0;const yr=pr[0];for(let vr=1;vr<gr;vr++){const _r=pr[vr];let xr;if(Array.isArray(_r))xr=Yn(this,fr,l0).call(this,_r);else if(cn(this,ur).has(_r))xr=cn(this,ur).get(_r).visible;else return(0,nr.warn)(`Optional content group not found: ${_r}`),!0;switch(yr){case"And":if(!xr)return!1;break;case"Or":if(xr)return!0;break;case"Not":return!xr;default:return!0}}return yr==="And"},er.OptionalContentConfig=lr},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFDataTransportStream=void 0;var nr=rr(1),ir=rr(6);class ar{constructor({length:cr,initialData:ur,progressiveDone:dr=!1,contentDispositionFilename:hr=null,disableRange:fr=!1,disableStream:mr=!1},br){if((0,nr.assert)(br,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=dr,this._contentDispositionFilename=hr,(ur==null?void 0:ur.length)>0){const pr=ur instanceof Uint8Array&&ur.byteLength===ur.buffer.byteLength?ur.buffer:new Uint8Array(ur).buffer;this._queuedChunks.push(pr)}this._pdfDataRangeTransport=br,this._isStreamingSupported=!mr,this._isRangeSupported=!fr,this._contentLength=cr,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pr,gr)=>{this._onReceiveData({begin:pr,chunk:gr})}),this._pdfDataRangeTransport.addProgressListener((pr,gr)=>{this._onProgress({loaded:pr,total:gr})}),this._pdfDataRangeTransport.addProgressiveReadListener(pr=>{this._onReceiveData({chunk:pr})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:cr,chunk:ur}){const dr=ur instanceof Uint8Array&&ur.byteLength===ur.buffer.byteLength?ur.buffer:new Uint8Array(ur).buffer;if(cr===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dr):this._queuedChunks.push(dr);else{const hr=this._rangeReaders.some(function(fr){return fr._begin!==cr?!1:(fr._enqueue(dr),!0)});(0,nr.assert)(hr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var cr;return((cr=this._fullRequestReader)==null?void 0:cr._loaded)??0}_onProgress(cr){var ur,dr,hr,fr;cr.total===void 0?(dr=(ur=this._rangeReaders[0])==null?void 0:ur.onProgress)==null||dr.call(ur,{loaded:cr.loaded}):(fr=(hr=this._fullRequestReader)==null?void 0:hr.onProgress)==null||fr.call(hr,{loaded:cr.loaded,total:cr.total})}_onProgressiveDone(){var cr;(cr=this._fullRequestReader)==null||cr.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(cr){const ur=this._rangeReaders.indexOf(cr);ur>=0&&this._rangeReaders.splice(ur,1)}getFullReader(){(0,nr.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const cr=this._queuedChunks;return this._queuedChunks=null,new sr(this,cr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(cr,ur){if(ur<=this._progressiveDataLength)return null;const dr=new lr(this,cr,ur);return this._pdfDataRangeTransport.requestDataRange(cr,ur),this._rangeReaders.push(dr),dr}cancelAllRequests(cr){var ur;(ur=this._fullRequestReader)==null||ur.cancel(cr);for(const dr of this._rangeReaders.slice(0))dr.cancel(cr);this._pdfDataRangeTransport.abort()}}er.PDFDataTransportStream=ar;class sr{constructor(cr,ur,dr=!1,hr=null){this._stream=cr,this._done=dr||!1,this._filename=(0,ir.isPdfFile)(hr)?hr:null,this._queuedChunks=ur||[],this._loaded=0;for(const fr of this._queuedChunks)this._loaded+=fr.byteLength;this._requests=[],this._headersReady=Promise.resolve(),cr._fullRequestReader=this,this.onProgress=null}_enqueue(cr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:cr,done:!1}):this._queuedChunks.push(cr),this._loaded+=cr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const cr=new nr.PromiseCapability;return this._requests.push(cr),cr.promise}cancel(cr){this._done=!0;for(const ur of this._requests)ur.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lr{constructor(cr,ur,dr){this._stream=cr,this._begin=ur,this._end=dr,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(cr){if(!this._done){if(this._requests.length===0)this._queuedChunk=cr;else{this._requests.shift().resolve({value:cr,done:!1});for(const dr of this._requests)dr.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ur=this._queuedChunk;return this._queuedChunk=null,{value:ur,done:!1}}if(this._done)return{value:void 0,done:!0};const cr=new nr.PromiseCapability;return this._requests.push(cr),cr.promise}cancel(cr){this._done=!0;for(const ur of this._requests)ur.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFFetchStream=void 0;var nr=rr(1),ir=rr(20);function ar(dr,hr,fr){return{method:"GET",headers:dr,signal:fr.signal,mode:"cors",credentials:hr?"include":"same-origin",redirect:"follow"}}function sr(dr){const hr=new Headers;for(const fr in dr){const mr=dr[fr];mr!==void 0&&hr.append(fr,mr)}return hr}function lr(dr){return dr instanceof Uint8Array?dr.buffer:dr instanceof ArrayBuffer?dr:((0,nr.warn)(`getArrayBuffer - unexpected data format: ${dr}`),new Uint8Array(dr).buffer)}class or{constructor(hr){this.source=hr,this.isHttp=/^https?:/i.test(hr.url),this.httpHeaders=this.isHttp&&hr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var hr;return((hr=this._fullRequestReader)==null?void 0:hr._loaded)??0}getFullReader(){return(0,nr.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new cr(this),this._fullRequestReader}getRangeReader(hr,fr){if(fr<=this._progressiveDataLength)return null;const mr=new ur(this,hr,fr);return this._rangeRequestReaders.push(mr),mr}cancelAllRequests(hr){var fr;(fr=this._fullRequestReader)==null||fr.cancel(hr);for(const mr of this._rangeRequestReaders.slice(0))mr.cancel(hr)}}er.PDFFetchStream=or;class cr{constructor(hr){this._stream=hr,this._reader=null,this._loaded=0,this._filename=null;const fr=hr.source;this._withCredentials=fr.withCredentials||!1,this._contentLength=fr.length,this._headersCapability=new nr.PromiseCapability,this._disableRange=fr.disableRange||!1,this._rangeChunkSize=fr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!fr.disableStream,this._isRangeSupported=!fr.disableRange,this._headers=sr(this._stream.httpHeaders);const mr=fr.url;fetch(mr,ar(this._headers,this._withCredentials,this._abortController)).then(br=>{if(!(0,ir.validateResponseStatus)(br.status))throw(0,ir.createResponseStatusError)(br.status,mr);this._reader=br.body.getReader(),this._headersCapability.resolve();const pr=vr=>br.headers.get(vr),{allowRangeRequests:gr,suggestedLength:yr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:pr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=gr,this._contentLength=yr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(pr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new nr.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mr;await this._headersCapability.promise;const{value:hr,done:fr}=await this._reader.read();return fr?{value:hr,done:fr}:(this._loaded+=hr.byteLength,(mr=this.onProgress)==null||mr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lr(hr),done:!1})}cancel(hr){var fr;(fr=this._reader)==null||fr.cancel(hr),this._abortController.abort()}}class ur{constructor(hr,fr,mr){this._stream=hr,this._reader=null,this._loaded=0;const br=hr.source;this._withCredentials=br.withCredentials||!1,this._readCapability=new nr.PromiseCapability,this._isStreamingSupported=!br.disableStream,this._abortController=new AbortController,this._headers=sr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${fr}-${mr-1}`);const pr=br.url;fetch(pr,ar(this._headers,this._withCredentials,this._abortController)).then(gr=>{if(!(0,ir.validateResponseStatus)(gr.status))throw(0,ir.createResponseStatusError)(gr.status,pr);this._readCapability.resolve(),this._reader=gr.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var mr;await this._readCapability.promise;const{value:hr,done:fr}=await this._reader.read();return fr?{value:hr,done:fr}:(this._loaded+=hr.byteLength,(mr=this.onProgress)==null||mr.call(this,{loaded:this._loaded}),{value:lr(hr),done:!1})}cancel(hr){var fr;(fr=this._reader)==null||fr.cancel(hr),this._abortController.abort()}}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.createResponseStatusError=or,er.extractFilenameFromHeader=lr,er.validateRangeRequestCapabilities=sr,er.validateResponseStatus=cr;var nr=rr(1),ir=rr(21),ar=rr(6);function sr({getResponseHeader:ur,isHttp:dr,rangeChunkSize:hr,disableRange:fr}){const mr={allowRangeRequests:!1,suggestedLength:void 0},br=parseInt(ur("Content-Length"),10);return!Number.isInteger(br)||(mr.suggestedLength=br,br<=2*hr)||fr||!dr||ur("Accept-Ranges")!=="bytes"||(ur("Content-Encoding")||"identity")!=="identity"||(mr.allowRangeRequests=!0),mr}function lr(ur){const dr=ur("Content-Disposition");if(dr){let hr=(0,ir.getFilenameFromContentDispositionHeader)(dr);if(hr.includes("%"))try{hr=decodeURIComponent(hr)}catch{}if((0,ar.isPdfFile)(hr))return hr}return null}function or(ur,dr){return ur===404||ur===0&&dr.startsWith("file:")?new nr.MissingPDFException('Missing PDF "'+dr+'".'):new nr.UnexpectedResponseException(`Unexpected server response (${ur}) while retrieving PDF "${dr}".`,ur)}function cr(ur){return ur===200||ur===206}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.getFilenameFromContentDispositionHeader=ir;var nr=rr(1);function ir(ar){let sr=!0,lr=or("filename\\*","i").exec(ar);if(lr){lr=lr[1];let br=hr(lr);return br=unescape(br),br=fr(br),br=mr(br),ur(br)}if(lr=dr(ar),lr){const br=mr(lr);return ur(br)}if(lr=or("filename","i").exec(ar),lr){lr=lr[1];let br=hr(lr);return br=mr(br),ur(br)}function or(br,pr){return new RegExp("(?:^|;)\\s*"+br+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pr)}function cr(br,pr){if(br){if(!/^[\x00-\xFF]+$/.test(pr))return pr;try{const gr=new TextDecoder(br,{fatal:!0}),yr=(0,nr.stringToBytes)(pr);pr=gr.decode(yr),sr=!1}catch{}}return pr}function ur(br){return sr&&/[\x80-\xff]/.test(br)&&(br=cr("utf-8",br),sr&&(br=cr("iso-8859-1",br))),br}function dr(br){const pr=[];let gr;const yr=or("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(gr=yr.exec(br))!==null;){let[,_r,xr,Rr]=gr;if(_r=parseInt(_r,10),_r in pr){if(_r===0)break;continue}pr[_r]=[xr,Rr]}const vr=[];for(let _r=0;_r<pr.length&&_r in pr;++_r){let[xr,Rr]=pr[_r];Rr=hr(Rr),xr&&(Rr=unescape(Rr),_r===0&&(Rr=fr(Rr))),vr.push(Rr)}return vr.join("")}function hr(br){if(br.startsWith('"')){const pr=br.slice(1).split('\\"');for(let gr=0;gr<pr.length;++gr){const yr=pr[gr].indexOf('"');yr!==-1&&(pr[gr]=pr[gr].slice(0,yr),pr.length=gr+1),pr[gr]=pr[gr].replaceAll(/\\(.)/g,"$1")}br=pr.join('"')}return br}function fr(br){const pr=br.indexOf("'");if(pr===-1)return br;const gr=br.slice(0,pr),vr=br.slice(pr+1).replace(/^[^']*'/,"");return cr(gr,vr)}function mr(br){return!br.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(br)?br:br.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pr,gr,yr,vr){if(yr==="q"||yr==="Q")return vr=vr.replaceAll("_"," "),vr=vr.replaceAll(/=([0-9a-fA-F]{2})/g,function(_r,xr){return String.fromCharCode(parseInt(xr,16))}),cr(gr,vr);try{vr=atob(vr)}catch{}return cr(gr,vr)})}return""}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNetworkStream=void 0;var nr=rr(1),ir=rr(20);const ar=200,sr=206;function lr(hr){const fr=hr.response;return typeof fr!="string"?fr:(0,nr.stringToBytes)(fr).buffer}class or{constructor(fr,mr={}){this.url=fr,this.isHttp=/^https?:/i.test(fr),this.httpHeaders=this.isHttp&&mr.httpHeaders||Object.create(null),this.withCredentials=mr.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(fr,mr,br){const pr={begin:fr,end:mr};for(const gr in br)pr[gr]=br[gr];return this.request(pr)}requestFull(fr){return this.request(fr)}request(fr){const mr=new XMLHttpRequest,br=this.currXhrId++,pr=this.pendingRequests[br]={xhr:mr};mr.open("GET",this.url),mr.withCredentials=this.withCredentials;for(const gr in this.httpHeaders){const yr=this.httpHeaders[gr];yr!==void 0&&mr.setRequestHeader(gr,yr)}return this.isHttp&&"begin"in fr&&"end"in fr?(mr.setRequestHeader("Range",`bytes=${fr.begin}-${fr.end-1}`),pr.expectedStatus=sr):pr.expectedStatus=ar,mr.responseType="arraybuffer",fr.onError&&(mr.onerror=function(gr){fr.onError(mr.status)}),mr.onreadystatechange=this.onStateChange.bind(this,br),mr.onprogress=this.onProgress.bind(this,br),pr.onHeadersReceived=fr.onHeadersReceived,pr.onDone=fr.onDone,pr.onError=fr.onError,pr.onProgress=fr.onProgress,mr.send(null),br}onProgress(fr,mr){var pr;const br=this.pendingRequests[fr];br&&((pr=br.onProgress)==null||pr.call(br,mr))}onStateChange(fr,mr){var _r,xr,Rr;const br=this.pendingRequests[fr];if(!br)return;const pr=br.xhr;if(pr.readyState>=2&&br.onHeadersReceived&&(br.onHeadersReceived(),delete br.onHeadersReceived),pr.readyState!==4||!(fr in this.pendingRequests))return;if(delete this.pendingRequests[fr],pr.status===0&&this.isHttp){(_r=br.onError)==null||_r.call(br,pr.status);return}const gr=pr.status||ar;if(!(gr===ar&&br.expectedStatus===sr)&&gr!==br.expectedStatus){(xr=br.onError)==null||xr.call(br,pr.status);return}const vr=lr(pr);if(gr===sr){const Cr=pr.getResponseHeader("Content-Range"),Tr=/bytes (\d+)-(\d+)\/(\d+)/.exec(Cr);br.onDone({begin:parseInt(Tr[1],10),chunk:vr})}else vr?br.onDone({begin:0,chunk:vr}):(Rr=br.onError)==null||Rr.call(br,pr.status)}getRequestXhr(fr){return this.pendingRequests[fr].xhr}isPendingRequest(fr){return fr in this.pendingRequests}abortRequest(fr){const mr=this.pendingRequests[fr].xhr;delete this.pendingRequests[fr],mr.abort()}}class cr{constructor(fr){this._source=fr,this._manager=new or(fr.url,{httpHeaders:fr.httpHeaders,withCredentials:fr.withCredentials}),this._rangeChunkSize=fr.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(fr){const mr=this._rangeRequestReaders.indexOf(fr);mr>=0&&this._rangeRequestReaders.splice(mr,1)}getFullReader(){return(0,nr.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ur(this._manager,this._source),this._fullRequestReader}getRangeReader(fr,mr){const br=new dr(this._manager,fr,mr);return br.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(br),br}cancelAllRequests(fr){var mr;(mr=this._fullRequestReader)==null||mr.cancel(fr);for(const br of this._rangeRequestReaders.slice(0))br.cancel(fr)}}er.PDFNetworkStream=cr;class ur{constructor(fr,mr){this._manager=fr;const br={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=mr.url,this._fullRequestId=fr.requestFull(br),this._headersReceivedCapability=new nr.PromiseCapability,this._disableRange=mr.disableRange||!1,this._contentLength=mr.length,this._rangeChunkSize=mr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const fr=this._fullRequestId,mr=this._manager.getRequestXhr(fr),br=yr=>mr.getResponseHeader(yr),{allowRangeRequests:pr,suggestedLength:gr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:br,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pr&&(this._isRangeSupported=!0),this._contentLength=gr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(br),this._isRangeSupported&&this._manager.abortRequest(fr),this._headersReceivedCapability.resolve()}_onDone(fr){if(fr&&(this._requests.length>0?this._requests.shift().resolve({value:fr.chunk,done:!1}):this._cachedChunks.push(fr.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(fr){this._storedError=(0,ir.createResponseStatusError)(fr,this._url),this._headersReceivedCapability.reject(this._storedError);for(const mr of this._requests)mr.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(fr){var mr;(mr=this.onProgress)==null||mr.call(this,{loaded:fr.loaded,total:fr.lengthComputable?fr.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const fr=new nr.PromiseCapability;return this._requests.push(fr),fr.promise}cancel(fr){this._done=!0,this._headersReceivedCapability.reject(fr);for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dr{constructor(fr,mr,br){this._manager=fr;const pr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=fr.url,this._requestId=fr.requestRange(mr,br,pr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var fr;(fr=this.onClosed)==null||fr.call(this,this)}_onDone(fr){const mr=fr.chunk;this._requests.length>0?this._requests.shift().resolve({value:mr,done:!1}):this._queuedChunk=mr,this._done=!0;for(const br of this._requests)br.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(fr){this._storedError=(0,ir.createResponseStatusError)(fr,this._url);for(const mr of this._requests)mr.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(fr){var mr;this.isStreamingSupported||(mr=this.onProgress)==null||mr.call(this,{loaded:fr.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const mr=this._queuedChunk;return this._queuedChunk=null,{value:mr,done:!1}}if(this._done)return{value:void 0,done:!0};const fr=new nr.PromiseCapability;return this._requests.push(fr),fr.promise}cancel(fr){this._done=!0;for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNodeStream=void 0;var nr=rr(1),ir=rr(20);const ar=/^file:\/\/\/[a-zA-Z]:\//;function sr(br){const pr=require$$5,gr=pr.parse(br);return gr.protocol==="file:"||gr.host?gr:/^[a-z]:[/\\]/i.test(br)?pr.parse(`file:///${br}`):(gr.host||(gr.protocol="file:"),gr)}class lr{constructor(pr){this.source=pr,this.url=sr(pr.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&pr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pr;return((pr=this._fullRequestReader)==null?void 0:pr._loaded)??0}getFullReader(){return(0,nr.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new fr(this):new dr(this),this._fullRequestReader}getRangeReader(pr,gr){if(gr<=this._progressiveDataLength)return null;const yr=this.isFsUrl?new mr(this,pr,gr):new hr(this,pr,gr);return this._rangeRequestReaders.push(yr),yr}cancelAllRequests(pr){var gr;(gr=this._fullRequestReader)==null||gr.cancel(pr);for(const yr of this._rangeRequestReaders.slice(0))yr.cancel(pr)}}er.PDFNodeStream=lr;class or{constructor(pr){this._url=pr.url,this._done=!1,this._storedError=null,this.onProgress=null;const gr=pr.source;this._contentLength=gr.length,this._loaded=0,this._filename=null,this._disableRange=gr.disableRange||!1,this._rangeChunkSize=gr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!gr.disableStream,this._isRangeSupported=!gr.disableRange,this._readableStream=null,this._readCapability=new nr.PromiseCapability,this._headersCapability=new nr.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pr=this._readableStream.read();return pr===null?(this._readCapability=new nr.PromiseCapability,this.read()):(this._loaded+=pr.length,(yr=this.onProgress)==null||yr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(pr).buffer,done:!1})}cancel(pr){if(!this._readableStream){this._error(pr);return}this._readableStream.destroy(pr)}_error(pr){this._storedError=pr,this._readCapability.resolve()}_setReadableStream(pr){this._readableStream=pr,pr.on("readable",()=>{this._readCapability.resolve()}),pr.on("end",()=>{pr.destroy(),this._done=!0,this._readCapability.resolve()}),pr.on("error",gr=>{this._error(gr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new nr.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cr{constructor(pr){this._url=pr.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new nr.PromiseCapability;const gr=pr.source;this._isStreamingSupported=!gr.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pr=this._readableStream.read();return pr===null?(this._readCapability=new nr.PromiseCapability,this.read()):(this._loaded+=pr.length,(yr=this.onProgress)==null||yr.call(this,{loaded:this._loaded}),{value:new Uint8Array(pr).buffer,done:!1})}cancel(pr){if(!this._readableStream){this._error(pr);return}this._readableStream.destroy(pr)}_error(pr){this._storedError=pr,this._readCapability.resolve()}_setReadableStream(pr){this._readableStream=pr,pr.on("readable",()=>{this._readCapability.resolve()}),pr.on("end",()=>{pr.destroy(),this._done=!0,this._readCapability.resolve()}),pr.on("error",gr=>{this._error(gr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ur(br,pr){return{protocol:br.protocol,auth:br.auth,host:br.hostname,port:br.port,path:br.path,method:"GET",headers:pr}}class dr extends or{constructor(pr){super(pr);const gr=yr=>{if(yr.statusCode===404){const Rr=new nr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Rr,this._headersCapability.reject(Rr);return}this._headersCapability.resolve(),this._setReadableStream(yr);const vr=Rr=>this._readableStream.headers[Rr.toLowerCase()],{allowRangeRequests:_r,suggestedLength:xr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:vr,isHttp:pr.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_r,this._contentLength=xr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(vr)};if(this._request=null,this._url.protocol==="http:"){const yr=require$$5;this._request=yr.request(ur(this._url,pr.httpHeaders),gr)}else{const yr=require$$5;this._request=yr.request(ur(this._url,pr.httpHeaders),gr)}this._request.on("error",yr=>{this._storedError=yr,this._headersCapability.reject(yr)}),this._request.end()}}class hr extends cr{constructor(pr,gr,yr){super(pr),this._httpHeaders={};for(const _r in pr.httpHeaders){const xr=pr.httpHeaders[_r];xr!==void 0&&(this._httpHeaders[_r]=xr)}this._httpHeaders.Range=`bytes=${gr}-${yr-1}`;const vr=_r=>{if(_r.statusCode===404){const xr=new nr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=xr;return}this._setReadableStream(_r)};if(this._request=null,this._url.protocol==="http:"){const _r=require$$5;this._request=_r.request(ur(this._url,this._httpHeaders),vr)}else{const _r=require$$5;this._request=_r.request(ur(this._url,this._httpHeaders),vr)}this._request.on("error",_r=>{this._storedError=_r}),this._request.end()}}class fr extends or{constructor(pr){super(pr);let gr=decodeURIComponent(this._url.path);ar.test(this._url.href)&&(gr=gr.replace(/^\//,""));const yr=require$$5;yr.lstat(gr,(vr,_r)=>{if(vr){vr.code==="ENOENT"&&(vr=new nr.MissingPDFException(`Missing PDF "${gr}".`)),this._storedError=vr,this._headersCapability.reject(vr);return}this._contentLength=_r.size,this._setReadableStream(yr.createReadStream(gr)),this._headersCapability.resolve()})}}class mr extends cr{constructor(pr,gr,yr){super(pr);let vr=decodeURIComponent(this._url.path);ar.test(this._url.href)&&(vr=vr.replace(/^\//,""));const _r=require$$5;this._setReadableStream(_r.createReadStream(vr,{start:gr,end:yr-1}))}}},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.SVGGraphics=void 0;var nr=rr(6),ir=rr(1);const ar={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},sr="http://www.w3.org/XML/1998/namespace",lr="http://www.w3.org/1999/xlink",or=["butt","round","square"],cr=["miter","round","bevel"],ur=function(_r,xr="",Rr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Rr)return URL.createObjectURL(new Blob([_r],{type:xr}));const Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Tr=`data:${xr};base64,`;for(let Ir=0,Lr=_r.length;Ir<Lr;Ir+=3){const Nr=_r[Ir]&255,Or=_r[Ir+1]&255,Pr=_r[Ir+2]&255,Mr=Nr>>2,jr=(Nr&3)<<4|Or>>4,wr=Ir+1<Lr?(Or&15)<<2|Pr>>6:64,Er=Ir+2<Lr?Pr&63:64;Tr+=Cr[Mr]+Cr[jr]+Cr[wr]+Cr[Er]}return Tr},dr=function(){const _r=new Uint8Array([137,80,78,71,13,10,26,10]),xr=12,Rr=new Int32Array(256);for(let Pr=0;Pr<256;Pr++){let Mr=Pr;for(let jr=0;jr<8;jr++)Mr=Mr&1?3988292384^Mr>>1&2147483647:Mr>>1&2147483647;Rr[Pr]=Mr}function Cr(Pr,Mr,jr){let wr=-1;for(let Er=Mr;Er<jr;Er++){const Ar=(wr^Pr[Er])&255,Sr=Rr[Ar];wr=wr>>>8^Sr}return wr^-1}function Tr(Pr,Mr,jr,wr){let Er=wr;const Ar=Mr.length;jr[Er]=Ar>>24&255,jr[Er+1]=Ar>>16&255,jr[Er+2]=Ar>>8&255,jr[Er+3]=Ar&255,Er+=4,jr[Er]=Pr.charCodeAt(0)&255,jr[Er+1]=Pr.charCodeAt(1)&255,jr[Er+2]=Pr.charCodeAt(2)&255,jr[Er+3]=Pr.charCodeAt(3)&255,Er+=4,jr.set(Mr,Er),Er+=Mr.length;const Sr=Cr(jr,wr+4,Er);jr[Er]=Sr>>24&255,jr[Er+1]=Sr>>16&255,jr[Er+2]=Sr>>8&255,jr[Er+3]=Sr&255}function Ir(Pr,Mr,jr){let wr=1,Er=0;for(let Ar=Mr;Ar<jr;++Ar)wr=(wr+(Pr[Ar]&255))%65521,Er=(Er+wr)%65521;return Er<<16|wr}function Lr(Pr){if(!ir.isNodeJS)return Nr(Pr);try{const Mr=parseInt(process.versions.node)>=8?Pr:Buffer.from(Pr),jr=require$$5.deflateSync(Mr,{level:9});return jr instanceof Uint8Array?jr:new Uint8Array(jr)}catch(Mr){(0,ir.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Mr)}return Nr(Pr)}function Nr(Pr){let Mr=Pr.length;const jr=65535,wr=Math.ceil(Mr/jr),Er=new Uint8Array(2+Mr+wr*5+4);let Ar=0;Er[Ar++]=120,Er[Ar++]=156;let Sr=0;for(;Mr>jr;)Er[Ar++]=0,Er[Ar++]=255,Er[Ar++]=255,Er[Ar++]=0,Er[Ar++]=0,Er.set(Pr.subarray(Sr,Sr+jr),Ar),Ar+=jr,Sr+=jr,Mr-=jr;Er[Ar++]=1,Er[Ar++]=Mr&255,Er[Ar++]=Mr>>8&255,Er[Ar++]=~Mr&65535&255,Er[Ar++]=(~Mr&65535)>>8&255,Er.set(Pr.subarray(Sr),Ar),Ar+=Pr.length-Sr;const Dr=Ir(Pr,0,Pr.length);return Er[Ar++]=Dr>>24&255,Er[Ar++]=Dr>>16&255,Er[Ar++]=Dr>>8&255,Er[Ar++]=Dr&255,Er}function Or(Pr,Mr,jr,wr){const Er=Pr.width,Ar=Pr.height;let Sr,Dr,Wr;const $r=Pr.data;switch(Mr){case ir.ImageKind.GRAYSCALE_1BPP:Dr=0,Sr=1,Wr=Er+7>>3;break;case ir.ImageKind.RGB_24BPP:Dr=2,Sr=8,Wr=Er*3;break;case ir.ImageKind.RGBA_32BPP:Dr=6,Sr=8,Wr=Er*4;break;default:throw new Error("invalid format")}const Vr=new Uint8Array((1+Wr)*Ar);let zr=0,Gr=0;for(let Zr=0;Zr<Ar;++Zr)Vr[zr++]=0,Vr.set($r.subarray(Gr,Gr+Wr),zr),Gr+=Wr,zr+=Wr;if(Mr===ir.ImageKind.GRAYSCALE_1BPP&&wr){zr=0;for(let Zr=0;Zr<Ar;Zr++){zr++;for(let tn=0;tn<Wr;tn++)Vr[zr++]^=255}}const Fr=new Uint8Array([Er>>24&255,Er>>16&255,Er>>8&255,Er&255,Ar>>24&255,Ar>>16&255,Ar>>8&255,Ar&255,Sr,Dr,0,0,0]),Xr=Lr(Vr),Ur=_r.length+xr*3+Fr.length+Xr.length,Br=new Uint8Array(Ur);let Kr=0;return Br.set(_r,Kr),Kr+=_r.length,Tr("IHDR",Fr,Br,Kr),Kr+=xr+Fr.length,Tr("IDATA",Xr,Br,Kr),Kr+=xr+Xr.length,Tr("IEND",new Uint8Array(0),Br,Kr),ur(Br,"image/png",jr)}return function(Mr,jr,wr){const Er=Mr.kind===void 0?ir.ImageKind.GRAYSCALE_1BPP:Mr.kind;return Or(Mr,Er,jr,wr)}}();class hr{constructor(){this.fontSizeScale=1,this.fontWeight=ar.fontWeight,this.fontSize=0,this.textMatrix=ir.IDENTITY_MATRIX,this.fontMatrix=ir.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ir.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ar.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(xr,Rr){this.x=xr,this.y=Rr}}function fr(_r){let xr=[];const Rr=[];for(const Cr of _r){if(Cr.fn==="save"){xr.push({fnId:92,fn:"group",items:[]}),Rr.push(xr),xr=xr.at(-1).items;continue}Cr.fn==="restore"?xr=Rr.pop():xr.push(Cr)}return xr}function mr(_r){if(Number.isInteger(_r))return _r.toString();const xr=_r.toFixed(10);let Rr=xr.length-1;if(xr[Rr]!=="0")return xr;do Rr--;while(xr[Rr]==="0");return xr.substring(0,xr[Rr]==="."?Rr:Rr+1)}function br(_r){if(_r[4]===0&&_r[5]===0){if(_r[1]===0&&_r[2]===0)return _r[0]===1&&_r[3]===1?"":`scale(${mr(_r[0])} ${mr(_r[3])})`;if(_r[0]===_r[3]&&_r[1]===-_r[2]){const xr=Math.acos(_r[0])*180/Math.PI;return`rotate(${mr(xr)})`}}else if(_r[0]===1&&_r[1]===0&&_r[2]===0&&_r[3]===1)return`translate(${mr(_r[4])} ${mr(_r[5])})`;return`matrix(${mr(_r[0])} ${mr(_r[1])} ${mr(_r[2])} ${mr(_r[3])} ${mr(_r[4])} ${mr(_r[5])})`}let pr=0,gr=0,yr=0;class vr{constructor(xr,Rr,Cr=!1){(0,nr.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new nr.DOMSVGFactory,this.current=new hr,this.transformMatrix=ir.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=xr,this.objs=Rr,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Cr,this._operatorIdMapping=[];for(const Tr in ir.OPS)this._operatorIdMapping[ir.OPS[Tr]]=Tr}getObject(xr,Rr=null){return typeof xr=="string"?xr.startsWith("g_")?this.commonObjs.get(xr):this.objs.get(xr):Rr}save(){this.transformStack.push(this.transformMatrix);const xr=this.current;this.extraStack.push(xr),this.current=xr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(xr){this.save(),this.executeOpTree(xr),this.restore()}loadDependencies(xr){const Rr=xr.fnArray,Cr=xr.argsArray;for(let Tr=0,Ir=Rr.length;Tr<Ir;Tr++)if(Rr[Tr]===ir.OPS.dependency)for(const Lr of Cr[Tr]){const Nr=Lr.startsWith("g_")?this.commonObjs:this.objs,Or=new Promise(Pr=>{Nr.get(Lr,Pr)});this.current.dependencies.push(Or)}return Promise.all(this.current.dependencies)}transform(xr,Rr,Cr,Tr,Ir,Lr){const Nr=[xr,Rr,Cr,Tr,Ir,Lr];this.transformMatrix=ir.Util.transform(this.transformMatrix,Nr),this.tgrp=null}getSVG(xr,Rr){this.viewport=Rr;const Cr=this._initialize(Rr);return this.loadDependencies(xr).then(()=>(this.transformMatrix=ir.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(xr)),Cr))}convertOpList(xr){const Rr=this._operatorIdMapping,Cr=xr.argsArray,Tr=xr.fnArray,Ir=[];for(let Lr=0,Nr=Tr.length;Lr<Nr;Lr++){const Or=Tr[Lr];Ir.push({fnId:Or,fn:Rr[Or],args:Cr[Lr]})}return fr(Ir)}executeOpTree(xr){for(const Rr of xr){const Cr=Rr.fn,Tr=Rr.fnId,Ir=Rr.args;switch(Tr|0){case ir.OPS.beginText:this.beginText();break;case ir.OPS.dependency:break;case ir.OPS.setLeading:this.setLeading(Ir);break;case ir.OPS.setLeadingMoveText:this.setLeadingMoveText(Ir[0],Ir[1]);break;case ir.OPS.setFont:this.setFont(Ir);break;case ir.OPS.showText:this.showText(Ir[0]);break;case ir.OPS.showSpacedText:this.showText(Ir[0]);break;case ir.OPS.endText:this.endText();break;case ir.OPS.moveText:this.moveText(Ir[0],Ir[1]);break;case ir.OPS.setCharSpacing:this.setCharSpacing(Ir[0]);break;case ir.OPS.setWordSpacing:this.setWordSpacing(Ir[0]);break;case ir.OPS.setHScale:this.setHScale(Ir[0]);break;case ir.OPS.setTextMatrix:this.setTextMatrix(Ir[0],Ir[1],Ir[2],Ir[3],Ir[4],Ir[5]);break;case ir.OPS.setTextRise:this.setTextRise(Ir[0]);break;case ir.OPS.setTextRenderingMode:this.setTextRenderingMode(Ir[0]);break;case ir.OPS.setLineWidth:this.setLineWidth(Ir[0]);break;case ir.OPS.setLineJoin:this.setLineJoin(Ir[0]);break;case ir.OPS.setLineCap:this.setLineCap(Ir[0]);break;case ir.OPS.setMiterLimit:this.setMiterLimit(Ir[0]);break;case ir.OPS.setFillRGBColor:this.setFillRGBColor(Ir[0],Ir[1],Ir[2]);break;case ir.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ir[0],Ir[1],Ir[2]);break;case ir.OPS.setStrokeColorN:this.setStrokeColorN(Ir);break;case ir.OPS.setFillColorN:this.setFillColorN(Ir);break;case ir.OPS.shadingFill:this.shadingFill(Ir[0]);break;case ir.OPS.setDash:this.setDash(Ir[0],Ir[1]);break;case ir.OPS.setRenderingIntent:this.setRenderingIntent(Ir[0]);break;case ir.OPS.setFlatness:this.setFlatness(Ir[0]);break;case ir.OPS.setGState:this.setGState(Ir[0]);break;case ir.OPS.fill:this.fill();break;case ir.OPS.eoFill:this.eoFill();break;case ir.OPS.stroke:this.stroke();break;case ir.OPS.fillStroke:this.fillStroke();break;case ir.OPS.eoFillStroke:this.eoFillStroke();break;case ir.OPS.clip:this.clip("nonzero");break;case ir.OPS.eoClip:this.clip("evenodd");break;case ir.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ir.OPS.paintImageXObject:this.paintImageXObject(Ir[0]);break;case ir.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ir[0]);break;case ir.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ir[0]);break;case ir.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ir[0],Ir[1]);break;case ir.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ir.OPS.closePath:this.closePath();break;case ir.OPS.closeStroke:this.closeStroke();break;case ir.OPS.closeFillStroke:this.closeFillStroke();break;case ir.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ir.OPS.nextLine:this.nextLine();break;case ir.OPS.transform:this.transform(Ir[0],Ir[1],Ir[2],Ir[3],Ir[4],Ir[5]);break;case ir.OPS.constructPath:this.constructPath(Ir[0],Ir[1]);break;case ir.OPS.endPath:this.endPath();break;case 92:this.group(Rr.items);break;default:(0,ir.warn)(`Unimplemented operator ${Cr}`);break}}}setWordSpacing(xr){this.current.wordSpacing=xr}setCharSpacing(xr){this.current.charSpacing=xr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(xr,Rr,Cr,Tr,Ir,Lr){const Nr=this.current;Nr.textMatrix=Nr.lineMatrix=[xr,Rr,Cr,Tr,Ir,Lr],Nr.textMatrixScale=Math.hypot(xr,Rr),Nr.x=Nr.lineX=0,Nr.y=Nr.lineY=0,Nr.xcoords=[],Nr.ycoords=[],Nr.tspan=this.svgFactory.createElement("svg:tspan"),Nr.tspan.setAttributeNS(null,"font-family",Nr.fontFamily),Nr.tspan.setAttributeNS(null,"font-size",`${mr(Nr.fontSize)}px`),Nr.tspan.setAttributeNS(null,"y",mr(-Nr.y)),Nr.txtElement=this.svgFactory.createElement("svg:text"),Nr.txtElement.append(Nr.tspan)}beginText(){const xr=this.current;xr.x=xr.lineX=0,xr.y=xr.lineY=0,xr.textMatrix=ir.IDENTITY_MATRIX,xr.lineMatrix=ir.IDENTITY_MATRIX,xr.textMatrixScale=1,xr.tspan=this.svgFactory.createElement("svg:tspan"),xr.txtElement=this.svgFactory.createElement("svg:text"),xr.txtgrp=this.svgFactory.createElement("svg:g"),xr.xcoords=[],xr.ycoords=[]}moveText(xr,Rr){const Cr=this.current;Cr.x=Cr.lineX+=xr,Cr.y=Cr.lineY+=Rr,Cr.xcoords=[],Cr.ycoords=[],Cr.tspan=this.svgFactory.createElement("svg:tspan"),Cr.tspan.setAttributeNS(null,"font-family",Cr.fontFamily),Cr.tspan.setAttributeNS(null,"font-size",`${mr(Cr.fontSize)}px`),Cr.tspan.setAttributeNS(null,"y",mr(-Cr.y))}showText(xr){const Rr=this.current,Cr=Rr.font,Tr=Rr.fontSize;if(Tr===0)return;const Ir=Rr.fontSizeScale,Lr=Rr.charSpacing,Nr=Rr.wordSpacing,Or=Rr.fontDirection,Pr=Rr.textHScale*Or,Mr=Cr.vertical,jr=Mr?1:-1,wr=Cr.defaultVMetrics,Er=Tr*Rr.fontMatrix[0];let Ar=0;for(const Wr of xr){if(Wr===null){Ar+=Or*Nr;continue}else if(typeof Wr=="number"){Ar+=jr*Wr*Tr/1e3;continue}const $r=(Wr.isSpace?Nr:0)+Lr,Vr=Wr.fontChar;let zr,Gr,Fr=Wr.width;if(Mr){let Ur;const Br=Wr.vmetric||wr;Ur=Wr.vmetric?Br[1]:Fr*.5,Ur=-Ur*Er;const Kr=Br[2]*Er;Fr=Br?-Br[0]:Fr,zr=Ur/Ir,Gr=(Ar+Kr)/Ir}else zr=Ar/Ir,Gr=0;(Wr.isInFont||Cr.missingFile)&&(Rr.xcoords.push(Rr.x+zr),Mr&&Rr.ycoords.push(-Rr.y+Gr),Rr.tspan.textContent+=Vr);const Xr=Mr?Fr*Er-$r*Or:Fr*Er+$r*Or;Ar+=Xr}Rr.tspan.setAttributeNS(null,"x",Rr.xcoords.map(mr).join(" ")),Mr?Rr.tspan.setAttributeNS(null,"y",Rr.ycoords.map(mr).join(" ")):Rr.tspan.setAttributeNS(null,"y",mr(-Rr.y)),Mr?Rr.y-=Ar:Rr.x+=Ar*Pr,Rr.tspan.setAttributeNS(null,"font-family",Rr.fontFamily),Rr.tspan.setAttributeNS(null,"font-size",`${mr(Rr.fontSize)}px`),Rr.fontStyle!==ar.fontStyle&&Rr.tspan.setAttributeNS(null,"font-style",Rr.fontStyle),Rr.fontWeight!==ar.fontWeight&&Rr.tspan.setAttributeNS(null,"font-weight",Rr.fontWeight);const Sr=Rr.textRenderingMode&ir.TextRenderingMode.FILL_STROKE_MASK;if(Sr===ir.TextRenderingMode.FILL||Sr===ir.TextRenderingMode.FILL_STROKE?(Rr.fillColor!==ar.fillColor&&Rr.tspan.setAttributeNS(null,"fill",Rr.fillColor),Rr.fillAlpha<1&&Rr.tspan.setAttributeNS(null,"fill-opacity",Rr.fillAlpha)):Rr.textRenderingMode===ir.TextRenderingMode.ADD_TO_PATH?Rr.tspan.setAttributeNS(null,"fill","transparent"):Rr.tspan.setAttributeNS(null,"fill","none"),Sr===ir.TextRenderingMode.STROKE||Sr===ir.TextRenderingMode.FILL_STROKE){const Wr=1/(Rr.textMatrixScale||1);this._setStrokeAttributes(Rr.tspan,Wr)}let Dr=Rr.textMatrix;Rr.textRise!==0&&(Dr=Dr.slice(),Dr[5]+=Rr.textRise),Rr.txtElement.setAttributeNS(null,"transform",`${br(Dr)} scale(${mr(Pr)}, -1)`),Rr.txtElement.setAttributeNS(sr,"xml:space","preserve"),Rr.txtElement.append(Rr.tspan),Rr.txtgrp.append(Rr.txtElement),this._ensureTransformGroup().append(Rr.txtElement)}setLeadingMoveText(xr,Rr){this.setLeading(-Rr),this.moveText(xr,Rr)}addFontStyle(xr){if(!xr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Rr=ur(xr.data,xr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${xr.loadedName}"; src: url(${Rr}); }
`}setFont(xr){const Rr=this.current,Cr=this.commonObjs.get(xr[0]);let Tr=xr[1];Rr.font=Cr,this.embedFonts&&!Cr.missingFile&&!this.embeddedFonts[Cr.loadedName]&&(this.addFontStyle(Cr),this.embeddedFonts[Cr.loadedName]=Cr),Rr.fontMatrix=Cr.fontMatrix||ir.FONT_IDENTITY_MATRIX;let Ir="normal";Cr.black?Ir="900":Cr.bold&&(Ir="bold");const Lr=Cr.italic?"italic":"normal";Tr<0?(Tr=-Tr,Rr.fontDirection=-1):Rr.fontDirection=1,Rr.fontSize=Tr,Rr.fontFamily=Cr.loadedName,Rr.fontWeight=Ir,Rr.fontStyle=Lr,Rr.tspan=this.svgFactory.createElement("svg:tspan"),Rr.tspan.setAttributeNS(null,"y",mr(-Rr.y)),Rr.xcoords=[],Rr.ycoords=[]}endText(){var Rr;const xr=this.current;xr.textRenderingMode&ir.TextRenderingMode.ADD_TO_PATH_FLAG&&((Rr=xr.txtElement)!=null&&Rr.hasChildNodes())&&(xr.element=xr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(xr){xr>0&&(this.current.lineWidth=xr)}setLineCap(xr){this.current.lineCap=or[xr]}setLineJoin(xr){this.current.lineJoin=cr[xr]}setMiterLimit(xr){this.current.miterLimit=xr}setStrokeAlpha(xr){this.current.strokeAlpha=xr}setStrokeRGBColor(xr,Rr,Cr){this.current.strokeColor=ir.Util.makeHexColor(xr,Rr,Cr)}setFillAlpha(xr){this.current.fillAlpha=xr}setFillRGBColor(xr,Rr,Cr){this.current.fillColor=ir.Util.makeHexColor(xr,Rr,Cr),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(xr){this.current.strokeColor=this._makeColorN_Pattern(xr)}setFillColorN(xr){this.current.fillColor=this._makeColorN_Pattern(xr)}shadingFill(xr){const{width:Rr,height:Cr}=this.viewport,Tr=ir.Util.inverseTransform(this.transformMatrix),[Ir,Lr,Nr,Or]=ir.Util.getAxialAlignedBoundingBox([0,0,Rr,Cr],Tr),Pr=this.svgFactory.createElement("svg:rect");Pr.setAttributeNS(null,"x",Ir),Pr.setAttributeNS(null,"y",Lr),Pr.setAttributeNS(null,"width",Nr-Ir),Pr.setAttributeNS(null,"height",Or-Lr),Pr.setAttributeNS(null,"fill",this._makeShadingPattern(xr)),this.current.fillAlpha<1&&Pr.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Pr)}_makeColorN_Pattern(xr){return xr[0]==="TilingPattern"?this._makeTilingPattern(xr):this._makeShadingPattern(xr)}_makeTilingPattern(xr){const Rr=xr[1],Cr=xr[2],Tr=xr[3]||ir.IDENTITY_MATRIX,[Ir,Lr,Nr,Or]=xr[4],Pr=xr[5],Mr=xr[6],jr=xr[7],wr=`shading${yr++}`,[Er,Ar,Sr,Dr]=ir.Util.normalizeRect([...ir.Util.applyTransform([Ir,Lr],Tr),...ir.Util.applyTransform([Nr,Or],Tr)]),[Wr,$r]=ir.Util.singularValueDecompose2dScale(Tr),Vr=Pr*Wr,zr=Mr*$r,Gr=this.svgFactory.createElement("svg:pattern");Gr.setAttributeNS(null,"id",wr),Gr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Gr.setAttributeNS(null,"width",Vr),Gr.setAttributeNS(null,"height",zr),Gr.setAttributeNS(null,"x",`${Er}`),Gr.setAttributeNS(null,"y",`${Ar}`);const Fr=this.svg,Xr=this.transformMatrix,Ur=this.current.fillColor,Br=this.current.strokeColor,Kr=this.svgFactory.create(Sr-Er,Dr-Ar);if(this.svg=Kr,this.transformMatrix=Tr,jr===2){const Zr=ir.Util.makeHexColor(...Rr);this.current.fillColor=Zr,this.current.strokeColor=Zr}return this.executeOpTree(this.convertOpList(Cr)),this.svg=Fr,this.transformMatrix=Xr,this.current.fillColor=Ur,this.current.strokeColor=Br,Gr.append(Kr.childNodes[0]),this.defs.append(Gr),`url(#${wr})`}_makeShadingPattern(xr){switch(typeof xr=="string"&&(xr=this.objs.get(xr)),xr[0]){case"RadialAxial":const Rr=`shading${yr++}`,Cr=xr[3];let Tr;switch(xr[1]){case"axial":const Ir=xr[4],Lr=xr[5];Tr=this.svgFactory.createElement("svg:linearGradient"),Tr.setAttributeNS(null,"id",Rr),Tr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tr.setAttributeNS(null,"x1",Ir[0]),Tr.setAttributeNS(null,"y1",Ir[1]),Tr.setAttributeNS(null,"x2",Lr[0]),Tr.setAttributeNS(null,"y2",Lr[1]);break;case"radial":const Nr=xr[4],Or=xr[5],Pr=xr[6],Mr=xr[7];Tr=this.svgFactory.createElement("svg:radialGradient"),Tr.setAttributeNS(null,"id",Rr),Tr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tr.setAttributeNS(null,"cx",Or[0]),Tr.setAttributeNS(null,"cy",Or[1]),Tr.setAttributeNS(null,"r",Mr),Tr.setAttributeNS(null,"fx",Nr[0]),Tr.setAttributeNS(null,"fy",Nr[1]),Tr.setAttributeNS(null,"fr",Pr);break;default:throw new Error(`Unknown RadialAxial type: ${xr[1]}`)}for(const Ir of Cr){const Lr=this.svgFactory.createElement("svg:stop");Lr.setAttributeNS(null,"offset",Ir[0]),Lr.setAttributeNS(null,"stop-color",Ir[1]),Tr.append(Lr)}return this.defs.append(Tr),`url(#${Rr})`;case"Mesh":return(0,ir.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${xr[0]}`)}}setDash(xr,Rr){this.current.dashArray=xr,this.current.dashPhase=Rr}constructPath(xr,Rr){const Cr=this.current;let Tr=Cr.x,Ir=Cr.y,Lr=[],Nr=0;for(const Or of xr)switch(Or|0){case ir.OPS.rectangle:Tr=Rr[Nr++],Ir=Rr[Nr++];const Pr=Rr[Nr++],Mr=Rr[Nr++],jr=Tr+Pr,wr=Ir+Mr;Lr.push("M",mr(Tr),mr(Ir),"L",mr(jr),mr(Ir),"L",mr(jr),mr(wr),"L",mr(Tr),mr(wr),"Z");break;case ir.OPS.moveTo:Tr=Rr[Nr++],Ir=Rr[Nr++],Lr.push("M",mr(Tr),mr(Ir));break;case ir.OPS.lineTo:Tr=Rr[Nr++],Ir=Rr[Nr++],Lr.push("L",mr(Tr),mr(Ir));break;case ir.OPS.curveTo:Tr=Rr[Nr+4],Ir=Rr[Nr+5],Lr.push("C",mr(Rr[Nr]),mr(Rr[Nr+1]),mr(Rr[Nr+2]),mr(Rr[Nr+3]),mr(Tr),mr(Ir)),Nr+=6;break;case ir.OPS.curveTo2:Lr.push("C",mr(Tr),mr(Ir),mr(Rr[Nr]),mr(Rr[Nr+1]),mr(Rr[Nr+2]),mr(Rr[Nr+3])),Tr=Rr[Nr+2],Ir=Rr[Nr+3],Nr+=4;break;case ir.OPS.curveTo3:Tr=Rr[Nr+2],Ir=Rr[Nr+3],Lr.push("C",mr(Rr[Nr]),mr(Rr[Nr+1]),mr(Tr),mr(Ir),mr(Tr),mr(Ir)),Nr+=4;break;case ir.OPS.closePath:Lr.push("Z");break}Lr=Lr.join(" "),Cr.path&&xr.length>0&&xr[0]!==ir.OPS.rectangle&&xr[0]!==ir.OPS.moveTo?Lr=Cr.path.getAttributeNS(null,"d")+Lr:(Cr.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Cr.path)),Cr.path.setAttributeNS(null,"d",Lr),Cr.path.setAttributeNS(null,"fill","none"),Cr.element=Cr.path,Cr.setCurrentPoint(Tr,Ir)}endPath(){const xr=this.current;if(xr.path=null,!this.pendingClip)return;if(!xr.element){this.pendingClip=null;return}const Rr=`clippath${pr++}`,Cr=this.svgFactory.createElement("svg:clipPath");Cr.setAttributeNS(null,"id",Rr),Cr.setAttributeNS(null,"transform",br(this.transformMatrix));const Tr=xr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Tr.setAttributeNS(null,"clip-rule","evenodd"):Tr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Cr.append(Tr),this.defs.append(Cr),xr.activeClipUrl){xr.clipGroup=null;for(const Ir of this.extraStack)Ir.clipGroup=null;Cr.setAttributeNS(null,"clip-path",xr.activeClipUrl)}xr.activeClipUrl=`url(#${Rr})`,this.tgrp=null}clip(xr){this.pendingClip=xr}closePath(){const xr=this.current;if(xr.path){const Rr=`${xr.path.getAttributeNS(null,"d")}Z`;xr.path.setAttributeNS(null,"d",Rr)}}setLeading(xr){this.current.leading=-xr}setTextRise(xr){this.current.textRise=xr}setTextRenderingMode(xr){this.current.textRenderingMode=xr}setHScale(xr){this.current.textHScale=xr/100}setRenderingIntent(xr){}setFlatness(xr){}setGState(xr){for(const[Rr,Cr]of xr)switch(Rr){case"LW":this.setLineWidth(Cr);break;case"LC":this.setLineCap(Cr);break;case"LJ":this.setLineJoin(Cr);break;case"ML":this.setMiterLimit(Cr);break;case"D":this.setDash(Cr[0],Cr[1]);break;case"RI":this.setRenderingIntent(Cr);break;case"FL":this.setFlatness(Cr);break;case"Font":this.setFont(Cr);break;case"CA":this.setStrokeAlpha(Cr);break;case"ca":this.setFillAlpha(Cr);break;default:(0,ir.warn)(`Unimplemented graphic state operator ${Rr}`);break}}fill(){const xr=this.current;xr.element&&(xr.element.setAttributeNS(null,"fill",xr.fillColor),xr.element.setAttributeNS(null,"fill-opacity",xr.fillAlpha),this.endPath())}stroke(){const xr=this.current;xr.element&&(this._setStrokeAttributes(xr.element),xr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(xr,Rr=1){const Cr=this.current;let Tr=Cr.dashArray;Rr!==1&&Tr.length>0&&(Tr=Tr.map(function(Ir){return Rr*Ir})),xr.setAttributeNS(null,"stroke",Cr.strokeColor),xr.setAttributeNS(null,"stroke-opacity",Cr.strokeAlpha),xr.setAttributeNS(null,"stroke-miterlimit",mr(Cr.miterLimit)),xr.setAttributeNS(null,"stroke-linecap",Cr.lineCap),xr.setAttributeNS(null,"stroke-linejoin",Cr.lineJoin),xr.setAttributeNS(null,"stroke-width",mr(Rr*Cr.lineWidth)+"px"),xr.setAttributeNS(null,"stroke-dasharray",Tr.map(mr).join(" ")),xr.setAttributeNS(null,"stroke-dashoffset",mr(Rr*Cr.dashPhase)+"px")}eoFill(){var xr;(xr=this.current.element)==null||xr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var xr;(xr=this.current.element)==null||xr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const xr=this.svgFactory.createElement("svg:rect");xr.setAttributeNS(null,"x","0"),xr.setAttributeNS(null,"y","0"),xr.setAttributeNS(null,"width","1px"),xr.setAttributeNS(null,"height","1px"),xr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(xr)}paintImageXObject(xr){const Rr=this.getObject(xr);if(!Rr){(0,ir.warn)(`Dependent image with object ID ${xr} is not ready yet`);return}this.paintInlineImageXObject(Rr)}paintInlineImageXObject(xr,Rr){const Cr=xr.width,Tr=xr.height,Ir=dr(xr,this.forceDataSchema,!!Rr),Lr=this.svgFactory.createElement("svg:rect");Lr.setAttributeNS(null,"x","0"),Lr.setAttributeNS(null,"y","0"),Lr.setAttributeNS(null,"width",mr(Cr)),Lr.setAttributeNS(null,"height",mr(Tr)),this.current.element=Lr,this.clip("nonzero");const Nr=this.svgFactory.createElement("svg:image");Nr.setAttributeNS(lr,"xlink:href",Ir),Nr.setAttributeNS(null,"x","0"),Nr.setAttributeNS(null,"y",mr(-Tr)),Nr.setAttributeNS(null,"width",mr(Cr)+"px"),Nr.setAttributeNS(null,"height",mr(Tr)+"px"),Nr.setAttributeNS(null,"transform",`scale(${mr(1/Cr)} ${mr(-1/Tr)})`),Rr?Rr.append(Nr):this._ensureTransformGroup().append(Nr)}paintImageMaskXObject(xr){const Rr=this.getObject(xr.data,xr);if(Rr.bitmap){(0,ir.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Cr=this.current,Tr=Rr.width,Ir=Rr.height,Lr=Cr.fillColor;Cr.maskId=`mask${gr++}`;const Nr=this.svgFactory.createElement("svg:mask");Nr.setAttributeNS(null,"id",Cr.maskId);const Or=this.svgFactory.createElement("svg:rect");Or.setAttributeNS(null,"x","0"),Or.setAttributeNS(null,"y","0"),Or.setAttributeNS(null,"width",mr(Tr)),Or.setAttributeNS(null,"height",mr(Ir)),Or.setAttributeNS(null,"fill",Lr),Or.setAttributeNS(null,"mask",`url(#${Cr.maskId})`),this.defs.append(Nr),this._ensureTransformGroup().append(Or),this.paintInlineImageXObject(Rr,Nr)}paintFormXObjectBegin(xr,Rr){if(Array.isArray(xr)&&xr.length===6&&this.transform(xr[0],xr[1],xr[2],xr[3],xr[4],xr[5]),Rr){const Cr=Rr[2]-Rr[0],Tr=Rr[3]-Rr[1],Ir=this.svgFactory.createElement("svg:rect");Ir.setAttributeNS(null,"x",Rr[0]),Ir.setAttributeNS(null,"y",Rr[1]),Ir.setAttributeNS(null,"width",mr(Cr)),Ir.setAttributeNS(null,"height",mr(Tr)),this.current.element=Ir,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(xr){const Rr=this.svgFactory.create(xr.width,xr.height),Cr=this.svgFactory.createElement("svg:defs");Rr.append(Cr),this.defs=Cr;const Tr=this.svgFactory.createElement("svg:g");return Tr.setAttributeNS(null,"transform",br(xr.transform)),Rr.append(Tr),this.svg=Tr,Rr}_ensureClipGroup(){if(!this.current.clipGroup){const xr=this.svgFactory.createElement("svg:g");xr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(xr),this.current.clipGroup=xr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",br(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}er.SVGGraphics=vr},(tr,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaText=void 0;class rr{static textContent(ir){const ar=[],sr={items:ar,styles:Object.create(null)};function lr(or){var dr;if(!or)return;let cr=null;const ur=or.name;if(ur==="#text")cr=or.value;else if(rr.shouldBuildText(ur))(dr=or==null?void 0:or.attributes)!=null&&dr.textContent?cr=or.attributes.textContent:or.value&&(cr=or.value);else return;if(cr!==null&&ar.push({str:cr}),!!or.children)for(const hr of or.children)lr(hr)}return lr(ir),sr}static shouldBuildText(ir){return!(ir==="textarea"||ir==="input"||ir==="option"||ir==="select")}}er.XfaText=rr},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TextLayerRenderTask=void 0,er.renderTextLayer=br,er.updateTextLayer=pr;var nr=rr(1),ir=rr(6);const ar=1e5,sr=30,lr=.8,or=new Map;function cr(gr,yr){let vr;if(yr&&nr.FeatureTest.isOffscreenCanvasSupported)vr=new OffscreenCanvas(gr,gr).getContext("2d",{alpha:!1});else{const _r=document.createElement("canvas");_r.width=_r.height=gr,vr=_r.getContext("2d",{alpha:!1})}return vr}function ur(gr,yr){const vr=or.get(gr);if(vr)return vr;const _r=cr(sr,yr);_r.font=`${sr}px ${gr}`;const xr=_r.measureText("");let Rr=xr.fontBoundingBoxAscent,Cr=Math.abs(xr.fontBoundingBoxDescent);if(Rr){const Ir=Rr/(Rr+Cr);return or.set(gr,Ir),_r.canvas.width=_r.canvas.height=0,Ir}_r.strokeStyle="red",_r.clearRect(0,0,sr,sr),_r.strokeText("g",0,0);let Tr=_r.getImageData(0,0,sr,sr).data;Cr=0;for(let Ir=Tr.length-1-3;Ir>=0;Ir-=4)if(Tr[Ir]>0){Cr=Math.ceil(Ir/4/sr);break}_r.clearRect(0,0,sr,sr),_r.strokeText("A",0,sr),Tr=_r.getImageData(0,0,sr,sr).data,Rr=0;for(let Ir=0,Lr=Tr.length;Ir<Lr;Ir+=4)if(Tr[Ir]>0){Rr=sr-Math.floor(Ir/4/sr);break}if(_r.canvas.width=_r.canvas.height=0,Rr){const Ir=Rr/(Rr+Cr);return or.set(gr,Ir),Ir}return or.set(gr,lr),lr}function dr(gr,yr,vr){const _r=document.createElement("span"),xr={angle:0,canvasWidth:0,hasText:yr.str!=="",hasEOL:yr.hasEOL,fontSize:0};gr._textDivs.push(_r);const Rr=nr.Util.transform(gr._transform,yr.transform);let Cr=Math.atan2(Rr[1],Rr[0]);const Tr=vr[yr.fontName];Tr.vertical&&(Cr+=Math.PI/2);const Ir=Math.hypot(Rr[2],Rr[3]),Lr=Ir*ur(Tr.fontFamily,gr._isOffscreenCanvasSupported);let Nr,Or;Cr===0?(Nr=Rr[4],Or=Rr[5]-Lr):(Nr=Rr[4]+Lr*Math.sin(Cr),Or=Rr[5]-Lr*Math.cos(Cr));const Pr="calc(var(--scale-factor)*",Mr=_r.style;gr._container===gr._rootContainer?(Mr.left=`${(100*Nr/gr._pageWidth).toFixed(2)}%`,Mr.top=`${(100*Or/gr._pageHeight).toFixed(2)}%`):(Mr.left=`${Pr}${Nr.toFixed(2)}px)`,Mr.top=`${Pr}${Or.toFixed(2)}px)`),Mr.fontSize=`${Pr}${Ir.toFixed(2)}px)`,Mr.fontFamily=Tr.fontFamily,xr.fontSize=Ir,_r.setAttribute("role","presentation"),_r.textContent=yr.str,_r.dir=yr.dir,gr._fontInspectorEnabled&&(_r.dataset.fontName=yr.fontName),Cr!==0&&(xr.angle=Cr*(180/Math.PI));let jr=!1;if(yr.str.length>1)jr=!0;else if(yr.str!==" "&&yr.transform[0]!==yr.transform[3]){const wr=Math.abs(yr.transform[0]),Er=Math.abs(yr.transform[3]);wr!==Er&&Math.max(wr,Er)/Math.min(wr,Er)>1.5&&(jr=!0)}jr&&(xr.canvasWidth=Tr.vertical?yr.height:yr.width),gr._textDivProperties.set(_r,xr),gr._isReadableStream&&gr._layoutText(_r)}function hr(gr){const{div:yr,scale:vr,properties:_r,ctx:xr,prevFontSize:Rr,prevFontFamily:Cr}=gr,{style:Tr}=yr;let Ir="";if(_r.canvasWidth!==0&&_r.hasText){const{fontFamily:Lr}=Tr,{canvasWidth:Nr,fontSize:Or}=_r;(Rr!==Or||Cr!==Lr)&&(xr.font=`${Or*vr}px ${Lr}`,gr.prevFontSize=Or,gr.prevFontFamily=Lr);const{width:Pr}=xr.measureText(yr.textContent);Pr>0&&(Ir=`scaleX(${Nr*vr/Pr})`)}_r.angle!==0&&(Ir=`rotate(${_r.angle}deg) ${Ir}`),Ir.length>0&&(Tr.transform=Ir)}function fr(gr){if(gr._canceled)return;const yr=gr._textDivs,vr=gr._capability;if(yr.length>ar){vr.resolve();return}if(!gr._isReadableStream)for(const xr of yr)gr._layoutText(xr);vr.resolve()}class mr{constructor({textContentSource:yr,container:vr,viewport:_r,textDivs:xr,textDivProperties:Rr,textContentItemsStr:Cr,isOffscreenCanvasSupported:Tr}){var Pr;this._textContentSource=yr,this._isReadableStream=yr instanceof ReadableStream,this._container=this._rootContainer=vr,this._textDivs=xr||[],this._textContentItemsStr=Cr||[],this._isOffscreenCanvasSupported=Tr,this._fontInspectorEnabled=!!((Pr=globalThis.FontInspector)!=null&&Pr.enabled),this._reader=null,this._textDivProperties=Rr||new WeakMap,this._canceled=!1,this._capability=new nr.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:_r.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:cr(0,Tr)};const{pageWidth:Ir,pageHeight:Lr,pageX:Nr,pageY:Or}=_r.rawDims;this._transform=[1,0,0,-1,-Nr,Or+Lr],this._pageWidth=Ir,this._pageHeight=Lr,(0,ir.setLayerDimensions)(vr,_r),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new nr.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new nr.AbortException("TextLayer task cancelled."))}_processItems(yr,vr){for(const _r of yr){if(_r.str===void 0){if(_r.type==="beginMarkedContentProps"||_r.type==="beginMarkedContent"){const xr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_r.id!==null&&this._container.setAttribute("id",`${_r.id}`),xr.append(this._container)}else _r.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_r.str),dr(this,_r,vr)}}_layoutText(yr){const vr=this._layoutTextParams.properties=this._textDivProperties.get(yr);if(this._layoutTextParams.div=yr,hr(this._layoutTextParams),vr.hasText&&this._container.append(yr),vr.hasEOL){const _r=document.createElement("br");_r.setAttribute("role","presentation"),this._container.append(_r)}}_render(){const yr=new nr.PromiseCapability;let vr=Object.create(null);if(this._isReadableStream){const _r=()=>{this._reader.read().then(({value:xr,done:Rr})=>{if(Rr){yr.resolve();return}Object.assign(vr,xr.styles),this._processItems(xr.items,vr),_r()},yr.reject)};this._reader=this._textContentSource.getReader(),_r()}else if(this._textContentSource){const{items:_r,styles:xr}=this._textContentSource;this._processItems(_r,xr),yr.resolve()}else throw new Error('No "textContentSource" parameter specified.');yr.promise.then(()=>{vr=null,fr(this)},this._capability.reject)}}er.TextLayerRenderTask=mr;function br(gr){!gr.textContentSource&&(gr.textContent||gr.textContentStream)&&((0,ir.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),gr.textContentSource=gr.textContent||gr.textContentStream);const{container:yr,viewport:vr}=gr,_r=getComputedStyle(yr),xr=_r.getPropertyValue("visibility"),Rr=parseFloat(_r.getPropertyValue("--scale-factor"));xr==="visible"&&(!Rr||Math.abs(Rr-vr.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Cr=new mr(gr);return Cr._render(),Cr}function pr({container:gr,viewport:yr,textDivs:vr,textDivProperties:_r,isOffscreenCanvasSupported:xr,mustRotate:Rr=!0,mustRescale:Cr=!0}){if(Rr&&(0,ir.setLayerDimensions)(gr,{rotation:yr.rotation}),Cr){const Tr=cr(0,xr),Lr={prevFontSize:null,prevFontFamily:null,div:null,scale:yr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Tr};for(const Nr of vr)Lr.properties=_r.get(Nr),Lr.div=Nr,hr(Lr)}}},(tr,er,rr)=>{var ur,dr,hr,fr,mr,br,pr,gr,yr,vr,_r,c0,vm,u0,d0;Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditorLayer=void 0;var nr=rr(1),ir=rr(4),ar=rr(28),sr=rr(33),lr=rr(6),or=rr(34);const Ir=class Ir{constructor({uiManager:Nr,pageIndex:Or,div:Pr,accessibilityManager:Mr,annotationLayer:jr,viewport:wr,l10n:Er}){ba(this,_r);ba(this,ur);ba(this,dr,!1);ba(this,hr,null);ba(this,fr,this.pointerup.bind(this));ba(this,mr,this.pointerdown.bind(this));ba(this,br,new Map);ba(this,pr,!1);ba(this,gr,!1);ba(this,yr,!1);ba(this,vr);const Ar=[ar.FreeTextEditor,sr.InkEditor,or.StampEditor];if(!Ir._initialized){Ir._initialized=!0;for(const Sr of Ar)Sr.initialize(Er)}Nr.registerEditorTypes(Ar),ts(this,vr,Nr),this.pageIndex=Or,this.div=Pr,ts(this,ur,Mr),ts(this,hr,jr),this.viewport=wr,cn(this,vr).addLayer(this)}get isEmpty(){return cn(this,br).size===0}updateToolbar(Nr){cn(this,vr).updateToolbar(Nr)}updateMode(Nr=cn(this,vr).getMode()){Yn(this,_r,d0).call(this),Nr===nr.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Nr!==nr.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Nr===nr.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Nr===nr.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Nr===nr.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Nr){if(!Nr&&cn(this,vr).getMode()!==nr.AnnotationEditorType.INK)return;if(!Nr){for(const Pr of cn(this,br).values())if(Pr.isEmpty()){Pr.setInBackground();return}}Yn(this,_r,vm).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Nr){cn(this,vr).setEditingState(Nr)}addCommands(Nr){cn(this,vr).addCommands(Nr)}enable(){this.div.style.pointerEvents="auto";const Nr=new Set;for(const Pr of cn(this,br).values())Pr.enableEditing(),Pr.annotationElementId&&Nr.add(Pr.annotationElementId);if(!cn(this,hr))return;const Or=cn(this,hr).getEditableAnnotations();for(const Pr of Or){if(Pr.hide(),cn(this,vr).isDeletedAnnotationElement(Pr.data.id)||Nr.has(Pr.data.id))continue;const Mr=this.deserialize(Pr);Mr&&(this.addOrRebuild(Mr),Mr.enableEditing())}}disable(){var Or;ts(this,yr,!0),this.div.style.pointerEvents="none";const Nr=new Set;for(const Pr of cn(this,br).values()){if(Pr.disableEditing(),!Pr.annotationElementId||Pr.serialize()!==null){Nr.add(Pr.annotationElementId);continue}(Or=this.getEditableAnnotation(Pr.annotationElementId))==null||Or.show(),Pr.remove()}if(cn(this,hr)){const Pr=cn(this,hr).getEditableAnnotations();for(const Mr of Pr){const{id:jr}=Mr.data;Nr.has(jr)||cn(this,vr).isDeletedAnnotationElement(jr)||Mr.show()}}Yn(this,_r,d0).call(this),this.isEmpty&&(this.div.hidden=!0),ts(this,yr,!1)}getEditableAnnotation(Nr){var Or;return((Or=cn(this,hr))==null?void 0:Or.getEditableAnnotation(Nr))||null}setActiveEditor(Nr){cn(this,vr).getActive()!==Nr&&cn(this,vr).setActiveEditor(Nr)}enableClick(){this.div.addEventListener("pointerdown",cn(this,mr)),this.div.addEventListener("pointerup",cn(this,fr))}disableClick(){this.div.removeEventListener("pointerdown",cn(this,mr)),this.div.removeEventListener("pointerup",cn(this,fr))}attach(Nr){cn(this,br).set(Nr.id,Nr);const{annotationElementId:Or}=Nr;Or&&cn(this,vr).isDeletedAnnotationElement(Or)&&cn(this,vr).removeDeletedAnnotationElement(Nr)}detach(Nr){var Or;cn(this,br).delete(Nr.id),(Or=cn(this,ur))==null||Or.removePointerInTextLayer(Nr.contentDiv),!cn(this,yr)&&Nr.annotationElementId&&cn(this,vr).addDeletedAnnotationElement(Nr)}remove(Nr){this.detach(Nr),cn(this,vr).removeEditor(Nr),Nr.div.contains(document.activeElement)&&setTimeout(()=>{cn(this,vr).focusMainContainer()},0),Nr.div.remove(),Nr.isAttachedToDOM=!1,cn(this,gr)||this.addInkEditorIfNeeded(!1)}changeParent(Nr){var Or;Nr.parent!==this&&(Nr.annotationElementId&&(cn(this,vr).addDeletedAnnotationElement(Nr.annotationElementId),ir.AnnotationEditor.deleteAnnotationElement(Nr),Nr.annotationElementId=null),this.attach(Nr),(Or=Nr.parent)==null||Or.detach(Nr),Nr.setParent(this),Nr.div&&Nr.isAttachedToDOM&&(Nr.div.remove(),this.div.append(Nr.div)))}add(Nr){if(this.changeParent(Nr),cn(this,vr).addEditor(Nr),this.attach(Nr),!Nr.isAttachedToDOM){const Or=Nr.render();this.div.append(Or),Nr.isAttachedToDOM=!0}Nr.fixAndSetPosition(),Nr.onceAdded(),cn(this,vr).addToAnnotationStorage(Nr)}moveEditorInDOM(Nr){var Pr;if(!Nr.isAttachedToDOM)return;const{activeElement:Or}=document;Nr.div.contains(Or)&&(Nr._focusEventsAllowed=!1,setTimeout(()=>{Nr.div.contains(document.activeElement)?Nr._focusEventsAllowed=!0:(Nr.div.addEventListener("focusin",()=>{Nr._focusEventsAllowed=!0},{once:!0}),Or.focus())},0)),Nr._structTreeParentId=(Pr=cn(this,ur))==null?void 0:Pr.moveElementInDOM(this.div,Nr.div,Nr.contentDiv,!0)}addOrRebuild(Nr){Nr.needsToBeRebuilt()?Nr.rebuild():this.add(Nr)}addUndoableEditor(Nr){const Or=()=>Nr._uiManager.rebuild(Nr),Pr=()=>{Nr.remove()};this.addCommands({cmd:Or,undo:Pr,mustExec:!1})}getNextId(){return cn(this,vr).getId()}pasteEditor(Nr,Or){cn(this,vr).updateToolbar(Nr),cn(this,vr).updateMode(Nr);const{offsetX:Pr,offsetY:Mr}=Yn(this,_r,u0).call(this),jr=this.getNextId(),wr=Yn(this,_r,c0).call(this,{parent:this,id:jr,x:Pr,y:Mr,uiManager:cn(this,vr),isCentered:!0,...Or});wr&&this.add(wr)}deserialize(Nr){switch(Nr.annotationType??Nr.annotationEditorType){case nr.AnnotationEditorType.FREETEXT:return ar.FreeTextEditor.deserialize(Nr,this,cn(this,vr));case nr.AnnotationEditorType.INK:return sr.InkEditor.deserialize(Nr,this,cn(this,vr));case nr.AnnotationEditorType.STAMP:return or.StampEditor.deserialize(Nr,this,cn(this,vr))}return null}addNewEditor(){Yn(this,_r,vm).call(this,Yn(this,_r,u0).call(this),!0)}setSelected(Nr){cn(this,vr).setSelected(Nr)}toggleSelected(Nr){cn(this,vr).toggleSelected(Nr)}isSelected(Nr){return cn(this,vr).isSelected(Nr)}unselect(Nr){cn(this,vr).unselect(Nr)}pointerup(Nr){const{isMac:Or}=nr.FeatureTest.platform;if(!(Nr.button!==0||Nr.ctrlKey&&Or)&&Nr.target===this.div&&cn(this,pr)){if(ts(this,pr,!1),!cn(this,dr)){ts(this,dr,!0);return}if(cn(this,vr).getMode()===nr.AnnotationEditorType.STAMP){cn(this,vr).unselectAll();return}Yn(this,_r,vm).call(this,Nr,!1)}}pointerdown(Nr){if(cn(this,pr)){ts(this,pr,!1);return}const{isMac:Or}=nr.FeatureTest.platform;if(Nr.button!==0||Nr.ctrlKey&&Or||Nr.target!==this.div)return;ts(this,pr,!0);const Pr=cn(this,vr).getActive();ts(this,dr,!Pr||Pr.isEmpty())}findNewParent(Nr,Or,Pr){const Mr=cn(this,vr).findParent(Or,Pr);return Mr===null||Mr===this?!1:(Mr.changeParent(Nr),!0)}destroy(){var Nr,Or;((Nr=cn(this,vr).getActive())==null?void 0:Nr.parent)===this&&(cn(this,vr).commitOrRemove(),cn(this,vr).setActiveEditor(null));for(const Pr of cn(this,br).values())(Or=cn(this,ur))==null||Or.removePointerInTextLayer(Pr.contentDiv),Pr.setParent(null),Pr.isAttachedToDOM=!1,Pr.div.remove();this.div=null,cn(this,br).clear(),cn(this,vr).removeLayer(this)}render({viewport:Nr}){this.viewport=Nr,(0,lr.setLayerDimensions)(this.div,Nr);for(const Or of cn(this,vr).getEditors(this.pageIndex))this.add(Or);this.updateMode()}update({viewport:Nr}){cn(this,vr).commitOrRemove(),this.viewport=Nr,(0,lr.setLayerDimensions)(this.div,{rotation:Nr.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Nr,pageHeight:Or}=this.viewport.rawDims;return[Nr,Or]}};ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,_r=new WeakSet,c0=function(Nr){switch(cn(this,vr).getMode()){case nr.AnnotationEditorType.FREETEXT:return new ar.FreeTextEditor(Nr);case nr.AnnotationEditorType.INK:return new sr.InkEditor(Nr);case nr.AnnotationEditorType.STAMP:return new or.StampEditor(Nr)}return null},vm=function(Nr,Or){const Pr=this.getNextId(),Mr=Yn(this,_r,c0).call(this,{parent:this,id:Pr,x:Nr.offsetX,y:Nr.offsetY,uiManager:cn(this,vr),isCentered:Or});return Mr&&this.add(Mr),Mr},u0=function(){const{x:Nr,y:Or,width:Pr,height:Mr}=this.div.getBoundingClientRect(),jr=Math.max(0,Nr),wr=Math.max(0,Or),Er=Math.min(window.innerWidth,Nr+Pr),Ar=Math.min(window.innerHeight,Or+Mr),Sr=(jr+Er)/2-Nr,Dr=(wr+Ar)/2-Or,[Wr,$r]=this.viewport.rotation%180===0?[Sr,Dr]:[Dr,Sr];return{offsetX:Wr,offsetY:$r}},d0=function(){ts(this,gr,!0);for(const Nr of cn(this,br).values())Nr.isEmpty()&&Nr.remove();ts(this,gr,!1)},Ao(Ir,"_initialized",!1);let cr=Ir;er.AnnotationEditorLayer=cr},(tr,er,rr)=>{var or,cr,ur,dr,hr,fr,mr,br,pr,gr,dy,hy,fy,Bp,h0,py,f0;Object.defineProperty(er,"__esModule",{value:!0}),er.FreeTextEditor=void 0;var nr=rr(1),ir=rr(5),ar=rr(4),sr=rr(29);const Ir=class Ir extends ar.AnnotationEditor{constructor(Or){super({...Or,name:"freeTextEditor"});ba(this,gr);ba(this,or,this.editorDivBlur.bind(this));ba(this,cr,this.editorDivFocus.bind(this));ba(this,ur,this.editorDivInput.bind(this));ba(this,dr,this.editorDivKeydown.bind(this));ba(this,hr);ba(this,fr,"");ba(this,mr,`${this.id}-editor`);ba(this,br);ba(this,pr,null);ts(this,hr,Or.color||Ir._defaultColor||ar.AnnotationEditor._defaultLineColor),ts(this,br,Or.fontSize||Ir._defaultFontSize)}static get _keyboardManager(){const Or=Ir.prototype,Pr=wr=>wr.isEmpty(),Mr=ir.AnnotationEditorUIManager.TRANSLATE_SMALL,jr=ir.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,nr.shadow)(this,"_keyboardManager",new ir.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Or.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Or.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Or._translateEmpty,{args:[-Mr,0],checker:Pr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Or._translateEmpty,{args:[-jr,0],checker:Pr}],[["ArrowRight","mac+ArrowRight"],Or._translateEmpty,{args:[Mr,0],checker:Pr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Or._translateEmpty,{args:[jr,0],checker:Pr}],[["ArrowUp","mac+ArrowUp"],Or._translateEmpty,{args:[0,-Mr],checker:Pr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Or._translateEmpty,{args:[0,-jr],checker:Pr}],[["ArrowDown","mac+ArrowDown"],Or._translateEmpty,{args:[0,Mr],checker:Pr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Or._translateEmpty,{args:[0,jr],checker:Pr}]]))}static initialize(Or){ar.AnnotationEditor.initialize(Or,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Pr=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Pr.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Or,Pr){switch(Or){case nr.AnnotationEditorParamsType.FREETEXT_SIZE:Ir._defaultFontSize=Pr;break;case nr.AnnotationEditorParamsType.FREETEXT_COLOR:Ir._defaultColor=Pr;break}}updateParams(Or,Pr){switch(Or){case nr.AnnotationEditorParamsType.FREETEXT_SIZE:Yn(this,gr,dy).call(this,Pr);break;case nr.AnnotationEditorParamsType.FREETEXT_COLOR:Yn(this,gr,hy).call(this,Pr);break}}static get defaultPropertiesToUpdate(){return[[nr.AnnotationEditorParamsType.FREETEXT_SIZE,Ir._defaultFontSize],[nr.AnnotationEditorParamsType.FREETEXT_COLOR,Ir._defaultColor||ar.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[nr.AnnotationEditorParamsType.FREETEXT_SIZE,cn(this,br)],[nr.AnnotationEditorParamsType.FREETEXT_COLOR,cn(this,hr)]]}_translateEmpty(Or,Pr){this._uiManager.translateSelectedEditors(Or,Pr,!0)}getInitialTranslation(){const Or=this.parentScale;return[-Ir._internalPadding*Or,-(Ir._internalPadding+cn(this,br))*Or]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(nr.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",cn(this,dr)),this.editorDiv.addEventListener("focus",cn(this,cr)),this.editorDiv.addEventListener("blur",cn(this,or)),this.editorDiv.addEventListener("input",cn(this,ur)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",cn(this,mr)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",cn(this,dr)),this.editorDiv.removeEventListener("focus",cn(this,cr)),this.editorDiv.removeEventListener("blur",cn(this,or)),this.editorDiv.removeEventListener("input",cn(this,ur)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Or){this._focusEventsAllowed&&(super.focusin(Or),Or.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Or;if(this.width){Yn(this,gr,f0).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Or=this._initialOptions)!=null&&Or.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Or=cn(this,fr),Pr=ts(this,fr,Yn(this,gr,fy).call(this).trimEnd());if(Or===Pr)return;const Mr=jr=>{if(ts(this,fr,jr),!jr){this.remove();return}Yn(this,gr,h0).call(this),this._uiManager.rebuild(this),Yn(this,gr,Bp).call(this)};this.addCommands({cmd:()=>{Mr(Pr)},undo:()=>{Mr(Or)},mustExec:!1}),Yn(this,gr,Bp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Or){this.enterInEditMode()}keydown(Or){Or.target===this.div&&Or.key==="Enter"&&(this.enterInEditMode(),Or.preventDefault())}editorDivKeydown(Or){Ir._keyboardManager.exec(this,Or)}editorDivFocus(Or){this.isEditing=!0}editorDivBlur(Or){this.isEditing=!1}editorDivInput(Or){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Or,Pr;this.width&&(Or=this.x,Pr=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",cn(this,mr)),this.enableEditing(),ar.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(jr=>{var wr;return(wr=this.editorDiv)==null?void 0:wr.setAttribute("aria-label",jr)}),ar.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(jr=>{var wr;return(wr=this.editorDiv)==null?void 0:wr.setAttribute("default-content",jr)}),this.editorDiv.contentEditable=!0;const{style:Mr}=this.editorDiv;if(Mr.fontSize=`calc(${cn(this,br)}px * var(--scale-factor))`,Mr.color=cn(this,hr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ir.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jr,wr]=this.parentDimensions;if(this.annotationElementId){const{position:Er}=cn(this,pr);let[Ar,Sr]=this.getInitialTranslation();[Ar,Sr]=this.pageTranslationToScreen(Ar,Sr);const[Dr,Wr]=this.pageDimensions,[$r,Vr]=this.pageTranslation;let zr,Gr;switch(this.rotation){case 0:zr=Or+(Er[0]-$r)/Dr,Gr=Pr+this.height-(Er[1]-Vr)/Wr;break;case 90:zr=Or+(Er[0]-$r)/Dr,Gr=Pr-(Er[1]-Vr)/Wr,[Ar,Sr]=[Sr,-Ar];break;case 180:zr=Or-this.width+(Er[0]-$r)/Dr,Gr=Pr-(Er[1]-Vr)/Wr,[Ar,Sr]=[-Ar,-Sr];break;case 270:zr=Or+(Er[0]-$r-this.height*Wr)/Dr,Gr=Pr+(Er[1]-Vr-this.width*Dr)/Wr,[Ar,Sr]=[-Sr,Ar];break}this.setAt(zr*jr,Gr*wr,Ar,Sr)}else this.setAt(Or*jr,Pr*wr,this.width*jr,this.height*wr);Yn(this,gr,h0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Or,Pr,Mr){let jr=null;if(Or instanceof sr.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Er,fontColor:Ar},rect:Sr,rotation:Dr,id:Wr},textContent:$r,textPosition:Vr,parent:{page:{pageNumber:zr}}}=Or;if(!$r||$r.length===0)return null;jr=Or={annotationType:nr.AnnotationEditorType.FREETEXT,color:Array.from(Ar),fontSize:Er,value:$r.join(`
`),position:Vr,pageIndex:zr-1,rect:Sr,rotation:Dr,id:Wr,deleted:!1}}const wr=super.deserialize(Or,Pr,Mr);return ts(wr,br,Or.fontSize),ts(wr,hr,nr.Util.makeHexColor(...Or.color)),ts(wr,fr,Or.value),wr.annotationElementId=Or.id||null,ts(wr,pr,jr),wr}serialize(Or=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Pr=Ir._internalPadding*this.parentScale,Mr=this.getRect(Pr,Pr),jr=ar.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:cn(this,hr)),wr={annotationType:nr.AnnotationEditorType.FREETEXT,color:jr,fontSize:cn(this,br),value:cn(this,fr),pageIndex:this.pageIndex,rect:Mr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Or?wr:this.annotationElementId&&!Yn(this,gr,py).call(this,wr)?null:(wr.id=this.annotationElementId,wr)}};or=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakSet,dy=function(Or){const Pr=jr=>{this.editorDiv.style.fontSize=`calc(${jr}px * var(--scale-factor))`,this.translate(0,-(jr-cn(this,br))*this.parentScale),ts(this,br,jr),Yn(this,gr,Bp).call(this)},Mr=cn(this,br);this.addCommands({cmd:()=>{Pr(Or)},undo:()=>{Pr(Mr)},mustExec:!0,type:nr.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hy=function(Or){const Pr=cn(this,hr);this.addCommands({cmd:()=>{ts(this,hr,this.editorDiv.style.color=Or)},undo:()=>{ts(this,hr,this.editorDiv.style.color=Pr)},mustExec:!0,type:nr.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fy=function(){const Or=this.editorDiv.getElementsByTagName("div");if(Or.length===0)return this.editorDiv.innerText;const Pr=[];for(const Mr of Or)Pr.push(Mr.innerText.replace(/\r\n?|\n/,""));return Pr.join(`
`)},Bp=function(){const[Or,Pr]=this.parentDimensions;let Mr;if(this.isAttachedToDOM)Mr=this.div.getBoundingClientRect();else{const{currentLayer:jr,div:wr}=this,Er=wr.style.display;wr.style.display="hidden",jr.div.append(this.div),Mr=wr.getBoundingClientRect(),wr.remove(),wr.style.display=Er}this.rotation%180===this.parentRotation%180?(this.width=Mr.width/Or,this.height=Mr.height/Pr):(this.width=Mr.height/Or,this.height=Mr.width/Pr),this.fixAndSetPosition()},h0=function(){if(this.editorDiv.replaceChildren(),!!cn(this,fr))for(const Or of cn(this,fr).split(`
`)){const Pr=document.createElement("div");Pr.append(Or?document.createTextNode(Or):document.createElement("br")),this.editorDiv.append(Pr)}},py=function(Or){const{value:Pr,fontSize:Mr,color:jr,rect:wr,pageIndex:Er}=cn(this,pr);return Or.value!==Pr||Or.fontSize!==Mr||Or.rect.some((Ar,Sr)=>Math.abs(Ar-wr[Sr])>=1)||Or.color.some((Ar,Sr)=>Ar!==jr[Sr])||Or.pageIndex!==Er},f0=function(Or=!1){if(!this.annotationElementId)return;if(Yn(this,gr,Bp).call(this),!Or&&(this.width===0||this.height===0)){setTimeout(()=>Yn(this,gr,f0).call(this,!0),0);return}const Pr=Ir._internalPadding*this.parentScale;cn(this,pr).rect=this.getRect(Pr,Pr)},Ao(Ir,"_freeTextDefaultContent",""),Ao(Ir,"_internalPadding",0),Ao(Ir,"_defaultColor",null),Ao(Ir,"_defaultFontSize",10),Ao(Ir,"_type","freetext");let lr=Ir;er.FreeTextEditor=lr},(tr,er,rr)=>{var Gr,Xr,_h,my,Kr,Zr,tn,sn,un,hn,Jr,nn,rn,on,fn,mn,yn,Rn,In,Sn,Dn,zn,gy,_m,p0,m0,ds,os,gs,Wn,Fn,Bn,ss,g0,vs,kn,Qn,xa,yy,y0;Object.defineProperty(er,"__esModule",{value:!0}),er.StampAnnotationElement=er.InkAnnotationElement=er.FreeTextAnnotationElement=er.AnnotationLayer=void 0;var nr=rr(1),ir=rr(6),ar=rr(3),sr=rr(30),lr=rr(31),or=rr(32);const cr=1e3,ur=9,dr=new WeakSet;function hr(ls){return{width:ls[2]-ls[0],height:ls[3]-ls[1]}}class fr{static create(An){switch(An.data.annotationType){case nr.AnnotationType.LINK:return new br(An);case nr.AnnotationType.TEXT:return new pr(An);case nr.AnnotationType.WIDGET:switch(An.data.fieldType){case"Tx":return new yr(An);case"Btn":return An.data.radioButton?new xr(An):An.data.checkBox?new _r(An):new Rr(An);case"Ch":return new Cr(An);case"Sig":return new vr(An)}return new gr(An);case nr.AnnotationType.POPUP:return new Tr(An);case nr.AnnotationType.FREETEXT:return new Lr(An);case nr.AnnotationType.LINE:return new Nr(An);case nr.AnnotationType.SQUARE:return new Or(An);case nr.AnnotationType.CIRCLE:return new Pr(An);case nr.AnnotationType.POLYLINE:return new Mr(An);case nr.AnnotationType.CARET:return new wr(An);case nr.AnnotationType.INK:return new Er(An);case nr.AnnotationType.POLYGON:return new jr(An);case nr.AnnotationType.HIGHLIGHT:return new Ar(An);case nr.AnnotationType.UNDERLINE:return new Sr(An);case nr.AnnotationType.SQUIGGLY:return new Dr(An);case nr.AnnotationType.STRIKEOUT:return new Wr(An);case nr.AnnotationType.STAMP:return new $r(An);case nr.AnnotationType.FILEATTACHMENT:return new Vr(An);default:return new mr(An)}}}const Fr=class Fr{constructor(An,{isRenderable:wn=!1,ignoreBorder:Nn=!1,createQuadrilaterals:$n=!1}={}){ba(this,Gr,!1);this.isRenderable=wn,this.data=An.data,this.layer=An.layer,this.linkService=An.linkService,this.downloadManager=An.downloadManager,this.imageResourcesPath=An.imageResourcesPath,this.renderForms=An.renderForms,this.svgFactory=An.svgFactory,this.annotationStorage=An.annotationStorage,this.enableScripting=An.enableScripting,this.hasJSActions=An.hasJSActions,this._fieldObjects=An.fieldObjects,this.parent=An.parent,wn&&(this.container=this._createContainer(Nn)),$n&&this._createQuadrilaterals()}static _hasPopupData({titleObj:An,contentsObj:wn,richText:Nn}){return!!(An!=null&&An.str||wn!=null&&wn.str||Nn!=null&&Nn.str)}get hasPopupData(){return Fr._hasPopupData(this.data)}_createContainer(An){const{data:wn,parent:{page:Nn,viewport:$n}}=this,Gn=document.createElement("section");Gn.setAttribute("data-annotation-id",wn.id),this instanceof gr||(Gn.tabIndex=cr),Gn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Gn.setAttribute("aria-haspopup","dialog"),wn.noRotate&&Gn.classList.add("norotate");const{pageWidth:gn,pageHeight:_n,pageX:jn,pageY:On}=$n.rawDims;if(!wn.rect||this instanceof Tr){const{rotation:ys}=wn;return!wn.hasOwnCanvas&&ys!==0&&this.setRotation(ys,Gn),Gn}const{width:Un,height:Hn}=hr(wn.rect),Kn=nr.Util.normalizeRect([wn.rect[0],Nn.view[3]-wn.rect[1]+Nn.view[1],wn.rect[2],Nn.view[3]-wn.rect[3]+Nn.view[1]]);if(!An&&wn.borderStyle.width>0){Gn.style.borderWidth=`${wn.borderStyle.width}px`;const ys=wn.borderStyle.horizontalCornerRadius,xs=wn.borderStyle.verticalCornerRadius;if(ys>0||xs>0){const Rs=`calc(${ys}px * var(--scale-factor)) / calc(${xs}px * var(--scale-factor))`;Gn.style.borderRadius=Rs}else if(this instanceof xr){const Rs=`calc(${Un}px * var(--scale-factor)) / calc(${Hn}px * var(--scale-factor))`;Gn.style.borderRadius=Rs}switch(wn.borderStyle.style){case nr.AnnotationBorderStyleType.SOLID:Gn.style.borderStyle="solid";break;case nr.AnnotationBorderStyleType.DASHED:Gn.style.borderStyle="dashed";break;case nr.AnnotationBorderStyleType.BEVELED:(0,nr.warn)("Unimplemented border style: beveled");break;case nr.AnnotationBorderStyleType.INSET:(0,nr.warn)("Unimplemented border style: inset");break;case nr.AnnotationBorderStyleType.UNDERLINE:Gn.style.borderBottomStyle="solid";break}const Cs=wn.borderColor||null;Cs?(ts(this,Gr,!0),Gn.style.borderColor=nr.Util.makeHexColor(Cs[0]|0,Cs[1]|0,Cs[2]|0)):Gn.style.borderWidth=0}Gn.style.left=`${100*(Kn[0]-jn)/gn}%`,Gn.style.top=`${100*(Kn[1]-On)/_n}%`;const{rotation:_i}=wn;return wn.hasOwnCanvas||_i===0?(Gn.style.width=`${100*Un/gn}%`,Gn.style.height=`${100*Hn/_n}%`):this.setRotation(_i,Gn),Gn}setRotation(An,wn=this.container){if(!this.data.rect)return;const{pageWidth:Nn,pageHeight:$n}=this.parent.viewport.rawDims,{width:Gn,height:gn}=hr(this.data.rect);let _n,jn;An%180===0?(_n=100*Gn/Nn,jn=100*gn/$n):(_n=100*gn/Nn,jn=100*Gn/$n),wn.style.width=`${_n}%`,wn.style.height=`${jn}%`,wn.setAttribute("data-main-rotation",(360-An)%360)}get _commonActions(){const An=(wn,Nn,$n)=>{const Gn=$n.detail[wn],gn=Gn[0],_n=Gn.slice(1);$n.target.style[Nn]=sr.ColorConverters[`${gn}_HTML`](_n),this.annotationStorage.setValue(this.data.id,{[Nn]:sr.ColorConverters[`${gn}_rgb`](_n)})};return(0,nr.shadow)(this,"_commonActions",{display:wn=>{const{display:Nn}=wn.detail,$n=Nn%2===1;this.container.style.visibility=$n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:$n,noPrint:Nn===1||Nn===2})},print:wn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!wn.detail.print})},hidden:wn=>{const{hidden:Nn}=wn.detail;this.container.style.visibility=Nn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Nn,noView:Nn})},focus:wn=>{setTimeout(()=>wn.target.focus({preventScroll:!1}),0)},userName:wn=>{wn.target.title=wn.detail.userName},readonly:wn=>{wn.target.disabled=wn.detail.readonly},required:wn=>{this._setRequired(wn.target,wn.detail.required)},bgColor:wn=>{An("bgColor","backgroundColor",wn)},fillColor:wn=>{An("fillColor","backgroundColor",wn)},fgColor:wn=>{An("fgColor","color",wn)},textColor:wn=>{An("textColor","color",wn)},borderColor:wn=>{An("borderColor","borderColor",wn)},strokeColor:wn=>{An("strokeColor","borderColor",wn)},rotation:wn=>{const Nn=wn.detail.rotation;this.setRotation(Nn),this.annotationStorage.setValue(this.data.id,{rotation:Nn})}})}_dispatchEventFromSandbox(An,wn){const Nn=this._commonActions;for(const $n of Object.keys(wn.detail)){const Gn=An[$n]||Nn[$n];Gn==null||Gn(wn)}}_setDefaultPropertiesFromJS(An){if(!this.enableScripting)return;const wn=this.annotationStorage.getRawValue(this.data.id);if(!wn)return;const Nn=this._commonActions;for(const[$n,Gn]of Object.entries(wn)){const gn=Nn[$n];if(gn){const _n={detail:{[$n]:Gn},target:An};gn(_n),delete wn[$n]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:An}=this.data;if(!An)return;const[wn,Nn,$n,Gn]=this.data.rect;if(An.length===1){const[,{x:xs,y:Cs},{x:Rs,y:Ls}]=An[0];if($n===xs&&Gn===Cs&&wn===Rs&&Nn===Ls)return}const{style:gn}=this.container;let _n;if(cn(this,Gr)){const{borderColor:xs,borderWidth:Cs}=gn;gn.borderWidth=0,_n=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${xs}" stroke-width="${Cs}">`],this.container.classList.add("hasBorder")}const jn=$n-wn,On=Gn-Nn,{svgFactory:Un}=this,Hn=Un.createElement("svg");Hn.classList.add("quadrilateralsContainer"),Hn.setAttribute("width",0),Hn.setAttribute("height",0);const Kn=Un.createElement("defs");Hn.append(Kn);const _i=Un.createElement("clipPath"),ys=`clippath_${this.data.id}`;_i.setAttribute("id",ys),_i.setAttribute("clipPathUnits","objectBoundingBox"),Kn.append(_i);for(const[,{x:xs,y:Cs},{x:Rs,y:Ls}]of An){const Ws=Un.createElement("rect"),Xs=(Rs-wn)/jn,ro=(Gn-Cs)/On,ao=(xs-Rs)/jn,_o=(Cs-Ls)/On;Ws.setAttribute("x",Xs),Ws.setAttribute("y",ro),Ws.setAttribute("width",ao),Ws.setAttribute("height",_o),_i.append(Ws),_n==null||_n.push(`<rect vector-effect="non-scaling-stroke" x="${Xs}" y="${ro}" width="${ao}" height="${_o}"/>`)}cn(this,Gr)&&(_n.push("</g></svg>')"),gn.backgroundImage=_n.join("")),this.container.append(Hn),this.container.style.clipPath=`url(#${ys})`}_createPopup(){const{container:An,data:wn}=this;An.setAttribute("aria-haspopup","dialog");const Nn=new Tr({data:{color:wn.color,titleObj:wn.titleObj,modificationDate:wn.modificationDate,contentsObj:wn.contentsObj,richText:wn.richText,parentRect:wn.rect,borderStyle:0,id:`popup_${wn.id}`,rotation:wn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Nn.render())}render(){(0,nr.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(An,wn=null){const Nn=[];if(this._fieldObjects){const $n=this._fieldObjects[An];if($n)for(const{page:Gn,id:gn,exportValues:_n}of $n){if(Gn===-1||gn===wn)continue;const jn=typeof _n=="string"?_n:null,On=document.querySelector(`[data-element-id="${gn}"]`);if(On&&!dr.has(On)){(0,nr.warn)(`_getElementsByName - element not allowed: ${gn}`);continue}Nn.push({id:gn,exportValue:jn,domElement:On})}return Nn}for(const $n of document.getElementsByName(An)){const{exportValue:Gn}=$n,gn=$n.getAttribute("data-element-id");gn!==wn&&dr.has($n)&&Nn.push({id:gn,exportValue:Gn,domElement:$n})}return Nn}show(){var An;this.container&&(this.container.hidden=!1),(An=this.popup)==null||An.maybeShow()}hide(){var An;this.container&&(this.container.hidden=!0),(An=this.popup)==null||An.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const An=this.getElementsToTriggerPopup();if(Array.isArray(An))for(const wn of An)wn.classList.add("highlightArea");else An.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:An,data:{id:wn}}=this;this.container.addEventListener("dblclick",()=>{var Nn;(Nn=this.linkService.eventBus)==null||Nn.dispatch("switchannotationeditormode",{source:this,mode:An,editId:wn})})}};Gr=new WeakMap;let mr=Fr;class br extends mr{constructor(wn,Nn=null){super(wn,{isRenderable:!0,ignoreBorder:!!(Nn!=null&&Nn.ignoreBorder),createQuadrilaterals:!0});ba(this,Xr);this.isTooltipOnly=wn.data.isTooltipOnly}render(){const{data:wn,linkService:Nn}=this,$n=document.createElement("a");$n.setAttribute("data-element-id",wn.id);let Gn=!1;return wn.url?(Nn.addLinkAttributes($n,wn.url,wn.newWindow),Gn=!0):wn.action?(this._bindNamedAction($n,wn.action),Gn=!0):wn.attachment?(this._bindAttachment($n,wn.attachment),Gn=!0):wn.setOCGState?(Yn(this,Xr,my).call(this,$n,wn.setOCGState),Gn=!0):wn.dest?(this._bindLink($n,wn.dest),Gn=!0):(wn.actions&&(wn.actions.Action||wn.actions["Mouse Up"]||wn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction($n,wn),Gn=!0),wn.resetForm?(this._bindResetFormAction($n,wn.resetForm),Gn=!0):this.isTooltipOnly&&!Gn&&(this._bindLink($n,""),Gn=!0)),this.container.classList.add("linkAnnotation"),Gn&&this.container.append($n),this.container}_bindLink(wn,Nn){wn.href=this.linkService.getDestinationHash(Nn),wn.onclick=()=>(Nn&&this.linkService.goToDestination(Nn),!1),(Nn||Nn==="")&&Yn(this,Xr,_h).call(this)}_bindNamedAction(wn,Nn){wn.href=this.linkService.getAnchorUrl(""),wn.onclick=()=>(this.linkService.executeNamedAction(Nn),!1),Yn(this,Xr,_h).call(this)}_bindAttachment(wn,Nn){wn.href=this.linkService.getAnchorUrl(""),wn.onclick=()=>{var $n;return($n=this.downloadManager)==null||$n.openOrDownloadData(this.container,Nn.content,Nn.filename),!1},Yn(this,Xr,_h).call(this)}_bindJSAction(wn,Nn){wn.href=this.linkService.getAnchorUrl("");const $n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Gn of Object.keys(Nn.actions)){const gn=$n.get(Gn);gn&&(wn[gn]=()=>{var _n;return(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nn.id,name:Gn}}),!1})}wn.onclick||(wn.onclick=()=>!1),Yn(this,Xr,_h).call(this)}_bindResetFormAction(wn,Nn){const $n=wn.onclick;if($n||(wn.href=this.linkService.getAnchorUrl("")),Yn(this,Xr,_h).call(this),!this._fieldObjects){(0,nr.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),$n||(wn.onclick=()=>!1);return}wn.onclick=()=>{var Hn;$n==null||$n();const{fields:Gn,refs:gn,include:_n}=Nn,jn=[];if(Gn.length!==0||gn.length!==0){const Kn=new Set(gn);for(const _i of Gn){const ys=this._fieldObjects[_i]||[];for(const{id:xs}of ys)Kn.add(xs)}for(const _i of Object.values(this._fieldObjects))for(const ys of _i)Kn.has(ys.id)===_n&&jn.push(ys)}else for(const Kn of Object.values(this._fieldObjects))jn.push(...Kn);const On=this.annotationStorage,Un=[];for(const Kn of jn){const{id:_i}=Kn;switch(Un.push(_i),Kn.type){case"text":{const xs=Kn.defaultValue||"";On.setValue(_i,{value:xs});break}case"checkbox":case"radiobutton":{const xs=Kn.defaultValue===Kn.exportValues;On.setValue(_i,{value:xs});break}case"combobox":case"listbox":{const xs=Kn.defaultValue||"";On.setValue(_i,{value:xs});break}default:continue}const ys=document.querySelector(`[data-element-id="${_i}"]`);if(ys){if(!dr.has(ys)){(0,nr.warn)(`_bindResetFormAction - element not allowed: ${_i}`);continue}}else continue;ys.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Un,name:"ResetForm"}})),!1}}}Xr=new WeakSet,_h=function(){this.container.setAttribute("data-internal-link","")},my=function(wn,Nn){wn.href=this.linkService.getAnchorUrl(""),wn.onclick=()=>(this.linkService.executeSetOCGState(Nn),!1),Yn(this,Xr,_h).call(this)};class pr extends mr{constructor(An){super(An,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const An=document.createElement("img");return An.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",An.alt="[{{type}} Annotation]",An.dataset.l10nId="text_annotation_type",An.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(An),this.container}}class gr extends mr{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(An){var wn;this.data.hasOwnCanvas&&(((wn=An.previousSibling)==null?void 0:wn.nodeName)==="CANVAS"&&(An.previousSibling.hidden=!0),An.hidden=!1)}_getKeyModifier(An){const{isWin:wn,isMac:Nn}=nr.FeatureTest.platform;return wn&&An.ctrlKey||Nn&&An.metaKey}_setEventListener(An,wn,Nn,$n,Gn){Nn.includes("mouse")?An.addEventListener(Nn,gn=>{var _n;(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$n,value:Gn(gn),shift:gn.shiftKey,modifier:this._getKeyModifier(gn)}})}):An.addEventListener(Nn,gn=>{var _n;if(Nn==="blur"){if(!wn.focused||!gn.relatedTarget)return;wn.focused=!1}else if(Nn==="focus"){if(wn.focused)return;wn.focused=!0}Gn&&((_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$n,value:Gn(gn)}}))})}_setEventListeners(An,wn,Nn,$n){var Gn,gn,_n;for(const[jn,On]of Nn)(On==="Action"||(Gn=this.data.actions)!=null&&Gn[On])&&((On==="Focus"||On==="Blur")&&(wn||(wn={focused:!1})),this._setEventListener(An,wn,jn,On,$n),On==="Focus"&&!((gn=this.data.actions)!=null&&gn.Blur)?this._setEventListener(An,wn,"blur","Blur",null):On==="Blur"&&!((_n=this.data.actions)!=null&&_n.Focus)&&this._setEventListener(An,wn,"focus","Focus",null))}_setBackgroundColor(An){const wn=this.data.backgroundColor||null;An.style.backgroundColor=wn===null?"transparent":nr.Util.makeHexColor(wn[0],wn[1],wn[2])}_setTextStyle(An){const wn=["left","center","right"],{fontColor:Nn}=this.data.defaultAppearanceData,$n=this.data.defaultAppearanceData.fontSize||ur,Gn=An.style;let gn;const _n=2,jn=On=>Math.round(10*On)/10;if(this.data.multiLine){const On=Math.abs(this.data.rect[3]-this.data.rect[1]-_n),Un=Math.round(On/(nr.LINE_FACTOR*$n))||1,Hn=On/Un;gn=Math.min($n,jn(Hn/nr.LINE_FACTOR))}else{const On=Math.abs(this.data.rect[3]-this.data.rect[1]-_n);gn=Math.min($n,jn(On/nr.LINE_FACTOR))}Gn.fontSize=`calc(${gn}px * var(--scale-factor))`,Gn.color=nr.Util.makeHexColor(Nn[0],Nn[1],Nn[2]),this.data.textAlignment!==null&&(Gn.textAlign=wn[this.data.textAlignment])}_setRequired(An,wn){wn?An.setAttribute("required",!0):An.removeAttribute("required"),An.setAttribute("aria-required",wn)}}class yr extends gr{constructor(An){const wn=An.renderForms||!An.data.hasAppearance&&!!An.data.fieldValue;super(An,{isRenderable:wn})}setPropertyOnSiblings(An,wn,Nn,$n){const Gn=this.annotationStorage;for(const gn of this._getElementsByName(An.name,An.id))gn.domElement&&(gn.domElement[wn]=Nn),Gn.setValue(gn.id,{[$n]:Nn})}render(){var $n,Gn;const An=this.annotationStorage,wn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Nn=null;if(this.renderForms){const gn=An.getValue(wn,{value:this.data.fieldValue});let _n=gn.value||"";const jn=An.getValue(wn,{charLimit:this.data.maxLen}).charLimit;jn&&_n.length>jn&&(_n=_n.slice(0,jn));let On=gn.formattedValue||(($n=this.data.textContent)==null?void 0:$n.join(`
`))||null;On&&this.data.comb&&(On=On.replaceAll(/\s+/g,""));const Un={userValue:_n,formattedValue:On,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Nn=document.createElement("textarea"),Nn.textContent=On??_n,this.data.doNotScroll&&(Nn.style.overflowY="hidden")):(Nn=document.createElement("input"),Nn.type="text",Nn.setAttribute("value",On??_n),this.data.doNotScroll&&(Nn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Nn.hidden=!0),dr.add(Nn),Nn.setAttribute("data-element-id",wn),Nn.disabled=this.data.readOnly,Nn.name=this.data.fieldName,Nn.tabIndex=cr,this._setRequired(Nn,this.data.required),jn&&(Nn.maxLength=jn),Nn.addEventListener("input",Kn=>{An.setValue(wn,{value:Kn.target.value}),this.setPropertyOnSiblings(Nn,"value",Kn.target.value,"value"),Un.formattedValue=null}),Nn.addEventListener("resetform",Kn=>{const _i=this.data.defaultFieldValue??"";Nn.value=Un.userValue=_i,Un.formattedValue=null});let Hn=Kn=>{const{formattedValue:_i}=Un;_i!=null&&(Kn.target.value=_i),Kn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Nn.addEventListener("focus",_i=>{if(Un.focused)return;const{target:ys}=_i;Un.userValue&&(ys.value=Un.userValue),Un.lastCommittedValue=ys.value,Un.commitKey=1,Un.focused=!0}),Nn.addEventListener("updatefromsandbox",_i=>{this.showElementAndHideCanvas(_i.target);const ys={value(xs){Un.userValue=xs.detail.value??"",An.setValue(wn,{value:Un.userValue.toString()}),xs.target.value=Un.userValue},formattedValue(xs){const{formattedValue:Cs}=xs.detail;Un.formattedValue=Cs,Cs!=null&&xs.target!==document.activeElement&&(xs.target.value=Cs),An.setValue(wn,{formattedValue:Cs})},selRange(xs){xs.target.setSelectionRange(...xs.detail.selRange)},charLimit:xs=>{var Ws;const{charLimit:Cs}=xs.detail,{target:Rs}=xs;if(Cs===0){Rs.removeAttribute("maxLength");return}Rs.setAttribute("maxLength",Cs);let Ls=Un.userValue;!Ls||Ls.length<=Cs||(Ls=Ls.slice(0,Cs),Rs.value=Un.userValue=Ls,An.setValue(wn,{value:Ls}),(Ws=this.linkService.eventBus)==null||Ws.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:Ls,willCommit:!0,commitKey:1,selStart:Rs.selectionStart,selEnd:Rs.selectionEnd}}))}};this._dispatchEventFromSandbox(ys,_i)}),Nn.addEventListener("keydown",_i=>{var Cs;Un.commitKey=1;let ys=-1;if(_i.key==="Escape"?ys=0:_i.key==="Enter"&&!this.data.multiLine?ys=2:_i.key==="Tab"&&(Un.commitKey=3),ys===-1)return;const{value:xs}=_i.target;Un.lastCommittedValue!==xs&&(Un.lastCommittedValue=xs,Un.userValue=xs,(Cs=this.linkService.eventBus)==null||Cs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:xs,willCommit:!0,commitKey:ys,selStart:_i.target.selectionStart,selEnd:_i.target.selectionEnd}}))});const Kn=Hn;Hn=null,Nn.addEventListener("blur",_i=>{var xs;if(!Un.focused||!_i.relatedTarget)return;Un.focused=!1;const{value:ys}=_i.target;Un.userValue=ys,Un.lastCommittedValue!==ys&&((xs=this.linkService.eventBus)==null||xs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:ys,willCommit:!0,commitKey:Un.commitKey,selStart:_i.target.selectionStart,selEnd:_i.target.selectionEnd}})),Kn(_i)}),(Gn=this.data.actions)!=null&&Gn.Keystroke&&Nn.addEventListener("beforeinput",_i=>{var ro;Un.lastCommittedValue=null;const{data:ys,target:xs}=_i,{value:Cs,selectionStart:Rs,selectionEnd:Ls}=xs;let Ws=Rs,Xs=Ls;switch(_i.inputType){case"deleteWordBackward":{const ao=Cs.substring(0,Rs).match(/\w*[^\w]*$/);ao&&(Ws-=ao[0].length);break}case"deleteWordForward":{const ao=Cs.substring(Rs).match(/^[^\w]*\w*/);ao&&(Xs+=ao[0].length);break}case"deleteContentBackward":Rs===Ls&&(Ws-=1);break;case"deleteContentForward":Rs===Ls&&(Xs+=1);break}_i.preventDefault(),(ro=this.linkService.eventBus)==null||ro.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:Cs,change:ys||"",willCommit:!1,selStart:Ws,selEnd:Xs}})}),this._setEventListeners(Nn,Un,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_i=>_i.target.value)}if(Hn&&Nn.addEventListener("blur",Hn),this.data.comb){const _i=(this.data.rect[2]-this.data.rect[0])/jn;Nn.classList.add("comb"),Nn.style.letterSpacing=`calc(${_i}px * var(--scale-factor) - 1ch)`}}else Nn=document.createElement("div"),Nn.textContent=this.data.fieldValue,Nn.style.verticalAlign="middle",Nn.style.display="table-cell";return this._setTextStyle(Nn),this._setBackgroundColor(Nn),this._setDefaultPropertiesFromJS(Nn),this.container.append(Nn),this.container}}class vr extends gr{constructor(An){super(An,{isRenderable:!!An.data.hasOwnCanvas})}}class _r extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){const An=this.annotationStorage,wn=this.data,Nn=wn.id;let $n=An.getValue(Nn,{value:wn.exportValue===wn.fieldValue}).value;typeof $n=="string"&&($n=$n!=="Off",An.setValue(Nn,{value:$n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Gn=document.createElement("input");return dr.add(Gn),Gn.setAttribute("data-element-id",Nn),Gn.disabled=wn.readOnly,this._setRequired(Gn,this.data.required),Gn.type="checkbox",Gn.name=wn.fieldName,$n&&Gn.setAttribute("checked",!0),Gn.setAttribute("exportValue",wn.exportValue),Gn.tabIndex=cr,Gn.addEventListener("change",gn=>{const{name:_n,checked:jn}=gn.target;for(const On of this._getElementsByName(_n,Nn)){const Un=jn&&On.exportValue===wn.exportValue;On.domElement&&(On.domElement.checked=Un),An.setValue(On.id,{value:Un})}An.setValue(Nn,{value:jn})}),Gn.addEventListener("resetform",gn=>{const _n=wn.defaultFieldValue||"Off";gn.target.checked=_n===wn.exportValue}),this.enableScripting&&this.hasJSActions&&(Gn.addEventListener("updatefromsandbox",gn=>{const _n={value(jn){jn.target.checked=jn.detail.value!=="Off",An.setValue(Nn,{value:jn.target.checked})}};this._dispatchEventFromSandbox(_n,gn)}),this._setEventListeners(Gn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gn=>gn.target.checked)),this._setBackgroundColor(Gn),this._setDefaultPropertiesFromJS(Gn),this.container.append(Gn),this.container}}class xr extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const An=this.annotationStorage,wn=this.data,Nn=wn.id;let $n=An.getValue(Nn,{value:wn.fieldValue===wn.buttonValue}).value;typeof $n=="string"&&($n=$n!==wn.buttonValue,An.setValue(Nn,{value:$n}));const Gn=document.createElement("input");if(dr.add(Gn),Gn.setAttribute("data-element-id",Nn),Gn.disabled=wn.readOnly,this._setRequired(Gn,this.data.required),Gn.type="radio",Gn.name=wn.fieldName,$n&&Gn.setAttribute("checked",!0),Gn.tabIndex=cr,Gn.addEventListener("change",gn=>{const{name:_n,checked:jn}=gn.target;for(const On of this._getElementsByName(_n,Nn))An.setValue(On.id,{value:!1});An.setValue(Nn,{value:jn})}),Gn.addEventListener("resetform",gn=>{const _n=wn.defaultFieldValue;gn.target.checked=_n!=null&&_n===wn.buttonValue}),this.enableScripting&&this.hasJSActions){const gn=wn.buttonValue;Gn.addEventListener("updatefromsandbox",_n=>{const jn={value:On=>{const Un=gn===On.detail.value;for(const Hn of this._getElementsByName(On.target.name)){const Kn=Un&&Hn.id===Nn;Hn.domElement&&(Hn.domElement.checked=Kn),An.setValue(Hn.id,{value:Kn})}}};this._dispatchEventFromSandbox(jn,_n)}),this._setEventListeners(Gn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.checked)}return this._setBackgroundColor(Gn),this._setDefaultPropertiesFromJS(Gn),this.container.append(Gn),this.container}}class Rr extends br{constructor(An){super(An,{ignoreBorder:An.data.hasAppearance})}render(){const An=super.render();An.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(An.title=this.data.alternativeText);const wn=An.lastChild;return this.enableScripting&&this.hasJSActions&&wn&&(this._setDefaultPropertiesFromJS(wn),wn.addEventListener("updatefromsandbox",Nn=>{this._dispatchEventFromSandbox({},Nn)})),An}}class Cr extends gr{constructor(An){super(An,{isRenderable:An.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const An=this.annotationStorage,wn=this.data.id,Nn=An.getValue(wn,{value:this.data.fieldValue}),$n=document.createElement("select");dr.add($n),$n.setAttribute("data-element-id",wn),$n.disabled=this.data.readOnly,this._setRequired($n,this.data.required),$n.name=this.data.fieldName,$n.tabIndex=cr;let Gn=this.data.combo&&this.data.options.length>0;this.data.combo||($n.size=this.data.options.length,this.data.multiSelect&&($n.multiple=!0)),$n.addEventListener("resetform",Un=>{const Hn=this.data.defaultFieldValue;for(const Kn of $n.options)Kn.selected=Kn.value===Hn});for(const Un of this.data.options){const Hn=document.createElement("option");Hn.textContent=Un.displayValue,Hn.value=Un.exportValue,Nn.value.includes(Un.exportValue)&&(Hn.setAttribute("selected",!0),Gn=!1),$n.append(Hn)}let gn=null;if(Gn){const Un=document.createElement("option");Un.value=" ",Un.setAttribute("hidden",!0),Un.setAttribute("selected",!0),$n.prepend(Un),gn=()=>{Un.remove(),$n.removeEventListener("input",gn),gn=null},$n.addEventListener("input",gn)}const _n=Un=>{const Hn=Un?"value":"textContent",{options:Kn,multiple:_i}=$n;return _i?Array.prototype.filter.call(Kn,ys=>ys.selected).map(ys=>ys[Hn]):Kn.selectedIndex===-1?null:Kn[Kn.selectedIndex][Hn]};let jn=_n(!1);const On=Un=>{const Hn=Un.target.options;return Array.prototype.map.call(Hn,Kn=>({displayValue:Kn.textContent,exportValue:Kn.value}))};return this.enableScripting&&this.hasJSActions?($n.addEventListener("updatefromsandbox",Un=>{const Hn={value(Kn){gn==null||gn();const _i=Kn.detail.value,ys=new Set(Array.isArray(_i)?_i:[_i]);for(const xs of $n.options)xs.selected=ys.has(xs.value);An.setValue(wn,{value:_n(!0)}),jn=_n(!1)},multipleSelection(Kn){$n.multiple=!0},remove(Kn){const _i=$n.options,ys=Kn.detail.remove;_i[ys].selected=!1,$n.remove(ys),_i.length>0&&Array.prototype.findIndex.call(_i,Cs=>Cs.selected)===-1&&(_i[0].selected=!0),An.setValue(wn,{value:_n(!0),items:On(Kn)}),jn=_n(!1)},clear(Kn){for(;$n.length!==0;)$n.remove(0);An.setValue(wn,{value:null,items:[]}),jn=_n(!1)},insert(Kn){const{index:_i,displayValue:ys,exportValue:xs}=Kn.detail.insert,Cs=$n.children[_i],Rs=document.createElement("option");Rs.textContent=ys,Rs.value=xs,Cs?Cs.before(Rs):$n.append(Rs),An.setValue(wn,{value:_n(!0),items:On(Kn)}),jn=_n(!1)},items(Kn){const{items:_i}=Kn.detail;for(;$n.length!==0;)$n.remove(0);for(const ys of _i){const{displayValue:xs,exportValue:Cs}=ys,Rs=document.createElement("option");Rs.textContent=xs,Rs.value=Cs,$n.append(Rs)}$n.options.length>0&&($n.options[0].selected=!0),An.setValue(wn,{value:_n(!0),items:On(Kn)}),jn=_n(!1)},indices(Kn){const _i=new Set(Kn.detail.indices);for(const ys of Kn.target.options)ys.selected=_i.has(ys.index);An.setValue(wn,{value:_n(!0)}),jn=_n(!1)},editable(Kn){Kn.target.disabled=!Kn.detail.editable}};this._dispatchEventFromSandbox(Hn,Un)}),$n.addEventListener("input",Un=>{var Kn;const Hn=_n(!0);An.setValue(wn,{value:Hn}),Un.preventDefault(),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:jn,changeEx:Hn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners($n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Un=>Un.target.value)):$n.addEventListener("input",function(Un){An.setValue(wn,{value:_n(!0)})}),this.data.combo&&this._setTextStyle($n),this._setBackgroundColor($n),this._setDefaultPropertiesFromJS($n),this.container.append($n),this.container}}class Tr extends mr{constructor(An){const{data:wn,elements:Nn}=An;super(An,{isRenderable:mr._hasPopupData(wn)}),this.elements=Nn}render(){this.container.classList.add("popupAnnotation");const An=new Ir({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),wn=[];for(const Nn of this.elements)Nn.popup=An,wn.push(Nn.data.id),Nn.addHighlightArea();return this.container.setAttribute("aria-controls",wn.map(Nn=>`${nr.AnnotationPrefix}${Nn}`).join(",")),this.container}}class Ir{constructor({container:An,color:wn,elements:Nn,titleObj:$n,modificationDate:Gn,contentsObj:gn,richText:_n,parent:jn,rect:On,parentRect:Un,open:Hn}){ba(this,zn);ba(this,Kr,null);ba(this,Zr,Yn(this,zn,gy).bind(this));ba(this,tn,Yn(this,zn,m0).bind(this));ba(this,sn,Yn(this,zn,p0).bind(this));ba(this,un,Yn(this,zn,_m).bind(this));ba(this,hn,null);ba(this,Jr,null);ba(this,nn,null);ba(this,rn,null);ba(this,on,null);ba(this,fn,null);ba(this,mn,!1);ba(this,yn,null);ba(this,Rn,null);ba(this,In,null);ba(this,Sn,null);ba(this,Dn,!1);var _i;ts(this,Jr,An),ts(this,Sn,$n),ts(this,nn,gn),ts(this,In,_n),ts(this,on,jn),ts(this,hn,wn),ts(this,Rn,On),ts(this,fn,Un),ts(this,rn,Nn);const Kn=ir.PDFDateString.toDateObject(Gn);Kn&&ts(this,Kr,jn.l10n.get("annotation_date_string",{date:Kn.toLocaleDateString(),time:Kn.toLocaleTimeString()})),this.trigger=Nn.flatMap(ys=>ys.getElementsToTriggerPopup());for(const ys of this.trigger)ys.addEventListener("click",cn(this,un)),ys.addEventListener("mouseenter",cn(this,sn)),ys.addEventListener("mouseleave",cn(this,tn)),ys.classList.add("popupTriggerArea");for(const ys of Nn)(_i=ys.container)==null||_i.addEventListener("keydown",cn(this,Zr));cn(this,Jr).hidden=!0,Hn&&Yn(this,zn,_m).call(this)}render(){if(cn(this,yn))return;const{page:{view:An},viewport:{rawDims:{pageWidth:wn,pageHeight:Nn,pageX:$n,pageY:Gn}}}=cn(this,on),gn=ts(this,yn,document.createElement("div"));if(gn.className="popup",cn(this,hn)){const Ws=gn.style.outlineColor=nr.Util.makeHexColor(...cn(this,hn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?gn.style.backgroundColor=`color-mix(in srgb, ${Ws} 30%, white)`:gn.style.backgroundColor=nr.Util.makeHexColor(...cn(this,hn).map(ro=>Math.floor(.7*(255-ro)+ro)))}const _n=document.createElement("span");_n.className="header";const jn=document.createElement("h1");if(_n.append(jn),{dir:jn.dir,str:jn.textContent}=cn(this,Sn),gn.append(_n),cn(this,Kr)){const Ws=document.createElement("span");Ws.classList.add("popupDate"),cn(this,Kr).then(Xs=>{Ws.textContent=Xs}),_n.append(Ws)}const On=cn(this,nn),Un=cn(this,In);if(Un!=null&&Un.str&&(!(On!=null&&On.str)||On.str===Un.str))or.XfaLayer.render({xfaHtml:Un.html,intent:"richText",div:gn}),gn.lastChild.classList.add("richText","popupContent");else{const Ws=this._formatContents(On);gn.append(Ws)}let Hn=!!cn(this,fn),Kn=Hn?cn(this,fn):cn(this,Rn);for(const Ws of cn(this,rn))if(!Kn||nr.Util.intersect(Ws.data.rect,Kn)!==null){Kn=Ws.data.rect,Hn=!0;break}const _i=nr.Util.normalizeRect([Kn[0],An[3]-Kn[1]+An[1],Kn[2],An[3]-Kn[3]+An[1]]),xs=Hn?Kn[2]-Kn[0]+5:0,Cs=_i[0]+xs,Rs=_i[1],{style:Ls}=cn(this,Jr);Ls.left=`${100*(Cs-$n)/wn}%`,Ls.top=`${100*(Rs-Gn)/Nn}%`,cn(this,Jr).append(gn)}_formatContents({str:An,dir:wn}){const Nn=document.createElement("p");Nn.classList.add("popupContent"),Nn.dir=wn;const $n=An.split(/(?:\r\n?|\n)/);for(let Gn=0,gn=$n.length;Gn<gn;++Gn){const _n=$n[Gn];Nn.append(document.createTextNode(_n)),Gn<gn-1&&Nn.append(document.createElement("br"))}return Nn}forceHide(){ts(this,Dn,this.isVisible),cn(this,Dn)&&(cn(this,Jr).hidden=!0)}maybeShow(){cn(this,Dn)&&(ts(this,Dn,!1),cn(this,Jr).hidden=!1)}get isVisible(){return cn(this,Jr).hidden===!1}}Kr=new WeakMap,Zr=new WeakMap,tn=new WeakMap,sn=new WeakMap,un=new WeakMap,hn=new WeakMap,Jr=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,fn=new WeakMap,mn=new WeakMap,yn=new WeakMap,Rn=new WeakMap,In=new WeakMap,Sn=new WeakMap,Dn=new WeakMap,zn=new WeakSet,gy=function(An){An.altKey||An.shiftKey||An.ctrlKey||An.metaKey||(An.key==="Enter"||An.key==="Escape"&&cn(this,mn))&&Yn(this,zn,_m).call(this)},_m=function(){ts(this,mn,!cn(this,mn)),cn(this,mn)?(Yn(this,zn,p0).call(this),cn(this,Jr).addEventListener("click",cn(this,un)),cn(this,Jr).addEventListener("keydown",cn(this,Zr))):(Yn(this,zn,m0).call(this),cn(this,Jr).removeEventListener("click",cn(this,un)),cn(this,Jr).removeEventListener("keydown",cn(this,Zr)))},p0=function(){cn(this,yn)||this.render(),this.isVisible?cn(this,mn)&&cn(this,Jr).classList.add("focused"):(cn(this,Jr).hidden=!1,cn(this,Jr).style.zIndex=parseInt(cn(this,Jr).style.zIndex)+1e3)},m0=function(){cn(this,Jr).classList.remove("focused"),!(cn(this,mn)||!this.isVisible)&&(cn(this,Jr).hidden=!0,cn(this,Jr).style.zIndex=parseInt(cn(this,Jr).style.zIndex)-1e3)};class Lr extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0}),this.textContent=An.data.textContent,this.textPosition=An.data.textPosition,this.annotationEditorType=nr.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const An=document.createElement("div");An.classList.add("annotationTextContent"),An.setAttribute("role","comment");for(const wn of this.textContent){const Nn=document.createElement("span");Nn.textContent=wn,An.append(Nn)}this.container.append(An)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}er.FreeTextAnnotationElement=Lr;class Nr extends mr{constructor(wn){super(wn,{isRenderable:!0,ignoreBorder:!0});ba(this,ds,null)}render(){this.container.classList.add("lineAnnotation");const wn=this.data,{width:Nn,height:$n}=hr(wn.rect),Gn=this.svgFactory.create(Nn,$n,!0),gn=ts(this,ds,this.svgFactory.createElement("svg:line"));return gn.setAttribute("x1",wn.rect[2]-wn.lineCoordinates[0]),gn.setAttribute("y1",wn.rect[3]-wn.lineCoordinates[1]),gn.setAttribute("x2",wn.rect[2]-wn.lineCoordinates[2]),gn.setAttribute("y2",wn.rect[3]-wn.lineCoordinates[3]),gn.setAttribute("stroke-width",wn.borderStyle.width||1),gn.setAttribute("stroke","transparent"),gn.setAttribute("fill","transparent"),Gn.append(gn),this.container.append(Gn),!wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return cn(this,ds)}addHighlightArea(){this.container.classList.add("highlightArea")}}ds=new WeakMap;class Or extends mr{constructor(wn){super(wn,{isRenderable:!0,ignoreBorder:!0});ba(this,os,null)}render(){this.container.classList.add("squareAnnotation");const wn=this.data,{width:Nn,height:$n}=hr(wn.rect),Gn=this.svgFactory.create(Nn,$n,!0),gn=wn.borderStyle.width,_n=ts(this,os,this.svgFactory.createElement("svg:rect"));return _n.setAttribute("x",gn/2),_n.setAttribute("y",gn/2),_n.setAttribute("width",Nn-gn),_n.setAttribute("height",$n-gn),_n.setAttribute("stroke-width",gn||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),Gn.append(_n),this.container.append(Gn),!wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return cn(this,os)}addHighlightArea(){this.container.classList.add("highlightArea")}}os=new WeakMap;class Pr extends mr{constructor(wn){super(wn,{isRenderable:!0,ignoreBorder:!0});ba(this,gs,null)}render(){this.container.classList.add("circleAnnotation");const wn=this.data,{width:Nn,height:$n}=hr(wn.rect),Gn=this.svgFactory.create(Nn,$n,!0),gn=wn.borderStyle.width,_n=ts(this,gs,this.svgFactory.createElement("svg:ellipse"));return _n.setAttribute("cx",Nn/2),_n.setAttribute("cy",$n/2),_n.setAttribute("rx",Nn/2-gn/2),_n.setAttribute("ry",$n/2-gn/2),_n.setAttribute("stroke-width",gn||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),Gn.append(_n),this.container.append(Gn),!wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return cn(this,gs)}addHighlightArea(){this.container.classList.add("highlightArea")}}gs=new WeakMap;class Mr extends mr{constructor(wn){super(wn,{isRenderable:!0,ignoreBorder:!0});ba(this,Wn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const wn=this.data,{width:Nn,height:$n}=hr(wn.rect),Gn=this.svgFactory.create(Nn,$n,!0);let gn=[];for(const jn of wn.vertices){const On=jn.x-wn.rect[0],Un=wn.rect[3]-jn.y;gn.push(On+","+Un)}gn=gn.join(" ");const _n=ts(this,Wn,this.svgFactory.createElement(this.svgElementName));return _n.setAttribute("points",gn),_n.setAttribute("stroke-width",wn.borderStyle.width||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),Gn.append(_n),this.container.append(Gn),!wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return cn(this,Wn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wn=new WeakMap;class jr extends Mr{constructor(An){super(An),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wr extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Er extends mr{constructor(wn){super(wn,{isRenderable:!0,ignoreBorder:!0});ba(this,Fn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=nr.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const wn=this.data,{width:Nn,height:$n}=hr(wn.rect),Gn=this.svgFactory.create(Nn,$n,!0);for(const gn of wn.inkLists){let _n=[];for(const On of gn){const Un=On.x-wn.rect[0],Hn=wn.rect[3]-On.y;_n.push(`${Un},${Hn}`)}_n=_n.join(" ");const jn=this.svgFactory.createElement(this.svgElementName);cn(this,Fn).push(jn),jn.setAttribute("points",_n),jn.setAttribute("stroke-width",wn.borderStyle.width||1),jn.setAttribute("stroke","transparent"),jn.setAttribute("fill","transparent"),!wn.popupRef&&this.hasPopupData&&this._createPopup(),Gn.append(jn)}return this.container.append(Gn),this.container}getElementsToTriggerPopup(){return cn(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap,er.InkAnnotationElement=Er;class Ar extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Sr extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Dr extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Wr extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class $r extends mr{constructor(An){super(An,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}er.StampAnnotationElement=$r;class Vr extends mr{constructor(wn){var Gn;super(wn,{isRenderable:!0});ba(this,ss);ba(this,Bn,null);const{filename:Nn,content:$n}=this.data.file;this.filename=(0,ir.getFilenameFromUrl)(Nn,!0),this.content=$n,(Gn=this.linkService.eventBus)==null||Gn.dispatch("fileattachmentannotation",{source:this,filename:Nn,content:$n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:wn,data:Nn}=this;let $n;Nn.hasAppearance||Nn.fillAlpha===0?$n=document.createElement("div"):($n=document.createElement("img"),$n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Nn.name)?"paperclip":"pushpin"}.svg`,Nn.fillAlpha&&Nn.fillAlpha<1&&($n.style=`filter: opacity(${Math.round(Nn.fillAlpha*100)}%);`)),$n.addEventListener("dblclick",Yn(this,ss,g0).bind(this)),ts(this,Bn,$n);const{isMac:Gn}=nr.FeatureTest.platform;return wn.addEventListener("keydown",gn=>{gn.key==="Enter"&&(Gn?gn.metaKey:gn.ctrlKey)&&Yn(this,ss,g0).call(this)}),!Nn.popupRef&&this.hasPopupData?this._createPopup():$n.classList.add("popupTriggerArea"),wn.append($n),wn}getElementsToTriggerPopup(){return cn(this,Bn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bn=new WeakMap,ss=new WeakSet,g0=function(){var wn;(wn=this.downloadManager)==null||wn.openOrDownloadData(this.container,this.content,this.filename)};class zr{constructor({div:An,accessibilityManager:wn,annotationCanvasMap:Nn,l10n:$n,page:Gn,viewport:gn}){ba(this,xa);ba(this,vs,null);ba(this,kn,null);ba(this,Qn,new Map);this.div=An,ts(this,vs,wn),ts(this,kn,Nn),this.l10n=$n,this.page=Gn,this.viewport=gn,this.zIndex=0,this.l10n||(this.l10n=lr.NullL10n)}async render(An){const{annotations:wn}=An,Nn=this.div;(0,ir.setLayerDimensions)(Nn,this.viewport);const $n=new Map,Gn={data:null,layer:Nn,linkService:An.linkService,downloadManager:An.downloadManager,imageResourcesPath:An.imageResourcesPath||"",renderForms:An.renderForms!==!1,svgFactory:new ir.DOMSVGFactory,annotationStorage:An.annotationStorage||new ar.AnnotationStorage,enableScripting:An.enableScripting===!0,hasJSActions:An.hasJSActions,fieldObjects:An.fieldObjects,parent:this,elements:null};for(const gn of wn){if(gn.noHTML)continue;const _n=gn.annotationType===nr.AnnotationType.POPUP;if(_n){const Un=$n.get(gn.id);if(!Un)continue;Gn.elements=Un}else{const{width:Un,height:Hn}=hr(gn.rect);if(Un<=0||Hn<=0)continue}Gn.data=gn;const jn=fr.create(Gn);if(!jn.isRenderable)continue;if(!_n&&gn.popupRef){const Un=$n.get(gn.popupRef);Un?Un.push(jn):$n.set(gn.popupRef,[jn])}jn.annotationEditorType>0&&cn(this,Qn).set(jn.data.id,jn);const On=jn.render();gn.hidden&&(On.style.visibility="hidden"),Yn(this,xa,yy).call(this,On,gn.id)}Yn(this,xa,y0).call(this),await this.l10n.translate(Nn)}update({viewport:An}){const wn=this.div;this.viewport=An,(0,ir.setLayerDimensions)(wn,{rotation:An.rotation}),Yn(this,xa,y0).call(this),wn.hidden=!1}getEditableAnnotations(){return Array.from(cn(this,Qn).values())}getEditableAnnotation(An){return cn(this,Qn).get(An)}}vs=new WeakMap,kn=new WeakMap,Qn=new WeakMap,xa=new WeakSet,yy=function(An,wn){var $n;const Nn=An.firstChild||An;Nn.id=`${nr.AnnotationPrefix}${wn}`,this.div.append(An),($n=cn(this,vs))==null||$n.moveElementInDOM(this.div,An,Nn,!1)},y0=function(){if(!cn(this,kn))return;const An=this.div;for(const[wn,Nn]of cn(this,kn)){const $n=An.querySelector(`[data-annotation-id="${wn}"]`);if(!$n)continue;const{firstChild:Gn}=$n;Gn?Gn.nodeName==="CANVAS"?Gn.replaceWith(Nn):Gn.before(Nn):$n.append(Nn)}cn(this,kn).clear()},er.AnnotationLayer=zr},(tr,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.ColorConverters=void 0;function rr(ar){return Math.floor(Math.max(0,Math.min(1,ar))*255).toString(16).padStart(2,"0")}function nr(ar){return Math.max(0,Math.min(255,255*ar))}class ir{static CMYK_G([sr,lr,or,cr]){return["G",1-Math.min(1,.3*sr+.59*or+.11*lr+cr)]}static G_CMYK([sr]){return["CMYK",0,0,0,1-sr]}static G_RGB([sr]){return["RGB",sr,sr,sr]}static G_rgb([sr]){return sr=nr(sr),[sr,sr,sr]}static G_HTML([sr]){const lr=rr(sr);return`#${lr}${lr}${lr}`}static RGB_G([sr,lr,or]){return["G",.3*sr+.59*lr+.11*or]}static RGB_rgb(sr){return sr.map(nr)}static RGB_HTML(sr){return`#${sr.map(rr).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([sr,lr,or,cr]){return["RGB",1-Math.min(1,sr+cr),1-Math.min(1,or+cr),1-Math.min(1,lr+cr)]}static CMYK_rgb([sr,lr,or,cr]){return[nr(1-Math.min(1,sr+cr)),nr(1-Math.min(1,or+cr)),nr(1-Math.min(1,lr+cr))]}static CMYK_HTML(sr){const lr=this.CMYK_RGB(sr).slice(1);return this.RGB_HTML(lr)}static RGB_CMYK([sr,lr,or]){const cr=1-sr,ur=1-lr,dr=1-or,hr=Math.min(cr,ur,dr);return["CMYK",cr,ur,dr,hr]}}er.ColorConverters=ir},(tr,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.NullL10n=void 0,er.getL10nFallback=nr;const rr={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};rr.print_progress_percent="{{progress}}%";function nr(sr,lr){switch(sr){case"find_match_count":sr=`find_match_count[${lr.total===1?"one":"other"}]`;break;case"find_match_count_limit":sr=`find_match_count_limit[${lr.limit===1?"one":"other"}]`;break}return rr[sr]||""}function ir(sr,lr){return lr?sr.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(or,cr)=>cr in lr?lr[cr]:"{{"+cr+"}}"):sr}const ar={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(sr,lr=null,or=nr(sr,lr)){return ir(or,lr)},async translate(sr){}};er.NullL10n=ar},(tr,er,rr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaLayer=void 0;var nr=rr(25);class ir{static setupStorage(sr,lr,or,cr,ur){const dr=cr.getValue(lr,{value:null});switch(or.name){case"textarea":if(dr.value!==null&&(sr.textContent=dr.value),ur==="print")break;sr.addEventListener("input",hr=>{cr.setValue(lr,{value:hr.target.value})});break;case"input":if(or.attributes.type==="radio"||or.attributes.type==="checkbox"){if(dr.value===or.attributes.xfaOn?sr.setAttribute("checked",!0):dr.value===or.attributes.xfaOff&&sr.removeAttribute("checked"),ur==="print")break;sr.addEventListener("change",hr=>{cr.setValue(lr,{value:hr.target.checked?hr.target.getAttribute("xfaOn"):hr.target.getAttribute("xfaOff")})})}else{if(dr.value!==null&&sr.setAttribute("value",dr.value),ur==="print")break;sr.addEventListener("input",hr=>{cr.setValue(lr,{value:hr.target.value})})}break;case"select":if(dr.value!==null){sr.setAttribute("value",dr.value);for(const hr of or.children)hr.attributes.value===dr.value?hr.attributes.selected=!0:hr.attributes.hasOwnProperty("selected")&&delete hr.attributes.selected}sr.addEventListener("input",hr=>{const fr=hr.target.options,mr=fr.selectedIndex===-1?"":fr[fr.selectedIndex].value;cr.setValue(lr,{value:mr})});break}}static setAttributes({html:sr,element:lr,storage:or=null,intent:cr,linkService:ur}){const{attributes:dr}=lr,hr=sr instanceof HTMLAnchorElement;dr.type==="radio"&&(dr.name=`${dr.name}-${cr}`);for(const[fr,mr]of Object.entries(dr))if(mr!=null)switch(fr){case"class":mr.length&&sr.setAttribute(fr,mr.join(" "));break;case"dataId":break;case"id":sr.setAttribute("data-element-id",mr);break;case"style":Object.assign(sr.style,mr);break;case"textContent":sr.textContent=mr;break;default:(!hr||fr!=="href"&&fr!=="newWindow")&&sr.setAttribute(fr,mr)}hr&&ur.addLinkAttributes(sr,dr.href,dr.newWindow),or&&dr.dataId&&this.setupStorage(sr,dr.dataId,lr,or)}static render(sr){var br;const lr=sr.annotationStorage,or=sr.linkService,cr=sr.xfaHtml,ur=sr.intent||"display",dr=document.createElement(cr.name);cr.attributes&&this.setAttributes({html:dr,element:cr,intent:ur,linkService:or});const hr=[[cr,-1,dr]],fr=sr.div;if(fr.append(dr),sr.viewport){const pr=`matrix(${sr.viewport.transform.join(",")})`;fr.style.transform=pr}ur!=="richText"&&fr.setAttribute("class","xfaLayer xfaFont");const mr=[];for(;hr.length>0;){const[pr,gr,yr]=hr.at(-1);if(gr+1===pr.children.length){hr.pop();continue}const vr=pr.children[++hr.at(-1)[1]];if(vr===null)continue;const{name:_r}=vr;if(_r==="#text"){const Rr=document.createTextNode(vr.value);mr.push(Rr),yr.append(Rr);continue}const xr=(br=vr==null?void 0:vr.attributes)!=null&&br.xmlns?document.createElementNS(vr.attributes.xmlns,_r):document.createElement(_r);if(yr.append(xr),vr.attributes&&this.setAttributes({html:xr,element:vr,storage:lr,intent:ur,linkService:or}),vr.children&&vr.children.length>0)hr.push([vr,-1,xr]);else if(vr.value){const Rr=document.createTextNode(vr.value);nr.XfaText.shouldBuildText(_r)&&mr.push(Rr),xr.append(Rr)}}for(const pr of fr.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pr.setAttribute("readOnly",!0);return{textDivs:mr}}static update(sr){const lr=`matrix(${sr.viewport.transform.join(",")})`;sr.div.style.transform=lr,sr.div.hidden=!1}}er.XfaLayer=ir},(tr,er,rr)=>{var cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr,_r,xr,Rr,Cr,by,vy,_y,xy,b0,wy,v0,Ey,Sy,Ay,Ty,Py,bu,_0,xm,wm,vp,x0,Em,Xr,Ry,w0,Cy,jy,E0,Sm,_p;Object.defineProperty(er,"__esModule",{value:!0}),er.InkEditor=void 0;var nr=rr(1),ir=rr(4),ar=rr(29),sr=rr(6),lr=rr(5);const hn=class hn extends ir.AnnotationEditor{constructor(rn){super({...rn,name:"inkEditor"});ba(this,Cr);ba(this,cr,0);ba(this,ur,0);ba(this,dr,this.canvasPointermove.bind(this));ba(this,hr,this.canvasPointerleave.bind(this));ba(this,fr,this.canvasPointerup.bind(this));ba(this,mr,this.canvasPointerdown.bind(this));ba(this,br,new Path2D);ba(this,pr,!1);ba(this,gr,!1);ba(this,yr,!1);ba(this,vr,null);ba(this,_r,0);ba(this,xr,0);ba(this,Rr,null);this.color=rn.color||null,this.thickness=rn.thickness||null,this.opacity=rn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(rn){ir.AnnotationEditor.initialize(rn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(rn,on){switch(rn){case nr.AnnotationEditorParamsType.INK_THICKNESS:hn._defaultThickness=on;break;case nr.AnnotationEditorParamsType.INK_COLOR:hn._defaultColor=on;break;case nr.AnnotationEditorParamsType.INK_OPACITY:hn._defaultOpacity=on/100;break}}updateParams(rn,on){switch(rn){case nr.AnnotationEditorParamsType.INK_THICKNESS:Yn(this,Cr,by).call(this,on);break;case nr.AnnotationEditorParamsType.INK_COLOR:Yn(this,Cr,vy).call(this,on);break;case nr.AnnotationEditorParamsType.INK_OPACITY:Yn(this,Cr,_y).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[nr.AnnotationEditorParamsType.INK_THICKNESS,hn._defaultThickness],[nr.AnnotationEditorParamsType.INK_COLOR,hn._defaultColor||ir.AnnotationEditor._defaultLineColor],[nr.AnnotationEditorParamsType.INK_OPACITY,Math.round(hn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[nr.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||hn._defaultThickness],[nr.AnnotationEditorParamsType.INK_COLOR,this.color||hn._defaultColor||ir.AnnotationEditor._defaultLineColor],[nr.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??hn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Yn(this,Cr,xm).call(this),Yn(this,Cr,wm).call(this)),this.isAttachedToDOM||(this.parent.add(this),Yn(this,Cr,vp).call(this)),Yn(this,Cr,_p).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,cn(this,vr).disconnect(),ts(this,vr,null),super.remove())}setParent(rn){!this.parent&&rn?this._uiManager.removeShouldRescale(this):this.parent&&rn===null&&this._uiManager.addShouldRescale(this),super.setParent(rn)}onScaleChanging(){const[rn,on]=this.parentDimensions,fn=this.width*rn,mn=this.height*on;this.setDimensions(fn,mn)}enableEditMode(){cn(this,pr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",cn(this,mr)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",cn(this,mr)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){cn(this,pr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ts(this,pr,!0),this.div.classList.add("disabled"),Yn(this,Cr,_p).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(rn){this._focusEventsAllowed&&(super.focusin(rn),this.enableEditMode())}canvasPointerdown(rn){rn.button!==0||!this.isInEditMode()||cn(this,pr)||(this.setInForeground(),rn.preventDefault(),rn.type!=="mouse"&&this.div.focus(),Yn(this,Cr,wy).call(this,rn.offsetX,rn.offsetY))}canvasPointermove(rn){rn.preventDefault(),Yn(this,Cr,v0).call(this,rn.offsetX,rn.offsetY)}canvasPointerup(rn){rn.preventDefault(),Yn(this,Cr,_0).call(this,rn)}canvasPointerleave(rn){Yn(this,Cr,_0).call(this,rn)}get isResizable(){return!this.isEmpty()&&cn(this,pr)}render(){if(this.div)return this.div;let rn,on;this.width&&(rn=this.x,on=this.y),super.render(),ir.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(In=>{var Sn;return(Sn=this.div)==null?void 0:Sn.setAttribute("aria-label",In)});const[fn,mn,yn,Rn]=Yn(this,Cr,xy).call(this);if(this.setAt(fn,mn,0,0),this.setDims(yn,Rn),Yn(this,Cr,xm).call(this),this.width){const[In,Sn]=this.parentDimensions;this.setAspectRatio(this.width*In,this.height*Sn),this.setAt(rn*In,on*Sn,this.width*In,this.height*Sn),ts(this,yr,!0),Yn(this,Cr,vp).call(this),this.setDims(this.width*In,this.height*Sn),Yn(this,Cr,bu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Yn(this,Cr,wm).call(this),this.div}setDimensions(rn,on){const fn=Math.round(rn),mn=Math.round(on);if(cn(this,_r)===fn&&cn(this,xr)===mn)return;ts(this,_r,fn),ts(this,xr,mn),this.canvas.style.visibility="hidden";const[yn,Rn]=this.parentDimensions;this.width=rn/yn,this.height=on/Rn,this.fixAndSetPosition(),cn(this,pr)&&Yn(this,Cr,x0).call(this,rn,on),Yn(this,Cr,vp).call(this),Yn(this,Cr,bu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(rn,on,fn){var ds,os,gs;if(rn instanceof ar.InkAnnotationElement)return null;const mn=super.deserialize(rn,on,fn);mn.thickness=rn.thickness,mn.color=nr.Util.makeHexColor(...rn.color),mn.opacity=rn.opacity;const[yn,Rn]=mn.pageDimensions,In=mn.width*yn,Sn=mn.height*Rn,Dn=mn.parentScale,zn=rn.thickness/2;ts(mn,pr,!0),ts(mn,_r,Math.round(In)),ts(mn,xr,Math.round(Sn));const{paths:rs,rect:ns,rotation:fs}=rn;for(let{bezier:Wn}of rs){Wn=Yn(ds=hn,Xr,Cy).call(ds,Wn,ns,fs);const Fn=[];mn.paths.push(Fn);let Bn=Dn*(Wn[0]-zn),ss=Dn*(Wn[1]-zn);for(let vs=2,kn=Wn.length;vs<kn;vs+=6){const Qn=Dn*(Wn[vs]-zn),xa=Dn*(Wn[vs+1]-zn),as=Dn*(Wn[vs+2]-zn),ms=Dn*(Wn[vs+3]-zn),ls=Dn*(Wn[vs+4]-zn),An=Dn*(Wn[vs+5]-zn);Fn.push([[Bn,ss],[Qn,xa],[as,ms],[ls,An]]),Bn=ls,ss=An}const $s=Yn(this,Xr,Ry).call(this,Fn);mn.bezierPath2D.push($s)}const qn=Yn(os=mn,Cr,E0).call(os);return ts(mn,ur,Math.max(ir.AnnotationEditor.MIN_SIZE,qn[2]-qn[0])),ts(mn,cr,Math.max(ir.AnnotationEditor.MIN_SIZE,qn[3]-qn[1])),Yn(gs=mn,Cr,x0).call(gs,In,Sn),mn}serialize(){if(this.isEmpty())return null;const rn=this.getRect(0,0),on=ir.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:nr.AnnotationEditorType.INK,color:on,thickness:this.thickness,opacity:this.opacity,paths:Yn(this,Cr,jy).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,rn),pageIndex:this.pageIndex,rect:rn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakMap,yr=new WeakMap,vr=new WeakMap,_r=new WeakMap,xr=new WeakMap,Rr=new WeakMap,Cr=new WeakSet,by=function(rn){const on=this.thickness;this.addCommands({cmd:()=>{this.thickness=rn,Yn(this,Cr,_p).call(this)},undo:()=>{this.thickness=on,Yn(this,Cr,_p).call(this)},mustExec:!0,type:nr.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},vy=function(rn){const on=this.color;this.addCommands({cmd:()=>{this.color=rn,Yn(this,Cr,bu).call(this)},undo:()=>{this.color=on,Yn(this,Cr,bu).call(this)},mustExec:!0,type:nr.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_y=function(rn){rn/=100;const on=this.opacity;this.addCommands({cmd:()=>{this.opacity=rn,Yn(this,Cr,bu).call(this)},undo:()=>{this.opacity=on,Yn(this,Cr,bu).call(this)},mustExec:!0,type:nr.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xy=function(){const{parentRotation:rn,parentDimensions:[on,fn]}=this;switch(rn){case 90:return[0,fn,fn,on];case 180:return[on,fn,on,fn];case 270:return[on,0,fn,on];default:return[0,0,on,fn]}},b0=function(){const{ctx:rn,color:on,opacity:fn,thickness:mn,parentScale:yn,scaleFactor:Rn}=this;rn.lineWidth=mn*yn/Rn,rn.lineCap="round",rn.lineJoin="round",rn.miterLimit=10,rn.strokeStyle=`${on}${(0,lr.opacityToHex)(fn)}`},wy=function(rn,on){this.canvas.addEventListener("contextmenu",sr.noContextMenu),this.canvas.addEventListener("pointerleave",cn(this,hr)),this.canvas.addEventListener("pointermove",cn(this,dr)),this.canvas.addEventListener("pointerup",cn(this,fr)),this.canvas.removeEventListener("pointerdown",cn(this,mr)),this.isEditing=!0,cn(this,yr)||(ts(this,yr,!0),Yn(this,Cr,vp).call(this),this.thickness||(this.thickness=hn._defaultThickness),this.color||(this.color=hn._defaultColor||ir.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=hn._defaultOpacity)),this.currentPath.push([rn,on]),ts(this,gr,!1),Yn(this,Cr,b0).call(this),ts(this,Rr,()=>{Yn(this,Cr,Ay).call(this),cn(this,Rr)&&window.requestAnimationFrame(cn(this,Rr))}),window.requestAnimationFrame(cn(this,Rr))},v0=function(rn,on){const[fn,mn]=this.currentPath.at(-1);if(this.currentPath.length>1&&rn===fn&&on===mn)return;const yn=this.currentPath;let Rn=cn(this,br);if(yn.push([rn,on]),ts(this,gr,!0),yn.length<=2){Rn.moveTo(...yn[0]),Rn.lineTo(rn,on);return}yn.length===3&&(ts(this,br,Rn=new Path2D),Rn.moveTo(...yn[0])),Yn(this,Cr,Ty).call(this,Rn,...yn.at(-3),...yn.at(-2),rn,on)},Ey=function(){if(this.currentPath.length===0)return;const rn=this.currentPath.at(-1);cn(this,br).lineTo(...rn)},Sy=function(rn,on){ts(this,Rr,null),rn=Math.min(Math.max(rn,0),this.canvas.width),on=Math.min(Math.max(on,0),this.canvas.height),Yn(this,Cr,v0).call(this,rn,on),Yn(this,Cr,Ey).call(this);let fn;if(this.currentPath.length!==1)fn=Yn(this,Cr,Py).call(this);else{const Sn=[rn,on];fn=[[Sn,Sn.slice(),Sn.slice(),Sn]]}const mn=cn(this,br),yn=this.currentPath;this.currentPath=[],ts(this,br,new Path2D);const Rn=()=>{this.allRawPaths.push(yn),this.paths.push(fn),this.bezierPath2D.push(mn),this.rebuild()},In=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Yn(this,Cr,xm).call(this),Yn(this,Cr,wm).call(this)),Yn(this,Cr,_p).call(this))};this.addCommands({cmd:Rn,undo:In,mustExec:!0})},Ay=function(){if(!cn(this,gr))return;ts(this,gr,!1);const rn=Math.ceil(this.thickness*this.parentScale),on=this.currentPath.slice(-3),fn=on.map(Rn=>Rn[0]),mn=on.map(Rn=>Rn[1]);Math.min(...fn)-rn,Math.max(...fn)+rn,Math.min(...mn)-rn,Math.max(...mn)+rn;const{ctx:yn}=this;yn.save(),yn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Rn of this.bezierPath2D)yn.stroke(Rn);yn.stroke(cn(this,br)),yn.restore()},Ty=function(rn,on,fn,mn,yn,Rn,In){const Sn=(on+mn)/2,Dn=(fn+yn)/2,zn=(mn+Rn)/2,rs=(yn+In)/2;rn.bezierCurveTo(Sn+2*(mn-Sn)/3,Dn+2*(yn-Dn)/3,zn+2*(mn-zn)/3,rs+2*(yn-rs)/3,zn,rs)},Py=function(){const rn=this.currentPath;if(rn.length<=2)return[[rn[0],rn[0],rn.at(-1),rn.at(-1)]];const on=[];let fn,[mn,yn]=rn[0];for(fn=1;fn<rn.length-2;fn++){const[ns,fs]=rn[fn],[qn,ds]=rn[fn+1],os=(ns+qn)/2,gs=(fs+ds)/2,Wn=[mn+2*(ns-mn)/3,yn+2*(fs-yn)/3],Fn=[os+2*(ns-os)/3,gs+2*(fs-gs)/3];on.push([[mn,yn],Wn,Fn,[os,gs]]),[mn,yn]=[os,gs]}const[Rn,In]=rn[fn],[Sn,Dn]=rn[fn+1],zn=[mn+2*(Rn-mn)/3,yn+2*(In-yn)/3],rs=[Sn+2*(Rn-Sn)/3,Dn+2*(In-Dn)/3];return on.push([[mn,yn],zn,rs,[Sn,Dn]]),on},bu=function(){if(this.isEmpty()){Yn(this,Cr,Em).call(this);return}Yn(this,Cr,b0).call(this);const{canvas:rn,ctx:on}=this;on.setTransform(1,0,0,1,0,0),on.clearRect(0,0,rn.width,rn.height),Yn(this,Cr,Em).call(this);for(const fn of this.bezierPath2D)on.stroke(fn)},_0=function(rn){this.canvas.removeEventListener("pointerleave",cn(this,hr)),this.canvas.removeEventListener("pointermove",cn(this,dr)),this.canvas.removeEventListener("pointerup",cn(this,fr)),this.canvas.addEventListener("pointerdown",cn(this,mr)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",sr.noContextMenu)},10),Yn(this,Cr,Sy).call(this,rn.offsetX,rn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},xm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ir.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(rn=>{var on;return(on=this.canvas)==null?void 0:on.setAttribute("aria-label",rn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},wm=function(){ts(this,vr,new ResizeObserver(rn=>{const on=rn[0].contentRect;on.width&&on.height&&this.setDimensions(on.width,on.height)})),cn(this,vr).observe(this.div)},vp=function(){if(!cn(this,yr))return;const[rn,on]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*rn),this.canvas.height=Math.ceil(this.height*on),Yn(this,Cr,Em).call(this)},x0=function(rn,on){const fn=Yn(this,Cr,Sm).call(this),mn=(rn-fn)/cn(this,ur),yn=(on-fn)/cn(this,cr);this.scaleFactor=Math.min(mn,yn)},Em=function(){const rn=Yn(this,Cr,Sm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+rn,this.translationY*this.scaleFactor+rn)},Xr=new WeakSet,Ry=function(rn){const on=new Path2D;for(let fn=0,mn=rn.length;fn<mn;fn++){const[yn,Rn,In,Sn]=rn[fn];fn===0&&on.moveTo(...yn),on.bezierCurveTo(Rn[0],Rn[1],In[0],In[1],Sn[0],Sn[1])}return on},w0=function(rn,on,fn){const[mn,yn,Rn,In]=on;switch(fn){case 0:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2)rn[Sn]+=mn,rn[Sn+1]=In-rn[Sn+1];break;case 90:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2){const zn=rn[Sn];rn[Sn]=rn[Sn+1]+mn,rn[Sn+1]=zn+yn}break;case 180:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2)rn[Sn]=Rn-rn[Sn],rn[Sn+1]+=yn;break;case 270:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2){const zn=rn[Sn];rn[Sn]=Rn-rn[Sn+1],rn[Sn+1]=In-zn}break;default:throw new Error("Invalid rotation")}return rn},Cy=function(rn,on,fn){const[mn,yn,Rn,In]=on;switch(fn){case 0:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2)rn[Sn]-=mn,rn[Sn+1]=In-rn[Sn+1];break;case 90:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2){const zn=rn[Sn];rn[Sn]=rn[Sn+1]-yn,rn[Sn+1]=zn-mn}break;case 180:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2)rn[Sn]=Rn-rn[Sn],rn[Sn+1]-=yn;break;case 270:for(let Sn=0,Dn=rn.length;Sn<Dn;Sn+=2){const zn=rn[Sn];rn[Sn]=In-rn[Sn+1],rn[Sn+1]=Rn-zn}break;default:throw new Error("Invalid rotation")}return rn},jy=function(rn,on,fn,mn){var Dn,zn;const yn=[],Rn=this.thickness/2,In=rn*on+Rn,Sn=rn*fn+Rn;for(const rs of this.paths){const ns=[],fs=[];for(let qn=0,ds=rs.length;qn<ds;qn++){const[os,gs,Wn,Fn]=rs[qn],Bn=rn*os[0]+In,ss=rn*os[1]+Sn,$s=rn*gs[0]+In,vs=rn*gs[1]+Sn,kn=rn*Wn[0]+In,Qn=rn*Wn[1]+Sn,xa=rn*Fn[0]+In,as=rn*Fn[1]+Sn;qn===0&&(ns.push(Bn,ss),fs.push(Bn,ss)),ns.push($s,vs,kn,Qn,xa,as),fs.push($s,vs),qn===ds-1&&fs.push(xa,as)}yn.push({bezier:Yn(Dn=hn,Xr,w0).call(Dn,ns,mn,this.rotation),points:Yn(zn=hn,Xr,w0).call(zn,fs,mn,this.rotation)})}return yn},E0=function(){let rn=1/0,on=-1/0,fn=1/0,mn=-1/0;for(const yn of this.paths)for(const[Rn,In,Sn,Dn]of yn){const zn=nr.Util.bezierBoundingBox(...Rn,...In,...Sn,...Dn);rn=Math.min(rn,zn[0]),fn=Math.min(fn,zn[1]),on=Math.max(on,zn[2]),mn=Math.max(mn,zn[3])}return[rn,fn,on,mn]},Sm=function(){return cn(this,pr)?Math.ceil(this.thickness*this.parentScale):0},_p=function(rn=!1){if(this.isEmpty())return;if(!cn(this,pr)){Yn(this,Cr,bu).call(this);return}const on=Yn(this,Cr,E0).call(this),fn=Yn(this,Cr,Sm).call(this);ts(this,ur,Math.max(ir.AnnotationEditor.MIN_SIZE,on[2]-on[0])),ts(this,cr,Math.max(ir.AnnotationEditor.MIN_SIZE,on[3]-on[1]));const mn=Math.ceil(fn+cn(this,ur)*this.scaleFactor),yn=Math.ceil(fn+cn(this,cr)*this.scaleFactor),[Rn,In]=this.parentDimensions;this.width=mn/Rn,this.height=yn/In,this.setAspectRatio(mn,yn);const Sn=this.translationX,Dn=this.translationY;this.translationX=-on[0],this.translationY=-on[1],Yn(this,Cr,vp).call(this),Yn(this,Cr,bu).call(this),ts(this,_r,mn),ts(this,xr,yn),this.setDims(mn,yn);const zn=rn?fn/this.scaleFactor/2:0;this.translate(Sn-this.translationX-zn,Dn-this.translationY-zn)},ba(hn,Xr),Ao(hn,"_defaultColor",null),Ao(hn,"_defaultOpacity",1),Ao(hn,"_defaultThickness",1),Ao(hn,"_type","ink");let or=hn;er.InkEditor=or},(tr,er,rr)=>{var or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,Vp,Up,Am,S0,Iy,Ny,A0,Tm,Oy;Object.defineProperty(er,"__esModule",{value:!0}),er.StampEditor=void 0;var nr=rr(1),ir=rr(4),ar=rr(6),sr=rr(29);const Or=class Or extends ir.AnnotationEditor{constructor(jr){super({...jr,name:"stampEditor"});ba(this,yr);ba(this,or,null);ba(this,cr,null);ba(this,ur,null);ba(this,dr,null);ba(this,hr,null);ba(this,fr,null);ba(this,mr,null);ba(this,br,null);ba(this,pr,!1);ba(this,gr,!1);ts(this,dr,jr.bitmapUrl),ts(this,hr,jr.bitmapFile)}static initialize(jr){ir.AnnotationEditor.initialize(jr)}static get supportedTypes(){const jr=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,nr.shadow)(this,"supportedTypes",jr.map(wr=>`image/${wr}`))}static get supportedTypesStr(){return(0,nr.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(jr){return this.supportedTypes.includes(jr)}static paste(jr,wr){wr.pasteEditor(nr.AnnotationEditorType.STAMP,{bitmapFile:jr.getAsFile()})}remove(){var jr,wr;cn(this,cr)&&(ts(this,or,null),this._uiManager.imageManager.deleteId(cn(this,cr)),(jr=cn(this,fr))==null||jr.remove(),ts(this,fr,null),(wr=cn(this,mr))==null||wr.disconnect(),ts(this,mr,null)),super.remove()}rebuild(){if(!this.parent){cn(this,cr)&&Yn(this,yr,Am).call(this);return}super.rebuild(),this.div!==null&&(cn(this,cr)&&Yn(this,yr,Am).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(cn(this,ur)||cn(this,or)||cn(this,dr)||cn(this,hr))}get isResizable(){return!0}render(){if(this.div)return this.div;let jr,wr;if(this.width&&(jr=this.x,wr=this.y),super.render(),this.div.hidden=!0,cn(this,or)?Yn(this,yr,S0).call(this):Yn(this,yr,Am).call(this),this.width){const[Er,Ar]=this.parentDimensions;this.setAt(jr*Er,wr*Ar,this.width*Er,this.height*Ar)}return this.div}static deserialize(jr,wr,Er){if(jr instanceof sr.StampAnnotationElement)return null;const Ar=super.deserialize(jr,wr,Er),{rect:Sr,bitmapUrl:Dr,bitmapId:Wr,isSvg:$r,accessibilityData:Vr}=jr;Wr&&Er.imageManager.isValidId(Wr)?ts(Ar,cr,Wr):ts(Ar,dr,Dr),ts(Ar,pr,$r);const[zr,Gr]=Ar.pageDimensions;return Ar.width=(Sr[2]-Sr[0])/zr,Ar.height=(Sr[3]-Sr[1])/Gr,Vr&&(Ar.altTextData=Vr),Ar}serialize(jr=!1,wr=null){if(this.isEmpty())return null;const Er={annotationType:nr.AnnotationEditorType.STAMP,bitmapId:cn(this,cr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:cn(this,pr),structTreeParentId:this._structTreeParentId};if(jr)return Er.bitmapUrl=Yn(this,yr,Tm).call(this,!0),Er.accessibilityData=this.altTextData,Er;const{decorative:Ar,altText:Sr}=this.altTextData;if(!Ar&&Sr&&(Er.accessibilityData={type:"Figure",alt:Sr}),wr===null)return Er;wr.stamps||(wr.stamps=new Map);const Dr=cn(this,pr)?(Er.rect[2]-Er.rect[0])*(Er.rect[3]-Er.rect[1]):null;if(!wr.stamps.has(cn(this,cr)))wr.stamps.set(cn(this,cr),{area:Dr,serialized:Er}),Er.bitmap=Yn(this,yr,Tm).call(this,!1);else if(cn(this,pr)){const Wr=wr.stamps.get(cn(this,cr));Dr>Wr.area&&(Wr.area=Dr,Wr.serialized.bitmap.close(),Wr.serialized.bitmap=Yn(this,yr,Tm).call(this,!1))}return Er}};or=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,mr=new WeakMap,br=new WeakMap,pr=new WeakMap,gr=new WeakMap,yr=new WeakSet,Vp=function(jr,wr=!1){if(!jr){this.remove();return}ts(this,or,jr.bitmap),wr||(ts(this,cr,jr.id),ts(this,pr,jr.isSvg)),Yn(this,yr,S0).call(this)},Up=function(){ts(this,ur,null),this._uiManager.enableWaiting(!1),cn(this,fr)&&this.div.focus()},Am=function(){if(cn(this,cr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(cn(this,cr)).then(wr=>Yn(this,yr,Vp).call(this,wr,!0)).finally(()=>Yn(this,yr,Up).call(this));return}if(cn(this,dr)){const wr=cn(this,dr);ts(this,dr,null),this._uiManager.enableWaiting(!0),ts(this,ur,this._uiManager.imageManager.getFromUrl(wr).then(Er=>Yn(this,yr,Vp).call(this,Er)).finally(()=>Yn(this,yr,Up).call(this)));return}if(cn(this,hr)){const wr=cn(this,hr);ts(this,hr,null),this._uiManager.enableWaiting(!0),ts(this,ur,this._uiManager.imageManager.getFromFile(wr).then(Er=>Yn(this,yr,Vp).call(this,Er)).finally(()=>Yn(this,yr,Up).call(this)));return}const jr=document.createElement("input");jr.type="file",jr.accept=Or.supportedTypesStr,ts(this,ur,new Promise(wr=>{jr.addEventListener("change",async()=>{if(!jr.files||jr.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Er=await this._uiManager.imageManager.getFromFile(jr.files[0]);Yn(this,yr,Vp).call(this,Er)}wr()}),jr.addEventListener("cancel",()=>{this.remove(),wr()})}).finally(()=>Yn(this,yr,Up).call(this))),jr.click()},S0=function(){const{div:jr}=this;let{width:wr,height:Er}=cn(this,or);const[Ar,Sr]=this.pageDimensions,Dr=.75;if(this.width)wr=this.width*Ar,Er=this.height*Sr;else if(wr>Dr*Ar||Er>Dr*Sr){const zr=Math.min(Dr*Ar/wr,Dr*Sr/Er);wr*=zr,Er*=zr}const[Wr,$r]=this.parentDimensions;this.setDims(wr*Wr/Ar,Er*$r/Sr),this._uiManager.enableWaiting(!1);const Vr=ts(this,fr,document.createElement("canvas"));jr.append(Vr),jr.hidden=!1,Yn(this,yr,A0).call(this,wr,Er),Yn(this,yr,Oy).call(this),cn(this,gr)||(this.parent.addUndoableEditor(this),ts(this,gr,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Iy=function(jr,wr){var Dr;const[Er,Ar]=this.parentDimensions;this.width=jr/Er,this.height=wr/Ar,this.setDims(jr,wr),(Dr=this._initialOptions)!=null&&Dr.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,cn(this,br)!==null&&clearTimeout(cn(this,br)),ts(this,br,setTimeout(()=>{ts(this,br,null),Yn(this,yr,A0).call(this,jr,wr)},200))},Ny=function(jr,wr){const{width:Er,height:Ar}=cn(this,or);let Sr=Er,Dr=Ar,Wr=cn(this,or);for(;Sr>2*jr||Dr>2*wr;){const $r=Sr,Vr=Dr;Sr>2*jr&&(Sr=Sr>=16384?Math.floor(Sr/2)-1:Math.ceil(Sr/2)),Dr>2*wr&&(Dr=Dr>=16384?Math.floor(Dr/2)-1:Math.ceil(Dr/2));const zr=new OffscreenCanvas(Sr,Dr);zr.getContext("2d").drawImage(Wr,0,0,$r,Vr,0,0,Sr,Dr),Wr=zr.transferToImageBitmap()}return Wr},A0=function(jr,wr){jr=Math.ceil(jr),wr=Math.ceil(wr);const Er=cn(this,fr);if(!Er||Er.width===jr&&Er.height===wr)return;Er.width=jr,Er.height=wr;const Ar=cn(this,pr)?cn(this,or):Yn(this,yr,Ny).call(this,jr,wr),Sr=Er.getContext("2d");Sr.filter=this._uiManager.hcmFilter,Sr.drawImage(Ar,0,0,Ar.width,Ar.height,0,0,jr,wr)},Tm=function(jr){if(jr){if(cn(this,pr)){const Ar=this._uiManager.imageManager.getSvgUrl(cn(this,cr));if(Ar)return Ar}const wr=document.createElement("canvas");return{width:wr.width,height:wr.height}=cn(this,or),wr.getContext("2d").drawImage(cn(this,or),0,0),wr.toDataURL()}if(cn(this,pr)){const[wr,Er]=this.pageDimensions,Ar=Math.round(this.width*wr*ar.PixelsPerInch.PDF_TO_CSS_UNITS),Sr=Math.round(this.height*Er*ar.PixelsPerInch.PDF_TO_CSS_UNITS),Dr=new OffscreenCanvas(Ar,Sr);return Dr.getContext("2d").drawImage(cn(this,or),0,0,cn(this,or).width,cn(this,or).height,0,0,Ar,Sr),Dr.transferToImageBitmap()}return structuredClone(cn(this,or))},Oy=function(){ts(this,mr,new ResizeObserver(jr=>{const wr=jr[0].contentRect;wr.width&&wr.height&&Yn(this,yr,Iy).call(this,wr.width,wr.height)})),cn(this,mr).observe(this.div)},Ao(Or,"_type","stamp");let lr=Or;er.StampEditor=lr}],__webpack_module_cache__={};function __w_pdfjs_require__(tr){var er=__webpack_module_cache__[tr];if(er!==void 0)return er.exports;var rr=__webpack_module_cache__[tr]={exports:{}};return __webpack_modules__[tr](rr,rr.exports,__w_pdfjs_require__),rr.exports}var __webpack_exports__={};return(()=>{var tr=__webpack_exports__;Object.defineProperty(tr,"__esModule",{value:!0}),Object.defineProperty(tr,"AbortException",{enumerable:!0,get:function(){return er.AbortException}}),Object.defineProperty(tr,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ar.AnnotationEditorLayer}}),Object.defineProperty(tr,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return er.AnnotationEditorParamsType}}),Object.defineProperty(tr,"AnnotationEditorType",{enumerable:!0,get:function(){return er.AnnotationEditorType}}),Object.defineProperty(tr,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return sr.AnnotationEditorUIManager}}),Object.defineProperty(tr,"AnnotationLayer",{enumerable:!0,get:function(){return lr.AnnotationLayer}}),Object.defineProperty(tr,"AnnotationMode",{enumerable:!0,get:function(){return er.AnnotationMode}}),Object.defineProperty(tr,"CMapCompressionType",{enumerable:!0,get:function(){return er.CMapCompressionType}}),Object.defineProperty(tr,"DOMSVGFactory",{enumerable:!0,get:function(){return nr.DOMSVGFactory}}),Object.defineProperty(tr,"FeatureTest",{enumerable:!0,get:function(){return er.FeatureTest}}),Object.defineProperty(tr,"GlobalWorkerOptions",{enumerable:!0,get:function(){return or.GlobalWorkerOptions}}),Object.defineProperty(tr,"ImageKind",{enumerable:!0,get:function(){return er.ImageKind}}),Object.defineProperty(tr,"InvalidPDFException",{enumerable:!0,get:function(){return er.InvalidPDFException}}),Object.defineProperty(tr,"MissingPDFException",{enumerable:!0,get:function(){return er.MissingPDFException}}),Object.defineProperty(tr,"OPS",{enumerable:!0,get:function(){return er.OPS}}),Object.defineProperty(tr,"PDFDataRangeTransport",{enumerable:!0,get:function(){return rr.PDFDataRangeTransport}}),Object.defineProperty(tr,"PDFDateString",{enumerable:!0,get:function(){return nr.PDFDateString}}),Object.defineProperty(tr,"PDFWorker",{enumerable:!0,get:function(){return rr.PDFWorker}}),Object.defineProperty(tr,"PasswordResponses",{enumerable:!0,get:function(){return er.PasswordResponses}}),Object.defineProperty(tr,"PermissionFlag",{enumerable:!0,get:function(){return er.PermissionFlag}}),Object.defineProperty(tr,"PixelsPerInch",{enumerable:!0,get:function(){return nr.PixelsPerInch}}),Object.defineProperty(tr,"PromiseCapability",{enumerable:!0,get:function(){return er.PromiseCapability}}),Object.defineProperty(tr,"RenderingCancelledException",{enumerable:!0,get:function(){return nr.RenderingCancelledException}}),Object.defineProperty(tr,"SVGGraphics",{enumerable:!0,get:function(){return rr.SVGGraphics}}),Object.defineProperty(tr,"UnexpectedResponseException",{enumerable:!0,get:function(){return er.UnexpectedResponseException}}),Object.defineProperty(tr,"Util",{enumerable:!0,get:function(){return er.Util}}),Object.defineProperty(tr,"VerbosityLevel",{enumerable:!0,get:function(){return er.VerbosityLevel}}),Object.defineProperty(tr,"XfaLayer",{enumerable:!0,get:function(){return cr.XfaLayer}}),Object.defineProperty(tr,"build",{enumerable:!0,get:function(){return rr.build}}),Object.defineProperty(tr,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return er.createValidAbsoluteUrl}}),Object.defineProperty(tr,"getDocument",{enumerable:!0,get:function(){return rr.getDocument}}),Object.defineProperty(tr,"getFilenameFromUrl",{enumerable:!0,get:function(){return nr.getFilenameFromUrl}}),Object.defineProperty(tr,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return nr.getPdfFilenameFromUrl}}),Object.defineProperty(tr,"getXfaPageViewport",{enumerable:!0,get:function(){return nr.getXfaPageViewport}}),Object.defineProperty(tr,"isDataScheme",{enumerable:!0,get:function(){return nr.isDataScheme}}),Object.defineProperty(tr,"isPdfFile",{enumerable:!0,get:function(){return nr.isPdfFile}}),Object.defineProperty(tr,"loadScript",{enumerable:!0,get:function(){return nr.loadScript}}),Object.defineProperty(tr,"noContextMenu",{enumerable:!0,get:function(){return nr.noContextMenu}}),Object.defineProperty(tr,"normalizeUnicode",{enumerable:!0,get:function(){return er.normalizeUnicode}}),Object.defineProperty(tr,"renderTextLayer",{enumerable:!0,get:function(){return ir.renderTextLayer}}),Object.defineProperty(tr,"setLayerDimensions",{enumerable:!0,get:function(){return nr.setLayerDimensions}}),Object.defineProperty(tr,"shadow",{enumerable:!0,get:function(){return er.shadow}}),Object.defineProperty(tr,"updateTextLayer",{enumerable:!0,get:function(){return ir.updateTextLayer}}),Object.defineProperty(tr,"version",{enumerable:!0,get:function(){return rr.version}});var er=__w_pdfjs_require__(1),rr=__w_pdfjs_require__(2),nr=__w_pdfjs_require__(6),ir=__w_pdfjs_require__(26),ar=__w_pdfjs_require__(27),sr=__w_pdfjs_require__(5),lr=__w_pdfjs_require__(29),or=__w_pdfjs_require__(14),cr=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function usePDFPreloader(tr,er=3e3){const[rr,nr]=reactExports.useState({pdf:null,loading:!1,loaded:!1,error:null,totalPages:0,textContent:new Map}),ir=reactExports.useRef(!1),ar=reactExports.useRef(null),sr=reactExports.useCallback(async or=>{const cr=new Map;for(let ur=1;ur<=or.numPages;ur++)try{const fr=(await(await or.getPage(ur)).getTextContent()).items.filter(pr=>"str"in pr&&"transform"in pr).map(pr=>({str:pr.str,transform:pr.transform}));let mr="",br=-1;for(const pr of fr){const gr=pr.transform[4];br!==-1&&gr-br>10&&(mr+=" "),mr+=pr.str,br=gr+pr.str.length*5}cr.set(ur,{text:mr,items:fr})}catch(dr){console.error(`Error precargando texto de pgina ${ur}:`,dr)}return cr},[]),lr=reactExports.useCallback(async or=>{if(!(rr.loaded||rr.loading)){nr(cr=>({...cr,loading:!0,error:null}));try{console.log("[PDFPreloader] Iniciando precarga del manual...");const cr=performance.now(),ur=await pdfExports.getDocument(or).promise,dr=performance.now()-cr;console.log(`[PDFPreloader] PDF cargado en ${dr.toFixed(0)}ms (${ur.numPages} pginas)`);const hr=await sr(ur);console.log(`[PDFPreloader] Texto precargado para ${hr.size} pginas`),nr({pdf:ur,loading:!1,loaded:!0,error:null,totalPages:ur.numPages,textContent:hr})}catch(cr){console.error("[PDFPreloader] Error al precargar PDF:",cr),nr(ur=>({...ur,loading:!1,error:"Error al precargar el manual PDF"}))}}},[rr.loaded,rr.loading,sr]);return reactExports.useEffect(()=>{if(!(!tr||ir.current))return ar.current=setTimeout(()=>{ir.current=!0,lr(tr)},er),()=>{ar.current&&clearTimeout(ar.current)}},[tr,er,lr]),{...rr,preloadPDF:lr,isReady:rr.loaded&&!rr.error}}let globalPDFCache=null;function getGlobalPDFCache(){return globalPDFCache}function setGlobalPDFCache(tr,er,rr){globalPDFCache={url:tr,pdf:er,textContent:rr}}const APP_VERSION="3.5.0",COLLECTION_NAME$1="repuestosBaader200",REPUESTOS_INFORME_V2=[{codigoSAP:"3300067749",codigoBaader:"2004166018",cantidad:5},{codigoSAP:"3300077568",codigoBaader:"511057",cantidad:5},{codigoSAP:"3300066936",codigoBaader:"515447",cantidad:1},{codigoSAP:"3300011620",codigoBaader:"2005902029",cantidad:1},{codigoSAP:"3300012202",codigoBaader:"1890312000",cantidad:8},{codigoSAP:"3300011616",codigoBaader:"2005902030",cantidad:1},{codigoSAP:"3300051217",codigoBaader:"52746-7",cantidad:2},{codigoSAP:"3300012252",codigoBaader:"512247",cantidad:12},{codigoSAP:"3300074855",codigoBaader:"1890311000",cantidad:1},{codigoSAP:"3300053761",codigoBaader:"95270010",cantidad:1},{codigoSAP:"3300058277",codigoBaader:"515517",cantidad:1},{codigoSAP:"3300012369",codigoBaader:"95060121",cantidad:9},{codigoSAP:"3300011775",codigoBaader:"515737",cantidad:2},{codigoSAP:"3300074743",codigoBaader:"513867",cantidad:1},{codigoSAP:"3300074824",codigoBaader:"513897",cantidad:1},{codigoSAP:"3300051216",codigoBaader:"513497",cantidad:4},{codigoSAP:"3300074825",codigoBaader:"514017",cantidad:1},{codigoSAP:"3300074826",codigoBaader:"514047",cantidad:1},{codigoSAP:"3300070230",codigoBaader:"95250063",cantidad:2},{codigoSAP:"3300015735",codigoBaader:"515467",cantidad:2},{codigoSAP:"3300012253",codigoBaader:"632697",cantidad:4},{codigoSAP:"3300070245",codigoBaader:"636997",cantidad:2},{codigoSAP:"3300135529",codigoBaader:"2004002000 A4",cantidad:2},{codigoSAP:"3300081177",codigoBaader:"526467",cantidad:2},{codigoSAP:"3300054470",codigoBaader:"1890310006",cantidad:4},{codigoSAP:"3300074856",codigoBaader:"2000300021",cantidad:2},{codigoSAP:"3300061895",codigoBaader:"401107",cantidad:4},{codigoSAP:"3300054480",codigoBaader:"516127",cantidad:2},{codigoSAP:"3300017418",codigoBaader:"2001202002",cantidad:1},{codigoSAP:"3300012203",codigoBaader:"519337",cantidad:1},{codigoSAP:"3300017417",codigoBaader:"2001202004",cantidad:1},{codigoSAP:"3300106411",codigoBaader:"2000300002",cantidad:1},{codigoSAP:"3300012149",codigoBaader:"519317",cantidad:1},{codigoSAP:"3300070227",codigoBaader:"95250023",cantidad:2},{codigoSAP:"3300058278",codigoBaader:"634817",cantidad:1},{codigoSAP:"3300012201",codigoBaader:"1870510012",cantidad:1},{codigoSAP:"3300012151",codigoBaader:"1870520008",cantidad:1},{codigoSAP:"3300012205",codigoBaader:"51508-7",cantidad:2},{codigoSAP:"3300054469",codigoBaader:"511207",cantidad:4},{codigoSAP:"3300111060",codigoBaader:"515487",cantidad:1},{codigoSAP:"3300054482",codigoBaader:"1890420001",cantidad:1},{codigoSAP:"3300073833",codigoBaader:"2000300012",cantidad:1},{codigoSAP:"3300011830",codigoBaader:"92461630",cantidad:5},{codigoSAP:"3300074831",codigoBaader:"2001203001",cantidad:1},{codigoSAP:"3300063798",codigoBaader:"515997",cantidad:2},{codigoSAP:"3300054471",codigoBaader:"517977",cantidad:1},{codigoSAP:"3300037826",codigoBaader:"512757",cantidad:1},{codigoSAP:"3300063797",codigoBaader:"515987",cantidad:2},{codigoSAP:"3300080954",codigoBaader:"513727",cantidad:3},{codigoSAP:"3300063795",codigoBaader:"513457",cantidad:2},{codigoSAP:"3300106403",codigoBaader:"94011760",cantidad:6},{codigoSAP:"3300051228",codigoBaader:"521727",cantidad:2},{codigoSAP:"3300035292",codigoBaader:"94000006",cantidad:12},{codigoSAP:"3300083560",codigoBaader:"513607",cantidad:2},{codigoSAP:"3300035291",codigoBaader:"94000005",cantidad:12},{codigoSAP:"3300051231",codigoBaader:"401167",cantidad:9},{codigoSAP:"3300074736",codigoBaader:"512107",cantidad:2},{codigoSAP:"3300071219",codigoBaader:"2004902019",cantidad:1},{codigoSAP:"3300106419",codigoBaader:"2004902018",cantidad:1},{codigoSAP:"3300038765",codigoBaader:"513617",cantidad:2},{codigoSAP:"3300091371",codigoBaader:"2004179077",cantidad:1},{codigoSAP:"3300090774",codigoBaader:"2004179078",cantidad:1},{codigoSAP:"3300037808",codigoBaader:"510397",cantidad:1},{codigoSAP:"3300038770",codigoBaader:"519447",cantidad:1},{codigoSAP:"3300051219",codigoBaader:"631687",cantidad:1},{codigoSAP:"3300038854",codigoBaader:"2001202011",cantidad:1},{codigoSAP:"3300011831",codigoBaader:"92461620",cantidad:3},{codigoSAP:"3300106305",codigoBaader:"1870240002",cantidad:10},{codigoSAP:"3300073834",codigoBaader:"92204032",cantidad:2},{codigoSAP:"3300035274",codigoBaader:"2001202010",cantidad:1},{codigoSAP:"3300053757",codigoBaader:"512907",cantidad:2},{codigoSAP:"3300035295",codigoBaader:"2002601004",cantidad:1},{codigoSAP:"3300011882",codigoBaader:"42303087 F",cantidad:2},{codigoSAP:"3300017044",codigoBaader:"92461640",cantidad:2},{codigoSAP:"3300061900",codigoBaader:"401247",cantidad:1},{codigoSAP:"3300011617",codigoBaader:"2001400009",cantidad:1},{codigoSAP:"3300012367",codigoBaader:"517007",cantidad:2},{codigoSAP:"3300037854",codigoBaader:"522417",cantidad:2},{codigoSAP:"3300012318",codigoBaader:"37021202",cantidad:2},{codigoSAP:"3300037820",codigoBaader:"35406052",cantidad:18},{codigoSAP:"3300051789",codigoBaader:"200260100xx",cantidad:1},{codigoSAP:"3300037856",codigoBaader:"2002603001",cantidad:1},{codigoSAP:"3300071105",codigoBaader:"2004008001",cantidad:2},{codigoSAP:"3300135530",codigoBaader:"910822535",cantidad:1},{codigoSAP:"3300011618",codigoBaader:"2001400010",cantidad:1},{codigoSAP:"3300037815",codigoBaader:"92504025",cantidad:4},{codigoSAP:"3300035288",codigoBaader:"513417",cantidad:6},{codigoSAP:"3300103278",codigoBaader:"94011918",cantidad:3},{codigoSAP:"3300103277",codigoBaader:"94011910",cantidad:3},{codigoSAP:"3300037807",codigoBaader:"91082524",cantidad:1},{codigoSAP:"3300071150",codigoBaader:"2004008002",cantidad:1},{codigoSAP:"3300035287",codigoBaader:"631677",cantidad:1},{codigoSAP:"3300100619",codigoBaader:"37290121",cantidad:2},{codigoSAP:"3300061894",codigoBaader:"92461650",cantidad:1},{codigoSAP:"3300014746",codigoBaader:"1886510007",cantidad:1},{codigoSAP:"3300017043",codigoBaader:"92462030",cantidad:1},{codigoSAP:"3300037835",codigoBaader:"512087",cantidad:2},{codigoSAP:"3300051229",codigoBaader:"91193222",cantidad:1},{codigoSAP:"3300011829",codigoBaader:"37290120",cantidad:5},{codigoSAP:"3300012255",codigoBaader:"92204025",cantidad:2},{codigoSAP:"3300016817",codigoBaader:"92141620",cantidad:4},{codigoSAP:"3300011770",codigoBaader:"33136006",cantidad:2},{codigoSAP:"3300012375",codigoBaader:"1891910001",cantidad:8},{codigoSAP:"3300012377",codigoBaader:"1890770006",cantidad:4},{codigoSAP:"3300012366",codigoBaader:"39200205",cantidad:10},{codigoSAP:"3300037849",codigoBaader:"513227",cantidad:2},{codigoSAP:"3300048094",codigoBaader:"35008001",cantidad:2},{codigoSAP:"3300038755",codigoBaader:"513527",cantidad:2},{codigoSAP:"3300011869",codigoBaader:"519647",cantidad:2},{codigoSAP:"3300038764",codigoBaader:"401257",cantidad:2},{codigoSAP:"3300011719",codigoBaader:"92143223",cantidad:2},{codigoSAP:"3300011720",codigoBaader:"92143218",cantidad:2},{codigoSAP:"3300012254",codigoBaader:"92162525",cantidad:2},{codigoSAP:"3300070280",codigoBaader:"92162030",cantidad:2},{codigoSAP:"3300012317",codigoBaader:"37021068",cantidad:1},{codigoSAP:"3300012145",codigoBaader:"520097",cantidad:1},{codigoSAP:"3300037811",codigoBaader:"35004007",cantidad:2},{codigoSAP:"3300045152",codigoBaader:"39100548",cantidad:1},{codigoSAP:"3300011776",codigoBaader:"35023201",cantidad:4},{codigoSAP:"3300070557",codigoBaader:"32810070",cantidad:42},{codigoSAP:"3300011772",codigoBaader:"33066003",cantidad:6},{codigoSAP:"3300011657",codigoBaader:"34700251",cantidad:30},{codigoSAP:"3300011777",codigoBaader:"35012502",cantidad:2},{codigoSAP:"3300037840",codigoBaader:"35013001",cantidad:2},{codigoSAP:"3300012370",codigoBaader:"30050830",cantidad:40},{codigoSAP:"3300011820",codigoBaader:"37310102",cantidad:4},{codigoSAP:"3300012150",codigoBaader:"39200181",cantidad:8},{codigoSAP:"3300011823",codigoBaader:"37021079",cantidad:1},{codigoSAP:"3300011773",codigoBaader:"38000082",cantidad:2},{codigoSAP:"3300011771",codigoBaader:"33066002",cantidad:2},{codigoSAP:"3300011819",codigoBaader:"37310100",cantidad:5},{codigoSAP:"3300012422",codigoBaader:"38000367",cantidad:4},{codigoSAP:"3300012431",codigoBaader:"38010603",cantidad:3},{codigoSAP:"3300037825",codigoBaader:"33006205",cantidad:2},{codigoSAP:"3300011623",codigoBaader:"519167",cantidad:1},{codigoSAP:"3300011622",codigoBaader:"519157",cantidad:1},{codigoSAP:"3300011612",codigoBaader:"519437",cantidad:2},{codigoSAP:"3300106506",codigoBaader:"38010132",cantidad:2},{codigoSAP:"3300012421",codigoBaader:"38010107",cantidad:2},{codigoSAP:"3300011774",codigoBaader:"38000081",cantidad:4},{codigoSAP:"3300035294",codigoBaader:"31010351",cantidad:12},{codigoSAP:"3300037836",codigoBaader:"35300233",cantidad:2},{codigoSAP:"3300012313",codigoBaader:"31800084",cantidad:40},{codigoSAP:"3300012420",codigoBaader:"38010161",cantidad:2},{codigoSAP:"3300070720",codigoBaader:"30834010",cantidad:6},{codigoSAP:"3300012142",codigoBaader:"37310103",cantidad:1},{codigoSAP:"3300070716",codigoBaader:"30031045",cantidad:4}],TAG_NAME="Solicitud inicial dic 2025 Informe Baader 200v2",TAG_TIPO="solicitud";async function importarRepuestosInformeV2(){console.log(" Iniciando importacin de Informe Baader 200 v2..."),console.log(` Total repuestos a procesar: ${REPUESTOS_INFORME_V2.length}`),console.log(` Tag: "${TAG_NAME}" (tipo: ${TAG_TIPO})`);const tr=await getDocs(collection(db,COLLECTION_NAME$1)),er=new Map;tr.forEach(ar=>{const sr=ar.data();er.set(sr.codigoSAP,{id:ar.id,tags:sr.tags||[]})}),console.log(` Encontrados ${er.size} repuestos en la base de datos`);let rr=0,nr=0,ir=[];for(const ar of REPUESTOS_INFORME_V2){const sr=er.get(ar.codigoSAP);if(sr)if(sr.tags.some(or=>typeof or=="object"&&or.nombre===TAG_NAME))nr++,console.log(` ${ar.codigoSAP}: Ya tiene el tag, omitiendo`);else{const or={nombre:TAG_NAME,tipo:TAG_TIPO,cantidad:ar.cantidad,fecha:new Date},cr=[...sr.tags,or];await updateDoc(doc(db,COLLECTION_NAME$1,sr.id),{tags:cr,updatedAt:Timestamp.now()}),rr++,console.log(` ${ar.codigoSAP}: Tag agregado (cantidad: ${ar.cantidad})`)}else ir.push(ar.codigoSAP),console.log(` ${ar.codigoSAP}: No encontrado en la BD`)}return console.log(`
`+"=".repeat(50)),console.log(" RESUMEN IMPORTACIN:"),console.log("=".repeat(50)),console.log(`    Actualizados: ${rr}`),console.log(`    Ya tenan tag: ${nr}`),console.log(`    No encontrados: ${ir.length}`),ir.length>0&&(console.log(`
 Cdigos SAP no encontrados en la BD:`),ir.forEach(ar=>console.log(`   - ${ar}`))),{actualizados:rr,yaExistia:nr,noEncontrados:ir}}function isTagAsignado(tr){return typeof tr=="object"&&"nombre"in tr&&"tipo"in tr}function getTagNombre(tr){return isTagAsignado(tr)?tr.nombre:tr}const TAGS_PREDEFINIDOS=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo","Repuestos varios","Preventivo mensual"],DEFAULT_COLUMNS=[{key:"codigoSAP",label:"Cdigo SAP",visible:!0,required:!0,group:"general",order:0},{key:"codigoBaader",label:"Nmero Parte Manual",visible:!0,group:"general",order:1},{key:"textoBreve",label:"Descripcin SAP",visible:!0,group:"general",order:2},{key:"descripcion",label:"Descripcin Extendida",visible:!0,group:"general",order:3},{key:"nombreManual",label:"Nombre Manual",visible:!0,group:"general",order:4},{key:"tagsSolicitud",label:"Tags Solicitud",visible:!0,group:"solicitada",order:5},{key:"tagsStock",label:"Tags Stock",visible:!0,group:"stock",order:6},{key:"cantidadSolicitada",label:"Cantidad Solicitada",visible:!0,group:"solicitada",order:7},{key:"totalSolicitadoUSD",label:"Total Solicitado USD",visible:!0,group:"solicitada",order:8},{key:"cantidadStockBodega",label:"Stock en Bodega",visible:!0,group:"stock",order:9},{key:"totalStockUSD",label:"Total Stock USD",visible:!0,group:"stock",order:10},{key:"valorUnitario",label:"Valor Unitario",visible:!0,group:"general",order:11},{key:"totalUSD",label:"Total General USD",visible:!0,group:"general",order:12},{key:"acciones",label:"Acciones",visible:!0,required:!0,group:"general",order:13}],STORAGE_KEY="table_columns_config";function useTableColumns(){const[tr,er]=reactExports.useState(()=>{try{const cr=localStorage.getItem(STORAGE_KEY);if(cr){const ur=JSON.parse(cr);return DEFAULT_COLUMNS.map(dr=>{const hr=ur.find(fr=>fr.key===dr.key);return hr?{...dr,visible:hr.visible}:dr})}}catch(cr){console.error("Error loading column config:",cr)}return DEFAULT_COLUMNS});reactExports.useEffect(()=>{try{localStorage.setItem(STORAGE_KEY,JSON.stringify(tr))}catch(cr){console.error("Error saving column config:",cr)}},[tr]);const rr=reactExports.useCallback(cr=>{er(ur=>ur.map(dr=>dr.key===cr&&!dr.required?{...dr,visible:!dr.visible}:dr))},[]),nr=reactExports.useCallback(()=>{er(cr=>cr.map(ur=>({...ur,visible:!0})))},[]),ir=reactExports.useCallback(()=>{er(DEFAULT_COLUMNS)},[]),ar=reactExports.useCallback(cr=>{const ur=tr.find(dr=>dr.key===cr);return ur?ur.visible:!0},[tr]),sr=reactExports.useCallback((cr,ur)=>{er(dr=>{const hr=[...dr],[fr]=hr.splice(cr,1);return hr.splice(ur,0,fr),hr.map((mr,br)=>({...mr,order:br}))})},[]),lr=tr.filter(cr=>cr.visible),or=reactExports.useCallback(cr=>tr.find(ur=>ur.key===cr),[tr]);return{columns:tr,visibleColumns:lr,toggleColumn:rr,showAllColumns:nr,resetColumns:ir,isColumnVisible:ar,reorderColumns:sr,getColumn:or}}const DEFAULT_TAGS=[{nombre:"Overhaul temporada baja",tipo:"solicitud"},{nombre:"Urgentes este mes",tipo:"solicitud"},{nombre:"Crticos",tipo:"solicitud"},{nombre:"En espera proveedor",tipo:"solicitud"},{nombre:"Pedido realizado",tipo:"solicitud"},{nombre:"Stock mnimo",tipo:"stock"},{nombre:"Stock actual",tipo:"stock"},{nombre:"Preventivo mensual",tipo:"solicitud"}],SETTINGS_DOC="settings/tags";function migrateOldTags(tr){return tr.map(er=>{if(typeof er=="string"){const rr=er.toLowerCase().includes("stock")?"stock":"solicitud";return{nombre:er,tipo:rr}}return er})}function useTags(){const[tr,er]=reactExports.useState(DEFAULT_TAGS),[rr,nr]=reactExports.useState(!0),[ir,ar]=reactExports.useState(null);reactExports.useEffect(()=>{const fr=doc(db,SETTINGS_DOC),mr=onSnapshot(fr,br=>{if(br.exists()){const gr=br.data().tags||DEFAULT_TAGS,yr=migrateOldTags(gr);er(yr),gr.some(vr=>typeof vr=="string")&&setDoc(fr,{tags:yr,updatedAt:new Date}).catch(console.error)}else setDoc(fr,{tags:DEFAULT_TAGS,updatedAt:new Date}).catch(console.error),er(DEFAULT_TAGS);nr(!1)},br=>{console.error("Error al obtener tags:",br),ar(br.message),nr(!1),er(DEFAULT_TAGS)});return()=>mr()},[]);const sr=reactExports.useCallback(async fr=>{try{const mr=doc(db,SETTINGS_DOC);return await setDoc(mr,{tags:fr,updatedAt:new Date}),!0}catch(mr){return console.error("Error al guardar tags:",mr),ar(mr.message),!1}},[]),lr=reactExports.useCallback(async(fr,mr="solicitud")=>{const br=fr.trim();if(!br||tr.some(yr=>yr.nombre===br))return!1;const pr={nombre:br,tipo:mr,createdAt:new Date},gr=[...tr,pr].sort((yr,vr)=>yr.nombre.localeCompare(vr.nombre,"es",{sensitivity:"base"}));return await sr(gr)},[tr,sr]),or=reactExports.useCallback(async fr=>{const mr=tr.filter(br=>br.nombre!==fr);return await sr(mr)},[tr,sr]),cr=reactExports.useCallback(async(fr,mr)=>{const br=mr.trim();if(!br||tr.some(gr=>gr.nombre===br)&&br!==fr)return!1;const pr=tr.map(gr=>gr.nombre===fr?{...gr,nombre:br}:gr).sort((gr,yr)=>gr.nombre.localeCompare(yr.nombre,"es",{sensitivity:"base"}));return await sr(pr)},[tr,sr]),ur=reactExports.useCallback(async(fr,mr)=>{const br=tr.map(pr=>pr.nombre===fr?{...pr,tipo:mr}:pr);return await sr(br)},[tr,sr]),dr=reactExports.useCallback(fr=>{const mr=tr.find(br=>br.nombre===fr);return mr?mr.tipo:null},[tr]),hr=reactExports.useCallback(async fr=>{const mr=fr.filter(pr=>pr.nombre.trim()&&!tr.some(gr=>gr.nombre===pr.nombre.trim())).map(pr=>({...pr,nombre:pr.nombre.trim(),createdAt:new Date}));if(mr.length===0)return!0;const br=[...tr,...mr].sort((pr,gr)=>pr.nombre.localeCompare(gr.nombre,"es",{sensitivity:"base"}));return await sr(br)},[tr,sr]);return{tags:tr,loading:rr,error:ir,addTag:lr,removeTag:or,renameTag:cr,changeTagTipo:ur,getTagTipo:dr,addMultipleTags:hr,saveTags:sr,DEFAULT_TAGS}}function AddToListModal({isOpen:tr,onClose:er,allRepuestos:rr,currentContextTag:nr,currentContextTipo:ir,onAddToList:ar}){const[sr,lr]=reactExports.useState(""),[or,cr]=reactExports.useState({}),[ur,dr]=reactExports.useState(new Set),hr=reactExports.useMemo(()=>rr.filter(gr=>{var vr;return!((vr=gr.tags)==null?void 0:vr.some(_r=>getTagNombre(_r)===nr))}),[rr,nr]),fr=reactExports.useMemo(()=>{if(!sr.trim())return hr.slice(0,50);const gr=sr.toLowerCase();return hr.filter(yr=>{var vr,_r;return yr.codigoSAP.toLowerCase().includes(gr)||((vr=yr.codigoBaader)==null?void 0:vr.toLowerCase().includes(gr))||yr.textoBreve.toLowerCase().includes(gr)||((_r=yr.descripcion)==null?void 0:_r.toLowerCase().includes(gr))}).slice(0,100)},[hr,sr]),mr=(gr,yr)=>{cr(vr=>({...vr,[gr]:Math.max(0,yr)}))},br=gr=>{const yr=or[gr.id]||1;ar(gr.id,yr),dr(vr=>new Set(vr).add(gr.id))},pr=()=>{lr(""),cr({}),dr(new Set),er()};return tr?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:gr=>{gr.target===gr.currentTarget&&pr()},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",onMouseDown:gr=>gr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${ir==="solicitud"?"bg-blue-100":"bg-green-100"}`,children:ir==="solicitud"?jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5 text-blue-600"}):jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Agregar repuestos a la lista"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Contexto: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:nr}),jsxRuntimeExports.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${ir==="solicitud"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:ir==="solicitud"?" Solicitud":" Stock"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:pr,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 border-b border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:sr,onChange:gr=>lr(gr.target.value),placeholder:"Buscar por cdigo SAP, nmero parte, descripcin...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoFocus:!0})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[hr.length," repuestos disponibles para agregar  Mostrando ",fr.length]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:fr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-gray-500",children:[jsxRuntimeExports.jsx(Search,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"No se encontraron repuestos disponibles"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Todos los repuestos ya estn en esta lista o prueba otra bsqueda"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:fr.map(gr=>{const yr=ur.has(gr.id),vr=or[gr.id]??1;return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${yr?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-sm bg-white px-2 py-1 rounded border border-gray-200 font-semibold",children:gr.codigoSAP}),gr.codigoBaader&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:gr.codigoBaader})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 mt-1 truncate",children:gr.textoBreve}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Valor: $",gr.valorUnitario.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 ml-4",children:yr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Agregado"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-500",children:ir==="solicitud"?"Cant:":"Stock:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:vr,onChange:_r=>mr(gr.id,parseInt(_r.target.value)||0),className:"w-20 px-2 py-1.5 text-center border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>br(gr),disabled:vr<=0,className:`flex items-center gap-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ir==="solicitud"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white disabled:bg-gray-300"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Agregar"]})]})})]},gr.id)})})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:ur.size>0&&jsxRuntimeExports.jsxs("span",{className:"text-green-600 font-medium",children:[" ",ur.size," repuesto",ur.size!==1?"s":""," agregado",ur.size!==1?"s":""]})}),jsxRuntimeExports.jsx("button",{onClick:pr,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Listo"})]})]})}):null}function CreateContextModal({isOpen:tr,onClose:er,onContextCreated:rr}){const{tags:nr,addTag:ir}=useTags(),[ar,sr]=reactExports.useState(""),[lr,or]=reactExports.useState("solicitud"),[cr,ur]=reactExports.useState(null),[dr,hr]=reactExports.useState(!1),fr=async()=>{const br=ar.trim();if(!br){ur("Ingresa un nombre para el contexto/evento");return}if(nr.some(pr=>pr.nombre.toLowerCase()===br.toLowerCase())){ur("Ya existe un contexto/evento con ese nombre");return}hr(!0),ur(null);try{await ir(br,lr),rr(br,lr),mr()}catch{ur("Error al crear el contexto")}finally{hr(!1)}},mr=()=>{sr(""),or("solicitud"),ur(null),er()};return tr?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:br=>{br.target===br.currentTarget&&mr()},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",onMouseDown:br=>br.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Crear nuevo contexto/evento"})]}),jsxRuntimeExports.jsx("button",{onClick:mr,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[cr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 flex-shrink-0"}),cr]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre del contexto/evento"}),jsxRuntimeExports.jsx("input",{type:"text",value:ar,onChange:br=>{sr(br.target.value),ur(null)},placeholder:"Ej: Solicitud Enero 2026, Stock Bodega Dic 2025...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoFocus:!0,onKeyDown:br=>{br.key==="Enter"&&fr()}})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de contexto"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>or("solicitud"),className:`flex flex-col items-center gap-3 p-5 rounded-xl border-2 transition-all ${lr==="solicitud"?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-full ${lr==="solicitud"?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}`,children:jsxRuntimeExports.jsx(ShoppingCart,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:`font-semibold ${lr==="solicitud"?"text-blue-700":"text-gray-700"}`,children:" Solicitud"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para listas de pedidos y cantidades a solicitar"})]})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>or("stock"),className:`flex flex-col items-center gap-3 p-5 rounded-xl border-2 transition-all ${lr==="stock"?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:`p-3 rounded-full ${lr==="stock"?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:jsxRuntimeExports.jsx(Package,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:`font-semibold ${lr==="stock"?"text-green-700":"text-gray-700"}`,children:" Stock Bodega"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para inventario y stock en bodega"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:`p-4 rounded-lg border ${lr==="solicitud"?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:jsxRuntimeExports.jsx("p",{className:`text-sm ${lr==="solicitud"?"text-blue-700":"text-green-700"}`,children:lr==="solicitud"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Contexto de Solicitud:"}),' Se crear una lista vaca donde podrs agregar repuestos y asignarles la cantidad a solicitar. Se mostrar la columna "Cantidad Solicitada".']}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Contexto de Stock:"}),' Se crear una lista vaca donde podrs agregar repuestos y registrar las cantidades en bodega. Se mostrar la columna "Stock en Bodega".']})})})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:mr,className:"px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{onClick:fr,disabled:dr||!ar.trim(),className:`flex items-center gap-2 px-5 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 ${lr==="solicitud"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Crear contexto"]})]})]})}):null}const ITEMS_PER_PAGE=15;function HistorialCampoModal({isOpen:tr,onClose:er,campo:rr,historial:nr}){if(!tr)return null;const ir=nr.filter(ar=>ar.campo===rr);return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:er,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:ar=>ar.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Historial de ",rr==="cantidadSolicitada"?"Cantidad Solicitada":"Stock Bodega"]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-5 max-h-96 overflow-y-auto",children:ir.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"Sin cambios registrados"}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ir.map((ar,sr)=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600",children:new Date(ar.fecha).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:new Date(ar.fecha).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx("span",{className:"text-red-500 line-through",children:ar.valorAnterior??0}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:""}),jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold",children:ar.valorNuevo??0})]})]},sr))})})]})})}function RepuestosTable({repuestos:tr,selectedRepuesto:er,onSelect:rr,onEdit:nr,onDelete:ir,onViewManual:ar,onViewPhotos:sr,onViewHistory:lr,onAddNew:or,onMarkInManual:cr,getHistorial:ur,onManageTags:dr,onFilteredChange:hr,onAddToContext:fr,onContextChange:mr,compactMode:br=!1}){const[pr,gr]=reactExports.useState(""),[yr,vr]=reactExports.useState(1),[_r,xr]=reactExports.useState(null),[Rr,Cr]=reactExports.useState([]),[Tr]=reactExports.useState("OR"),[Ir,Lr]=reactExports.useState({solicitud:null,stock:null}),[Nr,Or]=reactExports.useState(!1),[Pr,Mr]=reactExports.useState(!1),[jr,wr]=reactExports.useState(null),[Er,Ar]=reactExports.useState(null),[Sr,Dr]=reactExports.useState(""),[Wr,$r]=reactExports.useState(""),[Vr,zr]=reactExports.useState(!1),[Gr,Fr]=reactExports.useState(!1),[Xr,Ur]=reactExports.useState(!1),[Br,Kr]=reactExports.useState("codigoSAP"),[Zr,tn]=reactExports.useState("asc"),{columns:sn,toggleColumn:un,resetColumns:hn,isColumnVisible:Jr,reorderColumns:nn,getColumn:rn}=useTableColumns(),{tags:on}=useTags(),fn=reactExports.useMemo(()=>Ir.solicitud||Ir.stock||null,[Ir]),mn=reactExports.useMemo(()=>Ir.solicitud?"solicitud":Ir.stock?"stock":null,[Ir]),yn=reactExports.useMemo(()=>Ir.solicitud!==null||Ir.stock!==null,[Ir]),Rn=["nombreManual","tagsSolicitud","tagsStock","totalSolicitadoUSD","totalStockUSD","valorUnitario","totalUSD"],In=["tagsSolicitud","cantidadSolicitada","totalSolicitadoUSD"],Sn=["tagsStock","cantidadStockBodega","totalStockUSD"],Dn=gn=>br&&Rn.includes(gn)||yn&&(!Ir.solicitud&&In.includes(gn)||!Ir.stock&&Sn.includes(gn))?!1:Jr(gn),[zn,rs]=reactExports.useState(null),[ns,fs]=reactExports.useState(null),[qn,ds]=reactExports.useState({isOpen:!1,campo:"",historial:[]}),os=gn=>{const _n=rn(gn),jn="px-4 py-4 font-semibold text-xs uppercase tracking-wide transition-colors cursor-move select-none border-r border-gray-200 dark:border-gray-600 last:border-r-0";if(!_n)return jn+" text-gray-600 dark:text-gray-300";let On="";return _n.group==="solicitada"?On="bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 hover:bg-blue-200 dark:hover:bg-blue-800/60 border-blue-200 dark:border-blue-700":_n.group==="stock"?On="bg-green-100 dark:bg-green-900/50 text-green-900 dark:text-green-100 hover:bg-green-200 dark:hover:bg-green-800/60 border-green-200 dark:border-green-700":On="bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-600",zn===gn&&(On+=" opacity-50"),ns===gn&&(On+=" ring-2 ring-primary-500"),`${jn} ${On}`},gs=gn=>{rs(gn)},Wn=(gn,_n)=>{gn.preventDefault(),fs(_n)},Fn=(gn,_n)=>{if(gn.preventDefault(),!zn||zn===_n){rs(null),fs(null);return}const jn=sn.findIndex(Un=>Un.key===zn),On=sn.findIndex(Un=>Un.key===_n);jn!==-1&&On!==-1&&nn(jn,On),rs(null),fs(null)},Bn=()=>{rs(null),fs(null)},ss=reactExports.useMemo(()=>{let gn=tr;if(yn&&(gn=gn.filter(On=>{var Un,Hn;if(Ir.solicitud){const Kn=(Un=On.tags)==null?void 0:Un.find(_i=>(isTagAsignado(_i)?_i.nombre:_i)===Ir.solicitud);if(Kn&&isTagAsignado(Kn)&&Kn.cantidad>0)return!0}if(Ir.stock){const Kn=(Hn=On.tags)==null?void 0:Hn.find(_i=>(isTagAsignado(_i)?_i.nombre:_i)===Ir.stock);if(Kn&&isTagAsignado(Kn)&&Kn.cantidad>0)return!0}return!1})),pr.trim()){const On=pr.toLowerCase();gn=gn.filter(Un=>{var Hn,Kn,_i,ys,xs;return((Hn=Un.codigoSAP)==null?void 0:Hn.toLowerCase().includes(On))||((Kn=Un.textoBreve)==null?void 0:Kn.toLowerCase().includes(On))||((_i=Un.descripcion)==null?void 0:_i.toLowerCase().includes(On))||((ys=Un.nombreManual)==null?void 0:ys.toLowerCase().includes(On))||((xs=Un.codigoBaader)==null?void 0:xs.toLowerCase().includes(On))})}if(Rr.length>0){const On=(Un,Hn)=>{var Kn;return(Kn=Un.tags)==null?void 0:Kn.some(_i=>getTagNombre(_i)===Hn)};Tr==="AND"?gn=gn.filter(Un=>Rr.every(Hn=>On(Un,Hn))):gn=gn.filter(Un=>Rr.some(Hn=>On(Un,Hn)))}Pr&&(gn=gn.filter(On=>{var Un;if(fn){const Hn=(Un=On.tags)==null?void 0:Un.find(Kn=>isTagAsignado(Kn)&&Kn.nombre===fn&&Kn.tipo==="stock");if(Hn&&isTagAsignado(Hn))return Hn.cantidad===0}return!On.cantidadStockBodega||On.cantidadStockBodega===0})),jr!==null&&(gn=gn.filter(On=>{const Un=On.vinculosManual&&On.vinculosManual.length>0;return jr?Un:!Un})),Er!==null&&(gn=gn.filter(On=>{const Un=On.tags&&On.tags.length>0;return Er?!Un:Un}));const _n=parseFloat(Sr)||0,jn=parseFloat(Wr)||1/0;return(_n>0||jn<1/0)&&(gn=gn.filter(On=>{const Un=On.total||0;return Un>=_n&&Un<=jn})),gn=[...gn].sort((On,Un)=>{let Hn="",Kn="";switch(Br){case"codigoSAP":Hn=On.codigoSAP||"",Kn=Un.codigoSAP||"";break;case"codigoBaader":Hn=On.codigoBaader||"",Kn=Un.codigoBaader||"";break;case"textoBreve":Hn=On.textoBreve||"",Kn=Un.textoBreve||"";break;case"descripcion":Hn=On.descripcion||"",Kn=Un.descripcion||"";break;case"nombreManual":Hn=On.nombreManual||"",Kn=Un.nombreManual||"";break;case"cantidadSolicitada":Hn=On.cantidadSolicitada||0,Kn=Un.cantidadSolicitada||0;break;case"cantidadStockBodega":Hn=On.cantidadStockBodega||0,Kn=Un.cantidadStockBodega||0;break;case"valorUnitario":Hn=On.valorUnitario||0,Kn=Un.valorUnitario||0;break;case"totalUSD":Hn=On.total||0,Kn=Un.total||0;break;default:Hn=On.codigoSAP||"",Kn=Un.codigoSAP||""}if(typeof Hn=="string"&&typeof Kn=="string"){const _i=Hn.localeCompare(Kn,"es",{numeric:!0});return Zr==="asc"?_i:-_i}else{const _i=Hn-Kn;return Zr==="asc"?_i:-_i}}),gn},[tr,pr,Rr,Tr,Pr,jr,Er,Sr,Wr,Br,Zr,Ir,yn]),$s=gn=>{Br===gn?tn(Zr==="asc"?"desc":"asc"):(Kr(gn),tn("asc"))},vs=({column:gn})=>Br!==gn?jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-3 h-3 text-gray-300"}):Zr==="asc"?jsxRuntimeExports.jsx(ArrowUp,{className:"w-3 h-3 text-primary-600"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-3 h-3 text-primary-600"}),kn=Math.ceil(ss.length/ITEMS_PER_PAGE),Qn=(yr-1)*ITEMS_PER_PAGE,xa=ss.slice(Qn,Qn+ITEMS_PER_PAGE),as=reactExports.useMemo(()=>tr.length===0?null:tr.reduce((gn,_n)=>{const jn=gn.updatedAt instanceof Date?gn.updatedAt:new Date(gn.updatedAt);return(_n.updatedAt instanceof Date?_n.updatedAt:new Date(_n.updatedAt))>jn?_n:gn}),[tr]),ms=()=>{if(!as)return;const gn=ss.findIndex(jn=>jn.id===as.id);if(gn===-1)return;const _n=Math.floor(gn/ITEMS_PER_PAGE)+1;vr(_n),rr(as),setTimeout(()=>{const jn=document.getElementById(`repuesto-${as.id}`);jn==null||jn.scrollIntoView({behavior:"smooth",block:"center"})},100)};reactExports.useEffect(()=>{vr(1)},[pr,Rr,Tr,Pr,jr,Er,Sr,Wr,Br,Zr]),reactExports.useEffect(()=>{hr==null||hr(ss)},[ss,hr]),reactExports.useEffect(()=>{mr==null||mr(fn,mn)},[fn,mn,mr]);const ls=async(gn,_n)=>{try{await navigator.clipboard.writeText(gn),xr(_n),setTimeout(()=>xr(null),2e3)}catch(jn){console.error("Error al copiar:",jn)}},An=async(gn,_n)=>{if(ur)try{const jn=await ur(gn.id);ds({isOpen:!0,campo:_n,historial:jn})}catch(jn){console.error("Error al cargar historial:",jn)}},wn=tr.filter(gn=>!gn.vinculosManual||gn.vinculosManual.length===0).length,Nn=reactExports.useMemo(()=>(gn,_n)=>{var Hn,Kn;const jn=_n==="solicitud"?Ir.solicitud:Ir.stock;if(!jn)return 0;const On=(Hn=gn.tags)==null?void 0:Hn.find(_i=>isTagAsignado(_i)?_i.nombre===jn&&_i.tipo===_n:!1);return On&&isTagAsignado(On)?On.cantidad:((Kn=gn.tags)==null?void 0:Kn.some(_i=>typeof _i=="string"&&_i===jn))?_n==="solicitud"?gn.cantidadSolicitada||0:gn.cantidadStockBodega||0:0},[Ir]),$n=reactExports.useMemo(()=>{if(!yn)return{totalSolicitado:0,totalBodega:0,totalSolicitadoUSD:0,totalStockUSD:0,totalUSD:0,sinContexto:!0};let gn=0,_n=0,jn=0,On=0;return ss.forEach(Un=>{const Hn=Nn(Un,"solicitud"),Kn=Nn(Un,"stock");gn+=Hn,_n+=Kn,jn+=Hn*Un.valorUnitario,On+=Kn*Un.valorUnitario}),{totalSolicitado:gn,totalBodega:_n,totalSolicitadoUSD:jn,totalStockUSD:On,totalUSD:jn+On,sinContexto:!1}},[ss,yn,Nn]),Gn=gn=>{if(!Dn(gn))return null;const _n=rn(gn);if(!_n)return null;const jn=["codigoSAP","codigoBaader","textoBreve","descripcion","nombreManual","cantidadSolicitada","cantidadStockBodega","valorUnitario","totalUSD"].includes(gn),On=["cantidadSolicitada","cantidadStockBodega","acciones"].includes(gn)?"center":["valorUnitario","totalUSD","totalSolicitadoUSD","totalStockUSD"].includes(gn)?"right":"left";return jsxRuntimeExports.jsx("th",{draggable:!0,onDragStart:()=>gs(gn),onDragOver:Un=>Wn(Un,gn),onDrop:Un=>Fn(Un,gn),onDragEnd:Bn,className:`${os(gn)} text-${On}`,onClick:jn?()=>$s(gn):void 0,children:jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${On==="center"?"justify-center":On==="right"?"justify-end":""}`,children:[_n.label,jn&&jsxRuntimeExports.jsx(vs,{column:gn})]})},gn)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{className:"w-6 h-6 text-primary-600"}),"Repuestos",jsxRuntimeExports.jsxs("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:["(",ss.length," de ",tr.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[as&&jsxRuntimeExports.jsxs("button",{onClick:ms,className:"flex items-center gap-2 px-3 py-2.5 border border-orange-300 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors",title:`Ir a ${as.codigoSAP}`,children:[jsxRuntimeExports.jsx(History,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"ltimo editado"})]}),dr&&jsxRuntimeExports.jsxs("button",{onClick:()=>dr(),className:"flex items-center gap-2 px-3 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm",children:"Gestor de Tags"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Mr(!Pr),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${Pr?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:bg-gray-50 text-gray-600"}`,title:Pr?"Mostrando sin stock":"Filtrar sin stock",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline text-sm",children:"Sin Stock"})]}),jsxRuntimeExports.jsxs("div",{className:"relative hidden lg:block",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Or(!Nr),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${Nr?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Configurar columnas",children:jsxRuntimeExports.jsx(Columns2,{className:"w-4 h-4"})}),Nr&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Columnas visibles"}),jsxRuntimeExports.jsx("button",{onClick:hn,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Restaurar por defecto",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:sn.map(gn=>jsxRuntimeExports.jsxs("button",{onClick:()=>!gn.required&&un(gn.key),className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${gn.required?"text-gray-400 cursor-not-allowed":gn.visible?"text-gray-700 hover:bg-gray-50":"text-gray-400 hover:bg-gray-50"}`,disabled:gn.required,children:[gn.visible?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:gn.visible?"":"line-through",children:gn.label}),gn.required&&jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:"requerido"})]},gn.key))})]})]}),jsxRuntimeExports.jsxs("button",{onClick:or,className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white text-base font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 pr-4 border-r border-gray-300 dark:border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Contextos Activos"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:Ir.solicitud||"",onChange:gn=>Lr(_n=>({..._n,solicitud:gn.target.value||null})),className:`px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors min-w-[150px] appearance-none cursor-pointer ${Ir.solicitud?"bg-blue-100 dark:bg-blue-900/50 border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:" Solicitud..."}),on.filter(gn=>gn.tipo==="solicitud").map(gn=>jsxRuntimeExports.jsxs("option",{value:gn.nombre,children:[" ",gn.nombre]},gn.nombre))]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:Ir.stock||"",onChange:gn=>Lr(_n=>({..._n,stock:gn.target.value||null})),className:`px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors min-w-[150px] appearance-none cursor-pointer ${Ir.stock?"bg-green-100 dark:bg-green-900/50 border-green-300 dark:border-green-600 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:" Stock..."}),on.filter(gn=>gn.tipo==="stock").map(gn=>jsxRuntimeExports.jsxs("option",{value:gn.nombre,children:[" ",gn.nombre]},gn.nombre))]}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 pointer-events-none text-gray-400"})]}),yn&&jsxRuntimeExports.jsx("button",{onClick:()=>Lr({solicitud:null,stock:null}),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Limpiar contextos",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ur(!0),className:"flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30 rounded-lg transition-colors border border-primary-200 dark:border-primary-700",title:"Crear nuevo contexto/evento",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"w-4 h-4"}),"Nuevo"]})]})]})}),$n.sinContexto?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-200 dark:border-amber-800",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 text-amber-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Selecciona al menos un evento/tag para ver cantidades y totales"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center px-3",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"En lista"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-gray-700 dark:text-gray-200",children:ss.length})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300 dark:border-gray-600",children:[Ir.solicitud&&jsxRuntimeExports.jsxs("div",{className:"text-center group relative cursor-help",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-500 dark:text-blue-400 uppercase flex items-center gap-1 justify-center",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3"}),"Solicitado"]}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:$n.totalSolicitado.toLocaleString()}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:['Unidades solicitadas en "',Ir.solicitud,'"',jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]}),Ir.stock&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center group relative cursor-help",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-500 dark:text-green-400 uppercase flex items-center gap-1 justify-center",children:[jsxRuntimeExports.jsx(Package,{className:"w-3 h-3"}),"En Bodega"]}),jsxRuntimeExports.jsx("div",{className:`text-lg font-bold ${$n.totalBodega>0?"text-green-600 dark:text-green-400":"text-gray-400"}`,children:$n.totalBodega.toLocaleString()}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:['Unidades en bodega en "',Ir.stock,'"',jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Mr(!Pr),className:`text-center cursor-pointer rounded-lg px-2 py-1 transition-colors group relative ${Pr?"bg-red-100 dark:bg-red-900/50":"hover:bg-red-50 dark:hover:bg-red-900/30"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-red-500 dark:text-red-400 uppercase",children:"Sin Stock"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:ss.filter(gn=>Nn(gn,"stock")===0).length}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:["Repuestos con stock = 0 (click para filtrar)",jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[Ir.solicitud&&jsxRuntimeExports.jsxs("div",{className:"text-center group relative cursor-help",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase font-semibold text-blue-500 dark:text-blue-400",children:"USD Solicitado"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:["$",$n.totalSolicitadoUSD.toLocaleString("en-US",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:["Valor USD de unidades solicitadas",jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]}),Ir.stock&&jsxRuntimeExports.jsxs("div",{className:"text-center group relative cursor-help",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase font-semibold text-green-500 dark:text-green-400",children:"USD Stock"}),jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:["$",$n.totalStockUSD.toLocaleString("en-US",{minimumFractionDigits:2})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none shadow-lg",children:["Valor USD de unidades en bodega",jsxRuntimeExports.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:pr,onChange:gn=>gr(gn.target.value),placeholder:yn?"Buscar en contextos activos...":"Buscar por cdigo SAP, Baader o descripcin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),yn&&fr&&jsxRuntimeExports.jsxs("button",{onClick:()=>Fr(!0),className:"flex items-center gap-2 px-4 py-3 rounded-xl font-medium transition-colors bg-primary-600 hover:bg-primary-700 text-white",title:"Agregar repuestos a la lista activa",children:[jsxRuntimeExports.jsx(ListPlus,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Agregar a lista"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>zr(!Vr),className:`flex items-center gap-2 px-4 py-3 border rounded-xl transition-colors ${Vr||jr!==null||Er!==null||Sr||Wr?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Filtros avanzados",children:jsxRuntimeExports.jsx(SlidersHorizontal,{className:"w-5 h-5"})})]}),Vr&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SlidersHorizontal,{className:"w-4 h-4"}),"Filtros Avanzados"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{wr(null),Ar(null),Dr(""),$r("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar filtros"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(BookMarked,{className:"w-3 h-3 inline mr-1"}),"Marcador en Manual"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>wr(null),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${jr===null?"bg-primary-100 border-primary-500 text-primary-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),jsxRuntimeExports.jsx("button",{onClick:()=>wr(!0),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${jr===!0?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Con marcador"}),jsxRuntimeExports.jsx("button",{onClick:()=>wr(!1),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${jr===!1?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Sin marcador"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3 inline mr-1"}),"Contexto/Evento Asignado"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ar(null),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Er===null?"bg-primary-100 border-primary-500 text-primary-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ar(!1),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Er===!1?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Con tag"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ar(!0),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${Er===!0?"bg-red-100 border-red-500 text-red-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Sin tag"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-3 h-3 inline mr-1"}),"Rango de Precio (USD)"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:Sr,onChange:gn=>Dr(gn.target.value),placeholder:"Mnimo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"-"}),jsxRuntimeExports.jsx("input",{type:"number",value:Wr,onChange:gn=>$r(gn.target.value),placeholder:"Mximo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})]}),Rr.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Filtrado por (",Tr,"):"]}),Rr.map(gn=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"}),gn,jsxRuntimeExports.jsx("button",{onClick:()=>Cr(Rr.filter(_n=>_n!==gn)),className:"ml-1 hover:text-primary-900",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]},gn)),jsxRuntimeExports.jsx("button",{onClick:()=>Cr([]),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Limpiar filtros"})]}),wn>0&&Rr.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:[wn," repuestos sin ubicacin en el manual"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto hidden lg:block",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[Dn("codigoSAP")&&Gn("codigoSAP"),Dn("codigoBaader")&&Gn("codigoBaader"),Dn("textoBreve")&&Gn("textoBreve"),Dn("descripcion")&&Gn("descripcion"),Dn("nombreManual")&&Gn("nombreManual"),Dn("tagsSolicitud")&&Gn("tagsSolicitud"),Dn("tagsStock")&&Gn("tagsStock"),Dn("cantidadSolicitada")&&Gn("cantidadSolicitada"),Dn("totalSolicitadoUSD")&&Gn("totalSolicitadoUSD"),Dn("cantidadStockBodega")&&Gn("cantidadStockBodega"),Dn("totalStockUSD")&&Gn("totalStockUSD"),Dn("valorUnitario")&&Gn("valorUnitario"),Dn("totalUSD")&&Gn("totalUSD"),Dn("acciones")&&Gn("acciones")]})}),jsxRuntimeExports.jsxs("tbody",{children:[xa.map(gn=>{var On,Un;const _n=gn.vinculosManual&&gn.vinculosManual.length>0,jn=(as==null?void 0:as.id)===gn.id;return jsxRuntimeExports.jsxs("tr",{id:`repuesto-${gn.id}`,onClick:()=>rr((er==null?void 0:er.id)===gn.id?null:gn),className:`
                    border-b cursor-pointer transition-colors group
                    ${jn?"bg-orange-100/50 dark:bg-orange-900/30 border-orange-300 border-2":(er==null?void 0:er.id)===gn.id?"bg-primary-50 dark:bg-primary-900/30 border-primary-200 dark:border-primary-700":"border-gray-100 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}
                  `,children:[Dn("codigoSAP")&&jsxRuntimeExports.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-bold text-gray-800 dark:text-gray-200",children:gn.codigoSAP}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.codigoSAP,`sap-${gn.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo SAP",children:_r===`sap-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})}),Dn("codigoBaader")&&jsxRuntimeExports.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-sm text-primary-700 dark:text-primary-400 font-bold",children:gn.codigoBaader}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.codigoBaader,`baader-${gn.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo Baader",children:_r===`baader-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})}),Dn("textoBreve")&&jsxRuntimeExports.jsx("td",{className:"px-3 py-3 min-w-[200px] max-w-[300px]",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-200 line-clamp-2",title:gn.textoBreve,children:gn.textoBreve}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.textoBreve,`sap-${gn.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:_r===`sap-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]})}),Dn("descripcion")&&jsxRuntimeExports.jsx("td",{className:"px-3 py-3 min-w-[250px] max-w-[400px]",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[gn.descripcion?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",title:gn.descripcion,children:gn.descripcion}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.descripcion,`desc-${gn.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:_r===`desc-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"}),!_n&&cr&&jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),cr(gn)},className:"flex-shrink-0 p-1 rounded bg-amber-100 text-amber-600 hover:bg-amber-200 transition-colors",title:"Marcar ubicacin en manual",children:jsxRuntimeExports.jsx(MapPin,{className:"w-3 h-3"})})]})})}),Dn("nombreManual")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:gn.nombreManual?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:gn.nombreManual,children:gn.nombreManual}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.nombreManual||"",`manual-${gn.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:_r===`manual-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),Dn("tagsSolicitud")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:gn.tags&&gn.tags.filter(Hn=>isTagAsignado(Hn)&&Hn.tipo==="solicitud").length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:gn.tags.filter(Hn=>isTagAsignado(Hn)&&Hn.tipo==="solicitud").map((Hn,Kn)=>{const _i=Hn;return jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",title:`${_i.nombre} (solicitud: ${_i.cantidad})`,children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3"}),_i.nombre.length>15?_i.nombre.substring(0,15)+"...":_i.nombre,jsxRuntimeExports.jsxs("span",{className:"text-[10px] opacity-70",children:["(",_i.cantidad,")"]})]},`${_i.nombre}-${Kn}`)})}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),Dn("tagsStock")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:gn.tags&&gn.tags.filter(Hn=>isTagAsignado(Hn)&&Hn.tipo==="stock").length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:gn.tags.filter(Hn=>isTagAsignado(Hn)&&Hn.tipo==="stock").map((Hn,Kn)=>{const _i=Hn;return jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-green-50 text-green-700 border border-green-200",title:`${_i.nombre} (stock: ${_i.cantidad})`,children:[jsxRuntimeExports.jsx(Package,{className:"w-3 h-3"}),_i.nombre.length>15?_i.nombre.substring(0,15)+"...":_i.nombre,jsxRuntimeExports.jsxs("span",{className:"text-[10px] opacity-70",children:["(",_i.cantidad,")"]})]},`${_i.nombre}-${Kn}`)})}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),Dn("cantidadSolicitada")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:fn?jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),An(gn,"cantidadSolicitada")},className:"text-xl font-bold px-4 py-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 transition-colors min-w-[60px]",title:`Cantidad en "${fn}" - Ver historial`,children:Nn(gn,"solicitud")}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"--"})}),Dn("totalSolicitadoUSD")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-base font-bold text-blue-600 dark:text-blue-400 whitespace-nowrap",children:["$",(gn.valorUnitario*Nn(gn,"solicitud")).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"--"})}),Dn("cantidadStockBodega")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:fn?(()=>{const Hn=Nn(gn,"stock");return jsxRuntimeExports.jsx("button",{onClick:Kn=>{Kn.stopPropagation(),An(gn,"cantidadStockBodega")},className:`
                            px-4 py-2 rounded-lg text-xl font-bold transition-colors min-w-[60px]
                            ${Hn>0?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/60":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,title:`Stock en "${fn}" - Ver historial`,children:Hn})})():jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"--"})}),Dn("totalStockUSD")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-base font-bold text-green-600 dark:text-green-400 whitespace-nowrap",children:["$",(gn.valorUnitario*Nn(gn,"stock")).toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"--"})}),Dn("valorUnitario")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:["$",((On=gn.valorUnitario)==null?void 0:On.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),Dn("totalUSD")&&jsxRuntimeExports.jsx("td",{className:"px-2 py-3 text-center",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-lg font-black text-gray-900 dark:text-white whitespace-nowrap bg-yellow-50 dark:bg-yellow-900/30 px-3 py-1 rounded-lg",children:["$",(gn.valorUnitario*Nn(gn,"solicitud")+gn.valorUnitario*Nn(gn,"stock")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500",children:"--"})}),Dn("acciones")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ar(gn)},className:`p-2 rounded-lg transition-colors ${_n?"hover:bg-primary-100 text-primary-600":"hover:bg-gray-100 text-gray-400"}`,title:_n?"Ver en manual":"Ir al manual",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),sr(gn)},className:`p-2 rounded-lg transition-colors ${((Un=gn.fotosReales)==null?void 0:Un.length)>0?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-300"}`,title:"Fotos reales",children:jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),lr(gn)},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors",title:"Ver historial completo",children:jsxRuntimeExports.jsx(History,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),nr(gn)},className:"p-2 rounded-lg hover:bg-blue-50 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:jsxRuntimeExports.jsx(Pen,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ir(gn)},className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]})})]},gn.id)}),xa.length>0&&jsxRuntimeExports.jsxs("tr",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/30 dark:to-blue-900/30 border-t-2 border-purple-300 dark:border-purple-700 font-bold",children:[Dn("codigoSAP")&&jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 text-left",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-bold",children:"TOTALES"}),!fn&&jsxRuntimeExports.jsx("span",{className:"block text-xs font-normal text-amber-600 dark:text-amber-400",children:"Selecciona contexto"})]}),Dn("codigoBaader")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("textoBreve")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("descripcion")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("nombreManual")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("tagsSolicitud")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("tagsStock")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("cantidadSolicitada")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:fn?jsxRuntimeExports.jsx("span",{className:"inline-block px-4 py-2 bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 rounded-lg font-bold",children:$n.totalSolicitado}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"--"})}),Dn("totalSolicitadoUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-blue-700 dark:text-blue-300 font-bold",title:" (Valor Unitario  Cantidad Solicitada)",children:["$",$n.totalSolicitadoUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"--"})}),Dn("cantidadStockBodega")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-center",children:fn?jsxRuntimeExports.jsx("span",{className:"inline-block px-4 py-2 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200 rounded-lg font-bold",children:$n.totalBodega}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"--"})}),Dn("totalStockUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-green-700 dark:text-green-300 font-bold",title:" (Valor Unitario  Stock en Bodega)",children:["$",$n.totalStockUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"--"})}),Dn("valorUnitario")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"}),Dn("totalUSD")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4 text-right",children:fn?jsxRuntimeExports.jsxs("span",{className:"text-purple-700 dark:text-purple-300 font-bold text-lg",title:"Total Solicitado + Total Stock",children:["$",$n.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"--"})}),Dn("acciones")&&jsxRuntimeExports.jsx("td",{className:"px-4 py-4"})]})]})]}),ss.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[jsxRuntimeExports.jsx(Package,{className:"w-16 h-16 mb-4 opacity-40"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),pr&&jsxRuntimeExports.jsx("button",{onClick:()=>gr(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto lg:hidden",children:[jsxRuntimeExports.jsx("div",{className:"p-3 space-y-3",children:xa.map(gn=>{var On,Un;const _n=gn.vinculosManual&&gn.vinculosManual.length>0,jn=(as==null?void 0:as.id)===gn.id;return jsxRuntimeExports.jsxs("div",{onClick:()=>rr((er==null?void 0:er.id)===gn.id?null:gn),className:`
                  bg-white dark:bg-gray-800 rounded-2xl border-2 p-4 cursor-pointer transition-all shadow-sm
                  ${jn?"border-orange-400 dark:border-orange-500 bg-orange-50 dark:bg-orange-900/20 shadow-orange-200 dark:shadow-orange-900/30 shadow-md":(er==null?void 0:er.id)===gn.id?"border-primary-500 dark:border-primary-400 shadow-lg shadow-primary-200 dark:shadow-primary-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-md"}
                `,children:[jn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-orange-600 dark:text-orange-400 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),"ltimo editado"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide",children:"SAP"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-700 px-2.5 py-1 rounded-lg font-bold text-gray-800 dark:text-gray-200",children:gn.codigoSAP}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.codigoSAP,`sap-m-${gn.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-400 transition-colors",children:_r===`sap-m-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wide",children:"Part#"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-sm text-primary-600 dark:text-primary-400 font-bold",children:gn.codigoBaader}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ls(gn.codigoBaader,`baader-m-${gn.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-400 transition-colors",children:_r===`baader-m-${gn.id}`?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3.5 h-3.5"})})]})]}),!_n&&cr&&jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),cr(gn)},className:"p-2.5 rounded-xl bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400",title:"Marcar en manual",children:jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-3 mb-3 space-y-1.5",children:[gn.textoBreve&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 font-medium line-clamp-2",children:gn.textoBreve}),gn.descripcion&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:gn.descripcion}),gn.nombreManual&&gn.nombreManual!==gn.textoBreve&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-primary-600 dark:text-primary-400 italic",children:["Manual: ",gn.nombreManual]}),!gn.textoBreve&&!gn.descripcion&&!gn.nombreManual&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 italic",children:"Sin descripcin"})]}),gn.tags&&gn.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:gn.tags.filter(Hn=>fn?isTagAsignado(Hn)?Hn.nombre===fn:!1:!0).map((Hn,Kn)=>{const _i=isTagAsignado(Hn)?Hn:null,ys=(_i==null?void 0:_i.tipo)==="solicitud";return jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-semibold ${ys?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-700"}`,children:[ys?jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Package,{className:"w-3 h-3"}),_i?`${_i.nombre} (${_i.cantidad})`:String(Hn)]},`${getTagNombre(Hn)}-${Kn}`)})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(!fn||mn==="solicitud"||!mn)&&jsxRuntimeExports.jsxs("div",{className:`rounded-xl p-3 ${fn?"bg-blue-50 border border-blue-200":"bg-gray-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block font-medium",children:fn?`Solicitada "${fn}"`:"Cant. Solicitada"}),jsxRuntimeExports.jsx("span",{className:`text-2xl font-black ${fn?"text-blue-700":"text-gray-800"}`,children:fn?Nn(gn,"solicitud"):"--"})]}),(!fn||mn==="stock"||!mn)&&(()=>{const Hn=fn?Nn(gn,"stock"):0;return jsxRuntimeExports.jsxs("div",{className:`rounded-xl p-3 ${fn?Hn>0?"bg-green-50 border border-green-200":"bg-orange-50 border border-orange-200":"bg-gray-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block font-medium",children:fn?`Stock "${fn}"`:"Stock Bodega"}),jsxRuntimeExports.jsx("span",{className:`text-2xl font-black ${fn?Hn>0?"text-green-700":"text-orange-600":"text-gray-500"}`,children:fn?Hn:"--"})]})})(),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block font-medium",children:"V. Unitario"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-bold text-gray-700 dark:text-gray-200",children:["$",((On=gn.valorUnitario)==null?void 0:On.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]}),jsxRuntimeExports.jsxs("div",{className:`rounded-xl p-3 ${fn?"bg-yellow-50 border border-yellow-300":"bg-primary-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 block font-medium",children:fn?"Total Contexto":"Total General USD"}),jsxRuntimeExports.jsx("span",{className:`text-lg font-black ${fn?"text-yellow-700 dark:text-yellow-400":"text-primary-700 dark:text-primary-400"}`,children:fn?`$${(gn.valorUnitario*Nn(gn,"solicitud")+gn.valorUnitario*Nn(gn,"stock")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"--"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ar(gn)},className:`p-2.5 rounded-xl transition-colors ${_n?"bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500"}`,title:"Ver en manual",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),sr(gn)},className:`p-2.5 rounded-xl transition-colors ${((Un=gn.fotosReales)==null?void 0:Un.length)>0?"bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-700 text-gray-300 dark:text-gray-600"}`,title:"Fotos",children:jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),lr(gn)},className:"p-2.5 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors",title:"Historial",children:jsxRuntimeExports.jsx(History,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),nr(gn)},className:"p-2.5 rounded-xl bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 transition-colors",title:"Editar",children:jsxRuntimeExports.jsx(Pen,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Hn=>{Hn.stopPropagation(),ir(gn)},className:"p-2.5 rounded-xl bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400 transition-colors",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]})]})]},gn.id)})}),ss.length===0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[jsxRuntimeExports.jsx(Package,{className:"w-16 h-16 mb-4 opacity-40"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),pr&&jsxRuntimeExports.jsx("button",{onClick:()=>gr(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),kn>1&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Mostrando ",Qn+1,"-",Math.min(Qn+ITEMS_PER_PAGE,ss.length)," de ",ss.length]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>vr(gn=>Math.max(1,gn-1)),disabled:yr===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,kn)},(gn,_n)=>{let jn;return kn<=5||yr<=3?jn=_n+1:yr>=kn-2?jn=kn-4+_n:jn=yr-2+_n,jsxRuntimeExports.jsx("button",{onClick:()=>vr(jn),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${yr===jn?"bg-primary-600 text-white":"hover:bg-white border border-gray-300"}`,children:jn},jn)})}),jsxRuntimeExports.jsx("button",{onClick:()=>vr(gn=>Math.min(kn,gn+1)),disabled:yr===kn,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsx(HistorialCampoModal,{isOpen:qn.isOpen,onClose:()=>ds({...qn,isOpen:!1}),campo:qn.campo,historial:qn.historial}),fn&&mn&&fr&&jsxRuntimeExports.jsx(AddToListModal,{isOpen:Gr,onClose:()=>Fr(!1),allRepuestos:tr,currentContextTag:fn,currentContextTipo:mn,onAddToList:(gn,_n)=>{fr(gn,fn,_n,mn)}}),jsxRuntimeExports.jsx(CreateContextModal,{isOpen:Xr,onClose:()=>Ur(!1),onContextCreated:(gn,_n)=>{Lr(jn=>({...jn,[_n]:gn})),Ur(!1)}})]})}function Modal({isOpen:tr,onClose:er,children:rr,title:nr,size:ir="md"}){const ar=reactExports.useRef(null);reactExports.useEffect(()=>{const cr=ur=>{ur.key==="Escape"&&er()};return tr&&(document.addEventListener("keydown",cr),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",cr),document.body.style.overflow="unset"}},[tr,er]);const sr=reactExports.useCallback(cr=>{ar.current=cr.target},[]),lr=reactExports.useCallback(cr=>{if(ar.current!==cr.target)return;const ur=window.getSelection();ur&&ur.toString().trim().length>0||er()},[er]);if(!tr)return null;const or={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4 md:mx-8"};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onMouseDown:sr,onClick:lr,children:jsxRuntimeExports.jsxs("div",{className:`
          modal-content bg-white rounded-lg shadow-xl w-full ${or[ir]}
          max-h-[90vh] overflow-hidden flex flex-col animate-slideIn
          md:rounded-lg md:max-h-[85vh]
        `,onClick:cr=>cr.stopPropagation(),onMouseDown:cr=>cr.stopPropagation(),children:[nr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:nr}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-auto p-6",children:rr})]})})}function ToastContainer({toasts:tr,onRemove:er}){return tr.length===0?null:jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:tr.map(rr=>jsxRuntimeExports.jsx(Toast,{toast:rr,onRemove:er},rr.id))})}function Toast({toast:tr,onRemove:er}){const rr={success:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-500"}),error:jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-red-500"}),warning:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-yellow-500"}),info:jsxRuntimeExports.jsx(Info,{className:"w-5 h-5 text-blue-500"})},nr={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return jsxRuntimeExports.jsxs("div",{className:`
        toast flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg
        ${nr[tr.type]}
      `,children:[rr[tr.type],jsxRuntimeExports.jsx("p",{className:"flex-1 text-sm text-gray-700",children:tr.message}),jsxRuntimeExports.jsx("button",{onClick:()=>er(tr.id),className:"p-1 rounded hover:bg-black/5 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-400"})})]})}function Button({children:tr,variant:er="primary",size:rr="md",loading:nr=!1,icon:ir,className:ar="",disabled:sr,...lr}){const or="inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",cr={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},ur={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return jsxRuntimeExports.jsxs("button",{className:`${or} ${cr[er]} ${ur[rr]} ${ar}`,disabled:sr||nr,...lr,children:[nr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):ir||null,tr]})}const Input=reactExports.forwardRef(({label:tr,error:er,helperText:rr,className:nr="",...ir},ar)=>jsxRuntimeExports.jsxs("div",{className:"w-full",children:[tr&&jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:tr}),jsxRuntimeExports.jsx("input",{ref:ar,className:`
            w-full px-3 py-2 border rounded-lg text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            ${er?"border-red-300 bg-red-50":"border-gray-300 bg-white"}
            ${nr}
          `,...ir}),er&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-red-500",children:er}),rr&&!er&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-gray-500",children:rr})]}));Input.displayName="Input";function TagEventSelector({tags:tr,onTagsChange:er,valorUnitario:rr}){const{tags:nr,addTag:ir,getTagTipo:ar}=useTags(),[sr,lr]=reactExports.useState(!1),[or,cr]=reactExports.useState(""),[ur,dr]=reactExports.useState(0),[hr,fr]=reactExports.useState(""),mr=tr.map(_r=>{if(isTagAsignado(_r))return _r;const xr=ar(_r)||"solicitud";return{nombre:_r,tipo:xr,cantidad:0,fecha:new Date}}),br=nr.filter(_r=>!mr.some(Rr=>Rr.nombre===_r.nombre)),pr=hr?ar(hr):or.trim()?or.toLowerCase().includes("stock")?"stock":"solicitud":null,gr=()=>{const _r=hr||or.trim();if(!_r||ur<0)return;const xr=ar(_r)||(_r.toLowerCase().includes("stock")?"stock":"solicitud"),Rr={nombre:_r,tipo:xr,cantidad:ur,fecha:new Date};nr.some(Ir=>Ir.nombre===_r)||ir(_r,xr);const Cr=[...mr],Tr=Cr.findIndex(Ir=>Ir.nombre===_r);Tr>=0?Cr[Tr]=Rr:Cr.push(Rr),er(Cr),cr(""),dr(0),fr(""),lr(!1)},yr=_r=>{const xr=mr.filter(Rr=>Rr.nombre!==_r);er(xr)},vr=(_r,xr)=>{const Rr=mr.map(Cr=>Cr.nombre===_r?{...Cr,cantidad:xr}:Cr);er(Rr)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4"}),"Tags / Eventos"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>lr(!sr),className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Asignar tag"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 min-h-[40px]",children:mr.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-500 italic py-2",children:"Sin tags asignados - Los valores no se mostrarn hasta seleccionar un contexto"}):mr.map(_r=>jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${_r.tipo==="solicitud"?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800":"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[_r.tipo==="solicitud"?jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5 text-blue-500"}):jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-green-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:_r.nombre}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${_r.tipo==="solicitud"?"bg-blue-200 text-blue-800":"bg-green-200 text-green-800"}`,children:_r.tipo==="solicitud"?" Solicitud":" Stock"})]}),_r.fecha&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),(()=>{try{const xr=_r.fecha instanceof Date?_r.fecha:new Date(_r.fecha);return isNaN(xr.getTime())?"":xr.toLocaleDateString("es-CL")}catch{return""}})()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:_r.tipo==="solicitud"?"Cant:":"Stock:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:_r.cantidad,onChange:xr=>vr(_r.nombre,parseInt(xr.target.value)||0),className:"w-20 px-2 py-1 text-center bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["$",(_r.cantidad*rr).toLocaleString("en-US",{minimumFractionDigits:0})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>yr(_r.nombre),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-500 transition-colors",title:"Quitar tag",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})]},_r.nombre))}),sr&&jsxRuntimeExports.jsxs("div",{className:"border border-primary-200 dark:border-primary-800 rounded-lg p-4 bg-primary-50 dark:bg-primary-900/20 space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Asignar evento/tag"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Tag/Evento:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{value:hr,onChange:_r=>{fr(_r.target.value),cr("")},className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Seleccionar existente --"}),br.map(_r=>jsxRuntimeExports.jsxs("option",{value:_r.nombre,children:[_r.tipo==="solicitud"?"":""," ",_r.nombre]},_r.nombre))]}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 self-center",children:"o"}),jsxRuntimeExports.jsx("input",{type:"text",value:or,onChange:_r=>{cr(_r.target.value),fr("")},placeholder:"Crear nuevo...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-primary-500"})]})]}),pr&&jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg text-sm ${pr==="solicitud"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[pr==="solicitud"?jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["Este tag es de tipo ",jsxRuntimeExports.jsx("strong",{children:pr==="solicitud"?"Solicitud":"Stock"}),or.trim()&&!nr.some(_r=>_r.nombre===or.trim())&&jsxRuntimeExports.jsx("span",{className:"text-xs ml-2",children:"(nuevo tag, tipo inferido del nombre)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:pr==="stock"?"Cantidad en Stock:":"Cantidad Solicitada:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:ur,onChange:_r=>dr(parseInt(_r.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-primary-500",placeholder:pr==="stock"?"Cantidad en bodega":"Cantidad a solicitar"}),ur>0&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Total: $",(ur*rr).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{lr(!1),cr(""),dr(0),fr("")},className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:gr,disabled:!hr&&!or.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Asignar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3 text-blue-500"})," Solicitud = cantidad a pedir"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Package,{className:"w-3 h-3 text-green-500"})," Stock = inventario en bodega"]})]})]})}function RepuestoForm({isOpen:tr,onClose:er,onSave:rr,repuesto:nr}){const[ir,ar]=reactExports.useState(!1),[sr,lr]=reactExports.useState({codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]});reactExports.useEffect(()=>{lr(nr?{codigoSAP:nr.codigoSAP,textoBreve:nr.textoBreve,descripcion:nr.descripcion||"",nombreManual:nr.nombreManual||"",codigoBaader:nr.codigoBaader,cantidadSolicitada:nr.cantidadSolicitada,valorUnitario:nr.valorUnitario,cantidadStockBodega:nr.cantidadStockBodega,tags:nr.tags||[]}:{codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]})},[nr,tr]);const or=async dr=>{dr.preventDefault(),ar(!0);try{await rr(sr),er()}catch(hr){console.error("Error al guardar:",hr)}finally{ar(!1)}},cr=(dr,hr)=>{lr(fr=>({...fr,[dr]:hr}))},ur=dr=>{lr(hr=>({...hr,tags:dr}))};return jsxRuntimeExports.jsx(Modal,{isOpen:tr,onClose:er,title:nr?"Editar Repuesto":"Nuevo Repuesto",size:"lg",children:jsxRuntimeExports.jsxs("form",{onSubmit:or,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{label:"Cdigo SAP",value:sr.codigoSAP,onChange:dr=>cr("codigoSAP",dr.target.value),placeholder:"Ej: 10038163",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Cdigo Baader",value:sr.codigoBaader,onChange:dr=>cr("codigoBaader",dr.target.value),placeholder:"Ej: 200.1234",required:!0})]}),jsxRuntimeExports.jsx(Input,{label:"Descripcin SAP (Texto Breve)",value:sr.textoBreve,onChange:dr=>cr("textoBreve",dr.target.value),placeholder:"Descripcin del repuesto segn SAP",required:!0}),jsxRuntimeExports.jsx(Input,{label:"Nombre segn Manual (opcional)",value:sr.nombreManual||"",onChange:dr=>cr("nombreManual",dr.target.value),placeholder:"Nombre del repuesto segn el manual Baader"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin Extendida (opcional)"}),jsxRuntimeExports.jsx("textarea",{value:sr.descripcion||"",onChange:dr=>cr("descripcion",dr.target.value),placeholder:"Notas adicionales, observaciones o detalles importantes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",rows:2})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4",children:jsxRuntimeExports.jsx(Input,{label:"Valor Unitario (USD)",type:"number",min:"0",step:"0.01",value:sr.valorUnitario,onChange:dr=>cr("valorUnitario",parseFloat(dr.target.value)||0),required:!0})}),jsxRuntimeExports.jsx(TagEventSelector,{tags:sr.tags||[],onTagsChange:ur,valorUnitario:sr.valorUnitario}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",onClick:er,children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{type:"submit",loading:ir,icon:jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),children:nr?"Guardar Cambios":"Crear Repuesto"})]})]})})}function HistorialModal({isOpen:tr,onClose:er,repuesto:rr,getHistorial:nr}){const[ir,ar]=reactExports.useState([]),[sr,lr]=reactExports.useState(!1);reactExports.useEffect(()=>{tr&&rr&&(lr(!0),nr(rr.id).then(ar).finally(()=>lr(!1)))},[tr,rr,nr]);const or=reactExports.useMemo(()=>{const br=new Map;return ir.forEach(pr=>{const gr=new Date(pr.fecha).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"});br.has(gr)||br.set(gr,[]),br.get(gr).push(pr)}),Array.from(br.entries()).map(([pr,gr])=>({fecha:pr,items:gr.sort((yr,vr)=>new Date(vr.fecha).getTime()-new Date(yr.fecha).getTime())}))},[ir]),cr=br=>new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit"}).format(br),ur=br=>({codigoSAP:"Cdigo SAP",textoBreve:"Descripcin SAP",descripcion:"Descripcin Extendida",nombreManual:"Nombre Manual",codigoBaader:"Cdigo Baader",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",total:"Total",tags:"Tags",creacion:"Creacin"})[br]||br,dr=br=>{switch(br){case"cantidadSolicitada":case"cantidadStockBodega":return jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"});case"valorUnitario":case"total":return jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"});case"codigoSAP":case"codigoBaader":return jsxRuntimeExports.jsx(Hash$2,{className:"w-4 h-4"});case"creacion":return jsxRuntimeExports.jsx(CirclePlus,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}},hr=br=>{switch(br){case"cantidadSolicitada":return"bg-blue-100 text-blue-700 border-blue-200";case"cantidadStockBodega":return"bg-green-100 text-green-700 border-green-200";case"valorUnitario":case"total":return"bg-amber-100 text-amber-700 border-amber-200";case"creacion":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},fr=br=>{if(!["cantidadSolicitada","cantidadStockBodega","valorUnitario","total"].includes(br.campo))return null;const gr=Number(br.valorAnterior)||0,yr=Number(br.valorNuevo)||0;return yr>gr?jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 text-green-500"}):yr<gr?jsxRuntimeExports.jsx(TrendingDown,{className:"w-3 h-3 text-red-500"}):jsxRuntimeExports.jsx(Minus,{className:"w-3 h-3 text-gray-400"})},mr=(br,pr)=>{if(pr==null||pr==="")return"-";if(br==="valorUnitario"||br==="total"){const gr=Number(pr);return isNaN(gr)?String(pr):`$${gr.toLocaleString("en-US",{minimumFractionDigits:2})}`}return String(pr)};return jsxRuntimeExports.jsxs(Modal,{isOpen:tr,onClose:er,title:"Historial de Cambios",size:"lg",children:[rr&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-mono font-semibold text-gray-800",children:rr.codigoBaader}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:rr.textoBreve||rr.descripcion})]})]})}),sr?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsx("div",{className:"spinner"})}):ir.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[jsxRuntimeExports.jsx(Clock,{className:"w-16 h-16 mb-4 opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No hay cambios registrados"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Los cambios aparecern aqu cuando edites este repuesto"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:or.map(br=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 bg-white py-2 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2",children:br.fecha}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative pl-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:br.items.map(pr=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`absolute -left-4 top-3 w-3 h-3 rounded-full border-2 bg-white ${pr.campo==="creacion"?"border-purple-500":"border-primary-500"}`}),jsxRuntimeExports.jsxs("div",{className:`rounded-lg border p-3 ${hr(pr.campo)}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[dr(pr.campo),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:ur(pr.campo)}),fr(pr)]}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-70",children:cr(pr.fecha)})]}),pr.campo==="creacion"?jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Repuesto creado"}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-white/50 rounded line-through opacity-70",children:mr(pr.campo,pr.valorAnterior)}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 opacity-50"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-white/70 rounded font-medium",children:mr(pr.campo,pr.valorNuevo)})]})]})]},pr.id))})]})]},br.fecha))}),ir.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[ir.length," cambio",ir.length!==1?"s":""," registrado",ir.length!==1?"s":""]})})]})}function DeleteConfirmModal({isOpen:tr,onClose:er,onConfirm:rr,repuesto:nr,loading:ir}){return jsxRuntimeExports.jsx(Modal,{isOpen:tr,onClose:er,size:"sm",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-red-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Eliminar repuesto?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-2",children:"Ests por eliminar el repuesto:"}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[jsxRuntimeExports.jsx("p",{className:"font-mono text-sm text-primary-600",children:nr==null?void 0:nr.codigoBaader}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 truncate",children:nr==null?void 0:nr.textoBreve})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:er,className:"flex-1",children:"Cancelar"}),jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:rr,loading:ir,icon:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),className:"flex-1",children:"Eliminar"})]})]})})}function TagManagerModal({isOpen:tr,onClose:er,repuestos:rr,onRenameTag:nr,onDeleteTag:ir}){const{tags:ar,addTag:sr,removeTag:lr,renameTag:or,changeTagTipo:cr,loading:ur,addMultipleTags:dr}=useTags(),[hr,fr]=reactExports.useState(null),[mr,br]=reactExports.useState(""),[pr,gr]=reactExports.useState(null),[yr,vr]=reactExports.useState(!1),[_r,xr]=reactExports.useState(null),[Rr,Cr]=reactExports.useState(""),[Tr,Ir]=reactExports.useState("solicitud"),[Lr,Nr]=reactExports.useState(!1),Or=reactExports.useMemo(()=>{const zr=new Map;return rr.forEach(Gr=>{var Fr;(Fr=Gr.tags)==null||Fr.forEach(Xr=>{const Ur=getTagNombre(Xr);zr.set(Ur,(zr.get(Ur)||0)+1)})}),Array.from(zr.entries()).map(([Gr,Fr])=>({name:Gr,count:Fr})).sort((Gr,Fr)=>Gr.name.localeCompare(Fr.name))},[rr]);reactExports.useEffect(()=>{if(tr&&!ur&&Or.length>0){const Gr=Or.map(Fr=>Fr.name).filter(Fr=>!ar.some(Xr=>Xr.nombre===Fr));if(Gr.length>0){console.log("Sincronizando tags faltantes:",Gr);const Fr=Gr.map(Xr=>({nombre:Xr,tipo:Xr.toLowerCase().includes("stock")?"stock":"solicitud"}));dr(Fr)}}},[tr,ur,Or,ar,dr]);const Pr=zr=>{fr(zr),br(zr),xr(null)},Mr=()=>{fr(null),br("")},jr=async()=>{if(!hr||!mr.trim())return;const zr=mr.trim();if(zr===hr){Mr();return}const Gr=Or.some(Xr=>Xr.name.toLowerCase()===zr.toLowerCase()&&Xr.name!==hr),Fr=ar.some(Xr=>Xr.nombre.toLowerCase()===zr.toLowerCase()&&Xr.nombre!==hr);if(Gr||Fr){xr({type:"error",text:"Ya existe un tag con ese nombre"});return}vr(!0);try{await or(hr,zr);const Xr=Or.find(Ur=>Ur.name===hr);if(Xr&&Xr.count>0){const Ur=await nr(hr,zr);xr({type:"success",text:`Tag renombrado en ${Ur} repuesto(s)`})}else xr({type:"success",text:"Tag actualizado"});Mr()}catch{xr({type:"error",text:"Error al renombrar el tag"})}finally{vr(!1)}},wr=zr=>{gr(zr),xr(null)},Er=()=>{gr(null)},Ar=async()=>{if(pr){vr(!0);try{await lr(pr);const zr=Or.find(Gr=>Gr.name===pr);if(zr&&zr.count>0){const Gr=await ir(pr);xr({type:"success",text:`Tag eliminado de ${Gr} repuesto(s)`})}else xr({type:"success",text:"Tag eliminado"});gr(null)}catch{xr({type:"error",text:"Error al eliminar el tag"})}finally{vr(!1)}}},Sr=async()=>{const zr=Rr.trim();if(!zr)return;const Gr=Or.some(Xr=>Xr.name.toLowerCase()===zr.toLowerCase()),Fr=ar.some(Xr=>Xr.nombre.toLowerCase()===zr.toLowerCase());if(Gr||Fr){xr({type:"error",text:"Ya existe un tag con ese nombre"});return}vr(!0);try{await sr(zr,Tr),Cr(""),Ir("solicitud"),Nr(!1),xr({type:"success",text:`Tag "${zr}" agregado como ${Tr==="solicitud"?"Solicitud":"Stock"}`})}catch{xr({type:"error",text:"Error al agregar el tag"})}finally{vr(!1)}},Dr=async(zr,Gr)=>{vr(!0);try{await cr(zr,Gr),xr({type:"success",text:`Tag "${zr}" cambiado a ${Gr==="solicitud"?"Solicitud":"Stock"}`})}catch{xr({type:"error",text:"Error al cambiar el tipo"})}finally{vr(!1)}};if(!tr)return null;const Wr=(zr,Gr)=>{const{nombre:Fr,tipo:Xr}=zr;return hr===Fr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[jsxRuntimeExports.jsx("input",{type:"text",value:mr,onChange:Ur=>br(Ur.target.value),className:"flex-1 px-3 py-1.5 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",autoFocus:!0,onKeyDown:Ur=>{Ur.key==="Enter"&&jr(),Ur.key==="Escape"&&Mr()}}),jsxRuntimeExports.jsx("button",{onClick:()=>jr(),disabled:yr,className:"p-2 text-green-600 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"Guardar",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:Mr,disabled:yr,className:"p-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Cancelar",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):pr===Fr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:['Eliminar "',Fr,'"?']}),Gr!==null&&Gr>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:["(se quitar de ",Gr," repuesto",Gr!==1?"s":"",")"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ar(),disabled:yr,className:"px-3 py-1.5 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Eliminar"}),jsxRuntimeExports.jsx("button",{onClick:Er,disabled:yr,className:"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancelar"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[Xr==="solicitud"?jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4 text-blue-500"}):jsxRuntimeExports.jsx(Package,{className:"w-4 h-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Fr}),jsxRuntimeExports.jsx("button",{onClick:()=>Dr(Fr,Xr==="solicitud"?"stock":"solicitud"),disabled:yr,className:`px-2 py-0.5 rounded-full text-xs font-medium transition-colors ${Xr==="solicitud"?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/50":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50"}`,title:"Click para cambiar tipo",children:Xr==="solicitud"?" Solicitud":" Stock"}),Gr!==null&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-600 px-2 py-0.5 rounded-full",children:[Gr," repuesto",Gr!==1?"s":""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Pr(Fr),className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Editar nombre",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>wr(Fr),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})},$r=ar.filter(zr=>zr.tipo==="solicitud"),Vr=ar.filter(zr=>zr.tipo==="stock");return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:zr=>{var Gr;zr.target===zr.currentTarget&&!((Gr=window.getSelection())!=null&&Gr.toString())&&er()},children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onMouseDown:zr=>zr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/50 rounded-lg",children:jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Gestor de Tags/Eventos"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ar.length," tags (",$r.length," solicitudes, ",Vr.length," stock)  ",Or.reduce((zr,Gr)=>zr+Gr.count,0)," asignaciones"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),_r&&jsxRuntimeExports.jsx("div",{className:`px-5 py-3 flex-shrink-0 ${_r.type==="success"?"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:_r.text}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[Lr?jsxRuntimeExports.jsxs("div",{className:"p-4 bg-primary-50 dark:bg-primary-900/30 rounded-lg border border-primary-200 dark:border-primary-700",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-3",children:jsxRuntimeExports.jsx("input",{type:"text",value:Rr,onChange:zr=>Cr(zr.target.value),placeholder:"Nombre del nuevo tag/evento...",className:"flex-1 px-3 py-2 border border-primary-300 dark:border-primary-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",autoFocus:!0,onKeyDown:zr=>{zr.key==="Enter"&&Sr(),zr.key==="Escape"&&(Nr(!1),Cr(""))}})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Tipo:"}),jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors ${Tr==="solicitud"?"bg-blue-100 dark:bg-blue-900/50 border-2 border-blue-400 dark:border-blue-600":"bg-gray-100 dark:bg-gray-700 border-2 border-transparent hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"newTagTipo",value:"solicitud",checked:Tr==="solicitud",onChange:()=>Ir("solicitud"),className:"sr-only"}),jsxRuntimeExports.jsx(ShoppingCart,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Solicitud"})]}),jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors ${Tr==="stock"?"bg-green-100 dark:bg-green-900/50 border-2 border-green-400 dark:border-green-600":"bg-gray-100 dark:bg-gray-700 border-2 border-transparent hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"newTagTipo",value:"stock",checked:Tr==="stock",onChange:()=>Ir("stock"),className:"sr-only"}),jsxRuntimeExports.jsx(Package,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Sr,disabled:yr||!Rr.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 text-sm font-medium",children:"Crear Tag"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Nr(!1),Cr(""),Ir("solicitud")},className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm",children:"Cancelar"})]})]}):jsxRuntimeExports.jsxs("button",{onClick:()=>Nr(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 hover:border-primary-400 dark:hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Agregar nuevo tag/evento"]}),ur?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Cargando tags..."}):ar.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(Tag,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),jsxRuntimeExports.jsx("p",{children:"No hay tags disponibles"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Crea tags de tipo Solicitud o Stock para organizar tus eventos"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$r.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-700 dark:text-gray-200",children:["Solicitudes (",$r.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:$r.map(zr=>{const Gr=Or.find(Fr=>Fr.name===zr.nombre);return jsxRuntimeExports.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${Gr?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:Wr(zr,(Gr==null?void 0:Gr.count)??null)},zr.nombre)})})]}),Vr.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-gray-700 dark:text-gray-200",children:["Stock (",Vr.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Vr.map(zr=>{const Gr=Or.find(Fr=>Fr.name===zr.nombre);return jsxRuntimeExports.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${Gr?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:Wr(zr,(Gr==null?void 0:Gr.count)??null)},zr.nombre)})})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3 text-blue-500"}),"Solicitud = Cantidad a pedir"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Package,{className:"w-3 h-3 text-green-500"}),"Stock = Inventario en bodega"]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:" Click en el badge de tipo para cambiar entre Solicitud y Stock"})]})]})})}const QUALITY_OPTIONS=[{label:"Mxima",value:.95,description:"Sin prdida visible, mayor tamao"},{label:"Alta",value:.85,description:"Excelente calidad, buen balance"},{label:"Media",value:.7,description:"Buena calidad, archivo ms pequeo"},{label:"Baja",value:.5,description:"Calidad aceptable, muy comprimido"},{label:"Mnima",value:.3,description:"Solo para previsualizaciones"}];async function convertToWebP(tr,er=.85,rr=1920,nr=1920){return new Promise((ir,ar)=>{const sr=new Image,lr=document.createElement("canvas"),or=lr.getContext("2d");sr.onload=()=>{let{width:ur,height:dr}=sr;if(ur>rr&&(dr=dr*rr/ur,ur=rr),dr>nr&&(ur=ur*nr/dr,dr=nr),lr.width=ur,lr.height=dr,!or){ar(new Error("No se pudo crear contexto de canvas"));return}or.drawImage(sr,0,0,ur,dr),lr.toBlob(hr=>{if(!hr){ar(new Error("No se pudo convertir la imagen"));return}const fr=tr.name.replace(/\.[^.]+$/,""),mr=new File([hr],`${fr}.webp`,{type:"image/webp",lastModified:Date.now()});ir(mr)},"image/webp",er)},sr.onerror=()=>{ar(new Error("Error al cargar la imagen"))};const cr=new FileReader;cr.onload=ur=>{var dr;sr.src=(dr=ur.target)==null?void 0:dr.result},cr.onerror=()=>ar(new Error("Error al leer el archivo")),cr.readAsDataURL(tr)})}function formatFileSize(tr){return tr<1024?`${tr} B`:tr<1024*1024?`${(tr/1024).toFixed(1)} KB`:`${(tr/(1024*1024)).toFixed(2)} MB`}async function imageUrlToBase64WithDimensions(tr){return tr?new Promise(er=>{const rr=new Image;rr.crossOrigin="anonymous";const nr=setTimeout(()=>{console.warn("Timeout cargando imagen:",tr.substring(0,50)+"..."),er(null)},15e3);rr.onload=()=>{clearTimeout(nr);try{const ir=rr.naturalWidth||rr.width||200,ar=rr.naturalHeight||rr.height||200;if(ir===0||ar===0){console.warn("Imagen con dimensiones 0"),er(null);return}const sr=document.createElement("canvas");sr.width=ir,sr.height=ar;const lr=sr.getContext("2d");if(lr){lr.drawImage(rr,0,0);const or=sr.toDataURL("image/jpeg",.85);er({base64:or,width:ir,height:ar})}else console.warn("No se pudo obtener context 2d"),er(null)}catch(ir){console.error("Error en canvas:",ir),er(null)}},rr.onerror=ir=>{clearTimeout(nr),console.warn("Error cargando imagen (onerror):",ir),fetchImageAsBase64WithDimensions(tr).then(er)},rr.src=tr}):(console.warn("URL vaca proporcionada"),null)}async function fetchImageAsBase64WithDimensions(tr){try{const er=await fetch(tr,{mode:"cors",credentials:"omit"});if(!er.ok)return console.warn("Fetch failed:",er.status),null;const rr=await er.blob();return new Promise(nr=>{const ir=new FileReader;ir.onloadend=()=>{const ar=ir.result,sr=new Image;sr.onload=()=>{nr({base64:ar,width:sr.naturalWidth||200,height:sr.naturalHeight||200})},sr.onerror=()=>nr({base64:ar,width:200,height:200}),sr.src=ar},ir.onerror=()=>nr(null),ir.readAsDataURL(rr)})}catch(er){return console.error("Error en fetch:",er),null}}async function preloadImagesWithDimensions(tr){const er=new Map,rr=new Set;for(const lr of tr){for(const or of lr.imagenesManual)or.url&&rr.add(or.url);for(const or of lr.fotosReales)or.url&&rr.add(or.url)}console.log("URLs de imgenes encontradas:",rr.size);const nr=Array.from(rr),ir=3;let ar=0,sr=0;for(let lr=0;lr<nr.length;lr+=ir){const or=nr.slice(lr,lr+ir),cr=await Promise.all(or.map(async ur=>{console.log("Procesando imagen:",ur.substring(0,60)+"...");const dr=await imageUrlToBase64WithDimensions(ur);return dr?(console.log(` Imagen OK (${dr.width}x${dr.height})`),ar++):(console.log(" Imagen fall"),sr++),{url:ur,data:dr}}));for(const{url:ur,data:dr}of cr)dr&&er.set(ur,dr)}return console.log(`Imgenes convertidas: ${ar} xito, ${sr} fallos`),er}function ImageQualityModal({isOpen:tr,onClose:er,file:rr,onConfirm:nr}){const[ir,ar]=reactExports.useState(QUALITY_OPTIONS[1]),[sr,lr]=reactExports.useState(null),[or,cr]=reactExports.useState(0),[ur,dr]=reactExports.useState(0),[hr,fr]=reactExports.useState(!1),[mr,br]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!rr||!tr)return;cr(rr.size);const yr=new FileReader;yr.onload=vr=>{var _r;lr((_r=vr.target)==null?void 0:_r.result)},yr.readAsDataURL(rr)},[rr,tr]),reactExports.useEffect(()=>{if(!rr||!tr)return;(async()=>{br(!0);try{const vr=await convertToWebP(rr,ir.value);dr(vr.size)}catch(vr){console.error("Error estimando tamao:",vr),dr(0)}finally{br(!1)}})()},[rr,ir,tr]);const pr=async()=>{if(rr){fr(!0);try{const yr=await convertToWebP(rr,ir.value);nr(yr),er()}catch(yr){console.error("Error optimizando imagen:",yr)}finally{fr(!1)}}},gr=or>0&&ur>0?Math.round((1-ur/or)*100):0;return!tr||!rr?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:er,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-primary-50 to-white",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-5 h-5 text-primary-600"}),"Optimizar Imagen"]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-100 flex justify-center",children:sr?jsxRuntimeExports.jsx("img",{src:sr,alt:"Preview",className:"max-h-40 max-w-full object-contain rounded-lg shadow"}):jsxRuntimeExports.jsx("div",{className:"h-40 w-40 bg-gray-200 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-gray-400"})})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Archivo original:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:rr.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Tamao original:"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:formatFileSize(or)})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecciona la calidad de compresin:"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:QUALITY_OPTIONS.map(yr=>jsxRuntimeExports.jsxs("button",{onClick:()=>ar(yr),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${ir.value===yr.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${ir.value===yr.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:ir.value===yr.value&&jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:yr.label}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Math.round(yr.value*100),"%)"]})]})]})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 ml-8 mt-1",children:yr.description})]},yr.value))})]}),jsxRuntimeExports.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Tamao final (WebP):"}),mr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Calculando..."})]}):jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-600",children:formatFileSize(ur)})]}),!mr&&gr>0&&jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Ahorro:"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-green-600",children:[gr,"%"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:er,disabled:hr,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{onClick:pr,disabled:hr||mr,className:"flex-1 px-4 py-2.5 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2",children:hr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Subir Optimizada"]})})]})]})})}var roundNumber=function(tr,er){return Number(tr.toFixed(er))},checkIsNumber=function(tr,er){return er},handleCallback=function(tr,er,rr){rr&&typeof rr=="function"&&rr(tr,er)},easeOut=function(tr){return-Math.cos(tr*Math.PI)/2+.5},linear$2=function(tr){return tr},easeInQuad=function(tr){return tr*tr},easeOutQuad=function(tr){return tr*(2-tr)},easeInOutQuad=function(tr){return tr<.5?2*tr*tr:-1+(4-2*tr)*tr},easeInCubic=function(tr){return tr*tr*tr},easeOutCubic=function(tr){return--tr*tr*tr+1},easeInOutCubic=function(tr){return tr<.5?4*tr*tr*tr:(tr-1)*(2*tr-2)*(2*tr-2)+1},easeInQuart=function(tr){return tr*tr*tr*tr},easeOutQuart=function(tr){return 1- --tr*tr*tr*tr},easeInOutQuart=function(tr){return tr<.5?8*tr*tr*tr*tr:1-8*--tr*tr*tr*tr},easeInQuint=function(tr){return tr*tr*tr*tr*tr},easeOutQuint=function(tr){return 1+--tr*tr*tr*tr*tr},easeInOutQuint=function(tr){return tr<.5?16*tr*tr*tr*tr*tr:1+16*--tr*tr*tr*tr*tr},animations={easeOut,linear:linear$2,easeInQuad,easeOutQuad,easeInOutQuad,easeInCubic,easeOutCubic,easeInOutCubic,easeInQuart,easeOutQuart,easeInOutQuart,easeInQuint,easeOutQuint,easeInOutQuint},handleCancelAnimationFrame=function(tr){typeof tr=="number"&&cancelAnimationFrame(tr)},handleCancelAnimation=function(tr){tr.mounted&&(handleCancelAnimationFrame(tr.animation),tr.animate=!1,tr.animation=null,tr.velocity=null)};function handleSetupAnimation(tr,er,rr,nr){if(tr.mounted){var ir=new Date().getTime(),ar=1;handleCancelAnimation(tr),tr.animation=function(){if(!tr.mounted)return handleCancelAnimationFrame(tr.animation);var sr=new Date().getTime()-ir,lr=sr/rr,or=animations[er],cr=or(lr);sr>=rr?(nr(ar),tr.animation=null):tr.animation&&(nr(cr),requestAnimationFrame(tr.animation))},requestAnimationFrame(tr.animation)}}function isValidTargetState(tr){var er=tr.scale,rr=tr.positionX,nr=tr.positionY;return!(Number.isNaN(er)||Number.isNaN(rr)||Number.isNaN(nr))}function animate(tr,er,rr,nr){var ir=isValidTargetState(er);if(!(!tr.mounted||!ir)){var ar=tr.setTransformState,sr=tr.transformState,lr=sr.scale,or=sr.positionX,cr=sr.positionY,ur=er.scale-lr,dr=er.positionX-or,hr=er.positionY-cr;rr===0?ar(er.scale,er.positionX,er.positionY):handleSetupAnimation(tr,nr,rr,function(fr){var mr=lr+ur*fr,br=or+dr*fr,pr=cr+hr*fr;ar(mr,br,pr)})}}function getComponentsSizes(tr,er,rr){var nr=tr.offsetWidth,ir=tr.offsetHeight,ar=er.offsetWidth,sr=er.offsetHeight,lr=ar*rr,or=sr*rr,cr=nr-lr,ur=ir-or;return{wrapperWidth:nr,wrapperHeight:ir,newContentWidth:lr,newDiffWidth:cr,newContentHeight:or,newDiffHeight:ur}}var getBounds=function(tr,er,rr,nr,ir,ar,sr){var lr=tr>er?rr*(sr?1:.5):0,or=nr>ir?ar*(sr?1:.5):0,cr=tr-er-lr,ur=lr,dr=nr-ir-or,hr=or;return{minPositionX:cr,maxPositionX:ur,minPositionY:dr,maxPositionY:hr}},calculateBounds=function(tr,er){var rr=tr.wrapperComponent,nr=tr.contentComponent,ir=tr.setup.centerZoomedOut;if(!rr||!nr)throw new Error("Components are not mounted");var ar=getComponentsSizes(rr,nr,er),sr=ar.wrapperWidth,lr=ar.wrapperHeight,or=ar.newContentWidth,cr=ar.newDiffWidth,ur=ar.newContentHeight,dr=ar.newDiffHeight,hr=getBounds(sr,or,cr,lr,ur,dr,!!ir);return hr},boundLimiter=function(tr,er,rr,nr){return nr?tr<er?roundNumber(er,2):tr>rr?roundNumber(rr,2):roundNumber(tr,2):roundNumber(tr,2)},handleCalculateBounds=function(tr,er){var rr=calculateBounds(tr,er);return tr.bounds=rr,rr};function getMouseBoundedPosition(tr,er,rr,nr,ir,ar,sr){var lr=rr.minPositionX,or=rr.minPositionY,cr=rr.maxPositionX,ur=rr.maxPositionY,dr=0,hr=0;sr&&(dr=ir,hr=ar);var fr=boundLimiter(tr,lr-dr,cr+dr,nr),mr=boundLimiter(er,or-hr,ur+hr,nr);return{x:fr,y:mr}}function handleCalculateZoomPositions(tr,er,rr,nr,ir,ar){var sr=tr.transformState,lr=sr.scale,or=sr.positionX,cr=sr.positionY,ur=nr-lr;if(typeof er!="number"||typeof rr!="number")return console.error("Mouse X and Y position were not provided!"),{x:or,y:cr};var dr=or-er*ur,hr=cr-rr*ur,fr=getMouseBoundedPosition(dr,hr,ir,ar,0,0,null);return fr}function checkZoomBounds(tr,er,rr,nr,ir){var ar=ir?nr:0,sr=er-ar;return!Number.isNaN(rr)&&tr>=rr?rr:!Number.isNaN(er)&&tr<=sr?sr:tr}var isPanningStartAllowed=function(tr,er){var rr=tr.setup.panning.excluded,nr=tr.isInitialized,ir=tr.wrapperComponent,ar=er.target,sr="shadowRoot"in ar&&"composedPath"in er,lr=sr?er.composedPath().some(function(ur){return ur instanceof Element?ir==null?void 0:ir.contains(ur):!1}):ir==null?void 0:ir.contains(ar),or=nr&&ar&&lr;if(!or)return!1;var cr=isExcludedNode(ar,rr);return!cr},isPanningAllowed=function(tr){var er=tr.isInitialized,rr=tr.isPanning,nr=tr.setup,ir=nr.panning.disabled,ar=er&&rr&&!ir;return!!ar},handlePanningSetup=function(tr,er){var rr=tr.transformState,nr=rr.positionX,ir=rr.positionY;tr.isPanning=!0;var ar=er.clientX,sr=er.clientY;tr.startCoords={x:ar-nr,y:sr-ir}},handleTouchPanningSetup=function(tr,er){var rr=er.touches,nr=tr.transformState,ir=nr.positionX,ar=nr.positionY;tr.isPanning=!0;var sr=rr.length===1;if(sr){var lr=rr[0].clientX,or=rr[0].clientY;tr.startCoords={x:lr-ir,y:or-ar}}};function handlePanToBounds(tr){var er=tr.transformState,rr=er.positionX,nr=er.positionY,ir=er.scale,ar=tr.setup,sr=ar.disabled,lr=ar.limitToBounds,or=ar.centerZoomedOut,cr=tr.wrapperComponent;if(!(sr||!cr||!tr.bounds)){var ur=tr.bounds,dr=ur.maxPositionX,hr=ur.minPositionX,fr=ur.maxPositionY,mr=ur.minPositionY,br=rr>dr||rr<hr,pr=nr>fr||nr<mr,gr=rr>dr?cr.offsetWidth:tr.setup.minPositionX||0,yr=nr>fr?cr.offsetHeight:tr.setup.minPositionY||0,vr=handleCalculateZoomPositions(tr,gr,yr,ir,tr.bounds,lr||or),_r=vr.x,xr=vr.y;return{scale:ir,positionX:br?_r:rr,positionY:pr?xr:nr}}}function handleNewPosition(tr,er,rr,nr,ir){var ar=tr.setup.limitToBounds,sr=tr.wrapperComponent,lr=tr.bounds,or=tr.transformState,cr=or.scale,ur=or.positionX,dr=or.positionY;if(!(sr===null||lr===null||er===ur&&rr===dr)){var hr=getMouseBoundedPosition(er,rr,lr,ar,nr,ir,sr),fr=hr.x,mr=hr.y;tr.setTransformState(cr,fr,mr)}}var getPanningClientPosition=function(tr,er,rr){var nr=tr.startCoords,ir=tr.transformState,ar=tr.setup.panning,sr=ar.lockAxisX,lr=ar.lockAxisY,or=ir.positionX,cr=ir.positionY;if(!nr)return{x:or,y:cr};var ur=er-nr.x,dr=rr-nr.y,hr=sr?or:ur,fr=lr?cr:dr;return{x:hr,y:fr}},getPaddingValue=function(tr,er){var rr=tr.setup,nr=tr.transformState,ir=nr.scale,ar=rr.minScale,sr=rr.disablePadding;return er>0&&ir>=ar&&!sr?er:0},isVelocityCalculationAllowed=function(tr){var er=tr.mounted,rr=tr.setup,nr=rr.disabled,ir=rr.velocityAnimation,ar=tr.transformState.scale,sr=ir.disabled,lr=!sr||ar>1||!nr||er;return!!lr},isVelocityAllowed=function(tr){var er=tr.mounted,rr=tr.velocity,nr=tr.bounds,ir=tr.setup,ar=ir.disabled,sr=ir.velocityAnimation,lr=tr.transformState.scale,or=sr.disabled,cr=!or||lr>1||!ar||er;return!(!cr||!rr||!nr)};function getVelocityMoveTime(tr,er){var rr=tr.setup.velocityAnimation,nr=rr.equalToMove,ir=rr.animationTime,ar=rr.sensitivity;return nr?ir*er*ar:ir}function getVelocityPosition(tr,er,rr,nr,ir,ar,sr,lr,or,cr){if(ir){if(er>sr&&rr>sr){var ur=sr+(tr-sr)*cr;return ur>or?or:ur<sr?sr:ur}if(er<ar&&rr<ar){var ur=ar+(tr-ar)*cr;return ur<lr?lr:ur>ar?ar:ur}}return nr?er:boundLimiter(tr,ar,sr,ir)}function getSizeMultiplier(tr,er){var rr=1;return er?Math.min(rr,tr.offsetWidth/window.innerWidth):rr}function handleCalculateVelocity(tr,er){var rr=isVelocityCalculationAllowed(tr);if(rr){var nr=tr.lastMousePosition,ir=tr.velocityTime,ar=tr.setup,sr=tr.wrapperComponent,lr=ar.velocityAnimation.equalToMove,or=Date.now();if(nr&&ir&&sr){var cr=getSizeMultiplier(sr,lr),ur=er.x-nr.x,dr=er.y-nr.y,hr=ur/cr,fr=dr/cr,mr=or-ir,br=ur*ur+dr*dr,pr=Math.sqrt(br)/mr;tr.velocity={velocityX:hr,velocityY:fr,total:pr}}tr.lastMousePosition=er,tr.velocityTime=or}}function handleVelocityPanning(tr){var er=tr.velocity,rr=tr.bounds,nr=tr.setup,ir=tr.wrapperComponent,ar=isVelocityAllowed(tr);if(!(!ar||!er||!rr||!ir)){var sr=er.velocityX,lr=er.velocityY,or=er.total,cr=rr.maxPositionX,ur=rr.minPositionX,dr=rr.maxPositionY,hr=rr.minPositionY,fr=nr.limitToBounds,mr=nr.alignmentAnimation,br=nr.zoomAnimation,pr=nr.panning,gr=pr.lockAxisY,yr=pr.lockAxisX,vr=br.animationType,_r=mr.sizeX,xr=mr.sizeY,Rr=mr.velocityAlignmentTime,Cr=Rr,Tr=getVelocityMoveTime(tr,or),Ir=Math.max(Tr,Cr),Lr=getPaddingValue(tr,_r),Nr=getPaddingValue(tr,xr),Or=Lr*ir.offsetWidth/100,Pr=Nr*ir.offsetHeight/100,Mr=cr+Or,jr=ur-Or,wr=dr+Pr,Er=hr-Pr,Ar=tr.transformState,Sr=new Date().getTime();handleSetupAnimation(tr,vr,Ir,function(Dr){var Wr=tr.transformState,$r=Wr.scale,Vr=Wr.positionX,zr=Wr.positionY,Gr=new Date().getTime()-Sr,Fr=Gr/Cr,Xr=animations[mr.animationType],Ur=1-Xr(Math.min(1,Fr)),Br=1-Dr,Kr=Vr+sr*Br,Zr=zr+lr*Br,tn=getVelocityPosition(Kr,Ar.positionX,Vr,yr,fr,ur,cr,jr,Mr,Ur),sn=getVelocityPosition(Zr,Ar.positionY,zr,gr,fr,hr,dr,Er,wr,Ur);(Vr!==Kr||zr!==Zr)&&tr.setTransformState($r,tn,sn)})}}function handlePanningStart(tr,er){var rr=tr.transformState.scale;handleCancelAnimation(tr),handleCalculateBounds(tr,rr),window.TouchEvent!==void 0&&er instanceof TouchEvent?handleTouchPanningSetup(tr,er):handlePanningSetup(tr,er)}function handleAlignToBounds(tr,er){var rr=tr.transformState.scale,nr=tr.setup,ir=nr.minScale,ar=nr.alignmentAnimation,sr=ar.disabled,lr=ar.sizeX,or=ar.sizeY,cr=ar.animationTime,ur=ar.animationType,dr=sr||rr<ir||!lr&&!or;if(!dr){var hr=handlePanToBounds(tr);hr&&animate(tr,hr,er??cr,ur)}}function handlePanning(tr,er,rr){var nr=tr.startCoords,ir=tr.setup,ar=ir.alignmentAnimation,sr=ar.sizeX,lr=ar.sizeY;if(nr){var or=getPanningClientPosition(tr,er,rr),cr=or.x,ur=or.y,dr=getPaddingValue(tr,sr),hr=getPaddingValue(tr,lr);handleCalculateVelocity(tr,{x:cr,y:ur}),handleNewPosition(tr,cr,ur,dr,hr)}}function handlePanningEnd(tr){if(tr.isPanning){var er=tr.setup.panning.velocityDisabled,rr=tr.velocity,nr=tr.wrapperComponent,ir=tr.contentComponent;tr.isPanning=!1,tr.animate=!1,tr.animation=null;var ar=nr==null?void 0:nr.getBoundingClientRect(),sr=ir==null?void 0:ir.getBoundingClientRect(),lr=(ar==null?void 0:ar.width)||0,or=(ar==null?void 0:ar.height)||0,cr=(sr==null?void 0:sr.width)||0,ur=(sr==null?void 0:sr.height)||0,dr=lr<cr||or<ur,hr=!er&&rr&&(rr==null?void 0:rr.total)>.1&&dr;hr?handleVelocityPanning(tr):handleAlignToBounds(tr)}}function handleZoomToPoint(tr,er,rr,nr){var ir=tr.setup,ar=ir.minScale,sr=ir.maxScale,lr=ir.limitToBounds,or=checkZoomBounds(roundNumber(er,2),ar,sr,0,!1),cr=handleCalculateBounds(tr,or),ur=handleCalculateZoomPositions(tr,rr,nr,or,cr,lr),dr=ur.x,hr=ur.y;return{scale:or,positionX:dr,positionY:hr}}function handleAlignToScaleBounds(tr,er,rr){var nr=tr.transformState.scale,ir=tr.wrapperComponent,ar=tr.setup,sr=ar.minScale,lr=ar.limitToBounds,or=ar.zoomAnimation,cr=or.disabled,ur=or.animationTime,dr=or.animationType,hr=cr||nr>=sr;if((nr>=1||lr)&&handleAlignToBounds(tr),!(hr||!ir||!tr.mounted)){var fr=er||ir.offsetWidth/2,mr=rr||ir.offsetHeight/2,br=handleZoomToPoint(tr,sr,fr,mr);br&&animate(tr,br,ur,dr)}}var __assign=function(){return __assign=Object.assign||function(er){for(var rr,nr=1,ir=arguments.length;nr<ir;nr++){rr=arguments[nr];for(var ar in rr)Object.prototype.hasOwnProperty.call(rr,ar)&&(er[ar]=rr[ar])}return er},__assign.apply(this,arguments)};function __spreadArray(tr,er,rr){for(var nr=0,ir=er.length,ar;nr<ir;nr++)(ar||!(nr in er))&&(ar||(ar=Array.prototype.slice.call(er,0,nr)),ar[nr]=er[nr]);return tr.concat(ar||Array.prototype.slice.call(er))}typeof SuppressedError=="function"&&SuppressedError;var initialState={scale:1,positionX:0,positionY:0},initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},baseClasses={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},createState=function(tr){var er,rr,nr,ir;return{previousScale:(er=tr.initialScale)!==null&&er!==void 0?er:initialState.scale,scale:(rr=tr.initialScale)!==null&&rr!==void 0?rr:initialState.scale,positionX:(nr=tr.initialPositionX)!==null&&nr!==void 0?nr:initialState.positionX,positionY:(ir=tr.initialPositionY)!==null&&ir!==void 0?ir:initialState.positionY}},createSetup=function(tr){var er=__assign({},initialSetup);return Object.keys(tr).forEach(function(rr){var nr=typeof tr[rr]<"u",ir=typeof initialSetup[rr]<"u";if(ir&&nr){var ar=Object.prototype.toString.call(initialSetup[rr]),sr=ar==="[object Object]",lr=ar==="[object Array]";sr?er[rr]=__assign(__assign({},initialSetup[rr]),tr[rr]):lr?er[rr]=__spreadArray(__spreadArray([],initialSetup[rr],!0),tr[rr]):er[rr]=tr[rr]}}),er},handleCalculateButtonZoom=function(tr,er,rr){var nr=tr.transformState.scale,ir=tr.wrapperComponent,ar=tr.setup,sr=ar.maxScale,lr=ar.minScale,or=ar.zoomAnimation,cr=ar.smooth,ur=or.size;if(!ir)throw new Error("Wrapper is not mounted");var dr=cr?nr*Math.exp(er*rr):nr+er*rr,hr=checkZoomBounds(roundNumber(dr,3),lr,sr,ur,!1);return hr};function handleZoomToViewCenter(tr,er,rr,nr,ir){var ar=tr.wrapperComponent,sr=tr.transformState,lr=sr.scale,or=sr.positionX,cr=sr.positionY;if(!ar)return console.error("No WrapperComponent found");var ur=ar.offsetWidth,dr=ar.offsetHeight,hr=(ur/2-or)/lr,fr=(dr/2-cr)/lr,mr=handleCalculateButtonZoom(tr,er,rr),br=handleZoomToPoint(tr,mr,hr,fr);if(!br)return console.error("Error during zoom event. New transformation state was not calculated.");animate(tr,br,nr,ir)}function resetTransformations(tr,er,rr,nr){var ir=tr.setup,ar=tr.wrapperComponent,sr=ir.limitToBounds,lr=createState(tr.props),or=tr.transformState,cr=or.scale,ur=or.positionX,dr=or.positionY;if(ar){var hr=calculateBounds(tr,lr.scale),fr=getMouseBoundedPosition(lr.positionX,lr.positionY,hr,sr,0,0,ar),mr={scale:lr.scale,positionX:fr.x,positionY:fr.y};cr===lr.scale&&ur===lr.positionX&&dr===lr.positionY||(nr==null||nr(),animate(tr,mr,er,rr))}}function getOffset$1(tr,er,rr,nr){var ir=tr.getBoundingClientRect(),ar=er.getBoundingClientRect(),sr=rr.getBoundingClientRect(),lr=ar.x*nr.scale,or=ar.y*nr.scale;return{x:(ir.x-sr.x+lr)/nr.scale,y:(ir.y-sr.y+or)/nr.scale}}function calculateZoomToNode(tr,er,rr){var nr=tr.wrapperComponent,ir=tr.contentComponent,ar=tr.transformState,sr=tr.setup,lr=sr.limitToBounds,or=sr.minScale,cr=sr.maxScale;if(!nr||!ir)return ar;var ur=nr.getBoundingClientRect(),dr=er.getBoundingClientRect(),hr=getOffset$1(er,nr,ir,ar),fr=hr.x,mr=hr.y,br=dr.width/ar.scale,pr=dr.height/ar.scale,gr=nr.offsetWidth/br,yr=nr.offsetHeight/pr,vr=checkZoomBounds(rr||Math.min(gr,yr),or,cr,0,!1),_r=(ur.width-br*vr)/2,xr=(ur.height-pr*vr)/2,Rr=(ur.left-fr)*vr+_r,Cr=(ur.top-mr)*vr+xr,Tr=calculateBounds(tr,vr),Ir=getMouseBoundedPosition(Rr,Cr,Tr,lr,0,0,nr),Lr=Ir.x,Nr=Ir.y;return{positionX:Lr,positionY:Nr,scale:vr}}var zoomIn=function(tr){return function(er,rr,nr){er===void 0&&(er=.5),rr===void 0&&(rr=300),nr===void 0&&(nr="easeOut"),handleZoomToViewCenter(tr,1,er,rr,nr)}},zoomOut=function(tr){return function(er,rr,nr){er===void 0&&(er=.5),rr===void 0&&(rr=300),nr===void 0&&(nr="easeOut"),handleZoomToViewCenter(tr,-1,er,rr,nr)}},setTransform=function(tr){return function(er,rr,nr,ir,ar){ir===void 0&&(ir=300),ar===void 0&&(ar="easeOut");var sr=tr.transformState,lr=sr.positionX,or=sr.positionY,cr=sr.scale,ur=tr.wrapperComponent,dr=tr.contentComponent,hr=tr.setup.disabled;if(!(hr||!ur||!dr)){var fr={positionX:Number.isNaN(er)?lr:er,positionY:Number.isNaN(rr)?or:rr,scale:Number.isNaN(nr)?cr:nr};animate(tr,fr,ir,ar)}}},resetTransform=function(tr){return function(er,rr){er===void 0&&(er=200),rr===void 0&&(rr="easeOut"),resetTransformations(tr,er,rr)}},centerView=function(tr){return function(er,rr,nr){rr===void 0&&(rr=200),nr===void 0&&(nr="easeOut");var ir=tr.transformState,ar=tr.wrapperComponent,sr=tr.contentComponent;if(ar&&sr){var lr=getCenterPosition(er||ir.scale,ar,sr);animate(tr,lr,rr,nr)}}},zoomToElement=function(tr){return function(er,rr,nr,ir){nr===void 0&&(nr=600),ir===void 0&&(ir="easeOut"),handleCancelAnimation(tr);var ar=tr.wrapperComponent,sr=typeof er=="string"?document.getElementById(er):er;if(ar&&sr&&ar.contains(sr)){var lr=calculateZoomToNode(tr,sr,rr);animate(tr,lr,nr,ir)}}},getControls=function(tr){return{instance:tr,zoomIn:zoomIn(tr),zoomOut:zoomOut(tr),setTransform:setTransform(tr),resetTransform:resetTransform(tr),centerView:centerView(tr),zoomToElement:zoomToElement(tr)}},getState=function(tr){return{instance:tr,state:tr.transformState}},getContext=function(tr){var er={};return Object.assign(er,getState(tr)),Object.assign(er,getControls(tr)),er},passiveSupported=!1;function makePassiveEventOption(){try{var tr={get passive(){return passiveSupported=!0,!1}};return tr}catch{return passiveSupported=!1,passiveSupported}}var matchPrefix=".".concat(baseClasses.wrapperClass),isExcludedNode=function(tr,er){return er.some(function(rr){return tr.matches("".concat(matchPrefix," ").concat(rr,", ").concat(matchPrefix," .").concat(rr,", ").concat(matchPrefix," ").concat(rr," *, ").concat(matchPrefix," .").concat(rr," *"))})},cancelTimeout=function(tr){tr&&clearTimeout(tr)},getTransformStyles=function(tr,er,rr){return"translate(".concat(tr,"px, ").concat(er,"px) scale(").concat(rr,")")},getCenterPosition=function(tr,er,rr){var nr=rr.offsetWidth*tr,ir=rr.offsetHeight*tr,ar=(er.offsetWidth-nr)/2,sr=(er.offsetHeight-ir)/2;return{scale:tr,positionX:ar,positionY:sr}};function mergeRefs(tr){return function(er){tr.forEach(function(rr){typeof rr=="function"?rr(er):rr!=null&&(rr.current=er)})}}var isWheelAllowed=function(tr,er){var rr=tr.setup.wheel,nr=rr.disabled,ir=rr.wheelDisabled,ar=rr.touchPadDisabled,sr=rr.excluded,lr=tr.isInitialized,or=tr.isPanning,cr=er.target,ur=lr&&!or&&!nr&&cr;if(!ur||ir&&!er.ctrlKey||ar&&er.ctrlKey)return!1;var dr=isExcludedNode(cr,sr);return!dr},getDeltaY=function(tr){return tr?tr.deltaY<0?1:-1:0};function getDelta(tr,er){var rr=getDeltaY(tr),nr=checkIsNumber(er,rr);return nr}function getMousePosition(tr,er,rr){var nr=er.getBoundingClientRect(),ir=0,ar=0;if("clientX"in tr)ir=(tr.clientX-nr.left)/rr,ar=(tr.clientY-nr.top)/rr;else{var sr=tr.touches[0];ir=(sr.clientX-nr.left)/rr,ar=(sr.clientY-nr.top)/rr}return(Number.isNaN(ir)||Number.isNaN(ar))&&console.error("No mouse or touch offset found"),{x:ir,y:ar}}var handleCalculateWheelZoom=function(tr,er,rr,nr,ir){var ar=tr.transformState.scale,sr=tr.wrapperComponent,lr=tr.setup,or=lr.maxScale,cr=lr.minScale,ur=lr.zoomAnimation,dr=lr.disablePadding,hr=ur.size,fr=ur.disabled;if(!sr)throw new Error("Wrapper is not mounted");var mr=ar+er*rr,br=nr?!1:!fr,pr=checkZoomBounds(roundNumber(mr,3),cr,or,hr,br&&!dr);return pr},handleWheelZoomStop=function(tr,er){var rr=tr.previousWheelEvent,nr=tr.transformState.scale,ir=tr.setup,ar=ir.maxScale,sr=ir.minScale;return rr?nr<ar||nr>sr||Math.sign(rr.deltaY)!==Math.sign(er.deltaY)||rr.deltaY>0&&rr.deltaY<er.deltaY||rr.deltaY<0&&rr.deltaY>er.deltaY||Math.sign(rr.deltaY)!==Math.sign(er.deltaY):!1},isPinchStartAllowed=function(tr,er){var rr=tr.setup.pinch,nr=rr.disabled,ir=rr.excluded,ar=tr.isInitialized,sr=er.target,lr=ar&&!nr&&sr;if(!lr)return!1;var or=isExcludedNode(sr,ir);return!or},isPinchAllowed=function(tr){var er=tr.setup.pinch.disabled,rr=tr.isInitialized,nr=tr.pinchStartDistance,ir=rr&&!er&&nr;return!!ir},calculateTouchMidPoint=function(tr,er,rr){var nr=rr.getBoundingClientRect(),ir=tr.touches,ar=roundNumber(ir[0].clientX-nr.left,5),sr=roundNumber(ir[0].clientY-nr.top,5),lr=roundNumber(ir[1].clientX-nr.left,5),or=roundNumber(ir[1].clientY-nr.top,5);return{x:(ar+lr)/2/er,y:(sr+or)/2/er}},getTouchDistance=function(tr){return Math.sqrt(Math.pow(tr.touches[0].pageX-tr.touches[1].pageX,2)+Math.pow(tr.touches[0].pageY-tr.touches[1].pageY,2))},calculatePinchZoom=function(tr,er){var rr=tr.pinchStartScale,nr=tr.pinchStartDistance,ir=tr.setup,ar=ir.maxScale,sr=ir.minScale,lr=ir.zoomAnimation,or=ir.disablePadding,cr=lr.size,ur=lr.disabled;if(!rr||nr===null||!er)throw new Error("Pinch touches distance was not provided");if(er<0)return tr.transformState.scale;var dr=er/nr,hr=dr*rr;return checkZoomBounds(roundNumber(hr,2),sr,ar,cr,!ur&&!or)},wheelStopEventTime=160,wheelAnimationTime=100,handleWheelStart=function(tr,er){var rr=tr.props,nr=rr.onWheelStart,ir=rr.onZoomStart;tr.wheelStopEventTimer||(handleCancelAnimation(tr),handleCallback(getContext(tr),er,nr),handleCallback(getContext(tr),er,ir))},handleWheelZoom=function(tr,er){var rr=tr.props,nr=rr.onWheel,ir=rr.onZoom,ar=tr.contentComponent,sr=tr.setup,lr=tr.transformState,or=lr.scale,cr=sr.limitToBounds,ur=sr.centerZoomedOut,dr=sr.zoomAnimation,hr=sr.wheel,fr=sr.disablePadding,mr=sr.smooth,br=dr.size,pr=dr.disabled,gr=hr.step,yr=hr.smoothStep;if(!ar)throw new Error("Component not mounted");er.preventDefault(),er.stopPropagation();var vr=getDelta(er,null),_r=mr?yr*Math.abs(er.deltaY):gr,xr=handleCalculateWheelZoom(tr,vr,_r,!er.ctrlKey);if(or!==xr){var Rr=handleCalculateBounds(tr,xr),Cr=getMousePosition(er,ar,or),Tr=pr||br===0||ur||fr,Ir=cr&&Tr,Lr=handleCalculateZoomPositions(tr,Cr.x,Cr.y,xr,Rr,Ir),Nr=Lr.x,Or=Lr.y;tr.previousWheelEvent=er,tr.setTransformState(xr,Nr,Or),handleCallback(getContext(tr),er,nr),handleCallback(getContext(tr),er,ir)}},handleWheelStop=function(tr,er){var rr=tr.props,nr=rr.onWheelStop,ir=rr.onZoomStop;cancelTimeout(tr.wheelAnimationTimer),tr.wheelAnimationTimer=setTimeout(function(){tr.mounted&&(handleAlignToScaleBounds(tr,er.x,er.y),tr.wheelAnimationTimer=null)},wheelAnimationTime);var ar=handleWheelZoomStop(tr,er);ar&&(cancelTimeout(tr.wheelStopEventTimer),tr.wheelStopEventTimer=setTimeout(function(){tr.mounted&&(tr.wheelStopEventTimer=null,handleCallback(getContext(tr),er,nr),handleCallback(getContext(tr),er,ir))},wheelStopEventTime))},getTouchCenter=function(tr){for(var er=0,rr=0,nr=0;nr<2;nr+=1)er+=tr.touches[nr].clientX,rr+=tr.touches[nr].clientY;var ir=er/2,ar=rr/2;return{x:ir,y:ar}},handlePinchStart=function(tr,er){var rr=getTouchDistance(er);tr.pinchStartDistance=rr,tr.lastDistance=rr,tr.pinchStartScale=tr.transformState.scale,tr.isPanning=!1;var nr=getTouchCenter(er);tr.pinchLastCenterX=nr.x,tr.pinchLastCenterY=nr.y,handleCancelAnimation(tr)},handlePinchZoom=function(tr,er){var rr=tr.contentComponent,nr=tr.pinchStartDistance,ir=tr.wrapperComponent,ar=tr.transformState.scale,sr=tr.setup,lr=sr.limitToBounds,or=sr.centerZoomedOut,cr=sr.zoomAnimation,ur=sr.alignmentAnimation,dr=cr.disabled,hr=cr.size;if(!(nr===null||!rr)){var fr=calculateTouchMidPoint(er,ar,rr);if(!(!Number.isFinite(fr.x)||!Number.isFinite(fr.y))){var mr=getTouchDistance(er),br=calculatePinchZoom(tr,mr),pr=getTouchCenter(er),gr=pr.x-(tr.pinchLastCenterX||0),yr=pr.y-(tr.pinchLastCenterY||0);if(!(br===ar&&gr===0&&yr===0)){tr.pinchLastCenterX=pr.x,tr.pinchLastCenterY=pr.y;var vr=handleCalculateBounds(tr,br),_r=dr||hr===0||or,xr=lr&&_r,Rr=handleCalculateZoomPositions(tr,fr.x,fr.y,br,vr,xr),Cr=Rr.x,Tr=Rr.y;tr.pinchMidpoint=fr,tr.lastDistance=mr;var Ir=ur.sizeX,Lr=ur.sizeY,Nr=getPaddingValue(tr,Ir),Or=getPaddingValue(tr,Lr),Pr=Cr+gr,Mr=Tr+yr,jr=getMouseBoundedPosition(Pr,Mr,vr,lr,Nr,Or,ir),wr=jr.x,Er=jr.y;tr.setTransformState(br,wr,Er)}}}},handlePinchStop=function(tr){var er=tr.pinchMidpoint;tr.velocity=null,tr.lastDistance=null,tr.pinchMidpoint=null,tr.pinchStartScale=null,tr.pinchStartDistance=null,handleAlignToScaleBounds(tr,er==null?void 0:er.x,er==null?void 0:er.y)},handleDoubleClickStop=function(tr,er){var rr=tr.props.onZoomStop,nr=tr.setup.doubleClick.animationTime;cancelTimeout(tr.doubleClickStopEventTimer),tr.doubleClickStopEventTimer=setTimeout(function(){tr.doubleClickStopEventTimer=null,handleCallback(getContext(tr),er,rr)},nr)},handleDoubleClickResetMode=function(tr,er){var rr=tr.props,nr=rr.onZoomStart,ir=rr.onZoom,ar=tr.setup.doubleClick,sr=ar.animationTime,lr=ar.animationType;handleCallback(getContext(tr),er,nr),resetTransformations(tr,sr,lr,function(){return handleCallback(getContext(tr),er,ir)}),handleDoubleClickStop(tr,er)};function getDoubleClickScale(tr,er){return tr==="toggle"?er===1?1:-1:tr==="zoomOut"?-1:1}function handleDoubleClick(tr,er){var rr=tr.setup,nr=tr.doubleClickStopEventTimer,ir=tr.transformState,ar=tr.contentComponent,sr=ir.scale,lr=tr.props,or=lr.onZoomStart,cr=lr.onZoom,ur=rr.doubleClick,dr=ur.disabled,hr=ur.mode,fr=ur.step,mr=ur.animationTime,br=ur.animationType;if(!dr&&!nr){if(hr==="reset")return handleDoubleClickResetMode(tr,er);if(!ar)return console.error("No ContentComponent found");var pr=getDoubleClickScale(hr,tr.transformState.scale),gr=handleCalculateButtonZoom(tr,pr,fr);if(sr!==gr){handleCallback(getContext(tr),er,or);var yr=getMousePosition(er,ar,sr),vr=handleZoomToPoint(tr,gr,yr.x,yr.y);if(!vr)return console.error("Error during zoom event. New transformation state was not calculated.");handleCallback(getContext(tr),er,cr),animate(tr,vr,mr,br),handleDoubleClickStop(tr,er)}}}var isDoubleClickAllowed=function(tr,er){var rr=tr.isInitialized,nr=tr.setup,ir=tr.wrapperComponent,ar=nr.doubleClick,sr=ar.disabled,lr=ar.excluded,or=er.target,cr=ir==null?void 0:ir.contains(or),ur=rr&&or&&cr&&!sr;if(!ur)return!1;var dr=isExcludedNode(or,lr);return!dr},ZoomPanPinch=function(){function tr(er){var rr=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){rr.initializeWindowEvents()},this.unmount=function(){rr.cleanupWindowEvents()},this.update=function(nr){rr.props=nr,handleCalculateBounds(rr,rr.transformState.scale),rr.setup=createSetup(nr)},this.initializeWindowEvents=function(){var nr,ir,ar=makePassiveEventOption(),sr=(nr=rr.wrapperComponent)===null||nr===void 0?void 0:nr.ownerDocument,lr=sr==null?void 0:sr.defaultView;(ir=rr.wrapperComponent)===null||ir===void 0||ir.addEventListener("wheel",rr.onWheelPanning,ar),lr==null||lr.addEventListener("mousedown",rr.onPanningStart,ar),lr==null||lr.addEventListener("mousemove",rr.onPanning,ar),lr==null||lr.addEventListener("mouseup",rr.onPanningStop,ar),sr==null||sr.addEventListener("mouseleave",rr.clearPanning,ar),lr==null||lr.addEventListener("keyup",rr.setKeyUnPressed,ar),lr==null||lr.addEventListener("keydown",rr.setKeyPressed,ar)},this.cleanupWindowEvents=function(){var nr,ir,ar=makePassiveEventOption(),sr=(nr=rr.wrapperComponent)===null||nr===void 0?void 0:nr.ownerDocument,lr=sr==null?void 0:sr.defaultView;lr==null||lr.removeEventListener("mousedown",rr.onPanningStart,ar),lr==null||lr.removeEventListener("mousemove",rr.onPanning,ar),lr==null||lr.removeEventListener("mouseup",rr.onPanningStop,ar),sr==null||sr.removeEventListener("mouseleave",rr.clearPanning,ar),lr==null||lr.removeEventListener("keyup",rr.setKeyUnPressed,ar),lr==null||lr.removeEventListener("keydown",rr.setKeyPressed,ar),document.removeEventListener("mouseleave",rr.clearPanning,ar),handleCancelAnimation(rr),(ir=rr.observer)===null||ir===void 0||ir.disconnect()},this.handleInitializeWrapperEvents=function(nr){var ir=makePassiveEventOption();nr.addEventListener("wheel",rr.onWheelZoom,ir),nr.addEventListener("dblclick",rr.onDoubleClick,ir),nr.addEventListener("touchstart",rr.onTouchPanningStart,ir),nr.addEventListener("touchmove",rr.onTouchPanning,ir),nr.addEventListener("touchend",rr.onTouchPanningStop,ir)},this.handleInitialize=function(nr,ir){var ar=!1,sr=rr.setup.centerOnInit,lr=function(or,cr){for(var ur=0,dr=or;ur<dr.length;ur++){var hr=dr[ur];if(hr.target===cr)return!0}return!1};rr.applyTransformation(),rr.onInitCallbacks.forEach(function(or){or(getContext(rr))}),rr.observer=new ResizeObserver(function(or){if(lr(or,nr)||lr(or,ir))if(sr&&!ar){var cr=ir.offsetWidth,ur=ir.offsetHeight;(cr>0||ur>0)&&(ar=!0,rr.setCenter())}else handleCancelAnimation(rr),handleCalculateBounds(rr,rr.transformState.scale),handleAlignToBounds(rr,0)}),rr.observer.observe(nr),rr.observer.observe(ir)},this.onWheelZoom=function(nr){var ir=rr.setup.disabled;if(!ir){var ar=isWheelAllowed(rr,nr);if(ar){var sr=rr.isPressingKeys(rr.setup.wheel.activationKeys);sr&&(handleWheelStart(rr,nr),handleWheelZoom(rr,nr),handleWheelStop(rr,nr))}}},this.onWheelPanning=function(nr){var ir=rr.setup,ar=ir.disabled,sr=ir.wheel,lr=ir.panning;if(!(!rr.wrapperComponent||!rr.contentComponent||ar||!sr.wheelDisabled||lr.disabled||!lr.wheelPanning||nr.ctrlKey)){nr.preventDefault(),nr.stopPropagation();var or=rr.transformState,cr=or.positionX,ur=or.positionY,dr=cr-nr.deltaX,hr=ur-nr.deltaY,fr=lr.lockAxisX?cr:dr,mr=lr.lockAxisY?ur:hr,br=rr.setup.alignmentAnimation,pr=br.sizeX,gr=br.sizeY,yr=getPaddingValue(rr,pr),vr=getPaddingValue(rr,gr);fr===cr&&mr===ur||handleNewPosition(rr,fr,mr,yr,vr)}},this.onPanningStart=function(nr){var ir=rr.setup.disabled,ar=rr.props.onPanningStart;if(!ir){var sr=isPanningStartAllowed(rr,nr);if(sr){var lr=rr.isPressingKeys(rr.setup.panning.activationKeys);lr&&(nr.button===0&&!rr.setup.panning.allowLeftClickPan||nr.button===1&&!rr.setup.panning.allowMiddleClickPan||nr.button===2&&!rr.setup.panning.allowRightClickPan||(nr.preventDefault(),nr.stopPropagation(),handleCancelAnimation(rr),handlePanningStart(rr,nr),handleCallback(getContext(rr),nr,ar)))}}},this.onPanning=function(nr){var ir=rr.setup.disabled,ar=rr.props.onPanning;if(!ir){var sr=isPanningAllowed(rr);if(sr){var lr=rr.isPressingKeys(rr.setup.panning.activationKeys);lr&&(nr.preventDefault(),nr.stopPropagation(),handlePanning(rr,nr.clientX,nr.clientY),handleCallback(getContext(rr),nr,ar))}}},this.onPanningStop=function(nr){var ir=rr.props.onPanningStop;rr.isPanning&&(handlePanningEnd(rr),handleCallback(getContext(rr),nr,ir))},this.onPinchStart=function(nr){var ir=rr.setup.disabled,ar=rr.props,sr=ar.onPinchingStart,lr=ar.onZoomStart;if(!ir){var or=isPinchStartAllowed(rr,nr);or&&(handlePinchStart(rr,nr),handleCancelAnimation(rr),handleCallback(getContext(rr),nr,sr),handleCallback(getContext(rr),nr,lr))}},this.onPinch=function(nr){var ir=rr.setup.disabled,ar=rr.props,sr=ar.onPinching,lr=ar.onZoom;if(!ir){var or=isPinchAllowed(rr);or&&(nr.preventDefault(),nr.stopPropagation(),handlePinchZoom(rr,nr),handleCallback(getContext(rr),nr,sr),handleCallback(getContext(rr),nr,lr))}},this.onPinchStop=function(nr){var ir=rr.props,ar=ir.onPinchingStop,sr=ir.onZoomStop;rr.pinchStartScale&&(handlePinchStop(rr),handleCallback(getContext(rr),nr,ar),handleCallback(getContext(rr),nr,sr))},this.onTouchPanningStart=function(nr){var ir=rr.setup.disabled,ar=rr.props.onPanningStart;if(!ir){var sr=isPanningStartAllowed(rr,nr);if(sr){var lr=rr.lastTouch&&+new Date-rr.lastTouch<200&&nr.touches.length===1;if(!lr){rr.lastTouch=+new Date,handleCancelAnimation(rr);var or=nr.touches,cr=or.length===1,ur=or.length===2;cr&&(handleCancelAnimation(rr),handlePanningStart(rr,nr),handleCallback(getContext(rr),nr,ar)),ur&&rr.onPinchStart(nr)}}}},this.onTouchPanning=function(nr){var ir=rr.setup.disabled,ar=rr.props.onPanning;if(rr.isPanning&&nr.touches.length===1){if(ir)return;var sr=isPanningAllowed(rr);if(!sr)return;nr.preventDefault(),nr.stopPropagation();var lr=nr.touches[0];handlePanning(rr,lr.clientX,lr.clientY),handleCallback(getContext(rr),nr,ar)}else nr.touches.length>1&&rr.onPinch(nr)},this.onTouchPanningStop=function(nr){rr.onPanningStop(nr),rr.onPinchStop(nr)},this.onDoubleClick=function(nr){var ir=rr.setup.disabled;if(!ir){var ar=isDoubleClickAllowed(rr,nr);ar&&handleDoubleClick(rr,nr)}},this.clearPanning=function(nr){rr.isPanning&&rr.onPanningStop(nr)},this.setKeyPressed=function(nr){rr.pressedKeys[nr.key]=!0},this.setKeyUnPressed=function(nr){rr.pressedKeys[nr.key]=!1},this.isPressingKeys=function(nr){return nr.length?!!nr.find(function(ir){return rr.pressedKeys[ir]}):!0},this.setTransformState=function(nr,ir,ar){var sr=rr.props.onTransformed;if(!Number.isNaN(nr)&&!Number.isNaN(ir)&&!Number.isNaN(ar)){nr!==rr.transformState.scale&&(rr.transformState.previousScale=rr.transformState.scale,rr.transformState.scale=nr),rr.transformState.positionX=ir,rr.transformState.positionY=ar,rr.applyTransformation();var lr=getContext(rr);rr.onChangeCallbacks.forEach(function(or){return or(lr)}),handleCallback(lr,{scale:nr,positionX:ir,positionY:ar},sr)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(rr.wrapperComponent&&rr.contentComponent){var nr=getCenterPosition(rr.transformState.scale,rr.wrapperComponent,rr.contentComponent);rr.setTransformState(nr.scale,nr.positionX,nr.positionY)}},this.handleTransformStyles=function(nr,ir,ar){return rr.props.customTransform?rr.props.customTransform(nr,ir,ar):getTransformStyles(nr,ir,ar)},this.applyTransformation=function(){if(!(!rr.mounted||!rr.contentComponent)){var nr=rr.transformState,ir=nr.scale,ar=nr.positionX,sr=nr.positionY,lr=rr.handleTransformStyles(ar,sr,ir);rr.contentComponent.style.transform=lr}},this.getContext=function(){return getContext(rr)},this.onChange=function(nr){return rr.onChangeCallbacks.has(nr)||rr.onChangeCallbacks.add(nr),function(){rr.onChangeCallbacks.delete(nr)}},this.onInit=function(nr){return rr.onInitCallbacks.has(nr)||rr.onInitCallbacks.add(nr),function(){rr.onInitCallbacks.delete(nr)}},this.init=function(nr,ir){rr.cleanupWindowEvents(),rr.wrapperComponent=nr,rr.contentComponent=ir,handleCalculateBounds(rr,rr.transformState.scale),rr.handleInitializeWrapperEvents(nr),rr.handleInitialize(nr,ir),rr.initializeWindowEvents(),rr.isInitialized=!0;var ar=getContext(rr);handleCallback(ar,void 0,rr.props.onInit)},this.props=er,this.setup=createSetup(this.props),this.transformState=createState(this.props)}return tr}(),Context=React.createContext(null),getContent=function(tr,er){return typeof tr=="function"?tr(er):tr},TransformWrapper=React.forwardRef(function(tr,er){var rr=reactExports.useRef(new ZoomPanPinch(tr)).current,nr=getContent(tr.children,getControls(rr));return reactExports.useImperativeHandle(er,function(){return getControls(rr)},[rr]),reactExports.useEffect(function(){rr.update(tr)},[rr,tr]),React.createElement(Context.Provider,{value:rr},nr)});React.forwardRef(function(tr,er){var rr=reactExports.useRef(null),nr=reactExports.useContext(Context);return reactExports.useEffect(function(){return nr.onChange(function(ir){if(rr.current){var ar=0,sr=0;rr.current.style.transform=nr.handleTransformStyles(ar,sr,1/ir.instance.transformState.scale)}})},[nr]),React.createElement("div",__assign({},tr,{ref:mergeRefs([rr,er])}))});function styleInject(tr,er){er===void 0&&(er={});var rr=er.insertAt;if(!(typeof document>"u")){var nr=document.head||document.getElementsByTagName("head")[0],ir=document.createElement("style");ir.type="text/css",rr==="top"&&nr.firstChild?nr.insertBefore(ir,nr.firstChild):nr.appendChild(ir),ir.styleSheet?ir.styleSheet.cssText=tr:ir.appendChild(document.createTextNode(tr))}}var css_248z=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,styles={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};styleInject(css_248z);var TransformComponent=function(tr){var er=tr.children,rr=tr.wrapperClass,nr=rr===void 0?"":rr,ir=tr.contentClass,ar=ir===void 0?"":ir,sr=tr.wrapperStyle,lr=tr.contentStyle,or=tr.wrapperProps,cr=or===void 0?{}:or,ur=tr.contentProps,dr=ur===void 0?{}:ur,hr=reactExports.useContext(Context),fr=hr.init,mr=hr.cleanupWindowEvents,br=reactExports.useRef(null),pr=reactExports.useRef(null);return reactExports.useEffect(function(){var gr=br.current,yr=pr.current;return gr!==null&&yr!==null&&fr&&(fr==null||fr(gr,yr)),function(){mr==null||mr()}},[]),React.createElement("div",__assign({},cr,{ref:br,className:"".concat(baseClasses.wrapperClass," ").concat(styles.wrapper," ").concat(nr),style:sr}),React.createElement("div",__assign({},dr,{ref:pr,className:"".concat(baseClasses.contentClass," ").concat(styles.content," ").concat(ar),style:lr}),er))};function ImageGallery({repuesto:tr,tipo:er,onUpload:rr,onDelete:nr,onSetPrimary:ir}){var Or,Pr,Mr,jr,wr;const[ar,sr]=reactExports.useState(0),[lr,or]=reactExports.useState(null),[cr,ur]=reactExports.useState(!1),[dr,hr]=reactExports.useState([]),[fr,mr]=reactExports.useState(0),[br,pr]=reactExports.useState(!1),[gr,yr]=reactExports.useState(!1),vr=reactExports.useRef(null),_r=reactExports.useRef(null),Rr=[...(er==="manual"?tr==null?void 0:tr.imagenesManual:tr==null?void 0:tr.fotosReales)||[]].sort((Er,Ar)=>Er.orden-Ar.orden),Cr=async Er=>{const Ar=Er.target.files;if(!Ar||!tr||Ar.length===0)return;const Sr=Array.from(Ar);hr(Sr),mr(0),pr(!0),vr.current&&(vr.current.value="")},Tr=async Er=>{if(tr){ur(!0);try{await rr(Er,tr.id,er),fr<dr.length-1?(mr(Ar=>Ar+1),pr(!0)):(hr([]),mr(0))}catch(Ar){console.error("Error al subir imagen:",Ar)}finally{ur(!1)}}},Ir=()=>{pr(!1),fr<dr.length-1?(mr(Er=>Er+1),setTimeout(()=>pr(!0),100)):(hr([]),mr(0))},Lr=()=>{sr(Er=>Er>0?Er-1:Rr.length-1)},Nr=()=>{sr(Er=>Er<Rr.length-1?Er+1:0)};return tr?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden animate-slideInRight",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:er==="manual"?"Imgenes del Manual":"Fotos Reales"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[tr.codigoBaader," - ",tr.textoBreve.substring(0,30),"..."]})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>{var Er;return(Er=vr.current)==null?void 0:Er.click()},loading:cr,icon:jsxRuntimeExports.jsx(Image$1,{className:"w-4 h-4"}),title:"Seleccionar de galera",children:jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Galera"})}),er==="real"&&jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>{var Er;return(Er=_r.current)==null?void 0:Er.click()},loading:cr,icon:jsxRuntimeExports.jsx(Camera,{className:"w-4 h-4"}),title:"Tomar foto con cmara",children:jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Cmara"})})]})}),jsxRuntimeExports.jsx("input",{ref:vr,type:"file",accept:"image/*",multiple:!0,onChange:Cr,className:"hidden"}),jsxRuntimeExports.jsx("input",{ref:_r,type:"file",accept:"image/*",capture:"environment",onChange:Cr,className:"hidden"})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col",children:Rr.length===0?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 missing-image-indicator",children:[jsxRuntimeExports.jsx(Upload,{className:"w-12 h-12 text-amber-500 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-amber-700 dark:text-amber-400 font-medium mb-3",children:"Sin imgenes"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full max-w-xs",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{var Er;return(Er=vr.current)==null?void 0:Er.click()},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl text-gray-700 dark:text-gray-300 font-medium transition-colors",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Galera"})]}),er==="real"&&jsxRuntimeExports.jsxs("button",{onClick:()=>{var Er;return(Er=_r.current)==null?void 0:Er.click()},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary-100 dark:bg-primary-900/50 hover:bg-primary-200 dark:hover:bg-primary-900/70 rounded-xl text-primary-700 dark:text-primary-300 font-medium transition-colors",children:[jsxRuntimeExports.jsx(Camera,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Cmara"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-3",children:"Las imgenes se optimizarn automticamente a WebP"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-[200px]",children:[jsxRuntimeExports.jsx("img",{src:(Or=Rr[ar])==null?void 0:Or.url,alt:((Pr=Rr[ar])==null?void 0:Pr.descripcion)||"Imagen del repuesto",className:"max-w-full max-h-full object-contain cursor-zoom-in",onClick:()=>or(Rr[ar])}),Rr.length>1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:Lr,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Nr,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[ar+1," / ",Rr.length]}),jsxRuntimeExports.jsx("button",{onClick:()=>or(Rr[ar]),className:"absolute top-2 right-2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})}),((Mr=Rr[ar])==null?void 0:Mr.esPrincipal)&&jsxRuntimeExports.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs rounded-full flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 fill-current"}),"Principal"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 overflow-x-auto carousel-container pb-1",children:Rr.map((Er,Ar)=>jsxRuntimeExports.jsxs("div",{className:`
                      relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer
                      border-2 transition-all carousel-item
                      ${Ar===ar?"border-primary-500":"border-transparent hover:border-gray-300"}
                    `,onClick:()=>sr(Ar),children:[jsxRuntimeExports.jsx("img",{src:Er.url,alt:"",className:"w-full h-full object-cover"}),Er.esPrincipal&&jsxRuntimeExports.jsx(Star,{className:"absolute top-1 right-1 w-3 h-3 text-yellow-400 fill-current"})]},Er.id))})}),jsxRuntimeExports.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>tr&&ir(tr,Rr[ar]),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${(jr=Rr[ar])!=null&&jr.esPrincipal?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(wr=Rr[ar])!=null&&wr.esPrincipal?jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-current"}):jsxRuntimeExports.jsx(StarOff,{className:"w-4 h-4"}),"Principal"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>tr&&nr(tr,Rr[ar]),className:"flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-red-100 text-red-600 hover:bg-red-200 transition-colors ml-auto",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Eliminar"]})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:!!lr,onClose:()=>or(null),size:"full",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-[70vh]",children:[jsxRuntimeExports.jsx("button",{onClick:()=>or(null),className:"absolute top-2 right-2 z-10 p-2 bg-white rounded-full shadow hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})}),lr&&jsxRuntimeExports.jsx(TransformWrapper,{children:jsxRuntimeExports.jsx(TransformComponent,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("img",{src:lr.url,alt:lr.descripcion,className:"max-w-full max-h-full object-contain"})})}),jsxRuntimeExports.jsx("p",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-gray-500 bg-white/80 px-3 py-1 rounded",children:"Usa el scroll para hacer zoom"})]})}),jsxRuntimeExports.jsx(ImageQualityModal,{isOpen:br,onClose:Ir,file:dr[fr]||null,onConfirm:Tr})]}):null}const COLLECTION_NAME="repuestosBaader200";function ActivityLogModal({isOpen:tr,onClose:er,onRestoreAction:rr}){const[nr,ir]=reactExports.useState([]),[ar,sr]=reactExports.useState(!0),[lr,or]=reactExports.useState(""),[cr,ur]=reactExports.useState("all"),[dr,hr]=reactExports.useState(new Set),[fr,mr]=reactExports.useState(100);reactExports.useEffect(()=>{if(!tr)return;(async()=>{var Cr;sr(!0);try{const Tr=query(collectionGroup(db,"historial"),orderBy("fecha","desc"),limit(fr)),Ir=await getDocs(Tr),Lr=[];for(const Mr of Ir.docs){const jr=Mr.data(),Er=Mr.ref.path.split("/")[1];Lr.push({id:Mr.id,repuestoId:Er,campo:jr.campo,valorAnterior:jr.valorAnterior,valorNuevo:jr.valorNuevo,fecha:((Cr=jr.fecha)==null?void 0:Cr.toDate())||new Date})}const Nr=[...new Set(Lr.map(Mr=>Mr.repuestoId))],Or={};for(const Mr of Nr)try{const wr=(await getDocs(query(collection(db,COLLECTION_NAME)))).docs.find(Er=>Er.id===Mr);wr&&(Or[Mr]=wr.data().codigoSAP||Mr.slice(0,8))}catch{Or[Mr]=Mr.slice(0,8)}const Pr=Lr.map(Mr=>({...Mr,repuestoCode:Or[Mr.repuestoId]||Mr.repuestoId.slice(0,8)}));ir(Pr)}catch(Tr){console.error("Error cargando logs:",Tr)}finally{sr(!1)}})()},[tr,fr]);const br=reactExports.useMemo(()=>{const Rr=new Set(nr.map(Cr=>Cr.campo));return Array.from(Rr).sort()},[nr]),pr=reactExports.useMemo(()=>nr.filter(Rr=>{var Cr;if(lr){const Tr=lr.toLowerCase(),Ir=(Cr=Rr.repuestoCode)==null?void 0:Cr.toLowerCase().includes(Tr),Lr=Rr.campo.toLowerCase().includes(Tr),Nr=String(Rr.valorAnterior).toLowerCase().includes(Tr)||String(Rr.valorNuevo).toLowerCase().includes(Tr);if(!Ir&&!Lr&&!Nr)return!1}return!(cr!=="all"&&Rr.campo!==cr)}),[nr,lr,cr]),gr=reactExports.useMemo(()=>{const Rr={};return pr.forEach(Cr=>{const Tr=Cr.fecha.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"});Rr[Tr]||(Rr[Tr]=[]),Rr[Tr].push(Cr)}),Rr},[pr]),yr=Rr=>{hr(Cr=>{const Tr=new Set(Cr);return Tr.has(Rr)?Tr.delete(Rr):Tr.add(Rr),Tr})},vr=Rr=>Rr==="creacion"?jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 text-green-500"}):Rr==="eliminacion"?jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 text-red-500"}):Rr.includes("tag")?jsxRuntimeExports.jsx(Tag,{className:"w-4 h-4 text-purple-500"}):Rr.includes("cantidad")||Rr.includes("stock")?jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 text-blue-500"}):jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4 text-gray-500"}),_r=Rr=>{if(Rr==null)return"(vaco)";if(typeof Rr=="object")try{const Cr=JSON.stringify(Rr);return Cr.length>100?Cr.slice(0,100)+"...":Cr}catch{return String(Rr)}return String(Rr)},xr=Rr=>({creacion:"Creacin",tags:"Tags",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",descripcionSAP:"Descripcin SAP",textoBreve:"Texto Breve",nombreManual:"Nombre Manual",ubicacion:"Ubicacin",codigoSAP:"Cdigo SAP",vinculosManual:"Vnculos Manual",fotosReales:"Fotos Reales",observacionesMarcadorManual:"Observaciones Marcador"})[Rr]||Rr;return tr?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:Rr=>{Rr.target===Rr.currentTarget&&er()},children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-lg",children:jsxRuntimeExports.jsx(History,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Registro de Actividad"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[pr.length," de ",nr.length," cambios registrados"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-6 h-6 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-wrap items-center gap-3 bg-gray-50 dark:bg-gray-800/50",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:lr,onChange:Rr=>or(Rr.target.value),placeholder:"Buscar por cdigo, campo o valor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{value:cr,onChange:Rr=>ur(Rr.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"Todos los campos"}),br.map(Rr=>jsxRuntimeExports.jsx("option",{value:Rr,children:xr(Rr)},Rr))]})]}),jsxRuntimeExports.jsxs("select",{value:fr,onChange:Rr=>mr(Number(Rr.target.value)),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx("option",{value:50,children:"ltimos 50"}),jsxRuntimeExports.jsx("option",{value:100,children:"ltimos 100"}),jsxRuntimeExports.jsx("option",{value:200,children:"ltimos 200"}),jsxRuntimeExports.jsx("option",{value:500,children:"ltimos 500"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:ar?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-500 dark:text-gray-400",children:"Cargando actividad..."})]}):pr.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay registros de actividad"}),lr&&jsxRuntimeExports.jsx("button",{onClick:()=>or(""),className:"mt-2 text-indigo-600 hover:underline text-sm",children:"Limpiar bsqueda"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Object.entries(gr).map(([Rr,Cr])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-800 py-2 px-3 rounded-lg mb-3 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:Rr}),jsxRuntimeExports.jsxs("span",{className:"text-gray-400",children:["(",Cr.length," cambios)"]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2 pl-4",children:Cr.map(Tr=>jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>yr(Tr.id),className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[vr(Tr.campo),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:Tr.repuestoCode}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:""}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:xr(Tr.campo)})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Tr.fecha.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),rr&&Tr.campo!=="creacion"&&jsxRuntimeExports.jsx("button",{onClick:Ir=>{Ir.stopPropagation(),rr(Tr)},className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:"Restaurar valor anterior",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"})}),dr.has(Tr.id)?jsxRuntimeExports.jsx(ChevronUp,{className:"w-5 h-5 text-gray-400"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-gray-400"})]}),dr.has(Tr.id)&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Valor Anterior"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-300 font-mono text-xs break-all",children:_r(Tr.valorAnterior)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Valor Nuevo"}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded text-green-700 dark:text-green-300 font-mono text-xs break-all",children:_r(Tr.valorNuevo)})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["ID Repuesto: ",Tr.repuestoId]})]})]},Tr.id))})]},Rr))})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Click en una entrada para ver detalles  Click en  para restaurar valor anterior"}),jsxRuntimeExports.jsx("button",{onClick:er,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cerrar"})]})]})}):null}var exceljs_min={exports:{}};/*! ExcelJS 19-10-2023 */(function(tr,er){(function(rr){tr.exports=rr()})(function(){return function rr(nr,ir,ar){function sr(cr,ur){if(!ir[cr]){if(!nr[cr]){var dr=typeof commonjsRequire=="function"&&commonjsRequire;if(!ur&&dr)return dr(cr,!0);if(lr)return lr(cr,!0);var hr=new Error("Cannot find module '"+cr+"'");throw hr.code="MODULE_NOT_FOUND",hr}var fr=ir[cr]={exports:{}};nr[cr][0].call(fr.exports,function(mr){return sr(nr[cr][1][mr]||mr)},fr,fr.exports,rr,nr,ir,ar)}return ir[cr].exports}for(var lr=typeof commonjsRequire=="function"&&commonjsRequire,or=0;or<ar.length;or++)sr(ar[or]);return sr}({1:[function(rr,nr,ir){const ar=rr("fs"),sr=rr("fast-csv"),lr=rr("dayjs/plugin/customParseFormat"),or=rr("dayjs/plugin/utc"),cr=rr("dayjs").extend(lr).extend(or),ur=rr("../utils/stream-buf"),{fs:{exists:dr}}=rr("../utils/utils"),hr={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};nr.exports=class{constructor(fr){this.workbook=fr,this.worksheet=null}async readFile(fr,mr){if(mr=mr||{},!await dr(fr))throw new Error("File not found: "+fr);const br=ar.createReadStream(fr),pr=await this.read(br,mr);return br.close(),pr}read(fr,mr){return mr=mr||{},new Promise((br,pr)=>{const gr=this.workbook.addWorksheet(mr.sheetName),yr=mr.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],vr=mr.map||function(xr){if(xr==="")return null;const Rr=Number(xr);if(!Number.isNaN(Rr)&&Rr!==1/0)return Rr;const Cr=yr.reduce((Ir,Lr)=>{if(Ir)return Ir;const Nr=cr(xr,Lr,!0);return Nr.isValid()?Nr:null},null);if(Cr)return new Date(Cr.valueOf());const Tr=hr[xr];return Tr!==void 0?Tr:xr},_r=sr.parse(mr.parserOptions).on("data",xr=>{gr.addRow(xr.map(vr))}).on("end",()=>{_r.emit("worksheet",gr)});_r.on("worksheet",br).on("error",pr),fr.pipe(_r)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(fr,mr){return new Promise((br,pr)=>{mr=mr||{};const gr=this.workbook.getWorksheet(mr.sheetName||mr.sheetId),yr=sr.format(mr.formatterOptions);fr.on("finish",()=>{br()}),yr.on("error",pr),yr.pipe(fr);const{dateFormat:vr,dateUTC:_r}=mr,xr=mr.map||(Tr=>{if(Tr){if(Tr.text||Tr.hyperlink)return Tr.hyperlink||Tr.text||"";if(Tr.formula||Tr.result)return Tr.result||"";if(Tr instanceof Date)return vr?_r?cr.utc(Tr).format(vr):cr(Tr).format(vr):_r?cr.utc(Tr).format():cr(Tr).format();if(Tr.error)return Tr.error;if(typeof Tr=="object")return JSON.stringify(Tr)}return Tr}),Rr=mr.includeEmptyRows===void 0||mr.includeEmptyRows;let Cr=1;gr&&gr.eachRow((Tr,Ir)=>{if(Rr)for(;Cr++<Ir-1;)yr.write([]);const{values:Lr}=Tr;Lr.shift(),yr.write(Lr.map(xr)),Cr=Ir}),yr.end()})}writeFile(fr,mr){const br={encoding:(mr=mr||{}).encoding||"utf8"},pr=ar.createWriteStream(fr,br);return this.write(pr,mr)}async writeBuffer(fr){const mr=new ur;return await this.write(mr,fr),mr.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(rr,nr,ir){const ar=rr("../utils/col-cache");class sr{constructor(or,cr){let ur=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=or,cr)if(typeof cr=="string"){const dr=ar.decodeAddress(cr);this.nativeCol=dr.col+ur,this.nativeColOff=0,this.nativeRow=dr.row+ur,this.nativeRowOff=0}else cr.nativeCol!==void 0?(this.nativeCol=cr.nativeCol||0,this.nativeColOff=cr.nativeColOff||0,this.nativeRow=cr.nativeRow||0,this.nativeRowOff=cr.nativeRowOff||0):cr.col!==void 0?(this.col=cr.col+ur,this.row=cr.row+ur):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(or){return or instanceof sr||or==null?or:new sr(or)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(or){this.nativeCol=Math.floor(or),this.nativeColOff=Math.floor((or-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(or){this.nativeRow=Math.floor(or),this.nativeRowOff=Math.floor((or-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(or){this.nativeCol=or.nativeCol,this.nativeColOff=or.nativeColOff,this.nativeRow=or.nativeRow,this.nativeRowOff=or.nativeRowOff}}nr.exports=sr},{"../utils/col-cache":19}],3:[function(rr,nr,ir){const ar=rr("../utils/col-cache"),sr=rr("../utils/under-dash"),lr=rr("./enums"),{slideFormula:or}=rr("../utils/shared-formula"),cr=rr("./note");class ur{constructor(fr,mr,br){if(!fr||!mr)throw new Error("A Cell needs a Row");this._row=fr,this._column=mr,ar.validateAddress(br),this._address=br,this._value=dr.create(ur.Types.Null,this),this.style=this._mergeStyle(fr.style,mr.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(fr){this.style.numFmt=fr}get font(){return this.style.font}set font(fr){this.style.font=fr}get alignment(){return this.style.alignment}set alignment(fr){this.style.alignment=fr}get border(){return this.style.border}set border(fr){this.style.border=fr}get fill(){return this.style.fill}set fill(fr){this.style.fill=fr}get protection(){return this.style.protection}set protection(fr){this.style.protection=fr}_mergeStyle(fr,mr,br){const pr=fr&&fr.numFmt||mr&&mr.numFmt;pr&&(br.numFmt=pr);const gr=fr&&fr.font||mr&&mr.font;gr&&(br.font=gr);const yr=fr&&fr.alignment||mr&&mr.alignment;yr&&(br.alignment=yr);const vr=fr&&fr.border||mr&&mr.border;vr&&(br.border=vr);const _r=fr&&fr.fill||mr&&mr.fill;_r&&(br.fill=_r);const xr=fr&&fr.protection||mr&&mr.protection;return xr&&(br.protection=xr),br}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===ur.Types.Merge}merge(fr,mr){this._value.release(),this._value=dr.create(ur.Types.Merge,this,fr),mr||(this.style=fr.style)}unmerge(){this.type===ur.Types.Merge&&(this._value.release(),this._value=dr.create(ur.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(fr){return this._value.type===ur.Types.Merge&&this._value.isMergedTo(fr)}get master(){return this.type===ur.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===ur.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(fr){this.type!==ur.Types.Merge?(this._value.release(),this._value=dr.create(dr.getType(fr),this,fr)):this._value.master.value=fr}get note(){return this._comment&&this._comment.note}set note(fr){this._comment=new cr(fr)}get text(){return this._value.toString()}get html(){return sr.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(fr){this.type===ur.Types.String&&(this._value=dr.create(ur.Types.Hyperlink,this,{text:this._value.value,hyperlink:fr}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:fr}=this._row;return{sheetName:fr.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(fr){this.names=[fr]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(fr){const{definedNames:mr}=this.workbook;mr.removeAllNames(this.fullAddress),fr.forEach(br=>{mr.addEx(this.fullAddress,br)})}addName(fr){this.workbook.definedNames.addEx(this.fullAddress,fr)}removeName(fr){this.workbook.definedNames.removeEx(this.fullAddress,fr)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(fr){this._dataValidations.add(this.address,fr)}get model(){const{model:fr}=this._value;return fr.style=this.style,this._comment&&(fr.comment=this._comment.model),fr}set model(fr){if(this._value.release(),this._value=dr.create(fr.type,this),this._value.model=fr,fr.comment)switch(fr.comment.type){case"note":this._comment=cr.fromModel(fr.comment)}fr.style?this.style=fr.style:this.style={}}}ur.Types=lr.ValueType;const dr={getType:hr=>hr==null?ur.Types.Null:hr instanceof String||typeof hr=="string"?ur.Types.String:typeof hr=="number"?ur.Types.Number:typeof hr=="boolean"?ur.Types.Boolean:hr instanceof Date?ur.Types.Date:hr.text&&hr.hyperlink?ur.Types.Hyperlink:hr.formula||hr.sharedFormula?ur.Types.Formula:hr.richText?ur.Types.RichText:hr.sharedString?ur.Types.SharedString:hr.error?ur.Types.Error:ur.Types.JSON,types:[{t:ur.Types.Null,f:class{constructor(hr){this.model={address:hr.address,type:ur.Types.Null}}get value(){return null}set value(hr){}get type(){return ur.Types.Null}get effectiveType(){return ur.Types.Null}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return""}release(){}toString(){return""}}},{t:ur.Types.Number,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Number,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.Number}get effectiveType(){return ur.Types.Number}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:ur.Types.String,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.String,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.String}get effectiveType(){return ur.Types.String}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:ur.Types.Date,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Date,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.Date}get effectiveType(){return ur.Types.Date}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:ur.Types.Hyperlink,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Hyperlink,text:fr?fr.text:void 0,hyperlink:fr?fr.hyperlink:void 0},fr&&fr.tooltip&&(this.model.tooltip=fr.tooltip)}get value(){const hr={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(hr.tooltip=this.model.tooltip),hr}set value(hr){this.model={text:hr.text,hyperlink:hr.hyperlink},hr.tooltip&&(this.model.tooltip=hr.tooltip)}get text(){return this.model.text}set text(hr){this.model.text=hr}get hyperlink(){return this.model.hyperlink}set hyperlink(hr){this.model.hyperlink=hr}get type(){return ur.Types.Hyperlink}get effectiveType(){return ur.Types.Hyperlink}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:ur.Types.Formula,f:class{constructor(hr,fr){this.cell=hr,this.model={address:hr.address,type:ur.Types.Formula,shareType:fr?fr.shareType:void 0,ref:fr?fr.ref:void 0,formula:fr?fr.formula:void 0,sharedFormula:fr?fr.sharedFormula:void 0,result:fr?fr.result:void 0}}_copyModel(hr){const fr={},mr=br=>{const pr=hr[br];pr&&(fr[br]=pr)};return mr("formula"),mr("result"),mr("ref"),mr("shareType"),mr("sharedFormula"),fr}get value(){return this._copyModel(this.model)}set value(hr){this.model=this._copyModel(hr)}validate(hr){switch(dr.getType(hr)){case ur.Types.Null:case ur.Types.String:case ur.Types.Number:case ur.Types.Date:break;case ur.Types.Hyperlink:case ur.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(hr){this.model.formula=hr}get formulaType(){return this.model.formula?lr.FormulaType.Master:this.model.sharedFormula?lr.FormulaType.Shared:lr.FormulaType.None}get result(){return this.model.result}set result(hr){this.model.result=hr}get type(){return ur.Types.Formula}get effectiveType(){const hr=this.model.result;return hr==null?lr.ValueType.Null:hr instanceof String||typeof hr=="string"?lr.ValueType.String:typeof hr=="number"?lr.ValueType.Number:hr instanceof Date?lr.ValueType.Date:hr.text&&hr.hyperlink?lr.ValueType.Hyperlink:hr.formula?lr.ValueType.Formula:lr.ValueType.Null}get address(){return this.model.address}set address(hr){this.model.address=hr}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:hr}=this.cell,fr=hr.findCell(this.model.sharedFormula);this._translatedFormula=fr&&or(fr.formula,fr.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:ur.Types.Merge,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Merge,master:fr?fr.address:void 0},this._master=fr,fr&&fr.addMergeRef()}get value(){return this._master.value}set value(hr){hr instanceof ur?(this._master&&this._master.releaseMergeRef(),hr.addMergeRef(),this._master=hr):this._master.value=hr}isMergedTo(hr){return hr===this._master}get master(){return this._master}get type(){return ur.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:ur.Types.JSON,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.String,value:JSON.stringify(fr),rawValue:fr}}get value(){return this.model.rawValue}set value(hr){this.model.rawValue=hr,this.model.value=JSON.stringify(hr)}get type(){return ur.Types.String}get effectiveType(){return ur.Types.String}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:ur.Types.SharedString,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.SharedString,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.SharedString}get effectiveType(){return ur.Types.SharedString}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:ur.Types.RichText,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.String,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}toString(){return this.model.value.richText.map(hr=>hr.text).join("")}get type(){return ur.Types.RichText}get effectiveType(){return ur.Types.RichText}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:ur.Types.Boolean,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Boolean,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.Boolean}get effectiveType(){return ur.Types.Boolean}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:ur.Types.Error,f:class{constructor(hr,fr){this.model={address:hr.address,type:ur.Types.Error,value:fr}}get value(){return this.model.value}set value(hr){this.model.value=hr}get type(){return ur.Types.Error}get effectiveType(){return ur.Types.Error}get address(){return this.model.address}set address(hr){this.model.address=hr}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((hr,fr)=>(hr[fr.t]=fr.f,hr),[]),create(hr,fr,mr){const br=this.types[hr];if(!br)throw new Error("Could not create Value of type "+hr);return new br(fr,mr)}};nr.exports=ur},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(rr,nr,ir){const ar=rr("../utils/under-dash"),sr=rr("./enums"),lr=rr("../utils/col-cache");class or{constructor(ur,dr,hr){this._worksheet=ur,this._number=dr,hr!==!1&&(this.defn=hr)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return lr.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(ur){ur?(this.key=ur.key,this.width=ur.width!==void 0?ur.width:9,this.outlineLevel=ur.outlineLevel,ur.style?this.style=ur.style:this.style={},this.header=ur.header,this._hidden=!!ur.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(ur){ur!==void 0?(this._header=ur,this.headers.forEach((dr,hr)=>{this._worksheet.getCell(hr+1,this.number).value=dr})):this._header=void 0}get key(){return this._key}set key(ur){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=ur,ur&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(ur){this._hidden=ur}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(ur){this._outlineLevel=ur}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(ur){return this.width===ur.width&&this.hidden===ur.hidden&&this.outlineLevel===ur.outlineLevel&&ar.isEqual(this.style,ur.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const ur=this.style;return!ur||!(ur.font||ur.numFmt||ur.alignment||ur.border||ur.fill||ur.protection)}get headerCount(){return this.headers.length}eachCell(ur,dr){const hr=this.number;dr||(dr=ur,ur=null),this._worksheet.eachRow(ur,(fr,mr)=>{dr(fr.getCell(hr),mr)})}get values(){const ur=[];return this.eachCell((dr,hr)=>{dr&&dr.type!==sr.ValueType.Null&&(ur[hr]=dr.value)}),ur}set values(ur){if(!ur)return;const dr=this.number;let hr=0;ur.hasOwnProperty("0")&&(hr=1),ur.forEach((fr,mr)=>{this._worksheet.getCell(mr+hr,dr).value=fr})}_applyStyle(ur,dr){return this.style[ur]=dr,this.eachCell(hr=>{hr[ur]=dr}),dr}get numFmt(){return this.style.numFmt}set numFmt(ur){this._applyStyle("numFmt",ur)}get font(){return this.style.font}set font(ur){this._applyStyle("font",ur)}get alignment(){return this.style.alignment}set alignment(ur){this._applyStyle("alignment",ur)}get protection(){return this.style.protection}set protection(ur){this._applyStyle("protection",ur)}get border(){return this.style.border}set border(ur){this._applyStyle("border",ur)}get fill(){return this.style.fill}set fill(ur){this._applyStyle("fill",ur)}static toModel(ur){const dr=[];let hr=null;return ur&&ur.forEach((fr,mr)=>{fr.isDefault?hr&&(hr=null):hr&&fr.equivalentTo(hr)?hr.max=mr+1:(hr={min:mr+1,max:mr+1,width:fr.width!==void 0?fr.width:9,style:fr.style,isCustomWidth:fr.isCustomWidth,hidden:fr.hidden,outlineLevel:fr.outlineLevel,collapsed:fr.collapsed},dr.push(hr))}),dr.length?dr:void 0}static fromModel(ur,dr){const hr=[];let fr=1,mr=0;for(dr=(dr=dr||[]).sort(function(br,pr){return br.min-pr.min});mr<dr.length;){const br=dr[mr++];for(;fr<br.min;)hr.push(new or(ur,fr++));for(;fr<=br.max;)hr.push(new or(ur,fr++,br))}return hr.length?hr:null}}nr.exports=or},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(rr,nr,ir){nr.exports=class{constructor(ar){this.model=ar||{}}add(ar,sr){return this.model[ar]=sr}find(ar){return this.model[ar]}remove(ar){this.model[ar]=void 0}}},{}],6:[function(rr,nr,ir){const ar=rr("../utils/under-dash"),sr=rr("../utils/col-cache"),lr=rr("../utils/cell-matrix"),or=rr("./range"),cr=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;nr.exports=class{constructor(){this.matrixMap={}}getMatrix(ur){return this.matrixMap[ur]||(this.matrixMap[ur]=new lr)}add(ur,dr){const hr=sr.decodeEx(ur);this.addEx(hr,dr)}addEx(ur,dr){const hr=this.getMatrix(dr);if(ur.top)for(let fr=ur.left;fr<=ur.right;fr++)for(let mr=ur.top;mr<=ur.bottom;mr++){const br={sheetName:ur.sheetName,address:sr.n2l(fr)+mr,row:mr,col:fr};hr.addCellEx(br)}else hr.addCellEx(ur)}remove(ur,dr){const hr=sr.decodeEx(ur);this.removeEx(hr,dr)}removeEx(ur,dr){this.getMatrix(dr).removeCellEx(ur)}removeAllNames(ur){ar.each(this.matrixMap,dr=>{dr.removeCellEx(ur)})}forEach(ur){ar.each(this.matrixMap,(dr,hr)=>{dr.forEach(fr=>{ur(hr,fr)})})}getNames(ur){return this.getNamesEx(sr.decodeEx(ur))}getNamesEx(ur){return ar.map(this.matrixMap,(dr,hr)=>dr.findCellEx(ur)&&hr).filter(Boolean)}_explore(ur,dr){dr.mark=!1;const{sheetName:hr}=dr,fr=new or(dr.row,dr.col,dr.row,dr.col,hr);let mr,br;function pr(yr,vr){const _r=ur.findCellAt(hr,yr,dr.col);return!(!_r||!_r.mark)&&(fr[vr]=yr,_r.mark=!1,!0)}for(br=dr.row-1;pr(br,"top");br--);for(br=dr.row+1;pr(br,"bottom");br++);function gr(yr,vr){const _r=[];for(br=fr.top;br<=fr.bottom;br++){const xr=ur.findCellAt(hr,br,yr);if(!xr||!xr.mark)return!1;_r.push(xr)}fr[vr]=yr;for(let xr=0;xr<_r.length;xr++)_r[xr].mark=!1;return!0}for(mr=dr.col-1;gr(mr,"left");mr--);for(mr=dr.col+1;gr(mr,"right");mr++);return fr}getRanges(ur,dr){return(dr=dr||this.matrixMap[ur])?(dr.forEach(hr=>{hr.mark=!0}),{name:ur,ranges:dr.map(hr=>hr.mark&&this._explore(dr,hr)).filter(Boolean).map(hr=>hr.$shortRange)}):{name:ur,ranges:[]}}normaliseMatrix(ur,dr){ur.forEachInSheet(dr,(hr,fr,mr)=>{hr&&(hr.row===fr&&hr.col===mr||(hr.row=fr,hr.col=mr,hr.address=sr.n2l(mr)+fr))})}spliceRows(ur,dr,hr,fr){ar.each(this.matrixMap,mr=>{mr.spliceRows(ur,dr,hr,fr),this.normaliseMatrix(mr,ur)})}spliceColumns(ur,dr,hr,fr){ar.each(this.matrixMap,mr=>{mr.spliceColumns(ur,dr,hr,fr),this.normaliseMatrix(mr,ur)})}get model(){return ar.map(this.matrixMap,(ur,dr)=>this.getRanges(dr,ur)).filter(ur=>ur.ranges.length)}set model(ur){const dr=this.matrixMap={};ur.forEach(hr=>{const fr=dr[hr.name]=new lr;hr.ranges.forEach(mr=>{cr.test(mr.split("!").pop()||"")&&fr.addCell(mr)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(rr,nr,ir){nr.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(rr,nr,ir){const ar=rr("../utils/col-cache"),sr=rr("./anchor");nr.exports=class{constructor(lr,or){this.worksheet=lr,this.model=or}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(lr){let{type:or,imageId:cr,range:ur,hyperlinks:dr}=lr;if(this.type=or,this.imageId=cr,or==="image")if(typeof ur=="string"){const hr=ar.decode(ur);this.range={tl:new sr(this.worksheet,{col:hr.left,row:hr.top},-1),br:new sr(this.worksheet,{col:hr.right,row:hr.bottom},0),editAs:"oneCell"}}else this.range={tl:new sr(this.worksheet,ur.tl,0),br:ur.br&&new sr(this.worksheet,ur.br,0),ext:ur.ext,editAs:ur.editAs,hyperlinks:dr||ur.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(rr,nr,ir){const ar=rr("../utils/under-dash");class sr{constructor(or){this.note=or}get model(){let or=null;switch(typeof this.note){case"string":or={type:"note",note:{texts:[{text:this.note}]}};break;default:or={type:"note",note:this.note}}return ar.deepMerge({},sr.DEFAULT_CONFIGS,or)}set model(or){const{note:cr}=or,{texts:ur}=cr;ur.length===1&&Object.keys(ur[0]).length===1?this.note=ur[0].text:this.note=cr}static fromModel(or){const cr=new sr;return cr.model=or,cr}}sr.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},nr.exports=sr},{"../utils/under-dash":26}],10:[function(rr,nr,ir){const ar=rr("../utils/col-cache");class sr{constructor(){this.decode(arguments)}setTLBR(or,cr,ur,dr,hr){if(arguments.length<4){const fr=ar.decodeAddress(or),mr=ar.decodeAddress(cr);this.model={top:Math.min(fr.row,mr.row),left:Math.min(fr.col,mr.col),bottom:Math.max(fr.row,mr.row),right:Math.max(fr.col,mr.col),sheetName:ur},this.setTLBR(fr.row,fr.col,mr.row,mr.col,hr)}else this.model={top:Math.min(or,ur),left:Math.min(cr,dr),bottom:Math.max(or,ur),right:Math.max(cr,dr),sheetName:hr}}decode(or){switch(or.length){case 5:this.setTLBR(or[0],or[1],or[2],or[3],or[4]);break;case 4:this.setTLBR(or[0],or[1],or[2],or[3]);break;case 3:this.setTLBR(or[0],or[1],or[2]);break;case 2:this.setTLBR(or[0],or[1]);break;case 1:{const cr=or[0];if(cr instanceof sr)this.model={top:cr.model.top,left:cr.model.left,bottom:cr.model.bottom,right:cr.model.right,sheetName:cr.sheetName};else if(cr instanceof Array)this.decode(cr);else if(cr.top&&cr.left&&cr.bottom&&cr.right)this.model={top:cr.top,left:cr.left,bottom:cr.bottom,right:cr.right,sheetName:cr.sheetName};else{const ur=ar.decodeEx(cr);ur.top?this.model={top:ur.top,left:ur.left,bottom:ur.bottom,right:ur.right,sheetName:ur.sheetName}:this.model={top:ur.row,left:ur.col,bottom:ur.row,right:ur.col,sheetName:ur.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+or.length)}}get top(){return this.model.top||1}set top(or){this.model.top=or}get left(){return this.model.left||1}set left(or){this.model.left=or}get bottom(){return this.model.bottom||1}set bottom(or){this.model.bottom=or}get right(){return this.model.right||1}set right(or){this.model.right=or}get sheetName(){return this.model.sheetName}set sheetName(or){this.model.sheetName=or}get _serialisedSheetName(){const{sheetName:or}=this.model;return or?/^[a-zA-Z0-9]*$/.test(or)?or+"!":`'${or}'!`:""}expand(or,cr,ur,dr){(!this.model.top||or<this.top)&&(this.top=or),(!this.model.left||cr<this.left)&&(this.left=cr),(!this.model.bottom||ur>this.bottom)&&(this.bottom=ur),(!this.model.right||dr>this.right)&&(this.right=dr)}expandRow(or){if(or){const{dimensions:cr,number:ur}=or;cr&&this.expand(ur,cr.min,ur,cr.max)}}expandToAddress(or){const cr=ar.decodeEx(or);this.expand(cr.row,cr.col,cr.row,cr.col)}get tl(){return ar.n2l(this.left)+this.top}get $t$l(){return`$${ar.n2l(this.left)}$${this.top}`}get br(){return ar.n2l(this.right)+this.bottom}get $b$r(){return`$${ar.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(or){return(!or.sheetName||!this.sheetName||or.sheetName===this.sheetName)&&!(or.bottom<this.top)&&!(or.top>this.bottom)&&!(or.right<this.left)&&!(or.left>this.right)}contains(or){const cr=ar.decodeEx(or);return this.containsEx(cr)}containsEx(or){return(!or.sheetName||!this.sheetName||or.sheetName===this.sheetName)&&or.row>=this.top&&or.row<=this.bottom&&or.col>=this.left&&or.col<=this.right}forEachAddress(or){for(let cr=this.left;cr<=this.right;cr++)for(let ur=this.top;ur<=this.bottom;ur++)or(ar.encodeAddress(ur,cr),ur,cr)}}nr.exports=sr},{"../utils/col-cache":19}],11:[function(rr,nr,ir){const ar=rr("../utils/under-dash"),sr=rr("./enums"),lr=rr("../utils/col-cache"),or=rr("./cell");nr.exports=class{constructor(cr,ur){this._worksheet=cr,this._number=ur,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(cr){return this._cells[cr-1]}getCellEx(cr){let ur=this._cells[cr.col-1];if(!ur){const dr=this._worksheet.getColumn(cr.col);ur=new or(this,dr,cr.address),this._cells[cr.col-1]=ur}return ur}getCell(cr){if(typeof cr=="string"){const ur=this._worksheet.getColumnKey(cr);cr=ur?ur.number:lr.l2n(cr)}return this._cells[cr-1]||this.getCellEx({address:lr.encodeAddress(this._number,cr),row:this._number,col:cr})}splice(cr,ur){const dr=cr+ur;for(var hr=arguments.length,fr=new Array(hr>2?hr-2:0),mr=2;mr<hr;mr++)fr[mr-2]=arguments[mr];const br=fr.length-ur,pr=this._cells.length;let gr,yr,vr;if(br<0)for(gr=cr+fr.length;gr<=pr;gr++)vr=this._cells[gr-1],yr=this._cells[gr-br-1],yr?(vr=this.getCell(gr),vr.value=yr.value,vr.style=yr.style,vr._comment=yr._comment):vr&&(vr.value=null,vr.style={},vr._comment=void 0);else if(br>0)for(gr=pr;gr>=dr;gr--)yr=this._cells[gr-1],yr?(vr=this.getCell(gr+br),vr.value=yr.value,vr.style=yr.style,vr._comment=yr._comment):this._cells[gr+br-1]=void 0;for(gr=0;gr<fr.length;gr++)vr=this.getCell(cr+gr),vr.value=fr[gr],vr.style={},vr._comment=void 0}eachCell(cr,ur){if(ur||(ur=cr,cr=null),cr&&cr.includeEmpty){const dr=this._cells.length;for(let hr=1;hr<=dr;hr++)ur(this.getCell(hr),hr)}else this._cells.forEach((dr,hr)=>{dr&&dr.type!==sr.ValueType.Null&&ur(dr,hr+1)})}addPageBreak(cr,ur){const dr=this._worksheet,hr=Math.max(0,cr-1)||0,fr=Math.max(0,ur-1)||16838,mr={id:this._number,max:fr,man:1};hr&&(mr.min=hr),dr.rowBreaks.push(mr)}get values(){const cr=[];return this._cells.forEach(ur=>{ur&&ur.type!==sr.ValueType.Null&&(cr[ur.col]=ur.value)}),cr}set values(cr){if(this._cells=[],cr)if(cr instanceof Array){let ur=0;cr.hasOwnProperty("0")&&(ur=1),cr.forEach((dr,hr)=>{dr!==void 0&&(this.getCellEx({address:lr.encodeAddress(this._number,hr+ur),row:this._number,col:hr+ur}).value=dr)})}else this._worksheet.eachColumnKey((ur,dr)=>{cr[dr]!==void 0&&(this.getCellEx({address:lr.encodeAddress(this._number,ur.number),row:this._number,col:ur.number}).value=cr[dr])})}get hasValues(){return ar.some(this._cells,cr=>cr&&cr.type!==sr.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let cr=0;return this.eachCell(()=>{cr++}),cr}get dimensions(){let cr=0,ur=0;return this._cells.forEach(dr=>{dr&&dr.type!==sr.ValueType.Null&&((!cr||cr>dr.col)&&(cr=dr.col),ur<dr.col&&(ur=dr.col))}),cr>0?{min:cr,max:ur}:null}_applyStyle(cr,ur){return this.style[cr]=ur,this._cells.forEach(dr=>{dr&&(dr[cr]=ur)}),ur}get numFmt(){return this.style.numFmt}set numFmt(cr){this._applyStyle("numFmt",cr)}get font(){return this.style.font}set font(cr){this._applyStyle("font",cr)}get alignment(){return this.style.alignment}set alignment(cr){this._applyStyle("alignment",cr)}get protection(){return this.style.protection}set protection(cr){this._applyStyle("protection",cr)}get border(){return this.style.border}set border(cr){this._applyStyle("border",cr)}get fill(){return this.style.fill}set fill(cr){this._applyStyle("fill",cr)}get hidden(){return!!this._hidden}set hidden(cr){this._hidden=cr}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(cr){this._outlineLevel=cr}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const cr=[];let ur=0,dr=0;return this._cells.forEach(hr=>{if(hr){const fr=hr.model;fr&&((!ur||ur>hr.col)&&(ur=hr.col),dr<hr.col&&(dr=hr.col),cr.push(fr))}}),this.height||cr.length?{cells:cr,number:this.number,min:ur,max:dr,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(cr){if(cr.number!==this._number)throw new Error("Invalid row number in model");let ur;this._cells=[],cr.cells.forEach(dr=>{switch(dr.type){case or.Types.Merge:break;default:{let hr;if(dr.address)hr=lr.decodeAddress(dr.address);else if(ur){const{row:fr}=ur,mr=ur.col+1;hr={row:fr,col:mr,address:lr.encodeAddress(fr,mr),$col$row:`$${lr.n2l(mr)}$${fr}`}}ur=hr,this.getCellEx(hr).model=dr;break}}}),cr.height?this.height=cr.height:delete this.height,this.hidden=cr.hidden,this.outlineLevel=cr.outlineLevel||0,this.style=cr.style&&JSON.parse(JSON.stringify(cr.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(rr,nr,ir){const ar=rr("../utils/col-cache");class sr{constructor(or,cr,ur){this.table=or,this.column=cr,this.index=ur}_set(or,cr){this.table.cacheState(),this.column[or]=cr}get name(){return this.column.name}set name(or){this._set("name",or)}get filterButton(){return this.column.filterButton}set filterButton(or){this.column.filterButton=or}get style(){return this.column.style}set style(or){this.column.style=or}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(or){this._set("totalsRowLabel",or)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(or){this._set("totalsRowFunction",or)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(or){this._set("totalsRowResult",or)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(or){this._set("totalsRowFormula",or)}}nr.exports=class{constructor(lr,or){this.worksheet=lr,or&&(this.table=or,this.validate(),this.store())}getFormula(lr){switch(lr.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${lr.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${lr.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${lr.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${lr.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${lr.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${lr.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${lr.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${lr.name}])`;case"custom":return lr.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+lr.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:lr}=this,or=(br,pr,gr)=>{br[pr]===void 0&&(br[pr]=gr)};or(lr,"headerRow",!0),or(lr,"totalsRow",!1),or(lr,"style",{}),or(lr.style,"theme","TableStyleMedium2"),or(lr.style,"showFirstColumn",!1),or(lr.style,"showLastColumn",!1),or(lr.style,"showRowStripes",!1),or(lr.style,"showColumnStripes",!1);const cr=(br,pr)=>{if(!br)throw new Error(pr)};cr(lr.ref,"Table must have ref"),cr(lr.columns,"Table must have column definitions"),cr(lr.rows,"Table must have row definitions"),lr.tl=ar.decodeAddress(lr.ref);const{row:ur,col:dr}=lr.tl;cr(ur>0,"Table must be on valid row"),cr(dr>0,"Table must be on valid col");const{width:hr,filterHeight:fr,tableHeight:mr}=this;lr.autoFilterRef=ar.encode(ur,dr,ur+fr-1,dr+hr-1),lr.tableRef=ar.encode(ur,dr,ur+mr-1,dr+hr-1),lr.columns.forEach((br,pr)=>{cr(br.name,`Column ${pr} must have a name`),pr===0?or(br,"totalsRowLabel","Total"):(or(br,"totalsRowFunction","none"),br.totalsRowFormula=this.getFormula(br))})}store(){const lr=(fr,mr)=>{mr&&Object.keys(mr).forEach(br=>{fr[br]=mr[br]})},{worksheet:or,table:cr}=this,{row:ur,col:dr}=cr.tl;let hr=0;if(cr.headerRow){const fr=or.getRow(ur+hr++);cr.columns.forEach((mr,br)=>{const{style:pr,name:gr}=mr,yr=fr.getCell(dr+br);yr.value=gr,lr(yr,pr)})}if(cr.rows.forEach(fr=>{const mr=or.getRow(ur+hr++);fr.forEach((br,pr)=>{const gr=mr.getCell(dr+pr);gr.value=br,lr(gr,cr.columns[pr].style)})}),cr.totalsRow){const fr=or.getRow(ur+hr++);cr.columns.forEach((mr,br)=>{const pr=fr.getCell(dr+br);if(br===0)pr.value=mr.totalsRowLabel;else{const gr=this.getFormula(mr);pr.value=gr?{formula:mr.totalsRowFormula,result:mr.totalsRowResult}:null}lr(pr,mr.style)})}}load(lr){const{table:or}=this,{row:cr,col:ur}=or.tl;let dr=0;if(or.headerRow){const hr=lr.getRow(cr+dr++);or.columns.forEach((fr,mr)=>{hr.getCell(ur+mr).value=fr.name})}if(or.rows.forEach(hr=>{const fr=lr.getRow(cr+dr++);hr.forEach((mr,br)=>{fr.getCell(ur+br).value=mr})}),or.totalsRow){const hr=lr.getRow(cr+dr++);or.columns.forEach((fr,mr)=>{const br=hr.getCell(ur+mr);mr===0?br.value=fr.totalsRowLabel:this.getFormula(fr)&&(br.value={formula:fr.totalsRowFormula,result:fr.totalsRowResult})})}}get model(){return this.table}set model(lr){this.table=lr}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const lr=ar.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let or=0;or<this._cache.tableHeight;or++){const cr=this.worksheet.getRow(lr.row+or);for(let ur=0;ur<this._cache.width;ur++)cr.getCell(lr.col+ur).value=null}else{for(let or=this.tableHeight;or<this._cache.tableHeight;or++){const cr=this.worksheet.getRow(lr.row+or);for(let ur=0;ur<this._cache.width;ur++)cr.getCell(lr.col+ur).value=null}for(let or=0;or<this.tableHeight;or++){const cr=this.worksheet.getRow(lr.row+or);for(let ur=this.width;ur<this._cache.width;ur++)cr.getCell(lr.col+ur).value=null}}this.store()}addRow(lr,or){this.cacheState(),or===void 0?this.table.rows.push(lr):this.table.rows.splice(or,0,lr)}removeRows(lr){let or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(lr,or)}getColumn(lr){const or=this.table.columns[lr];return new sr(this,or,lr)}addColumn(lr,or,cr){this.cacheState(),cr===void 0?(this.table.columns.push(lr),this.table.rows.forEach((ur,dr)=>{ur.push(or[dr])})):(this.table.columns.splice(cr,0,lr),this.table.rows.forEach((ur,dr)=>{ur.splice(cr,0,or[dr])}))}removeColumns(lr){let or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(lr,or),this.table.rows.forEach(cr=>{cr.splice(lr,or)})}_assign(lr,or,cr){this.cacheState(),lr[or]=cr}get ref(){return this.table.ref}set ref(lr){this._assign(this.table,"ref",lr)}get name(){return this.table.name}set name(lr){this.table.name=lr}get displayName(){return this.table.displyName||this.table.name}set displayNamename(lr){this.table.displayName=lr}get headerRow(){return this.table.headerRow}set headerRow(lr){this._assign(this.table,"headerRow",lr)}get totalsRow(){return this.table.totalsRow}set totalsRow(lr){this._assign(this.table,"totalsRow",lr)}get theme(){return this.table.style.name}set theme(lr){this.table.style.name=lr}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(lr){this.table.style.showFirstColumn=lr}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(lr){this.table.style.showLastColumn=lr}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(lr){this.table.style.showRowStripes=lr}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(lr){this.table.style.showColumnStripes=lr}}},{"../utils/col-cache":19}],13:[function(rr,nr,ir){const ar=rr("./worksheet"),sr=rr("./defined-names"),lr=rr("../xlsx/xlsx"),or=rr("../csv/csv");nr.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new sr}get xlsx(){return this._xlsx||(this._xlsx=new lr(this)),this._xlsx}get csv(){return this._csv||(this._csv=new or(this)),this._csv}get nextId(){for(let cr=1;cr<this._worksheets.length;cr++)if(!this._worksheets[cr])return cr;return this._worksheets.length||1}addWorksheet(cr,ur){const dr=this.nextId;ur&&(typeof ur=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),ur={properties:{tabColor:{argb:ur}}}):(ur.argb||ur.theme||ur.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),ur={properties:{tabColor:ur}}));const hr=this._worksheets.reduce((br,pr)=>(pr&&pr.orderNo)>br?pr.orderNo:br,0),fr=Object.assign({},ur,{id:dr,name:cr,orderNo:hr+1,workbook:this}),mr=new ar(fr);return this._worksheets[dr]=mr,mr}removeWorksheetEx(cr){delete this._worksheets[cr.id]}removeWorksheet(cr){const ur=this.getWorksheet(cr);ur&&ur.destroy()}getWorksheet(cr){return cr===void 0?this._worksheets.find(Boolean):typeof cr=="number"?this._worksheets[cr]:typeof cr=="string"?this._worksheets.find(ur=>ur&&ur.name===cr):void 0}get worksheets(){return this._worksheets.slice(1).sort((cr,ur)=>cr.orderNo-ur.orderNo).filter(Boolean)}eachSheet(cr){this.worksheets.forEach(ur=>{cr(ur,ur.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(cr){const ur=this.media.length;return this.media.push(Object.assign({},cr,{type:"image"})),ur}getImage(cr){return this.media[cr]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(cr=>cr.model),sheets:this.worksheets.map(cr=>cr.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(cr){this.creator=cr.creator,this.lastModifiedBy=cr.lastModifiedBy,this.lastPrinted=cr.lastPrinted,this.created=cr.created,this.modified=cr.modified,this.company=cr.company,this.manager=cr.manager,this.title=cr.title,this.subject=cr.subject,this.keywords=cr.keywords,this.category=cr.category,this.description=cr.description,this.language=cr.language,this.revision=cr.revision,this.contentStatus=cr.contentStatus,this.properties=cr.properties,this.calcProperties=cr.calcProperties,this._worksheets=[],cr.worksheets.forEach(ur=>{const{id:dr,name:hr,state:fr}=ur,mr=cr.sheets&&cr.sheets.findIndex(br=>br.id===dr);(this._worksheets[dr]=new ar({id:dr,name:hr,orderNo:mr,state:fr,workbook:this})).model=ur}),this._definedNames.model=cr.definedNames,this.views=cr.views,this._themes=cr.themes,this.media=cr.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(rr,nr,ir){const ar=rr("../utils/under-dash"),sr=rr("../utils/col-cache"),lr=rr("./range"),or=rr("./row"),cr=rr("./column"),ur=rr("./enums"),dr=rr("./image"),hr=rr("./table"),fr=rr("./data-validations"),mr=rr("../utils/encryptor"),{copyStyle:br}=rr("../utils/copy-style");nr.exports=class{constructor(pr){pr=pr||{},this._workbook=pr.workbook,this.id=pr.id,this.orderNo=pr.orderNo,this.name=pr.name,this.state=pr.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},pr.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!pr.pageSetup||!pr.pageSetup.fitToWidth&&!pr.pageSetup.fitToHeight||pr.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},pr.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},pr.headerFooter),this.dataValidations=new fr,this.views=pr.views||[],this.autoFilter=pr.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(pr){if(pr===void 0&&(pr="sheet"+this.id),this._name!==pr){if(typeof pr!="string")throw new Error("The name has to be a string.");if(pr==="")throw new Error("The name can't be empty.");if(pr==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(pr))throw new Error(`Worksheet name ${pr} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(pr))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+pr);if(pr&&pr.length>31&&(console.warn(`Worksheet name ${pr} exceeds 31 chars. This will be truncated`),pr=pr.substring(0,31)),this._workbook._worksheets.find(gr=>gr&&gr.name.toLowerCase()===pr.toLowerCase()))throw new Error("Worksheet name already exists: "+pr);this._name=pr}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const pr=new lr;return this._rows.forEach(gr=>{if(gr){const yr=gr.dimensions;yr&&pr.expand(gr.number,yr.min,gr.number,yr.max)}}),pr}get columns(){return this._columns}set columns(pr){this._headerRowCount=pr.reduce((vr,_r)=>{const xr=(_r.header?1:_r.headers&&_r.headers.length)||0;return Math.max(vr,xr)},0);let gr=1;const yr=this._columns=[];pr.forEach(vr=>{const _r=new cr(this,gr++,!1);yr.push(_r),_r.defn=vr})}getColumnKey(pr){return this._keys[pr]}setColumnKey(pr,gr){this._keys[pr]=gr}deleteColumnKey(pr){delete this._keys[pr]}eachColumnKey(pr){ar.each(this._keys,pr)}getColumn(pr){if(typeof pr=="string"){const gr=this._keys[pr];if(gr)return gr;pr=sr.l2n(pr)}if(this._columns||(this._columns=[]),pr>this._columns.length){let gr=this._columns.length+1;for(;gr<=pr;)this._columns.push(new cr(this,gr++))}return this._columns[pr-1]}spliceColumns(pr,gr){const yr=this._rows.length;for(var vr=arguments.length,_r=new Array(vr>2?vr-2:0),xr=2;xr<vr;xr++)_r[xr-2]=arguments[xr];if(_r.length>0)for(let Ir=0;Ir<yr;Ir++){const Lr=[pr,gr];_r.forEach(Or=>{Lr.push(Or[Ir]||null)});const Nr=this.getRow(Ir+1);Nr.splice.apply(Nr,Lr)}else this._rows.forEach(Ir=>{Ir&&Ir.splice(pr,gr)});const Rr=_r.length-gr,Cr=pr+gr,Tr=this._columns.length;if(Rr<0)for(let Ir=pr+_r.length;Ir<=Tr;Ir++)this.getColumn(Ir).defn=this.getColumn(Ir-Rr).defn;else if(Rr>0)for(let Ir=Tr;Ir>=Cr;Ir--)this.getColumn(Ir+Rr).defn=this.getColumn(Ir).defn;for(let Ir=pr;Ir<pr+_r.length;Ir++)this.getColumn(Ir).defn=null;this.workbook.definedNames.spliceColumns(this.name,pr,gr,_r.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let pr=0;return this.eachRow(gr=>{pr=Math.max(pr,gr.cellCount)}),pr}get actualColumnCount(){const pr=[];let gr=0;return this.eachRow(yr=>{yr.eachCell(vr=>{let{col:_r}=vr;pr[_r]||(pr[_r]=!0,gr++)})}),gr}_commitRow(){}get _lastRowNumber(){const pr=this._rows;let gr=pr.length;for(;gr>0&&pr[gr-1]===void 0;)gr--;return gr}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(pr){return this._rows[pr-1]}findRows(pr,gr){return this._rows.slice(pr-1,pr-1+gr)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let pr=0;return this.eachRow(()=>{pr++}),pr}getRow(pr){let gr=this._rows[pr-1];return gr||(gr=this._rows[pr-1]=new or(this,pr)),gr}getRows(pr,gr){if(gr<1)return;const yr=[];for(let vr=pr;vr<pr+gr;vr++)yr.push(this.getRow(vr));return yr}addRow(pr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const yr=this._nextRow,vr=this.getRow(yr);return vr.values=pr,this._setStyleOption(yr,gr[0]==="i"?gr:"n"),vr}addRows(pr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const yr=[];return pr.forEach(vr=>{yr.push(this.addRow(vr,gr))}),yr}insertRow(pr,gr){let yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(pr,0,gr),this._setStyleOption(pr,yr),this.getRow(pr)}insertRows(pr,gr){let yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(pr,0,...gr),yr!=="n")for(let vr=0;vr<gr.length;vr++)yr[0]==="o"&&this.findRow(gr.length+pr+vr)!==void 0?this._copyStyle(gr.length+pr+vr,pr+vr,yr[1]==="+"):yr[0]==="i"&&this.findRow(pr-1)!==void 0&&this._copyStyle(pr-1,pr+vr,yr[1]==="+");return this.getRows(pr,gr.length)}_setStyleOption(pr){let gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";gr[0]==="o"&&this.findRow(pr+1)!==void 0?this._copyStyle(pr+1,pr,gr[1]==="+"):gr[0]==="i"&&this.findRow(pr-1)!==void 0&&this._copyStyle(pr-1,pr,gr[1]==="+")}_copyStyle(pr,gr){let yr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const vr=this.getRow(pr),_r=this.getRow(gr);_r.style=br(vr.style),vr.eachCell({includeEmpty:yr},(xr,Rr)=>{_r.getCell(Rr).style=br(xr.style)}),_r.height=vr.height}duplicateRow(pr,gr){let yr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const vr=this._rows[pr-1],_r=new Array(gr).fill(vr.values);this.spliceRows(pr+1,yr?0:gr,..._r);for(let xr=0;xr<gr;xr++){const Rr=this._rows[pr+xr];Rr.style=vr.style,Rr.height=vr.height,vr.eachCell({includeEmpty:!0},(Cr,Tr)=>{Rr.getCell(Tr).style=Cr.style})}}spliceRows(pr,gr){const yr=pr+gr;for(var vr=arguments.length,_r=new Array(vr>2?vr-2:0),xr=2;xr<vr;xr++)_r[xr-2]=arguments[xr];const Rr=_r.length,Cr=Rr-gr,Tr=this._rows.length;let Ir,Lr;if(Cr<0)for(pr===Tr&&(this._rows[Tr-1]=void 0),Ir=yr;Ir<=Tr;Ir++)if(Lr=this._rows[Ir-1],Lr){const Nr=this.getRow(Ir+Cr);Nr.values=Lr.values,Nr.style=Lr.style,Nr.height=Lr.height,Lr.eachCell({includeEmpty:!0},(Or,Pr)=>{Nr.getCell(Pr).style=Or.style}),this._rows[Ir-1]=void 0}else this._rows[Ir+Cr-1]=void 0;else if(Cr>0)for(Ir=Tr;Ir>=yr;Ir--)if(Lr=this._rows[Ir-1],Lr){const Nr=this.getRow(Ir+Cr);Nr.values=Lr.values,Nr.style=Lr.style,Nr.height=Lr.height,Lr.eachCell({includeEmpty:!0},(Or,Pr)=>{if(Nr.getCell(Pr).style=Or.style,Or._value.constructor.name==="MergeValue"){const Mr=this.getRow(Or._row._number+Rr).getCell(Pr),jr=Or._value._master,wr=this.getRow(jr._row._number+Rr).getCell(jr._column._number);Mr.merge(wr)}})}else this._rows[Ir+Cr-1]=void 0;for(Ir=0;Ir<Rr;Ir++){const Nr=this.getRow(pr+Ir);Nr.style={},Nr.values=_r[Ir]}this.workbook.definedNames.spliceRows(this.name,pr,gr,Rr)}eachRow(pr,gr){if(gr||(gr=pr,pr=void 0),pr&&pr.includeEmpty){const yr=this._rows.length;for(let vr=1;vr<=yr;vr++)gr(this.getRow(vr),vr)}else this._rows.forEach(yr=>{yr&&yr.hasValues&&gr(yr,yr.number)})}getSheetValues(){const pr=[];return this._rows.forEach(gr=>{gr&&(pr[gr.number]=gr.values)}),pr}findCell(pr,gr){const yr=sr.getAddress(pr,gr),vr=this._rows[yr.row-1];return vr?vr.findCell(yr.col):void 0}getCell(pr,gr){const yr=sr.getAddress(pr,gr);return this.getRow(yr.row).getCellEx(yr)}mergeCells(){for(var pr=arguments.length,gr=new Array(pr),yr=0;yr<pr;yr++)gr[yr]=arguments[yr];const vr=new lr(gr);this._mergeCellsInternal(vr)}mergeCellsWithoutStyle(){for(var pr=arguments.length,gr=new Array(pr),yr=0;yr<pr;yr++)gr[yr]=arguments[yr];const vr=new lr(gr);this._mergeCellsInternal(vr,!0)}_mergeCellsInternal(pr,gr){ar.each(this._merges,vr=>{if(vr.intersects(pr))throw new Error("Cannot merge already merged cells")});const yr=this.getCell(pr.top,pr.left);for(let vr=pr.top;vr<=pr.bottom;vr++)for(let _r=pr.left;_r<=pr.right;_r++)(vr>pr.top||_r>pr.left)&&this.getCell(vr,_r).merge(yr,gr);this._merges[yr.address]=pr}_unMergeMaster(pr){const gr=this._merges[pr.address];if(gr){for(let yr=gr.top;yr<=gr.bottom;yr++)for(let vr=gr.left;vr<=gr.right;vr++)this.getCell(yr,vr).unmerge();delete this._merges[pr.address]}}get hasMerges(){return ar.some(this._merges,Boolean)}unMergeCells(){for(var pr=arguments.length,gr=new Array(pr),yr=0;yr<pr;yr++)gr[yr]=arguments[yr];const vr=new lr(gr);for(let _r=vr.top;_r<=vr.bottom;_r++)for(let xr=vr.left;xr<=vr.right;xr++){const Rr=this.findCell(_r,xr);Rr&&(Rr.type===ur.ValueType.Merge?this._unMergeMaster(Rr.master):this._merges[Rr.address]&&this._unMergeMaster(Rr))}}fillFormula(pr,gr,yr){let vr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const _r=sr.decode(pr),{top:xr,left:Rr,bottom:Cr,right:Tr}=_r,Ir=Tr-Rr+1,Lr=sr.encodeAddress(xr,Rr),Nr=vr==="shared";let Or;Or=typeof yr=="function"?yr:Array.isArray(yr)?Array.isArray(yr[0])?(Mr,jr)=>yr[Mr-xr][jr-Rr]:(Mr,jr)=>yr[(Mr-xr)*Ir+(jr-Rr)]:()=>{};let Pr=!0;for(let Mr=xr;Mr<=Cr;Mr++)for(let jr=Rr;jr<=Tr;jr++)Pr?(this.getCell(Mr,jr).value={shareType:vr,formula:gr,ref:pr,result:Or(Mr,jr)},Pr=!1):this.getCell(Mr,jr).value=Nr?{sharedFormula:Lr,result:Or(Mr,jr)}:Or(Mr,jr)}addImage(pr,gr){const yr={type:"image",imageId:pr,range:gr};this._media.push(new dr(this,yr))}getImages(){return this._media.filter(pr=>pr.type==="image")}addBackgroundImage(pr){const gr={type:"background",imageId:pr};this._media.push(new dr(this,gr))}getBackgroundImageId(){const pr=this._media.find(gr=>gr.type==="background");return pr&&pr.imageId}protect(pr,gr){return new Promise(yr=>{this.sheetProtection={sheet:!0},gr&&"spinCount"in gr&&(gr.spinCount=Number.isFinite(gr.spinCount)?Math.round(Math.max(0,gr.spinCount)):1e5),pr&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=mr.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=gr&&"spinCount"in gr?gr.spinCount:1e5,this.sheetProtection.hashValue=mr.convertPasswordToHash(pr,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),gr&&(this.sheetProtection=Object.assign(this.sheetProtection,gr),!pr&&"spinCount"in gr&&delete this.sheetProtection.spinCount),yr()})}unprotect(){this.sheetProtection=null}addTable(pr){const gr=new hr(this,pr);return this.tables[pr.name]=gr,gr}getTable(pr){return this.tables[pr]}removeTable(pr){delete this.tables[pr]}getTables(){return Object.values(this.tables)}addConditionalFormatting(pr){this.conditionalFormattings.push(pr)}removeConditionalFormatting(pr){typeof pr=="number"?this.conditionalFormattings.splice(pr,1):this.conditionalFormattings=pr instanceof Function?this.conditionalFormattings.filter(pr):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(pr){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=pr}get model(){const pr={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(vr=>vr.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(vr=>vr.model),conditionalFormattings:this.conditionalFormattings};pr.cols=cr.toModel(this.columns);const gr=pr.rows=[],yr=pr.dimensions=new lr;return this._rows.forEach(vr=>{const _r=vr&&vr.model;_r&&(yr.expand(_r.number,_r.min,_r.number,_r.max),gr.push(_r))}),pr.merges=[],ar.each(this._merges,vr=>{pr.merges.push(vr.range)}),pr}_parseRows(pr){this._rows=[],pr.rows.forEach(gr=>{const yr=new or(this,gr.number);this._rows[yr.number-1]=yr,yr.model=gr})}_parseMergeCells(pr){ar.each(pr.mergeCells,gr=>{this.mergeCellsWithoutStyle(gr)})}set model(pr){this.name=pr.name,this._columns=cr.fromModel(this,pr.cols),this._parseRows(pr),this._parseMergeCells(pr),this.dataValidations=new fr(pr.dataValidations),this.properties=pr.properties,this.pageSetup=pr.pageSetup,this.headerFooter=pr.headerFooter,this.views=pr.views,this.autoFilter=pr.autoFilter,this._media=pr.media.map(gr=>new dr(this,gr)),this.sheetProtection=pr.sheetProtection,this.tables=pr.tables.reduce((gr,yr)=>{const vr=new hr;return vr.model=yr,gr[yr.name]=vr,gr},{}),this.conditionalFormattings=pr.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(rr,nr,ir){rr("core-js/modules/es.promise"),rr("core-js/modules/es.promise.finally"),rr("core-js/modules/es.object.assign"),rr("core-js/modules/es.object.keys"),rr("core-js/modules/es.object.values"),rr("core-js/modules/es.symbol"),rr("core-js/modules/es.symbol.async-iterator"),rr("core-js/modules/es.array.iterator"),rr("core-js/modules/es.array.includes"),rr("core-js/modules/es.array.find-index"),rr("core-js/modules/es.array.find"),rr("core-js/modules/es.string.from-code-point"),rr("core-js/modules/es.string.includes"),rr("core-js/modules/es.number.is-nan"),rr("regenerator-runtime/runtime");const ar={Workbook:rr("./doc/workbook")},sr=rr("./doc/enums");Object.keys(sr).forEach(lr=>{ar[lr]=sr[lr]}),nr.exports=ar},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(rr,nr,ir){const ar=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");ir.bufferToString=function(sr){return typeof sr=="string"?sr:ar?ar.decode(sr):sr.toString()}},{}],17:[function(rr,nr,ir){const ar=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:sr}=rr("buffer");ir.stringToBuffer=function(lr){return typeof lr!="string"?lr:ar?sr.from(ar.encode(lr).buffer):sr.from(lr)}},{buffer:220}],18:[function(rr,nr,ir){const ar=rr("./under-dash"),sr=rr("./col-cache");nr.exports=class{constructor(lr){this.template=lr,this.sheets={}}addCell(lr){this.addCellEx(sr.decodeEx(lr))}getCell(lr){return this.findCellEx(sr.decodeEx(lr),!0)}findCell(lr){return this.findCellEx(sr.decodeEx(lr),!1)}findCellAt(lr,or,cr){const ur=this.sheets[lr],dr=ur&&ur[or];return dr&&dr[cr]}addCellEx(lr){if(lr.top)for(let or=lr.top;or<=lr.bottom;or++)for(let cr=lr.left;cr<=lr.right;cr++)this.getCellAt(lr.sheetName,or,cr);else this.findCellEx(lr,!0)}getCellEx(lr){return this.findCellEx(lr,!0)}findCellEx(lr,or){const cr=this.findSheet(lr,or),ur=this.findSheetRow(cr,lr,or);return this.findRowCell(ur,lr,or)}getCellAt(lr,or,cr){const ur=this.sheets[lr]||(this.sheets[lr]=[]),dr=ur[or]||(ur[or]=[]);return dr[cr]||(dr[cr]={sheetName:lr,address:sr.n2l(cr)+or,row:or,col:cr})}removeCellEx(lr){const or=this.findSheet(lr);if(!or)return;const cr=this.findSheetRow(or,lr);cr&&delete cr[lr.col]}forEachInSheet(lr,or){const cr=this.sheets[lr];cr&&cr.forEach((ur,dr)=>{ur&&ur.forEach((hr,fr)=>{hr&&or(hr,dr,fr)})})}forEach(lr){ar.each(this.sheets,(or,cr)=>{this.forEachInSheet(cr,lr)})}map(lr){const or=[];return this.forEach(cr=>{or.push(lr(cr))}),or}findSheet(lr,or){const cr=lr.sheetName;return this.sheets[cr]?this.sheets[cr]:or?this.sheets[cr]=[]:void 0}findSheetRow(lr,or,cr){const{row:ur}=or;return lr&&lr[ur]?lr[ur]:cr?lr[ur]=[]:void 0}findRowCell(lr,or,cr){const{col:ur}=or;return lr&&lr[ur]?lr[ur]:cr?lr[ur]=this.template?Object.assign(or,JSON.parse(JSON.stringify(this.template))):or:void 0}spliceRows(lr,or,cr,ur){const dr=this.sheets[lr];if(dr){const hr=[];for(let fr=0;fr<ur;fr++)hr.push([]);dr.splice(or,cr,...hr)}}spliceColumns(lr,or,cr,ur){const dr=this.sheets[lr];if(dr){const hr=[];for(let fr=0;fr<ur;fr++)hr.push(null);ar.each(dr,fr=>{fr.splice(or,cr,...hr)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(rr,nr,ir){const ar=/^[A-Z]+\d+$/,sr={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:lr=>lr<=26?1:lr<=676?2:3,_fill(lr){let or,cr,ur,dr,hr,fr=1;if(lr>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&lr>=1){for(;fr<=26;)or=this._dictionary[fr-1],this._n2l[fr]=or,this._l2n[or]=fr,fr++;this._l2nFill=1}if(this._l2nFill<2&&lr>=2){for(fr=27;fr<=702;)cr=fr-27,ur=cr%26,dr=Math.floor(cr/26),or=this._dictionary[dr]+this._dictionary[ur],this._n2l[fr]=or,this._l2n[or]=fr,fr++;this._l2nFill=2}if(this._l2nFill<3&&lr>=3){for(fr=703;fr<=16384;)cr=fr-703,ur=cr%26,dr=Math.floor(cr/26)%26,hr=Math.floor(cr/676),or=this._dictionary[hr]+this._dictionary[dr]+this._dictionary[ur],this._n2l[fr]=or,this._l2n[or]=fr,fr++;this._l2nFill=3}},l2n(lr){if(this._l2n[lr]||this._fill(lr.length),!this._l2n[lr])throw new Error("Out of bounds. Invalid column letter: "+lr);return this._l2n[lr]},n2l(lr){if(lr<1||lr>16384)throw new Error(lr+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[lr]||this._fill(this._level(lr)),this._n2l[lr]},_hash:{},validateAddress(lr){if(!ar.test(lr))throw new Error("Invalid Address: "+lr);return!0},decodeAddress(lr){const or=lr.length<5&&this._hash[lr];if(or)return or;let cr=!1,ur="",dr=0,hr=!1,fr="",mr=0;for(let pr,gr=0;gr<lr.length;gr++)if(pr=lr.charCodeAt(gr),!hr&&pr>=65&&pr<=90)cr=!0,ur+=lr[gr],dr=26*dr+pr-64;else if(pr>=48&&pr<=57)hr=!0,fr+=lr[gr],mr=10*mr+pr-48;else if(hr&&cr&&pr!==36)break;if(cr){if(dr>16384)throw new Error("Out of bounds. Invalid column letter: "+ur)}else dr=void 0;hr||(mr=void 0);const br={address:lr=ur+fr,col:dr,row:mr,$col$row:`$${ur}$${fr}`};return dr<=100&&mr<=100&&(this._hash[lr]=br,this._hash[br.$col$row]=br),br},getAddress(lr,or){if(or){const cr=this.n2l(or)+lr;return this.decodeAddress(cr)}return this.decodeAddress(lr)},decode(lr){const or=lr.split(":");if(or.length===2){const cr=this.decodeAddress(or[0]),ur=this.decodeAddress(or[1]),dr={top:Math.min(cr.row,ur.row),left:Math.min(cr.col,ur.col),bottom:Math.max(cr.row,ur.row),right:Math.max(cr.col,ur.col)};return dr.tl=this.n2l(dr.left)+dr.top,dr.br=this.n2l(dr.right)+dr.bottom,dr.dimensions=`${dr.tl}:${dr.br}`,dr}return this.decodeAddress(lr)},decodeEx(lr){const or=lr.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),cr=or[1]||or[2],ur=or[3],dr=ur.split(":");if(dr.length>1){let fr=this.decodeAddress(dr[0]),mr=this.decodeAddress(dr[1]);const br=Math.min(fr.row,mr.row),pr=Math.min(fr.col,mr.col),gr=Math.max(fr.row,mr.row),yr=Math.max(fr.col,mr.col);return fr=this.n2l(pr)+br,mr=this.n2l(yr)+gr,{top:br,left:pr,bottom:gr,right:yr,sheetName:cr,tl:{address:fr,col:pr,row:br,$col$row:`$${this.n2l(pr)}$${br}`,sheetName:cr},br:{address:mr,col:yr,row:gr,$col$row:`$${this.n2l(yr)}$${gr}`,sheetName:cr},dimensions:`${fr}:${mr}`}}if(ur.startsWith("#"))return cr?{sheetName:cr,error:ur}:{error:ur};const hr=this.decodeAddress(ur);return cr?{sheetName:cr,...hr}:hr},encodeAddress:(lr,or)=>sr.n2l(or)+lr,encode(){switch(arguments.length){case 2:return sr.encodeAddress(arguments[0],arguments[1]);case 4:return`${sr.encodeAddress(arguments[0],arguments[1])}:${sr.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(lr,or){const[cr,ur,,dr,hr]=lr,[fr,mr]=or;return fr>=cr&&fr<=dr&&mr>=ur&&mr<=hr}};nr.exports=sr},{}],20:[function(rr,nr,ir){const ar=(lr,or)=>({...lr,...or.reduce((cr,ur)=>(lr[ur]&&(cr[ur]={...lr[ur]}),cr),{})}),sr=function(lr,or,cr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];lr[cr]&&(or[cr]=ar(lr[cr],ur))};ir.copyStyle=lr=>{if(!lr)return lr;if(or=lr,Object.keys(or).length===0)return{};var or;const cr={...lr};return sr(lr,cr,"font",["color"]),sr(lr,cr,"alignment"),sr(lr,cr,"protection"),lr.border&&(sr(lr,cr,"border"),sr(lr.border,cr.border,"top",["color"]),sr(lr.border,cr.border,"left",["color"]),sr(lr.border,cr.border,"bottom",["color"]),sr(lr.border,cr.border,"right",["color"]),sr(lr.border,cr.border,"diagonal",["color"])),lr.fill&&(sr(lr,cr,"fill",["fgColor","bgColor","center"]),lr.fill.stops&&(cr.fill.stops=lr.fill.stops.map(ur=>ar(ur,["color"])))),cr}},{}],21:[function(rr,nr,ir){(function(ar){(function(){const sr=rr("crypto"),lr={hash(or){const cr=sr.createHash(or);for(var ur=arguments.length,dr=new Array(ur>1?ur-1:0),hr=1;hr<ur;hr++)dr[hr-1]=arguments[hr];return cr.update(ar.concat(dr)),cr.digest()},convertPasswordToHash(or,cr,ur,dr){if(cr=cr.toLowerCase(),sr.getHashes().indexOf(cr)<0)throw new Error(`Hash algorithm '${cr}' not supported!`);const hr=ar.from(or,"utf16le");let fr=this.hash(cr,ar.from(ur,"base64"),hr);for(let mr=0;mr<dr;mr++){const br=ar.alloc(4);br.writeUInt32LE(mr,0),fr=this.hash(cr,fr,br)}return fr.toString("base64")},randomBytes:or=>sr.randomBytes(or)};nr.exports=lr}).call(this)}).call(this,rr("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(rr,nr,ir){const{SaxesParser:ar}=rr("saxes"),{PassThrough:sr}=rr("readable-stream"),{bufferToString:lr}=rr("./browser-buffer-decode");nr.exports=async function*(or){or.pipe&&!or[Symbol.asyncIterator]&&(or=or.pipe(new sr));const cr=new ar;let ur;cr.on("error",hr=>{ur=hr});let dr=[];cr.on("opentag",hr=>dr.push({eventType:"opentag",value:hr})),cr.on("text",hr=>dr.push({eventType:"text",value:hr})),cr.on("closetag",hr=>dr.push({eventType:"closetag",value:hr}));for await(const hr of or){if(cr.write(lr(hr)),ur)throw ur;yield dr,dr=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(rr,nr,ir){const ar=rr("./col-cache"),sr=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,lr=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;nr.exports={slideFormula:function(or,cr,ur){const dr=ar.decode(cr),hr=ar.decode(ur);return or.replace(sr,(fr,mr,br,pr,gr)=>{if(gr)return fr;const yr=lr.exec(pr);if(yr){const vr=yr[1],_r=yr[2].toUpperCase(),xr=yr[3],Rr=yr[4];if(_r.length>3||_r.length===3&&_r>"XFD")return fr;let Cr=ar.l2n(_r),Tr=parseInt(Rr,10);return vr||(Cr+=hr.col-dr.col),xr||(Tr+=hr.row-dr.row),(mr||"")+(vr||"")+ar.n2l(Cr)+(xr||"")+Tr}return fr})}}},{"./col-cache":19}],24:[function(rr,nr,ir){(function(ar,sr){(function(){const lr=rr("readable-stream"),or=rr("./utils"),cr=rr("./string-buf");class ur{constructor(pr,gr){this._data=pr,this._encoding=gr}get length(){return this.toBuffer().length}copy(pr,gr,yr,vr){return this.toBuffer().copy(pr,gr,yr,vr)}toBuffer(){return this._buffer||(this._buffer=sr.from(this._data,this._encoding)),this._buffer}}class dr{constructor(pr){this._data=pr}get length(){return this._data.length}copy(pr,gr,yr,vr){return this._data._buf.copy(pr,gr,yr,vr)}toBuffer(){return this._data.toBuffer()}}class hr{constructor(pr){this._data=pr}get length(){return this._data.length}copy(pr,gr,yr,vr){this._data.copy(pr,gr,yr,vr)}toBuffer(){return this._data}}class fr{constructor(pr){this.size=pr,this.buffer=sr.alloc(pr),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const pr=sr.alloc(this.iWrite-this.iRead);return this.buffer.copy(pr,0,this.iRead,this.iWrite),pr}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(pr){let gr;return pr===0?null:pr===void 0||pr>=this.length?(gr=this.toBuffer(),this.iRead=this.iWrite,gr):(gr=sr.alloc(pr),this.buffer.copy(gr,0,this.iRead,pr),this.iRead+=pr,gr)}write(pr,gr,yr){const vr=Math.min(yr,this.size-this.iWrite);return pr.copy(this.buffer,this.iWrite,gr,gr+vr),this.iWrite+=vr,vr}}const mr=function(br){br=br||{},this.bufSize=br.bufSize||1048576,this.buffers=[],this.batch=br.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};or.inherits(mr,lr.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return sr.concat(this.buffers.map(br=>br.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const pr=this.buffers[this.buffers.length-1];if(!pr.full)return pr}const br=new fr(this.bufSize);return this.buffers.push(br),br},async _pipe(br){await Promise.all(this.pipes.map(function(pr){return new Promise(gr=>{pr.write(br.toBuffer(),()=>{gr()})})}))},_writeToBuffers(br){let pr=0;const gr=br.length;for(;pr<gr;)pr+=this._getWritableBuffer().write(br,pr,gr-pr)},async write(br,pr,gr){let yr;if(pr instanceof Function&&(gr=pr,pr="utf8"),gr=gr||or.nop,br instanceof cr)yr=new dr(br);else if(br instanceof sr)yr=new hr(br);else{if(!(typeof br=="string"||br instanceof String||br instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");yr=new ur(br,pr)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(yr);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(yr),ar.nextTick(gr)):(await this._pipe(yr),gr());else this.paused||this.emit("data",yr.toBuffer()),this._writeToBuffers(yr),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(br,pr,gr){const yr=vr=>{vr?gr(vr):(this._flush(),this.pipes.forEach(_r=>{_r.end()}),this.emit("finish"))};br?this.write(br,pr,yr):yr()},read(br){let pr;if(br){for(pr=[];br&&this.buffers.length&&!this.buffers[0].eod;){const gr=this.buffers[0],yr=gr.read(br);br-=yr.length,pr.push(yr),gr.eod&&gr.full&&this.buffers.shift()}return sr.concat(pr)}return pr=this.buffers.map(gr=>gr.toBuffer()).filter(Boolean),this.buffers=[],sr.concat(pr)},setEncoding(br){this.encoding=br},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(br){this.pipes.push(br),!this.paused&&this.buffers.length&&this.end()},unpipe(br){this.pipes=this.pipes.filter(pr=>pr!==br)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),nr.exports=mr}).call(this)}).call(this,rr("_process"),rr("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(rr,nr,ir){(function(ar){(function(){nr.exports=class{constructor(sr){this._buf=ar.alloc(sr&&sr.size||16384),this._encoding=sr&&sr.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=ar.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(sr){sr=sr||0,this._buffer=void 0,this._inPos=sr}_grow(sr){let lr=2*this._buf.length;for(;lr<sr;)lr*=2;const or=ar.alloc(lr);this._buf.copy(or,0),this._buf=or}addText(sr){this._buffer=void 0;let lr=this._inPos+this._buf.write(sr,this._inPos,this._encoding);for(;lr>=this._buf.length-4;)this._grow(this._inPos+sr.length),lr=this._inPos+this._buf.write(sr,this._inPos,this._encoding);this._inPos=lr}addStringBuf(sr){sr.length&&(this._buffer=void 0,this.length+sr.length>this.capacity&&this._grow(this.length+sr.length),sr._buf.copy(this._buf,this._inPos,0,sr.length),this._inPos+=sr.length)}}}).call(this)}).call(this,rr("buffer").Buffer)},{buffer:220}],26:[function(rr,nr,ir){const{toString:ar}=Object.prototype,sr=/["&<>]/,lr={each:function(or,cr){or&&(Array.isArray(or)?or.forEach(cr):Object.keys(or).forEach(ur=>{cr(or[ur],ur)}))},some:function(or,cr){return!!or&&(Array.isArray(or)?or.some(cr):Object.keys(or).some(ur=>cr(or[ur],ur)))},every:function(or,cr){return!or||(Array.isArray(or)?or.every(cr):Object.keys(or).every(ur=>cr(or[ur],ur)))},map:function(or,cr){return or?Array.isArray(or)?or.map(cr):Object.keys(or).map(ur=>cr(or[ur],ur)):[]},keyBy:(or,cr)=>or.reduce((ur,dr)=>(ur[dr[cr]]=dr,ur),{}),isEqual:function(or,cr){const ur=typeof or,dr=typeof cr,hr=Array.isArray(or),fr=Array.isArray(cr);let mr;if(ur!==dr)return!1;switch(typeof or){case"object":if(hr||fr)return!(!hr||!fr)&&or.length===cr.length&&or.every((br,pr)=>{const gr=cr[pr];return lr.isEqual(br,gr)});if(or===null||cr===null)return or===cr;if(mr=Object.keys(or),Object.keys(cr).length!==mr.length)return!1;for(const br of mr)if(!cr.hasOwnProperty(br))return!1;return lr.every(or,(br,pr)=>{const gr=cr[pr];return lr.isEqual(br,gr)});default:return or===cr}},escapeHtml(or){const cr=sr.exec(or);if(!cr)return or;let ur="",dr="",hr=0,fr=cr.index;for(;fr<or.length;fr++){switch(or.charAt(fr)){case'"':dr="&quot;";break;case"&":dr="&amp;";break;case"'":dr="&apos;";break;case"<":dr="&lt;";break;case">":dr="&gt;";break;default:continue}hr!==fr&&(ur+=or.substring(hr,fr)),hr=fr+1,ur+=dr}return hr!==fr?ur+or.substring(hr,fr):ur},strcmp:(or,cr)=>or<cr?-1:or>cr?1:0,isUndefined:or=>ar.call(or)==="[object Undefined]",isObject:or=>ar.call(or)==="[object Object]",deepMerge(){const or=arguments[0]||{},{length:cr}=arguments;let ur,dr,hr;function fr(mr,br){ur=or[br],hr=Array.isArray(mr),lr.isObject(mr)||hr?(hr?(hr=!1,dr=ur&&Array.isArray(ur)?ur:[]):dr=ur&&lr.isObject(ur)?ur:{},or[br]=lr.deepMerge(dr,mr)):lr.isUndefined(mr)||(or[br]=mr)}for(let mr=0;mr<cr;mr++)lr.each(arguments[mr],fr);return or}};nr.exports=lr},{}],27:[function(rr,nr,ir){(function(ar,sr){(function(){const lr=rr("fs"),or=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,cr={nop(){},promiseImmediate:ur=>new Promise(dr=>{ar.setImmediate?sr(()=>{dr(ur)}):setTimeout(()=>{dr(ur)},1)}),inherits:function(ur,dr,hr,fr){ur.super_=dr,fr||(fr=hr,hr=null),hr&&Object.keys(hr).forEach(br=>{Object.defineProperty(ur,br,Object.getOwnPropertyDescriptor(hr,br))});const mr={constructor:{value:ur,enumerable:!1,writable:!1,configurable:!0}};fr&&Object.keys(fr).forEach(br=>{mr[br]=Object.getOwnPropertyDescriptor(fr,br)}),ur.prototype=Object.create(dr.prototype,mr)},dateToExcel:(ur,dr)=>25569+ur.getTime()/864e5-(dr?1462:0),excelToDate(ur,dr){const hr=Math.round(24*(ur-25569+(dr?1462:0))*3600*1e3);return new Date(hr)},parsePath(ur){const dr=ur.lastIndexOf("/");return{path:ur.substring(0,dr),name:ur.substring(dr+1)}},getRelsPath(ur){const dr=cr.parsePath(ur);return`${dr.path}/_rels/${dr.name}.rels`},xmlEncode(ur){const dr=or.exec(ur);if(!dr)return ur;let hr="",fr="",mr=0,br=dr.index;for(;br<ur.length;br++){const pr=ur.charCodeAt(br);switch(pr){case 34:fr="&quot;";break;case 38:fr="&amp;";break;case 39:fr="&apos;";break;case 60:fr="&lt;";break;case 62:fr="&gt;";break;case 127:fr="";break;default:if(pr<=31&&(pr<=8||pr>=11&&pr!==13)){fr="";break}continue}mr!==br&&(hr+=ur.substring(mr,br)),mr=br+1,fr&&(hr+=fr)}return mr!==br?hr+ur.substring(mr,br):hr},xmlDecode:ur=>ur.replace(/&([a-z]*);/g,dr=>{switch(dr){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return dr}}),validInt(ur){const dr=parseInt(ur,10);return Number.isNaN(dr)?0:dr},isDateFmt(ur){return ur?(ur=(ur=ur.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:ur=>new Promise(dr=>{lr.access(ur,lr.constants.F_OK,hr=>{dr(!hr)})})},toIsoDateString:ur=>ur.toIsoString().subsstr(0,10),parseBoolean:ur=>ur===!0||ur==="true"||ur===1||ur==="1"};nr.exports=cr}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},rr("timers").setImmediate)},{fs:216,timers:523}],28:[function(rr,nr,ir){const ar=rr("./under-dash"),sr=rr("./utils");function lr(ur,dr,hr){ur.push(` ${dr}="${sr.xmlEncode(hr.toString())}"`)}function or(ur,dr){if(dr){const hr=[];ar.each(dr,(fr,mr)=>{fr!==void 0&&lr(hr,mr,fr)}),ur.push(hr.join(""))}}class cr{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(dr){const hr=this._xml;hr.push("<?xml"),or(hr,dr),hr.push(`?>
`)}openNode(dr,hr){const fr=this.tos,mr=this._xml;fr&&this.open&&mr.push(">"),this._stack.push(dr),mr.push("<"),mr.push(dr),or(mr,hr),this.leaf=!0,this.open=!0}addAttribute(dr,hr){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");hr!==void 0&&lr(this._xml,dr,hr)}addAttributes(dr){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");or(this._xml,dr)}writeText(dr){const hr=this._xml;this.open&&(hr.push(">"),this.open=!1),this.leaf=!1,hr.push(sr.xmlEncode(dr.toString()))}writeXml(dr){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(dr)}closeNode(){const dr=this._stack.pop(),hr=this._xml;this.leaf?hr.push("/>"):(hr.push("</"),hr.push(dr),hr.push(">")),this.open=!1,this.leaf=!1}leafNode(dr,hr,fr){this.openNode(dr,hr),fr!==void 0&&this.writeText(fr),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const dr=this._rollbacks.pop();this._xml.length>dr.xml&&this._xml.splice(dr.xml,this._xml.length-dr.xml),this._stack.length>dr.stack&&this._stack.splice(dr.stack,this._stack.length-dr.stack),this.leaf=dr.leaf,this.open=dr.open}get xml(){return this.closeAll(),this._xml.join("")}}cr.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},nr.exports=cr},{"./under-dash":26,"./utils":27}],29:[function(rr,nr,ir){(function(ar){(function(){const sr=rr("events"),lr=rr("jszip"),or=rr("./stream-buf"),{stringToBuffer:cr}=rr("./browser-buffer-encode");class ur extends sr.EventEmitter{constructor(hr){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},hr),this.zip=new lr,this.stream=new or}append(hr,fr){fr.hasOwnProperty("base64")&&fr.base64?this.zip.file(fr.name,hr,{base64:!0}):(ar.browser&&typeof hr=="string"&&(hr=cr(hr)),this.zip.file(fr.name,hr))}async finalize(){const hr=await this.zip.generateAsync(this.options);this.stream.end(hr),this.emit("finish")}read(hr){return this.stream.read(hr)}setEncoding(hr){return this.stream.setEncoding(hr)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(hr,fr){return this.stream.pipe(hr,fr)}unpipe(hr){return this.stream.unpipe(hr)}unshift(hr){return this.stream.unshift(hr)}wrap(hr){return this.stream.wrap(hr)}}nr.exports={ZipWriter:ur}}).call(this)}).call(this,rr("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(rr,nr,ir){nr.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(rr,nr,ir){nr.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(rr,nr,ir){const ar=rr("../../utils/parse-sax"),sr=rr("../../utils/xml-stream");class lr{prepare(){}render(){}parseOpen(cr){}parseText(cr){}parseClose(cr){}reconcile(cr,ur){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(cr=>{cr instanceof lr?cr.reset():cr.xform&&cr.xform.reset()})}mergeModel(cr){this.model=Object.assign(this.model||{},cr)}async parse(cr){for await(const ur of cr)for(const{eventType:dr,value:hr}of ur)if(dr==="opentag")this.parseOpen(hr);else if(dr==="text")this.parseText(hr);else if(dr==="closetag"&&!this.parseClose(hr.name))return this.model;return this.model}async parseStream(cr){return this.parse(ar(cr))}get xml(){return this.toXml(this.model)}toXml(cr){const ur=new sr;return this.render(ur,cr),ur.xml}static toAttribute(cr,ur){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(cr===void 0){if(dr)return ur}else if(dr||cr!==ur)return cr.toString()}static toStringAttribute(cr,ur){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return lr.toAttribute(cr,ur,dr)}static toStringValue(cr,ur){return cr===void 0?ur:cr}static toBoolAttribute(cr,ur){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(cr===void 0){if(dr)return ur}else if(dr||cr!==ur)return cr?"1":"0"}static toBoolValue(cr,ur){return cr===void 0?ur:cr==="1"}static toIntAttribute(cr,ur){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return lr.toAttribute(cr,ur,dr)}static toIntValue(cr,ur){return cr===void 0?ur:parseInt(cr,10)}static toFloatAttribute(cr,ur){let dr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return lr.toAttribute(cr,ur,dr)}static toFloatValue(cr,ur){return cr===void 0?ur:parseFloat(cr)}}nr.exports=lr},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../../../utils/col-cache");function lr(cr){try{return sr.decodeEx(cr),!0}catch{return!1}}function or(cr){const ur=[];let dr=!1,hr="";return cr.split(",").forEach(fr=>{if(!fr)return;const mr=(fr.match(/'/g)||[]).length;if(!mr)return void(dr?hr+=fr+",":lr(fr)&&ur.push(fr));const br=mr%2==0;!dr&&br&&lr(fr)?ur.push(fr):dr&&!br?(dr=!1,lr(hr+fr)&&ur.push(hr+fr),hr=""):(dr=!0,hr+=fr+",")}),ur}nr.exports=class extends ar{render(cr,ur){cr.openNode("definedName",{name:ur.name,localSheetId:ur.localSheetId}),cr.writeText(ur.ranges.join(",")),cr.closeNode()}parseOpen(cr){switch(cr.name){case"definedName":return this._parsedName=cr.attributes.name,this._parsedLocalSheetId=cr.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(cr){this._parsedText.push(cr)}parseClose(){return this.model={name:this._parsedName,ranges:or(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(rr,nr,ir){const ar=rr("../../../utils/utils"),sr=rr("../base-xform");nr.exports=class extends sr{render(lr,or){lr.leafNode("sheet",{sheetId:or.id,name:or.name,state:or.state,"r:id":or.rId})}parseOpen(lr){return lr.name==="sheet"&&(this.model={name:ar.xmlDecode(lr.attributes.name),id:parseInt(lr.attributes.sheetId,10),state:lr.attributes.state,rId:lr.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){sr.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:lr.fullCalcOnLoad?1:void 0})}parseOpen(sr){return sr.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){sr.leafNode("workbookPr",{date1904:lr.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(sr){return sr.name==="workbookPr"&&(this.model={date1904:sr.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){const or={xWindow:lr.x||0,yWindow:lr.y||0,windowWidth:lr.width||12e3,windowHeight:lr.height||24e3,firstSheet:lr.firstSheet,activeTab:lr.activeTab};lr.visibility&&lr.visibility!=="visible"&&(or.visibility=lr.visibility),sr.leafNode("workbookView",or)}parseOpen(sr){if(sr.name==="workbookView"){const lr=this.model={},or=function(ur,dr,hr){const fr=dr!==void 0?lr[ur]=dr:hr;fr!==void 0&&(lr[ur]=fr)},cr=function(ur,dr,hr){const fr=dr!==void 0?lr[ur]=parseInt(dr,10):hr;fr!==void 0&&(lr[ur]=fr)};return cr("x",sr.attributes.xWindow,0),cr("y",sr.attributes.yWindow,0),cr("width",sr.attributes.windowWidth,25e3),cr("height",sr.attributes.windowHeight,1e4),or("visibility",sr.attributes.visibility,"visible"),cr("activeTab",sr.attributes.activeTab,void 0),cr("firstSheet",sr.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../../../utils/col-cache"),lr=rr("../../../utils/xml-stream"),or=rr("../base-xform"),cr=rr("../static-xform"),ur=rr("../list-xform"),dr=rr("./defined-name-xform"),hr=rr("./sheet-xform"),fr=rr("./workbook-view-xform"),mr=rr("./workbook-properties-xform"),br=rr("./workbook-calc-properties-xform");class pr extends or{constructor(){super(),this.map={fileVersion:pr.STATIC_XFORMS.fileVersion,workbookPr:new mr,bookViews:new ur({tag:"bookViews",count:!1,childXform:new fr}),sheets:new ur({tag:"sheets",count:!1,childXform:new hr}),definedNames:new ur({tag:"definedNames",count:!1,childXform:new dr}),calcPr:new br}}prepare(yr){yr.sheets=yr.worksheets;const vr=[];let _r=0;yr.sheets.forEach(xr=>{if(xr.pageSetup&&xr.pageSetup.printArea&&xr.pageSetup.printArea.split("&&").forEach(Rr=>{const Cr=Rr.split(":"),Tr={name:"_xlnm.Print_Area",ranges:[`'${xr.name}'!$${Cr[0]}:$${Cr[1]}`],localSheetId:_r};vr.push(Tr)}),xr.pageSetup&&(xr.pageSetup.printTitlesRow||xr.pageSetup.printTitlesColumn)){const Rr=[];if(xr.pageSetup.printTitlesColumn){const Tr=xr.pageSetup.printTitlesColumn.split(":");Rr.push(`'${xr.name}'!$${Tr[0]}:$${Tr[1]}`)}if(xr.pageSetup.printTitlesRow){const Tr=xr.pageSetup.printTitlesRow.split(":");Rr.push(`'${xr.name}'!$${Tr[0]}:$${Tr[1]}`)}const Cr={name:"_xlnm.Print_Titles",ranges:Rr,localSheetId:_r};vr.push(Cr)}_r++}),vr.length&&(yr.definedNames=yr.definedNames.concat(vr)),(yr.media||[]).forEach((xr,Rr)=>{xr.name=xr.type+(Rr+1)})}render(yr,vr){yr.openXml(lr.StdDocAttributes),yr.openNode("workbook",pr.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(yr),this.map.workbookPr.render(yr,vr.properties),this.map.bookViews.render(yr,vr.views),this.map.sheets.render(yr,vr.sheets),this.map.definedNames.render(yr,vr.definedNames),this.map.calcPr.render(yr,vr.calcProperties),yr.closeNode()}parseOpen(yr){if(this.parser)return this.parser.parseOpen(yr),!0;switch(yr.name){case"workbook":return!0;default:return this.parser=this.map[yr.name],this.parser&&this.parser.parseOpen(yr),!0}}parseText(yr){this.parser&&this.parser.parseText(yr)}parseClose(yr){if(this.parser)return this.parser.parseClose(yr)||(this.parser=void 0),!0;switch(yr){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(yr){const vr=(yr.workbookRels||[]).reduce((Tr,Ir)=>(Tr[Ir.Id]=Ir,Tr),{}),_r=[];let xr,Rr=0;(yr.sheets||[]).forEach(Tr=>{const Ir=vr[Tr.rId];Ir&&(xr=yr.worksheetHash["xl/"+Ir.Target.replace(/^(\s|\/xl\/)+/,"")],xr&&(xr.name=Tr.name,xr.id=Tr.id,xr.state=Tr.state,_r[Rr++]=xr))});const Cr=[];ar.each(yr.definedNames,Tr=>{if(Tr.name==="_xlnm.Print_Area"){if(xr=_r[Tr.localSheetId],xr){xr.pageSetup||(xr.pageSetup={});const Ir=sr.decodeEx(Tr.ranges[0]);xr.pageSetup.printArea=xr.pageSetup.printArea?`${xr.pageSetup.printArea}&&${Ir.dimensions}`:Ir.dimensions}}else if(Tr.name==="_xlnm.Print_Titles"){if(xr=_r[Tr.localSheetId],xr){xr.pageSetup||(xr.pageSetup={});const Ir=Tr.ranges.join(","),Lr=/\$/g,Nr=/\$\d+:\$\d+/,Or=Ir.match(Nr);if(Or&&Or.length){const jr=Or[0];xr.pageSetup.printTitlesRow=jr.replace(Lr,"")}const Pr=/\$[A-Z]+:\$[A-Z]+/,Mr=Ir.match(Pr);if(Mr&&Mr.length){const jr=Mr[0];xr.pageSetup.printTitlesColumn=jr.replace(Lr,"")}}}else Cr.push(Tr)}),yr.definedNames=Cr,yr.media.forEach((Tr,Ir)=>{Tr.index=Ir})}}pr.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},pr.STATIC_XFORMS={fileVersion:new cr({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},nr.exports=pr},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(rr,nr,ir){const ar=rr("../strings/rich-text-xform"),sr=rr("../../../utils/utils"),lr=rr("../base-xform"),or=nr.exports=function(cr){this.model=cr};sr.inherits(or,lr,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new ar),this._richTextXform},render(cr,ur){ur=ur||this.model,cr.openNode("comment",{ref:ur.ref,authorId:0}),cr.openNode("text"),ur&&ur.note&&ur.note.texts&&ur.note.texts.forEach(dr=>{this.richTextXform.render(cr,dr)}),cr.closeNode(),cr.closeNode()},parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case"comment":return this.model={type:"note",note:{texts:[]},...cr.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(cr),!0;default:return!1}},parseText(cr){this.parser&&this.parser.parseText(cr)},parseClose(cr){switch(cr){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(cr),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../../../utils/utils"),lr=rr("../base-xform"),or=rr("./comment-xform"),cr=nr.exports=function(){this.map={comment:new or}};sr.inherits(cr,lr,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(ur,dr){dr=dr||this.model,ur.openXml(ar.StdDocAttributes),ur.openNode("comments",cr.COMMENTS_ATTRIBUTES),ur.openNode("authors"),ur.leafNode("author",null,"Author"),ur.closeNode(),ur.openNode("commentList"),dr.comments.forEach(hr=>{this.map.comment.render(ur,hr)}),ur.closeNode(),ur.closeNode()},parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(ur),!0;default:return!1}},parseText(ur){this.parser&&this.parser.parseText(ur)},parseClose(ur){switch(ur){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(ur),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{constructor(sr){super(),this._model=sr}get tag(){return this._model&&this._model.tag}render(sr,lr,or){(lr===or[2]||this.tag==="x:SizeWithCells"&&lr===or[1])&&sr.leafNode(this.tag)}parseOpen(sr){switch(sr.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{constructor(sr){super(),this._model=sr}get tag(){return this._model&&this._model.tag}render(sr,lr){sr.leafNode(this.tag,null,lr)}parseOpen(sr){switch(sr.name){case this.tag:return this.text="",!0;default:return!1}}parseText(sr){this.text=sr}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"x:Anchor"}getAnchorRect(sr){const lr=Math.floor(sr.left),or=Math.floor(68*(sr.left-lr)),cr=Math.floor(sr.top),ur=Math.floor(18*(sr.top-cr)),dr=Math.floor(sr.right),hr=Math.floor(68*(sr.right-dr)),fr=Math.floor(sr.bottom);return[lr,or,cr,ur,dr,hr,fr,Math.floor(18*(sr.bottom-fr))]}getDefaultRect(sr){const lr=sr.col,or=Math.max(sr.row-2,0);return[lr,6,or,14,lr+2,2,or+4,16]}render(sr,lr){const or=lr.anchor?this.getAnchorRect(lr.anchor):this.getDefaultRect(lr.refAddress);sr.leafNode("x:Anchor",null,or.join(", "))}parseOpen(sr){switch(sr.name){case this.tag:return this.text="",!0;default:return!1}}parseText(sr){this.text=sr}parseClose(){return!1}}},{"../base-xform":32}],44:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./vml-anchor-xform"),lr=rr("./style/vml-protection-xform"),or=rr("./style/vml-position-xform"),cr=["twoCells","oneCells","absolute"];nr.exports=class extends ar{constructor(){super(),this.map={"x:Anchor":new sr,"x:Locked":new lr({tag:"x:Locked"}),"x:LockText":new lr({tag:"x:LockText"}),"x:SizeWithCells":new or({tag:"x:SizeWithCells"}),"x:MoveWithCells":new or({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(ur,dr){const{protection:hr,editAs:fr}=dr.note;ur.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(ur,fr,cr),this.map["x:SizeWithCells"].render(ur,fr,cr),this.map["x:Anchor"].render(ur,dr),this.map["x:Locked"].render(ur,hr.locked),ur.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(ur,hr.lockText),ur.leafNode("x:Row",null,dr.refAddress.row-1),ur.leafNode("x:Column",null,dr.refAddress.col-1),ur.closeNode()}parseOpen(ur){switch(ur.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[ur.name],this.parser&&this.parser.parseOpen(ur)}return!0}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.parser=void 0),!0;switch(ur){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const ur=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),dr=Object.keys(ur).length;this.model.editAs=cr[dr],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("./vml-shape-xform");class or extends sr{constructor(){super(),this.map={"v:shape":new lr}}get tag(){return"xml"}render(ur,dr){ur.openXml(ar.StdDocAttributes),ur.openNode(this.tag,or.DRAWING_ATTRIBUTES),ur.openNode("o:shapelayout",{"v:ext":"edit"}),ur.leafNode("o:idmap",{"v:ext":"edit",data:1}),ur.closeNode(),ur.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),ur.leafNode("v:stroke",{joinstyle:"miter"}),ur.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),ur.closeNode(),dr.comments.forEach((hr,fr)=>{this.map["v:shape"].render(ur,hr,fr)}),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[ur.name],this.parser&&this.parser.parseOpen(ur)}return!0}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(ur){case this.tag:return!1;default:return!0}}reconcile(ur,dr){ur.anchors.forEach(hr=>{hr.br?this.map["xdr:twoCellAnchor"].reconcile(hr,dr):this.map["xdr:oneCellAnchor"].reconcile(hr,dr)})}}or.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},nr.exports=or},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./vml-textbox-xform"),lr=rr("./vml-client-data-xform");class or extends ar{constructor(){super(),this.map={"v:textbox":new sr,"x:ClientData":new lr}}get tag(){return"v:shape"}render(ur,dr,hr){ur.openNode("v:shape",or.V_SHAPE_ATTRIBUTES(dr,hr)),ur.leafNode("v:fill",{color2:"infoBackground [80]"}),ur.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),ur.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(ur,dr),this.map["x:ClientData"].render(ur,dr),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case this.tag:this.reset(),this.model={margins:{insetmode:ur.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[ur.name],this.parser&&this.parser.parseOpen(ur)}return!0}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.parser=void 0),!0;switch(ur){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}or.V_SHAPE_ATTRIBUTES=(cr,ur)=>({id:"_x0000_s"+(1025+ur),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":cr.note.margins&&cr.note.margins.insetmode}),nr.exports=or},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"v:textbox"}conversionUnit(sr,lr,or){return`${parseFloat(sr)*lr.toFixed(2)}${or}`}reverseConversionUnit(sr){return(sr||"").split(",").map(lr=>Number(parseFloat(this.conversionUnit(parseFloat(lr),.1,"")).toFixed(2)))}render(sr,lr){const or={style:"mso-direction-alt:auto"};if(lr&&lr.note){let{inset:cr}=lr.note&&lr.note.margins;Array.isArray(cr)&&(cr=cr.map(ur=>this.conversionUnit(ur,10,"mm")).join(",")),cr&&(or.inset=cr)}sr.openNode("v:textbox",or),sr.leafNode("div",{style:"text-align:left"}),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:return this.model={inset:this.reverseConversionUnit(sr.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(rr,nr,ir){const ar=rr("./base-xform");nr.exports=class extends ar{createNewModel(sr){return{}}parseOpen(sr){return this.parser=this.parser||this.map[sr.name],this.parser?(this.parser.parseOpen(sr),!0):sr.name===this.tag&&(this.model=this.createNewModel(sr),!0)}parseText(sr){this.parser&&this.parser.parseText(sr)}onParserClose(sr,lr){this.model[sr]=lr.model}parseClose(sr){return this.parser?(this.parser.parseClose(sr)||(this.onParserClose(sr,this.parser),this.parser=void 0),!0):sr!==this.tag}}},{"./base-xform":32}],49:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){sr.openNode("HeadingPairs"),sr.openNode("vt:vector",{size:2,baseType:"variant"}),sr.openNode("vt:variant"),sr.leafNode("vt:lpstr",void 0,"Worksheets"),sr.closeNode(),sr.openNode("vt:variant"),sr.leafNode("vt:i4",void 0,lr.length),sr.closeNode(),sr.closeNode(),sr.closeNode()}parseOpen(sr){return sr.name==="HeadingPairs"}parseText(){}parseClose(sr){return sr!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){sr.openNode("TitlesOfParts"),sr.openNode("vt:vector",{size:lr.length,baseType:"lpstr"}),lr.forEach(or=>{sr.leafNode("vt:lpstr",void 0,or.name)}),sr.closeNode(),sr.closeNode()}parseOpen(sr){return sr.name==="TitlesOfParts"}parseText(){}parseClose(sr){return sr!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("../simple/string-xform"),or=rr("./app-heading-pairs-xform"),cr=rr("./app-titles-of-parts-xform");class ur extends sr{constructor(){super(),this.map={Company:new lr({tag:"Company"}),Manager:new lr({tag:"Manager"}),HeadingPairs:new or,TitleOfParts:new cr}}render(hr,fr){hr.openXml(ar.StdDocAttributes),hr.openNode("Properties",ur.PROPERTY_ATTRIBUTES),hr.leafNode("Application",void 0,"Microsoft Excel"),hr.leafNode("DocSecurity",void 0,"0"),hr.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(hr,fr.worksheets),this.map.TitleOfParts.render(hr,fr.worksheets),this.map.Company.render(hr,fr.company||""),this.map.Manager.render(hr,fr.manager),hr.leafNode("LinksUpToDate",void 0,"false"),hr.leafNode("SharedDoc",void 0,"false"),hr.leafNode("HyperlinksChanged",void 0,"false"),hr.leafNode("AppVersion",void 0,"16.0300"),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"Properties":return!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.parser=void 0),!0;switch(hr){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}ur.DateFormat=function(dr){return dr.toISOString().replace(/[.]\d{3,6}/,"")},ur.DateAttrs={"xsi:type":"dcterms:W3CDTF"},ur.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},nr.exports=ur},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform");class lr extends sr{render(cr,ur){cr.openXml(ar.StdDocAttributes),cr.openNode("Types",lr.PROPERTY_ATTRIBUTES);const dr={};(ur.media||[]).forEach(hr=>{if(hr.type==="image"){const fr=hr.extension;dr[fr]||(dr[fr]=!0,cr.leafNode("Default",{Extension:fr,ContentType:"image/"+fr}))}}),cr.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),cr.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),cr.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),ur.worksheets.forEach(hr=>{const fr=`/xl/worksheets/sheet${hr.id}.xml`;cr.leafNode("Override",{PartName:fr,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),cr.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),cr.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),ur.sharedStrings&&ur.sharedStrings.count&&cr.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),ur.tables&&ur.tables.forEach(hr=>{cr.leafNode("Override",{PartName:"/xl/tables/"+hr.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),ur.drawings&&ur.drawings.forEach(hr=>{cr.leafNode("Override",{PartName:`/xl/drawings/${hr.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),ur.commentRefs&&(cr.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),ur.commentRefs.forEach(hr=>{let{commentName:fr}=hr;cr.leafNode("Override",{PartName:`/xl/${fr}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),cr.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),cr.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),cr.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}lr.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},nr.exports=lr},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("../simple/date-xform"),or=rr("../simple/string-xform"),cr=rr("../simple/integer-xform");class ur extends sr{constructor(){super(),this.map={"dc:creator":new or({tag:"dc:creator"}),"dc:title":new or({tag:"dc:title"}),"dc:subject":new or({tag:"dc:subject"}),"dc:description":new or({tag:"dc:description"}),"dc:identifier":new or({tag:"dc:identifier"}),"dc:language":new or({tag:"dc:language"}),"cp:keywords":new or({tag:"cp:keywords"}),"cp:category":new or({tag:"cp:category"}),"cp:lastModifiedBy":new or({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new lr({tag:"cp:lastPrinted",format:ur.DateFormat}),"cp:revision":new cr({tag:"cp:revision"}),"cp:version":new or({tag:"cp:version"}),"cp:contentStatus":new or({tag:"cp:contentStatus"}),"cp:contentType":new or({tag:"cp:contentType"}),"dcterms:created":new lr({tag:"dcterms:created",attrs:ur.DateAttrs,format:ur.DateFormat}),"dcterms:modified":new lr({tag:"dcterms:modified",attrs:ur.DateAttrs,format:ur.DateFormat})}}render(hr,fr){hr.openXml(ar.StdDocAttributes),hr.openNode("cp:coreProperties",ur.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(hr,fr.creator),this.map["dc:title"].render(hr,fr.title),this.map["dc:subject"].render(hr,fr.subject),this.map["dc:description"].render(hr,fr.description),this.map["dc:identifier"].render(hr,fr.identifier),this.map["dc:language"].render(hr,fr.language),this.map["cp:keywords"].render(hr,fr.keywords),this.map["cp:category"].render(hr,fr.category),this.map["cp:lastModifiedBy"].render(hr,fr.lastModifiedBy),this.map["cp:lastPrinted"].render(hr,fr.lastPrinted),this.map["cp:revision"].render(hr,fr.revision),this.map["cp:version"].render(hr,fr.version),this.map["cp:contentStatus"].render(hr,fr.contentStatus),this.map["cp:contentType"].render(hr,fr.contentType),this.map["dcterms:created"].render(hr,fr.created),this.map["dcterms:modified"].render(hr,fr.modified),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[hr.name],this.parser)return this.parser.parseOpen(hr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(hr))}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.parser=void 0),!0;switch(hr){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+hr)}}}ur.DateFormat=function(dr){return dr.toISOString().replace(/[.]\d{3}/,"")},ur.DateAttrs={"xsi:type":"dcterms:W3CDTF"},ur.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},nr.exports=ur},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{render(sr,lr){sr.leafNode("Relationship",lr)}parseOpen(sr){switch(sr.name){case"Relationship":return this.model=sr.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("./relationship-xform");class or extends sr{constructor(){super(),this.map={Relationship:new lr}}render(ur,dr){dr=dr||this._values,ur.openXml(ar.StdDocAttributes),ur.openNode("Relationships",or.RELATIONSHIPS_ATTRIBUTES),dr.forEach(hr=>{this.map.Relationship.render(ur,hr)}),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[ur.name],this.parser)return this.parser.parseOpen(ur),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(ur))}}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(ur){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+ur)}}}or.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},nr.exports=or},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{parseOpen(sr){if(this.parser)return this.parser.parseOpen(sr),!0;switch(sr.name){case this.tag:this.reset(),this.model={range:{editAs:sr.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[sr.name],this.parser&&this.parser.parseOpen(sr)}return!0}parseText(sr){this.parser&&this.parser.parseText(sr)}reconcilePicture(sr,lr){if(sr&&sr.rId){const or=lr.rels[sr.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(or){const cr=or[1],ur=lr.mediaIndex[cr];return lr.media[ur]}}}}},{"../base-xform":32}],57:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./blip-xform");nr.exports=class extends ar{constructor(){super(),this.map={"a:blip":new sr}}get tag(){return"xdr:blipFill"}render(lr,or){lr.openNode(this.tag),this.map["a:blip"].render(lr,or),lr.openNode("a:stretch"),lr.leafNode("a:fillRect"),lr.closeNode(),lr.closeNode()}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case this.tag:this.reset();break;default:this.parser=this.map[lr.name],this.parser&&this.parser.parseOpen(lr)}return!0}parseText(){}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.parser=void 0),!0;switch(lr){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"a:blip"}render(sr,lr){sr.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":lr.rId,cstate:"print"})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"xdr:cNvPicPr"}render(sr){sr.openNode(this.tag),sr.leafNode("a:picLocks",{noChangeAspect:"1"}),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./hlink-click-xform"),lr=rr("./ext-lst-xform");nr.exports=class extends ar{constructor(){super(),this.map={"a:hlinkClick":new sr,"a:extLst":new lr}}get tag(){return"xdr:cNvPr"}render(or,cr){or.openNode(this.tag,{id:cr.index,name:"Picture "+cr.index}),this.map["a:hlinkClick"].render(or,cr),this.map["a:extLst"].render(or,cr),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case this.tag:this.reset();break;default:this.parser=this.map[or.name],this.parser&&this.parser.parseOpen(or)}return!0}parseText(){}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.parser=void 0),!0;switch(or){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../simple/integer-xform");nr.exports=class extends ar{constructor(lr){super(),this.tag=lr.tag,this.map={"xdr:col":new sr({tag:"xdr:col",zero:!0}),"xdr:colOff":new sr({tag:"xdr:colOff",zero:!0}),"xdr:row":new sr({tag:"xdr:row",zero:!0}),"xdr:rowOff":new sr({tag:"xdr:rowOff",zero:!0})}}render(lr,or){lr.openNode(this.tag),this.map["xdr:col"].render(lr,or.nativeCol),this.map["xdr:colOff"].render(lr,or.nativeColOff),this.map["xdr:row"].render(lr,or.nativeRow),this.map["xdr:rowOff"].render(lr,or.nativeRowOff),lr.closeNode()}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case this.tag:this.reset();break;default:this.parser=this.map[lr.name],this.parser&&this.parser.parseOpen(lr)}return!0}parseText(lr){this.parser&&this.parser.parseText(lr)}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.parser=void 0),!0;switch(lr){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(rr,nr,ir){const ar=rr("../../../utils/col-cache"),sr=rr("../../../utils/xml-stream"),lr=rr("../base-xform"),or=rr("./two-cell-anchor-xform"),cr=rr("./one-cell-anchor-xform");class ur extends lr{constructor(){super(),this.map={"xdr:twoCellAnchor":new or,"xdr:oneCellAnchor":new cr}}prepare(hr){hr.anchors.forEach((fr,mr)=>{fr.anchorType=function(br){return(typeof br.range=="string"?ar.decode(br.range):br.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(fr),this.map[fr.anchorType].prepare(fr,{index:mr})})}get tag(){return"xdr:wsDr"}render(hr,fr){hr.openXml(sr.StdDocAttributes),hr.openNode(this.tag,ur.DRAWING_ATTRIBUTES),fr.anchors.forEach(mr=>{this.map[mr.anchorType].render(hr,mr)}),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[hr.name],this.parser&&this.parser.parseOpen(hr)}return!0}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){if(this.parser)return this.parser.parseClose(hr)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(hr){case this.tag:return!1;default:return!0}}reconcile(hr,fr){hr.anchors.forEach(mr=>{mr.br?this.map["xdr:twoCellAnchor"].reconcile(mr,fr):this.map["xdr:oneCellAnchor"].reconcile(mr,fr)})}}ur.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},nr.exports=ur},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"a:extLst"}render(sr){sr.openNode(this.tag),sr.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),sr.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),sr.closeNode(),sr.closeNode()}parseOpen(sr){switch(sr.name){case this.tag:default:return!0}}parseText(){}parseClose(sr){switch(sr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.map={}}render(sr,lr){sr.openNode(this.tag);const or=Math.floor(9525*lr.width),cr=Math.floor(9525*lr.height);sr.addAttribute("cx",or),sr.addAttribute("cy",cr),sr.closeNode()}parseOpen(sr){return sr.name===this.tag&&(this.model={width:parseInt(sr.attributes.cx||"0",10)/9525,height:parseInt(sr.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"a:hlinkClick"}render(sr,lr){lr.hyperlinks&&lr.hyperlinks.rId&&sr.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":lr.hyperlinks.rId,tooltip:lr.hyperlinks.tooltip})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={hyperlinks:{rId:sr.attributes["r:id"],tooltip:sr.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./c-nv-pr-xform"),lr=rr("./c-nv-pic-pr-xform");nr.exports=class extends ar{constructor(){super(),this.map={"xdr:cNvPr":new sr,"xdr:cNvPicPr":new lr}}get tag(){return"xdr:nvPicPr"}render(or,cr){or.openNode(this.tag),this.map["xdr:cNvPr"].render(or,cr),this.map["xdr:cNvPicPr"].render(or,cr),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case this.tag:this.reset();break;default:this.parser=this.map[or.name],this.parser&&this.parser.parseOpen(or)}return!0}parseText(){}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.parser=void 0),!0;switch(or){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(rr,nr,ir){const ar=rr("./base-cell-anchor-xform"),sr=rr("../static-xform"),lr=rr("./cell-position-xform"),or=rr("./ext-xform"),cr=rr("./pic-xform");nr.exports=class extends ar{constructor(){super(),this.map={"xdr:from":new lr({tag:"xdr:from"}),"xdr:ext":new or({tag:"xdr:ext"}),"xdr:pic":new cr,"xdr:clientData":new sr({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(ur,dr){this.map["xdr:pic"].prepare(ur.picture,dr)}render(ur,dr){ur.openNode(this.tag,{editAs:dr.range.editAs||"oneCell"}),this.map["xdr:from"].render(ur,dr.range.tl),this.map["xdr:ext"].render(ur,dr.range.ext),this.map["xdr:pic"].render(ur,dr.picture),this.map["xdr:clientData"].render(ur,{}),ur.closeNode()}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.parser=void 0),!0;switch(ur){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(ur,dr){ur.medium=this.reconcilePicture(ur.picture,dr)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../static-xform"),lr=rr("./blip-fill-xform"),or=rr("./nv-pic-pr-xform"),cr=rr("./sp-pr");nr.exports=class extends ar{constructor(){super(),this.map={"xdr:nvPicPr":new or,"xdr:blipFill":new lr,"xdr:spPr":new sr(cr)}}get tag(){return"xdr:pic"}prepare(ur,dr){ur.index=dr.index+1}render(ur,dr){ur.openNode(this.tag),this.map["xdr:nvPicPr"].render(ur,dr),this.map["xdr:blipFill"].render(ur,dr),this.map["xdr:spPr"].render(ur,dr),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case this.tag:this.reset();break;default:this.parser=this.map[ur.name],this.parser&&this.parser.parseOpen(ur)}return!0}parseText(){}parseClose(ur){if(this.parser)return this.parser.parseClose(ur)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(ur){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(rr,nr,ir){nr.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(rr,nr,ir){const ar=rr("./base-cell-anchor-xform"),sr=rr("../static-xform"),lr=rr("./cell-position-xform"),or=rr("./pic-xform");nr.exports=class extends ar{constructor(){super(),this.map={"xdr:from":new lr({tag:"xdr:from"}),"xdr:to":new lr({tag:"xdr:to"}),"xdr:pic":new or,"xdr:clientData":new sr({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(cr,ur){this.map["xdr:pic"].prepare(cr.picture,ur)}render(cr,ur){cr.openNode(this.tag,{editAs:ur.range.editAs||"oneCell"}),this.map["xdr:from"].render(cr,ur.range.tl),this.map["xdr:to"].render(cr,ur.range.br),this.map["xdr:pic"].render(cr,ur.picture),this.map["xdr:clientData"].render(cr,{}),cr.closeNode()}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;switch(cr){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(cr,ur){cr.medium=this.reconcilePicture(cr.picture,ur)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(rr,nr,ir){const ar=rr("./base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.always=!!sr.always,this.count=sr.count,this.empty=sr.empty,this.$count=sr.$count||"count",this.$=sr.$,this.childXform=sr.childXform,this.maxItems=sr.maxItems}prepare(sr,lr){const{childXform:or}=this;sr&&sr.forEach((cr,ur)=>{lr.index=ur,or.prepare(cr,lr)})}render(sr,lr){if(this.always||lr&&lr.length){sr.openNode(this.tag,this.$),this.count&&sr.addAttribute(this.$count,lr&&lr.length||0);const{childXform:or}=this;(lr||[]).forEach((cr,ur)=>{or.render(sr,cr,ur)}),sr.closeNode()}else this.empty&&sr.leafNode(this.tag)}parseOpen(sr){if(this.parser)return this.parser.parseOpen(sr),!0;switch(sr.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(sr)&&(this.parser=this.childXform,!0)}}parseText(sr){this.parser&&this.parser.parseText(sr)}parseClose(sr){if(this.parser){if(!this.parser.parseClose(sr)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(sr,lr){if(sr){const{childXform:or}=this;sr.forEach(cr=>{or.reconcile(cr,lr)})}}}},{"./base-xform":32}],72:[function(rr,nr,ir){const ar=rr("../../../utils/col-cache"),sr=rr("../base-xform");nr.exports=class extends sr{get tag(){return"autoFilter"}render(lr,or){if(or)if(typeof or=="string")lr.leafNode("autoFilter",{ref:or});else{const cr=function(hr){return typeof hr=="string"?hr:ar.getAddress(hr.row,hr.column).address},ur=cr(or.from),dr=cr(or.to);ur&&dr&&lr.leafNode("autoFilter",{ref:`${ur}:${dr}`})}}parseOpen(lr){lr.name==="autoFilter"&&(this.model=lr.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(rr,nr,ir){const ar=rr("../../../utils/utils"),sr=rr("../base-xform"),lr=rr("../../../doc/range"),or=rr("../../../doc/enums"),cr=rr("../strings/rich-text-xform");function ur(dr){if(dr==null)return or.ValueType.Null;if(dr instanceof String||typeof dr=="string")return or.ValueType.String;if(typeof dr=="number")return or.ValueType.Number;if(typeof dr=="boolean")return or.ValueType.Boolean;if(dr instanceof Date)return or.ValueType.Date;if(dr.text&&dr.hyperlink)return or.ValueType.Hyperlink;if(dr.formula)return or.ValueType.Formula;if(dr.error)return or.ValueType.Error;throw new Error("I could not understand type of value")}nr.exports=class extends sr{constructor(){super(),this.richTextXForm=new cr}get tag(){return"c"}prepare(dr,hr){const fr=hr.styles.addStyleModel(dr.style||{},function(mr){switch(mr.type){case or.ValueType.Formula:return ur(mr.result);default:return mr.type}}(dr));switch(fr&&(dr.styleId=fr),dr.comment&&hr.comments.push({...dr.comment,ref:dr.address}),dr.type){case or.ValueType.String:case or.ValueType.RichText:hr.sharedStrings&&(dr.ssId=hr.sharedStrings.add(dr.value));break;case or.ValueType.Date:hr.date1904&&(dr.date1904=!0);break;case or.ValueType.Hyperlink:hr.sharedStrings&&dr.text!==void 0&&dr.text!==null&&(dr.ssId=hr.sharedStrings.add(dr.text)),hr.hyperlinks.push({address:dr.address,target:dr.hyperlink,tooltip:dr.tooltip});break;case or.ValueType.Merge:hr.merges.add(dr);break;case or.ValueType.Formula:if(hr.date1904&&(dr.date1904=!0),dr.shareType==="shared"&&(dr.si=hr.siFormulae++),dr.formula)hr.formulae[dr.address]=dr;else if(dr.sharedFormula){const mr=hr.formulae[dr.sharedFormula];if(!mr)throw new Error("Shared Formula master must exist above and or left of clone for cell "+dr.address);mr.si===void 0?(mr.shareType="shared",mr.si=hr.siFormulae++,mr.range=new lr(mr.address,dr.address)):mr.range&&mr.range.expandToAddress(dr.address),dr.si=mr.si}}}renderFormula(dr,hr){let fr=null;switch(hr.shareType){case"shared":fr={t:"shared",ref:hr.ref||hr.range.range,si:hr.si};break;case"array":fr={t:"array",ref:hr.ref};break;default:hr.si!==void 0&&(fr={t:"shared",si:hr.si})}switch(ur(hr.result)){case or.ValueType.Null:dr.leafNode("f",fr,hr.formula);break;case or.ValueType.String:dr.addAttribute("t","str"),dr.leafNode("f",fr,hr.formula),dr.leafNode("v",null,hr.result);break;case or.ValueType.Number:dr.leafNode("f",fr,hr.formula),dr.leafNode("v",null,hr.result);break;case or.ValueType.Boolean:dr.addAttribute("t","b"),dr.leafNode("f",fr,hr.formula),dr.leafNode("v",null,hr.result?1:0);break;case or.ValueType.Error:dr.addAttribute("t","e"),dr.leafNode("f",fr,hr.formula),dr.leafNode("v",null,hr.result.error);break;case or.ValueType.Date:dr.leafNode("f",fr,hr.formula),dr.leafNode("v",null,ar.dateToExcel(hr.result,hr.date1904));break;default:throw new Error("I could not understand type of value")}}render(dr,hr){if(hr.type!==or.ValueType.Null||hr.styleId){switch(dr.openNode("c"),dr.addAttribute("r",hr.address),hr.styleId&&dr.addAttribute("s",hr.styleId),hr.type){case or.ValueType.Null:break;case or.ValueType.Number:dr.leafNode("v",null,hr.value);break;case or.ValueType.Boolean:dr.addAttribute("t","b"),dr.leafNode("v",null,hr.value?"1":"0");break;case or.ValueType.Error:dr.addAttribute("t","e"),dr.leafNode("v",null,hr.value.error);break;case or.ValueType.String:case or.ValueType.RichText:hr.ssId!==void 0?(dr.addAttribute("t","s"),dr.leafNode("v",null,hr.ssId)):hr.value&&hr.value.richText?(dr.addAttribute("t","inlineStr"),dr.openNode("is"),hr.value.richText.forEach(fr=>{this.richTextXForm.render(dr,fr)}),dr.closeNode("is")):(dr.addAttribute("t","str"),dr.leafNode("v",null,hr.value));break;case or.ValueType.Date:dr.leafNode("v",null,ar.dateToExcel(hr.value,hr.date1904));break;case or.ValueType.Hyperlink:hr.ssId!==void 0?(dr.addAttribute("t","s"),dr.leafNode("v",null,hr.ssId)):(dr.addAttribute("t","str"),dr.leafNode("v",null,hr.text));break;case or.ValueType.Formula:this.renderFormula(dr,hr);break;case or.ValueType.Merge:}dr.closeNode()}}parseOpen(dr){if(this.parser)return this.parser.parseOpen(dr),!0;switch(dr.name){case"c":return this.model={address:dr.attributes.r},this.t=dr.attributes.t,dr.attributes.s&&(this.model.styleId=parseInt(dr.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=dr.attributes.si,this.model.shareType=dr.attributes.t,this.model.ref=dr.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(dr),!0;default:return!1}}parseText(dr){if(this.parser)this.parser.parseText(dr);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+dr:dr;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+dr:dr:this.model.value=this.model.value?this.model.value+dr:dr}}parseClose(dr){switch(dr){case"c":{const{model:hr}=this;if(hr.formula||hr.shareType)hr.type=or.ValueType.Formula,hr.value&&(this.t==="str"?hr.result=ar.xmlDecode(hr.value):this.t==="b"?hr.result=parseInt(hr.value,10)!==0:this.t==="e"?hr.result={error:hr.value}:hr.result=parseFloat(hr.value),hr.value=void 0);else if(hr.value!==void 0)switch(this.t){case"s":hr.type=or.ValueType.String,hr.value=parseInt(hr.value,10);break;case"str":hr.type=or.ValueType.String,hr.value=ar.xmlDecode(hr.value);break;case"inlineStr":hr.type=or.ValueType.String;break;case"b":hr.type=or.ValueType.Boolean,hr.value=parseInt(hr.value,10)!==0;break;case"e":hr.type=or.ValueType.Error,hr.value={error:hr.value};break;default:hr.type=or.ValueType.Number,hr.value=parseFloat(hr.value)}else hr.styleId?hr.type=or.ValueType.Null:hr.type=or.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(dr),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(dr),!0)}}reconcile(dr,hr){const fr=dr.styleId&&hr.styles&&hr.styles.getStyleModel(dr.styleId);switch(fr&&(dr.style=fr),dr.styleId!==void 0&&(dr.styleId=void 0),dr.type){case or.ValueType.String:typeof dr.value=="number"&&hr.sharedStrings&&(dr.value=hr.sharedStrings.getString(dr.value)),dr.value.richText&&(dr.type=or.ValueType.RichText);break;case or.ValueType.Number:fr&&ar.isDateFmt(fr.numFmt)&&(dr.type=or.ValueType.Date,dr.value=ar.excelToDate(dr.value,hr.date1904));break;case or.ValueType.Formula:dr.result!==void 0&&fr&&ar.isDateFmt(fr.numFmt)&&(dr.result=ar.excelToDate(dr.result,hr.date1904)),dr.shareType==="shared"&&(dr.ref?hr.formulae[dr.si]=dr.address:(dr.sharedFormula=hr.formulae[dr.si],delete dr.shareType),delete dr.si)}const mr=hr.hyperlinkMap[dr.address];mr&&(dr.type===or.ValueType.Formula?(dr.text=dr.result,dr.result=void 0):(dr.text=dr.value,dr.value=void 0),dr.type=or.ValueType.Hyperlink,dr.hyperlink=mr);const br=hr.commentsMap&&hr.commentsMap[dr.address];br&&(dr.comment=br)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{get tag(){return"x14:cfIcon"}render(sr,lr){sr.leafNode(this.tag,{iconSet:lr.iconSet,iconId:lr.iconId})}parseOpen(sr){let{attributes:lr}=sr;this.model={iconSet:lr.iconSet,iconId:ar.toIntValue(lr.iconId)}}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],75:[function(rr,nr,ir){const{v4:ar}=rr("uuid"),sr=rr("../../base-xform"),lr=rr("../../composite-xform"),or=rr("./databar-ext-xform"),cr=rr("./icon-set-ext-xform"),ur={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class dr extends lr{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new or,"x14:iconSet":this.iconSetXform=new cr}}get tag(){return"x14:cfRule"}static isExt(fr){return fr.type==="dataBar"?or.isExt(fr):!(fr.type!=="iconSet"||!fr.custom&&!ur[fr.iconSet])}prepare(fr){dr.isExt(fr)&&(fr.x14Id=`{${ar()}}`.toUpperCase())}render(fr,mr){if(dr.isExt(mr))switch(mr.type){case"dataBar":this.renderDataBar(fr,mr);break;case"iconSet":this.renderIconSet(fr,mr)}}renderDataBar(fr,mr){fr.openNode(this.tag,{type:"dataBar",id:mr.x14Id}),this.databarXform.render(fr,mr),fr.closeNode()}renderIconSet(fr,mr){fr.openNode(this.tag,{type:"iconSet",priority:mr.priority,id:mr.x14Id||`{${ar()}}`}),this.iconSetXform.render(fr,mr),fr.closeNode()}createNewModel(fr){let{attributes:mr}=fr;return{type:mr.type,x14Id:mr.id,priority:sr.toIntValue(mr.priority)}}onParserClose(fr,mr){Object.assign(this.model,mr.model)}}nr.exports=dr},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("./f-ext-xform");nr.exports=class extends ar{constructor(){super(),this.map={"xm:f":this.fExtXform=new sr}}get tag(){return"x14:cfvo"}render(lr,or){lr.openNode(this.tag,{type:or.type}),or.value!==void 0&&this.fExtXform.render(lr,or.value),lr.closeNode()}createNewModel(lr){return{type:lr.attributes.type}}onParserClose(lr,or){switch(lr){case"xm:f":this.model.value=or.model?parseFloat(or.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("./sqref-ext-xform"),lr=rr("./cf-rule-ext-xform");nr.exports=class extends ar{constructor(){super(),this.map={"xm:sqref":this.sqRef=new sr,"x14:cfRule":this.cfRule=new lr}}get tag(){return"x14:conditionalFormatting"}prepare(or,cr){or.rules.forEach(ur=>{this.cfRule.prepare(ur,cr)})}render(or,cr){cr.rules.some(lr.isExt)&&(or.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),cr.rules.filter(lr.isExt).forEach(ur=>this.cfRule.render(or,ur)),this.sqRef.render(or,cr.ref),or.closeNode())}createNewModel(){return{rules:[]}}onParserClose(or,cr){switch(or){case"xm:sqref":this.model.ref=cr.model;break;case"x14:cfRule":this.model.rules.push(cr.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("./cf-rule-ext-xform"),lr=rr("./conditional-formatting-ext-xform");nr.exports=class extends ar{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new lr}}get tag(){return"x14:conditionalFormattings"}hasContent(or){return or.hasExtContent===void 0&&(or.hasExtContent=or.some(cr=>cr.rules.some(sr.isExt))),or.hasExtContent}prepare(or,cr){or.forEach(ur=>{this.cfXform.prepare(ur,cr)})}render(or,cr){this.hasContent(cr)&&(or.openNode(this.tag),cr.forEach(ur=>this.cfXform.render(or,ur)),or.closeNode())}createNewModel(){return[]}onParserClose(or,cr){this.model.push(cr.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("../../composite-xform"),lr=rr("../../style/color-xform"),or=rr("./cfvo-ext-xform");nr.exports=class extends sr{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new or,"x14:borderColor":this.borderColorXform=new lr("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new lr("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new lr("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new lr("x14:axisColor")}}static isExt(cr){return!cr.gradient}get tag(){return"x14:dataBar"}render(cr,ur){cr.openNode(this.tag,{minLength:ar.toIntAttribute(ur.minLength,0,!0),maxLength:ar.toIntAttribute(ur.maxLength,100,!0),border:ar.toBoolAttribute(ur.border,!1),gradient:ar.toBoolAttribute(ur.gradient,!0),negativeBarColorSameAsPositive:ar.toBoolAttribute(ur.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:ar.toBoolAttribute(ur.negativeBarBorderColorSameAsPositive,!0),axisPosition:ar.toAttribute(ur.axisPosition,"auto"),direction:ar.toAttribute(ur.direction,"leftToRight")}),ur.cfvo.forEach(dr=>{this.cfvoXform.render(cr,dr)}),this.borderColorXform.render(cr,ur.borderColor),this.negativeBorderColorXform.render(cr,ur.negativeBorderColor),this.negativeFillColorXform.render(cr,ur.negativeFillColor),this.axisColorXform.render(cr,ur.axisColor),cr.closeNode()}createNewModel(cr){let{attributes:ur}=cr;return{cfvo:[],minLength:ar.toIntValue(ur.minLength,0),maxLength:ar.toIntValue(ur.maxLength,100),border:ar.toBoolValue(ur.border,!1),gradient:ar.toBoolValue(ur.gradient,!0),negativeBarColorSameAsPositive:ar.toBoolValue(ur.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:ar.toBoolValue(ur.negativeBarBorderColorSameAsPositive,!0),axisPosition:ar.toStringValue(ur.axisPosition,"auto"),direction:ar.toStringValue(ur.direction,"leftToRight")}}onParserClose(cr,ur){const[,dr]=cr.split(":");switch(dr){case"cfvo":this.model.cfvo.push(ur.model);break;default:this.model[dr]=ur.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{get tag(){return"xm:f"}render(sr,lr){sr.leafNode(this.tag,null,lr)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],81:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("../../composite-xform"),lr=rr("./cfvo-ext-xform"),or=rr("./cf-icon-ext-xform");nr.exports=class extends sr{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new lr,"x14:cfIcon":this.cfIconXform=new or}}get tag(){return"x14:iconSet"}render(cr,ur){cr.openNode(this.tag,{iconSet:ar.toStringAttribute(ur.iconSet),reverse:ar.toBoolAttribute(ur.reverse,!1),showValue:ar.toBoolAttribute(ur.showValue,!0),custom:ar.toBoolAttribute(ur.icons,!1)}),ur.cfvo.forEach(dr=>{this.cfvoXform.render(cr,dr)}),ur.icons&&ur.icons.forEach((dr,hr)=>{dr.iconId=hr,this.cfIconXform.render(cr,dr)}),cr.closeNode()}createNewModel(cr){let{attributes:ur}=cr;return{cfvo:[],iconSet:ar.toStringValue(ur.iconSet,"3TrafficLights"),reverse:ar.toBoolValue(ur.reverse,!1),showValue:ar.toBoolValue(ur.showValue,!0)}}onParserClose(cr,ur){const[,dr]=cr.split(":");switch(dr){case"cfvo":this.model.cfvo.push(ur.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(ur.model);break;default:this.model[dr]=ur.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{get tag(){return"xm:sqref"}render(sr,lr){sr.leafNode(this.tag,null,lr)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],83:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("../../composite-xform"),lr=rr("../../../../doc/range"),or=rr("./databar-xform"),cr=rr("./ext-lst-ref-xform"),ur=rr("./formula-xform"),dr=rr("./color-scale-xform"),hr=rr("./icon-set-xform"),fr={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},mr=pr=>{const{type:gr,operator:yr}=pr;switch(gr){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:gr};default:return{type:gr,operator:yr}}};class br extends sr{constructor(){super(),this.map={dataBar:this.databarXform=new or,extLst:this.extLstRefXform=new cr,formula:this.formulaXform=new ur,colorScale:this.colorScaleXform=new dr,iconSet:this.iconSetXform=new hr}}get tag(){return"cfRule"}static isPrimitive(gr){return gr.type!=="iconSet"||!gr.custom&&!fr[gr.iconSet]}render(gr,yr){switch(yr.type){case"expression":this.renderExpression(gr,yr);break;case"cellIs":this.renderCellIs(gr,yr);break;case"top10":this.renderTop10(gr,yr);break;case"aboveAverage":this.renderAboveAverage(gr,yr);break;case"dataBar":this.renderDataBar(gr,yr);break;case"colorScale":this.renderColorScale(gr,yr);break;case"iconSet":this.renderIconSet(gr,yr);break;case"containsText":this.renderText(gr,yr);break;case"timePeriod":this.renderTimePeriod(gr,yr)}}renderExpression(gr,yr){gr.openNode(this.tag,{type:"expression",dxfId:yr.dxfId,priority:yr.priority}),this.formulaXform.render(gr,yr.formulae[0]),gr.closeNode()}renderCellIs(gr,yr){gr.openNode(this.tag,{type:"cellIs",dxfId:yr.dxfId,priority:yr.priority,operator:yr.operator}),yr.formulae.forEach(vr=>{this.formulaXform.render(gr,vr)}),gr.closeNode()}renderTop10(gr,yr){gr.leafNode(this.tag,{type:"top10",dxfId:yr.dxfId,priority:yr.priority,percent:ar.toBoolAttribute(yr.percent,!1),bottom:ar.toBoolAttribute(yr.bottom,!1),rank:ar.toIntValue(yr.rank,10,!0)})}renderAboveAverage(gr,yr){gr.leafNode(this.tag,{type:"aboveAverage",dxfId:yr.dxfId,priority:yr.priority,aboveAverage:ar.toBoolAttribute(yr.aboveAverage,!0)})}renderDataBar(gr,yr){gr.openNode(this.tag,{type:"dataBar",priority:yr.priority}),this.databarXform.render(gr,yr),this.extLstRefXform.render(gr,yr),gr.closeNode()}renderColorScale(gr,yr){gr.openNode(this.tag,{type:"colorScale",priority:yr.priority}),this.colorScaleXform.render(gr,yr),gr.closeNode()}renderIconSet(gr,yr){br.isPrimitive(yr)&&(gr.openNode(this.tag,{type:"iconSet",priority:yr.priority}),this.iconSetXform.render(gr,yr),gr.closeNode())}renderText(gr,yr){gr.openNode(this.tag,{type:yr.operator,dxfId:yr.dxfId,priority:yr.priority,operator:ar.toStringAttribute(yr.operator,"containsText")});const vr=(_r=>{if(_r.formulae&&_r.formulae[0])return _r.formulae[0];const xr=new lr(_r.ref),{tl:Rr}=xr;switch(_r.operator){case"containsText":return`NOT(ISERROR(SEARCH("${_r.text}",${Rr})))`;case"containsBlanks":return`LEN(TRIM(${Rr}))=0`;case"notContainsBlanks":return`LEN(TRIM(${Rr}))>0`;case"containsErrors":return`ISERROR(${Rr})`;case"notContainsErrors":return`NOT(ISERROR(${Rr}))`;default:return}})(yr);vr&&this.formulaXform.render(gr,vr),gr.closeNode()}renderTimePeriod(gr,yr){gr.openNode(this.tag,{type:"timePeriod",dxfId:yr.dxfId,priority:yr.priority,timePeriod:yr.timePeriod});const vr=(_r=>{if(_r.formulae&&_r.formulae[0])return _r.formulae[0];const xr=new lr(_r.ref),{tl:Rr}=xr;switch(_r.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${Rr},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${Rr},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${Rr},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${Rr},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${Rr},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${Rr},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${Rr},1)=TODAY()-1`;case"today":return`FLOOR(${Rr},1)=TODAY()`;case"tomorrow":return`FLOOR(${Rr},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${Rr},1)<=6,FLOOR(${Rr},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${Rr})=MONTH(EDATE(TODAY(),0-1)),YEAR(${Rr})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${Rr})=MONTH(TODAY()),YEAR(${Rr})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${Rr})=MONTH(EDATE(TODAY(),0+1)),YEAR(${Rr})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(yr);vr&&this.formulaXform.render(gr,vr),gr.closeNode()}createNewModel(gr){let{attributes:yr}=gr;return{...mr(yr),dxfId:ar.toIntValue(yr.dxfId),priority:ar.toIntValue(yr.priority),timePeriod:yr.timePeriod,percent:ar.toBoolValue(yr.percent),bottom:ar.toBoolValue(yr.bottom),rank:ar.toIntValue(yr.rank),aboveAverage:ar.toBoolValue(yr.aboveAverage)}}onParserClose(gr,yr){switch(gr){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,yr.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(yr.model)}}}nr.exports=br},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{get tag(){return"cfvo"}render(sr,lr){sr.leafNode(this.tag,{type:lr.type,val:lr.value})}parseOpen(sr){this.model={type:sr.attributes.type,value:ar.toFloatValue(sr.attributes.val)}}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],85:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("../../style/color-xform"),lr=rr("./cfvo-xform");nr.exports=class extends ar{constructor(){super(),this.map={cfvo:this.cfvoXform=new lr,color:this.colorXform=new sr}}get tag(){return"colorScale"}render(or,cr){or.openNode(this.tag),cr.cfvo.forEach(ur=>{this.cfvoXform.render(or,ur)}),cr.color.forEach(ur=>{this.colorXform.render(or,ur)}),or.closeNode()}createNewModel(or){return{cfvo:[],color:[]}}onParserClose(or,cr){this.model[or].push(cr.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("./cf-rule-xform");nr.exports=class extends ar{constructor(){super(),this.map={cfRule:new sr}}get tag(){return"conditionalFormatting"}render(lr,or){or.rules.some(sr.isPrimitive)&&(lr.openNode(this.tag,{sqref:or.ref}),or.rules.forEach(cr=>{sr.isPrimitive(cr)&&(cr.ref=or.ref,this.map.cfRule.render(lr,cr))}),lr.closeNode())}createNewModel(lr){let{attributes:or}=lr;return{ref:or.sqref,rules:[]}}onParserClose(lr,or){this.model.rules.push(or.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("./conditional-formatting-xform");nr.exports=class extends ar{constructor(){super(),this.cfXform=new sr}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(lr,or){let cr=lr.reduce((ur,dr)=>Math.max(ur,...dr.rules.map(hr=>hr.priority||0)),1);lr.forEach(ur=>{ur.rules.forEach(dr=>{dr.priority||(dr.priority=cr++),dr.style&&(dr.dxfId=or.styles.addDxfStyle(dr.style))})})}render(lr,or){or.forEach(cr=>{this.cfXform.render(lr,cr)})}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(lr),!0;default:return!1}}parseText(lr){this.parser&&this.parser.parseText(lr)}parseClose(lr){return!!this.parser&&(!!this.parser.parseClose(lr)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(lr,or){lr.forEach(cr=>{cr.rules.forEach(ur=>{ur.dxfId!==void 0&&(ur.style=or.styles.getDxfStyle(ur.dxfId),delete ur.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(rr,nr,ir){const ar=rr("../../composite-xform"),sr=rr("../../style/color-xform"),lr=rr("./cfvo-xform");nr.exports=class extends ar{constructor(){super(),this.map={cfvo:this.cfvoXform=new lr,color:this.colorXform=new sr}}get tag(){return"dataBar"}render(or,cr){or.openNode(this.tag),cr.cfvo.forEach(ur=>{this.cfvoXform.render(or,ur)}),this.colorXform.render(or,cr.color),or.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(or,cr){switch(or){case"cfvo":this.model.cfvo.push(cr.model);break;case"color":this.model.color=cr.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("../../composite-xform");class lr extends ar{get tag(){return"x14:id"}render(ur,dr){ur.leafNode(this.tag,null,dr)}parseOpen(){this.model=""}parseText(ur){this.model+=ur}parseClose(ur){return ur!==this.tag}}class or extends sr{constructor(){super(),this.map={"x14:id":this.idXform=new lr}}get tag(){return"ext"}render(ur,dr){ur.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(ur,dr.x14Id),ur.closeNode()}createNewModel(){return{}}onParserClose(ur,dr){this.model.x14Id=dr.model}}nr.exports=class extends sr{constructor(){super(),this.map={ext:new or}}get tag(){return"extLst"}render(cr,ur){cr.openNode(this.tag),this.map.ext.render(cr,ur),cr.closeNode()}createNewModel(){return{}}onParserClose(cr,ur){Object.assign(this.model,ur.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(rr,nr,ir){const ar=rr("../../base-xform");nr.exports=class extends ar{get tag(){return"formula"}render(sr,lr){sr.leafNode(this.tag,null,lr)}parseOpen(){this.model=""}parseText(sr){this.model+=sr}parseClose(sr){return sr!==this.tag}}},{"../../base-xform":32}],91:[function(rr,nr,ir){const ar=rr("../../base-xform"),sr=rr("../../composite-xform"),lr=rr("./cfvo-xform");nr.exports=class extends sr{constructor(){super(),this.map={cfvo:this.cfvoXform=new lr}}get tag(){return"iconSet"}render(or,cr){or.openNode(this.tag,{iconSet:ar.toStringAttribute(cr.iconSet,"3TrafficLights"),reverse:ar.toBoolAttribute(cr.reverse,!1),showValue:ar.toBoolAttribute(cr.showValue,!0)}),cr.cfvo.forEach(ur=>{this.cfvoXform.render(or,ur)}),or.closeNode()}createNewModel(or){let{attributes:cr}=or;return{iconSet:ar.toStringValue(cr.iconSet,"3TrafficLights"),reverse:ar.toBoolValue(cr.reverse),showValue:ar.toBoolValue(cr.showValue),cfvo:[]}}onParserClose(or,cr){this.model[or].push(cr.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(rr,nr,ir){const ar=rr("../../../utils/utils"),sr=rr("../base-xform");nr.exports=class extends sr{get tag(){return"col"}prepare(lr,or){const cr=or.styles.addStyleModel(lr.style||{});cr&&(lr.styleId=cr)}render(lr,or){lr.openNode("col"),lr.addAttribute("min",or.min),lr.addAttribute("max",or.max),or.width&&lr.addAttribute("width",or.width),or.styleId&&lr.addAttribute("style",or.styleId),or.hidden&&lr.addAttribute("hidden","1"),or.bestFit&&lr.addAttribute("bestFit","1"),or.outlineLevel&&lr.addAttribute("outlineLevel",or.outlineLevel),or.collapsed&&lr.addAttribute("collapsed","1"),lr.addAttribute("customWidth","1"),lr.closeNode()}parseOpen(lr){if(lr.name==="col"){const or=this.model={min:parseInt(lr.attributes.min||"0",10),max:parseInt(lr.attributes.max||"0",10),width:lr.attributes.width===void 0?void 0:parseFloat(lr.attributes.width||"0")};return lr.attributes.style&&(or.styleId=parseInt(lr.attributes.style,10)),ar.parseBoolean(lr.attributes.hidden)&&(or.hidden=!0),ar.parseBoolean(lr.attributes.bestFit)&&(or.bestFit=!0),lr.attributes.outlineLevel&&(or.outlineLevel=parseInt(lr.attributes.outlineLevel,10)),ar.parseBoolean(lr.attributes.collapsed)&&(or.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(lr,or){lr.styleId&&(lr.style=or.styles.getStyleModel(lr.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../../../utils/utils"),lr=rr("../../../utils/col-cache"),or=rr("../base-xform"),cr=rr("../../../doc/range");function ur(hr,fr,mr,br){const pr=fr[mr];pr!==void 0?hr[mr]=pr:br!==void 0&&(hr[mr]=br)}function dr(hr,fr,mr,br){const pr=fr[mr];pr!==void 0&&(hr[mr]=sr.parseBoolean(pr))}nr.exports=class extends or{get tag(){return"dataValidations"}render(hr,fr){const mr=function(br){const pr=ar.map(br,(vr,_r)=>({address:_r,dataValidation:vr,marked:!1})).sort((vr,_r)=>ar.strcmp(vr.address,_r.address)),gr=ar.keyBy(pr,"address"),yr=(vr,_r,xr)=>{for(let Rr=0;Rr<_r;Rr++){const Cr=lr.encodeAddress(vr.row+Rr,xr);if(!br[Cr]||!ar.isEqual(br[vr.address],br[Cr]))return!1}return!0};return pr.map(vr=>{if(!vr.marked){const _r=lr.decodeEx(vr.address);if(_r.dimensions)return gr[_r.dimensions].marked=!0,{...vr.dataValidation,sqref:vr.address};let xr=1,Rr=lr.encodeAddress(_r.row+xr,_r.col);for(;br[Rr]&&ar.isEqual(vr.dataValidation,br[Rr]);)xr++,Rr=lr.encodeAddress(_r.row+xr,_r.col);let Cr=1;for(;yr(_r,xr,_r.col+Cr);)Cr++;for(let Tr=0;Tr<xr;Tr++)for(let Ir=0;Ir<Cr;Ir++)Rr=lr.encodeAddress(_r.row+Tr,_r.col+Ir),gr[Rr].marked=!0;if(xr>1||Cr>1){const Tr=_r.row+(xr-1),Ir=_r.col+(Cr-1);return{...vr.dataValidation,sqref:`${vr.address}:${lr.encodeAddress(Tr,Ir)}`}}return{...vr.dataValidation,sqref:vr.address}}return null}).filter(Boolean)}(fr);mr.length&&(hr.openNode("dataValidations",{count:mr.length}),mr.forEach(br=>{hr.openNode("dataValidation"),br.type!=="any"&&(hr.addAttribute("type",br.type),br.operator&&br.type!=="list"&&br.operator!=="between"&&hr.addAttribute("operator",br.operator),br.allowBlank&&hr.addAttribute("allowBlank","1")),br.showInputMessage&&hr.addAttribute("showInputMessage","1"),br.promptTitle&&hr.addAttribute("promptTitle",br.promptTitle),br.prompt&&hr.addAttribute("prompt",br.prompt),br.showErrorMessage&&hr.addAttribute("showErrorMessage","1"),br.errorStyle&&hr.addAttribute("errorStyle",br.errorStyle),br.errorTitle&&hr.addAttribute("errorTitle",br.errorTitle),br.error&&hr.addAttribute("error",br.error),hr.addAttribute("sqref",br.sqref),(br.formulae||[]).forEach((pr,gr)=>{hr.openNode("formula"+(gr+1)),br.type==="date"?hr.writeText(sr.dateToExcel(new Date(pr))):hr.writeText(pr),hr.closeNode()}),hr.closeNode()}),hr.closeNode())}parseOpen(hr){switch(hr.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=hr.attributes.sqref;const fr={type:hr.attributes.type||"any",formulae:[]};switch(hr.attributes.type&&dr(fr,hr.attributes,"allowBlank"),dr(fr,hr.attributes,"showInputMessage"),dr(fr,hr.attributes,"showErrorMessage"),fr.type){case"any":case"list":case"custom":break;default:ur(fr,hr.attributes,"operator","between")}return ur(fr,hr.attributes,"promptTitle"),ur(fr,hr.attributes,"prompt"),ur(fr,hr.attributes,"errorStyle"),ur(fr,hr.attributes,"errorTitle"),ur(fr,hr.attributes,"error"),this._dataValidation=fr,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(hr){this._formula&&this._formula.push(hr)}parseClose(hr){switch(hr){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(fr=>{fr.includes(":")?new cr(fr).forEachAddress(mr=>{this.model[mr]=this._dataValidation}):this.model[fr]=this._dataValidation}),!0;case"formula1":case"formula2":{let fr=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":fr=parseInt(fr,10);break;case"decimal":fr=parseFloat(fr);break;case"date":fr=sr.excelToDate(parseFloat(fr))}return this._dataValidation.formulae.push(fr),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"dimension"}render(sr,lr){lr&&sr.leafNode("dimension",{ref:lr})}parseOpen(sr){return sr.name==="dimension"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"drawing"}render(sr,lr){lr&&sr.leafNode(this.tag,{"r:id":lr.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(rr,nr,ir){const ar=rr("../composite-xform"),sr=rr("./cf-ext/conditional-formattings-ext-xform");class lr extends ar{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new sr}}get tag(){return"ext"}hasContent(cr){return this.conditionalFormattings.hasContent(cr.conditionalFormattings)}prepare(cr,ur){this.conditionalFormattings.prepare(cr.conditionalFormattings,ur)}render(cr,ur){cr.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(cr,ur.conditionalFormattings),cr.closeNode()}createNewModel(){return{}}onParserClose(cr,ur){this.model[cr]=ur.model}}nr.exports=class extends ar{constructor(){super(),this.map={ext:this.ext=new lr}}get tag(){return"extLst"}prepare(or,cr){this.ext.prepare(or,cr)}hasContent(or){return this.ext.hasContent(or)}render(or,cr){this.hasContent(cr)&&(or.openNode("extLst"),this.ext.render(or,cr),or.closeNode())}createNewModel(){return{}}onParserClose(or,cr){Object.assign(this.model,cr.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"headerFooter"}render(sr,lr){if(lr){sr.addRollback();let or=!1;sr.openNode("headerFooter"),lr.differentFirst&&(sr.addAttribute("differentFirst","1"),or=!0),lr.differentOddEven&&(sr.addAttribute("differentOddEven","1"),or=!0),lr.oddHeader&&typeof lr.oddHeader=="string"&&(sr.leafNode("oddHeader",null,lr.oddHeader),or=!0),lr.oddFooter&&typeof lr.oddFooter=="string"&&(sr.leafNode("oddFooter",null,lr.oddFooter),or=!0),lr.evenHeader&&typeof lr.evenHeader=="string"&&(sr.leafNode("evenHeader",null,lr.evenHeader),or=!0),lr.evenFooter&&typeof lr.evenFooter=="string"&&(sr.leafNode("evenFooter",null,lr.evenFooter),or=!0),lr.firstHeader&&typeof lr.firstHeader=="string"&&(sr.leafNode("firstHeader",null,lr.firstHeader),or=!0),lr.firstFooter&&typeof lr.firstFooter=="string"&&(sr.leafNode("firstFooter",null,lr.firstFooter),or=!0),or?(sr.closeNode(),sr.commit()):sr.rollback()}}parseOpen(sr){switch(sr.name){case"headerFooter":return this.model={},sr.attributes.differentFirst&&(this.model.differentFirst=parseInt(sr.attributes.differentFirst,0)===1),sr.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(sr.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(sr){switch(this.currentNode){case"oddHeader":this.model.oddHeader=sr;break;case"oddFooter":this.model.oddFooter=sr;break;case"evenHeader":this.model.evenHeader=sr;break;case"evenFooter":this.model.evenFooter=sr;break;case"firstHeader":this.model.firstHeader=sr;break;case"firstFooter":this.model.firstFooter=sr}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"hyperlink"}render(sr,lr){this.isInternalLink(lr)?sr.leafNode("hyperlink",{ref:lr.address,"r:id":lr.rId,tooltip:lr.tooltip,location:lr.target}):sr.leafNode("hyperlink",{ref:lr.address,"r:id":lr.rId,tooltip:lr.tooltip})}parseOpen(sr){return sr.name==="hyperlink"&&(this.model={address:sr.attributes.ref,rId:sr.attributes["r:id"],tooltip:sr.attributes.tooltip},sr.attributes.location&&(this.model.target=sr.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(sr){return sr.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(sr.target)}}},{"../base-xform":32}],99:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"mergeCell"}render(sr,lr){sr.leafNode("mergeCell",{ref:lr})}parseOpen(sr){return sr.name==="mergeCell"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../../../doc/range"),lr=rr("../../../utils/col-cache"),or=rr("../../../doc/enums");nr.exports=class{constructor(){this.merges={}}add(cr){if(this.merges[cr.master])this.merges[cr.master].expandToAddress(cr.address);else{const ur=`${cr.master}:${cr.address}`;this.merges[cr.master]=new sr(ur)}}get mergeCells(){return ar.map(this.merges,cr=>cr.range)}reconcile(cr,ur){ar.each(cr,dr=>{const hr=lr.decode(dr);for(let fr=hr.top;fr<=hr.bottom;fr++){const mr=ur[fr-1];for(let br=hr.left;br<=hr.right;br++){const pr=mr.cells[br-1];pr?pr.type===or.ValueType.Merge&&(pr.master=hr.tl):mr.cells[br]={type:or.ValueType.Null,address:lr.encodeAddress(fr,br)}}}})}getMasterAddress(cr){const ur=this.hash[cr];return ur&&ur.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=lr=>lr!==void 0;nr.exports=class extends ar{get tag(){return"outlinePr"}render(lr,or){return!(!or||!sr(or.summaryBelow)&&!sr(or.summaryRight))&&(lr.leafNode(this.tag,{summaryBelow:sr(or.summaryBelow)?Number(or.summaryBelow):void 0,summaryRight:sr(or.summaryRight)?Number(or.summaryRight):void 0}),!0)}parseOpen(lr){return lr.name===this.tag&&(this.model={summaryBelow:sr(lr.attributes.summaryBelow)?!!Number(lr.attributes.summaryBelow):void 0,summaryRight:sr(lr.attributes.summaryRight)?!!Number(lr.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"brk"}render(sr,lr){sr.leafNode("brk",lr)}parseOpen(sr){return sr.name==="brk"&&(this.model=sr.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../base-xform");nr.exports=class extends sr{get tag(){return"pageMargins"}render(lr,or){if(or){const cr={left:or.left,right:or.right,top:or.top,bottom:or.bottom,header:or.header,footer:or.footer};ar.some(cr,ur=>ur!==void 0)&&lr.leafNode(this.tag,cr)}}parseOpen(lr){switch(lr.name){case this.tag:return this.model={left:parseFloat(lr.attributes.left||.7),right:parseFloat(lr.attributes.right||.7),top:parseFloat(lr.attributes.top||.75),bottom:parseFloat(lr.attributes.bottom||.75),header:parseFloat(lr.attributes.header||.3),footer:parseFloat(lr.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"pageSetUpPr"}render(sr,lr){return!(!lr||!lr.fitToPage)&&(sr.leafNode(this.tag,{fitToPage:lr.fitToPage?"1":void 0}),!0)}parseOpen(sr){return sr.name===this.tag&&(this.model={fitToPage:sr.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../base-xform");function lr(dr){return dr?"1":void 0}function or(dr){switch(dr){case"overThenDown":return dr;default:return}}function cr(dr){switch(dr){case"atEnd":case"asDisplyed":return dr;default:return}}function ur(dr){switch(dr){case"dash":case"blank":case"NA":return dr;default:return}}nr.exports=class extends sr{get tag(){return"pageSetup"}render(dr,hr){if(hr){const fr={paperSize:hr.paperSize,orientation:hr.orientation,horizontalDpi:hr.horizontalDpi,verticalDpi:hr.verticalDpi,pageOrder:or(hr.pageOrder),blackAndWhite:lr(hr.blackAndWhite),draft:lr(hr.draft),cellComments:cr(hr.cellComments),errors:ur(hr.errors),scale:hr.scale,fitToWidth:hr.fitToWidth,fitToHeight:hr.fitToHeight,firstPageNumber:hr.firstPageNumber,useFirstPageNumber:lr(hr.firstPageNumber),usePrinterDefaults:lr(hr.usePrinterDefaults),copies:hr.copies};ar.some(fr,mr=>mr!==void 0)&&dr.leafNode(this.tag,fr)}}parseOpen(dr){switch(dr.name){case this.tag:return this.model={paperSize:(hr=dr.attributes.paperSize,hr!==void 0?parseInt(hr,10):void 0),orientation:dr.attributes.orientation||"portrait",horizontalDpi:parseInt(dr.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(dr.attributes.verticalDpi||"4294967295",10),pageOrder:dr.attributes.pageOrder||"downThenOver",blackAndWhite:dr.attributes.blackAndWhite==="1",draft:dr.attributes.draft==="1",cellComments:dr.attributes.cellComments||"None",errors:dr.attributes.errors||"displayed",scale:parseInt(dr.attributes.scale||"100",10),fitToWidth:parseInt(dr.attributes.fitToWidth||"1",10),fitToHeight:parseInt(dr.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(dr.attributes.firstPageNumber||"1",10),useFirstPageNumber:dr.attributes.useFirstPageNumber==="1",usePrinterDefaults:dr.attributes.usePrinterDefaults==="1",copies:parseInt(dr.attributes.copies||"1",10)},!0;default:return!1}var hr}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"picture"}render(sr,lr){lr&&sr.leafNode(this.tag,{"r:id":lr.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../base-xform");function lr(or){return or?"1":void 0}nr.exports=class extends sr{get tag(){return"printOptions"}render(or,cr){if(cr){const ur={headings:lr(cr.showRowColHeaders),gridLines:lr(cr.showGridLines),horizontalCentered:lr(cr.horizontalCentered),verticalCentered:lr(cr.verticalCentered)};ar.some(ur,dr=>dr!==void 0)&&or.leafNode(this.tag,ur)}}parseOpen(or){switch(or.name){case this.tag:return this.model={showRowColHeaders:or.attributes.headings==="1",showGridLines:or.attributes.gridLines==="1",horizontalCentered:or.attributes.horizontalCentered==="1",verticalCentered:or.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(rr,nr,ir){const ar=rr("./page-breaks-xform"),sr=rr("../list-xform");nr.exports=class extends sr{constructor(){super({tag:"rowBreaks",count:!0,childXform:new ar})}render(lr,or){if(or&&or.length){lr.openNode(this.tag,this.$),this.count&&(lr.addAttribute(this.$count,or.length),lr.addAttribute("manualBreakCount",or.length));const{childXform:cr}=this;or.forEach(ur=>{cr.render(lr,ur)}),lr.closeNode()}else this.empty&&lr.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../../../utils/utils"),lr=rr("./cell-xform");nr.exports=class extends ar{constructor(or){super(),this.maxItems=or&&or.maxItems,this.map={c:new lr}}get tag(){return"row"}prepare(or,cr){const ur=cr.styles.addStyleModel(or.style);ur&&(or.styleId=ur);const dr=this.map.c;or.cells.forEach(hr=>{dr.prepare(hr,cr)})}render(or,cr,ur){or.openNode("row"),or.addAttribute("r",cr.number),cr.height&&(or.addAttribute("ht",cr.height),or.addAttribute("customHeight","1")),cr.hidden&&or.addAttribute("hidden","1"),cr.min>0&&cr.max>0&&cr.min<=cr.max&&or.addAttribute("spans",`${cr.min}:${cr.max}`),cr.styleId&&(or.addAttribute("s",cr.styleId),or.addAttribute("customFormat","1")),or.addAttribute("x14ac:dyDescent","0.25"),cr.outlineLevel&&or.addAttribute("outlineLevel",cr.outlineLevel),cr.collapsed&&or.addAttribute("collapsed","1");const dr=this.map.c;cr.cells.forEach(hr=>{dr.render(or,hr,ur)}),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;if(or.name==="row"){this.numRowsSeen+=1;const cr=or.attributes.spans?or.attributes.spans.split(":").map(dr=>parseInt(dr,10)):[void 0,void 0],ur=this.model={number:parseInt(or.attributes.r,10),min:cr[0],max:cr[1],cells:[]};return or.attributes.s&&(ur.styleId=parseInt(or.attributes.s,10)),sr.parseBoolean(or.attributes.hidden)&&(ur.hidden=!0),sr.parseBoolean(or.attributes.bestFit)&&(ur.bestFit=!0),or.attributes.ht&&(ur.height=parseFloat(or.attributes.ht)),or.attributes.outlineLevel&&(ur.outlineLevel=parseInt(or.attributes.outlineLevel,10)),sr.parseBoolean(or.attributes.collapsed)&&(ur.collapsed=!0),!0}return this.parser=this.map[or.name],!!this.parser&&(this.parser.parseOpen(or),!0)}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){if(this.parser){if(!this.parser.parseClose(or)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(or,cr){or.style=or.styleId?cr.styles.getStyleModel(or.styleId):{},or.styleId!==void 0&&(or.styleId=void 0);const ur=this.map.c;or.cells.forEach(dr=>{ur.reconcile(dr,cr)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../base-xform");nr.exports=class extends sr{get tag(){return"sheetFormatPr"}render(lr,or){if(or){const cr={defaultRowHeight:or.defaultRowHeight,outlineLevelRow:or.outlineLevelRow,outlineLevelCol:or.outlineLevelCol,"x14ac:dyDescent":or.dyDescent};or.defaultColWidth&&(cr.defaultColWidth=or.defaultColWidth),or.defaultRowHeight&&or.defaultRowHeight===15||(cr.customHeight="1"),ar.some(cr,ur=>ur!==void 0)&&lr.leafNode("sheetFormatPr",cr)}}parseOpen(lr){return lr.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(lr.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(lr.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(lr.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(lr.attributes.outlineLevelCol||"0",10)},lr.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(lr.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../style/color-xform"),lr=rr("./page-setup-properties-xform"),or=rr("./outline-properties-xform");nr.exports=class extends ar{constructor(){super(),this.map={tabColor:new sr("tabColor"),pageSetUpPr:new lr,outlinePr:new or}}get tag(){return"sheetPr"}render(cr,ur){if(ur){cr.addRollback(),cr.openNode("sheetPr");let dr=!1;dr=this.map.tabColor.render(cr,ur.tabColor)||dr,dr=this.map.pageSetUpPr.render(cr,ur.pageSetup)||dr,dr=this.map.outlinePr.render(cr,ur.outlineProperties)||dr,dr?(cr.closeNode(),cr.commit()):cr.rollback()}}parseOpen(cr){return this.parser?(this.parser.parseOpen(cr),!0):cr.name===this.tag?(this.reset(),!0):!!this.map[cr.name]&&(this.parser=this.map[cr.name],this.parser.parseOpen(cr),!0)}parseText(cr){return!!this.parser&&(this.parser.parseText(cr),!0)}parseClose(cr){return this.parser?(this.parser.parseClose(cr)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../base-xform");function lr(cr,ur){return cr?ur:void 0}function or(cr,ur){return cr===ur||void 0}nr.exports=class extends sr{get tag(){return"sheetProtection"}render(cr,ur){if(ur){const dr={sheet:lr(ur.sheet,"1"),selectLockedCells:ur.selectLockedCells===!1?"1":void 0,selectUnlockedCells:ur.selectUnlockedCells===!1?"1":void 0,formatCells:lr(ur.formatCells,"0"),formatColumns:lr(ur.formatColumns,"0"),formatRows:lr(ur.formatRows,"0"),insertColumns:lr(ur.insertColumns,"0"),insertRows:lr(ur.insertRows,"0"),insertHyperlinks:lr(ur.insertHyperlinks,"0"),deleteColumns:lr(ur.deleteColumns,"0"),deleteRows:lr(ur.deleteRows,"0"),sort:lr(ur.sort,"0"),autoFilter:lr(ur.autoFilter,"0"),pivotTables:lr(ur.pivotTables,"0")};ur.sheet&&(dr.algorithmName=ur.algorithmName,dr.hashValue=ur.hashValue,dr.saltValue=ur.saltValue,dr.spinCount=ur.spinCount,dr.objects=lr(ur.objects===!1,"1"),dr.scenarios=lr(ur.scenarios===!1,"1")),ar.some(dr,hr=>hr!==void 0)&&cr.leafNode(this.tag,dr)}}parseOpen(cr){switch(cr.name){case this.tag:return this.model={sheet:or(cr.attributes.sheet,"1"),objects:cr.attributes.objects!=="1"&&void 0,scenarios:cr.attributes.scenarios!=="1"&&void 0,selectLockedCells:cr.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:cr.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:or(cr.attributes.formatCells,"0"),formatColumns:or(cr.attributes.formatColumns,"0"),formatRows:or(cr.attributes.formatRows,"0"),insertColumns:or(cr.attributes.insertColumns,"0"),insertRows:or(cr.attributes.insertRows,"0"),insertHyperlinks:or(cr.attributes.insertHyperlinks,"0"),deleteColumns:or(cr.attributes.deleteColumns,"0"),deleteRows:or(cr.attributes.deleteRows,"0"),sort:or(cr.attributes.sort,"0"),autoFilter:or(cr.attributes.autoFilter,"0"),pivotTables:or(cr.attributes.pivotTables,"0")},cr.attributes.algorithmName&&(this.model.algorithmName=cr.attributes.algorithmName,this.model.hashValue=cr.attributes.hashValue,this.model.saltValue=cr.attributes.saltValue,this.model.spinCount=parseInt(cr.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(rr,nr,ir){const ar=rr("../../../utils/col-cache"),sr=rr("../base-xform"),lr={frozen:"frozen",frozenSplit:"frozen",split:"split"};nr.exports=class extends sr{get tag(){return"sheetView"}prepare(or){switch(or.state){case"frozen":case"split":break;default:or.state="normal"}}render(or,cr){or.openNode("sheetView",{workbookViewId:cr.workbookViewId||0});const ur=function(br,pr,gr){gr&&or.addAttribute(br,pr)};let dr,hr,fr,mr;switch(ur("rightToLeft","1",cr.rightToLeft===!0),ur("tabSelected","1",cr.tabSelected),ur("showRuler","0",cr.showRuler===!1),ur("showRowColHeaders","0",cr.showRowColHeaders===!1),ur("showGridLines","0",cr.showGridLines===!1),ur("zoomScale",cr.zoomScale,cr.zoomScale),ur("zoomScaleNormal",cr.zoomScaleNormal,cr.zoomScaleNormal),ur("view",cr.style,cr.style),cr.state){case"frozen":hr=cr.xSplit||0,fr=cr.ySplit||0,dr=cr.topLeftCell||ar.getAddress(fr+1,hr+1).address,mr=(cr.xSplit&&cr.ySplit?"bottomRight":cr.xSplit&&"topRight")||"bottomLeft",or.leafNode("pane",{xSplit:cr.xSplit||void 0,ySplit:cr.ySplit||void 0,topLeftCell:dr,activePane:mr,state:"frozen"}),or.leafNode("selection",{pane:mr,activeCell:cr.activeCell,sqref:cr.activeCell});break;case"split":cr.activePane==="topLeft"&&(cr.activePane=void 0),or.leafNode("pane",{xSplit:cr.xSplit||void 0,ySplit:cr.ySplit||void 0,topLeftCell:cr.topLeftCell,activePane:cr.activePane}),or.leafNode("selection",{pane:cr.activePane,activeCell:cr.activeCell,sqref:cr.activeCell});break;case"normal":cr.activeCell&&or.leafNode("selection",{activeCell:cr.activeCell,sqref:cr.activeCell})}or.closeNode()}parseOpen(or){switch(or.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(or.attributes.workbookViewId,10),rightToLeft:or.attributes.rightToLeft==="1",tabSelected:or.attributes.tabSelected==="1",showRuler:or.attributes.showRuler!=="0",showRowColHeaders:or.attributes.showRowColHeaders!=="0",showGridLines:or.attributes.showGridLines!=="0",zoomScale:parseInt(or.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(or.attributes.zoomScaleNormal||"100",10),style:or.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(or.attributes.xSplit||"0",10),ySplit:parseInt(or.attributes.ySplit||"0",10),topLeftCell:or.attributes.topLeftCell,activePane:or.attributes.activePane||"topLeft",state:or.attributes.state},!0;case"selection":{const cr=or.attributes.pane||"topLeft";return this.selections[cr]={pane:cr,activeCell:or.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(or){let cr,ur;switch(or){case"sheetView":return this.sheetView&&this.pane?(cr=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:lr[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(cr.activePane=this.pane.activePane),ur=this.selections[this.pane.activePane],ur&&ur.activeCell&&(cr.activeCell=ur.activeCell),this.sheetView.style&&(cr.style=this.sheetView.style)):(cr=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},ur=this.selections.topLeft,ur&&ur.activeCell&&(cr.activeCell=ur.activeCell),this.sheetView.style&&(cr.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"tablePart"}render(sr,lr){lr&&sr.leafNode(this.tag,{"r:id":lr.rId})}parseOpen(sr){switch(sr.name){case this.tag:return this.model={rId:sr.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../../../utils/col-cache"),lr=rr("../../../utils/xml-stream"),or=rr("../../rel-type"),cr=rr("./merges"),ur=rr("../base-xform"),dr=rr("../list-xform"),hr=rr("./row-xform"),fr=rr("./col-xform"),mr=rr("./dimension-xform"),br=rr("./hyperlink-xform"),pr=rr("./merge-cell-xform"),gr=rr("./data-validations-xform"),yr=rr("./sheet-properties-xform"),vr=rr("./sheet-format-properties-xform"),_r=rr("./sheet-view-xform"),xr=rr("./sheet-protection-xform"),Rr=rr("./page-margins-xform"),Cr=rr("./page-setup-xform"),Tr=rr("./print-options-xform"),Ir=rr("./auto-filter-xform"),Lr=rr("./picture-xform"),Nr=rr("./drawing-xform"),Or=rr("./table-part-xform"),Pr=rr("./row-breaks-xform"),Mr=rr("./header-footer-xform"),jr=rr("./cf/conditional-formattings-xform"),wr=rr("./ext-lst-xform"),Er=(Sr,Dr)=>{if(!Dr||!Dr.length)return Sr;if(!Sr||!Sr.length)return Dr;const Wr={},$r={};return Sr.forEach(Vr=>{Wr[Vr.ref]=Vr,Vr.rules.forEach(zr=>{const{x14Id:Gr}=zr;Gr&&($r[Gr]=zr)})}),Dr.forEach(Vr=>{Vr.rules.forEach(zr=>{const Gr=$r[zr.x14Id];Gr?((Fr,Xr)=>{Object.keys(Xr).forEach(Ur=>{const Br=Fr[Ur],Kr=Xr[Ur];Br===void 0&&Kr!==void 0&&(Fr[Ur]=Kr)})})(Gr,zr):Wr[Vr.ref]?Wr[Vr.ref].rules.push(zr):Sr.push({ref:Vr.ref,rules:[zr]})})}),Sr};class Ar extends ur{constructor(Dr){super();const{maxRows:Wr,maxCols:$r,ignoreNodes:Vr}=Dr||{};this.ignoreNodes=Vr||[],this.map={sheetPr:new yr,dimension:new mr,sheetViews:new dr({tag:"sheetViews",count:!1,childXform:new _r}),sheetFormatPr:new vr,cols:new dr({tag:"cols",count:!1,childXform:new fr}),sheetData:new dr({tag:"sheetData",count:!1,empty:!0,childXform:new hr({maxItems:$r}),maxItems:Wr}),autoFilter:new Ir,mergeCells:new dr({tag:"mergeCells",count:!0,childXform:new pr}),rowBreaks:new Pr,hyperlinks:new dr({tag:"hyperlinks",count:!1,childXform:new br}),pageMargins:new Rr,dataValidations:new gr,pageSetup:new Cr,headerFooter:new Mr,printOptions:new Tr,picture:new Lr,drawing:new Nr,sheetProtection:new xr,tableParts:new dr({tag:"tableParts",count:!0,childXform:new Or}),conditionalFormatting:new jr,extLst:new wr}}prepare(Dr,Wr){Wr.merges=new cr,Dr.hyperlinks=Wr.hyperlinks=[],Dr.comments=Wr.comments=[],Wr.formulae={},Wr.siFormulae=0,this.map.cols.prepare(Dr.cols,Wr),this.map.sheetData.prepare(Dr.rows,Wr),this.map.conditionalFormatting.prepare(Dr.conditionalFormattings,Wr),Dr.mergeCells=Wr.merges.mergeCells;const $r=Dr.rels=[];function Vr(Fr){return"rId"+(Fr.length+1)}if(Dr.hyperlinks.forEach(Fr=>{const Xr=Vr($r);Fr.rId=Xr,$r.push({Id:Xr,Type:or.Hyperlink,Target:Fr.target,TargetMode:"External"})}),Dr.comments.length>0){const Fr={Id:Vr($r),Type:or.Comments,Target:`../comments${Dr.id}.xml`};$r.push(Fr);const Xr={Id:Vr($r),Type:or.VmlDrawing,Target:`../drawings/vmlDrawing${Dr.id}.vml`};$r.push(Xr),Dr.comments.forEach(Ur=>{Ur.refAddress=sr.decodeAddress(Ur.ref)}),Wr.commentRefs.push({commentName:"comments"+Dr.id,vmlDrawing:"vmlDrawing"+Dr.id})}const zr=[];let Gr;Dr.media.forEach(Fr=>{if(Fr.type==="background"){const Xr=Vr($r);Gr=Wr.media[Fr.imageId],$r.push({Id:Xr,Type:or.Image,Target:`../media/${Gr.name}.${Gr.extension}`}),Dr.background={rId:Xr},Dr.image=Wr.media[Fr.imageId]}else if(Fr.type==="image"){let{drawing:Xr}=Dr;Gr=Wr.media[Fr.imageId],Xr||(Xr=Dr.drawing={rId:Vr($r),name:"drawing"+ ++Wr.drawingsCount,anchors:[],rels:[]},Wr.drawings.push(Xr),$r.push({Id:Xr.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Xr.name}.xml`}));let Ur=this.preImageId===Fr.imageId?zr[Fr.imageId]:zr[Xr.rels.length];Ur||(Ur=Vr(Xr.rels),zr[Xr.rels.length]=Ur,Xr.rels.push({Id:Ur,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Gr.name}.${Gr.extension}`}));const Br={picture:{rId:Ur},range:Fr.range};if(Fr.hyperlinks&&Fr.hyperlinks.hyperlink){const Kr=Vr(Xr.rels);zr[Xr.rels.length]=Kr,Br.picture.hyperlinks={tooltip:Fr.hyperlinks.tooltip,rId:Kr},Xr.rels.push({Id:Kr,Type:or.Hyperlink,Target:Fr.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=Fr.imageId,Xr.anchors.push(Br)}}),Dr.tables.forEach(Fr=>{const Xr=Vr($r);Fr.rId=Xr,$r.push({Id:Xr,Type:or.Table,Target:"../tables/"+Fr.target}),Fr.columns.forEach(Ur=>{const{style:Br}=Ur;Br&&(Ur.dxfId=Wr.styles.addDxfStyle(Br))})}),this.map.extLst.prepare(Dr,Wr)}render(Dr,Wr){Dr.openXml(lr.StdDocAttributes),Dr.openNode("worksheet",Ar.WORKSHEET_ATTRIBUTES);const $r=Wr.properties?{defaultRowHeight:Wr.properties.defaultRowHeight,dyDescent:Wr.properties.dyDescent,outlineLevelCol:Wr.properties.outlineLevelCol,outlineLevelRow:Wr.properties.outlineLevelRow}:void 0;Wr.properties&&Wr.properties.defaultColWidth&&($r.defaultColWidth=Wr.properties.defaultColWidth);const Vr={outlineProperties:Wr.properties&&Wr.properties.outlineProperties,tabColor:Wr.properties&&Wr.properties.tabColor,pageSetup:Wr.pageSetup&&Wr.pageSetup.fitToPage?{fitToPage:Wr.pageSetup.fitToPage}:void 0},zr=Wr.pageSetup&&Wr.pageSetup.margins,Gr={showRowColHeaders:Wr.pageSetup&&Wr.pageSetup.showRowColHeaders,showGridLines:Wr.pageSetup&&Wr.pageSetup.showGridLines,horizontalCentered:Wr.pageSetup&&Wr.pageSetup.horizontalCentered,verticalCentered:Wr.pageSetup&&Wr.pageSetup.verticalCentered},Fr=Wr.sheetProtection;this.map.sheetPr.render(Dr,Vr),this.map.dimension.render(Dr,Wr.dimensions),this.map.sheetViews.render(Dr,Wr.views),this.map.sheetFormatPr.render(Dr,$r),this.map.cols.render(Dr,Wr.cols),this.map.sheetData.render(Dr,Wr.rows),this.map.sheetProtection.render(Dr,Fr),this.map.autoFilter.render(Dr,Wr.autoFilter),this.map.mergeCells.render(Dr,Wr.mergeCells),this.map.conditionalFormatting.render(Dr,Wr.conditionalFormattings),this.map.dataValidations.render(Dr,Wr.dataValidations),this.map.hyperlinks.render(Dr,Wr.hyperlinks),this.map.printOptions.render(Dr,Gr),this.map.pageMargins.render(Dr,zr),this.map.pageSetup.render(Dr,Wr.pageSetup),this.map.headerFooter.render(Dr,Wr.headerFooter),this.map.rowBreaks.render(Dr,Wr.rowBreaks),this.map.drawing.render(Dr,Wr.drawing),this.map.picture.render(Dr,Wr.background),this.map.tableParts.render(Dr,Wr.tables),this.map.extLst.render(Dr,Wr),Wr.rels&&Wr.rels.forEach(Xr=>{Xr.Type===or.VmlDrawing&&Dr.leafNode("legacyDrawing",{"r:id":Xr.Id})}),Dr.closeNode()}parseOpen(Dr){return this.parser?(this.parser.parseOpen(Dr),!0):Dr.name==="worksheet"?(ar.each(this.map,Wr=>{Wr.reset()}),!0):(this.map[Dr.name]&&!this.ignoreNodes.includes(Dr.name)&&(this.parser=this.map[Dr.name],this.parser.parseOpen(Dr)),!0)}parseText(Dr){this.parser&&this.parser.parseText(Dr)}parseClose(Dr){if(this.parser)return this.parser.parseClose(Dr)||(this.parser=void 0),!0;switch(Dr){case"worksheet":{const Wr=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(Wr.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(Wr.outlineProperties=this.map.sheetPr.model.outlineProperties);const $r={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Vr=Object.assign($r,this.map.pageSetup.model,this.map.printOptions.model),zr=Er(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:Wr,views:this.map.sheetViews.model,pageSetup:Vr,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:zr},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(Dr,Wr){const $r=(Dr.relationships||[]).reduce((zr,Gr)=>{if(zr[Gr.Id]=Gr,Gr.Type===or.Comments&&(Dr.comments=Wr.comments[Gr.Target].comments),Gr.Type===or.VmlDrawing&&Dr.comments&&Dr.comments.length){const Fr=Wr.vmlDrawings[Gr.Target].comments;Dr.comments.forEach((Xr,Ur)=>{Xr.note=Object.assign({},Xr.note,Fr[Ur])})}return zr},{});if(Wr.commentsMap=(Dr.comments||[]).reduce((zr,Gr)=>(Gr.ref&&(zr[Gr.ref]=Gr),zr),{}),Wr.hyperlinkMap=(Dr.hyperlinks||[]).reduce((zr,Gr)=>(Gr.rId&&(zr[Gr.address]=$r[Gr.rId].Target),zr),{}),Wr.formulae={},Dr.rows=Dr.rows&&Dr.rows.filter(Boolean)||[],Dr.rows.forEach(zr=>{zr.cells=zr.cells&&zr.cells.filter(Boolean)||[]}),this.map.cols.reconcile(Dr.cols,Wr),this.map.sheetData.reconcile(Dr.rows,Wr),this.map.conditionalFormatting.reconcile(Dr.conditionalFormattings,Wr),Dr.media=[],Dr.drawing){const zr=$r[Dr.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(zr){const Gr=zr[1];Wr.drawings[Gr].anchors.forEach(Fr=>{if(Fr.medium){const Xr={type:"image",imageId:Fr.medium.index,range:Fr.range,hyperlinks:Fr.picture.hyperlinks};Dr.media.push(Xr)}})}}const Vr=Dr.background&&$r[Dr.background.rId];if(Vr){const zr=Vr.Target.split("/media/")[1],Gr=Wr.mediaIndex&&Wr.mediaIndex[zr];Gr!==void 0&&Dr.media.push({type:"background",imageId:Gr})}Dr.tables=(Dr.tables||[]).map(zr=>{const Gr=$r[zr.rId];return Wr.tables[Gr.Target]}),delete Dr.relationships,delete Dr.hyperlinks,delete Dr.comments}}Ar.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},nr.exports=Ar},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr}render(sr,lr){lr&&(sr.openNode(this.tag),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs,this._format=sr.format||function(lr){try{return Number.isNaN(lr.getTime())?"":lr.toISOString()}catch{return""}},this._parse=sr.parse||function(lr){return new Date(lr)}}render(sr,lr){lr&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,this._format(lr)):sr.writeText(this._format(lr)),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.attr?this.model=this._parse(sr.attributes[this.attr]):this.text=[])}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs,this.zero=sr.zero}render(sr,lr){(lr||this.zero)&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,lr):sr.writeText(lr),sr.closeNode())}parseOpen(sr){return sr.name===this.tag&&(this.attr?this.model=parseInt(sr.attributes[this.attr],10):this.text=[],!0)}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.tag=sr.tag,this.attr=sr.attr,this.attrs=sr.attrs}render(sr,lr){lr!==void 0&&(sr.openNode(this.tag),this.attrs&&sr.addAttributes(this.attrs),this.attr?sr.addAttribute(this.attr,lr):sr.writeText(lr),sr.closeNode())}parseOpen(sr){sr.name===this.tag&&(this.attr?this.model=sr.attributes[this.attr]:this.text=[])}parseText(sr){this.attr||this.text.push(sr)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(rr,nr,ir){const ar=rr("./base-xform"),sr=rr("../../utils/xml-stream");nr.exports=class extends ar{constructor(lr){super(),this._model=lr}render(lr){if(!this._xml){const or=new sr;(function cr(ur,dr){ur.openNode(dr.tag,dr.$),dr.c&&dr.c.forEach(hr=>{cr(ur,hr)}),dr.t&&ur.writeText(dr.t),ur.closeNode()})(or,this._model),this._xml=or.xml}lr.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(lr){switch(lr){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(rr,nr,ir){const ar=rr("./text-xform"),sr=rr("./rich-text-xform"),lr=rr("../base-xform");nr.exports=class extends lr{constructor(){super(),this.map={r:new sr,t:new ar}}get tag(){return"rPh"}render(or,cr){if(or.openNode(this.tag,{sb:cr.sb||0,eb:cr.eb||0}),cr&&cr.hasOwnProperty("richText")&&cr.richText){const{r:ur}=this.map;cr.richText.forEach(dr=>{ur.render(or,dr)})}else cr&&this.map.t.render(or,cr.text);or.closeNode()}parseOpen(or){const{name:cr}=or;return this.parser?(this.parser.parseOpen(or),!0):cr===this.tag?(this.model={sb:parseInt(or.attributes.sb,10),eb:parseInt(or.attributes.eb,10)},!0):(this.parser=this.map[cr],!!this.parser&&(this.parser.parseOpen(or),!0))}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){if(this.parser){if(!this.parser.parseClose(or)){switch(or){case"r":{let cr=this.model.richText;cr||(cr=this.model.richText=[]),cr.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(or){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(rr,nr,ir){const ar=rr("./text-xform"),sr=rr("../style/font-xform"),lr=rr("../base-xform");class or extends lr{constructor(ur){super(),this.model=ur}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new ar)}get fontXform(){return this._fontXform||(this._fontXform=new sr(or.FONT_OPTIONS))}render(ur,dr){dr=dr||this.model,ur.openNode("r"),dr.font&&this.fontXform.render(ur,dr.font),this.textXform.render(ur,dr.text),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(ur),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(ur),!0;default:return!1}}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){switch(ur){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(ur),!0}}}or.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},nr.exports=or},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(rr,nr,ir){const ar=rr("./text-xform"),sr=rr("./rich-text-xform"),lr=rr("./phonetic-text-xform"),or=rr("../base-xform");nr.exports=class extends or{constructor(cr){super(),this.model=cr,this.map={r:new sr,t:new ar,rPh:new lr}}get tag(){return"si"}render(cr,ur){cr.openNode(this.tag),ur&&ur.hasOwnProperty("richText")&&ur.richText?ur.richText.length?ur.richText.forEach(dr=>{this.map.r.render(cr,dr)}):this.map.t.render(cr,""):ur!=null&&this.map.t.render(cr,ur),cr.closeNode()}parseOpen(cr){const{name:ur}=cr;return this.parser?(this.parser.parseOpen(cr),!0):ur===this.tag?(this.model={},!0):(this.parser=this.map[ur],!!this.parser&&(this.parser.parseOpen(cr),!0))}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser){if(!this.parser.parseClose(cr)){switch(cr){case"r":{let ur=this.model.richText;ur||(ur=this.model.richText=[]),ur.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(cr){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("./shared-string-xform");nr.exports=class extends sr{constructor(or){super(),this.model=or||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new lr)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(or){return this.model.values[or]}add(or){return or.richText?this.addRichText(or):this.addText(or)}addText(or){let cr=this.hash[or];return cr===void 0&&(cr=this.hash[or]=this.model.values.length,this.model.values.push(or)),this.model.count++,cr}addRichText(or){const cr=this.sharedStringXform.toXml(or);let ur=this.rich[cr];return ur===void 0&&(ur=this.rich[cr]=this.model.values.length,this.model.values.push(or)),this.model.count++,ur}render(or,cr){cr=cr||this._values,or.openXml(ar.StdDocAttributes),or.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:cr.count,uniqueCount:cr.values.length});const ur=this.sharedStringXform;cr.values.forEach(dr=>{ur.render(or,dr)}),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(or),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(or))}}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){if(this.parser)return this.parser.parseClose(or)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(or){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+or)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"t"}render(sr,lr){sr.openNode("t"),/^\s|\n|\s$/.test(lr)&&sr.addAttribute("xml:space","preserve"),sr.writeText(lr),sr.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(sr,lr)=>String.fromCharCode(parseInt(lr,16)))}parseOpen(sr){switch(sr.name){case"t":return this._text=[],!0;default:return!1}}parseText(sr){this._text.push(sr)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(rr,nr,ir){const ar=rr("../../../doc/enums"),sr=rr("../../../utils/utils"),lr=rr("../base-xform"),or={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((ur,dr)=>(ur[dr]=!0,ur),{}),horizontal(ur){return this.horizontalValues[ur]?ur:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((ur,dr)=>(ur[dr]=!0,ur),{}),vertical(ur){return ur==="middle"?"center":this.verticalValues[ur]?ur:void 0},wrapText:ur=>!!ur||void 0,shrinkToFit:ur=>!!ur||void 0,textRotation(ur){switch(ur){case"vertical":return ur;default:return(ur=sr.validInt(ur))>=-90&&ur<=90?ur:void 0}},indent:ur=>(ur=sr.validInt(ur),Math.max(0,ur)),readingOrder(ur){switch(ur){case"ltr":return ar.ReadingOrder.LeftToRight;case"rtl":return ar.ReadingOrder.RightToLeft;default:return}}},cr={toXml(ur){if(ur=or.textRotation(ur)){if(ur==="vertical")return 255;const dr=Math.round(ur);if(dr>=0&&dr<=90)return dr;if(dr<0&&dr>=-90)return 90-dr}},toModel(ur){const dr=sr.validInt(ur);if(dr!==void 0){if(dr===255)return"vertical";if(dr>=0&&dr<=90)return dr;if(dr>90&&dr<=180)return 90-dr}}};nr.exports=class extends lr{get tag(){return"alignment"}render(ur,dr){ur.addRollback(),ur.openNode("alignment");let hr=!1;function fr(mr,br){br&&(ur.addAttribute(mr,br),hr=!0)}fr("horizontal",or.horizontal(dr.horizontal)),fr("vertical",or.vertical(dr.vertical)),fr("wrapText",!!or.wrapText(dr.wrapText)&&"1"),fr("shrinkToFit",!!or.shrinkToFit(dr.shrinkToFit)&&"1"),fr("indent",or.indent(dr.indent)),fr("textRotation",cr.toXml(dr.textRotation)),fr("readingOrder",or.readingOrder(dr.readingOrder)),ur.closeNode(),hr?ur.commit():ur.rollback()}parseOpen(ur){const dr={};let hr=!1;function fr(mr,br,pr){mr&&(dr[br]=pr,hr=!0)}fr(ur.attributes.horizontal,"horizontal",ur.attributes.horizontal),fr(ur.attributes.vertical,"vertical",ur.attributes.vertical==="center"?"middle":ur.attributes.vertical),fr(ur.attributes.wrapText,"wrapText",sr.parseBoolean(ur.attributes.wrapText)),fr(ur.attributes.shrinkToFit,"shrinkToFit",sr.parseBoolean(ur.attributes.shrinkToFit)),fr(ur.attributes.indent,"indent",parseInt(ur.attributes.indent,10)),fr(ur.attributes.textRotation,"textRotation",cr.toModel(ur.attributes.textRotation)),fr(ur.attributes.readingOrder,"readingOrder",ur.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=hr?dr:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../../../utils/utils"),lr=rr("./color-xform");class or extends ar{constructor(ur){super(),this.name=ur,this.map={color:new lr}}get tag(){return this.name}render(ur,dr,hr){const fr=dr&&dr.color||hr||this.defaultColor;ur.openNode(this.name),dr&&dr.style&&(ur.addAttribute("style",dr.style),fr&&this.map.color.render(ur,fr)),ur.closeNode()}parseOpen(ur){if(this.parser)return this.parser.parseOpen(ur),!0;switch(ur.name){case this.name:{const{style:dr}=ur.attributes;return this.model=dr?{style:dr}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(ur),!0;default:return!1}}parseText(ur){this.parser&&this.parser.parseText(ur)}parseClose(ur){return this.parser?(this.parser.parseClose(ur)||(this.parser=void 0),!0):(ur===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(ur){return or.validStyleValues[ur]}}or.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((cr,ur)=>(cr[ur]=!0,cr),{}),nr.exports=class extends ar{constructor(){super(),this.map={top:new or("top"),left:new or("left"),bottom:new or("bottom"),right:new or("right"),diagonal:new or("diagonal")}}render(cr,ur){const{color:dr}=ur;function hr(fr,mr){fr&&!fr.color&&ur.color&&(fr={...fr,color:ur.color}),mr.render(cr,fr,dr)}cr.openNode("border"),ur.diagonal&&ur.diagonal.style&&(ur.diagonal.up&&cr.addAttribute("diagonalUp","1"),ur.diagonal.down&&cr.addAttribute("diagonalDown","1")),hr(ur.left,this.map.left),hr(ur.right,this.map.right),hr(ur.top,this.map.top),hr(ur.bottom,this.map.bottom),hr(ur.diagonal,this.map.diagonal),cr.closeNode()}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;switch(cr.name){case"border":return this.reset(),this.diagonalUp=sr.parseBoolean(cr.attributes.diagonalUp),this.diagonalDown=sr.parseBoolean(cr.attributes.diagonalDown),!0;default:return this.parser=this.map[cr.name],!!this.parser&&(this.parser.parseOpen(cr),!0)}}parseText(cr){this.parser&&this.parser.parseText(cr)}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;if(cr==="border"){const ur=this.model={},dr=function(hr,fr,mr){fr&&(mr&&Object.assign(fr,mr),ur[hr]=fr)};dr("left",this.map.left.model),dr("right",this.map.right.model),dr("top",this.map.top.model),dr("bottom",this.map.bottom.model),dr("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{constructor(sr){super(),this.name=sr||"color"}get tag(){return this.name}render(sr,lr){return!!lr&&(sr.openNode(this.name),lr.argb?sr.addAttribute("rgb",lr.argb):lr.theme!==void 0?(sr.addAttribute("theme",lr.theme),lr.tint!==void 0&&sr.addAttribute("tint",lr.tint)):lr.indexed!==void 0?sr.addAttribute("indexed",lr.indexed):sr.addAttribute("auto","1"),sr.closeNode(),!0)}parseOpen(sr){return sr.name===this.name&&(sr.attributes.rgb?this.model={argb:sr.attributes.rgb}:sr.attributes.theme?(this.model={theme:parseInt(sr.attributes.theme,10)},sr.attributes.tint&&(this.model.tint=parseFloat(sr.attributes.tint))):sr.attributes.indexed?this.model={indexed:parseInt(sr.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./alignment-xform"),lr=rr("./border-xform"),or=rr("./fill-xform"),cr=rr("./font-xform"),ur=rr("./numfmt-xform"),dr=rr("./protection-xform");nr.exports=class extends ar{constructor(){super(),this.map={alignment:new sr,border:new lr,fill:new or,font:new cr,numFmt:new ur,protection:new dr}}get tag(){return"dxf"}render(hr,fr){if(hr.openNode(this.tag),fr.font&&this.map.font.render(hr,fr.font),fr.numFmt&&fr.numFmtId){const mr={id:fr.numFmtId,formatCode:fr.numFmt};this.map.numFmt.render(hr,mr)}fr.fill&&this.map.fill.render(hr,fr.fill),fr.alignment&&this.map.alignment.render(hr,fr.alignment),fr.border&&this.map.border.render(hr,fr.border),fr.protection&&this.map.protection.render(hr,fr.protection),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[hr.name],this.parser&&this.parser.parseOpen(hr),!0}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return this.parser?(this.parser.parseClose(hr)||(this.parser=void 0),!0):hr!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./color-xform");class lr extends ar{constructor(){super(),this.map={color:new sr}}get tag(){return"stop"}render(hr,fr){hr.openNode("stop"),hr.addAttribute("position",fr.position),this.map.color.render(hr,fr.color),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"stop":return this.model={position:parseFloat(hr.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(hr),!0;default:return!1}}parseText(){}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class or extends ar{constructor(){super(),this.map={fgColor:new sr("fgColor"),bgColor:new sr("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(hr,fr){hr.openNode("patternFill"),hr.addAttribute("patternType",fr.pattern),fr.fgColor&&this.map.fgColor.render(hr,fr.fgColor),fr.bgColor&&this.map.bgColor.render(hr,fr.bgColor),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"patternFill":return this.model={type:"pattern",pattern:hr.attributes.patternType},!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.parser.model&&(this.model[hr]=this.parser.model),this.parser=void 0),!0)}}class cr extends ar{constructor(){super(),this.map={stop:new lr}}get name(){return"gradient"}get tag(){return"gradientFill"}render(hr,fr){switch(hr.openNode("gradientFill"),fr.gradient){case"angle":hr.addAttribute("degree",fr.degree);break;case"path":hr.addAttribute("type","path"),fr.center.left&&(hr.addAttribute("left",fr.center.left),fr.center.right===void 0&&hr.addAttribute("right",fr.center.left)),fr.center.right&&hr.addAttribute("right",fr.center.right),fr.center.top&&(hr.addAttribute("top",fr.center.top),fr.center.bottom===void 0&&hr.addAttribute("bottom",fr.center.top)),fr.center.bottom&&hr.addAttribute("bottom",fr.center.bottom)}const mr=this.map.stop;fr.stops.forEach(br=>{mr.render(hr,br)}),hr.closeNode()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"gradientFill":{const fr=this.model={stops:[]};return hr.attributes.degree?(fr.gradient="angle",fr.degree=parseInt(hr.attributes.degree,10)):hr.attributes.type==="path"&&(fr.gradient="path",fr.center={left:hr.attributes.left?parseFloat(hr.attributes.left):0,top:hr.attributes.top?parseFloat(hr.attributes.top):0},hr.attributes.right!==hr.attributes.left&&(fr.center.right=hr.attributes.right?parseFloat(hr.attributes.right):0),hr.attributes.bottom!==hr.attributes.top&&(fr.center.bottom=hr.attributes.bottom?parseFloat(hr.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(hr),!0;default:return!1}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class ur extends ar{constructor(){super(),this.map={patternFill:new or,gradientFill:new cr}}get tag(){return"fill"}render(hr,fr){switch(hr.addRollback(),hr.openNode("fill"),fr.type){case"pattern":this.map.patternFill.render(hr,fr);break;case"gradient":this.map.gradientFill.render(hr,fr);break;default:return void hr.rollback()}hr.closeNode(),hr.commit()}parseOpen(hr){if(this.parser)return this.parser.parseOpen(hr),!0;switch(hr.name){case"fill":return this.model={},!0;default:return this.parser=this.map[hr.name],!!this.parser&&(this.parser.parseOpen(hr),!0)}}parseText(hr){this.parser&&this.parser.parseText(hr)}parseClose(hr){return!!this.parser&&(this.parser.parseClose(hr)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(hr){return ur.validPatternValues[hr]}}ur.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((dr,hr)=>(dr[hr]=!0,dr),{}),ur.StopXform=lr,ur.PatternFillXform=or,ur.GradientFillXform=cr,nr.exports=ur},{"../base-xform":32,"./color-xform":128}],131:[function(rr,nr,ir){const ar=rr("./color-xform"),sr=rr("../simple/boolean-xform"),lr=rr("../simple/integer-xform"),or=rr("../simple/string-xform"),cr=rr("./underline-xform"),ur=rr("../../../utils/under-dash"),dr=rr("../base-xform");class hr extends dr{constructor(mr){super(),this.options=mr||hr.OPTIONS,this.map={b:{prop:"bold",xform:new sr({tag:"b",attr:"val"})},i:{prop:"italic",xform:new sr({tag:"i",attr:"val"})},u:{prop:"underline",xform:new cr},charset:{prop:"charset",xform:new lr({tag:"charset",attr:"val"})},color:{prop:"color",xform:new ar},condense:{prop:"condense",xform:new sr({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new sr({tag:"extend",attr:"val"})},family:{prop:"family",xform:new lr({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new sr({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new or({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new or({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new sr({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new sr({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new lr({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new or({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(mr,br){const{map:pr}=this;mr.openNode(this.options.tagName),ur.each(this.map,(gr,yr)=>{pr[yr].xform.render(mr,br[gr.prop])}),mr.closeNode()}parseOpen(mr){if(this.parser)return this.parser.parseOpen(mr),!0;if(this.map[mr.name])return this.parser=this.map[mr.name].xform,this.parser.parseOpen(mr);switch(mr.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(mr){this.parser&&this.parser.parseText(mr)}parseClose(mr){if(this.parser&&!this.parser.parseClose(mr)){const br=this.map[mr];return this.parser.model&&(this.model[br.prop]=this.parser.model),this.parser=void 0,!0}switch(mr){case this.options.tagName:return!1;default:return!0}}}hr.OPTIONS={tagName:"font",fontNameTag:"name"},nr.exports=hr},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(rr,nr,ir){const ar=rr("../../../utils/under-dash"),sr=rr("../../defaultnumformats"),lr=rr("../base-xform"),or=function(){const ur={};return ar.each(sr,(dr,hr)=>{dr.f&&(ur[dr.f]=parseInt(hr,10))}),ur}();class cr extends lr{constructor(dr,hr){super(),this.id=dr,this.formatCode=hr}get tag(){return"numFmt"}render(dr,hr){dr.leafNode("numFmt",{numFmtId:hr.id,formatCode:hr.formatCode})}parseOpen(dr){switch(dr.name){case"numFmt":return this.model={id:parseInt(dr.attributes.numFmtId,10),formatCode:dr.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}cr.getDefaultFmtId=function(ur){return or[ur]},cr.getDefaultFmtCode=function(ur){return sr[ur]&&sr[ur].f},nr.exports=cr},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(rr,nr,ir){const ar=rr("../base-xform"),sr={boolean:(lr,or)=>lr===void 0?or:lr};nr.exports=class extends ar{get tag(){return"protection"}render(lr,or){lr.addRollback(),lr.openNode("protection");let cr=!1;function ur(dr,hr){hr!==void 0&&(lr.addAttribute(dr,hr),cr=!0)}ur("locked",sr.boolean(or.locked,!0)?void 0:"0"),ur("hidden",sr.boolean(or.hidden,!1)?"1":void 0),lr.closeNode(),cr?lr.commit():lr.rollback()}parseOpen(lr){const or={locked:lr.attributes.locked!=="0",hidden:lr.attributes.hidden==="1"},cr=!or.locked||or.hidden;this.model=cr?or:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./alignment-xform"),lr=rr("./protection-xform");nr.exports=class extends ar{constructor(or){super(),this.xfId=!(!or||!or.xfId),this.map={alignment:new sr,protection:new lr}}get tag(){return"xf"}render(or,cr){or.openNode("xf",{numFmtId:cr.numFmtId||0,fontId:cr.fontId||0,fillId:cr.fillId||0,borderId:cr.borderId||0}),this.xfId&&or.addAttribute("xfId",cr.xfId||0),cr.numFmtId&&or.addAttribute("applyNumberFormat","1"),cr.fontId&&or.addAttribute("applyFont","1"),cr.fillId&&or.addAttribute("applyFill","1"),cr.borderId&&or.addAttribute("applyBorder","1"),cr.alignment&&or.addAttribute("applyAlignment","1"),cr.protection&&or.addAttribute("applyProtection","1"),cr.alignment&&this.map.alignment.render(or,cr.alignment),cr.protection&&this.map.protection.render(or,cr.protection),or.closeNode()}parseOpen(or){if(this.parser)return this.parser.parseOpen(or),!0;switch(or.name){case"xf":return this.model={numFmtId:parseInt(or.attributes.numFmtId,10),fontId:parseInt(or.attributes.fontId,10),fillId:parseInt(or.attributes.fillId,10),borderId:parseInt(or.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(or.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(or),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(or),!0;default:return!1}}parseText(or){this.parser&&this.parser.parseText(or)}parseClose(or){return this.parser?(this.parser.parseClose(or)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):or!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(rr,nr,ir){const ar=rr("../../../doc/enums"),sr=rr("../../../utils/xml-stream"),lr=rr("../base-xform"),or=rr("../static-xform"),cr=rr("../list-xform"),ur=rr("./font-xform"),dr=rr("./fill-xform"),hr=rr("./border-xform"),fr=rr("./numfmt-xform"),mr=rr("./style-xform"),br=rr("./dxf-xform");class pr extends lr{constructor(yr){super(),this.map={numFmts:new cr({tag:"numFmts",count:!0,childXform:new fr}),fonts:new cr({tag:"fonts",count:!0,childXform:new ur,$:{"x14ac:knownFonts":1}}),fills:new cr({tag:"fills",count:!0,childXform:new dr}),borders:new cr({tag:"borders",count:!0,childXform:new hr}),cellStyleXfs:new cr({tag:"cellStyleXfs",count:!0,childXform:new mr}),cellXfs:new cr({tag:"cellXfs",count:!0,childXform:new mr({xfId:!0})}),dxfs:new cr({tag:"dxfs",always:!0,count:!0,childXform:new br}),numFmt:new fr,font:new ur,fill:new dr,border:new hr,style:new mr({xfId:!0}),cellStyles:pr.STATIC_XFORMS.cellStyles,tableStyles:pr.STATIC_XFORMS.tableStyles,extLst:pr.STATIC_XFORMS.extLst},yr&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(yr,vr){vr=vr||this.model,yr.openXml(sr.StdDocAttributes),yr.openNode("styleSheet",pr.STYLESHEET_ATTRIBUTES),this.index?(vr.numFmts&&vr.numFmts.length&&(yr.openNode("numFmts",{count:vr.numFmts.length}),vr.numFmts.forEach(_r=>{yr.writeXml(_r)}),yr.closeNode()),vr.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),yr.openNode("fonts",{count:vr.fonts.length,"x14ac:knownFonts":1}),vr.fonts.forEach(_r=>{yr.writeXml(_r)}),yr.closeNode(),yr.openNode("fills",{count:vr.fills.length}),vr.fills.forEach(_r=>{yr.writeXml(_r)}),yr.closeNode(),yr.openNode("borders",{count:vr.borders.length}),vr.borders.forEach(_r=>{yr.writeXml(_r)}),yr.closeNode(),this.map.cellStyleXfs.render(yr,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),yr.openNode("cellXfs",{count:vr.styles.length}),vr.styles.forEach(_r=>{yr.writeXml(_r)}),yr.closeNode()):(this.map.numFmts.render(yr,vr.numFmts),this.map.fonts.render(yr,vr.fonts),this.map.fills.render(yr,vr.fills),this.map.borders.render(yr,vr.borders),this.map.cellStyleXfs.render(yr,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(yr,vr.styles)),pr.STATIC_XFORMS.cellStyles.render(yr),this.map.dxfs.render(yr,vr.dxfs),pr.STATIC_XFORMS.tableStyles.render(yr),pr.STATIC_XFORMS.extLst.render(yr),yr.closeNode()}parseOpen(yr){if(this.parser)return this.parser.parseOpen(yr),!0;switch(yr.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[yr.name],this.parser&&this.parser.parseOpen(yr),!0}}parseText(yr){this.parser&&this.parser.parseText(yr)}parseClose(yr){if(this.parser)return this.parser.parseClose(yr)||(this.parser=void 0),!0;switch(yr){case"styleSheet":{this.model={};const vr=(_r,xr)=>{xr.model&&xr.model.length&&(this.model[_r]=xr.model)};if(vr("numFmts",this.map.numFmts),vr("fonts",this.map.fonts),vr("fills",this.map.fills),vr("borders",this.map.borders),vr("styles",this.map.cellXfs),vr("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const _r=this.index.numFmt;this.model.numFmts.forEach(xr=>{_r[xr.id]=xr.formatCode})}return!1}default:return!0}}addStyleModel(yr,vr){if(!yr)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(yr))return this.weakMap.get(yr);const _r={};if(vr=vr||ar.ValueType.Number,yr.numFmt)_r.numFmtId=this._addNumFmtStr(yr.numFmt);else switch(vr){case ar.ValueType.Number:_r.numFmtId=this._addNumFmtStr("General");break;case ar.ValueType.Date:_r.numFmtId=this._addNumFmtStr("mm-dd-yy")}yr.font&&(_r.fontId=this._addFont(yr.font)),yr.border&&(_r.borderId=this._addBorder(yr.border)),yr.fill&&(_r.fillId=this._addFill(yr.fill)),yr.alignment&&(_r.alignment=yr.alignment),yr.protection&&(_r.protection=yr.protection);const xr=this._addStyle(_r);return this.weakMap&&this.weakMap.set(yr,xr),xr}getStyleModel(yr){const vr=this.model.styles[yr];if(!vr)return null;let _r=this.index.model[yr];if(_r)return _r;if(_r=this.index.model[yr]={},vr.numFmtId){const Rr=this.index.numFmt[vr.numFmtId]||fr.getDefaultFmtCode(vr.numFmtId);Rr&&(_r.numFmt=Rr)}function xr(Rr,Cr,Tr){if(Tr||Tr===0){const Ir=Cr[Tr];Ir&&(_r[Rr]=Ir)}}return xr("font",this.model.fonts,vr.fontId),xr("border",this.model.borders,vr.borderId),xr("fill",this.model.fills,vr.fillId),vr.alignment&&(_r.alignment=vr.alignment),vr.protection&&(_r.protection=vr.protection),_r}addDxfStyle(yr){return yr.numFmt&&(yr.numFmtId=this._addNumFmtStr(yr.numFmt)),this.model.dxfs.push(yr),this.model.dxfs.length-1}getDxfStyle(yr){return this.model.dxfs[yr]}_addStyle(yr){const vr=this.map.style.toXml(yr);let _r=this.index.style[vr];return _r===void 0&&(_r=this.index.style[vr]=this.model.styles.length,this.model.styles.push(vr)),_r}_addNumFmtStr(yr){let vr=fr.getDefaultFmtId(yr);if(vr!==void 0||(vr=this.index.numFmt[yr],vr!==void 0))return vr;vr=this.index.numFmt[yr]=164+this.model.numFmts.length;const _r=this.map.numFmt.toXml({id:vr,formatCode:yr});return this.model.numFmts.push(_r),vr}_addFont(yr){const vr=this.map.font.toXml(yr);let _r=this.index.font[vr];return _r===void 0&&(_r=this.index.font[vr]=this.model.fonts.length,this.model.fonts.push(vr)),_r}_addBorder(yr){const vr=this.map.border.toXml(yr);let _r=this.index.border[vr];return _r===void 0&&(_r=this.index.border[vr]=this.model.borders.length,this.model.borders.push(vr)),_r}_addFill(yr){const vr=this.map.fill.toXml(yr);let _r=this.index.fill[vr];return _r===void 0&&(_r=this.index.fill[vr]=this.model.fills.length,this.model.fills.push(vr)),_r}}pr.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},pr.STATIC_XFORMS={cellStyles:new or({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new or({tag:"dxfs",$:{count:0}}),tableStyles:new or({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new or({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},pr.Mock=class extends pr{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(gr){return gr.autodrain(),Promise.resolve()}addStyleModel(gr,yr){switch(yr){case ar.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const gr={numFmtId:fr.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(gr)}return this._dateStyleId}getStyleModel(){return{}}},nr.exports=pr},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(rr,nr,ir){const ar=rr("../base-xform");class sr extends ar{constructor(or){super(),this.model=or}get tag(){return"u"}render(or,cr){if((cr=cr||this.model)===!0)or.leafNode("u");else{const ur=sr.Attributes[cr];ur&&or.leafNode("u",ur)}}parseOpen(or){or.name==="u"&&(this.model=or.attributes.val||!0)}parseText(){}parseClose(){return!1}}sr.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},nr.exports=sr},{"../base-xform":32}],137:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("./filter-column-xform");nr.exports=class extends ar{constructor(){super(),this.map={filterColumn:new sr}}get tag(){return"autoFilter"}prepare(lr){lr.columns.forEach((or,cr)=>{this.map.filterColumn.prepare(or,{index:cr})})}render(lr,or){return lr.openNode(this.tag,{ref:or.autoFilterRef}),or.columns.forEach(cr=>{this.map.filterColumn.render(lr,cr)}),lr.closeNode(),!0}parseOpen(lr){if(this.parser)return this.parser.parseOpen(lr),!0;switch(lr.name){case this.tag:return this.model={autoFilterRef:lr.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[lr.name],this.parser)return this.parseOpen(lr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(lr))}}parseText(lr){this.parser&&this.parser.parseText(lr)}parseClose(lr){if(this.parser)return this.parser.parseClose(lr)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(lr){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+lr)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"customFilter"}render(sr,lr){sr.leafNode(this.tag,{val:lr.val,operator:lr.operator})}parseOpen(sr){return sr.name===this.tag&&(this.model={val:sr.attributes.val,operator:sr.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(rr,nr,ir){const ar=rr("../base-xform"),sr=rr("../list-xform"),lr=rr("./custom-filter-xform"),or=rr("./filter-xform");nr.exports=class extends ar{constructor(){super(),this.map={customFilters:new sr({tag:"customFilters",count:!1,empty:!0,childXform:new lr}),filters:new sr({tag:"filters",count:!1,empty:!0,childXform:new or})}}get tag(){return"filterColumn"}prepare(cr,ur){cr.colId=ur.index.toString()}render(cr,ur){return ur.customFilters?(cr.openNode(this.tag,{colId:ur.colId,hiddenButton:ur.filterButton?"0":"1"}),this.map.customFilters.render(cr,ur.customFilters),cr.closeNode(),!0):(cr.leafNode(this.tag,{colId:ur.colId,hiddenButton:ur.filterButton?"0":"1"}),!0)}parseOpen(cr){if(this.parser)return this.parser.parseOpen(cr),!0;const{attributes:ur}=cr;switch(cr.name){case this.tag:return this.model={filterButton:ur.hiddenButton==="0"},!0;default:if(this.parser=this.map[cr.name],this.parser)return this.parseOpen(cr),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(cr))}}parseText(){}parseClose(cr){if(this.parser)return this.parser.parseClose(cr)||(this.parser=void 0),!0;switch(cr){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"filter"}render(sr,lr){sr.leafNode(this.tag,{val:lr.val})}parseOpen(sr){return sr.name===this.tag&&(this.model={val:sr.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"tableColumn"}prepare(sr,lr){sr.id=lr.index+1}render(sr,lr){return sr.leafNode(this.tag,{id:lr.id.toString(),name:lr.name,totalsRowLabel:lr.totalsRowLabel,totalsRowFunction:lr.totalsRowFunction,dxfId:lr.dxfId}),!0}parseOpen(sr){if(sr.name===this.tag){const{attributes:lr}=sr;return this.model={name:lr.name,totalsRowLabel:lr.totalsRowLabel,totalsRowFunction:lr.totalsRowFunction,dxfId:lr.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(rr,nr,ir){const ar=rr("../base-xform");nr.exports=class extends ar{get tag(){return"tableStyleInfo"}render(sr,lr){return sr.leafNode(this.tag,{name:lr.theme?lr.theme:void 0,showFirstColumn:lr.showFirstColumn?"1":"0",showLastColumn:lr.showLastColumn?"1":"0",showRowStripes:lr.showRowStripes?"1":"0",showColumnStripes:lr.showColumnStripes?"1":"0"}),!0}parseOpen(sr){if(sr.name===this.tag){const{attributes:lr}=sr;return this.model={theme:lr.name?lr.name:null,showFirstColumn:lr.showFirstColumn==="1",showLastColumn:lr.showLastColumn==="1",showRowStripes:lr.showRowStripes==="1",showColumnStripes:lr.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(rr,nr,ir){const ar=rr("../../../utils/xml-stream"),sr=rr("../base-xform"),lr=rr("../list-xform"),or=rr("./auto-filter-xform"),cr=rr("./table-column-xform"),ur=rr("./table-style-info-xform");class dr extends sr{constructor(){super(),this.map={autoFilter:new or,tableColumns:new lr({tag:"tableColumns",count:!0,empty:!0,childXform:new cr}),tableStyleInfo:new ur}}prepare(fr,mr){this.map.autoFilter.prepare(fr),this.map.tableColumns.prepare(fr.columns,mr)}get tag(){return"table"}render(fr,mr){fr.openXml(ar.StdDocAttributes),fr.openNode(this.tag,{...dr.TABLE_ATTRIBUTES,id:mr.id,name:mr.name,displayName:mr.displayName||mr.name,ref:mr.tableRef,totalsRowCount:mr.totalsRow?"1":void 0,totalsRowShown:mr.totalsRow?void 0:"1",headerRowCount:mr.headerRow?"1":"0"}),this.map.autoFilter.render(fr,mr),this.map.tableColumns.render(fr,mr.columns),this.map.tableStyleInfo.render(fr,mr.style),fr.closeNode()}parseOpen(fr){if(this.parser)return this.parser.parseOpen(fr),!0;const{name:mr,attributes:br}=fr;switch(mr){case this.tag:this.reset(),this.model={name:br.name,displayName:br.displayName||br.name,tableRef:br.ref,totalsRow:br.totalsRowCount==="1",headerRow:br.headerRowCount==="1"};break;default:this.parser=this.map[fr.name],this.parser&&this.parser.parseOpen(fr)}return!0}parseText(fr){this.parser&&this.parser.parseText(fr)}parseClose(fr){if(this.parser)return this.parser.parseClose(fr)||(this.parser=void 0),!0;switch(fr){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((mr,br)=>{this.model.columns[br].filterButton=mr.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(fr,mr){fr.columns.forEach(br=>{br.dxfId!==void 0&&(br.style=mr.styles.getDxfStyle(br.dxfId))})}}dr.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},nr.exports=dr},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(rr,nr,ir){(function(ar,sr){(function(){const lr=rr("fs"),or=rr("jszip"),{PassThrough:cr}=rr("readable-stream"),ur=rr("../utils/zip-stream"),dr=rr("../utils/stream-buf"),hr=rr("../utils/utils"),fr=rr("../utils/xml-stream"),{bufferToString:mr}=rr("../utils/browser-buffer-decode"),br=rr("./xform/style/styles-xform"),pr=rr("./xform/core/core-xform"),gr=rr("./xform/strings/shared-strings-xform"),yr=rr("./xform/core/relationships-xform"),vr=rr("./xform/core/content-types-xform"),_r=rr("./xform/core/app-xform"),xr=rr("./xform/book/workbook-xform"),Rr=rr("./xform/sheet/worksheet-xform"),Cr=rr("./xform/drawing/drawing-xform"),Tr=rr("./xform/table/table-xform"),Ir=rr("./xform/comment/comments-xform"),Lr=rr("./xform/comment/vml-notes-xform"),Nr=rr("./xml/theme1");class Or{constructor(Mr){this.workbook=Mr}async readFile(Mr,jr){if(!await hr.fs.exists(Mr))throw new Error("File not found: "+Mr);const wr=lr.createReadStream(Mr);try{const Er=await this.read(wr,jr);return wr.close(),Er}catch(Er){throw wr.close(),Er}}parseRels(Mr){return new yr().parseStream(Mr)}parseWorkbook(Mr){return new xr().parseStream(Mr)}parseSharedStrings(Mr){return new gr().parseStream(Mr)}reconcile(Mr,jr){const wr=new xr,Er=new Rr(jr),Ar=new Cr,Sr=new Tr;wr.reconcile(Mr);const Dr={media:Mr.media,mediaIndex:Mr.mediaIndex};Object.keys(Mr.drawings).forEach(Vr=>{const zr=Mr.drawings[Vr],Gr=Mr.drawingRels[Vr];Gr&&(Dr.rels=Gr.reduce((Fr,Xr)=>(Fr[Xr.Id]=Xr,Fr),{}),(zr.anchors||[]).forEach(Fr=>{const Xr=Fr.picture&&Fr.picture.hyperlinks;Xr&&Dr.rels[Xr.rId]&&(Xr.hyperlink=Dr.rels[Xr.rId].Target,delete Xr.rId)}),Ar.reconcile(zr,Dr))});const Wr={styles:Mr.styles};Object.values(Mr.tables).forEach(Vr=>{Sr.reconcile(Vr,Wr)});const $r={styles:Mr.styles,sharedStrings:Mr.sharedStrings,media:Mr.media,mediaIndex:Mr.mediaIndex,date1904:Mr.properties&&Mr.properties.date1904,drawings:Mr.drawings,comments:Mr.comments,tables:Mr.tables,vmlDrawings:Mr.vmlDrawings};Mr.worksheets.forEach(Vr=>{Vr.relationships=Mr.worksheetRels[Vr.sheetNo],Er.reconcile(Vr,$r)}),delete Mr.worksheetHash,delete Mr.worksheetRels,delete Mr.globalRels,delete Mr.sharedStrings,delete Mr.workbookRels,delete Mr.sheetDefs,delete Mr.styles,delete Mr.mediaIndex,delete Mr.drawings,delete Mr.drawingRels,delete Mr.vmlDrawings}async _processWorksheetEntry(Mr,jr,wr,Er,Ar){const Sr=new Rr(Er),Dr=await Sr.parseStream(Mr);Dr.sheetNo=wr,jr.worksheetHash[Ar]=Dr,jr.worksheets.push(Dr)}async _processCommentEntry(Mr,jr,wr){const Er=new Ir,Ar=await Er.parseStream(Mr);jr.comments[`../${wr}.xml`]=Ar}async _processTableEntry(Mr,jr,wr){const Er=new Tr,Ar=await Er.parseStream(Mr);jr.tables[`../tables/${wr}.xml`]=Ar}async _processWorksheetRelsEntry(Mr,jr,wr){const Er=new yr,Ar=await Er.parseStream(Mr);jr.worksheetRels[wr]=Ar}async _processMediaEntry(Mr,jr,wr){const Er=wr.lastIndexOf(".");if(Er>=1){const Ar=wr.substr(Er+1),Sr=wr.substr(0,Er);await new Promise((Dr,Wr)=>{const $r=new dr;$r.on("finish",()=>{jr.mediaIndex[wr]=jr.media.length,jr.mediaIndex[Sr]=jr.media.length;const Vr={type:"image",name:Sr,extension:Ar,buffer:$r.toBuffer()};jr.media.push(Vr),Dr()}),Mr.on("error",Vr=>{Wr(Vr)}),Mr.pipe($r)})}}async _processDrawingEntry(Mr,jr,wr){const Er=new Cr,Ar=await Er.parseStream(Mr);jr.drawings[wr]=Ar}async _processDrawingRelsEntry(Mr,jr,wr){const Er=new yr,Ar=await Er.parseStream(Mr);jr.drawingRels[wr]=Ar}async _processVmlDrawingEntry(Mr,jr,wr){const Er=new Lr,Ar=await Er.parseStream(Mr);jr.vmlDrawings[`../drawings/${wr}.vml`]=Ar}async _processThemeEntry(Mr,jr,wr){await new Promise((Er,Ar)=>{const Sr=new dr;Mr.on("error",Ar),Sr.on("error",Ar),Sr.on("finish",()=>{jr.themes[wr]=Sr.read().toString(),Er()}),Mr.pipe(Sr)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(Mr,jr){!Mr[Symbol.asyncIterator]&&Mr.pipe&&(Mr=Mr.pipe(new cr));const wr=[];for await(const Er of Mr)wr.push(Er);return this.load(sr.concat(wr),jr)}async load(Mr,jr){let wr;wr=jr&&jr.base64?sr.from(Mr.toString(),"base64"):Mr;const Er={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},Ar=await or.loadAsync(wr);for(const Sr of Object.values(Ar.files))if(!Sr.dir){let Dr,Wr=Sr.name;if(Wr[0]==="/"&&(Wr=Wr.substr(1)),Wr.match(/xl\/media\//)||Wr.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))Dr=new cr,Dr.write(await Sr.async("nodebuffer"));else{let $r;Dr=new cr({writableObjectMode:!0,readableObjectMode:!0}),$r=ar.browser?mr(await Sr.async("nodebuffer")):await Sr.async("string");const Vr=16384;for(let zr=0;zr<$r.length;zr+=Vr)Dr.write($r.substring(zr,zr+Vr))}switch(Dr.end(),Wr){case"_rels/.rels":Er.globalRels=await this.parseRels(Dr);break;case"xl/workbook.xml":{const $r=await this.parseWorkbook(Dr);Er.sheets=$r.sheets,Er.definedNames=$r.definedNames,Er.views=$r.views,Er.properties=$r.properties,Er.calcProperties=$r.calcProperties;break}case"xl/_rels/workbook.xml.rels":Er.workbookRels=await this.parseRels(Dr);break;case"xl/sharedStrings.xml":Er.sharedStrings=new gr,await Er.sharedStrings.parseStream(Dr);break;case"xl/styles.xml":Er.styles=new br,await Er.styles.parseStream(Dr);break;case"docProps/app.xml":{const $r=new _r,Vr=await $r.parseStream(Dr);Er.company=Vr.company,Er.manager=Vr.manager;break}case"docProps/core.xml":{const $r=new pr,Vr=await $r.parseStream(Dr);Object.assign(Er,Vr);break}default:{let $r=Wr.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if($r){await this._processWorksheetEntry(Dr,Er,$r[1],jr,Wr);break}if($r=Wr.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),$r){await this._processWorksheetRelsEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),$r){await this._processThemeEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),$r){await this._processMediaEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),$r){await this._processDrawingEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/(comments\d+)[.]xml/),$r){await this._processCommentEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/tables\/(table\d+)[.]xml/),$r){await this._processTableEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),$r){await this._processDrawingRelsEntry(Dr,Er,$r[1]);break}if($r=Wr.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),$r){await this._processVmlDrawingEntry(Dr,Er,$r[1]);break}}}}return this.reconcile(Er,jr),this.workbook.model=Er,this.workbook}async addMedia(Mr,jr){await Promise.all(jr.media.map(async wr=>{if(wr.type==="image"){const Er=`xl/media/${wr.name}.${wr.extension}`;if(wr.filename){const Ar=await function(Sr,Dr){return new Promise((Wr,$r)=>{lr.readFile(Sr,Dr,(Vr,zr)=>{Vr?$r(Vr):Wr(zr)})})}(wr.filename);return Mr.append(Ar,{name:Er})}if(wr.buffer)return Mr.append(wr.buffer,{name:Er});if(wr.base64){const Ar=wr.base64,Sr=Ar.substring(Ar.indexOf(",")+1);return Mr.append(Sr,{name:Er,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(Mr,jr){const wr=new Cr,Er=new yr;jr.worksheets.forEach(Ar=>{const{drawing:Sr}=Ar;if(Sr){wr.prepare(Sr,{});let Dr=wr.toXml(Sr);Mr.append(Dr,{name:`xl/drawings/${Sr.name}.xml`}),Dr=Er.toXml(Sr.rels),Mr.append(Dr,{name:`xl/drawings/_rels/${Sr.name}.xml.rels`})}})}addTables(Mr,jr){const wr=new Tr;jr.worksheets.forEach(Er=>{const{tables:Ar}=Er;Ar.forEach(Sr=>{wr.prepare(Sr,{});const Dr=wr.toXml(Sr);Mr.append(Dr,{name:"xl/tables/"+Sr.target})})})}async addContentTypes(Mr,jr){const wr=new vr().toXml(jr);Mr.append(wr,{name:"[Content_Types].xml"})}async addApp(Mr,jr){const wr=new _r().toXml(jr);Mr.append(wr,{name:"docProps/app.xml"})}async addCore(Mr,jr){const wr=new pr;Mr.append(wr.toXml(jr),{name:"docProps/core.xml"})}async addThemes(Mr,jr){const wr=jr.themes||{theme1:Nr};Object.keys(wr).forEach(Er=>{const Ar=wr[Er],Sr=`xl/theme/${Er}.xml`;Mr.append(Ar,{name:Sr})})}async addOfficeRels(Mr){const jr=new yr().toXml([{Id:"rId1",Type:Or.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:Or.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:Or.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);Mr.append(jr,{name:"_rels/.rels"})}async addWorkbookRels(Mr,jr){let wr=1;const Er=[{Id:"rId"+wr++,Type:Or.RelType.Styles,Target:"styles.xml"},{Id:"rId"+wr++,Type:Or.RelType.Theme,Target:"theme/theme1.xml"}];jr.sharedStrings.count&&Er.push({Id:"rId"+wr++,Type:Or.RelType.SharedStrings,Target:"sharedStrings.xml"}),jr.worksheets.forEach(Sr=>{Sr.rId="rId"+wr++,Er.push({Id:Sr.rId,Type:Or.RelType.Worksheet,Target:`worksheets/sheet${Sr.id}.xml`})});const Ar=new yr().toXml(Er);Mr.append(Ar,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(Mr,jr){jr.sharedStrings&&jr.sharedStrings.count&&Mr.append(jr.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(Mr,jr){const{xml:wr}=jr.styles;wr&&Mr.append(wr,{name:"xl/styles.xml"})}async addWorkbook(Mr,jr){const wr=new xr;Mr.append(wr.toXml(jr),{name:"xl/workbook.xml"})}async addWorksheets(Mr,jr){const wr=new Rr,Er=new yr,Ar=new Ir,Sr=new Lr;jr.worksheets.forEach(Dr=>{let Wr=new fr;wr.render(Wr,Dr),Mr.append(Wr.xml,{name:`xl/worksheets/sheet${Dr.id}.xml`}),Dr.rels&&Dr.rels.length&&(Wr=new fr,Er.render(Wr,Dr.rels),Mr.append(Wr.xml,{name:`xl/worksheets/_rels/sheet${Dr.id}.xml.rels`})),Dr.comments.length>0&&(Wr=new fr,Ar.render(Wr,Dr),Mr.append(Wr.xml,{name:`xl/comments${Dr.id}.xml`}),Wr=new fr,Sr.render(Wr,Dr),Mr.append(Wr.xml,{name:`xl/drawings/vmlDrawing${Dr.id}.vml`}))})}_finalize(Mr){return new Promise((jr,wr)=>{Mr.on("finish",()=>{jr(this)}),Mr.on("error",wr),Mr.finalize()})}prepareModel(Mr,jr){Mr.creator=Mr.creator||"ExcelJS",Mr.lastModifiedBy=Mr.lastModifiedBy||"ExcelJS",Mr.created=Mr.created||new Date,Mr.modified=Mr.modified||new Date,Mr.useSharedStrings=jr.useSharedStrings===void 0||jr.useSharedStrings,Mr.useStyles=jr.useStyles===void 0||jr.useStyles,Mr.sharedStrings=new gr,Mr.styles=Mr.useStyles?new br(!0):new br.Mock;const wr=new xr,Er=new Rr;wr.prepare(Mr);const Ar={sharedStrings:Mr.sharedStrings,styles:Mr.styles,date1904:Mr.properties.date1904,drawingsCount:0,media:Mr.media};Ar.drawings=Mr.drawings=[],Ar.commentRefs=Mr.commentRefs=[];let Sr=0;Mr.tables=[],Mr.worksheets.forEach(Dr=>{Dr.tables.forEach(Wr=>{Sr++,Wr.target=`table${Sr}.xml`,Wr.id=Sr,Mr.tables.push(Wr)}),Er.prepare(Dr,Ar)})}async write(Mr,jr){jr=jr||{};const{model:wr}=this.workbook,Er=new ur.ZipWriter(jr.zip);return Er.pipe(Mr),this.prepareModel(wr,jr),await this.addContentTypes(Er,wr),await this.addOfficeRels(Er,wr),await this.addWorkbookRels(Er,wr),await this.addWorksheets(Er,wr),await this.addSharedStrings(Er,wr),await this.addDrawings(Er,wr),await this.addTables(Er,wr),await Promise.all([this.addThemes(Er,wr),this.addStyles(Er,wr)]),await this.addMedia(Er,wr),await Promise.all([this.addApp(Er,wr),this.addCore(Er,wr)]),await this.addWorkbook(Er,wr),this._finalize(Er)}writeFile(Mr,jr){const wr=lr.createWriteStream(Mr);return new Promise((Er,Ar)=>{wr.on("finish",()=>{Er()}),wr.on("error",Sr=>{Ar(Sr)}),this.write(wr,jr).then(()=>{wr.end()}).catch(Sr=>{Ar(Sr)})})}async writeBuffer(Mr){const jr=new dr;return await this.write(jr,Mr),jr.read()}}Or.RelType=rr("./rel-type"),nr.exports=Or}).call(this)}).call(this,rr("_process"),rr("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(rr,nr,ir){nr.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(rr,nr,ir){(function(ar){(function(){Object.defineProperty(ir,"__esModule",{value:!0}),ir.CsvFormatterStream=void 0;const sr=rr("stream"),lr=rr("./formatter");class or extends sr.Transform{constructor(ur){super({writableObjectMode:ur.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=ur,this.rowFormatter=new lr.RowFormatter(ur),this.hasWrittenBOM=!ur.writeBOM}transform(ur){return this.rowFormatter.rowTransform=ur,this}_transform(ur,dr,hr){let fr=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(ur,(mr,br)=>mr?(fr=!0,hr(mr)):(br&&br.forEach(pr=>{this.push(ar.from(pr,"utf8"))}),fr=!0,hr()))}catch(mr){if(fr)throw mr;hr(mr)}}_flush(ur){this.rowFormatter.finish((dr,hr)=>dr?ur(dr):(hr&&hr.forEach(fr=>{this.push(ar.from(fr,"utf8"))}),ur()))}}ir.CsvFormatterStream=or}).call(this)}).call(this,rr("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.FormatterOptions=void 0,ir.FormatterOptions=class{constructor(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var sr;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,ar||{}),(ar==null?void 0:ar.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(ar==null?void 0:ar.quote)===!0?this.quote='"':(ar==null?void 0:ar.quote)===!1&&(this.quote=""),typeof(ar==null?void 0:ar.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((sr=ar.writeHeaders)===null||sr===void 0||sr),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(rr,nr,ir){var ar=function(cr){return cr&&cr.__esModule?cr:{default:cr}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.FieldFormatter=void 0;const sr=ar(rr("lodash.isboolean")),lr=ar(rr("lodash.isnil")),or=ar(rr("lodash.escaperegexp"));ir.FieldFormatter=class{constructor(cr){this._headers=null,this.formatterOptions=cr,cr.headers!==null&&(this.headers=cr.headers),this.REPLACE_REGEXP=new RegExp(cr.quote,"g");const ur=`[${cr.delimiter}${or.default(cr.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(ur)}set headers(cr){this._headers=cr}shouldQuote(cr,ur){const dr=ur?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return sr.default(dr)?dr:Array.isArray(dr)?dr[cr]:this._headers!==null&&dr[this._headers[cr]]}format(cr,ur,dr){const hr=(""+(lr.default(cr)?"":cr)).replace(/\0/g,""),{formatterOptions:fr}=this;return fr.quote!==""&&hr.indexOf(fr.quote)!==-1?this.quoteField(hr.replace(this.REPLACE_REGEXP,fr.escapedQuote)):hr.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(ur,dr)?this.quoteField(hr):hr}quoteField(cr){const{quote:ur}=this.formatterOptions;return`${ur}${cr}${ur}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(rr,nr,ir){var ar=function(dr){return dr&&dr.__esModule?dr:{default:dr}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.RowFormatter=void 0;const sr=ar(rr("lodash.isfunction")),lr=ar(rr("lodash.isequal")),or=rr("./FieldFormatter"),cr=rr("../types");class ur{constructor(hr){this.rowCount=0,this.formatterOptions=hr,this.fieldFormatter=new or.FieldFormatter(hr),this.headers=hr.headers,this.shouldWriteHeaders=hr.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),hr.transform&&(this.rowTransform=hr.transform)}static isRowHashArray(hr){return!!Array.isArray(hr)&&Array.isArray(hr[0])&&hr[0].length===2}static isRowArray(hr){return Array.isArray(hr)&&!this.isRowHashArray(hr)}static gatherHeaders(hr){return ur.isRowHashArray(hr)?hr.map(fr=>fr[0]):Array.isArray(hr)?hr:Object.keys(hr)}static createTransform(hr){return cr.isSyncTransform(hr)?(fr,mr)=>{let br=null;try{br=hr(fr)}catch(pr){return mr(pr)}return mr(null,br)}:(fr,mr)=>{hr(fr,mr)}}set rowTransform(hr){if(!sr.default(hr))throw new TypeError("The transform should be a function");this._rowTransform=ur.createTransform(hr)}format(hr,fr){this.callTransformer(hr,(mr,br)=>{if(mr)return fr(mr);if(!hr)return fr(null);const pr=[];if(br){const{shouldFormatColumns:gr,headers:yr}=this.checkHeaders(br);if(this.shouldWriteHeaders&&yr&&!this.hasWrittenHeaders&&(pr.push(this.formatColumns(yr,!0)),this.hasWrittenHeaders=!0),gr){const vr=this.gatherColumns(br);pr.push(this.formatColumns(vr,!1))}}return fr(null,pr)})}finish(hr){const fr=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return hr(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));fr.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&fr.push(this.formatterOptions.rowDelimiter),hr(null,fr)}checkHeaders(hr){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const fr=ur.gatherHeaders(hr);return this.headers=fr,this.fieldFormatter.headers=fr,this.shouldWriteHeaders?{shouldFormatColumns:!lr.default(fr,hr),headers:fr}:{shouldFormatColumns:!0,headers:null}}gatherColumns(hr){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(hr)?ur.isRowHashArray(hr)?this.headers.map((fr,mr)=>{const br=hr[mr];return br?br[1]:""}):ur.isRowArray(hr)&&!this.shouldWriteHeaders?hr:this.headers.map((fr,mr)=>hr[mr]):this.headers.map(fr=>hr[fr])}callTransformer(hr,fr){return this._rowTransform?this._rowTransform(hr,fr):fr(null,hr)}formatColumns(hr,fr){const mr=hr.map((pr,gr)=>this.fieldFormatter.format(pr,gr,fr)).join(this.formatterOptions.delimiter),{rowCount:br}=this;return this.rowCount+=1,br?[this.formatterOptions.rowDelimiter,mr].join(""):mr}}ir.RowFormatter=ur},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.FieldFormatter=ir.RowFormatter=void 0;var ar=rr("./RowFormatter");Object.defineProperty(ir,"RowFormatter",{enumerable:!0,get:function(){return ar.RowFormatter}});var sr=rr("./FieldFormatter");Object.defineProperty(ir,"FieldFormatter",{enumerable:!0,get:function(){return sr.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(rr,nr,ir){(function(ar){(function(){var sr=Object.create?function(gr,yr,vr,_r){_r===void 0&&(_r=vr),Object.defineProperty(gr,_r,{enumerable:!0,get:function(){return yr[vr]}})}:function(gr,yr,vr,_r){_r===void 0&&(_r=vr),gr[_r]=yr[vr]},lr=Object.create?function(gr,yr){Object.defineProperty(gr,"default",{enumerable:!0,value:yr})}:function(gr,yr){gr.default=yr},or=function(gr){if(gr&&gr.__esModule)return gr;var yr={};if(gr!=null)for(var vr in gr)vr!=="default"&&Object.prototype.hasOwnProperty.call(gr,vr)&&sr(yr,gr,vr);return lr(yr,gr),yr},cr=function(gr,yr){for(var vr in gr)vr==="default"||Object.prototype.hasOwnProperty.call(yr,vr)||sr(yr,gr,vr)};Object.defineProperty(ir,"__esModule",{value:!0}),ir.writeToPath=ir.writeToString=ir.writeToBuffer=ir.writeToStream=ir.write=ir.format=ir.FormatterOptions=ir.CsvFormatterStream=void 0;const ur=rr("util"),dr=rr("stream"),hr=or(rr("fs")),fr=rr("./FormatterOptions"),mr=rr("./CsvFormatterStream");cr(rr("./types"),ir);var br=rr("./CsvFormatterStream");Object.defineProperty(ir,"CsvFormatterStream",{enumerable:!0,get:function(){return br.CsvFormatterStream}});var pr=rr("./FormatterOptions");Object.defineProperty(ir,"FormatterOptions",{enumerable:!0,get:function(){return pr.FormatterOptions}}),ir.format=gr=>new mr.CsvFormatterStream(new fr.FormatterOptions(gr)),ir.write=(gr,yr)=>{const vr=ir.format(yr),_r=ur.promisify((xr,Rr)=>{vr.write(xr,void 0,Rr)});return gr.reduce((xr,Rr)=>xr.then(()=>_r(Rr)),Promise.resolve()).then(()=>vr.end()).catch(xr=>{vr.emit("error",xr)}),vr},ir.writeToStream=(gr,yr,vr)=>ir.write(yr,vr).pipe(gr),ir.writeToBuffer=function(gr){let yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const vr=[],_r=new dr.Writable({write(xr,Rr,Cr){vr.push(xr),Cr()}});return new Promise((xr,Rr)=>{_r.on("error",Rr).on("finish",()=>xr(ar.concat(vr))),ir.write(gr,yr).pipe(_r)})},ir.writeToString=(gr,yr)=>ir.writeToBuffer(gr,yr).then(vr=>vr.toString()),ir.writeToPath=(gr,yr,vr)=>{const _r=hr.createWriteStream(gr,{encoding:"utf8"});return ir.write(yr,vr).pipe(_r)}}).call(this)}).call(this,rr("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.isSyncTransform=void 0,ir.isSyncTransform=ar=>ar.length===1},{}],153:[function(rr,nr,ir){(function(ar){(function(){Object.defineProperty(ir,"__esModule",{value:!0}),ir.CsvParserStream=void 0;const sr=rr("string_decoder"),lr=rr("stream"),or=rr("./transforms"),cr=rr("./parser");class ur extends lr.Transform{constructor(hr){super({objectMode:hr.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=hr,this.parser=new cr.Parser(hr),this.headerTransformer=new or.HeaderTransformer(hr),this.decoder=new sr.StringDecoder(hr.encoding),this.rowTransformerValidator=new or.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(hr){return this.rowTransformerValidator.rowTransform=hr,this}validate(hr){return this.rowTransformerValidator.rowValidator=hr,this}emit(hr){if(hr==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var fr=arguments.length,mr=new Array(fr>1?fr-1:0),br=1;br<fr;br++)mr[br-1]=arguments[br];return super.emit(hr,...mr)}_transform(hr,fr,mr){if(this.hasHitRowLimit)return mr();const br=ur.wrapDoneCallback(mr);try{const{lines:pr}=this,gr=pr+this.decoder.write(hr),yr=this.parse(gr,!0);return this.processRows(yr,br)}catch(pr){return br(pr)}}_flush(hr){const fr=ur.wrapDoneCallback(hr);if(this.hasHitRowLimit)return fr();try{const mr=this.lines+this.decoder.end(),br=this.parse(mr,!1);return this.processRows(br,fr)}catch(mr){return fr(mr)}}parse(hr,fr){if(!hr)return[];const{line:mr,rows:br}=this.parser.parse(hr,fr);return this.lines=mr,br}processRows(hr,fr){const mr=hr.length,br=pr=>{const gr=_r=>_r?fr(_r):pr%100!=0?br(pr+1):void ar(()=>br(pr+1));if(this.checkAndEmitHeaders(),pr>=mr||this.hasHitRowLimit)return fr();if(this.parsedLineCount+=1,this.shouldSkipLine)return gr();const yr=hr[pr];this.rowCount+=1,this.parsedRowCount+=1;const vr=this.rowCount;return this.transformRow(yr,(_r,xr)=>{if(_r)return this.rowCount-=1,gr(_r);if(!xr)return gr(new Error("expected transform result"));if(xr.isValid){if(xr.row)return this.pushRow(xr.row,gr)}else this.emit("data-invalid",xr.row,vr,xr.reason);return gr()})};br(0)}transformRow(hr,fr){try{this.headerTransformer.transform(hr,(mr,br)=>mr?fr(mr):br?br.isValid?br.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(br.row,fr):this.skipRow(fr):(this.rowCount-=1,this.parsedRowCount-=1,fr(null,{row:null,isValid:!0})):this.shouldEmitRows?fr(null,{isValid:!1,row:hr}):this.skipRow(fr):fr(new Error("Expected result from header transform")))}catch(mr){fr(mr)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(hr){return this.rowCount-=1,hr(null,{row:null,isValid:!0})}pushRow(hr,fr){try{this.parserOptions.objectMode?this.push(hr):this.push(JSON.stringify(hr)),fr()}catch(mr){fr(mr)}}static wrapDoneCallback(hr){let fr=!1;return function(mr){if(mr){if(fr)throw mr;return fr=!0,void hr(mr)}for(var br=arguments.length,pr=new Array(br>1?br-1:0),gr=1;gr<br;gr++)pr[gr-1]=arguments[gr];hr(...pr)}}}ir.CsvParserStream=ur}).call(this)}).call(this,rr("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(rr,nr,ir){var ar=function(or){return or&&or.__esModule?or:{default:or}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.ParserOptions=void 0;const sr=ar(rr("lodash.escaperegexp")),lr=ar(rr("lodash.isnil"));ir.ParserOptions=class{constructor(or){var cr;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,or||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=sr.default(this.delimiter),this.escapeChar=(cr=this.escape)!==null&&cr!==void 0?cr:this.quote,this.supportsComments=!lr.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(rr,nr,ir){var ar=Object.create?function(br,pr,gr,yr){yr===void 0&&(yr=gr),Object.defineProperty(br,yr,{enumerable:!0,get:function(){return pr[gr]}})}:function(br,pr,gr,yr){yr===void 0&&(yr=gr),br[yr]=pr[gr]},sr=Object.create?function(br,pr){Object.defineProperty(br,"default",{enumerable:!0,value:pr})}:function(br,pr){br.default=pr},lr=function(br){if(br&&br.__esModule)return br;var pr={};if(br!=null)for(var gr in br)gr!=="default"&&Object.prototype.hasOwnProperty.call(br,gr)&&ar(pr,br,gr);return sr(pr,br),pr},or=function(br,pr){for(var gr in br)gr==="default"||Object.prototype.hasOwnProperty.call(pr,gr)||ar(pr,br,gr)};Object.defineProperty(ir,"__esModule",{value:!0}),ir.parseString=ir.parseFile=ir.parseStream=ir.parse=ir.ParserOptions=ir.CsvParserStream=void 0;const cr=lr(rr("fs")),ur=rr("stream"),dr=rr("./ParserOptions"),hr=rr("./CsvParserStream");or(rr("./types"),ir);var fr=rr("./CsvParserStream");Object.defineProperty(ir,"CsvParserStream",{enumerable:!0,get:function(){return fr.CsvParserStream}});var mr=rr("./ParserOptions");Object.defineProperty(ir,"ParserOptions",{enumerable:!0,get:function(){return mr.ParserOptions}}),ir.parse=br=>new hr.CsvParserStream(new dr.ParserOptions(br)),ir.parseStream=(br,pr)=>br.pipe(new hr.CsvParserStream(new dr.ParserOptions(pr))),ir.parseFile=function(br){let pr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return cr.createReadStream(br).pipe(new hr.CsvParserStream(new dr.ParserOptions(pr)))},ir.parseString=(br,pr)=>{const gr=new ur.Readable;return gr.push(br),gr.push(null),gr.pipe(new hr.CsvParserStream(new dr.ParserOptions(pr)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.Parser=void 0;const ar=rr("./Scanner"),sr=rr("./RowParser"),lr=rr("./Token");class or{constructor(ur){this.parserOptions=ur,this.rowParser=new sr.RowParser(this.parserOptions)}static removeBOM(ur){return ur&&ur.charCodeAt(0)===65279?ur.slice(1):ur}parse(ur,dr){const hr=new ar.Scanner({line:or.removeBOM(ur),parserOptions:this.parserOptions,hasMoreData:dr});return this.parserOptions.supportsComments?this.parseWithComments(hr):this.parseWithoutComments(hr)}parseWithoutComments(ur){const dr=[];let hr=!0;for(;hr;)hr=this.parseRow(ur,dr);return{line:ur.line,rows:dr}}parseWithComments(ur){const{parserOptions:dr}=this,hr=[];for(let fr=ur.nextCharacterToken;fr!==null;fr=ur.nextCharacterToken)if(lr.Token.isTokenComment(fr,dr)){if(ur.advancePastLine()===null)return{line:ur.lineFromCursor,rows:hr};if(!ur.hasMoreCharacters)return{line:ur.lineFromCursor,rows:hr};ur.truncateToCursor()}else if(!this.parseRow(ur,hr))break;return{line:ur.line,rows:hr}}parseRow(ur,dr){if(!ur.nextNonSpaceToken)return!1;const hr=this.rowParser.parse(ur);return hr!==null&&(this.parserOptions.ignoreEmpty&&sr.RowParser.isEmptyRow(hr)||dr.push(hr),!0)}}ir.Parser=or},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.RowParser=void 0;const ar=rr("./column"),sr=rr("./Token");ir.RowParser=class{constructor(lr){this.parserOptions=lr,this.columnParser=new ar.ColumnParser(lr)}static isEmptyRow(lr){return lr.join("").replace(/\s+/g,"")===""}parse(lr){const{parserOptions:or}=this,{hasMoreData:cr}=lr,ur=lr,dr=[];let hr=this.getStartToken(ur,dr);for(;hr;){if(sr.Token.isTokenRowDelimiter(hr))return ur.advancePastToken(hr),!ur.hasMoreCharacters&&sr.Token.isTokenCarriageReturn(hr,or)&&cr?null:(ur.truncateToCursor(),dr);if(!this.shouldSkipColumnParse(ur,hr,dr)){const fr=this.columnParser.parse(ur);if(fr===null)return null;dr.push(fr)}hr=ur.nextNonSpaceToken}return cr?null:(ur.truncateToCursor(),dr)}getStartToken(lr,or){const cr=lr.nextNonSpaceToken;return cr!==null&&sr.Token.isTokenDelimiter(cr,this.parserOptions)?(or.push(""),lr.nextNonSpaceToken):cr}shouldSkipColumnParse(lr,or,cr){const{parserOptions:ur}=this;if(sr.Token.isTokenDelimiter(or,ur)){lr.advancePastToken(or);const dr=lr.nextCharacterToken;if(!lr.hasMoreCharacters||dr!==null&&sr.Token.isTokenRowDelimiter(dr)||dr!==null&&sr.Token.isTokenDelimiter(dr,ur))return cr.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.Scanner=void 0;const ar=rr("./Token"),sr=/((?:\r\n)|\n|\r)/;ir.Scanner=class{constructor(lr){this.cursor=0,this.line=lr.line,this.lineLength=this.line.length,this.parserOptions=lr.parserOptions,this.hasMoreData=lr.hasMoreData,this.cursor=lr.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:lr}=this,or=this.parserOptions.NEXT_TOKEN_REGEXP;if(lr.search(or)===-1)return null;const cr=or.exec(lr);if(cr==null)return null;const ur=cr[1],dr=this.cursor+(cr.index||0);return new ar.Token({token:ur,startCursor:dr,endCursor:dr+ur.length-1})}get nextCharacterToken(){const{cursor:lr,lineLength:or}=this;return or<=lr?null:new ar.Token({token:this.line[lr],startCursor:lr,endCursor:lr})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const lr=sr.exec(this.lineFromCursor);return lr?(this.cursor+=(lr.index||0)+lr[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(lr){return this.cursor=lr,this}advanceToToken(lr){return this.cursor=lr.startCursor,this}advancePastToken(lr){return this.cursor=lr.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.Token=void 0,ir.Token=class{constructor(ar){this.token=ar.token,this.startCursor=ar.startCursor,this.endCursor=ar.endCursor}static isTokenRowDelimiter(ar){const sr=ar.token;return sr==="\r"||sr===`
`||sr===`\r
`}static isTokenCarriageReturn(ar,sr){return ar.token===sr.carriageReturn}static isTokenComment(ar,sr){return sr.supportsComments&&!!ar&&ar.token===sr.comment}static isTokenEscapeCharacter(ar,sr){return ar.token===sr.escapeChar}static isTokenQuote(ar,sr){return ar.token===sr.quote}static isTokenDelimiter(ar,sr){return ar.token===sr.delimiter}}},{}],160:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.ColumnFormatter=void 0,ir.ColumnFormatter=class{constructor(ar){ar.trim?this.format=sr=>sr.trim():ar.ltrim?this.format=sr=>sr.trimLeft():ar.rtrim?this.format=sr=>sr.trimRight():this.format=sr=>sr}}},{}],161:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.ColumnParser=void 0;const ar=rr("./NonQuotedColumnParser"),sr=rr("./QuotedColumnParser"),lr=rr("../Token");ir.ColumnParser=class{constructor(or){this.parserOptions=or,this.quotedColumnParser=new sr.QuotedColumnParser(or),this.nonQuotedColumnParser=new ar.NonQuotedColumnParser(or)}parse(or){const{nextNonSpaceToken:cr}=or;return cr!==null&&lr.Token.isTokenQuote(cr,this.parserOptions)?(or.advanceToToken(cr),this.quotedColumnParser.parse(or)):this.nonQuotedColumnParser.parse(or)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.NonQuotedColumnParser=void 0;const ar=rr("./ColumnFormatter"),sr=rr("../Token");ir.NonQuotedColumnParser=class{constructor(lr){this.parserOptions=lr,this.columnFormatter=new ar.ColumnFormatter(lr)}parse(lr){if(!lr.hasMoreCharacters)return null;const{parserOptions:or}=this,cr=[];let ur=lr.nextCharacterToken;for(;ur&&!sr.Token.isTokenDelimiter(ur,or)&&!sr.Token.isTokenRowDelimiter(ur);ur=lr.nextCharacterToken)cr.push(ur.token),lr.advancePastToken(ur);return this.columnFormatter.format(cr.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.QuotedColumnParser=void 0;const ar=rr("./ColumnFormatter"),sr=rr("../Token");ir.QuotedColumnParser=class{constructor(lr){this.parserOptions=lr,this.columnFormatter=new ar.ColumnFormatter(lr)}parse(lr){if(!lr.hasMoreCharacters)return null;const or=lr.cursor,{foundClosingQuote:cr,col:ur}=this.gatherDataBetweenQuotes(lr);if(!cr){if(lr.advanceTo(or),!lr.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${lr.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(lr),ur}gatherDataBetweenQuotes(lr){const{parserOptions:or}=this;let cr=!1,ur=!1;const dr=[];let hr=lr.nextCharacterToken;for(;!ur&&hr!==null;hr=lr.nextCharacterToken){const fr=sr.Token.isTokenQuote(hr,or);if(!cr&&fr)cr=!0;else if(cr)if(sr.Token.isTokenEscapeCharacter(hr,or)){lr.advancePastToken(hr);const mr=lr.nextCharacterToken;mr!==null&&(sr.Token.isTokenQuote(mr,or)||sr.Token.isTokenEscapeCharacter(mr,or))?(dr.push(mr.token),hr=mr):fr?ur=!0:dr.push(hr.token)}else fr?ur=!0:dr.push(hr.token);lr.advancePastToken(hr)}return{col:this.columnFormatter.format(dr.join("")),foundClosingQuote:ur}}checkForMalformedColumn(lr){const{parserOptions:or}=this,{nextNonSpaceToken:cr}=lr;if(cr){const ur=sr.Token.isTokenDelimiter(cr,or),dr=sr.Token.isTokenRowDelimiter(cr);if(!ur&&!dr){const hr=lr.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${or.escapedDelimiter}' OR new line got: '${cr.token}'. at '${hr}`)}lr.advanceToToken(cr)}else lr.hasMoreData||lr.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.ColumnFormatter=ir.QuotedColumnParser=ir.NonQuotedColumnParser=ir.ColumnParser=void 0;var ar=rr("./ColumnParser");Object.defineProperty(ir,"ColumnParser",{enumerable:!0,get:function(){return ar.ColumnParser}});var sr=rr("./NonQuotedColumnParser");Object.defineProperty(ir,"NonQuotedColumnParser",{enumerable:!0,get:function(){return sr.NonQuotedColumnParser}});var lr=rr("./QuotedColumnParser");Object.defineProperty(ir,"QuotedColumnParser",{enumerable:!0,get:function(){return lr.QuotedColumnParser}});var or=rr("./ColumnFormatter");Object.defineProperty(ir,"ColumnFormatter",{enumerable:!0,get:function(){return or.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.QuotedColumnParser=ir.NonQuotedColumnParser=ir.ColumnParser=ir.Token=ir.Scanner=ir.RowParser=ir.Parser=void 0;var ar=rr("./Parser");Object.defineProperty(ir,"Parser",{enumerable:!0,get:function(){return ar.Parser}});var sr=rr("./RowParser");Object.defineProperty(ir,"RowParser",{enumerable:!0,get:function(){return sr.RowParser}});var lr=rr("./Scanner");Object.defineProperty(ir,"Scanner",{enumerable:!0,get:function(){return lr.Scanner}});var or=rr("./Token");Object.defineProperty(ir,"Token",{enumerable:!0,get:function(){return or.Token}});var cr=rr("./column");Object.defineProperty(ir,"ColumnParser",{enumerable:!0,get:function(){return cr.ColumnParser}}),Object.defineProperty(ir,"NonQuotedColumnParser",{enumerable:!0,get:function(){return cr.NonQuotedColumnParser}}),Object.defineProperty(ir,"QuotedColumnParser",{enumerable:!0,get:function(){return cr.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(rr,nr,ir){var ar=function(ur){return ur&&ur.__esModule?ur:{default:ur}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.HeaderTransformer=void 0;const sr=ar(rr("lodash.isundefined")),lr=ar(rr("lodash.isfunction")),or=ar(rr("lodash.uniq")),cr=ar(rr("lodash.groupby"));ir.HeaderTransformer=class{constructor(ur){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=ur,ur.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(ur.headers)?this.setHeaders(ur.headers):lr.default(ur.headers)&&(this.headersTransform=ur.headers)}transform(ur,dr){return this.shouldMapRow(ur)?dr(null,this.processRow(ur)):dr(null,{row:null,isValid:!0})}shouldMapRow(ur){const{parserOptions:dr}=this;if(!this.headersTransform&&dr.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(ur)){if(this.headersTransform)this.setHeaders(this.headersTransform(ur));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(ur)}return!1}return!0}processRow(ur){if(!this.headers)return{row:ur,isValid:!0};const{parserOptions:dr}=this;if(!dr.discardUnmappedColumns&&ur.length>this.headersLength){if(!dr.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${ur.length}`);return{row:ur,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${ur.length}`}}return dr.strictColumnHandling&&ur.length<this.headersLength?{row:ur,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${ur.length}`}:{row:this.mapHeaders(ur),isValid:!0}}mapHeaders(ur){const dr={},{headers:hr,headersLength:fr}=this;for(let mr=0;mr<fr;mr+=1){const br=hr[mr];if(!sr.default(br)){const pr=ur[mr];sr.default(pr)?dr[br]="":dr[br]=pr}}return dr}setHeaders(ur){var dr;const hr=ur.filter(fr=>!!fr);if(or.default(hr).length!==hr.length){const fr=cr.default(hr),mr=Object.keys(fr).filter(br=>fr[br].length>1);throw new Error("Duplicate headers found "+JSON.stringify(mr))}this.headers=ur,this.receivedHeaders=!0,this.headersLength=((dr=this.headers)===null||dr===void 0?void 0:dr.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(rr,nr,ir){var ar=function(cr){return cr&&cr.__esModule?cr:{default:cr}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.RowTransformerValidator=void 0;const sr=ar(rr("lodash.isfunction")),lr=rr("../types");class or{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(ur){return lr.isSyncTransform(ur)?(dr,hr)=>{let fr=null;try{fr=ur(dr)}catch(mr){return hr(mr)}return hr(null,fr)}:ur}static createValidator(ur){return lr.isSyncValidate(ur)?(dr,hr)=>{hr(null,{row:dr,isValid:ur(dr)})}:(dr,hr)=>{ur(dr,(fr,mr,br)=>fr?hr(fr):hr(null,mr?{row:dr,isValid:mr,reason:br}:{row:dr,isValid:!1,reason:br}))}}set rowTransform(ur){if(!sr.default(ur))throw new TypeError("The transform should be a function");this._rowTransform=or.createTransform(ur)}set rowValidator(ur){if(!sr.default(ur))throw new TypeError("The validate should be a function");this._rowValidator=or.createValidator(ur)}transformAndValidate(ur,dr){return this.callTransformer(ur,(hr,fr)=>hr?dr(hr):fr?this.callValidator(fr,(mr,br)=>mr?dr(mr):br&&!br.isValid?dr(null,{row:fr,isValid:!1,reason:br.reason}):dr(null,{row:fr,isValid:!0})):dr(null,{row:null,isValid:!0}))}callTransformer(ur,dr){return this._rowTransform?this._rowTransform(ur,dr):dr(null,ur)}callValidator(ur,dr){return this._rowValidator?this._rowValidator(ur,dr):dr(null,{row:ur,isValid:!0})}}ir.RowTransformerValidator=or},{"../types":169,"lodash.isfunction":446}],168:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.HeaderTransformer=ir.RowTransformerValidator=void 0;var ar=rr("./RowTransformerValidator");Object.defineProperty(ir,"RowTransformerValidator",{enumerable:!0,get:function(){return ar.RowTransformerValidator}});var sr=rr("./HeaderTransformer");Object.defineProperty(ir,"HeaderTransformer",{enumerable:!0,get:function(){return sr.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.isSyncValidate=ir.isSyncTransform=void 0,ir.isSyncTransform=ar=>ar.length===1,ir.isSyncValidate=ar=>ar.length===1},{}],170:[function(rr,nr,ir){const ar=ir;ar.bignum=rr("bn.js"),ar.define=rr("./asn1/api").define,ar.base=rr("./asn1/base"),ar.constants=rr("./asn1/constants"),ar.decoders=rr("./asn1/decoders"),ar.encoders=rr("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(rr,nr,ir){const ar=rr("./encoders"),sr=rr("./decoders"),lr=rr("inherits");function or(cr,ur){this.name=cr,this.body=ur,this.decoders={},this.encoders={}}ir.define=function(cr,ur){return new or(cr,ur)},or.prototype._createNamed=function(cr){const ur=this.name;function dr(hr){this._initNamed(hr,ur)}return lr(dr,cr),dr.prototype._initNamed=function(hr,fr){cr.call(this,hr,fr)},new dr(this)},or.prototype._getDecoder=function(cr){return cr=cr||"der",this.decoders.hasOwnProperty(cr)||(this.decoders[cr]=this._createNamed(sr[cr])),this.decoders[cr]},or.prototype.decode=function(cr,ur,dr){return this._getDecoder(ur).decode(cr,dr)},or.prototype._getEncoder=function(cr){return cr=cr||"der",this.encoders.hasOwnProperty(cr)||(this.encoders[cr]=this._createNamed(ar[cr])),this.encoders[cr]},or.prototype.encode=function(cr,ur,dr){return this._getEncoder(ur).encode(cr,dr)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(rr,nr,ir){const ar=rr("inherits"),sr=rr("../base/reporter").Reporter,lr=rr("safer-buffer").Buffer;function or(ur,dr){sr.call(this,dr),lr.isBuffer(ur)?(this.base=ur,this.offset=0,this.length=ur.length):this.error("Input not Buffer")}function cr(ur,dr){if(Array.isArray(ur))this.length=0,this.value=ur.map(function(hr){return cr.isEncoderBuffer(hr)||(hr=new cr(hr,dr)),this.length+=hr.length,hr},this);else if(typeof ur=="number"){if(!(0<=ur&&ur<=255))return dr.error("non-byte EncoderBuffer value");this.value=ur,this.length=1}else if(typeof ur=="string")this.value=ur,this.length=lr.byteLength(ur);else{if(!lr.isBuffer(ur))return dr.error("Unsupported type: "+typeof ur);this.value=ur,this.length=ur.length}}ar(or,sr),ir.DecoderBuffer=or,or.isDecoderBuffer=function(ur){return ur instanceof or?!0:typeof ur=="object"&&lr.isBuffer(ur.base)&&ur.constructor.name==="DecoderBuffer"&&typeof ur.offset=="number"&&typeof ur.length=="number"&&typeof ur.save=="function"&&typeof ur.restore=="function"&&typeof ur.isEmpty=="function"&&typeof ur.readUInt8=="function"&&typeof ur.skip=="function"&&typeof ur.raw=="function"},or.prototype.save=function(){return{offset:this.offset,reporter:sr.prototype.save.call(this)}},or.prototype.restore=function(ur){const dr=new or(this.base);return dr.offset=ur.offset,dr.length=this.offset,this.offset=ur.offset,sr.prototype.restore.call(this,ur.reporter),dr},or.prototype.isEmpty=function(){return this.offset===this.length},or.prototype.readUInt8=function(ur){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(ur||"DecoderBuffer overrun")},or.prototype.skip=function(ur,dr){if(!(this.offset+ur<=this.length))return this.error(dr||"DecoderBuffer overrun");const hr=new or(this.base);return hr._reporterState=this._reporterState,hr.offset=this.offset,hr.length=this.offset+ur,this.offset+=ur,hr},or.prototype.raw=function(ur){return this.base.slice(ur?ur.offset:this.offset,this.length)},ir.EncoderBuffer=cr,cr.isEncoderBuffer=function(ur){return ur instanceof cr?!0:typeof ur=="object"&&ur.constructor.name==="EncoderBuffer"&&typeof ur.length=="number"&&typeof ur.join=="function"},cr.prototype.join=function(ur,dr){return ur||(ur=lr.alloc(this.length)),dr||(dr=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(hr){hr.join(ur,dr),dr+=hr.length}):(typeof this.value=="number"?ur[dr]=this.value:typeof this.value=="string"?ur.write(this.value,dr):lr.isBuffer(this.value)&&this.value.copy(ur,dr),dr+=this.length)),ur}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(rr,nr,ir){const ar=ir;ar.Reporter=rr("./reporter").Reporter,ar.DecoderBuffer=rr("./buffer").DecoderBuffer,ar.EncoderBuffer=rr("./buffer").EncoderBuffer,ar.Node=rr("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(rr,nr,ir){const ar=rr("../base/reporter").Reporter,sr=rr("../base/buffer").EncoderBuffer,lr=rr("../base/buffer").DecoderBuffer,or=rr("minimalistic-assert"),cr=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ur=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(cr);function dr(fr,mr,br){const pr={};this._baseState=pr,pr.name=br,pr.enc=fr,pr.parent=mr||null,pr.children=null,pr.tag=null,pr.args=null,pr.reverseArgs=null,pr.choice=null,pr.optional=!1,pr.any=!1,pr.obj=!1,pr.use=null,pr.useDecoder=null,pr.key=null,pr.default=null,pr.explicit=null,pr.implicit=null,pr.contains=null,pr.parent||(pr.children=[],this._wrap())}nr.exports=dr;const hr=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];dr.prototype.clone=function(){const fr=this._baseState,mr={};hr.forEach(function(pr){mr[pr]=fr[pr]});const br=new this.constructor(mr.parent);return br._baseState=mr,br},dr.prototype._wrap=function(){const fr=this._baseState;ur.forEach(function(mr){this[mr]=function(){const br=new this.constructor(this);return fr.children.push(br),br[mr].apply(br,arguments)}},this)},dr.prototype._init=function(fr){const mr=this._baseState;or(mr.parent===null),fr.call(this),mr.children=mr.children.filter(function(br){return br._baseState.parent===this},this),or.equal(mr.children.length,1,"Root node can have only one child")},dr.prototype._useArgs=function(fr){const mr=this._baseState,br=fr.filter(function(pr){return pr instanceof this.constructor},this);fr=fr.filter(function(pr){return!(pr instanceof this.constructor)},this),br.length!==0&&(or(mr.children===null),mr.children=br,br.forEach(function(pr){pr._baseState.parent=this},this)),fr.length!==0&&(or(mr.args===null),mr.args=fr,mr.reverseArgs=fr.map(function(pr){if(typeof pr!="object"||pr.constructor!==Object)return pr;const gr={};return Object.keys(pr).forEach(function(yr){yr==(0|yr)&&(yr|=0);const vr=pr[yr];gr[vr]=yr}),gr}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(fr){dr.prototype[fr]=function(){const mr=this._baseState;throw new Error(fr+" not implemented for encoding: "+mr.enc)}}),cr.forEach(function(fr){dr.prototype[fr]=function(){const mr=this._baseState,br=Array.prototype.slice.call(arguments);return or(mr.tag===null),mr.tag=fr,this._useArgs(br),this}}),dr.prototype.use=function(fr){or(fr);const mr=this._baseState;return or(mr.use===null),mr.use=fr,this},dr.prototype.optional=function(){return this._baseState.optional=!0,this},dr.prototype.def=function(fr){const mr=this._baseState;return or(mr.default===null),mr.default=fr,mr.optional=!0,this},dr.prototype.explicit=function(fr){const mr=this._baseState;return or(mr.explicit===null&&mr.implicit===null),mr.explicit=fr,this},dr.prototype.implicit=function(fr){const mr=this._baseState;return or(mr.explicit===null&&mr.implicit===null),mr.implicit=fr,this},dr.prototype.obj=function(){const fr=this._baseState,mr=Array.prototype.slice.call(arguments);return fr.obj=!0,mr.length!==0&&this._useArgs(mr),this},dr.prototype.key=function(fr){const mr=this._baseState;return or(mr.key===null),mr.key=fr,this},dr.prototype.any=function(){return this._baseState.any=!0,this},dr.prototype.choice=function(fr){const mr=this._baseState;return or(mr.choice===null),mr.choice=fr,this._useArgs(Object.keys(fr).map(function(br){return fr[br]})),this},dr.prototype.contains=function(fr){const mr=this._baseState;return or(mr.use===null),mr.contains=fr,this},dr.prototype._decode=function(fr,mr){const br=this._baseState;if(br.parent===null)return fr.wrapResult(br.children[0]._decode(fr,mr));let pr,gr=br.default,yr=!0,vr=null;if(br.key!==null&&(vr=fr.enterKey(br.key)),br.optional){let _r=null;if(br.explicit!==null?_r=br.explicit:br.implicit!==null?_r=br.implicit:br.tag!==null&&(_r=br.tag),_r!==null||br.any){if(yr=this._peekTag(fr,_r,br.any),fr.isError(yr))return yr}else{const xr=fr.save();try{br.choice===null?this._decodeGeneric(br.tag,fr,mr):this._decodeChoice(fr,mr),yr=!0}catch{yr=!1}fr.restore(xr)}}if(br.obj&&yr&&(pr=fr.enterObject()),yr){if(br.explicit!==null){const xr=this._decodeTag(fr,br.explicit);if(fr.isError(xr))return xr;fr=xr}const _r=fr.offset;if(br.use===null&&br.choice===null){let xr;br.any&&(xr=fr.save());const Rr=this._decodeTag(fr,br.implicit!==null?br.implicit:br.tag,br.any);if(fr.isError(Rr))return Rr;br.any?gr=fr.raw(xr):fr=Rr}if(mr&&mr.track&&br.tag!==null&&mr.track(fr.path(),_r,fr.length,"tagged"),mr&&mr.track&&br.tag!==null&&mr.track(fr.path(),fr.offset,fr.length,"content"),br.any||(gr=br.choice===null?this._decodeGeneric(br.tag,fr,mr):this._decodeChoice(fr,mr)),fr.isError(gr))return gr;if(br.any||br.choice!==null||br.children===null||br.children.forEach(function(xr){xr._decode(fr,mr)}),br.contains&&(br.tag==="octstr"||br.tag==="bitstr")){const xr=new lr(gr);gr=this._getUse(br.contains,fr._reporterState.obj)._decode(xr,mr)}}return br.obj&&yr&&(gr=fr.leaveObject(pr)),br.key===null||gr===null&&yr!==!0?vr!==null&&fr.exitKey(vr):fr.leaveKey(vr,br.key,gr),gr},dr.prototype._decodeGeneric=function(fr,mr,br){const pr=this._baseState;return fr==="seq"||fr==="set"?null:fr==="seqof"||fr==="setof"?this._decodeList(mr,fr,pr.args[0],br):/str$/.test(fr)?this._decodeStr(mr,fr,br):fr==="objid"&&pr.args?this._decodeObjid(mr,pr.args[0],pr.args[1],br):fr==="objid"?this._decodeObjid(mr,null,null,br):fr==="gentime"||fr==="utctime"?this._decodeTime(mr,fr,br):fr==="null_"?this._decodeNull(mr,br):fr==="bool"?this._decodeBool(mr,br):fr==="objDesc"?this._decodeStr(mr,fr,br):fr==="int"||fr==="enum"?this._decodeInt(mr,pr.args&&pr.args[0],br):pr.use!==null?this._getUse(pr.use,mr._reporterState.obj)._decode(mr,br):mr.error("unknown tag: "+fr)},dr.prototype._getUse=function(fr,mr){const br=this._baseState;return br.useDecoder=this._use(fr,mr),or(br.useDecoder._baseState.parent===null),br.useDecoder=br.useDecoder._baseState.children[0],br.implicit!==br.useDecoder._baseState.implicit&&(br.useDecoder=br.useDecoder.clone(),br.useDecoder._baseState.implicit=br.implicit),br.useDecoder},dr.prototype._decodeChoice=function(fr,mr){const br=this._baseState;let pr=null,gr=!1;return Object.keys(br.choice).some(function(yr){const vr=fr.save(),_r=br.choice[yr];try{const xr=_r._decode(fr,mr);if(fr.isError(xr))return!1;pr={type:yr,value:xr},gr=!0}catch{return fr.restore(vr),!1}return!0},this),gr?pr:fr.error("Choice not matched")},dr.prototype._createEncoderBuffer=function(fr){return new sr(fr,this.reporter)},dr.prototype._encode=function(fr,mr,br){const pr=this._baseState;if(pr.default!==null&&pr.default===fr)return;const gr=this._encodeValue(fr,mr,br);return gr===void 0||this._skipDefault(gr,mr,br)?void 0:gr},dr.prototype._encodeValue=function(fr,mr,br){const pr=this._baseState;if(pr.parent===null)return pr.children[0]._encode(fr,mr||new ar);let gr=null;if(this.reporter=mr,pr.optional&&fr===void 0){if(pr.default===null)return;fr=pr.default}let yr=null,vr=!1;if(pr.any)gr=this._createEncoderBuffer(fr);else if(pr.choice)gr=this._encodeChoice(fr,mr);else if(pr.contains)yr=this._getUse(pr.contains,br)._encode(fr,mr),vr=!0;else if(pr.children)yr=pr.children.map(function(_r){if(_r._baseState.tag==="null_")return _r._encode(null,mr,fr);if(_r._baseState.key===null)return mr.error("Child should have a key");const xr=mr.enterKey(_r._baseState.key);if(typeof fr!="object")return mr.error("Child expected, but input is not object");const Rr=_r._encode(fr[_r._baseState.key],mr,fr);return mr.leaveKey(xr),Rr},this).filter(function(_r){return _r}),yr=this._createEncoderBuffer(yr);else if(pr.tag==="seqof"||pr.tag==="setof"){if(!pr.args||pr.args.length!==1)return mr.error("Too many args for : "+pr.tag);if(!Array.isArray(fr))return mr.error("seqof/setof, but data is not Array");const _r=this.clone();_r._baseState.implicit=null,yr=this._createEncoderBuffer(fr.map(function(xr){const Rr=this._baseState;return this._getUse(Rr.args[0],fr)._encode(xr,mr)},_r))}else pr.use!==null?gr=this._getUse(pr.use,br)._encode(fr,mr):(yr=this._encodePrimitive(pr.tag,fr),vr=!0);if(!pr.any&&pr.choice===null){const _r=pr.implicit!==null?pr.implicit:pr.tag,xr=pr.implicit===null?"universal":"context";_r===null?pr.use===null&&mr.error("Tag could be omitted only for .use()"):pr.use===null&&(gr=this._encodeComposite(_r,vr,xr,yr))}return pr.explicit!==null&&(gr=this._encodeComposite(pr.explicit,!1,"context",gr)),gr},dr.prototype._encodeChoice=function(fr,mr){const br=this._baseState,pr=br.choice[fr.type];return pr||or(!1,fr.type+" not found in "+JSON.stringify(Object.keys(br.choice))),pr._encode(fr.value,mr)},dr.prototype._encodePrimitive=function(fr,mr){const br=this._baseState;if(/str$/.test(fr))return this._encodeStr(mr,fr);if(fr==="objid"&&br.args)return this._encodeObjid(mr,br.reverseArgs[0],br.args[1]);if(fr==="objid")return this._encodeObjid(mr,null,null);if(fr==="gentime"||fr==="utctime")return this._encodeTime(mr,fr);if(fr==="null_")return this._encodeNull();if(fr==="int"||fr==="enum")return this._encodeInt(mr,br.args&&br.reverseArgs[0]);if(fr==="bool")return this._encodeBool(mr);if(fr==="objDesc")return this._encodeStr(mr,fr);throw new Error("Unsupported tag: "+fr)},dr.prototype._isNumstr=function(fr){return/^[0-9 ]*$/.test(fr)},dr.prototype._isPrintstr=function(fr){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(fr)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(rr,nr,ir){const ar=rr("inherits");function sr(or){this._reporterState={obj:null,path:[],options:or||{},errors:[]}}function lr(or,cr){this.path=or,this.rethrow(cr)}ir.Reporter=sr,sr.prototype.isError=function(or){return or instanceof lr},sr.prototype.save=function(){const or=this._reporterState;return{obj:or.obj,pathLen:or.path.length}},sr.prototype.restore=function(or){const cr=this._reporterState;cr.obj=or.obj,cr.path=cr.path.slice(0,or.pathLen)},sr.prototype.enterKey=function(or){return this._reporterState.path.push(or)},sr.prototype.exitKey=function(or){const cr=this._reporterState;cr.path=cr.path.slice(0,or-1)},sr.prototype.leaveKey=function(or,cr,ur){const dr=this._reporterState;this.exitKey(or),dr.obj!==null&&(dr.obj[cr]=ur)},sr.prototype.path=function(){return this._reporterState.path.join("/")},sr.prototype.enterObject=function(){const or=this._reporterState,cr=or.obj;return or.obj={},cr},sr.prototype.leaveObject=function(or){const cr=this._reporterState,ur=cr.obj;return cr.obj=or,ur},sr.prototype.error=function(or){let cr;const ur=this._reporterState,dr=or instanceof lr;if(cr=dr?or:new lr(ur.path.map(function(hr){return"["+JSON.stringify(hr)+"]"}).join(""),or.message||or,or.stack),!ur.options.partial)throw cr;return dr||ur.errors.push(cr),cr},sr.prototype.wrapResult=function(or){const cr=this._reporterState;return cr.options.partial?{result:this.isError(or)?null:or,errors:cr.errors}:or},ar(lr,Error),lr.prototype.rethrow=function(or){if(this.message=or+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,lr),!this.stack)try{throw new Error(this.message)}catch(cr){this.stack=cr.stack}return this}},{inherits:440}],176:[function(rr,nr,ir){function ar(sr){const lr={};return Object.keys(sr).forEach(function(or){(0|or)==or&&(or|=0);const cr=sr[or];lr[cr]=or}),lr}ir.tagClass={0:"universal",1:"application",2:"context",3:"private"},ir.tagClassByName=ar(ir.tagClass),ir.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ir.tagByName=ar(ir.tag)},{}],177:[function(rr,nr,ir){const ar=ir;ar._reverse=function(sr){const lr={};return Object.keys(sr).forEach(function(or){(0|or)==or&&(or|=0);const cr=sr[or];lr[cr]=or}),lr},ar.der=rr("./der")},{"./der":176}],178:[function(rr,nr,ir){const ar=rr("inherits"),sr=rr("bn.js"),lr=rr("../base/buffer").DecoderBuffer,or=rr("../base/node"),cr=rr("../constants/der");function ur(mr){this.enc="der",this.name=mr.name,this.entity=mr,this.tree=new dr,this.tree._init(mr.body)}function dr(mr){or.call(this,"der",mr)}function hr(mr,br){let pr=mr.readUInt8(br);if(mr.isError(pr))return pr;const gr=cr.tagClass[pr>>6],yr=(32&pr)==0;if((31&pr)==31){let vr=pr;for(pr=0;(128&vr)==128;){if(vr=mr.readUInt8(br),mr.isError(vr))return vr;pr<<=7,pr|=127&vr}}else pr&=31;return{cls:gr,primitive:yr,tag:pr,tagStr:cr.tag[pr]}}function fr(mr,br,pr){let gr=mr.readUInt8(pr);if(mr.isError(gr))return gr;if(!br&&gr===128)return null;if(!(128&gr))return gr;const yr=127&gr;if(yr>4)return mr.error("length octect is too long");gr=0;for(let vr=0;vr<yr;vr++){gr<<=8;const _r=mr.readUInt8(pr);if(mr.isError(_r))return _r;gr|=_r}return gr}nr.exports=ur,ur.prototype.decode=function(mr,br){return lr.isDecoderBuffer(mr)||(mr=new lr(mr,br)),this.tree._decode(mr,br)},ar(dr,or),dr.prototype._peekTag=function(mr,br,pr){if(mr.isEmpty())return!1;const gr=mr.save(),yr=hr(mr,'Failed to peek tag: "'+br+'"');return mr.isError(yr)?yr:(mr.restore(gr),yr.tag===br||yr.tagStr===br||yr.tagStr+"of"===br||pr)},dr.prototype._decodeTag=function(mr,br,pr){const gr=hr(mr,'Failed to decode tag of "'+br+'"');if(mr.isError(gr))return gr;let yr=fr(mr,gr.primitive,'Failed to get length of "'+br+'"');if(mr.isError(yr))return yr;if(!pr&&gr.tag!==br&&gr.tagStr!==br&&gr.tagStr+"of"!==br)return mr.error('Failed to match tag: "'+br+'"');if(gr.primitive||yr!==null)return mr.skip(yr,'Failed to match body of: "'+br+'"');const vr=mr.save(),_r=this._skipUntilEnd(mr,'Failed to skip indefinite length body: "'+this.tag+'"');return mr.isError(_r)?_r:(yr=mr.offset-vr.offset,mr.restore(vr),mr.skip(yr,'Failed to match body of: "'+br+'"'))},dr.prototype._skipUntilEnd=function(mr,br){for(;;){const pr=hr(mr,br);if(mr.isError(pr))return pr;const gr=fr(mr,pr.primitive,br);if(mr.isError(gr))return gr;let yr;if(yr=pr.primitive||gr!==null?mr.skip(gr):this._skipUntilEnd(mr,br),mr.isError(yr))return yr;if(pr.tagStr==="end")break}},dr.prototype._decodeList=function(mr,br,pr,gr){const yr=[];for(;!mr.isEmpty();){const vr=this._peekTag(mr,"end");if(mr.isError(vr))return vr;const _r=pr.decode(mr,"der",gr);if(mr.isError(_r)&&vr)break;yr.push(_r)}return yr},dr.prototype._decodeStr=function(mr,br){if(br==="bitstr"){const pr=mr.readUInt8();return mr.isError(pr)?pr:{unused:pr,data:mr.raw()}}if(br==="bmpstr"){const pr=mr.raw();if(pr.length%2==1)return mr.error("Decoding of string type: bmpstr length mismatch");let gr="";for(let yr=0;yr<pr.length/2;yr++)gr+=String.fromCharCode(pr.readUInt16BE(2*yr));return gr}if(br==="numstr"){const pr=mr.raw().toString("ascii");return this._isNumstr(pr)?pr:mr.error("Decoding of string type: numstr unsupported characters")}if(br==="octstr"||br==="objDesc")return mr.raw();if(br==="printstr"){const pr=mr.raw().toString("ascii");return this._isPrintstr(pr)?pr:mr.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(br)?mr.raw().toString():mr.error("Decoding of string type: "+br+" unsupported")},dr.prototype._decodeObjid=function(mr,br,pr){let gr;const yr=[];let vr=0,_r=0;for(;!mr.isEmpty();)_r=mr.readUInt8(),vr<<=7,vr|=127&_r,!(128&_r)&&(yr.push(vr),vr=0);128&_r&&yr.push(vr);const xr=yr[0]/40|0,Rr=yr[0]%40;if(gr=pr?yr:[xr,Rr].concat(yr.slice(1)),br){let Cr=br[gr.join(" ")];Cr===void 0&&(Cr=br[gr.join(".")]),Cr!==void 0&&(gr=Cr)}return gr},dr.prototype._decodeTime=function(mr,br){const pr=mr.raw().toString();let gr,yr,vr,_r,xr,Rr;if(br==="gentime")gr=0|pr.slice(0,4),yr=0|pr.slice(4,6),vr=0|pr.slice(6,8),_r=0|pr.slice(8,10),xr=0|pr.slice(10,12),Rr=0|pr.slice(12,14);else{if(br!=="utctime")return mr.error("Decoding "+br+" time is not supported yet");gr=0|pr.slice(0,2),yr=0|pr.slice(2,4),vr=0|pr.slice(4,6),_r=0|pr.slice(6,8),xr=0|pr.slice(8,10),Rr=0|pr.slice(10,12),gr=gr<70?2e3+gr:1900+gr}return Date.UTC(gr,yr-1,vr,_r,xr,Rr,0)},dr.prototype._decodeNull=function(){return null},dr.prototype._decodeBool=function(mr){const br=mr.readUInt8();return mr.isError(br)?br:br!==0},dr.prototype._decodeInt=function(mr,br){const pr=mr.raw();let gr=new sr(pr);return br&&(gr=br[gr.toString(10)]||gr),gr},dr.prototype._use=function(mr,br){return typeof mr=="function"&&(mr=mr(br)),mr._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(rr,nr,ir){const ar=ir;ar.der=rr("./der"),ar.pem=rr("./pem")},{"./der":178,"./pem":180}],180:[function(rr,nr,ir){const ar=rr("inherits"),sr=rr("safer-buffer").Buffer,lr=rr("./der");function or(cr){lr.call(this,cr),this.enc="pem"}ar(or,lr),nr.exports=or,or.prototype.decode=function(cr,ur){const dr=cr.toString().split(/[\r\n]+/g),hr=ur.label.toUpperCase(),fr=/^-----(BEGIN|END) ([^-]+)-----$/;let mr=-1,br=-1;for(let yr=0;yr<dr.length;yr++){const vr=dr[yr].match(fr);if(vr!==null&&vr[2]===hr){if(mr!==-1){if(vr[1]!=="END")break;br=yr;break}if(vr[1]!=="BEGIN")break;mr=yr}}if(mr===-1||br===-1)throw new Error("PEM section not found for: "+hr);const pr=dr.slice(mr+1,br).join("");pr.replace(/[^a-z0-9+/=]+/gi,"");const gr=sr.from(pr,"base64");return lr.prototype.decode.call(this,gr,ur)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(rr,nr,ir){const ar=rr("inherits"),sr=rr("safer-buffer").Buffer,lr=rr("../base/node"),or=rr("../constants/der");function cr(hr){this.enc="der",this.name=hr.name,this.entity=hr,this.tree=new ur,this.tree._init(hr.body)}function ur(hr){lr.call(this,"der",hr)}function dr(hr){return hr<10?"0"+hr:hr}nr.exports=cr,cr.prototype.encode=function(hr,fr){return this.tree._encode(hr,fr).join()},ar(ur,lr),ur.prototype._encodeComposite=function(hr,fr,mr,br){const pr=function(vr,_r,xr,Rr){let Cr;if(vr==="seqof"?vr="seq":vr==="setof"&&(vr="set"),or.tagByName.hasOwnProperty(vr))Cr=or.tagByName[vr];else{if(typeof vr!="number"||(0|vr)!==vr)return Rr.error("Unknown tag: "+vr);Cr=vr}return Cr>=31?Rr.error("Multi-octet tag encoding unsupported"):(_r||(Cr|=32),Cr|=or.tagClassByName[xr||"universal"]<<6,Cr)}(hr,fr,mr,this.reporter);if(br.length<128){const vr=sr.alloc(2);return vr[0]=pr,vr[1]=br.length,this._createEncoderBuffer([vr,br])}let gr=1;for(let vr=br.length;vr>=256;vr>>=8)gr++;const yr=sr.alloc(2+gr);yr[0]=pr,yr[1]=128|gr;for(let vr=1+gr,_r=br.length;_r>0;vr--,_r>>=8)yr[vr]=255&_r;return this._createEncoderBuffer([yr,br])},ur.prototype._encodeStr=function(hr,fr){if(fr==="bitstr")return this._createEncoderBuffer([0|hr.unused,hr.data]);if(fr==="bmpstr"){const mr=sr.alloc(2*hr.length);for(let br=0;br<hr.length;br++)mr.writeUInt16BE(hr.charCodeAt(br),2*br);return this._createEncoderBuffer(mr)}return fr==="numstr"?this._isNumstr(hr)?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: numstr supports only digits and space"):fr==="printstr"?this._isPrintstr(hr)?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(fr)||fr==="objDesc"?this._createEncoderBuffer(hr):this.reporter.error("Encoding of string type: "+fr+" unsupported")},ur.prototype._encodeObjid=function(hr,fr,mr){if(typeof hr=="string"){if(!fr)return this.reporter.error("string objid given, but no values map found");if(!fr.hasOwnProperty(hr))return this.reporter.error("objid not found in values map");hr=fr[hr].split(/[\s.]+/g);for(let yr=0;yr<hr.length;yr++)hr[yr]|=0}else if(Array.isArray(hr)){hr=hr.slice();for(let yr=0;yr<hr.length;yr++)hr[yr]|=0}if(!Array.isArray(hr))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(hr));if(!mr){if(hr[1]>=40)return this.reporter.error("Second objid identifier OOB");hr.splice(0,2,40*hr[0]+hr[1])}let br=0;for(let yr=0;yr<hr.length;yr++){let vr=hr[yr];for(br++;vr>=128;vr>>=7)br++}const pr=sr.alloc(br);let gr=pr.length-1;for(let yr=hr.length-1;yr>=0;yr--){let vr=hr[yr];for(pr[gr--]=127&vr;(vr>>=7)>0;)pr[gr--]=128|127&vr}return this._createEncoderBuffer(pr)},ur.prototype._encodeTime=function(hr,fr){let mr;const br=new Date(hr);return fr==="gentime"?mr=[dr(br.getUTCFullYear()),dr(br.getUTCMonth()+1),dr(br.getUTCDate()),dr(br.getUTCHours()),dr(br.getUTCMinutes()),dr(br.getUTCSeconds()),"Z"].join(""):fr==="utctime"?mr=[dr(br.getUTCFullYear()%100),dr(br.getUTCMonth()+1),dr(br.getUTCDate()),dr(br.getUTCHours()),dr(br.getUTCMinutes()),dr(br.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+fr+" time is not supported yet"),this._encodeStr(mr,"octstr")},ur.prototype._encodeNull=function(){return this._createEncoderBuffer("")},ur.prototype._encodeInt=function(hr,fr){if(typeof hr=="string"){if(!fr)return this.reporter.error("String int or enum given, but no values map");if(!fr.hasOwnProperty(hr))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(hr));hr=fr[hr]}if(typeof hr!="number"&&!sr.isBuffer(hr)){const pr=hr.toArray();!hr.sign&&128&pr[0]&&pr.unshift(0),hr=sr.from(pr)}if(sr.isBuffer(hr)){let pr=hr.length;hr.length===0&&pr++;const gr=sr.alloc(pr);return hr.copy(gr),hr.length===0&&(gr[0]=0),this._createEncoderBuffer(gr)}if(hr<128)return this._createEncoderBuffer(hr);if(hr<256)return this._createEncoderBuffer([0,hr]);let mr=1;for(let pr=hr;pr>=256;pr>>=8)mr++;const br=new Array(mr);for(let pr=br.length-1;pr>=0;pr--)br[pr]=255&hr,hr>>=8;return 128&br[0]&&br.unshift(0),this._createEncoderBuffer(sr.from(br))},ur.prototype._encodeBool=function(hr){return this._createEncoderBuffer(hr?255:0)},ur.prototype._use=function(hr,fr){return typeof hr=="function"&&(hr=hr(fr)),hr._getEncoder("der").tree},ur.prototype._skipDefault=function(hr,fr,mr){const br=this._baseState;let pr;if(br.default===null)return!1;const gr=hr.join();if(br.defaultBuffer===void 0&&(br.defaultBuffer=this._encodeValue(br.default,fr,mr).join()),gr.length!==br.defaultBuffer.length)return!1;for(pr=0;pr<gr.length;pr++)if(gr[pr]!==br.defaultBuffer[pr])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(rr,nr,ir){const ar=ir;ar.der=rr("./der"),ar.pem=rr("./pem")},{"./der":181,"./pem":183}],183:[function(rr,nr,ir){const ar=rr("inherits"),sr=rr("./der");function lr(or){sr.call(this,or),this.enc="pem"}ar(lr,sr),nr.exports=lr,lr.prototype.encode=function(or,cr){const ur=sr.prototype.encode.call(this,or).toString("base64"),dr=["-----BEGIN "+cr.label+"-----"];for(let hr=0;hr<ur.length;hr+=64)dr.push(ur.slice(hr,hr+64));return dr.push("-----END "+cr.label+"-----"),dr.join(`
`)}},{"./der":181,inherits:440}],184:[function(rr,nr,ir){(function(ar,sr){function lr(Pr,Mr){if(!Pr)throw new Error(Mr||"Assertion failed")}function or(Pr,Mr){Pr.super_=Mr;var jr=function(){};jr.prototype=Mr.prototype,Pr.prototype=new jr,Pr.prototype.constructor=Pr}function cr(Pr,Mr,jr){if(cr.isBN(Pr))return Pr;this.negative=0,this.words=null,this.length=0,this.red=null,Pr!==null&&(Mr!=="le"&&Mr!=="be"||(jr=Mr,Mr=10),this._init(Pr||0,Mr||10,jr||"be"))}var ur;typeof ar=="object"?ar.exports=cr:(void 0).BN=cr,cr.BN=cr,cr.wordSize=26;try{ur=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:rr("buffer").Buffer}catch{}function dr(Pr,Mr){var jr=Pr.charCodeAt(Mr);return jr>=65&&jr<=70?jr-55:jr>=97&&jr<=102?jr-87:jr-48&15}function hr(Pr,Mr,jr){var wr=dr(Pr,jr);return jr-1>=Mr&&(wr|=dr(Pr,jr-1)<<4),wr}function fr(Pr,Mr,jr,wr){for(var Er=0,Ar=Math.min(Pr.length,jr),Sr=Mr;Sr<Ar;Sr++){var Dr=Pr.charCodeAt(Sr)-48;Er*=wr,Er+=Dr>=49?Dr-49+10:Dr>=17?Dr-17+10:Dr}return Er}cr.isBN=function(Pr){return Pr instanceof cr||Pr!==null&&typeof Pr=="object"&&Pr.constructor.wordSize===cr.wordSize&&Array.isArray(Pr.words)},cr.max=function(Pr,Mr){return Pr.cmp(Mr)>0?Pr:Mr},cr.min=function(Pr,Mr){return Pr.cmp(Mr)<0?Pr:Mr},cr.prototype._init=function(Pr,Mr,jr){if(typeof Pr=="number")return this._initNumber(Pr,Mr,jr);if(typeof Pr=="object")return this._initArray(Pr,Mr,jr);Mr==="hex"&&(Mr=16),lr(Mr===(0|Mr)&&Mr>=2&&Mr<=36);var wr=0;(Pr=Pr.toString().replace(/\s+/g,""))[0]==="-"&&(wr++,this.negative=1),wr<Pr.length&&(Mr===16?this._parseHex(Pr,wr,jr):(this._parseBase(Pr,Mr,wr),jr==="le"&&this._initArray(this.toArray(),Mr,jr)))},cr.prototype._initNumber=function(Pr,Mr,jr){Pr<0&&(this.negative=1,Pr=-Pr),Pr<67108864?(this.words=[67108863&Pr],this.length=1):Pr<4503599627370496?(this.words=[67108863&Pr,Pr/67108864&67108863],this.length=2):(lr(Pr<9007199254740992),this.words=[67108863&Pr,Pr/67108864&67108863,1],this.length=3),jr==="le"&&this._initArray(this.toArray(),Mr,jr)},cr.prototype._initArray=function(Pr,Mr,jr){if(lr(typeof Pr.length=="number"),Pr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pr.length/3),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var Er,Ar,Sr=0;if(jr==="be")for(wr=Pr.length-1,Er=0;wr>=0;wr-=3)Ar=Pr[wr]|Pr[wr-1]<<8|Pr[wr-2]<<16,this.words[Er]|=Ar<<Sr&67108863,this.words[Er+1]=Ar>>>26-Sr&67108863,(Sr+=24)>=26&&(Sr-=26,Er++);else if(jr==="le")for(wr=0,Er=0;wr<Pr.length;wr+=3)Ar=Pr[wr]|Pr[wr+1]<<8|Pr[wr+2]<<16,this.words[Er]|=Ar<<Sr&67108863,this.words[Er+1]=Ar>>>26-Sr&67108863,(Sr+=24)>=26&&(Sr-=26,Er++);return this.strip()},cr.prototype._parseHex=function(Pr,Mr,jr){this.length=Math.ceil((Pr.length-Mr)/6),this.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)this.words[wr]=0;var Er,Ar=0,Sr=0;if(jr==="be")for(wr=Pr.length-1;wr>=Mr;wr-=2)Er=hr(Pr,Mr,wr)<<Ar,this.words[Sr]|=67108863&Er,Ar>=18?(Ar-=18,Sr+=1,this.words[Sr]|=Er>>>26):Ar+=8;else for(wr=(Pr.length-Mr)%2==0?Mr+1:Mr;wr<Pr.length;wr+=2)Er=hr(Pr,Mr,wr)<<Ar,this.words[Sr]|=67108863&Er,Ar>=18?(Ar-=18,Sr+=1,this.words[Sr]|=Er>>>26):Ar+=8;this.strip()},cr.prototype._parseBase=function(Pr,Mr,jr){this.words=[0],this.length=1;for(var wr=0,Er=1;Er<=67108863;Er*=Mr)wr++;wr--,Er=Er/Mr|0;for(var Ar=Pr.length-jr,Sr=Ar%wr,Dr=Math.min(Ar,Ar-Sr)+jr,Wr=0,$r=jr;$r<Dr;$r+=wr)Wr=fr(Pr,$r,$r+wr,Mr),this.imuln(Er),this.words[0]+Wr<67108864?this.words[0]+=Wr:this._iaddn(Wr);if(Sr!==0){var Vr=1;for(Wr=fr(Pr,$r,Pr.length,Mr),$r=0;$r<Sr;$r++)Vr*=Mr;this.imuln(Vr),this.words[0]+Wr<67108864?this.words[0]+=Wr:this._iaddn(Wr)}this.strip()},cr.prototype.copy=function(Pr){Pr.words=new Array(this.length);for(var Mr=0;Mr<this.length;Mr++)Pr.words[Mr]=this.words[Mr];Pr.length=this.length,Pr.negative=this.negative,Pr.red=this.red},cr.prototype.clone=function(){var Pr=new cr(null);return this.copy(Pr),Pr},cr.prototype._expand=function(Pr){for(;this.length<Pr;)this.words[this.length++]=0;return this},cr.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},cr.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},cr.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var mr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],br=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function gr(Pr,Mr,jr){jr.negative=Mr.negative^Pr.negative;var wr=Pr.length+Mr.length|0;jr.length=wr,wr=wr-1|0;var Er=0|Pr.words[0],Ar=0|Mr.words[0],Sr=Er*Ar,Dr=67108863&Sr,Wr=Sr/67108864|0;jr.words[0]=Dr;for(var $r=1;$r<wr;$r++){for(var Vr=Wr>>>26,zr=67108863&Wr,Gr=Math.min($r,Mr.length-1),Fr=Math.max(0,$r-Pr.length+1);Fr<=Gr;Fr++){var Xr=$r-Fr|0;Vr+=(Sr=(Er=0|Pr.words[Xr])*(Ar=0|Mr.words[Fr])+zr)/67108864|0,zr=67108863&Sr}jr.words[$r]=0|zr,Wr=0|Vr}return Wr!==0?jr.words[$r]=0|Wr:jr.length--,jr.strip()}cr.prototype.toString=function(Pr,Mr){var jr;if(Mr=0|Mr||1,(Pr=Pr||10)===16||Pr==="hex"){jr="";for(var wr=0,Er=0,Ar=0;Ar<this.length;Ar++){var Sr=this.words[Ar],Dr=(16777215&(Sr<<wr|Er)).toString(16);jr=(Er=Sr>>>24-wr&16777215)!==0||Ar!==this.length-1?mr[6-Dr.length]+Dr+jr:Dr+jr,(wr+=2)>=26&&(wr-=26,Ar--)}for(Er!==0&&(jr=Er.toString(16)+jr);jr.length%Mr!=0;)jr="0"+jr;return this.negative!==0&&(jr="-"+jr),jr}if(Pr===(0|Pr)&&Pr>=2&&Pr<=36){var Wr=br[Pr],$r=pr[Pr];jr="";var Vr=this.clone();for(Vr.negative=0;!Vr.isZero();){var zr=Vr.modn($r).toString(Pr);jr=(Vr=Vr.idivn($r)).isZero()?zr+jr:mr[Wr-zr.length]+zr+jr}for(this.isZero()&&(jr="0"+jr);jr.length%Mr!=0;)jr="0"+jr;return this.negative!==0&&(jr="-"+jr),jr}lr(!1,"Base should be between 2 and 36")},cr.prototype.toNumber=function(){var Pr=this.words[0];return this.length===2?Pr+=67108864*this.words[1]:this.length===3&&this.words[2]===1?Pr+=4503599627370496+67108864*this.words[1]:this.length>2&&lr(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pr:Pr},cr.prototype.toJSON=function(){return this.toString(16)},cr.prototype.toBuffer=function(Pr,Mr){return lr(ur!==void 0),this.toArrayLike(ur,Pr,Mr)},cr.prototype.toArray=function(Pr,Mr){return this.toArrayLike(Array,Pr,Mr)},cr.prototype.toArrayLike=function(Pr,Mr,jr){var wr=this.byteLength(),Er=jr||Math.max(1,wr);lr(wr<=Er,"byte array longer than desired length"),lr(Er>0,"Requested array length <= 0"),this.strip();var Ar,Sr,Dr=Mr==="le",Wr=new Pr(Er),$r=this.clone();if(Dr){for(Sr=0;!$r.isZero();Sr++)Ar=$r.andln(255),$r.iushrn(8),Wr[Sr]=Ar;for(;Sr<Er;Sr++)Wr[Sr]=0}else{for(Sr=0;Sr<Er-wr;Sr++)Wr[Sr]=0;for(Sr=0;!$r.isZero();Sr++)Ar=$r.andln(255),$r.iushrn(8),Wr[Er-Sr-1]=Ar}return Wr},Math.clz32?cr.prototype._countBits=function(Pr){return 32-Math.clz32(Pr)}:cr.prototype._countBits=function(Pr){var Mr=Pr,jr=0;return Mr>=4096&&(jr+=13,Mr>>>=13),Mr>=64&&(jr+=7,Mr>>>=7),Mr>=8&&(jr+=4,Mr>>>=4),Mr>=2&&(jr+=2,Mr>>>=2),jr+Mr},cr.prototype._zeroBits=function(Pr){if(Pr===0)return 26;var Mr=Pr,jr=0;return!(8191&Mr)&&(jr+=13,Mr>>>=13),!(127&Mr)&&(jr+=7,Mr>>>=7),!(15&Mr)&&(jr+=4,Mr>>>=4),!(3&Mr)&&(jr+=2,Mr>>>=2),!(1&Mr)&&jr++,jr},cr.prototype.bitLength=function(){var Pr=this.words[this.length-1],Mr=this._countBits(Pr);return 26*(this.length-1)+Mr},cr.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pr=0,Mr=0;Mr<this.length;Mr++){var jr=this._zeroBits(this.words[Mr]);if(Pr+=jr,jr!==26)break}return Pr},cr.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},cr.prototype.toTwos=function(Pr){return this.negative!==0?this.abs().inotn(Pr).iaddn(1):this.clone()},cr.prototype.fromTwos=function(Pr){return this.testn(Pr-1)?this.notn(Pr).iaddn(1).ineg():this.clone()},cr.prototype.isNeg=function(){return this.negative!==0},cr.prototype.neg=function(){return this.clone().ineg()},cr.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},cr.prototype.iuor=function(Pr){for(;this.length<Pr.length;)this.words[this.length++]=0;for(var Mr=0;Mr<Pr.length;Mr++)this.words[Mr]=this.words[Mr]|Pr.words[Mr];return this.strip()},cr.prototype.ior=function(Pr){return lr((this.negative|Pr.negative)==0),this.iuor(Pr)},cr.prototype.or=function(Pr){return this.length>Pr.length?this.clone().ior(Pr):Pr.clone().ior(this)},cr.prototype.uor=function(Pr){return this.length>Pr.length?this.clone().iuor(Pr):Pr.clone().iuor(this)},cr.prototype.iuand=function(Pr){var Mr;Mr=this.length>Pr.length?Pr:this;for(var jr=0;jr<Mr.length;jr++)this.words[jr]=this.words[jr]&Pr.words[jr];return this.length=Mr.length,this.strip()},cr.prototype.iand=function(Pr){return lr((this.negative|Pr.negative)==0),this.iuand(Pr)},cr.prototype.and=function(Pr){return this.length>Pr.length?this.clone().iand(Pr):Pr.clone().iand(this)},cr.prototype.uand=function(Pr){return this.length>Pr.length?this.clone().iuand(Pr):Pr.clone().iuand(this)},cr.prototype.iuxor=function(Pr){var Mr,jr;this.length>Pr.length?(Mr=this,jr=Pr):(Mr=Pr,jr=this);for(var wr=0;wr<jr.length;wr++)this.words[wr]=Mr.words[wr]^jr.words[wr];if(this!==Mr)for(;wr<Mr.length;wr++)this.words[wr]=Mr.words[wr];return this.length=Mr.length,this.strip()},cr.prototype.ixor=function(Pr){return lr((this.negative|Pr.negative)==0),this.iuxor(Pr)},cr.prototype.xor=function(Pr){return this.length>Pr.length?this.clone().ixor(Pr):Pr.clone().ixor(this)},cr.prototype.uxor=function(Pr){return this.length>Pr.length?this.clone().iuxor(Pr):Pr.clone().iuxor(this)},cr.prototype.inotn=function(Pr){lr(typeof Pr=="number"&&Pr>=0);var Mr=0|Math.ceil(Pr/26),jr=Pr%26;this._expand(Mr),jr>0&&Mr--;for(var wr=0;wr<Mr;wr++)this.words[wr]=67108863&~this.words[wr];return jr>0&&(this.words[wr]=~this.words[wr]&67108863>>26-jr),this.strip()},cr.prototype.notn=function(Pr){return this.clone().inotn(Pr)},cr.prototype.setn=function(Pr,Mr){lr(typeof Pr=="number"&&Pr>=0);var jr=Pr/26|0,wr=Pr%26;return this._expand(jr+1),this.words[jr]=Mr?this.words[jr]|1<<wr:this.words[jr]&~(1<<wr),this.strip()},cr.prototype.iadd=function(Pr){var Mr,jr,wr;if(this.negative!==0&&Pr.negative===0)return this.negative=0,Mr=this.isub(Pr),this.negative^=1,this._normSign();if(this.negative===0&&Pr.negative!==0)return Pr.negative=0,Mr=this.isub(Pr),Pr.negative=1,Mr._normSign();this.length>Pr.length?(jr=this,wr=Pr):(jr=Pr,wr=this);for(var Er=0,Ar=0;Ar<wr.length;Ar++)Mr=(0|jr.words[Ar])+(0|wr.words[Ar])+Er,this.words[Ar]=67108863&Mr,Er=Mr>>>26;for(;Er!==0&&Ar<jr.length;Ar++)Mr=(0|jr.words[Ar])+Er,this.words[Ar]=67108863&Mr,Er=Mr>>>26;if(this.length=jr.length,Er!==0)this.words[this.length]=Er,this.length++;else if(jr!==this)for(;Ar<jr.length;Ar++)this.words[Ar]=jr.words[Ar];return this},cr.prototype.add=function(Pr){var Mr;return Pr.negative!==0&&this.negative===0?(Pr.negative=0,Mr=this.sub(Pr),Pr.negative^=1,Mr):Pr.negative===0&&this.negative!==0?(this.negative=0,Mr=Pr.sub(this),this.negative=1,Mr):this.length>Pr.length?this.clone().iadd(Pr):Pr.clone().iadd(this)},cr.prototype.isub=function(Pr){if(Pr.negative!==0){Pr.negative=0;var Mr=this.iadd(Pr);return Pr.negative=1,Mr._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(Pr),this.negative=1,this._normSign();var jr,wr,Er=this.cmp(Pr);if(Er===0)return this.negative=0,this.length=1,this.words[0]=0,this;Er>0?(jr=this,wr=Pr):(jr=Pr,wr=this);for(var Ar=0,Sr=0;Sr<wr.length;Sr++)Ar=(Mr=(0|jr.words[Sr])-(0|wr.words[Sr])+Ar)>>26,this.words[Sr]=67108863&Mr;for(;Ar!==0&&Sr<jr.length;Sr++)Ar=(Mr=(0|jr.words[Sr])+Ar)>>26,this.words[Sr]=67108863&Mr;if(Ar===0&&Sr<jr.length&&jr!==this)for(;Sr<jr.length;Sr++)this.words[Sr]=jr.words[Sr];return this.length=Math.max(this.length,Sr),jr!==this&&(this.negative=1),this.strip()},cr.prototype.sub=function(Pr){return this.clone().isub(Pr)};var yr=function(Pr,Mr,jr){var wr,Er,Ar,Sr=Pr.words,Dr=Mr.words,Wr=jr.words,$r=0,Vr=0|Sr[0],zr=8191&Vr,Gr=Vr>>>13,Fr=0|Sr[1],Xr=8191&Fr,Ur=Fr>>>13,Br=0|Sr[2],Kr=8191&Br,Zr=Br>>>13,tn=0|Sr[3],sn=8191&tn,un=tn>>>13,hn=0|Sr[4],Jr=8191&hn,nn=hn>>>13,rn=0|Sr[5],on=8191&rn,fn=rn>>>13,mn=0|Sr[6],yn=8191&mn,Rn=mn>>>13,In=0|Sr[7],Sn=8191&In,Dn=In>>>13,zn=0|Sr[8],rs=8191&zn,ns=zn>>>13,fs=0|Sr[9],qn=8191&fs,ds=fs>>>13,os=0|Dr[0],gs=8191&os,Wn=os>>>13,Fn=0|Dr[1],Bn=8191&Fn,ss=Fn>>>13,$s=0|Dr[2],vs=8191&$s,kn=$s>>>13,Qn=0|Dr[3],xa=8191&Qn,as=Qn>>>13,ms=0|Dr[4],ls=8191&ms,An=ms>>>13,wn=0|Dr[5],Nn=8191&wn,$n=wn>>>13,Gn=0|Dr[6],gn=8191&Gn,_n=Gn>>>13,jn=0|Dr[7],On=8191&jn,Un=jn>>>13,Hn=0|Dr[8],Kn=8191&Hn,_i=Hn>>>13,ys=0|Dr[9],xs=8191&ys,Cs=ys>>>13;jr.negative=Pr.negative^Mr.negative,jr.length=19;var Rs=($r+(wr=Math.imul(zr,gs))|0)+((8191&(Er=(Er=Math.imul(zr,Wn))+Math.imul(Gr,gs)|0))<<13)|0;$r=((Ar=Math.imul(Gr,Wn))+(Er>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,wr=Math.imul(Xr,gs),Er=(Er=Math.imul(Xr,Wn))+Math.imul(Ur,gs)|0,Ar=Math.imul(Ur,Wn);var Ls=($r+(wr=wr+Math.imul(zr,Bn)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,ss)|0)+Math.imul(Gr,Bn)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,ss)|0)+(Er>>>13)|0)+(Ls>>>26)|0,Ls&=67108863,wr=Math.imul(Kr,gs),Er=(Er=Math.imul(Kr,Wn))+Math.imul(Zr,gs)|0,Ar=Math.imul(Zr,Wn),wr=wr+Math.imul(Xr,Bn)|0,Er=(Er=Er+Math.imul(Xr,ss)|0)+Math.imul(Ur,Bn)|0,Ar=Ar+Math.imul(Ur,ss)|0;var Ws=($r+(wr=wr+Math.imul(zr,vs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,kn)|0)+Math.imul(Gr,vs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,kn)|0)+(Er>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,wr=Math.imul(sn,gs),Er=(Er=Math.imul(sn,Wn))+Math.imul(un,gs)|0,Ar=Math.imul(un,Wn),wr=wr+Math.imul(Kr,Bn)|0,Er=(Er=Er+Math.imul(Kr,ss)|0)+Math.imul(Zr,Bn)|0,Ar=Ar+Math.imul(Zr,ss)|0,wr=wr+Math.imul(Xr,vs)|0,Er=(Er=Er+Math.imul(Xr,kn)|0)+Math.imul(Ur,vs)|0,Ar=Ar+Math.imul(Ur,kn)|0;var Xs=($r+(wr=wr+Math.imul(zr,xa)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,as)|0)+Math.imul(Gr,xa)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,as)|0)+(Er>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,wr=Math.imul(Jr,gs),Er=(Er=Math.imul(Jr,Wn))+Math.imul(nn,gs)|0,Ar=Math.imul(nn,Wn),wr=wr+Math.imul(sn,Bn)|0,Er=(Er=Er+Math.imul(sn,ss)|0)+Math.imul(un,Bn)|0,Ar=Ar+Math.imul(un,ss)|0,wr=wr+Math.imul(Kr,vs)|0,Er=(Er=Er+Math.imul(Kr,kn)|0)+Math.imul(Zr,vs)|0,Ar=Ar+Math.imul(Zr,kn)|0,wr=wr+Math.imul(Xr,xa)|0,Er=(Er=Er+Math.imul(Xr,as)|0)+Math.imul(Ur,xa)|0,Ar=Ar+Math.imul(Ur,as)|0;var ro=($r+(wr=wr+Math.imul(zr,ls)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,An)|0)+Math.imul(Gr,ls)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,An)|0)+(Er>>>13)|0)+(ro>>>26)|0,ro&=67108863,wr=Math.imul(on,gs),Er=(Er=Math.imul(on,Wn))+Math.imul(fn,gs)|0,Ar=Math.imul(fn,Wn),wr=wr+Math.imul(Jr,Bn)|0,Er=(Er=Er+Math.imul(Jr,ss)|0)+Math.imul(nn,Bn)|0,Ar=Ar+Math.imul(nn,ss)|0,wr=wr+Math.imul(sn,vs)|0,Er=(Er=Er+Math.imul(sn,kn)|0)+Math.imul(un,vs)|0,Ar=Ar+Math.imul(un,kn)|0,wr=wr+Math.imul(Kr,xa)|0,Er=(Er=Er+Math.imul(Kr,as)|0)+Math.imul(Zr,xa)|0,Ar=Ar+Math.imul(Zr,as)|0,wr=wr+Math.imul(Xr,ls)|0,Er=(Er=Er+Math.imul(Xr,An)|0)+Math.imul(Ur,ls)|0,Ar=Ar+Math.imul(Ur,An)|0;var ao=($r+(wr=wr+Math.imul(zr,Nn)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,$n)|0)+Math.imul(Gr,Nn)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,$n)|0)+(Er>>>13)|0)+(ao>>>26)|0,ao&=67108863,wr=Math.imul(yn,gs),Er=(Er=Math.imul(yn,Wn))+Math.imul(Rn,gs)|0,Ar=Math.imul(Rn,Wn),wr=wr+Math.imul(on,Bn)|0,Er=(Er=Er+Math.imul(on,ss)|0)+Math.imul(fn,Bn)|0,Ar=Ar+Math.imul(fn,ss)|0,wr=wr+Math.imul(Jr,vs)|0,Er=(Er=Er+Math.imul(Jr,kn)|0)+Math.imul(nn,vs)|0,Ar=Ar+Math.imul(nn,kn)|0,wr=wr+Math.imul(sn,xa)|0,Er=(Er=Er+Math.imul(sn,as)|0)+Math.imul(un,xa)|0,Ar=Ar+Math.imul(un,as)|0,wr=wr+Math.imul(Kr,ls)|0,Er=(Er=Er+Math.imul(Kr,An)|0)+Math.imul(Zr,ls)|0,Ar=Ar+Math.imul(Zr,An)|0,wr=wr+Math.imul(Xr,Nn)|0,Er=(Er=Er+Math.imul(Xr,$n)|0)+Math.imul(Ur,Nn)|0,Ar=Ar+Math.imul(Ur,$n)|0;var _o=($r+(wr=wr+Math.imul(zr,gn)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,_n)|0)+Math.imul(Gr,gn)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,_n)|0)+(Er>>>13)|0)+(_o>>>26)|0,_o&=67108863,wr=Math.imul(Sn,gs),Er=(Er=Math.imul(Sn,Wn))+Math.imul(Dn,gs)|0,Ar=Math.imul(Dn,Wn),wr=wr+Math.imul(yn,Bn)|0,Er=(Er=Er+Math.imul(yn,ss)|0)+Math.imul(Rn,Bn)|0,Ar=Ar+Math.imul(Rn,ss)|0,wr=wr+Math.imul(on,vs)|0,Er=(Er=Er+Math.imul(on,kn)|0)+Math.imul(fn,vs)|0,Ar=Ar+Math.imul(fn,kn)|0,wr=wr+Math.imul(Jr,xa)|0,Er=(Er=Er+Math.imul(Jr,as)|0)+Math.imul(nn,xa)|0,Ar=Ar+Math.imul(nn,as)|0,wr=wr+Math.imul(sn,ls)|0,Er=(Er=Er+Math.imul(sn,An)|0)+Math.imul(un,ls)|0,Ar=Ar+Math.imul(un,An)|0,wr=wr+Math.imul(Kr,Nn)|0,Er=(Er=Er+Math.imul(Kr,$n)|0)+Math.imul(Zr,Nn)|0,Ar=Ar+Math.imul(Zr,$n)|0,wr=wr+Math.imul(Xr,gn)|0,Er=(Er=Er+Math.imul(Xr,_n)|0)+Math.imul(Ur,gn)|0,Ar=Ar+Math.imul(Ur,_n)|0;var Ln=($r+(wr=wr+Math.imul(zr,On)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,Un)|0)+Math.imul(Gr,On)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,Un)|0)+(Er>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,wr=Math.imul(rs,gs),Er=(Er=Math.imul(rs,Wn))+Math.imul(ns,gs)|0,Ar=Math.imul(ns,Wn),wr=wr+Math.imul(Sn,Bn)|0,Er=(Er=Er+Math.imul(Sn,ss)|0)+Math.imul(Dn,Bn)|0,Ar=Ar+Math.imul(Dn,ss)|0,wr=wr+Math.imul(yn,vs)|0,Er=(Er=Er+Math.imul(yn,kn)|0)+Math.imul(Rn,vs)|0,Ar=Ar+Math.imul(Rn,kn)|0,wr=wr+Math.imul(on,xa)|0,Er=(Er=Er+Math.imul(on,as)|0)+Math.imul(fn,xa)|0,Ar=Ar+Math.imul(fn,as)|0,wr=wr+Math.imul(Jr,ls)|0,Er=(Er=Er+Math.imul(Jr,An)|0)+Math.imul(nn,ls)|0,Ar=Ar+Math.imul(nn,An)|0,wr=wr+Math.imul(sn,Nn)|0,Er=(Er=Er+Math.imul(sn,$n)|0)+Math.imul(un,Nn)|0,Ar=Ar+Math.imul(un,$n)|0,wr=wr+Math.imul(Kr,gn)|0,Er=(Er=Er+Math.imul(Kr,_n)|0)+Math.imul(Zr,gn)|0,Ar=Ar+Math.imul(Zr,_n)|0,wr=wr+Math.imul(Xr,On)|0,Er=(Er=Er+Math.imul(Xr,Un)|0)+Math.imul(Ur,On)|0,Ar=Ar+Math.imul(Ur,Un)|0;var is=($r+(wr=wr+Math.imul(zr,Kn)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,_i)|0)+Math.imul(Gr,Kn)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,_i)|0)+(Er>>>13)|0)+(is>>>26)|0,is&=67108863,wr=Math.imul(qn,gs),Er=(Er=Math.imul(qn,Wn))+Math.imul(ds,gs)|0,Ar=Math.imul(ds,Wn),wr=wr+Math.imul(rs,Bn)|0,Er=(Er=Er+Math.imul(rs,ss)|0)+Math.imul(ns,Bn)|0,Ar=Ar+Math.imul(ns,ss)|0,wr=wr+Math.imul(Sn,vs)|0,Er=(Er=Er+Math.imul(Sn,kn)|0)+Math.imul(Dn,vs)|0,Ar=Ar+Math.imul(Dn,kn)|0,wr=wr+Math.imul(yn,xa)|0,Er=(Er=Er+Math.imul(yn,as)|0)+Math.imul(Rn,xa)|0,Ar=Ar+Math.imul(Rn,as)|0,wr=wr+Math.imul(on,ls)|0,Er=(Er=Er+Math.imul(on,An)|0)+Math.imul(fn,ls)|0,Ar=Ar+Math.imul(fn,An)|0,wr=wr+Math.imul(Jr,Nn)|0,Er=(Er=Er+Math.imul(Jr,$n)|0)+Math.imul(nn,Nn)|0,Ar=Ar+Math.imul(nn,$n)|0,wr=wr+Math.imul(sn,gn)|0,Er=(Er=Er+Math.imul(sn,_n)|0)+Math.imul(un,gn)|0,Ar=Ar+Math.imul(un,_n)|0,wr=wr+Math.imul(Kr,On)|0,Er=(Er=Er+Math.imul(Kr,Un)|0)+Math.imul(Zr,On)|0,Ar=Ar+Math.imul(Zr,Un)|0,wr=wr+Math.imul(Xr,Kn)|0,Er=(Er=Er+Math.imul(Xr,_i)|0)+Math.imul(Ur,Kn)|0,Ar=Ar+Math.imul(Ur,_i)|0;var ws=($r+(wr=wr+Math.imul(zr,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(zr,Cs)|0)+Math.imul(Gr,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Gr,Cs)|0)+(Er>>>13)|0)+(ws>>>26)|0,ws&=67108863,wr=Math.imul(qn,Bn),Er=(Er=Math.imul(qn,ss))+Math.imul(ds,Bn)|0,Ar=Math.imul(ds,ss),wr=wr+Math.imul(rs,vs)|0,Er=(Er=Er+Math.imul(rs,kn)|0)+Math.imul(ns,vs)|0,Ar=Ar+Math.imul(ns,kn)|0,wr=wr+Math.imul(Sn,xa)|0,Er=(Er=Er+Math.imul(Sn,as)|0)+Math.imul(Dn,xa)|0,Ar=Ar+Math.imul(Dn,as)|0,wr=wr+Math.imul(yn,ls)|0,Er=(Er=Er+Math.imul(yn,An)|0)+Math.imul(Rn,ls)|0,Ar=Ar+Math.imul(Rn,An)|0,wr=wr+Math.imul(on,Nn)|0,Er=(Er=Er+Math.imul(on,$n)|0)+Math.imul(fn,Nn)|0,Ar=Ar+Math.imul(fn,$n)|0,wr=wr+Math.imul(Jr,gn)|0,Er=(Er=Er+Math.imul(Jr,_n)|0)+Math.imul(nn,gn)|0,Ar=Ar+Math.imul(nn,_n)|0,wr=wr+Math.imul(sn,On)|0,Er=(Er=Er+Math.imul(sn,Un)|0)+Math.imul(un,On)|0,Ar=Ar+Math.imul(un,Un)|0,wr=wr+Math.imul(Kr,Kn)|0,Er=(Er=Er+Math.imul(Kr,_i)|0)+Math.imul(Zr,Kn)|0,Ar=Ar+Math.imul(Zr,_i)|0;var As=($r+(wr=wr+Math.imul(Xr,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(Xr,Cs)|0)+Math.imul(Ur,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Ur,Cs)|0)+(Er>>>13)|0)+(As>>>26)|0,As&=67108863,wr=Math.imul(qn,vs),Er=(Er=Math.imul(qn,kn))+Math.imul(ds,vs)|0,Ar=Math.imul(ds,kn),wr=wr+Math.imul(rs,xa)|0,Er=(Er=Er+Math.imul(rs,as)|0)+Math.imul(ns,xa)|0,Ar=Ar+Math.imul(ns,as)|0,wr=wr+Math.imul(Sn,ls)|0,Er=(Er=Er+Math.imul(Sn,An)|0)+Math.imul(Dn,ls)|0,Ar=Ar+Math.imul(Dn,An)|0,wr=wr+Math.imul(yn,Nn)|0,Er=(Er=Er+Math.imul(yn,$n)|0)+Math.imul(Rn,Nn)|0,Ar=Ar+Math.imul(Rn,$n)|0,wr=wr+Math.imul(on,gn)|0,Er=(Er=Er+Math.imul(on,_n)|0)+Math.imul(fn,gn)|0,Ar=Ar+Math.imul(fn,_n)|0,wr=wr+Math.imul(Jr,On)|0,Er=(Er=Er+Math.imul(Jr,Un)|0)+Math.imul(nn,On)|0,Ar=Ar+Math.imul(nn,Un)|0,wr=wr+Math.imul(sn,Kn)|0,Er=(Er=Er+Math.imul(sn,_i)|0)+Math.imul(un,Kn)|0,Ar=Ar+Math.imul(un,_i)|0;var Fs=($r+(wr=wr+Math.imul(Kr,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(Kr,Cs)|0)+Math.imul(Zr,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Zr,Cs)|0)+(Er>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,wr=Math.imul(qn,xa),Er=(Er=Math.imul(qn,as))+Math.imul(ds,xa)|0,Ar=Math.imul(ds,as),wr=wr+Math.imul(rs,ls)|0,Er=(Er=Er+Math.imul(rs,An)|0)+Math.imul(ns,ls)|0,Ar=Ar+Math.imul(ns,An)|0,wr=wr+Math.imul(Sn,Nn)|0,Er=(Er=Er+Math.imul(Sn,$n)|0)+Math.imul(Dn,Nn)|0,Ar=Ar+Math.imul(Dn,$n)|0,wr=wr+Math.imul(yn,gn)|0,Er=(Er=Er+Math.imul(yn,_n)|0)+Math.imul(Rn,gn)|0,Ar=Ar+Math.imul(Rn,_n)|0,wr=wr+Math.imul(on,On)|0,Er=(Er=Er+Math.imul(on,Un)|0)+Math.imul(fn,On)|0,Ar=Ar+Math.imul(fn,Un)|0,wr=wr+Math.imul(Jr,Kn)|0,Er=(Er=Er+Math.imul(Jr,_i)|0)+Math.imul(nn,Kn)|0,Ar=Ar+Math.imul(nn,_i)|0;var ks=($r+(wr=wr+Math.imul(sn,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(sn,Cs)|0)+Math.imul(un,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(un,Cs)|0)+(Er>>>13)|0)+(ks>>>26)|0,ks&=67108863,wr=Math.imul(qn,ls),Er=(Er=Math.imul(qn,An))+Math.imul(ds,ls)|0,Ar=Math.imul(ds,An),wr=wr+Math.imul(rs,Nn)|0,Er=(Er=Er+Math.imul(rs,$n)|0)+Math.imul(ns,Nn)|0,Ar=Ar+Math.imul(ns,$n)|0,wr=wr+Math.imul(Sn,gn)|0,Er=(Er=Er+Math.imul(Sn,_n)|0)+Math.imul(Dn,gn)|0,Ar=Ar+Math.imul(Dn,_n)|0,wr=wr+Math.imul(yn,On)|0,Er=(Er=Er+Math.imul(yn,Un)|0)+Math.imul(Rn,On)|0,Ar=Ar+Math.imul(Rn,Un)|0,wr=wr+Math.imul(on,Kn)|0,Er=(Er=Er+Math.imul(on,_i)|0)+Math.imul(fn,Kn)|0,Ar=Ar+Math.imul(fn,_i)|0;var Os=($r+(wr=wr+Math.imul(Jr,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(Jr,Cs)|0)+Math.imul(nn,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(nn,Cs)|0)+(Er>>>13)|0)+(Os>>>26)|0,Os&=67108863,wr=Math.imul(qn,Nn),Er=(Er=Math.imul(qn,$n))+Math.imul(ds,Nn)|0,Ar=Math.imul(ds,$n),wr=wr+Math.imul(rs,gn)|0,Er=(Er=Er+Math.imul(rs,_n)|0)+Math.imul(ns,gn)|0,Ar=Ar+Math.imul(ns,_n)|0,wr=wr+Math.imul(Sn,On)|0,Er=(Er=Er+Math.imul(Sn,Un)|0)+Math.imul(Dn,On)|0,Ar=Ar+Math.imul(Dn,Un)|0,wr=wr+Math.imul(yn,Kn)|0,Er=(Er=Er+Math.imul(yn,_i)|0)+Math.imul(Rn,Kn)|0,Ar=Ar+Math.imul(Rn,_i)|0;var Js=($r+(wr=wr+Math.imul(on,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(on,Cs)|0)+Math.imul(fn,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(fn,Cs)|0)+(Er>>>13)|0)+(Js>>>26)|0,Js&=67108863,wr=Math.imul(qn,gn),Er=(Er=Math.imul(qn,_n))+Math.imul(ds,gn)|0,Ar=Math.imul(ds,_n),wr=wr+Math.imul(rs,On)|0,Er=(Er=Er+Math.imul(rs,Un)|0)+Math.imul(ns,On)|0,Ar=Ar+Math.imul(ns,Un)|0,wr=wr+Math.imul(Sn,Kn)|0,Er=(Er=Er+Math.imul(Sn,_i)|0)+Math.imul(Dn,Kn)|0,Ar=Ar+Math.imul(Dn,_i)|0;var qs=($r+(wr=wr+Math.imul(yn,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(yn,Cs)|0)+Math.imul(Rn,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Rn,Cs)|0)+(Er>>>13)|0)+(qs>>>26)|0,qs&=67108863,wr=Math.imul(qn,On),Er=(Er=Math.imul(qn,Un))+Math.imul(ds,On)|0,Ar=Math.imul(ds,Un),wr=wr+Math.imul(rs,Kn)|0,Er=(Er=Er+Math.imul(rs,_i)|0)+Math.imul(ns,Kn)|0,Ar=Ar+Math.imul(ns,_i)|0;var Ys=($r+(wr=wr+Math.imul(Sn,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(Sn,Cs)|0)+Math.imul(Dn,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(Dn,Cs)|0)+(Er>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,wr=Math.imul(qn,Kn),Er=(Er=Math.imul(qn,_i))+Math.imul(ds,Kn)|0,Ar=Math.imul(ds,_i);var Us=($r+(wr=wr+Math.imul(rs,xs)|0)|0)+((8191&(Er=(Er=Er+Math.imul(rs,Cs)|0)+Math.imul(ns,xs)|0))<<13)|0;$r=((Ar=Ar+Math.imul(ns,Cs)|0)+(Er>>>13)|0)+(Us>>>26)|0,Us&=67108863;var so=($r+(wr=Math.imul(qn,xs))|0)+((8191&(Er=(Er=Math.imul(qn,Cs))+Math.imul(ds,xs)|0))<<13)|0;return $r=((Ar=Math.imul(ds,Cs))+(Er>>>13)|0)+(so>>>26)|0,so&=67108863,Wr[0]=Rs,Wr[1]=Ls,Wr[2]=Ws,Wr[3]=Xs,Wr[4]=ro,Wr[5]=ao,Wr[6]=_o,Wr[7]=Ln,Wr[8]=is,Wr[9]=ws,Wr[10]=As,Wr[11]=Fs,Wr[12]=ks,Wr[13]=Os,Wr[14]=Js,Wr[15]=qs,Wr[16]=Ys,Wr[17]=Us,Wr[18]=so,$r!==0&&(Wr[19]=$r,jr.length++),jr};function vr(Pr,Mr,jr){return new _r().mulp(Pr,Mr,jr)}function _r(Pr,Mr){this.x=Pr,this.y=Mr}Math.imul||(yr=gr),cr.prototype.mulTo=function(Pr,Mr){var jr=this.length+Pr.length;return this.length===10&&Pr.length===10?yr(this,Pr,Mr):jr<63?gr(this,Pr,Mr):jr<1024?function(wr,Er,Ar){Ar.negative=Er.negative^wr.negative,Ar.length=wr.length+Er.length;for(var Sr=0,Dr=0,Wr=0;Wr<Ar.length-1;Wr++){var $r=Dr;Dr=0;for(var Vr=67108863&Sr,zr=Math.min(Wr,Er.length-1),Gr=Math.max(0,Wr-wr.length+1);Gr<=zr;Gr++){var Fr=Wr-Gr,Xr=(0|wr.words[Fr])*(0|Er.words[Gr]),Ur=67108863&Xr;Vr=67108863&(Ur=Ur+Vr|0),Dr+=($r=($r=$r+(Xr/67108864|0)|0)+(Ur>>>26)|0)>>>26,$r&=67108863}Ar.words[Wr]=Vr,Sr=$r,$r=Dr}return Sr!==0?Ar.words[Wr]=Sr:Ar.length--,Ar.strip()}(this,Pr,Mr):vr(this,Pr,Mr)},_r.prototype.makeRBT=function(Pr){for(var Mr=new Array(Pr),jr=cr.prototype._countBits(Pr)-1,wr=0;wr<Pr;wr++)Mr[wr]=this.revBin(wr,jr,Pr);return Mr},_r.prototype.revBin=function(Pr,Mr,jr){if(Pr===0||Pr===jr-1)return Pr;for(var wr=0,Er=0;Er<Mr;Er++)wr|=(1&Pr)<<Mr-Er-1,Pr>>=1;return wr},_r.prototype.permute=function(Pr,Mr,jr,wr,Er,Ar){for(var Sr=0;Sr<Ar;Sr++)wr[Sr]=Mr[Pr[Sr]],Er[Sr]=jr[Pr[Sr]]},_r.prototype.transform=function(Pr,Mr,jr,wr,Er,Ar){this.permute(Ar,Pr,Mr,jr,wr,Er);for(var Sr=1;Sr<Er;Sr<<=1)for(var Dr=Sr<<1,Wr=Math.cos(2*Math.PI/Dr),$r=Math.sin(2*Math.PI/Dr),Vr=0;Vr<Er;Vr+=Dr)for(var zr=Wr,Gr=$r,Fr=0;Fr<Sr;Fr++){var Xr=jr[Vr+Fr],Ur=wr[Vr+Fr],Br=jr[Vr+Fr+Sr],Kr=wr[Vr+Fr+Sr],Zr=zr*Br-Gr*Kr;Kr=zr*Kr+Gr*Br,Br=Zr,jr[Vr+Fr]=Xr+Br,wr[Vr+Fr]=Ur+Kr,jr[Vr+Fr+Sr]=Xr-Br,wr[Vr+Fr+Sr]=Ur-Kr,Fr!==Dr&&(Zr=Wr*zr-$r*Gr,Gr=Wr*Gr+$r*zr,zr=Zr)}},_r.prototype.guessLen13b=function(Pr,Mr){var jr=1|Math.max(Mr,Pr),wr=1&jr,Er=0;for(jr=jr/2|0;jr;jr>>>=1)Er++;return 1<<Er+1+wr},_r.prototype.conjugate=function(Pr,Mr,jr){if(!(jr<=1))for(var wr=0;wr<jr/2;wr++){var Er=Pr[wr];Pr[wr]=Pr[jr-wr-1],Pr[jr-wr-1]=Er,Er=Mr[wr],Mr[wr]=-Mr[jr-wr-1],Mr[jr-wr-1]=-Er}},_r.prototype.normalize13b=function(Pr,Mr){for(var jr=0,wr=0;wr<Mr/2;wr++){var Er=8192*Math.round(Pr[2*wr+1]/Mr)+Math.round(Pr[2*wr]/Mr)+jr;Pr[wr]=67108863&Er,jr=Er<67108864?0:Er/67108864|0}return Pr},_r.prototype.convert13b=function(Pr,Mr,jr,wr){for(var Er=0,Ar=0;Ar<Mr;Ar++)Er+=0|Pr[Ar],jr[2*Ar]=8191&Er,Er>>>=13,jr[2*Ar+1]=8191&Er,Er>>>=13;for(Ar=2*Mr;Ar<wr;++Ar)jr[Ar]=0;lr(Er===0),lr((-8192&Er)==0)},_r.prototype.stub=function(Pr){for(var Mr=new Array(Pr),jr=0;jr<Pr;jr++)Mr[jr]=0;return Mr},_r.prototype.mulp=function(Pr,Mr,jr){var wr=2*this.guessLen13b(Pr.length,Mr.length),Er=this.makeRBT(wr),Ar=this.stub(wr),Sr=new Array(wr),Dr=new Array(wr),Wr=new Array(wr),$r=new Array(wr),Vr=new Array(wr),zr=new Array(wr),Gr=jr.words;Gr.length=wr,this.convert13b(Pr.words,Pr.length,Sr,wr),this.convert13b(Mr.words,Mr.length,$r,wr),this.transform(Sr,Ar,Dr,Wr,wr,Er),this.transform($r,Ar,Vr,zr,wr,Er);for(var Fr=0;Fr<wr;Fr++){var Xr=Dr[Fr]*Vr[Fr]-Wr[Fr]*zr[Fr];Wr[Fr]=Dr[Fr]*zr[Fr]+Wr[Fr]*Vr[Fr],Dr[Fr]=Xr}return this.conjugate(Dr,Wr,wr),this.transform(Dr,Wr,Gr,Ar,wr,Er),this.conjugate(Gr,Ar,wr),this.normalize13b(Gr,wr),jr.negative=Pr.negative^Mr.negative,jr.length=Pr.length+Mr.length,jr.strip()},cr.prototype.mul=function(Pr){var Mr=new cr(null);return Mr.words=new Array(this.length+Pr.length),this.mulTo(Pr,Mr)},cr.prototype.mulf=function(Pr){var Mr=new cr(null);return Mr.words=new Array(this.length+Pr.length),vr(this,Pr,Mr)},cr.prototype.imul=function(Pr){return this.clone().mulTo(Pr,this)},cr.prototype.imuln=function(Pr){lr(typeof Pr=="number"),lr(Pr<67108864);for(var Mr=0,jr=0;jr<this.length;jr++){var wr=(0|this.words[jr])*Pr,Er=(67108863&wr)+(67108863&Mr);Mr>>=26,Mr+=wr/67108864|0,Mr+=Er>>>26,this.words[jr]=67108863&Er}return Mr!==0&&(this.words[jr]=Mr,this.length++),this},cr.prototype.muln=function(Pr){return this.clone().imuln(Pr)},cr.prototype.sqr=function(){return this.mul(this)},cr.prototype.isqr=function(){return this.imul(this.clone())},cr.prototype.pow=function(Pr){var Mr=function(Ar){for(var Sr=new Array(Ar.bitLength()),Dr=0;Dr<Sr.length;Dr++){var Wr=Dr/26|0,$r=Dr%26;Sr[Dr]=(Ar.words[Wr]&1<<$r)>>>$r}return Sr}(Pr);if(Mr.length===0)return new cr(1);for(var jr=this,wr=0;wr<Mr.length&&Mr[wr]===0;wr++,jr=jr.sqr());if(++wr<Mr.length)for(var Er=jr.sqr();wr<Mr.length;wr++,Er=Er.sqr())Mr[wr]!==0&&(jr=jr.mul(Er));return jr},cr.prototype.iushln=function(Pr){lr(typeof Pr=="number"&&Pr>=0);var Mr,jr=Pr%26,wr=(Pr-jr)/26,Er=67108863>>>26-jr<<26-jr;if(jr!==0){var Ar=0;for(Mr=0;Mr<this.length;Mr++){var Sr=this.words[Mr]&Er,Dr=(0|this.words[Mr])-Sr<<jr;this.words[Mr]=Dr|Ar,Ar=Sr>>>26-jr}Ar&&(this.words[Mr]=Ar,this.length++)}if(wr!==0){for(Mr=this.length-1;Mr>=0;Mr--)this.words[Mr+wr]=this.words[Mr];for(Mr=0;Mr<wr;Mr++)this.words[Mr]=0;this.length+=wr}return this.strip()},cr.prototype.ishln=function(Pr){return lr(this.negative===0),this.iushln(Pr)},cr.prototype.iushrn=function(Pr,Mr,jr){var wr;lr(typeof Pr=="number"&&Pr>=0),wr=Mr?(Mr-Mr%26)/26:0;var Er=Pr%26,Ar=Math.min((Pr-Er)/26,this.length),Sr=67108863^67108863>>>Er<<Er,Dr=jr;if(wr-=Ar,wr=Math.max(0,wr),Dr){for(var Wr=0;Wr<Ar;Wr++)Dr.words[Wr]=this.words[Wr];Dr.length=Ar}if(Ar!==0)if(this.length>Ar)for(this.length-=Ar,Wr=0;Wr<this.length;Wr++)this.words[Wr]=this.words[Wr+Ar];else this.words[0]=0,this.length=1;var $r=0;for(Wr=this.length-1;Wr>=0&&($r!==0||Wr>=wr);Wr--){var Vr=0|this.words[Wr];this.words[Wr]=$r<<26-Er|Vr>>>Er,$r=Vr&Sr}return Dr&&$r!==0&&(Dr.words[Dr.length++]=$r),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},cr.prototype.ishrn=function(Pr,Mr,jr){return lr(this.negative===0),this.iushrn(Pr,Mr,jr)},cr.prototype.shln=function(Pr){return this.clone().ishln(Pr)},cr.prototype.ushln=function(Pr){return this.clone().iushln(Pr)},cr.prototype.shrn=function(Pr){return this.clone().ishrn(Pr)},cr.prototype.ushrn=function(Pr){return this.clone().iushrn(Pr)},cr.prototype.testn=function(Pr){lr(typeof Pr=="number"&&Pr>=0);var Mr=Pr%26,jr=(Pr-Mr)/26,wr=1<<Mr;return!(this.length<=jr)&&!!(this.words[jr]&wr)},cr.prototype.imaskn=function(Pr){lr(typeof Pr=="number"&&Pr>=0);var Mr=Pr%26,jr=(Pr-Mr)/26;if(lr(this.negative===0,"imaskn works only with positive numbers"),this.length<=jr)return this;if(Mr!==0&&jr++,this.length=Math.min(jr,this.length),Mr!==0){var wr=67108863^67108863>>>Mr<<Mr;this.words[this.length-1]&=wr}return this.strip()},cr.prototype.maskn=function(Pr){return this.clone().imaskn(Pr)},cr.prototype.iaddn=function(Pr){return lr(typeof Pr=="number"),lr(Pr<67108864),Pr<0?this.isubn(-Pr):this.negative!==0?this.length===1&&(0|this.words[0])<Pr?(this.words[0]=Pr-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(Pr),this.negative=1,this):this._iaddn(Pr)},cr.prototype._iaddn=function(Pr){this.words[0]+=Pr;for(var Mr=0;Mr<this.length&&this.words[Mr]>=67108864;Mr++)this.words[Mr]-=67108864,Mr===this.length-1?this.words[Mr+1]=1:this.words[Mr+1]++;return this.length=Math.max(this.length,Mr+1),this},cr.prototype.isubn=function(Pr){if(lr(typeof Pr=="number"),lr(Pr<67108864),Pr<0)return this.iaddn(-Pr);if(this.negative!==0)return this.negative=0,this.iaddn(Pr),this.negative=1,this;if(this.words[0]-=Pr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Mr=0;Mr<this.length&&this.words[Mr]<0;Mr++)this.words[Mr]+=67108864,this.words[Mr+1]-=1;return this.strip()},cr.prototype.addn=function(Pr){return this.clone().iaddn(Pr)},cr.prototype.subn=function(Pr){return this.clone().isubn(Pr)},cr.prototype.iabs=function(){return this.negative=0,this},cr.prototype.abs=function(){return this.clone().iabs()},cr.prototype._ishlnsubmul=function(Pr,Mr,jr){var wr,Er,Ar=Pr.length+jr;this._expand(Ar);var Sr=0;for(wr=0;wr<Pr.length;wr++){Er=(0|this.words[wr+jr])+Sr;var Dr=(0|Pr.words[wr])*Mr;Sr=((Er-=67108863&Dr)>>26)-(Dr/67108864|0),this.words[wr+jr]=67108863&Er}for(;wr<this.length-jr;wr++)Sr=(Er=(0|this.words[wr+jr])+Sr)>>26,this.words[wr+jr]=67108863&Er;if(Sr===0)return this.strip();for(lr(Sr===-1),Sr=0,wr=0;wr<this.length;wr++)Sr=(Er=-(0|this.words[wr])+Sr)>>26,this.words[wr]=67108863&Er;return this.negative=1,this.strip()},cr.prototype._wordDiv=function(Pr,Mr){var jr=(this.length,Pr.length),wr=this.clone(),Er=Pr,Ar=0|Er.words[Er.length-1];(jr=26-this._countBits(Ar))!==0&&(Er=Er.ushln(jr),wr.iushln(jr),Ar=0|Er.words[Er.length-1]);var Sr,Dr=wr.length-Er.length;if(Mr!=="mod"){(Sr=new cr(null)).length=Dr+1,Sr.words=new Array(Sr.length);for(var Wr=0;Wr<Sr.length;Wr++)Sr.words[Wr]=0}var $r=wr.clone()._ishlnsubmul(Er,1,Dr);$r.negative===0&&(wr=$r,Sr&&(Sr.words[Dr]=1));for(var Vr=Dr-1;Vr>=0;Vr--){var zr=67108864*(0|wr.words[Er.length+Vr])+(0|wr.words[Er.length+Vr-1]);for(zr=Math.min(zr/Ar|0,67108863),wr._ishlnsubmul(Er,zr,Vr);wr.negative!==0;)zr--,wr.negative=0,wr._ishlnsubmul(Er,1,Vr),wr.isZero()||(wr.negative^=1);Sr&&(Sr.words[Vr]=zr)}return Sr&&Sr.strip(),wr.strip(),Mr!=="div"&&jr!==0&&wr.iushrn(jr),{div:Sr||null,mod:wr}},cr.prototype.divmod=function(Pr,Mr,jr){return lr(!Pr.isZero()),this.isZero()?{div:new cr(0),mod:new cr(0)}:this.negative!==0&&Pr.negative===0?(Ar=this.neg().divmod(Pr,Mr),Mr!=="mod"&&(wr=Ar.div.neg()),Mr!=="div"&&(Er=Ar.mod.neg(),jr&&Er.negative!==0&&Er.iadd(Pr)),{div:wr,mod:Er}):this.negative===0&&Pr.negative!==0?(Ar=this.divmod(Pr.neg(),Mr),Mr!=="mod"&&(wr=Ar.div.neg()),{div:wr,mod:Ar.mod}):this.negative&Pr.negative?(Ar=this.neg().divmod(Pr.neg(),Mr),Mr!=="div"&&(Er=Ar.mod.neg(),jr&&Er.negative!==0&&Er.isub(Pr)),{div:Ar.div,mod:Er}):Pr.length>this.length||this.cmp(Pr)<0?{div:new cr(0),mod:this}:Pr.length===1?Mr==="div"?{div:this.divn(Pr.words[0]),mod:null}:Mr==="mod"?{div:null,mod:new cr(this.modn(Pr.words[0]))}:{div:this.divn(Pr.words[0]),mod:new cr(this.modn(Pr.words[0]))}:this._wordDiv(Pr,Mr);var wr,Er,Ar},cr.prototype.div=function(Pr){return this.divmod(Pr,"div",!1).div},cr.prototype.mod=function(Pr){return this.divmod(Pr,"mod",!1).mod},cr.prototype.umod=function(Pr){return this.divmod(Pr,"mod",!0).mod},cr.prototype.divRound=function(Pr){var Mr=this.divmod(Pr);if(Mr.mod.isZero())return Mr.div;var jr=Mr.div.negative!==0?Mr.mod.isub(Pr):Mr.mod,wr=Pr.ushrn(1),Er=Pr.andln(1),Ar=jr.cmp(wr);return Ar<0||Er===1&&Ar===0?Mr.div:Mr.div.negative!==0?Mr.div.isubn(1):Mr.div.iaddn(1)},cr.prototype.modn=function(Pr){lr(Pr<=67108863);for(var Mr=(1<<26)%Pr,jr=0,wr=this.length-1;wr>=0;wr--)jr=(Mr*jr+(0|this.words[wr]))%Pr;return jr},cr.prototype.idivn=function(Pr){lr(Pr<=67108863);for(var Mr=0,jr=this.length-1;jr>=0;jr--){var wr=(0|this.words[jr])+67108864*Mr;this.words[jr]=wr/Pr|0,Mr=wr%Pr}return this.strip()},cr.prototype.divn=function(Pr){return this.clone().idivn(Pr)},cr.prototype.egcd=function(Pr){lr(Pr.negative===0),lr(!Pr.isZero());var Mr=this,jr=Pr.clone();Mr=Mr.negative!==0?Mr.umod(Pr):Mr.clone();for(var wr=new cr(1),Er=new cr(0),Ar=new cr(0),Sr=new cr(1),Dr=0;Mr.isEven()&&jr.isEven();)Mr.iushrn(1),jr.iushrn(1),++Dr;for(var Wr=jr.clone(),$r=Mr.clone();!Mr.isZero();){for(var Vr=0,zr=1;!(Mr.words[0]&zr)&&Vr<26;++Vr,zr<<=1);if(Vr>0)for(Mr.iushrn(Vr);Vr-- >0;)(wr.isOdd()||Er.isOdd())&&(wr.iadd(Wr),Er.isub($r)),wr.iushrn(1),Er.iushrn(1);for(var Gr=0,Fr=1;!(jr.words[0]&Fr)&&Gr<26;++Gr,Fr<<=1);if(Gr>0)for(jr.iushrn(Gr);Gr-- >0;)(Ar.isOdd()||Sr.isOdd())&&(Ar.iadd(Wr),Sr.isub($r)),Ar.iushrn(1),Sr.iushrn(1);Mr.cmp(jr)>=0?(Mr.isub(jr),wr.isub(Ar),Er.isub(Sr)):(jr.isub(Mr),Ar.isub(wr),Sr.isub(Er))}return{a:Ar,b:Sr,gcd:jr.iushln(Dr)}},cr.prototype._invmp=function(Pr){lr(Pr.negative===0),lr(!Pr.isZero());var Mr=this,jr=Pr.clone();Mr=Mr.negative!==0?Mr.umod(Pr):Mr.clone();for(var wr,Er=new cr(1),Ar=new cr(0),Sr=jr.clone();Mr.cmpn(1)>0&&jr.cmpn(1)>0;){for(var Dr=0,Wr=1;!(Mr.words[0]&Wr)&&Dr<26;++Dr,Wr<<=1);if(Dr>0)for(Mr.iushrn(Dr);Dr-- >0;)Er.isOdd()&&Er.iadd(Sr),Er.iushrn(1);for(var $r=0,Vr=1;!(jr.words[0]&Vr)&&$r<26;++$r,Vr<<=1);if($r>0)for(jr.iushrn($r);$r-- >0;)Ar.isOdd()&&Ar.iadd(Sr),Ar.iushrn(1);Mr.cmp(jr)>=0?(Mr.isub(jr),Er.isub(Ar)):(jr.isub(Mr),Ar.isub(Er))}return(wr=Mr.cmpn(1)===0?Er:Ar).cmpn(0)<0&&wr.iadd(Pr),wr},cr.prototype.gcd=function(Pr){if(this.isZero())return Pr.abs();if(Pr.isZero())return this.abs();var Mr=this.clone(),jr=Pr.clone();Mr.negative=0,jr.negative=0;for(var wr=0;Mr.isEven()&&jr.isEven();wr++)Mr.iushrn(1),jr.iushrn(1);for(;;){for(;Mr.isEven();)Mr.iushrn(1);for(;jr.isEven();)jr.iushrn(1);var Er=Mr.cmp(jr);if(Er<0){var Ar=Mr;Mr=jr,jr=Ar}else if(Er===0||jr.cmpn(1)===0)break;Mr.isub(jr)}return jr.iushln(wr)},cr.prototype.invm=function(Pr){return this.egcd(Pr).a.umod(Pr)},cr.prototype.isEven=function(){return(1&this.words[0])==0},cr.prototype.isOdd=function(){return(1&this.words[0])==1},cr.prototype.andln=function(Pr){return this.words[0]&Pr},cr.prototype.bincn=function(Pr){lr(typeof Pr=="number");var Mr=Pr%26,jr=(Pr-Mr)/26,wr=1<<Mr;if(this.length<=jr)return this._expand(jr+1),this.words[jr]|=wr,this;for(var Er=wr,Ar=jr;Er!==0&&Ar<this.length;Ar++){var Sr=0|this.words[Ar];Er=(Sr+=Er)>>>26,Sr&=67108863,this.words[Ar]=Sr}return Er!==0&&(this.words[Ar]=Er,this.length++),this},cr.prototype.isZero=function(){return this.length===1&&this.words[0]===0},cr.prototype.cmpn=function(Pr){var Mr,jr=Pr<0;if(this.negative!==0&&!jr)return-1;if(this.negative===0&&jr)return 1;if(this.strip(),this.length>1)Mr=1;else{jr&&(Pr=-Pr),lr(Pr<=67108863,"Number is too big");var wr=0|this.words[0];Mr=wr===Pr?0:wr<Pr?-1:1}return this.negative!==0?0|-Mr:Mr},cr.prototype.cmp=function(Pr){if(this.negative!==0&&Pr.negative===0)return-1;if(this.negative===0&&Pr.negative!==0)return 1;var Mr=this.ucmp(Pr);return this.negative!==0?0|-Mr:Mr},cr.prototype.ucmp=function(Pr){if(this.length>Pr.length)return 1;if(this.length<Pr.length)return-1;for(var Mr=0,jr=this.length-1;jr>=0;jr--){var wr=0|this.words[jr],Er=0|Pr.words[jr];if(wr!==Er){wr<Er?Mr=-1:wr>Er&&(Mr=1);break}}return Mr},cr.prototype.gtn=function(Pr){return this.cmpn(Pr)===1},cr.prototype.gt=function(Pr){return this.cmp(Pr)===1},cr.prototype.gten=function(Pr){return this.cmpn(Pr)>=0},cr.prototype.gte=function(Pr){return this.cmp(Pr)>=0},cr.prototype.ltn=function(Pr){return this.cmpn(Pr)===-1},cr.prototype.lt=function(Pr){return this.cmp(Pr)===-1},cr.prototype.lten=function(Pr){return this.cmpn(Pr)<=0},cr.prototype.lte=function(Pr){return this.cmp(Pr)<=0},cr.prototype.eqn=function(Pr){return this.cmpn(Pr)===0},cr.prototype.eq=function(Pr){return this.cmp(Pr)===0},cr.red=function(Pr){return new Nr(Pr)},cr.prototype.toRed=function(Pr){return lr(!this.red,"Already a number in reduction context"),lr(this.negative===0,"red works only with positives"),Pr.convertTo(this)._forceRed(Pr)},cr.prototype.fromRed=function(){return lr(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},cr.prototype._forceRed=function(Pr){return this.red=Pr,this},cr.prototype.forceRed=function(Pr){return lr(!this.red,"Already a number in reduction context"),this._forceRed(Pr)},cr.prototype.redAdd=function(Pr){return lr(this.red,"redAdd works only with red numbers"),this.red.add(this,Pr)},cr.prototype.redIAdd=function(Pr){return lr(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pr)},cr.prototype.redSub=function(Pr){return lr(this.red,"redSub works only with red numbers"),this.red.sub(this,Pr)},cr.prototype.redISub=function(Pr){return lr(this.red,"redISub works only with red numbers"),this.red.isub(this,Pr)},cr.prototype.redShl=function(Pr){return lr(this.red,"redShl works only with red numbers"),this.red.shl(this,Pr)},cr.prototype.redMul=function(Pr){return lr(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pr),this.red.mul(this,Pr)},cr.prototype.redIMul=function(Pr){return lr(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pr),this.red.imul(this,Pr)},cr.prototype.redSqr=function(){return lr(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},cr.prototype.redISqr=function(){return lr(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},cr.prototype.redSqrt=function(){return lr(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},cr.prototype.redInvm=function(){return lr(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},cr.prototype.redNeg=function(){return lr(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},cr.prototype.redPow=function(Pr){return lr(this.red&&!Pr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pr)};var xr={k256:null,p224:null,p192:null,p25519:null};function Rr(Pr,Mr){this.name=Pr,this.p=new cr(Mr,16),this.n=this.p.bitLength(),this.k=new cr(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Cr(){Rr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Tr(){Rr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ir(){Rr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Lr(){Rr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Nr(Pr){if(typeof Pr=="string"){var Mr=cr._prime(Pr);this.m=Mr.p,this.prime=Mr}else lr(Pr.gtn(1),"modulus must be greater than 1"),this.m=Pr,this.prime=null}function Or(Pr){Nr.call(this,Pr),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new cr(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Rr.prototype._tmp=function(){var Pr=new cr(null);return Pr.words=new Array(Math.ceil(this.n/13)),Pr},Rr.prototype.ireduce=function(Pr){var Mr,jr=Pr;do this.split(jr,this.tmp),Mr=(jr=(jr=this.imulK(jr)).iadd(this.tmp)).bitLength();while(Mr>this.n);var wr=Mr<this.n?-1:jr.ucmp(this.p);return wr===0?(jr.words[0]=0,jr.length=1):wr>0?jr.isub(this.p):jr.strip!==void 0?jr.strip():jr._strip(),jr},Rr.prototype.split=function(Pr,Mr){Pr.iushrn(this.n,0,Mr)},Rr.prototype.imulK=function(Pr){return Pr.imul(this.k)},or(Cr,Rr),Cr.prototype.split=function(Pr,Mr){for(var jr=Math.min(Pr.length,9),wr=0;wr<jr;wr++)Mr.words[wr]=Pr.words[wr];if(Mr.length=jr,Pr.length<=9)return Pr.words[0]=0,void(Pr.length=1);var Er=Pr.words[9];for(Mr.words[Mr.length++]=4194303&Er,wr=10;wr<Pr.length;wr++){var Ar=0|Pr.words[wr];Pr.words[wr-10]=(4194303&Ar)<<4|Er>>>22,Er=Ar}Er>>>=22,Pr.words[wr-10]=Er,Er===0&&Pr.length>10?Pr.length-=10:Pr.length-=9},Cr.prototype.imulK=function(Pr){Pr.words[Pr.length]=0,Pr.words[Pr.length+1]=0,Pr.length+=2;for(var Mr=0,jr=0;jr<Pr.length;jr++){var wr=0|Pr.words[jr];Mr+=977*wr,Pr.words[jr]=67108863&Mr,Mr=64*wr+(Mr/67108864|0)}return Pr.words[Pr.length-1]===0&&(Pr.length--,Pr.words[Pr.length-1]===0&&Pr.length--),Pr},or(Tr,Rr),or(Ir,Rr),or(Lr,Rr),Lr.prototype.imulK=function(Pr){for(var Mr=0,jr=0;jr<Pr.length;jr++){var wr=19*(0|Pr.words[jr])+Mr,Er=67108863&wr;wr>>>=26,Pr.words[jr]=Er,Mr=wr}return Mr!==0&&(Pr.words[Pr.length++]=Mr),Pr},cr._prime=function(Pr){if(xr[Pr])return xr[Pr];var Mr;if(Pr==="k256")Mr=new Cr;else if(Pr==="p224")Mr=new Tr;else if(Pr==="p192")Mr=new Ir;else{if(Pr!=="p25519")throw new Error("Unknown prime "+Pr);Mr=new Lr}return xr[Pr]=Mr,Mr},Nr.prototype._verify1=function(Pr){lr(Pr.negative===0,"red works only with positives"),lr(Pr.red,"red works only with red numbers")},Nr.prototype._verify2=function(Pr,Mr){lr((Pr.negative|Mr.negative)==0,"red works only with positives"),lr(Pr.red&&Pr.red===Mr.red,"red works only with red numbers")},Nr.prototype.imod=function(Pr){return this.prime?this.prime.ireduce(Pr)._forceRed(this):Pr.umod(this.m)._forceRed(this)},Nr.prototype.neg=function(Pr){return Pr.isZero()?Pr.clone():this.m.sub(Pr)._forceRed(this)},Nr.prototype.add=function(Pr,Mr){this._verify2(Pr,Mr);var jr=Pr.add(Mr);return jr.cmp(this.m)>=0&&jr.isub(this.m),jr._forceRed(this)},Nr.prototype.iadd=function(Pr,Mr){this._verify2(Pr,Mr);var jr=Pr.iadd(Mr);return jr.cmp(this.m)>=0&&jr.isub(this.m),jr},Nr.prototype.sub=function(Pr,Mr){this._verify2(Pr,Mr);var jr=Pr.sub(Mr);return jr.cmpn(0)<0&&jr.iadd(this.m),jr._forceRed(this)},Nr.prototype.isub=function(Pr,Mr){this._verify2(Pr,Mr);var jr=Pr.isub(Mr);return jr.cmpn(0)<0&&jr.iadd(this.m),jr},Nr.prototype.shl=function(Pr,Mr){return this._verify1(Pr),this.imod(Pr.ushln(Mr))},Nr.prototype.imul=function(Pr,Mr){return this._verify2(Pr,Mr),this.imod(Pr.imul(Mr))},Nr.prototype.mul=function(Pr,Mr){return this._verify2(Pr,Mr),this.imod(Pr.mul(Mr))},Nr.prototype.isqr=function(Pr){return this.imul(Pr,Pr.clone())},Nr.prototype.sqr=function(Pr){return this.mul(Pr,Pr)},Nr.prototype.sqrt=function(Pr){if(Pr.isZero())return Pr.clone();var Mr=this.m.andln(3);if(lr(Mr%2==1),Mr===3){var jr=this.m.add(new cr(1)).iushrn(2);return this.pow(Pr,jr)}for(var wr=this.m.subn(1),Er=0;!wr.isZero()&&wr.andln(1)===0;)Er++,wr.iushrn(1);lr(!wr.isZero());var Ar=new cr(1).toRed(this),Sr=Ar.redNeg(),Dr=this.m.subn(1).iushrn(1),Wr=this.m.bitLength();for(Wr=new cr(2*Wr*Wr).toRed(this);this.pow(Wr,Dr).cmp(Sr)!==0;)Wr.redIAdd(Sr);for(var $r=this.pow(Wr,wr),Vr=this.pow(Pr,wr.addn(1).iushrn(1)),zr=this.pow(Pr,wr),Gr=Er;zr.cmp(Ar)!==0;){for(var Fr=zr,Xr=0;Fr.cmp(Ar)!==0;Xr++)Fr=Fr.redSqr();lr(Xr<Gr);var Ur=this.pow($r,new cr(1).iushln(Gr-Xr-1));Vr=Vr.redMul(Ur),$r=Ur.redSqr(),zr=zr.redMul($r),Gr=Xr}return Vr},Nr.prototype.invm=function(Pr){var Mr=Pr._invmp(this.m);return Mr.negative!==0?(Mr.negative=0,this.imod(Mr).redNeg()):this.imod(Mr)},Nr.prototype.pow=function(Pr,Mr){if(Mr.isZero())return new cr(1).toRed(this);if(Mr.cmpn(1)===0)return Pr.clone();var jr=new Array(16);jr[0]=new cr(1).toRed(this),jr[1]=Pr;for(var wr=2;wr<jr.length;wr++)jr[wr]=this.mul(jr[wr-1],Pr);var Er=jr[0],Ar=0,Sr=0,Dr=Mr.bitLength()%26;for(Dr===0&&(Dr=26),wr=Mr.length-1;wr>=0;wr--){for(var Wr=Mr.words[wr],$r=Dr-1;$r>=0;$r--){var Vr=Wr>>$r&1;Er!==jr[0]&&(Er=this.sqr(Er)),Vr!==0||Ar!==0?(Ar<<=1,Ar|=Vr,(++Sr===4||wr===0&&$r===0)&&(Er=this.mul(Er,jr[Ar]),Sr=0,Ar=0)):Sr=0}Dr=26}return Er},Nr.prototype.convertTo=function(Pr){var Mr=Pr.umod(this.m);return Mr===Pr?Mr.clone():Mr},Nr.prototype.convertFrom=function(Pr){var Mr=Pr.clone();return Mr.red=null,Mr},cr.mont=function(Pr){return new Or(Pr)},or(Or,Nr),Or.prototype.convertTo=function(Pr){return this.imod(Pr.ushln(this.shift))},Or.prototype.convertFrom=function(Pr){var Mr=this.imod(Pr.mul(this.rinv));return Mr.red=null,Mr},Or.prototype.imul=function(Pr,Mr){if(Pr.isZero()||Mr.isZero())return Pr.words[0]=0,Pr.length=1,Pr;var jr=Pr.imul(Mr),wr=jr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Er=jr.isub(wr).iushrn(this.shift),Ar=Er;return Er.cmp(this.m)>=0?Ar=Er.isub(this.m):Er.cmpn(0)<0&&(Ar=Er.iadd(this.m)),Ar._forceRed(this)},Or.prototype.mul=function(Pr,Mr){if(Pr.isZero()||Mr.isZero())return new cr(0)._forceRed(this);var jr=Pr.mul(Mr),wr=jr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Er=jr.isub(wr).iushrn(this.shift),Ar=Er;return Er.cmp(this.m)>=0?Ar=Er.isub(this.m):Er.cmpn(0)<0&&(Ar=Er.iadd(this.m)),Ar._forceRed(this)},Or.prototype.invm=function(Pr){return this.imod(Pr._invmp(this.m).mul(this.r2))._forceRed(this)}})(nr===void 0||nr)},{buffer:188}],185:[function(rr,nr,ir){ir.byteLength=function(fr){var mr=dr(fr),br=mr[0],pr=mr[1];return 3*(br+pr)/4-pr},ir.toByteArray=function(fr){var mr,br,pr=dr(fr),gr=pr[0],yr=pr[1],vr=new lr(function(Rr,Cr,Tr){return 3*(Cr+Tr)/4-Tr}(0,gr,yr)),_r=0,xr=yr>0?gr-4:gr;for(br=0;br<xr;br+=4)mr=sr[fr.charCodeAt(br)]<<18|sr[fr.charCodeAt(br+1)]<<12|sr[fr.charCodeAt(br+2)]<<6|sr[fr.charCodeAt(br+3)],vr[_r++]=mr>>16&255,vr[_r++]=mr>>8&255,vr[_r++]=255&mr;return yr===2&&(mr=sr[fr.charCodeAt(br)]<<2|sr[fr.charCodeAt(br+1)]>>4,vr[_r++]=255&mr),yr===1&&(mr=sr[fr.charCodeAt(br)]<<10|sr[fr.charCodeAt(br+1)]<<4|sr[fr.charCodeAt(br+2)]>>2,vr[_r++]=mr>>8&255,vr[_r++]=255&mr),vr},ir.fromByteArray=function(fr){for(var mr,br=fr.length,pr=br%3,gr=[],yr=0,vr=br-pr;yr<vr;yr+=16383)gr.push(hr(fr,yr,yr+16383>vr?vr:yr+16383));return pr===1?(mr=fr[br-1],gr.push(ar[mr>>2]+ar[mr<<4&63]+"==")):pr===2&&(mr=(fr[br-2]<<8)+fr[br-1],gr.push(ar[mr>>10]+ar[mr>>4&63]+ar[mr<<2&63]+"=")),gr.join("")};for(var ar=[],sr=[],lr=typeof Uint8Array<"u"?Uint8Array:Array,or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cr=0,ur=or.length;cr<ur;++cr)ar[cr]=or[cr],sr[or.charCodeAt(cr)]=cr;function dr(fr){var mr=fr.length;if(mr%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var br=fr.indexOf("=");return br===-1&&(br=mr),[br,br===mr?0:4-br%4]}function hr(fr,mr,br){for(var pr,gr,yr=[],vr=mr;vr<br;vr+=3)pr=(fr[vr]<<16&16711680)+(fr[vr+1]<<8&65280)+(255&fr[vr+2]),yr.push(ar[(gr=pr)>>18&63]+ar[gr>>12&63]+ar[gr>>6&63]+ar[63&gr]);return yr.join("")}sr[45]=62,sr[95]=63},{}],186:[function(rr,nr,ir){(function(ar,sr){function lr(jr,wr){if(!jr)throw new Error(wr||"Assertion failed")}function or(jr,wr){jr.super_=wr;var Er=function(){};Er.prototype=wr.prototype,jr.prototype=new Er,jr.prototype.constructor=jr}function cr(jr,wr,Er){if(cr.isBN(jr))return jr;this.negative=0,this.words=null,this.length=0,this.red=null,jr!==null&&(wr!=="le"&&wr!=="be"||(Er=wr,wr=10),this._init(jr||0,wr||10,Er||"be"))}var ur;typeof ar=="object"?ar.exports=cr:(void 0).BN=cr,cr.BN=cr,cr.wordSize=26;try{ur=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:rr("buffer").Buffer}catch{}function dr(jr,wr){var Er=jr.charCodeAt(wr);return Er>=48&&Er<=57?Er-48:Er>=65&&Er<=70?Er-55:Er>=97&&Er<=102?Er-87:void lr(!1,"Invalid character in "+jr)}function hr(jr,wr,Er){var Ar=dr(jr,Er);return Er-1>=wr&&(Ar|=dr(jr,Er-1)<<4),Ar}function fr(jr,wr,Er,Ar){for(var Sr=0,Dr=0,Wr=Math.min(jr.length,Er),$r=wr;$r<Wr;$r++){var Vr=jr.charCodeAt($r)-48;Sr*=Ar,Dr=Vr>=49?Vr-49+10:Vr>=17?Vr-17+10:Vr,lr(Vr>=0&&Dr<Ar,"Invalid character"),Sr+=Dr}return Sr}function mr(jr,wr){jr.words=wr.words,jr.length=wr.length,jr.negative=wr.negative,jr.red=wr.red}if(cr.isBN=function(jr){return jr instanceof cr||jr!==null&&typeof jr=="object"&&jr.constructor.wordSize===cr.wordSize&&Array.isArray(jr.words)},cr.max=function(jr,wr){return jr.cmp(wr)>0?jr:wr},cr.min=function(jr,wr){return jr.cmp(wr)<0?jr:wr},cr.prototype._init=function(jr,wr,Er){if(typeof jr=="number")return this._initNumber(jr,wr,Er);if(typeof jr=="object")return this._initArray(jr,wr,Er);wr==="hex"&&(wr=16),lr(wr===(0|wr)&&wr>=2&&wr<=36);var Ar=0;(jr=jr.toString().replace(/\s+/g,""))[0]==="-"&&(Ar++,this.negative=1),Ar<jr.length&&(wr===16?this._parseHex(jr,Ar,Er):(this._parseBase(jr,wr,Ar),Er==="le"&&this._initArray(this.toArray(),wr,Er)))},cr.prototype._initNumber=function(jr,wr,Er){jr<0&&(this.negative=1,jr=-jr),jr<67108864?(this.words=[67108863&jr],this.length=1):jr<4503599627370496?(this.words=[67108863&jr,jr/67108864&67108863],this.length=2):(lr(jr<9007199254740992),this.words=[67108863&jr,jr/67108864&67108863,1],this.length=3),Er==="le"&&this._initArray(this.toArray(),wr,Er)},cr.prototype._initArray=function(jr,wr,Er){if(lr(typeof jr.length=="number"),jr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(jr.length/3),this.words=new Array(this.length);for(var Ar=0;Ar<this.length;Ar++)this.words[Ar]=0;var Sr,Dr,Wr=0;if(Er==="be")for(Ar=jr.length-1,Sr=0;Ar>=0;Ar-=3)Dr=jr[Ar]|jr[Ar-1]<<8|jr[Ar-2]<<16,this.words[Sr]|=Dr<<Wr&67108863,this.words[Sr+1]=Dr>>>26-Wr&67108863,(Wr+=24)>=26&&(Wr-=26,Sr++);else if(Er==="le")for(Ar=0,Sr=0;Ar<jr.length;Ar+=3)Dr=jr[Ar]|jr[Ar+1]<<8|jr[Ar+2]<<16,this.words[Sr]|=Dr<<Wr&67108863,this.words[Sr+1]=Dr>>>26-Wr&67108863,(Wr+=24)>=26&&(Wr-=26,Sr++);return this._strip()},cr.prototype._parseHex=function(jr,wr,Er){this.length=Math.ceil((jr.length-wr)/6),this.words=new Array(this.length);for(var Ar=0;Ar<this.length;Ar++)this.words[Ar]=0;var Sr,Dr=0,Wr=0;if(Er==="be")for(Ar=jr.length-1;Ar>=wr;Ar-=2)Sr=hr(jr,wr,Ar)<<Dr,this.words[Wr]|=67108863&Sr,Dr>=18?(Dr-=18,Wr+=1,this.words[Wr]|=Sr>>>26):Dr+=8;else for(Ar=(jr.length-wr)%2==0?wr+1:wr;Ar<jr.length;Ar+=2)Sr=hr(jr,wr,Ar)<<Dr,this.words[Wr]|=67108863&Sr,Dr>=18?(Dr-=18,Wr+=1,this.words[Wr]|=Sr>>>26):Dr+=8;this._strip()},cr.prototype._parseBase=function(jr,wr,Er){this.words=[0],this.length=1;for(var Ar=0,Sr=1;Sr<=67108863;Sr*=wr)Ar++;Ar--,Sr=Sr/wr|0;for(var Dr=jr.length-Er,Wr=Dr%Ar,$r=Math.min(Dr,Dr-Wr)+Er,Vr=0,zr=Er;zr<$r;zr+=Ar)Vr=fr(jr,zr,zr+Ar,wr),this.imuln(Sr),this.words[0]+Vr<67108864?this.words[0]+=Vr:this._iaddn(Vr);if(Wr!==0){var Gr=1;for(Vr=fr(jr,zr,jr.length,wr),zr=0;zr<Wr;zr++)Gr*=wr;this.imuln(Gr),this.words[0]+Vr<67108864?this.words[0]+=Vr:this._iaddn(Vr)}this._strip()},cr.prototype.copy=function(jr){jr.words=new Array(this.length);for(var wr=0;wr<this.length;wr++)jr.words[wr]=this.words[wr];jr.length=this.length,jr.negative=this.negative,jr.red=this.red},cr.prototype._move=function(jr){mr(jr,this)},cr.prototype.clone=function(){var jr=new cr(null);return this.copy(jr),jr},cr.prototype._expand=function(jr){for(;this.length<jr;)this.words[this.length++]=0;return this},cr.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},cr.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{cr.prototype[Symbol.for("nodejs.util.inspect.custom")]=br}catch{cr.prototype.inspect=br}else cr.prototype.inspect=br;function br(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],gr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];cr.prototype.toString=function(jr,wr){var Er;if(wr=0|wr||1,(jr=jr||10)===16||jr==="hex"){Er="";for(var Ar=0,Sr=0,Dr=0;Dr<this.length;Dr++){var Wr=this.words[Dr],$r=(16777215&(Wr<<Ar|Sr)).toString(16);Sr=Wr>>>24-Ar&16777215,(Ar+=2)>=26&&(Ar-=26,Dr--),Er=Sr!==0||Dr!==this.length-1?pr[6-$r.length]+$r+Er:$r+Er}for(Sr!==0&&(Er=Sr.toString(16)+Er);Er.length%wr!=0;)Er="0"+Er;return this.negative!==0&&(Er="-"+Er),Er}if(jr===(0|jr)&&jr>=2&&jr<=36){var Vr=gr[jr],zr=yr[jr];Er="";var Gr=this.clone();for(Gr.negative=0;!Gr.isZero();){var Fr=Gr.modrn(zr).toString(jr);Er=(Gr=Gr.idivn(zr)).isZero()?Fr+Er:pr[Vr-Fr.length]+Fr+Er}for(this.isZero()&&(Er="0"+Er);Er.length%wr!=0;)Er="0"+Er;return this.negative!==0&&(Er="-"+Er),Er}lr(!1,"Base should be between 2 and 36")},cr.prototype.toNumber=function(){var jr=this.words[0];return this.length===2?jr+=67108864*this.words[1]:this.length===3&&this.words[2]===1?jr+=4503599627370496+67108864*this.words[1]:this.length>2&&lr(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-jr:jr},cr.prototype.toJSON=function(){return this.toString(16,2)},ur&&(cr.prototype.toBuffer=function(jr,wr){return this.toArrayLike(ur,jr,wr)}),cr.prototype.toArray=function(jr,wr){return this.toArrayLike(Array,jr,wr)};function vr(jr,wr,Er){Er.negative=wr.negative^jr.negative;var Ar=jr.length+wr.length|0;Er.length=Ar,Ar=Ar-1|0;var Sr=0|jr.words[0],Dr=0|wr.words[0],Wr=Sr*Dr,$r=67108863&Wr,Vr=Wr/67108864|0;Er.words[0]=$r;for(var zr=1;zr<Ar;zr++){for(var Gr=Vr>>>26,Fr=67108863&Vr,Xr=Math.min(zr,wr.length-1),Ur=Math.max(0,zr-jr.length+1);Ur<=Xr;Ur++){var Br=zr-Ur|0;Gr+=(Wr=(Sr=0|jr.words[Br])*(Dr=0|wr.words[Ur])+Fr)/67108864|0,Fr=67108863&Wr}Er.words[zr]=0|Fr,Vr=0|Gr}return Vr!==0?Er.words[zr]=0|Vr:Er.length--,Er._strip()}cr.prototype.toArrayLike=function(jr,wr,Er){this._strip();var Ar=this.byteLength(),Sr=Er||Math.max(1,Ar);lr(Ar<=Sr,"byte array longer than desired length"),lr(Sr>0,"Requested array length <= 0");var Dr=function(Wr,$r){return Wr.allocUnsafe?Wr.allocUnsafe($r):new Wr($r)}(jr,Sr);return this["_toArrayLike"+(wr==="le"?"LE":"BE")](Dr,Ar),Dr},cr.prototype._toArrayLikeLE=function(jr,wr){for(var Er=0,Ar=0,Sr=0,Dr=0;Sr<this.length;Sr++){var Wr=this.words[Sr]<<Dr|Ar;jr[Er++]=255&Wr,Er<jr.length&&(jr[Er++]=Wr>>8&255),Er<jr.length&&(jr[Er++]=Wr>>16&255),Dr===6?(Er<jr.length&&(jr[Er++]=Wr>>24&255),Ar=0,Dr=0):(Ar=Wr>>>24,Dr+=2)}if(Er<jr.length)for(jr[Er++]=Ar;Er<jr.length;)jr[Er++]=0},cr.prototype._toArrayLikeBE=function(jr,wr){for(var Er=jr.length-1,Ar=0,Sr=0,Dr=0;Sr<this.length;Sr++){var Wr=this.words[Sr]<<Dr|Ar;jr[Er--]=255&Wr,Er>=0&&(jr[Er--]=Wr>>8&255),Er>=0&&(jr[Er--]=Wr>>16&255),Dr===6?(Er>=0&&(jr[Er--]=Wr>>24&255),Ar=0,Dr=0):(Ar=Wr>>>24,Dr+=2)}if(Er>=0)for(jr[Er--]=Ar;Er>=0;)jr[Er--]=0},Math.clz32?cr.prototype._countBits=function(jr){return 32-Math.clz32(jr)}:cr.prototype._countBits=function(jr){var wr=jr,Er=0;return wr>=4096&&(Er+=13,wr>>>=13),wr>=64&&(Er+=7,wr>>>=7),wr>=8&&(Er+=4,wr>>>=4),wr>=2&&(Er+=2,wr>>>=2),Er+wr},cr.prototype._zeroBits=function(jr){if(jr===0)return 26;var wr=jr,Er=0;return!(8191&wr)&&(Er+=13,wr>>>=13),!(127&wr)&&(Er+=7,wr>>>=7),!(15&wr)&&(Er+=4,wr>>>=4),!(3&wr)&&(Er+=2,wr>>>=2),!(1&wr)&&Er++,Er},cr.prototype.bitLength=function(){var jr=this.words[this.length-1],wr=this._countBits(jr);return 26*(this.length-1)+wr},cr.prototype.zeroBits=function(){if(this.isZero())return 0;for(var jr=0,wr=0;wr<this.length;wr++){var Er=this._zeroBits(this.words[wr]);if(jr+=Er,Er!==26)break}return jr},cr.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},cr.prototype.toTwos=function(jr){return this.negative!==0?this.abs().inotn(jr).iaddn(1):this.clone()},cr.prototype.fromTwos=function(jr){return this.testn(jr-1)?this.notn(jr).iaddn(1).ineg():this.clone()},cr.prototype.isNeg=function(){return this.negative!==0},cr.prototype.neg=function(){return this.clone().ineg()},cr.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},cr.prototype.iuor=function(jr){for(;this.length<jr.length;)this.words[this.length++]=0;for(var wr=0;wr<jr.length;wr++)this.words[wr]=this.words[wr]|jr.words[wr];return this._strip()},cr.prototype.ior=function(jr){return lr((this.negative|jr.negative)==0),this.iuor(jr)},cr.prototype.or=function(jr){return this.length>jr.length?this.clone().ior(jr):jr.clone().ior(this)},cr.prototype.uor=function(jr){return this.length>jr.length?this.clone().iuor(jr):jr.clone().iuor(this)},cr.prototype.iuand=function(jr){var wr;wr=this.length>jr.length?jr:this;for(var Er=0;Er<wr.length;Er++)this.words[Er]=this.words[Er]&jr.words[Er];return this.length=wr.length,this._strip()},cr.prototype.iand=function(jr){return lr((this.negative|jr.negative)==0),this.iuand(jr)},cr.prototype.and=function(jr){return this.length>jr.length?this.clone().iand(jr):jr.clone().iand(this)},cr.prototype.uand=function(jr){return this.length>jr.length?this.clone().iuand(jr):jr.clone().iuand(this)},cr.prototype.iuxor=function(jr){var wr,Er;this.length>jr.length?(wr=this,Er=jr):(wr=jr,Er=this);for(var Ar=0;Ar<Er.length;Ar++)this.words[Ar]=wr.words[Ar]^Er.words[Ar];if(this!==wr)for(;Ar<wr.length;Ar++)this.words[Ar]=wr.words[Ar];return this.length=wr.length,this._strip()},cr.prototype.ixor=function(jr){return lr((this.negative|jr.negative)==0),this.iuxor(jr)},cr.prototype.xor=function(jr){return this.length>jr.length?this.clone().ixor(jr):jr.clone().ixor(this)},cr.prototype.uxor=function(jr){return this.length>jr.length?this.clone().iuxor(jr):jr.clone().iuxor(this)},cr.prototype.inotn=function(jr){lr(typeof jr=="number"&&jr>=0);var wr=0|Math.ceil(jr/26),Er=jr%26;this._expand(wr),Er>0&&wr--;for(var Ar=0;Ar<wr;Ar++)this.words[Ar]=67108863&~this.words[Ar];return Er>0&&(this.words[Ar]=~this.words[Ar]&67108863>>26-Er),this._strip()},cr.prototype.notn=function(jr){return this.clone().inotn(jr)},cr.prototype.setn=function(jr,wr){lr(typeof jr=="number"&&jr>=0);var Er=jr/26|0,Ar=jr%26;return this._expand(Er+1),this.words[Er]=wr?this.words[Er]|1<<Ar:this.words[Er]&~(1<<Ar),this._strip()},cr.prototype.iadd=function(jr){var wr,Er,Ar;if(this.negative!==0&&jr.negative===0)return this.negative=0,wr=this.isub(jr),this.negative^=1,this._normSign();if(this.negative===0&&jr.negative!==0)return jr.negative=0,wr=this.isub(jr),jr.negative=1,wr._normSign();this.length>jr.length?(Er=this,Ar=jr):(Er=jr,Ar=this);for(var Sr=0,Dr=0;Dr<Ar.length;Dr++)wr=(0|Er.words[Dr])+(0|Ar.words[Dr])+Sr,this.words[Dr]=67108863&wr,Sr=wr>>>26;for(;Sr!==0&&Dr<Er.length;Dr++)wr=(0|Er.words[Dr])+Sr,this.words[Dr]=67108863&wr,Sr=wr>>>26;if(this.length=Er.length,Sr!==0)this.words[this.length]=Sr,this.length++;else if(Er!==this)for(;Dr<Er.length;Dr++)this.words[Dr]=Er.words[Dr];return this},cr.prototype.add=function(jr){var wr;return jr.negative!==0&&this.negative===0?(jr.negative=0,wr=this.sub(jr),jr.negative^=1,wr):jr.negative===0&&this.negative!==0?(this.negative=0,wr=jr.sub(this),this.negative=1,wr):this.length>jr.length?this.clone().iadd(jr):jr.clone().iadd(this)},cr.prototype.isub=function(jr){if(jr.negative!==0){jr.negative=0;var wr=this.iadd(jr);return jr.negative=1,wr._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(jr),this.negative=1,this._normSign();var Er,Ar,Sr=this.cmp(jr);if(Sr===0)return this.negative=0,this.length=1,this.words[0]=0,this;Sr>0?(Er=this,Ar=jr):(Er=jr,Ar=this);for(var Dr=0,Wr=0;Wr<Ar.length;Wr++)Dr=(wr=(0|Er.words[Wr])-(0|Ar.words[Wr])+Dr)>>26,this.words[Wr]=67108863&wr;for(;Dr!==0&&Wr<Er.length;Wr++)Dr=(wr=(0|Er.words[Wr])+Dr)>>26,this.words[Wr]=67108863&wr;if(Dr===0&&Wr<Er.length&&Er!==this)for(;Wr<Er.length;Wr++)this.words[Wr]=Er.words[Wr];return this.length=Math.max(this.length,Wr),Er!==this&&(this.negative=1),this._strip()},cr.prototype.sub=function(jr){return this.clone().isub(jr)};var _r=function(jr,wr,Er){var Ar,Sr,Dr,Wr=jr.words,$r=wr.words,Vr=Er.words,zr=0,Gr=0|Wr[0],Fr=8191&Gr,Xr=Gr>>>13,Ur=0|Wr[1],Br=8191&Ur,Kr=Ur>>>13,Zr=0|Wr[2],tn=8191&Zr,sn=Zr>>>13,un=0|Wr[3],hn=8191&un,Jr=un>>>13,nn=0|Wr[4],rn=8191&nn,on=nn>>>13,fn=0|Wr[5],mn=8191&fn,yn=fn>>>13,Rn=0|Wr[6],In=8191&Rn,Sn=Rn>>>13,Dn=0|Wr[7],zn=8191&Dn,rs=Dn>>>13,ns=0|Wr[8],fs=8191&ns,qn=ns>>>13,ds=0|Wr[9],os=8191&ds,gs=ds>>>13,Wn=0|$r[0],Fn=8191&Wn,Bn=Wn>>>13,ss=0|$r[1],$s=8191&ss,vs=ss>>>13,kn=0|$r[2],Qn=8191&kn,xa=kn>>>13,as=0|$r[3],ms=8191&as,ls=as>>>13,An=0|$r[4],wn=8191&An,Nn=An>>>13,$n=0|$r[5],Gn=8191&$n,gn=$n>>>13,_n=0|$r[6],jn=8191&_n,On=_n>>>13,Un=0|$r[7],Hn=8191&Un,Kn=Un>>>13,_i=0|$r[8],ys=8191&_i,xs=_i>>>13,Cs=0|$r[9],Rs=8191&Cs,Ls=Cs>>>13;Er.negative=jr.negative^wr.negative,Er.length=19;var Ws=(zr+(Ar=Math.imul(Fr,Fn))|0)+((8191&(Sr=(Sr=Math.imul(Fr,Bn))+Math.imul(Xr,Fn)|0))<<13)|0;zr=((Dr=Math.imul(Xr,Bn))+(Sr>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,Ar=Math.imul(Br,Fn),Sr=(Sr=Math.imul(Br,Bn))+Math.imul(Kr,Fn)|0,Dr=Math.imul(Kr,Bn);var Xs=(zr+(Ar=Ar+Math.imul(Fr,$s)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,vs)|0)+Math.imul(Xr,$s)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,vs)|0)+(Sr>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,Ar=Math.imul(tn,Fn),Sr=(Sr=Math.imul(tn,Bn))+Math.imul(sn,Fn)|0,Dr=Math.imul(sn,Bn),Ar=Ar+Math.imul(Br,$s)|0,Sr=(Sr=Sr+Math.imul(Br,vs)|0)+Math.imul(Kr,$s)|0,Dr=Dr+Math.imul(Kr,vs)|0;var ro=(zr+(Ar=Ar+Math.imul(Fr,Qn)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,xa)|0)+Math.imul(Xr,Qn)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,xa)|0)+(Sr>>>13)|0)+(ro>>>26)|0,ro&=67108863,Ar=Math.imul(hn,Fn),Sr=(Sr=Math.imul(hn,Bn))+Math.imul(Jr,Fn)|0,Dr=Math.imul(Jr,Bn),Ar=Ar+Math.imul(tn,$s)|0,Sr=(Sr=Sr+Math.imul(tn,vs)|0)+Math.imul(sn,$s)|0,Dr=Dr+Math.imul(sn,vs)|0,Ar=Ar+Math.imul(Br,Qn)|0,Sr=(Sr=Sr+Math.imul(Br,xa)|0)+Math.imul(Kr,Qn)|0,Dr=Dr+Math.imul(Kr,xa)|0;var ao=(zr+(Ar=Ar+Math.imul(Fr,ms)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,ls)|0)+Math.imul(Xr,ms)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,ls)|0)+(Sr>>>13)|0)+(ao>>>26)|0,ao&=67108863,Ar=Math.imul(rn,Fn),Sr=(Sr=Math.imul(rn,Bn))+Math.imul(on,Fn)|0,Dr=Math.imul(on,Bn),Ar=Ar+Math.imul(hn,$s)|0,Sr=(Sr=Sr+Math.imul(hn,vs)|0)+Math.imul(Jr,$s)|0,Dr=Dr+Math.imul(Jr,vs)|0,Ar=Ar+Math.imul(tn,Qn)|0,Sr=(Sr=Sr+Math.imul(tn,xa)|0)+Math.imul(sn,Qn)|0,Dr=Dr+Math.imul(sn,xa)|0,Ar=Ar+Math.imul(Br,ms)|0,Sr=(Sr=Sr+Math.imul(Br,ls)|0)+Math.imul(Kr,ms)|0,Dr=Dr+Math.imul(Kr,ls)|0;var _o=(zr+(Ar=Ar+Math.imul(Fr,wn)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,Nn)|0)+Math.imul(Xr,wn)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,Nn)|0)+(Sr>>>13)|0)+(_o>>>26)|0,_o&=67108863,Ar=Math.imul(mn,Fn),Sr=(Sr=Math.imul(mn,Bn))+Math.imul(yn,Fn)|0,Dr=Math.imul(yn,Bn),Ar=Ar+Math.imul(rn,$s)|0,Sr=(Sr=Sr+Math.imul(rn,vs)|0)+Math.imul(on,$s)|0,Dr=Dr+Math.imul(on,vs)|0,Ar=Ar+Math.imul(hn,Qn)|0,Sr=(Sr=Sr+Math.imul(hn,xa)|0)+Math.imul(Jr,Qn)|0,Dr=Dr+Math.imul(Jr,xa)|0,Ar=Ar+Math.imul(tn,ms)|0,Sr=(Sr=Sr+Math.imul(tn,ls)|0)+Math.imul(sn,ms)|0,Dr=Dr+Math.imul(sn,ls)|0,Ar=Ar+Math.imul(Br,wn)|0,Sr=(Sr=Sr+Math.imul(Br,Nn)|0)+Math.imul(Kr,wn)|0,Dr=Dr+Math.imul(Kr,Nn)|0;var Ln=(zr+(Ar=Ar+Math.imul(Fr,Gn)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,gn)|0)+Math.imul(Xr,Gn)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,gn)|0)+(Sr>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,Ar=Math.imul(In,Fn),Sr=(Sr=Math.imul(In,Bn))+Math.imul(Sn,Fn)|0,Dr=Math.imul(Sn,Bn),Ar=Ar+Math.imul(mn,$s)|0,Sr=(Sr=Sr+Math.imul(mn,vs)|0)+Math.imul(yn,$s)|0,Dr=Dr+Math.imul(yn,vs)|0,Ar=Ar+Math.imul(rn,Qn)|0,Sr=(Sr=Sr+Math.imul(rn,xa)|0)+Math.imul(on,Qn)|0,Dr=Dr+Math.imul(on,xa)|0,Ar=Ar+Math.imul(hn,ms)|0,Sr=(Sr=Sr+Math.imul(hn,ls)|0)+Math.imul(Jr,ms)|0,Dr=Dr+Math.imul(Jr,ls)|0,Ar=Ar+Math.imul(tn,wn)|0,Sr=(Sr=Sr+Math.imul(tn,Nn)|0)+Math.imul(sn,wn)|0,Dr=Dr+Math.imul(sn,Nn)|0,Ar=Ar+Math.imul(Br,Gn)|0,Sr=(Sr=Sr+Math.imul(Br,gn)|0)+Math.imul(Kr,Gn)|0,Dr=Dr+Math.imul(Kr,gn)|0;var is=(zr+(Ar=Ar+Math.imul(Fr,jn)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,On)|0)+Math.imul(Xr,jn)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,On)|0)+(Sr>>>13)|0)+(is>>>26)|0,is&=67108863,Ar=Math.imul(zn,Fn),Sr=(Sr=Math.imul(zn,Bn))+Math.imul(rs,Fn)|0,Dr=Math.imul(rs,Bn),Ar=Ar+Math.imul(In,$s)|0,Sr=(Sr=Sr+Math.imul(In,vs)|0)+Math.imul(Sn,$s)|0,Dr=Dr+Math.imul(Sn,vs)|0,Ar=Ar+Math.imul(mn,Qn)|0,Sr=(Sr=Sr+Math.imul(mn,xa)|0)+Math.imul(yn,Qn)|0,Dr=Dr+Math.imul(yn,xa)|0,Ar=Ar+Math.imul(rn,ms)|0,Sr=(Sr=Sr+Math.imul(rn,ls)|0)+Math.imul(on,ms)|0,Dr=Dr+Math.imul(on,ls)|0,Ar=Ar+Math.imul(hn,wn)|0,Sr=(Sr=Sr+Math.imul(hn,Nn)|0)+Math.imul(Jr,wn)|0,Dr=Dr+Math.imul(Jr,Nn)|0,Ar=Ar+Math.imul(tn,Gn)|0,Sr=(Sr=Sr+Math.imul(tn,gn)|0)+Math.imul(sn,Gn)|0,Dr=Dr+Math.imul(sn,gn)|0,Ar=Ar+Math.imul(Br,jn)|0,Sr=(Sr=Sr+Math.imul(Br,On)|0)+Math.imul(Kr,jn)|0,Dr=Dr+Math.imul(Kr,On)|0;var ws=(zr+(Ar=Ar+Math.imul(Fr,Hn)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,Kn)|0)+Math.imul(Xr,Hn)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,Kn)|0)+(Sr>>>13)|0)+(ws>>>26)|0,ws&=67108863,Ar=Math.imul(fs,Fn),Sr=(Sr=Math.imul(fs,Bn))+Math.imul(qn,Fn)|0,Dr=Math.imul(qn,Bn),Ar=Ar+Math.imul(zn,$s)|0,Sr=(Sr=Sr+Math.imul(zn,vs)|0)+Math.imul(rs,$s)|0,Dr=Dr+Math.imul(rs,vs)|0,Ar=Ar+Math.imul(In,Qn)|0,Sr=(Sr=Sr+Math.imul(In,xa)|0)+Math.imul(Sn,Qn)|0,Dr=Dr+Math.imul(Sn,xa)|0,Ar=Ar+Math.imul(mn,ms)|0,Sr=(Sr=Sr+Math.imul(mn,ls)|0)+Math.imul(yn,ms)|0,Dr=Dr+Math.imul(yn,ls)|0,Ar=Ar+Math.imul(rn,wn)|0,Sr=(Sr=Sr+Math.imul(rn,Nn)|0)+Math.imul(on,wn)|0,Dr=Dr+Math.imul(on,Nn)|0,Ar=Ar+Math.imul(hn,Gn)|0,Sr=(Sr=Sr+Math.imul(hn,gn)|0)+Math.imul(Jr,Gn)|0,Dr=Dr+Math.imul(Jr,gn)|0,Ar=Ar+Math.imul(tn,jn)|0,Sr=(Sr=Sr+Math.imul(tn,On)|0)+Math.imul(sn,jn)|0,Dr=Dr+Math.imul(sn,On)|0,Ar=Ar+Math.imul(Br,Hn)|0,Sr=(Sr=Sr+Math.imul(Br,Kn)|0)+Math.imul(Kr,Hn)|0,Dr=Dr+Math.imul(Kr,Kn)|0;var As=(zr+(Ar=Ar+Math.imul(Fr,ys)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,xs)|0)+Math.imul(Xr,ys)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,xs)|0)+(Sr>>>13)|0)+(As>>>26)|0,As&=67108863,Ar=Math.imul(os,Fn),Sr=(Sr=Math.imul(os,Bn))+Math.imul(gs,Fn)|0,Dr=Math.imul(gs,Bn),Ar=Ar+Math.imul(fs,$s)|0,Sr=(Sr=Sr+Math.imul(fs,vs)|0)+Math.imul(qn,$s)|0,Dr=Dr+Math.imul(qn,vs)|0,Ar=Ar+Math.imul(zn,Qn)|0,Sr=(Sr=Sr+Math.imul(zn,xa)|0)+Math.imul(rs,Qn)|0,Dr=Dr+Math.imul(rs,xa)|0,Ar=Ar+Math.imul(In,ms)|0,Sr=(Sr=Sr+Math.imul(In,ls)|0)+Math.imul(Sn,ms)|0,Dr=Dr+Math.imul(Sn,ls)|0,Ar=Ar+Math.imul(mn,wn)|0,Sr=(Sr=Sr+Math.imul(mn,Nn)|0)+Math.imul(yn,wn)|0,Dr=Dr+Math.imul(yn,Nn)|0,Ar=Ar+Math.imul(rn,Gn)|0,Sr=(Sr=Sr+Math.imul(rn,gn)|0)+Math.imul(on,Gn)|0,Dr=Dr+Math.imul(on,gn)|0,Ar=Ar+Math.imul(hn,jn)|0,Sr=(Sr=Sr+Math.imul(hn,On)|0)+Math.imul(Jr,jn)|0,Dr=Dr+Math.imul(Jr,On)|0,Ar=Ar+Math.imul(tn,Hn)|0,Sr=(Sr=Sr+Math.imul(tn,Kn)|0)+Math.imul(sn,Hn)|0,Dr=Dr+Math.imul(sn,Kn)|0,Ar=Ar+Math.imul(Br,ys)|0,Sr=(Sr=Sr+Math.imul(Br,xs)|0)+Math.imul(Kr,ys)|0,Dr=Dr+Math.imul(Kr,xs)|0;var Fs=(zr+(Ar=Ar+Math.imul(Fr,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Fr,Ls)|0)+Math.imul(Xr,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Xr,Ls)|0)+(Sr>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,Ar=Math.imul(os,$s),Sr=(Sr=Math.imul(os,vs))+Math.imul(gs,$s)|0,Dr=Math.imul(gs,vs),Ar=Ar+Math.imul(fs,Qn)|0,Sr=(Sr=Sr+Math.imul(fs,xa)|0)+Math.imul(qn,Qn)|0,Dr=Dr+Math.imul(qn,xa)|0,Ar=Ar+Math.imul(zn,ms)|0,Sr=(Sr=Sr+Math.imul(zn,ls)|0)+Math.imul(rs,ms)|0,Dr=Dr+Math.imul(rs,ls)|0,Ar=Ar+Math.imul(In,wn)|0,Sr=(Sr=Sr+Math.imul(In,Nn)|0)+Math.imul(Sn,wn)|0,Dr=Dr+Math.imul(Sn,Nn)|0,Ar=Ar+Math.imul(mn,Gn)|0,Sr=(Sr=Sr+Math.imul(mn,gn)|0)+Math.imul(yn,Gn)|0,Dr=Dr+Math.imul(yn,gn)|0,Ar=Ar+Math.imul(rn,jn)|0,Sr=(Sr=Sr+Math.imul(rn,On)|0)+Math.imul(on,jn)|0,Dr=Dr+Math.imul(on,On)|0,Ar=Ar+Math.imul(hn,Hn)|0,Sr=(Sr=Sr+Math.imul(hn,Kn)|0)+Math.imul(Jr,Hn)|0,Dr=Dr+Math.imul(Jr,Kn)|0,Ar=Ar+Math.imul(tn,ys)|0,Sr=(Sr=Sr+Math.imul(tn,xs)|0)+Math.imul(sn,ys)|0,Dr=Dr+Math.imul(sn,xs)|0;var ks=(zr+(Ar=Ar+Math.imul(Br,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(Br,Ls)|0)+Math.imul(Kr,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Kr,Ls)|0)+(Sr>>>13)|0)+(ks>>>26)|0,ks&=67108863,Ar=Math.imul(os,Qn),Sr=(Sr=Math.imul(os,xa))+Math.imul(gs,Qn)|0,Dr=Math.imul(gs,xa),Ar=Ar+Math.imul(fs,ms)|0,Sr=(Sr=Sr+Math.imul(fs,ls)|0)+Math.imul(qn,ms)|0,Dr=Dr+Math.imul(qn,ls)|0,Ar=Ar+Math.imul(zn,wn)|0,Sr=(Sr=Sr+Math.imul(zn,Nn)|0)+Math.imul(rs,wn)|0,Dr=Dr+Math.imul(rs,Nn)|0,Ar=Ar+Math.imul(In,Gn)|0,Sr=(Sr=Sr+Math.imul(In,gn)|0)+Math.imul(Sn,Gn)|0,Dr=Dr+Math.imul(Sn,gn)|0,Ar=Ar+Math.imul(mn,jn)|0,Sr=(Sr=Sr+Math.imul(mn,On)|0)+Math.imul(yn,jn)|0,Dr=Dr+Math.imul(yn,On)|0,Ar=Ar+Math.imul(rn,Hn)|0,Sr=(Sr=Sr+Math.imul(rn,Kn)|0)+Math.imul(on,Hn)|0,Dr=Dr+Math.imul(on,Kn)|0,Ar=Ar+Math.imul(hn,ys)|0,Sr=(Sr=Sr+Math.imul(hn,xs)|0)+Math.imul(Jr,ys)|0,Dr=Dr+Math.imul(Jr,xs)|0;var Os=(zr+(Ar=Ar+Math.imul(tn,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(tn,Ls)|0)+Math.imul(sn,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(sn,Ls)|0)+(Sr>>>13)|0)+(Os>>>26)|0,Os&=67108863,Ar=Math.imul(os,ms),Sr=(Sr=Math.imul(os,ls))+Math.imul(gs,ms)|0,Dr=Math.imul(gs,ls),Ar=Ar+Math.imul(fs,wn)|0,Sr=(Sr=Sr+Math.imul(fs,Nn)|0)+Math.imul(qn,wn)|0,Dr=Dr+Math.imul(qn,Nn)|0,Ar=Ar+Math.imul(zn,Gn)|0,Sr=(Sr=Sr+Math.imul(zn,gn)|0)+Math.imul(rs,Gn)|0,Dr=Dr+Math.imul(rs,gn)|0,Ar=Ar+Math.imul(In,jn)|0,Sr=(Sr=Sr+Math.imul(In,On)|0)+Math.imul(Sn,jn)|0,Dr=Dr+Math.imul(Sn,On)|0,Ar=Ar+Math.imul(mn,Hn)|0,Sr=(Sr=Sr+Math.imul(mn,Kn)|0)+Math.imul(yn,Hn)|0,Dr=Dr+Math.imul(yn,Kn)|0,Ar=Ar+Math.imul(rn,ys)|0,Sr=(Sr=Sr+Math.imul(rn,xs)|0)+Math.imul(on,ys)|0,Dr=Dr+Math.imul(on,xs)|0;var Js=(zr+(Ar=Ar+Math.imul(hn,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(hn,Ls)|0)+Math.imul(Jr,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Jr,Ls)|0)+(Sr>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ar=Math.imul(os,wn),Sr=(Sr=Math.imul(os,Nn))+Math.imul(gs,wn)|0,Dr=Math.imul(gs,Nn),Ar=Ar+Math.imul(fs,Gn)|0,Sr=(Sr=Sr+Math.imul(fs,gn)|0)+Math.imul(qn,Gn)|0,Dr=Dr+Math.imul(qn,gn)|0,Ar=Ar+Math.imul(zn,jn)|0,Sr=(Sr=Sr+Math.imul(zn,On)|0)+Math.imul(rs,jn)|0,Dr=Dr+Math.imul(rs,On)|0,Ar=Ar+Math.imul(In,Hn)|0,Sr=(Sr=Sr+Math.imul(In,Kn)|0)+Math.imul(Sn,Hn)|0,Dr=Dr+Math.imul(Sn,Kn)|0,Ar=Ar+Math.imul(mn,ys)|0,Sr=(Sr=Sr+Math.imul(mn,xs)|0)+Math.imul(yn,ys)|0,Dr=Dr+Math.imul(yn,xs)|0;var qs=(zr+(Ar=Ar+Math.imul(rn,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(rn,Ls)|0)+Math.imul(on,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(on,Ls)|0)+(Sr>>>13)|0)+(qs>>>26)|0,qs&=67108863,Ar=Math.imul(os,Gn),Sr=(Sr=Math.imul(os,gn))+Math.imul(gs,Gn)|0,Dr=Math.imul(gs,gn),Ar=Ar+Math.imul(fs,jn)|0,Sr=(Sr=Sr+Math.imul(fs,On)|0)+Math.imul(qn,jn)|0,Dr=Dr+Math.imul(qn,On)|0,Ar=Ar+Math.imul(zn,Hn)|0,Sr=(Sr=Sr+Math.imul(zn,Kn)|0)+Math.imul(rs,Hn)|0,Dr=Dr+Math.imul(rs,Kn)|0,Ar=Ar+Math.imul(In,ys)|0,Sr=(Sr=Sr+Math.imul(In,xs)|0)+Math.imul(Sn,ys)|0,Dr=Dr+Math.imul(Sn,xs)|0;var Ys=(zr+(Ar=Ar+Math.imul(mn,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(mn,Ls)|0)+Math.imul(yn,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(yn,Ls)|0)+(Sr>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,Ar=Math.imul(os,jn),Sr=(Sr=Math.imul(os,On))+Math.imul(gs,jn)|0,Dr=Math.imul(gs,On),Ar=Ar+Math.imul(fs,Hn)|0,Sr=(Sr=Sr+Math.imul(fs,Kn)|0)+Math.imul(qn,Hn)|0,Dr=Dr+Math.imul(qn,Kn)|0,Ar=Ar+Math.imul(zn,ys)|0,Sr=(Sr=Sr+Math.imul(zn,xs)|0)+Math.imul(rs,ys)|0,Dr=Dr+Math.imul(rs,xs)|0;var Us=(zr+(Ar=Ar+Math.imul(In,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(In,Ls)|0)+Math.imul(Sn,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(Sn,Ls)|0)+(Sr>>>13)|0)+(Us>>>26)|0,Us&=67108863,Ar=Math.imul(os,Hn),Sr=(Sr=Math.imul(os,Kn))+Math.imul(gs,Hn)|0,Dr=Math.imul(gs,Kn),Ar=Ar+Math.imul(fs,ys)|0,Sr=(Sr=Sr+Math.imul(fs,xs)|0)+Math.imul(qn,ys)|0,Dr=Dr+Math.imul(qn,xs)|0;var so=(zr+(Ar=Ar+Math.imul(zn,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(zn,Ls)|0)+Math.imul(rs,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(rs,Ls)|0)+(Sr>>>13)|0)+(so>>>26)|0,so&=67108863,Ar=Math.imul(os,ys),Sr=(Sr=Math.imul(os,xs))+Math.imul(gs,ys)|0,Dr=Math.imul(gs,xs);var Hs=(zr+(Ar=Ar+Math.imul(fs,Rs)|0)|0)+((8191&(Sr=(Sr=Sr+Math.imul(fs,Ls)|0)+Math.imul(qn,Rs)|0))<<13)|0;zr=((Dr=Dr+Math.imul(qn,Ls)|0)+(Sr>>>13)|0)+(Hs>>>26)|0,Hs&=67108863;var oo=(zr+(Ar=Math.imul(os,Rs))|0)+((8191&(Sr=(Sr=Math.imul(os,Ls))+Math.imul(gs,Rs)|0))<<13)|0;return zr=((Dr=Math.imul(gs,Ls))+(Sr>>>13)|0)+(oo>>>26)|0,oo&=67108863,Vr[0]=Ws,Vr[1]=Xs,Vr[2]=ro,Vr[3]=ao,Vr[4]=_o,Vr[5]=Ln,Vr[6]=is,Vr[7]=ws,Vr[8]=As,Vr[9]=Fs,Vr[10]=ks,Vr[11]=Os,Vr[12]=Js,Vr[13]=qs,Vr[14]=Ys,Vr[15]=Us,Vr[16]=so,Vr[17]=Hs,Vr[18]=oo,zr!==0&&(Vr[19]=zr,Er.length++),Er};function xr(jr,wr,Er){Er.negative=wr.negative^jr.negative,Er.length=jr.length+wr.length;for(var Ar=0,Sr=0,Dr=0;Dr<Er.length-1;Dr++){var Wr=Sr;Sr=0;for(var $r=67108863&Ar,Vr=Math.min(Dr,wr.length-1),zr=Math.max(0,Dr-jr.length+1);zr<=Vr;zr++){var Gr=Dr-zr,Fr=(0|jr.words[Gr])*(0|wr.words[zr]),Xr=67108863&Fr;$r=67108863&(Xr=Xr+$r|0),Sr+=(Wr=(Wr=Wr+(Fr/67108864|0)|0)+(Xr>>>26)|0)>>>26,Wr&=67108863}Er.words[Dr]=$r,Ar=Wr,Wr=Sr}return Ar!==0?Er.words[Dr]=Ar:Er.length--,Er._strip()}function Rr(jr,wr,Er){return xr(jr,wr,Er)}Math.imul||(_r=vr),cr.prototype.mulTo=function(jr,wr){var Er=this.length+jr.length;return this.length===10&&jr.length===10?_r(this,jr,wr):Er<63?vr(this,jr,wr):Er<1024?xr(this,jr,wr):Rr(this,jr,wr)},cr.prototype.mul=function(jr){var wr=new cr(null);return wr.words=new Array(this.length+jr.length),this.mulTo(jr,wr)},cr.prototype.mulf=function(jr){var wr=new cr(null);return wr.words=new Array(this.length+jr.length),Rr(this,jr,wr)},cr.prototype.imul=function(jr){return this.clone().mulTo(jr,this)},cr.prototype.imuln=function(jr){var wr=jr<0;wr&&(jr=-jr),lr(typeof jr=="number"),lr(jr<67108864);for(var Er=0,Ar=0;Ar<this.length;Ar++){var Sr=(0|this.words[Ar])*jr,Dr=(67108863&Sr)+(67108863&Er);Er>>=26,Er+=Sr/67108864|0,Er+=Dr>>>26,this.words[Ar]=67108863&Dr}return Er!==0&&(this.words[Ar]=Er,this.length++),wr?this.ineg():this},cr.prototype.muln=function(jr){return this.clone().imuln(jr)},cr.prototype.sqr=function(){return this.mul(this)},cr.prototype.isqr=function(){return this.imul(this.clone())},cr.prototype.pow=function(jr){var wr=function(Dr){for(var Wr=new Array(Dr.bitLength()),$r=0;$r<Wr.length;$r++){var Vr=$r/26|0,zr=$r%26;Wr[$r]=Dr.words[Vr]>>>zr&1}return Wr}(jr);if(wr.length===0)return new cr(1);for(var Er=this,Ar=0;Ar<wr.length&&wr[Ar]===0;Ar++,Er=Er.sqr());if(++Ar<wr.length)for(var Sr=Er.sqr();Ar<wr.length;Ar++,Sr=Sr.sqr())wr[Ar]!==0&&(Er=Er.mul(Sr));return Er},cr.prototype.iushln=function(jr){lr(typeof jr=="number"&&jr>=0);var wr,Er=jr%26,Ar=(jr-Er)/26,Sr=67108863>>>26-Er<<26-Er;if(Er!==0){var Dr=0;for(wr=0;wr<this.length;wr++){var Wr=this.words[wr]&Sr,$r=(0|this.words[wr])-Wr<<Er;this.words[wr]=$r|Dr,Dr=Wr>>>26-Er}Dr&&(this.words[wr]=Dr,this.length++)}if(Ar!==0){for(wr=this.length-1;wr>=0;wr--)this.words[wr+Ar]=this.words[wr];for(wr=0;wr<Ar;wr++)this.words[wr]=0;this.length+=Ar}return this._strip()},cr.prototype.ishln=function(jr){return lr(this.negative===0),this.iushln(jr)},cr.prototype.iushrn=function(jr,wr,Er){var Ar;lr(typeof jr=="number"&&jr>=0),Ar=wr?(wr-wr%26)/26:0;var Sr=jr%26,Dr=Math.min((jr-Sr)/26,this.length),Wr=67108863^67108863>>>Sr<<Sr,$r=Er;if(Ar-=Dr,Ar=Math.max(0,Ar),$r){for(var Vr=0;Vr<Dr;Vr++)$r.words[Vr]=this.words[Vr];$r.length=Dr}if(Dr!==0)if(this.length>Dr)for(this.length-=Dr,Vr=0;Vr<this.length;Vr++)this.words[Vr]=this.words[Vr+Dr];else this.words[0]=0,this.length=1;var zr=0;for(Vr=this.length-1;Vr>=0&&(zr!==0||Vr>=Ar);Vr--){var Gr=0|this.words[Vr];this.words[Vr]=zr<<26-Sr|Gr>>>Sr,zr=Gr&Wr}return $r&&zr!==0&&($r.words[$r.length++]=zr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},cr.prototype.ishrn=function(jr,wr,Er){return lr(this.negative===0),this.iushrn(jr,wr,Er)},cr.prototype.shln=function(jr){return this.clone().ishln(jr)},cr.prototype.ushln=function(jr){return this.clone().iushln(jr)},cr.prototype.shrn=function(jr){return this.clone().ishrn(jr)},cr.prototype.ushrn=function(jr){return this.clone().iushrn(jr)},cr.prototype.testn=function(jr){lr(typeof jr=="number"&&jr>=0);var wr=jr%26,Er=(jr-wr)/26,Ar=1<<wr;return!(this.length<=Er)&&!!(this.words[Er]&Ar)},cr.prototype.imaskn=function(jr){lr(typeof jr=="number"&&jr>=0);var wr=jr%26,Er=(jr-wr)/26;if(lr(this.negative===0,"imaskn works only with positive numbers"),this.length<=Er)return this;if(wr!==0&&Er++,this.length=Math.min(Er,this.length),wr!==0){var Ar=67108863^67108863>>>wr<<wr;this.words[this.length-1]&=Ar}return this._strip()},cr.prototype.maskn=function(jr){return this.clone().imaskn(jr)},cr.prototype.iaddn=function(jr){return lr(typeof jr=="number"),lr(jr<67108864),jr<0?this.isubn(-jr):this.negative!==0?this.length===1&&(0|this.words[0])<=jr?(this.words[0]=jr-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(jr),this.negative=1,this):this._iaddn(jr)},cr.prototype._iaddn=function(jr){this.words[0]+=jr;for(var wr=0;wr<this.length&&this.words[wr]>=67108864;wr++)this.words[wr]-=67108864,wr===this.length-1?this.words[wr+1]=1:this.words[wr+1]++;return this.length=Math.max(this.length,wr+1),this},cr.prototype.isubn=function(jr){if(lr(typeof jr=="number"),lr(jr<67108864),jr<0)return this.iaddn(-jr);if(this.negative!==0)return this.negative=0,this.iaddn(jr),this.negative=1,this;if(this.words[0]-=jr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var wr=0;wr<this.length&&this.words[wr]<0;wr++)this.words[wr]+=67108864,this.words[wr+1]-=1;return this._strip()},cr.prototype.addn=function(jr){return this.clone().iaddn(jr)},cr.prototype.subn=function(jr){return this.clone().isubn(jr)},cr.prototype.iabs=function(){return this.negative=0,this},cr.prototype.abs=function(){return this.clone().iabs()},cr.prototype._ishlnsubmul=function(jr,wr,Er){var Ar,Sr,Dr=jr.length+Er;this._expand(Dr);var Wr=0;for(Ar=0;Ar<jr.length;Ar++){Sr=(0|this.words[Ar+Er])+Wr;var $r=(0|jr.words[Ar])*wr;Wr=((Sr-=67108863&$r)>>26)-($r/67108864|0),this.words[Ar+Er]=67108863&Sr}for(;Ar<this.length-Er;Ar++)Wr=(Sr=(0|this.words[Ar+Er])+Wr)>>26,this.words[Ar+Er]=67108863&Sr;if(Wr===0)return this._strip();for(lr(Wr===-1),Wr=0,Ar=0;Ar<this.length;Ar++)Wr=(Sr=-(0|this.words[Ar])+Wr)>>26,this.words[Ar]=67108863&Sr;return this.negative=1,this._strip()},cr.prototype._wordDiv=function(jr,wr){var Er=(this.length,jr.length),Ar=this.clone(),Sr=jr,Dr=0|Sr.words[Sr.length-1];(Er=26-this._countBits(Dr))!==0&&(Sr=Sr.ushln(Er),Ar.iushln(Er),Dr=0|Sr.words[Sr.length-1]);var Wr,$r=Ar.length-Sr.length;if(wr!=="mod"){(Wr=new cr(null)).length=$r+1,Wr.words=new Array(Wr.length);for(var Vr=0;Vr<Wr.length;Vr++)Wr.words[Vr]=0}var zr=Ar.clone()._ishlnsubmul(Sr,1,$r);zr.negative===0&&(Ar=zr,Wr&&(Wr.words[$r]=1));for(var Gr=$r-1;Gr>=0;Gr--){var Fr=67108864*(0|Ar.words[Sr.length+Gr])+(0|Ar.words[Sr.length+Gr-1]);for(Fr=Math.min(Fr/Dr|0,67108863),Ar._ishlnsubmul(Sr,Fr,Gr);Ar.negative!==0;)Fr--,Ar.negative=0,Ar._ishlnsubmul(Sr,1,Gr),Ar.isZero()||(Ar.negative^=1);Wr&&(Wr.words[Gr]=Fr)}return Wr&&Wr._strip(),Ar._strip(),wr!=="div"&&Er!==0&&Ar.iushrn(Er),{div:Wr||null,mod:Ar}},cr.prototype.divmod=function(jr,wr,Er){return lr(!jr.isZero()),this.isZero()?{div:new cr(0),mod:new cr(0)}:this.negative!==0&&jr.negative===0?(Dr=this.neg().divmod(jr,wr),wr!=="mod"&&(Ar=Dr.div.neg()),wr!=="div"&&(Sr=Dr.mod.neg(),Er&&Sr.negative!==0&&Sr.iadd(jr)),{div:Ar,mod:Sr}):this.negative===0&&jr.negative!==0?(Dr=this.divmod(jr.neg(),wr),wr!=="mod"&&(Ar=Dr.div.neg()),{div:Ar,mod:Dr.mod}):this.negative&jr.negative?(Dr=this.neg().divmod(jr.neg(),wr),wr!=="div"&&(Sr=Dr.mod.neg(),Er&&Sr.negative!==0&&Sr.isub(jr)),{div:Dr.div,mod:Sr}):jr.length>this.length||this.cmp(jr)<0?{div:new cr(0),mod:this}:jr.length===1?wr==="div"?{div:this.divn(jr.words[0]),mod:null}:wr==="mod"?{div:null,mod:new cr(this.modrn(jr.words[0]))}:{div:this.divn(jr.words[0]),mod:new cr(this.modrn(jr.words[0]))}:this._wordDiv(jr,wr);var Ar,Sr,Dr},cr.prototype.div=function(jr){return this.divmod(jr,"div",!1).div},cr.prototype.mod=function(jr){return this.divmod(jr,"mod",!1).mod},cr.prototype.umod=function(jr){return this.divmod(jr,"mod",!0).mod},cr.prototype.divRound=function(jr){var wr=this.divmod(jr);if(wr.mod.isZero())return wr.div;var Er=wr.div.negative!==0?wr.mod.isub(jr):wr.mod,Ar=jr.ushrn(1),Sr=jr.andln(1),Dr=Er.cmp(Ar);return Dr<0||Sr===1&&Dr===0?wr.div:wr.div.negative!==0?wr.div.isubn(1):wr.div.iaddn(1)},cr.prototype.modrn=function(jr){var wr=jr<0;wr&&(jr=-jr),lr(jr<=67108863);for(var Er=(1<<26)%jr,Ar=0,Sr=this.length-1;Sr>=0;Sr--)Ar=(Er*Ar+(0|this.words[Sr]))%jr;return wr?-Ar:Ar},cr.prototype.modn=function(jr){return this.modrn(jr)},cr.prototype.idivn=function(jr){var wr=jr<0;wr&&(jr=-jr),lr(jr<=67108863);for(var Er=0,Ar=this.length-1;Ar>=0;Ar--){var Sr=(0|this.words[Ar])+67108864*Er;this.words[Ar]=Sr/jr|0,Er=Sr%jr}return this._strip(),wr?this.ineg():this},cr.prototype.divn=function(jr){return this.clone().idivn(jr)},cr.prototype.egcd=function(jr){lr(jr.negative===0),lr(!jr.isZero());var wr=this,Er=jr.clone();wr=wr.negative!==0?wr.umod(jr):wr.clone();for(var Ar=new cr(1),Sr=new cr(0),Dr=new cr(0),Wr=new cr(1),$r=0;wr.isEven()&&Er.isEven();)wr.iushrn(1),Er.iushrn(1),++$r;for(var Vr=Er.clone(),zr=wr.clone();!wr.isZero();){for(var Gr=0,Fr=1;!(wr.words[0]&Fr)&&Gr<26;++Gr,Fr<<=1);if(Gr>0)for(wr.iushrn(Gr);Gr-- >0;)(Ar.isOdd()||Sr.isOdd())&&(Ar.iadd(Vr),Sr.isub(zr)),Ar.iushrn(1),Sr.iushrn(1);for(var Xr=0,Ur=1;!(Er.words[0]&Ur)&&Xr<26;++Xr,Ur<<=1);if(Xr>0)for(Er.iushrn(Xr);Xr-- >0;)(Dr.isOdd()||Wr.isOdd())&&(Dr.iadd(Vr),Wr.isub(zr)),Dr.iushrn(1),Wr.iushrn(1);wr.cmp(Er)>=0?(wr.isub(Er),Ar.isub(Dr),Sr.isub(Wr)):(Er.isub(wr),Dr.isub(Ar),Wr.isub(Sr))}return{a:Dr,b:Wr,gcd:Er.iushln($r)}},cr.prototype._invmp=function(jr){lr(jr.negative===0),lr(!jr.isZero());var wr=this,Er=jr.clone();wr=wr.negative!==0?wr.umod(jr):wr.clone();for(var Ar,Sr=new cr(1),Dr=new cr(0),Wr=Er.clone();wr.cmpn(1)>0&&Er.cmpn(1)>0;){for(var $r=0,Vr=1;!(wr.words[0]&Vr)&&$r<26;++$r,Vr<<=1);if($r>0)for(wr.iushrn($r);$r-- >0;)Sr.isOdd()&&Sr.iadd(Wr),Sr.iushrn(1);for(var zr=0,Gr=1;!(Er.words[0]&Gr)&&zr<26;++zr,Gr<<=1);if(zr>0)for(Er.iushrn(zr);zr-- >0;)Dr.isOdd()&&Dr.iadd(Wr),Dr.iushrn(1);wr.cmp(Er)>=0?(wr.isub(Er),Sr.isub(Dr)):(Er.isub(wr),Dr.isub(Sr))}return(Ar=wr.cmpn(1)===0?Sr:Dr).cmpn(0)<0&&Ar.iadd(jr),Ar},cr.prototype.gcd=function(jr){if(this.isZero())return jr.abs();if(jr.isZero())return this.abs();var wr=this.clone(),Er=jr.clone();wr.negative=0,Er.negative=0;for(var Ar=0;wr.isEven()&&Er.isEven();Ar++)wr.iushrn(1),Er.iushrn(1);for(;;){for(;wr.isEven();)wr.iushrn(1);for(;Er.isEven();)Er.iushrn(1);var Sr=wr.cmp(Er);if(Sr<0){var Dr=wr;wr=Er,Er=Dr}else if(Sr===0||Er.cmpn(1)===0)break;wr.isub(Er)}return Er.iushln(Ar)},cr.prototype.invm=function(jr){return this.egcd(jr).a.umod(jr)},cr.prototype.isEven=function(){return(1&this.words[0])==0},cr.prototype.isOdd=function(){return(1&this.words[0])==1},cr.prototype.andln=function(jr){return this.words[0]&jr},cr.prototype.bincn=function(jr){lr(typeof jr=="number");var wr=jr%26,Er=(jr-wr)/26,Ar=1<<wr;if(this.length<=Er)return this._expand(Er+1),this.words[Er]|=Ar,this;for(var Sr=Ar,Dr=Er;Sr!==0&&Dr<this.length;Dr++){var Wr=0|this.words[Dr];Sr=(Wr+=Sr)>>>26,Wr&=67108863,this.words[Dr]=Wr}return Sr!==0&&(this.words[Dr]=Sr,this.length++),this},cr.prototype.isZero=function(){return this.length===1&&this.words[0]===0},cr.prototype.cmpn=function(jr){var wr,Er=jr<0;if(this.negative!==0&&!Er)return-1;if(this.negative===0&&Er)return 1;if(this._strip(),this.length>1)wr=1;else{Er&&(jr=-jr),lr(jr<=67108863,"Number is too big");var Ar=0|this.words[0];wr=Ar===jr?0:Ar<jr?-1:1}return this.negative!==0?0|-wr:wr},cr.prototype.cmp=function(jr){if(this.negative!==0&&jr.negative===0)return-1;if(this.negative===0&&jr.negative!==0)return 1;var wr=this.ucmp(jr);return this.negative!==0?0|-wr:wr},cr.prototype.ucmp=function(jr){if(this.length>jr.length)return 1;if(this.length<jr.length)return-1;for(var wr=0,Er=this.length-1;Er>=0;Er--){var Ar=0|this.words[Er],Sr=0|jr.words[Er];if(Ar!==Sr){Ar<Sr?wr=-1:Ar>Sr&&(wr=1);break}}return wr},cr.prototype.gtn=function(jr){return this.cmpn(jr)===1},cr.prototype.gt=function(jr){return this.cmp(jr)===1},cr.prototype.gten=function(jr){return this.cmpn(jr)>=0},cr.prototype.gte=function(jr){return this.cmp(jr)>=0},cr.prototype.ltn=function(jr){return this.cmpn(jr)===-1},cr.prototype.lt=function(jr){return this.cmp(jr)===-1},cr.prototype.lten=function(jr){return this.cmpn(jr)<=0},cr.prototype.lte=function(jr){return this.cmp(jr)<=0},cr.prototype.eqn=function(jr){return this.cmpn(jr)===0},cr.prototype.eq=function(jr){return this.cmp(jr)===0},cr.red=function(jr){return new Pr(jr)},cr.prototype.toRed=function(jr){return lr(!this.red,"Already a number in reduction context"),lr(this.negative===0,"red works only with positives"),jr.convertTo(this)._forceRed(jr)},cr.prototype.fromRed=function(){return lr(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},cr.prototype._forceRed=function(jr){return this.red=jr,this},cr.prototype.forceRed=function(jr){return lr(!this.red,"Already a number in reduction context"),this._forceRed(jr)},cr.prototype.redAdd=function(jr){return lr(this.red,"redAdd works only with red numbers"),this.red.add(this,jr)},cr.prototype.redIAdd=function(jr){return lr(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,jr)},cr.prototype.redSub=function(jr){return lr(this.red,"redSub works only with red numbers"),this.red.sub(this,jr)},cr.prototype.redISub=function(jr){return lr(this.red,"redISub works only with red numbers"),this.red.isub(this,jr)},cr.prototype.redShl=function(jr){return lr(this.red,"redShl works only with red numbers"),this.red.shl(this,jr)},cr.prototype.redMul=function(jr){return lr(this.red,"redMul works only with red numbers"),this.red._verify2(this,jr),this.red.mul(this,jr)},cr.prototype.redIMul=function(jr){return lr(this.red,"redMul works only with red numbers"),this.red._verify2(this,jr),this.red.imul(this,jr)},cr.prototype.redSqr=function(){return lr(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},cr.prototype.redISqr=function(){return lr(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},cr.prototype.redSqrt=function(){return lr(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},cr.prototype.redInvm=function(){return lr(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},cr.prototype.redNeg=function(){return lr(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},cr.prototype.redPow=function(jr){return lr(this.red&&!jr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,jr)};var Cr={k256:null,p224:null,p192:null,p25519:null};function Tr(jr,wr){this.name=jr,this.p=new cr(wr,16),this.n=this.p.bitLength(),this.k=new cr(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Ir(){Tr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Lr(){Tr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Nr(){Tr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Or(){Tr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Pr(jr){if(typeof jr=="string"){var wr=cr._prime(jr);this.m=wr.p,this.prime=wr}else lr(jr.gtn(1),"modulus must be greater than 1"),this.m=jr,this.prime=null}function Mr(jr){Pr.call(this,jr),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new cr(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Tr.prototype._tmp=function(){var jr=new cr(null);return jr.words=new Array(Math.ceil(this.n/13)),jr},Tr.prototype.ireduce=function(jr){var wr,Er=jr;do this.split(Er,this.tmp),wr=(Er=(Er=this.imulK(Er)).iadd(this.tmp)).bitLength();while(wr>this.n);var Ar=wr<this.n?-1:Er.ucmp(this.p);return Ar===0?(Er.words[0]=0,Er.length=1):Ar>0?Er.isub(this.p):Er.strip!==void 0?Er.strip():Er._strip(),Er},Tr.prototype.split=function(jr,wr){jr.iushrn(this.n,0,wr)},Tr.prototype.imulK=function(jr){return jr.imul(this.k)},or(Ir,Tr),Ir.prototype.split=function(jr,wr){for(var Er=Math.min(jr.length,9),Ar=0;Ar<Er;Ar++)wr.words[Ar]=jr.words[Ar];if(wr.length=Er,jr.length<=9)return jr.words[0]=0,void(jr.length=1);var Sr=jr.words[9];for(wr.words[wr.length++]=4194303&Sr,Ar=10;Ar<jr.length;Ar++){var Dr=0|jr.words[Ar];jr.words[Ar-10]=(4194303&Dr)<<4|Sr>>>22,Sr=Dr}Sr>>>=22,jr.words[Ar-10]=Sr,Sr===0&&jr.length>10?jr.length-=10:jr.length-=9},Ir.prototype.imulK=function(jr){jr.words[jr.length]=0,jr.words[jr.length+1]=0,jr.length+=2;for(var wr=0,Er=0;Er<jr.length;Er++){var Ar=0|jr.words[Er];wr+=977*Ar,jr.words[Er]=67108863&wr,wr=64*Ar+(wr/67108864|0)}return jr.words[jr.length-1]===0&&(jr.length--,jr.words[jr.length-1]===0&&jr.length--),jr},or(Lr,Tr),or(Nr,Tr),or(Or,Tr),Or.prototype.imulK=function(jr){for(var wr=0,Er=0;Er<jr.length;Er++){var Ar=19*(0|jr.words[Er])+wr,Sr=67108863&Ar;Ar>>>=26,jr.words[Er]=Sr,wr=Ar}return wr!==0&&(jr.words[jr.length++]=wr),jr},cr._prime=function(jr){if(Cr[jr])return Cr[jr];var wr;if(jr==="k256")wr=new Ir;else if(jr==="p224")wr=new Lr;else if(jr==="p192")wr=new Nr;else{if(jr!=="p25519")throw new Error("Unknown prime "+jr);wr=new Or}return Cr[jr]=wr,wr},Pr.prototype._verify1=function(jr){lr(jr.negative===0,"red works only with positives"),lr(jr.red,"red works only with red numbers")},Pr.prototype._verify2=function(jr,wr){lr((jr.negative|wr.negative)==0,"red works only with positives"),lr(jr.red&&jr.red===wr.red,"red works only with red numbers")},Pr.prototype.imod=function(jr){return this.prime?this.prime.ireduce(jr)._forceRed(this):(mr(jr,jr.umod(this.m)._forceRed(this)),jr)},Pr.prototype.neg=function(jr){return jr.isZero()?jr.clone():this.m.sub(jr)._forceRed(this)},Pr.prototype.add=function(jr,wr){this._verify2(jr,wr);var Er=jr.add(wr);return Er.cmp(this.m)>=0&&Er.isub(this.m),Er._forceRed(this)},Pr.prototype.iadd=function(jr,wr){this._verify2(jr,wr);var Er=jr.iadd(wr);return Er.cmp(this.m)>=0&&Er.isub(this.m),Er},Pr.prototype.sub=function(jr,wr){this._verify2(jr,wr);var Er=jr.sub(wr);return Er.cmpn(0)<0&&Er.iadd(this.m),Er._forceRed(this)},Pr.prototype.isub=function(jr,wr){this._verify2(jr,wr);var Er=jr.isub(wr);return Er.cmpn(0)<0&&Er.iadd(this.m),Er},Pr.prototype.shl=function(jr,wr){return this._verify1(jr),this.imod(jr.ushln(wr))},Pr.prototype.imul=function(jr,wr){return this._verify2(jr,wr),this.imod(jr.imul(wr))},Pr.prototype.mul=function(jr,wr){return this._verify2(jr,wr),this.imod(jr.mul(wr))},Pr.prototype.isqr=function(jr){return this.imul(jr,jr.clone())},Pr.prototype.sqr=function(jr){return this.mul(jr,jr)},Pr.prototype.sqrt=function(jr){if(jr.isZero())return jr.clone();var wr=this.m.andln(3);if(lr(wr%2==1),wr===3){var Er=this.m.add(new cr(1)).iushrn(2);return this.pow(jr,Er)}for(var Ar=this.m.subn(1),Sr=0;!Ar.isZero()&&Ar.andln(1)===0;)Sr++,Ar.iushrn(1);lr(!Ar.isZero());var Dr=new cr(1).toRed(this),Wr=Dr.redNeg(),$r=this.m.subn(1).iushrn(1),Vr=this.m.bitLength();for(Vr=new cr(2*Vr*Vr).toRed(this);this.pow(Vr,$r).cmp(Wr)!==0;)Vr.redIAdd(Wr);for(var zr=this.pow(Vr,Ar),Gr=this.pow(jr,Ar.addn(1).iushrn(1)),Fr=this.pow(jr,Ar),Xr=Sr;Fr.cmp(Dr)!==0;){for(var Ur=Fr,Br=0;Ur.cmp(Dr)!==0;Br++)Ur=Ur.redSqr();lr(Br<Xr);var Kr=this.pow(zr,new cr(1).iushln(Xr-Br-1));Gr=Gr.redMul(Kr),zr=Kr.redSqr(),Fr=Fr.redMul(zr),Xr=Br}return Gr},Pr.prototype.invm=function(jr){var wr=jr._invmp(this.m);return wr.negative!==0?(wr.negative=0,this.imod(wr).redNeg()):this.imod(wr)},Pr.prototype.pow=function(jr,wr){if(wr.isZero())return new cr(1).toRed(this);if(wr.cmpn(1)===0)return jr.clone();var Er=new Array(16);Er[0]=new cr(1).toRed(this),Er[1]=jr;for(var Ar=2;Ar<Er.length;Ar++)Er[Ar]=this.mul(Er[Ar-1],jr);var Sr=Er[0],Dr=0,Wr=0,$r=wr.bitLength()%26;for($r===0&&($r=26),Ar=wr.length-1;Ar>=0;Ar--){for(var Vr=wr.words[Ar],zr=$r-1;zr>=0;zr--){var Gr=Vr>>zr&1;Sr!==Er[0]&&(Sr=this.sqr(Sr)),Gr!==0||Dr!==0?(Dr<<=1,Dr|=Gr,(++Wr===4||Ar===0&&zr===0)&&(Sr=this.mul(Sr,Er[Dr]),Wr=0,Dr=0)):Wr=0}$r=26}return Sr},Pr.prototype.convertTo=function(jr){var wr=jr.umod(this.m);return wr===jr?wr.clone():wr},Pr.prototype.convertFrom=function(jr){var wr=jr.clone();return wr.red=null,wr},cr.mont=function(jr){return new Mr(jr)},or(Mr,Pr),Mr.prototype.convertTo=function(jr){return this.imod(jr.ushln(this.shift))},Mr.prototype.convertFrom=function(jr){var wr=this.imod(jr.mul(this.rinv));return wr.red=null,wr},Mr.prototype.imul=function(jr,wr){if(jr.isZero()||wr.isZero())return jr.words[0]=0,jr.length=1,jr;var Er=jr.imul(wr),Ar=Er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Sr=Er.isub(Ar).iushrn(this.shift),Dr=Sr;return Sr.cmp(this.m)>=0?Dr=Sr.isub(this.m):Sr.cmpn(0)<0&&(Dr=Sr.iadd(this.m)),Dr._forceRed(this)},Mr.prototype.mul=function(jr,wr){if(jr.isZero()||wr.isZero())return new cr(0)._forceRed(this);var Er=jr.mul(wr),Ar=Er.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Sr=Er.isub(Ar).iushrn(this.shift),Dr=Sr;return Sr.cmp(this.m)>=0?Dr=Sr.isub(this.m):Sr.cmpn(0)<0&&(Dr=Sr.iadd(this.m)),Dr._forceRed(this)},Mr.prototype.invm=function(jr){return this.imod(jr._invmp(this.m).mul(this.r2))._forceRed(this)}})(nr===void 0||nr)},{buffer:188}],187:[function(rr,nr,ir){var ar;function sr(or){this.rand=or}if(nr.exports=function(or){return ar||(ar=new sr(null)),ar.generate(or)},nr.exports.Rand=sr,sr.prototype.generate=function(or){return this._rand(or)},sr.prototype._rand=function(or){if(this.rand.getBytes)return this.rand.getBytes(or);for(var cr=new Uint8Array(or),ur=0;ur<cr.length;ur++)cr[ur]=this.rand.getByte();return cr},typeof self=="object")self.crypto&&self.crypto.getRandomValues?sr.prototype._rand=function(or){var cr=new Uint8Array(or);return self.crypto.getRandomValues(cr),cr}:self.msCrypto&&self.msCrypto.getRandomValues?sr.prototype._rand=function(or){var cr=new Uint8Array(or);return self.msCrypto.getRandomValues(cr),cr}:typeof window=="object"&&(sr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var lr=rr("crypto");if(typeof lr.randomBytes!="function")throw new Error("Not supported");sr.prototype._rand=function(or){return lr.randomBytes(or)}}catch{}},{crypto:188}],188:[function(rr,nr,ir){},{}],189:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer;function sr(hr){ar.isBuffer(hr)||(hr=ar.from(hr));for(var fr=hr.length/4|0,mr=new Array(fr),br=0;br<fr;br++)mr[br]=hr.readUInt32BE(4*br);return mr}function lr(hr){for(;0<hr.length;hr++)hr[0]=0}function or(hr,fr,mr,br,pr){for(var gr,yr,vr,_r,xr=mr[0],Rr=mr[1],Cr=mr[2],Tr=mr[3],Ir=hr[0]^fr[0],Lr=hr[1]^fr[1],Nr=hr[2]^fr[2],Or=hr[3]^fr[3],Pr=4,Mr=1;Mr<pr;Mr++)gr=xr[Ir>>>24]^Rr[Lr>>>16&255]^Cr[Nr>>>8&255]^Tr[255&Or]^fr[Pr++],yr=xr[Lr>>>24]^Rr[Nr>>>16&255]^Cr[Or>>>8&255]^Tr[255&Ir]^fr[Pr++],vr=xr[Nr>>>24]^Rr[Or>>>16&255]^Cr[Ir>>>8&255]^Tr[255&Lr]^fr[Pr++],_r=xr[Or>>>24]^Rr[Ir>>>16&255]^Cr[Lr>>>8&255]^Tr[255&Nr]^fr[Pr++],Ir=gr,Lr=yr,Nr=vr,Or=_r;return gr=(br[Ir>>>24]<<24|br[Lr>>>16&255]<<16|br[Nr>>>8&255]<<8|br[255&Or])^fr[Pr++],yr=(br[Lr>>>24]<<24|br[Nr>>>16&255]<<16|br[Or>>>8&255]<<8|br[255&Ir])^fr[Pr++],vr=(br[Nr>>>24]<<24|br[Or>>>16&255]<<16|br[Ir>>>8&255]<<8|br[255&Lr])^fr[Pr++],_r=(br[Or>>>24]<<24|br[Ir>>>16&255]<<16|br[Lr>>>8&255]<<8|br[255&Nr])^fr[Pr++],[gr>>>=0,yr>>>=0,vr>>>=0,_r>>>=0]}var cr=[0,1,2,4,8,16,32,64,128,27,54],ur=function(){for(var hr=new Array(256),fr=0;fr<256;fr++)hr[fr]=fr<128?fr<<1:fr<<1^283;for(var mr=[],br=[],pr=[[],[],[],[]],gr=[[],[],[],[]],yr=0,vr=0,_r=0;_r<256;++_r){var xr=vr^vr<<1^vr<<2^vr<<3^vr<<4;xr=xr>>>8^255&xr^99,mr[yr]=xr,br[xr]=yr;var Rr=hr[yr],Cr=hr[Rr],Tr=hr[Cr],Ir=257*hr[xr]^16843008*xr;pr[0][yr]=Ir<<24|Ir>>>8,pr[1][yr]=Ir<<16|Ir>>>16,pr[2][yr]=Ir<<8|Ir>>>24,pr[3][yr]=Ir,Ir=16843009*Tr^65537*Cr^257*Rr^16843008*yr,gr[0][xr]=Ir<<24|Ir>>>8,gr[1][xr]=Ir<<16|Ir>>>16,gr[2][xr]=Ir<<8|Ir>>>24,gr[3][xr]=Ir,yr===0?yr=vr=1:(yr=Rr^hr[hr[hr[Tr^Rr]]],vr^=hr[hr[vr]])}return{SBOX:mr,INV_SBOX:br,SUB_MIX:pr,INV_SUB_MIX:gr}}();function dr(hr){this._key=sr(hr),this._reset()}dr.blockSize=16,dr.keySize=32,dr.prototype.blockSize=dr.blockSize,dr.prototype.keySize=dr.keySize,dr.prototype._reset=function(){for(var hr=this._key,fr=hr.length,mr=fr+6,br=4*(mr+1),pr=[],gr=0;gr<fr;gr++)pr[gr]=hr[gr];for(gr=fr;gr<br;gr++){var yr=pr[gr-1];gr%fr==0?(yr=yr<<8|yr>>>24,yr=ur.SBOX[yr>>>24]<<24|ur.SBOX[yr>>>16&255]<<16|ur.SBOX[yr>>>8&255]<<8|ur.SBOX[255&yr],yr^=cr[gr/fr|0]<<24):fr>6&&gr%fr==4&&(yr=ur.SBOX[yr>>>24]<<24|ur.SBOX[yr>>>16&255]<<16|ur.SBOX[yr>>>8&255]<<8|ur.SBOX[255&yr]),pr[gr]=pr[gr-fr]^yr}for(var vr=[],_r=0;_r<br;_r++){var xr=br-_r,Rr=pr[xr-(_r%4?0:4)];vr[_r]=_r<4||xr<=4?Rr:ur.INV_SUB_MIX[0][ur.SBOX[Rr>>>24]]^ur.INV_SUB_MIX[1][ur.SBOX[Rr>>>16&255]]^ur.INV_SUB_MIX[2][ur.SBOX[Rr>>>8&255]]^ur.INV_SUB_MIX[3][ur.SBOX[255&Rr]]}this._nRounds=mr,this._keySchedule=pr,this._invKeySchedule=vr},dr.prototype.encryptBlockRaw=function(hr){return or(hr=sr(hr),this._keySchedule,ur.SUB_MIX,ur.SBOX,this._nRounds)},dr.prototype.encryptBlock=function(hr){var fr=this.encryptBlockRaw(hr),mr=ar.allocUnsafe(16);return mr.writeUInt32BE(fr[0],0),mr.writeUInt32BE(fr[1],4),mr.writeUInt32BE(fr[2],8),mr.writeUInt32BE(fr[3],12),mr},dr.prototype.decryptBlock=function(hr){var fr=(hr=sr(hr))[1];hr[1]=hr[3],hr[3]=fr;var mr=or(hr,this._invKeySchedule,ur.INV_SUB_MIX,ur.INV_SBOX,this._nRounds),br=ar.allocUnsafe(16);return br.writeUInt32BE(mr[0],0),br.writeUInt32BE(mr[3],4),br.writeUInt32BE(mr[2],8),br.writeUInt32BE(mr[1],12),br},dr.prototype.scrub=function(){lr(this._keySchedule),lr(this._invKeySchedule),lr(this._key)},nr.exports.AES=dr},{"safe-buffer":494}],190:[function(rr,nr,ir){var ar=rr("./aes"),sr=rr("safe-buffer").Buffer,lr=rr("cipher-base"),or=rr("inherits"),cr=rr("./ghash"),ur=rr("buffer-xor"),dr=rr("./incr32");function hr(fr,mr,br,pr){lr.call(this);var gr=sr.alloc(4,0);this._cipher=new ar.AES(mr);var yr=this._cipher.encryptBlock(gr);this._ghash=new cr(yr),br=function(vr,_r,xr){if(_r.length===12)return vr._finID=sr.concat([_r,sr.from([0,0,0,1])]),sr.concat([_r,sr.from([0,0,0,2])]);var Rr=new cr(xr),Cr=_r.length,Tr=Cr%16;Rr.update(_r),Tr&&(Tr=16-Tr,Rr.update(sr.alloc(Tr,0))),Rr.update(sr.alloc(8,0));var Ir=8*Cr,Lr=sr.alloc(8);Lr.writeUIntBE(Ir,0,8),Rr.update(Lr),vr._finID=Rr.state;var Nr=sr.from(vr._finID);return dr(Nr),Nr}(this,br,yr),this._prev=sr.from(br),this._cache=sr.allocUnsafe(0),this._secCache=sr.allocUnsafe(0),this._decrypt=pr,this._alen=0,this._len=0,this._mode=fr,this._authTag=null,this._called=!1}or(hr,lr),hr.prototype._update=function(fr){if(!this._called&&this._alen){var mr=16-this._alen%16;mr<16&&(mr=sr.alloc(mr,0),this._ghash.update(mr))}this._called=!0;var br=this._mode.encrypt(this,fr);return this._decrypt?this._ghash.update(fr):this._ghash.update(br),this._len+=fr.length,br},hr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var fr=ur(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(mr,br){var pr=0;mr.length!==br.length&&pr++;for(var gr=Math.min(mr.length,br.length),yr=0;yr<gr;++yr)pr+=mr[yr]^br[yr];return pr}(fr,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=fr,this._cipher.scrub()},hr.prototype.getAuthTag=function(){if(this._decrypt||!sr.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},hr.prototype.setAuthTag=function(fr){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=fr},hr.prototype.setAAD=function(fr){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(fr),this._alen+=fr.length},nr.exports=hr},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(rr,nr,ir){var ar=rr("./encrypter"),sr=rr("./decrypter"),lr=rr("./modes/list.json");ir.createCipher=ir.Cipher=ar.createCipher,ir.createCipheriv=ir.Cipheriv=ar.createCipheriv,ir.createDecipher=ir.Decipher=sr.createDecipher,ir.createDecipheriv=ir.Decipheriv=sr.createDecipheriv,ir.listCiphers=ir.getCiphers=function(){return Object.keys(lr)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(rr,nr,ir){var ar=rr("./authCipher"),sr=rr("safe-buffer").Buffer,lr=rr("./modes"),or=rr("./streamCipher"),cr=rr("cipher-base"),ur=rr("./aes"),dr=rr("evp_bytestokey");function hr(br,pr,gr){cr.call(this),this._cache=new fr,this._last=void 0,this._cipher=new ur.AES(pr),this._prev=sr.from(gr),this._mode=br,this._autopadding=!0}function fr(){this.cache=sr.allocUnsafe(0)}function mr(br,pr,gr){var yr=lr[br.toLowerCase()];if(!yr)throw new TypeError("invalid suite type");if(typeof gr=="string"&&(gr=sr.from(gr)),yr.mode!=="GCM"&&gr.length!==yr.iv)throw new TypeError("invalid iv length "+gr.length);if(typeof pr=="string"&&(pr=sr.from(pr)),pr.length!==yr.key/8)throw new TypeError("invalid key length "+pr.length);return yr.type==="stream"?new or(yr.module,pr,gr,!0):yr.type==="auth"?new ar(yr.module,pr,gr,!0):new hr(yr.module,pr,gr)}rr("inherits")(hr,cr),hr.prototype._update=function(br){var pr,gr;this._cache.add(br);for(var yr=[];pr=this._cache.get(this._autopadding);)gr=this._mode.decrypt(this,pr),yr.push(gr);return sr.concat(yr)},hr.prototype._final=function(){var br=this._cache.flush();if(this._autopadding)return function(pr){var gr=pr[15];if(gr<1||gr>16)throw new Error("unable to decrypt data");for(var yr=-1;++yr<gr;)if(pr[yr+(16-gr)]!==gr)throw new Error("unable to decrypt data");if(gr!==16)return pr.slice(0,16-gr)}(this._mode.decrypt(this,br));if(br)throw new Error("data not multiple of block length")},hr.prototype.setAutoPadding=function(br){return this._autopadding=!!br,this},fr.prototype.add=function(br){this.cache=sr.concat([this.cache,br])},fr.prototype.get=function(br){var pr;if(br){if(this.cache.length>16)return pr=this.cache.slice(0,16),this.cache=this.cache.slice(16),pr}else if(this.cache.length>=16)return pr=this.cache.slice(0,16),this.cache=this.cache.slice(16),pr;return null},fr.prototype.flush=function(){if(this.cache.length)return this.cache},ir.createDecipher=function(br,pr){var gr=lr[br.toLowerCase()];if(!gr)throw new TypeError("invalid suite type");var yr=dr(pr,!1,gr.key,gr.iv);return mr(br,yr.key,yr.iv)},ir.createDecipheriv=mr},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(rr,nr,ir){var ar=rr("./modes"),sr=rr("./authCipher"),lr=rr("safe-buffer").Buffer,or=rr("./streamCipher"),cr=rr("cipher-base"),ur=rr("./aes"),dr=rr("evp_bytestokey");function hr(pr,gr,yr){cr.call(this),this._cache=new mr,this._cipher=new ur.AES(gr),this._prev=lr.from(yr),this._mode=pr,this._autopadding=!0}rr("inherits")(hr,cr),hr.prototype._update=function(pr){var gr,yr;this._cache.add(pr);for(var vr=[];gr=this._cache.get();)yr=this._mode.encrypt(this,gr),vr.push(yr);return lr.concat(vr)};var fr=lr.alloc(16,16);function mr(){this.cache=lr.allocUnsafe(0)}function br(pr,gr,yr){var vr=ar[pr.toLowerCase()];if(!vr)throw new TypeError("invalid suite type");if(typeof gr=="string"&&(gr=lr.from(gr)),gr.length!==vr.key/8)throw new TypeError("invalid key length "+gr.length);if(typeof yr=="string"&&(yr=lr.from(yr)),vr.mode!=="GCM"&&yr.length!==vr.iv)throw new TypeError("invalid iv length "+yr.length);return vr.type==="stream"?new or(vr.module,gr,yr):vr.type==="auth"?new sr(vr.module,gr,yr):new hr(vr.module,gr,yr)}hr.prototype._final=function(){var pr=this._cache.flush();if(this._autopadding)return pr=this._mode.encrypt(this,pr),this._cipher.scrub(),pr;if(!pr.equals(fr))throw this._cipher.scrub(),new Error("data not multiple of block length")},hr.prototype.setAutoPadding=function(pr){return this._autopadding=!!pr,this},mr.prototype.add=function(pr){this.cache=lr.concat([this.cache,pr])},mr.prototype.get=function(){if(this.cache.length>15){var pr=this.cache.slice(0,16);return this.cache=this.cache.slice(16),pr}return null},mr.prototype.flush=function(){for(var pr=16-this.cache.length,gr=lr.allocUnsafe(pr),yr=-1;++yr<pr;)gr.writeUInt8(pr,yr);return lr.concat([this.cache,gr])},ir.createCipheriv=br,ir.createCipher=function(pr,gr){var yr=ar[pr.toLowerCase()];if(!yr)throw new TypeError("invalid suite type");var vr=dr(gr,!1,yr.key,yr.iv);return br(pr,vr.key,vr.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=ar.alloc(16,0);function lr(cr){var ur=ar.allocUnsafe(16);return ur.writeUInt32BE(cr[0]>>>0,0),ur.writeUInt32BE(cr[1]>>>0,4),ur.writeUInt32BE(cr[2]>>>0,8),ur.writeUInt32BE(cr[3]>>>0,12),ur}function or(cr){this.h=cr,this.state=ar.alloc(16,0),this.cache=ar.allocUnsafe(0)}or.prototype.ghash=function(cr){for(var ur=-1;++ur<cr.length;)this.state[ur]^=cr[ur];this._multiply()},or.prototype._multiply=function(){for(var cr,ur,dr,hr=[(cr=this.h).readUInt32BE(0),cr.readUInt32BE(4),cr.readUInt32BE(8),cr.readUInt32BE(12)],fr=[0,0,0,0],mr=-1;++mr<128;){for(this.state[~~(mr/8)]&1<<7-mr%8&&(fr[0]^=hr[0],fr[1]^=hr[1],fr[2]^=hr[2],fr[3]^=hr[3]),dr=(1&hr[3])!=0,ur=3;ur>0;ur--)hr[ur]=hr[ur]>>>1|(1&hr[ur-1])<<31;hr[0]=hr[0]>>>1,dr&&(hr[0]=hr[0]^225<<24)}this.state=lr(fr)},or.prototype.update=function(cr){var ur;for(this.cache=ar.concat([this.cache,cr]);this.cache.length>=16;)ur=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ur)},or.prototype.final=function(cr,ur){return this.cache.length&&this.ghash(ar.concat([this.cache,sr],16)),this.ghash(lr([0,cr,0,ur])),this.state},nr.exports=or},{"safe-buffer":494}],195:[function(rr,nr,ir){nr.exports=function(ar){for(var sr,lr=ar.length;lr--;){if((sr=ar.readUInt8(lr))!==255){sr++,ar.writeUInt8(sr,lr);break}ar.writeUInt8(0,lr)}}},{}],196:[function(rr,nr,ir){var ar=rr("buffer-xor");ir.encrypt=function(sr,lr){var or=ar(lr,sr._prev);return sr._prev=sr._cipher.encryptBlock(or),sr._prev},ir.decrypt=function(sr,lr){var or=sr._prev;sr._prev=lr;var cr=sr._cipher.decryptBlock(lr);return ar(cr,or)}},{"buffer-xor":219}],197:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("buffer-xor");function lr(or,cr,ur){var dr=cr.length,hr=sr(cr,or._cache);return or._cache=or._cache.slice(dr),or._prev=ar.concat([or._prev,ur?cr:hr]),hr}ir.encrypt=function(or,cr,ur){for(var dr,hr=ar.allocUnsafe(0);cr.length;){if(or._cache.length===0&&(or._cache=or._cipher.encryptBlock(or._prev),or._prev=ar.allocUnsafe(0)),!(or._cache.length<=cr.length)){hr=ar.concat([hr,lr(or,cr,ur)]);break}dr=or._cache.length,hr=ar.concat([hr,lr(or,cr.slice(0,dr),ur)]),cr=cr.slice(dr)}return hr}},{"buffer-xor":219,"safe-buffer":494}],198:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer;function sr(or,cr,ur){for(var dr,hr,fr=-1,mr=0;++fr<8;)dr=cr&1<<7-fr?128:0,mr+=(128&(hr=or._cipher.encryptBlock(or._prev)[0]^dr))>>fr%8,or._prev=lr(or._prev,ur?dr:hr);return mr}function lr(or,cr){var ur=or.length,dr=-1,hr=ar.allocUnsafe(or.length);for(or=ar.concat([or,ar.from([cr])]);++dr<ur;)hr[dr]=or[dr]<<1|or[dr+1]>>7;return hr}ir.encrypt=function(or,cr,ur){for(var dr=cr.length,hr=ar.allocUnsafe(dr),fr=-1;++fr<dr;)hr[fr]=sr(or,cr[fr],ur);return hr}},{"safe-buffer":494}],199:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer;function sr(lr,or,cr){var ur=lr._cipher.encryptBlock(lr._prev)[0]^or;return lr._prev=ar.concat([lr._prev.slice(1),ar.from([cr?or:ur])]),ur}ir.encrypt=function(lr,or,cr){for(var ur=or.length,dr=ar.allocUnsafe(ur),hr=-1;++hr<ur;)dr[hr]=sr(lr,or[hr],cr);return dr}},{"safe-buffer":494}],200:[function(rr,nr,ir){var ar=rr("buffer-xor"),sr=rr("safe-buffer").Buffer,lr=rr("../incr32");function or(cr){var ur=cr._cipher.encryptBlockRaw(cr._prev);return lr(cr._prev),ur}ir.encrypt=function(cr,ur){var dr=Math.ceil(ur.length/16),hr=cr._cache.length;cr._cache=sr.concat([cr._cache,sr.allocUnsafe(16*dr)]);for(var fr=0;fr<dr;fr++){var mr=or(cr),br=hr+16*fr;cr._cache.writeUInt32BE(mr[0],br+0),cr._cache.writeUInt32BE(mr[1],br+4),cr._cache.writeUInt32BE(mr[2],br+8),cr._cache.writeUInt32BE(mr[3],br+12)}var pr=cr._cache.slice(0,ur.length);return cr._cache=cr._cache.slice(ur.length),ar(ur,pr)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(rr,nr,ir){ir.encrypt=function(ar,sr){return ar._cipher.encryptBlock(sr)},ir.decrypt=function(ar,sr){return ar._cipher.decryptBlock(sr)}},{}],202:[function(rr,nr,ir){var ar={ECB:rr("./ecb"),CBC:rr("./cbc"),CFB:rr("./cfb"),CFB8:rr("./cfb8"),CFB1:rr("./cfb1"),OFB:rr("./ofb"),CTR:rr("./ctr"),GCM:rr("./ctr")},sr=rr("./list.json");for(var lr in sr)sr[lr].module=ar[sr[lr].mode];nr.exports=sr},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(rr,nr,ir){nr.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("buffer-xor");function lr(or){return or._prev=or._cipher.encryptBlock(or._prev),or._prev}ir.encrypt=function(or,cr){for(;or._cache.length<cr.length;)or._cache=ar.concat([or._cache,lr(or)]);var ur=or._cache.slice(0,cr.length);return or._cache=or._cache.slice(cr.length),sr(cr,ur)}}).call(this)}).call(this,rr("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(rr,nr,ir){var ar=rr("./aes"),sr=rr("safe-buffer").Buffer,lr=rr("cipher-base");function or(cr,ur,dr,hr){lr.call(this),this._cipher=new ar.AES(ur),this._prev=sr.from(dr),this._cache=sr.allocUnsafe(0),this._secCache=sr.allocUnsafe(0),this._decrypt=hr,this._mode=cr}rr("inherits")(or,lr),or.prototype._update=function(cr){return this._mode.encrypt(this,cr,this._decrypt)},or.prototype._final=function(){this._cipher.scrub()},nr.exports=or},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(rr,nr,ir){var ar=rr("browserify-des"),sr=rr("browserify-aes/browser"),lr=rr("browserify-aes/modes"),or=rr("browserify-des/modes"),cr=rr("evp_bytestokey");function ur(hr,fr,mr){if(hr=hr.toLowerCase(),lr[hr])return sr.createCipheriv(hr,fr,mr);if(or[hr])return new ar({key:fr,iv:mr,mode:hr});throw new TypeError("invalid suite type")}function dr(hr,fr,mr){if(hr=hr.toLowerCase(),lr[hr])return sr.createDecipheriv(hr,fr,mr);if(or[hr])return new ar({key:fr,iv:mr,mode:hr,decrypt:!0});throw new TypeError("invalid suite type")}ir.createCipher=ir.Cipher=function(hr,fr){var mr,br;if(hr=hr.toLowerCase(),lr[hr])mr=lr[hr].key,br=lr[hr].iv;else{if(!or[hr])throw new TypeError("invalid suite type");mr=8*or[hr].key,br=or[hr].iv}var pr=cr(fr,!1,mr,br);return ur(hr,pr.key,pr.iv)},ir.createCipheriv=ir.Cipheriv=ur,ir.createDecipher=ir.Decipher=function(hr,fr){var mr,br;if(hr=hr.toLowerCase(),lr[hr])mr=lr[hr].key,br=lr[hr].iv;else{if(!or[hr])throw new TypeError("invalid suite type");mr=8*or[hr].key,br=or[hr].iv}var pr=cr(fr,!1,mr,br);return dr(hr,pr.key,pr.iv)},ir.createDecipheriv=ir.Decipheriv=dr,ir.listCiphers=ir.getCiphers=function(){return Object.keys(or).concat(sr.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(rr,nr,ir){var ar=rr("cipher-base"),sr=rr("des.js"),lr=rr("inherits"),or=rr("safe-buffer").Buffer,cr={"des-ede3-cbc":sr.CBC.instantiate(sr.EDE),"des-ede3":sr.EDE,"des-ede-cbc":sr.CBC.instantiate(sr.EDE),"des-ede":sr.EDE,"des-cbc":sr.CBC.instantiate(sr.DES),"des-ecb":sr.DES};function ur(dr){ar.call(this);var hr,fr=dr.mode.toLowerCase(),mr=cr[fr];hr=dr.decrypt?"decrypt":"encrypt";var br=dr.key;or.isBuffer(br)||(br=or.from(br)),fr!=="des-ede"&&fr!=="des-ede-cbc"||(br=or.concat([br,br.slice(0,8)]));var pr=dr.iv;or.isBuffer(pr)||(pr=or.from(pr)),this._des=mr.create({key:br,iv:pr,type:hr})}cr.des=cr["des-cbc"],cr.des3=cr["des-ede3-cbc"],nr.exports=ur,lr(ur,ar),ur.prototype._update=function(dr){return or.from(this._des.update(dr))},ur.prototype._final=function(){return or.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(rr,nr,ir){ir["des-ecb"]={key:8,iv:0},ir["des-cbc"]=ir.des={key:8,iv:8},ir["des-ede3-cbc"]=ir.des3={key:24,iv:8},ir["des-ede3"]={key:24,iv:0},ir["des-ede-cbc"]={key:16,iv:8},ir["des-ede"]={key:16,iv:0}},{}],209:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("bn.js"),lr=rr("randombytes");function or(ur){var dr,hr=ur.modulus.byteLength();do dr=new sr(lr(hr));while(dr.cmp(ur.modulus)>=0||!dr.umod(ur.prime1)||!dr.umod(ur.prime2));return dr}function cr(ur,dr){var hr=function(Cr){var Tr=or(Cr);return{blinder:Tr.toRed(sr.mont(Cr.modulus)).redPow(new sr(Cr.publicExponent)).fromRed(),unblinder:Tr.invm(Cr.modulus)}}(dr),fr=dr.modulus.byteLength(),mr=new sr(ur).mul(hr.blinder).umod(dr.modulus),br=mr.toRed(sr.mont(dr.prime1)),pr=mr.toRed(sr.mont(dr.prime2)),gr=dr.coefficient,yr=dr.prime1,vr=dr.prime2,_r=br.redPow(dr.exponent1).fromRed(),xr=pr.redPow(dr.exponent2).fromRed(),Rr=_r.isub(xr).imul(gr).umod(yr).imul(vr);return xr.iadd(Rr).imul(hr.unblinder).umod(dr.modulus).toArrayLike(ar,"be",fr)}cr.getr=or,nr.exports=cr}).call(this)}).call(this,rr("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(rr,nr,ir){nr.exports=rr("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(rr,nr,ir){nr.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(rr,nr,ir){nr.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("create-hash"),lr=rr("readable-stream"),or=rr("inherits"),cr=rr("./sign"),ur=rr("./verify"),dr=rr("./algorithms.json");function hr(pr){lr.Writable.call(this);var gr=dr[pr];if(!gr)throw new Error("Unknown message digest");this._hashType=gr.hash,this._hash=sr(gr.hash),this._tag=gr.id,this._signType=gr.sign}function fr(pr){lr.Writable.call(this);var gr=dr[pr];if(!gr)throw new Error("Unknown message digest");this._hash=sr(gr.hash),this._tag=gr.id,this._signType=gr.sign}function mr(pr){return new hr(pr)}function br(pr){return new fr(pr)}Object.keys(dr).forEach(function(pr){dr[pr].id=ar.from(dr[pr].id,"hex"),dr[pr.toLowerCase()]=dr[pr]}),or(hr,lr.Writable),hr.prototype._write=function(pr,gr,yr){this._hash.update(pr),yr()},hr.prototype.update=function(pr,gr){return typeof pr=="string"&&(pr=ar.from(pr,gr)),this._hash.update(pr),this},hr.prototype.sign=function(pr,gr){this.end();var yr=this._hash.digest(),vr=cr(yr,pr,this._hashType,this._signType,this._tag);return gr?vr.toString(gr):vr},or(fr,lr.Writable),fr.prototype._write=function(pr,gr,yr){this._hash.update(pr),yr()},fr.prototype.update=function(pr,gr){return typeof pr=="string"&&(pr=ar.from(pr,gr)),this._hash.update(pr),this},fr.prototype.verify=function(pr,gr,yr){typeof gr=="string"&&(gr=ar.from(gr,yr)),this.end();var vr=this._hash.digest();return ur(gr,vr,pr,this._signType,this._tag)},nr.exports={Sign:mr,Verify:br,createSign:mr,createVerify:br}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("create-hmac"),lr=rr("browserify-rsa"),or=rr("elliptic").ec,cr=rr("bn.js"),ur=rr("parse-asn1"),dr=rr("./curves.json");function hr(pr,gr,yr,vr){if((pr=ar.from(pr.toArray())).length<gr.byteLength()){var _r=ar.alloc(gr.byteLength()-pr.length);pr=ar.concat([_r,pr])}var xr=yr.length,Rr=function(Ir,Lr){Ir=(Ir=fr(Ir,Lr)).mod(Lr);var Nr=ar.from(Ir.toArray());if(Nr.length<Lr.byteLength()){var Or=ar.alloc(Lr.byteLength()-Nr.length);Nr=ar.concat([Or,Nr])}return Nr}(yr,gr),Cr=ar.alloc(xr);Cr.fill(1);var Tr=ar.alloc(xr);return Tr=sr(vr,Tr).update(Cr).update(ar.from([0])).update(pr).update(Rr).digest(),Cr=sr(vr,Tr).update(Cr).digest(),{k:Tr=sr(vr,Tr).update(Cr).update(ar.from([1])).update(pr).update(Rr).digest(),v:Cr=sr(vr,Tr).update(Cr).digest()}}function fr(pr,gr){var yr=new cr(pr),vr=(pr.length<<3)-gr.bitLength();return vr>0&&yr.ishrn(vr),yr}function mr(pr,gr,yr){var vr,_r;do{for(vr=ar.alloc(0);8*vr.length<pr.bitLength();)gr.v=sr(yr,gr.k).update(gr.v).digest(),vr=ar.concat([vr,gr.v]);_r=fr(vr,pr),gr.k=sr(yr,gr.k).update(gr.v).update(ar.from([0])).digest(),gr.v=sr(yr,gr.k).update(gr.v).digest()}while(_r.cmp(pr)!==-1);return _r}function br(pr,gr,yr,vr){return pr.toRed(cr.mont(yr)).redPow(gr).fromRed().mod(vr)}nr.exports=function(pr,gr,yr,vr,_r){var xr=ur(gr);if(xr.curve){if(vr!=="ecdsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");return function(Ir,Lr){var Nr=dr[Lr.curve.join(".")];if(!Nr)throw new Error("unknown curve "+Lr.curve.join("."));var Or=new or(Nr).keyFromPrivate(Lr.privateKey).sign(Ir);return ar.from(Or.toDER())}(pr,xr)}if(xr.type==="dsa"){if(vr!=="dsa")throw new Error("wrong private key type");return function(Ir,Lr,Nr){for(var Or,Pr=Lr.params.priv_key,Mr=Lr.params.p,jr=Lr.params.q,wr=Lr.params.g,Er=new cr(0),Ar=fr(Ir,jr).mod(jr),Sr=!1,Dr=hr(Pr,jr,Ir,Nr);Sr===!1;)Or=mr(jr,Dr,Nr),Er=br(wr,Or,Mr,jr),(Sr=Or.invm(jr).imul(Ar.add(Pr.mul(Er))).mod(jr)).cmpn(0)===0&&(Sr=!1,Er=new cr(0));return function(Wr,$r){Wr=Wr.toArray(),$r=$r.toArray(),128&Wr[0]&&(Wr=[0].concat(Wr)),128&$r[0]&&($r=[0].concat($r));var Vr=[48,Wr.length+$r.length+4,2,Wr.length];return Vr=Vr.concat(Wr,[2,$r.length],$r),ar.from(Vr)}(Er,Sr)}(pr,xr,yr)}if(vr!=="rsa"&&vr!=="ecdsa/rsa")throw new Error("wrong private key type");pr=ar.concat([_r,pr]);for(var Rr=xr.modulus.byteLength(),Cr=[0,1];pr.length+Cr.length+1<Rr;)Cr.push(255);Cr.push(0);for(var Tr=-1;++Tr<pr.length;)Cr.push(pr[Tr]);return lr(Cr,xr)},nr.exports.getKey=hr,nr.exports.makeKey=mr},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("bn.js"),lr=rr("elliptic").ec,or=rr("parse-asn1"),cr=rr("./curves.json");function ur(dr,hr){if(dr.cmpn(0)<=0)throw new Error("invalid sig");if(dr.cmp(hr)>=hr)throw new Error("invalid sig")}nr.exports=function(dr,hr,fr,mr,br){var pr=or(fr);if(pr.type==="ec"){if(mr!=="ecdsa"&&mr!=="ecdsa/rsa")throw new Error("wrong public key type");return function(Cr,Tr,Ir){var Lr=cr[Ir.data.algorithm.curve.join(".")];if(!Lr)throw new Error("unknown curve "+Ir.data.algorithm.curve.join("."));var Nr=new lr(Lr),Or=Ir.data.subjectPrivateKey.data;return Nr.verify(Tr,Cr,Or)}(dr,hr,pr)}if(pr.type==="dsa"){if(mr!=="dsa")throw new Error("wrong public key type");return function(Cr,Tr,Ir){var Lr=Ir.data.p,Nr=Ir.data.q,Or=Ir.data.g,Pr=Ir.data.pub_key,Mr=or.signature.decode(Cr,"der"),jr=Mr.s,wr=Mr.r;ur(jr,Nr),ur(wr,Nr);var Er=sr.mont(Lr),Ar=jr.invm(Nr);return Or.toRed(Er).redPow(new sr(Tr).mul(Ar).mod(Nr)).fromRed().mul(Pr.toRed(Er).redPow(wr.mul(Ar).mod(Nr)).fromRed()).mod(Lr).mod(Nr).cmp(wr)===0}(dr,hr,pr)}if(mr!=="rsa"&&mr!=="ecdsa/rsa")throw new Error("wrong public key type");hr=ar.concat([br,hr]);for(var gr=pr.modulus.byteLength(),yr=[1],vr=0;hr.length+yr.length+2<gr;)yr.push(255),vr++;yr.push(0);for(var _r=-1;++_r<hr.length;)yr.push(hr[_r]);yr=ar.from(yr);var xr=sr.mont(pr.modulus);dr=(dr=new sr(dr).toRed(xr)).redPow(new sr(pr.publicExponent)),dr=ar.from(dr.fromRed().toArray());var Rr=vr<8?1:0;for(gr=Math.min(dr.length,yr.length),dr.length!==yr.length&&(Rr=1),_r=-1;++_r<gr;)Rr|=dr[_r]^yr[_r];return Rr===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(rr,nr,ir){},{}],217:[function(rr,nr,ir){var ar=rr("buffer"),sr=ar.Buffer;function lr(cr,ur){for(var dr in cr)ur[dr]=cr[dr]}function or(cr,ur,dr){return sr(cr,ur,dr)}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?nr.exports=ar:(lr(ar,ir),ir.Buffer=or),lr(sr,or),or.from=function(cr,ur,dr){if(typeof cr=="number")throw new TypeError("Argument must not be a number");return sr(cr,ur,dr)},or.alloc=function(cr,ur,dr){if(typeof cr!="number")throw new TypeError("Argument must be a number");var hr=sr(cr);return ur!==void 0?typeof dr=="string"?hr.fill(ur,dr):hr.fill(ur):hr.fill(0),hr},or.allocUnsafe=function(cr){if(typeof cr!="number")throw new TypeError("Argument must be a number");return sr(cr)},or.allocUnsafeSlow=function(cr){if(typeof cr!="number")throw new TypeError("Argument must be a number");return ar.SlowBuffer(cr)}},{buffer:220}],218:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=ar.isEncoding||function(pr){switch((pr=""+pr)&&pr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function lr(pr){var gr;switch(this.encoding=function(yr){var vr=function(_r){if(!_r)return"utf8";for(var xr;;)switch(_r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _r;default:if(xr)return;_r=(""+_r).toLowerCase(),xr=!0}}(yr);if(typeof vr!="string"&&(ar.isEncoding===sr||!sr(yr)))throw new Error("Unknown encoding: "+yr);return vr||yr}(pr),this.encoding){case"utf16le":this.text=ur,this.end=dr,gr=4;break;case"utf8":this.fillLast=cr,gr=4;break;case"base64":this.text=hr,this.end=fr,gr=3;break;default:return this.write=mr,void(this.end=br)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ar.allocUnsafe(gr)}function or(pr){return pr<=127?0:pr>>5==6?2:pr>>4==14?3:pr>>3==30?4:pr>>6==2?-1:-2}function cr(pr){var gr=this.lastTotal-this.lastNeed,yr=function(vr,_r,xr){if((192&_r[0])!=128)return vr.lastNeed=0,"";if(vr.lastNeed>1&&_r.length>1){if((192&_r[1])!=128)return vr.lastNeed=1,"";if(vr.lastNeed>2&&_r.length>2&&(192&_r[2])!=128)return vr.lastNeed=2,""}}(this,pr);return yr!==void 0?yr:this.lastNeed<=pr.length?(pr.copy(this.lastChar,gr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(pr.copy(this.lastChar,gr,0,pr.length),void(this.lastNeed-=pr.length))}function ur(pr,gr){if((pr.length-gr)%2==0){var yr=pr.toString("utf16le",gr);if(yr){var vr=yr.charCodeAt(yr.length-1);if(vr>=55296&&vr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pr[pr.length-2],this.lastChar[1]=pr[pr.length-1],yr.slice(0,-1)}return yr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pr[pr.length-1],pr.toString("utf16le",gr,pr.length-1)}function dr(pr){var gr=pr&&pr.length?this.write(pr):"";if(this.lastNeed){var yr=this.lastTotal-this.lastNeed;return gr+this.lastChar.toString("utf16le",0,yr)}return gr}function hr(pr,gr){var yr=(pr.length-gr)%3;return yr===0?pr.toString("base64",gr):(this.lastNeed=3-yr,this.lastTotal=3,yr===1?this.lastChar[0]=pr[pr.length-1]:(this.lastChar[0]=pr[pr.length-2],this.lastChar[1]=pr[pr.length-1]),pr.toString("base64",gr,pr.length-yr))}function fr(pr){var gr=pr&&pr.length?this.write(pr):"";return this.lastNeed?gr+this.lastChar.toString("base64",0,3-this.lastNeed):gr}function mr(pr){return pr.toString(this.encoding)}function br(pr){return pr&&pr.length?this.write(pr):""}ir.StringDecoder=lr,lr.prototype.write=function(pr){if(pr.length===0)return"";var gr,yr;if(this.lastNeed){if((gr=this.fillLast(pr))===void 0)return"";yr=this.lastNeed,this.lastNeed=0}else yr=0;return yr<pr.length?gr?gr+this.text(pr,yr):this.text(pr,yr):gr||""},lr.prototype.end=function(pr){var gr=pr&&pr.length?this.write(pr):"";return this.lastNeed?gr+"":gr},lr.prototype.text=function(pr,gr){var yr=function(_r,xr,Rr){var Cr=xr.length-1;if(Cr<Rr)return 0;var Tr=or(xr[Cr]);return Tr>=0?(Tr>0&&(_r.lastNeed=Tr-1),Tr):--Cr<Rr||Tr===-2?0:(Tr=or(xr[Cr]))>=0?(Tr>0&&(_r.lastNeed=Tr-2),Tr):--Cr<Rr||Tr===-2?0:(Tr=or(xr[Cr]))>=0?(Tr>0&&(Tr===2?Tr=0:_r.lastNeed=Tr-3),Tr):0}(this,pr,gr);if(!this.lastNeed)return pr.toString("utf8",gr);this.lastTotal=yr;var vr=pr.length-(yr-this.lastNeed);return pr.copy(this.lastChar,0,vr),pr.toString("utf8",gr,vr)},lr.prototype.fillLast=function(pr){if(this.lastNeed<=pr.length)return pr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pr.length),this.lastNeed-=pr.length}},{"safe-buffer":217}],219:[function(rr,nr,ir){(function(ar){(function(){nr.exports=function(sr,lr){for(var or=Math.min(sr.length,lr.length),cr=new ar(or),ur=0;ur<or;++ur)cr[ur]=sr[ur]^lr[ur];return cr}}).call(this)}).call(this,rr("buffer").Buffer)},{buffer:220}],220:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("base64-js"),lr=rr("ieee754");ir.Buffer=cr,ir.SlowBuffer=function(Ur){return+Ur!=Ur&&(Ur=0),cr.alloc(+Ur)},ir.INSPECT_MAX_BYTES=50;function or(Ur){if(Ur>2147483647)throw new RangeError('The value "'+Ur+'" is invalid for option "size"');var Br=new Uint8Array(Ur);return Br.__proto__=cr.prototype,Br}function cr(Ur,Br,Kr){if(typeof Ur=="number"){if(typeof Br=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return hr(Ur)}return ur(Ur,Br,Kr)}function ur(Ur,Br,Kr){if(typeof Ur=="string")return function(sn,un){if(typeof un=="string"&&un!==""||(un="utf8"),!cr.isEncoding(un))throw new TypeError("Unknown encoding: "+un);var hn=0|br(sn,un),Jr=or(hn),nn=Jr.write(sn,un);return nn!==hn&&(Jr=Jr.slice(0,nn)),Jr}(Ur,Br);if(ArrayBuffer.isView(Ur))return fr(Ur);if(Ur==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ur);if(Fr(Ur,ArrayBuffer)||Ur&&Fr(Ur.buffer,ArrayBuffer))return function(sn,un,hn){if(un<0||sn.byteLength<un)throw new RangeError('"offset" is outside of buffer bounds');if(sn.byteLength<un+(hn||0))throw new RangeError('"length" is outside of buffer bounds');var Jr;return Jr=un===void 0&&hn===void 0?new Uint8Array(sn):hn===void 0?new Uint8Array(sn,un):new Uint8Array(sn,un,hn),Jr.__proto__=cr.prototype,Jr}(Ur,Br,Kr);if(typeof Ur=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Zr=Ur.valueOf&&Ur.valueOf();if(Zr!=null&&Zr!==Ur)return cr.from(Zr,Br,Kr);var tn=function(sn){if(cr.isBuffer(sn)){var un=0|mr(sn.length),hn=or(un);return hn.length===0||sn.copy(hn,0,0,un),hn}if(sn.length!==void 0)return typeof sn.length!="number"||Xr(sn.length)?or(0):fr(sn);if(sn.type==="Buffer"&&Array.isArray(sn.data))return fr(sn.data)}(Ur);if(tn)return tn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ur[Symbol.toPrimitive]=="function")return cr.from(Ur[Symbol.toPrimitive]("string"),Br,Kr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ur)}function dr(Ur){if(typeof Ur!="number")throw new TypeError('"size" argument must be of type number');if(Ur<0)throw new RangeError('The value "'+Ur+'" is invalid for option "size"')}function hr(Ur){return dr(Ur),or(Ur<0?0:0|mr(Ur))}function fr(Ur){for(var Br=Ur.length<0?0:0|mr(Ur.length),Kr=or(Br),Zr=0;Zr<Br;Zr+=1)Kr[Zr]=255&Ur[Zr];return Kr}function mr(Ur){if(Ur>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|Ur}function br(Ur,Br){if(cr.isBuffer(Ur))return Ur.length;if(ArrayBuffer.isView(Ur)||Fr(Ur,ArrayBuffer))return Ur.byteLength;if(typeof Ur!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ur);var Kr=Ur.length,Zr=arguments.length>2&&arguments[2]===!0;if(!Zr&&Kr===0)return 0;for(var tn=!1;;)switch(Br){case"ascii":case"latin1":case"binary":return Kr;case"utf8":case"utf-8":return Vr(Ur).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Kr;case"hex":return Kr>>>1;case"base64":return zr(Ur).length;default:if(tn)return Zr?-1:Vr(Ur).length;Br=(""+Br).toLowerCase(),tn=!0}}function pr(Ur,Br,Kr){var Zr=!1;if((Br===void 0||Br<0)&&(Br=0),Br>this.length||((Kr===void 0||Kr>this.length)&&(Kr=this.length),Kr<=0)||(Kr>>>=0)<=(Br>>>=0))return"";for(Ur||(Ur="utf8");;)switch(Ur){case"hex":return Mr(this,Br,Kr);case"utf8":case"utf-8":return Nr(this,Br,Kr);case"ascii":return Or(this,Br,Kr);case"latin1":case"binary":return Pr(this,Br,Kr);case"base64":return Lr(this,Br,Kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jr(this,Br,Kr);default:if(Zr)throw new TypeError("Unknown encoding: "+Ur);Ur=(Ur+"").toLowerCase(),Zr=!0}}function gr(Ur,Br,Kr){var Zr=Ur[Br];Ur[Br]=Ur[Kr],Ur[Kr]=Zr}function yr(Ur,Br,Kr,Zr,tn){if(Ur.length===0)return-1;if(typeof Kr=="string"?(Zr=Kr,Kr=0):Kr>2147483647?Kr=2147483647:Kr<-2147483648&&(Kr=-2147483648),Xr(Kr=+Kr)&&(Kr=tn?0:Ur.length-1),Kr<0&&(Kr=Ur.length+Kr),Kr>=Ur.length){if(tn)return-1;Kr=Ur.length-1}else if(Kr<0){if(!tn)return-1;Kr=0}if(typeof Br=="string"&&(Br=cr.from(Br,Zr)),cr.isBuffer(Br))return Br.length===0?-1:vr(Ur,Br,Kr,Zr,tn);if(typeof Br=="number")return Br&=255,typeof Uint8Array.prototype.indexOf=="function"?tn?Uint8Array.prototype.indexOf.call(Ur,Br,Kr):Uint8Array.prototype.lastIndexOf.call(Ur,Br,Kr):vr(Ur,[Br],Kr,Zr,tn);throw new TypeError("val must be string, number or Buffer")}function vr(Ur,Br,Kr,Zr,tn){var sn,un=1,hn=Ur.length,Jr=Br.length;if(Zr!==void 0&&((Zr=String(Zr).toLowerCase())==="ucs2"||Zr==="ucs-2"||Zr==="utf16le"||Zr==="utf-16le")){if(Ur.length<2||Br.length<2)return-1;un=2,hn/=2,Jr/=2,Kr/=2}function nn(mn,yn){return un===1?mn[yn]:mn.readUInt16BE(yn*un)}if(tn){var rn=-1;for(sn=Kr;sn<hn;sn++)if(nn(Ur,sn)===nn(Br,rn===-1?0:sn-rn)){if(rn===-1&&(rn=sn),sn-rn+1===Jr)return rn*un}else rn!==-1&&(sn-=sn-rn),rn=-1}else for(Kr+Jr>hn&&(Kr=hn-Jr),sn=Kr;sn>=0;sn--){for(var on=!0,fn=0;fn<Jr;fn++)if(nn(Ur,sn+fn)!==nn(Br,fn)){on=!1;break}if(on)return sn}return-1}function _r(Ur,Br,Kr,Zr){Kr=Number(Kr)||0;var tn=Ur.length-Kr;Zr?(Zr=Number(Zr))>tn&&(Zr=tn):Zr=tn;var sn=Br.length;Zr>sn/2&&(Zr=sn/2);for(var un=0;un<Zr;++un){var hn=parseInt(Br.substr(2*un,2),16);if(Xr(hn))return un;Ur[Kr+un]=hn}return un}function xr(Ur,Br,Kr,Zr){return Gr(Vr(Br,Ur.length-Kr),Ur,Kr,Zr)}function Rr(Ur,Br,Kr,Zr){return Gr(function(tn){for(var sn=[],un=0;un<tn.length;++un)sn.push(255&tn.charCodeAt(un));return sn}(Br),Ur,Kr,Zr)}function Cr(Ur,Br,Kr,Zr){return Rr(Ur,Br,Kr,Zr)}function Tr(Ur,Br,Kr,Zr){return Gr(zr(Br),Ur,Kr,Zr)}function Ir(Ur,Br,Kr,Zr){return Gr(function(tn,sn){for(var un,hn,Jr,nn=[],rn=0;rn<tn.length&&!((sn-=2)<0);++rn)un=tn.charCodeAt(rn),hn=un>>8,Jr=un%256,nn.push(Jr),nn.push(hn);return nn}(Br,Ur.length-Kr),Ur,Kr,Zr)}function Lr(Ur,Br,Kr){return Br===0&&Kr===Ur.length?sr.fromByteArray(Ur):sr.fromByteArray(Ur.slice(Br,Kr))}function Nr(Ur,Br,Kr){Kr=Math.min(Ur.length,Kr);for(var Zr=[],tn=Br;tn<Kr;){var sn,un,hn,Jr,nn=Ur[tn],rn=null,on=nn>239?4:nn>223?3:nn>191?2:1;if(tn+on<=Kr)switch(on){case 1:nn<128&&(rn=nn);break;case 2:(192&(sn=Ur[tn+1]))==128&&(Jr=(31&nn)<<6|63&sn)>127&&(rn=Jr);break;case 3:sn=Ur[tn+1],un=Ur[tn+2],(192&sn)==128&&(192&un)==128&&(Jr=(15&nn)<<12|(63&sn)<<6|63&un)>2047&&(Jr<55296||Jr>57343)&&(rn=Jr);break;case 4:sn=Ur[tn+1],un=Ur[tn+2],hn=Ur[tn+3],(192&sn)==128&&(192&un)==128&&(192&hn)==128&&(Jr=(15&nn)<<18|(63&sn)<<12|(63&un)<<6|63&hn)>65535&&Jr<1114112&&(rn=Jr)}rn===null?(rn=65533,on=1):rn>65535&&(rn-=65536,Zr.push(rn>>>10&1023|55296),rn=56320|1023&rn),Zr.push(rn),tn+=on}return function(fn){var mn=fn.length;if(mn<=4096)return String.fromCharCode.apply(String,fn);for(var yn="",Rn=0;Rn<mn;)yn+=String.fromCharCode.apply(String,fn.slice(Rn,Rn+=4096));return yn}(Zr)}ir.kMaxLength=2147483647,cr.TYPED_ARRAY_SUPPORT=function(){try{var Ur=new Uint8Array(1);return Ur.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ur.foo()===42}catch{return!1}}(),cr.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(cr.prototype,"parent",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.buffer}}),Object.defineProperty(cr.prototype,"offset",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&cr[Symbol.species]===cr&&Object.defineProperty(cr,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),cr.poolSize=8192,cr.from=function(Ur,Br,Kr){return ur(Ur,Br,Kr)},cr.prototype.__proto__=Uint8Array.prototype,cr.__proto__=Uint8Array,cr.alloc=function(Ur,Br,Kr){return function(Zr,tn,sn){return dr(Zr),Zr<=0?or(Zr):tn!==void 0?typeof sn=="string"?or(Zr).fill(tn,sn):or(Zr).fill(tn):or(Zr)}(Ur,Br,Kr)},cr.allocUnsafe=function(Ur){return hr(Ur)},cr.allocUnsafeSlow=function(Ur){return hr(Ur)},cr.isBuffer=function(Ur){return Ur!=null&&Ur._isBuffer===!0&&Ur!==cr.prototype},cr.compare=function(Ur,Br){if(Fr(Ur,Uint8Array)&&(Ur=cr.from(Ur,Ur.offset,Ur.byteLength)),Fr(Br,Uint8Array)&&(Br=cr.from(Br,Br.offset,Br.byteLength)),!cr.isBuffer(Ur)||!cr.isBuffer(Br))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ur===Br)return 0;for(var Kr=Ur.length,Zr=Br.length,tn=0,sn=Math.min(Kr,Zr);tn<sn;++tn)if(Ur[tn]!==Br[tn]){Kr=Ur[tn],Zr=Br[tn];break}return Kr<Zr?-1:Zr<Kr?1:0},cr.isEncoding=function(Ur){switch(String(Ur).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(Ur,Br){if(!Array.isArray(Ur))throw new TypeError('"list" argument must be an Array of Buffers');if(Ur.length===0)return cr.alloc(0);var Kr;if(Br===void 0)for(Br=0,Kr=0;Kr<Ur.length;++Kr)Br+=Ur[Kr].length;var Zr=cr.allocUnsafe(Br),tn=0;for(Kr=0;Kr<Ur.length;++Kr){var sn=Ur[Kr];if(Fr(sn,Uint8Array)&&(sn=cr.from(sn)),!cr.isBuffer(sn))throw new TypeError('"list" argument must be an Array of Buffers');sn.copy(Zr,tn),tn+=sn.length}return Zr},cr.byteLength=br,cr.prototype._isBuffer=!0,cr.prototype.swap16=function(){var Ur=this.length;if(Ur%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Br=0;Br<Ur;Br+=2)gr(this,Br,Br+1);return this},cr.prototype.swap32=function(){var Ur=this.length;if(Ur%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Br=0;Br<Ur;Br+=4)gr(this,Br,Br+3),gr(this,Br+1,Br+2);return this},cr.prototype.swap64=function(){var Ur=this.length;if(Ur%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Br=0;Br<Ur;Br+=8)gr(this,Br,Br+7),gr(this,Br+1,Br+6),gr(this,Br+2,Br+5),gr(this,Br+3,Br+4);return this},cr.prototype.toString=function(){var Ur=this.length;return Ur===0?"":arguments.length===0?Nr(this,0,Ur):pr.apply(this,arguments)},cr.prototype.toLocaleString=cr.prototype.toString,cr.prototype.equals=function(Ur){if(!cr.isBuffer(Ur))throw new TypeError("Argument must be a Buffer");return this===Ur||cr.compare(this,Ur)===0},cr.prototype.inspect=function(){var Ur="",Br=ir.INSPECT_MAX_BYTES;return Ur=this.toString("hex",0,Br).replace(/(.{2})/g,"$1 ").trim(),this.length>Br&&(Ur+=" ... "),"<Buffer "+Ur+">"},cr.prototype.compare=function(Ur,Br,Kr,Zr,tn){if(Fr(Ur,Uint8Array)&&(Ur=cr.from(Ur,Ur.offset,Ur.byteLength)),!cr.isBuffer(Ur))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ur);if(Br===void 0&&(Br=0),Kr===void 0&&(Kr=Ur?Ur.length:0),Zr===void 0&&(Zr=0),tn===void 0&&(tn=this.length),Br<0||Kr>Ur.length||Zr<0||tn>this.length)throw new RangeError("out of range index");if(Zr>=tn&&Br>=Kr)return 0;if(Zr>=tn)return-1;if(Br>=Kr)return 1;if(this===Ur)return 0;for(var sn=(tn>>>=0)-(Zr>>>=0),un=(Kr>>>=0)-(Br>>>=0),hn=Math.min(sn,un),Jr=this.slice(Zr,tn),nn=Ur.slice(Br,Kr),rn=0;rn<hn;++rn)if(Jr[rn]!==nn[rn]){sn=Jr[rn],un=nn[rn];break}return sn<un?-1:un<sn?1:0},cr.prototype.includes=function(Ur,Br,Kr){return this.indexOf(Ur,Br,Kr)!==-1},cr.prototype.indexOf=function(Ur,Br,Kr){return yr(this,Ur,Br,Kr,!0)},cr.prototype.lastIndexOf=function(Ur,Br,Kr){return yr(this,Ur,Br,Kr,!1)},cr.prototype.write=function(Ur,Br,Kr,Zr){if(Br===void 0)Zr="utf8",Kr=this.length,Br=0;else if(Kr===void 0&&typeof Br=="string")Zr=Br,Kr=this.length,Br=0;else{if(!isFinite(Br))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Br>>>=0,isFinite(Kr)?(Kr>>>=0,Zr===void 0&&(Zr="utf8")):(Zr=Kr,Kr=void 0)}var tn=this.length-Br;if((Kr===void 0||Kr>tn)&&(Kr=tn),Ur.length>0&&(Kr<0||Br<0)||Br>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zr||(Zr="utf8");for(var sn=!1;;)switch(Zr){case"hex":return _r(this,Ur,Br,Kr);case"utf8":case"utf-8":return xr(this,Ur,Br,Kr);case"ascii":return Rr(this,Ur,Br,Kr);case"latin1":case"binary":return Cr(this,Ur,Br,Kr);case"base64":return Tr(this,Ur,Br,Kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ir(this,Ur,Br,Kr);default:if(sn)throw new TypeError("Unknown encoding: "+Zr);Zr=(""+Zr).toLowerCase(),sn=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Or(Ur,Br,Kr){var Zr="";Kr=Math.min(Ur.length,Kr);for(var tn=Br;tn<Kr;++tn)Zr+=String.fromCharCode(127&Ur[tn]);return Zr}function Pr(Ur,Br,Kr){var Zr="";Kr=Math.min(Ur.length,Kr);for(var tn=Br;tn<Kr;++tn)Zr+=String.fromCharCode(Ur[tn]);return Zr}function Mr(Ur,Br,Kr){var Zr=Ur.length;(!Br||Br<0)&&(Br=0),(!Kr||Kr<0||Kr>Zr)&&(Kr=Zr);for(var tn="",sn=Br;sn<Kr;++sn)tn+=$r(Ur[sn]);return tn}function jr(Ur,Br,Kr){for(var Zr=Ur.slice(Br,Kr),tn="",sn=0;sn<Zr.length;sn+=2)tn+=String.fromCharCode(Zr[sn]+256*Zr[sn+1]);return tn}function wr(Ur,Br,Kr){if(Ur%1!=0||Ur<0)throw new RangeError("offset is not uint");if(Ur+Br>Kr)throw new RangeError("Trying to access beyond buffer length")}function Er(Ur,Br,Kr,Zr,tn,sn){if(!cr.isBuffer(Ur))throw new TypeError('"buffer" argument must be a Buffer instance');if(Br>tn||Br<sn)throw new RangeError('"value" argument is out of bounds');if(Kr+Zr>Ur.length)throw new RangeError("Index out of range")}function Ar(Ur,Br,Kr,Zr,tn,sn){if(Kr+Zr>Ur.length)throw new RangeError("Index out of range");if(Kr<0)throw new RangeError("Index out of range")}function Sr(Ur,Br,Kr,Zr,tn){return Br=+Br,Kr>>>=0,tn||Ar(Ur,0,Kr,4),lr.write(Ur,Br,Kr,Zr,23,4),Kr+4}function Dr(Ur,Br,Kr,Zr,tn){return Br=+Br,Kr>>>=0,tn||Ar(Ur,0,Kr,8),lr.write(Ur,Br,Kr,Zr,52,8),Kr+8}cr.prototype.slice=function(Ur,Br){var Kr=this.length;(Ur=~~Ur)<0?(Ur+=Kr)<0&&(Ur=0):Ur>Kr&&(Ur=Kr),(Br=Br===void 0?Kr:~~Br)<0?(Br+=Kr)<0&&(Br=0):Br>Kr&&(Br=Kr),Br<Ur&&(Br=Ur);var Zr=this.subarray(Ur,Br);return Zr.__proto__=cr.prototype,Zr},cr.prototype.readUIntLE=function(Ur,Br,Kr){Ur>>>=0,Br>>>=0,Kr||wr(Ur,Br,this.length);for(var Zr=this[Ur],tn=1,sn=0;++sn<Br&&(tn*=256);)Zr+=this[Ur+sn]*tn;return Zr},cr.prototype.readUIntBE=function(Ur,Br,Kr){Ur>>>=0,Br>>>=0,Kr||wr(Ur,Br,this.length);for(var Zr=this[Ur+--Br],tn=1;Br>0&&(tn*=256);)Zr+=this[Ur+--Br]*tn;return Zr},cr.prototype.readUInt8=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,1,this.length),this[Ur]},cr.prototype.readUInt16LE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,2,this.length),this[Ur]|this[Ur+1]<<8},cr.prototype.readUInt16BE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,2,this.length),this[Ur]<<8|this[Ur+1]},cr.prototype.readUInt32LE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),(this[Ur]|this[Ur+1]<<8|this[Ur+2]<<16)+16777216*this[Ur+3]},cr.prototype.readUInt32BE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),16777216*this[Ur]+(this[Ur+1]<<16|this[Ur+2]<<8|this[Ur+3])},cr.prototype.readIntLE=function(Ur,Br,Kr){Ur>>>=0,Br>>>=0,Kr||wr(Ur,Br,this.length);for(var Zr=this[Ur],tn=1,sn=0;++sn<Br&&(tn*=256);)Zr+=this[Ur+sn]*tn;return Zr>=(tn*=128)&&(Zr-=Math.pow(2,8*Br)),Zr},cr.prototype.readIntBE=function(Ur,Br,Kr){Ur>>>=0,Br>>>=0,Kr||wr(Ur,Br,this.length);for(var Zr=Br,tn=1,sn=this[Ur+--Zr];Zr>0&&(tn*=256);)sn+=this[Ur+--Zr]*tn;return sn>=(tn*=128)&&(sn-=Math.pow(2,8*Br)),sn},cr.prototype.readInt8=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,1,this.length),128&this[Ur]?-1*(255-this[Ur]+1):this[Ur]},cr.prototype.readInt16LE=function(Ur,Br){Ur>>>=0,Br||wr(Ur,2,this.length);var Kr=this[Ur]|this[Ur+1]<<8;return 32768&Kr?4294901760|Kr:Kr},cr.prototype.readInt16BE=function(Ur,Br){Ur>>>=0,Br||wr(Ur,2,this.length);var Kr=this[Ur+1]|this[Ur]<<8;return 32768&Kr?4294901760|Kr:Kr},cr.prototype.readInt32LE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),this[Ur]|this[Ur+1]<<8|this[Ur+2]<<16|this[Ur+3]<<24},cr.prototype.readInt32BE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),this[Ur]<<24|this[Ur+1]<<16|this[Ur+2]<<8|this[Ur+3]},cr.prototype.readFloatLE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),lr.read(this,Ur,!0,23,4)},cr.prototype.readFloatBE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,4,this.length),lr.read(this,Ur,!1,23,4)},cr.prototype.readDoubleLE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,8,this.length),lr.read(this,Ur,!0,52,8)},cr.prototype.readDoubleBE=function(Ur,Br){return Ur>>>=0,Br||wr(Ur,8,this.length),lr.read(this,Ur,!1,52,8)},cr.prototype.writeUIntLE=function(Ur,Br,Kr,Zr){Ur=+Ur,Br>>>=0,Kr>>>=0,Zr||Er(this,Ur,Br,Kr,Math.pow(2,8*Kr)-1,0);var tn=1,sn=0;for(this[Br]=255&Ur;++sn<Kr&&(tn*=256);)this[Br+sn]=Ur/tn&255;return Br+Kr},cr.prototype.writeUIntBE=function(Ur,Br,Kr,Zr){Ur=+Ur,Br>>>=0,Kr>>>=0,Zr||Er(this,Ur,Br,Kr,Math.pow(2,8*Kr)-1,0);var tn=Kr-1,sn=1;for(this[Br+tn]=255&Ur;--tn>=0&&(sn*=256);)this[Br+tn]=Ur/sn&255;return Br+Kr},cr.prototype.writeUInt8=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,1,255,0),this[Br]=255&Ur,Br+1},cr.prototype.writeUInt16LE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,2,65535,0),this[Br]=255&Ur,this[Br+1]=Ur>>>8,Br+2},cr.prototype.writeUInt16BE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,2,65535,0),this[Br]=Ur>>>8,this[Br+1]=255&Ur,Br+2},cr.prototype.writeUInt32LE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,4,4294967295,0),this[Br+3]=Ur>>>24,this[Br+2]=Ur>>>16,this[Br+1]=Ur>>>8,this[Br]=255&Ur,Br+4},cr.prototype.writeUInt32BE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,4,4294967295,0),this[Br]=Ur>>>24,this[Br+1]=Ur>>>16,this[Br+2]=Ur>>>8,this[Br+3]=255&Ur,Br+4},cr.prototype.writeIntLE=function(Ur,Br,Kr,Zr){if(Ur=+Ur,Br>>>=0,!Zr){var tn=Math.pow(2,8*Kr-1);Er(this,Ur,Br,Kr,tn-1,-tn)}var sn=0,un=1,hn=0;for(this[Br]=255&Ur;++sn<Kr&&(un*=256);)Ur<0&&hn===0&&this[Br+sn-1]!==0&&(hn=1),this[Br+sn]=(Ur/un>>0)-hn&255;return Br+Kr},cr.prototype.writeIntBE=function(Ur,Br,Kr,Zr){if(Ur=+Ur,Br>>>=0,!Zr){var tn=Math.pow(2,8*Kr-1);Er(this,Ur,Br,Kr,tn-1,-tn)}var sn=Kr-1,un=1,hn=0;for(this[Br+sn]=255&Ur;--sn>=0&&(un*=256);)Ur<0&&hn===0&&this[Br+sn+1]!==0&&(hn=1),this[Br+sn]=(Ur/un>>0)-hn&255;return Br+Kr},cr.prototype.writeInt8=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,1,127,-128),Ur<0&&(Ur=255+Ur+1),this[Br]=255&Ur,Br+1},cr.prototype.writeInt16LE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,2,32767,-32768),this[Br]=255&Ur,this[Br+1]=Ur>>>8,Br+2},cr.prototype.writeInt16BE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,2,32767,-32768),this[Br]=Ur>>>8,this[Br+1]=255&Ur,Br+2},cr.prototype.writeInt32LE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,4,2147483647,-2147483648),this[Br]=255&Ur,this[Br+1]=Ur>>>8,this[Br+2]=Ur>>>16,this[Br+3]=Ur>>>24,Br+4},cr.prototype.writeInt32BE=function(Ur,Br,Kr){return Ur=+Ur,Br>>>=0,Kr||Er(this,Ur,Br,4,2147483647,-2147483648),Ur<0&&(Ur=4294967295+Ur+1),this[Br]=Ur>>>24,this[Br+1]=Ur>>>16,this[Br+2]=Ur>>>8,this[Br+3]=255&Ur,Br+4},cr.prototype.writeFloatLE=function(Ur,Br,Kr){return Sr(this,Ur,Br,!0,Kr)},cr.prototype.writeFloatBE=function(Ur,Br,Kr){return Sr(this,Ur,Br,!1,Kr)},cr.prototype.writeDoubleLE=function(Ur,Br,Kr){return Dr(this,Ur,Br,!0,Kr)},cr.prototype.writeDoubleBE=function(Ur,Br,Kr){return Dr(this,Ur,Br,!1,Kr)},cr.prototype.copy=function(Ur,Br,Kr,Zr){if(!cr.isBuffer(Ur))throw new TypeError("argument should be a Buffer");if(Kr||(Kr=0),Zr||Zr===0||(Zr=this.length),Br>=Ur.length&&(Br=Ur.length),Br||(Br=0),Zr>0&&Zr<Kr&&(Zr=Kr),Zr===Kr||Ur.length===0||this.length===0)return 0;if(Br<0)throw new RangeError("targetStart out of bounds");if(Kr<0||Kr>=this.length)throw new RangeError("Index out of range");if(Zr<0)throw new RangeError("sourceEnd out of bounds");Zr>this.length&&(Zr=this.length),Ur.length-Br<Zr-Kr&&(Zr=Ur.length-Br+Kr);var tn=Zr-Kr;if(this===Ur&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Br,Kr,Zr);else if(this===Ur&&Kr<Br&&Br<Zr)for(var sn=tn-1;sn>=0;--sn)Ur[sn+Br]=this[sn+Kr];else Uint8Array.prototype.set.call(Ur,this.subarray(Kr,Zr),Br);return tn},cr.prototype.fill=function(Ur,Br,Kr,Zr){if(typeof Ur=="string"){if(typeof Br=="string"?(Zr=Br,Br=0,Kr=this.length):typeof Kr=="string"&&(Zr=Kr,Kr=this.length),Zr!==void 0&&typeof Zr!="string")throw new TypeError("encoding must be a string");if(typeof Zr=="string"&&!cr.isEncoding(Zr))throw new TypeError("Unknown encoding: "+Zr);if(Ur.length===1){var tn=Ur.charCodeAt(0);(Zr==="utf8"&&tn<128||Zr==="latin1")&&(Ur=tn)}}else typeof Ur=="number"&&(Ur&=255);if(Br<0||this.length<Br||this.length<Kr)throw new RangeError("Out of range index");if(Kr<=Br)return this;var sn;if(Br>>>=0,Kr=Kr===void 0?this.length:Kr>>>0,Ur||(Ur=0),typeof Ur=="number")for(sn=Br;sn<Kr;++sn)this[sn]=Ur;else{var un=cr.isBuffer(Ur)?Ur:cr.from(Ur,Zr),hn=un.length;if(hn===0)throw new TypeError('The value "'+Ur+'" is invalid for argument "value"');for(sn=0;sn<Kr-Br;++sn)this[sn+Br]=un[sn%hn]}return this};var Wr=/[^+/0-9A-Za-z-_]/g;function $r(Ur){return Ur<16?"0"+Ur.toString(16):Ur.toString(16)}function Vr(Ur,Br){var Kr;Br=Br||1/0;for(var Zr=Ur.length,tn=null,sn=[],un=0;un<Zr;++un){if((Kr=Ur.charCodeAt(un))>55295&&Kr<57344){if(!tn){if(Kr>56319){(Br-=3)>-1&&sn.push(239,191,189);continue}if(un+1===Zr){(Br-=3)>-1&&sn.push(239,191,189);continue}tn=Kr;continue}if(Kr<56320){(Br-=3)>-1&&sn.push(239,191,189),tn=Kr;continue}Kr=65536+(tn-55296<<10|Kr-56320)}else tn&&(Br-=3)>-1&&sn.push(239,191,189);if(tn=null,Kr<128){if((Br-=1)<0)break;sn.push(Kr)}else if(Kr<2048){if((Br-=2)<0)break;sn.push(Kr>>6|192,63&Kr|128)}else if(Kr<65536){if((Br-=3)<0)break;sn.push(Kr>>12|224,Kr>>6&63|128,63&Kr|128)}else{if(!(Kr<1114112))throw new Error("Invalid code point");if((Br-=4)<0)break;sn.push(Kr>>18|240,Kr>>12&63|128,Kr>>6&63|128,63&Kr|128)}}return sn}function zr(Ur){return sr.toByteArray(function(Br){if((Br=(Br=Br.split("=")[0]).trim().replace(Wr,"")).length<2)return"";for(;Br.length%4!=0;)Br+="=";return Br}(Ur))}function Gr(Ur,Br,Kr,Zr){for(var tn=0;tn<Zr&&!(tn+Kr>=Br.length||tn>=Ur.length);++tn)Br[tn+Kr]=Ur[tn];return tn}function Fr(Ur,Br){return Ur instanceof Br||Ur!=null&&Ur.constructor!=null&&Ur.constructor.name!=null&&Ur.constructor.name===Br.name}function Xr(Ur){return Ur!=Ur}}).call(this)}).call(this,rr("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("stream").Transform,lr=rr("string_decoder").StringDecoder;function or(cr){sr.call(this),this.hashMode=typeof cr=="string",this.hashMode?this[cr]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}rr("inherits")(or,sr),or.prototype.update=function(cr,ur,dr){typeof cr=="string"&&(cr=ar.from(cr,ur));var hr=this._update(cr);return this.hashMode?this:(dr&&(hr=this._toString(hr,dr)),hr)},or.prototype.setAutoPadding=function(){},or.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},or.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},or.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},or.prototype._transform=function(cr,ur,dr){var hr;try{this.hashMode?this._update(cr):this.push(this._update(cr))}catch(fr){hr=fr}finally{dr(hr)}},or.prototype._flush=function(cr){var ur;try{this.push(this.__final())}catch(dr){ur=dr}cr(ur)},or.prototype._finalOrDigest=function(cr){var ur=this.__final()||ar.alloc(0);return cr&&(ur=this._toString(ur,cr,!0)),ur},or.prototype._toString=function(cr,ur,dr){if(this._decoder||(this._decoder=new lr(ur),this._encoding=ur),this._encoding!==ur)throw new Error("can't switch encodings");var hr=this._decoder.write(cr);return dr&&(hr+=this._decoder.end()),hr},nr.exports=or},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(rr,nr,ir){var ar=rr("../internals/is-callable"),sr=rr("../internals/try-to-string"),lr=TypeError;nr.exports=function(or){if(ar(or))return or;throw new lr(sr(or)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(rr,nr,ir){var ar=rr("../internals/is-constructor"),sr=rr("../internals/try-to-string"),lr=TypeError;nr.exports=function(or){if(ar(or))return or;throw new lr(sr(or)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(rr,nr,ir){var ar=rr("../internals/is-callable"),sr=String,lr=TypeError;nr.exports=function(or){if(typeof or=="object"||ar(or))return or;throw new lr("Can't set "+sr(or)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(rr,nr,ir){var ar=rr("../internals/well-known-symbol"),sr=rr("../internals/object-create"),lr=rr("../internals/object-define-property").f,or=ar("unscopables"),cr=Array.prototype;cr[or]===void 0&&lr(cr,or,{configurable:!0,value:sr(null)}),nr.exports=function(ur){cr[or][ur]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(rr,nr,ir){var ar=rr("../internals/object-is-prototype-of"),sr=TypeError;nr.exports=function(lr,or){if(ar(or,lr))return lr;throw new sr("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(rr,nr,ir){var ar=rr("../internals/is-object"),sr=String,lr=TypeError;nr.exports=function(or){if(ar(or))return or;throw new lr(sr(or)+" is not an object")}},{"../internals/is-object":289}],228:[function(rr,nr,ir){var ar=rr("../internals/to-indexed-object"),sr=rr("../internals/to-absolute-index"),lr=rr("../internals/length-of-array-like"),or=function(cr){return function(ur,dr,hr){var fr,mr=ar(ur),br=lr(mr),pr=sr(hr,br);if(cr&&dr!=dr){for(;br>pr;)if((fr=mr[pr++])!=fr)return!0}else for(;br>pr;pr++)if((cr||pr in mr)&&mr[pr]===dr)return cr||pr||0;return!cr&&-1}};nr.exports={includes:or(!0),indexOf:or(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(rr,nr,ir){var ar=rr("../internals/function-bind-context"),sr=rr("../internals/function-uncurry-this"),lr=rr("../internals/indexed-object"),or=rr("../internals/to-object"),cr=rr("../internals/length-of-array-like"),ur=rr("../internals/array-species-create"),dr=sr([].push),hr=function(fr){var mr=fr===1,br=fr===2,pr=fr===3,gr=fr===4,yr=fr===6,vr=fr===7,_r=fr===5||yr;return function(xr,Rr,Cr,Tr){for(var Ir,Lr,Nr=or(xr),Or=lr(Nr),Pr=ar(Rr,Cr),Mr=cr(Or),jr=0,wr=Tr||ur,Er=mr?wr(xr,Mr):br||vr?wr(xr,0):void 0;Mr>jr;jr++)if((_r||jr in Or)&&(Lr=Pr(Ir=Or[jr],jr,Nr),fr))if(mr)Er[jr]=Lr;else if(Lr)switch(fr){case 3:return!0;case 5:return Ir;case 6:return jr;case 2:dr(Er,Ir)}else switch(fr){case 4:return!1;case 7:dr(Er,Ir)}return yr?-1:pr||gr?gr:Er}};nr.exports={forEach:hr(0),map:hr(1),filter:hr(2),some:hr(3),every:hr(4),find:hr(5),findIndex:hr(6),filterReject:hr(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(rr,nr,ir){var ar=rr("../internals/to-absolute-index"),sr=rr("../internals/length-of-array-like"),lr=rr("../internals/create-property"),or=Array,cr=Math.max;nr.exports=function(ur,dr,hr){for(var fr=sr(ur),mr=ar(dr,fr),br=ar(hr===void 0?fr:hr,fr),pr=or(cr(br-mr,0)),gr=0;mr<br;mr++,gr++)lr(pr,gr,ur[mr]);return pr.length=gr,pr}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this");nr.exports=ar([].slice)},{"../internals/function-uncurry-this":268}],232:[function(rr,nr,ir){var ar=rr("../internals/is-array"),sr=rr("../internals/is-constructor"),lr=rr("../internals/is-object"),or=rr("../internals/well-known-symbol")("species"),cr=Array;nr.exports=function(ur){var dr;return ar(ur)&&(dr=ur.constructor,(sr(dr)&&(dr===cr||ar(dr.prototype))||lr(dr)&&(dr=dr[or])===null)&&(dr=void 0)),dr===void 0?cr:dr}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(rr,nr,ir){var ar=rr("../internals/array-species-constructor");nr.exports=function(sr,lr){return new(ar(sr))(lr===0?0:lr)}},{"../internals/array-species-constructor":232}],234:[function(rr,nr,ir){var ar=rr("../internals/well-known-symbol")("iterator"),sr=!1;try{var lr=0,or={next:function(){return{done:!!lr++}},return:function(){sr=!0}};or[ar]=function(){return this},Array.from(or,function(){throw 2})}catch{}nr.exports=function(cr,ur){try{if(!ur&&!sr)return!1}catch{return!1}var dr=!1;try{var hr={};hr[ar]=function(){return{next:function(){return{done:dr=!0}}}},cr(hr)}catch{}return dr}},{"../internals/well-known-symbol":357}],235:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=ar({}.toString),lr=ar("".slice);nr.exports=function(or){return lr(sr(or),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(rr,nr,ir){var ar=rr("../internals/to-string-tag-support"),sr=rr("../internals/is-callable"),lr=rr("../internals/classof-raw"),or=rr("../internals/well-known-symbol")("toStringTag"),cr=Object,ur=lr(function(){return arguments}())==="Arguments";nr.exports=ar?lr:function(dr){var hr,fr,mr;return dr===void 0?"Undefined":dr===null?"Null":typeof(fr=function(br,pr){try{return br[pr]}catch{}}(hr=cr(dr),or))=="string"?fr:ur?lr(hr):(mr=lr(hr))==="Object"&&sr(hr.callee)?"Arguments":mr}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(rr,nr,ir){var ar=rr("../internals/has-own-property"),sr=rr("../internals/own-keys"),lr=rr("../internals/object-get-own-property-descriptor"),or=rr("../internals/object-define-property");nr.exports=function(cr,ur,dr){for(var hr=sr(ur),fr=or.f,mr=lr.f,br=0;br<hr.length;br++){var pr=hr[br];ar(cr,pr)||dr&&ar(dr,pr)||fr(cr,pr,mr(ur,pr))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(rr,nr,ir){var ar=rr("../internals/well-known-symbol")("match");nr.exports=function(sr){var lr=/./;try{"/./"[sr](lr)}catch{try{return lr[ar]=!1,"/./"[sr](lr)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(rr,nr,ir){var ar=rr("../internals/fails");nr.exports=!ar(function(){function sr(){}return sr.prototype.constructor=null,Object.getPrototypeOf(new sr)!==sr.prototype})},{"../internals/fails":260}],240:[function(rr,nr,ir){nr.exports=function(ar,sr){return{value:ar,done:sr}}},{}],241:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/object-define-property"),lr=rr("../internals/create-property-descriptor");nr.exports=ar?function(or,cr,ur){return sr.f(or,cr,lr(1,ur))}:function(or,cr,ur){return or[cr]=ur,or}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(rr,nr,ir){nr.exports=function(ar,sr){return{enumerable:!(1&ar),configurable:!(2&ar),writable:!(4&ar),value:sr}}},{}],243:[function(rr,nr,ir){var ar=rr("../internals/to-property-key"),sr=rr("../internals/object-define-property"),lr=rr("../internals/create-property-descriptor");nr.exports=function(or,cr,ur){var dr=ar(cr);dr in or?sr.f(or,dr,lr(0,ur)):or[dr]=ur}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(rr,nr,ir){var ar=rr("../internals/make-built-in"),sr=rr("../internals/object-define-property");nr.exports=function(lr,or,cr){return cr.get&&ar(cr.get,or,{getter:!0}),cr.set&&ar(cr.set,or,{setter:!0}),sr.f(lr,or,cr)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(rr,nr,ir){var ar=rr("../internals/is-callable"),sr=rr("../internals/object-define-property"),lr=rr("../internals/make-built-in"),or=rr("../internals/define-global-property");nr.exports=function(cr,ur,dr,hr){hr||(hr={});var fr=hr.enumerable,mr=hr.name!==void 0?hr.name:ur;if(ar(dr)&&lr(dr,mr,hr),hr.global)fr?cr[ur]=dr:or(ur,dr);else{try{hr.unsafe?cr[ur]&&(fr=!0):delete cr[ur]}catch{}fr?cr[ur]=dr:sr.f(cr,ur,{value:dr,enumerable:!1,configurable:!hr.nonConfigurable,writable:!hr.nonWritable})}return cr}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=Object.defineProperty;nr.exports=function(lr,or){try{sr(ar,lr,{value:or,configurable:!0,writable:!0})}catch{ar[lr]=or}return or}},{"../internals/global":274}],247:[function(rr,nr,ir){var ar=rr("../internals/fails");nr.exports=!ar(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(rr,nr,ir){var ar=typeof document=="object"&&document.all,sr=ar===void 0&&ar!==void 0;nr.exports={all:ar,IS_HTMLDDA:sr}},{}],249:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/is-object"),lr=ar.document,or=sr(lr)&&sr(lr.createElement);nr.exports=function(cr){return or?lr.createElement(cr):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(rr,nr,ir){var ar=rr("../internals/engine-is-deno"),sr=rr("../internals/engine-is-node");nr.exports=!ar&&!sr&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(rr,nr,ir){nr.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(rr,nr,ir){var ar=rr("../internals/engine-user-agent");nr.exports=/ipad|iphone|ipod/i.test(ar)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(rr,nr,ir){var ar=rr("../internals/engine-user-agent");nr.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(ar)},{"../internals/engine-user-agent":256}],254:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/classof-raw");nr.exports=sr(ar.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(rr,nr,ir){var ar=rr("../internals/engine-user-agent");nr.exports=/web0s(?!.*chrome)/i.test(ar)},{"../internals/engine-user-agent":256}],256:[function(rr,nr,ir){nr.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(rr,nr,ir){var ar,sr,lr=rr("../internals/global"),or=rr("../internals/engine-user-agent"),cr=lr.process,ur=lr.Deno,dr=cr&&cr.versions||ur&&ur.version,hr=dr&&dr.v8;hr&&(sr=(ar=hr.split("."))[0]>0&&ar[0]<4?1:+(ar[0]+ar[1])),!sr&&or&&(!(ar=or.match(/Edge\/(\d+)/))||ar[1]>=74)&&(ar=or.match(/Chrome\/(\d+)/))&&(sr=+ar[1]),nr.exports=sr},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(rr,nr,ir){nr.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/object-get-own-property-descriptor").f,lr=rr("../internals/create-non-enumerable-property"),or=rr("../internals/define-built-in"),cr=rr("../internals/define-global-property"),ur=rr("../internals/copy-constructor-properties"),dr=rr("../internals/is-forced");nr.exports=function(hr,fr){var mr,br,pr,gr,yr,vr=hr.target,_r=hr.global,xr=hr.stat;if(mr=_r?ar:xr?ar[vr]||cr(vr,{}):(ar[vr]||{}).prototype)for(br in fr){if(gr=fr[br],pr=hr.dontCallGetSet?(yr=sr(mr,br))&&yr.value:mr[br],!dr(_r?br:vr+(xr?".":"#")+br,hr.forced)&&pr!==void 0){if(typeof gr==typeof pr)continue;ur(gr,pr)}(hr.sham||pr&&pr.sham)&&lr(gr,"sham",!0),or(mr,br,gr,hr)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(rr,nr,ir){nr.exports=function(ar){try{return!!ar()}catch{return!0}}},{}],261:[function(rr,nr,ir){var ar=rr("../internals/function-bind-native"),sr=Function.prototype,lr=sr.apply,or=sr.call;nr.exports=typeof Reflect=="object"&&Reflect.apply||(ar?or.bind(lr):function(){return or.apply(lr,arguments)})},{"../internals/function-bind-native":263}],262:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this-clause"),sr=rr("../internals/a-callable"),lr=rr("../internals/function-bind-native"),or=ar(ar.bind);nr.exports=function(cr,ur){return sr(cr),ur===void 0?cr:lr?or(cr,ur):function(){return cr.apply(ur,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(rr,nr,ir){var ar=rr("../internals/fails");nr.exports=!ar(function(){var sr=(function(){}).bind();return typeof sr!="function"||sr.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(rr,nr,ir){var ar=rr("../internals/function-bind-native"),sr=Function.prototype.call;nr.exports=ar?sr.bind(sr):function(){return sr.apply(sr,arguments)}},{"../internals/function-bind-native":263}],265:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/has-own-property"),lr=Function.prototype,or=ar&&Object.getOwnPropertyDescriptor,cr=sr(lr,"name"),ur=cr&&(function(){}).name==="something",dr=cr&&(!ar||ar&&or(lr,"name").configurable);nr.exports={EXISTS:cr,PROPER:ur,CONFIGURABLE:dr}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/a-callable");nr.exports=function(lr,or,cr){try{return ar(sr(Object.getOwnPropertyDescriptor(lr,or)[cr]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(rr,nr,ir){var ar=rr("../internals/classof-raw"),sr=rr("../internals/function-uncurry-this");nr.exports=function(lr){if(ar(lr)==="Function")return sr(lr)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(rr,nr,ir){var ar=rr("../internals/function-bind-native"),sr=Function.prototype,lr=sr.call,or=ar&&sr.bind.bind(lr,lr);nr.exports=ar?or:function(cr){return function(){return lr.apply(cr,arguments)}}},{"../internals/function-bind-native":263}],269:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/is-callable"),lr=function(or){return sr(or)?or:void 0};nr.exports=function(or,cr){return arguments.length<2?lr(ar[or]):ar[or]&&ar[or][cr]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(rr,nr,ir){var ar=rr("../internals/classof"),sr=rr("../internals/get-method"),lr=rr("../internals/is-null-or-undefined"),or=rr("../internals/iterators"),cr=rr("../internals/well-known-symbol")("iterator");nr.exports=function(ur){if(!lr(ur))return sr(ur,cr)||sr(ur,"@@iterator")||or[ar(ur)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(rr,nr,ir){var ar=rr("../internals/function-call"),sr=rr("../internals/a-callable"),lr=rr("../internals/an-object"),or=rr("../internals/try-to-string"),cr=rr("../internals/get-iterator-method"),ur=TypeError;nr.exports=function(dr,hr){var fr=arguments.length<2?cr(dr):hr;if(sr(fr))return lr(ar(fr,dr));throw new ur(or(dr)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/is-array"),lr=rr("../internals/is-callable"),or=rr("../internals/classof-raw"),cr=rr("../internals/to-string"),ur=ar([].push);nr.exports=function(dr){if(lr(dr))return dr;if(sr(dr)){for(var hr=dr.length,fr=[],mr=0;mr<hr;mr++){var br=dr[mr];typeof br=="string"?ur(fr,br):typeof br!="number"&&or(br)!=="Number"&&or(br)!=="String"||ur(fr,cr(br))}var pr=fr.length,gr=!0;return function(yr,vr){if(gr)return gr=!1,vr;if(sr(this))return vr;for(var _r=0;_r<pr;_r++)if(fr[_r]===yr)return vr}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(rr,nr,ir){var ar=rr("../internals/a-callable"),sr=rr("../internals/is-null-or-undefined");nr.exports=function(lr,or){var cr=lr[or];return sr(cr)?void 0:ar(cr)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(rr,nr,ir){(function(ar){(function(){var sr=function(lr){return lr&&lr.Math===Math&&lr};nr.exports=sr(typeof globalThis=="object"&&globalThis)||sr(typeof window=="object"&&window)||sr(typeof self=="object"&&self)||sr(typeof ar=="object"&&ar)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/to-object"),lr=ar({}.hasOwnProperty);nr.exports=Object.hasOwn||function(or,cr){return lr(sr(or),cr)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(rr,nr,ir){nr.exports={}},{}],277:[function(rr,nr,ir){nr.exports=function(ar,sr){try{arguments.length===1?console.error(ar):console.error(ar,sr)}catch{}}},{}],278:[function(rr,nr,ir){var ar=rr("../internals/get-built-in");nr.exports=ar("document","documentElement")},{"../internals/get-built-in":269}],279:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/fails"),lr=rr("../internals/document-create-element");nr.exports=!ar&&!sr(function(){return Object.defineProperty(lr("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/fails"),lr=rr("../internals/classof-raw"),or=Object,cr=ar("".split);nr.exports=sr(function(){return!or("z").propertyIsEnumerable(0)})?function(ur){return lr(ur)==="String"?cr(ur,""):or(ur)}:or},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/is-callable"),lr=rr("../internals/shared-store"),or=ar(Function.toString);sr(lr.inspectSource)||(lr.inspectSource=function(cr){return or(cr)}),nr.exports=lr.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(rr,nr,ir){var ar,sr,lr,or=rr("../internals/weak-map-basic-detection"),cr=rr("../internals/global"),ur=rr("../internals/is-object"),dr=rr("../internals/create-non-enumerable-property"),hr=rr("../internals/has-own-property"),fr=rr("../internals/shared-store"),mr=rr("../internals/shared-key"),br=rr("../internals/hidden-keys"),pr=cr.TypeError,gr=cr.WeakMap;if(or||fr.state){var yr=fr.state||(fr.state=new gr);yr.get=yr.get,yr.has=yr.has,yr.set=yr.set,ar=function(_r,xr){if(yr.has(_r))throw new pr("Object already initialized");return xr.facade=_r,yr.set(_r,xr),xr},sr=function(_r){return yr.get(_r)||{}},lr=function(_r){return yr.has(_r)}}else{var vr=mr("state");br[vr]=!0,ar=function(_r,xr){if(hr(_r,vr))throw new pr("Object already initialized");return xr.facade=_r,dr(_r,vr,xr),xr},sr=function(_r){return hr(_r,vr)?_r[vr]:{}},lr=function(_r){return hr(_r,vr)}}nr.exports={set:ar,get:sr,has:lr,enforce:function(_r){return lr(_r)?sr(_r):ar(_r,{})},getterFor:function(_r){return function(xr){var Rr;if(!ur(xr)||(Rr=sr(xr)).type!==_r)throw new pr("Incompatible receiver, "+_r+" required");return Rr}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(rr,nr,ir){var ar=rr("../internals/well-known-symbol"),sr=rr("../internals/iterators"),lr=ar("iterator"),or=Array.prototype;nr.exports=function(cr){return cr!==void 0&&(sr.Array===cr||or[lr]===cr)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(rr,nr,ir){var ar=rr("../internals/classof-raw");nr.exports=Array.isArray||function(sr){return ar(sr)==="Array"}},{"../internals/classof-raw":235}],285:[function(rr,nr,ir){var ar=rr("../internals/document-all"),sr=ar.all;nr.exports=ar.IS_HTMLDDA?function(lr){return typeof lr=="function"||lr===sr}:function(lr){return typeof lr=="function"}},{"../internals/document-all":248}],286:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/fails"),lr=rr("../internals/is-callable"),or=rr("../internals/classof"),cr=rr("../internals/get-built-in"),ur=rr("../internals/inspect-source"),dr=function(){},hr=[],fr=cr("Reflect","construct"),mr=/^\s*(?:class|function)\b/,br=ar(mr.exec),pr=!mr.test(dr),gr=function(vr){if(!lr(vr))return!1;try{return fr(dr,hr,vr),!0}catch{return!1}},yr=function(vr){if(!lr(vr))return!1;switch(or(vr)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pr||!!br(mr,ur(vr))}catch{return!0}};yr.sham=!0,nr.exports=!fr||sr(function(){var vr;return gr(gr.call)||!gr(Object)||!gr(function(){vr=!0})||vr})?yr:gr},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(rr,nr,ir){var ar=rr("../internals/fails"),sr=rr("../internals/is-callable"),lr=/#|\.prototype\./,or=function(fr,mr){var br=ur[cr(fr)];return br===hr||br!==dr&&(sr(mr)?ar(mr):!!mr)},cr=or.normalize=function(fr){return String(fr).replace(lr,".").toLowerCase()},ur=or.data={},dr=or.NATIVE="N",hr=or.POLYFILL="P";nr.exports=or},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(rr,nr,ir){nr.exports=function(ar){return ar==null}},{}],289:[function(rr,nr,ir){var ar=rr("../internals/is-callable"),sr=rr("../internals/document-all"),lr=sr.all;nr.exports=sr.IS_HTMLDDA?function(or){return typeof or=="object"?or!==null:ar(or)||or===lr}:function(or){return typeof or=="object"?or!==null:ar(or)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(rr,nr,ir){nr.exports=!1},{}],291:[function(rr,nr,ir){var ar=rr("../internals/is-object"),sr=rr("../internals/classof-raw"),lr=rr("../internals/well-known-symbol")("match");nr.exports=function(or){var cr;return ar(or)&&((cr=or[lr])!==void 0?!!cr:sr(or)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(rr,nr,ir){var ar=rr("../internals/get-built-in"),sr=rr("../internals/is-callable"),lr=rr("../internals/object-is-prototype-of"),or=rr("../internals/use-symbol-as-uid"),cr=Object;nr.exports=or?function(ur){return typeof ur=="symbol"}:function(ur){var dr=ar("Symbol");return sr(dr)&&lr(dr.prototype,cr(ur))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(rr,nr,ir){var ar=rr("../internals/function-bind-context"),sr=rr("../internals/function-call"),lr=rr("../internals/an-object"),or=rr("../internals/try-to-string"),cr=rr("../internals/is-array-iterator-method"),ur=rr("../internals/length-of-array-like"),dr=rr("../internals/object-is-prototype-of"),hr=rr("../internals/get-iterator"),fr=rr("../internals/get-iterator-method"),mr=rr("../internals/iterator-close"),br=TypeError,pr=function(yr,vr){this.stopped=yr,this.result=vr},gr=pr.prototype;nr.exports=function(yr,vr,_r){var xr,Rr,Cr,Tr,Ir,Lr,Nr,Or=_r&&_r.that,Pr=!(!_r||!_r.AS_ENTRIES),Mr=!(!_r||!_r.IS_RECORD),jr=!(!_r||!_r.IS_ITERATOR),wr=!(!_r||!_r.INTERRUPTED),Er=ar(vr,Or),Ar=function(Dr){return xr&&mr(xr,"normal",Dr),new pr(!0,Dr)},Sr=function(Dr){return Pr?(lr(Dr),wr?Er(Dr[0],Dr[1],Ar):Er(Dr[0],Dr[1])):wr?Er(Dr,Ar):Er(Dr)};if(Mr)xr=yr.iterator;else if(jr)xr=yr;else{if(!(Rr=fr(yr)))throw new br(or(yr)+" is not iterable");if(cr(Rr)){for(Cr=0,Tr=ur(yr);Tr>Cr;Cr++)if((Ir=Sr(yr[Cr]))&&dr(gr,Ir))return Ir;return new pr(!1)}xr=hr(yr,Rr)}for(Lr=Mr?yr.next:xr.next;!(Nr=sr(Lr,xr)).done;){try{Ir=Sr(Nr.value)}catch(Dr){mr(xr,"throw",Dr)}if(typeof Ir=="object"&&Ir&&dr(gr,Ir))return Ir}return new pr(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(rr,nr,ir){var ar=rr("../internals/function-call"),sr=rr("../internals/an-object"),lr=rr("../internals/get-method");nr.exports=function(or,cr,ur){var dr,hr;sr(or);try{if(!(dr=lr(or,"return"))){if(cr==="throw")throw ur;return ur}dr=ar(dr,or)}catch(fr){hr=!0,dr=fr}if(cr==="throw")throw ur;if(hr)throw dr;return sr(dr),ur}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(rr,nr,ir){var ar=rr("../internals/iterators-core").IteratorPrototype,sr=rr("../internals/object-create"),lr=rr("../internals/create-property-descriptor"),or=rr("../internals/set-to-string-tag"),cr=rr("../internals/iterators"),ur=function(){return this};nr.exports=function(dr,hr,fr,mr){var br=hr+" Iterator";return dr.prototype=sr(ar,{next:lr(+!mr,fr)}),or(dr,br,!1,!0),cr[br]=ur,dr}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-call"),lr=rr("../internals/is-pure"),or=rr("../internals/function-name"),cr=rr("../internals/is-callable"),ur=rr("../internals/iterator-create-constructor"),dr=rr("../internals/object-get-prototype-of"),hr=rr("../internals/object-set-prototype-of"),fr=rr("../internals/set-to-string-tag"),mr=rr("../internals/create-non-enumerable-property"),br=rr("../internals/define-built-in"),pr=rr("../internals/well-known-symbol"),gr=rr("../internals/iterators"),yr=rr("../internals/iterators-core"),vr=or.PROPER,_r=or.CONFIGURABLE,xr=yr.IteratorPrototype,Rr=yr.BUGGY_SAFARI_ITERATORS,Cr=pr("iterator"),Tr=function(){return this};nr.exports=function(Ir,Lr,Nr,Or,Pr,Mr,jr){ur(Nr,Lr,Or);var wr,Er,Ar,Sr=function(Fr){if(Fr===Pr&&zr)return zr;if(!Rr&&Fr&&Fr in $r)return $r[Fr];switch(Fr){case"keys":case"values":case"entries":return function(){return new Nr(this,Fr)}}return function(){return new Nr(this)}},Dr=Lr+" Iterator",Wr=!1,$r=Ir.prototype,Vr=$r[Cr]||$r["@@iterator"]||Pr&&$r[Pr],zr=!Rr&&Vr||Sr(Pr),Gr=Lr==="Array"&&$r.entries||Vr;if(Gr&&(wr=dr(Gr.call(new Ir)))!==Object.prototype&&wr.next&&(lr||dr(wr)===xr||(hr?hr(wr,xr):cr(wr[Cr])||br(wr,Cr,Tr)),fr(wr,Dr,!0,!0),lr&&(gr[Dr]=Tr)),vr&&Pr==="values"&&Vr&&Vr.name!=="values"&&(!lr&&_r?mr($r,"name","values"):(Wr=!0,zr=function(){return sr(Vr,this)})),Pr)if(Er={values:Sr("values"),keys:Mr?zr:Sr("keys"),entries:Sr("entries")},jr)for(Ar in Er)(Rr||Wr||!(Ar in $r))&&br($r,Ar,Er[Ar]);else ar({target:Lr,proto:!0,forced:Rr||Wr},Er);return lr&&!jr||$r[Cr]===zr||br($r,Cr,zr,{name:Pr}),gr[Lr]=zr,Er}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(rr,nr,ir){var ar,sr,lr,or=rr("../internals/fails"),cr=rr("../internals/is-callable"),ur=rr("../internals/is-object"),dr=rr("../internals/object-create"),hr=rr("../internals/object-get-prototype-of"),fr=rr("../internals/define-built-in"),mr=rr("../internals/well-known-symbol"),br=rr("../internals/is-pure"),pr=mr("iterator"),gr=!1;[].keys&&("next"in(lr=[].keys())?(sr=hr(hr(lr)))!==Object.prototype&&(ar=sr):gr=!0),!ur(ar)||or(function(){var yr={};return ar[pr].call(yr)!==yr})?ar={}:br&&(ar=dr(ar)),cr(ar[pr])||fr(ar,pr,function(){return this}),nr.exports={IteratorPrototype:ar,BUGGY_SAFARI_ITERATORS:gr}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(rr,nr,ir){arguments[4][276][0].apply(ir,arguments)},{dup:276}],299:[function(rr,nr,ir){var ar=rr("../internals/to-length");nr.exports=function(sr){return ar(sr.length)}},{"../internals/to-length":343}],300:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/fails"),lr=rr("../internals/is-callable"),or=rr("../internals/has-own-property"),cr=rr("../internals/descriptors"),ur=rr("../internals/function-name").CONFIGURABLE,dr=rr("../internals/inspect-source"),hr=rr("../internals/internal-state"),fr=hr.enforce,mr=hr.get,br=String,pr=Object.defineProperty,gr=ar("".slice),yr=ar("".replace),vr=ar([].join),_r=cr&&!sr(function(){return pr(function(){},"length",{value:8}).length!==8}),xr=String(String).split("String"),Rr=nr.exports=function(Cr,Tr,Ir){gr(br(Tr),0,7)==="Symbol("&&(Tr="["+yr(br(Tr),/^Symbol\(([^)]*)\)/,"$1")+"]"),Ir&&Ir.getter&&(Tr="get "+Tr),Ir&&Ir.setter&&(Tr="set "+Tr),(!or(Cr,"name")||ur&&Cr.name!==Tr)&&(cr?pr(Cr,"name",{value:Tr,configurable:!0}):Cr.name=Tr),_r&&Ir&&or(Ir,"arity")&&Cr.length!==Ir.arity&&pr(Cr,"length",{value:Ir.arity});try{Ir&&or(Ir,"constructor")&&Ir.constructor?cr&&pr(Cr,"prototype",{writable:!1}):Cr.prototype&&(Cr.prototype=void 0)}catch{}var Lr=fr(Cr);return or(Lr,"source")||(Lr.source=vr(xr,typeof Tr=="string"?Tr:"")),Cr};Function.prototype.toString=Rr(function(){return lr(this)&&mr(this).source||dr(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(rr,nr,ir){var ar=Math.ceil,sr=Math.floor;nr.exports=Math.trunc||function(lr){var or=+lr;return(or>0?sr:ar)(or)}},{}],302:[function(rr,nr,ir){var ar,sr,lr,or,cr,ur=rr("../internals/global"),dr=rr("../internals/function-bind-context"),hr=rr("../internals/object-get-own-property-descriptor").f,fr=rr("../internals/task").set,mr=rr("../internals/queue"),br=rr("../internals/engine-is-ios"),pr=rr("../internals/engine-is-ios-pebble"),gr=rr("../internals/engine-is-webos-webkit"),yr=rr("../internals/engine-is-node"),vr=ur.MutationObserver||ur.WebKitMutationObserver,_r=ur.document,xr=ur.process,Rr=ur.Promise,Cr=hr(ur,"queueMicrotask"),Tr=Cr&&Cr.value;if(!Tr){var Ir=new mr,Lr=function(){var Nr,Or;for(yr&&(Nr=xr.domain)&&Nr.exit();Or=Ir.get();)try{Or()}catch(Pr){throw Ir.head&&ar(),Pr}Nr&&Nr.enter()};br||yr||gr||!vr||!_r?!pr&&Rr&&Rr.resolve?((or=Rr.resolve(void 0)).constructor=Rr,cr=dr(or.then,or),ar=function(){cr(Lr)}):yr?ar=function(){xr.nextTick(Lr)}:(fr=dr(fr,ur),ar=function(){fr(Lr)}):(sr=!0,lr=_r.createTextNode(""),new vr(Lr).observe(lr,{characterData:!0}),ar=function(){lr.data=sr=!sr}),Tr=function(Nr){Ir.head||ar(),Ir.add(Nr)}}nr.exports=Tr},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(rr,nr,ir){var ar=rr("../internals/a-callable"),sr=TypeError,lr=function(or){var cr,ur;this.promise=new or(function(dr,hr){if(cr!==void 0||ur!==void 0)throw new sr("Bad Promise constructor");cr=dr,ur=hr}),this.resolve=ar(cr),this.reject=ar(ur)};nr.exports.f=function(or){return new lr(or)}},{"../internals/a-callable":222}],304:[function(rr,nr,ir){var ar=rr("../internals/is-regexp"),sr=TypeError;nr.exports=function(lr){if(ar(lr))throw new sr("The method doesn't accept regular expressions");return lr}},{"../internals/is-regexp":291}],305:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/function-uncurry-this"),lr=rr("../internals/function-call"),or=rr("../internals/fails"),cr=rr("../internals/object-keys"),ur=rr("../internals/object-get-own-property-symbols"),dr=rr("../internals/object-property-is-enumerable"),hr=rr("../internals/to-object"),fr=rr("../internals/indexed-object"),mr=Object.assign,br=Object.defineProperty,pr=sr([].concat);nr.exports=!mr||or(function(){if(ar&&mr({b:1},mr(br({},"a",{enumerable:!0,get:function(){br(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var gr={},yr={},vr=Symbol("assign detection");return gr[vr]=7,"abcdefghijklmnopqrst".split("").forEach(function(_r){yr[_r]=_r}),mr({},gr)[vr]!==7||cr(mr({},yr)).join("")!=="abcdefghijklmnopqrst"})?function(gr,yr){for(var vr=hr(gr),_r=arguments.length,xr=1,Rr=ur.f,Cr=dr.f;_r>xr;)for(var Tr,Ir=fr(arguments[xr++]),Lr=Rr?pr(cr(Ir),Rr(Ir)):cr(Ir),Nr=Lr.length,Or=0;Nr>Or;)Tr=Lr[Or++],ar&&!lr(Cr,Ir,Tr)||(vr[Tr]=Ir[Tr]);return vr}:mr},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(rr,nr,ir){var ar,sr=rr("../internals/an-object"),lr=rr("../internals/object-define-properties"),or=rr("../internals/enum-bug-keys"),cr=rr("../internals/hidden-keys"),ur=rr("../internals/html"),dr=rr("../internals/document-create-element"),hr=rr("../internals/shared-key"),fr=hr("IE_PROTO"),mr=function(){},br=function(yr){return"<script>"+yr+"<\/script>"},pr=function(yr){yr.write(br("")),yr.close();var vr=yr.parentWindow.Object;return yr=null,vr},gr=function(){try{ar=new ActiveXObject("htmlfile")}catch{}var yr,vr;gr=typeof document<"u"?document.domain&&ar?pr(ar):((vr=dr("iframe")).style.display="none",ur.appendChild(vr),vr.src="javascript:",(yr=vr.contentWindow.document).open(),yr.write(br("document.F=Object")),yr.close(),yr.F):pr(ar);for(var _r=or.length;_r--;)delete gr.prototype[or[_r]];return gr()};cr[fr]=!0,nr.exports=Object.create||function(yr,vr){var _r;return yr!==null?(mr.prototype=sr(yr),_r=new mr,mr.prototype=null,_r[fr]=yr):_r=gr(),vr===void 0?_r:lr.f(_r,vr)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/v8-prototype-define-bug"),lr=rr("../internals/object-define-property"),or=rr("../internals/an-object"),cr=rr("../internals/to-indexed-object"),ur=rr("../internals/object-keys");ir.f=ar&&!sr?Object.defineProperties:function(dr,hr){or(dr);for(var fr,mr=cr(hr),br=ur(hr),pr=br.length,gr=0;pr>gr;)lr.f(dr,fr=br[gr++],mr[fr]);return dr}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/ie8-dom-define"),lr=rr("../internals/v8-prototype-define-bug"),or=rr("../internals/an-object"),cr=rr("../internals/to-property-key"),ur=TypeError,dr=Object.defineProperty,hr=Object.getOwnPropertyDescriptor;ir.f=ar?lr?function(fr,mr,br){if(or(fr),mr=cr(mr),or(br),typeof fr=="function"&&mr==="prototype"&&"value"in br&&"writable"in br&&!br.writable){var pr=hr(fr,mr);pr&&pr.writable&&(fr[mr]=br.value,br={configurable:"configurable"in br?br.configurable:pr.configurable,enumerable:"enumerable"in br?br.enumerable:pr.enumerable,writable:!1})}return dr(fr,mr,br)}:dr:function(fr,mr,br){if(or(fr),mr=cr(mr),or(br),sr)try{return dr(fr,mr,br)}catch{}if("get"in br||"set"in br)throw new ur("Accessors not supported");return"value"in br&&(fr[mr]=br.value),fr}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/function-call"),lr=rr("../internals/object-property-is-enumerable"),or=rr("../internals/create-property-descriptor"),cr=rr("../internals/to-indexed-object"),ur=rr("../internals/to-property-key"),dr=rr("../internals/has-own-property"),hr=rr("../internals/ie8-dom-define"),fr=Object.getOwnPropertyDescriptor;ir.f=ar?fr:function(mr,br){if(mr=cr(mr),br=ur(br),hr)try{return fr(mr,br)}catch{}if(dr(mr,br))return or(!sr(lr.f,mr,br),mr[br])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(rr,nr,ir){var ar=rr("../internals/classof-raw"),sr=rr("../internals/to-indexed-object"),lr=rr("../internals/object-get-own-property-names").f,or=rr("../internals/array-slice-simple"),cr=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];nr.exports.f=function(ur){return cr&&ar(ur)==="Window"?function(dr){try{return lr(dr)}catch{return or(cr)}}(ur):lr(sr(ur))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(rr,nr,ir){var ar=rr("../internals/object-keys-internal"),sr=rr("../internals/enum-bug-keys").concat("length","prototype");ir.f=Object.getOwnPropertyNames||function(lr){return ar(lr,sr)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(rr,nr,ir){ir.f=Object.getOwnPropertySymbols},{}],313:[function(rr,nr,ir){var ar=rr("../internals/has-own-property"),sr=rr("../internals/is-callable"),lr=rr("../internals/to-object"),or=rr("../internals/shared-key"),cr=rr("../internals/correct-prototype-getter"),ur=or("IE_PROTO"),dr=Object,hr=dr.prototype;nr.exports=cr?dr.getPrototypeOf:function(fr){var mr=lr(fr);if(ar(mr,ur))return mr[ur];var br=mr.constructor;return sr(br)&&mr instanceof br?br.prototype:mr instanceof dr?hr:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this");nr.exports=ar({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=rr("../internals/has-own-property"),lr=rr("../internals/to-indexed-object"),or=rr("../internals/array-includes").indexOf,cr=rr("../internals/hidden-keys"),ur=ar([].push);nr.exports=function(dr,hr){var fr,mr=lr(dr),br=0,pr=[];for(fr in mr)!sr(cr,fr)&&sr(mr,fr)&&ur(pr,fr);for(;hr.length>br;)sr(mr,fr=hr[br++])&&(~or(pr,fr)||ur(pr,fr));return pr}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(rr,nr,ir){var ar=rr("../internals/object-keys-internal"),sr=rr("../internals/enum-bug-keys");nr.exports=Object.keys||function(lr){return ar(lr,sr)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(rr,nr,ir){var ar={}.propertyIsEnumerable,sr=Object.getOwnPropertyDescriptor,lr=sr&&!ar.call({1:2},1);ir.f=lr?function(or){var cr=sr(this,or);return!!cr&&cr.enumerable}:ar},{}],318:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this-accessor"),sr=rr("../internals/an-object"),lr=rr("../internals/a-possible-prototype");nr.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var or,cr=!1,ur={};try{(or=ar(Object.prototype,"__proto__","set"))(ur,[]),cr=ur instanceof Array}catch{}return function(dr,hr){return sr(dr),lr(hr),cr?or(dr,hr):dr.__proto__=hr,dr}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/fails"),lr=rr("../internals/function-uncurry-this"),or=rr("../internals/object-get-prototype-of"),cr=rr("../internals/object-keys"),ur=rr("../internals/to-indexed-object"),dr=lr(rr("../internals/object-property-is-enumerable").f),hr=lr([].push),fr=ar&&sr(function(){var br=Object.create(null);return br[2]=2,!dr(br,2)}),mr=function(br){return function(pr){for(var gr,yr=ur(pr),vr=cr(yr),_r=fr&&or(yr)===null,xr=vr.length,Rr=0,Cr=[];xr>Rr;)gr=vr[Rr++],ar&&!(_r?gr in yr:dr(yr,gr))||hr(Cr,br?[gr,yr[gr]]:yr[gr]);return Cr}};nr.exports={entries:mr(!0),values:mr(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(rr,nr,ir){var ar=rr("../internals/function-call"),sr=rr("../internals/is-callable"),lr=rr("../internals/is-object"),or=TypeError;nr.exports=function(cr,ur){var dr,hr;if(ur==="string"&&sr(dr=cr.toString)&&!lr(hr=ar(dr,cr))||sr(dr=cr.valueOf)&&!lr(hr=ar(dr,cr))||ur!=="string"&&sr(dr=cr.toString)&&!lr(hr=ar(dr,cr)))return hr;throw new or("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(rr,nr,ir){var ar=rr("../internals/get-built-in"),sr=rr("../internals/function-uncurry-this"),lr=rr("../internals/object-get-own-property-names"),or=rr("../internals/object-get-own-property-symbols"),cr=rr("../internals/an-object"),ur=sr([].concat);nr.exports=ar("Reflect","ownKeys")||function(dr){var hr=lr.f(cr(dr)),fr=or.f;return fr?ur(hr,fr(dr)):hr}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(rr,nr,ir){var ar=rr("../internals/global");nr.exports=ar},{"../internals/global":274}],323:[function(rr,nr,ir){nr.exports=function(ar){try{return{error:!1,value:ar()}}catch(sr){return{error:!0,value:sr}}}},{}],324:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/promise-native-constructor"),lr=rr("../internals/is-callable"),or=rr("../internals/is-forced"),cr=rr("../internals/inspect-source"),ur=rr("../internals/well-known-symbol"),dr=rr("../internals/engine-is-browser"),hr=rr("../internals/engine-is-deno"),fr=rr("../internals/is-pure"),mr=rr("../internals/engine-v8-version"),br=sr&&sr.prototype,pr=ur("species"),gr=!1,yr=lr(ar.PromiseRejectionEvent),vr=or("Promise",function(){var _r=cr(sr),xr=_r!==String(sr);if(!xr&&mr===66||fr&&(!br.catch||!br.finally))return!0;if(!mr||mr<51||!/native code/.test(_r)){var Rr=new sr(function(Tr){Tr(1)}),Cr=function(Tr){Tr(function(){},function(){})};if((Rr.constructor={})[pr]=Cr,!(gr=Rr.then(function(){})instanceof Cr))return!0}return!xr&&(dr||hr)&&!yr});nr.exports={CONSTRUCTOR:vr,REJECTION_EVENT:yr,SUBCLASSING:gr}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(rr,nr,ir){var ar=rr("../internals/global");nr.exports=ar.Promise},{"../internals/global":274}],326:[function(rr,nr,ir){var ar=rr("../internals/an-object"),sr=rr("../internals/is-object"),lr=rr("../internals/new-promise-capability");nr.exports=function(or,cr){if(ar(or),sr(cr)&&cr.constructor===or)return cr;var ur=lr.f(or);return(0,ur.resolve)(cr),ur.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(rr,nr,ir){var ar=rr("../internals/promise-native-constructor"),sr=rr("../internals/check-correctness-of-iteration"),lr=rr("../internals/promise-constructor-detection").CONSTRUCTOR;nr.exports=lr||!sr(function(or){ar.all(or).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(rr,nr,ir){var ar=function(){this.head=null,this.tail=null};ar.prototype={add:function(sr){var lr={item:sr,next:null},or=this.tail;or?or.next=lr:this.head=lr,this.tail=lr},get:function(){var sr=this.head;if(sr)return(this.head=sr.next)===null&&(this.tail=null),sr.item}},nr.exports=ar},{}],329:[function(rr,nr,ir){var ar=rr("../internals/is-null-or-undefined"),sr=TypeError;nr.exports=function(lr){if(ar(lr))throw new sr("Can't call method on "+lr);return lr}},{"../internals/is-null-or-undefined":288}],330:[function(rr,nr,ir){var ar=rr("../internals/get-built-in"),sr=rr("../internals/define-built-in-accessor"),lr=rr("../internals/well-known-symbol"),or=rr("../internals/descriptors"),cr=lr("species");nr.exports=function(ur){var dr=ar(ur);or&&dr&&!dr[cr]&&sr(dr,cr,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(rr,nr,ir){var ar=rr("../internals/object-define-property").f,sr=rr("../internals/has-own-property"),lr=rr("../internals/well-known-symbol")("toStringTag");nr.exports=function(or,cr,ur){or&&!ur&&(or=or.prototype),or&&!sr(or,lr)&&ar(or,lr,{configurable:!0,value:cr})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(rr,nr,ir){var ar=rr("../internals/shared"),sr=rr("../internals/uid"),lr=ar("keys");nr.exports=function(or){return lr[or]||(lr[or]=sr(or))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/define-global-property"),lr=ar["__core-js_shared__"]||sr("__core-js_shared__",{});nr.exports=lr},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(rr,nr,ir){var ar=rr("../internals/is-pure"),sr=rr("../internals/shared-store");(nr.exports=function(lr,or){return sr[lr]||(sr[lr]=or!==void 0?or:{})})("versions",[]).push({version:"3.33.0",mode:ar?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(rr,nr,ir){var ar=rr("../internals/an-object"),sr=rr("../internals/a-constructor"),lr=rr("../internals/is-null-or-undefined"),or=rr("../internals/well-known-symbol")("species");nr.exports=function(cr,ur){var dr,hr=ar(cr).constructor;return hr===void 0||lr(dr=ar(hr)[or])?ur:sr(dr)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(rr,nr,ir){var ar=rr("../internals/engine-v8-version"),sr=rr("../internals/fails"),lr=rr("../internals/global").String;nr.exports=!!Object.getOwnPropertySymbols&&!sr(function(){var or=Symbol("symbol detection");return!lr(or)||!(Object(or)instanceof Symbol)||!Symbol.sham&&ar&&ar<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(rr,nr,ir){var ar=rr("../internals/function-call"),sr=rr("../internals/get-built-in"),lr=rr("../internals/well-known-symbol"),or=rr("../internals/define-built-in");nr.exports=function(){var cr=sr("Symbol"),ur=cr&&cr.prototype,dr=ur&&ur.valueOf,hr=lr("toPrimitive");ur&&!ur[hr]&&or(ur,hr,function(fr){return ar(dr,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(rr,nr,ir){var ar=rr("../internals/symbol-constructor-detection");nr.exports=ar&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(rr,nr,ir){var ar,sr,lr,or,cr=rr("../internals/global"),ur=rr("../internals/function-apply"),dr=rr("../internals/function-bind-context"),hr=rr("../internals/is-callable"),fr=rr("../internals/has-own-property"),mr=rr("../internals/fails"),br=rr("../internals/html"),pr=rr("../internals/array-slice"),gr=rr("../internals/document-create-element"),yr=rr("../internals/validate-arguments-length"),vr=rr("../internals/engine-is-ios"),_r=rr("../internals/engine-is-node"),xr=cr.setImmediate,Rr=cr.clearImmediate,Cr=cr.process,Tr=cr.Dispatch,Ir=cr.Function,Lr=cr.MessageChannel,Nr=cr.String,Or=0,Pr={};mr(function(){ar=cr.location});var Mr=function(Ar){if(fr(Pr,Ar)){var Sr=Pr[Ar];delete Pr[Ar],Sr()}},jr=function(Ar){return function(){Mr(Ar)}},wr=function(Ar){Mr(Ar.data)},Er=function(Ar){cr.postMessage(Nr(Ar),ar.protocol+"//"+ar.host)};xr&&Rr||(xr=function(Ar){yr(arguments.length,1);var Sr=hr(Ar)?Ar:Ir(Ar),Dr=pr(arguments,1);return Pr[++Or]=function(){ur(Sr,void 0,Dr)},sr(Or),Or},Rr=function(Ar){delete Pr[Ar]},_r?sr=function(Ar){Cr.nextTick(jr(Ar))}:Tr&&Tr.now?sr=function(Ar){Tr.now(jr(Ar))}:Lr&&!vr?(or=(lr=new Lr).port2,lr.port1.onmessage=wr,sr=dr(or.postMessage,or)):cr.addEventListener&&hr(cr.postMessage)&&!cr.importScripts&&ar&&ar.protocol!=="file:"&&!mr(Er)?(sr=Er,cr.addEventListener("message",wr,!1)):sr="onreadystatechange"in gr("script")?function(Ar){br.appendChild(gr("script")).onreadystatechange=function(){br.removeChild(this),Mr(Ar)}}:function(Ar){setTimeout(jr(Ar),0)}),nr.exports={set:xr,clear:Rr}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(rr,nr,ir){var ar=rr("../internals/to-integer-or-infinity"),sr=Math.max,lr=Math.min;nr.exports=function(or,cr){var ur=ar(or);return ur<0?sr(ur+cr,0):lr(ur,cr)}},{"../internals/to-integer-or-infinity":342}],341:[function(rr,nr,ir){var ar=rr("../internals/indexed-object"),sr=rr("../internals/require-object-coercible");nr.exports=function(lr){return ar(sr(lr))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(rr,nr,ir){var ar=rr("../internals/math-trunc");nr.exports=function(sr){var lr=+sr;return lr!=lr||lr===0?0:ar(lr)}},{"../internals/math-trunc":301}],343:[function(rr,nr,ir){var ar=rr("../internals/to-integer-or-infinity"),sr=Math.min;nr.exports=function(lr){return lr>0?sr(ar(lr),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(rr,nr,ir){var ar=rr("../internals/require-object-coercible"),sr=Object;nr.exports=function(lr){return sr(ar(lr))}},{"../internals/require-object-coercible":329}],345:[function(rr,nr,ir){var ar=rr("../internals/function-call"),sr=rr("../internals/is-object"),lr=rr("../internals/is-symbol"),or=rr("../internals/get-method"),cr=rr("../internals/ordinary-to-primitive"),ur=rr("../internals/well-known-symbol"),dr=TypeError,hr=ur("toPrimitive");nr.exports=function(fr,mr){if(!sr(fr)||lr(fr))return fr;var br,pr=or(fr,hr);if(pr){if(mr===void 0&&(mr="default"),br=ar(pr,fr,mr),!sr(br)||lr(br))return br;throw new dr("Can't convert object to primitive value")}return mr===void 0&&(mr="number"),cr(fr,mr)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(rr,nr,ir){var ar=rr("../internals/to-primitive"),sr=rr("../internals/is-symbol");nr.exports=function(lr){var or=ar(lr,"string");return sr(or)?or:or+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(rr,nr,ir){var ar={};ar[rr("../internals/well-known-symbol")("toStringTag")]="z",nr.exports=String(ar)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(rr,nr,ir){var ar=rr("../internals/classof"),sr=String;nr.exports=function(lr){if(ar(lr)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return sr(lr)}},{"../internals/classof":236}],349:[function(rr,nr,ir){var ar=String;nr.exports=function(sr){try{return ar(sr)}catch{return"Object"}}},{}],350:[function(rr,nr,ir){var ar=rr("../internals/function-uncurry-this"),sr=0,lr=Math.random(),or=ar(1 .toString);nr.exports=function(cr){return"Symbol("+(cr===void 0?"":cr)+")_"+or(++sr+lr,36)}},{"../internals/function-uncurry-this":268}],351:[function(rr,nr,ir){var ar=rr("../internals/symbol-constructor-detection");nr.exports=ar&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(rr,nr,ir){var ar=rr("../internals/descriptors"),sr=rr("../internals/fails");nr.exports=ar&&sr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(rr,nr,ir){var ar=TypeError;nr.exports=function(sr,lr){if(sr<lr)throw new ar("Not enough arguments");return sr}},{}],354:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/is-callable"),lr=ar.WeakMap;nr.exports=sr(lr)&&/native code/.test(String(lr))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(rr,nr,ir){var ar=rr("../internals/path"),sr=rr("../internals/has-own-property"),lr=rr("../internals/well-known-symbol-wrapped"),or=rr("../internals/object-define-property").f;nr.exports=function(cr){var ur=ar.Symbol||(ar.Symbol={});sr(ur,cr)||or(ur,cr,{value:lr.f(cr)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(rr,nr,ir){var ar=rr("../internals/well-known-symbol");ir.f=ar},{"../internals/well-known-symbol":357}],357:[function(rr,nr,ir){var ar=rr("../internals/global"),sr=rr("../internals/shared"),lr=rr("../internals/has-own-property"),or=rr("../internals/uid"),cr=rr("../internals/symbol-constructor-detection"),ur=rr("../internals/use-symbol-as-uid"),dr=ar.Symbol,hr=sr("wks"),fr=ur?dr.for||dr:dr&&dr.withoutSetter||or;nr.exports=function(mr){return lr(hr,mr)||(hr[mr]=cr&&lr(dr,mr)?dr[mr]:fr("Symbol."+mr)),hr[mr]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/array-iteration").findIndex,lr=rr("../internals/add-to-unscopables"),or=!0;"findIndex"in[]&&Array(1).findIndex(function(){or=!1}),ar({target:"Array",proto:!0,forced:or},{findIndex:function(cr){return sr(this,cr,arguments.length>1?arguments[1]:void 0)}}),lr("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/array-iteration").find,lr=rr("../internals/add-to-unscopables"),or=!0;"find"in[]&&Array(1).find(function(){or=!1}),ar({target:"Array",proto:!0,forced:or},{find:function(cr){return sr(this,cr,arguments.length>1?arguments[1]:void 0)}}),lr("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/array-includes").includes,lr=rr("../internals/fails"),or=rr("../internals/add-to-unscopables");ar({target:"Array",proto:!0,forced:lr(function(){return!Array(1).includes()})},{includes:function(cr){return sr(this,cr,arguments.length>1?arguments[1]:void 0)}}),or("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(rr,nr,ir){var ar=rr("../internals/to-indexed-object"),sr=rr("../internals/add-to-unscopables"),lr=rr("../internals/iterators"),or=rr("../internals/internal-state"),cr=rr("../internals/object-define-property").f,ur=rr("../internals/iterator-define"),dr=rr("../internals/create-iter-result-object"),hr=rr("../internals/is-pure"),fr=rr("../internals/descriptors"),mr=or.set,br=or.getterFor("Array Iterator");nr.exports=ur(Array,"Array",function(gr,yr){mr(this,{type:"Array Iterator",target:ar(gr),index:0,kind:yr})},function(){var gr=br(this),yr=gr.target,vr=gr.kind,_r=gr.index++;if(!yr||_r>=yr.length)return gr.target=void 0,dr(void 0,!0);switch(vr){case"keys":return dr(_r,!1);case"values":return dr(yr[_r],!1)}return dr([_r,yr[_r]],!1)},"values");var pr=lr.Arguments=lr.Array;if(sr("keys"),sr("values"),sr("entries"),!hr&&fr&&pr.name!=="values")try{cr(pr,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/get-built-in"),lr=rr("../internals/function-apply"),or=rr("../internals/function-call"),cr=rr("../internals/function-uncurry-this"),ur=rr("../internals/fails"),dr=rr("../internals/is-callable"),hr=rr("../internals/is-symbol"),fr=rr("../internals/array-slice"),mr=rr("../internals/get-json-replacer-function"),br=rr("../internals/symbol-constructor-detection"),pr=String,gr=sr("JSON","stringify"),yr=cr(/./.exec),vr=cr("".charAt),_r=cr("".charCodeAt),xr=cr("".replace),Rr=cr(1 .toString),Cr=/[\uD800-\uDFFF]/g,Tr=/^[\uD800-\uDBFF]$/,Ir=/^[\uDC00-\uDFFF]$/,Lr=!br||ur(function(){var Mr=sr("Symbol")("stringify detection");return gr([Mr])!=="[null]"||gr({a:Mr})!=="{}"||gr(Object(Mr))!=="{}"}),Nr=ur(function(){return gr("\uDF06\uD834")!=='"\\udf06\\ud834"'||gr("\uDEAD")!=='"\\udead"'}),Or=function(Mr,jr){var wr=fr(arguments),Er=mr(jr);if(dr(Er)||Mr!==void 0&&!hr(Mr))return wr[1]=function(Ar,Sr){if(dr(Er)&&(Sr=or(Er,this,pr(Ar),Sr)),!hr(Sr))return Sr},lr(gr,null,wr)},Pr=function(Mr,jr,wr){var Er=vr(wr,jr-1),Ar=vr(wr,jr+1);return yr(Tr,Mr)&&!yr(Ir,Ar)||yr(Ir,Mr)&&!yr(Tr,Er)?"\\u"+Rr(_r(Mr,0),16):Mr};gr&&ar({target:"JSON",stat:!0,arity:3,forced:Lr||Nr},{stringify:function(Mr,jr,wr){var Er=fr(arguments),Ar=lr(Lr?Or:gr,null,Er);return Nr&&typeof Ar=="string"?xr(Ar,Cr,Pr):Ar}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(rr,nr,ir){rr("../internals/export")({target:"Number",stat:!0},{isNaN:function(ar){return ar!=ar}})},{"../internals/export":259}],364:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/object-assign");ar({target:"Object",stat:!0,arity:2,forced:Object.assign!==sr},{assign:sr})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/symbol-constructor-detection"),lr=rr("../internals/fails"),or=rr("../internals/object-get-own-property-symbols"),cr=rr("../internals/to-object");ar({target:"Object",stat:!0,forced:!sr||lr(function(){or.f(1)})},{getOwnPropertySymbols:function(ur){var dr=or.f;return dr?dr(cr(ur)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/to-object"),lr=rr("../internals/object-keys");ar({target:"Object",stat:!0,forced:rr("../internals/fails")(function(){lr(1)})},{keys:function(or){return lr(sr(or))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/object-to-array").values;ar({target:"Object",stat:!0},{values:function(lr){return sr(lr)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-call"),lr=rr("../internals/a-callable"),or=rr("../internals/new-promise-capability"),cr=rr("../internals/perform"),ur=rr("../internals/iterate");ar({target:"Promise",stat:!0,forced:rr("../internals/promise-statics-incorrect-iteration")},{all:function(dr){var hr=this,fr=or.f(hr),mr=fr.resolve,br=fr.reject,pr=cr(function(){var gr=lr(hr.resolve),yr=[],vr=0,_r=1;ur(dr,function(xr){var Rr=vr++,Cr=!1;_r++,sr(gr,hr,xr).then(function(Tr){Cr||(Cr=!0,yr[Rr]=Tr,--_r||mr(yr))},br)}),--_r||mr(yr)});return pr.error&&br(pr.value),fr.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/is-pure"),lr=rr("../internals/promise-constructor-detection").CONSTRUCTOR,or=rr("../internals/promise-native-constructor"),cr=rr("../internals/get-built-in"),ur=rr("../internals/is-callable"),dr=rr("../internals/define-built-in"),hr=or&&or.prototype;if(ar({target:"Promise",proto:!0,forced:lr,real:!0},{catch:function(mr){return this.then(void 0,mr)}}),!sr&&ur(or)){var fr=cr("Promise").prototype.catch;hr.catch!==fr&&dr(hr,"catch",fr,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(rr,nr,ir){var ar,sr,lr,or=rr("../internals/export"),cr=rr("../internals/is-pure"),ur=rr("../internals/engine-is-node"),dr=rr("../internals/global"),hr=rr("../internals/function-call"),fr=rr("../internals/define-built-in"),mr=rr("../internals/object-set-prototype-of"),br=rr("../internals/set-to-string-tag"),pr=rr("../internals/set-species"),gr=rr("../internals/a-callable"),yr=rr("../internals/is-callable"),vr=rr("../internals/is-object"),_r=rr("../internals/an-instance"),xr=rr("../internals/species-constructor"),Rr=rr("../internals/task").set,Cr=rr("../internals/microtask"),Tr=rr("../internals/host-report-errors"),Ir=rr("../internals/perform"),Lr=rr("../internals/queue"),Nr=rr("../internals/internal-state"),Or=rr("../internals/promise-native-constructor"),Pr=rr("../internals/promise-constructor-detection"),Mr=rr("../internals/new-promise-capability"),jr=Pr.CONSTRUCTOR,wr=Pr.REJECTION_EVENT,Er=Pr.SUBCLASSING,Ar=Nr.getterFor("Promise"),Sr=Nr.set,Dr=Or&&Or.prototype,Wr=Or,$r=Dr,Vr=dr.TypeError,zr=dr.document,Gr=dr.process,Fr=Mr.f,Xr=Fr,Ur=!!(zr&&zr.createEvent&&dr.dispatchEvent),Br=function(on){var fn;return!(!vr(on)||!yr(fn=on.then))&&fn},Kr=function(on,fn){var mn,yn,Rn,In=fn.value,Sn=fn.state===1,Dn=Sn?on.ok:on.fail,zn=on.resolve,rs=on.reject,ns=on.domain;try{Dn?(Sn||(fn.rejection===2&&hn(fn),fn.rejection=1),Dn===!0?mn=In:(ns&&ns.enter(),mn=Dn(In),ns&&(ns.exit(),Rn=!0)),mn===on.promise?rs(new Vr("Promise-chain cycle")):(yn=Br(mn))?hr(yn,mn,zn,rs):zn(mn)):rs(In)}catch(fs){ns&&!Rn&&ns.exit(),rs(fs)}},Zr=function(on,fn){on.notified||(on.notified=!0,Cr(function(){for(var mn,yn=on.reactions;mn=yn.get();)Kr(mn,on);on.notified=!1,fn&&!on.rejection&&sn(on)}))},tn=function(on,fn,mn){var yn,Rn;Ur?((yn=zr.createEvent("Event")).promise=fn,yn.reason=mn,yn.initEvent(on,!1,!0),dr.dispatchEvent(yn)):yn={promise:fn,reason:mn},!wr&&(Rn=dr["on"+on])?Rn(yn):on==="unhandledrejection"&&Tr("Unhandled promise rejection",mn)},sn=function(on){hr(Rr,dr,function(){var fn,mn=on.facade,yn=on.value;if(un(on)&&(fn=Ir(function(){ur?Gr.emit("unhandledRejection",yn,mn):tn("unhandledrejection",mn,yn)}),on.rejection=ur||un(on)?2:1,fn.error))throw fn.value})},un=function(on){return on.rejection!==1&&!on.parent},hn=function(on){hr(Rr,dr,function(){var fn=on.facade;ur?Gr.emit("rejectionHandled",fn):tn("rejectionhandled",fn,on.value)})},Jr=function(on,fn,mn){return function(yn){on(fn,yn,mn)}},nn=function(on,fn,mn){on.done||(on.done=!0,mn&&(on=mn),on.value=fn,on.state=2,Zr(on,!0))},rn=function(on,fn,mn){if(!on.done){on.done=!0,mn&&(on=mn);try{if(on.facade===fn)throw new Vr("Promise can't be resolved itself");var yn=Br(fn);yn?Cr(function(){var Rn={done:!1};try{hr(yn,fn,Jr(rn,Rn,on),Jr(nn,Rn,on))}catch(In){nn(Rn,In,on)}}):(on.value=fn,on.state=1,Zr(on,!1))}catch(Rn){nn({done:!1},Rn,on)}}};if(jr&&($r=(Wr=function(on){_r(this,$r),gr(on),hr(ar,this);var fn=Ar(this);try{on(Jr(rn,fn),Jr(nn,fn))}catch(mn){nn(fn,mn)}}).prototype,(ar=function(on){Sr(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Lr,rejection:!1,state:0,value:void 0})}).prototype=fr($r,"then",function(on,fn){var mn=Ar(this),yn=Fr(xr(this,Wr));return mn.parent=!0,yn.ok=!yr(on)||on,yn.fail=yr(fn)&&fn,yn.domain=ur?Gr.domain:void 0,mn.state===0?mn.reactions.add(yn):Cr(function(){Kr(yn,mn)}),yn.promise}),sr=function(){var on=new ar,fn=Ar(on);this.promise=on,this.resolve=Jr(rn,fn),this.reject=Jr(nn,fn)},Mr.f=Fr=function(on){return on===Wr||on===void 0?new sr(on):Xr(on)},!cr&&yr(Or)&&Dr!==Object.prototype)){lr=Dr.then,Er||fr(Dr,"then",function(on,fn){var mn=this;return new Wr(function(yn,Rn){hr(lr,mn,yn,Rn)}).then(on,fn)},{unsafe:!0});try{delete Dr.constructor}catch{}mr&&mr(Dr,$r)}or({global:!0,constructor:!0,wrap:!0,forced:jr},{Promise:Wr}),br(Wr,"Promise",!1,!0),pr("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/is-pure"),lr=rr("../internals/promise-native-constructor"),or=rr("../internals/fails"),cr=rr("../internals/get-built-in"),ur=rr("../internals/is-callable"),dr=rr("../internals/species-constructor"),hr=rr("../internals/promise-resolve"),fr=rr("../internals/define-built-in"),mr=lr&&lr.prototype;if(ar({target:"Promise",proto:!0,real:!0,forced:!!lr&&or(function(){mr.finally.call({then:function(){}},function(){})})},{finally:function(pr){var gr=dr(this,cr("Promise")),yr=ur(pr);return this.then(yr?function(vr){return hr(gr,pr()).then(function(){return vr})}:pr,yr?function(vr){return hr(gr,pr()).then(function(){throw vr})}:pr)}}),!sr&&ur(lr)){var br=cr("Promise").prototype.finally;mr.finally!==br&&fr(mr,"finally",br,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(rr,nr,ir){rr("../modules/es.promise.constructor"),rr("../modules/es.promise.all"),rr("../modules/es.promise.catch"),rr("../modules/es.promise.race"),rr("../modules/es.promise.reject"),rr("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-call"),lr=rr("../internals/a-callable"),or=rr("../internals/new-promise-capability"),cr=rr("../internals/perform"),ur=rr("../internals/iterate");ar({target:"Promise",stat:!0,forced:rr("../internals/promise-statics-incorrect-iteration")},{race:function(dr){var hr=this,fr=or.f(hr),mr=fr.reject,br=cr(function(){var pr=lr(hr.resolve);ur(dr,function(gr){sr(pr,hr,gr).then(fr.resolve,mr)})});return br.error&&mr(br.value),fr.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-call"),lr=rr("../internals/new-promise-capability");ar({target:"Promise",stat:!0,forced:rr("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(or){var cr=lr.f(this);return sr(cr.reject,void 0,or),cr.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/get-built-in"),lr=rr("../internals/is-pure"),or=rr("../internals/promise-native-constructor"),cr=rr("../internals/promise-constructor-detection").CONSTRUCTOR,ur=rr("../internals/promise-resolve"),dr=sr("Promise"),hr=lr&&!cr;ar({target:"Promise",stat:!0,forced:lr||cr},{resolve:function(fr){return ur(hr&&this===dr?or:this,fr)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-uncurry-this"),lr=rr("../internals/to-absolute-index"),or=RangeError,cr=String.fromCharCode,ur=String.fromCodePoint,dr=sr([].join);ar({target:"String",stat:!0,arity:1,forced:!!ur&&ur.length!==1},{fromCodePoint:function(hr){for(var fr,mr=[],br=arguments.length,pr=0;br>pr;){if(fr=+arguments[pr++],lr(fr,1114111)!==fr)throw new or(fr+" is not a valid code point");mr[pr]=fr<65536?cr(fr):cr(55296+((fr-=65536)>>10),fr%1024+56320)}return dr(mr,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/function-uncurry-this"),lr=rr("../internals/not-a-regexp"),or=rr("../internals/require-object-coercible"),cr=rr("../internals/to-string"),ur=rr("../internals/correct-is-regexp-logic"),dr=sr("".indexOf);ar({target:"String",proto:!0,forced:!ur("includes")},{includes:function(hr){return!!~dr(cr(or(this)),cr(lr(hr)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(rr,nr,ir){rr("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/global"),lr=rr("../internals/function-call"),or=rr("../internals/function-uncurry-this"),cr=rr("../internals/is-pure"),ur=rr("../internals/descriptors"),dr=rr("../internals/symbol-constructor-detection"),hr=rr("../internals/fails"),fr=rr("../internals/has-own-property"),mr=rr("../internals/object-is-prototype-of"),br=rr("../internals/an-object"),pr=rr("../internals/to-indexed-object"),gr=rr("../internals/to-property-key"),yr=rr("../internals/to-string"),vr=rr("../internals/create-property-descriptor"),_r=rr("../internals/object-create"),xr=rr("../internals/object-keys"),Rr=rr("../internals/object-get-own-property-names"),Cr=rr("../internals/object-get-own-property-names-external"),Tr=rr("../internals/object-get-own-property-symbols"),Ir=rr("../internals/object-get-own-property-descriptor"),Lr=rr("../internals/object-define-property"),Nr=rr("../internals/object-define-properties"),Or=rr("../internals/object-property-is-enumerable"),Pr=rr("../internals/define-built-in"),Mr=rr("../internals/define-built-in-accessor"),jr=rr("../internals/shared"),wr=rr("../internals/shared-key"),Er=rr("../internals/hidden-keys"),Ar=rr("../internals/uid"),Sr=rr("../internals/well-known-symbol"),Dr=rr("../internals/well-known-symbol-wrapped"),Wr=rr("../internals/well-known-symbol-define"),$r=rr("../internals/symbol-define-to-primitive"),Vr=rr("../internals/set-to-string-tag"),zr=rr("../internals/internal-state"),Gr=rr("../internals/array-iteration").forEach,Fr=wr("hidden"),Xr=zr.set,Ur=zr.getterFor("Symbol"),Br=Object.prototype,Kr=sr.Symbol,Zr=Kr&&Kr.prototype,tn=sr.RangeError,sn=sr.TypeError,un=sr.QObject,hn=Ir.f,Jr=Lr.f,nn=Cr.f,rn=Or.f,on=or([].push),fn=jr("symbols"),mn=jr("op-symbols"),yn=jr("wks"),Rn=!un||!un.prototype||!un.prototype.findChild,In=function(os,gs,Wn){var Fn=hn(Br,gs);Fn&&delete Br[gs],Jr(os,gs,Wn),Fn&&os!==Br&&Jr(Br,gs,Fn)},Sn=ur&&hr(function(){return _r(Jr({},"a",{get:function(){return Jr(this,"a",{value:7}).a}})).a!==7})?In:Jr,Dn=function(os,gs){var Wn=fn[os]=_r(Zr);return Xr(Wn,{type:"Symbol",tag:os,description:gs}),ur||(Wn.description=gs),Wn},zn=function(os,gs,Wn){os===Br&&zn(mn,gs,Wn),br(os);var Fn=gr(gs);return br(Wn),fr(fn,Fn)?(Wn.enumerable?(fr(os,Fr)&&os[Fr][Fn]&&(os[Fr][Fn]=!1),Wn=_r(Wn,{enumerable:vr(0,!1)})):(fr(os,Fr)||Jr(os,Fr,vr(1,{})),os[Fr][Fn]=!0),Sn(os,Fn,Wn)):Jr(os,Fn,Wn)},rs=function(os,gs){br(os);var Wn=pr(gs),Fn=xr(Wn).concat(ds(Wn));return Gr(Fn,function(Bn){ur&&!lr(ns,Wn,Bn)||zn(os,Bn,Wn[Bn])}),os},ns=function(os){var gs=gr(os),Wn=lr(rn,this,gs);return!(this===Br&&fr(fn,gs)&&!fr(mn,gs))&&(!(Wn||!fr(this,gs)||!fr(fn,gs)||fr(this,Fr)&&this[Fr][gs])||Wn)},fs=function(os,gs){var Wn=pr(os),Fn=gr(gs);if(Wn!==Br||!fr(fn,Fn)||fr(mn,Fn)){var Bn=hn(Wn,Fn);return!Bn||!fr(fn,Fn)||fr(Wn,Fr)&&Wn[Fr][Fn]||(Bn.enumerable=!0),Bn}},qn=function(os){var gs=nn(pr(os)),Wn=[];return Gr(gs,function(Fn){fr(fn,Fn)||fr(Er,Fn)||on(Wn,Fn)}),Wn},ds=function(os){var gs=os===Br,Wn=nn(gs?mn:pr(os)),Fn=[];return Gr(Wn,function(Bn){!fr(fn,Bn)||gs&&!fr(Br,Bn)||on(Fn,fn[Bn])}),Fn};dr||(Pr(Zr=(Kr=function(){if(mr(Zr,this))throw new sn("Symbol is not a constructor");var os=arguments.length&&arguments[0]!==void 0?yr(arguments[0]):void 0,gs=Ar(os),Wn=function(Fn){this===Br&&lr(Wn,mn,Fn),fr(this,Fr)&&fr(this[Fr],gs)&&(this[Fr][gs]=!1);var Bn=vr(1,Fn);try{Sn(this,gs,Bn)}catch(ss){if(!(ss instanceof tn))throw ss;In(this,gs,Bn)}};return ur&&Rn&&Sn(Br,gs,{configurable:!0,set:Wn}),Dn(gs,os)}).prototype,"toString",function(){return Ur(this).tag}),Pr(Kr,"withoutSetter",function(os){return Dn(Ar(os),os)}),Or.f=ns,Lr.f=zn,Nr.f=rs,Ir.f=fs,Rr.f=Cr.f=qn,Tr.f=ds,Dr.f=function(os){return Dn(Sr(os),os)},ur&&(Mr(Zr,"description",{configurable:!0,get:function(){return Ur(this).description}}),cr||Pr(Br,"propertyIsEnumerable",ns,{unsafe:!0}))),ar({global:!0,constructor:!0,wrap:!0,forced:!dr,sham:!dr},{Symbol:Kr}),Gr(xr(yn),function(os){Wr(os)}),ar({target:"Symbol",stat:!0,forced:!dr},{useSetter:function(){Rn=!0},useSimple:function(){Rn=!1}}),ar({target:"Object",stat:!0,forced:!dr,sham:!ur},{create:function(os,gs){return gs===void 0?_r(os):rs(_r(os),gs)},defineProperty:zn,defineProperties:rs,getOwnPropertyDescriptor:fs}),ar({target:"Object",stat:!0,forced:!dr},{getOwnPropertyNames:qn}),$r(),Vr(Kr,"Symbol"),Er[Fr]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/get-built-in"),lr=rr("../internals/has-own-property"),or=rr("../internals/to-string"),cr=rr("../internals/shared"),ur=rr("../internals/symbol-registry-detection"),dr=cr("string-to-symbol-registry"),hr=cr("symbol-to-string-registry");ar({target:"Symbol",stat:!0,forced:!ur},{for:function(fr){var mr=or(fr);if(lr(dr,mr))return dr[mr];var br=sr("Symbol")(mr);return dr[mr]=br,hr[br]=mr,br}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(rr,nr,ir){rr("../modules/es.symbol.constructor"),rr("../modules/es.symbol.for"),rr("../modules/es.symbol.key-for"),rr("../modules/es.json.stringify"),rr("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(rr,nr,ir){var ar=rr("../internals/export"),sr=rr("../internals/has-own-property"),lr=rr("../internals/is-symbol"),or=rr("../internals/try-to-string"),cr=rr("../internals/shared"),ur=rr("../internals/symbol-registry-detection"),dr=cr("symbol-to-string-registry");ar({target:"Symbol",stat:!0,forced:!ur},{keyFor:function(hr){if(!lr(hr))throw new TypeError(or(hr)+" is not a symbol");if(sr(dr,hr))return dr[hr]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(rr,nr,ir){function ar(sr){return Object.prototype.toString.call(sr)}ir.isArray=function(sr){return Array.isArray?Array.isArray(sr):ar(sr)==="[object Array]"},ir.isBoolean=function(sr){return typeof sr=="boolean"},ir.isNull=function(sr){return sr===null},ir.isNullOrUndefined=function(sr){return sr==null},ir.isNumber=function(sr){return typeof sr=="number"},ir.isString=function(sr){return typeof sr=="string"},ir.isSymbol=function(sr){return typeof sr=="symbol"},ir.isUndefined=function(sr){return sr===void 0},ir.isRegExp=function(sr){return ar(sr)==="[object RegExp]"},ir.isObject=function(sr){return typeof sr=="object"&&sr!==null},ir.isDate=function(sr){return ar(sr)==="[object Date]"},ir.isError=function(sr){return ar(sr)==="[object Error]"||sr instanceof Error},ir.isFunction=function(sr){return typeof sr=="function"},ir.isPrimitive=function(sr){return sr===null||typeof sr=="boolean"||typeof sr=="number"||typeof sr=="string"||typeof sr=="symbol"||sr===void 0},ir.isBuffer=rr("buffer").Buffer.isBuffer},{buffer:220}],384:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("elliptic"),lr=rr("bn.js");nr.exports=function(dr){return new cr(dr)};var or={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function cr(dr){this.curveType=or[dr],this.curveType||(this.curveType={name:dr}),this.curve=new sr.ec(this.curveType.name),this.keys=void 0}function ur(dr,hr,fr){Array.isArray(dr)||(dr=dr.toArray());var mr=new ar(dr);if(fr&&mr.length<fr){var br=new ar(fr-mr.length);br.fill(0),mr=ar.concat([br,mr])}return hr?mr.toString(hr):mr}or.p224=or.secp224r1,or.p256=or.secp256r1=or.prime256v1,or.p192=or.secp192r1=or.prime192v1,or.p384=or.secp384r1,or.p521=or.secp521r1,cr.prototype.generateKeys=function(dr,hr){return this.keys=this.curve.genKeyPair(),this.getPublicKey(dr,hr)},cr.prototype.computeSecret=function(dr,hr,fr){return hr=hr||"utf8",ar.isBuffer(dr)||(dr=new ar(dr,hr)),ur(this.curve.keyFromPublic(dr).getPublic().mul(this.keys.getPrivate()).getX(),fr,this.curveType.byteLength)},cr.prototype.getPublicKey=function(dr,hr){var fr=this.keys.getPublic(hr==="compressed",!0);return hr==="hybrid"&&(fr[fr.length-1]%2?fr[0]=7:fr[0]=6),ur(fr,dr)},cr.prototype.getPrivateKey=function(dr){return ur(this.keys.getPrivate(),dr)},cr.prototype.setPublicKey=function(dr,hr){return hr=hr||"utf8",ar.isBuffer(dr)||(dr=new ar(dr,hr)),this.keys._importPublic(dr),this},cr.prototype.setPrivateKey=function(dr,hr){hr=hr||"utf8",ar.isBuffer(dr)||(dr=new ar(dr,hr));var fr=new lr(dr);return fr=fr.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(fr),this}}).call(this)}).call(this,rr("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(rr,nr,ir){arguments[4][184][0].apply(ir,arguments)},{buffer:188,dup:184}],386:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("md5.js"),lr=rr("ripemd160"),or=rr("sha.js"),cr=rr("cipher-base");function ur(dr){cr.call(this,"digest"),this._hash=dr}ar(ur,cr),ur.prototype._update=function(dr){this._hash.update(dr)},ur.prototype._final=function(){return this._hash.digest()},nr.exports=function(dr){return(dr=dr.toLowerCase())==="md5"?new sr:dr==="rmd160"||dr==="ripemd160"?new lr:new ur(or(dr))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(rr,nr,ir){var ar=rr("md5.js");nr.exports=function(sr){return new ar().update(sr).digest()}},{"md5.js":450}],388:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./legacy"),lr=rr("cipher-base"),or=rr("safe-buffer").Buffer,cr=rr("create-hash/md5"),ur=rr("ripemd160"),dr=rr("sha.js"),hr=or.alloc(128);function fr(mr,br){lr.call(this,"digest"),typeof br=="string"&&(br=or.from(br));var pr=mr==="sha512"||mr==="sha384"?128:64;this._alg=mr,this._key=br,br.length>pr?br=(mr==="rmd160"?new ur:dr(mr)).update(br).digest():br.length<pr&&(br=or.concat([br,hr],pr));for(var gr=this._ipad=or.allocUnsafe(pr),yr=this._opad=or.allocUnsafe(pr),vr=0;vr<pr;vr++)gr[vr]=54^br[vr],yr[vr]=92^br[vr];this._hash=mr==="rmd160"?new ur:dr(mr),this._hash.update(gr)}ar(fr,lr),fr.prototype._update=function(mr){this._hash.update(mr)},fr.prototype._final=function(){var mr=this._hash.digest();return(this._alg==="rmd160"?new ur:dr(this._alg)).update(this._opad).update(mr).digest()},nr.exports=function(mr,br){return(mr=mr.toLowerCase())==="rmd160"||mr==="ripemd160"?new fr("rmd160",br):mr==="md5"?new sr(cr,br):new fr(mr,br)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("safe-buffer").Buffer,lr=rr("cipher-base"),or=sr.alloc(128);function cr(ur,dr){lr.call(this,"digest"),typeof dr=="string"&&(dr=sr.from(dr)),this._alg=ur,this._key=dr,dr.length>64?dr=ur(dr):dr.length<64&&(dr=sr.concat([dr,or],64));for(var hr=this._ipad=sr.allocUnsafe(64),fr=this._opad=sr.allocUnsafe(64),mr=0;mr<64;mr++)hr[mr]=54^dr[mr],fr[mr]=92^dr[mr];this._hash=[hr]}ar(cr,lr),cr.prototype._update=function(ur){this._hash.push(ur)},cr.prototype._final=function(){var ur=this._alg(sr.concat(this._hash));return this._alg(sr.concat([this._opad,ur]))},nr.exports=cr},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(rr,nr,ir){ir.randomBytes=ir.rng=ir.pseudoRandomBytes=ir.prng=rr("randombytes"),ir.createHash=ir.Hash=rr("create-hash"),ir.createHmac=ir.Hmac=rr("create-hmac");var ar=rr("browserify-sign/algos"),sr=Object.keys(ar),lr=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(sr);ir.getHashes=function(){return lr};var or=rr("pbkdf2");ir.pbkdf2=or.pbkdf2,ir.pbkdf2Sync=or.pbkdf2Sync;var cr=rr("browserify-cipher");ir.Cipher=cr.Cipher,ir.createCipher=cr.createCipher,ir.Cipheriv=cr.Cipheriv,ir.createCipheriv=cr.createCipheriv,ir.Decipher=cr.Decipher,ir.createDecipher=cr.createDecipher,ir.Decipheriv=cr.Decipheriv,ir.createDecipheriv=cr.createDecipheriv,ir.getCiphers=cr.getCiphers,ir.listCiphers=cr.listCiphers;var ur=rr("diffie-hellman");ir.DiffieHellmanGroup=ur.DiffieHellmanGroup,ir.createDiffieHellmanGroup=ur.createDiffieHellmanGroup,ir.getDiffieHellman=ur.getDiffieHellman,ir.createDiffieHellman=ur.createDiffieHellman,ir.DiffieHellman=ur.DiffieHellman;var dr=rr("browserify-sign");ir.createSign=dr.createSign,ir.Sign=dr.Sign,ir.createVerify=dr.createVerify,ir.Verify=dr.Verify,ir.createECDH=rr("create-ecdh");var hr=rr("public-encrypt");ir.publicEncrypt=hr.publicEncrypt,ir.privateEncrypt=hr.privateEncrypt,ir.publicDecrypt=hr.publicDecrypt,ir.privateDecrypt=hr.privateDecrypt;var fr=rr("randomfill");ir.randomFill=fr.randomFill,ir.randomFillSync=fr.randomFillSync,ir.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},ir.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(rr,nr,ir){(function(ar,sr){typeof ir=="object"&&nr!==void 0?nr.exports=sr():(ar=typeof globalThis<"u"?globalThis:ar||self).dayjs=sr()})(void 0,function(){var ar=6e4,sr=36e5,lr="millisecond",or="second",cr="minute",ur="hour",dr="day",hr="week",fr="month",mr="quarter",br="year",pr="date",gr="Invalid Date",yr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,vr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_r={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(wr){var Er=["th","st","nd","rd"],Ar=wr%100;return"["+wr+(Er[(Ar-20)%10]||Er[Ar]||Er[0])+"]"}},xr=function(wr,Er,Ar){var Sr=String(wr);return!Sr||Sr.length>=Er?wr:""+Array(Er+1-Sr.length).join(Ar)+wr},Rr={s:xr,z:function(wr){var Er=-wr.utcOffset(),Ar=Math.abs(Er),Sr=Math.floor(Ar/60),Dr=Ar%60;return(Er<=0?"+":"-")+xr(Sr,2,"0")+":"+xr(Dr,2,"0")},m:function wr(Er,Ar){if(Er.date()<Ar.date())return-wr(Ar,Er);var Sr=12*(Ar.year()-Er.year())+(Ar.month()-Er.month()),Dr=Er.clone().add(Sr,fr),Wr=Ar-Dr<0,$r=Er.clone().add(Sr+(Wr?-1:1),fr);return+(-(Sr+(Ar-Dr)/(Wr?Dr-$r:$r-Dr))||0)},a:function(wr){return wr<0?Math.ceil(wr)||0:Math.floor(wr)},p:function(wr){return{M:fr,y:br,w:hr,d:dr,D:pr,h:ur,m:cr,s:or,ms:lr,Q:mr}[wr]||String(wr||"").toLowerCase().replace(/s$/,"")},u:function(wr){return wr===void 0}},Cr="en",Tr={};Tr[Cr]=_r;var Ir="$isDayjsObject",Lr=function(wr){return wr instanceof Mr||!(!wr||!wr[Ir])},Nr=function wr(Er,Ar,Sr){var Dr;if(!Er)return Cr;if(typeof Er=="string"){var Wr=Er.toLowerCase();Tr[Wr]&&(Dr=Wr),Ar&&(Tr[Wr]=Ar,Dr=Wr);var $r=Er.split("-");if(!Dr&&$r.length>1)return wr($r[0])}else{var Vr=Er.name;Tr[Vr]=Er,Dr=Vr}return!Sr&&Dr&&(Cr=Dr),Dr||!Sr&&Cr},Or=function(wr,Er){if(Lr(wr))return wr.clone();var Ar=typeof Er=="object"?Er:{};return Ar.date=wr,Ar.args=arguments,new Mr(Ar)},Pr=Rr;Pr.l=Nr,Pr.i=Lr,Pr.w=function(wr,Er){return Or(wr,{locale:Er.$L,utc:Er.$u,x:Er.$x,$offset:Er.$offset})};var Mr=function(){function wr(Ar){this.$L=Nr(Ar.locale,null,!0),this.parse(Ar),this.$x=this.$x||Ar.x||{},this[Ir]=!0}var Er=wr.prototype;return Er.parse=function(Ar){this.$d=function(Sr){var Dr=Sr.date,Wr=Sr.utc;if(Dr===null)return new Date(NaN);if(Pr.u(Dr))return new Date;if(Dr instanceof Date)return new Date(Dr);if(typeof Dr=="string"&&!/Z$/i.test(Dr)){var $r=Dr.match(yr);if($r){var Vr=$r[2]-1||0,zr=($r[7]||"0").substring(0,3);return Wr?new Date(Date.UTC($r[1],Vr,$r[3]||1,$r[4]||0,$r[5]||0,$r[6]||0,zr)):new Date($r[1],Vr,$r[3]||1,$r[4]||0,$r[5]||0,$r[6]||0,zr)}}return new Date(Dr)}(Ar),this.init()},Er.init=function(){var Ar=this.$d;this.$y=Ar.getFullYear(),this.$M=Ar.getMonth(),this.$D=Ar.getDate(),this.$W=Ar.getDay(),this.$H=Ar.getHours(),this.$m=Ar.getMinutes(),this.$s=Ar.getSeconds(),this.$ms=Ar.getMilliseconds()},Er.$utils=function(){return Pr},Er.isValid=function(){return this.$d.toString()!==gr},Er.isSame=function(Ar,Sr){var Dr=Or(Ar);return this.startOf(Sr)<=Dr&&Dr<=this.endOf(Sr)},Er.isAfter=function(Ar,Sr){return Or(Ar)<this.startOf(Sr)},Er.isBefore=function(Ar,Sr){return this.endOf(Sr)<Or(Ar)},Er.$g=function(Ar,Sr,Dr){return Pr.u(Ar)?this[Sr]:this.set(Dr,Ar)},Er.unix=function(){return Math.floor(this.valueOf()/1e3)},Er.valueOf=function(){return this.$d.getTime()},Er.startOf=function(Ar,Sr){var Dr=this,Wr=!!Pr.u(Sr)||Sr,$r=Pr.p(Ar),Vr=function(Zr,tn){var sn=Pr.w(Dr.$u?Date.UTC(Dr.$y,tn,Zr):new Date(Dr.$y,tn,Zr),Dr);return Wr?sn:sn.endOf(dr)},zr=function(Zr,tn){return Pr.w(Dr.toDate()[Zr].apply(Dr.toDate("s"),(Wr?[0,0,0,0]:[23,59,59,999]).slice(tn)),Dr)},Gr=this.$W,Fr=this.$M,Xr=this.$D,Ur="set"+(this.$u?"UTC":"");switch($r){case br:return Wr?Vr(1,0):Vr(31,11);case fr:return Wr?Vr(1,Fr):Vr(0,Fr+1);case hr:var Br=this.$locale().weekStart||0,Kr=(Gr<Br?Gr+7:Gr)-Br;return Vr(Wr?Xr-Kr:Xr+(6-Kr),Fr);case dr:case pr:return zr(Ur+"Hours",0);case ur:return zr(Ur+"Minutes",1);case cr:return zr(Ur+"Seconds",2);case or:return zr(Ur+"Milliseconds",3);default:return this.clone()}},Er.endOf=function(Ar){return this.startOf(Ar,!1)},Er.$set=function(Ar,Sr){var Dr,Wr=Pr.p(Ar),$r="set"+(this.$u?"UTC":""),Vr=(Dr={},Dr[dr]=$r+"Date",Dr[pr]=$r+"Date",Dr[fr]=$r+"Month",Dr[br]=$r+"FullYear",Dr[ur]=$r+"Hours",Dr[cr]=$r+"Minutes",Dr[or]=$r+"Seconds",Dr[lr]=$r+"Milliseconds",Dr)[Wr],zr=Wr===dr?this.$D+(Sr-this.$W):Sr;if(Wr===fr||Wr===br){var Gr=this.clone().set(pr,1);Gr.$d[Vr](zr),Gr.init(),this.$d=Gr.set(pr,Math.min(this.$D,Gr.daysInMonth())).$d}else Vr&&this.$d[Vr](zr);return this.init(),this},Er.set=function(Ar,Sr){return this.clone().$set(Ar,Sr)},Er.get=function(Ar){return this[Pr.p(Ar)]()},Er.add=function(Ar,Sr){var Dr,Wr=this;Ar=Number(Ar);var $r=Pr.p(Sr),Vr=function(Fr){var Xr=Or(Wr);return Pr.w(Xr.date(Xr.date()+Math.round(Fr*Ar)),Wr)};if($r===fr)return this.set(fr,this.$M+Ar);if($r===br)return this.set(br,this.$y+Ar);if($r===dr)return Vr(1);if($r===hr)return Vr(7);var zr=(Dr={},Dr[cr]=ar,Dr[ur]=sr,Dr[or]=1e3,Dr)[$r]||1,Gr=this.$d.getTime()+Ar*zr;return Pr.w(Gr,this)},Er.subtract=function(Ar,Sr){return this.add(-1*Ar,Sr)},Er.format=function(Ar){var Sr=this,Dr=this.$locale();if(!this.isValid())return Dr.invalidDate||gr;var Wr=Ar||"YYYY-MM-DDTHH:mm:ssZ",$r=Pr.z(this),Vr=this.$H,zr=this.$m,Gr=this.$M,Fr=Dr.weekdays,Xr=Dr.months,Ur=Dr.meridiem,Br=function(tn,sn,un,hn){return tn&&(tn[sn]||tn(Sr,Wr))||un[sn].slice(0,hn)},Kr=function(tn){return Pr.s(Vr%12||12,tn,"0")},Zr=Ur||function(tn,sn,un){var hn=tn<12?"AM":"PM";return un?hn.toLowerCase():hn};return Wr.replace(vr,function(tn,sn){return sn||function(un){switch(un){case"YY":return String(Sr.$y).slice(-2);case"YYYY":return Pr.s(Sr.$y,4,"0");case"M":return Gr+1;case"MM":return Pr.s(Gr+1,2,"0");case"MMM":return Br(Dr.monthsShort,Gr,Xr,3);case"MMMM":return Br(Xr,Gr);case"D":return Sr.$D;case"DD":return Pr.s(Sr.$D,2,"0");case"d":return String(Sr.$W);case"dd":return Br(Dr.weekdaysMin,Sr.$W,Fr,2);case"ddd":return Br(Dr.weekdaysShort,Sr.$W,Fr,3);case"dddd":return Fr[Sr.$W];case"H":return String(Vr);case"HH":return Pr.s(Vr,2,"0");case"h":return Kr(1);case"hh":return Kr(2);case"a":return Zr(Vr,zr,!0);case"A":return Zr(Vr,zr,!1);case"m":return String(zr);case"mm":return Pr.s(zr,2,"0");case"s":return String(Sr.$s);case"ss":return Pr.s(Sr.$s,2,"0");case"SSS":return Pr.s(Sr.$ms,3,"0");case"Z":return $r}return null}(tn)||$r.replace(":","")})},Er.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Er.diff=function(Ar,Sr,Dr){var Wr,$r=this,Vr=Pr.p(Sr),zr=Or(Ar),Gr=(zr.utcOffset()-this.utcOffset())*ar,Fr=this-zr,Xr=function(){return Pr.m($r,zr)};switch(Vr){case br:Wr=Xr()/12;break;case fr:Wr=Xr();break;case mr:Wr=Xr()/3;break;case hr:Wr=(Fr-Gr)/6048e5;break;case dr:Wr=(Fr-Gr)/864e5;break;case ur:Wr=Fr/sr;break;case cr:Wr=Fr/ar;break;case or:Wr=Fr/1e3;break;default:Wr=Fr}return Dr?Wr:Pr.a(Wr)},Er.daysInMonth=function(){return this.endOf(fr).$D},Er.$locale=function(){return Tr[this.$L]},Er.locale=function(Ar,Sr){if(!Ar)return this.$L;var Dr=this.clone(),Wr=Nr(Ar,Sr,!0);return Wr&&(Dr.$L=Wr),Dr},Er.clone=function(){return Pr.w(this.$d,this)},Er.toDate=function(){return new Date(this.valueOf())},Er.toJSON=function(){return this.isValid()?this.toISOString():null},Er.toISOString=function(){return this.$d.toISOString()},Er.toString=function(){return this.$d.toUTCString()},wr}(),jr=Mr.prototype;return Or.prototype=jr,[["$ms",lr],["$s",or],["$m",cr],["$H",ur],["$W",dr],["$M",fr],["$y",br],["$D",pr]].forEach(function(wr){jr[wr[1]]=function(Er){return this.$g(Er,wr[0],wr[1])}}),Or.extend=function(wr,Er){return wr.$i||(wr(Er,Mr,Or),wr.$i=!0),Or},Or.locale=Nr,Or.isDayjs=Lr,Or.unix=function(wr){return Or(1e3*wr)},Or.en=Tr[Cr],Or.Ls=Tr,Or.p={},Or})},{}],392:[function(rr,nr,ir){(function(ar,sr){typeof ir=="object"&&nr!==void 0?nr.exports=sr():(ar=typeof globalThis<"u"?globalThis:ar||self).dayjs_plugin_customParseFormat=sr()})(void 0,function(){var ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},sr=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,lr=/\d\d/,or=/\d\d?/,cr=/\d*[^-_:/,()\s\d]+/,ur={},dr=function(yr){return(yr=+yr)+(yr>68?1900:2e3)},hr=function(yr){return function(vr){this[yr]=+vr}},fr=[/[+-]\d\d:?(\d\d)?|Z/,function(yr){(this.zone||(this.zone={})).offset=function(vr){if(!vr||vr==="Z")return 0;var _r=vr.match(/([+-]|\d\d)/g),xr=60*_r[1]+(+_r[2]||0);return xr===0?0:_r[0]==="+"?-xr:xr}(yr)}],mr=function(yr){var vr=ur[yr];return vr&&(vr.indexOf?vr:vr.s.concat(vr.f))},br=function(yr,vr){var _r,xr=ur.meridiem;if(xr){for(var Rr=1;Rr<=24;Rr+=1)if(yr.indexOf(xr(Rr,0,vr))>-1){_r=Rr>12;break}}else _r=yr===(vr?"pm":"PM");return _r},pr={A:[cr,function(yr){this.afternoon=br(yr,!1)}],a:[cr,function(yr){this.afternoon=br(yr,!0)}],S:[/\d/,function(yr){this.milliseconds=100*+yr}],SS:[lr,function(yr){this.milliseconds=10*+yr}],SSS:[/\d{3}/,function(yr){this.milliseconds=+yr}],s:[or,hr("seconds")],ss:[or,hr("seconds")],m:[or,hr("minutes")],mm:[or,hr("minutes")],H:[or,hr("hours")],h:[or,hr("hours")],HH:[or,hr("hours")],hh:[or,hr("hours")],D:[or,hr("day")],DD:[lr,hr("day")],Do:[cr,function(yr){var vr=ur.ordinal,_r=yr.match(/\d+/);if(this.day=_r[0],vr)for(var xr=1;xr<=31;xr+=1)vr(xr).replace(/\[|\]/g,"")===yr&&(this.day=xr)}],M:[or,hr("month")],MM:[lr,hr("month")],MMM:[cr,function(yr){var vr=mr("months"),_r=(mr("monthsShort")||vr.map(function(xr){return xr.slice(0,3)})).indexOf(yr)+1;if(_r<1)throw new Error;this.month=_r%12||_r}],MMMM:[cr,function(yr){var vr=mr("months").indexOf(yr)+1;if(vr<1)throw new Error;this.month=vr%12||vr}],Y:[/[+-]?\d+/,hr("year")],YY:[lr,function(yr){this.year=dr(yr)}],YYYY:[/\d{4}/,hr("year")],Z:fr,ZZ:fr};function gr(yr){var vr,_r;vr=yr,_r=ur&&ur.formats;for(var xr=(yr=vr.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Or,Pr,Mr){var jr=Mr&&Mr.toUpperCase();return Pr||_r[Mr]||ar[Mr]||_r[jr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(wr,Er,Ar){return Er||Ar.slice(1)})})).match(sr),Rr=xr.length,Cr=0;Cr<Rr;Cr+=1){var Tr=xr[Cr],Ir=pr[Tr],Lr=Ir&&Ir[0],Nr=Ir&&Ir[1];xr[Cr]=Nr?{regex:Lr,parser:Nr}:Tr.replace(/^\[|\]$/g,"")}return function(Or){for(var Pr={},Mr=0,jr=0;Mr<Rr;Mr+=1){var wr=xr[Mr];if(typeof wr=="string")jr+=wr.length;else{var Er=wr.regex,Ar=wr.parser,Sr=Or.slice(jr),Dr=Er.exec(Sr)[0];Ar.call(Pr,Dr),Or=Or.replace(Dr,"")}}return function(Wr){var $r=Wr.afternoon;if($r!==void 0){var Vr=Wr.hours;$r?Vr<12&&(Wr.hours+=12):Vr===12&&(Wr.hours=0),delete Wr.afternoon}}(Pr),Pr}}return function(yr,vr,_r){_r.p.customParseFormat=!0,yr&&yr.parseTwoDigitYear&&(dr=yr.parseTwoDigitYear);var xr=vr.prototype,Rr=xr.parse;xr.parse=function(Cr){var Tr=Cr.date,Ir=Cr.utc,Lr=Cr.args;this.$u=Ir;var Nr=Lr[1];if(typeof Nr=="string"){var Or=Lr[2]===!0,Pr=Lr[3]===!0,Mr=Or||Pr,jr=Lr[2];Pr&&(jr=Lr[2]),ur=this.$locale(),!Or&&jr&&(ur=_r.Ls[jr]),this.$d=function(Sr,Dr,Wr){try{if(["x","X"].indexOf(Dr)>-1)return new Date((Dr==="X"?1e3:1)*Sr);var $r=gr(Dr)(Sr),Vr=$r.year,zr=$r.month,Gr=$r.day,Fr=$r.hours,Xr=$r.minutes,Ur=$r.seconds,Br=$r.milliseconds,Kr=$r.zone,Zr=new Date,tn=Gr||(Vr||zr?1:Zr.getDate()),sn=Vr||Zr.getFullYear(),un=0;Vr&&!zr||(un=zr>0?zr-1:Zr.getMonth());var hn=Fr||0,Jr=Xr||0,nn=Ur||0,rn=Br||0;return Kr?new Date(Date.UTC(sn,un,tn,hn,Jr,nn,rn+60*Kr.offset*1e3)):Wr?new Date(Date.UTC(sn,un,tn,hn,Jr,nn,rn)):new Date(sn,un,tn,hn,Jr,nn,rn)}catch{return new Date("")}}(Tr,Nr,Ir),this.init(),jr&&jr!==!0&&(this.$L=this.locale(jr).$L),Mr&&Tr!=this.format(Nr)&&(this.$d=new Date("")),ur={}}else if(Nr instanceof Array)for(var wr=Nr.length,Er=1;Er<=wr;Er+=1){Lr[1]=Nr[Er-1];var Ar=_r.apply(this,Lr);if(Ar.isValid()){this.$d=Ar.$d,this.$L=Ar.$L,this.init();break}Er===wr&&(this.$d=new Date(""))}else Rr.call(this,Cr)}}})},{}],393:[function(rr,nr,ir){(function(ar,sr){typeof ir=="object"&&nr!==void 0?nr.exports=sr():(ar=typeof globalThis<"u"?globalThis:ar||self).dayjs_plugin_utc=sr()})(void 0,function(){var ar="minute",sr=/[+-]\d\d(?::?\d\d)?/g,lr=/([+-]|\d\d)/g;return function(or,cr,ur){var dr=cr.prototype;ur.utc=function(yr){var vr={date:yr,utc:!0,args:arguments};return new cr(vr)},dr.utc=function(yr){var vr=ur(this.toDate(),{locale:this.$L,utc:!0});return yr?vr.add(this.utcOffset(),ar):vr},dr.local=function(){return ur(this.toDate(),{locale:this.$L,utc:!1})};var hr=dr.parse;dr.parse=function(yr){yr.utc&&(this.$u=!0),this.$utils().u(yr.$offset)||(this.$offset=yr.$offset),hr.call(this,yr)};var fr=dr.init;dr.init=function(){if(this.$u){var yr=this.$d;this.$y=yr.getUTCFullYear(),this.$M=yr.getUTCMonth(),this.$D=yr.getUTCDate(),this.$W=yr.getUTCDay(),this.$H=yr.getUTCHours(),this.$m=yr.getUTCMinutes(),this.$s=yr.getUTCSeconds(),this.$ms=yr.getUTCMilliseconds()}else fr.call(this)};var mr=dr.utcOffset;dr.utcOffset=function(yr,vr){var _r=this.$utils().u;if(_r(yr))return this.$u?0:_r(this.$offset)?mr.call(this):this.$offset;if(typeof yr=="string"&&(yr=function(Tr){Tr===void 0&&(Tr="");var Ir=Tr.match(sr);if(!Ir)return null;var Lr=(""+Ir[0]).match(lr)||["-",0,0],Nr=Lr[0],Or=60*+Lr[1]+ +Lr[2];return Or===0?0:Nr==="+"?Or:-Or}(yr))===null)return this;var xr=Math.abs(yr)<=16?60*yr:yr,Rr=this;if(vr)return Rr.$offset=xr,Rr.$u=yr===0,Rr;if(yr!==0){var Cr=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Rr=this.local().add(xr+Cr,ar)).$offset=xr,Rr.$x.$localOffset=Cr}else Rr=this.utc();return Rr};var br=dr.format;dr.format=function(yr){var vr=yr||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return br.call(this,vr)},dr.valueOf=function(){var yr=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*yr},dr.isUTC=function(){return!!this.$u},dr.toISOString=function(){return this.toDate().toISOString()},dr.toString=function(){return this.toDate().toUTCString()};var pr=dr.toDate;dr.toDate=function(yr){return yr==="s"&&this.$offset?ur(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():pr.call(this)};var gr=dr.diff;dr.diff=function(yr,vr,_r){if(yr&&this.$u===yr.$u)return gr.call(this,yr,vr,_r);var xr=this.local(),Rr=ur(yr).local();return gr.call(xr,Rr,vr,_r)}}})},{}],394:[function(rr,nr,ir){ir.utils=rr("./des/utils"),ir.Cipher=rr("./des/cipher"),ir.DES=rr("./des/des"),ir.CBC=rr("./des/cbc"),ir.EDE=rr("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(rr,nr,ir){var ar=rr("minimalistic-assert"),sr=rr("inherits"),lr={};function or(cr){ar.equal(cr.length,8,"Invalid IV length"),this.iv=new Array(8);for(var ur=0;ur<this.iv.length;ur++)this.iv[ur]=cr[ur]}ir.instantiate=function(cr){function ur(mr){cr.call(this,mr),this._cbcInit()}sr(ur,cr);for(var dr=Object.keys(lr),hr=0;hr<dr.length;hr++){var fr=dr[hr];ur.prototype[fr]=lr[fr]}return ur.create=function(mr){return new ur(mr)},ur},lr._cbcInit=function(){var cr=new or(this.options.iv);this._cbcState=cr},lr._update=function(cr,ur,dr,hr){var fr=this._cbcState,mr=this.constructor.super_.prototype,br=fr.iv;if(this.type==="encrypt"){for(var pr=0;pr<this.blockSize;pr++)br[pr]^=cr[ur+pr];for(mr._update.call(this,br,0,dr,hr),pr=0;pr<this.blockSize;pr++)br[pr]=dr[hr+pr]}else{for(mr._update.call(this,cr,ur,dr,hr),pr=0;pr<this.blockSize;pr++)dr[hr+pr]^=br[pr];for(pr=0;pr<this.blockSize;pr++)br[pr]=cr[ur+pr]}}},{inherits:440,"minimalistic-assert":453}],396:[function(rr,nr,ir){var ar=rr("minimalistic-assert");function sr(lr){this.options=lr,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=lr.padding!==!1}nr.exports=sr,sr.prototype._init=function(){},sr.prototype.update=function(lr){return lr.length===0?[]:this.type==="decrypt"?this._updateDecrypt(lr):this._updateEncrypt(lr)},sr.prototype._buffer=function(lr,or){for(var cr=Math.min(this.buffer.length-this.bufferOff,lr.length-or),ur=0;ur<cr;ur++)this.buffer[this.bufferOff+ur]=lr[or+ur];return this.bufferOff+=cr,cr},sr.prototype._flushBuffer=function(lr,or){return this._update(this.buffer,0,lr,or),this.bufferOff=0,this.blockSize},sr.prototype._updateEncrypt=function(lr){var or=0,cr=0,ur=(this.bufferOff+lr.length)/this.blockSize|0,dr=new Array(ur*this.blockSize);this.bufferOff!==0&&(or+=this._buffer(lr,or),this.bufferOff===this.buffer.length&&(cr+=this._flushBuffer(dr,cr)));for(var hr=lr.length-(lr.length-or)%this.blockSize;or<hr;or+=this.blockSize)this._update(lr,or,dr,cr),cr+=this.blockSize;for(;or<lr.length;or++,this.bufferOff++)this.buffer[this.bufferOff]=lr[or];return dr},sr.prototype._updateDecrypt=function(lr){for(var or=0,cr=0,ur=Math.ceil((this.bufferOff+lr.length)/this.blockSize)-1,dr=new Array(ur*this.blockSize);ur>0;ur--)or+=this._buffer(lr,or),cr+=this._flushBuffer(dr,cr);return or+=this._buffer(lr,or),dr},sr.prototype.final=function(lr){var or,cr;return lr&&(or=this.update(lr)),cr=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),or?or.concat(cr):cr},sr.prototype._pad=function(lr,or){if(or===0)return!1;for(;or<lr.length;)lr[or++]=0;return!0},sr.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var lr=new Array(this.blockSize);return this._update(this.buffer,0,lr,0),lr},sr.prototype._unpad=function(lr){return lr},sr.prototype._finalDecrypt=function(){ar.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var lr=new Array(this.blockSize);return this._flushBuffer(lr,0),this._unpad(lr)}},{"minimalistic-assert":453}],397:[function(rr,nr,ir){var ar=rr("minimalistic-assert"),sr=rr("inherits"),lr=rr("./utils"),or=rr("./cipher");function cr(){this.tmp=new Array(2),this.keys=null}function ur(hr){or.call(this,hr);var fr=new cr;this._desState=fr,this.deriveKeys(fr,hr.key)}sr(ur,or),nr.exports=ur,ur.create=function(hr){return new ur(hr)};var dr=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];ur.prototype.deriveKeys=function(hr,fr){hr.keys=new Array(32),ar.equal(fr.length,this.blockSize,"Invalid key length");var mr=lr.readUInt32BE(fr,0),br=lr.readUInt32BE(fr,4);lr.pc1(mr,br,hr.tmp,0),mr=hr.tmp[0],br=hr.tmp[1];for(var pr=0;pr<hr.keys.length;pr+=2){var gr=dr[pr>>>1];mr=lr.r28shl(mr,gr),br=lr.r28shl(br,gr),lr.pc2(mr,br,hr.keys,pr)}},ur.prototype._update=function(hr,fr,mr,br){var pr=this._desState,gr=lr.readUInt32BE(hr,fr),yr=lr.readUInt32BE(hr,fr+4);lr.ip(gr,yr,pr.tmp,0),gr=pr.tmp[0],yr=pr.tmp[1],this.type==="encrypt"?this._encrypt(pr,gr,yr,pr.tmp,0):this._decrypt(pr,gr,yr,pr.tmp,0),gr=pr.tmp[0],yr=pr.tmp[1],lr.writeUInt32BE(mr,gr,br),lr.writeUInt32BE(mr,yr,br+4)},ur.prototype._pad=function(hr,fr){if(this.padding===!1)return!1;for(var mr=hr.length-fr,br=fr;br<hr.length;br++)hr[br]=mr;return!0},ur.prototype._unpad=function(hr){if(this.padding===!1)return hr;for(var fr=hr[hr.length-1],mr=hr.length-fr;mr<hr.length;mr++)ar.equal(hr[mr],fr);return hr.slice(0,hr.length-fr)},ur.prototype._encrypt=function(hr,fr,mr,br,pr){for(var gr=fr,yr=mr,vr=0;vr<hr.keys.length;vr+=2){var _r=hr.keys[vr],xr=hr.keys[vr+1];lr.expand(yr,hr.tmp,0),_r^=hr.tmp[0],xr^=hr.tmp[1];var Rr=lr.substitute(_r,xr),Cr=yr;yr=(gr^lr.permute(Rr))>>>0,gr=Cr}lr.rip(yr,gr,br,pr)},ur.prototype._decrypt=function(hr,fr,mr,br,pr){for(var gr=mr,yr=fr,vr=hr.keys.length-2;vr>=0;vr-=2){var _r=hr.keys[vr],xr=hr.keys[vr+1];lr.expand(gr,hr.tmp,0),_r^=hr.tmp[0],xr^=hr.tmp[1];var Rr=lr.substitute(_r,xr),Cr=gr;gr=(yr^lr.permute(Rr))>>>0,yr=Cr}lr.rip(gr,yr,br,pr)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(rr,nr,ir){var ar=rr("minimalistic-assert"),sr=rr("inherits"),lr=rr("./cipher"),or=rr("./des");function cr(dr,hr){ar.equal(hr.length,24,"Invalid key length");var fr=hr.slice(0,8),mr=hr.slice(8,16),br=hr.slice(16,24);this.ciphers=dr==="encrypt"?[or.create({type:"encrypt",key:fr}),or.create({type:"decrypt",key:mr}),or.create({type:"encrypt",key:br})]:[or.create({type:"decrypt",key:br}),or.create({type:"encrypt",key:mr}),or.create({type:"decrypt",key:fr})]}function ur(dr){lr.call(this,dr);var hr=new cr(this.type,this.options.key);this._edeState=hr}sr(ur,lr),nr.exports=ur,ur.create=function(dr){return new ur(dr)},ur.prototype._update=function(dr,hr,fr,mr){var br=this._edeState;br.ciphers[0]._update(dr,hr,fr,mr),br.ciphers[1]._update(fr,mr,fr,mr),br.ciphers[2]._update(fr,mr,fr,mr)},ur.prototype._pad=or.prototype._pad,ur.prototype._unpad=or.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(rr,nr,ir){ir.readUInt32BE=function(or,cr){return(or[0+cr]<<24|or[1+cr]<<16|or[2+cr]<<8|or[3+cr])>>>0},ir.writeUInt32BE=function(or,cr,ur){or[0+ur]=cr>>>24,or[1+ur]=cr>>>16&255,or[2+ur]=cr>>>8&255,or[3+ur]=255&cr},ir.ip=function(or,cr,ur,dr){for(var hr=0,fr=0,mr=6;mr>=0;mr-=2){for(var br=0;br<=24;br+=8)hr<<=1,hr|=cr>>>br+mr&1;for(br=0;br<=24;br+=8)hr<<=1,hr|=or>>>br+mr&1}for(mr=6;mr>=0;mr-=2){for(br=1;br<=25;br+=8)fr<<=1,fr|=cr>>>br+mr&1;for(br=1;br<=25;br+=8)fr<<=1,fr|=or>>>br+mr&1}ur[dr+0]=hr>>>0,ur[dr+1]=fr>>>0},ir.rip=function(or,cr,ur,dr){for(var hr=0,fr=0,mr=0;mr<4;mr++)for(var br=24;br>=0;br-=8)hr<<=1,hr|=cr>>>br+mr&1,hr<<=1,hr|=or>>>br+mr&1;for(mr=4;mr<8;mr++)for(br=24;br>=0;br-=8)fr<<=1,fr|=cr>>>br+mr&1,fr<<=1,fr|=or>>>br+mr&1;ur[dr+0]=hr>>>0,ur[dr+1]=fr>>>0},ir.pc1=function(or,cr,ur,dr){for(var hr=0,fr=0,mr=7;mr>=5;mr--){for(var br=0;br<=24;br+=8)hr<<=1,hr|=cr>>br+mr&1;for(br=0;br<=24;br+=8)hr<<=1,hr|=or>>br+mr&1}for(br=0;br<=24;br+=8)hr<<=1,hr|=cr>>br+mr&1;for(mr=1;mr<=3;mr++){for(br=0;br<=24;br+=8)fr<<=1,fr|=cr>>br+mr&1;for(br=0;br<=24;br+=8)fr<<=1,fr|=or>>br+mr&1}for(br=0;br<=24;br+=8)fr<<=1,fr|=or>>br+mr&1;ur[dr+0]=hr>>>0,ur[dr+1]=fr>>>0},ir.r28shl=function(or,cr){return or<<cr&268435455|or>>>28-cr};var ar=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ir.pc2=function(or,cr,ur,dr){for(var hr=0,fr=0,mr=ar.length>>>1,br=0;br<mr;br++)hr<<=1,hr|=or>>>ar[br]&1;for(br=mr;br<ar.length;br++)fr<<=1,fr|=cr>>>ar[br]&1;ur[dr+0]=hr>>>0,ur[dr+1]=fr>>>0},ir.expand=function(or,cr,ur){var dr=0,hr=0;dr=(1&or)<<5|or>>>27;for(var fr=23;fr>=15;fr-=4)dr<<=6,dr|=or>>>fr&63;for(fr=11;fr>=3;fr-=4)hr|=or>>>fr&63,hr<<=6;hr|=(31&or)<<1|or>>>31,cr[ur+0]=dr>>>0,cr[ur+1]=hr>>>0};var sr=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ir.substitute=function(or,cr){for(var ur=0,dr=0;dr<4;dr++)ur<<=4,ur|=sr[64*dr+(or>>>18-6*dr&63)];for(dr=0;dr<4;dr++)ur<<=4,ur|=sr[256+64*dr+(cr>>>18-6*dr&63)];return ur>>>0};var lr=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ir.permute=function(or){for(var cr=0,ur=0;ur<lr.length;ur++)cr<<=1,cr|=or>>>lr[ur]&1;return cr>>>0},ir.padSplit=function(or,cr,ur){for(var dr=or.toString(2);dr.length<cr;)dr="0"+dr;for(var hr=[],fr=0;fr<cr;fr+=ur)hr.push(dr.slice(fr,fr+ur));return hr.join(" ")}},{}],400:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("./lib/generatePrime"),lr=rr("./lib/primes.json"),or=rr("./lib/dh"),cr={binary:!0,hex:!0,base64:!0};ir.DiffieHellmanGroup=ir.createDiffieHellmanGroup=ir.getDiffieHellman=function(ur){var dr=new ar(lr[ur].prime,"hex"),hr=new ar(lr[ur].gen,"hex");return new or(dr,hr)},ir.createDiffieHellman=ir.DiffieHellman=function ur(dr,hr,fr,mr){return ar.isBuffer(hr)||cr[hr]===void 0?ur(dr,"binary",hr,fr):(hr=hr||"binary",mr=mr||"binary",fr=fr||new ar([2]),ar.isBuffer(fr)||(fr=new ar(fr,mr)),typeof dr=="number"?new or(sr(dr,fr),fr,!0):(ar.isBuffer(dr)||(dr=new ar(dr,hr)),new or(dr,fr,!0)))}}).call(this)}).call(this,rr("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(rr,nr,ir){(function(ar){(function(){var sr=rr("bn.js"),lr=new(rr("miller-rabin")),or=new sr(24),cr=new sr(11),ur=new sr(10),dr=new sr(3),hr=new sr(7),fr=rr("./generatePrime"),mr=rr("randombytes");function br(_r,xr){return xr=xr||"utf8",ar.isBuffer(_r)||(_r=new ar(_r,xr)),this._pub=new sr(_r),this}function pr(_r,xr){return xr=xr||"utf8",ar.isBuffer(_r)||(_r=new ar(_r,xr)),this._priv=new sr(_r),this}nr.exports=yr;var gr={};function yr(_r,xr,Rr){this.setGenerator(xr),this.__prime=new sr(_r),this._prime=sr.mont(this.__prime),this._primeLen=_r.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Rr?(this.setPublicKey=br,this.setPrivateKey=pr):this._primeCode=8}function vr(_r,xr){var Rr=new ar(_r.toArray());return xr?Rr.toString(xr):Rr}Object.defineProperty(yr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(_r,xr){var Rr=xr.toString("hex"),Cr=[Rr,_r.toString(16)].join("_");if(Cr in gr)return gr[Cr];var Tr,Ir=0;if(_r.isEven()||!fr.simpleSieve||!fr.fermatTest(_r)||!lr.test(_r))return Ir+=1,Ir+=Rr==="02"||Rr==="05"?8:4,gr[Cr]=Ir,Ir;switch(lr.test(_r.shrn(1))||(Ir+=2),Rr){case"02":_r.mod(or).cmp(cr)&&(Ir+=8);break;case"05":(Tr=_r.mod(ur)).cmp(dr)&&Tr.cmp(hr)&&(Ir+=8);break;default:Ir+=4}return gr[Cr]=Ir,Ir}(this.__prime,this.__gen)),this._primeCode}}),yr.prototype.generateKeys=function(){return this._priv||(this._priv=new sr(mr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},yr.prototype.computeSecret=function(_r){var xr=(_r=(_r=new sr(_r)).toRed(this._prime)).redPow(this._priv).fromRed(),Rr=new ar(xr.toArray()),Cr=this.getPrime();if(Rr.length<Cr.length){var Tr=new ar(Cr.length-Rr.length);Tr.fill(0),Rr=ar.concat([Tr,Rr])}return Rr},yr.prototype.getPublicKey=function(_r){return vr(this._pub,_r)},yr.prototype.getPrivateKey=function(_r){return vr(this._priv,_r)},yr.prototype.getPrime=function(_r){return vr(this.__prime,_r)},yr.prototype.getGenerator=function(_r){return vr(this._gen,_r)},yr.prototype.setGenerator=function(_r,xr){return xr=xr||"utf8",ar.isBuffer(_r)||(_r=new ar(_r,xr)),this.__gen=_r,this._gen=new sr(_r),this}}).call(this)}).call(this,rr("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(rr,nr,ir){var ar=rr("randombytes");nr.exports=_r,_r.simpleSieve=yr,_r.fermatTest=vr;var sr=rr("bn.js"),lr=new sr(24),or=new(rr("miller-rabin")),cr=new sr(1),ur=new sr(2),dr=new sr(5),hr=(new sr(16),new sr(8),new sr(10)),fr=new sr(3),mr=(new sr(7),new sr(11)),br=new sr(4),pr=(new sr(12),null);function gr(){if(pr!==null)return pr;var xr=[];xr[0]=2;for(var Rr=1,Cr=3;Cr<1048576;Cr+=2){for(var Tr=Math.ceil(Math.sqrt(Cr)),Ir=0;Ir<Rr&&xr[Ir]<=Tr&&Cr%xr[Ir]!=0;Ir++);Rr!==Ir&&xr[Ir]<=Tr||(xr[Rr++]=Cr)}return pr=xr,xr}function yr(xr){for(var Rr=gr(),Cr=0;Cr<Rr.length;Cr++)if(xr.modn(Rr[Cr])===0)return xr.cmpn(Rr[Cr])===0;return!0}function vr(xr){var Rr=sr.mont(xr);return ur.toRed(Rr).redPow(xr.subn(1)).fromRed().cmpn(1)===0}function _r(xr,Rr){if(xr<16)return new sr(Rr===2||Rr===5?[140,123]:[140,39]);var Cr,Tr;for(Rr=new sr(Rr);;){for(Cr=new sr(ar(Math.ceil(xr/8)));Cr.bitLength()>xr;)Cr.ishrn(1);if(Cr.isEven()&&Cr.iadd(cr),Cr.testn(1)||Cr.iadd(ur),Rr.cmp(ur)){if(!Rr.cmp(dr))for(;Cr.mod(hr).cmp(fr);)Cr.iadd(br)}else for(;Cr.mod(lr).cmp(mr);)Cr.iadd(br);if(yr(Tr=Cr.shrn(1))&&yr(Cr)&&vr(Tr)&&vr(Cr)&&or.test(Tr)&&or.test(Cr))return Cr}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(rr,nr,ir){nr.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(rr,nr,ir){arguments[4][184][0].apply(ir,arguments)},{buffer:188,dup:184}],405:[function(rr,nr,ir){var ar=ir;ar.version=rr("../package.json").version,ar.utils=rr("./elliptic/utils"),ar.rand=rr("brorand"),ar.curve=rr("./elliptic/curve"),ar.curves=rr("./elliptic/curves"),ar.ec=rr("./elliptic/ec"),ar.eddsa=rr("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("../utils"),lr=sr.getNAF,or=sr.getJSF,cr=sr.assert;function ur(hr,fr){this.type=hr,this.p=new ar(fr.p,16),this.red=fr.prime?ar.red(fr.prime):ar.mont(this.p),this.zero=new ar(0).toRed(this.red),this.one=new ar(1).toRed(this.red),this.two=new ar(2).toRed(this.red),this.n=fr.n&&new ar(fr.n,16),this.g=fr.g&&this.pointFromJSON(fr.g,fr.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var mr=this.n&&this.p.div(this.n);!mr||mr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function dr(hr,fr){this.curve=hr,this.type=fr,this.precomputed=null}nr.exports=ur,ur.prototype.point=function(){throw new Error("Not implemented")},ur.prototype.validate=function(){throw new Error("Not implemented")},ur.prototype._fixedNafMul=function(hr,fr){cr(hr.precomputed);var mr=hr._getDoubles(),br=lr(fr,1,this._bitLength),pr=(1<<mr.step+1)-(mr.step%2==0?2:1);pr/=3;var gr,yr,vr=[];for(gr=0;gr<br.length;gr+=mr.step){yr=0;for(var _r=gr+mr.step-1;_r>=gr;_r--)yr=(yr<<1)+br[_r];vr.push(yr)}for(var xr=this.jpoint(null,null,null),Rr=this.jpoint(null,null,null),Cr=pr;Cr>0;Cr--){for(gr=0;gr<vr.length;gr++)(yr=vr[gr])===Cr?Rr=Rr.mixedAdd(mr.points[gr]):yr===-Cr&&(Rr=Rr.mixedAdd(mr.points[gr].neg()));xr=xr.add(Rr)}return xr.toP()},ur.prototype._wnafMul=function(hr,fr){var mr=4,br=hr._getNAFPoints(mr);mr=br.wnd;for(var pr=br.points,gr=lr(fr,mr,this._bitLength),yr=this.jpoint(null,null,null),vr=gr.length-1;vr>=0;vr--){for(var _r=0;vr>=0&&gr[vr]===0;vr--)_r++;if(vr>=0&&_r++,yr=yr.dblp(_r),vr<0)break;var xr=gr[vr];cr(xr!==0),yr=hr.type==="affine"?xr>0?yr.mixedAdd(pr[xr-1>>1]):yr.mixedAdd(pr[-xr-1>>1].neg()):xr>0?yr.add(pr[xr-1>>1]):yr.add(pr[-xr-1>>1].neg())}return hr.type==="affine"?yr.toP():yr},ur.prototype._wnafMulAdd=function(hr,fr,mr,br,pr){var gr,yr,vr,_r=this._wnafT1,xr=this._wnafT2,Rr=this._wnafT3,Cr=0;for(gr=0;gr<br;gr++){var Tr=(vr=fr[gr])._getNAFPoints(hr);_r[gr]=Tr.wnd,xr[gr]=Tr.points}for(gr=br-1;gr>=1;gr-=2){var Ir=gr-1,Lr=gr;if(_r[Ir]===1&&_r[Lr]===1){var Nr=[fr[Ir],null,null,fr[Lr]];fr[Ir].y.cmp(fr[Lr].y)===0?(Nr[1]=fr[Ir].add(fr[Lr]),Nr[2]=fr[Ir].toJ().mixedAdd(fr[Lr].neg())):fr[Ir].y.cmp(fr[Lr].y.redNeg())===0?(Nr[1]=fr[Ir].toJ().mixedAdd(fr[Lr]),Nr[2]=fr[Ir].add(fr[Lr].neg())):(Nr[1]=fr[Ir].toJ().mixedAdd(fr[Lr]),Nr[2]=fr[Ir].toJ().mixedAdd(fr[Lr].neg()));var Or=[-3,-1,-5,-7,0,7,5,1,3],Pr=or(mr[Ir],mr[Lr]);for(Cr=Math.max(Pr[0].length,Cr),Rr[Ir]=new Array(Cr),Rr[Lr]=new Array(Cr),yr=0;yr<Cr;yr++){var Mr=0|Pr[0][yr],jr=0|Pr[1][yr];Rr[Ir][yr]=Or[3*(Mr+1)+(jr+1)],Rr[Lr][yr]=0,xr[Ir]=Nr}}else Rr[Ir]=lr(mr[Ir],_r[Ir],this._bitLength),Rr[Lr]=lr(mr[Lr],_r[Lr],this._bitLength),Cr=Math.max(Rr[Ir].length,Cr),Cr=Math.max(Rr[Lr].length,Cr)}var wr=this.jpoint(null,null,null),Er=this._wnafT4;for(gr=Cr;gr>=0;gr--){for(var Ar=0;gr>=0;){var Sr=!0;for(yr=0;yr<br;yr++)Er[yr]=0|Rr[yr][gr],Er[yr]!==0&&(Sr=!1);if(!Sr)break;Ar++,gr--}if(gr>=0&&Ar++,wr=wr.dblp(Ar),gr<0)break;for(yr=0;yr<br;yr++){var Dr=Er[yr];Dr!==0&&(Dr>0?vr=xr[yr][Dr-1>>1]:Dr<0&&(vr=xr[yr][-Dr-1>>1].neg()),wr=vr.type==="affine"?wr.mixedAdd(vr):wr.add(vr))}}for(gr=0;gr<br;gr++)xr[gr]=null;return pr?wr:wr.toP()},ur.BasePoint=dr,dr.prototype.eq=function(){throw new Error("Not implemented")},dr.prototype.validate=function(){return this.curve.validate(this)},ur.prototype.decodePoint=function(hr,fr){hr=sr.toArray(hr,fr);var mr=this.p.byteLength();if((hr[0]===4||hr[0]===6||hr[0]===7)&&hr.length-1==2*mr)return hr[0]===6?cr(hr[hr.length-1]%2==0):hr[0]===7&&cr(hr[hr.length-1]%2==1),this.point(hr.slice(1,1+mr),hr.slice(1+mr,1+2*mr));if((hr[0]===2||hr[0]===3)&&hr.length-1===mr)return this.pointFromX(hr.slice(1,1+mr),hr[0]===3);throw new Error("Unknown point format")},dr.prototype.encodeCompressed=function(hr){return this.encode(hr,!0)},dr.prototype._encode=function(hr){var fr=this.curve.p.byteLength(),mr=this.getX().toArray("be",fr);return hr?[this.getY().isEven()?2:3].concat(mr):[4].concat(mr,this.getY().toArray("be",fr))},dr.prototype.encode=function(hr,fr){return sr.encode(this._encode(fr),hr)},dr.prototype.precompute=function(hr){if(this.precomputed)return this;var fr={doubles:null,naf:null,beta:null};return fr.naf=this._getNAFPoints(8),fr.doubles=this._getDoubles(4,hr),fr.beta=this._getBeta(),this.precomputed=fr,this},dr.prototype._hasDoubles=function(hr){if(!this.precomputed)return!1;var fr=this.precomputed.doubles;return!!fr&&fr.points.length>=Math.ceil((hr.bitLength()+1)/fr.step)},dr.prototype._getDoubles=function(hr,fr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var mr=[this],br=this,pr=0;pr<fr;pr+=hr){for(var gr=0;gr<hr;gr++)br=br.dbl();mr.push(br)}return{step:hr,points:mr}},dr.prototype._getNAFPoints=function(hr){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var fr=[this],mr=(1<<hr)-1,br=mr===1?null:this.dbl(),pr=1;pr<mr;pr++)fr[pr]=fr[pr-1].add(br);return{wnd:hr,points:fr}},dr.prototype._getBeta=function(){return null},dr.prototype.dblp=function(hr){for(var fr=this,mr=0;mr<hr;mr++)fr=fr.dbl();return fr}},{"../utils":419,"bn.js":420}],407:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("bn.js"),lr=rr("inherits"),or=rr("./base"),cr=ar.assert;function ur(hr){this.twisted=(0|hr.a)!=1,this.mOneA=this.twisted&&(0|hr.a)==-1,this.extended=this.mOneA,or.call(this,"edwards",hr),this.a=new sr(hr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new sr(hr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new sr(hr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),cr(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|hr.c)==1}function dr(hr,fr,mr,br,pr){or.BasePoint.call(this,hr,"projective"),fr===null&&mr===null&&br===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new sr(fr,16),this.y=new sr(mr,16),this.z=br?new sr(br,16):this.curve.one,this.t=pr&&new sr(pr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}lr(ur,or),nr.exports=ur,ur.prototype._mulA=function(hr){return this.mOneA?hr.redNeg():this.a.redMul(hr)},ur.prototype._mulC=function(hr){return this.oneC?hr:this.c.redMul(hr)},ur.prototype.jpoint=function(hr,fr,mr,br){return this.point(hr,fr,mr,br)},ur.prototype.pointFromX=function(hr,fr){(hr=new sr(hr,16)).red||(hr=hr.toRed(this.red));var mr=hr.redSqr(),br=this.c2.redSub(this.a.redMul(mr)),pr=this.one.redSub(this.c2.redMul(this.d).redMul(mr)),gr=br.redMul(pr.redInvm()),yr=gr.redSqrt();if(yr.redSqr().redSub(gr).cmp(this.zero)!==0)throw new Error("invalid point");var vr=yr.fromRed().isOdd();return(fr&&!vr||!fr&&vr)&&(yr=yr.redNeg()),this.point(hr,yr)},ur.prototype.pointFromY=function(hr,fr){(hr=new sr(hr,16)).red||(hr=hr.toRed(this.red));var mr=hr.redSqr(),br=mr.redSub(this.c2),pr=mr.redMul(this.d).redMul(this.c2).redSub(this.a),gr=br.redMul(pr.redInvm());if(gr.cmp(this.zero)===0){if(fr)throw new Error("invalid point");return this.point(this.zero,hr)}var yr=gr.redSqrt();if(yr.redSqr().redSub(gr).cmp(this.zero)!==0)throw new Error("invalid point");return yr.fromRed().isOdd()!==fr&&(yr=yr.redNeg()),this.point(yr,hr)},ur.prototype.validate=function(hr){if(hr.isInfinity())return!0;hr.normalize();var fr=hr.x.redSqr(),mr=hr.y.redSqr(),br=fr.redMul(this.a).redAdd(mr),pr=this.c2.redMul(this.one.redAdd(this.d.redMul(fr).redMul(mr)));return br.cmp(pr)===0},lr(dr,or.BasePoint),ur.prototype.pointFromJSON=function(hr){return dr.fromJSON(this,hr)},ur.prototype.point=function(hr,fr,mr,br){return new dr(this,hr,fr,mr,br)},dr.fromJSON=function(hr,fr){return new dr(hr,fr[0],fr[1],fr[2])},dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},dr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},dr.prototype._extDbl=function(){var hr=this.x.redSqr(),fr=this.y.redSqr(),mr=this.z.redSqr();mr=mr.redIAdd(mr);var br=this.curve._mulA(hr),pr=this.x.redAdd(this.y).redSqr().redISub(hr).redISub(fr),gr=br.redAdd(fr),yr=gr.redSub(mr),vr=br.redSub(fr),_r=pr.redMul(yr),xr=gr.redMul(vr),Rr=pr.redMul(vr),Cr=yr.redMul(gr);return this.curve.point(_r,xr,Cr,Rr)},dr.prototype._projDbl=function(){var hr,fr,mr,br,pr,gr,yr=this.x.redAdd(this.y).redSqr(),vr=this.x.redSqr(),_r=this.y.redSqr();if(this.curve.twisted){var xr=(br=this.curve._mulA(vr)).redAdd(_r);this.zOne?(hr=yr.redSub(vr).redSub(_r).redMul(xr.redSub(this.curve.two)),fr=xr.redMul(br.redSub(_r)),mr=xr.redSqr().redSub(xr).redSub(xr)):(pr=this.z.redSqr(),gr=xr.redSub(pr).redISub(pr),hr=yr.redSub(vr).redISub(_r).redMul(gr),fr=xr.redMul(br.redSub(_r)),mr=xr.redMul(gr))}else br=vr.redAdd(_r),pr=this.curve._mulC(this.z).redSqr(),gr=br.redSub(pr).redSub(pr),hr=this.curve._mulC(yr.redISub(br)).redMul(gr),fr=this.curve._mulC(br).redMul(vr.redISub(_r)),mr=br.redMul(gr);return this.curve.point(hr,fr,mr)},dr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},dr.prototype._extAdd=function(hr){var fr=this.y.redSub(this.x).redMul(hr.y.redSub(hr.x)),mr=this.y.redAdd(this.x).redMul(hr.y.redAdd(hr.x)),br=this.t.redMul(this.curve.dd).redMul(hr.t),pr=this.z.redMul(hr.z.redAdd(hr.z)),gr=mr.redSub(fr),yr=pr.redSub(br),vr=pr.redAdd(br),_r=mr.redAdd(fr),xr=gr.redMul(yr),Rr=vr.redMul(_r),Cr=gr.redMul(_r),Tr=yr.redMul(vr);return this.curve.point(xr,Rr,Tr,Cr)},dr.prototype._projAdd=function(hr){var fr,mr,br=this.z.redMul(hr.z),pr=br.redSqr(),gr=this.x.redMul(hr.x),yr=this.y.redMul(hr.y),vr=this.curve.d.redMul(gr).redMul(yr),_r=pr.redSub(vr),xr=pr.redAdd(vr),Rr=this.x.redAdd(this.y).redMul(hr.x.redAdd(hr.y)).redISub(gr).redISub(yr),Cr=br.redMul(_r).redMul(Rr);return this.curve.twisted?(fr=br.redMul(xr).redMul(yr.redSub(this.curve._mulA(gr))),mr=_r.redMul(xr)):(fr=br.redMul(xr).redMul(yr.redSub(gr)),mr=this.curve._mulC(_r).redMul(xr)),this.curve.point(Cr,fr,mr)},dr.prototype.add=function(hr){return this.isInfinity()?hr:hr.isInfinity()?this:this.curve.extended?this._extAdd(hr):this._projAdd(hr)},dr.prototype.mul=function(hr){return this._hasDoubles(hr)?this.curve._fixedNafMul(this,hr):this.curve._wnafMul(this,hr)},dr.prototype.mulAdd=function(hr,fr,mr){return this.curve._wnafMulAdd(1,[this,fr],[hr,mr],2,!1)},dr.prototype.jmulAdd=function(hr,fr,mr){return this.curve._wnafMulAdd(1,[this,fr],[hr,mr],2,!0)},dr.prototype.normalize=function(){if(this.zOne)return this;var hr=this.z.redInvm();return this.x=this.x.redMul(hr),this.y=this.y.redMul(hr),this.t&&(this.t=this.t.redMul(hr)),this.z=this.curve.one,this.zOne=!0,this},dr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},dr.prototype.getX=function(){return this.normalize(),this.x.fromRed()},dr.prototype.getY=function(){return this.normalize(),this.y.fromRed()},dr.prototype.eq=function(hr){return this===hr||this.getX().cmp(hr.getX())===0&&this.getY().cmp(hr.getY())===0},dr.prototype.eqXToP=function(hr){var fr=hr.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(fr)===0)return!0;for(var mr=hr.clone(),br=this.curve.redN.redMul(this.z);;){if(mr.iadd(this.curve.n),mr.cmp(this.curve.p)>=0)return!1;if(fr.redIAdd(br),this.x.cmp(fr)===0)return!0}},dr.prototype.toP=dr.prototype.normalize,dr.prototype.mixedAdd=dr.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(rr,nr,ir){var ar=ir;ar.base=rr("./base"),ar.short=rr("./short"),ar.mont=rr("./mont"),ar.edwards=rr("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("inherits"),lr=rr("./base"),or=rr("../utils");function cr(dr){lr.call(this,"mont",dr),this.a=new ar(dr.a,16).toRed(this.red),this.b=new ar(dr.b,16).toRed(this.red),this.i4=new ar(4).toRed(this.red).redInvm(),this.two=new ar(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function ur(dr,hr,fr){lr.BasePoint.call(this,dr,"projective"),hr===null&&fr===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ar(hr,16),this.z=new ar(fr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}sr(cr,lr),nr.exports=cr,cr.prototype.validate=function(dr){var hr=dr.normalize().x,fr=hr.redSqr(),mr=fr.redMul(hr).redAdd(fr.redMul(this.a)).redAdd(hr);return mr.redSqrt().redSqr().cmp(mr)===0},sr(ur,lr.BasePoint),cr.prototype.decodePoint=function(dr,hr){return this.point(or.toArray(dr,hr),1)},cr.prototype.point=function(dr,hr){return new ur(this,dr,hr)},cr.prototype.pointFromJSON=function(dr){return ur.fromJSON(this,dr)},ur.prototype.precompute=function(){},ur.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},ur.fromJSON=function(dr,hr){return new ur(dr,hr[0],hr[1]||dr.one)},ur.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ur.prototype.isInfinity=function(){return this.z.cmpn(0)===0},ur.prototype.dbl=function(){var dr=this.x.redAdd(this.z).redSqr(),hr=this.x.redSub(this.z).redSqr(),fr=dr.redSub(hr),mr=dr.redMul(hr),br=fr.redMul(hr.redAdd(this.curve.a24.redMul(fr)));return this.curve.point(mr,br)},ur.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},ur.prototype.diffAdd=function(dr,hr){var fr=this.x.redAdd(this.z),mr=this.x.redSub(this.z),br=dr.x.redAdd(dr.z),pr=dr.x.redSub(dr.z).redMul(fr),gr=br.redMul(mr),yr=hr.z.redMul(pr.redAdd(gr).redSqr()),vr=hr.x.redMul(pr.redISub(gr).redSqr());return this.curve.point(yr,vr)},ur.prototype.mul=function(dr){for(var hr=dr.clone(),fr=this,mr=this.curve.point(null,null),br=[];hr.cmpn(0)!==0;hr.iushrn(1))br.push(hr.andln(1));for(var pr=br.length-1;pr>=0;pr--)br[pr]===0?(fr=fr.diffAdd(mr,this),mr=mr.dbl()):(mr=fr.diffAdd(mr,this),fr=fr.dbl());return mr},ur.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},ur.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},ur.prototype.eq=function(dr){return this.getX().cmp(dr.getX())===0},ur.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},ur.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("bn.js"),lr=rr("inherits"),or=rr("./base"),cr=ar.assert;function ur(fr){or.call(this,"short",fr),this.a=new sr(fr.a,16).toRed(this.red),this.b=new sr(fr.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(fr),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function dr(fr,mr,br,pr){or.BasePoint.call(this,fr,"affine"),mr===null&&br===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new sr(mr,16),this.y=new sr(br,16),pr&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function hr(fr,mr,br,pr){or.BasePoint.call(this,fr,"jacobian"),mr===null&&br===null&&pr===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new sr(0)):(this.x=new sr(mr,16),this.y=new sr(br,16),this.z=new sr(pr,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}lr(ur,or),nr.exports=ur,ur.prototype._getEndomorphism=function(fr){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var mr,br;if(fr.beta)mr=new sr(fr.beta,16).toRed(this.red);else{var pr=this._getEndoRoots(this.p);mr=(mr=pr[0].cmp(pr[1])<0?pr[0]:pr[1]).toRed(this.red)}if(fr.lambda)br=new sr(fr.lambda,16);else{var gr=this._getEndoRoots(this.n);this.g.mul(gr[0]).x.cmp(this.g.x.redMul(mr))===0?br=gr[0]:(br=gr[1],cr(this.g.mul(br).x.cmp(this.g.x.redMul(mr))===0))}return{beta:mr,lambda:br,basis:fr.basis?fr.basis.map(function(yr){return{a:new sr(yr.a,16),b:new sr(yr.b,16)}}):this._getEndoBasis(br)}}},ur.prototype._getEndoRoots=function(fr){var mr=fr===this.p?this.red:sr.mont(fr),br=new sr(2).toRed(mr).redInvm(),pr=br.redNeg(),gr=new sr(3).toRed(mr).redNeg().redSqrt().redMul(br);return[pr.redAdd(gr).fromRed(),pr.redSub(gr).fromRed()]},ur.prototype._getEndoBasis=function(fr){for(var mr,br,pr,gr,yr,vr,_r,xr,Rr,Cr=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Tr=fr,Ir=this.n.clone(),Lr=new sr(1),Nr=new sr(0),Or=new sr(0),Pr=new sr(1),Mr=0;Tr.cmpn(0)!==0;){var jr=Ir.div(Tr);xr=Ir.sub(jr.mul(Tr)),Rr=Or.sub(jr.mul(Lr));var wr=Pr.sub(jr.mul(Nr));if(!pr&&xr.cmp(Cr)<0)mr=_r.neg(),br=Lr,pr=xr.neg(),gr=Rr;else if(pr&&++Mr==2)break;_r=xr,Ir=Tr,Tr=xr,Or=Lr,Lr=Rr,Pr=Nr,Nr=wr}yr=xr.neg(),vr=Rr;var Er=pr.sqr().add(gr.sqr());return yr.sqr().add(vr.sqr()).cmp(Er)>=0&&(yr=mr,vr=br),pr.negative&&(pr=pr.neg(),gr=gr.neg()),yr.negative&&(yr=yr.neg(),vr=vr.neg()),[{a:pr,b:gr},{a:yr,b:vr}]},ur.prototype._endoSplit=function(fr){var mr=this.endo.basis,br=mr[0],pr=mr[1],gr=pr.b.mul(fr).divRound(this.n),yr=br.b.neg().mul(fr).divRound(this.n),vr=gr.mul(br.a),_r=yr.mul(pr.a),xr=gr.mul(br.b),Rr=yr.mul(pr.b);return{k1:fr.sub(vr).sub(_r),k2:xr.add(Rr).neg()}},ur.prototype.pointFromX=function(fr,mr){(fr=new sr(fr,16)).red||(fr=fr.toRed(this.red));var br=fr.redSqr().redMul(fr).redIAdd(fr.redMul(this.a)).redIAdd(this.b),pr=br.redSqrt();if(pr.redSqr().redSub(br).cmp(this.zero)!==0)throw new Error("invalid point");var gr=pr.fromRed().isOdd();return(mr&&!gr||!mr&&gr)&&(pr=pr.redNeg()),this.point(fr,pr)},ur.prototype.validate=function(fr){if(fr.inf)return!0;var mr=fr.x,br=fr.y,pr=this.a.redMul(mr),gr=mr.redSqr().redMul(mr).redIAdd(pr).redIAdd(this.b);return br.redSqr().redISub(gr).cmpn(0)===0},ur.prototype._endoWnafMulAdd=function(fr,mr,br){for(var pr=this._endoWnafT1,gr=this._endoWnafT2,yr=0;yr<fr.length;yr++){var vr=this._endoSplit(mr[yr]),_r=fr[yr],xr=_r._getBeta();vr.k1.negative&&(vr.k1.ineg(),_r=_r.neg(!0)),vr.k2.negative&&(vr.k2.ineg(),xr=xr.neg(!0)),pr[2*yr]=_r,pr[2*yr+1]=xr,gr[2*yr]=vr.k1,gr[2*yr+1]=vr.k2}for(var Rr=this._wnafMulAdd(1,pr,gr,2*yr,br),Cr=0;Cr<2*yr;Cr++)pr[Cr]=null,gr[Cr]=null;return Rr},lr(dr,or.BasePoint),ur.prototype.point=function(fr,mr,br){return new dr(this,fr,mr,br)},ur.prototype.pointFromJSON=function(fr,mr){return dr.fromJSON(this,fr,mr)},dr.prototype._getBeta=function(){if(this.curve.endo){var fr=this.precomputed;if(fr&&fr.beta)return fr.beta;var mr=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(fr){var br=this.curve,pr=function(gr){return br.point(gr.x.redMul(br.endo.beta),gr.y)};fr.beta=mr,mr.precomputed={beta:null,naf:fr.naf&&{wnd:fr.naf.wnd,points:fr.naf.points.map(pr)},doubles:fr.doubles&&{step:fr.doubles.step,points:fr.doubles.points.map(pr)}}}return mr}},dr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},dr.fromJSON=function(fr,mr,br){typeof mr=="string"&&(mr=JSON.parse(mr));var pr=fr.point(mr[0],mr[1],br);if(!mr[2])return pr;function gr(vr){return fr.point(vr[0],vr[1],br)}var yr=mr[2];return pr.precomputed={beta:null,doubles:yr.doubles&&{step:yr.doubles.step,points:[pr].concat(yr.doubles.points.map(gr))},naf:yr.naf&&{wnd:yr.naf.wnd,points:[pr].concat(yr.naf.points.map(gr))}},pr},dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},dr.prototype.isInfinity=function(){return this.inf},dr.prototype.add=function(fr){if(this.inf)return fr;if(fr.inf)return this;if(this.eq(fr))return this.dbl();if(this.neg().eq(fr))return this.curve.point(null,null);if(this.x.cmp(fr.x)===0)return this.curve.point(null,null);var mr=this.y.redSub(fr.y);mr.cmpn(0)!==0&&(mr=mr.redMul(this.x.redSub(fr.x).redInvm()));var br=mr.redSqr().redISub(this.x).redISub(fr.x),pr=mr.redMul(this.x.redSub(br)).redISub(this.y);return this.curve.point(br,pr)},dr.prototype.dbl=function(){if(this.inf)return this;var fr=this.y.redAdd(this.y);if(fr.cmpn(0)===0)return this.curve.point(null,null);var mr=this.curve.a,br=this.x.redSqr(),pr=fr.redInvm(),gr=br.redAdd(br).redIAdd(br).redIAdd(mr).redMul(pr),yr=gr.redSqr().redISub(this.x.redAdd(this.x)),vr=gr.redMul(this.x.redSub(yr)).redISub(this.y);return this.curve.point(yr,vr)},dr.prototype.getX=function(){return this.x.fromRed()},dr.prototype.getY=function(){return this.y.fromRed()},dr.prototype.mul=function(fr){return fr=new sr(fr,16),this.isInfinity()?this:this._hasDoubles(fr)?this.curve._fixedNafMul(this,fr):this.curve.endo?this.curve._endoWnafMulAdd([this],[fr]):this.curve._wnafMul(this,fr)},dr.prototype.mulAdd=function(fr,mr,br){var pr=[this,mr],gr=[fr,br];return this.curve.endo?this.curve._endoWnafMulAdd(pr,gr):this.curve._wnafMulAdd(1,pr,gr,2)},dr.prototype.jmulAdd=function(fr,mr,br){var pr=[this,mr],gr=[fr,br];return this.curve.endo?this.curve._endoWnafMulAdd(pr,gr,!0):this.curve._wnafMulAdd(1,pr,gr,2,!0)},dr.prototype.eq=function(fr){return this===fr||this.inf===fr.inf&&(this.inf||this.x.cmp(fr.x)===0&&this.y.cmp(fr.y)===0)},dr.prototype.neg=function(fr){if(this.inf)return this;var mr=this.curve.point(this.x,this.y.redNeg());if(fr&&this.precomputed){var br=this.precomputed,pr=function(gr){return gr.neg()};mr.precomputed={naf:br.naf&&{wnd:br.naf.wnd,points:br.naf.points.map(pr)},doubles:br.doubles&&{step:br.doubles.step,points:br.doubles.points.map(pr)}}}return mr},dr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},lr(hr,or.BasePoint),ur.prototype.jpoint=function(fr,mr,br){return new hr(this,fr,mr,br)},hr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var fr=this.z.redInvm(),mr=fr.redSqr(),br=this.x.redMul(mr),pr=this.y.redMul(mr).redMul(fr);return this.curve.point(br,pr)},hr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},hr.prototype.add=function(fr){if(this.isInfinity())return fr;if(fr.isInfinity())return this;var mr=fr.z.redSqr(),br=this.z.redSqr(),pr=this.x.redMul(mr),gr=fr.x.redMul(br),yr=this.y.redMul(mr.redMul(fr.z)),vr=fr.y.redMul(br.redMul(this.z)),_r=pr.redSub(gr),xr=yr.redSub(vr);if(_r.cmpn(0)===0)return xr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Rr=_r.redSqr(),Cr=Rr.redMul(_r),Tr=pr.redMul(Rr),Ir=xr.redSqr().redIAdd(Cr).redISub(Tr).redISub(Tr),Lr=xr.redMul(Tr.redISub(Ir)).redISub(yr.redMul(Cr)),Nr=this.z.redMul(fr.z).redMul(_r);return this.curve.jpoint(Ir,Lr,Nr)},hr.prototype.mixedAdd=function(fr){if(this.isInfinity())return fr.toJ();if(fr.isInfinity())return this;var mr=this.z.redSqr(),br=this.x,pr=fr.x.redMul(mr),gr=this.y,yr=fr.y.redMul(mr).redMul(this.z),vr=br.redSub(pr),_r=gr.redSub(yr);if(vr.cmpn(0)===0)return _r.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var xr=vr.redSqr(),Rr=xr.redMul(vr),Cr=br.redMul(xr),Tr=_r.redSqr().redIAdd(Rr).redISub(Cr).redISub(Cr),Ir=_r.redMul(Cr.redISub(Tr)).redISub(gr.redMul(Rr)),Lr=this.z.redMul(vr);return this.curve.jpoint(Tr,Ir,Lr)},hr.prototype.dblp=function(fr){if(fr===0)return this;if(this.isInfinity())return this;if(!fr)return this.dbl();var mr;if(this.curve.zeroA||this.curve.threeA){var br=this;for(mr=0;mr<fr;mr++)br=br.dbl();return br}var pr=this.curve.a,gr=this.curve.tinv,yr=this.x,vr=this.y,_r=this.z,xr=_r.redSqr().redSqr(),Rr=vr.redAdd(vr);for(mr=0;mr<fr;mr++){var Cr=yr.redSqr(),Tr=Rr.redSqr(),Ir=Tr.redSqr(),Lr=Cr.redAdd(Cr).redIAdd(Cr).redIAdd(pr.redMul(xr)),Nr=yr.redMul(Tr),Or=Lr.redSqr().redISub(Nr.redAdd(Nr)),Pr=Nr.redISub(Or),Mr=Lr.redMul(Pr);Mr=Mr.redIAdd(Mr).redISub(Ir);var jr=Rr.redMul(_r);mr+1<fr&&(xr=xr.redMul(Ir)),yr=Or,_r=jr,Rr=Mr}return this.curve.jpoint(yr,Rr.redMul(gr),_r)},hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},hr.prototype._zeroDbl=function(){var fr,mr,br;if(this.zOne){var pr=this.x.redSqr(),gr=this.y.redSqr(),yr=gr.redSqr(),vr=this.x.redAdd(gr).redSqr().redISub(pr).redISub(yr);vr=vr.redIAdd(vr);var _r=pr.redAdd(pr).redIAdd(pr),xr=_r.redSqr().redISub(vr).redISub(vr),Rr=yr.redIAdd(yr);Rr=(Rr=Rr.redIAdd(Rr)).redIAdd(Rr),fr=xr,mr=_r.redMul(vr.redISub(xr)).redISub(Rr),br=this.y.redAdd(this.y)}else{var Cr=this.x.redSqr(),Tr=this.y.redSqr(),Ir=Tr.redSqr(),Lr=this.x.redAdd(Tr).redSqr().redISub(Cr).redISub(Ir);Lr=Lr.redIAdd(Lr);var Nr=Cr.redAdd(Cr).redIAdd(Cr),Or=Nr.redSqr(),Pr=Ir.redIAdd(Ir);Pr=(Pr=Pr.redIAdd(Pr)).redIAdd(Pr),fr=Or.redISub(Lr).redISub(Lr),mr=Nr.redMul(Lr.redISub(fr)).redISub(Pr),br=(br=this.y.redMul(this.z)).redIAdd(br)}return this.curve.jpoint(fr,mr,br)},hr.prototype._threeDbl=function(){var fr,mr,br;if(this.zOne){var pr=this.x.redSqr(),gr=this.y.redSqr(),yr=gr.redSqr(),vr=this.x.redAdd(gr).redSqr().redISub(pr).redISub(yr);vr=vr.redIAdd(vr);var _r=pr.redAdd(pr).redIAdd(pr).redIAdd(this.curve.a),xr=_r.redSqr().redISub(vr).redISub(vr);fr=xr;var Rr=yr.redIAdd(yr);Rr=(Rr=Rr.redIAdd(Rr)).redIAdd(Rr),mr=_r.redMul(vr.redISub(xr)).redISub(Rr),br=this.y.redAdd(this.y)}else{var Cr=this.z.redSqr(),Tr=this.y.redSqr(),Ir=this.x.redMul(Tr),Lr=this.x.redSub(Cr).redMul(this.x.redAdd(Cr));Lr=Lr.redAdd(Lr).redIAdd(Lr);var Nr=Ir.redIAdd(Ir),Or=(Nr=Nr.redIAdd(Nr)).redAdd(Nr);fr=Lr.redSqr().redISub(Or),br=this.y.redAdd(this.z).redSqr().redISub(Tr).redISub(Cr);var Pr=Tr.redSqr();Pr=(Pr=(Pr=Pr.redIAdd(Pr)).redIAdd(Pr)).redIAdd(Pr),mr=Lr.redMul(Nr.redISub(fr)).redISub(Pr)}return this.curve.jpoint(fr,mr,br)},hr.prototype._dbl=function(){var fr=this.curve.a,mr=this.x,br=this.y,pr=this.z,gr=pr.redSqr().redSqr(),yr=mr.redSqr(),vr=br.redSqr(),_r=yr.redAdd(yr).redIAdd(yr).redIAdd(fr.redMul(gr)),xr=mr.redAdd(mr),Rr=(xr=xr.redIAdd(xr)).redMul(vr),Cr=_r.redSqr().redISub(Rr.redAdd(Rr)),Tr=Rr.redISub(Cr),Ir=vr.redSqr();Ir=(Ir=(Ir=Ir.redIAdd(Ir)).redIAdd(Ir)).redIAdd(Ir);var Lr=_r.redMul(Tr).redISub(Ir),Nr=br.redAdd(br).redMul(pr);return this.curve.jpoint(Cr,Lr,Nr)},hr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var fr=this.x.redSqr(),mr=this.y.redSqr(),br=this.z.redSqr(),pr=mr.redSqr(),gr=fr.redAdd(fr).redIAdd(fr),yr=gr.redSqr(),vr=this.x.redAdd(mr).redSqr().redISub(fr).redISub(pr),_r=(vr=(vr=(vr=vr.redIAdd(vr)).redAdd(vr).redIAdd(vr)).redISub(yr)).redSqr(),xr=pr.redIAdd(pr);xr=(xr=(xr=xr.redIAdd(xr)).redIAdd(xr)).redIAdd(xr);var Rr=gr.redIAdd(vr).redSqr().redISub(yr).redISub(_r).redISub(xr),Cr=mr.redMul(Rr);Cr=(Cr=Cr.redIAdd(Cr)).redIAdd(Cr);var Tr=this.x.redMul(_r).redISub(Cr);Tr=(Tr=Tr.redIAdd(Tr)).redIAdd(Tr);var Ir=this.y.redMul(Rr.redMul(xr.redISub(Rr)).redISub(vr.redMul(_r)));Ir=(Ir=(Ir=Ir.redIAdd(Ir)).redIAdd(Ir)).redIAdd(Ir);var Lr=this.z.redAdd(vr).redSqr().redISub(br).redISub(_r);return this.curve.jpoint(Tr,Ir,Lr)},hr.prototype.mul=function(fr,mr){return fr=new sr(fr,mr),this.curve._wnafMul(this,fr)},hr.prototype.eq=function(fr){if(fr.type==="affine")return this.eq(fr.toJ());if(this===fr)return!0;var mr=this.z.redSqr(),br=fr.z.redSqr();if(this.x.redMul(br).redISub(fr.x.redMul(mr)).cmpn(0)!==0)return!1;var pr=mr.redMul(this.z),gr=br.redMul(fr.z);return this.y.redMul(gr).redISub(fr.y.redMul(pr)).cmpn(0)===0},hr.prototype.eqXToP=function(fr){var mr=this.z.redSqr(),br=fr.toRed(this.curve.red).redMul(mr);if(this.x.cmp(br)===0)return!0;for(var pr=fr.clone(),gr=this.curve.redN.redMul(mr);;){if(pr.iadd(this.curve.n),pr.cmp(this.curve.p)>=0)return!1;if(br.redIAdd(gr),this.x.cmp(br)===0)return!0}},hr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(rr,nr,ir){var ar,sr=ir,lr=rr("hash.js"),or=rr("./curve"),cr=rr("./utils").assert;function ur(hr){hr.type==="short"?this.curve=new or.short(hr):hr.type==="edwards"?this.curve=new or.edwards(hr):this.curve=new or.mont(hr),this.g=this.curve.g,this.n=this.curve.n,this.hash=hr.hash,cr(this.g.validate(),"Invalid curve"),cr(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function dr(hr,fr){Object.defineProperty(sr,hr,{configurable:!0,enumerable:!0,get:function(){var mr=new ur(fr);return Object.defineProperty(sr,hr,{configurable:!0,enumerable:!0,value:mr}),mr}})}sr.PresetCurve=ur,dr("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:lr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),dr("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:lr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),dr("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:lr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),dr("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:lr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),dr("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:lr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),dr("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["9"]}),dr("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:lr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{ar=rr("./precomputed/secp256k1")}catch{ar=void 0}dr("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:lr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ar]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("hmac-drbg"),lr=rr("../utils"),or=rr("../curves"),cr=rr("brorand"),ur=lr.assert,dr=rr("./key"),hr=rr("./signature");function fr(mr){if(!(this instanceof fr))return new fr(mr);typeof mr=="string"&&(ur(Object.prototype.hasOwnProperty.call(or,mr),"Unknown curve "+mr),mr=or[mr]),mr instanceof or.PresetCurve&&(mr={curve:mr}),this.curve=mr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=mr.curve.g,this.g.precompute(mr.curve.n.bitLength()+1),this.hash=mr.hash||mr.curve.hash}nr.exports=fr,fr.prototype.keyPair=function(mr){return new dr(this,mr)},fr.prototype.keyFromPrivate=function(mr,br){return dr.fromPrivate(this,mr,br)},fr.prototype.keyFromPublic=function(mr,br){return dr.fromPublic(this,mr,br)},fr.prototype.genKeyPair=function(mr){mr||(mr={});for(var br=new sr({hash:this.hash,pers:mr.pers,persEnc:mr.persEnc||"utf8",entropy:mr.entropy||cr(this.hash.hmacStrength),entropyEnc:mr.entropy&&mr.entropyEnc||"utf8",nonce:this.n.toArray()}),pr=this.n.byteLength(),gr=this.n.sub(new ar(2));;){var yr=new ar(br.generate(pr));if(!(yr.cmp(gr)>0))return yr.iaddn(1),this.keyFromPrivate(yr)}},fr.prototype._truncateToN=function(mr,br){var pr=8*mr.byteLength()-this.n.bitLength();return pr>0&&(mr=mr.ushrn(pr)),!br&&mr.cmp(this.n)>=0?mr.sub(this.n):mr},fr.prototype.sign=function(mr,br,pr,gr){typeof pr=="object"&&(gr=pr,pr=null),gr||(gr={}),br=this.keyFromPrivate(br,pr),mr=this._truncateToN(new ar(mr,16));for(var yr=this.n.byteLength(),vr=br.getPrivate().toArray("be",yr),_r=mr.toArray("be",yr),xr=new sr({hash:this.hash,entropy:vr,nonce:_r,pers:gr.pers,persEnc:gr.persEnc||"utf8"}),Rr=this.n.sub(new ar(1)),Cr=0;;Cr++){var Tr=gr.k?gr.k(Cr):new ar(xr.generate(this.n.byteLength()));if(!((Tr=this._truncateToN(Tr,!0)).cmpn(1)<=0||Tr.cmp(Rr)>=0)){var Ir=this.g.mul(Tr);if(!Ir.isInfinity()){var Lr=Ir.getX(),Nr=Lr.umod(this.n);if(Nr.cmpn(0)!==0){var Or=Tr.invm(this.n).mul(Nr.mul(br.getPrivate()).iadd(mr));if((Or=Or.umod(this.n)).cmpn(0)!==0){var Pr=(Ir.getY().isOdd()?1:0)|(Lr.cmp(Nr)!==0?2:0);return gr.canonical&&Or.cmp(this.nh)>0&&(Or=this.n.sub(Or),Pr^=1),new hr({r:Nr,s:Or,recoveryParam:Pr})}}}}}},fr.prototype.verify=function(mr,br,pr,gr){mr=this._truncateToN(new ar(mr,16)),pr=this.keyFromPublic(pr,gr);var yr=(br=new hr(br,"hex")).r,vr=br.s;if(yr.cmpn(1)<0||yr.cmp(this.n)>=0||vr.cmpn(1)<0||vr.cmp(this.n)>=0)return!1;var _r,xr=vr.invm(this.n),Rr=xr.mul(mr).umod(this.n),Cr=xr.mul(yr).umod(this.n);return this.curve._maxwellTrick?!(_r=this.g.jmulAdd(Rr,pr.getPublic(),Cr)).isInfinity()&&_r.eqXToP(yr):!(_r=this.g.mulAdd(Rr,pr.getPublic(),Cr)).isInfinity()&&_r.getX().umod(this.n).cmp(yr)===0},fr.prototype.recoverPubKey=function(mr,br,pr,gr){ur((3&pr)===pr,"The recovery param is more than two bits"),br=new hr(br,gr);var yr=this.n,vr=new ar(mr),_r=br.r,xr=br.s,Rr=1&pr,Cr=pr>>1;if(_r.cmp(this.curve.p.umod(this.curve.n))>=0&&Cr)throw new Error("Unable to find sencond key candinate");_r=Cr?this.curve.pointFromX(_r.add(this.curve.n),Rr):this.curve.pointFromX(_r,Rr);var Tr=br.r.invm(yr),Ir=yr.sub(vr).mul(Tr).umod(yr),Lr=xr.mul(Tr).umod(yr);return this.g.mulAdd(Ir,_r,Lr)},fr.prototype.getKeyRecoveryParam=function(mr,br,pr,gr){if((br=new hr(br,gr)).recoveryParam!==null)return br.recoveryParam;for(var yr=0;yr<4;yr++){var vr;try{vr=this.recoverPubKey(mr,br,yr)}catch{continue}if(vr.eq(pr))return yr}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("../utils").assert;function lr(or,cr){this.ec=or,this.priv=null,this.pub=null,cr.priv&&this._importPrivate(cr.priv,cr.privEnc),cr.pub&&this._importPublic(cr.pub,cr.pubEnc)}nr.exports=lr,lr.fromPublic=function(or,cr,ur){return cr instanceof lr?cr:new lr(or,{pub:cr,pubEnc:ur})},lr.fromPrivate=function(or,cr,ur){return cr instanceof lr?cr:new lr(or,{priv:cr,privEnc:ur})},lr.prototype.validate=function(){var or=this.getPublic();return or.isInfinity()?{result:!1,reason:"Invalid public key"}:or.validate()?or.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},lr.prototype.getPublic=function(or,cr){return typeof or=="string"&&(cr=or,or=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),cr?this.pub.encode(cr,or):this.pub},lr.prototype.getPrivate=function(or){return or==="hex"?this.priv.toString(16,2):this.priv},lr.prototype._importPrivate=function(or,cr){this.priv=new ar(or,cr||16),this.priv=this.priv.umod(this.ec.curve.n)},lr.prototype._importPublic=function(or,cr){if(or.x||or.y)return this.ec.curve.type==="mont"?sr(or.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||sr(or.x&&or.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(or.x,or.y));this.pub=this.ec.curve.decodePoint(or,cr)},lr.prototype.derive=function(or){return or.validate()||sr(or.validate(),"public point not validated"),or.mul(this.priv).getX()},lr.prototype.sign=function(or,cr,ur){return this.ec.sign(or,this,cr,ur)},lr.prototype.verify=function(or,cr){return this.ec.verify(or,cr,this)},lr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("../utils"),lr=sr.assert;function or(fr,mr){if(fr instanceof or)return fr;this._importDER(fr,mr)||(lr(fr.r&&fr.s,"Signature without r or s"),this.r=new ar(fr.r,16),this.s=new ar(fr.s,16),fr.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=fr.recoveryParam)}function cr(){this.place=0}function ur(fr,mr){var br=fr[mr.place++];if(!(128&br))return br;var pr=15&br;if(pr===0||pr>4)return!1;for(var gr=0,yr=0,vr=mr.place;yr<pr;yr++,vr++)gr<<=8,gr|=fr[vr],gr>>>=0;return!(gr<=127)&&(mr.place=vr,gr)}function dr(fr){for(var mr=0,br=fr.length-1;!fr[mr]&&!(128&fr[mr+1])&&mr<br;)mr++;return mr===0?fr:fr.slice(mr)}function hr(fr,mr){if(mr<128)fr.push(mr);else{var br=1+(Math.log(mr)/Math.LN2>>>3);for(fr.push(128|br);--br;)fr.push(mr>>>(br<<3)&255);fr.push(mr)}}nr.exports=or,or.prototype._importDER=function(fr,mr){fr=sr.toArray(fr,mr);var br=new cr;if(fr[br.place++]!==48)return!1;var pr=ur(fr,br);if(pr===!1||pr+br.place!==fr.length||fr[br.place++]!==2)return!1;var gr=ur(fr,br);if(gr===!1)return!1;var yr=fr.slice(br.place,gr+br.place);if(br.place+=gr,fr[br.place++]!==2)return!1;var vr=ur(fr,br);if(vr===!1||fr.length!==vr+br.place)return!1;var _r=fr.slice(br.place,vr+br.place);if(yr[0]===0){if(!(128&yr[1]))return!1;yr=yr.slice(1)}if(_r[0]===0){if(!(128&_r[1]))return!1;_r=_r.slice(1)}return this.r=new ar(yr),this.s=new ar(_r),this.recoveryParam=null,!0},or.prototype.toDER=function(fr){var mr=this.r.toArray(),br=this.s.toArray();for(128&mr[0]&&(mr=[0].concat(mr)),128&br[0]&&(br=[0].concat(br)),mr=dr(mr),br=dr(br);!(br[0]||128&br[1]);)br=br.slice(1);var pr=[2];hr(pr,mr.length),(pr=pr.concat(mr)).push(2),hr(pr,br.length);var gr=pr.concat(br),yr=[48];return hr(yr,gr.length),yr=yr.concat(gr),sr.encode(yr,fr)}},{"../utils":419,"bn.js":420}],415:[function(rr,nr,ir){var ar=rr("hash.js"),sr=rr("../curves"),lr=rr("../utils"),or=lr.assert,cr=lr.parseBytes,ur=rr("./key"),dr=rr("./signature");function hr(fr){if(or(fr==="ed25519","only tested with ed25519 so far"),!(this instanceof hr))return new hr(fr);fr=sr[fr].curve,this.curve=fr,this.g=fr.g,this.g.precompute(fr.n.bitLength()+1),this.pointClass=fr.point().constructor,this.encodingLength=Math.ceil(fr.n.bitLength()/8),this.hash=ar.sha512}nr.exports=hr,hr.prototype.sign=function(fr,mr){fr=cr(fr);var br=this.keyFromSecret(mr),pr=this.hashInt(br.messagePrefix(),fr),gr=this.g.mul(pr),yr=this.encodePoint(gr),vr=this.hashInt(yr,br.pubBytes(),fr).mul(br.priv()),_r=pr.add(vr).umod(this.curve.n);return this.makeSignature({R:gr,S:_r,Rencoded:yr})},hr.prototype.verify=function(fr,mr,br){fr=cr(fr),mr=this.makeSignature(mr);var pr=this.keyFromPublic(br),gr=this.hashInt(mr.Rencoded(),pr.pubBytes(),fr),yr=this.g.mul(mr.S());return mr.R().add(pr.pub().mul(gr)).eq(yr)},hr.prototype.hashInt=function(){for(var fr=this.hash(),mr=0;mr<arguments.length;mr++)fr.update(arguments[mr]);return lr.intFromLE(fr.digest()).umod(this.curve.n)},hr.prototype.keyFromPublic=function(fr){return ur.fromPublic(this,fr)},hr.prototype.keyFromSecret=function(fr){return ur.fromSecret(this,fr)},hr.prototype.makeSignature=function(fr){return fr instanceof dr?fr:new dr(this,fr)},hr.prototype.encodePoint=function(fr){var mr=fr.getY().toArray("le",this.encodingLength);return mr[this.encodingLength-1]|=fr.getX().isOdd()?128:0,mr},hr.prototype.decodePoint=function(fr){var mr=(fr=lr.parseBytes(fr)).length-1,br=fr.slice(0,mr).concat(-129&fr[mr]),pr=(128&fr[mr])!=0,gr=lr.intFromLE(br);return this.curve.pointFromY(gr,pr)},hr.prototype.encodeInt=function(fr){return fr.toArray("le",this.encodingLength)},hr.prototype.decodeInt=function(fr){return lr.intFromLE(fr)},hr.prototype.isPoint=function(fr){return fr instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(rr,nr,ir){var ar=rr("../utils"),sr=ar.assert,lr=ar.parseBytes,or=ar.cachedProperty;function cr(ur,dr){this.eddsa=ur,this._secret=lr(dr.secret),ur.isPoint(dr.pub)?this._pub=dr.pub:this._pubBytes=lr(dr.pub)}cr.fromPublic=function(ur,dr){return dr instanceof cr?dr:new cr(ur,{pub:dr})},cr.fromSecret=function(ur,dr){return dr instanceof cr?dr:new cr(ur,{secret:dr})},cr.prototype.secret=function(){return this._secret},or(cr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),or(cr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),or(cr,"privBytes",function(){var ur=this.eddsa,dr=this.hash(),hr=ur.encodingLength-1,fr=dr.slice(0,ur.encodingLength);return fr[0]&=248,fr[hr]&=127,fr[hr]|=64,fr}),or(cr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),or(cr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),or(cr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),cr.prototype.sign=function(ur){return sr(this._secret,"KeyPair can only verify"),this.eddsa.sign(ur,this)},cr.prototype.verify=function(ur,dr){return this.eddsa.verify(ur,dr,this)},cr.prototype.getSecret=function(ur){return sr(this._secret,"KeyPair is public only"),ar.encode(this.secret(),ur)},cr.prototype.getPublic=function(ur){return ar.encode(this.pubBytes(),ur)},nr.exports=cr},{"../utils":419}],417:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("../utils"),lr=sr.assert,or=sr.cachedProperty,cr=sr.parseBytes;function ur(dr,hr){this.eddsa=dr,typeof hr!="object"&&(hr=cr(hr)),Array.isArray(hr)&&(hr={R:hr.slice(0,dr.encodingLength),S:hr.slice(dr.encodingLength)}),lr(hr.R&&hr.S,"Signature without R or S"),dr.isPoint(hr.R)&&(this._R=hr.R),hr.S instanceof ar&&(this._S=hr.S),this._Rencoded=Array.isArray(hr.R)?hr.R:hr.Rencoded,this._Sencoded=Array.isArray(hr.S)?hr.S:hr.Sencoded}or(ur,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),or(ur,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),or(ur,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),or(ur,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),ur.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},ur.prototype.toHex=function(){return sr.encode(this.toBytes(),"hex").toUpperCase()},nr.exports=ur},{"../utils":419,"bn.js":420}],418:[function(rr,nr,ir){nr.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(rr,nr,ir){var ar=ir,sr=rr("bn.js"),lr=rr("minimalistic-assert"),or=rr("minimalistic-crypto-utils");ar.assert=lr,ar.toArray=or.toArray,ar.zero2=or.zero2,ar.toHex=or.toHex,ar.encode=or.encode,ar.getNAF=function(cr,ur,dr){var hr=new Array(Math.max(cr.bitLength(),dr)+1);hr.fill(0);for(var fr=1<<ur+1,mr=cr.clone(),br=0;br<hr.length;br++){var pr,gr=mr.andln(fr-1);mr.isOdd()?(pr=gr>(fr>>1)-1?(fr>>1)-gr:gr,mr.isubn(pr)):pr=0,hr[br]=pr,mr.iushrn(1)}return hr},ar.getJSF=function(cr,ur){var dr=[[],[]];cr=cr.clone(),ur=ur.clone();for(var hr,fr=0,mr=0;cr.cmpn(-fr)>0||ur.cmpn(-mr)>0;){var br,pr,gr=cr.andln(3)+fr&3,yr=ur.andln(3)+mr&3;gr===3&&(gr=-1),yr===3&&(yr=-1),br=1&gr?(hr=cr.andln(7)+fr&7)!==3&&hr!==5||yr!==2?gr:-gr:0,dr[0].push(br),pr=1&yr?(hr=ur.andln(7)+mr&7)!==3&&hr!==5||gr!==2?yr:-yr:0,dr[1].push(pr),2*fr===br+1&&(fr=1-fr),2*mr===pr+1&&(mr=1-mr),cr.iushrn(1),ur.iushrn(1)}return dr},ar.cachedProperty=function(cr,ur,dr){var hr="_"+ur;cr.prototype[ur]=function(){return this[hr]!==void 0?this[hr]:this[hr]=dr.call(this)}},ar.parseBytes=function(cr){return typeof cr=="string"?ar.toArray(cr,"hex"):cr},ar.intFromLE=function(cr){return new sr(cr,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(rr,nr,ir){arguments[4][184][0].apply(ir,arguments)},{buffer:188,dup:184}],421:[function(rr,nr,ir){nr.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(rr,nr,ir){var ar=Object.create||function(Tr){var Ir=function(){};return Ir.prototype=Tr,new Ir},sr=Object.keys||function(Tr){var Ir=[];for(var Lr in Tr)Object.prototype.hasOwnProperty.call(Tr,Lr)&&Ir.push(Lr);return Lr},lr=Function.prototype.bind||function(Tr){var Ir=this;return function(){return Ir.apply(Tr,arguments)}};function or(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=ar(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}nr.exports=or,or.EventEmitter=or,or.prototype._events=void 0,or.prototype._maxListeners=void 0;var cr,ur=10;try{var dr={};Object.defineProperty&&Object.defineProperty(dr,"x",{value:0}),cr=dr.x===0}catch{cr=!1}function hr(Tr){return Tr._maxListeners===void 0?or.defaultMaxListeners:Tr._maxListeners}function fr(Tr,Ir,Lr){if(Ir)Tr.call(Lr);else for(var Nr=Tr.length,Or=Cr(Tr,Nr),Pr=0;Pr<Nr;++Pr)Or[Pr].call(Lr)}function mr(Tr,Ir,Lr,Nr){if(Ir)Tr.call(Lr,Nr);else for(var Or=Tr.length,Pr=Cr(Tr,Or),Mr=0;Mr<Or;++Mr)Pr[Mr].call(Lr,Nr)}function br(Tr,Ir,Lr,Nr,Or){if(Ir)Tr.call(Lr,Nr,Or);else for(var Pr=Tr.length,Mr=Cr(Tr,Pr),jr=0;jr<Pr;++jr)Mr[jr].call(Lr,Nr,Or)}function pr(Tr,Ir,Lr,Nr,Or,Pr){if(Ir)Tr.call(Lr,Nr,Or,Pr);else for(var Mr=Tr.length,jr=Cr(Tr,Mr),wr=0;wr<Mr;++wr)jr[wr].call(Lr,Nr,Or,Pr)}function gr(Tr,Ir,Lr,Nr){if(Ir)Tr.apply(Lr,Nr);else for(var Or=Tr.length,Pr=Cr(Tr,Or),Mr=0;Mr<Or;++Mr)Pr[Mr].apply(Lr,Nr)}function yr(Tr,Ir,Lr,Nr){var Or,Pr,Mr;if(typeof Lr!="function")throw new TypeError('"listener" argument must be a function');if((Pr=Tr._events)?(Pr.newListener&&(Tr.emit("newListener",Ir,Lr.listener?Lr.listener:Lr),Pr=Tr._events),Mr=Pr[Ir]):(Pr=Tr._events=ar(null),Tr._eventsCount=0),Mr){if(typeof Mr=="function"?Mr=Pr[Ir]=Nr?[Lr,Mr]:[Mr,Lr]:Nr?Mr.unshift(Lr):Mr.push(Lr),!Mr.warned&&(Or=hr(Tr))&&Or>0&&Mr.length>Or){Mr.warned=!0;var jr=new Error("Possible EventEmitter memory leak detected. "+Mr.length+' "'+String(Ir)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');jr.name="MaxListenersExceededWarning",jr.emitter=Tr,jr.type=Ir,jr.count=Mr.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",jr.name,jr.message)}}else Mr=Pr[Ir]=Lr,++Tr._eventsCount;return Tr}function vr(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var Tr=new Array(arguments.length),Ir=0;Ir<Tr.length;++Ir)Tr[Ir]=arguments[Ir];this.listener.apply(this.target,Tr)}}function _r(Tr,Ir,Lr){var Nr={fired:!1,wrapFn:void 0,target:Tr,type:Ir,listener:Lr},Or=lr.call(vr,Nr);return Or.listener=Lr,Nr.wrapFn=Or,Or}function xr(Tr,Ir,Lr){var Nr=Tr._events;if(!Nr)return[];var Or=Nr[Ir];return Or?typeof Or=="function"?Lr?[Or.listener||Or]:[Or]:Lr?function(Pr){for(var Mr=new Array(Pr.length),jr=0;jr<Mr.length;++jr)Mr[jr]=Pr[jr].listener||Pr[jr];return Mr}(Or):Cr(Or,Or.length):[]}function Rr(Tr){var Ir=this._events;if(Ir){var Lr=Ir[Tr];if(typeof Lr=="function")return 1;if(Lr)return Lr.length}return 0}function Cr(Tr,Ir){for(var Lr=new Array(Ir),Nr=0;Nr<Ir;++Nr)Lr[Nr]=Tr[Nr];return Lr}cr?Object.defineProperty(or,"defaultMaxListeners",{enumerable:!0,get:function(){return ur},set:function(Tr){if(typeof Tr!="number"||Tr<0||Tr!=Tr)throw new TypeError('"defaultMaxListeners" must be a positive number');ur=Tr}}):or.defaultMaxListeners=ur,or.prototype.setMaxListeners=function(Tr){if(typeof Tr!="number"||Tr<0||isNaN(Tr))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Tr,this},or.prototype.getMaxListeners=function(){return hr(this)},or.prototype.emit=function(Tr){var Ir,Lr,Nr,Or,Pr,Mr,jr=Tr==="error";if(Mr=this._events)jr=jr&&Mr.error==null;else if(!jr)return!1;if(jr){if(arguments.length>1&&(Ir=arguments[1]),Ir instanceof Error)throw Ir;var wr=new Error('Unhandled "error" event. ('+Ir+")");throw wr.context=Ir,wr}if(!(Lr=Mr[Tr]))return!1;var Er=typeof Lr=="function";switch(Nr=arguments.length){case 1:fr(Lr,Er,this);break;case 2:mr(Lr,Er,this,arguments[1]);break;case 3:br(Lr,Er,this,arguments[1],arguments[2]);break;case 4:pr(Lr,Er,this,arguments[1],arguments[2],arguments[3]);break;default:for(Or=new Array(Nr-1),Pr=1;Pr<Nr;Pr++)Or[Pr-1]=arguments[Pr];gr(Lr,Er,this,Or)}return!0},or.prototype.addListener=function(Tr,Ir){return yr(this,Tr,Ir,!1)},or.prototype.on=or.prototype.addListener,or.prototype.prependListener=function(Tr,Ir){return yr(this,Tr,Ir,!0)},or.prototype.once=function(Tr,Ir){if(typeof Ir!="function")throw new TypeError('"listener" argument must be a function');return this.on(Tr,_r(this,Tr,Ir)),this},or.prototype.prependOnceListener=function(Tr,Ir){if(typeof Ir!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Tr,_r(this,Tr,Ir)),this},or.prototype.removeListener=function(Tr,Ir){var Lr,Nr,Or,Pr,Mr;if(typeof Ir!="function")throw new TypeError('"listener" argument must be a function');if(!(Nr=this._events))return this;if(!(Lr=Nr[Tr]))return this;if(Lr===Ir||Lr.listener===Ir)--this._eventsCount==0?this._events=ar(null):(delete Nr[Tr],Nr.removeListener&&this.emit("removeListener",Tr,Lr.listener||Ir));else if(typeof Lr!="function"){for(Or=-1,Pr=Lr.length-1;Pr>=0;Pr--)if(Lr[Pr]===Ir||Lr[Pr].listener===Ir){Mr=Lr[Pr].listener,Or=Pr;break}if(Or<0)return this;Or===0?Lr.shift():function(jr,wr){for(var Er=wr,Ar=Er+1,Sr=jr.length;Ar<Sr;Er+=1,Ar+=1)jr[Er]=jr[Ar];jr.pop()}(Lr,Or),Lr.length===1&&(Nr[Tr]=Lr[0]),Nr.removeListener&&this.emit("removeListener",Tr,Mr||Ir)}return this},or.prototype.removeAllListeners=function(Tr){var Ir,Lr,Nr;if(!(Lr=this._events))return this;if(!Lr.removeListener)return arguments.length===0?(this._events=ar(null),this._eventsCount=0):Lr[Tr]&&(--this._eventsCount==0?this._events=ar(null):delete Lr[Tr]),this;if(arguments.length===0){var Or,Pr=sr(Lr);for(Nr=0;Nr<Pr.length;++Nr)(Or=Pr[Nr])!=="removeListener"&&this.removeAllListeners(Or);return this.removeAllListeners("removeListener"),this._events=ar(null),this._eventsCount=0,this}if(typeof(Ir=Lr[Tr])=="function")this.removeListener(Tr,Ir);else if(Ir)for(Nr=Ir.length-1;Nr>=0;Nr--)this.removeListener(Tr,Ir[Nr]);return this},or.prototype.listeners=function(Tr){return xr(this,Tr,!0)},or.prototype.rawListeners=function(Tr){return xr(this,Tr,!1)},or.listenerCount=function(Tr,Ir){return typeof Tr.listenerCount=="function"?Tr.listenerCount(Ir):Rr.call(Tr,Ir)},or.prototype.listenerCount=Rr,or.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("md5.js");nr.exports=function(lr,or,cr,ur){if(ar.isBuffer(lr)||(lr=ar.from(lr,"binary")),or&&(ar.isBuffer(or)||(or=ar.from(or,"binary")),or.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var dr=cr/8,hr=ar.alloc(dr),fr=ar.alloc(ur||0),mr=ar.alloc(0);dr>0||ur>0;){var br=new sr;br.update(mr),br.update(lr),or&&br.update(or),mr=br.digest();var pr=0;if(dr>0){var gr=hr.length-dr;pr=Math.min(dr,mr.length),mr.copy(hr,gr,0,pr),dr-=pr}if(pr<mr.length&&ur>0){var yr=fr.length-ur,vr=Math.min(ur,mr.length-pr);mr.copy(fr,yr,pr,pr+vr),ur-=vr}}return mr.fill(0),{key:hr,iv:fr}}},{"md5.js":450,"safe-buffer":494}],424:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.CsvParserStream=ir.ParserOptions=ir.parseFile=ir.parseStream=ir.parseString=ir.parse=ir.FormatterOptions=ir.CsvFormatterStream=ir.writeToPath=ir.writeToString=ir.writeToBuffer=ir.writeToStream=ir.write=ir.format=void 0;var ar=rr("@fast-csv/format");Object.defineProperty(ir,"format",{enumerable:!0,get:function(){return ar.format}}),Object.defineProperty(ir,"write",{enumerable:!0,get:function(){return ar.write}}),Object.defineProperty(ir,"writeToStream",{enumerable:!0,get:function(){return ar.writeToStream}}),Object.defineProperty(ir,"writeToBuffer",{enumerable:!0,get:function(){return ar.writeToBuffer}}),Object.defineProperty(ir,"writeToString",{enumerable:!0,get:function(){return ar.writeToString}}),Object.defineProperty(ir,"writeToPath",{enumerable:!0,get:function(){return ar.writeToPath}}),Object.defineProperty(ir,"CsvFormatterStream",{enumerable:!0,get:function(){return ar.CsvFormatterStream}}),Object.defineProperty(ir,"FormatterOptions",{enumerable:!0,get:function(){return ar.FormatterOptions}});var sr=rr("@fast-csv/parse");Object.defineProperty(ir,"parse",{enumerable:!0,get:function(){return sr.parse}}),Object.defineProperty(ir,"parseString",{enumerable:!0,get:function(){return sr.parseString}}),Object.defineProperty(ir,"parseStream",{enumerable:!0,get:function(){return sr.parseStream}}),Object.defineProperty(ir,"parseFile",{enumerable:!0,get:function(){return sr.parseFile}}),Object.defineProperty(ir,"ParserOptions",{enumerable:!0,get:function(){return sr.ParserOptions}}),Object.defineProperty(ir,"CsvParserStream",{enumerable:!0,get:function(){return sr.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("readable-stream").Transform;function lr(or){sr.call(this),this._block=ar.allocUnsafe(or),this._blockSize=or,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}rr("inherits")(lr,sr),lr.prototype._transform=function(or,cr,ur){var dr=null;try{this.update(or,cr)}catch(hr){dr=hr}ur(dr)},lr.prototype._flush=function(or){var cr=null;try{this.push(this.digest())}catch(ur){cr=ur}or(cr)},lr.prototype.update=function(or,cr){if(function(br,pr){if(!ar.isBuffer(br)&&typeof br!="string")throw new TypeError(pr+" must be a string or a buffer")}(or,"Data"),this._finalized)throw new Error("Digest already called");ar.isBuffer(or)||(or=ar.from(or,cr));for(var ur=this._block,dr=0;this._blockOffset+or.length-dr>=this._blockSize;){for(var hr=this._blockOffset;hr<this._blockSize;)ur[hr++]=or[dr++];this._update(),this._blockOffset=0}for(;dr<or.length;)ur[this._blockOffset++]=or[dr++];for(var fr=0,mr=8*or.length;mr>0;++fr)this._length[fr]+=mr,(mr=this._length[fr]/4294967296|0)>0&&(this._length[fr]-=4294967296*mr);return this},lr.prototype._update=function(){throw new Error("_update is not implemented")},lr.prototype.digest=function(or){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var cr=this._digest();or!==void 0&&(cr=cr.toString(or)),this._block.fill(0),this._blockOffset=0;for(var ur=0;ur<4;++ur)this._length[ur]=0;return cr},lr.prototype._digest=function(){throw new Error("_digest is not implemented")},nr.exports=lr},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(rr,nr,ir){var ar=ir;ar.utils=rr("./hash/utils"),ar.common=rr("./hash/common"),ar.sha=rr("./hash/sha"),ar.ripemd=rr("./hash/ripemd"),ar.hmac=rr("./hash/hmac"),ar.sha1=ar.sha.sha1,ar.sha256=ar.sha.sha256,ar.sha224=ar.sha.sha224,ar.sha384=ar.sha.sha384,ar.sha512=ar.sha.sha512,ar.ripemd160=ar.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(rr,nr,ir){var ar=rr("./utils"),sr=rr("minimalistic-assert");function lr(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ir.BlockHash=lr,lr.prototype.update=function(or,cr){if(or=ar.toArray(or,cr),this.pending?this.pending=this.pending.concat(or):this.pending=or,this.pendingTotal+=or.length,this.pending.length>=this._delta8){var ur=(or=this.pending).length%this._delta8;this.pending=or.slice(or.length-ur,or.length),this.pending.length===0&&(this.pending=null),or=ar.join32(or,0,or.length-ur,this.endian);for(var dr=0;dr<or.length;dr+=this._delta32)this._update(or,dr,dr+this._delta32)}return this},lr.prototype.digest=function(or){return this.update(this._pad()),sr(this.pending===null),this._digest(or)},lr.prototype._pad=function(){var or=this.pendingTotal,cr=this._delta8,ur=cr-(or+this.padLength)%cr,dr=new Array(ur+this.padLength);dr[0]=128;for(var hr=1;hr<ur;hr++)dr[hr]=0;if(or<<=3,this.endian==="big"){for(var fr=8;fr<this.padLength;fr++)dr[hr++]=0;dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=or>>>24&255,dr[hr++]=or>>>16&255,dr[hr++]=or>>>8&255,dr[hr++]=255&or}else for(dr[hr++]=255&or,dr[hr++]=or>>>8&255,dr[hr++]=or>>>16&255,dr[hr++]=or>>>24&255,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,dr[hr++]=0,fr=8;fr<this.padLength;fr++)dr[hr++]=0;return dr}},{"./utils":437,"minimalistic-assert":453}],428:[function(rr,nr,ir){var ar=rr("./utils"),sr=rr("minimalistic-assert");function lr(or,cr,ur){if(!(this instanceof lr))return new lr(or,cr,ur);this.Hash=or,this.blockSize=or.blockSize/8,this.outSize=or.outSize/8,this.inner=null,this.outer=null,this._init(ar.toArray(cr,ur))}nr.exports=lr,lr.prototype._init=function(or){or.length>this.blockSize&&(or=new this.Hash().update(or).digest()),sr(or.length<=this.blockSize);for(var cr=or.length;cr<this.blockSize;cr++)or.push(0);for(cr=0;cr<or.length;cr++)or[cr]^=54;for(this.inner=new this.Hash().update(or),cr=0;cr<or.length;cr++)or[cr]^=106;this.outer=new this.Hash().update(or)},lr.prototype.update=function(or,cr){return this.inner.update(or,cr),this},lr.prototype.digest=function(or){return this.outer.update(this.inner.digest()),this.outer.digest(or)}},{"./utils":437,"minimalistic-assert":453}],429:[function(rr,nr,ir){var ar=rr("./utils"),sr=rr("./common"),lr=ar.rotl32,or=ar.sum32,cr=ar.sum32_3,ur=ar.sum32_4,dr=sr.BlockHash;function hr(){if(!(this instanceof hr))return new hr;dr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function fr(_r,xr,Rr,Cr){return _r<=15?xr^Rr^Cr:_r<=31?xr&Rr|~xr&Cr:_r<=47?(xr|~Rr)^Cr:_r<=63?xr&Cr|Rr&~Cr:xr^(Rr|~Cr)}function mr(_r){return _r<=15?0:_r<=31?1518500249:_r<=47?1859775393:_r<=63?2400959708:2840853838}function br(_r){return _r<=15?1352829926:_r<=31?1548603684:_r<=47?1836072691:_r<=63?2053994217:0}ar.inherits(hr,dr),ir.ripemd160=hr,hr.blockSize=512,hr.outSize=160,hr.hmacStrength=192,hr.padLength=64,hr.prototype._update=function(_r,xr){for(var Rr=this.h[0],Cr=this.h[1],Tr=this.h[2],Ir=this.h[3],Lr=this.h[4],Nr=Rr,Or=Cr,Pr=Tr,Mr=Ir,jr=Lr,wr=0;wr<80;wr++){var Er=or(lr(ur(Rr,fr(wr,Cr,Tr,Ir),_r[pr[wr]+xr],mr(wr)),yr[wr]),Lr);Rr=Lr,Lr=Ir,Ir=lr(Tr,10),Tr=Cr,Cr=Er,Er=or(lr(ur(Nr,fr(79-wr,Or,Pr,Mr),_r[gr[wr]+xr],br(wr)),vr[wr]),jr),Nr=jr,jr=Mr,Mr=lr(Pr,10),Pr=Or,Or=Er}Er=cr(this.h[1],Tr,Mr),this.h[1]=cr(this.h[2],Ir,jr),this.h[2]=cr(this.h[3],Lr,Nr),this.h[3]=cr(this.h[4],Rr,Or),this.h[4]=cr(this.h[0],Cr,Pr),this.h[0]=Er},hr.prototype._digest=function(_r){return _r==="hex"?ar.toHex32(this.h,"little"):ar.split32(this.h,"little")};var pr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(rr,nr,ir){ir.sha1=rr("./sha/1"),ir.sha224=rr("./sha/224"),ir.sha256=rr("./sha/256"),ir.sha384=rr("./sha/384"),ir.sha512=rr("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("../common"),lr=rr("./common"),or=ar.rotl32,cr=ar.sum32,ur=ar.sum32_5,dr=lr.ft_1,hr=sr.BlockHash,fr=[1518500249,1859775393,2400959708,3395469782];function mr(){if(!(this instanceof mr))return new mr;hr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ar.inherits(mr,hr),nr.exports=mr,mr.blockSize=512,mr.outSize=160,mr.hmacStrength=80,mr.padLength=64,mr.prototype._update=function(br,pr){for(var gr=this.W,yr=0;yr<16;yr++)gr[yr]=br[pr+yr];for(;yr<gr.length;yr++)gr[yr]=or(gr[yr-3]^gr[yr-8]^gr[yr-14]^gr[yr-16],1);var vr=this.h[0],_r=this.h[1],xr=this.h[2],Rr=this.h[3],Cr=this.h[4];for(yr=0;yr<gr.length;yr++){var Tr=~~(yr/20),Ir=ur(or(vr,5),dr(Tr,_r,xr,Rr),Cr,gr[yr],fr[Tr]);Cr=Rr,Rr=xr,xr=or(_r,30),_r=vr,vr=Ir}this.h[0]=cr(this.h[0],vr),this.h[1]=cr(this.h[1],_r),this.h[2]=cr(this.h[2],xr),this.h[3]=cr(this.h[3],Rr),this.h[4]=cr(this.h[4],Cr)},mr.prototype._digest=function(br){return br==="hex"?ar.toHex32(this.h,"big"):ar.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("./256");function lr(){if(!(this instanceof lr))return new lr;sr.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ar.inherits(lr,sr),nr.exports=lr,lr.blockSize=512,lr.outSize=224,lr.hmacStrength=192,lr.padLength=64,lr.prototype._digest=function(or){return or==="hex"?ar.toHex32(this.h.slice(0,7),"big"):ar.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("../common"),lr=rr("./common"),or=rr("minimalistic-assert"),cr=ar.sum32,ur=ar.sum32_4,dr=ar.sum32_5,hr=lr.ch32,fr=lr.maj32,mr=lr.s0_256,br=lr.s1_256,pr=lr.g0_256,gr=lr.g1_256,yr=sr.BlockHash,vr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _r(){if(!(this instanceof _r))return new _r;yr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=vr,this.W=new Array(64)}ar.inherits(_r,yr),nr.exports=_r,_r.blockSize=512,_r.outSize=256,_r.hmacStrength=192,_r.padLength=64,_r.prototype._update=function(xr,Rr){for(var Cr=this.W,Tr=0;Tr<16;Tr++)Cr[Tr]=xr[Rr+Tr];for(;Tr<Cr.length;Tr++)Cr[Tr]=ur(gr(Cr[Tr-2]),Cr[Tr-7],pr(Cr[Tr-15]),Cr[Tr-16]);var Ir=this.h[0],Lr=this.h[1],Nr=this.h[2],Or=this.h[3],Pr=this.h[4],Mr=this.h[5],jr=this.h[6],wr=this.h[7];for(or(this.k.length===Cr.length),Tr=0;Tr<Cr.length;Tr++){var Er=dr(wr,br(Pr),hr(Pr,Mr,jr),this.k[Tr],Cr[Tr]),Ar=cr(mr(Ir),fr(Ir,Lr,Nr));wr=jr,jr=Mr,Mr=Pr,Pr=cr(Or,Er),Or=Nr,Nr=Lr,Lr=Ir,Ir=cr(Er,Ar)}this.h[0]=cr(this.h[0],Ir),this.h[1]=cr(this.h[1],Lr),this.h[2]=cr(this.h[2],Nr),this.h[3]=cr(this.h[3],Or),this.h[4]=cr(this.h[4],Pr),this.h[5]=cr(this.h[5],Mr),this.h[6]=cr(this.h[6],jr),this.h[7]=cr(this.h[7],wr)},_r.prototype._digest=function(xr){return xr==="hex"?ar.toHex32(this.h,"big"):ar.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("./512");function lr(){if(!(this instanceof lr))return new lr;sr.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ar.inherits(lr,sr),nr.exports=lr,lr.blockSize=1024,lr.outSize=384,lr.hmacStrength=192,lr.padLength=128,lr.prototype._digest=function(or){return or==="hex"?ar.toHex32(this.h.slice(0,12),"big"):ar.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(rr,nr,ir){var ar=rr("../utils"),sr=rr("../common"),lr=rr("minimalistic-assert"),or=ar.rotr64_hi,cr=ar.rotr64_lo,ur=ar.shr64_hi,dr=ar.shr64_lo,hr=ar.sum64,fr=ar.sum64_hi,mr=ar.sum64_lo,br=ar.sum64_4_hi,pr=ar.sum64_4_lo,gr=ar.sum64_5_hi,yr=ar.sum64_5_lo,vr=sr.BlockHash,_r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xr(){if(!(this instanceof xr))return new xr;vr.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_r,this.W=new Array(160)}function Rr(Ar,Sr,Dr,Wr,$r){var Vr=Ar&Dr^~Ar&$r;return Vr<0&&(Vr+=4294967296),Vr}function Cr(Ar,Sr,Dr,Wr,$r,Vr){var zr=Sr&Wr^~Sr&Vr;return zr<0&&(zr+=4294967296),zr}function Tr(Ar,Sr,Dr,Wr,$r){var Vr=Ar&Dr^Ar&$r^Dr&$r;return Vr<0&&(Vr+=4294967296),Vr}function Ir(Ar,Sr,Dr,Wr,$r,Vr){var zr=Sr&Wr^Sr&Vr^Wr&Vr;return zr<0&&(zr+=4294967296),zr}function Lr(Ar,Sr){var Dr=or(Ar,Sr,28)^or(Sr,Ar,2)^or(Sr,Ar,7);return Dr<0&&(Dr+=4294967296),Dr}function Nr(Ar,Sr){var Dr=cr(Ar,Sr,28)^cr(Sr,Ar,2)^cr(Sr,Ar,7);return Dr<0&&(Dr+=4294967296),Dr}function Or(Ar,Sr){var Dr=or(Ar,Sr,14)^or(Ar,Sr,18)^or(Sr,Ar,9);return Dr<0&&(Dr+=4294967296),Dr}function Pr(Ar,Sr){var Dr=cr(Ar,Sr,14)^cr(Ar,Sr,18)^cr(Sr,Ar,9);return Dr<0&&(Dr+=4294967296),Dr}function Mr(Ar,Sr){var Dr=or(Ar,Sr,1)^or(Ar,Sr,8)^ur(Ar,Sr,7);return Dr<0&&(Dr+=4294967296),Dr}function jr(Ar,Sr){var Dr=cr(Ar,Sr,1)^cr(Ar,Sr,8)^dr(Ar,Sr,7);return Dr<0&&(Dr+=4294967296),Dr}function wr(Ar,Sr){var Dr=or(Ar,Sr,19)^or(Sr,Ar,29)^ur(Ar,Sr,6);return Dr<0&&(Dr+=4294967296),Dr}function Er(Ar,Sr){var Dr=cr(Ar,Sr,19)^cr(Sr,Ar,29)^dr(Ar,Sr,6);return Dr<0&&(Dr+=4294967296),Dr}ar.inherits(xr,vr),nr.exports=xr,xr.blockSize=1024,xr.outSize=512,xr.hmacStrength=192,xr.padLength=128,xr.prototype._prepareBlock=function(Ar,Sr){for(var Dr=this.W,Wr=0;Wr<32;Wr++)Dr[Wr]=Ar[Sr+Wr];for(;Wr<Dr.length;Wr+=2){var $r=wr(Dr[Wr-4],Dr[Wr-3]),Vr=Er(Dr[Wr-4],Dr[Wr-3]),zr=Dr[Wr-14],Gr=Dr[Wr-13],Fr=Mr(Dr[Wr-30],Dr[Wr-29]),Xr=jr(Dr[Wr-30],Dr[Wr-29]),Ur=Dr[Wr-32],Br=Dr[Wr-31];Dr[Wr]=br($r,Vr,zr,Gr,Fr,Xr,Ur,Br),Dr[Wr+1]=pr($r,Vr,zr,Gr,Fr,Xr,Ur,Br)}},xr.prototype._update=function(Ar,Sr){this._prepareBlock(Ar,Sr);var Dr=this.W,Wr=this.h[0],$r=this.h[1],Vr=this.h[2],zr=this.h[3],Gr=this.h[4],Fr=this.h[5],Xr=this.h[6],Ur=this.h[7],Br=this.h[8],Kr=this.h[9],Zr=this.h[10],tn=this.h[11],sn=this.h[12],un=this.h[13],hn=this.h[14],Jr=this.h[15];lr(this.k.length===Dr.length);for(var nn=0;nn<Dr.length;nn+=2){var rn=hn,on=Jr,fn=Or(Br,Kr),mn=Pr(Br,Kr),yn=Rr(Br,Kr,Zr,tn,sn),Rn=Cr(Br,Kr,Zr,tn,sn,un),In=this.k[nn],Sn=this.k[nn+1],Dn=Dr[nn],zn=Dr[nn+1],rs=gr(rn,on,fn,mn,yn,Rn,In,Sn,Dn,zn),ns=yr(rn,on,fn,mn,yn,Rn,In,Sn,Dn,zn);rn=Lr(Wr,$r),on=Nr(Wr,$r),fn=Tr(Wr,$r,Vr,zr,Gr),mn=Ir(Wr,$r,Vr,zr,Gr,Fr);var fs=fr(rn,on,fn,mn),qn=mr(rn,on,fn,mn);hn=sn,Jr=un,sn=Zr,un=tn,Zr=Br,tn=Kr,Br=fr(Xr,Ur,rs,ns),Kr=mr(Ur,Ur,rs,ns),Xr=Gr,Ur=Fr,Gr=Vr,Fr=zr,Vr=Wr,zr=$r,Wr=fr(rs,ns,fs,qn),$r=mr(rs,ns,fs,qn)}hr(this.h,0,Wr,$r),hr(this.h,2,Vr,zr),hr(this.h,4,Gr,Fr),hr(this.h,6,Xr,Ur),hr(this.h,8,Br,Kr),hr(this.h,10,Zr,tn),hr(this.h,12,sn,un),hr(this.h,14,hn,Jr)},xr.prototype._digest=function(Ar){return Ar==="hex"?ar.toHex32(this.h,"big"):ar.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(rr,nr,ir){var ar=rr("../utils").rotr32;function sr(cr,ur,dr){return cr&ur^~cr&dr}function lr(cr,ur,dr){return cr&ur^cr&dr^ur&dr}function or(cr,ur,dr){return cr^ur^dr}ir.ft_1=function(cr,ur,dr,hr){return cr===0?sr(ur,dr,hr):cr===1||cr===3?or(ur,dr,hr):cr===2?lr(ur,dr,hr):void 0},ir.ch32=sr,ir.maj32=lr,ir.p32=or,ir.s0_256=function(cr){return ar(cr,2)^ar(cr,13)^ar(cr,22)},ir.s1_256=function(cr){return ar(cr,6)^ar(cr,11)^ar(cr,25)},ir.g0_256=function(cr){return ar(cr,7)^ar(cr,18)^cr>>>3},ir.g1_256=function(cr){return ar(cr,17)^ar(cr,19)^cr>>>10}},{"../utils":437}],437:[function(rr,nr,ir){var ar=rr("minimalistic-assert"),sr=rr("inherits");function lr(dr,hr){return(64512&dr.charCodeAt(hr))==55296&&!(hr<0||hr+1>=dr.length)&&(64512&dr.charCodeAt(hr+1))==56320}function or(dr){return(dr>>>24|dr>>>8&65280|dr<<8&16711680|(255&dr)<<24)>>>0}function cr(dr){return dr.length===1?"0"+dr:dr}function ur(dr){return dr.length===7?"0"+dr:dr.length===6?"00"+dr:dr.length===5?"000"+dr:dr.length===4?"0000"+dr:dr.length===3?"00000"+dr:dr.length===2?"000000"+dr:dr.length===1?"0000000"+dr:dr}ir.inherits=sr,ir.toArray=function(dr,hr){if(Array.isArray(dr))return dr.slice();if(!dr)return[];var fr=[];if(typeof dr=="string")if(hr){if(hr==="hex")for((dr=dr.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(dr="0"+dr),br=0;br<dr.length;br+=2)fr.push(parseInt(dr[br]+dr[br+1],16))}else for(var mr=0,br=0;br<dr.length;br++){var pr=dr.charCodeAt(br);pr<128?fr[mr++]=pr:pr<2048?(fr[mr++]=pr>>6|192,fr[mr++]=63&pr|128):lr(dr,br)?(pr=65536+((1023&pr)<<10)+(1023&dr.charCodeAt(++br)),fr[mr++]=pr>>18|240,fr[mr++]=pr>>12&63|128,fr[mr++]=pr>>6&63|128,fr[mr++]=63&pr|128):(fr[mr++]=pr>>12|224,fr[mr++]=pr>>6&63|128,fr[mr++]=63&pr|128)}else for(br=0;br<dr.length;br++)fr[br]=0|dr[br];return fr},ir.toHex=function(dr){for(var hr="",fr=0;fr<dr.length;fr++)hr+=cr(dr[fr].toString(16));return hr},ir.htonl=or,ir.toHex32=function(dr,hr){for(var fr="",mr=0;mr<dr.length;mr++){var br=dr[mr];hr==="little"&&(br=or(br)),fr+=ur(br.toString(16))}return fr},ir.zero2=cr,ir.zero8=ur,ir.join32=function(dr,hr,fr,mr){var br=fr-hr;ar(br%4==0);for(var pr=new Array(br/4),gr=0,yr=hr;gr<pr.length;gr++,yr+=4){var vr;vr=mr==="big"?dr[yr]<<24|dr[yr+1]<<16|dr[yr+2]<<8|dr[yr+3]:dr[yr+3]<<24|dr[yr+2]<<16|dr[yr+1]<<8|dr[yr],pr[gr]=vr>>>0}return pr},ir.split32=function(dr,hr){for(var fr=new Array(4*dr.length),mr=0,br=0;mr<dr.length;mr++,br+=4){var pr=dr[mr];hr==="big"?(fr[br]=pr>>>24,fr[br+1]=pr>>>16&255,fr[br+2]=pr>>>8&255,fr[br+3]=255&pr):(fr[br+3]=pr>>>24,fr[br+2]=pr>>>16&255,fr[br+1]=pr>>>8&255,fr[br]=255&pr)}return fr},ir.rotr32=function(dr,hr){return dr>>>hr|dr<<32-hr},ir.rotl32=function(dr,hr){return dr<<hr|dr>>>32-hr},ir.sum32=function(dr,hr){return dr+hr>>>0},ir.sum32_3=function(dr,hr,fr){return dr+hr+fr>>>0},ir.sum32_4=function(dr,hr,fr,mr){return dr+hr+fr+mr>>>0},ir.sum32_5=function(dr,hr,fr,mr,br){return dr+hr+fr+mr+br>>>0},ir.sum64=function(dr,hr,fr,mr){var br=dr[hr],pr=mr+dr[hr+1]>>>0,gr=(pr<mr?1:0)+fr+br;dr[hr]=gr>>>0,dr[hr+1]=pr},ir.sum64_hi=function(dr,hr,fr,mr){return(hr+mr>>>0<hr?1:0)+dr+fr>>>0},ir.sum64_lo=function(dr,hr,fr,mr){return hr+mr>>>0},ir.sum64_4_hi=function(dr,hr,fr,mr,br,pr,gr,yr){var vr=0,_r=hr;return vr+=(_r=_r+mr>>>0)<hr?1:0,vr+=(_r=_r+pr>>>0)<pr?1:0,dr+fr+br+gr+(vr+=(_r=_r+yr>>>0)<yr?1:0)>>>0},ir.sum64_4_lo=function(dr,hr,fr,mr,br,pr,gr,yr){return hr+mr+pr+yr>>>0},ir.sum64_5_hi=function(dr,hr,fr,mr,br,pr,gr,yr,vr,_r){var xr=0,Rr=hr;return xr+=(Rr=Rr+mr>>>0)<hr?1:0,xr+=(Rr=Rr+pr>>>0)<pr?1:0,xr+=(Rr=Rr+yr>>>0)<yr?1:0,dr+fr+br+gr+vr+(xr+=(Rr=Rr+_r>>>0)<_r?1:0)>>>0},ir.sum64_5_lo=function(dr,hr,fr,mr,br,pr,gr,yr,vr,_r){return hr+mr+pr+yr+_r>>>0},ir.rotr64_hi=function(dr,hr,fr){return(hr<<32-fr|dr>>>fr)>>>0},ir.rotr64_lo=function(dr,hr,fr){return(dr<<32-fr|hr>>>fr)>>>0},ir.shr64_hi=function(dr,hr,fr){return dr>>>fr},ir.shr64_lo=function(dr,hr,fr){return(dr<<32-fr|hr>>>fr)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(rr,nr,ir){var ar=rr("hash.js"),sr=rr("minimalistic-crypto-utils"),lr=rr("minimalistic-assert");function or(cr){if(!(this instanceof or))return new or(cr);this.hash=cr.hash,this.predResist=!!cr.predResist,this.outLen=this.hash.outSize,this.minEntropy=cr.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ur=sr.toArray(cr.entropy,cr.entropyEnc||"hex"),dr=sr.toArray(cr.nonce,cr.nonceEnc||"hex"),hr=sr.toArray(cr.pers,cr.persEnc||"hex");lr(ur.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ur,dr,hr)}nr.exports=or,or.prototype._init=function(cr,ur,dr){var hr=cr.concat(ur).concat(dr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var fr=0;fr<this.V.length;fr++)this.K[fr]=0,this.V[fr]=1;this._update(hr),this._reseed=1,this.reseedInterval=281474976710656},or.prototype._hmac=function(){return new ar.hmac(this.hash,this.K)},or.prototype._update=function(cr){var ur=this._hmac().update(this.V).update([0]);cr&&(ur=ur.update(cr)),this.K=ur.digest(),this.V=this._hmac().update(this.V).digest(),cr&&(this.K=this._hmac().update(this.V).update([1]).update(cr).digest(),this.V=this._hmac().update(this.V).digest())},or.prototype.reseed=function(cr,ur,dr,hr){typeof ur!="string"&&(hr=dr,dr=ur,ur=null),cr=sr.toArray(cr,ur),dr=sr.toArray(dr,hr),lr(cr.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(cr.concat(dr||[])),this._reseed=1},or.prototype.generate=function(cr,ur,dr,hr){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof ur!="string"&&(hr=dr,dr=ur,ur=null),dr&&(dr=sr.toArray(dr,hr||"hex"),this._update(dr));for(var fr=[];fr.length<cr;)this.V=this._hmac().update(this.V).digest(),fr=fr.concat(this.V);var mr=fr.slice(0,cr);return this._update(dr),this._reseed++,sr.encode(mr,ur)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(rr,nr,ir){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ir.read=function(ar,sr,lr,or,cr){var ur,dr,hr=8*cr-or-1,fr=(1<<hr)-1,mr=fr>>1,br=-7,pr=lr?cr-1:0,gr=lr?-1:1,yr=ar[sr+pr];for(pr+=gr,ur=yr&(1<<-br)-1,yr>>=-br,br+=hr;br>0;ur=256*ur+ar[sr+pr],pr+=gr,br-=8);for(dr=ur&(1<<-br)-1,ur>>=-br,br+=or;br>0;dr=256*dr+ar[sr+pr],pr+=gr,br-=8);if(ur===0)ur=1-mr;else{if(ur===fr)return dr?NaN:1/0*(yr?-1:1);dr+=Math.pow(2,or),ur-=mr}return(yr?-1:1)*dr*Math.pow(2,ur-or)},ir.write=function(ar,sr,lr,or,cr,ur){var dr,hr,fr,mr=8*ur-cr-1,br=(1<<mr)-1,pr=br>>1,gr=cr===23?Math.pow(2,-24)-Math.pow(2,-77):0,yr=or?0:ur-1,vr=or?1:-1,_r=sr<0||sr===0&&1/sr<0?1:0;for(sr=Math.abs(sr),isNaN(sr)||sr===1/0?(hr=isNaN(sr)?1:0,dr=br):(dr=Math.floor(Math.log(sr)/Math.LN2),sr*(fr=Math.pow(2,-dr))<1&&(dr--,fr*=2),(sr+=dr+pr>=1?gr/fr:gr*Math.pow(2,1-pr))*fr>=2&&(dr++,fr/=2),dr+pr>=br?(hr=0,dr=br):dr+pr>=1?(hr=(sr*fr-1)*Math.pow(2,cr),dr+=pr):(hr=sr*Math.pow(2,pr-1)*Math.pow(2,cr),dr=0));cr>=8;ar[lr+yr]=255&hr,yr+=vr,hr/=256,cr-=8);for(dr=dr<<cr|hr,mr+=cr;mr>0;ar[lr+yr]=255&dr,yr+=vr,dr/=256,mr-=8);ar[lr+yr-vr]|=128*_r}},{}],440:[function(rr,nr,ir){typeof Object.create=="function"?nr.exports=function(ar,sr){sr&&(ar.super_=sr,ar.prototype=Object.create(sr.prototype,{constructor:{value:ar,enumerable:!1,writable:!0,configurable:!0}}))}:nr.exports=function(ar,sr){if(sr){ar.super_=sr;var lr=function(){};lr.prototype=sr.prototype,ar.prototype=new lr,ar.prototype.constructor=ar}}},{}],441:[function(rr,nr,ir){(function(ar,sr,lr,or,cr,ur,dr,hr){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(fr){typeof ir=="object"&&nr!==void 0?nr.exports=fr():(typeof window<"u"?window:sr!==void 0?sr:typeof self<"u"?self:this).JSZip=fr()})(function(){return function fr(mr,br,pr){function gr(_r,xr){if(!br[_r]){if(!mr[_r]){var Rr=typeof rr=="function"&&rr;if(!xr&&Rr)return Rr(_r,!0);if(yr)return yr(_r,!0);var Cr=new Error("Cannot find module '"+_r+"'");throw Cr.code="MODULE_NOT_FOUND",Cr}var Tr=br[_r]={exports:{}};mr[_r][0].call(Tr.exports,function(Ir){return gr(mr[_r][1][Ir]||Ir)},Tr,Tr.exports,fr,mr,br,pr)}return br[_r].exports}for(var yr=typeof rr=="function"&&rr,vr=0;vr<pr.length;vr++)gr(pr[vr]);return gr}({1:[function(fr,mr,br){var pr=fr("./utils"),gr=fr("./support"),yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";br.encode=function(vr){for(var _r,xr,Rr,Cr,Tr,Ir,Lr,Nr=[],Or=0,Pr=vr.length,Mr=Pr,jr=pr.getTypeOf(vr)!=="string";Or<vr.length;)Mr=Pr-Or,Rr=jr?(_r=vr[Or++],xr=Or<Pr?vr[Or++]:0,Or<Pr?vr[Or++]:0):(_r=vr.charCodeAt(Or++),xr=Or<Pr?vr.charCodeAt(Or++):0,Or<Pr?vr.charCodeAt(Or++):0),Cr=_r>>2,Tr=(3&_r)<<4|xr>>4,Ir=1<Mr?(15&xr)<<2|Rr>>6:64,Lr=2<Mr?63&Rr:64,Nr.push(yr.charAt(Cr)+yr.charAt(Tr)+yr.charAt(Ir)+yr.charAt(Lr));return Nr.join("")},br.decode=function(vr){var _r,xr,Rr,Cr,Tr,Ir,Lr=0,Nr=0,Or="data:";if(vr.substr(0,Or.length)===Or)throw new Error("Invalid base64 input, it looks like a data url.");var Pr,Mr=3*(vr=vr.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(vr.charAt(vr.length-1)===yr.charAt(64)&&Mr--,vr.charAt(vr.length-2)===yr.charAt(64)&&Mr--,Mr%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Pr=gr.uint8array?new Uint8Array(0|Mr):new Array(0|Mr);Lr<vr.length;)_r=yr.indexOf(vr.charAt(Lr++))<<2|(Cr=yr.indexOf(vr.charAt(Lr++)))>>4,xr=(15&Cr)<<4|(Tr=yr.indexOf(vr.charAt(Lr++)))>>2,Rr=(3&Tr)<<6|(Ir=yr.indexOf(vr.charAt(Lr++))),Pr[Nr++]=_r,Tr!==64&&(Pr[Nr++]=xr),Ir!==64&&(Pr[Nr++]=Rr);return Pr}},{"./support":30,"./utils":32}],2:[function(fr,mr,br){var pr=fr("./external"),gr=fr("./stream/DataWorker"),yr=fr("./stream/Crc32Probe"),vr=fr("./stream/DataLengthProbe");function _r(xr,Rr,Cr,Tr,Ir){this.compressedSize=xr,this.uncompressedSize=Rr,this.crc32=Cr,this.compression=Tr,this.compressedContent=Ir}_r.prototype={getContentWorker:function(){var xr=new gr(pr.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new vr("data_length")),Rr=this;return xr.on("end",function(){if(this.streamInfo.data_length!==Rr.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),xr},getCompressedWorker:function(){return new gr(pr.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_r.createWorkerFrom=function(xr,Rr,Cr){return xr.pipe(new yr).pipe(new vr("uncompressedSize")).pipe(Rr.compressWorker(Cr)).pipe(new vr("compressedSize")).withStreamInfo("compression",Rr)},mr.exports=_r},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(fr,mr,br){var pr=fr("./stream/GenericWorker");br.STORE={magic:"\0\0",compressWorker:function(){return new pr("STORE compression")},uncompressWorker:function(){return new pr("STORE decompression")}},br.DEFLATE=fr("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(fr,mr,br){var pr=fr("./utils"),gr=function(){for(var yr,vr=[],_r=0;_r<256;_r++){yr=_r;for(var xr=0;xr<8;xr++)yr=1&yr?3988292384^yr>>>1:yr>>>1;vr[_r]=yr}return vr}();mr.exports=function(yr,vr){return yr!==void 0&&yr.length?pr.getTypeOf(yr)!=="string"?function(_r,xr,Rr,Cr){var Tr=gr,Ir=0+Rr;_r^=-1;for(var Lr=0;Lr<Ir;Lr++)_r=_r>>>8^Tr[255&(_r^xr[Lr])];return-1^_r}(0|vr,yr,yr.length):function(_r,xr,Rr,Cr){var Tr=gr,Ir=0+Rr;_r^=-1;for(var Lr=0;Lr<Ir;Lr++)_r=_r>>>8^Tr[255&(_r^xr.charCodeAt(Lr))];return-1^_r}(0|vr,yr,yr.length):0}},{"./utils":32}],5:[function(fr,mr,br){br.base64=!1,br.binary=!1,br.dir=!1,br.createFolders=!0,br.date=null,br.compression=null,br.compressionOptions=null,br.comment=null,br.unixPermissions=null,br.dosPermissions=null},{}],6:[function(fr,mr,br){var pr;pr=typeof Promise<"u"?Promise:fr("lie"),mr.exports={Promise:pr}},{lie:37}],7:[function(fr,mr,br){var pr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",gr=fr("pako"),yr=fr("./utils"),vr=fr("./stream/GenericWorker"),_r=pr?"uint8array":"array";function xr(Rr,Cr){vr.call(this,"FlateWorker/"+Rr),this._pako=null,this._pakoAction=Rr,this._pakoOptions=Cr,this.meta={}}br.magic="\b\0",yr.inherits(xr,vr),xr.prototype.processChunk=function(Rr){this.meta=Rr.meta,this._pako===null&&this._createPako(),this._pako.push(yr.transformTo(_r,Rr.data),!1)},xr.prototype.flush=function(){vr.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},xr.prototype.cleanUp=function(){vr.prototype.cleanUp.call(this),this._pako=null},xr.prototype._createPako=function(){this._pako=new gr[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Rr=this;this._pako.onData=function(Cr){Rr.push({data:Cr,meta:Rr.meta})}},br.compressWorker=function(Rr){return new xr("Deflate",Rr)},br.uncompressWorker=function(){return new xr("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(fr,mr,br){function pr(Tr,Ir){var Lr,Nr="";for(Lr=0;Lr<Ir;Lr++)Nr+=String.fromCharCode(255&Tr),Tr>>>=8;return Nr}function gr(Tr,Ir,Lr,Nr,Or,Pr){var Mr,jr,wr=Tr.file,Er=Tr.compression,Ar=Pr!==_r.utf8encode,Sr=yr.transformTo("string",Pr(wr.name)),Dr=yr.transformTo("string",_r.utf8encode(wr.name)),Wr=wr.comment,$r=yr.transformTo("string",Pr(Wr)),Vr=yr.transformTo("string",_r.utf8encode(Wr)),zr=Dr.length!==wr.name.length,Gr=Vr.length!==Wr.length,Fr="",Xr="",Ur="",Br=wr.dir,Kr=wr.date,Zr={crc32:0,compressedSize:0,uncompressedSize:0};Ir&&!Lr||(Zr.crc32=Tr.crc32,Zr.compressedSize=Tr.compressedSize,Zr.uncompressedSize=Tr.uncompressedSize);var tn=0;Ir&&(tn|=8),Ar||!zr&&!Gr||(tn|=2048);var sn=0,un=0;Br&&(sn|=16),Or==="UNIX"?(un=798,sn|=function(Jr,nn){var rn=Jr;return Jr||(rn=nn?16893:33204),(65535&rn)<<16}(wr.unixPermissions,Br)):(un=20,sn|=function(Jr){return 63&(Jr||0)}(wr.dosPermissions)),Mr=Kr.getUTCHours(),Mr<<=6,Mr|=Kr.getUTCMinutes(),Mr<<=5,Mr|=Kr.getUTCSeconds()/2,jr=Kr.getUTCFullYear()-1980,jr<<=4,jr|=Kr.getUTCMonth()+1,jr<<=5,jr|=Kr.getUTCDate(),zr&&(Xr=pr(1,1)+pr(xr(Sr),4)+Dr,Fr+="up"+pr(Xr.length,2)+Xr),Gr&&(Ur=pr(1,1)+pr(xr($r),4)+Vr,Fr+="uc"+pr(Ur.length,2)+Ur);var hn="";return hn+=`
\0`,hn+=pr(tn,2),hn+=Er.magic,hn+=pr(Mr,2),hn+=pr(jr,2),hn+=pr(Zr.crc32,4),hn+=pr(Zr.compressedSize,4),hn+=pr(Zr.uncompressedSize,4),hn+=pr(Sr.length,2),hn+=pr(Fr.length,2),{fileRecord:Rr.LOCAL_FILE_HEADER+hn+Sr+Fr,dirRecord:Rr.CENTRAL_FILE_HEADER+pr(un,2)+hn+pr($r.length,2)+"\0\0\0\0"+pr(sn,4)+pr(Nr,4)+Sr+Fr+$r}}var yr=fr("../utils"),vr=fr("../stream/GenericWorker"),_r=fr("../utf8"),xr=fr("../crc32"),Rr=fr("../signature");function Cr(Tr,Ir,Lr,Nr){vr.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Ir,this.zipPlatform=Lr,this.encodeFileName=Nr,this.streamFiles=Tr,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}yr.inherits(Cr,vr),Cr.prototype.push=function(Tr){var Ir=Tr.meta.percent||0,Lr=this.entriesCount,Nr=this._sources.length;this.accumulate?this.contentBuffer.push(Tr):(this.bytesWritten+=Tr.data.length,vr.prototype.push.call(this,{data:Tr.data,meta:{currentFile:this.currentFile,percent:Lr?(Ir+100*(Lr-Nr-1))/Lr:100}}))},Cr.prototype.openedSource=function(Tr){this.currentSourceOffset=this.bytesWritten,this.currentFile=Tr.file.name;var Ir=this.streamFiles&&!Tr.file.dir;if(Ir){var Lr=gr(Tr,Ir,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:Lr.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Cr.prototype.closedSource=function(Tr){this.accumulate=!1;var Ir=this.streamFiles&&!Tr.file.dir,Lr=gr(Tr,Ir,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(Lr.dirRecord),Ir)this.push({data:function(Nr){return Rr.DATA_DESCRIPTOR+pr(Nr.crc32,4)+pr(Nr.compressedSize,4)+pr(Nr.uncompressedSize,4)}(Tr),meta:{percent:100}});else for(this.push({data:Lr.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Cr.prototype.flush=function(){for(var Tr=this.bytesWritten,Ir=0;Ir<this.dirRecords.length;Ir++)this.push({data:this.dirRecords[Ir],meta:{percent:100}});var Lr=this.bytesWritten-Tr,Nr=function(Or,Pr,Mr,jr,wr){var Er=yr.transformTo("string",wr(jr));return Rr.CENTRAL_DIRECTORY_END+"\0\0\0\0"+pr(Or,2)+pr(Or,2)+pr(Pr,4)+pr(Mr,4)+pr(Er.length,2)+Er}(this.dirRecords.length,Lr,Tr,this.zipComment,this.encodeFileName);this.push({data:Nr,meta:{percent:100}})},Cr.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Cr.prototype.registerPrevious=function(Tr){this._sources.push(Tr);var Ir=this;return Tr.on("data",function(Lr){Ir.processChunk(Lr)}),Tr.on("end",function(){Ir.closedSource(Ir.previous.streamInfo),Ir._sources.length?Ir.prepareNextSource():Ir.end()}),Tr.on("error",function(Lr){Ir.error(Lr)}),this},Cr.prototype.resume=function(){return!!vr.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Cr.prototype.error=function(Tr){var Ir=this._sources;if(!vr.prototype.error.call(this,Tr))return!1;for(var Lr=0;Lr<Ir.length;Lr++)try{Ir[Lr].error(Tr)}catch{}return!0},Cr.prototype.lock=function(){vr.prototype.lock.call(this);for(var Tr=this._sources,Ir=0;Ir<Tr.length;Ir++)Tr[Ir].lock()},mr.exports=Cr},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(fr,mr,br){var pr=fr("../compressions"),gr=fr("./ZipFileWorker");br.generateWorker=function(yr,vr,_r){var xr=new gr(vr.streamFiles,_r,vr.platform,vr.encodeFileName),Rr=0;try{yr.forEach(function(Cr,Tr){Rr++;var Ir=function(Pr,Mr){var jr=Pr||Mr,wr=pr[jr];if(!wr)throw new Error(jr+" is not a valid compression method !");return wr}(Tr.options.compression,vr.compression),Lr=Tr.options.compressionOptions||vr.compressionOptions||{},Nr=Tr.dir,Or=Tr.date;Tr._compressWorker(Ir,Lr).withStreamInfo("file",{name:Cr,dir:Nr,date:Or,comment:Tr.comment||"",unixPermissions:Tr.unixPermissions,dosPermissions:Tr.dosPermissions}).pipe(xr)}),xr.entriesCount=Rr}catch(Cr){xr.error(Cr)}return xr}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(fr,mr,br){function pr(){if(!(this instanceof pr))return new pr;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var gr=new pr;for(var yr in this)typeof this[yr]!="function"&&(gr[yr]=this[yr]);return gr}}(pr.prototype=fr("./object")).loadAsync=fr("./load"),pr.support=fr("./support"),pr.defaults=fr("./defaults"),pr.version="3.10.1",pr.loadAsync=function(gr,yr){return new pr().loadAsync(gr,yr)},pr.external=fr("./external"),mr.exports=pr},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(fr,mr,br){var pr=fr("./utils"),gr=fr("./external"),yr=fr("./utf8"),vr=fr("./zipEntries"),_r=fr("./stream/Crc32Probe"),xr=fr("./nodejsUtils");function Rr(Cr){return new gr.Promise(function(Tr,Ir){var Lr=Cr.decompressed.getContentWorker().pipe(new _r);Lr.on("error",function(Nr){Ir(Nr)}).on("end",function(){Lr.streamInfo.crc32!==Cr.decompressed.crc32?Ir(new Error("Corrupted zip : CRC32 mismatch")):Tr()}).resume()})}mr.exports=function(Cr,Tr){var Ir=this;return Tr=pr.extend(Tr||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:yr.utf8decode}),xr.isNode&&xr.isStream(Cr)?gr.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):pr.prepareContent("the loaded zip file",Cr,!0,Tr.optimizedBinaryString,Tr.base64).then(function(Lr){var Nr=new vr(Tr);return Nr.load(Lr),Nr}).then(function(Lr){var Nr=[gr.Promise.resolve(Lr)],Or=Lr.files;if(Tr.checkCRC32)for(var Pr=0;Pr<Or.length;Pr++)Nr.push(Rr(Or[Pr]));return gr.Promise.all(Nr)}).then(function(Lr){for(var Nr=Lr.shift(),Or=Nr.files,Pr=0;Pr<Or.length;Pr++){var Mr=Or[Pr],jr=Mr.fileNameStr,wr=pr.resolve(Mr.fileNameStr);Ir.file(wr,Mr.decompressed,{binary:!0,optimizedBinaryString:!0,date:Mr.date,dir:Mr.dir,comment:Mr.fileCommentStr.length?Mr.fileCommentStr:null,unixPermissions:Mr.unixPermissions,dosPermissions:Mr.dosPermissions,createFolders:Tr.createFolders}),Mr.dir||(Ir.file(wr).unsafeOriginalName=jr)}return Nr.zipComment.length&&(Ir.comment=Nr.zipComment),Ir})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(fr,mr,br){var pr=fr("../utils"),gr=fr("../stream/GenericWorker");function yr(vr,_r){gr.call(this,"Nodejs stream input adapter for "+vr),this._upstreamEnded=!1,this._bindStream(_r)}pr.inherits(yr,gr),yr.prototype._bindStream=function(vr){var _r=this;(this._stream=vr).pause(),vr.on("data",function(xr){_r.push({data:xr,meta:{percent:0}})}).on("error",function(xr){_r.isPaused?this.generatedError=xr:_r.error(xr)}).on("end",function(){_r.isPaused?_r._upstreamEnded=!0:_r.end()})},yr.prototype.pause=function(){return!!gr.prototype.pause.call(this)&&(this._stream.pause(),!0)},yr.prototype.resume=function(){return!!gr.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},mr.exports=yr},{"../stream/GenericWorker":28,"../utils":32}],13:[function(fr,mr,br){var pr=fr("readable-stream").Readable;function gr(yr,vr,_r){pr.call(this,vr),this._helper=yr;var xr=this;yr.on("data",function(Rr,Cr){xr.push(Rr)||xr._helper.pause(),_r&&_r(Cr)}).on("error",function(Rr){xr.emit("error",Rr)}).on("end",function(){xr.push(null)})}fr("../utils").inherits(gr,pr),gr.prototype._read=function(){this._helper.resume()},mr.exports=gr},{"../utils":32,"readable-stream":16}],14:[function(fr,mr,br){mr.exports={isNode:lr!==void 0,newBufferFrom:function(pr,gr){if(lr.from&&lr.from!==Uint8Array.from)return lr.from(pr,gr);if(typeof pr=="number")throw new Error('The "data" argument must not be a number');return new lr(pr,gr)},allocBuffer:function(pr){if(lr.alloc)return lr.alloc(pr);var gr=new lr(pr);return gr.fill(0),gr},isBuffer:function(pr){return lr.isBuffer(pr)},isStream:function(pr){return pr&&typeof pr.on=="function"&&typeof pr.pause=="function"&&typeof pr.resume=="function"}}},{}],15:[function(fr,mr,br){function pr(wr,Er,Ar){var Sr,Dr=yr.getTypeOf(Er),Wr=yr.extend(Ar||{},xr);Wr.date=Wr.date||new Date,Wr.compression!==null&&(Wr.compression=Wr.compression.toUpperCase()),typeof Wr.unixPermissions=="string"&&(Wr.unixPermissions=parseInt(Wr.unixPermissions,8)),Wr.unixPermissions&&16384&Wr.unixPermissions&&(Wr.dir=!0),Wr.dosPermissions&&16&Wr.dosPermissions&&(Wr.dir=!0),Wr.dir&&(wr=Or(wr)),Wr.createFolders&&(Sr=Nr(wr))&&Pr.call(this,Sr,!0);var $r=Dr==="string"&&Wr.binary===!1&&Wr.base64===!1;Ar&&Ar.binary!==void 0||(Wr.binary=!$r),(Er instanceof Rr&&Er.uncompressedSize===0||Wr.dir||!Er||Er.length===0)&&(Wr.base64=!1,Wr.binary=!0,Er="",Wr.compression="STORE",Dr="string");var Vr;Vr=Er instanceof Rr||Er instanceof vr?Er:Ir.isNode&&Ir.isStream(Er)?new Lr(wr,Er):yr.prepareContent(wr,Er,Wr.binary,Wr.optimizedBinaryString,Wr.base64);var zr=new Cr(wr,Vr,Wr);this.files[wr]=zr}var gr=fr("./utf8"),yr=fr("./utils"),vr=fr("./stream/GenericWorker"),_r=fr("./stream/StreamHelper"),xr=fr("./defaults"),Rr=fr("./compressedObject"),Cr=fr("./zipObject"),Tr=fr("./generate"),Ir=fr("./nodejsUtils"),Lr=fr("./nodejs/NodejsStreamInputAdapter"),Nr=function(wr){wr.slice(-1)==="/"&&(wr=wr.substring(0,wr.length-1));var Er=wr.lastIndexOf("/");return 0<Er?wr.substring(0,Er):""},Or=function(wr){return wr.slice(-1)!=="/"&&(wr+="/"),wr},Pr=function(wr,Er){return Er=Er!==void 0?Er:xr.createFolders,wr=Or(wr),this.files[wr]||pr.call(this,wr,null,{dir:!0,createFolders:Er}),this.files[wr]};function Mr(wr){return Object.prototype.toString.call(wr)==="[object RegExp]"}var jr={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(wr){var Er,Ar,Sr;for(Er in this.files)Sr=this.files[Er],(Ar=Er.slice(this.root.length,Er.length))&&Er.slice(0,this.root.length)===this.root&&wr(Ar,Sr)},filter:function(wr){var Er=[];return this.forEach(function(Ar,Sr){wr(Ar,Sr)&&Er.push(Sr)}),Er},file:function(wr,Er,Ar){if(arguments.length!==1)return wr=this.root+wr,pr.call(this,wr,Er,Ar),this;if(Mr(wr)){var Sr=wr;return this.filter(function(Wr,$r){return!$r.dir&&Sr.test(Wr)})}var Dr=this.files[this.root+wr];return Dr&&!Dr.dir?Dr:null},folder:function(wr){if(!wr)return this;if(Mr(wr))return this.filter(function(Dr,Wr){return Wr.dir&&wr.test(Dr)});var Er=this.root+wr,Ar=Pr.call(this,Er),Sr=this.clone();return Sr.root=Ar.name,Sr},remove:function(wr){wr=this.root+wr;var Er=this.files[wr];if(Er||(wr.slice(-1)!=="/"&&(wr+="/"),Er=this.files[wr]),Er&&!Er.dir)delete this.files[wr];else for(var Ar=this.filter(function(Dr,Wr){return Wr.name.slice(0,wr.length)===wr}),Sr=0;Sr<Ar.length;Sr++)delete this.files[Ar[Sr].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(wr){var Er,Ar={};try{if((Ar=yr.extend(wr||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:gr.utf8encode})).type=Ar.type.toLowerCase(),Ar.compression=Ar.compression.toUpperCase(),Ar.type==="binarystring"&&(Ar.type="string"),!Ar.type)throw new Error("No output type specified.");yr.checkSupport(Ar.type),Ar.platform!=="darwin"&&Ar.platform!=="freebsd"&&Ar.platform!=="linux"&&Ar.platform!=="sunos"||(Ar.platform="UNIX"),Ar.platform==="win32"&&(Ar.platform="DOS");var Sr=Ar.comment||this.comment||"";Er=Tr.generateWorker(this,Ar,Sr)}catch(Dr){(Er=new vr("error")).error(Dr)}return new _r(Er,Ar.type||"string",Ar.mimeType)},generateAsync:function(wr,Er){return this.generateInternalStream(wr).accumulate(Er)},generateNodeStream:function(wr,Er){return(wr=wr||{}).type||(wr.type="nodebuffer"),this.generateInternalStream(wr).toNodejsStream(Er)}};mr.exports=jr},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(fr,mr,br){mr.exports=fr("stream")},{stream:void 0}],17:[function(fr,mr,br){var pr=fr("./DataReader");function gr(yr){pr.call(this,yr);for(var vr=0;vr<this.data.length;vr++)yr[vr]=255&yr[vr]}fr("../utils").inherits(gr,pr),gr.prototype.byteAt=function(yr){return this.data[this.zero+yr]},gr.prototype.lastIndexOfSignature=function(yr){for(var vr=yr.charCodeAt(0),_r=yr.charCodeAt(1),xr=yr.charCodeAt(2),Rr=yr.charCodeAt(3),Cr=this.length-4;0<=Cr;--Cr)if(this.data[Cr]===vr&&this.data[Cr+1]===_r&&this.data[Cr+2]===xr&&this.data[Cr+3]===Rr)return Cr-this.zero;return-1},gr.prototype.readAndCheckSignature=function(yr){var vr=yr.charCodeAt(0),_r=yr.charCodeAt(1),xr=yr.charCodeAt(2),Rr=yr.charCodeAt(3),Cr=this.readData(4);return vr===Cr[0]&&_r===Cr[1]&&xr===Cr[2]&&Rr===Cr[3]},gr.prototype.readData=function(yr){if(this.checkOffset(yr),yr===0)return[];var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},mr.exports=gr},{"../utils":32,"./DataReader":18}],18:[function(fr,mr,br){var pr=fr("../utils");function gr(yr){this.data=yr,this.length=yr.length,this.index=0,this.zero=0}gr.prototype={checkOffset:function(yr){this.checkIndex(this.index+yr)},checkIndex:function(yr){if(this.length<this.zero+yr||yr<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+yr+"). Corrupted zip ?")},setIndex:function(yr){this.checkIndex(yr),this.index=yr},skip:function(yr){this.setIndex(this.index+yr)},byteAt:function(){},readInt:function(yr){var vr,_r=0;for(this.checkOffset(yr),vr=this.index+yr-1;vr>=this.index;vr--)_r=(_r<<8)+this.byteAt(vr);return this.index+=yr,_r},readString:function(yr){return pr.transformTo("string",this.readData(yr))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var yr=this.readInt(4);return new Date(Date.UTC(1980+(yr>>25&127),(yr>>21&15)-1,yr>>16&31,yr>>11&31,yr>>5&63,(31&yr)<<1))}},mr.exports=gr},{"../utils":32}],19:[function(fr,mr,br){var pr=fr("./Uint8ArrayReader");function gr(yr){pr.call(this,yr)}fr("../utils").inherits(gr,pr),gr.prototype.readData=function(yr){this.checkOffset(yr);var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},mr.exports=gr},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(fr,mr,br){var pr=fr("./DataReader");function gr(yr){pr.call(this,yr)}fr("../utils").inherits(gr,pr),gr.prototype.byteAt=function(yr){return this.data.charCodeAt(this.zero+yr)},gr.prototype.lastIndexOfSignature=function(yr){return this.data.lastIndexOf(yr)-this.zero},gr.prototype.readAndCheckSignature=function(yr){return yr===this.readData(4)},gr.prototype.readData=function(yr){this.checkOffset(yr);var vr=this.data.slice(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},mr.exports=gr},{"../utils":32,"./DataReader":18}],21:[function(fr,mr,br){var pr=fr("./ArrayReader");function gr(yr){pr.call(this,yr)}fr("../utils").inherits(gr,pr),gr.prototype.readData=function(yr){if(this.checkOffset(yr),yr===0)return new Uint8Array(0);var vr=this.data.subarray(this.zero+this.index,this.zero+this.index+yr);return this.index+=yr,vr},mr.exports=gr},{"../utils":32,"./ArrayReader":17}],22:[function(fr,mr,br){var pr=fr("../utils"),gr=fr("../support"),yr=fr("./ArrayReader"),vr=fr("./StringReader"),_r=fr("./NodeBufferReader"),xr=fr("./Uint8ArrayReader");mr.exports=function(Rr){var Cr=pr.getTypeOf(Rr);return pr.checkSupport(Cr),Cr!=="string"||gr.uint8array?Cr==="nodebuffer"?new _r(Rr):gr.uint8array?new xr(pr.transformTo("uint8array",Rr)):new yr(pr.transformTo("array",Rr)):new vr(Rr)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(fr,mr,br){br.LOCAL_FILE_HEADER="PK",br.CENTRAL_FILE_HEADER="PK",br.CENTRAL_DIRECTORY_END="PK",br.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",br.ZIP64_CENTRAL_DIRECTORY_END="PK",br.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(fr,mr,br){var pr=fr("./GenericWorker"),gr=fr("../utils");function yr(vr){pr.call(this,"ConvertWorker to "+vr),this.destType=vr}gr.inherits(yr,pr),yr.prototype.processChunk=function(vr){this.push({data:gr.transformTo(this.destType,vr.data),meta:vr.meta})},mr.exports=yr},{"../utils":32,"./GenericWorker":28}],25:[function(fr,mr,br){var pr=fr("./GenericWorker"),gr=fr("../crc32");function yr(){pr.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}fr("../utils").inherits(yr,pr),yr.prototype.processChunk=function(vr){this.streamInfo.crc32=gr(vr.data,this.streamInfo.crc32||0),this.push(vr)},mr.exports=yr},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(fr,mr,br){var pr=fr("../utils"),gr=fr("./GenericWorker");function yr(vr){gr.call(this,"DataLengthProbe for "+vr),this.propName=vr,this.withStreamInfo(vr,0)}pr.inherits(yr,gr),yr.prototype.processChunk=function(vr){if(vr){var _r=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_r+vr.data.length}gr.prototype.processChunk.call(this,vr)},mr.exports=yr},{"../utils":32,"./GenericWorker":28}],27:[function(fr,mr,br){var pr=fr("../utils"),gr=fr("./GenericWorker");function yr(vr){gr.call(this,"DataWorker");var _r=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,vr.then(function(xr){_r.dataIsReady=!0,_r.data=xr,_r.max=xr&&xr.length||0,_r.type=pr.getTypeOf(xr),_r.isPaused||_r._tickAndRepeat()},function(xr){_r.error(xr)})}pr.inherits(yr,gr),yr.prototype.cleanUp=function(){gr.prototype.cleanUp.call(this),this.data=null},yr.prototype.resume=function(){return!!gr.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,pr.delay(this._tickAndRepeat,[],this)),!0)},yr.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(pr.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},yr.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var vr=null,_r=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":vr=this.data.substring(this.index,_r);break;case"uint8array":vr=this.data.subarray(this.index,_r);break;case"array":case"nodebuffer":vr=this.data.slice(this.index,_r)}return this.index=_r,this.push({data:vr,meta:{percent:this.max?this.index/this.max*100:0}})},mr.exports=yr},{"../utils":32,"./GenericWorker":28}],28:[function(fr,mr,br){function pr(gr){this.name=gr||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}pr.prototype={push:function(gr){this.emit("data",gr)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(gr){this.emit("error",gr)}return!0},error:function(gr){return!this.isFinished&&(this.isPaused?this.generatedError=gr:(this.isFinished=!0,this.emit("error",gr),this.previous&&this.previous.error(gr),this.cleanUp()),!0)},on:function(gr,yr){return this._listeners[gr].push(yr),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(gr,yr){if(this._listeners[gr])for(var vr=0;vr<this._listeners[gr].length;vr++)this._listeners[gr][vr].call(this,yr)},pipe:function(gr){return gr.registerPrevious(this)},registerPrevious:function(gr){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=gr.streamInfo,this.mergeStreamInfo(),this.previous=gr;var yr=this;return gr.on("data",function(vr){yr.processChunk(vr)}),gr.on("end",function(){yr.end()}),gr.on("error",function(vr){yr.error(vr)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var gr=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),gr=!0),this.previous&&this.previous.resume(),!gr},flush:function(){},processChunk:function(gr){this.push(gr)},withStreamInfo:function(gr,yr){return this.extraStreamInfo[gr]=yr,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var gr in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,gr)&&(this.streamInfo[gr]=this.extraStreamInfo[gr])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var gr="Worker "+this.name;return this.previous?this.previous+" -> "+gr:gr}},mr.exports=pr},{}],29:[function(fr,mr,br){var pr=fr("../utils"),gr=fr("./ConvertWorker"),yr=fr("./GenericWorker"),vr=fr("../base64"),_r=fr("../support"),xr=fr("../external"),Rr=null;if(_r.nodestream)try{Rr=fr("../nodejs/NodejsStreamOutputAdapter")}catch{}function Cr(Tr,Ir,Lr){var Nr=Ir;switch(Ir){case"blob":case"arraybuffer":Nr="uint8array";break;case"base64":Nr="string"}try{this._internalType=Nr,this._outputType=Ir,this._mimeType=Lr,pr.checkSupport(Nr),this._worker=Tr.pipe(new gr(Nr)),Tr.lock()}catch(Or){this._worker=new yr("error"),this._worker.error(Or)}}Cr.prototype={accumulate:function(Tr){return function(Ir,Lr){return new xr.Promise(function(Nr,Or){var Pr=[],Mr=Ir._internalType,jr=Ir._outputType,wr=Ir._mimeType;Ir.on("data",function(Er,Ar){Pr.push(Er),Lr&&Lr(Ar)}).on("error",function(Er){Pr=[],Or(Er)}).on("end",function(){try{var Er=function(Ar,Sr,Dr){switch(Ar){case"blob":return pr.newBlob(pr.transformTo("arraybuffer",Sr),Dr);case"base64":return vr.encode(Sr);default:return pr.transformTo(Ar,Sr)}}(jr,function(Ar,Sr){var Dr,Wr=0,$r=null,Vr=0;for(Dr=0;Dr<Sr.length;Dr++)Vr+=Sr[Dr].length;switch(Ar){case"string":return Sr.join("");case"array":return Array.prototype.concat.apply([],Sr);case"uint8array":for($r=new Uint8Array(Vr),Dr=0;Dr<Sr.length;Dr++)$r.set(Sr[Dr],Wr),Wr+=Sr[Dr].length;return $r;case"nodebuffer":return lr.concat(Sr);default:throw new Error("concat : unsupported type '"+Ar+"'")}}(Mr,Pr),wr);Nr(Er)}catch(Ar){Or(Ar)}Pr=[]}).resume()})}(this,Tr)},on:function(Tr,Ir){var Lr=this;return Tr==="data"?this._worker.on(Tr,function(Nr){Ir.call(Lr,Nr.data,Nr.meta)}):this._worker.on(Tr,function(){pr.delay(Ir,arguments,Lr)}),this},resume:function(){return pr.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(Tr){if(pr.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Rr(this,{objectMode:this._outputType!=="nodebuffer"},Tr)}},mr.exports=Cr},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(fr,mr,br){if(br.base64=!0,br.array=!0,br.string=!0,br.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",br.nodebuffer=lr!==void 0,br.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")br.blob=!1;else{var pr=new ArrayBuffer(0);try{br.blob=new Blob([pr],{type:"application/zip"}).size===0}catch{try{var gr=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);gr.append(pr),br.blob=gr.getBlob("application/zip").size===0}catch{br.blob=!1}}}try{br.nodestream=!!fr("readable-stream").Readable}catch{br.nodestream=!1}},{"readable-stream":16}],31:[function(fr,mr,br){for(var pr=fr("./utils"),gr=fr("./support"),yr=fr("./nodejsUtils"),vr=fr("./stream/GenericWorker"),_r=new Array(256),xr=0;xr<256;xr++)_r[xr]=252<=xr?6:248<=xr?5:240<=xr?4:224<=xr?3:192<=xr?2:1;function Rr(){vr.call(this,"utf-8 decode"),this.leftOver=null}function Cr(){vr.call(this,"utf-8 encode")}_r[254]=_r[254]=1,br.utf8encode=function(Tr){return gr.nodebuffer?yr.newBufferFrom(Tr,"utf-8"):function(Ir){var Lr,Nr,Or,Pr,Mr,jr=Ir.length,wr=0;for(Pr=0;Pr<jr;Pr++)(64512&(Nr=Ir.charCodeAt(Pr)))==55296&&Pr+1<jr&&(64512&(Or=Ir.charCodeAt(Pr+1)))==56320&&(Nr=65536+(Nr-55296<<10)+(Or-56320),Pr++),wr+=Nr<128?1:Nr<2048?2:Nr<65536?3:4;for(Lr=gr.uint8array?new Uint8Array(wr):new Array(wr),Pr=Mr=0;Mr<wr;Pr++)(64512&(Nr=Ir.charCodeAt(Pr)))==55296&&Pr+1<jr&&(64512&(Or=Ir.charCodeAt(Pr+1)))==56320&&(Nr=65536+(Nr-55296<<10)+(Or-56320),Pr++),Nr<128?Lr[Mr++]=Nr:(Nr<2048?Lr[Mr++]=192|Nr>>>6:(Nr<65536?Lr[Mr++]=224|Nr>>>12:(Lr[Mr++]=240|Nr>>>18,Lr[Mr++]=128|Nr>>>12&63),Lr[Mr++]=128|Nr>>>6&63),Lr[Mr++]=128|63&Nr);return Lr}(Tr)},br.utf8decode=function(Tr){return gr.nodebuffer?pr.transformTo("nodebuffer",Tr).toString("utf-8"):function(Ir){var Lr,Nr,Or,Pr,Mr=Ir.length,jr=new Array(2*Mr);for(Lr=Nr=0;Lr<Mr;)if((Or=Ir[Lr++])<128)jr[Nr++]=Or;else if(4<(Pr=_r[Or]))jr[Nr++]=65533,Lr+=Pr-1;else{for(Or&=Pr===2?31:Pr===3?15:7;1<Pr&&Lr<Mr;)Or=Or<<6|63&Ir[Lr++],Pr--;1<Pr?jr[Nr++]=65533:Or<65536?jr[Nr++]=Or:(Or-=65536,jr[Nr++]=55296|Or>>10&1023,jr[Nr++]=56320|1023&Or)}return jr.length!==Nr&&(jr.subarray?jr=jr.subarray(0,Nr):jr.length=Nr),pr.applyFromCharCode(jr)}(Tr=pr.transformTo(gr.uint8array?"uint8array":"array",Tr))},pr.inherits(Rr,vr),Rr.prototype.processChunk=function(Tr){var Ir=pr.transformTo(gr.uint8array?"uint8array":"array",Tr.data);if(this.leftOver&&this.leftOver.length){if(gr.uint8array){var Lr=Ir;(Ir=new Uint8Array(Lr.length+this.leftOver.length)).set(this.leftOver,0),Ir.set(Lr,this.leftOver.length)}else Ir=this.leftOver.concat(Ir);this.leftOver=null}var Nr=function(Pr,Mr){var jr;for((Mr=Mr||Pr.length)>Pr.length&&(Mr=Pr.length),jr=Mr-1;0<=jr&&(192&Pr[jr])==128;)jr--;return jr<0||jr===0?Mr:jr+_r[Pr[jr]]>Mr?jr:Mr}(Ir),Or=Ir;Nr!==Ir.length&&(gr.uint8array?(Or=Ir.subarray(0,Nr),this.leftOver=Ir.subarray(Nr,Ir.length)):(Or=Ir.slice(0,Nr),this.leftOver=Ir.slice(Nr,Ir.length))),this.push({data:br.utf8decode(Or),meta:Tr.meta})},Rr.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:br.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},br.Utf8DecodeWorker=Rr,pr.inherits(Cr,vr),Cr.prototype.processChunk=function(Tr){this.push({data:br.utf8encode(Tr.data),meta:Tr.meta})},br.Utf8EncodeWorker=Cr},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(fr,mr,br){var pr=fr("./support"),gr=fr("./base64"),yr=fr("./nodejsUtils"),vr=fr("./external");function _r(Lr){return Lr}function xr(Lr,Nr){for(var Or=0;Or<Lr.length;++Or)Nr[Or]=255&Lr.charCodeAt(Or);return Nr}fr("setimmediate"),br.newBlob=function(Lr,Nr){br.checkSupport("blob");try{return new Blob([Lr],{type:Nr})}catch{try{var Or=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Or.append(Lr),Or.getBlob(Nr)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Rr={stringifyByChunk:function(Lr,Nr,Or){var Pr=[],Mr=0,jr=Lr.length;if(jr<=Or)return String.fromCharCode.apply(null,Lr);for(;Mr<jr;)Nr==="array"||Nr==="nodebuffer"?Pr.push(String.fromCharCode.apply(null,Lr.slice(Mr,Math.min(Mr+Or,jr)))):Pr.push(String.fromCharCode.apply(null,Lr.subarray(Mr,Math.min(Mr+Or,jr)))),Mr+=Or;return Pr.join("")},stringifyByChar:function(Lr){for(var Nr="",Or=0;Or<Lr.length;Or++)Nr+=String.fromCharCode(Lr[Or]);return Nr},applyCanBeUsed:{uint8array:function(){try{return pr.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return pr.nodebuffer&&String.fromCharCode.apply(null,yr.allocBuffer(1)).length===1}catch{return!1}}()}};function Cr(Lr){var Nr=65536,Or=br.getTypeOf(Lr),Pr=!0;if(Or==="uint8array"?Pr=Rr.applyCanBeUsed.uint8array:Or==="nodebuffer"&&(Pr=Rr.applyCanBeUsed.nodebuffer),Pr)for(;1<Nr;)try{return Rr.stringifyByChunk(Lr,Or,Nr)}catch{Nr=Math.floor(Nr/2)}return Rr.stringifyByChar(Lr)}function Tr(Lr,Nr){for(var Or=0;Or<Lr.length;Or++)Nr[Or]=Lr[Or];return Nr}br.applyFromCharCode=Cr;var Ir={};Ir.string={string:_r,array:function(Lr){return xr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Ir.string.uint8array(Lr).buffer},uint8array:function(Lr){return xr(Lr,new Uint8Array(Lr.length))},nodebuffer:function(Lr){return xr(Lr,yr.allocBuffer(Lr.length))}},Ir.array={string:Cr,array:_r,arraybuffer:function(Lr){return new Uint8Array(Lr).buffer},uint8array:function(Lr){return new Uint8Array(Lr)},nodebuffer:function(Lr){return yr.newBufferFrom(Lr)}},Ir.arraybuffer={string:function(Lr){return Cr(new Uint8Array(Lr))},array:function(Lr){return Tr(new Uint8Array(Lr),new Array(Lr.byteLength))},arraybuffer:_r,uint8array:function(Lr){return new Uint8Array(Lr)},nodebuffer:function(Lr){return yr.newBufferFrom(new Uint8Array(Lr))}},Ir.uint8array={string:Cr,array:function(Lr){return Tr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Lr.buffer},uint8array:_r,nodebuffer:function(Lr){return yr.newBufferFrom(Lr)}},Ir.nodebuffer={string:Cr,array:function(Lr){return Tr(Lr,new Array(Lr.length))},arraybuffer:function(Lr){return Ir.nodebuffer.uint8array(Lr).buffer},uint8array:function(Lr){return Tr(Lr,new Uint8Array(Lr.length))},nodebuffer:_r},br.transformTo=function(Lr,Nr){if(Nr=Nr||"",!Lr)return Nr;br.checkSupport(Lr);var Or=br.getTypeOf(Nr);return Ir[Or][Lr](Nr)},br.resolve=function(Lr){for(var Nr=Lr.split("/"),Or=[],Pr=0;Pr<Nr.length;Pr++){var Mr=Nr[Pr];Mr==="."||Mr===""&&Pr!==0&&Pr!==Nr.length-1||(Mr===".."?Or.pop():Or.push(Mr))}return Or.join("/")},br.getTypeOf=function(Lr){return typeof Lr=="string"?"string":Object.prototype.toString.call(Lr)==="[object Array]"?"array":pr.nodebuffer&&yr.isBuffer(Lr)?"nodebuffer":pr.uint8array&&Lr instanceof Uint8Array?"uint8array":pr.arraybuffer&&Lr instanceof ArrayBuffer?"arraybuffer":void 0},br.checkSupport=function(Lr){if(!pr[Lr.toLowerCase()])throw new Error(Lr+" is not supported by this platform")},br.MAX_VALUE_16BITS=65535,br.MAX_VALUE_32BITS=-1,br.pretty=function(Lr){var Nr,Or,Pr="";for(Or=0;Or<(Lr||"").length;Or++)Pr+="\\x"+((Nr=Lr.charCodeAt(Or))<16?"0":"")+Nr.toString(16).toUpperCase();return Pr},br.delay=function(Lr,Nr,Or){hr(function(){Lr.apply(Or||null,Nr||[])})},br.inherits=function(Lr,Nr){function Or(){}Or.prototype=Nr.prototype,Lr.prototype=new Or},br.extend=function(){var Lr,Nr,Or={};for(Lr=0;Lr<arguments.length;Lr++)for(Nr in arguments[Lr])Object.prototype.hasOwnProperty.call(arguments[Lr],Nr)&&Or[Nr]===void 0&&(Or[Nr]=arguments[Lr][Nr]);return Or},br.prepareContent=function(Lr,Nr,Or,Pr,Mr){return vr.Promise.resolve(Nr).then(function(jr){return pr.blob&&(jr instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(jr))!==-1)&&typeof FileReader<"u"?new vr.Promise(function(wr,Er){var Ar=new FileReader;Ar.onload=function(Sr){wr(Sr.target.result)},Ar.onerror=function(Sr){Er(Sr.target.error)},Ar.readAsArrayBuffer(jr)}):jr}).then(function(jr){var wr=br.getTypeOf(jr);return wr?(wr==="arraybuffer"?jr=br.transformTo("uint8array",jr):wr==="string"&&(Mr?jr=gr.decode(jr):Or&&Pr!==!0&&(jr=function(Er){return xr(Er,pr.uint8array?new Uint8Array(Er.length):new Array(Er.length))}(jr))),jr):vr.Promise.reject(new Error("Can't read the data of '"+Lr+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(fr,mr,br){var pr=fr("./reader/readerFor"),gr=fr("./utils"),yr=fr("./signature"),vr=fr("./zipEntry"),_r=fr("./support");function xr(Rr){this.files=[],this.loadOptions=Rr}xr.prototype={checkSignature:function(Rr){if(!this.reader.readAndCheckSignature(Rr)){this.reader.index-=4;var Cr=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+gr.pretty(Cr)+", expected "+gr.pretty(Rr)+")")}},isSignature:function(Rr,Cr){var Tr=this.reader.index;this.reader.setIndex(Rr);var Ir=this.reader.readString(4)===Cr;return this.reader.setIndex(Tr),Ir},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Rr=this.reader.readData(this.zipCommentLength),Cr=_r.uint8array?"uint8array":"array",Tr=gr.transformTo(Cr,Rr);this.zipComment=this.loadOptions.decodeFileName(Tr)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Rr,Cr,Tr,Ir=this.zip64EndOfCentralSize-44;0<Ir;)Rr=this.reader.readInt(2),Cr=this.reader.readInt(4),Tr=this.reader.readData(Cr),this.zip64ExtensibleData[Rr]={id:Rr,length:Cr,value:Tr}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Rr,Cr;for(Rr=0;Rr<this.files.length;Rr++)Cr=this.files[Rr],this.reader.setIndex(Cr.localHeaderOffset),this.checkSignature(yr.LOCAL_FILE_HEADER),Cr.readLocalPart(this.reader),Cr.handleUTF8(),Cr.processAttributes()},readCentralDir:function(){var Rr;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(yr.CENTRAL_FILE_HEADER);)(Rr=new vr({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Rr);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Rr=this.reader.lastIndexOfSignature(yr.CENTRAL_DIRECTORY_END);if(Rr<0)throw this.isSignature(0,yr.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Rr);var Cr=Rr;if(this.checkSignature(yr.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===gr.MAX_VALUE_16BITS||this.diskWithCentralDirStart===gr.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===gr.MAX_VALUE_16BITS||this.centralDirRecords===gr.MAX_VALUE_16BITS||this.centralDirSize===gr.MAX_VALUE_32BITS||this.centralDirOffset===gr.MAX_VALUE_32BITS){if(this.zip64=!0,(Rr=this.reader.lastIndexOfSignature(yr.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Rr),this.checkSignature(yr.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,yr.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(yr.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(yr.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Tr=this.centralDirOffset+this.centralDirSize;this.zip64&&(Tr+=20,Tr+=12+this.zip64EndOfCentralSize);var Ir=Cr-Tr;if(0<Ir)this.isSignature(Cr,yr.CENTRAL_FILE_HEADER)||(this.reader.zero=Ir);else if(Ir<0)throw new Error("Corrupted zip: missing "+Math.abs(Ir)+" bytes.")},prepareReader:function(Rr){this.reader=pr(Rr)},load:function(Rr){this.prepareReader(Rr),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},mr.exports=xr},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(fr,mr,br){var pr=fr("./reader/readerFor"),gr=fr("./utils"),yr=fr("./compressedObject"),vr=fr("./crc32"),_r=fr("./utf8"),xr=fr("./compressions"),Rr=fr("./support");function Cr(Tr,Ir){this.options=Tr,this.loadOptions=Ir}Cr.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Tr){var Ir,Lr;if(Tr.skip(22),this.fileNameLength=Tr.readInt(2),Lr=Tr.readInt(2),this.fileName=Tr.readData(this.fileNameLength),Tr.skip(Lr),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((Ir=function(Nr){for(var Or in xr)if(Object.prototype.hasOwnProperty.call(xr,Or)&&xr[Or].magic===Nr)return xr[Or];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+gr.pretty(this.compressionMethod)+" unknown (inner file : "+gr.transformTo("string",this.fileName)+")");this.decompressed=new yr(this.compressedSize,this.uncompressedSize,this.crc32,Ir,Tr.readData(this.compressedSize))},readCentralPart:function(Tr){this.versionMadeBy=Tr.readInt(2),Tr.skip(2),this.bitFlag=Tr.readInt(2),this.compressionMethod=Tr.readString(2),this.date=Tr.readDate(),this.crc32=Tr.readInt(4),this.compressedSize=Tr.readInt(4),this.uncompressedSize=Tr.readInt(4);var Ir=Tr.readInt(2);if(this.extraFieldsLength=Tr.readInt(2),this.fileCommentLength=Tr.readInt(2),this.diskNumberStart=Tr.readInt(2),this.internalFileAttributes=Tr.readInt(2),this.externalFileAttributes=Tr.readInt(4),this.localHeaderOffset=Tr.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Tr.skip(Ir),this.readExtraFields(Tr),this.parseZIP64ExtraField(Tr),this.fileComment=Tr.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Tr=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Tr==0&&(this.dosPermissions=63&this.externalFileAttributes),Tr==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Tr=pr(this.extraFields[1].value);this.uncompressedSize===gr.MAX_VALUE_32BITS&&(this.uncompressedSize=Tr.readInt(8)),this.compressedSize===gr.MAX_VALUE_32BITS&&(this.compressedSize=Tr.readInt(8)),this.localHeaderOffset===gr.MAX_VALUE_32BITS&&(this.localHeaderOffset=Tr.readInt(8)),this.diskNumberStart===gr.MAX_VALUE_32BITS&&(this.diskNumberStart=Tr.readInt(4))}},readExtraFields:function(Tr){var Ir,Lr,Nr,Or=Tr.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Tr.index+4<Or;)Ir=Tr.readInt(2),Lr=Tr.readInt(2),Nr=Tr.readData(Lr),this.extraFields[Ir]={id:Ir,length:Lr,value:Nr};Tr.setIndex(Or)},handleUTF8:function(){var Tr=Rr.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_r.utf8decode(this.fileName),this.fileCommentStr=_r.utf8decode(this.fileComment);else{var Ir=this.findExtraFieldUnicodePath();if(Ir!==null)this.fileNameStr=Ir;else{var Lr=gr.transformTo(Tr,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(Lr)}var Nr=this.findExtraFieldUnicodeComment();if(Nr!==null)this.fileCommentStr=Nr;else{var Or=gr.transformTo(Tr,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Or)}}},findExtraFieldUnicodePath:function(){var Tr=this.extraFields[28789];if(Tr){var Ir=pr(Tr.value);return Ir.readInt(1)!==1||vr(this.fileName)!==Ir.readInt(4)?null:_r.utf8decode(Ir.readData(Tr.length-5))}return null},findExtraFieldUnicodeComment:function(){var Tr=this.extraFields[25461];if(Tr){var Ir=pr(Tr.value);return Ir.readInt(1)!==1||vr(this.fileComment)!==Ir.readInt(4)?null:_r.utf8decode(Ir.readData(Tr.length-5))}return null}},mr.exports=Cr},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(fr,mr,br){function pr(Ir,Lr,Nr){this.name=Ir,this.dir=Nr.dir,this.date=Nr.date,this.comment=Nr.comment,this.unixPermissions=Nr.unixPermissions,this.dosPermissions=Nr.dosPermissions,this._data=Lr,this._dataBinary=Nr.binary,this.options={compression:Nr.compression,compressionOptions:Nr.compressionOptions}}var gr=fr("./stream/StreamHelper"),yr=fr("./stream/DataWorker"),vr=fr("./utf8"),_r=fr("./compressedObject"),xr=fr("./stream/GenericWorker");pr.prototype={internalStream:function(Ir){var Lr=null,Nr="string";try{if(!Ir)throw new Error("No output type specified.");var Or=(Nr=Ir.toLowerCase())==="string"||Nr==="text";Nr!=="binarystring"&&Nr!=="text"||(Nr="string"),Lr=this._decompressWorker();var Pr=!this._dataBinary;Pr&&!Or&&(Lr=Lr.pipe(new vr.Utf8EncodeWorker)),!Pr&&Or&&(Lr=Lr.pipe(new vr.Utf8DecodeWorker))}catch(Mr){(Lr=new xr("error")).error(Mr)}return new gr(Lr,Nr,"")},async:function(Ir,Lr){return this.internalStream(Ir).accumulate(Lr)},nodeStream:function(Ir,Lr){return this.internalStream(Ir||"nodebuffer").toNodejsStream(Lr)},_compressWorker:function(Ir,Lr){if(this._data instanceof _r&&this._data.compression.magic===Ir.magic)return this._data.getCompressedWorker();var Nr=this._decompressWorker();return this._dataBinary||(Nr=Nr.pipe(new vr.Utf8EncodeWorker)),_r.createWorkerFrom(Nr,Ir,Lr)},_decompressWorker:function(){return this._data instanceof _r?this._data.getContentWorker():this._data instanceof xr?this._data:new yr(this._data)}};for(var Rr=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Cr=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Tr=0;Tr<Rr.length;Tr++)pr.prototype[Rr[Tr]]=Cr;mr.exports=pr},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(fr,mr,br){(function(pr){var gr,yr,vr=pr.MutationObserver||pr.WebKitMutationObserver;if(vr){var _r=0,xr=new vr(Ir),Rr=pr.document.createTextNode("");xr.observe(Rr,{characterData:!0}),gr=function(){Rr.data=_r=++_r%2}}else if(pr.setImmediate||pr.MessageChannel===void 0)gr="document"in pr&&"onreadystatechange"in pr.document.createElement("script")?function(){var Lr=pr.document.createElement("script");Lr.onreadystatechange=function(){Ir(),Lr.onreadystatechange=null,Lr.parentNode.removeChild(Lr),Lr=null},pr.document.documentElement.appendChild(Lr)}:function(){setTimeout(Ir,0)};else{var Cr=new pr.MessageChannel;Cr.port1.onmessage=Ir,gr=function(){Cr.port2.postMessage(0)}}var Tr=[];function Ir(){var Lr,Nr;yr=!0;for(var Or=Tr.length;Or;){for(Nr=Tr,Tr=[],Lr=-1;++Lr<Or;)Nr[Lr]();Or=Tr.length}yr=!1}mr.exports=function(Lr){Tr.push(Lr)!==1||yr||gr()}}).call(this,sr!==void 0?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(fr,mr,br){var pr=fr("immediate");function gr(){}var yr={},vr=["REJECTED"],_r=["FULFILLED"],xr=["PENDING"];function Rr(Or){if(typeof Or!="function")throw new TypeError("resolver must be a function");this.state=xr,this.queue=[],this.outcome=void 0,Or!==gr&&Lr(this,Or)}function Cr(Or,Pr,Mr){this.promise=Or,typeof Pr=="function"&&(this.onFulfilled=Pr,this.callFulfilled=this.otherCallFulfilled),typeof Mr=="function"&&(this.onRejected=Mr,this.callRejected=this.otherCallRejected)}function Tr(Or,Pr,Mr){pr(function(){var jr;try{jr=Pr(Mr)}catch(wr){return yr.reject(Or,wr)}jr===Or?yr.reject(Or,new TypeError("Cannot resolve promise with itself")):yr.resolve(Or,jr)})}function Ir(Or){var Pr=Or&&Or.then;if(Or&&(typeof Or=="object"||typeof Or=="function")&&typeof Pr=="function")return function(){Pr.apply(Or,arguments)}}function Lr(Or,Pr){var Mr=!1;function jr(Ar){Mr||(Mr=!0,yr.reject(Or,Ar))}function wr(Ar){Mr||(Mr=!0,yr.resolve(Or,Ar))}var Er=Nr(function(){Pr(wr,jr)});Er.status==="error"&&jr(Er.value)}function Nr(Or,Pr){var Mr={};try{Mr.value=Or(Pr),Mr.status="success"}catch(jr){Mr.status="error",Mr.value=jr}return Mr}(mr.exports=Rr).prototype.finally=function(Or){if(typeof Or!="function")return this;var Pr=this.constructor;return this.then(function(Mr){return Pr.resolve(Or()).then(function(){return Mr})},function(Mr){return Pr.resolve(Or()).then(function(){throw Mr})})},Rr.prototype.catch=function(Or){return this.then(null,Or)},Rr.prototype.then=function(Or,Pr){if(typeof Or!="function"&&this.state===_r||typeof Pr!="function"&&this.state===vr)return this;var Mr=new this.constructor(gr);return this.state!==xr?Tr(Mr,this.state===_r?Or:Pr,this.outcome):this.queue.push(new Cr(Mr,Or,Pr)),Mr},Cr.prototype.callFulfilled=function(Or){yr.resolve(this.promise,Or)},Cr.prototype.otherCallFulfilled=function(Or){Tr(this.promise,this.onFulfilled,Or)},Cr.prototype.callRejected=function(Or){yr.reject(this.promise,Or)},Cr.prototype.otherCallRejected=function(Or){Tr(this.promise,this.onRejected,Or)},yr.resolve=function(Or,Pr){var Mr=Nr(Ir,Pr);if(Mr.status==="error")return yr.reject(Or,Mr.value);var jr=Mr.value;if(jr)Lr(Or,jr);else{Or.state=_r,Or.outcome=Pr;for(var wr=-1,Er=Or.queue.length;++wr<Er;)Or.queue[wr].callFulfilled(Pr)}return Or},yr.reject=function(Or,Pr){Or.state=vr,Or.outcome=Pr;for(var Mr=-1,jr=Or.queue.length;++Mr<jr;)Or.queue[Mr].callRejected(Pr);return Or},Rr.resolve=function(Or){return Or instanceof this?Or:yr.resolve(new this(gr),Or)},Rr.reject=function(Or){var Pr=new this(gr);return yr.reject(Pr,Or)},Rr.all=function(Or){var Pr=this;if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Mr=Or.length,jr=!1;if(!Mr)return this.resolve([]);for(var wr=new Array(Mr),Er=0,Ar=-1,Sr=new this(gr);++Ar<Mr;)Dr(Or[Ar],Ar);return Sr;function Dr(Wr,$r){Pr.resolve(Wr).then(function(Vr){wr[$r]=Vr,++Er!==Mr||jr||(jr=!0,yr.resolve(Sr,wr))},function(Vr){jr||(jr=!0,yr.reject(Sr,Vr))})}},Rr.race=function(Or){if(Object.prototype.toString.call(Or)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Pr=Or.length,Mr=!1;if(!Pr)return this.resolve([]);for(var jr,wr=-1,Er=new this(gr);++wr<Pr;)jr=Or[wr],this.resolve(jr).then(function(Ar){Mr||(Mr=!0,yr.resolve(Er,Ar))},function(Ar){Mr||(Mr=!0,yr.reject(Er,Ar))});return Er}},{immediate:36}],38:[function(fr,mr,br){var pr={};(0,fr("./lib/utils/common").assign)(pr,fr("./lib/deflate"),fr("./lib/inflate"),fr("./lib/zlib/constants")),mr.exports=pr},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(fr,mr,br){var pr=fr("./zlib/deflate"),gr=fr("./utils/common"),yr=fr("./utils/strings"),vr=fr("./zlib/messages"),_r=fr("./zlib/zstream"),xr=Object.prototype.toString;function Rr(Tr){if(!(this instanceof Rr))return new Rr(Tr);this.options=gr.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},Tr||{});var Ir=this.options;Ir.raw&&0<Ir.windowBits?Ir.windowBits=-Ir.windowBits:Ir.gzip&&0<Ir.windowBits&&Ir.windowBits<16&&(Ir.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _r,this.strm.avail_out=0;var Lr=pr.deflateInit2(this.strm,Ir.level,Ir.method,Ir.windowBits,Ir.memLevel,Ir.strategy);if(Lr!==0)throw new Error(vr[Lr]);if(Ir.header&&pr.deflateSetHeader(this.strm,Ir.header),Ir.dictionary){var Nr;if(Nr=typeof Ir.dictionary=="string"?yr.string2buf(Ir.dictionary):xr.call(Ir.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ir.dictionary):Ir.dictionary,(Lr=pr.deflateSetDictionary(this.strm,Nr))!==0)throw new Error(vr[Lr]);this._dict_set=!0}}function Cr(Tr,Ir){var Lr=new Rr(Ir);if(Lr.push(Tr,!0),Lr.err)throw Lr.msg||vr[Lr.err];return Lr.result}Rr.prototype.push=function(Tr,Ir){var Lr,Nr,Or=this.strm,Pr=this.options.chunkSize;if(this.ended)return!1;Nr=Ir===~~Ir?Ir:Ir===!0?4:0,typeof Tr=="string"?Or.input=yr.string2buf(Tr):xr.call(Tr)==="[object ArrayBuffer]"?Or.input=new Uint8Array(Tr):Or.input=Tr,Or.next_in=0,Or.avail_in=Or.input.length;do{if(Or.avail_out===0&&(Or.output=new gr.Buf8(Pr),Or.next_out=0,Or.avail_out=Pr),(Lr=pr.deflate(Or,Nr))!==1&&Lr!==0)return this.onEnd(Lr),!(this.ended=!0);Or.avail_out!==0&&(Or.avail_in!==0||Nr!==4&&Nr!==2)||(this.options.to==="string"?this.onData(yr.buf2binstring(gr.shrinkBuf(Or.output,Or.next_out))):this.onData(gr.shrinkBuf(Or.output,Or.next_out)))}while((0<Or.avail_in||Or.avail_out===0)&&Lr!==1);return Nr===4?(Lr=pr.deflateEnd(this.strm),this.onEnd(Lr),this.ended=!0,Lr===0):Nr!==2||(this.onEnd(0),!(Or.avail_out=0))},Rr.prototype.onData=function(Tr){this.chunks.push(Tr)},Rr.prototype.onEnd=function(Tr){Tr===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gr.flattenChunks(this.chunks)),this.chunks=[],this.err=Tr,this.msg=this.strm.msg},br.Deflate=Rr,br.deflate=Cr,br.deflateRaw=function(Tr,Ir){return(Ir=Ir||{}).raw=!0,Cr(Tr,Ir)},br.gzip=function(Tr,Ir){return(Ir=Ir||{}).gzip=!0,Cr(Tr,Ir)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(fr,mr,br){var pr=fr("./zlib/inflate"),gr=fr("./utils/common"),yr=fr("./utils/strings"),vr=fr("./zlib/constants"),_r=fr("./zlib/messages"),xr=fr("./zlib/zstream"),Rr=fr("./zlib/gzheader"),Cr=Object.prototype.toString;function Tr(Lr){if(!(this instanceof Tr))return new Tr(Lr);this.options=gr.assign({chunkSize:16384,windowBits:0,to:""},Lr||{});var Nr=this.options;Nr.raw&&0<=Nr.windowBits&&Nr.windowBits<16&&(Nr.windowBits=-Nr.windowBits,Nr.windowBits===0&&(Nr.windowBits=-15)),!(0<=Nr.windowBits&&Nr.windowBits<16)||Lr&&Lr.windowBits||(Nr.windowBits+=32),15<Nr.windowBits&&Nr.windowBits<48&&!(15&Nr.windowBits)&&(Nr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xr,this.strm.avail_out=0;var Or=pr.inflateInit2(this.strm,Nr.windowBits);if(Or!==vr.Z_OK)throw new Error(_r[Or]);this.header=new Rr,pr.inflateGetHeader(this.strm,this.header)}function Ir(Lr,Nr){var Or=new Tr(Nr);if(Or.push(Lr,!0),Or.err)throw Or.msg||_r[Or.err];return Or.result}Tr.prototype.push=function(Lr,Nr){var Or,Pr,Mr,jr,wr,Er,Ar=this.strm,Sr=this.options.chunkSize,Dr=this.options.dictionary,Wr=!1;if(this.ended)return!1;Pr=Nr===~~Nr?Nr:Nr===!0?vr.Z_FINISH:vr.Z_NO_FLUSH,typeof Lr=="string"?Ar.input=yr.binstring2buf(Lr):Cr.call(Lr)==="[object ArrayBuffer]"?Ar.input=new Uint8Array(Lr):Ar.input=Lr,Ar.next_in=0,Ar.avail_in=Ar.input.length;do{if(Ar.avail_out===0&&(Ar.output=new gr.Buf8(Sr),Ar.next_out=0,Ar.avail_out=Sr),(Or=pr.inflate(Ar,vr.Z_NO_FLUSH))===vr.Z_NEED_DICT&&Dr&&(Er=typeof Dr=="string"?yr.string2buf(Dr):Cr.call(Dr)==="[object ArrayBuffer]"?new Uint8Array(Dr):Dr,Or=pr.inflateSetDictionary(this.strm,Er)),Or===vr.Z_BUF_ERROR&&Wr===!0&&(Or=vr.Z_OK,Wr=!1),Or!==vr.Z_STREAM_END&&Or!==vr.Z_OK)return this.onEnd(Or),!(this.ended=!0);Ar.next_out&&(Ar.avail_out!==0&&Or!==vr.Z_STREAM_END&&(Ar.avail_in!==0||Pr!==vr.Z_FINISH&&Pr!==vr.Z_SYNC_FLUSH)||(this.options.to==="string"?(Mr=yr.utf8border(Ar.output,Ar.next_out),jr=Ar.next_out-Mr,wr=yr.buf2string(Ar.output,Mr),Ar.next_out=jr,Ar.avail_out=Sr-jr,jr&&gr.arraySet(Ar.output,Ar.output,Mr,jr,0),this.onData(wr)):this.onData(gr.shrinkBuf(Ar.output,Ar.next_out)))),Ar.avail_in===0&&Ar.avail_out===0&&(Wr=!0)}while((0<Ar.avail_in||Ar.avail_out===0)&&Or!==vr.Z_STREAM_END);return Or===vr.Z_STREAM_END&&(Pr=vr.Z_FINISH),Pr===vr.Z_FINISH?(Or=pr.inflateEnd(this.strm),this.onEnd(Or),this.ended=!0,Or===vr.Z_OK):Pr!==vr.Z_SYNC_FLUSH||(this.onEnd(vr.Z_OK),!(Ar.avail_out=0))},Tr.prototype.onData=function(Lr){this.chunks.push(Lr)},Tr.prototype.onEnd=function(Lr){Lr===vr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gr.flattenChunks(this.chunks)),this.chunks=[],this.err=Lr,this.msg=this.strm.msg},br.Inflate=Tr,br.inflate=Ir,br.inflateRaw=function(Lr,Nr){return(Nr=Nr||{}).raw=!0,Ir(Lr,Nr)},br.ungzip=Ir},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(fr,mr,br){var pr=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";br.assign=function(vr){for(var _r=Array.prototype.slice.call(arguments,1);_r.length;){var xr=_r.shift();if(xr){if(typeof xr!="object")throw new TypeError(xr+"must be non-object");for(var Rr in xr)xr.hasOwnProperty(Rr)&&(vr[Rr]=xr[Rr])}}return vr},br.shrinkBuf=function(vr,_r){return vr.length===_r?vr:vr.subarray?vr.subarray(0,_r):(vr.length=_r,vr)};var gr={arraySet:function(vr,_r,xr,Rr,Cr){if(_r.subarray&&vr.subarray)vr.set(_r.subarray(xr,xr+Rr),Cr);else for(var Tr=0;Tr<Rr;Tr++)vr[Cr+Tr]=_r[xr+Tr]},flattenChunks:function(vr){var _r,xr,Rr,Cr,Tr,Ir;for(_r=Rr=0,xr=vr.length;_r<xr;_r++)Rr+=vr[_r].length;for(Ir=new Uint8Array(Rr),_r=Cr=0,xr=vr.length;_r<xr;_r++)Tr=vr[_r],Ir.set(Tr,Cr),Cr+=Tr.length;return Ir}},yr={arraySet:function(vr,_r,xr,Rr,Cr){for(var Tr=0;Tr<Rr;Tr++)vr[Cr+Tr]=_r[xr+Tr]},flattenChunks:function(vr){return[].concat.apply([],vr)}};br.setTyped=function(vr){vr?(br.Buf8=Uint8Array,br.Buf16=Uint16Array,br.Buf32=Int32Array,br.assign(br,gr)):(br.Buf8=Array,br.Buf16=Array,br.Buf32=Array,br.assign(br,yr))},br.setTyped(pr)},{}],42:[function(fr,mr,br){var pr=fr("./common"),gr=!0,yr=!0;try{String.fromCharCode.apply(null,[0])}catch{gr=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yr=!1}for(var vr=new pr.Buf8(256),_r=0;_r<256;_r++)vr[_r]=252<=_r?6:248<=_r?5:240<=_r?4:224<=_r?3:192<=_r?2:1;function xr(Rr,Cr){if(Cr<65537&&(Rr.subarray&&yr||!Rr.subarray&&gr))return String.fromCharCode.apply(null,pr.shrinkBuf(Rr,Cr));for(var Tr="",Ir=0;Ir<Cr;Ir++)Tr+=String.fromCharCode(Rr[Ir]);return Tr}vr[254]=vr[254]=1,br.string2buf=function(Rr){var Cr,Tr,Ir,Lr,Nr,Or=Rr.length,Pr=0;for(Lr=0;Lr<Or;Lr++)(64512&(Tr=Rr.charCodeAt(Lr)))==55296&&Lr+1<Or&&(64512&(Ir=Rr.charCodeAt(Lr+1)))==56320&&(Tr=65536+(Tr-55296<<10)+(Ir-56320),Lr++),Pr+=Tr<128?1:Tr<2048?2:Tr<65536?3:4;for(Cr=new pr.Buf8(Pr),Lr=Nr=0;Nr<Pr;Lr++)(64512&(Tr=Rr.charCodeAt(Lr)))==55296&&Lr+1<Or&&(64512&(Ir=Rr.charCodeAt(Lr+1)))==56320&&(Tr=65536+(Tr-55296<<10)+(Ir-56320),Lr++),Tr<128?Cr[Nr++]=Tr:(Tr<2048?Cr[Nr++]=192|Tr>>>6:(Tr<65536?Cr[Nr++]=224|Tr>>>12:(Cr[Nr++]=240|Tr>>>18,Cr[Nr++]=128|Tr>>>12&63),Cr[Nr++]=128|Tr>>>6&63),Cr[Nr++]=128|63&Tr);return Cr},br.buf2binstring=function(Rr){return xr(Rr,Rr.length)},br.binstring2buf=function(Rr){for(var Cr=new pr.Buf8(Rr.length),Tr=0,Ir=Cr.length;Tr<Ir;Tr++)Cr[Tr]=Rr.charCodeAt(Tr);return Cr},br.buf2string=function(Rr,Cr){var Tr,Ir,Lr,Nr,Or=Cr||Rr.length,Pr=new Array(2*Or);for(Tr=Ir=0;Tr<Or;)if((Lr=Rr[Tr++])<128)Pr[Ir++]=Lr;else if(4<(Nr=vr[Lr]))Pr[Ir++]=65533,Tr+=Nr-1;else{for(Lr&=Nr===2?31:Nr===3?15:7;1<Nr&&Tr<Or;)Lr=Lr<<6|63&Rr[Tr++],Nr--;1<Nr?Pr[Ir++]=65533:Lr<65536?Pr[Ir++]=Lr:(Lr-=65536,Pr[Ir++]=55296|Lr>>10&1023,Pr[Ir++]=56320|1023&Lr)}return xr(Pr,Ir)},br.utf8border=function(Rr,Cr){var Tr;for((Cr=Cr||Rr.length)>Rr.length&&(Cr=Rr.length),Tr=Cr-1;0<=Tr&&(192&Rr[Tr])==128;)Tr--;return Tr<0||Tr===0?Cr:Tr+vr[Rr[Tr]]>Cr?Tr:Cr}},{"./common":41}],43:[function(fr,mr,br){mr.exports=function(pr,gr,yr,vr){for(var _r=65535&pr|0,xr=pr>>>16&65535|0,Rr=0;yr!==0;){for(yr-=Rr=2e3<yr?2e3:yr;xr=xr+(_r=_r+gr[vr++]|0)|0,--Rr;);_r%=65521,xr%=65521}return _r|xr<<16|0}},{}],44:[function(fr,mr,br){mr.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(fr,mr,br){var pr=function(){for(var gr,yr=[],vr=0;vr<256;vr++){gr=vr;for(var _r=0;_r<8;_r++)gr=1&gr?3988292384^gr>>>1:gr>>>1;yr[vr]=gr}return yr}();mr.exports=function(gr,yr,vr,_r){var xr=pr,Rr=_r+vr;gr^=-1;for(var Cr=_r;Cr<Rr;Cr++)gr=gr>>>8^xr[255&(gr^yr[Cr])];return-1^gr}},{}],46:[function(fr,mr,br){var pr,gr=fr("../utils/common"),yr=fr("./trees"),vr=fr("./adler32"),_r=fr("./crc32"),xr=fr("./messages"),Rr=-2,Cr=258,Tr=262,Ir=113;function Lr(Fr,Xr){return Fr.msg=xr[Xr],Xr}function Nr(Fr){return(Fr<<1)-(4<Fr?9:0)}function Or(Fr){for(var Xr=Fr.length;0<=--Xr;)Fr[Xr]=0}function Pr(Fr){var Xr=Fr.state,Ur=Xr.pending;Ur>Fr.avail_out&&(Ur=Fr.avail_out),Ur!==0&&(gr.arraySet(Fr.output,Xr.pending_buf,Xr.pending_out,Ur,Fr.next_out),Fr.next_out+=Ur,Xr.pending_out+=Ur,Fr.total_out+=Ur,Fr.avail_out-=Ur,Xr.pending-=Ur,Xr.pending===0&&(Xr.pending_out=0))}function Mr(Fr,Xr){yr._tr_flush_block(Fr,0<=Fr.block_start?Fr.block_start:-1,Fr.strstart-Fr.block_start,Xr),Fr.block_start=Fr.strstart,Pr(Fr.strm)}function jr(Fr,Xr){Fr.pending_buf[Fr.pending++]=Xr}function wr(Fr,Xr){Fr.pending_buf[Fr.pending++]=Xr>>>8&255,Fr.pending_buf[Fr.pending++]=255&Xr}function Er(Fr,Xr){var Ur,Br,Kr=Fr.max_chain_length,Zr=Fr.strstart,tn=Fr.prev_length,sn=Fr.nice_match,un=Fr.strstart>Fr.w_size-Tr?Fr.strstart-(Fr.w_size-Tr):0,hn=Fr.window,Jr=Fr.w_mask,nn=Fr.prev,rn=Fr.strstart+Cr,on=hn[Zr+tn-1],fn=hn[Zr+tn];Fr.prev_length>=Fr.good_match&&(Kr>>=2),sn>Fr.lookahead&&(sn=Fr.lookahead);do if(hn[(Ur=Xr)+tn]===fn&&hn[Ur+tn-1]===on&&hn[Ur]===hn[Zr]&&hn[++Ur]===hn[Zr+1]){Zr+=2,Ur++;do;while(hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&hn[++Zr]===hn[++Ur]&&Zr<rn);if(Br=Cr-(rn-Zr),Zr=rn-Cr,tn<Br){if(Fr.match_start=Xr,sn<=(tn=Br))break;on=hn[Zr+tn-1],fn=hn[Zr+tn]}}while((Xr=nn[Xr&Jr])>un&&--Kr!=0);return tn<=Fr.lookahead?tn:Fr.lookahead}function Ar(Fr){var Xr,Ur,Br,Kr,Zr,tn,sn,un,hn,Jr,nn=Fr.w_size;do{if(Kr=Fr.window_size-Fr.lookahead-Fr.strstart,Fr.strstart>=nn+(nn-Tr)){for(gr.arraySet(Fr.window,Fr.window,nn,nn,0),Fr.match_start-=nn,Fr.strstart-=nn,Fr.block_start-=nn,Xr=Ur=Fr.hash_size;Br=Fr.head[--Xr],Fr.head[Xr]=nn<=Br?Br-nn:0,--Ur;);for(Xr=Ur=nn;Br=Fr.prev[--Xr],Fr.prev[Xr]=nn<=Br?Br-nn:0,--Ur;);Kr+=nn}if(Fr.strm.avail_in===0)break;if(tn=Fr.strm,sn=Fr.window,un=Fr.strstart+Fr.lookahead,Jr=void 0,(hn=Kr)<(Jr=tn.avail_in)&&(Jr=hn),Ur=Jr===0?0:(tn.avail_in-=Jr,gr.arraySet(sn,tn.input,tn.next_in,Jr,un),tn.state.wrap===1?tn.adler=vr(tn.adler,sn,Jr,un):tn.state.wrap===2&&(tn.adler=_r(tn.adler,sn,Jr,un)),tn.next_in+=Jr,tn.total_in+=Jr,Jr),Fr.lookahead+=Ur,Fr.lookahead+Fr.insert>=3)for(Zr=Fr.strstart-Fr.insert,Fr.ins_h=Fr.window[Zr],Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Zr+1])&Fr.hash_mask;Fr.insert&&(Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Zr+3-1])&Fr.hash_mask,Fr.prev[Zr&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Zr,Zr++,Fr.insert--,!(Fr.lookahead+Fr.insert<3)););}while(Fr.lookahead<Tr&&Fr.strm.avail_in!==0)}function Sr(Fr,Xr){for(var Ur,Br;;){if(Fr.lookahead<Tr){if(Ar(Fr),Fr.lookahead<Tr&&Xr===0)return 1;if(Fr.lookahead===0)break}if(Ur=0,Fr.lookahead>=3&&(Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Fr.strstart+3-1])&Fr.hash_mask,Ur=Fr.prev[Fr.strstart&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Fr.strstart),Ur!==0&&Fr.strstart-Ur<=Fr.w_size-Tr&&(Fr.match_length=Er(Fr,Ur)),Fr.match_length>=3)if(Br=yr._tr_tally(Fr,Fr.strstart-Fr.match_start,Fr.match_length-3),Fr.lookahead-=Fr.match_length,Fr.match_length<=Fr.max_lazy_match&&Fr.lookahead>=3){for(Fr.match_length--;Fr.strstart++,Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Fr.strstart+3-1])&Fr.hash_mask,Ur=Fr.prev[Fr.strstart&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Fr.strstart,--Fr.match_length!=0;);Fr.strstart++}else Fr.strstart+=Fr.match_length,Fr.match_length=0,Fr.ins_h=Fr.window[Fr.strstart],Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Fr.strstart+1])&Fr.hash_mask;else Br=yr._tr_tally(Fr,0,Fr.window[Fr.strstart]),Fr.lookahead--,Fr.strstart++;if(Br&&(Mr(Fr,!1),Fr.strm.avail_out===0))return 1}return Fr.insert=Fr.strstart<2?Fr.strstart:2,Xr===4?(Mr(Fr,!0),Fr.strm.avail_out===0?3:4):Fr.last_lit&&(Mr(Fr,!1),Fr.strm.avail_out===0)?1:2}function Dr(Fr,Xr){for(var Ur,Br,Kr;;){if(Fr.lookahead<Tr){if(Ar(Fr),Fr.lookahead<Tr&&Xr===0)return 1;if(Fr.lookahead===0)break}if(Ur=0,Fr.lookahead>=3&&(Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Fr.strstart+3-1])&Fr.hash_mask,Ur=Fr.prev[Fr.strstart&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Fr.strstart),Fr.prev_length=Fr.match_length,Fr.prev_match=Fr.match_start,Fr.match_length=2,Ur!==0&&Fr.prev_length<Fr.max_lazy_match&&Fr.strstart-Ur<=Fr.w_size-Tr&&(Fr.match_length=Er(Fr,Ur),Fr.match_length<=5&&(Fr.strategy===1||Fr.match_length===3&&4096<Fr.strstart-Fr.match_start)&&(Fr.match_length=2)),Fr.prev_length>=3&&Fr.match_length<=Fr.prev_length){for(Kr=Fr.strstart+Fr.lookahead-3,Br=yr._tr_tally(Fr,Fr.strstart-1-Fr.prev_match,Fr.prev_length-3),Fr.lookahead-=Fr.prev_length-1,Fr.prev_length-=2;++Fr.strstart<=Kr&&(Fr.ins_h=(Fr.ins_h<<Fr.hash_shift^Fr.window[Fr.strstart+3-1])&Fr.hash_mask,Ur=Fr.prev[Fr.strstart&Fr.w_mask]=Fr.head[Fr.ins_h],Fr.head[Fr.ins_h]=Fr.strstart),--Fr.prev_length!=0;);if(Fr.match_available=0,Fr.match_length=2,Fr.strstart++,Br&&(Mr(Fr,!1),Fr.strm.avail_out===0))return 1}else if(Fr.match_available){if((Br=yr._tr_tally(Fr,0,Fr.window[Fr.strstart-1]))&&Mr(Fr,!1),Fr.strstart++,Fr.lookahead--,Fr.strm.avail_out===0)return 1}else Fr.match_available=1,Fr.strstart++,Fr.lookahead--}return Fr.match_available&&(Br=yr._tr_tally(Fr,0,Fr.window[Fr.strstart-1]),Fr.match_available=0),Fr.insert=Fr.strstart<2?Fr.strstart:2,Xr===4?(Mr(Fr,!0),Fr.strm.avail_out===0?3:4):Fr.last_lit&&(Mr(Fr,!1),Fr.strm.avail_out===0)?1:2}function Wr(Fr,Xr,Ur,Br,Kr){this.good_length=Fr,this.max_lazy=Xr,this.nice_length=Ur,this.max_chain=Br,this.func=Kr}function $r(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new gr.Buf16(1146),this.dyn_dtree=new gr.Buf16(122),this.bl_tree=new gr.Buf16(78),Or(this.dyn_ltree),Or(this.dyn_dtree),Or(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new gr.Buf16(16),this.heap=new gr.Buf16(573),Or(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new gr.Buf16(573),Or(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Vr(Fr){var Xr;return Fr&&Fr.state?(Fr.total_in=Fr.total_out=0,Fr.data_type=2,(Xr=Fr.state).pending=0,Xr.pending_out=0,Xr.wrap<0&&(Xr.wrap=-Xr.wrap),Xr.status=Xr.wrap?42:Ir,Fr.adler=Xr.wrap===2?0:1,Xr.last_flush=0,yr._tr_init(Xr),0):Lr(Fr,Rr)}function zr(Fr){var Xr=Vr(Fr);return Xr===0&&function(Ur){Ur.window_size=2*Ur.w_size,Or(Ur.head),Ur.max_lazy_match=pr[Ur.level].max_lazy,Ur.good_match=pr[Ur.level].good_length,Ur.nice_match=pr[Ur.level].nice_length,Ur.max_chain_length=pr[Ur.level].max_chain,Ur.strstart=0,Ur.block_start=0,Ur.lookahead=0,Ur.insert=0,Ur.match_length=Ur.prev_length=2,Ur.match_available=0,Ur.ins_h=0}(Fr.state),Xr}function Gr(Fr,Xr,Ur,Br,Kr,Zr){if(!Fr)return Rr;var tn=1;if(Xr===-1&&(Xr=6),Br<0?(tn=0,Br=-Br):15<Br&&(tn=2,Br-=16),Kr<1||9<Kr||Ur!==8||Br<8||15<Br||Xr<0||9<Xr||Zr<0||4<Zr)return Lr(Fr,Rr);Br===8&&(Br=9);var sn=new $r;return(Fr.state=sn).strm=Fr,sn.wrap=tn,sn.gzhead=null,sn.w_bits=Br,sn.w_size=1<<sn.w_bits,sn.w_mask=sn.w_size-1,sn.hash_bits=Kr+7,sn.hash_size=1<<sn.hash_bits,sn.hash_mask=sn.hash_size-1,sn.hash_shift=~~((sn.hash_bits+3-1)/3),sn.window=new gr.Buf8(2*sn.w_size),sn.head=new gr.Buf16(sn.hash_size),sn.prev=new gr.Buf16(sn.w_size),sn.lit_bufsize=1<<Kr+6,sn.pending_buf_size=4*sn.lit_bufsize,sn.pending_buf=new gr.Buf8(sn.pending_buf_size),sn.d_buf=1*sn.lit_bufsize,sn.l_buf=3*sn.lit_bufsize,sn.level=Xr,sn.strategy=Zr,sn.method=Ur,zr(Fr)}pr=[new Wr(0,0,0,0,function(Fr,Xr){var Ur=65535;for(Ur>Fr.pending_buf_size-5&&(Ur=Fr.pending_buf_size-5);;){if(Fr.lookahead<=1){if(Ar(Fr),Fr.lookahead===0&&Xr===0)return 1;if(Fr.lookahead===0)break}Fr.strstart+=Fr.lookahead,Fr.lookahead=0;var Br=Fr.block_start+Ur;if((Fr.strstart===0||Fr.strstart>=Br)&&(Fr.lookahead=Fr.strstart-Br,Fr.strstart=Br,Mr(Fr,!1),Fr.strm.avail_out===0)||Fr.strstart-Fr.block_start>=Fr.w_size-Tr&&(Mr(Fr,!1),Fr.strm.avail_out===0))return 1}return Fr.insert=0,Xr===4?(Mr(Fr,!0),Fr.strm.avail_out===0?3:4):(Fr.strstart>Fr.block_start&&(Mr(Fr,!1),Fr.strm.avail_out),1)}),new Wr(4,4,8,4,Sr),new Wr(4,5,16,8,Sr),new Wr(4,6,32,32,Sr),new Wr(4,4,16,16,Dr),new Wr(8,16,32,32,Dr),new Wr(8,16,128,128,Dr),new Wr(8,32,128,256,Dr),new Wr(32,128,258,1024,Dr),new Wr(32,258,258,4096,Dr)],br.deflateInit=function(Fr,Xr){return Gr(Fr,Xr,8,15,8,0)},br.deflateInit2=Gr,br.deflateReset=zr,br.deflateResetKeep=Vr,br.deflateSetHeader=function(Fr,Xr){return Fr&&Fr.state?Fr.state.wrap!==2?Rr:(Fr.state.gzhead=Xr,0):Rr},br.deflate=function(Fr,Xr){var Ur,Br,Kr,Zr;if(!Fr||!Fr.state||5<Xr||Xr<0)return Fr?Lr(Fr,Rr):Rr;if(Br=Fr.state,!Fr.output||!Fr.input&&Fr.avail_in!==0||Br.status===666&&Xr!==4)return Lr(Fr,Fr.avail_out===0?-5:Rr);if(Br.strm=Fr,Ur=Br.last_flush,Br.last_flush=Xr,Br.status===42)if(Br.wrap===2)Fr.adler=0,jr(Br,31),jr(Br,139),jr(Br,8),Br.gzhead?(jr(Br,(Br.gzhead.text?1:0)+(Br.gzhead.hcrc?2:0)+(Br.gzhead.extra?4:0)+(Br.gzhead.name?8:0)+(Br.gzhead.comment?16:0)),jr(Br,255&Br.gzhead.time),jr(Br,Br.gzhead.time>>8&255),jr(Br,Br.gzhead.time>>16&255),jr(Br,Br.gzhead.time>>24&255),jr(Br,Br.level===9?2:2<=Br.strategy||Br.level<2?4:0),jr(Br,255&Br.gzhead.os),Br.gzhead.extra&&Br.gzhead.extra.length&&(jr(Br,255&Br.gzhead.extra.length),jr(Br,Br.gzhead.extra.length>>8&255)),Br.gzhead.hcrc&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending,0)),Br.gzindex=0,Br.status=69):(jr(Br,0),jr(Br,0),jr(Br,0),jr(Br,0),jr(Br,0),jr(Br,Br.level===9?2:2<=Br.strategy||Br.level<2?4:0),jr(Br,3),Br.status=Ir);else{var tn=8+(Br.w_bits-8<<4)<<8;tn|=(2<=Br.strategy||Br.level<2?0:Br.level<6?1:Br.level===6?2:3)<<6,Br.strstart!==0&&(tn|=32),tn+=31-tn%31,Br.status=Ir,wr(Br,tn),Br.strstart!==0&&(wr(Br,Fr.adler>>>16),wr(Br,65535&Fr.adler)),Fr.adler=1}if(Br.status===69)if(Br.gzhead.extra){for(Kr=Br.pending;Br.gzindex<(65535&Br.gzhead.extra.length)&&(Br.pending!==Br.pending_buf_size||(Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Pr(Fr),Kr=Br.pending,Br.pending!==Br.pending_buf_size));)jr(Br,255&Br.gzhead.extra[Br.gzindex]),Br.gzindex++;Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Br.gzindex===Br.gzhead.extra.length&&(Br.gzindex=0,Br.status=73)}else Br.status=73;if(Br.status===73)if(Br.gzhead.name){Kr=Br.pending;do{if(Br.pending===Br.pending_buf_size&&(Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Pr(Fr),Kr=Br.pending,Br.pending===Br.pending_buf_size)){Zr=1;break}Zr=Br.gzindex<Br.gzhead.name.length?255&Br.gzhead.name.charCodeAt(Br.gzindex++):0,jr(Br,Zr)}while(Zr!==0);Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Zr===0&&(Br.gzindex=0,Br.status=91)}else Br.status=91;if(Br.status===91)if(Br.gzhead.comment){Kr=Br.pending;do{if(Br.pending===Br.pending_buf_size&&(Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Pr(Fr),Kr=Br.pending,Br.pending===Br.pending_buf_size)){Zr=1;break}Zr=Br.gzindex<Br.gzhead.comment.length?255&Br.gzhead.comment.charCodeAt(Br.gzindex++):0,jr(Br,Zr)}while(Zr!==0);Br.gzhead.hcrc&&Br.pending>Kr&&(Fr.adler=_r(Fr.adler,Br.pending_buf,Br.pending-Kr,Kr)),Zr===0&&(Br.status=103)}else Br.status=103;if(Br.status===103&&(Br.gzhead.hcrc?(Br.pending+2>Br.pending_buf_size&&Pr(Fr),Br.pending+2<=Br.pending_buf_size&&(jr(Br,255&Fr.adler),jr(Br,Fr.adler>>8&255),Fr.adler=0,Br.status=Ir)):Br.status=Ir),Br.pending!==0){if(Pr(Fr),Fr.avail_out===0)return Br.last_flush=-1,0}else if(Fr.avail_in===0&&Nr(Xr)<=Nr(Ur)&&Xr!==4)return Lr(Fr,-5);if(Br.status===666&&Fr.avail_in!==0)return Lr(Fr,-5);if(Fr.avail_in!==0||Br.lookahead!==0||Xr!==0&&Br.status!==666){var sn=Br.strategy===2?function(un,hn){for(var Jr;;){if(un.lookahead===0&&(Ar(un),un.lookahead===0)){if(hn===0)return 1;break}if(un.match_length=0,Jr=yr._tr_tally(un,0,un.window[un.strstart]),un.lookahead--,un.strstart++,Jr&&(Mr(un,!1),un.strm.avail_out===0))return 1}return un.insert=0,hn===4?(Mr(un,!0),un.strm.avail_out===0?3:4):un.last_lit&&(Mr(un,!1),un.strm.avail_out===0)?1:2}(Br,Xr):Br.strategy===3?function(un,hn){for(var Jr,nn,rn,on,fn=un.window;;){if(un.lookahead<=Cr){if(Ar(un),un.lookahead<=Cr&&hn===0)return 1;if(un.lookahead===0)break}if(un.match_length=0,un.lookahead>=3&&0<un.strstart&&(nn=fn[rn=un.strstart-1])===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]){on=un.strstart+Cr;do;while(nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&nn===fn[++rn]&&rn<on);un.match_length=Cr-(on-rn),un.match_length>un.lookahead&&(un.match_length=un.lookahead)}if(un.match_length>=3?(Jr=yr._tr_tally(un,1,un.match_length-3),un.lookahead-=un.match_length,un.strstart+=un.match_length,un.match_length=0):(Jr=yr._tr_tally(un,0,un.window[un.strstart]),un.lookahead--,un.strstart++),Jr&&(Mr(un,!1),un.strm.avail_out===0))return 1}return un.insert=0,hn===4?(Mr(un,!0),un.strm.avail_out===0?3:4):un.last_lit&&(Mr(un,!1),un.strm.avail_out===0)?1:2}(Br,Xr):pr[Br.level].func(Br,Xr);if(sn!==3&&sn!==4||(Br.status=666),sn===1||sn===3)return Fr.avail_out===0&&(Br.last_flush=-1),0;if(sn===2&&(Xr===1?yr._tr_align(Br):Xr!==5&&(yr._tr_stored_block(Br,0,0,!1),Xr===3&&(Or(Br.head),Br.lookahead===0&&(Br.strstart=0,Br.block_start=0,Br.insert=0))),Pr(Fr),Fr.avail_out===0))return Br.last_flush=-1,0}return Xr!==4?0:Br.wrap<=0?1:(Br.wrap===2?(jr(Br,255&Fr.adler),jr(Br,Fr.adler>>8&255),jr(Br,Fr.adler>>16&255),jr(Br,Fr.adler>>24&255),jr(Br,255&Fr.total_in),jr(Br,Fr.total_in>>8&255),jr(Br,Fr.total_in>>16&255),jr(Br,Fr.total_in>>24&255)):(wr(Br,Fr.adler>>>16),wr(Br,65535&Fr.adler)),Pr(Fr),0<Br.wrap&&(Br.wrap=-Br.wrap),Br.pending!==0?0:1)},br.deflateEnd=function(Fr){var Xr;return Fr&&Fr.state?(Xr=Fr.state.status)!==42&&Xr!==69&&Xr!==73&&Xr!==91&&Xr!==103&&Xr!==Ir&&Xr!==666?Lr(Fr,Rr):(Fr.state=null,Xr===Ir?Lr(Fr,-3):0):Rr},br.deflateSetDictionary=function(Fr,Xr){var Ur,Br,Kr,Zr,tn,sn,un,hn,Jr=Xr.length;if(!Fr||!Fr.state||(Zr=(Ur=Fr.state).wrap)===2||Zr===1&&Ur.status!==42||Ur.lookahead)return Rr;for(Zr===1&&(Fr.adler=vr(Fr.adler,Xr,Jr,0)),Ur.wrap=0,Jr>=Ur.w_size&&(Zr===0&&(Or(Ur.head),Ur.strstart=0,Ur.block_start=0,Ur.insert=0),hn=new gr.Buf8(Ur.w_size),gr.arraySet(hn,Xr,Jr-Ur.w_size,Ur.w_size,0),Xr=hn,Jr=Ur.w_size),tn=Fr.avail_in,sn=Fr.next_in,un=Fr.input,Fr.avail_in=Jr,Fr.next_in=0,Fr.input=Xr,Ar(Ur);Ur.lookahead>=3;){for(Br=Ur.strstart,Kr=Ur.lookahead-2;Ur.ins_h=(Ur.ins_h<<Ur.hash_shift^Ur.window[Br+3-1])&Ur.hash_mask,Ur.prev[Br&Ur.w_mask]=Ur.head[Ur.ins_h],Ur.head[Ur.ins_h]=Br,Br++,--Kr;);Ur.strstart=Br,Ur.lookahead=2,Ar(Ur)}return Ur.strstart+=Ur.lookahead,Ur.block_start=Ur.strstart,Ur.insert=Ur.lookahead,Ur.lookahead=0,Ur.match_length=Ur.prev_length=2,Ur.match_available=0,Fr.next_in=sn,Fr.input=un,Fr.avail_in=tn,Ur.wrap=Zr,0},br.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(fr,mr,br){mr.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(fr,mr,br){mr.exports=function(pr,gr){var yr,vr,_r,xr,Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr,Dr,Wr,$r,Vr,zr,Gr,Fr;yr=pr.state,vr=pr.next_in,Gr=pr.input,_r=vr+(pr.avail_in-5),xr=pr.next_out,Fr=pr.output,Rr=xr-(gr-pr.avail_out),Cr=xr+(pr.avail_out-257),Tr=yr.dmax,Ir=yr.wsize,Lr=yr.whave,Nr=yr.wnext,Or=yr.window,Pr=yr.hold,Mr=yr.bits,jr=yr.lencode,wr=yr.distcode,Er=(1<<yr.lenbits)-1,Ar=(1<<yr.distbits)-1;e:do{Mr<15&&(Pr+=Gr[vr++]<<Mr,Mr+=8,Pr+=Gr[vr++]<<Mr,Mr+=8),Sr=jr[Pr&Er];t:for(;;){if(Pr>>>=Dr=Sr>>>24,Mr-=Dr,(Dr=Sr>>>16&255)==0)Fr[xr++]=65535&Sr;else{if(!(16&Dr)){if(!(64&Dr)){Sr=jr[(65535&Sr)+(Pr&(1<<Dr)-1)];continue t}if(32&Dr){yr.mode=12;break e}pr.msg="invalid literal/length code",yr.mode=30;break e}Wr=65535&Sr,(Dr&=15)&&(Mr<Dr&&(Pr+=Gr[vr++]<<Mr,Mr+=8),Wr+=Pr&(1<<Dr)-1,Pr>>>=Dr,Mr-=Dr),Mr<15&&(Pr+=Gr[vr++]<<Mr,Mr+=8,Pr+=Gr[vr++]<<Mr,Mr+=8),Sr=wr[Pr&Ar];r:for(;;){if(Pr>>>=Dr=Sr>>>24,Mr-=Dr,!(16&(Dr=Sr>>>16&255))){if(!(64&Dr)){Sr=wr[(65535&Sr)+(Pr&(1<<Dr)-1)];continue r}pr.msg="invalid distance code",yr.mode=30;break e}if($r=65535&Sr,Mr<(Dr&=15)&&(Pr+=Gr[vr++]<<Mr,(Mr+=8)<Dr&&(Pr+=Gr[vr++]<<Mr,Mr+=8)),Tr<($r+=Pr&(1<<Dr)-1)){pr.msg="invalid distance too far back",yr.mode=30;break e}if(Pr>>>=Dr,Mr-=Dr,(Dr=xr-Rr)<$r){if(Lr<(Dr=$r-Dr)&&yr.sane){pr.msg="invalid distance too far back",yr.mode=30;break e}if(zr=Or,(Vr=0)===Nr){if(Vr+=Ir-Dr,Dr<Wr){for(Wr-=Dr;Fr[xr++]=Or[Vr++],--Dr;);Vr=xr-$r,zr=Fr}}else if(Nr<Dr){if(Vr+=Ir+Nr-Dr,(Dr-=Nr)<Wr){for(Wr-=Dr;Fr[xr++]=Or[Vr++],--Dr;);if(Vr=0,Nr<Wr){for(Wr-=Dr=Nr;Fr[xr++]=Or[Vr++],--Dr;);Vr=xr-$r,zr=Fr}}}else if(Vr+=Nr-Dr,Dr<Wr){for(Wr-=Dr;Fr[xr++]=Or[Vr++],--Dr;);Vr=xr-$r,zr=Fr}for(;2<Wr;)Fr[xr++]=zr[Vr++],Fr[xr++]=zr[Vr++],Fr[xr++]=zr[Vr++],Wr-=3;Wr&&(Fr[xr++]=zr[Vr++],1<Wr&&(Fr[xr++]=zr[Vr++]))}else{for(Vr=xr-$r;Fr[xr++]=Fr[Vr++],Fr[xr++]=Fr[Vr++],Fr[xr++]=Fr[Vr++],2<(Wr-=3););Wr&&(Fr[xr++]=Fr[Vr++],1<Wr&&(Fr[xr++]=Fr[Vr++]))}break}}break}}while(vr<_r&&xr<Cr);vr-=Wr=Mr>>3,Pr&=(1<<(Mr-=Wr<<3))-1,pr.next_in=vr,pr.next_out=xr,pr.avail_in=vr<_r?_r-vr+5:5-(vr-_r),pr.avail_out=xr<Cr?Cr-xr+257:257-(xr-Cr),yr.hold=Pr,yr.bits=Mr}},{}],49:[function(fr,mr,br){var pr=fr("../utils/common"),gr=fr("./adler32"),yr=fr("./crc32"),vr=fr("./inffast"),_r=fr("./inftrees"),xr=-2;function Rr(Er){return(Er>>>24&255)+(Er>>>8&65280)+((65280&Er)<<8)+((255&Er)<<24)}function Cr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new pr.Buf16(320),this.work=new pr.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Tr(Er){var Ar;return Er&&Er.state?(Ar=Er.state,Er.total_in=Er.total_out=Ar.total=0,Er.msg="",Ar.wrap&&(Er.adler=1&Ar.wrap),Ar.mode=1,Ar.last=0,Ar.havedict=0,Ar.dmax=32768,Ar.head=null,Ar.hold=0,Ar.bits=0,Ar.lencode=Ar.lendyn=new pr.Buf32(852),Ar.distcode=Ar.distdyn=new pr.Buf32(592),Ar.sane=1,Ar.back=-1,0):xr}function Ir(Er){var Ar;return Er&&Er.state?((Ar=Er.state).wsize=0,Ar.whave=0,Ar.wnext=0,Tr(Er)):xr}function Lr(Er,Ar){var Sr,Dr;return Er&&Er.state?(Dr=Er.state,Ar<0?(Sr=0,Ar=-Ar):(Sr=1+(Ar>>4),Ar<48&&(Ar&=15)),Ar&&(Ar<8||15<Ar)?xr:(Dr.window!==null&&Dr.wbits!==Ar&&(Dr.window=null),Dr.wrap=Sr,Dr.wbits=Ar,Ir(Er))):xr}function Nr(Er,Ar){var Sr,Dr;return Er?(Dr=new Cr,(Er.state=Dr).window=null,(Sr=Lr(Er,Ar))!==0&&(Er.state=null),Sr):xr}var Or,Pr,Mr=!0;function jr(Er){if(Mr){var Ar;for(Or=new pr.Buf32(512),Pr=new pr.Buf32(32),Ar=0;Ar<144;)Er.lens[Ar++]=8;for(;Ar<256;)Er.lens[Ar++]=9;for(;Ar<280;)Er.lens[Ar++]=7;for(;Ar<288;)Er.lens[Ar++]=8;for(_r(1,Er.lens,0,288,Or,0,Er.work,{bits:9}),Ar=0;Ar<32;)Er.lens[Ar++]=5;_r(2,Er.lens,0,32,Pr,0,Er.work,{bits:5}),Mr=!1}Er.lencode=Or,Er.lenbits=9,Er.distcode=Pr,Er.distbits=5}function wr(Er,Ar,Sr,Dr){var Wr,$r=Er.state;return $r.window===null&&($r.wsize=1<<$r.wbits,$r.wnext=0,$r.whave=0,$r.window=new pr.Buf8($r.wsize)),Dr>=$r.wsize?(pr.arraySet($r.window,Ar,Sr-$r.wsize,$r.wsize,0),$r.wnext=0,$r.whave=$r.wsize):(Dr<(Wr=$r.wsize-$r.wnext)&&(Wr=Dr),pr.arraySet($r.window,Ar,Sr-Dr,Wr,$r.wnext),(Dr-=Wr)?(pr.arraySet($r.window,Ar,Sr-Dr,Dr,0),$r.wnext=Dr,$r.whave=$r.wsize):($r.wnext+=Wr,$r.wnext===$r.wsize&&($r.wnext=0),$r.whave<$r.wsize&&($r.whave+=Wr))),0}br.inflateReset=Ir,br.inflateReset2=Lr,br.inflateResetKeep=Tr,br.inflateInit=function(Er){return Nr(Er,15)},br.inflateInit2=Nr,br.inflate=function(Er,Ar){var Sr,Dr,Wr,$r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr,tn,sn,un,hn,Jr,nn,rn,on,fn,mn,yn,Rn=0,In=new pr.Buf8(4),Sn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Er||!Er.state||!Er.output||!Er.input&&Er.avail_in!==0)return xr;(Sr=Er.state).mode===12&&(Sr.mode=13),Vr=Er.next_out,Wr=Er.output,Gr=Er.avail_out,$r=Er.next_in,Dr=Er.input,zr=Er.avail_in,Fr=Sr.hold,Xr=Sr.bits,Ur=zr,Br=Gr,fn=0;e:for(;;)switch(Sr.mode){case 1:if(Sr.wrap===0){Sr.mode=13;break}for(;Xr<16;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(2&Sr.wrap&&Fr===35615){In[Sr.check=0]=255&Fr,In[1]=Fr>>>8&255,Sr.check=yr(Sr.check,In,2,0),Xr=Fr=0,Sr.mode=2;break}if(Sr.flags=0,Sr.head&&(Sr.head.done=!1),!(1&Sr.wrap)||(((255&Fr)<<8)+(Fr>>8))%31){Er.msg="incorrect header check",Sr.mode=30;break}if((15&Fr)!=8){Er.msg="unknown compression method",Sr.mode=30;break}if(Xr-=4,on=8+(15&(Fr>>>=4)),Sr.wbits===0)Sr.wbits=on;else if(on>Sr.wbits){Er.msg="invalid window size",Sr.mode=30;break}Sr.dmax=1<<on,Er.adler=Sr.check=1,Sr.mode=512&Fr?10:12,Xr=Fr=0;break;case 2:for(;Xr<16;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(Sr.flags=Fr,(255&Sr.flags)!=8){Er.msg="unknown compression method",Sr.mode=30;break}if(57344&Sr.flags){Er.msg="unknown header flags set",Sr.mode=30;break}Sr.head&&(Sr.head.text=Fr>>8&1),512&Sr.flags&&(In[0]=255&Fr,In[1]=Fr>>>8&255,Sr.check=yr(Sr.check,In,2,0)),Xr=Fr=0,Sr.mode=3;case 3:for(;Xr<32;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.head&&(Sr.head.time=Fr),512&Sr.flags&&(In[0]=255&Fr,In[1]=Fr>>>8&255,In[2]=Fr>>>16&255,In[3]=Fr>>>24&255,Sr.check=yr(Sr.check,In,4,0)),Xr=Fr=0,Sr.mode=4;case 4:for(;Xr<16;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.head&&(Sr.head.xflags=255&Fr,Sr.head.os=Fr>>8),512&Sr.flags&&(In[0]=255&Fr,In[1]=Fr>>>8&255,Sr.check=yr(Sr.check,In,2,0)),Xr=Fr=0,Sr.mode=5;case 5:if(1024&Sr.flags){for(;Xr<16;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.length=Fr,Sr.head&&(Sr.head.extra_len=Fr),512&Sr.flags&&(In[0]=255&Fr,In[1]=Fr>>>8&255,Sr.check=yr(Sr.check,In,2,0)),Xr=Fr=0}else Sr.head&&(Sr.head.extra=null);Sr.mode=6;case 6:if(1024&Sr.flags&&(zr<(Kr=Sr.length)&&(Kr=zr),Kr&&(Sr.head&&(on=Sr.head.extra_len-Sr.length,Sr.head.extra||(Sr.head.extra=new Array(Sr.head.extra_len)),pr.arraySet(Sr.head.extra,Dr,$r,Kr,on)),512&Sr.flags&&(Sr.check=yr(Sr.check,Dr,Kr,$r)),zr-=Kr,$r+=Kr,Sr.length-=Kr),Sr.length))break e;Sr.length=0,Sr.mode=7;case 7:if(2048&Sr.flags){if(zr===0)break e;for(Kr=0;on=Dr[$r+Kr++],Sr.head&&on&&Sr.length<65536&&(Sr.head.name+=String.fromCharCode(on)),on&&Kr<zr;);if(512&Sr.flags&&(Sr.check=yr(Sr.check,Dr,Kr,$r)),zr-=Kr,$r+=Kr,on)break e}else Sr.head&&(Sr.head.name=null);Sr.length=0,Sr.mode=8;case 8:if(4096&Sr.flags){if(zr===0)break e;for(Kr=0;on=Dr[$r+Kr++],Sr.head&&on&&Sr.length<65536&&(Sr.head.comment+=String.fromCharCode(on)),on&&Kr<zr;);if(512&Sr.flags&&(Sr.check=yr(Sr.check,Dr,Kr,$r)),zr-=Kr,$r+=Kr,on)break e}else Sr.head&&(Sr.head.comment=null);Sr.mode=9;case 9:if(512&Sr.flags){for(;Xr<16;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(Fr!==(65535&Sr.check)){Er.msg="header crc mismatch",Sr.mode=30;break}Xr=Fr=0}Sr.head&&(Sr.head.hcrc=Sr.flags>>9&1,Sr.head.done=!0),Er.adler=Sr.check=0,Sr.mode=12;break;case 10:for(;Xr<32;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Er.adler=Sr.check=Rr(Fr),Xr=Fr=0,Sr.mode=11;case 11:if(Sr.havedict===0)return Er.next_out=Vr,Er.avail_out=Gr,Er.next_in=$r,Er.avail_in=zr,Sr.hold=Fr,Sr.bits=Xr,2;Er.adler=Sr.check=1,Sr.mode=12;case 12:if(Ar===5||Ar===6)break e;case 13:if(Sr.last){Fr>>>=7&Xr,Xr-=7&Xr,Sr.mode=27;break}for(;Xr<3;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}switch(Sr.last=1&Fr,Xr-=1,3&(Fr>>>=1)){case 0:Sr.mode=14;break;case 1:if(jr(Sr),Sr.mode=20,Ar!==6)break;Fr>>>=2,Xr-=2;break e;case 2:Sr.mode=17;break;case 3:Er.msg="invalid block type",Sr.mode=30}Fr>>>=2,Xr-=2;break;case 14:for(Fr>>>=7&Xr,Xr-=7&Xr;Xr<32;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if((65535&Fr)!=(Fr>>>16^65535)){Er.msg="invalid stored block lengths",Sr.mode=30;break}if(Sr.length=65535&Fr,Xr=Fr=0,Sr.mode=15,Ar===6)break e;case 15:Sr.mode=16;case 16:if(Kr=Sr.length){if(zr<Kr&&(Kr=zr),Gr<Kr&&(Kr=Gr),Kr===0)break e;pr.arraySet(Wr,Dr,$r,Kr,Vr),zr-=Kr,$r+=Kr,Gr-=Kr,Vr+=Kr,Sr.length-=Kr;break}Sr.mode=12;break;case 17:for(;Xr<14;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(Sr.nlen=257+(31&Fr),Fr>>>=5,Xr-=5,Sr.ndist=1+(31&Fr),Fr>>>=5,Xr-=5,Sr.ncode=4+(15&Fr),Fr>>>=4,Xr-=4,286<Sr.nlen||30<Sr.ndist){Er.msg="too many length or distance symbols",Sr.mode=30;break}Sr.have=0,Sr.mode=18;case 18:for(;Sr.have<Sr.ncode;){for(;Xr<3;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.lens[Sn[Sr.have++]]=7&Fr,Fr>>>=3,Xr-=3}for(;Sr.have<19;)Sr.lens[Sn[Sr.have++]]=0;if(Sr.lencode=Sr.lendyn,Sr.lenbits=7,mn={bits:Sr.lenbits},fn=_r(0,Sr.lens,0,19,Sr.lencode,0,Sr.work,mn),Sr.lenbits=mn.bits,fn){Er.msg="invalid code lengths set",Sr.mode=30;break}Sr.have=0,Sr.mode=19;case 19:for(;Sr.have<Sr.nlen+Sr.ndist;){for(;un=(Rn=Sr.lencode[Fr&(1<<Sr.lenbits)-1])>>>16&255,hn=65535&Rn,!((sn=Rn>>>24)<=Xr);){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(hn<16)Fr>>>=sn,Xr-=sn,Sr.lens[Sr.have++]=hn;else{if(hn===16){for(yn=sn+2;Xr<yn;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(Fr>>>=sn,Xr-=sn,Sr.have===0){Er.msg="invalid bit length repeat",Sr.mode=30;break}on=Sr.lens[Sr.have-1],Kr=3+(3&Fr),Fr>>>=2,Xr-=2}else if(hn===17){for(yn=sn+3;Xr<yn;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Xr-=sn,on=0,Kr=3+(7&(Fr>>>=sn)),Fr>>>=3,Xr-=3}else{for(yn=sn+7;Xr<yn;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Xr-=sn,on=0,Kr=11+(127&(Fr>>>=sn)),Fr>>>=7,Xr-=7}if(Sr.have+Kr>Sr.nlen+Sr.ndist){Er.msg="invalid bit length repeat",Sr.mode=30;break}for(;Kr--;)Sr.lens[Sr.have++]=on}}if(Sr.mode===30)break;if(Sr.lens[256]===0){Er.msg="invalid code -- missing end-of-block",Sr.mode=30;break}if(Sr.lenbits=9,mn={bits:Sr.lenbits},fn=_r(1,Sr.lens,0,Sr.nlen,Sr.lencode,0,Sr.work,mn),Sr.lenbits=mn.bits,fn){Er.msg="invalid literal/lengths set",Sr.mode=30;break}if(Sr.distbits=6,Sr.distcode=Sr.distdyn,mn={bits:Sr.distbits},fn=_r(2,Sr.lens,Sr.nlen,Sr.ndist,Sr.distcode,0,Sr.work,mn),Sr.distbits=mn.bits,fn){Er.msg="invalid distances set",Sr.mode=30;break}if(Sr.mode=20,Ar===6)break e;case 20:Sr.mode=21;case 21:if(6<=zr&&258<=Gr){Er.next_out=Vr,Er.avail_out=Gr,Er.next_in=$r,Er.avail_in=zr,Sr.hold=Fr,Sr.bits=Xr,vr(Er,Br),Vr=Er.next_out,Wr=Er.output,Gr=Er.avail_out,$r=Er.next_in,Dr=Er.input,zr=Er.avail_in,Fr=Sr.hold,Xr=Sr.bits,Sr.mode===12&&(Sr.back=-1);break}for(Sr.back=0;un=(Rn=Sr.lencode[Fr&(1<<Sr.lenbits)-1])>>>16&255,hn=65535&Rn,!((sn=Rn>>>24)<=Xr);){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(un&&!(240&un)){for(Jr=sn,nn=un,rn=hn;un=(Rn=Sr.lencode[rn+((Fr&(1<<Jr+nn)-1)>>Jr)])>>>16&255,hn=65535&Rn,!(Jr+(sn=Rn>>>24)<=Xr);){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Fr>>>=Jr,Xr-=Jr,Sr.back+=Jr}if(Fr>>>=sn,Xr-=sn,Sr.back+=sn,Sr.length=hn,un===0){Sr.mode=26;break}if(32&un){Sr.back=-1,Sr.mode=12;break}if(64&un){Er.msg="invalid literal/length code",Sr.mode=30;break}Sr.extra=15&un,Sr.mode=22;case 22:if(Sr.extra){for(yn=Sr.extra;Xr<yn;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.length+=Fr&(1<<Sr.extra)-1,Fr>>>=Sr.extra,Xr-=Sr.extra,Sr.back+=Sr.extra}Sr.was=Sr.length,Sr.mode=23;case 23:for(;un=(Rn=Sr.distcode[Fr&(1<<Sr.distbits)-1])>>>16&255,hn=65535&Rn,!((sn=Rn>>>24)<=Xr);){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(!(240&un)){for(Jr=sn,nn=un,rn=hn;un=(Rn=Sr.distcode[rn+((Fr&(1<<Jr+nn)-1)>>Jr)])>>>16&255,hn=65535&Rn,!(Jr+(sn=Rn>>>24)<=Xr);){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Fr>>>=Jr,Xr-=Jr,Sr.back+=Jr}if(Fr>>>=sn,Xr-=sn,Sr.back+=sn,64&un){Er.msg="invalid distance code",Sr.mode=30;break}Sr.offset=hn,Sr.extra=15&un,Sr.mode=24;case 24:if(Sr.extra){for(yn=Sr.extra;Xr<yn;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}Sr.offset+=Fr&(1<<Sr.extra)-1,Fr>>>=Sr.extra,Xr-=Sr.extra,Sr.back+=Sr.extra}if(Sr.offset>Sr.dmax){Er.msg="invalid distance too far back",Sr.mode=30;break}Sr.mode=25;case 25:if(Gr===0)break e;if(Kr=Br-Gr,Sr.offset>Kr){if((Kr=Sr.offset-Kr)>Sr.whave&&Sr.sane){Er.msg="invalid distance too far back",Sr.mode=30;break}Zr=Kr>Sr.wnext?(Kr-=Sr.wnext,Sr.wsize-Kr):Sr.wnext-Kr,Kr>Sr.length&&(Kr=Sr.length),tn=Sr.window}else tn=Wr,Zr=Vr-Sr.offset,Kr=Sr.length;for(Gr<Kr&&(Kr=Gr),Gr-=Kr,Sr.length-=Kr;Wr[Vr++]=tn[Zr++],--Kr;);Sr.length===0&&(Sr.mode=21);break;case 26:if(Gr===0)break e;Wr[Vr++]=Sr.length,Gr--,Sr.mode=21;break;case 27:if(Sr.wrap){for(;Xr<32;){if(zr===0)break e;zr--,Fr|=Dr[$r++]<<Xr,Xr+=8}if(Br-=Gr,Er.total_out+=Br,Sr.total+=Br,Br&&(Er.adler=Sr.check=Sr.flags?yr(Sr.check,Wr,Br,Vr-Br):gr(Sr.check,Wr,Br,Vr-Br)),Br=Gr,(Sr.flags?Fr:Rr(Fr))!==Sr.check){Er.msg="incorrect data check",Sr.mode=30;break}Xr=Fr=0}Sr.mode=28;case 28:if(Sr.wrap&&Sr.flags){for(;Xr<32;){if(zr===0)break e;zr--,Fr+=Dr[$r++]<<Xr,Xr+=8}if(Fr!==(4294967295&Sr.total)){Er.msg="incorrect length check",Sr.mode=30;break}Xr=Fr=0}Sr.mode=29;case 29:fn=1;break e;case 30:fn=-3;break e;case 31:return-4;case 32:default:return xr}return Er.next_out=Vr,Er.avail_out=Gr,Er.next_in=$r,Er.avail_in=zr,Sr.hold=Fr,Sr.bits=Xr,(Sr.wsize||Br!==Er.avail_out&&Sr.mode<30&&(Sr.mode<27||Ar!==4))&&wr(Er,Er.output,Er.next_out,Br-Er.avail_out)?(Sr.mode=31,-4):(Ur-=Er.avail_in,Br-=Er.avail_out,Er.total_in+=Ur,Er.total_out+=Br,Sr.total+=Br,Sr.wrap&&Br&&(Er.adler=Sr.check=Sr.flags?yr(Sr.check,Wr,Br,Er.next_out-Br):gr(Sr.check,Wr,Br,Er.next_out-Br)),Er.data_type=Sr.bits+(Sr.last?64:0)+(Sr.mode===12?128:0)+(Sr.mode===20||Sr.mode===15?256:0),(Ur==0&&Br===0||Ar===4)&&fn===0&&(fn=-5),fn)},br.inflateEnd=function(Er){if(!Er||!Er.state)return xr;var Ar=Er.state;return Ar.window&&(Ar.window=null),Er.state=null,0},br.inflateGetHeader=function(Er,Ar){var Sr;return Er&&Er.state&&2&(Sr=Er.state).wrap?((Sr.head=Ar).done=!1,0):xr},br.inflateSetDictionary=function(Er,Ar){var Sr,Dr=Ar.length;return Er&&Er.state?(Sr=Er.state).wrap!==0&&Sr.mode!==11?xr:Sr.mode===11&&gr(1,Ar,Dr,0)!==Sr.check?-3:wr(Er,Ar,Dr,Dr)?(Sr.mode=31,-4):(Sr.havedict=1,0):xr},br.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(fr,mr,br){var pr=fr("../utils/common"),gr=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yr=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],vr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];mr.exports=function(xr,Rr,Cr,Tr,Ir,Lr,Nr,Or){var Pr,Mr,jr,wr,Er,Ar,Sr,Dr,Wr,$r=Or.bits,Vr=0,zr=0,Gr=0,Fr=0,Xr=0,Ur=0,Br=0,Kr=0,Zr=0,tn=0,sn=null,un=0,hn=new pr.Buf16(16),Jr=new pr.Buf16(16),nn=null,rn=0;for(Vr=0;Vr<=15;Vr++)hn[Vr]=0;for(zr=0;zr<Tr;zr++)hn[Rr[Cr+zr]]++;for(Xr=$r,Fr=15;1<=Fr&&hn[Fr]===0;Fr--);if(Fr<Xr&&(Xr=Fr),Fr===0)return Ir[Lr++]=20971520,Ir[Lr++]=20971520,Or.bits=1,0;for(Gr=1;Gr<Fr&&hn[Gr]===0;Gr++);for(Xr<Gr&&(Xr=Gr),Vr=Kr=1;Vr<=15;Vr++)if(Kr<<=1,(Kr-=hn[Vr])<0)return-1;if(0<Kr&&(xr===0||Fr!==1))return-1;for(Jr[1]=0,Vr=1;Vr<15;Vr++)Jr[Vr+1]=Jr[Vr]+hn[Vr];for(zr=0;zr<Tr;zr++)Rr[Cr+zr]!==0&&(Nr[Jr[Rr[Cr+zr]]++]=zr);if(Ar=xr===0?(sn=nn=Nr,19):xr===1?(sn=gr,un-=257,nn=yr,rn-=257,256):(sn=vr,nn=_r,-1),Vr=Gr,Er=Lr,Br=zr=tn=0,jr=-1,wr=(Zr=1<<(Ur=Xr))-1,xr===1&&852<Zr||xr===2&&592<Zr)return 1;for(;;){for(Sr=Vr-Br,Wr=Nr[zr]<Ar?(Dr=0,Nr[zr]):Nr[zr]>Ar?(Dr=nn[rn+Nr[zr]],sn[un+Nr[zr]]):(Dr=96,0),Pr=1<<Vr-Br,Gr=Mr=1<<Ur;Ir[Er+(tn>>Br)+(Mr-=Pr)]=Sr<<24|Dr<<16|Wr|0,Mr!==0;);for(Pr=1<<Vr-1;tn&Pr;)Pr>>=1;if(Pr!==0?(tn&=Pr-1,tn+=Pr):tn=0,zr++,--hn[Vr]==0){if(Vr===Fr)break;Vr=Rr[Cr+Nr[zr]]}if(Xr<Vr&&(tn&wr)!==jr){for(Br===0&&(Br=Xr),Er+=Gr,Kr=1<<(Ur=Vr-Br);Ur+Br<Fr&&!((Kr-=hn[Ur+Br])<=0);)Ur++,Kr<<=1;if(Zr+=1<<Ur,xr===1&&852<Zr||xr===2&&592<Zr)return 1;Ir[jr=tn&wr]=Xr<<24|Ur<<16|Er-Lr|0}}return tn!==0&&(Ir[Er+tn]=Vr-Br<<24|64<<16|0),Or.bits=Xr,0}},{"../utils/common":41}],51:[function(fr,mr,br){mr.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(fr,mr,br){var pr=fr("../utils/common");function gr(nn){for(var rn=nn.length;0<=--rn;)nn[rn]=0}var yr=256,vr=286,_r=30,xr=15,Rr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Cr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Tr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ir=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Lr=new Array(576);gr(Lr);var Nr=new Array(60);gr(Nr);var Or=new Array(512);gr(Or);var Pr=new Array(256);gr(Pr);var Mr=new Array(29);gr(Mr);var jr,wr,Er,Ar=new Array(_r);function Sr(nn,rn,on,fn,mn){this.static_tree=nn,this.extra_bits=rn,this.extra_base=on,this.elems=fn,this.max_length=mn,this.has_stree=nn&&nn.length}function Dr(nn,rn){this.dyn_tree=nn,this.max_code=0,this.stat_desc=rn}function Wr(nn){return nn<256?Or[nn]:Or[256+(nn>>>7)]}function $r(nn,rn){nn.pending_buf[nn.pending++]=255&rn,nn.pending_buf[nn.pending++]=rn>>>8&255}function Vr(nn,rn,on){nn.bi_valid>16-on?(nn.bi_buf|=rn<<nn.bi_valid&65535,$r(nn,nn.bi_buf),nn.bi_buf=rn>>16-nn.bi_valid,nn.bi_valid+=on-16):(nn.bi_buf|=rn<<nn.bi_valid&65535,nn.bi_valid+=on)}function zr(nn,rn,on){Vr(nn,on[2*rn],on[2*rn+1])}function Gr(nn,rn){for(var on=0;on|=1&nn,nn>>>=1,on<<=1,0<--rn;);return on>>>1}function Fr(nn,rn,on){var fn,mn,yn=new Array(16),Rn=0;for(fn=1;fn<=xr;fn++)yn[fn]=Rn=Rn+on[fn-1]<<1;for(mn=0;mn<=rn;mn++){var In=nn[2*mn+1];In!==0&&(nn[2*mn]=Gr(yn[In]++,In))}}function Xr(nn){var rn;for(rn=0;rn<vr;rn++)nn.dyn_ltree[2*rn]=0;for(rn=0;rn<_r;rn++)nn.dyn_dtree[2*rn]=0;for(rn=0;rn<19;rn++)nn.bl_tree[2*rn]=0;nn.dyn_ltree[512]=1,nn.opt_len=nn.static_len=0,nn.last_lit=nn.matches=0}function Ur(nn){8<nn.bi_valid?$r(nn,nn.bi_buf):0<nn.bi_valid&&(nn.pending_buf[nn.pending++]=nn.bi_buf),nn.bi_buf=0,nn.bi_valid=0}function Br(nn,rn,on,fn){var mn=2*rn,yn=2*on;return nn[mn]<nn[yn]||nn[mn]===nn[yn]&&fn[rn]<=fn[on]}function Kr(nn,rn,on){for(var fn=nn.heap[on],mn=on<<1;mn<=nn.heap_len&&(mn<nn.heap_len&&Br(rn,nn.heap[mn+1],nn.heap[mn],nn.depth)&&mn++,!Br(rn,fn,nn.heap[mn],nn.depth));)nn.heap[on]=nn.heap[mn],on=mn,mn<<=1;nn.heap[on]=fn}function Zr(nn,rn,on){var fn,mn,yn,Rn,In=0;if(nn.last_lit!==0)for(;fn=nn.pending_buf[nn.d_buf+2*In]<<8|nn.pending_buf[nn.d_buf+2*In+1],mn=nn.pending_buf[nn.l_buf+In],In++,fn===0?zr(nn,mn,rn):(zr(nn,(yn=Pr[mn])+yr+1,rn),(Rn=Rr[yn])!==0&&Vr(nn,mn-=Mr[yn],Rn),zr(nn,yn=Wr(--fn),on),(Rn=Cr[yn])!==0&&Vr(nn,fn-=Ar[yn],Rn)),In<nn.last_lit;);zr(nn,256,rn)}function tn(nn,rn){var on,fn,mn,yn=rn.dyn_tree,Rn=rn.stat_desc.static_tree,In=rn.stat_desc.has_stree,Sn=rn.stat_desc.elems,Dn=-1;for(nn.heap_len=0,nn.heap_max=573,on=0;on<Sn;on++)yn[2*on]!==0?(nn.heap[++nn.heap_len]=Dn=on,nn.depth[on]=0):yn[2*on+1]=0;for(;nn.heap_len<2;)yn[2*(mn=nn.heap[++nn.heap_len]=Dn<2?++Dn:0)]=1,nn.depth[mn]=0,nn.opt_len--,In&&(nn.static_len-=Rn[2*mn+1]);for(rn.max_code=Dn,on=nn.heap_len>>1;1<=on;on--)Kr(nn,yn,on);for(mn=Sn;on=nn.heap[1],nn.heap[1]=nn.heap[nn.heap_len--],Kr(nn,yn,1),fn=nn.heap[1],nn.heap[--nn.heap_max]=on,nn.heap[--nn.heap_max]=fn,yn[2*mn]=yn[2*on]+yn[2*fn],nn.depth[mn]=(nn.depth[on]>=nn.depth[fn]?nn.depth[on]:nn.depth[fn])+1,yn[2*on+1]=yn[2*fn+1]=mn,nn.heap[1]=mn++,Kr(nn,yn,1),2<=nn.heap_len;);nn.heap[--nn.heap_max]=nn.heap[1],function(zn,rs){var ns,fs,qn,ds,os,gs,Wn=rs.dyn_tree,Fn=rs.max_code,Bn=rs.stat_desc.static_tree,ss=rs.stat_desc.has_stree,$s=rs.stat_desc.extra_bits,vs=rs.stat_desc.extra_base,kn=rs.stat_desc.max_length,Qn=0;for(ds=0;ds<=xr;ds++)zn.bl_count[ds]=0;for(Wn[2*zn.heap[zn.heap_max]+1]=0,ns=zn.heap_max+1;ns<573;ns++)kn<(ds=Wn[2*Wn[2*(fs=zn.heap[ns])+1]+1]+1)&&(ds=kn,Qn++),Wn[2*fs+1]=ds,Fn<fs||(zn.bl_count[ds]++,os=0,vs<=fs&&(os=$s[fs-vs]),gs=Wn[2*fs],zn.opt_len+=gs*(ds+os),ss&&(zn.static_len+=gs*(Bn[2*fs+1]+os)));if(Qn!==0){do{for(ds=kn-1;zn.bl_count[ds]===0;)ds--;zn.bl_count[ds]--,zn.bl_count[ds+1]+=2,zn.bl_count[kn]--,Qn-=2}while(0<Qn);for(ds=kn;ds!==0;ds--)for(fs=zn.bl_count[ds];fs!==0;)Fn<(qn=zn.heap[--ns])||(Wn[2*qn+1]!==ds&&(zn.opt_len+=(ds-Wn[2*qn+1])*Wn[2*qn],Wn[2*qn+1]=ds),fs--)}}(nn,rn),Fr(yn,Dn,nn.bl_count)}function sn(nn,rn,on){var fn,mn,yn=-1,Rn=rn[1],In=0,Sn=7,Dn=4;for(Rn===0&&(Sn=138,Dn=3),rn[2*(on+1)+1]=65535,fn=0;fn<=on;fn++)mn=Rn,Rn=rn[2*(fn+1)+1],++In<Sn&&mn===Rn||(In<Dn?nn.bl_tree[2*mn]+=In:mn!==0?(mn!==yn&&nn.bl_tree[2*mn]++,nn.bl_tree[32]++):In<=10?nn.bl_tree[34]++:nn.bl_tree[36]++,yn=mn,Dn=(In=0)===Rn?(Sn=138,3):mn===Rn?(Sn=6,3):(Sn=7,4))}function un(nn,rn,on){var fn,mn,yn=-1,Rn=rn[1],In=0,Sn=7,Dn=4;for(Rn===0&&(Sn=138,Dn=3),fn=0;fn<=on;fn++)if(mn=Rn,Rn=rn[2*(fn+1)+1],!(++In<Sn&&mn===Rn)){if(In<Dn)for(;zr(nn,mn,nn.bl_tree),--In!=0;);else mn!==0?(mn!==yn&&(zr(nn,mn,nn.bl_tree),In--),zr(nn,16,nn.bl_tree),Vr(nn,In-3,2)):In<=10?(zr(nn,17,nn.bl_tree),Vr(nn,In-3,3)):(zr(nn,18,nn.bl_tree),Vr(nn,In-11,7));yn=mn,Dn=(In=0)===Rn?(Sn=138,3):mn===Rn?(Sn=6,3):(Sn=7,4)}}gr(Ar);var hn=!1;function Jr(nn,rn,on,fn){Vr(nn,0+(fn?1:0),3),function(mn,yn,Rn,In){Ur(mn),$r(mn,Rn),$r(mn,~Rn),pr.arraySet(mn.pending_buf,mn.window,yn,Rn,mn.pending),mn.pending+=Rn}(nn,rn,on)}br._tr_init=function(nn){hn||(function(){var rn,on,fn,mn,yn,Rn=new Array(16);for(mn=fn=0;mn<28;mn++)for(Mr[mn]=fn,rn=0;rn<1<<Rr[mn];rn++)Pr[fn++]=mn;for(Pr[fn-1]=mn,mn=yn=0;mn<16;mn++)for(Ar[mn]=yn,rn=0;rn<1<<Cr[mn];rn++)Or[yn++]=mn;for(yn>>=7;mn<_r;mn++)for(Ar[mn]=yn<<7,rn=0;rn<1<<Cr[mn]-7;rn++)Or[256+yn++]=mn;for(on=0;on<=xr;on++)Rn[on]=0;for(rn=0;rn<=143;)Lr[2*rn+1]=8,rn++,Rn[8]++;for(;rn<=255;)Lr[2*rn+1]=9,rn++,Rn[9]++;for(;rn<=279;)Lr[2*rn+1]=7,rn++,Rn[7]++;for(;rn<=287;)Lr[2*rn+1]=8,rn++,Rn[8]++;for(Fr(Lr,287,Rn),rn=0;rn<_r;rn++)Nr[2*rn+1]=5,Nr[2*rn]=Gr(rn,5);jr=new Sr(Lr,Rr,257,vr,xr),wr=new Sr(Nr,Cr,0,_r,xr),Er=new Sr(new Array(0),Tr,0,19,7)}(),hn=!0),nn.l_desc=new Dr(nn.dyn_ltree,jr),nn.d_desc=new Dr(nn.dyn_dtree,wr),nn.bl_desc=new Dr(nn.bl_tree,Er),nn.bi_buf=0,nn.bi_valid=0,Xr(nn)},br._tr_stored_block=Jr,br._tr_flush_block=function(nn,rn,on,fn){var mn,yn,Rn=0;0<nn.level?(nn.strm.data_type===2&&(nn.strm.data_type=function(In){var Sn,Dn=4093624447;for(Sn=0;Sn<=31;Sn++,Dn>>>=1)if(1&Dn&&In.dyn_ltree[2*Sn]!==0)return 0;if(In.dyn_ltree[18]!==0||In.dyn_ltree[20]!==0||In.dyn_ltree[26]!==0)return 1;for(Sn=32;Sn<yr;Sn++)if(In.dyn_ltree[2*Sn]!==0)return 1;return 0}(nn)),tn(nn,nn.l_desc),tn(nn,nn.d_desc),Rn=function(In){var Sn;for(sn(In,In.dyn_ltree,In.l_desc.max_code),sn(In,In.dyn_dtree,In.d_desc.max_code),tn(In,In.bl_desc),Sn=18;3<=Sn&&In.bl_tree[2*Ir[Sn]+1]===0;Sn--);return In.opt_len+=3*(Sn+1)+5+5+4,Sn}(nn),mn=nn.opt_len+3+7>>>3,(yn=nn.static_len+3+7>>>3)<=mn&&(mn=yn)):mn=yn=on+5,on+4<=mn&&rn!==-1?Jr(nn,rn,on,fn):nn.strategy===4||yn===mn?(Vr(nn,2+(fn?1:0),3),Zr(nn,Lr,Nr)):(Vr(nn,4+(fn?1:0),3),function(In,Sn,Dn,zn){var rs;for(Vr(In,Sn-257,5),Vr(In,Dn-1,5),Vr(In,zn-4,4),rs=0;rs<zn;rs++)Vr(In,In.bl_tree[2*Ir[rs]+1],3);un(In,In.dyn_ltree,Sn-1),un(In,In.dyn_dtree,Dn-1)}(nn,nn.l_desc.max_code+1,nn.d_desc.max_code+1,Rn+1),Zr(nn,nn.dyn_ltree,nn.dyn_dtree)),Xr(nn),fn&&Ur(nn)},br._tr_tally=function(nn,rn,on){return nn.pending_buf[nn.d_buf+2*nn.last_lit]=rn>>>8&255,nn.pending_buf[nn.d_buf+2*nn.last_lit+1]=255&rn,nn.pending_buf[nn.l_buf+nn.last_lit]=255&on,nn.last_lit++,rn===0?nn.dyn_ltree[2*on]++:(nn.matches++,rn--,nn.dyn_ltree[2*(Pr[on]+yr+1)]++,nn.dyn_dtree[2*Wr(rn)]++),nn.last_lit===nn.lit_bufsize-1},br._tr_align=function(nn){Vr(nn,2,3),zr(nn,256,Lr),function(rn){rn.bi_valid===16?($r(rn,rn.bi_buf),rn.bi_buf=0,rn.bi_valid=0):8<=rn.bi_valid&&(rn.pending_buf[rn.pending++]=255&rn.bi_buf,rn.bi_buf>>=8,rn.bi_valid-=8)}(nn)}},{"../utils/common":41}],53:[function(fr,mr,br){mr.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(fr,mr,br){(function(pr){(function(gr,yr){if(!gr.setImmediate){var vr,_r,xr,Rr,Cr=1,Tr={},Ir=!1,Lr=gr.document,Nr=Object.getPrototypeOf&&Object.getPrototypeOf(gr);Nr=Nr&&Nr.setTimeout?Nr:gr,vr={}.toString.call(gr.process)==="[object process]"?function(jr){ar.nextTick(function(){Pr(jr)})}:function(){if(gr.postMessage&&!gr.importScripts){var jr=!0,wr=gr.onmessage;return gr.onmessage=function(){jr=!1},gr.postMessage("","*"),gr.onmessage=wr,jr}}()?(Rr="setImmediate$"+Math.random()+"$",gr.addEventListener?gr.addEventListener("message",Mr,!1):gr.attachEvent("onmessage",Mr),function(jr){gr.postMessage(Rr+jr,"*")}):gr.MessageChannel?((xr=new MessageChannel).port1.onmessage=function(jr){Pr(jr.data)},function(jr){xr.port2.postMessage(jr)}):Lr&&"onreadystatechange"in Lr.createElement("script")?(_r=Lr.documentElement,function(jr){var wr=Lr.createElement("script");wr.onreadystatechange=function(){Pr(jr),wr.onreadystatechange=null,_r.removeChild(wr),wr=null},_r.appendChild(wr)}):function(jr){setTimeout(Pr,0,jr)},Nr.setImmediate=function(jr){typeof jr!="function"&&(jr=new Function(""+jr));for(var wr=new Array(arguments.length-1),Er=0;Er<wr.length;Er++)wr[Er]=arguments[Er+1];var Ar={callback:jr,args:wr};return Tr[Cr]=Ar,vr(Cr),Cr++},Nr.clearImmediate=Or}function Or(jr){delete Tr[jr]}function Pr(jr){if(Ir)setTimeout(Pr,0,jr);else{var wr=Tr[jr];if(wr){Ir=!0;try{(function(Er){var Ar=Er.callback,Sr=Er.args;switch(Sr.length){case 0:Ar();break;case 1:Ar(Sr[0]);break;case 2:Ar(Sr[0],Sr[1]);break;case 3:Ar(Sr[0],Sr[1],Sr[2]);break;default:Ar.apply(void 0,Sr)}})(wr)}finally{Or(jr),Ir=!1}}}}function Mr(jr){jr.source===gr&&typeof jr.data=="string"&&jr.data.indexOf(Rr)===0&&Pr(+jr.data.slice(Rr.length))}})(typeof self>"u"?pr===void 0?this:pr:self)}).call(this,sr!==void 0?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},rr("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],rr("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(rr,nr,ir){(function(ar){(function(){var sr=/[\\^$.*+?()[\]{}|]/g,lr=RegExp(sr.source),or=typeof ar=="object"&&ar&&ar.Object===Object&&ar,cr=typeof self=="object"&&self&&self.Object===Object&&self,ur=or||cr||Function("return this")(),dr=Object.prototype.toString,hr=ur.Symbol,fr=hr?hr.prototype:void 0,mr=fr?fr.toString:void 0;function br(pr){if(typeof pr=="string")return pr;if(function(yr){return typeof yr=="symbol"||function(vr){return!!vr&&typeof vr=="object"}(yr)&&dr.call(yr)=="[object Symbol]"}(pr))return mr?mr.call(pr):"";var gr=pr+"";return gr=="0"&&1/pr==-1/0?"-0":gr}nr.exports=function(pr){var gr;return(pr=(gr=pr)==null?"":br(gr))&&lr.test(pr)?pr.replace(sr,"\\$&"):pr}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(rr,nr,ir){(function(ar){(function(){var sr="[object Arguments]",lr="[object Map]",or="[object Object]",cr="[object Set]",ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,hr=/^\./,fr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mr=/\\(\\)?/g,br=/^\[object .+?Constructor\]$/,pr=/^(?:0|[1-9]\d*)$/,gr={};gr["[object Float32Array]"]=gr["[object Float64Array]"]=gr["[object Int8Array]"]=gr["[object Int16Array]"]=gr["[object Int32Array]"]=gr["[object Uint8Array]"]=gr["[object Uint8ClampedArray]"]=gr["[object Uint16Array]"]=gr["[object Uint32Array]"]=!0,gr[sr]=gr["[object Array]"]=gr["[object ArrayBuffer]"]=gr["[object Boolean]"]=gr["[object DataView]"]=gr["[object Date]"]=gr["[object Error]"]=gr["[object Function]"]=gr[lr]=gr["[object Number]"]=gr[or]=gr["[object RegExp]"]=gr[cr]=gr["[object String]"]=gr["[object WeakMap]"]=!1;var yr=typeof ar=="object"&&ar&&ar.Object===Object&&ar,vr=typeof self=="object"&&self&&self.Object===Object&&self,_r=yr||vr||Function("return this")(),xr=typeof ir=="object"&&ir&&!ir.nodeType&&ir,Rr=xr&&typeof nr=="object"&&nr&&!nr.nodeType&&nr,Cr=Rr&&Rr.exports===xr&&yr.process,Tr=function(){try{return Cr&&Cr.binding("util")}catch{}}(),Ir=Tr&&Tr.isTypedArray;function Lr(Ln,is,ws,As){for(var Fs=-1,ks=Ln?Ln.length:0;++Fs<ks;){var Os=Ln[Fs];is(As,Os,ws(Os),Ln)}return As}function Nr(Ln,is){for(var ws=-1,As=Ln?Ln.length:0;++ws<As;)if(is(Ln[ws],ws,Ln))return!0;return!1}function Or(Ln){var is=!1;if(Ln!=null&&typeof Ln.toString!="function")try{is=!!(Ln+"")}catch{}return is}function Pr(Ln){var is=-1,ws=Array(Ln.size);return Ln.forEach(function(As,Fs){ws[++is]=[Fs,As]}),ws}function Mr(Ln){var is=-1,ws=Array(Ln.size);return Ln.forEach(function(As){ws[++is]=As}),ws}var jr,wr,Er,Ar=Array.prototype,Sr=Function.prototype,Dr=Object.prototype,Wr=_r["__core-js_shared__"],$r=(jr=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||""))?"Symbol(src)_1."+jr:"",Vr=Sr.toString,zr=Dr.hasOwnProperty,Gr=Dr.toString,Fr=RegExp("^"+Vr.call(zr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=_r.Symbol,Ur=_r.Uint8Array,Br=Dr.propertyIsEnumerable,Kr=Ar.splice,Zr=(wr=Object.keys,Er=Object,function(Ln){return wr(Er(Ln))}),tn=ls(_r,"DataView"),sn=ls(_r,"Map"),un=ls(_r,"Promise"),hn=ls(_r,"Set"),Jr=ls(_r,"WeakMap"),nn=ls(Object,"create"),rn=jn(tn),on=jn(sn),fn=jn(un),mn=jn(hn),yn=jn(Jr),Rn=Xr?Xr.prototype:void 0,In=Rn?Rn.valueOf:void 0,Sn=Rn?Rn.toString:void 0;function Dn(Ln){var is=-1,ws=Ln?Ln.length:0;for(this.clear();++is<ws;){var As=Ln[is];this.set(As[0],As[1])}}function zn(Ln){var is=-1,ws=Ln?Ln.length:0;for(this.clear();++is<ws;){var As=Ln[is];this.set(As[0],As[1])}}function rs(Ln){var is=-1,ws=Ln?Ln.length:0;for(this.clear();++is<ws;){var As=Ln[is];this.set(As[0],As[1])}}function ns(Ln){var is=-1,ws=Ln?Ln.length:0;for(this.__data__=new rs;++is<ws;)this.add(Ln[is])}function fs(Ln){this.__data__=new zn(Ln)}function qn(Ln,is){var ws=ys(Ln)||_i(Ln)?function(Os,Js){for(var qs=-1,Ys=Array(Os);++qs<Os;)Ys[qs]=Js(qs);return Ys}(Ln.length,String):[],As=ws.length,Fs=!!As;for(var ks in Ln)!zr.call(Ln,ks)||Fs&&(ks=="length"||wn(ks,As))||ws.push(ks);return ws}function ds(Ln,is){for(var ws=Ln.length;ws--;)if(Kn(Ln[ws][0],is))return ws;return-1}function os(Ln,is,ws,As){return Wn(Ln,function(Fs,ks,Os){is(As,Fs,ws(Fs),Os)}),As}Dn.prototype.clear=function(){this.__data__=nn?nn(null):{}},Dn.prototype.delete=function(Ln){return this.has(Ln)&&delete this.__data__[Ln]},Dn.prototype.get=function(Ln){var is=this.__data__;if(nn){var ws=is[Ln];return ws==="__lodash_hash_undefined__"?void 0:ws}return zr.call(is,Ln)?is[Ln]:void 0},Dn.prototype.has=function(Ln){var is=this.__data__;return nn?is[Ln]!==void 0:zr.call(is,Ln)},Dn.prototype.set=function(Ln,is){return this.__data__[Ln]=nn&&is===void 0?"__lodash_hash_undefined__":is,this},zn.prototype.clear=function(){this.__data__=[]},zn.prototype.delete=function(Ln){var is=this.__data__,ws=ds(is,Ln);return!(ws<0)&&(ws==is.length-1?is.pop():Kr.call(is,ws,1),!0)},zn.prototype.get=function(Ln){var is=this.__data__,ws=ds(is,Ln);return ws<0?void 0:is[ws][1]},zn.prototype.has=function(Ln){return ds(this.__data__,Ln)>-1},zn.prototype.set=function(Ln,is){var ws=this.__data__,As=ds(ws,Ln);return As<0?ws.push([Ln,is]):ws[As][1]=is,this},rs.prototype.clear=function(){this.__data__={hash:new Dn,map:new(sn||zn),string:new Dn}},rs.prototype.delete=function(Ln){return ms(this,Ln).delete(Ln)},rs.prototype.get=function(Ln){return ms(this,Ln).get(Ln)},rs.prototype.has=function(Ln){return ms(this,Ln).has(Ln)},rs.prototype.set=function(Ln,is){return ms(this,Ln).set(Ln,is),this},ns.prototype.add=ns.prototype.push=function(Ln){return this.__data__.set(Ln,"__lodash_hash_undefined__"),this},ns.prototype.has=function(Ln){return this.__data__.has(Ln)},fs.prototype.clear=function(){this.__data__=new zn},fs.prototype.delete=function(Ln){return this.__data__.delete(Ln)},fs.prototype.get=function(Ln){return this.__data__.get(Ln)},fs.prototype.has=function(Ln){return this.__data__.has(Ln)},fs.prototype.set=function(Ln,is){var ws=this.__data__;if(ws instanceof zn){var As=ws.__data__;if(!sn||As.length<199)return As.push([Ln,is]),this;ws=this.__data__=new rs(As)}return ws.set(Ln,is),this};var gs,Wn=(gs=function(Ln,is){return Ln&&Fn(Ln,is,ao)},function(Ln,is){if(Ln==null)return Ln;if(!xs(Ln))return gs(Ln,is);for(var ws=Ln.length,As=-1,Fs=Object(Ln);++As<ws&&is(Fs[As],As,Fs)!==!1;);return Ln}),Fn=function(Ln){return function(is,ws,As){for(var Fs=-1,ks=Object(is),Os=As(is),Js=Os.length;Js--;){var qs=Os[++Fs];if(ws(ks[qs],qs,ks)===!1)break}return is}}();function Bn(Ln,is){for(var ws=0,As=(is=Nn(is,Ln)?[is]:xa(is)).length;Ln!=null&&ws<As;)Ln=Ln[_n(is[ws++])];return ws&&ws==As?Ln:void 0}function ss(Ln,is){return Ln!=null&&is in Object(Ln)}function $s(Ln,is,ws,As,Fs){return Ln===is||(Ln==null||is==null||!Ls(Ln)&&!Ws(is)?Ln!=Ln&&is!=is:function(ks,Os,Js,qs,Ys,Us){var so=ys(ks),Hs=ys(Os),oo="[object Array]",ho="[object Array]";so||(oo=(oo=An(ks))==sr?or:oo),Hs||(ho=(ho=An(Os))==sr?or:ho);var Po=oo==or&&!Or(ks),Ro=ho==or&&!Or(Os),Lo=oo==ho;if(Lo&&!Po)return Us||(Us=new fs),so||ro(ks)?as(ks,Os,Js,qs,Ys,Us):function(no,Qs,zo,lo,Qo,ps,js){switch(zo){case"[object DataView]":if(no.byteLength!=Qs.byteLength||no.byteOffset!=Qs.byteOffset)return!1;no=no.buffer,Qs=Qs.buffer;case"[object ArrayBuffer]":return!(no.byteLength!=Qs.byteLength||!lo(new Ur(no),new Ur(Qs)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Kn(+no,+Qs);case"[object Error]":return no.name==Qs.name&&no.message==Qs.message;case"[object RegExp]":case"[object String]":return no==Qs+"";case lr:var zs=Pr;case cr:var Zs=2&ps;if(zs||(zs=Mr),no.size!=Qs.size&&!Zs)return!1;var xo=js.get(no);if(xo)return xo==Qs;ps|=1,js.set(no,Qs);var fo=as(zs(no),zs(Qs),lo,Qo,ps,js);return js.delete(no),fo;case"[object Symbol]":if(In)return In.call(no)==In.call(Qs)}return!1}(ks,Os,oo,Js,qs,Ys,Us);if(!(2&Ys)){var jo=Po&&zr.call(ks,"__wrapped__"),qo=Ro&&zr.call(Os,"__wrapped__");if(jo||qo){var go=jo?ks.value():ks,Oo=qo?Os.value():Os;return Us||(Us=new fs),Js(go,Oo,qs,Ys,Us)}}return Lo?(Us||(Us=new fs),function(no,Qs,zo,lo,Qo,ps){var js=2&Qo,zs=ao(no),Zs=zs.length,xo=ao(Qs).length;if(Zs!=xo&&!js)return!1;for(var fo=Zs;fo--;){var mo=zs[fo];if(!(js?mo in Qs:zr.call(Qs,mo)))return!1}var Hl=ps.get(no);if(Hl&&ps.get(Qs))return Hl==Qs;var Jo=!0;ps.set(no,Qs),ps.set(Qs,no);for(var wo=js;++fo<Zs;){mo=zs[fo];var Gl=no[mo],$l=Qs[mo];if(lo)var Ks=js?lo($l,Gl,mo,Qs,no,ps):lo(Gl,$l,mo,no,Qs,ps);if(!(Ks===void 0?Gl===$l||zo(Gl,$l,lo,Qo,ps):Ks)){Jo=!1;break}wo||(wo=mo=="constructor")}if(Jo&&!wo){var yl=no.constructor,eu=Qs.constructor;yl==eu||!("constructor"in no)||!("constructor"in Qs)||typeof yl=="function"&&yl instanceof yl&&typeof eu=="function"&&eu instanceof eu||(Jo=!1)}return ps.delete(no),ps.delete(Qs),Jo}(ks,Os,Js,qs,Ys,Us)):!1}(Ln,is,$s,ws,As,Fs))}function vs(Ln){return!(!Ls(Ln)||function(is){return!!$r&&$r in is}(Ln))&&(Cs(Ln)||Or(Ln)?Fr:br).test(jn(Ln))}function kn(Ln){return typeof Ln=="function"?Ln:Ln==null?_o:typeof Ln=="object"?ys(Ln)?function(As,Fs){return Nn(As)&&$n(Fs)?Gn(_n(As),Fs):function(ks){var Os=function(Js,qs,Ys){var Us=Js==null?void 0:Bn(Js,qs);return Us===void 0?Ys:Us}(ks,As);return Os===void 0&&Os===Fs?function(Js,qs){return Js!=null&&function(Ys,Us,so){Us=Nn(Us,Ys)?[Us]:xa(Us);for(var Hs,oo=-1,ho=Us.length;++oo<ho;){var Po=_n(Us[oo]);if(!(Hs=Ys!=null&&so(Ys,Po)))break;Ys=Ys[Po]}return Hs||!!(ho=Ys?Ys.length:0)&&Rs(ho)&&wn(Po,ho)&&(ys(Ys)||_i(Ys))}(Js,qs,ss)}(ks,As):$s(Fs,Os,void 0,3)}}(Ln[0],Ln[1]):function(As){var Fs=function(ks){for(var Os=ao(ks),Js=Os.length;Js--;){var qs=Os[Js],Ys=ks[qs];Os[Js]=[qs,Ys,$n(Ys)]}return Os}(As);return Fs.length==1&&Fs[0][2]?Gn(Fs[0][0],Fs[0][1]):function(ks){return ks===As||function(Os,Js,qs,Ys){var Us=qs.length,so=Us;if(Os==null)return!so;for(Os=Object(Os);Us--;){var Hs=qs[Us];if(Hs[2]?Hs[1]!==Os[Hs[0]]:!(Hs[0]in Os))return!1}for(;++Us<so;){var oo=(Hs=qs[Us])[0],ho=Os[oo],Po=Hs[1];if(Hs[2]){if(ho===void 0&&!(oo in Os))return!1}else{var Ro=new fs,Lo;if(!(Lo===void 0?$s(Po,ho,Ys,3,Ro):Lo))return!1}}return!0}(ks,As,Fs)}}(Ln):Nn(is=Ln)?(ws=_n(is),function(As){return As==null?void 0:As[ws]}):function(As){return function(Fs){return Bn(Fs,As)}}(is);var is,ws}function Qn(Ln){if(ws=(is=Ln)&&is.constructor,As=typeof ws=="function"&&ws.prototype||Dr,is!==As)return Zr(Ln);var is,ws,As,Fs=[];for(var ks in Object(Ln))zr.call(Ln,ks)&&ks!="constructor"&&Fs.push(ks);return Fs}function xa(Ln){return ys(Ln)?Ln:gn(Ln)}function as(Ln,is,ws,As,Fs,ks){var Os=2&Fs,Js=Ln.length,qs=is.length;if(Js!=qs&&!(Os&&qs>Js))return!1;var Ys=ks.get(Ln);if(Ys&&ks.get(is))return Ys==is;var Us=-1,so=!0,Hs=1&Fs?new ns:void 0;for(ks.set(Ln,is),ks.set(is,Ln);++Us<Js;){var oo=Ln[Us],ho=is[Us];if(As)var Po=Os?As(ho,oo,Us,is,Ln,ks):As(oo,ho,Us,Ln,is,ks);if(Po!==void 0){if(Po)continue;so=!1;break}if(Hs){if(!Nr(is,function(Ro,Lo){if(!Hs.has(Lo)&&(oo===Ro||ws(oo,Ro,As,Fs,ks)))return Hs.add(Lo)})){so=!1;break}}else if(oo!==ho&&!ws(oo,ho,As,Fs,ks)){so=!1;break}}return ks.delete(Ln),ks.delete(is),so}function ms(Ln,is){var ws,As,Fs=Ln.__data__;return((As=typeof(ws=is))=="string"||As=="number"||As=="symbol"||As=="boolean"?ws!=="__proto__":ws===null)?Fs[typeof is=="string"?"string":"hash"]:Fs.map}function ls(Ln,is){var ws=function(As,Fs){return As==null?void 0:As[Fs]}(Ln,is);return vs(ws)?ws:void 0}var An=function(Ln){return Gr.call(Ln)};function wn(Ln,is){return!!(is=is??9007199254740991)&&(typeof Ln=="number"||pr.test(Ln))&&Ln>-1&&Ln%1==0&&Ln<is}function Nn(Ln,is){if(ys(Ln))return!1;var ws=typeof Ln;return!(ws!="number"&&ws!="symbol"&&ws!="boolean"&&Ln!=null&&!Xs(Ln))||dr.test(Ln)||!ur.test(Ln)||is!=null&&Ln in Object(is)}function $n(Ln){return Ln==Ln&&!Ls(Ln)}function Gn(Ln,is){return function(ws){return ws!=null&&ws[Ln]===is&&(is!==void 0||Ln in Object(ws))}}(tn&&An(new tn(new ArrayBuffer(1)))!="[object DataView]"||sn&&An(new sn)!=lr||un&&An(un.resolve())!="[object Promise]"||hn&&An(new hn)!=cr||Jr&&An(new Jr)!="[object WeakMap]")&&(An=function(Ln){var is=Gr.call(Ln),ws=is==or?Ln.constructor:void 0,As=ws?jn(ws):void 0;if(As)switch(As){case rn:return"[object DataView]";case on:return lr;case fn:return"[object Promise]";case mn:return cr;case yn:return"[object WeakMap]"}return is});var gn=Hn(function(Ln){var is;Ln=(is=Ln)==null?"":function(As){if(typeof As=="string")return As;if(Xs(As))return Sn?Sn.call(As):"";var Fs=As+"";return Fs=="0"&&1/As==-1/0?"-0":Fs}(is);var ws=[];return hr.test(Ln)&&ws.push(""),Ln.replace(fr,function(As,Fs,ks,Os){ws.push(ks?Os.replace(mr,"$1"):Fs||As)}),ws});function _n(Ln){if(typeof Ln=="string"||Xs(Ln))return Ln;var is=Ln+"";return is=="0"&&1/Ln==-1/0?"-0":is}function jn(Ln){if(Ln!=null){try{return Vr.call(Ln)}catch{}try{return Ln+""}catch{}}return""}var On,Un=(On=function(Ln,is,ws){zr.call(Ln,ws)?Ln[ws].push(is):Ln[ws]=[is]},function(Ln,is){var ws=ys(Ln)?Lr:os,As={};return ws(Ln,On,kn(is),As)});function Hn(Ln,is){if(typeof Ln!="function"||is&&typeof is!="function")throw new TypeError("Expected a function");var ws=function(){var As=arguments,Fs=is?is.apply(this,As):As[0],ks=ws.cache;if(ks.has(Fs))return ks.get(Fs);var Os=Ln.apply(this,As);return ws.cache=ks.set(Fs,Os),Os};return ws.cache=new(Hn.Cache||rs),ws}function Kn(Ln,is){return Ln===is||Ln!=Ln&&is!=is}function _i(Ln){return function(is){return Ws(is)&&xs(is)}(Ln)&&zr.call(Ln,"callee")&&(!Br.call(Ln,"callee")||Gr.call(Ln)==sr)}Hn.Cache=rs;var ys=Array.isArray;function xs(Ln){return Ln!=null&&Rs(Ln.length)&&!Cs(Ln)}function Cs(Ln){var is=Ls(Ln)?Gr.call(Ln):"";return is=="[object Function]"||is=="[object GeneratorFunction]"}function Rs(Ln){return typeof Ln=="number"&&Ln>-1&&Ln%1==0&&Ln<=9007199254740991}function Ls(Ln){var is=typeof Ln;return!!Ln&&(is=="object"||is=="function")}function Ws(Ln){return!!Ln&&typeof Ln=="object"}function Xs(Ln){return typeof Ln=="symbol"||Ws(Ln)&&Gr.call(Ln)=="[object Symbol]"}var ro=Ir?function(Ln){return function(is){return Ln(is)}}(Ir):function(Ln){return Ws(Ln)&&Rs(Ln.length)&&!!gr[Gr.call(Ln)]};function ao(Ln){return xs(Ln)?qn(Ln):Qn(Ln)}function _o(Ln){return Ln}nr.exports=Un}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(rr,nr,ir){var ar=Object.prototype.toString;nr.exports=function(sr){return sr===!0||sr===!1||function(lr){return!!lr&&typeof lr=="object"}(sr)&&ar.call(sr)=="[object Boolean]"}},{}],445:[function(rr,nr,ir){(function(ar){(function(){var sr="[object Arguments]",lr="[object Map]",or="[object Object]",cr="[object Set]",ur=/^\[object .+?Constructor\]$/,dr=/^(?:0|[1-9]\d*)$/,hr={};hr["[object Float32Array]"]=hr["[object Float64Array]"]=hr["[object Int8Array]"]=hr["[object Int16Array]"]=hr["[object Int32Array]"]=hr["[object Uint8Array]"]=hr["[object Uint8ClampedArray]"]=hr["[object Uint16Array]"]=hr["[object Uint32Array]"]=!0,hr[sr]=hr["[object Array]"]=hr["[object ArrayBuffer]"]=hr["[object Boolean]"]=hr["[object DataView]"]=hr["[object Date]"]=hr["[object Error]"]=hr["[object Function]"]=hr[lr]=hr["[object Number]"]=hr[or]=hr["[object RegExp]"]=hr[cr]=hr["[object String]"]=hr["[object WeakMap]"]=!1;var fr=typeof ar=="object"&&ar&&ar.Object===Object&&ar,mr=typeof self=="object"&&self&&self.Object===Object&&self,br=fr||mr||Function("return this")(),pr=typeof ir=="object"&&ir&&!ir.nodeType&&ir,gr=pr&&typeof nr=="object"&&nr&&!nr.nodeType&&nr,yr=gr&&gr.exports===pr,vr=yr&&fr.process,_r=function(){try{return vr&&vr.binding&&vr.binding("util")}catch{}}(),xr=_r&&_r.isTypedArray;function Rr(_n,jn){for(var On=-1,Un=_n==null?0:_n.length;++On<Un;)if(jn(_n[On],On,_n))return!0;return!1}function Cr(_n){var jn=-1,On=Array(_n.size);return _n.forEach(function(Un,Hn){On[++jn]=[Hn,Un]}),On}function Tr(_n){var jn=-1,On=Array(_n.size);return _n.forEach(function(Un){On[++jn]=Un}),On}var Ir,Lr,Nr,Or=Array.prototype,Pr=Function.prototype,Mr=Object.prototype,jr=br["__core-js_shared__"],wr=Pr.toString,Er=Mr.hasOwnProperty,Ar=(Ir=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||""))?"Symbol(src)_1."+Ir:"",Sr=Mr.toString,Dr=RegExp("^"+wr.call(Er).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=yr?br.Buffer:void 0,$r=br.Symbol,Vr=br.Uint8Array,zr=Mr.propertyIsEnumerable,Gr=Or.splice,Fr=$r?$r.toStringTag:void 0,Xr=Object.getOwnPropertySymbols,Ur=Wr?Wr.isBuffer:void 0,Br=(Lr=Object.keys,Nr=Object,function(_n){return Lr(Nr(_n))}),Kr=ss(br,"DataView"),Zr=ss(br,"Map"),tn=ss(br,"Promise"),sn=ss(br,"Set"),un=ss(br,"WeakMap"),hn=ss(Object,"create"),Jr=Qn(Kr),nn=Qn(Zr),rn=Qn(tn),on=Qn(sn),fn=Qn(un),mn=$r?$r.prototype:void 0,yn=mn?mn.valueOf:void 0;function Rn(_n){var jn=-1,On=_n==null?0:_n.length;for(this.clear();++jn<On;){var Un=_n[jn];this.set(Un[0],Un[1])}}function In(_n){var jn=-1,On=_n==null?0:_n.length;for(this.clear();++jn<On;){var Un=_n[jn];this.set(Un[0],Un[1])}}function Sn(_n){var jn=-1,On=_n==null?0:_n.length;for(this.clear();++jn<On;){var Un=_n[jn];this.set(Un[0],Un[1])}}function Dn(_n){var jn=-1,On=_n==null?0:_n.length;for(this.__data__=new Sn;++jn<On;)this.add(_n[jn])}function zn(_n){var jn=this.__data__=new In(_n);this.size=jn.size}function rs(_n,jn){var On=ms(_n),Un=!On&&as(_n),Hn=!On&&!Un&&ls(_n),Kn=!On&&!Un&&!Hn&&Gn(_n),_i=On||Un||Hn||Kn,ys=_i?function(Rs,Ls){for(var Ws=-1,Xs=Array(Rs);++Ws<Rs;)Xs[Ws]=Ls(Ws);return Xs}(_n.length,String):[],xs=ys.length;for(var Cs in _n)!Er.call(_n,Cs)||_i&&(Cs=="length"||Hn&&(Cs=="offset"||Cs=="parent")||Kn&&(Cs=="buffer"||Cs=="byteLength"||Cs=="byteOffset")||kn(Cs,xs))||ys.push(Cs);return ys}function ns(_n,jn){for(var On=_n.length;On--;)if(xa(_n[On][0],jn))return On;return-1}function fs(_n){return _n==null?_n===void 0?"[object Undefined]":"[object Null]":Fr&&Fr in Object(_n)?function(jn){var On=Er.call(jn,Fr),Un=jn[Fr];try{jn[Fr]=void 0;var Hn=!0}catch{}var Kn=Sr.call(jn);return Hn&&(On?jn[Fr]=Un:delete jn[Fr]),Kn}(_n):function(jn){return Sr.call(jn)}(_n)}function qn(_n){return $n(_n)&&fs(_n)==sr}function ds(_n,jn,On,Un,Hn){return _n===jn||(_n==null||jn==null||!$n(_n)&&!$n(jn)?_n!=_n&&jn!=jn:function(Kn,_i,ys,xs,Cs,Rs){var Ls=ms(Kn),Ws=ms(_i),Xs=Ls?"[object Array]":vs(Kn),ro=Ws?"[object Array]":vs(_i),ao=(Xs=Xs==sr?or:Xs)==or,_o=(ro=ro==sr?or:ro)==or,Ln=Xs==ro;if(Ln&&ls(Kn)){if(!ls(_i))return!1;Ls=!0,ao=!1}if(Ln&&!ao)return Rs||(Rs=new zn),Ls||Gn(Kn)?Wn(Kn,_i,ys,xs,Cs,Rs):function(ks,Os,Js,qs,Ys,Us,so){switch(Js){case"[object DataView]":if(ks.byteLength!=Os.byteLength||ks.byteOffset!=Os.byteOffset)return!1;ks=ks.buffer,Os=Os.buffer;case"[object ArrayBuffer]":return!(ks.byteLength!=Os.byteLength||!Us(new Vr(ks),new Vr(Os)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xa(+ks,+Os);case"[object Error]":return ks.name==Os.name&&ks.message==Os.message;case"[object RegExp]":case"[object String]":return ks==Os+"";case lr:var Hs=Cr;case cr:var oo=1&qs;if(Hs||(Hs=Tr),ks.size!=Os.size&&!oo)return!1;var ho=so.get(ks);if(ho)return ho==Os;qs|=2,so.set(ks,Os);var Po=Wn(Hs(ks),Hs(Os),qs,Ys,Us,so);return so.delete(ks),Po;case"[object Symbol]":if(yn)return yn.call(ks)==yn.call(Os)}return!1}(Kn,_i,Xs,ys,xs,Cs,Rs);if(!(1&ys)){var is=ao&&Er.call(Kn,"__wrapped__"),ws=_o&&Er.call(_i,"__wrapped__");if(is||ws){var As=is?Kn.value():Kn,Fs=ws?_i.value():_i;return Rs||(Rs=new zn),Cs(As,Fs,ys,xs,Rs)}}return Ln?(Rs||(Rs=new zn),function(ks,Os,Js,qs,Ys,Us){var so=1&Js,Hs=Fn(ks),oo=Hs.length,ho=Fn(Os).length;if(oo!=ho&&!so)return!1;for(var Po=oo;Po--;){var Ro=Hs[Po];if(!(so?Ro in Os:Er.call(Os,Ro)))return!1}var Lo=Us.get(ks);if(Lo&&Us.get(Os))return Lo==Os;var jo=!0;Us.set(ks,Os),Us.set(Os,ks);for(var qo=so;++Po<oo;){Ro=Hs[Po];var go=ks[Ro],Oo=Os[Ro];if(qs)var no=so?qs(Oo,go,Ro,Os,ks,Us):qs(go,Oo,Ro,ks,Os,Us);if(!(no===void 0?go===Oo||Ys(go,Oo,Js,qs,Us):no)){jo=!1;break}qo||(qo=Ro=="constructor")}if(jo&&!qo){var Qs=ks.constructor,zo=Os.constructor;Qs==zo||!("constructor"in ks)||!("constructor"in Os)||typeof Qs=="function"&&Qs instanceof Qs&&typeof zo=="function"&&zo instanceof zo||(jo=!1)}return Us.delete(ks),Us.delete(Os),jo}(Kn,_i,ys,xs,Cs,Rs)):!1}(_n,jn,On,Un,ds,Hn))}function os(_n){return!(!Nn(_n)||function(jn){return!!Ar&&Ar in jn}(_n))&&(An(_n)?Dr:ur).test(Qn(_n))}function gs(_n){if(On=(jn=_n)&&jn.constructor,Un=typeof On=="function"&&On.prototype||Mr,jn!==Un)return Br(_n);var jn,On,Un,Hn=[];for(var Kn in Object(_n))Er.call(_n,Kn)&&Kn!="constructor"&&Hn.push(Kn);return Hn}function Wn(_n,jn,On,Un,Hn,Kn){var _i=1&On,ys=_n.length,xs=jn.length;if(ys!=xs&&!(_i&&xs>ys))return!1;var Cs=Kn.get(_n);if(Cs&&Kn.get(jn))return Cs==jn;var Rs=-1,Ls=!0,Ws=2&On?new Dn:void 0;for(Kn.set(_n,jn),Kn.set(jn,_n);++Rs<ys;){var Xs=_n[Rs],ro=jn[Rs];if(Un)var ao=_i?Un(ro,Xs,Rs,jn,_n,Kn):Un(Xs,ro,Rs,_n,jn,Kn);if(ao!==void 0){if(ao)continue;Ls=!1;break}if(Ws){if(!Rr(jn,function(_o,Ln){if(is=Ln,!Ws.has(is)&&(Xs===_o||Hn(Xs,_o,On,Un,Kn)))return Ws.push(Ln);var is})){Ls=!1;break}}else if(Xs!==ro&&!Hn(Xs,ro,On,Un,Kn)){Ls=!1;break}}return Kn.delete(_n),Kn.delete(jn),Ls}function Fn(_n){return function(jn,On,Un){var Hn=On(jn);return ms(jn)?Hn:function(Kn,_i){for(var ys=-1,xs=_i.length,Cs=Kn.length;++ys<xs;)Kn[Cs+ys]=_i[ys];return Kn}(Hn,Un(jn))}(_n,gn,$s)}function Bn(_n,jn){var On,Un,Hn=_n.__data__;return((Un=typeof(On=jn))=="string"||Un=="number"||Un=="symbol"||Un=="boolean"?On!=="__proto__":On===null)?Hn[typeof jn=="string"?"string":"hash"]:Hn.map}function ss(_n,jn){var On=function(Un,Hn){return Un==null?void 0:Un[Hn]}(_n,jn);return os(On)?On:void 0}Rn.prototype.clear=function(){this.__data__=hn?hn(null):{},this.size=0},Rn.prototype.delete=function(_n){var jn=this.has(_n)&&delete this.__data__[_n];return this.size-=jn?1:0,jn},Rn.prototype.get=function(_n){var jn=this.__data__;if(hn){var On=jn[_n];return On==="__lodash_hash_undefined__"?void 0:On}return Er.call(jn,_n)?jn[_n]:void 0},Rn.prototype.has=function(_n){var jn=this.__data__;return hn?jn[_n]!==void 0:Er.call(jn,_n)},Rn.prototype.set=function(_n,jn){var On=this.__data__;return this.size+=this.has(_n)?0:1,On[_n]=hn&&jn===void 0?"__lodash_hash_undefined__":jn,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(_n){var jn=this.__data__,On=ns(jn,_n);return!(On<0)&&(On==jn.length-1?jn.pop():Gr.call(jn,On,1),--this.size,!0)},In.prototype.get=function(_n){var jn=this.__data__,On=ns(jn,_n);return On<0?void 0:jn[On][1]},In.prototype.has=function(_n){return ns(this.__data__,_n)>-1},In.prototype.set=function(_n,jn){var On=this.__data__,Un=ns(On,_n);return Un<0?(++this.size,On.push([_n,jn])):On[Un][1]=jn,this},Sn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(Zr||In),string:new Rn}},Sn.prototype.delete=function(_n){var jn=Bn(this,_n).delete(_n);return this.size-=jn?1:0,jn},Sn.prototype.get=function(_n){return Bn(this,_n).get(_n)},Sn.prototype.has=function(_n){return Bn(this,_n).has(_n)},Sn.prototype.set=function(_n,jn){var On=Bn(this,_n),Un=On.size;return On.set(_n,jn),this.size+=On.size==Un?0:1,this},Dn.prototype.add=Dn.prototype.push=function(_n){return this.__data__.set(_n,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(_n){return this.__data__.has(_n)},zn.prototype.clear=function(){this.__data__=new In,this.size=0},zn.prototype.delete=function(_n){var jn=this.__data__,On=jn.delete(_n);return this.size=jn.size,On},zn.prototype.get=function(_n){return this.__data__.get(_n)},zn.prototype.has=function(_n){return this.__data__.has(_n)},zn.prototype.set=function(_n,jn){var On=this.__data__;if(On instanceof In){var Un=On.__data__;if(!Zr||Un.length<199)return Un.push([_n,jn]),this.size=++On.size,this;On=this.__data__=new Sn(Un)}return On.set(_n,jn),this.size=On.size,this};var $s=Xr?function(_n){return _n==null?[]:(_n=Object(_n),function(jn,On){for(var Un=-1,Hn=jn==null?0:jn.length,Kn=0,_i=[];++Un<Hn;){var ys=jn[Un];On(ys,Un,jn)&&(_i[Kn++]=ys)}return _i}(Xr(_n),function(jn){return zr.call(_n,jn)}))}:function(){return[]},vs=fs;function kn(_n,jn){return!!(jn=jn??9007199254740991)&&(typeof _n=="number"||dr.test(_n))&&_n>-1&&_n%1==0&&_n<jn}function Qn(_n){if(_n!=null){try{return wr.call(_n)}catch{}try{return _n+""}catch{}}return""}function xa(_n,jn){return _n===jn||_n!=_n&&jn!=jn}(Kr&&vs(new Kr(new ArrayBuffer(1)))!="[object DataView]"||Zr&&vs(new Zr)!=lr||tn&&vs(tn.resolve())!="[object Promise]"||sn&&vs(new sn)!=cr||un&&vs(new un)!="[object WeakMap]")&&(vs=function(_n){var jn=fs(_n),On=jn==or?_n.constructor:void 0,Un=On?Qn(On):"";if(Un)switch(Un){case Jr:return"[object DataView]";case nn:return lr;case rn:return"[object Promise]";case on:return cr;case fn:return"[object WeakMap]"}return jn});var as=qn(function(){return arguments}())?qn:function(_n){return $n(_n)&&Er.call(_n,"callee")&&!zr.call(_n,"callee")},ms=Array.isArray,ls=Ur||function(){return!1};function An(_n){if(!Nn(_n))return!1;var jn=fs(_n);return jn=="[object Function]"||jn=="[object GeneratorFunction]"||jn=="[object AsyncFunction]"||jn=="[object Proxy]"}function wn(_n){return typeof _n=="number"&&_n>-1&&_n%1==0&&_n<=9007199254740991}function Nn(_n){var jn=typeof _n;return _n!=null&&(jn=="object"||jn=="function")}function $n(_n){return _n!=null&&typeof _n=="object"}var Gn=xr?function(_n){return function(jn){return _n(jn)}}(xr):function(_n){return $n(_n)&&wn(_n.length)&&!!hr[fs(_n)]};function gn(_n){return(jn=_n)!=null&&wn(jn.length)&&!An(jn)?rs(_n):gs(_n);var jn}nr.exports=function(_n,jn){return ds(_n,jn)}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(rr,nr,ir){(function(ar){(function(){var sr=typeof ar=="object"&&ar&&ar.Object===Object&&ar,lr=typeof self=="object"&&self&&self.Object===Object&&self,or=sr||lr||Function("return this")(),cr=Object.prototype,ur=cr.hasOwnProperty,dr=cr.toString,hr=or.Symbol,fr=hr?hr.toStringTag:void 0;function mr(br){return br==null?br===void 0?"[object Undefined]":"[object Null]":fr&&fr in Object(br)?function(pr){var gr=ur.call(pr,fr),yr=pr[fr];try{pr[fr]=void 0;var vr=!0}catch{}var _r=dr.call(pr);return vr&&(gr?pr[fr]=yr:delete pr[fr]),_r}(br):function(pr){return dr.call(pr)}(br)}nr.exports=function(br){if(!function(gr){var yr=typeof gr;return gr!=null&&(yr=="object"||yr=="function")}(br))return!1;var pr=mr(br);return pr=="[object Function]"||pr=="[object GeneratorFunction]"||pr=="[object AsyncFunction]"||pr=="[object Proxy]"}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(rr,nr,ir){nr.exports=function(ar){return ar==null}},{}],448:[function(rr,nr,ir){nr.exports=function(ar){return ar===void 0}},{}],449:[function(rr,nr,ir){(function(ar){(function(){var sr=/^\[object .+?Constructor\]$/,lr=typeof ar=="object"&&ar&&ar.Object===Object&&ar,or=typeof self=="object"&&self&&self.Object===Object&&self,cr=lr||or||Function("return this")();function ur($r,Vr){return!!($r&&$r.length)&&function(zr,Gr,Fr){if(Gr!=Gr)return function(Br,Kr,Zr,tn){for(var sn=Br.length,un=Zr+-1;++un<sn;)if(Kr(Br[un],un,Br))return un;return-1}(zr,dr,Fr);for(var Xr=Fr-1,Ur=zr.length;++Xr<Ur;)if(zr[Xr]===Gr)return Xr;return-1}($r,Vr,0)>-1}function dr($r){return $r!=$r}function hr($r,Vr){return $r.has(Vr)}function fr($r){var Vr=-1,zr=Array($r.size);return $r.forEach(function(Gr){zr[++Vr]=Gr}),zr}var mr,br=Array.prototype,pr=Function.prototype,gr=Object.prototype,yr=cr["__core-js_shared__"],vr=(mr=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||""))?"Symbol(src)_1."+mr:"",_r=pr.toString,xr=gr.hasOwnProperty,Rr=gr.toString,Cr=RegExp("^"+_r.call(xr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tr=br.splice,Ir=Dr(cr,"Map"),Lr=Dr(cr,"Set"),Nr=Dr(Object,"create");function Or($r){var Vr=-1,zr=$r?$r.length:0;for(this.clear();++Vr<zr;){var Gr=$r[Vr];this.set(Gr[0],Gr[1])}}function Pr($r){var Vr=-1,zr=$r?$r.length:0;for(this.clear();++Vr<zr;){var Gr=$r[Vr];this.set(Gr[0],Gr[1])}}function Mr($r){var Vr=-1,zr=$r?$r.length:0;for(this.clear();++Vr<zr;){var Gr=$r[Vr];this.set(Gr[0],Gr[1])}}function jr($r){var Vr=-1,zr=$r?$r.length:0;for(this.__data__=new Mr;++Vr<zr;)this.add($r[Vr])}function wr($r,Vr){for(var zr,Gr,Fr=$r.length;Fr--;)if((zr=$r[Fr][0])===(Gr=Vr)||zr!=zr&&Gr!=Gr)return Fr;return-1}function Er($r){return!(!Wr($r)||(Vr=$r,vr&&vr in Vr))&&(function(zr){var Gr=Wr(zr)?Rr.call(zr):"";return Gr=="[object Function]"||Gr=="[object GeneratorFunction]"}($r)||function(zr){var Gr=!1;if(zr!=null&&typeof zr.toString!="function")try{Gr=!!(zr+"")}catch{}return Gr}($r)?Cr:sr).test(function(zr){if(zr!=null){try{return _r.call(zr)}catch{}try{return zr+""}catch{}}return""}($r));var Vr}Or.prototype.clear=function(){this.__data__=Nr?Nr(null):{}},Or.prototype.delete=function($r){return this.has($r)&&delete this.__data__[$r]},Or.prototype.get=function($r){var Vr=this.__data__;if(Nr){var zr=Vr[$r];return zr==="__lodash_hash_undefined__"?void 0:zr}return xr.call(Vr,$r)?Vr[$r]:void 0},Or.prototype.has=function($r){var Vr=this.__data__;return Nr?Vr[$r]!==void 0:xr.call(Vr,$r)},Or.prototype.set=function($r,Vr){return this.__data__[$r]=Nr&&Vr===void 0?"__lodash_hash_undefined__":Vr,this},Pr.prototype.clear=function(){this.__data__=[]},Pr.prototype.delete=function($r){var Vr=this.__data__,zr=wr(Vr,$r);return!(zr<0)&&(zr==Vr.length-1?Vr.pop():Tr.call(Vr,zr,1),!0)},Pr.prototype.get=function($r){var Vr=this.__data__,zr=wr(Vr,$r);return zr<0?void 0:Vr[zr][1]},Pr.prototype.has=function($r){return wr(this.__data__,$r)>-1},Pr.prototype.set=function($r,Vr){var zr=this.__data__,Gr=wr(zr,$r);return Gr<0?zr.push([$r,Vr]):zr[Gr][1]=Vr,this},Mr.prototype.clear=function(){this.__data__={hash:new Or,map:new(Ir||Pr),string:new Or}},Mr.prototype.delete=function($r){return Sr(this,$r).delete($r)},Mr.prototype.get=function($r){return Sr(this,$r).get($r)},Mr.prototype.has=function($r){return Sr(this,$r).has($r)},Mr.prototype.set=function($r,Vr){return Sr(this,$r).set($r,Vr),this},jr.prototype.add=jr.prototype.push=function($r){return this.__data__.set($r,"__lodash_hash_undefined__"),this},jr.prototype.has=function($r){return this.__data__.has($r)};var Ar=Lr&&1/fr(new Lr([,-0]))[1]==1/0?function($r){return new Lr($r)}:function(){};function Sr($r,Vr){var zr,Gr,Fr=$r.__data__;return((Gr=typeof(zr=Vr))=="string"||Gr=="number"||Gr=="symbol"||Gr=="boolean"?zr!=="__proto__":zr===null)?Fr[typeof Vr=="string"?"string":"hash"]:Fr.map}function Dr($r,Vr){var zr=function(Gr,Fr){return Gr==null?void 0:Gr[Fr]}($r,Vr);return Er(zr)?zr:void 0}function Wr($r){var Vr=typeof $r;return!!$r&&(Vr=="object"||Vr=="function")}nr.exports=function($r){return $r&&$r.length?function(Vr,zr,Gr){var Fr=-1,Xr=ur,Ur=Vr.length,Br=!0,Kr=[],Zr=Kr;if(Ur>=200){var tn=Ar(Vr);if(tn)return fr(tn);Br=!1,Xr=hr,Zr=new jr}else Zr=Kr;e:for(;++Fr<Ur;){var sn=Vr[Fr],un=sn;if(sn=sn!==0?sn:0,Br&&un==un){for(var hn=Zr.length;hn--;)if(Zr[hn]===un)continue e;Kr.push(sn)}else Xr(Zr,un,Gr)||(Zr!==Kr&&Zr.push(un),Kr.push(sn))}return Kr}($r):[]}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("hash-base"),lr=rr("safe-buffer").Buffer,or=new Array(16);function cr(){sr.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function ur(br,pr){return br<<pr|br>>>32-pr}function dr(br,pr,gr,yr,vr,_r,xr){return ur(br+(pr&gr|~pr&yr)+vr+_r|0,xr)+pr|0}function hr(br,pr,gr,yr,vr,_r,xr){return ur(br+(pr&yr|gr&~yr)+vr+_r|0,xr)+pr|0}function fr(br,pr,gr,yr,vr,_r,xr){return ur(br+(pr^gr^yr)+vr+_r|0,xr)+pr|0}function mr(br,pr,gr,yr,vr,_r,xr){return ur(br+(gr^(pr|~yr))+vr+_r|0,xr)+pr|0}ar(cr,sr),cr.prototype._update=function(){for(var br=or,pr=0;pr<16;++pr)br[pr]=this._block.readInt32LE(4*pr);var gr=this._a,yr=this._b,vr=this._c,_r=this._d;gr=dr(gr,yr,vr,_r,br[0],3614090360,7),_r=dr(_r,gr,yr,vr,br[1],3905402710,12),vr=dr(vr,_r,gr,yr,br[2],606105819,17),yr=dr(yr,vr,_r,gr,br[3],3250441966,22),gr=dr(gr,yr,vr,_r,br[4],4118548399,7),_r=dr(_r,gr,yr,vr,br[5],1200080426,12),vr=dr(vr,_r,gr,yr,br[6],2821735955,17),yr=dr(yr,vr,_r,gr,br[7],4249261313,22),gr=dr(gr,yr,vr,_r,br[8],1770035416,7),_r=dr(_r,gr,yr,vr,br[9],2336552879,12),vr=dr(vr,_r,gr,yr,br[10],4294925233,17),yr=dr(yr,vr,_r,gr,br[11],2304563134,22),gr=dr(gr,yr,vr,_r,br[12],1804603682,7),_r=dr(_r,gr,yr,vr,br[13],4254626195,12),vr=dr(vr,_r,gr,yr,br[14],2792965006,17),gr=hr(gr,yr=dr(yr,vr,_r,gr,br[15],1236535329,22),vr,_r,br[1],4129170786,5),_r=hr(_r,gr,yr,vr,br[6],3225465664,9),vr=hr(vr,_r,gr,yr,br[11],643717713,14),yr=hr(yr,vr,_r,gr,br[0],3921069994,20),gr=hr(gr,yr,vr,_r,br[5],3593408605,5),_r=hr(_r,gr,yr,vr,br[10],38016083,9),vr=hr(vr,_r,gr,yr,br[15],3634488961,14),yr=hr(yr,vr,_r,gr,br[4],3889429448,20),gr=hr(gr,yr,vr,_r,br[9],568446438,5),_r=hr(_r,gr,yr,vr,br[14],3275163606,9),vr=hr(vr,_r,gr,yr,br[3],4107603335,14),yr=hr(yr,vr,_r,gr,br[8],1163531501,20),gr=hr(gr,yr,vr,_r,br[13],2850285829,5),_r=hr(_r,gr,yr,vr,br[2],4243563512,9),vr=hr(vr,_r,gr,yr,br[7],1735328473,14),gr=fr(gr,yr=hr(yr,vr,_r,gr,br[12],2368359562,20),vr,_r,br[5],4294588738,4),_r=fr(_r,gr,yr,vr,br[8],2272392833,11),vr=fr(vr,_r,gr,yr,br[11],1839030562,16),yr=fr(yr,vr,_r,gr,br[14],4259657740,23),gr=fr(gr,yr,vr,_r,br[1],2763975236,4),_r=fr(_r,gr,yr,vr,br[4],1272893353,11),vr=fr(vr,_r,gr,yr,br[7],4139469664,16),yr=fr(yr,vr,_r,gr,br[10],3200236656,23),gr=fr(gr,yr,vr,_r,br[13],681279174,4),_r=fr(_r,gr,yr,vr,br[0],3936430074,11),vr=fr(vr,_r,gr,yr,br[3],3572445317,16),yr=fr(yr,vr,_r,gr,br[6],76029189,23),gr=fr(gr,yr,vr,_r,br[9],3654602809,4),_r=fr(_r,gr,yr,vr,br[12],3873151461,11),vr=fr(vr,_r,gr,yr,br[15],530742520,16),gr=mr(gr,yr=fr(yr,vr,_r,gr,br[2],3299628645,23),vr,_r,br[0],4096336452,6),_r=mr(_r,gr,yr,vr,br[7],1126891415,10),vr=mr(vr,_r,gr,yr,br[14],2878612391,15),yr=mr(yr,vr,_r,gr,br[5],4237533241,21),gr=mr(gr,yr,vr,_r,br[12],1700485571,6),_r=mr(_r,gr,yr,vr,br[3],2399980690,10),vr=mr(vr,_r,gr,yr,br[10],4293915773,15),yr=mr(yr,vr,_r,gr,br[1],2240044497,21),gr=mr(gr,yr,vr,_r,br[8],1873313359,6),_r=mr(_r,gr,yr,vr,br[15],4264355552,10),vr=mr(vr,_r,gr,yr,br[6],2734768916,15),yr=mr(yr,vr,_r,gr,br[13],1309151649,21),gr=mr(gr,yr,vr,_r,br[4],4149444226,6),_r=mr(_r,gr,yr,vr,br[11],3174756917,10),vr=mr(vr,_r,gr,yr,br[2],718787259,15),yr=mr(yr,vr,_r,gr,br[9],3951481745,21),this._a=this._a+gr|0,this._b=this._b+yr|0,this._c=this._c+vr|0,this._d=this._d+_r|0},cr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var br=lr.allocUnsafe(16);return br.writeInt32LE(this._a,0),br.writeInt32LE(this._b,4),br.writeInt32LE(this._c,8),br.writeInt32LE(this._d,12),br},nr.exports=cr},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("brorand");function lr(or){this.rand=or||new sr.Rand}nr.exports=lr,lr.create=function(or){return new lr(or)},lr.prototype._randbelow=function(or){var cr=or.bitLength(),ur=Math.ceil(cr/8);do var dr=new ar(this.rand.generate(ur));while(dr.cmp(or)>=0);return dr},lr.prototype._randrange=function(or,cr){var ur=cr.sub(or);return or.add(this._randbelow(ur))},lr.prototype.test=function(or,cr,ur){var dr=or.bitLength(),hr=ar.mont(or),fr=new ar(1).toRed(hr);cr||(cr=Math.max(1,dr/48|0));for(var mr=or.subn(1),br=0;!mr.testn(br);br++);for(var pr=or.shrn(br),gr=mr.toRed(hr);cr>0;cr--){var yr=this._randrange(new ar(2),mr);ur&&ur(yr);var vr=yr.toRed(hr).redPow(pr);if(vr.cmp(fr)!==0&&vr.cmp(gr)!==0){for(var _r=1;_r<br;_r++){if((vr=vr.redSqr()).cmp(fr)===0)return!1;if(vr.cmp(gr)===0)break}if(_r===br)return!1}}return!0},lr.prototype.getDivisor=function(or,cr){var ur=or.bitLength(),dr=ar.mont(or),hr=new ar(1).toRed(dr);cr||(cr=Math.max(1,ur/48|0));for(var fr=or.subn(1),mr=0;!fr.testn(mr);mr++);for(var br=or.shrn(mr),pr=fr.toRed(dr);cr>0;cr--){var gr=this._randrange(new ar(2),fr),yr=or.gcd(gr);if(yr.cmpn(1)!==0)return yr;var vr=gr.toRed(dr).redPow(br);if(vr.cmp(hr)!==0&&vr.cmp(pr)!==0){for(var _r=1;_r<mr;_r++){if((vr=vr.redSqr()).cmp(hr)===0)return vr.fromRed().subn(1).gcd(or);if(vr.cmp(pr)===0)break}if(_r===mr)return(vr=vr.redSqr()).fromRed().subn(1).gcd(or)}}return!1}},{"bn.js":452,brorand:187}],452:[function(rr,nr,ir){arguments[4][184][0].apply(ir,arguments)},{buffer:188,dup:184}],453:[function(rr,nr,ir){function ar(sr,lr){if(!sr)throw new Error(lr||"Assertion failed")}nr.exports=ar,ar.equal=function(sr,lr,or){if(sr!=lr)throw new Error(or||"Assertion failed: "+sr+" != "+lr)}},{}],454:[function(rr,nr,ir){var ar=ir;function sr(or){return or.length===1?"0"+or:or}function lr(or){for(var cr="",ur=0;ur<or.length;ur++)cr+=sr(or[ur].toString(16));return cr}ar.toArray=function(or,cr){if(Array.isArray(or))return or.slice();if(!or)return[];var ur=[];if(typeof or!="string"){for(var dr=0;dr<or.length;dr++)ur[dr]=0|or[dr];return ur}if(cr==="hex")for((or=or.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(or="0"+or),dr=0;dr<or.length;dr+=2)ur.push(parseInt(or[dr]+or[dr+1],16));else for(dr=0;dr<or.length;dr++){var hr=or.charCodeAt(dr),fr=hr>>8,mr=255&hr;fr?ur.push(fr,mr):ur.push(mr)}return ur},ar.zero2=sr,ar.toHex=lr,ar.encode=function(or,cr){return cr==="hex"?lr(or):or}},{}],455:[function(rr,nr,ir){nr.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(rr,nr,ir){var ar=rr("asn1.js");ir.certificate=rr("./certificate");var sr=ar.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ir.RSAPrivateKey=sr;var lr=ar.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ir.RSAPublicKey=lr;var or=ar.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(cr),this.key("subjectPublicKey").bitstr())});ir.PublicKey=or;var cr=ar.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ur=ar.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(cr),this.key("subjectPrivateKey").octstr())});ir.PrivateKey=ur;var dr=ar.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ir.EncryptedPrivateKey=dr;var hr=ar.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ir.DSAPrivateKey=hr,ir.DSAparam=ar.define("DSAparam",function(){this.int()});var fr=ar.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(mr),this.key("publicKey").optional().explicit(1).bitstr())});ir.ECPrivateKey=fr;var mr=ar.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ir.signature=ar.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(rr,nr,ir){var ar=rr("asn1.js"),sr=ar.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),lr=ar.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),or=ar.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),cr=ar.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(or),this.key("subjectPublicKey").bitstr())}),ur=ar.define("RelativeDistinguishedName",function(){this.setof(lr)}),dr=ar.define("RDNSequence",function(){this.seqof(ur)}),hr=ar.define("Name",function(){this.choice({rdnSequence:this.use(dr)})}),fr=ar.define("Validity",function(){this.seq().obj(this.key("notBefore").use(sr),this.key("notAfter").use(sr))}),mr=ar.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),br=ar.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(or),this.key("issuer").use(hr),this.key("validity").use(fr),this.key("subject").use(hr),this.key("subjectPublicKeyInfo").use(cr),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(mr).optional())}),pr=ar.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(br),this.key("signatureAlgorithm").use(or),this.key("signatureValue").bitstr())});nr.exports=pr},{"asn1.js":170}],458:[function(rr,nr,ir){var ar=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,sr=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,lr=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,or=rr("evp_bytestokey"),cr=rr("browserify-aes"),ur=rr("safe-buffer").Buffer;nr.exports=function(dr,hr){var fr,mr=dr.toString(),br=mr.match(ar);if(br){var pr="aes"+br[1],gr=ur.from(br[2],"hex"),yr=ur.from(br[3].replace(/[\r\n]/g,""),"base64"),vr=or(hr,gr.slice(0,8),parseInt(br[1],10)).key,_r=[],xr=cr.createDecipheriv(pr,vr,gr);_r.push(xr.update(yr)),_r.push(xr.final()),fr=ur.concat(_r)}else{var Rr=mr.match(lr);fr=ur.from(Rr[2].replace(/[\r\n]/g,""),"base64")}return{tag:mr.match(sr)[1],data:fr}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(rr,nr,ir){var ar=rr("./asn1"),sr=rr("./aesid.json"),lr=rr("./fixProc"),or=rr("browserify-aes"),cr=rr("pbkdf2"),ur=rr("safe-buffer").Buffer;function dr(hr){var fr;typeof hr!="object"||ur.isBuffer(hr)||(fr=hr.passphrase,hr=hr.key),typeof hr=="string"&&(hr=ur.from(hr));var mr,br,pr=lr(hr,fr),gr=pr.tag,yr=pr.data;switch(gr){case"CERTIFICATE":br=ar.certificate.decode(yr,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(br||(br=ar.PublicKey.decode(yr,"der")),mr=br.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ar.RSAPublicKey.decode(br.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return br.subjectPrivateKey=br.subjectPublicKey,{type:"ec",data:br};case"1.2.840.10040.4.1":return br.algorithm.params.pub_key=ar.DSAparam.decode(br.subjectPublicKey.data,"der"),{type:"dsa",data:br.algorithm.params};default:throw new Error("unknown key id "+mr)}case"ENCRYPTED PRIVATE KEY":yr=function(vr,_r){var xr=vr.algorithm.decrypt.kde.kdeparams.salt,Rr=parseInt(vr.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Cr=sr[vr.algorithm.decrypt.cipher.algo.join(".")],Tr=vr.algorithm.decrypt.cipher.iv,Ir=vr.subjectPrivateKey,Lr=parseInt(Cr.split("-")[1],10)/8,Nr=cr.pbkdf2Sync(_r,xr,Rr,Lr,"sha1"),Or=or.createDecipheriv(Cr,Nr,Tr),Pr=[];return Pr.push(Or.update(Ir)),Pr.push(Or.final()),ur.concat(Pr)}(yr=ar.EncryptedPrivateKey.decode(yr,"der"),fr);case"PRIVATE KEY":switch(mr=(br=ar.PrivateKey.decode(yr,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ar.RSAPrivateKey.decode(br.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:br.algorithm.curve,privateKey:ar.ECPrivateKey.decode(br.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return br.algorithm.params.priv_key=ar.DSAparam.decode(br.subjectPrivateKey,"der"),{type:"dsa",params:br.algorithm.params};default:throw new Error("unknown key id "+mr)}case"RSA PUBLIC KEY":return ar.RSAPublicKey.decode(yr,"der");case"RSA PRIVATE KEY":return ar.RSAPrivateKey.decode(yr,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ar.DSAPrivateKey.decode(yr,"der")};case"EC PRIVATE KEY":return{curve:(yr=ar.ECPrivateKey.decode(yr,"der")).parameters.value,privateKey:yr.privateKey};default:throw new Error("unknown key type "+gr)}}nr.exports=dr,dr.signature=ar.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(rr,nr,ir){ir.pbkdf2=rr("./lib/async"),ir.pbkdf2Sync=rr("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(rr,nr,ir){(function(ar){(function(){var sr,lr,or=rr("safe-buffer").Buffer,cr=rr("./precondition"),ur=rr("./default-encoding"),dr=rr("./sync"),hr=rr("./to-buffer"),fr=ar.crypto&&ar.crypto.subtle,mr={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},br=[];function pr(){return lr||(lr=ar.process&&ar.process.nextTick?ar.process.nextTick:ar.queueMicrotask?ar.queueMicrotask:ar.setImmediate?ar.setImmediate:ar.setTimeout)}function gr(yr,vr,_r,xr,Rr){return fr.importKey("raw",yr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Cr){return fr.deriveBits({name:"PBKDF2",salt:vr,iterations:_r,hash:{name:Rr}},Cr,xr<<3)}).then(function(Cr){return or.from(Cr)})}nr.exports=function(yr,vr,_r,xr,Rr,Cr){typeof Rr=="function"&&(Cr=Rr,Rr=void 0);var Tr=mr[(Rr=Rr||"sha1").toLowerCase()];if(Tr&&typeof ar.Promise=="function"){if(cr(_r,xr),yr=hr(yr,ur,"Password"),vr=hr(vr,ur,"Salt"),typeof Cr!="function")throw new Error("No callback provided to pbkdf2");(function(Ir,Lr){Ir.then(function(Nr){pr()(function(){Lr(null,Nr)})},function(Nr){pr()(function(){Lr(Nr)})})})(function(Ir){if(ar.process&&!ar.process.browser||!fr||!fr.importKey||!fr.deriveBits)return Promise.resolve(!1);if(br[Ir]!==void 0)return br[Ir];var Lr=gr(sr=sr||or.alloc(8),sr,10,128,Ir).then(function(){return!0}).catch(function(){return!1});return br[Ir]=Lr,Lr}(Tr).then(function(Ir){return Ir?gr(yr,vr,_r,xr,Tr):dr(yr,vr,_r,xr,Rr)}),Cr)}else pr()(function(){var Ir;try{Ir=dr(yr,vr,_r,xr,Rr)}catch(Lr){return Cr(Lr)}Cr(null,Ir)})}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(rr,nr,ir){(function(ar,sr){(function(){var lr;sr.process&&sr.process.browser?lr="utf-8":sr.process&&sr.process.version?lr=parseInt(ar.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":lr="utf-8",nr.exports=lr}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(rr,nr,ir){var ar=Math.pow(2,30)-1;nr.exports=function(sr,lr){if(typeof sr!="number")throw new TypeError("Iterations not a number");if(sr<0)throw new TypeError("Bad iterations");if(typeof lr!="number")throw new TypeError("Key length not a number");if(lr<0||lr>ar||lr!=lr)throw new TypeError("Bad key length")}},{}],464:[function(rr,nr,ir){var ar=rr("create-hash/md5"),sr=rr("ripemd160"),lr=rr("sha.js"),or=rr("safe-buffer").Buffer,cr=rr("./precondition"),ur=rr("./default-encoding"),dr=rr("./to-buffer"),hr=or.alloc(128),fr={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function mr(br,pr,gr){var yr=function(Tr){function Ir(Lr){return lr(Tr).update(Lr).digest()}return Tr==="rmd160"||Tr==="ripemd160"?function(Lr){return new sr().update(Lr).digest()}:Tr==="md5"?ar:Ir}(br),vr=br==="sha512"||br==="sha384"?128:64;pr.length>vr?pr=yr(pr):pr.length<vr&&(pr=or.concat([pr,hr],vr));for(var _r=or.allocUnsafe(vr+fr[br]),xr=or.allocUnsafe(vr+fr[br]),Rr=0;Rr<vr;Rr++)_r[Rr]=54^pr[Rr],xr[Rr]=92^pr[Rr];var Cr=or.allocUnsafe(vr+gr+4);_r.copy(Cr,0,0,vr),this.ipad1=Cr,this.ipad2=_r,this.opad=xr,this.alg=br,this.blocksize=vr,this.hash=yr,this.size=fr[br]}mr.prototype.run=function(br,pr){return br.copy(pr,this.blocksize),this.hash(pr).copy(this.opad,this.blocksize),this.hash(this.opad)},nr.exports=function(br,pr,gr,yr,vr){cr(gr,yr);var _r=new mr(vr=vr||"sha1",br=dr(br,ur,"Password"),(pr=dr(pr,ur,"Salt")).length),xr=or.allocUnsafe(yr),Rr=or.allocUnsafe(pr.length+4);pr.copy(Rr,0,0,pr.length);for(var Cr=0,Tr=fr[vr],Ir=Math.ceil(yr/Tr),Lr=1;Lr<=Ir;Lr++){Rr.writeUInt32BE(Lr,pr.length);for(var Nr=_r.run(Rr,_r.ipad1),Or=Nr,Pr=1;Pr<gr;Pr++){Or=_r.run(Or,_r.ipad2);for(var Mr=0;Mr<Tr;Mr++)Nr[Mr]^=Or[Mr]}Nr.copy(xr,Cr),Cr+=Tr}return xr}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer;nr.exports=function(sr,lr,or){if(ar.isBuffer(sr))return sr;if(typeof sr=="string")return ar.from(sr,lr);if(ArrayBuffer.isView(sr))return ar.from(sr.buffer);throw new TypeError(or+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(rr,nr,ir){(function(ar){(function(){ar===void 0||!ar.version||ar.version.indexOf("v0.")===0||ar.version.indexOf("v1.")===0&&ar.version.indexOf("v1.8.")!==0?nr.exports={nextTick:function(sr,lr,or,cr){if(typeof sr!="function")throw new TypeError('"callback" argument must be a function');var ur,dr,hr=arguments.length;switch(hr){case 0:case 1:return ar.nextTick(sr);case 2:return ar.nextTick(function(){sr.call(null,lr)});case 3:return ar.nextTick(function(){sr.call(null,lr,or)});case 4:return ar.nextTick(function(){sr.call(null,lr,or,cr)});default:for(ur=new Array(hr-1),dr=0;dr<ur.length;)ur[dr++]=arguments[dr];return ar.nextTick(function(){sr.apply(null,ur)})}}}:nr.exports=ar}).call(this)}).call(this,rr("_process"))},{_process:467}],467:[function(rr,nr,ir){var ar,sr,lr=nr.exports={};function or(){throw new Error("setTimeout has not been defined")}function cr(){throw new Error("clearTimeout has not been defined")}function ur(vr){if(ar===setTimeout)return setTimeout(vr,0);if((ar===or||!ar)&&setTimeout)return ar=setTimeout,setTimeout(vr,0);try{return ar(vr,0)}catch{try{return ar.call(null,vr,0)}catch{return ar.call(this,vr,0)}}}(function(){try{ar=typeof setTimeout=="function"?setTimeout:or}catch{ar=or}try{sr=typeof clearTimeout=="function"?clearTimeout:cr}catch{sr=cr}})();var dr,hr=[],fr=!1,mr=-1;function br(){fr&&dr&&(fr=!1,dr.length?hr=dr.concat(hr):mr=-1,hr.length&&pr())}function pr(){if(!fr){var vr=ur(br);fr=!0;for(var _r=hr.length;_r;){for(dr=hr,hr=[];++mr<_r;)dr&&dr[mr].run();mr=-1,_r=hr.length}dr=null,fr=!1,function(xr){if(sr===clearTimeout)return clearTimeout(xr);if((sr===cr||!sr)&&clearTimeout)return sr=clearTimeout,clearTimeout(xr);try{sr(xr)}catch{try{return sr.call(null,xr)}catch{return sr.call(this,xr)}}}(vr)}}function gr(vr,_r){this.fun=vr,this.array=_r}function yr(){}lr.nextTick=function(vr){var _r=new Array(arguments.length-1);if(arguments.length>1)for(var xr=1;xr<arguments.length;xr++)_r[xr-1]=arguments[xr];hr.push(new gr(vr,_r)),hr.length!==1||fr||ur(pr)},gr.prototype.run=function(){this.fun.apply(null,this.array)},lr.title="browser",lr.browser=!0,lr.env={},lr.argv=[],lr.version="",lr.versions={},lr.on=yr,lr.addListener=yr,lr.once=yr,lr.off=yr,lr.removeListener=yr,lr.removeAllListeners=yr,lr.emit=yr,lr.prependListener=yr,lr.prependOnceListener=yr,lr.listeners=function(vr){return[]},lr.binding=function(vr){throw new Error("process.binding is not supported")},lr.cwd=function(){return"/"},lr.chdir=function(vr){throw new Error("process.chdir is not supported")},lr.umask=function(){return 0}},{}],468:[function(rr,nr,ir){ir.publicEncrypt=rr("./publicEncrypt"),ir.privateDecrypt=rr("./privateDecrypt"),ir.privateEncrypt=function(ar,sr){return ir.publicEncrypt(ar,sr,!0)},ir.publicDecrypt=function(ar,sr){return ir.privateDecrypt(ar,sr,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(rr,nr,ir){var ar=rr("create-hash"),sr=rr("safe-buffer").Buffer;function lr(or){var cr=sr.allocUnsafe(4);return cr.writeUInt32BE(or,0),cr}nr.exports=function(or,cr){for(var ur,dr=sr.alloc(0),hr=0;dr.length<cr;)ur=lr(hr++),dr=sr.concat([dr,ar("sha1").update(or).update(ur).digest()]);return dr.slice(0,cr)}},{"create-hash":386,"safe-buffer":494}],470:[function(rr,nr,ir){arguments[4][184][0].apply(ir,arguments)},{buffer:188,dup:184}],471:[function(rr,nr,ir){var ar=rr("parse-asn1"),sr=rr("./mgf"),lr=rr("./xor"),or=rr("bn.js"),cr=rr("browserify-rsa"),ur=rr("create-hash"),dr=rr("./withPublic"),hr=rr("safe-buffer").Buffer;nr.exports=function(fr,mr,br){var pr;pr=fr.padding?fr.padding:br?1:4;var gr,yr=ar(fr),vr=yr.modulus.byteLength();if(mr.length>vr||new or(mr).cmp(yr.modulus)>=0)throw new Error("decryption error");gr=br?dr(new or(mr),yr):cr(mr,yr);var _r=hr.alloc(vr-gr.length);if(gr=hr.concat([_r,gr],vr),pr===4)return function(xr,Rr){var Cr=xr.modulus.byteLength(),Tr=ur("sha1").update(hr.alloc(0)).digest(),Ir=Tr.length;if(Rr[0]!==0)throw new Error("decryption error");var Lr=Rr.slice(1,Ir+1),Nr=Rr.slice(Ir+1),Or=lr(Lr,sr(Nr,Ir)),Pr=lr(Nr,sr(Or,Cr-Ir-1));if(function(jr,wr){jr=hr.from(jr),wr=hr.from(wr);var Er=0,Ar=jr.length;jr.length!==wr.length&&(Er++,Ar=Math.min(jr.length,wr.length));for(var Sr=-1;++Sr<Ar;)Er+=jr[Sr]^wr[Sr];return Er}(Tr,Pr.slice(0,Ir)))throw new Error("decryption error");for(var Mr=Ir;Pr[Mr]===0;)Mr++;if(Pr[Mr++]!==1)throw new Error("decryption error");return Pr.slice(Mr)}(yr,gr);if(pr===1)return function(xr,Rr,Cr){for(var Tr=Rr.slice(0,2),Ir=2,Lr=0;Rr[Ir++]!==0;)if(Ir>=Rr.length){Lr++;break}var Nr=Rr.slice(2,Ir-1);if((Tr.toString("hex")!=="0002"&&!Cr||Tr.toString("hex")!=="0001"&&Cr)&&Lr++,Nr.length<8&&Lr++,Lr)throw new Error("decryption error");return Rr.slice(Ir)}(0,gr,br);if(pr===3)return gr;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(rr,nr,ir){var ar=rr("parse-asn1"),sr=rr("randombytes"),lr=rr("create-hash"),or=rr("./mgf"),cr=rr("./xor"),ur=rr("bn.js"),dr=rr("./withPublic"),hr=rr("browserify-rsa"),fr=rr("safe-buffer").Buffer;nr.exports=function(mr,br,pr){var gr;gr=mr.padding?mr.padding:pr?1:4;var yr,vr=ar(mr);if(gr===4)yr=function(_r,xr){var Rr=_r.modulus.byteLength(),Cr=xr.length,Tr=lr("sha1").update(fr.alloc(0)).digest(),Ir=Tr.length,Lr=2*Ir;if(Cr>Rr-Lr-2)throw new Error("message too long");var Nr=fr.alloc(Rr-Cr-Lr-2),Or=Rr-Ir-1,Pr=sr(Ir),Mr=cr(fr.concat([Tr,Nr,fr.alloc(1,1),xr],Or),or(Pr,Or)),jr=cr(Pr,or(Mr,Ir));return new ur(fr.concat([fr.alloc(1),jr,Mr],Rr))}(vr,br);else if(gr===1)yr=function(_r,xr,Rr){var Cr,Tr=xr.length,Ir=_r.modulus.byteLength();if(Tr>Ir-11)throw new Error("message too long");return Cr=Rr?fr.alloc(Ir-Tr-3,255):function(Lr){for(var Nr,Or=fr.allocUnsafe(Lr),Pr=0,Mr=sr(2*Lr),jr=0;Pr<Lr;)jr===Mr.length&&(Mr=sr(2*Lr),jr=0),(Nr=Mr[jr++])&&(Or[Pr++]=Nr);return Or}(Ir-Tr-3),new ur(fr.concat([fr.from([0,Rr?1:2]),Cr,fr.alloc(1),xr],Ir))}(vr,br,pr);else{if(gr!==3)throw new Error("unknown padding");if((yr=new ur(br)).cmp(vr.modulus)>=0)throw new Error("data too long for modulus")}return pr?hr(yr,vr):dr(yr,vr)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(rr,nr,ir){var ar=rr("bn.js"),sr=rr("safe-buffer").Buffer;nr.exports=function(lr,or){return sr.from(lr.toRed(ar.mont(or.modulus)).redPow(new ar(or.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(rr,nr,ir){nr.exports=function(ar,sr){for(var lr=ar.length,or=-1;++or<lr;)ar[or]^=sr[or];return ar}},{}],475:[function(rr,nr,ir){(function(ar,sr){(function(){var lr=rr("safe-buffer").Buffer,or=sr.crypto||sr.msCrypto;or&&or.getRandomValues?nr.exports=function(cr,ur){if(cr>4294967295)throw new RangeError("requested too many random bytes");var dr=lr.allocUnsafe(cr);if(cr>0)if(cr>65536)for(var hr=0;hr<cr;hr+=65536)or.getRandomValues(dr.slice(hr,hr+65536));else or.getRandomValues(dr);return typeof ur=="function"?ar.nextTick(function(){ur(null,dr)}):dr}:nr.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(rr,nr,ir){(function(ar,sr){(function(){function lr(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var or=rr("safe-buffer"),cr=rr("randombytes"),ur=or.Buffer,dr=or.kMaxLength,hr=sr.crypto||sr.msCrypto,fr=Math.pow(2,32)-1;function mr(gr,yr){if(typeof gr!="number"||gr!=gr)throw new TypeError("offset must be a number");if(gr>fr||gr<0)throw new TypeError("offset must be a uint32");if(gr>dr||gr>yr)throw new RangeError("offset out of range")}function br(gr,yr,vr){if(typeof gr!="number"||gr!=gr)throw new TypeError("size must be a number");if(gr>fr||gr<0)throw new TypeError("size must be a uint32");if(gr+yr>vr||gr>dr)throw new RangeError("buffer too small")}function pr(gr,yr,vr,_r){if(ar.browser){var xr=gr.buffer,Rr=new Uint8Array(xr,yr,vr);return hr.getRandomValues(Rr),_r?void ar.nextTick(function(){_r(null,gr)}):gr}if(!_r)return cr(vr).copy(gr,yr),gr;cr(vr,function(Cr,Tr){if(Cr)return _r(Cr);Tr.copy(gr,yr),_r(null,gr)})}hr&&hr.getRandomValues||!ar.browser?(ir.randomFill=function(gr,yr,vr,_r){if(!(ur.isBuffer(gr)||gr instanceof sr.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof yr=="function")_r=yr,yr=0,vr=gr.length;else if(typeof vr=="function")_r=vr,vr=gr.length-yr;else if(typeof _r!="function")throw new TypeError('"cb" argument must be a function');return mr(yr,gr.length),br(vr,yr,gr.length),pr(gr,yr,vr,_r)},ir.randomFillSync=function(gr,yr,vr){if(yr===void 0&&(yr=0),!(ur.isBuffer(gr)||gr instanceof sr.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return mr(yr,gr.length),vr===void 0&&(vr=gr.length-yr),br(vr,yr,gr.length),pr(gr,yr,vr)}):(ir.randomFill=lr,ir.randomFillSync=lr)}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(rr,nr,ir){var ar={};function sr(or,cr,ur){ur||(ur=Error);var dr=function(hr){var fr,mr;function br(pr,gr,yr){return hr.call(this,function(vr,_r,xr){return typeof cr=="string"?cr:cr(vr,_r,xr)}(pr,gr,yr))||this}return mr=hr,(fr=br).prototype=Object.create(mr.prototype),fr.prototype.constructor=fr,fr.__proto__=mr,br}(ur);dr.prototype.name=ur.name,dr.prototype.code=or,ar[or]=dr}function lr(or,cr){if(Array.isArray(or)){var ur=or.length;return or=or.map(function(dr){return String(dr)}),ur>2?"one of ".concat(cr," ").concat(or.slice(0,ur-1).join(", "),", or ")+or[ur-1]:ur===2?"one of ".concat(cr," ").concat(or[0]," or ").concat(or[1]):"of ".concat(cr," ").concat(or[0])}return"of ".concat(cr," ").concat(String(or))}sr("ERR_INVALID_OPT_VALUE",function(or,cr){return'The value "'+cr+'" is invalid for option "'+or+'"'},TypeError),sr("ERR_INVALID_ARG_TYPE",function(or,cr,ur){var dr,hr,fr;if(typeof cr=="string"&&(hr="not ",cr.substr(0,hr.length)===hr)?(dr="must not be",cr=cr.replace(/^not /,"")):dr="must be",function(br,pr,gr){return(gr===void 0||gr>br.length)&&(gr=br.length),br.substring(gr-pr.length,gr)===pr}(or," argument"))fr="The ".concat(or," ").concat(dr," ").concat(lr(cr,"type"));else{var mr=function(br,pr,gr){return typeof gr!="number"&&(gr=0),!(gr+pr.length>br.length)&&br.indexOf(pr,gr)!==-1}(or,".")?"property":"argument";fr='The "'.concat(or,'" ').concat(mr," ").concat(dr," ").concat(lr(cr,"type"))}return fr+=". Received type ".concat(typeof ur)},TypeError),sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),sr("ERR_METHOD_NOT_IMPLEMENTED",function(or){return"The "+or+" method is not implemented"}),sr("ERR_STREAM_PREMATURE_CLOSE","Premature close"),sr("ERR_STREAM_DESTROYED",function(or){return"Cannot call "+or+" after a stream was destroyed"}),sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),sr("ERR_STREAM_WRITE_AFTER_END","write after end"),sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),sr("ERR_UNKNOWN_ENCODING",function(or){return"Unknown encoding: "+or},TypeError),sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),nr.exports.codes=ar},{}],478:[function(rr,nr,ir){(function(ar){(function(){var sr=Object.keys||function(br){var pr=[];for(var gr in br)pr.push(gr);return pr};nr.exports=hr;var lr=rr("./_stream_readable"),or=rr("./_stream_writable");rr("inherits")(hr,lr);for(var cr=sr(or.prototype),ur=0;ur<cr.length;ur++){var dr=cr[ur];hr.prototype[dr]||(hr.prototype[dr]=or.prototype[dr])}function hr(br){if(!(this instanceof hr))return new hr(br);lr.call(this,br),or.call(this,br),this.allowHalfOpen=!0,br&&(br.readable===!1&&(this.readable=!1),br.writable===!1&&(this.writable=!1),br.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",fr)))}function fr(){this._writableState.ended||ar.nextTick(mr,this)}function mr(br){br.end()}Object.defineProperty(hr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(hr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(hr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(hr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(br){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=br,this._writableState.destroyed=br)}})}).call(this)}).call(this,rr("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(rr,nr,ir){nr.exports=sr;var ar=rr("./_stream_transform");function sr(lr){if(!(this instanceof sr))return new sr(lr);ar.call(this,lr)}rr("inherits")(sr,ar),sr.prototype._transform=function(lr,or,cr){cr(null,lr)}},{"./_stream_transform":481,inherits:440}],480:[function(rr,nr,ir){(function(ar,sr){(function(){var lr;nr.exports=Or,Or.ReadableState=Nr,rr("events").EventEmitter;var or=function(Ur,Br){return Ur.listeners(Br).length},cr=rr("./internal/streams/stream"),ur=rr("buffer").Buffer,dr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},hr,fr=rr("util");hr=fr&&fr.debuglog?fr.debuglog("stream"):function(){};var mr,br,pr,gr=rr("./internal/streams/buffer_list"),yr=rr("./internal/streams/destroy"),vr=rr("./internal/streams/state").getHighWaterMark,_r=rr("../errors").codes,xr=_r.ERR_INVALID_ARG_TYPE,Rr=_r.ERR_STREAM_PUSH_AFTER_EOF,Cr=_r.ERR_METHOD_NOT_IMPLEMENTED,Tr=_r.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;rr("inherits")(Or,cr);var Ir=yr.errorOrDestroy,Lr=["error","close","destroy","pause","resume"];function Nr(Ur,Br,Kr){lr=lr||rr("./_stream_duplex"),Ur=Ur||{},typeof Kr!="boolean"&&(Kr=Br instanceof lr),this.objectMode=!!Ur.objectMode,Kr&&(this.objectMode=this.objectMode||!!Ur.readableObjectMode),this.highWaterMark=vr(this,Ur,"readableHighWaterMark",Kr),this.buffer=new gr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Ur.emitClose!==!1,this.autoDestroy=!!Ur.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ur.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ur.encoding&&(mr||(mr=rr("string_decoder/").StringDecoder),this.decoder=new mr(Ur.encoding),this.encoding=Ur.encoding)}function Or(Ur){if(lr=lr||rr("./_stream_duplex"),!(this instanceof Or))return new Or(Ur);var Br=this instanceof lr;this._readableState=new Nr(Ur,this,Br),this.readable=!0,Ur&&(typeof Ur.read=="function"&&(this._read=Ur.read),typeof Ur.destroy=="function"&&(this._destroy=Ur.destroy)),cr.call(this)}function Pr(Ur,Br,Kr,Zr,tn){hr("readableAddChunk",Br);var sn,un=Ur._readableState;if(Br===null)un.reading=!1,function(hn,Jr){if(hr("onEofChunk"),!Jr.ended){if(Jr.decoder){var nn=Jr.decoder.end();nn&&nn.length&&(Jr.buffer.push(nn),Jr.length+=Jr.objectMode?1:nn.length)}Jr.ended=!0,Jr.sync?wr(hn):(Jr.needReadable=!1,Jr.emittedReadable||(Jr.emittedReadable=!0,Er(hn)))}}(Ur,un);else if(tn||(sn=function(hn,Jr){var nn;rn=Jr,ur.isBuffer(rn)||rn instanceof dr||typeof Jr=="string"||Jr===void 0||hn.objectMode||(nn=new xr("chunk",["string","Buffer","Uint8Array"],Jr));var rn;return nn}(un,Br)),sn)Ir(Ur,sn);else if(un.objectMode||Br&&Br.length>0)if(typeof Br=="string"||un.objectMode||Object.getPrototypeOf(Br)===ur.prototype||(Br=function(hn){return ur.from(hn)}(Br)),Zr)un.endEmitted?Ir(Ur,new Tr):Mr(Ur,un,Br,!0);else if(un.ended)Ir(Ur,new Rr);else{if(un.destroyed)return!1;un.reading=!1,un.decoder&&!Kr?(Br=un.decoder.write(Br),un.objectMode||Br.length!==0?Mr(Ur,un,Br,!1):Ar(Ur,un)):Mr(Ur,un,Br,!1)}else Zr||(un.reading=!1,Ar(Ur,un));return!un.ended&&(un.length<un.highWaterMark||un.length===0)}function Mr(Ur,Br,Kr,Zr){Br.flowing&&Br.length===0&&!Br.sync?(Br.awaitDrain=0,Ur.emit("data",Kr)):(Br.length+=Br.objectMode?1:Kr.length,Zr?Br.buffer.unshift(Kr):Br.buffer.push(Kr),Br.needReadable&&wr(Ur)),Ar(Ur,Br)}Object.defineProperty(Or.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Ur){this._readableState&&(this._readableState.destroyed=Ur)}}),Or.prototype.destroy=yr.destroy,Or.prototype._undestroy=yr.undestroy,Or.prototype._destroy=function(Ur,Br){Br(Ur)},Or.prototype.push=function(Ur,Br){var Kr,Zr=this._readableState;return Zr.objectMode?Kr=!0:typeof Ur=="string"&&((Br=Br||Zr.defaultEncoding)!==Zr.encoding&&(Ur=ur.from(Ur,Br),Br=""),Kr=!0),Pr(this,Ur,Br,!1,Kr)},Or.prototype.unshift=function(Ur){return Pr(this,Ur,null,!0,!1)},Or.prototype.isPaused=function(){return this._readableState.flowing===!1},Or.prototype.setEncoding=function(Ur){mr||(mr=rr("string_decoder/").StringDecoder);var Br=new mr(Ur);this._readableState.decoder=Br,this._readableState.encoding=this._readableState.decoder.encoding;for(var Kr=this._readableState.buffer.head,Zr="";Kr!==null;)Zr+=Br.write(Kr.data),Kr=Kr.next;return this._readableState.buffer.clear(),Zr!==""&&this._readableState.buffer.push(Zr),this._readableState.length=Zr.length,this};function jr(Ur,Br){return Ur<=0||Br.length===0&&Br.ended?0:Br.objectMode?1:Ur!=Ur?Br.flowing&&Br.length?Br.buffer.head.data.length:Br.length:(Ur>Br.highWaterMark&&(Br.highWaterMark=function(Kr){return Kr>=1073741824?Kr=1073741824:(Kr--,Kr|=Kr>>>1,Kr|=Kr>>>2,Kr|=Kr>>>4,Kr|=Kr>>>8,Kr|=Kr>>>16,Kr++),Kr}(Ur)),Ur<=Br.length?Ur:Br.ended?Br.length:(Br.needReadable=!0,0))}function wr(Ur){var Br=Ur._readableState;hr("emitReadable",Br.needReadable,Br.emittedReadable),Br.needReadable=!1,Br.emittedReadable||(hr("emitReadable",Br.flowing),Br.emittedReadable=!0,ar.nextTick(Er,Ur))}function Er(Ur){var Br=Ur._readableState;hr("emitReadable_",Br.destroyed,Br.length,Br.ended),Br.destroyed||!Br.length&&!Br.ended||(Ur.emit("readable"),Br.emittedReadable=!1),Br.needReadable=!Br.flowing&&!Br.ended&&Br.length<=Br.highWaterMark,Vr(Ur)}function Ar(Ur,Br){Br.readingMore||(Br.readingMore=!0,ar.nextTick(Sr,Ur,Br))}function Sr(Ur,Br){for(;!Br.reading&&!Br.ended&&(Br.length<Br.highWaterMark||Br.flowing&&Br.length===0);){var Kr=Br.length;if(hr("maybeReadMore read 0"),Ur.read(0),Kr===Br.length)break}Br.readingMore=!1}function Dr(Ur){var Br=Ur._readableState;Br.readableListening=Ur.listenerCount("readable")>0,Br.resumeScheduled&&!Br.paused?Br.flowing=!0:Ur.listenerCount("data")>0&&Ur.resume()}function Wr(Ur){hr("readable nexttick read 0"),Ur.read(0)}function $r(Ur,Br){hr("resume",Br.reading),Br.reading||Ur.read(0),Br.resumeScheduled=!1,Ur.emit("resume"),Vr(Ur),Br.flowing&&!Br.reading&&Ur.read(0)}function Vr(Ur){var Br=Ur._readableState;for(hr("flow",Br.flowing);Br.flowing&&Ur.read()!==null;);}function zr(Ur,Br){return Br.length===0?null:(Br.objectMode?Kr=Br.buffer.shift():!Ur||Ur>=Br.length?(Kr=Br.decoder?Br.buffer.join(""):Br.buffer.length===1?Br.buffer.first():Br.buffer.concat(Br.length),Br.buffer.clear()):Kr=Br.buffer.consume(Ur,Br.decoder),Kr);var Kr}function Gr(Ur){var Br=Ur._readableState;hr("endReadable",Br.endEmitted),Br.endEmitted||(Br.ended=!0,ar.nextTick(Fr,Br,Ur))}function Fr(Ur,Br){if(hr("endReadableNT",Ur.endEmitted,Ur.length),!Ur.endEmitted&&Ur.length===0&&(Ur.endEmitted=!0,Br.readable=!1,Br.emit("end"),Ur.autoDestroy)){var Kr=Br._writableState;(!Kr||Kr.autoDestroy&&Kr.finished)&&Br.destroy()}}function Xr(Ur,Br){for(var Kr=0,Zr=Ur.length;Kr<Zr;Kr++)if(Ur[Kr]===Br)return Kr;return-1}Or.prototype.read=function(Ur){hr("read",Ur),Ur=parseInt(Ur,10);var Br=this._readableState,Kr=Ur;if(Ur!==0&&(Br.emittedReadable=!1),Ur===0&&Br.needReadable&&((Br.highWaterMark!==0?Br.length>=Br.highWaterMark:Br.length>0)||Br.ended))return hr("read: emitReadable",Br.length,Br.ended),Br.length===0&&Br.ended?Gr(this):wr(this),null;if((Ur=jr(Ur,Br))===0&&Br.ended)return Br.length===0&&Gr(this),null;var Zr,tn=Br.needReadable;return hr("need readable",tn),(Br.length===0||Br.length-Ur<Br.highWaterMark)&&hr("length less than watermark",tn=!0),Br.ended||Br.reading?hr("reading or ended",tn=!1):tn&&(hr("do read"),Br.reading=!0,Br.sync=!0,Br.length===0&&(Br.needReadable=!0),this._read(Br.highWaterMark),Br.sync=!1,Br.reading||(Ur=jr(Kr,Br))),(Zr=Ur>0?zr(Ur,Br):null)===null?(Br.needReadable=Br.length<=Br.highWaterMark,Ur=0):(Br.length-=Ur,Br.awaitDrain=0),Br.length===0&&(Br.ended||(Br.needReadable=!0),Kr!==Ur&&Br.ended&&Gr(this)),Zr!==null&&this.emit("data",Zr),Zr},Or.prototype._read=function(Ur){Ir(this,new Cr("_read()"))},Or.prototype.pipe=function(Ur,Br){var Kr=this,Zr=this._readableState;switch(Zr.pipesCount){case 0:Zr.pipes=Ur;break;case 1:Zr.pipes=[Zr.pipes,Ur];break;default:Zr.pipes.push(Ur)}Zr.pipesCount+=1,hr("pipe count=%d opts=%j",Zr.pipesCount,Br);var tn=(!Br||Br.end!==!1)&&Ur!==ar.stdout&&Ur!==ar.stderr?un:mn;function sn(yn,Rn){hr("onunpipe"),yn===Kr&&Rn&&Rn.hasUnpiped===!1&&(Rn.hasUnpiped=!0,hr("cleanup"),Ur.removeListener("close",on),Ur.removeListener("finish",fn),Ur.removeListener("drain",hn),Ur.removeListener("error",rn),Ur.removeListener("unpipe",sn),Kr.removeListener("end",un),Kr.removeListener("end",mn),Kr.removeListener("data",nn),Jr=!0,!Zr.awaitDrain||Ur._writableState&&!Ur._writableState.needDrain||hn())}function un(){hr("onend"),Ur.end()}Zr.endEmitted?ar.nextTick(tn):Kr.once("end",tn),Ur.on("unpipe",sn);var hn=function(yn){return function(){var Rn=yn._readableState;hr("pipeOnDrain",Rn.awaitDrain),Rn.awaitDrain&&Rn.awaitDrain--,Rn.awaitDrain===0&&or(yn,"data")&&(Rn.flowing=!0,Vr(yn))}}(Kr);Ur.on("drain",hn);var Jr=!1;function nn(yn){hr("ondata");var Rn=Ur.write(yn);hr("dest.write",Rn),Rn===!1&&((Zr.pipesCount===1&&Zr.pipes===Ur||Zr.pipesCount>1&&Xr(Zr.pipes,Ur)!==-1)&&!Jr&&(hr("false write response, pause",Zr.awaitDrain),Zr.awaitDrain++),Kr.pause())}function rn(yn){hr("onerror",yn),mn(),Ur.removeListener("error",rn),or(Ur,"error")===0&&Ir(Ur,yn)}function on(){Ur.removeListener("finish",fn),mn()}function fn(){hr("onfinish"),Ur.removeListener("close",on),mn()}function mn(){hr("unpipe"),Kr.unpipe(Ur)}return Kr.on("data",nn),function(yn,Rn,In){if(typeof yn.prependListener=="function")return yn.prependListener(Rn,In);yn._events&&yn._events[Rn]?Array.isArray(yn._events[Rn])?yn._events[Rn].unshift(In):yn._events[Rn]=[In,yn._events[Rn]]:yn.on(Rn,In)}(Ur,"error",rn),Ur.once("close",on),Ur.once("finish",fn),Ur.emit("pipe",Kr),Zr.flowing||(hr("pipe resume"),Kr.resume()),Ur},Or.prototype.unpipe=function(Ur){var Br=this._readableState,Kr={hasUnpiped:!1};if(Br.pipesCount===0)return this;if(Br.pipesCount===1)return Ur&&Ur!==Br.pipes||(Ur||(Ur=Br.pipes),Br.pipes=null,Br.pipesCount=0,Br.flowing=!1,Ur&&Ur.emit("unpipe",this,Kr)),this;if(!Ur){var Zr=Br.pipes,tn=Br.pipesCount;Br.pipes=null,Br.pipesCount=0,Br.flowing=!1;for(var sn=0;sn<tn;sn++)Zr[sn].emit("unpipe",this,{hasUnpiped:!1});return this}var un=Xr(Br.pipes,Ur);return un===-1||(Br.pipes.splice(un,1),Br.pipesCount-=1,Br.pipesCount===1&&(Br.pipes=Br.pipes[0]),Ur.emit("unpipe",this,Kr)),this},Or.prototype.on=function(Ur,Br){var Kr=cr.prototype.on.call(this,Ur,Br),Zr=this._readableState;return Ur==="data"?(Zr.readableListening=this.listenerCount("readable")>0,Zr.flowing!==!1&&this.resume()):Ur==="readable"&&(Zr.endEmitted||Zr.readableListening||(Zr.readableListening=Zr.needReadable=!0,Zr.flowing=!1,Zr.emittedReadable=!1,hr("on readable",Zr.length,Zr.reading),Zr.length?wr(this):Zr.reading||ar.nextTick(Wr,this))),Kr},Or.prototype.addListener=Or.prototype.on,Or.prototype.removeListener=function(Ur,Br){var Kr=cr.prototype.removeListener.call(this,Ur,Br);return Ur==="readable"&&ar.nextTick(Dr,this),Kr},Or.prototype.removeAllListeners=function(Ur){var Br=cr.prototype.removeAllListeners.apply(this,arguments);return Ur!=="readable"&&Ur!==void 0||ar.nextTick(Dr,this),Br},Or.prototype.resume=function(){var Ur=this._readableState;return Ur.flowing||(hr("resume"),Ur.flowing=!Ur.readableListening,function(Br,Kr){Kr.resumeScheduled||(Kr.resumeScheduled=!0,ar.nextTick($r,Br,Kr))}(this,Ur)),Ur.paused=!1,this},Or.prototype.pause=function(){return hr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(hr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Or.prototype.wrap=function(Ur){var Br=this,Kr=this._readableState,Zr=!1;for(var tn in Ur.on("end",function(){if(hr("wrapped end"),Kr.decoder&&!Kr.ended){var un=Kr.decoder.end();un&&un.length&&Br.push(un)}Br.push(null)}),Ur.on("data",function(un){hr("wrapped data"),Kr.decoder&&(un=Kr.decoder.write(un)),Kr.objectMode&&un==null||(Kr.objectMode||un&&un.length)&&(Br.push(un)||(Zr=!0,Ur.pause()))}),Ur)this[tn]===void 0&&typeof Ur[tn]=="function"&&(this[tn]=function(un){return function(){return Ur[un].apply(Ur,arguments)}}(tn));for(var sn=0;sn<Lr.length;sn++)Ur.on(Lr[sn],this.emit.bind(this,Lr[sn]));return this._read=function(un){hr("wrapped _read",un),Zr&&(Zr=!1,Ur.resume())},this},typeof Symbol=="function"&&(Or.prototype[Symbol.asyncIterator]=function(){return br===void 0&&(br=rr("./internal/streams/async_iterator")),br(this)}),Object.defineProperty(Or.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Or.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Or.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ur){this._readableState&&(this._readableState.flowing=Ur)}}),Or._fromList=zr,Object.defineProperty(Or.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Or.from=function(Ur,Br){return pr===void 0&&(pr=rr("./internal/streams/from")),pr(Or,Ur,Br)})}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(rr,nr,ir){nr.exports=hr;var ar=rr("../errors").codes,sr=ar.ERR_METHOD_NOT_IMPLEMENTED,lr=ar.ERR_MULTIPLE_CALLBACK,or=ar.ERR_TRANSFORM_ALREADY_TRANSFORMING,cr=ar.ERR_TRANSFORM_WITH_LENGTH_0,ur=rr("./_stream_duplex");function dr(br,pr){var gr=this._transformState;gr.transforming=!1;var yr=gr.writecb;if(yr===null)return this.emit("error",new lr);gr.writechunk=null,gr.writecb=null,pr!=null&&this.push(pr),yr(br);var vr=this._readableState;vr.reading=!1,(vr.needReadable||vr.length<vr.highWaterMark)&&this._read(vr.highWaterMark)}function hr(br){if(!(this instanceof hr))return new hr(br);ur.call(this,br),this._transformState={afterTransform:dr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,br&&(typeof br.transform=="function"&&(this._transform=br.transform),typeof br.flush=="function"&&(this._flush=br.flush)),this.on("prefinish",fr)}function fr(){var br=this;typeof this._flush!="function"||this._readableState.destroyed?mr(this,null,null):this._flush(function(pr,gr){mr(br,pr,gr)})}function mr(br,pr,gr){if(pr)return br.emit("error",pr);if(gr!=null&&br.push(gr),br._writableState.length)throw new cr;if(br._transformState.transforming)throw new or;return br.push(null)}rr("inherits")(hr,ur),hr.prototype.push=function(br,pr){return this._transformState.needTransform=!1,ur.prototype.push.call(this,br,pr)},hr.prototype._transform=function(br,pr,gr){gr(new sr("_transform()"))},hr.prototype._write=function(br,pr,gr){var yr=this._transformState;if(yr.writecb=gr,yr.writechunk=br,yr.writeencoding=pr,!yr.transforming){var vr=this._readableState;(yr.needTransform||vr.needReadable||vr.length<vr.highWaterMark)&&this._read(vr.highWaterMark)}},hr.prototype._read=function(br){var pr=this._transformState;pr.writechunk===null||pr.transforming?pr.needTransform=!0:(pr.transforming=!0,this._transform(pr.writechunk,pr.writeencoding,pr.afterTransform))},hr.prototype._destroy=function(br,pr){ur.prototype._destroy.call(this,br,function(gr){pr(gr)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(rr,nr,ir){(function(ar,sr){(function(){function lr(Sr){var Dr=this;this.next=null,this.entry=null,this.finish=function(){(function(Wr,$r,Vr){var zr=Wr.entry;for(Wr.entry=null;zr;){var Gr=zr.callback;$r.pendingcb--,Gr(Vr),zr=zr.next}$r.corkedRequestsFree.next=Wr})(Dr,Sr)}}var or;nr.exports=Or,Or.WritableState=Nr;var cr={deprecate:rr("util-deprecate")},ur=rr("./internal/streams/stream"),dr=rr("buffer").Buffer,hr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},fr,mr=rr("./internal/streams/destroy"),br=rr("./internal/streams/state").getHighWaterMark,pr=rr("../errors").codes,gr=pr.ERR_INVALID_ARG_TYPE,yr=pr.ERR_METHOD_NOT_IMPLEMENTED,vr=pr.ERR_MULTIPLE_CALLBACK,_r=pr.ERR_STREAM_CANNOT_PIPE,xr=pr.ERR_STREAM_DESTROYED,Rr=pr.ERR_STREAM_NULL_VALUES,Cr=pr.ERR_STREAM_WRITE_AFTER_END,Tr=pr.ERR_UNKNOWN_ENCODING,Ir=mr.errorOrDestroy;function Lr(){}function Nr(Sr,Dr,Wr){or=or||rr("./_stream_duplex"),Sr=Sr||{},typeof Wr!="boolean"&&(Wr=Dr instanceof or),this.objectMode=!!Sr.objectMode,Wr&&(this.objectMode=this.objectMode||!!Sr.writableObjectMode),this.highWaterMark=br(this,Sr,"writableHighWaterMark",Wr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $r=Sr.decodeStrings===!1;this.decodeStrings=!$r,this.defaultEncoding=Sr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Vr){(function(zr,Gr){var Fr=zr._writableState,Xr=Fr.sync,Ur=Fr.writecb;if(typeof Ur!="function")throw new vr;if(function(Kr){Kr.writing=!1,Kr.writecb=null,Kr.length-=Kr.writelen,Kr.writelen=0}(Fr),Gr)(function(Kr,Zr,tn,sn,un){--Zr.pendingcb,tn?(ar.nextTick(un,sn),ar.nextTick(Ar,Kr,Zr),Kr._writableState.errorEmitted=!0,Ir(Kr,sn)):(un(sn),Kr._writableState.errorEmitted=!0,Ir(Kr,sn),Ar(Kr,Zr))})(zr,Fr,Xr,Gr,Ur);else{var Br=wr(Fr)||zr.destroyed;Br||Fr.corked||Fr.bufferProcessing||!Fr.bufferedRequest||jr(zr,Fr),Xr?ar.nextTick(Mr,zr,Fr,Br,Ur):Mr(zr,Fr,Br,Ur)}})(Dr,Vr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Sr.emitClose!==!1,this.autoDestroy=!!Sr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new lr(this)}function Or(Sr){var Dr=this instanceof(or=or||rr("./_stream_duplex"));if(!Dr&&!fr.call(Or,this))return new Or(Sr);this._writableState=new Nr(Sr,this,Dr),this.writable=!0,Sr&&(typeof Sr.write=="function"&&(this._write=Sr.write),typeof Sr.writev=="function"&&(this._writev=Sr.writev),typeof Sr.destroy=="function"&&(this._destroy=Sr.destroy),typeof Sr.final=="function"&&(this._final=Sr.final)),ur.call(this)}function Pr(Sr,Dr,Wr,$r,Vr,zr,Gr){Dr.writelen=$r,Dr.writecb=Gr,Dr.writing=!0,Dr.sync=!0,Dr.destroyed?Dr.onwrite(new xr("write")):Wr?Sr._writev(Vr,Dr.onwrite):Sr._write(Vr,zr,Dr.onwrite),Dr.sync=!1}function Mr(Sr,Dr,Wr,$r){Wr||function(Vr,zr){zr.length===0&&zr.needDrain&&(zr.needDrain=!1,Vr.emit("drain"))}(Sr,Dr),Dr.pendingcb--,$r(),Ar(Sr,Dr)}function jr(Sr,Dr){Dr.bufferProcessing=!0;var Wr=Dr.bufferedRequest;if(Sr._writev&&Wr&&Wr.next){var $r=Dr.bufferedRequestCount,Vr=new Array($r),zr=Dr.corkedRequestsFree;zr.entry=Wr;for(var Gr=0,Fr=!0;Wr;)Vr[Gr]=Wr,Wr.isBuf||(Fr=!1),Wr=Wr.next,Gr+=1;Vr.allBuffers=Fr,Pr(Sr,Dr,!0,Dr.length,Vr,"",zr.finish),Dr.pendingcb++,Dr.lastBufferedRequest=null,zr.next?(Dr.corkedRequestsFree=zr.next,zr.next=null):Dr.corkedRequestsFree=new lr(Dr),Dr.bufferedRequestCount=0}else{for(;Wr;){var Xr=Wr.chunk,Ur=Wr.encoding,Br=Wr.callback;if(Pr(Sr,Dr,!1,Dr.objectMode?1:Xr.length,Xr,Ur,Br),Wr=Wr.next,Dr.bufferedRequestCount--,Dr.writing)break}Wr===null&&(Dr.lastBufferedRequest=null)}Dr.bufferedRequest=Wr,Dr.bufferProcessing=!1}function wr(Sr){return Sr.ending&&Sr.length===0&&Sr.bufferedRequest===null&&!Sr.finished&&!Sr.writing}function Er(Sr,Dr){Sr._final(function(Wr){Dr.pendingcb--,Wr&&Ir(Sr,Wr),Dr.prefinished=!0,Sr.emit("prefinish"),Ar(Sr,Dr)})}function Ar(Sr,Dr){var Wr=wr(Dr);if(Wr&&(function(Vr,zr){zr.prefinished||zr.finalCalled||(typeof Vr._final!="function"||zr.destroyed?(zr.prefinished=!0,Vr.emit("prefinish")):(zr.pendingcb++,zr.finalCalled=!0,ar.nextTick(Er,Vr,zr)))}(Sr,Dr),Dr.pendingcb===0&&(Dr.finished=!0,Sr.emit("finish"),Dr.autoDestroy))){var $r=Sr._readableState;(!$r||$r.autoDestroy&&$r.endEmitted)&&Sr.destroy()}return Wr}rr("inherits")(Or,ur),Nr.prototype.getBuffer=function(){for(var Sr=this.bufferedRequest,Dr=[];Sr;)Dr.push(Sr),Sr=Sr.next;return Dr},function(){try{Object.defineProperty(Nr.prototype,"buffer",{get:cr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Or,Symbol.hasInstance,{value:function(Sr){return!!fr.call(this,Sr)||this===Or&&Sr&&Sr._writableState instanceof Nr}})):fr=function(Sr){return Sr instanceof this},Or.prototype.pipe=function(){Ir(this,new _r)},Or.prototype.write=function(Sr,Dr,Wr){var $r,Vr=this._writableState,zr=!1,Gr=!Vr.objectMode&&($r=Sr,dr.isBuffer($r)||$r instanceof hr);return Gr&&!dr.isBuffer(Sr)&&(Sr=function(Fr){return dr.from(Fr)}(Sr)),typeof Dr=="function"&&(Wr=Dr,Dr=null),Gr?Dr="buffer":Dr||(Dr=Vr.defaultEncoding),typeof Wr!="function"&&(Wr=Lr),Vr.ending?function(Fr,Xr){var Ur=new Cr;Ir(Fr,Ur),ar.nextTick(Xr,Ur)}(this,Wr):(Gr||function(Fr,Xr,Ur,Br){var Kr;return Ur===null?Kr=new Rr:typeof Ur=="string"||Xr.objectMode||(Kr=new gr("chunk",["string","Buffer"],Ur)),!Kr||(Ir(Fr,Kr),ar.nextTick(Br,Kr),!1)}(this,Vr,Sr,Wr))&&(Vr.pendingcb++,zr=function(Fr,Xr,Ur,Br,Kr,Zr){if(!Ur){var tn=function(Jr,nn,rn){return Jr.objectMode||Jr.decodeStrings===!1||typeof nn!="string"||(nn=dr.from(nn,rn)),nn}(Xr,Br,Kr);Br!==tn&&(Ur=!0,Kr="buffer",Br=tn)}var sn=Xr.objectMode?1:Br.length;Xr.length+=sn;var un=Xr.length<Xr.highWaterMark;if(un||(Xr.needDrain=!0),Xr.writing||Xr.corked){var hn=Xr.lastBufferedRequest;Xr.lastBufferedRequest={chunk:Br,encoding:Kr,isBuf:Ur,callback:Zr,next:null},hn?hn.next=Xr.lastBufferedRequest:Xr.bufferedRequest=Xr.lastBufferedRequest,Xr.bufferedRequestCount+=1}else Pr(Fr,Xr,!1,sn,Br,Kr,Zr);return un}(this,Vr,Gr,Sr,Dr,Wr)),zr},Or.prototype.cork=function(){this._writableState.corked++},Or.prototype.uncork=function(){var Sr=this._writableState;Sr.corked&&(Sr.corked--,Sr.writing||Sr.corked||Sr.bufferProcessing||!Sr.bufferedRequest||jr(this,Sr))},Or.prototype.setDefaultEncoding=function(Sr){if(typeof Sr=="string"&&(Sr=Sr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Sr+"").toLowerCase())>-1))throw new Tr(Sr);return this._writableState.defaultEncoding=Sr,this},Object.defineProperty(Or.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Or.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Or.prototype._write=function(Sr,Dr,Wr){Wr(new yr("_write()"))},Or.prototype._writev=null,Or.prototype.end=function(Sr,Dr,Wr){var $r=this._writableState;return typeof Sr=="function"?(Wr=Sr,Sr=null,Dr=null):typeof Dr=="function"&&(Wr=Dr,Dr=null),Sr!=null&&this.write(Sr,Dr),$r.corked&&($r.corked=1,this.uncork()),$r.ending||function(Vr,zr,Gr){zr.ending=!0,Ar(Vr,zr),Gr&&(zr.finished?ar.nextTick(Gr):Vr.once("finish",Gr)),zr.ended=!0,Vr.writable=!1}(this,$r,Wr),this},Object.defineProperty(Or.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Or.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Sr){this._writableState&&(this._writableState.destroyed=Sr)}}),Or.prototype.destroy=mr.destroy,Or.prototype._undestroy=mr.undestroy,Or.prototype._destroy=function(Sr,Dr){Dr(Sr)}}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(rr,nr,ir){(function(ar){(function(){var sr;function lr(xr,Rr,Cr){return(Rr=function(Tr){var Ir=function(Lr,Nr){if(typeof Lr!="object"||Lr===null)return Lr;var Or=Lr[Symbol.toPrimitive];if(Or!==void 0){var Pr=Or.call(Lr,Nr);if(typeof Pr!="object")return Pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Nr==="string"?String:Number)(Lr)}(Tr,"string");return typeof Ir=="symbol"?Ir:String(Ir)}(Rr))in xr?Object.defineProperty(xr,Rr,{value:Cr,enumerable:!0,configurable:!0,writable:!0}):xr[Rr]=Cr,xr}var or=rr("./end-of-stream"),cr=Symbol("lastResolve"),ur=Symbol("lastReject"),dr=Symbol("error"),hr=Symbol("ended"),fr=Symbol("lastPromise"),mr=Symbol("handlePromise"),br=Symbol("stream");function pr(xr,Rr){return{value:xr,done:Rr}}function gr(xr){var Rr=xr[cr];if(Rr!==null){var Cr=xr[br].read();Cr!==null&&(xr[fr]=null,xr[cr]=null,xr[ur]=null,Rr(pr(Cr,!1)))}}function yr(xr){ar.nextTick(gr,xr)}var vr=Object.getPrototypeOf(function(){}),_r=Object.setPrototypeOf((lr(sr={get stream(){return this[br]},next:function(){var xr=this,Rr=this[dr];if(Rr!==null)return Promise.reject(Rr);if(this[hr])return Promise.resolve(pr(void 0,!0));if(this[br].destroyed)return new Promise(function(Lr,Nr){ar.nextTick(function(){xr[dr]?Nr(xr[dr]):Lr(pr(void 0,!0))})});var Cr,Tr=this[fr];if(Tr)Cr=new Promise(function(Lr,Nr){return function(Or,Pr){Lr.then(function(){Nr[hr]?Or(pr(void 0,!0)):Nr[mr](Or,Pr)},Pr)}}(Tr,this));else{var Ir=this[br].read();if(Ir!==null)return Promise.resolve(pr(Ir,!1));Cr=new Promise(this[mr])}return this[fr]=Cr,Cr}},Symbol.asyncIterator,function(){return this}),lr(sr,"return",function(){var xr=this;return new Promise(function(Rr,Cr){xr[br].destroy(null,function(Tr){Tr?Cr(Tr):Rr(pr(void 0,!0))})})}),sr),vr);nr.exports=function(xr){var Rr,Cr=Object.create(_r,(lr(Rr={},br,{value:xr,writable:!0}),lr(Rr,cr,{value:null,writable:!0}),lr(Rr,ur,{value:null,writable:!0}),lr(Rr,dr,{value:null,writable:!0}),lr(Rr,hr,{value:xr._readableState.endEmitted,writable:!0}),lr(Rr,mr,{value:function(Tr,Ir){var Lr=Cr[br].read();Lr?(Cr[fr]=null,Cr[cr]=null,Cr[ur]=null,Tr(pr(Lr,!1))):(Cr[cr]=Tr,Cr[ur]=Ir)},writable:!0}),Rr));return Cr[fr]=null,or(xr,function(Tr){if(Tr&&Tr.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ir=Cr[ur];return Ir!==null&&(Cr[fr]=null,Cr[cr]=null,Cr[ur]=null,Ir(Tr)),void(Cr[dr]=Tr)}var Lr=Cr[cr];Lr!==null&&(Cr[fr]=null,Cr[cr]=null,Cr[ur]=null,Lr(pr(void 0,!0))),Cr[hr]=!0}),xr.on("readable",yr.bind(null,Cr)),Cr}}).call(this)}).call(this,rr("_process"))},{"./end-of-stream":486,_process:467}],484:[function(rr,nr,ir){function ar(fr,mr){var br=Object.keys(fr);if(Object.getOwnPropertySymbols){var pr=Object.getOwnPropertySymbols(fr);mr&&(pr=pr.filter(function(gr){return Object.getOwnPropertyDescriptor(fr,gr).enumerable})),br.push.apply(br,pr)}return br}function sr(fr){for(var mr=1;mr<arguments.length;mr++){var br=arguments[mr]!=null?arguments[mr]:{};mr%2?ar(Object(br),!0).forEach(function(pr){lr(fr,pr,br[pr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fr,Object.getOwnPropertyDescriptors(br)):ar(Object(br)).forEach(function(pr){Object.defineProperty(fr,pr,Object.getOwnPropertyDescriptor(br,pr))})}return fr}function lr(fr,mr,br){return(mr=cr(mr))in fr?Object.defineProperty(fr,mr,{value:br,enumerable:!0,configurable:!0,writable:!0}):fr[mr]=br,fr}function or(fr,mr){for(var br=0;br<mr.length;br++){var pr=mr[br];pr.enumerable=pr.enumerable||!1,pr.configurable=!0,"value"in pr&&(pr.writable=!0),Object.defineProperty(fr,cr(pr.key),pr)}}function cr(fr){var mr=function(br,pr){if(typeof br!="object"||br===null)return br;var gr=br[Symbol.toPrimitive];if(gr!==void 0){var yr=gr.call(br,pr);if(typeof yr!="object")return yr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pr==="string"?String:Number)(br)}(fr,"string");return typeof mr=="symbol"?mr:String(mr)}var ur=rr("buffer").Buffer,dr=rr("util").inspect,hr=dr&&dr.custom||"inspect";nr.exports=function(){function fr(){(function(pr,gr){if(!(pr instanceof gr))throw new TypeError("Cannot call a class as a function")})(this,fr),this.head=null,this.tail=null,this.length=0}var mr,br;return mr=fr,(br=[{key:"push",value:function(pr){var gr={data:pr,next:null};this.length>0?this.tail.next=gr:this.head=gr,this.tail=gr,++this.length}},{key:"unshift",value:function(pr){var gr={data:pr,next:this.head};this.length===0&&(this.tail=gr),this.head=gr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var pr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,pr}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(pr){if(this.length===0)return"";for(var gr=this.head,yr=""+gr.data;gr=gr.next;)yr+=pr+gr.data;return yr}},{key:"concat",value:function(pr){if(this.length===0)return ur.alloc(0);for(var gr,yr,vr,_r=ur.allocUnsafe(pr>>>0),xr=this.head,Rr=0;xr;)gr=xr.data,yr=_r,vr=Rr,ur.prototype.copy.call(gr,yr,vr),Rr+=xr.data.length,xr=xr.next;return _r}},{key:"consume",value:function(pr,gr){var yr;return pr<this.head.data.length?(yr=this.head.data.slice(0,pr),this.head.data=this.head.data.slice(pr)):yr=pr===this.head.data.length?this.shift():gr?this._getString(pr):this._getBuffer(pr),yr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(pr){var gr=this.head,yr=1,vr=gr.data;for(pr-=vr.length;gr=gr.next;){var _r=gr.data,xr=pr>_r.length?_r.length:pr;if(xr===_r.length?vr+=_r:vr+=_r.slice(0,pr),(pr-=xr)==0){xr===_r.length?(++yr,gr.next?this.head=gr.next:this.head=this.tail=null):(this.head=gr,gr.data=_r.slice(xr));break}++yr}return this.length-=yr,vr}},{key:"_getBuffer",value:function(pr){var gr=ur.allocUnsafe(pr),yr=this.head,vr=1;for(yr.data.copy(gr),pr-=yr.data.length;yr=yr.next;){var _r=yr.data,xr=pr>_r.length?_r.length:pr;if(_r.copy(gr,gr.length-pr,0,xr),(pr-=xr)==0){xr===_r.length?(++vr,yr.next?this.head=yr.next:this.head=this.tail=null):(this.head=yr,yr.data=_r.slice(xr));break}++vr}return this.length-=vr,gr}},{key:hr,value:function(pr,gr){return dr(this,sr(sr({},gr),{},{depth:0,customInspect:!1}))}}])&&or(mr.prototype,br),Object.defineProperty(mr,"prototype",{writable:!1}),fr}()},{buffer:220,util:188}],485:[function(rr,nr,ir){(function(ar){(function(){function sr(cr,ur){or(cr,ur),lr(cr)}function lr(cr){cr._writableState&&!cr._writableState.emitClose||cr._readableState&&!cr._readableState.emitClose||cr.emit("close")}function or(cr,ur){cr.emit("error",ur)}nr.exports={destroy:function(cr,ur){var dr=this,hr=this._readableState&&this._readableState.destroyed,fr=this._writableState&&this._writableState.destroyed;return hr||fr?(ur?ur(cr):cr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ar.nextTick(or,this,cr)):ar.nextTick(or,this,cr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(cr||null,function(mr){!ur&&mr?dr._writableState?dr._writableState.errorEmitted?ar.nextTick(lr,dr):(dr._writableState.errorEmitted=!0,ar.nextTick(sr,dr,mr)):ar.nextTick(sr,dr,mr):ur?(ar.nextTick(lr,dr),ur(mr)):ar.nextTick(lr,dr)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(cr,ur){var dr=cr._readableState,hr=cr._writableState;dr&&dr.autoDestroy||hr&&hr.autoDestroy?cr.destroy(ur):cr.emit("error",ur)}}}).call(this)}).call(this,rr("_process"))},{_process:467}],486:[function(rr,nr,ir){var ar=rr("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function sr(){}nr.exports=function lr(or,cr,ur){if(typeof cr=="function")return lr(or,null,cr);cr||(cr={}),ur=function(xr){var Rr=!1;return function(){if(!Rr){Rr=!0;for(var Cr=arguments.length,Tr=new Array(Cr),Ir=0;Ir<Cr;Ir++)Tr[Ir]=arguments[Ir];xr.apply(this,Tr)}}}(ur||sr);var dr=cr.readable||cr.readable!==!1&&or.readable,hr=cr.writable||cr.writable!==!1&&or.writable,fr=function(){or.writable||br()},mr=or._writableState&&or._writableState.finished,br=function(){hr=!1,mr=!0,dr||ur.call(or)},pr=or._readableState&&or._readableState.endEmitted,gr=function(){dr=!1,pr=!0,hr||ur.call(or)},yr=function(xr){ur.call(or,xr)},vr=function(){var xr;return dr&&!pr?(or._readableState&&or._readableState.ended||(xr=new ar),ur.call(or,xr)):hr&&!mr?(or._writableState&&or._writableState.ended||(xr=new ar),ur.call(or,xr)):void 0},_r=function(){or.req.on("finish",br)};return function(xr){return xr.setHeader&&typeof xr.abort=="function"}(or)?(or.on("complete",br),or.on("abort",vr),or.req?_r():or.on("request",_r)):hr&&!or._writableState&&(or.on("end",fr),or.on("close",fr)),or.on("end",gr),or.on("finish",br),cr.error!==!1&&or.on("error",yr),or.on("close",vr),function(){or.removeListener("complete",br),or.removeListener("abort",vr),or.removeListener("request",_r),or.req&&or.req.removeListener("finish",br),or.removeListener("end",fr),or.removeListener("close",fr),or.removeListener("finish",br),or.removeListener("end",gr),or.removeListener("error",yr),or.removeListener("close",vr)}}},{"../../../errors":477}],487:[function(rr,nr,ir){nr.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(rr,nr,ir){var ar,sr=rr("../../../errors").codes,lr=sr.ERR_MISSING_ARGS,or=sr.ERR_STREAM_DESTROYED;function cr(mr){if(mr)throw mr}function ur(mr,br,pr,gr){gr=function(_r){var xr=!1;return function(){xr||(xr=!0,_r.apply(void 0,arguments))}}(gr);var yr=!1;mr.on("close",function(){yr=!0}),ar===void 0&&(ar=rr("./end-of-stream")),ar(mr,{readable:br,writable:pr},function(_r){if(_r)return gr(_r);yr=!0,gr()});var vr=!1;return function(_r){if(!yr&&!vr)return vr=!0,function(xr){return xr.setHeader&&typeof xr.abort=="function"}(mr)?mr.abort():typeof mr.destroy=="function"?mr.destroy():void gr(_r||new or("pipe"))}}function dr(mr){mr()}function hr(mr,br){return mr.pipe(br)}function fr(mr){return mr.length?typeof mr[mr.length-1]!="function"?cr:mr.pop():cr}nr.exports=function(){for(var mr=arguments.length,br=new Array(mr),pr=0;pr<mr;pr++)br[pr]=arguments[pr];var gr,yr=fr(br);if(Array.isArray(br[0])&&(br=br[0]),br.length<2)throw new lr("streams");var vr=br.map(function(_r,xr){var Rr=xr<br.length-1;return ur(_r,Rr,xr>0,function(Cr){gr||(gr=Cr),Cr&&vr.forEach(dr),Rr||(vr.forEach(dr),yr(gr))})});return br.reduce(hr)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(rr,nr,ir){var ar=rr("../../../errors").codes.ERR_INVALID_OPT_VALUE;nr.exports={getHighWaterMark:function(sr,lr,or,cr){var ur=function(dr,hr,fr){return dr.highWaterMark!=null?dr.highWaterMark:hr?dr[fr]:null}(lr,cr,or);if(ur!=null){if(!isFinite(ur)||Math.floor(ur)!==ur||ur<0)throw new ar(cr?or:"highWaterMark",ur);return Math.floor(ur)}return sr.objectMode?16:16384}}},{"../../../errors":477}],490:[function(rr,nr,ir){nr.exports=rr("events").EventEmitter},{events:422}],491:[function(rr,nr,ir){(ir=nr.exports=rr("./lib/_stream_readable.js")).Stream=ir,ir.Readable=ir,ir.Writable=rr("./lib/_stream_writable.js"),ir.Duplex=rr("./lib/_stream_duplex.js"),ir.Transform=rr("./lib/_stream_transform.js"),ir.PassThrough=rr("./lib/_stream_passthrough.js"),ir.finished=rr("./lib/internal/streams/end-of-stream.js"),ir.pipeline=rr("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(rr,nr,ir){var ar=function(sr){var lr=Object.prototype,or=lr.hasOwnProperty,cr=Object.defineProperty||function(Ar,Sr,Dr){Ar[Sr]=Dr.value},ur=typeof Symbol=="function"?Symbol:{},dr=ur.iterator||"@@iterator",hr=ur.asyncIterator||"@@asyncIterator",fr=ur.toStringTag||"@@toStringTag";function mr(Ar,Sr,Dr){return Object.defineProperty(Ar,Sr,{value:Dr,enumerable:!0,configurable:!0,writable:!0}),Ar[Sr]}try{mr({},"")}catch{mr=function(Sr,Dr,Wr){return Sr[Dr]=Wr}}function br(Ar,Sr,Dr,Wr){var $r=Sr&&Sr.prototype instanceof yr?Sr:yr,Vr=Object.create($r.prototype),zr=new jr(Wr||[]);return cr(Vr,"_invoke",{value:Nr(Ar,Dr,zr)}),Vr}function pr(Ar,Sr,Dr){try{return{type:"normal",arg:Ar.call(Sr,Dr)}}catch(Wr){return{type:"throw",arg:Wr}}}sr.wrap=br;var gr={};function yr(){}function vr(){}function _r(){}var xr={};mr(xr,dr,function(){return this});var Rr=Object.getPrototypeOf,Cr=Rr&&Rr(Rr(wr([])));Cr&&Cr!==lr&&or.call(Cr,dr)&&(xr=Cr);var Tr=_r.prototype=yr.prototype=Object.create(xr);function Ir(Ar){["next","throw","return"].forEach(function(Sr){mr(Ar,Sr,function(Dr){return this._invoke(Sr,Dr)})})}function Lr(Ar,Sr){var Dr;cr(this,"_invoke",{value:function(Wr,$r){function Vr(){return new Sr(function(zr,Gr){(function Fr(Xr,Ur,Br,Kr){var Zr=pr(Ar[Xr],Ar,Ur);if(Zr.type!=="throw"){var tn=Zr.arg,sn=tn.value;return sn&&typeof sn=="object"&&or.call(sn,"__await")?Sr.resolve(sn.__await).then(function(un){Fr("next",un,Br,Kr)},function(un){Fr("throw",un,Br,Kr)}):Sr.resolve(sn).then(function(un){tn.value=un,Br(tn)},function(un){return Fr("throw",un,Br,Kr)})}Kr(Zr.arg)})(Wr,$r,zr,Gr)})}return Dr=Dr?Dr.then(Vr,Vr):Vr()}})}function Nr(Ar,Sr,Dr){var Wr="suspendedStart";return function($r,Vr){if(Wr==="executing")throw new Error("Generator is already running");if(Wr==="completed"){if($r==="throw")throw Vr;return Er()}for(Dr.method=$r,Dr.arg=Vr;;){var zr=Dr.delegate;if(zr){var Gr=Or(zr,Dr);if(Gr){if(Gr===gr)continue;return Gr}}if(Dr.method==="next")Dr.sent=Dr._sent=Dr.arg;else if(Dr.method==="throw"){if(Wr==="suspendedStart")throw Wr="completed",Dr.arg;Dr.dispatchException(Dr.arg)}else Dr.method==="return"&&Dr.abrupt("return",Dr.arg);Wr="executing";var Fr=pr(Ar,Sr,Dr);if(Fr.type==="normal"){if(Wr=Dr.done?"completed":"suspendedYield",Fr.arg===gr)continue;return{value:Fr.arg,done:Dr.done}}Fr.type==="throw"&&(Wr="completed",Dr.method="throw",Dr.arg=Fr.arg)}}}function Or(Ar,Sr){var Dr=Sr.method,Wr=Ar.iterator[Dr];if(Wr===void 0)return Sr.delegate=null,Dr==="throw"&&Ar.iterator.return&&(Sr.method="return",Sr.arg=void 0,Or(Ar,Sr),Sr.method==="throw")||Dr!=="return"&&(Sr.method="throw",Sr.arg=new TypeError("The iterator does not provide a '"+Dr+"' method")),gr;var $r=pr(Wr,Ar.iterator,Sr.arg);if($r.type==="throw")return Sr.method="throw",Sr.arg=$r.arg,Sr.delegate=null,gr;var Vr=$r.arg;return Vr?Vr.done?(Sr[Ar.resultName]=Vr.value,Sr.next=Ar.nextLoc,Sr.method!=="return"&&(Sr.method="next",Sr.arg=void 0),Sr.delegate=null,gr):Vr:(Sr.method="throw",Sr.arg=new TypeError("iterator result is not an object"),Sr.delegate=null,gr)}function Pr(Ar){var Sr={tryLoc:Ar[0]};1 in Ar&&(Sr.catchLoc=Ar[1]),2 in Ar&&(Sr.finallyLoc=Ar[2],Sr.afterLoc=Ar[3]),this.tryEntries.push(Sr)}function Mr(Ar){var Sr=Ar.completion||{};Sr.type="normal",delete Sr.arg,Ar.completion=Sr}function jr(Ar){this.tryEntries=[{tryLoc:"root"}],Ar.forEach(Pr,this),this.reset(!0)}function wr(Ar){if(Ar){var Sr=Ar[dr];if(Sr)return Sr.call(Ar);if(typeof Ar.next=="function")return Ar;if(!isNaN(Ar.length)){var Dr=-1,Wr=function $r(){for(;++Dr<Ar.length;)if(or.call(Ar,Dr))return $r.value=Ar[Dr],$r.done=!1,$r;return $r.value=void 0,$r.done=!0,$r};return Wr.next=Wr}}return{next:Er}}function Er(){return{value:void 0,done:!0}}return vr.prototype=_r,cr(Tr,"constructor",{value:_r,configurable:!0}),cr(_r,"constructor",{value:vr,configurable:!0}),vr.displayName=mr(_r,fr,"GeneratorFunction"),sr.isGeneratorFunction=function(Ar){var Sr=typeof Ar=="function"&&Ar.constructor;return!!Sr&&(Sr===vr||(Sr.displayName||Sr.name)==="GeneratorFunction")},sr.mark=function(Ar){return Object.setPrototypeOf?Object.setPrototypeOf(Ar,_r):(Ar.__proto__=_r,mr(Ar,fr,"GeneratorFunction")),Ar.prototype=Object.create(Tr),Ar},sr.awrap=function(Ar){return{__await:Ar}},Ir(Lr.prototype),mr(Lr.prototype,hr,function(){return this}),sr.AsyncIterator=Lr,sr.async=function(Ar,Sr,Dr,Wr,$r){$r===void 0&&($r=Promise);var Vr=new Lr(br(Ar,Sr,Dr,Wr),$r);return sr.isGeneratorFunction(Sr)?Vr:Vr.next().then(function(zr){return zr.done?zr.value:Vr.next()})},Ir(Tr),mr(Tr,fr,"Generator"),mr(Tr,dr,function(){return this}),mr(Tr,"toString",function(){return"[object Generator]"}),sr.keys=function(Ar){var Sr=Object(Ar),Dr=[];for(var Wr in Sr)Dr.push(Wr);return Dr.reverse(),function $r(){for(;Dr.length;){var Vr=Dr.pop();if(Vr in Sr)return $r.value=Vr,$r.done=!1,$r}return $r.done=!0,$r}},sr.values=wr,jr.prototype={constructor:jr,reset:function(Ar){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Mr),!Ar)for(var Sr in this)Sr.charAt(0)==="t"&&or.call(this,Sr)&&!isNaN(+Sr.slice(1))&&(this[Sr]=void 0)},stop:function(){this.done=!0;var Ar=this.tryEntries[0].completion;if(Ar.type==="throw")throw Ar.arg;return this.rval},dispatchException:function(Ar){if(this.done)throw Ar;var Sr=this;function Dr(Fr,Xr){return Vr.type="throw",Vr.arg=Ar,Sr.next=Fr,Xr&&(Sr.method="next",Sr.arg=void 0),!!Xr}for(var Wr=this.tryEntries.length-1;Wr>=0;--Wr){var $r=this.tryEntries[Wr],Vr=$r.completion;if($r.tryLoc==="root")return Dr("end");if($r.tryLoc<=this.prev){var zr=or.call($r,"catchLoc"),Gr=or.call($r,"finallyLoc");if(zr&&Gr){if(this.prev<$r.catchLoc)return Dr($r.catchLoc,!0);if(this.prev<$r.finallyLoc)return Dr($r.finallyLoc)}else if(zr){if(this.prev<$r.catchLoc)return Dr($r.catchLoc,!0)}else{if(!Gr)throw new Error("try statement without catch or finally");if(this.prev<$r.finallyLoc)return Dr($r.finallyLoc)}}}},abrupt:function(Ar,Sr){for(var Dr=this.tryEntries.length-1;Dr>=0;--Dr){var Wr=this.tryEntries[Dr];if(Wr.tryLoc<=this.prev&&or.call(Wr,"finallyLoc")&&this.prev<Wr.finallyLoc){var $r=Wr;break}}$r&&(Ar==="break"||Ar==="continue")&&$r.tryLoc<=Sr&&Sr<=$r.finallyLoc&&($r=null);var Vr=$r?$r.completion:{};return Vr.type=Ar,Vr.arg=Sr,$r?(this.method="next",this.next=$r.finallyLoc,gr):this.complete(Vr)},complete:function(Ar,Sr){if(Ar.type==="throw")throw Ar.arg;return Ar.type==="break"||Ar.type==="continue"?this.next=Ar.arg:Ar.type==="return"?(this.rval=this.arg=Ar.arg,this.method="return",this.next="end"):Ar.type==="normal"&&Sr&&(this.next=Sr),gr},finish:function(Ar){for(var Sr=this.tryEntries.length-1;Sr>=0;--Sr){var Dr=this.tryEntries[Sr];if(Dr.finallyLoc===Ar)return this.complete(Dr.completion,Dr.afterLoc),Mr(Dr),gr}},catch:function(Ar){for(var Sr=this.tryEntries.length-1;Sr>=0;--Sr){var Dr=this.tryEntries[Sr];if(Dr.tryLoc===Ar){var Wr=Dr.completion;if(Wr.type==="throw"){var $r=Wr.arg;Mr(Dr)}return $r}}throw new Error("illegal catch attempt")},delegateYield:function(Ar,Sr,Dr){return this.delegate={iterator:wr(Ar),resultName:Sr,nextLoc:Dr},this.method==="next"&&(this.arg=void 0),gr}},sr}(typeof nr=="object"?nr.exports:{});try{regeneratorRuntime=ar}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ar:Function("r","regeneratorRuntime = r")(ar)}},{}],493:[function(rr,nr,ir){var ar=rr("buffer").Buffer,sr=rr("inherits"),lr=rr("hash-base"),or=new Array(16),cr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ur=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],dr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],hr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],fr=[0,1518500249,1859775393,2400959708,2840853838],mr=[1352829926,1548603684,1836072691,2053994217,0];function br(){lr.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function pr(Rr,Cr){return Rr<<Cr|Rr>>>32-Cr}function gr(Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr){return pr(Rr+(Cr^Tr^Ir)+Nr+Or|0,Pr)+Lr|0}function yr(Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr){return pr(Rr+(Cr&Tr|~Cr&Ir)+Nr+Or|0,Pr)+Lr|0}function vr(Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr){return pr(Rr+((Cr|~Tr)^Ir)+Nr+Or|0,Pr)+Lr|0}function _r(Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr){return pr(Rr+(Cr&Ir|Tr&~Ir)+Nr+Or|0,Pr)+Lr|0}function xr(Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr){return pr(Rr+(Cr^(Tr|~Ir))+Nr+Or|0,Pr)+Lr|0}sr(br,lr),br.prototype._update=function(){for(var Rr=or,Cr=0;Cr<16;++Cr)Rr[Cr]=this._block.readInt32LE(4*Cr);for(var Tr=0|this._a,Ir=0|this._b,Lr=0|this._c,Nr=0|this._d,Or=0|this._e,Pr=0|this._a,Mr=0|this._b,jr=0|this._c,wr=0|this._d,Er=0|this._e,Ar=0;Ar<80;Ar+=1){var Sr,Dr;Ar<16?(Sr=gr(Tr,Ir,Lr,Nr,Or,Rr[cr[Ar]],fr[0],dr[Ar]),Dr=xr(Pr,Mr,jr,wr,Er,Rr[ur[Ar]],mr[0],hr[Ar])):Ar<32?(Sr=yr(Tr,Ir,Lr,Nr,Or,Rr[cr[Ar]],fr[1],dr[Ar]),Dr=_r(Pr,Mr,jr,wr,Er,Rr[ur[Ar]],mr[1],hr[Ar])):Ar<48?(Sr=vr(Tr,Ir,Lr,Nr,Or,Rr[cr[Ar]],fr[2],dr[Ar]),Dr=vr(Pr,Mr,jr,wr,Er,Rr[ur[Ar]],mr[2],hr[Ar])):Ar<64?(Sr=_r(Tr,Ir,Lr,Nr,Or,Rr[cr[Ar]],fr[3],dr[Ar]),Dr=yr(Pr,Mr,jr,wr,Er,Rr[ur[Ar]],mr[3],hr[Ar])):(Sr=xr(Tr,Ir,Lr,Nr,Or,Rr[cr[Ar]],fr[4],dr[Ar]),Dr=gr(Pr,Mr,jr,wr,Er,Rr[ur[Ar]],mr[4],hr[Ar])),Tr=Or,Or=Nr,Nr=pr(Lr,10),Lr=Ir,Ir=Sr,Pr=Er,Er=wr,wr=pr(jr,10),jr=Mr,Mr=Dr}var Wr=this._b+Lr+wr|0;this._b=this._c+Nr+Er|0,this._c=this._d+Or+Pr|0,this._d=this._e+Tr+Mr|0,this._e=this._a+Ir+jr|0,this._a=Wr},br.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Rr=ar.alloc?ar.alloc(20):new ar(20);return Rr.writeInt32LE(this._a,0),Rr.writeInt32LE(this._b,4),Rr.writeInt32LE(this._c,8),Rr.writeInt32LE(this._d,12),Rr.writeInt32LE(this._e,16),Rr},nr.exports=br},{buffer:220,"hash-base":425,inherits:440}],494:[function(rr,nr,ir){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ar=rr("buffer"),sr=ar.Buffer;function lr(cr,ur){for(var dr in cr)ur[dr]=cr[dr]}function or(cr,ur,dr){return sr(cr,ur,dr)}sr.from&&sr.alloc&&sr.allocUnsafe&&sr.allocUnsafeSlow?nr.exports=ar:(lr(ar,ir),ir.Buffer=or),or.prototype=Object.create(sr.prototype),lr(sr,or),or.from=function(cr,ur,dr){if(typeof cr=="number")throw new TypeError("Argument must not be a number");return sr(cr,ur,dr)},or.alloc=function(cr,ur,dr){if(typeof cr!="number")throw new TypeError("Argument must be a number");var hr=sr(cr);return ur!==void 0?typeof dr=="string"?hr.fill(ur,dr):hr.fill(ur):hr.fill(0),hr},or.allocUnsafe=function(cr){if(typeof cr!="number")throw new TypeError("Argument must be a number");return sr(cr)},or.allocUnsafeSlow=function(cr){if(typeof cr!="number")throw new TypeError("Argument must be a number");return ar.SlowBuffer(cr)}},{buffer:220}],495:[function(rr,nr,ir){(function(ar){(function(){var sr,lr=rr("buffer"),or=lr.Buffer,cr={};for(sr in lr)lr.hasOwnProperty(sr)&&sr!=="SlowBuffer"&&sr!=="Buffer"&&(cr[sr]=lr[sr]);var ur=cr.Buffer={};for(sr in or)or.hasOwnProperty(sr)&&sr!=="allocUnsafe"&&sr!=="allocUnsafeSlow"&&(ur[sr]=or[sr]);if(cr.Buffer.prototype=or.prototype,ur.from&&ur.from!==Uint8Array.from||(ur.from=function(dr,hr,fr){if(typeof dr=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof dr);if(dr&&dr.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof dr);return or(dr,hr,fr)}),ur.alloc||(ur.alloc=function(dr,hr,fr){if(typeof dr!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof dr);if(dr<0||dr>=2*(1<<30))throw new RangeError('The value "'+dr+'" is invalid for option "size"');var mr=or(dr);return hr&&hr.length!==0?typeof fr=="string"?mr.fill(hr,fr):mr.fill(hr):mr.fill(0),mr}),!cr.kStringMaxLength)try{cr.kStringMaxLength=ar.binding("buffer").kStringMaxLength}catch{}cr.constants||(cr.constants={MAX_LENGTH:cr.kMaxLength},cr.kStringMaxLength&&(cr.constants.MAX_STRING_LENGTH=cr.kStringMaxLength)),nr.exports=cr}).call(this)}).call(this,rr("_process"))},{_process:467,buffer:220}],496:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0});const ar=rr("xmlchars/xml/1.0/ed5"),sr=rr("xmlchars/xml/1.1/ed2"),lr=rr("xmlchars/xmlns/1.0/ed3");var or=ar.isS,cr=ar.isChar,ur=ar.isNameStartChar,dr=ar.isNameChar,hr=ar.S_LIST,fr=ar.NAME_RE,mr=sr.isChar,br=lr.isNCNameStartChar,pr=lr.isNCNameChar,gr=lr.NC_NAME_RE;const yr="http://www.w3.org/XML/1998/namespace",vr="http://www.w3.org/2000/xmlns/",_r={__proto__:null,xml:yr,xmlns:vr},xr={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Rr=wr=>wr===34||wr===39,Cr=[34,39],Tr=[...Cr,91,62],Ir=[...Cr,60,93],Lr=[61,63,...hr],Nr=[...hr,62,38,60];function Or(wr,Er,Ar){switch(Er){case"xml":Ar!==yr&&wr.fail(`xml prefix must be bound to ${yr}.`);break;case"xmlns":Ar!==vr&&wr.fail(`xmlns prefix must be bound to ${vr}.`)}switch(Ar){case vr:wr.fail(Er===""?`the default namespace may not be set to ${Ar}.`:`may not assign a prefix (even "xmlns") to the URI ${vr}.`);break;case yr:switch(Er){case"xml":break;case"":wr.fail(`the default namespace may not be set to ${Ar}.`);break;default:wr.fail("may not assign the xml namespace to another prefix.")}}}const Pr=wr=>gr.test(wr),Mr=wr=>fr.test(wr);ir.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const jr={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};ir.SaxesParser=class{constructor(wr){this.opt=wr??{},this.fragmentOpt=!!this.opt.fragment;const Er=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Er){this.nameStartCheck=br,this.nameCheck=pr,this.isName=Pr,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_r);const Ar=this.opt.additionalNamespaces;Ar!=null&&(function(Sr,Dr){for(const Wr of Object.keys(Dr))Or(Sr,Wr,Dr[Wr])}(this,Ar),Object.assign(this.ns,Ar))}else this.nameStartCheck=ur,this.nameCheck=dr,this.isName=Mr,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var wr;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:Er}=this;this.state=Er?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Er,this.xmlDeclPossible=!Er,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Ar}=this.opt;if(Ar===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Ar="1.0"}this.setXMLVersion(Ar),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(xr),(wr=this.readyHandler)===null||wr===void 0||wr.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(wr,Er){this[jr[wr]]=Er}off(wr){this[jr[wr]]=void 0}makeError(wr){var Er;let Ar=(Er=this.fileName)!==null&&Er!==void 0?Er:"";return this.trackPosition&&(Ar.length>0&&(Ar+=":"),Ar+=`${this.line}:${this.column}`),Ar.length>0&&(Ar+=": "),new Error(Ar+wr)}fail(wr){const Er=this.makeError(wr),Ar=this.errorHandler;if(Ar===void 0)throw Er;return Ar(Er),this}write(wr){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Er=!1;wr===null?(Er=!0,wr=""):typeof wr=="object"&&(wr=wr.toString()),this.carriedFromPrevious!==void 0&&(wr=`${this.carriedFromPrevious}${wr}`,this.carriedFromPrevious=void 0);let Ar=wr.length;const Sr=wr.charCodeAt(Ar-1);!Er&&(Sr===13||Sr>=55296&&Sr<=56319)&&(this.carriedFromPrevious=wr[Ar-1],Ar--,wr=wr.slice(0,Ar));const{stateTable:Dr}=this;for(this.chunk=wr,this.i=0;this.i<Ar;)Dr[this.state].call(this);return this.chunkPosition+=Ar,Er?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:wr,i:Er}=this;if(this.prevI=Er,this.i=Er+1,Er>=wr.length)return-1;const Ar=wr.charCodeAt(Er);if(this.column++,Ar<55296){if(Ar>=32||Ar===9)return Ar;switch(Ar){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return wr.charCodeAt(Er+1)===10&&(this.i=Er+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),Ar}}if(Ar>56319)return Ar>=57344&&Ar<=65533||this.fail("disallowed character."),Ar;const Sr=65536+1024*(Ar-55296)+(wr.charCodeAt(Er+1)-56320);return this.i=Er+2,Sr>1114111&&this.fail("disallowed character."),Sr}getCode11(){const{chunk:wr,i:Er}=this;if(this.prevI=Er,this.i=Er+1,Er>=wr.length)return-1;const Ar=wr.charCodeAt(Er);if(this.column++,Ar<55296){if(Ar>31&&Ar<127||Ar>159&&Ar!==8232||Ar===9)return Ar;switch(Ar){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const Dr=wr.charCodeAt(Er+1);Dr!==10&&Dr!==133||(this.i=Er+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),Ar}}if(Ar>56319)return Ar>=57344&&Ar<=65533||this.fail("disallowed character."),Ar;const Sr=65536+1024*(Ar-55296)+(wr.charCodeAt(Er+1)-56320);return this.i=Er+2,Sr>1114111&&this.fail("disallowed character."),Sr}getCodeNorm(){const wr=this.getCode();return wr===-2?10:wr}unget(){this.i=this.prevI,this.column--}captureTo(wr){let{i:Er}=this;const{chunk:Ar}=this;for(;;){const Sr=this.getCode(),Dr=Sr===-2,Wr=Dr?10:Sr;if(Wr===-1||wr.includes(Wr))return this.text+=Ar.slice(Er,this.prevI),Wr;Dr&&(this.text+=Ar.slice(Er,this.prevI)+`
`,Er=this.i)}}captureToChar(wr){let{i:Er}=this;const{chunk:Ar}=this;for(;;){let Sr=this.getCode();switch(Sr){case-2:this.text+=Ar.slice(Er,this.prevI)+`
`,Er=this.i,Sr=10;break;case-1:return this.text+=Ar.slice(Er),!1}if(Sr===wr)return this.text+=Ar.slice(Er,this.prevI),!0}}captureNameChars(){const{chunk:wr,i:Er}=this;for(;;){const Ar=this.getCode();if(Ar===-1)return this.name+=wr.slice(Er),-1;if(!dr(Ar))return this.name+=wr.slice(Er,this.prevI),Ar===-2?10:Ar}}skipSpaces(){for(;;){const wr=this.getCodeNorm();if(wr===-1||!or(wr))return wr}}setXMLVersion(wr){this.currentXMLVersion=wr,wr==="1.0"?(this.isChar=cr,this.getCode=this.getCode10):(this.isChar=mr,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const wr=this.i,Er=this.skipSpaces();switch(this.prevI!==wr&&(this.xmlDeclPossible=!1),Er){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var wr;const Er=this.captureTo(Tr);switch(Er){case 62:(wr=this.doctypeHandler)===null||wr===void 0||wr.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(Er),Er===91?this.state=4:Rr(Er)&&(this.state=3,this.q=Er)}}sDoctypeQuote(){const wr=this.q;this.captureToChar(wr)&&(this.text+=String.fromCodePoint(wr),this.q=null,this.state=2)}sDTD(){const wr=this.captureTo(Ir);wr!==-1&&(this.text+=String.fromCodePoint(wr),wr===93?this.state=2:wr===60?this.state=6:Rr(wr)&&(this.state=5,this.q=wr))}sDTDQuoted(){const wr=this.q;this.captureToChar(wr)&&(this.text+=String.fromCodePoint(wr),this.state=4,this.q=null)}sDTDOpenWaka(){const wr=this.getCodeNorm();switch(this.text+=String.fromCodePoint(wr),wr){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const wr=String.fromCodePoint(this.getCodeNorm()),Er=this.openWakaBang+=wr;this.text+=wr,Er!=="-"&&(this.state=Er==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const wr=this.getCodeNorm();this.text+=String.fromCodePoint(wr),this.state=wr===45?10:8}sDTDCommentEnded(){const wr=this.getCodeNorm();this.text+=String.fromCodePoint(wr),wr===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const wr=this.getCodeNorm();this.text+=String.fromCodePoint(wr),wr===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:wr}=this;const{chunk:Er}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=Er.slice(wr,this.prevI)+`
`,wr=this.i;break;case 59:{const{entityReturnState:Ar}=this,Sr=this.entity+Er.slice(wr,this.prevI);let Dr;this.state=Ar,Sr===""?(this.fail("empty entity name."),Dr="&;"):(Dr=this.parseEntity(Sr),this.entity=""),Ar===13&&this.textHandler===void 0||(this.text+=Dr);break e}case-1:this.entity+=Er.slice(wr);break e}}sOpenWaka(){const wr=this.getCode();if(ur(wr))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(wr){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var wr;const Er=this.getCodeNorm();Er===45?(this.state=19,(wr=this.commentHandler)===null||wr===void 0||wr.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(Er),this.state=17)}sCommentEnded(){const wr=this.getCodeNorm();wr!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(wr),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const wr=this.getCodeNorm();wr===93?this.state=22:(this.text+="]"+String.fromCodePoint(wr),this.state=20)}sCDataEnding2(){var wr;const Er=this.getCodeNorm();switch(Er){case 62:(wr=this.cdataHandler)===null||wr===void 0||wr.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(Er),this.state=20}}sPIFirstChar(){const wr=this.getCodeNorm();this.nameStartCheck(wr)?(this.piTarget+=String.fromCodePoint(wr),this.state=24):wr===63||or(wr)?(this.fail("processing instruction without a target."),this.state=wr===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(wr),this.state=24)}sPIRest(){const{chunk:wr,i:Er}=this;for(;;){const Ar=this.getCodeNorm();if(Ar===-1)return void(this.piTarget+=wr.slice(Er));if(!this.nameCheck(Ar)){this.piTarget+=wr.slice(Er,this.prevI);const Sr=Ar===63;Sr||or(Ar)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Sr?33:27):this.state=Sr?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ar));break}}}sPIBody(){if(this.text.length===0){const wr=this.getCodeNorm();wr===63?this.state=26:or(wr)||(this.text=String.fromCodePoint(wr))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var wr;const Er=this.getCodeNorm();if(Er===62){const{piTarget:Ar}=this;Ar.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(wr=this.piHandler)===null||wr===void 0||wr.call(this,{target:Ar,body:this.text}),this.piTarget=this.text="",this.state=13}else Er===63?this.text+="?":(this.text+="?"+String.fromCodePoint(Er),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const wr=this.skipSpaces();wr!==63?wr!==-1&&(this.state=28,this.name=String.fromCodePoint(wr)):this.state=33}sXMLDeclName(){const wr=this.captureTo(Lr);if(wr===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(or(wr)||wr===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=wr===61?30:29}}sXMLDeclEq(){const wr=this.getCodeNorm();if(wr===63)return this.state=33,void this.fail("XML declaration is incomplete.");or(wr)||(wr!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const wr=this.getCodeNorm();if(wr===63)return this.state=33,void this.fail("XML declaration is incomplete.");or(wr)||(Rr(wr)?this.q=wr:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const wr=this.captureTo([this.q,63]);if(wr===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(wr===-1)return;const Er=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Ar=Er;this.xmlDecl.version=Ar,/^1\.[0-9]+$/.test(Ar)?this.opt.forceXMLVersion||this.setXMLVersion(Ar):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Er)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Er;break;case"standalone":Er!=="yes"&&Er!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Er}this.name="",this.state=32}sXMLDeclSeparator(){const wr=this.getCodeNorm();wr!==63?(or(wr)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var wr;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(wr=this.xmldeclHandler)===null||wr===void 0||wr.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var wr;const Er=this.captureNameChars();if(Er===-1)return;const Ar=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Ar.ns=Object.create(null)),(wr=this.openTagStartHandler)===null||wr===void 0||wr.call(this,Ar),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Er){case 62:this.openTag();break;case 47:this.state=35;break;default:or(Er)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const wr=this.skipSpaces();wr!==-1&&(ur(wr)?(this.unget(),this.state=37):wr===62?this.openTag():wr===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const wr=this.captureNameChars();wr===61?this.state=39:or(wr)?this.state=38:wr===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):wr!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const wr=this.skipSpaces();switch(wr){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",wr===62?this.openTag():ur(wr)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const wr=this.getCodeNorm();Rr(wr)?(this.q=wr,this.state=40):or(wr)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:wr,chunk:Er}=this;let{i:Ar}=this;for(;;)switch(this.getCode()){case wr:return this.pushAttrib(this.name,this.text+Er.slice(Ar,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=Er.slice(Ar,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=Er.slice(Ar,this.prevI)+" ",Ar=this.i;break;case 60:return this.text+=Er.slice(Ar,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=Er.slice(Ar))}}sAttribValueClosed(){const wr=this.getCodeNorm();or(wr)?this.state=36:wr===62?this.openTag():wr===47?this.state=35:ur(wr)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const wr=this.captureTo(Nr);switch(wr){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",wr===62?this.openTag():this.state=36}}sCloseTag(){const wr=this.captureNameChars();wr===62?this.closeTag():or(wr)?this.state=44:wr!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:wr,forbiddenState:Er}=this;const{chunk:Ar,textHandler:Sr}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,Sr!==void 0){const{text:Dr}=this,Wr=Ar.slice(wr,this.prevI);Dr.length!==0?(Sr(Dr+Wr),this.text=""):Wr.length!==0&&Sr(Wr)}Er=0;break e;case 38:this.state=14,this.entityReturnState=13,Sr!==void 0&&(this.text+=Ar.slice(wr,this.prevI)),Er=0;break e;case 93:switch(Er){case 0:Er=1;break;case 1:Er=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:Er===2&&this.fail('the string "]]>" is disallowed in char data.'),Er=0;break;case-2:Sr!==void 0&&(this.text+=Ar.slice(wr,this.prevI)+`
`),wr=this.i,Er=0;break;case-1:Sr!==void 0&&(this.text+=Ar.slice(wr));break e;default:Er=0}this.forbiddenState=Er}handleTextOutsideRoot(){let{i:wr}=this;const{chunk:Er,textHandler:Ar}=this;let Sr=!1;e:for(;;){const Dr=this.getCode();switch(Dr){case 60:if(this.state=15,Ar!==void 0){const{text:Wr}=this,$r=Er.slice(wr,this.prevI);Wr.length!==0?(Ar(Wr+$r),this.text=""):$r.length!==0&&Ar($r)}break e;case 38:this.state=14,this.entityReturnState=13,Ar!==void 0&&(this.text+=Er.slice(wr,this.prevI)),Sr=!0;break e;case-2:Ar!==void 0&&(this.text+=Er.slice(wr,this.prevI)+`
`),wr=this.i;break;case-1:Ar!==void 0&&(this.text+=Er.slice(wr));break e;default:or(Dr)||(Sr=!0)}}Sr&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(wr,Er){var Ar;const{prefix:Sr,local:Dr}=this.qname(wr),Wr={name:wr,prefix:Sr,local:Dr,value:Er};if(this.attribList.push(Wr),(Ar=this.attributeHandler)===null||Ar===void 0||Ar.call(this,Wr),Sr==="xmlns"){const $r=Er.trim();this.currentXMLVersion==="1.0"&&$r===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[Dr]=$r,Or(this,Dr,$r)}else if(wr==="xmlns"){const $r=Er.trim();this.topNS[""]=$r,Or(this,"",$r)}}pushAttribPlain(wr,Er){var Ar;const Sr={name:wr,value:Er};this.attribList.push(Sr),(Ar=this.attributeHandler)===null||Ar===void 0||Ar.call(this,Sr)}end(){var wr,Er;this.sawRoot||this.fail("document must contain a root element.");const{tags:Ar}=this;for(;Ar.length>0;){const Dr=Ar.pop();this.fail("unclosed tag: "+Dr.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:Sr}=this;return Sr.length!==0&&((wr=this.textHandler)===null||wr===void 0||wr.call(this,Sr),this.text=""),this._closed=!0,(Er=this.endHandler)===null||Er===void 0||Er.call(this),this._init(),this}resolve(wr){var Er,Ar;let Sr=this.topNS[wr];if(Sr!==void 0)return Sr;const{tags:Dr}=this;for(let Wr=Dr.length-1;Wr>=0;Wr--)if(Sr=Dr[Wr].ns[wr],Sr!==void 0)return Sr;return Sr=this.ns[wr],Sr!==void 0?Sr:(Ar=(Er=this.opt).resolvePrefix)===null||Ar===void 0?void 0:Ar.call(Er,wr)}qname(wr){const Er=wr.indexOf(":");if(Er===-1)return{prefix:"",local:wr};const Ar=wr.slice(Er+1),Sr=wr.slice(0,Er);return(Sr===""||Ar===""||Ar.includes(":"))&&this.fail(`malformed name: ${wr}.`),{prefix:Sr,local:Ar}}processAttribsNS(){var wr;const{attribList:Er}=this,Ar=this.tag;{const{prefix:Wr,local:$r}=this.qname(Ar.name);Ar.prefix=Wr,Ar.local=$r;const Vr=Ar.uri=(wr=this.resolve(Wr))!==null&&wr!==void 0?wr:"";Wr!==""&&(Wr==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Vr===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Wr)}.`),Ar.uri=Wr))}if(Er.length===0)return;const{attributes:Sr}=Ar,Dr=new Set;for(const Wr of Er){const{name:$r,prefix:Vr,local:zr}=Wr;let Gr,Fr;Vr===""?(Gr=$r==="xmlns"?vr:"",Fr=$r):(Gr=this.resolve(Vr),Gr===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Vr)}.`),Gr=Vr),Fr=`{${Gr}}${zr}`),Dr.has(Fr)&&this.fail(`duplicate attribute: ${Fr}.`),Dr.add(Fr),Wr.uri=Gr,Sr[$r]=Wr}this.attribList=[]}processAttribsPlain(){const{attribList:wr}=this,Er=this.tag.attributes;for(const{name:Ar,value:Sr}of wr)Er[Ar]!==void 0&&this.fail(`duplicate attribute: ${Ar}.`),Er[Ar]=Sr;this.attribList=[]}openTag(){var wr;this.processAttribs();const{tags:Er}=this,Ar=this.tag;Ar.isSelfClosing=!1,(wr=this.openTagHandler)===null||wr===void 0||wr.call(this,Ar),Er.push(Ar),this.state=13,this.name=""}openSelfClosingTag(){var wr,Er,Ar;this.processAttribs();const{tags:Sr}=this,Dr=this.tag;Dr.isSelfClosing=!0,(wr=this.openTagHandler)===null||wr===void 0||wr.call(this,Dr),(Er=this.closeTagHandler)===null||Er===void 0||Er.call(this,Dr),(this.tag=(Ar=Sr[Sr.length-1])!==null&&Ar!==void 0?Ar:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:wr,name:Er}=this;if(this.state=13,this.name="",Er==="")return this.fail("weird empty close tag."),void(this.text+="</>");const Ar=this.closeTagHandler;let Sr=wr.length;for(;Sr-- >0;){const Dr=this.tag=wr.pop();if(this.topNS=Dr.ns,Ar==null||Ar(Dr),Dr.name===Er)break;this.fail("unexpected close tag.")}Sr===0?this.closedRoot=!0:Sr<0&&(this.fail(`unmatched closing tag: ${Er}.`),this.text+=`</${Er}>`)}parseEntity(wr){if(wr[0]!=="#"){const Ar=this.ENTITIES[wr];return Ar!==void 0?Ar:(this.fail(this.isName(wr)?"undefined entity.":"disallowed character in entity name."),`&${wr};`)}let Er=NaN;return wr[1]==="x"&&/^#x[0-9a-f]+$/i.test(wr)?Er=parseInt(wr.slice(2),16):/^#[0-9]+$/.test(wr)&&(Er=parseInt(wr.slice(1),10)),this.isChar(Er)?String.fromCodePoint(Er):(this.fail("malformed character entity."),`&${wr};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer;function sr(lr,or){this._block=ar.alloc(lr),this._finalSize=or,this._blockSize=lr,this._len=0}sr.prototype.update=function(lr,or){typeof lr=="string"&&(or=or||"utf8",lr=ar.from(lr,or));for(var cr=this._block,ur=this._blockSize,dr=lr.length,hr=this._len,fr=0;fr<dr;){for(var mr=hr%ur,br=Math.min(dr-fr,ur-mr),pr=0;pr<br;pr++)cr[mr+pr]=lr[fr+pr];fr+=br,(hr+=br)%ur==0&&this._update(cr)}return this._len+=dr,this},sr.prototype.digest=function(lr){var or=this._len%this._blockSize;this._block[or]=128,this._block.fill(0,or+1),or>=this._finalSize&&(this._update(this._block),this._block.fill(0));var cr=8*this._len;if(cr<=4294967295)this._block.writeUInt32BE(cr,this._blockSize-4);else{var ur=(4294967295&cr)>>>0,dr=(cr-ur)/4294967296;this._block.writeUInt32BE(dr,this._blockSize-8),this._block.writeUInt32BE(ur,this._blockSize-4)}this._update(this._block);var hr=this._hash();return lr?hr.toString(lr):hr},sr.prototype._update=function(){throw new Error("_update must be implemented by subclass")},nr.exports=sr},{"safe-buffer":494}],498:[function(rr,nr,ir){var ar=nr.exports=function(sr){sr=sr.toLowerCase();var lr=ar[sr];if(!lr)throw new Error(sr+" is not supported (we accept pull requests)");return new lr};ar.sha=rr("./sha"),ar.sha1=rr("./sha1"),ar.sha224=rr("./sha224"),ar.sha256=rr("./sha256"),ar.sha384=rr("./sha384"),ar.sha512=rr("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./hash"),lr=rr("safe-buffer").Buffer,or=[1518500249,1859775393,-1894007588,-899497514],cr=new Array(80);function ur(){this.init(),this._w=cr,sr.call(this,64,56)}function dr(fr){return fr<<30|fr>>>2}function hr(fr,mr,br,pr){return fr===0?mr&br|~mr&pr:fr===2?mr&br|mr&pr|br&pr:mr^br^pr}ar(ur,sr),ur.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},ur.prototype._update=function(fr){for(var mr,br=this._w,pr=0|this._a,gr=0|this._b,yr=0|this._c,vr=0|this._d,_r=0|this._e,xr=0;xr<16;++xr)br[xr]=fr.readInt32BE(4*xr);for(;xr<80;++xr)br[xr]=br[xr-3]^br[xr-8]^br[xr-14]^br[xr-16];for(var Rr=0;Rr<80;++Rr){var Cr=~~(Rr/20),Tr=0|((mr=pr)<<5|mr>>>27)+hr(Cr,gr,yr,vr)+_r+br[Rr]+or[Cr];_r=vr,vr=yr,yr=dr(gr),gr=pr,pr=Tr}this._a=pr+this._a|0,this._b=gr+this._b|0,this._c=yr+this._c|0,this._d=vr+this._d|0,this._e=_r+this._e|0},ur.prototype._hash=function(){var fr=lr.allocUnsafe(20);return fr.writeInt32BE(0|this._a,0),fr.writeInt32BE(0|this._b,4),fr.writeInt32BE(0|this._c,8),fr.writeInt32BE(0|this._d,12),fr.writeInt32BE(0|this._e,16),fr},nr.exports=ur},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./hash"),lr=rr("safe-buffer").Buffer,or=[1518500249,1859775393,-1894007588,-899497514],cr=new Array(80);function ur(){this.init(),this._w=cr,sr.call(this,64,56)}function dr(mr){return mr<<5|mr>>>27}function hr(mr){return mr<<30|mr>>>2}function fr(mr,br,pr,gr){return mr===0?br&pr|~br&gr:mr===2?br&pr|br&gr|pr&gr:br^pr^gr}ar(ur,sr),ur.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},ur.prototype._update=function(mr){for(var br,pr=this._w,gr=0|this._a,yr=0|this._b,vr=0|this._c,_r=0|this._d,xr=0|this._e,Rr=0;Rr<16;++Rr)pr[Rr]=mr.readInt32BE(4*Rr);for(;Rr<80;++Rr)pr[Rr]=(br=pr[Rr-3]^pr[Rr-8]^pr[Rr-14]^pr[Rr-16])<<1|br>>>31;for(var Cr=0;Cr<80;++Cr){var Tr=~~(Cr/20),Ir=dr(gr)+fr(Tr,yr,vr,_r)+xr+pr[Cr]+or[Tr]|0;xr=_r,_r=vr,vr=hr(yr),yr=gr,gr=Ir}this._a=gr+this._a|0,this._b=yr+this._b|0,this._c=vr+this._c|0,this._d=_r+this._d|0,this._e=xr+this._e|0},ur.prototype._hash=function(){var mr=lr.allocUnsafe(20);return mr.writeInt32BE(0|this._a,0),mr.writeInt32BE(0|this._b,4),mr.writeInt32BE(0|this._c,8),mr.writeInt32BE(0|this._d,12),mr.writeInt32BE(0|this._e,16),mr},nr.exports=ur},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./sha256"),lr=rr("./hash"),or=rr("safe-buffer").Buffer,cr=new Array(64);function ur(){this.init(),this._w=cr,lr.call(this,64,56)}ar(ur,sr),ur.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ur.prototype._hash=function(){var dr=or.allocUnsafe(28);return dr.writeInt32BE(this._a,0),dr.writeInt32BE(this._b,4),dr.writeInt32BE(this._c,8),dr.writeInt32BE(this._d,12),dr.writeInt32BE(this._e,16),dr.writeInt32BE(this._f,20),dr.writeInt32BE(this._g,24),dr},nr.exports=ur},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./hash"),lr=rr("safe-buffer").Buffer,or=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],cr=new Array(64);function ur(){this.init(),this._w=cr,sr.call(this,64,56)}function dr(pr,gr,yr){return yr^pr&(gr^yr)}function hr(pr,gr,yr){return pr&gr|yr&(pr|gr)}function fr(pr){return(pr>>>2|pr<<30)^(pr>>>13|pr<<19)^(pr>>>22|pr<<10)}function mr(pr){return(pr>>>6|pr<<26)^(pr>>>11|pr<<21)^(pr>>>25|pr<<7)}function br(pr){return(pr>>>7|pr<<25)^(pr>>>18|pr<<14)^pr>>>3}ar(ur,sr),ur.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},ur.prototype._update=function(pr){for(var gr,yr=this._w,vr=0|this._a,_r=0|this._b,xr=0|this._c,Rr=0|this._d,Cr=0|this._e,Tr=0|this._f,Ir=0|this._g,Lr=0|this._h,Nr=0;Nr<16;++Nr)yr[Nr]=pr.readInt32BE(4*Nr);for(;Nr<64;++Nr)yr[Nr]=0|(((gr=yr[Nr-2])>>>17|gr<<15)^(gr>>>19|gr<<13)^gr>>>10)+yr[Nr-7]+br(yr[Nr-15])+yr[Nr-16];for(var Or=0;Or<64;++Or){var Pr=Lr+mr(Cr)+dr(Cr,Tr,Ir)+or[Or]+yr[Or]|0,Mr=fr(vr)+hr(vr,_r,xr)|0;Lr=Ir,Ir=Tr,Tr=Cr,Cr=Rr+Pr|0,Rr=xr,xr=_r,_r=vr,vr=Pr+Mr|0}this._a=vr+this._a|0,this._b=_r+this._b|0,this._c=xr+this._c|0,this._d=Rr+this._d|0,this._e=Cr+this._e|0,this._f=Tr+this._f|0,this._g=Ir+this._g|0,this._h=Lr+this._h|0},ur.prototype._hash=function(){var pr=lr.allocUnsafe(32);return pr.writeInt32BE(this._a,0),pr.writeInt32BE(this._b,4),pr.writeInt32BE(this._c,8),pr.writeInt32BE(this._d,12),pr.writeInt32BE(this._e,16),pr.writeInt32BE(this._f,20),pr.writeInt32BE(this._g,24),pr.writeInt32BE(this._h,28),pr},nr.exports=ur},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./sha512"),lr=rr("./hash"),or=rr("safe-buffer").Buffer,cr=new Array(160);function ur(){this.init(),this._w=cr,lr.call(this,128,112)}ar(ur,sr),ur.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},ur.prototype._hash=function(){var dr=or.allocUnsafe(48);function hr(fr,mr,br){dr.writeInt32BE(fr,br),dr.writeInt32BE(mr,br+4)}return hr(this._ah,this._al,0),hr(this._bh,this._bl,8),hr(this._ch,this._cl,16),hr(this._dh,this._dl,24),hr(this._eh,this._el,32),hr(this._fh,this._fl,40),dr},nr.exports=ur},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(rr,nr,ir){var ar=rr("inherits"),sr=rr("./hash"),lr=rr("safe-buffer").Buffer,or=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],cr=new Array(160);function ur(){this.init(),this._w=cr,sr.call(this,128,112)}function dr(_r,xr,Rr){return Rr^_r&(xr^Rr)}function hr(_r,xr,Rr){return _r&xr|Rr&(_r|xr)}function fr(_r,xr){return(_r>>>28|xr<<4)^(xr>>>2|_r<<30)^(xr>>>7|_r<<25)}function mr(_r,xr){return(_r>>>14|xr<<18)^(_r>>>18|xr<<14)^(xr>>>9|_r<<23)}function br(_r,xr){return(_r>>>1|xr<<31)^(_r>>>8|xr<<24)^_r>>>7}function pr(_r,xr){return(_r>>>1|xr<<31)^(_r>>>8|xr<<24)^(_r>>>7|xr<<25)}function gr(_r,xr){return(_r>>>19|xr<<13)^(xr>>>29|_r<<3)^_r>>>6}function yr(_r,xr){return(_r>>>19|xr<<13)^(xr>>>29|_r<<3)^(_r>>>6|xr<<26)}function vr(_r,xr){return _r>>>0<xr>>>0?1:0}ar(ur,sr),ur.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},ur.prototype._update=function(_r){for(var xr=this._w,Rr=0|this._ah,Cr=0|this._bh,Tr=0|this._ch,Ir=0|this._dh,Lr=0|this._eh,Nr=0|this._fh,Or=0|this._gh,Pr=0|this._hh,Mr=0|this._al,jr=0|this._bl,wr=0|this._cl,Er=0|this._dl,Ar=0|this._el,Sr=0|this._fl,Dr=0|this._gl,Wr=0|this._hl,$r=0;$r<32;$r+=2)xr[$r]=_r.readInt32BE(4*$r),xr[$r+1]=_r.readInt32BE(4*$r+4);for(;$r<160;$r+=2){var Vr=xr[$r-30],zr=xr[$r-30+1],Gr=br(Vr,zr),Fr=pr(zr,Vr),Xr=gr(Vr=xr[$r-4],zr=xr[$r-4+1]),Ur=yr(zr,Vr),Br=xr[$r-14],Kr=xr[$r-14+1],Zr=xr[$r-32],tn=xr[$r-32+1],sn=Fr+Kr|0,un=Gr+Br+vr(sn,Fr)|0;un=(un=un+Xr+vr(sn=sn+Ur|0,Ur)|0)+Zr+vr(sn=sn+tn|0,tn)|0,xr[$r]=un,xr[$r+1]=sn}for(var hn=0;hn<160;hn+=2){un=xr[hn],sn=xr[hn+1];var Jr=hr(Rr,Cr,Tr),nn=hr(Mr,jr,wr),rn=fr(Rr,Mr),on=fr(Mr,Rr),fn=mr(Lr,Ar),mn=mr(Ar,Lr),yn=or[hn],Rn=or[hn+1],In=dr(Lr,Nr,Or),Sn=dr(Ar,Sr,Dr),Dn=Wr+mn|0,zn=Pr+fn+vr(Dn,Wr)|0;zn=(zn=(zn=zn+In+vr(Dn=Dn+Sn|0,Sn)|0)+yn+vr(Dn=Dn+Rn|0,Rn)|0)+un+vr(Dn=Dn+sn|0,sn)|0;var rs=on+nn|0,ns=rn+Jr+vr(rs,on)|0;Pr=Or,Wr=Dr,Or=Nr,Dr=Sr,Nr=Lr,Sr=Ar,Lr=Ir+zn+vr(Ar=Er+Dn|0,Er)|0,Ir=Tr,Er=wr,Tr=Cr,wr=jr,Cr=Rr,jr=Mr,Rr=zn+ns+vr(Mr=Dn+rs|0,Dn)|0}this._al=this._al+Mr|0,this._bl=this._bl+jr|0,this._cl=this._cl+wr|0,this._dl=this._dl+Er|0,this._el=this._el+Ar|0,this._fl=this._fl+Sr|0,this._gl=this._gl+Dr|0,this._hl=this._hl+Wr|0,this._ah=this._ah+Rr+vr(this._al,Mr)|0,this._bh=this._bh+Cr+vr(this._bl,jr)|0,this._ch=this._ch+Tr+vr(this._cl,wr)|0,this._dh=this._dh+Ir+vr(this._dl,Er)|0,this._eh=this._eh+Lr+vr(this._el,Ar)|0,this._fh=this._fh+Nr+vr(this._fl,Sr)|0,this._gh=this._gh+Or+vr(this._gl,Dr)|0,this._hh=this._hh+Pr+vr(this._hl,Wr)|0},ur.prototype._hash=function(){var _r=lr.allocUnsafe(64);function xr(Rr,Cr,Tr){_r.writeInt32BE(Rr,Tr),_r.writeInt32BE(Cr,Tr+4)}return xr(this._ah,this._al,0),xr(this._bh,this._bl,8),xr(this._ch,this._cl,16),xr(this._dh,this._dl,24),xr(this._eh,this._el,32),xr(this._fh,this._fl,40),xr(this._gh,this._gl,48),xr(this._hh,this._hl,56),_r},nr.exports=ur},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(rr,nr,ir){nr.exports=sr;var ar=rr("events").EventEmitter;function sr(){ar.call(this)}rr("inherits")(sr,ar),sr.Readable=rr("readable-stream/readable.js"),sr.Writable=rr("readable-stream/writable.js"),sr.Duplex=rr("readable-stream/duplex.js"),sr.Transform=rr("readable-stream/transform.js"),sr.PassThrough=rr("readable-stream/passthrough.js"),sr.Stream=sr,sr.prototype.pipe=function(lr,or){var cr=this;function ur(gr){lr.writable&&lr.write(gr)===!1&&cr.pause&&cr.pause()}function dr(){cr.readable&&cr.resume&&cr.resume()}cr.on("data",ur),lr.on("drain",dr),lr._isStdio||or&&or.end===!1||(cr.on("end",fr),cr.on("close",mr));var hr=!1;function fr(){hr||(hr=!0,lr.end())}function mr(){hr||(hr=!0,typeof lr.destroy=="function"&&lr.destroy())}function br(gr){if(pr(),ar.listenerCount(this,"error")===0)throw gr}function pr(){cr.removeListener("data",ur),lr.removeListener("drain",dr),cr.removeListener("end",fr),cr.removeListener("close",mr),cr.removeListener("error",br),lr.removeListener("error",br),cr.removeListener("end",pr),cr.removeListener("close",pr),lr.removeListener("close",pr)}return cr.on("error",br),lr.on("error",br),cr.on("end",pr),cr.on("close",pr),lr.on("close",pr),lr.emit("pipe",cr),lr}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(rr,nr,ir){var ar={}.toString;nr.exports=Array.isArray||function(sr){return ar.call(sr)=="[object Array]"}},{}],507:[function(rr,nr,ir){nr.exports=rr("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(rr,nr,ir){var ar=rr("process-nextick-args"),sr=Object.keys||function(pr){var gr=[];for(var yr in pr)gr.push(yr);return gr};nr.exports=fr;var lr=Object.create(rr("core-util-is"));lr.inherits=rr("inherits");var or=rr("./_stream_readable"),cr=rr("./_stream_writable");lr.inherits(fr,or);for(var ur=sr(cr.prototype),dr=0;dr<ur.length;dr++){var hr=ur[dr];fr.prototype[hr]||(fr.prototype[hr]=cr.prototype[hr])}function fr(pr){if(!(this instanceof fr))return new fr(pr);or.call(this,pr),cr.call(this,pr),pr&&pr.readable===!1&&(this.readable=!1),pr&&pr.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,pr&&pr.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",mr)}function mr(){this.allowHalfOpen||this._writableState.ended||ar.nextTick(br,this)}function br(pr){pr.end()}Object.defineProperty(fr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(fr.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(pr){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=pr,this._writableState.destroyed=pr)}}),fr.prototype._destroy=function(pr,gr){this.push(null),this.end(),ar.nextTick(gr,pr)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(rr,nr,ir){nr.exports=lr;var ar=rr("./_stream_transform"),sr=Object.create(rr("core-util-is"));function lr(or){if(!(this instanceof lr))return new lr(or);ar.call(this,or)}sr.inherits=rr("inherits"),sr.inherits(lr,ar),lr.prototype._transform=function(or,cr,ur){ur(null,or)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(rr,nr,ir){(function(ar,sr){(function(){var lr=rr("process-nextick-args");nr.exports=Rr;var or,cr=rr("isarray");Rr.ReadableState=xr,rr("events").EventEmitter;var ur=function(Wr,$r){return Wr.listeners($r).length},dr=rr("./internal/streams/stream"),hr=rr("safe-buffer").Buffer,fr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},mr=Object.create(rr("core-util-is"));mr.inherits=rr("inherits");var br=rr("util"),pr=void 0;pr=br&&br.debuglog?br.debuglog("stream"):function(){};var gr,yr=rr("./internal/streams/BufferList"),vr=rr("./internal/streams/destroy");mr.inherits(Rr,dr);var _r=["error","close","destroy","pause","resume"];function xr(Wr,$r){Wr=Wr||{};var Vr=$r instanceof(or=or||rr("./_stream_duplex"));this.objectMode=!!Wr.objectMode,Vr&&(this.objectMode=this.objectMode||!!Wr.readableObjectMode);var zr=Wr.highWaterMark,Gr=Wr.readableHighWaterMark,Fr=this.objectMode?16:16384;this.highWaterMark=zr||zr===0?zr:Vr&&(Gr||Gr===0)?Gr:Fr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new yr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Wr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Wr.encoding&&(gr||(gr=rr("string_decoder/").StringDecoder),this.decoder=new gr(Wr.encoding),this.encoding=Wr.encoding)}function Rr(Wr){if(or=or||rr("./_stream_duplex"),!(this instanceof Rr))return new Rr(Wr);this._readableState=new xr(Wr,this),this.readable=!0,Wr&&(typeof Wr.read=="function"&&(this._read=Wr.read),typeof Wr.destroy=="function"&&(this._destroy=Wr.destroy)),dr.call(this)}function Cr(Wr,$r,Vr,zr,Gr){var Fr,Xr=Wr._readableState;return $r===null?(Xr.reading=!1,function(Ur,Br){if(!Br.ended){if(Br.decoder){var Kr=Br.decoder.end();Kr&&Kr.length&&(Br.buffer.push(Kr),Br.length+=Br.objectMode?1:Kr.length)}Br.ended=!0,Lr(Ur)}}(Wr,Xr)):(Gr||(Fr=function(Ur,Br){var Kr;Zr=Br,hr.isBuffer(Zr)||Zr instanceof fr||typeof Br=="string"||Br===void 0||Ur.objectMode||(Kr=new TypeError("Invalid non-string/buffer chunk"));var Zr;return Kr}(Xr,$r)),Fr?Wr.emit("error",Fr):Xr.objectMode||$r&&$r.length>0?(typeof $r=="string"||Xr.objectMode||Object.getPrototypeOf($r)===hr.prototype||($r=function(Ur){return hr.from(Ur)}($r)),zr?Xr.endEmitted?Wr.emit("error",new Error("stream.unshift() after end event")):Tr(Wr,Xr,$r,!0):Xr.ended?Wr.emit("error",new Error("stream.push() after EOF")):(Xr.reading=!1,Xr.decoder&&!Vr?($r=Xr.decoder.write($r),Xr.objectMode||$r.length!==0?Tr(Wr,Xr,$r,!1):Or(Wr,Xr)):Tr(Wr,Xr,$r,!1))):zr||(Xr.reading=!1)),function(Ur){return!Ur.ended&&(Ur.needReadable||Ur.length<Ur.highWaterMark||Ur.length===0)}(Xr)}function Tr(Wr,$r,Vr,zr){$r.flowing&&$r.length===0&&!$r.sync?(Wr.emit("data",Vr),Wr.read(0)):($r.length+=$r.objectMode?1:Vr.length,zr?$r.buffer.unshift(Vr):$r.buffer.push(Vr),$r.needReadable&&Lr(Wr)),Or(Wr,$r)}Object.defineProperty(Rr.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Wr){this._readableState&&(this._readableState.destroyed=Wr)}}),Rr.prototype.destroy=vr.destroy,Rr.prototype._undestroy=vr.undestroy,Rr.prototype._destroy=function(Wr,$r){this.push(null),$r(Wr)},Rr.prototype.push=function(Wr,$r){var Vr,zr=this._readableState;return zr.objectMode?Vr=!0:typeof Wr=="string"&&(($r=$r||zr.defaultEncoding)!==zr.encoding&&(Wr=hr.from(Wr,$r),$r=""),Vr=!0),Cr(this,Wr,$r,!1,Vr)},Rr.prototype.unshift=function(Wr){return Cr(this,Wr,null,!0,!1)},Rr.prototype.isPaused=function(){return this._readableState.flowing===!1},Rr.prototype.setEncoding=function(Wr){return gr||(gr=rr("string_decoder/").StringDecoder),this._readableState.decoder=new gr(Wr),this._readableState.encoding=Wr,this};function Ir(Wr,$r){return Wr<=0||$r.length===0&&$r.ended?0:$r.objectMode?1:Wr!=Wr?$r.flowing&&$r.length?$r.buffer.head.data.length:$r.length:(Wr>$r.highWaterMark&&($r.highWaterMark=function(Vr){return Vr>=8388608?Vr=8388608:(Vr--,Vr|=Vr>>>1,Vr|=Vr>>>2,Vr|=Vr>>>4,Vr|=Vr>>>8,Vr|=Vr>>>16,Vr++),Vr}(Wr)),Wr<=$r.length?Wr:$r.ended?$r.length:($r.needReadable=!0,0))}function Lr(Wr){var $r=Wr._readableState;$r.needReadable=!1,$r.emittedReadable||(pr("emitReadable",$r.flowing),$r.emittedReadable=!0,$r.sync?lr.nextTick(Nr,Wr):Nr(Wr))}function Nr(Wr){pr("emit readable"),Wr.emit("readable"),wr(Wr)}function Or(Wr,$r){$r.readingMore||($r.readingMore=!0,lr.nextTick(Pr,Wr,$r))}function Pr(Wr,$r){for(var Vr=$r.length;!$r.reading&&!$r.flowing&&!$r.ended&&$r.length<$r.highWaterMark&&(pr("maybeReadMore read 0"),Wr.read(0),Vr!==$r.length);)Vr=$r.length;$r.readingMore=!1}function Mr(Wr){pr("readable nexttick read 0"),Wr.read(0)}function jr(Wr,$r){$r.reading||(pr("resume read 0"),Wr.read(0)),$r.resumeScheduled=!1,$r.awaitDrain=0,Wr.emit("resume"),wr(Wr),$r.flowing&&!$r.reading&&Wr.read(0)}function wr(Wr){var $r=Wr._readableState;for(pr("flow",$r.flowing);$r.flowing&&Wr.read()!==null;);}function Er(Wr,$r){return $r.length===0?null:($r.objectMode?Vr=$r.buffer.shift():!Wr||Wr>=$r.length?(Vr=$r.decoder?$r.buffer.join(""):$r.buffer.length===1?$r.buffer.head.data:$r.buffer.concat($r.length),$r.buffer.clear()):Vr=function(zr,Gr,Fr){var Xr;return zr<Gr.head.data.length?(Xr=Gr.head.data.slice(0,zr),Gr.head.data=Gr.head.data.slice(zr)):Xr=zr===Gr.head.data.length?Gr.shift():Fr?function(Ur,Br){var Kr=Br.head,Zr=1,tn=Kr.data;for(Ur-=tn.length;Kr=Kr.next;){var sn=Kr.data,un=Ur>sn.length?sn.length:Ur;if(un===sn.length?tn+=sn:tn+=sn.slice(0,Ur),(Ur-=un)===0){un===sn.length?(++Zr,Kr.next?Br.head=Kr.next:Br.head=Br.tail=null):(Br.head=Kr,Kr.data=sn.slice(un));break}++Zr}return Br.length-=Zr,tn}(zr,Gr):function(Ur,Br){var Kr=hr.allocUnsafe(Ur),Zr=Br.head,tn=1;for(Zr.data.copy(Kr),Ur-=Zr.data.length;Zr=Zr.next;){var sn=Zr.data,un=Ur>sn.length?sn.length:Ur;if(sn.copy(Kr,Kr.length-Ur,0,un),(Ur-=un)===0){un===sn.length?(++tn,Zr.next?Br.head=Zr.next:Br.head=Br.tail=null):(Br.head=Zr,Zr.data=sn.slice(un));break}++tn}return Br.length-=tn,Kr}(zr,Gr),Xr}(Wr,$r.buffer,$r.decoder),Vr);var Vr}function Ar(Wr){var $r=Wr._readableState;if($r.length>0)throw new Error('"endReadable()" called on non-empty stream');$r.endEmitted||($r.ended=!0,lr.nextTick(Sr,$r,Wr))}function Sr(Wr,$r){Wr.endEmitted||Wr.length!==0||(Wr.endEmitted=!0,$r.readable=!1,$r.emit("end"))}function Dr(Wr,$r){for(var Vr=0,zr=Wr.length;Vr<zr;Vr++)if(Wr[Vr]===$r)return Vr;return-1}Rr.prototype.read=function(Wr){pr("read",Wr),Wr=parseInt(Wr,10);var $r=this._readableState,Vr=Wr;if(Wr!==0&&($r.emittedReadable=!1),Wr===0&&$r.needReadable&&($r.length>=$r.highWaterMark||$r.ended))return pr("read: emitReadable",$r.length,$r.ended),$r.length===0&&$r.ended?Ar(this):Lr(this),null;if((Wr=Ir(Wr,$r))===0&&$r.ended)return $r.length===0&&Ar(this),null;var zr,Gr=$r.needReadable;return pr("need readable",Gr),($r.length===0||$r.length-Wr<$r.highWaterMark)&&pr("length less than watermark",Gr=!0),$r.ended||$r.reading?pr("reading or ended",Gr=!1):Gr&&(pr("do read"),$r.reading=!0,$r.sync=!0,$r.length===0&&($r.needReadable=!0),this._read($r.highWaterMark),$r.sync=!1,$r.reading||(Wr=Ir(Vr,$r))),(zr=Wr>0?Er(Wr,$r):null)===null?($r.needReadable=!0,Wr=0):$r.length-=Wr,$r.length===0&&($r.ended||($r.needReadable=!0),Vr!==Wr&&$r.ended&&Ar(this)),zr!==null&&this.emit("data",zr),zr},Rr.prototype._read=function(Wr){this.emit("error",new Error("_read() is not implemented"))},Rr.prototype.pipe=function(Wr,$r){var Vr=this,zr=this._readableState;switch(zr.pipesCount){case 0:zr.pipes=Wr;break;case 1:zr.pipes=[zr.pipes,Wr];break;default:zr.pipes.push(Wr)}zr.pipesCount+=1,pr("pipe count=%d opts=%j",zr.pipesCount,$r);var Gr=(!$r||$r.end!==!1)&&Wr!==ar.stdout&&Wr!==ar.stderr?Xr:hn;function Fr(Jr,nn){pr("onunpipe"),Jr===Vr&&nn&&nn.hasUnpiped===!1&&(nn.hasUnpiped=!0,pr("cleanup"),Wr.removeListener("close",sn),Wr.removeListener("finish",un),Wr.removeListener("drain",Ur),Wr.removeListener("error",tn),Wr.removeListener("unpipe",Fr),Vr.removeListener("end",Xr),Vr.removeListener("end",hn),Vr.removeListener("data",Zr),Br=!0,!zr.awaitDrain||Wr._writableState&&!Wr._writableState.needDrain||Ur())}function Xr(){pr("onend"),Wr.end()}zr.endEmitted?lr.nextTick(Gr):Vr.once("end",Gr),Wr.on("unpipe",Fr);var Ur=function(Jr){return function(){var nn=Jr._readableState;pr("pipeOnDrain",nn.awaitDrain),nn.awaitDrain&&nn.awaitDrain--,nn.awaitDrain===0&&ur(Jr,"data")&&(nn.flowing=!0,wr(Jr))}}(Vr);Wr.on("drain",Ur);var Br=!1,Kr=!1;function Zr(Jr){pr("ondata"),Kr=!1,Wr.write(Jr)!==!1||Kr||((zr.pipesCount===1&&zr.pipes===Wr||zr.pipesCount>1&&Dr(zr.pipes,Wr)!==-1)&&!Br&&(pr("false write response, pause",zr.awaitDrain),zr.awaitDrain++,Kr=!0),Vr.pause())}function tn(Jr){pr("onerror",Jr),hn(),Wr.removeListener("error",tn),ur(Wr,"error")===0&&Wr.emit("error",Jr)}function sn(){Wr.removeListener("finish",un),hn()}function un(){pr("onfinish"),Wr.removeListener("close",sn),hn()}function hn(){pr("unpipe"),Vr.unpipe(Wr)}return Vr.on("data",Zr),function(Jr,nn,rn){if(typeof Jr.prependListener=="function")return Jr.prependListener(nn,rn);Jr._events&&Jr._events[nn]?cr(Jr._events[nn])?Jr._events[nn].unshift(rn):Jr._events[nn]=[rn,Jr._events[nn]]:Jr.on(nn,rn)}(Wr,"error",tn),Wr.once("close",sn),Wr.once("finish",un),Wr.emit("pipe",Vr),zr.flowing||(pr("pipe resume"),Vr.resume()),Wr},Rr.prototype.unpipe=function(Wr){var $r=this._readableState,Vr={hasUnpiped:!1};if($r.pipesCount===0)return this;if($r.pipesCount===1)return Wr&&Wr!==$r.pipes||(Wr||(Wr=$r.pipes),$r.pipes=null,$r.pipesCount=0,$r.flowing=!1,Wr&&Wr.emit("unpipe",this,Vr)),this;if(!Wr){var zr=$r.pipes,Gr=$r.pipesCount;$r.pipes=null,$r.pipesCount=0,$r.flowing=!1;for(var Fr=0;Fr<Gr;Fr++)zr[Fr].emit("unpipe",this,{hasUnpiped:!1});return this}var Xr=Dr($r.pipes,Wr);return Xr===-1||($r.pipes.splice(Xr,1),$r.pipesCount-=1,$r.pipesCount===1&&($r.pipes=$r.pipes[0]),Wr.emit("unpipe",this,Vr)),this},Rr.prototype.on=function(Wr,$r){var Vr=dr.prototype.on.call(this,Wr,$r);if(Wr==="data")this._readableState.flowing!==!1&&this.resume();else if(Wr==="readable"){var zr=this._readableState;zr.endEmitted||zr.readableListening||(zr.readableListening=zr.needReadable=!0,zr.emittedReadable=!1,zr.reading?zr.length&&Lr(this):lr.nextTick(Mr,this))}return Vr},Rr.prototype.addListener=Rr.prototype.on,Rr.prototype.resume=function(){var Wr=this._readableState;return Wr.flowing||(pr("resume"),Wr.flowing=!0,function($r,Vr){Vr.resumeScheduled||(Vr.resumeScheduled=!0,lr.nextTick(jr,$r,Vr))}(this,Wr)),this},Rr.prototype.pause=function(){return pr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pr("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Rr.prototype.wrap=function(Wr){var $r=this,Vr=this._readableState,zr=!1;for(var Gr in Wr.on("end",function(){if(pr("wrapped end"),Vr.decoder&&!Vr.ended){var Xr=Vr.decoder.end();Xr&&Xr.length&&$r.push(Xr)}$r.push(null)}),Wr.on("data",function(Xr){pr("wrapped data"),Vr.decoder&&(Xr=Vr.decoder.write(Xr)),Vr.objectMode&&Xr==null||(Vr.objectMode||Xr&&Xr.length)&&($r.push(Xr)||(zr=!0,Wr.pause()))}),Wr)this[Gr]===void 0&&typeof Wr[Gr]=="function"&&(this[Gr]=function(Xr){return function(){return Wr[Xr].apply(Wr,arguments)}}(Gr));for(var Fr=0;Fr<_r.length;Fr++)Wr.on(_r[Fr],this.emit.bind(this,_r[Fr]));return this._read=function(Xr){pr("wrapped _read",Xr),zr&&(zr=!1,Wr.resume())},this},Object.defineProperty(Rr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Rr._fromList=Er}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(rr,nr,ir){nr.exports=or;var ar=rr("./_stream_duplex"),sr=Object.create(rr("core-util-is"));function lr(dr,hr){var fr=this._transformState;fr.transforming=!1;var mr=fr.writecb;if(!mr)return this.emit("error",new Error("write callback called multiple times"));fr.writechunk=null,fr.writecb=null,hr!=null&&this.push(hr),mr(dr);var br=this._readableState;br.reading=!1,(br.needReadable||br.length<br.highWaterMark)&&this._read(br.highWaterMark)}function or(dr){if(!(this instanceof or))return new or(dr);ar.call(this,dr),this._transformState={afterTransform:lr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,dr&&(typeof dr.transform=="function"&&(this._transform=dr.transform),typeof dr.flush=="function"&&(this._flush=dr.flush)),this.on("prefinish",cr)}function cr(){var dr=this;typeof this._flush=="function"?this._flush(function(hr,fr){ur(dr,hr,fr)}):ur(this,null,null)}function ur(dr,hr,fr){if(hr)return dr.emit("error",hr);if(fr!=null&&dr.push(fr),dr._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(dr._transformState.transforming)throw new Error("Calling transform done when still transforming");return dr.push(null)}sr.inherits=rr("inherits"),sr.inherits(or,ar),or.prototype.push=function(dr,hr){return this._transformState.needTransform=!1,ar.prototype.push.call(this,dr,hr)},or.prototype._transform=function(dr,hr,fr){throw new Error("_transform() is not implemented")},or.prototype._write=function(dr,hr,fr){var mr=this._transformState;if(mr.writecb=fr,mr.writechunk=dr,mr.writeencoding=hr,!mr.transforming){var br=this._readableState;(mr.needTransform||br.needReadable||br.length<br.highWaterMark)&&this._read(br.highWaterMark)}},or.prototype._read=function(dr){var hr=this._transformState;hr.writechunk!==null&&hr.writecb&&!hr.transforming?(hr.transforming=!0,this._transform(hr.writechunk,hr.writeencoding,hr.afterTransform)):hr.needTransform=!0},or.prototype._destroy=function(dr,hr){var fr=this;ar.prototype._destroy.call(this,dr,function(mr){hr(mr),fr.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(rr,nr,ir){(function(ar,sr,lr){(function(){var or=rr("process-nextick-args");function cr(Or){var Pr=this;this.next=null,this.entry=null,this.finish=function(){(function(Mr,jr,wr){var Er=Mr.entry;for(Mr.entry=null;Er;){var Ar=Er.callback;jr.pendingcb--,Ar(wr),Er=Er.next}jr.corkedRequestsFree.next=Mr})(Pr,Or)}}nr.exports=xr;var ur,dr=!ar.browser&&["v0.10","v0.9."].indexOf(ar.version.slice(0,5))>-1?lr:or.nextTick;xr.WritableState=_r;var hr=Object.create(rr("core-util-is"));hr.inherits=rr("inherits");var fr={deprecate:rr("util-deprecate")},mr=rr("./internal/streams/stream"),br=rr("safe-buffer").Buffer,pr=(sr!==void 0?sr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},gr,yr=rr("./internal/streams/destroy");function vr(){}function _r(Or,Pr){ur=ur||rr("./_stream_duplex"),Or=Or||{};var Mr=Pr instanceof ur;this.objectMode=!!Or.objectMode,Mr&&(this.objectMode=this.objectMode||!!Or.writableObjectMode);var jr=Or.highWaterMark,wr=Or.writableHighWaterMark,Er=this.objectMode?16:16384;this.highWaterMark=jr||jr===0?jr:Mr&&(wr||wr===0)?wr:Er,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ar=Or.decodeStrings===!1;this.decodeStrings=!Ar,this.defaultEncoding=Or.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Sr){(function(Dr,Wr){var $r=Dr._writableState,Vr=$r.sync,zr=$r.writecb;if(function(Fr){Fr.writing=!1,Fr.writecb=null,Fr.length-=Fr.writelen,Fr.writelen=0}($r),Wr)(function(Fr,Xr,Ur,Br,Kr){--Xr.pendingcb,Ur?(or.nextTick(Kr,Br),or.nextTick(Nr,Fr,Xr),Fr._writableState.errorEmitted=!0,Fr.emit("error",Br)):(Kr(Br),Fr._writableState.errorEmitted=!0,Fr.emit("error",Br),Nr(Fr,Xr))})(Dr,$r,Vr,Wr,zr);else{var Gr=Ir($r);Gr||$r.corked||$r.bufferProcessing||!$r.bufferedRequest||Tr(Dr,$r),Vr?dr(Cr,Dr,$r,Gr,zr):Cr(Dr,$r,Gr,zr)}})(Pr,Sr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new cr(this)}function xr(Or){if(ur=ur||rr("./_stream_duplex"),!(gr.call(xr,this)||this instanceof ur))return new xr(Or);this._writableState=new _r(Or,this),this.writable=!0,Or&&(typeof Or.write=="function"&&(this._write=Or.write),typeof Or.writev=="function"&&(this._writev=Or.writev),typeof Or.destroy=="function"&&(this._destroy=Or.destroy),typeof Or.final=="function"&&(this._final=Or.final)),mr.call(this)}function Rr(Or,Pr,Mr,jr,wr,Er,Ar){Pr.writelen=jr,Pr.writecb=Ar,Pr.writing=!0,Pr.sync=!0,Mr?Or._writev(wr,Pr.onwrite):Or._write(wr,Er,Pr.onwrite),Pr.sync=!1}function Cr(Or,Pr,Mr,jr){Mr||function(wr,Er){Er.length===0&&Er.needDrain&&(Er.needDrain=!1,wr.emit("drain"))}(Or,Pr),Pr.pendingcb--,jr(),Nr(Or,Pr)}function Tr(Or,Pr){Pr.bufferProcessing=!0;var Mr=Pr.bufferedRequest;if(Or._writev&&Mr&&Mr.next){var jr=Pr.bufferedRequestCount,wr=new Array(jr),Er=Pr.corkedRequestsFree;Er.entry=Mr;for(var Ar=0,Sr=!0;Mr;)wr[Ar]=Mr,Mr.isBuf||(Sr=!1),Mr=Mr.next,Ar+=1;wr.allBuffers=Sr,Rr(Or,Pr,!0,Pr.length,wr,"",Er.finish),Pr.pendingcb++,Pr.lastBufferedRequest=null,Er.next?(Pr.corkedRequestsFree=Er.next,Er.next=null):Pr.corkedRequestsFree=new cr(Pr),Pr.bufferedRequestCount=0}else{for(;Mr;){var Dr=Mr.chunk,Wr=Mr.encoding,$r=Mr.callback;if(Rr(Or,Pr,!1,Pr.objectMode?1:Dr.length,Dr,Wr,$r),Mr=Mr.next,Pr.bufferedRequestCount--,Pr.writing)break}Mr===null&&(Pr.lastBufferedRequest=null)}Pr.bufferedRequest=Mr,Pr.bufferProcessing=!1}function Ir(Or){return Or.ending&&Or.length===0&&Or.bufferedRequest===null&&!Or.finished&&!Or.writing}function Lr(Or,Pr){Or._final(function(Mr){Pr.pendingcb--,Mr&&Or.emit("error",Mr),Pr.prefinished=!0,Or.emit("prefinish"),Nr(Or,Pr)})}function Nr(Or,Pr){var Mr=Ir(Pr);return Mr&&(function(jr,wr){wr.prefinished||wr.finalCalled||(typeof jr._final=="function"?(wr.pendingcb++,wr.finalCalled=!0,or.nextTick(Lr,jr,wr)):(wr.prefinished=!0,jr.emit("prefinish")))}(Or,Pr),Pr.pendingcb===0&&(Pr.finished=!0,Or.emit("finish"))),Mr}hr.inherits(xr,mr),_r.prototype.getBuffer=function(){for(var Or=this.bufferedRequest,Pr=[];Or;)Pr.push(Or),Or=Or.next;return Pr},function(){try{Object.defineProperty(_r.prototype,"buffer",{get:fr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gr=Function.prototype[Symbol.hasInstance],Object.defineProperty(xr,Symbol.hasInstance,{value:function(Or){return!!gr.call(this,Or)||this===xr&&Or&&Or._writableState instanceof _r}})):gr=function(Or){return Or instanceof this},xr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},xr.prototype.write=function(Or,Pr,Mr){var jr,wr=this._writableState,Er=!1,Ar=!wr.objectMode&&(jr=Or,br.isBuffer(jr)||jr instanceof pr);return Ar&&!br.isBuffer(Or)&&(Or=function(Sr){return br.from(Sr)}(Or)),typeof Pr=="function"&&(Mr=Pr,Pr=null),Ar?Pr="buffer":Pr||(Pr=wr.defaultEncoding),typeof Mr!="function"&&(Mr=vr),wr.ended?function(Sr,Dr){var Wr=new Error("write after end");Sr.emit("error",Wr),or.nextTick(Dr,Wr)}(this,Mr):(Ar||function(Sr,Dr,Wr,$r){var Vr=!0,zr=!1;return Wr===null?zr=new TypeError("May not write null values to stream"):typeof Wr=="string"||Wr===void 0||Dr.objectMode||(zr=new TypeError("Invalid non-string/buffer chunk")),zr&&(Sr.emit("error",zr),or.nextTick($r,zr),Vr=!1),Vr}(this,wr,Or,Mr))&&(wr.pendingcb++,Er=function(Sr,Dr,Wr,$r,Vr,zr){if(!Wr){var Gr=function(Br,Kr,Zr){return Br.objectMode||Br.decodeStrings===!1||typeof Kr!="string"||(Kr=br.from(Kr,Zr)),Kr}(Dr,$r,Vr);$r!==Gr&&(Wr=!0,Vr="buffer",$r=Gr)}var Fr=Dr.objectMode?1:$r.length;Dr.length+=Fr;var Xr=Dr.length<Dr.highWaterMark;if(Xr||(Dr.needDrain=!0),Dr.writing||Dr.corked){var Ur=Dr.lastBufferedRequest;Dr.lastBufferedRequest={chunk:$r,encoding:Vr,isBuf:Wr,callback:zr,next:null},Ur?Ur.next=Dr.lastBufferedRequest:Dr.bufferedRequest=Dr.lastBufferedRequest,Dr.bufferedRequestCount+=1}else Rr(Sr,Dr,!1,Fr,$r,Vr,zr);return Xr}(this,wr,Ar,Or,Pr,Mr)),Er},xr.prototype.cork=function(){this._writableState.corked++},xr.prototype.uncork=function(){var Or=this._writableState;Or.corked&&(Or.corked--,Or.writing||Or.corked||Or.bufferProcessing||!Or.bufferedRequest||Tr(this,Or))},xr.prototype.setDefaultEncoding=function(Or){if(typeof Or=="string"&&(Or=Or.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Or+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Or);return this._writableState.defaultEncoding=Or,this},Object.defineProperty(xr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),xr.prototype._write=function(Or,Pr,Mr){Mr(new Error("_write() is not implemented"))},xr.prototype._writev=null,xr.prototype.end=function(Or,Pr,Mr){var jr=this._writableState;typeof Or=="function"?(Mr=Or,Or=null,Pr=null):typeof Pr=="function"&&(Mr=Pr,Pr=null),Or!=null&&this.write(Or,Pr),jr.corked&&(jr.corked=1,this.uncork()),jr.ending||function(wr,Er,Ar){Er.ending=!0,Nr(wr,Er),Ar&&(Er.finished?or.nextTick(Ar):wr.once("finish",Ar)),Er.ended=!0,wr.writable=!1}(this,jr,Mr)},Object.defineProperty(xr.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Or){this._writableState&&(this._writableState.destroyed=Or)}}),xr.prototype.destroy=yr.destroy,xr.prototype._undestroy=yr.undestroy,xr.prototype._destroy=function(Or,Pr){this.end(),Pr(Or)}}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{},rr("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(rr,nr,ir){var ar=rr("safe-buffer").Buffer,sr=rr("util");nr.exports=function(){function lr(){(function(or,cr){if(!(or instanceof cr))throw new TypeError("Cannot call a class as a function")})(this,lr),this.head=null,this.tail=null,this.length=0}return lr.prototype.push=function(or){var cr={data:or,next:null};this.length>0?this.tail.next=cr:this.head=cr,this.tail=cr,++this.length},lr.prototype.unshift=function(or){var cr={data:or,next:this.head};this.length===0&&(this.tail=cr),this.head=cr,++this.length},lr.prototype.shift=function(){if(this.length!==0){var or=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,or}},lr.prototype.clear=function(){this.head=this.tail=null,this.length=0},lr.prototype.join=function(or){if(this.length===0)return"";for(var cr=this.head,ur=""+cr.data;cr=cr.next;)ur+=or+cr.data;return ur},lr.prototype.concat=function(or){if(this.length===0)return ar.alloc(0);for(var cr,ur,dr,hr=ar.allocUnsafe(or>>>0),fr=this.head,mr=0;fr;)cr=fr.data,ur=hr,dr=mr,cr.copy(ur,dr),mr+=fr.data.length,fr=fr.next;return hr},lr}(),sr&&sr.inspect&&sr.inspect.custom&&(nr.exports.prototype[sr.inspect.custom]=function(){var lr=sr.inspect({length:this.length});return this.constructor.name+" "+lr})},{"safe-buffer":520,util:188}],514:[function(rr,nr,ir){var ar=rr("process-nextick-args");function sr(lr,or){lr.emit("error",or)}nr.exports={destroy:function(lr,or){var cr=this,ur=this._readableState&&this._readableState.destroyed,dr=this._writableState&&this._writableState.destroyed;return ur||dr?(or?or(lr):lr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ar.nextTick(sr,this,lr)):ar.nextTick(sr,this,lr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(lr||null,function(hr){!or&&hr?cr._writableState?cr._writableState.errorEmitted||(cr._writableState.errorEmitted=!0,ar.nextTick(sr,cr,hr)):ar.nextTick(sr,cr,hr):or&&or(hr)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(rr,nr,ir){arguments[4][490][0].apply(ir,arguments)},{dup:490,events:422}],516:[function(rr,nr,ir){nr.exports=rr("./readable").PassThrough},{"./readable":517}],517:[function(rr,nr,ir){(ir=nr.exports=rr("./lib/_stream_readable.js")).Stream=ir,ir.Readable=ir,ir.Writable=rr("./lib/_stream_writable.js"),ir.Duplex=rr("./lib/_stream_duplex.js"),ir.Transform=rr("./lib/_stream_transform.js"),ir.PassThrough=rr("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(rr,nr,ir){nr.exports=rr("./readable").Transform},{"./readable":517}],519:[function(rr,nr,ir){nr.exports=rr("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(rr,nr,ir){arguments[4][217][0].apply(ir,arguments)},{buffer:220,dup:217}],521:[function(rr,nr,ir){arguments[4][218][0].apply(ir,arguments)},{dup:218,"safe-buffer":520}],522:[function(rr,nr,ir){arguments[4][218][0].apply(ir,arguments)},{dup:218,"safe-buffer":494}],523:[function(rr,nr,ir){(function(ar,sr){(function(){var lr=rr("process/browser.js").nextTick,or=Function.prototype.apply,cr=Array.prototype.slice,ur={},dr=0;function hr(fr,mr){this._id=fr,this._clearFn=mr}ir.setTimeout=function(){return new hr(or.call(setTimeout,window,arguments),clearTimeout)},ir.setInterval=function(){return new hr(or.call(setInterval,window,arguments),clearInterval)},ir.clearTimeout=ir.clearInterval=function(fr){fr.close()},hr.prototype.unref=hr.prototype.ref=function(){},hr.prototype.close=function(){this._clearFn.call(window,this._id)},ir.enroll=function(fr,mr){clearTimeout(fr._idleTimeoutId),fr._idleTimeout=mr},ir.unenroll=function(fr){clearTimeout(fr._idleTimeoutId),fr._idleTimeout=-1},ir._unrefActive=ir.active=function(fr){clearTimeout(fr._idleTimeoutId);var mr=fr._idleTimeout;mr>=0&&(fr._idleTimeoutId=setTimeout(function(){fr._onTimeout&&fr._onTimeout()},mr))},ir.setImmediate=typeof ar=="function"?ar:function(fr){var mr=dr++,br=!(arguments.length<2)&&cr.call(arguments,1);return ur[mr]=!0,lr(function(){ur[mr]&&(br?fr.apply(null,br):fr.call(null),ir.clearImmediate(mr))}),mr},ir.clearImmediate=typeof sr=="function"?sr:function(fr){delete ur[fr]}}).call(this)}).call(this,rr("timers").setImmediate,rr("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(rr,nr,ir){(function(ar){(function(){function sr(lr){try{if(!ar.localStorage)return!1}catch{return!1}var or=ar.localStorage[lr];return or!=null&&String(or).toLowerCase()==="true"}nr.exports=function(lr,or){if(sr("noDeprecation"))return lr;var cr=!1;return function(){if(!cr){if(sr("throwDeprecation"))throw new Error(or);sr("traceDeprecation")?console.trace(or):console.warn(or),cr=!0}return lr.apply(this,arguments)}}}).call(this)}).call(this,typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(rr,nr,ir){typeof Object.create=="function"?nr.exports=function(ar,sr){ar.super_=sr,ar.prototype=Object.create(sr.prototype,{constructor:{value:ar,enumerable:!1,writable:!0,configurable:!0}})}:nr.exports=function(ar,sr){ar.super_=sr;var lr=function(){};lr.prototype=sr.prototype,ar.prototype=new lr,ar.prototype.constructor=ar}},{}],526:[function(rr,nr,ir){nr.exports=function(ar){return ar&&typeof ar=="object"&&typeof ar.copy=="function"&&typeof ar.fill=="function"&&typeof ar.readUInt8=="function"}},{}],527:[function(rr,nr,ir){(function(ar,sr){(function(){var lr=/%[sdj%]/g;ir.format=function(wr){if(!_r(wr)){for(var Er=[],Ar=0;Ar<arguments.length;Ar++)Er.push(ur(arguments[Ar]));return Er.join(" ")}Ar=1;for(var Sr=arguments,Dr=Sr.length,Wr=String(wr).replace(lr,function(Vr){if(Vr==="%%")return"%";if(Ar>=Dr)return Vr;switch(Vr){case"%s":return String(Sr[Ar++]);case"%d":return Number(Sr[Ar++]);case"%j":try{return JSON.stringify(Sr[Ar++])}catch{return"[Circular]"}default:return Vr}}),$r=Sr[Ar];Ar<Dr;$r=Sr[++Ar])yr($r)||!Cr($r)?Wr+=" "+$r:Wr+=" "+ur($r);return Wr},ir.deprecate=function(wr,Er){if(xr(sr.process))return function(){return ir.deprecate(wr,Er).apply(this,arguments)};if(ar.noDeprecation===!0)return wr;var Ar=!1;return function(){if(!Ar){if(ar.throwDeprecation)throw new Error(Er);ar.traceDeprecation?console.trace(Er):console.error(Er),Ar=!0}return wr.apply(this,arguments)}};var or,cr={};function ur(wr,Er){var Ar={seen:[],stylize:hr};return arguments.length>=3&&(Ar.depth=arguments[2]),arguments.length>=4&&(Ar.colors=arguments[3]),gr(Er)?Ar.showHidden=Er:Er&&ir._extend(Ar,Er),xr(Ar.showHidden)&&(Ar.showHidden=!1),xr(Ar.depth)&&(Ar.depth=2),xr(Ar.colors)&&(Ar.colors=!1),xr(Ar.customInspect)&&(Ar.customInspect=!0),Ar.colors&&(Ar.stylize=dr),fr(Ar,wr,Ar.depth)}function dr(wr,Er){var Ar=ur.styles[Er];return Ar?"\x1B["+ur.colors[Ar][0]+"m"+wr+"\x1B["+ur.colors[Ar][1]+"m":wr}function hr(wr,Er){return wr}function fr(wr,Er,Ar){if(wr.customInspect&&Er&&Lr(Er.inspect)&&Er.inspect!==ir.inspect&&(!Er.constructor||Er.constructor.prototype!==Er)){var Sr=Er.inspect(Ar,wr);return _r(Sr)||(Sr=fr(wr,Sr,Ar)),Sr}var Dr=function(Ur,Br){if(xr(Br))return Ur.stylize("undefined","undefined");if(_r(Br)){var Kr="'"+JSON.stringify(Br).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ur.stylize(Kr,"string")}if(vr(Br))return Ur.stylize(""+Br,"number");if(gr(Br))return Ur.stylize(""+Br,"boolean");if(yr(Br))return Ur.stylize("null","null")}(wr,Er);if(Dr)return Dr;var Wr=Object.keys(Er),$r=function(Ur){var Br={};return Ur.forEach(function(Kr,Zr){Br[Kr]=!0}),Br}(Wr);if(wr.showHidden&&(Wr=Object.getOwnPropertyNames(Er)),Ir(Er)&&(Wr.indexOf("message")>=0||Wr.indexOf("description")>=0))return mr(Er);if(Wr.length===0){if(Lr(Er)){var Vr=Er.name?": "+Er.name:"";return wr.stylize("[Function"+Vr+"]","special")}if(Rr(Er))return wr.stylize(RegExp.prototype.toString.call(Er),"regexp");if(Tr(Er))return wr.stylize(Date.prototype.toString.call(Er),"date");if(Ir(Er))return mr(Er)}var zr,Gr="",Fr=!1,Xr=["{","}"];return pr(Er)&&(Fr=!0,Xr=["[","]"]),Lr(Er)&&(Gr=" [Function"+(Er.name?": "+Er.name:"")+"]"),Rr(Er)&&(Gr=" "+RegExp.prototype.toString.call(Er)),Tr(Er)&&(Gr=" "+Date.prototype.toUTCString.call(Er)),Ir(Er)&&(Gr=" "+mr(Er)),Wr.length!==0||Fr&&Er.length!=0?Ar<0?Rr(Er)?wr.stylize(RegExp.prototype.toString.call(Er),"regexp"):wr.stylize("[Object]","special"):(wr.seen.push(Er),zr=Fr?function(Ur,Br,Kr,Zr,tn){for(var sn=[],un=0,hn=Br.length;un<hn;++un)jr(Br,String(un))?sn.push(br(Ur,Br,Kr,Zr,String(un),!0)):sn.push("");return tn.forEach(function(Jr){Jr.match(/^\d+$/)||sn.push(br(Ur,Br,Kr,Zr,Jr,!0))}),sn}(wr,Er,Ar,$r,Wr):Wr.map(function(Ur){return br(wr,Er,Ar,$r,Ur,Fr)}),wr.seen.pop(),function(Ur,Br,Kr){return Ur.reduce(function(Zr,tn){return tn.indexOf(`
`)>=0,Zr+tn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Kr[0]+(Br===""?"":Br+`
 `)+" "+Ur.join(`,
  `)+" "+Kr[1]:Kr[0]+Br+" "+Ur.join(", ")+" "+Kr[1]}(zr,Gr,Xr)):Xr[0]+Gr+Xr[1]}function mr(wr){return"["+Error.prototype.toString.call(wr)+"]"}function br(wr,Er,Ar,Sr,Dr,Wr){var $r,Vr,zr;if((zr=Object.getOwnPropertyDescriptor(Er,Dr)||{value:Er[Dr]}).get?Vr=zr.set?wr.stylize("[Getter/Setter]","special"):wr.stylize("[Getter]","special"):zr.set&&(Vr=wr.stylize("[Setter]","special")),jr(Sr,Dr)||($r="["+Dr+"]"),Vr||(wr.seen.indexOf(zr.value)<0?(Vr=yr(Ar)?fr(wr,zr.value,null):fr(wr,zr.value,Ar-1)).indexOf(`
`)>-1&&(Vr=Wr?Vr.split(`
`).map(function(Gr){return"  "+Gr}).join(`
`).substr(2):`
`+Vr.split(`
`).map(function(Gr){return"   "+Gr}).join(`
`)):Vr=wr.stylize("[Circular]","special")),xr($r)){if(Wr&&Dr.match(/^\d+$/))return Vr;($r=JSON.stringify(""+Dr)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($r=$r.substr(1,$r.length-2),$r=wr.stylize($r,"name")):($r=$r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),$r=wr.stylize($r,"string"))}return $r+": "+Vr}function pr(wr){return Array.isArray(wr)}function gr(wr){return typeof wr=="boolean"}function yr(wr){return wr===null}function vr(wr){return typeof wr=="number"}function _r(wr){return typeof wr=="string"}function xr(wr){return wr===void 0}function Rr(wr){return Cr(wr)&&Nr(wr)==="[object RegExp]"}function Cr(wr){return typeof wr=="object"&&wr!==null}function Tr(wr){return Cr(wr)&&Nr(wr)==="[object Date]"}function Ir(wr){return Cr(wr)&&(Nr(wr)==="[object Error]"||wr instanceof Error)}function Lr(wr){return typeof wr=="function"}function Nr(wr){return Object.prototype.toString.call(wr)}function Or(wr){return wr<10?"0"+wr.toString(10):wr.toString(10)}ir.debuglog=function(wr){if(xr(or)&&(or=ar.env.NODE_DEBUG||""),wr=wr.toUpperCase(),!cr[wr])if(new RegExp("\\b"+wr+"\\b","i").test(or)){var Er=ar.pid;cr[wr]=function(){var Ar=ir.format.apply(ir,arguments);console.error("%s %d: %s",wr,Er,Ar)}}else cr[wr]=function(){};return cr[wr]},ir.inspect=ur,ur.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ur.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ir.isArray=pr,ir.isBoolean=gr,ir.isNull=yr,ir.isNullOrUndefined=function(wr){return wr==null},ir.isNumber=vr,ir.isString=_r,ir.isSymbol=function(wr){return typeof wr=="symbol"},ir.isUndefined=xr,ir.isRegExp=Rr,ir.isObject=Cr,ir.isDate=Tr,ir.isError=Ir,ir.isFunction=Lr,ir.isPrimitive=function(wr){return wr===null||typeof wr=="boolean"||typeof wr=="number"||typeof wr=="string"||typeof wr=="symbol"||wr===void 0},ir.isBuffer=rr("./support/isBuffer");var Pr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mr(){var wr=new Date,Er=[Or(wr.getHours()),Or(wr.getMinutes()),Or(wr.getSeconds())].join(":");return[wr.getDate(),Pr[wr.getMonth()],Er].join(" ")}function jr(wr,Er){return Object.prototype.hasOwnProperty.call(wr,Er)}ir.log=function(){console.log("%s - %s",Mr(),ir.format.apply(ir,arguments))},ir.inherits=rr("inherits"),ir._extend=function(wr,Er){if(!Er||!Cr(Er))return wr;for(var Ar=Object.keys(Er),Sr=Ar.length;Sr--;)wr[Ar[Sr]]=Er[Ar[Sr]];return wr}}).call(this)}).call(this,rr("_process"),typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),Object.defineProperty(ir,"v1",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(ir,"v3",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(ir,"v4",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(ir,"v5",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(ir,"NIL",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(ir,"version",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(ir,"validate",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(ir,"stringify",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(ir,"parse",{enumerable:!0,get:function(){return fr.default}});var ar=mr(rr("./v1.js")),sr=mr(rr("./v3.js")),lr=mr(rr("./v4.js")),or=mr(rr("./v5.js")),cr=mr(rr("./nil.js")),ur=mr(rr("./version.js")),dr=mr(rr("./validate.js")),hr=mr(rr("./stringify.js")),fr=mr(rr("./parse.js"));function mr(br){return br&&br.__esModule?br:{default:br}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(rr,nr,ir){function ar(fr){return 14+(fr+64>>>9<<4)+1}function sr(fr,mr){const br=(65535&fr)+(65535&mr);return(fr>>16)+(mr>>16)+(br>>16)<<16|65535&br}function lr(fr,mr,br,pr,gr,yr){return sr((vr=sr(sr(mr,fr),sr(pr,yr)))<<(_r=gr)|vr>>>32-_r,br);var vr,_r}function or(fr,mr,br,pr,gr,yr,vr){return lr(mr&br|~mr&pr,fr,mr,gr,yr,vr)}function cr(fr,mr,br,pr,gr,yr,vr){return lr(mr&pr|br&~pr,fr,mr,gr,yr,vr)}function ur(fr,mr,br,pr,gr,yr,vr){return lr(mr^br^pr,fr,mr,gr,yr,vr)}function dr(fr,mr,br,pr,gr,yr,vr){return lr(br^(mr|~pr),fr,mr,gr,yr,vr)}Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var hr=function(fr){if(typeof fr=="string"){const mr=unescape(encodeURIComponent(fr));fr=new Uint8Array(mr.length);for(let br=0;br<mr.length;++br)fr[br]=mr.charCodeAt(br)}return function(mr){const br=[],pr=32*mr.length;for(let gr=0;gr<pr;gr+=8){const yr=mr[gr>>5]>>>gr%32&255,vr=parseInt("0123456789abcdef".charAt(yr>>>4&15)+"0123456789abcdef".charAt(15&yr),16);br.push(vr)}return br}(function(mr,br){mr[br>>5]|=128<<br%32,mr[ar(br)-1]=br;let pr=1732584193,gr=-271733879,yr=-1732584194,vr=271733878;for(let _r=0;_r<mr.length;_r+=16){const xr=pr,Rr=gr,Cr=yr,Tr=vr;pr=or(pr,gr,yr,vr,mr[_r],7,-680876936),vr=or(vr,pr,gr,yr,mr[_r+1],12,-389564586),yr=or(yr,vr,pr,gr,mr[_r+2],17,606105819),gr=or(gr,yr,vr,pr,mr[_r+3],22,-1044525330),pr=or(pr,gr,yr,vr,mr[_r+4],7,-176418897),vr=or(vr,pr,gr,yr,mr[_r+5],12,1200080426),yr=or(yr,vr,pr,gr,mr[_r+6],17,-1473231341),gr=or(gr,yr,vr,pr,mr[_r+7],22,-45705983),pr=or(pr,gr,yr,vr,mr[_r+8],7,1770035416),vr=or(vr,pr,gr,yr,mr[_r+9],12,-1958414417),yr=or(yr,vr,pr,gr,mr[_r+10],17,-42063),gr=or(gr,yr,vr,pr,mr[_r+11],22,-1990404162),pr=or(pr,gr,yr,vr,mr[_r+12],7,1804603682),vr=or(vr,pr,gr,yr,mr[_r+13],12,-40341101),yr=or(yr,vr,pr,gr,mr[_r+14],17,-1502002290),gr=or(gr,yr,vr,pr,mr[_r+15],22,1236535329),pr=cr(pr,gr,yr,vr,mr[_r+1],5,-165796510),vr=cr(vr,pr,gr,yr,mr[_r+6],9,-1069501632),yr=cr(yr,vr,pr,gr,mr[_r+11],14,643717713),gr=cr(gr,yr,vr,pr,mr[_r],20,-373897302),pr=cr(pr,gr,yr,vr,mr[_r+5],5,-701558691),vr=cr(vr,pr,gr,yr,mr[_r+10],9,38016083),yr=cr(yr,vr,pr,gr,mr[_r+15],14,-660478335),gr=cr(gr,yr,vr,pr,mr[_r+4],20,-405537848),pr=cr(pr,gr,yr,vr,mr[_r+9],5,568446438),vr=cr(vr,pr,gr,yr,mr[_r+14],9,-1019803690),yr=cr(yr,vr,pr,gr,mr[_r+3],14,-187363961),gr=cr(gr,yr,vr,pr,mr[_r+8],20,1163531501),pr=cr(pr,gr,yr,vr,mr[_r+13],5,-1444681467),vr=cr(vr,pr,gr,yr,mr[_r+2],9,-51403784),yr=cr(yr,vr,pr,gr,mr[_r+7],14,1735328473),gr=cr(gr,yr,vr,pr,mr[_r+12],20,-1926607734),pr=ur(pr,gr,yr,vr,mr[_r+5],4,-378558),vr=ur(vr,pr,gr,yr,mr[_r+8],11,-2022574463),yr=ur(yr,vr,pr,gr,mr[_r+11],16,1839030562),gr=ur(gr,yr,vr,pr,mr[_r+14],23,-35309556),pr=ur(pr,gr,yr,vr,mr[_r+1],4,-1530992060),vr=ur(vr,pr,gr,yr,mr[_r+4],11,1272893353),yr=ur(yr,vr,pr,gr,mr[_r+7],16,-155497632),gr=ur(gr,yr,vr,pr,mr[_r+10],23,-1094730640),pr=ur(pr,gr,yr,vr,mr[_r+13],4,681279174),vr=ur(vr,pr,gr,yr,mr[_r],11,-358537222),yr=ur(yr,vr,pr,gr,mr[_r+3],16,-722521979),gr=ur(gr,yr,vr,pr,mr[_r+6],23,76029189),pr=ur(pr,gr,yr,vr,mr[_r+9],4,-640364487),vr=ur(vr,pr,gr,yr,mr[_r+12],11,-421815835),yr=ur(yr,vr,pr,gr,mr[_r+15],16,530742520),gr=ur(gr,yr,vr,pr,mr[_r+2],23,-995338651),pr=dr(pr,gr,yr,vr,mr[_r],6,-198630844),vr=dr(vr,pr,gr,yr,mr[_r+7],10,1126891415),yr=dr(yr,vr,pr,gr,mr[_r+14],15,-1416354905),gr=dr(gr,yr,vr,pr,mr[_r+5],21,-57434055),pr=dr(pr,gr,yr,vr,mr[_r+12],6,1700485571),vr=dr(vr,pr,gr,yr,mr[_r+3],10,-1894986606),yr=dr(yr,vr,pr,gr,mr[_r+10],15,-1051523),gr=dr(gr,yr,vr,pr,mr[_r+1],21,-2054922799),pr=dr(pr,gr,yr,vr,mr[_r+8],6,1873313359),vr=dr(vr,pr,gr,yr,mr[_r+15],10,-30611744),yr=dr(yr,vr,pr,gr,mr[_r+6],15,-1560198380),gr=dr(gr,yr,vr,pr,mr[_r+13],21,1309151649),pr=dr(pr,gr,yr,vr,mr[_r+4],6,-145523070),vr=dr(vr,pr,gr,yr,mr[_r+11],10,-1120210379),yr=dr(yr,vr,pr,gr,mr[_r+2],15,718787259),gr=dr(gr,yr,vr,pr,mr[_r+9],21,-343485551),pr=sr(pr,xr),gr=sr(gr,Rr),yr=sr(yr,Cr),vr=sr(vr,Tr)}return[pr,gr,yr,vr]}(function(mr){if(mr.length===0)return[];const br=8*mr.length,pr=new Uint32Array(ar(br));for(let gr=0;gr<br;gr+=8)pr[gr>>5]|=(255&mr[gr/8])<<gr%32;return pr}(fr),8*fr.length))};ir.default=hr},{}],530:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar,sr=(ar=rr("./validate.js"))&&ar.__esModule?ar:{default:ar},lr=function(or){if(!(0,sr.default)(or))throw TypeError("Invalid UUID");let cr;const ur=new Uint8Array(16);return ur[0]=(cr=parseInt(or.slice(0,8),16))>>>24,ur[1]=cr>>>16&255,ur[2]=cr>>>8&255,ur[3]=255&cr,ur[4]=(cr=parseInt(or.slice(9,13),16))>>>8,ur[5]=255&cr,ur[6]=(cr=parseInt(or.slice(14,18),16))>>>8,ur[7]=255&cr,ur[8]=(cr=parseInt(or.slice(19,23),16))>>>8,ur[9]=255&cr,ur[10]=(cr=parseInt(or.slice(24,36),16))/1099511627776&255,ur[11]=cr/4294967296&255,ur[12]=cr>>>24&255,ur[13]=cr>>>16&255,ur[14]=cr>>>8&255,ur[15]=255&cr,ur};ir.default=lr},{"./validate.js":541}],532:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(rr,nr,ir){let ar;Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=function(){if(!ar&&(ar=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ar))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ar(sr)};const sr=new Uint8Array(16)},{}],534:[function(rr,nr,ir){function ar(or,cr,ur,dr){switch(or){case 0:return cr&ur^~cr&dr;case 1:return cr^ur^dr;case 2:return cr&ur^cr&dr^ur&dr;case 3:return cr^ur^dr}}function sr(or,cr){return or<<cr|or>>>32-cr}Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var lr=function(or){const cr=[1518500249,1859775393,2400959708,3395469782],ur=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof or=="string"){const mr=unescape(encodeURIComponent(or));or=[];for(let br=0;br<mr.length;++br)or.push(mr.charCodeAt(br))}else Array.isArray(or)||(or=Array.prototype.slice.call(or));or.push(128);const dr=or.length/4+2,hr=Math.ceil(dr/16),fr=new Array(hr);for(let mr=0;mr<hr;++mr){const br=new Uint32Array(16);for(let pr=0;pr<16;++pr)br[pr]=or[64*mr+4*pr]<<24|or[64*mr+4*pr+1]<<16|or[64*mr+4*pr+2]<<8|or[64*mr+4*pr+3];fr[mr]=br}fr[hr-1][14]=8*(or.length-1)/Math.pow(2,32),fr[hr-1][14]=Math.floor(fr[hr-1][14]),fr[hr-1][15]=8*(or.length-1)&4294967295;for(let mr=0;mr<hr;++mr){const br=new Uint32Array(80);for(let xr=0;xr<16;++xr)br[xr]=fr[mr][xr];for(let xr=16;xr<80;++xr)br[xr]=sr(br[xr-3]^br[xr-8]^br[xr-14]^br[xr-16],1);let pr=ur[0],gr=ur[1],yr=ur[2],vr=ur[3],_r=ur[4];for(let xr=0;xr<80;++xr){const Rr=Math.floor(xr/20),Cr=sr(pr,5)+ar(Rr,gr,yr,vr)+_r+cr[Rr]+br[xr]>>>0;_r=vr,vr=yr,yr=sr(gr,30)>>>0,gr=pr,pr=Cr}ur[0]=ur[0]+pr>>>0,ur[1]=ur[1]+gr>>>0,ur[2]=ur[2]+yr>>>0,ur[3]=ur[3]+vr>>>0,ur[4]=ur[4]+_r>>>0}return[ur[0]>>24&255,ur[0]>>16&255,ur[0]>>8&255,255&ur[0],ur[1]>>24&255,ur[1]>>16&255,ur[1]>>8&255,255&ur[1],ur[2]>>24&255,ur[2]>>16&255,ur[2]>>8&255,255&ur[2],ur[3]>>24&255,ur[3]>>16&255,ur[3]>>8&255,255&ur[3],ur[4]>>24&255,ur[4]>>16&255,ur[4]>>8&255,255&ur[4]]};ir.default=lr},{}],535:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar,sr=(ar=rr("./validate.js"))&&ar.__esModule?ar:{default:ar};const lr=[];for(let cr=0;cr<256;++cr)lr.push((cr+256).toString(16).substr(1));var or=function(cr){let ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const dr=(lr[cr[ur+0]]+lr[cr[ur+1]]+lr[cr[ur+2]]+lr[cr[ur+3]]+"-"+lr[cr[ur+4]]+lr[cr[ur+5]]+"-"+lr[cr[ur+6]]+lr[cr[ur+7]]+"-"+lr[cr[ur+8]]+lr[cr[ur+9]]+"-"+lr[cr[ur+10]]+lr[cr[ur+11]]+lr[cr[ur+12]]+lr[cr[ur+13]]+lr[cr[ur+14]]+lr[cr[ur+15]]).toLowerCase();if(!(0,sr.default)(dr))throw TypeError("Stringified UUID is invalid");return dr};ir.default=or},{"./validate.js":541}],536:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar=lr(rr("./rng.js")),sr=lr(rr("./stringify.js"));function lr(fr){return fr&&fr.__esModule?fr:{default:fr}}let or,cr,ur=0,dr=0;var hr=function(fr,mr,br){let pr=mr&&br||0;const gr=mr||new Array(16);let yr=(fr=fr||{}).node||or,vr=fr.clockseq!==void 0?fr.clockseq:cr;if(yr==null||vr==null){const Ir=fr.random||(fr.rng||ar.default)();yr==null&&(yr=or=[1|Ir[0],Ir[1],Ir[2],Ir[3],Ir[4],Ir[5]]),vr==null&&(vr=cr=16383&(Ir[6]<<8|Ir[7]))}let _r=fr.msecs!==void 0?fr.msecs:Date.now(),xr=fr.nsecs!==void 0?fr.nsecs:dr+1;const Rr=_r-ur+(xr-dr)/1e4;if(Rr<0&&fr.clockseq===void 0&&(vr=vr+1&16383),(Rr<0||_r>ur)&&fr.nsecs===void 0&&(xr=0),xr>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ur=_r,dr=xr,cr=vr,_r+=122192928e5;const Cr=(1e4*(268435455&_r)+xr)%4294967296;gr[pr++]=Cr>>>24&255,gr[pr++]=Cr>>>16&255,gr[pr++]=Cr>>>8&255,gr[pr++]=255&Cr;const Tr=_r/4294967296*1e4&268435455;gr[pr++]=Tr>>>8&255,gr[pr++]=255&Tr,gr[pr++]=Tr>>>24&15|16,gr[pr++]=Tr>>>16&255,gr[pr++]=vr>>>8|128,gr[pr++]=255&vr;for(let Ir=0;Ir<6;++Ir)gr[pr+Ir]=yr[Ir];return mr||(0,sr.default)(gr)};ir.default=hr},{"./rng.js":533,"./stringify.js":535}],537:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar=lr(rr("./v35.js")),sr=lr(rr("./md5.js"));function lr(cr){return cr&&cr.__esModule?cr:{default:cr}}var or=(0,ar.default)("v3",48,sr.default);ir.default=or},{"./md5.js":529,"./v35.js":538}],538:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=function(ur,dr,hr){function fr(mr,br,pr,gr){if(typeof mr=="string"&&(mr=function(vr){vr=unescape(encodeURIComponent(vr));const _r=[];for(let xr=0;xr<vr.length;++xr)_r.push(vr.charCodeAt(xr));return _r}(mr)),typeof br=="string"&&(br=(0,sr.default)(br)),br.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let yr=new Uint8Array(16+mr.length);if(yr.set(br),yr.set(mr,br.length),yr=hr(yr),yr[6]=15&yr[6]|dr,yr[8]=63&yr[8]|128,pr){gr=gr||0;for(let vr=0;vr<16;++vr)pr[gr+vr]=yr[vr];return pr}return(0,ar.default)(yr)}try{fr.name=ur}catch{}return fr.DNS=or,fr.URL=cr,fr},ir.URL=ir.DNS=void 0;var ar=lr(rr("./stringify.js")),sr=lr(rr("./parse.js"));function lr(ur){return ur&&ur.__esModule?ur:{default:ur}}const or="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ir.DNS=or;const cr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ir.URL=cr},{"./parse.js":531,"./stringify.js":535}],539:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar=lr(rr("./rng.js")),sr=lr(rr("./stringify.js"));function lr(cr){return cr&&cr.__esModule?cr:{default:cr}}var or=function(cr,ur,dr){const hr=(cr=cr||{}).random||(cr.rng||ar.default)();if(hr[6]=15&hr[6]|64,hr[8]=63&hr[8]|128,ur){dr=dr||0;for(let fr=0;fr<16;++fr)ur[dr+fr]=hr[fr];return ur}return(0,sr.default)(hr)};ir.default=or},{"./rng.js":533,"./stringify.js":535}],540:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar=lr(rr("./v35.js")),sr=lr(rr("./sha1.js"));function lr(cr){return cr&&cr.__esModule?cr:{default:cr}}var or=(0,ar.default)("v5",80,sr.default);ir.default=or},{"./sha1.js":534,"./v35.js":538}],541:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar,sr=(ar=rr("./regex.js"))&&ar.__esModule?ar:{default:ar},lr=function(or){return typeof or=="string"&&sr.default.test(or)};ir.default=lr},{"./regex.js":532}],542:[function(rr,nr,ir){Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ar,sr=(ar=rr("./validate.js"))&&ar.__esModule?ar:{default:ar},lr=function(or){if(!(0,sr.default)(or))throw TypeError("Invalid UUID");return parseInt(or.substr(14,1),16)};ir.default=lr},{"./validate.js":541}],543:[function(rr,nr,ir){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(ir,"__esModule",{value:!0}),ir.CHAR=`	
\r ---`,ir.S=` 	\r
`,ir.NAME_START_CHAR=":A-Z_a-z-----------",ir.NAME_CHAR="-"+ir.NAME_START_CHAR+".0-9--",ir.CHAR_RE=new RegExp("^["+ir.CHAR+"]$","u"),ir.S_RE=new RegExp("^["+ir.S+"]+$","u"),ir.NAME_START_CHAR_RE=new RegExp("^["+ir.NAME_START_CHAR+"]$","u"),ir.NAME_CHAR_RE=new RegExp("^["+ir.NAME_CHAR+"]$","u"),ir.NAME_RE=new RegExp("^["+ir.NAME_START_CHAR+"]["+ir.NAME_CHAR+"]*$","u"),ir.NMTOKEN_RE=new RegExp("^["+ir.NAME_CHAR+"]+$","u");function ar(sr){return sr>=65&&sr<=90||sr>=97&&sr<=122||sr===58||sr===95||sr===8204||sr===8205||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}ir.S_LIST=[32,10,13,9],ir.isChar=function(sr){return sr>=32&&sr<=55295||sr===10||sr===13||sr===9||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},ir.isS=function(sr){return sr===32||sr===10||sr===13||sr===9},ir.isNameStartChar=ar,ir.isNameChar=function(sr){return ar(sr)||sr>=48&&sr<=57||sr===45||sr===46||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}],544:[function(rr,nr,ir){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(ir,"__esModule",{value:!0}),ir.CHAR="---",ir.RESTRICTED_CHAR="-\b\v\f---",ir.S=` 	\r
`,ir.NAME_START_CHAR=":A-Z_a-z-----------",ir.NAME_CHAR="-"+ir.NAME_START_CHAR+".0-9--",ir.CHAR_RE=new RegExp("^["+ir.CHAR+"]$","u"),ir.RESTRICTED_CHAR_RE=new RegExp("^["+ir.RESTRICTED_CHAR+"]$","u"),ir.S_RE=new RegExp("^["+ir.S+"]+$","u"),ir.NAME_START_CHAR_RE=new RegExp("^["+ir.NAME_START_CHAR+"]$","u"),ir.NAME_CHAR_RE=new RegExp("^["+ir.NAME_CHAR+"]$","u"),ir.NAME_RE=new RegExp("^["+ir.NAME_START_CHAR+"]["+ir.NAME_CHAR+"]*$","u"),ir.NMTOKEN_RE=new RegExp("^["+ir.NAME_CHAR+"]+$","u");function ar(sr){return sr>=65&&sr<=90||sr>=97&&sr<=122||sr===58||sr===95||sr===8204||sr===8205||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}ir.S_LIST=[32,10,13,9],ir.isChar=function(sr){return sr>=1&&sr<=55295||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},ir.isRestrictedChar=function(sr){return sr>=1&&sr<=8||sr===11||sr===12||sr>=14&&sr<=31||sr>=127&&sr<=132||sr>=134&&sr<=159},ir.isCharAndNotRestricted=function(sr){return sr===9||sr===10||sr===13||sr>31&&sr<127||sr===133||sr>159&&sr<=55295||sr>=57344&&sr<=65533||sr>=65536&&sr<=1114111},ir.isS=function(sr){return sr===32||sr===10||sr===13||sr===9},ir.isNameStartChar=ar,ir.isNameChar=function(sr){return ar(sr)||sr>=48&&sr<=57||sr===45||sr===46||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}],545:[function(rr,nr,ir){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function ar(sr){return sr>=65&&sr<=90||sr===95||sr>=97&&sr<=122||sr>=192&&sr<=214||sr>=216&&sr<=246||sr>=248&&sr<=767||sr>=880&&sr<=893||sr>=895&&sr<=8191||sr>=8204&&sr<=8205||sr>=8304&&sr<=8591||sr>=11264&&sr<=12271||sr>=12289&&sr<=55295||sr>=63744&&sr<=64975||sr>=65008&&sr<=65533||sr>=65536&&sr<=983039}Object.defineProperty(ir,"__esModule",{value:!0}),ir.NC_NAME_START_CHAR="A-Z_a-z------------",ir.NC_NAME_CHAR="-"+ir.NC_NAME_START_CHAR+".0-9--",ir.NC_NAME_START_CHAR_RE=new RegExp("^["+ir.NC_NAME_START_CHAR+"]$","u"),ir.NC_NAME_CHAR_RE=new RegExp("^["+ir.NC_NAME_CHAR+"]$","u"),ir.NC_NAME_RE=new RegExp("^["+ir.NC_NAME_START_CHAR+"]["+ir.NC_NAME_CHAR+"]*$","u"),ir.isNCNameStartChar=ar,ir.isNCNameChar=function(sr){return ar(sr)||sr===45||sr===46||sr>=48&&sr<=57||sr===183||sr>=768&&sr<=879||sr>=8255&&sr<=8256}},{}]},{},[15])(15)})})(exceljs_min);var exceljs_minExports=exceljs_min.exports;const ExcelJS=getDefaultExportFromCjs(exceljs_minExports);var FileSaver_min={exports:{}};(function(tr,er){(function(rr,nr){nr()})(commonjsGlobal$2,function(){function rr(cr,ur){return typeof ur>"u"?ur={autoBom:!1}:typeof ur!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ur={autoBom:!ur}),ur.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(cr.type)?new Blob(["\uFEFF",cr],{type:cr.type}):cr}function nr(cr,ur,dr){var hr=new XMLHttpRequest;hr.open("GET",cr),hr.responseType="blob",hr.onload=function(){or(hr.response,ur,dr)},hr.onerror=function(){console.error("could not download file")},hr.send()}function ir(cr){var ur=new XMLHttpRequest;ur.open("HEAD",cr,!1);try{ur.send()}catch{}return 200<=ur.status&&299>=ur.status}function ar(cr){try{cr.dispatchEvent(new MouseEvent("click"))}catch{var ur=document.createEvent("MouseEvents");ur.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),cr.dispatchEvent(ur)}}var sr=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$2=="object"&&commonjsGlobal$2.global===commonjsGlobal$2?commonjsGlobal$2:void 0,lr=sr.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),or=sr.saveAs||(typeof window!="object"||window!==sr?function(){}:"download"in HTMLAnchorElement.prototype&&!lr?function(cr,ur,dr){var hr=sr.URL||sr.webkitURL,fr=document.createElement("a");ur=ur||cr.name||"download",fr.download=ur,fr.rel="noopener",typeof cr=="string"?(fr.href=cr,fr.origin===location.origin?ar(fr):ir(fr.href)?nr(cr,ur,dr):ar(fr,fr.target="_blank")):(fr.href=hr.createObjectURL(cr),setTimeout(function(){hr.revokeObjectURL(fr.href)},4e4),setTimeout(function(){ar(fr)},0))}:"msSaveOrOpenBlob"in navigator?function(cr,ur,dr){if(ur=ur||cr.name||"download",typeof cr!="string")navigator.msSaveOrOpenBlob(rr(cr,dr),ur);else if(ir(cr))nr(cr,ur,dr);else{var hr=document.createElement("a");hr.href=cr,hr.target="_blank",setTimeout(function(){ar(hr)})}}:function(cr,ur,dr,hr){if(hr=hr||open("","_blank"),hr&&(hr.document.title=hr.document.body.innerText="downloading..."),typeof cr=="string")return nr(cr,ur,dr);var fr=cr.type==="application/octet-stream",mr=/constructor/i.test(sr.HTMLElement)||sr.safari,br=/CriOS\/[\d]+/.test(navigator.userAgent);if((br||fr&&mr||lr)&&typeof FileReader<"u"){var pr=new FileReader;pr.onloadend=function(){var vr=pr.result;vr=br?vr:vr.replace(/^data:[^;]*;/,"data:attachment/file;"),hr?hr.location.href=vr:location=vr,hr=null},pr.readAsDataURL(cr)}else{var gr=sr.URL||sr.webkitURL,yr=gr.createObjectURL(cr);hr?hr.location=yr:location.href=yr,hr=null,setTimeout(function(){gr.revokeObjectURL(yr)},4e4)}});sr.saveAs=or.saveAs=or,tr.exports=or})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;function getTagTipo(tr){return isTagAsignado(tr)?tr.tipo:"solicitud"}function getTagCantidad(tr){return isTagAsignado(tr)?tr.cantidad:0}function getAllUniqueTagsByType(tr){const er=new Set,rr=new Set;return tr.forEach(nr=>{var ir;(ir=nr.tags)==null||ir.forEach(ar=>{const sr=getTagNombre(ar);if(!sr)return;getTagTipo(ar)==="stock"?rr.add(sr):er.add(sr)})}),{solicitud:Array.from(er).sort(),stock:Array.from(rr).sort()}}function getCantidadTag(tr,er){var nr;const rr=(nr=tr.tags)==null?void 0:nr.find(ir=>getTagNombre(ir)===er);return rr?getTagCantidad(rr):null}const ContextComparator=({isOpen:tr,onClose:er,repuestos:rr,isDarkMode:nr,onViewInManual:ir})=>{var Nr,Or;const[ar,sr]=reactExports.useState([]),[lr,or]=reactExports.useState(""),[cr,ur]=reactExports.useState("codigoSAP"),[dr,hr]=reactExports.useState("asc"),[fr,mr]=reactExports.useState("todos"),[br,pr]=reactExports.useState(!1),[gr,yr]=reactExports.useState(!1),vr=reactExports.useMemo(()=>getAllUniqueTagsByType(rr),[rr]);reactExports.useMemo(()=>[...vr.solicitud,...vr.stock],[vr]);const _r=reactExports.useMemo(()=>{if(ar.length===0)return[];let Pr=rr.filter(Mr=>ar.some(jr=>getCantidadTag(Mr,jr)!==null));if(lr.trim()){const Mr=lr.toLowerCase();Pr=Pr.filter(jr=>{var wr;return jr.codigoSAP.toLowerCase().includes(Mr)||jr.textoBreve.toLowerCase().includes(Mr)||((wr=jr.codigoBaader)==null?void 0:wr.toLowerCase().includes(Mr))})}if(ar.length>=2){const Mr=ar[0],jr=ar[1];switch(fr){case"con-diferencia":Pr=Pr.filter(wr=>{const Er=getCantidadTag(wr,Mr)??0,Ar=getCantidadTag(wr,jr)??0;return Er!==Ar});break;case"solo-primero":Pr=Pr.filter(wr=>{const Er=getCantidadTag(wr,Mr),Ar=getCantidadTag(wr,jr);return Er!==null&&Er>0&&(Ar===null||Ar===0)});break;case"solo-segundo":Pr=Pr.filter(wr=>{const Er=getCantidadTag(wr,Mr),Ar=getCantidadTag(wr,jr);return Ar!==null&&Ar>0&&(Er===null||Er===0)});break;case"en-ambos":Pr=Pr.filter(wr=>{const Er=getCantidadTag(wr,Mr),Ar=getCantidadTag(wr,jr);return Er!==null&&Er>0&&Ar!==null&&Ar>0});break;case"faltante-alguno":Pr=Pr.filter(wr=>{const Er=getCantidadTag(wr,Mr),Ar=getCantidadTag(wr,jr);return Er===null||Er===0||Ar===null||Ar===0});break}}return Pr.sort((Mr,jr)=>{let wr=0;switch(cr){case"codigoSAP":wr=Mr.codigoSAP.localeCompare(jr.codigoSAP);break;case"textoBreve":wr=Mr.textoBreve.localeCompare(jr.textoBreve);break;case"valorUnitario":wr=Mr.valorUnitario-jr.valorUnitario;break;case"diferencia":if(ar.length>=2){const Er=(getCantidadTag(Mr,ar[0])??0)-(getCantidadTag(Mr,ar[1])??0),Ar=(getCantidadTag(jr,ar[0])??0)-(getCantidadTag(jr,ar[1])??0);wr=Er-Ar}break;case"tag1":ar.length>=1&&(wr=(getCantidadTag(Mr,ar[0])??0)-(getCantidadTag(jr,ar[0])??0));break;case"tag2":ar.length>=2&&(wr=(getCantidadTag(Mr,ar[1])??0)-(getCantidadTag(jr,ar[1])??0));break}return dr==="asc"?wr:-wr}),Pr},[rr,ar,lr,fr,cr,dr]),xr=reactExports.useMemo(()=>{const Pr={};return ar.forEach(Mr=>{Pr[Mr]={count:0,total:0,totalUSD:0,avg:0,max:0,min:1/0}}),_r.forEach(Mr=>{ar.forEach(jr=>{const wr=getCantidadTag(Mr,jr);wr!==null&&wr>0&&(Pr[jr].count++,Pr[jr].total+=wr,Pr[jr].totalUSD+=wr*Mr.valorUnitario,Pr[jr].max=Math.max(Pr[jr].max,wr),Pr[jr].min=Math.min(Pr[jr].min,wr))})}),ar.forEach(Mr=>{Pr[Mr].avg=Pr[Mr].count>0?Pr[Mr].total/Pr[Mr].count:0,Pr[Mr].min===1/0&&(Pr[Mr].min=0)}),Pr},[_r,ar]),Rr=reactExports.useMemo(()=>{if(ar.length<2)return null;let Pr=0,Mr=0,jr=0,wr=0,Er=0;return _r.forEach(Ar=>{const Sr=getCantidadTag(Ar,ar[0])??0,Dr=getCantidadTag(Ar,ar[1])??0,Wr=Sr-Dr;Wr>0?Pr++:Wr<0?Mr++:jr++,wr+=Wr,Er+=Wr*Ar.valorUnitario}),{positivas:Pr,negativas:Mr,iguales:jr,sumDiff:wr,sumDiffUSD:Er}},[_r,ar]),Cr=Pr=>{sr(Mr=>Mr.includes(Pr)?Mr.filter(jr=>jr!==Pr):[...Mr,Pr])},Tr=Pr=>{cr===Pr?hr(Mr=>Mr==="asc"?"desc":"asc"):(ur(Pr),hr("asc"))},Ir=Pr=>cr!==Pr?jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-3 h-3 opacity-40"}):dr==="asc"?jsxRuntimeExports.jsx(ArrowUp,{className:"w-3 h-3 text-blue-500"}):jsxRuntimeExports.jsx(ArrowDown,{className:"w-3 h-3 text-blue-500"}),Lr=reactExports.useCallback(async()=>{if(ar.length<2||_r.length===0)return;const Pr=new ExcelJS.Workbook;Pr.creator="Baader 200 App - Comparador",Pr.created=new Date;const Mr=Pr.addWorksheet("Comparacin"),jr=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cod. Baader",key:"codBaader",width:14},{header:"Descripcin",key:"descripcion",width:40},{header:"Valor Unit.",key:"valorUnit",width:12},...ar.map((zr,Gr)=>({header:zr,key:`tag${Gr}`,width:18})),{header:"Diferencia",key:"diferencia",width:12},{header:"Dif. USD",key:"difUSD",width:14}];Mr.columns=jr;const wr=Mr.getRow(1);wr.font={bold:!0,color:{argb:"FFFFFFFF"}},wr.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},wr.alignment={vertical:"middle",horizontal:"center"},_r.forEach((zr,Gr)=>{const Fr=ar.map(Zr=>getCantidadTag(zr,Zr)??0),Xr=Fr.length>=2?Fr[0]-Fr[1]:0,Ur={codigoSAP:zr.codigoSAP,codBaader:zr.codigoBaader,descripcion:zr.textoBreve,valorUnit:zr.valorUnitario,diferencia:Xr,difUSD:Xr*zr.valorUnitario};ar.forEach((Zr,tn)=>{Ur[`tag${tn}`]=Fr[tn]});const Br=Mr.addRow(Ur);Gr%2===1&&(Br.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}});const Kr=Br.getCell("diferencia");Xr>0?Kr.font={color:{argb:"FF16A34A"}}:Xr<0&&(Kr.font={color:{argb:"FFDC2626"}}),Br.getCell("valorUnit").numFmt='"$"#,##0.00',Br.getCell("difUSD").numFmt='"$"#,##0.00'});const Er=Mr.addRow({codigoSAP:"",codBaader:"",descripcion:"TOTALES",valorUnit:"",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.total)||0]})),diferencia:(Rr==null?void 0:Rr.sumDiff)||0,difUSD:(Rr==null?void 0:Rr.sumDiffUSD)||0});Er.font={bold:!0},Er.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}},Er.getCell("difUSD").numFmt='"$"#,##0.00';const Ar=Pr.addWorksheet("Resumen");Ar.columns=[{header:"Mtrica",key:"metrica",width:30},...ar.map((zr,Gr)=>({header:zr,key:`tag${Gr}`,width:20}))],Ar.getRow(1).font={bold:!0},[{metrica:"Total repuestos",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.count)||0]}))},{metrica:"Total unidades",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.total)||0]}))},{metrica:"Total USD",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.totalUSD)||0]}))},{metrica:"Promedio por repuesto",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.avg.toFixed(2))||0]}))},{metrica:"Mximo",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.max)||0]}))},{metrica:"Mnimo",...Object.fromEntries(ar.map((zr,Gr)=>{var Fr;return[`tag${Gr}`,((Fr=xr[zr])==null?void 0:Fr.min)||0]}))}].forEach(zr=>Ar.addRow(zr));const Dr=await Pr.xlsx.writeBuffer(),Wr=new Blob([Dr],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),$r=ar[0].substring(0,15).replace(/[^a-zA-Z0-9]/g,"_"),Vr=ar[1].substring(0,15).replace(/[^a-zA-Z0-9]/g,"_");FileSaver_minExports.saveAs(Wr,`comparacion_${$r}_vs_${Vr}.xlsx`)},[_r,ar,xr,Rr]);return tr?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-1",children:jsxRuntimeExports.jsxs("div",{className:`${nr?"bg-gray-800 text-white":"bg-white"} rounded-xl shadow-2xl w-[98vw] max-w-[2200px] h-[96vh] overflow-hidden flex flex-col`,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${nr?"border-gray-700":"border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(GitCompare,{className:"w-6 h-6 text-blue-500"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Comparador de Contextos/Eventos"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[ar.length>=2&&jsxRuntimeExports.jsxs("button",{onClick:Lr,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",title:"Exportar comparacin a Excel",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Exportar"]}),jsxRuntimeExports.jsx("button",{onClick:er,className:`p-2 rounded-lg hover:bg-gray-100 ${nr?"hover:bg-gray-700":""}`,children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 border-b ${nr?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Selecciona 2 o ms contextos/eventos para comparar (puedes mezclar solicitudes y stock):"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:["Solicitudes (",vr.solicitud.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[vr.solicitud.map(Pr=>{const Mr=ar.includes(Pr),jr=ar.indexOf(Pr);return jsxRuntimeExports.jsxs("button",{onClick:()=>Cr(Pr),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-2
                        ${Mr?"bg-blue-500 text-white ring-2 ring-blue-300":nr?"bg-gray-700 text-gray-300 hover:bg-blue-900/50 hover:text-blue-300":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"}`,children:[Mr&&jsxRuntimeExports.jsx("span",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center text-xs font-bold",children:jr+1}),Pr]},Pr)}),vr.solicitud.length===0&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 italic",children:"No hay eventos de solicitud"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["Stock (",vr.stock.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[vr.stock.map(Pr=>{const Mr=ar.includes(Pr),jr=ar.indexOf(Pr);return jsxRuntimeExports.jsxs("button",{onClick:()=>Cr(Pr),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-2
                        ${Mr?"bg-green-500 text-white ring-2 ring-green-300":nr?"bg-gray-700 text-gray-300 hover:bg-green-900/50 hover:text-green-300":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:[Mr&&jsxRuntimeExports.jsx("span",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center text-xs font-bold",children:jr+1}),Pr]},Pr)}),vr.stock.length===0&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400 italic",children:"No hay eventos de stock"})]})]})]}),ar.length>0&&ar.length<2&&jsxRuntimeExports.jsxs("p",{className:"text-amber-500 text-sm mt-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4"}),"Selecciona al menos 2 contextos para comparar"]}),ar.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Orden de comparacin:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:ar.map((Pr,Mr)=>{const jr=vr.solicitud.includes(Pr);return jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium flex items-center gap-1
                        ${jr?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"w-4 h-4 rounded-full bg-current/20 flex items-center justify-center text-[10px]",children:Mr+1}),Pr,jsxRuntimeExports.jsx("button",{onClick:()=>sr(wr=>wr.filter(Er=>Er!==Pr)),className:"hover:text-red-500 ml-1",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})})]},Pr)})}),ar.length>0&&jsxRuntimeExports.jsx("button",{onClick:()=>sr([]),className:"text-xs text-red-500 hover:text-red-600 ml-2",children:"Limpiar todo"})]})]}),ar.length>=2&&jsxRuntimeExports.jsxs("div",{className:`p-3 border-b ${nr?"border-gray-700":"border-gray-200"} flex flex-wrap items-center gap-3`,children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buscar por cdigo o descripcin...",value:lr,onChange:Pr=>or(Pr.target.value),className:`w-full pl-9 pr-4 py-2 rounded-lg border text-sm
                  ${nr?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),lr&&jsxRuntimeExports.jsx("button",{onClick:()=>or(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>pr(!br),className:`flex items-center gap-2 px-3 py-2 rounded-lg border text-sm
                  ${fr!=="todos"?"bg-blue-50 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":nr?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`,children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),"Filtrar",fr!=="todos"&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),br&&jsxRuntimeExports.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 rounded-lg shadow-xl border z-10
                  ${nr?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:jsxRuntimeExports.jsx("div",{className:"p-2 space-y-1",children:[{value:"todos",label:"Todos los repuestos"},{value:"con-diferencia",label:"Con diferencia"},{value:"en-ambos",label:"En ambos contextos"},{value:"faltante-alguno",label:"Falta en alguno"},{value:"solo-primero",label:`Solo en ${(Nr=ar[0])==null?void 0:Nr.substring(0,20)}...`},{value:"solo-segundo",label:`Solo en ${(Or=ar[1])==null?void 0:Or.substring(0,20)}...`}].map(Pr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{mr(Pr.value),pr(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm flex items-center justify-between
                          ${fr===Pr.value?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[Pr.label,fr===Pr.value&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]},Pr.value))})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>yr(!gr),className:`flex items-center gap-2 px-3 py-2 rounded-lg border text-sm
                ${nr?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}
                ${gr?"text-blue-600":""}`,title:gr?"Vista normal":"Vista compacta",children:gr?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[_r.length," de ",rr.filter(Pr=>ar.some(Mr=>getCantidadTag(Pr,Mr)!==null)).length," repuestos"]})]}),ar.length>=2&&jsxRuntimeExports.jsx("div",{className:`p-4 border-b ${nr?"border-gray-700":"border-gray-200"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[ar.map((Pr,Mr)=>{var wr,Er,Ar;const jr=vr.solicitud.includes(Pr);return jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg min-w-[160px] ${jr?"bg-blue-50 dark:bg-blue-900/20":"bg-green-50 dark:bg-green-900/20"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold
                        ${jr?"bg-blue-500 text-white":"bg-green-500 text-white"}`,children:Mr+1}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate flex-1",title:Pr,children:Pr})]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold",children:[((wr=xr[Pr])==null?void 0:wr.count)||0," ",jsxRuntimeExports.jsx("span",{className:"text-sm font-normal",children:"repuestos"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[((Er=xr[Pr])==null?void 0:Er.total)||0," unidades"]}),jsxRuntimeExports.jsxs("p",{className:`text-sm font-medium ${jr?"text-blue-600":"text-green-600"}`,children:["$",(((Ar=xr[Pr])==null?void 0:Ar.totalUSD)||0).toLocaleString("es-CL",{minimumFractionDigits:2})]})]},Pr)}),Rr&&ar.length===2&&jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg border-2 ${nr?"bg-gray-750 border-gray-600":"bg-white border-gray-300"}`,children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx(Percent,{className:"w-3 h-3"})," Diferencias"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",Rr.positivas]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Mayor"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-500",children:Rr.iguales}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Igual"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-red-600",children:Rr.negativas}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Menor"})]})]})]}),Rr&&ar.length===2&&jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg ${Rr.sumDiff>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-3 h-3"})," Balance"]}),jsxRuntimeExports.jsxs("p",{className:`text-xl font-bold ${Rr.sumDiff>=0?"text-green-600":"text-red-600"}`,children:[Rr.sumDiff>=0?"+":"",Rr.sumDiff]}),jsxRuntimeExports.jsxs("p",{className:`text-sm ${Rr.sumDiffUSD>=0?"text-green-600":"text-red-600"}`,children:[Rr.sumDiffUSD>=0?"+":"","$",Rr.sumDiffUSD.toLocaleString("es-CL",{minimumFractionDigits:2})]})]})]})}),ar.length>=2&&jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:`sticky top-0 ${nr?"bg-gray-800":"bg-white"} z-10`,children:jsxRuntimeExports.jsxs("tr",{className:`border-b ${nr?"border-gray-700":"border-gray-200"}`,children:[ir&&jsxRuntimeExports.jsx("th",{className:"text-center p-2 font-semibold w-10",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mx-auto opacity-50"})}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 font-semibold cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>Tr("codigoSAP"),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:["Cdigo SAP ",Ir("codigoSAP")]})}),!gr&&jsxRuntimeExports.jsx("th",{className:"text-left p-2 font-semibold cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>Tr("textoBreve"),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:["Descripcin ",Ir("textoBreve")]})}),jsxRuntimeExports.jsx("th",{className:"text-right p-2 font-semibold cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>Tr("valorUnitario"),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-end gap-1",children:["Valor ",Ir("valorUnitario")]})}),ar.map((Pr,Mr)=>{const jr=vr.solicitud.includes(Pr);return jsxRuntimeExports.jsxs("th",{className:`text-center p-2 font-semibold min-w-[90px] cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700
                          ${jr?"bg-blue-50 dark:bg-blue-900/20":"bg-green-50 dark:bg-green-900/20"}`,onClick:()=>Tr(`tag${Mr+1}`),children:[jsxRuntimeExports.jsx("span",{className:"flex items-center justify-center gap-1",children:jsxRuntimeExports.jsx("span",{className:`w-4 h-4 rounded-full flex items-center justify-center text-[10px] font-bold
                            ${jr?"bg-blue-500 text-white":"bg-green-500 text-white"}`,children:Mr+1})}),jsxRuntimeExports.jsx("span",{className:"text-xs block truncate opacity-70",title:Pr,children:Pr.substring(0,15)})]},Pr)}),ar.length===2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("th",{className:"text-center p-2 font-semibold cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>Tr("diferencia"),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-1",children:["Dif. ",Ir("diferencia")]})}),!gr&&jsxRuntimeExports.jsx("th",{className:"text-center p-2 font-semibold",children:"Dif. USD"})]})]})}),jsxRuntimeExports.jsx("tbody",{children:_r.map((Pr,Mr)=>{const jr=ar.map(Ar=>getCantidadTag(Pr,Ar)??0),wr=ar.length===2?jr[0]-jr[1]:0,Er=wr*Pr.valorUnitario;return jsxRuntimeExports.jsxs("tr",{className:`border-b ${nr?"border-gray-700":"border-gray-100"} 
                        ${Mr%2===1?nr?"bg-gray-750":"bg-gray-50":""}
                        hover:bg-blue-50 dark:hover:bg-blue-900/10`,children:[ir&&jsxRuntimeExports.jsx("td",{className:"p-1 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>ir(Pr),className:"p-1 rounded hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-500 hover:text-blue-700 transition-colors",title:"Ver en manual",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"})})}),jsxRuntimeExports.jsx("td",{className:"p-2 font-mono text-xs",children:Pr.codigoSAP}),!gr&&jsxRuntimeExports.jsx("td",{className:"p-2 truncate max-w-[200px]",title:Pr.textoBreve,children:Pr.textoBreve}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right text-xs",children:["$",Pr.valorUnitario.toFixed(2)]}),ar.map((Ar,Sr)=>{const Dr=getCantidadTag(Pr,Ar),Wr=Dr===null||Dr===0,$r=vr.solicitud.includes(Ar);return jsxRuntimeExports.jsx("td",{className:`p-2 text-center font-medium
                              ${Wr?"text-gray-300 dark:text-gray-600":""}
                              ${!Wr&&$r?"text-blue-600":""}
                              ${!Wr&&!$r?"text-green-600":""}
                            `,children:Wr?jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4 mx-auto opacity-30"}):Dr},Ar)}),ar.length===2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("td",{className:`p-2 text-center font-bold
                            ${wr>0?"text-green-600":wr<0?"text-red-600":"text-gray-400"}
                          `,children:wr>0?`+${wr}`:wr===0?"=":wr}),!gr&&jsxRuntimeExports.jsx("td",{className:`p-2 text-center text-xs
                              ${Er>0?"text-green-600":Er<0?"text-red-600":"text-gray-400"}
                            `,children:Er!==0?`${Er>0?"+":""}$${Er.toFixed(2)}`:"-"})]})]},Pr.id)})}),jsxRuntimeExports.jsx("tfoot",{className:`sticky bottom-0 ${nr?"bg-gray-800":"bg-white"} font-bold border-t-2 ${nr?"border-gray-600":"border-gray-300"}`,children:jsxRuntimeExports.jsxs("tr",{children:[ir&&jsxRuntimeExports.jsx("td",{}),jsxRuntimeExports.jsxs("td",{className:"p-2",colSpan:gr?2:3,children:["TOTALES (",_r.length,")"]}),ar.map(Pr=>{var Mr;return jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:((Mr=xr[Pr])==null?void 0:Mr.total)||0},Pr)}),ar.length===2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("td",{className:`p-2 text-center ${((Rr==null?void 0:Rr.sumDiff)||0)>=0?"text-green-600":"text-red-600"}`,children:[((Rr==null?void 0:Rr.sumDiff)||0)>=0?"+":"",(Rr==null?void 0:Rr.sumDiff)||0]}),!gr&&jsxRuntimeExports.jsxs("td",{className:`p-2 text-center ${((Rr==null?void 0:Rr.sumDiffUSD)||0)>=0?"text-green-600":"text-red-600"}`,children:["$",((Rr==null?void 0:Rr.sumDiffUSD)||0).toLocaleString("es-CL",{minimumFractionDigits:2})]})]})]})})]}),_r.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:lr||fr!=="todos"?"No hay repuestos que coincidan con los filtros":"No hay repuestos con los contextos seleccionados"})]}),ar.length<2&&jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500",children:[jsxRuntimeExports.jsx(GitCompare,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-lg",children:"Selecciona al menos 2 contextos/eventos arriba"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"para ver la comparacin lado a lado"})]})}),jsxRuntimeExports.jsxs("div",{className:`p-4 border-t ${nr?"border-gray-700":"border-gray-200"} flex justify-between items-center`,children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[jsxRuntimeExports.jsxs("span",{children:[_r.length," repuestos en comparacin"]}),lr&&jsxRuntimeExports.jsxs("span",{className:"text-blue-500",children:['Filtrado: "',lr,'"']}),fr!=="todos"&&jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"Filtro activo"})]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cerrar"})]})]})}):null};function ImportModal({isOpen:tr,onClose:er,onImport:rr}){const[nr,ir]=reactExports.useState(null),[ar,sr]=reactExports.useState([]),[lr,or]=reactExports.useState(!1),[cr,ur]=reactExports.useState(!1),[dr,hr]=reactExports.useState(null),fr=reactExports.useRef(null),mr=async vr=>{or(!0),hr(null);try{const _r=await vr.arrayBuffer(),xr=new ExcelJS.Workbook;await xr.xlsx.load(_r);const Rr=xr.worksheets[0];if(!Rr)throw new Error("No se encontr ninguna hoja en el archivo");const Cr=[];Rr.getRow(1).eachCell((Ir,Lr)=>{Cr[Lr]=String(Ir.value||"").trim()});const Tr=[];Rr.eachRow((Ir,Lr)=>{if(Lr===1)return;const Nr={};Ir.eachCell((Pr,Mr)=>{const jr=Cr[Mr];jr&&(Nr[jr]=Pr.value)});const Or={codigoSAP:String(Nr["Cdigo SAP"]||Nr["CODIGO SAP"]||Nr.Material||""),textoBreve:String(Nr["Texto Breve"]||Nr["TEXTO BREVE"]||Nr.Descripcin||Nr.Descripcion||""),codigoBaader:String(Nr["Cdigo Baader"]||Nr["CODIGO BAADER"]||Nr["Cdigo proveedor"]||Nr["N Parte"]||""),cantidadSolicitada:Number(Nr.Cantidad||Nr["Cant."]||Nr["Cantidad Solicitada"]||0),valorUnitario:Number(Nr["Valor Unitario"]||Nr.Precio||Nr["Valor Unit."]||Nr.USD||0),cantidadStockBodega:Number(Nr.Stock||Nr["Stock Bodega"]||0)};(Or.codigoSAP||Or.codigoBaader)&&Tr.push(Or)}),sr(Tr),ir(vr)}catch(_r){console.error("Error al parsear Excel:",_r),hr("Error al leer el archivo Excel. Verifica que el formato sea correcto.")}finally{or(!1)}},br=vr=>{var xr;const _r=(xr=vr.target.files)==null?void 0:xr[0];_r&&mr(_r)},pr=vr=>{vr.preventDefault();const _r=vr.dataTransfer.files[0];_r&&(_r.name.endsWith(".xlsx")||_r.name.endsWith(".xls"))?mr(_r):hr("Por favor selecciona un archivo Excel (.xlsx o .xls)")},gr=async()=>{if(ar.length!==0){ur(!0);try{await rr(ar),er(),ir(null),sr([])}catch{hr("Error al importar los datos")}finally{ur(!1)}}},yr=()=>{ir(null),sr([]),hr(null),fr.current&&(fr.current.value="")};return jsxRuntimeExports.jsx(Modal,{isOpen:tr,onClose:er,title:"Importar Repuestos desde Excel",size:"xl",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[!nr&&jsxRuntimeExports.jsxs("div",{onDrop:pr,onDragOver:vr=>vr.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var vr;return(vr=fr.current)==null?void 0:vr.click()},children:[jsxRuntimeExports.jsx("input",{ref:fr,type:"file",accept:".xlsx,.xls",onChange:br,className:"hidden"}),lr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 mx-auto text-primary-600 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-2",children:"Arrastra tu archivo Excel aqu o haz clic para seleccionar"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Formatos aceptados: .xlsx, .xls"})]})]}),dr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{children:dr})]}),ar.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[ar.length," repuestos encontrados"]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:yr,children:"Cambiar archivo"})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 sticky top-0",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"SAP"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Baader"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Descripcin"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Cant."}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"USD"})]})}),jsxRuntimeExports.jsx("tbody",{children:ar.slice(0,20).map((vr,_r)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-100",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:vr.codigoSAP}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 font-mono text-xs text-primary-600",children:vr.codigoBaader}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 truncate max-w-[200px]",children:vr.textoBreve}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right",children:vr.cantidadSolicitada}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-right",children:["$",vr.valorUnitario.toFixed(2)]})]},_r))})]}),ar.length>20&&jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50 border-t",children:["... y ",ar.length-20," ms"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Mapeo de columnas detectado:"}),jsxRuntimeExports.jsxs("ul",{className:"text-blue-700 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:' Cdigo SAP: "Cdigo SAP", "Material"'}),jsxRuntimeExports.jsx("li",{children:' Cdigo Baader: "Cdigo Baader", "Cdigo proveedor", "N Parte"'}),jsxRuntimeExports.jsx("li",{children:' Descripcin: "Texto Breve", "Descripcin"'}),jsxRuntimeExports.jsx("li",{children:' Cantidad: "Cantidad", "Cant."'}),jsxRuntimeExports.jsx("li",{children:' Valor: "Valor Unitario", "Precio", "USD"'})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:er,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button,{onClick:gr,disabled:ar.length===0,loading:cr,icon:jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),children:["Importar ",ar.length," repuestos"]})]})]})})}function StatsPanel({repuestos:tr}){const[er,rr]=reactExports.useState(null),[nr,ir]=reactExports.useState("valorTotal"),[ar,sr]=reactExports.useState("desc"),[lr,or]=reactExports.useState(10),cr=reactExports.useMemo(()=>{var _r;if(!er)return null;for(const xr of tr){const Rr=(_r=xr.tags)==null?void 0:_r.find(Cr=>isTagAsignado(Cr)&&Cr.nombre===er);if(Rr&&isTagAsignado(Rr))return Rr.tipo}return null},[er,tr]),ur=_r=>{var Rr;if(!er)return 0;const xr=(Rr=_r.tags)==null?void 0:Rr.find(Cr=>(isTagAsignado(Cr)?Cr.nombre:Cr)===er);return xr?isTagAsignado(xr)?xr.cantidad||0:(_r.cantidadSolicitada||0)+(_r.cantidadStockBodega||0):0},dr=reactExports.useMemo(()=>er?tr.filter(_r=>{var Rr;const xr=(Rr=_r.tags)==null?void 0:Rr.find(Cr=>(isTagAsignado(Cr)?Cr.nombre:Cr)===er);return xr?isTagAsignado(xr)?(xr.cantidad||0)>0:!0:!1}):tr,[tr,er]),hr=reactExports.useMemo(()=>{const _r=er?dr.reduce((Ar,Sr)=>Ar+Sr.valorUnitario*ur(Sr),0):0,xr=er?dr.reduce((Ar,Sr)=>Ar+ur(Sr),0):0,Rr=cr==="solicitud"?_r:0,Cr=cr==="stock"?_r:0,Tr=_r,Ir=cr==="solicitud"?xr:0,Lr=cr==="stock"?xr:0,Nr=dr.length>0?dr.reduce((Ar,Sr)=>Ar+(Sr.valorUnitario||0),0)/dr.length:0,Or=dr.length>0?Math.max(...dr.map(Ar=>Ar.valorUnitario||0)):0,Pr=dr.filter(Ar=>Ar.valorUnitario>0).length>0?Math.min(...dr.filter(Ar=>Ar.valorUnitario>0).map(Ar=>Ar.valorUnitario)):0,Mr=er?dr.filter(Ar=>ur(Ar)>0).length:dr.filter(Ar=>Ar.cantidadStockBodega>0).length,jr=er?dr.filter(Ar=>ur(Ar)===0).length:dr.filter(Ar=>Ar.cantidadStockBodega===0).length,wr=dr.filter(Ar=>{var Sr,Dr;return(((Sr=Ar.imagenesManual)==null?void 0:Sr.length)||0)>0||(((Dr=Ar.fotosReales)==null?void 0:Dr.length)||0)>0}).length,Er=dr.filter(Ar=>{var Sr;return(((Sr=Ar.vinculosManual)==null?void 0:Sr.length)||0)>0}).length;return{totalSolicitadoUSD:Rr,totalStockUSD:Cr,totalGeneralUSD:Tr,totalUnidades:Ir,totalStock:Lr,promedioValorUnitario:Nr,maxValorUnitario:Or,minValorUnitario:Pr,conStock:Mr,sinStock:jr,conImagenes:wr,conMarcador:Er,total:dr.length}},[dr,er]),fr=reactExports.useMemo(()=>{const _r=new Map;return tr.forEach(xr=>{(xr.tags||[]).forEach(Rr=>{const Cr=getTagNombre(Rr),Tr=_r.get(Cr)||{count:0,totalValor:0,unidades:0,tipo:"mixto"};let Ir=0,Lr="mixto";if(isTagAsignado(Rr)?(Lr=Rr.tipo,Ir=Rr.cantidad||0):Ir=(xr.cantidadSolicitada||0)+(xr.cantidadStockBodega||0),Ir===0)return;const Nr=Tr.count===0||Tr.tipo===Lr?Lr:"mixto";_r.set(Cr,{count:Tr.count+1,totalValor:Tr.totalValor+xr.valorUnitario*Ir,unidades:Tr.unidades+Ir,tipo:Nr})})}),Array.from(_r.entries()).map(([xr,Rr])=>({tag:xr,...Rr})).sort((xr,Rr)=>Rr.totalValor-xr.totalValor)},[tr]),mr=reactExports.useMemo(()=>[...dr].sort((xr,Rr)=>{let Cr=0,Tr=0;switch(nr){case"valorTotal":er?(Cr=xr.valorUnitario*ur(xr),Tr=Rr.valorUnitario*ur(Rr)):(Cr=xr.valorUnitario*xr.cantidadSolicitada+xr.valorUnitario*(xr.cantidadStockBodega||0),Tr=Rr.valorUnitario*Rr.cantidadSolicitada+Rr.valorUnitario*(Rr.cantidadStockBodega||0));break;case"valorUnitario":Cr=xr.valorUnitario||0,Tr=Rr.valorUnitario||0;break;case"cantidad":case"stock":Cr=er?ur(xr):xr.cantidadSolicitada||0,Tr=er?ur(Rr):Rr.cantidadSolicitada||0;break}return ar==="desc"?Tr-Cr:Cr-Tr}).slice(0,lr),[dr,nr,ar,lr,er]),br=reactExports.useMemo(()=>{const _r=new Set;return tr.forEach(xr=>{var Rr;return(Rr=xr.tags)==null?void 0:Rr.forEach(Cr=>_r.add(getTagNombre(Cr)))}),[...TAGS_PREDEFINIDOS,...Array.from(_r).filter(xr=>!TAGS_PREDEFINIDOS.includes(xr))]},[tr]),pr=_r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(_r),gr=_r=>new Intl.NumberFormat("es-CL").format(_r),yr=(_r,xr)=>xr>0?Math.max(5,_r/xr*100):0,vr=mr.length>0?Math.max(...mr.map(_r=>er?_r.valorUnitario*ur(_r):_r.valorUnitario*_r.cantidadSolicitada+_r.valorUnitario*(_r.cantidadStockBodega||0))):0;return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:jsxRuntimeExports.jsx(ChartColumn,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Estadsticas"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:er?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Tag,{className:"w-3 h-3"})," Contexto: ",jsxRuntimeExports.jsx("span",{className:"font-medium text-primary-600",children:er})]}):jsxRuntimeExports.jsx("span",{className:"text-amber-600",children:" Selecciona un tag/evento para ver cantidades"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{value:er||"",onChange:_r=>rr(_r.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Seleccionar contexto --"}),br.map(_r=>jsxRuntimeExports.jsx("option",{value:_r,children:_r},_r))]}),er&&jsxRuntimeExports.jsx("button",{onClick:()=>rr(null),className:"p-2 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[!er&&jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Sin contexto seleccionado"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'Selecciona un tag/evento en el filtro superior para ver las cantidades y valores asociados a ese evento especfico (ej: "Solicitud Dic 2025" o "Stock Bodega Dic 2025").'})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-xl p-5 shadow-sm border ${er?"border-blue-200":"border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${er?"bg-blue-100":"bg-gray-100"}`,children:jsxRuntimeExports.jsx(ShoppingCart,{className:`w-5 h-5 ${er?"text-blue-600":"text-gray-400"}`})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Solicitado"})]}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold ${er?"text-blue-700":"text-gray-400"}`,children:er?pr(hr.totalSolicitadoUSD):"--"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:er?` (Valor  Cant. en "${er}")`:"Selecciona un contexto"})]}),jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-xl p-5 shadow-sm border ${er?"border-green-200":"border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${er?"bg-green-100":"bg-gray-100"}`,children:jsxRuntimeExports.jsx(Package,{className:`w-5 h-5 ${er?"text-green-600":"text-gray-400"}`})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Stock"})]}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold ${er?"text-green-700":"text-gray-400"}`,children:er?pr(hr.totalStockUSD):"--"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2 italic",children:er?` (Valor  Stock en "${er}")`:"Selecciona un contexto"})]}),jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-xl p-5 shadow-sm border ${er?"border-purple-200":"border-gray-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${er?"bg-purple-100":"bg-gray-100"}`,children:jsxRuntimeExports.jsx(DollarSign,{className:`w-5 h-5 ${er?"text-purple-600":"text-gray-400"}`})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total General"})]}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold ${er?"text-purple-700":"text-gray-400"}`,children:er?pr(hr.totalGeneralUSD):"--"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Solicitado + Stock"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${er?"bg-amber-100":"bg-gray-100"}`,children:jsxRuntimeExports.jsx(Package,{className:`w-5 h-5 ${er?"text-amber-600":"text-gray-400"}`})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unidades"})]}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-bold ${er?"text-gray-900":"text-gray-400"}`,children:er?`${gr(hr.totalUnidades)} / ${gr(hr.totalStock)}`:"-- / --"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Solicitadas / Stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-teal-100 rounded-lg",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-teal-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Con Stock"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:hr.conStock}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["de ",hr.total," tems"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-amber-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Promedio Unitario"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:pr(hr.promedioValorUnitario)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Rango: ",pr(hr.minValorUnitario)," - ",pr(hr.maxValorUnitario)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:hr.conStock}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Con stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:hr.sinStock}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Sin stock"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(ChartPie,{className:"w-5 h-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:hr.conImagenes}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Con imgenes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-amber-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-gray-900",children:hr.conMarcador}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Marcados en PDF"})]})]})]}),fr.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800",children:"Distribucin por Tags/Eventos"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:fr.map(({tag:_r,count:xr,totalValor:Rr,unidades:Cr,tipo:Tr})=>{var Ir;return jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>rr(er===_r?null:_r),className:`text-sm font-medium hover:text-primary-600 transition-colors flex items-center gap-2 ${er===_r?"text-primary-600":"text-gray-700"}`,children:[_r,er===_r&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:[xr," tems"]}),jsxRuntimeExports.jsx("span",{className:`text-xs flex items-center gap-1 ${Tr==="solicitud"?"text-blue-600":Tr==="stock"?"text-green-600":"text-gray-600"}`,children:Tr==="solicitud"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ShoppingCart,{className:"w-3 h-3"})," ",Cr," sol."]}):Tr==="stock"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Package,{className:"w-3 h-3"})," ",Cr," stk."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Cr," uds."]})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:pr(Rr)})]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full transition-all ${Tr==="solicitud"?"bg-blue-500":Tr==="stock"?"bg-green-500":"bg-gray-500"}`,style:{width:`${yr(Rr,((Ir=fr[0])==null?void 0:Ir.totalValor)||1)}%`},title:`${Tr==="solicitud"?"Solicitado":Tr==="stock"?"Stock":"Total"}: ${pr(Rr)}`})})]},_r)})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"})," Solicitudes"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"})," Stock"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-primary-600"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-800",children:"Top Repuestos"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("select",{value:nr,onChange:_r=>ir(_r.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:"valorTotal",children:"Por Valor Total"}),jsxRuntimeExports.jsx("option",{value:"valorUnitario",children:"Por Valor Unitario"}),jsxRuntimeExports.jsx("option",{value:"cantidad",children:"Por Cantidad"}),jsxRuntimeExports.jsx("option",{value:"stock",children:"Por Stock"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(ar==="desc"?"asc":"desc"),className:`p-2 rounded-lg border border-gray-300 hover:bg-gray-50 ${ar==="desc"?"text-primary-600":"text-gray-400"}`,title:ar==="desc"?"Mayor a menor":"Menor a mayor",children:jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("select",{value:lr,onChange:_r=>or(Number(_r.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[jsxRuntimeExports.jsx("option",{value:5,children:"Top 5"}),jsxRuntimeExports.jsx("option",{value:10,children:"Top 10"}),jsxRuntimeExports.jsx("option",{value:20,children:"Top 20"}),jsxRuntimeExports.jsx("option",{value:50,children:"Top 50"}),jsxRuntimeExports.jsx("option",{value:9999,children:"Todos"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:mr.map((_r,xr)=>{const Rr=er?ur(_r):0,Cr=er?_r.valorUnitario*Rr:_r.valorUnitario*_r.cantidadSolicitada+_r.valorUnitario*(_r.cantidadStockBodega||0),Tr=nr==="valorTotal"?Cr:nr==="valorUnitario"?_r.valorUnitario:Rr;return jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                      ${xr<3?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-500"}
                    `,children:xr+1}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:_r.codigoSAP}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-800 truncate",children:_r.descripcion||_r.textoBreve})]})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-bold ${er||nr==="valorUnitario"?"text-gray-900":"text-gray-400"}`,children:er||nr==="valorUnitario"?nr==="cantidad"||nr==="stock"?gr(Tr||0):pr(Tr||0):"--"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:er?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Rr," ",cr==="solicitud"?"sol.":"stk."," + $",pr(Cr)]}):nr==="valorUnitario"?`Unit: ${pr(_r.valorUnitario)}`:"Selecciona contexto"})]})]}),jsxRuntimeExports.jsx("div",{className:"ml-9 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full rounded-full transition-all ${xr===0?"bg-primary-600":xr===1?"bg-primary-500":xr===2?"bg-primary-400":"bg-primary-300"}`,style:{width:`${yr(Tr||0,vr)}%`}})})]},_r.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" Resumen ",er?`- ${er}`:"Rpido"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:er?"Total del evento":"Inversin total"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:er?pr(hr.totalGeneralUSD):"--"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:"Repuesto ms costoso (unit.)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:pr(hr.maxValorUnitario)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-primary-200",children:er?"Items en este evento":"Total items"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:hr.total})]})]})]})]})]})}function r(tr){var er,rr,nr="";if(typeof tr=="string"||typeof tr=="number")nr+=tr;else if(typeof tr=="object")if(Array.isArray(tr)){var ir=tr.length;for(er=0;er<ir;er++)tr[er]&&(rr=r(tr[er]))&&(nr&&(nr+=" "),nr+=rr)}else for(rr in tr)tr[rr]&&(nr&&(nr+=" "),nr+=rr);return nr}function clsx(){for(var tr,er,rr=0,nr="",ir=arguments.length;rr<ir;rr++)(tr=arguments[rr])&&(er=r(tr))&&(nr&&(nr+=" "),nr+=er);return nr}var isArray$e=Array.isArray,isArray_1=isArray$e,freeGlobal$1=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(tr){var er=hasOwnProperty$a.call(tr,symToStringTag$1),rr=tr[symToStringTag$1];try{tr[symToStringTag$1]=void 0;var nr=!0}catch{}var ir=nativeObjectToString$1.call(tr);return nr&&(er?tr[symToStringTag$1]=rr:delete tr[symToStringTag$1]),ir}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(tr){return nativeObjectToString.call(tr)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(tr){return tr==null?tr===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tr)?getRawTag(tr):objectToString(tr)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(tr){return tr!=null&&typeof tr=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(tr){return typeof tr=="symbol"||isObjectLike$8(tr)&&baseGetTag$8(tr)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$d=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(tr,er){if(isArray$d(tr))return!1;var rr=typeof tr;return rr=="number"||rr=="symbol"||rr=="boolean"||tr==null||isSymbol$5(tr)?!0:reIsPlainProp.test(tr)||!reIsDeepProp.test(tr)||er!=null&&tr in Object(er)}var _isKey=isKey$3;function isObject$7(tr){var er=typeof tr;return tr!=null&&(er=="object"||er=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(tr){if(!isObject$6(tr))return!1;var er=baseGetTag$7(tr);return er==funcTag$1||er==genTag||er==asyncTag||er==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var tr=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return tr?"Symbol(src)_1."+tr:""}();function isMasked$1(tr){return!!maskSrcKey&&maskSrcKey in tr}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(tr){if(tr!=null){try{return funcToString$2.call(tr)}catch{}try{return tr+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tr){if(!isObject$5(tr)||isMasked(tr))return!1;var er=isFunction$1(tr)?reIsNative:reIsHostCtor;return er.test(toSource$1(tr))}var _baseIsNative=baseIsNative$1;function getValue$1(tr,er){return tr==null?void 0:tr[er]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(tr,er){var rr=getValue(tr,er);return baseIsNative(rr)?rr:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tr){var er=this.has(tr)&&delete this.__data__[tr];return this.size-=er?1:0,er}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(tr){var er=this.__data__;if(nativeCreate$2){var rr=er[tr];return rr===HASH_UNDEFINED$2?void 0:rr}return hasOwnProperty$8.call(er,tr)?er[tr]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(tr){var er=this.__data__;return nativeCreate$1?er[tr]!==void 0:hasOwnProperty$7.call(er,tr)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tr,er){var rr=this.__data__;return this.size+=this.has(tr)?0:1,rr[tr]=nativeCreate&&er===void 0?HASH_UNDEFINED$1:er,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(tr,er){return tr===er||tr!==tr&&er!==er}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(tr,er){for(var rr=tr.length;rr--;)if(eq$2(tr[rr][0],er))return rr;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(tr){var er=this.__data__,rr=assocIndexOf$3(er,tr);if(rr<0)return!1;var nr=er.length-1;return rr==nr?er.pop():splice.call(er,rr,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tr){var er=this.__data__,rr=assocIndexOf$2(er,tr);return rr<0?void 0:er[rr][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tr){return assocIndexOf$1(this.__data__,tr)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tr,er){var rr=this.__data__,nr=assocIndexOf(rr,tr);return nr<0?(++this.size,rr.push([tr,er])):rr[nr][1]=er,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tr){var er=typeof tr;return er=="string"||er=="number"||er=="symbol"||er=="boolean"?tr!=="__proto__":tr===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tr,er){var rr=tr.__data__;return isKeyable(er)?rr[typeof er=="string"?"string":"hash"]:rr.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tr){var er=getMapData$3(this,tr).delete(tr);return this.size-=er?1:0,er}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tr){return getMapData$2(this,tr).get(tr)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tr){return getMapData$1(this,tr).has(tr)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tr,er){var rr=getMapData(this,tr),nr=rr.size;return rr.set(tr,er),this.size+=rr.size==nr?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(tr,er){if(typeof tr!="function"||er!=null&&typeof er!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var rr=function(){var nr=arguments,ir=er?er.apply(this,nr):nr[0],ar=rr.cache;if(ar.has(ir))return ar.get(ir);var sr=tr.apply(this,nr);return rr.cache=ar.set(ir,sr)||ar,sr};return rr.cache=new(memoize$2.Cache||MapCache$2),rr}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(tr){var er=memoize$1(tr,function(nr){return rr.size===MAX_MEMOIZE_SIZE&&rr.clear(),nr}),rr=er.cache;return er}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(tr){var er=[];return tr.charCodeAt(0)===46&&er.push(""),tr.replace(rePropName,function(rr,nr,ir,ar){er.push(ir?ar.replace(reEscapeChar,"$1"):nr||rr)}),er}),_stringToPath=stringToPath$1;function arrayMap$3(tr,er){for(var rr=-1,nr=tr==null?0:tr.length,ir=Array(nr);++rr<nr;)ir[rr]=er(tr[rr],rr,tr);return ir}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$c=isArray_1,isSymbol$4=isSymbol_1,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(tr){if(typeof tr=="string")return tr;if(isArray$c(tr))return arrayMap$2(tr,baseToString$1)+"";if(isSymbol$4(tr))return symbolToString?symbolToString.call(tr):"";var er=tr+"";return er=="0"&&1/tr==-1/0?"-0":er}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(tr){return tr==null?"":baseToString(tr)}var toString_1=toString$4,isArray$b=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$3=toString_1;function castPath$2(tr,er){return isArray$b(tr)?tr:isKey$2(tr,er)?[tr]:stringToPath(toString$3(tr))}var _castPath=castPath$2,isSymbol$3=isSymbol_1;function toKey$4(tr){if(typeof tr=="string"||isSymbol$3(tr))return tr;var er=tr+"";return er=="0"&&1/tr==-1/0?"-0":er}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(tr,er){er=castPath$1(er,tr);for(var rr=0,nr=er.length;tr!=null&&rr<nr;)tr=tr[toKey$3(er[rr++])];return rr&&rr==nr?tr:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(tr,er,rr){var nr=tr==null?void 0:baseGet$2(tr,er);return nr===void 0?rr:nr}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(tr){return tr==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$a=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(tr){return typeof tr=="string"||!isArray$a(tr)&&isObjectLike$7(tr)&&baseGetTag$6(tr)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1(tr){if(typeof tr=="object"&&tr!==null){var er=tr.$$typeof;switch(er){case b$1:switch(tr=tr.type,tr){case d$1:case f$1:case e:case m$1:case n$1:return tr;default:switch(tr=tr&&tr.$$typeof,tr){case k$2:case h$1:case l$1:case q$1:case p$1:case g$1:return tr;default:return er}}case c$2:return er}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l$1;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$1;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c$2;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(tr){return v$1(tr)===h$1};reactIs_production_min.isContextProvider=function(tr){return v$1(tr)===g$1};reactIs_production_min.isElement=function(tr){return typeof tr=="object"&&tr!==null&&tr.$$typeof===b$1};reactIs_production_min.isForwardRef=function(tr){return v$1(tr)===l$1};reactIs_production_min.isFragment=function(tr){return v$1(tr)===d$1};reactIs_production_min.isLazy=function(tr){return v$1(tr)===q$1};reactIs_production_min.isMemo=function(tr){return v$1(tr)===p$1};reactIs_production_min.isPortal=function(tr){return v$1(tr)===c$2};reactIs_production_min.isProfiler=function(tr){return v$1(tr)===f$1};reactIs_production_min.isStrictMode=function(tr){return v$1(tr)===e};reactIs_production_min.isSuspense=function(tr){return v$1(tr)===m$1};reactIs_production_min.isSuspenseList=function(tr){return v$1(tr)===n$1};reactIs_production_min.isValidElementType=function(tr){return typeof tr=="string"||typeof tr=="function"||tr===d$1||tr===f$1||tr===e||tr===m$1||tr===n$1||tr===t||typeof tr=="object"&&tr!==null&&(tr.$$typeof===q$1||tr.$$typeof===p$1||tr.$$typeof===g$1||tr.$$typeof===h$1||tr.$$typeof===l$1||tr.$$typeof===u$1||tr.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(tr){return typeof tr=="number"||isObjectLike$6(tr)&&baseGetTag$5(tr)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(tr){return isNumber$1(tr)&&tr!=+tr}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function tr(er){return er===0?0:er>0?1:-1},isPercent=function tr(er){return isString$1(er)&&er.indexOf("%")===er.length-1},isNumber=function tr(er){return isNumber$3(er)&&!isNan(er)},isNullish=function tr(er){return isNil$1(er)},isNumOrStr=function tr(er){return isNumber(er)||isString$1(er)},idCounter=0,uniqueId=function tr(er){var rr=++idCounter;return"".concat(er||"").concat(rr)},getPercentValue=function tr(er,rr){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(er)&&!isString$1(er))return nr;var ar;if(isPercent(er)){var sr=er.indexOf("%");ar=rr*parseFloat(er.slice(0,sr))/100}else ar=+er;return isNan(ar)&&(ar=nr),ir&&ar>rr&&(ar=rr),ar},getAnyElementOfObject=function tr(er){if(!er)return null;var rr=Object.keys(er);return rr&&rr.length?er[rr[0]]:null},hasDuplicate=function tr(er){if(!Array.isArray(er))return!1;for(var rr=er.length,nr={},ir=0;ir<rr;ir++)if(!nr[er[ir]])nr[er[ir]]=!0;else return!0;return!1},interpolateNumber$2=function tr(er,rr){return isNumber(er)&&isNumber(rr)?function(nr){return er+nr*(rr-er)}:function(){return rr}};function findEntryInArray(tr,er,rr){return!tr||!tr.length?null:tr.find(function(nr){return nr&&(typeof er=="function"?er(nr):get$2(nr,er))===rr})}var getLinearRegression=function tr(er){if(!er||!er.length)return null;for(var rr=er.length,nr=0,ir=0,ar=0,sr=0,lr=1/0,or=-1/0,cr=0,ur=0,dr=0;dr<rr;dr++)cr=er[dr].cx||0,ur=er[dr].cy||0,nr+=cr,ir+=ur,ar+=cr*ur,sr+=cr*cr,lr=Math.min(lr,cr),or=Math.max(or,cr);var hr=rr*sr!==nr*nr?(rr*ar-nr*ir)/(rr*sr-nr*nr):0;return{xmin:lr,xmax:or,a:hr,b:(ir-hr*nr)/rr}},compareValues=function tr(er,rr){return isNumber(er)&&isNumber(rr)?er-rr:isString$1(er)&&isString$1(rr)?er.localeCompare(rr):er instanceof Date&&rr instanceof Date?er.getTime()-rr.getTime():String(er).localeCompare(String(rr))};function shallowEqual(tr,er){for(var rr in tr)if({}.hasOwnProperty.call(tr,rr)&&(!{}.hasOwnProperty.call(er,rr)||tr[rr]!==er[rr]))return!1;for(var nr in er)if({}.hasOwnProperty.call(er,nr)&&!{}.hasOwnProperty.call(tr,nr))return!1;return!0}function _typeof$P(tr){"@babel/helpers - typeof";return _typeof$P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$P(tr)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function tr(er,rr){if(!er||typeof er=="function"||typeof er=="boolean")return null;var nr=er;if(reactExports.isValidElement(er)&&(nr=er.props),!isObject$8(nr))return null;var ir={};return Object.keys(nr).forEach(function(ar){EventKeys.includes(ar)&&(ir[ar]=rr||function(sr){return nr[ar](nr,sr)})}),ir},getEventHandlerOfChild=function tr(er,rr,nr){return function(ir){return er(rr,nr,ir),null}},adaptEventsOfChild=function tr(er,rr,nr){if(!isObject$8(er)||_typeof$P(er)!=="object")return null;var ir=null;return Object.keys(er).forEach(function(ar){var sr=er[ar];EventKeys.includes(ar)&&typeof sr=="function"&&(ir||(ir={}),ir[ar]=getEventHandlerOfChild(sr,rr,nr))}),ir},_excluded$l=["children"],_excluded2$8=["children"];function _objectWithoutProperties$l(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$l(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$l(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _typeof$O(tr){"@babel/helpers - typeof";return _typeof$O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$O(tr)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function tr(er){return typeof er=="string"?er:er?er.displayName||er.name||"Component":""},lastChildren=null,lastResult=null,toArray=function tr(er){if(er===lastChildren&&Array.isArray(lastResult))return lastResult;var rr=[];return reactExports.Children.forEach(er,function(nr){isNil$1(nr)||(reactIsExports.isFragment(nr)?rr=rr.concat(tr(nr.props.children)):rr.push(nr))}),lastResult=rr,lastChildren=er,rr};function findAllByType(tr,er){var rr=[],nr=[];return Array.isArray(er)?nr=er.map(function(ir){return getDisplayName(ir)}):nr=[getDisplayName(er)],toArray(tr).forEach(function(ir){var ar=get$2(ir,"type.displayName")||get$2(ir,"type.name");nr.indexOf(ar)!==-1&&rr.push(ir)}),rr}function findChildByType(tr,er){var rr=findAllByType(tr,er);return rr&&rr[0]}var validateWidthHeight=function tr(er){if(!er||!er.props)return!1;var rr=er.props,nr=rr.width,ir=rr.height;return!(!isNumber(nr)||nr<=0||!isNumber(ir)||ir<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function tr(er){return er&&er.type&&isString$1(er.type)&&SVG_TAGS.indexOf(er.type)>=0},hasClipDot=function tr(er){return er&&_typeof$O(er)==="object"&&"clipDot"in er},isValidSpreadableProp=function tr(er,rr,nr,ir){var ar,sr=(ar=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[ir])!==null&&ar!==void 0?ar:[];return rr.startsWith("data-")||!isFunction$3(er)&&(ir&&sr.includes(rr)||SVGElementPropKeys.includes(rr))||nr&&EventKeys.includes(rr)},filterProps=function tr(er,rr,nr){if(!er||typeof er=="function"||typeof er=="boolean")return null;var ir=er;if(reactExports.isValidElement(er)&&(ir=er.props),!isObject$8(ir))return null;var ar={};return Object.keys(ir).forEach(function(sr){var lr;isValidSpreadableProp((lr=ir)===null||lr===void 0?void 0:lr[sr],sr,rr,nr)&&(ar[sr]=ir[sr])}),ar},isChildrenEqual=function tr(er,rr){if(er===rr)return!0;var nr=reactExports.Children.count(er);if(nr!==reactExports.Children.count(rr))return!1;if(nr===0)return!0;if(nr===1)return isSingleChildEqual(Array.isArray(er)?er[0]:er,Array.isArray(rr)?rr[0]:rr);for(var ir=0;ir<nr;ir++){var ar=er[ir],sr=rr[ir];if(Array.isArray(ar)||Array.isArray(sr)){if(!tr(ar,sr))return!1}else if(!isSingleChildEqual(ar,sr))return!1}return!0},isSingleChildEqual=function tr(er,rr){if(isNil$1(er)&&isNil$1(rr))return!0;if(!isNil$1(er)&&!isNil$1(rr)){var nr=er.props||{},ir=nr.children,ar=_objectWithoutProperties$l(nr,_excluded$l),sr=rr.props||{},lr=sr.children,or=_objectWithoutProperties$l(sr,_excluded2$8);return ir&&lr?shallowEqual(ar,or)&&isChildrenEqual(ir,lr):!ir&&!lr?shallowEqual(ar,or):!1}return!1},renderByOrder=function tr(er,rr){var nr=[],ir={};return toArray(er).forEach(function(ar,sr){if(isSvgElement(ar))nr.push(ar);else if(ar){var lr=getDisplayName(ar.type),or=rr[lr]||{},cr=or.handler,ur=or.once;if(cr&&(!ur||!ir[lr])){var dr=cr(ar,lr,sr);nr.push(dr),ir[lr]=!0}}}),nr},getReactEventByType=function tr(er){var rr=er&&er.type;return rr&&REACT_BROWSER_EVENT_MAP[rr]?REACT_BROWSER_EVENT_MAP[rr]:null},parseChildIndex=function tr(er,rr){return toArray(rr).indexOf(er)},_excluded$k=["children","width","height","viewBox","className","style","title","desc"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$x.apply(this,arguments)}function _objectWithoutProperties$k(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$k(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$k(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function Surface(tr){var er=tr.children,rr=tr.width,nr=tr.height,ir=tr.viewBox,ar=tr.className,sr=tr.style,lr=tr.title,or=tr.desc,cr=_objectWithoutProperties$k(tr,_excluded$k),ur=ir||{width:rr,height:nr,x:0,y:0},dr=clsx("recharts-surface",ar);return React.createElement("svg",_extends$x({},filterProps(cr,!0,"svg"),{className:dr,width:rr,height:nr,style:sr,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height)}),React.createElement("title",null,lr),React.createElement("desc",null,or),er)}var _excluded$j=["children","className"];function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$w.apply(this,arguments)}function _objectWithoutProperties$j(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$j(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$j(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}var Layer=React.forwardRef(function(tr,er){var rr=tr.children,nr=tr.className,ir=_objectWithoutProperties$j(tr,_excluded$j),ar=clsx("recharts-layer",nr);return React.createElement("g",_extends$w({className:ar},filterProps(ir,!0),{ref:er}),rr)}),warn=function tr(er,rr){for(var nr=arguments.length,ir=new Array(nr>2?nr-2:0),ar=2;ar<nr;ar++)ir[ar-2]=arguments[ar]};function baseSlice$1(tr,er,rr){var nr=-1,ir=tr.length;er<0&&(er=-er>ir?0:ir+er),rr=rr>ir?ir:rr,rr<0&&(rr+=ir),ir=er>rr?0:rr-er>>>0,er>>>=0;for(var ar=Array(ir);++nr<ir;)ar[nr]=tr[nr+er];return ar}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(tr,er,rr){var nr=tr.length;return rr=rr===void 0?nr:rr,!er&&rr>=nr?tr:baseSlice(tr,er,rr)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(tr){return reHasUnicode.test(tr)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(tr){return tr.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(tr){return tr.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(tr){return hasUnicode$1(tr)?unicodeToArray(tr):asciiToArray(tr)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1(tr){return function(er){er=toString$2(er);var rr=hasUnicode(er)?stringToArray(er):void 0,nr=rr?rr[0]:er.charAt(0),ir=rr?castSlice(rr,1).join(""):er.slice(1);return nr[tr]()+ir}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(tr){return function(){return tr}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(tr){this._+=tr[0];for(let er=1,rr=tr.length;er<rr;++er)this._+=arguments[er]+tr[er]}function appendRound(tr){let er=Math.floor(tr);if(!(er>=0))throw new Error(`invalid digits: ${tr}`);if(er>15)return append;const rr=10**er;return function(nr){this._+=nr[0];for(let ir=1,ar=nr.length;ir<ar;++ir)this._+=Math.round(arguments[ir]*rr)/rr+nr[ir]}}class Path{constructor(er){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=er==null?append:appendRound(er)}moveTo(er,rr){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+rr}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(er,rr){this._append`L${this._x1=+er},${this._y1=+rr}`}quadraticCurveTo(er,rr,nr,ir){this._append`Q${+er},${+rr},${this._x1=+nr},${this._y1=+ir}`}bezierCurveTo(er,rr,nr,ir,ar,sr){this._append`C${+er},${+rr},${+nr},${+ir},${this._x1=+ar},${this._y1=+sr}`}arcTo(er,rr,nr,ir,ar){if(er=+er,rr=+rr,nr=+nr,ir=+ir,ar=+ar,ar<0)throw new Error(`negative radius: ${ar}`);let sr=this._x1,lr=this._y1,or=nr-er,cr=ir-rr,ur=sr-er,dr=lr-rr,hr=ur*ur+dr*dr;if(this._x1===null)this._append`M${this._x1=er},${this._y1=rr}`;else if(hr>epsilon)if(!(Math.abs(dr*or-cr*ur)>epsilon)||!ar)this._append`L${this._x1=er},${this._y1=rr}`;else{let fr=nr-sr,mr=ir-lr,br=or*or+cr*cr,pr=fr*fr+mr*mr,gr=Math.sqrt(br),yr=Math.sqrt(hr),vr=ar*Math.tan((pi-Math.acos((br+hr-pr)/(2*gr*yr)))/2),_r=vr/yr,xr=vr/gr;Math.abs(_r-1)>epsilon&&this._append`L${er+_r*ur},${rr+_r*dr}`,this._append`A${ar},${ar},0,0,${+(dr*fr>ur*mr)},${this._x1=er+xr*or},${this._y1=rr+xr*cr}`}}arc(er,rr,nr,ir,ar,sr){if(er=+er,rr=+rr,nr=+nr,sr=!!sr,nr<0)throw new Error(`negative radius: ${nr}`);let lr=nr*Math.cos(ir),or=nr*Math.sin(ir),cr=er+lr,ur=rr+or,dr=1^sr,hr=sr?ir-ar:ar-ir;this._x1===null?this._append`M${cr},${ur}`:(Math.abs(this._x1-cr)>epsilon||Math.abs(this._y1-ur)>epsilon)&&this._append`L${cr},${ur}`,nr&&(hr<0&&(hr=hr%tau+tau),hr>tauEpsilon?this._append`A${nr},${nr},0,1,${dr},${er-lr},${rr-or}A${nr},${nr},0,1,${dr},${this._x1=cr},${this._y1=ur}`:hr>epsilon&&this._append`A${nr},${nr},0,${+(hr>=pi)},${dr},${this._x1=er+nr*Math.cos(ar)},${this._y1=rr+nr*Math.sin(ar)}`)}rect(er,rr,nr,ir){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+rr}h${nr=+nr}v${+ir}h${-nr}Z`}toString(){return this._}}function withPath(tr){let er=3;return tr.digits=function(rr){if(!arguments.length)return er;if(rr==null)er=null;else{const nr=Math.floor(rr);if(!(nr>=0))throw new RangeError(`invalid digits: ${rr}`);er=nr}return tr},()=>new Path(er)}function array(tr){return typeof tr=="object"&&"length"in tr?tr:Array.from(tr)}function Linear(tr){this._context=tr}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;default:this._context.lineTo(tr,er);break}}};function curveLinear(tr){return new Linear(tr)}function x$2(tr){return tr[0]}function y$1(tr){return tr[1]}function shapeLine(tr,er){var rr=constant$3(!0),nr=null,ir=curveLinear,ar=null,sr=withPath(lr);tr=typeof tr=="function"?tr:tr===void 0?x$2:constant$3(tr),er=typeof er=="function"?er:er===void 0?y$1:constant$3(er);function lr(or){var cr,ur=(or=array(or)).length,dr,hr=!1,fr;for(nr==null&&(ar=ir(fr=sr())),cr=0;cr<=ur;++cr)!(cr<ur&&rr(dr=or[cr],cr,or))===hr&&((hr=!hr)?ar.lineStart():ar.lineEnd()),hr&&ar.point(+tr(dr,cr,or),+er(dr,cr,or));if(fr)return ar=null,fr+""||null}return lr.x=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$3(+or),lr):tr},lr.y=function(or){return arguments.length?(er=typeof or=="function"?or:constant$3(+or),lr):er},lr.defined=function(or){return arguments.length?(rr=typeof or=="function"?or:constant$3(!!or),lr):rr},lr.curve=function(or){return arguments.length?(ir=or,nr!=null&&(ar=ir(nr)),lr):ir},lr.context=function(or){return arguments.length?(or==null?nr=ar=null:ar=ir(nr=or),lr):nr},lr}function shapeArea(tr,er,rr){var nr=null,ir=constant$3(!0),ar=null,sr=curveLinear,lr=null,or=withPath(cr);tr=typeof tr=="function"?tr:tr===void 0?x$2:constant$3(+tr),er=typeof er=="function"?er:constant$3(er===void 0?0:+er),rr=typeof rr=="function"?rr:rr===void 0?y$1:constant$3(+rr);function cr(dr){var hr,fr,mr,br=(dr=array(dr)).length,pr,gr=!1,yr,vr=new Array(br),_r=new Array(br);for(ar==null&&(lr=sr(yr=or())),hr=0;hr<=br;++hr){if(!(hr<br&&ir(pr=dr[hr],hr,dr))===gr)if(gr=!gr)fr=hr,lr.areaStart(),lr.lineStart();else{for(lr.lineEnd(),lr.lineStart(),mr=hr-1;mr>=fr;--mr)lr.point(vr[mr],_r[mr]);lr.lineEnd(),lr.areaEnd()}gr&&(vr[hr]=+tr(pr,hr,dr),_r[hr]=+er(pr,hr,dr),lr.point(nr?+nr(pr,hr,dr):vr[hr],rr?+rr(pr,hr,dr):_r[hr]))}if(yr)return lr=null,yr+""||null}function ur(){return shapeLine().defined(ir).curve(sr).context(ar)}return cr.x=function(dr){return arguments.length?(tr=typeof dr=="function"?dr:constant$3(+dr),nr=null,cr):tr},cr.x0=function(dr){return arguments.length?(tr=typeof dr=="function"?dr:constant$3(+dr),cr):tr},cr.x1=function(dr){return arguments.length?(nr=dr==null?null:typeof dr=="function"?dr:constant$3(+dr),cr):nr},cr.y=function(dr){return arguments.length?(er=typeof dr=="function"?dr:constant$3(+dr),rr=null,cr):er},cr.y0=function(dr){return arguments.length?(er=typeof dr=="function"?dr:constant$3(+dr),cr):er},cr.y1=function(dr){return arguments.length?(rr=dr==null?null:typeof dr=="function"?dr:constant$3(+dr),cr):rr},cr.lineX0=cr.lineY0=function(){return ur().x(tr).y(er)},cr.lineY1=function(){return ur().x(tr).y(rr)},cr.lineX1=function(){return ur().x(nr).y(er)},cr.defined=function(dr){return arguments.length?(ir=typeof dr=="function"?dr:constant$3(!!dr),cr):ir},cr.curve=function(dr){return arguments.length?(sr=dr,ar!=null&&(lr=sr(ar)),cr):sr},cr.context=function(dr){return arguments.length?(dr==null?ar=lr=null:lr=sr(ar=dr),cr):ar},cr}class Bump{constructor(er,rr){this._context=er,this._x=rr}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(er,rr){switch(er=+er,rr=+rr,this._point){case 0:{this._point=1,this._line?this._context.lineTo(er,rr):this._context.moveTo(er,rr);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+er)/2,this._y0,this._x0,rr,er,rr):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+rr)/2,er,this._y0,er,rr);break}}this._x0=er,this._y0=rr}}function bumpX(tr){return new Bump(tr,!0)}function bumpY(tr){return new Bump(tr,!1)}const symbolCircle={draw(tr,er){const rr=sqrt$1(er/pi$1);tr.moveTo(rr,0),tr.arc(0,0,rr,0,tau$1)}},symbolCross={draw(tr,er){const rr=sqrt$1(er/5)/2;tr.moveTo(-3*rr,-rr),tr.lineTo(-rr,-rr),tr.lineTo(-rr,-3*rr),tr.lineTo(rr,-3*rr),tr.lineTo(rr,-rr),tr.lineTo(3*rr,-rr),tr.lineTo(3*rr,rr),tr.lineTo(rr,rr),tr.lineTo(rr,3*rr),tr.lineTo(-rr,3*rr),tr.lineTo(-rr,rr),tr.lineTo(-3*rr,rr),tr.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(tr,er){const rr=sqrt$1(er/tan30_2),nr=rr*tan30;tr.moveTo(0,-rr),tr.lineTo(nr,0),tr.lineTo(0,rr),tr.lineTo(-nr,0),tr.closePath()}},symbolSquare={draw(tr,er){const rr=sqrt$1(er),nr=-rr/2;tr.rect(nr,nr,rr,rr)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(tr,er){const rr=sqrt$1(er*ka),nr=kx*rr,ir=ky*rr;tr.moveTo(0,-rr),tr.lineTo(nr,ir);for(let ar=1;ar<5;++ar){const sr=tau$1*ar/5,lr=cos(sr),or=sin(sr);tr.lineTo(or*rr,-lr*rr),tr.lineTo(lr*nr-or*ir,or*nr+lr*ir)}tr.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(tr,er){const rr=-sqrt$1(er/(sqrt3*3));tr.moveTo(0,rr*2),tr.lineTo(-sqrt3*rr,-rr),tr.lineTo(sqrt3*rr,-rr),tr.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(tr,er){const rr=sqrt$1(er/a$1),nr=rr/2,ir=rr*k$1,ar=nr,sr=rr*k$1+rr,lr=-ar,or=sr;tr.moveTo(nr,ir),tr.lineTo(ar,sr),tr.lineTo(lr,or),tr.lineTo(c$1*nr-s$1*ir,s$1*nr+c$1*ir),tr.lineTo(c$1*ar-s$1*sr,s$1*ar+c$1*sr),tr.lineTo(c$1*lr-s$1*or,s$1*lr+c$1*or),tr.lineTo(c$1*nr+s$1*ir,c$1*ir-s$1*nr),tr.lineTo(c$1*ar+s$1*sr,c$1*sr-s$1*ar),tr.lineTo(c$1*lr+s$1*or,c$1*or-s$1*lr),tr.closePath()}};function Symbol$3(tr,er){let rr=null,nr=withPath(ir);tr=typeof tr=="function"?tr:constant$3(tr||symbolCircle),er=typeof er=="function"?er:constant$3(er===void 0?64:+er);function ir(){let ar;if(rr||(rr=ar=nr()),tr.apply(this,arguments).draw(rr,+er.apply(this,arguments)),ar)return rr=null,ar+""||null}return ir.type=function(ar){return arguments.length?(tr=typeof ar=="function"?ar:constant$3(ar),ir):tr},ir.size=function(ar){return arguments.length?(er=typeof ar=="function"?ar:constant$3(+ar),ir):er},ir.context=function(ar){return arguments.length?(rr=ar??null,ir):rr},ir}function noop$2(){}function point$2(tr,er,rr){tr._context.bezierCurveTo((2*tr._x0+tr._x1)/3,(2*tr._y0+tr._y1)/3,(tr._x0+2*tr._x1)/3,(tr._y0+2*tr._y1)/3,(tr._x0+4*tr._x1+er)/6,(tr._y0+4*tr._y1+rr)/6)}function Basis(tr){this._context=tr}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasis(tr){return new Basis(tr)}function BasisClosed(tr){this._context=tr}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._x2=tr,this._y2=er;break;case 1:this._point=2,this._x3=tr,this._y3=er;break;case 2:this._point=3,this._x4=tr,this._y4=er,this._context.moveTo((this._x0+4*this._x1+tr)/6,(this._y0+4*this._y1+er)/6);break;default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasisClosed(tr){return new BasisClosed(tr)}function BasisOpen(tr){this._context=tr}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rr=(this._x0+4*this._x1+tr)/6,nr=(this._y0+4*this._y1+er)/6;this._line?this._context.lineTo(rr,nr):this._context.moveTo(rr,nr);break;case 3:this._point=4;default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasisOpen(tr){return new BasisOpen(tr)}function LinearClosed(tr){this._context=tr}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(tr,er){tr=+tr,er=+er,this._point?this._context.lineTo(tr,er):(this._point=1,this._context.moveTo(tr,er))}};function curveLinearClosed(tr){return new LinearClosed(tr)}function sign(tr){return tr<0?-1:1}function slope3(tr,er,rr){var nr=tr._x1-tr._x0,ir=er-tr._x1,ar=(tr._y1-tr._y0)/(nr||ir<0&&-0),sr=(rr-tr._y1)/(ir||nr<0&&-0),lr=(ar*ir+sr*nr)/(nr+ir);return(sign(ar)+sign(sr))*Math.min(Math.abs(ar),Math.abs(sr),.5*Math.abs(lr))||0}function slope2(tr,er){var rr=tr._x1-tr._x0;return rr?(3*(tr._y1-tr._y0)/rr-er)/2:er}function point$1(tr,er,rr){var nr=tr._x0,ir=tr._y0,ar=tr._x1,sr=tr._y1,lr=(ar-nr)/3;tr._context.bezierCurveTo(nr+lr,ir+lr*er,ar-lr,sr-lr*rr,ar,sr)}function MonotoneX(tr){this._context=tr}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){var rr=NaN;if(tr=+tr,er=+er,!(tr===this._x1&&er===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rr=slope3(this,tr,er)),rr);break;default:point$1(this,this._t0,rr=slope3(this,tr,er));break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er,this._t0=rr}}};function MonotoneY(tr){this._context=new ReflectContext(tr)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(tr,er){MonotoneX.prototype.point.call(this,er,tr)};function ReflectContext(tr){this._context=tr}ReflectContext.prototype={moveTo:function(tr,er){this._context.moveTo(er,tr)},closePath:function(){this._context.closePath()},lineTo:function(tr,er){this._context.lineTo(er,tr)},bezierCurveTo:function(tr,er,rr,nr,ir,ar){this._context.bezierCurveTo(er,tr,nr,rr,ar,ir)}};function monotoneX(tr){return new MonotoneX(tr)}function monotoneY(tr){return new MonotoneY(tr)}function Natural(tr){this._context=tr}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var tr=this._x,er=this._y,rr=tr.length;if(rr)if(this._line?this._context.lineTo(tr[0],er[0]):this._context.moveTo(tr[0],er[0]),rr===2)this._context.lineTo(tr[1],er[1]);else for(var nr=controlPoints(tr),ir=controlPoints(er),ar=0,sr=1;sr<rr;++ar,++sr)this._context.bezierCurveTo(nr[0][ar],ir[0][ar],nr[1][ar],ir[1][ar],tr[sr],er[sr]);(this._line||this._line!==0&&rr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(tr,er){this._x.push(+tr),this._y.push(+er)}};function controlPoints(tr){var er,rr=tr.length-1,nr,ir=new Array(rr),ar=new Array(rr),sr=new Array(rr);for(ir[0]=0,ar[0]=2,sr[0]=tr[0]+2*tr[1],er=1;er<rr-1;++er)ir[er]=1,ar[er]=4,sr[er]=4*tr[er]+2*tr[er+1];for(ir[rr-1]=2,ar[rr-1]=7,sr[rr-1]=8*tr[rr-1]+tr[rr],er=1;er<rr;++er)nr=ir[er]/ar[er-1],ar[er]-=nr,sr[er]-=nr*sr[er-1];for(ir[rr-1]=sr[rr-1]/ar[rr-1],er=rr-2;er>=0;--er)ir[er]=(sr[er]-ir[er+1])/ar[er];for(ar[rr-1]=(tr[rr]+ir[rr-1])/2,er=0;er<rr-1;++er)ar[er]=2*tr[er+1]-ir[er+1];return[ir,ar]}function curveNatural(tr){return new Natural(tr)}function Step(tr,er){this._context=tr,this._t=er}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,er),this._context.lineTo(tr,er);else{var rr=this._x*(1-this._t)+tr*this._t;this._context.lineTo(rr,this._y),this._context.lineTo(rr,er)}break}}this._x=tr,this._y=er}};function curveStep(tr){return new Step(tr,.5)}function stepBefore(tr){return new Step(tr,0)}function stepAfter(tr){return new Step(tr,1)}function stackOffsetNone(tr,er){if((sr=tr.length)>1)for(var rr=1,nr,ir,ar=tr[er[0]],sr,lr=ar.length;rr<sr;++rr)for(ir=ar,ar=tr[er[rr]],nr=0;nr<lr;++nr)ar[nr][1]+=ar[nr][0]=isNaN(ir[nr][1])?ir[nr][0]:ir[nr][1]}function stackOrderNone(tr){for(var er=tr.length,rr=new Array(er);--er>=0;)rr[er]=er;return rr}function stackValue(tr,er){return tr[er]}function stackSeries(tr){const er=[];return er.key=tr,er}function shapeStack(){var tr=constant$3([]),er=stackOrderNone,rr=stackOffsetNone,nr=stackValue;function ir(ar){var sr=Array.from(tr.apply(this,arguments),stackSeries),lr,or=sr.length,cr=-1,ur;for(const dr of ar)for(lr=0,++cr;lr<or;++lr)(sr[lr][cr]=[0,+nr(dr,sr[lr].key,cr,ar)]).data=dr;for(lr=0,ur=array(er(sr));lr<or;++lr)sr[ur[lr]].index=lr;return rr(sr,ur),sr}return ir.keys=function(ar){return arguments.length?(tr=typeof ar=="function"?ar:constant$3(Array.from(ar)),ir):tr},ir.value=function(ar){return arguments.length?(nr=typeof ar=="function"?ar:constant$3(+ar),ir):nr},ir.order=function(ar){return arguments.length?(er=ar==null?stackOrderNone:typeof ar=="function"?ar:constant$3(Array.from(ar)),ir):er},ir.offset=function(ar){return arguments.length?(rr=ar??stackOffsetNone,ir):rr},ir}function stackOffsetExpand(tr,er){if((nr=tr.length)>0){for(var rr,nr,ir=0,ar=tr[0].length,sr;ir<ar;++ir){for(sr=rr=0;rr<nr;++rr)sr+=tr[rr][ir][1]||0;if(sr)for(rr=0;rr<nr;++rr)tr[rr][ir][1]/=sr}stackOffsetNone(tr,er)}}function stackOffsetSilhouette(tr,er){if((ir=tr.length)>0){for(var rr=0,nr=tr[er[0]],ir,ar=nr.length;rr<ar;++rr){for(var sr=0,lr=0;sr<ir;++sr)lr+=tr[sr][rr][1]||0;nr[rr][1]+=nr[rr][0]=-lr/2}stackOffsetNone(tr,er)}}function stackOffsetWiggle(tr,er){if(!(!((sr=tr.length)>0)||!((ar=(ir=tr[er[0]]).length)>0))){for(var rr=0,nr=1,ir,ar,sr;nr<ar;++nr){for(var lr=0,or=0,cr=0;lr<sr;++lr){for(var ur=tr[er[lr]],dr=ur[nr][1]||0,hr=ur[nr-1][1]||0,fr=(dr-hr)/2,mr=0;mr<lr;++mr){var br=tr[er[mr]],pr=br[nr][1]||0,gr=br[nr-1][1]||0;fr+=pr-gr}or+=dr,cr+=fr*dr}ir[nr-1][1]+=ir[nr-1][0]=rr,or&&(rr-=cr/or)}ir[nr-1][1]+=ir[nr-1][0]=rr,stackOffsetNone(tr,er)}}function _typeof$N(tr){"@babel/helpers - typeof";return _typeof$N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$N(tr)}var _excluded$i=["type","size","sizeType"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$v.apply(this,arguments)}function ownKeys$E(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$E(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$E(Object(rr),!0).forEach(function(nr){_defineProperty$L(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$E(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$L(tr,er,rr){return er=_toPropertyKey$L(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$L(tr){var er=_toPrimitive$L(tr,"string");return _typeof$N(er)=="symbol"?er:er+""}function _toPrimitive$L(tr,er){if(_typeof$N(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$N(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$i(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$i(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$i(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function tr(er){var rr="symbol".concat(upperFirst$1(er));return symbolFactories[rr]||symbolCircle},calculateAreaSize=function tr(er,rr,nr){if(rr==="area")return er;switch(nr){case"cross":return 5*er*er/9;case"diamond":return .5*er*er/Math.sqrt(3);case"square":return er*er;case"star":{var ir=18*RADIAN$2;return 1.25*er*er*(Math.tan(ir)-Math.tan(ir*2)*Math.pow(Math.tan(ir),2))}case"triangle":return Math.sqrt(3)*er*er/4;case"wye":return(21-10*Math.sqrt(3))*er*er/8;default:return Math.PI*er*er/4}},registerSymbol=function tr(er,rr){symbolFactories["symbol".concat(upperFirst$1(er))]=rr},Symbols=function tr(er){var rr=er.type,nr=rr===void 0?"circle":rr,ir=er.size,ar=ir===void 0?64:ir,sr=er.sizeType,lr=sr===void 0?"area":sr,or=_objectWithoutProperties$i(er,_excluded$i),cr=_objectSpread$E(_objectSpread$E({},or),{},{type:nr,size:ar,sizeType:lr}),ur=function(){var pr=getSymbolFactory(nr),gr=Symbol$3().type(pr).size(calculateAreaSize(ar,lr,nr));return gr()},dr=cr.className,hr=cr.cx,fr=cr.cy,mr=filterProps(cr,!0);return hr===+hr&&fr===+fr&&ar===+ar?React.createElement("path",_extends$v({},mr,{className:clsx("recharts-symbols",dr),transform:"translate(".concat(hr,", ").concat(fr,")"),d:ur()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$M(tr){"@babel/helpers - typeof";return _typeof$M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$M(tr)}function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$u.apply(this,arguments)}function ownKeys$D(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$D(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$D(Object(rr),!0).forEach(function(nr){_defineProperty$K(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$D(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$o(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$o(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$K(nr.key),nr)}}function _createClass$o(tr,er,rr){return er&&_defineProperties$o(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$k(tr,er,rr){return er=_getPrototypeOf$l(er),_possibleConstructorReturn$l(tr,_isNativeReflectConstruct$l()?Reflect.construct(er,rr||[],_getPrototypeOf$l(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$l(tr,er){if(er&&(_typeof$M(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$l(tr)}function _assertThisInitialized$l(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$l(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$l=function(){return!!tr})()}function _getPrototypeOf$l(tr){return _getPrototypeOf$l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$l(tr)}function _inherits$l(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$l(tr,er)}function _setPrototypeOf$l(tr,er){return _setPrototypeOf$l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$l(tr,er)}function _defineProperty$K(tr,er,rr){return er=_toPropertyKey$K(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$K(tr){var er=_toPrimitive$K(tr,"string");return _typeof$M(er)=="symbol"?er:er+""}function _toPrimitive$K(tr,er){if(_typeof$M(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$M(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var SIZE=32,DefaultLegendContent=function(tr){function er(){return _classCallCheck$o(this,er),_callSuper$k(this,er,arguments)}return _inherits$l(er,tr),_createClass$o(er,[{key:"renderIcon",value:function(nr){var ir=this.props.inactiveColor,ar=SIZE/2,sr=SIZE/6,lr=SIZE/3,or=nr.inactive?ir:nr.color;if(nr.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:or,strokeDasharray:nr.payload.strokeDasharray,x1:0,y1:ar,x2:SIZE,y2:ar,className:"recharts-legend-icon"});if(nr.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:or,d:"M0,".concat(ar,"h").concat(lr,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(2*lr,",").concat(ar,`
            H`).concat(SIZE,"M").concat(2*lr,",").concat(ar,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(lr,",").concat(ar),className:"recharts-legend-icon"});if(nr.type==="rect")return React.createElement("path",{stroke:"none",fill:or,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(nr.legendIcon)){var cr=_objectSpread$D({},nr);return delete cr.legendIcon,React.cloneElement(nr.legendIcon,cr)}return React.createElement(Symbols,{fill:or,cx:ar,cy:ar,size:SIZE,sizeType:"diameter",type:nr.type})}},{key:"renderItems",value:function(){var nr=this,ir=this.props,ar=ir.payload,sr=ir.iconSize,lr=ir.layout,or=ir.formatter,cr=ir.inactiveColor,ur={x:0,y:0,width:SIZE,height:SIZE},dr={display:lr==="horizontal"?"inline-block":"block",marginRight:10},hr={display:"inline-block",verticalAlign:"middle",marginRight:4};return ar.map(function(fr,mr){var br=fr.formatter||or,pr=clsx(_defineProperty$K(_defineProperty$K({"recharts-legend-item":!0},"legend-item-".concat(mr),!0),"inactive",fr.inactive));if(fr.type==="none")return null;var gr=isFunction$3(fr.value)?null:fr.value;warn(!isFunction$3(fr.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var yr=fr.inactive?cr:fr.color;return React.createElement("li",_extends$u({className:pr,style:dr,key:"legend-item-".concat(mr)},adaptEventsOfChild(nr.props,fr,mr)),React.createElement(Surface,{width:sr,height:sr,viewBox:ur,style:hr},nr.renderIcon(fr)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:yr}},br?br(gr,fr,mr):gr))})}},{key:"render",value:function(){var nr=this.props,ir=nr.payload,ar=nr.layout,sr=nr.align;if(!ir||!ir.length)return null;var lr={padding:0,margin:0,textAlign:ar==="horizontal"?sr:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:lr},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$K(DefaultLegendContent,"displayName","Legend");_defineProperty$K(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tr){var er=this.__data__,rr=er.delete(tr);return this.size=er.size,rr}var _stackDelete=stackDelete$1;function stackGet$1(tr){return this.__data__.get(tr)}var _stackGet=stackGet$1;function stackHas$1(tr){return this.__data__.has(tr)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(tr,er){var rr=this.__data__;if(rr instanceof ListCache$1){var nr=rr.__data__;if(!Map$2||nr.length<LARGE_ARRAY_SIZE$1-1)return nr.push([tr,er]),this.size=++rr.size,this;rr=this.__data__=new MapCache$1(nr)}return rr.set(tr,er),this.size=rr.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(tr){var er=this.__data__=new ListCache(tr);this.size=er.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tr){return this.__data__.set(tr,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tr){return this.__data__.has(tr)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(tr){var er=-1,rr=tr==null?0:tr.length;for(this.__data__=new MapCache;++er<rr;)this.add(tr[er])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(tr,er){for(var rr=-1,nr=tr==null?0:tr.length;++rr<nr;)if(er(tr[rr],rr,tr))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(tr,er){return tr.has(er)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(tr,er,rr,nr,ir,ar){var sr=rr&COMPARE_PARTIAL_FLAG$5,lr=tr.length,or=er.length;if(lr!=or&&!(sr&&or>lr))return!1;var cr=ar.get(tr),ur=ar.get(er);if(cr&&ur)return cr==er&&ur==tr;var dr=-1,hr=!0,fr=rr&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(ar.set(tr,er),ar.set(er,tr);++dr<lr;){var mr=tr[dr],br=er[dr];if(nr)var pr=sr?nr(br,mr,dr,er,tr,ar):nr(mr,br,dr,tr,er,ar);if(pr!==void 0){if(pr)continue;hr=!1;break}if(fr){if(!arraySome$1(er,function(gr,yr){if(!cacheHas$1(fr,yr)&&(mr===gr||ir(mr,gr,rr,nr,ar)))return fr.push(yr)})){hr=!1;break}}else if(!(mr===br||ir(mr,br,rr,nr,ar))){hr=!1;break}}return ar.delete(tr),ar.delete(er),hr}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(tr){var er=-1,rr=Array(tr.size);return tr.forEach(function(nr,ir){rr[++er]=[ir,nr]}),rr}var _mapToArray=mapToArray$1;function setToArray$3(tr){var er=-1,rr=Array(tr.size);return tr.forEach(function(nr){rr[++er]=nr}),rr}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(tr,er,rr,nr,ir,ar,sr){switch(rr){case dataViewTag$2:if(tr.byteLength!=er.byteLength||tr.byteOffset!=er.byteOffset)return!1;tr=tr.buffer,er=er.buffer;case arrayBufferTag$1:return!(tr.byteLength!=er.byteLength||!ar(new Uint8Array$1(tr),new Uint8Array$1(er)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+tr,+er);case errorTag$1:return tr.name==er.name&&tr.message==er.message;case regexpTag$1:case stringTag$1:return tr==er+"";case mapTag$2:var lr=mapToArray;case setTag$2:var or=nr&COMPARE_PARTIAL_FLAG$4;if(lr||(lr=setToArray$2),tr.size!=er.size&&!or)return!1;var cr=sr.get(tr);if(cr)return cr==er;nr|=COMPARE_UNORDERED_FLAG$2,sr.set(tr,er);var ur=equalArrays$1(lr(tr),lr(er),nr,ir,ar,sr);return sr.delete(tr),ur;case symbolTag:if(symbolValueOf)return symbolValueOf.call(tr)==symbolValueOf.call(er)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(tr,er){for(var rr=-1,nr=er.length,ir=tr.length;++rr<nr;)tr[ir+rr]=er[rr];return tr}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$9=isArray_1;function baseGetAllKeys$1(tr,er,rr){var nr=er(tr);return isArray$9(tr)?nr:arrayPush$1(nr,rr(tr))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(tr,er){for(var rr=-1,nr=tr==null?0:tr.length,ir=0,ar=[];++rr<nr;){var sr=tr[rr];er(sr,rr,tr)&&(ar[ir++]=sr)}return ar}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(tr){return tr==null?[]:(tr=Object(tr),arrayFilter(nativeGetSymbols(tr),function(er){return propertyIsEnumerable$1.call(tr,er)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(tr,er){for(var rr=-1,nr=Array(tr);++rr<tr;)nr[rr]=er(rr);return nr}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(tr){return isObjectLike$5(tr)&&baseGetTag$4(tr)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tr){return isObjectLike$4(tr)&&hasOwnProperty$6.call(tr,"callee")&&!propertyIsEnumerable.call(tr,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(tr,er){var rr=_root,nr=stubFalse_1,ir=er&&!er.nodeType&&er,ar=ir&&!0&&tr&&!tr.nodeType&&tr,sr=ar&&ar.exports===ir,lr=sr?rr.Buffer:void 0,or=lr?lr.isBuffer:void 0,cr=or||nr;tr.exports=cr})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(tr,er){var rr=typeof tr;return er=er??MAX_SAFE_INTEGER$2,!!er&&(rr=="number"||rr!="symbol"&&reIsUint.test(tr))&&tr>-1&&tr%1==0&&tr<er}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(tr){return typeof tr=="number"&&tr>-1&&tr%1==0&&tr<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(tr){return isObjectLike$3(tr)&&isLength$2(tr.length)&&!!typedArrayTags[baseGetTag$3(tr)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(tr){return function(er){return tr(er)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(tr,er){var rr=_freeGlobal,nr=er&&!er.nodeType&&er,ir=nr&&!0&&tr&&!tr.nodeType&&tr,ar=ir&&ir.exports===nr,sr=ar&&rr.process,lr=function(){try{var or=ir&&ir.require&&ir.require("util").types;return or||sr&&sr.binding&&sr.binding("util")}catch{}}();tr.exports=lr})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$8=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(tr,er){var rr=isArray$8(tr),nr=!rr&&isArguments$2(tr),ir=!rr&&!nr&&isBuffer$1(tr),ar=!rr&&!nr&&!ir&&isTypedArray$1(tr),sr=rr||nr||ir||ar,lr=sr?baseTimes(tr.length,String):[],or=lr.length;for(var cr in tr)(er||hasOwnProperty$5.call(tr,cr))&&!(sr&&(cr=="length"||ir&&(cr=="offset"||cr=="parent")||ar&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||isIndex$2(cr,or)))&&lr.push(cr);return lr}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(tr){var er=tr&&tr.constructor,rr=typeof er=="function"&&er.prototype||objectProto$4;return tr===rr}var _isPrototype=isPrototype$1;function overArg$2(tr,er){return function(rr){return tr(er(rr))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(tr){if(!isPrototype(tr))return nativeKeys(tr);var er=[];for(var rr in Object(tr))hasOwnProperty$4.call(tr,rr)&&rr!="constructor"&&er.push(rr);return er}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(tr){return tr!=null&&isLength$1(tr.length)&&!isFunction(tr)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(tr){return isArrayLike$4(tr)?arrayLikeKeys(tr):baseKeys(tr)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(tr){return baseGetAllKeys(tr,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(tr,er,rr,nr,ir,ar){var sr=rr&COMPARE_PARTIAL_FLAG$3,lr=getAllKeys(tr),or=lr.length,cr=getAllKeys(er),ur=cr.length;if(or!=ur&&!sr)return!1;for(var dr=or;dr--;){var hr=lr[dr];if(!(sr?hr in er:hasOwnProperty$3.call(er,hr)))return!1}var fr=ar.get(tr),mr=ar.get(er);if(fr&&mr)return fr==er&&mr==tr;var br=!0;ar.set(tr,er),ar.set(er,tr);for(var pr=sr;++dr<or;){hr=lr[dr];var gr=tr[hr],yr=er[hr];if(nr)var vr=sr?nr(yr,gr,hr,er,tr,ar):nr(gr,yr,hr,tr,er,ar);if(!(vr===void 0?gr===yr||ir(gr,yr,rr,nr,ar):vr)){br=!1;break}pr||(pr=hr=="constructor")}if(br&&!pr){var _r=tr.constructor,xr=er.constructor;_r!=xr&&"constructor"in tr&&"constructor"in er&&!(typeof _r=="function"&&_r instanceof _r&&typeof xr=="function"&&xr instanceof xr)&&(br=!1)}return ar.delete(tr),ar.delete(er),br}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag$2;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$2&&getTag$1(new Set$2)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(tr){var er=baseGetTag$2(tr),rr=er==objectTag$2?tr.constructor:void 0,nr=rr?toSource(rr):"";if(nr)switch(nr){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return er});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$7=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(tr,er,rr,nr,ir,ar){var sr=isArray$7(tr),lr=isArray$7(er),or=sr?arrayTag:getTag(tr),cr=lr?arrayTag:getTag(er);or=or==argsTag?objectTag$1:or,cr=cr==argsTag?objectTag$1:cr;var ur=or==objectTag$1,dr=cr==objectTag$1,hr=or==cr;if(hr&&isBuffer(tr)){if(!isBuffer(er))return!1;sr=!0,ur=!1}if(hr&&!ur)return ar||(ar=new Stack$1),sr||isTypedArray(tr)?equalArrays(tr,er,rr,nr,ir,ar):equalByTag(tr,er,or,rr,nr,ir,ar);if(!(rr&COMPARE_PARTIAL_FLAG$2)){var fr=ur&&hasOwnProperty$2.call(tr,"__wrapped__"),mr=dr&&hasOwnProperty$2.call(er,"__wrapped__");if(fr||mr){var br=fr?tr.value():tr,pr=mr?er.value():er;return ar||(ar=new Stack$1),ir(br,pr,rr,nr,ar)}}return hr?(ar||(ar=new Stack$1),equalObjects(tr,er,rr,nr,ir,ar)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(tr,er,rr,nr,ir){return tr===er?!0:tr==null||er==null||!isObjectLike$2(tr)&&!isObjectLike$2(er)?tr!==tr&&er!==er:baseIsEqualDeep(tr,er,rr,nr,baseIsEqual$3,ir)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(tr,er,rr,nr){var ir=rr.length,ar=ir,sr=!nr;if(tr==null)return!ar;for(tr=Object(tr);ir--;){var lr=rr[ir];if(sr&&lr[2]?lr[1]!==tr[lr[0]]:!(lr[0]in tr))return!1}for(;++ir<ar;){lr=rr[ir];var or=lr[0],cr=tr[or],ur=lr[1];if(sr&&lr[2]){if(cr===void 0&&!(or in tr))return!1}else{var dr=new Stack;if(nr)var hr=nr(cr,ur,or,tr,er,dr);if(!(hr===void 0?baseIsEqual$2(ur,cr,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nr,dr):hr))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(tr){return tr===tr&&!isObject$4(tr)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(tr){for(var er=keys$3(tr),rr=er.length;rr--;){var nr=er[rr],ir=tr[nr];er[rr]=[nr,ir,isStrictComparable$1(ir)]}return er}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(tr,er){return function(rr){return rr==null?!1:rr[tr]===er&&(er!==void 0||tr in Object(rr))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(tr){var er=getMatchData(tr);return er.length==1&&er[0][2]?matchesStrictComparable$1(er[0][0],er[0][1]):function(rr){return rr===tr||baseIsMatch(rr,tr,er)}}var _baseMatches=baseMatches$1;function baseHasIn$1(tr,er){return tr!=null&&er in Object(tr)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$6=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(tr,er,rr){er=castPath(er,tr);for(var nr=-1,ir=er.length,ar=!1;++nr<ir;){var sr=toKey$2(er[nr]);if(!(ar=tr!=null&&rr(tr,sr)))break;tr=tr[sr]}return ar||++nr!=ir?ar:(ir=tr==null?0:tr.length,!!ir&&isLength(ir)&&isIndex$1(sr,ir)&&(isArray$6(tr)||isArguments$1(tr)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(tr,er){return tr!=null&&hasPath(tr,er,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(tr,er){return isKey$1(tr)&&isStrictComparable(er)?matchesStrictComparable(toKey$1(tr),er):function(rr){var nr=get(rr,tr);return nr===void 0&&nr===er?hasIn(rr,tr):baseIsEqual$1(er,nr,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(tr){return tr}var identity_1=identity$b;function baseProperty$1(tr){return function(er){return er==null?void 0:er[tr]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(tr){return function(er){return baseGet$1(er,tr)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(tr){return isKey(tr)?baseProperty(toKey(tr)):basePropertyDeep(tr)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$5=isArray_1,property=property_1;function baseIteratee$a(tr){return typeof tr=="function"?tr:tr==null?identity$a:typeof tr=="object"?isArray$5(tr)?baseMatchesProperty(tr[0],tr[1]):baseMatches(tr):property(tr)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(tr,er,rr,nr){for(var ir=tr.length,ar=rr+(nr?1:-1);nr?ar--:++ar<ir;)if(er(tr[ar],ar,tr))return ar;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(tr){return tr!==tr}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(tr,er,rr){for(var nr=rr-1,ir=tr.length;++nr<ir;)if(tr[nr]===er)return nr;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(tr,er,rr){return er===er?strictIndexOf(tr,er,rr):baseFindIndex$1(tr,baseIsNaN,rr)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(tr,er){var rr=tr==null?0:tr.length;return!!rr&&baseIndexOf(tr,er,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(tr,er,rr){for(var nr=-1,ir=tr==null?0:tr.length;++nr<ir;)if(rr(er,tr[nr]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(tr){return new Set$1(tr)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(tr,er,rr){var nr=-1,ir=arrayIncludes,ar=tr.length,sr=!0,lr=[],or=lr;if(rr)sr=!1,ir=arrayIncludesWith;else if(ar>=LARGE_ARRAY_SIZE){var cr=er?null:createSet(tr);if(cr)return setToArray(cr);sr=!1,ir=cacheHas,or=new SetCache}else or=er?[]:lr;e:for(;++nr<ar;){var ur=tr[nr],dr=er?er(ur):ur;if(ur=rr||ur!==0?ur:0,sr&&dr===dr){for(var hr=or.length;hr--;)if(or[hr]===dr)continue e;er&&or.push(dr),lr.push(ur)}else ir(or,dr,rr)||(or!==lr&&or.push(dr),lr.push(ur))}return lr}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(tr,er){return tr&&tr.length?baseUniq(tr,baseIteratee$9(er)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(tr,er,rr){return er===!0?uniqBy$1(tr,rr):isFunction$3(er)?uniqBy$1(tr,er):tr}function _typeof$L(tr){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$L(tr)}var _excluded$h=["ref"];function ownKeys$C(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$C(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$C(Object(rr),!0).forEach(function(nr){_defineProperty$J(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$C(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$n(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$n(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$J(nr.key),nr)}}function _createClass$n(tr,er,rr){return er&&_defineProperties$n(tr.prototype,er),rr&&_defineProperties$n(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$j(tr,er,rr){return er=_getPrototypeOf$k(er),_possibleConstructorReturn$k(tr,_isNativeReflectConstruct$k()?Reflect.construct(er,rr||[],_getPrototypeOf$k(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$k(tr,er){if(er&&(_typeof$L(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$k(tr)}function _assertThisInitialized$k(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$k(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$k=function(){return!!tr})()}function _getPrototypeOf$k(tr){return _getPrototypeOf$k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$k(tr)}function _inherits$k(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$k(tr,er)}function _setPrototypeOf$k(tr,er){return _setPrototypeOf$k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$k(tr,er)}function _defineProperty$J(tr,er,rr){return er=_toPropertyKey$J(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$J(tr){var er=_toPrimitive$J(tr,"string");return _typeof$L(er)=="symbol"?er:er+""}function _toPrimitive$J(tr,er){if(_typeof$L(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$L(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}function _objectWithoutProperties$h(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$h(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$h(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function defaultUniqBy$1(tr){return tr.value}function renderContent$1(tr,er){if(React.isValidElement(tr))return React.cloneElement(tr,er);if(typeof tr=="function")return React.createElement(tr,er);er.ref;var rr=_objectWithoutProperties$h(er,_excluded$h);return React.createElement(DefaultLegendContent,rr)}var EPS$1=1,Legend=function(tr){function er(){var rr;_classCallCheck$n(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$j(this,er,[].concat(ir)),_defineProperty$J(rr,"lastBoundingBox",{width:-1,height:-1}),rr}return _inherits$k(er,tr),_createClass$n(er,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nr=this.wrapperNode.getBoundingClientRect();return nr.height=this.wrapperNode.offsetHeight,nr.width=this.wrapperNode.offsetWidth,nr}return null}},{key:"updateBBox",value:function(){var nr=this.props.onBBoxUpdate,ir=this.getBBox();ir?(Math.abs(ir.width-this.lastBoundingBox.width)>EPS$1||Math.abs(ir.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=ir.width,this.lastBoundingBox.height=ir.height,nr&&nr(ir)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,nr&&nr(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$C({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(nr){var ir=this.props,ar=ir.layout,sr=ir.align,lr=ir.verticalAlign,or=ir.margin,cr=ir.chartWidth,ur=ir.chartHeight,dr,hr;if(!nr||(nr.left===void 0||nr.left===null)&&(nr.right===void 0||nr.right===null))if(sr==="center"&&ar==="vertical"){var fr=this.getBBoxSnapshot();dr={left:((cr||0)-fr.width)/2}}else dr=sr==="right"?{right:or&&or.right||0}:{left:or&&or.left||0};if(!nr||(nr.top===void 0||nr.top===null)&&(nr.bottom===void 0||nr.bottom===null))if(lr==="middle"){var mr=this.getBBoxSnapshot();hr={top:((ur||0)-mr.height)/2}}else hr=lr==="bottom"?{bottom:or&&or.bottom||0}:{top:or&&or.top||0};return _objectSpread$C(_objectSpread$C({},dr),hr)}},{key:"render",value:function(){var nr=this,ir=this.props,ar=ir.content,sr=ir.width,lr=ir.height,or=ir.wrapperStyle,cr=ir.payloadUniqBy,ur=ir.payload,dr=_objectSpread$C(_objectSpread$C({position:"absolute",width:sr||"auto",height:lr||"auto"},this.getDefaultPosition(or)),or);return React.createElement("div",{className:"recharts-legend-wrapper",style:dr,ref:function(fr){nr.wrapperNode=fr}},renderContent$1(ar,_objectSpread$C(_objectSpread$C({},this.props),{},{payload:getUniqPayload(ur,cr,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(nr,ir){var ar=_objectSpread$C(_objectSpread$C({},this.defaultProps),nr.props),sr=ar.layout;return sr==="vertical"&&isNumber(nr.props.height)?{height:nr.props.height}:sr==="horizontal"?{width:nr.props.width||ir}:null}}])}(reactExports.PureComponent);_defineProperty$J(Legend,"displayName","Legend");_defineProperty$J(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$4=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(tr){return isArray$4(tr)||isArguments(tr)||!!(spreadableSymbol&&tr&&tr[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(tr,er,rr,nr,ir){var ar=-1,sr=tr.length;for(rr||(rr=isFlattenable),ir||(ir=[]);++ar<sr;){var lr=tr[ar];er>0&&rr(lr)?er>1?baseFlatten$2(lr,er-1,rr,nr,ir):arrayPush(ir,lr):nr||(ir[ir.length]=lr)}return ir}var _baseFlatten=baseFlatten$2;function createBaseFor$1(tr){return function(er,rr,nr){for(var ir=-1,ar=Object(er),sr=nr(er),lr=sr.length;lr--;){var or=sr[tr?lr:++ir];if(rr(ar[or],or,ar)===!1)break}return er}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(tr,er){return tr&&baseFor(tr,er,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(tr,er){return function(rr,nr){if(rr==null)return rr;if(!isArrayLike$3(rr))return tr(rr,nr);for(var ir=rr.length,ar=er?ir:-1,sr=Object(rr);(er?ar--:++ar<ir)&&nr(sr[ar],ar,sr)!==!1;);return rr}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(tr,er){var rr=-1,nr=isArrayLike$2(tr)?Array(tr.length):[];return baseEach$2(tr,function(ir,ar,sr){nr[++rr]=er(ir,ar,sr)}),nr}var _baseMap=baseMap$2;function baseSortBy$1(tr,er){var rr=tr.length;for(tr.sort(er);rr--;)tr[rr]=tr[rr].value;return tr}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(tr,er){if(tr!==er){var rr=tr!==void 0,nr=tr===null,ir=tr===tr,ar=isSymbol$2(tr),sr=er!==void 0,lr=er===null,or=er===er,cr=isSymbol$2(er);if(!lr&&!cr&&!ar&&tr>er||ar&&sr&&or&&!lr&&!cr||nr&&sr&&or||!rr&&or||!ir)return 1;if(!nr&&!ar&&!cr&&tr<er||cr&&rr&&ir&&!nr&&!ar||lr&&rr&&ir||!sr&&ir||!or)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(tr,er,rr){for(var nr=-1,ir=tr.criteria,ar=er.criteria,sr=ir.length,lr=rr.length;++nr<sr;){var or=compareAscending(ir[nr],ar[nr]);if(or){if(nr>=lr)return or;var cr=rr[nr];return or*(cr=="desc"?-1:1)}}return tr.index-er.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$3=isArray_1;function baseOrderBy$1(tr,er,rr){er.length?er=arrayMap$1(er,function(ar){return isArray$3(ar)?function(sr){return baseGet(sr,ar.length===1?ar[0]:ar)}:ar}):er=[identity$9];var nr=-1;er=arrayMap$1(er,baseUnary(baseIteratee$8));var ir=baseMap$1(tr,function(ar,sr,lr){var or=arrayMap$1(er,function(cr){return cr(ar)});return{criteria:or,index:++nr,value:ar}});return baseSortBy(ir,function(ar,sr){return compareMultiple(ar,sr,rr)})}var _baseOrderBy=baseOrderBy$1;function apply$1(tr,er,rr){switch(rr.length){case 0:return tr.call(er);case 1:return tr.call(er,rr[0]);case 2:return tr.call(er,rr[0],rr[1]);case 3:return tr.call(er,rr[0],rr[1],rr[2])}return tr.apply(er,rr)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(tr,er,rr){return er=nativeMax$3(er===void 0?tr.length-1:er,0),function(){for(var nr=arguments,ir=-1,ar=nativeMax$3(nr.length-er,0),sr=Array(ar);++ir<ar;)sr[ir]=nr[er+ir];ir=-1;for(var lr=Array(er+1);++ir<er;)lr[ir]=nr[ir];return lr[er]=rr(sr),apply(tr,this,lr)}}var _overRest=overRest$1;function constant$2(tr){return function(){return tr}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var tr=getNative(Object,"defineProperty");return tr({},"",{}),tr}catch{}}(),_defineProperty$I=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$I,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(tr,er){return defineProperty$1(tr,"toString",{configurable:!0,enumerable:!1,value:constant$1(er),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(tr){var er=0,rr=0;return function(){var nr=nativeNow(),ir=HOT_SPAN-(nr-rr);if(rr=nr,ir>0){if(++er>=HOT_COUNT)return arguments[0]}else er=0;return tr.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(tr,er){return setToString(overRest(tr,er,identity$7),tr+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(tr,er,rr){if(!isObject$3(rr))return!1;var nr=typeof er;return(nr=="number"?isArrayLike$1(rr)&&isIndex(er,rr.length):nr=="string"&&er in rr)?eq(rr[er],tr):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(tr,er){if(tr==null)return[];var rr=er.length;return rr>1&&isIterateeCall$3(tr,er[0],er[1])?er=[]:rr>2&&isIterateeCall$3(er[0],er[1],er[2])&&(er=[er[0]]),baseOrderBy(tr,baseFlatten$1(er,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$K(tr){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$K(tr)}function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$t.apply(this,arguments)}function _slicedToArray$c(tr,er){return _arrayWithHoles$d(tr)||_iterableToArrayLimit$c(tr,er)||_unsupportedIterableToArray$l(tr,er)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$l(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$l(tr,er)}}function _arrayLikeToArray$l(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$c(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$d(tr){if(Array.isArray(tr))return tr}function ownKeys$B(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$B(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$B(Object(rr),!0).forEach(function(nr){_defineProperty$H(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$B(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$H(tr,er,rr){return er=_toPropertyKey$I(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$I(tr){var er=_toPrimitive$I(tr,"string");return _typeof$K(er)=="symbol"?er:er+""}function _toPrimitive$I(tr,er){if(_typeof$K(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$K(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function defaultFormatter(tr){return Array.isArray(tr)&&isNumOrStr(tr[0])&&isNumOrStr(tr[1])?tr.join(" ~ "):tr}var DefaultTooltipContent=function tr(er){var rr=er.separator,nr=rr===void 0?" : ":rr,ir=er.contentStyle,ar=ir===void 0?{}:ir,sr=er.itemStyle,lr=sr===void 0?{}:sr,or=er.labelStyle,cr=or===void 0?{}:or,ur=er.payload,dr=er.formatter,hr=er.itemSorter,fr=er.wrapperClassName,mr=er.labelClassName,br=er.label,pr=er.labelFormatter,gr=er.accessibilityLayer,yr=gr===void 0?!1:gr,vr=function(){if(ur&&ur.length){var Or={padding:0,margin:0},Pr=(hr?sortBy$1(ur,hr):ur).map(function(Mr,jr){if(Mr.type==="none")return null;var wr=_objectSpread$B({display:"block",paddingTop:4,paddingBottom:4,color:Mr.color||"#000"},lr),Er=Mr.formatter||dr||defaultFormatter,Ar=Mr.value,Sr=Mr.name,Dr=Ar,Wr=Sr;if(Er&&Dr!=null&&Wr!=null){var $r=Er(Ar,Sr,Mr,jr,ur);if(Array.isArray($r)){var Vr=_slicedToArray$c($r,2);Dr=Vr[0],Wr=Vr[1]}else Dr=$r}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(jr),style:wr},isNumOrStr(Wr)?React.createElement("span",{className:"recharts-tooltip-item-name"},Wr):null,isNumOrStr(Wr)?React.createElement("span",{className:"recharts-tooltip-item-separator"},nr):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Dr),React.createElement("span",{className:"recharts-tooltip-item-unit"},Mr.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Or},Pr)}return null},_r=_objectSpread$B({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},ar),xr=_objectSpread$B({margin:0},cr),Rr=!isNil$1(br),Cr=Rr?br:"",Tr=clsx("recharts-default-tooltip",fr),Ir=clsx("recharts-tooltip-label",mr);Rr&&pr&&ur!==void 0&&ur!==null&&(Cr=pr(br,ur));var Lr=yr?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$t({className:Tr,style:_r},Lr),React.createElement("p",{className:Ir,style:xr},React.isValidElement(Cr)?Cr:"".concat(Cr)),vr())};function _typeof$J(tr){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$J(tr)}function _defineProperty$G(tr,er,rr){return er=_toPropertyKey$H(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$H(tr){var er=_toPrimitive$H(tr,"string");return _typeof$J(er)=="symbol"?er:er+""}function _toPrimitive$H(tr,er){if(_typeof$J(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$J(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(tr){var er=tr.coordinate,rr=tr.translateX,nr=tr.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$G(_defineProperty$G(_defineProperty$G(_defineProperty$G({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(rr)&&er&&isNumber(er.x)&&rr>=er.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(rr)&&er&&isNumber(er.x)&&rr<er.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(nr)&&er&&isNumber(er.y)&&nr>=er.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(nr)&&er&&isNumber(er.y)&&nr<er.y))}function getTooltipTranslateXY(tr){var er=tr.allowEscapeViewBox,rr=tr.coordinate,nr=tr.key,ir=tr.offsetTopLeft,ar=tr.position,sr=tr.reverseDirection,lr=tr.tooltipDimension,or=tr.viewBox,cr=tr.viewBoxDimension;if(ar&&isNumber(ar[nr]))return ar[nr];var ur=rr[nr]-lr-ir,dr=rr[nr]+ir;if(er[nr])return sr[nr]?ur:dr;if(sr[nr]){var hr=ur,fr=or[nr];return hr<fr?Math.max(dr,or[nr]):Math.max(ur,or[nr])}var mr=dr+lr,br=or[nr]+cr;return mr>br?Math.max(ur,or[nr]):Math.max(dr,or[nr])}function getTransformStyle(tr){var er=tr.translateX,rr=tr.translateY,nr=tr.useTranslate3d;return{transform:nr?"translate3d(".concat(er,"px, ").concat(rr,"px, 0)"):"translate(".concat(er,"px, ").concat(rr,"px)")}}function getTooltipTranslate(tr){var er=tr.allowEscapeViewBox,rr=tr.coordinate,nr=tr.offsetTopLeft,ir=tr.position,ar=tr.reverseDirection,sr=tr.tooltipBox,lr=tr.useTranslate3d,or=tr.viewBox,cr,ur,dr;return sr.height>0&&sr.width>0&&rr?(ur=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:rr,key:"x",offsetTopLeft:nr,position:ir,reverseDirection:ar,tooltipDimension:sr.width,viewBox:or,viewBoxDimension:or.width}),dr=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:rr,key:"y",offsetTopLeft:nr,position:ir,reverseDirection:ar,tooltipDimension:sr.height,viewBox:or,viewBoxDimension:or.height}),cr=getTransformStyle({translateX:ur,translateY:dr,useTranslate3d:lr})):cr=TOOLTIP_HIDDEN,{cssProperties:cr,cssClasses:getTooltipCSSClassName({translateX:ur,translateY:dr,coordinate:rr})}}function _typeof$I(tr){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$I(tr)}function ownKeys$A(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$A(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$A(Object(rr),!0).forEach(function(nr){_defineProperty$F(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$A(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$m(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$G(nr.key),nr)}}function _createClass$m(tr,er,rr){return er&&_defineProperties$m(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$i(tr,er,rr){return er=_getPrototypeOf$j(er),_possibleConstructorReturn$j(tr,_isNativeReflectConstruct$j()?Reflect.construct(er,rr||[],_getPrototypeOf$j(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$j(tr,er){if(er&&(_typeof$I(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$j(tr)}function _assertThisInitialized$j(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$j(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!tr})()}function _getPrototypeOf$j(tr){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$j(tr)}function _inherits$j(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$j(tr,er)}function _setPrototypeOf$j(tr,er){return _setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$j(tr,er)}function _defineProperty$F(tr,er,rr){return er=_toPropertyKey$G(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$G(tr){var er=_toPrimitive$G(tr,"string");return _typeof$I(er)=="symbol"?er:er+""}function _toPrimitive$G(tr,er){if(_typeof$I(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$I(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var EPSILON=1,TooltipBoundingBox=function(tr){function er(){var rr;_classCallCheck$m(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$i(this,er,[].concat(ir)),_defineProperty$F(rr,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$F(rr,"handleKeyDown",function(sr){if(sr.key==="Escape"){var lr,or,cr,ur;rr.setState({dismissed:!0,dismissedAtCoordinate:{x:(lr=(or=rr.props.coordinate)===null||or===void 0?void 0:or.x)!==null&&lr!==void 0?lr:0,y:(cr=(ur=rr.props.coordinate)===null||ur===void 0?void 0:ur.y)!==null&&cr!==void 0?cr:0}})}}),rr}return _inherits$j(er,tr),_createClass$m(er,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nr=this.wrapperNode.getBoundingClientRect();(Math.abs(nr.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(nr.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:nr.width,height:nr.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var nr,ir;this.props.active&&this.updateBBox(),this.state.dismissed&&(((nr=this.props.coordinate)===null||nr===void 0?void 0:nr.x)!==this.state.dismissedAtCoordinate.x||((ir=this.props.coordinate)===null||ir===void 0?void 0:ir.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var nr=this,ir=this.props,ar=ir.active,sr=ir.allowEscapeViewBox,lr=ir.animationDuration,or=ir.animationEasing,cr=ir.children,ur=ir.coordinate,dr=ir.hasPayload,hr=ir.isAnimationActive,fr=ir.offset,mr=ir.position,br=ir.reverseDirection,pr=ir.useTranslate3d,gr=ir.viewBox,yr=ir.wrapperStyle,vr=getTooltipTranslate({allowEscapeViewBox:sr,coordinate:ur,offsetTopLeft:fr,position:mr,reverseDirection:br,tooltipBox:this.state.lastBoundingBox,useTranslate3d:pr,viewBox:gr}),_r=vr.cssClasses,xr=vr.cssProperties,Rr=_objectSpread$A(_objectSpread$A({transition:hr&&ar?"transform ".concat(lr,"ms ").concat(or):void 0},xr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&ar&&dr?"visible":"hidden",position:"absolute",top:0,left:0},yr);return React.createElement("div",{tabIndex:-1,className:_r,style:Rr,ref:function(Tr){nr.wrapperNode=Tr}},cr)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function tr(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$H(tr){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$H(tr)}function ownKeys$z(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$z(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$z(Object(rr),!0).forEach(function(nr){_defineProperty$E(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$z(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$l(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$F(nr.key),nr)}}function _createClass$l(tr,er,rr){return er&&_defineProperties$l(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$h(tr,er,rr){return er=_getPrototypeOf$i(er),_possibleConstructorReturn$i(tr,_isNativeReflectConstruct$i()?Reflect.construct(er,rr||[],_getPrototypeOf$i(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$i(tr,er){if(er&&(_typeof$H(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(tr)}function _assertThisInitialized$i(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$i(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!tr})()}function _getPrototypeOf$i(tr){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$i(tr)}function _inherits$i(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$i(tr,er)}function _setPrototypeOf$i(tr,er){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$i(tr,er)}function _defineProperty$E(tr,er,rr){return er=_toPropertyKey$F(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$F(tr){var er=_toPrimitive$F(tr,"string");return _typeof$H(er)=="symbol"?er:er+""}function _toPrimitive$F(tr,er){if(_typeof$H(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$H(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}function defaultUniqBy(tr){return tr.dataKey}function renderContent(tr,er){return React.isValidElement(tr)?React.cloneElement(tr,er):typeof tr=="function"?React.createElement(tr,er):React.createElement(DefaultTooltipContent,er)}var Tooltip=function(tr){function er(){return _classCallCheck$l(this,er),_callSuper$h(this,er,arguments)}return _inherits$i(er,tr),_createClass$l(er,[{key:"render",value:function(){var nr=this,ir=this.props,ar=ir.active,sr=ir.allowEscapeViewBox,lr=ir.animationDuration,or=ir.animationEasing,cr=ir.content,ur=ir.coordinate,dr=ir.filterNull,hr=ir.isAnimationActive,fr=ir.offset,mr=ir.payload,br=ir.payloadUniqBy,pr=ir.position,gr=ir.reverseDirection,yr=ir.useTranslate3d,vr=ir.viewBox,_r=ir.wrapperStyle,xr=mr??[];dr&&xr.length&&(xr=getUniqPayload(mr.filter(function(Cr){return Cr.value!=null&&(Cr.hide!==!0||nr.props.includeHidden)}),br,defaultUniqBy));var Rr=xr.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:sr,animationDuration:lr,animationEasing:or,isAnimationActive:hr,active:ar,coordinate:ur,hasPayload:Rr,offset:fr,position:pr,reverseDirection:gr,useTranslate3d:yr,viewBox:vr,wrapperStyle:_r},renderContent(cr,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:xr})))}}])}(reactExports.PureComponent);_defineProperty$E(Tooltip,"displayName","Tooltip");_defineProperty$E(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(tr){for(var er=tr.length;er--&&reWhitespace.test(tr.charAt(er)););return er}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(tr){return tr&&tr.slice(0,trimmedEndIndex(tr)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(tr){if(typeof tr=="number")return tr;if(isSymbol$1(tr))return NAN;if(isObject$2(tr)){var er=typeof tr.valueOf=="function"?tr.valueOf():tr;tr=isObject$2(er)?er+"":er}if(typeof tr!="string")return tr===0?tr:+tr;tr=baseTrim(tr);var rr=reIsBinary.test(tr);return rr||reIsOctal.test(tr)?freeParseInt(tr.slice(2),rr?2:8):reIsBadHex.test(tr)?NAN:+tr}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(tr,er,rr){var nr,ir,ar,sr,lr,or,cr=0,ur=!1,dr=!1,hr=!0;if(typeof tr!="function")throw new TypeError(FUNC_ERROR_TEXT$1);er=toNumber$1(er)||0,isObject$1(rr)&&(ur=!!rr.leading,dr="maxWait"in rr,ar=dr?nativeMax$2(toNumber$1(rr.maxWait)||0,er):ar,hr="trailing"in rr?!!rr.trailing:hr);function fr(Rr){var Cr=nr,Tr=ir;return nr=ir=void 0,cr=Rr,sr=tr.apply(Tr,Cr),sr}function mr(Rr){return cr=Rr,lr=setTimeout(gr,er),ur?fr(Rr):sr}function br(Rr){var Cr=Rr-or,Tr=Rr-cr,Ir=er-Cr;return dr?nativeMin(Ir,ar-Tr):Ir}function pr(Rr){var Cr=Rr-or,Tr=Rr-cr;return or===void 0||Cr>=er||Cr<0||dr&&Tr>=ar}function gr(){var Rr=now();if(pr(Rr))return yr(Rr);lr=setTimeout(gr,br(Rr))}function yr(Rr){return lr=void 0,hr&&nr?fr(Rr):(nr=ir=void 0,sr)}function vr(){lr!==void 0&&clearTimeout(lr),cr=0,nr=or=ir=lr=void 0}function _r(){return lr===void 0?sr:yr(now())}function xr(){var Rr=now(),Cr=pr(Rr);if(nr=arguments,ir=this,or=Rr,Cr){if(lr===void 0)return mr(or);if(dr)return clearTimeout(lr),lr=setTimeout(gr,er),fr(or)}return lr===void 0&&(lr=setTimeout(gr,er)),sr}return xr.cancel=vr,xr.flush=_r,xr}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(tr,er,rr){var nr=!0,ir=!0;if(typeof tr!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(rr)&&(nr="leading"in rr?!!rr.leading:nr,ir="trailing"in rr?!!rr.trailing:ir),debounce(tr,er,{leading:nr,maxWait:er,trailing:ir})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$G(tr){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$G(tr)}function ownKeys$y(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$y(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$y(Object(rr),!0).forEach(function(nr){_defineProperty$D(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$y(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$D(tr,er,rr){return er=_toPropertyKey$E(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$E(tr){var er=_toPrimitive$E(tr,"string");return _typeof$G(er)=="symbol"?er:er+""}function _toPrimitive$E(tr,er){if(_typeof$G(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$G(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$b(tr,er){return _arrayWithHoles$c(tr)||_iterableToArrayLimit$b(tr,er)||_unsupportedIterableToArray$k(tr,er)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$k(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$k(tr,er)}}function _arrayLikeToArray$k(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$b(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$c(tr){if(Array.isArray(tr))return tr}var ResponsiveContainer=reactExports.forwardRef(function(tr,er){var rr=tr.aspect,nr=tr.initialDimension,ir=nr===void 0?{width:-1,height:-1}:nr,ar=tr.width,sr=ar===void 0?"100%":ar,lr=tr.height,or=lr===void 0?"100%":lr,cr=tr.minWidth,ur=cr===void 0?0:cr,dr=tr.minHeight,hr=tr.maxHeight,fr=tr.children,mr=tr.debounce,br=mr===void 0?0:mr,pr=tr.id,gr=tr.className,yr=tr.onResize,vr=tr.style,_r=vr===void 0?{}:vr,xr=reactExports.useRef(null),Rr=reactExports.useRef();Rr.current=yr,reactExports.useImperativeHandle(er,function(){return Object.defineProperty(xr.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),xr.current},configurable:!0})});var Cr=reactExports.useState({containerWidth:ir.width,containerHeight:ir.height}),Tr=_slicedToArray$b(Cr,2),Ir=Tr[0],Lr=Tr[1],Nr=reactExports.useCallback(function(Pr,Mr){Lr(function(jr){var wr=Math.round(Pr),Er=Math.round(Mr);return jr.containerWidth===wr&&jr.containerHeight===Er?jr:{containerWidth:wr,containerHeight:Er}})},[]);reactExports.useEffect(function(){var Pr=function(Sr){var Dr,Wr=Sr[0].contentRect,$r=Wr.width,Vr=Wr.height;Nr($r,Vr),(Dr=Rr.current)===null||Dr===void 0||Dr.call(Rr,$r,Vr)};br>0&&(Pr=throttle$1(Pr,br,{trailing:!0,leading:!1}));var Mr=new ResizeObserver(Pr),jr=xr.current.getBoundingClientRect(),wr=jr.width,Er=jr.height;return Nr(wr,Er),Mr.observe(xr.current),function(){Mr.disconnect()}},[Nr,br]);var Or=reactExports.useMemo(function(){var Pr=Ir.containerWidth,Mr=Ir.containerHeight;if(Pr<0||Mr<0)return null;warn(isPercent(sr)||isPercent(or),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,sr,or),warn(!rr||rr>0,"The aspect(%s) must be greater than zero.",rr);var jr=isPercent(sr)?Pr:sr,wr=isPercent(or)?Mr:or;rr&&rr>0&&(jr?wr=jr/rr:wr&&(jr=wr*rr),hr&&wr>hr&&(wr=hr)),warn(jr>0||wr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,jr,wr,sr,or,ur,dr,rr);var Er=!Array.isArray(fr)&&getDisplayName(fr.type).endsWith("Chart");return React.Children.map(fr,function(Ar){return React.isValidElement(Ar)?reactExports.cloneElement(Ar,_objectSpread$y({width:jr,height:wr},Er?{style:_objectSpread$y({height:"100%",width:"100%",maxHeight:wr,maxWidth:jr},Ar.props.style)}:{})):Ar})},[rr,fr,or,hr,dr,ur,Ir,sr]);return React.createElement("div",{id:pr?"".concat(pr):void 0,className:clsx("recharts-responsive-container",gr),style:_objectSpread$y(_objectSpread$y({},_r),{},{width:sr,height:or,minWidth:ur,minHeight:dr,maxHeight:hr}),ref:xr},Or)}),Cell=function tr(er){return null};Cell.displayName="Cell";function _typeof$F(tr){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$F(tr)}function ownKeys$x(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$x(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$x(Object(rr),!0).forEach(function(nr){_defineProperty$C(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$x(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$C(tr,er,rr){return er=_toPropertyKey$D(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$D(tr){var er=_toPrimitive$D(tr,"string");return _typeof$F(er)=="symbol"?er:er+""}function _toPrimitive$D(tr,er){if(_typeof$F(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$F(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(tr){var er=_objectSpread$x({},tr);return Object.keys(er).forEach(function(rr){er[rr]||delete er[rr]}),er}var getStringSize=function tr(er){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er==null||Global.isSsr)return{width:0,height:0};var nr=removeInvalidKeys(rr),ir=JSON.stringify({text:er,copyStyle:nr});if(stringCache.widthCache[ir])return stringCache.widthCache[ir];try{var ar=document.getElementById(MEASUREMENT_SPAN_ID);ar||(ar=document.createElement("span"),ar.setAttribute("id",MEASUREMENT_SPAN_ID),ar.setAttribute("aria-hidden","true"),document.body.appendChild(ar));var sr=_objectSpread$x(_objectSpread$x({},SPAN_STYLE),nr);Object.assign(ar.style,sr),ar.textContent="".concat(er);var lr=ar.getBoundingClientRect(),or={width:lr.width,height:lr.height};return stringCache.widthCache[ir]=or,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),or}catch{return{width:0,height:0}}},getOffset=function tr(er){return{top:er.top+window.scrollY-document.documentElement.clientTop,left:er.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$E(tr){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$E(tr)}function _slicedToArray$a(tr,er){return _arrayWithHoles$b(tr)||_iterableToArrayLimit$a(tr,er)||_unsupportedIterableToArray$j(tr,er)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$j(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$j(tr,er)}}function _arrayLikeToArray$j(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$a(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er===0){if(Object(rr)!==rr)return;or=!1}else for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$b(tr){if(Array.isArray(tr))return tr}function _classCallCheck$k(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$C(nr.key),nr)}}function _createClass$k(tr,er,rr){return er&&_defineProperties$k(tr.prototype,er),rr&&_defineProperties$k(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _toPropertyKey$C(tr){var er=_toPrimitive$C(tr,"string");return _typeof$E(er)=="symbol"?er:er+""}function _toPrimitive$C(tr,er){if(_typeof$E(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$E(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(tr,er){return tr*CONVERSION_RATES[er]}var DecimalCSS=function(){function tr(er,rr){_classCallCheck$k(this,tr),this.num=er,this.unit=rr,this.num=er,this.unit=rr,Number.isNaN(er)&&(this.unit=""),rr!==""&&!CSS_LENGTH_UNIT_REGEX.test(rr)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(rr)&&(this.num=convertToPx(er,rr),this.unit="px")}return _createClass$k(tr,[{key:"add",value:function(rr){return this.unit!==rr.unit?new tr(NaN,""):new tr(this.num+rr.num,this.unit)}},{key:"subtract",value:function(rr){return this.unit!==rr.unit?new tr(NaN,""):new tr(this.num-rr.num,this.unit)}},{key:"multiply",value:function(rr){return this.unit!==""&&rr.unit!==""&&this.unit!==rr.unit?new tr(NaN,""):new tr(this.num*rr.num,this.unit||rr.unit)}},{key:"divide",value:function(rr){return this.unit!==""&&rr.unit!==""&&this.unit!==rr.unit?new tr(NaN,""):new tr(this.num/rr.num,this.unit||rr.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(rr){var nr,ir=(nr=NUM_SPLIT_REGEX.exec(rr))!==null&&nr!==void 0?nr:[],ar=_slicedToArray$a(ir,3),sr=ar[1],lr=ar[2];return new tr(parseFloat(sr),lr??"")}}])}();function calculateArithmetic(tr){if(tr.includes(STR_NAN))return STR_NAN;for(var er=tr;er.includes("*")||er.includes("/");){var rr,nr=(rr=MULTIPLY_OR_DIVIDE_REGEX.exec(er))!==null&&rr!==void 0?rr:[],ir=_slicedToArray$a(nr,4),ar=ir[1],sr=ir[2],lr=ir[3],or=DecimalCSS.parse(ar??""),cr=DecimalCSS.parse(lr??""),ur=sr==="*"?or.multiply(cr):or.divide(cr);if(ur.isNaN())return STR_NAN;er=er.replace(MULTIPLY_OR_DIVIDE_REGEX,ur.toString())}for(;er.includes("+")||/.-\d+(?:\.\d+)?/.test(er);){var dr,hr=(dr=ADD_OR_SUBTRACT_REGEX.exec(er))!==null&&dr!==void 0?dr:[],fr=_slicedToArray$a(hr,4),mr=fr[1],br=fr[2],pr=fr[3],gr=DecimalCSS.parse(mr??""),yr=DecimalCSS.parse(pr??""),vr=br==="+"?gr.add(yr):gr.subtract(yr);if(vr.isNaN())return STR_NAN;er=er.replace(ADD_OR_SUBTRACT_REGEX,vr.toString())}return er}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(tr){for(var er=tr;er.includes("(");){var rr=PARENTHESES_REGEX.exec(er),nr=_slicedToArray$a(rr,2),ir=nr[1];er=er.replace(PARENTHESES_REGEX,calculateArithmetic(ir))}return er}function evaluateExpression(tr){var er=tr.replace(/\s+/g,"");return er=calculateParentheses(er),er=calculateArithmetic(er),er}function safeEvaluateExpression(tr){try{return evaluateExpression(tr)}catch{return STR_NAN}}function reduceCSSCalc(tr){var er=safeEvaluateExpression(tr.slice(5,-1));return er===STR_NAN?"":er}var _excluded$g=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$7=["dx","dy","angle","className","breakAll"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$s.apply(this,arguments)}function _objectWithoutProperties$g(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$g(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$g(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _slicedToArray$9(tr,er){return _arrayWithHoles$a(tr)||_iterableToArrayLimit$9(tr,er)||_unsupportedIterableToArray$i(tr,er)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$i(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$i(tr,er)}}function _arrayLikeToArray$i(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$9(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er===0){if(Object(rr)!==rr)return;or=!1}else for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$a(tr){if(Array.isArray(tr))return tr}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function tr(er){var rr=er.children,nr=er.breakAll,ir=er.style;try{var ar=[];isNil$1(rr)||(nr?ar=rr.toString().split(""):ar=rr.toString().split(BREAKING_SPACES));var sr=ar.map(function(or){return{word:or,width:getStringSize(or,ir).width}}),lr=nr?0:getStringSize("",ir).width;return{wordsWithComputedWidth:sr,spaceWidth:lr}}catch{return null}},calculateWordsByLines=function tr(er,rr,nr,ir,ar){var sr=er.maxLines,lr=er.children,or=er.style,cr=er.breakAll,ur=isNumber(sr),dr=lr,hr=function(){var jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return jr.reduce(function(wr,Er){var Ar=Er.word,Sr=Er.width,Dr=wr[wr.length-1];if(Dr&&(ir==null||ar||Dr.width+Sr+nr<Number(ir)))Dr.words.push(Ar),Dr.width+=Sr+nr;else{var Wr={words:[Ar],width:Sr};wr.push(Wr)}return wr},[])},fr=hr(rr),mr=function(jr){return jr.reduce(function(wr,Er){return wr.width>Er.width?wr:Er})};if(!ur)return fr;for(var br="",pr=function(jr){var wr=dr.slice(0,jr),Er=calculateWordWidths({breakAll:cr,style:or,children:wr+br}).wordsWithComputedWidth,Ar=hr(Er),Sr=Ar.length>sr||mr(Ar).width>Number(ir);return[Sr,Ar]},gr=0,yr=dr.length-1,vr=0,_r;gr<=yr&&vr<=dr.length-1;){var xr=Math.floor((gr+yr)/2),Rr=xr-1,Cr=pr(Rr),Tr=_slicedToArray$9(Cr,2),Ir=Tr[0],Lr=Tr[1],Nr=pr(xr),Or=_slicedToArray$9(Nr,1),Pr=Or[0];if(!Ir&&!Pr&&(gr=xr+1),Ir&&Pr&&(yr=xr-1),!Ir&&Pr){_r=Lr;break}vr++}return _r||fr},getWordsWithoutCalculate=function tr(er){var rr=isNil$1(er)?[]:er.toString().split(BREAKING_SPACES);return[{words:rr}]},getWordsByLines=function tr(er){var rr=er.width,nr=er.scaleToFit,ir=er.children,ar=er.style,sr=er.breakAll,lr=er.maxLines;if((rr||nr)&&!Global.isSsr){var or,cr,ur=calculateWordWidths({breakAll:sr,children:ir,style:ar});if(ur){var dr=ur.wordsWithComputedWidth,hr=ur.spaceWidth;or=dr,cr=hr}else return getWordsWithoutCalculate(ir);return calculateWordsByLines({breakAll:sr,children:ir,maxLines:lr,style:ar},or,cr,rr,nr)}return getWordsWithoutCalculate(ir)},DEFAULT_FILL="#808080",Text=function tr(er){var rr=er.x,nr=rr===void 0?0:rr,ir=er.y,ar=ir===void 0?0:ir,sr=er.lineHeight,lr=sr===void 0?"1em":sr,or=er.capHeight,cr=or===void 0?"0.71em":or,ur=er.scaleToFit,dr=ur===void 0?!1:ur,hr=er.textAnchor,fr=hr===void 0?"start":hr,mr=er.verticalAnchor,br=mr===void 0?"end":mr,pr=er.fill,gr=pr===void 0?DEFAULT_FILL:pr,yr=_objectWithoutProperties$g(er,_excluded$g),vr=reactExports.useMemo(function(){return getWordsByLines({breakAll:yr.breakAll,children:yr.children,maxLines:yr.maxLines,scaleToFit:dr,style:yr.style,width:yr.width})},[yr.breakAll,yr.children,yr.maxLines,dr,yr.style,yr.width]),_r=yr.dx,xr=yr.dy,Rr=yr.angle,Cr=yr.className,Tr=yr.breakAll,Ir=_objectWithoutProperties$g(yr,_excluded2$7);if(!isNumOrStr(nr)||!isNumOrStr(ar))return null;var Lr=nr+(isNumber(_r)?_r:0),Nr=ar+(isNumber(xr)?xr:0),Or;switch(br){case"start":Or=reduceCSSCalc("calc(".concat(cr,")"));break;case"middle":Or=reduceCSSCalc("calc(".concat((vr.length-1)/2," * -").concat(lr," + (").concat(cr," / 2))"));break;default:Or=reduceCSSCalc("calc(".concat(vr.length-1," * -").concat(lr,")"));break}var Pr=[];if(dr){var Mr=vr[0].width,jr=yr.width;Pr.push("scale(".concat((isNumber(jr)?jr/Mr:1)/Mr,")"))}return Rr&&Pr.push("rotate(".concat(Rr,", ").concat(Lr,", ").concat(Nr,")")),Pr.length&&(Ir.transform=Pr.join(" ")),React.createElement("text",_extends$s({},filterProps(Ir,!0),{x:Lr,y:Nr,className:clsx("recharts-text",Cr),textAnchor:fr,fill:gr.includes("url")?DEFAULT_FILL:gr}),vr.map(function(wr,Er){var Ar=wr.words.join(Tr?"":" ");return React.createElement("tspan",{x:Lr,dy:Er===0?Or:lr,key:"".concat(Ar,"-").concat(Er)},Ar)}))};function ascending(tr,er){return tr==null||er==null?NaN:tr<er?-1:tr>er?1:tr>=er?0:NaN}function descending(tr,er){return tr==null||er==null?NaN:er<tr?-1:er>tr?1:er>=tr?0:NaN}function bisector(tr){let er,rr,nr;tr.length!==2?(er=ascending,rr=(lr,or)=>ascending(tr(lr),or),nr=(lr,or)=>tr(lr)-or):(er=tr===ascending||tr===descending?tr:zero$1,rr=tr,nr=tr);function ir(lr,or,cr=0,ur=lr.length){if(cr<ur){if(er(or,or)!==0)return ur;do{const dr=cr+ur>>>1;rr(lr[dr],or)<0?cr=dr+1:ur=dr}while(cr<ur)}return cr}function ar(lr,or,cr=0,ur=lr.length){if(cr<ur){if(er(or,or)!==0)return ur;do{const dr=cr+ur>>>1;rr(lr[dr],or)<=0?cr=dr+1:ur=dr}while(cr<ur)}return cr}function sr(lr,or,cr=0,ur=lr.length){const dr=ir(lr,or,cr,ur-1);return dr>cr&&nr(lr[dr-1],or)>-nr(lr[dr],or)?dr-1:dr}return{left:ir,center:sr,right:ar}}function zero$1(){return 0}function number$2(tr){return tr===null?NaN:+tr}function*numbers(tr,er){for(let rr of tr)rr!=null&&(rr=+rr)>=rr&&(yield rr)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(er,rr=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rr}}),er!=null)for(const[nr,ir]of er)this.set(nr,ir)}get(er){return super.get(intern_get(this,er))}has(er){return super.has(intern_get(this,er))}set(er,rr){return super.set(intern_set(this,er),rr)}delete(er){return super.delete(intern_delete(this,er))}}function intern_get({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)?tr.get(nr):rr}function intern_set({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)?tr.get(nr):(tr.set(nr,rr),rr)}function intern_delete({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)&&(rr=tr.get(nr),tr.delete(nr)),rr}function keyof(tr){return tr!==null&&typeof tr=="object"?tr.valueOf():tr}function compareDefined(tr=ascending){if(tr===ascending)return ascendingDefined;if(typeof tr!="function")throw new TypeError("compare is not a function");return(er,rr)=>{const nr=tr(er,rr);return nr||nr===0?nr:(tr(rr,rr)===0)-(tr(er,er)===0)}}function ascendingDefined(tr,er){return(tr==null||!(tr>=tr))-(er==null||!(er>=er))||(tr<er?-1:tr>er?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(tr,er,rr){const nr=(er-tr)/Math.max(0,rr),ir=Math.floor(Math.log10(nr)),ar=nr/Math.pow(10,ir),sr=ar>=e10?10:ar>=e5?5:ar>=e2?2:1;let lr,or,cr;return ir<0?(cr=Math.pow(10,-ir)/sr,lr=Math.round(tr*cr),or=Math.round(er*cr),lr/cr<tr&&++lr,or/cr>er&&--or,cr=-cr):(cr=Math.pow(10,ir)*sr,lr=Math.round(tr/cr),or=Math.round(er/cr),lr*cr<tr&&++lr,or*cr>er&&--or),or<lr&&.5<=rr&&rr<2?tickSpec(tr,er,rr*2):[lr,or,cr]}function ticks(tr,er,rr){if(er=+er,tr=+tr,rr=+rr,!(rr>0))return[];if(tr===er)return[tr];const nr=er<tr,[ir,ar,sr]=nr?tickSpec(er,tr,rr):tickSpec(tr,er,rr);if(!(ar>=ir))return[];const lr=ar-ir+1,or=new Array(lr);if(nr)if(sr<0)for(let cr=0;cr<lr;++cr)or[cr]=(ar-cr)/-sr;else for(let cr=0;cr<lr;++cr)or[cr]=(ar-cr)*sr;else if(sr<0)for(let cr=0;cr<lr;++cr)or[cr]=(ir+cr)/-sr;else for(let cr=0;cr<lr;++cr)or[cr]=(ir+cr)*sr;return or}function tickIncrement(tr,er,rr){return er=+er,tr=+tr,rr=+rr,tickSpec(tr,er,rr)[2]}function tickStep(tr,er,rr){er=+er,tr=+tr,rr=+rr;const nr=er<tr,ir=nr?tickIncrement(er,tr,rr):tickIncrement(tr,er,rr);return(nr?-1:1)*(ir<0?1/-ir:ir)}function max$3(tr,er){let rr;for(const nr of tr)nr!=null&&(rr<nr||rr===void 0&&nr>=nr)&&(rr=nr);return rr}function min$2(tr,er){let rr;for(const nr of tr)nr!=null&&(rr>nr||rr===void 0&&nr>=nr)&&(rr=nr);return rr}function quickselect(tr,er,rr=0,nr=1/0,ir){if(er=Math.floor(er),rr=Math.floor(Math.max(0,rr)),nr=Math.floor(Math.min(tr.length-1,nr)),!(rr<=er&&er<=nr))return tr;for(ir=ir===void 0?ascendingDefined:compareDefined(ir);nr>rr;){if(nr-rr>600){const or=nr-rr+1,cr=er-rr+1,ur=Math.log(or),dr=.5*Math.exp(2*ur/3),hr=.5*Math.sqrt(ur*dr*(or-dr)/or)*(cr-or/2<0?-1:1),fr=Math.max(rr,Math.floor(er-cr*dr/or+hr)),mr=Math.min(nr,Math.floor(er+(or-cr)*dr/or+hr));quickselect(tr,er,fr,mr,ir)}const ar=tr[er];let sr=rr,lr=nr;for(swap(tr,rr,er),ir(tr[nr],ar)>0&&swap(tr,rr,nr);sr<lr;){for(swap(tr,sr,lr),++sr,--lr;ir(tr[sr],ar)<0;)++sr;for(;ir(tr[lr],ar)>0;)--lr}ir(tr[rr],ar)===0?swap(tr,rr,lr):(++lr,swap(tr,lr,nr)),lr<=er&&(rr=lr+1),er<=lr&&(nr=lr-1)}return tr}function swap(tr,er,rr){const nr=tr[er];tr[er]=tr[rr],tr[rr]=nr}function quantile$1(tr,er,rr){if(tr=Float64Array.from(numbers(tr)),!(!(nr=tr.length)||isNaN(er=+er))){if(er<=0||nr<2)return min$2(tr);if(er>=1)return max$3(tr);var nr,ir=(nr-1)*er,ar=Math.floor(ir),sr=max$3(quickselect(tr,ar).subarray(0,ar+1)),lr=min$2(tr.subarray(ar+1));return sr+(lr-sr)*(ir-ar)}}function quantileSorted(tr,er,rr=number$2){if(!(!(nr=tr.length)||isNaN(er=+er))){if(er<=0||nr<2)return+rr(tr[0],0,tr);if(er>=1)return+rr(tr[nr-1],nr-1,tr);var nr,ir=(nr-1)*er,ar=Math.floor(ir),sr=+rr(tr[ar],ar,tr),lr=+rr(tr[ar+1],ar+1,tr);return sr+(lr-sr)*(ir-ar)}}function range$3(tr,er,rr){tr=+tr,er=+er,rr=(ir=arguments.length)<2?(er=tr,tr=0,1):ir<3?1:+rr;for(var nr=-1,ir=Math.max(0,Math.ceil((er-tr)/rr))|0,ar=new Array(ir);++nr<ir;)ar[nr]=tr+nr*rr;return ar}function initRange(tr,er){switch(arguments.length){case 0:break;case 1:this.range(tr);break;default:this.range(er).domain(tr);break}return this}function initInterpolator(tr,er){switch(arguments.length){case 0:break;case 1:{typeof tr=="function"?this.interpolator(tr):this.range(tr);break}default:{this.domain(tr),typeof er=="function"?this.interpolator(er):this.range(er);break}}return this}const implicit=Symbol("implicit");function ordinal(){var tr=new InternMap,er=[],rr=[],nr=implicit;function ir(ar){let sr=tr.get(ar);if(sr===void 0){if(nr!==implicit)return nr;tr.set(ar,sr=er.push(ar)-1)}return rr[sr%rr.length]}return ir.domain=function(ar){if(!arguments.length)return er.slice();er=[],tr=new InternMap;for(const sr of ar)tr.has(sr)||tr.set(sr,er.push(sr)-1);return ir},ir.range=function(ar){return arguments.length?(rr=Array.from(ar),ir):rr.slice()},ir.unknown=function(ar){return arguments.length?(nr=ar,ir):nr},ir.copy=function(){return ordinal(er,rr).unknown(nr)},initRange.apply(ir,arguments),ir}function band(){var tr=ordinal().unknown(void 0),er=tr.domain,rr=tr.range,nr=0,ir=1,ar,sr,lr=!1,or=0,cr=0,ur=.5;delete tr.unknown;function dr(){var hr=er().length,fr=ir<nr,mr=fr?ir:nr,br=fr?nr:ir;ar=(br-mr)/Math.max(1,hr-or+cr*2),lr&&(ar=Math.floor(ar)),mr+=(br-mr-ar*(hr-or))*ur,sr=ar*(1-or),lr&&(mr=Math.round(mr),sr=Math.round(sr));var pr=range$3(hr).map(function(gr){return mr+ar*gr});return rr(fr?pr.reverse():pr)}return tr.domain=function(hr){return arguments.length?(er(hr),dr()):er()},tr.range=function(hr){return arguments.length?([nr,ir]=hr,nr=+nr,ir=+ir,dr()):[nr,ir]},tr.rangeRound=function(hr){return[nr,ir]=hr,nr=+nr,ir=+ir,lr=!0,dr()},tr.bandwidth=function(){return sr},tr.step=function(){return ar},tr.round=function(hr){return arguments.length?(lr=!!hr,dr()):lr},tr.padding=function(hr){return arguments.length?(or=Math.min(1,cr=+hr),dr()):or},tr.paddingInner=function(hr){return arguments.length?(or=Math.min(1,hr),dr()):or},tr.paddingOuter=function(hr){return arguments.length?(cr=+hr,dr()):cr},tr.align=function(hr){return arguments.length?(ur=Math.max(0,Math.min(1,hr)),dr()):ur},tr.copy=function(){return band(er(),[nr,ir]).round(lr).paddingInner(or).paddingOuter(cr).align(ur)},initRange.apply(dr(),arguments)}function pointish(tr){var er=tr.copy;return tr.padding=tr.paddingOuter,delete tr.paddingInner,delete tr.paddingOuter,tr.copy=function(){return pointish(er())},tr}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(tr,er,rr){tr.prototype=er.prototype=rr,rr.constructor=tr}function extend(tr,er){var rr=Object.create(tr.prototype);for(var nr in er)rr[nr]=er[nr];return rr}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(tr){return Object.assign(new this.constructor,this,tr)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(tr){var er,rr;return tr=(tr+"").trim().toLowerCase(),(er=reHex.exec(tr))?(rr=er[1].length,er=parseInt(er[1],16),rr===6?rgbn(er):rr===3?new Rgb(er>>8&15|er>>4&240,er>>4&15|er&240,(er&15)<<4|er&15,1):rr===8?rgba(er>>24&255,er>>16&255,er>>8&255,(er&255)/255):rr===4?rgba(er>>12&15|er>>8&240,er>>8&15|er>>4&240,er>>4&15|er&240,((er&15)<<4|er&15)/255):null):(er=reRgbInteger.exec(tr))?new Rgb(er[1],er[2],er[3],1):(er=reRgbPercent.exec(tr))?new Rgb(er[1]*255/100,er[2]*255/100,er[3]*255/100,1):(er=reRgbaInteger.exec(tr))?rgba(er[1],er[2],er[3],er[4]):(er=reRgbaPercent.exec(tr))?rgba(er[1]*255/100,er[2]*255/100,er[3]*255/100,er[4]):(er=reHslPercent.exec(tr))?hsla(er[1],er[2]/100,er[3]/100,1):(er=reHslaPercent.exec(tr))?hsla(er[1],er[2]/100,er[3]/100,er[4]):named.hasOwnProperty(tr)?rgbn(named[tr]):tr==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(tr){return new Rgb(tr>>16&255,tr>>8&255,tr&255,1)}function rgba(tr,er,rr,nr){return nr<=0&&(tr=er=rr=NaN),new Rgb(tr,er,rr,nr)}function rgbConvert(tr){return tr instanceof Color||(tr=color(tr)),tr?(tr=tr.rgb(),new Rgb(tr.r,tr.g,tr.b,tr.opacity)):new Rgb}function rgb$1(tr,er,rr,nr){return arguments.length===1?rgbConvert(tr):new Rgb(tr,er,rr,nr??1)}function Rgb(tr,er,rr,nr){this.r=+tr,this.g=+er,this.b=+rr,this.opacity=+nr}define(Rgb,rgb$1,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const tr=clampa(this.opacity);return`${tr===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${tr===1?")":`, ${tr})`}`}function clampa(tr){return isNaN(tr)?1:Math.max(0,Math.min(1,tr))}function clampi(tr){return Math.max(0,Math.min(255,Math.round(tr)||0))}function hex(tr){return tr=clampi(tr),(tr<16?"0":"")+tr.toString(16)}function hsla(tr,er,rr,nr){return nr<=0?tr=er=rr=NaN:rr<=0||rr>=1?tr=er=NaN:er<=0&&(tr=NaN),new Hsl(tr,er,rr,nr)}function hslConvert(tr){if(tr instanceof Hsl)return new Hsl(tr.h,tr.s,tr.l,tr.opacity);if(tr instanceof Color||(tr=color(tr)),!tr)return new Hsl;if(tr instanceof Hsl)return tr;tr=tr.rgb();var er=tr.r/255,rr=tr.g/255,nr=tr.b/255,ir=Math.min(er,rr,nr),ar=Math.max(er,rr,nr),sr=NaN,lr=ar-ir,or=(ar+ir)/2;return lr?(er===ar?sr=(rr-nr)/lr+(rr<nr)*6:rr===ar?sr=(nr-er)/lr+2:sr=(er-rr)/lr+4,lr/=or<.5?ar+ir:2-ar-ir,sr*=60):lr=or>0&&or<1?0:sr,new Hsl(sr,lr,or,tr.opacity)}function hsl(tr,er,rr,nr){return arguments.length===1?hslConvert(tr):new Hsl(tr,er,rr,nr??1)}function Hsl(tr,er,rr,nr){this.h=+tr,this.s=+er,this.l=+rr,this.opacity=+nr}define(Hsl,hsl,extend(Color,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},rgb(){var tr=this.h%360+(this.h<0)*360,er=isNaN(tr)||isNaN(this.s)?0:this.s,rr=this.l,nr=rr+(rr<.5?rr:1-rr)*er,ir=2*rr-nr;return new Rgb(hsl2rgb(tr>=240?tr-240:tr+120,ir,nr),hsl2rgb(tr,ir,nr),hsl2rgb(tr<120?tr+240:tr-120,ir,nr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const tr=clampa(this.opacity);return`${tr===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${tr===1?")":`, ${tr})`}`}}));function clamph(tr){return tr=(tr||0)%360,tr<0?tr+360:tr}function clampt(tr){return Math.max(0,Math.min(1,tr||0))}function hsl2rgb(tr,er,rr){return(tr<60?er+(rr-er)*tr/60:tr<180?rr:tr<240?er+(rr-er)*(240-tr)/60:er)*255}const constant=tr=>()=>tr;function linear$1(tr,er){return function(rr){return tr+rr*er}}function exponential(tr,er,rr){return tr=Math.pow(tr,rr),er=Math.pow(er,rr)-tr,rr=1/rr,function(nr){return Math.pow(tr+nr*er,rr)}}function gamma(tr){return(tr=+tr)==1?nogamma:function(er,rr){return rr-er?exponential(er,rr,tr):constant(isNaN(er)?rr:er)}}function nogamma(tr,er){var rr=er-tr;return rr?linear$1(tr,rr):constant(isNaN(tr)?er:tr)}const rgb=function tr(er){var rr=gamma(er);function nr(ir,ar){var sr=rr((ir=rgb$1(ir)).r,(ar=rgb$1(ar)).r),lr=rr(ir.g,ar.g),or=rr(ir.b,ar.b),cr=nogamma(ir.opacity,ar.opacity);return function(ur){return ir.r=sr(ur),ir.g=lr(ur),ir.b=or(ur),ir.opacity=cr(ur),ir+""}}return nr.gamma=tr,nr}(1);function numberArray(tr,er){er||(er=[]);var rr=tr?Math.min(er.length,tr.length):0,nr=er.slice(),ir;return function(ar){for(ir=0;ir<rr;++ir)nr[ir]=tr[ir]*(1-ar)+er[ir]*ar;return nr}}function isNumberArray(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}function genericArray(tr,er){var rr=er?er.length:0,nr=tr?Math.min(rr,tr.length):0,ir=new Array(nr),ar=new Array(rr),sr;for(sr=0;sr<nr;++sr)ir[sr]=interpolate(tr[sr],er[sr]);for(;sr<rr;++sr)ar[sr]=er[sr];return function(lr){for(sr=0;sr<nr;++sr)ar[sr]=ir[sr](lr);return ar}}function date$1(tr,er){var rr=new Date;return tr=+tr,er=+er,function(nr){return rr.setTime(tr*(1-nr)+er*nr),rr}}function interpolateNumber$1(tr,er){return tr=+tr,er=+er,function(rr){return tr*(1-rr)+er*rr}}function object(tr,er){var rr={},nr={},ir;(tr===null||typeof tr!="object")&&(tr={}),(er===null||typeof er!="object")&&(er={});for(ir in er)ir in tr?rr[ir]=interpolate(tr[ir],er[ir]):nr[ir]=er[ir];return function(ar){for(ir in rr)nr[ir]=rr[ir](ar);return nr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(tr){return function(){return tr}}function one(tr){return function(er){return tr(er)+""}}function string(tr,er){var rr=reA.lastIndex=reB.lastIndex=0,nr,ir,ar,sr=-1,lr=[],or=[];for(tr=tr+"",er=er+"";(nr=reA.exec(tr))&&(ir=reB.exec(er));)(ar=ir.index)>rr&&(ar=er.slice(rr,ar),lr[sr]?lr[sr]+=ar:lr[++sr]=ar),(nr=nr[0])===(ir=ir[0])?lr[sr]?lr[sr]+=ir:lr[++sr]=ir:(lr[++sr]=null,or.push({i:sr,x:interpolateNumber$1(nr,ir)})),rr=reB.lastIndex;return rr<er.length&&(ar=er.slice(rr),lr[sr]?lr[sr]+=ar:lr[++sr]=ar),lr.length<2?or[0]?one(or[0].x):zero(er):(er=or.length,function(cr){for(var ur=0,dr;ur<er;++ur)lr[(dr=or[ur]).i]=dr.x(cr);return lr.join("")})}function interpolate(tr,er){var rr=typeof er,nr;return er==null||rr==="boolean"?constant(er):(rr==="number"?interpolateNumber$1:rr==="string"?(nr=color(er))?(er=nr,rgb):string:er instanceof color?rgb:er instanceof Date?date$1:isNumberArray(er)?numberArray:Array.isArray(er)?genericArray:typeof er.valueOf!="function"&&typeof er.toString!="function"||isNaN(er)?object:interpolateNumber$1)(tr,er)}function interpolateRound(tr,er){return tr=+tr,er=+er,function(rr){return Math.round(tr*(1-rr)+er*rr)}}function piecewise(tr,er){er===void 0&&(er=tr,tr=interpolate);for(var rr=0,nr=er.length-1,ir=er[0],ar=new Array(nr<0?0:nr);rr<nr;)ar[rr]=tr(ir,ir=er[++rr]);return function(sr){var lr=Math.max(0,Math.min(nr-1,Math.floor(sr*=nr)));return ar[lr](sr-lr)}}function constants(tr){return function(){return tr}}function number$1(tr){return+tr}var unit=[0,1];function identity$6(tr){return tr}function normalize(tr,er){return(er-=tr=+tr)?function(rr){return(rr-tr)/er}:constants(isNaN(er)?NaN:.5)}function clamper(tr,er){var rr;return tr>er&&(rr=tr,tr=er,er=rr),function(nr){return Math.max(tr,Math.min(er,nr))}}function bimap(tr,er,rr){var nr=tr[0],ir=tr[1],ar=er[0],sr=er[1];return ir<nr?(nr=normalize(ir,nr),ar=rr(sr,ar)):(nr=normalize(nr,ir),ar=rr(ar,sr)),function(lr){return ar(nr(lr))}}function polymap(tr,er,rr){var nr=Math.min(tr.length,er.length)-1,ir=new Array(nr),ar=new Array(nr),sr=-1;for(tr[nr]<tr[0]&&(tr=tr.slice().reverse(),er=er.slice().reverse());++sr<nr;)ir[sr]=normalize(tr[sr],tr[sr+1]),ar[sr]=rr(er[sr],er[sr+1]);return function(lr){var or=bisectRight(tr,lr,1,nr)-1;return ar[or](ir[or](lr))}}function copy$1(tr,er){return er.domain(tr.domain()).range(tr.range()).interpolate(tr.interpolate()).clamp(tr.clamp()).unknown(tr.unknown())}function transformer$2(){var tr=unit,er=unit,rr=interpolate,nr,ir,ar,sr=identity$6,lr,or,cr;function ur(){var hr=Math.min(tr.length,er.length);return sr!==identity$6&&(sr=clamper(tr[0],tr[hr-1])),lr=hr>2?polymap:bimap,or=cr=null,dr}function dr(hr){return hr==null||isNaN(hr=+hr)?ar:(or||(or=lr(tr.map(nr),er,rr)))(nr(sr(hr)))}return dr.invert=function(hr){return sr(ir((cr||(cr=lr(er,tr.map(nr),interpolateNumber$1)))(hr)))},dr.domain=function(hr){return arguments.length?(tr=Array.from(hr,number$1),ur()):tr.slice()},dr.range=function(hr){return arguments.length?(er=Array.from(hr),ur()):er.slice()},dr.rangeRound=function(hr){return er=Array.from(hr),rr=interpolateRound,ur()},dr.clamp=function(hr){return arguments.length?(sr=hr?!0:identity$6,ur()):sr!==identity$6},dr.interpolate=function(hr){return arguments.length?(rr=hr,ur()):rr},dr.unknown=function(hr){return arguments.length?(ar=hr,dr):ar},function(hr,fr){return nr=hr,ir=fr,ur()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(tr){return Math.abs(tr=Math.round(tr))>=1e21?tr.toLocaleString("en").replace(/,/g,""):tr.toString(10)}function formatDecimalParts(tr,er){if((rr=(tr=er?tr.toExponential(er-1):tr.toExponential()).indexOf("e"))<0)return null;var rr,nr=tr.slice(0,rr);return[nr.length>1?nr[0]+nr.slice(2):nr,+tr.slice(rr+1)]}function exponent(tr){return tr=formatDecimalParts(Math.abs(tr)),tr?tr[1]:NaN}function formatGroup(tr,er){return function(rr,nr){for(var ir=rr.length,ar=[],sr=0,lr=tr[0],or=0;ir>0&&lr>0&&(or+lr+1>nr&&(lr=Math.max(1,nr-or)),ar.push(rr.substring(ir-=lr,ir+lr)),!((or+=lr+1)>nr));)lr=tr[sr=(sr+1)%tr.length];return ar.reverse().join(er)}}function formatNumerals(tr){return function(er){return er.replace(/[0-9]/g,function(rr){return tr[+rr]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(tr){if(!(er=re$1.exec(tr)))throw new Error("invalid format: "+tr);var er;return new FormatSpecifier({fill:er[1],align:er[2],sign:er[3],symbol:er[4],zero:er[5],width:er[6],comma:er[7],precision:er[8]&&er[8].slice(1),trim:er[9],type:er[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(tr){this.fill=tr.fill===void 0?" ":tr.fill+"",this.align=tr.align===void 0?">":tr.align+"",this.sign=tr.sign===void 0?"-":tr.sign+"",this.symbol=tr.symbol===void 0?"":tr.symbol+"",this.zero=!!tr.zero,this.width=tr.width===void 0?void 0:+tr.width,this.comma=!!tr.comma,this.precision=tr.precision===void 0?void 0:+tr.precision,this.trim=!!tr.trim,this.type=tr.type===void 0?"":tr.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(tr){e:for(var er=tr.length,rr=1,nr=-1,ir;rr<er;++rr)switch(tr[rr]){case".":nr=ir=rr;break;case"0":nr===0&&(nr=rr),ir=rr;break;default:if(!+tr[rr])break e;nr>0&&(nr=0);break}return nr>0?tr.slice(0,nr)+tr.slice(ir+1):tr}var prefixExponent;function formatPrefixAuto(tr,er){var rr=formatDecimalParts(tr,er);if(!rr)return tr+"";var nr=rr[0],ir=rr[1],ar=ir-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(ir/3)))*3)+1,sr=nr.length;return ar===sr?nr:ar>sr?nr+new Array(ar-sr+1).join("0"):ar>0?nr.slice(0,ar)+"."+nr.slice(ar):"0."+new Array(1-ar).join("0")+formatDecimalParts(tr,Math.max(0,er+ar-1))[0]}function formatRounded(tr,er){var rr=formatDecimalParts(tr,er);if(!rr)return tr+"";var nr=rr[0],ir=rr[1];return ir<0?"0."+new Array(-ir).join("0")+nr:nr.length>ir+1?nr.slice(0,ir+1)+"."+nr.slice(ir+1):nr+new Array(ir-nr.length+2).join("0")}const formatTypes={"%":(tr,er)=>(tr*100).toFixed(er),b:tr=>Math.round(tr).toString(2),c:tr=>tr+"",d:formatDecimal,e:(tr,er)=>tr.toExponential(er),f:(tr,er)=>tr.toFixed(er),g:(tr,er)=>tr.toPrecision(er),o:tr=>Math.round(tr).toString(8),p:(tr,er)=>formatRounded(tr*100,er),r:formatRounded,s:formatPrefixAuto,X:tr=>Math.round(tr).toString(16).toUpperCase(),x:tr=>Math.round(tr).toString(16)};function identity$5(tr){return tr}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(tr){var er=tr.grouping===void 0||tr.thousands===void 0?identity$5:formatGroup(map$3.call(tr.grouping,Number),tr.thousands+""),rr=tr.currency===void 0?"":tr.currency[0]+"",nr=tr.currency===void 0?"":tr.currency[1]+"",ir=tr.decimal===void 0?".":tr.decimal+"",ar=tr.numerals===void 0?identity$5:formatNumerals(map$3.call(tr.numerals,String)),sr=tr.percent===void 0?"%":tr.percent+"",lr=tr.minus===void 0?"":tr.minus+"",or=tr.nan===void 0?"NaN":tr.nan+"";function cr(dr){dr=formatSpecifier(dr);var hr=dr.fill,fr=dr.align,mr=dr.sign,br=dr.symbol,pr=dr.zero,gr=dr.width,yr=dr.comma,vr=dr.precision,_r=dr.trim,xr=dr.type;xr==="n"?(yr=!0,xr="g"):formatTypes[xr]||(vr===void 0&&(vr=12),_r=!0,xr="g"),(pr||hr==="0"&&fr==="=")&&(pr=!0,hr="0",fr="=");var Rr=br==="$"?rr:br==="#"&&/[boxX]/.test(xr)?"0"+xr.toLowerCase():"",Cr=br==="$"?nr:/[%p]/.test(xr)?sr:"",Tr=formatTypes[xr],Ir=/[defgprs%]/.test(xr);vr=vr===void 0?6:/[gprs]/.test(xr)?Math.max(1,Math.min(21,vr)):Math.max(0,Math.min(20,vr));function Lr(Nr){var Or=Rr,Pr=Cr,Mr,jr,wr;if(xr==="c")Pr=Tr(Nr)+Pr,Nr="";else{Nr=+Nr;var Er=Nr<0||1/Nr<0;if(Nr=isNaN(Nr)?or:Tr(Math.abs(Nr),vr),_r&&(Nr=formatTrim(Nr)),Er&&+Nr==0&&mr!=="+"&&(Er=!1),Or=(Er?mr==="("?mr:lr:mr==="-"||mr==="("?"":mr)+Or,Pr=(xr==="s"?prefixes[8+prefixExponent/3]:"")+Pr+(Er&&mr==="("?")":""),Ir){for(Mr=-1,jr=Nr.length;++Mr<jr;)if(wr=Nr.charCodeAt(Mr),48>wr||wr>57){Pr=(wr===46?ir+Nr.slice(Mr+1):Nr.slice(Mr))+Pr,Nr=Nr.slice(0,Mr);break}}}yr&&!pr&&(Nr=er(Nr,1/0));var Ar=Or.length+Nr.length+Pr.length,Sr=Ar<gr?new Array(gr-Ar+1).join(hr):"";switch(yr&&pr&&(Nr=er(Sr+Nr,Sr.length?gr-Pr.length:1/0),Sr=""),fr){case"<":Nr=Or+Nr+Pr+Sr;break;case"=":Nr=Or+Sr+Nr+Pr;break;case"^":Nr=Sr.slice(0,Ar=Sr.length>>1)+Or+Nr+Pr+Sr.slice(Ar);break;default:Nr=Sr+Or+Nr+Pr;break}return ar(Nr)}return Lr.toString=function(){return dr+""},Lr}function ur(dr,hr){var fr=cr((dr=formatSpecifier(dr),dr.type="f",dr)),mr=Math.max(-8,Math.min(8,Math.floor(exponent(hr)/3)))*3,br=Math.pow(10,-mr),pr=prefixes[8+mr/3];return function(gr){return fr(br*gr)+pr}}return{format:cr,formatPrefix:ur}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(tr){return locale$1=formatLocale$1(tr),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(tr){return Math.max(0,-exponent(Math.abs(tr)))}function precisionPrefix(tr,er){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(er)/3)))*3-exponent(Math.abs(tr)))}function precisionRound(tr,er){return tr=Math.abs(tr),er=Math.abs(er)-tr,Math.max(0,exponent(er)-exponent(tr))+1}function tickFormat(tr,er,rr,nr){var ir=tickStep(tr,er,rr),ar;switch(nr=formatSpecifier(nr??",f"),nr.type){case"s":{var sr=Math.max(Math.abs(tr),Math.abs(er));return nr.precision==null&&!isNaN(ar=precisionPrefix(ir,sr))&&(nr.precision=ar),formatPrefix(nr,sr)}case"":case"e":case"g":case"p":case"r":{nr.precision==null&&!isNaN(ar=precisionRound(ir,Math.max(Math.abs(tr),Math.abs(er))))&&(nr.precision=ar-(nr.type==="e"));break}case"f":case"%":{nr.precision==null&&!isNaN(ar=precisionFixed(ir))&&(nr.precision=ar-(nr.type==="%")*2);break}}return format(nr)}function linearish(tr){var er=tr.domain;return tr.ticks=function(rr){var nr=er();return ticks(nr[0],nr[nr.length-1],rr??10)},tr.tickFormat=function(rr,nr){var ir=er();return tickFormat(ir[0],ir[ir.length-1],rr??10,nr)},tr.nice=function(rr){rr==null&&(rr=10);var nr=er(),ir=0,ar=nr.length-1,sr=nr[ir],lr=nr[ar],or,cr,ur=10;for(lr<sr&&(cr=sr,sr=lr,lr=cr,cr=ir,ir=ar,ar=cr);ur-- >0;){if(cr=tickIncrement(sr,lr,rr),cr===or)return nr[ir]=sr,nr[ar]=lr,er(nr);if(cr>0)sr=Math.floor(sr/cr)*cr,lr=Math.ceil(lr/cr)*cr;else if(cr<0)sr=Math.ceil(sr*cr)/cr,lr=Math.floor(lr*cr)/cr;else break;or=cr}return tr},tr}function linear(){var tr=continuous();return tr.copy=function(){return copy$1(tr,linear())},initRange.apply(tr,arguments),linearish(tr)}function identity$4(tr){var er;function rr(nr){return nr==null||isNaN(nr=+nr)?er:nr}return rr.invert=rr,rr.domain=rr.range=function(nr){return arguments.length?(tr=Array.from(nr,number$1),rr):tr.slice()},rr.unknown=function(nr){return arguments.length?(er=nr,rr):er},rr.copy=function(){return identity$4(tr).unknown(er)},tr=arguments.length?Array.from(tr,number$1):[0,1],linearish(rr)}function nice(tr,er){tr=tr.slice();var rr=0,nr=tr.length-1,ir=tr[rr],ar=tr[nr],sr;return ar<ir&&(sr=rr,rr=nr,nr=sr,sr=ir,ir=ar,ar=sr),tr[rr]=er.floor(ir),tr[nr]=er.ceil(ar),tr}function transformLog(tr){return Math.log(tr)}function transformExp(tr){return Math.exp(tr)}function transformLogn(tr){return-Math.log(-tr)}function transformExpn(tr){return-Math.exp(-tr)}function pow10(tr){return isFinite(tr)?+("1e"+tr):tr<0?0:tr}function powp(tr){return tr===10?pow10:tr===Math.E?Math.exp:er=>Math.pow(tr,er)}function logp(tr){return tr===Math.E?Math.log:tr===10&&Math.log10||tr===2&&Math.log2||(tr=Math.log(tr),er=>Math.log(er)/tr)}function reflect(tr){return(er,rr)=>-tr(-er,rr)}function loggish(tr){const er=tr(transformLog,transformExp),rr=er.domain;let nr=10,ir,ar;function sr(){return ir=logp(nr),ar=powp(nr),rr()[0]<0?(ir=reflect(ir),ar=reflect(ar),tr(transformLogn,transformExpn)):tr(transformLog,transformExp),er}return er.base=function(lr){return arguments.length?(nr=+lr,sr()):nr},er.domain=function(lr){return arguments.length?(rr(lr),sr()):rr()},er.ticks=lr=>{const or=rr();let cr=or[0],ur=or[or.length-1];const dr=ur<cr;dr&&([cr,ur]=[ur,cr]);let hr=ir(cr),fr=ir(ur),mr,br;const pr=lr==null?10:+lr;let gr=[];if(!(nr%1)&&fr-hr<pr){if(hr=Math.floor(hr),fr=Math.ceil(fr),cr>0){for(;hr<=fr;++hr)for(mr=1;mr<nr;++mr)if(br=hr<0?mr/ar(-hr):mr*ar(hr),!(br<cr)){if(br>ur)break;gr.push(br)}}else for(;hr<=fr;++hr)for(mr=nr-1;mr>=1;--mr)if(br=hr>0?mr/ar(-hr):mr*ar(hr),!(br<cr)){if(br>ur)break;gr.push(br)}gr.length*2<pr&&(gr=ticks(cr,ur,pr))}else gr=ticks(hr,fr,Math.min(fr-hr,pr)).map(ar);return dr?gr.reverse():gr},er.tickFormat=(lr,or)=>{if(lr==null&&(lr=10),or==null&&(or=nr===10?"s":","),typeof or!="function"&&(!(nr%1)&&(or=formatSpecifier(or)).precision==null&&(or.trim=!0),or=format(or)),lr===1/0)return or;const cr=Math.max(1,nr*lr/er.ticks().length);return ur=>{let dr=ur/ar(Math.round(ir(ur)));return dr*nr<nr-.5&&(dr*=nr),dr<=cr?or(ur):""}},er.nice=()=>rr(nice(rr(),{floor:lr=>ar(Math.floor(ir(lr))),ceil:lr=>ar(Math.ceil(ir(lr)))})),er}function log(){const tr=loggish(transformer$2()).domain([1,10]);return tr.copy=()=>copy$1(tr,log()).base(tr.base()),initRange.apply(tr,arguments),tr}function transformSymlog(tr){return function(er){return Math.sign(er)*Math.log1p(Math.abs(er/tr))}}function transformSymexp(tr){return function(er){return Math.sign(er)*Math.expm1(Math.abs(er))*tr}}function symlogish(tr){var er=1,rr=tr(transformSymlog(er),transformSymexp(er));return rr.constant=function(nr){return arguments.length?tr(transformSymlog(er=+nr),transformSymexp(er)):er},linearish(rr)}function symlog(){var tr=symlogish(transformer$2());return tr.copy=function(){return copy$1(tr,symlog()).constant(tr.constant())},initRange.apply(tr,arguments)}function transformPow(tr){return function(er){return er<0?-Math.pow(-er,tr):Math.pow(er,tr)}}function transformSqrt(tr){return tr<0?-Math.sqrt(-tr):Math.sqrt(tr)}function transformSquare(tr){return tr<0?-tr*tr:tr*tr}function powish(tr){var er=tr(identity$6,identity$6),rr=1;function nr(){return rr===1?tr(identity$6,identity$6):rr===.5?tr(transformSqrt,transformSquare):tr(transformPow(rr),transformPow(1/rr))}return er.exponent=function(ir){return arguments.length?(rr=+ir,nr()):rr},linearish(er)}function pow(){var tr=powish(transformer$2());return tr.copy=function(){return copy$1(tr,pow()).exponent(tr.exponent())},initRange.apply(tr,arguments),tr}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(tr){return Math.sign(tr)*tr*tr}function unsquare(tr){return Math.sign(tr)*Math.sqrt(Math.abs(tr))}function radial(){var tr=continuous(),er=[0,1],rr=!1,nr;function ir(ar){var sr=unsquare(tr(ar));return isNaN(sr)?nr:rr?Math.round(sr):sr}return ir.invert=function(ar){return tr.invert(square(ar))},ir.domain=function(ar){return arguments.length?(tr.domain(ar),ir):tr.domain()},ir.range=function(ar){return arguments.length?(tr.range((er=Array.from(ar,number$1)).map(square)),ir):er.slice()},ir.rangeRound=function(ar){return ir.range(ar).round(!0)},ir.round=function(ar){return arguments.length?(rr=!!ar,ir):rr},ir.clamp=function(ar){return arguments.length?(tr.clamp(ar),ir):tr.clamp()},ir.unknown=function(ar){return arguments.length?(nr=ar,ir):nr},ir.copy=function(){return radial(tr.domain(),er).round(rr).clamp(tr.clamp()).unknown(nr)},initRange.apply(ir,arguments),linearish(ir)}function quantile(){var tr=[],er=[],rr=[],nr;function ir(){var sr=0,lr=Math.max(1,er.length);for(rr=new Array(lr-1);++sr<lr;)rr[sr-1]=quantileSorted(tr,sr/lr);return ar}function ar(sr){return sr==null||isNaN(sr=+sr)?nr:er[bisectRight(rr,sr)]}return ar.invertExtent=function(sr){var lr=er.indexOf(sr);return lr<0?[NaN,NaN]:[lr>0?rr[lr-1]:tr[0],lr<rr.length?rr[lr]:tr[tr.length-1]]},ar.domain=function(sr){if(!arguments.length)return tr.slice();tr=[];for(let lr of sr)lr!=null&&!isNaN(lr=+lr)&&tr.push(lr);return tr.sort(ascending),ir()},ar.range=function(sr){return arguments.length?(er=Array.from(sr),ir()):er.slice()},ar.unknown=function(sr){return arguments.length?(nr=sr,ar):nr},ar.quantiles=function(){return rr.slice()},ar.copy=function(){return quantile().domain(tr).range(er).unknown(nr)},initRange.apply(ar,arguments)}function quantize(){var tr=0,er=1,rr=1,nr=[.5],ir=[0,1],ar;function sr(or){return or!=null&&or<=or?ir[bisectRight(nr,or,0,rr)]:ar}function lr(){var or=-1;for(nr=new Array(rr);++or<rr;)nr[or]=((or+1)*er-(or-rr)*tr)/(rr+1);return sr}return sr.domain=function(or){return arguments.length?([tr,er]=or,tr=+tr,er=+er,lr()):[tr,er]},sr.range=function(or){return arguments.length?(rr=(ir=Array.from(or)).length-1,lr()):ir.slice()},sr.invertExtent=function(or){var cr=ir.indexOf(or);return cr<0?[NaN,NaN]:cr<1?[tr,nr[0]]:cr>=rr?[nr[rr-1],er]:[nr[cr-1],nr[cr]]},sr.unknown=function(or){return arguments.length&&(ar=or),sr},sr.thresholds=function(){return nr.slice()},sr.copy=function(){return quantize().domain([tr,er]).range(ir).unknown(ar)},initRange.apply(linearish(sr),arguments)}function threshold(){var tr=[.5],er=[0,1],rr,nr=1;function ir(ar){return ar!=null&&ar<=ar?er[bisectRight(tr,ar,0,nr)]:rr}return ir.domain=function(ar){return arguments.length?(tr=Array.from(ar),nr=Math.min(tr.length,er.length-1),ir):tr.slice()},ir.range=function(ar){return arguments.length?(er=Array.from(ar),nr=Math.min(tr.length,er.length-1),ir):er.slice()},ir.invertExtent=function(ar){var sr=er.indexOf(ar);return[tr[sr-1],tr[sr]]},ir.unknown=function(ar){return arguments.length?(rr=ar,ir):rr},ir.copy=function(){return threshold().domain(tr).range(er).unknown(rr)},initRange.apply(ir,arguments)}const t0=new Date,t1=new Date;function timeInterval(tr,er,rr,nr){function ir(ar){return tr(ar=arguments.length===0?new Date:new Date(+ar)),ar}return ir.floor=ar=>(tr(ar=new Date(+ar)),ar),ir.ceil=ar=>(tr(ar=new Date(ar-1)),er(ar,1),tr(ar),ar),ir.round=ar=>{const sr=ir(ar),lr=ir.ceil(ar);return ar-sr<lr-ar?sr:lr},ir.offset=(ar,sr)=>(er(ar=new Date(+ar),sr==null?1:Math.floor(sr)),ar),ir.range=(ar,sr,lr)=>{const or=[];if(ar=ir.ceil(ar),lr=lr==null?1:Math.floor(lr),!(ar<sr)||!(lr>0))return or;let cr;do or.push(cr=new Date(+ar)),er(ar,lr),tr(ar);while(cr<ar&&ar<sr);return or},ir.filter=ar=>timeInterval(sr=>{if(sr>=sr)for(;tr(sr),!ar(sr);)sr.setTime(sr-1)},(sr,lr)=>{if(sr>=sr)if(lr<0)for(;++lr<=0;)for(;er(sr,-1),!ar(sr););else for(;--lr>=0;)for(;er(sr,1),!ar(sr););}),rr&&(ir.count=(ar,sr)=>(t0.setTime(+ar),t1.setTime(+sr),tr(t0),tr(t1),Math.floor(rr(t0,t1))),ir.every=ar=>(ar=Math.floor(ar),!isFinite(ar)||!(ar>0)?null:ar>1?ir.filter(nr?sr=>nr(sr)%ar===0:sr=>ir.count(0,sr)%ar===0):ir)),ir}const millisecond=timeInterval(()=>{},(tr,er)=>{tr.setTime(+tr+er)},(tr,er)=>er-tr);millisecond.every=tr=>(tr=Math.floor(tr),!isFinite(tr)||!(tr>0)?null:tr>1?timeInterval(er=>{er.setTime(Math.floor(er/tr)*tr)},(er,rr)=>{er.setTime(+er+rr*tr)},(er,rr)=>(rr-er)/tr):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds())},(tr,er)=>{tr.setTime(+tr+er*durationSecond)},(tr,er)=>(er-tr)/durationSecond,tr=>tr.getUTCSeconds());second.range;const timeMinute=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond)},(tr,er)=>{tr.setTime(+tr+er*durationMinute)},(tr,er)=>(er-tr)/durationMinute,tr=>tr.getMinutes());timeMinute.range;const utcMinute=timeInterval(tr=>{tr.setUTCSeconds(0,0)},(tr,er)=>{tr.setTime(+tr+er*durationMinute)},(tr,er)=>(er-tr)/durationMinute,tr=>tr.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond-tr.getMinutes()*durationMinute)},(tr,er)=>{tr.setTime(+tr+er*durationHour)},(tr,er)=>(er-tr)/durationHour,tr=>tr.getHours());timeHour.range;const utcHour=timeInterval(tr=>{tr.setUTCMinutes(0,0,0)},(tr,er)=>{tr.setTime(+tr+er*durationHour)},(tr,er)=>(er-tr)/durationHour,tr=>tr.getUTCHours());utcHour.range;const timeDay=timeInterval(tr=>tr.setHours(0,0,0,0),(tr,er)=>tr.setDate(tr.getDate()+er),(tr,er)=>(er-tr-(er.getTimezoneOffset()-tr.getTimezoneOffset())*durationMinute)/durationDay,tr=>tr.getDate()-1);timeDay.range;const utcDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCDate(tr.getUTCDate()+er)},(tr,er)=>(er-tr)/durationDay,tr=>tr.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCDate(tr.getUTCDate()+er)},(tr,er)=>(er-tr)/durationDay,tr=>Math.floor(tr/durationDay));unixDay.range;function timeWeekday(tr){return timeInterval(er=>{er.setDate(er.getDate()-(er.getDay()+7-tr)%7),er.setHours(0,0,0,0)},(er,rr)=>{er.setDate(er.getDate()+rr*7)},(er,rr)=>(rr-er-(rr.getTimezoneOffset()-er.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(tr){return timeInterval(er=>{er.setUTCDate(er.getUTCDate()-(er.getUTCDay()+7-tr)%7),er.setUTCHours(0,0,0,0)},(er,rr)=>{er.setUTCDate(er.getUTCDate()+rr*7)},(er,rr)=>(rr-er)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(tr=>{tr.setDate(1),tr.setHours(0,0,0,0)},(tr,er)=>{tr.setMonth(tr.getMonth()+er)},(tr,er)=>er.getMonth()-tr.getMonth()+(er.getFullYear()-tr.getFullYear())*12,tr=>tr.getMonth());timeMonth.range;const utcMonth=timeInterval(tr=>{tr.setUTCDate(1),tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCMonth(tr.getUTCMonth()+er)},(tr,er)=>er.getUTCMonth()-tr.getUTCMonth()+(er.getUTCFullYear()-tr.getUTCFullYear())*12,tr=>tr.getUTCMonth());utcMonth.range;const timeYear=timeInterval(tr=>{tr.setMonth(0,1),tr.setHours(0,0,0,0)},(tr,er)=>{tr.setFullYear(tr.getFullYear()+er)},(tr,er)=>er.getFullYear()-tr.getFullYear(),tr=>tr.getFullYear());timeYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(er=>{er.setFullYear(Math.floor(er.getFullYear()/tr)*tr),er.setMonth(0,1),er.setHours(0,0,0,0)},(er,rr)=>{er.setFullYear(er.getFullYear()+rr*tr)});timeYear.range;const utcYear=timeInterval(tr=>{tr.setUTCMonth(0,1),tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCFullYear(tr.getUTCFullYear()+er)},(tr,er)=>er.getUTCFullYear()-tr.getUTCFullYear(),tr=>tr.getUTCFullYear());utcYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(er=>{er.setUTCFullYear(Math.floor(er.getUTCFullYear()/tr)*tr),er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0)},(er,rr)=>{er.setUTCFullYear(er.getUTCFullYear()+rr*tr)});utcYear.range;function ticker(tr,er,rr,nr,ir,ar){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ar,1,durationMinute],[ar,5,5*durationMinute],[ar,15,15*durationMinute],[ar,30,30*durationMinute],[ir,1,durationHour],[ir,3,3*durationHour],[ir,6,6*durationHour],[ir,12,12*durationHour],[nr,1,durationDay],[nr,2,2*durationDay],[rr,1,durationWeek],[er,1,durationMonth],[er,3,3*durationMonth],[tr,1,durationYear]];function lr(cr,ur,dr){const hr=ur<cr;hr&&([cr,ur]=[ur,cr]);const fr=dr&&typeof dr.range=="function"?dr:or(cr,ur,dr),mr=fr?fr.range(cr,+ur+1):[];return hr?mr.reverse():mr}function or(cr,ur,dr){const hr=Math.abs(ur-cr)/dr,fr=bisector(([,,pr])=>pr).right(sr,hr);if(fr===sr.length)return tr.every(tickStep(cr/durationYear,ur/durationYear,dr));if(fr===0)return millisecond.every(Math.max(tickStep(cr,ur,dr),1));const[mr,br]=sr[hr/sr[fr-1][2]<sr[fr][2]/hr?fr-1:fr];return mr.every(br)}return[lr,or]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(tr){if(0<=tr.y&&tr.y<100){var er=new Date(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L);return er.setFullYear(tr.y),er}return new Date(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L)}function utcDate(tr){if(0<=tr.y&&tr.y<100){var er=new Date(Date.UTC(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L));return er.setUTCFullYear(tr.y),er}return new Date(Date.UTC(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L))}function newDate(tr,er,rr){return{y:tr,m:er,d:rr,H:0,M:0,S:0,L:0}}function formatLocale(tr){var er=tr.dateTime,rr=tr.date,nr=tr.time,ir=tr.periods,ar=tr.days,sr=tr.shortDays,lr=tr.months,or=tr.shortMonths,cr=formatRe(ir),ur=formatLookup(ir),dr=formatRe(ar),hr=formatLookup(ar),fr=formatRe(sr),mr=formatLookup(sr),br=formatRe(lr),pr=formatLookup(lr),gr=formatRe(or),yr=formatLookup(or),vr={a:Er,A:Ar,b:Sr,B:Dr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Wr,q:$r,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},_r={a:Vr,A:zr,b:Gr,B:Fr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Xr,q:Ur,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},xr={a:Lr,A:Nr,b:Or,B:Pr,c:Mr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ir,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:jr,X:wr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};vr.x=Rr(rr,vr),vr.X=Rr(nr,vr),vr.c=Rr(er,vr),_r.x=Rr(rr,_r),_r.X=Rr(nr,_r),_r.c=Rr(er,_r);function Rr(Br,Kr){return function(Zr){var tn=[],sn=-1,un=0,hn=Br.length,Jr,nn,rn;for(Zr instanceof Date||(Zr=new Date(+Zr));++sn<hn;)Br.charCodeAt(sn)===37&&(tn.push(Br.slice(un,sn)),(nn=pads[Jr=Br.charAt(++sn)])!=null?Jr=Br.charAt(++sn):nn=Jr==="e"?" ":"0",(rn=Kr[Jr])&&(Jr=rn(Zr,nn)),tn.push(Jr),un=sn+1);return tn.push(Br.slice(un,sn)),tn.join("")}}function Cr(Br,Kr){return function(Zr){var tn=newDate(1900,void 0,1),sn=Tr(tn,Br,Zr+="",0),un,hn;if(sn!=Zr.length)return null;if("Q"in tn)return new Date(tn.Q);if("s"in tn)return new Date(tn.s*1e3+("L"in tn?tn.L:0));if(Kr&&!("Z"in tn)&&(tn.Z=0),"p"in tn&&(tn.H=tn.H%12+tn.p*12),tn.m===void 0&&(tn.m="q"in tn?tn.q:0),"V"in tn){if(tn.V<1||tn.V>53)return null;"w"in tn||(tn.w=1),"Z"in tn?(un=utcDate(newDate(tn.y,0,1)),hn=un.getUTCDay(),un=hn>4||hn===0?utcMonday.ceil(un):utcMonday(un),un=utcDay.offset(un,(tn.V-1)*7),tn.y=un.getUTCFullYear(),tn.m=un.getUTCMonth(),tn.d=un.getUTCDate()+(tn.w+6)%7):(un=localDate(newDate(tn.y,0,1)),hn=un.getDay(),un=hn>4||hn===0?timeMonday.ceil(un):timeMonday(un),un=timeDay.offset(un,(tn.V-1)*7),tn.y=un.getFullYear(),tn.m=un.getMonth(),tn.d=un.getDate()+(tn.w+6)%7)}else("W"in tn||"U"in tn)&&("w"in tn||(tn.w="u"in tn?tn.u%7:"W"in tn?1:0),hn="Z"in tn?utcDate(newDate(tn.y,0,1)).getUTCDay():localDate(newDate(tn.y,0,1)).getDay(),tn.m=0,tn.d="W"in tn?(tn.w+6)%7+tn.W*7-(hn+5)%7:tn.w+tn.U*7-(hn+6)%7);return"Z"in tn?(tn.H+=tn.Z/100|0,tn.M+=tn.Z%100,utcDate(tn)):localDate(tn)}}function Tr(Br,Kr,Zr,tn){for(var sn=0,un=Kr.length,hn=Zr.length,Jr,nn;sn<un;){if(tn>=hn)return-1;if(Jr=Kr.charCodeAt(sn++),Jr===37){if(Jr=Kr.charAt(sn++),nn=xr[Jr in pads?Kr.charAt(sn++):Jr],!nn||(tn=nn(Br,Zr,tn))<0)return-1}else if(Jr!=Zr.charCodeAt(tn++))return-1}return tn}function Ir(Br,Kr,Zr){var tn=cr.exec(Kr.slice(Zr));return tn?(Br.p=ur.get(tn[0].toLowerCase()),Zr+tn[0].length):-1}function Lr(Br,Kr,Zr){var tn=fr.exec(Kr.slice(Zr));return tn?(Br.w=mr.get(tn[0].toLowerCase()),Zr+tn[0].length):-1}function Nr(Br,Kr,Zr){var tn=dr.exec(Kr.slice(Zr));return tn?(Br.w=hr.get(tn[0].toLowerCase()),Zr+tn[0].length):-1}function Or(Br,Kr,Zr){var tn=gr.exec(Kr.slice(Zr));return tn?(Br.m=yr.get(tn[0].toLowerCase()),Zr+tn[0].length):-1}function Pr(Br,Kr,Zr){var tn=br.exec(Kr.slice(Zr));return tn?(Br.m=pr.get(tn[0].toLowerCase()),Zr+tn[0].length):-1}function Mr(Br,Kr,Zr){return Tr(Br,er,Kr,Zr)}function jr(Br,Kr,Zr){return Tr(Br,rr,Kr,Zr)}function wr(Br,Kr,Zr){return Tr(Br,nr,Kr,Zr)}function Er(Br){return sr[Br.getDay()]}function Ar(Br){return ar[Br.getDay()]}function Sr(Br){return or[Br.getMonth()]}function Dr(Br){return lr[Br.getMonth()]}function Wr(Br){return ir[+(Br.getHours()>=12)]}function $r(Br){return 1+~~(Br.getMonth()/3)}function Vr(Br){return sr[Br.getUTCDay()]}function zr(Br){return ar[Br.getUTCDay()]}function Gr(Br){return or[Br.getUTCMonth()]}function Fr(Br){return lr[Br.getUTCMonth()]}function Xr(Br){return ir[+(Br.getUTCHours()>=12)]}function Ur(Br){return 1+~~(Br.getUTCMonth()/3)}return{format:function(Br){var Kr=Rr(Br+="",vr);return Kr.toString=function(){return Br},Kr},parse:function(Br){var Kr=Cr(Br+="",!1);return Kr.toString=function(){return Br},Kr},utcFormat:function(Br){var Kr=Rr(Br+="",_r);return Kr.toString=function(){return Br},Kr},utcParse:function(Br){var Kr=Cr(Br+="",!0);return Kr.toString=function(){return Br},Kr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(tr,er,rr){var nr=tr<0?"-":"",ir=(nr?-tr:tr)+"",ar=ir.length;return nr+(ar<rr?new Array(rr-ar+1).join(er)+ir:ir)}function requote(tr){return tr.replace(requoteRe,"\\$&")}function formatRe(tr){return new RegExp("^(?:"+tr.map(requote).join("|")+")","i")}function formatLookup(tr){return new Map(tr.map((er,rr)=>[er.toLowerCase(),rr]))}function parseWeekdayNumberSunday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.w=+nr[0],rr+nr[0].length):-1}function parseWeekdayNumberMonday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.u=+nr[0],rr+nr[0].length):-1}function parseWeekNumberSunday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.U=+nr[0],rr+nr[0].length):-1}function parseWeekNumberISO(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.V=+nr[0],rr+nr[0].length):-1}function parseWeekNumberMonday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.W=+nr[0],rr+nr[0].length):-1}function parseFullYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+4));return nr?(tr.y=+nr[0],rr+nr[0].length):-1}function parseYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.y=+nr[0]+(+nr[0]>68?1900:2e3),rr+nr[0].length):-1}function parseZone(tr,er,rr){var nr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(er.slice(rr,rr+6));return nr?(tr.Z=nr[1]?0:-(nr[2]+(nr[3]||"00")),rr+nr[0].length):-1}function parseQuarter(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.q=nr[0]*3-3,rr+nr[0].length):-1}function parseMonthNumber(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.m=nr[0]-1,rr+nr[0].length):-1}function parseDayOfMonth(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.d=+nr[0],rr+nr[0].length):-1}function parseDayOfYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+3));return nr?(tr.m=0,tr.d=+nr[0],rr+nr[0].length):-1}function parseHour24(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.H=+nr[0],rr+nr[0].length):-1}function parseMinutes(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.M=+nr[0],rr+nr[0].length):-1}function parseSeconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.S=+nr[0],rr+nr[0].length):-1}function parseMilliseconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+3));return nr?(tr.L=+nr[0],rr+nr[0].length):-1}function parseMicroseconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+6));return nr?(tr.L=Math.floor(nr[0]/1e3),rr+nr[0].length):-1}function parseLiteralPercent(tr,er,rr){var nr=percentRe.exec(er.slice(rr,rr+1));return nr?rr+nr[0].length:-1}function parseUnixTimestamp(tr,er,rr){var nr=numberRe.exec(er.slice(rr));return nr?(tr.Q=+nr[0],rr+nr[0].length):-1}function parseUnixTimestampSeconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr));return nr?(tr.s=+nr[0],rr+nr[0].length):-1}function formatDayOfMonth(tr,er){return pad(tr.getDate(),er,2)}function formatHour24(tr,er){return pad(tr.getHours(),er,2)}function formatHour12(tr,er){return pad(tr.getHours()%12||12,er,2)}function formatDayOfYear(tr,er){return pad(1+timeDay.count(timeYear(tr),tr),er,3)}function formatMilliseconds(tr,er){return pad(tr.getMilliseconds(),er,3)}function formatMicroseconds(tr,er){return formatMilliseconds(tr,er)+"000"}function formatMonthNumber(tr,er){return pad(tr.getMonth()+1,er,2)}function formatMinutes(tr,er){return pad(tr.getMinutes(),er,2)}function formatSeconds(tr,er){return pad(tr.getSeconds(),er,2)}function formatWeekdayNumberMonday(tr){var er=tr.getDay();return er===0?7:er}function formatWeekNumberSunday(tr,er){return pad(timeSunday.count(timeYear(tr)-1,tr),er,2)}function dISO(tr){var er=tr.getDay();return er>=4||er===0?timeThursday(tr):timeThursday.ceil(tr)}function formatWeekNumberISO(tr,er){return tr=dISO(tr),pad(timeThursday.count(timeYear(tr),tr)+(timeYear(tr).getDay()===4),er,2)}function formatWeekdayNumberSunday(tr){return tr.getDay()}function formatWeekNumberMonday(tr,er){return pad(timeMonday.count(timeYear(tr)-1,tr),er,2)}function formatYear(tr,er){return pad(tr.getFullYear()%100,er,2)}function formatYearISO(tr,er){return tr=dISO(tr),pad(tr.getFullYear()%100,er,2)}function formatFullYear(tr,er){return pad(tr.getFullYear()%1e4,er,4)}function formatFullYearISO(tr,er){var rr=tr.getDay();return tr=rr>=4||rr===0?timeThursday(tr):timeThursday.ceil(tr),pad(tr.getFullYear()%1e4,er,4)}function formatZone(tr){var er=tr.getTimezoneOffset();return(er>0?"-":(er*=-1,"+"))+pad(er/60|0,"0",2)+pad(er%60,"0",2)}function formatUTCDayOfMonth(tr,er){return pad(tr.getUTCDate(),er,2)}function formatUTCHour24(tr,er){return pad(tr.getUTCHours(),er,2)}function formatUTCHour12(tr,er){return pad(tr.getUTCHours()%12||12,er,2)}function formatUTCDayOfYear(tr,er){return pad(1+utcDay.count(utcYear(tr),tr),er,3)}function formatUTCMilliseconds(tr,er){return pad(tr.getUTCMilliseconds(),er,3)}function formatUTCMicroseconds(tr,er){return formatUTCMilliseconds(tr,er)+"000"}function formatUTCMonthNumber(tr,er){return pad(tr.getUTCMonth()+1,er,2)}function formatUTCMinutes(tr,er){return pad(tr.getUTCMinutes(),er,2)}function formatUTCSeconds(tr,er){return pad(tr.getUTCSeconds(),er,2)}function formatUTCWeekdayNumberMonday(tr){var er=tr.getUTCDay();return er===0?7:er}function formatUTCWeekNumberSunday(tr,er){return pad(utcSunday.count(utcYear(tr)-1,tr),er,2)}function UTCdISO(tr){var er=tr.getUTCDay();return er>=4||er===0?utcThursday(tr):utcThursday.ceil(tr)}function formatUTCWeekNumberISO(tr,er){return tr=UTCdISO(tr),pad(utcThursday.count(utcYear(tr),tr)+(utcYear(tr).getUTCDay()===4),er,2)}function formatUTCWeekdayNumberSunday(tr){return tr.getUTCDay()}function formatUTCWeekNumberMonday(tr,er){return pad(utcMonday.count(utcYear(tr)-1,tr),er,2)}function formatUTCYear(tr,er){return pad(tr.getUTCFullYear()%100,er,2)}function formatUTCYearISO(tr,er){return tr=UTCdISO(tr),pad(tr.getUTCFullYear()%100,er,2)}function formatUTCFullYear(tr,er){return pad(tr.getUTCFullYear()%1e4,er,4)}function formatUTCFullYearISO(tr,er){var rr=tr.getUTCDay();return tr=rr>=4||rr===0?utcThursday(tr):utcThursday.ceil(tr),pad(tr.getUTCFullYear()%1e4,er,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(tr){return+tr}function formatUnixTimestampSeconds(tr){return Math.floor(+tr/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(tr){return locale=formatLocale(tr),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(tr){return new Date(tr)}function number(tr){return tr instanceof Date?+tr:+new Date(+tr)}function calendar(tr,er,rr,nr,ir,ar,sr,lr,or,cr){var ur=continuous(),dr=ur.invert,hr=ur.domain,fr=cr(".%L"),mr=cr(":%S"),br=cr("%I:%M"),pr=cr("%I %p"),gr=cr("%a %d"),yr=cr("%b %d"),vr=cr("%B"),_r=cr("%Y");function xr(Rr){return(or(Rr)<Rr?fr:lr(Rr)<Rr?mr:sr(Rr)<Rr?br:ar(Rr)<Rr?pr:nr(Rr)<Rr?ir(Rr)<Rr?gr:yr:rr(Rr)<Rr?vr:_r)(Rr)}return ur.invert=function(Rr){return new Date(dr(Rr))},ur.domain=function(Rr){return arguments.length?hr(Array.from(Rr,number)):hr().map(date)},ur.ticks=function(Rr){var Cr=hr();return tr(Cr[0],Cr[Cr.length-1],Rr??10)},ur.tickFormat=function(Rr,Cr){return Cr==null?xr:cr(Cr)},ur.nice=function(Rr){var Cr=hr();return(!Rr||typeof Rr.range!="function")&&(Rr=er(Cr[0],Cr[Cr.length-1],Rr??10)),Rr?hr(nice(Cr,Rr)):ur},ur.copy=function(){return copy$1(ur,calendar(tr,er,rr,nr,ir,ar,sr,lr,or,cr))},ur}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var tr=0,er=1,rr,nr,ir,ar,sr=identity$6,lr=!1,or;function cr(dr){return dr==null||isNaN(dr=+dr)?or:sr(ir===0?.5:(dr=(ar(dr)-rr)*ir,lr?Math.max(0,Math.min(1,dr)):dr))}cr.domain=function(dr){return arguments.length?([tr,er]=dr,rr=ar(tr=+tr),nr=ar(er=+er),ir=rr===nr?0:1/(nr-rr),cr):[tr,er]},cr.clamp=function(dr){return arguments.length?(lr=!!dr,cr):lr},cr.interpolator=function(dr){return arguments.length?(sr=dr,cr):sr};function ur(dr){return function(hr){var fr,mr;return arguments.length?([fr,mr]=hr,sr=dr(fr,mr),cr):[sr(0),sr(1)]}}return cr.range=ur(interpolate),cr.rangeRound=ur(interpolateRound),cr.unknown=function(dr){return arguments.length?(or=dr,cr):or},function(dr){return ar=dr,rr=dr(tr),nr=dr(er),ir=rr===nr?0:1/(nr-rr),cr}}function copy(tr,er){return er.domain(tr.domain()).interpolator(tr.interpolator()).clamp(tr.clamp()).unknown(tr.unknown())}function sequential(){var tr=linearish(transformer$1()(identity$6));return tr.copy=function(){return copy(tr,sequential())},initInterpolator.apply(tr,arguments)}function sequentialLog(){var tr=loggish(transformer$1()).domain([1,10]);return tr.copy=function(){return copy(tr,sequentialLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function sequentialSymlog(){var tr=symlogish(transformer$1());return tr.copy=function(){return copy(tr,sequentialSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function sequentialPow(){var tr=powish(transformer$1());return tr.copy=function(){return copy(tr,sequentialPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var tr=[],er=identity$6;function rr(nr){if(nr!=null&&!isNaN(nr=+nr))return er((bisectRight(tr,nr,1)-1)/(tr.length-1))}return rr.domain=function(nr){if(!arguments.length)return tr.slice();tr=[];for(let ir of nr)ir!=null&&!isNaN(ir=+ir)&&tr.push(ir);return tr.sort(ascending),rr},rr.interpolator=function(nr){return arguments.length?(er=nr,rr):er},rr.range=function(){return tr.map((nr,ir)=>er(ir/(tr.length-1)))},rr.quantiles=function(nr){return Array.from({length:nr+1},(ir,ar)=>quantile$1(tr,ar/nr))},rr.copy=function(){return sequentialQuantile(er).domain(tr)},initInterpolator.apply(rr,arguments)}function transformer(){var tr=0,er=.5,rr=1,nr=1,ir,ar,sr,lr,or,cr=identity$6,ur,dr=!1,hr;function fr(br){return isNaN(br=+br)?hr:(br=.5+((br=+ur(br))-ar)*(nr*br<nr*ar?lr:or),cr(dr?Math.max(0,Math.min(1,br)):br))}fr.domain=function(br){return arguments.length?([tr,er,rr]=br,ir=ur(tr=+tr),ar=ur(er=+er),sr=ur(rr=+rr),lr=ir===ar?0:.5/(ar-ir),or=ar===sr?0:.5/(sr-ar),nr=ar<ir?-1:1,fr):[tr,er,rr]},fr.clamp=function(br){return arguments.length?(dr=!!br,fr):dr},fr.interpolator=function(br){return arguments.length?(cr=br,fr):cr};function mr(br){return function(pr){var gr,yr,vr;return arguments.length?([gr,yr,vr]=pr,cr=piecewise(br,[gr,yr,vr]),fr):[cr(0),cr(.5),cr(1)]}}return fr.range=mr(interpolate),fr.rangeRound=mr(interpolateRound),fr.unknown=function(br){return arguments.length?(hr=br,fr):hr},function(br){return ur=br,ir=br(tr),ar=br(er),sr=br(rr),lr=ir===ar?0:.5/(ar-ir),or=ar===sr?0:.5/(sr-ar),nr=ar<ir?-1:1,fr}}function diverging(){var tr=linearish(transformer()(identity$6));return tr.copy=function(){return copy(tr,diverging())},initInterpolator.apply(tr,arguments)}function divergingLog(){var tr=loggish(transformer()).domain([.1,1,10]);return tr.copy=function(){return copy(tr,divergingLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function divergingSymlog(){var tr=symlogish(transformer());return tr.copy=function(){return copy(tr,divergingSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function divergingPow(){var tr=powish(transformer());return tr.copy=function(){return copy(tr,divergingPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(tr,er,rr){for(var nr=-1,ir=tr.length;++nr<ir;){var ar=tr[nr],sr=er(ar);if(sr!=null&&(lr===void 0?sr===sr&&!isSymbol(sr):rr(sr,lr)))var lr=sr,or=ar}return or}var _baseExtremum=baseExtremum$4;function baseGt$2(tr,er){return tr>er}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max$1(tr){return tr&&tr.length?baseExtremum$3(tr,identity$3,baseGt$1):void 0}var max_1=max$1;const max$2=getDefaultExportFromCjs(max_1);function baseLt$2(tr,er){return tr<er}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(tr){return tr&&tr.length?baseExtremum$2(tr,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$2=isArray_1;function map$2(tr,er){var rr=isArray$2(tr)?arrayMap:baseMap;return rr(tr,baseIteratee$7(er))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(tr,er){return baseFlatten(map$1(tr,er),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(tr,er){return baseIsEqual(tr,er)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var tr=new this.constructor(this);return tr.s&&(tr.s=1),tr};P$1.comparedTo=P$1.cmp=function(tr){var er,rr,nr,ir,ar=this;if(tr=new ar.constructor(tr),ar.s!==tr.s)return ar.s||-tr.s;if(ar.e!==tr.e)return ar.e>tr.e^ar.s<0?1:-1;for(nr=ar.d.length,ir=tr.d.length,er=0,rr=nr<ir?nr:ir;er<rr;++er)if(ar.d[er]!==tr.d[er])return ar.d[er]>tr.d[er]^ar.s<0?1:-1;return nr===ir?0:nr>ir^ar.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var tr=this,er=tr.d.length-1,rr=(er-tr.e)*LOG_BASE;if(er=tr.d[er],er)for(;er%10==0;er/=10)rr--;return rr<0?0:rr};P$1.dividedBy=P$1.div=function(tr){return divide(this,new this.constructor(tr))};P$1.dividedToIntegerBy=P$1.idiv=function(tr){var er=this,rr=er.constructor;return round(divide(er,new rr(tr),0,1),rr.precision)};P$1.equals=P$1.eq=function(tr){return!this.cmp(tr)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(tr){return this.cmp(tr)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(tr){return this.cmp(tr)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(tr){return this.cmp(tr)<0};P$1.lessThanOrEqualTo=P$1.lte=function(tr){return this.cmp(tr)<1};P$1.logarithm=P$1.log=function(tr){var er,rr=this,nr=rr.constructor,ir=nr.precision,ar=ir+5;if(tr===void 0)tr=new nr(10);else if(tr=new nr(tr),tr.s<1||tr.eq(ONE))throw Error(decimalError+"NaN");if(rr.s<1)throw Error(decimalError+(rr.s?"NaN":"-Infinity"));return rr.eq(ONE)?new nr(0):(external=!1,er=divide(ln$1(rr,ar),ln$1(tr,ar),ar),external=!0,round(er,ir))};P$1.minus=P$1.sub=function(tr){var er=this;return tr=new er.constructor(tr),er.s==tr.s?subtract(er,tr):add(er,(tr.s=-tr.s,tr))};P$1.modulo=P$1.mod=function(tr){var er,rr=this,nr=rr.constructor,ir=nr.precision;if(tr=new nr(tr),!tr.s)throw Error(decimalError+"NaN");return rr.s?(external=!1,er=divide(rr,tr,0,1).times(tr),external=!0,rr.minus(er)):round(new nr(rr),ir)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var tr=new this.constructor(this);return tr.s=-tr.s||0,tr};P$1.plus=P$1.add=function(tr){var er=this;return tr=new er.constructor(tr),er.s==tr.s?add(er,tr):subtract(er,(tr.s=-tr.s,tr))};P$1.precision=P$1.sd=function(tr){var er,rr,nr,ir=this;if(tr!==void 0&&tr!==!!tr&&tr!==1&&tr!==0)throw Error(invalidArgument+tr);if(er=getBase10Exponent(ir)+1,nr=ir.d.length-1,rr=nr*LOG_BASE+1,nr=ir.d[nr],nr){for(;nr%10==0;nr/=10)rr--;for(nr=ir.d[0];nr>=10;nr/=10)rr++}return tr&&er>rr?er:rr};P$1.squareRoot=P$1.sqrt=function(){var tr,er,rr,nr,ir,ar,sr,lr=this,or=lr.constructor;if(lr.s<1){if(!lr.s)return new or(0);throw Error(decimalError+"NaN")}for(tr=getBase10Exponent(lr),external=!1,ir=Math.sqrt(+lr),ir==0||ir==1/0?(er=digitsToString(lr.d),(er.length+tr)%2==0&&(er+="0"),ir=Math.sqrt(er),tr=mathfloor((tr+1)/2)-(tr<0||tr%2),ir==1/0?er="5e"+tr:(er=ir.toExponential(),er=er.slice(0,er.indexOf("e")+1)+tr),nr=new or(er)):nr=new or(ir.toString()),rr=or.precision,ir=sr=rr+3;;)if(ar=nr,nr=ar.plus(divide(lr,ar,sr+2)).times(.5),digitsToString(ar.d).slice(0,sr)===(er=digitsToString(nr.d)).slice(0,sr)){if(er=er.slice(sr-3,sr+1),ir==sr&&er=="4999"){if(round(ar,rr+1,0),ar.times(ar).eq(lr)){nr=ar;break}}else if(er!="9999")break;sr+=4}return external=!0,round(nr,rr)};P$1.times=P$1.mul=function(tr){var er,rr,nr,ir,ar,sr,lr,or,cr,ur=this,dr=ur.constructor,hr=ur.d,fr=(tr=new dr(tr)).d;if(!ur.s||!tr.s)return new dr(0);for(tr.s*=ur.s,rr=ur.e+tr.e,or=hr.length,cr=fr.length,or<cr&&(ar=hr,hr=fr,fr=ar,sr=or,or=cr,cr=sr),ar=[],sr=or+cr,nr=sr;nr--;)ar.push(0);for(nr=cr;--nr>=0;){for(er=0,ir=or+nr;ir>nr;)lr=ar[ir]+fr[nr]*hr[ir-nr-1]+er,ar[ir--]=lr%BASE|0,er=lr/BASE|0;ar[ir]=(ar[ir]+er)%BASE|0}for(;!ar[--sr];)ar.pop();return er?++rr:ar.shift(),tr.d=ar,tr.e=rr,external?round(tr,dr.precision):tr};P$1.toDecimalPlaces=P$1.todp=function(tr,er){var rr=this,nr=rr.constructor;return rr=new nr(rr),tr===void 0?rr:(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=nr.rounding:checkInt32(er,0,8),round(rr,tr+getBase10Exponent(rr)+1,er))};P$1.toExponential=function(tr,er){var rr,nr=this,ir=nr.constructor;return tr===void 0?rr=toString$1(nr,!0):(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=ir.rounding:checkInt32(er,0,8),nr=round(new ir(nr),tr+1,er),rr=toString$1(nr,!0,tr+1)),rr};P$1.toFixed=function(tr,er){var rr,nr,ir=this,ar=ir.constructor;return tr===void 0?toString$1(ir):(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=ar.rounding:checkInt32(er,0,8),nr=round(new ar(ir),tr+getBase10Exponent(ir)+1,er),rr=toString$1(nr.abs(),!1,tr+getBase10Exponent(nr)+1),ir.isneg()&&!ir.isZero()?"-"+rr:rr)};P$1.toInteger=P$1.toint=function(){var tr=this,er=tr.constructor;return round(new er(tr),getBase10Exponent(tr)+1,er.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(tr){var er,rr,nr,ir,ar,sr,lr=this,or=lr.constructor,cr=12,ur=+(tr=new or(tr));if(!tr.s)return new or(ONE);if(lr=new or(lr),!lr.s){if(tr.s<1)throw Error(decimalError+"Infinity");return lr}if(lr.eq(ONE))return lr;if(nr=or.precision,tr.eq(ONE))return round(lr,nr);if(er=tr.e,rr=tr.d.length-1,sr=er>=rr,ar=lr.s,sr){if((rr=ur<0?-ur:ur)<=MAX_SAFE_INTEGER){for(ir=new or(ONE),er=Math.ceil(nr/LOG_BASE+4),external=!1;rr%2&&(ir=ir.times(lr),truncate(ir.d,er)),rr=mathfloor(rr/2),rr!==0;)lr=lr.times(lr),truncate(lr.d,er);return external=!0,tr.s<0?new or(ONE).div(ir):round(ir,nr)}}else if(ar<0)throw Error(decimalError+"NaN");return ar=ar<0&&tr.d[Math.max(er,rr)]&1?-1:1,lr.s=1,external=!1,ir=tr.times(ln$1(lr,nr+cr)),external=!0,ir=exp(ir),ir.s=ar,ir};P$1.toPrecision=function(tr,er){var rr,nr,ir=this,ar=ir.constructor;return tr===void 0?(rr=getBase10Exponent(ir),nr=toString$1(ir,rr<=ar.toExpNeg||rr>=ar.toExpPos)):(checkInt32(tr,1,MAX_DIGITS),er===void 0?er=ar.rounding:checkInt32(er,0,8),ir=round(new ar(ir),tr,er),rr=getBase10Exponent(ir),nr=toString$1(ir,tr<=rr||rr<=ar.toExpNeg,tr)),nr};P$1.toSignificantDigits=P$1.tosd=function(tr,er){var rr=this,nr=rr.constructor;return tr===void 0?(tr=nr.precision,er=nr.rounding):(checkInt32(tr,1,MAX_DIGITS),er===void 0?er=nr.rounding:checkInt32(er,0,8)),round(new nr(rr),tr,er)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var tr=this,er=getBase10Exponent(tr),rr=tr.constructor;return toString$1(tr,er<=rr.toExpNeg||er>=rr.toExpPos)};function add(tr,er){var rr,nr,ir,ar,sr,lr,or,cr,ur=tr.constructor,dr=ur.precision;if(!tr.s||!er.s)return er.s||(er=new ur(tr)),external?round(er,dr):er;if(or=tr.d,cr=er.d,sr=tr.e,ir=er.e,or=or.slice(),ar=sr-ir,ar){for(ar<0?(nr=or,ar=-ar,lr=cr.length):(nr=cr,ir=sr,lr=or.length),sr=Math.ceil(dr/LOG_BASE),lr=sr>lr?sr+1:lr+1,ar>lr&&(ar=lr,nr.length=1),nr.reverse();ar--;)nr.push(0);nr.reverse()}for(lr=or.length,ar=cr.length,lr-ar<0&&(ar=lr,nr=cr,cr=or,or=nr),rr=0;ar;)rr=(or[--ar]=or[ar]+cr[ar]+rr)/BASE|0,or[ar]%=BASE;for(rr&&(or.unshift(rr),++ir),lr=or.length;or[--lr]==0;)or.pop();return er.d=or,er.e=ir,external?round(er,dr):er}function checkInt32(tr,er,rr){if(tr!==~~tr||tr<er||tr>rr)throw Error(invalidArgument+tr)}function digitsToString(tr){var er,rr,nr,ir=tr.length-1,ar="",sr=tr[0];if(ir>0){for(ar+=sr,er=1;er<ir;er++)nr=tr[er]+"",rr=LOG_BASE-nr.length,rr&&(ar+=getZeroString(rr)),ar+=nr;sr=tr[er],nr=sr+"",rr=LOG_BASE-nr.length,rr&&(ar+=getZeroString(rr))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return ar+sr}var divide=function(){function tr(nr,ir){var ar,sr=0,lr=nr.length;for(nr=nr.slice();lr--;)ar=nr[lr]*ir+sr,nr[lr]=ar%BASE|0,sr=ar/BASE|0;return sr&&nr.unshift(sr),nr}function er(nr,ir,ar,sr){var lr,or;if(ar!=sr)or=ar>sr?1:-1;else for(lr=or=0;lr<ar;lr++)if(nr[lr]!=ir[lr]){or=nr[lr]>ir[lr]?1:-1;break}return or}function rr(nr,ir,ar){for(var sr=0;ar--;)nr[ar]-=sr,sr=nr[ar]<ir[ar]?1:0,nr[ar]=sr*BASE+nr[ar]-ir[ar];for(;!nr[0]&&nr.length>1;)nr.shift()}return function(nr,ir,ar,sr){var lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr,_r,xr,Rr,Cr,Tr,Ir=nr.constructor,Lr=nr.s==ir.s?1:-1,Nr=nr.d,Or=ir.d;if(!nr.s)return new Ir(nr);if(!ir.s)throw Error(decimalError+"Division by zero");for(or=nr.e-ir.e,Cr=Or.length,xr=Nr.length,fr=new Ir(Lr),mr=fr.d=[],cr=0;Or[cr]==(Nr[cr]||0);)++cr;if(Or[cr]>(Nr[cr]||0)&&--or,ar==null?yr=ar=Ir.precision:sr?yr=ar+(getBase10Exponent(nr)-getBase10Exponent(ir))+1:yr=ar,yr<0)return new Ir(0);if(yr=yr/LOG_BASE+2|0,cr=0,Cr==1)for(ur=0,Or=Or[0],yr++;(cr<xr||ur)&&yr--;cr++)vr=ur*BASE+(Nr[cr]||0),mr[cr]=vr/Or|0,ur=vr%Or|0;else{for(ur=BASE/(Or[0]+1)|0,ur>1&&(Or=tr(Or,ur),Nr=tr(Nr,ur),Cr=Or.length,xr=Nr.length),_r=Cr,br=Nr.slice(0,Cr),pr=br.length;pr<Cr;)br[pr++]=0;Tr=Or.slice(),Tr.unshift(0),Rr=Or[0],Or[1]>=BASE/2&&++Rr;do ur=0,lr=er(Or,br,Cr,pr),lr<0?(gr=br[0],Cr!=pr&&(gr=gr*BASE+(br[1]||0)),ur=gr/Rr|0,ur>1?(ur>=BASE&&(ur=BASE-1),dr=tr(Or,ur),hr=dr.length,pr=br.length,lr=er(dr,br,hr,pr),lr==1&&(ur--,rr(dr,Cr<hr?Tr:Or,hr))):(ur==0&&(lr=ur=1),dr=Or.slice()),hr=dr.length,hr<pr&&dr.unshift(0),rr(br,dr,pr),lr==-1&&(pr=br.length,lr=er(Or,br,Cr,pr),lr<1&&(ur++,rr(br,Cr<pr?Tr:Or,pr))),pr=br.length):lr===0&&(ur++,br=[0]),mr[cr++]=ur,lr&&br[0]?br[pr++]=Nr[_r]||0:(br=[Nr[_r]],pr=1);while((_r++<xr||br[0]!==void 0)&&yr--)}return mr[0]||mr.shift(),fr.e=or,round(fr,sr?ar+getBase10Exponent(fr)+1:ar)}}();function exp(tr,er){var rr,nr,ir,ar,sr,lr,or=0,cr=0,ur=tr.constructor,dr=ur.precision;if(getBase10Exponent(tr)>16)throw Error(exponentOutOfRange+getBase10Exponent(tr));if(!tr.s)return new ur(ONE);for(external=!1,lr=dr,sr=new ur(.03125);tr.abs().gte(.1);)tr=tr.times(sr),cr+=5;for(nr=Math.log(mathpow(2,cr))/Math.LN10*2+5|0,lr+=nr,rr=ir=ar=new ur(ONE),ur.precision=lr;;){if(ir=round(ir.times(tr),lr),rr=rr.times(++or),sr=ar.plus(divide(ir,rr,lr)),digitsToString(sr.d).slice(0,lr)===digitsToString(ar.d).slice(0,lr)){for(;cr--;)ar=round(ar.times(ar),lr);return ur.precision=dr,er==null?(external=!0,round(ar,dr)):ar}ar=sr}}function getBase10Exponent(tr){for(var er=tr.e*LOG_BASE,rr=tr.d[0];rr>=10;rr/=10)er++;return er}function getLn10(tr,er,rr){if(er>tr.LN10.sd())throw external=!0,rr&&(tr.precision=rr),Error(decimalError+"LN10 precision limit exceeded");return round(new tr(tr.LN10),er)}function getZeroString(tr){for(var er="";tr--;)er+="0";return er}function ln$1(tr,er){var rr,nr,ir,ar,sr,lr,or,cr,ur,dr=1,hr=10,fr=tr,mr=fr.d,br=fr.constructor,pr=br.precision;if(fr.s<1)throw Error(decimalError+(fr.s?"NaN":"-Infinity"));if(fr.eq(ONE))return new br(0);if(er==null?(external=!1,cr=pr):cr=er,fr.eq(10))return er==null&&(external=!0),getLn10(br,cr);if(cr+=hr,br.precision=cr,rr=digitsToString(mr),nr=rr.charAt(0),ar=getBase10Exponent(fr),Math.abs(ar)<15e14){for(;nr<7&&nr!=1||nr==1&&rr.charAt(1)>3;)fr=fr.times(tr),rr=digitsToString(fr.d),nr=rr.charAt(0),dr++;ar=getBase10Exponent(fr),nr>1?(fr=new br("0."+rr),ar++):fr=new br(nr+"."+rr.slice(1))}else return or=getLn10(br,cr+2,pr).times(ar+""),fr=ln$1(new br(nr+"."+rr.slice(1)),cr-hr).plus(or),br.precision=pr,er==null?(external=!0,round(fr,pr)):fr;for(lr=sr=fr=divide(fr.minus(ONE),fr.plus(ONE),cr),ur=round(fr.times(fr),cr),ir=3;;){if(sr=round(sr.times(ur),cr),or=lr.plus(divide(sr,new br(ir),cr)),digitsToString(or.d).slice(0,cr)===digitsToString(lr.d).slice(0,cr))return lr=lr.times(2),ar!==0&&(lr=lr.plus(getLn10(br,cr+2,pr).times(ar+""))),lr=divide(lr,new br(dr),cr),br.precision=pr,er==null?(external=!0,round(lr,pr)):lr;lr=or,ir+=2}}function parseDecimal(tr,er){var rr,nr,ir;for((rr=er.indexOf("."))>-1&&(er=er.replace(".","")),(nr=er.search(/e/i))>0?(rr<0&&(rr=nr),rr+=+er.slice(nr+1),er=er.substring(0,nr)):rr<0&&(rr=er.length),nr=0;er.charCodeAt(nr)===48;)++nr;for(ir=er.length;er.charCodeAt(ir-1)===48;)--ir;if(er=er.slice(nr,ir),er){if(ir-=nr,rr=rr-nr-1,tr.e=mathfloor(rr/LOG_BASE),tr.d=[],nr=(rr+1)%LOG_BASE,rr<0&&(nr+=LOG_BASE),nr<ir){for(nr&&tr.d.push(+er.slice(0,nr)),ir-=LOG_BASE;nr<ir;)tr.d.push(+er.slice(nr,nr+=LOG_BASE));er=er.slice(nr),nr=LOG_BASE-er.length}else nr-=ir;for(;nr--;)er+="0";if(tr.d.push(+er),external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+rr)}else tr.s=0,tr.e=0,tr.d=[0];return tr}function round(tr,er,rr){var nr,ir,ar,sr,lr,or,cr,ur,dr=tr.d;for(sr=1,ar=dr[0];ar>=10;ar/=10)sr++;if(nr=er-sr,nr<0)nr+=LOG_BASE,ir=er,cr=dr[ur=0];else{if(ur=Math.ceil((nr+1)/LOG_BASE),ar=dr.length,ur>=ar)return tr;for(cr=ar=dr[ur],sr=1;ar>=10;ar/=10)sr++;nr%=LOG_BASE,ir=nr-LOG_BASE+sr}if(rr!==void 0&&(ar=mathpow(10,sr-ir-1),lr=cr/ar%10|0,or=er<0||dr[ur+1]!==void 0||cr%ar,or=rr<4?(lr||or)&&(rr==0||rr==(tr.s<0?3:2)):lr>5||lr==5&&(rr==4||or||rr==6&&(nr>0?ir>0?cr/mathpow(10,sr-ir):0:dr[ur-1])%10&1||rr==(tr.s<0?8:7))),er<1||!dr[0])return or?(ar=getBase10Exponent(tr),dr.length=1,er=er-ar-1,dr[0]=mathpow(10,(LOG_BASE-er%LOG_BASE)%LOG_BASE),tr.e=mathfloor(-er/LOG_BASE)||0):(dr.length=1,dr[0]=tr.e=tr.s=0),tr;if(nr==0?(dr.length=ur,ar=1,ur--):(dr.length=ur+1,ar=mathpow(10,LOG_BASE-nr),dr[ur]=ir>0?(cr/mathpow(10,sr-ir)%mathpow(10,ir)|0)*ar:0),or)for(;;)if(ur==0){(dr[0]+=ar)==BASE&&(dr[0]=1,++tr.e);break}else{if(dr[ur]+=ar,dr[ur]!=BASE)break;dr[ur--]=0,ar=1}for(nr=dr.length;dr[--nr]===0;)dr.pop();if(external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(tr));return tr}function subtract(tr,er){var rr,nr,ir,ar,sr,lr,or,cr,ur,dr,hr=tr.constructor,fr=hr.precision;if(!tr.s||!er.s)return er.s?er.s=-er.s:er=new hr(tr),external?round(er,fr):er;if(or=tr.d,dr=er.d,nr=er.e,cr=tr.e,or=or.slice(),sr=cr-nr,sr){for(ur=sr<0,ur?(rr=or,sr=-sr,lr=dr.length):(rr=dr,nr=cr,lr=or.length),ir=Math.max(Math.ceil(fr/LOG_BASE),lr)+2,sr>ir&&(sr=ir,rr.length=1),rr.reverse(),ir=sr;ir--;)rr.push(0);rr.reverse()}else{for(ir=or.length,lr=dr.length,ur=ir<lr,ur&&(lr=ir),ir=0;ir<lr;ir++)if(or[ir]!=dr[ir]){ur=or[ir]<dr[ir];break}sr=0}for(ur&&(rr=or,or=dr,dr=rr,er.s=-er.s),lr=or.length,ir=dr.length-lr;ir>0;--ir)or[lr++]=0;for(ir=dr.length;ir>sr;){if(or[--ir]<dr[ir]){for(ar=ir;ar&&or[--ar]===0;)or[ar]=BASE-1;--or[ar],or[ir]+=BASE}or[ir]-=dr[ir]}for(;or[--lr]===0;)or.pop();for(;or[0]===0;or.shift())--nr;return or[0]?(er.d=or,er.e=nr,external?round(er,fr):er):new hr(0)}function toString$1(tr,er,rr){var nr,ir=getBase10Exponent(tr),ar=digitsToString(tr.d),sr=ar.length;return er?(rr&&(nr=rr-sr)>0?ar=ar.charAt(0)+"."+ar.slice(1)+getZeroString(nr):sr>1&&(ar=ar.charAt(0)+"."+ar.slice(1)),ar=ar+(ir<0?"e":"e+")+ir):ir<0?(ar="0."+getZeroString(-ir-1)+ar,rr&&(nr=rr-sr)>0&&(ar+=getZeroString(nr))):ir>=sr?(ar+=getZeroString(ir+1-sr),rr&&(nr=rr-ir-1)>0&&(ar=ar+"."+getZeroString(nr))):((nr=ir+1)<sr&&(ar=ar.slice(0,nr)+"."+ar.slice(nr)),rr&&(nr=rr-sr)>0&&(ir+1===sr&&(ar+="."),ar+=getZeroString(nr))),tr.s<0?"-"+ar:ar}function truncate(tr,er){if(tr.length>er)return tr.length=er,!0}function clone(tr){var er,rr,nr;function ir(ar){var sr=this;if(!(sr instanceof ir))return new ir(ar);if(sr.constructor=ir,ar instanceof ir){sr.s=ar.s,sr.e=ar.e,sr.d=(ar=ar.d)?ar.slice():ar;return}if(typeof ar=="number"){if(ar*0!==0)throw Error(invalidArgument+ar);if(ar>0)sr.s=1;else if(ar<0)ar=-ar,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(ar===~~ar&&ar<1e7){sr.e=0,sr.d=[ar];return}return parseDecimal(sr,ar.toString())}else if(typeof ar!="string")throw Error(invalidArgument+ar);if(ar.charCodeAt(0)===45?(ar=ar.slice(1),sr.s=-1):sr.s=1,isDecimal.test(ar))parseDecimal(sr,ar);else throw Error(invalidArgument+ar)}if(ir.prototype=P$1,ir.ROUND_UP=0,ir.ROUND_DOWN=1,ir.ROUND_CEIL=2,ir.ROUND_FLOOR=3,ir.ROUND_HALF_UP=4,ir.ROUND_HALF_DOWN=5,ir.ROUND_HALF_EVEN=6,ir.ROUND_HALF_CEIL=7,ir.ROUND_HALF_FLOOR=8,ir.clone=clone,ir.config=ir.set=config,tr===void 0&&(tr={}),tr)for(nr=["precision","rounding","toExpNeg","toExpPos","LN10"],er=0;er<nr.length;)tr.hasOwnProperty(rr=nr[er++])||(tr[rr]=this[rr]);return ir.config(tr),ir}function config(tr){if(!tr||typeof tr!="object")throw Error(decimalError+"Object expected");var er,rr,nr,ir=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(er=0;er<ir.length;er+=3)if((nr=tr[rr=ir[er]])!==void 0)if(mathfloor(nr)===nr&&nr>=ir[er+1]&&nr<=ir[er+2])this[rr]=nr;else throw Error(invalidArgument+rr+": "+nr);if((nr=tr[rr="LN10"])!==void 0)if(nr==Math.LN10)this[rr]=new this(nr);else throw Error(invalidArgument+rr+": "+nr);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(tr){return _arrayWithoutHoles$b(tr)||_iterableToArray$c(tr)||_unsupportedIterableToArray$h(tr)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$h(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$h(tr,er)}}function _iterableToArray$c(tr){if(typeof Symbol<"u"&&Symbol.iterator in Object(tr))return Array.from(tr)}function _arrayWithoutHoles$b(tr){if(Array.isArray(tr))return _arrayLikeToArray$h(tr)}function _arrayLikeToArray$h(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var identity$1=function tr(er){return er},PLACE_HOLDER={},isPlaceHolder=function tr(er){return er===PLACE_HOLDER},curry0=function tr(er){return function rr(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?rr:er.apply(void 0,arguments)}},curryN=function tr(er,rr){return er===1?rr:curry0(function(){for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];var sr=ir.filter(function(lr){return lr!==PLACE_HOLDER}).length;return sr>=er?rr.apply(void 0,ir):tr(er-sr,curry0(function(){for(var lr=arguments.length,or=new Array(lr),cr=0;cr<lr;cr++)or[cr]=arguments[cr];var ur=ir.map(function(dr){return isPlaceHolder(dr)?or.shift():dr});return rr.apply(void 0,_toConsumableArray$b(ur).concat(or))}))})},curry=function tr(er){return curryN(er.length,er)},range$2=function tr(er,rr){for(var nr=[],ir=er;ir<rr;++ir)nr[ir-er]=ir;return nr},map=curry(function(tr,er){return Array.isArray(er)?er.map(tr):Object.keys(er).map(function(rr){return er[rr]}).map(tr)}),compose=function tr(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];if(!rr.length)return identity$1;var ir=rr.reverse(),ar=ir[0],sr=ir.slice(1);return function(){return sr.reduce(function(lr,or){return or(lr)},ar.apply(void 0,arguments))}},reverse=function tr(er){return Array.isArray(er)?er.reverse():er.split("").reverse.join("")},memoize=function tr(er){var rr=null,nr=null;return function(){for(var ir=arguments.length,ar=new Array(ir),sr=0;sr<ir;sr++)ar[sr]=arguments[sr];return rr&&ar.every(function(lr,or){return lr===rr[or]})||(rr=ar,nr=er.apply(void 0,ar)),nr}};function getDigitCount(tr){var er;return tr===0?er=1:er=Math.floor(new Decimal$1(tr).abs().log(10).toNumber())+1,er}function rangeStep(tr,er,rr){for(var nr=new Decimal$1(tr),ir=0,ar=[];nr.lt(er)&&ir<1e5;)ar.push(nr.toNumber()),nr=nr.add(rr),ir++;return ar}var interpolateNumber=curry(function(tr,er,rr){var nr=+tr,ir=+er;return nr+rr*(ir-nr)}),uninterpolateNumber=curry(function(tr,er,rr){var nr=er-+tr;return nr=nr||1/0,(rr-tr)/nr}),uninterpolateTruncation=curry(function(tr,er,rr){var nr=er-+tr;return nr=nr||1/0,Math.max(0,Math.min(1,(rr-tr)/nr))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(tr){return _arrayWithoutHoles$a(tr)||_iterableToArray$b(tr)||_unsupportedIterableToArray$g(tr)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(tr){if(typeof Symbol<"u"&&Symbol.iterator in Object(tr))return Array.from(tr)}function _arrayWithoutHoles$a(tr){if(Array.isArray(tr))return _arrayLikeToArray$g(tr)}function _slicedToArray$8(tr,er){return _arrayWithHoles$9(tr)||_iterableToArrayLimit$8(tr,er)||_unsupportedIterableToArray$g(tr,er)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$g(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$g(tr,er)}}function _arrayLikeToArray$g(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$8(tr,er){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(tr)))){var rr=[],nr=!0,ir=!1,ar=void 0;try{for(var sr=tr[Symbol.iterator](),lr;!(nr=(lr=sr.next()).done)&&(rr.push(lr.value),!(er&&rr.length===er));nr=!0);}catch(or){ir=!0,ar=or}finally{try{!nr&&sr.return!=null&&sr.return()}finally{if(ir)throw ar}}return rr}}function _arrayWithHoles$9(tr){if(Array.isArray(tr))return tr}function getValidInterval(tr){var er=_slicedToArray$8(tr,2),rr=er[0],nr=er[1],ir=rr,ar=nr;return rr>nr&&(ir=nr,ar=rr),[ir,ar]}function getFormatStep(tr,er,rr){if(tr.lte(0))return new Decimal$1(0);var nr=Arithmetic.getDigitCount(tr.toNumber()),ir=new Decimal$1(10).pow(nr),ar=tr.div(ir),sr=nr!==1?.05:.1,lr=new Decimal$1(Math.ceil(ar.div(sr).toNumber())).add(rr).mul(sr),or=lr.mul(ir);return er?or:new Decimal$1(Math.ceil(or))}function getTickOfSingleValue(tr,er,rr){var nr=1,ir=new Decimal$1(tr);if(!ir.isint()&&rr){var ar=Math.abs(tr);ar<1?(nr=new Decimal$1(10).pow(Arithmetic.getDigitCount(tr)-1),ir=new Decimal$1(Math.floor(ir.div(nr).toNumber())).mul(nr)):ar>1&&(ir=new Decimal$1(Math.floor(tr)))}else tr===0?ir=new Decimal$1(Math.floor((er-1)/2)):rr||(ir=new Decimal$1(Math.floor(tr)));var sr=Math.floor((er-1)/2),lr=compose(map(function(or){return ir.add(new Decimal$1(or-sr).mul(nr)).toNumber()}),range$2);return lr(0,er)}function calculateStep(tr,er,rr,nr){var ir=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((er-tr)/(rr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var ar=getFormatStep(new Decimal$1(er).sub(tr).div(rr-1),nr,ir),sr;tr<=0&&er>=0?sr=new Decimal$1(0):(sr=new Decimal$1(tr).add(er).div(2),sr=sr.sub(new Decimal$1(sr).mod(ar)));var lr=Math.ceil(sr.sub(tr).div(ar).toNumber()),or=Math.ceil(new Decimal$1(er).sub(sr).div(ar).toNumber()),cr=lr+or+1;return cr>rr?calculateStep(tr,er,rr,nr,ir+1):(cr<rr&&(or=er>0?or+(rr-cr):or,lr=er>0?lr:lr+(rr-cr)),{step:ar,tickMin:sr.sub(new Decimal$1(lr).mul(ar)),tickMax:sr.add(new Decimal$1(or).mul(ar))})}function getNiceTickValuesFn(tr){var er=_slicedToArray$8(tr,2),rr=er[0],nr=er[1],ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(ir,2),lr=getValidInterval([rr,nr]),or=_slicedToArray$8(lr,2),cr=or[0],ur=or[1];if(cr===-1/0||ur===1/0){var dr=ur===1/0?[cr].concat(_toConsumableArray$a(range$2(0,ir-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$2(0,ir-1).map(function(){return-1/0})),[ur]);return rr>nr?reverse(dr):dr}if(cr===ur)return getTickOfSingleValue(cr,ir,ar);var hr=calculateStep(cr,ur,sr,ar),fr=hr.step,mr=hr.tickMin,br=hr.tickMax,pr=Arithmetic.rangeStep(mr,br.add(new Decimal$1(.1).mul(fr)),fr);return rr>nr?reverse(pr):pr}function getTickValuesFixedDomainFn(tr,er){var rr=_slicedToArray$8(tr,2),nr=rr[0],ir=rr[1],ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=getValidInterval([nr,ir]),lr=_slicedToArray$8(sr,2),or=lr[0],cr=lr[1];if(or===-1/0||cr===1/0)return[nr,ir];if(or===cr)return[or];var ur=Math.max(er,2),dr=getFormatStep(new Decimal$1(cr).sub(or).div(ur-1),ar,0),hr=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(or),new Decimal$1(cr).sub(new Decimal$1(.99).mul(dr)),dr)),[cr]);return nr>ir?reverse(hr):hr}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(tr,er){throw new Error(prefix)}var _excluded$f=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$D(tr){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$D(tr)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$r.apply(this,arguments)}function _slicedToArray$7(tr,er){return _arrayWithHoles$8(tr)||_iterableToArrayLimit$7(tr,er)||_unsupportedIterableToArray$f(tr,er)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$f(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$f(tr,er)}}function _arrayLikeToArray$f(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$7(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$8(tr){if(Array.isArray(tr))return tr}function _objectWithoutProperties$f(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$f(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$f(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _classCallCheck$j(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$B(nr.key),nr)}}function _createClass$j(tr,er,rr){return er&&_defineProperties$j(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$g(tr,er,rr){return er=_getPrototypeOf$h(er),_possibleConstructorReturn$h(tr,_isNativeReflectConstruct$h()?Reflect.construct(er,rr||[],_getPrototypeOf$h(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$h(tr,er){if(er&&(_typeof$D(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(tr)}function _assertThisInitialized$h(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$h(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!tr})()}function _getPrototypeOf$h(tr){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$h(tr)}function _inherits$h(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$h(tr,er)}function _setPrototypeOf$h(tr,er){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$h(tr,er)}function _defineProperty$B(tr,er,rr){return er=_toPropertyKey$B(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$B(tr){var er=_toPrimitive$B(tr,"string");return _typeof$D(er)=="symbol"?er:er+""}function _toPrimitive$B(tr,er){if(_typeof$D(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$D(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var ErrorBar=function(tr){function er(){return _classCallCheck$j(this,er),_callSuper$g(this,er,arguments)}return _inherits$h(er,tr),_createClass$j(er,[{key:"render",value:function(){var nr=this.props,ir=nr.offset,ar=nr.layout,sr=nr.width,lr=nr.dataKey,or=nr.data,cr=nr.dataPointFormatter,ur=nr.xAxis,dr=nr.yAxis,hr=_objectWithoutProperties$f(nr,_excluded$f),fr=filterProps(hr,!1);this.props.direction==="x"&&ur.type!=="number"&&invariant();var mr=or.map(function(br){var pr=cr(br,lr),gr=pr.x,yr=pr.y,vr=pr.value,_r=pr.errorVal;if(!_r)return null;var xr=[],Rr,Cr;if(Array.isArray(_r)){var Tr=_slicedToArray$7(_r,2);Rr=Tr[0],Cr=Tr[1]}else Rr=Cr=_r;if(ar==="vertical"){var Ir=ur.scale,Lr=yr+ir,Nr=Lr+sr,Or=Lr-sr,Pr=Ir(vr-Rr),Mr=Ir(vr+Cr);xr.push({x1:Mr,y1:Nr,x2:Mr,y2:Or}),xr.push({x1:Pr,y1:Lr,x2:Mr,y2:Lr}),xr.push({x1:Pr,y1:Nr,x2:Pr,y2:Or})}else if(ar==="horizontal"){var jr=dr.scale,wr=gr+ir,Er=wr-sr,Ar=wr+sr,Sr=jr(vr-Rr),Dr=jr(vr+Cr);xr.push({x1:Er,y1:Dr,x2:Ar,y2:Dr}),xr.push({x1:wr,y1:Sr,x2:wr,y2:Dr}),xr.push({x1:Er,y1:Sr,x2:Ar,y2:Sr})}return React.createElement(Layer,_extends$r({className:"recharts-errorBar",key:"bar-".concat(xr.map(function(Wr){return"".concat(Wr.x1,"-").concat(Wr.x2,"-").concat(Wr.y1,"-").concat(Wr.y2)}))},fr),xr.map(function(Wr){return React.createElement("line",_extends$r({},Wr,{key:"line-".concat(Wr.x1,"-").concat(Wr.x2,"-").concat(Wr.y1,"-").concat(Wr.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},mr)}}])}(React.Component);_defineProperty$B(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$B(ErrorBar,"displayName","ErrorBar");function _typeof$C(tr){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$C(tr)}function ownKeys$w(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$w(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$w(Object(rr),!0).forEach(function(nr){_defineProperty$A(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$w(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$A(tr,er,rr){return er=_toPropertyKey$A(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$A(tr){var er=_toPrimitive$A(tr,"string");return _typeof$C(er)=="symbol"?er:er+""}function _toPrimitive$A(tr,er){if(_typeof$C(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$C(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getLegendProps=function tr(er){var rr=er.children,nr=er.formattedGraphicalItems,ir=er.legendWidth,ar=er.legendContent,sr=findChildByType(rr,Legend);if(!sr)return null;var lr=Legend.defaultProps,or=lr!==void 0?_objectSpread$w(_objectSpread$w({},lr),sr.props):{},cr;return sr.props&&sr.props.payload?cr=sr.props&&sr.props.payload:ar==="children"?cr=(nr||[]).reduce(function(ur,dr){var hr=dr.item,fr=dr.props,mr=fr.sectors||fr.data||[];return ur.concat(mr.map(function(br){return{type:sr.props.iconType||hr.props.legendType,value:br.name,color:br.fill,payload:br}}))},[]):cr=(nr||[]).map(function(ur){var dr=ur.item,hr=dr.type.defaultProps,fr=hr!==void 0?_objectSpread$w(_objectSpread$w({},hr),dr.props):{},mr=fr.dataKey,br=fr.name,pr=fr.legendType,gr=fr.hide;return{inactive:gr,dataKey:mr,type:or.iconType||pr||"square",color:getMainColorOfGraphicItem(dr),value:br||mr,payload:fr}}),_objectSpread$w(_objectSpread$w(_objectSpread$w({},or),Legend.getWithHeight(sr,ir)),{},{payload:cr,item:sr})};function _typeof$B(tr){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$B(tr)}function _toConsumableArray$9(tr){return _arrayWithoutHoles$9(tr)||_iterableToArray$a(tr)||_unsupportedIterableToArray$e(tr)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$e(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$e(tr,er)}}function _iterableToArray$a(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$9(tr){if(Array.isArray(tr))return _arrayLikeToArray$e(tr)}function _arrayLikeToArray$e(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function ownKeys$v(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$v(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$v(Object(rr),!0).forEach(function(nr){_defineProperty$z(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$v(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$z(tr,er,rr){return er=_toPropertyKey$z(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$z(tr){var er=_toPrimitive$z(tr,"string");return _typeof$B(er)=="symbol"?er:er+""}function _toPrimitive$z(tr,er){if(_typeof$B(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$B(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function getValueByDataKey(tr,er,rr){return isNil$1(tr)||isNil$1(er)?rr:isNumOrStr(er)?get$2(tr,er,rr):isFunction$3(er)?er(tr):rr}function getDomainOfDataByKey(tr,er,rr,nr){var ir=flatMap$1(tr,function(lr){return getValueByDataKey(lr,er)});if(rr==="number"){var ar=ir.filter(function(lr){return isNumber(lr)||parseFloat(lr)});return ar.length?[min$1(ar),max$2(ar)]:[1/0,-1/0]}var sr=nr?ir.filter(function(lr){return!isNil$1(lr)}):ir;return sr.map(function(lr){return isNumOrStr(lr)||lr instanceof Date?lr:""})}var calculateActiveTickIndex=function tr(er){var rr,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ir=arguments.length>2?arguments[2]:void 0,ar=arguments.length>3?arguments[3]:void 0,sr=-1,lr=(rr=nr==null?void 0:nr.length)!==null&&rr!==void 0?rr:0;if(lr<=1)return 0;if(ar&&ar.axisType==="angleAxis"&&Math.abs(Math.abs(ar.range[1]-ar.range[0])-360)<=1e-6)for(var or=ar.range,cr=0;cr<lr;cr++){var ur=cr>0?ir[cr-1].coordinate:ir[lr-1].coordinate,dr=ir[cr].coordinate,hr=cr>=lr-1?ir[0].coordinate:ir[cr+1].coordinate,fr=void 0;if(mathSign(dr-ur)!==mathSign(hr-dr)){var mr=[];if(mathSign(hr-dr)===mathSign(or[1]-or[0])){fr=hr;var br=dr+or[1]-or[0];mr[0]=Math.min(br,(br+ur)/2),mr[1]=Math.max(br,(br+ur)/2)}else{fr=ur;var pr=hr+or[1]-or[0];mr[0]=Math.min(dr,(pr+dr)/2),mr[1]=Math.max(dr,(pr+dr)/2)}var gr=[Math.min(dr,(fr+dr)/2),Math.max(dr,(fr+dr)/2)];if(er>gr[0]&&er<=gr[1]||er>=mr[0]&&er<=mr[1]){sr=ir[cr].index;break}}else{var yr=Math.min(ur,hr),vr=Math.max(ur,hr);if(er>(yr+dr)/2&&er<=(vr+dr)/2){sr=ir[cr].index;break}}}else for(var _r=0;_r<lr;_r++)if(_r===0&&er<=(nr[_r].coordinate+nr[_r+1].coordinate)/2||_r>0&&_r<lr-1&&er>(nr[_r].coordinate+nr[_r-1].coordinate)/2&&er<=(nr[_r].coordinate+nr[_r+1].coordinate)/2||_r===lr-1&&er>(nr[_r].coordinate+nr[_r-1].coordinate)/2){sr=nr[_r].index;break}return sr},getMainColorOfGraphicItem=function tr(er){var rr,nr=er,ir=nr.type.displayName,ar=(rr=er.type)!==null&&rr!==void 0&&rr.defaultProps?_objectSpread$v(_objectSpread$v({},er.type.defaultProps),er.props):er.props,sr=ar.stroke,lr=ar.fill,or;switch(ir){case"Line":or=sr;break;case"Area":case"Radar":or=sr&&sr!=="none"?sr:lr;break;default:or=lr;break}return or},getBarSizeList=function tr(er){var rr=er.barSize,nr=er.totalSize,ir=er.stackGroups,ar=ir===void 0?{}:ir;if(!ar)return{};for(var sr={},lr=Object.keys(ar),or=0,cr=lr.length;or<cr;or++)for(var ur=ar[lr[or]].stackGroups,dr=Object.keys(ur),hr=0,fr=dr.length;hr<fr;hr++){var mr=ur[dr[hr]],br=mr.items,pr=mr.cateAxisId,gr=br.filter(function(Cr){return getDisplayName(Cr.type).indexOf("Bar")>=0});if(gr&&gr.length){var yr=gr[0].type.defaultProps,vr=yr!==void 0?_objectSpread$v(_objectSpread$v({},yr),gr[0].props):gr[0].props,_r=vr.barSize,xr=vr[pr];sr[xr]||(sr[xr]=[]);var Rr=isNil$1(_r)?rr:_r;sr[xr].push({item:gr[0],stackList:gr.slice(1),barSize:isNil$1(Rr)?void 0:getPercentValue(Rr,nr,0)})}}return sr},getBarPosition=function tr(er){var rr=er.barGap,nr=er.barCategoryGap,ir=er.bandSize,ar=er.sizeList,sr=ar===void 0?[]:ar,lr=er.maxBarSize,or=sr.length;if(or<1)return null;var cr=getPercentValue(rr,ir,0,!0),ur,dr=[];if(sr[0].barSize===+sr[0].barSize){var hr=!1,fr=ir/or,mr=sr.reduce(function(_r,xr){return _r+xr.barSize||0},0);mr+=(or-1)*cr,mr>=ir&&(mr-=(or-1)*cr,cr=0),mr>=ir&&fr>0&&(hr=!0,fr*=.9,mr=or*fr);var br=(ir-mr)/2>>0,pr={offset:br-cr,size:0};ur=sr.reduce(function(_r,xr){var Rr={item:xr.item,position:{offset:pr.offset+pr.size+cr,size:hr?fr:xr.barSize}},Cr=[].concat(_toConsumableArray$9(_r),[Rr]);return pr=Cr[Cr.length-1].position,xr.stackList&&xr.stackList.length&&xr.stackList.forEach(function(Tr){Cr.push({item:Tr,position:pr})}),Cr},dr)}else{var gr=getPercentValue(nr,ir,0,!0);ir-2*gr-(or-1)*cr<=0&&(cr=0);var yr=(ir-2*gr-(or-1)*cr)/or;yr>1&&(yr>>=0);var vr=lr===+lr?Math.min(yr,lr):yr;ur=sr.reduce(function(_r,xr,Rr){var Cr=[].concat(_toConsumableArray$9(_r),[{item:xr.item,position:{offset:gr+(yr+cr)*Rr+(yr-vr)/2,size:vr}}]);return xr.stackList&&xr.stackList.length&&xr.stackList.forEach(function(Tr){Cr.push({item:Tr,position:Cr[Cr.length-1].position})}),Cr},dr)}return ur},appendOffsetOfLegend=function tr(er,rr,nr,ir){var ar=nr.children,sr=nr.width,lr=nr.margin,or=sr-(lr.left||0)-(lr.right||0),cr=getLegendProps({children:ar,legendWidth:or});if(cr){var ur=ir||{},dr=ur.width,hr=ur.height,fr=cr.align,mr=cr.verticalAlign,br=cr.layout;if((br==="vertical"||br==="horizontal"&&mr==="middle")&&fr!=="center"&&isNumber(er[fr]))return _objectSpread$v(_objectSpread$v({},er),{},_defineProperty$z({},fr,er[fr]+(dr||0)));if((br==="horizontal"||br==="vertical"&&fr==="center")&&mr!=="middle"&&isNumber(er[mr]))return _objectSpread$v(_objectSpread$v({},er),{},_defineProperty$z({},mr,er[mr]+(hr||0)))}return er},isErrorBarRelevantForAxis=function tr(er,rr,nr){return isNil$1(rr)?!0:er==="horizontal"?rr==="yAxis":er==="vertical"||nr==="x"?rr==="xAxis":nr==="y"?rr==="yAxis":!0},getDomainOfErrorBars=function tr(er,rr,nr,ir,ar){var sr=rr.props.children,lr=findAllByType(sr,ErrorBar).filter(function(cr){return isErrorBarRelevantForAxis(ir,ar,cr.props.direction)});if(lr&&lr.length){var or=lr.map(function(cr){return cr.props.dataKey});return er.reduce(function(cr,ur){var dr=getValueByDataKey(ur,nr);if(isNil$1(dr))return cr;var hr=Array.isArray(dr)?[min$1(dr),max$2(dr)]:[dr,dr],fr=or.reduce(function(mr,br){var pr=getValueByDataKey(ur,br,0),gr=hr[0]-Math.abs(Array.isArray(pr)?pr[0]:pr),yr=hr[1]+Math.abs(Array.isArray(pr)?pr[1]:pr);return[Math.min(gr,mr[0]),Math.max(yr,mr[1])]},[1/0,-1/0]);return[Math.min(fr[0],cr[0]),Math.max(fr[1],cr[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function tr(er,rr,nr,ir,ar){var sr=rr.map(function(lr){return getDomainOfErrorBars(er,lr,nr,ar,ir)}).filter(function(lr){return!isNil$1(lr)});return sr&&sr.length?sr.reduce(function(lr,or){return[Math.min(lr[0],or[0]),Math.max(lr[1],or[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function tr(er,rr,nr,ir,ar){var sr=rr.map(function(or){var cr=or.props.dataKey;return nr==="number"&&cr&&getDomainOfErrorBars(er,or,cr,ir)||getDomainOfDataByKey(er,cr,nr,ar)});if(nr==="number")return sr.reduce(function(or,cr){return[Math.min(or[0],cr[0]),Math.max(or[1],cr[1])]},[1/0,-1/0]);var lr={};return sr.reduce(function(or,cr){for(var ur=0,dr=cr.length;ur<dr;ur++)lr[cr[ur]]||(lr[cr[ur]]=!0,or.push(cr[ur]));return or},[])},isCategoricalAxis=function tr(er,rr){return er==="horizontal"&&rr==="xAxis"||er==="vertical"&&rr==="yAxis"||er==="centric"&&rr==="angleAxis"||er==="radial"&&rr==="radiusAxis"},getCoordinatesOfGrid=function tr(er,rr,nr,ir){if(ir)return er.map(function(or){return or.coordinate});var ar,sr,lr=er.map(function(or){return or.coordinate===rr&&(ar=!0),or.coordinate===nr&&(sr=!0),or.coordinate});return ar||lr.push(rr),sr||lr.push(nr),lr},getTicksOfAxis=function tr(er,rr,nr){if(!er)return null;var ir=er.scale,ar=er.duplicateDomain,sr=er.type,lr=er.range,or=er.realScaleType==="scaleBand"?ir.bandwidth()/2:2,cr=(rr||nr)&&sr==="category"&&ir.bandwidth?ir.bandwidth()/or:0;if(cr=er.axisType==="angleAxis"&&(lr==null?void 0:lr.length)>=2?mathSign(lr[0]-lr[1])*2*cr:cr,rr&&(er.ticks||er.niceTicks)){var ur=(er.ticks||er.niceTicks).map(function(dr){var hr=ar?ar.indexOf(dr):dr;return{coordinate:ir(hr)+cr,value:dr,offset:cr}});return ur.filter(function(dr){return!isNan(dr.coordinate)})}return er.isCategorical&&er.categoricalDomain?er.categoricalDomain.map(function(dr,hr){return{coordinate:ir(dr)+cr,value:dr,index:hr,offset:cr}}):ir.ticks&&!nr?ir.ticks(er.tickCount).map(function(dr){return{coordinate:ir(dr)+cr,value:dr,offset:cr}}):ir.domain().map(function(dr,hr){return{coordinate:ir(dr)+cr,value:ar?ar[dr]:dr,index:hr,offset:cr}})},handlerWeakMap=new WeakMap,combineEventHandlers=function tr(er,rr){if(typeof rr!="function")return er;handlerWeakMap.has(er)||handlerWeakMap.set(er,new WeakMap);var nr=handlerWeakMap.get(er);if(nr.has(rr))return nr.get(rr);var ir=function(){er.apply(void 0,arguments),rr.apply(void 0,arguments)};return nr.set(rr,ir),ir},parseScale=function tr(er,rr,nr){var ir=er.scale,ar=er.type,sr=er.layout,lr=er.axisType;if(ir==="auto")return sr==="radial"&&lr==="radiusAxis"?{scale:band(),realScaleType:"band"}:sr==="radial"&&lr==="angleAxis"?{scale:linear(),realScaleType:"linear"}:ar==="category"&&rr&&(rr.indexOf("LineChart")>=0||rr.indexOf("AreaChart")>=0||rr.indexOf("ComposedChart")>=0&&!nr)?{scale:point(),realScaleType:"point"}:ar==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(ir)){var or="scale".concat(upperFirst$1(ir));return{scale:(d3Scales[or]||point)(),realScaleType:d3Scales[or]?or:"point"}}return isFunction$3(ir)?{scale:ir}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function tr(er){var rr=er.domain();if(!(!rr||rr.length<=2)){var nr=rr.length,ir=er.range(),ar=Math.min(ir[0],ir[1])-EPS,sr=Math.max(ir[0],ir[1])+EPS,lr=er(rr[0]),or=er(rr[nr-1]);(lr<ar||lr>sr||or<ar||or>sr)&&er.domain([rr[0],rr[nr-1]])}},findPositionOfBar=function tr(er,rr){if(!er)return null;for(var nr=0,ir=er.length;nr<ir;nr++)if(er[nr].item===rr)return er[nr].position;return null},truncateByDomain=function tr(er,rr){if(!rr||rr.length!==2||!isNumber(rr[0])||!isNumber(rr[1]))return er;var nr=Math.min(rr[0],rr[1]),ir=Math.max(rr[0],rr[1]),ar=[er[0],er[1]];return(!isNumber(er[0])||er[0]<nr)&&(ar[0]=nr),(!isNumber(er[1])||er[1]>ir)&&(ar[1]=ir),ar[0]>ir&&(ar[0]=ir),ar[1]<nr&&(ar[1]=nr),ar},offsetSign=function tr(er){var rr=er.length;if(!(rr<=0))for(var nr=0,ir=er[0].length;nr<ir;++nr)for(var ar=0,sr=0,lr=0;lr<rr;++lr){var or=isNan(er[lr][nr][1])?er[lr][nr][0]:er[lr][nr][1];or>=0?(er[lr][nr][0]=ar,er[lr][nr][1]=ar+or,ar=er[lr][nr][1]):(er[lr][nr][0]=sr,er[lr][nr][1]=sr+or,sr=er[lr][nr][1])}},offsetPositive=function tr(er){var rr=er.length;if(!(rr<=0))for(var nr=0,ir=er[0].length;nr<ir;++nr)for(var ar=0,sr=0;sr<rr;++sr){var lr=isNan(er[sr][nr][1])?er[sr][nr][0]:er[sr][nr][1];lr>=0?(er[sr][nr][0]=ar,er[sr][nr][1]=ar+lr,ar=er[sr][nr][1]):(er[sr][nr][0]=0,er[sr][nr][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function tr(er,rr,nr){var ir=rr.map(function(lr){return lr.props.dataKey}),ar=STACK_OFFSET_MAP[nr],sr=shapeStack().keys(ir).value(function(lr,or){return+getValueByDataKey(lr,or,0)}).order(stackOrderNone).offset(ar);return sr(er)},getStackGroupsByAxisId=function tr(er,rr,nr,ir,ar,sr){if(!er)return null;var lr=sr?rr.reverse():rr,or={},cr=lr.reduce(function(dr,hr){var fr,mr=(fr=hr.type)!==null&&fr!==void 0&&fr.defaultProps?_objectSpread$v(_objectSpread$v({},hr.type.defaultProps),hr.props):hr.props,br=mr.stackId,pr=mr.hide;if(pr)return dr;var gr=mr[nr],yr=dr[gr]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(br)){var vr=yr.stackGroups[br]||{numericAxisId:nr,cateAxisId:ir,items:[]};vr.items.push(hr),yr.hasStack=!0,yr.stackGroups[br]=vr}else yr.stackGroups[uniqueId("_stackId_")]={numericAxisId:nr,cateAxisId:ir,items:[hr]};return _objectSpread$v(_objectSpread$v({},dr),{},_defineProperty$z({},gr,yr))},or),ur={};return Object.keys(cr).reduce(function(dr,hr){var fr=cr[hr];if(fr.hasStack){var mr={};fr.stackGroups=Object.keys(fr.stackGroups).reduce(function(br,pr){var gr=fr.stackGroups[pr];return _objectSpread$v(_objectSpread$v({},br),{},_defineProperty$z({},pr,{numericAxisId:nr,cateAxisId:ir,items:gr.items,stackedData:getStackedData(er,gr.items,ar)}))},mr)}return _objectSpread$v(_objectSpread$v({},dr),{},_defineProperty$z({},hr,fr))},ur)},getTicksOfScale=function tr(er,rr){var nr=rr.realScaleType,ir=rr.type,ar=rr.tickCount,sr=rr.originalDomain,lr=rr.allowDecimals,or=nr||rr.scale;if(or!=="auto"&&or!=="linear")return null;if(ar&&ir==="number"&&sr&&(sr[0]==="auto"||sr[1]==="auto")){var cr=er.domain();if(!cr.length)return null;var ur=getNiceTickValues(cr,ar,lr);return er.domain([min$1(ur),max$2(ur)]),{niceTicks:ur}}if(ar&&ir==="number"){var dr=er.domain(),hr=getTickValuesFixedDomain(dr,ar,lr);return{niceTicks:hr}}return null};function getCateCoordinateOfLine(tr){var er=tr.axis,rr=tr.ticks,nr=tr.bandSize,ir=tr.entry,ar=tr.index,sr=tr.dataKey;if(er.type==="category"){if(!er.allowDuplicatedCategory&&er.dataKey&&!isNil$1(ir[er.dataKey])){var lr=findEntryInArray(rr,"value",ir[er.dataKey]);if(lr)return lr.coordinate+nr/2}return rr[ar]?rr[ar].coordinate+nr/2:null}var or=getValueByDataKey(ir,isNil$1(sr)?er.dataKey:sr);return isNil$1(or)?null:er.scale(or)}var getCateCoordinateOfBar=function tr(er){var rr=er.axis,nr=er.ticks,ir=er.offset,ar=er.bandSize,sr=er.entry,lr=er.index;if(rr.type==="category")return nr[lr]?nr[lr].coordinate+ir:null;var or=getValueByDataKey(sr,rr.dataKey,rr.domain[lr]);return isNil$1(or)?null:rr.scale(or)-ar/2+ir},getBaseValueOfBar=function tr(er){var rr=er.numericAxis,nr=rr.scale.domain();if(rr.type==="number"){var ir=Math.min(nr[0],nr[1]),ar=Math.max(nr[0],nr[1]);return ir<=0&&ar>=0?0:ar<0?ar:ir}return nr[0]},getStackedDataOfItem=function tr(er,rr){var nr,ir=(nr=er.type)!==null&&nr!==void 0&&nr.defaultProps?_objectSpread$v(_objectSpread$v({},er.type.defaultProps),er.props):er.props,ar=ir.stackId;if(isNumOrStr(ar)){var sr=rr[ar];if(sr){var lr=sr.items.indexOf(er);return lr>=0?sr.stackedData[lr]:null}}return null},getDomainOfSingle=function tr(er){return er.reduce(function(rr,nr){return[min$1(nr.concat([rr[0]]).filter(isNumber)),max$2(nr.concat([rr[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function tr(er,rr,nr){return Object.keys(er).reduce(function(ir,ar){var sr=er[ar],lr=sr.stackedData,or=lr.reduce(function(cr,ur){var dr=getDomainOfSingle(ur.slice(rr,nr+1));return[Math.min(cr[0],dr[0]),Math.max(cr[1],dr[1])]},[1/0,-1/0]);return[Math.min(or[0],ir[0]),Math.max(or[1],ir[1])]},[1/0,-1/0]).map(function(ir){return ir===1/0||ir===-1/0?0:ir})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function tr(er,rr,nr){if(isFunction$3(er))return er(rr,nr);if(!Array.isArray(er))return rr;var ir=[];if(isNumber(er[0]))ir[0]=nr?er[0]:Math.min(er[0],rr[0]);else if(MIN_VALUE_REG.test(er[0])){var ar=+MIN_VALUE_REG.exec(er[0])[1];ir[0]=rr[0]-ar}else isFunction$3(er[0])?ir[0]=er[0](rr[0]):ir[0]=rr[0];if(isNumber(er[1]))ir[1]=nr?er[1]:Math.max(er[1],rr[1]);else if(MAX_VALUE_REG.test(er[1])){var sr=+MAX_VALUE_REG.exec(er[1])[1];ir[1]=rr[1]+sr}else isFunction$3(er[1])?ir[1]=er[1](rr[1]):ir[1]=rr[1];return ir},getBandSizeOfAxis=function tr(er,rr,nr){if(er&&er.scale&&er.scale.bandwidth){var ir=er.scale.bandwidth();if(!nr||ir>0)return ir}if(er&&rr&&rr.length>=2){for(var ar=sortBy$1(rr,function(dr){return dr.coordinate}),sr=1/0,lr=1,or=ar.length;lr<or;lr++){var cr=ar[lr],ur=ar[lr-1];sr=Math.min((cr.coordinate||0)-(ur.coordinate||0),sr)}return sr===1/0?0:sr}return nr?void 0:0},parseDomainOfCategoryAxis=function tr(er,rr,nr){return!er||!er.length||isEqual$1(er,get$2(nr,"type.defaultProps.domain"))?rr:er},getTooltipItem=function tr(er,rr){var nr=er.type.defaultProps?_objectSpread$v(_objectSpread$v({},er.type.defaultProps),er.props):er.props,ir=nr.dataKey,ar=nr.name,sr=nr.unit,lr=nr.formatter,or=nr.tooltipType,cr=nr.chartType,ur=nr.hide;return _objectSpread$v(_objectSpread$v({},filterProps(er,!1)),{},{dataKey:ir,unit:sr,formatter:lr,name:ar||ir,color:getMainColorOfGraphicItem(er),value:getValueByDataKey(rr,ir),type:or,payload:rr,chartType:cr,hide:ur})};function _typeof$A(tr){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$A(tr)}function ownKeys$u(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$u(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$u(Object(rr),!0).forEach(function(nr){_defineProperty$y(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$u(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$y(tr,er,rr){return er=_toPropertyKey$y(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$y(tr){var er=_toPrimitive$y(tr,"string");return _typeof$A(er)=="symbol"?er:er+""}function _toPrimitive$y(tr,er){if(_typeof$A(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$A(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$6(tr,er){return _arrayWithHoles$7(tr)||_iterableToArrayLimit$6(tr,er)||_unsupportedIterableToArray$d(tr,er)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$d(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$d(tr,er)}}function _arrayLikeToArray$d(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$6(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$7(tr){if(Array.isArray(tr))return tr}var RADIAN$1=Math.PI/180,radianToDegree=function tr(er){return er*180/Math.PI},polarToCartesian=function tr(er,rr,nr,ir){return{x:er+Math.cos(-RADIAN$1*ir)*nr,y:rr+Math.sin(-RADIAN$1*ir)*nr}},getMaxRadius=function tr(er,rr){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(er-(nr.left||0)-(nr.right||0)),Math.abs(rr-(nr.top||0)-(nr.bottom||0)))/2},formatAxisMap$1=function tr(er,rr,nr,ir,ar){var sr=er.width,lr=er.height,or=er.startAngle,cr=er.endAngle,ur=getPercentValue(er.cx,sr,sr/2),dr=getPercentValue(er.cy,lr,lr/2),hr=getMaxRadius(sr,lr,nr),fr=getPercentValue(er.innerRadius,hr,0),mr=getPercentValue(er.outerRadius,hr,hr*.8),br=Object.keys(rr);return br.reduce(function(pr,gr){var yr=rr[gr],vr=yr.domain,_r=yr.reversed,xr;if(isNil$1(yr.range))ir==="angleAxis"?xr=[or,cr]:ir==="radiusAxis"&&(xr=[fr,mr]),_r&&(xr=[xr[1],xr[0]]);else{xr=yr.range;var Rr=xr,Cr=_slicedToArray$6(Rr,2);or=Cr[0],cr=Cr[1]}var Tr=parseScale(yr,ar),Ir=Tr.realScaleType,Lr=Tr.scale;Lr.domain(vr).range(xr),checkDomainOfScale(Lr);var Nr=getTicksOfScale(Lr,_objectSpread$u(_objectSpread$u({},yr),{},{realScaleType:Ir})),Or=_objectSpread$u(_objectSpread$u(_objectSpread$u({},yr),Nr),{},{range:xr,radius:mr,realScaleType:Ir,scale:Lr,cx:ur,cy:dr,innerRadius:fr,outerRadius:mr,startAngle:or,endAngle:cr});return _objectSpread$u(_objectSpread$u({},pr),{},_defineProperty$y({},gr,Or))},{})},distanceBetweenPoints=function tr(er,rr){var nr=er.x,ir=er.y,ar=rr.x,sr=rr.y;return Math.sqrt(Math.pow(nr-ar,2)+Math.pow(ir-sr,2))},getAngleOfPoint=function tr(er,rr){var nr=er.x,ir=er.y,ar=rr.cx,sr=rr.cy,lr=distanceBetweenPoints({x:nr,y:ir},{x:ar,y:sr});if(lr<=0)return{radius:lr};var or=(nr-ar)/lr,cr=Math.acos(or);return ir>sr&&(cr=2*Math.PI-cr),{radius:lr,angle:radianToDegree(cr),angleInRadian:cr}},formatAngleOfSector=function tr(er){var rr=er.startAngle,nr=er.endAngle,ir=Math.floor(rr/360),ar=Math.floor(nr/360),sr=Math.min(ir,ar);return{startAngle:rr-sr*360,endAngle:nr-sr*360}},reverseFormatAngleOfSetor=function tr(er,rr){var nr=rr.startAngle,ir=rr.endAngle,ar=Math.floor(nr/360),sr=Math.floor(ir/360),lr=Math.min(ar,sr);return er+lr*360},inRangeOfSector=function tr(er,rr){var nr=er.x,ir=er.y,ar=getAngleOfPoint({x:nr,y:ir},rr),sr=ar.radius,lr=ar.angle,or=rr.innerRadius,cr=rr.outerRadius;if(sr<or||sr>cr)return!1;if(sr===0)return!0;var ur=formatAngleOfSector(rr),dr=ur.startAngle,hr=ur.endAngle,fr=lr,mr;if(dr<=hr){for(;fr>hr;)fr-=360;for(;fr<dr;)fr+=360;mr=fr>=dr&&fr<=hr}else{for(;fr>dr;)fr-=360;for(;fr<hr;)fr+=360;mr=fr>=hr&&fr<=dr}return mr?_objectSpread$u(_objectSpread$u({},rr),{},{radius:sr,angle:reverseFormatAngleOfSetor(fr,rr)}):null},getTickClassName=function tr(er){return!reactExports.isValidElement(er)&&!isFunction$3(er)&&typeof er!="boolean"?er.className:""};function _typeof$z(tr){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$z(tr)}var _excluded$e=["offset"];function _toConsumableArray$8(tr){return _arrayWithoutHoles$8(tr)||_iterableToArray$9(tr)||_unsupportedIterableToArray$c(tr)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$c(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$c(tr,er)}}function _iterableToArray$9(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$8(tr){if(Array.isArray(tr))return _arrayLikeToArray$c(tr)}function _arrayLikeToArray$c(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _objectWithoutProperties$e(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$e(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$e(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function ownKeys$t(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$t(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$t(Object(rr),!0).forEach(function(nr){_defineProperty$x(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$t(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$x(tr,er,rr){return er=_toPropertyKey$x(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$x(tr){var er=_toPrimitive$x(tr,"string");return _typeof$z(er)=="symbol"?er:er+""}function _toPrimitive$x(tr,er){if(_typeof$z(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$z(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$q.apply(this,arguments)}var getLabel=function tr(er){var rr=er.value,nr=er.formatter,ir=isNil$1(er.children)?rr:er.children;return isFunction$3(nr)?nr(ir):ir},getDeltaAngle$1=function tr(er,rr){var nr=mathSign(rr-er),ir=Math.min(Math.abs(rr-er),360);return nr*ir},renderRadialLabel=function tr(er,rr,nr){var ir=er.position,ar=er.viewBox,sr=er.offset,lr=er.className,or=ar,cr=or.cx,ur=or.cy,dr=or.innerRadius,hr=or.outerRadius,fr=or.startAngle,mr=or.endAngle,br=or.clockWise,pr=(dr+hr)/2,gr=getDeltaAngle$1(fr,mr),yr=gr>=0?1:-1,vr,_r;ir==="insideStart"?(vr=fr+yr*sr,_r=br):ir==="insideEnd"?(vr=mr-yr*sr,_r=!br):ir==="end"&&(vr=mr+yr*sr,_r=br),_r=gr<=0?_r:!_r;var xr=polarToCartesian(cr,ur,pr,vr),Rr=polarToCartesian(cr,ur,pr,vr+(_r?1:-1)*359),Cr="M".concat(xr.x,",").concat(xr.y,`
    A`).concat(pr,",").concat(pr,",0,1,").concat(_r?0:1,`,
    `).concat(Rr.x,",").concat(Rr.y),Tr=isNil$1(er.id)?uniqueId("recharts-radial-line-"):er.id;return React.createElement("text",_extends$q({},nr,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",lr)}),React.createElement("defs",null,React.createElement("path",{id:Tr,d:Cr})),React.createElement("textPath",{xlinkHref:"#".concat(Tr)},rr))},getAttrsOfPolarLabel=function tr(er){var rr=er.viewBox,nr=er.offset,ir=er.position,ar=rr,sr=ar.cx,lr=ar.cy,or=ar.innerRadius,cr=ar.outerRadius,ur=ar.startAngle,dr=ar.endAngle,hr=(ur+dr)/2;if(ir==="outside"){var fr=polarToCartesian(sr,lr,cr+nr,hr),mr=fr.x,br=fr.y;return{x:mr,y:br,textAnchor:mr>=sr?"start":"end",verticalAnchor:"middle"}}if(ir==="center")return{x:sr,y:lr,textAnchor:"middle",verticalAnchor:"middle"};if(ir==="centerTop")return{x:sr,y:lr,textAnchor:"middle",verticalAnchor:"start"};if(ir==="centerBottom")return{x:sr,y:lr,textAnchor:"middle",verticalAnchor:"end"};var pr=(or+cr)/2,gr=polarToCartesian(sr,lr,pr,hr),yr=gr.x,vr=gr.y;return{x:yr,y:vr,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function tr(er){var rr=er.viewBox,nr=er.parentViewBox,ir=er.offset,ar=er.position,sr=rr,lr=sr.x,or=sr.y,cr=sr.width,ur=sr.height,dr=ur>=0?1:-1,hr=dr*ir,fr=dr>0?"end":"start",mr=dr>0?"start":"end",br=cr>=0?1:-1,pr=br*ir,gr=br>0?"end":"start",yr=br>0?"start":"end";if(ar==="top"){var vr={x:lr+cr/2,y:or-dr*ir,textAnchor:"middle",verticalAnchor:fr};return _objectSpread$t(_objectSpread$t({},vr),nr?{height:Math.max(or-nr.y,0),width:cr}:{})}if(ar==="bottom"){var _r={x:lr+cr/2,y:or+ur+hr,textAnchor:"middle",verticalAnchor:mr};return _objectSpread$t(_objectSpread$t({},_r),nr?{height:Math.max(nr.y+nr.height-(or+ur),0),width:cr}:{})}if(ar==="left"){var xr={x:lr-pr,y:or+ur/2,textAnchor:gr,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},xr),nr?{width:Math.max(xr.x-nr.x,0),height:ur}:{})}if(ar==="right"){var Rr={x:lr+cr+pr,y:or+ur/2,textAnchor:yr,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},Rr),nr?{width:Math.max(nr.x+nr.width-Rr.x,0),height:ur}:{})}var Cr=nr?{width:cr,height:ur}:{};return ar==="insideLeft"?_objectSpread$t({x:lr+pr,y:or+ur/2,textAnchor:yr,verticalAnchor:"middle"},Cr):ar==="insideRight"?_objectSpread$t({x:lr+cr-pr,y:or+ur/2,textAnchor:gr,verticalAnchor:"middle"},Cr):ar==="insideTop"?_objectSpread$t({x:lr+cr/2,y:or+hr,textAnchor:"middle",verticalAnchor:mr},Cr):ar==="insideBottom"?_objectSpread$t({x:lr+cr/2,y:or+ur-hr,textAnchor:"middle",verticalAnchor:fr},Cr):ar==="insideTopLeft"?_objectSpread$t({x:lr+pr,y:or+hr,textAnchor:yr,verticalAnchor:mr},Cr):ar==="insideTopRight"?_objectSpread$t({x:lr+cr-pr,y:or+hr,textAnchor:gr,verticalAnchor:mr},Cr):ar==="insideBottomLeft"?_objectSpread$t({x:lr+pr,y:or+ur-hr,textAnchor:yr,verticalAnchor:fr},Cr):ar==="insideBottomRight"?_objectSpread$t({x:lr+cr-pr,y:or+ur-hr,textAnchor:gr,verticalAnchor:fr},Cr):isObject$8(ar)&&(isNumber(ar.x)||isPercent(ar.x))&&(isNumber(ar.y)||isPercent(ar.y))?_objectSpread$t({x:lr+getPercentValue(ar.x,cr),y:or+getPercentValue(ar.y,ur),textAnchor:"end",verticalAnchor:"end"},Cr):_objectSpread$t({x:lr+cr/2,y:or+ur/2,textAnchor:"middle",verticalAnchor:"middle"},Cr)},isPolar=function tr(er){return"cx"in er&&isNumber(er.cx)};function Label(tr){var er=tr.offset,rr=er===void 0?5:er,nr=_objectWithoutProperties$e(tr,_excluded$e),ir=_objectSpread$t({offset:rr},nr),ar=ir.viewBox,sr=ir.position,lr=ir.value,or=ir.children,cr=ir.content,ur=ir.className,dr=ur===void 0?"":ur,hr=ir.textBreakAll;if(!ar||isNil$1(lr)&&isNil$1(or)&&!reactExports.isValidElement(cr)&&!isFunction$3(cr))return null;if(reactExports.isValidElement(cr))return reactExports.cloneElement(cr,ir);var fr;if(isFunction$3(cr)){if(fr=reactExports.createElement(cr,ir),reactExports.isValidElement(fr))return fr}else fr=getLabel(ir);var mr=isPolar(ar),br=filterProps(ir,!0);if(mr&&(sr==="insideStart"||sr==="insideEnd"||sr==="end"))return renderRadialLabel(ir,fr,br);var pr=mr?getAttrsOfPolarLabel(ir):getAttrsOfCartesianLabel(ir);return React.createElement(Text,_extends$q({className:clsx("recharts-label",dr)},br,pr,{breakAll:hr}),fr)}Label.displayName="Label";var parseViewBox=function tr(er){var rr=er.cx,nr=er.cy,ir=er.angle,ar=er.startAngle,sr=er.endAngle,lr=er.r,or=er.radius,cr=er.innerRadius,ur=er.outerRadius,dr=er.x,hr=er.y,fr=er.top,mr=er.left,br=er.width,pr=er.height,gr=er.clockWise,yr=er.labelViewBox;if(yr)return yr;if(isNumber(br)&&isNumber(pr)){if(isNumber(dr)&&isNumber(hr))return{x:dr,y:hr,width:br,height:pr};if(isNumber(fr)&&isNumber(mr))return{x:fr,y:mr,width:br,height:pr}}return isNumber(dr)&&isNumber(hr)?{x:dr,y:hr,width:0,height:0}:isNumber(rr)&&isNumber(nr)?{cx:rr,cy:nr,startAngle:ar||ir||0,endAngle:sr||ir||0,innerRadius:cr||0,outerRadius:ur||or||lr||0,clockWise:gr}:er.viewBox?er.viewBox:{}},parseLabel=function tr(er,rr){return er?er===!0?React.createElement(Label,{key:"label-implicit",viewBox:rr}):isNumOrStr(er)?React.createElement(Label,{key:"label-implicit",viewBox:rr,value:er}):reactExports.isValidElement(er)?er.type===Label?reactExports.cloneElement(er,{key:"label-implicit",viewBox:rr}):React.createElement(Label,{key:"label-implicit",content:er,viewBox:rr}):isFunction$3(er)?React.createElement(Label,{key:"label-implicit",content:er,viewBox:rr}):isObject$8(er)?React.createElement(Label,_extends$q({viewBox:rr},er,{key:"label-implicit"})):null:null},renderCallByParent$1=function tr(er,rr){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!er||!er.children&&nr&&!er.label)return null;var ir=er.children,ar=parseViewBox(er),sr=findAllByType(ir,Label).map(function(or,cr){return reactExports.cloneElement(or,{viewBox:rr||ar,key:"label-".concat(cr)})});if(!nr)return sr;var lr=parseLabel(er.label,rr||ar);return[lr].concat(_toConsumableArray$8(sr))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(tr){var er=tr==null?0:tr.length;return er?tr[er-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$y(tr){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$y(tr)}var _excluded$d=["valueAccessor"],_excluded2$6=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(tr){return _arrayWithoutHoles$7(tr)||_iterableToArray$8(tr)||_unsupportedIterableToArray$b(tr)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$b(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$b(tr,er)}}function _iterableToArray$8(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$7(tr){if(Array.isArray(tr))return _arrayLikeToArray$b(tr)}function _arrayLikeToArray$b(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$p.apply(this,arguments)}function ownKeys$s(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$s(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$s(Object(rr),!0).forEach(function(nr){_defineProperty$w(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$s(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$w(tr,er,rr){return er=_toPropertyKey$w(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$w(tr){var er=_toPrimitive$w(tr,"string");return _typeof$y(er)=="symbol"?er:er+""}function _toPrimitive$w(tr,er){if(_typeof$y(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$y(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$d(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$d(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$d(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}var defaultAccessor=function tr(er){return Array.isArray(er.value)?last$1(er.value):er.value};function LabelList(tr){var er=tr.valueAccessor,rr=er===void 0?defaultAccessor:er,nr=_objectWithoutProperties$d(tr,_excluded$d),ir=nr.data,ar=nr.dataKey,sr=nr.clockWise,lr=nr.id,or=nr.textBreakAll,cr=_objectWithoutProperties$d(nr,_excluded2$6);return!ir||!ir.length?null:React.createElement(Layer,{className:"recharts-label-list"},ir.map(function(ur,dr){var hr=isNil$1(ar)?rr(ur,dr):getValueByDataKey(ur&&ur.payload,ar),fr=isNil$1(lr)?{}:{id:"".concat(lr,"-").concat(dr)};return React.createElement(Label,_extends$p({},filterProps(ur,!0),cr,fr,{parentViewBox:ur.parentViewBox,value:hr,textBreakAll:or,viewBox:Label.parseViewBox(isNil$1(sr)?ur:_objectSpread$s(_objectSpread$s({},ur),{},{clockWise:sr})),key:"label-".concat(dr),index:dr}))}))}LabelList.displayName="LabelList";function parseLabelList(tr,er){return tr?tr===!0?React.createElement(LabelList,{key:"labelList-implicit",data:er}):React.isValidElement(tr)||isFunction$3(tr)?React.createElement(LabelList,{key:"labelList-implicit",data:er,content:tr}):isObject$8(tr)?React.createElement(LabelList,_extends$p({data:er},tr,{key:"labelList-implicit"})):null:null}function renderCallByParent(tr,er){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!tr||!tr.children&&rr&&!tr.label)return null;var nr=tr.children,ir=findAllByType(nr,LabelList).map(function(sr,lr){return reactExports.cloneElement(sr,{data:er,key:"labelList-".concat(lr)})});if(!rr)return ir;var ar=parseLabelList(tr.label,er);return[ar].concat(_toConsumableArray$7(ir))}LabelList.renderCallByParent=renderCallByParent;function _typeof$x(tr){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$x(tr)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$o.apply(this,arguments)}function ownKeys$r(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$r(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$r(Object(rr),!0).forEach(function(nr){_defineProperty$v(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$r(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$v(tr,er,rr){return er=_toPropertyKey$v(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$v(tr){var er=_toPrimitive$v(tr,"string");return _typeof$x(er)=="symbol"?er:er+""}function _toPrimitive$v(tr,er){if(_typeof$x(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$x(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getDeltaAngle=function tr(er,rr){var nr=mathSign(rr-er),ir=Math.min(Math.abs(rr-er),359.999);return nr*ir},getTangentCircle=function tr(er){var rr=er.cx,nr=er.cy,ir=er.radius,ar=er.angle,sr=er.sign,lr=er.isExternal,or=er.cornerRadius,cr=er.cornerIsExternal,ur=or*(lr?1:-1)+ir,dr=Math.asin(or/ur)/RADIAN$1,hr=cr?ar:ar+sr*dr,fr=polarToCartesian(rr,nr,ur,hr),mr=polarToCartesian(rr,nr,ir,hr),br=cr?ar-sr*dr:ar,pr=polarToCartesian(rr,nr,ur*Math.cos(dr*RADIAN$1),br);return{center:fr,circleTangency:mr,lineTangency:pr,theta:dr}},getSectorPath=function tr(er){var rr=er.cx,nr=er.cy,ir=er.innerRadius,ar=er.outerRadius,sr=er.startAngle,lr=er.endAngle,or=getDeltaAngle(sr,lr),cr=sr+or,ur=polarToCartesian(rr,nr,ar,sr),dr=polarToCartesian(rr,nr,ar,cr),hr="M ".concat(ur.x,",").concat(ur.y,`
    A `).concat(ar,",").concat(ar,`,0,
    `).concat(+(Math.abs(or)>180),",").concat(+(sr>cr),`,
    `).concat(dr.x,",").concat(dr.y,`
  `);if(ir>0){var fr=polarToCartesian(rr,nr,ir,sr),mr=polarToCartesian(rr,nr,ir,cr);hr+="L ".concat(mr.x,",").concat(mr.y,`
            A `).concat(ir,",").concat(ir,`,0,
            `).concat(+(Math.abs(or)>180),",").concat(+(sr<=cr),`,
            `).concat(fr.x,",").concat(fr.y," Z")}else hr+="L ".concat(rr,",").concat(nr," Z");return hr},getSectorWithCorner=function tr(er){var rr=er.cx,nr=er.cy,ir=er.innerRadius,ar=er.outerRadius,sr=er.cornerRadius,lr=er.forceCornerRadius,or=er.cornerIsExternal,cr=er.startAngle,ur=er.endAngle,dr=mathSign(ur-cr),hr=getTangentCircle({cx:rr,cy:nr,radius:ar,angle:cr,sign:dr,cornerRadius:sr,cornerIsExternal:or}),fr=hr.circleTangency,mr=hr.lineTangency,br=hr.theta,pr=getTangentCircle({cx:rr,cy:nr,radius:ar,angle:ur,sign:-dr,cornerRadius:sr,cornerIsExternal:or}),gr=pr.circleTangency,yr=pr.lineTangency,vr=pr.theta,_r=or?Math.abs(cr-ur):Math.abs(cr-ur)-br-vr;if(_r<0)return lr?"M ".concat(mr.x,",").concat(mr.y,`
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(sr*2,`,0
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(-sr*2,`,0
      `):getSectorPath({cx:rr,cy:nr,innerRadius:ir,outerRadius:ar,startAngle:cr,endAngle:ur});var xr="M ".concat(mr.x,",").concat(mr.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(dr<0),",").concat(fr.x,",").concat(fr.y,`
    A`).concat(ar,",").concat(ar,",0,").concat(+(_r>180),",").concat(+(dr<0),",").concat(gr.x,",").concat(gr.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(dr<0),",").concat(yr.x,",").concat(yr.y,`
  `);if(ir>0){var Rr=getTangentCircle({cx:rr,cy:nr,radius:ir,angle:cr,sign:dr,isExternal:!0,cornerRadius:sr,cornerIsExternal:or}),Cr=Rr.circleTangency,Tr=Rr.lineTangency,Ir=Rr.theta,Lr=getTangentCircle({cx:rr,cy:nr,radius:ir,angle:ur,sign:-dr,isExternal:!0,cornerRadius:sr,cornerIsExternal:or}),Nr=Lr.circleTangency,Or=Lr.lineTangency,Pr=Lr.theta,Mr=or?Math.abs(cr-ur):Math.abs(cr-ur)-Ir-Pr;if(Mr<0&&sr===0)return"".concat(xr,"L").concat(rr,",").concat(nr,"Z");xr+="L".concat(Or.x,",").concat(Or.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(dr<0),",").concat(Nr.x,",").concat(Nr.y,`
      A`).concat(ir,",").concat(ir,",0,").concat(+(Mr>180),",").concat(+(dr>0),",").concat(Cr.x,",").concat(Cr.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(dr<0),",").concat(Tr.x,",").concat(Tr.y,"Z")}else xr+="L".concat(rr,",").concat(nr,"Z");return xr},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function tr(er){var rr=_objectSpread$r(_objectSpread$r({},defaultProps$3),er),nr=rr.cx,ir=rr.cy,ar=rr.innerRadius,sr=rr.outerRadius,lr=rr.cornerRadius,or=rr.forceCornerRadius,cr=rr.cornerIsExternal,ur=rr.startAngle,dr=rr.endAngle,hr=rr.className;if(sr<ar||ur===dr)return null;var fr=clsx("recharts-sector",hr),mr=sr-ar,br=getPercentValue(lr,mr,0,!0),pr;return br>0&&Math.abs(ur-dr)<360?pr=getSectorWithCorner({cx:nr,cy:ir,innerRadius:ar,outerRadius:sr,cornerRadius:Math.min(br,mr/2),forceCornerRadius:or,cornerIsExternal:cr,startAngle:ur,endAngle:dr}):pr=getSectorPath({cx:nr,cy:ir,innerRadius:ar,outerRadius:sr,startAngle:ur,endAngle:dr}),React.createElement("path",_extends$o({},filterProps(rr,!0),{className:fr,d:pr,role:"img"}))};function _typeof$w(tr){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$w(tr)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$n.apply(this,arguments)}function ownKeys$q(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$q(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$q(Object(rr),!0).forEach(function(nr){_defineProperty$u(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$q(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$u(tr,er,rr){return er=_toPropertyKey$u(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$u(tr){var er=_toPrimitive$u(tr,"string");return _typeof$w(er)=="symbol"?er:er+""}function _toPrimitive$u(tr,er){if(_typeof$w(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$w(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function tr(er){return er.x===+er.x&&er.y===+er.y},getX=function tr(er){return er.x},getY=function tr(er){return er.y},getCurveFactory=function tr(er,rr){if(isFunction$3(er))return er;var nr="curve".concat(upperFirst$1(er));return(nr==="curveMonotone"||nr==="curveBump")&&rr?CURVE_FACTORIES["".concat(nr).concat(rr==="vertical"?"Y":"X")]:CURVE_FACTORIES[nr]||curveLinear},getPath$1=function tr(er){var rr=er.type,nr=rr===void 0?"linear":rr,ir=er.points,ar=ir===void 0?[]:ir,sr=er.baseLine,lr=er.layout,or=er.connectNulls,cr=or===void 0?!1:or,ur=getCurveFactory(nr,lr),dr=cr?ar.filter(function(br){return defined(br)}):ar,hr;if(Array.isArray(sr)){var fr=cr?sr.filter(function(br){return defined(br)}):sr,mr=dr.map(function(br,pr){return _objectSpread$q(_objectSpread$q({},br),{},{base:fr[pr]})});return lr==="vertical"?hr=shapeArea().y(getY).x1(getX).x0(function(br){return br.base.x}):hr=shapeArea().x(getX).y1(getY).y0(function(br){return br.base.y}),hr.defined(defined).curve(ur),hr(mr)}return lr==="vertical"&&isNumber(sr)?hr=shapeArea().y(getY).x1(getX).x0(sr):isNumber(sr)?hr=shapeArea().x(getX).y1(getY).y0(sr):hr=shapeLine().x(getX).y(getY),hr.defined(defined).curve(ur),hr(dr)},Curve=function tr(er){var rr=er.className,nr=er.points,ir=er.path,ar=er.pathRef;if((!nr||!nr.length)&&!ir)return null;var sr=nr&&nr.length?getPath$1(er):ir;return reactExports.createElement("path",_extends$n({},filterProps(er,!1),adaptEventHandlers(er),{className:clsx("recharts-curve",rr),d:sr,ref:ar}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function tr(nr,ir,ar,sr,lr,or){if(or!==ReactPropTypesSecret){var cr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw cr.name="Invariant Violation",cr}}tr.isRequired=tr;function er(){return tr}var rr={array:tr,bigint:tr,bool:tr,func:tr,number:tr,object:tr,string:tr,symbol:tr,any:tr,arrayOf:er,element:tr,elementType:tr,instanceOf:er,node:tr,objectOf:er,oneOf:er,oneOfType:er,shape:er,exact:er,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rr.PropTypes=rr,rr};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function combineComparators(tr,er){return function(nr,ir,ar){return tr(nr,ir,ar)&&er(nr,ir,ar)}}function createIsCircular(tr){return function(rr,nr,ir){if(!rr||!nr||typeof rr!="object"||typeof nr!="object")return tr(rr,nr,ir);const{cache:ar}=ir,sr=ar.get(rr),lr=ar.get(nr);if(sr&&lr)return sr===nr&&lr===rr;ar.set(rr,nr),ar.set(nr,rr);const or=tr(rr,nr,ir);return ar.delete(rr),ar.delete(nr),or}}function getShortTag(tr){return tr!=null?tr[Symbol.toStringTag]:void 0}function getStrictProperties(tr){return getOwnPropertyNames(tr).concat(getOwnPropertySymbols(tr))}const hasOwn=Object.hasOwn||((tr,er)=>hasOwnProperty$1.call(tr,er));function sameValueZeroEqual(tr,er){return tr===er||!tr&&!er&&tr!==tr&&er!==er}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys:keys$1}=Object;function areArrayBuffersEqual(tr,er){return tr.byteLength===er.byteLength&&areTypedArraysEqual(new Uint8Array(tr),new Uint8Array(er))}function areArraysEqual(tr,er,rr){let nr=tr.length;if(er.length!==nr)return!1;for(;nr-- >0;)if(!rr.equals(tr[nr],er[nr],nr,nr,tr,er,rr))return!1;return!0}function areDataViewsEqual(tr,er){return tr.byteLength===er.byteLength&&areTypedArraysEqual(new Uint8Array(tr.buffer,tr.byteOffset,tr.byteLength),new Uint8Array(er.buffer,er.byteOffset,er.byteLength))}function areDatesEqual(tr,er){return sameValueZeroEqual(tr.getTime(),er.getTime())}function areErrorsEqual(tr,er){return tr.name===er.name&&tr.message===er.message&&tr.cause===er.cause&&tr.stack===er.stack}function areFunctionsEqual(tr,er){return tr===er}function areMapsEqual(tr,er,rr){const nr=tr.size;if(nr!==er.size)return!1;if(!nr)return!0;const ir=new Array(nr),ar=tr.entries();let sr,lr,or=0;for(;(sr=ar.next())&&!sr.done;){const cr=er.entries();let ur=!1,dr=0;for(;(lr=cr.next())&&!lr.done;){if(ir[dr]){dr++;continue}const hr=sr.value,fr=lr.value;if(rr.equals(hr[0],fr[0],or,dr,tr,er,rr)&&rr.equals(hr[1],fr[1],hr[0],fr[0],tr,er,rr)){ur=ir[dr]=!0;break}dr++}if(!ur)return!1;or++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(tr,er,rr){const nr=keys$1(tr);let ir=nr.length;if(keys$1(er).length!==ir)return!1;for(;ir-- >0;)if(!isPropertyEqual(tr,er,rr,nr[ir]))return!1;return!0}function areObjectsEqualStrict(tr,er,rr){const nr=getStrictProperties(tr);let ir=nr.length;if(getStrictProperties(er).length!==ir)return!1;let ar,sr,lr;for(;ir-- >0;)if(ar=nr[ir],!isPropertyEqual(tr,er,rr,ar)||(sr=getOwnPropertyDescriptor(tr,ar),lr=getOwnPropertyDescriptor(er,ar),(sr||lr)&&(!sr||!lr||sr.configurable!==lr.configurable||sr.enumerable!==lr.enumerable||sr.writable!==lr.writable)))return!1;return!0}function arePrimitiveWrappersEqual(tr,er){return sameValueZeroEqual(tr.valueOf(),er.valueOf())}function areRegExpsEqual(tr,er){return tr.source===er.source&&tr.flags===er.flags}function areSetsEqual(tr,er,rr){const nr=tr.size;if(nr!==er.size)return!1;if(!nr)return!0;const ir=new Array(nr),ar=tr.values();let sr,lr;for(;(sr=ar.next())&&!sr.done;){const or=er.values();let cr=!1,ur=0;for(;(lr=or.next())&&!lr.done;){if(!ir[ur]&&rr.equals(sr.value,lr.value,sr.value,lr.value,tr,er,rr)){cr=ir[ur]=!0;break}ur++}if(!cr)return!1}return!0}function areTypedArraysEqual(tr,er){let rr=tr.byteLength;if(er.byteLength!==rr||tr.byteOffset!==er.byteOffset)return!1;for(;rr-- >0;)if(tr[rr]!==er[rr])return!1;return!0}function areUrlsEqual(tr,er){return tr.hostname===er.hostname&&tr.pathname===er.pathname&&tr.protocol===er.protocol&&tr.port===er.port&&tr.hash===er.hash&&tr.username===er.username&&tr.password===er.password}function isPropertyEqual(tr,er,rr,nr){return(nr===REACT_OWNER||nr===PREACT_OWNER||nr===PREACT_VNODE)&&(tr.$$typeof||er.$$typeof)?!0:hasOwn(er,nr)&&rr.equals(tr[nr],er[nr],nr,nr,tr,er,rr)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:tr,areArraysEqual:er,areDataViewsEqual:rr,areDatesEqual:nr,areErrorsEqual:ir,areFunctionsEqual:ar,areMapsEqual:sr,areNumbersEqual:lr,areObjectsEqual:or,arePrimitiveWrappersEqual:cr,areRegExpsEqual:ur,areSetsEqual:dr,areTypedArraysEqual:hr,areUrlsEqual:fr,unknownTagComparators:mr}){return function(pr,gr,yr){if(pr===gr)return!0;if(pr==null||gr==null)return!1;const vr=typeof pr;if(vr!==typeof gr)return!1;if(vr!=="object")return vr==="number"?lr(pr,gr,yr):vr==="function"?ar(pr,gr,yr):!1;const _r=pr.constructor;if(_r!==gr.constructor)return!1;if(_r===Object)return or(pr,gr,yr);if(Array.isArray(pr))return er(pr,gr,yr);if(_r===Date)return nr(pr,gr,yr);if(_r===RegExp)return ur(pr,gr,yr);if(_r===Map)return sr(pr,gr,yr);if(_r===Set)return dr(pr,gr,yr);const xr=toString.call(pr);if(xr===DATE_TAG)return nr(pr,gr,yr);if(xr===REG_EXP_TAG)return ur(pr,gr,yr);if(xr===MAP_TAG)return sr(pr,gr,yr);if(xr===SET_TAG)return dr(pr,gr,yr);if(xr===OBJECT_TAG)return typeof pr.then!="function"&&typeof gr.then!="function"&&or(pr,gr,yr);if(xr===URL_TAG)return fr(pr,gr,yr);if(xr===ERROR_TAG)return ir(pr,gr,yr);if(xr===ARGUMENTS_TAG)return or(pr,gr,yr);if(TYPED_ARRAY_TAGS[xr])return hr(pr,gr,yr);if(xr===ARRAY_BUFFER_TAG)return tr(pr,gr,yr);if(xr===DATA_VIEW_TAG)return rr(pr,gr,yr);if(xr===BOOLEAN_TAG||xr===NUMBER_TAG||xr===STRING_TAG)return cr(pr,gr,yr);if(mr){let Rr=mr[xr];if(!Rr){const Cr=getShortTag(pr);Cr&&(Rr=mr[Cr])}if(Rr)return Rr(pr,gr,yr)}return!1}}function createEqualityComparatorConfig({circular:tr,createCustomConfig:er,strict:rr}){let nr={areArrayBuffersEqual,areArraysEqual:rr?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:rr?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:rr?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:rr?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:rr?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(er&&(nr=Object.assign({},nr,er(nr))),tr){const ir=createIsCircular(nr.areArraysEqual),ar=createIsCircular(nr.areMapsEqual),sr=createIsCircular(nr.areObjectsEqual),lr=createIsCircular(nr.areSetsEqual);nr=Object.assign({},nr,{areArraysEqual:ir,areMapsEqual:ar,areObjectsEqual:sr,areSetsEqual:lr})}return nr}function createInternalEqualityComparator(tr){return function(er,rr,nr,ir,ar,sr,lr){return tr(er,rr,lr)}}function createIsEqual({circular:tr,comparator:er,createState:rr,equals:nr,strict:ir}){if(rr)return function(lr,or){const{cache:cr=tr?new WeakMap:void 0,meta:ur}=rr();return er(lr,or,{cache:cr,equals:nr,meta:ur,strict:ir})};if(tr)return function(lr,or){return er(lr,or,{cache:new WeakMap,equals:nr,meta:void 0,strict:ir})};const ar={cache:void 0,equals:nr,meta:void 0,strict:ir};return function(lr,or){return er(lr,or,ar)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(tr={}){const{circular:er=!1,createInternalComparator:rr,createState:nr,strict:ir=!1}=tr,ar=createEqualityComparatorConfig(tr),sr=createEqualityComparator(ar),lr=rr?rr(sr):createInternalEqualityComparator(sr);return createIsEqual({circular:er,comparator:sr,createState:nr,equals:lr,strict:ir})}function safeRequestAnimationFrame(tr){typeof requestAnimationFrame<"u"&&requestAnimationFrame(tr)}function setRafTimeout(tr){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=-1,nr=function ir(ar){rr<0&&(rr=ar),ar-rr>er?(tr(ar),rr=-1):safeRequestAnimationFrame(ir)};requestAnimationFrame(nr)}function _typeof$v(tr){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$v(tr)}function _toArray(tr){return _arrayWithHoles$6(tr)||_iterableToArray$7(tr)||_unsupportedIterableToArray$a(tr)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$a(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$a(tr,er)}}function _arrayLikeToArray$a(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArray$7(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithHoles$6(tr){if(Array.isArray(tr))return tr}function createAnimateManager(){var tr={},er=function(){return null},rr=!1,nr=function ir(ar){if(!rr){if(Array.isArray(ar)){if(!ar.length)return;var sr=ar,lr=_toArray(sr),or=lr[0],cr=lr.slice(1);if(typeof or=="number"){setRafTimeout(ir.bind(null,cr),or);return}ir(or),setRafTimeout(ir.bind(null,cr));return}_typeof$v(ar)==="object"&&(tr=ar,er(tr)),typeof ar=="function"&&ar()}};return{stop:function(){rr=!0},start:function(ar){rr=!1,nr(ar)},subscribe:function(ar){return er=ar,function(){er=function(){return null}}}}}function _typeof$u(tr){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$u(tr)}function ownKeys$p(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$p(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$p(Object(rr),!0).forEach(function(nr){_defineProperty$t(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$p(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$t(tr,er,rr){return er=_toPropertyKey$t(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$t(tr){var er=_toPrimitive$t(tr,"string");return _typeof$u(er)==="symbol"?er:String(er)}function _toPrimitive$t(tr,er){if(_typeof$u(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$u(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getIntersectionKeys=function tr(er,rr){return[Object.keys(er),Object.keys(rr)].reduce(function(nr,ir){return nr.filter(function(ar){return ir.includes(ar)})})},identity=function tr(er){return er},getDashCase=function tr(er){return er.replace(/([A-Z])/g,function(rr){return"-".concat(rr.toLowerCase())})},mapObject=function tr(er,rr){return Object.keys(rr).reduce(function(nr,ir){return _objectSpread$p(_objectSpread$p({},nr),{},_defineProperty$t({},ir,er(ir,rr[ir])))},{})},getTransitionVal=function tr(er,rr,nr){return er.map(function(ir){return"".concat(getDashCase(ir)," ").concat(rr,"ms ").concat(nr)}).join(",")};function _slicedToArray$5(tr,er){return _arrayWithHoles$5(tr)||_iterableToArrayLimit$5(tr,er)||_unsupportedIterableToArray$9(tr,er)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$5(tr){if(Array.isArray(tr))return tr}function _toConsumableArray$6(tr){return _arrayWithoutHoles$6(tr)||_iterableToArray$6(tr)||_unsupportedIterableToArray$9(tr)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$9(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$9(tr,er)}}function _iterableToArray$6(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$6(tr){if(Array.isArray(tr))return _arrayLikeToArray$9(tr)}function _arrayLikeToArray$9(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var ACCURACY=1e-4,cubicBezierFactor=function tr(er,rr){return[0,3*er,3*rr-6*er,3*er-3*rr+1]},multyTime=function tr(er,rr){return er.map(function(nr,ir){return nr*Math.pow(rr,ir)}).reduce(function(nr,ir){return nr+ir})},cubicBezier=function tr(er,rr){return function(nr){var ir=cubicBezierFactor(er,rr);return multyTime(ir,nr)}},derivativeCubicBezier=function tr(er,rr){return function(nr){var ir=cubicBezierFactor(er,rr),ar=[].concat(_toConsumableArray$6(ir.map(function(sr,lr){return sr*lr}).slice(1)),[0]);return multyTime(ar,nr)}},configBezier=function tr(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];var ir=rr[0],ar=rr[1],sr=rr[2],lr=rr[3];if(rr.length===1)switch(rr[0]){case"linear":ir=0,ar=0,sr=1,lr=1;break;case"ease":ir=.25,ar=.1,sr=.25,lr=1;break;case"ease-in":ir=.42,ar=0,sr=1,lr=1;break;case"ease-out":ir=.42,ar=0,sr=.58,lr=1;break;case"ease-in-out":ir=0,ar=0,sr=.58,lr=1;break;default:{var or=rr[0].split("(");if(or[0]==="cubic-bezier"&&or[1].split(")")[0].split(",").length===4){var cr=or[1].split(")")[0].split(",").map(function(pr){return parseFloat(pr)}),ur=_slicedToArray$5(cr,4);ir=ur[0],ar=ur[1],sr=ur[2],lr=ur[3]}}}var dr=cubicBezier(ir,sr),hr=cubicBezier(ar,lr),fr=derivativeCubicBezier(ir,sr),mr=function(gr){return gr>1?1:gr<0?0:gr},br=function(gr){for(var yr=gr>1?1:gr,vr=yr,_r=0;_r<8;++_r){var xr=dr(vr)-yr,Rr=fr(vr);if(Math.abs(xr-yr)<ACCURACY||Rr<ACCURACY)return hr(vr);vr=mr(vr-xr/Rr)}return hr(vr)};return br.isStepper=!1,br},configSpring=function tr(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=er.stiff,nr=rr===void 0?100:rr,ir=er.damping,ar=ir===void 0?8:ir,sr=er.dt,lr=sr===void 0?17:sr,or=function(ur,dr,hr){var fr=-(ur-dr)*nr,mr=hr*ar,br=hr+(fr-mr)*lr/1e3,pr=hr*lr/1e3+ur;return Math.abs(pr-dr)<ACCURACY&&Math.abs(br)<ACCURACY?[dr,0]:[pr,br]};return or.isStepper=!0,or.dt=lr,or},configEasing=function tr(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];var ir=rr[0];if(typeof ir=="string")switch(ir){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(ir);case"spring":return configSpring();default:if(ir.split("(")[0]==="cubic-bezier")return configBezier(ir)}return typeof ir=="function"?ir:null};function _typeof$t(tr){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$t(tr)}function _toConsumableArray$5(tr){return _arrayWithoutHoles$5(tr)||_iterableToArray$5(tr)||_unsupportedIterableToArray$8(tr)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$5(tr){if(Array.isArray(tr))return _arrayLikeToArray$8(tr)}function ownKeys$o(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$o(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$o(Object(rr),!0).forEach(function(nr){_defineProperty$s(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$o(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$s(tr,er,rr){return er=_toPropertyKey$s(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$s(tr){var er=_toPrimitive$s(tr,"string");return _typeof$t(er)==="symbol"?er:String(er)}function _toPrimitive$s(tr,er){if(_typeof$t(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$t(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$4(tr,er){return _arrayWithHoles$4(tr)||_iterableToArrayLimit$4(tr,er)||_unsupportedIterableToArray$8(tr,er)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$8(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$8(tr,er)}}function _arrayLikeToArray$8(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$4(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$4(tr){if(Array.isArray(tr))return tr}var alpha=function tr(er,rr,nr){return er+(rr-er)*nr},needContinue=function tr(er){var rr=er.from,nr=er.to;return rr!==nr},calStepperVals=function tr(er,rr,nr){var ir=mapObject(function(ar,sr){if(needContinue(sr)){var lr=er(sr.from,sr.to,sr.velocity),or=_slicedToArray$4(lr,2),cr=or[0],ur=or[1];return _objectSpread$o(_objectSpread$o({},sr),{},{from:cr,velocity:ur})}return sr},rr);return nr<1?mapObject(function(ar,sr){return needContinue(sr)?_objectSpread$o(_objectSpread$o({},sr),{},{velocity:alpha(sr.velocity,ir[ar].velocity,nr),from:alpha(sr.from,ir[ar].from,nr)}):sr},rr):tr(er,ir,nr-1)};const configUpdate=function(tr,er,rr,nr,ir){var ar=getIntersectionKeys(tr,er),sr=ar.reduce(function(pr,gr){return _objectSpread$o(_objectSpread$o({},pr),{},_defineProperty$s({},gr,[tr[gr],er[gr]]))},{}),lr=ar.reduce(function(pr,gr){return _objectSpread$o(_objectSpread$o({},pr),{},_defineProperty$s({},gr,{from:tr[gr],velocity:0,to:er[gr]}))},{}),or=-1,cr,ur,dr=function(){return null},hr=function(){return mapObject(function(gr,yr){return yr.from},lr)},fr=function(){return!Object.values(lr).filter(needContinue).length},mr=function(gr){cr||(cr=gr);var yr=gr-cr,vr=yr/rr.dt;lr=calStepperVals(rr,lr,vr),ir(_objectSpread$o(_objectSpread$o(_objectSpread$o({},tr),er),hr())),cr=gr,fr()||(or=requestAnimationFrame(dr))},br=function(gr){ur||(ur=gr);var yr=(gr-ur)/nr,vr=mapObject(function(xr,Rr){return alpha.apply(void 0,_toConsumableArray$5(Rr).concat([rr(yr)]))},sr);if(ir(_objectSpread$o(_objectSpread$o(_objectSpread$o({},tr),er),vr)),yr<1)or=requestAnimationFrame(dr);else{var _r=mapObject(function(xr,Rr){return alpha.apply(void 0,_toConsumableArray$5(Rr).concat([rr(1)]))},sr);ir(_objectSpread$o(_objectSpread$o(_objectSpread$o({},tr),er),_r))}};return dr=rr.isStepper?mr:br,function(){return requestAnimationFrame(dr),function(){cancelAnimationFrame(or)}}};function _typeof$s(tr){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$s(tr)}var _excluded$c=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$c(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$c(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$c(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,ar;for(ar=0;ar<nr.length;ar++)ir=nr[ar],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _toConsumableArray$4(tr){return _arrayWithoutHoles$4(tr)||_iterableToArray$4(tr)||_unsupportedIterableToArray$7(tr)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$7(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$7(tr,er)}}function _iterableToArray$4(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$4(tr){if(Array.isArray(tr))return _arrayLikeToArray$7(tr)}function _arrayLikeToArray$7(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function ownKeys$n(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$n(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$n(Object(rr),!0).forEach(function(nr){_defineProperty$r(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$n(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$r(tr,er,rr){return er=_toPropertyKey$r(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _classCallCheck$i(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$r(nr.key),nr)}}function _createClass$i(tr,er,rr){return er&&_defineProperties$i(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _toPropertyKey$r(tr){var er=_toPrimitive$r(tr,"string");return _typeof$s(er)==="symbol"?er:String(er)}function _toPrimitive$r(tr,er){if(_typeof$s(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$s(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _inherits$g(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$g(tr,er)}function _setPrototypeOf$g(tr,er){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$g(tr,er)}function _createSuper(tr){var er=_isNativeReflectConstruct$g();return function(){var nr=_getPrototypeOf$g(tr),ir;if(er){var ar=_getPrototypeOf$g(this).constructor;ir=Reflect.construct(nr,arguments,ar)}else ir=nr.apply(this,arguments);return _possibleConstructorReturn$g(this,ir)}}function _possibleConstructorReturn$g(tr,er){if(er&&(_typeof$s(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(tr)}function _assertThisInitialized$g(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$g(tr){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$g(tr)}var Animate=function(tr){_inherits$g(rr,tr);var er=_createSuper(rr);function rr(nr,ir){var ar;_classCallCheck$i(this,rr),ar=er.call(this,nr,ir);var sr=ar.props,lr=sr.isActive,or=sr.attributeName,cr=sr.from,ur=sr.to,dr=sr.steps,hr=sr.children,fr=sr.duration;if(ar.handleStyleChange=ar.handleStyleChange.bind(_assertThisInitialized$g(ar)),ar.changeStyle=ar.changeStyle.bind(_assertThisInitialized$g(ar)),!lr||fr<=0)return ar.state={style:{}},typeof hr=="function"&&(ar.state={style:ur}),_possibleConstructorReturn$g(ar);if(dr&&dr.length)ar.state={style:dr[0].style};else if(cr){if(typeof hr=="function")return ar.state={style:cr},_possibleConstructorReturn$g(ar);ar.state={style:or?_defineProperty$r({},or,cr):cr}}else ar.state={style:{}};return ar}return _createClass$i(rr,[{key:"componentDidMount",value:function(){var ir=this.props,ar=ir.isActive,sr=ir.canBegin;this.mounted=!0,!(!ar||!sr)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(ir){var ar=this.props,sr=ar.isActive,lr=ar.canBegin,or=ar.attributeName,cr=ar.shouldReAnimate,ur=ar.to,dr=ar.from,hr=this.state.style;if(lr){if(!sr){var fr={style:or?_defineProperty$r({},or,ur):ur};this.state&&hr&&(or&&hr[or]!==ur||!or&&hr!==ur)&&this.setState(fr);return}if(!(deepEqual(ir.to,ur)&&ir.canBegin&&ir.isActive)){var mr=!ir.canBegin||!ir.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var br=mr||cr?dr:ir.to;if(this.state&&hr){var pr={style:or?_defineProperty$r({},or,br):br};(or&&hr[or]!==br||!or&&hr!==br)&&this.setState(pr)}this.runAnimation(_objectSpread$n(_objectSpread$n({},this.props),{},{from:br,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var ir=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),ir&&ir()}},{key:"handleStyleChange",value:function(ir){this.changeStyle(ir)}},{key:"changeStyle",value:function(ir){this.mounted&&this.setState({style:ir})}},{key:"runJSAnimation",value:function(ir){var ar=this,sr=ir.from,lr=ir.to,or=ir.duration,cr=ir.easing,ur=ir.begin,dr=ir.onAnimationEnd,hr=ir.onAnimationStart,fr=configUpdate(sr,lr,configEasing(cr),or,this.changeStyle),mr=function(){ar.stopJSAnimation=fr()};this.manager.start([hr,ur,mr,or,dr])}},{key:"runStepAnimation",value:function(ir){var ar=this,sr=ir.steps,lr=ir.begin,or=ir.onAnimationStart,cr=sr[0],ur=cr.style,dr=cr.duration,hr=dr===void 0?0:dr,fr=function(br,pr,gr){if(gr===0)return br;var yr=pr.duration,vr=pr.easing,_r=vr===void 0?"ease":vr,xr=pr.style,Rr=pr.properties,Cr=pr.onAnimationEnd,Tr=gr>0?sr[gr-1]:pr,Ir=Rr||Object.keys(xr);if(typeof _r=="function"||_r==="spring")return[].concat(_toConsumableArray$4(br),[ar.runJSAnimation.bind(ar,{from:Tr.style,to:xr,duration:yr,easing:_r}),yr]);var Lr=getTransitionVal(Ir,yr,_r),Nr=_objectSpread$n(_objectSpread$n(_objectSpread$n({},Tr.style),xr),{},{transition:Lr});return[].concat(_toConsumableArray$4(br),[Nr,yr,Cr]).filter(identity)};return this.manager.start([or].concat(_toConsumableArray$4(sr.reduce(fr,[ur,Math.max(hr,lr)])),[ir.onAnimationEnd]))}},{key:"runAnimation",value:function(ir){this.manager||(this.manager=createAnimateManager());var ar=ir.begin,sr=ir.duration,lr=ir.attributeName,or=ir.to,cr=ir.easing,ur=ir.onAnimationStart,dr=ir.onAnimationEnd,hr=ir.steps,fr=ir.children,mr=this.manager;if(this.unSubscribe=mr.subscribe(this.handleStyleChange),typeof cr=="function"||typeof fr=="function"||cr==="spring"){this.runJSAnimation(ir);return}if(hr.length>1){this.runStepAnimation(ir);return}var br=lr?_defineProperty$r({},lr,or):or,pr=getTransitionVal(Object.keys(br),sr,cr);mr.start([ur,ar,_objectSpread$n(_objectSpread$n({},br),{},{transition:pr}),sr,dr])}},{key:"render",value:function(){var ir=this.props,ar=ir.children;ir.begin;var sr=ir.duration;ir.attributeName,ir.easing;var lr=ir.isActive;ir.steps,ir.from,ir.to,ir.canBegin,ir.onAnimationEnd,ir.shouldReAnimate,ir.onAnimationReStart;var or=_objectWithoutProperties$c(ir,_excluded$c),cr=reactExports.Children.count(ar),ur=this.state.style;if(typeof ar=="function")return ar(ur);if(!lr||cr===0||sr<=0)return ar;var dr=function(fr){var mr=fr.props,br=mr.style,pr=br===void 0?{}:br,gr=mr.className,yr=reactExports.cloneElement(fr,_objectSpread$n(_objectSpread$n({},or),{},{style:_objectSpread$n(_objectSpread$n({},pr),ur),className:gr}));return yr};return cr===1?dr(reactExports.Children.only(ar)):React.createElement("div",null,reactExports.Children.map(ar,function(hr){return dr(hr)}))}}]),rr}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function tr(){},onAnimationStart:function tr(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$r(tr){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$r(tr)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$m.apply(this,arguments)}function _slicedToArray$3(tr,er){return _arrayWithHoles$3(tr)||_iterableToArrayLimit$3(tr,er)||_unsupportedIterableToArray$6(tr,er)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$6(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$6(tr,er)}}function _arrayLikeToArray$6(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$3(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$3(tr){if(Array.isArray(tr))return tr}function ownKeys$m(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$m(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$m(Object(rr),!0).forEach(function(nr){_defineProperty$q(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$m(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$q(tr,er,rr){return er=_toPropertyKey$q(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$q(tr){var er=_toPrimitive$q(tr,"string");return _typeof$r(er)=="symbol"?er:er+""}function _toPrimitive$q(tr,er){if(_typeof$r(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$r(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getRectanglePath=function tr(er,rr,nr,ir,ar){var sr=Math.min(Math.abs(nr)/2,Math.abs(ir)/2),lr=ir>=0?1:-1,or=nr>=0?1:-1,cr=ir>=0&&nr>=0||ir<0&&nr<0?1:0,ur;if(sr>0&&ar instanceof Array){for(var dr=[0,0,0,0],hr=0,fr=4;hr<fr;hr++)dr[hr]=ar[hr]>sr?sr:ar[hr];ur="M".concat(er,",").concat(rr+lr*dr[0]),dr[0]>0&&(ur+="A ".concat(dr[0],",").concat(dr[0],",0,0,").concat(cr,",").concat(er+or*dr[0],",").concat(rr)),ur+="L ".concat(er+nr-or*dr[1],",").concat(rr),dr[1]>0&&(ur+="A ".concat(dr[1],",").concat(dr[1],",0,0,").concat(cr,`,
        `).concat(er+nr,",").concat(rr+lr*dr[1])),ur+="L ".concat(er+nr,",").concat(rr+ir-lr*dr[2]),dr[2]>0&&(ur+="A ".concat(dr[2],",").concat(dr[2],",0,0,").concat(cr,`,
        `).concat(er+nr-or*dr[2],",").concat(rr+ir)),ur+="L ".concat(er+or*dr[3],",").concat(rr+ir),dr[3]>0&&(ur+="A ".concat(dr[3],",").concat(dr[3],",0,0,").concat(cr,`,
        `).concat(er,",").concat(rr+ir-lr*dr[3])),ur+="Z"}else if(sr>0&&ar===+ar&&ar>0){var mr=Math.min(sr,ar);ur="M ".concat(er,",").concat(rr+lr*mr,`
            A `).concat(mr,",").concat(mr,",0,0,").concat(cr,",").concat(er+or*mr,",").concat(rr,`
            L `).concat(er+nr-or*mr,",").concat(rr,`
            A `).concat(mr,",").concat(mr,",0,0,").concat(cr,",").concat(er+nr,",").concat(rr+lr*mr,`
            L `).concat(er+nr,",").concat(rr+ir-lr*mr,`
            A `).concat(mr,",").concat(mr,",0,0,").concat(cr,",").concat(er+nr-or*mr,",").concat(rr+ir,`
            L `).concat(er+or*mr,",").concat(rr+ir,`
            A `).concat(mr,",").concat(mr,",0,0,").concat(cr,",").concat(er,",").concat(rr+ir-lr*mr," Z")}else ur="M ".concat(er,",").concat(rr," h ").concat(nr," v ").concat(ir," h ").concat(-nr," Z");return ur},isInRectangle=function tr(er,rr){if(!er||!rr)return!1;var nr=er.x,ir=er.y,ar=rr.x,sr=rr.y,lr=rr.width,or=rr.height;if(Math.abs(lr)>0&&Math.abs(or)>0){var cr=Math.min(ar,ar+lr),ur=Math.max(ar,ar+lr),dr=Math.min(sr,sr+or),hr=Math.max(sr,sr+or);return nr>=cr&&nr<=ur&&ir>=dr&&ir<=hr}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function tr(er){var rr=_objectSpread$m(_objectSpread$m({},defaultProps$2),er),nr=reactExports.useRef(),ir=reactExports.useState(-1),ar=_slicedToArray$3(ir,2),sr=ar[0],lr=ar[1];reactExports.useEffect(function(){if(nr.current&&nr.current.getTotalLength)try{var _r=nr.current.getTotalLength();_r&&lr(_r)}catch{}},[]);var or=rr.x,cr=rr.y,ur=rr.width,dr=rr.height,hr=rr.radius,fr=rr.className,mr=rr.animationEasing,br=rr.animationDuration,pr=rr.animationBegin,gr=rr.isAnimationActive,yr=rr.isUpdateAnimationActive;if(or!==+or||cr!==+cr||ur!==+ur||dr!==+dr||ur===0||dr===0)return null;var vr=clsx("recharts-rectangle",fr);return yr?React.createElement(Animate,{canBegin:sr>0,from:{width:ur,height:dr,x:or,y:cr},to:{width:ur,height:dr,x:or,y:cr},duration:br,animationEasing:mr,isActive:yr},function(_r){var xr=_r.width,Rr=_r.height,Cr=_r.x,Tr=_r.y;return React.createElement(Animate,{canBegin:sr>0,from:"0px ".concat(sr===-1?1:sr,"px"),to:"".concat(sr,"px 0px"),attributeName:"strokeDasharray",begin:pr,duration:br,isActive:gr,easing:mr},React.createElement("path",_extends$m({},filterProps(rr,!0),{className:vr,d:getRectanglePath(Cr,Tr,xr,Rr,hr),ref:nr})))}):React.createElement("path",_extends$m({},filterProps(rr,!0),{className:vr,d:getRectanglePath(or,cr,ur,dr,hr)}))},_excluded$b=["points","className","baseLinePoints","connectNulls"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$l.apply(this,arguments)}function _objectWithoutProperties$b(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$b(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$b(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _toConsumableArray$3(tr){return _arrayWithoutHoles$3(tr)||_iterableToArray$3(tr)||_unsupportedIterableToArray$5(tr)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$5(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$5(tr,er)}}function _iterableToArray$3(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$3(tr){if(Array.isArray(tr))return _arrayLikeToArray$5(tr)}function _arrayLikeToArray$5(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var isValidatePoint=function tr(er){return er&&er.x===+er.x&&er.y===+er.y},getParsedPoints=function tr(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rr=[[]];return er.forEach(function(nr){isValidatePoint(nr)?rr[rr.length-1].push(nr):rr[rr.length-1].length>0&&rr.push([])}),isValidatePoint(er[0])&&rr[rr.length-1].push(er[0]),rr[rr.length-1].length<=0&&(rr=rr.slice(0,-1)),rr},getSinglePolygonPath=function tr(er,rr){var nr=getParsedPoints(er);rr&&(nr=[nr.reduce(function(ar,sr){return[].concat(_toConsumableArray$3(ar),_toConsumableArray$3(sr))},[])]);var ir=nr.map(function(ar){return ar.reduce(function(sr,lr,or){return"".concat(sr).concat(or===0?"M":"L").concat(lr.x,",").concat(lr.y)},"")}).join("");return nr.length===1?"".concat(ir,"Z"):ir},getRanglePath=function tr(er,rr,nr){var ir=getSinglePolygonPath(er,nr);return"".concat(ir.slice(-1)==="Z"?ir.slice(0,-1):ir,"L").concat(getSinglePolygonPath(rr.reverse(),nr).slice(1))},Polygon=function tr(er){var rr=er.points,nr=er.className,ir=er.baseLinePoints,ar=er.connectNulls,sr=_objectWithoutProperties$b(er,_excluded$b);if(!rr||!rr.length)return null;var lr=clsx("recharts-polygon",nr);if(ir&&ir.length){var or=sr.stroke&&sr.stroke!=="none",cr=getRanglePath(rr,ir,ar);return React.createElement("g",{className:lr},React.createElement("path",_extends$l({},filterProps(sr,!0),{fill:cr.slice(-1)==="Z"?sr.fill:"none",stroke:"none",d:cr})),or?React.createElement("path",_extends$l({},filterProps(sr,!0),{fill:"none",d:getSinglePolygonPath(rr,ar)})):null,or?React.createElement("path",_extends$l({},filterProps(sr,!0),{fill:"none",d:getSinglePolygonPath(ir,ar)})):null)}var ur=getSinglePolygonPath(rr,ar);return React.createElement("path",_extends$l({},filterProps(sr,!0),{fill:ur.slice(-1)==="Z"?sr.fill:"none",className:lr,d:ur}))};function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$k.apply(this,arguments)}var Dot=function tr(er){var rr=er.cx,nr=er.cy,ir=er.r,ar=er.className,sr=clsx("recharts-dot",ar);return rr===+rr&&nr===+nr&&ir===+ir?reactExports.createElement("circle",_extends$k({},filterProps(er,!1),adaptEventHandlers(er),{className:sr,cx:rr,cy:nr,r:ir})):null};function _typeof$q(tr){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$q(tr)}var _excluded$a=["x","y","top","left","width","height","className"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$j.apply(this,arguments)}function ownKeys$l(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$l(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$l(Object(rr),!0).forEach(function(nr){_defineProperty$p(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$l(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$p(tr,er,rr){return er=_toPropertyKey$p(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$p(tr){var er=_toPrimitive$p(tr,"string");return _typeof$q(er)=="symbol"?er:er+""}function _toPrimitive$p(tr,er){if(_typeof$q(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$q(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$a(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$a(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$a(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}var getPath=function tr(er,rr,nr,ir,ar,sr){return"M".concat(er,",").concat(ar,"v").concat(ir,"M").concat(sr,",").concat(rr,"h").concat(nr)},Cross=function tr(er){var rr=er.x,nr=rr===void 0?0:rr,ir=er.y,ar=ir===void 0?0:ir,sr=er.top,lr=sr===void 0?0:sr,or=er.left,cr=or===void 0?0:or,ur=er.width,dr=ur===void 0?0:ur,hr=er.height,fr=hr===void 0?0:hr,mr=er.className,br=_objectWithoutProperties$a(er,_excluded$a),pr=_objectSpread$l({x:nr,y:ar,top:lr,left:cr,width:dr,height:fr},br);return!isNumber(nr)||!isNumber(ar)||!isNumber(dr)||!isNumber(fr)||!isNumber(lr)||!isNumber(cr)?null:React.createElement("path",_extends$j({},filterProps(pr,!0),{className:clsx("recharts-cross",mr),d:getPath(nr,ar,dr,fr,lr,cr)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(tr,er){return tr&&tr.length?baseExtremum$1(tr,baseIteratee$6(er),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(tr,er){return tr&&tr.length?baseExtremum(tr,baseIteratee$5(er),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$9=["cx","cy","angle","ticks","axisLine"],_excluded2$5=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$p(tr){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$p(tr)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$i.apply(this,arguments)}function ownKeys$k(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$k(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$k(Object(rr),!0).forEach(function(nr){_defineProperty$o(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$k(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _objectWithoutProperties$9(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$9(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$9(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _classCallCheck$h(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$o(nr.key),nr)}}function _createClass$h(tr,er,rr){return er&&_defineProperties$h(tr.prototype,er),rr&&_defineProperties$h(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$f(tr,er,rr){return er=_getPrototypeOf$f(er),_possibleConstructorReturn$f(tr,_isNativeReflectConstruct$f()?Reflect.construct(er,rr||[],_getPrototypeOf$f(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$f(tr,er){if(er&&(_typeof$p(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(tr)}function _assertThisInitialized$f(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$f(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!tr})()}function _getPrototypeOf$f(tr){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$f(tr)}function _inherits$f(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$f(tr,er)}function _setPrototypeOf$f(tr,er){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$f(tr,er)}function _defineProperty$o(tr,er,rr){return er=_toPropertyKey$o(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$o(tr){var er=_toPrimitive$o(tr,"string");return _typeof$p(er)=="symbol"?er:er+""}function _toPrimitive$o(tr,er){if(_typeof$p(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$p(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var PolarRadiusAxis=function(tr){function er(){return _classCallCheck$h(this,er),_callSuper$f(this,er,arguments)}return _inherits$f(er,tr),_createClass$h(er,[{key:"getTickValueCoord",value:function(nr){var ir=nr.coordinate,ar=this.props,sr=ar.angle,lr=ar.cx,or=ar.cy;return polarToCartesian(lr,or,ir,sr)}},{key:"getTickTextAnchor",value:function(){var nr=this.props.orientation,ir;switch(nr){case"left":ir="end";break;case"right":ir="start";break;default:ir="middle";break}return ir}},{key:"getViewBox",value:function(){var nr=this.props,ir=nr.cx,ar=nr.cy,sr=nr.angle,lr=nr.ticks,or=maxBy$1(lr,function(ur){return ur.coordinate||0}),cr=minBy$1(lr,function(ur){return ur.coordinate||0});return{cx:ir,cy:ar,startAngle:sr,endAngle:sr,innerRadius:cr.coordinate||0,outerRadius:or.coordinate||0}}},{key:"renderAxisLine",value:function(){var nr=this.props,ir=nr.cx,ar=nr.cy,sr=nr.angle,lr=nr.ticks,or=nr.axisLine,cr=_objectWithoutProperties$9(nr,_excluded$9),ur=lr.reduce(function(mr,br){return[Math.min(mr[0],br.coordinate),Math.max(mr[1],br.coordinate)]},[1/0,-1/0]),dr=polarToCartesian(ir,ar,ur[0],sr),hr=polarToCartesian(ir,ar,ur[1],sr),fr=_objectSpread$k(_objectSpread$k(_objectSpread$k({},filterProps(cr,!1)),{},{fill:"none"},filterProps(or,!1)),{},{x1:dr.x,y1:dr.y,x2:hr.x,y2:hr.y});return React.createElement("line",_extends$i({className:"recharts-polar-radius-axis-line"},fr))}},{key:"renderTicks",value:function(){var nr=this,ir=this.props,ar=ir.ticks,sr=ir.tick,lr=ir.angle,or=ir.tickFormatter,cr=ir.stroke,ur=_objectWithoutProperties$9(ir,_excluded2$5),dr=this.getTickTextAnchor(),hr=filterProps(ur,!1),fr=filterProps(sr,!1),mr=ar.map(function(br,pr){var gr=nr.getTickValueCoord(br),yr=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({textAnchor:dr,transform:"rotate(".concat(90-lr,", ").concat(gr.x,", ").concat(gr.y,")")},hr),{},{stroke:"none",fill:cr},fr),{},{index:pr},gr),{},{payload:br});return React.createElement(Layer,_extends$i({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(sr)),key:"tick-".concat(br.coordinate)},adaptEventsOfChild(nr.props,br,pr)),er.renderTickItem(sr,yr,or?or(br.value,pr):br.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},mr)}},{key:"render",value:function(){var nr=this.props,ir=nr.ticks,ar=nr.axisLine,sr=nr.tick;return!ir||!ir.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},ar&&this.renderAxisLine(),sr&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(nr,ir,ar){var sr;return React.isValidElement(nr)?sr=React.cloneElement(nr,ir):isFunction$3(nr)?sr=nr(ir):sr=React.createElement(Text,_extends$i({},ir,{className:"recharts-polar-radius-axis-tick-value"}),ar),sr}}])}(reactExports.PureComponent);_defineProperty$o(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$o(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$o(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$o(tr){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$o(tr)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$h.apply(this,arguments)}function ownKeys$j(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$j(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$j(Object(rr),!0).forEach(function(nr){_defineProperty$n(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$j(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$g(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$n(nr.key),nr)}}function _createClass$g(tr,er,rr){return er&&_defineProperties$g(tr.prototype,er),rr&&_defineProperties$g(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$e(tr,er,rr){return er=_getPrototypeOf$e(er),_possibleConstructorReturn$e(tr,_isNativeReflectConstruct$e()?Reflect.construct(er,rr||[],_getPrototypeOf$e(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$e(tr,er){if(er&&(_typeof$o(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(tr)}function _assertThisInitialized$e(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$e(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!tr})()}function _getPrototypeOf$e(tr){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$e(tr)}function _inherits$e(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$e(tr,er)}function _setPrototypeOf$e(tr,er){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$e(tr,er)}function _defineProperty$n(tr,er,rr){return er=_toPropertyKey$n(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$n(tr){var er=_toPrimitive$n(tr,"string");return _typeof$o(er)=="symbol"?er:er+""}function _toPrimitive$n(tr,er){if(_typeof$o(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$o(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(tr){function er(){return _classCallCheck$g(this,er),_callSuper$e(this,er,arguments)}return _inherits$e(er,tr),_createClass$g(er,[{key:"getTickLineCoord",value:function(nr){var ir=this.props,ar=ir.cx,sr=ir.cy,lr=ir.radius,or=ir.orientation,cr=ir.tickSize,ur=cr||8,dr=polarToCartesian(ar,sr,lr,nr.coordinate),hr=polarToCartesian(ar,sr,lr+(or==="inner"?-1:1)*ur,nr.coordinate);return{x1:dr.x,y1:dr.y,x2:hr.x,y2:hr.y}}},{key:"getTickTextAnchor",value:function(nr){var ir=this.props.orientation,ar=Math.cos(-nr.coordinate*RADIAN),sr;return ar>eps?sr=ir==="outer"?"start":"end":ar<-eps?sr=ir==="outer"?"end":"start":sr="middle",sr}},{key:"renderAxisLine",value:function(){var nr=this.props,ir=nr.cx,ar=nr.cy,sr=nr.radius,lr=nr.axisLine,or=nr.axisLineType,cr=_objectSpread$j(_objectSpread$j({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(lr,!1));if(or==="circle")return React.createElement(Dot,_extends$h({className:"recharts-polar-angle-axis-line"},cr,{cx:ir,cy:ar,r:sr}));var ur=this.props.ticks,dr=ur.map(function(hr){return polarToCartesian(ir,ar,sr,hr.coordinate)});return React.createElement(Polygon,_extends$h({className:"recharts-polar-angle-axis-line"},cr,{points:dr}))}},{key:"renderTicks",value:function(){var nr=this,ir=this.props,ar=ir.ticks,sr=ir.tick,lr=ir.tickLine,or=ir.tickFormatter,cr=ir.stroke,ur=filterProps(this.props,!1),dr=filterProps(sr,!1),hr=_objectSpread$j(_objectSpread$j({},ur),{},{fill:"none"},filterProps(lr,!1)),fr=ar.map(function(mr,br){var pr=nr.getTickLineCoord(mr),gr=nr.getTickTextAnchor(mr),yr=_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:gr},ur),{},{stroke:"none",fill:cr},dr),{},{index:br,payload:mr,x:pr.x2,y:pr.y2});return React.createElement(Layer,_extends$h({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(sr)),key:"tick-".concat(mr.coordinate)},adaptEventsOfChild(nr.props,mr,br)),lr&&React.createElement("line",_extends$h({className:"recharts-polar-angle-axis-tick-line"},hr,pr)),sr&&er.renderTickItem(sr,yr,or?or(mr.value,br):mr.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},fr)}},{key:"render",value:function(){var nr=this.props,ir=nr.ticks,ar=nr.radius,sr=nr.axisLine;return ar<=0||!ir||!ir.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},sr&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(nr,ir,ar){var sr;return React.isValidElement(nr)?sr=React.cloneElement(nr,ir):isFunction$3(nr)?sr=nr(ir):sr=React.createElement(Text,_extends$h({},ir,{className:"recharts-polar-angle-axis-tick-value"}),ar),sr}}])}(reactExports.PureComponent);_defineProperty$n(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$n(PolarAngleAxis,"axisType","angleAxis");_defineProperty$n(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(tr){if(!isObjectLike$1(tr)||baseGetTag$1(tr)!=objectTag)return!1;var er=getPrototype(tr);if(er===null)return!0;var rr=hasOwnProperty.call(er,"constructor")&&er.constructor;return typeof rr=="function"&&rr instanceof rr&&funcToString.call(rr)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(tr){return tr===!0||tr===!1||isObjectLike(tr)&&baseGetTag(tr)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$n(tr){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$n(tr)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$g.apply(this,arguments)}function _slicedToArray$2(tr,er){return _arrayWithHoles$2(tr)||_iterableToArrayLimit$2(tr,er)||_unsupportedIterableToArray$4(tr,er)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$4(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$4(tr,er)}}function _arrayLikeToArray$4(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$2(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$2(tr){if(Array.isArray(tr))return tr}function ownKeys$i(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$i(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$i(Object(rr),!0).forEach(function(nr){_defineProperty$m(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$i(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$m(tr,er,rr){return er=_toPropertyKey$m(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$m(tr){var er=_toPrimitive$m(tr,"string");return _typeof$n(er)=="symbol"?er:er+""}function _toPrimitive$m(tr,er){if(_typeof$n(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$n(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getTrapezoidPath=function tr(er,rr,nr,ir,ar){var sr=nr-ir,lr;return lr="M ".concat(er,",").concat(rr),lr+="L ".concat(er+nr,",").concat(rr),lr+="L ".concat(er+nr-sr/2,",").concat(rr+ar),lr+="L ".concat(er+nr-sr/2-ir,",").concat(rr+ar),lr+="L ".concat(er,",").concat(rr," Z"),lr},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function tr(er){var rr=_objectSpread$i(_objectSpread$i({},defaultProps$1),er),nr=reactExports.useRef(),ir=reactExports.useState(-1),ar=_slicedToArray$2(ir,2),sr=ar[0],lr=ar[1];reactExports.useEffect(function(){if(nr.current&&nr.current.getTotalLength)try{var vr=nr.current.getTotalLength();vr&&lr(vr)}catch{}},[]);var or=rr.x,cr=rr.y,ur=rr.upperWidth,dr=rr.lowerWidth,hr=rr.height,fr=rr.className,mr=rr.animationEasing,br=rr.animationDuration,pr=rr.animationBegin,gr=rr.isUpdateAnimationActive;if(or!==+or||cr!==+cr||ur!==+ur||dr!==+dr||hr!==+hr||ur===0&&dr===0||hr===0)return null;var yr=clsx("recharts-trapezoid",fr);return gr?React.createElement(Animate,{canBegin:sr>0,from:{upperWidth:0,lowerWidth:0,height:hr,x:or,y:cr},to:{upperWidth:ur,lowerWidth:dr,height:hr,x:or,y:cr},duration:br,animationEasing:mr,isActive:gr},function(vr){var _r=vr.upperWidth,xr=vr.lowerWidth,Rr=vr.height,Cr=vr.x,Tr=vr.y;return React.createElement(Animate,{canBegin:sr>0,from:"0px ".concat(sr===-1?1:sr,"px"),to:"".concat(sr,"px 0px"),attributeName:"strokeDasharray",begin:pr,duration:br,easing:mr},React.createElement("path",_extends$g({},filterProps(rr,!0),{className:yr,d:getTrapezoidPath(Cr,Tr,_r,xr,Rr),ref:nr})))}):React.createElement("g",null,React.createElement("path",_extends$g({},filterProps(rr,!0),{className:yr,d:getTrapezoidPath(or,cr,ur,dr,hr)})))},_excluded$8=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$m(tr){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$m(tr)}function _objectWithoutProperties$8(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$8(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$8(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function ownKeys$h(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$h(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$h(Object(rr),!0).forEach(function(nr){_defineProperty$l(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$h(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$l(tr,er,rr){return er=_toPropertyKey$l(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$l(tr){var er=_toPrimitive$l(tr,"string");return _typeof$m(er)=="symbol"?er:er+""}function _toPrimitive$l(tr,er){if(_typeof$m(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$m(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function defaultPropTransformer(tr,er){return _objectSpread$h(_objectSpread$h({},er),tr)}function isSymbolsProps(tr,er){return tr==="symbols"}function ShapeSelector(tr){var er=tr.shapeType,rr=tr.elementProps;switch(er){case"rectangle":return React.createElement(Rectangle,rr);case"trapezoid":return React.createElement(Trapezoid,rr);case"sector":return React.createElement(Sector,rr);case"symbols":if(isSymbolsProps(er))return React.createElement(Symbols,rr);break;default:return null}}function getPropsFromShapeOption(tr){return reactExports.isValidElement(tr)?tr.props:tr}function Shape(tr){var er=tr.option,rr=tr.shapeType,nr=tr.propTransformer,ir=nr===void 0?defaultPropTransformer:nr,ar=tr.activeClassName,sr=ar===void 0?"recharts-active-shape":ar,lr=tr.isActive,or=_objectWithoutProperties$8(tr,_excluded$8),cr;if(reactExports.isValidElement(er))cr=reactExports.cloneElement(er,_objectSpread$h(_objectSpread$h({},or),getPropsFromShapeOption(er)));else if(isFunction$3(er))cr=er(or);else if(isPlainObject$1(er)&&!isBoolean$1(er)){var ur=ir(er,or);cr=React.createElement(ShapeSelector,{shapeType:rr,elementProps:ur})}else{var dr=or;cr=React.createElement(ShapeSelector,{shapeType:rr,elementProps:dr})}return lr?React.createElement(Layer,{className:sr},cr):cr}function isFunnel(tr,er){return er!=null&&"trapezoids"in tr.props}function isPie(tr,er){return er!=null&&"sectors"in tr.props}function isScatter(tr,er){return er!=null&&"points"in tr.props}function compareFunnel(tr,er){var rr,nr,ir=tr.x===(er==null||(rr=er.labelViewBox)===null||rr===void 0?void 0:rr.x)||tr.x===er.x,ar=tr.y===(er==null||(nr=er.labelViewBox)===null||nr===void 0?void 0:nr.y)||tr.y===er.y;return ir&&ar}function comparePie(tr,er){var rr=tr.endAngle===er.endAngle,nr=tr.startAngle===er.startAngle;return rr&&nr}function compareScatter(tr,er){var rr=tr.x===er.x,nr=tr.y===er.y,ir=tr.z===er.z;return rr&&nr&&ir}function getComparisonFn(tr,er){var rr;return isFunnel(tr,er)?rr=compareFunnel:isPie(tr,er)?rr=comparePie:isScatter(tr,er)&&(rr=compareScatter),rr}function getShapeDataKey(tr,er){var rr;return isFunnel(tr,er)?rr="trapezoids":isPie(tr,er)?rr="sectors":isScatter(tr,er)&&(rr="points"),rr}function getActiveShapeTooltipPayload(tr,er){if(isFunnel(tr,er)){var rr;return(rr=er.tooltipPayload)===null||rr===void 0||(rr=rr[0])===null||rr===void 0||(rr=rr.payload)===null||rr===void 0?void 0:rr.payload}if(isPie(tr,er)){var nr;return(nr=er.tooltipPayload)===null||nr===void 0||(nr=nr[0])===null||nr===void 0||(nr=nr.payload)===null||nr===void 0?void 0:nr.payload}return isScatter(tr,er)?er.payload:{}}function getActiveShapeIndexForTooltip(tr){var er=tr.activeTooltipItem,rr=tr.graphicalItem,nr=tr.itemData,ir=getShapeDataKey(rr,er),ar=getActiveShapeTooltipPayload(rr,er),sr=nr.filter(function(or,cr){var ur=isEqual$1(ar,or),dr=rr.props[ir].filter(function(mr){var br=getComparisonFn(rr,er);return br(mr,er)}),hr=rr.props[ir].indexOf(dr[dr.length-1]),fr=cr===hr;return ur&&fr}),lr=nr.indexOf(sr[sr.length-1]);return lr}var _Pie;function _typeof$l(tr){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$l(tr)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$f.apply(this,arguments)}function ownKeys$g(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$g(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$g(Object(rr),!0).forEach(function(nr){_defineProperty$k(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$g(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$f(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$k(nr.key),nr)}}function _createClass$f(tr,er,rr){return er&&_defineProperties$f(tr.prototype,er),rr&&_defineProperties$f(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$d(tr,er,rr){return er=_getPrototypeOf$d(er),_possibleConstructorReturn$d(tr,_isNativeReflectConstruct$d()?Reflect.construct(er,rr||[],_getPrototypeOf$d(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$d(tr,er){if(er&&(_typeof$l(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(tr)}function _assertThisInitialized$d(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$d(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!tr})()}function _getPrototypeOf$d(tr){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$d(tr)}function _inherits$d(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$d(tr,er)}function _setPrototypeOf$d(tr,er){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$d(tr,er)}function _defineProperty$k(tr,er,rr){return er=_toPropertyKey$k(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$k(tr){var er=_toPrimitive$k(tr,"string");return _typeof$l(er)=="symbol"?er:er+""}function _toPrimitive$k(tr,er){if(_typeof$l(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$l(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var Pie=function(tr){function er(rr){var nr;return _classCallCheck$f(this,er),nr=_callSuper$d(this,er,[rr]),_defineProperty$k(nr,"pieRef",null),_defineProperty$k(nr,"sectorRefs",[]),_defineProperty$k(nr,"id",uniqueId("recharts-pie-")),_defineProperty$k(nr,"handleAnimationEnd",function(){var ir=nr.props.onAnimationEnd;nr.setState({isAnimationFinished:!0}),isFunction$3(ir)&&ir()}),_defineProperty$k(nr,"handleAnimationStart",function(){var ir=nr.props.onAnimationStart;nr.setState({isAnimationFinished:!1}),isFunction$3(ir)&&ir()}),nr.state={isAnimationFinished:!rr.isAnimationActive,prevIsAnimationActive:rr.isAnimationActive,prevAnimationId:rr.animationId,sectorToFocus:0},nr}return _inherits$d(er,tr),_createClass$f(er,[{key:"isActiveIndex",value:function(nr){var ir=this.props.activeIndex;return Array.isArray(ir)?ir.indexOf(nr)!==-1:nr===ir}},{key:"hasActiveIndex",value:function(){var nr=this.props.activeIndex;return Array.isArray(nr)?nr.length!==0:nr||nr===0}},{key:"renderLabels",value:function(nr){var ir=this.props.isAnimationActive;if(ir&&!this.state.isAnimationFinished)return null;var ar=this.props,sr=ar.label,lr=ar.labelLine,or=ar.dataKey,cr=ar.valueKey,ur=filterProps(this.props,!1),dr=filterProps(sr,!1),hr=filterProps(lr,!1),fr=sr&&sr.offsetRadius||20,mr=nr.map(function(br,pr){var gr=(br.startAngle+br.endAngle)/2,yr=polarToCartesian(br.cx,br.cy,br.outerRadius+fr,gr),vr=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({},ur),br),{},{stroke:"none"},dr),{},{index:pr,textAnchor:er.getTextAnchor(yr.x,br.cx)},yr),_r=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({},ur),br),{},{fill:"none",stroke:br.fill},hr),{},{index:pr,points:[polarToCartesian(br.cx,br.cy,br.outerRadius,gr),yr]}),xr=or;return isNil$1(or)&&isNil$1(cr)?xr="value":isNil$1(or)&&(xr=cr),React.createElement(Layer,{key:"label-".concat(br.startAngle,"-").concat(br.endAngle,"-").concat(br.midAngle,"-").concat(pr)},lr&&er.renderLabelLineItem(lr,_r,"line"),er.renderLabelItem(sr,vr,getValueByDataKey(br,xr)))});return React.createElement(Layer,{className:"recharts-pie-labels"},mr)}},{key:"renderSectorsStatically",value:function(nr){var ir=this,ar=this.props,sr=ar.activeShape,lr=ar.blendStroke,or=ar.inactiveShape;return nr.map(function(cr,ur){if((cr==null?void 0:cr.startAngle)===0&&(cr==null?void 0:cr.endAngle)===0&&nr.length!==1)return null;var dr=ir.isActiveIndex(ur),hr=or&&ir.hasActiveIndex()?or:null,fr=dr?sr:hr,mr=_objectSpread$g(_objectSpread$g({},cr),{},{stroke:lr?cr.fill:cr.stroke,tabIndex:-1});return React.createElement(Layer,_extends$f({ref:function(pr){pr&&!ir.sectorRefs.includes(pr)&&ir.sectorRefs.push(pr)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(ir.props,cr,ur),{key:"sector-".concat(cr==null?void 0:cr.startAngle,"-").concat(cr==null?void 0:cr.endAngle,"-").concat(cr.midAngle,"-").concat(ur)}),React.createElement(Shape,_extends$f({option:fr,isActive:dr,shapeType:"sector"},mr)))})}},{key:"renderSectorsWithAnimation",value:function(){var nr=this,ir=this.props,ar=ir.sectors,sr=ir.isAnimationActive,lr=ir.animationBegin,or=ir.animationDuration,cr=ir.animationEasing,ur=ir.animationId,dr=this.state,hr=dr.prevSectors,fr=dr.prevIsAnimationActive;return React.createElement(Animate,{begin:lr,duration:or,isActive:sr,easing:cr,from:{t:0},to:{t:1},key:"pie-".concat(ur,"-").concat(fr),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(mr){var br=mr.t,pr=[],gr=ar&&ar[0],yr=gr.startAngle;return ar.forEach(function(vr,_r){var xr=hr&&hr[_r],Rr=_r>0?get$2(vr,"paddingAngle",0):0;if(xr){var Cr=interpolateNumber$2(xr.endAngle-xr.startAngle,vr.endAngle-vr.startAngle),Tr=_objectSpread$g(_objectSpread$g({},vr),{},{startAngle:yr+Rr,endAngle:yr+Cr(br)+Rr});pr.push(Tr),yr=Tr.endAngle}else{var Ir=vr.endAngle,Lr=vr.startAngle,Nr=interpolateNumber$2(0,Ir-Lr),Or=Nr(br),Pr=_objectSpread$g(_objectSpread$g({},vr),{},{startAngle:yr+Rr,endAngle:yr+Or+Rr});pr.push(Pr),yr=Pr.endAngle}}),React.createElement(Layer,null,nr.renderSectorsStatically(pr))})}},{key:"attachKeyboardHandlers",value:function(nr){var ir=this;nr.onkeydown=function(ar){if(!ar.altKey)switch(ar.key){case"ArrowLeft":{var sr=++ir.state.sectorToFocus%ir.sectorRefs.length;ir.sectorRefs[sr].focus(),ir.setState({sectorToFocus:sr});break}case"ArrowRight":{var lr=--ir.state.sectorToFocus<0?ir.sectorRefs.length-1:ir.state.sectorToFocus%ir.sectorRefs.length;ir.sectorRefs[lr].focus(),ir.setState({sectorToFocus:lr});break}case"Escape":{ir.sectorRefs[ir.state.sectorToFocus].blur(),ir.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var nr=this.props,ir=nr.sectors,ar=nr.isAnimationActive,sr=this.state.prevSectors;return ar&&ir&&ir.length&&(!sr||!isEqual$1(sr,ir))?this.renderSectorsWithAnimation():this.renderSectorsStatically(ir)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var nr=this,ir=this.props,ar=ir.hide,sr=ir.sectors,lr=ir.className,or=ir.label,cr=ir.cx,ur=ir.cy,dr=ir.innerRadius,hr=ir.outerRadius,fr=ir.isAnimationActive,mr=this.state.isAnimationFinished;if(ar||!sr||!sr.length||!isNumber(cr)||!isNumber(ur)||!isNumber(dr)||!isNumber(hr))return null;var br=clsx("recharts-pie",lr);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:br,ref:function(gr){nr.pieRef=gr}},this.renderSectors(),or&&this.renderLabels(sr),Label.renderCallByParent(this.props,null,!1),(!fr||mr)&&LabelList.renderCallByParent(this.props,sr,!1))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return ir.prevIsAnimationActive!==nr.isAnimationActive?{prevIsAnimationActive:nr.isAnimationActive,prevAnimationId:nr.animationId,curSectors:nr.sectors,prevSectors:[],isAnimationFinished:!0}:nr.isAnimationActive&&nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curSectors:nr.sectors,prevSectors:ir.curSectors,isAnimationFinished:!0}:nr.sectors!==ir.curSectors?{curSectors:nr.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(nr,ir){return nr>ir?"start":nr<ir?"end":"middle"}},{key:"renderLabelLineItem",value:function(nr,ir,ar){if(React.isValidElement(nr))return React.cloneElement(nr,ir);if(isFunction$3(nr))return nr(ir);var sr=clsx("recharts-pie-label-line",typeof nr!="boolean"?nr.className:"");return React.createElement(Curve,_extends$f({},ir,{key:ar,type:"linear",className:sr}))}},{key:"renderLabelItem",value:function(nr,ir,ar){if(React.isValidElement(nr))return React.cloneElement(nr,ir);var sr=ar;if(isFunction$3(nr)&&(sr=nr(ir),React.isValidElement(sr)))return sr;var lr=clsx("recharts-pie-label-text",typeof nr!="boolean"&&!isFunction$3(nr)?nr.className:"");return React.createElement(Text,_extends$f({},ir,{alignmentBaseline:"middle",className:lr}),sr)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$k(Pie,"displayName","Pie");_defineProperty$k(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$k(Pie,"parseDeltaAngle",function(tr,er){var rr=mathSign(er-tr),nr=Math.min(Math.abs(er-tr),360);return rr*nr});_defineProperty$k(Pie,"getRealPieData",function(tr){var er=tr.data,rr=tr.children,nr=filterProps(tr,!1),ir=findAllByType(rr,Cell);return er&&er.length?er.map(function(ar,sr){return _objectSpread$g(_objectSpread$g(_objectSpread$g({payload:ar},nr),ar),ir&&ir[sr]&&ir[sr].props)}):ir&&ir.length?ir.map(function(ar){return _objectSpread$g(_objectSpread$g({},nr),ar.props)}):[]});_defineProperty$k(Pie,"parseCoordinateOfPie",function(tr,er){var rr=er.top,nr=er.left,ir=er.width,ar=er.height,sr=getMaxRadius(ir,ar),lr=nr+getPercentValue(tr.cx,ir,ir/2),or=rr+getPercentValue(tr.cy,ar,ar/2),cr=getPercentValue(tr.innerRadius,sr,0),ur=getPercentValue(tr.outerRadius,sr,sr*.8),dr=tr.maxRadius||Math.sqrt(ir*ir+ar*ar)/2;return{cx:lr,cy:or,innerRadius:cr,outerRadius:ur,maxRadius:dr}});_defineProperty$k(Pie,"getComposedData",function(tr){var er=tr.item,rr=tr.offset,nr=er.type.defaultProps!==void 0?_objectSpread$g(_objectSpread$g({},er.type.defaultProps),er.props):er.props,ir=_Pie.getRealPieData(nr);if(!ir||!ir.length)return null;var ar=nr.cornerRadius,sr=nr.startAngle,lr=nr.endAngle,or=nr.paddingAngle,cr=nr.dataKey,ur=nr.nameKey,dr=nr.valueKey,hr=nr.tooltipType,fr=Math.abs(nr.minAngle),mr=_Pie.parseCoordinateOfPie(nr,rr),br=_Pie.parseDeltaAngle(sr,lr),pr=Math.abs(br),gr=cr;isNil$1(cr)&&isNil$1(dr)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),gr="value"):isNil$1(cr)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),gr=dr);var yr=ir.filter(function(Tr){return getValueByDataKey(Tr,gr,0)!==0}).length,vr=(pr>=360?yr:yr-1)*or,_r=pr-yr*fr-vr,xr=ir.reduce(function(Tr,Ir){var Lr=getValueByDataKey(Ir,gr,0);return Tr+(isNumber(Lr)?Lr:0)},0),Rr;if(xr>0){var Cr;Rr=ir.map(function(Tr,Ir){var Lr=getValueByDataKey(Tr,gr,0),Nr=getValueByDataKey(Tr,ur,Ir),Or=(isNumber(Lr)?Lr:0)/xr,Pr;Ir?Pr=Cr.endAngle+mathSign(br)*or*(Lr!==0?1:0):Pr=sr;var Mr=Pr+mathSign(br)*((Lr!==0?fr:0)+Or*_r),jr=(Pr+Mr)/2,wr=(mr.innerRadius+mr.outerRadius)/2,Er=[{name:Nr,value:Lr,payload:Tr,dataKey:gr,type:hr}],Ar=polarToCartesian(mr.cx,mr.cy,wr,jr);return Cr=_objectSpread$g(_objectSpread$g(_objectSpread$g({percent:Or,cornerRadius:ar,name:Nr,tooltipPayload:Er,midAngle:jr,middleRadius:wr,tooltipPosition:Ar},Tr),mr),{},{value:getValueByDataKey(Tr,gr),startAngle:Pr,endAngle:Mr,payload:Tr,paddingAngle:mathSign(br)*or}),Cr})}return _objectSpread$g(_objectSpread$g({},mr),{},{sectors:Rr,data:ir})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(tr,er,rr,nr){for(var ir=-1,ar=nativeMax$1(nativeCeil((er-tr)/(rr||1)),0),sr=Array(ar);ar--;)sr[nr?ar:++ir]=tr,tr+=rr;return sr}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(tr){if(!tr)return tr===0?tr:0;if(tr=toNumber(tr),tr===INFINITY||tr===-INFINITY){var er=tr<0?-1:1;return er*MAX_INTEGER}return tr===tr?tr:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(tr){return function(er,rr,nr){return nr&&typeof nr!="number"&&isIterateeCall$2(er,rr,nr)&&(rr=nr=void 0),er=toFinite$1(er),rr===void 0?(rr=er,er=0):rr=toFinite$1(rr),nr=nr===void 0?er<rr?1:-1:toFinite$1(nr),baseRange(er,rr,nr,tr)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$k(tr){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$k(tr)}function ownKeys$f(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$f(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$f(Object(rr),!0).forEach(function(nr){_defineProperty$j(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$f(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$j(tr,er,rr){return er=_toPropertyKey$j(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$j(tr){var er=_toPrimitive$j(tr,"string");return _typeof$k(er)=="symbol"?er:er+""}function _toPrimitive$j(tr,er){if(_typeof$k(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$k(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function tr(er,rr){var nr=er.replace(/(\w)/,function(ar){return ar.toUpperCase()}),ir=PREFIX_LIST.reduce(function(ar,sr){return _objectSpread$f(_objectSpread$f({},ar),{},_defineProperty$j({},sr+nr,rr))},{});return ir[er]=rr,ir};function _typeof$j(tr){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$j(tr)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$e.apply(this,arguments)}function ownKeys$e(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$e(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$e(Object(rr),!0).forEach(function(nr){_defineProperty$i(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$e(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$e(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$i(nr.key),nr)}}function _createClass$e(tr,er,rr){return er&&_defineProperties$e(tr.prototype,er),rr&&_defineProperties$e(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$c(tr,er,rr){return er=_getPrototypeOf$c(er),_possibleConstructorReturn$c(tr,_isNativeReflectConstruct$c()?Reflect.construct(er,rr||[],_getPrototypeOf$c(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$c(tr,er){if(er&&(_typeof$j(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(tr)}function _assertThisInitialized$c(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$c(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!tr})()}function _getPrototypeOf$c(tr){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$c(tr)}function _inherits$c(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$c(tr,er)}function _setPrototypeOf$c(tr,er){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$c(tr,er)}function _defineProperty$i(tr,er,rr){return er=_toPropertyKey$i(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$i(tr){var er=_toPrimitive$i(tr,"string");return _typeof$j(er)=="symbol"?er:er+""}function _toPrimitive$i(tr,er){if(_typeof$j(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$j(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var createScale=function tr(er){var rr=er.data,nr=er.startIndex,ir=er.endIndex,ar=er.x,sr=er.width,lr=er.travellerWidth;if(!rr||!rr.length)return{};var or=rr.length,cr=point().domain(range$1(0,or)).range([ar,ar+sr-lr]),ur=cr.domain().map(function(dr){return cr(dr)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:cr(nr),endX:cr(ir),scale:cr,scaleValues:ur}},isTouch=function tr(er){return er.changedTouches&&!!er.changedTouches.length},Brush=function(tr){function er(rr){var nr;return _classCallCheck$e(this,er),nr=_callSuper$c(this,er,[rr]),_defineProperty$i(nr,"handleDrag",function(ir){nr.leaveTimer&&(clearTimeout(nr.leaveTimer),nr.leaveTimer=null),nr.state.isTravellerMoving?nr.handleTravellerMove(ir):nr.state.isSlideMoving&&nr.handleSlideDrag(ir)}),_defineProperty$i(nr,"handleTouchMove",function(ir){ir.changedTouches!=null&&ir.changedTouches.length>0&&nr.handleDrag(ir.changedTouches[0])}),_defineProperty$i(nr,"handleDragEnd",function(){nr.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var ir=nr.props,ar=ir.endIndex,sr=ir.onDragEnd,lr=ir.startIndex;sr==null||sr({endIndex:ar,startIndex:lr})}),nr.detachDragEndListener()}),_defineProperty$i(nr,"handleLeaveWrapper",function(){(nr.state.isTravellerMoving||nr.state.isSlideMoving)&&(nr.leaveTimer=window.setTimeout(nr.handleDragEnd,nr.props.leaveTimeOut))}),_defineProperty$i(nr,"handleEnterSlideOrTraveller",function(){nr.setState({isTextActive:!0})}),_defineProperty$i(nr,"handleLeaveSlideOrTraveller",function(){nr.setState({isTextActive:!1})}),_defineProperty$i(nr,"handleSlideDragStart",function(ir){var ar=isTouch(ir)?ir.changedTouches[0]:ir;nr.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:ar.pageX}),nr.attachDragEndListener()}),nr.travellerDragStartHandlers={startX:nr.handleTravellerDragStart.bind(nr,"startX"),endX:nr.handleTravellerDragStart.bind(nr,"endX")},nr.state={},nr}return _inherits$c(er,tr),_createClass$e(er,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(nr){var ir=nr.startX,ar=nr.endX,sr=this.state.scaleValues,lr=this.props,or=lr.gap,cr=lr.data,ur=cr.length-1,dr=Math.min(ir,ar),hr=Math.max(ir,ar),fr=er.getIndexInRange(sr,dr),mr=er.getIndexInRange(sr,hr);return{startIndex:fr-fr%or,endIndex:mr===ur?ur:mr-mr%or}}},{key:"getTextOfTick",value:function(nr){var ir=this.props,ar=ir.data,sr=ir.tickFormatter,lr=ir.dataKey,or=getValueByDataKey(ar[nr],lr,nr);return isFunction$3(sr)?sr(or,nr):or}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(nr){var ir=this.state,ar=ir.slideMoveStartX,sr=ir.startX,lr=ir.endX,or=this.props,cr=or.x,ur=or.width,dr=or.travellerWidth,hr=or.startIndex,fr=or.endIndex,mr=or.onChange,br=nr.pageX-ar;br>0?br=Math.min(br,cr+ur-dr-lr,cr+ur-dr-sr):br<0&&(br=Math.max(br,cr-sr,cr-lr));var pr=this.getIndex({startX:sr+br,endX:lr+br});(pr.startIndex!==hr||pr.endIndex!==fr)&&mr&&mr(pr),this.setState({startX:sr+br,endX:lr+br,slideMoveStartX:nr.pageX})}},{key:"handleTravellerDragStart",value:function(nr,ir){var ar=isTouch(ir)?ir.changedTouches[0]:ir;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:nr,brushMoveStartX:ar.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(nr){var ir=this.state,ar=ir.brushMoveStartX,sr=ir.movingTravellerId,lr=ir.endX,or=ir.startX,cr=this.state[sr],ur=this.props,dr=ur.x,hr=ur.width,fr=ur.travellerWidth,mr=ur.onChange,br=ur.gap,pr=ur.data,gr={startX:this.state.startX,endX:this.state.endX},yr=nr.pageX-ar;yr>0?yr=Math.min(yr,dr+hr-fr-cr):yr<0&&(yr=Math.max(yr,dr-cr)),gr[sr]=cr+yr;var vr=this.getIndex(gr),_r=vr.startIndex,xr=vr.endIndex,Rr=function(){var Tr=pr.length-1;return sr==="startX"&&(lr>or?_r%br===0:xr%br===0)||lr<or&&xr===Tr||sr==="endX"&&(lr>or?xr%br===0:_r%br===0)||lr>or&&xr===Tr};this.setState(_defineProperty$i(_defineProperty$i({},sr,cr+yr),"brushMoveStartX",nr.pageX),function(){mr&&Rr()&&mr(vr)})}},{key:"handleTravellerMoveKeyboard",value:function(nr,ir){var ar=this,sr=this.state,lr=sr.scaleValues,or=sr.startX,cr=sr.endX,ur=this.state[ir],dr=lr.indexOf(ur);if(dr!==-1){var hr=dr+nr;if(!(hr===-1||hr>=lr.length)){var fr=lr[hr];ir==="startX"&&fr>=cr||ir==="endX"&&fr<=or||this.setState(_defineProperty$i({},ir,fr),function(){ar.props.onChange(ar.getIndex({startX:ar.state.startX,endX:ar.state.endX}))})}}}},{key:"renderBackground",value:function(){var nr=this.props,ir=nr.x,ar=nr.y,sr=nr.width,lr=nr.height,or=nr.fill,cr=nr.stroke;return React.createElement("rect",{stroke:cr,fill:or,x:ir,y:ar,width:sr,height:lr})}},{key:"renderPanorama",value:function(){var nr=this.props,ir=nr.x,ar=nr.y,sr=nr.width,lr=nr.height,or=nr.data,cr=nr.children,ur=nr.padding,dr=reactExports.Children.only(cr);return dr?React.cloneElement(dr,{x:ir,y:ar,width:sr,height:lr,margin:ur,compact:!0,data:or}):null}},{key:"renderTravellerLayer",value:function(nr,ir){var ar,sr,lr=this,or=this.props,cr=or.y,ur=or.travellerWidth,dr=or.height,hr=or.traveller,fr=or.ariaLabel,mr=or.data,br=or.startIndex,pr=or.endIndex,gr=Math.max(nr,this.props.x),yr=_objectSpread$e(_objectSpread$e({},filterProps(this.props,!1)),{},{x:gr,y:cr,width:ur,height:dr}),vr=fr||"Min value: ".concat((ar=mr[br])===null||ar===void 0?void 0:ar.name,", Max value: ").concat((sr=mr[pr])===null||sr===void 0?void 0:sr.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":vr,"aria-valuenow":nr,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[ir],onTouchStart:this.travellerDragStartHandlers[ir],onKeyDown:function(xr){["ArrowLeft","ArrowRight"].includes(xr.key)&&(xr.preventDefault(),xr.stopPropagation(),lr.handleTravellerMoveKeyboard(xr.key==="ArrowRight"?1:-1,ir))},onFocus:function(){lr.setState({isTravellerFocused:!0})},onBlur:function(){lr.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},er.renderTraveller(hr,yr))}},{key:"renderSlide",value:function(nr,ir){var ar=this.props,sr=ar.y,lr=ar.height,or=ar.stroke,cr=ar.travellerWidth,ur=Math.min(nr,ir)+cr,dr=Math.max(Math.abs(ir-nr)-cr,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:or,fillOpacity:.2,x:ur,y:sr,width:dr,height:lr})}},{key:"renderText",value:function(){var nr=this.props,ir=nr.startIndex,ar=nr.endIndex,sr=nr.y,lr=nr.height,or=nr.travellerWidth,cr=nr.stroke,ur=this.state,dr=ur.startX,hr=ur.endX,fr=5,mr={pointerEvents:"none",fill:cr};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$e({textAnchor:"end",verticalAnchor:"middle",x:Math.min(dr,hr)-fr,y:sr+lr/2},mr),this.getTextOfTick(ir)),React.createElement(Text,_extends$e({textAnchor:"start",verticalAnchor:"middle",x:Math.max(dr,hr)+or+fr,y:sr+lr/2},mr),this.getTextOfTick(ar)))}},{key:"render",value:function(){var nr=this.props,ir=nr.data,ar=nr.className,sr=nr.children,lr=nr.x,or=nr.y,cr=nr.width,ur=nr.height,dr=nr.alwaysShowText,hr=this.state,fr=hr.startX,mr=hr.endX,br=hr.isTextActive,pr=hr.isSlideMoving,gr=hr.isTravellerMoving,yr=hr.isTravellerFocused;if(!ir||!ir.length||!isNumber(lr)||!isNumber(or)||!isNumber(cr)||!isNumber(ur)||cr<=0||ur<=0)return null;var vr=clsx("recharts-brush",ar),_r=React.Children.count(sr)===1,xr=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:vr,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:xr},this.renderBackground(),_r&&this.renderPanorama(),this.renderSlide(fr,mr),this.renderTravellerLayer(fr,"startX"),this.renderTravellerLayer(mr,"endX"),(br||pr||gr||yr||dr)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(nr){var ir=nr.x,ar=nr.y,sr=nr.width,lr=nr.height,or=nr.stroke,cr=Math.floor(ar+lr/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:ir,y:ar,width:sr,height:lr,fill:or,stroke:"none"}),React.createElement("line",{x1:ir+1,y1:cr,x2:ir+sr-1,y2:cr,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:ir+1,y1:cr+2,x2:ir+sr-1,y2:cr+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(nr,ir){var ar;return React.isValidElement(nr)?ar=React.cloneElement(nr,ir):isFunction$3(nr)?ar=nr(ir):ar=er.renderDefaultTraveller(ir),ar}},{key:"getDerivedStateFromProps",value:function(nr,ir){var ar=nr.data,sr=nr.width,lr=nr.x,or=nr.travellerWidth,cr=nr.updateId,ur=nr.startIndex,dr=nr.endIndex;if(ar!==ir.prevData||cr!==ir.prevUpdateId)return _objectSpread$e({prevData:ar,prevTravellerWidth:or,prevUpdateId:cr,prevX:lr,prevWidth:sr},ar&&ar.length?createScale({data:ar,width:sr,x:lr,travellerWidth:or,startIndex:ur,endIndex:dr}):{scale:null,scaleValues:null});if(ir.scale&&(sr!==ir.prevWidth||lr!==ir.prevX||or!==ir.prevTravellerWidth)){ir.scale.range([lr,lr+sr-or]);var hr=ir.scale.domain().map(function(fr){return ir.scale(fr)});return{prevData:ar,prevTravellerWidth:or,prevUpdateId:cr,prevX:lr,prevWidth:sr,startX:ir.scale(nr.startIndex),endX:ir.scale(nr.endIndex),scaleValues:hr}}return null}},{key:"getIndexInRange",value:function(nr,ir){for(var ar=nr.length,sr=0,lr=ar-1;lr-sr>1;){var or=Math.floor((sr+lr)/2);nr[or]>ir?lr=or:sr=or}return ir>=nr[lr]?lr:sr}}])}(reactExports.PureComponent);_defineProperty$i(Brush,"displayName","Brush");_defineProperty$i(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(tr,er){var rr;return baseEach$1(tr,function(nr,ir,ar){return rr=er(nr,ir,ar),!rr}),!!rr}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(tr,er,rr){var nr=isArray$1(tr)?arraySome:baseSome;return rr&&isIterateeCall$1(tr,er,rr)&&(er=void 0),nr(tr,baseIteratee$4(er))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function tr(er,rr){var nr=er.alwaysShow,ir=er.ifOverflow;return nr&&(ir="extendDomain"),ir===rr},defineProperty=_defineProperty$I;function baseAssignValue$1(tr,er,rr){er=="__proto__"&&defineProperty?defineProperty(tr,er,{configurable:!0,enumerable:!0,value:rr,writable:!0}):tr[er]=rr}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(tr,er){var rr={};return er=baseIteratee$3(er),baseForOwn(tr,function(nr,ir,ar){baseAssignValue(rr,ir,er(nr,ir,ar))}),rr}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(tr,er){for(var rr=-1,nr=tr==null?0:tr.length;++rr<nr;)if(!er(tr[rr],rr,tr))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(tr,er){var rr=!0;return baseEach(tr,function(nr,ir,ar){return rr=!!er(nr,ir,ar),rr}),rr}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(tr,er,rr){var nr=isArray(tr)?arrayEvery:baseEvery;return rr&&isIterateeCall(tr,er,rr)&&(er=void 0),nr(tr,baseIteratee$2(er))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$7=["x","y"];function _typeof$i(tr){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$i(tr)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$d.apply(this,arguments)}function ownKeys$d(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$d(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$d(Object(rr),!0).forEach(function(nr){_defineProperty$h(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$d(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$h(tr,er,rr){return er=_toPropertyKey$h(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$h(tr){var er=_toPrimitive$h(tr,"string");return _typeof$i(er)=="symbol"?er:er+""}function _toPrimitive$h(tr,er){if(_typeof$i(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$i(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$7(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$7(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$7(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function typeguardBarRectangleProps(tr,er){var rr=tr.x,nr=tr.y,ir=_objectWithoutProperties$7(tr,_excluded$7),ar="".concat(rr),sr=parseInt(ar,10),lr="".concat(nr),or=parseInt(lr,10),cr="".concat(er.height||ir.height),ur=parseInt(cr,10),dr="".concat(er.width||ir.width),hr=parseInt(dr,10);return _objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},er),ir),sr?{x:sr}:{}),or?{y:or}:{}),{},{height:ur,width:hr,name:er.name,radius:er.radius})}function BarRectangle(tr){return React.createElement(Shape,_extends$d({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},tr))}var minPointSizeCallback=function tr(er){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(nr,ir){if(typeof er=="number")return er;var ar=isNumber(nr)||isNullish(nr);return ar?er(nr,ir):(ar||invariant(),rr)}},_excluded$6=["value","background"],_Bar;function _typeof$h(tr){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$h(tr)}function _objectWithoutProperties$6(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$6(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$6(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$c.apply(this,arguments)}function ownKeys$c(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$c(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$c(Object(rr),!0).forEach(function(nr){_defineProperty$g(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$c(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$d(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$g(nr.key),nr)}}function _createClass$d(tr,er,rr){return er&&_defineProperties$d(tr.prototype,er),rr&&_defineProperties$d(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$b(tr,er,rr){return er=_getPrototypeOf$b(er),_possibleConstructorReturn$b(tr,_isNativeReflectConstruct$b()?Reflect.construct(er,rr||[],_getPrototypeOf$b(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$b(tr,er){if(er&&(_typeof$h(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(tr)}function _assertThisInitialized$b(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$b(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!tr})()}function _getPrototypeOf$b(tr){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$b(tr)}function _inherits$b(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$b(tr,er)}function _setPrototypeOf$b(tr,er){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$b(tr,er)}function _defineProperty$g(tr,er,rr){return er=_toPropertyKey$g(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$g(tr){var er=_toPrimitive$g(tr,"string");return _typeof$h(er)=="symbol"?er:er+""}function _toPrimitive$g(tr,er){if(_typeof$h(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$h(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var Bar=function(tr){function er(){var rr;_classCallCheck$d(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$b(this,er,[].concat(ir)),_defineProperty$g(rr,"state",{isAnimationFinished:!1}),_defineProperty$g(rr,"id",uniqueId("recharts-bar-")),_defineProperty$g(rr,"handleAnimationEnd",function(){var sr=rr.props.onAnimationEnd;rr.setState({isAnimationFinished:!0}),sr&&sr()}),_defineProperty$g(rr,"handleAnimationStart",function(){var sr=rr.props.onAnimationStart;rr.setState({isAnimationFinished:!1}),sr&&sr()}),rr}return _inherits$b(er,tr),_createClass$d(er,[{key:"renderRectanglesStatically",value:function(nr){var ir=this,ar=this.props,sr=ar.shape,lr=ar.dataKey,or=ar.activeIndex,cr=ar.activeBar,ur=filterProps(this.props,!1);return nr&&nr.map(function(dr,hr){var fr=hr===or,mr=fr?cr:sr,br=_objectSpread$c(_objectSpread$c(_objectSpread$c({},ur),dr),{},{isActive:fr,option:mr,index:hr,dataKey:lr,onAnimationStart:ir.handleAnimationStart,onAnimationEnd:ir.handleAnimationEnd});return React.createElement(Layer,_extends$c({className:"recharts-bar-rectangle"},adaptEventsOfChild(ir.props,dr,hr),{key:"rectangle-".concat(dr==null?void 0:dr.x,"-").concat(dr==null?void 0:dr.y,"-").concat(dr==null?void 0:dr.value,"-").concat(hr)}),React.createElement(BarRectangle,br))})}},{key:"renderRectanglesWithAnimation",value:function(){var nr=this,ir=this.props,ar=ir.data,sr=ir.layout,lr=ir.isAnimationActive,or=ir.animationBegin,cr=ir.animationDuration,ur=ir.animationEasing,dr=ir.animationId,hr=this.state.prevData;return React.createElement(Animate,{begin:or,duration:cr,isActive:lr,easing:ur,from:{t:0},to:{t:1},key:"bar-".concat(dr),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(fr){var mr=fr.t,br=ar.map(function(pr,gr){var yr=hr&&hr[gr];if(yr){var vr=interpolateNumber$2(yr.x,pr.x),_r=interpolateNumber$2(yr.y,pr.y),xr=interpolateNumber$2(yr.width,pr.width),Rr=interpolateNumber$2(yr.height,pr.height);return _objectSpread$c(_objectSpread$c({},pr),{},{x:vr(mr),y:_r(mr),width:xr(mr),height:Rr(mr)})}if(sr==="horizontal"){var Cr=interpolateNumber$2(0,pr.height),Tr=Cr(mr);return _objectSpread$c(_objectSpread$c({},pr),{},{y:pr.y+pr.height-Tr,height:Tr})}var Ir=interpolateNumber$2(0,pr.width),Lr=Ir(mr);return _objectSpread$c(_objectSpread$c({},pr),{},{width:Lr})});return React.createElement(Layer,null,nr.renderRectanglesStatically(br))})}},{key:"renderRectangles",value:function(){var nr=this.props,ir=nr.data,ar=nr.isAnimationActive,sr=this.state.prevData;return ar&&ir&&ir.length&&(!sr||!isEqual$1(sr,ir))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(ir)}},{key:"renderBackground",value:function(){var nr=this,ir=this.props,ar=ir.data,sr=ir.dataKey,lr=ir.activeIndex,or=filterProps(this.props.background,!1);return ar.map(function(cr,ur){cr.value;var dr=cr.background,hr=_objectWithoutProperties$6(cr,_excluded$6);if(!dr)return null;var fr=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},hr),{},{fill:"#eee"},dr),or),adaptEventsOfChild(nr.props,cr,ur)),{},{onAnimationStart:nr.handleAnimationStart,onAnimationEnd:nr.handleAnimationEnd,dataKey:sr,index:ur,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$c({key:"background-bar-".concat(ur),option:nr.props.background,isActive:ur===lr},fr))})}},{key:"renderErrorBar",value:function(nr,ir){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var ar=this.props,sr=ar.data,lr=ar.xAxis,or=ar.yAxis,cr=ar.layout,ur=ar.children,dr=findAllByType(ur,ErrorBar);if(!dr)return null;var hr=cr==="vertical"?sr[0].height/2:sr[0].width/2,fr=function(pr,gr){var yr=Array.isArray(pr.value)?pr.value[1]:pr.value;return{x:pr.x,y:pr.y,value:yr,errorVal:getValueByDataKey(pr,gr)}},mr={clipPath:nr?"url(#clipPath-".concat(ir,")"):null};return React.createElement(Layer,mr,dr.map(function(br){return React.cloneElement(br,{key:"error-bar-".concat(ir,"-").concat(br.props.dataKey),data:sr,xAxis:lr,yAxis:or,layout:cr,offset:hr,dataPointFormatter:fr})}))}},{key:"render",value:function(){var nr=this.props,ir=nr.hide,ar=nr.data,sr=nr.className,lr=nr.xAxis,or=nr.yAxis,cr=nr.left,ur=nr.top,dr=nr.width,hr=nr.height,fr=nr.isAnimationActive,mr=nr.background,br=nr.id;if(ir||!ar||!ar.length)return null;var pr=this.state.isAnimationFinished,gr=clsx("recharts-bar",sr),yr=lr&&lr.allowDataOverflow,vr=or&&or.allowDataOverflow,_r=yr||vr,xr=isNil$1(br)?this.id:br;return React.createElement(Layer,{className:gr},yr||vr?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(xr)},React.createElement("rect",{x:yr?cr:cr-dr/2,y:vr?ur:ur-hr/2,width:yr?dr:dr*2,height:vr?hr:hr*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:_r?"url(#clipPath-".concat(xr,")"):null},mr?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_r,xr),(!fr||pr)&&LabelList.renderCallByParent(this.props,ar))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curData:nr.data,prevData:ir.curData}:nr.data!==ir.curData?{curData:nr.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$g(Bar,"displayName","Bar");_defineProperty$g(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$g(Bar,"getComposedData",function(tr){var er=tr.props,rr=tr.item,nr=tr.barPosition,ir=tr.bandSize,ar=tr.xAxis,sr=tr.yAxis,lr=tr.xAxisTicks,or=tr.yAxisTicks,cr=tr.stackedData,ur=tr.dataStartIndex,dr=tr.displayedData,hr=tr.offset,fr=findPositionOfBar(nr,rr);if(!fr)return null;var mr=er.layout,br=rr.type.defaultProps,pr=br!==void 0?_objectSpread$c(_objectSpread$c({},br),rr.props):rr.props,gr=pr.dataKey,yr=pr.children,vr=pr.minPointSize,_r=mr==="horizontal"?sr:ar,xr=cr?_r.scale.domain():null,Rr=getBaseValueOfBar({numericAxis:_r}),Cr=findAllByType(yr,Cell),Tr=dr.map(function(Ir,Lr){var Nr,Or,Pr,Mr,jr,wr;cr?Nr=truncateByDomain(cr[ur+Lr],xr):(Nr=getValueByDataKey(Ir,gr),Array.isArray(Nr)||(Nr=[Rr,Nr]));var Er=minPointSizeCallback(vr,_Bar.defaultProps.minPointSize)(Nr[1],Lr);if(mr==="horizontal"){var Ar,Sr=[sr.scale(Nr[0]),sr.scale(Nr[1])],Dr=Sr[0],Wr=Sr[1];Or=getCateCoordinateOfBar({axis:ar,ticks:lr,bandSize:ir,offset:fr.offset,entry:Ir,index:Lr}),Pr=(Ar=Wr??Dr)!==null&&Ar!==void 0?Ar:void 0,Mr=fr.size;var $r=Dr-Wr;if(jr=Number.isNaN($r)?0:$r,wr={x:Or,y:sr.y,width:Mr,height:sr.height},Math.abs(Er)>0&&Math.abs(jr)<Math.abs(Er)){var Vr=mathSign(jr||Er)*(Math.abs(Er)-Math.abs(jr));Pr-=Vr,jr+=Vr}}else{var zr=[ar.scale(Nr[0]),ar.scale(Nr[1])],Gr=zr[0],Fr=zr[1];if(Or=Gr,Pr=getCateCoordinateOfBar({axis:sr,ticks:or,bandSize:ir,offset:fr.offset,entry:Ir,index:Lr}),Mr=Fr-Gr,jr=fr.size,wr={x:ar.x,y:Pr,width:ar.width,height:jr},Math.abs(Er)>0&&Math.abs(Mr)<Math.abs(Er)){var Xr=mathSign(Mr||Er)*(Math.abs(Er)-Math.abs(Mr));Mr+=Xr}}return _objectSpread$c(_objectSpread$c(_objectSpread$c({},Ir),{},{x:Or,y:Pr,width:Mr,height:jr,value:cr?Nr:Nr[1],payload:Ir,background:wr},Cr&&Cr[Lr]&&Cr[Lr].props),{},{tooltipPayload:[getTooltipItem(rr,Ir)],tooltipPosition:{x:Or+Mr/2,y:Pr+jr/2}})});return _objectSpread$c({data:Tr,layout:mr},hr)});function _typeof$g(tr){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$g(tr)}function _classCallCheck$c(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$f(nr.key),nr)}}function _createClass$c(tr,er,rr){return er&&_defineProperties$c(tr.prototype,er),rr&&_defineProperties$c(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function ownKeys$b(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$b(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$b(Object(rr),!0).forEach(function(nr){_defineProperty$f(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$b(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$f(tr,er,rr){return er=_toPropertyKey$f(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$f(tr){var er=_toPrimitive$f(tr,"string");return _typeof$g(er)=="symbol"?er:er+""}function _toPrimitive$f(tr,er){if(_typeof$g(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$g(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var formatAxisMap=function tr(er,rr,nr,ir,ar){var sr=er.width,lr=er.height,or=er.layout,cr=er.children,ur=Object.keys(rr),dr={left:nr.left,leftMirror:nr.left,right:sr-nr.right,rightMirror:sr-nr.right,top:nr.top,topMirror:nr.top,bottom:lr-nr.bottom,bottomMirror:lr-nr.bottom},hr=!!findChildByType(cr,Bar);return ur.reduce(function(fr,mr){var br=rr[mr],pr=br.orientation,gr=br.domain,yr=br.padding,vr=yr===void 0?{}:yr,_r=br.mirror,xr=br.reversed,Rr="".concat(pr).concat(_r?"Mirror":""),Cr,Tr,Ir,Lr,Nr;if(br.type==="number"&&(br.padding==="gap"||br.padding==="no-gap")){var Or=gr[1]-gr[0],Pr=1/0,Mr=br.categoricalDomain.sort(compareValues);if(Mr.forEach(function(zr,Gr){Gr>0&&(Pr=Math.min((zr||0)-(Mr[Gr-1]||0),Pr))}),Number.isFinite(Pr)){var jr=Pr/Or,wr=br.layout==="vertical"?nr.height:nr.width;if(br.padding==="gap"&&(Cr=jr*wr/2),br.padding==="no-gap"){var Er=getPercentValue(er.barCategoryGap,jr*wr),Ar=jr*wr/2;Cr=Ar-Er-(Ar-Er)/wr*Er}}}ir==="xAxis"?Tr=[nr.left+(vr.left||0)+(Cr||0),nr.left+nr.width-(vr.right||0)-(Cr||0)]:ir==="yAxis"?Tr=or==="horizontal"?[nr.top+nr.height-(vr.bottom||0),nr.top+(vr.top||0)]:[nr.top+(vr.top||0)+(Cr||0),nr.top+nr.height-(vr.bottom||0)-(Cr||0)]:Tr=br.range,xr&&(Tr=[Tr[1],Tr[0]]);var Sr=parseScale(br,ar,hr),Dr=Sr.scale,Wr=Sr.realScaleType;Dr.domain(gr).range(Tr),checkDomainOfScale(Dr);var $r=getTicksOfScale(Dr,_objectSpread$b(_objectSpread$b({},br),{},{realScaleType:Wr}));ir==="xAxis"?(Nr=pr==="top"&&!_r||pr==="bottom"&&_r,Ir=nr.left,Lr=dr[Rr]-Nr*br.height):ir==="yAxis"&&(Nr=pr==="left"&&!_r||pr==="right"&&_r,Ir=dr[Rr]-Nr*br.width,Lr=nr.top);var Vr=_objectSpread$b(_objectSpread$b(_objectSpread$b({},br),$r),{},{realScaleType:Wr,x:Ir,y:Lr,scale:Dr,width:ir==="xAxis"?nr.width:br.width,height:ir==="yAxis"?nr.height:br.height});return Vr.bandSize=getBandSizeOfAxis(Vr,$r),!br.hide&&ir==="xAxis"?dr[Rr]+=(Nr?-1:1)*Vr.height:br.hide||(dr[Rr]+=(Nr?-1:1)*Vr.width),_objectSpread$b(_objectSpread$b({},fr),{},_defineProperty$f({},mr,Vr))},{})},rectWithPoints=function tr(er,rr){var nr=er.x,ir=er.y,ar=rr.x,sr=rr.y;return{x:Math.min(nr,ar),y:Math.min(ir,sr),width:Math.abs(ar-nr),height:Math.abs(sr-ir)}},rectWithCoords=function tr(er){var rr=er.x1,nr=er.y1,ir=er.x2,ar=er.y2;return rectWithPoints({x:rr,y:nr},{x:ir,y:ar})},ScaleHelper=function(){function tr(er){_classCallCheck$c(this,tr),this.scale=er}return _createClass$c(tr,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(rr){var nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ir=nr.bandAware,ar=nr.position;if(rr!==void 0){if(ar)switch(ar){case"start":return this.scale(rr);case"middle":{var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(rr)+sr}case"end":{var lr=this.bandwidth?this.bandwidth():0;return this.scale(rr)+lr}default:return this.scale(rr)}if(ir){var or=this.bandwidth?this.bandwidth()/2:0;return this.scale(rr)+or}return this.scale(rr)}}},{key:"isInRange",value:function(rr){var nr=this.range(),ir=nr[0],ar=nr[nr.length-1];return ir<=ar?rr>=ir&&rr<=ar:rr>=ar&&rr<=ir}}],[{key:"create",value:function(rr){return new tr(rr)}}])}();_defineProperty$f(ScaleHelper,"EPS",1e-4);var createLabeledScales=function tr(er){var rr=Object.keys(er).reduce(function(nr,ir){return _objectSpread$b(_objectSpread$b({},nr),{},_defineProperty$f({},ir,ScaleHelper.create(er[ir])))},{});return _objectSpread$b(_objectSpread$b({},rr),{},{apply:function(ir){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sr=ar.bandAware,lr=ar.position;return mapValues$1(ir,function(or,cr){return rr[cr].apply(or,{bandAware:sr,position:lr})})},isInRange:function(ir){return every$1(ir,function(ar,sr){return rr[sr].isInRange(ar)})}})};function normalizeAngle(tr){return(tr%180+180)%180}var getAngledRectangleWidth=function tr(er){var rr=er.width,nr=er.height,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ar=normalizeAngle(ir),sr=ar*Math.PI/180,lr=Math.atan(nr/rr),or=sr>lr&&sr<Math.PI-lr?nr/Math.sin(sr):rr/Math.cos(sr);return Math.abs(or)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(tr){return function(er,rr,nr){var ir=Object(er);if(!isArrayLike(er)){var ar=baseIteratee$1(rr);er=keys(er),rr=function(lr){return ar(ir[lr],lr,ir)}}var sr=tr(er,rr,nr);return sr>-1?ir[ar?er[sr]:sr]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(tr){var er=toFinite(tr),rr=er%1;return er===er?rr?er-rr:er:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(tr,er,rr){var nr=tr==null?0:tr.length;if(!nr)return-1;var ir=rr==null?0:toInteger(rr);return ir<0&&(ir=nativeMax(nr+ir,0)),baseFindIndex(tr,baseIteratee(er),ir)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(tr){return{x:tr.left,y:tr.top,width:tr.width,height:tr.height}},function(tr){return["l",tr.left,"t",tr.top,"w",tr.width,"h",tr.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function tr(er){var rr=er.state,nr=rr.xAxisMap,ir=rr.yAxisMap,ar=rr.offset,sr=er.clipPathId,lr=er.children,or=er.width,cr=er.height,ur=calculateViewBox(ar);return React.createElement(XAxisContext.Provider,{value:nr},React.createElement(YAxisContext.Provider,{value:ir},React.createElement(OffsetContext.Provider,{value:ar},React.createElement(ViewBoxContext.Provider,{value:ur},React.createElement(ClipPathIdContext.Provider,{value:sr},React.createElement(ChartHeightContext.Provider,{value:cr},React.createElement(ChartWidthContext.Provider,{value:or},lr)))))))},useClipPathId=function tr(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function tr(er){var rr=reactExports.useContext(XAxisContext);rr==null&&invariant();var nr=rr[er];return nr==null&&invariant(),nr},useArbitraryXAxis=function tr(){var er=reactExports.useContext(XAxisContext);return getAnyElementOfObject(er)},useYAxisWithFiniteDomainOrRandom=function tr(){var er=reactExports.useContext(YAxisContext),rr=find$1(er,function(nr){return every$1(nr.domain,Number.isFinite)});return rr||getAnyElementOfObject(er)},useYAxisOrThrow=function tr(er){var rr=reactExports.useContext(YAxisContext);rr==null&&invariant();var nr=rr[er];return nr==null&&invariant(),nr},useViewBox=function tr(){var er=reactExports.useContext(ViewBoxContext);return er},useOffset=function tr(){return reactExports.useContext(OffsetContext)},useChartWidth=function tr(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function tr(){return reactExports.useContext(ChartHeightContext)};function _typeof$f(tr){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$f(tr)}function _classCallCheck$b(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$e(nr.key),nr)}}function _createClass$b(tr,er,rr){return er&&_defineProperties$b(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$a(tr,er,rr){return er=_getPrototypeOf$a(er),_possibleConstructorReturn$a(tr,_isNativeReflectConstruct$a()?Reflect.construct(er,rr||[],_getPrototypeOf$a(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$a(tr,er){if(er&&(_typeof$f(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(tr)}function _assertThisInitialized$a(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$a(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!tr})()}function _getPrototypeOf$a(tr){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$a(tr)}function _inherits$a(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$a(tr,er)}function _setPrototypeOf$a(tr,er){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$a(tr,er)}function ownKeys$a(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$a(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$a(Object(rr),!0).forEach(function(nr){_defineProperty$e(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$a(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$e(tr,er,rr){return er=_toPropertyKey$e(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$e(tr){var er=_toPrimitive$e(tr,"string");return _typeof$f(er)=="symbol"?er:er+""}function _toPrimitive$e(tr,er){if(_typeof$f(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$f(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}function _slicedToArray$1(tr,er){return _arrayWithHoles$1(tr)||_iterableToArrayLimit$1(tr,er)||_unsupportedIterableToArray$3(tr,er)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$3(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$3(tr,er)}}function _arrayLikeToArray$3(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$1(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles$1(tr){if(Array.isArray(tr))return tr}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$b.apply(this,arguments)}var renderLine=function tr(er,rr){var nr;return React.isValidElement(er)?nr=React.cloneElement(er,rr):isFunction$3(er)?nr=er(rr):nr=React.createElement("line",_extends$b({},rr,{className:"recharts-reference-line-line"})),nr},getEndPoints=function tr(er,rr,nr,ir,ar,sr,lr,or,cr){var ur=ar.x,dr=ar.y,hr=ar.width,fr=ar.height;if(nr){var mr=cr.y,br=er.y.apply(mr,{position:sr});if(ifOverflowMatches(cr,"discard")&&!er.y.isInRange(br))return null;var pr=[{x:ur+hr,y:br},{x:ur,y:br}];return or==="left"?pr.reverse():pr}if(rr){var gr=cr.x,yr=er.x.apply(gr,{position:sr});if(ifOverflowMatches(cr,"discard")&&!er.x.isInRange(yr))return null;var vr=[{x:yr,y:dr+fr},{x:yr,y:dr}];return lr==="top"?vr.reverse():vr}if(ir){var _r=cr.segment,xr=_r.map(function(Rr){return er.apply(Rr,{position:sr})});return ifOverflowMatches(cr,"discard")&&some$1(xr,function(Rr){return!er.isInRange(Rr)})?null:xr}return null};function ReferenceLineImpl(tr){var er=tr.x,rr=tr.y,nr=tr.segment,ir=tr.xAxisId,ar=tr.yAxisId,sr=tr.shape,lr=tr.className,or=tr.alwaysShow,cr=useClipPathId(),ur=useXAxisOrThrow(ir),dr=useYAxisOrThrow(ar),hr=useViewBox();if(!cr||!hr)return null;warn(or===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var fr=createLabeledScales({x:ur.scale,y:dr.scale}),mr=isNumOrStr(er),br=isNumOrStr(rr),pr=nr&&nr.length===2,gr=getEndPoints(fr,mr,br,pr,hr,tr.position,ur.orientation,dr.orientation,tr);if(!gr)return null;var yr=_slicedToArray$1(gr,2),vr=yr[0],_r=vr.x,xr=vr.y,Rr=yr[1],Cr=Rr.x,Tr=Rr.y,Ir=ifOverflowMatches(tr,"hidden")?"url(#".concat(cr,")"):void 0,Lr=_objectSpread$a(_objectSpread$a({clipPath:Ir},filterProps(tr,!0)),{},{x1:_r,y1:xr,x2:Cr,y2:Tr});return React.createElement(Layer,{className:clsx("recharts-reference-line",lr)},renderLine(sr,Lr),Label.renderCallByParent(tr,rectWithCoords({x1:_r,y1:xr,x2:Cr,y2:Tr})))}var ReferenceLine=function(tr){function er(){return _classCallCheck$b(this,er),_callSuper$a(this,er,arguments)}return _inherits$a(er,tr),_createClass$b(er,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$e(ReferenceLine,"displayName","ReferenceLine");_defineProperty$e(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$a.apply(this,arguments)}function _typeof$e(tr){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$e(tr)}function ownKeys$9(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$9(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$9(Object(rr),!0).forEach(function(nr){_defineProperty$d(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$9(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$a(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$d(nr.key),nr)}}function _createClass$a(tr,er,rr){return er&&_defineProperties$a(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$9(tr,er,rr){return er=_getPrototypeOf$9(er),_possibleConstructorReturn$9(tr,_isNativeReflectConstruct$9()?Reflect.construct(er,rr||[],_getPrototypeOf$9(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$9(tr,er){if(er&&(_typeof$e(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(tr)}function _assertThisInitialized$9(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$9(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!tr})()}function _getPrototypeOf$9(tr){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$9(tr)}function _inherits$9(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$9(tr,er)}function _setPrototypeOf$9(tr,er){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$9(tr,er)}function _defineProperty$d(tr,er,rr){return er=_toPropertyKey$d(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$d(tr){var er=_toPrimitive$d(tr,"string");return _typeof$e(er)=="symbol"?er:er+""}function _toPrimitive$d(tr,er){if(_typeof$e(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$e(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var getCoordinate=function tr(er){var rr=er.x,nr=er.y,ir=er.xAxis,ar=er.yAxis,sr=createLabeledScales({x:ir.scale,y:ar.scale}),lr=sr.apply({x:rr,y:nr},{bandAware:!0});return ifOverflowMatches(er,"discard")&&!sr.isInRange(lr)?null:lr},ReferenceDot=function(tr){function er(){return _classCallCheck$a(this,er),_callSuper$9(this,er,arguments)}return _inherits$9(er,tr),_createClass$a(er,[{key:"render",value:function(){var nr=this.props,ir=nr.x,ar=nr.y,sr=nr.r,lr=nr.alwaysShow,or=nr.clipPathId,cr=isNumOrStr(ir),ur=isNumOrStr(ar);if(warn(lr===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!cr||!ur)return null;var dr=getCoordinate(this.props);if(!dr)return null;var hr=dr.x,fr=dr.y,mr=this.props,br=mr.shape,pr=mr.className,gr=ifOverflowMatches(this.props,"hidden")?"url(#".concat(or,")"):void 0,yr=_objectSpread$9(_objectSpread$9({clipPath:gr},filterProps(this.props,!0)),{},{cx:hr,cy:fr});return React.createElement(Layer,{className:clsx("recharts-reference-dot",pr)},er.renderDot(br,yr),Label.renderCallByParent(this.props,{x:hr-sr,y:fr-sr,width:2*sr,height:2*sr}))}}])}(React.Component);_defineProperty$d(ReferenceDot,"displayName","ReferenceDot");_defineProperty$d(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$d(ReferenceDot,"renderDot",function(tr,er){var rr;return React.isValidElement(tr)?rr=React.cloneElement(tr,er):isFunction$3(tr)?rr=tr(er):rr=React.createElement(Dot,_extends$a({},er,{cx:er.cx,cy:er.cy,className:"recharts-reference-dot-dot"})),rr});function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$9.apply(this,arguments)}function _typeof$d(tr){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$d(tr)}function ownKeys$8(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$8(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$8(Object(rr),!0).forEach(function(nr){_defineProperty$c(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$8(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$9(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$c(nr.key),nr)}}function _createClass$9(tr,er,rr){return er&&_defineProperties$9(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$8(tr,er,rr){return er=_getPrototypeOf$8(er),_possibleConstructorReturn$8(tr,_isNativeReflectConstruct$8()?Reflect.construct(er,rr||[],_getPrototypeOf$8(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$8(tr,er){if(er&&(_typeof$d(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(tr)}function _assertThisInitialized$8(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$8(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!tr})()}function _getPrototypeOf$8(tr){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$8(tr)}function _inherits$8(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$8(tr,er)}function _setPrototypeOf$8(tr,er){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$8(tr,er)}function _defineProperty$c(tr,er,rr){return er=_toPropertyKey$c(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$c(tr){var er=_toPrimitive$c(tr,"string");return _typeof$d(er)=="symbol"?er:er+""}function _toPrimitive$c(tr,er){if(_typeof$d(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$d(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var getRect=function tr(er,rr,nr,ir,ar){var sr=ar.x1,lr=ar.x2,or=ar.y1,cr=ar.y2,ur=ar.xAxis,dr=ar.yAxis;if(!ur||!dr)return null;var hr=createLabeledScales({x:ur.scale,y:dr.scale}),fr={x:er?hr.x.apply(sr,{position:"start"}):hr.x.rangeMin,y:nr?hr.y.apply(or,{position:"start"}):hr.y.rangeMin},mr={x:rr?hr.x.apply(lr,{position:"end"}):hr.x.rangeMax,y:ir?hr.y.apply(cr,{position:"end"}):hr.y.rangeMax};return ifOverflowMatches(ar,"discard")&&(!hr.isInRange(fr)||!hr.isInRange(mr))?null:rectWithPoints(fr,mr)},ReferenceArea=function(tr){function er(){return _classCallCheck$9(this,er),_callSuper$8(this,er,arguments)}return _inherits$8(er,tr),_createClass$9(er,[{key:"render",value:function(){var nr=this.props,ir=nr.x1,ar=nr.x2,sr=nr.y1,lr=nr.y2,or=nr.className,cr=nr.alwaysShow,ur=nr.clipPathId;warn(cr===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dr=isNumOrStr(ir),hr=isNumOrStr(ar),fr=isNumOrStr(sr),mr=isNumOrStr(lr),br=this.props.shape;if(!dr&&!hr&&!fr&&!mr&&!br)return null;var pr=getRect(dr,hr,fr,mr,this.props);if(!pr&&!br)return null;var gr=ifOverflowMatches(this.props,"hidden")?"url(#".concat(ur,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",or)},er.renderRect(br,_objectSpread$8(_objectSpread$8({clipPath:gr},filterProps(this.props,!0)),pr)),Label.renderCallByParent(this.props,pr))}}])}(React.Component);_defineProperty$c(ReferenceArea,"displayName","ReferenceArea");_defineProperty$c(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$c(ReferenceArea,"renderRect",function(tr,er){var rr;return React.isValidElement(tr)?rr=React.cloneElement(tr,er):isFunction$3(tr)?rr=tr(er):rr=React.createElement(Rectangle,_extends$9({},er,{className:"recharts-reference-area-rect"})),rr});function getEveryNthWithCondition(tr,er,rr){if(er<1)return[];if(er===1&&rr===void 0)return tr;for(var nr=[],ir=0;ir<tr.length;ir+=er)nr.push(tr[ir]);return nr}function getAngledTickWidth(tr,er,rr){var nr={width:tr.width+er.width,height:tr.height+er.height};return getAngledRectangleWidth(nr,rr)}function getTickBoundaries(tr,er,rr){var nr=rr==="width",ir=tr.x,ar=tr.y,sr=tr.width,lr=tr.height;return er===1?{start:nr?ir:ar,end:nr?ir+sr:ar+lr}:{start:nr?ir+sr:ar+lr,end:nr?ir:ar}}function isVisible(tr,er,rr,nr,ir){if(tr*er<tr*nr||tr*er>tr*ir)return!1;var ar=rr();return tr*(er-tr*ar/2-nr)>=0&&tr*(er+tr*ar/2-ir)<=0}function getNumberIntervalTicks(tr,er){return getEveryNthWithCondition(tr,er+1)}function getEquidistantTicks(tr,er,rr,nr,ir){for(var ar=(nr||[]).slice(),sr=er.start,lr=er.end,or=0,cr=1,ur=sr,dr=function(){var mr=nr==null?void 0:nr[or];if(mr===void 0)return{v:getEveryNthWithCondition(nr,cr)};var br=or,pr,gr=function(){return pr===void 0&&(pr=rr(mr,br)),pr},yr=mr.coordinate,vr=or===0||isVisible(tr,yr,gr,ur,lr);vr||(or=0,ur=sr,cr+=1),vr&&(ur=yr+tr*(gr()/2+ir),or+=cr)},hr;cr<=ar.length;)if(hr=dr(),hr)return hr.v;return[]}function _typeof$c(tr){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$c(tr)}function ownKeys$7(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$7(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$7(Object(rr),!0).forEach(function(nr){_defineProperty$b(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$7(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$b(tr,er,rr){return er=_toPropertyKey$b(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$b(tr){var er=_toPrimitive$b(tr,"string");return _typeof$c(er)=="symbol"?er:er+""}function _toPrimitive$b(tr,er){if(_typeof$c(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$c(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function getTicksEnd(tr,er,rr,nr,ir){for(var ar=(nr||[]).slice(),sr=ar.length,lr=er.start,or=er.end,cr=function(hr){var fr=ar[hr],mr,br=function(){return mr===void 0&&(mr=rr(fr,hr)),mr};if(hr===sr-1){var pr=tr*(fr.coordinate+tr*br()/2-or);ar[hr]=fr=_objectSpread$7(_objectSpread$7({},fr),{},{tickCoord:pr>0?fr.coordinate-pr*tr:fr.coordinate})}else ar[hr]=fr=_objectSpread$7(_objectSpread$7({},fr),{},{tickCoord:fr.coordinate});var gr=isVisible(tr,fr.tickCoord,br,lr,or);gr&&(or=fr.tickCoord-tr*(br()/2+ir),ar[hr]=_objectSpread$7(_objectSpread$7({},fr),{},{isShow:!0}))},ur=sr-1;ur>=0;ur--)cr(ur);return ar}function getTicksStart(tr,er,rr,nr,ir,ar){var sr=(nr||[]).slice(),lr=sr.length,or=er.start,cr=er.end;if(ar){var ur=nr[lr-1],dr=rr(ur,lr-1),hr=tr*(ur.coordinate+tr*dr/2-cr);sr[lr-1]=ur=_objectSpread$7(_objectSpread$7({},ur),{},{tickCoord:hr>0?ur.coordinate-hr*tr:ur.coordinate});var fr=isVisible(tr,ur.tickCoord,function(){return dr},or,cr);fr&&(cr=ur.tickCoord-tr*(dr/2+ir),sr[lr-1]=_objectSpread$7(_objectSpread$7({},ur),{},{isShow:!0}))}for(var mr=ar?lr-1:lr,br=function(yr){var vr=sr[yr],_r,xr=function(){return _r===void 0&&(_r=rr(vr,yr)),_r};if(yr===0){var Rr=tr*(vr.coordinate-tr*xr()/2-or);sr[yr]=vr=_objectSpread$7(_objectSpread$7({},vr),{},{tickCoord:Rr<0?vr.coordinate-Rr*tr:vr.coordinate})}else sr[yr]=vr=_objectSpread$7(_objectSpread$7({},vr),{},{tickCoord:vr.coordinate});var Cr=isVisible(tr,vr.tickCoord,xr,or,cr);Cr&&(or=vr.tickCoord+tr*(xr()/2+ir),sr[yr]=_objectSpread$7(_objectSpread$7({},vr),{},{isShow:!0}))},pr=0;pr<mr;pr++)br(pr);return sr}function getTicks(tr,er,rr){var nr=tr.tick,ir=tr.ticks,ar=tr.viewBox,sr=tr.minTickGap,lr=tr.orientation,or=tr.interval,cr=tr.tickFormatter,ur=tr.unit,dr=tr.angle;if(!ir||!ir.length||!nr)return[];if(isNumber(or)||Global.isSsr)return getNumberIntervalTicks(ir,typeof or=="number"&&isNumber(or)?or:0);var hr=[],fr=lr==="top"||lr==="bottom"?"width":"height",mr=ur&&fr==="width"?getStringSize(ur,{fontSize:er,letterSpacing:rr}):{width:0,height:0},br=function(vr,_r){var xr=isFunction$3(cr)?cr(vr.value,_r):vr.value;return fr==="width"?getAngledTickWidth(getStringSize(xr,{fontSize:er,letterSpacing:rr}),mr,dr):getStringSize(xr,{fontSize:er,letterSpacing:rr})[fr]},pr=ir.length>=2?mathSign(ir[1].coordinate-ir[0].coordinate):1,gr=getTickBoundaries(ar,pr,fr);return or==="equidistantPreserveStart"?getEquidistantTicks(pr,gr,br,ir,sr):(or==="preserveStart"||or==="preserveStartEnd"?hr=getTicksStart(pr,gr,br,ir,sr,or==="preserveStartEnd"):hr=getTicksEnd(pr,gr,br,ir,sr),hr.filter(function(yr){return yr.isShow}))}var _excluded$5=["viewBox"],_excluded2$4=["viewBox"],_excluded3=["ticks"];function _typeof$b(tr){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$b(tr)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$8.apply(this,arguments)}function ownKeys$6(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$6(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$6(Object(rr),!0).forEach(function(nr){_defineProperty$a(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$6(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _objectWithoutProperties$5(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$5(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$5(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _classCallCheck$8(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$a(nr.key),nr)}}function _createClass$8(tr,er,rr){return er&&_defineProperties$8(tr.prototype,er),rr&&_defineProperties$8(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$7(tr,er,rr){return er=_getPrototypeOf$7(er),_possibleConstructorReturn$7(tr,_isNativeReflectConstruct$7()?Reflect.construct(er,rr||[],_getPrototypeOf$7(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$7(tr,er){if(er&&(_typeof$b(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(tr)}function _assertThisInitialized$7(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$7(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!tr})()}function _getPrototypeOf$7(tr){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$7(tr)}function _inherits$7(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$7(tr,er)}function _setPrototypeOf$7(tr,er){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$7(tr,er)}function _defineProperty$a(tr,er,rr){return er=_toPropertyKey$a(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$a(tr){var er=_toPrimitive$a(tr,"string");return _typeof$b(er)=="symbol"?er:er+""}function _toPrimitive$a(tr,er){if(_typeof$b(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$b(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var CartesianAxis=function(tr){function er(rr){var nr;return _classCallCheck$8(this,er),nr=_callSuper$7(this,er,[rr]),nr.state={fontSize:"",letterSpacing:""},nr}return _inherits$7(er,tr),_createClass$8(er,[{key:"shouldComponentUpdate",value:function(nr,ir){var ar=nr.viewBox,sr=_objectWithoutProperties$5(nr,_excluded$5),lr=this.props,or=lr.viewBox,cr=_objectWithoutProperties$5(lr,_excluded2$4);return!shallowEqual(ar,or)||!shallowEqual(sr,cr)||!shallowEqual(ir,this.state)}},{key:"componentDidMount",value:function(){var nr=this.layerReference;if(nr){var ir=nr.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];ir&&this.setState({fontSize:window.getComputedStyle(ir).fontSize,letterSpacing:window.getComputedStyle(ir).letterSpacing})}}},{key:"getTickLineCoord",value:function(nr){var ir=this.props,ar=ir.x,sr=ir.y,lr=ir.width,or=ir.height,cr=ir.orientation,ur=ir.tickSize,dr=ir.mirror,hr=ir.tickMargin,fr,mr,br,pr,gr,yr,vr=dr?-1:1,_r=nr.tickSize||ur,xr=isNumber(nr.tickCoord)?nr.tickCoord:nr.coordinate;switch(cr){case"top":fr=mr=nr.coordinate,pr=sr+ +!dr*or,br=pr-vr*_r,yr=br-vr*hr,gr=xr;break;case"left":br=pr=nr.coordinate,mr=ar+ +!dr*lr,fr=mr-vr*_r,gr=fr-vr*hr,yr=xr;break;case"right":br=pr=nr.coordinate,mr=ar+ +dr*lr,fr=mr+vr*_r,gr=fr+vr*hr,yr=xr;break;default:fr=mr=nr.coordinate,pr=sr+ +dr*or,br=pr+vr*_r,yr=br+vr*hr,gr=xr;break}return{line:{x1:fr,y1:br,x2:mr,y2:pr},tick:{x:gr,y:yr}}}},{key:"getTickTextAnchor",value:function(){var nr=this.props,ir=nr.orientation,ar=nr.mirror,sr;switch(ir){case"left":sr=ar?"start":"end";break;case"right":sr=ar?"end":"start";break;default:sr="middle";break}return sr}},{key:"getTickVerticalAnchor",value:function(){var nr=this.props,ir=nr.orientation,ar=nr.mirror,sr="end";switch(ir){case"left":case"right":sr="middle";break;case"top":sr=ar?"start":"end";break;default:sr=ar?"end":"start";break}return sr}},{key:"renderAxisLine",value:function(){var nr=this.props,ir=nr.x,ar=nr.y,sr=nr.width,lr=nr.height,or=nr.orientation,cr=nr.mirror,ur=nr.axisLine,dr=_objectSpread$6(_objectSpread$6(_objectSpread$6({},filterProps(this.props,!1)),filterProps(ur,!1)),{},{fill:"none"});if(or==="top"||or==="bottom"){var hr=+(or==="top"&&!cr||or==="bottom"&&cr);dr=_objectSpread$6(_objectSpread$6({},dr),{},{x1:ir,y1:ar+hr*lr,x2:ir+sr,y2:ar+hr*lr})}else{var fr=+(or==="left"&&!cr||or==="right"&&cr);dr=_objectSpread$6(_objectSpread$6({},dr),{},{x1:ir+fr*sr,y1:ar,x2:ir+fr*sr,y2:ar+lr})}return React.createElement("line",_extends$8({},dr,{className:clsx("recharts-cartesian-axis-line",get$2(ur,"className"))}))}},{key:"renderTicks",value:function(nr,ir,ar){var sr=this,lr=this.props,or=lr.tickLine,cr=lr.stroke,ur=lr.tick,dr=lr.tickFormatter,hr=lr.unit,fr=getTicks(_objectSpread$6(_objectSpread$6({},this.props),{},{ticks:nr}),ir,ar),mr=this.getTickTextAnchor(),br=this.getTickVerticalAnchor(),pr=filterProps(this.props,!1),gr=filterProps(ur,!1),yr=_objectSpread$6(_objectSpread$6({},pr),{},{fill:"none"},filterProps(or,!1)),vr=fr.map(function(_r,xr){var Rr=sr.getTickLineCoord(_r),Cr=Rr.line,Tr=Rr.tick,Ir=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({textAnchor:mr,verticalAnchor:br},pr),{},{stroke:"none",fill:cr},gr),Tr),{},{index:xr,payload:_r,visibleTicksCount:fr.length,tickFormatter:dr});return React.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_r.value,"-").concat(_r.coordinate,"-").concat(_r.tickCoord)},adaptEventsOfChild(sr.props,_r,xr)),or&&React.createElement("line",_extends$8({},yr,Cr,{className:clsx("recharts-cartesian-axis-tick-line",get$2(or,"className"))})),ur&&er.renderTickItem(ur,Ir,"".concat(isFunction$3(dr)?dr(_r.value,xr):_r.value).concat(hr||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},vr)}},{key:"render",value:function(){var nr=this,ir=this.props,ar=ir.axisLine,sr=ir.width,lr=ir.height,or=ir.ticksGenerator,cr=ir.className,ur=ir.hide;if(ur)return null;var dr=this.props,hr=dr.ticks,fr=_objectWithoutProperties$5(dr,_excluded3),mr=hr;return isFunction$3(or)&&(mr=hr&&hr.length>0?or(this.props):or(fr)),sr<=0||lr<=0||!mr||!mr.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",cr),ref:function(pr){nr.layerReference=pr}},ar&&this.renderAxisLine(),this.renderTicks(mr,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(nr,ir,ar){var sr,lr=clsx(ir.className,"recharts-cartesian-axis-tick-value");return React.isValidElement(nr)?sr=React.cloneElement(nr,_objectSpread$6(_objectSpread$6({},ir),{},{className:lr})):isFunction$3(nr)?sr=nr(_objectSpread$6(_objectSpread$6({},ir),{},{className:lr})):sr=React.createElement(Text,_extends$8({},ir,{className:"recharts-cartesian-axis-tick-value"}),ar),sr}}])}(reactExports.Component);_defineProperty$a(CartesianAxis,"displayName","CartesianAxis");_defineProperty$a(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$4=["x1","y1","x2","y2","key"],_excluded2$3=["offset"];function _typeof$a(tr){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$a(tr)}function ownKeys$5(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$5(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$5(Object(rr),!0).forEach(function(nr){_defineProperty$9(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$5(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$9(tr,er,rr){return er=_toPropertyKey$9(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$9(tr){var er=_toPrimitive$9(tr,"string");return _typeof$a(er)=="symbol"?er:er+""}function _toPrimitive$9(tr,er){if(_typeof$a(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$a(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$7.apply(this,arguments)}function _objectWithoutProperties$4(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$4(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$4(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}var Background=function tr(er){var rr=er.fill;if(!rr||rr==="none")return null;var nr=er.fillOpacity,ir=er.x,ar=er.y,sr=er.width,lr=er.height,or=er.ry;return React.createElement("rect",{x:ir,y:ar,ry:or,width:sr,height:lr,stroke:"none",fill:rr,fillOpacity:nr,className:"recharts-cartesian-grid-bg"})};function renderLineItem(tr,er){var rr;if(React.isValidElement(tr))rr=React.cloneElement(tr,er);else if(isFunction$3(tr))rr=tr(er);else{var nr=er.x1,ir=er.y1,ar=er.x2,sr=er.y2,lr=er.key,or=_objectWithoutProperties$4(er,_excluded$4),cr=filterProps(or,!1);cr.offset;var ur=_objectWithoutProperties$4(cr,_excluded2$3);rr=React.createElement("line",_extends$7({},ur,{x1:nr,y1:ir,x2:ar,y2:sr,fill:"none",key:lr}))}return rr}function HorizontalGridLines(tr){var er=tr.x,rr=tr.width,nr=tr.horizontal,ir=nr===void 0?!0:nr,ar=tr.horizontalPoints;if(!ir||!ar||!ar.length)return null;var sr=ar.map(function(lr,or){var cr=_objectSpread$5(_objectSpread$5({},tr),{},{x1:er,y1:lr,x2:er+rr,y2:lr,key:"line-".concat(or),index:or});return renderLineItem(ir,cr)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},sr)}function VerticalGridLines(tr){var er=tr.y,rr=tr.height,nr=tr.vertical,ir=nr===void 0?!0:nr,ar=tr.verticalPoints;if(!ir||!ar||!ar.length)return null;var sr=ar.map(function(lr,or){var cr=_objectSpread$5(_objectSpread$5({},tr),{},{x1:lr,y1:er,x2:lr,y2:er+rr,key:"line-".concat(or),index:or});return renderLineItem(ir,cr)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},sr)}function HorizontalStripes(tr){var er=tr.horizontalFill,rr=tr.fillOpacity,nr=tr.x,ir=tr.y,ar=tr.width,sr=tr.height,lr=tr.horizontalPoints,or=tr.horizontal,cr=or===void 0?!0:or;if(!cr||!er||!er.length)return null;var ur=lr.map(function(hr){return Math.round(hr+ir-ir)}).sort(function(hr,fr){return hr-fr});ir!==ur[0]&&ur.unshift(0);var dr=ur.map(function(hr,fr){var mr=!ur[fr+1],br=mr?ir+sr-hr:ur[fr+1]-hr;if(br<=0)return null;var pr=fr%er.length;return React.createElement("rect",{key:"react-".concat(fr),y:hr,x:nr,height:br,width:ar,stroke:"none",fill:er[pr],fillOpacity:rr,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},dr)}function VerticalStripes(tr){var er=tr.vertical,rr=er===void 0?!0:er,nr=tr.verticalFill,ir=tr.fillOpacity,ar=tr.x,sr=tr.y,lr=tr.width,or=tr.height,cr=tr.verticalPoints;if(!rr||!nr||!nr.length)return null;var ur=cr.map(function(hr){return Math.round(hr+ar-ar)}).sort(function(hr,fr){return hr-fr});ar!==ur[0]&&ur.unshift(0);var dr=ur.map(function(hr,fr){var mr=!ur[fr+1],br=mr?ar+lr-hr:ur[fr+1]-hr;if(br<=0)return null;var pr=fr%nr.length;return React.createElement("rect",{key:"react-".concat(fr),x:hr,y:sr,width:br,height:or,stroke:"none",fill:nr[pr],fillOpacity:ir,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},dr)}var defaultVerticalCoordinatesGenerator=function tr(er,rr){var nr=er.xAxis,ir=er.width,ar=er.height,sr=er.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),nr),{},{ticks:getTicksOfAxis(nr,!0),viewBox:{x:0,y:0,width:ir,height:ar}})),sr.left,sr.left+sr.width,rr)},defaultHorizontalCoordinatesGenerator=function tr(er,rr){var nr=er.yAxis,ir=er.width,ar=er.height,sr=er.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),nr),{},{ticks:getTicksOfAxis(nr,!0),viewBox:{x:0,y:0,width:ir,height:ar}})),sr.top,sr.top+sr.height,rr)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(tr){var er,rr,nr,ir,ar,sr,lr=useChartWidth(),or=useChartHeight(),cr=useOffset(),ur=_objectSpread$5(_objectSpread$5({},tr),{},{stroke:(er=tr.stroke)!==null&&er!==void 0?er:defaultProps.stroke,fill:(rr=tr.fill)!==null&&rr!==void 0?rr:defaultProps.fill,horizontal:(nr=tr.horizontal)!==null&&nr!==void 0?nr:defaultProps.horizontal,horizontalFill:(ir=tr.horizontalFill)!==null&&ir!==void 0?ir:defaultProps.horizontalFill,vertical:(ar=tr.vertical)!==null&&ar!==void 0?ar:defaultProps.vertical,verticalFill:(sr=tr.verticalFill)!==null&&sr!==void 0?sr:defaultProps.verticalFill,x:isNumber(tr.x)?tr.x:cr.left,y:isNumber(tr.y)?tr.y:cr.top,width:isNumber(tr.width)?tr.width:cr.width,height:isNumber(tr.height)?tr.height:cr.height}),dr=ur.x,hr=ur.y,fr=ur.width,mr=ur.height,br=ur.syncWithTicks,pr=ur.horizontalValues,gr=ur.verticalValues,yr=useArbitraryXAxis(),vr=useYAxisWithFiniteDomainOrRandom();if(!isNumber(fr)||fr<=0||!isNumber(mr)||mr<=0||!isNumber(dr)||dr!==+dr||!isNumber(hr)||hr!==+hr)return null;var _r=ur.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,xr=ur.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,Rr=ur.horizontalPoints,Cr=ur.verticalPoints;if((!Rr||!Rr.length)&&isFunction$3(xr)){var Tr=pr&&pr.length,Ir=xr({yAxis:vr?_objectSpread$5(_objectSpread$5({},vr),{},{ticks:Tr?pr:vr.ticks}):void 0,width:lr,height:or,offset:cr},Tr?!0:br);warn(Array.isArray(Ir),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$a(Ir),"]")),Array.isArray(Ir)&&(Rr=Ir)}if((!Cr||!Cr.length)&&isFunction$3(_r)){var Lr=gr&&gr.length,Nr=_r({xAxis:yr?_objectSpread$5(_objectSpread$5({},yr),{},{ticks:Lr?gr:yr.ticks}):void 0,width:lr,height:or,offset:cr},Lr?!0:br);warn(Array.isArray(Nr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$a(Nr),"]")),Array.isArray(Nr)&&(Cr=Nr)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:ur.fill,fillOpacity:ur.fillOpacity,x:ur.x,y:ur.y,width:ur.width,height:ur.height,ry:ur.ry}),React.createElement(HorizontalGridLines,_extends$7({},ur,{offset:cr,horizontalPoints:Rr,xAxis:yr,yAxis:vr})),React.createElement(VerticalGridLines,_extends$7({},ur,{offset:cr,verticalPoints:Cr,xAxis:yr,yAxis:vr})),React.createElement(HorizontalStripes,_extends$7({},ur,{horizontalPoints:Rr})),React.createElement(VerticalStripes,_extends$7({},ur,{verticalPoints:Cr})))}CartesianGrid.displayName="CartesianGrid";var _excluded$3=["type","layout","connectNulls","ref"],_excluded2$2=["key"];function _typeof$9(tr){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$9(tr)}function _objectWithoutProperties$3(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$3(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$3(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$6.apply(this,arguments)}function ownKeys$4(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$4(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$4(Object(rr),!0).forEach(function(nr){_defineProperty$8(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$4(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _toConsumableArray$2(tr){return _arrayWithoutHoles$2(tr)||_iterableToArray$2(tr)||_unsupportedIterableToArray$2(tr)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$2(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$2(tr,er)}}function _iterableToArray$2(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$2(tr){if(Array.isArray(tr))return _arrayLikeToArray$2(tr)}function _arrayLikeToArray$2(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _classCallCheck$7(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$8(nr.key),nr)}}function _createClass$7(tr,er,rr){return er&&_defineProperties$7(tr.prototype,er),rr&&_defineProperties$7(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$6(tr,er,rr){return er=_getPrototypeOf$6(er),_possibleConstructorReturn$6(tr,_isNativeReflectConstruct$6()?Reflect.construct(er,rr||[],_getPrototypeOf$6(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$6(tr,er){if(er&&(_typeof$9(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(tr)}function _assertThisInitialized$6(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$6(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!tr})()}function _getPrototypeOf$6(tr){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$6(tr)}function _inherits$6(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$6(tr,er)}function _setPrototypeOf$6(tr,er){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$6(tr,er)}function _defineProperty$8(tr,er,rr){return er=_toPropertyKey$8(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$8(tr){var er=_toPrimitive$8(tr,"string");return _typeof$9(er)=="symbol"?er:er+""}function _toPrimitive$8(tr,er){if(_typeof$9(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$9(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var Line=function(tr){function er(){var rr;_classCallCheck$7(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$6(this,er,[].concat(ir)),_defineProperty$8(rr,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$8(rr,"generateSimpleStrokeDasharray",function(sr,lr){return"".concat(lr,"px ").concat(sr-lr,"px")}),_defineProperty$8(rr,"getStrokeDasharray",function(sr,lr,or){var cr=or.reduce(function(gr,yr){return gr+yr});if(!cr)return rr.generateSimpleStrokeDasharray(lr,sr);for(var ur=Math.floor(sr/cr),dr=sr%cr,hr=lr-sr,fr=[],mr=0,br=0;mr<or.length;br+=or[mr],++mr)if(br+or[mr]>dr){fr=[].concat(_toConsumableArray$2(or.slice(0,mr)),[dr-br]);break}var pr=fr.length%2===0?[0,hr]:[hr];return[].concat(_toConsumableArray$2(er.repeat(or,ur)),_toConsumableArray$2(fr),pr).map(function(gr){return"".concat(gr,"px")}).join(", ")}),_defineProperty$8(rr,"id",uniqueId("recharts-line-")),_defineProperty$8(rr,"pathRef",function(sr){rr.mainCurve=sr}),_defineProperty$8(rr,"handleAnimationEnd",function(){rr.setState({isAnimationFinished:!0}),rr.props.onAnimationEnd&&rr.props.onAnimationEnd()}),_defineProperty$8(rr,"handleAnimationStart",function(){rr.setState({isAnimationFinished:!1}),rr.props.onAnimationStart&&rr.props.onAnimationStart()}),rr}return _inherits$6(er,tr),_createClass$7(er,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var nr=this.getTotalLength();this.setState({totalLength:nr})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var nr=this.getTotalLength();nr!==this.state.totalLength&&this.setState({totalLength:nr})}}},{key:"getTotalLength",value:function(){var nr=this.mainCurve;try{return nr&&nr.getTotalLength&&nr.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(nr,ir){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var ar=this.props,sr=ar.points,lr=ar.xAxis,or=ar.yAxis,cr=ar.layout,ur=ar.children,dr=findAllByType(ur,ErrorBar);if(!dr)return null;var hr=function(br,pr){return{x:br.x,y:br.y,value:br.value,errorVal:getValueByDataKey(br.payload,pr)}},fr={clipPath:nr?"url(#clipPath-".concat(ir,")"):null};return React.createElement(Layer,fr,dr.map(function(mr){return React.cloneElement(mr,{key:"bar-".concat(mr.props.dataKey),data:sr,xAxis:lr,yAxis:or,layout:cr,dataPointFormatter:hr})}))}},{key:"renderDots",value:function(nr,ir,ar){var sr=this.props.isAnimationActive;if(sr&&!this.state.isAnimationFinished)return null;var lr=this.props,or=lr.dot,cr=lr.points,ur=lr.dataKey,dr=filterProps(this.props,!1),hr=filterProps(or,!0),fr=cr.map(function(br,pr){var gr=_objectSpread$4(_objectSpread$4(_objectSpread$4({key:"dot-".concat(pr),r:3},dr),hr),{},{index:pr,cx:br.x,cy:br.y,value:br.value,dataKey:ur,payload:br.payload,points:cr});return er.renderDotItem(or,gr)}),mr={clipPath:nr?"url(#clipPath-".concat(ir?"":"dots-").concat(ar,")"):null};return React.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},mr),fr)}},{key:"renderCurveStatically",value:function(nr,ir,ar,sr){var lr=this.props,or=lr.type,cr=lr.layout,ur=lr.connectNulls;lr.ref;var dr=_objectWithoutProperties$3(lr,_excluded$3),hr=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(dr,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:ir?"url(#clipPath-".concat(ar,")"):null,points:nr},sr),{},{type:or,layout:cr,connectNulls:ur});return React.createElement(Curve,_extends$6({},hr,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(nr,ir){var ar=this,sr=this.props,lr=sr.points,or=sr.strokeDasharray,cr=sr.isAnimationActive,ur=sr.animationBegin,dr=sr.animationDuration,hr=sr.animationEasing,fr=sr.animationId,mr=sr.animateNewValues,br=sr.width,pr=sr.height,gr=this.state,yr=gr.prevPoints,vr=gr.totalLength;return React.createElement(Animate,{begin:ur,duration:dr,isActive:cr,easing:hr,from:{t:0},to:{t:1},key:"line-".concat(fr),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_r){var xr=_r.t;if(yr){var Rr=yr.length/lr.length,Cr=lr.map(function(Or,Pr){var Mr=Math.floor(Pr*Rr);if(yr[Mr]){var jr=yr[Mr],wr=interpolateNumber$2(jr.x,Or.x),Er=interpolateNumber$2(jr.y,Or.y);return _objectSpread$4(_objectSpread$4({},Or),{},{x:wr(xr),y:Er(xr)})}if(mr){var Ar=interpolateNumber$2(br*2,Or.x),Sr=interpolateNumber$2(pr/2,Or.y);return _objectSpread$4(_objectSpread$4({},Or),{},{x:Ar(xr),y:Sr(xr)})}return _objectSpread$4(_objectSpread$4({},Or),{},{x:Or.x,y:Or.y})});return ar.renderCurveStatically(Cr,nr,ir)}var Tr=interpolateNumber$2(0,vr),Ir=Tr(xr),Lr;if(or){var Nr="".concat(or).split(/[,\s]+/gim).map(function(Or){return parseFloat(Or)});Lr=ar.getStrokeDasharray(Ir,vr,Nr)}else Lr=ar.generateSimpleStrokeDasharray(vr,Ir);return ar.renderCurveStatically(lr,nr,ir,{strokeDasharray:Lr})})}},{key:"renderCurve",value:function(nr,ir){var ar=this.props,sr=ar.points,lr=ar.isAnimationActive,or=this.state,cr=or.prevPoints,ur=or.totalLength;return lr&&sr&&sr.length&&(!cr&&ur>0||!isEqual$1(cr,sr))?this.renderCurveWithAnimation(nr,ir):this.renderCurveStatically(sr,nr,ir)}},{key:"render",value:function(){var nr,ir=this.props,ar=ir.hide,sr=ir.dot,lr=ir.points,or=ir.className,cr=ir.xAxis,ur=ir.yAxis,dr=ir.top,hr=ir.left,fr=ir.width,mr=ir.height,br=ir.isAnimationActive,pr=ir.id;if(ar||!lr||!lr.length)return null;var gr=this.state.isAnimationFinished,yr=lr.length===1,vr=clsx("recharts-line",or),_r=cr&&cr.allowDataOverflow,xr=ur&&ur.allowDataOverflow,Rr=_r||xr,Cr=isNil$1(pr)?this.id:pr,Tr=(nr=filterProps(sr,!1))!==null&&nr!==void 0?nr:{r:3,strokeWidth:2},Ir=Tr.r,Lr=Ir===void 0?3:Ir,Nr=Tr.strokeWidth,Or=Nr===void 0?2:Nr,Pr=hasClipDot(sr)?sr:{},Mr=Pr.clipDot,jr=Mr===void 0?!0:Mr,wr=Lr*2+Or;return React.createElement(Layer,{className:vr},_r||xr?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Cr)},React.createElement("rect",{x:_r?hr:hr-fr/2,y:xr?dr:dr-mr/2,width:_r?fr:fr*2,height:xr?mr:mr*2})),!jr&&React.createElement("clipPath",{id:"clipPath-dots-".concat(Cr)},React.createElement("rect",{x:hr-wr/2,y:dr-wr/2,width:fr+wr,height:mr+wr}))):null,!yr&&this.renderCurve(Rr,Cr),this.renderErrorBar(Rr,Cr),(yr||sr)&&this.renderDots(Rr,jr,Cr),(!br||gr)&&LabelList.renderCallByParent(this.props,lr))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curPoints:nr.points,prevPoints:ir.curPoints}:nr.points!==ir.curPoints?{curPoints:nr.points}:null}},{key:"repeat",value:function(nr,ir){for(var ar=nr.length%2!==0?[].concat(_toConsumableArray$2(nr),[0]):nr,sr=[],lr=0;lr<ir;++lr)sr=[].concat(_toConsumableArray$2(sr),_toConsumableArray$2(ar));return sr}},{key:"renderDotItem",value:function(nr,ir){var ar;if(React.isValidElement(nr))ar=React.cloneElement(nr,ir);else if(isFunction$3(nr))ar=nr(ir);else{var sr=ir.key,lr=_objectWithoutProperties$3(ir,_excluded2$2),or=clsx("recharts-line-dot",typeof nr!="boolean"?nr.className:"");ar=React.createElement(Dot,_extends$6({key:sr},lr,{className:or}))}return ar}}])}(reactExports.PureComponent);_defineProperty$8(Line,"displayName","Line");_defineProperty$8(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$8(Line,"getComposedData",function(tr){var er=tr.props,rr=tr.xAxis,nr=tr.yAxis,ir=tr.xAxisTicks,ar=tr.yAxisTicks,sr=tr.dataKey,lr=tr.bandSize,or=tr.displayedData,cr=tr.offset,ur=er.layout,dr=or.map(function(hr,fr){var mr=getValueByDataKey(hr,sr);return ur==="horizontal"?{x:getCateCoordinateOfLine({axis:rr,ticks:ir,bandSize:lr,entry:hr,index:fr}),y:isNil$1(mr)?null:nr.scale(mr),value:mr,payload:hr}:{x:isNil$1(mr)?null:rr.scale(mr),y:getCateCoordinateOfLine({axis:nr,ticks:ar,bandSize:lr,entry:hr,index:fr}),value:mr,payload:hr}});return _objectSpread$4({points:dr,layout:ur},cr)});var _excluded$2=["layout","type","stroke","connectNulls","isRange","ref"],_excluded2$1=["key"],_Area;function _typeof$8(tr){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$8(tr)}function _objectWithoutProperties$2(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$2(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$2(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$5.apply(this,arguments)}function ownKeys$3(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$3(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$3(Object(rr),!0).forEach(function(nr){_defineProperty$7(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$3(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$6(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$7(nr.key),nr)}}function _createClass$6(tr,er,rr){return er&&_defineProperties$6(tr.prototype,er),rr&&_defineProperties$6(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$5(tr,er,rr){return er=_getPrototypeOf$5(er),_possibleConstructorReturn$5(tr,_isNativeReflectConstruct$5()?Reflect.construct(er,rr||[],_getPrototypeOf$5(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$5(tr,er){if(er&&(_typeof$8(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(tr)}function _assertThisInitialized$5(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$5(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!tr})()}function _getPrototypeOf$5(tr){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$5(tr)}function _inherits$5(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$5(tr,er)}function _setPrototypeOf$5(tr,er){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$5(tr,er)}function _defineProperty$7(tr,er,rr){return er=_toPropertyKey$7(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$7(tr){var er=_toPrimitive$7(tr,"string");return _typeof$8(er)=="symbol"?er:er+""}function _toPrimitive$7(tr,er){if(_typeof$8(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$8(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var Area=function(tr){function er(){var rr;_classCallCheck$6(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$5(this,er,[].concat(ir)),_defineProperty$7(rr,"state",{isAnimationFinished:!0}),_defineProperty$7(rr,"id",uniqueId("recharts-area-")),_defineProperty$7(rr,"handleAnimationEnd",function(){var sr=rr.props.onAnimationEnd;rr.setState({isAnimationFinished:!0}),isFunction$3(sr)&&sr()}),_defineProperty$7(rr,"handleAnimationStart",function(){var sr=rr.props.onAnimationStart;rr.setState({isAnimationFinished:!1}),isFunction$3(sr)&&sr()}),rr}return _inherits$5(er,tr),_createClass$6(er,[{key:"renderDots",value:function(nr,ir,ar){var sr=this.props.isAnimationActive,lr=this.state.isAnimationFinished;if(sr&&!lr)return null;var or=this.props,cr=or.dot,ur=or.points,dr=or.dataKey,hr=filterProps(this.props,!1),fr=filterProps(cr,!0),mr=ur.map(function(pr,gr){var yr=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(gr),r:3},hr),fr),{},{index:gr,cx:pr.x,cy:pr.y,dataKey:dr,value:pr.value,payload:pr.payload,points:ur});return er.renderDotItem(cr,yr)}),br={clipPath:nr?"url(#clipPath-".concat(ir?"":"dots-").concat(ar,")"):null};return React.createElement(Layer,_extends$5({className:"recharts-area-dots"},br),mr)}},{key:"renderHorizontalRect",value:function(nr){var ir=this.props,ar=ir.baseLine,sr=ir.points,lr=ir.strokeWidth,or=sr[0].x,cr=sr[sr.length-1].x,ur=nr*Math.abs(or-cr),dr=max$2(sr.map(function(hr){return hr.y||0}));return isNumber(ar)&&typeof ar=="number"?dr=Math.max(ar,dr):ar&&Array.isArray(ar)&&ar.length&&(dr=Math.max(max$2(ar.map(function(hr){return hr.y||0})),dr)),isNumber(dr)?React.createElement("rect",{x:or<cr?or:or-ur,y:0,width:ur,height:Math.floor(dr+(lr?parseInt("".concat(lr),10):1))}):null}},{key:"renderVerticalRect",value:function(nr){var ir=this.props,ar=ir.baseLine,sr=ir.points,lr=ir.strokeWidth,or=sr[0].y,cr=sr[sr.length-1].y,ur=nr*Math.abs(or-cr),dr=max$2(sr.map(function(hr){return hr.x||0}));return isNumber(ar)&&typeof ar=="number"?dr=Math.max(ar,dr):ar&&Array.isArray(ar)&&ar.length&&(dr=Math.max(max$2(ar.map(function(hr){return hr.x||0})),dr)),isNumber(dr)?React.createElement("rect",{x:0,y:or<cr?or:or-ur,width:dr+(lr?parseInt("".concat(lr),10):1),height:Math.floor(ur)}):null}},{key:"renderClipRect",value:function(nr){var ir=this.props.layout;return ir==="vertical"?this.renderVerticalRect(nr):this.renderHorizontalRect(nr)}},{key:"renderAreaStatically",value:function(nr,ir,ar,sr){var lr=this.props,or=lr.layout,cr=lr.type,ur=lr.stroke,dr=lr.connectNulls,hr=lr.isRange;lr.ref;var fr=_objectWithoutProperties$2(lr,_excluded$2);return React.createElement(Layer,{clipPath:ar?"url(#clipPath-".concat(sr,")"):null},React.createElement(Curve,_extends$5({},filterProps(fr,!0),{points:nr,connectNulls:dr,type:cr,baseLine:ir,layout:or,stroke:"none",className:"recharts-area-area"})),ur!=="none"&&React.createElement(Curve,_extends$5({},filterProps(this.props,!1),{className:"recharts-area-curve",layout:or,type:cr,connectNulls:dr,fill:"none",points:nr})),ur!=="none"&&hr&&React.createElement(Curve,_extends$5({},filterProps(this.props,!1),{className:"recharts-area-curve",layout:or,type:cr,connectNulls:dr,fill:"none",points:ir})))}},{key:"renderAreaWithAnimation",value:function(nr,ir){var ar=this,sr=this.props,lr=sr.points,or=sr.baseLine,cr=sr.isAnimationActive,ur=sr.animationBegin,dr=sr.animationDuration,hr=sr.animationEasing,fr=sr.animationId,mr=this.state,br=mr.prevPoints,pr=mr.prevBaseLine;return React.createElement(Animate,{begin:ur,duration:dr,isActive:cr,easing:hr,from:{t:0},to:{t:1},key:"area-".concat(fr),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(gr){var yr=gr.t;if(br){var vr=br.length/lr.length,_r=lr.map(function(Tr,Ir){var Lr=Math.floor(Ir*vr);if(br[Lr]){var Nr=br[Lr],Or=interpolateNumber$2(Nr.x,Tr.x),Pr=interpolateNumber$2(Nr.y,Tr.y);return _objectSpread$3(_objectSpread$3({},Tr),{},{x:Or(yr),y:Pr(yr)})}return Tr}),xr;if(isNumber(or)&&typeof or=="number"){var Rr=interpolateNumber$2(pr,or);xr=Rr(yr)}else if(isNil$1(or)||isNan(or)){var Cr=interpolateNumber$2(pr,0);xr=Cr(yr)}else xr=or.map(function(Tr,Ir){var Lr=Math.floor(Ir*vr);if(pr[Lr]){var Nr=pr[Lr],Or=interpolateNumber$2(Nr.x,Tr.x),Pr=interpolateNumber$2(Nr.y,Tr.y);return _objectSpread$3(_objectSpread$3({},Tr),{},{x:Or(yr),y:Pr(yr)})}return Tr});return ar.renderAreaStatically(_r,xr,nr,ir)}return React.createElement(Layer,null,React.createElement("defs",null,React.createElement("clipPath",{id:"animationClipPath-".concat(ir)},ar.renderClipRect(yr))),React.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(ir,")")},ar.renderAreaStatically(lr,or,nr,ir)))})}},{key:"renderArea",value:function(nr,ir){var ar=this.props,sr=ar.points,lr=ar.baseLine,or=ar.isAnimationActive,cr=this.state,ur=cr.prevPoints,dr=cr.prevBaseLine,hr=cr.totalLength;return or&&sr&&sr.length&&(!ur&&hr>0||!isEqual$1(ur,sr)||!isEqual$1(dr,lr))?this.renderAreaWithAnimation(nr,ir):this.renderAreaStatically(sr,lr,nr,ir)}},{key:"render",value:function(){var nr,ir=this.props,ar=ir.hide,sr=ir.dot,lr=ir.points,or=ir.className,cr=ir.top,ur=ir.left,dr=ir.xAxis,hr=ir.yAxis,fr=ir.width,mr=ir.height,br=ir.isAnimationActive,pr=ir.id;if(ar||!lr||!lr.length)return null;var gr=this.state.isAnimationFinished,yr=lr.length===1,vr=clsx("recharts-area",or),_r=dr&&dr.allowDataOverflow,xr=hr&&hr.allowDataOverflow,Rr=_r||xr,Cr=isNil$1(pr)?this.id:pr,Tr=(nr=filterProps(sr,!1))!==null&&nr!==void 0?nr:{r:3,strokeWidth:2},Ir=Tr.r,Lr=Ir===void 0?3:Ir,Nr=Tr.strokeWidth,Or=Nr===void 0?2:Nr,Pr=hasClipDot(sr)?sr:{},Mr=Pr.clipDot,jr=Mr===void 0?!0:Mr,wr=Lr*2+Or;return React.createElement(Layer,{className:vr},_r||xr?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Cr)},React.createElement("rect",{x:_r?ur:ur-fr/2,y:xr?cr:cr-mr/2,width:_r?fr:fr*2,height:xr?mr:mr*2})),!jr&&React.createElement("clipPath",{id:"clipPath-dots-".concat(Cr)},React.createElement("rect",{x:ur-wr/2,y:cr-wr/2,width:fr+wr,height:mr+wr}))):null,yr?null:this.renderArea(Rr,Cr),(sr||yr)&&this.renderDots(Rr,jr,Cr),(!br||gr)&&LabelList.renderCallByParent(this.props,lr))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curPoints:nr.points,curBaseLine:nr.baseLine,prevPoints:ir.curPoints,prevBaseLine:ir.curBaseLine}:nr.points!==ir.curPoints||nr.baseLine!==ir.curBaseLine?{curPoints:nr.points,curBaseLine:nr.baseLine}:null}}])}(reactExports.PureComponent);_Area=Area;_defineProperty$7(Area,"displayName","Area");_defineProperty$7(Area,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$7(Area,"getBaseValue",function(tr,er,rr,nr){var ir=tr.layout,ar=tr.baseValue,sr=er.props.baseValue,lr=sr??ar;if(isNumber(lr)&&typeof lr=="number")return lr;var or=ir==="horizontal"?nr:rr,cr=or.scale.domain();if(or.type==="number"){var ur=Math.max(cr[0],cr[1]),dr=Math.min(cr[0],cr[1]);return lr==="dataMin"?dr:lr==="dataMax"||ur<0?ur:Math.max(Math.min(cr[0],cr[1]),0)}return lr==="dataMin"?cr[0]:lr==="dataMax"?cr[1]:cr[0]});_defineProperty$7(Area,"getComposedData",function(tr){var er=tr.props,rr=tr.item,nr=tr.xAxis,ir=tr.yAxis,ar=tr.xAxisTicks,sr=tr.yAxisTicks,lr=tr.bandSize,or=tr.dataKey,cr=tr.stackedData,ur=tr.dataStartIndex,dr=tr.displayedData,hr=tr.offset,fr=er.layout,mr=cr&&cr.length,br=_Area.getBaseValue(er,rr,nr,ir),pr=fr==="horizontal",gr=!1,yr=dr.map(function(_r,xr){var Rr;mr?Rr=cr[ur+xr]:(Rr=getValueByDataKey(_r,or),Array.isArray(Rr)?gr=!0:Rr=[br,Rr]);var Cr=Rr[1]==null||mr&&getValueByDataKey(_r,or)==null;return pr?{x:getCateCoordinateOfLine({axis:nr,ticks:ar,bandSize:lr,entry:_r,index:xr}),y:Cr?null:ir.scale(Rr[1]),value:Rr,payload:_r}:{x:Cr?null:nr.scale(Rr[1]),y:getCateCoordinateOfLine({axis:ir,ticks:sr,bandSize:lr,entry:_r,index:xr}),value:Rr,payload:_r}}),vr;return mr||gr?vr=yr.map(function(_r){var xr=Array.isArray(_r.value)?_r.value[0]:null;return pr?{x:_r.x,y:xr!=null&&_r.y!=null?ir.scale(xr):null}:{x:xr!=null?nr.scale(xr):null,y:_r.y}}):vr=pr?ir.scale(br):nr.scale(br),_objectSpread$3({points:yr,baseLine:vr,layout:fr,isRange:gr},hr)});_defineProperty$7(Area,"renderDotItem",function(tr,er){var rr;if(React.isValidElement(tr))rr=React.cloneElement(tr,er);else if(isFunction$3(tr))rr=tr(er);else{var nr=clsx("recharts-area-dot",typeof tr!="boolean"?tr.className:""),ir=er.key,ar=_objectWithoutProperties$2(er,_excluded2$1);rr=React.createElement(Dot,_extends$5({},ar,{key:ir,className:nr}))}return rr});function _typeof$7(tr){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$7(tr)}function _classCallCheck$5(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$6(nr.key),nr)}}function _createClass$5(tr,er,rr){return er&&_defineProperties$5(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$4(tr,er,rr){return er=_getPrototypeOf$4(er),_possibleConstructorReturn$4(tr,_isNativeReflectConstruct$4()?Reflect.construct(er,rr||[],_getPrototypeOf$4(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$4(tr,er){if(er&&(_typeof$7(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(tr)}function _assertThisInitialized$4(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$4(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!tr})()}function _getPrototypeOf$4(tr){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$4(tr)}function _inherits$4(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$4(tr,er)}function _setPrototypeOf$4(tr,er){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$4(tr,er)}function _defineProperty$6(tr,er,rr){return er=_toPropertyKey$6(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$6(tr){var er=_toPrimitive$6(tr,"string");return _typeof$7(er)=="symbol"?er:er+""}function _toPrimitive$6(tr,er){if(_typeof$7(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$7(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var ZAxis=function(tr){function er(){return _classCallCheck$5(this,er),_callSuper$4(this,er,arguments)}return _inherits$4(er,tr),_createClass$5(er,[{key:"render",value:function(){return null}}])}(reactExports.Component);_defineProperty$6(ZAxis,"displayName","ZAxis");_defineProperty$6(ZAxis,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var _excluded$1=["option","isActive"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$4.apply(this,arguments)}function _objectWithoutProperties$1(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$1(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$1(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function ScatterSymbol(tr){var er=tr.option,rr=tr.isActive,nr=_objectWithoutProperties$1(tr,_excluded$1);return typeof er=="string"?reactExports.createElement(Shape,_extends$4({option:reactExports.createElement(Symbols,_extends$4({type:er},nr)),isActive:rr,shapeType:"symbols"},nr)):reactExports.createElement(Shape,_extends$4({option:er,isActive:rr,shapeType:"symbols"},nr))}function _typeof$6(tr){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$6(tr)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$3.apply(this,arguments)}function ownKeys$2(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$2(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$2(Object(rr),!0).forEach(function(nr){_defineProperty$5(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$2(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$4(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$5(nr.key),nr)}}function _createClass$4(tr,er,rr){return er&&_defineProperties$4(tr.prototype,er),rr&&_defineProperties$4(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$3(tr,er,rr){return er=_getPrototypeOf$3(er),_possibleConstructorReturn$3(tr,_isNativeReflectConstruct$3()?Reflect.construct(er,rr||[],_getPrototypeOf$3(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$3(tr,er){if(er&&(_typeof$6(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(tr)}function _assertThisInitialized$3(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$3(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!tr})()}function _getPrototypeOf$3(tr){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$3(tr)}function _inherits$3(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$3(tr,er)}function _setPrototypeOf$3(tr,er){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$3(tr,er)}function _defineProperty$5(tr,er,rr){return er=_toPropertyKey$5(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$5(tr){var er=_toPrimitive$5(tr,"string");return _typeof$6(er)=="symbol"?er:er+""}function _toPrimitive$5(tr,er){if(_typeof$6(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$6(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var Scatter=function(tr){function er(){var rr;_classCallCheck$4(this,er);for(var nr=arguments.length,ir=new Array(nr),ar=0;ar<nr;ar++)ir[ar]=arguments[ar];return rr=_callSuper$3(this,er,[].concat(ir)),_defineProperty$5(rr,"state",{isAnimationFinished:!1}),_defineProperty$5(rr,"handleAnimationEnd",function(){rr.setState({isAnimationFinished:!0})}),_defineProperty$5(rr,"handleAnimationStart",function(){rr.setState({isAnimationFinished:!1})}),_defineProperty$5(rr,"id",uniqueId("recharts-scatter-")),rr}return _inherits$3(er,tr),_createClass$4(er,[{key:"renderSymbolsStatically",value:function(nr){var ir=this,ar=this.props,sr=ar.shape,lr=ar.activeShape,or=ar.activeIndex,cr=filterProps(this.props,!1);return nr.map(function(ur,dr){var hr=or===dr,fr=hr?lr:sr,mr=_objectSpread$2(_objectSpread$2({},cr),ur);return React.createElement(Layer,_extends$3({className:"recharts-scatter-symbol",key:"symbol-".concat(ur==null?void 0:ur.cx,"-").concat(ur==null?void 0:ur.cy,"-").concat(ur==null?void 0:ur.size,"-").concat(dr)},adaptEventsOfChild(ir.props,ur,dr),{role:"img"}),React.createElement(ScatterSymbol,_extends$3({option:fr,isActive:hr,key:"symbol-".concat(dr)},mr)))})}},{key:"renderSymbolsWithAnimation",value:function(){var nr=this,ir=this.props,ar=ir.points,sr=ir.isAnimationActive,lr=ir.animationBegin,or=ir.animationDuration,cr=ir.animationEasing,ur=ir.animationId,dr=this.state.prevPoints;return React.createElement(Animate,{begin:lr,duration:or,isActive:sr,easing:cr,from:{t:0},to:{t:1},key:"pie-".concat(ur),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(hr){var fr=hr.t,mr=ar.map(function(br,pr){var gr=dr&&dr[pr];if(gr){var yr=interpolateNumber$2(gr.cx,br.cx),vr=interpolateNumber$2(gr.cy,br.cy),_r=interpolateNumber$2(gr.size,br.size);return _objectSpread$2(_objectSpread$2({},br),{},{cx:yr(fr),cy:vr(fr),size:_r(fr)})}var xr=interpolateNumber$2(0,br.size);return _objectSpread$2(_objectSpread$2({},br),{},{size:xr(fr)})});return React.createElement(Layer,null,nr.renderSymbolsStatically(mr))})}},{key:"renderSymbols",value:function(){var nr=this.props,ir=nr.points,ar=nr.isAnimationActive,sr=this.state.prevPoints;return ar&&ir&&ir.length&&(!sr||!isEqual$1(sr,ir))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(ir)}},{key:"renderErrorBar",value:function(){var nr=this.props.isAnimationActive;if(nr&&!this.state.isAnimationFinished)return null;var ir=this.props,ar=ir.points,sr=ir.xAxis,lr=ir.yAxis,or=ir.children,cr=findAllByType(or,ErrorBar);return cr?cr.map(function(ur,dr){var hr=ur.props,fr=hr.direction,mr=hr.dataKey;return React.cloneElement(ur,{key:"".concat(fr,"-").concat(mr,"-").concat(ar[dr]),data:ar,xAxis:sr,yAxis:lr,layout:fr==="x"?"vertical":"horizontal",dataPointFormatter:function(pr,gr){return{x:pr.cx,y:pr.cy,value:fr==="x"?+pr.node.x:+pr.node.y,errorVal:getValueByDataKey(pr,gr)}}})}):null}},{key:"renderLine",value:function(){var nr=this.props,ir=nr.points,ar=nr.line,sr=nr.lineType,lr=nr.lineJointType,or=filterProps(this.props,!1),cr=filterProps(ar,!1),ur,dr;if(sr==="joint")ur=ir.map(function(vr){return{x:vr.cx,y:vr.cy}});else if(sr==="fitting"){var hr=getLinearRegression(ir),fr=hr.xmin,mr=hr.xmax,br=hr.a,pr=hr.b,gr=function(_r){return br*_r+pr};ur=[{x:fr,y:gr(fr)},{x:mr,y:gr(mr)}]}var yr=_objectSpread$2(_objectSpread$2(_objectSpread$2({},or),{},{fill:"none",stroke:or&&or.fill},cr),{},{points:ur});return React.isValidElement(ar)?dr=React.cloneElement(ar,yr):isFunction$3(ar)?dr=ar(yr):dr=React.createElement(Curve,_extends$3({},yr,{type:lr})),React.createElement(Layer,{className:"recharts-scatter-line",key:"recharts-scatter-line"},dr)}},{key:"render",value:function(){var nr=this.props,ir=nr.hide,ar=nr.points,sr=nr.line,lr=nr.className,or=nr.xAxis,cr=nr.yAxis,ur=nr.left,dr=nr.top,hr=nr.width,fr=nr.height,mr=nr.id,br=nr.isAnimationActive;if(ir||!ar||!ar.length)return null;var pr=this.state.isAnimationFinished,gr=clsx("recharts-scatter",lr),yr=or&&or.allowDataOverflow,vr=cr&&cr.allowDataOverflow,_r=yr||vr,xr=isNil$1(mr)?this.id:mr;return React.createElement(Layer,{className:gr,clipPath:_r?"url(#clipPath-".concat(xr,")"):null},yr||vr?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(xr)},React.createElement("rect",{x:yr?ur:ur-hr/2,y:vr?dr:dr-fr/2,width:yr?hr:hr*2,height:vr?fr:fr*2}))):null,sr&&this.renderLine(),this.renderErrorBar(),React.createElement(Layer,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!br||pr)&&LabelList.renderCallByParent(this.props,ar))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curPoints:nr.points,prevPoints:ir.curPoints}:nr.points!==ir.curPoints?{curPoints:nr.points}:null}}])}(reactExports.PureComponent);_defineProperty$5(Scatter,"displayName","Scatter");_defineProperty$5(Scatter,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});_defineProperty$5(Scatter,"getComposedData",function(tr){var er=tr.xAxis,rr=tr.yAxis,nr=tr.zAxis,ir=tr.item,ar=tr.displayedData,sr=tr.xAxisTicks,lr=tr.yAxisTicks,or=tr.offset,cr=ir.props.tooltipType,ur=findAllByType(ir.props.children,Cell),dr=isNil$1(er.dataKey)?ir.props.dataKey:er.dataKey,hr=isNil$1(rr.dataKey)?ir.props.dataKey:rr.dataKey,fr=nr&&nr.dataKey,mr=nr?nr.range:ZAxis.defaultProps.range,br=mr&&mr[0],pr=er.scale.bandwidth?er.scale.bandwidth():0,gr=rr.scale.bandwidth?rr.scale.bandwidth():0,yr=ar.map(function(vr,_r){var xr=getValueByDataKey(vr,dr),Rr=getValueByDataKey(vr,hr),Cr=!isNil$1(fr)&&getValueByDataKey(vr,fr)||"-",Tr=[{name:isNil$1(er.dataKey)?ir.props.name:er.name||er.dataKey,unit:er.unit||"",value:xr,payload:vr,dataKey:dr,type:cr},{name:isNil$1(rr.dataKey)?ir.props.name:rr.name||rr.dataKey,unit:rr.unit||"",value:Rr,payload:vr,dataKey:hr,type:cr}];Cr!=="-"&&Tr.push({name:nr.name||nr.dataKey,unit:nr.unit||"",value:Cr,payload:vr,dataKey:fr,type:cr});var Ir=getCateCoordinateOfLine({axis:er,ticks:sr,bandSize:pr,entry:vr,index:_r,dataKey:dr}),Lr=getCateCoordinateOfLine({axis:rr,ticks:lr,bandSize:gr,entry:vr,index:_r,dataKey:hr}),Nr=Cr!=="-"?nr.scale(Cr):br,Or=Math.sqrt(Math.max(Nr,0)/Math.PI);return _objectSpread$2(_objectSpread$2({},vr),{},{cx:Ir,cy:Lr,x:Ir-Or,y:Lr-Or,xAxis:er,yAxis:rr,zAxis:nr,width:2*Or,height:2*Or,size:Nr,node:{x:xr,y:Rr,z:Cr},tooltipPayload:Tr,tooltipPosition:{x:Ir,y:Lr},payload:vr},ur&&ur[_r]&&ur[_r].props)});return _objectSpread$2({points:yr},or)});function _typeof$5(tr){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$5(tr)}function _classCallCheck$3(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$4(nr.key),nr)}}function _createClass$3(tr,er,rr){return er&&_defineProperties$3(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$2(tr,er,rr){return er=_getPrototypeOf$2(er),_possibleConstructorReturn$2(tr,_isNativeReflectConstruct$2()?Reflect.construct(er,rr||[],_getPrototypeOf$2(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$2(tr,er){if(er&&(_typeof$5(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(tr)}function _assertThisInitialized$2(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$2(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!tr})()}function _getPrototypeOf$2(tr){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$2(tr)}function _inherits$2(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$2(tr,er)}function _setPrototypeOf$2(tr,er){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$2(tr,er)}function _defineProperty$4(tr,er,rr){return er=_toPropertyKey$4(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$4(tr){var er=_toPrimitive$4(tr,"string");return _typeof$5(er)=="symbol"?er:er+""}function _toPrimitive$4(tr,er){if(_typeof$5(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$5(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$2.apply(this,arguments)}function XAxisImpl(tr){var er=tr.xAxisId,rr=useChartWidth(),nr=useChartHeight(),ir=useXAxisOrThrow(er);return ir==null?null:reactExports.createElement(CartesianAxis,_extends$2({},ir,{className:clsx("recharts-".concat(ir.axisType," ").concat(ir.axisType),ir.className),viewBox:{x:0,y:0,width:rr,height:nr},ticksGenerator:function(sr){return getTicksOfAxis(sr,!0)}}))}var XAxis=function(tr){function er(){return _classCallCheck$3(this,er),_callSuper$2(this,er,arguments)}return _inherits$2(er,tr),_createClass$3(er,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$4(tr){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$4(tr)}function _classCallCheck$2(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$3(nr.key),nr)}}function _createClass$2(tr,er,rr){return er&&_defineProperties$2(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$1(tr,er,rr){return er=_getPrototypeOf$1(er),_possibleConstructorReturn$1(tr,_isNativeReflectConstruct$1()?Reflect.construct(er,rr||[],_getPrototypeOf$1(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$1(tr,er){if(er&&(_typeof$4(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(tr)}function _assertThisInitialized$1(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$1(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!tr})()}function _getPrototypeOf$1(tr){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$1(tr)}function _inherits$1(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$1(tr,er)}function _setPrototypeOf$1(tr,er){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$1(tr,er)}function _defineProperty$3(tr,er,rr){return er=_toPropertyKey$3(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$3(tr){var er=_toPrimitive$3(tr,"string");return _typeof$4(er)=="symbol"?er:er+""}function _toPrimitive$3(tr,er){if(_typeof$4(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$4(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$1.apply(this,arguments)}var YAxisImpl=function tr(er){var rr=er.yAxisId,nr=useChartWidth(),ir=useChartHeight(),ar=useYAxisOrThrow(rr);return ar==null?null:reactExports.createElement(CartesianAxis,_extends$1({},ar,{className:clsx("recharts-".concat(ar.axisType," ").concat(ar.axisType),ar.className),viewBox:{x:0,y:0,width:nr,height:ir},ticksGenerator:function(lr){return getTicksOfAxis(lr,!0)}}))},YAxis=function(tr){function er(){return _classCallCheck$2(this,er),_callSuper$1(this,er,arguments)}return _inherits$1(er,tr),_createClass$2(er,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(tr){return _arrayWithoutHoles$1(tr)||_iterableToArray$1(tr)||_unsupportedIterableToArray$1(tr)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$1(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$1(tr,er)}}function _iterableToArray$1(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$1(tr){if(Array.isArray(tr))return _arrayLikeToArray$1(tr)}function _arrayLikeToArray$1(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var detectReferenceElementsDomain=function tr(er,rr,nr,ir,ar){var sr=findAllByType(er,ReferenceLine),lr=findAllByType(er,ReferenceDot),or=[].concat(_toConsumableArray$1(sr),_toConsumableArray$1(lr)),cr=findAllByType(er,ReferenceArea),ur="".concat(ir,"Id"),dr=ir[0],hr=rr;if(or.length&&(hr=or.reduce(function(br,pr){if(pr.props[ur]===nr&&ifOverflowMatches(pr.props,"extendDomain")&&isNumber(pr.props[dr])){var gr=pr.props[dr];return[Math.min(br[0],gr),Math.max(br[1],gr)]}return br},hr)),cr.length){var fr="".concat(dr,"1"),mr="".concat(dr,"2");hr=cr.reduce(function(br,pr){if(pr.props[ur]===nr&&ifOverflowMatches(pr.props,"extendDomain")&&isNumber(pr.props[fr])&&isNumber(pr.props[mr])){var gr=pr.props[fr],yr=pr.props[mr];return[Math.min(br[0],gr,yr),Math.max(br[1],gr,yr)]}return br},hr)}return ar&&ar.length&&(hr=ar.reduce(function(br,pr){return isNumber(pr)?[Math.min(br[0],pr),Math.max(br[1],pr)]:br},hr)),hr},eventemitter3={exports:{}};(function(tr){var er=Object.prototype.hasOwnProperty,rr="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(rr=!1));function ir(or,cr,ur){this.fn=or,this.context=cr,this.once=ur||!1}function ar(or,cr,ur,dr,hr){if(typeof ur!="function")throw new TypeError("The listener must be a function");var fr=new ir(ur,dr||or,hr),mr=rr?rr+cr:cr;return or._events[mr]?or._events[mr].fn?or._events[mr]=[or._events[mr],fr]:or._events[mr].push(fr):(or._events[mr]=fr,or._eventsCount++),or}function sr(or,cr){--or._eventsCount===0?or._events=new nr:delete or._events[cr]}function lr(){this._events=new nr,this._eventsCount=0}lr.prototype.eventNames=function(){var cr=[],ur,dr;if(this._eventsCount===0)return cr;for(dr in ur=this._events)er.call(ur,dr)&&cr.push(rr?dr.slice(1):dr);return Object.getOwnPropertySymbols?cr.concat(Object.getOwnPropertySymbols(ur)):cr},lr.prototype.listeners=function(cr){var ur=rr?rr+cr:cr,dr=this._events[ur];if(!dr)return[];if(dr.fn)return[dr.fn];for(var hr=0,fr=dr.length,mr=new Array(fr);hr<fr;hr++)mr[hr]=dr[hr].fn;return mr},lr.prototype.listenerCount=function(cr){var ur=rr?rr+cr:cr,dr=this._events[ur];return dr?dr.fn?1:dr.length:0},lr.prototype.emit=function(cr,ur,dr,hr,fr,mr){var br=rr?rr+cr:cr;if(!this._events[br])return!1;var pr=this._events[br],gr=arguments.length,yr,vr;if(pr.fn){switch(pr.once&&this.removeListener(cr,pr.fn,void 0,!0),gr){case 1:return pr.fn.call(pr.context),!0;case 2:return pr.fn.call(pr.context,ur),!0;case 3:return pr.fn.call(pr.context,ur,dr),!0;case 4:return pr.fn.call(pr.context,ur,dr,hr),!0;case 5:return pr.fn.call(pr.context,ur,dr,hr,fr),!0;case 6:return pr.fn.call(pr.context,ur,dr,hr,fr,mr),!0}for(vr=1,yr=new Array(gr-1);vr<gr;vr++)yr[vr-1]=arguments[vr];pr.fn.apply(pr.context,yr)}else{var _r=pr.length,xr;for(vr=0;vr<_r;vr++)switch(pr[vr].once&&this.removeListener(cr,pr[vr].fn,void 0,!0),gr){case 1:pr[vr].fn.call(pr[vr].context);break;case 2:pr[vr].fn.call(pr[vr].context,ur);break;case 3:pr[vr].fn.call(pr[vr].context,ur,dr);break;case 4:pr[vr].fn.call(pr[vr].context,ur,dr,hr);break;default:if(!yr)for(xr=1,yr=new Array(gr-1);xr<gr;xr++)yr[xr-1]=arguments[xr];pr[vr].fn.apply(pr[vr].context,yr)}}return!0},lr.prototype.on=function(cr,ur,dr){return ar(this,cr,ur,dr,!1)},lr.prototype.once=function(cr,ur,dr){return ar(this,cr,ur,dr,!0)},lr.prototype.removeListener=function(cr,ur,dr,hr){var fr=rr?rr+cr:cr;if(!this._events[fr])return this;if(!ur)return sr(this,fr),this;var mr=this._events[fr];if(mr.fn)mr.fn===ur&&(!hr||mr.once)&&(!dr||mr.context===dr)&&sr(this,fr);else{for(var br=0,pr=[],gr=mr.length;br<gr;br++)(mr[br].fn!==ur||hr&&!mr[br].once||dr&&mr[br].context!==dr)&&pr.push(mr[br]);pr.length?this._events[fr]=pr.length===1?pr[0]:pr:sr(this,fr)}return this},lr.prototype.removeAllListeners=function(cr){var ur;return cr?(ur=rr?rr+cr:cr,this._events[ur]&&sr(this,ur)):(this._events=new nr,this._eventsCount=0),this},lr.prototype.off=lr.prototype.removeListener,lr.prototype.addListener=lr.prototype.on,lr.prefixed=rr,lr.EventEmitter=lr,tr.exports=lr})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(tr){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$3(tr)}function _classCallCheck$1(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$2(nr.key),nr)}}function _createClass$1(tr,er,rr){return er&&_defineProperties$1(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _defineProperty$2(tr,er,rr){return er=_toPropertyKey$2(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$2(tr){var er=_toPrimitive$2(tr,"string");return _typeof$3(er)=="symbol"?er:er+""}function _toPrimitive$2(tr,er){if(_typeof$3(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$3(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var AccessibilityManager=function(){function tr(){_classCallCheck$1(this,tr),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(tr,[{key:"setDetails",value:function(rr){var nr,ir=rr.coordinateList,ar=ir===void 0?null:ir,sr=rr.container,lr=sr===void 0?null:sr,or=rr.layout,cr=or===void 0?null:or,ur=rr.offset,dr=ur===void 0?null:ur,hr=rr.mouseHandlerCallback,fr=hr===void 0?null:hr;this.coordinateList=(nr=ar??this.coordinateList)!==null&&nr!==void 0?nr:[],this.container=lr??this.container,this.layout=cr??this.layout,this.offset=dr??this.offset,this.mouseHandlerCallback=fr??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(rr){if(this.coordinateList.length!==0)switch(rr.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(rr){this.activeIndex=rr}},{key:"spoofMouse",value:function(){var rr,nr;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var ir=this.container.getBoundingClientRect(),ar=ir.x,sr=ir.y,lr=ir.height,or=this.coordinateList[this.activeIndex].coordinate,cr=((rr=window)===null||rr===void 0?void 0:rr.scrollX)||0,ur=((nr=window)===null||nr===void 0?void 0:nr.scrollY)||0,dr=ar+or+cr,hr=sr+this.offset.top+lr/2+ur;this.mouseHandlerCallback({pageX:dr,pageY:hr})}}}])}();function isDomainSpecifiedByUser(tr,er,rr){if(rr==="number"&&er===!0&&Array.isArray(tr)){var nr=tr==null?void 0:tr[0],ir=tr==null?void 0:tr[1];if(nr&&ir&&isNumber(nr)&&isNumber(ir))return!0}return!1}function getCursorRectangle(tr,er,rr,nr){var ir=nr/2;return{stroke:"none",fill:"#ccc",x:tr==="horizontal"?er.x-ir:rr.left+.5,y:tr==="horizontal"?rr.top+.5:er.y-ir,width:tr==="horizontal"?nr:rr.width-1,height:tr==="horizontal"?rr.height-1:nr}}function getRadialCursorPoints(tr){var er=tr.cx,rr=tr.cy,nr=tr.radius,ir=tr.startAngle,ar=tr.endAngle,sr=polarToCartesian(er,rr,nr,ir),lr=polarToCartesian(er,rr,nr,ar);return{points:[sr,lr],cx:er,cy:rr,radius:nr,startAngle:ir,endAngle:ar}}function getCursorPoints(tr,er,rr){var nr,ir,ar,sr;if(tr==="horizontal")nr=er.x,ar=nr,ir=rr.top,sr=rr.top+rr.height;else if(tr==="vertical")ir=er.y,sr=ir,nr=rr.left,ar=rr.left+rr.width;else if(er.cx!=null&&er.cy!=null)if(tr==="centric"){var lr=er.cx,or=er.cy,cr=er.innerRadius,ur=er.outerRadius,dr=er.angle,hr=polarToCartesian(lr,or,cr,dr),fr=polarToCartesian(lr,or,ur,dr);nr=hr.x,ir=hr.y,ar=fr.x,sr=fr.y}else return getRadialCursorPoints(er);return[{x:nr,y:ir},{x:ar,y:sr}]}function _typeof$2(tr){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$2(tr)}function ownKeys$1(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$1(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$1(Object(rr),!0).forEach(function(nr){_defineProperty$1(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$1(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$1(tr,er,rr){return er=_toPropertyKey$1(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$1(tr){var er=_toPrimitive$1(tr,"string");return _typeof$2(er)=="symbol"?er:er+""}function _toPrimitive$1(tr,er){if(_typeof$2(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$2(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function Cursor(tr){var er,rr,nr=tr.element,ir=tr.tooltipEventType,ar=tr.isActive,sr=tr.activeCoordinate,lr=tr.activePayload,or=tr.offset,cr=tr.activeTooltipIndex,ur=tr.tooltipAxisBandSize,dr=tr.layout,hr=tr.chartName,fr=(er=nr.props.cursor)!==null&&er!==void 0?er:(rr=nr.type.defaultProps)===null||rr===void 0?void 0:rr.cursor;if(!nr||!fr||!ar||!sr||hr!=="ScatterChart"&&ir!=="axis")return null;var mr,br=Curve;if(hr==="ScatterChart")mr=sr,br=Cross;else if(hr==="BarChart")mr=getCursorRectangle(dr,sr,or,ur),br=Rectangle;else if(dr==="radial"){var pr=getRadialCursorPoints(sr),gr=pr.cx,yr=pr.cy,vr=pr.radius,_r=pr.startAngle,xr=pr.endAngle;mr={cx:gr,cy:yr,startAngle:_r,endAngle:xr,innerRadius:vr,outerRadius:vr},br=Sector}else mr={points:getCursorPoints(dr,sr,or)},br=Curve;var Rr=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},or),mr),filterProps(fr,!1)),{},{payload:lr,payloadIndex:cr,className:clsx("recharts-tooltip-cursor",fr.className)});return reactExports.isValidElement(fr)?reactExports.cloneElement(fr,Rr):reactExports.createElement(br,Rr)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$1(tr){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$1(tr)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends.apply(this,arguments)}function _slicedToArray(tr,er){return _arrayWithHoles(tr)||_iterableToArrayLimit(tr,er)||_unsupportedIterableToArray(tr,er)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,ar,sr,lr=[],or=!0,cr=!1;try{if(ar=(rr=rr.call(tr)).next,er!==0)for(;!(or=(nr=ar.call(rr)).done)&&(lr.push(nr.value),lr.length!==er);or=!0);}catch(ur){cr=!0,ir=ur}finally{try{if(!or&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(cr)throw ir}}return lr}}function _arrayWithHoles(tr){if(Array.isArray(tr))return tr}function _objectWithoutProperties(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(tr);for(ir=0;ir<ar.length;ir++)nr=ar[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose(tr,er){if(tr==null)return{};var rr={};for(var nr in tr)if(Object.prototype.hasOwnProperty.call(tr,nr)){if(er.indexOf(nr)>=0)continue;rr[nr]=tr[nr]}return rr}function _classCallCheck(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey(nr.key),nr)}}function _createClass(tr,er,rr){return er&&_defineProperties(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper(tr,er,rr){return er=_getPrototypeOf(er),_possibleConstructorReturn(tr,_isNativeReflectConstruct()?Reflect.construct(er,rr||[],_getPrototypeOf(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn(tr,er){if(er&&(_typeof$1(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(tr)}function _assertThisInitialized(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!tr})()}function _getPrototypeOf(tr){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf(tr)}function _inherits(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf(tr,er)}function _setPrototypeOf(tr,er){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf(tr,er)}function _toConsumableArray(tr){return _arrayWithoutHoles(tr)||_iterableToArray(tr)||_unsupportedIterableToArray(tr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray(tr,er)}}function _iterableToArray(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles(tr){if(Array.isArray(tr))return _arrayLikeToArray(tr)}function _arrayLikeToArray(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function ownKeys(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys(Object(rr),!0).forEach(function(nr){_defineProperty(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty(tr,er,rr){return er=_toPropertyKey(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey(tr){var er=_toPrimitive(tr,"string");return _typeof$1(er)=="symbol"?er:er+""}function _toPrimitive(tr,er){if(_typeof$1(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$1(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(tr){return tr}var calculateTooltipPos=function tr(er,rr){return rr==="horizontal"?er.x:rr==="vertical"?er.y:rr==="centric"?er.angle:er.radius},getActiveCoordinate=function tr(er,rr,nr,ir){var ar=rr.find(function(ur){return ur&&ur.index===nr});if(ar){if(er==="horizontal")return{x:ar.coordinate,y:ir.y};if(er==="vertical")return{x:ir.x,y:ar.coordinate};if(er==="centric"){var sr=ar.coordinate,lr=ir.radius;return _objectSpread(_objectSpread(_objectSpread({},ir),polarToCartesian(ir.cx,ir.cy,lr,sr)),{},{angle:sr,radius:lr})}var or=ar.coordinate,cr=ir.angle;return _objectSpread(_objectSpread(_objectSpread({},ir),polarToCartesian(ir.cx,ir.cy,or,cr)),{},{angle:cr,radius:or})}return originCoordinate},getDisplayedData=function tr(er,rr){var nr=rr.graphicalItems,ir=rr.dataStartIndex,ar=rr.dataEndIndex,sr=(nr??[]).reduce(function(lr,or){var cr=or.props.data;return cr&&cr.length?[].concat(_toConsumableArray(lr),_toConsumableArray(cr)):lr},[]);return sr.length>0?sr:er&&er.length&&isNumber(ir)&&isNumber(ar)?er.slice(ir,ar+1):[]};function getDefaultDomainByAxisType(tr){return tr==="number"?[0,"auto"]:void 0}var getTooltipContent=function tr(er,rr,nr,ir){var ar=er.graphicalItems,sr=er.tooltipAxis,lr=getDisplayedData(rr,er);return nr<0||!ar||!ar.length||nr>=lr.length?null:ar.reduce(function(or,cr){var ur,dr=(ur=cr.props.data)!==null&&ur!==void 0?ur:rr;dr&&er.dataStartIndex+er.dataEndIndex!==0&&er.dataEndIndex-er.dataStartIndex>=nr&&(dr=dr.slice(er.dataStartIndex,er.dataEndIndex+1));var hr;if(sr.dataKey&&!sr.allowDuplicatedCategory){var fr=dr===void 0?lr:dr;hr=findEntryInArray(fr,sr.dataKey,ir)}else hr=dr&&dr[nr]||lr[nr];return hr?[].concat(_toConsumableArray(or),[getTooltipItem(cr,hr)]):or},[])},getTooltipData=function tr(er,rr,nr,ir){var ar=ir||{x:er.chartX,y:er.chartY},sr=calculateTooltipPos(ar,nr),lr=er.orderedTooltipTicks,or=er.tooltipAxis,cr=er.tooltipTicks,ur=calculateActiveTickIndex(sr,lr,cr,or);if(ur>=0&&cr){var dr=cr[ur]&&cr[ur].value,hr=getTooltipContent(er,rr,ur,dr),fr=getActiveCoordinate(nr,lr,ur,ar);return{activeTooltipIndex:ur,activeLabel:dr,activePayload:hr,activeCoordinate:fr}}return null},getAxisMapByAxes=function tr(er,rr){var nr=rr.axes,ir=rr.graphicalItems,ar=rr.axisType,sr=rr.axisIdKey,lr=rr.stackGroups,or=rr.dataStartIndex,cr=rr.dataEndIndex,ur=er.layout,dr=er.children,hr=er.stackOffset,fr=isCategoricalAxis(ur,ar);return nr.reduce(function(mr,br){var pr,gr=br.type.defaultProps!==void 0?_objectSpread(_objectSpread({},br.type.defaultProps),br.props):br.props,yr=gr.type,vr=gr.dataKey,_r=gr.allowDataOverflow,xr=gr.allowDuplicatedCategory,Rr=gr.scale,Cr=gr.ticks,Tr=gr.includeHidden,Ir=gr[sr];if(mr[Ir])return mr;var Lr=getDisplayedData(er.data,{graphicalItems:ir.filter(function($r){var Vr,zr=sr in $r.props?$r.props[sr]:(Vr=$r.type.defaultProps)===null||Vr===void 0?void 0:Vr[sr];return zr===Ir}),dataStartIndex:or,dataEndIndex:cr}),Nr=Lr.length,Or,Pr,Mr;isDomainSpecifiedByUser(gr.domain,_r,yr)&&(Or=parseSpecifiedDomain(gr.domain,null,_r),fr&&(yr==="number"||Rr!=="auto")&&(Mr=getDomainOfDataByKey(Lr,vr,"category")));var jr=getDefaultDomainByAxisType(yr);if(!Or||Or.length===0){var wr,Er=(wr=gr.domain)!==null&&wr!==void 0?wr:jr;if(vr){if(Or=getDomainOfDataByKey(Lr,vr,yr),yr==="category"&&fr){var Ar=hasDuplicate(Or);xr&&Ar?(Pr=Or,Or=range$1(0,Nr)):xr||(Or=parseDomainOfCategoryAxis(Er,Or,br).reduce(function($r,Vr){return $r.indexOf(Vr)>=0?$r:[].concat(_toConsumableArray($r),[Vr])},[]))}else if(yr==="category")xr?Or=Or.filter(function($r){return $r!==""&&!isNil$1($r)}):Or=parseDomainOfCategoryAxis(Er,Or,br).reduce(function($r,Vr){return $r.indexOf(Vr)>=0||Vr===""||isNil$1(Vr)?$r:[].concat(_toConsumableArray($r),[Vr])},[]);else if(yr==="number"){var Sr=parseErrorBarsOfAxis(Lr,ir.filter(function($r){var Vr,zr,Gr=sr in $r.props?$r.props[sr]:(Vr=$r.type.defaultProps)===null||Vr===void 0?void 0:Vr[sr],Fr="hide"in $r.props?$r.props.hide:(zr=$r.type.defaultProps)===null||zr===void 0?void 0:zr.hide;return Gr===Ir&&(Tr||!Fr)}),vr,ar,ur);Sr&&(Or=Sr)}fr&&(yr==="number"||Rr!=="auto")&&(Mr=getDomainOfDataByKey(Lr,vr,"category"))}else fr?Or=range$1(0,Nr):lr&&lr[Ir]&&lr[Ir].hasStack&&yr==="number"?Or=hr==="expand"?[0,1]:getDomainOfStackGroups(lr[Ir].stackGroups,or,cr):Or=getDomainOfItemsWithSameAxis(Lr,ir.filter(function($r){var Vr=sr in $r.props?$r.props[sr]:$r.type.defaultProps[sr],zr="hide"in $r.props?$r.props.hide:$r.type.defaultProps.hide;return Vr===Ir&&(Tr||!zr)}),yr,ur,!0);if(yr==="number")Or=detectReferenceElementsDomain(dr,Or,Ir,ar,Cr),Er&&(Or=parseSpecifiedDomain(Er,Or,_r));else if(yr==="category"&&Er){var Dr=Er,Wr=Or.every(function($r){return Dr.indexOf($r)>=0});Wr&&(Or=Dr)}}return _objectSpread(_objectSpread({},mr),{},_defineProperty({},Ir,_objectSpread(_objectSpread({},gr),{},{axisType:ar,domain:Or,categoricalDomain:Mr,duplicateDomain:Pr,originalDomain:(pr=gr.domain)!==null&&pr!==void 0?pr:jr,isCategorical:fr,layout:ur})))},{})},getAxisMapByItems=function tr(er,rr){var nr=rr.graphicalItems,ir=rr.Axis,ar=rr.axisType,sr=rr.axisIdKey,lr=rr.stackGroups,or=rr.dataStartIndex,cr=rr.dataEndIndex,ur=er.layout,dr=er.children,hr=getDisplayedData(er.data,{graphicalItems:nr,dataStartIndex:or,dataEndIndex:cr}),fr=hr.length,mr=isCategoricalAxis(ur,ar),br=-1;return nr.reduce(function(pr,gr){var yr=gr.type.defaultProps!==void 0?_objectSpread(_objectSpread({},gr.type.defaultProps),gr.props):gr.props,vr=yr[sr],_r=getDefaultDomainByAxisType("number");if(!pr[vr]){br++;var xr;return mr?xr=range$1(0,fr):lr&&lr[vr]&&lr[vr].hasStack?(xr=getDomainOfStackGroups(lr[vr].stackGroups,or,cr),xr=detectReferenceElementsDomain(dr,xr,vr,ar)):(xr=parseSpecifiedDomain(_r,getDomainOfItemsWithSameAxis(hr,nr.filter(function(Rr){var Cr,Tr,Ir=sr in Rr.props?Rr.props[sr]:(Cr=Rr.type.defaultProps)===null||Cr===void 0?void 0:Cr[sr],Lr="hide"in Rr.props?Rr.props.hide:(Tr=Rr.type.defaultProps)===null||Tr===void 0?void 0:Tr.hide;return Ir===vr&&!Lr}),"number",ur),ir.defaultProps.allowDataOverflow),xr=detectReferenceElementsDomain(dr,xr,vr,ar)),_objectSpread(_objectSpread({},pr),{},_defineProperty({},vr,_objectSpread(_objectSpread({axisType:ar},ir.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(ar,".").concat(br%2),null),domain:xr,originalDomain:_r,isCategorical:mr,layout:ur})))}return pr},{})},getAxisMap=function tr(er,rr){var nr=rr.axisType,ir=nr===void 0?"xAxis":nr,ar=rr.AxisComp,sr=rr.graphicalItems,lr=rr.stackGroups,or=rr.dataStartIndex,cr=rr.dataEndIndex,ur=er.children,dr="".concat(ir,"Id"),hr=findAllByType(ur,ar),fr={};return hr&&hr.length?fr=getAxisMapByAxes(er,{axes:hr,graphicalItems:sr,axisType:ir,axisIdKey:dr,stackGroups:lr,dataStartIndex:or,dataEndIndex:cr}):sr&&sr.length&&(fr=getAxisMapByItems(er,{Axis:ar,graphicalItems:sr,axisType:ir,axisIdKey:dr,stackGroups:lr,dataStartIndex:or,dataEndIndex:cr})),fr},tooltipTicksGenerator=function tr(er){var rr=getAnyElementOfObject(er),nr=getTicksOfAxis(rr,!1,!0);return{tooltipTicks:nr,orderedTooltipTicks:sortBy$1(nr,function(ir){return ir.coordinate}),tooltipAxis:rr,tooltipAxisBandSize:getBandSizeOfAxis(rr,nr)}},createDefaultState=function tr(er){var rr=er.children,nr=er.defaultShowTooltip,ir=findChildByType(rr,Brush),ar=0,sr=0;return er.data&&er.data.length!==0&&(sr=er.data.length-1),ir&&ir.props&&(ir.props.startIndex>=0&&(ar=ir.props.startIndex),ir.props.endIndex>=0&&(sr=ir.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:ar,dataEndIndex:sr,activeTooltipIndex:-1,isTooltipActive:!!nr}},hasGraphicalBarItem=function tr(er){return!er||!er.length?!1:er.some(function(rr){var nr=getDisplayName(rr&&rr.type);return nr&&nr.indexOf("Bar")>=0})},getAxisNameByLayout=function tr(er){return er==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:er==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:er==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function tr(er,rr){var nr=er.props,ir=er.graphicalItems,ar=er.xAxisMap,sr=ar===void 0?{}:ar,lr=er.yAxisMap,or=lr===void 0?{}:lr,cr=nr.width,ur=nr.height,dr=nr.children,hr=nr.margin||{},fr=findChildByType(dr,Brush),mr=findChildByType(dr,Legend),br=Object.keys(or).reduce(function(xr,Rr){var Cr=or[Rr],Tr=Cr.orientation;return!Cr.mirror&&!Cr.hide?_objectSpread(_objectSpread({},xr),{},_defineProperty({},Tr,xr[Tr]+Cr.width)):xr},{left:hr.left||0,right:hr.right||0}),pr=Object.keys(sr).reduce(function(xr,Rr){var Cr=sr[Rr],Tr=Cr.orientation;return!Cr.mirror&&!Cr.hide?_objectSpread(_objectSpread({},xr),{},_defineProperty({},Tr,get$2(xr,"".concat(Tr))+Cr.height)):xr},{top:hr.top||0,bottom:hr.bottom||0}),gr=_objectSpread(_objectSpread({},pr),br),yr=gr.bottom;fr&&(gr.bottom+=fr.props.height||Brush.defaultProps.height),mr&&rr&&(gr=appendOffsetOfLegend(gr,ir,nr,rr));var vr=cr-gr.left-gr.right,_r=ur-gr.top-gr.bottom;return _objectSpread(_objectSpread({brushBottom:yr},gr),{},{width:Math.max(vr,0),height:Math.max(_r,0)})},getCartesianAxisSize=function tr(er,rr){if(rr==="xAxis")return er[rr].width;if(rr==="yAxis")return er[rr].height},generateCategoricalChart=function tr(er){var rr=er.chartName,nr=er.GraphicalChild,ir=er.defaultTooltipEventType,ar=ir===void 0?"axis":ir,sr=er.validateTooltipEventTypes,lr=sr===void 0?["axis"]:sr,or=er.axisComponents,cr=er.legendContent,ur=er.formatAxisMap,dr=er.defaultProps,hr=function(gr,yr){var vr=yr.graphicalItems,_r=yr.stackGroups,xr=yr.offset,Rr=yr.updateId,Cr=yr.dataStartIndex,Tr=yr.dataEndIndex,Ir=gr.barSize,Lr=gr.layout,Nr=gr.barGap,Or=gr.barCategoryGap,Pr=gr.maxBarSize,Mr=getAxisNameByLayout(Lr),jr=Mr.numericAxisName,wr=Mr.cateAxisName,Er=hasGraphicalBarItem(vr),Ar=[];return vr.forEach(function(Sr,Dr){var Wr=getDisplayedData(gr.data,{graphicalItems:[Sr],dataStartIndex:Cr,dataEndIndex:Tr}),$r=Sr.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Sr.type.defaultProps),Sr.props):Sr.props,Vr=$r.dataKey,zr=$r.maxBarSize,Gr=$r["".concat(jr,"Id")],Fr=$r["".concat(wr,"Id")],Xr={},Ur=or.reduce(function(mn,yn){var Rn=yr["".concat(yn.axisType,"Map")],In=$r["".concat(yn.axisType,"Id")];Rn&&Rn[In]||yn.axisType==="zAxis"||invariant();var Sn=Rn[In];return _objectSpread(_objectSpread({},mn),{},_defineProperty(_defineProperty({},yn.axisType,Sn),"".concat(yn.axisType,"Ticks"),getTicksOfAxis(Sn)))},Xr),Br=Ur[wr],Kr=Ur["".concat(wr,"Ticks")],Zr=_r&&_r[Gr]&&_r[Gr].hasStack&&getStackedDataOfItem(Sr,_r[Gr].stackGroups),tn=getDisplayName(Sr.type).indexOf("Bar")>=0,sn=getBandSizeOfAxis(Br,Kr),un=[],hn=Er&&getBarSizeList({barSize:Ir,stackGroups:_r,totalSize:getCartesianAxisSize(Ur,wr)});if(tn){var Jr,nn,rn=isNil$1(zr)?Pr:zr,on=(Jr=(nn=getBandSizeOfAxis(Br,Kr,!0))!==null&&nn!==void 0?nn:rn)!==null&&Jr!==void 0?Jr:0;un=getBarPosition({barGap:Nr,barCategoryGap:Or,bandSize:on!==sn?on:sn,sizeList:hn[Fr],maxBarSize:rn}),on!==sn&&(un=un.map(function(mn){return _objectSpread(_objectSpread({},mn),{},{position:_objectSpread(_objectSpread({},mn.position),{},{offset:mn.position.offset-on/2})})}))}var fn=Sr&&Sr.type&&Sr.type.getComposedData;fn&&Ar.push({props:_objectSpread(_objectSpread({},fn(_objectSpread(_objectSpread({},Ur),{},{displayedData:Wr,props:gr,dataKey:Vr,item:Sr,bandSize:sn,barPosition:un,offset:xr,stackedData:Zr,layout:Lr,dataStartIndex:Cr,dataEndIndex:Tr}))),{},_defineProperty(_defineProperty(_defineProperty({key:Sr.key||"item-".concat(Dr)},jr,Ur[jr]),wr,Ur[wr]),"animationId",Rr)),childIndex:parseChildIndex(Sr,gr.children),item:Sr})}),Ar},fr=function(gr,yr){var vr=gr.props,_r=gr.dataStartIndex,xr=gr.dataEndIndex,Rr=gr.updateId;if(!validateWidthHeight({props:vr}))return null;var Cr=vr.children,Tr=vr.layout,Ir=vr.stackOffset,Lr=vr.data,Nr=vr.reverseStackOrder,Or=getAxisNameByLayout(Tr),Pr=Or.numericAxisName,Mr=Or.cateAxisName,jr=findAllByType(Cr,nr),wr=getStackGroupsByAxisId(Lr,jr,"".concat(Pr,"Id"),"".concat(Mr,"Id"),Ir,Nr),Er=or.reduce(function($r,Vr){var zr="".concat(Vr.axisType,"Map");return _objectSpread(_objectSpread({},$r),{},_defineProperty({},zr,getAxisMap(vr,_objectSpread(_objectSpread({},Vr),{},{graphicalItems:jr,stackGroups:Vr.axisType===Pr&&wr,dataStartIndex:_r,dataEndIndex:xr}))))},{}),Ar=calculateOffset(_objectSpread(_objectSpread({},Er),{},{props:vr,graphicalItems:jr}),yr==null?void 0:yr.legendBBox);Object.keys(Er).forEach(function($r){Er[$r]=ur(vr,Er[$r],Ar,$r.replace("Map",""),rr)});var Sr=Er["".concat(Mr,"Map")],Dr=tooltipTicksGenerator(Sr),Wr=hr(vr,_objectSpread(_objectSpread({},Er),{},{dataStartIndex:_r,dataEndIndex:xr,updateId:Rr,graphicalItems:jr,stackGroups:wr,offset:Ar}));return _objectSpread(_objectSpread({formattedGraphicalItems:Wr,graphicalItems:jr,offset:Ar,stackGroups:wr},Dr),Er)},mr=function(pr){function gr(yr){var vr,_r,xr;return _classCallCheck(this,gr),xr=_callSuper(this,gr,[yr]),_defineProperty(xr,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(xr,"accessibilityManager",new AccessibilityManager),_defineProperty(xr,"handleLegendBBoxUpdate",function(Rr){if(Rr){var Cr=xr.state,Tr=Cr.dataStartIndex,Ir=Cr.dataEndIndex,Lr=Cr.updateId;xr.setState(_objectSpread({legendBBox:Rr},fr({props:xr.props,dataStartIndex:Tr,dataEndIndex:Ir,updateId:Lr},_objectSpread(_objectSpread({},xr.state),{},{legendBBox:Rr}))))}}),_defineProperty(xr,"handleReceiveSyncEvent",function(Rr,Cr,Tr){if(xr.props.syncId===Rr){if(Tr===xr.eventEmitterSymbol&&typeof xr.props.syncMethod!="function")return;xr.applySyncEvent(Cr)}}),_defineProperty(xr,"handleBrushChange",function(Rr){var Cr=Rr.startIndex,Tr=Rr.endIndex;if(Cr!==xr.state.dataStartIndex||Tr!==xr.state.dataEndIndex){var Ir=xr.state.updateId;xr.setState(function(){return _objectSpread({dataStartIndex:Cr,dataEndIndex:Tr},fr({props:xr.props,dataStartIndex:Cr,dataEndIndex:Tr,updateId:Ir},xr.state))}),xr.triggerSyncEvent({dataStartIndex:Cr,dataEndIndex:Tr})}}),_defineProperty(xr,"handleMouseEnter",function(Rr){var Cr=xr.getMouseInfo(Rr);if(Cr){var Tr=_objectSpread(_objectSpread({},Cr),{},{isTooltipActive:!0});xr.setState(Tr),xr.triggerSyncEvent(Tr);var Ir=xr.props.onMouseEnter;isFunction$3(Ir)&&Ir(Tr,Rr)}}),_defineProperty(xr,"triggeredAfterMouseMove",function(Rr){var Cr=xr.getMouseInfo(Rr),Tr=Cr?_objectSpread(_objectSpread({},Cr),{},{isTooltipActive:!0}):{isTooltipActive:!1};xr.setState(Tr),xr.triggerSyncEvent(Tr);var Ir=xr.props.onMouseMove;isFunction$3(Ir)&&Ir(Tr,Rr)}),_defineProperty(xr,"handleItemMouseEnter",function(Rr){xr.setState(function(){return{isTooltipActive:!0,activeItem:Rr,activePayload:Rr.tooltipPayload,activeCoordinate:Rr.tooltipPosition||{x:Rr.cx,y:Rr.cy}}})}),_defineProperty(xr,"handleItemMouseLeave",function(){xr.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(xr,"handleMouseMove",function(Rr){Rr.persist(),xr.throttleTriggeredAfterMouseMove(Rr)}),_defineProperty(xr,"handleMouseLeave",function(Rr){xr.throttleTriggeredAfterMouseMove.cancel();var Cr={isTooltipActive:!1};xr.setState(Cr),xr.triggerSyncEvent(Cr);var Tr=xr.props.onMouseLeave;isFunction$3(Tr)&&Tr(Cr,Rr)}),_defineProperty(xr,"handleOuterEvent",function(Rr){var Cr=getReactEventByType(Rr),Tr=get$2(xr.props,"".concat(Cr));if(Cr&&isFunction$3(Tr)){var Ir,Lr;/.*touch.*/i.test(Cr)?Lr=xr.getMouseInfo(Rr.changedTouches[0]):Lr=xr.getMouseInfo(Rr),Tr((Ir=Lr)!==null&&Ir!==void 0?Ir:{},Rr)}}),_defineProperty(xr,"handleClick",function(Rr){var Cr=xr.getMouseInfo(Rr);if(Cr){var Tr=_objectSpread(_objectSpread({},Cr),{},{isTooltipActive:!0});xr.setState(Tr),xr.triggerSyncEvent(Tr);var Ir=xr.props.onClick;isFunction$3(Ir)&&Ir(Tr,Rr)}}),_defineProperty(xr,"handleMouseDown",function(Rr){var Cr=xr.props.onMouseDown;if(isFunction$3(Cr)){var Tr=xr.getMouseInfo(Rr);Cr(Tr,Rr)}}),_defineProperty(xr,"handleMouseUp",function(Rr){var Cr=xr.props.onMouseUp;if(isFunction$3(Cr)){var Tr=xr.getMouseInfo(Rr);Cr(Tr,Rr)}}),_defineProperty(xr,"handleTouchMove",function(Rr){Rr.changedTouches!=null&&Rr.changedTouches.length>0&&xr.throttleTriggeredAfterMouseMove(Rr.changedTouches[0])}),_defineProperty(xr,"handleTouchStart",function(Rr){Rr.changedTouches!=null&&Rr.changedTouches.length>0&&xr.handleMouseDown(Rr.changedTouches[0])}),_defineProperty(xr,"handleTouchEnd",function(Rr){Rr.changedTouches!=null&&Rr.changedTouches.length>0&&xr.handleMouseUp(Rr.changedTouches[0])}),_defineProperty(xr,"handleDoubleClick",function(Rr){var Cr=xr.props.onDoubleClick;if(isFunction$3(Cr)){var Tr=xr.getMouseInfo(Rr);Cr(Tr,Rr)}}),_defineProperty(xr,"handleContextMenu",function(Rr){var Cr=xr.props.onContextMenu;if(isFunction$3(Cr)){var Tr=xr.getMouseInfo(Rr);Cr(Tr,Rr)}}),_defineProperty(xr,"triggerSyncEvent",function(Rr){xr.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,xr.props.syncId,Rr,xr.eventEmitterSymbol)}),_defineProperty(xr,"applySyncEvent",function(Rr){var Cr=xr.props,Tr=Cr.layout,Ir=Cr.syncMethod,Lr=xr.state.updateId,Nr=Rr.dataStartIndex,Or=Rr.dataEndIndex;if(Rr.dataStartIndex!==void 0||Rr.dataEndIndex!==void 0)xr.setState(_objectSpread({dataStartIndex:Nr,dataEndIndex:Or},fr({props:xr.props,dataStartIndex:Nr,dataEndIndex:Or,updateId:Lr},xr.state)));else if(Rr.activeTooltipIndex!==void 0){var Pr=Rr.chartX,Mr=Rr.chartY,jr=Rr.activeTooltipIndex,wr=xr.state,Er=wr.offset,Ar=wr.tooltipTicks;if(!Er)return;if(typeof Ir=="function")jr=Ir(Ar,Rr);else if(Ir==="value"){jr=-1;for(var Sr=0;Sr<Ar.length;Sr++)if(Ar[Sr].value===Rr.activeLabel){jr=Sr;break}}var Dr=_objectSpread(_objectSpread({},Er),{},{x:Er.left,y:Er.top}),Wr=Math.min(Pr,Dr.x+Dr.width),$r=Math.min(Mr,Dr.y+Dr.height),Vr=Ar[jr]&&Ar[jr].value,zr=getTooltipContent(xr.state,xr.props.data,jr),Gr=Ar[jr]?{x:Tr==="horizontal"?Ar[jr].coordinate:Wr,y:Tr==="horizontal"?$r:Ar[jr].coordinate}:originCoordinate;xr.setState(_objectSpread(_objectSpread({},Rr),{},{activeLabel:Vr,activeCoordinate:Gr,activePayload:zr,activeTooltipIndex:jr}))}else xr.setState(Rr)}),_defineProperty(xr,"renderCursor",function(Rr){var Cr,Tr=xr.state,Ir=Tr.isTooltipActive,Lr=Tr.activeCoordinate,Nr=Tr.activePayload,Or=Tr.offset,Pr=Tr.activeTooltipIndex,Mr=Tr.tooltipAxisBandSize,jr=xr.getTooltipEventType(),wr=(Cr=Rr.props.active)!==null&&Cr!==void 0?Cr:Ir,Er=xr.props.layout,Ar=Rr.key||"_recharts-cursor";return React.createElement(Cursor,{key:Ar,activeCoordinate:Lr,activePayload:Nr,activeTooltipIndex:Pr,chartName:rr,element:Rr,isActive:wr,layout:Er,offset:Or,tooltipAxisBandSize:Mr,tooltipEventType:jr})}),_defineProperty(xr,"renderPolarAxis",function(Rr,Cr,Tr){var Ir=get$2(Rr,"type.axisType"),Lr=get$2(xr.state,"".concat(Ir,"Map")),Nr=Rr.type.defaultProps,Or=Nr!==void 0?_objectSpread(_objectSpread({},Nr),Rr.props):Rr.props,Pr=Lr&&Lr[Or["".concat(Ir,"Id")]];return reactExports.cloneElement(Rr,_objectSpread(_objectSpread({},Pr),{},{className:clsx(Ir,Pr.className),key:Rr.key||"".concat(Cr,"-").concat(Tr),ticks:getTicksOfAxis(Pr,!0)}))}),_defineProperty(xr,"renderPolarGrid",function(Rr){var Cr=Rr.props,Tr=Cr.radialLines,Ir=Cr.polarAngles,Lr=Cr.polarRadius,Nr=xr.state,Or=Nr.radiusAxisMap,Pr=Nr.angleAxisMap,Mr=getAnyElementOfObject(Or),jr=getAnyElementOfObject(Pr),wr=jr.cx,Er=jr.cy,Ar=jr.innerRadius,Sr=jr.outerRadius;return reactExports.cloneElement(Rr,{polarAngles:Array.isArray(Ir)?Ir:getTicksOfAxis(jr,!0).map(function(Dr){return Dr.coordinate}),polarRadius:Array.isArray(Lr)?Lr:getTicksOfAxis(Mr,!0).map(function(Dr){return Dr.coordinate}),cx:wr,cy:Er,innerRadius:Ar,outerRadius:Sr,key:Rr.key||"polar-grid",radialLines:Tr})}),_defineProperty(xr,"renderLegend",function(){var Rr=xr.state.formattedGraphicalItems,Cr=xr.props,Tr=Cr.children,Ir=Cr.width,Lr=Cr.height,Nr=xr.props.margin||{},Or=Ir-(Nr.left||0)-(Nr.right||0),Pr=getLegendProps({children:Tr,formattedGraphicalItems:Rr,legendWidth:Or,legendContent:cr});if(!Pr)return null;var Mr=Pr.item,jr=_objectWithoutProperties(Pr,_excluded);return reactExports.cloneElement(Mr,_objectSpread(_objectSpread({},jr),{},{chartWidth:Ir,chartHeight:Lr,margin:Nr,onBBoxUpdate:xr.handleLegendBBoxUpdate}))}),_defineProperty(xr,"renderTooltip",function(){var Rr,Cr=xr.props,Tr=Cr.children,Ir=Cr.accessibilityLayer,Lr=findChildByType(Tr,Tooltip);if(!Lr)return null;var Nr=xr.state,Or=Nr.isTooltipActive,Pr=Nr.activeCoordinate,Mr=Nr.activePayload,jr=Nr.activeLabel,wr=Nr.offset,Er=(Rr=Lr.props.active)!==null&&Rr!==void 0?Rr:Or;return reactExports.cloneElement(Lr,{viewBox:_objectSpread(_objectSpread({},wr),{},{x:wr.left,y:wr.top}),active:Er,label:jr,payload:Er?Mr:[],coordinate:Pr,accessibilityLayer:Ir})}),_defineProperty(xr,"renderBrush",function(Rr){var Cr=xr.props,Tr=Cr.margin,Ir=Cr.data,Lr=xr.state,Nr=Lr.offset,Or=Lr.dataStartIndex,Pr=Lr.dataEndIndex,Mr=Lr.updateId;return reactExports.cloneElement(Rr,{key:Rr.key||"_recharts-brush",onChange:combineEventHandlers(xr.handleBrushChange,Rr.props.onChange),data:Ir,x:isNumber(Rr.props.x)?Rr.props.x:Nr.left,y:isNumber(Rr.props.y)?Rr.props.y:Nr.top+Nr.height+Nr.brushBottom-(Tr.bottom||0),width:isNumber(Rr.props.width)?Rr.props.width:Nr.width,startIndex:Or,endIndex:Pr,updateId:"brush-".concat(Mr)})}),_defineProperty(xr,"renderReferenceElement",function(Rr,Cr,Tr){if(!Rr)return null;var Ir=xr,Lr=Ir.clipPathId,Nr=xr.state,Or=Nr.xAxisMap,Pr=Nr.yAxisMap,Mr=Nr.offset,jr=Rr.type.defaultProps||{},wr=Rr.props,Er=wr.xAxisId,Ar=Er===void 0?jr.xAxisId:Er,Sr=wr.yAxisId,Dr=Sr===void 0?jr.yAxisId:Sr;return reactExports.cloneElement(Rr,{key:Rr.key||"".concat(Cr,"-").concat(Tr),xAxis:Or[Ar],yAxis:Pr[Dr],viewBox:{x:Mr.left,y:Mr.top,width:Mr.width,height:Mr.height},clipPathId:Lr})}),_defineProperty(xr,"renderActivePoints",function(Rr){var Cr=Rr.item,Tr=Rr.activePoint,Ir=Rr.basePoint,Lr=Rr.childIndex,Nr=Rr.isRange,Or=[],Pr=Cr.props.key,Mr=Cr.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Cr.item.type.defaultProps),Cr.item.props):Cr.item.props,jr=Mr.activeDot,wr=Mr.dataKey,Er=_objectSpread(_objectSpread({index:Lr,dataKey:wr,cx:Tr.x,cy:Tr.y,r:4,fill:getMainColorOfGraphicItem(Cr.item),strokeWidth:2,stroke:"#fff",payload:Tr.payload,value:Tr.value},filterProps(jr,!1)),adaptEventHandlers(jr));return Or.push(gr.renderActiveDot(jr,Er,"".concat(Pr,"-activePoint-").concat(Lr))),Ir?Or.push(gr.renderActiveDot(jr,_objectSpread(_objectSpread({},Er),{},{cx:Ir.x,cy:Ir.y}),"".concat(Pr,"-basePoint-").concat(Lr))):Nr&&Or.push(null),Or}),_defineProperty(xr,"renderGraphicChild",function(Rr,Cr,Tr){var Ir=xr.filterFormatItem(Rr,Cr,Tr);if(!Ir)return null;var Lr=xr.getTooltipEventType(),Nr=xr.state,Or=Nr.isTooltipActive,Pr=Nr.tooltipAxis,Mr=Nr.activeTooltipIndex,jr=Nr.activeLabel,wr=xr.props.children,Er=findChildByType(wr,Tooltip),Ar=Ir.props,Sr=Ar.points,Dr=Ar.isRange,Wr=Ar.baseLine,$r=Ir.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ir.item.type.defaultProps),Ir.item.props):Ir.item.props,Vr=$r.activeDot,zr=$r.hide,Gr=$r.activeBar,Fr=$r.activeShape,Xr=!!(!zr&&Or&&Er&&(Vr||Gr||Fr)),Ur={};Lr!=="axis"&&Er&&Er.props.trigger==="click"?Ur={onClick:combineEventHandlers(xr.handleItemMouseEnter,Rr.props.onClick)}:Lr!=="axis"&&(Ur={onMouseLeave:combineEventHandlers(xr.handleItemMouseLeave,Rr.props.onMouseLeave),onMouseEnter:combineEventHandlers(xr.handleItemMouseEnter,Rr.props.onMouseEnter)});var Br=reactExports.cloneElement(Rr,_objectSpread(_objectSpread({},Ir.props),Ur));function Kr(yn){return typeof Pr.dataKey=="function"?Pr.dataKey(yn.payload):null}if(Xr)if(Mr>=0){var Zr,tn;if(Pr.dataKey&&!Pr.allowDuplicatedCategory){var sn=typeof Pr.dataKey=="function"?Kr:"payload.".concat(Pr.dataKey.toString());Zr=findEntryInArray(Sr,sn,jr),tn=Dr&&Wr&&findEntryInArray(Wr,sn,jr)}else Zr=Sr==null?void 0:Sr[Mr],tn=Dr&&Wr&&Wr[Mr];if(Fr||Gr){var un=Rr.props.activeIndex!==void 0?Rr.props.activeIndex:Mr;return[reactExports.cloneElement(Rr,_objectSpread(_objectSpread(_objectSpread({},Ir.props),Ur),{},{activeIndex:un})),null,null]}if(!isNil$1(Zr))return[Br].concat(_toConsumableArray(xr.renderActivePoints({item:Ir,activePoint:Zr,basePoint:tn,childIndex:Mr,isRange:Dr})))}else{var hn,Jr=(hn=xr.getItemByXY(xr.state.activeCoordinate))!==null&&hn!==void 0?hn:{graphicalItem:Br},nn=Jr.graphicalItem,rn=nn.item,on=rn===void 0?Rr:rn,fn=nn.childIndex,mn=_objectSpread(_objectSpread(_objectSpread({},Ir.props),Ur),{},{activeIndex:fn});return[reactExports.cloneElement(on,mn),null,null]}return Dr?[Br,null,null]:[Br,null]}),_defineProperty(xr,"renderCustomized",function(Rr,Cr,Tr){return reactExports.cloneElement(Rr,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Tr)},xr.props),xr.state))}),_defineProperty(xr,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:xr.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:xr.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:xr.renderBrush,once:!0},Bar:{handler:xr.renderGraphicChild},Line:{handler:xr.renderGraphicChild},Area:{handler:xr.renderGraphicChild},Radar:{handler:xr.renderGraphicChild},RadialBar:{handler:xr.renderGraphicChild},Scatter:{handler:xr.renderGraphicChild},Pie:{handler:xr.renderGraphicChild},Funnel:{handler:xr.renderGraphicChild},Tooltip:{handler:xr.renderCursor,once:!0},PolarGrid:{handler:xr.renderPolarGrid,once:!0},PolarAngleAxis:{handler:xr.renderPolarAxis},PolarRadiusAxis:{handler:xr.renderPolarAxis},Customized:{handler:xr.renderCustomized}}),xr.clipPathId="".concat((vr=yr.id)!==null&&vr!==void 0?vr:uniqueId("recharts"),"-clip"),xr.throttleTriggeredAfterMouseMove=throttle$1(xr.triggeredAfterMouseMove,(_r=yr.throttleDelay)!==null&&_r!==void 0?_r:1e3/60),xr.state={},xr}return _inherits(gr,pr),_createClass(gr,[{key:"componentDidMount",value:function(){var vr,_r;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(vr=this.props.margin.left)!==null&&vr!==void 0?vr:0,top:(_r=this.props.margin.top)!==null&&_r!==void 0?_r:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var vr=this.props,_r=vr.children,xr=vr.data,Rr=vr.height,Cr=vr.layout,Tr=findChildByType(_r,Tooltip);if(Tr){var Ir=Tr.props.defaultIndex;if(!(typeof Ir!="number"||Ir<0||Ir>this.state.tooltipTicks.length-1)){var Lr=this.state.tooltipTicks[Ir]&&this.state.tooltipTicks[Ir].value,Nr=getTooltipContent(this.state,xr,Ir,Lr),Or=this.state.tooltipTicks[Ir].coordinate,Pr=(this.state.offset.top+Rr)/2,Mr=Cr==="horizontal",jr=Mr?{x:Or,y:Pr}:{y:Or,x:Pr},wr=this.state.formattedGraphicalItems.find(function(Ar){var Sr=Ar.item;return Sr.type.name==="Scatter"});wr&&(jr=_objectSpread(_objectSpread({},jr),wr.props.points[Ir].tooltipPosition),Nr=wr.props.points[Ir].tooltipPayload);var Er={activeTooltipIndex:Ir,isTooltipActive:!0,activeLabel:Lr,activePayload:Nr,activeCoordinate:jr};this.setState(Er),this.renderCursor(Tr),this.accessibilityManager.setIndex(Ir)}}}},{key:"getSnapshotBeforeUpdate",value:function(vr,_r){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_r.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==vr.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==vr.margin){var xr,Rr;this.accessibilityManager.setDetails({offset:{left:(xr=this.props.margin.left)!==null&&xr!==void 0?xr:0,top:(Rr=this.props.margin.top)!==null&&Rr!==void 0?Rr:0}})}return null}},{key:"componentDidUpdate",value:function(vr){isChildrenEqual([findChildByType(vr.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var vr=findChildByType(this.props.children,Tooltip);if(vr&&typeof vr.props.shared=="boolean"){var _r=vr.props.shared?"axis":"item";return lr.indexOf(_r)>=0?_r:ar}return ar}},{key:"getMouseInfo",value:function(vr){if(!this.container)return null;var _r=this.container,xr=_r.getBoundingClientRect(),Rr=getOffset(xr),Cr={chartX:Math.round(vr.pageX-Rr.left),chartY:Math.round(vr.pageY-Rr.top)},Tr=xr.width/_r.offsetWidth||1,Ir=this.inRange(Cr.chartX,Cr.chartY,Tr);if(!Ir)return null;var Lr=this.state,Nr=Lr.xAxisMap,Or=Lr.yAxisMap,Pr=this.getTooltipEventType(),Mr=getTooltipData(this.state,this.props.data,this.props.layout,Ir);if(Pr!=="axis"&&Nr&&Or){var jr=getAnyElementOfObject(Nr).scale,wr=getAnyElementOfObject(Or).scale,Er=jr&&jr.invert?jr.invert(Cr.chartX):null,Ar=wr&&wr.invert?wr.invert(Cr.chartY):null;return _objectSpread(_objectSpread({},Cr),{},{xValue:Er,yValue:Ar},Mr)}return Mr?_objectSpread(_objectSpread({},Cr),Mr):null}},{key:"inRange",value:function(vr,_r){var xr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Rr=this.props.layout,Cr=vr/xr,Tr=_r/xr;if(Rr==="horizontal"||Rr==="vertical"){var Ir=this.state.offset,Lr=Cr>=Ir.left&&Cr<=Ir.left+Ir.width&&Tr>=Ir.top&&Tr<=Ir.top+Ir.height;return Lr?{x:Cr,y:Tr}:null}var Nr=this.state,Or=Nr.angleAxisMap,Pr=Nr.radiusAxisMap;if(Or&&Pr){var Mr=getAnyElementOfObject(Or);return inRangeOfSector({x:Cr,y:Tr},Mr)}return null}},{key:"parseEventsOfWrapper",value:function(){var vr=this.props.children,_r=this.getTooltipEventType(),xr=findChildByType(vr,Tooltip),Rr={};xr&&_r==="axis"&&(xr.props.trigger==="click"?Rr={onClick:this.handleClick}:Rr={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Cr=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Cr),Rr)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(vr,_r,xr){for(var Rr=this.state.formattedGraphicalItems,Cr=0,Tr=Rr.length;Cr<Tr;Cr++){var Ir=Rr[Cr];if(Ir.item===vr||Ir.props.key===vr.key||_r===getDisplayName(Ir.item.type)&&xr===Ir.childIndex)return Ir}return null}},{key:"renderClipPath",value:function(){var vr=this.clipPathId,_r=this.state.offset,xr=_r.left,Rr=_r.top,Cr=_r.height,Tr=_r.width;return React.createElement("defs",null,React.createElement("clipPath",{id:vr},React.createElement("rect",{x:xr,y:Rr,height:Cr,width:Tr})))}},{key:"getXScales",value:function(){var vr=this.state.xAxisMap;return vr?Object.entries(vr).reduce(function(_r,xr){var Rr=_slicedToArray(xr,2),Cr=Rr[0],Tr=Rr[1];return _objectSpread(_objectSpread({},_r),{},_defineProperty({},Cr,Tr.scale))},{}):null}},{key:"getYScales",value:function(){var vr=this.state.yAxisMap;return vr?Object.entries(vr).reduce(function(_r,xr){var Rr=_slicedToArray(xr,2),Cr=Rr[0],Tr=Rr[1];return _objectSpread(_objectSpread({},_r),{},_defineProperty({},Cr,Tr.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(vr){var _r;return(_r=this.state.xAxisMap)===null||_r===void 0||(_r=_r[vr])===null||_r===void 0?void 0:_r.scale}},{key:"getYScaleByAxisId",value:function(vr){var _r;return(_r=this.state.yAxisMap)===null||_r===void 0||(_r=_r[vr])===null||_r===void 0?void 0:_r.scale}},{key:"getItemByXY",value:function(vr){var _r=this.state,xr=_r.formattedGraphicalItems,Rr=_r.activeItem;if(xr&&xr.length)for(var Cr=0,Tr=xr.length;Cr<Tr;Cr++){var Ir=xr[Cr],Lr=Ir.props,Nr=Ir.item,Or=Nr.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Nr.type.defaultProps),Nr.props):Nr.props,Pr=getDisplayName(Nr.type);if(Pr==="Bar"){var Mr=(Lr.data||[]).find(function(Ar){return isInRectangle(vr,Ar)});if(Mr)return{graphicalItem:Ir,payload:Mr}}else if(Pr==="RadialBar"){var jr=(Lr.data||[]).find(function(Ar){return inRangeOfSector(vr,Ar)});if(jr)return{graphicalItem:Ir,payload:jr}}else if(isFunnel(Ir,Rr)||isPie(Ir,Rr)||isScatter(Ir,Rr)){var wr=getActiveShapeIndexForTooltip({graphicalItem:Ir,activeTooltipItem:Rr,itemData:Or.data}),Er=Or.activeIndex===void 0?wr:Or.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Ir),{},{childIndex:Er}),payload:isScatter(Ir,Rr)?Or.data[wr]:Ir.props.data[wr]}}}return null}},{key:"render",value:function(){var vr=this;if(!validateWidthHeight(this))return null;var _r=this.props,xr=_r.children,Rr=_r.className,Cr=_r.width,Tr=_r.height,Ir=_r.style,Lr=_r.compact,Nr=_r.title,Or=_r.desc,Pr=_objectWithoutProperties(_r,_excluded2),Mr=filterProps(Pr,!1);if(Lr)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Mr,{width:Cr,height:Tr,title:Nr,desc:Or}),this.renderClipPath(),renderByOrder(xr,this.renderMap)));if(this.props.accessibilityLayer){var jr,wr;Mr.tabIndex=(jr=this.props.tabIndex)!==null&&jr!==void 0?jr:0,Mr.role=(wr=this.props.role)!==null&&wr!==void 0?wr:"application",Mr.onKeyDown=function(Ar){vr.accessibilityManager.keyboardEvent(Ar)},Mr.onFocus=function(){vr.accessibilityManager.focus()}}var Er=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",Rr),style:_objectSpread({position:"relative",cursor:"default",width:Cr,height:Tr},Ir)},Er,{ref:function(Sr){vr.container=Sr}}),React.createElement(Surface,_extends({},Mr,{width:Cr,height:Tr,title:Nr,desc:Or,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(xr,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(mr,"displayName",rr),_defineProperty(mr,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},dr)),_defineProperty(mr,"getDerivedStateFromProps",function(pr,gr){var yr=pr.dataKey,vr=pr.data,_r=pr.children,xr=pr.width,Rr=pr.height,Cr=pr.layout,Tr=pr.stackOffset,Ir=pr.margin,Lr=gr.dataStartIndex,Nr=gr.dataEndIndex;if(gr.updateId===void 0){var Or=createDefaultState(pr);return _objectSpread(_objectSpread(_objectSpread({},Or),{},{updateId:0},fr(_objectSpread(_objectSpread({props:pr},Or),{},{updateId:0}),gr)),{},{prevDataKey:yr,prevData:vr,prevWidth:xr,prevHeight:Rr,prevLayout:Cr,prevStackOffset:Tr,prevMargin:Ir,prevChildren:_r})}if(yr!==gr.prevDataKey||vr!==gr.prevData||xr!==gr.prevWidth||Rr!==gr.prevHeight||Cr!==gr.prevLayout||Tr!==gr.prevStackOffset||!shallowEqual(Ir,gr.prevMargin)){var Pr=createDefaultState(pr),Mr={chartX:gr.chartX,chartY:gr.chartY,isTooltipActive:gr.isTooltipActive},jr=_objectSpread(_objectSpread({},getTooltipData(gr,vr,Cr)),{},{updateId:gr.updateId+1}),wr=_objectSpread(_objectSpread(_objectSpread({},Pr),Mr),jr);return _objectSpread(_objectSpread(_objectSpread({},wr),fr(_objectSpread({props:pr},wr),gr)),{},{prevDataKey:yr,prevData:vr,prevWidth:xr,prevHeight:Rr,prevLayout:Cr,prevStackOffset:Tr,prevMargin:Ir,prevChildren:_r})}if(!isChildrenEqual(_r,gr.prevChildren)){var Er,Ar,Sr,Dr,Wr=findChildByType(_r,Brush),$r=Wr&&(Er=(Ar=Wr.props)===null||Ar===void 0?void 0:Ar.startIndex)!==null&&Er!==void 0?Er:Lr,Vr=Wr&&(Sr=(Dr=Wr.props)===null||Dr===void 0?void 0:Dr.endIndex)!==null&&Sr!==void 0?Sr:Nr,zr=$r!==Lr||Vr!==Nr,Gr=!isNil$1(vr),Fr=Gr&&!zr?gr.updateId:gr.updateId+1;return _objectSpread(_objectSpread({updateId:Fr},fr(_objectSpread(_objectSpread({props:pr},gr),{},{updateId:Fr,dataStartIndex:$r,dataEndIndex:Vr}),gr)),{},{prevChildren:_r,dataStartIndex:$r,dataEndIndex:Vr})}return null}),_defineProperty(mr,"renderActiveDot",function(pr,gr,yr){var vr;return reactExports.isValidElement(pr)?vr=reactExports.cloneElement(pr,gr):isFunction$3(pr)?vr=pr(gr):vr=React.createElement(Dot,gr),React.createElement(Layer,{className:"recharts-active-dot",key:yr},vr)});var br=reactExports.forwardRef(function(gr,yr){return React.createElement(mr,_extends({},gr,{ref:yr}))});return br.displayName=mr.displayName,br},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ComposedChart=generateCategoricalChart({chartName:"ComposedChart",GraphicalChild:[Line,Area,Bar,Scatter],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis},{axisType:"zAxis",AxisComp:ZAxis}],formatAxisMap});const COLORS$1=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"];function useChartData(tr){return reactExports.useMemo(()=>{const er=tr.reduce((dr,hr)=>dr+(hr.total||0),0),rr=tr.filter(dr=>(dr.cantidadStockBodega||0)===0).length,nr=tr.filter(dr=>dr.vinculosManual&&dr.vinculosManual.length>0).length,ir=tr.filter(dr=>dr.cantidadStockBodega===0).length,ar=tr.length>0?er/tr.length:0,lr=[{min:0,max:100,label:"$0-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1e3,label:"$500-1K"},{min:1e3,max:5e3,label:"$1K-5K"},{min:5e3,max:1e4,label:"$5K-10K"},{min:1e4,max:1/0,label:"+$10K"}].map((dr,hr)=>({name:dr.label,value:tr.filter(fr=>(fr.total||0)>=dr.min&&(fr.total||0)<dr.max).length,fill:COLORS$1[hr%COLORS$1.length]})).filter(dr=>dr.value>0),or=[...tr].sort((dr,hr)=>(hr.total||0)-(dr.total||0)).slice(0,10).map(dr=>({name:dr.codigoSAP.substring(0,10),valor:dr.total||0,stock:dr.cantidadStockBodega||0})),cr=[...tr].map(dr=>({name:dr.codigoSAP.substring(0,8),solicitado:dr.cantidadSolicitada,stock:dr.cantidadStockBodega||0,diferencia:dr.cantidadSolicitada-(dr.cantidadStockBodega||0)})).sort((dr,hr)=>hr.diferencia-dr.diferencia).slice(0,15).map(({name:dr,solicitado:hr,stock:fr})=>({name:dr,solicitado:hr,stock:fr})),ur=[{min:0,max:10,label:"$0-10"},{min:10,max:50,label:"$10-50"},{min:50,max:100,label:"$50-100"},{min:100,max:500,label:"$100-500"},{min:500,max:1/0,label:"+$500"}].map((dr,hr)=>({rango:dr.label,cantidad:tr.filter(fr=>fr.valorUnitario>=dr.min&&fr.valorUnitario<dr.max).length,fill:COLORS$1[hr%COLORS$1.length]})).filter(dr=>dr.cantidad>0);return{distribucionValor:lr,topPorValor:or,stockVsSolicitado:cr,rangosPrecios:ur,totales:{totalRepuestos:tr.length,totalUSD:er,sinStock:rr,conMarcador:nr,stockCero:ir,promedioValor:ar}}},[tr])}function ReportsModal({isOpen:tr,onClose:er,repuestos:rr}){const[nr,ir]=reactExports.useState("resumen"),ar=useChartData(rr);if(!tr)return null;const sr=[{id:"resumen",label:"Resumen",icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"})},{id:"valor",label:"Por Valor",icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"})},{id:"stock",label:"Stock",icon:jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"})},{id:"precios",label:"Precios",icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"})}];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:er,children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",onClick:lr=>lr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-6 h-6 text-primary-600"}),"Reportes y Anlisis"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[rr.length," repuestos analizados"]})]}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"px-6 border-b border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:sr.map(lr=>jsxRuntimeExports.jsxs("button",{onClick:()=>ir(lr.id),className:`
                  flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors
                  ${nr===lr.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}
                `,children:[lr.icon,lr.label]},lr.id))})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[nr==="resumen"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(Package,{className:"w-5 h-5"}),label:"Total Repuestos",value:ar.totales.totalRepuestos,color:"blue"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5"}),label:"Total USD",value:`$${ar.totales.totalUSD.toLocaleString("es-CL",{maximumFractionDigits:0})}`,color:"green"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5"}),label:"Sin Stock",value:ar.totales.sinStock,subValue:`${(ar.totales.sinStock/ar.totales.totalRepuestos*100).toFixed(1)}%`,color:"red"}),jsxRuntimeExports.jsx(StatCard,{icon:jsxRuntimeExports.jsx(BookMarked,{className:"w-5 h-5"}),label:"Con Marcador",value:ar.totales.conMarcador,subValue:`${(ar.totales.conMarcador/ar.totales.totalRepuestos*100).toFixed(1)}%`,color:"purple"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin por Rango de Valor Total"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:ar.distribucionValor,cx:"50%",cy:"50%",outerRadius:80,innerRadius:40,paddingAngle:2,dataKey:"value",label:({name:lr,percent:or})=>`${lr} (${((or||0)*100).toFixed(0)}%)`,labelLine:!1,children:ar.distribucionValor.map((lr,or)=>jsxRuntimeExports.jsx(Cell,{fill:lr.fill},`cell-${or}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Repuestos por Precio Unitario"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:ar.rangosPrecios,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{dataKey:"rango",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:11}}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"cantidad",name:"Cantidad",radius:[4,4,0,0],children:ar.rangosPrecios.map((lr,or)=>jsxRuntimeExports.jsx(Cell,{fill:lr.fill},`cell-${or}`))})]})})})]})]})]}),nr==="valor"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Top 10 Repuestos por Valor Total USD"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ComposedChart,{data:ar.topPorValor,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{type:"number",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"name",type:"category",width:80,tick:{fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{formatter:lr=>[`$${(lr||0).toLocaleString("es-CL",{maximumFractionDigits:2})}`,"Valor"]}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"valor",name:"Valor USD",fill:"#3b82f6",radius:[0,4,4,0]}),jsxRuntimeExports.jsx(Line,{dataKey:"stock",name:"Stock",stroke:"#10b981",strokeWidth:2})]})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("th",{className:"pb-2",children:"#"}),jsxRuntimeExports.jsx("th",{className:"pb-2",children:"Cdigo"}),jsxRuntimeExports.jsx("th",{className:"pb-2 text-right",children:"Valor USD"}),jsxRuntimeExports.jsx("th",{className:"pb-2 text-right",children:"Stock"})]})}),jsxRuntimeExports.jsx("tbody",{children:ar.topPorValor.map((lr,or)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("td",{className:"py-2 text-gray-400",children:or+1}),jsxRuntimeExports.jsx("td",{className:"py-2 font-mono font-medium dark:text-gray-200",children:lr.name}),jsxRuntimeExports.jsxs("td",{className:"py-2 text-right text-green-600 dark:text-green-400",children:["$",lr.valor.toLocaleString("es-CL",{maximumFractionDigits:2})]}),jsxRuntimeExports.jsx("td",{className:"py-2 text-right dark:text-gray-200",children:lr.stock})]},or))})]})})]}),nr==="stock"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Cantidad Solicitada vs Stock Disponible"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Top 15 con mayor diferencia entre solicitado y stock"}),jsxRuntimeExports.jsx("div",{className:"h-96",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:ar.stockVsSolicitado,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",opacity:.3}),jsxRuntimeExports.jsx(XAxis,{type:"number",tick:{fontSize:11}}),jsxRuntimeExports.jsx(YAxis,{dataKey:"name",type:"category",width:70,tick:{fontSize:10}}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"solicitado",name:"Solicitado",fill:"#f59e0b",radius:[0,4,4,0]}),jsxRuntimeExports.jsx(Bar,{dataKey:"stock",name:"Stock",fill:"#10b981",radius:[0,4,4,0]})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:ar.totales.stockCero}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Stock en cero"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:rr.filter(lr=>(lr.cantidadStockBodega||0)<lr.cantidadSolicitada).length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Stock insuficiente"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:rr.filter(lr=>(lr.cantidadStockBodega||0)>=lr.cantidadSolicitada).length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Stock suficiente"})]})]})]}),nr==="precios"&&jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Estadsticas de Precios"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Promedio por repuesto"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",ar.totales.promedioValor.toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms alto"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:["$",Math.max(...rr.map(lr=>lr.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Valor ms bajo"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:["$",Math.min(...rr.filter(lr=>(lr.total||0)>0).map(lr=>lr.total||0)).toLocaleString("es-CL",{maximumFractionDigits:2})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Distribucin de Precios Unitarios"}),jsxRuntimeExports.jsx("div",{className:"h-52",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:ar.rangosPrecios,cx:"50%",cy:"50%",outerRadius:70,innerRadius:30,paddingAngle:2,dataKey:"cantidad",label:({name:lr})=>lr,labelLine:!1,children:ar.rangosPrecios.map((lr,or)=>jsxRuntimeExports.jsx(Cell,{fill:lr.fill},`cell-${or}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})})})]})]})})]})]})})}function StatCard({icon:tr,label:er,value:rr,subValue:nr,color:ir}){const ar={blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400"};return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-4 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${ar[ir]}`,children:tr}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:er}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-white",children:rr}),nr&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:nr})]})]})})}function _typeof(tr){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof(tr)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(tr,er){for(var rr=new u16(31),nr=0;nr<31;++nr)rr[nr]=er+=1<<tr[nr-1];for(var ir=new i32(rr[30]),nr=1;nr<30;++nr)for(var ar=rr[nr];ar<rr[nr+1];++ar)ir[ar]=ar-rr[nr]<<5|nr;return{b:rr,r:ir}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(tr,er,rr){for(var nr=tr.length,ir=0,ar=new u16(er);ir<nr;++ir)tr[ir]&&++ar[tr[ir]-1];var sr=new u16(er);for(ir=1;ir<er;++ir)sr[ir]=sr[ir-1]+ar[ir-1]<<1;var lr;if(rr){lr=new u16(1<<er);var or=15-er;for(ir=0;ir<nr;++ir)if(tr[ir])for(var cr=ir<<4|tr[ir],ur=er-tr[ir],dr=sr[tr[ir]-1]++<<ur,hr=dr|(1<<ur)-1;dr<=hr;++dr)lr[rev[dr]>>or]=cr}else for(lr=new u16(nr),ir=0;ir<nr;++ir)tr[ir]&&(lr[ir]=rev[sr[tr[ir]-1]++]>>15-tr[ir]);return lr},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(tr){for(var er=tr[0],rr=1;rr<tr.length;++rr)tr[rr]>er&&(er=tr[rr]);return er},bits=function(tr,er,rr){var nr=er/8|0;return(tr[nr]|tr[nr+1]<<8)>>(er&7)&rr},bits16=function(tr,er){var rr=er/8|0;return(tr[rr]|tr[rr+1]<<8|tr[rr+2]<<16)>>(er&7)},shft=function(tr){return(tr+7)/8|0},slc=function(tr,er,rr){return(rr==null||rr>tr.length)&&(rr=tr.length),new u8(tr.subarray(er,rr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(tr,er,rr){var nr=new Error(er||ec[tr]);if(nr.code=tr,Error.captureStackTrace&&Error.captureStackTrace(nr,err),!rr)throw nr;return nr},inflt=function(tr,er,rr,nr){var ir=tr.length,ar=0;if(!ir||er.f&&!er.l)return rr||new u8(0);var sr=!rr,lr=sr||er.i!=2,or=er.i;sr&&(rr=new u8(ir*3));var cr=function(Zr){var tn=rr.length;if(Zr>tn){var sn=new u8(Math.max(tn*2,Zr));sn.set(rr),rr=sn}},ur=er.f||0,dr=er.p||0,hr=er.b||0,fr=er.l,mr=er.d,br=er.m,pr=er.n,gr=ir*8;do{if(!fr){ur=bits(tr,dr,1);var yr=bits(tr,dr+1,3);if(dr+=3,yr)if(yr==1)fr=flrm,mr=fdrm,br=9,pr=5;else if(yr==2){var Rr=bits(tr,dr,31)+257,Cr=bits(tr,dr+10,15)+4,Tr=Rr+bits(tr,dr+5,31)+1;dr+=14;for(var Ir=new u8(Tr),Lr=new u8(19),Nr=0;Nr<Cr;++Nr)Lr[clim[Nr]]=bits(tr,dr+Nr*3,7);dr+=Cr*3;for(var Or=max(Lr),Pr=(1<<Or)-1,Mr=hMap(Lr,Or,1),Nr=0;Nr<Tr;){var jr=Mr[bits(tr,dr,Pr)];dr+=jr&15;var vr=jr>>4;if(vr<16)Ir[Nr++]=vr;else{var wr=0,Er=0;for(vr==16?(Er=3+bits(tr,dr,3),dr+=2,wr=Ir[Nr-1]):vr==17?(Er=3+bits(tr,dr,7),dr+=3):vr==18&&(Er=11+bits(tr,dr,127),dr+=7);Er--;)Ir[Nr++]=wr}}var Ar=Ir.subarray(0,Rr),Sr=Ir.subarray(Rr);br=max(Ar),pr=max(Sr),fr=hMap(Ar,br,1),mr=hMap(Sr,pr,1)}else err(1);else{var vr=shft(dr)+4,_r=tr[vr-4]|tr[vr-3]<<8,xr=vr+_r;if(xr>ir){or&&err(0);break}lr&&cr(hr+_r),rr.set(tr.subarray(vr,xr),hr),er.b=hr+=_r,er.p=dr=xr*8,er.f=ur;continue}if(dr>gr){or&&err(0);break}}lr&&cr(hr+131072);for(var Dr=(1<<br)-1,Wr=(1<<pr)-1,$r=dr;;$r=dr){var wr=fr[bits16(tr,dr)&Dr],Vr=wr>>4;if(dr+=wr&15,dr>gr){or&&err(0);break}if(wr||err(2),Vr<256)rr[hr++]=Vr;else if(Vr==256){$r=dr,fr=null;break}else{var zr=Vr-254;if(Vr>264){var Nr=Vr-257,Gr=fleb[Nr];zr=bits(tr,dr,(1<<Gr)-1)+fl[Nr],dr+=Gr}var Fr=mr[bits16(tr,dr)&Wr],Xr=Fr>>4;Fr||err(3),dr+=Fr&15;var Sr=fd[Xr];if(Xr>3){var Gr=fdeb[Xr];Sr+=bits16(tr,dr)&(1<<Gr)-1,dr+=Gr}if(dr>gr){or&&err(0);break}lr&&cr(hr+131072);var Ur=hr+zr;if(hr<Sr){var Br=ar-Sr,Kr=Math.min(Sr,Ur);for(Br+hr<0&&err(3);hr<Kr;++hr)rr[hr]=nr[Br+hr]}for(;hr<Ur;++hr)rr[hr]=rr[hr-Sr]}}er.l=fr,er.p=$r,er.b=hr,er.f=ur,fr&&(ur=1,er.m=br,er.d=mr,er.n=pr)}while(!ur);return hr!=rr.length&&sr?slc(rr,0,hr):rr.subarray(0,hr)},wbits=function(tr,er,rr){rr<<=er&7;var nr=er/8|0;tr[nr]|=rr,tr[nr+1]|=rr>>8},wbits16=function(tr,er,rr){rr<<=er&7;var nr=er/8|0;tr[nr]|=rr,tr[nr+1]|=rr>>8,tr[nr+2]|=rr>>16},hTree=function(tr,er){for(var rr=[],nr=0;nr<tr.length;++nr)tr[nr]&&rr.push({s:nr,f:tr[nr]});var ir=rr.length,ar=rr.slice();if(!ir)return{t:et$1,l:0};if(ir==1){var sr=new u8(rr[0].s+1);return sr[rr[0].s]=1,{t:sr,l:1}}rr.sort(function(xr,Rr){return xr.f-Rr.f}),rr.push({s:-1,f:25001});var lr=rr[0],or=rr[1],cr=0,ur=1,dr=2;for(rr[0]={s:-1,f:lr.f+or.f,l:lr,r:or};ur!=ir-1;)lr=rr[rr[cr].f<rr[dr].f?cr++:dr++],or=rr[cr!=ur&&rr[cr].f<rr[dr].f?cr++:dr++],rr[ur++]={s:-1,f:lr.f+or.f,l:lr,r:or};for(var hr=ar[0].s,nr=1;nr<ir;++nr)ar[nr].s>hr&&(hr=ar[nr].s);var fr=new u16(hr+1),mr=ln(rr[ur-1],fr,0);if(mr>er){var nr=0,br=0,pr=mr-er,gr=1<<pr;for(ar.sort(function(Rr,Cr){return fr[Cr.s]-fr[Rr.s]||Rr.f-Cr.f});nr<ir;++nr){var yr=ar[nr].s;if(fr[yr]>er)br+=gr-(1<<mr-fr[yr]),fr[yr]=er;else break}for(br>>=pr;br>0;){var vr=ar[nr].s;fr[vr]<er?br-=1<<er-fr[vr]++-1:++nr}for(;nr>=0&&br;--nr){var _r=ar[nr].s;fr[_r]==er&&(--fr[_r],++br)}mr=er}return{t:new u8(fr),l:mr}},ln=function(tr,er,rr){return tr.s==-1?Math.max(ln(tr.l,er,rr+1),ln(tr.r,er,rr+1)):er[tr.s]=rr},lc=function(tr){for(var er=tr.length;er&&!tr[--er];);for(var rr=new u16(++er),nr=0,ir=tr[0],ar=1,sr=function(or){rr[nr++]=or},lr=1;lr<=er;++lr)if(tr[lr]==ir&&lr!=er)++ar;else{if(!ir&&ar>2){for(;ar>138;ar-=138)sr(32754);ar>2&&(sr(ar>10?ar-11<<5|28690:ar-3<<5|12305),ar=0)}else if(ar>3){for(sr(ir),--ar;ar>6;ar-=6)sr(8304);ar>2&&(sr(ar-3<<5|8208),ar=0)}for(;ar--;)sr(ir);ar=1,ir=tr[lr]}return{c:rr.subarray(0,nr),n:er}},clen=function(tr,er){for(var rr=0,nr=0;nr<er.length;++nr)rr+=tr[nr]*er[nr];return rr},wfblk=function(tr,er,rr){var nr=rr.length,ir=shft(er+2);tr[ir]=nr&255,tr[ir+1]=nr>>8,tr[ir+2]=tr[ir]^255,tr[ir+3]=tr[ir+1]^255;for(var ar=0;ar<nr;++ar)tr[ir+ar+4]=rr[ar];return(ir+4+nr)*8},wblk=function(tr,er,rr,nr,ir,ar,sr,lr,or,cr,ur){wbits(er,ur++,rr),++ir[256];for(var dr=hTree(ir,15),hr=dr.t,fr=dr.l,mr=hTree(ar,15),br=mr.t,pr=mr.l,gr=lc(hr),yr=gr.c,vr=gr.n,_r=lc(br),xr=_r.c,Rr=_r.n,Cr=new u16(19),Tr=0;Tr<yr.length;++Tr)++Cr[yr[Tr]&31];for(var Tr=0;Tr<xr.length;++Tr)++Cr[xr[Tr]&31];for(var Ir=hTree(Cr,7),Lr=Ir.t,Nr=Ir.l,Or=19;Or>4&&!Lr[clim[Or-1]];--Or);var Pr=cr+5<<3,Mr=clen(ir,flt)+clen(ar,fdt)+sr,jr=clen(ir,hr)+clen(ar,br)+sr+14+3*Or+clen(Cr,Lr)+2*Cr[16]+3*Cr[17]+7*Cr[18];if(or>=0&&Pr<=Mr&&Pr<=jr)return wfblk(er,ur,tr.subarray(or,or+cr));var wr,Er,Ar,Sr;if(wbits(er,ur,1+(jr<Mr)),ur+=2,jr<Mr){wr=hMap(hr,fr,0),Er=hr,Ar=hMap(br,pr,0),Sr=br;var Dr=hMap(Lr,Nr,0);wbits(er,ur,vr-257),wbits(er,ur+5,Rr-1),wbits(er,ur+10,Or-4),ur+=14;for(var Tr=0;Tr<Or;++Tr)wbits(er,ur+3*Tr,Lr[clim[Tr]]);ur+=3*Or;for(var Wr=[yr,xr],$r=0;$r<2;++$r)for(var Vr=Wr[$r],Tr=0;Tr<Vr.length;++Tr){var zr=Vr[Tr]&31;wbits(er,ur,Dr[zr]),ur+=Lr[zr],zr>15&&(wbits(er,ur,Vr[Tr]>>5&127),ur+=Vr[Tr]>>12)}}else wr=flm,Er=flt,Ar=fdm,Sr=fdt;for(var Tr=0;Tr<lr;++Tr){var Gr=nr[Tr];if(Gr>255){var zr=Gr>>18&31;wbits16(er,ur,wr[zr+257]),ur+=Er[zr+257],zr>7&&(wbits(er,ur,Gr>>23&31),ur+=fleb[zr]);var Fr=Gr&31;wbits16(er,ur,Ar[Fr]),ur+=Sr[Fr],Fr>3&&(wbits16(er,ur,Gr>>5&8191),ur+=fdeb[Fr])}else wbits16(er,ur,wr[Gr]),ur+=Er[Gr]}return wbits16(er,ur,wr[256]),ur+Er[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(tr,er,rr,nr,ir,ar){var sr=ar.z||tr.length,lr=new u8(nr+sr+5*(1+Math.ceil(sr/7e3))+ir),or=lr.subarray(nr,lr.length-ir),cr=ar.l,ur=(ar.r||0)&7;if(er){ur&&(or[0]=ar.r>>3);for(var dr=deo[er-1],hr=dr>>13,fr=dr&8191,mr=(1<<rr)-1,br=ar.p||new u16(32768),pr=ar.h||new u16(mr+1),gr=Math.ceil(rr/3),yr=2*gr,vr=function(un){return(tr[un]^tr[un+1]<<gr^tr[un+2]<<yr)&mr},_r=new i32(25e3),xr=new u16(288),Rr=new u16(32),Cr=0,Tr=0,Ir=ar.i||0,Lr=0,Nr=ar.w||0,Or=0;Ir+2<sr;++Ir){var Pr=vr(Ir),Mr=Ir&32767,jr=pr[Pr];if(br[Mr]=jr,pr[Pr]=Mr,Nr<=Ir){var wr=sr-Ir;if((Cr>7e3||Lr>24576)&&(wr>423||!cr)){ur=wblk(tr,or,0,_r,xr,Rr,Tr,Lr,Or,Ir-Or,ur),Lr=Cr=Tr=0,Or=Ir;for(var Er=0;Er<286;++Er)xr[Er]=0;for(var Er=0;Er<30;++Er)Rr[Er]=0}var Ar=2,Sr=0,Dr=fr,Wr=Mr-jr&32767;if(wr>2&&Pr==vr(Ir-Wr))for(var $r=Math.min(hr,wr)-1,Vr=Math.min(32767,Ir),zr=Math.min(258,wr);Wr<=Vr&&--Dr&&Mr!=jr;){if(tr[Ir+Ar]==tr[Ir+Ar-Wr]){for(var Gr=0;Gr<zr&&tr[Ir+Gr]==tr[Ir+Gr-Wr];++Gr);if(Gr>Ar){if(Ar=Gr,Sr=Wr,Gr>$r)break;for(var Fr=Math.min(Wr,Gr-2),Xr=0,Er=0;Er<Fr;++Er){var Ur=Ir-Wr+Er&32767,Br=br[Ur],Kr=Ur-Br&32767;Kr>Xr&&(Xr=Kr,jr=Ur)}}}Mr=jr,jr=br[Mr],Wr+=Mr-jr&32767}if(Sr){_r[Lr++]=268435456|revfl[Ar]<<18|revfd[Sr];var Zr=revfl[Ar]&31,tn=revfd[Sr]&31;Tr+=fleb[Zr]+fdeb[tn],++xr[257+Zr],++Rr[tn],Nr=Ir+Ar,++Cr}else _r[Lr++]=tr[Ir],++xr[tr[Ir]]}}for(Ir=Math.max(Ir,Nr);Ir<sr;++Ir)_r[Lr++]=tr[Ir],++xr[tr[Ir]];ur=wblk(tr,or,cr,_r,xr,Rr,Tr,Lr,Or,Ir-Or,ur),cr||(ar.r=ur&7|or[ur/8|0]<<3,ur-=7,ar.h=pr,ar.p=br,ar.i=Ir,ar.w=Nr)}else{for(var Ir=ar.w||0;Ir<sr+cr;Ir+=65535){var sn=Ir+65535;sn>=sr&&(or[ur/8|0]=cr,sn=sr),ur=wfblk(or,ur+1,tr.subarray(Ir,sn))}ar.i=sr}return slc(lr,0,nr+shft(ur)+ir)},adler=function(){var tr=1,er=0;return{p:function(rr){for(var nr=tr,ir=er,ar=rr.length|0,sr=0;sr!=ar;){for(var lr=Math.min(sr+2655,ar);sr<lr;++sr)ir+=nr+=rr[sr];nr=(nr&65535)+15*(nr>>16),ir=(ir&65535)+15*(ir>>16)}tr=nr,er=ir},d:function(){return tr%=65521,er%=65521,(tr&255)<<24|(tr&65280)<<8|(er&255)<<8|er>>8}}},dopt=function(tr,er,rr,nr,ir){if(!ir&&(ir={l:1},er.dictionary)){var ar=er.dictionary.subarray(-32768),sr=new u8(ar.length+tr.length);sr.set(ar),sr.set(tr,ar.length),tr=sr,ir.w=ar.length}return dflt(tr,er.level==null?6:er.level,er.mem==null?ir.l?Math.ceil(Math.max(8,Math.min(13,Math.log(tr.length)))*1.5):20:12+er.mem,rr,nr,ir)},wbytes=function(tr,er,rr){for(;rr;++er)tr[er]=rr,rr>>>=8},zlh=function(tr,er){var rr=er.level,nr=rr==0?0:rr<6?1:rr==9?3:2;if(tr[0]=120,tr[1]=nr<<6|(er.dictionary&&32),tr[1]|=31-(tr[0]<<8|tr[1])%31,er.dictionary){var ir=adler();ir.p(er.dictionary),wbytes(tr,2,ir.d())}},zls=function(tr,er){return((tr[0]&15)!=8||tr[0]>>4>7||(tr[0]<<8|tr[1])%31)&&err(6,"invalid zlib data"),(tr[1]>>5&1)==1&&err(6,"invalid zlib data: "+(tr[1]&32?"need":"unexpected")+" dictionary"),(tr[1]>>3&4)+2};function zlibSync(tr,er){er||(er={});var rr=adler();rr.p(tr);var nr=dopt(tr,er,er.dictionary?6:2,4);return zlh(nr,er),wbytes(nr,nr.length-4,rr.d()),nr}function unzlibSync(tr,er){return inflt(tr.subarray(zls(tr),-4),{i:2},er,er)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(tr){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(tr){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(tr){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(tr))}};function o(tr,er,rr){var nr=new XMLHttpRequest;nr.open("GET",tr),nr.responseType="blob",nr.onload=function(){l(nr.response,er,rr)},nr.onerror=function(){a.error("could not download file")},nr.send()}function s(tr){var er=new XMLHttpRequest;er.open("HEAD",tr,!1);try{er.send()}catch{}return er.status>=200&&er.status<=299}function c(tr){try{tr.dispatchEvent(new MouseEvent("click"))}catch{var er=document.createEvent("MouseEvents");er.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),tr.dispatchEvent(er)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(tr,er,rr){var nr=n.URL||n.webkitURL,ir=document.createElement("a");er=er||tr.name||"download",ir.download=er,ir.rel="noopener",typeof tr=="string"?(ir.href=tr,ir.origin!==location.origin?s(ir.href)?o(tr,er,rr):c(ir,ir.target="_blank"):c(ir)):(ir.href=nr.createObjectURL(tr),setTimeout(function(){nr.revokeObjectURL(ir.href)},4e4),setTimeout(function(){c(ir)},0))}:"msSaveOrOpenBlob"in navigator?function(tr,er,rr){if(er=er||tr.name||"download",typeof tr=="string")if(s(tr))o(tr,er,rr);else{var nr=document.createElement("a");nr.href=tr,nr.target="_blank",setTimeout(function(){c(nr)})}else navigator.msSaveOrOpenBlob(function(ir,ar){return ar===void 0?ar={autoBom:!1}:_typeof(ar)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),ar={autoBom:!ar}),ar.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ir.type)?new Blob(["\uFEFF",ir],{type:ir.type}):ir}(tr,rr),er)}:function(tr,er,rr,nr){if((nr=nr||open("","_blank"))&&(nr.document.title=nr.document.body.innerText="downloading..."),typeof tr=="string")return o(tr,er,rr);var ir=tr.type==="application/octet-stream",ar=/constructor/i.test(n.HTMLElement)||n.safari,sr=/CriOS\/[\d]+/.test(navigator.userAgent);if((sr||ir&&ar)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var lr=new FileReader;lr.onloadend=function(){var ur=lr.result;ur=sr?ur:ur.replace(/^data:[^;]*;/,"data:attachment/file;"),nr?nr.location.href=ur:location=ur,nr=null},lr.readAsDataURL(tr)}else{var or=n.URL||n.webkitURL,cr=or.createObjectURL(tr);nr?nr.location=cr:location.href=cr,nr=null,setTimeout(function(){or.revokeObjectURL(cr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(tr){var er;tr=tr||"",this.ok=!1,tr.charAt(0)=="#"&&(tr=tr.substr(1,6)),tr={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[tr=(tr=tr.replace(/ /g,"")).toLowerCase()]||tr;for(var rr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(lr){return[parseInt(lr[1]),parseInt(lr[2]),parseInt(lr[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(lr){return[parseInt(lr[1],16),parseInt(lr[2],16),parseInt(lr[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(lr){return[parseInt(lr[1]+lr[1],16),parseInt(lr[2]+lr[2],16),parseInt(lr[3]+lr[3],16)]}}],nr=0;nr<rr.length;nr++){var ir=rr[nr].re,ar=rr[nr].process,sr=ir.exec(tr);sr&&(er=ar(sr),this.r=er[0],this.g=er[1],this.b=er[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var lr=this.r.toString(16),or=this.g.toString(16),cr=this.b.toString(16);return lr.length==1&&(lr="0"+lr),or.length==1&&(or="0"+or),cr.length==1&&(cr="0"+cr),"#"+lr+or+cr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(tr,er){var rr=tr[0],nr=tr[1],ir=tr[2],ar=tr[3];rr=g(rr,nr,ir,ar,er[0],7,-680876936),ar=g(ar,rr,nr,ir,er[1],12,-389564586),ir=g(ir,ar,rr,nr,er[2],17,606105819),nr=g(nr,ir,ar,rr,er[3],22,-1044525330),rr=g(rr,nr,ir,ar,er[4],7,-176418897),ar=g(ar,rr,nr,ir,er[5],12,1200080426),ir=g(ir,ar,rr,nr,er[6],17,-1473231341),nr=g(nr,ir,ar,rr,er[7],22,-45705983),rr=g(rr,nr,ir,ar,er[8],7,1770035416),ar=g(ar,rr,nr,ir,er[9],12,-1958414417),ir=g(ir,ar,rr,nr,er[10],17,-42063),nr=g(nr,ir,ar,rr,er[11],22,-1990404162),rr=g(rr,nr,ir,ar,er[12],7,1804603682),ar=g(ar,rr,nr,ir,er[13],12,-40341101),ir=g(ir,ar,rr,nr,er[14],17,-1502002290),rr=m(rr,nr=g(nr,ir,ar,rr,er[15],22,1236535329),ir,ar,er[1],5,-165796510),ar=m(ar,rr,nr,ir,er[6],9,-1069501632),ir=m(ir,ar,rr,nr,er[11],14,643717713),nr=m(nr,ir,ar,rr,er[0],20,-373897302),rr=m(rr,nr,ir,ar,er[5],5,-701558691),ar=m(ar,rr,nr,ir,er[10],9,38016083),ir=m(ir,ar,rr,nr,er[15],14,-660478335),nr=m(nr,ir,ar,rr,er[4],20,-405537848),rr=m(rr,nr,ir,ar,er[9],5,568446438),ar=m(ar,rr,nr,ir,er[14],9,-1019803690),ir=m(ir,ar,rr,nr,er[3],14,-187363961),nr=m(nr,ir,ar,rr,er[8],20,1163531501),rr=m(rr,nr,ir,ar,er[13],5,-1444681467),ar=m(ar,rr,nr,ir,er[2],9,-51403784),ir=m(ir,ar,rr,nr,er[7],14,1735328473),rr=v(rr,nr=m(nr,ir,ar,rr,er[12],20,-1926607734),ir,ar,er[5],4,-378558),ar=v(ar,rr,nr,ir,er[8],11,-2022574463),ir=v(ir,ar,rr,nr,er[11],16,1839030562),nr=v(nr,ir,ar,rr,er[14],23,-35309556),rr=v(rr,nr,ir,ar,er[1],4,-1530992060),ar=v(ar,rr,nr,ir,er[4],11,1272893353),ir=v(ir,ar,rr,nr,er[7],16,-155497632),nr=v(nr,ir,ar,rr,er[10],23,-1094730640),rr=v(rr,nr,ir,ar,er[13],4,681279174),ar=v(ar,rr,nr,ir,er[0],11,-358537222),ir=v(ir,ar,rr,nr,er[3],16,-722521979),nr=v(nr,ir,ar,rr,er[6],23,76029189),rr=v(rr,nr,ir,ar,er[9],4,-640364487),ar=v(ar,rr,nr,ir,er[12],11,-421815835),ir=v(ir,ar,rr,nr,er[15],16,530742520),rr=b(rr,nr=v(nr,ir,ar,rr,er[2],23,-995338651),ir,ar,er[0],6,-198630844),ar=b(ar,rr,nr,ir,er[7],10,1126891415),ir=b(ir,ar,rr,nr,er[14],15,-1416354905),nr=b(nr,ir,ar,rr,er[5],21,-57434055),rr=b(rr,nr,ir,ar,er[12],6,1700485571),ar=b(ar,rr,nr,ir,er[3],10,-1894986606),ir=b(ir,ar,rr,nr,er[10],15,-1051523),nr=b(nr,ir,ar,rr,er[1],21,-2054922799),rr=b(rr,nr,ir,ar,er[8],6,1873313359),ar=b(ar,rr,nr,ir,er[15],10,-30611744),ir=b(ir,ar,rr,nr,er[6],15,-1560198380),nr=b(nr,ir,ar,rr,er[13],21,1309151649),rr=b(rr,nr,ir,ar,er[4],6,-145523070),ar=b(ar,rr,nr,ir,er[11],10,-1120210379),ir=b(ir,ar,rr,nr,er[2],15,718787259),nr=b(nr,ir,ar,rr,er[9],21,-343485551),tr[0]=_(rr,tr[0]),tr[1]=_(nr,tr[1]),tr[2]=_(ir,tr[2]),tr[3]=_(ar,tr[3])}function p(tr,er,rr,nr,ir,ar){return er=_(_(er,tr),_(nr,ar)),_(er<<ir|er>>>32-ir,rr)}function g(tr,er,rr,nr,ir,ar,sr){return p(er&rr|~er&nr,tr,er,ir,ar,sr)}function m(tr,er,rr,nr,ir,ar,sr){return p(er&nr|rr&~nr,tr,er,ir,ar,sr)}function v(tr,er,rr,nr,ir,ar,sr){return p(er^rr^nr,tr,er,ir,ar,sr)}function b(tr,er,rr,nr,ir,ar,sr){return p(rr^(er|~nr),tr,er,ir,ar,sr)}function y(tr){var er,rr=tr.length,nr=[1732584193,-271733879,-1732584194,271733878];for(er=64;er<=tr.length;er+=64)d(nr,w(tr.substring(er-64,er)));tr=tr.substring(er-64);var ir=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(er=0;er<tr.length;er++)ir[er>>2]|=tr.charCodeAt(er)<<(er%4<<3);if(ir[er>>2]|=128<<(er%4<<3),er>55)for(d(nr,ir),er=0;er<16;er++)ir[er]=0;return ir[14]=8*rr,d(nr,ir),nr}function w(tr){var er,rr=[];for(er=0;er<64;er+=4)rr[er>>2]=tr.charCodeAt(er)+(tr.charCodeAt(er+1)<<8)+(tr.charCodeAt(er+2)<<16)+(tr.charCodeAt(er+3)<<24);return rr}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(tr){for(var er="",rr=0;rr<4;rr++)er+=N[tr>>8*rr+4&15]+N[tr>>8*rr&15];return er}function A(tr){return String.fromCharCode((255&tr)>>0,(65280&tr)>>8,(16711680&tr)>>16,(4278190080&tr)>>24)}function x(tr){return y(tr).map(A).join("")}var S=function(tr){for(var er=0;er<tr.length;er++)tr[er]=L(tr[er]);return tr.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(tr,er){if(S){var rr=(65535&tr)+(65535&er);return(tr>>16)+(er>>16)+(rr>>16)<<16|65535&rr}return tr+er&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(tr,er){var rr,nr,ir,ar;if(tr!==rr){for(var sr=(ir=tr,ar=1+(256/tr.length>>0),new Array(ar+1).join(ir)),lr=[],or=0;or<256;or++)lr[or]=or;var cr=0;for(or=0;or<256;or++){var ur=lr[or];cr=(cr+ur+sr.charCodeAt(or))%256,lr[or]=lr[cr],lr[cr]=ur}rr=tr,nr=lr}else lr=nr;var dr=er.length,hr=0,fr=0,mr="";for(or=0;or<dr;or++)fr=(fr+(ur=lr[hr=(hr+1)%256]))%256,lr[hr]=lr[fr],lr[fr]=ur,sr=lr[(lr[hr]+lr[fr])%256],mr+=String.fromCharCode(er.charCodeAt(or)^sr);return mr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(tr,er,rr,nr){this.v=1,this.r=2;var ir=192;tr.forEach(function(lr){if(k.perm!==void 0)throw new Error("Invalid permission: "+lr);ir+=k[lr]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ar=(er+this.padding).substr(0,32),sr=(rr+this.padding).substr(0,32);this.O=this.processOwnerPassword(ar,sr),this.P=-(1+(255^ir)),this.encryptionKey=x(ar+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(nr)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(tr){if(/[^\u0000-\u00ff]/.test(tr))throw new Error("Invalid PDF Name Object: "+tr+", Only accept ASCII characters.");for(var er="",rr=tr.length,nr=0;nr<rr;nr++){var ir=tr.charCodeAt(nr);ir<33||ir===35||ir===37||ir===40||ir===41||ir===47||ir===60||ir===62||ir===91||ir===93||ir===123||ir===125||ir>126?er+="#"+("0"+ir.toString(16)).slice(-2):er+=tr[nr]}return er}function C(tr){if(_typeof(tr)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var er={};this.subscribe=function(rr,nr,ir){if(ir=ir||!1,typeof rr!="string"||typeof nr!="function"||typeof ir!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");er.hasOwnProperty(rr)||(er[rr]={});var ar=Math.random().toString(35);return er[rr][ar]=[nr,!!ir],ar},this.unsubscribe=function(rr){for(var nr in er)if(er[nr][rr])return delete er[nr][rr],Object.keys(er[nr]).length===0&&delete er[nr],!0;return!1},this.publish=function(rr){if(er.hasOwnProperty(rr)){var nr=Array.prototype.slice.call(arguments,1),ir=[];for(var ar in er[rr]){var sr=er[rr][ar];try{sr[0].apply(tr,nr)}catch(lr){n.console&&a.error("jsPDF PubSub Error",lr.message,lr)}sr[1]&&ir.push(ar)}ir.length&&ir.forEach(this.unsubscribe)}},this.getTopics=function(){return er}}function j(tr){if(!(this instanceof j))return new j(tr);var er="opacity,stroke-opacity".split(",");for(var rr in tr)tr.hasOwnProperty(rr)&&er.indexOf(rr)>=0&&(this[rr]=tr[rr]);this.id="",this.objectNumber=-1}function O(tr,er){this.gState=tr,this.matrix=er,this.id="",this.objectNumber=-1}function B(tr,er,rr,nr,ir){if(!(this instanceof B))return new B(tr,er,rr,nr,ir);this.type=tr==="axial"?2:3,this.coords=er,this.colors=rr,O.call(this,nr,ir)}function M(tr,er,rr,nr,ir){if(!(this instanceof M))return new M(tr,er,rr,nr,ir);this.boundingBox=tr,this.xStep=er,this.yStep=rr,this.stream="",this.cloneIndex=0,O.call(this,nr,ir)}function E(tr){var er,rr=typeof arguments[0]=="string"?arguments[0]:"p",nr=arguments[1],ir=arguments[2],ar=arguments[3],sr=[],lr=1,or=16,cr="S",ur=null;_typeof(tr=tr||{})==="object"&&(rr=tr.orientation,nr=tr.unit||nr,ir=tr.format||ir,ar=tr.compress||tr.compressPdf||ar,(ur=tr.encryption||null)!==null&&(ur.userPassword=ur.userPassword||"",ur.ownerPassword=ur.ownerPassword||"",ur.userPermissions=ur.userPermissions||[]),lr=typeof tr.userUnit=="number"?Math.abs(tr.userUnit):1,tr.precision!==void 0&&(er=tr.precision),tr.floatPrecision!==void 0&&(or=tr.floatPrecision),cr=tr.defaultPathOperation||"S"),sr=tr.filters||(ar===!0?["FlateEncode"]:sr),nr=nr||"mm",rr=(""+(rr||"P")).toLowerCase();var dr=tr.putOnlyUsedFonts||!1,hr={},fr={internal:{},__private__:{}};fr.__private__.PubSub=C;var mr="1.3",br=fr.__private__.getPdfVersion=function(){return mr};fr.__private__.setPdfVersion=function(Qr){mr=Qr};var pr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};fr.__private__.getPageFormats=function(){return pr};var gr=fr.__private__.getPageFormat=function(Qr){return pr[Qr]};ir=ir||"a4";var yr={COMPAT:"compat",ADVANCED:"advanced"},vr=yr.COMPAT;function _r(){this.saveGraphicsState(),Jr(new $n(qn,0,0,-qn,0,Zo()*qn).toString()+" cm"),this.setFontSize(this.getFontSize()/qn),cr="n",vr=yr.ADVANCED}function xr(){this.restoreGraphicsState(),cr="S",vr=yr.COMPAT}var Rr=fr.__private__.combineFontStyleAndFontWeight=function(Qr,bn){if(Qr=="bold"&&bn=="normal"||Qr=="bold"&&bn==400||Qr=="normal"&&bn=="italic"||Qr=="bold"&&bn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return bn&&(Qr=bn==400||bn==="normal"?Qr==="italic"?"italic":"normal":bn!=700&&bn!=="bold"||Qr!=="normal"?(bn==700?"bold":bn)+""+Qr:"bold"),Qr};fr.advancedAPI=function(Qr){var bn=vr===yr.COMPAT;return bn&&_r.call(this),typeof Qr!="function"||(Qr(this),bn&&xr.call(this)),this},fr.compatAPI=function(Qr){var bn=vr===yr.ADVANCED;return bn&&xr.call(this),typeof Qr!="function"||(Qr(this),bn&&_r.call(this)),this},fr.isAdvancedAPI=function(){return vr===yr.ADVANCED};var Cr,Tr=function(Qr){if(vr!==yr.ADVANCED)throw new Error(Qr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ir=fr.roundToPrecision=fr.__private__.roundToPrecision=function(Qr,bn){var Vn=er||bn;if(isNaN(Qr)||isNaN(Vn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Qr.toFixed(Vn).replace(/0+$/,"")};Cr=fr.hpf=fr.__private__.hpf=typeof or=="number"?function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ir(Qr,or)}:or==="smart"?function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ir(Qr,Qr>-1&&Qr<1?16:5)}:function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ir(Qr,16)};var Lr=fr.f2=fr.__private__.f2=function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.f2");return Ir(Qr,2)},Nr=fr.__private__.f3=function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.f3");return Ir(Qr,3)},Or=fr.scale=fr.__private__.scale=function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.scale");return vr===yr.COMPAT?Qr*qn:vr===yr.ADVANCED?Qr:void 0},Pr=function(Qr){return vr===yr.COMPAT?Zo()-Qr:vr===yr.ADVANCED?Qr:void 0},Mr=function(Qr){return Or(Pr(Qr))};fr.__private__.setPrecision=fr.setPrecision=function(Qr){typeof parseInt(Qr,10)=="number"&&(er=parseInt(Qr,10))};var jr,wr="00000000000000000000000000000000",Er=fr.__private__.getFileId=function(){return wr},Ar=fr.__private__.setFileId=function(Qr){return wr=Qr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Qr)?Qr.toUpperCase():wr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ur!==null&&(wo=new I(ur.userPermissions,ur.userPassword,ur.ownerPassword,wr)),wr};fr.setFileId=function(Qr){return Ar(Qr),this},fr.getFileId=function(){return Er()};var Sr=fr.__private__.convertDateToPDFDate=function(Qr){var bn=Qr.getTimezoneOffset(),Vn=bn<0?"+":"-",Xn=Math.floor(Math.abs(bn/60)),$a=Math.abs(bn%60),_s=[Vn,zr(Xn),"'",zr($a),"'"].join("");return["D:",Qr.getFullYear(),zr(Qr.getMonth()+1),zr(Qr.getDate()),zr(Qr.getHours()),zr(Qr.getMinutes()),zr(Qr.getSeconds()),_s].join("")},Dr=fr.__private__.convertPDFDateToDate=function(Qr){var bn=parseInt(Qr.substr(2,4),10),Vn=parseInt(Qr.substr(6,2),10)-1,Xn=parseInt(Qr.substr(8,2),10),$a=parseInt(Qr.substr(10,2),10),_s=parseInt(Qr.substr(12,2),10),Is=parseInt(Qr.substr(14,2),10);return new Date(bn,Vn,Xn,$a,_s,Is,0)},Wr=fr.__private__.setCreationDate=function(Qr){var bn;if(Qr===void 0&&(Qr=new Date),Qr instanceof Date)bn=Sr(Qr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Qr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");bn=Qr}return jr=bn},$r=fr.__private__.getCreationDate=function(Qr){var bn=jr;return Qr==="jsDate"&&(bn=Dr(jr)),bn};fr.setCreationDate=function(Qr){return Wr(Qr),this},fr.getCreationDate=function(Qr){return $r(Qr)};var Vr,zr=fr.__private__.padd2=function(Qr){return("0"+parseInt(Qr)).slice(-2)},Gr=fr.__private__.padd2Hex=function(Qr){return("00"+(Qr=Qr.toString())).substr(Qr.length)},Fr=0,Xr=[],Ur=[],Br=0,Kr=[],Zr=[],tn=!1,sn=Ur,un=function(){Fr=0,Br=0,Ur=[],Xr=[],Kr=[],Kn=On(),_i=On()};fr.__private__.setCustomOutputDestination=function(Qr){tn=!0,sn=Qr};var hn=function(Qr){tn||(sn=Qr)};fr.__private__.resetCustomOutputDestination=function(){tn=!1,sn=Ur};var Jr=fr.__private__.out=function(Qr){return Qr=Qr.toString(),Br+=Qr.length+1,sn.push(Qr),sn},nn=fr.__private__.write=function(Qr){return Jr(arguments.length===1?Qr.toString():Array.prototype.join.call(arguments," "))},rn=fr.__private__.getArrayBuffer=function(Qr){for(var bn=Qr.length,Vn=new ArrayBuffer(bn),Xn=new Uint8Array(Vn);bn--;)Xn[bn]=Qr.charCodeAt(bn);return Vn},on=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];fr.__private__.getStandardFonts=function(){return on};var fn=tr.fontSize||16;fr.__private__.setFontSize=fr.setFontSize=function(Qr){return fn=vr===yr.ADVANCED?Qr/qn:Qr,this};var mn,yn=fr.__private__.getFontSize=fr.getFontSize=function(){return vr===yr.COMPAT?fn:fn*qn},Rn=tr.R2L||!1;fr.__private__.setR2L=fr.setR2L=function(Qr){return Rn=Qr,this},fr.__private__.getR2L=fr.getR2L=function(){return Rn};var In,Sn=fr.__private__.setZoomMode=function(Qr){var bn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Qr))mn=Qr;else if(isNaN(Qr)){if(bn.indexOf(Qr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Qr+'" is not recognized.');mn=Qr}else mn=parseInt(Qr,10)};fr.__private__.getZoomMode=function(){return mn};var Dn,zn=fr.__private__.setPageMode=function(Qr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Qr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Qr+'" is not recognized.');In=Qr};fr.__private__.getPageMode=function(){return In};var rs=fr.__private__.setLayoutMode=function(Qr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Qr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Qr+'" is not recognized.');Dn=Qr};fr.__private__.getLayoutMode=function(){return Dn},fr.__private__.setDisplayMode=fr.setDisplayMode=function(Qr,bn,Vn){return Sn(Qr),rs(bn),zn(Vn),this};var ns={title:"",subject:"",author:"",keywords:"",creator:""};fr.__private__.getDocumentProperty=function(Qr){if(Object.keys(ns).indexOf(Qr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ns[Qr]},fr.__private__.getDocumentProperties=function(){return ns},fr.__private__.setDocumentProperties=fr.setProperties=fr.setDocumentProperties=function(Qr){for(var bn in ns)ns.hasOwnProperty(bn)&&Qr[bn]&&(ns[bn]=Qr[bn]);return this},fr.__private__.setDocumentProperty=function(Qr,bn){if(Object.keys(ns).indexOf(Qr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ns[Qr]=bn};var fs,qn,ds,os,gs,Wn={},Fn={},Bn=[],ss={},$s={},vs={},kn={},Qn=null,xa=0,as=[],ms=new C(fr),ls=tr.hotfixes||[],An={},wn={},Nn=[],$n=function Qr(bn,Vn,Xn,$a,_s,Is){if(!(this instanceof Qr))return new Qr(bn,Vn,Xn,$a,_s,Is);isNaN(bn)&&(bn=1),isNaN(Vn)&&(Vn=0),isNaN(Xn)&&(Xn=0),isNaN($a)&&($a=1),isNaN(_s)&&(_s=0),isNaN(Is)&&(Is=0),this._matrix=[bn,Vn,Xn,$a,_s,Is]};Object.defineProperty($n.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Qr){this._matrix[0]=Qr}}),Object.defineProperty($n.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Qr){this._matrix[1]=Qr}}),Object.defineProperty($n.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Qr){this._matrix[2]=Qr}}),Object.defineProperty($n.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Qr){this._matrix[3]=Qr}}),Object.defineProperty($n.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Qr){this._matrix[4]=Qr}}),Object.defineProperty($n.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Qr){this._matrix[5]=Qr}}),Object.defineProperty($n.prototype,"a",{get:function(){return this._matrix[0]},set:function(Qr){this._matrix[0]=Qr}}),Object.defineProperty($n.prototype,"b",{get:function(){return this._matrix[1]},set:function(Qr){this._matrix[1]=Qr}}),Object.defineProperty($n.prototype,"c",{get:function(){return this._matrix[2]},set:function(Qr){this._matrix[2]=Qr}}),Object.defineProperty($n.prototype,"d",{get:function(){return this._matrix[3]},set:function(Qr){this._matrix[3]=Qr}}),Object.defineProperty($n.prototype,"e",{get:function(){return this._matrix[4]},set:function(Qr){this._matrix[4]=Qr}}),Object.defineProperty($n.prototype,"f",{get:function(){return this._matrix[5]},set:function(Qr){this._matrix[5]=Qr}}),Object.defineProperty($n.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($n.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($n.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($n.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$n.prototype.join=function(Qr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Cr).join(Qr)},$n.prototype.multiply=function(Qr){var bn=Qr.sx*this.sx+Qr.shy*this.shx,Vn=Qr.sx*this.shy+Qr.shy*this.sy,Xn=Qr.shx*this.sx+Qr.sy*this.shx,$a=Qr.shx*this.shy+Qr.sy*this.sy,_s=Qr.tx*this.sx+Qr.ty*this.shx+this.tx,Is=Qr.tx*this.shy+Qr.ty*this.sy+this.ty;return new $n(bn,Vn,Xn,$a,_s,Is)},$n.prototype.decompose=function(){var Qr=this.sx,bn=this.shy,Vn=this.shx,Xn=this.sy,$a=this.tx,_s=this.ty,Is=Math.sqrt(Qr*Qr+bn*bn),Ds=(Qr/=Is)*Vn+(bn/=Is)*Xn;Vn-=Qr*Ds,Xn-=bn*Ds;var qr=Math.sqrt(Vn*Vn+Xn*Xn);return Ds/=qr,Qr*(Xn/=qr)<bn*(Vn/=qr)&&(Qr=-Qr,bn=-bn,Ds=-Ds,Is=-Is),{scale:new $n(Is,0,0,qr,0,0),translate:new $n(1,0,0,1,$a,_s),rotate:new $n(Qr,bn,-bn,Qr,0,0),skew:new $n(1,0,Ds,1,0,0)}},$n.prototype.toString=function(Qr){return this.join(" ")},$n.prototype.inversed=function(){var Qr=this.sx,bn=this.shy,Vn=this.shx,Xn=this.sy,$a=this.tx,_s=this.ty,Is=1/(Qr*Xn-bn*Vn),Ds=Xn*Is,qr=-bn*Is,an=-Vn*Is,pn=Qr*Is;return new $n(Ds,qr,an,pn,-Ds*$a-an*_s,-qr*$a-pn*_s)},$n.prototype.applyToPoint=function(Qr){var bn=Qr.x*this.sx+Qr.y*this.shx+this.tx,Vn=Qr.x*this.shy+Qr.y*this.sy+this.ty;return new cu(bn,Vn)},$n.prototype.applyToRectangle=function(Qr){var bn=this.applyToPoint(Qr),Vn=this.applyToPoint(new cu(Qr.x+Qr.w,Qr.y+Qr.h));return new Pu(bn.x,bn.y,Vn.x-bn.x,Vn.y-bn.y)},$n.prototype.clone=function(){var Qr=this.sx,bn=this.shy,Vn=this.shx,Xn=this.sy,$a=this.tx,_s=this.ty;return new $n(Qr,bn,Vn,Xn,$a,_s)},fr.Matrix=$n;var Gn=fr.matrixMult=function(Qr,bn){return bn.multiply(Qr)},gn=new $n(1,0,0,1,0,0);fr.unitMatrix=fr.identityMatrix=gn;var _n=function(Qr,bn){if(!$s[Qr]){var Vn=(bn instanceof B?"Sh":"P")+(Object.keys(ss).length+1).toString(10);bn.id=Vn,$s[Qr]=Vn,ss[Vn]=bn,ms.publish("addPattern",bn)}};fr.ShadingPattern=B,fr.TilingPattern=M,fr.addShadingPattern=function(Qr,bn){return Tr("addShadingPattern()"),_n(Qr,bn),this},fr.beginTilingPattern=function(Qr){Tr("beginTilingPattern()"),Ru(Qr.boundingBox[0],Qr.boundingBox[1],Qr.boundingBox[2]-Qr.boundingBox[0],Qr.boundingBox[3]-Qr.boundingBox[1],Qr.matrix)},fr.endTilingPattern=function(Qr,bn){Tr("endTilingPattern()"),bn.stream=Zr[Vr].join(`
`),_n(Qr,bn),ms.publish("endTilingPattern",bn),Nn.pop().restore()};var jn=fr.__private__.newObject=function(){var Qr=On();return Un(Qr,!0),Qr},On=fr.__private__.newObjectDeferred=function(){return Fr++,Xr[Fr]=function(){return Br},Fr},Un=function(Qr,bn){return bn=typeof bn=="boolean"&&bn,Xr[Qr]=Br,bn&&Jr(Qr+" 0 obj"),Qr},Hn=fr.__private__.newAdditionalObject=function(){var Qr={objId:On(),content:""};return Kr.push(Qr),Qr},Kn=On(),_i=On(),ys=fr.__private__.decodeColorString=function(Qr){var bn=Qr.split(" ");if(bn.length!==2||bn[1]!=="g"&&bn[1]!=="G")bn.length===5&&(bn[4]==="k"||bn[4]==="K")&&(bn=[(1-bn[0])*(1-bn[3]),(1-bn[1])*(1-bn[3]),(1-bn[2])*(1-bn[3]),"r"]);else{var Vn=parseFloat(bn[0]);bn=[Vn,Vn,Vn,"r"]}for(var Xn="#",$a=0;$a<3;$a++)Xn+=("0"+Math.floor(255*parseFloat(bn[$a])).toString(16)).slice(-2);return Xn},xs=fr.__private__.encodeColorString=function(Qr){var bn;typeof Qr=="string"&&(Qr={ch1:Qr});var Vn=Qr.ch1,Xn=Qr.ch2,$a=Qr.ch3,_s=Qr.ch4,Is=Qr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Vn=="string"&&Vn.charAt(0)!=="#"){var Ds=new f(Vn);if(Ds.ok)Vn=Ds.toHex();else if(!/^\d*\.?\d*$/.test(Vn))throw new Error('Invalid color "'+Vn+'" passed to jsPDF.encodeColorString.')}if(typeof Vn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Vn)&&(Vn="#"+Vn[1]+Vn[1]+Vn[2]+Vn[2]+Vn[3]+Vn[3]),typeof Vn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Vn)){var qr=parseInt(Vn.substr(1),16);Vn=qr>>16&255,Xn=qr>>8&255,$a=255&qr}if(Xn===void 0||_s===void 0&&Vn===Xn&&Xn===$a)if(typeof Vn=="string")bn=Vn+" "+Is[0];else switch(Qr.precision){case 2:bn=Lr(Vn/255)+" "+Is[0];break;case 3:default:bn=Nr(Vn/255)+" "+Is[0]}else if(_s===void 0||_typeof(_s)==="object"){if(_s&&!isNaN(_s.a)&&_s.a===0)return bn=["1.","1.","1.",Is[1]].join(" ");if(typeof Vn=="string")bn=[Vn,Xn,$a,Is[1]].join(" ");else switch(Qr.precision){case 2:bn=[Lr(Vn/255),Lr(Xn/255),Lr($a/255),Is[1]].join(" ");break;default:case 3:bn=[Nr(Vn/255),Nr(Xn/255),Nr($a/255),Is[1]].join(" ")}}else if(typeof Vn=="string")bn=[Vn,Xn,$a,_s,Is[2]].join(" ");else switch(Qr.precision){case 2:bn=[Lr(Vn),Lr(Xn),Lr($a),Lr(_s),Is[2]].join(" ");break;case 3:default:bn=[Nr(Vn),Nr(Xn),Nr($a),Nr(_s),Is[2]].join(" ")}return bn},Cs=fr.__private__.getFilters=function(){return sr},Rs=fr.__private__.putStream=function(Qr){var bn=(Qr=Qr||{}).data||"",Vn=Qr.filters||Cs(),Xn=Qr.alreadyAppliedFilters||[],$a=Qr.addLength1||!1,_s=bn.length,Is=Qr.objectId,Ds=function(eo){return eo};if(ur!==null&&Is===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ur!==null&&(Ds=wo.encryptor(Is,0));var qr={};Vn===!0&&(Vn=["FlateEncode"]);var an=Qr.additionalKeyValues||[],pn=(qr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(bn,Vn):{data:bn,reverseChain:[]}).reverseChain+(Array.isArray(Xn)?Xn.join(" "):Xn.toString());if(qr.data.length!==0&&(an.push({key:"Length",value:qr.data.length}),$a===!0&&an.push({key:"Length1",value:_s})),pn.length!=0)if(pn.split("/").length-1==1)an.push({key:"Filter",value:pn});else{an.push({key:"Filter",value:"["+pn+"]"});for(var Tn=0;Tn<an.length;Tn+=1)if(an[Tn].key==="DecodeParms"){for(var ga=[],hs=0;hs<qr.reverseChain.split("/").length-1;hs+=1)ga.push("null");ga.push(an[Tn].value),an[Tn].value="["+ga.join(" ")+"]"}}Jr("<<");for(var Ns=0;Ns<an.length;Ns++)Jr("/"+an[Ns].key+" "+an[Ns].value);Jr(">>"),qr.data.length!==0&&(Jr("stream"),Jr(Ds(qr.data)),Jr("endstream"))},Ls=fr.__private__.putPage=function(Qr){var bn=Qr.number,Vn=Qr.data,Xn=Qr.objId,$a=Qr.contentsObjId;Un(Xn,!0),Jr("<</Type /Page"),Jr("/Parent "+Qr.rootDictionaryObjId+" 0 R"),Jr("/Resources "+Qr.resourceDictionaryObjId+" 0 R"),Jr("/MediaBox ["+parseFloat(Cr(Qr.mediaBox.bottomLeftX))+" "+parseFloat(Cr(Qr.mediaBox.bottomLeftY))+" "+Cr(Qr.mediaBox.topRightX)+" "+Cr(Qr.mediaBox.topRightY)+"]"),Qr.cropBox!==null&&Jr("/CropBox ["+Cr(Qr.cropBox.bottomLeftX)+" "+Cr(Qr.cropBox.bottomLeftY)+" "+Cr(Qr.cropBox.topRightX)+" "+Cr(Qr.cropBox.topRightY)+"]"),Qr.bleedBox!==null&&Jr("/BleedBox ["+Cr(Qr.bleedBox.bottomLeftX)+" "+Cr(Qr.bleedBox.bottomLeftY)+" "+Cr(Qr.bleedBox.topRightX)+" "+Cr(Qr.bleedBox.topRightY)+"]"),Qr.trimBox!==null&&Jr("/TrimBox ["+Cr(Qr.trimBox.bottomLeftX)+" "+Cr(Qr.trimBox.bottomLeftY)+" "+Cr(Qr.trimBox.topRightX)+" "+Cr(Qr.trimBox.topRightY)+"]"),Qr.artBox!==null&&Jr("/ArtBox ["+Cr(Qr.artBox.bottomLeftX)+" "+Cr(Qr.artBox.bottomLeftY)+" "+Cr(Qr.artBox.topRightX)+" "+Cr(Qr.artBox.topRightY)+"]"),typeof Qr.userUnit=="number"&&Qr.userUnit!==1&&Jr("/UserUnit "+Qr.userUnit),ms.publish("putPage",{objId:Xn,pageContext:as[bn],pageNumber:bn,page:Vn}),Jr("/Contents "+$a+" 0 R"),Jr(">>"),Jr("endobj");var _s=Vn.join(`
`);return vr===yr.ADVANCED&&(_s+=`
Q`),Un($a,!0),Rs({data:_s,filters:Cs(),objectId:$a}),Jr("endobj"),Xn},Ws=fr.__private__.putPages=function(){var Qr,bn,Vn=[];for(Qr=1;Qr<=xa;Qr++)as[Qr].objId=On(),as[Qr].contentsObjId=On();for(Qr=1;Qr<=xa;Qr++)Vn.push(Ls({number:Qr,data:Zr[Qr],objId:as[Qr].objId,contentsObjId:as[Qr].contentsObjId,mediaBox:as[Qr].mediaBox,cropBox:as[Qr].cropBox,bleedBox:as[Qr].bleedBox,trimBox:as[Qr].trimBox,artBox:as[Qr].artBox,userUnit:as[Qr].userUnit,rootDictionaryObjId:Kn,resourceDictionaryObjId:_i}));Un(Kn,!0),Jr("<</Type /Pages");var Xn="/Kids [";for(bn=0;bn<xa;bn++)Xn+=Vn[bn]+" 0 R ";Jr(Xn+"]"),Jr("/Count "+xa),Jr(">>"),Jr("endobj"),ms.publish("postPutPages")},Xs=function(Qr){ms.publish("putFont",{font:Qr,out:Jr,newObject:jn,putStream:Rs}),Qr.isAlreadyPutted!==!0&&(Qr.objectNumber=jn(),Jr("<<"),Jr("/Type /Font"),Jr("/BaseFont /"+F(Qr.postScriptName)),Jr("/Subtype /Type1"),typeof Qr.encoding=="string"&&Jr("/Encoding /"+Qr.encoding),Jr("/FirstChar 32"),Jr("/LastChar 255"),Jr(">>"),Jr("endobj"))},ro=function(){for(var Qr in Wn)Wn.hasOwnProperty(Qr)&&(dr===!1||dr===!0&&hr.hasOwnProperty(Qr))&&Xs(Wn[Qr])},ao=function(Qr){Qr.objectNumber=jn();var bn=[];bn.push({key:"Type",value:"/XObject"}),bn.push({key:"Subtype",value:"/Form"}),bn.push({key:"BBox",value:"["+[Cr(Qr.x),Cr(Qr.y),Cr(Qr.x+Qr.width),Cr(Qr.y+Qr.height)].join(" ")+"]"}),bn.push({key:"Matrix",value:"["+Qr.matrix.toString()+"]"});var Vn=Qr.pages[1].join(`
`);Rs({data:Vn,additionalKeyValues:bn,objectId:Qr.objectNumber}),Jr("endobj")},_o=function(){for(var Qr in An)An.hasOwnProperty(Qr)&&ao(An[Qr])},Ln=function(Qr,bn){var Vn,Xn=[],$a=1/(bn-1);for(Vn=0;Vn<1;Vn+=$a)Xn.push(Vn);if(Xn.push(1),Qr[0].offset!=0){var _s={offset:0,color:Qr[0].color};Qr.unshift(_s)}if(Qr[Qr.length-1].offset!=1){var Is={offset:1,color:Qr[Qr.length-1].color};Qr.push(Is)}for(var Ds="",qr=0,an=0;an<Xn.length;an++){for(Vn=Xn[an];Vn>Qr[qr+1].offset;)qr++;var pn=Qr[qr].offset,Tn=(Vn-pn)/(Qr[qr+1].offset-pn),ga=Qr[qr].color,hs=Qr[qr+1].color;Ds+=Gr(Math.round((1-Tn)*ga[0]+Tn*hs[0]).toString(16))+Gr(Math.round((1-Tn)*ga[1]+Tn*hs[1]).toString(16))+Gr(Math.round((1-Tn)*ga[2]+Tn*hs[2]).toString(16))}return Ds.trim()},is=function(Qr,bn){bn||(bn=21);var Vn=jn(),Xn=Ln(Qr.colors,bn),$a=[];$a.push({key:"FunctionType",value:"0"}),$a.push({key:"Domain",value:"[0.0 1.0]"}),$a.push({key:"Size",value:"["+bn+"]"}),$a.push({key:"BitsPerSample",value:"8"}),$a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rs({data:Xn,additionalKeyValues:$a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Vn}),Jr("endobj"),Qr.objectNumber=jn(),Jr("<< /ShadingType "+Qr.type),Jr("/ColorSpace /DeviceRGB");var _s="/Coords ["+Cr(parseFloat(Qr.coords[0]))+" "+Cr(parseFloat(Qr.coords[1]))+" ";Qr.type===2?_s+=Cr(parseFloat(Qr.coords[2]))+" "+Cr(parseFloat(Qr.coords[3])):_s+=Cr(parseFloat(Qr.coords[2]))+" "+Cr(parseFloat(Qr.coords[3]))+" "+Cr(parseFloat(Qr.coords[4]))+" "+Cr(parseFloat(Qr.coords[5])),Jr(_s+="]"),Qr.matrix&&Jr("/Matrix ["+Qr.matrix.toString()+"]"),Jr("/Function "+Vn+" 0 R"),Jr("/Extend [true true]"),Jr(">>"),Jr("endobj")},ws=function(Qr,bn){var Vn=On(),Xn=jn();bn.push({resourcesOid:Vn,objectOid:Xn}),Qr.objectNumber=Xn;var $a=[];$a.push({key:"Type",value:"/Pattern"}),$a.push({key:"PatternType",value:"1"}),$a.push({key:"PaintType",value:"1"}),$a.push({key:"TilingType",value:"1"}),$a.push({key:"BBox",value:"["+Qr.boundingBox.map(Cr).join(" ")+"]"}),$a.push({key:"XStep",value:Cr(Qr.xStep)}),$a.push({key:"YStep",value:Cr(Qr.yStep)}),$a.push({key:"Resources",value:Vn+" 0 R"}),Qr.matrix&&$a.push({key:"Matrix",value:"["+Qr.matrix.toString()+"]"}),Rs({data:Qr.stream,additionalKeyValues:$a,objectId:Qr.objectNumber}),Jr("endobj")},As=function(Qr){var bn;for(bn in ss)ss.hasOwnProperty(bn)&&(ss[bn]instanceof B?is(ss[bn]):ss[bn]instanceof M&&ws(ss[bn],Qr))},Fs=function(Qr){for(var bn in Qr.objectNumber=jn(),Jr("<<"),Qr)switch(bn){case"opacity":Jr("/ca "+Lr(Qr[bn]));break;case"stroke-opacity":Jr("/CA "+Lr(Qr[bn]))}Jr(">>"),Jr("endobj")},ks=function(){var Qr;for(Qr in vs)vs.hasOwnProperty(Qr)&&Fs(vs[Qr])},Os=function(){for(var Qr in Jr("/XObject <<"),An)An.hasOwnProperty(Qr)&&An[Qr].objectNumber>=0&&Jr("/"+Qr+" "+An[Qr].objectNumber+" 0 R");ms.publish("putXobjectDict"),Jr(">>")},Js=function(){wo.oid=jn(),Jr("<<"),Jr("/Filter /Standard"),Jr("/V "+wo.v),Jr("/R "+wo.r),Jr("/U <"+wo.toHexString(wo.U)+">"),Jr("/O <"+wo.toHexString(wo.O)+">"),Jr("/P "+wo.P),Jr(">>"),Jr("endobj")},qs=function(){for(var Qr in Jr("/Font <<"),Wn)Wn.hasOwnProperty(Qr)&&(dr===!1||dr===!0&&hr.hasOwnProperty(Qr))&&Jr("/"+Qr+" "+Wn[Qr].objectNumber+" 0 R");Jr(">>")},Ys=function(){if(Object.keys(ss).length>0){for(var Qr in Jr("/Shading <<"),ss)ss.hasOwnProperty(Qr)&&ss[Qr]instanceof B&&ss[Qr].objectNumber>=0&&Jr("/"+Qr+" "+ss[Qr].objectNumber+" 0 R");ms.publish("putShadingPatternDict"),Jr(">>")}},Us=function(Qr){if(Object.keys(ss).length>0){for(var bn in Jr("/Pattern <<"),ss)ss.hasOwnProperty(bn)&&ss[bn]instanceof fr.TilingPattern&&ss[bn].objectNumber>=0&&ss[bn].objectNumber<Qr&&Jr("/"+bn+" "+ss[bn].objectNumber+" 0 R");ms.publish("putTilingPatternDict"),Jr(">>")}},so=function(){if(Object.keys(vs).length>0){var Qr;for(Qr in Jr("/ExtGState <<"),vs)vs.hasOwnProperty(Qr)&&vs[Qr].objectNumber>=0&&Jr("/"+Qr+" "+vs[Qr].objectNumber+" 0 R");ms.publish("putGStateDict"),Jr(">>")}},Hs=function(Qr){Un(Qr.resourcesOid,!0),Jr("<<"),Jr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qs(),Ys(),Us(Qr.objectOid),so(),Os(),Jr(">>"),Jr("endobj")},oo=function(){var Qr=[];ro(),ks(),_o(),As(Qr),ms.publish("putResources"),Qr.forEach(Hs),Hs({resourcesOid:_i,objectOid:Number.MAX_SAFE_INTEGER}),ms.publish("postPutResources")},ho=function(){ms.publish("putAdditionalObjects");for(var Qr=0;Qr<Kr.length;Qr++){var bn=Kr[Qr];Un(bn.objId,!0),Jr(bn.content),Jr("endobj")}ms.publish("postPutAdditionalObjects")},Po=function(Qr){Fn[Qr.fontName]=Fn[Qr.fontName]||{},Fn[Qr.fontName][Qr.fontStyle]=Qr.id},Ro=function(Qr,bn,Vn,Xn,$a){var _s={id:"F"+(Object.keys(Wn).length+1).toString(10),postScriptName:Qr,fontName:bn,fontStyle:Vn,encoding:Xn,isStandardFont:$a||!1,metadata:{}};return ms.publish("addFont",{font:_s,instance:this}),Wn[_s.id]=_s,Po(_s),_s.id},Lo=function(Qr){for(var bn=0,Vn=on.length;bn<Vn;bn++){var Xn=Ro.call(this,Qr[bn][0],Qr[bn][1],Qr[bn][2],on[bn][3],!0);dr===!1&&(hr[Xn]=!0);var $a=Qr[bn][0].split("-");Po({id:Xn,fontName:$a[0],fontStyle:$a[1]||""})}ms.publish("addFonts",{fonts:Wn,dictionary:Fn})},jo=function(Qr){return Qr.foo=function(){try{return Qr.apply(this,arguments)}catch(Xn){var bn=Xn.stack||"";~bn.indexOf(" at ")&&(bn=bn.split(" at ")[1]);var Vn="Error in function "+bn.split(`
`)[0].split("<")[0]+": "+Xn.message;if(!n.console)throw new Error(Vn);n.console.error(Vn,Xn),n.alert&&alert(Vn)}},Qr.foo.bar=Qr,Qr.foo},qo=function(Qr,bn){var Vn,Xn,$a,_s,Is,Ds,qr,an,pn;if($a=(bn=bn||{}).sourceEncoding||"Unicode",Is=bn.outputEncoding,(bn.autoencode||Is)&&Wn[fs].metadata&&Wn[fs].metadata[$a]&&Wn[fs].metadata[$a].encoding&&(_s=Wn[fs].metadata[$a].encoding,!Is&&Wn[fs].encoding&&(Is=Wn[fs].encoding),!Is&&_s.codePages&&(Is=_s.codePages[0]),typeof Is=="string"&&(Is=_s[Is]),Is)){for(qr=!1,Ds=[],Vn=0,Xn=Qr.length;Vn<Xn;Vn++)(an=Is[Qr.charCodeAt(Vn)])?Ds.push(String.fromCharCode(an)):Ds.push(Qr[Vn]),Ds[Vn].charCodeAt(0)>>8&&(qr=!0);Qr=Ds.join("")}for(Vn=Qr.length;qr===void 0&&Vn!==0;)Qr.charCodeAt(Vn-1)>>8&&(qr=!0),Vn--;if(!qr)return Qr;for(Ds=bn.noBOM?[]:[254,255],Vn=0,Xn=Qr.length;Vn<Xn;Vn++){if((pn=(an=Qr.charCodeAt(Vn))>>8)>>8)throw new Error("Character at position "+Vn+" of string '"+Qr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ds.push(pn),Ds.push(an-(pn<<8))}return String.fromCharCode.apply(void 0,Ds)},go=fr.__private__.pdfEscape=fr.pdfEscape=function(Qr,bn){return qo(Qr,bn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=fr.__private__.beginPage=function(Qr){Zr[++xa]=[],as[xa]={objId:0,contentsObjId:0,userUnit:Number(lr),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Qr[0]),topRightY:Number(Qr[1])}},zo(xa),hn(Zr[Vr])},no=function(Qr,bn){var Vn,Xn,$a;switch(rr=bn||rr,typeof Qr=="string"&&(Vn=gr(Qr.toLowerCase()),Array.isArray(Vn)&&(Xn=Vn[0],$a=Vn[1])),Array.isArray(Qr)&&(Xn=Qr[0]*qn,$a=Qr[1]*qn),isNaN(Xn)&&(Xn=ir[0],$a=ir[1]),(Xn>14400||$a>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xn=Math.min(14400,Xn),$a=Math.min(14400,$a)),ir=[Xn,$a],rr.substr(0,1)){case"l":$a>Xn&&(ir=[$a,Xn]);break;case"p":Xn>$a&&(ir=[$a,Xn])}Oo(ir),Hu(Wu),Jr(Go),Ku!==0&&Jr(Ku+" J"),Tu!==0&&Jr(Tu+" j"),ms.publish("addPage",{pageNumber:xa})},Qs=function(Qr){Qr>0&&Qr<=xa&&(Zr.splice(Qr,1),as.splice(Qr,1),xa--,Vr>xa&&(Vr=xa),this.setPage(Vr))},zo=function(Qr){Qr>0&&Qr<=xa&&(Vr=Qr)},lo=fr.__private__.getNumberOfPages=fr.getNumberOfPages=function(){return Zr.length-1},Qo=function(Qr,bn,Vn){var Xn,$a=void 0;return Vn=Vn||{},Qr=Qr!==void 0?Qr:Wn[fs].fontName,bn=bn!==void 0?bn:Wn[fs].fontStyle,Xn=Qr.toLowerCase(),Fn[Xn]!==void 0&&Fn[Xn][bn]!==void 0?$a=Fn[Xn][bn]:Fn[Qr]!==void 0&&Fn[Qr][bn]!==void 0?$a=Fn[Qr][bn]:Vn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Qr+"', '"+bn+"'. Refer to getFontList() for available fonts."),$a||Vn.noFallback||($a=Fn.times[bn])==null&&($a=Fn.times.normal),$a},ps=fr.__private__.putInfo=function(){var Qr=jn(),bn=function(Xn){return Xn};for(var Vn in ur!==null&&(bn=wo.encryptor(Qr,0)),Jr("<<"),Jr("/Producer ("+go(bn("jsPDF "+E.version))+")"),ns)ns.hasOwnProperty(Vn)&&ns[Vn]&&Jr("/"+Vn.substr(0,1).toUpperCase()+Vn.substr(1)+" ("+go(bn(ns[Vn]))+")");Jr("/CreationDate ("+go(bn(jr))+")"),Jr(">>"),Jr("endobj")},js=fr.__private__.putCatalog=function(Qr){var bn=(Qr=Qr||{}).rootDictionaryObjId||Kn;switch(jn(),Jr("<<"),Jr("/Type /Catalog"),Jr("/Pages "+bn+" 0 R"),mn||(mn="fullwidth"),mn){case"fullwidth":Jr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Jr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Jr("/OpenAction [3 0 R /Fit]");break;case"original":Jr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Vn=""+mn;Vn.substr(Vn.length-1)==="%"&&(mn=parseInt(mn)/100),typeof mn=="number"&&Jr("/OpenAction [3 0 R /XYZ null null "+Lr(mn)+"]")}switch(Dn||(Dn="continuous"),Dn){case"continuous":Jr("/PageLayout /OneColumn");break;case"single":Jr("/PageLayout /SinglePage");break;case"two":case"twoleft":Jr("/PageLayout /TwoColumnLeft");break;case"tworight":Jr("/PageLayout /TwoColumnRight")}In&&Jr("/PageMode /"+In),ms.publish("putCatalog"),Jr(">>"),Jr("endobj")},zs=fr.__private__.putTrailer=function(){Jr("trailer"),Jr("<<"),Jr("/Size "+(Fr+1)),Jr("/Root "+Fr+" 0 R"),Jr("/Info "+(Fr-1)+" 0 R"),ur!==null&&Jr("/Encrypt "+wo.oid+" 0 R"),Jr("/ID [ <"+wr+"> <"+wr+"> ]"),Jr(">>")},Zs=fr.__private__.putHeader=function(){Jr("%PDF-"+mr),Jr("%")},xo=fr.__private__.putXRef=function(){var Qr="0000000000";Jr("xref"),Jr("0 "+(Fr+1)),Jr("0000000000 65535 f ");for(var bn=1;bn<=Fr;bn++)typeof Xr[bn]=="function"?Jr((Qr+Xr[bn]()).slice(-10)+" 00000 n "):Xr[bn]!==void 0?Jr((Qr+Xr[bn]).slice(-10)+" 00000 n "):Jr("0000000000 00000 n ")},fo=fr.__private__.buildDocument=function(){un(),hn(Ur),ms.publish("buildDocument"),Zs(),Ws(),ho(),oo(),ur!==null&&Js(),ps(),js();var Qr=Br;return xo(),zs(),Jr("startxref"),Jr(""+Qr),Jr("%%EOF"),hn(Zr[Vr]),Ur.join(`
`)},mo=fr.__private__.getBlob=function(Qr){return new Blob([rn(Qr)],{type:"application/pdf"})},Hl=fr.output=fr.__private__.output=jo(function(Qr,bn){switch(typeof(bn=bn||{})=="string"?bn={filename:bn}:bn.filename=bn.filename||"generated.pdf",Qr){case void 0:return fo();case"save":fr.save(bn.filename);break;case"arraybuffer":return rn(fo());case"blob":return mo(fo());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(mo(fo()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Vn="",Xn=fo();try{Vn=h(Xn)}catch{Vn=h(unescape(encodeURIComponent(Xn)))}return"data:application/pdf;filename="+bn.filename+";base64,"+Vn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var $a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';bn.pdfObjectUrl&&($a=bn.pdfObjectUrl,_s="");var Is='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$a+'"'+_s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(bn)+");<\/script></body></html>",Ds=n.open();return Ds!==null&&Ds.document.write(Is),Ds}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(bn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+bn.filename+'" width="500px" height="400px" /></body></html>',an=n.open();if(an!==null){an.document.write(qr);var pn=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=bn.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",bn)+'"></iframe></body></html>',ga=n.open();if(ga!==null&&(ga.document.write(Tn),ga.document.title=bn.filename),ga||typeof safari>"u")return ga;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",bn);default:return null}}),Jo=function(Qr){return Array.isArray(ls)===!0&&ls.indexOf(Qr)>-1};switch(nr){case"pt":qn=1;break;case"mm":qn=72/25.4;break;case"cm":qn=72/2.54;break;case"in":qn=72;break;case"px":qn=Jo("px_scaling")==1?.75:96/72;break;case"pc":case"em":qn=12;break;case"ex":qn=6;break;default:if(typeof nr!="number")throw new Error("Invalid unit: "+nr);qn=nr}var wo=null;Wr(),Ar();var Gl=function(Qr){return ur!==null?wo.encryptor(Qr,0):function(bn){return bn}},$l=fr.__private__.getPageInfo=fr.getPageInfo=function(Qr){if(isNaN(Qr)||Qr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:as[Qr].objId,pageNumber:Qr,pageContext:as[Qr]}},Ks=fr.__private__.getPageInfoByObjId=function(Qr){if(isNaN(Qr)||Qr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var bn in as)if(as[bn].objId===Qr)break;return $l(bn)},yl=fr.__private__.getCurrentPageInfo=fr.getCurrentPageInfo=function(){return{objId:as[Vr].objId,pageNumber:Vr,pageContext:as[Vr]}};fr.addPage=function(){return no.apply(this,arguments),this},fr.setPage=function(){return zo.apply(this,arguments),hn.call(this,Zr[Vr]),this},fr.insertPage=function(Qr){return this.addPage(),this.movePage(Vr,Qr),this},fr.movePage=function(Qr,bn){var Vn,Xn;if(Qr>bn){Vn=Zr[Qr],Xn=as[Qr];for(var $a=Qr;$a>bn;$a--)Zr[$a]=Zr[$a-1],as[$a]=as[$a-1];Zr[bn]=Vn,as[bn]=Xn,this.setPage(bn)}else if(Qr<bn){Vn=Zr[Qr],Xn=as[Qr];for(var _s=Qr;_s<bn;_s++)Zr[_s]=Zr[_s+1],as[_s]=as[_s+1];Zr[bn]=Vn,as[bn]=Xn,this.setPage(bn)}return this},fr.deletePage=function(){return Qs.apply(this,arguments),this},fr.__private__.text=fr.text=function(Qr,bn,Vn,Xn,$a){var _s,Is,Ds,qr,an,pn,Tn,ga,hs,Ns=(Xn=Xn||{}).scope||this;if(typeof Qr=="number"&&typeof bn=="number"&&(typeof Vn=="string"||Array.isArray(Vn))){var eo=Vn;Vn=bn,bn=Qr,Qr=eo}if(arguments[3]instanceof $n?(Tr("The transform parameter of text() with a Matrix value"),hs=$a):(Ds=arguments[4],qr=arguments[5],_typeof(Tn=arguments[3])==="object"&&Tn!==null||(typeof Ds=="string"&&(qr=Ds,Ds=null),typeof Tn=="string"&&(qr=Tn,Tn=null),typeof Tn=="number"&&(Ds=Tn,Tn=null),Xn={flags:Tn,angle:Ds,align:qr})),isNaN(bn)||isNaN(Vn)||Qr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Qr.length===0)return Ns;var co="",to=!1,vo=typeof Xn.lineHeightFactor=="number"?Xn.lineHeightFactor:bo,ko=Ns.internal.scaleFactor;function Zl(Io){return Io=Io.split("	").join(Array(Xn.TabLen||9).join(" ")),go(Io,Tn)}function Ko(Io){for(var No,Do=Io.concat(),Uo=[],pu=Do.length;pu--;)typeof(No=Do.shift())=="string"?Uo.push(No):Array.isArray(Io)&&(No.length===1||No[1]===void 0&&No[2]===void 0)?Uo.push(No[0]):Uo.push([No[0],No[1],No[2]]);return Uo}function iu(Io,No){var Do;if(typeof Io=="string")Do=No(Io)[0];else if(Array.isArray(Io)){for(var Uo,pu,Rp=Io.concat(),dp=[],Gp=Rp.length;Gp--;)typeof(Uo=Rp.shift())=="string"?dp.push(No(Uo)[0]):Array.isArray(Uo)&&typeof Uo[0]=="string"&&(pu=No(Uo[0],Uo[1],Uo[2]),dp.push([pu[0],pu[1],pu[2]]));Do=dp}return Do}var au=!1,xp=!0;if(typeof Qr=="string")au=!0;else if(Array.isArray(Qr)){var wp=Qr.concat();Is=[];for(var np,Xo=wp.length;Xo--;)(typeof(np=wp.shift())!="string"||Array.isArray(np)&&typeof np[0]!="string")&&(xp=!1);au=xp}if(au===!1)throw new Error('Type of text must be string or Array. "'+Qr+'" is not recognized.');typeof Qr=="string"&&(Qr=Qr.match(/[\r?\n]/)?Qr.split(/\r\n|\r|\n/g):[Qr]);var ip=fn/Ns.internal.scaleFactor,ap=ip*(vo-1);switch(Xn.baseline){case"bottom":Vn-=ap;break;case"top":Vn+=ip-ap;break;case"hanging":Vn+=ip-2*ap;break;case"middle":Vn+=ip/2-ap}if((pn=Xn.maxWidth||0)>0&&(typeof Qr=="string"?Qr=Ns.splitTextToSize(Qr,pn):Object.prototype.toString.call(Qr)==="[object Array]"&&(Qr=Qr.reduce(function(Io,No){return Io.concat(Ns.splitTextToSize(No,pn))},[]))),_s={text:Qr,x:bn,y:Vn,options:Xn,mutex:{pdfEscape:go,activeFontKey:fs,fonts:Wn,activeFontSize:fn}},ms.publish("preProcessText",_s),Qr=_s.text,Ds=(Xn=_s.options).angle,!(hs instanceof $n)&&Ds&&typeof Ds=="number"){Ds*=Math.PI/180,Xn.rotationDirection===0&&(Ds=-Ds),vr===yr.ADVANCED&&(Ds=-Ds);var sp=Math.cos(Ds),Ep=Math.sin(Ds);hs=new $n(sp,Ep,-Ep,sp,0,0)}else Ds&&Ds instanceof $n&&(hs=Ds);vr!==yr.ADVANCED||hs||(hs=gn),(an=Xn.charSpace||lu)!==void 0&&(co+=Cr(Or(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ga=Xn.horizontalScale)!==void 0&&(co+=Cr(100*ga)+` Tz
`),Xn.lang;var El=-1,Pm=Xn.renderingMode!==void 0?Xn.renderingMode:Xn.stroke,Sp=Ns.internal.getCurrentPageInfo().pageContext;switch(Pm){case 0:case!1:case"fill":El=0;break;case 1:case!0:case"stroke":El=1;break;case 2:case"fillThenStroke":El=2;break;case 3:case"invisible":El=3;break;case 4:case"fillAndAddForClipping":El=4;break;case 5:case"strokeAndAddPathForClipping":El=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":El=6;break;case 7:case"addToPathForClipping":El=7}var zp=Sp.usedRenderingMode!==void 0?Sp.usedRenderingMode:-1;El!==-1?co+=El+` Tr
`:zp!==-1&&(co+=`0 Tr
`),El!==-1&&(Sp.usedRenderingMode=El),qr=Xn.align||"left";var Dl,op=fn*vo,Wp=Ns.internal.pageSize.getWidth(),Hp=Wn[fs];an=Xn.charSpace||lu,pn=Xn.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},Xn.flags);var ju=[],Xu=function(Io){return Ns.getStringUnitWidth(Io,{font:Hp,charSpace:an,fontSize:fn,doKerning:!1})*fn/ko};if(Object.prototype.toString.call(Qr)==="[object Array]"){var Sl;Is=Ko(Qr),qr!=="left"&&(Dl=Is.map(Xu));var _l,Iu=0;if(qr==="right"){bn-=Dl[0],Qr=[],Xo=Is.length;for(var du=0;du<Xo;du++)du===0?(_l=Cl(bn),Sl=Vo(Vn)):(_l=Or(Iu-Dl[du]),Sl=-op),Qr.push([Is[du],_l,Sl]),Iu=Dl[du]}else if(qr==="center"){bn-=Dl[0]/2,Qr=[],Xo=Is.length;for(var hu=0;hu<Xo;hu++)hu===0?(_l=Cl(bn),Sl=Vo(Vn)):(_l=Or((Iu-Dl[hu])/2),Sl=-op),Qr.push([Is[hu],_l,Sl]),Iu=Dl[hu]}else if(qr==="left"){Qr=[],Xo=Is.length;for(var lp=0;lp<Xo;lp++)Qr.push(Is[lp])}else if(qr==="justify"&&Hp.encoding==="Identity-H"){Qr=[],Xo=Is.length,pn=pn!==0?pn:Wp;for(var fu=0,Mo=0;Mo<Xo;Mo++)if(Sl=Mo===0?Vo(Vn):-op,_l=Mo===0?Cl(bn):fu,Mo<Xo-1){var Ap=Or((pn-Dl[Mo])/(Is[Mo].split(" ").length-1)),xl=Is[Mo].split(" ");Qr.push([xl[0]+" ",_l,Sl]),fu=0;for(var Ll=1;Ll<xl.length;Ll++){var cp=(Xu(xl[Ll-1]+" "+xl[Ll])-Xu(xl[Ll]))*ko+Ap;Ll==xl.length-1?Qr.push([xl[Ll],cp,0]):Qr.push([xl[Ll]+" ",cp,0]),fu-=cp}}else Qr.push([Is[Mo],_l,Sl]);Qr.push(["",fu,0])}else{if(qr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Qr=[],Xo=Is.length,pn=pn!==0?pn:Wp,Mo=0;Mo<Xo;Mo++)Sl=Mo===0?Vo(Vn):-op,_l=Mo===0?Cl(bn):0,Mo<Xo-1?ju.push(Cr(Or((pn-Dl[Mo])/(Is[Mo].split(" ").length-1)))):ju.push(0),Qr.push([Is[Mo],_l,Sl])}}var qp=typeof Xn.R2L=="boolean"?Xn.R2L:Rn;qp===!0&&(Qr=iu(Qr,function(Io,No,Do){return[Io.split("").reverse().join(""),No,Do]})),_s={text:Qr,x:bn,y:Vn,options:Xn,mutex:{pdfEscape:go,activeFontKey:fs,fonts:Wn,activeFontSize:fn}},ms.publish("postProcessText",_s),Qr=_s.text,to=_s.mutex.isHex||!1;var Tp=Wn[fs].encoding;Tp!=="WinAnsiEncoding"&&Tp!=="StandardEncoding"||(Qr=iu(Qr,function(Io,No,Do){return[Zl(Io),No,Do]})),Is=Ko(Qr),Qr=[];for(var Yu,Qu,Nu,Zu=0,up=1,Ju=Array.isArray(Is[0])?up:Zu,Ou="",Pp=function(Io,No,Do){var Uo="";return Do instanceof $n?(Do=typeof Xn.angle=="number"?Gn(Do,new $n(1,0,0,1,Io,No)):Gn(new $n(1,0,0,1,Io,No),Do),vr===yr.ADVANCED&&(Do=Gn(new $n(1,0,0,-1,0,0),Do)),Uo=Do.join(" ")+` Tm
`):Uo=Cr(Io)+" "+Cr(No)+` Td
`,Uo},Fl=0;Fl<Is.length;Fl++){switch(Ou="",Ju){case up:Nu=(to?"<":"(")+Is[Fl][0]+(to?">":")"),Yu=parseFloat(Is[Fl][1]),Qu=parseFloat(Is[Fl][2]);break;case Zu:Nu=(to?"<":"(")+Is[Fl]+(to?">":")"),Yu=Cl(bn),Qu=Vo(Vn)}ju!==void 0&&ju[Fl]!==void 0&&(Ou=ju[Fl]+` Tw
`),Fl===0?Qr.push(Ou+Pp(Yu,Qu,hs)+Nu):Ju===Zu?Qr.push(Ou+Nu):Ju===up&&Qr.push(Ou+Pp(Yu,Qu,hs)+Nu)}Qr=Ju===Zu?Qr.join(` Tj
T* `):Qr.join(` Tj
`),Qr+=` Tj
`;var Bl=`BT
/`;return Bl+=fs+" "+fn+` Tf
`,Bl+=Cr(fn*vo)+` TL
`,Bl+=Yl+`
`,Bl+=co,Bl+=Qr,Jr(Bl+="ET"),hr[fs]=!0,Ns};var eu=fr.__private__.clip=fr.clip=function(Qr){return Jr(Qr==="evenodd"?"W*":"W"),this};fr.clipEvenOdd=function(){return eu("evenodd")},fr.__private__.discardPath=fr.discardPath=function(){return Jr("n"),this};var Ml=fr.__private__.isValidStyle=function(Qr){var bn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Qr)!==-1&&(bn=!0),bn};fr.__private__.setDefaultPathOperation=fr.setDefaultPathOperation=function(Qr){return Ml(Qr)&&(cr=Qr),this};var _f=fr.__private__.getStyle=fr.getStyle=function(Qr){var bn=cr;switch(Qr){case"D":case"S":bn="S";break;case"F":bn="f";break;case"FD":case"DF":bn="B";break;case"f":case"f*":case"B":case"B*":bn=Qr}return bn},Pl=fr.close=function(){return Jr("h"),this};fr.stroke=function(){return Jr("S"),this},fr.fill=function(Qr){return vu("f",Qr),this},fr.fillEvenOdd=function(Qr){return vu("f*",Qr),this},fr.fillStroke=function(Qr){return vu("B",Qr),this},fr.fillStrokeEvenOdd=function(Qr){return vu("B*",Qr),this};var vu=function(Qr,bn){_typeof(bn)==="object"?xu(bn,Qr):Jr(Qr)},Uu=function(Qr){Qr===null||vr===yr.ADVANCED&&Qr===void 0||(Qr=_f(Qr),Jr(Qr))};function _u(Qr,bn,Vn,Xn,$a){var _s=new M(bn||this.boundingBox,Vn||this.xStep,Xn||this.yStep,this.gState,$a||this.matrix);_s.stream=this.stream;var Is=Qr+"$$"+this.cloneIndex+++"$$";return _n(Is,_s),_s}var xu=function(Qr,bn){var Vn=$s[Qr.key],Xn=ss[Vn];if(Xn instanceof B)Jr("q"),Jr(ep(bn)),Xn.gState&&fr.setGState(Xn.gState),Jr(Qr.matrix.toString()+" cm"),Jr("/"+Vn+" sh"),Jr("Q");else if(Xn instanceof M){var $a=new $n(1,0,0,-1,0,Zo());Qr.matrix&&($a=$a.multiply(Qr.matrix||gn),Vn=_u.call(Xn,Qr.key,Qr.boundingBox,Qr.xStep,Qr.yStep,$a).id),Jr("q"),Jr("/Pattern cs"),Jr("/"+Vn+" scn"),Xn.gState&&fr.setGState(Xn.gState),Jr(bn),Jr("Q")}},ep=function(Qr){switch(Qr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Kl=fr.moveTo=function(Qr,bn){return Jr(Cr(Or(Qr))+" "+Cr(Mr(bn))+" m"),this},Rl=fr.lineTo=function(Qr,bn){return Jr(Cr(Or(Qr))+" "+Cr(Mr(bn))+" l"),this},Xl=fr.curveTo=function(Qr,bn,Vn,Xn,$a,_s){return Jr([Cr(Or(Qr)),Cr(Mr(bn)),Cr(Or(Vn)),Cr(Mr(Xn)),Cr(Or($a)),Cr(Mr(_s)),"c"].join(" ")),this};fr.__private__.line=fr.line=function(Qr,bn,Vn,Xn,$a){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||isNaN(Xn)||!Ml($a))throw new Error("Invalid arguments passed to jsPDF.line");return vr===yr.COMPAT?this.lines([[Vn-Qr,Xn-bn]],Qr,bn,[1,1],$a||"S"):this.lines([[Vn-Qr,Xn-bn]],Qr,bn,[1,1]).stroke()},fr.__private__.lines=fr.lines=function(Qr,bn,Vn,Xn,$a,_s){var Is,Ds,qr,an,pn,Tn,ga,hs,Ns,eo,co,to;if(typeof Qr=="number"&&(to=Vn,Vn=bn,bn=Qr,Qr=to),Xn=Xn||[1,1],_s=_s||!1,isNaN(bn)||isNaN(Vn)||!Array.isArray(Qr)||!Array.isArray(Xn)||!Ml($a)||typeof _s!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kl(bn,Vn),Is=Xn[0],Ds=Xn[1],an=Qr.length,eo=bn,co=Vn,qr=0;qr<an;qr++)(pn=Qr[qr]).length===2?(eo=pn[0]*Is+eo,co=pn[1]*Ds+co,Rl(eo,co)):(Tn=pn[0]*Is+eo,ga=pn[1]*Ds+co,hs=pn[2]*Is+eo,Ns=pn[3]*Ds+co,eo=pn[4]*Is+eo,co=pn[5]*Ds+co,Xl(Tn,ga,hs,Ns,eo,co));return _s&&Pl(),Uu($a),this},fr.path=function(Qr){for(var bn=0;bn<Qr.length;bn++){var Vn=Qr[bn],Xn=Vn.c;switch(Vn.op){case"m":Kl(Xn[0],Xn[1]);break;case"l":Rl(Xn[0],Xn[1]);break;case"c":Xl.apply(this,Xn);break;case"h":Pl()}}return this},fr.__private__.rect=fr.rect=function(Qr,bn,Vn,Xn,$a){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||isNaN(Xn)||!Ml($a))throw new Error("Invalid arguments passed to jsPDF.rect");return vr===yr.COMPAT&&(Xn=-Xn),Jr([Cr(Or(Qr)),Cr(Mr(bn)),Cr(Or(Vn)),Cr(Or(Xn)),"re"].join(" ")),Uu($a),this},fr.__private__.triangle=fr.triangle=function(Qr,bn,Vn,Xn,$a,_s,Is){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||isNaN(Xn)||isNaN($a)||isNaN(_s)||!Ml(Is))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Vn-Qr,Xn-bn],[$a-Vn,_s-Xn],[Qr-$a,bn-_s]],Qr,bn,[1,1],Is,!0),this},fr.__private__.roundedRect=fr.roundedRect=function(Qr,bn,Vn,Xn,$a,_s,Is){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||isNaN(Xn)||isNaN($a)||isNaN(_s)||!Ml(Is))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ds=4/3*(Math.SQRT2-1);return $a=Math.min($a,.5*Vn),_s=Math.min(_s,.5*Xn),this.lines([[Vn-2*$a,0],[$a*Ds,0,$a,_s-_s*Ds,$a,_s],[0,Xn-2*_s],[0,_s*Ds,-$a*Ds,_s,-$a,_s],[2*$a-Vn,0],[-$a*Ds,0,-$a,-_s*Ds,-$a,-_s],[0,2*_s-Xn],[0,-_s*Ds,$a*Ds,-_s,$a,-_s]],Qr+$a,bn,[1,1],Is,!0),this},fr.__private__.ellipse=fr.ellipse=function(Qr,bn,Vn,Xn,$a){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||isNaN(Xn)||!Ml($a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _s=4/3*(Math.SQRT2-1)*Vn,Is=4/3*(Math.SQRT2-1)*Xn;return Kl(Qr+Vn,bn),Xl(Qr+Vn,bn-Is,Qr+_s,bn-Xn,Qr,bn-Xn),Xl(Qr-_s,bn-Xn,Qr-Vn,bn-Is,Qr-Vn,bn),Xl(Qr-Vn,bn+Is,Qr-_s,bn+Xn,Qr,bn+Xn),Xl(Qr+_s,bn+Xn,Qr+Vn,bn+Is,Qr+Vn,bn),Uu($a),this},fr.__private__.circle=fr.circle=function(Qr,bn,Vn,Xn){if(isNaN(Qr)||isNaN(bn)||isNaN(Vn)||!Ml(Xn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Qr,bn,Vn,Vn,Xn)},fr.setFont=function(Qr,bn,Vn){return Vn&&(bn=Rr(bn,Vn)),fs=Qo(Qr,bn,{disableWarning:!1}),this};var zu=fr.__private__.getFont=fr.getFont=function(){return Wn[Qo.apply(fr,arguments)]};fr.__private__.getFontList=fr.getFontList=function(){var Qr,bn,Vn={};for(Qr in Fn)if(Fn.hasOwnProperty(Qr))for(bn in Vn[Qr]=[],Fn[Qr])Fn[Qr].hasOwnProperty(bn)&&Vn[Qr].push(bn);return Vn},fr.addFont=function(Qr,bn,Vn,Xn,$a){var _s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_s.indexOf(arguments[3])!==-1?$a=arguments[3]:arguments[3]&&_s.indexOf(arguments[3])==-1&&(Vn=Rr(Vn,Xn)),$a=$a||"Identity-H",Ro.call(this,Qr,bn,Vn,$a)};var bo,Wu=tr.lineWidth||.200025,wu=fr.__private__.getLineWidth=fr.getLineWidth=function(){return Wu},Hu=fr.__private__.setLineWidth=fr.setLineWidth=function(Qr){return Wu=Qr,Jr(Cr(Or(Qr))+" w"),this};fr.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Qr,bn){if(Qr=Qr||[],bn=bn||0,isNaN(bn)||!Array.isArray(Qr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Qr=Qr.map(function(Vn){return Cr(Or(Vn))}).join(" "),bn=Cr(Or(bn)),Jr("["+Qr+"] "+bn+" d"),this};var qu=fr.__private__.getLineHeight=fr.getLineHeight=function(){return fn*bo};fr.__private__.getLineHeight=fr.getLineHeight=function(){return fn*bo};var Gu=fr.__private__.setLineHeightFactor=fr.setLineHeightFactor=function(Qr){return typeof(Qr=Qr||1.15)=="number"&&(bo=Qr),this},ou=fr.__private__.getLineHeightFactor=fr.getLineHeightFactor=function(){return bo};Gu(tr.lineHeight);var Cl=fr.__private__.getHorizontalCoordinate=function(Qr){return Or(Qr)},Vo=fr.__private__.getVerticalCoordinate=function(Qr){return vr===yr.ADVANCED?Qr:as[Vr].mediaBox.topRightY-as[Vr].mediaBox.bottomLeftY-Or(Qr)},tp=fr.__private__.getHorizontalCoordinateString=fr.getHorizontalCoordinateString=function(Qr){return Cr(Cl(Qr))},tu=fr.__private__.getVerticalCoordinateString=fr.getVerticalCoordinateString=function(Qr){return Cr(Vo(Qr))},Go=tr.strokeColor||"0 G";fr.__private__.getStrokeColor=fr.getDrawColor=function(){return ys(Go)},fr.__private__.setStrokeColor=fr.setDrawColor=function(Qr,bn,Vn,Xn){return Go=xs({ch1:Qr,ch2:bn,ch3:Vn,ch4:Xn,pdfColorType:"draw",precision:2}),Jr(Go),this};var Eu=tr.fillColor||"0 g";fr.__private__.getFillColor=fr.getFillColor=function(){return ys(Eu)},fr.__private__.setFillColor=fr.setFillColor=function(Qr,bn,Vn,Xn){return Eu=xs({ch1:Qr,ch2:bn,ch3:Vn,ch4:Xn,pdfColorType:"fill",precision:2}),Jr(Eu),this};var Yl=tr.textColor||"0 g",Su=fr.__private__.getTextColor=fr.getTextColor=function(){return ys(Yl)};fr.__private__.setTextColor=fr.setTextColor=function(Qr,bn,Vn,Xn){return Yl=xs({ch1:Qr,ch2:bn,ch3:Vn,ch4:Xn,pdfColorType:"text",precision:3}),this};var lu=tr.charSpace,Au=fr.__private__.getCharSpace=fr.getCharSpace=function(){return parseFloat(lu||0)};fr.__private__.setCharSpace=fr.setCharSpace=function(Qr){if(isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lu=Qr,this};var Ku=0;fr.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},fr.__private__.setLineCap=fr.setLineCap=function(Qr){var bn=fr.CapJoinStyles[Qr];if(bn===void 0)throw new Error("Line cap style of '"+Qr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ku=bn,Jr(bn+" J"),this};var Tu=0;fr.__private__.setLineJoin=fr.setLineJoin=function(Qr){var bn=fr.CapJoinStyles[Qr];if(bn===void 0)throw new Error("Line join style of '"+Qr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tu=bn,Jr(bn+" j"),this},fr.__private__.setLineMiterLimit=fr.__private__.setMiterLimit=fr.setLineMiterLimit=fr.setMiterLimit=function(Qr){if(Qr=Qr||0,isNaN(Qr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Jr(Cr(Or(Qr))+" M"),this},fr.GState=j,fr.setGState=function(Qr){(Qr=typeof Qr=="string"?vs[kn[Qr]]:ru(null,Qr)).equals(Qn)||(Jr("/"+Qr.id+" gs"),Qn=Qr)};var ru=function(Qr,bn){if(!Qr||!kn[Qr]){var Vn=!1;for(var Xn in vs)if(vs.hasOwnProperty(Xn)&&vs[Xn].equals(bn)){Vn=!0;break}if(Vn)bn=vs[Xn];else{var $a="GS"+(Object.keys(vs).length+1).toString(10);vs[$a]=bn,bn.id=$a}return Qr&&(kn[Qr]=bn.id),ms.publish("addGState",bn),bn}};fr.addGState=function(Qr,bn){return ru(Qr,bn),this},fr.saveGraphicsState=function(){return Jr("q"),Bn.push({key:fs,size:fn,color:Yl}),this},fr.restoreGraphicsState=function(){Jr("Q");var Qr=Bn.pop();return fs=Qr.key,fn=Qr.size,Yl=Qr.color,Qn=null,this},fr.setCurrentTransformationMatrix=function(Qr){return Jr(Qr.toString()+" cm"),this},fr.comment=function(Qr){return Jr("#"+Qr),this};var cu=function(Qr,bn){var Vn=Qr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Vn},set:function(_s){isNaN(_s)||(Vn=parseFloat(_s))}});var Xn=bn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xn},set:function(_s){isNaN(_s)||(Xn=parseFloat(_s))}});var $a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $a},set:function(_s){$a=_s.toString()}}),this},Pu=function(Qr,bn,Vn,Xn){cu.call(this,Qr,bn),this.type="rect";var $a=Vn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $a},set:function(Is){isNaN(Is)||($a=parseFloat(Is))}});var _s=Xn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _s},set:function(Is){isNaN(Is)||(_s=parseFloat(Is))}}),this},uu=function(){this.page=xa,this.currentPage=Vr,this.pages=Zr.slice(0),this.pagesContext=as.slice(0),this.x=ds,this.y=os,this.matrix=gs,this.width=nu(Vr),this.height=Zo(Vr),this.outputDestination=sn,this.id="",this.objectNumber=-1};uu.prototype.restore=function(){xa=this.page,Vr=this.currentPage,as=this.pagesContext,Zr=this.pages,ds=this.x,os=this.y,gs=this.matrix,ku(Vr,this.width),Cu(Vr,this.height),sn=this.outputDestination};var Ru=function(Qr,bn,Vn,Xn,$a){Nn.push(new uu),xa=Vr=0,Zr=[],ds=Qr,os=bn,gs=$a,Oo([Vn,Xn])},rp=function(Qr){if(wn[Qr])Nn.pop().restore();else{var bn=new uu,Vn="Xo"+(Object.keys(An).length+1).toString(10);bn.id=Vn,wn[Qr]=Vn,An[Vn]=bn,ms.publish("addFormObject",bn),Nn.pop().restore()}};for(var Ql in fr.beginFormObject=function(Qr,bn,Vn,Xn,$a){return Ru(Qr,bn,Vn,Xn,$a),this},fr.endFormObject=function(Qr){return rp(Qr),this},fr.doFormObject=function(Qr,bn){var Vn=An[wn[Qr]];return Jr("q"),Jr(bn.toString()+" cm"),Jr("/"+Vn.id+" Do"),Jr("Q"),this},fr.getFormObject=function(Qr){var bn=An[wn[Qr]];return{x:bn.x,y:bn.y,width:bn.width,height:bn.height,matrix:bn.matrix}},fr.save=function(Qr,bn){return Qr=Qr||"generated.pdf",(bn=bn||{}).returnPromise=bn.returnPromise||!1,bn.returnPromise===!1?(l(mo(fo()),Qr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Vn,Xn){try{var $a=l(mo(fo()),Qr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Vn($a)}catch(_s){Xn(_s.message)}})},E.API)E.API.hasOwnProperty(Ql)&&(Ql==="events"&&E.API.events.length?function(Qr,bn){var Vn,Xn,$a;for($a=bn.length-1;$a!==-1;$a--)Vn=bn[$a][0],Xn=bn[$a][1],Qr.subscribe.apply(Qr,[Vn].concat(typeof Xn=="function"?[Xn]:Xn))}(ms,E.API.events):fr[Ql]=E.API[Ql]);var nu=fr.getPageWidth=function(Qr){return(as[Qr=Qr||Vr].mediaBox.topRightX-as[Qr].mediaBox.bottomLeftX)/qn},ku=fr.setPageWidth=function(Qr,bn){as[Qr].mediaBox.topRightX=bn*qn+as[Qr].mediaBox.bottomLeftX},Zo=fr.getPageHeight=function(Qr){return(as[Qr=Qr||Vr].mediaBox.topRightY-as[Qr].mediaBox.bottomLeftY)/qn},Cu=fr.setPageHeight=function(Qr,bn){as[Qr].mediaBox.topRightY=bn*qn+as[Qr].mediaBox.bottomLeftY};return fr.internal={pdfEscape:go,getStyle:_f,getFont:zu,getFontSize:yn,getCharSpace:Au,getTextColor:Su,getLineHeight:qu,getLineHeightFactor:ou,getLineWidth:wu,write:nn,getHorizontalCoordinate:Cl,getVerticalCoordinate:Vo,getCoordinateString:tp,getVerticalCoordinateString:tu,collections:{},newObject:jn,newAdditionalObject:Hn,newObjectDeferred:On,newObjectDeferredBegin:Un,getFilters:Cs,putStream:Rs,events:ms,scaleFactor:qn,pageSize:{getWidth:function(){return nu(Vr)},setWidth:function(Qr){ku(Vr,Qr)},getHeight:function(){return Zo(Vr)},setHeight:function(Qr){Cu(Vr,Qr)}},encryptionOptions:ur,encryption:wo,getEncryptor:Gl,output:Hl,getNumberOfPages:lo,pages:Zr,out:Jr,f2:Lr,f3:Nr,getPageInfo:$l,getPageInfoByObjId:Ks,getCurrentPageInfo:yl,getPDFVersion:br,Point:cu,Rectangle:Pu,Matrix:$n,hasHotfix:Jo},Object.defineProperty(fr.internal.pageSize,"width",{get:function(){return nu(Vr)},set:function(Qr){ku(Vr,Qr)},enumerable:!0,configurable:!0}),Object.defineProperty(fr.internal.pageSize,"height",{get:function(){return Zo(Vr)},set:function(Qr){Cu(Vr,Qr)},enumerable:!0,configurable:!0}),Lo.call(fr,on),fs="F1",no(ir,rr),ms.publish("initialized"),fr}I.prototype.lsbFirstWord=function(tr){return String.fromCharCode(tr>>0&255,tr>>8&255,tr>>16&255,tr>>24&255)},I.prototype.toHexString=function(tr){return tr.split("").map(function(er){return("0"+(255&er.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(tr){for(var er=[],rr=0;rr<tr.length;rr+=2)er.push(String.fromCharCode(parseInt(tr.substr(rr,2),16)));return er.join("")},I.prototype.processOwnerPassword=function(tr,er){return P(x(er).substr(0,5),tr)},I.prototype.encryptor=function(tr,er){var rr=x(this.encryptionKey+String.fromCharCode(255&tr,tr>>8&255,tr>>16&255,255&er,er>>8&255)).substr(0,10);return function(nr){return P(rr,nr)}},j.prototype.equals=function(tr){var er,rr="id,objectNumber,equals";if(!tr||_typeof(tr)!==_typeof(this))return!1;var nr=0;for(er in this)if(!(rr.indexOf(er)>=0)){if(this.hasOwnProperty(er)&&!tr.hasOwnProperty(er)||this[er]!==tr[er])return!1;nr++}for(er in tr)tr.hasOwnProperty(er)&&rr.indexOf(er)<0&&nr--;return nr===0},E.API={events:[]},E.version="2.5.2";var q=E.API,D=1,R=function(tr){return tr.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(tr){return tr.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(tr){return tr.toFixed(2)},z=function(tr){return tr.toFixed(5)};q.__acroform__={};var H=function(tr,er){tr.prototype=Object.create(er.prototype),tr.prototype.constructor=tr},W=function(tr){return tr*D},V=function(tr){var er=new ut,rr=At.internal.getHeight(tr)||0,nr=At.internal.getWidth(tr)||0;return er.BBox=[0,0,Number(U(nr)),Number(U(rr))],er},G=q.__acroform__.setBit=function(tr,er){if(tr=tr||0,er=er||0,isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return tr|=1<<er},Y=q.__acroform__.clearBit=function(tr,er){if(tr=tr||0,er=er||0,isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return tr&=~(1<<er)},J=q.__acroform__.getBit=function(tr,er){if(isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return tr&1<<er?1:0},X=q.__acroform__.getBitForPdf=function(tr,er){if(isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(tr,er-1)},K=q.__acroform__.setBitForPdf=function(tr,er){if(isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(tr,er-1)},Z=q.__acroform__.clearBitForPdf=function(tr,er){if(isNaN(tr)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(tr,er-1)},$=q.__acroform__.calculateCoordinates=function(tr,er){var rr=er.internal.getHorizontalCoordinate,nr=er.internal.getVerticalCoordinate,ir=tr[0],ar=tr[1],sr=tr[2],lr=tr[3],or={};return or.lowerLeft_X=rr(ir)||0,or.lowerLeft_Y=nr(ar+lr)||0,or.upperRight_X=rr(ir+sr)||0,or.upperRight_Y=nr(ar)||0,[Number(U(or.lowerLeft_X)),Number(U(or.lowerLeft_Y)),Number(U(or.upperRight_X)),Number(U(or.upperRight_Y))]},Q=function(tr){if(tr.appearanceStreamContent)return tr.appearanceStreamContent;if(tr.V||tr.DV){var er=[],rr=tr._V||tr.DV,nr=tt(tr,rr),ir=tr.scope.internal.getFont(tr.fontName,tr.fontStyle).id;er.push("/Tx BMC"),er.push("q"),er.push("BT"),er.push(tr.scope.__private__.encodeColorString(tr.color)),er.push("/"+ir+" "+U(nr.fontSize)+" Tf"),er.push("1 0 0 1 0 0 Tm"),er.push(nr.text),er.push("ET"),er.push("Q"),er.push("EMC");var ar=V(tr);return ar.scope=tr.scope,ar.stream=er.join(`
`),ar}},tt=function(tr,er){var rr=tr.fontSize===0?tr.maxFontSize:tr.fontSize,nr={text:"",fontSize:""},ir=(er=(er=er.substr(0,1)=="("?er.substr(1):er).substr(er.length-1)==")"?er.substr(0,er.length-1):er).split(" ");ir=tr.multiline?ir.map(function(Nr){return Nr.split(`
`)}):ir.map(function(Nr){return[Nr]});var ar=rr,sr=At.internal.getHeight(tr)||0;sr=sr<0?-sr:sr;var lr=At.internal.getWidth(tr)||0;lr=lr<0?-lr:lr;var or=function(Nr,Or,Pr){if(Nr+1<ir.length){var Mr=Or+" "+ir[Nr+1][0];return et(Mr,tr,Pr).width<=lr-4}return!1};ar++;e:for(;ar>0;){er="",ar--;var cr,ur,dr=et("3",tr,ar).height,hr=tr.multiline?sr-ar:(sr-dr)/2,fr=hr+=2,mr=0,br=0,pr=0;if(ar<=0){er=`(...) Tj
`,er+="% Width of Text: "+et(er,tr,ar=12).width+", FieldWidth:"+lr+`
`;break}for(var gr="",yr=0,vr=0;vr<ir.length;vr++)if(ir.hasOwnProperty(vr)){var _r=!1;if(ir[vr].length!==1&&pr!==ir[vr].length-1){if((dr+2)*(yr+2)+2>sr)continue e;gr+=ir[vr][pr],_r=!0,br=vr,vr--}else{gr=(gr+=ir[vr][pr]+" ").substr(gr.length-1)==" "?gr.substr(0,gr.length-1):gr;var xr=parseInt(vr),Rr=or(xr,gr,ar),Cr=vr>=ir.length-1;if(Rr&&!Cr){gr+=" ",pr=0;continue}if(Rr||Cr){if(Cr)br=xr;else if(tr.multiline&&(dr+2)*(yr+2)+2>sr)continue e}else{if(!tr.multiline||(dr+2)*(yr+2)+2>sr)continue e;br=xr}}for(var Tr="",Ir=mr;Ir<=br;Ir++){var Lr=ir[Ir];if(tr.multiline){if(Ir===br){Tr+=Lr[pr]+" ",pr=(pr+1)%Lr.length;continue}if(Ir===mr){Tr+=Lr[Lr.length-1]+" ";continue}}Tr+=Lr[0]+" "}switch(Tr=Tr.substr(Tr.length-1)==" "?Tr.substr(0,Tr.length-1):Tr,ur=et(Tr,tr,ar).width,tr.textAlign){case"right":cr=lr-ur-2;break;case"center":cr=(lr-ur)/2;break;case"left":default:cr=2}er+=U(cr)+" "+U(fr)+` Td
`,er+="("+R(Tr)+`) Tj
`,er+=-U(cr)+` 0 Td
`,fr=-(ar+2),ur=0,mr=_r?br:br+1,yr++,gr=""}break}return nr.text=er,nr.fontSize=ar,nr},et=function(tr,er,rr){var nr=er.scope.internal.getFont(er.fontName,er.fontStyle),ir=er.scope.getStringUnitWidth(tr,{font:nr,fontSize:parseFloat(rr),charSpace:0})*parseFloat(rr);return{height:er.scope.getStringUnitWidth("3",{font:nr,fontSize:parseFloat(rr),charSpace:0})*parseFloat(rr)*1.5,width:ir}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(tr,er){var rr={type:"reference",object:tr};er.internal.getPageInfo(tr.page).pageContext.annotations.find(function(nr){return nr.type===rr.type&&nr.object===rr.object})===void 0&&er.internal.getPageInfo(tr.page).pageContext.annotations.push(rr)},it=function(tr,er){for(var rr in tr)if(tr.hasOwnProperty(rr)){var nr=rr,ir=tr[rr];er.internal.newObjectDeferredBegin(ir.objId,!0),_typeof(ir)==="object"&&typeof ir.putStream=="function"&&ir.putStream(),delete tr[nr]}},at=function(tr,er){if(er.scope=tr,tr.internal!==void 0&&(tr.internal.acroformPlugin===void 0||tr.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,tr.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),tr.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=tr.internal.scaleFactor,tr.internal.acroformPlugin.acroFormDictionaryRoot=new ht,tr.internal.acroformPlugin.acroFormDictionaryRoot.scope=tr,tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID=tr.internal.events.subscribe("postPutResources",function(){(function(rr){rr.internal.events.unsubscribe(rr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete rr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,rr.internal.acroformPlugin.printedOut=!0})(tr)}),tr.internal.events.subscribe("buildDocument",function(){(function(rr){rr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var nr=rr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var ir in nr)if(nr.hasOwnProperty(ir)){var ar=nr[ir];ar.objId=void 0,ar.hasAnnotation&&nt(ar,rr)}})(tr)}),tr.internal.events.subscribe("putCatalog",function(){(function(rr){if(rr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");rr.internal.write("/AcroForm "+rr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(tr)}),tr.internal.events.subscribe("postPutPages",function(rr){(function(nr,ir){var ar=!nr;for(var sr in nr||(ir.internal.newObjectDeferredBegin(ir.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),ir.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),nr=nr||ir.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(nr.hasOwnProperty(sr)){var lr=nr[sr],or=[],cr=lr.Rect;if(lr.Rect&&(lr.Rect=$(lr.Rect,ir)),ir.internal.newObjectDeferredBegin(lr.objId,!0),lr.DA=At.createDefaultAppearanceStream(lr),_typeof(lr)==="object"&&typeof lr.getKeyValueListForStream=="function"&&(or=lr.getKeyValueListForStream()),lr.Rect=cr,lr.hasAppearanceStream&&!lr.appearanceStreamContent){var ur=Q(lr);or.push({key:"AP",value:"<</N "+ur+">>"}),ir.internal.acroformPlugin.xForms.push(ur)}if(lr.appearanceStreamContent){var dr="";for(var hr in lr.appearanceStreamContent)if(lr.appearanceStreamContent.hasOwnProperty(hr)){var fr=lr.appearanceStreamContent[hr];if(dr+="/"+hr+" ",dr+="<<",Object.keys(fr).length>=1||Array.isArray(fr)){for(var sr in fr)if(fr.hasOwnProperty(sr)){var mr=fr[sr];typeof mr=="function"&&(mr=mr.call(ir,lr)),dr+="/"+sr+" "+mr+" ",ir.internal.acroformPlugin.xForms.indexOf(mr)>=0||ir.internal.acroformPlugin.xForms.push(mr)}}else typeof(mr=fr)=="function"&&(mr=mr.call(ir,lr)),dr+="/"+sr+" "+mr,ir.internal.acroformPlugin.xForms.indexOf(mr)>=0||ir.internal.acroformPlugin.xForms.push(mr);dr+=">>"}or.push({key:"AP",value:`<<
`+dr+">>"})}ir.internal.putStream({additionalKeyValues:or,objectId:lr.objId}),ir.internal.out("endobj")}ar&&it(ir.internal.acroformPlugin.xForms,ir)})(rr,tr)}),tr.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(tr,er,rr){var nr=function(sr){return sr};if(Array.isArray(tr)){for(var ir="[",ar=0;ar<tr.length;ar++)switch(ar!==0&&(ir+=" "),_typeof(tr[ar])){case"boolean":case"number":case"object":ir+=tr[ar].toString();break;case"string":tr[ar].substr(0,1)!=="/"?(er!==void 0&&rr&&(nr=rr.internal.getEncryptor(er)),ir+="("+R(nr(tr[ar].toString()))+")"):ir+=tr[ar].toString()}return ir+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(tr,er,rr){var nr=function(ir){return ir};return er!==void 0&&rr&&(nr=rr.internal.getEncryptor(er)),(tr=tr||"").toString(),tr="("+R(nr(tr))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(tr){this._objId=tr}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var tr=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:tr,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var tr=[],er=Object.getOwnPropertyNames(this).filter(function(ar){return ar!="content"&&ar!="appearanceStreamContent"&&ar!="scope"&&ar!="objId"&&ar.substring(0,1)!="_"});for(var rr in er)if(Object.getOwnPropertyDescriptor(this,er[rr]).configurable===!1){var nr=er[rr],ir=this[nr];ir&&(Array.isArray(ir)?tr.push({key:nr,value:ot(ir,this.objId,this.scope)}):ir instanceof ct?(ir.scope=this.scope,tr.push({key:nr,value:ir.objId+" 0 R"})):typeof ir!="function"&&tr.push({key:nr,value:ir}))}return tr};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var tr,er=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return er},set:function(rr){er=rr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(rr){tr=rr.trim()},get:function(){return tr||null}})};H(ut,ct);var ht=function(){ct.call(this);var tr,er=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return er.length>0?er:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return er}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(tr){var rr=function(nr){return nr};return this.scope&&(rr=this.scope.internal.getEncryptor(this.objId)),"("+R(rr(tr))+")"}},set:function(rr){tr=rr}})};H(ht,ct);var lt=function tr(){ct.call(this);var er=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return er},set:function(gr){if(isNaN(gr))throw new Error('Invalid value "'+gr+'" for attribute F supplied.');er=gr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(er,3)},set:function(gr){gr?this.F=K(er,3):this.F=Z(er,3)}});var rr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return rr},set:function(gr){if(isNaN(gr))throw new Error('Invalid value "'+gr+'" for attribute Ff supplied.');rr=gr}});var nr=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(nr.length!==0)return nr},set:function(gr){nr=gr!==void 0?gr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!nr||isNaN(nr[0])?0:nr[0]},set:function(gr){nr[0]=gr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!nr||isNaN(nr[1])?0:nr[1]},set:function(gr){nr[1]=gr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!nr||isNaN(nr[2])?0:nr[2]},set:function(gr){nr[2]=gr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!nr||isNaN(nr[3])?0:nr[3]},set:function(gr){nr[3]=gr}});var ir="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return ir},set:function(gr){switch(gr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":ir=gr;break;default:throw new Error('Invalid value "'+gr+'" for attribute FT supplied.')}}});var ar=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ar||ar.length<1){if(this instanceof yt)return;ar="FieldObject"+tr.FieldNum++}var gr=function(yr){return yr};return this.scope&&(gr=this.scope.internal.getEncryptor(this.objId)),"("+R(gr(ar))+")"},set:function(gr){ar=gr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ar},set:function(gr){ar=gr}});var sr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return sr},set:function(gr){sr=gr}});var lr="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return lr},set:function(gr){lr=gr}});var or=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return or},set:function(gr){or=gr}});var cr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return cr===void 0?50/D:cr},set:function(gr){cr=gr}});var ur="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ur},set:function(gr){ur=gr}});var dr="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!dr||this instanceof yt||this instanceof Nt))return st(dr,this.objId,this.scope)},set:function(gr){gr=gr.toString(),dr=gr}});var hr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(hr)return this instanceof mt?hr:st(hr,this.objId,this.scope)},set:function(gr){gr=gr.toString(),hr=this instanceof mt?gr:gr.substr(0,1)==="("?T(gr.substr(1,gr.length-2)):T(gr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(hr.substr(1,hr.length-1)):hr},set:function(gr){gr=gr.toString(),hr=this instanceof mt?"/"+gr:gr}});var fr=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(fr)return fr},set:function(gr){this.V=gr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(fr)return this instanceof mt?fr:st(fr,this.objId,this.scope)},set:function(gr){gr=gr.toString(),fr=this instanceof mt?gr:gr.substr(0,1)==="("?T(gr.substr(1,gr.length-2)):T(gr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(fr.substr(1,fr.length-1)):fr},set:function(gr){gr=gr.toString(),fr=this instanceof mt?"/"+gr:gr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var mr,br=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return br},set:function(gr){gr=!!gr,br=gr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(mr)return mr},set:function(gr){mr=gr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(gr){gr?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(gr){gr?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(gr){gr?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var pr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(pr!==null)return pr},set:function(gr){if([0,1,2].indexOf(gr)===-1)throw new Error('Invalid value "'+gr+'" for attribute Q supplied.');pr=gr}}),Object.defineProperty(this,"textAlign",{get:function(){var gr;switch(pr){case 0:default:gr="left";break;case 1:gr="center";break;case 2:gr="right"}return gr},configurable:!0,enumerable:!0,set:function(gr){switch(gr){case"right":case 2:pr=2;break;case"center":case 1:pr=1;break;case"left":case 0:default:pr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var tr=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return tr},set:function(rr){tr=rr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return tr},set:function(rr){tr=rr}});var er=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(er,this.objId,this.scope)},set:function(rr){var nr,ir;ir=[],typeof(nr=rr)=="string"&&(ir=function(ar,sr,lr){lr||(lr=1);for(var or,cr=[];or=sr.exec(ar);)cr.push(or[lr]);return cr}(nr,/\((.*?)\)/g)),er=ir}}),this.getOptions=function(){return er},this.setOptions=function(rr){er=rr,this.sort&&er.sort()},this.addOption=function(rr){rr=(rr=rr||"").toString(),er.push(rr),this.sort&&er.sort()},this.removeOption=function(rr,nr){for(nr=nr||!1,rr=(rr=rr||"").toString();er.indexOf(rr)!==-1&&(er.splice(er.indexOf(rr),1),nr!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(rr){rr?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(rr){this.combo===!0&&(rr?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(rr){rr?(this.Ff=K(this.Ff,20),er.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(rr){rr?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(rr){rr?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(rr){rr?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(rr){rr?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(rr){rr?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(rr){rr?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(rr){rr?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var tr,er={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var rr=function(ar){return ar};if(this.scope&&(rr=this.scope.internal.getEncryptor(this.objId)),Object.keys(er).length!==0){var nr,ir=[];for(nr in ir.push("<<"),er)ir.push("/"+nr+" ("+R(rr(er[nr]))+")");return ir.push(">>"),ir.join(`
`)}},set:function(rr){_typeof(rr)==="object"&&(er=rr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return er.CA||""},set:function(rr){typeof rr=="string"&&(er.CA=rr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(rr){tr=rr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return tr.substr(1,tr.length-1)},set:function(rr){tr="/"+rr}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var tr=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return tr},set:function(er){tr=er!==void 0?er:[]}})};H(bt,mt);var yt=function(){var tr,er;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(ir){tr=ir}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return er},set:function(ir){er=ir}});var rr,nr={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var ir=function(lr){return lr};this.scope&&(ir=this.scope.internal.getEncryptor(this.objId));var ar,sr=[];for(ar in sr.push("<<"),nr)sr.push("/"+ar+" ("+R(ir(nr[ar]))+")");return sr.push(">>"),sr.join(`
`)},set:function(ir){_typeof(ir)==="object"&&(nr=ir)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return nr.CA||""},set:function(ir){typeof ir=="string"&&(nr.CA=ir)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return rr},set:function(ir){rr=ir}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return rr.substr(1,rr.length-1)},set:function(ir){rr="/"+ir}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(tr){if(!("createAppearanceStream"in tr)||!("getCA"in tr))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var er in this.Kids)if(this.Kids.hasOwnProperty(er)){var rr=this.Kids[er];rr.appearanceStreamContent=tr.createAppearanceStream(rr.optionName),rr.caption=tr.getCA()}},bt.prototype.createOption=function(tr){var er=new yt;return er.Parent=this,er.optionName=tr,this.Kids.push(er),xt.call(this.scope,er),er};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(er){er?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(er){er?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(er){er?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(er){er?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(er){er?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(er){er?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var tr=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return tr},set:function(er){tr=er}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return tr},set:function(er){Number.isInteger(er)&&(tr=er)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(tr){tr?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[],nr=tr.scope.internal.getFont(tr.fontName,tr.fontStyle).id,ir=tr.scope.__private__.encodeColorString(tr.color),ar=tt(tr,tr.caption);return rr.push("0.749023 g"),rr.push("0 0 "+U(At.internal.getWidth(tr))+" "+U(At.internal.getHeight(tr))+" re"),rr.push("f"),rr.push("BMC"),rr.push("q"),rr.push("0 0 1 rg"),rr.push("/"+nr+" "+U(ar.fontSize)+" Tf "+ir),rr.push("BT"),rr.push(ar.text),rr.push("ET"),rr.push("Q"),rr.push("EMC"),er.stream=rr.join(`
`),er},YesNormal:function(tr){var er=V(tr);er.scope=tr.scope;var rr=tr.scope.internal.getFont(tr.fontName,tr.fontStyle).id,nr=tr.scope.__private__.encodeColorString(tr.color),ir=[],ar=At.internal.getHeight(tr),sr=At.internal.getWidth(tr),lr=tt(tr,tr.caption);return ir.push("1 g"),ir.push("0 0 "+U(sr)+" "+U(ar)+" re"),ir.push("f"),ir.push("q"),ir.push("0 0 1 rg"),ir.push("0 0 "+U(sr-1)+" "+U(ar-1)+" re"),ir.push("W"),ir.push("n"),ir.push("0 g"),ir.push("BT"),ir.push("/"+rr+" "+U(lr.fontSize)+" Tf "+nr),ir.push(lr.text),ir.push("ET"),ir.push("Q"),er.stream=ir.join(`
`),er},OffPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U(At.internal.getWidth(tr))+" "+U(At.internal.getHeight(tr))+" re"),rr.push("f"),er.stream=rr.join(`
`),er}},RadioButton:{Circle:{createAppearanceStream:function(tr){var er={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return er.N[tr]=At.RadioButton.Circle.YesNormal,er.D[tr]=At.RadioButton.Circle.YesPushDown,er},getCA:function(){return"l"},YesNormal:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[],nr=At.internal.getWidth(tr)<=At.internal.getHeight(tr)?At.internal.getWidth(tr)/4:At.internal.getHeight(tr)/4;nr=Number((.9*nr).toFixed(5));var ir=At.internal.Bezier_C,ar=Number((nr*ir).toFixed(5));return rr.push("q"),rr.push("1 0 0 1 "+z(At.internal.getWidth(tr)/2)+" "+z(At.internal.getHeight(tr)/2)+" cm"),rr.push(nr+" 0 m"),rr.push(nr+" "+ar+" "+ar+" "+nr+" 0 "+nr+" c"),rr.push("-"+ar+" "+nr+" -"+nr+" "+ar+" -"+nr+" 0 c"),rr.push("-"+nr+" -"+ar+" -"+ar+" -"+nr+" 0 -"+nr+" c"),rr.push(ar+" -"+nr+" "+nr+" -"+ar+" "+nr+" 0 c"),rr.push("f"),rr.push("Q"),er.stream=rr.join(`
`),er},YesPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[],nr=At.internal.getWidth(tr)<=At.internal.getHeight(tr)?At.internal.getWidth(tr)/4:At.internal.getHeight(tr)/4;nr=Number((.9*nr).toFixed(5));var ir=Number((2*nr).toFixed(5)),ar=Number((ir*At.internal.Bezier_C).toFixed(5)),sr=Number((nr*At.internal.Bezier_C).toFixed(5));return rr.push("0.749023 g"),rr.push("q"),rr.push("1 0 0 1 "+z(At.internal.getWidth(tr)/2)+" "+z(At.internal.getHeight(tr)/2)+" cm"),rr.push(ir+" 0 m"),rr.push(ir+" "+ar+" "+ar+" "+ir+" 0 "+ir+" c"),rr.push("-"+ar+" "+ir+" -"+ir+" "+ar+" -"+ir+" 0 c"),rr.push("-"+ir+" -"+ar+" -"+ar+" -"+ir+" 0 -"+ir+" c"),rr.push(ar+" -"+ir+" "+ir+" -"+ar+" "+ir+" 0 c"),rr.push("f"),rr.push("Q"),rr.push("0 g"),rr.push("q"),rr.push("1 0 0 1 "+z(At.internal.getWidth(tr)/2)+" "+z(At.internal.getHeight(tr)/2)+" cm"),rr.push(nr+" 0 m"),rr.push(nr+" "+sr+" "+sr+" "+nr+" 0 "+nr+" c"),rr.push("-"+sr+" "+nr+" -"+nr+" "+sr+" -"+nr+" 0 c"),rr.push("-"+nr+" -"+sr+" -"+sr+" -"+nr+" 0 -"+nr+" c"),rr.push(sr+" -"+nr+" "+nr+" -"+sr+" "+nr+" 0 c"),rr.push("f"),rr.push("Q"),er.stream=rr.join(`
`),er},OffPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[],nr=At.internal.getWidth(tr)<=At.internal.getHeight(tr)?At.internal.getWidth(tr)/4:At.internal.getHeight(tr)/4;nr=Number((.9*nr).toFixed(5));var ir=Number((2*nr).toFixed(5)),ar=Number((ir*At.internal.Bezier_C).toFixed(5));return rr.push("0.749023 g"),rr.push("q"),rr.push("1 0 0 1 "+z(At.internal.getWidth(tr)/2)+" "+z(At.internal.getHeight(tr)/2)+" cm"),rr.push(ir+" 0 m"),rr.push(ir+" "+ar+" "+ar+" "+ir+" 0 "+ir+" c"),rr.push("-"+ar+" "+ir+" -"+ir+" "+ar+" -"+ir+" 0 c"),rr.push("-"+ir+" -"+ar+" -"+ar+" -"+ir+" 0 -"+ir+" c"),rr.push(ar+" -"+ir+" "+ir+" -"+ar+" "+ir+" 0 c"),rr.push("f"),rr.push("Q"),er.stream=rr.join(`
`),er}},Cross:{createAppearanceStream:function(tr){var er={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return er.N[tr]=At.RadioButton.Cross.YesNormal,er.D[tr]=At.RadioButton.Cross.YesPushDown,er},getCA:function(){return"8"},YesNormal:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[],nr=At.internal.calculateCross(tr);return rr.push("q"),rr.push("1 1 "+U(At.internal.getWidth(tr)-2)+" "+U(At.internal.getHeight(tr)-2)+" re"),rr.push("W"),rr.push("n"),rr.push(U(nr.x1.x)+" "+U(nr.x1.y)+" m"),rr.push(U(nr.x2.x)+" "+U(nr.x2.y)+" l"),rr.push(U(nr.x4.x)+" "+U(nr.x4.y)+" m"),rr.push(U(nr.x3.x)+" "+U(nr.x3.y)+" l"),rr.push("s"),rr.push("Q"),er.stream=rr.join(`
`),er},YesPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=At.internal.calculateCross(tr),nr=[];return nr.push("0.749023 g"),nr.push("0 0 "+U(At.internal.getWidth(tr))+" "+U(At.internal.getHeight(tr))+" re"),nr.push("f"),nr.push("q"),nr.push("1 1 "+U(At.internal.getWidth(tr)-2)+" "+U(At.internal.getHeight(tr)-2)+" re"),nr.push("W"),nr.push("n"),nr.push(U(rr.x1.x)+" "+U(rr.x1.y)+" m"),nr.push(U(rr.x2.x)+" "+U(rr.x2.y)+" l"),nr.push(U(rr.x4.x)+" "+U(rr.x4.y)+" m"),nr.push(U(rr.x3.x)+" "+U(rr.x3.y)+" l"),nr.push("s"),nr.push("Q"),er.stream=nr.join(`
`),er},OffPushDown:function(tr){var er=V(tr);er.scope=tr.scope;var rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U(At.internal.getWidth(tr))+" "+U(At.internal.getHeight(tr))+" re"),rr.push("f"),er.stream=rr.join(`
`),er}}},createDefaultAppearanceStream:function(tr){var er=tr.scope.internal.getFont(tr.fontName,tr.fontStyle).id,rr=tr.scope.__private__.encodeColorString(tr.color);return"/"+er+" "+tr.fontSize+" Tf "+rr}};At.internal={Bezier_C:.551915024494,calculateCross:function(tr){var er=At.internal.getWidth(tr),rr=At.internal.getHeight(tr),nr=Math.min(er,rr);return{x1:{x:(er-nr)/2,y:(rr-nr)/2+nr},x2:{x:(er-nr)/2+nr,y:(rr-nr)/2},x3:{x:(er-nr)/2,y:(rr-nr)/2},x4:{x:(er-nr)/2+nr,y:(rr-nr)/2+nr}}}},At.internal.getWidth=function(tr){var er=0;return _typeof(tr)==="object"&&(er=W(tr.Rect[2])),er},At.internal.getHeight=function(tr){var er=0;return _typeof(tr)==="object"&&(er=W(tr.Rect[3])),er};var xt=q.addField=function(tr){if(at(this,tr),!(tr instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var er;return(er=tr).scope.internal.acroformPlugin.printedOut&&(er.scope.internal.acroformPlugin.printedOut=!1,er.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),er.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(er),tr.page=tr.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};var St=E.AcroForm;function _t(tr){return tr.reduce(function(er,rr,nr){return er[rr]=nr,er},{})}(function(tr){tr.__addimage__={};var er="UNKNOWN",rr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},nr=tr.__addimage__.getImageFileTypeByImageData=function(Nr,Or){var Pr,Mr,jr,wr,Er,Ar=er;if((Or=Or||er)==="RGBA"||Nr.data!==void 0&&Nr.data instanceof Uint8ClampedArray&&"height"in Nr&&"width"in Nr)return"RGBA";if(Rr(Nr))for(Er in rr)for(jr=rr[Er],Pr=0;Pr<jr.length;Pr+=1){for(wr=!0,Mr=0;Mr<jr[Pr].length;Mr+=1)if(jr[Pr][Mr]!==void 0&&jr[Pr][Mr]!==Nr[Mr]){wr=!1;break}if(wr===!0){Ar=Er;break}}else for(Er in rr)for(jr=rr[Er],Pr=0;Pr<jr.length;Pr+=1){for(wr=!0,Mr=0;Mr<jr[Pr].length;Mr+=1)if(jr[Pr][Mr]!==void 0&&jr[Pr][Mr]!==Nr.charCodeAt(Mr)){wr=!1;break}if(wr===!0){Ar=Er;break}}return Ar===er&&Or!==er&&(Ar=Or),Ar},ir=function Nr(Or){for(var Pr=this.internal.write,Mr=this.internal.putStream,jr=(0,this.internal.getFilters)();jr.indexOf("FlateEncode")!==-1;)jr.splice(jr.indexOf("FlateEncode"),1);Or.objectId=this.internal.newObject();var wr=[];if(wr.push({key:"Type",value:"/XObject"}),wr.push({key:"Subtype",value:"/Image"}),wr.push({key:"Width",value:Or.width}),wr.push({key:"Height",value:Or.height}),Or.colorSpace===pr.INDEXED?wr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Or.palette.length/3-1)+" "+("sMask"in Or&&Or.sMask!==void 0?Or.objectId+2:Or.objectId+1)+" 0 R]"}):(wr.push({key:"ColorSpace",value:"/"+Or.colorSpace}),Or.colorSpace===pr.DEVICE_CMYK&&wr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),wr.push({key:"BitsPerComponent",value:Or.bitsPerComponent}),"decodeParameters"in Or&&Or.decodeParameters!==void 0&&wr.push({key:"DecodeParms",value:"<<"+Or.decodeParameters+">>"}),"transparency"in Or&&Array.isArray(Or.transparency)){for(var Er="",Ar=0,Sr=Or.transparency.length;Ar<Sr;Ar++)Er+=Or.transparency[Ar]+" "+Or.transparency[Ar]+" ";wr.push({key:"Mask",value:"["+Er+"]"})}Or.sMask!==void 0&&wr.push({key:"SMask",value:Or.objectId+1+" 0 R"});var Dr=Or.filter!==void 0?["/"+Or.filter]:void 0;if(Mr({data:Or.data,additionalKeyValues:wr,alreadyAppliedFilters:Dr,objectId:Or.objectId}),Pr("endobj"),"sMask"in Or&&Or.sMask!==void 0){var Wr="/Predictor "+Or.predictor+" /Colors 1 /BitsPerComponent "+Or.bitsPerComponent+" /Columns "+Or.width,$r={width:Or.width,height:Or.height,colorSpace:"DeviceGray",bitsPerComponent:Or.bitsPerComponent,decodeParameters:Wr,data:Or.sMask};"filter"in Or&&($r.filter=Or.filter),Nr.call(this,$r)}if(Or.colorSpace===pr.INDEXED){var Vr=this.internal.newObject();Mr({data:Tr(new Uint8Array(Or.palette)),objectId:Vr}),Pr("endobj")}},ar=function(){var Nr=this.internal.collections.addImage_images;for(var Or in Nr)ir.call(this,Nr[Or])},sr=function(){var Nr,Or=this.internal.collections.addImage_images,Pr=this.internal.write;for(var Mr in Or)Pr("/I"+(Nr=Or[Mr]).index,Nr.objectId,"0","R")},lr=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ar),this.internal.events.subscribe("putXobjectDict",sr))},or=function(){var Nr=this.internal.collections.addImage_images;return lr.call(this),Nr},cr=function(){return Object.keys(this.internal.collections.addImage_images).length},ur=function(Nr){return typeof tr["process"+Nr.toUpperCase()]=="function"},dr=function(Nr){return _typeof(Nr)==="object"&&Nr.nodeType===1},hr=function(Nr,Or){if(Nr.nodeName==="IMG"&&Nr.hasAttribute("src")){var Pr=""+Nr.getAttribute("src");if(Pr.indexOf("data:image/")===0)return u(unescape(Pr).split("base64,").pop());var Mr=tr.loadFile(Pr,!0);if(Mr!==void 0)return Mr}if(Nr.nodeName==="CANVAS"){if(Nr.width===0||Nr.height===0)throw new Error("Given canvas must have data. Canvas width: "+Nr.width+", height: "+Nr.height);var jr;switch(Or){case"PNG":jr="image/png";break;case"WEBP":jr="image/webp";break;case"JPEG":case"JPG":default:jr="image/jpeg"}return u(Nr.toDataURL(jr,1).split("base64,").pop())}},fr=function(Nr){var Or=this.internal.collections.addImage_images;if(Or){for(var Pr in Or)if(Nr===Or[Pr].alias)return Or[Pr]}},mr=function(Nr,Or,Pr){return Nr||Or||(Nr=-96,Or=-96),Nr<0&&(Nr=-1*Pr.width*72/Nr/this.internal.scaleFactor),Or<0&&(Or=-1*Pr.height*72/Or/this.internal.scaleFactor),Nr===0&&(Nr=Or*Pr.width/Pr.height),Or===0&&(Or=Nr*Pr.height/Pr.width),[Nr,Or]},br=function(Nr,Or,Pr,Mr,jr,wr){var Er=mr.call(this,Pr,Mr,jr),Ar=this.internal.getCoordinateString,Sr=this.internal.getVerticalCoordinateString,Dr=or.call(this);if(Pr=Er[0],Mr=Er[1],Dr[jr.index]=jr,wr){wr*=Math.PI/180;var Wr=Math.cos(wr),$r=Math.sin(wr),Vr=function(Gr){return Gr.toFixed(4)},zr=[Vr(Wr),Vr($r),Vr(-1*$r),Vr(Wr),0,0,"cm"]}this.internal.write("q"),wr?(this.internal.write([1,"0","0",1,Ar(Nr),Sr(Or+Mr),"cm"].join(" ")),this.internal.write(zr.join(" ")),this.internal.write([Ar(Pr),"0","0",Ar(Mr),"0","0","cm"].join(" "))):this.internal.write([Ar(Pr),"0","0",Ar(Mr),Ar(Nr),Sr(Or+Mr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+jr.index+" Do"),this.internal.write("Q")},pr=tr.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};tr.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var gr=tr.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},yr=tr.__addimage__.sHashCode=function(Nr){var Or,Pr,Mr=0;if(typeof Nr=="string")for(Pr=Nr.length,Or=0;Or<Pr;Or++)Mr=(Mr<<5)-Mr+Nr.charCodeAt(Or),Mr|=0;else if(Rr(Nr))for(Pr=Nr.byteLength/2,Or=0;Or<Pr;Or++)Mr=(Mr<<5)-Mr+Nr[Or],Mr|=0;return Mr},vr=tr.__addimage__.validateStringAsBase64=function(Nr){(Nr=Nr||"").toString().trim();var Or=!0;return Nr.length===0&&(Or=!1),Nr.length%4!=0&&(Or=!1),/^[A-Za-z0-9+/]+$/.test(Nr.substr(0,Nr.length-2))===!1&&(Or=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Nr.substr(-2))===!1&&(Or=!1),Or},_r=tr.__addimage__.extractImageFromDataUrl=function(Nr){var Or=(Nr=Nr||"").split("base64,"),Pr=null;if(Or.length===2){var Mr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Or[0]);Array.isArray(Mr)&&(Pr={mimeType:Mr[1],charset:Mr[2],data:Or[1]})}return Pr},xr=tr.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};tr.__addimage__.isArrayBuffer=function(Nr){return xr()&&Nr instanceof ArrayBuffer};var Rr=tr.__addimage__.isArrayBufferView=function(Nr){return xr()&&typeof Uint32Array<"u"&&(Nr instanceof Int8Array||Nr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Nr instanceof Uint8ClampedArray||Nr instanceof Int16Array||Nr instanceof Uint16Array||Nr instanceof Int32Array||Nr instanceof Uint32Array||Nr instanceof Float32Array||Nr instanceof Float64Array)},Cr=tr.__addimage__.binaryStringToUint8Array=function(Nr){for(var Or=Nr.length,Pr=new Uint8Array(Or),Mr=0;Mr<Or;Mr++)Pr[Mr]=Nr.charCodeAt(Mr);return Pr},Tr=tr.__addimage__.arrayBufferToBinaryString=function(Nr){for(var Or="",Pr=Rr(Nr)?Nr:new Uint8Array(Nr),Mr=0;Mr<Pr.length;Mr+=8192)Or+=String.fromCharCode.apply(null,Pr.subarray(Mr,Mr+8192));return Or};tr.addImage=function(){var Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr;if(typeof arguments[1]=="number"?(Or=er,Pr=arguments[1],Mr=arguments[2],jr=arguments[3],wr=arguments[4],Er=arguments[5],Ar=arguments[6],Sr=arguments[7]):(Or=arguments[1],Pr=arguments[2],Mr=arguments[3],jr=arguments[4],wr=arguments[5],Er=arguments[6],Ar=arguments[7],Sr=arguments[8]),_typeof(Nr=arguments[0])==="object"&&!dr(Nr)&&"imageData"in Nr){var Dr=Nr;Nr=Dr.imageData,Or=Dr.format||Or||er,Pr=Dr.x||Pr||0,Mr=Dr.y||Mr||0,jr=Dr.w||Dr.width||jr,wr=Dr.h||Dr.height||wr,Er=Dr.alias||Er,Ar=Dr.compression||Ar,Sr=Dr.rotation||Dr.angle||Sr}var Wr=this.internal.getFilters();if(Ar===void 0&&Wr.indexOf("FlateEncode")!==-1&&(Ar="SLOW"),isNaN(Pr)||isNaN(Mr))throw new Error("Invalid coordinates passed to jsPDF.addImage");lr.call(this);var $r=Ir.call(this,Nr,Or,Er,Ar);return br.call(this,Pr,Mr,jr,wr,$r,Sr),this};var Ir=function(Nr,Or,Pr,Mr){var jr,wr,Er;if(typeof Nr=="string"&&nr(Nr)===er){Nr=unescape(Nr);var Ar=Lr(Nr,!1);(Ar!==""||(Ar=tr.loadFile(Nr,!0))!==void 0)&&(Nr=Ar)}if(dr(Nr)&&(Nr=hr(Nr,Or)),Or=nr(Nr,Or),!ur(Or))throw new Error("addImage does not support files of type '"+Or+"', please ensure that a plugin for '"+Or+"' support is added.");if(((Er=Pr)==null||Er.length===0)&&(Pr=function(Sr){return typeof Sr=="string"||Rr(Sr)?yr(Sr):Rr(Sr.data)?yr(Sr.data):null}(Nr)),(jr=fr.call(this,Pr))||(xr()&&(Nr instanceof Uint8Array||Or==="RGBA"||(wr=Nr,Nr=Cr(Nr))),jr=this["process"+Or.toUpperCase()](Nr,cr.call(this),Pr,function(Sr){return Sr&&typeof Sr=="string"&&(Sr=Sr.toUpperCase()),Sr in tr.image_compression?Sr:gr.NONE}(Mr),wr)),!jr)throw new Error("An unknown error occurred whilst processing the image.");return jr},Lr=tr.__addimage__.convertBase64ToBinaryString=function(Nr,Or){var Pr;Or=typeof Or!="boolean"||Or;var Mr,jr="";if(typeof Nr=="string"){Mr=(Pr=_r(Nr))!==null?Pr.data:Nr;try{jr=u(Mr)}catch(wr){if(Or)throw vr(Mr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+wr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return jr};tr.getImageProperties=function(Nr){var Or,Pr,Mr="";if(dr(Nr)&&(Nr=hr(Nr)),typeof Nr=="string"&&nr(Nr)===er&&((Mr=Lr(Nr,!1))===""&&(Mr=tr.loadFile(Nr)||""),Nr=Mr),Pr=nr(Nr),!ur(Pr))throw new Error("addImage does not support files of type '"+Pr+"', please ensure that a plugin for '"+Pr+"' support is added.");if(!xr()||Nr instanceof Uint8Array||(Nr=Cr(Nr)),!(Or=this["process"+Pr.toUpperCase()](Nr)))throw new Error("An unknown error occurred whilst processing the image");return Or.fileType=Pr,Or}})(E.API),function(tr){var er=function(rr){if(rr!==void 0&&rr!="")return!0};E.API.events.push(["addPage",function(rr){this.internal.getPageInfo(rr.pageNumber).pageContext.annotations=[]}]),tr.events.push(["putPage",function(rr){for(var nr,ir,ar,sr=this.internal.getCoordinateString,lr=this.internal.getVerticalCoordinateString,or=this.internal.getPageInfoByObjId(rr.objId),cr=rr.pageContext.annotations,ur=!1,dr=0;dr<cr.length&&!ur;dr++)switch((nr=cr[dr]).type){case"link":(er(nr.options.url)||er(nr.options.pageNumber))&&(ur=!0);break;case"reference":case"text":case"freetext":ur=!0}if(ur!=0){this.internal.write("/Annots [");for(var hr=0;hr<cr.length;hr++){nr=cr[hr];var fr=this.internal.pdfEscape,mr=this.internal.getEncryptor(rr.objId);switch(nr.type){case"reference":this.internal.write(" "+nr.object.objId+" 0 R ");break;case"text":var br=this.internal.newAdditionalObject(),pr=this.internal.newAdditionalObject(),gr=this.internal.getEncryptor(br.objId),yr=nr.title||"Note";ar="<</Type /Annot /Subtype /Text "+(ir="/Rect ["+sr(nr.bounds.x)+" "+lr(nr.bounds.y+nr.bounds.h)+" "+sr(nr.bounds.x+nr.bounds.w)+" "+lr(nr.bounds.y)+"] ")+"/Contents ("+fr(gr(nr.contents))+")",ar+=" /Popup "+pr.objId+" 0 R",ar+=" /P "+or.objId+" 0 R",ar+=" /T ("+fr(gr(yr))+") >>",br.content=ar;var vr=br.objId+" 0 R";ar="<</Type /Annot /Subtype /Popup "+(ir="/Rect ["+sr(nr.bounds.x+30)+" "+lr(nr.bounds.y+nr.bounds.h)+" "+sr(nr.bounds.x+nr.bounds.w+30)+" "+lr(nr.bounds.y)+"] ")+" /Parent "+vr,nr.open&&(ar+=" /Open true"),ar+=" >>",pr.content=ar,this.internal.write(br.objId,"0 R",pr.objId,"0 R");break;case"freetext":ir="/Rect ["+sr(nr.bounds.x)+" "+lr(nr.bounds.y)+" "+sr(nr.bounds.x+nr.bounds.w)+" "+lr(nr.bounds.y+nr.bounds.h)+"] ";var _r=nr.color||"#000000";ar="<</Type /Annot /Subtype /FreeText "+ir+"/Contents ("+fr(mr(nr.contents))+")",ar+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_r+")",ar+=" /Border [0 0 0]",ar+=" >>",this.internal.write(ar);break;case"link":if(nr.options.name){var xr=this.annotations._nameMap[nr.options.name];nr.options.pageNumber=xr.page,nr.options.top=xr.y}else nr.options.top||(nr.options.top=0);if(ir="/Rect ["+nr.finalBounds.x+" "+nr.finalBounds.y+" "+nr.finalBounds.w+" "+nr.finalBounds.h+"] ",ar="",nr.options.url)ar="<</Type /Annot /Subtype /Link "+ir+"/Border [0 0 0] /A <</S /URI /URI ("+fr(mr(nr.options.url))+") >>";else if(nr.options.pageNumber)switch(ar="<</Type /Annot /Subtype /Link "+ir+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(nr.options.pageNumber).objId+" 0 R",nr.options.magFactor=nr.options.magFactor||"XYZ",nr.options.magFactor){case"Fit":ar+=" /Fit]";break;case"FitH":ar+=" /FitH "+nr.options.top+"]";break;case"FitV":nr.options.left=nr.options.left||0,ar+=" /FitV "+nr.options.left+"]";break;case"XYZ":default:var Rr=lr(nr.options.top);nr.options.left=nr.options.left||0,nr.options.zoom===void 0&&(nr.options.zoom=0),ar+=" /XYZ "+nr.options.left+" "+Rr+" "+nr.options.zoom+"]"}ar!=""&&(ar+=" >>",this.internal.write(ar))}}this.internal.write("]")}}]),tr.createAnnotation=function(rr){var nr=this.internal.getCurrentPageInfo();switch(rr.type){case"link":this.link(rr.bounds.x,rr.bounds.y,rr.bounds.w,rr.bounds.h,rr);break;case"text":case"freetext":nr.pageContext.annotations.push(rr)}},tr.link=function(rr,nr,ir,ar,sr){var lr=this.internal.getCurrentPageInfo(),or=this.internal.getCoordinateString,cr=this.internal.getVerticalCoordinateString;lr.pageContext.annotations.push({finalBounds:{x:or(rr),y:cr(nr),w:or(rr+ir),h:cr(nr+ar)},options:sr,type:"link"})},tr.textWithLink=function(rr,nr,ir,ar){var sr,lr,or=this.getTextWidth(rr),cr=this.internal.getLineHeight()/this.internal.scaleFactor;if(ar.maxWidth!==void 0){lr=ar.maxWidth;var ur=this.splitTextToSize(rr,lr).length;sr=Math.ceil(cr*ur)}else lr=or,sr=cr;return this.text(rr,nr,ir,ar),ir+=.2*cr,ar.align==="center"&&(nr-=or/2),ar.align==="right"&&(nr-=or),this.link(nr,ir-cr,lr,sr,ar),or},tr.getTextWidth=function(rr){var nr=this.internal.getFontSize();return this.getStringUnitWidth(rr)*nr/this.internal.scaleFactor}}(E.API),function(tr){var er={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},rr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},nr={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},ir=[1570,1571,1573,1575];tr.__arabicParser__={};var ar=tr.__arabicParser__.isInArabicSubstitutionA=function(br){return er[br.charCodeAt(0)]!==void 0},sr=tr.__arabicParser__.isArabicLetter=function(br){return typeof br=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(br)},lr=tr.__arabicParser__.isArabicEndLetter=function(br){return sr(br)&&ar(br)&&er[br.charCodeAt(0)].length<=2},or=tr.__arabicParser__.isArabicAlfLetter=function(br){return sr(br)&&ir.indexOf(br.charCodeAt(0))>=0};tr.__arabicParser__.arabicLetterHasIsolatedForm=function(br){return sr(br)&&ar(br)&&er[br.charCodeAt(0)].length>=1};var cr=tr.__arabicParser__.arabicLetterHasFinalForm=function(br){return sr(br)&&ar(br)&&er[br.charCodeAt(0)].length>=2};tr.__arabicParser__.arabicLetterHasInitialForm=function(br){return sr(br)&&ar(br)&&er[br.charCodeAt(0)].length>=3};var ur=tr.__arabicParser__.arabicLetterHasMedialForm=function(br){return sr(br)&&ar(br)&&er[br.charCodeAt(0)].length==4},dr=tr.__arabicParser__.resolveLigatures=function(br){var pr=0,gr=rr,yr="",vr=0;for(pr=0;pr<br.length;pr+=1)gr[br.charCodeAt(pr)]!==void 0?(vr++,typeof(gr=gr[br.charCodeAt(pr)])=="number"&&(yr+=String.fromCharCode(gr),gr=rr,vr=0),pr===br.length-1&&(gr=rr,yr+=br.charAt(pr-(vr-1)),pr-=vr-1,vr=0)):(gr=rr,yr+=br.charAt(pr-vr),pr-=vr,vr=0);return yr};tr.__arabicParser__.isArabicDiacritic=function(br){return br!==void 0&&nr[br.charCodeAt(0)]!==void 0};var hr=tr.__arabicParser__.getCorrectForm=function(br,pr,gr){return sr(br)?ar(br)===!1?-1:!cr(br)||!sr(pr)&&!sr(gr)||!sr(gr)&&lr(pr)||lr(br)&&!sr(pr)||lr(br)&&or(pr)||lr(br)&&lr(pr)?0:ur(br)&&sr(pr)&&!lr(pr)&&sr(gr)&&cr(gr)?3:lr(br)||!sr(gr)?1:2:-1},fr=function(br){var pr=0,gr=0,yr=0,vr="",_r="",xr="",Rr=(br=br||"").split("\\s+"),Cr=[];for(pr=0;pr<Rr.length;pr+=1){for(Cr.push(""),gr=0;gr<Rr[pr].length;gr+=1)vr=Rr[pr][gr],_r=Rr[pr][gr-1],xr=Rr[pr][gr+1],sr(vr)?(yr=hr(vr,_r,xr),Cr[pr]+=yr!==-1?String.fromCharCode(er[vr.charCodeAt(0)][yr]):vr):Cr[pr]+=vr;Cr[pr]=dr(Cr[pr])}return Cr.join(" ")},mr=tr.__arabicParser__.processArabic=tr.processArabic=function(){var br,pr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,gr=[];if(Array.isArray(pr)){var yr=0;for(gr=[],yr=0;yr<pr.length;yr+=1)Array.isArray(pr[yr])?gr.push([fr(pr[yr][0]),pr[yr][1],pr[yr][2]]):gr.push([fr(pr[yr])]);br=gr}else br=fr(pr);return typeof arguments[0]=="string"?br:(arguments[0].text=br,arguments[0])};tr.events.push(["preProcessText",mr])}(E.API),E.API.autoPrint=function(tr){var er;switch((tr=tr||{}).variant=tr.variant||"non-conform",tr.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){er=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+er+" 0 R")})}return this},function(tr){var er=function(){var rr=void 0;Object.defineProperty(this,"pdf",{get:function(){return rr},set:function(lr){rr=lr}});var nr=150;Object.defineProperty(this,"width",{get:function(){return nr},set:function(lr){nr=isNaN(lr)||Number.isInteger(lr)===!1||lr<0?150:lr,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=nr+1)}});var ir=300;Object.defineProperty(this,"height",{get:function(){return ir},set:function(lr){ir=isNaN(lr)||Number.isInteger(lr)===!1||lr<0?300:lr,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=ir+1)}});var ar=[];Object.defineProperty(this,"childNodes",{get:function(){return ar},set:function(lr){ar=lr}});var sr={};Object.defineProperty(this,"style",{get:function(){return sr},set:function(lr){sr=lr}}),Object.defineProperty(this,"parentNode",{})};er.prototype.getContext=function(rr,nr){var ir;if((rr=rr||"2d")!=="2d")return null;for(ir in nr)this.pdf.context2d.hasOwnProperty(ir)&&(this.pdf.context2d[ir]=nr[ir]);return this.pdf.context2d._canvas=this,this.pdf.context2d},er.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},tr.events.push(["initialized",function(){this.canvas=new er,this.canvas.pdf=this}])}(E.API),function(tr){var er={left:0,top:0,bottom:0,right:0},rr=!1,nr=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},er),this.internal.__cell__.margins.width=this.getPageWidth(),ir.call(this))},ir=function(){this.internal.__cell__.lastCell=new ar,this.internal.__cell__.pages=1},ar=function(){var or=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return or},set:function(br){or=br}});var cr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return cr},set:function(br){cr=br}});var ur=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ur},set:function(br){ur=br}});var dr=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return dr},set:function(br){dr=br}});var hr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return hr},set:function(br){hr=br}});var fr=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return fr},set:function(br){fr=br}});var mr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return mr},set:function(br){mr=br}}),this};ar.prototype.clone=function(){return new ar(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ar.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},tr.setHeaderFunction=function(or){return nr.call(this),this.internal.__cell__.headerFunction=typeof or=="function"?or:void 0,this},tr.getTextDimensions=function(or,cr){nr.call(this);var ur=(cr=cr||{}).fontSize||this.getFontSize(),dr=cr.font||this.getFont(),hr=cr.scaleFactor||this.internal.scaleFactor,fr=0,mr=0,br=0,pr=this;if(!Array.isArray(or)&&typeof or!="string"){if(typeof or!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");or=String(or)}var gr=cr.maxWidth;gr>0?typeof or=="string"?or=this.splitTextToSize(or,gr):Object.prototype.toString.call(or)==="[object Array]"&&(or=or.reduce(function(vr,_r){return vr.concat(pr.splitTextToSize(_r,gr))},[])):or=Array.isArray(or)?or:[or];for(var yr=0;yr<or.length;yr++)fr<(br=this.getStringUnitWidth(or[yr],{font:dr})*ur)&&(fr=br);return fr!==0&&(mr=or.length),{w:fr/=hr,h:Math.max((mr*ur*this.getLineHeightFactor()-ur*(this.getLineHeightFactor()-1))/hr,0)}},tr.cellAddPage=function(){nr.call(this),this.addPage();var or=this.internal.__cell__.margins||er;return this.internal.__cell__.lastCell=new ar(or.left,or.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var sr=tr.cell=function(){var or;or=arguments[0]instanceof ar?arguments[0]:new ar(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),nr.call(this);var cr=this.internal.__cell__.lastCell,ur=this.internal.__cell__.padding,dr=this.internal.__cell__.margins||er,hr=this.internal.__cell__.tableHeaderRow,fr=this.internal.__cell__.printHeaders;return cr.lineNumber!==void 0&&(cr.lineNumber===or.lineNumber?(or.x=(cr.x||0)+(cr.width||0),or.y=cr.y||0):cr.y+cr.height+or.height+dr.bottom>this.getPageHeight()?(this.cellAddPage(),or.y=dr.top,fr&&hr&&(this.printHeaderRow(or.lineNumber,!0),or.y+=hr[0].height)):or.y=cr.y+cr.height||or.y),or.text[0]!==void 0&&(this.rect(or.x,or.y,or.width,or.height,rr===!0?"FD":void 0),or.align==="right"?this.text(or.text,or.x+or.width-ur,or.y+ur,{align:"right",baseline:"top"}):or.align==="center"?this.text(or.text,or.x+or.width/2,or.y+ur,{align:"center",baseline:"top",maxWidth:or.width-ur-ur}):this.text(or.text,or.x+ur,or.y+ur,{align:"left",baseline:"top",maxWidth:or.width-ur-ur})),this.internal.__cell__.lastCell=or,this};tr.table=function(or,cr,ur,dr,hr){if(nr.call(this),!ur)throw new Error("No data for PDF table.");var fr,mr,br,pr,gr=[],yr=[],vr=[],_r={},xr={},Rr=[],Cr=[],Tr=(hr=hr||{}).autoSize||!1,Ir=hr.printHeaders!==!1,Lr=hr.css&&hr.css["font-size"]!==void 0?16*hr.css["font-size"]:hr.fontSize||12,Nr=hr.margins||Object.assign({width:this.getPageWidth()},er),Or=typeof hr.padding=="number"?hr.padding:3,Pr=hr.headerBackgroundColor||"#c8c8c8",Mr=hr.headerTextColor||"#000";if(ir.call(this),this.internal.__cell__.printHeaders=Ir,this.internal.__cell__.margins=Nr,this.internal.__cell__.table_font_size=Lr,this.internal.__cell__.padding=Or,this.internal.__cell__.headerBackgroundColor=Pr,this.internal.__cell__.headerTextColor=Mr,this.setFontSize(Lr),dr==null)yr=gr=Object.keys(ur[0]),vr=gr.map(function(){return"left"});else if(Array.isArray(dr)&&_typeof(dr[0])==="object")for(gr=dr.map(function(Dr){return Dr.name}),yr=dr.map(function(Dr){return Dr.prompt||Dr.name||""}),vr=dr.map(function(Dr){return Dr.align||"left"}),fr=0;fr<dr.length;fr+=1)xr[dr[fr].name]=dr[fr].width*(19.049976/25.4);else Array.isArray(dr)&&typeof dr[0]=="string"&&(yr=gr=dr,vr=gr.map(function(){return"left"}));if(Tr||Array.isArray(dr)&&typeof dr[0]=="string")for(fr=0;fr<gr.length;fr+=1){for(_r[pr=gr[fr]]=ur.map(function(Dr){return Dr[pr]}),this.setFont(void 0,"bold"),Rr.push(this.getTextDimensions(yr[fr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),mr=_r[pr],this.setFont(void 0,"normal"),br=0;br<mr.length;br+=1)Rr.push(this.getTextDimensions(mr[br],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xr[pr]=Math.max.apply(null,Rr)+Or+Or,Rr=[]}if(Ir){var jr={};for(fr=0;fr<gr.length;fr+=1)jr[gr[fr]]={},jr[gr[fr]].text=yr[fr],jr[gr[fr]].align=vr[fr];var wr=lr.call(this,jr,xr);Cr=gr.map(function(Dr){return new ar(or,cr,xr[Dr],wr,jr[Dr].text,void 0,jr[Dr].align)}),this.setTableHeaderRow(Cr),this.printHeaderRow(1,!1)}var Er=dr.reduce(function(Dr,Wr){return Dr[Wr.name]=Wr.align,Dr},{});for(fr=0;fr<ur.length;fr+=1){"rowStart"in hr&&hr.rowStart instanceof Function&&hr.rowStart({row:fr,data:ur[fr]},this);var Ar=lr.call(this,ur[fr],xr);for(br=0;br<gr.length;br+=1){var Sr=ur[fr][gr[br]];"cellStart"in hr&&hr.cellStart instanceof Function&&hr.cellStart({row:fr,col:br,data:Sr},this),sr.call(this,new ar(or,cr,xr[gr[br]],Ar,Sr,fr+2,Er[gr[br]]))}}return this.internal.__cell__.table_x=or,this.internal.__cell__.table_y=cr,this};var lr=function(or,cr){var ur=this.internal.__cell__.padding,dr=this.internal.__cell__.table_font_size,hr=this.internal.scaleFactor;return Object.keys(or).map(function(fr){var mr=or[fr];return this.splitTextToSize(mr.hasOwnProperty("text")?mr.text:mr,cr[fr]-ur-ur)},this).map(function(fr){return this.getLineHeightFactor()*fr.length*dr/hr+ur+ur},this).reduce(function(fr,mr){return Math.max(fr,mr)},0)};tr.setTableHeaderRow=function(or){nr.call(this),this.internal.__cell__.tableHeaderRow=or},tr.printHeaderRow=function(or,cr){if(nr.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ur;if(rr=!0,typeof this.internal.__cell__.headerFunction=="function"){var dr=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ar(dr[0],dr[1],dr[2],dr[3],void 0,-1)}this.setFont(void 0,"bold");for(var hr=[],fr=0;fr<this.internal.__cell__.tableHeaderRow.length;fr+=1){ur=this.internal.__cell__.tableHeaderRow[fr].clone(),cr&&(ur.y=this.internal.__cell__.margins.top||0,hr.push(ur)),ur.lineNumber=or;var mr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),sr.call(this,ur),this.setTextColor(mr)}hr.length>0&&this.setTableHeaderRow(hr),this.setFont(void 0,"normal"),rr=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(tr){var er=tr.family.replace(/"|'/g,"").toLowerCase(),rr=function(ar){return Pt[ar=ar||"normal"]?ar:"normal"}(tr.style),nr=function(ar){if(!ar)return 400;if(typeof ar=="number")return ar>=100&&ar<=900&&ar%100==0?ar:400;if(/^\d00$/.test(ar))return parseInt(ar);switch(ar){case"bold":return 700;case"normal":default:return 400}}(tr.weight),ir=function(ar){return typeof It[ar=ar||"normal"]=="number"?ar:"normal"}(tr.stretch);return{family:er,style:rr,weight:nr,stretch:ir,src:tr.src||[],ref:tr.ref||{name:er,style:[ir,rr,nr].join(" ")}}}function Ot(tr,er,rr,nr){var ir;for(ir=rr;ir>=0&&ir<er.length;ir+=nr)if(tr[er[ir]])return tr[er[ir]];for(ir=rr;ir>=0&&ir<er.length;ir-=nr)if(tr[er[ir]])return tr[er[ir]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(tr){return[tr.stretch,tr.style,tr.weight,tr.family].join(" ")}function qt(tr,er,rr){for(var nr=(rr=rr||{}).defaultFontFamily||"times",ir=Object.assign({},Bt,rr.genericFontFamilies||{}),ar=null,sr=null,lr=0;lr<er.length;++lr)if(ir[(ar=jt(er[lr])).family]&&(ar.family=ir[ar.family]),tr.hasOwnProperty(ar.family)){sr=tr[ar.family];break}if(!(sr=sr||tr[nr]))throw new Error("Could not find a font-family for the rule '"+Et(ar)+"' and default family '"+nr+"'.");if(sr=function(or,cr){if(cr[or])return cr[or];var ur=It[or],dr=ur<=It.normal?-1:1,hr=Ot(cr,kt,ur,dr);if(!hr)throw new Error("Could not find a matching font-stretch value for "+or);return hr}(ar.stretch,sr),sr=function(or,cr){if(cr[or])return cr[or];for(var ur=Pt[or],dr=0;dr<ur.length;++dr)if(cr[ur[dr]])return cr[ur[dr]];throw new Error("Could not find a matching font-style for "+or)}(ar.style,sr),!(sr=function(or,cr){if(cr[or])return cr[or];if(or===400&&cr[500])return cr[500];if(or===500&&cr[400])return cr[400];var ur=Ct[or],dr=Ot(cr,Ft,ur,or<400?-1:1);if(!dr)throw new Error("Could not find a matching font-weight for value "+or);return dr}(ar.weight,sr)))throw new Error("Failed to resolve a font for the rule '"+Et(ar)+"'.");return sr}function Dt(tr){return tr.trimLeft()}function Rt(tr,er){for(var rr=0;rr<tr.length;){if(tr.charAt(rr)===er)return[tr.substring(0,rr),tr.substring(rr+1)];rr+=1}return null}function Tt(tr){var er=tr.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return er===null?null:[er[0],tr.substring(er[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(tr){var er,rr,nr,ir,ar,sr,lr,or,cr,ur=function($r){return $r=$r||{},this.isStrokeTransparent=$r.isStrokeTransparent||!1,this.strokeOpacity=$r.strokeOpacity||1,this.strokeStyle=$r.strokeStyle||"#000000",this.fillStyle=$r.fillStyle||"#000000",this.isFillTransparent=$r.isFillTransparent||!1,this.fillOpacity=$r.fillOpacity||1,this.font=$r.font||"10px sans-serif",this.textBaseline=$r.textBaseline||"alphabetic",this.textAlign=$r.textAlign||"left",this.lineWidth=$r.lineWidth||1,this.lineJoin=$r.lineJoin||"miter",this.lineCap=$r.lineCap||"butt",this.path=$r.path||[],this.transform=$r.transform!==void 0?$r.transform.clone():new or,this.globalCompositeOperation=$r.globalCompositeOperation||"normal",this.globalAlpha=$r.globalAlpha||1,this.clip_path=$r.clip_path||[],this.currentPoint=$r.currentPoint||new sr,this.miterLimit=$r.miterLimit||10,this.lastPoint=$r.lastPoint||new sr,this.lineDashOffset=$r.lineDashOffset||0,this.lineDash=$r.lineDash||[],this.margin=$r.margin||[0,0,0,0],this.prevPageLastElemOffset=$r.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $r.ignoreClearRect!="boolean"||$r.ignoreClearRect,this};tr.events.push(["initialized",function(){this.context2d=new dr(this),er=this.internal.f2,rr=this.internal.getCoordinateString,nr=this.internal.getVerticalCoordinateString,ir=this.internal.getHorizontalCoordinate,ar=this.internal.getVerticalCoordinate,sr=this.internal.Point,lr=this.internal.Rectangle,or=this.internal.Matrix,cr=new ur}]);var dr=function($r){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Vr=$r;Object.defineProperty(this,"pdf",{get:function(){return Vr}});var zr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return zr},set:function(hn){zr=!!hn}});var Gr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Gr},set:function(hn){Gr=!!hn}});var Fr=0;Object.defineProperty(this,"posX",{get:function(){return Fr},set:function(hn){isNaN(hn)||(Fr=hn)}});var Xr=0;Object.defineProperty(this,"posY",{get:function(){return Xr},set:function(hn){isNaN(hn)||(Xr=hn)}}),Object.defineProperty(this,"margin",{get:function(){return cr.margin},set:function(hn){var Jr;typeof hn=="number"?Jr=[hn,hn,hn,hn]:((Jr=new Array(4))[0]=hn[0],Jr[1]=hn.length>=2?hn[1]:Jr[0],Jr[2]=hn.length>=3?hn[2]:Jr[0],Jr[3]=hn.length>=4?hn[3]:Jr[1]),cr.margin=Jr}});var Ur=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ur},set:function(hn){Ur=hn}});var Br=0;Object.defineProperty(this,"lastBreak",{get:function(){return Br},set:function(hn){Br=hn}});var Kr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Kr},set:function(hn){Kr=hn}}),Object.defineProperty(this,"ctx",{get:function(){return cr},set:function(hn){hn instanceof ur&&(cr=hn)}}),Object.defineProperty(this,"path",{get:function(){return cr.path},set:function(hn){cr.path=hn}});var Zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Zr},set:function(hn){Zr=hn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(hn){var Jr;Jr=hr(hn),this.ctx.fillStyle=Jr.style,this.ctx.isFillTransparent=Jr.a===0,this.ctx.fillOpacity=Jr.a,this.pdf.setFillColor(Jr.r,Jr.g,Jr.b,{a:Jr.a}),this.pdf.setTextColor(Jr.r,Jr.g,Jr.b,{a:Jr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(hn){var Jr=hr(hn);this.ctx.strokeStyle=Jr.style,this.ctx.isStrokeTransparent=Jr.a===0,this.ctx.strokeOpacity=Jr.a,Jr.a===0?this.pdf.setDrawColor(255,255,255):(Jr.a,this.pdf.setDrawColor(Jr.r,Jr.g,Jr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(hn){["butt","round","square"].indexOf(hn)!==-1&&(this.ctx.lineCap=hn,this.pdf.setLineCap(hn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(hn){isNaN(hn)||(this.ctx.lineWidth=hn,this.pdf.setLineWidth(hn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(hn){["bevel","round","miter"].indexOf(hn)!==-1&&(this.ctx.lineJoin=hn,this.pdf.setLineJoin(hn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(hn){isNaN(hn)||(this.ctx.miterLimit=hn,this.pdf.setMiterLimit(hn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(hn){this.ctx.textBaseline=hn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(hn){["right","end","center","left","start"].indexOf(hn)!==-1&&(this.ctx.textAlign=hn)}});var tn=null;function sn(hn,Jr){if(tn===null){var nn=function(rn){var on=[];return Object.keys(rn).forEach(function(fn){rn[fn].forEach(function(mn){var yn=null;switch(mn){case"bold":yn={family:fn,weight:"bold"};break;case"italic":yn={family:fn,style:"italic"};break;case"bolditalic":yn={family:fn,weight:"bold",style:"italic"};break;case"":case"normal":yn={family:fn}}yn!==null&&(yn.ref={name:fn,style:mn},on.push(yn))})}),on}(hn.getFontList());tn=function(rn){for(var on={},fn=0;fn<rn.length;++fn){var mn=jt(rn[fn]),yn=mn.family,Rn=mn.stretch,In=mn.style,Sn=mn.weight;on[yn]=on[yn]||{},on[yn][Rn]=on[yn][Rn]||{},on[yn][Rn][In]=on[yn][Rn][In]||{},on[yn][Rn][In][Sn]=mn}return on}(nn.concat(Jr))}return tn}var un=null;Object.defineProperty(this,"fontFaces",{get:function(){return un},set:function(hn){tn=null,un=hn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(hn){var Jr;if(this.ctx.font=hn,(Jr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(hn))!==null){var nn=Jr[1],rn=(Jr[2],Jr[3]),on=Jr[4],fn=(Jr[5],Jr[6]),mn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(on)[2];on=Math.floor(mn==="px"?parseFloat(on)*this.pdf.internal.scaleFactor:mn==="em"?parseFloat(on)*this.pdf.getFontSize():parseFloat(on)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(on);var yn=function(ns){var fs,qn,ds=[],os=ns.trim();if(os==="")return Wt;if(os in Mt)return[Mt[os]];for(;os!=="";){switch(qn=null,fs=(os=Dt(os)).charAt(0)){case'"':case"'":qn=Rt(os.substring(1),fs);break;default:qn=Tt(os)}if(qn===null||(ds.push(qn[0]),(os=Dt(qn[1]))!==""&&os.charAt(0)!==","))return Wt;os=os.replace(/^,/,"")}return ds}(fn);if(this.fontFaces){var Rn=qt(sn(this.pdf,this.fontFaces),yn.map(function(ns){return{family:ns,stretch:"normal",weight:rn,style:nn}}));this.pdf.setFont(Rn.ref.name,Rn.ref.style)}else{var In="";(rn==="bold"||parseInt(rn,10)>=700||nn==="bold")&&(In="bold"),nn==="italic"&&(In+="italic"),In.length===0&&(In="normal");for(var Sn="",Dn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zn=0;zn<yn.length;zn++){if(this.pdf.internal.getFont(yn[zn],In,{noFallback:!0,disableWarning:!0})!==void 0){Sn=yn[zn];break}if(In==="bolditalic"&&this.pdf.internal.getFont(yn[zn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Sn=yn[zn],In="bold";else if(this.pdf.internal.getFont(yn[zn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Sn=yn[zn],In="normal";break}}if(Sn===""){for(var rs=0;rs<yn.length;rs++)if(Dn[yn[rs]]){Sn=Dn[yn[rs]];break}}Sn=Sn===""?"Times":Sn,this.pdf.setFont(Sn,In)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(hn){this.ctx.globalCompositeOperation=hn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(hn){this.ctx.globalAlpha=hn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(hn){this.ctx.lineDashOffset=hn,Wr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(hn){this.ctx.lineDash=hn,Wr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(hn){this.ctx.ignoreClearRect=!!hn}})};dr.prototype.setLineDash=function($r){this.lineDash=$r},dr.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},dr.prototype.fill=function(){_r.call(this,"fill",!1)},dr.prototype.stroke=function(){_r.call(this,"stroke",!1)},dr.prototype.beginPath=function(){this.path=[{type:"begin"}]},dr.prototype.moveTo=function($r,Vr){if(isNaN($r)||isNaN(Vr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var zr=this.ctx.transform.applyToPoint(new sr($r,Vr));this.path.push({type:"mt",x:zr.x,y:zr.y}),this.ctx.lastPoint=new sr($r,Vr)},dr.prototype.closePath=function(){var $r=new sr(0,0),Vr=0;for(Vr=this.path.length-1;Vr!==-1;Vr--)if(this.path[Vr].type==="begin"&&_typeof(this.path[Vr+1])==="object"&&typeof this.path[Vr+1].x=="number"){$r=new sr(this.path[Vr+1].x,this.path[Vr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new sr($r.x,$r.y)},dr.prototype.lineTo=function($r,Vr){if(isNaN($r)||isNaN(Vr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var zr=this.ctx.transform.applyToPoint(new sr($r,Vr));this.path.push({type:"lt",x:zr.x,y:zr.y}),this.ctx.lastPoint=new sr(zr.x,zr.y)},dr.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_r.call(this,null,!0)},dr.prototype.quadraticCurveTo=function($r,Vr,zr,Gr){if(isNaN(zr)||isNaN(Gr)||isNaN($r)||isNaN(Vr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Fr=this.ctx.transform.applyToPoint(new sr(zr,Gr)),Xr=this.ctx.transform.applyToPoint(new sr($r,Vr));this.path.push({type:"qct",x1:Xr.x,y1:Xr.y,x:Fr.x,y:Fr.y}),this.ctx.lastPoint=new sr(Fr.x,Fr.y)},dr.prototype.bezierCurveTo=function($r,Vr,zr,Gr,Fr,Xr){if(isNaN(Fr)||isNaN(Xr)||isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ur=this.ctx.transform.applyToPoint(new sr(Fr,Xr)),Br=this.ctx.transform.applyToPoint(new sr($r,Vr)),Kr=this.ctx.transform.applyToPoint(new sr(zr,Gr));this.path.push({type:"bct",x1:Br.x,y1:Br.y,x2:Kr.x,y2:Kr.y,x:Ur.x,y:Ur.y}),this.ctx.lastPoint=new sr(Ur.x,Ur.y)},dr.prototype.arc=function($r,Vr,zr,Gr,Fr,Xr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr)||isNaN(Fr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Xr=!!Xr,!this.ctx.transform.isIdentity){var Ur=this.ctx.transform.applyToPoint(new sr($r,Vr));$r=Ur.x,Vr=Ur.y;var Br=this.ctx.transform.applyToPoint(new sr(0,zr)),Kr=this.ctx.transform.applyToPoint(new sr(0,0));zr=Math.sqrt(Math.pow(Br.x-Kr.x,2)+Math.pow(Br.y-Kr.y,2))}Math.abs(Fr-Gr)>=2*Math.PI&&(Gr=0,Fr=2*Math.PI),this.path.push({type:"arc",x:$r,y:Vr,radius:zr,startAngle:Gr,endAngle:Fr,counterclockwise:Xr})},dr.prototype.arcTo=function($r,Vr,zr,Gr,Fr){throw new Error("arcTo not implemented.")},dr.prototype.rect=function($r,Vr,zr,Gr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($r,Vr),this.lineTo($r+zr,Vr),this.lineTo($r+zr,Vr+Gr),this.lineTo($r,Vr+Gr),this.lineTo($r,Vr),this.lineTo($r+zr,Vr),this.lineTo($r,Vr)},dr.prototype.fillRect=function($r,Vr,zr,Gr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!fr.call(this)){var Fr={};this.lineCap!=="butt"&&(Fr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Fr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($r,Vr,zr,Gr),this.fill(),Fr.hasOwnProperty("lineCap")&&(this.lineCap=Fr.lineCap),Fr.hasOwnProperty("lineJoin")&&(this.lineJoin=Fr.lineJoin)}},dr.prototype.strokeRect=function($r,Vr,zr,Gr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");mr.call(this)||(this.beginPath(),this.rect($r,Vr,zr,Gr),this.stroke())},dr.prototype.clearRect=function($r,Vr,zr,Gr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($r,Vr,zr,Gr))},dr.prototype.save=function($r){$r=typeof $r!="boolean"||$r;for(var Vr=this.pdf.internal.getCurrentPageInfo().pageNumber,zr=0;zr<this.pdf.internal.getNumberOfPages();zr++)this.pdf.setPage(zr+1),this.pdf.internal.out("q");if(this.pdf.setPage(Vr),$r){this.ctx.fontSize=this.pdf.internal.getFontSize();var Gr=new ur(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Gr}},dr.prototype.restore=function($r){$r=typeof $r!="boolean"||$r;for(var Vr=this.pdf.internal.getCurrentPageInfo().pageNumber,zr=0;zr<this.pdf.internal.getNumberOfPages();zr++)this.pdf.setPage(zr+1),this.pdf.internal.out("Q");this.pdf.setPage(Vr),$r&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},dr.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var hr=function($r){var Vr,zr,Gr,Fr;if($r.isCanvasGradient===!0&&($r=$r.getColor()),!$r)return{r:0,g:0,b:0,a:0,style:$r};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($r))Vr=0,zr=0,Gr=0,Fr=0;else{var Xr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($r);if(Xr!==null)Vr=parseInt(Xr[1]),zr=parseInt(Xr[2]),Gr=parseInt(Xr[3]),Fr=1;else if((Xr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($r))!==null)Vr=parseInt(Xr[1]),zr=parseInt(Xr[2]),Gr=parseInt(Xr[3]),Fr=parseFloat(Xr[4]);else{if(Fr=1,typeof $r=="string"&&$r.charAt(0)!=="#"){var Ur=new f($r);$r=Ur.ok?Ur.toHex():"#000000"}$r.length===4?(Vr=$r.substring(1,2),Vr+=Vr,zr=$r.substring(2,3),zr+=zr,Gr=$r.substring(3,4),Gr+=Gr):(Vr=$r.substring(1,3),zr=$r.substring(3,5),Gr=$r.substring(5,7)),Vr=parseInt(Vr,16),zr=parseInt(zr,16),Gr=parseInt(Gr,16)}}return{r:Vr,g:zr,b:Gr,a:Fr,style:$r}},fr=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},mr=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};dr.prototype.fillText=function($r,Vr,zr,Gr){if(isNaN(Vr)||isNaN(zr)||typeof $r!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Gr=isNaN(Gr)?void 0:Gr,!fr.call(this)){var Fr=Ar(this.ctx.transform.rotation),Xr=this.ctx.transform.scaleX;Or.call(this,{text:$r,x:Vr,y:zr,scale:Xr,angle:Fr,align:this.textAlign,maxWidth:Gr})}},dr.prototype.strokeText=function($r,Vr,zr,Gr){if(isNaN(Vr)||isNaN(zr)||typeof $r!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!mr.call(this)){Gr=isNaN(Gr)?void 0:Gr;var Fr=Ar(this.ctx.transform.rotation),Xr=this.ctx.transform.scaleX;Or.call(this,{text:$r,x:Vr,y:zr,scale:Xr,renderingMode:"stroke",angle:Fr,align:this.textAlign,maxWidth:Gr})}},dr.prototype.measureText=function($r){if(typeof $r!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Vr=this.pdf,zr=this.pdf.internal.scaleFactor,Gr=Vr.internal.getFontSize(),Fr=Vr.getStringUnitWidth($r)*Gr/Vr.internal.scaleFactor,Xr=function(Ur){var Br=(Ur=Ur||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Br}}),this};return new Xr({width:Fr*=Math.round(96*zr/72*1e4)/1e4})},dr.prototype.scale=function($r,Vr){if(isNaN($r)||isNaN(Vr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var zr=new or($r,0,0,Vr,0,0);this.ctx.transform=this.ctx.transform.multiply(zr)},dr.prototype.rotate=function($r){if(isNaN($r))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Vr=new or(Math.cos($r),Math.sin($r),-Math.sin($r),Math.cos($r),0,0);this.ctx.transform=this.ctx.transform.multiply(Vr)},dr.prototype.translate=function($r,Vr){if(isNaN($r)||isNaN(Vr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var zr=new or(1,0,0,1,$r,Vr);this.ctx.transform=this.ctx.transform.multiply(zr)},dr.prototype.transform=function($r,Vr,zr,Gr,Fr,Xr){if(isNaN($r)||isNaN(Vr)||isNaN(zr)||isNaN(Gr)||isNaN(Fr)||isNaN(Xr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ur=new or($r,Vr,zr,Gr,Fr,Xr);this.ctx.transform=this.ctx.transform.multiply(Ur)},dr.prototype.setTransform=function($r,Vr,zr,Gr,Fr,Xr){$r=isNaN($r)?1:$r,Vr=isNaN(Vr)?0:Vr,zr=isNaN(zr)?0:zr,Gr=isNaN(Gr)?1:Gr,Fr=isNaN(Fr)?0:Fr,Xr=isNaN(Xr)?0:Xr,this.ctx.transform=new or($r,Vr,zr,Gr,Fr,Xr)};var br=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};dr.prototype.drawImage=function($r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr){var Zr=this.pdf.getImageProperties($r),tn=1,sn=1,un=1,hn=1;Gr!==void 0&&Br!==void 0&&(un=Br/Gr,hn=Kr/Fr,tn=Zr.width/Gr*Br/Gr,sn=Zr.height/Fr*Kr/Fr),Xr===void 0&&(Xr=Vr,Ur=zr,Vr=0,zr=0),Gr!==void 0&&Br===void 0&&(Br=Gr,Kr=Fr),Gr===void 0&&Br===void 0&&(Br=Zr.width,Kr=Zr.height);for(var Jr,nn=this.ctx.transform.decompose(),rn=Ar(nn.rotate.shx),on=new or,fn=(on=(on=(on=on.multiply(nn.translate)).multiply(nn.skew)).multiply(nn.scale)).applyToRectangle(new lr(Xr-Vr*un,Ur-zr*hn,Gr*tn,Fr*sn)),mn=pr.call(this,fn),yn=[],Rn=0;Rn<mn.length;Rn+=1)yn.indexOf(mn[Rn])===-1&&yn.push(mn[Rn]);if(vr(yn),this.autoPaging)for(var In=yn[0],Sn=yn[yn.length-1],Dn=In;Dn<Sn+1;Dn++){this.pdf.setPage(Dn);var zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rs=Dn===1?this.posY+this.margin[0]:this.margin[0],ns=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qn=Dn===1?0:ns+(Dn-2)*fs;if(this.ctx.clip_path.length!==0){var ds=this.path;Jr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(Jr,this.posX+this.margin[3],-qn+rs+this.ctx.prevPageLastElemOffset),xr.call(this,"fill",!0),this.path=ds}var os=JSON.parse(JSON.stringify(fn));os=yr([os],this.posX+this.margin[3],-qn+rs+this.ctx.prevPageLastElemOffset)[0];var gs=(Dn>In||Dn<Sn)&&br.call(this);gs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,fs,null).clip().discardPath()),this.pdf.addImage($r,"JPEG",os.x,os.y,os.w,os.h,null,null,rn),gs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($r,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,rn)};var pr=function($r,Vr,zr){var Gr=[];Vr=Vr||this.pdf.internal.pageSize.width,zr=zr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Fr=this.posY+this.ctx.prevPageLastElemOffset;switch($r.type){default:case"mt":case"lt":Gr.push(Math.floor(($r.y+Fr)/zr)+1);break;case"arc":Gr.push(Math.floor(($r.y+Fr-$r.radius)/zr)+1),Gr.push(Math.floor(($r.y+Fr+$r.radius)/zr)+1);break;case"qct":var Xr=Sr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$r.x1,$r.y1,$r.x,$r.y);Gr.push(Math.floor((Xr.y+Fr)/zr)+1),Gr.push(Math.floor((Xr.y+Xr.h+Fr)/zr)+1);break;case"bct":var Ur=Dr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$r.x1,$r.y1,$r.x2,$r.y2,$r.x,$r.y);Gr.push(Math.floor((Ur.y+Fr)/zr)+1),Gr.push(Math.floor((Ur.y+Ur.h+Fr)/zr)+1);break;case"rect":Gr.push(Math.floor(($r.y+Fr)/zr)+1),Gr.push(Math.floor(($r.y+$r.h+Fr)/zr)+1)}for(var Br=0;Br<Gr.length;Br+=1)for(;this.pdf.internal.getNumberOfPages()<Gr[Br];)gr.call(this);return Gr},gr=function(){var $r=this.fillStyle,Vr=this.strokeStyle,zr=this.font,Gr=this.lineCap,Fr=this.lineWidth,Xr=this.lineJoin;this.pdf.addPage(),this.fillStyle=$r,this.strokeStyle=Vr,this.font=zr,this.lineCap=Gr,this.lineWidth=Fr,this.lineJoin=Xr},yr=function($r,Vr,zr){for(var Gr=0;Gr<$r.length;Gr++)switch($r[Gr].type){case"bct":$r[Gr].x2+=Vr,$r[Gr].y2+=zr;case"qct":$r[Gr].x1+=Vr,$r[Gr].y1+=zr;case"mt":case"lt":case"arc":default:$r[Gr].x+=Vr,$r[Gr].y+=zr}return $r},vr=function($r){return $r.sort(function(Vr,zr){return Vr-zr})},_r=function($r,Vr){for(var zr,Gr,Fr=this.fillStyle,Xr=this.strokeStyle,Ur=this.lineCap,Br=this.lineWidth,Kr=Math.abs(Br*this.ctx.transform.scaleX),Zr=this.lineJoin,tn=JSON.parse(JSON.stringify(this.path)),sn=JSON.parse(JSON.stringify(this.path)),un=[],hn=0;hn<sn.length;hn++)if(sn[hn].x!==void 0)for(var Jr=pr.call(this,sn[hn]),nn=0;nn<Jr.length;nn+=1)un.indexOf(Jr[nn])===-1&&un.push(Jr[nn]);for(var rn=0;rn<un.length;rn++)for(;this.pdf.internal.getNumberOfPages()<un[rn];)gr.call(this);if(vr(un),this.autoPaging)for(var on=un[0],fn=un[un.length-1],mn=on;mn<fn+1;mn++){this.pdf.setPage(mn),this.fillStyle=Fr,this.strokeStyle=Xr,this.lineCap=Ur,this.lineWidth=Kr,this.lineJoin=Zr;var yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rn=mn===1?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dn=mn===1?0:In+(mn-2)*Sn;if(this.ctx.clip_path.length!==0){var zn=this.path;zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(zr,this.posX+this.margin[3],-Dn+Rn+this.ctx.prevPageLastElemOffset),xr.call(this,$r,!0),this.path=zn}if(Gr=JSON.parse(JSON.stringify(tn)),this.path=yr(Gr,this.posX+this.margin[3],-Dn+Rn+this.ctx.prevPageLastElemOffset),Vr===!1||mn===0){var rs=(mn>on||mn<fn)&&br.call(this);rs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yn,Sn,null).clip().discardPath()),xr.call(this,$r,Vr),rs&&this.pdf.restoreGraphicsState()}this.lineWidth=Br}else this.lineWidth=Kr,xr.call(this,$r,Vr),this.lineWidth=Br;this.path=tn},xr=function($r,Vr){if(($r!=="stroke"||Vr||!mr.call(this))&&($r==="stroke"||Vr||!fr.call(this))){for(var zr,Gr,Fr=[],Xr=this.path,Ur=0;Ur<Xr.length;Ur++){var Br=Xr[Ur];switch(Br.type){case"begin":Fr.push({begin:!0});break;case"close":Fr.push({close:!0});break;case"mt":Fr.push({start:Br,deltas:[],abs:[]});break;case"lt":var Kr=Fr.length;if(Xr[Ur-1]&&!isNaN(Xr[Ur-1].x)&&(zr=[Br.x-Xr[Ur-1].x,Br.y-Xr[Ur-1].y],Kr>0)){for(;Kr>=0;Kr--)if(Fr[Kr-1].close!==!0&&Fr[Kr-1].begin!==!0){Fr[Kr-1].deltas.push(zr),Fr[Kr-1].abs.push(Br);break}}break;case"bct":zr=[Br.x1-Xr[Ur-1].x,Br.y1-Xr[Ur-1].y,Br.x2-Xr[Ur-1].x,Br.y2-Xr[Ur-1].y,Br.x-Xr[Ur-1].x,Br.y-Xr[Ur-1].y],Fr[Fr.length-1].deltas.push(zr);break;case"qct":var Zr=Xr[Ur-1].x+2/3*(Br.x1-Xr[Ur-1].x),tn=Xr[Ur-1].y+2/3*(Br.y1-Xr[Ur-1].y),sn=Br.x+2/3*(Br.x1-Br.x),un=Br.y+2/3*(Br.y1-Br.y),hn=Br.x,Jr=Br.y;zr=[Zr-Xr[Ur-1].x,tn-Xr[Ur-1].y,sn-Xr[Ur-1].x,un-Xr[Ur-1].y,hn-Xr[Ur-1].x,Jr-Xr[Ur-1].y],Fr[Fr.length-1].deltas.push(zr);break;case"arc":Fr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Fr[Fr.length-1].abs)&&Fr[Fr.length-1].abs.push(Br)}}Gr=Vr?null:$r==="stroke"?"stroke":"fill";for(var nn=!1,rn=0;rn<Fr.length;rn++)if(Fr[rn].arc)for(var on=Fr[rn].abs,fn=0;fn<on.length;fn++){var mn=on[fn];mn.type==="arc"?Tr.call(this,mn.x,mn.y,mn.radius,mn.startAngle,mn.endAngle,mn.counterclockwise,void 0,Vr,!nn):Pr.call(this,mn.x,mn.y),nn=!0}else if(Fr[rn].close===!0)this.pdf.internal.out("h"),nn=!1;else if(Fr[rn].begin!==!0){var yn=Fr[rn].start.x,Rn=Fr[rn].start.y;Mr.call(this,Fr[rn].deltas,yn,Rn),nn=!0}Gr&&Ir.call(this,Gr),Vr&&Lr.call(this)}},Rr=function($r){var Vr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,zr=Vr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $r-zr;case"top":return $r+Vr-zr;case"hanging":return $r+Vr-2*zr;case"middle":return $r+Vr/2-zr;case"ideographic":return $r;case"alphabetic":default:return $r}},Cr=function($r){return $r+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};dr.prototype.createLinearGradient=function(){var $r=function(){};return $r.colorStops=[],$r.addColorStop=function(Vr,zr){this.colorStops.push([Vr,zr])},$r.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$r.isCanvasGradient=!0,$r},dr.prototype.createPattern=function(){return this.createLinearGradient()},dr.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Tr=function($r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr){for(var Zr=wr.call(this,zr,Gr,Fr,Xr),tn=0;tn<Zr.length;tn++){var sn=Zr[tn];tn===0&&(Kr?Nr.call(this,sn.x1+$r,sn.y1+Vr):Pr.call(this,sn.x1+$r,sn.y1+Vr)),jr.call(this,$r,Vr,sn.x2,sn.y2,sn.x3,sn.y3,sn.x4,sn.y4)}Br?Lr.call(this):Ir.call(this,Ur)},Ir=function($r){switch($r){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Lr=function(){this.pdf.clip(),this.pdf.discardPath()},Nr=function($r,Vr){this.pdf.internal.out(rr($r)+" "+nr(Vr)+" m")},Or=function($r){var Vr;switch($r.align){case"right":case"end":Vr="right";break;case"center":Vr="center";break;case"left":case"start":default:Vr="left"}var zr=this.pdf.getTextDimensions($r.text),Gr=Rr.call(this,$r.y),Fr=Cr.call(this,Gr)-zr.h,Xr=this.ctx.transform.applyToPoint(new sr($r.x,Gr)),Ur=this.ctx.transform.decompose(),Br=new or;Br=(Br=(Br=Br.multiply(Ur.translate)).multiply(Ur.skew)).multiply(Ur.scale);for(var Kr,Zr,tn,sn=this.ctx.transform.applyToRectangle(new lr($r.x,Gr,zr.w,zr.h)),un=Br.applyToRectangle(new lr($r.x,Fr,zr.w,zr.h)),hn=pr.call(this,un),Jr=[],nn=0;nn<hn.length;nn+=1)Jr.indexOf(hn[nn])===-1&&Jr.push(hn[nn]);if(vr(Jr),this.autoPaging)for(var rn=Jr[0],on=Jr[Jr.length-1],fn=rn;fn<on+1;fn++){this.pdf.setPage(fn);var mn=fn===1?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rn=this.pdf.internal.pageSize.height-this.margin[2],In=Rn-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],Dn=Sn-this.margin[3],zn=fn===1?0:yn+(fn-2)*In;if(this.ctx.clip_path.length!==0){var rs=this.path;Kr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yr(Kr,this.posX+this.margin[3],-1*zn+mn),xr.call(this,"fill",!0),this.path=rs}var ns=yr([JSON.parse(JSON.stringify(un))],this.posX+this.margin[3],-zn+mn+this.ctx.prevPageLastElemOffset)[0];$r.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*$r.scale),tn=this.lineWidth,this.lineWidth=tn*$r.scale);var fs=this.autoPaging!=="text";if(fs||ns.y+ns.h<=Rn){if(fs||ns.y>=mn&&ns.x<=Sn){var qn=fs?$r.text:this.pdf.splitTextToSize($r.text,$r.maxWidth||Sn-ns.x)[0],ds=yr([JSON.parse(JSON.stringify(sn))],this.posX+this.margin[3],-zn+mn+this.ctx.prevPageLastElemOffset)[0],os=fs&&(fn>rn||fn<on)&&br.call(this);os&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dn,In,null).clip().discardPath()),this.pdf.text(qn,ds.x,ds.y,{angle:$r.angle,align:Vr,renderingMode:$r.renderingMode}),os&&this.pdf.restoreGraphicsState()}}else ns.y<Rn&&(this.ctx.prevPageLastElemOffset+=Rn-ns.y);$r.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=tn)}else $r.scale>=.01&&(Zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Zr*$r.scale),tn=this.lineWidth,this.lineWidth=tn*$r.scale),this.pdf.text($r.text,Xr.x+this.posX,Xr.y+this.posY,{angle:$r.angle,align:Vr,renderingMode:$r.renderingMode,maxWidth:$r.maxWidth}),$r.scale>=.01&&(this.pdf.setFontSize(Zr),this.lineWidth=tn)},Pr=function($r,Vr,zr,Gr){zr=zr||0,Gr=Gr||0,this.pdf.internal.out(rr($r+zr)+" "+nr(Vr+Gr)+" l")},Mr=function($r,Vr,zr){return this.pdf.lines($r,Vr,zr,null,null)},jr=function($r,Vr,zr,Gr,Fr,Xr,Ur,Br){this.pdf.internal.out([er(ir(zr+$r)),er(ar(Gr+Vr)),er(ir(Fr+$r)),er(ar(Xr+Vr)),er(ir(Ur+$r)),er(ar(Br+Vr)),"c"].join(" "))},wr=function($r,Vr,zr,Gr){for(var Fr=2*Math.PI,Xr=Math.PI/2;Vr>zr;)Vr-=Fr;var Ur=Math.abs(zr-Vr);Ur<Fr&&Gr&&(Ur=Fr-Ur);for(var Br=[],Kr=Gr?-1:1,Zr=Vr;Ur>1e-5;){var tn=Zr+Kr*Math.min(Ur,Xr);Br.push(Er.call(this,$r,Zr,tn)),Ur-=Math.abs(tn-Zr),Zr=tn}return Br},Er=function($r,Vr,zr){var Gr=(zr-Vr)/2,Fr=$r*Math.cos(Gr),Xr=$r*Math.sin(Gr),Ur=Fr,Br=-Xr,Kr=Ur*Ur+Br*Br,Zr=Kr+Ur*Fr+Br*Xr,tn=4/3*(Math.sqrt(2*Kr*Zr)-Zr)/(Ur*Xr-Br*Fr),sn=Ur-tn*Br,un=Br+tn*Ur,hn=sn,Jr=-un,nn=Gr+Vr,rn=Math.cos(nn),on=Math.sin(nn);return{x1:$r*Math.cos(Vr),y1:$r*Math.sin(Vr),x2:sn*rn-un*on,y2:sn*on+un*rn,x3:hn*rn-Jr*on,y3:hn*on+Jr*rn,x4:$r*Math.cos(zr),y4:$r*Math.sin(zr)}},Ar=function($r){return 180*$r/Math.PI},Sr=function($r,Vr,zr,Gr,Fr,Xr){var Ur=$r+.5*(zr-$r),Br=Vr+.5*(Gr-Vr),Kr=Fr+.5*(zr-Fr),Zr=Xr+.5*(Gr-Xr),tn=Math.min($r,Fr,Ur,Kr),sn=Math.max($r,Fr,Ur,Kr),un=Math.min(Vr,Xr,Br,Zr),hn=Math.max(Vr,Xr,Br,Zr);return new lr(tn,un,sn-tn,hn-un)},Dr=function($r,Vr,zr,Gr,Fr,Xr,Ur,Br){var Kr,Zr,tn,sn,un,hn,Jr,nn,rn,on,fn,mn,yn,Rn,In=zr-$r,Sn=Gr-Vr,Dn=Fr-zr,zn=Xr-Gr,rs=Ur-Fr,ns=Br-Xr;for(Zr=0;Zr<41;Zr++)rn=(Jr=(tn=$r+(Kr=Zr/40)*In)+Kr*((un=zr+Kr*Dn)-tn))+Kr*(un+Kr*(Fr+Kr*rs-un)-Jr),on=(nn=(sn=Vr+Kr*Sn)+Kr*((hn=Gr+Kr*zn)-sn))+Kr*(hn+Kr*(Xr+Kr*ns-hn)-nn),Zr==0?(fn=rn,mn=on,yn=rn,Rn=on):(fn=Math.min(fn,rn),mn=Math.min(mn,on),yn=Math.max(yn,rn),Rn=Math.max(Rn,on));return new lr(Math.round(fn),Math.round(mn),Math.round(yn-fn),Math.round(Rn-mn))},Wr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $r,Vr,zr=($r=this.ctx.lineDash,Vr=this.ctx.lineDashOffset,JSON.stringify({lineDash:$r,lineDashOffset:Vr}));this.prevLineDash!==zr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=zr)}}})(E.API),function(tr){var er=function(ar){var sr,lr,or,cr,ur,dr,hr,fr,mr,br;for(lr=[],or=0,cr=(ar+=sr="\0\0\0\0".slice(ar.length%4||4)).length;cr>or;or+=4)(ur=(ar.charCodeAt(or)<<24)+(ar.charCodeAt(or+1)<<16)+(ar.charCodeAt(or+2)<<8)+ar.charCodeAt(or+3))!==0?(dr=(ur=((ur=((ur=((ur=(ur-(br=ur%85))/85)-(mr=ur%85))/85)-(fr=ur%85))/85)-(hr=ur%85))/85)%85,lr.push(dr+33,hr+33,fr+33,mr+33,br+33)):lr.push(122);return function(pr,gr){for(var yr=gr;yr>0;yr--)pr.pop()}(lr,sr.length),String.fromCharCode.apply(String,lr)+"~>"},rr=function(ar){var sr,lr,or,cr,ur,dr=String,hr="length",fr=255,mr="charCodeAt",br="slice",pr="replace";for(ar[br](-2),ar=ar[br](0,-2)[pr](/\s/g,"")[pr]("z","!!!!!"),or=[],cr=0,ur=(ar+=sr="uuuuu"[br](ar[hr]%5||5))[hr];ur>cr;cr+=5)lr=52200625*(ar[mr](cr)-33)+614125*(ar[mr](cr+1)-33)+7225*(ar[mr](cr+2)-33)+85*(ar[mr](cr+3)-33)+(ar[mr](cr+4)-33),or.push(fr&lr>>24,fr&lr>>16,fr&lr>>8,fr&lr);return function(gr,yr){for(var vr=yr;vr>0;vr--)gr.pop()}(or,sr[hr]),dr.fromCharCode.apply(dr,or)},nr=function(ar){var sr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ar=ar.replace(/\s/g,"")).indexOf(">")!==-1&&(ar=ar.substr(0,ar.indexOf(">"))),ar.length%2&&(ar+="0"),sr.test(ar)===!1)return"";for(var lr="",or=0;or<ar.length;or+=2)lr+=String.fromCharCode("0x"+(ar[or]+ar[or+1]));return lr},ir=function(ar){for(var sr=new Uint8Array(ar.length),lr=ar.length;lr--;)sr[lr]=ar.charCodeAt(lr);return ar=(sr=zlibSync(sr)).reduce(function(or,cr){return or+String.fromCharCode(cr)},"")};tr.processDataByFilters=function(ar,sr){var lr=0,or=ar||"",cr=[];for(typeof(sr=sr||[])=="string"&&(sr=[sr]),lr=0;lr<sr.length;lr+=1)switch(sr[lr]){case"ASCII85Decode":case"/ASCII85Decode":or=rr(or),cr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":or=er(or),cr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":or=nr(or),cr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":or=or.split("").map(function(ur){return("0"+ur.charCodeAt().toString(16)).slice(-2)}).join("")+">",cr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":or=ir(or),cr.push("/FlateDecode");break;default:throw new Error('The filter: "'+sr[lr]+'" is not implemented')}return{data:or,reverseChain:cr.reverse().join(" ")}}}(E.API),function(tr){tr.loadFile=function(er,rr,nr){return function(ir,ar,sr){ar=ar!==!1,sr=typeof sr=="function"?sr:function(){};var lr=void 0;try{lr=function(or,cr,ur){var dr=new XMLHttpRequest,hr=0,fr=function(mr){var br=mr.length,pr=[],gr=String.fromCharCode;for(hr=0;hr<br;hr+=1)pr.push(gr(255&mr.charCodeAt(hr)));return pr.join("")};if(dr.open("GET",or,!cr),dr.overrideMimeType("text/plain; charset=x-user-defined"),cr===!1&&(dr.onload=function(){dr.status===200?ur(fr(this.responseText)):ur(void 0)}),dr.send(null),cr&&dr.status===200)return fr(dr.responseText)}(ir,ar,sr)}catch{}return lr}(er,rr,nr)},tr.loadImageFile=tr.loadFile}(E.API),function(tr){function er(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load html2canvas: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}function rr(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(sr){return Promise.reject(new Error("Could not load dompurify: "+sr))}).then(function(sr){return sr.default?sr.default:sr})}var nr=function(sr){var lr=_typeof(sr);return lr==="undefined"?"undefined":lr==="string"||sr instanceof String?"string":lr==="number"||sr instanceof Number?"number":lr==="function"||sr instanceof Function?"function":sr&&sr.constructor===Array?"array":sr&&sr.nodeType===1?"element":lr==="object"?"object":"unknown"},ir=function(sr,lr){var or=document.createElement(sr);for(var cr in lr.className&&(or.className=lr.className),lr.innerHTML&&lr.dompurify&&(or.innerHTML=lr.dompurify.sanitize(lr.innerHTML)),lr.style)or.style[cr]=lr.style[cr];return or},ar=function sr(lr){var or=Object.assign(sr.convert(Promise.resolve()),JSON.parse(JSON.stringify(sr.template))),cr=sr.convert(Promise.resolve(),or);return cr=(cr=cr.setProgress(1,sr,1,[sr])).set(lr)};(ar.prototype=Object.create(Promise.prototype)).constructor=ar,ar.convert=function(sr,lr){return sr.__proto__=lr||ar.prototype,sr},ar.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ar.prototype.from=function(sr,lr){return this.then(function(){switch(lr=lr||function(or){switch(nr(or)){case"string":return"string";case"element":return or.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(sr)){case"string":return this.then(rr).then(function(or){return this.set({src:ir("div",{innerHTML:sr,dompurify:or})})});case"element":return this.set({src:sr});case"canvas":return this.set({canvas:sr});case"img":return this.set({img:sr});default:return this.error("Unknown source type.")}})},ar.prototype.to=function(sr){switch(sr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ar.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var sr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},lr=function or(cr,ur){for(var dr=cr.nodeType===3?document.createTextNode(cr.nodeValue):cr.cloneNode(!1),hr=cr.firstChild;hr;hr=hr.nextSibling)ur!==!0&&hr.nodeType===1&&hr.nodeName==="SCRIPT"||dr.appendChild(or(hr,ur));return cr.nodeType===1&&(cr.nodeName==="CANVAS"?(dr.width=cr.width,dr.height=cr.height,dr.getContext("2d").drawImage(cr,0,0)):cr.nodeName!=="TEXTAREA"&&cr.nodeName!=="SELECT"||(dr.value=cr.value),dr.addEventListener("load",function(){dr.scrollTop=cr.scrollTop,dr.scrollLeft=cr.scrollLeft},!0)),dr}(this.prop.src,this.opt.html2canvas.javascriptEnabled);lr.tagName==="BODY"&&(sr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=ir("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=ir("div",{className:"html2pdf__container",style:sr}),this.prop.container.appendChild(lr),this.prop.container.firstChild.appendChild(ir("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ar.prototype.toCanvas=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(er).then(function(lr){var or=Object.assign({},this.opt.html2canvas);return delete or.onrendered,lr(this.prop.container,or)}).then(function(lr){(this.opt.html2canvas.onrendered||function(){})(lr),this.prop.canvas=lr,document.body.removeChild(this.prop.overlay)})},ar.prototype.toContext2d=function(){var sr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(sr).then(er).then(function(lr){var or=this.opt.jsPDF,cr=this.opt.fontFaces,ur=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,dr=Object.assign({async:!0,allowTaint:!0,scale:ur,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete dr.onrendered,or.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,or.context2d.posX=this.opt.x,or.context2d.posY=this.opt.y,or.context2d.margin=this.opt.margin,or.context2d.fontFaces=cr,cr)for(var hr=0;hr<cr.length;++hr){var fr=cr[hr],mr=fr.src.find(function(br){return br.format==="truetype"});mr&&or.addFont(mr.url,fr.ref.name,fr.ref.style)}return dr.windowHeight=dr.windowHeight||0,dr.windowHeight=dr.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):dr.windowHeight,or.context2d.save(!0),lr(this.prop.container,dr)}).then(function(lr){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(lr),this.prop.canvas=lr,document.body.removeChild(this.prop.overlay)})},ar.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var sr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=sr})},ar.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ar.prototype.output=function(sr,lr,or){return(or=or||"pdf").toLowerCase()==="img"||or.toLowerCase()==="image"?this.outputImg(sr,lr):this.outputPdf(sr,lr)},ar.prototype.outputPdf=function(sr,lr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(sr,lr)})},ar.prototype.outputImg=function(sr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(sr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+sr+'" is not supported.'}})},ar.prototype.save=function(sr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(sr?{filename:sr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ar.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ar.prototype.set=function(sr){if(nr(sr)!=="object")return this;var lr=Object.keys(sr||{}).map(function(or){if(or in ar.template.prop)return function(){this.prop[or]=sr[or]};switch(or){case"margin":return this.setMargin.bind(this,sr.margin);case"jsPDF":return function(){return this.opt.jsPDF=sr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,sr.pageSize);default:return function(){this.opt[or]=sr[or]}}},this);return this.then(function(){return this.thenList(lr)})},ar.prototype.get=function(sr,lr){return this.then(function(){var or=sr in ar.template.prop?this.prop[sr]:this.opt[sr];return lr?lr(or):or})},ar.prototype.setMargin=function(sr){return this.then(function(){switch(nr(sr)){case"number":sr=[sr,sr,sr,sr];case"array":if(sr.length===2&&(sr=[sr[0],sr[1],sr[0],sr[1]]),sr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=sr}).then(this.setPageSize)},ar.prototype.setPageSize=function(sr){function lr(or,cr){return Math.floor(or*cr/72*96)}return this.then(function(){(sr=sr||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(sr.inner={width:sr.width-this.opt.margin[1]-this.opt.margin[3],height:sr.height-this.opt.margin[0]-this.opt.margin[2]},sr.inner.px={width:lr(sr.inner.width,sr.k),height:lr(sr.inner.height,sr.k)},sr.inner.ratio=sr.inner.height/sr.inner.width),this.prop.pageSize=sr})},ar.prototype.setProgress=function(sr,lr,or,cr){return sr!=null&&(this.progress.val=sr),lr!=null&&(this.progress.state=lr),or!=null&&(this.progress.n=or),cr!=null&&(this.progress.stack=cr),this.progress.ratio=this.progress.val/this.progress.state,this},ar.prototype.updateProgress=function(sr,lr,or,cr){return this.setProgress(sr?this.progress.val+sr:null,lr||null,or?this.progress.n+or:null,cr?this.progress.stack.concat(cr):null)},ar.prototype.then=function(sr,lr){var or=this;return this.thenCore(sr,lr,function(cr,ur){return or.updateProgress(null,null,1,[cr]),Promise.prototype.then.call(this,function(dr){return or.updateProgress(null,cr),dr}).then(cr,ur).then(function(dr){return or.updateProgress(1),dr})})},ar.prototype.thenCore=function(sr,lr,or){or=or||Promise.prototype.then,sr&&(sr=sr.bind(this)),lr&&(lr=lr.bind(this));var cr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ar.convert(Object.assign({},this),Promise.prototype),ur=or.call(cr,sr,lr);return ar.convert(ur,this.__proto__)},ar.prototype.thenExternal=function(sr,lr){return Promise.prototype.then.call(this,sr,lr)},ar.prototype.thenList=function(sr){var lr=this;return sr.forEach(function(or){lr=lr.thenCore(or)}),lr},ar.prototype.catch=function(sr){sr&&(sr=sr.bind(this));var lr=Promise.prototype.catch.call(this,sr);return ar.convert(lr,this)},ar.prototype.catchExternal=function(sr){return Promise.prototype.catch.call(this,sr)},ar.prototype.error=function(sr){return this.then(function(){throw new Error(sr)})},ar.prototype.using=ar.prototype.set,ar.prototype.saveAs=ar.prototype.save,ar.prototype.export=ar.prototype.output,ar.prototype.run=ar.prototype.then,E.getPageSize=function(sr,lr,or){if(_typeof(sr)==="object"){var cr=sr;sr=cr.orientation,lr=cr.unit||lr,or=cr.format||or}lr=lr||"mm",or=or||"a4",sr=(""+(sr||"P")).toLowerCase();var ur,dr=(""+or).toLowerCase(),hr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(lr){case"pt":ur=1;break;case"mm":ur=72/25.4;break;case"cm":ur=72/2.54;break;case"in":ur=72;break;case"px":ur=.75;break;case"pc":case"em":ur=12;break;case"ex":ur=6;break;default:throw"Invalid unit: "+lr}var fr,mr=0,br=0;if(hr.hasOwnProperty(dr))mr=hr[dr][1]/ur,br=hr[dr][0]/ur;else try{mr=or[1],br=or[0]}catch{throw new Error("Invalid format: "+or)}if(sr==="p"||sr==="portrait")sr="p",br>mr&&(fr=br,br=mr,mr=fr);else{if(sr!=="l"&&sr!=="landscape")throw"Invalid orientation: "+sr;sr="l",mr>br&&(fr=br,br=mr,mr=fr)}return{width:br,height:mr,unit:lr,k:ur,orientation:sr}},tr.html=function(sr,lr){(lr=lr||{}).callback=lr.callback||function(){},lr.html2canvas=lr.html2canvas||{},lr.html2canvas.canvas=lr.html2canvas.canvas||this.canvas,lr.jsPDF=lr.jsPDF||this,lr.fontFaces=lr.fontFaces?lr.fontFaces.map(jt):null;var or=new ar(lr);return lr.worker?or:or.from(sr).doCallback()}}(E.API),E.API.addJS=function(tr){return Ht=tr,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(tr){var er;tr.events.push(["postPutResources",function(){var rr=this,nr=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var ir=rr.outline.render().split(/\r\n/),ar=0;ar<ir.length;ar++){var sr=ir[ar],lr=nr.exec(sr);if(lr!=null){var or=lr[1];rr.internal.newObjectDeferredBegin(or,!1)}rr.internal.write(sr)}if(this.outline.createNamedDestinations){var cr=this.internal.pages.length,ur=[];for(ar=0;ar<cr;ar++){var dr=rr.internal.newObject();ur.push(dr);var hr=rr.internal.getPageInfo(ar+1);rr.internal.write("<< /D["+hr.objId+" 0 R /XYZ null null null]>> endobj")}var fr=rr.internal.newObject();for(rr.internal.write("<< /Names [ "),ar=0;ar<ur.length;ar++)rr.internal.write("(page_"+(ar+1)+")"+ur[ar]+" 0 R");rr.internal.write(" ] >>","endobj"),er=rr.internal.newObject(),rr.internal.write("<< /Dests "+fr+" 0 R"),rr.internal.write(">>","endobj")}}]),tr.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+er+" 0 R"))}]),tr.events.push(["initialized",function(){var rr=this;rr.outline={createNamedDestinations:!1,root:{children:[]}},rr.outline.add=function(nr,ir,ar){var sr={title:ir,options:ar,children:[]};return nr==null&&(nr=this.root),nr.children.push(sr),sr},rr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=rr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},rr.outline.genIds_r=function(nr){nr.id=rr.internal.newObjectDeferred();for(var ir=0;ir<nr.children.length;ir++)this.genIds_r(nr.children[ir])},rr.outline.renderRoot=function(nr){this.objStart(nr),this.line("/Type /Outlines"),nr.children.length>0&&(this.line("/First "+this.makeRef(nr.children[0])),this.line("/Last "+this.makeRef(nr.children[nr.children.length-1]))),this.line("/Count "+this.count_r({count:0},nr)),this.objEnd()},rr.outline.renderItems=function(nr){for(var ir=this.ctx.pdf.internal.getVerticalCoordinateString,ar=0;ar<nr.children.length;ar++){var sr=nr.children[ar];this.objStart(sr),this.line("/Title "+this.makeString(sr.title)),this.line("/Parent "+this.makeRef(nr)),ar>0&&this.line("/Prev "+this.makeRef(nr.children[ar-1])),ar<nr.children.length-1&&this.line("/Next "+this.makeRef(nr.children[ar+1])),sr.children.length>0&&(this.line("/First "+this.makeRef(sr.children[0])),this.line("/Last "+this.makeRef(sr.children[sr.children.length-1])));var lr=this.count=this.count_r({count:0},sr);if(lr>0&&this.line("/Count "+lr),sr.options&&sr.options.pageNumber){var or=rr.internal.getPageInfo(sr.options.pageNumber);this.line("/Dest ["+or.objId+" 0 R /XYZ 0 "+ir(0)+" 0]")}this.objEnd()}for(var cr=0;cr<nr.children.length;cr++)this.renderItems(nr.children[cr])},rr.outline.line=function(nr){this.ctx.val+=nr+`\r
`},rr.outline.makeRef=function(nr){return nr.id+" 0 R"},rr.outline.makeString=function(nr){return"("+rr.internal.pdfEscape(nr)+")"},rr.outline.objStart=function(nr){this.ctx.val+=`\r
`+nr.id+` 0 obj\r
<<\r
`},rr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},rr.outline.count_r=function(nr,ir){for(var ar=0;ar<ir.children.length;ar++)nr.count++,this.count_r(nr,ir.children[ar]);return nr.count}}])}(E.API),function(tr){var er=[192,193,194,195,196,197,198,199];tr.processJPEG=function(rr,nr,ir,ar,sr,lr){var or,cr=this.decode.DCT_DECODE,ur=null;if(typeof rr=="string"||this.__addimage__.isArrayBuffer(rr)||this.__addimage__.isArrayBufferView(rr)){switch(rr=sr||rr,rr=this.__addimage__.isArrayBuffer(rr)?new Uint8Array(rr):rr,(or=function(dr){for(var hr,fr=256*dr.charCodeAt(4)+dr.charCodeAt(5),mr=dr.length,br={width:0,height:0,numcomponents:1},pr=4;pr<mr;pr+=2){if(pr+=fr,er.indexOf(dr.charCodeAt(pr+1))!==-1){hr=256*dr.charCodeAt(pr+5)+dr.charCodeAt(pr+6),br={width:256*dr.charCodeAt(pr+7)+dr.charCodeAt(pr+8),height:hr,numcomponents:dr.charCodeAt(pr+9)};break}fr=256*dr.charCodeAt(pr+2)+dr.charCodeAt(pr+3)}return br}(rr=this.__addimage__.isArrayBufferView(rr)?this.__addimage__.arrayBufferToBinaryString(rr):rr)).numcomponents){case 1:lr=this.color_spaces.DEVICE_GRAY;break;case 4:lr=this.color_spaces.DEVICE_CMYK;break;case 3:lr=this.color_spaces.DEVICE_RGB}ur={data:rr,width:or.width,height:or.height,colorSpace:lr,bitsPerComponent:8,filter:cr,index:nr,alias:ir}}return ur}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var tr,er,rr;function nr(ar){var sr,lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr;for(this.data=ar,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},dr=null;;){switch(sr=this.readUInt32(),mr=(function(){var _r,xr;for(xr=[],_r=0;_r<4;++_r)xr.push(String.fromCharCode(this.data[this.pos++]));return xr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(sr);break;case"fcTL":dr&&this.animation.frames.push(dr),this.pos+=4,dr={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},ur=this.readUInt16(),cr=this.readUInt16()||100,dr.delay=1e3*ur/cr,dr.disposeOp=this.data[this.pos++],dr.blendOp=this.data[this.pos++],dr.data=[];break;case"IDAT":case"fdAT":for(mr==="fdAT"&&(this.pos+=4,sr-=4),ar=(dr!=null?dr.data:void 0)||this.imgData,gr=0;0<=sr?gr<sr:gr>sr;0<=sr?++gr:--gr)ar.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(or=this.palette.length/3,this.transparency.indexed=this.read(sr),this.transparency.indexed.length>or)throw new Error("More transparent colors than palette size");if((br=or-this.transparency.indexed.length)>0)for(yr=0;0<=br?yr<br:yr>br;0<=br?++yr:--yr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(sr)[0];break;case 2:this.transparency.rgb=this.read(sr)}break;case"tEXt":hr=(pr=this.read(sr)).indexOf(0),fr=String.fromCharCode.apply(String,pr.slice(0,hr)),this.text[fr]=String.fromCharCode.apply(String,pr.slice(hr+1));break;case"IEND":return dr&&this.animation.frames.push(dr),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(vr=this.colorType)===4||vr===6,lr=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*lr,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=sr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}nr.prototype.read=function(ar){var sr,lr;for(lr=[],sr=0;0<=ar?sr<ar:sr>ar;0<=ar?++sr:--sr)lr.push(this.data[this.pos++]);return lr},nr.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},nr.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},nr.prototype.decodePixels=function(ar){var sr=this.pixelBitlength/8,lr=new Uint8Array(this.width*this.height*sr),or=0,cr=this;if(ar==null&&(ar=this.imgData),ar.length===0)return new Uint8Array(0);function ur(dr,hr,fr,mr){var br,pr,gr,yr,vr,_r,xr,Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr,Dr=Math.ceil((cr.width-dr)/fr),Wr=Math.ceil((cr.height-hr)/mr),$r=cr.width==Dr&&cr.height==Wr;for(Or=sr*Dr,Lr=$r?lr:new Uint8Array(Or*Wr),_r=ar.length,Nr=0,pr=0;Nr<Wr&&or<_r;){switch(ar[or++]){case 0:for(yr=jr=0;jr<Or;yr=jr+=1)Lr[pr++]=ar[or++];break;case 1:for(yr=wr=0;wr<Or;yr=wr+=1)br=ar[or++],vr=yr<sr?0:Lr[pr-sr],Lr[pr++]=(br+vr)%256;break;case 2:for(yr=Er=0;Er<Or;yr=Er+=1)br=ar[or++],gr=(yr-yr%sr)/sr,Pr=Nr&&Lr[(Nr-1)*Or+gr*sr+yr%sr],Lr[pr++]=(Pr+br)%256;break;case 3:for(yr=Ar=0;Ar<Or;yr=Ar+=1)br=ar[or++],gr=(yr-yr%sr)/sr,vr=yr<sr?0:Lr[pr-sr],Pr=Nr&&Lr[(Nr-1)*Or+gr*sr+yr%sr],Lr[pr++]=(br+Math.floor((vr+Pr)/2))%256;break;case 4:for(yr=Sr=0;Sr<Or;yr=Sr+=1)br=ar[or++],gr=(yr-yr%sr)/sr,vr=yr<sr?0:Lr[pr-sr],Nr===0?Pr=Mr=0:(Pr=Lr[(Nr-1)*Or+gr*sr+yr%sr],Mr=gr&&Lr[(Nr-1)*Or+(gr-1)*sr+yr%sr]),xr=vr+Pr-Mr,Rr=Math.abs(xr-vr),Tr=Math.abs(xr-Pr),Ir=Math.abs(xr-Mr),Cr=Rr<=Tr&&Rr<=Ir?vr:Tr<=Ir?Pr:Mr,Lr[pr++]=(br+Cr)%256;break;default:throw new Error("Invalid filter algorithm: "+ar[or-1])}if(!$r){var Vr=((hr+Nr*mr)*cr.width+dr)*sr,zr=Nr*Or;for(yr=0;yr<Dr;yr+=1){for(var Gr=0;Gr<sr;Gr+=1)lr[Vr++]=Lr[zr++];Vr+=(fr-1)*sr}}Nr++}}return ar=unzlibSync(ar),cr.interlaceMethod==1?(ur(0,0,8,8),ur(4,0,8,8),ur(0,4,4,8),ur(2,0,4,4),ur(0,2,2,4),ur(1,0,2,2),ur(0,1,1,2)):ur(0,0,1,1),lr},nr.prototype.decodePalette=function(){var ar,sr,lr,or,cr,ur,dr,hr,fr;for(lr=this.palette,ur=this.transparency.indexed||[],cr=new Uint8Array((ur.length||0)+lr.length),or=0,ar=0,sr=dr=0,hr=lr.length;dr<hr;sr=dr+=3)cr[or++]=lr[sr],cr[or++]=lr[sr+1],cr[or++]=lr[sr+2],cr[or++]=(fr=ur[ar++])!=null?fr:255;return cr},nr.prototype.copyToImageData=function(ar,sr){var lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr;if(or=this.colors,br=null,lr=this.hasAlphaChannel,this.palette.length&&(br=(gr=this._decodedPalette)!=null?gr:this._decodedPalette=this.decodePalette(),or=4,lr=!0),mr=(cr=ar.data||ar).length,dr=br||sr,ur=hr=0,or===1)for(;ur<mr;)fr=br?4*sr[ur/4]:hr,pr=dr[fr++],cr[ur++]=pr,cr[ur++]=pr,cr[ur++]=pr,cr[ur++]=lr?dr[fr++]:255,hr=fr;else for(;ur<mr;)fr=br?4*sr[ur/4]:hr,cr[ur++]=dr[fr++],cr[ur++]=dr[fr++],cr[ur++]=dr[fr++],cr[ur++]=lr?dr[fr++]:255,hr=fr},nr.prototype.decode=function(){var ar;return ar=new Uint8Array(this.width*this.height*4),this.copyToImageData(ar,this.decodePixels()),ar};var ir=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{er=n.document.createElement("canvas"),rr=er.getContext("2d")}catch{return!1}return!0}return!1};return ir(),tr=function(ar){var sr;if(ir()===!0)return rr.width=ar.width,rr.height=ar.height,rr.clearRect(0,0,ar.width,ar.height),rr.putImageData(ar,0,0),(sr=new Image).src=er.toDataURL(),sr;throw new Error("This method requires a Browser with Canvas-capability.")},nr.prototype.decodeFrames=function(ar){var sr,lr,or,cr,ur,dr,hr,fr;if(this.animation){for(fr=[],lr=ur=0,dr=(hr=this.animation.frames).length;ur<dr;lr=++ur)sr=hr[lr],or=ar.createImageData(sr.width,sr.height),cr=this.decodePixels(new Uint8Array(sr.data)),this.copyToImageData(or,cr),sr.imageData=or,fr.push(sr.image=tr(or));return fr}},nr.prototype.renderFrame=function(ar,sr){var lr,or,cr;return lr=(or=this.animation.frames)[sr],cr=or[sr-1],sr===0&&ar.clearRect(0,0,this.width,this.height),(cr!=null?cr.disposeOp:void 0)===1?ar.clearRect(cr.xOffset,cr.yOffset,cr.width,cr.height):(cr!=null?cr.disposeOp:void 0)===2&&ar.putImageData(cr.imageData,cr.xOffset,cr.yOffset),lr.blendOp===0&&ar.clearRect(lr.xOffset,lr.yOffset,lr.width,lr.height),ar.drawImage(lr.image,lr.xOffset,lr.yOffset)},nr.prototype.animate=function(ar){var sr,lr,or,cr,ur,dr,hr=this;return lr=0,dr=this.animation,cr=dr.numFrames,or=dr.frames,ur=dr.numPlays,(sr=function(){var fr,mr;if(fr=lr++%cr,mr=or[fr],hr.renderFrame(ar,fr),cr>1&&lr/cr<ur)return hr.animation._timeout=setTimeout(sr,mr.delay)})()},nr.prototype.stopAnimation=function(){var ar;return clearTimeout((ar=this.animation)!=null?ar._timeout:void 0)},nr.prototype.render=function(ar){var sr,lr;return ar._png&&ar._png.stopAnimation(),ar._png=this,ar.width=this.width,ar.height=this.height,sr=ar.getContext("2d"),this.animation?(this.decodeFrames(sr),this.animate(sr)):(lr=sr.createImageData(this.width,this.height),this.copyToImageData(lr,this.decodePixels()),sr.putImageData(lr,0,0))},nr}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(tr){var er=0;if(tr[er++]!==71||tr[er++]!==73||tr[er++]!==70||tr[er++]!==56||(tr[er++]+1&253)!=56||tr[er++]!==97)throw new Error("Invalid GIF 87a/89a header.");var rr=tr[er++]|tr[er++]<<8,nr=tr[er++]|tr[er++]<<8,ir=tr[er++],ar=ir>>7,sr=1<<(7&ir)+1;tr[er++],tr[er++];var lr=null,or=null;ar&&(lr=er,or=sr,er+=3*sr);var cr=!0,ur=[],dr=0,hr=null,fr=0,mr=null;for(this.width=rr,this.height=nr;cr&&er<tr.length;)switch(tr[er++]){case 33:switch(tr[er++]){case 255:if(tr[er]!==11||tr[er+1]==78&&tr[er+2]==69&&tr[er+3]==84&&tr[er+4]==83&&tr[er+5]==67&&tr[er+6]==65&&tr[er+7]==80&&tr[er+8]==69&&tr[er+9]==50&&tr[er+10]==46&&tr[er+11]==48&&tr[er+12]==3&&tr[er+13]==1&&tr[er+16]==0)er+=14,mr=tr[er++]|tr[er++]<<8,er++;else for(er+=12;;){if(!((Nr=tr[er++])>=0))throw Error("Invalid block size");if(Nr===0)break;er+=Nr}break;case 249:if(tr[er++]!==4||tr[er+4]!==0)throw new Error("Invalid graphics extension block.");var br=tr[er++];dr=tr[er++]|tr[er++]<<8,hr=tr[er++],!(1&br)&&(hr=null),fr=br>>2&7,er++;break;case 254:for(;;){if(!((Nr=tr[er++])>=0))throw Error("Invalid block size");if(Nr===0)break;er+=Nr}break;default:throw new Error("Unknown graphic control label: 0x"+tr[er-1].toString(16))}break;case 44:var pr=tr[er++]|tr[er++]<<8,gr=tr[er++]|tr[er++]<<8,yr=tr[er++]|tr[er++]<<8,vr=tr[er++]|tr[er++]<<8,_r=tr[er++],xr=_r>>6&1,Rr=1<<(7&_r)+1,Cr=lr,Tr=or,Ir=!1;_r>>7&&(Ir=!0,Cr=er,Tr=Rr,er+=3*Rr);var Lr=er;for(er++;;){var Nr;if(!((Nr=tr[er++])>=0))throw Error("Invalid block size");if(Nr===0)break;er+=Nr}ur.push({x:pr,y:gr,width:yr,height:vr,has_local_palette:Ir,palette_offset:Cr,palette_size:Tr,data_offset:Lr,data_length:er-Lr,transparent_index:hr,interlaced:!!xr,delay:dr,disposal:fr});break;case 59:cr=!1;break;default:throw new Error("Unknown gif block: 0x"+tr[er-1].toString(16))}this.numFrames=function(){return ur.length},this.loopCount=function(){return mr},this.frameInfo=function(Or){if(Or<0||Or>=ur.length)throw new Error("Frame index out of range.");return ur[Or]},this.decodeAndBlitFrameBGRA=function(Or,Pr){var Mr=this.frameInfo(Or),jr=Mr.width*Mr.height,wr=new Uint8Array(jr);$t(tr,Mr.data_offset,wr,jr);var Er=Mr.palette_offset,Ar=Mr.transparent_index;Ar===null&&(Ar=256);var Sr=Mr.width,Dr=rr-Sr,Wr=Sr,$r=4*(Mr.y*rr+Mr.x),Vr=4*((Mr.y+Mr.height)*rr+Mr.x),zr=$r,Gr=4*Dr;Mr.interlaced===!0&&(Gr+=4*rr*7);for(var Fr=8,Xr=0,Ur=wr.length;Xr<Ur;++Xr){var Br=wr[Xr];if(Wr===0&&(Wr=Sr,(zr+=Gr)>=Vr&&(Gr=4*Dr+4*rr*(Fr-1),zr=$r+(Sr+Dr)*(Fr<<1),Fr>>=1)),Br===Ar)zr+=4;else{var Kr=tr[Er+3*Br],Zr=tr[Er+3*Br+1],tn=tr[Er+3*Br+2];Pr[zr++]=tn,Pr[zr++]=Zr,Pr[zr++]=Kr,Pr[zr++]=255}--Wr}},this.decodeAndBlitFrameRGBA=function(Or,Pr){var Mr=this.frameInfo(Or),jr=Mr.width*Mr.height,wr=new Uint8Array(jr);$t(tr,Mr.data_offset,wr,jr);var Er=Mr.palette_offset,Ar=Mr.transparent_index;Ar===null&&(Ar=256);var Sr=Mr.width,Dr=rr-Sr,Wr=Sr,$r=4*(Mr.y*rr+Mr.x),Vr=4*((Mr.y+Mr.height)*rr+Mr.x),zr=$r,Gr=4*Dr;Mr.interlaced===!0&&(Gr+=4*rr*7);for(var Fr=8,Xr=0,Ur=wr.length;Xr<Ur;++Xr){var Br=wr[Xr];if(Wr===0&&(Wr=Sr,(zr+=Gr)>=Vr&&(Gr=4*Dr+4*rr*(Fr-1),zr=$r+(Sr+Dr)*(Fr<<1),Fr>>=1)),Br===Ar)zr+=4;else{var Kr=tr[Er+3*Br],Zr=tr[Er+3*Br+1],tn=tr[Er+3*Br+2];Pr[zr++]=Kr,Pr[zr++]=Zr,Pr[zr++]=tn,Pr[zr++]=255}--Wr}}}function $t(tr,er,rr,nr){for(var ir=tr[er++],ar=1<<ir,sr=ar+1,lr=sr+1,or=ir+1,cr=(1<<or)-1,ur=0,dr=0,hr=0,fr=tr[er++],mr=new Int32Array(4096),br=null;;){for(;ur<16&&fr!==0;)dr|=tr[er++]<<ur,ur+=8,fr===1?fr=tr[er++]:--fr;if(ur<or)break;var pr=dr&cr;if(dr>>=or,ur-=or,pr!==ar){if(pr===sr)break;for(var gr=pr<lr?pr:br,yr=0,vr=gr;vr>ar;)vr=mr[vr]>>8,++yr;var _r=vr;if(hr+yr+(gr!==pr?1:0)>nr)return void a.log("Warning, gif stream longer than expected.");rr[hr++]=_r;var xr=hr+=yr;for(gr!==pr&&(rr[hr++]=_r),vr=gr;yr--;)vr=mr[vr],rr[--xr]=255&vr,vr>>=8;br!==null&&lr<4096&&(mr[lr++]=br<<8|_r,lr>=cr+1&&or<12&&(++or,cr=cr<<1|1)),br=pr}else lr=sr+1,cr=(1<<(or=ir+1))-1,br=null}return hr!==nr&&a.log("Warning, gif stream shorter than expected."),rr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(tr){var er,rr,nr,ir,ar,sr=Math.floor,lr=new Array(64),or=new Array(64),cr=new Array(64),ur=new Array(64),dr=new Array(65535),hr=new Array(65535),fr=new Array(64),mr=new Array(64),br=[],pr=0,gr=7,yr=new Array(64),vr=new Array(64),_r=new Array(64),xr=new Array(256),Rr=new Array(2048),Cr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Tr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ir=[0,1,2,3,4,5,6,7,8,9,10,11],Lr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Nr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Or=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Pr=[0,1,2,3,4,5,6,7,8,9,10,11],Mr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],jr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function wr($r,Vr){for(var zr=0,Gr=0,Fr=new Array,Xr=1;Xr<=16;Xr++){for(var Ur=1;Ur<=$r[Xr];Ur++)Fr[Vr[Gr]]=[],Fr[Vr[Gr]][0]=zr,Fr[Vr[Gr]][1]=Xr,Gr++,zr++;zr*=2}return Fr}function Er($r){for(var Vr=$r[0],zr=$r[1]-1;zr>=0;)Vr&1<<zr&&(pr|=1<<gr),zr--,--gr<0&&(pr==255?(Ar(255),Ar(0)):Ar(pr),gr=7,pr=0)}function Ar($r){br.push($r)}function Sr($r){Ar($r>>8&255),Ar(255&$r)}function Dr($r,Vr,zr,Gr,Fr){for(var Xr,Ur=Fr[0],Br=Fr[240],Kr=function(on,fn){var mn,yn,Rn,In,Sn,Dn,zn,rs,ns,fs,qn=0;for(ns=0;ns<8;++ns){mn=on[qn],yn=on[qn+1],Rn=on[qn+2],In=on[qn+3],Sn=on[qn+4],Dn=on[qn+5],zn=on[qn+6];var ds=mn+(rs=on[qn+7]),os=mn-rs,gs=yn+zn,Wn=yn-zn,Fn=Rn+Dn,Bn=Rn-Dn,ss=In+Sn,$s=In-Sn,vs=ds+ss,kn=ds-ss,Qn=gs+Fn,xa=gs-Fn;on[qn]=vs+Qn,on[qn+4]=vs-Qn;var as=.707106781*(xa+kn);on[qn+2]=kn+as,on[qn+6]=kn-as;var ms=.382683433*((vs=$s+Bn)-(xa=Wn+os)),ls=.5411961*vs+ms,An=1.306562965*xa+ms,wn=.707106781*(Qn=Bn+Wn),Nn=os+wn,$n=os-wn;on[qn+5]=$n+ls,on[qn+3]=$n-ls,on[qn+1]=Nn+An,on[qn+7]=Nn-An,qn+=8}for(qn=0,ns=0;ns<8;++ns){mn=on[qn],yn=on[qn+8],Rn=on[qn+16],In=on[qn+24],Sn=on[qn+32],Dn=on[qn+40],zn=on[qn+48];var Gn=mn+(rs=on[qn+56]),gn=mn-rs,_n=yn+zn,jn=yn-zn,On=Rn+Dn,Un=Rn-Dn,Hn=In+Sn,Kn=In-Sn,_i=Gn+Hn,ys=Gn-Hn,xs=_n+On,Cs=_n-On;on[qn]=_i+xs,on[qn+32]=_i-xs;var Rs=.707106781*(Cs+ys);on[qn+16]=ys+Rs,on[qn+48]=ys-Rs;var Ls=.382683433*((_i=Kn+Un)-(Cs=jn+gn)),Ws=.5411961*_i+Ls,Xs=1.306562965*Cs+Ls,ro=.707106781*(xs=Un+jn),ao=gn+ro,_o=gn-ro;on[qn+40]=_o+Ws,on[qn+24]=_o-Ws,on[qn+8]=ao+Xs,on[qn+56]=ao-Xs,qn++}for(ns=0;ns<64;++ns)fs=on[ns]*fn[ns],fr[ns]=fs>0?fs+.5|0:fs-.5|0;return fr}($r,Vr),Zr=0;Zr<64;++Zr)mr[Cr[Zr]]=Kr[Zr];var tn=mr[0]-zr;zr=mr[0],tn==0?Er(Gr[0]):(Er(Gr[hr[Xr=32767+tn]]),Er(dr[Xr]));for(var sn=63;sn>0&&mr[sn]==0;)sn--;if(sn==0)return Er(Ur),zr;for(var un,hn=1;hn<=sn;){for(var Jr=hn;mr[hn]==0&&hn<=sn;)++hn;var nn=hn-Jr;if(nn>=16){un=nn>>4;for(var rn=1;rn<=un;++rn)Er(Br);nn&=15}Xr=32767+mr[hn],Er(Fr[(nn<<4)+hr[Xr]]),Er(dr[Xr]),hn++}return sn!=63&&Er(Ur),zr}function Wr($r){$r=Math.min(Math.max($r,1),100),ar!=$r&&(function(Vr){for(var zr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Gr=0;Gr<64;Gr++){var Fr=sr((zr[Gr]*Vr+50)/100);Fr=Math.min(Math.max(Fr,1),255),lr[Cr[Gr]]=Fr}for(var Xr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ur=0;Ur<64;Ur++){var Br=sr((Xr[Ur]*Vr+50)/100);Br=Math.min(Math.max(Br,1),255),or[Cr[Ur]]=Br}for(var Kr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zr=0,tn=0;tn<8;tn++)for(var sn=0;sn<8;sn++)cr[Zr]=1/(lr[Cr[Zr]]*Kr[tn]*Kr[sn]*8),ur[Zr]=1/(or[Cr[Zr]]*Kr[tn]*Kr[sn]*8),Zr++}($r<50?Math.floor(5e3/$r):Math.floor(200-2*$r)),ar=$r)}this.encode=function($r,Vr){Vr&&Wr(Vr),br=new Array,pr=0,gr=7,Sr(65496),Sr(65504),Sr(16),Ar(74),Ar(70),Ar(73),Ar(70),Ar(0),Ar(1),Ar(1),Ar(0),Sr(1),Sr(1),Ar(0),Ar(0),function(){Sr(65499),Sr(132),Ar(0);for(var yn=0;yn<64;yn++)Ar(lr[yn]);Ar(1);for(var Rn=0;Rn<64;Rn++)Ar(or[Rn])}(),function(yn,Rn){Sr(65472),Sr(17),Ar(8),Sr(Rn),Sr(yn),Ar(3),Ar(1),Ar(17),Ar(0),Ar(2),Ar(17),Ar(1),Ar(3),Ar(17),Ar(1)}($r.width,$r.height),function(){Sr(65476),Sr(418),Ar(0);for(var yn=0;yn<16;yn++)Ar(Tr[yn+1]);for(var Rn=0;Rn<=11;Rn++)Ar(Ir[Rn]);Ar(16);for(var In=0;In<16;In++)Ar(Lr[In+1]);for(var Sn=0;Sn<=161;Sn++)Ar(Nr[Sn]);Ar(1);for(var Dn=0;Dn<16;Dn++)Ar(Or[Dn+1]);for(var zn=0;zn<=11;zn++)Ar(Pr[zn]);Ar(17);for(var rs=0;rs<16;rs++)Ar(Mr[rs+1]);for(var ns=0;ns<=161;ns++)Ar(jr[ns])}(),Sr(65498),Sr(12),Ar(3),Ar(1),Ar(0),Ar(2),Ar(17),Ar(3),Ar(17),Ar(0),Ar(63),Ar(0);var zr=0,Gr=0,Fr=0;pr=0,gr=7,this.encode.displayName="_encode_";for(var Xr,Ur,Br,Kr,Zr,tn,sn,un,hn,Jr=$r.data,nn=$r.width,rn=$r.height,on=4*nn,fn=0;fn<rn;){for(Xr=0;Xr<on;){for(Zr=on*fn+Xr,sn=-1,un=0,hn=0;hn<64;hn++)tn=Zr+(un=hn>>3)*on+(sn=4*(7&hn)),fn+un>=rn&&(tn-=on*(fn+1+un-rn)),Xr+sn>=on&&(tn-=Xr+sn-on+4),Ur=Jr[tn++],Br=Jr[tn++],Kr=Jr[tn++],yr[hn]=(Rr[Ur]+Rr[Br+256>>0]+Rr[Kr+512>>0]>>16)-128,vr[hn]=(Rr[Ur+768>>0]+Rr[Br+1024>>0]+Rr[Kr+1280>>0]>>16)-128,_r[hn]=(Rr[Ur+1280>>0]+Rr[Br+1536>>0]+Rr[Kr+1792>>0]>>16)-128;zr=Dr(yr,cr,zr,er,nr),Gr=Dr(vr,ur,Gr,rr,ir),Fr=Dr(_r,ur,Fr,rr,ir),Xr+=32}fn+=8}if(gr>=0){var mn=[];mn[1]=gr+1,mn[0]=(1<<gr+1)-1,Er(mn)}return Sr(65497),new Uint8Array(br)},tr=tr||50,function(){for(var $r=String.fromCharCode,Vr=0;Vr<256;Vr++)xr[Vr]=$r(Vr)}(),er=wr(Tr,Ir),rr=wr(Or,Pr),nr=wr(Lr,Nr),ir=wr(Mr,jr),function(){for(var $r=1,Vr=2,zr=1;zr<=15;zr++){for(var Gr=$r;Gr<Vr;Gr++)hr[32767+Gr]=zr,dr[32767+Gr]=[],dr[32767+Gr][1]=zr,dr[32767+Gr][0]=Gr;for(var Fr=-(Vr-1);Fr<=-$r;Fr++)hr[32767+Fr]=zr,dr[32767+Fr]=[],dr[32767+Fr][1]=zr,dr[32767+Fr][0]=Vr-1+Fr;$r<<=1,Vr<<=1}}(),function(){for(var $r=0;$r<256;$r++)Rr[$r]=19595*$r,Rr[$r+256>>0]=38470*$r,Rr[$r+512>>0]=7471*$r+32768,Rr[$r+768>>0]=-11059*$r,Rr[$r+1024>>0]=-21709*$r,Rr[$r+1280>>0]=32768*$r+8421375,Rr[$r+1536>>0]=-27439*$r,Rr[$r+1792>>0]=-5329*$r}(),Wr(tr)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(tr,er){if(this.pos=0,this.buffer=tr,this.datav=new DataView(tr.buffer),this.is_with_alpha=!!er,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(tr){function er(Tr){if(!Tr)throw Error("assert :P")}function rr(Tr,Ir,Lr){for(var Nr=0;4>Nr;Nr++)if(Tr[Ir+Nr]!=Lr.charCodeAt(Nr))return!0;return!1}function nr(Tr,Ir,Lr,Nr,Or){for(var Pr=0;Pr<Or;Pr++)Tr[Ir+Pr]=Lr[Nr+Pr]}function ir(Tr,Ir,Lr,Nr){for(var Or=0;Or<Nr;Or++)Tr[Ir+Or]=Lr}function ar(Tr){return new Int32Array(Tr)}function sr(Tr,Ir){for(var Lr=[],Nr=0;Nr<Tr;Nr++)Lr.push(new Ir);return Lr}function lr(Tr,Ir){var Lr=[];return function Nr(Or,Pr,Mr){for(var jr=Mr[Pr],wr=0;wr<jr&&(Or.push(Mr.length>Pr+1?[]:new Ir),!(Mr.length<Pr+1));wr++)Nr(Or[wr],Pr+1,Mr)}(Lr,0,Tr),Lr}var or=function(){var Tr=this;function Ir(Hr,Yr){for(var en=1<<Yr-1>>>0;Hr&en;)en>>>=1;return en?(Hr&en-1)+en:Hr}function Lr(Hr,Yr,en,dn,vn){er(!(dn%en));do Hr[Yr+(dn-=en)]=vn;while(0<dn)}function Nr(Hr,Yr,en,dn,vn){if(er(2328>=vn),512>=vn)var xn=ar(512);else if((xn=ar(vn))==null)return 0;return function(En,Pn,Cn,Mn,Zn,cs){var us,es,Ts=Pn,bs=1<<Cn,Jn=ar(16),na=ar(16);for(er(Zn!=0),er(Mn!=null),er(En!=null),er(0<Cn),es=0;es<Zn;++es){if(15<Mn[es])return 0;++Jn[Mn[es]]}if(Jn[0]==Zn)return 0;for(na[1]=0,us=1;15>us;++us){if(Jn[us]>1<<us)return 0;na[us+1]=na[us]+Jn[us]}for(es=0;es<Zn;++es)us=Mn[es],0<Mn[es]&&(cs[na[us]++]=es);if(na[15]==1)return(Mn=new Or).g=0,Mn.value=cs[0],Lr(En,Ts,1,bs,Mn),bs;var Es,Ps=-1,Ss=bs-1,Vs=0,Ms=1,Gs=1,Bs=1<<Cn;for(es=0,us=1,Zn=2;us<=Cn;++us,Zn<<=1){if(Ms+=Gs<<=1,0>(Gs-=Jn[us]))return 0;for(;0<Jn[us];--Jn[us])(Mn=new Or).g=us,Mn.value=cs[es++],Lr(En,Ts+Vs,Zn,Bs,Mn),Vs=Ir(Vs,us)}for(us=Cn+1,Zn=2;15>=us;++us,Zn<<=1){if(Ms+=Gs<<=1,0>(Gs-=Jn[us]))return 0;for(;0<Jn[us];--Jn[us]){if(Mn=new Or,(Vs&Ss)!=Ps){for(Ts+=Bs,Es=1<<(Ps=us)-Cn;15>Ps&&!(0>=(Es-=Jn[Ps]));)++Ps,Es<<=1;bs+=Bs=1<<(Es=Ps-Cn),En[Pn+(Ps=Vs&Ss)].g=Es+Cn,En[Pn+Ps].value=Ts-Pn-Ps}Mn.g=us-Cn,Mn.value=cs[es++],Lr(En,Ts+(Vs>>Cn),Zn,Bs,Mn),Vs=Ir(Vs,us)}}return Ms!=2*na[15]-1?0:bs}(Hr,Yr,en,dn,vn,xn)}function Or(){this.value=this.g=0}function Pr(){this.value=this.g=0}function Mr(){this.G=sr(5,Or),this.H=ar(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=sr(Xo,Pr)}function jr(Hr,Yr,en,dn){er(Hr!=null),er(Yr!=null),er(2147483648>dn),Hr.Ca=254,Hr.I=0,Hr.b=-8,Hr.Ka=0,Hr.oa=Yr,Hr.pa=en,Hr.Jd=Yr,Hr.Yc=en+dn,Hr.Zc=4<=dn?en+dn-4+1:en,Xr(Hr)}function wr(Hr,Yr){for(var en=0;0<Yr--;)en|=Br(Hr,128)<<Yr;return en}function Er(Hr,Yr){var en=wr(Hr,Yr);return Ur(Hr)?-en:en}function Ar(Hr,Yr,en,dn){var vn,xn=0;for(er(Hr!=null),er(Yr!=null),er(4294967288>dn),Hr.Sb=dn,Hr.Ra=0,Hr.u=0,Hr.h=0,4<dn&&(dn=4),vn=0;vn<dn;++vn)xn+=Yr[en+vn]<<8*vn;Hr.Ra=xn,Hr.bb=dn,Hr.oa=Yr,Hr.pa=en}function Sr(Hr){for(;8<=Hr.u&&Hr.bb<Hr.Sb;)Hr.Ra>>>=8,Hr.Ra+=Hr.oa[Hr.pa+Hr.bb]<<sp-8>>>0,++Hr.bb,Hr.u-=8;zr(Hr)&&(Hr.h=1,Hr.u=0)}function Dr(Hr,Yr){if(er(0<=Yr),!Hr.h&&Yr<=ap){var en=Vr(Hr)&ip[Yr];return Hr.u+=Yr,Sr(Hr),en}return Hr.h=1,Hr.u=0}function Wr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $r(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Vr(Hr){return Hr.Ra>>>(Hr.u&sp-1)>>>0}function zr(Hr){return er(Hr.bb<=Hr.Sb),Hr.h||Hr.bb==Hr.Sb&&Hr.u>sp}function Gr(Hr,Yr){Hr.u=Yr,Hr.h=zr(Hr)}function Fr(Hr){Hr.u>=Ep&&(er(Hr.u>=Ep),Sr(Hr))}function Xr(Hr){er(Hr!=null&&Hr.oa!=null),Hr.pa<Hr.Zc?(Hr.I=(Hr.oa[Hr.pa++]|Hr.I<<8)>>>0,Hr.b+=8):(er(Hr!=null&&Hr.oa!=null),Hr.pa<Hr.Yc?(Hr.b+=8,Hr.I=Hr.oa[Hr.pa++]|Hr.I<<8):Hr.Ka?Hr.b=0:(Hr.I<<=8,Hr.b+=8,Hr.Ka=1))}function Ur(Hr){return wr(Hr,1)}function Br(Hr,Yr){var en=Hr.Ca;0>Hr.b&&Xr(Hr);var dn=Hr.b,vn=en*Yr>>>8,xn=(Hr.I>>>dn>vn)+0;for(xn?(en-=vn,Hr.I-=vn+1<<dn>>>0):en=vn+1,dn=en,vn=0;256<=dn;)vn+=8,dn>>=8;return dn=7^vn+El[dn],Hr.b-=dn,Hr.Ca=(en<<dn)-1,xn}function Kr(Hr,Yr,en){Hr[Yr+0]=en>>24&255,Hr[Yr+1]=en>>16&255,Hr[Yr+2]=en>>8&255,Hr[Yr+3]=en>>0&255}function Zr(Hr,Yr){return Hr[Yr+0]<<0|Hr[Yr+1]<<8}function tn(Hr,Yr){return Zr(Hr,Yr)|Hr[Yr+2]<<16}function sn(Hr,Yr){return Zr(Hr,Yr)|Zr(Hr,Yr+2)<<16}function un(Hr,Yr){var en=1<<Yr;return er(Hr!=null),er(0<Yr),Hr.X=ar(en),Hr.X==null?0:(Hr.Mb=32-Yr,Hr.Xa=Yr,1)}function hn(Hr,Yr){er(Hr!=null),er(Yr!=null),er(Hr.Xa==Yr.Xa),nr(Yr.X,0,Hr.X,0,1<<Yr.Xa)}function Jr(){this.X=[],this.Xa=this.Mb=0}function nn(Hr,Yr,en,dn){er(en!=null),er(dn!=null);var vn=en[0],xn=dn[0];return vn==0&&(vn=(Hr*xn+Yr/2)/Yr),xn==0&&(xn=(Yr*vn+Hr/2)/Hr),0>=vn||0>=xn?0:(en[0]=vn,dn[0]=xn,1)}function rn(Hr,Yr){return Hr+(1<<Yr)-1>>>Yr}function on(Hr,Yr){return((4278255360&Hr)+(4278255360&Yr)>>>0&4278255360)+((16711935&Hr)+(16711935&Yr)>>>0&16711935)>>>0}function fn(Hr,Yr){Tr[Yr]=function(en,dn,vn,xn,En,Pn,Cn){var Mn;for(Mn=0;Mn<En;++Mn){var Zn=Tr[Hr](Pn[Cn+Mn-1],vn,xn+Mn);Pn[Cn+Mn]=on(en[dn+Mn],Zn)}}}function mn(){this.ud=this.hd=this.jd=0}function yn(Hr,Yr){return((4278124286&(Hr^Yr))>>>1)+(Hr&Yr)>>>0}function Rn(Hr){return 0<=Hr&&256>Hr?Hr:0>Hr?0:255<Hr?255:void 0}function In(Hr,Yr){return Rn(Hr+(Hr-Yr+.5>>1))}function Sn(Hr,Yr,en){return Math.abs(Yr-en)-Math.abs(Hr-en)}function Dn(Hr,Yr,en,dn,vn,xn,En){for(dn=xn[En-1],en=0;en<vn;++en)xn[En+en]=dn=on(Hr[Yr+en],dn)}function zn(Hr,Yr,en,dn,vn){var xn;for(xn=0;xn<en;++xn){var En=Hr[Yr+xn],Pn=En>>8&255,Cn=16711935&(Cn=(Cn=16711935&En)+((Pn<<16)+Pn));dn[vn+xn]=(4278255360&En)+Cn>>>0}}function rs(Hr,Yr){Yr.jd=Hr>>0&255,Yr.hd=Hr>>8&255,Yr.ud=Hr>>16&255}function ns(Hr,Yr,en,dn,vn,xn){var En;for(En=0;En<dn;++En){var Pn=Yr[en+En],Cn=Pn>>>8,Mn=Pn,Zn=255&(Zn=(Zn=Pn>>>16)+((Hr.jd<<24>>24)*(Cn<<24>>24)>>>5));Mn=255&(Mn=(Mn=Mn+((Hr.hd<<24>>24)*(Cn<<24>>24)>>>5))+((Hr.ud<<24>>24)*(Zn<<24>>24)>>>5)),vn[xn+En]=(4278255360&Pn)+(Zn<<16)+Mn}}function fs(Hr,Yr,en,dn,vn){Tr[Yr]=function(xn,En,Pn,Cn,Mn,Zn,cs,us,es){for(Cn=cs;Cn<us;++Cn)for(cs=0;cs<es;++cs)Mn[Zn++]=vn(Pn[dn(xn[En++])])},Tr[Hr]=function(xn,En,Pn,Cn,Mn,Zn,cs){var us=8>>xn.b,es=xn.Ea,Ts=xn.K[0],bs=xn.w;if(8>us)for(xn=(1<<xn.b)-1,bs=(1<<us)-1;En<Pn;++En){var Jn,na=0;for(Jn=0;Jn<es;++Jn)Jn&xn||(na=dn(Cn[Mn++])),Zn[cs++]=vn(Ts[na&bs]),na>>=us}else Tr["VP8LMapColor"+en](Cn,Mn,Ts,bs,Zn,cs,En,Pn,es)}}function qn(Hr,Yr,en,dn,vn){for(en=Yr+en;Yr<en;){var xn=Hr[Yr++];dn[vn++]=xn>>16&255,dn[vn++]=xn>>8&255,dn[vn++]=xn>>0&255}}function ds(Hr,Yr,en,dn,vn){for(en=Yr+en;Yr<en;){var xn=Hr[Yr++];dn[vn++]=xn>>16&255,dn[vn++]=xn>>8&255,dn[vn++]=xn>>0&255,dn[vn++]=xn>>24&255}}function os(Hr,Yr,en,dn,vn){for(en=Yr+en;Yr<en;){var xn=(En=Hr[Yr++])>>16&240|En>>12&15,En=En>>0&240|En>>28&15;dn[vn++]=xn,dn[vn++]=En}}function gs(Hr,Yr,en,dn,vn){for(en=Yr+en;Yr<en;){var xn=(En=Hr[Yr++])>>16&248|En>>13&7,En=En>>5&224|En>>3&31;dn[vn++]=xn,dn[vn++]=En}}function Wn(Hr,Yr,en,dn,vn){for(en=Yr+en;Yr<en;){var xn=Hr[Yr++];dn[vn++]=xn>>0&255,dn[vn++]=xn>>8&255,dn[vn++]=xn>>16&255}}function Fn(Hr,Yr,en,dn,vn,xn){if(xn==0)for(en=Yr+en;Yr<en;)Kr(dn,((xn=Hr[Yr++])[0]>>24|xn[1]>>8&65280|xn[2]<<8&16711680|xn[3]<<24)>>>0),vn+=32;else nr(dn,vn,Hr,Yr,en)}function Bn(Hr,Yr){Tr[Yr][0]=Tr[Hr+"0"],Tr[Yr][1]=Tr[Hr+"1"],Tr[Yr][2]=Tr[Hr+"2"],Tr[Yr][3]=Tr[Hr+"3"],Tr[Yr][4]=Tr[Hr+"4"],Tr[Yr][5]=Tr[Hr+"5"],Tr[Yr][6]=Tr[Hr+"6"],Tr[Yr][7]=Tr[Hr+"7"],Tr[Yr][8]=Tr[Hr+"8"],Tr[Yr][9]=Tr[Hr+"9"],Tr[Yr][10]=Tr[Hr+"10"],Tr[Yr][11]=Tr[Hr+"11"],Tr[Yr][12]=Tr[Hr+"12"],Tr[Yr][13]=Tr[Hr+"13"],Tr[Yr][14]=Tr[Hr+"0"],Tr[Yr][15]=Tr[Hr+"0"]}function ss(Hr){return Hr==Cm||Hr==jm||Hr==Jp||Hr==Im}function $s(){this.eb=[],this.size=this.A=this.fb=0}function vs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $s,this.f.kb=new vs,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xa(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function as(Hr){return alert("todo:WebPSamplerProcessPlane"),Hr.T}function ms(Hr,Yr){var en=Hr.T,dn=Yr.ba.f.RGBA,vn=dn.eb,xn=dn.fb+Hr.ka*dn.A,En=Ul[Yr.ba.S],Pn=Hr.y,Cn=Hr.O,Mn=Hr.f,Zn=Hr.N,cs=Hr.ea,us=Hr.W,es=Yr.cc,Ts=Yr.dc,bs=Yr.Mc,Jn=Yr.Nc,na=Hr.ka,Es=Hr.ka+Hr.T,Ps=Hr.U,Ss=Ps+1>>1;for(na==0?En(Pn,Cn,null,null,Mn,Zn,cs,us,Mn,Zn,cs,us,vn,xn,null,null,Ps):(En(Yr.ec,Yr.fc,Pn,Cn,es,Ts,bs,Jn,Mn,Zn,cs,us,vn,xn-dn.A,vn,xn,Ps),++en);na+2<Es;na+=2)es=Mn,Ts=Zn,bs=cs,Jn=us,Zn+=Hr.Rc,us+=Hr.Rc,xn+=2*dn.A,En(Pn,(Cn+=2*Hr.fa)-Hr.fa,Pn,Cn,es,Ts,bs,Jn,Mn,Zn,cs,us,vn,xn-dn.A,vn,xn,Ps);return Cn+=Hr.fa,Hr.j+Es<Hr.o?(nr(Yr.ec,Yr.fc,Pn,Cn,Ps),nr(Yr.cc,Yr.dc,Mn,Zn,Ss),nr(Yr.Mc,Yr.Nc,cs,us,Ss),en--):1&Es||En(Pn,Cn,null,null,Mn,Zn,cs,us,Mn,Zn,cs,us,vn,xn+dn.A,null,null,Ps),en}function ls(Hr,Yr,en){var dn=Hr.F,vn=[Hr.J];if(dn!=null){var xn=Hr.U,En=Yr.ba.S,Pn=En==Zp||En==Jp;Yr=Yr.ba.f.RGBA;var Cn=[0],Mn=Hr.ka;Cn[0]=Hr.T,Hr.Kb&&(Mn==0?--Cn[0]:(--Mn,vn[0]-=Hr.width),Hr.j+Hr.ka+Hr.T==Hr.o&&(Cn[0]=Hr.o-Hr.j-Mn));var Zn=Yr.eb;Mn=Yr.fb+Mn*Yr.A,Hr=No(dn,vn[0],Hr.width,xn,Cn,Zn,Mn+(Pn?0:3),Yr.A),er(en==Cn),Hr&&ss(En)&&Bl(Zn,Mn,Pn,xn,Cn,Yr.A)}return 0}function An(Hr){var Yr=Hr.ma,en=Yr.ba.S,dn=11>en,vn=en==Yp||en==Qp||en==Zp||en==km||en==12||ss(en);if(Yr.memory=null,Yr.Ib=null,Yr.Jb=null,Yr.Nd=null,!xp(Yr.Oa,Hr,vn?11:12))return 0;if(vn&&ss(en)&&Is(),Hr.da)alert("todo:use_scaling");else{if(dn){if(Yr.Ib=as,Hr.Kb){if(en=Hr.U+1>>1,Yr.memory=ar(Hr.U+2*en),Yr.memory==null)return 0;Yr.ec=Yr.memory,Yr.fc=0,Yr.cc=Yr.ec,Yr.dc=Yr.fc+Hr.U,Yr.Mc=Yr.cc,Yr.Nc=Yr.dc+en,Yr.Ib=ms,Is()}}else alert("todo:EmitYUV");vn&&(Yr.Jb=ls,dn&&$a())}if(dn&&!$0){for(Hr=0;256>Hr;++Hr)Jy[Hr]=89858*(Hr-128)+tm>>em,rv[Hr]=-22014*(Hr-128)+tm,tv[Hr]=-45773*(Hr-128),ev[Hr]=113618*(Hr-128)+tm>>em;for(Hr=Cp;Hr<$m;++Hr)Yr=76283*(Hr-16)+tm>>em,nv[Hr-Cp]=vo(Yr,255),iv[Hr-Cp]=vo(Yr+8>>4,15);$0=1}return 1}function wn(Hr){var Yr=Hr.ma,en=Hr.U,dn=Hr.T;return er(!(1&Hr.ka)),0>=en||0>=dn?0:(en=Yr.Ib(Hr,Yr),Yr.Jb!=null&&Yr.Jb(Hr,Yr,en),Yr.Dc+=en,1)}function Nn(Hr){Hr.ma.memory=null}function $n(Hr,Yr,en,dn){return Dr(Hr,8)!=47?0:(Yr[0]=Dr(Hr,14)+1,en[0]=Dr(Hr,14)+1,dn[0]=Dr(Hr,1),Dr(Hr,3)!=0?0:!Hr.h)}function Gn(Hr,Yr){if(4>Hr)return Hr+1;var en=Hr-2>>1;return(2+(1&Hr)<<en)+Dr(Yr,en)+1}function gn(Hr,Yr){return 120<Yr?Yr-120:1<=(en=((en=Fy[Yr-1])>>4)*Hr+(8-(15&en)))?en:1;var en}function _n(Hr,Yr,en){var dn=Vr(en),vn=Hr[Yr+=255&dn].g-8;return 0<vn&&(Gr(en,en.u+8),dn=Vr(en),Yr+=Hr[Yr].value,Yr+=dn&(1<<vn)-1),Gr(en,en.u+Hr[Yr].g),Hr[Yr].value}function jn(Hr,Yr,en){return en.g+=Hr.g,en.value+=Hr.value<<Yr>>>0,er(8>=en.g),Hr.g}function On(Hr,Yr,en){var dn=Hr.xc;return er((Yr=dn==0?0:Hr.vc[Hr.md*(en>>dn)+(Yr>>dn)])<Hr.Wb),Hr.Ya[Yr]}function Un(Hr,Yr,en,dn){var vn=Hr.ab,xn=Hr.c*Yr,En=Hr.C;Yr=En+Yr;var Pn=en,Cn=dn;for(dn=Hr.Ta,en=Hr.Ua;0<vn--;){var Mn=Hr.gc[vn],Zn=En,cs=Yr,us=Pn,es=Cn,Ts=(Cn=dn,Pn=en,Mn.Ea);switch(er(Zn<cs),er(cs<=Mn.nc),Mn.hc){case 2:zp(us,es,(cs-Zn)*Ts,Cn,Pn);break;case 0:var bs=Zn,Jn=cs,na=Cn,Es=Pn,Ps=(Bs=Mn).Ea;bs==0&&(Pm(us,es,null,null,1,na,Es),Dn(us,es+1,0,0,Ps-1,na,Es+1),es+=Ps,Es+=Ps,++bs);for(var Ss=1<<Bs.b,Vs=Ss-1,Ms=rn(Ps,Bs.b),Gs=Bs.K,Bs=Bs.w+(bs>>Bs.b)*Ms;bs<Jn;){var yo=Gs,Eo=Bs,po=1;for(Sp(us,es,na,Es-Ps,1,na,Es);po<Ps;){var uo=(po&~Vs)+Ss;uo>Ps&&(uo=Ps),(0,ju[yo[Eo++]>>8&15])(us,es+ +po,na,Es+po-Ps,uo-po,na,Es+po),po=uo}es+=Ps,Es+=Ps,++bs&Vs||(Bs+=Ms)}cs!=Mn.nc&&nr(Cn,Pn-Ts,Cn,Pn+(cs-Zn-1)*Ts,Ts);break;case 1:for(Ts=us,Jn=es,Ps=(us=Mn.Ea)-(Es=us&~(na=(es=1<<Mn.b)-1)),bs=rn(us,Mn.b),Ss=Mn.K,Mn=Mn.w+(Zn>>Mn.b)*bs;Zn<cs;){for(Vs=Ss,Ms=Mn,Gs=new mn,Bs=Jn+Es,yo=Jn+us;Jn<Bs;)rs(Vs[Ms++],Gs),Xu(Gs,Ts,Jn,es,Cn,Pn),Jn+=es,Pn+=es;Jn<yo&&(rs(Vs[Ms++],Gs),Xu(Gs,Ts,Jn,Ps,Cn,Pn),Jn+=Ps,Pn+=Ps),++Zn&na||(Mn+=bs)}break;case 3:if(us==Cn&&es==Pn&&0<Mn.b){for(Jn=Cn,us=Ts=Pn+(cs-Zn)*Ts-(Es=(cs-Zn)*rn(Mn.Ea,Mn.b)),es=Cn,na=Pn,bs=[],Es=(Ps=Es)-1;0<=Es;--Es)bs[Es]=es[na+Es];for(Es=Ps-1;0<=Es;--Es)Jn[us+Es]=bs[Es];Dl(Mn,Zn,cs,Cn,Ts,Cn,Pn)}else Dl(Mn,Zn,cs,us,es,Cn,Pn)}Pn=dn,Cn=en}Cn!=en&&nr(dn,en,Pn,Cn,xn)}function Hn(Hr,Yr){var en=Hr.V,dn=Hr.Ba+Hr.c*Hr.C,vn=Yr-Hr.C;if(er(Yr<=Hr.l.o),er(16>=vn),0<vn){var xn=Hr.l,En=Hr.Ta,Pn=Hr.Ua,Cn=xn.width;if(Un(Hr,vn,en,dn),vn=Pn=[Pn],er((en=Hr.C)<(dn=Yr)),er(xn.v<xn.va),dn>xn.o&&(dn=xn.o),en<xn.j){var Mn=xn.j-en;en=xn.j,vn[0]+=Mn*Cn}if(en>=dn?en=0:(vn[0]+=4*xn.v,xn.ka=en-xn.j,xn.U=xn.va-xn.v,xn.T=dn-en,en=1),en){if(Pn=Pn[0],11>(en=Hr.ca).S){var Zn=en.f.RGBA,cs=(dn=en.S,vn=xn.U,xn=xn.T,Mn=Zn.eb,Zn.A),us=xn;for(Zn=Zn.fb+Hr.Ma*Zn.A;0<us--;){var es=En,Ts=Pn,bs=vn,Jn=Mn,na=Zn;switch(dn){case Xp:Sl(es,Ts,bs,Jn,na);break;case Yp:_l(es,Ts,bs,Jn,na);break;case Cm:_l(es,Ts,bs,Jn,na),Bl(Jn,na,0,bs,1,0);break;case T0:hu(es,Ts,bs,Jn,na);break;case Qp:Fn(es,Ts,bs,Jn,na,1);break;case jm:Fn(es,Ts,bs,Jn,na,1),Bl(Jn,na,0,bs,1,0);break;case Zp:Fn(es,Ts,bs,Jn,na,0);break;case Jp:Fn(es,Ts,bs,Jn,na,0),Bl(Jn,na,1,bs,1,0);break;case km:Iu(es,Ts,bs,Jn,na);break;case Im:Iu(es,Ts,bs,Jn,na),Io(Jn,na,bs,1,0);break;case P0:du(es,Ts,bs,Jn,na);break;default:er(0)}Pn+=Cn,Zn+=cs}Hr.Ma+=xn}else alert("todo:EmitRescaledRowsYUVA");er(Hr.Ma<=en.height)}}Hr.C=Yr,er(Hr.C<=Hr.i)}function Kn(Hr){var Yr;if(0<Hr.ua)return 0;for(Yr=0;Yr<Hr.Wb;++Yr){var en=Hr.Ya[Yr].G,dn=Hr.Ya[Yr].H;if(0<en[1][dn[1]+0].g||0<en[2][dn[2]+0].g||0<en[3][dn[3]+0].g)return 0}return 1}function _i(Hr,Yr,en,dn,vn,xn){if(Hr.Z!=0){var En=Hr.qd,Pn=Hr.rd;for(er(Mu[Hr.Z]!=null);Yr<en;++Yr)Mu[Hr.Z](En,Pn,dn,vn,dn,vn,xn),En=dn,Pn=vn,vn+=xn;Hr.qd=En,Hr.rd=Pn}}function ys(Hr,Yr){var en=Hr.l.ma,dn=en.Z==0||en.Z==1?Hr.l.j:Hr.C;if(dn=Hr.C<dn?dn:Hr.C,er(Yr<=Hr.l.o),Yr>dn){var vn=Hr.l.width,xn=en.ca,En=en.tb+vn*dn,Pn=Hr.V,Cn=Hr.Ba+Hr.c*dn,Mn=Hr.gc;er(Hr.ab==1),er(Mn[0].hc==3),Wp(Mn[0],dn,Yr,Pn,Cn,xn,En),_i(en,dn,Yr,xn,En,vn)}Hr.C=Hr.Ma=Yr}function xs(Hr,Yr,en,dn,vn,xn,En){var Pn=Hr.$/dn,Cn=Hr.$%dn,Mn=Hr.m,Zn=Hr.s,cs=en+Hr.$,us=cs;vn=en+dn*vn;var es=en+dn*xn,Ts=280+Zn.ua,bs=Hr.Pb?Pn:16777216,Jn=0<Zn.ua?Zn.Wa:null,na=Zn.wc,Es=cs<es?On(Zn,Cn,Pn):null;er(Hr.C<xn),er(es<=vn);var Ps=!1;e:for(;;){for(;Ps||cs<es;){var Ss=0;if(Pn>=bs){var Vs=cs-en;er((bs=Hr).Pb),bs.wd=bs.m,bs.xd=Vs,0<bs.s.ua&&hn(bs.s.Wa,bs.s.vb),bs=Pn+Vy}if(Cn&na||(Es=On(Zn,Cn,Pn)),er(Es!=null),Es.Qb&&(Yr[cs]=Es.qb,Ps=!0),!Ps)if(Fr(Mn),Es.jc){Ss=Mn,Vs=Yr;var Ms=cs,Gs=Es.pd[Vr(Ss)&Xo-1];er(Es.jc),256>Gs.g?(Gr(Ss,Ss.u+Gs.g),Vs[Ms]=Gs.value,Ss=0):(Gr(Ss,Ss.u+Gs.g-256),er(256<=Gs.value),Ss=Gs.value),Ss==0&&(Ps=!0)}else Ss=_n(Es.G[0],Es.H[0],Mn);if(Mn.h)break;if(Ps||256>Ss){if(!Ps)if(Es.nd)Yr[cs]=(Es.qb|Ss<<8)>>>0;else{if(Fr(Mn),Ps=_n(Es.G[1],Es.H[1],Mn),Fr(Mn),Vs=_n(Es.G[2],Es.H[2],Mn),Ms=_n(Es.G[3],Es.H[3],Mn),Mn.h)break;Yr[cs]=(Ms<<24|Ps<<16|Ss<<8|Vs)>>>0}if(Ps=!1,++cs,++Cn>=dn&&(Cn=0,++Pn,En!=null&&Pn<=xn&&!(Pn%16)&&En(Hr,Pn),Jn!=null))for(;us<cs;)Ss=Yr[us++],Jn.X[(506832829*Ss&4294967295)>>>Jn.Mb]=Ss}else if(280>Ss){if(Ss=Gn(Ss-256,Mn),Vs=_n(Es.G[4],Es.H[4],Mn),Fr(Mn),Vs=gn(dn,Vs=Gn(Vs,Mn)),Mn.h)break;if(cs-en<Vs||vn-cs<Ss)break e;for(Ms=0;Ms<Ss;++Ms)Yr[cs+Ms]=Yr[cs+Ms-Vs];for(cs+=Ss,Cn+=Ss;Cn>=dn;)Cn-=dn,++Pn,En!=null&&Pn<=xn&&!(Pn%16)&&En(Hr,Pn);if(er(cs<=vn),Cn&na&&(Es=On(Zn,Cn,Pn)),Jn!=null)for(;us<cs;)Ss=Yr[us++],Jn.X[(506832829*Ss&4294967295)>>>Jn.Mb]=Ss}else{if(!(Ss<Ts))break e;for(Ps=Ss-280,er(Jn!=null);us<cs;)Ss=Yr[us++],Jn.X[(506832829*Ss&4294967295)>>>Jn.Mb]=Ss;Ss=cs,er(!(Ps>>>(Vs=Jn).Xa)),Yr[Ss]=Vs.X[Ps],Ps=!0}Ps||er(Mn.h==zr(Mn))}if(Hr.Pb&&Mn.h&&cs<vn)er(Hr.m.h),Hr.a=5,Hr.m=Hr.wd,Hr.$=Hr.xd,0<Hr.s.ua&&hn(Hr.s.vb,Hr.s.Wa);else{if(Mn.h)break e;En!=null&&En(Hr,Pn>xn?xn:Pn),Hr.a=0,Hr.$=cs-en}return 1}return Hr.a=3,0}function Cs(Hr){er(Hr!=null),Hr.vc=null,Hr.yc=null,Hr.Ya=null;var Yr=Hr.Wa;Yr!=null&&(Yr.X=null),Hr.vb=null,er(Hr!=null)}function Rs(){var Hr=new rp;return Hr==null?null:(Hr.a=0,Hr.xb=C0,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),zp=zn,Xu=ns,Sl=qn,_l=ds,Iu=os,du=gs,hu=Wn,Tr.VP8LMapColor32b=op,Tr.VP8LMapColor8b=Hp,Hr)}function Ls(Hr,Yr,en,dn,vn){var xn=1,En=[Hr],Pn=[Yr],Cn=dn.m,Mn=dn.s,Zn=null,cs=0;e:for(;;){if(en)for(;xn&&Dr(Cn,1);){var us=En,es=Pn,Ts=dn,bs=1,Jn=Ts.m,na=Ts.gc[Ts.ab],Es=Dr(Jn,2);if(Ts.Oc&1<<Es)xn=0;else{switch(Ts.Oc|=1<<Es,na.hc=Es,na.Ea=us[0],na.nc=es[0],na.K=[null],++Ts.ab,er(4>=Ts.ab),Es){case 0:case 1:na.b=Dr(Jn,3)+2,bs=Ls(rn(na.Ea,na.b),rn(na.nc,na.b),0,Ts,na.K),na.K=na.K[0];break;case 3:var Ps,Ss=Dr(Jn,8)+1,Vs=16<Ss?0:4<Ss?1:2<Ss?2:3;if(us[0]=rn(na.Ea,Vs),na.b=Vs,Ps=bs=Ls(Ss,1,0,Ts,na.K)){var Ms,Gs=Ss,Bs=na,yo=1<<(8>>Bs.b),Eo=ar(yo);if(Eo==null)Ps=0;else{var po=Bs.K[0],uo=Bs.w;for(Eo[0]=Bs.K[0][0],Ms=1;Ms<1*Gs;++Ms)Eo[Ms]=on(po[uo+Ms],Eo[Ms-1]);for(;Ms<4*yo;++Ms)Eo[Ms]=0;Bs.K[0]=null,Bs.K[0]=Eo,Ps=1}}bs=Ps;break;case 2:break;default:er(0)}xn=bs}}if(En=En[0],Pn=Pn[0],xn&&Dr(Cn,1)&&!(xn=1<=(cs=Dr(Cn,4))&&11>=cs)){dn.a=3;break e}var Co;if(Co=xn)t:{var To,io,Fo,Al=dn,Bo=En,Tl=Pn,So=cs,Nl=en,Ol=Al.m,Wo=Al.s,Yo=[null],wl=1,zl=0,su=By[So];r:for(;;){if(Nl&&Dr(Ol,1)){var Ho=Dr(Ol,3)+2,gu=rn(Bo,Ho),_d=rn(Tl,Ho),hp=gu*_d;if(!Ls(gu,_d,0,Al,Yo))break r;for(Yo=Yo[0],Wo.xc=Ho,To=0;To<hp;++To){var Du=Yo[To]>>8&65535;Yo[To]=Du,Du>=wl&&(wl=Du+1)}}if(Ol.h)break r;for(io=0;5>io;++io){var $o=R0[io];!io&&0<So&&($o+=1<<So),zl<$o&&(zl=$o)}var Mm=sr(wl*su,Or),L0=wl,F0=sr(L0,Mr);if(F0==null)var nm=null;else er(65536>=L0),nm=F0;var jp=ar(zl);if(nm==null||jp==null||Mm==null){Al.a=1;break r}var im=Mm;for(To=Fo=0;To<wl;++To){var _c=nm[To],fp=_c.G,pp=_c.H,B0=0,am=1,V0=0;for(io=0;5>io;++io){$o=R0[io],fp[io]=im,pp[io]=Fo,!io&&0<So&&($o+=1<<So);i:{var sm,Dm=$o,om=Al,Ip=jp,ov=im,lv=Fo,Lm=0,Lu=om.m,cv=Dr(Lu,1);if(ir(Ip,0,0,Dm),cv){var uv=Dr(Lu,1)+1,dv=Dr(Lu,1),U0=Dr(Lu,dv==0?1:8);Ip[U0]=1,uv==2&&(Ip[U0=Dr(Lu,8)]=1);var lm=1}else{var z0=ar(19),W0=Dr(Lu,4)+4;if(19<W0){om.a=3;var cm=0;break i}for(sm=0;sm<W0;++sm)z0[Ly[sm]]=Dr(Lu,3);var Fm=void 0,Np=void 0,H0=om,hv=z0,um=Dm,q0=Ip,Bm=0,Fu=H0.m,G0=8,K0=sr(128,Or);n:for(;Nr(K0,0,7,hv,19);){if(Dr(Fu,1)){var fv=2+2*Dr(Fu,3);if((Fm=2+Dr(Fu,fv))>um)break n}else Fm=um;for(Np=0;Np<um&&Fm--;){Fr(Fu);var X0=K0[0+(127&Vr(Fu))];Gr(Fu,Fu.u+X0.g);var mp=X0.value;if(16>mp)q0[Np++]=mp,mp!=0&&(G0=mp);else{var pv=mp==16,Y0=mp-16,mv=My[Y0],Q0=Dr(Fu,$y[Y0])+mv;if(Np+Q0>um)break n;for(var gv=pv?G0:0;0<Q0--;)q0[Np++]=gv}}Bm=1;break n}Bm||(H0.a=3),lm=Bm}(lm=lm&&!Lu.h)&&(Lm=Nr(ov,lv,8,Ip,Dm)),lm&&Lm!=0?cm=Lm:(om.a=3,cm=0)}if(cm==0)break r;if(am&&Dy[io]==1&&(am=im[Fo].g==0),B0+=im[Fo].g,Fo+=cm,3>=io){var Op,Vm=jp[0];for(Op=1;Op<$o;++Op)jp[Op]>Vm&&(Vm=jp[Op]);V0+=Vm}}if(_c.nd=am,_c.Qb=0,am&&(_c.qb=(fp[3][pp[3]+0].value<<24|fp[1][pp[1]+0].value<<16|fp[2][pp[2]+0].value)>>>0,B0==0&&256>fp[0][pp[0]+0].value&&(_c.Qb=1,_c.qb+=fp[0][pp[0]+0].value<<8)),_c.jc=!_c.Qb&&6>V0,_c.jc){var dm,yu=_c;for(dm=0;dm<Xo;++dm){var Bu=dm,Vu=yu.pd[Bu],hm=yu.G[0][yu.H[0]+Bu];256<=hm.value?(Vu.g=hm.g+256,Vu.value=hm.value):(Vu.g=0,Vu.value=0,Bu>>=jn(hm,8,Vu),Bu>>=jn(yu.G[1][yu.H[1]+Bu],16,Vu),Bu>>=jn(yu.G[2][yu.H[2]+Bu],0,Vu),jn(yu.G[3][yu.H[3]+Bu],24,Vu))}}}Wo.vc=Yo,Wo.Wb=wl,Wo.Ya=nm,Wo.yc=Mm,Co=1;break t}Co=0}if(!(xn=Co)){dn.a=3;break e}if(0<cs){if(Mn.ua=1<<cs,!un(Mn.Wa,cs)){dn.a=1,xn=0;break e}}else Mn.ua=0;var Um=dn,Z0=En,yv=Pn,zm=Um.s,Wm=zm.xc;if(Um.c=Z0,Um.i=yv,zm.md=rn(Z0,Wm),zm.wc=Wm==0?-1:(1<<Wm)-1,en){dn.xb=Ky;break e}if((Zn=ar(En*Pn))==null){dn.a=1,xn=0;break e}xn=(xn=xs(dn,Zn,0,En,Pn,Pn,null))&&!Cn.h;break e}return xn?(vn!=null?vn[0]=Zn:(er(Zn==null),er(en)),dn.$=0,en||Cs(Mn)):Cs(Mn),xn}function Ws(Hr,Yr){var en=Hr.c*Hr.i,dn=en+Yr+16*Yr;return er(Hr.c<=Yr),Hr.V=ar(dn),Hr.V==null?(Hr.Ta=null,Hr.Ua=0,Hr.a=1,0):(Hr.Ta=Hr.V,Hr.Ua=Hr.Ba+en+Yr,1)}function Xs(Hr,Yr){var en=Hr.C,dn=Yr-en,vn=Hr.V,xn=Hr.Ba+Hr.c*en;for(er(Yr<=Hr.l.o);0<dn;){var En=16<dn?16:dn,Pn=Hr.l.ma,Cn=Hr.l.width,Mn=Cn*En,Zn=Pn.ca,cs=Pn.tb+Cn*en,us=Hr.Ta,es=Hr.Ua;Un(Hr,En,vn,xn),Do(us,es,Zn,cs,Mn),_i(Pn,en,en+En,Zn,cs,Cn),dn-=En,vn+=En*Hr.c,en+=En}er(en==Yr),Hr.C=Hr.Ma=Yr}function ro(){this.ub=this.yd=this.td=this.Rb=0}function ao(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _o(){this.Fb=this.Bb=this.Cb=0,this.Zb=ar(4),this.Lb=ar(4)}function Ln(){this.Yb=function(){var Hr=[];return function Yr(en,dn,vn){for(var xn=vn[dn],En=0;En<xn&&(en.push(vn.length>dn+1?[]:0),!(vn.length<dn+1));En++)Yr(en[En],dn+1,vn)}(Hr,0,[3,11]),Hr}()}function is(){this.jb=ar(3),this.Wc=lr([4,8],Ln),this.Xc=lr([4,17],Ln)}function ws(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ar(4),this.od=new ar(4)}function As(){this.ld=this.La=this.dd=this.tc=0}function Fs(){this.Na=this.la=0}function ks(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Os(){this.ad=ar(384),this.Za=0,this.Ob=ar(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Js(){this.uc=this.M=this.Nb=0,this.wa=Array(new As),this.Y=0,this.ya=Array(new Os),this.aa=0,this.l=new Us}function qs(){this.y=ar(16),this.f=ar(8),this.ea=ar(8)}function Ys(){this.cb=this.a=0,this.sc="",this.m=new Wr,this.Od=new ro,this.Kc=new ao,this.ed=new ws,this.Qa=new _o,this.Ic=this.$c=this.Aa=0,this.D=new Js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=sr(8,Wr),this.ia=0,this.pb=sr(4,ks),this.Pa=new is,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qs),this.Hd=0,this.rb=Array(new Fs),this.sb=0,this.wa=Array(new As),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Os),this.L=this.aa=0,this.gd=lr([4,2],As),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Us(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function so(){var Hr=new Ys;return Hr!=null&&(Hr.a=0,Hr.sc="OK",Hr.cb=0,Hr.Xb=0,kp||(kp=Po)),Hr}function Hs(Hr,Yr,en){return Hr.a==0&&(Hr.a=Yr,Hr.sc=en,Hr.cb=0),0}function oo(Hr,Yr,en){return 3<=en&&Hr[Yr+0]==157&&Hr[Yr+1]==1&&Hr[Yr+2]==42}function ho(Hr,Yr){if(Hr==null)return 0;if(Hr.a=0,Hr.sc="OK",Yr==null)return Hs(Hr,2,"null VP8Io passed to VP8GetHeaders()");var en=Yr.data,dn=Yr.w,vn=Yr.ha;if(4>vn)return Hs(Hr,7,"Truncated header.");var xn=en[dn+0]|en[dn+1]<<8|en[dn+2]<<16,En=Hr.Od;if(En.Rb=!(1&xn),En.td=xn>>1&7,En.yd=xn>>4&1,En.ub=xn>>5,3<En.td)return Hs(Hr,3,"Incorrect keyframe parameters.");if(!En.yd)return Hs(Hr,4,"Frame not displayable.");dn+=3,vn-=3;var Pn=Hr.Kc;if(En.Rb){if(7>vn)return Hs(Hr,7,"cannot parse picture header");if(!oo(en,dn,vn))return Hs(Hr,3,"Bad code word");Pn.c=16383&(en[dn+4]<<8|en[dn+3]),Pn.Td=en[dn+4]>>6,Pn.i=16383&(en[dn+6]<<8|en[dn+5]),Pn.Ud=en[dn+6]>>6,dn+=7,vn-=7,Hr.za=Pn.c+15>>4,Hr.Ub=Pn.i+15>>4,Yr.width=Pn.c,Yr.height=Pn.i,Yr.Da=0,Yr.j=0,Yr.v=0,Yr.va=Yr.width,Yr.o=Yr.height,Yr.da=0,Yr.ib=Yr.width,Yr.hb=Yr.height,Yr.U=Yr.width,Yr.T=Yr.height,ir((xn=Hr.Pa).jb,0,255,xn.jb.length),er((xn=Hr.Qa)!=null),xn.Cb=0,xn.Bb=0,xn.Fb=1,ir(xn.Zb,0,0,xn.Zb.length),ir(xn.Lb,0,0,xn.Lb)}if(En.ub>vn)return Hs(Hr,7,"bad partition length");jr(xn=Hr.m,en,dn,En.ub),dn+=En.ub,vn-=En.ub,En.Rb&&(Pn.Ld=Ur(xn),Pn.Kd=Ur(xn)),Pn=Hr.Qa;var Cn,Mn=Hr.Pa;if(er(xn!=null),er(Pn!=null),Pn.Cb=Ur(xn),Pn.Cb){if(Pn.Bb=Ur(xn),Ur(xn)){for(Pn.Fb=Ur(xn),Cn=0;4>Cn;++Cn)Pn.Zb[Cn]=Ur(xn)?Er(xn,7):0;for(Cn=0;4>Cn;++Cn)Pn.Lb[Cn]=Ur(xn)?Er(xn,6):0}if(Pn.Bb)for(Cn=0;3>Cn;++Cn)Mn.jb[Cn]=Ur(xn)?wr(xn,8):255}else Pn.Bb=0;if(xn.Ka)return Hs(Hr,3,"cannot parse segment header");if((Pn=Hr.ed).zd=Ur(xn),Pn.Tb=wr(xn,6),Pn.wb=wr(xn,3),Pn.Pc=Ur(xn),Pn.Pc&&Ur(xn)){for(Mn=0;4>Mn;++Mn)Ur(xn)&&(Pn.vd[Mn]=Er(xn,6));for(Mn=0;4>Mn;++Mn)Ur(xn)&&(Pn.od[Mn]=Er(xn,6))}if(Hr.L=Pn.Tb==0?0:Pn.zd?1:2,xn.Ka)return Hs(Hr,3,"cannot parse filter header");var Zn=vn;if(vn=Cn=dn,dn=Cn+Zn,Pn=Zn,Hr.Xb=(1<<wr(Hr.m,2))-1,Zn<3*(Mn=Hr.Xb))en=7;else{for(Cn+=3*Mn,Pn-=3*Mn,Zn=0;Zn<Mn;++Zn){var cs=en[vn+0]|en[vn+1]<<8|en[vn+2]<<16;cs>Pn&&(cs=Pn),jr(Hr.Jc[+Zn],en,Cn,cs),Cn+=cs,Pn-=cs,vn+=3}jr(Hr.Jc[+Mn],en,Cn,Pn),en=Cn<dn?0:5}if(en!=0)return Hs(Hr,en,"cannot parse partitions");for(en=wr(Cn=Hr.m,7),vn=Ur(Cn)?Er(Cn,4):0,dn=Ur(Cn)?Er(Cn,4):0,Pn=Ur(Cn)?Er(Cn,4):0,Mn=Ur(Cn)?Er(Cn,4):0,Cn=Ur(Cn)?Er(Cn,4):0,Zn=Hr.Qa,cs=0;4>cs;++cs){if(Zn.Cb){var us=Zn.Zb[cs];Zn.Fb||(us+=en)}else{if(0<cs){Hr.pb[cs]=Hr.pb[0];continue}us=en}var es=Hr.pb[cs];es.Sc[0]=Nm[vo(us+vn,127)],es.Sc[1]=Om[vo(us+0,127)],es.Eb[0]=2*Nm[vo(us+dn,127)],es.Eb[1]=101581*Om[vo(us+Pn,127)]>>16,8>es.Eb[1]&&(es.Eb[1]=8),es.Qc[0]=Nm[vo(us+Mn,117)],es.Qc[1]=Om[vo(us+Cn,127)],es.lc=us+Cn}if(!En.Rb)return Hs(Hr,4,"Not a key frame.");for(Ur(xn),En=Hr.Pa,en=0;4>en;++en){for(vn=0;8>vn;++vn)for(dn=0;3>dn;++dn)for(Pn=0;11>Pn;++Pn)Mn=Br(xn,qy[en][vn][dn][Pn])?wr(xn,8):Wy[en][vn][dn][Pn],En.Wc[en][vn].Yb[dn][Pn]=Mn;for(vn=0;17>vn;++vn)En.Xc[en][vn]=En.Wc[en][Gy[vn]]}return Hr.kc=Ur(xn),Hr.kc&&(Hr.Bd=wr(xn,8)),Hr.cb=1}function Po(Hr,Yr,en,dn,vn,xn,En){var Pn=Yr[vn].Yb[en];for(en=0;16>vn;++vn){if(!Br(Hr,Pn[en+0]))return vn;for(;!Br(Hr,Pn[en+1]);)if(Pn=Yr[++vn].Yb[0],en=0,vn==16)return 16;var Cn=Yr[vn+1].Yb;if(Br(Hr,Pn[en+2])){var Mn=Hr,Zn=0;if(Br(Mn,(us=Pn)[(cs=en)+3]))if(Br(Mn,us[cs+6])){for(Pn=0,cs=2*(Zn=Br(Mn,us[cs+8]))+(us=Br(Mn,us[cs+9+Zn])),Zn=0,us=Uy[cs];us[Pn];++Pn)Zn+=Zn+Br(Mn,us[Pn]);Zn+=3+(8<<cs)}else Br(Mn,us[cs+7])?(Zn=7+2*Br(Mn,165),Zn+=Br(Mn,145)):Zn=5+Br(Mn,159);else Zn=Br(Mn,us[cs+4])?3+Br(Mn,us[cs+5]):2;Pn=Cn[2]}else Zn=1,Pn=Cn[1];Cn=En+zy[vn],0>(Mn=Hr).b&&Xr(Mn);var cs,us=Mn.b,es=(cs=Mn.Ca>>1)-(Mn.I>>us)>>31;--Mn.b,Mn.Ca+=es,Mn.Ca|=1,Mn.I-=(cs+1&es)<<us,xn[Cn]=((Zn^es)-es)*dn[(0<vn)+0]}return 16}function Ro(Hr){var Yr=Hr.rb[Hr.sb-1];Yr.la=0,Yr.Na=0,ir(Hr.zc,0,0,Hr.zc.length),Hr.ja=0}function Lo(Hr,Yr){if(Hr==null)return 0;if(Yr==null)return Hs(Hr,2,"NULL VP8Io parameter in VP8Decode().");if(!Hr.cb&&!ho(Hr,Yr))return 0;if(er(Hr.cb),Yr.ac==null||Yr.ac(Yr)){Yr.ob&&(Hr.L=0);var en=rm[Hr.L];if(Hr.L==2?(Hr.yb=0,Hr.zb=0):(Hr.yb=Yr.v-en>>4,Hr.zb=Yr.j-en>>4,0>Hr.yb&&(Hr.yb=0),0>Hr.zb&&(Hr.zb=0)),Hr.Va=Yr.o+15+en>>4,Hr.Hb=Yr.va+15+en>>4,Hr.Hb>Hr.za&&(Hr.Hb=Hr.za),Hr.Va>Hr.Ub&&(Hr.Va=Hr.Ub),0<Hr.L){var dn=Hr.ed;for(en=0;4>en;++en){var vn;if(Hr.Qa.Cb){var xn=Hr.Qa.Lb[en];Hr.Qa.Fb||(xn+=dn.Tb)}else xn=dn.Tb;for(vn=0;1>=vn;++vn){var En=Hr.gd[en][vn],Pn=xn;if(dn.Pc&&(Pn+=dn.vd[0],vn&&(Pn+=dn.od[0])),0<(Pn=0>Pn?0:63<Pn?63:Pn)){var Cn=Pn;0<dn.wb&&(Cn=4<dn.wb?Cn>>2:Cn>>1)>9-dn.wb&&(Cn=9-dn.wb),1>Cn&&(Cn=1),En.dd=Cn,En.tc=2*Pn+Cn,En.ld=40<=Pn?2:15<=Pn?1:0}else En.tc=0;En.La=vn}}}en=0}else Hs(Hr,6,"Frame setup failed"),en=Hr.a;if(en=en==0){if(en){Hr.$c=0,0<Hr.Aa||(Hr.Ic=sv);e:{en=Hr.Ic,dn=4*(Cn=Hr.za);var Mn=32*Cn,Zn=Cn+1,cs=0<Hr.L?Cn*(0<Hr.Aa?2:1):0,us=(Hr.Aa==2?2:1)*Cn;if((En=dn+832+(vn=3*(16*en+rm[Hr.L])/2*Mn)+(xn=Hr.Fa!=null&&0<Hr.Fa.length?Hr.Kc.c*Hr.Kc.i:0))!=En)en=0;else{if(En>Hr.Vb){if(Hr.Vb=0,Hr.Ec=ar(En),Hr.Fc=0,Hr.Ec==null){en=Hs(Hr,1,"no memory during frame initialization.");break e}Hr.Vb=En}En=Hr.Ec,Pn=Hr.Fc,Hr.Ac=En,Hr.Bc=Pn,Pn+=dn,Hr.Gd=sr(Mn,qs),Hr.Hd=0,Hr.rb=sr(Zn+1,Fs),Hr.sb=1,Hr.wa=cs?sr(cs,As):null,Hr.Y=0,Hr.D.Nb=0,Hr.D.wa=Hr.wa,Hr.D.Y=Hr.Y,0<Hr.Aa&&(Hr.D.Y+=Cn),er(!0),Hr.oc=En,Hr.pc=Pn,Pn+=832,Hr.ya=sr(us,Os),Hr.aa=0,Hr.D.ya=Hr.ya,Hr.D.aa=Hr.aa,Hr.Aa==2&&(Hr.D.aa+=Cn),Hr.R=16*Cn,Hr.B=8*Cn,Cn=(Mn=rm[Hr.L])*Hr.R,Mn=Mn/2*Hr.B,Hr.sa=En,Hr.ta=Pn+Cn,Hr.qa=Hr.sa,Hr.ra=Hr.ta+16*en*Hr.R+Mn,Hr.Ha=Hr.qa,Hr.Ia=Hr.ra+8*en*Hr.B+Mn,Hr.$c=0,Pn+=vn,Hr.mb=xn?En:null,Hr.nb=xn?Pn:null,er(Pn+xn<=Hr.Fc+Hr.Vb),Ro(Hr),ir(Hr.Ac,Hr.Bc,0,dn),en=1}}if(en){if(Yr.ka=0,Yr.y=Hr.sa,Yr.O=Hr.ta,Yr.f=Hr.qa,Yr.N=Hr.ra,Yr.ea=Hr.Ha,Yr.Vd=Hr.Ia,Yr.fa=Hr.R,Yr.Rc=Hr.B,Yr.F=null,Yr.J=0,!Gp){for(en=-255;255>=en;++en)Uo[255+en]=0>en?-en:en;for(en=-1020;1020>=en;++en)pu[1020+en]=-128>en?-128:127<en?127:en;for(en=-112;112>=en;++en)Rp[112+en]=-16>en?-16:15<en?15:en;for(en=-255;510>=en;++en)dp[255+en]=0>en?0:255<en?255:en;Gp=1}lp=ps,fu=Qs,Ap=zo,xl=lo,Ll=Qo,Mo=no,cp=Eu,qp=Yl,Tp=Au,Yu=Ku,Qu=Su,Nu=lu,Zu=Tu,up=ru,Ju=ou,Ou=Cl,Pp=Vo,Fl=tp,Jl[0]=Ml,Jl[1]=zs,Jl[2]=yl,Jl[3]=eu,Jl[4]=_f,Jl[5]=vu,Jl[6]=Pl,Jl[7]=Uu,Jl[8]=xu,Jl[9]=_u,$u[0]=Jo,$u[1]=xo,$u[2]=fo,$u[3]=mo,$u[4]=wo,$u[5]=Gl,$u[6]=$l,mu[0]=Xl,mu[1]=Zs,mu[2]=ep,mu[3]=Kl,mu[4]=bo,mu[5]=zu,mu[6]=Wu,en=1}else en=0}en&&(en=function(es,Ts){for(es.M=0;es.M<es.Va;++es.M){var bs,Jn=es.Jc[es.M&es.Xb],na=es.m,Es=es;for(bs=0;bs<Es.za;++bs){var Ps=na,Ss=Es,Vs=Ss.Ac,Ms=Ss.Bc+4*bs,Gs=Ss.zc,Bs=Ss.ya[Ss.aa+bs];if(Ss.Qa.Bb?Bs.$b=Br(Ps,Ss.Pa.jb[0])?2+Br(Ps,Ss.Pa.jb[2]):Br(Ps,Ss.Pa.jb[1]):Bs.$b=0,Ss.kc&&(Bs.Ad=Br(Ps,Ss.Bd)),Bs.Za=!Br(Ps,145)+0,Bs.Za){var yo=Bs.Ob,Eo=0;for(Ss=0;4>Ss;++Ss){var po,uo=Gs[0+Ss];for(po=0;4>po;++po){uo=Hy[Vs[Ms+po]][uo];for(var Co=k0[Br(Ps,uo[0])];0<Co;)Co=k0[2*Co+Br(Ps,uo[Co])];uo=-Co,Vs[Ms+po]=uo}nr(yo,Eo,Vs,Ms,4),Eo+=4,Gs[0+Ss]=uo}}else uo=Br(Ps,156)?Br(Ps,128)?1:3:Br(Ps,163)?2:0,Bs.Ob[0]=uo,ir(Vs,Ms,uo,4),ir(Gs,0,uo,4);Bs.Dd=Br(Ps,142)?Br(Ps,114)?Br(Ps,183)?1:3:2:0}if(Es.m.Ka)return Hs(es,7,"Premature end-of-partition0 encountered.");for(;es.ja<es.za;++es.ja){if(Es=Jn,Ps=(na=es).rb[na.sb-1],Vs=na.rb[na.sb+na.ja],bs=na.ya[na.aa+na.ja],Ms=na.kc?bs.Ad:0)Ps.la=Vs.la=0,bs.Za||(Ps.Na=Vs.Na=0),bs.Hc=0,bs.Gc=0,bs.ia=0;else{var To,io;if(Ps=Vs,Vs=Es,Ms=na.Pa.Xc,Gs=na.ya[na.aa+na.ja],Bs=na.pb[Gs.$b],Ss=Gs.ad,yo=0,Eo=na.rb[na.sb-1],uo=po=0,ir(Ss,yo,0,384),Gs.Za)var Fo=0,Al=Ms[3];else{Co=ar(16);var Bo=Ps.Na+Eo.Na;if(Bo=kp(Vs,Ms[1],Bo,Bs.Eb,0,Co,0),Ps.Na=Eo.Na=(0<Bo)+0,1<Bo)lp(Co,0,Ss,yo);else{var Tl=Co[0]+3>>3;for(Co=0;256>Co;Co+=16)Ss[yo+Co]=Tl}Fo=1,Al=Ms[0]}var So=15&Ps.la,Nl=15&Eo.la;for(Co=0;4>Co;++Co){var Ol=1&Nl;for(Tl=io=0;4>Tl;++Tl)So=So>>1|(Ol=(Bo=kp(Vs,Al,Bo=Ol+(1&So),Bs.Sc,Fo,Ss,yo))>Fo)<<7,io=io<<2|(3<Bo?3:1<Bo?2:Ss[yo+0]!=0),yo+=16;So>>=4,Nl=Nl>>1|Ol<<7,po=(po<<8|io)>>>0}for(Al=So,Fo=Nl>>4,To=0;4>To;To+=2){for(io=0,So=Ps.la>>4+To,Nl=Eo.la>>4+To,Co=0;2>Co;++Co){for(Ol=1&Nl,Tl=0;2>Tl;++Tl)Bo=Ol+(1&So),So=So>>1|(Ol=0<(Bo=kp(Vs,Ms[2],Bo,Bs.Qc,0,Ss,yo)))<<3,io=io<<2|(3<Bo?3:1<Bo?2:Ss[yo+0]!=0),yo+=16;So>>=2,Nl=Nl>>1|Ol<<5}uo|=io<<4*To,Al|=So<<4<<To,Fo|=(240&Nl)<<To}Ps.la=Al,Eo.la=Fo,Gs.Hc=po,Gs.Gc=uo,Gs.ia=43690&uo?0:Bs.ia,Ms=!(po|uo)}if(0<na.L&&(na.wa[na.Y+na.ja]=na.gd[bs.$b][bs.Za],na.wa[na.Y+na.ja].La|=!Ms),Es.Ka)return Hs(es,7,"Premature end-of-file encountered.")}if(Ro(es),na=Ts,Es=1,bs=(Jn=es).D,Ps=0<Jn.L&&Jn.M>=Jn.zb&&Jn.M<=Jn.Va,Jn.Aa==0)e:{if(bs.M=Jn.M,bs.uc=Ps,iu(Jn,bs),Es=1,bs=(io=Jn.D).Nb,Ps=(uo=rm[Jn.L])*Jn.R,Vs=uo/2*Jn.B,Co=16*bs*Jn.R,Tl=8*bs*Jn.B,Ms=Jn.sa,Gs=Jn.ta-Ps+Co,Bs=Jn.qa,Ss=Jn.ra-Vs+Tl,yo=Jn.Ha,Eo=Jn.Ia-Vs+Tl,Nl=(So=io.M)==0,po=So>=Jn.Va-1,Jn.Aa==2&&iu(Jn,io),io.uc)for(Ol=(Bo=Jn).D.M,er(Bo.D.uc),io=Bo.yb;io<Bo.Hb;++io){Fo=io,Al=Ol;var Wo=(Yo=($o=Bo).D).Nb;To=$o.R;var Yo=Yo.wa[Yo.Y+Fo],wl=$o.sa,zl=$o.ta+16*Wo*To+16*Fo,su=Yo.dd,Ho=Yo.tc;if(Ho!=0)if(er(3<=Ho),$o.L==1)0<Fo&&Ou(wl,zl,To,Ho+4),Yo.La&&Fl(wl,zl,To,Ho),0<Al&&Ju(wl,zl,To,Ho+4),Yo.La&&Pp(wl,zl,To,Ho);else{var gu=$o.B,_d=$o.qa,hp=$o.ra+8*Wo*gu+8*Fo,Du=$o.Ha,$o=$o.Ia+8*Wo*gu+8*Fo;Wo=Yo.ld,0<Fo&&(qp(wl,zl,To,Ho+4,su,Wo),Yu(_d,hp,Du,$o,gu,Ho+4,su,Wo)),Yo.La&&(Nu(wl,zl,To,Ho,su,Wo),up(_d,hp,Du,$o,gu,Ho,su,Wo)),0<Al&&(cp(wl,zl,To,Ho+4,su,Wo),Tp(_d,hp,Du,$o,gu,Ho+4,su,Wo)),Yo.La&&(Qu(wl,zl,To,Ho,su,Wo),Zu(_d,hp,Du,$o,gu,Ho,su,Wo))}}if(Jn.ia&&alert("todo:DitherRow"),na.put!=null){if(io=16*So,So=16*(So+1),Nl?(na.y=Jn.sa,na.O=Jn.ta+Co,na.f=Jn.qa,na.N=Jn.ra+Tl,na.ea=Jn.Ha,na.W=Jn.Ia+Tl):(io-=uo,na.y=Ms,na.O=Gs,na.f=Bs,na.N=Ss,na.ea=yo,na.W=Eo),po||(So-=uo),So>na.o&&(So=na.o),na.F=null,na.J=null,Jn.Fa!=null&&0<Jn.Fa.length&&io<So&&(na.J=Cu(Jn,na,io,So-io),na.F=Jn.mb,na.F==null&&na.F.length==0)){Es=Hs(Jn,3,"Could not decode alpha data.");break e}io<na.j&&(uo=na.j-io,io=na.j,er(!(1&uo)),na.O+=Jn.R*uo,na.N+=Jn.B*(uo>>1),na.W+=Jn.B*(uo>>1),na.F!=null&&(na.J+=na.width*uo)),io<So&&(na.O+=na.v,na.N+=na.v>>1,na.W+=na.v>>1,na.F!=null&&(na.J+=na.v),na.ka=io-na.j,na.U=na.va-na.v,na.T=So-io,Es=na.put(na))}bs+1!=Jn.Ic||po||(nr(Jn.sa,Jn.ta-Ps,Ms,Gs+16*Jn.R,Ps),nr(Jn.qa,Jn.ra-Vs,Bs,Ss+8*Jn.B,Vs),nr(Jn.Ha,Jn.Ia-Vs,yo,Eo+8*Jn.B,Vs))}if(!Es)return Hs(es,6,"Output aborted.")}return 1}(Hr,Yr)),Yr.bc!=null&&Yr.bc(Yr),en&=1}return en?(Hr.cb=0,en):0}function jo(Hr,Yr,en,dn,vn){vn=Hr[Yr+en+32*dn]+(vn>>3),Hr[Yr+en+32*dn]=-256&vn?0>vn?0:255:vn}function qo(Hr,Yr,en,dn,vn,xn){jo(Hr,Yr,0,en,dn+vn),jo(Hr,Yr,1,en,dn+xn),jo(Hr,Yr,2,en,dn-xn),jo(Hr,Yr,3,en,dn-vn)}function go(Hr){return(20091*Hr>>16)+Hr}function Oo(Hr,Yr,en,dn){var vn,xn=0,En=ar(16);for(vn=0;4>vn;++vn){var Pn=Hr[Yr+0]+Hr[Yr+8],Cn=Hr[Yr+0]-Hr[Yr+8],Mn=(35468*Hr[Yr+4]>>16)-go(Hr[Yr+12]),Zn=go(Hr[Yr+4])+(35468*Hr[Yr+12]>>16);En[xn+0]=Pn+Zn,En[xn+1]=Cn+Mn,En[xn+2]=Cn-Mn,En[xn+3]=Pn-Zn,xn+=4,Yr++}for(vn=xn=0;4>vn;++vn)Pn=(Hr=En[xn+0]+4)+En[xn+8],Cn=Hr-En[xn+8],Mn=(35468*En[xn+4]>>16)-go(En[xn+12]),jo(en,dn,0,0,Pn+(Zn=go(En[xn+4])+(35468*En[xn+12]>>16))),jo(en,dn,1,0,Cn+Mn),jo(en,dn,2,0,Cn-Mn),jo(en,dn,3,0,Pn-Zn),xn++,dn+=32}function no(Hr,Yr,en,dn){var vn=Hr[Yr+0]+4,xn=35468*Hr[Yr+4]>>16,En=go(Hr[Yr+4]),Pn=35468*Hr[Yr+1]>>16;qo(en,dn,0,vn+En,Hr=go(Hr[Yr+1]),Pn),qo(en,dn,1,vn+xn,Hr,Pn),qo(en,dn,2,vn-xn,Hr,Pn),qo(en,dn,3,vn-En,Hr,Pn)}function Qs(Hr,Yr,en,dn,vn){Oo(Hr,Yr,en,dn),vn&&Oo(Hr,Yr+16,en,dn+4)}function zo(Hr,Yr,en,dn){fu(Hr,Yr+0,en,dn,1),fu(Hr,Yr+32,en,dn+128,1)}function lo(Hr,Yr,en,dn){var vn;for(Hr=Hr[Yr+0]+4,vn=0;4>vn;++vn)for(Yr=0;4>Yr;++Yr)jo(en,dn,Yr,vn,Hr)}function Qo(Hr,Yr,en,dn){Hr[Yr+0]&&xl(Hr,Yr+0,en,dn),Hr[Yr+16]&&xl(Hr,Yr+16,en,dn+4),Hr[Yr+32]&&xl(Hr,Yr+32,en,dn+128),Hr[Yr+48]&&xl(Hr,Yr+48,en,dn+128+4)}function ps(Hr,Yr,en,dn){var vn,xn=ar(16);for(vn=0;4>vn;++vn){var En=Hr[Yr+0+vn]+Hr[Yr+12+vn],Pn=Hr[Yr+4+vn]+Hr[Yr+8+vn],Cn=Hr[Yr+4+vn]-Hr[Yr+8+vn],Mn=Hr[Yr+0+vn]-Hr[Yr+12+vn];xn[0+vn]=En+Pn,xn[8+vn]=En-Pn,xn[4+vn]=Mn+Cn,xn[12+vn]=Mn-Cn}for(vn=0;4>vn;++vn)En=(Hr=xn[0+4*vn]+3)+xn[3+4*vn],Pn=xn[1+4*vn]+xn[2+4*vn],Cn=xn[1+4*vn]-xn[2+4*vn],Mn=Hr-xn[3+4*vn],en[dn+0]=En+Pn>>3,en[dn+16]=Mn+Cn>>3,en[dn+32]=En-Pn>>3,en[dn+48]=Mn-Cn>>3,dn+=64}function js(Hr,Yr,en){var dn,vn=Yr-32,xn=Il,En=255-Hr[vn-1];for(dn=0;dn<en;++dn){var Pn,Cn=xn,Mn=En+Hr[Yr-1];for(Pn=0;Pn<en;++Pn)Hr[Yr+Pn]=Cn[Mn+Hr[vn+Pn]];Yr+=32}}function zs(Hr,Yr){js(Hr,Yr,4)}function Zs(Hr,Yr){js(Hr,Yr,8)}function xo(Hr,Yr){js(Hr,Yr,16)}function fo(Hr,Yr){var en;for(en=0;16>en;++en)nr(Hr,Yr+32*en,Hr,Yr-32,16)}function mo(Hr,Yr){var en;for(en=16;0<en;--en)ir(Hr,Yr,Hr[Yr-1],16),Yr+=32}function Hl(Hr,Yr,en){var dn;for(dn=0;16>dn;++dn)ir(Yr,en+32*dn,Hr,16)}function Jo(Hr,Yr){var en,dn=16;for(en=0;16>en;++en)dn+=Hr[Yr-1+32*en]+Hr[Yr+en-32];Hl(dn>>5,Hr,Yr)}function wo(Hr,Yr){var en,dn=8;for(en=0;16>en;++en)dn+=Hr[Yr-1+32*en];Hl(dn>>4,Hr,Yr)}function Gl(Hr,Yr){var en,dn=8;for(en=0;16>en;++en)dn+=Hr[Yr+en-32];Hl(dn>>4,Hr,Yr)}function $l(Hr,Yr){Hl(128,Hr,Yr)}function Ks(Hr,Yr,en){return Hr+2*Yr+en+2>>2}function yl(Hr,Yr){var en,dn=Yr-32;for(dn=new Uint8Array([Ks(Hr[dn-1],Hr[dn+0],Hr[dn+1]),Ks(Hr[dn+0],Hr[dn+1],Hr[dn+2]),Ks(Hr[dn+1],Hr[dn+2],Hr[dn+3]),Ks(Hr[dn+2],Hr[dn+3],Hr[dn+4])]),en=0;4>en;++en)nr(Hr,Yr+32*en,dn,0,dn.length)}function eu(Hr,Yr){var en=Hr[Yr-1],dn=Hr[Yr-1+32],vn=Hr[Yr-1+64],xn=Hr[Yr-1+96];Kr(Hr,Yr+0,16843009*Ks(Hr[Yr-1-32],en,dn)),Kr(Hr,Yr+32,16843009*Ks(en,dn,vn)),Kr(Hr,Yr+64,16843009*Ks(dn,vn,xn)),Kr(Hr,Yr+96,16843009*Ks(vn,xn,xn))}function Ml(Hr,Yr){var en,dn=4;for(en=0;4>en;++en)dn+=Hr[Yr+en-32]+Hr[Yr-1+32*en];for(dn>>=3,en=0;4>en;++en)ir(Hr,Yr+32*en,dn,4)}function _f(Hr,Yr){var en=Hr[Yr-1+0],dn=Hr[Yr-1+32],vn=Hr[Yr-1+64],xn=Hr[Yr-1-32],En=Hr[Yr+0-32],Pn=Hr[Yr+1-32],Cn=Hr[Yr+2-32],Mn=Hr[Yr+3-32];Hr[Yr+0+96]=Ks(dn,vn,Hr[Yr-1+96]),Hr[Yr+1+96]=Hr[Yr+0+64]=Ks(en,dn,vn),Hr[Yr+2+96]=Hr[Yr+1+64]=Hr[Yr+0+32]=Ks(xn,en,dn),Hr[Yr+3+96]=Hr[Yr+2+64]=Hr[Yr+1+32]=Hr[Yr+0+0]=Ks(En,xn,en),Hr[Yr+3+64]=Hr[Yr+2+32]=Hr[Yr+1+0]=Ks(Pn,En,xn),Hr[Yr+3+32]=Hr[Yr+2+0]=Ks(Cn,Pn,En),Hr[Yr+3+0]=Ks(Mn,Cn,Pn)}function Pl(Hr,Yr){var en=Hr[Yr+1-32],dn=Hr[Yr+2-32],vn=Hr[Yr+3-32],xn=Hr[Yr+4-32],En=Hr[Yr+5-32],Pn=Hr[Yr+6-32],Cn=Hr[Yr+7-32];Hr[Yr+0+0]=Ks(Hr[Yr+0-32],en,dn),Hr[Yr+1+0]=Hr[Yr+0+32]=Ks(en,dn,vn),Hr[Yr+2+0]=Hr[Yr+1+32]=Hr[Yr+0+64]=Ks(dn,vn,xn),Hr[Yr+3+0]=Hr[Yr+2+32]=Hr[Yr+1+64]=Hr[Yr+0+96]=Ks(vn,xn,En),Hr[Yr+3+32]=Hr[Yr+2+64]=Hr[Yr+1+96]=Ks(xn,En,Pn),Hr[Yr+3+64]=Hr[Yr+2+96]=Ks(En,Pn,Cn),Hr[Yr+3+96]=Ks(Pn,Cn,Cn)}function vu(Hr,Yr){var en=Hr[Yr-1+0],dn=Hr[Yr-1+32],vn=Hr[Yr-1+64],xn=Hr[Yr-1-32],En=Hr[Yr+0-32],Pn=Hr[Yr+1-32],Cn=Hr[Yr+2-32],Mn=Hr[Yr+3-32];Hr[Yr+0+0]=Hr[Yr+1+64]=xn+En+1>>1,Hr[Yr+1+0]=Hr[Yr+2+64]=En+Pn+1>>1,Hr[Yr+2+0]=Hr[Yr+3+64]=Pn+Cn+1>>1,Hr[Yr+3+0]=Cn+Mn+1>>1,Hr[Yr+0+96]=Ks(vn,dn,en),Hr[Yr+0+64]=Ks(dn,en,xn),Hr[Yr+0+32]=Hr[Yr+1+96]=Ks(en,xn,En),Hr[Yr+1+32]=Hr[Yr+2+96]=Ks(xn,En,Pn),Hr[Yr+2+32]=Hr[Yr+3+96]=Ks(En,Pn,Cn),Hr[Yr+3+32]=Ks(Pn,Cn,Mn)}function Uu(Hr,Yr){var en=Hr[Yr+0-32],dn=Hr[Yr+1-32],vn=Hr[Yr+2-32],xn=Hr[Yr+3-32],En=Hr[Yr+4-32],Pn=Hr[Yr+5-32],Cn=Hr[Yr+6-32],Mn=Hr[Yr+7-32];Hr[Yr+0+0]=en+dn+1>>1,Hr[Yr+1+0]=Hr[Yr+0+64]=dn+vn+1>>1,Hr[Yr+2+0]=Hr[Yr+1+64]=vn+xn+1>>1,Hr[Yr+3+0]=Hr[Yr+2+64]=xn+En+1>>1,Hr[Yr+0+32]=Ks(en,dn,vn),Hr[Yr+1+32]=Hr[Yr+0+96]=Ks(dn,vn,xn),Hr[Yr+2+32]=Hr[Yr+1+96]=Ks(vn,xn,En),Hr[Yr+3+32]=Hr[Yr+2+96]=Ks(xn,En,Pn),Hr[Yr+3+64]=Ks(En,Pn,Cn),Hr[Yr+3+96]=Ks(Pn,Cn,Mn)}function _u(Hr,Yr){var en=Hr[Yr-1+0],dn=Hr[Yr-1+32],vn=Hr[Yr-1+64],xn=Hr[Yr-1+96];Hr[Yr+0+0]=en+dn+1>>1,Hr[Yr+2+0]=Hr[Yr+0+32]=dn+vn+1>>1,Hr[Yr+2+32]=Hr[Yr+0+64]=vn+xn+1>>1,Hr[Yr+1+0]=Ks(en,dn,vn),Hr[Yr+3+0]=Hr[Yr+1+32]=Ks(dn,vn,xn),Hr[Yr+3+32]=Hr[Yr+1+64]=Ks(vn,xn,xn),Hr[Yr+3+64]=Hr[Yr+2+64]=Hr[Yr+0+96]=Hr[Yr+1+96]=Hr[Yr+2+96]=Hr[Yr+3+96]=xn}function xu(Hr,Yr){var en=Hr[Yr-1+0],dn=Hr[Yr-1+32],vn=Hr[Yr-1+64],xn=Hr[Yr-1+96],En=Hr[Yr-1-32],Pn=Hr[Yr+0-32],Cn=Hr[Yr+1-32],Mn=Hr[Yr+2-32];Hr[Yr+0+0]=Hr[Yr+2+32]=en+En+1>>1,Hr[Yr+0+32]=Hr[Yr+2+64]=dn+en+1>>1,Hr[Yr+0+64]=Hr[Yr+2+96]=vn+dn+1>>1,Hr[Yr+0+96]=xn+vn+1>>1,Hr[Yr+3+0]=Ks(Pn,Cn,Mn),Hr[Yr+2+0]=Ks(En,Pn,Cn),Hr[Yr+1+0]=Hr[Yr+3+32]=Ks(en,En,Pn),Hr[Yr+1+32]=Hr[Yr+3+64]=Ks(dn,en,En),Hr[Yr+1+64]=Hr[Yr+3+96]=Ks(vn,dn,en),Hr[Yr+1+96]=Ks(xn,vn,dn)}function ep(Hr,Yr){var en;for(en=0;8>en;++en)nr(Hr,Yr+32*en,Hr,Yr-32,8)}function Kl(Hr,Yr){var en;for(en=0;8>en;++en)ir(Hr,Yr,Hr[Yr-1],8),Yr+=32}function Rl(Hr,Yr,en){var dn;for(dn=0;8>dn;++dn)ir(Yr,en+32*dn,Hr,8)}function Xl(Hr,Yr){var en,dn=8;for(en=0;8>en;++en)dn+=Hr[Yr+en-32]+Hr[Yr-1+32*en];Rl(dn>>4,Hr,Yr)}function zu(Hr,Yr){var en,dn=4;for(en=0;8>en;++en)dn+=Hr[Yr+en-32];Rl(dn>>3,Hr,Yr)}function bo(Hr,Yr){var en,dn=4;for(en=0;8>en;++en)dn+=Hr[Yr-1+32*en];Rl(dn>>3,Hr,Yr)}function Wu(Hr,Yr){Rl(128,Hr,Yr)}function wu(Hr,Yr,en){var dn=Hr[Yr-en],vn=Hr[Yr+0],xn=3*(vn-dn)+Rm[1020+Hr[Yr-2*en]-Hr[Yr+en]],En=Kp[112+(xn+4>>3)];Hr[Yr-en]=Il[255+dn+Kp[112+(xn+3>>3)]],Hr[Yr+0]=Il[255+vn-En]}function Hu(Hr,Yr,en,dn){var vn=Hr[Yr+0],xn=Hr[Yr+en];return Vl[255+Hr[Yr-2*en]-Hr[Yr-en]]>dn||Vl[255+xn-vn]>dn}function qu(Hr,Yr,en,dn){return 4*Vl[255+Hr[Yr-en]-Hr[Yr+0]]+Vl[255+Hr[Yr-2*en]-Hr[Yr+en]]<=dn}function Gu(Hr,Yr,en,dn,vn){var xn=Hr[Yr-3*en],En=Hr[Yr-2*en],Pn=Hr[Yr-en],Cn=Hr[Yr+0],Mn=Hr[Yr+en],Zn=Hr[Yr+2*en],cs=Hr[Yr+3*en];return 4*Vl[255+Pn-Cn]+Vl[255+En-Mn]>dn?0:Vl[255+Hr[Yr-4*en]-xn]<=vn&&Vl[255+xn-En]<=vn&&Vl[255+En-Pn]<=vn&&Vl[255+cs-Zn]<=vn&&Vl[255+Zn-Mn]<=vn&&Vl[255+Mn-Cn]<=vn}function ou(Hr,Yr,en,dn){var vn=2*dn+1;for(dn=0;16>dn;++dn)qu(Hr,Yr+dn,en,vn)&&wu(Hr,Yr+dn,en)}function Cl(Hr,Yr,en,dn){var vn=2*dn+1;for(dn=0;16>dn;++dn)qu(Hr,Yr+dn*en,1,vn)&&wu(Hr,Yr+dn*en,1)}function Vo(Hr,Yr,en,dn){var vn;for(vn=3;0<vn;--vn)ou(Hr,Yr+=4*en,en,dn)}function tp(Hr,Yr,en,dn){var vn;for(vn=3;0<vn;--vn)Cl(Hr,Yr+=4,en,dn)}function tu(Hr,Yr,en,dn,vn,xn,En,Pn){for(xn=2*xn+1;0<vn--;){if(Gu(Hr,Yr,en,xn,En))if(Hu(Hr,Yr,en,Pn))wu(Hr,Yr,en);else{var Cn=Hr,Mn=Yr,Zn=en,cs=Cn[Mn-2*Zn],us=Cn[Mn-Zn],es=Cn[Mn+0],Ts=Cn[Mn+Zn],bs=Cn[Mn+2*Zn],Jn=27*(Es=Rm[1020+3*(es-us)+Rm[1020+cs-Ts]])+63>>7,na=18*Es+63>>7,Es=9*Es+63>>7;Cn[Mn-3*Zn]=Il[255+Cn[Mn-3*Zn]+Es],Cn[Mn-2*Zn]=Il[255+cs+na],Cn[Mn-Zn]=Il[255+us+Jn],Cn[Mn+0]=Il[255+es-Jn],Cn[Mn+Zn]=Il[255+Ts-na],Cn[Mn+2*Zn]=Il[255+bs-Es]}Yr+=dn}}function Go(Hr,Yr,en,dn,vn,xn,En,Pn){for(xn=2*xn+1;0<vn--;){if(Gu(Hr,Yr,en,xn,En))if(Hu(Hr,Yr,en,Pn))wu(Hr,Yr,en);else{var Cn=Hr,Mn=Yr,Zn=en,cs=Cn[Mn-Zn],us=Cn[Mn+0],es=Cn[Mn+Zn],Ts=Kp[112+((bs=3*(us-cs))+4>>3)],bs=Kp[112+(bs+3>>3)],Jn=Ts+1>>1;Cn[Mn-2*Zn]=Il[255+Cn[Mn-2*Zn]+Jn],Cn[Mn-Zn]=Il[255+cs+bs],Cn[Mn+0]=Il[255+us-Ts],Cn[Mn+Zn]=Il[255+es-Jn]}Yr+=dn}}function Eu(Hr,Yr,en,dn,vn,xn){tu(Hr,Yr,en,1,16,dn,vn,xn)}function Yl(Hr,Yr,en,dn,vn,xn){tu(Hr,Yr,1,en,16,dn,vn,xn)}function Su(Hr,Yr,en,dn,vn,xn){var En;for(En=3;0<En;--En)Go(Hr,Yr+=4*en,en,1,16,dn,vn,xn)}function lu(Hr,Yr,en,dn,vn,xn){var En;for(En=3;0<En;--En)Go(Hr,Yr+=4,1,en,16,dn,vn,xn)}function Au(Hr,Yr,en,dn,vn,xn,En,Pn){tu(Hr,Yr,vn,1,8,xn,En,Pn),tu(en,dn,vn,1,8,xn,En,Pn)}function Ku(Hr,Yr,en,dn,vn,xn,En,Pn){tu(Hr,Yr,1,vn,8,xn,En,Pn),tu(en,dn,1,vn,8,xn,En,Pn)}function Tu(Hr,Yr,en,dn,vn,xn,En,Pn){Go(Hr,Yr+4*vn,vn,1,8,xn,En,Pn),Go(en,dn+4*vn,vn,1,8,xn,En,Pn)}function ru(Hr,Yr,en,dn,vn,xn,En,Pn){Go(Hr,Yr+4,1,vn,8,xn,En,Pn),Go(en,dn+4,1,vn,8,xn,En,Pn)}function cu(){this.ba=new kn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xa,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function uu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ru(){this.ua=0,this.Wa=new Jr,this.vb=new Jr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Mr,this.yc=new Or}function rp(){this.xb=this.a=0,this.l=new Us,this.ca=new kn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $r,this.Pb=0,this.wd=new $r,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ru,this.ab=0,this.gc=sr(4,uu),this.Oc=0}function Ql(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Us,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nu(Hr,Yr,en,dn,vn,xn,En){for(Hr=Hr==null?0:Hr[Yr+0],Yr=0;Yr<En;++Yr)vn[xn+Yr]=Hr+en[dn+Yr]&255,Hr=vn[xn+Yr]}function ku(Hr,Yr,en,dn,vn,xn,En){var Pn;if(Hr==null)nu(null,null,en,dn,vn,xn,En);else for(Pn=0;Pn<En;++Pn)vn[xn+Pn]=Hr[Yr+Pn]+en[dn+Pn]&255}function Zo(Hr,Yr,en,dn,vn,xn,En){if(Hr==null)nu(null,null,en,dn,vn,xn,En);else{var Pn,Cn=Hr[Yr+0],Mn=Cn,Zn=Cn;for(Pn=0;Pn<En;++Pn)Mn=Zn+(Cn=Hr[Yr+Pn])-Mn,Zn=en[dn+Pn]+(-256&Mn?0>Mn?0:255:Mn)&255,Mn=Cn,vn[xn+Pn]=Zn}}function Cu(Hr,Yr,en,dn){var vn=Yr.width,xn=Yr.o;if(er(Hr!=null&&Yr!=null),0>en||0>=dn||en+dn>xn)return null;if(!Hr.Cc){if(Hr.ga==null){var En;if(Hr.ga=new Ql,(En=Hr.ga==null)||(En=Yr.width*Yr.o,er(Hr.Gb.length==0),Hr.Gb=ar(En),Hr.Uc=0,Hr.Gb==null?En=0:(Hr.mb=Hr.Gb,Hr.nb=Hr.Uc,Hr.rc=null,En=1),En=!En),!En){En=Hr.ga;var Pn=Hr.Fa,Cn=Hr.P,Mn=Hr.qc,Zn=Hr.mb,cs=Hr.nb,us=Cn+1,es=Mn-1,Ts=En.l;if(er(Pn!=null&&Zn!=null&&Yr!=null),Mu[0]=null,Mu[1]=nu,Mu[2]=ku,Mu[3]=Zo,En.ca=Zn,En.tb=cs,En.c=Yr.width,En.i=Yr.height,er(0<En.c&&0<En.i),1>=Mn)Yr=0;else if(En.$a=Pn[Cn+0]>>0&3,En.Z=Pn[Cn+0]>>2&3,En.Lc=Pn[Cn+0]>>4&3,Cn=Pn[Cn+0]>>6&3,0>En.$a||1<En.$a||4<=En.Z||1<En.Lc||Cn)Yr=0;else if(Ts.put=wn,Ts.ac=An,Ts.bc=Nn,Ts.ma=En,Ts.width=Yr.width,Ts.height=Yr.height,Ts.Da=Yr.Da,Ts.v=Yr.v,Ts.va=Yr.va,Ts.j=Yr.j,Ts.o=Yr.o,En.$a)e:{er(En.$a==1),Yr=Rs();t:for(;;){if(Yr==null){Yr=0;break e}if(er(En!=null),En.mc=Yr,Yr.c=En.c,Yr.i=En.i,Yr.l=En.l,Yr.l.ma=En,Yr.l.width=En.c,Yr.l.height=En.i,Yr.a=0,Ar(Yr.m,Pn,us,es),!Ls(En.c,En.i,1,Yr,null)||(Yr.ab==1&&Yr.gc[0].hc==3&&Kn(Yr.s)?(En.ic=1,Pn=Yr.c*Yr.i,Yr.Ta=null,Yr.Ua=0,Yr.V=ar(Pn),Yr.Ba=0,Yr.V==null?(Yr.a=1,Yr=0):Yr=1):(En.ic=0,Yr=Ws(Yr,En.c)),!Yr))break t;Yr=1;break e}En.mc=null,Yr=0}else Yr=es>=En.c*En.i;En=!Yr}if(En)return null;Hr.ga.Lc!=1?Hr.Ga=0:dn=xn-en}er(Hr.ga!=null),er(en+dn<=xn);e:{if(Yr=(Pn=Hr.ga).c,xn=Pn.l.o,Pn.$a==0){if(us=Hr.rc,es=Hr.Vc,Ts=Hr.Fa,Cn=Hr.P+1+en*Yr,Mn=Hr.mb,Zn=Hr.nb+en*Yr,er(Cn<=Hr.P+Hr.qc),Pn.Z!=0)for(er(Mu[Pn.Z]!=null),En=0;En<dn;++En)Mu[Pn.Z](us,es,Ts,Cn,Mn,Zn,Yr),us=Mn,es=Zn,Zn+=Yr,Cn+=Yr;else for(En=0;En<dn;++En)nr(Mn,Zn,Ts,Cn,Yr),us=Mn,es=Zn,Zn+=Yr,Cn+=Yr;Hr.rc=us,Hr.Vc=es}else{if(er(Pn.mc!=null),Yr=en+dn,er((En=Pn.mc)!=null),er(Yr<=En.i),En.C>=Yr)Yr=1;else if(Pn.ic||$a(),Pn.ic){Pn=En.V,us=En.Ba,es=En.c;var bs=En.i,Jn=(Ts=1,Cn=En.$/es,Mn=En.$%es,Zn=En.m,cs=En.s,En.$),na=es*bs,Es=es*Yr,Ps=cs.wc,Ss=Jn<Es?On(cs,Mn,Cn):null;er(Jn<=na),er(Yr<=bs),er(Kn(cs));t:for(;;){for(;!Zn.h&&Jn<Es;){if(Mn&Ps||(Ss=On(cs,Mn,Cn)),er(Ss!=null),Fr(Zn),256>(bs=_n(Ss.G[0],Ss.H[0],Zn)))Pn[us+Jn]=bs,++Jn,++Mn>=es&&(Mn=0,++Cn<=Yr&&!(Cn%16)&&ys(En,Cn));else{if(!(280>bs)){Ts=0;break t}bs=Gn(bs-256,Zn);var Vs,Ms=_n(Ss.G[4],Ss.H[4],Zn);if(Fr(Zn),!(Jn>=(Ms=gn(es,Ms=Gn(Ms,Zn)))&&na-Jn>=bs)){Ts=0;break t}for(Vs=0;Vs<bs;++Vs)Pn[us+Jn+Vs]=Pn[us+Jn+Vs-Ms];for(Jn+=bs,Mn+=bs;Mn>=es;)Mn-=es,++Cn<=Yr&&!(Cn%16)&&ys(En,Cn);Jn<Es&&Mn&Ps&&(Ss=On(cs,Mn,Cn))}er(Zn.h==zr(Zn))}ys(En,Cn>Yr?Yr:Cn);break t}!Ts||Zn.h&&Jn<na?(Ts=0,En.a=Zn.h?5:3):En.$=Jn,Yr=Ts}else Yr=xs(En,En.V,En.Ba,En.c,En.i,Yr,Xs);if(!Yr){dn=0;break e}}en+dn>=xn&&(Hr.Cc=1),dn=1}if(!dn)return null;if(Hr.Cc&&((dn=Hr.ga)!=null&&(dn.mc=null),Hr.ga=null,0<Hr.Ga))return alert("todo:WebPDequantizeLevels"),null}return Hr.nb+en*vn}function Qr(Hr,Yr,en,dn,vn,xn){for(;0<vn--;){var En,Pn=Hr,Cn=Yr+(en?1:0),Mn=Hr,Zn=Yr+(en?0:3);for(En=0;En<dn;++En){var cs=Mn[Zn+4*En];cs!=255&&(cs*=32897,Pn[Cn+4*En+0]=Pn[Cn+4*En+0]*cs>>23,Pn[Cn+4*En+1]=Pn[Cn+4*En+1]*cs>>23,Pn[Cn+4*En+2]=Pn[Cn+4*En+2]*cs>>23)}Yr+=xn}}function bn(Hr,Yr,en,dn,vn){for(;0<dn--;){var xn;for(xn=0;xn<en;++xn){var En=Hr[Yr+2*xn+0],Pn=15&(Mn=Hr[Yr+2*xn+1]),Cn=4369*Pn,Mn=(240&Mn|Mn>>4)*Cn>>16;Hr[Yr+2*xn+0]=(240&En|En>>4)*Cn>>16&240|(15&En|En<<4)*Cn>>16>>4&15,Hr[Yr+2*xn+1]=240&Mn|Pn}Yr+=vn}}function Vn(Hr,Yr,en,dn,vn,xn,En,Pn){var Cn,Mn,Zn=255;for(Mn=0;Mn<vn;++Mn){for(Cn=0;Cn<dn;++Cn){var cs=Hr[Yr+Cn];xn[En+4*Cn]=cs,Zn&=cs}Yr+=en,En+=Pn}return Zn!=255}function Xn(Hr,Yr,en,dn,vn){var xn;for(xn=0;xn<vn;++xn)en[dn+xn]=Hr[Yr+xn]>>8}function $a(){Bl=Qr,Io=bn,No=Vn,Do=Xn}function _s(Hr,Yr,en){Tr[Hr]=function(dn,vn,xn,En,Pn,Cn,Mn,Zn,cs,us,es,Ts,bs,Jn,na,Es,Ps){var Ss,Vs=Ps-1>>1,Ms=Pn[Cn+0]|Mn[Zn+0]<<16,Gs=cs[us+0]|es[Ts+0]<<16;er(dn!=null);var Bs=3*Ms+Gs+131074>>2;for(Yr(dn[vn+0],255&Bs,Bs>>16,bs,Jn),xn!=null&&(Bs=3*Gs+Ms+131074>>2,Yr(xn[En+0],255&Bs,Bs>>16,na,Es)),Ss=1;Ss<=Vs;++Ss){var yo=Pn[Cn+Ss]|Mn[Zn+Ss]<<16,Eo=cs[us+Ss]|es[Ts+Ss]<<16,po=Ms+yo+Gs+Eo+524296,uo=po+2*(yo+Gs)>>3;Bs=uo+Ms>>1,Ms=(po=po+2*(Ms+Eo)>>3)+yo>>1,Yr(dn[vn+2*Ss-1],255&Bs,Bs>>16,bs,Jn+(2*Ss-1)*en),Yr(dn[vn+2*Ss-0],255&Ms,Ms>>16,bs,Jn+(2*Ss-0)*en),xn!=null&&(Bs=po+Gs>>1,Ms=uo+Eo>>1,Yr(xn[En+2*Ss-1],255&Bs,Bs>>16,na,Es+(2*Ss-1)*en),Yr(xn[En+2*Ss+0],255&Ms,Ms>>16,na,Es+(2*Ss+0)*en)),Ms=yo,Gs=Eo}1&Ps||(Bs=3*Ms+Gs+131074>>2,Yr(dn[vn+Ps-1],255&Bs,Bs>>16,bs,Jn+(Ps-1)*en),xn!=null&&(Bs=3*Gs+Ms+131074>>2,Yr(xn[En+Ps-1],255&Bs,Bs>>16,na,Es+(Ps-1)*en)))}}function Is(){Ul[Xp]=Xy,Ul[Yp]=j0,Ul[T0]=Yy,Ul[Qp]=I0,Ul[Zp]=N0,Ul[km]=O0,Ul[P0]=Qy,Ul[Cm]=j0,Ul[jm]=I0,Ul[Jp]=N0,Ul[Im]=O0}function Ds(Hr){return Hr&-16384?0>Hr?0:255:Hr>>Zy}function qr(Hr,Yr){return Ds((19077*Hr>>8)+(26149*Yr>>8)-14234)}function an(Hr,Yr,en){return Ds((19077*Hr>>8)-(6419*Yr>>8)-(13320*en>>8)+8708)}function pn(Hr,Yr){return Ds((19077*Hr>>8)+(33050*Yr>>8)-17685)}function Tn(Hr,Yr,en,dn,vn){dn[vn+0]=qr(Hr,en),dn[vn+1]=an(Hr,Yr,en),dn[vn+2]=pn(Hr,Yr)}function ga(Hr,Yr,en,dn,vn){dn[vn+0]=pn(Hr,Yr),dn[vn+1]=an(Hr,Yr,en),dn[vn+2]=qr(Hr,en)}function hs(Hr,Yr,en,dn,vn){var xn=an(Hr,Yr,en);Yr=xn<<3&224|pn(Hr,Yr)>>3,dn[vn+0]=248&qr(Hr,en)|xn>>5,dn[vn+1]=Yr}function Ns(Hr,Yr,en,dn,vn){var xn=240&pn(Hr,Yr)|15;dn[vn+0]=240&qr(Hr,en)|an(Hr,Yr,en)>>4,dn[vn+1]=xn}function eo(Hr,Yr,en,dn,vn){dn[vn+0]=255,Tn(Hr,Yr,en,dn,vn+1)}function co(Hr,Yr,en,dn,vn){ga(Hr,Yr,en,dn,vn),dn[vn+3]=255}function to(Hr,Yr,en,dn,vn){Tn(Hr,Yr,en,dn,vn),dn[vn+3]=255}function vo(Hr,Yr){return 0>Hr?0:Hr>Yr?Yr:Hr}function ko(Hr,Yr,en){Tr[Hr]=function(dn,vn,xn,En,Pn,Cn,Mn,Zn,cs){for(var us=Zn+(-2&cs)*en;Zn!=us;)Yr(dn[vn+0],xn[En+0],Pn[Cn+0],Mn,Zn),Yr(dn[vn+1],xn[En+0],Pn[Cn+0],Mn,Zn+en),vn+=2,++En,++Cn,Zn+=2*en;1&cs&&Yr(dn[vn+0],xn[En+0],Pn[Cn+0],Mn,Zn)}}function Zl(Hr,Yr,en){return en==0?Hr==0?Yr==0?6:5:Yr==0?4:0:en}function Ko(Hr,Yr,en,dn,vn){switch(Hr>>>30){case 3:fu(Yr,en,dn,vn,0);break;case 2:Mo(Yr,en,dn,vn);break;case 1:xl(Yr,en,dn,vn)}}function iu(Hr,Yr){var en,dn,vn=Yr.M,xn=Yr.Nb,En=Hr.oc,Pn=Hr.pc+40,Cn=Hr.oc,Mn=Hr.pc+584,Zn=Hr.oc,cs=Hr.pc+600;for(en=0;16>en;++en)En[Pn+32*en-1]=129;for(en=0;8>en;++en)Cn[Mn+32*en-1]=129,Zn[cs+32*en-1]=129;for(0<vn?En[Pn-1-32]=Cn[Mn-1-32]=Zn[cs-1-32]=129:(ir(En,Pn-32-1,127,21),ir(Cn,Mn-32-1,127,9),ir(Zn,cs-32-1,127,9)),dn=0;dn<Hr.za;++dn){var us=Yr.ya[Yr.aa+dn];if(0<dn){for(en=-1;16>en;++en)nr(En,Pn+32*en-4,En,Pn+32*en+12,4);for(en=-1;8>en;++en)nr(Cn,Mn+32*en-4,Cn,Mn+32*en+4,4),nr(Zn,cs+32*en-4,Zn,cs+32*en+4,4)}var es=Hr.Gd,Ts=Hr.Hd+dn,bs=us.ad,Jn=us.Hc;if(0<vn&&(nr(En,Pn-32,es[Ts].y,0,16),nr(Cn,Mn-32,es[Ts].f,0,8),nr(Zn,cs-32,es[Ts].ea,0,8)),us.Za){var na=En,Es=Pn-32+16;for(0<vn&&(dn>=Hr.za-1?ir(na,Es,es[Ts].y[15],4):nr(na,Es,es[Ts+1].y,0,4)),en=0;4>en;en++)na[Es+128+en]=na[Es+256+en]=na[Es+384+en]=na[Es+0+en];for(en=0;16>en;++en,Jn<<=2)na=En,Es=Pn+M0[en],Jl[us.Ob[en]](na,Es),Ko(Jn,bs,16*+en,na,Es)}else if(na=Zl(dn,vn,us.Ob[0]),$u[na](En,Pn),Jn!=0)for(en=0;16>en;++en,Jn<<=2)Ko(Jn,bs,16*+en,En,Pn+M0[en]);for(en=us.Gc,na=Zl(dn,vn,us.Dd),mu[na](Cn,Mn),mu[na](Zn,cs),Jn=bs,na=Cn,Es=Mn,255&(us=en>>0)&&(170&us?Ap(Jn,256,na,Es):Ll(Jn,256,na,Es)),us=Zn,Jn=cs,255&(en>>=8)&&(170&en?Ap(bs,320,us,Jn):Ll(bs,320,us,Jn)),vn<Hr.Ub-1&&(nr(es[Ts].y,0,En,Pn+480,16),nr(es[Ts].f,0,Cn,Mn+224,8),nr(es[Ts].ea,0,Zn,cs+224,8)),en=8*xn*Hr.B,es=Hr.sa,Ts=Hr.ta+16*dn+16*xn*Hr.R,bs=Hr.qa,us=Hr.ra+8*dn+en,Jn=Hr.Ha,na=Hr.Ia+8*dn+en,en=0;16>en;++en)nr(es,Ts+en*Hr.R,En,Pn+32*en,16);for(en=0;8>en;++en)nr(bs,us+en*Hr.B,Cn,Mn+32*en,8),nr(Jn,na+en*Hr.B,Zn,cs+32*en,8)}}function au(Hr,Yr,en,dn,vn,xn,En,Pn,Cn){var Mn=[0],Zn=[0],cs=0,us=Cn!=null?Cn.kd:0,es=Cn??new Pu;if(Hr==null||12>en)return 7;es.data=Hr,es.w=Yr,es.ha=en,Yr=[Yr],en=[en],es.gb=[es.gb];e:{var Ts=Yr,bs=en,Jn=es.gb;if(er(Hr!=null),er(bs!=null),er(Jn!=null),Jn[0]=0,12<=bs[0]&&!rr(Hr,Ts[0],"RIFF")){if(rr(Hr,Ts[0]+8,"WEBP")){Jn=3;break e}var na=sn(Hr,Ts[0]+4);if(12>na||4294967286<na){Jn=3;break e}if(us&&na>bs[0]-8){Jn=7;break e}Jn[0]=na,Ts[0]+=12,bs[0]-=12}Jn=0}if(Jn!=0)return Jn;for(na=0<es.gb[0],en=en[0];;){e:{var Es=Hr;bs=Yr,Jn=en;var Ps=Mn,Ss=Zn,Vs=Ts=[0];if((Bs=cs=[cs])[0]=0,8>Jn[0])Jn=7;else{if(!rr(Es,bs[0],"VP8X")){if(sn(Es,bs[0]+4)!=10){Jn=3;break e}if(18>Jn[0]){Jn=7;break e}var Ms=sn(Es,bs[0]+8),Gs=1+tn(Es,bs[0]+12);if(2147483648<=Gs*(Es=1+tn(Es,bs[0]+15))){Jn=3;break e}Vs!=null&&(Vs[0]=Ms),Ps!=null&&(Ps[0]=Gs),Ss!=null&&(Ss[0]=Es),bs[0]+=18,Jn[0]-=18,Bs[0]=1}Jn=0}}if(cs=cs[0],Ts=Ts[0],Jn!=0)return Jn;if(bs=!!(2&Ts),!na&&cs)return 3;if(xn!=null&&(xn[0]=!!(16&Ts)),En!=null&&(En[0]=bs),Pn!=null&&(Pn[0]=0),En=Mn[0],Ts=Zn[0],cs&&bs&&Cn==null){Jn=0;break}if(4>en){Jn=7;break}if(na&&cs||!na&&!cs&&!rr(Hr,Yr[0],"ALPH")){en=[en],es.na=[es.na],es.P=[es.P],es.Sa=[es.Sa];e:{Ms=Hr,Jn=Yr,na=en;var Bs=es.gb;Ps=es.na,Ss=es.P,Vs=es.Sa,Gs=22,er(Ms!=null),er(na!=null),Es=Jn[0];var yo=na[0];for(er(Ps!=null),er(Vs!=null),Ps[0]=null,Ss[0]=null,Vs[0]=0;;){if(Jn[0]=Es,na[0]=yo,8>yo){Jn=7;break e}var Eo=sn(Ms,Es+4);if(4294967286<Eo){Jn=3;break e}var po=8+Eo+1&-2;if(Gs+=po,0<Bs&&Gs>Bs){Jn=3;break e}if(!rr(Ms,Es,"VP8 ")||!rr(Ms,Es,"VP8L")){Jn=0;break e}if(yo[0]<po){Jn=7;break e}rr(Ms,Es,"ALPH")||(Ps[0]=Ms,Ss[0]=Es+8,Vs[0]=Eo),Es+=po,yo-=po}}if(en=en[0],es.na=es.na[0],es.P=es.P[0],es.Sa=es.Sa[0],Jn!=0)break}en=[en],es.Ja=[es.Ja],es.xa=[es.xa];e:if(Bs=Hr,Jn=Yr,na=en,Ps=es.gb[0],Ss=es.Ja,Vs=es.xa,Ms=Jn[0],Es=!rr(Bs,Ms,"VP8 "),Gs=!rr(Bs,Ms,"VP8L"),er(Bs!=null),er(na!=null),er(Ss!=null),er(Vs!=null),8>na[0])Jn=7;else{if(Es||Gs){if(Bs=sn(Bs,Ms+4),12<=Ps&&Bs>Ps-12){Jn=3;break e}if(us&&Bs>na[0]-8){Jn=7;break e}Ss[0]=Bs,Jn[0]+=8,na[0]-=8,Vs[0]=Gs}else Vs[0]=5<=na[0]&&Bs[Ms+0]==47&&!(Bs[Ms+4]>>5),Ss[0]=na[0];Jn=0}if(en=en[0],es.Ja=es.Ja[0],es.xa=es.xa[0],Yr=Yr[0],Jn!=0)break;if(4294967286<es.Ja)return 3;if(Pn==null||bs||(Pn[0]=es.xa?2:1),En=[En],Ts=[Ts],es.xa){if(5>en){Jn=7;break}Pn=En,us=Ts,bs=xn,Hr==null||5>en?Hr=0:5<=en&&Hr[Yr+0]==47&&!(Hr[Yr+4]>>5)?(na=[0],Bs=[0],Ps=[0],Ar(Ss=new $r,Hr,Yr,en),$n(Ss,na,Bs,Ps)?(Pn!=null&&(Pn[0]=na[0]),us!=null&&(us[0]=Bs[0]),bs!=null&&(bs[0]=Ps[0]),Hr=1):Hr=0):Hr=0}else{if(10>en){Jn=7;break}Pn=Ts,Hr==null||10>en||!oo(Hr,Yr+3,en-3)?Hr=0:(us=Hr[Yr+0]|Hr[Yr+1]<<8|Hr[Yr+2]<<16,bs=16383&(Hr[Yr+7]<<8|Hr[Yr+6]),Hr=16383&(Hr[Yr+9]<<8|Hr[Yr+8]),1&us||3<(us>>1&7)||!(us>>4&1)||us>>5>=es.Ja||!bs||!Hr?Hr=0:(En&&(En[0]=bs),Pn&&(Pn[0]=Hr),Hr=1))}if(!Hr||(En=En[0],Ts=Ts[0],cs&&(Mn[0]!=En||Zn[0]!=Ts)))return 3;Cn!=null&&(Cn[0]=es,Cn.offset=Yr-Cn.w,er(4294967286>Yr-Cn.w),er(Cn.offset==Cn.ha-en));break}return Jn==0||Jn==7&&cs&&Cn==null?(xn!=null&&(xn[0]|=es.na!=null&&0<es.na.length),dn!=null&&(dn[0]=En),vn!=null&&(vn[0]=Ts),0):Jn}function xp(Hr,Yr,en){var dn=Yr.width,vn=Yr.height,xn=0,En=0,Pn=dn,Cn=vn;if(Yr.Da=Hr!=null&&0<Hr.Da,Yr.Da&&(Pn=Hr.cd,Cn=Hr.bd,xn=Hr.v,En=Hr.j,11>en||(xn&=-2,En&=-2),0>xn||0>En||0>=Pn||0>=Cn||xn+Pn>dn||En+Cn>vn))return 0;if(Yr.v=xn,Yr.j=En,Yr.va=xn+Pn,Yr.o=En+Cn,Yr.U=Pn,Yr.T=Cn,Yr.da=Hr!=null&&0<Hr.da,Yr.da){if(!nn(Pn,Cn,en=[Hr.ib],xn=[Hr.hb]))return 0;Yr.ib=en[0],Yr.hb=xn[0]}return Yr.ob=Hr!=null&&Hr.ob,Yr.Kb=Hr==null||!Hr.Sd,Yr.da&&(Yr.ob=Yr.ib<3*dn/4&&Yr.hb<3*vn/4,Yr.Kb=0),1}function wp(Hr){if(Hr==null)return 2;if(11>Hr.S){var Yr=Hr.f.RGBA;Yr.fb+=(Hr.height-1)*Yr.A,Yr.A=-Yr.A}else Yr=Hr.f.kb,Hr=Hr.height,Yr.O+=(Hr-1)*Yr.fa,Yr.fa=-Yr.fa,Yr.N+=(Hr-1>>1)*Yr.Ab,Yr.Ab=-Yr.Ab,Yr.W+=(Hr-1>>1)*Yr.Db,Yr.Db=-Yr.Db,Yr.F!=null&&(Yr.J+=(Hr-1)*Yr.lb,Yr.lb=-Yr.lb);return 0}function np(Hr,Yr,en,dn){if(dn==null||0>=Hr||0>=Yr)return 2;if(en!=null){if(en.Da){var vn=en.cd,xn=en.bd,En=-2&en.v,Pn=-2&en.j;if(0>En||0>Pn||0>=vn||0>=xn||En+vn>Hr||Pn+xn>Yr)return 2;Hr=vn,Yr=xn}if(en.da){if(!nn(Hr,Yr,vn=[en.ib],xn=[en.hb]))return 2;Hr=vn[0],Yr=xn[0]}}dn.width=Hr,dn.height=Yr;e:{var Cn=dn.width,Mn=dn.height;if(Hr=dn.S,0>=Cn||0>=Mn||!(Hr>=Xp&&13>Hr))Hr=2;else{if(0>=dn.Rd&&dn.sd==null){En=xn=vn=Yr=0;var Zn=(Pn=Cn*D0[Hr])*Mn;if(11>Hr||(xn=(Mn+1)/2*(Yr=(Cn+1)/2),Hr==12&&(En=(vn=Cn)*Mn)),(Mn=ar(Zn+2*xn+En))==null){Hr=1;break e}dn.sd=Mn,11>Hr?((Cn=dn.f.RGBA).eb=Mn,Cn.fb=0,Cn.A=Pn,Cn.size=Zn):((Cn=dn.f.kb).y=Mn,Cn.O=0,Cn.fa=Pn,Cn.Fd=Zn,Cn.f=Mn,Cn.N=0+Zn,Cn.Ab=Yr,Cn.Cd=xn,Cn.ea=Mn,Cn.W=0+Zn+xn,Cn.Db=Yr,Cn.Ed=xn,Hr==12&&(Cn.F=Mn,Cn.J=0+Zn+2*xn),Cn.Tc=En,Cn.lb=vn)}if(Yr=1,vn=dn.S,xn=dn.width,En=dn.height,vn>=Xp&&13>vn)if(11>vn)Hr=dn.f.RGBA,Yr&=(Pn=Math.abs(Hr.A))*(En-1)+xn<=Hr.size,Yr&=Pn>=xn*D0[vn],Yr&=Hr.eb!=null;else{Hr=dn.f.kb,Pn=(xn+1)/2,Zn=(En+1)/2,Cn=Math.abs(Hr.fa),Mn=Math.abs(Hr.Ab);var cs=Math.abs(Hr.Db),us=Math.abs(Hr.lb),es=us*(En-1)+xn;Yr&=Cn*(En-1)+xn<=Hr.Fd,Yr&=Mn*(Zn-1)+Pn<=Hr.Cd,Yr=(Yr&=cs*(Zn-1)+Pn<=Hr.Ed)&Cn>=xn&Mn>=Pn&cs>=Pn,Yr&=Hr.y!=null,Yr&=Hr.f!=null,Yr&=Hr.ea!=null,vn==12&&(Yr&=us>=xn,Yr&=es<=Hr.Tc,Yr&=Hr.F!=null)}else Yr=0;Hr=Yr?0:2}}return Hr!=0||en!=null&&en.fd&&(Hr=wp(dn)),Hr}var Xo=64,ip=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ap=24,sp=32,Ep=8,El=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fn("Predictor0","PredictorAdd0"),Tr.Predictor0=function(){return 4278190080},Tr.Predictor1=function(Hr){return Hr},Tr.Predictor2=function(Hr,Yr,en){return Yr[en+0]},Tr.Predictor3=function(Hr,Yr,en){return Yr[en+1]},Tr.Predictor4=function(Hr,Yr,en){return Yr[en-1]},Tr.Predictor5=function(Hr,Yr,en){return yn(yn(Hr,Yr[en+1]),Yr[en+0])},Tr.Predictor6=function(Hr,Yr,en){return yn(Hr,Yr[en-1])},Tr.Predictor7=function(Hr,Yr,en){return yn(Hr,Yr[en+0])},Tr.Predictor8=function(Hr,Yr,en){return yn(Yr[en-1],Yr[en+0])},Tr.Predictor9=function(Hr,Yr,en){return yn(Yr[en+0],Yr[en+1])},Tr.Predictor10=function(Hr,Yr,en){return yn(yn(Hr,Yr[en-1]),yn(Yr[en+0],Yr[en+1]))},Tr.Predictor11=function(Hr,Yr,en){var dn=Yr[en+0];return 0>=Sn(dn>>24&255,Hr>>24&255,(Yr=Yr[en-1])>>24&255)+Sn(dn>>16&255,Hr>>16&255,Yr>>16&255)+Sn(dn>>8&255,Hr>>8&255,Yr>>8&255)+Sn(255&dn,255&Hr,255&Yr)?dn:Hr},Tr.Predictor12=function(Hr,Yr,en){var dn=Yr[en+0];return(Rn((Hr>>24&255)+(dn>>24&255)-((Yr=Yr[en-1])>>24&255))<<24|Rn((Hr>>16&255)+(dn>>16&255)-(Yr>>16&255))<<16|Rn((Hr>>8&255)+(dn>>8&255)-(Yr>>8&255))<<8|Rn((255&Hr)+(255&dn)-(255&Yr)))>>>0},Tr.Predictor13=function(Hr,Yr,en){var dn=Yr[en-1];return(In((Hr=yn(Hr,Yr[en+0]))>>24&255,dn>>24&255)<<24|In(Hr>>16&255,dn>>16&255)<<16|In(Hr>>8&255,dn>>8&255)<<8|In(Hr>>0&255,dn>>0&255))>>>0};var Pm=Tr.PredictorAdd0;Tr.PredictorAdd1=Dn,fn("Predictor2","PredictorAdd2"),fn("Predictor3","PredictorAdd3"),fn("Predictor4","PredictorAdd4"),fn("Predictor5","PredictorAdd5"),fn("Predictor6","PredictorAdd6"),fn("Predictor7","PredictorAdd7"),fn("Predictor8","PredictorAdd8"),fn("Predictor9","PredictorAdd9"),fn("Predictor10","PredictorAdd10"),fn("Predictor11","PredictorAdd11"),fn("Predictor12","PredictorAdd12"),fn("Predictor13","PredictorAdd13");var Sp=Tr.PredictorAdd2;fs("ColorIndexInverseTransform","MapARGB","32b",function(Hr){return Hr>>8&255},function(Hr){return Hr}),fs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Hr){return Hr},function(Hr){return Hr>>8&255});var zp,Dl=Tr.ColorIndexInverseTransform,op=Tr.MapARGB,Wp=Tr.VP8LColorIndexInverseTransformAlpha,Hp=Tr.MapAlpha,ju=Tr.VP8LPredictorsAdd=[];ju.length=16,(Tr.VP8LPredictors=[]).length=16,(Tr.VP8LPredictorsAdd_C=[]).length=16,(Tr.VP8LPredictors_C=[]).length=16;var Xu,Sl,_l,Iu,du,hu,lp,fu,Mo,Ap,xl,Ll,cp,qp,Tp,Yu,Qu,Nu,Zu,up,Ju,Ou,Pp,Fl,Bl,Io,No,Do,Uo=ar(511),pu=ar(2041),Rp=ar(225),dp=ar(767),Gp=0,Rm=pu,Kp=Rp,Il=dp,Vl=Uo,Xp=0,Yp=1,T0=2,Qp=3,Zp=4,km=5,P0=6,Cm=7,jm=8,Jp=9,Im=10,$y=[2,3,7],My=[3,3,11],R0=[280,256,256,256,40],Dy=[0,1,1,1,0],Ly=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],By=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vy=8,Nm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Om=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kp=null,Uy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],k0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$u=[],Jl=[],mu=[],Ky=1,C0=2,Mu=[],Ul=[];_s("UpsampleRgbLinePair",Tn,3),_s("UpsampleBgrLinePair",ga,3),_s("UpsampleRgbaLinePair",to,4),_s("UpsampleBgraLinePair",co,4),_s("UpsampleArgbLinePair",eo,4),_s("UpsampleRgba4444LinePair",Ns,2),_s("UpsampleRgb565LinePair",hs,2);var Xy=Tr.UpsampleRgbLinePair,Yy=Tr.UpsampleBgrLinePair,j0=Tr.UpsampleRgbaLinePair,I0=Tr.UpsampleBgraLinePair,N0=Tr.UpsampleArgbLinePair,O0=Tr.UpsampleRgba4444LinePair,Qy=Tr.UpsampleRgb565LinePair,em=16,tm=1<<em-1,Cp=-227,$m=482,Zy=6,$0=0,Jy=ar(256),ev=ar(256),tv=ar(256),rv=ar(256),nv=ar($m-Cp),iv=ar($m-Cp);ko("YuvToRgbRow",Tn,3),ko("YuvToBgrRow",ga,3),ko("YuvToRgbaRow",to,4),ko("YuvToBgraRow",co,4),ko("YuvToArgbRow",eo,4),ko("YuvToRgba4444Row",Ns,2),ko("YuvToRgb565Row",hs,2);var M0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rm=[0,2,8],av=[8,7,6,4,4,2,2,2,1,1,1,1],sv=1;this.WebPDecodeRGBA=function(Hr,Yr,en,dn,vn){var xn=Yp,En=new cu,Pn=new kn;En.ba=Pn,Pn.S=xn,Pn.width=[Pn.width],Pn.height=[Pn.height];var Cn=Pn.width,Mn=Pn.height,Zn=new Qn;if(Zn==null||Hr==null)var cs=2;else er(Zn!=null),cs=au(Hr,Yr,en,Zn.width,Zn.height,Zn.Pd,Zn.Qd,Zn.format,null);if(cs!=0?Cn=0:(Cn!=null&&(Cn[0]=Zn.width[0]),Mn!=null&&(Mn[0]=Zn.height[0]),Cn=1),Cn){Pn.width=Pn.width[0],Pn.height=Pn.height[0],dn!=null&&(dn[0]=Pn.width),vn!=null&&(vn[0]=Pn.height);e:{if(dn=new Us,(vn=new Pu).data=Hr,vn.w=Yr,vn.ha=en,vn.kd=1,Yr=[0],er(vn!=null),((Hr=au(vn.data,vn.w,vn.ha,null,null,null,Yr,null,vn))==0||Hr==7)&&Yr[0]&&(Hr=4),(Yr=Hr)==0){if(er(En!=null),dn.data=vn.data,dn.w=vn.w+vn.offset,dn.ha=vn.ha-vn.offset,dn.put=wn,dn.ac=An,dn.bc=Nn,dn.ma=En,vn.xa){if((Hr=Rs())==null){En=1;break e}if(function(us,es){var Ts=[0],bs=[0],Jn=[0];t:for(;;){if(us==null)return 0;if(es==null)return us.a=2,0;if(us.l=es,us.a=0,Ar(us.m,es.data,es.w,es.ha),!$n(us.m,Ts,bs,Jn)){us.a=3;break t}if(us.xb=C0,es.width=Ts[0],es.height=bs[0],!Ls(Ts[0],bs[0],1,us,null))break t;return 1}return er(us.a!=0),0}(Hr,dn)){if(dn=(Yr=np(dn.width,dn.height,En.Oa,En.ba))==0){t:{dn=Hr;r:for(;;){if(dn==null){dn=0;break t}if(er(dn.s.yc!=null),er(dn.s.Ya!=null),er(0<dn.s.Wb),er((en=dn.l)!=null),er((vn=en.ma)!=null),dn.xb!=0){if(dn.ca=vn.ba,dn.tb=vn.tb,er(dn.ca!=null),!xp(vn.Oa,en,Qp)){dn.a=2;break r}if(!Ws(dn,en.width)||en.da)break r;if((en.da||ss(dn.ca.S))&&$a(),11>dn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),dn.ca.f.kb.F!=null&&$a()),dn.Pb&&0<dn.s.ua&&dn.s.vb.X==null&&!un(dn.s.vb,dn.s.Wa.Xa)){dn.a=1;break r}dn.xb=0}if(!xs(dn,dn.V,dn.Ba,dn.c,dn.i,en.o,Hn))break r;vn.Dc=dn.Ma,dn=1;break t}er(dn.a!=0),dn=0}dn=!dn}dn&&(Yr=Hr.a)}else Yr=Hr.a}else{if((Hr=new so)==null){En=1;break e}if(Hr.Fa=vn.na,Hr.P=vn.P,Hr.qc=vn.Sa,ho(Hr,dn)){if((Yr=np(dn.width,dn.height,En.Oa,En.ba))==0){if(Hr.Aa=0,en=En.Oa,er((vn=Hr)!=null),en!=null){if(0<(Cn=0>(Cn=en.Md)?0:100<Cn?255:255*Cn/100)){for(Mn=Zn=0;4>Mn;++Mn)12>(cs=vn.pb[Mn]).lc&&(cs.ia=Cn*av[0>cs.lc?0:cs.lc]>>3),Zn|=cs.ia;Zn&&(alert("todo:VP8InitRandom"),vn.ia=1)}vn.Ga=en.Id,100<vn.Ga?vn.Ga=100:0>vn.Ga&&(vn.Ga=0)}Lo(Hr,dn)||(Yr=Hr.a)}}else Yr=Hr.a}Yr==0&&En.Oa!=null&&En.Oa.fd&&(Yr=wp(En.ba))}En=Yr}xn=En!=0?null:11>xn?Pn.f.RGBA.eb:Pn.f.kb.y}else xn=null;return xn};var D0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function cr(Tr,Ir){for(var Lr="",Nr=0;Nr<4;Nr++)Lr+=String.fromCharCode(Tr[Ir++]);return Lr}function ur(Tr,Ir){return(Tr[Ir+0]<<0|Tr[Ir+1]<<8|Tr[Ir+2]<<16)>>>0}function dr(Tr,Ir){return(Tr[Ir+0]<<0|Tr[Ir+1]<<8|Tr[Ir+2]<<16|Tr[Ir+3]<<24)>>>0}new or;var hr=[0],fr=[0],mr=[],br=new or,pr=tr,gr=function(Tr,Ir){var Lr={},Nr=0,Or=!1,Pr=0,Mr=0;if(Lr.frames=[],!function(Vr,zr,Gr,Fr){for(var Xr=0;Xr<Fr;Xr++)if(Vr[zr+Xr]!=Gr.charCodeAt(Xr))return!0;return!1}(Tr,Ir,"RIFF",4)){var jr,wr;for(dr(Tr,Ir+=4),Ir+=8;Ir<Tr.length;){var Er=cr(Tr,Ir),Ar=dr(Tr,Ir+=4);Ir+=4;var Sr=Ar+(1&Ar);switch(Er){case"VP8 ":case"VP8L":Lr.frames[Nr]===void 0&&(Lr.frames[Nr]={}),($r=Lr.frames[Nr]).src_off=Or?Mr:Ir-8,$r.src_size=Pr+Ar+8,Nr++,Or&&(Or=!1,Pr=0,Mr=0);break;case"VP8X":($r=Lr.header={}).feature_flags=Tr[Ir];var Dr=Ir+4;$r.canvas_width=1+ur(Tr,Dr),Dr+=3,$r.canvas_height=1+ur(Tr,Dr),Dr+=3;break;case"ALPH":Or=!0,Pr=Sr+8,Mr=Ir-8;break;case"ANIM":($r=Lr.header).bgcolor=dr(Tr,Ir),Dr=Ir+4,$r.loop_count=(jr=Tr)[(wr=Dr)+0]<<0|jr[wr+1]<<8,Dr+=2;break;case"ANMF":var Wr,$r;($r=Lr.frames[Nr]={}).offset_x=2*ur(Tr,Ir),Ir+=3,$r.offset_y=2*ur(Tr,Ir),Ir+=3,$r.width=1+ur(Tr,Ir),Ir+=3,$r.height=1+ur(Tr,Ir),Ir+=3,$r.duration=ur(Tr,Ir),Ir+=3,Wr=Tr[Ir++],$r.dispose=1&Wr,$r.blend=Wr>>1&1}Er!="ANMF"&&(Ir+=Sr)}return Lr}}(pr,0);gr.response=pr,gr.rgbaoutput=!0,gr.dataurl=!1;var yr=gr.header?gr.header:null,vr=gr.frames?gr.frames:null;if(yr){yr.loop_counter=yr.loop_count,hr=[yr.canvas_height],fr=[yr.canvas_width];for(var _r=0;_r<vr.length&&vr[_r].blend!=0;_r++);}var xr=vr[0],Rr=br.WebPDecodeRGBA(pr,xr.src_off,xr.src_size,fr,hr);xr.rgba=Rr,xr.imgwidth=fr[0],xr.imgheight=hr[0];for(var Cr=0;Cr<fr[0]*hr[0]*4;Cr++)mr[Cr]=Rr[Cr];return this.width=fr,this.height=hr,this.data=mr,this}(function(tr){var er=function(){return typeof zlibSync=="function"},rr=function(hr,fr,mr,br){var pr=4,gr=sr;switch(br){case tr.image_compression.FAST:pr=1,gr=ar;break;case tr.image_compression.MEDIUM:pr=6,gr=lr;break;case tr.image_compression.SLOW:pr=9,gr=or}hr=nr(hr,fr,mr,gr);var yr=zlibSync(hr,{level:pr});return tr.__addimage__.arrayBufferToBinaryString(yr)},nr=function(hr,fr,mr,br){for(var pr,gr,yr,vr=hr.length/fr,_r=new Uint8Array(hr.length+vr),xr=ur(),Rr=0;Rr<vr;Rr+=1){if(yr=Rr*fr,pr=hr.subarray(yr,yr+fr),br)_r.set(br(pr,mr,gr),yr+Rr);else{for(var Cr,Tr=xr.length,Ir=[];Cr<Tr;Cr+=1)Ir[Cr]=xr[Cr](pr,mr,gr);var Lr=dr(Ir.concat());_r.set(Ir[Lr],yr+Rr)}gr=pr}return _r},ir=function(hr){var fr=Array.apply([],hr);return fr.unshift(0),fr},ar=function(hr,fr){var mr,br=[],pr=hr.length;br[0]=1;for(var gr=0;gr<pr;gr+=1)mr=hr[gr-fr]||0,br[gr+1]=hr[gr]-mr+256&255;return br},sr=function(hr,fr,mr){var br,pr=[],gr=hr.length;pr[0]=2;for(var yr=0;yr<gr;yr+=1)br=mr&&mr[yr]||0,pr[yr+1]=hr[yr]-br+256&255;return pr},lr=function(hr,fr,mr){var br,pr,gr=[],yr=hr.length;gr[0]=3;for(var vr=0;vr<yr;vr+=1)br=hr[vr-fr]||0,pr=mr&&mr[vr]||0,gr[vr+1]=hr[vr]+256-(br+pr>>>1)&255;return gr},or=function(hr,fr,mr){var br,pr,gr,yr,vr=[],_r=hr.length;vr[0]=4;for(var xr=0;xr<_r;xr+=1)br=hr[xr-fr]||0,pr=mr&&mr[xr]||0,gr=mr&&mr[xr-fr]||0,yr=cr(br,pr,gr),vr[xr+1]=hr[xr]-yr+256&255;return vr},cr=function(hr,fr,mr){if(hr===fr&&fr===mr)return hr;var br=Math.abs(fr-mr),pr=Math.abs(hr-mr),gr=Math.abs(hr+fr-mr-mr);return br<=pr&&br<=gr?hr:pr<=gr?fr:mr},ur=function(){return[ir,ar,sr,lr,or]},dr=function(hr){var fr=hr.map(function(mr){return mr.reduce(function(br,pr){return br+Math.abs(pr)},0)});return fr.indexOf(Math.min.apply(null,fr))};tr.processPNG=function(hr,fr,mr,br){var pr,gr,yr,vr,_r,xr,Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr,Mr,jr=this.decode.FLATE_DECODE,wr="";if(this.__addimage__.isArrayBuffer(hr)&&(hr=new Uint8Array(hr)),this.__addimage__.isArrayBufferView(hr)){if(hr=(yr=new Kt(hr)).imgData,gr=yr.bits,pr=yr.colorSpace,_r=yr.colors,[4,6].indexOf(yr.colorType)!==-1){if(yr.bits===8){Tr=(Cr=yr.pixelBitlength==32?new Uint32Array(yr.decodePixels().buffer):yr.pixelBitlength==16?new Uint16Array(yr.decodePixels().buffer):new Uint8Array(yr.decodePixels().buffer)).length,Lr=new Uint8Array(Tr*yr.colors),Ir=new Uint8Array(Tr);var Er,Ar=yr.pixelBitlength-yr.bits;for(Pr=0,Mr=0;Pr<Tr;Pr++){for(Or=Cr[Pr],Er=0;Er<Ar;)Lr[Mr++]=Or>>>Er&255,Er+=yr.bits;Ir[Pr]=Or>>>Er&255}}if(yr.bits===16){Tr=(Cr=new Uint32Array(yr.decodePixels().buffer)).length,Lr=new Uint8Array(Tr*(32/yr.pixelBitlength)*yr.colors),Ir=new Uint8Array(Tr*(32/yr.pixelBitlength)),Nr=yr.colors>1,Pr=0,Mr=0;for(var Sr=0;Pr<Tr;)Or=Cr[Pr++],Lr[Mr++]=Or>>>0&255,Nr&&(Lr[Mr++]=Or>>>16&255,Or=Cr[Pr++],Lr[Mr++]=Or>>>0&255),Ir[Sr++]=Or>>>16&255;gr=8}br!==tr.image_compression.NONE&&er()?(hr=rr(Lr,yr.width*yr.colors,yr.colors,br),Rr=rr(Ir,yr.width,1,br)):(hr=Lr,Rr=Ir,jr=void 0)}if(yr.colorType===3&&(pr=this.color_spaces.INDEXED,xr=yr.palette,yr.transparency.indexed)){var Dr=yr.transparency.indexed,Wr=0;for(Pr=0,Tr=Dr.length;Pr<Tr;++Pr)Wr+=Dr[Pr];if((Wr/=255)===Tr-1&&Dr.indexOf(0)!==-1)vr=[Dr.indexOf(0)];else if(Wr!==Tr){for(Cr=yr.decodePixels(),Ir=new Uint8Array(Cr.length),Pr=0,Tr=Cr.length;Pr<Tr;Pr++)Ir[Pr]=Dr[Cr[Pr]];Rr=rr(Ir,yr.width,1)}}var $r=function(Vr){var zr;switch(Vr){case tr.image_compression.FAST:zr=11;break;case tr.image_compression.MEDIUM:zr=13;break;case tr.image_compression.SLOW:zr=14;break;default:zr=12}return zr}(br);return jr===this.decode.FLATE_DECODE&&(wr="/Predictor "+$r+" "),wr+="/Colors "+_r+" /BitsPerComponent "+gr+" /Columns "+yr.width,(this.__addimage__.isArrayBuffer(hr)||this.__addimage__.isArrayBufferView(hr))&&(hr=this.__addimage__.arrayBufferToBinaryString(hr)),(Rr&&this.__addimage__.isArrayBuffer(Rr)||this.__addimage__.isArrayBufferView(Rr))&&(Rr=this.__addimage__.arrayBufferToBinaryString(Rr)),{alias:mr,data:hr,index:fr,filter:jr,decodeParameters:wr,transparency:vr,palette:xr,sMask:Rr,predictor:$r,width:yr.width,height:yr.height,bitsPerComponent:gr,colorSpace:pr}}}})(E.API),function(tr){tr.processGIF89A=function(er,rr,nr,ir){var ar=new Zt(er),sr=ar.width,lr=ar.height,or=[];ar.decodeAndBlitFrameRGBA(0,or);var cr={data:or,width:sr,height:lr},ur=new Qt(100).encode(cr,100);return tr.processJPEG.call(this,ur,rr,nr,ir)},tr.processGIF87A=tr.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var tr=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(tr);for(var er=0;er<tr;er++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0);this.palette[er]={red:ir,green:nr,blue:rr,quad:ar}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var tr="bit"+this.bitPP,er=this.width*this.height*4;this.data=new Uint8Array(er),this[tr]()}catch(rr){a.log("bit decode error:"+rr)}},te.prototype.bit1=function(){var tr,er=Math.ceil(this.width/8),rr=er%4;for(tr=this.height-1;tr>=0;tr--){for(var nr=this.bottom_up?tr:this.height-1-tr,ir=0;ir<er;ir++)for(var ar=this.datav.getUint8(this.pos++,!0),sr=nr*this.width*4+8*ir*4,lr=0;lr<8&&8*ir+lr<this.width;lr++){var or=this.palette[ar>>7-lr&1];this.data[sr+4*lr]=or.blue,this.data[sr+4*lr+1]=or.green,this.data[sr+4*lr+2]=or.red,this.data[sr+4*lr+3]=255}rr!==0&&(this.pos+=4-rr)}},te.prototype.bit4=function(){for(var tr=Math.ceil(this.width/2),er=tr%4,rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,ir=0;ir<tr;ir++){var ar=this.datav.getUint8(this.pos++,!0),sr=nr*this.width*4+2*ir*4,lr=ar>>4,or=15&ar,cr=this.palette[lr];if(this.data[sr]=cr.blue,this.data[sr+1]=cr.green,this.data[sr+2]=cr.red,this.data[sr+3]=255,2*ir+1>=this.width)break;cr=this.palette[or],this.data[sr+4]=cr.blue,this.data[sr+4+1]=cr.green,this.data[sr+4+2]=cr.red,this.data[sr+4+3]=255}er!==0&&(this.pos+=4-er)}},te.prototype.bit8=function(){for(var tr=this.width%4,er=this.height-1;er>=0;er--){for(var rr=this.bottom_up?er:this.height-1-er,nr=0;nr<this.width;nr++){var ir=this.datav.getUint8(this.pos++,!0),ar=rr*this.width*4+4*nr;if(ir<this.palette.length){var sr=this.palette[ir];this.data[ar]=sr.red,this.data[ar+1]=sr.green,this.data[ar+2]=sr.blue,this.data[ar+3]=255}else this.data[ar]=255,this.data[ar+1]=255,this.data[ar+2]=255,this.data[ar+3]=255}tr!==0&&(this.pos+=4-tr)}},te.prototype.bit15=function(){for(var tr=this.width%3,er=parseInt("11111",2),rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,ir=0;ir<this.width;ir++){var ar=this.datav.getUint16(this.pos,!0);this.pos+=2;var sr=(ar&er)/er*255|0,lr=(ar>>5&er)/er*255|0,or=(ar>>10&er)/er*255|0,cr=ar>>15?255:0,ur=nr*this.width*4+4*ir;this.data[ur]=or,this.data[ur+1]=lr,this.data[ur+2]=sr,this.data[ur+3]=cr}this.pos+=tr}},te.prototype.bit16=function(){for(var tr=this.width%3,er=parseInt("11111",2),rr=parseInt("111111",2),nr=this.height-1;nr>=0;nr--){for(var ir=this.bottom_up?nr:this.height-1-nr,ar=0;ar<this.width;ar++){var sr=this.datav.getUint16(this.pos,!0);this.pos+=2;var lr=(sr&er)/er*255|0,or=(sr>>5&rr)/rr*255|0,cr=(sr>>11)/er*255|0,ur=ir*this.width*4+4*ar;this.data[ur]=cr,this.data[ur+1]=or,this.data[ur+2]=lr,this.data[ur+3]=255}this.pos+=tr}},te.prototype.bit24=function(){for(var tr=this.height-1;tr>=0;tr--){for(var er=this.bottom_up?tr:this.height-1-tr,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),sr=er*this.width*4+4*rr;this.data[sr]=ar,this.data[sr+1]=ir,this.data[sr+2]=nr,this.data[sr+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var tr=this.height-1;tr>=0;tr--)for(var er=this.bottom_up?tr:this.height-1-tr,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),sr=this.datav.getUint8(this.pos++,!0),lr=er*this.width*4+4*rr;this.data[lr]=ar,this.data[lr+1]=ir,this.data[lr+2]=nr,this.data[lr+3]=sr}},te.prototype.getData=function(){return this.data},function(tr){tr.processBMP=function(er,rr,nr,ir){var ar=new te(er,!1),sr=ar.width,lr=ar.height,or={data:ar.getData(),width:sr,height:lr},cr=new Qt(100).encode(or,100);return tr.processJPEG.call(this,cr,rr,nr,ir)}}(E.API),ee.prototype.getData=function(){return this.data},function(tr){tr.processWEBP=function(er,rr,nr,ir){var ar=new ee(er),sr=ar.width,lr=ar.height,or={data:ar.getData(),width:sr,height:lr},cr=new Qt(100).encode(or,100);return tr.processJPEG.call(this,cr,rr,nr,ir)}}(E.API),E.API.processRGBA=function(tr,er,rr){for(var nr=tr.data,ir=nr.length,ar=new Uint8Array(ir/4*3),sr=new Uint8Array(ir/4),lr=0,or=0,cr=0;cr<ir;cr+=4){var ur=nr[cr],dr=nr[cr+1],hr=nr[cr+2],fr=nr[cr+3];ar[lr++]=ur,ar[lr++]=dr,ar[lr++]=hr,sr[or++]=fr}var mr=this.__addimage__.arrayBufferToBinaryString(ar);return{alpha:this.__addimage__.arrayBufferToBinaryString(sr),data:mr,index:er,alias:rr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:tr.width,height:tr.height}},E.API.setLanguage=function(tr){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[tr]!==void 0&&(this.internal.languageSettings.languageCode=tr,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(tr,er){var rr,nr,ir=(er=er||{}).font||this.internal.getFont(),ar=er.fontSize||this.internal.getFontSize(),sr=er.charSpace||this.internal.getCharSpace(),lr=er.widths?er.widths:ir.metadata.Unicode.widths,or=lr.fof?lr.fof:1,cr=er.kerning?er.kerning:ir.metadata.Unicode.kerning,ur=cr.fof?cr.fof:1,dr=er.doKerning!==!1,hr=0,fr=tr.length,mr=0,br=lr[0]||or,pr=[];for(rr=0;rr<fr;rr++)nr=tr.charCodeAt(rr),typeof ir.metadata.widthOfString=="function"?pr.push((ir.metadata.widthOfGlyph(ir.metadata.characterToGlyph(nr))+sr*(1e3/ar)||0)/1e3):(hr=dr&&_typeof(cr[nr])==="object"&&!isNaN(parseInt(cr[nr][mr],10))?cr[nr][mr]/ur:0,pr.push((lr[nr]||br)/or+hr)),mr=nr;return pr},Yt=Vt.getStringUnitWidth=function(tr,er){var rr=(er=er||{}).fontSize||this.internal.getFontSize(),nr=er.font||this.internal.getFont(),ir=er.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(tr=Vt.processArabic(tr)),typeof nr.metadata.widthOfString=="function"?nr.metadata.widthOfString(tr,rr,ir)/rr:Gt.apply(this,arguments).reduce(function(ar,sr){return ar+sr},0)},Jt=function(tr,er,rr,nr){for(var ir=[],ar=0,sr=tr.length,lr=0;ar!==sr&&lr+er[ar]<rr;)lr+=er[ar],ar++;ir.push(tr.slice(0,ar));var or=ar;for(lr=0;ar!==sr;)lr+er[ar]>nr&&(ir.push(tr.slice(or,ar)),lr=0,or=ar),lr+=er[ar],ar++;return or!==ar&&ir.push(tr.slice(or,ar)),ir},Xt=function(tr,er,rr){rr||(rr={});var nr,ir,ar,sr,lr,or,cr,ur=[],dr=[ur],hr=rr.textIndent||0,fr=0,mr=0,br=tr.split(" "),pr=Gt.apply(this,[" ",rr])[0];if(or=rr.lineIndent===-1?br[0].length+2:rr.lineIndent||0){var gr=Array(or).join(" "),yr=[];br.map(function(_r){(_r=_r.split(/\s*\n/)).length>1?yr=yr.concat(_r.map(function(xr,Rr){return(Rr&&xr.length?`
`:"")+xr})):yr.push(_r[0])}),br=yr,or=Yt.apply(this,[gr,rr])}for(ar=0,sr=br.length;ar<sr;ar++){var vr=0;if(nr=br[ar],or&&nr[0]==`
`&&(nr=nr.substr(1),vr=1),hr+fr+(mr=(ir=Gt.apply(this,[nr,rr])).reduce(function(_r,xr){return _r+xr},0))>er||vr){if(mr>er){for(lr=Jt.apply(this,[nr,ir,er-(hr+fr),er]),ur.push(lr.shift()),ur=[lr.pop()];lr.length;)dr.push([lr.shift()]);mr=ir.slice(nr.length-(ur[0]?ur[0].length:0)).reduce(function(_r,xr){return _r+xr},0)}else ur=[nr];dr.push(ur),hr=mr+or,fr=pr}else ur.push(nr),hr+=fr+mr,fr=pr}return cr=or?function(_r,xr){return(xr?gr:"")+_r.join(" ")}:function(_r){return _r.join(" ")},dr.map(cr)},Vt.splitTextToSize=function(tr,er,rr){var nr,ir=(rr=rr||{}).fontSize||this.internal.getFontSize(),ar=(function(ur){if(ur.widths&&ur.kerning)return{widths:ur.widths,kerning:ur.kerning};var dr=this.internal.getFont(ur.fontName,ur.fontStyle);return dr.metadata.Unicode?{widths:dr.metadata.Unicode.widths||{0:1},kerning:dr.metadata.Unicode.kerning||{}}:{font:dr.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,rr);nr=Array.isArray(tr)?tr:String(tr).split(/\r?\n/);var sr=1*this.internal.scaleFactor*er/ir;ar.textIndent=rr.textIndent?1*rr.textIndent*this.internal.scaleFactor/ir:0,ar.lineIndent=rr.lineIndent;var lr,or,cr=[];for(lr=0,or=nr.length;lr<or;lr++)cr=cr.concat(Xt.apply(this,[nr[lr],sr,ar]));return cr},function(tr){tr.__fontmetrics__=tr.__fontmetrics__||{};for(var er="klmnopqrstuvwxyz",rr={},nr={},ir=0;ir<er.length;ir++)rr[er[ir]]="0123456789abcdef"[ir],nr["0123456789abcdef"[ir]]=er[ir];var ar=function(dr){return"0x"+parseInt(dr,10).toString(16)},sr=tr.__fontmetrics__.compress=function(dr){var hr,fr,mr,br,pr=["{"];for(var gr in dr){if(hr=dr[gr],isNaN(parseInt(gr,10))?fr="'"+gr+"'":(gr=parseInt(gr,10),fr=(fr=ar(gr).slice(2)).slice(0,-1)+nr[fr.slice(-1)]),typeof hr=="number")hr<0?(mr=ar(hr).slice(3),br="-"):(mr=ar(hr).slice(2),br=""),mr=br+mr.slice(0,-1)+nr[mr.slice(-1)];else{if(_typeof(hr)!=="object")throw new Error("Don't know what to do with value type "+_typeof(hr)+".");mr=sr(hr)}pr.push(fr+mr)}return pr.push("}"),pr.join("")},lr=tr.__fontmetrics__.uncompress=function(dr){if(typeof dr!="string")throw new Error("Invalid argument passed to uncompress.");for(var hr,fr,mr,br,pr={},gr=1,yr=pr,vr=[],_r="",xr="",Rr=dr.length-1,Cr=1;Cr<Rr;Cr+=1)(br=dr[Cr])=="'"?hr?(mr=hr.join(""),hr=void 0):hr=[]:hr?hr.push(br):br=="{"?(vr.push([yr,mr]),yr={},mr=void 0):br=="}"?((fr=vr.pop())[0][fr[1]]=yr,mr=void 0,yr=fr[0]):br=="-"?gr=-1:mr===void 0?rr.hasOwnProperty(br)?(_r+=rr[br],mr=parseInt(_r,16)*gr,gr=1,_r=""):_r+=br:rr.hasOwnProperty(br)?(xr+=rr[br],yr[mr]=parseInt(xr,16)*gr,gr=1,mr=void 0,xr=""):xr+=br;return pr},or={codePages:["WinAnsiEncoding"],WinAnsiEncoding:lr("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},cr={Unicode:{Courier:or,"Courier-Bold":or,"Courier-BoldOblique":or,"Courier-Oblique":or,Helvetica:or,"Helvetica-Bold":or,"Helvetica-BoldOblique":or,"Helvetica-Oblique":or,"Times-Roman":or,"Times-Bold":or,"Times-BoldItalic":or,"Times-Italic":or}},ur={Unicode:{"Courier-Oblique":lr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":lr("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":lr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:lr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":lr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":lr("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:lr("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:lr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":lr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:lr("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":lr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":lr("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":lr("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":lr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};tr.events.push(["addFont",function(dr){var hr=dr.font,fr=ur.Unicode[hr.postScriptName];fr&&(hr.metadata.Unicode={},hr.metadata.Unicode.widths=fr.widths,hr.metadata.Unicode.kerning=fr.kerning);var mr=cr.Unicode[hr.postScriptName];mr&&(hr.metadata.Unicode.encoding=mr,hr.encoding=mr.codePages[0])}])}(E.API),function(tr){var er=function(rr){for(var nr=rr.length,ir=new Uint8Array(nr),ar=0;ar<nr;ar++)ir[ar]=rr.charCodeAt(ar);return ir};tr.API.events.push(["addFont",function(rr){var nr=void 0,ir=rr.font,ar=rr.instance;if(!ir.isStandardFont){if(ar===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+ir.postScriptName+"').");if(typeof(nr=ar.existsFileInVFS(ir.postScriptName)===!1?ar.loadFile(ir.postScriptName):ar.getFileFromVFS(ir.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+ir.postScriptName+"').");(function(sr,lr){lr=/^\x00\x01\x00\x00/.test(lr)?er(lr):er(u(lr)),sr.metadata=tr.API.TTFFont.open(lr),sr.metadata.Unicode=sr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},sr.metadata.glyIdsUsed=[0]})(ir,nr)}}])}(E),function(tr){function er(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-CSuAjugx.js"),[])).catch(function(rr){return Promise.reject(new Error("Could not load canvg: "+rr))}).then(function(rr){return rr.default?rr.default:rr})}E.API.addSvgAsImage=function(rr,nr,ir,ar,sr,lr,or,cr){if(isNaN(nr)||isNaN(ir))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ar)||isNaN(sr))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ur=document.createElement("canvas");ur.width=ar,ur.height=sr;var dr=ur.getContext("2d");dr.fillStyle="#fff",dr.fillRect(0,0,ur.width,ur.height);var hr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},fr=this;return er().then(function(mr){return mr.fromString(dr,rr,hr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(mr){return mr.render(hr)}).then(function(){fr.addImage(ur.toDataURL("image/jpeg",1),nr,ir,ar,sr,or,cr)})}}(),E.API.putTotalPages=function(tr){var er,rr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(er=new RegExp(tr,"g"),rr=this.internal.getNumberOfPages()):(er=new RegExp(this.pdfEscape16(tr,this.internal.getFont()),"g"),rr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var nr=1;nr<=this.internal.getNumberOfPages();nr++)for(var ir=0;ir<this.internal.pages[nr].length;ir++)this.internal.pages[nr][ir]=this.internal.pages[nr][ir].replace(er,rr);return this},E.API.viewerPreferences=function(tr,er){var rr;tr=tr||{},er=er||!1;var nr,ir,ar,sr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},lr=Object.keys(sr),or=[],cr=0,ur=0,dr=0;function hr(mr,br){var pr,gr=!1;for(pr=0;pr<mr.length;pr+=1)mr[pr]===br&&(gr=!0);return gr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(sr)),this.internal.viewerpreferences.isSubscribed=!1),rr=this.internal.viewerpreferences.configuration,tr==="reset"||er===!0){var fr=lr.length;for(dr=0;dr<fr;dr+=1)rr[lr[dr]].value=rr[lr[dr]].defaultValue,rr[lr[dr]].explicitSet=!1}if(_typeof(tr)==="object"){for(ir in tr)if(ar=tr[ir],hr(lr,ir)&&ar!==void 0){if(rr[ir].type==="boolean"&&typeof ar=="boolean")rr[ir].value=ar;else if(rr[ir].type==="name"&&hr(rr[ir].valueSet,ar))rr[ir].value=ar;else if(rr[ir].type==="integer"&&Number.isInteger(ar))rr[ir].value=ar;else if(rr[ir].type==="array"){for(cr=0;cr<ar.length;cr+=1)if(nr=!0,ar[cr].length===1&&typeof ar[cr][0]=="number")or.push(String(ar[cr]-1));else if(ar[cr].length>1){for(ur=0;ur<ar[cr].length;ur+=1)typeof ar[cr][ur]!="number"&&(nr=!1);nr===!0&&or.push([ar[cr][0]-1,ar[cr][1]-1].join(" "))}rr[ir].value="["+or.join(" ")+"]"}else rr[ir].value=rr[ir].defaultValue;rr[ir].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var mr,br=[];for(mr in rr)rr[mr].explicitSet===!0&&(rr[mr].type==="name"?br.push("/"+mr+" /"+rr[mr].value):br.push("/"+mr+" "+rr[mr].value));br.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+br.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=rr,this},function(tr){var er=function(){var nr='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',ir=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ar=unescape(encodeURIComponent(nr)),sr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),lr=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),or=unescape(encodeURIComponent("</x:xmpmeta>")),cr=ar.length+sr.length+lr.length+ir.length+or.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+cr+" >>"),this.internal.write("stream"),this.internal.write(ir+ar+sr+lr+or),this.internal.write("endstream"),this.internal.write("endobj")},rr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};tr.addMetadata=function(nr,ir){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:nr,namespaceuri:ir||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",rr),this.internal.events.subscribe("postPutResources",er)),this}}(E.API),function(tr){var er=tr.API,rr=er.pdfEscape16=function(ar,sr){for(var lr,or=sr.metadata.Unicode.widths,cr=["","0","00","000","0000"],ur=[""],dr=0,hr=ar.length;dr<hr;++dr){if(lr=sr.metadata.characterToGlyph(ar.charCodeAt(dr)),sr.metadata.glyIdsUsed.push(lr),sr.metadata.toUnicode[lr]=ar.charCodeAt(dr),or.indexOf(lr)==-1&&(or.push(lr),or.push([parseInt(sr.metadata.widthOfGlyph(lr),10)])),lr=="0")return ur.join("");lr=lr.toString(16),ur.push(cr[4-lr.length],lr)}return ur.join("")},nr=function(ar){var sr,lr,or,cr,ur,dr,hr;for(ur=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,or=[],dr=0,hr=(lr=Object.keys(ar).sort(function(fr,mr){return fr-mr})).length;dr<hr;dr++)sr=lr[dr],or.length>=100&&(ur+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar`,or=[]),ar[sr]!==void 0&&ar[sr]!==null&&typeof ar[sr].toString=="function"&&(cr=("0000"+ar[sr].toString(16)).slice(-4),sr=("0000"+(+sr).toString(16)).slice(-4),or.push("<"+sr+"><"+cr+">"));return or.length&&(ur+=`
`+or.length+` beginbfchar
`+or.join(`
`)+`
endbfchar
`),ur+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};er.events.push(["putFont",function(ar){(function(sr){var lr=sr.font,or=sr.out,cr=sr.newObject,ur=sr.putStream;if(lr.metadata instanceof tr.API.TTFFont&&lr.encoding==="Identity-H"){for(var dr=lr.metadata.Unicode.widths,hr=lr.metadata.subset.encode(lr.metadata.glyIdsUsed,1),fr="",mr=0;mr<hr.length;mr++)fr+=String.fromCharCode(hr[mr]);var br=cr();ur({data:fr,addLength1:!0,objectId:br}),or("endobj");var pr=cr();ur({data:nr(lr.metadata.toUnicode),addLength1:!0,objectId:pr}),or("endobj");var gr=cr();or("<<"),or("/Type /FontDescriptor"),or("/FontName /"+F(lr.fontName)),or("/FontFile2 "+br+" 0 R"),or("/FontBBox "+tr.API.PDFObject.convert(lr.metadata.bbox)),or("/Flags "+lr.metadata.flags),or("/StemV "+lr.metadata.stemV),or("/ItalicAngle "+lr.metadata.italicAngle),or("/Ascent "+lr.metadata.ascender),or("/Descent "+lr.metadata.decender),or("/CapHeight "+lr.metadata.capHeight),or(">>"),or("endobj");var yr=cr();or("<<"),or("/Type /Font"),or("/BaseFont /"+F(lr.fontName)),or("/FontDescriptor "+gr+" 0 R"),or("/W "+tr.API.PDFObject.convert(dr)),or("/CIDToGIDMap /Identity"),or("/DW 1000"),or("/Subtype /CIDFontType2"),or("/CIDSystemInfo"),or("<<"),or("/Supplement 0"),or("/Registry (Adobe)"),or("/Ordering ("+lr.encoding+")"),or(">>"),or(">>"),or("endobj"),lr.objectNumber=cr(),or("<<"),or("/Type /Font"),or("/Subtype /Type0"),or("/ToUnicode "+pr+" 0 R"),or("/BaseFont /"+F(lr.fontName)),or("/Encoding /"+lr.encoding),or("/DescendantFonts ["+yr+" 0 R]"),or(">>"),or("endobj"),lr.isAlreadyPutted=!0}})(ar)}]),er.events.push(["putFont",function(ar){(function(sr){var lr=sr.font,or=sr.out,cr=sr.newObject,ur=sr.putStream;if(lr.metadata instanceof tr.API.TTFFont&&lr.encoding==="WinAnsiEncoding"){for(var dr=lr.metadata.rawData,hr="",fr=0;fr<dr.length;fr++)hr+=String.fromCharCode(dr[fr]);var mr=cr();ur({data:hr,addLength1:!0,objectId:mr}),or("endobj");var br=cr();ur({data:nr(lr.metadata.toUnicode),addLength1:!0,objectId:br}),or("endobj");var pr=cr();or("<<"),or("/Descent "+lr.metadata.decender),or("/CapHeight "+lr.metadata.capHeight),or("/StemV "+lr.metadata.stemV),or("/Type /FontDescriptor"),or("/FontFile2 "+mr+" 0 R"),or("/Flags 96"),or("/FontBBox "+tr.API.PDFObject.convert(lr.metadata.bbox)),or("/FontName /"+F(lr.fontName)),or("/ItalicAngle "+lr.metadata.italicAngle),or("/Ascent "+lr.metadata.ascender),or(">>"),or("endobj"),lr.objectNumber=cr();for(var gr=0;gr<lr.metadata.hmtx.widths.length;gr++)lr.metadata.hmtx.widths[gr]=parseInt(lr.metadata.hmtx.widths[gr]*(1e3/lr.metadata.head.unitsPerEm));or("<</Subtype/TrueType/Type/Font/ToUnicode "+br+" 0 R/BaseFont/"+F(lr.fontName)+"/FontDescriptor "+pr+" 0 R/Encoding/"+lr.encoding+" /FirstChar 29 /LastChar 255 /Widths "+tr.API.PDFObject.convert(lr.metadata.hmtx.widths)+">>"),or("endobj"),lr.isAlreadyPutted=!0}})(ar)}]);var ir=function(ar){var sr,lr=ar.text||"",or=ar.x,cr=ar.y,ur=ar.options||{},dr=ar.mutex||{},hr=dr.pdfEscape,fr=dr.activeFontKey,mr=dr.fonts,br=fr,pr="",gr=0,yr="",vr=mr[br].encoding;if(mr[br].encoding!=="Identity-H")return{text:lr,x:or,y:cr,options:ur,mutex:dr};for(yr=lr,br=fr,Array.isArray(lr)&&(yr=lr[0]),gr=0;gr<yr.length;gr+=1)mr[br].metadata.hasOwnProperty("cmap")&&(sr=mr[br].metadata.cmap.unicode.codeMap[yr[gr].charCodeAt(0)]),sr||yr[gr].charCodeAt(0)<256&&mr[br].metadata.hasOwnProperty("Unicode")?pr+=yr[gr]:pr+="";var _r="";return parseInt(br.slice(1))<14||vr==="WinAnsiEncoding"?_r=hr(pr,br).split("").map(function(xr){return xr.charCodeAt(0).toString(16)}).join(""):vr==="Identity-H"&&(_r=rr(pr,mr[br])),dr.isHex=!0,{text:_r,x:or,y:cr,options:ur,mutex:dr}};er.events.push(["postProcessText",function(ar){var sr=ar.text||"",lr=[],or={text:sr,x:ar.x,y:ar.y,options:ar.options,mutex:ar.mutex};if(Array.isArray(sr)){var cr=0;for(cr=0;cr<sr.length;cr+=1)Array.isArray(sr[cr])&&sr[cr].length===3?lr.push([ir(Object.assign({},or,{text:sr[cr][0]})).text,sr[cr][1],sr[cr][2]]):lr.push(ir(Object.assign({},or,{text:sr[cr]})).text);ar.text=lr}else ar.text=ir(Object.assign({},or,{text:sr})).text}])}(E),function(tr){var er=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};tr.existsFileInVFS=function(rr){return er.call(this),this.internal.vFS[rr]!==void 0},tr.addFileToVFS=function(rr,nr){return er.call(this),this.internal.vFS[rr]=nr,this},tr.getFileFromVFS=function(rr){return er.call(this),this.internal.vFS[rr]!==void 0?this.internal.vFS[rr]:null}}(E.API),function(tr){tr.__bidiEngine__=tr.prototype.__bidiEngine__=function(nr){var ir,ar,sr,lr,or,cr,ur,dr=er,hr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fr=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],mr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},br={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},pr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),yr=!1,vr=0;this.__bidiEngine__={};var _r=function(Nr){var Or=Nr.charCodeAt(),Pr=Or>>8,Mr=br[Pr];return Mr!==void 0?dr[256*Mr+(255&Or)]:Pr===252||Pr===253?"AL":gr.test(Pr)?"L":Pr===8?"R":"N"},xr=function(Nr){for(var Or,Pr=0;Pr<Nr.length;Pr++){if((Or=_r(Nr.charAt(Pr)))==="L")return!1;if(Or==="R")return!0}return!1},Rr=function(Nr,Or,Pr,Mr){var jr,wr,Er,Ar,Sr=Or[Mr];switch(Sr){case"L":case"R":yr=!1;break;case"N":case"AN":break;case"EN":yr&&(Sr="AN");break;case"AL":yr=!0,Sr="R";break;case"WS":Sr="N";break;case"CS":Mr<1||Mr+1>=Or.length||(jr=Pr[Mr-1])!=="EN"&&jr!=="AN"||(wr=Or[Mr+1])!=="EN"&&wr!=="AN"?Sr="N":yr&&(wr="AN"),Sr=wr===jr?wr:"N";break;case"ES":Sr=(jr=Mr>0?Pr[Mr-1]:"B")==="EN"&&Mr+1<Or.length&&Or[Mr+1]==="EN"?"EN":"N";break;case"ET":if(Mr>0&&Pr[Mr-1]==="EN"){Sr="EN";break}if(yr){Sr="N";break}for(Er=Mr+1,Ar=Or.length;Er<Ar&&Or[Er]==="ET";)Er++;Sr=Er<Ar&&Or[Er]==="EN"?"EN":"N";break;case"NSM":if(sr&&!lr){for(Ar=Or.length,Er=Mr+1;Er<Ar&&Or[Er]==="NSM";)Er++;if(Er<Ar){var Dr=Nr[Mr],Wr=Dr>=1425&&Dr<=2303||Dr===64286;if(jr=Or[Er],Wr&&(jr==="R"||jr==="AL")){Sr="R";break}}}Sr=Mr<1||(jr=Or[Mr-1])==="B"?"N":Pr[Mr-1];break;case"B":yr=!1,ir=!0,Sr=vr;break;case"S":ar=!0,Sr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":yr=!1;break;case"BN":Sr="N"}return Sr},Cr=function(Nr,Or,Pr){var Mr=Nr.split("");return Pr&&Tr(Mr,Pr,{hiLevel:vr}),Mr.reverse(),Or&&Or.reverse(),Mr.join("")},Tr=function(Nr,Or,Pr){var Mr,jr,wr,Er,Ar,Sr=-1,Dr=Nr.length,Wr=0,$r=[],Vr=vr?fr:hr,zr=[];for(yr=!1,ir=!1,ar=!1,jr=0;jr<Dr;jr++)zr[jr]=_r(Nr[jr]);for(wr=0;wr<Dr;wr++){if(Ar=Wr,$r[wr]=Rr(Nr,zr,$r,wr),Mr=240&(Wr=Vr[Ar][mr[$r[wr]]]),Wr&=15,Or[wr]=Er=Vr[Wr][5],Mr>0)if(Mr===16){for(jr=Sr;jr<wr;jr++)Or[jr]=1;Sr=-1}else Sr=-1;if(Vr[Wr][6])Sr===-1&&(Sr=wr);else if(Sr>-1){for(jr=Sr;jr<wr;jr++)Or[jr]=Er;Sr=-1}zr[wr]==="B"&&(Or[wr]=0),Pr.hiLevel|=Er}ar&&function(Gr,Fr,Xr){for(var Ur=0;Ur<Xr;Ur++)if(Gr[Ur]==="S"){Fr[Ur]=vr;for(var Br=Ur-1;Br>=0&&Gr[Br]==="WS";Br--)Fr[Br]=vr}}(zr,Or,Dr)},Ir=function(Nr,Or,Pr,Mr,jr){if(!(jr.hiLevel<Nr)){if(Nr===1&&vr===1&&!ir)return Or.reverse(),void(Pr&&Pr.reverse());for(var wr,Er,Ar,Sr,Dr=Or.length,Wr=0;Wr<Dr;){if(Mr[Wr]>=Nr){for(Ar=Wr+1;Ar<Dr&&Mr[Ar]>=Nr;)Ar++;for(Sr=Wr,Er=Ar-1;Sr<Er;Sr++,Er--)wr=Or[Sr],Or[Sr]=Or[Er],Or[Er]=wr,Pr&&(wr=Pr[Sr],Pr[Sr]=Pr[Er],Pr[Er]=wr);Wr=Ar}Wr++}}},Lr=function(Nr,Or,Pr){var Mr=Nr.split(""),jr={hiLevel:vr};return Pr||(Pr=[]),Tr(Mr,Pr,jr),function(wr,Er,Ar){if(Ar.hiLevel!==0&&ur)for(var Sr,Dr=0;Dr<wr.length;Dr++)Er[Dr]===1&&(Sr=pr.indexOf(wr[Dr]))>=0&&(wr[Dr]=pr[Sr+1])}(Mr,Pr,jr),Ir(2,Mr,Or,Pr,jr),Ir(1,Mr,Or,Pr,jr),Mr.join("")};return this.__bidiEngine__.doBidiReorder=function(Nr,Or,Pr){if(function(jr,wr){if(wr)for(var Er=0;Er<jr.length;Er++)wr[Er]=Er;lr===void 0&&(lr=xr(jr)),cr===void 0&&(cr=xr(jr))}(Nr,Or),sr||!or||cr)if(sr&&or&&lr^cr)vr=lr?1:0,Nr=Cr(Nr,Or,Pr);else if(!sr&&or&&cr)vr=lr?1:0,Nr=Lr(Nr,Or,Pr),Nr=Cr(Nr,Or);else if(!sr||lr||or||cr){if(sr&&!or&&lr^cr)Nr=Cr(Nr,Or),lr?(vr=0,Nr=Lr(Nr,Or,Pr)):(vr=1,Nr=Lr(Nr,Or,Pr),Nr=Cr(Nr,Or));else if(sr&&lr&&!or&&cr)vr=1,Nr=Lr(Nr,Or,Pr),Nr=Cr(Nr,Or);else if(!sr&&!or&&lr^cr){var Mr=ur;lr?(vr=1,Nr=Lr(Nr,Or,Pr),vr=0,ur=!1,Nr=Lr(Nr,Or,Pr),ur=Mr):(vr=0,Nr=Lr(Nr,Or,Pr),Nr=Cr(Nr,Or),vr=1,ur=!1,Nr=Lr(Nr,Or,Pr),ur=Mr,Nr=Cr(Nr,Or))}}else vr=0,Nr=Lr(Nr,Or,Pr);else vr=lr?1:0,Nr=Lr(Nr,Or,Pr);return Nr},this.__bidiEngine__.setOptions=function(Nr){Nr&&(sr=Nr.isInputVisual,or=Nr.isOutputVisual,lr=Nr.isInputRtl,cr=Nr.isOutputRtl,ur=Nr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(nr),this.__bidiEngine__};var er=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],rr=new tr.__bidiEngine__({isInputVisual:!0});tr.API.events.push(["postProcessText",function(nr){var ir=nr.text,ar=(nr.x,nr.y,nr.options||{}),sr=(nr.mutex,ar.lang,[]);if(ar.isInputVisual=typeof ar.isInputVisual!="boolean"||ar.isInputVisual,rr.setOptions(ar),Object.prototype.toString.call(ir)==="[object Array]"){var lr=0;for(sr=[],lr=0;lr<ir.length;lr+=1)Object.prototype.toString.call(ir[lr])==="[object Array]"?sr.push([rr.doBidiReorder(ir[lr][0]),ir[lr][1],ir[lr][2]]):sr.push([rr.doBidiReorder(ir[lr])]);nr.text=sr}else nr.text=rr.doBidiReorder(ir);rr.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function tr(er){var rr;if(this.rawData=er,rr=this.contents=new ne(er),this.contents.pos=4,rr.readString(4)==="ttcf")throw new Error("TTCF not supported.");rr.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return tr.open=function(er){return new tr(er)},tr.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},tr.prototype.registerTTF=function(){var er,rr,nr,ir,ar;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var sr,lr,or,cr;for(cr=[],sr=0,lr=(or=this.bbox).length;sr<lr;sr++)er=or[sr],cr.push(Math.round(er*this.scaleFactor));return cr}).call(this),this.stemV=0,this.post.exists?(nr=255&(ir=this.post.italic_angle),32768&(rr=ir>>16)&&(rr=-(1+(65535^rr))),this.italicAngle=+(rr+"."+nr)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ar=this.familyClass)===1||ar===2||ar===3||ar===4||ar===5||ar===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},tr.prototype.characterToGlyph=function(er){var rr;return((rr=this.cmap.unicode)!=null?rr.codeMap[er]:void 0)||0},tr.prototype.widthOfGlyph=function(er){var rr;return rr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(er).advance*rr},tr.prototype.widthOfString=function(er,rr,nr){var ir,ar,sr,lr;for(sr=0,ar=0,lr=(er=""+er).length;0<=lr?ar<lr:ar>lr;ar=0<=lr?++ar:--ar)ir=er.charCodeAt(ar),sr+=this.widthOfGlyph(this.characterToGlyph(ir))+nr*(1e3/rr)||0;return sr*(rr/1e3)},tr.prototype.lineHeight=function(er,rr){var nr;return rr==null&&(rr=!1),nr=rr?this.lineGap:0,(this.ascender+nr-this.decender)/1e3*er},tr}();var re,ne=function(){function tr(er){this.data=er??[],this.pos=0,this.length=this.data.length}return tr.prototype.readByte=function(){return this.data[this.pos++]},tr.prototype.writeByte=function(er){return this.data[this.pos++]=er},tr.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},tr.prototype.writeUInt32=function(er){return this.writeByte(er>>>24&255),this.writeByte(er>>16&255),this.writeByte(er>>8&255),this.writeByte(255&er)},tr.prototype.readInt32=function(){var er;return(er=this.readUInt32())>=2147483648?er-4294967296:er},tr.prototype.writeInt32=function(er){return er<0&&(er+=4294967296),this.writeUInt32(er)},tr.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},tr.prototype.writeUInt16=function(er){return this.writeByte(er>>8&255),this.writeByte(255&er)},tr.prototype.readInt16=function(){var er;return(er=this.readUInt16())>=32768?er-65536:er},tr.prototype.writeInt16=function(er){return er<0&&(er+=65536),this.writeUInt16(er)},tr.prototype.readString=function(er){var rr,nr;for(nr=[],rr=0;0<=er?rr<er:rr>er;rr=0<=er?++rr:--rr)nr[rr]=String.fromCharCode(this.readByte());return nr.join("")},tr.prototype.writeString=function(er){var rr,nr,ir;for(ir=[],rr=0,nr=er.length;0<=nr?rr<nr:rr>nr;rr=0<=nr?++rr:--rr)ir.push(this.writeByte(er.charCodeAt(rr)));return ir},tr.prototype.readShort=function(){return this.readInt16()},tr.prototype.writeShort=function(er){return this.writeInt16(er)},tr.prototype.readLongLong=function(){var er,rr,nr,ir,ar,sr,lr,or;return er=this.readByte(),rr=this.readByte(),nr=this.readByte(),ir=this.readByte(),ar=this.readByte(),sr=this.readByte(),lr=this.readByte(),or=this.readByte(),128&er?-1*(72057594037927940*(255^er)+281474976710656*(255^rr)+1099511627776*(255^nr)+4294967296*(255^ir)+16777216*(255^ar)+65536*(255^sr)+256*(255^lr)+(255^or)+1):72057594037927940*er+281474976710656*rr+1099511627776*nr+4294967296*ir+16777216*ar+65536*sr+256*lr+or},tr.prototype.writeLongLong=function(er){var rr,nr;return rr=Math.floor(er/4294967296),nr=4294967295&er,this.writeByte(rr>>24&255),this.writeByte(rr>>16&255),this.writeByte(rr>>8&255),this.writeByte(255&rr),this.writeByte(nr>>24&255),this.writeByte(nr>>16&255),this.writeByte(nr>>8&255),this.writeByte(255&nr)},tr.prototype.readInt=function(){return this.readInt32()},tr.prototype.writeInt=function(er){return this.writeInt32(er)},tr.prototype.read=function(er){var rr,nr;for(rr=[],nr=0;0<=er?nr<er:nr>er;nr=0<=er?++nr:--nr)rr.push(this.readByte());return rr},tr.prototype.write=function(er){var rr,nr,ir,ar;for(ar=[],nr=0,ir=er.length;nr<ir;nr++)rr=er[nr],ar.push(this.writeByte(rr));return ar},tr}(),ie=function(){var tr;function er(rr){var nr,ir,ar;for(this.scalarType=rr.readInt(),this.tableCount=rr.readShort(),this.searchRange=rr.readShort(),this.entrySelector=rr.readShort(),this.rangeShift=rr.readShort(),this.tables={},ir=0,ar=this.tableCount;0<=ar?ir<ar:ir>ar;ir=0<=ar?++ir:--ir)nr={tag:rr.readString(4),checksum:rr.readInt(),offset:rr.readInt(),length:rr.readInt()},this.tables[nr.tag]=nr}return er.prototype.encode=function(rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr,fr,mr,br;for(br in fr=Object.keys(rr).length,or=Math.log(2),dr=16*Math.floor(Math.log(fr)/or),sr=Math.floor(dr/or),ur=16*fr-dr,(ir=new ne).writeInt(this.scalarType),ir.writeShort(fr),ir.writeShort(dr),ir.writeShort(sr),ir.writeShort(ur),ar=16*fr,cr=ir.pos+ar,lr=null,mr=[],rr)for(hr=rr[br],ir.writeString(br),ir.writeInt(tr(hr)),ir.writeInt(cr),ir.writeInt(hr.length),mr=mr.concat(hr),br==="head"&&(lr=cr),cr+=hr.length;cr%4;)mr.push(0),cr++;return ir.write(mr),nr=2981146554-tr(ir.data),ir.pos=lr+8,ir.writeUInt32(nr),ir.data},tr=function(rr){var nr,ir,ar,sr;for(rr=ve.call(rr);rr.length%4;)rr.push(0);for(ar=new ne(rr),ir=0,nr=0,sr=rr.length;nr<sr;nr=nr+=4)ir+=ar.readUInt32();return 4294967295&ir},er}(),ae={}.hasOwnProperty,oe=function(tr,er){for(var rr in er)ae.call(er,rr)&&(tr[rr]=er[rr]);function nr(){this.constructor=tr}return nr.prototype=er.prototype,tr.prototype=new nr,tr.__super__=er.prototype,tr};re=function(){function tr(er){var rr;this.file=er,rr=this.file.directory.tables[this.tag],this.exists=!!rr,rr&&(this.offset=rr.offset,this.length=rr.length,this.parse(this.file.contents))}return tr.prototype.parse=function(){},tr.prototype.encode=function(){},tr.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},tr}();var se=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="head",er.prototype.parse=function(rr){return rr.pos=this.offset,this.version=rr.readInt(),this.revision=rr.readInt(),this.checkSumAdjustment=rr.readInt(),this.magicNumber=rr.readInt(),this.flags=rr.readShort(),this.unitsPerEm=rr.readShort(),this.created=rr.readLongLong(),this.modified=rr.readLongLong(),this.xMin=rr.readShort(),this.yMin=rr.readShort(),this.xMax=rr.readShort(),this.yMax=rr.readShort(),this.macStyle=rr.readShort(),this.lowestRecPPEM=rr.readShort(),this.fontDirectionHint=rr.readShort(),this.indexToLocFormat=rr.readShort(),this.glyphDataFormat=rr.readShort()},er.prototype.encode=function(rr){var nr;return(nr=new ne).writeInt(this.version),nr.writeInt(this.revision),nr.writeInt(this.checkSumAdjustment),nr.writeInt(this.magicNumber),nr.writeShort(this.flags),nr.writeShort(this.unitsPerEm),nr.writeLongLong(this.created),nr.writeLongLong(this.modified),nr.writeShort(this.xMin),nr.writeShort(this.yMin),nr.writeShort(this.xMax),nr.writeShort(this.yMax),nr.writeShort(this.macStyle),nr.writeShort(this.lowestRecPPEM),nr.writeShort(this.fontDirectionHint),nr.writeShort(rr),nr.writeShort(this.glyphDataFormat),nr.data},er}(),ce=function(){function tr(er,rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr;switch(this.platformID=er.readUInt16(),this.encodingID=er.readShort(),this.offset=rr+er.readInt(),dr=er.pos,er.pos=this.offset,this.format=er.readUInt16(),this.length=er.readUInt16(),this.language=er.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(or=0;or<256;++or)this.codeMap[or]=er.readByte();break;case 4:for(fr=er.readUInt16(),hr=fr/2,er.pos+=6,ar=function(){var _r,xr;for(xr=[],or=_r=0;0<=hr?_r<hr:_r>hr;or=0<=hr?++_r:--_r)xr.push(er.readUInt16());return xr}(),er.pos+=2,br=function(){var _r,xr;for(xr=[],or=_r=0;0<=hr?_r<hr:_r>hr;or=0<=hr?++_r:--_r)xr.push(er.readUInt16());return xr}(),cr=function(){var _r,xr;for(xr=[],or=_r=0;0<=hr?_r<hr:_r>hr;or=0<=hr?++_r:--_r)xr.push(er.readUInt16());return xr}(),ur=function(){var _r,xr;for(xr=[],or=_r=0;0<=hr?_r<hr:_r>hr;or=0<=hr?++_r:--_r)xr.push(er.readUInt16());return xr}(),ir=(this.length-er.pos+this.offset)/2,lr=function(){var _r,xr;for(xr=[],or=_r=0;0<=ir?_r<ir:_r>ir;or=0<=ir?++_r:--_r)xr.push(er.readUInt16());return xr}(),or=gr=0,vr=ar.length;gr<vr;or=++gr)for(pr=ar[or],nr=yr=mr=br[or];mr<=pr?yr<=pr:yr>=pr;nr=mr<=pr?++yr:--yr)ur[or]===0?sr=nr+cr[or]:(sr=lr[ur[or]/2+(nr-mr)-(hr-or)]||0)!==0&&(sr+=cr[or]),this.codeMap[nr]=65535&sr}er.pos=dr}return tr.encode=function(er,rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr,yr,vr,_r,xr,Rr,Cr,Tr,Ir,Lr,Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr,Dr,Wr,$r,Vr,zr,Gr,Fr,Xr,Ur,Br,Kr,Zr,tn;switch(Mr=new ne,sr=Object.keys(er).sort(function(sn,un){return sn-un}),rr){case"macroman":for(br=0,pr=function(){var sn=[];for(mr=0;mr<256;++mr)sn.push(0);return sn}(),yr={0:0},ar={},jr=0,Sr=sr.length;jr<Sr;jr++)yr[Br=er[ir=sr[jr]]]==null&&(yr[Br]=++br),ar[ir]={old:er[ir],new:yr[er[ir]]},pr[ir]=yr[er[ir]];return Mr.writeUInt16(1),Mr.writeUInt16(0),Mr.writeUInt32(12),Mr.writeUInt16(0),Mr.writeUInt16(262),Mr.writeUInt16(0),Mr.write(pr),{charMap:ar,subtable:Mr.data,maxGlyphID:br+1};case"unicode":for(Or=[],dr=[],vr=0,yr={},nr={},gr=cr=null,wr=0,Dr=sr.length;wr<Dr;wr++)yr[xr=er[ir=sr[wr]]]==null&&(yr[xr]=++vr),nr[ir]={old:xr,new:yr[xr]},lr=yr[xr]-ir,gr!=null&&lr===cr||(gr&&dr.push(gr),Or.push(ir),cr=lr),gr=ir;for(gr&&dr.push(gr),dr.push(65535),Or.push(65535),Lr=2*(Ir=Or.length),Tr=2*Math.pow(Math.log(Ir)/Math.LN2,2),hr=Math.log(Tr/2)/Math.LN2,Cr=2*Ir-Tr,or=[],Rr=[],fr=[],mr=Er=0,Wr=Or.length;Er<Wr;mr=++Er){if(Nr=Or[mr],ur=dr[mr],Nr===65535){or.push(0),Rr.push(0);break}if(Nr-(Pr=nr[Nr].new)>=32768)for(or.push(0),Rr.push(2*(fr.length+Ir-mr)),ir=Ar=Nr;Nr<=ur?Ar<=ur:Ar>=ur;ir=Nr<=ur?++Ar:--Ar)fr.push(nr[ir].new);else or.push(Pr-Nr),Rr.push(0)}for(Mr.writeUInt16(3),Mr.writeUInt16(1),Mr.writeUInt32(12),Mr.writeUInt16(4),Mr.writeUInt16(16+8*Ir+2*fr.length),Mr.writeUInt16(0),Mr.writeUInt16(Lr),Mr.writeUInt16(Tr),Mr.writeUInt16(hr),Mr.writeUInt16(Cr),Xr=0,$r=dr.length;Xr<$r;Xr++)ir=dr[Xr],Mr.writeUInt16(ir);for(Mr.writeUInt16(0),Ur=0,Vr=Or.length;Ur<Vr;Ur++)ir=Or[Ur],Mr.writeUInt16(ir);for(Kr=0,zr=or.length;Kr<zr;Kr++)lr=or[Kr],Mr.writeUInt16(lr);for(Zr=0,Gr=Rr.length;Zr<Gr;Zr++)_r=Rr[Zr],Mr.writeUInt16(_r);for(tn=0,Fr=fr.length;tn<Fr;tn++)br=fr[tn],Mr.writeUInt16(br);return{charMap:nr,subtable:Mr.data,maxGlyphID:vr+1}}},tr}(),ue=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="cmap",er.prototype.parse=function(rr){var nr,ir,ar;for(rr.pos=this.offset,this.version=rr.readUInt16(),ar=rr.readUInt16(),this.tables=[],this.unicode=null,ir=0;0<=ar?ir<ar:ir>ar;ir=0<=ar?++ir:--ir)nr=new ce(rr,this.offset),this.tables.push(nr),nr.isUnicode&&this.unicode==null&&(this.unicode=nr);return!0},er.encode=function(rr,nr){var ir,ar;return nr==null&&(nr="macroman"),ir=ce.encode(rr,nr),(ar=new ne).writeUInt16(0),ar.writeUInt16(1),ir.table=ar.data.concat(ir.subtable),ir},er}(),he=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="hhea",er.prototype.parse=function(rr){return rr.pos=this.offset,this.version=rr.readInt(),this.ascender=rr.readShort(),this.decender=rr.readShort(),this.lineGap=rr.readShort(),this.advanceWidthMax=rr.readShort(),this.minLeftSideBearing=rr.readShort(),this.minRightSideBearing=rr.readShort(),this.xMaxExtent=rr.readShort(),this.caretSlopeRise=rr.readShort(),this.caretSlopeRun=rr.readShort(),this.caretOffset=rr.readShort(),rr.pos+=8,this.metricDataFormat=rr.readShort(),this.numberOfMetrics=rr.readUInt16()},er}(),le=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="OS/2",er.prototype.parse=function(rr){if(rr.pos=this.offset,this.version=rr.readUInt16(),this.averageCharWidth=rr.readShort(),this.weightClass=rr.readUInt16(),this.widthClass=rr.readUInt16(),this.type=rr.readShort(),this.ySubscriptXSize=rr.readShort(),this.ySubscriptYSize=rr.readShort(),this.ySubscriptXOffset=rr.readShort(),this.ySubscriptYOffset=rr.readShort(),this.ySuperscriptXSize=rr.readShort(),this.ySuperscriptYSize=rr.readShort(),this.ySuperscriptXOffset=rr.readShort(),this.ySuperscriptYOffset=rr.readShort(),this.yStrikeoutSize=rr.readShort(),this.yStrikeoutPosition=rr.readShort(),this.familyClass=rr.readShort(),this.panose=function(){var nr,ir;for(ir=[],nr=0;nr<10;++nr)ir.push(rr.readByte());return ir}(),this.charRange=function(){var nr,ir;for(ir=[],nr=0;nr<4;++nr)ir.push(rr.readInt());return ir}(),this.vendorID=rr.readString(4),this.selection=rr.readShort(),this.firstCharIndex=rr.readShort(),this.lastCharIndex=rr.readShort(),this.version>0&&(this.ascent=rr.readShort(),this.descent=rr.readShort(),this.lineGap=rr.readShort(),this.winAscent=rr.readShort(),this.winDescent=rr.readShort(),this.codePageRange=function(){var nr,ir;for(ir=[],nr=0;nr<2;nr=++nr)ir.push(rr.readInt());return ir}(),this.version>1))return this.xHeight=rr.readShort(),this.capHeight=rr.readShort(),this.defaultChar=rr.readShort(),this.breakChar=rr.readShort(),this.maxContext=rr.readShort()},er}(),fe=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="post",er.prototype.parse=function(rr){var nr,ir,ar;switch(rr.pos=this.offset,this.format=rr.readInt(),this.italicAngle=rr.readInt(),this.underlinePosition=rr.readShort(),this.underlineThickness=rr.readShort(),this.isFixedPitch=rr.readInt(),this.minMemType42=rr.readInt(),this.maxMemType42=rr.readInt(),this.minMemType1=rr.readInt(),this.maxMemType1=rr.readInt(),this.format){case 65536:break;case 131072:var sr;for(ir=rr.readUInt16(),this.glyphNameIndex=[],sr=0;0<=ir?sr<ir:sr>ir;sr=0<=ir?++sr:--sr)this.glyphNameIndex.push(rr.readUInt16());for(this.names=[],ar=[];rr.pos<this.offset+this.length;)nr=rr.readByte(),ar.push(this.names.push(rr.readString(nr)));return ar;case 151552:return ir=rr.readUInt16(),this.offsets=rr.read(ir);case 196608:break;case 262144:return this.map=(function(){var lr,or,cr;for(cr=[],sr=lr=0,or=this.file.maxp.numGlyphs;0<=or?lr<or:lr>or;sr=0<=or?++lr:--lr)cr.push(rr.readUInt32());return cr}).call(this)}},er}(),de=function(tr,er){this.raw=tr,this.length=tr.length,this.platformID=er.platformID,this.encodingID=er.encodingID,this.languageID=er.languageID},pe=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="name",er.prototype.parse=function(rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr,fr;for(rr.pos=this.offset,rr.readShort(),nr=rr.readShort(),or=rr.readShort(),ir=[],sr=0;0<=nr?sr<nr:sr>nr;sr=0<=nr?++sr:--sr)ir.push({platformID:rr.readShort(),encodingID:rr.readShort(),languageID:rr.readShort(),nameID:rr.readShort(),length:rr.readShort(),offset:this.offset+or+rr.readShort()});for(cr={},sr=dr=0,hr=ir.length;dr<hr;sr=++dr)ar=ir[sr],rr.pos=ar.offset,ur=rr.readString(ar.length),lr=new de(ur,ar),cr[fr=ar.nameID]==null&&(cr[fr]=[]),cr[ar.nameID].push(lr);this.strings=cr,this.copyright=cr[0],this.fontFamily=cr[1],this.fontSubfamily=cr[2],this.uniqueSubfamily=cr[3],this.fontName=cr[4],this.version=cr[5];try{this.postscriptName=cr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=cr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=cr[7],this.manufacturer=cr[8],this.designer=cr[9],this.description=cr[10],this.vendorUrl=cr[11],this.designerUrl=cr[12],this.license=cr[13],this.licenseUrl=cr[14],this.preferredFamily=cr[15],this.preferredSubfamily=cr[17],this.compatibleFull=cr[18],this.sampleText=cr[19]},er}(),ge=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="maxp",er.prototype.parse=function(rr){return rr.pos=this.offset,this.version=rr.readInt(),this.numGlyphs=rr.readUInt16(),this.maxPoints=rr.readUInt16(),this.maxContours=rr.readUInt16(),this.maxCompositePoints=rr.readUInt16(),this.maxComponentContours=rr.readUInt16(),this.maxZones=rr.readUInt16(),this.maxTwilightPoints=rr.readUInt16(),this.maxStorage=rr.readUInt16(),this.maxFunctionDefs=rr.readUInt16(),this.maxInstructionDefs=rr.readUInt16(),this.maxStackElements=rr.readUInt16(),this.maxSizeOfInstructions=rr.readUInt16(),this.maxComponentElements=rr.readUInt16(),this.maxComponentDepth=rr.readUInt16()},er}(),me=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="hmtx",er.prototype.parse=function(rr){var nr,ir,ar,sr,lr,or,cr;for(rr.pos=this.offset,this.metrics=[],nr=0,or=this.file.hhea.numberOfMetrics;0<=or?nr<or:nr>or;nr=0<=or?++nr:--nr)this.metrics.push({advance:rr.readUInt16(),lsb:rr.readInt16()});for(ar=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ur,dr;for(dr=[],nr=ur=0;0<=ar?ur<ar:ur>ar;nr=0<=ar?++ur:--ur)dr.push(rr.readInt16());return dr}(),this.widths=(function(){var ur,dr,hr,fr;for(fr=[],ur=0,dr=(hr=this.metrics).length;ur<dr;ur++)sr=hr[ur],fr.push(sr.advance);return fr}).call(this),ir=this.widths[this.widths.length-1],cr=[],nr=lr=0;0<=ar?lr<ar:lr>ar;nr=0<=ar?++lr:--lr)cr.push(this.widths.push(ir));return cr},er.prototype.forGlyph=function(rr){return rr in this.metrics?this.metrics[rr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[rr-this.metrics.length]}},er}(),ve=[].slice,be=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="glyf",er.prototype.parse=function(){return this.cache={}},er.prototype.glyphFor=function(rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr;return rr in this.cache?this.cache[rr]:(sr=this.file.loca,nr=this.file.contents,ir=sr.indexOf(rr),(ar=sr.lengthOf(rr))===0?this.cache[rr]=null:(nr.pos=this.offset+ir,lr=(or=new ne(nr.read(ar))).readShort(),ur=or.readShort(),hr=or.readShort(),cr=or.readShort(),dr=or.readShort(),this.cache[rr]=lr===-1?new we(or,ur,hr,cr,dr):new ye(or,lr,ur,hr,cr,dr),this.cache[rr]))},er.prototype.encode=function(rr,nr,ir){var ar,sr,lr,or,cr;for(lr=[],sr=[],or=0,cr=nr.length;or<cr;or++)ar=rr[nr[or]],sr.push(lr.length),ar&&(lr=lr.concat(ar.encode(ir)));return sr.push(lr.length),{table:lr,offsets:sr}},er}(),ye=function(){function tr(er,rr,nr,ir,ar,sr){this.raw=er,this.numberOfContours=rr,this.xMin=nr,this.yMin=ir,this.xMax=ar,this.yMax=sr,this.compound=!1}return tr.prototype.encode=function(){return this.raw.data},tr}(),we=function(){function tr(er,rr,nr,ir,ar){var sr,lr;for(this.raw=er,this.xMin=rr,this.yMin=nr,this.xMax=ir,this.yMax=ar,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],sr=this.raw;lr=sr.readShort(),this.glyphOffsets.push(sr.pos),this.glyphIDs.push(sr.readUInt16()),32&lr;)sr.pos+=1&lr?4:2,128&lr?sr.pos+=8:64&lr?sr.pos+=4:8&lr&&(sr.pos+=2)}return tr.prototype.encode=function(){var er,rr,nr;for(rr=new ne(ve.call(this.raw.data)),er=0,nr=this.glyphIDs.length;er<nr;++er)rr.pos=this.glyphOffsets[er];return rr.data},tr}(),Ne=function(tr){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="loca",er.prototype.parse=function(rr){var nr,ir;return rr.pos=this.offset,nr=this.file.head.indexToLocFormat,this.offsets=nr===0?(function(){var ar,sr;for(sr=[],ir=0,ar=this.length;ir<ar;ir+=2)sr.push(2*rr.readUInt16());return sr}).call(this):(function(){var ar,sr;for(sr=[],ir=0,ar=this.length;ir<ar;ir+=4)sr.push(rr.readUInt32());return sr}).call(this)},er.prototype.indexOf=function(rr){return this.offsets[rr]},er.prototype.lengthOf=function(rr){return this.offsets[rr+1]-this.offsets[rr]},er.prototype.encode=function(rr,nr){for(var ir=new Uint32Array(this.offsets.length),ar=0,sr=0,lr=0;lr<ir.length;++lr)if(ir[lr]=ar,sr<nr.length&&nr[sr]==lr){++sr,ir[lr]=ar;var or=this.offsets[lr],cr=this.offsets[lr+1]-or;cr>0&&(ar+=cr)}for(var ur=new Array(4*ir.length),dr=0;dr<ir.length;++dr)ur[4*dr+3]=255&ir[dr],ur[4*dr+2]=(65280&ir[dr])>>8,ur[4*dr+1]=(16711680&ir[dr])>>16,ur[4*dr]=(4278190080&ir[dr])>>24;return ur},er}(),Le=function(){function tr(er){this.font=er,this.subset={},this.unicodes={},this.next=33}return tr.prototype.generateCmap=function(){var er,rr,nr,ir,ar;for(rr in ir=this.font.cmap.tables[0].codeMap,er={},ar=this.subset)nr=ar[rr],er[rr]=ir[nr];return er},tr.prototype.glyphsFor=function(er){var rr,nr,ir,ar,sr,lr,or;for(ir={},sr=0,lr=er.length;sr<lr;sr++)ir[ar=er[sr]]=this.font.glyf.glyphFor(ar);for(ar in rr=[],ir)(nr=ir[ar])!=null&&nr.compound&&rr.push.apply(rr,nr.glyphIDs);if(rr.length>0)for(ar in or=this.glyphsFor(rr))nr=or[ar],ir[ar]=nr;return ir},tr.prototype.encode=function(er,rr){var nr,ir,ar,sr,lr,or,cr,ur,dr,hr,fr,mr,br,pr,gr;for(ir in nr=ue.encode(this.generateCmap(),"unicode"),sr=this.glyphsFor(er),fr={0:0},gr=nr.charMap)fr[(or=gr[ir]).old]=or.new;for(mr in hr=nr.maxGlyphID,sr)mr in fr||(fr[mr]=hr++);return ur=function(yr){var vr,_r;for(vr in _r={},yr)_r[yr[vr]]=vr;return _r}(fr),dr=Object.keys(ur).sort(function(yr,vr){return yr-vr}),br=function(){var yr,vr,_r;for(_r=[],yr=0,vr=dr.length;yr<vr;yr++)lr=dr[yr],_r.push(ur[lr]);return _r}(),ar=this.font.glyf.encode(sr,br,fr),cr=this.font.loca.encode(ar.offsets,br),pr={cmap:this.font.cmap.raw(),glyf:ar.table,loca:cr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(rr)},this.font.os2.exists&&(pr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(pr)},tr}();E.API.PDFObject=function(){var tr;function er(){}return tr=function(rr,nr){return(Array(nr+1).join("0")+rr).slice(-nr)},er.convert=function(rr){var nr,ir,ar,sr;if(Array.isArray(rr))return"["+function(){var lr,or,cr;for(cr=[],lr=0,or=rr.length;lr<or;lr++)nr=rr[lr],cr.push(er.convert(nr));return cr}().join(" ")+"]";if(typeof rr=="string")return"/"+rr;if(rr!=null&&rr.isString)return"("+rr+")";if(rr instanceof Date)return"(D:"+tr(rr.getUTCFullYear(),4)+tr(rr.getUTCMonth(),2)+tr(rr.getUTCDate(),2)+tr(rr.getUTCHours(),2)+tr(rr.getUTCMinutes(),2)+tr(rr.getUTCSeconds(),2)+"Z)";if({}.toString.call(rr)==="[object Object]"){for(ir in ar=["<<"],rr)sr=rr[ir],ar.push("/"+ir+" "+er.convert(sr));return ar.push(">>"),ar.join(`
`)}return""+rr},er}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At,AcroFormButton:mt,AcroFormCheckBox:wt,AcroFormChoiceField:ft,AcroFormComboBox:pt,AcroFormEditBox:gt,AcroFormListBox:dt,AcroFormPasswordField:Lt,AcroFormPushButton:vt,AcroFormRadioButton:bt,AcroFormTextField:Nt,GState:j,ShadingPattern:B,TilingPattern:M,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"}));var jspdf_plugin_autotable={exports:{}};const require$$0=getAugmentedNamespace(jspdf_es_min);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(tr,er){(function(nr,ir){tr.exports=ir(function(){try{return require$$0}catch{}}())})(typeof globalThis<"u"?globalThis:typeof commonjsGlobal$2<"u"?commonjsGlobal$2:typeof window<"u"?window:typeof self<"u"?self:commonjsGlobal$2,function(rr){return function(){var nr={172:function(lr,or){var cr=this&&this.__extends||function(){var hr=function(fr,mr){return hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(br,pr){br.__proto__=pr}||function(br,pr){for(var gr in pr)Object.prototype.hasOwnProperty.call(pr,gr)&&(br[gr]=pr[gr])},hr(fr,mr)};return function(fr,mr){if(typeof mr!="function"&&mr!==null)throw new TypeError("Class extends value "+String(mr)+" is not a constructor or null");hr(fr,mr);function br(){this.constructor=fr}fr.prototype=mr===null?Object.create(mr):(br.prototype=mr.prototype,new br)}}();Object.defineProperty(or,"__esModule",{value:!0}),or.CellHookData=or.HookData=void 0;var ur=function(){function hr(fr,mr,br){this.table=mr,this.pageNumber=mr.pageNumber,this.pageCount=this.pageNumber,this.settings=mr.settings,this.cursor=br,this.doc=fr.getDocument()}return hr}();or.HookData=ur;var dr=function(hr){cr(fr,hr);function fr(mr,br,pr,gr,yr,vr){var _r=hr.call(this,mr,br,vr)||this;return _r.cell=pr,_r.row=gr,_r.column=yr,_r.section=gr.section,_r}return fr}(ur);or.CellHookData=dr},340:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0});var ur=cr(4),dr=cr(136),hr=cr(744),fr=cr(776),mr=cr(664),br=cr(972);function pr(gr){gr.API.autoTable=function(){for(var yr=[],vr=0;vr<arguments.length;vr++)yr[vr]=arguments[vr];var _r;yr.length===1?_r=yr[0]:(console.error("Use of deprecated autoTable initiation"),_r=yr[2]||{},_r.columns=yr[0],_r.body=yr[1]);var xr=(0,fr.parseInput)(this,_r),Rr=(0,br.createTable)(this,xr);return(0,mr.drawTable)(this,Rr),this},gr.API.lastAutoTable=!1,gr.API.previousAutoTable=!1,gr.API.autoTable.previous=!1,gr.API.autoTableText=function(yr,vr,_r,xr){(0,dr.default)(yr,vr,_r,xr,this)},gr.API.autoTableSetDefaults=function(yr){return hr.DocHandler.setDefaults(yr,this),this},gr.autoTableSetDefaults=function(yr,vr){hr.DocHandler.setDefaults(yr,vr)},gr.API.autoTableHtmlToJson=function(yr,vr){var _r;if(vr===void 0&&(vr=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var xr=new hr.DocHandler(this),Rr=(0,ur.parseHtml)(xr,yr,window,vr,!1),Cr=Rr.head,Tr=Rr.body,Ir=((_r=Cr[0])===null||_r===void 0?void 0:_r.map(function(Lr){return Lr.content}))||[];return{columns:Ir,rows:Tr,data:Tr}},gr.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var yr=this.lastAutoTable;return yr&&yr.finalY?yr.finalY:0},gr.API.autoTableAddPageContent=function(yr){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),gr.API.autoTable.globalDefaults||(gr.API.autoTable.globalDefaults={}),gr.API.autoTable.globalDefaults.addPageContent=yr,this},gr.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}or.default=pr},136:function(lr,or){Object.defineProperty(or,"__esModule",{value:!0});function cr(ur,dr,hr,fr,mr){fr=fr||{};var br=1.15,pr=mr.internal.scaleFactor,gr=mr.internal.getFontSize()/pr,yr=mr.getLineHeightFactor?mr.getLineHeightFactor():br,vr=gr*yr,_r=/\r\n|\r|\n/g,xr="",Rr=1;if((fr.valign==="middle"||fr.valign==="bottom"||fr.halign==="center"||fr.halign==="right")&&(xr=typeof ur=="string"?ur.split(_r):ur,Rr=xr.length||1),hr+=gr*(2-br),fr.valign==="middle"?hr-=Rr/2*vr:fr.valign==="bottom"&&(hr-=Rr*vr),fr.halign==="center"||fr.halign==="right"){var Cr=gr;if(fr.halign==="center"&&(Cr*=.5),xr&&Rr>=1){for(var Tr=0;Tr<xr.length;Tr++)mr.text(xr[Tr],dr-mr.getStringUnitWidth(xr[Tr])*Cr,hr),hr+=vr;return mr}dr-=mr.getStringUnitWidth(ur)*Cr}return fr.halign==="justify"?mr.text(ur,dr,hr,{maxWidth:fr.maxWidth||100,align:"justify"}):mr.text(ur,dr,hr),mr}or.default=cr},420:function(lr,or){Object.defineProperty(or,"__esModule",{value:!0}),or.getPageAvailableWidth=or.parseSpacing=or.getFillStyle=or.addTableBorder=or.getStringWidth=void 0;function cr(mr,br,pr){pr.applyStyles(br,!0);var gr=Array.isArray(mr)?mr:[mr],yr=gr.map(function(vr){return pr.getTextWidth(vr)}).reduce(function(vr,_r){return Math.max(vr,_r)},0);return yr}or.getStringWidth=cr;function ur(mr,br,pr,gr){var yr=br.settings.tableLineWidth,vr=br.settings.tableLineColor;mr.applyStyles({lineWidth:yr,lineColor:vr});var _r=dr(yr,!1);_r&&mr.rect(pr.x,pr.y,br.getWidth(mr.pageSize().width),gr.y-pr.y,_r)}or.addTableBorder=ur;function dr(mr,br){var pr=mr>0,gr=br||br===0;return pr&&gr?"DF":pr?"S":gr?"F":null}or.getFillStyle=dr;function hr(mr,br){var pr,gr,yr,vr;if(mr=mr||br,Array.isArray(mr)){if(mr.length>=4)return{top:mr[0],right:mr[1],bottom:mr[2],left:mr[3]};if(mr.length===3)return{top:mr[0],right:mr[1],bottom:mr[2],left:mr[1]};if(mr.length===2)return{top:mr[0],right:mr[1],bottom:mr[0],left:mr[1]};mr.length===1?mr=mr[0]:mr=br}return typeof mr=="object"?(typeof mr.vertical=="number"&&(mr.top=mr.vertical,mr.bottom=mr.vertical),typeof mr.horizontal=="number"&&(mr.right=mr.horizontal,mr.left=mr.horizontal),{left:(pr=mr.left)!==null&&pr!==void 0?pr:br,top:(gr=mr.top)!==null&&gr!==void 0?gr:br,right:(yr=mr.right)!==null&&yr!==void 0?yr:br,bottom:(vr=mr.bottom)!==null&&vr!==void 0?vr:br}):(typeof mr!="number"&&(mr=br),{top:mr,right:mr,bottom:mr,left:mr})}or.parseSpacing=hr;function fr(mr,br){var pr=hr(br.settings.margin,0);return mr.pageSize().width-(pr.left+pr.right)}or.getPageAvailableWidth=fr},796:function(lr,or){var cr=this&&this.__extends||function(){var fr=function(mr,br){return fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pr,gr){pr.__proto__=gr}||function(pr,gr){for(var yr in gr)Object.prototype.hasOwnProperty.call(gr,yr)&&(pr[yr]=gr[yr])},fr(mr,br)};return function(mr,br){if(typeof br!="function"&&br!==null)throw new TypeError("Class extends value "+String(br)+" is not a constructor or null");fr(mr,br);function pr(){this.constructor=mr}mr.prototype=br===null?Object.create(br):(pr.prototype=br.prototype,new pr)}}();Object.defineProperty(or,"__esModule",{value:!0}),or.getTheme=or.defaultStyles=or.HtmlRowInput=void 0;var ur=function(fr){cr(mr,fr);function mr(br){var pr=fr.call(this)||this;return pr._element=br,pr}return mr}(Array);or.HtmlRowInput=ur;function dr(fr){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/fr,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}or.defaultStyles=dr;function hr(fr){var mr={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return mr[fr]}or.getTheme=hr},903:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.parseCss=void 0;var ur=cr(420);function dr(pr,gr,yr,vr,_r){var xr={},Rr=1.3333333333333333,Cr=fr(gr,function(Sr){return _r.getComputedStyle(Sr).backgroundColor});Cr!=null&&(xr.fillColor=Cr);var Tr=fr(gr,function(Sr){return _r.getComputedStyle(Sr).color});Tr!=null&&(xr.textColor=Tr);var Ir=br(vr,yr);Ir&&(xr.cellPadding=Ir);var Lr="borderTopColor",Nr=Rr*yr,Or=vr.borderTopWidth;if(vr.borderBottomWidth===Or&&vr.borderRightWidth===Or&&vr.borderLeftWidth===Or){var Pr=(parseFloat(Or)||0)/Nr;Pr&&(xr.lineWidth=Pr)}else xr.lineWidth={top:(parseFloat(vr.borderTopWidth)||0)/Nr,right:(parseFloat(vr.borderRightWidth)||0)/Nr,bottom:(parseFloat(vr.borderBottomWidth)||0)/Nr,left:(parseFloat(vr.borderLeftWidth)||0)/Nr},xr.lineWidth.top||(xr.lineWidth.right?Lr="borderRightColor":xr.lineWidth.bottom?Lr="borderBottomColor":xr.lineWidth.left&&(Lr="borderLeftColor"));var Mr=fr(gr,function(Sr){return _r.getComputedStyle(Sr)[Lr]});Mr!=null&&(xr.lineColor=Mr);var jr=["left","right","center","justify"];jr.indexOf(vr.textAlign)!==-1&&(xr.halign=vr.textAlign),jr=["middle","bottom","top"],jr.indexOf(vr.verticalAlign)!==-1&&(xr.valign=vr.verticalAlign);var wr=parseInt(vr.fontSize||"");isNaN(wr)||(xr.fontSize=wr/Rr);var Er=hr(vr);Er&&(xr.fontStyle=Er);var Ar=(vr.fontFamily||"").toLowerCase();return pr.indexOf(Ar)!==-1&&(xr.font=Ar),xr}or.parseCss=dr;function hr(pr){var gr="";return(pr.fontWeight==="bold"||pr.fontWeight==="bolder"||parseInt(pr.fontWeight)>=700)&&(gr="bold"),(pr.fontStyle==="italic"||pr.fontStyle==="oblique")&&(gr+="italic"),gr}function fr(pr,gr){var yr=mr(pr,gr);if(!yr)return null;var vr=yr.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!vr||!Array.isArray(vr))return null;var _r=[parseInt(vr[1]),parseInt(vr[2]),parseInt(vr[3])],xr=parseInt(vr[4]);return xr===0||isNaN(_r[0])||isNaN(_r[1])||isNaN(_r[2])?null:_r}function mr(pr,gr){var yr=gr(pr);return yr==="rgba(0, 0, 0, 0)"||yr==="transparent"||yr==="initial"||yr==="inherit"?pr.parentElement==null?null:mr(pr.parentElement,gr):yr}function br(pr,gr){var yr=[pr.paddingTop,pr.paddingRight,pr.paddingBottom,pr.paddingLeft],vr=96/(72/gr),_r=(parseInt(pr.lineHeight)-parseInt(pr.fontSize))/gr/2,xr=yr.map(function(Cr){return parseInt(Cr||"0")/vr}),Rr=(0,ur.parseSpacing)(xr,0);return _r>Rr.top&&(Rr.top=_r),_r>Rr.bottom&&(Rr.bottom=_r),Rr}},744:function(lr,or){Object.defineProperty(or,"__esModule",{value:!0}),or.DocHandler=void 0;var cr={},ur=function(){function dr(hr){this.jsPDFDocument=hr,this.userStyles={textColor:hr.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:hr.internal.getFontSize(),fontStyle:hr.internal.getFont().fontStyle,font:hr.internal.getFont().fontName,lineWidth:hr.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:hr.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return dr.setDefaults=function(hr,fr){fr===void 0&&(fr=null),fr?fr.__autoTableDocumentDefaults=hr:cr=hr},dr.unifyColor=function(hr){return Array.isArray(hr)?hr:typeof hr=="number"?[hr,hr,hr]:typeof hr=="string"?[hr]:null},dr.prototype.applyStyles=function(hr,fr){var mr,br,pr;fr===void 0&&(fr=!1),hr.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(hr.fontStyle);var gr=this.jsPDFDocument.internal.getFont(),yr=gr.fontStyle,vr=gr.fontName;if(hr.font&&(vr=hr.font),hr.fontStyle){yr=hr.fontStyle;var _r=this.getFontList()[vr];_r&&_r.indexOf(yr)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(_r[0]),yr=_r[0])}if(this.jsPDFDocument.setFont(vr,yr),hr.fontSize&&this.jsPDFDocument.setFontSize(hr.fontSize),!fr){var xr=dr.unifyColor(hr.fillColor);xr&&(mr=this.jsPDFDocument).setFillColor.apply(mr,xr),xr=dr.unifyColor(hr.textColor),xr&&(br=this.jsPDFDocument).setTextColor.apply(br,xr),xr=dr.unifyColor(hr.lineColor),xr&&(pr=this.jsPDFDocument).setDrawColor.apply(pr,xr),typeof hr.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(hr.lineWidth)}},dr.prototype.splitTextToSize=function(hr,fr,mr){return this.jsPDFDocument.splitTextToSize(hr,fr,mr)},dr.prototype.rect=function(hr,fr,mr,br,pr){return this.jsPDFDocument.rect(hr,fr,mr,br,pr)},dr.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},dr.prototype.getTextWidth=function(hr){return this.jsPDFDocument.getTextWidth(hr)},dr.prototype.getDocument=function(){return this.jsPDFDocument},dr.prototype.setPage=function(hr){this.jsPDFDocument.setPage(hr)},dr.prototype.addPage=function(){return this.jsPDFDocument.addPage()},dr.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},dr.prototype.getGlobalOptions=function(){return cr||{}},dr.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},dr.prototype.pageSize=function(){var hr=this.jsPDFDocument.internal.pageSize;return hr.width==null&&(hr={width:hr.getWidth(),height:hr.getHeight()}),hr},dr.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},dr.prototype.getLineHeightFactor=function(){var hr=this.jsPDFDocument;return hr.getLineHeightFactor?hr.getLineHeightFactor():1.15},dr.prototype.getLineHeight=function(hr){return hr/this.scaleFactor()*this.getLineHeightFactor()},dr.prototype.pageNumber=function(){var hr=this.jsPDFDocument.internal.getCurrentPageInfo();return hr?hr.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},dr}();or.DocHandler=ur},4:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.parseHtml=void 0;var ur=cr(903),dr=cr(796);function hr(br,pr,gr,yr,vr){var _r,xr;yr===void 0&&(yr=!1),vr===void 0&&(vr=!1);var Rr;typeof pr=="string"?Rr=gr.document.querySelector(pr):Rr=pr;var Cr=Object.keys(br.getFontList()),Tr=br.scaleFactor(),Ir=[],Lr=[],Nr=[];if(!Rr)return console.error("Html table could not be found with input: ",pr),{head:Ir,body:Lr,foot:Nr};for(var Or=0;Or<Rr.rows.length;Or++){var Pr=Rr.rows[Or],Mr=(xr=(_r=Pr==null?void 0:Pr.parentElement)===null||_r===void 0?void 0:_r.tagName)===null||xr===void 0?void 0:xr.toLowerCase(),jr=fr(Cr,Tr,gr,Pr,yr,vr);jr&&(Mr==="thead"?Ir.push(jr):Mr==="tfoot"?Nr.push(jr):Lr.push(jr))}return{head:Ir,body:Lr,foot:Nr}}or.parseHtml=hr;function fr(br,pr,gr,yr,vr,_r){for(var xr=new dr.HtmlRowInput(yr),Rr=0;Rr<yr.cells.length;Rr++){var Cr=yr.cells[Rr],Tr=gr.getComputedStyle(Cr);if(vr||Tr.display!=="none"){var Ir=void 0;_r&&(Ir=(0,ur.parseCss)(br,Cr,pr,Tr,gr)),xr.push({rowSpan:Cr.rowSpan,colSpan:Cr.colSpan,styles:Ir,_element:Cr,content:mr(Cr)})}}var Lr=gr.getComputedStyle(yr);if(xr.length>0&&(vr||Lr.display!=="none"))return xr}function mr(br){var pr=br.cloneNode(!0);return pr.innerHTML=pr.innerHTML.replace(/\n/g,"").replace(/ +/g," "),pr.innerHTML=pr.innerHTML.split(/<br.*?>/).map(function(gr){return gr.trim()}).join(`
`),pr.innerText||pr.textContent||""}},776:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.parseInput=void 0;var ur=cr(4),dr=cr(356),hr=cr(420),fr=cr(744),mr=cr(792);function br(Rr,Cr){var Tr=new fr.DocHandler(Rr),Ir=Tr.getDocumentOptions(),Lr=Tr.getGlobalOptions();(0,mr.default)(Tr,Lr,Ir,Cr);var Nr=(0,dr.assign)({},Lr,Ir,Cr),Or;typeof window<"u"&&(Or=window);var Pr=pr(Lr,Ir,Cr),Mr=gr(Lr,Ir,Cr),jr=yr(Tr,Nr),wr=_r(Tr,Nr,Or);return{id:Cr.tableId,content:wr,hooks:Mr,styles:Pr,settings:jr}}or.parseInput=br;function pr(Rr,Cr,Tr){for(var Ir={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Lr=function(Mr){if(Mr==="columnStyles"){var jr=Rr[Mr],wr=Cr[Mr],Er=Tr[Mr];Ir.columnStyles=(0,dr.assign)({},jr,wr,Er)}else{var Ar=[Rr,Cr,Tr],Sr=Ar.map(function(Dr){return Dr[Mr]||{}});Ir[Mr]=(0,dr.assign)({},Sr[0],Sr[1],Sr[2])}},Nr=0,Or=Object.keys(Ir);Nr<Or.length;Nr++){var Pr=Or[Nr];Lr(Pr)}return Ir}function gr(Rr,Cr,Tr){for(var Ir=[Rr,Cr,Tr],Lr={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Nr=0,Or=Ir;Nr<Or.length;Nr++){var Pr=Or[Nr];Pr.didParseCell&&Lr.didParseCell.push(Pr.didParseCell),Pr.willDrawCell&&Lr.willDrawCell.push(Pr.willDrawCell),Pr.didDrawCell&&Lr.didDrawCell.push(Pr.didDrawCell),Pr.willDrawPage&&Lr.willDrawPage.push(Pr.willDrawPage),Pr.didDrawPage&&Lr.didDrawPage.push(Pr.didDrawPage)}return Lr}function yr(Rr,Cr){var Tr,Ir,Lr,Nr,Or,Pr,Mr,jr,wr,Er,Ar,Sr,Dr=(0,hr.parseSpacing)(Cr.margin,40/Rr.scaleFactor()),Wr=(Tr=vr(Rr,Cr.startY))!==null&&Tr!==void 0?Tr:Dr.top,$r;Cr.showFoot===!0?$r="everyPage":Cr.showFoot===!1?$r="never":$r=(Ir=Cr.showFoot)!==null&&Ir!==void 0?Ir:"everyPage";var Vr;Cr.showHead===!0?Vr="everyPage":Cr.showHead===!1?Vr="never":Vr=(Lr=Cr.showHead)!==null&&Lr!==void 0?Lr:"everyPage";var zr=(Nr=Cr.useCss)!==null&&Nr!==void 0?Nr:!1,Gr=Cr.theme||(zr?"plain":"striped"),Fr=!!Cr.horizontalPageBreak,Xr=(Or=Cr.horizontalPageBreakRepeat)!==null&&Or!==void 0?Or:null;return{includeHiddenHtml:(Pr=Cr.includeHiddenHtml)!==null&&Pr!==void 0?Pr:!1,useCss:zr,theme:Gr,startY:Wr,margin:Dr,pageBreak:(Mr=Cr.pageBreak)!==null&&Mr!==void 0?Mr:"auto",rowPageBreak:(jr=Cr.rowPageBreak)!==null&&jr!==void 0?jr:"auto",tableWidth:(wr=Cr.tableWidth)!==null&&wr!==void 0?wr:"auto",showHead:Vr,showFoot:$r,tableLineWidth:(Er=Cr.tableLineWidth)!==null&&Er!==void 0?Er:0,tableLineColor:(Ar=Cr.tableLineColor)!==null&&Ar!==void 0?Ar:200,horizontalPageBreak:Fr,horizontalPageBreakRepeat:Xr,horizontalPageBreakBehaviour:(Sr=Cr.horizontalPageBreakBehaviour)!==null&&Sr!==void 0?Sr:"afterAllRows"}}function vr(Rr,Cr){var Tr=Rr.getLastAutoTable(),Ir=Rr.scaleFactor(),Lr=Rr.pageNumber(),Nr=!1;if(Tr&&Tr.startPageNumber){var Or=Tr.startPageNumber+Tr.pageNumber-1;Nr=Or===Lr}return typeof Cr=="number"?Cr:(Cr==null||Cr===!1)&&Nr&&(Tr==null?void 0:Tr.finalY)!=null?Tr.finalY+20/Ir:null}function _r(Rr,Cr,Tr){var Ir=Cr.head||[],Lr=Cr.body||[],Nr=Cr.foot||[];if(Cr.html){var Or=Cr.includeHiddenHtml;if(Tr){var Pr=(0,ur.parseHtml)(Rr,Cr.html,Tr,Or,Cr.useCss)||{};Ir=Pr.head||Ir,Lr=Pr.body||Ir,Nr=Pr.foot||Ir}else console.error("Cannot parse html in non browser environment")}var Mr=Cr.columns||xr(Ir,Lr,Nr);return{columns:Mr,head:Ir,body:Lr,foot:Nr}}function xr(Rr,Cr,Tr){var Ir=Rr[0]||Cr[0]||Tr[0]||[],Lr=[];return Object.keys(Ir).filter(function(Nr){return Nr!=="_element"}).forEach(function(Nr){var Or=1,Pr;Array.isArray(Ir)?Pr=Ir[parseInt(Nr)]:Pr=Ir[Nr],typeof Pr=="object"&&!Array.isArray(Pr)&&(Or=(Pr==null?void 0:Pr.colSpan)||1);for(var Mr=0;Mr<Or;Mr++){var jr=void 0;Array.isArray(Ir)?jr=Lr.length:jr=Nr+(Mr>0?"_".concat(Mr):"");var wr={dataKey:jr};Lr.push(wr)}}),Lr}},792:function(lr,or){Object.defineProperty(or,"__esModule",{value:!0});function cr(dr,hr,fr,mr){for(var br=function(vr){vr&&typeof vr!="object"&&console.error("The options parameter should be of type object, is: "+typeof vr),typeof vr.extendWidth<"u"&&(vr.tableWidth=vr.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof vr.margins<"u"&&(typeof vr.margin>"u"&&(vr.margin=vr.margins),console.error("Use of deprecated option: margins, use margin instead.")),vr.startY&&typeof vr.startY!="number"&&(console.error("Invalid value for startY option",vr.startY),delete vr.startY),!vr.didDrawPage&&(vr.afterPageContent||vr.beforePageContent||vr.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),vr.didDrawPage=function(Nr){dr.applyStyles(dr.userStyles),vr.beforePageContent&&vr.beforePageContent(Nr),dr.applyStyles(dr.userStyles),vr.afterPageContent&&vr.afterPageContent(Nr),dr.applyStyles(dr.userStyles),vr.afterPageAdd&&Nr.pageNumber>1&&Nr.afterPageAdd(Nr),dr.applyStyles(dr.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Nr){vr[Nr]&&console.error('The "'.concat(Nr,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Nr){var Or=Nr[0],Pr=Nr[1];vr[Pr]&&(console.error("Use of deprecated option ".concat(Pr,". Use ").concat(Or," instead")),vr[Or]=vr[Pr])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Nr){var Or=typeof Nr=="string"?Nr:Nr[0],Pr=typeof Nr=="string"?Nr:Nr[1];typeof vr[Or]<"u"&&(typeof vr.styles[Pr]>"u"&&(vr.styles[Pr]=vr[Or]),console.error("Use of deprecated option: "+Or+", use the style "+Pr+" instead."))});for(var _r=0,xr=["styles","bodyStyles","headStyles","footStyles"];_r<xr.length;_r++){var Rr=xr[_r];ur(vr[Rr]||{})}for(var Cr=vr.columnStyles||{},Tr=0,Ir=Object.keys(Cr);Tr<Ir.length;Tr++){var Lr=Ir[Tr];ur(Cr[Lr]||{})}},pr=0,gr=[hr,fr,mr];pr<gr.length;pr++){var yr=gr[pr];br(yr)}}or.default=cr;function ur(dr){dr.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),dr.minCellHeight||(dr.minCellHeight=dr.rowHeight)):dr.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),dr.cellWidth||(dr.cellWidth=dr.columnWidth))}},260:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.Column=or.Cell=or.Row=or.Table=void 0;var ur=cr(796),dr=cr(172),hr=cr(420),fr=function(){function gr(yr,vr){this.pageNumber=1,this.pageCount=1,this.id=yr.id,this.settings=yr.settings,this.styles=yr.styles,this.hooks=yr.hooks,this.columns=vr.columns,this.head=vr.head,this.body=vr.body,this.foot=vr.foot}return gr.prototype.getHeadHeight=function(yr){return this.head.reduce(function(vr,_r){return vr+_r.getMaxCellHeight(yr)},0)},gr.prototype.getFootHeight=function(yr){return this.foot.reduce(function(vr,_r){return vr+_r.getMaxCellHeight(yr)},0)},gr.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},gr.prototype.callCellHooks=function(yr,vr,_r,xr,Rr,Cr){for(var Tr=0,Ir=vr;Tr<Ir.length;Tr++){var Lr=Ir[Tr],Nr=new dr.CellHookData(yr,this,_r,xr,Rr,Cr),Or=Lr(Nr)===!1;if(_r.text=Array.isArray(_r.text)?_r.text:[_r.text],Or)return!1}return!0},gr.prototype.callEndPageHooks=function(yr,vr){yr.applyStyles(yr.userStyles);for(var _r=0,xr=this.hooks.didDrawPage;_r<xr.length;_r++){var Rr=xr[_r];Rr(new dr.HookData(yr,this,vr))}},gr.prototype.callWillDrawPageHooks=function(yr,vr){for(var _r=0,xr=this.hooks.willDrawPage;_r<xr.length;_r++){var Rr=xr[_r];Rr(new dr.HookData(yr,this,vr))}},gr.prototype.getWidth=function(yr){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var vr=this.columns.reduce(function(xr,Rr){return xr+Rr.wrappedWidth},0);return vr}else{var _r=this.settings.margin;return yr-_r.left-_r.right}},gr}();or.Table=fr;var mr=function(){function gr(yr,vr,_r,xr,Rr){Rr===void 0&&(Rr=!1),this.height=0,this.raw=yr,yr instanceof ur.HtmlRowInput&&(this.raw=yr._element,this.element=yr._element),this.index=vr,this.section=_r,this.cells=xr,this.spansMultiplePages=Rr}return gr.prototype.getMaxCellHeight=function(yr){var vr=this;return yr.reduce(function(_r,xr){var Rr;return Math.max(_r,((Rr=vr.cells[xr.index])===null||Rr===void 0?void 0:Rr.height)||0)},0)},gr.prototype.hasRowSpan=function(yr){var vr=this;return yr.filter(function(_r){var xr=vr.cells[_r.index];return xr?xr.rowSpan>1:!1}).length>0},gr.prototype.canEntireRowFit=function(yr,vr){return this.getMaxCellHeight(vr)<=yr},gr.prototype.getMinimumRowHeight=function(yr,vr){var _r=this;return yr.reduce(function(xr,Rr){var Cr=_r.cells[Rr.index];if(!Cr)return 0;var Tr=vr.getLineHeight(Cr.styles.fontSize),Ir=Cr.padding("vertical"),Lr=Ir+Tr;return Lr>xr?Lr:xr},0)},gr}();or.Row=mr;var br=function(){function gr(yr,vr,_r){var xr,Rr;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=vr,this.section=_r,this.raw=yr;var Cr=yr;yr!=null&&typeof yr=="object"&&!Array.isArray(yr)?(this.rowSpan=yr.rowSpan||1,this.colSpan=yr.colSpan||1,Cr=(Rr=(xr=yr.content)!==null&&xr!==void 0?xr:yr.title)!==null&&Rr!==void 0?Rr:yr,yr._element&&(this.raw=yr._element)):(this.rowSpan=1,this.colSpan=1);var Tr=Cr!=null?""+Cr:"",Ir=/\r\n|\r|\n/g;this.text=Tr.split(Ir)}return gr.prototype.getTextPos=function(){var yr;if(this.styles.valign==="top")yr=this.y+this.padding("top");else if(this.styles.valign==="bottom")yr=this.y+this.height-this.padding("bottom");else{var vr=this.height-this.padding("vertical");yr=this.y+vr/2+this.padding("top")}var _r;if(this.styles.halign==="right")_r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var xr=this.width-this.padding("horizontal");_r=this.x+xr/2+this.padding("left")}else _r=this.x+this.padding("left");return{x:_r,y:yr}},gr.prototype.getContentHeight=function(yr,vr){vr===void 0&&(vr=1.15);var _r=Array.isArray(this.text)?this.text.length:1,xr=this.styles.fontSize/yr*vr,Rr=_r*xr+this.padding("vertical");return Math.max(Rr,this.styles.minCellHeight)},gr.prototype.padding=function(yr){var vr=(0,hr.parseSpacing)(this.styles.cellPadding,0);return yr==="vertical"?vr.top+vr.bottom:yr==="horizontal"?vr.left+vr.right:vr[yr]},gr}();or.Cell=br;var pr=function(){function gr(yr,vr,_r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=yr,this.raw=vr,this.index=_r}return gr.prototype.getMaxCustomCellWidth=function(yr){for(var vr=0,_r=0,xr=yr.allRows();_r<xr.length;_r++){var Rr=xr[_r],Cr=Rr.cells[this.index];Cr&&typeof Cr.styles.cellWidth=="number"&&(vr=Math.max(vr,Cr.styles.cellWidth))}return vr},gr}();or.Column=pr},356:function(lr,or){Object.defineProperty(or,"__esModule",{value:!0}),or.assign=void 0;function cr(ur,dr,hr,fr,mr){if(ur==null)throw new TypeError("Cannot convert undefined or null to object");for(var br=Object(ur),pr=1;pr<arguments.length;pr++){var gr=arguments[pr];if(gr!=null)for(var yr in gr)Object.prototype.hasOwnProperty.call(gr,yr)&&(br[yr]=gr[yr])}return br}or.assign=cr},972:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.createTable=void 0;var ur=cr(744),dr=cr(260),hr=cr(324),fr=cr(796),mr=cr(356);function br(Rr,Cr){var Tr=new ur.DocHandler(Rr),Ir=pr(Cr,Tr.scaleFactor()),Lr=new dr.Table(Cr,Ir);return(0,hr.calculateWidths)(Tr,Lr),Tr.applyStyles(Tr.userStyles),Lr}or.createTable=br;function pr(Rr,Cr){var Tr=Rr.content,Ir=_r(Tr.columns);if(Tr.head.length===0){var Lr=yr(Ir,"head");Lr&&Tr.head.push(Lr)}if(Tr.foot.length===0){var Lr=yr(Ir,"foot");Lr&&Tr.foot.push(Lr)}var Nr=Rr.settings.theme,Or=Rr.styles;return{columns:Ir,head:gr("head",Tr.head,Ir,Or,Nr,Cr),body:gr("body",Tr.body,Ir,Or,Nr,Cr),foot:gr("foot",Tr.foot,Ir,Or,Nr,Cr)}}function gr(Rr,Cr,Tr,Ir,Lr,Nr){var Or={},Pr=Cr.map(function(Mr,jr){for(var wr=0,Er={},Ar=0,Sr=0,Dr=0,Wr=Tr;Dr<Wr.length;Dr++){var $r=Wr[Dr];if(Or[$r.index]==null||Or[$r.index].left===0)if(Sr===0){var Vr=void 0;Array.isArray(Mr)?Vr=Mr[$r.index-Ar-wr]:Vr=Mr[$r.dataKey];var zr={};typeof Vr=="object"&&!Array.isArray(Vr)&&(zr=(Vr==null?void 0:Vr.styles)||{});var Gr=xr(Rr,$r,jr,Lr,Ir,Nr,zr),Fr=new dr.Cell(Vr,Gr,Rr);Er[$r.dataKey]=Fr,Er[$r.index]=Fr,Sr=Fr.colSpan-1,Or[$r.index]={left:Fr.rowSpan-1,times:Sr}}else Sr--,Ar++;else Or[$r.index].left--,Sr=Or[$r.index].times,wr++}return new dr.Row(Mr,jr,Rr,Er)});return Pr}function yr(Rr,Cr){var Tr={};return Rr.forEach(function(Ir){if(Ir.raw!=null){var Lr=vr(Cr,Ir.raw);Lr!=null&&(Tr[Ir.dataKey]=Lr)}}),Object.keys(Tr).length>0?Tr:null}function vr(Rr,Cr){if(Rr==="head"){if(typeof Cr=="object")return Cr.header||Cr.title||null;if(typeof Cr=="string"||typeof Cr=="number")return Cr}else if(Rr==="foot"&&typeof Cr=="object")return Cr.footer;return null}function _r(Rr){return Rr.map(function(Cr,Tr){var Ir,Lr,Nr;return typeof Cr=="object"?Nr=(Lr=(Ir=Cr.dataKey)!==null&&Ir!==void 0?Ir:Cr.key)!==null&&Lr!==void 0?Lr:Tr:Nr=Tr,new dr.Column(Nr,Cr,Tr)})}function xr(Rr,Cr,Tr,Ir,Lr,Nr,Or){var Pr=(0,fr.getTheme)(Ir),Mr;Rr==="head"?Mr=Lr.headStyles:Rr==="body"?Mr=Lr.bodyStyles:Rr==="foot"&&(Mr=Lr.footStyles);var jr=(0,mr.assign)({},Pr.table,Pr[Rr],Lr.styles,Mr),wr=Lr.columnStyles[Cr.dataKey]||Lr.columnStyles[Cr.index]||{},Er=Rr==="body"?wr:{},Ar=Rr==="body"&&Tr%2===0?(0,mr.assign)({},Pr.alternateRow,Lr.alternateRowStyles):{},Sr=(0,fr.defaultStyles)(Nr),Dr=(0,mr.assign)({},Sr,jr,Ar,Er);return(0,mr.assign)(Dr,Or)}},664:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.addPage=or.drawTable=void 0;var ur=cr(420),dr=cr(260),hr=cr(744),fr=cr(356),mr=cr(136),br=cr(224);function pr(wr,Er){var Ar=Er.settings,Sr=Ar.startY,Dr=Ar.margin,Wr={x:Dr.left,y:Sr},$r=Er.getHeadHeight(Er.columns)+Er.getFootHeight(Er.columns),Vr=Sr+Dr.bottom+$r;if(Ar.pageBreak==="avoid"){var zr=Er.body,Gr=zr.reduce(function(Ur,Br){return Ur+Br.height},0);Vr+=Gr}var Fr=new hr.DocHandler(wr);(Ar.pageBreak==="always"||Ar.startY!=null&&Vr>Fr.pageSize().height)&&(jr(Fr),Wr.y=Dr.top),Er.callWillDrawPageHooks(Fr,Wr);var Xr=(0,fr.assign)({},Wr);Er.startPageNumber=Fr.pageNumber(),Ar.horizontalPageBreak?gr(Fr,Er,Xr,Wr):(Fr.applyStyles(Fr.userStyles),(Ar.showHead==="firstPage"||Ar.showHead==="everyPage")&&Er.head.forEach(function(Ur){return Lr(Fr,Er,Ur,Wr,Er.columns)}),Fr.applyStyles(Fr.userStyles),Er.body.forEach(function(Ur,Br){var Kr=Br===Er.body.length-1;Ir(Fr,Er,Ur,Kr,Xr,Wr,Er.columns)}),Fr.applyStyles(Fr.userStyles),(Ar.showFoot==="lastPage"||Ar.showFoot==="everyPage")&&Er.foot.forEach(function(Ur){return Lr(Fr,Er,Ur,Wr,Er.columns)})),(0,ur.addTableBorder)(Fr,Er,Xr,Wr),Er.callEndPageHooks(Fr,Wr),Er.finalY=Wr.y,wr.lastAutoTable=Er,wr.previousAutoTable=Er,wr.autoTable&&(wr.autoTable.previous=Er),Fr.applyStyles(Fr.userStyles)}or.drawTable=pr;function gr(wr,Er,Ar,Sr){var Dr=(0,br.calculateAllColumnsCanFitInPage)(wr,Er),Wr=Er.settings;if(Wr.horizontalPageBreakBehaviour==="afterAllRows")Dr.forEach(function(Gr,Fr){wr.applyStyles(wr.userStyles),Fr>0?Mr(wr,Er,Ar,Sr,Gr.columns,!0):yr(wr,Er,Sr,Gr.columns),vr(wr,Er,Ar,Sr,Gr.columns),xr(wr,Er,Sr,Gr.columns)});else for(var $r=-1,Vr=Dr[0],zr=function(){var Gr=$r;if(Vr){wr.applyStyles(wr.userStyles);var Fr=Vr.columns;$r>=0?Mr(wr,Er,Ar,Sr,Fr,!0):yr(wr,Er,Sr,Fr),Gr=_r(wr,Er,$r+1,Sr,Fr),xr(wr,Er,Sr,Fr)}var Xr=Gr-$r;Dr.slice(1).forEach(function(Ur){wr.applyStyles(wr.userStyles),Mr(wr,Er,Ar,Sr,Ur.columns,!0),_r(wr,Er,$r+1,Sr,Ur.columns,Xr),xr(wr,Er,Sr,Ur.columns)}),$r=Gr};$r<Er.body.length-1;)zr()}function yr(wr,Er,Ar,Sr){var Dr=Er.settings;wr.applyStyles(wr.userStyles),(Dr.showHead==="firstPage"||Dr.showHead==="everyPage")&&Er.head.forEach(function(Wr){return Lr(wr,Er,Wr,Ar,Sr)})}function vr(wr,Er,Ar,Sr,Dr){wr.applyStyles(wr.userStyles),Er.body.forEach(function(Wr,$r){var Vr=$r===Er.body.length-1;Ir(wr,Er,Wr,Vr,Ar,Sr,Dr)})}function _r(wr,Er,Ar,Sr,Dr,Wr){wr.applyStyles(wr.userStyles),Wr=Wr??Er.body.length;var $r=Math.min(Ar+Wr,Er.body.length),Vr=-1;return Er.body.slice(Ar,$r).forEach(function(zr,Gr){var Fr=Ar+Gr===Er.body.length-1,Xr=Pr(wr,Er,Fr,Sr);zr.canEntireRowFit(Xr,Dr)&&(Lr(wr,Er,zr,Sr,Dr),Vr=Ar+Gr)}),Vr}function xr(wr,Er,Ar,Sr){var Dr=Er.settings;wr.applyStyles(wr.userStyles),(Dr.showFoot==="lastPage"||Dr.showFoot==="everyPage")&&Er.foot.forEach(function(Wr){return Lr(wr,Er,Wr,Ar,Sr)})}function Rr(wr,Er,Ar){var Sr=Ar.getLineHeight(wr.styles.fontSize),Dr=wr.padding("vertical"),Wr=Math.floor((Er-Dr)/Sr);return Math.max(0,Wr)}function Cr(wr,Er,Ar,Sr){var Dr={};wr.spansMultiplePages=!0,wr.height=0;for(var Wr=0,$r=0,Vr=Ar.columns;$r<Vr.length;$r++){var zr=Vr[$r],Gr=wr.cells[zr.index];if(Gr){Array.isArray(Gr.text)||(Gr.text=[Gr.text]);var Fr=new dr.Cell(Gr.raw,Gr.styles,Gr.section);Fr=(0,fr.assign)(Fr,Gr),Fr.text=[];var Xr=Rr(Gr,Er,Sr);Gr.text.length>Xr&&(Fr.text=Gr.text.splice(Xr,Gr.text.length));var Ur=Sr.scaleFactor(),Br=Sr.getLineHeightFactor();Gr.contentHeight=Gr.getContentHeight(Ur,Br),Gr.contentHeight>=Er&&(Gr.contentHeight=Er,Fr.styles.minCellHeight-=Er),Gr.contentHeight>wr.height&&(wr.height=Gr.contentHeight),Fr.contentHeight=Fr.getContentHeight(Ur,Br),Fr.contentHeight>Wr&&(Wr=Fr.contentHeight),Dr[zr.index]=Fr}}var Kr=new dr.Row(wr.raw,-1,wr.section,Dr,!0);Kr.height=Wr;for(var Zr=0,tn=Ar.columns;Zr<tn.length;Zr++){var zr=tn[Zr],Fr=Kr.cells[zr.index];Fr&&(Fr.height=Kr.height);var Gr=wr.cells[zr.index];Gr&&(Gr.height=wr.height)}return Kr}function Tr(wr,Er,Ar,Sr){var Dr=wr.pageSize().height,Wr=Sr.settings.margin,$r=Wr.top+Wr.bottom,Vr=Dr-$r;Er.section==="body"&&(Vr-=Sr.getHeadHeight(Sr.columns)+Sr.getFootHeight(Sr.columns));var zr=Er.getMinimumRowHeight(Sr.columns,wr),Gr=zr<Ar;if(zr>Vr)return console.error("Will not be able to print row ".concat(Er.index," correctly since it's minimum height is larger than page height")),!0;if(!Gr)return!1;var Fr=Er.hasRowSpan(Sr.columns),Xr=Er.getMaxCellHeight(Sr.columns)>Vr;return Xr?(Fr&&console.error("The content of row ".concat(Er.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Fr||Sr.settings.rowPageBreak==="avoid")}function Ir(wr,Er,Ar,Sr,Dr,Wr,$r){var Vr=Pr(wr,Er,Sr,Wr);if(Ar.canEntireRowFit(Vr,$r))Lr(wr,Er,Ar,Wr,$r);else if(Tr(wr,Ar,Vr,Er)){var zr=Cr(Ar,Vr,Er,wr);Lr(wr,Er,Ar,Wr,$r),Mr(wr,Er,Dr,Wr,$r),Ir(wr,Er,zr,Sr,Dr,Wr,$r)}else Mr(wr,Er,Dr,Wr,$r),Ir(wr,Er,Ar,Sr,Dr,Wr,$r)}function Lr(wr,Er,Ar,Sr,Dr){Sr.x=Er.settings.margin.left;for(var Wr=0,$r=Dr;Wr<$r.length;Wr++){var Vr=$r[Wr],zr=Ar.cells[Vr.index];if(!zr){Sr.x+=Vr.width;continue}wr.applyStyles(zr.styles),zr.x=Sr.x,zr.y=Sr.y;var Gr=Er.callCellHooks(wr,Er.hooks.willDrawCell,zr,Ar,Vr,Sr);if(Gr===!1){Sr.x+=Vr.width;continue}Nr(wr,zr,Sr);var Fr=zr.getTextPos();(0,mr.default)(zr.text,Fr.x,Fr.y,{halign:zr.styles.halign,valign:zr.styles.valign,maxWidth:Math.ceil(zr.width-zr.padding("left")-zr.padding("right"))},wr.getDocument()),Er.callCellHooks(wr,Er.hooks.didDrawCell,zr,Ar,Vr,Sr),Sr.x+=Vr.width}Sr.y+=Ar.height}function Nr(wr,Er,Ar){var Sr=Er.styles;if(wr.getDocument().setFillColor(wr.getDocument().getFillColor()),typeof Sr.lineWidth=="number"){var Dr=(0,ur.getFillStyle)(Sr.lineWidth,Sr.fillColor);Dr&&wr.rect(Er.x,Ar.y,Er.width,Er.height,Dr)}else typeof Sr.lineWidth=="object"&&(Sr.fillColor&&wr.rect(Er.x,Ar.y,Er.width,Er.height,"F"),Or(wr,Er,Ar,Sr.lineWidth))}function Or(wr,Er,Ar,Sr){var Dr,Wr,$r,Vr;Sr.top&&(Dr=Ar.x,Wr=Ar.y,$r=Ar.x+Er.width,Vr=Ar.y,Sr.right&&($r+=.5*Sr.right),Sr.left&&(Dr-=.5*Sr.left),zr(Sr.top,Dr,Wr,$r,Vr)),Sr.bottom&&(Dr=Ar.x,Wr=Ar.y+Er.height,$r=Ar.x+Er.width,Vr=Ar.y+Er.height,Sr.right&&($r+=.5*Sr.right),Sr.left&&(Dr-=.5*Sr.left),zr(Sr.bottom,Dr,Wr,$r,Vr)),Sr.left&&(Dr=Ar.x,Wr=Ar.y,$r=Ar.x,Vr=Ar.y+Er.height,Sr.top&&(Wr-=.5*Sr.top),Sr.bottom&&(Vr+=.5*Sr.bottom),zr(Sr.left,Dr,Wr,$r,Vr)),Sr.right&&(Dr=Ar.x+Er.width,Wr=Ar.y,$r=Ar.x+Er.width,Vr=Ar.y+Er.height,Sr.top&&(Wr-=.5*Sr.top),Sr.bottom&&(Vr+=.5*Sr.bottom),zr(Sr.right,Dr,Wr,$r,Vr));function zr(Gr,Fr,Xr,Ur,Br){wr.getDocument().setLineWidth(Gr),wr.getDocument().line(Fr,Xr,Ur,Br,"S")}}function Pr(wr,Er,Ar,Sr){var Dr=Er.settings.margin.bottom,Wr=Er.settings.showFoot;return(Wr==="everyPage"||Wr==="lastPage"&&Ar)&&(Dr+=Er.getFootHeight(Er.columns)),wr.pageSize().height-Sr.y-Dr}function Mr(wr,Er,Ar,Sr,Dr,Wr){Dr===void 0&&(Dr=[]),Wr===void 0&&(Wr=!1),wr.applyStyles(wr.userStyles),Er.settings.showFoot==="everyPage"&&!Wr&&Er.foot.forEach(function(Vr){return Lr(wr,Er,Vr,Sr,Dr)}),Er.callEndPageHooks(wr,Sr);var $r=Er.settings.margin;(0,ur.addTableBorder)(wr,Er,Ar,Sr),jr(wr),Er.pageNumber++,Er.pageCount++,Sr.x=$r.left,Sr.y=$r.top,Ar.y=$r.top,Er.callWillDrawPageHooks(wr,Sr),Er.settings.showHead==="everyPage"&&(Er.head.forEach(function(Vr){return Lr(wr,Er,Vr,Sr,Dr)}),wr.applyStyles(wr.userStyles))}or.addPage=Mr;function jr(wr){var Er=wr.pageNumber();wr.setPage(Er+1);var Ar=wr.pageNumber();return Ar===Er?(wr.addPage(),!0):!1}},224:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.calculateAllColumnsCanFitInPage=void 0;var ur=cr(420);function dr(fr,mr,br){var pr;br===void 0&&(br={});var gr=(0,ur.getPageAvailableWidth)(fr,mr),yr=new Map,vr=[],_r=[],xr=[];mr.settings.horizontalPageBreakRepeat,Array.isArray(mr.settings.horizontalPageBreakRepeat)?xr=mr.settings.horizontalPageBreakRepeat:(typeof mr.settings.horizontalPageBreakRepeat=="string"||typeof mr.settings.horizontalPageBreakRepeat=="number")&&(xr=[mr.settings.horizontalPageBreakRepeat]),xr.forEach(function(Ir){var Lr=mr.columns.find(function(Nr){return Nr.dataKey===Ir||Nr.index===Ir});Lr&&!yr.has(Lr.index)&&(yr.set(Lr.index,!0),vr.push(Lr.index),_r.push(mr.columns[Lr.index]),gr-=Lr.wrappedWidth)});for(var Rr=!0,Cr=(pr=br==null?void 0:br.start)!==null&&pr!==void 0?pr:0;Cr<mr.columns.length;){if(yr.has(Cr)){Cr++;continue}var Tr=mr.columns[Cr].wrappedWidth;if(Rr||gr>=Tr)Rr=!1,vr.push(Cr),_r.push(mr.columns[Cr]),gr-=Tr;else break;Cr++}return{colIndexes:vr,columns:_r,lastIndex:Cr-1}}function hr(fr,mr){for(var br=[],pr=0;pr<mr.columns.length;pr++){var gr=dr(fr,mr,{start:pr});gr.columns.length&&(br.push(gr),pr=gr.lastIndex)}return br}or.calculateAllColumnsCanFitInPage=hr},324:function(lr,or,cr){Object.defineProperty(or,"__esModule",{value:!0}),or.ellipsize=or.resizeColumns=or.calculateWidths=void 0;var ur=cr(420);function dr(vr,_r){hr(vr,_r);var xr=[],Rr=0;_r.columns.forEach(function(Tr){var Ir=Tr.getMaxCustomCellWidth(_r);Ir?Tr.width=Ir:(Tr.width=Tr.wrappedWidth,xr.push(Tr)),Rr+=Tr.width});var Cr=_r.getWidth(vr.pageSize().width)-Rr;Cr&&(Cr=fr(xr,Cr,function(Tr){return Math.max(Tr.minReadableWidth,Tr.minWidth)})),Cr&&(Cr=fr(xr,Cr,function(Tr){return Tr.minWidth})),Cr=Math.abs(Cr),!_r.settings.horizontalPageBreak&&Cr>.1/vr.scaleFactor()&&(Cr=Cr<1?Cr:Math.round(Cr),console.warn("Of the table content, ".concat(Cr," units width could not fit page"))),br(_r),pr(_r,vr),mr(_r)}or.calculateWidths=dr;function hr(vr,_r){var xr=vr.scaleFactor(),Rr=_r.settings.horizontalPageBreak,Cr=(0,ur.getPageAvailableWidth)(vr,_r);_r.allRows().forEach(function(Tr){for(var Ir=0,Lr=_r.columns;Ir<Lr.length;Ir++){var Nr=Lr[Ir],Or=Tr.cells[Nr.index];if(Or){var Pr=_r.hooks.didParseCell;_r.callCellHooks(vr,Pr,Or,Tr,Nr,null);var Mr=Or.padding("horizontal");Or.contentWidth=(0,ur.getStringWidth)(Or.text,Or.styles,vr)+Mr;var jr=(0,ur.getStringWidth)(Or.text.join(" ").split(/[^\S\u00A0]+/),Or.styles,vr);if(Or.minReadableWidth=jr+Or.padding("horizontal"),typeof Or.styles.cellWidth=="number")Or.minWidth=Or.styles.cellWidth,Or.wrappedWidth=Or.styles.cellWidth;else if(Or.styles.cellWidth==="wrap"||Rr===!0)Or.contentWidth>Cr?(Or.minWidth=Cr,Or.wrappedWidth=Cr):(Or.minWidth=Or.contentWidth,Or.wrappedWidth=Or.contentWidth);else{var wr=10/xr;Or.minWidth=Or.styles.minCellWidth||wr,Or.wrappedWidth=Or.contentWidth,Or.minWidth>Or.wrappedWidth&&(Or.wrappedWidth=Or.minWidth)}}}}),_r.allRows().forEach(function(Tr){for(var Ir=0,Lr=_r.columns;Ir<Lr.length;Ir++){var Nr=Lr[Ir],Or=Tr.cells[Nr.index];if(Or&&Or.colSpan===1)Nr.wrappedWidth=Math.max(Nr.wrappedWidth,Or.wrappedWidth),Nr.minWidth=Math.max(Nr.minWidth,Or.minWidth),Nr.minReadableWidth=Math.max(Nr.minReadableWidth,Or.minReadableWidth);else{var Pr=_r.styles.columnStyles[Nr.dataKey]||_r.styles.columnStyles[Nr.index]||{},Mr=Pr.cellWidth||Pr.minCellWidth;Mr&&typeof Mr=="number"&&(Nr.minWidth=Mr,Nr.wrappedWidth=Mr)}Or&&(Or.colSpan>1&&!Nr.minWidth&&(Nr.minWidth=Or.minWidth),Or.colSpan>1&&!Nr.wrappedWidth&&(Nr.wrappedWidth=Or.minWidth))}})}function fr(vr,_r,xr){for(var Rr=_r,Cr=vr.reduce(function(wr,Er){return wr+Er.wrappedWidth},0),Tr=0;Tr<vr.length;Tr++){var Ir=vr[Tr],Lr=Ir.wrappedWidth/Cr,Nr=Rr*Lr,Or=Ir.width+Nr,Pr=xr(Ir),Mr=Or<Pr?Pr:Or;_r-=Mr-Ir.width,Ir.width=Mr}if(_r=Math.round(_r*1e10)/1e10,_r){var jr=vr.filter(function(wr){return _r<0?wr.width>xr(wr):!0});jr.length&&(_r=fr(jr,_r,xr))}return _r}or.resizeColumns=fr;function mr(vr){for(var _r={},xr=1,Rr=vr.allRows(),Cr=0;Cr<Rr.length;Cr++)for(var Tr=Rr[Cr],Ir=0,Lr=vr.columns;Ir<Lr.length;Ir++){var Nr=Lr[Ir],Or=_r[Nr.index];if(xr>1)xr--,delete Tr.cells[Nr.index];else if(Or)Or.cell.height+=Tr.height,xr=Or.cell.colSpan,delete Tr.cells[Nr.index],Or.left--,Or.left<=1&&delete _r[Nr.index];else{var Pr=Tr.cells[Nr.index];if(!Pr)continue;if(Pr.height=Tr.height,Pr.rowSpan>1){var Mr=Rr.length-Cr,jr=Pr.rowSpan>Mr?Mr:Pr.rowSpan;_r[Nr.index]={cell:Pr,left:jr,row:Tr}}}}}function br(vr){for(var _r=vr.allRows(),xr=0;xr<_r.length;xr++)for(var Rr=_r[xr],Cr=null,Tr=0,Ir=0,Lr=0;Lr<vr.columns.length;Lr++){var Nr=vr.columns[Lr];if(Ir-=1,Ir>1&&vr.columns[Lr+1])Tr+=Nr.width,delete Rr.cells[Nr.index];else if(Cr){var Or=Cr;delete Rr.cells[Nr.index],Cr=null,Or.width=Nr.width+Tr}else{var Or=Rr.cells[Nr.index];if(!Or)continue;if(Ir=Or.colSpan,Tr=0,Or.colSpan>1){Cr=Or,Tr+=Nr.width;continue}Or.width=Nr.width+Tr}}}function pr(vr,_r){for(var xr={count:0,height:0},Rr=0,Cr=vr.allRows();Rr<Cr.length;Rr++){for(var Tr=Cr[Rr],Ir=0,Lr=vr.columns;Ir<Lr.length;Ir++){var Nr=Lr[Ir],Or=Tr.cells[Nr.index];if(Or){_r.applyStyles(Or.styles,!0);var Pr=Or.width-Or.padding("horizontal");if(Or.styles.overflow==="linebreak")Or.text=_r.splitTextToSize(Or.text,Pr+1/_r.scaleFactor(),{fontSize:Or.styles.fontSize});else if(Or.styles.overflow==="ellipsize")Or.text=gr(Or.text,Pr,Or.styles,_r,"...");else if(Or.styles.overflow==="hidden")Or.text=gr(Or.text,Pr,Or.styles,_r,"");else if(typeof Or.styles.overflow=="function"){var Mr=Or.styles.overflow(Or.text,Pr);typeof Mr=="string"?Or.text=[Mr]:Or.text=Mr}Or.contentHeight=Or.getContentHeight(_r.scaleFactor(),_r.getLineHeightFactor());var jr=Or.contentHeight/Or.rowSpan;Or.rowSpan>1&&xr.count*xr.height<jr*Or.rowSpan?xr={height:jr,count:Or.rowSpan}:xr&&xr.count>0&&xr.height>jr&&(jr=xr.height),jr>Tr.height&&(Tr.height=jr)}}xr.count--}}function gr(vr,_r,xr,Rr,Cr){return vr.map(function(Tr){return yr(Tr,_r,xr,Rr,Cr)})}or.ellipsize=gr;function yr(vr,_r,xr,Rr,Cr){var Tr=1e4*Rr.scaleFactor();if(_r=Math.ceil(_r*Tr)/Tr,_r>=(0,ur.getStringWidth)(vr,xr,Rr))return vr;for(;_r<(0,ur.getStringWidth)(vr+Cr,xr,Rr)&&!(vr.length<=1);)vr=vr.substring(0,vr.length-1);return vr.trim()+Cr}},964:function(lr){if(typeof rr>"u"){var or=new Error("Cannot find module 'undefined'");throw or.code="MODULE_NOT_FOUND",or}lr.exports=rr}},ir={};function ar(lr){var or=ir[lr];if(or!==void 0)return or.exports;var cr=ir[lr]={exports:{}};return nr[lr].call(cr.exports,cr,cr.exports,ar),cr.exports}var sr={};return function(){var lr=sr;Object.defineProperty(lr,"__esModule",{value:!0}),lr.Cell=lr.Column=lr.Row=lr.Table=lr.CellHookData=lr.__drawTable=lr.__createTable=lr.applyPlugin=void 0;var or=ar(340),cr=ar(776),ur=ar(664),dr=ar(972),hr=ar(260);Object.defineProperty(lr,"Table",{enumerable:!0,get:function(){return hr.Table}});var fr=ar(172);Object.defineProperty(lr,"CellHookData",{enumerable:!0,get:function(){return fr.CellHookData}});var mr=ar(260);Object.defineProperty(lr,"Cell",{enumerable:!0,get:function(){return mr.Cell}}),Object.defineProperty(lr,"Column",{enumerable:!0,get:function(){return mr.Column}}),Object.defineProperty(lr,"Row",{enumerable:!0,get:function(){return mr.Row}});function br(_r){(0,or.default)(_r)}lr.applyPlugin=br;function pr(_r,xr){var Rr=(0,cr.parseInput)(_r,xr),Cr=(0,dr.createTable)(_r,Rr);(0,ur.drawTable)(_r,Cr)}function gr(_r,xr){var Rr=(0,cr.parseInput)(_r,xr);return(0,dr.createTable)(_r,Rr)}lr.__createTable=gr;function yr(_r,xr){(0,ur.drawTable)(_r,xr)}lr.__drawTable=yr;try{var vr=ar(964);vr.jsPDF&&(vr=vr.jsPDF),br(vr)}catch{}lr.default=pr}(),sr}()})})(jspdf_plugin_autotable);var jspdf_plugin_autotableExports=jspdf_plugin_autotable.exports;const autoTable=getDefaultExportFromCjs(jspdf_plugin_autotableExports);function formatNumber(tr){return Number.isInteger(tr)?tr.toLocaleString("es-CL"):tr.toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})}function getCantidadPorContexto(tr,er,rr){var ir,ar;if(er){const sr=(ir=tr.tags)==null?void 0:ir.find(lr=>isTagAsignado(lr)?lr.nombre===er&&lr.tipo===rr:!1);return sr&&isTagAsignado(sr)?sr.cantidad:0}let nr=0;return(ar=tr.tags)==null||ar.forEach(sr=>{isTagAsignado(sr)&&sr.tipo===rr&&(nr+=sr.cantidad||0)}),nr}function getTotalCantidadesRepuesto(tr){var nr;let er=0,rr=0;return(nr=tr.tags)==null||nr.forEach(ir=>{isTagAsignado(ir)&&(ir.tipo==="solicitud"?er+=ir.cantidad||0:rr+=ir.cantidad||0)}),{solicitud:er,stock:rr}}const COLORS={primary:"FF1E40AF",primaryLight:"FFDBEAFE",success:"FF22C55E",danger:"FFEF4444",dangerLight:"FFFEE2E2",gray:"FF6B7280",grayLight:"FFF3F4F6",white:"FFFFFFFF"};async function exportToExcelInforme(tr,er,rr,nr){const ir=new ExcelJS.Workbook;ir.creator="Baader 200 App",ir.created=new Date;const ar=nr==="solicitud"||!nr,sr=rr?ar?`CANTIDAD (${rr})`:`STOCK (${rr})`:ar?"CANTIDAD SOLICITADA":"STOCK BODEGA",lr=rr?rr.substring(0,31):ar?"Cantidad Solicitada":"Stock Bodega",or=ir.addWorksheet(lr);or.columns=[{header:"CODIGO SAP",key:"codigoSAP",width:14},{header:"TEXTO BREVE",key:"textoBreve",width:50},{header:"COD. BAADER",key:"codBaader",width:16},{header:sr,key:"cantidad",width:18},{header:"VALOR UN",key:"valorUn",width:14},{header:"TOTAL $",key:"total",width:16}];const cr=or.getRow(1);cr.font={bold:!0,color:{argb:"FFFFFFFF"}},cr.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E40AF"}},cr.alignment={vertical:"middle",horizontal:"center"},cr.height=22;let ur=0,dr=0;tr.forEach((yr,vr)=>{const _r=rr?getCantidadPorContexto(yr,rr,ar?"solicitud":"stock"):ar?getTotalCantidadesRepuesto(yr).solicitud:getTotalCantidadesRepuesto(yr).stock,xr=yr.valorUnitario*_r;ur+=xr,dr+=_r;const Rr=or.addRow({codigoSAP:yr.codigoSAP,textoBreve:yr.textoBreve,codBaader:yr.codigoBaader,cantidad:_r,valorUn:yr.valorUnitario,total:xr});vr%2===1&&(Rr.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF3F4F6"}}),Rr.getCell("valorUn").numFmt='"$"#,##0.00',Rr.getCell("total").numFmt='"$"#,##0.00',Rr.getCell("codigoSAP").alignment={horizontal:"center"},Rr.getCell("codBaader").alignment={horizontal:"center"},Rr.getCell("cantidad").alignment={horizontal:"center"},Rr.getCell("valorUn").alignment={horizontal:"right"},Rr.getCell("total").alignment={horizontal:"right"}});const hr=or.addRow({codigoSAP:"",textoBreve:"TOTALES",codBaader:"",cantidad:dr,valorUn:"",total:ur});hr.font={bold:!0},hr.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDBEAFE"}},hr.getCell("total").numFmt='"$"#,##0.00',hr.getCell("textoBreve").alignment={horizontal:"right"},hr.getCell("cantidad").alignment={horizontal:"center"},hr.getCell("total").alignment={horizontal:"right"},or.eachRow(yr=>{yr.eachCell(vr=>{vr.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),or.autoFilter={from:{row:1,column:1},to:{row:tr.length+1,column:6}};const fr=ir.addWorksheet("Info");fr.columns=[{header:"Campo",key:"campo",width:25},{header:"Valor",key:"valor",width:40}],fr.addRow({campo:"Contexto/Evento",valor:rr||"Todos"}),fr.addRow({campo:"Tipo",valor:ar?"Solicitud":"Stock Bodega"}),fr.addRow({campo:"Total Repuestos",valor:tr.length}),fr.addRow({campo:"Total Cantidad",valor:dr}),fr.addRow({campo:"Total USD",valor:ur}),fr.addRow({campo:"Fecha Exportacin",valor:new Date().toLocaleDateString("es-CL")}),fr.getRow(1).font={bold:!0},fr.getCell("B5").numFmt='"$"#,##0.00';const br=rr?`${er}_${rr.replace(/[^a-zA-Z0-9]/g,"_")}`:`${er}_${ar?"solicitud":"stock"}`,pr=await ir.xlsx.writeBuffer(),gr=new Blob([pr],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});FileSaver_minExports.saveAs(gr,`${br}.xlsx`)}async function exportToExcel(tr,er={formato:"completo"},rr="repuestos_baader_200"){if(er.formato==="simple")return exportToExcelInforme(tr,rr,er.contextTag||null,er.tipoContexto||null);const{incluirResumen:nr=!0,incluirSinStock:ir=!0,incluirPorTags:ar=!0,incluirEstilos:sr=!0,contextTag:lr=null}=er,or=new ExcelJS.Workbook;or.creator="Baader 200 App",or.created=new Date;const cr=or.addWorksheet("Detalle Repuestos",{views:[{state:"frozen",xSplit:0,ySplit:1}]}),ur=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:lr?`Cant. Solicitada (${lr})`:"Cantidad Solicitada",key:"cantidadSolicitada",width:22},{header:"Total Solicitado (USD)",key:"totalSolicitadoUSD",width:18},{header:lr?`Stock (${lr})`:"Stock en Bodega",key:"stockBodega",width:20},{header:"Total Stock (USD)",key:"totalStockUSD",width:16},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16}];ur.push({header:"Tags",key:"tags",width:25},{header:"lt. Act. Inventario",key:"ultimaAct",width:16},{header:"Img Manual",key:"imgManual",width:10},{header:"Fotos Reales",key:"fotosReales",width:11}),cr.columns=ur;const dr=ur.length;if(sr){const pr=cr.getRow(1);pr.font={bold:!0,color:{argb:COLORS.white}},pr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primary}},pr.alignment={vertical:"middle",horizontal:"center"},pr.height=25}tr.forEach((pr,gr)=>{var Ir;const yr=getTotalCantidadesRepuesto(pr),vr=lr?getCantidadPorContexto(pr,lr,"solicitud"):yr.solicitud,_r=lr?getCantidadPorContexto(pr,lr,"stock"):yr.stock,xr=pr.valorUnitario*vr,Rr=pr.valorUnitario*_r,Cr={codigoSAP:pr.codigoSAP,codigoBaader:pr.codigoBaader,descripcion:pr.textoBreve,cantidadSolicitada:vr,totalSolicitadoUSD:xr,stockBodega:_r,totalStockUSD:Rr,valorUnitario:pr.valorUnitario,total:xr+Rr,tags:((Ir=pr.tags)==null?void 0:Ir.length)>0?pr.tags.map(Lr=>getTagNombre(Lr)).join(", "):null,ultimaAct:pr.fechaUltimaActualizacionInventario?new Date(pr.fechaUltimaActualizacionInventario).toLocaleDateString("es-CL"):null,imgManual:pr.imagenesManual.length,fotosReales:pr.fotosReales.length},Tr=cr.addRow(Cr);if(sr){gr%2===1&&(Tr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}});const Lr=Tr.getCell("stockBodega");_r===0?(Lr.font={bold:!0,color:{argb:COLORS.danger}},Lr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}}):Lr.font={bold:!0,color:{argb:COLORS.success}}}Tr.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',Tr.getCell("totalStockUSD").numFmt='"$"#,##0.00',Tr.getCell("valorUnitario").numFmt='"$"#,##0.00',Tr.getCell("total").numFmt='"$"#,##0.00'});const hr={codigoSAP:null,codigoBaader:null,descripcion:"TOTALES",cantidadSolicitada:{formula:`SUM(D2:D${tr.length+1})`},totalSolicitadoUSD:{formula:`SUM(E2:E${tr.length+1})`},stockBodega:{formula:`SUM(F2:F${tr.length+1})`},totalStockUSD:{formula:`SUM(G2:G${tr.length+1})`},valorUnitario:null,total:{formula:`SUM(I2:I${tr.length+1})`},tags:null,ultimaAct:null,imgManual:{formula:`SUM(L2:L${tr.length+1})`},fotosReales:{formula:`SUM(M2:M${tr.length+1})`}},fr=cr.addRow(hr);if(sr&&(fr.font={bold:!0},fr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}}),fr.getCell("totalSolicitadoUSD").numFmt='"$"#,##0.00',fr.getCell("totalStockUSD").numFmt='"$"#,##0.00',fr.getCell("total").numFmt='"$"#,##0.00',cr.autoFilter={from:{row:1,column:1},to:{row:tr.length+1,column:dr}},sr&&cr.eachRow(pr=>{pr.eachCell(gr=>{gr.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),nr){const pr=or.addWorksheet(" Dashboard"),gr=tr.length,yr=tr.reduce((un,hn)=>{const Jr=lr?getCantidadPorContexto(hn,lr,"solicitud"):getTotalCantidadesRepuesto(hn).solicitud;return un+Jr},0),vr=tr.reduce((un,hn)=>{const Jr=lr?getCantidadPorContexto(hn,lr,"stock"):getTotalCantidadesRepuesto(hn).stock;return un+Jr},0),_r=tr.reduce((un,hn)=>{const Jr=getTotalCantidadesRepuesto(hn),nn=lr?getCantidadPorContexto(hn,lr,"solicitud"):Jr.solicitud,rn=lr?getCantidadPorContexto(hn,lr,"stock"):Jr.stock;return un+hn.valorUnitario*nn+hn.valorUnitario*rn},0),xr=tr.filter(un=>(lr?getCantidadPorContexto(un,lr,"stock"):getTotalCantidadesRepuesto(un).stock)>0).length,Rr=tr.filter(un=>(lr?getCantidadPorContexto(un,lr,"stock"):getTotalCantidadesRepuesto(un).stock)===0).length,Cr=tr.filter(un=>un.imagenesManual.length>0).length,Tr=tr.filter(un=>un.fotosReales.length>0).length,Ir=gr>0?_r/gr:0,Lr=gr>0?vr/gr:0,Nr=gr>0?xr/gr*100:0,Or=gr>0?Rr/gr*100:0,Pr=new Set;tr.forEach(un=>{var hn;return(hn=un.tags)==null?void 0:hn.forEach(Jr=>Pr.add(getTagNombre(Jr)))}),pr.getColumn(1).width=3,pr.getColumn(2).width=22,pr.getColumn(3).width=18,pr.getColumn(4).width=3,pr.getColumn(5).width=22,pr.getColumn(6).width=18,pr.getColumn(7).width=3,pr.getColumn(8).width=22,pr.getColumn(9).width=18,pr.mergeCells("B2:I2");const Mr=pr.getCell("B2");Mr.value=lr?` DASHBOARD - ${lr}`:" DASHBOARD - Repuestos Baader 200",Mr.font={bold:!0,size:20,color:{argb:COLORS.primary}},Mr.alignment={horizontal:"center",vertical:"middle"},pr.getRow(2).height=35,pr.mergeCells("B3:I3");const jr=pr.getCell("B3");jr.value=`Generado: ${new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,jr.font={size:11,color:{argb:COLORS.gray}},jr.alignment={horizontal:"center"};const wr=(un,hn,Jr,nn,rn)=>{const on=pr.getCell(`${un}5`);on.value=hn,on.font={size:10,color:{argb:COLORS.gray}},on.alignment={horizontal:"center"};const fn=pr.getCell(`${un}6`);nn==="currency"?(fn.value=Jr,fn.numFmt='"USD "$#,##0.00'):nn==="percent"?(fn.value=Jr/100,fn.numFmt="0.0%"):nn==="number"?(fn.value=Jr,fn.numFmt="#,##0"):fn.value=Jr,fn.font={bold:!0,size:24,color:{argb:rn}},fn.alignment={horizontal:"center",vertical:"middle"},pr.getRow(6).height=40};pr.mergeCells("B5:C5"),pr.mergeCells("B6:C6"),wr("B"," TOTAL REPUESTOS",gr,"number",COLORS.primary),pr.mergeCells("E5:F5"),pr.mergeCells("E6:F6"),wr("E"," VALOR TOTAL",_r,"currency",COLORS.success),pr.mergeCells("H5:I5"),pr.mergeCells("H6:I6"),wr("H"," SIN STOCK",Rr,"number",COLORS.danger),pr.mergeCells("B9:C9");const Er=pr.getCell("B9");Er.value=" MTRICAS PRINCIPALES",Er.font={bold:!0,size:12,color:{argb:COLORS.primary}},Er.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},[["Cant. Solicitada Total",yr,"#,##0"],["Stock Bodega Total",vr,"#,##0"],["Valor Promedio/Item",Ir,'"$"#,##0.00'],["Stock Promedio/Item",Lr,"0.0"],["% Con Stock",Nr/100,"0.0%"],["% Sin Stock",Or/100,"0.0%"]].forEach((un,hn)=>{const Jr=10+hn;pr.getCell(`B${Jr}`).value=un[0],pr.getCell(`B${Jr}`).font={size:10};const nn=pr.getCell(`C${Jr}`);nn.value=un[1],nn.numFmt=un[2],nn.font={bold:!0},nn.alignment={horizontal:"right"},hn%2===0&&(pr.getCell(`B${Jr}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),pr.mergeCells("E9:F9");const Sr=pr.getCell("E9");Sr.value=" DOCUMENTACIN",Sr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Sr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},[["Con Imagen Manual",Cr,gr],["Sin Imagen Manual",gr-Cr,gr],["Con Fotos Reales",Tr,gr],["Sin Fotos Reales",gr-Tr,gr],["Total Imgenes Manual",tr.reduce((un,hn)=>un+hn.imagenesManual.length,0),null],["Total Fotos Reales",tr.reduce((un,hn)=>un+hn.fotosReales.length,0),null]].forEach((un,hn)=>{const Jr=10+hn;pr.getCell(`E${Jr}`).value=un[0],pr.getCell(`E${Jr}`).font={size:10};const nn=pr.getCell(`F${Jr}`);un[2],nn.value=un[1],nn.numFmt="#,##0",nn.font={bold:!0},nn.alignment={horizontal:"right"},hn%2===0&&(pr.getCell(`E${Jr}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),pr.mergeCells("H9:I9");const Wr=pr.getCell("H9");Wr.value=" DISTRIBUCIN POR TAGS",Wr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Wr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}},Array.from(Pr).slice(0,6).map(un=>{const hn=tr.filter(Jr=>{var nn;return(nn=Jr.tags)==null?void 0:nn.includes(un)}).length;return[un,hn]}).forEach((un,hn)=>{const Jr=10+hn;pr.getCell(`H${Jr}`).value=un[0],pr.getCell(`H${Jr}`).font={size:10};const nn=pr.getCell(`I${Jr}`);nn.value=un[1],nn.numFmt="#,##0",nn.font={bold:!0},nn.alignment={horizontal:"right"},hn%2===0&&(pr.getCell(`H${Jr}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),pr.mergeCells("B18:I18");const Vr=pr.getCell("B18");Vr.value=" COBERTURA DE STOCK",Vr.font={bold:!0,size:12,color:{argb:COLORS.primary}};const zr=50,Gr=Math.round(Nr/100*zr),Fr=zr-Gr,Xr="".repeat(Gr)+"".repeat(Fr);pr.mergeCells("B19:I19");const Ur=pr.getCell("B19");Ur.value=Xr,Ur.font={size:14,color:{argb:Nr>=50?COLORS.success:COLORS.danger}},Ur.alignment={horizontal:"center"},pr.mergeCells("B20:I20");const Br=pr.getCell("B20");Br.value=`${xr} con stock (${Nr.toFixed(1)}%) | ${Rr} sin stock (${Or.toFixed(1)}%)`,Br.font={size:10,color:{argb:COLORS.gray}},Br.alignment={horizontal:"center"},pr.mergeCells("B22:F22");const Kr=pr.getCell("B22");Kr.value=" TOP 5 REPUESTOS MS COSTOSOS",Kr.font={bold:!0,size:12,color:{argb:COLORS.primary}},Kr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}};const Zr=[...tr].sort((un,hn)=>hn.total-un.total).slice(0,5);["#","Cdigo","Descripcin","Cant.","Total USD"].forEach((un,hn)=>{const Jr=["B","C","D","E","F"],nn=pr.getCell(`${Jr[hn]}23`);nn.value=un,nn.font={bold:!0,size:9,color:{argb:COLORS.white}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.gray}},nn.alignment={horizontal:"center"}}),Zr.forEach((un,hn)=>{const Jr=24+hn,nn=getTotalCantidadesRepuesto(un);pr.getCell(`B${Jr}`).value=hn+1,pr.getCell(`C${Jr}`).value=un.codigoSAP||un.codigoBaader,pr.getCell(`D${Jr}`).value=un.textoBreve.substring(0,30)+(un.textoBreve.length>30?"...":""),pr.getCell(`E${Jr}`).value=nn.solicitud+nn.stock;const rn=pr.getCell(`F${Jr}`);rn.value=un.total,rn.numFmt='"$"#,##0.00',rn.font={bold:!0,color:{argb:COLORS.success}},hn%2===0&&["B","C","D","E","F"].forEach(on=>{pr.getCell(`${on}${Jr}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}}})}),pr.mergeCells("H22:I22");const tn=pr.getCell("H22");tn.value=" RESUMEN RPIDO",tn.font={bold:!0,size:12,color:{argb:COLORS.primary}},tn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primaryLight}};const sn=[["Repuestos Totales",gr],["Valor Total",_r],["Urgentes (sin stock)",Rr],["Con documentacin",Cr+Tr],["Tags utilizados",Pr.size]];if(["Concepto","Valor"].forEach((un,hn)=>{const Jr=["H","I"],nn=pr.getCell(`${Jr[hn]}23`);nn.value=un,nn.font={bold:!0,size:9,color:{argb:COLORS.white}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.gray}},nn.alignment={horizontal:"center"}}),sn.forEach((un,hn)=>{const Jr=24+hn;pr.getCell(`H${Jr}`).value=un[0],pr.getCell(`H${Jr}`).font={size:10};const nn=pr.getCell(`I${Jr}`);nn.value=un[1],hn===1?nn.numFmt='"$"#,##0.00':nn.numFmt="#,##0",nn.font={bold:!0},nn.alignment={horizontal:"right"},hn%2===0&&(pr.getCell(`H${Jr}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}},nn.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),sr)for(let un=9;un<=15;un++)["B","C","E","F","H","I"].forEach(hn=>{const Jr=pr.getCell(`${hn}${un}`);Jr.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}if(ir){const pr=tr.filter(gr=>(lr?getCantidadPorContexto(gr,lr,"stock"):getTotalCantidadesRepuesto(gr).stock)===0);if(pr.length>0){const gr=or.addWorksheet("Sin Stock",{views:[{state:"frozen",xSplit:0,ySplit:1}]});if(gr.columns=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Nmero Parte Manual",key:"codigoBaader",width:20},{header:"Descripcin SAP",key:"descripcion",width:45},{header:lr?`Cant. Solicitada (${lr})`:"Cantidad Solicitada",key:"cantidadSolicitada",width:22},{header:"Valor Unitario (USD)",key:"valorUnitario",width:16},{header:"Total General (USD)",key:"total",width:16},{header:"Tags",key:"tags",width:25}],sr){const xr=gr.getRow(1);xr.font={bold:!0,color:{argb:COLORS.white}},xr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.danger}},xr.alignment={vertical:"middle",horizontal:"center"}}pr.forEach((xr,Rr)=>{var Or;const Cr=getTotalCantidadesRepuesto(xr),Tr=lr?getCantidadPorContexto(xr,lr,"solicitud"):Cr.solicitud,Ir=lr?getCantidadPorContexto(xr,lr,"stock"):Cr.stock,Lr=xr.valorUnitario*Tr+xr.valorUnitario*Ir,Nr=gr.addRow({codigoSAP:xr.codigoSAP,codigoBaader:xr.codigoBaader,descripcion:xr.textoBreve,cantidadSolicitada:Tr,valorUnitario:xr.valorUnitario,total:Lr,tags:((Or=xr.tags)==null?void 0:Or.length)>0?xr.tags.map(Pr=>getTagNombre(Pr)).join(", "):null});Nr.getCell("valorUnitario").numFmt='"$"#,##0.00',Nr.getCell("total").numFmt='"$"#,##0.00',sr&&Rr%2===1&&(Nr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}})});const yr=pr.reduce((xr,Rr)=>{const Cr=getTotalCantidadesRepuesto(Rr),Tr=lr?getCantidadPorContexto(Rr,lr,"solicitud"):Cr.solicitud,Ir=lr?getCantidadPorContexto(Rr,lr,"stock"):Cr.stock;return xr+Rr.valorUnitario*Tr+Rr.valorUnitario*Ir},0),vr=pr.reduce((xr,Rr)=>{const Cr=lr?getCantidadPorContexto(Rr,lr,"solicitud"):getTotalCantidadesRepuesto(Rr).solicitud;return xr+Cr},0),_r=gr.addRow({codigoSAP:null,codigoBaader:null,descripcion:`TOTAL (${pr.length} repuestos)`,cantidadSolicitada:vr,valorUnitario:null,total:yr,tags:null});sr&&(_r.font={bold:!0},_r.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.dangerLight}}),_r.getCell("total").numFmt='"$"#,##0.00'}}if(ar){const pr=new Set;if(tr.forEach(gr=>{var yr;return(yr=gr.tags)==null?void 0:yr.forEach(vr=>pr.add(getTagNombre(vr)))}),pr.size>0){const gr=or.addWorksheet("Por Tags");if(gr.columns=[{header:"Tag",key:"tag",width:25},{header:"Cantidad Repuestos",key:"cantidad",width:18},{header:"Cant. Solicitada",key:"cantSolicitada",width:15},{header:"Stock Total",key:"stockTotal",width:12},{header:"Valor Total (USD)",key:"valorTotal",width:16}],sr){const yr=gr.getRow(1);yr.font={bold:!0,color:{argb:COLORS.white}},yr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.primary}},yr.alignment={vertical:"middle",horizontal:"center"}}Array.from(pr).sort().forEach((yr,vr)=>{const _r=tr.filter(Ir=>{var Lr;return(Lr=Ir.tags)==null?void 0:Lr.some(Nr=>getTagNombre(Nr)===yr)});let xr=0,Rr=0,Cr=0;_r.forEach(Ir=>{const Lr=getCantidadPorContexto(Ir,yr,"solicitud"),Nr=getCantidadPorContexto(Ir,yr,"stock");xr+=Lr,Rr+=Nr,Cr+=Ir.valorUnitario*Lr+Ir.valorUnitario*Nr});const Tr=gr.addRow({tag:yr,cantidad:_r.length,cantSolicitada:xr,stockTotal:Rr,valorTotal:Cr});Tr.getCell("valorTotal").numFmt='"$"#,##0.00',sr&&vr%2===1&&(Tr.fill={type:"pattern",pattern:"solid",fgColor:{argb:COLORS.grayLight}})}),gr.autoFilter={from:{row:1,column:1},to:{row:pr.size+1,column:5}}}}const mr=await or.xlsx.writeBuffer(),br=new Blob([mr],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});FileSaver_minExports.saveAs(br,`${rr}.xlsx`)}async function exportToPDF(tr,er={},rr){const{includeCharts:nr=!0,filename:ir="repuestos_baader_200",contextTag:ar=null}=er,sr=new E("p","mm","a4"),lr=sr.internal.pageSize.getWidth(),or=sr.internal.pageSize.getHeight(),cr=8,ur=lr-2*cr,dr=await preloadImagesWithDimensions(tr);console.log("Imgenes cargadas:",dr.size),sr.setFontSize(16),sr.setFont("helvetica","bold"),sr.setTextColor(30,64,175),sr.text(ar?`Repuestos Baader 200 - ${ar}`:"Repuestos Baader 200",lr/2,20,{align:"center"}),sr.setFontSize(10),sr.setFont("helvetica","normal"),sr.setTextColor(100,100,100),sr.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,lr/2,28,{align:"center"});const hr=tr.reduce((xr,Rr)=>{const Cr=ar?getCantidadPorContexto(Rr,ar,"solicitud"):getTotalCantidadesRepuesto(Rr).solicitud;return xr+Cr},0),fr=tr.reduce((xr,Rr)=>{const Cr=ar?getCantidadPorContexto(Rr,ar,"stock"):getTotalCantidadesRepuesto(Rr).stock;return xr+Cr},0),mr=tr.reduce((xr,Rr)=>{const Cr=getTotalCantidadesRepuesto(Rr),Tr=ar?getCantidadPorContexto(Rr,ar,"solicitud"):Cr.solicitud,Ir=ar?getCantidadPorContexto(Rr,ar,"stock"):Cr.stock;return xr+Rr.valorUnitario*Tr+Rr.valorUnitario*Ir},0),br=tr.filter(xr=>xr.imagenesManual.length>0).length,pr=tr.filter(xr=>xr.fotosReales.length>0).length,gr=tr.filter(xr=>(ar?getCantidadPorContexto(xr,ar,"stock"):getTotalCantidadesRepuesto(xr).stock)>0).length,yr=tr.length-gr;let vr=38;if(nr){const xr=cr+5,Rr=38,Cr=35,Tr=40;sr.setFontSize(9),sr.setFont("helvetica","bold"),sr.setTextColor(60,60,60),sr.text("Cantidad vs Stock",xr+Cr,Rr-3,{align:"center"});const Ir=Math.max(hr,fr,1),Lr=hr/Ir*Tr,Nr=fr/Ir*Tr;sr.setFillColor(59,130,246),sr.roundedRect(xr,Rr+Tr-Lr,15,Lr,1,1,"F"),sr.setFontSize(7),sr.setTextColor(59,130,246),sr.text(hr.toString(),xr+7.5,Rr+Tr-Lr-2,{align:"center"}),sr.setFillColor(34,197,94),sr.roundedRect(xr+20,Rr+Tr-Nr,15,Nr,1,1,"F"),sr.setTextColor(34,197,94),sr.text(fr.toString(),xr+27.5,Rr+Tr-Nr-2,{align:"center"}),sr.setFontSize(6),sr.setTextColor(80,80,80),sr.text("Solicitada",xr+7.5,Rr+Tr+5,{align:"center"}),sr.text("Stock",xr+27.5,Rr+Tr+5,{align:"center"});const Or=lr/2,Pr=Rr+20,Mr=18;sr.setFontSize(9),sr.setFont("helvetica","bold"),sr.setTextColor(60,60,60),sr.text("Documentacin",Or,Rr-3,{align:"center"});const jr=tr.length;if(jr>0){const Sr=br-tr.filter(Fr=>Fr.imagenesManual.length>0&&Fr.fotosReales.length>0).length,Dr=pr-tr.filter(Fr=>Fr.imagenesManual.length>0&&Fr.fotosReales.length>0).length,Wr=tr.filter(Fr=>Fr.imagenesManual.length>0&&Fr.fotosReales.length>0).length,$r=tr.length-br-Dr;let Vr=-Math.PI/2;const zr=[{value:Wr,color:[34,197,94],label:"Ambas"},{value:Sr,color:[59,130,246],label:"Manual"},{value:Dr,color:[168,85,247],label:"Real"},{value:Math.max(0,$r),color:[209,213,219],label:"Sin img"}].filter(Fr=>Fr.value>0);zr.forEach(Fr=>{const Xr=Fr.value/jr*2*Math.PI,Ur=Vr+Xr;sr.setFillColor(Fr.color[0],Fr.color[1],Fr.color[2]);const Br=30,Kr=[[Or,Pr]];for(let tn=0;tn<=Br;tn++){const sn=Vr+Xr*tn/Br;Kr.push([Or+Math.cos(sn)*Mr,Pr+Math.sin(sn)*Mr])}Kr.push([Or,Pr]),sr.setDrawColor(255,255,255),sr.setLineWidth(.5);let Zr=`${Kr[0][0]} ${Kr[0][1]} m`;for(let tn=1;tn<Kr.length;tn++)Zr+=` ${Kr[tn][0]} ${Kr[tn][1]} l`;for(let tn=0;tn<Br;tn++){const sn=Vr+Xr*tn/Br,un=Vr+Xr*(tn+1)/Br;sr.triangle(Or,Pr,Or+Math.cos(sn)*Mr,Pr+Math.sin(sn)*Mr,Or+Math.cos(un)*Mr,Pr+Math.sin(un)*Mr,"F")}Vr=Ur});let Gr=Rr+Tr+3;sr.setFontSize(6),zr.forEach((Fr,Xr)=>{const Ur=Or-20+Xr%2*25,Br=Gr+Math.floor(Xr/2)*6;sr.setFillColor(Fr.color[0],Fr.color[1],Fr.color[2]),sr.rect(Ur,Br-2,3,3,"F"),sr.setTextColor(80,80,80),sr.text(`${Fr.label}: ${Fr.value}`,Ur+4,Br,{align:"left"})})}const wr=lr-cr-45;sr.setFontSize(9),sr.setFont("helvetica","bold"),sr.setTextColor(60,60,60),sr.text("Disponibilidad",wr+20,Rr-3,{align:"center"});const Er=tr.length>0?gr/tr.length*100:0,Ar=Rr+5;sr.setFillColor(229,231,235),sr.roundedRect(wr,Ar,40,8,2,2,"F"),sr.setFillColor(34,197,94),sr.roundedRect(wr,Ar,40*(Er/100),8,2,2,"F"),sr.setFontSize(7),sr.setFont("helvetica","bold"),sr.setTextColor(255,255,255),Er>20&&sr.text(`${Math.round(Er)}%`,wr+20,Ar+5.5,{align:"center"}),sr.setFontSize(6),sr.setTextColor(34,197,94),sr.text(`${gr} con stock`,wr+20,Ar+14,{align:"center"}),sr.setTextColor(239,68,68),sr.text(`${yr} sin stock`,wr+20,Ar+19,{align:"center"}),sr.setFillColor(30,64,175),sr.roundedRect(wr,Ar+26,40,14,2,2,"F"),sr.setFontSize(7),sr.setFont("helvetica","bold"),sr.setTextColor(255,255,255),sr.text("VALOR TOTAL",wr+20,Ar+32,{align:"center"}),sr.setFontSize(8),sr.text(`$${mr.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,wr+20,Ar+38,{align:"center"}),vr=Rr+Tr+20}sr.setFontSize(10),sr.setFont("helvetica","bold"),sr.setTextColor(30,64,175),sr.text("Resumen",lr/2,vr,{align:"center"}),autoTable(sr,{startY:vr+5,head:[["Concepto","Valor"]],body:[["Total Repuestos",tr.length.toString()],["Cant. Solicitada Total",hr.toString()],["Stock Bodega Total",fr.toString()],["Valor Total (USD)",`$${mr.toLocaleString("en-US",{minimumFractionDigits:2})}`],["Con Imgenes Manual",`${br} (${Math.round(br/tr.length*100)}%)`],["Con Fotos Reales",`${pr} (${Math.round(pr/tr.length*100)}%)`]],theme:"striped",headStyles:{fillColor:[30,64,175]},margin:{left:cr+30,right:cr+30},styles:{fontSize:9}}),sr.addPage(),sr.setFontSize(12),sr.setFont("helvetica","bold"),sr.setTextColor(30,64,175),sr.text("Detalle de Repuestos",lr/2,12,{align:"center"}),sr.setFontSize(8),sr.setFont("helvetica","normal"),sr.setTextColor(100,100,100),sr.text(`${tr.length} repuestos`,lr/2,17,{align:"center"});let _r=22;for(let xr=0;xr<tr.length;xr++){const Rr=tr[xr],Cr=[...Rr.imagenesManual,...Rr.fotosReales],Tr=Cr.length>0,Ir=Tr?42:26;_r+Ir>or-10&&(sr.addPage(),_r=10);const Lr=Tr?ur*.35:ur,Nr=cr+Lr,Or=ur-Lr;sr.setDrawColor(200,200,200),sr.setFillColor(255,255,255),sr.roundedRect(cr,_r,ur,Ir,1,1,"FD");const Pr=cr+2;let Mr=_r+5;sr.setFontSize(9),sr.setFont("helvetica","bold"),sr.setTextColor(30,64,175),sr.text(`N Parte Manual: ${Rr.codigoBaader||"-"}`,Pr,Mr),Mr+=4,sr.setFontSize(6),sr.setFont("helvetica","bold"),sr.setTextColor(80,80,80),sr.text("Cd. SAP: ",Pr,Mr),sr.setFont("helvetica","normal"),sr.text(Rr.codigoSAP||"-",Pr+sr.getTextWidth("Cd. SAP: "),Mr),Mr+=4,sr.setFontSize(6),sr.setTextColor(50,50,50);const jr=Lr-4,wr=sr.splitTextToSize(Rr.textoBreve||"",jr);sr.text(wr.slice(0,2),Pr,Mr),Mr+=Math.min(wr.length,2)*2.5+2;const Er=getTotalCantidadesRepuesto(Rr),Ar=ar?getCantidadPorContexto(Rr,ar,"solicitud"):Er.solicitud,Sr=ar?getCantidadPorContexto(Rr,ar,"stock"):Er.stock,Dr=Rr.valorUnitario*Ar+Rr.valorUnitario*Sr;sr.setFontSize(6),sr.setFont("helvetica","bold"),sr.setTextColor(80,80,80),sr.text("Cantidad: ",Pr,Mr),sr.setFont("helvetica","normal"),sr.text(`${Ar}`,Pr+sr.getTextWidth("Cantidad: "),Mr),Mr+=3,sr.setFont("helvetica","bold"),sr.text("V. Unitario: ",Pr,Mr),sr.setFont("helvetica","normal"),sr.text(`$${formatNumber(Rr.valorUnitario)}`,Pr+sr.getTextWidth("V. Unitario: "),Mr),Mr+=3,sr.setFont("helvetica","bold"),sr.text("Total: ",Pr,Mr),sr.setFont("helvetica","normal"),sr.text(`$${formatNumber(Dr)}`,Pr+sr.getTextWidth("Total: "),Mr);const Wr=Pr+28;sr.setFont("helvetica","bold"),sr.text("Stock: ",Wr,Mr);const $r=Sr>0?[0,130,0]:[180,0,0];if(sr.setTextColor($r[0],$r[1],$r[2]),sr.setFont("helvetica","bold"),sr.text(`${Sr}`,Wr+sr.getTextWidth("Stock: "),Mr),Tr){const zr=Nr+2,Gr=Or-2*2,Fr=Ir-2*2,Xr=_r+2;if(Cr.length===1){const Ur=Math.min(Gr*.85,Fr-4),Br=dr.get(Cr[0].url),{w:Kr,h:Zr}=calculateFitDimensions(Br,Ur,Ur),tn=zr+(Gr-Kr)/2,sn=Xr+(Fr-Zr)/2-1;drawImageWithAspectRatio(sr,dr,Cr[0].url,tn,sn,Kr,Zr),sr.setFontSize(4),sr.setTextColor(130,130,130),sr.setFont("helvetica","normal");const un=Cr[0].tipo==="manual"?"Manual":"Real";sr.text(un,tn+Kr/2,sn+Zr+2.5,{align:"center"})}else{const Br=Math.min((Gr-3)/2-2,Fr-6),Kr=dr.get(Cr[0].url),Zr=Cr[1]?dr.get(Cr[1].url):null,tn=calculateFitDimensions(Kr,Br,Br),sn=Zr?calculateFitDimensions(Zr,Br,Br):tn,un=tn.w+sn.w+3,hn=zr+(Gr-un)/2,Jr=Math.max(tn.h,sn.h),nn=Xr+(Fr-Jr-4)/2,rn=nn+(Jr-tn.h)/2;if(drawImageWithAspectRatio(sr,dr,Cr[0].url,hn,rn,tn.w,tn.h),sr.setFontSize(4),sr.setTextColor(130,130,130),sr.setFont("helvetica","normal"),sr.text(Cr[0].tipo==="manual"?"Manual":"Real",hn+tn.w/2,rn+tn.h+2.5,{align:"center"}),Cr[1]){const on=hn+tn.w+3,fn=nn+(Jr-sn.h)/2;drawImageWithAspectRatio(sr,dr,Cr[1].url,on,fn,sn.w,sn.h),sr.text(Cr[1].tipo==="manual"?"Manual":"Real",on+sn.w/2,fn+sn.h+2.5,{align:"center"})}Cr.length>2&&(sr.setFontSize(5),sr.setTextColor(100,100,100),sr.text(`+${Cr.length-2}`,zr+Gr-5,_r+Ir-2))}}20+Math.round(xr/tr.length*75),_r+=Ir+2}sr.save(`${ir}.pdf`)}function calculateFitDimensions(tr,er,rr){if(!tr)return{w:er,h:rr};const nr=tr.width/tr.height;let ir=er,ar=er/nr;return ar>rr&&(ar=rr,ir=rr*nr),{w:ir,h:ar}}function drawImageWithAspectRatio(tr,er,rr,nr,ir,ar,sr){const lr=er.get(rr);if(lr)try{const or=lr.base64.includes("image/png")?"PNG":"JPEG";tr.addImage(lr.base64,or,nr,ir,ar,sr);return}catch(or){console.error("Error agregando imagen al PDF:",or)}tr.setFillColor(245,245,245),tr.setDrawColor(220,220,220),tr.roundedRect(nr,ir,ar,sr,1,1,"FD"),tr.setFontSize(5),tr.setTextColor(180,180,180),tr.text("Sin img",nr+ar/2,ir+sr/2+1,{align:"center"})}window.importarRepuestosInformeV2=importarRepuestosInformeV2;const PDFViewer=reactExports.lazy(()=>__vitePreload(()=>import("./PDFViewer-DqF0JHXM.js"),__vite__mapDeps([0,1])).then(tr=>({default:tr.PDFViewer}))),PDFMarkerEditor=reactExports.lazy(()=>__vitePreload(()=>import("./PDFMarkerEditor-BxoJPV1T.js"),__vite__mapDeps([2,1])).then(tr=>({default:tr.PDFMarkerEditor})));let editorPreloaded=!1,editorPreloading=!1;const preloadMarkerEditor=()=>{if(editorPreloaded||editorPreloading)return Promise.resolve();editorPreloading=!0,console.log("[Dashboard] Precargando mdulo PDFMarkerEditor...");const tr=performance.now();return __vitePreload(()=>import("./PDFMarkerEditor-BxoJPV1T.js"),__vite__mapDeps([2,1])).then(()=>{editorPreloaded=!0,editorPreloading=!1,console.log(`[Dashboard] PDFMarkerEditor precargado en ${(performance.now()-tr).toFixed(0)}ms `)}).catch(er=>{editorPreloading=!1,console.error("[Dashboard] Error precargando PDFMarkerEditor:",er)})},PDFLoadingFallback=()=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-10 h-10 text-primary-600 animate-spin mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando visor de PDF..."})]})});function Dashboard(){const{user:tr,signOut:er}=useAuth(),{repuestos:rr,loading:nr,createRepuesto:ir,updateRepuesto:ar,deleteRepuesto:sr,getHistorial:lr,importRepuestos:or,renameTag:cr,deleteTag:ur,addTagToRepuestosByCodigo:dr}=useRepuestos(),{uploadImage:hr,getManualURL:fr}=useStorage(),{lastSelectedRepuestoId:mr,setLastSelectedRepuesto:br}=useLocalStorage(),{toasts:pr,removeToast:gr,success:yr,error:vr}=useToast(),{toggleTheme:_r,isDark:xr}=useTheme(),[Rr,Cr]=reactExports.useState(null),[Tr,Ir]=reactExports.useState(null),[Lr,Nr]=reactExports.useState(null),[Or,Pr]=reactExports.useState(null),[Mr,jr]=reactExports.useState(!1),[wr,Er]=reactExports.useState("create"),[Ar,Sr]=reactExports.useState("hidden"),[Dr,Wr]=reactExports.useState("manual"),[$r,Vr]=reactExports.useState(null),[zr,Gr]=reactExports.useState(),[Fr,Xr]=reactExports.useState(),[Ur,Br]=reactExports.useState(null),Kr=usePDFPreloader($r,3e3),[Zr,tn]=reactExports.useState(editorPreloaded),[sn,un]=reactExports.useState(editorPreloading),[hn,Jr]=reactExports.useState(!1),[nn,rn]=reactExports.useState(!1),[on,fn]=reactExports.useState(!1),[mn,yn]=reactExports.useState(!1),[Rn,In]=reactExports.useState("repuestos"),[Sn,Dn]=reactExports.useState([]),[zn,rs]=reactExports.useState(null),[ns,fs]=reactExports.useState(null),[qn,ds]=reactExports.useState(!1),[os,gs]=reactExports.useState(!0),[Wn,Fn]=reactExports.useState(!1),[Bn,ss]=reactExports.useState("completo"),[$s,vs]=reactExports.useState(!0),[kn,Qn]=reactExports.useState(!0),[xa,as]=reactExports.useState(!0),[ms,ls]=reactExports.useState(!0),[An,wn]=reactExports.useState(!1),[Nn,$n]=reactExports.useState(!1),[Gn,gn]=reactExports.useState(!1),[_n,jn]=reactExports.useState(!1),[On,Un]=reactExports.useState(!1),{canUndo:Hn,canRedo:Kn,recordAction:_i,popUndo:ys,popRedo:xs,startRestoring:Cs,endRestoring:Rs,getActionDescription:Ls,peekUndo:Ws}=useUndoRedo();reactExports.useEffect(()=>{fr().then(ps=>{ps&&Vr(ps)})},[fr]),reactExports.useEffect(()=>{Kr.isReady&&Kr.pdf&&$r&&(setGlobalPDFCache($r,Kr.pdf,Kr.textContent),console.log("[Dashboard] PDF manual guardado en cache global "),!editorPreloaded&&!editorPreloading&&(un(!0),preloadMarkerEditor().then(()=>{tn(!0),un(!1)})))},[Kr.isReady,Kr.pdf,Kr.textContent,$r]),reactExports.useEffect(()=>{if(mr&&rr.length>0&&!Rr){const ps=rr.find(js=>js.id===mr);ps&&(Cr(ps),Sr("gallery"))}},[mr,rr,Rr]),reactExports.useEffect(()=>{br((Rr==null?void 0:Rr.id)||null)},[Rr,br]),reactExports.useEffect(()=>{const ps=js=>{const zs=document.activeElement;(zs==null?void 0:zs.tagName)==="INPUT"||(zs==null?void 0:zs.tagName)==="TEXTAREA"||((js.ctrlKey||js.metaKey)&&js.key==="n"&&(js.preventDefault(),ro()),(js.ctrlKey||js.metaKey)&&js.key==="e"&&(js.preventDefault(),Ro()),(js.ctrlKey||js.metaKey)&&js.key==="p"&&(js.preventDefault(),jo()),(js.ctrlKey||js.metaKey)&&js.key==="m"&&(js.preventDefault(),Sr(Ar==="pdf"?"hidden":"pdf")),js.key==="Escape"&&(Mr?jr(!1):Wn?Fn(!1):qn?ds(!1):An?wn(!1):Ar!=="hidden"&&Sr("hidden")))};return window.addEventListener("keydown",ps),()=>window.removeEventListener("keydown",ps)},[Ar,Mr,Wn,qn,An]);const Xs=ps=>{Cr(ps),ps?(Sr("gallery"),Wr("manual")):Sr("hidden")},ro=()=>{Ir(null),Er("create"),jr(!0)},ao=ps=>{Ir(ps),Er("edit"),jr(!0)},_o=async ps=>{try{if(wr==="edit"&&Tr){for(const js of Object.keys(ps)){const zs=Tr[js],Zs=ps[js];zs!==Zs&&_i({type:"update",description:`Actualizar ${js} en ${Tr.codigoSAP}`,repuestoId:Tr.id,repuestoCode:Tr.codigoSAP,campo:js,valorAnterior:zs,valorNuevo:Zs})}await ar(Tr.id,ps,Tr),yr("Repuesto actualizado correctamente")}else await ir(ps),yr("Repuesto creado correctamente");jr(!1)}catch(js){throw vr("Error al guardar el repuesto"),js}},Ln=ps=>{Nr(ps)},is=async()=>{if(Lr){rn(!0);try{await sr(Lr.id),yr("Repuesto eliminado"),(Rr==null?void 0:Rr.id)===Lr.id&&(Cr(null),Sr("hidden"))}catch{vr("Error al eliminar el repuesto")}finally{rn(!1),Nr(null)}}},ws=ps=>{if(Cr(ps),Sr("pdf"),ps.vinculosManual&&ps.vinculosManual.length>0){const js=ps.vinculosManual[0];Gr(js.pagina),Xr(js)}else Gr(void 0),Xr(void 0)},As=ps=>{Cr(ps),Sr("gallery"),Wr("real")},Fs=(ps,js)=>{Br(ps),Cr(ps),Os(js||null),Sr("marker-editor")},[ks,Os]=reactExports.useState(null),Js=async ps=>{if(!Ur)return;const js=Ur.vinculosManual||[];if(ks){const zs=js.map(Zs=>Zs.id===ks.id?{...ps,id:ks.id}:Zs);await ar(Ur.id,{vinculosManual:zs}),yr("Marcador actualizado correctamente"),Xr({...ps,id:ks.id})}else{const zs={...ps,id:Date.now().toString()};await ar(Ur.id,{vinculosManual:[...js,zs]}),yr("Marcador guardado - Ahora puedes ver este repuesto en el manual"),Xr(zs)}Sr("pdf"),Br(null),Os(null),Gr(ps.pagina)},qs=async(ps,js)=>{const Zs=(ps.vinculosManual||[]).filter(xo=>xo.id!==js);await ar(ps.id,{vinculosManual:Zs}),yr("Marcador eliminado"),Xr(void 0)},Ys=ps=>{Pr(ps)},Us=async(ps,js,zs)=>{const Zs=await hr(ps,js,zs),xo=rr.find(fo=>fo.id===js);if(xo){const fo=zs==="manual"?xo.imagenesManual:xo.fotosReales,mo=[...fo,{...Zs,orden:fo.length}];await ar(js,{[zs==="manual"?"imagenesManual":"fotosReales"]:mo}),yr("Imagen agregada correctamente")}return Zs},so=async(ps,js)=>{const zs=js.tipo,xo=(zs==="manual"?ps.imagenesManual:ps.fotosReales).filter(fo=>fo.id!==js.id);await ar(ps.id,{[zs==="manual"?"imagenesManual":"fotosReales"]:xo}),yr("Imagen eliminada")},Hs=async(ps,js)=>{const zs=js.tipo,xo=(zs==="manual"?ps.imagenesManual:ps.fotosReales).map(fo=>({...fo,esPrincipal:fo.id===js.id}));await ar(ps.id,{[zs==="manual"?"imagenesManual":"fotosReales"]:xo})},oo=async(ps,js)=>{var Zs;const zs=((Zs=js[0])==null?void 0:Zs.tipo)||"manual";await ar(ps.id,{[zs==="manual"?"imagenesManual":"fotosReales"]:js})},ho=reactExports.useCallback(async(ps,js)=>{if(!Rr)return;const Zs=await(await fetch(ps)).blob(),xo=new File([Zs],`manual_page_${js}.png`,{type:"image/png"});await Us(xo,Rr.id,"manual");const fo=Rr.vinculosManual||[];await ar(Rr.id,{vinculosManual:[...fo,{id:Date.now().toString(),pagina:js,forma:"rectangulo",color:"rgba(239, 68, 68, 0.4)",descripcion:`Pgina ${js}`}]}),yr(`Captura de pgina ${js} guardada`)},[Rr,ar,yr]),Po=(ps,js)=>{rs(ps),fs(js)},Ro=()=>{Fn(!0)},Lo=()=>{const ps=Sn.length>0?Sn:rr;exportToExcel(ps,{formato:Bn,incluirResumen:$s,incluirSinStock:kn,incluirPorTags:xa,incluirEstilos:ms,contextTag:zn||void 0,tipoContexto:ns});const zs=zn?` (contexto: ${zn})`:"";yr(`Excel exportado con ${ps.length} repuestos${zs}`),Fn(!1)},jo=()=>{ds(!0)},qo=()=>{const ps=Sn.length>0?Sn:rr;exportToPDF(ps,{includeCharts:os,contextTag:zn||void 0});const zs=zn?` (contexto: ${zn})`:"";yr(`PDF exportado con ${ps.length} repuestos${zs}`),ds(!1)},go=async()=>{const ps=ys();if(ps){Cs();try{const js=rr.find(zs=>zs.id===ps.repuestoId);js&&ps.campo&&(await ar(ps.repuestoId,{[ps.campo]:ps.valorAnterior},js),yr(`Deshecho: ${Ls(ps)}`))}catch{vr("Error al deshacer")}finally{Rs()}}},Oo=async()=>{const ps=xs();if(ps){Cs();try{const js=rr.find(zs=>zs.id===ps.repuestoId);js&&ps.campo&&(await ar(ps.repuestoId,{[ps.campo]:ps.valorNuevo},js),yr(`Rehecho: ${Ls(ps)}`))}catch{vr("Error al rehacer")}finally{Rs()}}},no=async ps=>{const js=rr.find(zs=>zs.id===ps.repuestoId);if(!js){vr("Repuesto no encontrado");return}try{_i({type:"update",description:`Restaurado ${ps.campo}`,repuestoId:ps.repuestoId,repuestoCode:js.codigoSAP,campo:ps.campo,valorAnterior:js[ps.campo],valorNuevo:ps.valorAnterior}),await ar(ps.repuestoId,{[ps.campo]:ps.valorAnterior},js),yr(`Restaurado: ${ps.campo} de ${js.codigoSAP}`)}catch{vr("Error al restaurar")}},Qs=async ps=>{try{await or(ps),yr(`${ps.length} repuestos importados correctamente`)}catch(js){throw vr("Error al importar repuestos"),js}},zo=async()=>{const ps="Eliminados de Excel Original Dic 2025",js={"3300011770":2,"3300011774":4,"3300011820":4,"3300012422":4,"3300017044":2,"3300017418":1,"3300035274":1,"3300035287":1,"3300037826":1,"3300038765":2,"3300038854":1,"3300051216":4,"3300051217":2,"3300106403":6};if(confirm(`Agregar tag "${ps}" a los 14 repuestos identificados?

Estos repuestos estn en el Excel original pero no tienen el tag "Cantidad Solicitada Dic 2025".`))try{const zs=Object.keys(js),Zs=await dr(zs,ps,"solicitud",js);Zs.addedCount>0&&yr(`Tag agregado a ${Zs.addedCount} repuestos`),Zs.errors.length>0&&vr(`No se encontraron: ${Zs.errors.join(", ")}`)}catch{vr("Error al agregar tags")}},lo=()=>{$n(!0);try{const ps={version:APP_VERSION,fecha:new Date().toISOString(),totalRepuestos:rr.length,repuestos:rr.map(xo=>({...xo,id:xo.id}))},js=new Blob([JSON.stringify(ps,null,2)],{type:"application/json"}),zs=URL.createObjectURL(js),Zs=document.createElement("a");Zs.href=zs,Zs.download=`baader200_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Zs),Zs.click(),document.body.removeChild(Zs),URL.revokeObjectURL(zs),yr(`Backup exportado: ${rr.length} repuestos`),wn(!1)}catch{vr("Error al crear backup")}finally{$n(!1)}},Qo=async ps=>{var zs;const js=(zs=ps.target.files)==null?void 0:zs[0];if(js){$n(!0);try{const Zs=await js.text(),xo=JSON.parse(Zs);if(!xo.repuestos||!Array.isArray(xo.repuestos))throw new Error("Formato de backup invlido");const fo=xo.repuestos.map(mo=>({codigoSAP:mo.codigoSAP||"",codigoBaader:mo.codigoBaader||"",textoBreve:mo.textoBreve||"",descripcion:mo.descripcion||"",nombreManual:mo.nombreManual||"",cantidadSolicitada:mo.cantidadSolicitada||0,cantidadStockBodega:mo.cantidadStockBodega||0,valorUnitario:mo.valorUnitario||0,tags:mo.tags||[],vinculosManual:mo.vinculosManual||[],imagenesManual:mo.imagenesManual||[],fotosReales:mo.fotosReales||[]}));await or(fo),yr(`Backup restaurado: ${fo.length} repuestos importados`),wn(!1)}catch{vr("Error al restaurar backup: archivo invlido")}finally{$n(!1),ps.target.value=""}}};return nr?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"spinner mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando repuestos..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors",children:[jsxRuntimeExports.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg flex items-center gap-2",children:["Baader 200",jsxRuntimeExports.jsxs("span",{className:"text-xs font-normal bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded-full",children:["v",APP_VERSION]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gestin de Repuestos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>{Sr(Ar==="pdf"?"hidden":"pdf")},icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),className:"relative",children:["Manual",Kr.isReady?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Manual precargado - apertura instantnea"}):Kr.loading?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-500 rounded-full animate-pulse",title:"Precargando manual..."}):null,Kr.isReady&&(Zr?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 right-1 w-2 h-2 bg-green-500 rounded-full",title:"Editor de marcadores listo - apertura instantnea"}):sn?jsxRuntimeExports.jsx("span",{className:"absolute -top-1 right-1 w-2 h-2 bg-yellow-500 rounded-full animate-pulse",title:"Precargando editor de marcadores..."}):null)]}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:Ro,icon:jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-4 h-4"}),children:"Excel"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:jo,icon:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),children:"PDF"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>wn(!0),icon:jsxRuntimeExports.jsx(Database,{className:"w-4 h-4"}),title:"Backup/Restore datos",children:"Backup"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>gn(!0),icon:jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"}),title:"Ver reportes y anlisis",children:"Reportes"}),jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:()=>Un(!0),icon:jsxRuntimeExports.jsx(GitCompare,{className:"w-4 h-4"}),title:"Comparar contextos/eventos",children:"Comparar"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 border-l border-gray-200 dark:border-gray-700 pl-3 ml-1",children:[jsxRuntimeExports.jsx("button",{onClick:go,disabled:!Hn,className:`p-2 rounded-lg transition-colors ${Hn?"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"}`,title:Hn?`Deshacer: ${Ls(Ws())}`:"Nada que deshacer",children:jsxRuntimeExports.jsx(Undo2,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:Oo,disabled:!Kn,className:`p-2 rounded-lg transition-colors ${Kn?"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-300 dark:text-gray-600 cursor-not-allowed"}`,title:"Rehacer",children:jsxRuntimeExports.jsx(Redo2,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>jn(!0),className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Ver registro de actividad",children:jsxRuntimeExports.jsx(History,{className:"w-5 h-5"})})]}),rr.length===0&&jsxRuntimeExports.jsx(Button,{variant:"primary",size:"sm",onClick:()=>fn(!0),icon:jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),children:"Importar"}),jsxRuntimeExports.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-700"}),jsxRuntimeExports.jsx("button",{onClick:_r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors",title:xr?"Cambiar a modo claro":"Cambiar a modo oscuro",children:xr?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[jsxRuntimeExports.jsx("span",{children:tr==null?void 0:tr.email}),jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",title:"Cerrar sesin",children:jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>Jr(!0),children:jsxRuntimeExports.jsx(Menu,{className:"w-6 h-6"})})]})}),hn&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Jr(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-xl animate-slideInRight",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Men"}),jsxRuntimeExports.jsx("button",{onClick:()=>Jr(!1),children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{Sr("pdf"),Jr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Ver Manual"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Ro(),Jr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Exportar Excel"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{jo(),Jr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"Exportar PDF"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{wn(!0),Jr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsx("span",{children:"Backup/Restore"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{gn(!0),Jr(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),jsxRuntimeExports.jsx("span",{children:"Reportes y Anlisis"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{_r()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[xr?jsxRuntimeExports.jsx(Sun,{className:"w-5 h-5 text-yellow-500"}):jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5 text-gray-500"}),jsxRuntimeExports.jsx("span",{children:xr?"Modo claro":"Modo oscuro"})]}),jsxRuntimeExports.jsx("hr",{className:"my-4 dark:border-gray-700"}),jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:tr==null?void 0:tr.email}),jsxRuntimeExports.jsxs("button",{onClick:er,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Cerrar sesin"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{In("repuestos"),Ar==="hidden"&&Sr("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${Rn==="repuestos"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),"Repuestos"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{In("stats"),Sr("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${Rn==="stats"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"}),"Estadsticas"]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex overflow-hidden",children:Rn==="stats"?jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:jsxRuntimeExports.jsx(StatsPanel,{repuestos:rr})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:`
                flex-1 min-w-0 overflow-hidden
                ${Ar!=="hidden"?"hidden md:block md:w-1/2 lg:w-3/5":"w-full"}
              `,children:jsxRuntimeExports.jsx(RepuestosTable,{repuestos:rr,selectedRepuesto:Rr,onSelect:Xs,onEdit:ao,onDelete:Ln,onViewManual:ws,onViewPhotos:As,onViewHistory:Ys,onAddNew:ro,onMarkInManual:Fs,getHistorial:lr,onManageTags:()=>yn(!0),onFilteredChange:Dn,onContextChange:Po,compactMode:Ar!=="hidden"})}),Ar!=="hidden"&&jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-l border-gray-200 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Sr("gallery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${Ar==="gallery"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(Image$1,{className:"w-4 h-4"}),"Imgenes"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Sr("pdf"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${Ar==="pdf"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Manual"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Sr("hidden"),className:"md:hidden px-3 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),Ar==="gallery"&&Rr&&jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Wr("manual"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${Dr==="manual"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Del Manual (",Rr.imagenesManual.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Wr("real"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${Dr==="real"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Fotos Reales (",Rr.fotosReales.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden",children:Ar==="gallery"?jsxRuntimeExports.jsx(ImageGallery,{repuesto:Rr,tipo:Dr,onUpload:Us,onDelete:so,onSetPrimary:Hs,onUpdateOrder:oo}):Ar==="marker-editor"&&Ur&&$r?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PDFLoadingFallback,{}),children:jsxRuntimeExports.jsx(PDFMarkerEditor,{pdfUrl:$r,repuestoId:Ur.id,repuestoDescripcion:Ur.descripcion||Ur.textoBreve,existingMarker:ks||void 0,onSave:Js,onCancel:()=>{Sr("pdf"),Br(null),Os(null)},repuestos:rr,onSelectRepuesto:ps=>{Br(ps),Cr(ps)}})}):jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(PDFLoadingFallback,{}),children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:$r,targetPage:zr,marker:Fr,onCapture:Rr?ho:void 0,onEditMarker:Rr?ps=>Fs(Rr,ps):void 0,onDeleteMarker:Rr?ps=>qs(Rr,ps.id):void 0,onAddMarker:Rr?()=>Fs(Rr):void 0,preloadedPDF:Kr.pdf,preloadedText:Kr.textContent})})})]})]})})]}),jsxRuntimeExports.jsx(RepuestoForm,{isOpen:Mr,onClose:()=>jr(!1),onSave:_o,repuesto:Tr}),jsxRuntimeExports.jsx(HistorialModal,{isOpen:!!Or,onClose:()=>Pr(null),repuesto:Or,getHistorial:lr}),jsxRuntimeExports.jsx(DeleteConfirmModal,{isOpen:!!Lr,onClose:()=>Nr(null),onConfirm:is,repuesto:Lr,loading:nn}),jsxRuntimeExports.jsx(ImportModal,{isOpen:on,onClose:()=>fn(!1),onImport:Qs}),jsxRuntimeExports.jsx(TagManagerModal,{isOpen:mn,onClose:()=>yn(!1),repuestos:rr,onRenameTag:cr,onDeleteTag:ur}),qn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>ds(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",onClick:ps=>ps.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-primary-600"}),"Exportar PDF"]}),jsxRuntimeExports.jsx("button",{onClick:()=>ds(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se exportarn ",Sn.length>0?Sn.length:rr.length," repuestos"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:os,onChange:ps=>gs(ps.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:"Incluir grficos"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Barras, circular e indicadores en el resumen"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ds(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{onClick:qo,className:"px-4 py-2 text-sm text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Exportar"]})]})]})}),Wn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Fn(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:ps=>ps.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"w-5 h-5 text-green-600"}),"Exportar Excel"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Fn(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Se exportarn ",Sn.length>0?Sn.length:rr.length," repuestos"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Formato de exportacin"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ss("simple"),className:`p-3 rounded-lg border-2 text-left transition-all ${Bn==="simple"?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Simple"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Solo datos, 1 hoja"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ss("completo"),className:`p-3 rounded-lg border-2 text-left transition-all ${Bn==="completo"?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Completo"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Estilos, mltiples hojas"})]})]})]}),Bn==="completo"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 pt-2 border-t dark:border-gray-700",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Opciones avanzadas"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ms,onChange:ps=>ls(ps.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300 dark:border-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Incluir estilos"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colores, bordes y formato condicional"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:$s,onChange:ps=>vs(ps.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300 dark:border-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Hoja de resumen"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Estadsticas y totales generales"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:kn,onChange:ps=>Qn(ps.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300 dark:border-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:'Hoja "Sin Stock"'}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lista de repuestos con stock en 0"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xa,onChange:ps=>as(ps.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300 dark:border-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:'Hoja "Por Tags"'}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Resumen agrupado por etiquetas"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex gap-3 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fn(!1),className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),jsxRuntimeExports.jsxs("button",{onClick:Lo,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Exportar Excel"]})]})]})}),An&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>wn(!1),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",onClick:ps=>ps.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-primary-600"}),"Backup / Restore"]}),jsxRuntimeExports.jsx("button",{onClick:()=>wn(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(HardDriveDownload,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-blue-800",children:"Exportar Backup"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Descarga todos los datos en formato JSON (",rr.length," repuestos)"]}),jsxRuntimeExports.jsxs("button",{onClick:lo,disabled:Nn,className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[Nn?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Descargar Backup"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(HardDriveUpload,{className:"w-8 h-8 text-amber-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-amber-800",children:"Restaurar Backup"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Importar datos desde un archivo JSON de backup"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-500 mt-1",children:" Se agregarn nuevos repuestos (no reemplaza existentes)"}),jsxRuntimeExports.jsxs("label",{className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors inline-flex items-center gap-2 cursor-pointer disabled:opacity-50",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".json",onChange:Qo,disabled:Nn,className:"hidden"}),Nn?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Seleccionar archivo"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-purple-50 rounded-xl border border-purple-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Package,{className:"w-8 h-8 text-purple-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-purple-800",children:"Marcar Eliminados Excel"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600 mt-1",children:'Agrega tag "Eliminados de Excel Original Dic 2025" a 14 repuestos que estn en la app pero no en el Excel original de solicitud'}),jsxRuntimeExports.jsxs("button",{onClick:zo,className:"mt-3 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Package,{className:"w-4 h-4"}),"Marcar 14 repuestos"]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"px-5 py-3 border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Versin actual: ",APP_VERSION,"  ",rr.length," repuestos en la base de datos"]})})]})}),jsxRuntimeExports.jsx(ReportsModal,{isOpen:Gn,onClose:()=>gn(!1),repuestos:Sn.length>0?Sn:rr}),jsxRuntimeExports.jsx(ActivityLogModal,{isOpen:_n,onClose:()=>jn(!1),onRestoreAction:no}),jsxRuntimeExports.jsx(ContextComparator,{isOpen:On,onClose:()=>Un(!1),repuestos:rr,isDarkMode:xr,onViewInManual:ps=>{Un(!1),ws(ps)}}),jsxRuntimeExports.jsx(ToastContainer,{toasts:pr,onRemove:gr})]})}function AppContent(){const{user:tr,loading:er}=useAuth();return er?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"spinner mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):tr?jsxRuntimeExports.jsx(Dashboard,{}):jsxRuntimeExports.jsx(LoginForm,{})}function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(AppContent,{})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{ChevronLeft as C,LoaderCircle as L,MapPin as M,Plus as P,Search as S,Trash2 as T,Undo2 as U,X$1 as X,ZoomIn as Z,_typeof as _,ChevronRight as a,Camera as b,createLucideIcon as c,ChevronUp as d,ChevronDown as e,Save as f,getGlobalPDFCache as g,commonjsGlobal$2 as h,getDefaultExportFromCjs as i,jsxRuntimeExports as j,pdfExports as p,reactExports as r};
